<?xml version="1.0" encoding="UTF-8" ?>
    <rss version="2.0">
    <channel>
        <title><![CDATA[ ä¸»é¡µ - åå®¢å­ ]]></title>
        <link><![CDATA[ https://www.cnblogs.com/ ]]></link>
        <lastBuildDate>2026-01-25T20:19:27.999Z</lastBuildDate>
        <description><![CDATA[
        ä¸»é¡µ - åå®¢å­ RSS
    ]]></description>
        <language>zh-cn</language>
        <item>
    <title><![CDATA[ æ·±å¥æµåºäºè§£çææ¨¡å-8ï¼çæå éç­ç¥æ¦è¿° ]]></title>
    <link>https://www.cnblogs.com/Big-Yellow/p/19530732</link>
    <guid>0727509a2095c7cd7103ac92b5a6fdff</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/Big-Yellow/p/19530732" title="åå¸äº 2026-01-25 23:16">
    <span role="heading" aria-level="2">æ·±å¥æµåºäºè§£çææ¨¡å-8ï¼çæå éç­ç¥æ¦è¿°</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        æ©æ£æ¨¡åçæå éç­ç¥ä¸»è¦åæ¬å éæ¡æ¶ä¼åãCacheç­ç¥åéåææ¯ãå éæ¡æ¶æ¹é¢ï¼å¯éè¿æå®attentionè®¡ç®åç«¯ï¼å¦flash_attnï¼ãtorch.compileç¼è¯ãtorch.channels_lastä¼ååå­è®¿é®ï¼æä½¿ç¨xFormerså éattentionè®¡ç®å¹¶éä½æ¾å­ï¼éåCPUå¸è½½ãè®¾å¤åéç­æ¾å­ä¼åæªæ½ãCacheç­ç¥å©ç¨æ©æ£è¿ç¨æ¶é´åä½ï¼å¦DeepCacheç¼å­UNeté«å±ç¹å¾ãFORAå¤ç¨DiTçAttnåMLPå±ç¹å¾ï¼FBCacheåºäºFirst Block L1è¯¯å·®å¤æ­æ¯å¦å¤ç¨æ®å·®ï¼CacheDitç»åånå±ç¼å­ä¸éå¼å¤æ­å®ç°å éãéåææ¯éè¿PTQæQATéä½æ¾å­å¹¶å éï¼å¦Bitsandbytesçå³æ¶å¯éint4/int8éåãSVDQuantåè§£æéå¸æ¶å¼å¸¸å¼åéåæ®å·®ãGGUFæ ¼å¼çç´§åç¼ç ä¸å¤ç§PTQéåçº§å«ãæµè¯æ¾ç¤ºï¼ç»åchannelä¼åãflash_attnåcache-ditç­ç­ç¥å¯ææç¼©ç­çå¾æ¶é´ã
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>åæï¼<a href="https://www.big-yellow-j.top/posts/2025/12/29/SDAcceralate.html" target="_blank" rel="noopener nofollow">https://www.big-yellow-j.top/posts/2025/12/29/SDAcceralate.html</a></p>
<h2 id="æ©æ£æ¨¡åçæå éç­ç¥">æ©æ£æ¨¡åçæå éç­ç¥</h2>
<p>Diffusionæ¨çå éçæ¹æ¡ï¼ä¸»è¦åæ¬Cacheãéåãåå¸å¼æ¨çãéæ ·å¨ä¼ååè¸é¦ç­ãä¸é¢åå®¹ä¸»è¦æ¯å»å¯¹Cacheãè®¡ç®å éæ¡æ¶ä»¥åéåææ¯è¿è¡ä»ç»</p>
<blockquote>
<p>SDæ¨¡åå éæ¹å¼ï¼<a href="https://github.com/xlite-dev/Awesome-DiT-Inference?tab=readme-ov-file#Quantization" target="_blank" rel="noopener nofollow">https://github.com/xlite-dev/Awesome-DiT-Inference?tab=readme-ov-file#Quantization</a></p>
</blockquote>
<p>ä¸è¿å¼å¾æ³¨æçæ¯å¯¹äºä¸é¢åå®¹ï¼é¦åä»ç»å éæ¡æ¶ï¼è¿é¨ååå®¹ä¸»è¦æ¯ä»ç»è¿è¡å éçä¸äºå°trickï¼ä¸»è¦æ¯ç´æ¥éè¿apiå»å éï¼ãcacheä»¥åéåä¸è¬å°±ä¼æ¶åå°ä¸äºç®æ³çåºæ¬åçãææçæµè¯ä»£ç ï¼<a href="https://github.com/shangxiaaabb/ProjectCode/blob/main/code/Python/DFModelCode/DF_acceralate/df_acceralate.ipynb" target="_blank" rel="noopener nofollow">df_acceralate.ipynb</a></p>
<h3 id="ä¸è¬å éæ¡æ¶ä»¥åæ¾å­ä¼åæªæ½">ä¸è¬å éæ¡æ¶ä»¥åæ¾å­ä¼åæªæ½</h3>
<p>è¿é¨ååå®¹çè¯æ¯è¾æï¼ç´æ¥æ»ç»<a href="https://huggingface.co/docs/diffusers/optimization/fp16#scaled-dot-product-attention" target="_blank" rel="noopener nofollow">huggingface</a>åå®¹ï¼ï¼1ã<strong>ç´æ¥ä½¿ç¨attnè®¡ç®å éåç«¯</strong>ï¼æ¯å¦è¯´ä¸è¬å°±æ¯ç´æ¥ä½¿ç¨æ¯å¦è¯´<code>flash_attn</code>è¿è¡attentionè®¡ç®å éï¼æ¯å¦è¯´ï¼</p>
<pre><code class="language-python">pipeline.transformer.set_attention_backend("_flash_3_hub") # å¯ç¨flash attnè®¡ç®å é
pipeline.transformer.reset_attention_backend()             # å³é­flash attnè®¡ç®å é
</code></pre>
<p>ä¸è¿å¼å¾æ³¨æçæ¯<code>_flash_3_hub</code> åªæ¯æéhopperæ¶æï¼å æ­¤å¯ä»¥ç´æ¥å°±ä½¿ç¨<code>set_attention_backend("flash")</code>ã2ã<strong>ç´æ¥ä½¿ç¨</strong><code>torch.compile</code>è¿è¡å éï¼ä¸è¿å¼å¾æ³¨æçæ¯<strong>å¨å¼å§ä½¿ç¨è¿ç¨ä¸­ä¼æ¯è¾æ¢</strong>ï¼å ä¸ºå¨æ§è¡æ¶ï¼å®ä¼å°æ¨¡åç¼è¯ä¸ºä¼åçåæ ¸ï¼æä»¥ç¸å¯¹ä¼æ¯è¾æ¢ï¼ä½æ¯å¦æå¯¹ç¼è¯åæ¨¡åè¿è¡æ¹éæµè¯å¨æ¶é´ä¸å°±ä¼æææåæ¯å¦è¯´å¨ä»£ç <a href="https://github.com/shangxiaaabb/ProjectCode/blob/main/code/Python/DFModelCode/DF_acceralate/df_acceralate.ipynb" target="_blank" rel="noopener nofollow">df_acceralate.ipynb</a>ä¸­æµè¯ç»æä½¿ç¨compileå¨z-imageä¸çæ5å¼ å¾çèæ¶ï¼86.49sï¼<strong>å¹³åçå¾æ¶é´</strong>4sï¼ä¸ä½¿ç¨compileï¼29.92ï¼<strong>å¹³åçå¾æ¶é´</strong>5sï¼ï¼3ãä½¿ç¨<code>torch.channels_last</code>å»ä¼åæ°æ®ç»æï¼<a href="https://docs.pytorch.org/tutorials/intermediate/memory_format_tutorial.html#performance-gains" target="_blank" rel="noopener nofollow">torchææ¡£</a>ï¼ï¼æä¸»è¦çä¸ç¹æ¯éè¿channel_lastè®© GPU å¨è®¡ç®å·ç§¯ / attention æ¶ï¼åå­è®¿é®æ´è¿ç»­ï¼æ¯å¦è¯´ä¸è¬æ°æ®çè¾å¥æ¯NCHWé£ä¹å¨åå­è®¿é®ä¸­æ ¼å¼æ¯ï¼<code>N0C0H0W0, N0C0H0W1, ..., N0C0H1W0, ...</code>è¿ä¸ªéé¢ééCååææ¢ï¼ä½¿ç¨channel_listæ°æ®æ ¼å¼åä¸ºNHWCå¨åå­ä¸­è®¿é®é¡ºåºæ¯ï¼<code>N0H0W0C0, N0H0W0C1, N0H0W0C2, ...</code>å¼å¾æ³¨æçæ¯ä¸¤é¨åæ°æ®å¨shapeä¸æ¯ä¸è´çåªæ¯stridä¸ä¸è´ãä½¿ç¨æ¹å¼ä¹æ¯è¾ç®åï¼</p>
<pre><code class="language-python"># ä¿®æ¹æ¨¡å
model = model.to(memory_format=torch.channels_last)
# ä¿®æ¹è¾å¥
input = input.to(memory_format=torch.channels_last)
output = model(input)
...
pipeline.unet.to(memory_format=torch.channels_last)
</code></pre>
<h4 id="1xformerså é">1ãxFormerså é</h4>
<blockquote>
<p>é¡¹ç®å°åï¼<a href="https://github.com/facebookresearch/xformers" target="_blank" rel="noopener nofollow">https://github.com/facebookresearch/xformers</a></p>
</blockquote>
<p>å¨SDæ¨¡åä¸­å¯¹äºxformersåºæ¬ä½¿ç¨æ¹å¼å¦ä¸æç¤ºï¼</p>
<pre><code class="language-python">import torch
from diffusers import StableDiffusionXLPipeline

pipeline = StableDiffusionXLPipeline.from_pretrained(
    "stabilityai/stable-diffusion-xl-base-1.0",
    torch_dtype=torch.float16,
).to("cuda")
# ä½¿ç¨xformerå é
pipeline.enable_xformers_memory_efficient_attention()
# å³é­xformerå é
pipeline.disable_xformers_memory_efficient_attention()
</code></pre>
<p>xformersä½ç¨å¨äº<strong>å éattentionè®¡ç®å¹¶éä½æ¾å­</strong>ï¼é¤æ­¤ä¹å¤è¿æä¾äºå¤ç§æ³¨æåå®ç°æ¹å¼ï¼å¦casual attentionç­ãæ ¹æ®<a href="https://facebookresearch.github.io/xformers/components/ops.html#xformers.ops.fmha.cutlass.FwOp" target="_blank" rel="noopener nofollow">å®æ¹ææ¡£</a>ä¸­çæè¿°ï¼å¯¹äºå¯¹äº<code>xformers.ops.memory_efficient_attention</code>å¨ä½¿ç¨ä¸åæ°ä¸»è¦æ¯ï¼1ãè¾å¥æ°æ®ä¹å°±æ¯QKVçæ ¼å¼ä¸å¿é¡»æ»¡è¶³ä¸ºï¼<code>[B, M, H, K]</code>åå«è¡¨ç¤ºçæ¯å¶ä¸­B ä¸ºbatch size, Nä¸ºåºåé¿åº¦, num_headsä¸ºå¤å¤´æ³¨æåå¤´çä¸ªæ°, dim_headåä¸ºæ¯ä¸ªå¤´å¯¹åºçembeding sizeï¼2ãattn_biaså®éä¸åå½ä¸ºå¨ä½¿ç¨mask attentionæ¶çmaskï¼3ãpä¹å°±æ¯dropoutå¯¹åºå¼ï¼4ãopä¸ºTupleï¼ç¨äºæå®ä¼åself-attentionè®¡ç®æéç¨çç®å­ãåºæ¬ä½¿ç¨æ¹å¼å¦ä¸ï¼</p>
<pre><code class="language-python">import xformers.ops as xops
y = xops.memory_efficient_attention(q, k, v)
y = xops.memory_efficient_attention(q, k, v, p=0.2) # ä½¿ç¨dropout
y = xops.memory_efficient_attention(
    q, k, v,
    attn_bias=xops.LowerTriangularMask()
)# ä½¿ç¨casual æ³¨æå
</code></pre>
<p>å¼å¾çéäºè§£çå°±æ¯å¶ä¸­<code>attn_bias</code>åæ°ï¼ç®åç´è§ççè§£ï¼ç¨äºæ§å¶æ³¨æåå¯è§æ§åç»æçç»ä¸æ¥å£ï¼<strong>æ¢å¯ä»¥è¡¨ç¤º maskï¼ä¹å¯ä»¥è¡¨ç¤ºç¨ç/å±é¨/å æç­é«çº§æ³¨æåæ¨¡å¼</strong>ï¼å¹¶ä¸ä»¥é«æ§è½æ¹å¼èå¥ attention åæ ¸ãæ¯å¦è¯´ï¼<br>
1ã<code>xops.LowerTriangularMask()</code>ï¼å¸¸è§çcausalæ³¨æåä¹å°±æ¯ä¸ä¸è§mask<br>
2ã<code>xops.LocalAttentionFromBottomRightMask</code>ï¼å±é¨æ³¨æåï¼æ¯ä¸ªtokenåªè½çæè¿çwindow_sizeä¸ªtoken</p>
<h4 id="2æ¾å­ä¼å">2ãæ¾å­ä¼å</h4>
<blockquote>
<p>è¿é¨ååå®¹ç´æ¥æ»ç»ï¼<a href="https://huggingface.co/docs/diffusers/en/optimization/memory?device-map=pipeline+level#reduce-memory-usage" target="_blank" rel="noopener nofollow">https://huggingface.co/docs/diffusers/en/optimization/memory?device-map=pipeline+level#reduce-memory-usage</a></p>
</blockquote>
<p>å¯¹äºæ¨¡åçæ¾å­è¿å¤§å¯ä»¥èèæ ¹æ®èªèº«çè®¾å¤è¿è¡åéï¼æ¯å¦è¯´å°æ¨¡åå¸è½½å°CPUæèå°VAEç­æ¾å°å¶å®æ¾å¡ä¸ï¼å¨diffuserså°±æä¾äºè¿äºæ¹æ³ï¼è¿ååå®¹ç´æ¥é®AIè¿è¡æ»ç»ï¼ï¼<br>
<strong>1ãCPUå¸è½½</strong><br>
å®å¯ç¨äºä¸ç§æè´çº§å«çéå±ï¼leaf-level / sequentialï¼CPU offloadingæºå¶ï¼æ ¸å¿æè·¯æ¯ï¼ææ¨¡åçè®¡ç®å¾ä¸­<strong>æåºå±çåæ°ï¼leaf modulesï¼å³æç»ç²åº¦çå­æ¨¡åãå±ææéåï¼é»è®¤æ¾å¨ CPU åå­éå­å¨</strong>ãå¨ååä¼ æ­ï¼forward passï¼è¿ç¨ä¸­ï¼åªå¨çæ­£éè¦è®¡ç®æä¸ªå·ä½å±çæ¶åï¼ææé£ä¸å°ååæ°ä¸´æ¶ä» CPU æ·è´ï¼onloadï¼å° GPUãè®¡ç®å®è¿å±ä¹åï¼ç«å»æè¿ååæ°å offload å CPUï¼éæ¾ GPU æ¾å­ãç¶ååå è½½ä¸ä¸å±ï¼ä»¥æ­¤ç±»æ¨ï¼ä¸å±ä¸å±é¡ºåºæ§è¡ï¼sequentialï¼ã<br>
<img src="https://img2024.cnblogs.com/blog/3395559/202601/3395559-20260125231602481-1040500181.webp" alt="" loading="lazy"><br>
<strong>2ãè®¾å¤åé</strong><br>
è¿é¨åä¸»è¦æ¯å°çææ¨¡åä¸­ä¸åæ¨¡åç»æå¦VAEãCLIPå»åéå°å¶å®æ¾å¡ä¸ï¼</p>
<pre><code class="language-python">import torch
from diffusers import AutoModel, StableDiffusionXLPipeline
pipeline = StableDiffusionXLPipeline.from_pretrained(
    "stabilityai/stable-diffusion-xl-base-1.0",
    torch_dtype=torch.float16,
    device_map="balanced" # ä½¿ç¨balanceå°±å¯ä»¥å®ç°ä¸åè®¾å¤åé
)
print(pipeline.hf_device_map)
{'unet': 1, 'vae': 1, 'safety_checker': 0, 'text_encoder': 0}
</code></pre>
<p>äº¦æèç´æ¥èªå·±å®åéï¼</p>
<pre><code class="language-python">import torch
from diffusers import AutoModel
device_map = {
    'pos_embed': 0, 'time_text_embed': 0, 'context_embedder': 0, 'x_embedder': 0, 'transformer_blocks': 0, 'single_transformer_blocks.0': 0, 'single_transformer_blocks.1': 0, 'single_transformer_blocks.2': 0, 'single_transformer_blocks.3': 0, 'single_transformer_blocks.4': 0, 'single_transformer_blocks.5': 0, 'single_transformer_blocks.6': 0, 'single_transformer_blocks.7': 0, 'single_transformer_blocks.8': 0, 'single_transformer_blocks.9': 0, 'single_transformer_blocks.10': 1, 'single_transformer_blocks.11': 1, 'single_transformer_blocks.12': 1, 'single_transformer_blocks.13': 1, 'single_transformer_blocks.14': 1, 'single_transformer_blocks.15': 1, 'single_transformer_blocks.16': 1, 'single_transformer_blocks.17': 1, 'single_transformer_blocks.18': 1, 'single_transformer_blocks.19': 1, 'single_transformer_blocks.20': 1, 'single_transformer_blocks.21': 'cpu', 'single_transformer_blocks.22': 'cpu', 'single_transformer_blocks.23': 'cpu', 'single_transformer_blocks.24': 'cpu', 'single_transformer_blocks.25': 'cpu', 'single_transformer_blocks.26': 'cpu', 'single_transformer_blocks.27': 'cpu', 'single_transformer_blocks.28': 'cpu', 'single_transformer_blocks.29': 'cpu', 'single_transformer_blocks.30': 'cpu', 'single_transformer_blocks.31': 'cpu', 'single_transformer_blocks.32': 'cpu', 'single_transformer_blocks.33': 'cpu', 'single_transformer_blocks.34': 'cpu', 'single_transformer_blocks.35': 'cpu', 'single_transformer_blocks.36': 'cpu', 'single_transformer_blocks.37': 'cpu', 'norm_out': 'cpu', 'proj_out': 'cpu'
}
transformer = AutoModel.from_pretrained(
    "black-forest-labs/FLUX.1-dev", 
    subfolder="transformer",
    device_map=device_map,
    torch_dtype=torch.bfloat16
)
</code></pre>
<h3 id="cacheç­ç¥æ¦è¿°">cacheç­ç¥æ¦è¿°</h3>
<p>cacheæçæ¯ï¼<strong>ç¼å­éè¿å­å¨åéç¨ä¸åå±ï¼ä¾å¦æ³¨æåå±ååé¦å±ï¼çä¸­é´è¾åºæ¥å éæ¨çï¼èä¸æ¯å¨æ¯ä¸ªæ¨çæ­¥éª¤æ§è¡æ´ä¸ªè®¡ç®</strong>ãå®ä»¥æ´å¤åå­ä¸ºä»£ä»·æ¾çæé«äºçæéåº¦ï¼å¹¶ä¸ä¸éè¦é¢å¤çè®­ç»ãä¸»è¦è¯¦ç»ä»ç»ä¸¤ç§ï¼1ãDeepCacheï¼2ãFORAãå¯¹äºæ´å å¤çcacheç­ç¥å¯ä»¥ç<a href="https://zhuanlan.zhihu.com/p/711223667" target="_blank" rel="noopener nofollow">ç¥ä¹</a>ï¼<strong>æ¨èç´æ¥ä½¿ç¨</strong><a href="#cachedit" rel="noopener nofollow">CacheDit</a>æ¥è¿è¡å éã</p>
<h4 id="deepcacheç­ç¥">DeepCacheç­ç¥</h4>
<blockquote>
<p>Paper:<a href="https://arxiv.org/pdf/2312.00858" target="_blank" rel="noopener nofollow">https://arxiv.org/pdf/2312.00858</a><br>
Code:<a href="https://link.zhihu.com/?target=https%3A//github.com/horseee/DeepCache" target="_blank" rel="noopener nofollow">https://link.zhihu.com/?target=https%3A//github.com/horseee/DeepCache</a></p>
</blockquote>
<p><strong>ä¸»è¦éå¯¹UNetæ¶æ</strong>çDiffusionæ¨¡åè¿è¡æ¨çå éãDeepCache æ¯ä¸ç§Training-freeçæ©æ£æ¨¡åå éç®æ³ï¼æ ¸å¿ææ³æ¯<strong>å©ç¨æ©æ£æ¨¡ååºåå»åªæ­¥éª¤ä¸­åºæçæ¶é´åä½æ¥åå°è®¡ç®å¼é</strong>ã<br>
<img src="https://img2024.cnblogs.com/blog/3395559/202601/3395559-20260125231603400-1714104454.webp" alt="" loading="lazy"><br>
åºäº U-Net ç»æç¹æ§ï¼åç°ç¸é»å»åªæ­¥éª¤çé«å±ç¹å¾å·ææ¾èæ¶é´ä¸è´æ§ï¼Adjacent steps in the denoising process exhibit significant temporal similarity in high-level features.ï¼ï¼æ¯å¦è¯´ä¸å¾ä¸­ä½èå¨æµè¯ä¸éç¨block <span class="math inline">\(U_2\)</span>çç¹å¾åå¶å®ææçéæ ·æ­¥ä¹é´ç¸ä¼¼æ§è®¡ç®ï¼å¾bï¼ï¼å æ­¤ç¼å­è¿äºé«å±ç¹å¾å¹¶ä»ä»¥ä½ææ¬æ´æ°ä½å±ç¹å¾ï¼ä»èé¿åéå¤è®¡ç®ãå·ä½æ¹æ³ä¸ºï¼<br>
<img src="https://img2024.cnblogs.com/blog/3395559/202601/3395559-20260125231602316-18977204.webp" alt="" loading="lazy"><br>
æ¯å¦è¯´å¨å®æ¹çä½¿ç¨ä¸­æåæ°ï¼<code>helper.set_params(cache_interval=3,cache_branch_id=0,)</code>è¡¨ç¤ºæ¯æ¯3ä¸ªæ¶é´æ­¥è¿è¡ä¸æ¬¡å®æforwardç¶åå·æ°cacheï¼èå¶ä¸­åæ°cache_branch_idå¼å¾æ¯ä¸è¬èè¨å¨UNetä¸­ä¼å®ä¹<code>branch 0 â early / down blocks</code>ç­å°±æ¯éæ©åªäºå±çè¾åºãå·ä½è¿ç¨å¦ä¸ï¼t=1è¿è¡è®¡ç®ç¼å­ï¼t=2,3é½ç´æ¥ä½¿ç¨ç¼å­ï¼t=4å®æ´è®¡ç®å¾å°ç¼å­ã</p>
<h4 id="fora">FORA</h4>
<blockquote>
<p>Paper: <a href="https://arxiv.org/pdf/2407.01425" target="_blank" rel="noopener nofollow">https://arxiv.org/pdf/2407.01425</a><br>
Code: <a href="https://github.com/prathebaselva/FORA" target="_blank" rel="noopener nofollow">https://github.com/prathebaselva/FORA</a></p>
</blockquote>
<p><strong>ä¸»è¦æ¯äºå¯¹Ditæ¶æ</strong>çDiffusionæ¨¡åè¿è¡æ¨çå éãå©ç¨ Diffusion Transformer æ©æ£è¿ç¨çéå¤ç¹æ§å®ç°äºå¯ç¨äºDiTçTraining-freeçCacheå éç®æ³ã<br>
<img src="https://img2024.cnblogs.com/blog/3395559/202601/3395559-20260125231602779-569782593.webp" alt="" loading="lazy"><br>
FORAçæ ¸å¿å¨äºåç°Ditå¨å»åªè¿ç¨ä¸­ï¼<strong>ç¸é»æ¶é´æ­¥çAttnåMLPå±ç¹å¾å­å¨æ¾èéå¤æ§</strong>ï¼å¦ä¸å¾æç¤º:å¨layer0ã9ã18ã27è¿äºå±ä»¥å250æ­¥éæ ·ä¸­ï¼éåéæ ·æ­¥çº¦å¾åç¹å¾ä¹é´ç¸ä¼¼æ§ä¹å°±è¶é«ãï¼ãéè¿Cachingç¹å¾ï¼FORA å°è¿äºéå¤è®¡ç®çä¸­é´ç¹å¾ä¿å­å¹¶å¨åç»­æ¶é´æ­¥ç´æ¥å¤ç¨ï¼é¿åéæ­¥éæ°è®¡ç®ã<br>
<img src="https://img2024.cnblogs.com/blog/3395559/202601/3395559-20260125231603384-1139937541.webp" alt="" loading="lazy"><br>
å·ä½èè¨ï¼æ¨¡åä»¥åºå®é´é N éæ°è®¡ç®å¹¶ç¼å­ç¹å¾ï¼å½æ¶é´æ­¥ t æ»¡è¶³ t mod N=0 æ¶ï¼æ´æ°ææå±çç¼å­ï¼å¨åç»­ N-1 æ­¥ä¸­ï¼ç´æ¥æ£ç´¢cachedç Attn å MLP ç¹å¾ï¼è·³è¿éå¤è®¡ç®ãè¿ç§ç­ç¥å©ç¨äº DiT æ¶æå¨é»è¿æ¶é´æ¶é´æ­¥çç¹å¾ç¸ä¼¼æ§ï¼å¨ä¸ä¿®æ¹DiTæ¨¡åç»æçåæä¸å®ç°å éãä¾å¦ï¼å¨ 250 æ­¥ DDIM éæ ·ä¸­ï¼å½ N=3 æ¶ï¼æ¨¡åä»éå¨ç¬¬ 3ã6ã9... æ­¥éæ°è®¡ç®ç¹å¾ï¼å¶ä½æ­¥éª¤å¤ç¨Cacheï¼ä½¿è®¡ç®éåå°çº¦ 2/3ãå®éªè¡¨æï¼FORAå¯¹åæå»åªé¶æ®µçç¹å¾ç¸ä¼¼æ§å©ç¨æ´ä¸ºé«æï¼æ­¤æ¶ç¹å¾ååç¼æ¢ï¼ç¼å­å¤ç¨çæ§ä»·æ¯æé«ã</p>
<h4 id="fbcache">FBCache</h4>
<blockquote>
<p>é¡¹ç®å°åï¼<a href="https://github.com/chengzeyi/ParaAttention/blob/main/doc/fastest_flux.md" target="_blank" rel="noopener nofollow">https://github.com/chengzeyi/ParaAttention/blob/main/doc/fastest_flux.md</a></p>
</blockquote>
<p>éè¿ç¼å­åæ¢å¨æ¨¡åä¸­åæ¢å¨åçè¾åºï¼å¹¶å¨ä¸ä¸æ­¥æ¨çä¸­éæ°ä½¿ç¨å®ä»¬ï¼å¯ä»¥éä½è®¡ç®ææ¬ï¼å å¿«æ¨çéåº¦ãç¶èï¼å¾é¾å³å®ä½æ¶éæ°ä½¿ç¨ç¼å­ä»¥ç¡®ä¿çæå¾åçè´¨éãæè¿ï¼TeaCache æåºï¼å¯ä»¥ä½¿ç¨æ¶é´æ­¥åµå¥æ¥è¿ä¼¼æ¨¡åè¾åºä¹é´çå·®å¼ãAdaCache ä¹è¡¨æï¼å¨å¤ä¸ªå¾ååè§é¢ DiT åºçº¿ä¸­ï¼<strong>ç¼å­å¯ä»¥å¨ä¸çºç²çæè´¨éçæåµä¸æ¾èæé«æ¨çéåº¦</strong>ãä¸è¿ï¼TeaCache ä»ç¶æç¹å¤æï¼å ä¸ºå®éè¦éæ°ç¼©æ¾ç­ç¥æ¥ç¡®ä¿ç¼å­çåç¡®æ§ãå¨ ParaAttention ä¸­ï¼<strong>åç°å¯ä»¥ç´æ¥ä½¿ç¨ç¬¬ä¸ä¸ªtransformerè¾åºçæ®å·®æ¥è¿ä¼¼æ¨¡åè¾åºä¹é´çå·®å¼ãå½å·®å¼è¶³å¤å°æ¶ï¼æä»¬å¯ä»¥éå¤ä½¿ç¨ä¹åæ¨çæ­¥éª¤çæ®å·®</strong>ï¼è¿æå³çæä»¬å®éä¸è·³è¿äºå»åªæ­¥éª¤ãæä»¬çå®éªè¯æäºè¿ä¸æ¹æ³çæææ§ï¼æä»¬å¯ä»¥å¨ FLUX.1-dev æ¨çä¸å®ç°é«è¾¾ 1.5 åçéåº¦ï¼èä¸è´¨ééå¸¸å¥½<sup class="footnote-ref"><a href="#fn1" id="fnref1" rel="noopener nofollow">[1]</a></sup>ã<br>
ç®åæ¥è¯´å°±æ¯ä¸é¢æå°çDeepCache/FORAå¨ä½¿ç¨ä¸å¤ªç²ç³ç´æ¥éè¿åºå®æ¶é´æ­¥å»cacheç¼å­è¿æ ·å¿½è§è¾åºå·®å¼çéååæ§ï¼å æ­¤åç»­çTeaCacheåç°æ¨¡åè¾å¥ä¸è¾åºçå¼ºç¸å³æ§ï¼éè¿Timestep Emebddingï¼è¾å¥ï¼æ¥ä¼°è®¡è¾åºå·®å¼ãèåFBCacheååäºæ°çæ¹è¿ï¼<br>
<img src="https://img2024.cnblogs.com/blog/3395559/202601/3395559-20260125231602704-899465973.webp" alt="" loading="lazy"><br>
å©ç¨residual cacheå®ç°äºä¸ä¸ªåºäºFirst Block L1è¯¯å·®çCacheæ¹æ¡ï¼è¯¯å·®å°äºæå®éå¼ï¼å°±è·³è¿å½åæ­¥è®¡ç®ï¼å¤ç¨residual cacheï¼å¯¹å½åæ­¥çè¾åºè¿è¡ä¼°è®¡ã</p>
<h4 id="cachedit">CacheDit</h4>
<p><a href="https://github.com/vipshop/cache-dit" target="_blank" rel="noopener nofollow">cache-dit</a>è¿ä¸ªæ¡æ¶ä¸»è¦æ¯éç¨äºDitç»æçæ©æ£æ¨¡åä½¿ç¨ï¼å¶å·ä½<a href="https://cache-dit.readthedocs.io/en/latest/user_guide/DBCACHE_DESIGN/" target="_blank" rel="noopener nofollow">æ¨¡åæ¡æ¶</a>å¦ä¸ï¼<br>
<img src="https://img2024.cnblogs.com/blog/3395559/202601/3395559-20260125231603414-1076713638.webp" alt="" loading="lazy"><br>
å¯¹äºä¸è¿°æ¡æ¶é¦åäºè§£CacheDitä¸­å ä¸ªæ¦å¿µï¼1ã<code>Fn</code>ï¼è¡¨ç¤ºéè¦è®¡ç®ånå±transformer blockå¨æ¶é´æ­¥tå¹¶ä¸è¯¦ç»è§£éä¸ä¸CacheDitåçï¼2ã<code>Bn</code>:è¡¨ç¤ºè¿ä¸æ­¥çèåånå±transformer blockçä¿¡æ¯å»å¼ºåé¢æµåç¡®æ§ãå¶ä¸­n=1æ¶åå°±æ¯FBCacheã<br>
å æ­¤å¯¹äºCacheDitå·ä½è¿ç¨ä¸ºï¼<strong>å¨t-1æ­¥æ¶å</strong>ï¼ånåblockå»è®¡ç®ä»ä»¬çç»æå¾å°è¾åºç»æhidden stateå¹¶ä¸åå¥ç¼å­ä¸­<span class="math inline">\(C_{t-1}\)</span>ï¼èååå å±è¿è¡å®æ´ç»ç®ã<strong>å¨tæ­¥æ¶å</strong>ï¼ånåblockä¸å®æ´è®¡ç®ï¼èæ¯ç´æ¥å¤ç¨/è¿ä¼¼ t-1 æ­¥çç¼å­<span class="math inline">\(C_{t-1}\)</span>å¾å°è¿ä¼¼çç»æï¼è®¡ç®è¿ä¼¼ç»æåç¼å­ç»æä¸­å·®å¼ï¼L1 èæ°ï¼ï¼å¦æå·®å¼å°äºéå¼ç´æ¥å¤ç¨ç¼å­è¾å¥å°åç»­çåä¸­è®¡ç®ï¼åä¹å°±éæ°è®¡ç®è¿nåç»æã<br>
å¶ä¸­å·ä½ä½¿ç¨å¦ä¸ï¼<a href="https://github.com/shangxiaaabb/ProjectCode/blob/main/code/Python/DFModelCode/DF_acceralate/df_acceralate.ipynb" target="_blank" rel="noopener nofollow">df_acceralate.ipynb</a></p>
<h3 id="éåææ¯æ¦è¿°">éåææ¯æ¦è¿°</h3>
<p><a href="https://www.big-yellow-j.top/posts/2025/10/11/Quantized.html" target="_blank" rel="noopener nofollow">éåææ¯</a>æ¯ä¸ç§æ¨¡ååç¼©çå¸¸è§æ¹æ³ï¼å°æ¨¡åæéä»é«ç²¾åº¦ï¼å¦FP16æFP32ï¼éåä¸ºä½æ¯ç¹ä½ï¼å¦INT8ãINT4ï¼å»å®ç°<strong>éä½æ¾å­+çæå é</strong>ãéåè¿ç¨çåºæ¬èå¼ï¼éåè¿ç¨ï¼<span class="math inline">\(Q=\frac{W}{S}\)</span>å¶ä¸­ <span class="math inline">\(S\)</span>è¡¨ç¤ºscaleï¼åéåè¿ç¨ï¼<span class="math inline">\(\hat{w}=QS\)</span>ï¼å æ­¤å¯¹äºéååªéè¦ä¿å­ï¼1ãéååæéï¼2ãscaleå¼ï¼ä¸åéåæ¨¡åè®¡ç®æ¹å¼ä¸åï¼ãæ¯å¦è¯´ï¼å¯¹ç§°éåè¿ç¨ï¼å¯¹äºï¼<code>1.21, -1.13, 0.22, 0.83, 2.11, -1.53, 0.79	-0.54, 0.84</code>å¶ä¸­æå¤§å¼ä¸º2.11é£ä¹å¯ä»¥è®¡ç®åºç¼©æ¾ç³»æ°ä¸ºï¼<span class="math inline">\(\frac{2.11}{127}=0.01661417\)</span>ï¼127ä»£è¡¨int8æ°å¼èå´-127ï¼127ï¼é£ä¹å¯ä»¥å¯¹æ°æ®ç¼©æ¾ï¼éåï¼å¾å°ï¼<code>72, -69, 13, 49, 127, -93, 47, -33, 50</code>åéåå¯ä»¥å¾å°ï¼<code>1.19622024,....</code>ï¼ç´æ¥ä¹scaleå³å¯ï¼å·ä½è®¡ç®æ°å­ä¹é´å·®å¼ï¼é½æ¯å­å¨è¯¯å·®çã<br>
å¸¸è§çéåç­ç¥å¯ä»¥åä¸ºPTQåQATä¸¤å¤§ç±»ãéåæç¥è®­ç»ï¼Quantization-Aware Trainingï¼ï¼å¨<strong>æ¨¡åè®­ç»è¿ç¨ä¸­è¿è¡éå</strong>ï¼ä¸è¬ææä¼æ´å¥½ä¸äºï¼ä½éè¦é¢å¤è®­ç»æ°æ®åå¤§éè®¡ç®èµæºæ¯å¦è¯´qloraãåéåï¼PTQï¼ï¼å¨<strong>æ¨¡åè®­ç»å®æåï¼å¯¹æ¨¡åè¿è¡éå</strong>ï¼æ ééæ°è®­ç»ãå¯¹äºçº¿æ§éåä¸ï¼æµ®ç¹æ°ä¸å®ç¹æ°ä¹é´çè½¬æ¢å¬å¼å¦ä¸ï¼<span class="math inline">\(Q=\frac{R}{S}+Z;R=(Q-Z)*S\)</span>ï¼å¶ä¸­R è¡¨ç¤ºéååçæµ®ç¹æ°ãQ è¡¨ç¤ºéååçå®ç¹æ°ãSï¼Scaleï¼è¡¨ç¤ºç¼©æ¾å å­çæ°å¼ãZï¼Zeroï¼è¡¨ç¤ºé¶ç¹çæ°å¼ãé¤æ­¤ä¹å¤è¿ä¼å¬å°å ä¸ªæ¦å¿µï¼<strong>1ãå¯¹ç§°éå</strong>ï¼å¯¹ç§°éåçæ ¸å¿ææ³æ¯å°æµ®ç¹æ°éåä¸ºæ´æ°ï¼ä¸éååçåå¸æ¯å³äºé¶å¯¹ç§°çï¼<strong>2ãéå¯¹ç§°éå</strong>ï¼æ¯ä¸ç§ç¨äºå°æµ®ç¹æ°è½¬æ¢ä¸ºæ´æ°è¡¨ç¤ºçéåæ¹æ³ãä¸å¯¹ç§°éåä¸åçæ¯ï¼è¿ç§æ¹æ³å¨æ°æ®å·æåç§»ï¼å³éå¯¹ç§°åå¸ï¼æ¶æ´ææï¼å ä¸ºå®å¯ä»¥åå°éåè¯¯å·®ãéå¯¹ç§°éåä¼åå«æ¾åºæµ®ç¹æ°çæå°å¼åæå¤§å¼ï¼åå«éåå°ç®æ æ´æ°èå´çæå°å¼åæå¤§å¼ï¼ååå©ç¨éååçæ´æ°èå´ãè¿å¯ä»¥ä½¿ç¨ä¸ä¸ªç¼©æ¾å å­ï¼scaleï¼ååç§»éï¼zero-pointï¼æ¥å®ç°<sup class="footnote-ref"><a href="#fn2" id="fnref2" rel="noopener nofollow">[2]</a></sup>ã<br>
æ¯å¦è¯´å¨LLMä¸­å¸¸ç¨çä¸¤ç§<strong>åéåææ¯</strong>ï¼1ã<strong>GPTQéåææ¯</strong>ï¼éè¿éåââè¡¥å¿ââéåè¿­ä»£æ¹æ³ï¼é¦åéå<span class="math inline">\(W_{:,j}\)</span>ï¼èåå»è®¡ç®è¯¯å·®å¹¶ä¸è¡¥åå° <span class="math inline">\(W_{:,j:(i+B)}\)</span>èåè¿è¡è¿­ä»£å®ç°ææåæ°çéåï¼2ã<strong>AWQéåææ¯</strong>ï¼æ¨¡åè®¡ç®è¿ç¨ä¸­åªæå³é®åæ°èµ·ä½ç¨å æ­¤å¯¹äºå³é®åæ°ä¿æåæ¥çç²¾åº¦(FP16)ï¼å¯¹å¶ä»æéè¿è¡ä½æ¯ç¹éåï¼ä½æ¯è¿æ ·ä¸åè¿åº¦åæ°ä¼å¯¼è´ç¡¬ä»¶é®é¢ï¼å æ­¤å¨AWQä¸­<strong>å¯¹æææéåè¿è¡ä½æ¯ç¹éåï¼ä½æ¯ï¼å¨éåæ¶ï¼å¯¹äºæ¾èæéä¹ä»¥è¾å¤§çscaleï¼ç¸å½äºéä½å¶éåè¯¯å·®ï¼åæ¶ï¼å¯¹äºéæ¾èæéï¼ä¹ä»¥è¾å°çscaleï¼ç¸å½äºç»äºæ´å°çå³æ³¨ã</strong></p>
<blockquote>
<p>è¡¥åä¸ä¸ªå°ç¥è¯ï¼ä¸è¬éåçå°æ¯è¾å¤å°±æ¯W4A4è¿ä¸ªä¸è¬æçå°±æ¯æéåæ¿æ´»ç4bitéåï¼å¶ä¸­æéä¸è¬å°±æ¯<strong>å¯¹åºè¯¥å±çæ¨¡åæé</strong>ï¼æ¿æ´»å°±æ¯<strong>å¯¹åºè¯¥å±çè¾å¥</strong></p>
</blockquote>
<h4 id="bitsandbytes-éå">Bitsandbytes éå</h4>
<p>éè¿ä½¿ç¨bitsandbyteséåæ¥å®ç°8-bitï¼int8ï¼æè4-bitï¼int4ãQloraä¸­ä¸è¬å°±ä¼ä½¿ç¨ï¼éåï¼ä¸è¿åºå«ä¸é¢æå°çAWQä»¥åGPTQéåï¼bitsandbytesä¸éè¦å¯¹æ¨¡åè¿è¡è®­ç»ï¼AWQãGPTQå¯è½éè¦è¾å¥æ°æ®ç¶åè®¡ç®è¯¯å·®è¿è¡éåï¼ï¼åèéè¦éè¿æ°æ®æ¥ä¿è¯éåç²¾åº¦ï¼éåè¿ç¨æ¯ç¦»çº¿ãä¸æ¬¡æ§è¿ç¨ï¼ï¼åèéåè¿ç¨æ¯å³æ¶çå¯éçãå¶ææ¯åçå¦ä¸ï¼<span class="math inline">\(wâs q\)</span>å¶ä¸­wè¡¨ç¤ºåå§çFP16æéï¼qä»£è¡¨int4/int8æéï¼sç¼©æ¾å å­ï¼å¶éåè¿ç¨ä¸ºå¯¹æ¯ä¸ä¸ªblockæéè®¡ç®ï¼<span class="math inline">\(\max(\text{abs}(w))\)</span>èåå»è®¡ç®scaleï¼<span class="math inline">\(s=\frac{amx(\| w\|)}{2^{b-1}-1}\)</span>èåä»£å¥å¬å¼å°±å¯ä»¥å¾å°éååæéï¼æ¨çè¿ç¨ä¸­è¿è¡ï¼åéå + ç©éµä¹æ³èåå¨ä¸ä¸ª CUDA kernel ä¸­å®æï¼<span class="math inline">\(Y=X(sq)\)</span>ãå æ­¤å¯¹äºå¶ä½¿ç¨ä¹å¾ç®åï¼æ¯å¦è¯´å¨ä»£ç ä¸­ï¼<a href="https://github.com/shangxiaaabb/ProjectCode/blob/main/code/Python/DFModelCode/DF_acceralate/cache_acceralate.py" target="_blank" rel="noopener nofollow">cache_acceralate.py</a></p>
<pre><code class="language-python"># å¨ZImagePipelineä¸­åæ°ä¸ºï¼
class ZImagePipeline(DiffusionPipeline, ZImageLoraLoaderMixin, FromSingleFileMixin):
    def __init__(,..,vae, text_encoder, tokenizr, transformer):
        ...
# å æ­¤å¯ä»¥ç´æ¥å¯¹éé¢çtext_encoderä½¿ç¨éåå¤ç

from diffusers import BitsAndBytesConfig as DiffusersBitsAndBytesConfig
quantization_config = DiffusersBitsAndBytesConfig(
    load_in_4bit=True,# å¨æ¨¡åå è½½é¶æ®µï¼å°æéä»¥ 4-bit éåå½¢å¼å è½½
    bnb_4bit_quant_type="nf4",
    bnb_4bit_compute_dtype=torch.bfloat16,# æå® åéåååä¸è®¡ç®ç dtype
    bnb_4bit_use_double_quant=True,#å¯ç¨ Double Quantizationï¼åééåï¼ï¼ä¹å°±æ¯å¯¹blockçscaleå¨è¿è¡ä¸æ¬¡éå
    llm_int8_skip_modules=["transformer_blocks.0.img_mod"],# æå® ä¸åä¸ bitsandbytes éåçæ¨¡å
)
transformer = AutoModel.from_pretrained(
    model_name,
    cache_dir=cache_dir,
    subfolder="transformer",
    quantization_config=quantization_config,
    torch_dtype=torch.bfloat16,
    device_map="auto",
    mirror='https://hf-mirror.com'
)
</code></pre>
<p>å»å¯¹ä½ ç<code>model_name</code>éé¢çtransformerè¿è¡éåå¤çï¼é¤æ­¤ä¹å¤è¿æä½¿ç¨ä¾å­å°±æ¯è¿è¡ä¼åå¨éåï¼æ¯å¦è¯´</p>
<pre><code class="language-python"># åä½¿ç¨adamwæ¹å¼ä¸æ ·ï¼ä½¿ç¨qloraä½¿ç¨ä¸è¬å¸¦ä¸è¿ä¸ªä¼åå¨
import bitsandbytes as bnb
optimizer_class = bnb.optim.AdamW8bit
</code></pre>
<h4 id="svdquantéå">SVDQuantéå</h4>
<blockquote>
<p><a href="https://github.com/nunchaku-ai/nunchaku" target="_blank" rel="noopener nofollow">https://github.com/nunchaku-ai/nunchaku</a></p>
</blockquote>
<p>å¨æ©æ£æ¨¡åä¸­ï¼æéï¼Weightsï¼åæ¿æ´»ï¼Activationsï¼å¾å¾åå«å¤§éå¼å¸¸å¼ï¼æç«¯å¤§æå°çå¼ï¼ï¼è¿äºå¼å¨ä½ä½éåï¼å¦4-bit INT4ï¼æ¶ä¼å¼èµ·ä¸¥éè¯¯å·®ï¼å¯¼è´çæçå¾åå¤±çæåªå£°å¢å¤ã<br>
<img src="https://img2024.cnblogs.com/blog/3395559/202601/3395559-20260125231601731-775108244.webp" alt="" loading="lazy"></p>
<blockquote>
<p>aï¼æéåæ¿æ´»å¼ä¸­é½å­å¨å¼å¸¸å¼ï¼bï¼å°æ¿æ´»å¼çå¼å¸¸å¼ç§»å¨å°æéä¸­ï¼cï¼å°æéè¿è¡åè§£ä½ç§©ç<span class="math inline">\(L_1L_2\)</span>ä»¥åæ®å·®</p>
</blockquote>
<p>å æ­¤å¯¹äºSVDQuantè¿ç¨æè¿°å¦ä¸ï¼å¯¹äºæéåæ¿æ´»å¼ï¼<span class="math inline">\(\mathbf{X}\)</span> ä»¥å <span class="math inline">\(\mathbf{X}\)</span>ï¼å¨æåè¿ä¸¤é¨åå¼é½æ¯å­å¨å¤§éå¼å¸¸å¼ï¼å æ­¤é¦åéè¿å¹³æ»æä½å°æ¿æ´»<span class="math inline">\(\mathbf{X}\)</span>ä¸­çå¼å¸¸å¼è¿ç§»å°æé <span class="math inline">\(\mathbf{X}\)</span>ä¸­å¾å°æ´æ°åæé <span class="math inline">\(\hat{\mathbf{W}}\)</span>ï¼è¿é¨åæ°æ®è¡¨è¿°ä¸ºï¼<span class="math inline">\(\hat{\mathbf{W}}=\mathbf{W}\odot S\)</span>å¶ä¸­Sæ¯å¹³æ»å å­ï¼ç¨äºè½¬ç§»å¼å¸¸ï¼âè¡¨ç¤ºéåç´ ä¹æ³ï¼ãè¿é¨åæä½ä¸»è¦æ¯å ä¸ºï¼<strong>å°å¼å¸¸å¼éä¸­å°æéä¾§ï¼å ä¸ºæéæ¯éæçï¼æ´å®¹æåç»­å¤çãæ¿æ´»ä¾§çå¼å¸¸å¼åå°åï¼éåé¾åº¦éä½</strong>ãèåï¼è¿è¡SVDåè§£ä¸ä½ç§©å¸æ¶ï¼å¯¹æ´æ°åæéè¿è¡å¥å¼å¼åè§£ï¼$  \hat{ð¾} = ð¼ \Sigma ð½^T  <span class="math inline">\(, å¶ä¸­ð¼åð½æ¯æ­£äº¤ç©éµï¼\)</span>\Sigma<span class="math inline">\(æ¯å¥å¼å¼å¯¹è§ç©éµãä¿çåkä¸ªæå¤§å¥å¼å¼ï¼ä½ç§©rï¼éå¸¸r &lt;&lt; min(m,n)ï¼å¶ä¸­m,næ¯æéç©éµç»´åº¦ï¼ï¼å½¢æä½ç§©è¿ä¼¼ï¼\)</span>  ð³_1 ð³_2 = ð¼[:,:r] \cdot \Sigma[:r,:r] \cdot ð½^T[:r,:]  <span class="math inline">\(ãç¶åï¼è®¡ç®æ®å·®ï¼\)</span>  ð¹ = \hat{ð¾} - ð³_1 ð³_2<span class="math inline">\(ï¼å¶ä¸­åªå¯¹æ®å·®\)</span>ð¹<span class="math inline">\(è¿è¡éåï¼\)</span>Q(ð¹)=\text{round}(\frac{ð¹}{S_ð¹})S_ð¹<span class="math inline">\(ï¼å¶ä¸­\)</span>S_ð¹<span class="math inline">\(ä¸ºç¼©æ¾å å­ï¼å¤çãä½ç§©åæ¯\)</span>  ð³_1 ð³_2  $ä½¿ç¨é«ç²¾åº¦ï¼16-bit floatï¼è¿è¡ï¼ä¸é¨âå¸æ¶âå¼å¸¸å¼åä¸»è¦ä¿¡æ¯ï¼èæ®å·®ð¹ä¸­çå¼å¸¸å¼åå¹åº¦æ¾èåå°ï¼åªééåå°4-bitãéåè¯¯å·®çéåæï¼ä»è®ºæä¸­ï¼ï¼éåè¯¯å·®ä¸çå¯éè¿Fèæ°åå¥å¼å¼æ§å¶ï¼è¯æä½ç§©å¸æ¶åæ®å·®çéåé¾åº¦éä½ï¼è¯¯å·® â¤ $  \frac{\sqrt{\log(\text{size}(ð¹)\pi)}}{q_{\max}} \mathbb{E}[|ð¹|_F]  $ï¼å¶ä¸­q_maxæ¯éåæå¤§å¼ï¼ï¼<strong>æåçæ´ä½è¿ä¼¼è®¡ç®</strong>ï¼</p>
<p></p><div class="math display">\[\hat{\mathbf{X}}\hat{\mathbf{W}}=\hat{\mathbf{X}}(R+L_1L_2)â\hat{\mathbf{X}}(L_1L_2)+Q(\hat{\mathbf{X}})Q(R)
\]</div><p></p><p>ç¬¬ä¸é¡¹æ¯16-bitä½ç§©åè§£ï¼ç¬¬äºé¡¹ä¸º4-bitæ®å·®åæ¯ãæ´ä¸ªè¿ç¨å¯¹åºï¼<br>
<img src="https://img2024.cnblogs.com/blog/3395559/202601/3395559-20260125231602130-1215683201.webp" alt="" loading="lazy"></p>
<h4 id="gguf">GGUF</h4>
<blockquote>
<p>HFææ¡£ï¼<a href="https://huggingface.co/docs/hub/en/gguf" target="_blank" rel="noopener nofollow">https://huggingface.co/docs/hub/en/gguf</a><br>
<a href="https://unsloth.ai/docs/basics/inference-and-deployment/saving-to-gguf" target="_blank" rel="noopener nofollow">https://unsloth.ai/docs/basics/inference-and-deployment/saving-to-gguf</a></p>
</blockquote>
<p>GGUFæ ¼å¼æ¯ç¨äºå­å¨å¤§åæ¨¡åé¢è®­ç»ç»æçï¼ç¸è¾äºHugging Faceåtorchçbinæä»¶ï¼å®éç¨äºç´§åçäºè¿å¶ç¼ç æ ¼å¼ãä¼åçæ°æ®ç»æä»¥ååå­æ å°ç­ææ¯ï¼æä¾äºæ´é«æçæ°æ®å­å¨åè®¿é®æ¹å¼ãGGUF æ¬èº«æ¯æå¤ç§éåçº§å«ï¼Q2_K ~ Q8_0ãIQ2 ~ IQ4 ç­ï¼ï¼è¿äºéåæ¹å¼å±äºåè®­ç»éåï¼PTQï¼ï¼å AWQãGPTQãbitsandbytes 4bit ä¸æ ·ï¼é½æ¯å¨é¢è®­ç»æ¨¡åä¸ç´æ¥æ§è¡éåï¼ä¸éè¦éæ°è®­ç»ï¼ãä¸è¿éè¦åºå«çæ¯AWQãGPTQãSVDQuanté½éè¦ä¸å°æ¹æ°æ®èbitsandbytesä»¥åGGUFä¸éè¦ï¼å¨GGUFä¸­å¯ä»¥å®ç°éåæ¹å¼æä¸¤ç±»ï¼</p>
<table>
<thead>
<tr>
<th style="text-align: center"><strong>ä¼ ç»Qç³»å</strong>ï¼æç§æééå±éåï¼</th>
<th style="text-align: center"><strong>K-Quantç³»å</strong>ï¼éè¿ block-wise + scale ä¼åï¼</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center"><img src="https://img2024.cnblogs.com/blog/3395559/202601/3395559-20260125231602722-1391696036.webp" alt="" loading="lazy"></td>
<td style="text-align: center"><img src="https://img2024.cnblogs.com/blog/3395559/202601/3395559-20260125231602534-100439133.webp" alt="" loading="lazy"></td>
</tr>
</tbody>
</table>
<p>å¶ä¸­<strong>ä¼ ç»Qç³»å</strong>ä¸»è¦æ¯ä¸æ´åæéå±äº«ä¸ä¸ª scaleï¼ç¼©æ¾å å­ï¼ï¼æ¯ä¸ªæéç¨ä½ bit æ´æ°è¡¨ç¤ºï¼å®¹æåå°æç«¯å¼çå½±åã <strong>K-Quantç³»å</strong>ä¸ä¸ª block åï¼ååâå­åâï¼æ¯ä¸ªå­åæèªå·±ç scaleï¼å¶ä¸­Sä»£è¡¨å­åå°ãscaleå°ï¼Mä»£è¡¨å­åå¤ãscaleå¤ã</p>
<h2 id="æ»ç»">æ»ç»</h2>
<p>æ¬æä¸»è¦æ¯ä»ç»ä¸äºå¨SDæ¨¡åä¸­å å¿«çå¾çç­ç¥ï¼1ãç´æ¥ä½¿ç¨å éæ¡æ¶è¿è¡ä¼åï¼æ¯å¦è¯´æå®attentionè®¡ç®åç«¯æ¹å¼ãéè¿<code>torch.compile</code>è¿è¡ç¼è¯ãä½¿ç¨<code>torch.channels_last</code>å»ä¼ååå­è®¿é®æ¹å¼ç­ï¼2ãcacheç­ç¥ï¼åç°å¨çæè¿ç¨ä¸­å¨æäºå±/æ¶é´å¸ä¹é´å¾åçç¹å¾æ¯è¾ç¸ä¼¼ï¼å æ­¤å°±å¯ä»¥èèå°è¿äºè®¡ç®ç»æè¿è¡ç¼å­å¨åç»­næ­¥ä¸­ç´æ¥å è½½ç¼å­å¥½çç¹å¾æ¥å®ç°çæå éï¼ä¸»è¦ä»ç»æ¡æ¶æ¯<code>cache-dit</code>ï¼3ãéåææ¯æ¦è¿°ï¼<br>
æåç®åå¯¹æ¯ä¸ä¸çæå éæ¶é´</p>
<blockquote>
<p>æµè¯prompt: <code>è¶åå®äºæ´²ä¸­å¹´ç·æ§ï¼å¹´é¾çº¦45-55å²ãé¢å®¹åæ¯ãææ´ï¼å¸¦æçæ´»éåççè¿¹ï¼å¦ç¼è§çç»çº¹ï¼ãä»ç©¿çè´¨ææè½¯çæ·±ç°è²é«é¢æ¯è¡£ï¼å¤æ­ä¸ä»¶ç»å¸çå¡å¶è²é£è¡£ï¼ç«å¨å¯é£ä¸­å¨å´æ¯é«æ¥¼å¤§å¦</code><br>
ä»æµè¯ç»æä¸å¾åçå·®å¼è¿æ¯ä¸å¤§ï¼æ¶é´çè¯ä»5.97--&gt;5.48ï¼<strong>ä¸ä¸å®ä¸¥è°¨ï¼</strong>ï¼è¿æ¯ææç</p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align: center">æ­£å¸¸çå¾</th>
<th style="text-align: center">+ä½¿ç¨channel+ flash_attn</th>
<th style="text-align: center">+ä½¿ç¨cachedit</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center"><img src="https://img2024.cnblogs.com/blog/3395559/202601/3395559-20260125231602310-1840320611.webp" alt="" loading="lazy"></td>
<td style="text-align: center"><img src="https://img2024.cnblogs.com/blog/3395559/202601/3395559-20260125231602417-1468973015.webp" alt="" loading="lazy"></td>
<td style="text-align: center"><img src="https://img2024.cnblogs.com/blog/3395559/202601/3395559-20260125231602717-1497084798.webp" alt="" loading="lazy"></td>
</tr>
<tr>
<td style="text-align: center"><code>5.97</code></td>
<td style="text-align: center"><code>5.67</code></td>
<td style="text-align: center"><code>5.48</code></td>
</tr>
</tbody>
</table>
<h2 id="åè">åè</h2>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p><a href="https://github.com/chengzeyi/ParaAttention/blob/main/doc/fastest_flux.md" target="_blank" rel="noopener nofollow">https://github.com/chengzeyi/ParaAttention/blob/main/doc/fastest_flux.md</a> <a href="#fnref1" class="footnote-backref" rel="noopener nofollow">â©ï¸</a></p>
</li>
<li id="fn2" class="footnote-item"><p><a href="https://juejin.cn/post/7436976221068148786" target="_blank" rel="noopener nofollow">https://juejin.cn/post/7436976221068148786</a> <a href="#fnref2" class="footnote-backref" rel="noopener nofollow">â©ï¸</a></p>
</li>
</ol>
</section>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-25 23:16">2026-01-25 23:16</span>&nbsp;
<a href="https://www.cnblogs.com/Big-Yellow">Big-Yellow-J</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19530732);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19530732', targetLink: 'https://www.cnblogs.com/Big-Yellow/p/19530732', title: 'æ·±å¥æµåºäºè§£çææ¨¡å-8ï¼çæå éç­ç¥æ¦è¿°' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ MCP è¿åï¼è®©éæ Tool è¿åä¸ºå·å¤âä¸ä¸ææç¥âçè¿ç¨ Skills ]]></title>
    <link>https://www.cnblogs.com/noear/p/19530698</link>
    <guid>8155ad6d075ee8884e70195050570159</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/noear/p/19530698" title="åå¸äº 2026-01-25 22:47">
    <span role="heading" aria-level="2">MCP è¿åï¼è®©éæ Tool è¿åä¸ºå·å¤âä¸ä¸ææç¥âçè¿ç¨ Skills</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        æè¦ï¼ Solon AI éè¿å° Model Context Protocol (MCP) å°è£ä¸ºå¨ææç¥ç Skillï¼è§£å³äºä¼ ç»éæå·¥å·äº¤äºçä¸å¤§çç¹ï¼ä¸ä¸æåªé³ãæéçç©ºåè¡ä¸ºå¤±æ§ãSkill éè¿æºè½åå¥ï¼isSupportedï¼ãæä»¤æ³¨å¥ï¼getInstructionï¼åä¸æè·¯ç±ï¼getToolsNameï¼å®ç°å¨æååï¼ä½¿æ¨¡åä»æç¥å½ååºæ¯æéçå·¥å·ãå®æç¤ºä¾å±ç¤ºäºå®¢æ·ç«¯ä¸æå¡ç«¯çåä½ï¼æ¯æå¤ç§æ·éç¦»åæéæ§å¶ãè¯¥æ¹æ¡éç¨äºå¤æä¸å¡åºæ¯ï¼ä½éæ³¨æå¶éæ ååç¹æ§åéç¨è¾¹çãæç»ï¼Skill æ¶ææå
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>å¨ AI Agent çå·¥ç¨å®è·µä¸­ï¼Model Context Protocol (MCP) å·²æä¸ºè¿æ¥å¤§æ¨¡åä¸å¤é¨ä¸ççæ åæ¡¥æ¢ãç¶èï¼éçåºç¨åºæ¯ä»âä¸ªäººå©æâåâä¼ä¸çº§å¤æä¸å¡âè¿è¿ï¼ä¼ ç»ç MCP äº¤äºæ¨¡å¼å¼å§æ¾é²å¶ <strong>âéæåâ</strong> çç¶é¢ã</p>
<p>Solon AI æ¯æå° MCP å°è£ä¸º Skillï¼å®ç°äºä»âå·å°å°ç API éåâå°âå·å¤æç¥è½åçæºè½æè½âçè·¨è¶ã</p>
<h3 id="ä¸éæ-tools-çä¸å¤§çç¹">ä¸ãéæ Tools çä¸å¤§çç¹</h3>
<p>ä¼ ç»ç MCP äº¤äºç±»ä¼¼äºä¸ä¸ªâæ æ³å³é­çå·¥å·ç®±âï¼æ è®ºåºæ¯å¦ä½ï¼ææå·¥å·ä¸æ¶èä¸ï¼</p>
<ul>
<li><strong>ä¸ä¸æåªé³ï¼Context Noiseï¼ï¼</strong> å³ä½¿æ¯ä¸ä¸ªç®åçé®åï¼æ¨¡åä¹ä¼è¢«æ³¨å¥æç¾ä¸åè¡çå·¥å· Schema å®ä¹ï¼ç½ç½æµªè´¹ Tokenï¼æ´å¹²æ°æ¨¡åçæ¨çä¸æ³¨åº¦ã</li>
<li><strong>æéçç©ºï¼Security Risksï¼ï¼</strong> æ¨¡åå¯¹å·¥å·çå¯è§æ§æ¯âå¨éâçãé¾ä»¥æ ¹æ®å½åç»å½ç¨æ·çè§è²ï¼å¦æ®éç¨æ· vs ç®¡çåï¼å¨æéèæææä½ï¼å¦ï¼å é¤è®¢åï¼ã</li>
<li><strong>è¡ä¸ºå¤±æ§ï¼Instruction Gapï¼ï¼</strong> å·¥å·åªæä¾äºâè½åä»ä¹âï¼å´æ æ³åè¯æ¨¡åâå¨å½åèæ¯ä¸è¯¥æä¹åâãæ¨¡åç¼ºä¹éå¯¹ç¹å®ä¸å¡åºæ¯çå³æ¶æä»¤çº¦æã</li>
</ul>
<h3 id="äºæ ¸å¿è§£å³æ¹å¼æç¥æè½½ä¸å¨æåå">äºãæ ¸å¿è§£å³æ¹å¼ï¼æç¥ãæè½½ä¸å¨æåå</h3>
<p>Solon AI éè¿å¼å¥ Skillï¼Solon AI Skillsï¼ çå½å¨æ æ¥åè£¹ MCP åè®®ï¼å®ç°ä»¥ä¸æºå¶è§£å³ä¸è¿°çç¹ï¼</p>
<h4 id="a-æºè½åå¥-issupported">A. æºè½åå¥ (isSupported)ï¼</h4>
<p>åªæå½ Prompt ä¸ä¸æï¼æå¾ãç§æ·ä¿¡æ¯ãç¯å¢åéï¼æ»¡è¶³æ¡ä»¶æ¶ï¼æè½æä¼è¢«æ¿æ´»ã</p>
<h4 id="b-æä»¤æ³¨å¥-getinstruction">B. æä»¤æ³¨å¥ (getInstruction)ï¼</h4>
<p>å¨æè½æè½½æ¶ï¼èªå¨ä¸ºæ¨¡åæ³¨å¥éå¯¹å½åä¸ä¸æçâè¡ä¸ºååâï¼System Messageï¼ã</p>
<h4 id="c-ä¸æè·¯ç±-gettoolsname">C. ä¸æè·¯ç± (getToolsName)ï¼</h4>
<p>æå¡ç«¯æ ¹æ® Prompt å±æ§ï¼å¨æå³å®ç»æ¨¡åå±ç¤ºåªäºå·¥å·ãæ¯æä¸ç§å½¢æçè·¯ç±æ¹å¼ï¼</p>
<ul>
<li>å¨éä½¿ç¨ï¼æªå®ä¹è¿æ»¤é»è¾æ¶ï¼æ¾ç¤ºææä¸å¡å·¥å·ã</li>
<li>ç²¾åææï¼ä»å±ç¤ºå½åç¨æ·æéèå´åçå·¥å·ã</li>
<li>å®å¨æç»ï¼å³ä¾¿æè½æ¿æ´»ï¼ä¹å¯è½å å®å¨ç­ç¥å¨æ­¤æ¶å°éææå·¥å·è°ç¨ã</li>
</ul>
<h3 id="ä¸å®æç¤ºä¾">ä¸ãå®æç¤ºä¾</h3>
<h4 id="1-å®¢æ·ç«¯åæ¬å°æè½ä¸æ ·è°ç¨">1. å®¢æ·ç«¯ï¼åæ¬å°æè½ä¸æ ·è°ç¨</h4>
<p>å¼åèåªéå³æ³¨ä¸å¡å±æ§çæ³¨å¥ï¼æ éæå¿å·¥å·çè¿æ»¤é»è¾ï¼ä¸åç± MCP Skill ä»£çä¸è¿ç¨æå¡ç«¯çº¦å®ä¸ååã</p>
<pre><code class="language-java">import org.noear.solon.ai.chat.ChatModel;
import org.noear.solon.ai.chat.prompt.Prompt;
import org.noear.solon.ai.mcp.McpChannel;
import org.noear.solon.ai.mcp.client.McpClientProvider;
import org.noear.solon.ai.mcp.client.McpSkillClient;

//æå»º mcp å®¢æ·ç«¯
McpClientProvider mcpClient = McpClientProvider.builder()
                .channel(McpChannel.STREAMABLE)
                .url("http://localhost:8081//skill/order")
                .build();

// æå»ºå¸¦æä¸å¡å±æ§çæç¤ºè¯
Prompt prompt = Prompt.of("å¸®æåæ¶è®¢å A001")
                .attrPut("tenant_id", "solon_001")
                .attrPut("user_role", "ADMIN"); // æ¨¡æç®¡çåèº«ä»½

// æ³¨å¥æè½ï¼æ¨¡åå°åªçå°âç®¡çåâæéä¸çå·¥å·
chatModel.prompt(prompt)
         .options(o -&gt; o.skillAdd(new McpSkillClient(mcpClient))) //å° mcp å®¢æ·ç«¯ åè£ä¸º Solon AI Skills
         .call();
</code></pre>
<h4 id="2-æå¡ç«¯å®ç°å·å¤æç¥åçæè½">2. æå¡ç«¯ï¼å®ç°å·å¤âæç¥åâçæè½</h4>
<p>æå¡ç«¯ä¸åæ¯ç²ç®ååºï¼èæ¯éè¿è§£æ Prompt å³å®èªå·±çè¡¨ç°ã</p>
<pre><code class="language-java">import org.noear.solon.ai.annotation.ToolMapping;
import org.noear.solon.ai.chat.prompt.Prompt;
import org.noear.solon.ai.mcp.McpChannel;
import org.noear.solon.ai.mcp.server.McpSkillServer;
import org.noear.solon.ai.mcp.server.annotation.McpServerEndpoint;

import java.util.ArrayList;
import java.util.List;

@McpServerEndpoint(channel = McpChannel.STREAMABLE_STATELESS, mcpEndpoint = "/skill/order")
public class OrderSkillServer extends McpSkillServer {
    
    @Override
    public boolean isSupported(Prompt prompt) {
        // æç¥æå¾ï¼åªææ¶åâè®¢åâä¸ç§æ·åè§æ¶ææ¿æ´»
        return prompt.getUserContent().contains("è®¢å") 
               &amp;&amp; prompt.attr("tenant_id") != null;
    }

    @Override
    public String getInstruction(Prompt prompt) {
        // å¨ææä»¤ï¼æ³¨å¥ç§æ·ç¹å®çä¸å¡è§å
        return "ä½ ç°å¨æ¯ç§æ·[" + prompt.attr("tenant_id") + "]çè®¢åå©æã";
    }

    @Override
    public List&lt;String&gt; getToolsName(Prompt prompt) {
        // æééç¦»ï¼æ ¹æ®ç¨æ·è§è²å¨æä¸åå·¥å·å
        List&lt;String&gt; tools = new ArrayList&lt;&gt;();
        tools.add("OrderQuery"); // åºç¡æé

        if ("ADMIN".equals(prompt.attr("user_role"))) {
            tools.add("OrderCancel"); // ä»ç®¡çåå¯è§
        }
        return tools;
    }

    @ToolMapping(description = "æ¥è¯¢è®¢å")
    public String OrderQuery(String id) { ... }

    @ToolMapping(description = "åæ¶è®¢å")
    public String OrderCancel(String id) { ... }
}
</code></pre>
<h3 id="åskills-æ¶æåæä¸å±éæ§è¡¥å">åãSkills æ¶æåæä¸å±éæ§è¡¥å</h3>
<p>å°½ç®¡å° MCP è¿åä¸º Skills å¸¦æ¥äºæ¾èçå·¥ç¨ä¼å¿ï¼ä½å¼åèä»éçæ¸å¶ææ¯è¾¹çï¼</p>
<ul>
<li>éæ ååçæ¶æå¢å¼ºï¼</li>
</ul>
<p>LLM çåºå±æ åä»åå« Prompt å Tool-CallãSkills å¹¶éæ¨¡ååçæ åï¼ä¹ä¸å±äº MCP çå¬å±åè®®è§èï¼èæ¯ä¸ç§ æ¶æè®¾è®¡æ¨¡å¼ï¼æ¨¡å¼ï¼æ¯éç¨çï¼ãå®éå¸¸ç± AI å¼åæ¡æ¶ï¼å¦ Solon AIï¼å¨æ¶è´¹ä¾§å®ç°ï¼ç¨äºè§£å³å¤æä¸å¡ä¸çè½åè°åº¦é®é¢ã</p>
<ul>
<li>æ¶è´¹ä¾§é©±å¨çå®å¶ï¼</li>
</ul>
<p>MCP å Skills çè¿åæ¬è´¨ä¸æ¯âä¸å¡é©±å¨âæâé¢åé©±å¨âçãå¨è®¾è®¡è¿ç¨ MCP Skill æ¶ï¼å¿é¡»åèæ¶è´¹ä¾§ï¼å³ Agent æ§è¡å¼æï¼çå·ä½è§èè¿è¡æ·±åº¦å®å¶ã</p>
<ul>
<li>éç¨åºæ¯çéæ©ï¼</li>
</ul>
<p>Toolï¼éç¨äºåå­åãæ ç¶æãå¨éå¬å¼çç®ååè½æä»¶ã</p>
<p>Skillï¼éç¨äºéè¦ä¸ä¸ææç¥ãå¤ç§æ·éç¦»ãå¨ææä»¤çº¦æçå¤æä¸å¡é»è¾åã</p>
<h3 id="äº-å¥½å¤æ»ç»">äºã å¥½å¤æ»ç»</h3>
<p>å° MCP è¿åä¸º Skills ä¹åï¼æ¨ç AI Agent æ¶æå°è·å¾ï¼</p>
<ul>
<li>æè´çä¸ä¸æçº¯ååº¦ï¼</li>
</ul>
<p>æ¨¡ååªçå°æ­¤æ¶æ­¤å»è¯¥ççå·¥å·ï¼éè¿ getToolsName å®ç°æéå è½½ï¼ææéæ§å¶ï¼ã</p>
<ul>
<li>å¤©ç¶çæéå®å¨ï¼</li>
</ul>
<p>éè¿æå¡ç«¯æç¥çå¨æååï¼å®ç°çæ­£çè·¨è¿ç¨è§è²æéæ§å¶ï¼RBAC for Toolsï¼ã</p>
<ul>
<li>ä½è¦åçä¸å¡æ¼è¿ï¼</li>
</ul>
<p>ä¸å¡é»è¾åè§ååæ´éä¸­å¨æå¡ç«¯ï¼å®¢æ·ç«¯ âæ éâ ä»»ä½ä»£ç æ¹å¨å³å¯è·å¾ææ°è½åã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-25 22:48">2026-01-25 22:47</span>&nbsp;
<a href="https://www.cnblogs.com/noear">å¸¦åºçåæ¤</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19530698);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19530698', targetLink: 'https://www.cnblogs.com/noear/p/19530698', title: 'MCP è¿åï¼è®©éæ Tool è¿åä¸ºå·å¤âä¸ä¸ææç¥âçè¿ç¨ Skills' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ MySQLåçº§8.0.44åç»å½æ¥é-ç³»ç»è¡¨ä¸æ¯æ'MyISAM'å­å¨å¼æ ]]></title>
    <link>https://www.cnblogs.com/ldocser/p/19530406</link>
    <guid>15ae7b54891373ee4e8141b9b3ff4bf0</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/ldocser/p/19530406" title="åå¸äº 2026-01-25 20:10">
    <span role="heading" aria-level="2">MySQLåçº§8.0.44åç»å½æ¥é-ç³»ç»è¡¨ä¸æ¯æ'MyISAM'å­å¨å¼æ</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="ä¸æéç°è±¡">ä¸ãæéç°è±¡</h1>
<p>è¿ææä»¬å¬å¸åé¨ç½ç»å®å¨ææ¥ä¸­ï¼åç°å¶ä¸­ä¸ä¸ªä¸å¡ç³»ç»ä½¿ç¨çæ¯mysql8.0.11ï¼å­å¨å ä¸ªé«é£é©æ¼æ´ï¼ç»è¯ä¼°å³å®å¯¹å¶åçº§å°ææ°çæ¬MySQL8.0.44ãåçº§ååºç°æ°æ®åºæ æ³è¿ç¨ç»å½ï¼å³ä½¿è¾å¥æ­£ç¡®çå¯ç ä¹æç¤ºè¿æ¥æç»ï¼æ¥éå¦ä¸å¾ï¼<br>
<img alt="MySQLè¿ç¨ç»å½æ¥é" loading="lazy" data-src="https://mos.omstack.cn/notelab/2026/01/25/20260125171002_image.png" class="lazyload"></p>
<h1 id="äºææ¥å¤çè¿ç¨">äºãææ¥å¤çè¿ç¨</h1>
<h2 id="ç¬¬ä¸æ­¥å°è¯ä¿®æ¹ç¨æ·å¯ç ">ç¬¬ä¸æ­¥ï¼å°è¯ä¿®æ¹ç¨æ·å¯ç </h2>
<p>å¼å§æä»¥ä¸ºæ¯æ°æ®åºç¨æ·çå¯ç éè¯¯äºï¼å°±æ³çä½¿ç¨rootç¨æ·è¿å»ä¿®æ¹ä¸ç¨æ·å¯ç ãæ§è¡ä¿®æ¹ç¨æ·å¯ç çsqlï¼ç»æåç°æ§è¡sqlæ¥éï¼æç¤ºç³»ç»è¡¨ä¸æ¯æMyISAMå­å¨å¼æï¼æç¤ºå¦ä¸å¾ï¼<br>
<img alt="ä¿®æ¹æ°æ®åºç¨æ·å¯ç æ¥é" loading="lazy" data-src="https://mos.omstack.cn/notelab/2026/01/25/20260125171416_image.png" class="lazyload"></p>
<h2 id="ç¬¬äºæ­¥éè¿æ¥å¿ç¡®è®¤åå ">ç¬¬äºæ­¥ï¼éè¿æ¥å¿ç¡®è®¤åå </h2>
<p>éè¿æ¥ç MySQL æ°æ®åºè¿è¡æ¥å¿ï¼åç°æ°æ®åºå¨å¯å¨æ¶å°±å·²ç»ååºè­¦åï¼</p>
<pre><code class="language-bash">[Warning] [MY-010929] [Server] Storage engine 'MyISAM' does not support system tables. [mysql.user].
[Warning] [MY-010929] [Server] Storage engine 'MyISAM' does not support system tables. [mysql.db].
</code></pre>
<p><img alt="ç³»ç»è¡¨ä¸æ¯æ'MyISAM'å­å¨å¼æ" loading="lazy" data-src="https://mos.omstack.cn/notelab/2026/01/24/20260124162210_image.png" class="lazyload"></p>
<h2 id="ç¬¬ä¸æ­¥å°è¯ä½¿ç¨mysql_upgradeæå¨åçº§æ°æ®ç»æ">ç¬¬ä¸æ­¥ï¼å°è¯ä½¿ç¨mysql_upgradeæå¨åçº§æ°æ®ç»æ</h2>
<p>ä½¿ç¨ mysql_upgrade å½ä»¤ä½¿ç¨æå¨åçº§æ¹å¼ï¼éæ°åçº§æ°æ®åºè¡¨æ°æ®ãæç¤ºå·²ç»ä¸æ¯æä½¿ç¨è¯¥æ¹å¼æå¨åçº§æ°æ®åºæ°æ®æä»¶ãåå©ç¿»è¯å·¥å·ç¿»è¯åçåå®¹å¯ä»¥çå°ï¼æ°çæ¬çMySQLæ°æ®åºå¨å¯å¨æ¶ä¼èªå¨åçº§ï¼ä½æ¯ä¹æä¾äº <code>--upgrade</code> åæ°ç¨äºæ§å¶åçº§å¨ä½ãå¯ä»¥å°è¯ä½¿ç¨è¯¥æ¹å¼å¼ºå¶åçº§mysqlæ°æ®åºã</p>
<p><img alt="mysql_upgrade" loading="lazy" data-src="https://mos.omstack.cn/notelab/2026/01/25/20260125173421_image.png" class="lazyload"></p>
<blockquote>
<p><strong>æç¤ºåå®¹ç¿»è¯</strong><br>
<code>mysql_upgrade</code>&nbsp;å®¢æ·ç«¯ç°å·²å¼ç¨ãååç±è¯¥åçº§å®¢æ·ç«¯æ§è¡çæä½ï¼ç°å¨åç±æå¡å¨èªèº«å®æã<br>
è¦æ§è¡åçº§ï¼è¯·ä½¿ç¨æ°ç MySQL äºè¿å¶ç¨åºå¯å¨æ§çæ°æ®ç®å½ãç¨æ·è¡¨çä¿®å¤å°èªå¨è¿è¡ï¼åçº§åæ ééå¯ã<br>
å½ä½¿ç¨æ°çæ¬ç MySQL äºè¿å¶ç¨åºå¯å¨æ§æ°æ®ç®å½æ¶ï¼åçº§è¿ç¨ä¼èªå¨å¼å§ãä¸ºé¿åæå¤è§¦ååçº§ï¼è¯·å¨å¯å¨ MySQL äºè¿å¶ç¨åºæ¶ä½¿ç¨&nbsp;<code>--upgrade=NONE</code>&nbsp;éé¡¹ãæ­¤å¤ï¼ä¹æä¾äº&nbsp;<code>--upgrade=FORCE</code>&nbsp;éé¡¹ï¼ç¨äºæéå¼ºå¶æ§è¡æå¡å¨åçº§æµç¨ã<br>
åçº§è¿ç¨å¯è½å å¤ç§åå èå¤±è´¥ãè¥åçå¤±è´¥ï¼MySQL æå¡å¨å¨ä¸æ¬¡å¯å¨æ¶å°åæ¬¡å°è¯æ§è¡åçº§åºåãå¦ææå¡å¨åå¤åçº§å¤±è´¥ï¼å¯ä½¿ç¨&nbsp;<code>--upgrade=MINIMAL</code>&nbsp;éé¡¹å¯å¨æå¡å¨ï¼ä»¥è·³è¿åçº§æµç¨ï¼ä»èåè®¸ç¨æ·æå¨ææ¥å¹¶ä¿®å¤é®é¢ã</p>
</blockquote>
<h2 id="ç¬¬åæ­¥ä½¿ç¨upgradeåæ°å¼ºå¶åçº§æ°æ®åº">ç¬¬åæ­¥ï¼ä½¿ç¨upgradeåæ°å¼ºå¶åçº§æ°æ®åº</h2>
<p>æ ¹æ®åæçæç¤ºï¼å¯ä»¥ä½¿ç¨upgradeåæ°æ§å¶æ°æ®åºçåçº§è¡ä¸ºï¼æ¥çupgradeåæ°å¦ä½ä½¿ç¨ï¼</p>
<pre><code class="language-bash">mysqld --verbose --help | grep -A 10 -B 10 -i "upgrade"
</code></pre>
<p><img alt="upgradeåæ°" loading="lazy" data-src="https://mos.omstack.cn/notelab/2026/01/25/20260125174645_image.png" class="lazyload"></p>
<table>
<thead>
<tr>
<th style="text-align: left">åæ°å¼</th>
<th>å«ä¹</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left">NONE</td>
<td>å¦æèªå¨åçº§æå¡å¨ï¼åä¸­æ­¢å¯å¨</td>
</tr>
<tr>
<td style="text-align: left">MINIMAL</td>
<td>å¯å¨æå¡å¨ï¼ä½è·³è¿éç»å¯¹å¿è¦çåçº§æ­¥éª¤</td>
</tr>
<tr>
<td style="text-align: left">AUTOï¼é»è®¤ï¼</td>
<td>å¨éè¦æ¶èªå¨åçº§æå¡å¨</td>
</tr>
<tr>
<td style="text-align: left">FORCE</td>
<td>å¼ºå¶æ§è¡æå¡å¨åçº§</td>
</tr>
</tbody>
</table>
<p>æ ¹æ®æç¤ºåå®¹ï¼<code>FORCE</code> å¯ä»¥å¼ºå¶æå¡å¨å¯å¨çæ¶åæ§è¡åçº§æä½ã</p>
<pre><code class="language-bash"> mysqld --user=mysql --datadir=/..../mysql/ --upgrade=FORCE
</code></pre>
<p><img alt="ä½¿ç¨upgradeåæ°å¼ºå¶åçº§æ°æ®åº" loading="lazy" data-src="https://mos.omstack.cn/notelab/2026/01/25/20260125175231_image.png" class="lazyload"></p>
<p>æ¥çMySQLçè¿è¡æ¥å¿å¯ä»¥çåºï¼å¨æ°æ®åºå¯å¨è¿ç¨ä¸­æ§è¡äºåçº§æä½ï¼èä¸å®æäºåçº§ï¼ä¹æ²¡æåºç°ä¹å <code>Storage engine 'MyISAM' does not support system tables</code> çå­æ ·ã</p>
<h2 id="ç¬¬äºæ­¥-æ­£å¸¸å¯å¨æ°æ®åºå°è¯ç»é">ç¬¬äºæ­¥ï¼ æ­£å¸¸å¯å¨æ°æ®åºï¼å°è¯ç»é</h2>
<p>ä½¿ç¨å¸¸è§åæ°å¯å¨æ°æ®åºæå¡ï¼æ¥çæ¥å¿ç¡®è®¤æ²¡æå¨åºç°ç±»ä¼¼åè­¦ï¼å°è¯ä½¿ç¨mysqlå½ä»¤è¡å·¥å·ç»å½æ°æ®åºï¼ç»è¿å°è¯å¯ä»¥æ­£å¸¸ç»å½ã</p>
<pre><code class="language-bash">systemctl restart  mysqld
mysql -u'user' -p -h192.168.170.195
</code></pre>
<p><img alt="å°è¯ä½¿ç¨mysqlå½ä»¤ç»éæ°æ®åº" loading="lazy" data-src="https://mos.omstack.cn/notelab/2026/01/25/20260125175921_image.png" class="lazyload"></p>
<p>å¼å§éä¸ªå¯å¨æå¡ï¼éæ­¥æ¢å¤ä¸å¡ç³»ç»ã<br>
å°æ­¤ä¸ºæ­¢å®ææ¬æ¬¡æéå¤çã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-25 20:11">2026-01-25 20:10</span>&nbsp;
<a href="https://www.cnblogs.com/ldocser">å°ç½ç±è¿ç»´</a>&nbsp;
éè¯»(<span id="post_view_count">38</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19530406);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19530406', targetLink: 'https://www.cnblogs.com/ldocser/p/19530406', title: 'MySQLåçº§8.0.44åç»å½æ¥é-ç³»ç»è¡¨ä¸æ¯æ&amp;#39;MyISAM&amp;#39;å­å¨å¼æ' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ .NETå¨åã12æã ]]></title>
    <link>https://www.cnblogs.com/InCerry/p/-/dotnet_week_25_12</link>
    <guid>6b75bea2362e32fb41b867e5a4f61b58</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/InCerry/p/-/dotnet_week_25_12" title="åå¸äº 2026-01-25 19:40">
    <span role="heading" aria-level="2">.NETå¨åã12æã</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="å¬å">å¬å</h2>
<p>æ­¤åå½å .NET å¨åçæ´æ°èå¥ä¸ç´åè .NET å½éå¨åãä½ç±äºå½éå¨åæ´æ°é¢çä¸ç¨³å®ï¼å¯¼è´å½åå¨ååå¸ä¹ä¸åºå®ï¼åå®¹å¸¸å¸¸æ»åäºä¸»çº¿è¿å±ã</p>
<p>å æ­¤ï¼2026 å¹´èµ·å°è°æ´ä¸ºæ°çæ´æ°æ¨¡å¼ï¼ä¸åç­å¾å½éå¨ååæ­¥ãè¥å½éå¨åå½å¨æªæ´æ°ï¼å½åå¨åå°æè®¡åæ­£å¸¸åå¸ï¼è¥å½éå¨åå½å¨æ´æ°ï¼å¶åå®¹å°æ´åè³ä¸ä¸æå½åå¨åä¸å¹¶åå¸ã</p>
<p>æ¬æä¸º 2025 å¹´å¨åçæ¶å®ç¯ã</p>
<h2 id="å½åæç« ">å½åæç« </h2>
<h3 id="avalonia-æºç è§£è¯»gridç½æ ¼æ§ä»¶">Avalonia æºç è§£è¯»ï¼Gridï¼ç½æ ¼æ§ä»¶ï¼</h3>
<p><a href="https://www.cnblogs.com/BettaFish/p/19354900/avalonia-grid" target="_blank">https://www.cnblogs.com/BettaFish/p/19354900/avalonia-grid</a></p>
<p>Grid æ¯ä¸ç§çµæ´»ä¸å¸¸ç¨çå¸å±æ§ä»¶ï¼ç¨äºåå»ºå¤æçç¨æ·çé¢ãæ¬æä»¥ Avalonia æ¡æ¶ä¸ºä¾ï¼è®²è§£ Grid æ§ä»¶çå·¥ä½åçåæµéæµç¨ãGrid éè¿è¡ååå®ä¹ç»ç»çé¢åç´ ï¼è®¡ç®è¿ç¨ä¸­å­å¨ä¸åçå¤§å°å®ä¹æ¹å¼ãæµééµå¾ªä¼åç¡®å®å¤§å°ååï¼Grid å°åç´ åä¸ºå ç»æµéãå·ä½ç®æ³åæ¬åå§åè¡åå®ä¹ååç»å¤çãæä¸­è¯¦ç»æè¿°äºä¸åç±»åé¡¹çæµéæºå¶ï¼éç¨äºåç§ XAML UI æ¡æ¶ãæ´ä½ç»ææ¸æ°ï¼ä¿¡æ¯éå¤§ã</p>
<h3 id="2025-å¹´-webtransport-çææ·±åº¦ç ç©¶javascript-å®¢æ·ç«¯ä¸net-10-signalr-çæ¼è¿ä¸èå">2025 å¹´ WebTransport çææ·±åº¦ç ç©¶ï¼JavaScript å®¢æ·ç«¯ä¸.NET 10 SignalR çæ¼è¿ä¸èå</h3>
<p><a href="https://www.cnblogs.com/shanyou/p/19355053" target="_blank">https://www.cnblogs.com/shanyou/p/19355053</a></p>
<p>æ¬æè®¨è®ºäº WebTransport åè®®å¨å®æ¶ç½ç»éä¿¡ä¸­çåºç¨ï¼ç¹å«æ¯å¨ JavaScript å®¢æ·ç«¯å ASP.NET Core SignalR ä¸­çæ¯æãè³ 2025 å¹´ï¼è¯¥åè®®æ å¿ç TCP å UDP å QUIC çè½¬åãæ¥åæåºï¼Chrome å Firefox å·²å¨é¢æ¯æ WebTransportï¼Apple ç WebKit åå­å¨éç¢ãå¨æå¡ç«¯ï¼ASP.NET Core SignalR å·²å®ç°çäº§å°±ç»ªãæ¬æåæäº HTTP/3 å QUIC çä¼å¿ï¼åæ¬æµç¬ç«æ§ãå¯é æ°æ®æ¥åè¿æ¥è¿ç§»ç­ç¹æ§ï¼ä¸ºä¼ä¸çº§æ¶æå¸åå¼åèæä¾äºå®ç°æå¯¼ã</p>
<h3 id="ç²¾é-8-ä¸ª-net-å¼åå®ç¨çç±»åºæçæåå©å¨">ç²¾é 8 ä¸ª .NET å¼åå®ç¨çç±»åºï¼æçæåå©å¨ï¼</h3>
<p><a href="https://www.cnblogs.com/Can-daydayup/p/19375857" target="_blank">https://www.cnblogs.com/Can-daydayup/p/19375857</a></p>
<p>è¿ç¯æç« ä»ç»äºä¸äºå¼æºç .NET ææ¯åºï¼åæ¬ MapsterãFlaUIãQuestPDFãBouncyCastleãIdGeneratorãCsvHelperãMoq å xUnitãè¿äºåºåå·ç¹è²ï¼æä¾å¯¹è±¡æ å°ãèªå¨åæµè¯ãPDF çæãå¯ç å­¦åè½ãID çæãCSV æä½ãæ¨¡ææµè¯ç­åè½ãå®ä»¬åä¸º MIT è®¸å¯ï¼æ¯æ .NET çæï¼æé«å¼åæçï¼åå°éå¤ä»£ç åéè¯¯ãæä¸­æä¾äºæ¯ä¸ªåºçå¼æºå°ååè¯¦ç»ä»ç»é¾æ¥ï¼æ¹ä¾¿å¼åèè¿ä¸æ­¥å­¦ä¹ ã</p>
<h3 id="opencvsharpäºè§£å ç§ç¹å¾æ£æµ">OpenCVSharpï¼äºè§£å ç§ç¹å¾æ£æµ</h3>
<p><a href="https://www.cnblogs.com/mingupupu/p/19352075" target="_blank">https://www.cnblogs.com/mingupupu/p/19352075</a></p>
<p>æç« ä»ç»äº OpenCVSharp åºä¸­å¤ç§ç¹å¾æ£æµç®æ³ï¼éç¹éè¿°äº FAST ç®æ³ä¸ FREAK ç®æ³ãFAST ç®æ³ä»¥é«æçç¹å¾ç¹æ£æµé»åï¼å©ç¨åç´ å¼ºåº¦å·®å¼è¯å«è§ç¹ï¼ç¹å«éåå®æ¶åºç¨ãæç« å±ç¤ºäº FAST ç®æ³çå®ç°ä»£ç ï¼åæ¬å¾åè¯»åãå¤çä¸ç¹å¾ç¹ç»å¶ãFREAK ç®æ³åæ¨¡ä»¿äººç±»è§ç½èç»æï¼å¿«éæåäºè¿å¶ç¹å¾æè¿°ç¬¦ï¼å·æé«ææ§çç¹ç¹ï¼éç¨äºå®æ¶å¾åå¹éãæ´ä½åå®¹æ¸æ°ï¼ææ¯æ§å¼ºï¼éåå¯¹è®¡ç®æºè§è§æå´è¶£çè¯»èã</p>
<h3 id="newtonsoftjson-ä¸-systemtextjson-å¤æååºååçå®å¨æ§å·®å¼è§£æ">Newtonsoft.Json ä¸ System.Text.Json å¤æååºååçå®å¨æ§å·®å¼è§£æ</h3>
<p><a href="https://www.cnblogs.com/MeteorSeed/p/19366736" target="_blank">https://www.cnblogs.com/MeteorSeed/p/19366736</a></p>
<p>å¤æååºååæ¶åç»§æ¿ç»æå¯¹è±¡åºååï¼æ¯ä¸é¡¹å¸¸è§éæ±ãä¸å JSON åºåååºå­å¨ææ¾çå®å¨é£é©ãå¾®è½¯ CA2326 è§åæç¤ºé¿åä½¿ç¨ä¸å®å¨ç JsonSerializerSettingsãæ¬æå¯¹æ¯äº Newtonsoft.Json å System.Text.Json çå®ç°å·®å¼ï¼éç¹åæäºå®å¨æ§é®é¢ãNewtonsoft.Json åè®¸ TypeNameHandling ååºååï¼ä½æåå°æ»å»ï¼å¯è½å®ä¾åææç±»åãç¸æ¯ä¹ä¸ï¼System.Text.Json å¼ºè°å®å¨è®¾è®¡ï¼é»è®¤ä¸æ¯æå¤æï¼éæ¾å¼å£°æåè®¸çç±»åï¼ä»æ ¹æ¬ä¸éä½é£é©ãéè¿ä»£ç ç¤ºä¾ï¼å¯ä»¥éªè¯åèªçå®å¨æ§è¡¨ç°åæ½å¨é®é¢ã</p>
<h3 id="aspire-13ä»net-ç¼æå·¥å·å°çæ­£çå¤è¯­è¨äºåçåºç¨å¹³å°">Aspire 13ï¼ä».NET ç¼æå·¥å·å°çæ­£çå¤è¯­è¨äºåçåºç¨å¹³å°</h3>
<p><a href="https://www.cnblogs.com/shanyou/p/19360467" target="_blank">https://www.cnblogs.com/shanyou/p/19360467</a></p>
<p>Aspire 13 çåå¸æ å¿çå¾®è½¯äºåçå¼åå·¥å·ç®±çéå¤§è½¬åï¼å»æäºâ.NETâåç¼ï¼è½¬åå¤è¯­è¨æ¯æï¼åæ¬ Python å JavaScriptãæ¬ææ·±å¥åæäº Aspire 13 çæ¶æååï¼æ¢è®¨äºæ°å¼å¥çç»ä¸ AppHost æ¨¡åå Aspire.Hosting.Python åçæ·±åº¦éæãAspire 13 æä¾äºæ ååçæå¡åä½ï¼æ¶é¤äºè·¨è¯­è¨çæ§çå£åï¼åæ¶ç®åäºæ¬å°å¼åå°çäº§é¨ç½²çæµç¨ãæ¬æè¿è¯ä¼°äºè¯¥çæ¬å¯¹ .NET 10 SDK çä¾èµåå¶å¨æ°çå½å¨æç®¡çå·¥å·çå½±åï¼è¿ä¸åæ å¿çå¾®è½¯è´åäºæå»ºå¤è¯­è¨èåçå¼åå¹³å°ã</p>
<h3 id="ç¨-net-æå°å-api-æå»ºé«æ§è½-api">ç¨ .NET æå°å API æå»ºé«æ§è½ API</h3>
<p><a href="https://www.cnblogs.com/powertoolsteam/p/19360421" target="_blank">https://www.cnblogs.com/powertoolsteam/p/19360421</a></p>
<p>æ¬ææ¢è®¨äºä½¿ç¨.NET æå°å API æå»ºé«æ§è½ API çæ¹æ³ãæå°å API ç®åäºå¼åæµç¨ï¼åå°äºæ¨¡æ¿ä»£ç ï¼æåäºå¯å¨æ§è½ãå®æå¼äºä¼ ç»æ§å¶å¨ç»æï¼åè®¸å¨ Program.cs æä»¶ä¸­ç´æ¥å®ä¹è·¯ç±ãæå°å API å·å¤æ¾èéä½ä»£ç å¤æåº¦ãæååå­ä½¿ç¨æçåæé«è¯·æ±å¤çéåº¦ç­ä¼ç¹ãå¶è®¾è®¡åååæ¬ä¿æç«¯ç¹ç®æ´ãä½¿ç¨ç±»ååç»æãæ¯æä¾èµæ³¨å¥åè¾å¥éªè¯ç­ãéè¿æ¯æå¼æ­¥ç¼ç¨åé«æçæ°æ®è®¿é®ç­ç¥ï¼æå°å API å¨é«è´è½½ä¸è¡¨ç°çªåºï¼éåé«å¹¶ååºç¨åºæ¯ã</p>
<h3 id="openai-code-interpreter-coworker-æ¶æå®¡è®¡ä¸å®å¨åè¯åæ">OpenAI Code Interpreter ("Coworker") æ¶æå®¡è®¡ä¸å®å¨åè¯åæ</h3>
<p><a href="https://www.cnblogs.com/shanyou/p/19350418" target="_blank">https://www.cnblogs.com/shanyou/p/19350418</a></p>
<p>2025 å¹´åçç OpenAI Code Interpreter æ³é²äºä»¶æ­ç¤ºäºåè¿å¤§è¯­è¨æ¨¡åæ§è¡ç¯å¢ççå®æ¶æãåæ­¥åè®¾å¶ä»ä¸º Python ç¯å¢ï¼ä½å®åæ¯å¤è¯­è¨æ··åç³»ç»ï¼æ ¸å¿ä¾èµäº.NET 9ï¼C#ï¼æå»ºç XML è§£æå¼æãè¯¥ç¯å¢è¿è¡å¨ Google ç¹å¾ç Chrome å®¹å¨ä¸­ï¼å¹¶éè¿ @oai/walnut åå®ç°é«æææ¡£å¤çãæ³é²ä¿¡æ¯æ¾ç¤ºï¼C#å¨æ§è½ä¸å®å¨æ§ä¸ä¼äº Pythonï¼æ¶æéç¨âRoundtripâæµç¨ï¼ç¡®ä¿æ°æ®ç»æå®æ´æ§ãè¿æ¬¡äºä»¶è¡¨æï¼LLM çè½ååå°è§åéå¶ï¼éè¿è§èåç Protobuf æ ¼å¼ä¸ç³»ç»äº¤äºã</p>
<h3 id="cvisionmaster-å­¦ä¹ ç¬è®°ç®å½-ç®å½">C#+VisionMaster å­¦ä¹ ç¬è®°(ç®å½)-ç®å½</h3>
<p><a href="https://www.cnblogs.com/qq2806933146xiaobai/p/19354654" target="_blank">https://www.cnblogs.com/qq2806933146xiaobai/p/19354654</a></p>
<p>è¿ç¯æç« æ¢è®¨äº C#ä¸ VisionMaster èåå¼åçå¤ä¸ªæ¹é¢ï¼åæ¬æä½æ¹æ¡ãæ¨¡åãå¨å±åéåè®¾å¤æ§å¶ç­ãç®å½ä¸ä»åæ¬åºç¡ä½¿ç¨æç¨ï¼è¿æ¶åæ§ä»¶çéç½®ä¸æ§å¶ãæç« æ¨å¨è¡¥åç¸å³ç¥è¯ï¼å°¤å¶å¯¹ç°æç¤ºä¾çä¸è¶³ä¹å¤è¿è¡æ¹è¿ï¼æ¨å¨ AI ä¸å¾åå¤ççç»åãä½èå¸ææä¾å¨é¢çå­¦ä¹ èµæï¼å¹¶éæ­¥æ´æ°åºç¡æç¨ä»¥å¢å¼ºçè§£ï¼éåå¯¹ C#ä¸ VisionMaster æå´è¶£çå¼åèåå­¦ä¹ èã</p>
<h3 id="è¯åæ¢-visual-studio-2026-å¨æ°çç¨æ·ä½éª">ãè¯ãåæ¢ Visual Studio 2026 å¨æ°çç¨æ·ä½éª</h3>
<p><a href="https://www.cnblogs.com/MeteorSeed/p/19307311" target="_blank">https://www.cnblogs.com/MeteorSeed/p/19307311</a></p>
<p>Visual Studio 2026 éè¿æ³¨éæ¸æ°åº¦ãå¯è®¿é®æ§åç®æ´è®¾è®¡ï¼æåäºç¨æ·ä½éªãæ´æ°åæ¬æçãå¾æ åå¸å±æ¹è¿ï¼ä»¥åå°å¹²æ°ãæ°è®¾ç½®çé¢ç°ä»£åï¼ä¾¿äºç¨æ·åç°åè°æ´ãæ¨åº 11 æ¬¾å½©è²ä¸»é¢ï¼å¢å¼ºæ éç¢åè½ãç¼è¾å¨å¤è§è®¾ç½®åè®¸ç¨æ·èªå®ä¹ä»£ç ç¼è¾ç¯å¢ï¼æä¾é«å¯¹æ¯åº¦éé¡¹ï¼æ»¡è¶³å¯è¯»æ§éæ±ãç¨æ·å¯ä»¥ä¸å½åçæ¬å±å­ï¼è½»æ¾æ¢ç´¢æ°åè½å¹¶æä¾åé¦ï¼è¿ä¸æ­¥æ¹åä½éªã</p>
<h3 id="ä½ çä»£ç æ­£å¨èçä¸ºä»ä¹æä»¬é½ä¸æ¢ç¢°é£åº§å±å±±">ä½ çä»£ç æ­£å¨èçï¼ä¸ºä»ä¹æä»¬é½ä¸æ¢ç¢°é£åº§âå±å±±âï¼</h3>
<p><a href="https://www.cnblogs.com/huizhudev/p/19368567" target="_blank">https://www.cnblogs.com/huizhudev/p/19368567</a></p>
<p>æ¬ææ¢è®¨äºè½¯ä»¶å·¥ç¨ä¸­çä»£ç èå¼±æ§ç°è±¡ï¼å¼ºè°äºéææ¶çææ§æåç»´æ¤é¾åº¦ãä½èæåºï¼ä»£ç èçæ¯èªç¶è§å¾ï¼å¿é¡»ä¸»å¨éæãæåºäºå©ç¨ AI æ¨¡åæä¾éæå»ºè®®ï¼ä»èæåä»£ç çå®å¨æ§åå¯ç»´æ¤æ§ãAI å¯ä»¥è¯å«ä»£ç å¼å³å¹¶ç¡®ä¿æ¯æ¬¡ä¿®æ¹çå®å¨æ§ãæä¸­å¼ºè°äºèµæ·±æ¶æå¸çè§è²ï¼ä»¥åéæçå·ä½æ¹æ³åä»»å¡è¦æ±ï¼æ¨å¨å¼å¯¼å¼åèè¿è¡ææçä»£ç éæã</p>
<h3 id="net10-new-feature-æ°å¢åè½ä»ç»-jit-ç¼è¯å¨æ¹è¿">.NET10 New feature æ°å¢åè½ä»ç»-JIT ç¼è¯å¨æ¹è¿</h3>
<p><a href="https://www.cnblogs.com/tianqing/p/19378803" target="_blank">https://www.cnblogs.com/tianqing/p/19378803</a></p>
<p>.NET 10 æ¯ææ°ç LTS çæ¬ï¼å¾®è½¯æ¯æä¸å¹´ï¼æä¾äºéè¦çæ°åè½ï¼ç¹å«æ¯å¨ JIT ç¼è¯å¨æ¹é¢ãæ¹è¿ç JIT ç¼è¯å¨ä½¿âå¥½ä»£ç âè½æ´é«æå°è¿è¡ï¼æ éç¼åç¹æ®ä»£ç æä½¿ç¨ unsafe éé¡¹ãéè¿ä¼åç»æåæ°ï¼JIT è½ç´æ¥å¨å¯å­å¨ä¸­å¤çæ°æ®ï¼åå°åå­è®¿é®ãå¾ªç¯åè½¬çä¼åæé«äºä»£ç å¸å±ï¼å¢å¼ºäºå¾ªç¯çè¯å«ãJIT å»èæåæ°ç»æ¥å£æ¹æ³çè½åï¼ä½¿éåæ°ç»çä»£ç æ§è¡æ´å¿«ï¼éä½äºæ½è±¡å¼éãè¿äºæ¹è¿ä¸ºå¼åèæä¾äºæ¾èçæ§è½æåã</p>
<h3 id="opencvsharpå­¦ä¹ äººè¸æ£æµä¾å­">OpenCVSharpï¼å­¦ä¹ äººè¸æ£æµä¾å­</h3>
<p><a href="https://www.cnblogs.com/mingupupu/p/19363129" target="_blank">https://www.cnblogs.com/mingupupu/p/19363129</a></p>
<p>æ¬æä»ç»äº OpenCVSharp ä¸­çäººè¸æ£æµæ¹æ³ï¼åæ¬çº§èåç±»å¨å DNN æ¨¡åãè¯¦ç»è®²è§£äº Haar å Lbp çº§èåç±»å¨ï¼è¯´æäº haarcascade_frontalface_default.xml æä»¶çä½ç¨ä¸ä½¿ç¨æ¹æ³ãéè¿ç¤ºä¾ä»£ç ï¼å±ç¤ºäºå¦ä½å è½½åç±»å¨åéè¿å¤å°ºåº¦æ£æµäººè¸ï¼åæ¶å±ç¤ºæ£æµå°çäººè¸ãæç« æä¾äºå¿è¦çæä»¶ä¸è½½é¾æ¥ï¼æ¯æè¯»èè¿è¡å®è·µã</p>
<h3 id="maf-å¿«éå¥é¨7å·¥ä½æµçç¶æå±äº«">MAF å¿«éå¥é¨ï¼7ï¼å·¥ä½æµçç¶æå±äº«</h3>
<p><a href="https://www.cnblogs.com/edisontalk/p/-/quick-start-on-maf-chatper07" target="_blank">https://www.cnblogs.com/edisontalk/p/-/quick-start-on-maf-chatper07</a></p>
<p>æ¬æä»ç»äºä½¿ç¨ MAF å®ç°å·¥ä½æµç¶æå±äº«çæå·§ï¼éè¿ç»å¸æ¡ä¾æ¼ç¤ºäºå¦ä½å¨ AI å·¥ä½æµä¸­å±äº«ä¸ä¸ææ°æ®ãæç« éè¿°äº WorkflowContext æ¨¡åçåè½ï¼ä»¥åå¦ä½éè¿ API å®ç°ç¶æçè¯»åä¸è®¾ç½®ãä½èå±ç¤ºäºä¸ä¸ªææ¡£ç»è®¡å·¥ä½æµçå®è·µï¼åæ¬è¯»åæä»¶åç»è®¡åè¯æ°åæ®µè½æ°ç Executorãæä¸­æä¾äºå¿è¦çåå¤å·¥ä½åéç½®ç¤ºä¾ï¼å¼ºè°äºå¹¶ååä½çåºç¡ãæ´ä½åå®¹ç®æ´æäºï¼éåå¸ææ·±å¥å­¦ä¹ .NET ä¸ AI ç»åçå¼åèã</p>
<h3 id="opencvsharphog-è¡äººæ£æµ">OpenCVSharpï¼HOG è¡äººæ£æµ</h3>
<p><a href="https://www.cnblogs.com/mingupupu/p/19365183" target="_blank">https://www.cnblogs.com/mingupupu/p/19365183</a></p>
<p>HOG è¡äººæ£æµæ¯ä¸ç§åºäºæ¹åæ¢¯åº¦ç´æ¹å¾ç¹å¾çè®¡ç®æºè§è§ç®æ æ£æµææ¯ãè¯¥ç®æ³å°å¾åç»åä¸ºå°åºåï¼è®¡ç®å¹¶çææ¢¯åº¦æ¹åç´æ¹å¾ãç¸é»ç»èååç»ååå½ä¸åï¼å½¢æç¹å¾åéãç¹å¾åééè¿ SVM åç±»å¨å¤æ­å¾ååºåæ¯å¦åå«è¡äººï¼ä¾èµå¤å°ºåº¦æ«æç­ç¥å®ç°ç®æ æ£æµåå®ä½ãæç« æä¾äºå®æ´ç C#ä»£ç ç¤ºä¾ï¼åæ¬è¯»åå¾åãåå»º HOG æè¿°ç¬¦åç®æ æ£æµè¿ç¨ï¼éåå®éåºç¨ã</p>
<h3 id="net-éè¿-efcore-åä»å¨æ¨¡å¼å®ç°ç»ä¸æ°æ®æéç®¡æ§å¹¶ä¸ç¸å³æééç½®å¨æçæ">.Net éè¿ EFCore åä»å¨æ¨¡å¼å®ç°ç»ä¸æ°æ®æéç®¡æ§å¹¶ä¸ç¸å³æééç½®å¨æçæ</h3>
<p><a href="https://www.cnblogs.com/net-kevin-li/p/19368351" target="_blank">https://www.cnblogs.com/net-kevin-li/p/19368351</a></p>
<p>æ¬æä»ç»äºå¨.NET åºç¨ä¸­ä½¿ç¨ EFCore åä»å¨æ¨¡å¼å®ç°æ°æ®æéç®¡æ§çè®¾è®¡æ¹æ¡ãæç« å®ä¹äºæ°æ®æéçåä¸ªå±çº§ï¼å¹¶éè¿å·ä½çä»£ç ç¤ºä¾å±ç¤ºäºåºç¡ä»å¨æ¥å£çè®¾è®¡åæ°æ®è¿æ»¤çå®ç°ãä½èæä¾äºé¡¹ç®å°åï¼ä¾¿äºè¯»èåèåä½¿ç¨ãæ´ä½ç»ææ¸æ°ï¼é»è¾æ§å¼ºï¼éåå¼åäººåçè§£ååºç¨ã</p>
<h3 id="aspire-ä¸-azure-functions-æ·±åº¦éææ¶æèå¼å·¥ç¨å®è·µä¸è¿ç»´">Aspire ä¸ Azure Functions æ·±åº¦éæï¼æ¶æèå¼ãå·¥ç¨å®è·µä¸è¿ç»´</h3>
<p><a href="https://www.cnblogs.com/shanyou/p/19376604" target="_blank">https://www.cnblogs.com/shanyou/p/19376604</a></p>
<p>æ¬ææ¢è®¨äº Azure Functions ä¸ Aspire çç»åï¼å¼ºè°å¶å¨äºåçæ¶æä¸­çéè¦æ§ãåå¸å¼åºç¨å¼åé¢ä¸´çå¤ææ§ä¸ä¼ ç»å¾®æå¡æ¶æçè¿ç»´é¾é¢è¢«è¯¦ç»æè¿°ãAspire éè¿æä¾æ ååçæå¡ç¼æåä¾èµç®¡çï¼æ¹åäºå¼åèä½éªãå®å° Azure Functions è½¬åä¸ºä¸»è¦èµæºï¼å¹¶ä¾èµéç¦»å·¥ä½è¿ç¨æ¨¡åï¼ä»¥å®ç°çå½å¨æç®¡çååè½ç¼æãAppHost ä½ä¸ºåºç¡è®¾æ½è¡¨ç¤ºï¼ç®åäºæ¬å°ç¯å¢éç½®ï¼æåäºå¼åæçã</p>
<h3 id="maui-åºæ¨èäºmpowerkit">MAUI åºæ¨èäºï¼MPowerKit</h3>
<p><a href="https://www.cnblogs.com/sesametech-dotnet/p/19376927" target="_blank">https://www.cnblogs.com/sesametech-dotnet/p/19376927</a></p>
<p>MPowerKit æ¯.NET MAUI çå¯¼èªæ¡æ¶ï¼æ¯æå¤ç§å¯¼èªæ¹å¼ï¼çµææ¥æºäº Prismãè¯¥æ¡æ¶æä¾ä¸ Prism ç¸åçå¯¼èªååï¼ä½å®ç°æ¹å¼ä¸åï¼æ§è½ç¨ææåãå¶æ ¸å¿åºåæ¬å¤ä¸ªæ¥å£ï¼å¦ IInitializeAwareãIDestructible ç­ï¼åè®¸å¼åèæ§å¶é¡µé¢åå§ååéæ¯æ¶çè¡ä¸ºãä½¿ç¨æ¶ï¼åªéå¨é¡¹ç®ä¸­å¼ç¨ç¸åºç NuGet åï¼å¹¶å¨ MauiProgram ä¸­æ·»å éç½®ä»£ç å³å¯å¯å¨åæ³¨åç¸å³æå¡ãMPowerKit è¿æ¯æ MVVM è®¾è®¡æ¨¡å¼ï¼ç®åäºåºç¨ç¨åºçæå»ºã</p>
<h3 id="acpè®©-ai-ç¼ç¨å·¥å·éç½®ä»æ­¤åå«ç¢çå--ä¸æ¬¾å¼æºç-ai-éç½®ç®¡çå¹³å°">ACPï¼è®© AI ç¼ç¨å·¥å·éç½®ä»æ­¤åå«ç¢çå ââ ä¸æ¬¾å¼æºç AI éç½®ç®¡çå¹³å°</h3>
<p><a href="https://www.cnblogs.com/fanshaoO/p/19351155" target="_blank">https://www.cnblogs.com/fanshaoO/p/19351155</a></p>
<p>ACPï¼AI-Config-Plazaï¼æ¯ä¸ä¸ªå¼æºå¹³å°ï¼æ¨å¨ç®å AI ç¼ç¨å·¥å·çéç½®ç®¡çãå®éè¿ç»ä¸ç®¡çåç¤¾åºå±äº«ï¼è§£å³äºå¼åèå¨ä½¿ç¨å¤ä¸ª AI å·¥å·æ¶çéå¤éç½®é®é¢ãACP æä¾äºä¸ç«å¼ç®¡çï¼åæ¬å¤ç§ç±»åçåæ°éç½®åè§£å³æ¹æ¡çç»åãå¶å½ä»¤è¡å·¥å·æ¯ææ¬å°åæ­¥ï¼æå¤§å°éä½åæ¢ææ¬ãå¼åèå¯åäº«ä¼è´¨éç½®ï¼ä¿è¿èµæºäºç¨ãé¡¹ç®éç¨å¨æ æ¶æï¼æ¯æå¤è¯­è¨ï¼æ¬¢è¿å¼åèåä¸ãACP æ¨å¨æé«å¼åæçï¼ç§¯ææ¨å¨ç¤¾åºåä½ã</p>
<h3 id="ç¨-net-maui-10--vs-copilot-ä»-0-å¼åä¸ä¸ªç­¾å°-appåå-copilot-ä¸èµ·åå»ºç­¾å°åå²é¡µé¢">ç¨ .NET MAUI 10 + VS Copilot ä» 0 å¼åä¸ä¸ªç­¾å° Appï¼åï¼å Copilot ä¸èµ·åå»ºãç­¾å°åå²é¡µé¢ã</h3>
<p><a href="https://www.cnblogs.com/densen2014/p/19379931" target="_blank">https://www.cnblogs.com/densen2014/p/19379931</a></p>
<p>æ¬æä»ç»å¦ä½ä½¿ç¨ .NET MAUI å VS Copilot ä»é¶å¼åç­¾å° App çç­¾å°åå²é¡µé¢ãåæå®æäºåºæ¬çç­¾å°é¡µé¢ï¼æ¬ç¯éç¹å¨äºå±ç¤ºç¨æ·çç­¾å°è®°å½ãæç« é¦åæç¡®ç®æ ï¼å³å®ç°ç­¾å°åå²é¡µé¢ï¼å¹¶ååºå®ç°æ­¥éª¤ãCopilot çæäºç­¾å°åå²é¡µé¢ç XAML ä»£ç ï¼è®¾è®¡ç®æ´ï¼ä½¿ç¨äº CollectionViewï¼å±ç¤ºç­¾å°æ¶é´ä¿¡æ¯ãåæ¶ï¼é¡µé¢é»è¾ç± Copilot èªå¨çæï¼å±ç¤ºäºè¯å¥½çå·¥ç¨å®è·µãæ´ä½åå®¹å´ç»çå®ä¸å¡éæ±å±å¼ï¼å®ç¨æ§å¼ºã</p>
<h3 id="æªæ¥å·²æ¥--åç»-net-å¼åèç-2025-å¹´åº¦æ»ç»">æªæ¥å·²æ¥ | åç» .NET å¼åèç 2025 å¹´åº¦æ»ç»</h3>
<p><a href="https://www.cnblogs.com/sheng-jie/p/19402252/goodbye-2025-welcome-2026" target="_blank">https://www.cnblogs.com/sheng-jie/p/19402252/goodbye-2025-welcome-2026</a></p>
<p>æ¬æä¸º.NET å¼åèæ»ç»äº 2025 å¹´çææ¯è¶å¿ï¼éç¹è®¨è®ºäº AI ä¸.NET çèåååå±ãæåºäº AI æ¨¡åçå¿«éè¿æ­¥åå¶å¯¹å¼åèçå½±åï¼åæ¬æ´å¼ºçä»£ç çæåèªå¨åè½åãå¼ºè°äº AI ä»å©æåä»£ççè¿åï¼å·å¤è§åãæ¨çãå·¥å·è°ç¨åè®°å¿ç­æ ¸å¿è½åãåæ¶åé¡¾äº.NET çæçéè¦éç¨ç¢ï¼å¦.NET 10 åå¸å C#å¨ TIOBE æ¦åä¸çä¸åï¼å±ææªæ¥çææä¸æºéã</p>
<h3 id="ä»-mcp-å°-agent-skillsai-ready-ç-net-10-æ­£å½æ¶">ä» MCP å° Agent Skillsï¼AI Ready ç .NET 10 æ­£å½æ¶</h3>
<p><a href="https://www.cnblogs.com/sheng-jie/p/19381647" target="_blank">https://www.cnblogs.com/sheng-jie/p/19381647</a></p>
<p>æ¬æä»ç»äºå¦ä½ä½¿ç¨ .NET File-Based Apps ç¼åé«æç Agent Skills èæ¬ãAgent Skills æ¯ä¸ç§è½»éçº§çæ ¼å¼ï¼æ¨å¨æ©å± AI Agent çè½åï¼æ¯æåæ¬ Python å JavaScript å¨åçå¤ç§è¯­è¨ãæç« è®²è§£äº Agent Skills çæ ¸å¿æ¦å¿µãåºç¨åºæ¯åå¶ç®å½ç»æï¼å¼ºè°äº .NET å¨èæ¬å¼åä¸­çç±»åå®å¨åæ§è½ä¼å¿ãä½èæåºï¼Agent Skills ä½¿ä¸ä¸ç¥è¯å°è£ãæéå è½½åå¯æ§è¡è½åæä¸ºå¯è½ï¼è½å¤ä¼åå·¥ä½æµåè·¨å·¥å·äºæä½æ§ãæ´ä½ä¸ï¼æç« ä¸ºå¼åèæä¾äºå®è·µæå¯¼ã</p>
<h3 id="é®ä¸é´exe-æ¯ä½ç©ç´æ-ai-æ²é»web-å¯¡è¨1">é®ä¸é´ï¼exe æ¯ä½ç©ï¼ç´æ AI æ²é»ãWeb å¯¡è¨ï¼1ï¼</h3>
<p><a href="https://www.cnblogs.com/sunhui/p/19391507" target="_blank">https://www.cnblogs.com/sunhui/p/19391507</a></p>
<p>è¿ç¯æç« ä»¥ç±ä¸½ä¸çè§è§æ¢è®¨äº WinForms åºç¨å¼åçå¥å¦ä¸çãä½èå©ç¨éå»è¡¨è¾¾äº. exe æä»¶çåå¨å¤ææ§ä¸æ½åï¼å¼ºè°äºç°ä»£ææ¯å¯¹ä¼ ç»ç¼ç¨çå½±åãç±ä¸½ä¸ä»å¯¹æµè§å¨çæå¹ï¼å°å¯¹ AI åç¼ç¨çæ¢ç´¢ï¼å±ç°äºææ¯æ¼åå¸¦æ¥çå¯è½ãæç« å¯¹ç¼è¯åè½¯ä»¶çµé­çæèå¼åºäºæ°å­æ¶ä»£çåé©ãæ´ä½åè¿°åæ»¡å¹»æ³ä¸å¯åï¼å¼åè¯»èå¯¹ç¼ç¨ä¸è½¯ä»¶çå½çæ·±åº¦æç´¢ã</p>
<h3 id="ææ-64-ä½-winform-åºç¨é½æ¯-chromium-æµè§å¨">ææ 64 ä½ WinForm åºç¨é½æ¯ Chromium æµè§å¨</h3>
<p><a href="https://www.cnblogs.com/sunhui/p/19395609" target="_blank">https://www.cnblogs.com/sunhui/p/19395609</a></p>
<p>æç« è®¨è®ºäº 64 ä½ WinForm/MFC/WPF åºç¨ä¸ç°ä»£æµè§å¨ä¹é´çå³ç³»ï¼å¼ºè°è¿ç±»æ¡é¢åºç¨å¶å®å¯ä»¥è¢«è§ä¸ºæµè§å¨ãä½èç»åä¸ªäººç»ååä¸ AI çå¯¹è¯ï¼æåºæ¡é¢åºç¨åºèå¥ Web çæï¼ä»¥ä¾¿ååå©ç¨ AI å Web ææ¯ï¼ä»èæååºç¨ä»·å¼ãè½ç¶ææ¯ä¸å¯è½é¢ä¸´ä¸äºææï¼ä½æç»ç¨æ·çéæ±å¯è½æ¨å¨å¼åèæ¥åè¿ç§è½¬åãæç« è§ç¹æ°é¢ï¼ææä¼ ç»è®¤ç¥ï¼æå©äºå¼åå¯¹æªæ¥è½¯ä»¶å¼åè¶å¿çæèã</p>
<h3 id="wpf-ä½¿ç¨-rendertransform-å®ç°é«æ§è½å¹³æ»æ»å¨ç-scrollviewer">WPF ä½¿ç¨ RenderTransform å®ç°é«æ§è½å¹³æ»æ»å¨ç ScrollViewer</h3>
<p><a href="https://www.cnblogs.com/TwilightLemon/p/19383555" target="_blank">https://www.cnblogs.com/TwilightLemon/p/19383555</a></p>
<p>æ¬ææ¢è®¨äº WPF ä¸­å®ç°å¹³æ»æ»å¨çä¸ç§æ¹æ¡ï¼éç¹ä»ç»äºç¬¬ä¸çè®¾è®¡ï¼v3ï¼ï¼å°è§è§å±ä¸é»è¾å±åç¦»ãv3 æ¹æ¡éè¿ä½¿ç¨ TranslateTransform éä½é¢ç¹å¸å±è®¡ç®ï¼æåæ§è½ï¼åæ¶ä»¥è¾ä½é¢çæ´æ°é»è¾ä½ç½®ï¼ä¿è¯æ»å¨ä½éªæµçãæä¸­è¯¦ç»æè¿°äºè§è§ä¸é»è¾å±çå¤çæ¹å¼ï¼ä»¥åç©çæ¨¡åçè®¾è®¡æè·¯ï¼ç¹å«æ¯å¨æéåº¦å å­ä¸ç©çè¡°åæ¨¡åçåºç¨ï¼ä½¿å¾æ»å¨ä½éªæ´æ¥è¿çå®ç©çææãæ´ä½æè·¯æ¸æ°ï¼æå©äºå¼åèçè§£åå®ç°é«æçæ»å¨åè½ã</p>
<h3 id="hellogithubç¬¬-117-æ">ãHelloGitHubãç¬¬ 117 æ</h3>
<p><a href="https://www.cnblogs.com/xueweihan/p/19400116" target="_blank">https://www.cnblogs.com/xueweihan/p/19400116</a></p>
<p>HelloGitHub æ¯ä¸ä¸ªåäº«å¼æºé¡¹ç®çå¹³å°ï¼é¼å±ç¨æ·æ¢ç´¢å¼æºçé­åãå®æä¾å¤ç§ç¼ç¨è¯­è¨çå¥é¨é¡¹ç®åå®ææç¨ï¼åæ¬ CãC#ãC++ãGo ç­ãè¯¥å¹³å°æ¯ææ´æ°åå®¹ï¼æ¶µçå¤æ¬¾å·¥å·ï¼å¦ç¨äº Linux çæå¿å¯å¨å¨ Hexecuteï¼ä»¥åæµè¡ç C# å·¥å· BetterLyrics å LiteMonitorãéè¿ç®åæç¨ççé¢ï¼è¿äºå·¥å·æåäºç¨æ·çå¼åä½éªãHelloGitHub éåæ°æåæç»éªçå¼åèï¼ä¿è¿äºå¼æºæåçä¼ æ­ã</p>
<h3 id="åºäºè±å¸å°¼è¨å¬å¼çç¼ç¨è¯­è¨è®¡ç®æ§è½åºåæµè¯">åºäºè±å¸å°¼è¨å¬å¼çç¼ç¨è¯­è¨è®¡ç®æ§è½åºåæµè¯</h3>
<p><a href="https://www.cnblogs.com/shanyou/p/19408361" target="_blank">https://www.cnblogs.com/shanyou/p/19408361</a></p>
<p>æ¬ææ¢è®¨äºè±å¸å°¼è¨å¬å¼è®¡ç®åå¨ççç®æ³åå¶å¨æ§è½åºåæµè¯ä¸­çåºç¨ãå°½ç®¡æ¶æéåº¦æ¢ï¼è±å¸å°¼è¨çº§æ°å¨æµ®ç¹è¿ç®ãå¾ªç¯é»è¾å ALU ååæµè¯ä¸­æ¾ç¤ºåºä¸éçæç¨ãæç« åæäº 62 ç§ç¼ç¨è¯­è¨çæ§è½ï¼åæ¬ C#å C++ï¼å¹¶æ¢è®¨äº SIMD ææ¯åç¼è¯å¨ä¼åå¨æ§è½å·®å¼ä¸­çä½ç¨ãC#å¨åºåæµè¯ä¸­è¡¨ç°ä¼å¼ï¼å ä¹ä¸ C++ å¹³èµ·å¹³åï¼ææäºæç®¡è¯­è¨æ§è½çå»æ¿å°è±¡ãéè¿è¯ä¼°ç¼è¯å¨çæçï¼æç« æ­ç¤ºäºç°ä»£è¯­è¨å¨ç®æ³å®ç°ä¸­çæ·±åº¦åå¤ææ§ã</p>
<h3 id="net10-new-feature-æ°å¢åè½ä»ç»-ç±»åºæ°å¢åè½">.NET10 New feature æ°å¢åè½ä»ç»-ç±»åºæ°å¢åè½</h3>
<p><a href="https://www.cnblogs.com/tianqing/p/19380073" target="_blank">https://www.cnblogs.com/tianqing/p/19380073</a></p>
<p>æ¬æä»ç»äº.NET 10 ç±»åºçæ°å¢åè½ï¼åæ¬ ISOWeek å¯¹ DateOnly ç±»åçæ¯æãæ°å¼å­ç¬¦ä¸²æ¯è¾çæ°æ¹æ³ãååæ° TimeSpan.FromMilliseconds éè½½ãOrderedDictionary ç TryAdd å TryGetValue éè½½ç­ãè¿äºåè½æé«äºä»£ç ççµæ´»æ§åå¯è¯»æ§ï¼æ¹ä¾¿äºå¼åèå¨å®éåºç¨ä¸­çä½¿ç¨ï¼åæ äº.NET ææ¯çæç»­æ¼è¿åå®ç¨æ§ã</p>
<h3 id="ef-coreå°ä¸ä¸ªå®ä½æ å°å°å¤ä¸ªè¡¨çæ­£ç¡®æ¹æ³">ãEF Coreãå°ä¸ä¸ªå®ä½æ å°å°å¤ä¸ªè¡¨çæ­£ç¡®æ¹æ³</h3>
<p><a href="https://www.cnblogs.com/tcjiaan/p/19394178" target="_blank">https://www.cnblogs.com/tcjiaan/p/19394178</a></p>
<p>æ­¤ææ¢è®¨å®ä½æåï¼å³å°ä¸ä¸ªå®ä½æ å°å°å¤ä¸ªæ°æ®åºè¡¨ãéè¿ä¸¾ä¾è¯´æï¼ä¸ä¸ªå­¦çå®ä½å¯ä»¥æåä¸ºåºç¡ä¿¡æ¯ãè¡¥åä¿¡æ¯åèç³»æ¹å¼ä¸ä¸ªè¡¨ï¼å¹¶å¼ºè°è¿ä¸ä¸ªè¡¨è¡çå¯¹åºå³ç³»ãæç« æåºï¼è®¾è®¡ä¸­ä¸»é®ä¸å¤é®å¯ä»¥è®¾ä¸ºåä¸åï¼ç¡®ä¿æ°æ®ä¸è´æ§ãæåï¼ç»åºå®ä½ç±»çä»£ç ç¤ºä¾ï¼è®¡åå°å® ç©æ å°å°ä¸ä¸ªè¡¨ï¼ç¤ºèåºæ¬ä¿¡æ¯ãç¹å¾åé¢å¤ä¿¡æ¯çæåãè¿ç§å¤çæ¹å¼æåäºæ°æ®ç»æçæ¸æ°åº¦ä¸åçæ§ã</p>
<h3 id="éè¿-c-ä¸º-pdf-ææ¡£æ·»å çµå­ç­¾å">éè¿ C# ä¸º PDF ææ¡£æ·»å çµå­ç­¾å</h3>
<p><a href="https://www.cnblogs.com/jazz-z/p/19396484" target="_blank">https://www.cnblogs.com/jazz-z/p/19396484</a></p>
<p>çµå­ç­¾åå¨ææ¡£åè§æ§ä¸­éè¦ãåºäº C# ç Spire.PDF åºå¯ä»¥å®ç° PDF çµå­ç­¾åï¼ç¨æ·æ éä¾èµç¬¬ä¸æ¹è½¯ä»¶ãæç« è¯¦ç»éè¿°äºåºçä½¿ç¨æ¹æ³ï¼åæ¬å®è£ .NET åºãæ ¸å¿ä¾èµï¼.pfx æ ¼å¼è¯ä¹¦ï¼åå®ç°é»è¾ãä»ç»äºå è½½ PDF ææ¡£ãè§£æè¯ä¹¦ãåå§åç­¾åå¨ãæ§è¡ç­¾åä»¥åä¿å­ææ¡£çæ­¥éª¤ãç¤ºä¾ä»£ç æ¸æ°ææï¼éåéè¦çµå­ç­¾åçåºæ¯ãæç« åå®¹å·ä½ãææ¯æ§å¼ºä¸å·å®ç¨æ§ãä½¿ç¨æ¡ä¾æ¶µçåºç¡çµå­ç­¾ååå¯è§ç­¾åç­åè½ã</p>
<h3 id="ä¼ä¸çº§å¤æºè½ä½ç³»ç»masæ¶ææ·±åº¦ç ç©¶c-ä¸-python-çæç³»ç»çå¨é¢å¯¹æ¯ä¸æç¥è¯ä¼°">ä¼ä¸çº§å¤æºè½ä½ç³»ç»ï¼MASï¼æ¶ææ·±åº¦ç ç©¶ï¼C# ä¸ Python çæç³»ç»çå¨é¢å¯¹æ¯ä¸æç¥è¯ä¼°</h3>
<p><a href="https://www.cnblogs.com/shanyou/p/19380471" target="_blank">https://www.cnblogs.com/shanyou/p/19380471</a></p>
<p>è¿ç¯æç« æ¢è®¨äº C#ä¸ Python å¨ä¼ä¸çº§å¤æºè½ä½ç³»ç»ä¸­çéç¨æ§ãéççæå¼äººå·¥æºè½çåå±ï¼ä¼ä¸è½¯ä»¶æ¶æé¢ä¸´è½¬åãä½èåæäº C#å Python çæ ¸å¿æ¡æ¶åäº§åï¼æåºå°½ç®¡ Python å¨ AI å¼åä¸­å ä¸»å¯¼ï¼ä½å¨å¤æºè½ä½çå·¥ç¨åå®ç°ä¸­ï¼C#å±ç°åºæ´å¼ºçæ§è½åå®å¨æ§ãC#çä»»å¡å¹¶è¡åºåéæç±»åç³»ç»åå°äºéæé£é©ï¼åæ¶.NET ç Native AOT ææ¯éä½äºå·å¯å¨å»¶è¿ãæç« å»ºè®®ï¼å¯¹äºå¤æçä¼ä¸çº§ç³»ç»ï¼C#æ¯æ´ç¨³å¥çéæ©ï¼è Python åéç¨äºå¿«éåååç¹å®æ°æ®ç§å­¦ä»»å¡ã</p>
<h3 id="ä¸æ¬¾è½»éçº§-winform-å¼æºæ§ä»¶åºè®©èçé¢ç§åé«é¢å¼">ä¸æ¬¾è½»éçº§ WinForm å¼æºæ§ä»¶åºï¼è®©èçé¢ç§åé«é¢å¼</h3>
<p><a href="https://www.cnblogs.com/1312mn/p/19201142" target="_blank">https://www.cnblogs.com/1312mn/p/19201142</a></p>
<p>æ¬æä»ç»äºä¸æ¬¾åºäº WinForm çèªç»æ§ä»¶åºï¼æ¨å¨æåç¨æ·çé¢çè§è§ææåäº¤äºä½éªãè¯¥åºéè¿èªå®ä¹ç»å¶ææ¯ï¼å®ç°äºä¸°å¯ãçµæ´»çæ§ä»¶è®¾è®¡ï¼å·å¤é«åº¦å¯å®å¶æ§åå¨ç»ææï¼åæ¬æé®ãé¢æ¿åææ¬æ¡ç­ãPPFlodPanel æ§ä»¶çªåºå¶å¨ç»ç¹æ§ï¼ä¸ºç¨æ·æä¾æµççå±å¼ä¸æå ä½éªãä½èéè¿éåæ§ä»¶ç OnPaint æ¹æ³ï¼è¿ç¨ GDI+ å¾å½¢åºè¿è¡ç»å¶ï¼åæ¶å¼å¥å®æ¶å¨æºå¶æ¥æ§å¶å¨ç»ææãè¿ç§æ¹æ³ææå°æ¹åäº WinForm åºç¨çè§è§åç°ï¼å·æè¾é«çå®ç¨ä»·å¼åææ¯æ·±åº¦ã</p>
<h3 id="ä¸ä¸ª-net-å¼æºåè´¹åè½å¼ºå¤§ç-ui-èªå¨ååº">ä¸ä¸ª .NET å¼æºåè´¹ãåè½å¼ºå¤§ç UI èªå¨ååº</h3>
<p><a href="https://www.cnblogs.com/Can-daydayup/p/19395009" target="_blank">https://www.cnblogs.com/Can-daydayup/p/19395009</a></p>
<p>FlaUI æ¯ä¸ä¸ªå¼æºç.NET UI èªå¨ååºï¼ä¸ä¸º Windows æ¡é¢åºç¨çèªå¨åæµè¯è®¾è®¡ãå®åºäº Microsoft ç UI Automation åºæå»ºï¼æä¾çµæ´»ç APIï¼ä¾¿äºå¼åèç¼åæµè¯èæ¬ãè¯¥åºéç¨äºåè½æµè¯ãåå½æµè¯å UI éªè¯ç­åºæ¯ãæç« åå«åå»ºé¡¹ç®çæ­¥éª¤ä»¥åå·ä½ä»£ç ç¤ºä¾ï¼å±ç¤ºå¦ä½æä½è®°äºæ¬ãè¯»èå¯ä»¥éè¿æä¾ç GitHub é¾æ¥è·åé¡¹ç®æºç ï¼å¹¶å³æ³¨ç¸å³ä¼è´¨é¡¹ç®åæ¡æ¶ä»¥æåå¼åæçã</p>
<h3 id="net-æ°æ®æåä¸åéåæ¶ææå»ºä¼ä¸çº§æ£ç´¢å¢å¼ºçæragç®¡é">.NET æ°æ®æåä¸åéåæ¶æï¼æå»ºä¼ä¸çº§æ£ç´¢å¢å¼ºçæï¼RAGï¼ç®¡é</h3>
<p><a href="https://www.cnblogs.com/shanyou/p/19408104" target="_blank">https://www.cnblogs.com/shanyou/p/19408104</a></p>
<p>æ¬ææ¢è®¨äºçæå¼äººå·¥æºè½å¨ä¼ä¸çº§åºç¨å¼åä¸­çåºç¨ï¼ä»ç»äºå¾®è½¯ç Microsoft.Extensions.DataIngestion å Microsoft.Extensions.VectorData åºãè¿äºåºæ å¿çä»å®éªæ§å°æ åå AI æ°æ®ç®¡éçè½¬åãæç« åæäºå¦ä½éè¿ç»ä¸ææ¡£è¡¨ç¤ºè§£å³éç»æåæ°æ®å¤ççææï¼å¹¶æ¢è®¨äºæ°æ®æåæµç¨çæ ååãæ¨¡åååè§£è¦è®¾è®¡æé«äºçµæ´»æ§ï¼ä½¿å¼åèå¯ä»¥ä¾¿æ·å°è°æ´åºå±æ¶æãæ­¤å¤ï¼æä¸­è¿éè¿°äºéæ© Markdown ä½ä¸ºä¸­é´æ ¼å¼çä¼å¿ï¼å¢å¼ºäºå¯¹å¤§è¯­è¨æ¨¡åçå¼å®¹æ§ãè¿äºææ¯å±ç°äºç°ä»£ AI åºç¨çæªæ¥æ¹åã</p>
<h3 id="å¨æ å¼åå®æwpfffmpeggisæé å·¥ä¸çº§é·è¾¾æ¢æµç»ç«¯">å¨æ å¼åå®æï¼WPF+FFmpeg+GISï¼æé å·¥ä¸çº§é·è¾¾æ¢æµç»ç«¯</h3>
<p><a href="https://www.cnblogs.com/yuanchenhui/p/19387990/radar-client" target="_blank">https://www.cnblogs.com/yuanchenhui/p/19387990/radar-client</a></p>
<p>å¨å·¥ä¸è½¯ä»¶çå½äº§ååæºè½åçº§ä¸­ï¼å¼åèéå°ææ¯è½¬åä¸ºå®ç¨æ¹æ¡ãæ¬æä»ç»ä¸æ¬¾å·¥ä¸çº§é·è¾¾æ¢æµç»ç«¯çå¼åè¿ç¨ï¼æ¶µçæ¶æè®¾è®¡ãç¼ç ååè½å®ç°ï¼èå WPFãå¤åè®®éä¿¡ãGIS å¯è§åç­ææ¯ï¼ç¡®ä¿é«ç²¾åº¦åæç¨æ§ãç³»ç»éç¨æ¨¡ååè®¾è®¡ï¼ä¿éç¨³å®æ§å¹¶é¢çæ©å±ç©ºé´ãæ ¸å¿ææ¯åæ¬ GPU å éå¯è§åãé«ææ°æ®å¤çåæºè½é¢è­¦ï¼è½å¤ç²¾åçæµãå®æ¶å±ç¤ºåæ¥è­¦æ»¡è¶³ä¸ªæ§åéæ±ï¼å®ç°å¤è®¾å¤èå¨ååå²æ°æ®åæº¯ãæ´ä½è®¾è®¡æ³¨éç¨æ·ä½éªï¼éè¿çµæ´»çæ§å¶éé¡¹åç´è§ççé¢æåæä½æçã</p>
<h3 id="é®ä¸é´exe-æ¯ä½ç©ç´æ-ai-æ²é»web-å¯¡è¨4">é®ä¸é´ï¼exe æ¯ä½ç©ï¼ç´æ AI æ²é»ãWeb å¯¡è¨ï¼4ï¼</h3>
<p><a href="https://www.cnblogs.com/sunhui/p/19399320" target="_blank">https://www.cnblogs.com/sunhui/p/19399320</a></p>
<p>è¿ç¯æç« æ¢è®¨äºæ¡é¢åºç¨ç¨åºçæ·±å±æä¹ï¼è®¤ä¸ºç¼è¯åç exe æä»¶å¹¶éç®åå·¥å·ï¼èæ¯æ¥æèªèº«çå½çå¤æç³»ç»ãä½èéè¿æ¯å»åå²å­¦æèï¼æåºæ¯ä¸ªåºç¨é½æ¯æ½å¨çæµè§å¨ï¼å¼ºè°å¼åèåºæè¯å°ç¨åºçæ éå¯è½æ§ãæç« å¨ç¼ç¨èåä¼ è¾¾äºå³äºéæ©åæå¾çéè¦çå¿µï¼é¼å±å¼åèæ¥æ±æ°ææ¯ï¼åç°éèå¨ä»£ç ä¸­çåæ°æ½åã</p>
<h3 id="è¯å¨-visual-studio-2026-ä¸­åå°åçº§æ¶é´å¢å ç¼ç æ¶é´">ãè¯ãå¨ Visual Studio 2026 ä¸­ï¼åå°åçº§æ¶é´ï¼å¢å ç¼ç æ¶é´</h3>
<p><a href="https://www.cnblogs.com/MeteorSeed/p/19403351" target="_blank">https://www.cnblogs.com/MeteorSeed/p/19403351</a></p>
<p>Visual Studio 2026 æä¾æ´ç®ä¾¿çå®è£ä½éªï¼èªå¨å¤å¶ Visual Studio 2022 çéç½®ï¼èçéç½®æ¶é´ãå®æ¯æå¤ç§å·¥å·éå SDKï¼åè®¸ç¬ç«æ´æ° IDE èä¿æå¼å®¹æ§ãè®¾ç½®å©æå¯ä»¥å¿«ééå®åé¡¹ç®å°ææ°çæ¬ï¼å¹¶è½»æ¾å®è£ç¼ºå¤±çä¾èµé¡¹ãåç½®ç GitHub Copilot åºç¨ç°ä»£ååè½ï¼è½å¸®å©ç¨æ·å°é¡¹ç®è¿ç§»è³ Azureãåå¸æ´æ°çéåº¦å å¿«ï¼ç¨æ·å¯éè¿âUpdate on Closeâåè½è½»æ¾ä¿æææ°çæ¬ãæ´ä½ä½éªæ´å é«æåä¾¿æ·ã</p>
<h3 id="maf-å¿«éå¥é¨8æ¡ä»¶è·¯ç±å·¥ä½æµ">MAF å¿«éå¥é¨ï¼8ï¼æ¡ä»¶è·¯ç±å·¥ä½æµ</h3>
<p><a href="https://www.cnblogs.com/edisontalk/p/-/quick-start-on-maf-chatper08" target="_blank">https://www.cnblogs.com/edisontalk/p/-/quick-start-on-maf-chatper08</a></p>
<p>æ¬æä»ç»äºå¨ MAF ä¸­å¦ä½å®ç°æ¡ä»¶è·¯ç±ï¼ç¹å«æ¯å¨ä¼ä¸åé¨é®ä»¶æ£æµçå·¥ä½æµä¸­åºç¨ãæ¡ä»¶è·¯ç±å¯ä»¥æ ¹æ®é®ä»¶æ¯å¦ä¸ºåå¾é®ä»¶æ¥å³å®åç»­å¤çæ­¥éª¤ãä½¿ç¨ Conditional Edge å®ç° if-else å³ç­ï¼æ¡ä¾å±ç¤ºäºå¦ä½éè¿ LLM å¤æ­é®ä»¶ï¼å¹¶å°å¶è½¬äº¤ç»ç¸åºçèç¹ãè®¾ç½®.NET æ§å¶å°åºç¨ç¨åºï¼è¯»å LLM API ä¿¡æ¯å¹¶å®ä¹æ°æ®æ¨¡åãæ¬ææä¾äºå®ç¨çææ¯æ¹æ¡ï¼éåå¼åèå­¦ä¹ ä¸åºç¨ã</p>
<h3 id="cnetnet-core-ææ¯åæ²¿å¨å--ç¬¬-64-æ2025-å¹´-121-1221">C#/.NET/.NET Core ææ¯åæ²¿å¨å | ç¬¬ 64 æï¼2025 å¹´ 12.1-12.21ï¼</h3>
<p><a href="https://www.cnblogs.com/Can-daydayup/p/19384367" target="_blank">https://www.cnblogs.com/Can-daydayup/p/19384367</a></p>
<p>è¿ç¯æç« ä»ç»äº C#/.NET/.NET Core ææ¯çææ°å¨æï¼åæ¬å®ç¨ç±»åºãVisual Studio 2026 çä¸è½½åå®è£æç¨ãUI èªå¨ååº FlaUIãå¤æååºååçå®å¨æ§åæã.NET å.NET Framework çæå¡æ´æ°ãå¦ä½ç¨.NET MAUI æå»º iOS å°é¨ä»¶ä»¥å.NET 10 çç½ç»æ¹è¿ãè¿äºåå®¹æä¾äºææ°çææ¯æååå®ç¨å·¥å·ï¼å¸®å©å¼åèæåç¼ç¨æçåç®åå¼åæµç¨ã</p>
<h3 id="åºäº-blazor-å®ç°çæ ·åæ«ç æ¯å¯¹ç®¡çç³»ç»">åºäº Blazor å®ç°çæ ·åæ«ç æ¯å¯¹ç®¡çç³»ç»</h3>
<p><a href="https://www.cnblogs.com/known/p/19399622" target="_blank">https://www.cnblogs.com/known/p/19399622</a></p>
<p>æ ·åæ«ç æ¯å¯¹ç®¡çç³»ç»éæ PDA å PC ç«¯ï¼éç¨ C#+Blazor æ¡æ¶å¼åãPC ç«¯å¯å½å¥æ ·åä¿¡æ¯ãç»è®¡æ¯å¯¹è®°å½ï¼PDA ç«¯æ¯ææ«ç ç»å½åæ¯å¯¹æä½ãç³»ç»å±ç¨ç½åï¼ä½¿ç¨ PWA ææ¯ï¼æ°æ®åºä¸º MySQLï¼å¹¶é¨ç½²äºé¿éäº ECSï¼å®å¨æªæ½åæ¬ HTTPS å RBAC æéæ§å¶ãåè½æ¨¡åæ¶µçæ ·åä¿¡æ¯ç®¡çãæ¯å¯¹è®°å½æ¥è¯¢åç³»ç»è®¾ç½®ãææ¯é¾ç¹å¨äºå®ç° PDA æé®æ«ç åé¿åå¼¹åºè½¯é®çï¼ä¾èµ JS æ¨¡æé®çè¾å¥ãç³»ç»å®ç°äºæçåå®å¨æ§ã</p>
<h3 id="bi-æ¥è¡¨åå¯è§ååæç±»å·¥å·ä½¿ç¨ç»éªæ»ç»ä¸">BI æ¥è¡¨åå¯è§ååæç±»å·¥å·ä½¿ç¨ç»éªæ»ç»ï¼ä¸ï¼</h3>
<p><a href="https://www.cnblogs.com/davablog/p/19205294" target="_blank">https://www.cnblogs.com/davablog/p/19205294</a></p>
<p>è¿ç¯æç« æ»ç»äºä½èä½ä¸ºæ°æ®å·¥ç¨å¸ä½¿ç¨çåç§ BI æ¥è¡¨åå¯è§åå·¥å·ï¼åæ¬å¾®è½¯ SSRSãOracle BIEEãå¸è½¯ FineReportãç½æææ° BI ç­ãä½èåäº«äºæ¯ç§å·¥å·çç¹ç¹åéç¨åºæ¯ï¼æåºäºå®ä»¬çä¼ç¼ºç¹ååè½ãæç« è¿æ¢è®¨äºå·¥å·çé¨ç½²æ¶æï¼åæ¬ C/S å B/S æ¶æçåºå«åå·ä½åºç¨ãéè¿å¤å¹´çå®è·µç»éªï¼ä½èæä¾äºå¯¹æ°æ®å·¥ç¨å¸å¨å·¥ä½ä¸­å¦ä½éæ©åä½¿ç¨è¿äºå·¥å·çæå¯¼ï¼å¼ºè°äºå·¥å·å¨åæåå±ç¤ºæ°æ®ä¸­çéè¦æ§ã</p>
<h3 id="rabbitmq-åå¸è®¢éæ¨¡å¼å¤å®ä¾æ¶è´¹èé²æ­¢éå¤æ¶è´¹å®ç°æ¹å¼">RabbitMQ åå¸è®¢éæ¨¡å¼å¤å®ä¾æ¶è´¹èé²æ­¢éå¤æ¶è´¹å®ç°æ¹å¼</h3>
<p><a href="https://www.cnblogs.com/zhaorong/p/19392986" target="_blank">https://www.cnblogs.com/zhaorong/p/19392986</a></p>
<p>æ¬æè®¨è®ºäº RabbitMQ å¨ C#ä¸­çåºç¨ï¼ä»ç»äºå¦ä½éè¿å®ç°åå¸è®¢éæ¨¡å¼æ¥é²æ­¢æ¶æ¯éå¤æ¶è´¹ãæç« æä¾äºè¯¦ç»çç¯å¢æ­å»ºæ­¥éª¤ï¼åæ¬ Docker ä¸é¨ç½² RabbitMQ åæ·»å ç¸å³åï¼éç¹å¨äºéç½®åä»£ç ç¤ºä¾ï¼ä»¥ä¾¿è¯»èè½å¤å¿«éä¸æãéå¯¹ RabbitMQ.Client çä¾èµç®¡çï¼æä¸­æåºäºçæ¬æ´æ°åçå¼æ­¥å¤çååï¼ç¡®ä¿è¯»èå¯é¡ºå©ä½¿ç¨ææ°ç¹æ§ãæ´ä½åå®¹éè¿å®ä¾å¼å¯¼è¯»èå®ç°åºæ¬åè½ï¼å·æå®ç¨æ§åæå¯¼æ§ã</p>
<h3 id="maui-åºæ¨èä¸syncfusionmauitoolkit">MAUI åºæ¨èä¸ï¼Syncfusion.Maui.Toolkit</h3>
<p><a href="https://www.cnblogs.com/sesametech-dotnet/p/19401006" target="_blank">https://www.cnblogs.com/sesametech-dotnet/p/19401006</a></p>
<p>Syncfusion Toolkit for .NET MAUI æ¯ä¸ä¸ªé«è´¨éçç¨æ·çé¢æ§ä»¶å·¥å·åï¼æ¯æå¼åè·¨å¹³å°çé«æ§è½åºç¨ç¨åºãå®å¸®å©å¼åèå¨ç­æ¶é´ååå»ºç¾è§ä¸åè½ä¸°å¯çåºç¨ãè¯¥å·¥å·åæ¯æå¤ç§æ§ä»¶ï¼åæ¬æ°æ®å¯è§åãæ¥åãç¼è¾æ§ä»¶ãå¯¼èªåæé®ç­ï¼éç¨äº iOSãAndroidãmacOS å Windowsãéè¿ NuGet è½»æ¾å®è£ï¼å¹¶ä¸æè¯¦ç»çææ¡£æ¯æãé¡¹ç®å°åä¸º <a href="https://github.com/syncfusion/maui-toolkit" target="_blank" rel="noopener nofollow">https://github.com/syncfusion/maui-toolkit</a>ï¼éç¨ MIT ææï¼æ¹ä¾¿å¼åèä½¿ç¨ã</p>
<h3 id="è¯azure-mcp-æå¡å¨ç°å·²åç½®å°-visual-studio-2026-ä¸­æºè½ä½å·¥ä½æµçæ°æ¶ä»£">ãè¯ãAzure MCP æå¡å¨ç°å·²åç½®å° Visual Studio 2026 ä¸­ï¼æºè½ä½å·¥ä½æµçæ°æ¶ä»£</h3>
<p><a href="https://www.cnblogs.com/MeteorSeed/p/19381988" target="_blank">https://www.cnblogs.com/MeteorSeed/p/19381988</a></p>
<p>Azure MCP æå¡å¨å·¥å·å·²å¨ Visual Studio 2026 ä¸­éæï¼ä½¿äºèµæºç®¡çæ´é«æãå¼åäººåå¯ä»¥å©ç¨èªç¶è¯­è¨çæä»£ç ï¼æ¥è¯¢ç®¡ç Azure èµæºãæ­¤å·¥å·ç®åäºå¼åæµç¨ï¼åå°ä¸ä¸æåæ¢ï¼æé«äºå·¥ä½æçãVisual Studio 2026 æä¾äºèªå¨å CI/CD è®¾ç½®å Azure CLI å½ä»¤çæç­åè½ï¼è¿ä¸æ­¥å¢å¼ºå¼åä½éªãéè¿æ­¤ææ¯ï¼å¼åèè½å¤ä¸æ³¨äºæå»ºåæ°ãå®å¨çåºç¨ç¨åºï¼æåå·¥ä½ææã</p>
<h3 id="opencvsharpä½¿ç¨éå¤«åæ¢æ£æµç´çº¿">OpenCVSharpï¼ä½¿ç¨éå¤«åæ¢æ£æµç´çº¿</h3>
<p><a href="https://www.cnblogs.com/mingupupu/p/19390228" target="_blank">https://www.cnblogs.com/mingupupu/p/19390228</a></p>
<p>éå¤«åæ¢æ¯ä¸ç§è®¡ç®æºè§è§ææ¯ï¼ç¨äºå¾åä¸­å ä½å½¢ç¶çæ£æµãå®å°å¾åç¹æ å°å°åæ°ç©ºé´ï¼ä»¥è¯å«ç´çº¿ç­å½¢ç¶ãè¯¥ææ¯å¨å¾ååªå£°åé¨åé®æ¡ä¸­è¡¨ç°åºé²æ£æ§ï¼å¹¿æ³åºç¨äºéè·¯æ£æµåææ¡£åæãå®è·µä¸­ï¼ä½¿ç¨ Canny è¾¹ç¼æ£æµè¿è¡é¢å¤çï¼éåè¿è¡æ ååæ¦çéå¤«åæ¢ï¼ä»¥æååç»å¶æ£æµå°ççº¿æ¡ãæ­¤è¿ç¨æä¾äºå³äºæ§è½çèæ¶è®°å½ï¼ç¡®ä¿äºå®ç¨æ§åæçã</p>
<h3 id="éè¯æ­»ä¿¡ä¸è¡¥å¿ç­ç¥å¤±è´¥å¤ç½®æµæ°´çº¿çè®¾è®¡é²éªå´©çèæµæè·¯">éè¯ãæ­»ä¿¡ä¸è¡¥å¿ç­ç¥ââå¤±è´¥å¤ç½®æµæ°´çº¿çè®¾è®¡ï¼é²éªå´©çèæµæè·¯</h3>
<p><a href="https://www.cnblogs.com/shiyuelp/p/19401138" target="_blank">https://www.cnblogs.com/shiyuelp/p/19401138</a></p>
<p>æ¬æè®¨è®ºå¦ä½å¨åå¸å¼ç³»ç»ä¸­æå»ºå¼¹æ§æ¶æ¯ç³»ç»ï¼éç¹å³æ³¨å¤±è´¥å¤çæºå¶ãéè¿ç²¾å¿è®¾è®¡çéè¯ç­ç¥ï¼æç« å¼ºè°äºææ°éé¿ç®æ³çéè¦æ§ï¼ä»¥é¿åç¬æ¶æéé æçèµæºæµªè´¹ãåå®¹æ¶ååæ­¥åå¼æ­¥éè¯çéç¨åºæ¯ï¼ä»¥ååºäºå¼å¸¸ç±»åçå·®å¼åéè¯ç­ç¥ï¼æ¨å¨ç¡®ä¿ç³»ç»å¨å¼å¸¸æåµä¸çç¨³å®æ§åå¯é æ§ã</p>
<h3 id="aspnet-core-ä¾èµæ³¨å¥çä¸ç§æå¡çå½å¨æ">ASP.NET Core ä¾èµæ³¨å¥çä¸ç§æå¡çå½å¨æ</h3>
<p><a href="https://www.cnblogs.com/Can-daydayup/p/19401414" target="_blank">https://www.cnblogs.com/Can-daydayup/p/19401414</a></p>
<p>ä¾èµæ³¨å¥æ¯å®ç°æ§å¶åè½¬çè®¾è®¡æ¨¡å¼ï¼ç¨äºæå»ºæ¾è¦ååºç¨ãASP.NET Core åç½®å¼ºå¤§ç DI å®¹å¨ï¼æ¯æç¬æãä½ç¨åååä¾ä¸ç§æå¡çå½å¨æãç¬ææå¡å¨æ¯æ¬¡è¯·æ±æ¶åå»ºæ°å®ä¾ï¼éç¨äºè½»éçº§æ ç¶ææå¡ãä½ç¨åæå¡å¨åä¸ HTTP è¯·æ±åå±äº«å®ä¾ï¼éåéè¦ç¶æå±äº«çåºæ¯ï¼å¦æ°æ®åºä¸ä¸æãåä¾æå¡å¨åºç¨çå½å¨æåå±äº«ä¸ä¸ªå®ä¾ï¼éç¨äºæ ç¶æçå¨å±æå¡ãæç« è¯¦ç»è§£æäºè¿ä¸ç§çå½å¨æçç¹ç¹ä¸éç¨åºæ¯ï¼å¸®å©å¼åèåçéæ©ãåèèµææ¥èªå®æ¹ææ¡£ã</p>
<h3 id="net-å¦ä½ä¼éçå®ç°åéé®ä»¶æå¡">Net å¦ä½ä¼éçå®ç°åéé®ä»¶æå¡</h3>
<p><a href="https://www.cnblogs.com/net-kevin-li/p/19403699" target="_blank">https://www.cnblogs.com/net-kevin-li/p/19403699</a></p>
<p>æ¬æä»ç»äºå¦ä½ä½¿ç¨.NET ä¸­ç SmtpClient ç±»åéé®ä»¶ï¼å¹¶æåäºç¸å³çä¼ä¸çº§ SaaS æºè½åºç¨æ¶æãä½èå¼ºè°ååç«¯åç¦»çè®¾è®¡ï¼æè¿°äºæéç¨çææ¯å¦ Vue3 å SignalR ç­ï¼ä¸æä¾äºé¡¹ç®ç GitHub å Gitee å°åãå·ä½å®ç°é¨åå±ç¤ºäº EmailService ç±»çä»£ç ï¼æ¶µçäºé®ä»¶æå¡çåå§åãéç½® SMTP å®¢æ·ç«¯ååéé®ä»¶çåºæ¬æ¹æ³ï¼è¿äºåå®¹å·æè¯å¥½çææ¯æ·±åº¦åå®ç¨æ§ã</p>
<h3 id="ååºåè¡¨æ°æ®æº-shardingspheredatasource-ç-connection-åæ°æ®è¯¯ç¨é®é¢åæ">ååºåè¡¨æ°æ®æº ShardingSphereDataSource ç Connection åæ°æ®è¯¯ç¨é®é¢åæ</h3>
<p><a href="https://www.cnblogs.com/wuyuegb2312/p/19405814" target="_blank">https://www.cnblogs.com/wuyuegb2312/p/19405814</a></p>
<p>æ¬æè®¨è®ºäºä½¿ç¨ ShardingSphere è¿è¡ååºåè¡¨çåºç¨åéå°çé®é¢ãä½èåäº«äºå¨ç´æ¥æä½æ°æ®åºåæ°æ®æ¶çä¸ä¸ªå·ä½æ¡ä¾ï¼å¼ºè°äºé»è¾åºåä¸ç©çåºåçåºå«ãæä¾äºä»£ç ç¤ºä¾ï¼å±ç¤ºäºå¦ä½æ¥è¯¢ä»¥ç¹å®åç¼å½åçè¡¨ï¼å¹¶å¯¹å¶è¿è¡ç»æåæ´ãæç« åæ ·æåºäºä»£ç ä¸­å­å¨çæ½å¨éè¯¯ï¼ç¡®ä¿å¯¹ä¸¤ç§åºåçæ­£ç¡®ä½¿ç¨è³å³éè¦ãæ»ç»äºè°è¯è¿ç¨ä¸­çç»éªæè®­ï¼æ¨å¨å¸®å©å¼åèæ´é«æå°å¤çç±»ä¼¼é®é¢ã</p>
<h2 id="ä»æ¥äººç©">ä»æ¥äººç©</h2>
<p><strong>åå¾·å Â·å¼å°åÂ·ç§å¾·</strong>ï¼è±è¯­ï¼Edgar Frank Coddï¼ 1923 å¹´ 8 æ 23 æ¥â2003 å¹´ 4 æ 18 æ¥ï¼ï¼å°åæ³°å¾·Â·ç§å¾·ï¼Ted Coddï¼ï¼çäº<a href="https://zh.wikipedia.org/wiki/%E8%8B%B1%E5%9B%BD" target="_blank" rel="noopener nofollow">è±å½</a><a href="https://zh.wikipedia.org/wiki/%E8%8B%B1%E6%A0%BC%E5%85%B0" target="_blank" rel="noopener nofollow">è±æ ¼å°</a><a href="https://zh.wikipedia.org/wiki/%E5%A4%9A%E5%A1%9E%E7%89%B9%E9%83%A1" target="_blank" rel="noopener nofollow">å¤å¡ç¹é¡</a>ç<a href="https://zh.wikipedia.org/w/index.php?title=%E6%B3%A2%E7%89%B9%E5%85%B0_(%E5%A4%9A%E5%A1%9E%E7%89%B9%E9%83%A1)&amp;action=edit&amp;redlink=1" target="_blank" rel="noopener nofollow">æ³¢ç¹å°</a>ï¼<a href="https://zh.wikipedia.org/wiki/%E7%94%B5%E5%AD%90%E8%AE%A1%E7%AE%97%E6%9C%BA" target="_blank" rel="noopener nofollow">è®¡ç®æº</a><a href="https://zh.wikipedia.org/wiki/%E7%A7%91%E5%AD%A6%E5%AE%B6" target="_blank" rel="noopener nofollow">ç§å­¦å®¶</a>ãä»ä¸º<a href="https://zh.wikipedia.org/wiki/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93" target="_blank" rel="noopener nofollow">å³ç³»åæ°æ®åº</a><a href="https://zh.wikipedia.org/wiki/%E7%90%86%E8%AE%BA" target="_blank" rel="noopener nofollow">çè®º</a>ååºäºå¥ åºæ§çè´¡ç®ãä»å¨<a href="https://zh.wikipedia.org/wiki/IBM" target="_blank" rel="noopener nofollow">IBM</a>å·¥ä½æé´ï¼é¦åäº<a href="https://zh.wikipedia.org/wiki/%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B" target="_blank" rel="noopener nofollow">å³ç³»æ¨¡å</a>çè®ºãä»ä¸çä¸­ä¸º<a href="https://zh.wikipedia.org/wiki/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6" target="_blank" rel="noopener nofollow">è®¡ç®æºç§å­¦</a>ååºäºå¾å¤æä»·å¼çè´¡ç®ï¼è<a href="https://zh.wikipedia.org/wiki/%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B" target="_blank" rel="noopener nofollow">å³ç³»æ¨¡å</a>ï¼ä½ä¸ºä¸ä¸ªå¨<a href="https://zh.wikipedia.org/w/index.php?title=%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86&amp;action=edit&amp;redlink=1" target="_blank" rel="noopener nofollow">æ°æ®åºç®¡ç</a>æ¹é¢éå¸¸å·æå½±ååç<a href="https://zh.wikipedia.org/w/index.php?title=%E5%9F%BA%E7%A1%80%E7%90%86%E8%AE%BA&amp;action=edit&amp;redlink=1" target="_blank" rel="noopener nofollow">åºç¡çè®º</a>ï¼ä»ç¶è¢«è®¤ä¸ºæ¯ä»æå¼äººç©ç®çæå°±ã</p>
<p>åå¾·å Â·å¼å°åÂ·ç§å¾·çäºè±æ ¼å°ç<a href="https://zh.wikipedia.org/wiki/%E6%B3%A2%E7%89%B9%E5%85%B0%E5%B2%9B_(%E8%8B%B1%E5%9B%BD)" target="_blank" rel="noopener nofollow">æ³¢ç¹å°å²</a>ãå¨<a href="https://zh.wikipedia.org/wiki/%E7%89%9B%E6%B4%A5%E5%A4%A7%E5%AD%A6%E5%9F%83%E5%85%8B%E5%A1%9E%E7%89%B9%E5%AD%A6%E9%99%A2" target="_blank" rel="noopener nofollow">çæ´¥å¤§å­¦ååå¡ç¹å­¦é¢</a>ä¸»ä¿®<a href="https://zh.wikipedia.org/wiki/%E6%95%B0%E5%AD%A6" target="_blank" rel="noopener nofollow">æ°å­¦</a>ä¸<a href="https://zh.wikipedia.org/wiki/%E5%8C%96%E5%AD%A6" target="_blank" rel="noopener nofollow">åå­¦</a>ï¼<a href="https://zh.wikipedia.org/wiki/%E7%AC%AC%E4%BA%8C%E6%AC%A1%E4%B8%96%E7%95%8C%E5%A4%A7%E6%88%98" target="_blank" rel="noopener nofollow">ç¬¬äºæ¬¡ä¸çå¤§æ</a>æé´ï¼æä¸º<a href="https://zh.wikipedia.org/wiki/%E8%8B%B1%E5%9C%8B%E7%9A%87%E5%AE%B6%E7%A9%BA%E8%BB%8D" target="_blank" rel="noopener nofollow">è±å½çå®¶ç©ºå</a>ç<a href="https://zh.wikipedia.org/wiki/%E9%A3%9E%E8%A1%8C%E5%91%98" target="_blank" rel="noopener nofollow">é£è¡å</a>åæã</p>
<p>1948 å¹´ï¼ä»æ¥å°<a href="https://zh.wikipedia.org/wiki/%E7%BA%BD%E7%BA%A6" target="_blank" rel="noopener nofollow">çº½çº¦</a>ï¼å å¥äº<a href="https://zh.wikipedia.org/wiki/IBM" target="_blank" rel="noopener nofollow">IBM</a>å¬å¸ï¼æä¸ºä¸å<a href="https://zh.wikipedia.org/wiki/%E6%95%B0%E5%AD%A6" target="_blank" rel="noopener nofollow">æ°å­¦</a><a href="https://zh.wikipedia.org/wiki/%E7%A8%8B%E5%BA%8F%E5%91%98" target="_blank" rel="noopener nofollow">ç¨åºå</a>ã</p>
<p>1953 å¹´ï¼åºäºå¯¹<a href="https://zh.wikipedia.org/wiki/%E5%8F%83%E8%AD%B0%E5%93%A1" target="_blank" rel="noopener nofollow">åè®®å</a><a href="https://zh.wikipedia.org/wiki/%E7%BA%A6%E7%91%9F%E5%A4%AB%C2%B7%E9%BA%A6%E5%8D%A1%E9%94%A1" target="_blank" rel="noopener nofollow">çº¦çå¤«Â·éº¦å¡é¡</a>çä¸æ»¡ï¼ä»è¿å¾<a href="https://zh.wikipedia.org/wiki/%E5%8A%A0%E6%8B%BF%E5%A4%A7" target="_blank" rel="noopener nofollow">å æ¿å¤§</a><a href="https://zh.wikipedia.org/wiki/%E6%B8%A5%E5%A4%AA%E5%8D%8E" target="_blank" rel="noopener nofollow">æ¸¥å¤ªå</a>ï¼å±ä½äºåå¹´ã</p>
<p>ä¹åä»åå°<a href="https://zh.wikipedia.org/wiki/%E5%AF%86%E6%AD%87%E6%A0%B9%E5%A4%A7%E5%AD%A6" target="_blank" rel="noopener nofollow">å¯æ­æ ¹å¤§å­¦</a>å¹¶åå¾äº<a href="https://zh.wikipedia.org/wiki/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6" target="_blank" rel="noopener nofollow">è®¡ç®æºç§å­¦</a><a href="https://zh.wikipedia.org/wiki/%E5%8D%9A%E5%A3%AB" target="_blank" rel="noopener nofollow">åå£«</a>å­¦ä½ãä¸¤å¹´åï¼ç§å¾·å»å¾<a href="https://zh.wikipedia.org/wiki/IBM" target="_blank" rel="noopener nofollow">IBM</a>å¬å¸ä½äº<a href="https://zh.wikipedia.org/wiki/%E8%81%96%E8%8D%B7%E8%A5%BF_(%E5%8A%A0%E5%88%A9%E7%A6%8F%E5%B0%BC%E4%BA%9E%E5%B7%9E)" target="_blank" rel="noopener nofollow">å£ä½å¡</a>ç<a href="https://zh.wikipedia.org/w/index.php?title=%E9%98%BF%E5%B0%94%E9%A9%AC%E7%99%BB%E7%A0%94%E7%A9%B6%E4%B8%AD%E5%BF%83&amp;action=edit&amp;redlink=1" target="_blank" rel="noopener nofollow">é¿å°é©¬ç»ç ç©¶ä¸­å¿</a>å·¥ä½ã</p>
<p>1968 å¹´ï¼éå¯¹â<a href="https://zh.wikipedia.org/wiki/%E7%B4%B0%E8%83%9E%E8%87%AA%E5%8B%95%E6%A9%9F" target="_blank" rel="noopener nofollow">ç»èèªå¨æº</a>âæåºèªå·±çâ<a href="https://zh.wikipedia.org/w/index.php?title=%E7%A7%91%E5%BE%B7%E7%B4%B0%E8%83%9E%E8%87%AA%E5%8B%95%E6%A9%9F&amp;action=edit&amp;redlink=1" target="_blank" rel="noopener nofollow">ç§å¾·ç»èèªå¨æº</a>âï¼ä»¥<a href="https://zh.wikipedia.org/wiki/%E7%8E%8B%E6%B5%A9_(%E6%95%B0%E5%AD%A6%E5%AE%B6)" target="_blank" rel="noopener nofollow">çæµ©</a>çâ<a href="https://zh.wikipedia.org/w/index.php?title=Wang_B-machine&amp;action=edit&amp;redlink=1" target="_blank" rel="noopener nofollow">Wang B-machine</a>âä¸ºåºç¡ï¼è®ºç¹ï¼ä»¥æ¢è®¨â<a href="https://zh.wikipedia.org/wiki/%E4%BA%BA%E5%B7%A5%E7%94%9F%E5%91%BD" target="_blank" rel="noopener nofollow">äººå·¥çå½</a>âè®®é¢ã</p>
<p>1981 å¹´ï¼ç§å¾·å å¨<a href="https://zh.wikipedia.org/wiki/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93" target="_blank" rel="noopener nofollow">å³ç³»åæ°æ®åº</a>æ¹é¢çè´¡ç®è·å¾äº<a href="https://zh.wikipedia.org/wiki/%E5%9B%BE%E7%81%B5%E5%A5%96" target="_blank" rel="noopener nofollow">å¾çµå¥</a>ã</p>
<p>2003 å¹´ 4 æ 18 æ¥ï¼ç§å¾·å <a href="https://zh.wikipedia.org/wiki/%E5%BF%83%E8%84%8F%E7%97%85" target="_blank" rel="noopener nofollow">å¿èç</a>å¨<a href="https://zh.wikipedia.org/wiki/%E4%BD%9B%E7%BD%97%E9%87%8C%E8%BE%BE" target="_blank" rel="noopener nofollow">ä½ç½éè¾¾</a><a href="https://zh.wikipedia.org/w/index.php?title=%E5%A8%81%E5%BB%89%E5%A7%86%E6%96%AF%E5%B2%9B&amp;action=edit&amp;redlink=1" target="_blank" rel="noopener nofollow">å¨å»å§æ¯å²</a>çå®¶ä¸­å»ä¸ï¼äº«å¹´ 79 å²ã<img src="https://img2024.cnblogs.com/blog/997046/202601/997046-20260125193726518-2140612999.jpg" alt="img-1" loading="lazy"></p>
<h2 id="c-net-äº¤æµç¾¤">C# .NET äº¤æµç¾¤</h2>
<p>ç¸ä¿¡å¤§å®¶å¨å¼åä¸­ç»å¸¸ä¼éå°ä¸äºæ§è½é®é¢ï¼è¦äºæ²¡æææçå·¥å·å»åç°æ§è½ç¶é¢ï¼æèæ¯åç°ç¶é¢ä»¥åä¸ç¥éè¯¥å¦ä½ä¼åãä¹åä¸ç´æè¯»èæåè¯¢é®ææ²¡æææ¯äº¤æµç¾¤ï¼ä½æ¯ç±äºåç§åå ä¸ç´é½æ²¡åå»ºï¼ç°å¨å¾é«å´çå¨è¿éå®£å¸ï¼æåå»ºäºä¸ä¸ªä¸é¨äº¤æµ.NET æ§è½ä¼åç»éªçç¾¤ç»ï¼ä¸»é¢åæ¬ä½ä¸éäºï¼</p>
<ul>
<li>å¦ä½æ¾å°.NET æ§è½ç¶é¢ï¼å¦ä½¿ç¨ APMãdotnet tools ç­å·¥å·</li>
<li>.NET æ¡æ¶åºå±åççå®ç°ï¼å¦åå¾åæ¶å¨ãJIT ç­ç­</li>
<li>å¦ä½ç¼åé«æ§è½ç.NET ä»£ç ï¼åªäºå°æ¹å­å¨æ§è½é·é±</li>
</ul>
<p>å¸æè½ææ´å¤å¿åéåæåå å¥ï¼åäº«ä¸äºå·¥ä½ä¸­éå°ç.NET é®é¢åå®è´µçåæä¼åç»éªã<strong>ç®åä¸ç¾¤å·²æ»¡ï¼ç°å¨å¼æ¾äºç¾¤ã</strong>å¯ä»¥å æ vxï¼ææä½ è¿ç¾¤: <strong>ls1075</strong> å¦å¤ä¹åå»ºäº <strong>QQ Group</strong>: 687779078ï¼æ¬¢è¿å¤§å®¶å å¥ã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-25 19:41">2026-01-25 19:40</span>&nbsp;
<a href="https://www.cnblogs.com/InCerry">InCerry</a>&nbsp;
éè¯»(<span id="post_view_count">63</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19530354);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19530354', targetLink: 'https://www.cnblogs.com/InCerry/p/-/dotnet_week_25_12', title: '.NETå¨åã12æã' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ãEF Coreãå®ä½ç¶æä¸åæ´è¿½è¸ª ]]></title>
    <link>https://www.cnblogs.com/tcjiaan/p/19528796</link>
    <guid>a83f303902fd8494ae9bec8e94bbd5b4</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/tcjiaan/p/19528796" title="åå¸äº 2026-01-25 18:41">
    <span role="heading" aria-level="2">ãEF Coreãå®ä½ç¶æä¸åæ´è¿½è¸ª</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p>å¥½é¿æ¶é´æ²¡ææ°´æç« äºï¼è¯·å®¹èå¨è§£éä¸ä¸ãå ä¸ºæè¿èå¨è¿äºä¸¤ä¸ªåï¼ç¬¬ä¸ä¸ªåå­åäºå«å¤©å·¦å³ï¼ç¬¬äºä¸ªåå­è¿å¨è°è¯ãç®¡çå¾ä¸¥æ ¼ï¼å¸¦ççµå­è®¾å¤é½è¦ç»è®°ãåæç»­ãå½åè§å¾é·ç¥ç¬è®°æ¬çå±å¹å¤§ï¼å¨è½¦é´è°è¯ä»£ç æ¹ä¾¿ï¼æä»¥ç»è®°äºè¿ä¸ªåå·ãä½è¿ä¸ªæ¸¸ææ¬åèå¤§ï¼èä¸åçµåªè½åå° 83% å°±åä¸è¿å»äºãåªè½ç½å¤©å¨è½¦é´è°è¯æ¶ç¨ï¼å¶ä»æ¶é´ç©ææºãææºæ¯é£ä¸ª 23800 mAH çå¦å3ï¼æä»¥çµéå¤å¾æ¯ï¼åä¸æ¬¡éä¾¿ç©ãå¨åéå¾æ èï¼èå¨è¿å¦å¸¦äºä¸å°æå®ä¹°çå¼æºææºâ¦â¦æ¯è¿äºã</p>
<p>ç¬¬äºä¸ªåå­çé¡¹ç®å¾è¯¡å¼ï¼èå¨çè³æçæäººæææ£ä¹±ãä»ä»¬å·¥äººèªå·±æµè¯çæ¶åï¼æ»æ¯æ¥è«åå¶å¦çéï¼ä½æ¯ï¼åªè¦èå¨è¿å»åä»ä»¬ä¸èµ·æµï¼å°±ä¸åæ­£å¸¸ãåæ­£ç°å¨æ¯æµä¸åºå°åºå¥é®é¢ãä»æ¥å¿ä¸­è®°å½çå¼å¸¸çï¼é½æ¯ Modbus TCP è¿æ¥è¶æ¶ãæ time out æ¹ä¸º 50 åéï¼ä¹ç§æ ·å¨æ éè¿æ¥ä¸­ãèå¨è§å¾æ¯äººä¸ºæ¨äºç½çº¿çå¯è½æ§æ´å¤§ãåæ­£åªè¦èå¨å¨ç°åºå°±æ²¡é®é¢ï¼æä»¥èäºè¿ä¸ä¸ªæä¹æ²¡ç»æãæä»¥èå¨å°±è¯·äºåå¤©åç©ç©ï¼ä¸ç®¡ä»ä»¬åä¸åæï¼åå¤©åèå¨åæ¶åå»æ¥å°ã</p>
<p>--------------------------------------------------------------------------------------------------------------------------------------------------------------------</p>
<p>è®°å¾ä¸ä¸ç¯æ°´æä¸­ï¼èå¨è¯´äºæä¸ä¸ªå®ä½æ å°å°å¤ä¸ªè¡¨çè¯é¢ãæ³¨æï¼ä¸å®ä½ä¸æ°æ®è¡¨çååæ¯ä¸åçï¼è¿ç§ç¹æ®æåµå¯ä»¥ç¨å¨ä½ è¿å ä¸ªè¡¨å¯ä»¥ç»æä¸ä¸ªæ´ä½ï¼å¹¶ä¸ç»å¸¸ä¸èµ·ä½¿ç¨çï¼è¿æ ·ä½ å¨æ¥è¯¢æ¶å°±ä¸ç¨èåäºï¼ä¸è¬æ¯ä¸å¯¹ä¸å³ç³»çã</p>
<p>çæèå¨çäººé½ç¥éï¼èå¨åäº«çé½æ¯çº¯ç¥è¯åçº¯ææ¯çä¸è¥¿ãè³äºå®éå¼åä¸­æä¹ç¨ï¼é£æ¯ä½ çäºãå®éåºç¨æ¯æ²¡åæ³åæç¨çï¼ä½ å¾çå·ä½æåµï¼çµæ´»è¿ç¨ï¼ä¸å­å¨ä¸ä¸ªæç¨åä¸è½çéçãåé¡¹ç®æä»å°å¨åæäºèå¨ï¼è½ç¶æ²¡åè¿ä»ä¹å¤§é¡¹ç®ï¼ä½å° Case æ¯ä¸å°çï¼å¹å¹çç®ï¼ãä½ å«å°çé£äºæä¸æå«çé¡¹ç®ï¼åªä¸ªä¸æ¯è¦å­è¾¹å½¢æå£«ï¼åªä¸ªä¸æ¯è½¯ç¡¬ç»åï¼åªä¸ªä¸æ¯æ¢485åCANåPLCååçæºçãå«çå®å°ï¼WinFormsãWebãSTM32ï¼ç æµ·ææµ·ç APM32 ä¹éå°è¿ï¼ãä¸²å£ãEsp8266 å¨ç¨ä¸é½æ¯å¸¸è§çäºãè¿å¹´å¤´ï¼ä¸å­¦ç¹ C è¯­è¨è¿å°é¡¹ç®é½æä¸èµ·ï¼åªåé£äºäºèç½å·¨å¤´é£ä¹ç½ï¼å¤©å¤©ç¯ç HTML + CSS ç©ã</p>
<p>èå¨ä¸ç´è§å¾ï¼ç»éªå¶å®ä¸éè¦çï¼è·ä¸ä¸¤å¨çé¡¹ç®ä½ é½æç»éªäºï¼å³é®è¿å¾æ¯åºç¡æå®ãææ¯è¿ç¡¬ï¼è¿æ ·æè½æ¥ä»ä¹æ´»æ¥ä»ä¹æ´»ãè³äºè¯´åºç¡é®é¢ï¼å¹²æ´»çå®¶ä¼ï¼å®ææ´éè¦ï¼çè®ºçä¸è¥¿å¶å®ç¥éæ¯å¥å°±å¥½ï¼å±ä»¬åä¸ç¨åè®ºæè¯èç§°ãä½ çè®ºç¥è¯è¯´å¾ä¸å¥ä¸å¥çï¼çç¨çæ¶åä¸ä¼ç¨ï¼é£æå¥ç¨ï¼ä¸è¦ææ¥å®ç¨ä¸»ä¹ï¼å®ç¨ä¸»ä¹å¶å®æ¯æ­£ç¡®çï¼ææ¯å­¦äºå°±æ¯æ¿æ¥ç¨çï¼ä¸ç¨å°±æ²¡æä¹äºãå­¦ä¹ æ¯åä¸¤ç§çï¼ä¸ç§æ¯åä¿®ââæ¯å¦ç´æ£ä¹¦ç»ï¼è¿æ¯æååºè´ï¼ä¸ªäººæ°è´¨ãè¿ç§ä½ ä¸å¿å­¦äºå°±è¦ç¨ï¼ä½ä¹å¯ä»¥ç¨ï¼ï¼æ´éè¦çæ¯å»å¿å»ç¥ï¼èªæè°æ´ï¼å¦ä¸ç§å°±æ¯å·¥ä½å¹²æ´»ç¨çï¼å«æè½ï¼å±äºå¤ä¿®ãä»å°èå¸é½ææä»¬è¦åå¤å¼ä¿®ã</p>
<p>å¥½äºï¼ä¸æ¯äºãå¨å¼å§ä»å¤©çä¸»é¢åï¼å±ä»¬è¡¥ä¸ä¸ªåå®¹ï¼æ¢ç¶å®ä½è½åå¸å°å¤ä¸ªè¡¨ä¸­ï¼é£åè¿æ¥å¢ï¼è½æå¤ä¸ªå®ä½æ å°å°ä¸ä¸ªè¡¨ä¸­åï¼å½ç¶å¯ä»¥äºï¼å®æ¹ç§°ä½âè¡¨æåâãåæ ·çéçï¼ä¸è¬ä¹æ¯ä¸å¯¹ä¸çå³ç³»ã</p>
<p>åè¯´ä¸ç»ï¼æ¨è¿å¤±æãå±ä»¬ç´æ¥ç¨å®ä¾æ¥è¯´æãåè®¾ä¸é¢æä¸¤ä¸ªå®ä½ã</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">class</span><span style="color: rgba(0, 0, 0, 1)"> Person
{
    </span><span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">int</span> PsID { <span style="color: rgba(0, 0, 255, 1)">get</span>; <span style="color: rgba(0, 0, 255, 1)">set</span><span style="color: rgba(0, 0, 0, 1)">; }
    </span><span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">string</span> Name { <span style="color: rgba(0, 0, 255, 1)">get</span>; <span style="color: rgba(0, 0, 255, 1)">set</span>; } = <span style="color: rgba(0, 0, 255, 1)">null</span>!<span style="color: rgba(0, 0, 0, 1)">;
    </span><span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">int</span> Age {  <span style="color: rgba(0, 0, 255, 1)">get</span>; <span style="color: rgba(0, 0, 255, 1)">set</span><span style="color: rgba(0, 0, 0, 1)">; }
    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> å¯¼èªå±æ§</span>
    <span style="color: rgba(0, 0, 255, 1)">public</span> PersonInfo OtherInfo { <span style="color: rgba(0, 0, 255, 1)">get</span>; <span style="color: rgba(0, 0, 255, 1)">set</span>; } = <span style="color: rgba(0, 0, 255, 1)">null</span>!<span style="color: rgba(0, 0, 0, 1)">;
}

</span><span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">class</span><span style="color: rgba(0, 0, 0, 1)"> PersonInfo
{
    </span><strong><span style="background-color: rgba(255, 255, 0, 1)"><span style="color: rgba(0, 0, 255, 1)">private</span> <span style="color: rgba(0, 0, 255, 1)">int</span> InfoID {  <span style="color: rgba(0, 0, 255, 1)">get</span>; <span style="color: rgba(0, 0, 255, 1)">set</span>; }</span></strong>        <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æ¢åä¸»é®ä¹åå¤é®</span>
    <span style="color: rgba(128, 128, 128, 1)">///</span> <span style="color: rgba(128, 128, 128, 1)">&lt;summary&gt;</span>
    <span style="color: rgba(128, 128, 128, 1)">///</span><span style="color: rgba(0, 128, 0, 1)"> ä½é
    </span><span style="color: rgba(128, 128, 128, 1)">///</span> <span style="color: rgba(128, 128, 128, 1)">&lt;/summary&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">float</span> Weight { <span style="color: rgba(0, 0, 255, 1)">get</span>; <span style="color: rgba(0, 0, 255, 1)">set</span><span style="color: rgba(0, 0, 0, 1)">; }
    </span><span style="color: rgba(128, 128, 128, 1)">///</span> <span style="color: rgba(128, 128, 128, 1)">&lt;summary&gt;</span>
    <span style="color: rgba(128, 128, 128, 1)">///</span><span style="color: rgba(0, 128, 0, 1)"> èº«é«
    </span><span style="color: rgba(128, 128, 128, 1)">///</span> <span style="color: rgba(128, 128, 128, 1)">&lt;/summary&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">float</span> Height {  <span style="color: rgba(0, 0, 255, 1)">get</span>; <span style="color: rgba(0, 0, 255, 1)">set</span><span style="color: rgba(0, 0, 0, 1)">; }
    </span><span style="color: rgba(128, 128, 128, 1)">///</span> <span style="color: rgba(128, 128, 128, 1)">&lt;summary&gt;</span>
    <span style="color: rgba(128, 128, 128, 1)">///</span><span style="color: rgba(0, 128, 0, 1)"> æ°æ
    </span><span style="color: rgba(128, 128, 128, 1)">///</span> <span style="color: rgba(128, 128, 128, 1)">&lt;/summary&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">string</span>? Ethnicity {  <span style="color: rgba(0, 0, 255, 1)">get</span>; <span style="color: rgba(0, 0, 255, 1)">set</span><span style="color: rgba(0, 0, 0, 1)">; }
}</span></pre>
</div>
<p>å¾ä¼å¿å±ä»¬è¦åçæ¯æè¿ä¸¤ä¸ªå®ä½æ å°å°ä¸ä¸ªè¡¨ä¸­ï¼æä»¥ä¸ºäºå®å¨ï¼ä½ å¯ä»¥è®© PersonInfo å®ä½ç&nbsp;InfoID å±æ§åæç§ææåï¼è¿å¯ä»¥é²æ­¢ä¸åªæçäººæå¤ä¿®æ¹ä¸»é®å¼ãå ä¸ºè¿ä¸ªå®ä½ç ID å¼å¿é¡»å§ç»ä¸ Person ç ID ä¸è´ã</p>
<p>ä¸é¢ä»£ç æ¯æ°æ®åºä¸ä¸æç±»ã</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">class</span><span style="color: rgba(0, 0, 0, 1)"> DemoDbContext : DbContext
{
    </span><span style="color: rgba(0, 0, 255, 1)">public</span> DbSet&lt;Person&gt; People { <span style="color: rgba(0, 0, 255, 1)">get</span>; <span style="color: rgba(0, 0, 255, 1)">set</span><span style="color: rgba(0, 0, 0, 1)">; }
    </span><span style="color: rgba(0, 0, 255, 1)">public</span> DbSet&lt;PersonInfo&gt; PersonInfos { <span style="color: rgba(0, 0, 255, 1)">get</span>; <span style="color: rgba(0, 0, 255, 1)">set</span><span style="color: rgba(0, 0, 0, 1)">; }

    </span><span style="color: rgba(0, 0, 255, 1)">protected</span> <span style="color: rgba(0, 0, 255, 1)">override</span> <span style="color: rgba(0, 0, 255, 1)">void</span><span style="color: rgba(0, 0, 0, 1)"> OnConfiguring(DbContextOptionsBuilder optionsBuilder)
    {
        optionsBuilder.UseSqlite(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">data source=æ­ååè´¢.db</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
                                .LogTo(
                                    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> è¾åºæ¥å¿çå§æ</span>
                                    action: msg =&gt;<span style="color: rgba(0, 0, 0, 1)"> Console.WriteLine(msg),
                                    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> è¿æ»¤å¨ï¼åªæ¾ç¤ºå³å°æ§è¡çå½ä»¤æ¥å¿ï¼å¯ä»¥çå°SQLè¯­å¥</span>
                                    filter: (eventId, _) =&gt; eventId.Id ==<span style="color: rgba(0, 0, 0, 1)"> RelationalEventId.CommandExecuting
                                );
    }

    </span><span style="color: rgba(0, 0, 255, 1)">protected</span> <span style="color: rgba(0, 0, 255, 1)">override</span> <span style="color: rgba(0, 0, 255, 1)">void</span><span style="color: rgba(0, 0, 0, 1)"> OnModelCreating(ModelBuilder modelBuilder)
    {
        </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> éç½®å®ä½</span>
        modelBuilder.Entity&lt;Person&gt;(pse =&gt;<span style="color: rgba(0, 0, 0, 1)">
        {
            pse.<strong><span style="background-color: rgba(255, 255, 0, 1)">Property(e </span></strong></span><strong><span style="background-color: rgba(255, 255, 0, 1)">=&gt; e.PsID).HasColumnName(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">person_id</span><span style="color: rgba(128, 0, 0, 1)">"</span></span></strong><span style="color: rgba(0, 0, 0, 1)"><strong><span style="background-color: rgba(255, 255, 0, 1)">)</span></strong>;
            pse.Property(b </span>=&gt; b.Name).HasMaxLength(<span style="color: rgba(128, 0, 128, 1)">16</span>).IsRequired().HasColumnName(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">person_name</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
            pse.Property(d </span>=&gt; d.Age).HasColumnName(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">person_age</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
            </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> ä¸»é®</span>
            pse.HasKey(w =&gt; w.PsID).<strong><span style="background-color: rgba(255, 255, 0, 1)">HasName(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">PK_Person</span><span style="color: rgba(128, 0, 0, 1)">"</span></span></strong><span style="color: rgba(0, 0, 0, 1)"><strong><span style="background-color: rgba(255, 255, 0, 1)">)</span></strong>;
            </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> è¡¨å</span>
            pse.<strong><span style="background-color: rgba(255, 255, 0, 1)">ToTable(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">tb_people</span><span style="color: rgba(128, 0, 0, 1)">"</span></span></strong><span style="color: rgba(0, 0, 0, 1)"><strong><span style="background-color: rgba(255, 255, 0, 1)">)</span></strong>;
        });
        modelBuilder.Entity</span>&lt;PersonInfo&gt;(pie =&gt;<span style="color: rgba(0, 0, 0, 1)">
        {
            pie.<strong><span style="background-color: rgba(255, 255, 0, 1)">Property(</span></strong></span><strong><span style="background-color: rgba(255, 255, 0, 1)"><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">InfoID</span><span style="color: rgba(128, 0, 0, 1)">"</span>).HasColumnName(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">person_id</span><span style="color: rgba(128, 0, 0, 1)">"</span></span></strong><span style="color: rgba(0, 0, 0, 1)"><strong><span style="background-color: rgba(255, 255, 0, 1)">).ValueGeneratedNever()</span></strong>;
            pie.Property(r </span>=&gt; r.Height).HasColumnName(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">info_height</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
            pie.Property(i </span>=&gt; i.Weight).HasColumnName(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">info_weight</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
            pie.Property(k </span>=&gt; k.Ethnicity).HasMaxLength(<span style="color: rgba(128, 0, 128, 1)">10</span>).HasColumnName(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">info_ethnic</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
            </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> ä¸»é®</span>
            pie.HasKey(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">InfoID</span><span style="color: rgba(128, 0, 0, 1)">"</span>).<strong><span style="background-color: rgba(255, 255, 0, 1)">HasName(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">PK_Person</span><span style="color: rgba(128, 0, 0, 1)">"</span></span></strong><span style="color: rgba(0, 0, 0, 1)"><strong><span style="background-color: rgba(255, 255, 0, 1)">)</span></strong>;
            </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> åä¸ä¸ªè¡¨å</span>
            pie.<strong><span style="background-color: rgba(255, 255, 0, 1)">ToTable(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">tb_people</span><span style="color: rgba(128, 0, 0, 1)">"</span></span></strong><span style="color: rgba(0, 0, 0, 1)"><strong><span style="background-color: rgba(255, 255, 0, 1)">)</span></strong>;
        });

        </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> ä¸¤å®ä½çå³ç³»</span>
        modelBuilder.Entity&lt;Person&gt;().HasOne(n =&gt;<span style="color: rgba(0, 0, 0, 1)"> n.OtherInfo)
                                                          .WithOne()
                                                          </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> info --&gt; person</span>
                                                          .HasForeignKey&lt;PersonInfo&gt;(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">InfoID</span><span style="color: rgba(128, 0, 0, 1)">"</span>).HasConstraintName(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">FK_PersonInfo</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
                                                          </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> person --&gt; info</span>
                                                          .HasPrincipalKey&lt;Person&gt;(p =&gt;<span style="color: rgba(0, 0, 0, 1)"> p.PsID);
    }
}</span></pre>
</div>
<p>åºæ¬ä»£ç ç¸ä¿¡åä½è½çæçãåéç½®ä¸è¬å®ä½åºå«ä¸å¤§ï¼ä½è¦æ³¨æå ç¹ï¼</p>
<p>1ãä¸¤ä¸ªå®ä½ææ å°çè¡¨åè¦ç¸åãè¿æ¯Fè¯äºï¼é½è¯´æ å°å°åä¸ä¸ªè¡¨äºï¼è¡¨åè½ä¸ä¸æ ·çï¼</p>
<p>2ãä¸¤ä¸ªå®ä½ä¸­ä½ä¸ºä¸»é®çå±æ§åå¯ä»¥ä¸åï¼ä½ç±»åè¦ç¸åï¼å¯ä»¥åå°ç¿»è½¦äºæï¼ï¼æ´éè¦çæ¯ï¼<span style="text-decoration: underline; font-size: 16px"><span style="color: rgba(255, 0, 0, 1); text-decoration: underline"><strong>ä¸å®è¦æ å°å°åä¸ä¸ªåå</strong></span></span>ãå ä¸ºæ å°åï¼ä¸¤ä¸ªå®ä½ä½ä¸ºä¸»é®çå±æ§ä¼åå¹¶ï¼åèï¼<span style="text-decoration: underline"><span style="color: rgba(255, 0, 0, 1)"><strong><span style="font-size: 16px">ä¸»é®ççº¦æåç§°ä¹è¦ç¸å</span></strong></span></span>ï¼ä¸è§£éäºï¼ä¸æ ·çéçã</p>
<div class="cnblogs_code">
<pre>modelBuilder.Entity&lt;Person&gt;(pse =&gt;<span style="color: rgba(0, 0, 0, 1)">
{
    pse.Property(e </span>=&gt; e.PsID).HasColumnName(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1); background-color: rgba(255, 255, 0, 1)">person_id</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
    â¦â¦
    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> ä¸»é®</span>
    pse.HasKey(w =&gt; w.PsID).HasName(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1); background-color: rgba(255, 255, 0, 1)">PK_Person</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> è¡¨å</span>
    pse.ToTable(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1); background-color: rgba(255, 255, 0, 1)">tb_people</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
});
modelBuilder.Entity</span>&lt;PersonInfo&gt;(pie =&gt;<span style="color: rgba(0, 0, 0, 1)">
{
    pie.Property(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">InfoID</span><span style="color: rgba(128, 0, 0, 1)">"</span>).HasColumnName(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1); background-color: rgba(255, 255, 0, 1)">person_id</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">).ValueGeneratedNever();
    â¦â¦
    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> ä¸»é®</span>
    pie.HasKey(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">InfoID</span><span style="color: rgba(128, 0, 0, 1)">"</span>).HasName(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1); background-color: rgba(255, 255, 0, 1)">PK_Person</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> åä¸ä¸ªè¡¨å</span>
    pie.ToTable(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1); background-color: rgba(255, 255, 0, 1)">tb_people</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
});</span></pre>
</div>
<p>å¯¹äºç¬¬äºä¸ªå®ä½ï¼ValueGeneratedNever æ¹æ³å¯ä»¥ä¸è°ç¨ï¼EF ä¼èªå¨æç¥å°ä¸éè¦èªå¨çæåå¼ã</p>
<p>3ãä¸¤ä¸ªå®ä½éç½®ä¸ºä¸å¯¹ä¸å³ç³»ï¼è¿ä¸ªåå¸¸è§å®ä½æä½ä¸æ ·ã</p>
<p>ç¶åå¨ Main æ¹æ³ä¸­æµè¯ä¸ä¸ã</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">static</span> <span style="color: rgba(0, 0, 255, 1)">void</span> Main(<span style="color: rgba(0, 0, 255, 1)">string</span><span style="color: rgba(0, 0, 0, 1)">[] args)
{
    </span><span style="color: rgba(0, 0, 255, 1)">using</span> <span style="color: rgba(0, 0, 255, 1)">var</span> context = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> DemoDbContext();
    context.Database.EnsureDeleted();
    context.Database.EnsureCreated();
    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æå°æ°æ®åºæ¨¡å</span>
<span style="color: rgba(0, 0, 0, 1)">    Console.WriteLine(context.Model.ToDebugString());
}</span></pre>
</div>
<p>è¿è¡ç»æï¼</p>
<div class="cnblogs_code">
<pre>      Executing DbCommand [Parameters=[], CommandType=<span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(128, 0, 0, 1)">Text</span><span style="color: rgba(128, 0, 0, 1)">'</span>, CommandTimeout=<span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(128, 0, 0, 1)">30</span><span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(0, 0, 0, 1)">]
      CREATE TABLE </span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">tb_people</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)"> (
          </span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">person_id</span><span style="color: rgba(128, 0, 0, 1)">"</span> INTEGER NOT NULL CONSTRAINT <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">PK_Person</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)"> PRIMARY KEY AUTOINCREMENT,
          </span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">person_name</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)"> TEXT NOT NULL,
          </span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">person_age</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)"> INTEGER NOT NULL,
          </span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">info_weight</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)"> REAL NOT NULL,
          </span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">info_height</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)"> REAL NOT NULL,
          </span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">info_ethnic</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)"> TEXT NULL
      );

</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> ä»¥ä¸æ¯æ°æ®åºæ¨¡å</span>
<span style="color: rgba(0, 0, 0, 1)">Model:
  EntityType: Person
    Properties:
      PsID (</span><span style="color: rgba(0, 0, 255, 1)">int</span><span style="color: rgba(0, 0, 0, 1)">) Required PK AfterSave:Throw ValueGenerated.OnAdd
      Age (</span><span style="color: rgba(0, 0, 255, 1)">int</span><span style="color: rgba(0, 0, 0, 1)">) Required
      Name (</span><span style="color: rgba(0, 0, 255, 1)">string</span>) Required MaxLength(<span style="color: rgba(128, 0, 128, 1)">16</span><span style="color: rgba(0, 0, 0, 1)">)
    Navigations:
      OtherInfo (PersonInfo) Required ToDependent PersonInfo
    Keys:
      PsID PK
  EntityType: PersonInfo
    Properties:
      InfoID (</span><span style="color: rgba(0, 0, 255, 1)">int</span><span style="color: rgba(0, 0, 0, 1)">) Required PK FK AfterSave:Throw
      Ethnicity (</span><span style="color: rgba(0, 0, 255, 1)">string</span>) MaxLength(<span style="color: rgba(128, 0, 128, 1)">10</span><span style="color: rgba(0, 0, 0, 1)">)
      Height (</span><span style="color: rgba(0, 0, 255, 1)">float</span><span style="color: rgba(0, 0, 0, 1)">) Required
      Weight (</span><span style="color: rgba(0, 0, 255, 1)">float</span><span style="color: rgba(0, 0, 0, 1)">) Required
    Keys:
      InfoID PK
    Foreign keys:
      PersonInfo {</span><span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(128, 0, 0, 1)">InfoID</span><span style="color: rgba(128, 0, 0, 1)">'</span>} -&gt; Person {<span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(128, 0, 0, 1)">PsID</span><span style="color: rgba(128, 0, 0, 1)">'</span>} Unique Required RequiredDependent Cascade ToDependent: OtherInfo</pre>
</div>
<p>--------------------------------------------------------------------------------------------------------------------------------------</p>
<p>ä¸é¢æ­£çå¼å§ãä»å¤©å±ä»¬è¯´è¯´ EF Core ä¸­å å¤§ä¸»è¦åè½æ¨¡åä¹ä¸ââè¿½è¸ªï¼å«è·è¸ªä¹è¡ï¼ãæ­£å¸¸æåµä¸ï¼EF Core ä»å®ä½è¢«æ¥è¯¢åºæ¥çæ¶åå¼å§è·è¸ªãè·è¸ªåä¼ä¸ºå®ä½çåä¸ªå±æ§/å­æ®µçå¼åå»ºä¸ä¸ªå¿«ç§ï¼å°±å¤ä»½ä¸ä¸ï¼ä¸æ¯æ·è´å¯¹è±¡ï¼èæ¯ç¨ä¸ä¸ªå­å¸æ¥å­æ¾ï¼ãç¶åå¨ç¹å®æ¡ä»¶ä¸ï¼ä¼è§¦åæ¯è¾ï¼å³æ¯è¾å®ä½å¼ç¨å½ååå±æ§çå¼ä¸å½åå¿«ç§ä¸­çå¼ï¼ä»èç¡®å®å®ä½çç¶æã</p>
<p>ä¸ºäºæ¹ä¾¿è®¿é®ï¼DbContext ç±»ä¼å¬å¼&nbsp;ChangeTracker å±æ§ï¼éè¿å®ä½ è½è®¿é®å°ç± EF Core åå»ºç&nbsp;ChangeTracker å®ä¾ï¼å¨Microsoft.EntityFrameworkCore.ChangeTracking å½åç©ºé´ï¼ãè¯¥ç±»åå«ä¸å®ä½è¿½è¸ªæå³çä¿¡æ¯ãè°ç¨&nbsp;DetectChanges æ¹æ³ä¼è§¦åå®ä½çè¿½è¸ªæ«æï¼æ¹æ³åªè´è´£è§¦åç¶ææ£æ¥ï¼ä¸è¿åä»»ä½ç»æï¼è°ç¨åå®ä½çç¶æèªå¨æ´æ°ãå®ä½çç¶æç±&nbsp;EntityState æä¸¾è¡¨ç¤ºã</p>
<p>1ãUnchangedï¼å®ä½ä»æ°æ®åºä¸­æ¥è¯¢åºæ¥åå°±æ¯è¿ä¸ªç¶æï¼åææ¯è¿ä¸ªå®ä½æ¯ä»æ°æ®åºä¸­æ¥åºæ¥çï¼ä¹å°±æ¯è¯´å®å·²ç»å¨æ°æ®åºä¸­äºã</p>
<p>2ãAddedï¼å½ä½ ç¨ DbContext.Add æ DbSet.Add æ¹æ³æ·»å æ°å®ä½åï¼å®ä½å°±å¤å¨è¿ä¸ªç¶æãå®ä½åªå­å¨ EF Core ä¸­ï¼è¿æ²¡ä¿å­å°æ°æ®åºãæäº¤æ¶çæ INSERT è¯­å¥ã</p>
<p>3ãModifiedï¼å·²ä¿®æ¹ãå®ä½èªä»æ°æ®åºä¸­æ¥è¯¢åºæ¥å°ç®åä¸ºæ­¢ï¼å®çæäºå±æ§æå¨é¨å±æ§è¢«ä¿®æ¹è¿ãæäº¤æ¶çæ UPDATE è¯­å¥ã</p>
<p>4ãDeletedï¼å·²å é¤ãå®ä½å·²ä» DbSet ä¸­å é¤ï¼è¿å¨æ°æ®åºä¸­ï¼å°±æ¯è¿ä¸ªç¶æï¼æäº¤åçæ DELETE è¯­å¥ã</p>
<p>5ãDetachedï¼å¤±è¸ªäººå£ï¼EF Core æªè¿½è¸ªå¶ç¶æã</p>
<p>EF Core åé¨æä¸ªåä¸º&nbsp;IStateManager çæå¡æ¥å£ï¼é»è®¤å®ç°ç±»æ¯&nbsp;StateManagerãè¯¥ç±»å¯ä»¥ä¿®æ¹å®ä½çç¶æï¼ä¹å¯ä»¥æ§å¶å¼å§/åæ­¢è¿½è¸ªå®ä½çç¶æãå±ä»¬å¨åä»£ç æ¶ä¸éè¦ç´æ¥è®¿é®å®ï¼DbContext ä»¥å DbContext.ChangeTrackerãDbSet å·²ç»å°è£äºç¸å³è®¿é®å¥å£ã</p>
<p>å¯¹ DbSet å¯¹è±¡æ¥è¯´ï¼ä½ è°ç¨ AddãRemoveãUpdate ç­æ¹æ³åªæ¯æ´æ¹äºå®ä½çç¶æï¼å¹¶æ²¡æçæ­£æ´æ°å°æ°æ®åºï¼é¤éä½ è°ç¨ SaveChanges æ¹æ³ãSaveChanges æ¹æ³åé¨ä¼åè°ç¨&nbsp;DetectChanges æ¹æ³è§¦åç¶æåæ´æ«æï¼ç¶ååæ ¹æ®å®ä½çææ°ç¶æçæç¸åºç SQL è¯­å¥ï¼ååéå°æ°æ®åºä¸­æ§è¡ã</p>
<p>ä¸é¢ä»¥æå¥æ°å®ä½ä¸ºä¾ï¼æ¼ç¤ºä¸ä¸ãæ¬ç¤ºä¾å¨æå¥æ°å®ä½åãåï¼ä»¥åæäº¤å°æ°æ®åºåé½æå°ä¸æ¬¡å®ä½çç¶æã</p>
<p>åå®ä¹å®ä½ç±»ã</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">class</span><span style="color: rgba(0, 0, 0, 1)"> Pet
{
    </span><span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">int</span> Id { <span style="color: rgba(0, 0, 255, 1)">get</span>; <span style="color: rgba(0, 0, 255, 1)">set</span><span style="color: rgba(0, 0, 0, 1)">; }
    </span><span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">string</span> Name { <span style="color: rgba(0, 0, 255, 1)">get</span>; <span style="color: rgba(0, 0, 255, 1)">set</span>; } = <span style="color: rgba(0, 0, 255, 1)">string</span><span style="color: rgba(0, 0, 0, 1)">.Empty;
    </span><span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">string</span>? Description { <span style="color: rgba(0, 0, 255, 1)">get</span>; <span style="color: rgba(0, 0, 255, 1)">set</span><span style="color: rgba(0, 0, 0, 1)">; }
    </span><span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">string</span>? Category {  <span style="color: rgba(0, 0, 255, 1)">get</span>; <span style="color: rgba(0, 0, 255, 1)">set</span><span style="color: rgba(0, 0, 0, 1)">; }
}</span></pre>
</div>
<p>æ­£è§æµç¨ï¼åæ°æ®åºä¸ä¸æç±»ã</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">class</span><span style="color: rgba(0, 0, 0, 1)"> TestDbContext : DbContext
{
    </span><span style="color: rgba(0, 0, 255, 1)">protected</span> <span style="color: rgba(0, 0, 255, 1)">override</span> <span style="color: rgba(0, 0, 255, 1)">void</span><span style="color: rgba(0, 0, 0, 1)"> OnConfiguring(DbContextOptionsBuilder optionsBuilder)
    {
        optionsBuilder.UseSqlite(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">data source=å¤©å®«èµç¦.db</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
    }

    </span><span style="color: rgba(0, 0, 255, 1)">protected</span> <span style="color: rgba(0, 0, 255, 1)">override</span> <span style="color: rgba(0, 0, 255, 1)">void</span><span style="color: rgba(0, 0, 0, 1)"> OnModelCreating(ModelBuilder modelBuilder)
    {
        modelBuilder.Entity</span>&lt;Pet&gt;(et =&gt;<span style="color: rgba(0, 0, 0, 1)">
        {
            et.ToTable(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">tb_pets</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
            et.Property(g </span>=&gt; g.Name).HasMaxLength(<span style="color: rgba(128, 0, 128, 1)">20</span><span style="color: rgba(0, 0, 0, 1)">);
            et.Property(k </span>=&gt; k.Description).HasMaxLength(<span style="color: rgba(128, 0, 128, 1)">200</span><span style="color: rgba(0, 0, 0, 1)">);
            et.Property(q </span>=&gt; q.Category).HasMaxLength(<span style="color: rgba(128, 0, 128, 1)">15</span><span style="color: rgba(0, 0, 0, 1)">);
            et.HasKey(m </span>=&gt; m.Id).HasName(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">PK_PetID</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
        });
    }
}</span></pre>
</div>
<p>å¥½ï¼ç°å¨è¿å¥æµè¯ç¯èã</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">static</span> <span style="color: rgba(0, 0, 255, 1)">void</span> Main(<span style="color: rgba(0, 0, 255, 1)">string</span><span style="color: rgba(0, 0, 0, 1)">[] args)
{
    </span><span style="color: rgba(0, 0, 255, 1)">using</span> <span style="color: rgba(0, 0, 255, 1)">var</span> context = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> TestDbContext();
    context.Database.EnsureCreated();

    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æ·»å ä¸ä¸ªå®ä½</span>
    Pet p = <span style="color: rgba(0, 0, 255, 1)">new</span>() { Name = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">Jack</span><span style="color: rgba(128, 0, 0, 1)">"</span>, Description = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ä¸ä¼æ¸¸æ³³çå·´è¥¿é¾</span><span style="color: rgba(128, 0, 0, 1)">"</span>, Category = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ç¬è¡å¨ç©</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)"> };
    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æå°ä¸ä¸ç¶æ</span>
    Console.WriteLine(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">----------- æ·»å å -------------</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
    Console.WriteLine(context.ChangeTracker.DebugView.LongView);
    context.Add(p);
    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> åæå°ä¸ä¸ç¶æ</span>
    Console.WriteLine(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">\n---------- æ·»å å ------------</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
    Console.WriteLine(context.ChangeTracker.DebugView.LongView);

    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æäº¤</span>
<span style="color: rgba(0, 0, 0, 1)">    context.SaveChanges();

    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> åæå°ç¶æ</span>
    Console.WriteLine(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">\n---------- æäº¤å ------------</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
    Console.WriteLine(context.ChangeTracker.DebugView.LongView);
}</span></pre>
</div>
<p>å Model ç±»ä¼¼ï¼ChangeTracker å¯¹è±¡ä¹æä¸ª DebugViewï¼ç¨äºè·åè°è¯ç¨çä¿¡æ¯ãè¿ä¸ªè½æå°åºå®ä½ä»¥åå®çåä¸ªå±æ§çç¶æã</p>
<p>è¿è¡ä¸éï¼ç»æå¦ä¸ï¼</p>
<div class="cnblogs_code">
<pre>----------- æ·»å å -------------


---------- æ·»å å ------------<span style="color: rgba(0, 0, 0, 1)">
Pet {Id: </span>-<span style="color: rgba(128, 0, 128, 1)">2147482647</span><span style="color: rgba(0, 0, 0, 1)">} Added
    Id: </span>-<span style="color: rgba(128, 0, 128, 1)">2147482647</span><span style="color: rgba(0, 0, 0, 1)"> PK Temporary
    Category: </span><span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(128, 0, 0, 1)">ç¬è¡å¨ç©</span><span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(0, 0, 0, 1)">
    Description: </span><span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(128, 0, 0, 1)">ä¸ä¼æ¸¸æ³³çå·´è¥¿é¾</span><span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(0, 0, 0, 1)">
    Name: </span><span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(128, 0, 0, 1)">Jack</span><span style="color: rgba(128, 0, 0, 1)">'</span>


---------- æäº¤å ------------<span style="color: rgba(0, 0, 0, 1)">
Pet {Id: </span><span style="color: rgba(128, 0, 128, 1)">1</span><span style="color: rgba(0, 0, 0, 1)">} Unchanged
    Id: </span><span style="color: rgba(128, 0, 128, 1)">1</span><span style="color: rgba(0, 0, 0, 1)"> PK
    Category: </span><span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(128, 0, 0, 1)">ç¬è¡å¨ç©</span><span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(0, 0, 0, 1)">
    Description: </span><span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(128, 0, 0, 1)">ä¸ä¼æ¸¸æ³³çå·´è¥¿é¾</span><span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(0, 0, 0, 1)">
    Name: </span><span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(128, 0, 0, 1)">Jack</span><span style="color: rgba(128, 0, 0, 1)">'</span></pre>
</div>
<p>æ°å®ä½è¢« Add ä¹åï¼å®æ¯æ²¡æè¢«è¿½è¸ªçï¼æä»¥æå°ç¶æä¿¡æ¯ç©ºç½ãè°ç¨ Add æ¹æ³åï¼å®çç¶æå°±åæ Added äºãæ­¤æ¶ï¼ä½ ä¸éè¦è°ç¨&nbsp;DetectChanges æ¹æ³ï¼å ä¸º Add æ¹æ³æ¬èº«å°±ä¼ä¿®æ¹å®ä½çç¶æãæ°å®ä½è¿æªå­å¥æ°æ®åºï¼æä»¥ä¸»é® ID èµäºä¸ªè´å¼ï¼ä¸æ¯ä¸´æ¶çãå½è°ç¨ SaveChanges æ¹æ³åï¼æäº¤æ°æ®åºä¿å­ï¼å¹¶ååæ°æ®åºçæçIDå¼ï¼ææ­¤æ¶ ID çå¼æ¯ 1ãèä¸ï¼å®ä½çç¶æè¢«æ¹å Unchangedãè¿æ¯åççï¼ç°å¨æ°çå®ä½å·²ç»å¨æ°æ®åºäºï¼èä¸èªä»æå¥åæ²¡æä¿®æ¹è¿ï¼ç¶æåºå½æ¯ Unchagedã</p>
<p>å¦æä½ æå¶ä»æ³æ³ï¼å¸æå¨ SaveChanges ä¹åå®ä½çç¶æä¸åå Unchagedï¼å¯ä»¥è¿æ ·è°ç¨ SaveChanges æ¹æ³ã</p>
<div class="cnblogs_code">
<pre>context.SaveChanges(acceptAllChangesOnSuccess: <span style="color: rgba(0, 0, 255, 1)">false</span>);</pre>
</div>
<p>acceptAllChangesOnSuccess åæ°è®¾ç½®ä¸º false åï¼æ°æ®åºæ§è¡æååä¸ä¼æ¹åå®ä½çå½åç¶æãäºæ¯ï¼æ°æ®åºä¸­æå¥æ°è®°å½åï¼å®ä½ç¶æè¿æ¯ Addedã</p>
<div class="cnblogs_code">
<pre>---------- æ·»å å ------------<span style="color: rgba(0, 0, 0, 1)">
Pet {Id: </span>-<span style="color: rgba(128, 0, 128, 1)">2147482647</span><span style="color: rgba(0, 0, 0, 1)">} Added
    Id: </span>-<span style="color: rgba(128, 0, 128, 1)">2147482647</span><span style="color: rgba(0, 0, 0, 1)"> PK Temporary
    Category: </span><span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(128, 0, 0, 1)">ç¬è¡å¨ç©</span><span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(0, 0, 0, 1)">
    Description: </span><span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(128, 0, 0, 1)">ä¸ä¼æ¸¸æ³³çå·´è¥¿é¾</span><span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(0, 0, 0, 1)">
    Name: </span><span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(128, 0, 0, 1)">Jack</span><span style="color: rgba(128, 0, 0, 1)">'</span>


---------- æäº¤å ------------<span style="color: rgba(0, 0, 0, 1)">
Pet {Id: </span><span style="color: rgba(128, 0, 128, 1)">1</span><span style="color: rgba(0, 0, 0, 1)">} <strong><span style="background-color: rgba(255, 255, 0, 1)">Added</span></strong>
    Id: </span><span style="color: rgba(128, 0, 128, 1)">1</span><span style="color: rgba(0, 0, 0, 1)"> PK
    Category: </span><span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(128, 0, 0, 1)">ç¬è¡å¨ç©</span><span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(0, 0, 0, 1)">
    Description: </span><span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(128, 0, 0, 1)">ä¸ä¼æ¸¸æ³³çå·´è¥¿é¾</span><span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(0, 0, 0, 1)">
    Name: </span><span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(128, 0, 0, 1)">Jack</span><span style="color: rgba(128, 0, 0, 1)">'</span></pre>
</div>
<p>è¿æ ·åå¯è½ä¼å¯¼è´é»è¾éè¯¯ï¼é¤éä½ æç¹æ®ç¨éï¼æ¯å¦è¿æ ·ç¨ã</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">using</span> <span style="color: rgba(0, 0, 255, 1)">var</span> context = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> TestDbContext();
context.Database.EnsureDeleted();
context.Database.EnsureCreated();

</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> å¤çäºä»¶</span>
context.ChangeTracker.Tracked += (_, e) =&gt;<span style="color: rgba(0, 0, 0, 1)">
{
    </span><span style="color: rgba(0, 0, 255, 1)">var</span> backupcolor =<span style="color: rgba(0, 0, 0, 1)"> Console.ForegroundColor;
    Console.ForegroundColor </span>=<span style="color: rgba(0, 0, 0, 1)"> ConsoleColor.Green;
    Console.WriteLine($</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">å®ä½è¢«è¿½è¸ªï¼\n{e.Entry.DebugView.LongView}\n</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
    Console.ForegroundColor </span>=<span style="color: rgba(0, 0, 0, 1)"> backupcolor;
};
context.ChangeTracker.StateChanged </span>+= (_, e) =&gt;<span style="color: rgba(0, 0, 0, 1)">
{
    </span><span style="color: rgba(0, 0, 255, 1)">var</span> bkColor =<span style="color: rgba(0, 0, 0, 1)"> Console.ForegroundColor;
    Console.ForegroundColor </span>=<span style="color: rgba(0, 0, 0, 1)"> ConsoleColor.Blue;
    Console.WriteLine($</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">å®ä½ï¼ID={e.Entry.Property(nameof(Pet.Id)).CurrentValue}ï¼ç¶ææ¹åï¼{e.OldState} --&gt; {e.NewState}\n</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
    Console.ForegroundColor </span>=<span style="color: rgba(0, 0, 0, 1)"> bkColor;
};

</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æ°å®ä½</span>
Pet p = <span style="color: rgba(0, 0, 255, 1)">new</span> Pet { Name = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">Tom</span><span style="color: rgba(128, 0, 0, 1)">"</span>, Description = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ä¼æ¸¸æ³³çé¸</span><span style="color: rgba(128, 0, 0, 1)">"</span>, Category = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">çç¦½</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)"> };
context.Add(p);
</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> ä¿å­ï¼ä½ç¶æä¸æ¹å</span>
<span style="background-color: rgba(255, 255, 0, 1)">context.SaveChanges(<span style="color: rgba(0, 0, 255, 1)">false</span></span><span style="color: rgba(0, 0, 0, 1)"><span style="background-color: rgba(255, 255, 0, 1)">)</span>;
</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> å ä¸ºæ¯ Added ç¶æï¼æä»¥è¿å¯ä»¥ç»§ç»­insert</span>
p.Name = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">Simum</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">;
p.Description </span>= <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ä¸æéè</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">;
p.Category </span>= <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ä¸¤æ å¨ç©</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">;
</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> ä¿å­ï¼ç¶ææ¹å</span>
<span style="color: rgba(0, 0, 0, 1); background-color: rgba(255, 255, 0, 1)">context.SaveChanges();

</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æå®ä»¬æ¥è¯¢åºæ¥çç</span>
<span style="color: rgba(0, 0, 255, 1)">var</span> <span style="color: rgba(0, 0, 255, 1)">set</span> = context.Set&lt;Pet&gt;<span style="color: rgba(0, 0, 0, 1)">();
Console.WriteLine(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">\næ°æ®åºä¸­çè®°å½ï¼</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
</span><span style="color: rgba(0, 0, 255, 1)">foreach</span>(<span style="color: rgba(0, 0, 255, 1)">var</span> pp <span style="color: rgba(0, 0, 255, 1)">in</span> <span style="color: rgba(0, 0, 255, 1)">set</span><span style="color: rgba(0, 0, 0, 1)">)
{
    Console.WriteLine($</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">{pp.Id}  {pp.Name}  {pp.Description}  {pp.Category}</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
}</span></pre>
</div>
<p>ä¸é¢ä»£ç ä¸­ï¼ä¾¦å¬äºä¸¤ä¸ªäºä»¶ï¼Trackedââå½ EF Core å¼å§è·è¸ªæä¸ªå®ä½æ¶åçï¼å½æå®ä½çç¶ææ¹åä¹ååçãå¶å®è¿æä¸ä¸ª&nbsp;StateChanging äºä»¶ï¼æ¯å¨å®ä½ç¶æå³å°æ¹åæ¶åçãæ»ç»æ¥è¯´å°±æ¯ï¼ç¶ææ¹åä¹ååç&nbsp;StateChanging äºä»¶ï¼æ¹åä¹ååç&nbsp;StateChanged äºä»¶ãè¦æ³¨æï¼StateChanged å&nbsp;StateChanging äºä»¶å¨ EF Core é¦æ¬¡è¿½è¸ªå®ä½æ¶ä¸ä¼å¼åãæ¯å¦ï¼åå¼å§è¿½è¸ªæ¶ç¶æä¸º Unchangedï¼ä¸ä¼å¼åäºä»¶ï¼èä¹åç¶æåä¸º Addedï¼å°±ä¼å¼åäºä»¶ï¼æå¼å§é£ä¸ªç¶æä¸ä¼è§¦åäºä»¶ï¼ã</p>
<p>ä¸é¢ä»£ç å¤ç Tracked äºä»¶ï¼å½å¼å§è¿½è¸ªæå®ä½æ¶ï¼æå°ä¸ä¸è°è¯ä¿¡æ¯ï¼è®°å½æç¶æï¼å¤ç StateChanged äºä»¶ï¼å¨å¼å§è¿½è¸ªç¶æåï¼ç¶æåçæ¹åä¹åæå°ååååçç¶æã</p>
<p>ä»£ç è¿è¡ç»æå¦ä¸ï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/367389/202601/367389-20260125181401722-693660532.png" alt="image" width="288" height="266" loading="lazy"></p>
<p>é¦åï¼new äºä¸ä¸ª Pet å¯¹è±¡ï¼èµå¼ï¼åè°ç¨ Add æ¹æ³æ·»å å°æ°æ®éåä¸­ï¼æ­¤æ¶ç¶æä¼è¢«æ¹ä¸º AddedãTracked äºä»¶è¾åºç¬¬ä¸åç»¿è²å­ä½ï¼è¡¨ç¤ºå®ä½å¼å§è¿½è¸ªçç¶æä¸º Addedï¼ID å¼æ¯éæºåéçè´å¼ï¼å¹¶è¯´ææ¯ä¸´æ¶ä¸»é®å¼ã</p>
<p>ç¶åè°ç¨ SaveChanges æ¹æ³å¹¶ä¼ é false ç»acceptAllChangesOnSuccess&nbsp;åæ°ï¼è¡¨æ INSERT è¿æ°æ®åºåï¼ç¶æä¸æ¹åï¼è¿æ¯ Addedã</p>
<p>ç¶åï¼è¿æ¯ç¨é£ä¸ªå®ä½å®ä¾ï¼æ¹åä¸ä¸å±æ§å¼ï¼ç±äºå®çç¶æä¾æ§æ¯ Addedï¼è°ç¨&nbsp;SaveChanges() æ¹æ³æ¶æªä¼ åæ°ï¼å®ä¼è°ç¨&nbsp;SaveChanges(acceptAllChangesOnSuccess: true)ï¼ç»ææ¯è¿æ¬¡å®ä½çç¶æåæäº Unchangedãå°±æ¯è¾åºç»æä¸­èè²å­ä½é£ä¸è¡ãæ­¤æ¶å®ä½ç ID=2ï¼è®°ä½è¿ä¸ªå¼ï¼å¾ä¼å¿ç¨å°ã</p>
<p>åå¾åï¼å±ä»¬ foreach è¯­å¥ç» DbSet ä¼è§¦å EF Core å»æ¥è¯¢æ°æ®åºï¼äºæ¯ï¼æä»¬çå°ï¼æ§å¶å°å¨âæ°æ®åºä¸­çè®°å½ï¼âä¸è¡ä¹åååçäº Tracked äºä»¶ï¼æä¸ä¸ª ID=1 çå®ä½è¢«è¿½è¸ªäºï¼å®åä»æ°æ®åºä¸­æ¥è¯¢åºæ¥ï¼å°±æ¯ç¬¬äºåç»¿è²å­ä½é£éã</p>
<p>è¿æ¶åä½ æ¯ä¸æ¯è¿·ä¹äºï¼ä¸æ¯ä»æ°æ®åºæ¥åºä¸¤æ¡è®°å½åï¼ä¸ºä»ä¹åªæ ID=1 çè¢«è¿½è¸ªäºï¼ID=2 å¢ï¼å¶å®ï¼ID = 2 å·²ç»è¢«è¿½è¸ªäºãå¿äºåï¼å®åé¢ä¸æ¯ä» Added ç¶æåä¸º Unchanged ç¶æåãè¿æ¯å ä¸ºå±ä»¬è¿ä¸è¿ä¸²æä½é½å¨åä¸ä¸ª DbContext å®ä¾ççå½å¨æè¿è¡çï¼EF Core å¯¹å®ä½çè¿½è¸ªä¸ä¼æ­å¼ã</p>
<p>å¦æä½ æä¸é¢çä»£ç æ¹æè¿æ ·ï¼é£å°±æç½äºã</p>
<div class="cnblogs_code">
<pre>    <span style="color: rgba(0, 0, 255, 1)">static</span> <span style="color: rgba(0, 0, 255, 1)">void</span> Main(<span style="color: rgba(0, 0, 255, 1)">string</span><span style="color: rgba(0, 0, 0, 1)">[] args)
    {
        </span><span style="color: rgba(0, 0, 255, 1)">using</span> (<span style="color: rgba(0, 0, 255, 1)">var</span> context = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> TestDbContext())
        {
            context.Database.EnsureDeleted();
            context.Database.EnsureCreated();

            </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> å¤çäºä»¶</span>
            <span style="background-color: rgba(255, 255, 0, 1)">context.ChangeTracker.Tracked +=</span><span style="color: rgba(0, 0, 0, 1)"><span style="background-color: rgba(255, 255, 0, 1)"> OnTracked;</span>
            <span style="background-color: rgba(255, 255, 0, 1)">context.ChangeTracker.StateChanged </span></span><span style="background-color: rgba(255, 255, 0, 1)">+=<span style="color: rgba(0, 0, 0, 1)"> OnStateChanged;

</span></span>            <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æ°å®ä½</span>
            Pet p = <span style="color: rgba(0, 0, 255, 1)">new</span> Pet { Name = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">Tom</span><span style="color: rgba(128, 0, 0, 1)">"</span>, Description = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ä¼æ¸¸æ³³çé¸</span><span style="color: rgba(128, 0, 0, 1)">"</span>, Category = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">çç¦½</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)"> };
            context.Add(p);
            </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> ä¿å­ï¼ä½ç¶æä¸æ¹å</span>
            context.SaveChanges(<span style="color: rgba(0, 0, 255, 1)">false</span><span style="color: rgba(0, 0, 0, 1)">);
            </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> å ä¸ºæ¯ Added ç¶æï¼æä»¥è¿å¯ä»¥ç»§ç»­insert</span>
            p.Name = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">Simum</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">;
            p.Description </span>= <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ä¸æéè</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">;
            p.Category </span>= <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ä¸¤æ å¨ç©</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">;
            </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> ä¿å­ï¼ç¶ææ¹å</span>
<span style="color: rgba(0, 0, 0, 1)">            context.SaveChanges();
        }

        </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æå®ä»¬æ¥è¯¢åºæ¥çç</span>
        <span style="color: rgba(0, 0, 255, 1)">using</span>(<span style="color: rgba(0, 0, 255, 1)">var</span> context2 = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> TestDbContext())
        {
            </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> ä¾æ§è¦å¤çäºä»¶</span>
            <span style="background-color: rgba(255, 255, 0, 1)">context2.ChangeTracker.Tracked +=</span><span style="color: rgba(0, 0, 0, 1)"><span style="background-color: rgba(255, 255, 0, 1)"> OnTracked;</span>
            <span style="background-color: rgba(255, 255, 0, 1)">context2.ChangeTracker.StateChanged </span></span><span style="background-color: rgba(255, 255, 0, 1)">+=<span style="color: rgba(0, 0, 0, 1)"> OnStateChanged;

</span></span>            <span style="color: rgba(0, 0, 255, 1)">var</span> <span style="color: rgba(0, 0, 255, 1)">set</span> = context2.Set&lt;Pet&gt;<span style="color: rgba(0, 0, 0, 1)">();
            Console.WriteLine(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">\næ°æ®åºä¸­çè®°å½ï¼</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
            </span><span style="color: rgba(0, 0, 255, 1)">foreach</span> (<span style="color: rgba(0, 0, 255, 1)">var</span> pp <span style="color: rgba(0, 0, 255, 1)">in</span> <span style="color: rgba(0, 0, 255, 1)">set</span><span style="color: rgba(0, 0, 0, 1)">)
            {
                Console.WriteLine($</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">{pp.Id}  {pp.Name}  {pp.Description}  {pp.Category}</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
            }
        }
    }

    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> ä¸é¢ä¸¤ä¸ªæ¹æ³å¤çäºä»¶</span>
    <span style="color: rgba(0, 0, 255, 1)">static</span> <span style="color: rgba(0, 0, 255, 1)">void</span> OnTracked(<span style="color: rgba(0, 0, 255, 1)">object</span>?<span style="color: rgba(0, 0, 0, 1)"> _,  EntityTrackedEventArgs e)
    {
        </span><span style="color: rgba(0, 0, 255, 1)">var</span> backupcolor =<span style="color: rgba(0, 0, 0, 1)"> Console.ForegroundColor;
        Console.ForegroundColor </span>=<span style="color: rgba(0, 0, 0, 1)"> ConsoleColor.Green;
        Console.WriteLine($</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">å®ä½è¢«è¿½è¸ªï¼\n{e.Entry.DebugView.LongView}\n</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
        Console.ForegroundColor </span>=<span style="color: rgba(0, 0, 0, 1)"> backupcolor;
    }
    </span><span style="color: rgba(0, 0, 255, 1)">static</span> <span style="color: rgba(0, 0, 255, 1)">void</span> OnStateChanged(<span style="color: rgba(0, 0, 255, 1)">object</span>?<span style="color: rgba(0, 0, 0, 1)"> _,  EntityStateChangedEventArgs e)
    {
        </span><span style="color: rgba(0, 0, 255, 1)">var</span> bkColor =<span style="color: rgba(0, 0, 0, 1)"> Console.ForegroundColor;
        Console.ForegroundColor </span>=<span style="color: rgba(0, 0, 0, 1)"> ConsoleColor.Blue;
        Console.WriteLine($</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">å®ä½ï¼ID={e.Entry.Property(nameof(Pet.Id)).CurrentValue}ï¼ç¶ææ¹åï¼{e.OldState} --&gt; {e.NewState}\n</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
        Console.ForegroundColor </span>=<span style="color: rgba(0, 0, 0, 1)"> bkColor;
    }</span></pre>
</div>
<p>ç°å¨åæ¬¡è¿è¡ï¼ççç»ææ¯ä¸æ¯ç¬¦åä½ å½åçææã</p>
<p><img src="https://img2024.cnblogs.com/blog/367389/202601/367389-20260125183707220-446191187.png" alt="image" width="373" height="378" loading="lazy"></p>
<p>ç°å¨çæåµæ¯ï¼åæ°æ®åºæå¥è®°å½æ¯ç¬¬ä¸ä¸ª DbContext å®ä¾ï¼å®äºåå°±éæ¾äºï¼å®ä½è¿½è¸ªå¨èªç¶å°±æäºï¼éååå»ºäºç¬¬äºä¸ª DbContext å®ä¾ï¼è¿æ¶åä»æ°æ®åºä¸­æ¥è¯¢åºä¸¤æ¡è®°å½é½æ¯æ²¡æè¢«è¿½è¸ªçï¼æä»¥è¦å¯å¨è¿½è¸ªï¼èªç¶å°±è½å¼åä¸¤æ¬¡ Tracked äºä»¶äºã</p>
<p>å¥½äºï¼åä½ï¼ä»å¤©å±ä»¬å°±ç²æµå°èå°è¿éãåé¢èå¨è¿ä¼ç»§ç»­è®¨è®ºå®ä½è¿½è¸ªçè¯é¢ï¼æ¬æä¸»è¦æ¯è®©å¤§ä¼ä¼´ä»¬äºè§£ä¸ä¸å®ä½çç¶æååã</p>
<p>&nbsp;</p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-25 18:41">2026-01-25 18:41</span>&nbsp;
<a href="https://www.cnblogs.com/tcjiaan">ä¸éªç¬å­¤</a>&nbsp;
éè¯»(<span id="post_view_count">44</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19528796);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19528796', targetLink: 'https://www.cnblogs.com/tcjiaan/p/19528796', title: 'ãEF Coreãå®ä½ç¶æä¸åæ´è¿½è¸ª' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ çä¸éå°±æ-å¤§æ¨¡åæ¶æåencoder-decoderè¯¦ç»è®­ç»åæ¨çè®¡ç®è¿ç¨ ]]></title>
    <link>https://www.cnblogs.com/GlenTt/p/19527689</link>
    <guid>3b1496efdab90d79ad6ba74f6aa9d47b</guid>
    <description>
    <![CDATA[ 
		<h2>
			<a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/GlenTt/p/19527689" title="åå¸äº 2026-01-25 18:21">
    <span role="heading" aria-level="2">çä¸éå°±æ-å¤§æ¨¡åæ¶æåencoder-decoderè¯¦ç»è®­ç»åæ¨çè®¡ç®è¿ç¨</span>
    

</a>

		</h2>
		<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="çä¸éå°±æ-å¤§æ¨¡åæ¶æåencoder-decoderè¯¦ç»è®­ç»åæ¨çè®¡ç®è¿ç¨">çä¸éå°±æ-å¤§æ¨¡åæ¶æåencoder-decoderè¯¦ç»è®­ç»åæ¨çè®¡ç®è¿ç¨</h1>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3670197/202601/3670197-20260125171614465-968404598.png" class="lazyload"><br>
<img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3670197/202601/3670197-20260125180912455-898795687.png" class="lazyload"></p>
<h2 id="ä¸ç¹æ®tokençææ">ä¸ãç¹æ®Tokençææ</h2>
<h3 id="ä¸åæ¨¡åæ¶æçç¹æ®tokenä½ç³»">ä¸åæ¨¡åæ¶æçç¹æ®tokenä½ç³»</h3>
<p><strong>BERTï¼Encoder-onlyï¼ç¨äºçè§£ä»»å¡ï¼</strong>ï¼</p>
<pre><code>&lt;CLS&gt;ï¼æ¾å¨å¥é¦ï¼ç¨äºåç±»ä»»å¡ï¼å¶è¾åºåéä»£è¡¨æ´å¥è¯­ä¹
&lt;SEP&gt;ï¼åéç¬¦ï¼ç¨äºå¥å¯¹ä»»å¡ï¼å¦é®ç­ãææ¬è´å«ï¼
&lt;PAD&gt;ï¼å¡«åç¬¦ï¼ç¨äºbatchåé¿åº¦å¯¹é½
&lt;MASK&gt;ï¼æ©ç ç¬¦ï¼ç¨äºé¢è®­ç»çå®å½¢å¡«ç©ºä»»å¡
</code></pre>
<p><strong>GPTï¼Decoder-onlyï¼ç¨äºçæä»»å¡ï¼</strong>ï¼</p>
<pre><code>&lt;|endoftext|&gt;ï¼æ¢æ¯ææ¡£ç»æç¬¦ï¼ä¹ç¨ä½å¥å­é´åéç¬¦
&lt;PAD&gt;ï¼å¡«åç¬¦ï¼ä½GPTå¾å°ç¨ï¼å ä¸ºçæä»»å¡ä¸éè¦ä¸¥æ ¼å¯¹é½ï¼
</code></pre>
<p><strong>T5ï¼Encoder-Decoderï¼ç»ä¸æ¡æ¶ï¼</strong>ï¼</p>
<pre><code>&lt;pad&gt;ï¼å¡«å
&lt;eos&gt;ï¼å¥å­ç»æç¬¦
&lt;unk&gt;ï¼æªç¥è¯
æ²¡æä¸é¨ç&lt;bos&gt;ï¼å ä¸ºT5ç¨ä»»å¡åç¼ï¼å¦"translate English to German:"ï¼
</code></pre>
<p><strong>ç°ä»£Encoder-Decoderï¼å¦BARTãmBARTãmT5ï¼</strong>ï¼</p>
<pre><code>&lt;s&gt;ï¼å¥å­å¼å§ç¬¦ï¼ç¸å½äº&lt;bos&gt;ï¼
&lt;/s&gt;ï¼å¥å­ç»æç¬¦ï¼ç¸å½äº&lt;eos&gt;ï¼
&lt;pad&gt;ï¼å¡«åç¬¦
</code></pre>
<h3 id="æä»¬çä¾å­å°ä½¿ç¨ç»å¸çseq2seqç¬¦å·ä½ç³»">æä»¬çä¾å­å°ä½¿ç¨ç»å¸çSeq2Seqç¬¦å·ä½ç³»</h3>
<p>ä¸ºäºè®²è§£æ¸æ°ï¼æéç¨æç»å¸ãæç´è§çè®¾å®ï¼</p>
<pre><code>&lt;bos&gt;ï¼Begin of Sequenceï¼åè¯decoder"æè¦å¼å§çæäº"
&lt;eos&gt;ï¼End of Sequenceï¼åè¯decoder"æçæå®äºï¼è¯¥åäº"
&lt;pad&gt;ï¼Paddingï¼å¨batchè®­ç»ä¸­è®©ææåºåç­é¿
</code></pre>
<hr>
<h2 id="äºå®æ´è®­ç»æµç¨çå§æ¬ä»æ°æ®åå¤å°åæ°æ´æ°">äºãå®æ´è®­ç»æµç¨çå§æ¬ï¼ä»æ°æ®åå¤å°åæ°æ´æ°ï¼</h2>
<p>è®©æä»¬ä»¥"ä»å¤©å¤©æ°å¾å¥½"è¿ä¸ªè®­ç»æ ·æ¬ä¸ºä¸»çº¿ï¼å®æ´æ¼ç»ä¸éè®­ç»çå¨è¿ç¨ã<br>
<img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3670197/202601/3670197-20260124221828189-2034691527.png" class="lazyload"></p>
<h3 id="ç¬¬ä¸å¹æ°æ®é¢å¤çæ¼ååå¤ä¸åº">ç¬¬ä¸å¹ï¼æ°æ®é¢å¤çï¼æ¼ååå¤ä¸åºï¼</h3>
<h4 id="åå§è®­ç»æ ·æ¬">åå§è®­ç»æ ·æ¬</h4>
<pre><code>æºè¯­è¨ï¼ä¸­æï¼ï¼ä»å¤©å¤©æ°å¾å¥½
ç®æ è¯­è¨ï¼ä¸­æï¼ï¼ä»å¤©å¤©æ°å¾å¥½  # è¿æ¯ä¸ªå¤è¿°ä»»å¡çä¾å­
</code></pre>
<h4 id="tokenååè¯">Tokenåï¼åè¯ï¼</h4>
<pre><code>æºåºåï¼[ä», å¤©, å¤©, æ°, å¾, å¥½]
ç®æ åºåï¼[ä», å¤©, å¤©, æ°, å¾, å¥½]
</code></pre>
<h4 id="æ·»å ç¹æ®tokenå³é®æ­¥éª¤">æ·»å ç¹æ®tokenï¼å³é®æ­¥éª¤ï¼ï¼</h4>
<p><strong>Encoderè¾å¥ï¼æºåºåå ç»æç¬¦ï¼</strong>ï¼</p>
<pre><code>[ä», å¤©, å¤©, æ°, å¾, å¥½, &lt;eos&gt;]
é¿åº¦ = 7
</code></pre>
<p>ä¸ºä»ä¹Encoderè¦å <code>&lt;eos&gt;</code>ï¼å ä¸ºè¿åè¯æ¨¡å"æºå¥å­å°æ­¤ç»æäºï¼æ²¡ææ´å¤ä¿¡æ¯äº"ãå¨ç¿»è¯ä»»å¡ä¸­ï¼è¿ä¸ªä¿¡å·å¾éè¦ï¼å®è®©æ¨¡åç¥éä¸è¦åæå¾æ´å¤æºè¯­è¨è¯æ±ã</p>
<p><strong>Decoderè¾å¥ï¼ç®æ åºåå å¼å§ç¬¦ï¼</strong>ï¼</p>
<pre><code>[&lt;bos&gt;, ä», å¤©, å¤©, æ°, å¾, å¥½]
é¿åº¦ = 7
</code></pre>
<p>ä¸ºä»ä¹Decoderè¾å¥è¦å <code>&lt;bos&gt;</code>ï¼è¿æ¯çæç"èµ·å§ä¿¡å·"ï¼å°±ååè¯ä¸ä¸ªä½å®¶"è¯·å¼å§åä½"ãç¬¬ä¸ä¸ªè¯ççæéè¦ä¸ä¸ªåå§ä¸ä¸æï¼<code>&lt;bos&gt;</code>å°±æ®æ¼è¿ä¸ªè§è²ã</p>
<p><strong>è®­ç»æ ç­¾ï¼ç®æ åºåå ç»æç¬¦ï¼</strong>ï¼</p>
<pre><code>[ä», å¤©, å¤©, æ°, å¾, å¥½, &lt;eos&gt;]
é¿åº¦ = 7
</code></pre>
<p>ä¸ºä»ä¹æ ç­¾è¦å <code>&lt;eos&gt;</code>ï¼å ä¸ºæä»¬è¦è®­ç»æ¨¡åå­¦ä¼"ä»ä¹æ¶ååæ­¢çæ"ãæåä¸ä¸ªæ¶é´æ­¥ï¼æ¨¡ååºè¯¥é¢æµ<code>&lt;eos&gt;</code>èä¸æ¯ç»§ç»­çææ°è¯ã</p>
<h4 id="è½¬æ¢ä¸ºidæ¥è¯è¡¨">è½¬æ¢ä¸ºIDï¼æ¥è¯è¡¨ï¼</h4>
<p>åè®¾æä»¬çè¯è¡¨ï¼10ä¸ªè¯ï¼æ¯ï¼</p>
<pre><code>è¯è¡¨ = {
    &lt;pad&gt;: 0,
    &lt;bos&gt;: 1,
    &lt;eos&gt;: 2,
    ä»: 3,
    å¤©: 4,
    æ°: 5,
    å¾: 6,
    å¥½: 7,
    ç: 8,
    æ¯: 9
}
</code></pre>
<p>è½¬æ¢åï¼</p>
<pre><code>Encoderè¾å¥ ID: [3, 4, 4, 5, 6, 7, 2]
Decoderè¾å¥ ID: [1, 3, 4, 4, 5, 6, 7]
æ ç­¾ ID:        [3, 4, 4, 5, 6, 7, 2]
</code></pre>
<p>æ³¨æDecoderè¾å¥åæ ç­¾çéä½å³ç³»ï¼è¿å°±æ¯Teacher Forcingï¼è¾å¥æ¯"å·²ç¥çæ­£ç¡®ç­æ¡"ï¼è®©æ¨¡åå¨æ¯ä¸æ­¥é½åºäºæ­£ç¡®åå²æ¥é¢æµä¸ä¸ä¸ªè¯ã</p>
<hr>
<h3 id="ç¬¬äºå¹encoderçè®¡ç®æç¨çè§£æºå¥å­">ç¬¬äºå¹ï¼Encoderçè®¡ç®æç¨ï¼çè§£æºå¥å­ï¼</h3>
<h4 id="åºæ¯1embeddingå±æidåæåé">åºæ¯1ï¼Embeddingå±ï¼æIDåæåéï¼</h4>
<pre><code class="language-python"># åè®¾embeddingç»´åº¦ d_model = 4
Embeddingç©éµ W_emb â â^(10Ã4)  # è¯è¡¨å¤§å°10ï¼æ¯ä¸ªè¯4ç»´åé

# æ¥è¡¨å¾å°åéï¼æç®åä¸ä¸æ°å¼ï¼
ä» (ID=3) â [0.8, 0.1, 0.3, 0.2]
å¤© (ID=4) â [0.2, 0.9, 0.1, 0.4]
å¤© (ID=4) â [0.2, 0.9, 0.1, 0.4]  # ç¸åçè¯embeddingç¸å
æ° (ID=5) â [0.1, 0.2, 0.9, 0.1]
å¾ (ID=6) â [0.4, 0.3, 0.2, 0.8]
å¥½ (ID=7) â [0.5, 0.4, 0.1, 0.6]
&lt;eos&gt;(ID=2) â [0.3, 0.5, 0.6, 0.4]

Encoderè¾å¥ç©éµ X_enc^(0) = [7Ã4]
</code></pre>
<p><strong>ä¸ºä»ä¹è¦ç¨embeddingï¼</strong> å ä¸ºç¥ç»ç½ç»ä¸è½ç´æ¥å¤çç¦»æ£çIDæ°å­ï¼å¿é¡»è½¬æ¢ä¸ºè¿ç»­åéæè½è¿è¡å¾®åè®¡ç®ãEmbeddingæ¬è´¨æ¯ä¸ä¸ªå¯å­¦ä¹ çæ¥æ¾è¡¨ï¼è®­ç»è¿ç¨ä¼è®©è¯­ä¹ç¸è¿çè¯åéä¹æ¥è¿ã</p>
<h4 id="åºæ¯2ä½ç½®ç¼ç å å¥é¡ºåºä¿¡æ¯">åºæ¯2ï¼ä½ç½®ç¼ç ï¼å å¥é¡ºåºä¿¡æ¯ï¼</h4>
<pre><code class="language-python"># ä½ç½®ç¼ç åè¯æ¨¡å"è¿æ¯ç¬¬å ä¸ªè¯"
Position Encoding PE â â^(7Ã4)

pos=0 â [0.00, 1.00, 0.00, 1.00]
pos=1 â [0.84, 0.54, 0.10, 0.99]
pos=2 â [0.91, -0.42, 0.20, 0.98]
pos=3 â [0.14, -0.99, 0.30, 0.95]
pos=4 â [-0.76, -0.65, 0.39, 0.92]
pos=5 â [-0.96, 0.28, 0.48, 0.88]
pos=6 â [-0.28, 0.96, 0.56, 0.83]

# å å å°embeddingä¸
X_enc^(0) = X_enc^(0) + PE  # éåç´ ç¸å 
</code></pre>
<p><strong>ä¸ºä»ä¹éè¦ä½ç½®ç¼ç ï¼</strong> å ä¸ºSelf-Attentionæ¯ç½®æ¢ä¸åçï¼å®åªç"è°åè°ç¸å³"ï¼ä¸ç®¡é¡ºåºãä½è¯­è¨æ¯æé¡ºåºçï¼"ä»å¤©å¾å¥½"å"å¾å¥½ä»å¤©"ææä¸åãä½ç½®ç¼ç ç¨æ­£å¼¦æ³¢å½æ°ç»æ¯ä¸ªä½ç½®ä¸ä¸ªç¬ç¹ç"èº«ä»½æ ç­¾"ã</p>
<h4 id="åºæ¯3self-attention-layer-1è¯ä¸è¯äºç¸çè§£">åºæ¯3ï¼Self-Attention Layer 1ï¼è¯ä¸è¯äºç¸çè§£ï¼</h4>
<p>ç°å¨è¿å¥ç¬¬ä¸å±Self-Attentionï¼è¿é<strong>æ²¡æmask</strong>ï¼å ä¸ºEncoderå¯ä»¥çå°æ´ä¸ªå¥å­ã</p>
<pre><code class="language-python"># æå½±ç©éµï¼ç®åä¸ºåä½éµï¼
W_Q = W_K = W_V = I_4

# è®¡ç®Q, K, V
Q = X_enc^(0) Ã W_Q = X_enc^(0)  [7Ã4]
K = X_enc^(0) Ã W_K = X_enc^(0)  [7Ã4]
V = X_enc^(0) Ã W_V = X_enc^(0)  [7Ã4]

# è®¡ç®æ³¨æååæ°
Scores = Q Ã K^T / â4  [7Ã7]

# è¿éæ¯å³é®ï¼Encoderçattentionç©éµæ¯å¨è¿æ¥çï¼
# æ¯ä¸ªè¯é½è½çå°ææå¶ä»è¯ï¼åæ¬èªå·±ï¼

        ä»    å¤©    å¤©    æ°    å¾    å¥½   &lt;eos&gt;
ä»    [0.82, 0.69, 0.69, 0.58, 0.61, 0.72, 0.64]
å¤©    [0.69, 0.91, 0.91, 0.78, 0.82, 0.79, 0.81]
å¤©    [0.69, 0.91, 0.91, 0.78, 0.82, 0.79, 0.81]  # ä¸¤ä¸ª"å¤©"å®å¨ä¸æ ·
æ°    [0.58, 0.78, 0.78, 0.88, 0.76, 0.71, 0.75]
å¾    [0.61, 0.82, 0.82, 0.76, 0.93, 0.84, 0.79]
å¥½    [0.72, 0.79, 0.79, 0.71, 0.84, 0.94, 0.85]
&lt;eos&gt; [0.64, 0.81, 0.81, 0.75, 0.79, 0.85, 0.87]

# Softmaxï¼æ¯è¡å½ä¸åï¼
Attention_Weights = softmax(Scores)  [7Ã7]

# å ææ±å
Output = Attention_Weights Ã V  [7Ã4]
</code></pre>
<p><strong>è¿ä¸æ­¥çæä¹æ¯ä»ä¹ï¼</strong> æ¯ä¸ªè¯éè¿å³æ³¨å¶ä»ææè¯ï¼æå¥å­çå¨å±ä¿¡æ¯èåè¿æ¥ãæ¯å¦"å¤©æ°"è¿ä¸ªè¯ï¼ä¼åæ¶å³æ³¨"ä»å¤©"å"å¾å¥½"ï¼çè§£è¿æ¯å¨æè¿°ä»å¤©çå¤©æ°ç¶åµã</p>
<h4 id="åºæ¯4add--normæ®å·®è¿æ¥åå½ä¸å">åºæ¯4ï¼Add &amp; Normï¼æ®å·®è¿æ¥åå½ä¸åï¼</h4>
<pre><code class="language-python"># æ®å·®è¿æ¥ï¼æè¾å¥ç´æ¥å å°è¾åºä¸
X_residual = X_enc^(0) + Output

# Layer Normalizationï¼è®©æ¯ä¸ªæ ·æ¬çåå¼=0ï¼æ¹å·®=1
X_enc^(1) = LayerNorm(X_residual)  [7Ã4]
</code></pre>
<p><strong>ä¸ºä»ä¹è¦æ®å·®è¿æ¥ï¼</strong> é²æ­¢æ·±å±ç½ç»çæ¢¯åº¦æ¶å¤±ï¼è®©åå§ä¿¡æ¯è½å¤"ç´é"å°åé¢çå±ãå°±åé«éå¬è·¯çå¿«è½¦éï¼ä¿è¯éè¦ä¿¡æ¯ä¸ä¼å¨ä¼ éè¿ç¨ä¸­ä¸¢å¤±ã</p>
<h4 id="åºæ¯5feed-forwardå±ç¬ç«å¤çæ¯ä¸ªä½ç½®">åºæ¯5ï¼Feed-Forwardå±ï¼ç¬ç«å¤çæ¯ä¸ªä½ç½®ï¼</h4>
<pre><code class="language-python"># ä¸¤å±å¨è¿æ¥ç½ç»ï¼å¯¹æ¯ä¸ªtokenç¬ç«å¤ç
FFN(x) = W2 Ã ReLU(W1 Ã x + b1) + b2

åè®¾ W1: [4Ã16], W2: [16Ã4]  # ä¸­é´æ©å±å°16ç»´

å¯¹æ¯ä¸ªä½ç½®è®¡ç®ï¼
Output_FFN = FFN(X_enc^(1))  [7Ã4]

# åæ¬¡ Add &amp; Norm
X_enc^(2) = LayerNorm(X_enc^(1) + Output_FFN)
</code></pre>
<p><strong>ä¸ºä»ä¹éè¦FFNï¼</strong> Self-Attentionæé¿å»ºæ¨¡å¨å±ä¾èµï¼ä½æ¯çº¿æ§çãFFNæä¾éçº¿æ§åæ¢è½åï¼è®©æ¨¡åè½å­¦ä¹ æ´å¤æçæ¨¡å¼ãä¸­é´ç»´åº¦æ©å±ï¼4â16â4ï¼å¢å äºè¡¨è¾¾è½åã</p>
<h4 id="åºæ¯6å å å¤å±å æ·±çè§£">åºæ¯6ï¼å å å¤å±ï¼å æ·±çè§£ï¼</h4>
<p>å®éçTransformerä¼å å å¤å±ï¼å¦6å±ï¼ï¼æ¯å±é½éå¤"Self-Attention + FFN"çç»æãåè®¾æä»¬åªæ2å±ï¼é£ä¹ï¼</p>
<pre><code class="language-python"># ç»è¿ç¬¬2å±åå¾å°æç»çEncoderè¾åº
H_enc = X_enc^(final)  [7Ã4]

å·ä½æ°å¼ï¼è¿æ¯æç»ç»è¿ææå±åçç»æï¼ï¼
        dim0   dim1   dim2   dim3
ä»     [0.8,  0.1,  0.3,  0.2]
å¤©     [0.2,  0.9,  0.1,  0.4]
å¤©     [0.3,  0.8,  0.2,  0.3]
æ°     [0.1,  0.2,  0.9,  0.1]
å¾     [0.4,  0.3,  0.2,  0.8]
å¥½     [0.5,  0.4,  0.1,  0.6]
&lt;eos&gt;  [0.4,  0.5,  0.5,  0.5]
</code></pre>
<p><strong>Encoderçæç»äº§åºæ¯ä»ä¹ï¼</strong> ä¸ä¸ª7Ã4çç©éµï¼æ¯ä¸è¡æ¯ä¸ä¸ªæºå¥å­tokenç"æ·±åº¦è¯­ä¹è¡¨ç¤º"ï¼å·²ç»èåäºå¨å¥çä¸ä¸æä¿¡æ¯ãè¿ä¸ªç©éµå°ä½ä¸º"ç¥è¯åº"æä¾ç»Decoderã</p>
<hr>
<h3 id="ç¬¬ä¸å¹decoderççæå¾ç¨åºäºæºå¥å­çæç®æ ">ç¬¬ä¸å¹ï¼Decoderççæå¾ç¨ï¼åºäºæºå¥å­çæç®æ ï¼</h3>
<h4 id="åºæ¯1decoderçè¾å¥åå¤">åºæ¯1ï¼Decoderçè¾å¥åå¤</h4>
<pre><code class="language-python">Decoderè¾å¥åºå ID: [1, 3, 4, 4, 5, 6, 7]
å¯¹åºtoken:         [&lt;bos&gt;, ä», å¤©, å¤©, æ°, å¾, å¥½]

# Embedding + ä½ç½®ç¼ç 
X_dec^(0) = Embedding(Decoderè¾å¥) + PE  [7Ã4]
</code></pre>
<h4 id="åºæ¯2masked-self-attentionåªçè¿å»">åºæ¯2ï¼Masked Self-Attentionï¼åªçè¿å»ï¼</h4>
<p>è¿æ¯Decoderçç¬¬ä¸ä¸ªattentionå±ï¼ä¸Encoderçåºå«å°±å¨äºå äºCausal Maskã</p>
<pre><code class="language-python"># è®¡ç®Q, K, V
Q_dec = X_dec^(0) Ã W_Q  [7Ã4]
K_dec = X_dec^(0) Ã W_K  [7Ã4]
V_dec = X_dec^(0) Ã W_V  [7Ã4]

# è®¡ç®åå§åæ°
Scores = Q_dec Ã K_dec^T / â4  [7Ã7]

# åºç¨Causal Maskï¼è®¾ç½®ä¸ä¸è§ä¸º-âï¼
Maskç©éµï¼ä¸ä¸è§+å¯¹è§çº¿ä¸º1ï¼ä¸ä¸è§ä¸º0ï¼ï¼
[[1, 0, 0, 0, 0, 0, 0],
 [1, 1, 0, 0, 0, 0, 0],
 [1, 1, 1, 0, 0, 0, 0],
 [1, 1, 1, 1, 0, 0, 0],
 [1, 1, 1, 1, 1, 0, 0],
 [1, 1, 1, 1, 1, 1, 0],
 [1, 1, 1, 1, 1, 1, 1]]

Masked_Scores = æMaskä¸º0çä½ç½®è®¾ä¸º-â

# Softmaxåï¼æªæ¥ä½ç½®çæéèªå¨ä¸º0
Attention_Weights = softmax(Masked_Scores)  [7Ã7]

ç¤ºä¾ï¼ç¬¬2è¡"ä»"çæéåå¸ï¼ï¼
[0.45, 0.55, 0.00, 0.00, 0.00, 0.00, 0.00]
 â     â     âåé¢å¨æ¯0
 bos   ä»

# è¾åº
Output_self = Attention_Weights Ã V_dec  [7Ã4]
</code></pre>
<p><strong>ä¸ºä»ä¹Decoderè¦maskï¼</strong> å ä¸ºè®­ç»æ¶æä»¬æ¯å¹¶è¡å¤çæ´ä¸ªåºåçï¼ä½é¢æµæ¶åªè½ä¸ä¸ªä¸ä¸ªçæãMaskç¡®ä¿è®­ç»åæ¨ççä¿¡æ¯æµåä¸è´ï¼é²æ­¢"ä½å¼"ã</p>
<h4 id="åºæ¯3cross-attentionä»encoderåé´ç¥è¯">åºæ¯3ï¼Cross-Attentionï¼ä»Encoderåé´ç¥è¯ï¼</h4>
<p>è¿æ¯Encoder-Decoderæ¶æçæ ¸å¿ï¼</p>
<pre><code class="language-python"># Queryæ¥èªDecoderçå½åç¶æ
Q_cross = Output_self Ã W_Q  [7Ã4]

# KeyåValueæ¥èªEncoderçè¾åºï¼
K_cross = H_enc Ã W_K  [7Ã4]  â è¿æ¯Encoderçæç»è¾åº
V_cross = H_enc Ã W_V  [7Ã4]

# è®¡ç®æ³¨æåï¼è¿éæ²¡æmaskï¼å¯ä»¥çEncoderçææä½ç½®ï¼
Scores_cross = Q_cross Ã K_cross^T / â4  [7Ã7]
                âDecoder7ä¸ªä½ç½®  âEncoder7ä¸ªä½ç½®

Attention_Weights_cross = softmax(Scores_cross)  [7Ã7]

# ç¤ºä¾ï¼Decoderä½ç½®1ï¼é¢æµ"å¤©"ï¼å¯¹Encoderåä½ç½®çå³æ³¨
ä½ç½®1çæé: [0.15, 0.25, 0.20, 0.10, 0.12, 0.10, 0.08]
              ä»   å¤©   å¤©   æ°   å¾   å¥½  eos

# å ææ±å
Output_cross = Attention_Weights_cross Ã V_cross  [7Ã4]
</code></pre>
<p><strong>Cross-Attentionçæ¬è´¨æ¯ä»ä¹ï¼</strong> Decoderç¨å½åçæç¶æä½ä¸º"é®é¢"ï¼Queryï¼ï¼å¨Encoderçè¯­ä¹ç©éµä¸­"æ£ç´¢"ç¸å³ä¿¡æ¯ï¼Keyï¼ï¼æååºæç¨çåå®¹ï¼Valueï¼ãå°±åç¿»è¯æ¶ï¼çææ¯ä¸ªç®æ è¯é½ä¼åå¤´çæºå¥å­çä¸åé¨åã</p>
<h4 id="åºæ¯4feed-forward--add--norm">åºæ¯4ï¼Feed-Forward + Add &amp; Norm</h4>
<pre><code class="language-python"># åEncoderä¸æ ·çç»æ
Output_FFN = FFN(Output_cross)
X_dec^(1) = LayerNorm(Output_cross + Output_FFN)  [7Ã4]

# è¿æ¯Decoderç¬¬ä¸å±çæç»è¾åº
</code></pre>
<h4 id="åºæ¯5å å å¤å±åçæç»è¾åº">åºæ¯5ï¼å å å¤å±åçæç»è¾åº</h4>
<p>åè®¾Decoderä¹æ¯2å±ï¼æç»å¾å°ï¼</p>
<pre><code class="language-python">H_dec = X_dec^(final)  [7Ã4]

# è¿ä¸ªç©éµçæ¯ä¸è¡ä»£è¡¨Decoderå¨è¯¥ä½ç½®ç"æ¡ä»¶çæç¶æ"
</code></pre>
<hr>
<h3 id="ç¬¬åå¹è¾åºå±ä¸æå¤±è®¡ç®è¯å¤å¯¹é">ç¬¬åå¹ï¼è¾åºå±ä¸æå¤±è®¡ç®ï¼è¯å¤å¯¹éï¼</h3>
<h4 id="åºæ¯1æå½±å°è¯è¡¨ç©ºé´">åºæ¯1ï¼æå½±å°è¯è¡¨ç©ºé´</h4>
<pre><code class="language-python"># çº¿æ§åæ¢ï¼4ç»´ â 10ç»´ï¼è¯è¡¨å¤§å°ï¼
W_vocab â â^(4Ã10)

Logits = H_dec Ã W_vocab  [7Ã10]

# æ¯ä¸è¡æ¯ä¸ä¸ªä½ç½®å¯¹10ä¸ªè¯çåå§åæ°
ä½ç½®0ï¼è¾å¥&lt;bos&gt;ï¼é¢æµ"ä»"ï¼ï¼
logits[0] = [0.21, 0.18, 0.15, 0.89, 0.54, 0.32, 0.41, 0.38, 0.25, 0.19]
           pad  bos  eos  ä»â  å¤©   æ°   å¾   å¥½   ç   æ¯
</code></pre>
<h4 id="åºæ¯2softmaxå¾å°æ¦çåå¸">åºæ¯2ï¼Softmaxå¾å°æ¦çåå¸</h4>
<pre><code class="language-python">Probs = softmax(Logits)  [7Ã10]

# ä½ç½®0çæ¦çåå¸
P[0] = softmax(logits[0])
     = [0.067, 0.065, 0.063, 0.131, 0.094, 0.076, 0.083, 0.080, 0.070, 0.065]
        pad   bos   eos   ä»â   å¤©    æ°    å¾    å¥½    ç    æ¯
                           13.1%

# å¨é¨7ä¸ªä½ç½®çé¢æµ
ä½ç½®0é¢æµåå¸ï¼P(ä»)=13.1%, P(å¤©)=9.4%, ...
ä½ç½®1é¢æµåå¸ï¼P(ä»)=8.2%, P(å¤©)=15.3%, ...  â åºè¯¥é¢æµ"å¤©"
ä½ç½®2é¢æµåå¸ï¼...
...
ä½ç½®6é¢æµåå¸ï¼P(&lt;eos&gt;)=18.5%, ...  â åºè¯¥é¢æµç»æç¬¦
</code></pre>
<h4 id="åºæ¯3è®¡ç®äº¤åçµæå¤±">åºæ¯3ï¼è®¡ç®äº¤åçµæå¤±</h4>
<pre><code class="language-python"># æ ç­¾ï¼çå®ç­æ¡ï¼
Labels = [3, 4, 4, 5, 6, 7, 2]  # ä»,å¤©,å¤©,æ°,å¾,å¥½,&lt;eos&gt;

# å¯¹æ¯ä¸ªä½ç½®è®¡ç®æå¤±
Loss_0 = -log(P[0, 3]) = -log(0.131) = 2.03
Loss_1 = -log(P[1, 4]) = -log(0.153) = 1.88
Loss_2 = -log(P[2, 4]) = -log(0.147) = 1.92
Loss_3 = -log(P[3, 5]) = -log(0.162) = 1.82
Loss_4 = -log(P[4, 6]) = -log(0.159) = 1.84
Loss_5 = -log(P[5, 7]) = -log(0.155) = 1.86
Loss_6 = -log(P[6, 2]) = -log(0.185) = 1.69

# å¹³åæå¤±
Total_Loss = (2.03 + 1.88 + 1.92 + 1.82 + 1.84 + 1.86 + 1.69) / 7
           = 1.86
</code></pre>
<p><strong>ä¸ºä»ä¹ç¨äº¤åçµï¼</strong> å®è¡¡éé¢æµåå¸åçå®åå¸ï¼one-hotï¼çè·ç¦»ãé¢æµæ¦çè¶é«ï¼æå¤±è¶å°ãæ¨¡åçç®æ å°±æ¯æå°åè¿ä¸ªæå¤±ã</p>
<hr>
<h3 id="ç¬¬äºå¹ååä¼ æ­ä¸åæ°æ´æ°å­¦ä¹ æå">ç¬¬äºå¹ï¼ååä¼ æ­ä¸åæ°æ´æ°ï¼å­¦ä¹ æåï¼</h3>
<h4 id="æå¤±å¯¹åå±åæ°çæ¢¯åº¦">æå¤±å¯¹åå±åæ°çæ¢¯åº¦</h4>
<pre><code class="language-python"># æ¢¯åº¦ä»è¾åºå±ååæµå¨
âLoss/âW_vocab â æ´æ°è¯è¡¨æå½±ç©éµ
  â
âLoss/âH_dec â æµåDecoderæåä¸å±
  â
âLoss/â(Decoder FFNåæ°) â æ´æ°FFN
  â
âLoss/â(Cross-Attentionåæ°) â æ´æ°W_Q, W_K, W_V
  â  â
  â  ââ âLoss/âH_enc â æµåEncoderï¼
  â
âLoss/â(Masked Self-Attentionåæ°)
  â
âLoss/âX_dec^(0) â æµåDecoder embedding
</code></pre>
<p><strong>å³é®æ´å¯ï¼Encoderä¼è¢«Decoderçæå¤±è®­ç»ï¼</strong> è½ç¶Encoderæ²¡æç´æ¥ççç£ä¿¡å·ï¼ä½Cross-Attentionå»ºç«äºæ¡¥æ¢ï¼è®©çæä»»å¡çæå¤±è½ååä¼ æ­å°Encoderï¼ç£ä¿å®å­¦ä¹ "å¯¹çææç¨"çè¡¨ç¤ºã</p>
<h4 id="åæ°æ´æ°éæºæ¢¯åº¦ä¸é">åæ°æ´æ°ï¼éæºæ¢¯åº¦ä¸éï¼</h4>
<pre><code class="language-python">å­¦ä¹ ç Î· = 0.001

W_vocab^(new) = W_vocab^(old) - Î· Ã âLoss/âW_vocab
Encoderåæ°^(new) = Encoderåæ°^(old) - Î· Ã âLoss/âEncoderåæ°
Decoderåæ°^(new) = Decoderåæ°^(old) - Î· Ã âLoss/âDecoderåæ°
</code></pre>
<p>ä¸æ¬¡è®­ç»æ­¥éª¤å®æï¼æ¨¡åä¼å¯¹æåä¸ä¸ä¸ªè¿æ ·çæ ·æ¬éå¤è¿ä¸ªè¿ç¨ï¼éæ¸å­¦ä¼ç¿»è¯ãæè¦ãå¯¹è¯ç­ä»»å¡ã</p>
<hr>
<h2 id="ä¸ç¹æ®tokençæ·±å±ä½ç¨æºå¶">ä¸ãç¹æ®Tokençæ·±å±ä½ç¨æºå¶</h2>
<p>ç°å¨ä½ å·²ç»çå®äºå®æ´æµç¨ï¼è®©ææ·±å¥è§£éç¹æ®tokenä¸ºä»ä¹å¿ä¸å¯å°ã</p>
<h3 id="bosçä¸éä½ç¨"><code>&lt;bos&gt;</code>çä¸éä½ç¨</h3>
<p><strong>ç¬¬ä¸éï¼ä½ä¸ºçæçèµ·ç¹</strong>ãDecoderçç¬¬ä¸ä¸ªä½ç½®å¿é¡»æä¸ä¸ªè¾å¥ï¼<code>&lt;bos&gt;</code>æä¾äºä¸ä¸ª"ä¸­æ§çèµ·å§ä¸ä¸æ"ãå°±åèµè·çåä»¤æªï¼å®æ¬èº«æ²¡æè¯­ä¹ï¼ä½ç»åºäº"å¼å§"çä¿¡å·ã</p>
<p><strong>ç¬¬äºéï¼å¨Self-Attentionä¸­åå½éç¹</strong>ãç¬¬ä¸ä¸ªè¯ï¼å¦"ä»"ï¼çQueryä¼åæ¶å³æ³¨<code>&lt;bos&gt;</code>åèªå·±ï¼<code>&lt;bos&gt;</code>çembeddingä¼å½±åç¬¬ä¸ä¸ªè¯ççæå¾åãæ¯å¦å¨å¯¹è¯ä»»å¡ä¸­ï¼ä¸åçå¯¹è¯ç±»åå¯è½è®­ç»åºä¸åç<code>&lt;bos&gt;</code>è¡¨ç¤ºã</p>
<p><strong>ç¬¬ä¸éï¼å¨Cross-Attentionä¸­å¼å¯¼åå§æ£ç´¢</strong>ã<code>&lt;bos&gt;</code>ä½ç½®çQueryä¼å»Encoderä¸­æ£ç´¢ä¿¡æ¯ï¼å³å®"ä»åªéå¼å§ç¿»è¯/çæ"ãå¨ç¿»è¯ä»»å¡ä¸­ï¼æ¨¡åå¯è½å­¦ä¼è®©<code>&lt;bos&gt;</code>å³æ³¨æºå¥å­çå¼å¤´ã</p>
<h3 id="eosçä¸éä½ç¨"><code>&lt;eos&gt;</code>çä¸éä½ç¨</h3>
<p><strong>ç¬¬ä¸éï¼Encoderä¾§ï¼ï¼æ è®°æºå¥å­è¾¹ç</strong>ãåè¯Encoder"å¥å­ç»æäº"ï¼å¨Self-Attentionä¸­ï¼<code>&lt;eos&gt;</code>è½æ±èå¨å¥ä¿¡æ¯ï¼æä¸º"å¥å­çº§è¡¨ç¤º"ãå¾å¤æè¦ä»»å¡ä¼ä¸é¨æåEncoderç<code>&lt;eos&gt;</code>åéä½ä¸ºå¥å­æè¦ã</p>
<p><strong>ç¬¬äºéï¼Decoderä¾§ï¼ï¼å­¦ä¹ ä½æ¶åæ­¢</strong>ãè®­ç»æ¶æåä¸ä¸ªä½ç½®å¿é¡»é¢æµ<code>&lt;eos&gt;</code>ï¼è¿æä¼æ¨¡å"çæå°åéé¿åº¦å°±è¯¥åäº"ãæ²¡æè¿ä¸ªè®­ç»ï¼æ¨¡åå¯è½æ°¸è¿ä¸åå°çæã</p>
<p><strong>ç¬¬ä¸éï¼æ¨çæ¶ï¼ï¼å®éåæ­¢ä¿¡å·</strong>ãæµè¯æ¶ï¼å½æ¨¡åè¾åº<code>&lt;eos&gt;</code>ï¼è§£ç å¾ªç¯å°±ç»æ­¢ãè¿æ¯å¯ä¸è½è®©æ¨¡åèªä¸»å³å®çæé¿åº¦çæºå¶ã</p>
<h3 id="padçä½ç¨batchè®­ç»ä¸ç¨"><code>&lt;pad&gt;</code>çä½ç¨ï¼Batchè®­ç»ä¸ç¨ï¼</h3>
<p>åè®¾batchä¸­æä¸¤ä¸ªæ ·æ¬ï¼</p>
<pre><code>æ ·æ¬1: [ä», å¤©, å¾, å¥½, &lt;eos&gt;]          é¿åº¦=5
æ ·æ¬2: [æ, å¤©, ä¼, ä¸, é¨, å§, &lt;eos&gt;]  é¿åº¦=7
</code></pre>
<p>ä¸ºäºå¹¶è¡å¤çï¼å¿é¡»å¯¹é½å°ç¸åé¿åº¦ï¼</p>
<pre><code>æ ·æ¬1: [ä», å¤©, å¾, å¥½, &lt;eos&gt;, &lt;pad&gt;, &lt;pad&gt;]  é¿åº¦=7
æ ·æ¬2: [æ, å¤©, ä¼, ä¸, é¨, å§, &lt;eos&gt;]        é¿åº¦=7
</code></pre>
<p>å¨Attentionè®¡ç®æ¶ï¼<code>&lt;pad&gt;</code>ä½ç½®ä¼è¢«maskæï¼è®¾ä¸º-âï¼ï¼ç¡®ä¿å®ä»¬ä¸åä¸å®éè®¡ç®ï¼åªæ¯å ä½ç¬¦ãå¨æå¤±è®¡ç®æ¶ï¼<code>&lt;pad&gt;</code>ä½ç½®ä¹ä¸è®¡å¥æå¤±ã</p>
<hr>
<h2 id="åå®æ´æµç¨ççè®ºæä¹æ»ç»">åãå®æ´æµç¨ççè®ºæä¹æ»ç»</h2>
<h3 id="encoder-decoderä¸ºä»ä¹å¦æ­¤å¼ºå¤§">Encoder-Decoderä¸ºä»ä¹å¦æ­¤å¼ºå¤§ï¼</h3>
<p><strong>ä¿¡æ¯çååæµå¨</strong>ï¼Encoderéè¿ååAttentionçè§£æºå¥å­ï¼Decoderéè¿Causal Attentionä¿è¯çæçèªåå½æ§ï¼Cross-Attentionåè®©ä¸¤èååå·¥ä½ã</p>
<p><strong>ç«¯å°ç«¯å¯å¾®</strong>ï¼ä»è¾å¥tokenå°è¾åºæ¦ççæ´ä¸ªé¾æ¡é½æ¯å¯å¾®çï¼å¯ä»¥ç¨ä¸ä¸ªç»ä¸çæå¤±å½æ°ç«¯å°ç«¯è®­ç»ï¼ä¸éè¦åæ¨¡åè®­ç»ã</p>
<p><strong>Teacher Forcingçå¦å¤</strong>ï¼è®­ç»æ¶ç»Decoder"æ­£ç¡®ç­æ¡"ä½ä¸ºè¾å¥ï¼è®©å®å­¦ä¹ "åºäºæ­£ç¡®åå²çé¢æµ"ï¼é¿åäºéè¯¯ç´¯ç§¯ï¼å¤§å¹å éæ¶æãä½æ¨çæ¶ç¨èªå·±çè¾åºä½ä¸ºä¸ä¸æ­¥è¾å¥ï¼Autoregressiveï¼ï¼è¿ç§è®­ç»-æ¨ççä¸ä¸è´è¢«ç§°ä¸ºExposure Biasï¼æ¯å½åç ç©¶çç­ç¹ã</p>
<h3 id="ä¸decoder-onlygptçæ¬è´¨åºå«">ä¸Decoder-onlyï¼GPTï¼çæ¬è´¨åºå«</h3>
<p>GPTæ²¡æCross-Attentionï¼åªæMasked Self-Attentionãå®æè¾å¥åè¾åºæ¼æ¥æä¸ä¸ªåºåï¼</p>
<pre><code>[æºå¥å­, &lt;sep&gt;, ç®æ å¥å­]
</code></pre>
<p>å¨é¨ç¨Causal Maskå¤çãè¿æ´ç®åï¼ä½æ æ³åEncoder-Decoderé£æ ·"åå¨é¢çè§£åçæ"ï¼èæ¯"è¾¹çè¾¹çæ"ãå¯¹äºéè¦æ·±åº¦çè§£æºææ¬çä»»å¡ï¼å¦æè¦ãç¿»è¯ï¼ï¼Encoder-Decoderçè®ºä¸æ´æä¼å¿ã</p>
<hr>
<h2 id="äºç¨ä¸ä¸ªå®æ´çæ¯å»æ¶å°¾">äºãç¨ä¸ä¸ªå®æ´çæ¯å»æ¶å°¾</h2>
<p>æ³è±¡ä½ å¨åå ä¸åºå³å´ç¿»è¯å¤§èµï¼</p>
<p><strong>Encoderï¼çè§£é¶æ®µï¼</strong>ï¼ä½ æ¿å°ä¸ç¯ä¸­ææç« ï¼ä»ç»éè¯»æ¯ä¸ªå¥å­ï¼å¨çº¸ä¸åæ æ³¨ï¼çè§£ä¸ä¸æï¼æå³é®ä¿¡æ¯æåæç¬è®°ãè¿ä¸ªç¬è®°å°±æ¯<code>H_enc</code>ã</p>
<p><strong><code>&lt;bos&gt;</code>ï¼å¼å§ç¿»è¯ï¼</strong>ï¼ä¸»æäººè¯´"å¼å§"ï¼ä½ æ·±å¸ä¸å£æ°ï¼åå¤è¯´åºç¬¬ä¸ä¸ªè±æåè¯ã</p>
<p><strong>Decoderï¼çæé¶æ®µï¼</strong>ï¼ä½ ä¸è¾¹åçç¬è®°ï¼Cross-Attentionï¼ï¼ä¸è¾¹æ³¨æèªå·±å·²ç»è¯´åºçè±æï¼Masked Self-Attentionï¼ï¼ç¶åè¯´åºä¸ä¸ä¸ªåè¯ãæ¯ä¸ªåè¯é½åºäº"æºææ¬çè§£+å·²çæåå²"åå³ç­ã</p>
<p><strong><code>&lt;eos&gt;</code>ï¼ç»æï¼</strong>ï¼ä½ ç¿»è¯å®æåä¸ä¸ªè¯ï¼è¯´"å®æ¯"ï¼åè¯è¯å§ä½ ç»æäºã</p>
<p><strong>æå¤±å½æ°ï¼è¯åï¼</strong>ï¼è¯å§å¯¹ç§æ åç­æ¡ï¼ç»ä½ çæ¯ä¸ªè¯æåï¼ç®åºæ»åã</p>
<p><strong>ååä¼ æ­ï¼å¤çï¼</strong>ï¼ä½ æ ¹æ®è¯å§åé¦ï¼è°æ´èªå·±ççè§£æ¹å¼ï¼Encoderï¼åè¡¨è¾¾ç­ç¥ï¼Decoderï¼ï¼ä¸æ¬¡åå¾æ´å¥½ã</p>
<h1 id="encoder-decoderæ¨çè¿ç¨">Encoder-Decoderæ¨çè¿ç¨</h1>
<h2 id="å¼ç¯è®­ç»ä¸æ¨ççæ¬è´¨å·®å¼">å¼ç¯ï¼è®­ç»ä¸æ¨ççæ¬è´¨å·®å¼</h2>
<p>å½ä½ å®å¨çè§£äºEncoder-Decoderçè®­ç»è¿ç¨åï¼å¯è½ä¼äº§çä¸ä¸ªéè§ï¼è®¤ä¸ºæ¨çåªæ¯æè®­ç»è¿ç¨éæ°è·ä¸éï¼åå¥æ°æ°æ®å°±è½å¾å°ç»æãä½å®éä¸ï¼æ¨çè¿ç¨åè®­ç»è¿ç¨æçæ¬è´¨çä¸åï¼è¿ç§å·®å¼å¦æ­¤éè¦ï¼ä»¥è³äºçè§£å®æ¯ææ¡åºåçææ¨¡åçå³é®ä¸è·ã</p>
<p>å¨è®­ç»é¶æ®µï¼æä»¬æ¥æ"ä¸å¸è§è§"ãæä»¬å·²ç»ç¥éæ­£ç¡®ç­æ¡æ¯ä»ä¹ï¼æä»¥å¯ä»¥ææ´ä¸ªç®æ åºåä¸æ¬¡æ§åç»Decoderï¼è®©å®å¨æ¯ä¸ªä½ç½®ä¸å¹¶è¡å°å­¦ä¹ é¢æµä¸ä¸ä¸ªè¯ãè¿ç§å¹¶è¡åè®­ç»è¢«ç§°ä¸ºTeacher Forcingï¼å®å°±åä¸ä¸ªä¸¥æ ¼çå¯¼å¸ç«å¨å­¦çæè¾¹ï¼æ¯èµ°ä¸æ­¥é½åè¯å­¦ç"æ­£ç¡®ç­æ¡åºè¯¥æ¯è¿ä¸ª"ï¼è®©å­¦çåºäºæ­£ç¡®çåå²å»å­¦ä¹ ä¸ä¸æ­¥ãè¿ç§æ¹å¼é«æãç¨³å®ï¼è½è®©GPUçå¹¶è¡è®¡ç®è½åå¾å°ååå©ç¨ã</p>
<p>ä½æ¨çé¶æ®µæ¯æªç¶ä¸åçæäºãç°å¨æä»¬ä¸ç¥éç­æ¡ï¼Decoderå¿é¡»çæ­£å°ä¸ä¸ªè¯ä¸ä¸ªè¯å°çæï¼æ¯çæä¸ä¸ªè¯é½è¦ç«å³æå®ä½ä¸ºä¸ä¸æ­¥çè¾å¥ï¼å½¢æä¸ä¸ªèªåå½çå¾ªç¯ãè¿å°±åèçç¼çèµ°é¢ä¸ï¼æ¯ä¸æ­¥é½åºäºä¹åçæ­¥ä¼ï¼ä¸æ¦èµ°éä¸æ­¥ï¼åç»­çæææ­¥éª¤é½å¯è½åå°å½±åãè¿ä¸ªè¿ç¨æ¯ä¸²è¡çãæ¸è¿çãä¸å¯åéçï¼å®å¨ä¾èµæ¨¡åèªå·±çå¤æ­ã</p>
<p>è®©æç¨ä¸ä¸ªçå¨çæ¯å»æ¥è¯´æè¿ä¸ªå·®å¼ãè®­ç»å°±åå¨é©¾æ ¡ç»è½¦ï¼æç»åå¨å¯é©¾é©¶ä¸ï¼æ¡çä¸ä¸ªå¤ç¨æ¹åçãæ¯å½ä½ è¦è½¬åæ¶ï¼æç»ä¼åè¯ä½ "ç°å¨åºè¯¥åå·¦æ30åº¦"ï¼ä½ åªéè¦å­¦ä¹ å¨çå°è·¯åµæ¶ååºæ­£ç¡®çå¤æ­ãèæ¨çåæ¯ä½ ç¬èªå¼è½¦ä¸è·¯ï¼æ²¡ææç»ï¼æ²¡ææç¤ºï¼ä½ å¿é¡»èªå·±è§å¯è·¯åµãååºå³ç­ãæ§è¡æä½ï¼èä¸æ¯ä¸ªå³ç­é½ä¼å½±åæ¥ä¸æ¥çè·¯åµã</p>
<p>ç°å¨è®©æä»¬æ·±å¥å°æ¨ççæ¯ä¸ä¸ªæ­¥éª¤ï¼ççè¿ä¸ª"ç¬èªé©¾é©¶"çè¿ç¨å°åºæ¯å¦ä½å±å¼çã</p>
<h2 id="æ¨ççèµ·ç¹åå¤è¾å¥ååå§å">æ¨ççèµ·ç¹ï¼åå¤è¾å¥ååå§å</h2>
<p>åè®¾æä»¬å·²ç»è®­ç»å¥½äºä¸ä¸ªä¸­è±ç¿»è¯æ¨¡åï¼ç°å¨è¦æä¸­æå¥å­"ä»å¤©å¤©æ°å¾å¥½"ç¿»è¯æè±æãè¿æ¯ä¸ä¸ªç»å¸çEncoder-Decoderä»»å¡ï¼è®©æä»¬ä»å¤´å¼å§çè¿ä¸ªæ¨çè¿ç¨ã</p>
<p>é¦åï¼æä»¬éè¦åå¤Encoderçè¾å¥ãåè®­ç»æ¶ä¸æ ·ï¼æä»¬ææºå¥å­è¿è¡åè¯ï¼æ·»å ç»æç¬¦ï¼ç¶åè½¬æ¢ä¸ºIDåºåãè¿ä¸ªè¿ç¨å®å¨ä¸è´ï¼å ä¸ºEncoderçå·¥ä½æ¹å¼å¨è®­ç»åæ¨çæ¶æ²¡æä»»ä½åºå«ãå·ä½æ¥è¯´ï¼æä»¬å¾å°çåºåæ¯"ä»ãå¤©ãå¤©ãæ°ãå¾ãå¥½ã<code>&lt;eos&gt;</code>"ï¼è½¬æ¢ä¸ºIDåæ¯"3, 4, 4, 5, 6, 7, 2"ï¼åè®¾æä»¬çè¯è¡¨ä¸­è¿äºè¯å¯¹åºçIDå°±æ¯è¿æ ·ã</p>
<p>æ¥ä¸æ¥ï¼Encoderå¼å§å·¥ä½ãå®æè¿ä¸ªIDåºåè½¬æ¢ä¸ºembeddingåéï¼æ¯ä¸ªè¯åæä¸ä¸ªåç»´çåéãç¶åå ä¸ä½ç½®ç¼ç ï¼è®©æ¨¡åç¥éæ¯ä¸ªè¯å¨å¥å­ä¸­çä½ç½®ãè¿ä¸ªå äºä½ç½®ç¼ç çåéç©éµï¼å½¢ç¶æ¯ä¸è¡ååï¼éå¥Encoderçç¬¬ä¸å±ã</p>
<p>Encoderçæ¯ä¸å±é½æ§è¡ç¸åçæä½ï¼é¦åæ¯Self-Attentionï¼è®©æ¯ä¸ªè¯é½è½çå°æ´ä¸ªå¥å­çææå¶ä»è¯ï¼äºç¸çè§£å½¼æ­¤çè¯­ä¹åå³ç³»ãæ¯å¦ç¬¬ä¸ä¸ª"å¤©"ä¼æ³¨æå°å®åé¢ç"ä»"ï¼çè§£è¿æ¯å¨è¯´"ä»å¤©"èä¸æ¯"å¤©ç©º"ãç¶åæ¯Feed-Forwardç½ç»ï¼å¯¹æ¯ä¸ªä½ç½®ç¬ç«å°è¿è¡éçº¿æ§åæ¢ï¼æåæ´å¤æçç¹å¾ãç»è¿æ®å·®è¿æ¥åLayer Normalizationåï¼è¾åºè¢«éå¥ä¸ä¸å±ã</p>
<p>åè®¾æä»¬çæ¨¡åæå­å±Encoderï¼é£ä¹è¿ä¸ªä¸è¡ååçç©éµä¼ç»è¿å­æ¬¡è¿æ ·çå¤çãæ¯ç»è¿ä¸å±ï¼åéä¸­è´å«çè¯­ä¹å°±æ´å ä¸°å¯åæ½è±¡ãå°æåä¸å±è¾åºæ¶ï¼æä»¬å¾å°çç©éµæä»¬ç§°ä¹ä¸ºH_encï¼å®çæ¯ä¸è¡é½æ¯ä¸ä¸ªæºè¯­è¨è¯çæ·±åº¦è¯­ä¹è¡¨ç¤ºï¼å·²ç»èåäºæ´ä¸ªå¥å­çä¸ä¸æä¿¡æ¯ãè¿ä¸ªç©éµå°ä½ä¸º"ç¥è¯åº"ï¼å¨æ´ä¸ªçæè¿ç¨ä¸­è¢«Decoderåå¤æ¥è¯¢ã</p>
<p>è¿éæä¸ä¸ªå³é®çè®¤ç¥ï¼Encoderçè®¡ç®å¨æ¨çæ¶åªéè¦æ§è¡ä¸æ¬¡ãæ è®ºDecoderåé¢è¦çæå¤å°ä¸ªè¯ï¼Encoderé½ä¸éè¦éæ°è®¡ç®ãè¿ä¸ªH_encç©éµä¼è¢«ä¿å­å¨åå­ä¸­ï¼ä¾åç»­æææ¶é´æ­¥ä½¿ç¨ãè¿æ¯ä¸ä¸ªéè¦çä¼åç¹ï¼å ä¸ºEncoderçè®¡ç®éå¯è½ç¸å½å¤§ï¼å¦ææ¯çæä¸ä¸ªè¯é½éç®ä¸æ¬¡å°±å¤ªæµªè´¹äºã</p>
<p>ç°å¨Encoderå·²ç»å®æäºå®çä½¿å½ï¼ææºå¥å­"çè§£éå½»"äºãæ¥ä¸æ¥çéç¹è½¬åDecoderï¼è¿ææ¯æ¨çé¶æ®µçæ­£æå¿å¨é­çé¨åã</p>
<h2 id="ç¬¬ä¸æ­¥çæä»boså°ç¬¬ä¸ä¸ªåè¯">ç¬¬ä¸æ­¥çæï¼ä»<code>&lt;bos&gt;</code>å°ç¬¬ä¸ä¸ªåè¯</h2>
<p>Decoderçæ¨çè¿ç¨ä»ä¸ä¸ªç¹æ®tokenå¼å§ï¼è¿å°±æ¯<code>&lt;bos&gt;</code>ï¼å®ä»£è¡¨"Begin of Sequence"ï¼æ¯çæçèµ·ç¹ãå¨è®­ç»æ¶ï¼æä»¬å¯ä»¥ä¸æ¬¡æ§ææ´ä¸ªç®æ åºååç»Decoderï¼ä½ç°å¨æä»¬ä»ä¹é½æ²¡æï¼åªæè¿ä¸ªèµ·å§ç¬¦å·ãè¿å°±åä½å®¶é¢å¯¹ç©ºç½ç¨¿çº¸æ¶çç¬¬ä¸ä¸ªå­ï¼åæ»¡äºä¸ç¡®å®æ§ã</p>
<p>æä»¬æ<code>&lt;bos&gt;</code>ï¼åè®¾å®çIDæ¯1ï¼è½¬æ¢ä¸ºembeddingåéï¼å ä¸ä½ç½®ç¼ç ãè¿æ¶ä½ç½®ç´¢å¼æ¯0ï¼å ä¸ºå®æ¯ç¬¬ä¸ä¸ªä½ç½®ãå¾å°çåéæ¯ä¸ä¸ªä¸è¡ååçç©éµï¼è®°ä¸ºX_decãè¿ä¸ªåééå¥Decoderçç¬¬ä¸å±ã</p>
<p>Decoderçç¬¬ä¸ä¸ªå­å±æ¯Masked Self-Attentionãä½ å¯è½ä¼é®ï¼ç°å¨åªæä¸ä¸ªtokenï¼è¿éè¦attentionåï¼ç­æ¡æ¯éè¦çï¼è½ç¶è¿ä¸æ­¥çattentionè®¡ç®ä¼å¾ç®åãå·ä½æ¥è¯´ï¼è¿ä¸ª<code>&lt;bos&gt;</code>åéä¼åå®èªå·±è®¡ç®attentionï¼Queryæ¯å®èªå·±ï¼Keyä¹æ¯å®èªå·±ï¼Valueè¿æ¯å®èªå·±ãè®¡ç®åºçattention scoreå°±æ¯ä¸ä¸ªæ éï¼åsoftmaxåæéæ¯1.0ï¼å ææ±åçç»æè¿æ¯å®èªå·±ãè¿çèµ·æ¥åæ¯ä¸ä¸ªæç­åæ¢ï¼ä½ä¿æè¿ä¸ªæµç¨çä¸è´æ§å¾éè¦ï¼å ä¸ºåç»­æ­¥éª¤ä¼åå¾å¤æã</p>
<p>éè¿Self-Attentionåï¼æä»¬å¾å°ä¸ä¸ªåéï¼å®ç»è¿Add &amp; Normåéå¥ç¬¬äºä¸ªå­å±ï¼è¿å°±æ¯Cross-Attentionãè¿æ¯Decoderçæ­£å¼å§"æ¥è¯¢"Encoderç¥è¯åºçå°æ¹ãå½åçåéä½ä¸ºQueryï¼è¢«æå½±æä¸ä¸ªæ¥è¯¢åéãèEncoderçè¾åºH_encï¼é£ä¸ªä¸è¡ååçç©éµï¼è¢«æå½±æKeysåValuesã</p>
<p>ç°å¨è¿è¡çè®¡ç®æ¯ï¼è¿ä¸ªQueryåéï¼ä¸è¡ååï¼ä¹ä»¥Keysç©éµçè½¬ç½®ï¼åè¡ä¸åï¼ï¼å¾å°ä¸ä¸ªä¸è¡ä¸åçattention scoreåéãè¿ä¸ªåéçæ¯ä¸ªåç´ ä»£è¡¨Decoderå½åç¶æå¯¹Encoderåä¸ªä½ç½®çå³æ³¨ç¨åº¦ãæ¯å¦ç¬¬ä¸ä¸ªåç´ è¡¨ç¤ºå¯¹æºå¥å­ç¬¬ä¸ä¸ªè¯"ä»"çå³æ³¨åº¦ï¼ç¬¬äºä¸ªåç´ è¡¨ç¤ºå¯¹ç¬¬äºä¸ªè¯"å¤©"çå³æ³¨åº¦ï¼ä»¥æ­¤ç±»æ¨ã</p>
<p>è¿äºåæ°ç»è¿ç¼©æ¾ï¼é¤ä»¥ç»´åº¦çå¹³æ¹æ ¹ï¼ç¶ååsoftmaxï¼åæä¸ä¸ªæ¦çåå¸ãåè®¾è®¡ç®åºæ¥çæéåå¸æ¯"0.12, 0.18, 0.15, 0.10, 0.13, 0.20, 0.12"ï¼è¿æå³çå¨çæç¬¬ä¸ä¸ªè±æåè¯æ¶ï¼æ¨¡åæå³æ³¨æºå¥å­ä¸­ç"å¥½"ï¼æé0.20ï¼å"å¤©"ï¼æé0.18ï¼ãè¿æ¯æéççï¼å ä¸ºç¿»è¯"ä»å¤©å¤©æ°å¾å¥½"æ¶ï¼è±æå¾å¯è½ä»¥"Today"æ"The weather"å¼å¤´ï¼èè¿äºé½åæºå¥å­çè¿äºè¯ç¸å³ã</p>
<p>è¿ä¸ªattentionæéåéï¼ä¸è¡ä¸åï¼ä¹ä»¥Valuesç©éµï¼ä¸è¡ååï¼ï¼å¾å°ä¸ä¸ªcontextåéï¼ä¸è¡ååï¼ãè¿ä¸ªåéæ¯Encoderææä½ç½®ä¿¡æ¯çå ææ··åï¼ä»£è¡¨äº"ä¸ºäºçæå½åä½ç½®çè¯ï¼ä»æºå¥å­ä¸­æååºçæç¸å³ä¿¡æ¯"ã</p>
<p>Contextåéç»è¿Add &amp; Normåéå¥Feed-Forwardç½ç»ï¼åç»è¿ä¸æ¬¡Add &amp; Normï¼å®æDecoderç¬¬ä¸å±çè®¡ç®ãå¦ææ¨¡åæå­å±Decoderï¼é£ä¹è¿ä¸ªåéä¼ç»è¿å­æ¬¡"Masked Self-Attention â Cross-Attention â FFN"çå¾ªç¯ï¼æ¯ä¸å±é½è¿ä¸æ­¥ç²¾ç¼è¿ä¸ªåéçè¯­ä¹ã</p>
<p>æç»ï¼æä»¬å¾å°Decoderæåä¸å±çè¾åºï¼ä¸ä¸ªä¸è¡ååçåéï¼è®°ä¸ºh_decãè¿ä¸ªåéåå«äº"åºäºæºå¥å­çè§£ï¼åºè¯¥çæä»ä¹æ ·çç¬¬ä¸ä¸ªè¯"çææä¿¡æ¯ãä½å®è¿ä¸æ¯ä¸ä¸ªè¯ï¼èæ¯ä¸ä¸ªé«ç»´è¯­ä¹åéã</p>
<p>ç°å¨å°äºå³é®çä¸æ­¥ï¼æè¿ä¸ªåç»´åéæå½±å°è¯è¡¨ç©ºé´ãæä»¬æä¸ä¸ªè¾åºæå½±ç©éµW_vocabï¼å½¢ç¶æ¯åè¡ä¹ä»¥è¯è¡¨å¤§å°ï¼åè®¾è±æè¯è¡¨æ10000ä¸ªè¯ï¼ãåéh_decï¼ä¸è¡ååï¼ä¹ä»¥è¿ä¸ªç©éµï¼å¾å°ä¸ä¸ªä¸è¡10000åçlogitsåéãè¿ä¸ªåéçæ¯ä¸ªåç´ å¯¹åºä¸ä¸ªè±æåè¯çåå§åæ°ã</p>
<p>å¯¹è¿ä¸ªlogitsåéåsoftmaxï¼æä»¬å¾å°ä¸ä¸ªæ¦çåå¸ãåè®¾æé«çå ä¸ªæ¦çæ¯ï¼"Today"å¯¹åº0.35ï¼"The"å¯¹åº0.28ï¼"Weather"å¯¹åº0.12ï¼"It"å¯¹åº0.08ï¼å¶ä»è¯çæ¦çé½å¾ä½ãè¿ä¸ªåå¸åè¯æä»¬ï¼æ¨¡åè®¤ä¸ºæå¯è½çç¬¬ä¸ä¸ªè¯æ¯"Today"ï¼æ¦çè¾¾å°35%ã</p>
<p>å¨æç®åçæ¨çç­ç¥ä¸­ï¼æä»¬éæ©æ¦çæé«çè¯ä½ä¸ºè¾åºï¼è¿å«åè´ªå¿è§£ç ï¼Greedy Decodingï¼ãæä»¥æä»¬éæ©"Today"ä½ä¸ºç¬¬ä¸ä¸ªçæçè¯ãè¿ä¸ªè¯çIDï¼åè®¾æ¯8888ï¼ä¼è¢«è®°å½ä¸æ¥ï¼å ä¸ºå®é©¬ä¸è¦ä½ä¸ºä¸ä¸æ­¥çè¾å¥ã</p>
<p>ç¬¬ä¸æ­¥çæå®æäºï¼æä»¬ç¨äºä¸ä¸ª<code>&lt;bos&gt;</code>ç¬¦å·ï¼éè¿æ´ä¸ªDecoderç½ç»çè®¡ç®ï¼ä»10000ä¸ªå¯è½çè±æåè¯ä¸­éåºäº"Today"ãè¿ä¸ªè¿ç¨è½ç¶å¤æï¼ä½é»è¾æ¯æ¸æ°çï¼ç¨èµ·å§ä¿¡å·è§¦åçæï¼éè¿Cross-Attentionæ¥è¯¢æºå¥å­ï¼éè¿Self-Attentionæ´åå·²æä¿¡æ¯ï¼è½ç¶ç°å¨åªæä¸ä¸ªtokenï¼ï¼æåè¾åºä¸ä¸ªè¯è¡¨æ¦çåå¸å¹¶éæ©æä¼çè¯ã</p>
<h2 id="ç¬¬äºæ­¥çæèªåå½çå¼å§">ç¬¬äºæ­¥çæï¼èªåå½çå¼å§</h2>
<p>ç°å¨è¿å¥æ¨ççæ ¸å¿æºå¶ï¼èªåå½å¾ªç¯ãæä»¬å·²ç»çæäºç¬¬ä¸ä¸ªè¯"Today"ï¼å®ä¸ä»æ¯è¾åºçä¸é¨åï¼æ´éè¦çæ¯ï¼å®è¦ç«å³æä¸ºDecoderä¸ä¸æ­¥çè¾å¥ãè¿å°±æ¯"èªåå½"çå«ä¹ï¼æ¯ä¸æ­¥çè¾åºé½è¢«åé¦å°è¾å¥ä¸­ï¼å½¢æä¸ä¸ªé­ç¯ã</p>
<p>å·ä½æ¥è¯´ï¼æä»¬ç°å¨çDecoderè¾å¥åºåæ¯"<code>&lt;bos&gt;</code>, Today"ï¼é¿åº¦åæäº2ãæä»¬æè¿ä¸¤ä¸ªè¯é½è½¬æ¢ä¸ºembeddingï¼å ä¸ä½ç½®ç¼ç ï¼<code>&lt;bos&gt;</code>çä½ç½®æ¯0ï¼"Today"çä½ç½®æ¯1ï¼ï¼å¾å°ä¸ä¸ªäºè¡ååçç©éµãè¿ä¸ªç©éµéå¥Decoderçç¬¬ä¸å±ã</p>
<p>å¨Masked Self-Attentioné¶æ®µï¼è®¡ç®æ¹å¼åè®­ç»æ¶å®å¨ä¸æ ·ãæä»¬è®¡ç®QueryãKeyãValueç©éµï¼ç°å¨é½æ¯äºè¡ååï¼ï¼ç¶åè®¡ç®Qä¹ä»¥Kçè½¬ç½®ï¼å¾å°ä¸ä¸ªäºè¡äºåçattention scoreç©éµãè¿ä¸ªç©éµçåä¸ªåç´ åå«ä»£è¡¨ï¼ä½ç½®0å¯¹ä½ç½®0çå³æ³¨ãä½ç½®0å¯¹ä½ç½®1çå³æ³¨ãä½ç½®1å¯¹ä½ç½®0çå³æ³¨ãä½ç½®1å¯¹ä½ç½®1çå³æ³¨ã</p>
<p>å³é®çCausal Maskå¨è¿éèµ·ä½ç¨ãè½ç¶æä»¬ç°å¨åªæä¸¤ä¸ªè¯ï¼ä½maskçé»è¾ä¾ç¶éç¨ï¼æ¯ä¸ªä½ç½®åªè½çå°å®èªå·±åå®ä¹åçä½ç½®ãæä»¥attentionç©éµçæ¨¡å¼æ¯ï¼</p>
<pre><code>      bos  Today
bos   [1.0, 0.0 ]
Today [0.4, 0.6 ]
</code></pre>
<p>ä½ç½®0ï¼<code>&lt;bos&gt;</code>ï¼åªè½100%å³æ³¨èªå·±ï¼èä½ç½®1ï¼"Today"ï¼å¯ä»¥åæ¶å³æ³¨<code>&lt;bos&gt;</code>ï¼æ¯å¦40%ï¼åèªå·±ï¼60%ï¼ãè¿ä¸ªmaskç¡®ä¿äºä¿¡æ¯çååæµå¨ï¼é²æ­¢"çå°æªæ¥"ã</p>
<p>Softmaxåçattentionæéä¹ä»¥Valueç©éµï¼å¾å°è¾åºåéãå¯¹äºä½ç½®1ï¼"Today"ï¼ï¼è¿ä¸ªè¾åºåéèåäº<code>&lt;bos&gt;</code>å"Today"ä¸¤ä¸ªembeddingçä¿¡æ¯ï¼æ¯ä¸ä¸ª"æ¡ä»¶åçè¯­ä¹è¡¨ç¤º"ã</p>
<p>ç¶åè¿å¥Cross-Attentionãè¿éæä¸ä¸ªéå¸¸éè¦çç»èï¼è½ç¶Decoderç°å¨æä¸¤ä¸ªä½ç½®ï¼ä½Encoderçè¾åºH_encè¿æ¯é£ä¸ªä¸è¡ååçç©éµï¼æ²¡æä»»ä½ååãæ¯ä¸ªDecoderä½ç½®é½ä¼ç¬ç«å°åæ´ä¸ªEncoderåattentionã</p>
<p>å·ä½æ¥è¯´ï¼ä½ç½®1ï¼"Today"ï¼çQueryåéä¼åEncoderçä¸ä¸ªKeyåéè®¡ç®ç¸ä¼¼åº¦ï¼å¾å°ä¸ä¸ªattention scoreãåè®¾è¿æ¬¡çæéåå¸æ¯"0.08, 0.10, 0.12, 0.15, 0.25, 0.18, 0.12"ï¼ä½ ä¼åç°æ¨¡åç°å¨æ´å³æ³¨æºå¥å­ä¸­ç"å¾"ï¼0.25ï¼å"å¥½"ï¼0.18ï¼ãè¿å¾åçï¼å ä¸ºå·²ç»çæäº"Today"ï¼æ¥ä¸æ¥å¯è½è¦æè¿°å¤©æ°ç¶åµï¼æä»¥å³æ³¨"å¾å¥½"è¿é¨åä¿¡æ¯ã</p>
<p>Cross-Attentionçè¾åºï¼ä¸ä¸ªåç»´åéï¼ç»è¿FFNåå¤å±å å ï¼æç»å¾å°ä½ç½®1çæç»è¡¨ç¤ºh_decãæ³¨æï¼æä»¬åªéè¦è¿ä¸ªä½ç½®1çåéï¼å ä¸ºæä»¬è¦é¢æµçæ¯ç¬¬äºä¸ªè¯ãä½ç½®0çè¾åºæä»¬ä¸å³å¿ï¼å ä¸ºé£å¯¹åºçæ¯å·²ç»çæè¿ç<code>&lt;bos&gt;</code>çåç»­è¯ï¼å·²ç»æ¯åå²äºã</p>
<p>è¿ä¸ªh_decåéåæ¬¡éè¿W_vocabæå½±å°è¯è¡¨ï¼åsoftmaxå¾å°æ¦çåå¸ãåè®¾è¿æ¬¡çæé«æ¦çæ¯ï¼"is"å¯¹åº0.42ï¼"the"å¯¹åº0.25ï¼"was"å¯¹åº0.18ãæ¨¡åè®¤ä¸ºç¬¬äºä¸ªè¯æå¯è½æ¯"is"ï¼æä»¥æä»¬éæ©å®ã</p>
<p>ç°å¨æä»¬ççæåºååæäº"Today is"ï¼è¿æ¯ä¸ä¸ªåççè±æå¼å¤´ãä½æä»¬è¿æ²¡æç»æï¼å ä¸ºæ¨¡åæ²¡æè¾åº<code>&lt;eos&gt;</code>ç»æç¬¦ãæä»¥å¾ªç¯ç»§ç»­ã</p>
<h2 id="èªåå½å¾ªç¯çå®æ´å±å¼ä»iså°eos">èªåå½å¾ªç¯çå®æ´å±å¼ï¼ä»"is"å°"<code>&lt;eos&gt;</code>"</h2>
<p>çè§£äºç¬¬äºæ­¥ï¼ä½ å°±çè§£äºæ¨ççå¨é¨æ ¸å¿ãåç»­çæ¯ä¸æ­¥é½æ¯å®å¨ç¸åçæ¨¡å¼ï¼æå½åå·²çæçåºåä½ä¸ºDecoderè¾å¥ï¼éè¿æ´ä¸ªç½ç»è®¡ç®ï¼è¾åºä¸ä¸ä¸ªè¯çæ¦çåå¸ï¼éæ©æä¼è¯ï¼æ·»å å°åºåæ«å°¾ï¼åæ¬¡å¾ªç¯ã</p>
<p>è®©æè¯¦ç»å±å¼ç¬¬ä¸æ­¥ï¼å¸®ä½ å·©åºè¿ä¸ªçè§£ãç°å¨Decoderçè¾å¥æ¯"<code>&lt;bos&gt;</code>, Today, is"ï¼ä¸ä¸ªè¯ï¼è½¬æ¢ä¸ºä¸è¡ååçembeddingç©éµãå¨Masked Self-Attentionä¸­ï¼æ¯ä¸ªä½ç½®çattentionæéåå¸éµå¾ªcausal patternï¼</p>
<pre><code>          bos   Today  is
bos      [1.0,  0.0,  0.0]
Today    [0.3,  0.7,  0.0]
is       [0.2,  0.4,  0.4]
</code></pre>
<p>ä½ç½®2ï¼"is"ï¼è½çå°ææä¹åçä¿¡æ¯ï¼å®çQueryä¼åæ¶å³æ³¨<code>&lt;bos&gt;</code>ï¼20%ï¼ã"Today"ï¼40%ï¼åèªå·±ï¼40%ï¼ãè¿è®©"is"çè¡¨ç¤ºèåäºæ´ä¸ªå·²çæåºåçä¿¡æ¯ã</p>
<p>å¨Cross-Attentionä¸­ï¼ä½ç½®2çQueryåEncoderçä¸ä¸ªKeyè®¡ç®attentionãåè®¾è¿æ¬¡çæéåå¸èç¦å¨æºå¥å­ç"å¤©æ°"ï¼0.35ï¼å"å¾å¥½"ï¼0.40ï¼ãæ¨¡åå·²ç»çæäº"Today is"ï¼ç°å¨è¦æè¿°å·ä½åå®¹ï¼æä»¥å³æ³¨ç¹èªç¶è½¬åäº"å¤©æ°å¾å¥½"è¿ä¸ªæ ¸å¿è¯­ä¹ã</p>
<p>ç»è¿ææå±çè®¡ç®åï¼ä½ç½®2çè¾åºåéæå½±å°è¯è¡¨ï¼åè®¾æ¦çåå¸æ¾ç¤º"nice"æ¯0.38ï¼"good"æ¯0.25ï¼"sunny"æ¯0.20ãæä»¬éæ©"nice"ï¼åºååæ"Today is nice"ã</p>
<p>ç¬¬åæ­¥ï¼è¾å¥åæåä¸ªè¯ï¼Masked Self-Attentionçç©éµåæåè¡ååï¼ä¸ä¸è§é½æå¼ï¼ä¸ä¸è§é½æ¯é¶ãCross-Attentionä¸­ï¼æ°ä½ç½®çQueryå¯è½å¼å§å³æ³¨æºå¥å­ç"å¤©"ï¼å¤©æ°ï¼æ"ä»"ï¼ä»å¤©ï¼ï¼å ä¸ºå¥å­ç»æå·²ç»å»ºç«ï¼ç°å¨å¯è½éè¦è¡¥åç»èãåè®¾çæçè¯æ¯"weather"ï¼è½ç¶è¿è®©å¥å­è¯­æ³ä¸å®ç¾ï¼åºè¯¥æ¯"The weather is nice"ï¼ï¼ä½è¿æ­£æ¯èªåå½çé£é©ï¼ä¸æ¦åé¢çè¯éæ©ä¸å®ç¾ï¼åç»­å°±å¯è½éè¦è°æ´æ¥éåºã</p>
<p>ç¬¬äºæ­¥å¯è½çæ"today"ï¼åºååæ"Today is nice weather today"ãä½ å¯è½æ³¨æå°"today"åºç°äºä¸¤æ¬¡ï¼è¿å¨äººç±»çæ¥æäºåä½ï¼ä½æ¨¡åå¨æ¯ä¸æ­¥é½æ¯åºäºæ¦çåè´ªå¿éæ©ï¼æ æ³"åå¤´ä¿®æ¹"ã</p>
<p>ç¬¬å­æ­¥ï¼æ¨¡åç»äºè¾åºäº<code>&lt;eos&gt;</code>ï¼æ¦çè¾¾å°0.55ï¼è¶è¿äºææå¶ä»è¯ãè¿ä¸ªç¹æ®ç¬¦å·åè¯æä»¬ï¼çæç»æäºãæç»çç¿»è¯ç»ææ¯"Today is nice weather today"ï¼è½ç¶ä¸å®ç¾ï¼ä½è¡¨è¾¾äºæºå¥å­çæ ¸å¿ææã</p>
<p>æ´ä¸ªè¿ç¨å¯ä»¥æ»ç»ä¸ºä¸ä¸ªwhileå¾ªç¯çä¼ªä»£ç ï¼</p>
<pre><code>generated_sequence = [&lt;bos&gt;]
while True:
    decoder_input = generated_sequence
    encoder_output = H_enc (ä¿æä¸å)
    
    decoder_hidden = Decoder(decoder_input, encoder_output)
    last_position_hidden = decoder_hidden[-1]  # åªåæåä¸ä¸ªä½ç½®
    
    logits = last_position_hidden @ W_vocab
    probs = softmax(logits)
    next_token = argmax(probs)  # è´ªå¿éæ©
    
    generated_sequence.append(next_token)
    
    if next_token == &lt;eos&gt; or len(generated_sequence) &gt;= max_length:
        break

return generated_sequence[1:]  # å»æ&lt;bos&gt;è¿å
</code></pre>
<p>è¿ä¸ªå¾ªç¯çæ¯ä¸æ¬¡è¿­ä»£é½ä¼è®©è¾å¥åºåå¢é¿ä¸ä¸ªè¯ï¼Decoderçè®¡ç®éä¹ä¼éä¹å¢å ãå¦ææç»çæäºåä¸ªè¯ï¼é£ä¹ç¬¬åæ­¥çMasked Self-Attentionå°±è¦å¤çä¸ä¸ªåè¡ååçç©éµãè¿å°±æ¯ä¸ºä»ä¹æ¨çéåº¦ä¼éççæé¿åº¦å¢å èåæ¢ï¼å ä¸ºæ¯ä¸æ­¥é½æ¯ä¸ä¸æ­¥å¤ä¸ç¹è®¡ç®ã</p>
<h2 id="æ¨çä¸è®­ç»çæ·±å±å¯¹æ¯">æ¨çä¸è®­ç»çæ·±å±å¯¹æ¯</h2>
<p>ç°å¨ä½ å·²ç»çå®äºå®æ´çæ¨çæµç¨ï¼è®©æä»¬åè¿å¤´æ¥ç³»ç»å¯¹æ¯æ¨çåè®­ç»çå·®å¼ï¼è¿äºå·®å¼ä¸ä»ä»æ¯ææ¯ç»èï¼å®ä»¬åæ äºåºåçæä»»å¡çæ·±å±ææã</p>
<p>ç¬¬ä¸ä¸ªå·®å¼æ¯å¹¶è¡æ§ãè®­ç»æ¶ï¼æä»¬å¯ä»¥ææ´ä¸ªç®æ åºåä¸æ¬¡æ§åç»Decoderï¼å©ç¨Causal Maskç¡®ä¿ä¿¡æ¯æµåçæ­£ç¡®æ§ï¼è®©GPUçæ°åä¸ªæ ¸å¿å¹¶è¡è®¡ç®ãåè®¾ç®æ åºåé¿åº¦æ¯åï¼é£ä¹åä¸ªä½ç½®çlosså¯ä»¥åæ¶è®¡ç®ï¼æ¢¯åº¦å¯ä»¥åæ¶ååä¼ æ­ãä½æ¨çæ¶ï¼æä»¬å¿é¡»ä¸ä¸ªè¯ä¸ä¸ªè¯å°ä¸²è¡çæï¼ç¬¬äºä¸ªè¯ä¾èµç¬¬ä¸ä¸ªè¯çè¾åºï¼ç¬¬ä¸ä¸ªè¯ä¾èµåä¸¤ä¸ªè¯ï¼æ æ³å¹¶è¡ãè¿å¯¼è´æ¨çéåº¦è¿æ¢äºè®­ç»ï¼å°¤å¶æ¯çæé¿ææ¬æ¶ï¼å¯è½éè¦å ç§çè³å åéã</p>
<p>ç¬¬äºä¸ªå·®å¼æ¯è¾å¥çæ¥æºãè®­ç»æ¶ï¼Decoderçæ¯ä¸æ­¥è¾å¥é½æ¯ground truthï¼å³äººå·¥æ æ³¨çæ­£ç¡®ç­æ¡ãå³ä½¿æ¨¡åå¨æä¸æ­¥é¢æµéäºï¼ä¸ä¸æ­¥ä¾ç¶ä¼ç¨æ­£ç¡®ç­æ¡ä½ä¸ºè¾å¥ï¼è¿è®©æ¨¡åè½å¤"éç½®éè¯¯"ï¼ä¸æ³¨äºå­¦ä¹ æ¯ä¸ªç¬ç«ä½ç½®çæ­£ç¡®é¢æµãä½æ¨çæ¶ï¼æ¯ä¸æ­¥çè¾å¥é½æ¯æ¨¡åèªå·±ä¸ä¸æ­¥çè¾åºãå¦æç¬¬ä¸æ­¥çæäºä¸ä¸ªä¸å¤ªåéçè¯ï¼ç¬¬åæ­¥å°±å¿é¡»åºäºè¿ä¸ªä¸å®ç¾çåå²ç»§ç»­çæï¼éè¯¯å¯è½ç´¯ç§¯åæ¾å¤§ãè¿ç§è®­ç»-æ¨ççä¸ä¸è´æ§è¢«ç§°ä¸ºExposure Biasï¼æ¯å½åç ç©¶çç­ç¹é®é¢ã</p>
<p>ç¬¬ä¸ä¸ªå·®å¼æ¯ç¡®å®æ§ãè®­ç»æ¶ï¼æå¤±å½æ°æ¯ç¡®å®çï¼ç»å®ç¸åçè¾å¥ååæ°ï¼è®¡ç®åºçæ¢¯åº¦å®å¨ç¸åãä½æ¨çæ¶ï¼æä»¬éå¸¸æå¤ç§è§£ç ç­ç¥å¯éãæç®åçæ¯è´ªå¿è§£ç ï¼æ¯æ­¥éæ¦çæé«çè¯ï¼è¿æ¯ç¡®å®æ§çãä½è¿æéæºéæ ·ï¼æç§æ¦çåå¸éæºéè¯ï¼æ¯æ¬¡è¿è¡å¯è½å¾å°ä¸åç»æãè¿æBeam Searchï¼åæ¶ä¿çå¤ä¸ªåéåºåï¼éæ©å¨å±æ¦çæé«çè·¯å¾ï¼è¿éè¦æ´å¤è®¡ç®ä½éå¸¸è´¨éæ´å¥½ãä¸åçè§£ç ç­ç¥ä¼å¯¼è´å®å¨ä¸åçè¾åºï¼èå¨è®­ç»æ¶æ²¡æè¿ç§éæ©çèªç±åº¦ã</p>
<p>ç¬¬åä¸ªå·®å¼æ¯åæ­¢æ¡ä»¶ãè®­ç»æ¶ï¼åºåé¿åº¦æ¯å·²ç¥çï¼æä»¬ææç¡®çæ ç­¾åè¯æ¨¡å"è¿éåºè¯¥ç»æ"ãä½æ¨çæ¶ï¼æ¨¡åå¿é¡»èªå·±å³å®ä»ä¹æ¶ååä¸æ¥ãå®éè¿é¢æµ<code>&lt;eos&gt;</code>ç¬¦å·æ¥è¡¨è¾¾"æè®¤ä¸ºå·²ç»çæå®æ´äº"ãå¦ææ¨¡åè®­ç»ä¸å¤å¥½ï¼å¯è½æ°¸è¿ä¸è¾åº<code>&lt;eos&gt;</code>ï¼å¯¼è´æ éå¾ªç¯ãæä»¥å®éç³»ç»ä¸­éå¸¸ä¼è®¾ç½®ä¸ä¸ªæå¤§é¿åº¦éå¶ä½ä¸ºä¿é©ï¼æ¯å¦"ä¸ç®¡ææ ·ï¼çæ100ä¸ªè¯åå¿é¡»åæ­¢"ã</p>
<p>ç¬¬äºä¸ªå·®å¼æ¯è®¡ç®å¾çå¨ææ§ãè®­ç»æ¶ï¼æ´ä¸ªè®¡ç®å¾çå½¢ç¶æ¯åºå®çï¼æ¯å¦Decoderè¾å¥æ¯åè¡ååï¼è¾åºä¹æ¯åè¡ä¸ä¸åï¼è¯è¡¨å¤§å°ï¼ï¼æ´ä¸ªååä¼ æ­åååä¼ æ­çå¼ éå½¢ç¶é½æ¯éæçï¼å¯ä»¥é«åº¦ä¼åãä½æ¨çæ¶ï¼æ¯ä¸æ­¥çè¾å¥é¿åº¦é½ä¸åï¼ç¬¬ä¸æ­¥æ¯ä¸è¡ååï¼ç¬¬äºæ­¥æ¯ä¸¤è¡ååï¼ç¬¬åæ­¥æ¯åè¡ååãè¿ç§å¨ææ§è®©ä¼ååå¾å°é¾ï¼ä¹æ¯ä¸ºä»ä¹ç°ä»£æ¨çå¼æï¼å¦vLLMãTensorRT-LLMï¼è±äºå¤§éç²¾åä¼åKV Cacheç­ææ¯ï¼æ¥åå°éå¤è®¡ç®ã</p>
<h2 id="kv-cacheæ¨çä¼åçå³é®ææ¯">KV Cacheï¼æ¨çä¼åçå³é®ææ¯</h2>
<p>å½ä½ çè§£äºæ¨ççéæ­¥çæè¿ç¨åï¼ä½ å¯è½ä¼åç°ä¸ä¸ªå·¨å¤§çæµªè´¹ï¼æ¯ä¸æ­¥æä»¬é½è¦éæ°è®¡ç®ä¹åææä½ç½®çKeyåValueã</p>
<p>å·ä½æ¥è¯´ï¼å¨ç¬¬ä¸æ­¥æ¶ï¼æä»¬æä¸ä¸ªè¾å¥tokenï¼<code>&lt;bos&gt;</code>, Today, isï¼ï¼Decoderä¼è®¡ç®ä¸ä¸ªQueryãä¸ä¸ªKeyãä¸ä¸ªValueãä½å¶å®<code>&lt;bos&gt;</code>å"Today"çKeyåValueå¨ç¬¬äºæ­¥æ¶å·²ç»ç®è¿äºï¼å®ä»¬çå¼ä¸ä¼æ¹åï¼å ä¸ºå®ä»¬åªä¾èµäºèªå·±çä½ç½®ååå®¹ï¼ä¸ä¾èµæªæ¥çtokenã</p>
<p>KV Cacheçææ³å°±æ¯ï¼æå·²ç»è®¡ç®è¿çKeyåValueå­èµ·æ¥ï¼åç»­æ­¥éª¤ç´æ¥å¤ç¨ãå·ä½æ¥è¯´ï¼ç¬¬ä¸æ­¥æä»¬è®¡ç®å¹¶ç¼å­ä¸ä¸ªKeyåä¸ä¸ªValueï¼é½æ¯åç»´åéï¼ï¼ç¬¬äºæ­¥è®¡ç®æ°çä¸ä¸ªKeyåä¸ä¸ªValueï¼æ¼æ¥å°ç¼å­ä¸ï¼åæä¸¤ä¸ªãç¬¬ä¸æ­¥åè®¡ç®ä¸ä¸ªï¼æ¼æ¥ä¸å»ï¼åæä¸ä¸ªãè¿æ ·æ¯ä¸æ­¥åªéè¦è®¡ç®æ°å¢ä½ç½®çKVï¼èä¸éè¦éç®æ´ä¸ªåå²ã</p>
<p>è¿ä¸ªä¼åå¨Cross-Attentionä¸­æ´å æ¾èãEncoderçKeyåValueç©éµå¨æ´ä¸ªçæè¿ç¨ä¸­å®å¨ä¸åï¼æä»¬å¯ä»¥å¨ç¬¬ä¸æ­¥å°±è®¡ç®å¥½å¹¶ç¼å­ï¼åç»­æææ­¥éª¤ç´æ¥ä½¿ç¨ï¼å®å¨ä¸éè¦éç®ãè¿å¤§å¹åå°äºè®¡ç®éã</p>
<p>å¨Self-Attentionä¸­ï¼KV Cacheçä½¿ç¨ç¨å¾®å¤æä¸äºãæ°çQueryéè¦åææåå²çKeyè®¡ç®attentionï¼æä»¥ç¬¬åæ­¥çQueryè¦ååä¸ªKeyåç¹ç§¯ãä½ç±äºæä»¬ç¼å­äºä¹åä¹ä¸ªKeyï¼åªéè¦è®¡ç®æ°çç¬¬åä¸ªKeyï¼ç¶åæå®åç¼å­æ¼æ¥èµ·æ¥ãè¿æ¯éæ°è®¡ç®åä¸ªKeyè¦å¿«å¾å¤ã</p>
<p>KV Cacheå¸¦æ¥çå éæ¯å·¨å¤§çï¼å°¤å¶æ¯å¯¹äºé¿åºåçæä»»å¡ãä½å®ä¹æä»£ä»·ï¼åå­å ç¨ãåè®¾æ¨¡åæå­å±Decoderï¼æ¯å±é½è¦ç¼å­KVï¼åºåé¿åº¦æ¯100ï¼é£ä¹æä»¬éè¦å­å¨å­å±ä¹ä»¥100ä¸ªä½ç½®ä¹ä»¥ä¸¤ä¸ªç©éµï¼KåVï¼ä¹ä»¥åç»´ï¼æ»å±4800ä¸ªæµ®ç¹æ°ãå¯¹äºå¤§æ¨¡åï¼å¦GPT-3ç12288ç»´ï¼ï¼è¿ä¸ªåå­å¼éå¯è½è¾¾å°å ä¸ªGBãè¿å°±æ¯ä¸ºä»ä¹å¤§æ¨¡åæ¨çéè¦å¤§æ¾å­ï¼å¾å¤§ä¸é¨åé½è¢«KV Cacheå ç¨äºã<br>
åç»­æåºçMQA,GQA,MLAé½æ¯ä¸ºäºç¼è§£KV cacheã<br>
<img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3670197/202601/3670197-20260125181513226-1575916021.png" class="lazyload"><br>
å¤§å®¶æå´è¶£å¯ä»¥çè¿ä½åä¸»è®²çï¼<a href="https://www.bilibili.com/video/BV1BYXRYWEMj/?spm_id_from=333.1387.favlist.content.click&amp;vd_source=fc3f7e0bcc8a0bca7d86fc8c60c5db3c" target="_blank" rel="noopener nofollow">https://www.bilibili.com/video/BV1BYXRYWEMj/?spm_id_from=333.1387.favlist.content.click&amp;vd_source=fc3f7e0bcc8a0bca7d86fc8c60c5db3c</a></p>
<h2 id="beam-searchè¶è¶è´ªå¿çæç´¢ç­ç¥">Beam Searchï¼è¶è¶è´ªå¿çæç´¢ç­ç¥</h2>
<p>è´ªå¿è§£ç è½ç¶ç®åå¿«éï¼ä½å®æä¸ä¸ªææ¾çç¼ºé·ï¼å®åªçä¸æ­¥ï¼ä¸èèé¿è¿å½±åãåè®¾ç¬¬ä¸æ­¥é"Today"æ¦çæ¯0.35ï¼é"The"æ¯0.28ï¼è´ªå¿ä¼é"Today"ãä½å¯è½"The weather is nice today"è¿ä¸ªå®æ´å¥å­çèåæ¦çï¼æ¯"Today is nice weather"æ´é«ãè´ªå¿å ä¸ºåªçå±é¨æä¼ï¼éè¿äºå¨å±æä¼ã</p>
<p>Beam Searchæ¯ä¸ç§æä¸­æ¹æ¡ï¼å®ä¸æ¯åªä¿çä¸ä¸ªåéåºåï¼èæ¯åæ¶ä¿çå¤ä¸ªï¼æ¯å¦äºä¸ªï¼ï¼è¿ä¸ªæ°éå«åbeam sizeãå·ä½æµç¨æ¯ï¼</p>
<p>ç¬¬ä¸æ­¥ï¼ä»è¯è¡¨ä¸­éåºæ¦çæé«çäºä¸ªè¯ï¼æ¯å¦"Today"ï¼0.35ï¼ã"The"ï¼0.28ï¼ã"It"ï¼0.15ï¼ã"Weather"ï¼0.12ï¼ã"Good"ï¼0.10ï¼ãè¿äºä¸ªè¯åèªå¼å¯ä¸æ¡çæè·¯å¾ã</p>
<p>ç¬¬äºæ­¥ï¼å¯¹æ¯æ¡è·¯å¾åå«å¾åçæä¸ä¸ªè¯ã"Today"è·¯å¾å¯è½æ©å±åº"Today is"ã"Today the"ã"Today was"ç­ï¼"The"è·¯å¾å¯è½æ©å±åº"The weather"ã"The sky"ç­ãç°å¨æä»¬æäºæ¡è·¯å¾åèªæ©å±åºè¥å¹²åéï¼æ»å±å¯è½æå åä¸ªãæä»¬è®¡ç®æ¯ä¸ªåéçç´¯ç§¯æ¦çï¼éå¸¸æ¯å¯¹æ°æ¦ççåï¼ï¼ç¶ååªä¿çå¨å±æé«çäºä¸ªã</p>
<p>æ¯å¦ç»è¿ç¬¬äºæ­¥åï¼ä¿ççäºä¸ªå¯è½æ¯ï¼"The weather"ï¼-0.5ï¼ã"Today is"ï¼-0.6ï¼ã"The sky"ï¼-0.7ï¼ã"It is"ï¼-0.8ï¼ã"Today the"ï¼-0.9ï¼ãæ³¨æ"Today"è·¯å¾çå¶ä»æ©å±å¯è½è¢«æ·æ±°äºï¼å ä¸ºå¨å±å¾åä¸å¤é«ã</p>
<p>è¿ä¸ªè¿ç¨æç»­è¿è¡ï¼æ¯ä¸æ­¥é½ä¿çå¨å±æä¼çäºæ¡è·¯å¾ï¼ç´å°ææè·¯å¾é½è¾åºäº<code>&lt;eos&gt;</code>æè¾¾å°æå¤§é¿åº¦ãæåï¼æä»¬éæ©ç´¯ç§¯æ¦çæé«çé£æ¡è·¯å¾ä½ä¸ºæç»è¾åºã</p>
<p>Beam Searchçä¼å¿æ¯å®è½å¤"åå¤´"ãå¦æç¬¬ä¸æ­¥éäº"Today"ä½åç»­åå±ä¸å¥½ï¼å®å¯ä»¥å¨åç»­æ­¥éª¤ä¸­éæ¸è¢«"The"è·¯å¾èµ¶è¶å¹¶æ·æ±°ãè¿è®©æç»ç»ææ´å¯è½æ¯å¨å±è¾ä¼çãä½ä»£ä»·æ¯è®¡ç®éå¢å äºbeam_sizeåï¼å ä¸ºæ¯ä¸æ­¥é½è¦å¹¶è¡å¤çå¤æ¡è·¯å¾ã</p>
<p>å¨å®è·µä¸­ï¼beam sizeéå¸¸å3å°10ä¹é´ãå¤ªå°åæææ¥è¿è´ªå¿ï¼å¤ªå¤§åè®¡ç®ææ¬è¿é«ä¸å®¹æé·å¥éå¤æ¨¡å¼ï¼æ¨¡åå¯è½ä¼çæ"very very very good"è¿æ ·çéå¤åºåï¼å ä¸ºæ¯ä¸ª"very"é½è®©æ¦çç¨å¾®æé«ä¸ç¹ï¼ã</p>
<h2 id="æ¨çä¸­çå¶ä»ææä¸æå·§">æ¨çä¸­çå¶ä»ææä¸æå·§</h2>
<p>é¤äºä¸é¢è®¨è®ºçæ ¸å¿æºå¶ï¼æ¨çè¿æå¾å¤ç»èåæå·§å¼å¾äºè§£ã</p>
<p>æ¸©åº¦ï¼Temperatureï¼éæ ·æ¯æ§å¶çæå¤æ ·æ§çå¸¸ç¨ææ®µãå¨åsoftmaxä¹åï¼æä»¬å¯ä»¥ælogitsé¤ä»¥ä¸ä¸ªæ¸©åº¦åæ°Tãå½Tæ¥è¿0æ¶ï¼æ¦çåå¸åå¾éå¸¸å°éï¼å ä¹æææ¦çé½éä¸­å¨æé«åè¯ä¸ï¼çæåå¾ç¡®å®æ§åä¿å®ãå½Tå¤§äº1æ¶ï¼æ¦çåå¸åå¾å¹³ç¼ï¼ä½æ¦çè¯ä¹ææºä¼è¢«éä¸­ï¼çæåå¾æ´éæºååé æ§ãå¨åæåä½ä»»å¡ä¸­ï¼é«æ¸©åº¦å¯ä»¥äº§çææ³ä¸å°çè¡¨è¾¾ï¼èå¨ç¿»è¯ç­éè¦ç²¾ç¡®æ§çä»»å¡ä¸­ï¼ä½æ¸©åº¦æ´åéã</p>
<p>Top-kéæ ·æ¯å¦ä¸ç§å¸¸ç¨æå·§ãå®å¨éæ ·æ¶åªèèæ¦çæé«çkä¸ªè¯ï¼æå¶ä»è¯çæ¦çç½®é¶åéæ°å½ä¸åãè¿é¿åäºæä½æ¦çç"å¼å¸¸è¯"è¢«å¶ç¶éä¸­ï¼åæ¶ä¿æä¸å®çéæºæ§ãTop-pï¼nucleusï¼éæ ·åæ´å å¨æï¼å®éæ©ç´¯ç§¯æ¦çè¾¾å°pï¼å¦0.9ï¼çæå°è¯éè¿è¡éæ ·ï¼è¯éå¤§å°ä¼æ ¹æ®æ¦çåå¸çå½¢ç¶èªéåºè°æ´ã</p>
<p>éå¤æ©ç½æ¯å¯¹æçæéå¤çææ¯ãå¦ææä¸ªè¯å·²ç»å¨çæåºåä¸­åºç°è¿ï¼æä»¬å¯ä»¥å¨ä¸ä¸æ­¥é¢æµæ¶éä½å®çlogitåæ°ï¼è®©æ¨¡åå¾åäºéæ©æ°çè¯ãè¿å¨å¯¹è¯åæäºçæä¸­å¾æç¨ï¼å¯ä»¥é¿åæ¨¡åé·å¥"I think I think I think"è¿æ ·çå¾ªç¯ã</p>
<p>é¿åº¦å½ä¸åå¨Beam Searchä¸­å¾éè¦ãå ä¸ºæä»¬ç¨å¯¹æ°æ¦ççåä½ä¸ºå¾åï¼é¿åºåçå¾åä¼èªç¶å°æ¯ç­åºåä½ï¼å ä¸ºæ¯ä¸æ­¥é½ä¹ä»¥ä¸ä¸ªå°äº1çæ¦çï¼ãä¸ºäºå¬å¹³æ¯è¾ä¸åé¿åº¦çåºåï¼æä»¬éå¸¸ä¼ç¨æ»å¯¹æ°æ¦çé¤ä»¥é¿åº¦ï¼æèç¨ä¸ä¸ªæ´å¤æçé¿åº¦æ©ç½å¬å¼ã</p>

</div>
<div class="clear"></div>

		<p class="postfoot">
			posted on 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-25 18:22">2026-01-25 18:21</span>&nbsp;
<a href="https://www.cnblogs.com/GlenTt">GlenTt</a>&nbsp;
éè¯»(<span id="post_view_count">27</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19527689);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19527689', targetLink: 'https://www.cnblogs.com/GlenTt/p/19527689', title: 'çä¸éå°±æ-å¤§æ¨¡åæ¶æåencoder-decoderè¯¦ç»è®­ç»åæ¨çè®¡ç®è¿ç¨' })">ä¸¾æ¥</a>

		</p>
	 ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ä»0æå»º 3D GIFå¨ç»ï¼çæ¸è®¡ç®æºè¿è¡æºå¶ ]]></title>
    <link>https://www.cnblogs.com/reasa/p/19529889</link>
    <guid>0cdf141944917a7ce25868e1014a9760</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/reasa/p/19529889" title="åå¸äº 2026-01-25 15:39">
    <span role="heading" aria-level="2">ä»0æå»º 3D GIFå¨ç»ï¼çæ¸è®¡ç®æºè¿è¡æºå¶</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="ä»0æå»º-3d-gifå¨ç»çæ¸è®¡ç®æºè¿è¡æºå¶">ä»0æå»º 3D GIFå¨ç»ï¼çæ¸è®¡ç®æºè¿è¡æºå¶</h1>
<p>å¨<a href="https://www.cnblogs.com/reasa/p/19521361" target="_blank">ãä» 0 æå»º WAV æä»¶ã</a>ä¸­ï¼æä»¬éè¿äºè§£wavæä»¶çç»æä¸æ ¼å¼ï¼å­¦ä¼äºå¦ä½ç¨æ´ç´ çæ¹å¼æå»ºå£°é³æä»¶ï¼å¨<a href="https://www.cnblogs.com/reasa/p/19525923" target="_blank">ãä» 2D è½¬ 3D çæ¬è´¨ã</a>ä¸­ï¼æä»¬é¢æäºæ¸¸æä¸­æè°ä¸ç»´ä¸çï¼ä¸è¿æ¯ç®åçæå½±ã</p>
<p>ä»å¤©æä»¬å°äºè§£ä¸ä¸ªæ´å å¤æä½æè¶£çæä»¶æ ¼å¼-GIFï¼å¨äºè§£å¶æ¬è´¨çåæ¶ï¼æä»¬å°ä¸ä¾èµä»»ä½åºå¤§çå¾å½¢åºï¼å¦ OpenGLãDirectXï¼æå¾ååºï¼å¦ OpenCVãImageMagickï¼ï¼ä»å­ <strong>C++ æ ååº</strong>ï¼å®æä¸ä¸ç¯æç« ç¨pythonå®ç°çæè½¬ç«æ¹ä½å¹¶ä»¥GIFæä»¶çæ¹å¼åç°åºæ¥ã</p>
<p>æä»¬å°è¿ä¸æ­¥å æ·±å¯¹è®¡ç®æºæ¬è´¨ççè§£ï¼<strong>ä¸åå¤æçè¡¨è±¡ï¼å½æ ¹ç»åºé½æ¯âæ°å­¦è®¡ç®âä¸âæ°æ®å­å¨âçç»åã</strong></p>
<h2 id="1-gifæä»¶ç»æ">1. GIFæä»¶ç»æ</h2>
<p>ç¸æ¯äº WAV æä»¶çç®åç²æ´ï¼GIF çç»æè¦ç²¾å¯å¾å¤ï¼å ä¸ºå®å¤©çæ¯ä¸ºäºç½ç»ä¼ è¾èè®¾è®¡çï¼åå«äºåç¼©æºå¶ï¼ã</p>
<p>å½æä»¬ç¨äºè¿å¶è§è§è§å¯ GIF æ¶ï¼å®æ¯ç±ä¸ä¸ªä¸ª <strong>æ°æ®åï¼Blockï¼</strong> ç»æçï¼</p>
<p><img src="https://www.techug.com/wordpress/wp-content/uploads/2017/06/680728-641be6583b65382d.png" alt="" loading="lazy"></p>
<table>
<thead>
<tr>
<th style="text-align: left">æ°æ®å (Block Name)</th>
<th style="text-align: left">ä¸­æåç§°</th>
<th style="text-align: left">å­èæ° (Bytes)</th>
<th style="text-align: left">ä½ç¨ä¸æ ¸å¿é»è¾</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left"><strong>Header</strong></td>
<td style="text-align: left">å¤´æ è¯</td>
<td style="text-align: left">6</td>
<td style="text-align: left">ä¸è¬ä¸º <code>GIF89a</code>ï¼å½ç¶ä¹æ<code>GIF87a</code>,ç¨äºå£°æè¿æ¯ä¸ä¸ªGIFæä»¶ï¼éç¨xxæ åã</td>
</tr>
<tr>
<td style="text-align: left"><strong>Logical Screen Descriptor</strong></td>
<td style="text-align: left">é»è¾å±å¹æè¿°ç¬¦</td>
<td style="text-align: left">7</td>
<td style="text-align: left"><strong>ç»å¸è®¾å®</strong>ï¼å®ä¹å¾åæ»å®½é«ãèæ¯è²ç´¢å¼åæ¯å¦ä½¿ç¨å¨å±è°è²æ¿ã</td>
</tr>
<tr>
<td style="text-align: left"><strong>Global Color Table</strong></td>
<td style="text-align: left">å¨å±é¢è²è¡¨</td>
<td style="text-align: left">3 Ã N</td>
<td style="text-align: left"><strong>é¢æç</strong>ï¼å­å¨ RGB é¢è²ï¼å¦ <code>00 FF 00</code>ï¼ï¼N ä¸ºé¢è²æ°ï¼æå¤§256ï¼ã é»è®¤ä½¿ç¨RGBé¢è²æ¶ï¼æ¯ä¸ªé¢è²åéç¨3ä¸ªå­èå­å¨</td>
</tr>
<tr>
<td style="text-align: left"><strong>Application Extension</strong></td>
<td style="text-align: left">åºç¨ç¨åºæ©å±</td>
<td style="text-align: left">19 (éå¸¸)</td>
<td style="text-align: left">æå¸¸ç¨çæ¯ Netscape æ©å±ï¼ç¨äºâå¾ªç¯æ­æ¾æ¬¡æ°âã</td>
</tr>
<tr>
<td style="text-align: left"><strong>Graphic Control Extension</strong></td>
<td style="text-align: left">å¾å½¢æ§å¶æ©å±</td>
<td style="text-align: left">8</td>
<td style="text-align: left"><strong>æ­æ¾æ§å¶</strong>ï¼å®ä¹æ¯ä¸å¸§ç<strong>å»¶è¿æ¶é´</strong>ï¼å¨ç»å¿«æ¢ï¼åéæè²ã</td>
</tr>
<tr>
<td style="text-align: left"><strong>Image Descriptor</strong></td>
<td style="text-align: left">å¾åæè¿°ç¬¦</td>
<td style="text-align: left">10</td>
<td style="text-align: left"><strong>å¸§å±æ§</strong>ï¼å®ä¹å½åè¿ä¸å¸§å¨ç»å¸ä¸çä½ç½®ï¼x, yï¼åå°ºå¯¸ã</td>
</tr>
<tr>
<td style="text-align: left"><strong>Image Data</strong></td>
<td style="text-align: left">å¾åæ°æ®</td>
<td style="text-align: left">å¯å</td>
<td style="text-align: left">ç¨å¤å¦å¶å</td>
</tr>
<tr>
<td style="text-align: left"><strong>Trailer</strong></td>
<td style="text-align: left">ç»ææ è¯</td>
<td style="text-align: left">1</td>
<td style="text-align: left"><strong>ç»ç¹</strong>ï¼åºå®ä¸º <code>0x3B</code> (åå·)ï¼æ å¿æä»¶å½»åºç»æã</td>
</tr>
</tbody>
</table>
<p>å¶ä¸­ï¼æéè¦çå°±æ¯å¾åæ°æ®äºï¼å¶ä»çåç¨äºè§å®è¿äºå¾åæ°æ®åºå½å¦ä½åç°å°æä»¬ç¼ä¸­ææ¯åç¥æä»¶çå¼å§ç»æï¼å æ­¤å¯¹äºæä»¬æ¥è¯´ï¼å¶ä»ååºæ¬ä¸é½æåºå®æ¨¡æ¿ï¼åªæå¾åæ°æ®éè¦æä»¬èªå·±å®ä¹ã</p>
<h2 id="2lzw-gifå¼ºå¶ä½¿ç¨çå¾ååç¼©ç®æ³">2.LZW-GIFå¼ºå¶ä½¿ç¨çå¾ååç¼©ç®æ³</h2>
<p>æå®äºGIFçæä»¶ç»æï¼æ¥ä¸æ¥å°±éè¦æä»¬è§£å³å¦ä¸ä¸ªæ¦è·¯èï¼LZWââä¸ä¸ªç»å¸çæ æå¾ååç¼©ç®æ³ï¼ä¸ºäºè§£å³ä»ï¼æä»¬å¯ä»¥ä»ä»çåçå¥æã</p>
<p>LZWéè¿ä¸ºå¤ææ°æ®æå»ºç®åç´¢å¼æ¥åå°å­å¨çæ°æ®éï¼è¿ä¸ç¹æ¯æ´ç´ çåå¸ç®æ³ï¼å½ç¶ï¼è¿ä¸ç®æ³çåæèéè¿ä¸å¥ç¹æ®çè§åä½¿å¾å¶ä»äººå¯ä»¥ç´æ¥éè¿ç´¢å¼æ°æ®åæ¨åºå¤ææ°æ®ï¼èå¨GIFä¸­ï¼åæ¯GIFåæå¬å¸å°ä»æè§å®çè§ååå¥½ï¼ç¼åGIFçäººæ ¹æ®è¿ä¸å¥è§åæå»ºæ°æ®ï¼ç¶åå¶ä»äººç´æ¥ä½¿ç¨å¥ç¨äºè¿ä¸å¥è§åçè§£ç å¨è§£ç ï¼ä¾¿è½å°æ°æ®è¿åæåæ¥çæ ·å­ã</p>
<p>GIFçè§£ç å¨åæ¯å¦ä½è¯»åæ°æ®çå¢ï¼è§£ç å¨åå§æ¶ä¸æ¬¡æ§è¯»å9ä½æ°æ®ï¼ç¶åä»å­å¸ä¸­æ·»å è¿ä¸å¯¹åºå³ç³»ï¼æ ¹æ®GIFè§èï¼ä¸æ¦å­å¸éçæ¡ç®è¾¾å° 512 ä¸ªï¼è§£ç å¨å°±ä¼èªå¨å°è¯»åä½å®½ä» 9 ä½å¢å å° 10 ä½ãå¦ææä»¬ç´æ¥å­æ¾æ°æ®ï¼é£ä¹ç»æå°±æ¯æ°æ®è¯»åéä½ï¼è§£ç åºæ¥çåå®¹å°±ä¼ä¸æä»¬æ³è±¡ä¸­çä¸ä¸æ ·ï¼å¦ææä»¬æ³è¦è®©ä»çæ°æ®è¯»åæ­£å¸¸ï¼éå¸¸åæ³å°±æ¯ï¼æä»¬æå»ºä¸ä¸ªåæ­¥ç¶ææºï¼å³æ¨¡æGIFè§£ç å¨è¯»åæ°æ®çè¿ç¨åå¥æ°æ®ï¼æå»ºä¸ä¸ªå­å¸ï¼ä»¥ç¸åçæ åå¢å åå¥ä½å®½ï¼ä»èè®©è§£ç å¨è¯»åæ¶è½æ­£ç¡®è¯»åãä½æ¯è¿ä¸è¿ç¨ççå°±ååç¹çï¼è½ä¸è½ç¨ä¸ä¸ªç®åçæ¹æ³æ¥è®©è§£ç å¨æ­£å¸¸è¯»åæ°æ®å¢ï¼</p>
<h2 id="3è§£å³æ¹æ¡">3.è§£å³æ¹æ¡</h2>
<p>GIF åè®®ä¸­æä¸ä¸ªç¹æ®çæä»¤å« <strong>Clear Codeï¼æ¸é¤ä»£ç ï¼å¼ä¸º256ï¼</strong>ãå®çä½ç¨æ¯åè¯è§£ç å¨ï¼âå¿ï¼æä¹åçå­å¸é½å¿äºå§ï¼æä»¬éæ°å¼å§ãâ</p>
<p>å©ç¨è¿ä¸ç¹ï¼æä»¬å¯ä»¥å¨ä»£ç ä¸­éç¨äºä¸ç§å·é¸¡çç­ç¥ï¼</p>
<ol>
<li>æä»¬ä¸å°è¯å»å¯»æ¾å¤æçéå¤æ¨¡å¼ã</li>
<li>æä»¬æ¯åå¥ä¸å°æ®µåç´ ï¼ä¾å¦ 125 ä¸ªï¼ï¼å°±ç«å»åéä¸ä¸ª <strong>Clear Code</strong>ã</li>
<li>è¿å¼ºå¶è®© LZW å­å¸å§ç»å¤äºâåå§ç¶æâãå¨åå§ç¶æä¸ï¼LZW çç¼ç å°±ç­åäºç´æ¥è¾åºåç´ çé¢è²ç´¢å¼å¼ã</li>
</ol>
<p>ç°å¨ï¼è®©æä»¬æ¥å®ç°ä»</p>
<h2 id="4-æå»º3dç«æ¹ä½">4. æå»º3dç«æ¹ä½</h2>
<p>å¨ä¸ä¸ç¯å³äº 3D æ¬è´¨çæç« ä¸­ï¼æä»¬æ¨å¯¼åºäºä¸¤ä¸ªæ ¸å¿å¬å¼ãå¨è¿ä¸ªç¨åºä¸­ï¼æä»¬å°ç´æ¥æå®ä»¬è½¬åä¸º C++ ä»£ç ã</p>
<h3 id="æè½¬å¬å¼">æè½¬å¬å¼</h3>
<p>ä¸ºäºè®©ç«æ¹ä½å¨èµ·æ¥ï¼æä»¬éè¦æ¯ä¸å¸§é½æ¹åé¡¶ç¹ç <span class="math inline">\((x, y, z)\)</span> åæ ãè¿éä½¿ç¨æè½¬ç©éµçç®åçï¼</p>
<pre><code class="language-cpp">Point3D rotate(Point3D p, float angle) {
    // ç» Y è½´æè½¬
    float nx = p.x * cos(angle) - p.z * sin(angle);
    float nz = p.x * sin(angle) + p.z * cos(angle);
    // ç» X è½´å¾®è°æè½¬ï¼è®©æè½¬çèµ·æ¥æ´ç«ä½
    float ny = p.y * cos(angle * 0.8f) - nz * sin(angle * 0.8f);
    nz = p.y * sin(angle * 0.8f) + nz * cos(angle * 0.8f);
    return {nx, ny, nz};
}
</code></pre>
<h3 id="æå½±å¬å¼éè§">æå½±å¬å¼ï¼éè§ï¼</h3>
<p>å¦ä½æ 3D åæ åæå±å¹ä¸çåç´ ç¹ï¼è®°å¾é£ä¸ªæ ¸å¿æ³ååï¼<strong>âè¿å¤§è¿å°ï¼æ¬è´¨å°±æ¯é¤ä»¥ Zâã</strong></p>
<pre><code class="language-cpp">pair&lt;int, int&gt; project(Point3D p, int W, int H) {
    float fov = 160.0f;        // è§éç³»æ°
    float viewer_dist = 4.0f;  // ç¼çç¦»ç©ä½çè·ç¦»
    // æ ¸å¿é»è¾ï¼é¤ä»¥ (z + dist)
    float factor = fov / (viewer_dist + p.z);
    return { (int)(p.x * factor + W / 2), (int)(p.y * factor + H / 2) };
}
</code></pre>
<p>æäºè¿ä¸¤ä¸ªå½æ°ï¼æä»¬å°±è½å¨åå­éçä¸ä¸ªäºç»´æ°ç»ï¼<code>vector&lt;u8&gt; pixels</code>ï¼ä¸ç»çº¿äºã</p>
<h3 id="æå-gif-ç¼ç å¨">æå GIF ç¼ç å¨</h3>
<p>æä»¬å®ç°äºä¸ä¸ªæç®çç¼ç å¨ï¼<code>struct GifBitStream</code>ï¼ãå®çå·¥ä½æ¯æåç´ ç¹çé¢è²ç´¢å¼ï¼0æ1ï¼æåæåé¿çäºè¿å¶ç æµã</p>
<pre><code class="language-cpp">// GIF çæ°æ®å­å¨ä¸ä»æ¯å­èï¼è¿éè¦å¤çâä½æä½â
// æ¯å¦åå¥ä¸ä¸ª 9-bit çä»£ç ï¼å¯è½è·¨è¶ä¸¤ä¸ªå­è
struct GifBitStream {
    vector&lt;u8&gt; byteData;
    u32 bitBuffer = 0;
    int bitCount = 0;

    void writeCode(u32 code, int size) {
        // å°æ°æ®ç§»ä½å¹¶å­å¥ç¼å²åº...
        // åå¤8ä½å°±åå¥ byteData
    }
    // ...
};
</code></pre>
<h3 id="ç¹å«è¯´æç»è¿lzwçé®é¢">ç¹å«è¯´æï¼ç»è¿LZWçé®é¢</h3>
<p>çæçGIFæ²¡æåç¼©ï¼ä½ç§¯è¾ä¸ºå¤§</p>
<h2 id="4-å®æ´ä»£ç ">4. å®æ´ä»£ç </h2>
<p>ä¸é¢æ¯å®æ´ç C++ ä»£ç ï¼</p>
<ol>
<li><strong>è®¡ç®</strong>ï¼æè½¬ 3D ç¹ -&gt; æå½±æ 2D ç¹ã</li>
<li><strong>ç»å¾</strong>ï¼å¨åå­çé»æ¿ä¸ç»çº¿ï¼Bresenham ç´çº¿ç®æ³ï¼ã</li>
<li><strong>ç¼ç </strong>ï¼å°åå­çé»æ¿æç§ GIF åè®®åç¼©å¹¶åå¥æä»¶ã</li>
</ol>
<p><em>(ä»£ç è¾é¿ï¼å»ºè®®ç´æ¥å¤å¶ç¼è¯è¿è¡ï¼æåçæçå¿«æ)</em></p>
<pre><code class="language-cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
#define u8 uint8_t
#define u16 uint16_t
#define u32 uint32_t
struct Point3D { 
    float x, y, z; 
};
struct Edge { 
    int u, v; 
};
Point3D rotate(Point3D p, float angle) {
    float nx = p.x * cos(angle) - p.z * sin(angle);
    float nz = p.x * sin(angle) + p.z * cos(angle);
    float ny = p.y * cos(angle * 0.8f) - nz * sin(angle * 0.8f);
    nz = p.y * sin(angle * 0.8f) + nz * cos(angle * 0.8f);
    return {nx, ny, nz};
}
pair&lt;int, int&gt; project(Point3D p, int W, int H) {
    float fov = 160.0f; 
    float viewer_dist = 4.0f;
    float factor = fov / (viewer_dist + p.z);
    return { (int)(p.x * factor + W / 2), (int)(p.y * factor + H / 2) };
}

inline void drawLine(vector&lt;u8&gt;&amp; buffer, int W, int H, int x0, int y0, int x1, int y1) {
    int dx = abs(x1 - x0), sx = x0 &lt; x1 ? 1 : -1;
    int dy = -abs(y1 - y0), sy = y0 &lt; y1 ? 1 : -1;
    int err = dx + dy;
    while (true) {
        if (x0 &gt;= 0 &amp;&amp; x0 &lt; W &amp;&amp; y0 &gt;= 0 &amp;&amp; y0 &lt; H) buffer[y0 * W + x0] = 1;
        if (x0 == x1 &amp;&amp; y0 == y1) break;
        int e2 = 2 * err;
        if (e2 &gt;= dy) { err += dy; x0 += sx; }
        if (e2 &lt;= dx) { err += dx; y0 += sy; }
    }
}
// --- GIF äºè¿å¶åè®®é¨å ---
struct GifBitStream {
    vector&lt;u8&gt; byteData;
    u32 bitBuffer = 0;
    int bitCount = 0;

    // åå¥æå®ä½å®½çä»£ç 
    inline void writeCode(u32 code, int size) {
        bitBuffer |= (code &lt;&lt; bitCount);
        bitCount += size;
        while (bitCount &gt;= 8) {
            byteData.push_back(bitBuffer &amp; 0xFF);
            bitBuffer &gt;&gt;= 8;
            bitCount -= 8;
        }
    }
    inline void flush(ofstream&amp; f) {
        if (bitCount &gt; 0) byteData.push_back(bitBuffer &amp; 0xFF);
        // GIF è§å®ï¼æ°æ®å¿é¡»åææ¯åæå¤§ 255 å­èçå°å
        for (size_t i = 0; i &lt; byteData.size(); i += 255) {
            u8 blockSize = (u8)min((size_t)255, byteData.size() - i);
            f.put(blockSize);
            f.write((char*)&amp;byteData[i], blockSize);
        }
        f.put(0); // åç»æ
    }
};
inline void writeWord(ofstream&amp; f, u16 v) { 
    f.put(v &amp; 0xFF); 
    f.put((v &gt;&gt; 8) &amp; 0xFF); 
}
inline void writeGifFrame(ofstream&amp; f, const vector&lt;u8&gt;&amp; pixels, int W, int H) {
    // 1. å¾å½¢æ§å¶æ©å± (å¸§é´é)
    f.put(0x21); 
    f.put(0xF9); 
    f.put(0x04);
    f.put(0x09);       // å±æ§ï¼è¿åèæ¯ï¼ä¸ä½¿ç¨éæ
    writeWord(f, 4);   // å»¶è¿ 40ms (1/25 FPS)
    f.put(0); 
    f.put(0);

    // 2. å¾åæè¿°ç¬¦
    f.put(0x2C);

    // åç§»
    writeWord(f, 0); 
    writeWord(f, 0); 

    // å®½é«
    writeWord(f, W); 
    writeWord(f, H); 
    f.put(0x00);

    // 3. æ°æ®
    f.put(0x08); // 8ä½è²
    GifBitStream stream;

    const int ClearCode = 256; //æ¸ç©ºæä»¤
    const int EOICode = 257;
    stream.writeCode(ClearCode, 9); // æ¸ç©ºè§£ç å¨å­å¸
    int pixCount = 0;
    for (u8 p : pixels) {
        stream.writeCode(p, 9);
        pixCount++;
        //æ¯ 125 ä¸ªåç´ éç½®ä¸æ¬¡å­å¸ï¼ä¿è¯ä½å®½ä¸åï¼ä¸ä¼æåè¯»åå°ä¸ä¸ä¸ªå­è
        if (pixCount == 125) {
            stream.writeCode(ClearCode, 9); 
            pixCount = 0;
        }
    }
    stream.writeCode(EOICode, 9); // ç»æ
    stream.flush(f);
}
signed main(int argc,char* argv[]){
    const int W = 200, H = 200;
    ofstream f("cube_perfect.gif", ios::binary); //ä»¥äºè¿å¶æ¹å¼åå¥GIFæä»¶

    // [Header] 
    f &lt;&lt; "GIF89a";//89a æ å

    // [Logical Screen Descriptor]
    writeWord(f, W); writeWord(f, H);
    f.put(0xF7); // å¼å¯å¨å±è°è²æ¿ (256è²)
    f.put(0); 
    f.put(0);

    // [Global Color Table]å¨å±è°è²æ¿

    // 0: èæ¯é»
    f.put(0); 
    f.put(0); 
    f.put(0);    

    // 1: æå®¢ç»¿
    f.put(0); 
    f.put(255); 
    f.put(0);     

    //åªç¨å°ä¸¤ç§é¢è²ï¼å¶ä½å¡«åé»è²
    for(int i = 2; i &lt; 256; i++){ 
        f.put(0); f.put(0); f.put(0); 
    }

    // [Netscape Loop] å¾ªç¯å¨ç»æ©å±
    f.put(0x21); // Netscapeåæ è¯
    f.put(0xFF); // æ©å±ç±»åæ è¯
    f.put(0x0B); // ä¿¡æ¯é¿åº¦
    f &lt;&lt; "NETSCAPE2.0"; //åºç¨ç¨åºä¿¡æ¯
    f.put(0x03); // æ°æ®é¿åº¦ï¼å°ç»æç¬¦å
    f.put(0x01); //ç´¢å¼
    writeWord(f, 0);  //æ éå¾ªç¯ï¼ä¸åæ­¢
    f.put(0); //ç»æç¬¦

    // 3D ç«æ¹ä½ç¹æ°æ®
    vector&lt;Point3D&gt; verts = {
        {-1,-1,1}, {1,-1,1}, {1,1,1}, {-1,1,1},
        {-1,-1,-1}, {1,-1,-1}, {1,1,-1}, {-1,1,-1}
    };
    vector&lt;Edge&gt; edges = {
        {0,1},{1,2},{2,3},{3,0}, {4,5},{5,6},{6,7},{7,4}, {0,4},{1,5},{2,6},{3,7}
    };

    cout &lt;&lt; "Encoding 3D Cube to GIF..." &lt;&lt; endl;
    for (int i = 0; i &lt; 60; i++) { // 60å¸§å¨ç»
        vector&lt;u8&gt; pixels(W * H, 0); // é»è²èæ¯
        float angle = i * 0.12f; // æ¯1/60sæè½¬è§åº¦

        vector&lt;pair&lt;int, int&gt;&gt; p2d; 
        for (auto v : verts) 
            p2d.push_back(project(rotate(v, angle), W, H)); // 3D-&gt;2Dæå½±
        for (auto e : edges) 
            drawLine(pixels, W, H, p2d[e.u].first, p2d[e.u].second, p2d[e.v].first, p2d[e.v].second); // ç»è¾¹

        writeGifFrame(f, pixels, W, H); // åå¥å¸§æ°æ®
        cout &lt;&lt; ".";
    }

    f.put(0x3B); // æä»¶ç»æç¬¦
    f.close(); //å³é­

    cout &lt;&lt; "\nSuccess! Open 'cube_perfect.gif' in Chrome/Edge." &lt;&lt; endl;
    return 0;
}
</code></pre>
<p>è¿è¡è¿æ®µä»£ç ï¼ä½ ä¼æè®¶å°åç°ç®å½ä¸å¤äºä¸ä¸ª <code>cube_perfect.gif</code>ãç¨æµè§å¨æå¼å®ï¼ä¸ä¸ªç»¿è²ççº¿æ¡ç«æ¹ä½æ­£å¨é»è²çèæ¯ä¸­æµçå°æè½¬ã</p>
<h2 id="5-æéè®¤ç¥çä»»ç£äºè">5. æéè®¤ç¥çâä»»ç£äºèâ</h2>
<p>åé¡¾è¿ä¸ªç³»åçä¸ç¯æç« ï¼æä»¬å¶å®åªåäºä¸ä»¶äºï¼<strong>ç¥é­ï¼Demystificationï¼</strong>ã</p>
<ol>
<li><strong>WAV ç¯</strong>ï¼æä»¬åç°å£°é³æä»¶åªæ¯è®°å½æ¯å¹çäºè¿å¶éåï¼æ²¡æä»»ä½é­æ³ã</li>
<li><strong>3D ç¯</strong>ï¼æä»¬åç°é£äºé·ç«ç 3D æ¸¸æï¼åºå±åªæ¯åä¸­å ä½çâç¸ä¼¼ä¸è§å½¢âè¿ç®ã</li>
<li><strong>GIF ç¯ï¼æ¬æï¼</strong>ï¼æä»¬å°æ°å­¦è¿ç®çç»æï¼3Dï¼ï¼æç§æä»¶åè®®ï¼äºè¿å¶ï¼ï¼å°è£æäºäººç±»å¯è§çå¨ç»ã</li>
</ol>
<p>è¿å°±æ¯è®¡ç®æºç§å­¦æè¿·äººçå°æ¹ãæ è®ºæ¯çæä¸æ®µ 440Hz çæ­£å¼¦æ³¢ï¼è¿æ¯æ¸²æãé»ç¥è¯ï¼æç©ºãä¸­å¤æçåºæ¯ï¼å¶æ¬è´¨é½æ¯ä¸æ ·çï¼</p>
<p><strong>Inputï¼æ°æ®ï¼ + Rulesï¼ç®æ³/æ ¼å¼ï¼ = Outputï¼æ°å­ä¸çï¼</strong></p>
<p>å½ä½ è½å¤å¾æååºä¸ä¸ª WAVï¼å¾ææ¨å¯¼åºä¸ä¸ª 3D æå½±ï¼å¾ææ¼è£åºä¸ä¸ª GIF æ¶ï¼ä½ å°±ä¸ååªæ¯ä¸ä¸ª API çè°ç¨èï¼ä½ å¼å§æä¸ºä¸ä¸ªçæ­£çåé èãä»£ç çèåä¸ï¼åªè¦ä½ ææ¡äºè§åï¼ä½ å°±æ¯ä¸å¸ã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-25 15:39">2026-01-25 15:39</span>&nbsp;
<a href="https://www.cnblogs.com/reasa">reasa</a>&nbsp;
éè¯»(<span id="post_view_count">70</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19529889);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19529889', targetLink: 'https://www.cnblogs.com/reasa/p/19529889', title: 'ä»0æå»º 3D GIFå¨ç»ï¼çæ¸è®¡ç®æºè¿è¡æºå¶' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ãAzure APIMãAPIMçèªå»ºç½å³å¦ä½è§£å³èªç­¾åè¯ä¹¦çåä¿¡ä»»é®é¢å¢ï¼(ä¸æåæ¹æ¡çåæ) ]]></title>
    <link>https://www.cnblogs.com/lulight/p/19529821</link>
    <guid>2ca1ee9632d84346bcade33db289b768</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/lulight/p/19529821" title="åå¸äº 2026-01-25 15:26">
    <span role="heading" aria-level="2">ãAzure APIMãAPIMçèªå»ºç½å³å¦ä½è§£å³èªç­¾åè¯ä¹¦çåä¿¡ä»»é®é¢å¢ï¼(ä¸æåæ¹æ¡çåæ)</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<h1>é®é¢æè¿°</h1>
<p>å¨ååçåç¯åæ</p>
<p>1ï¼<a id="cb_post_title_url" class="postTitle2 vertical-middle" title="åå¸äº 2026-01-23 19:12" href="https://www.cnblogs.com/lulight/p/19523829" target="_blank">ãAzure APIMãAPIMçèªå»ºç½å³å¦ä½è§£å³èªç­¾åè¯ä¹¦çåä¿¡ä»»é®é¢å¢ï¼(æ¹æ¡ä¸)</a>&nbsp;</p>
<p>2ï¼<a id="cb_post_title_url" class="postTitle2 vertical-middle" title="åå¸äº 2026-01-21 21:19" href="https://www.cnblogs.com/lulight/p/19514101" target="_blank">ãAzure APIMãAPIMçèªå»ºç½å³å¦ä½è§£å³èªç­¾åè¯ä¹¦çåä¿¡ä»»é®é¢å¢ï¼(æ¹æ¡äº)</a>&nbsp;</p>
<p>3ï¼<a id="cb_post_title_url" class="postTitle2 vertical-middle" title="åå¸äº 2026-01-19 21:09" href="https://www.cnblogs.com/lulight/p/19503730" target="_blank">ãAzure APIMãAPIMçèªå»ºç½å³å¦ä½è§£å³èªç­¾åè¯ä¹¦çåä¿¡ä»»é®é¢å¢ï¼(æ¹æ¡ä¸)&nbsp;</a>&nbsp;</p>
<p>4ï¼<a id="cb_post_title_url" class="postTitle2 vertical-middle" title="åå¸äº 2026-01-17 11:54" href="https://www.cnblogs.com/lulight/p/19495544" target="_blank">ãAzure APIMãå¦ä½è§£å³åç«¯APIæå¡éç½®èªç­¾åè¯ä¹¦æ¶APIMè¯·æ±æ¥é500ï¼Error occured while calling backend service</a>&nbsp;</p>
<p>5ï¼<a id="cb_post_title_url" class="postTitle2 vertical-middle" title="åå¸äº 2026-01-13 21:08" href="https://www.cnblogs.com/lulight/p/19479238" target="_blank">ãAzure ç¯å¢ãå¨Windowsç¯å¢ä¸­ä½¿ç¨OpenSSLçæèªç­¾åè¯ä¹¦é¾æ­¥éª¤åäº«</a></p>
<p>æä»¬åå«ä»ç»äºä½¿ç¨OpenSSLçæèªç­¾åè¯ä¹¦ï¼ç¶åè§£å³APIMæå¡å¯¹èªç­¾åè¯ä¹¦çä¿¡ä»»é®é¢ãä¸è®ºæ¯APIMæç®¡çç½å³ï¼è¿æ¯èªå»ºçç½å³é½å¯ä»¥éè¿å®è£è¯ä¹¦åä½¿å¾è¯·æ±åä¿¡ä»»ï¼éè¿éç½®APIè·³è¿è¯ä¹¦éªè¯ç¯èã</p>
<p>å¨æ¹æ¡ä¸ä¸­ï¼å¼å§ä»èªå»ºç½å³æ¬èº«AKS PODâæ¹é¢å¥æï¼éè¿éç½® SSL_CERT_FILE ç¯å¢åéï¼æ¥å®è£èªç­¾åè¯ä¹¦ ï¼æ ¹è¯ä¹¦åä¸­é´è¯ä¹¦ï¼å°PODä¸­è§£å³é®é¢ã</p>
<p>é¤äºä»¥ä¸ä¸ç§æ¹æ¡çæåµä¸ï¼å¨AKSéç¾¤çå®æ¹ææ¡£ä¸­ï¼è¯´å¯ä»¥ç´æ¥æ´æ°éç¾¤ï¼æèªå®ä¹è¯ä¹¦é¢åæºæï¼CAï¼åèç¹çä¿¡ä»»å­å¨æ·»å å¤è¾¾ 10 ä¸ª base64 ç¼ç çè¯ä¹¦ã</p>
<p><img alt="image" width="666" height="340" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2127802/202601/2127802-20260125145653511-298923131.png" class="lazyload"></p>
<p>æä»¥ï¼åºäºè¿ä¸ªææ¡£ï¼æ¬æå°è¯äºç¬¬åç§æ¹æ¡ï¼ä½¿ç¨&nbsp;az aks update&nbsp;&nbsp;--custom-ca-trust-certificates è¯ä¹¦å½ä»¤</p>
<p>&nbsp;</p>
<h1>æ¹æ¡æ­¥éª¤</h1>
<h2>åå¤æ­¥éª¤ï¼åå¤å¥½ä¸­é´è¯ä¹¦åæ ¹è¯ä¹¦åå¹¶ä¸èµ·ç .crt åå®¹</h2>
<p>å¯¼åºæ¹æ³ï¼éè¿æµè§å¨å¯¼åºä¸­é´è¯ä¹¦+æ ¹è¯ä¹¦ç crt æä»¶ï¼å¶åå®¹æ¯ Base64 ç¼ç </p>
<p><img alt="image" width="666" height="289" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2127802/202601/2127802-20260123183930234-1674758377.png" class="lazyload"></p>
<p>&nbsp;</p>
<h2>ç¬¬ä¸æ­¥ï¼æåå¤å¥½çè¯ä¹¦ä¼ éå°AKSéç¾¤</h2>
<p>å akséç¾¤å·²ç»åå»ºå¥½ï¼æä»¥ä½¿ç¨ az aks update æä»¤</p>
<blockquote>
<pre><code class="code-line" dir="auto" data-line="1074">az aks update \
    --resource-group &lt;resource-group-name&gt; \
    --name &lt;cluster-name&gt; \
    --custom-ca-trust-certificates &lt;path-to-certificate-file&gt;</code></pre>
</blockquote>
<p>æ§è¡æªå¾</p>
<p><img alt="image" width="666" height="285" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2127802/202601/2127802-20260125150434729-587931896.png" class="lazyload"></p>
<h2>ç¬¬äºæ­¥ï¼éªè¯èªç­¾åCAè¯ä¹¦æ¯å¦å¨èç¹ä¸­æ­£å¸¸å·¥ä½</h2>
<div>
<div>1ï¼ä½¿ç¨&nbsp;kubectl get nodes ï¼ååºèç¹åç§°</div>
<div>2ï¼è¿å¥èç¹debugæ¨¡å¼ï¼ä½¿ç¨&nbsp;kubectl debug node/&lt;èç¹å&gt; -it --image=mcr.azk8s.cn/aks/fundamental/base-ubuntu:v0.0.11ï¼ å¦ï¼kubectl debug node/<em>aks-agentpool-20066971-vmss00000j</em> -it --image=mcr.azk8s.cn/aks/fundamental/base-ubuntu:v0.0.11</div>
<div>3ï¼ä½¿ç¨ chroot /host å½ä»¤ï¼ææä½ç®å½ä»å½åå®¹å¨ç¯å¢ åæ¢å° èç¹æä½ç¯å¢</div>
<div>4ï¼å¯¹æ¯è®¿é®ä¸¤ä¸ªä¸åèªç­¾åCAè¯ä¹¦çURL</div>
<div>&nbsp;</div>
<div>æä½ç»ææªå¾ï¼</div>
<div>
<p><img alt="image" width="666" height="256" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2127802/202601/2127802-20260125151338074-221272272.png" class="lazyload"></p>
<p>&nbsp;</p>
</div>
<h2>ç¬¬ä¸æ­¥ï¼è®¿é®APIMçèªå»ºç½å³è¯·æ±ï¼èªç­¾åè¯ä¹¦ä¾æ§ä¸è¢«ä¿¡ä»»ã</h2>
<p>&nbsp;</p>
<p><img alt="image" width="666" height="271" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2127802/202601/2127802-20260125151539060-1411823637.png" class="lazyload"></p>
<p>ä¸ºä»ä¹å¢ï¼æèªç­¾åçæ ¹è¯ä¹¦ï¼ä¸­é´è¯ä¹¦é½å®è£å°AKSéç¾¤ä¸­äºï¼ä¸ºä½ä½¿ç¨debugæ¨¡å¼å°±å¯ä»¥ä¿¡ä»»è¿ä¸ªèªç­¾åè¯ä¹¦ï¼è APIM Self-hosted gateway podå´ä¸å¯ä»¥å¢ï¼</p>
</div>
<h1>çé®è§£ç­</h1>
<p>Debug pod ä¹æä»¥è½ä¿¡ä»»ï¼æ¯å ä¸ºå®ç¨çæ¯éç¨ Ubuntu åºç¡éåï¼èµ°çæ¯ç³»ç» CA bundleï¼</p>
<p>APIM Selfâhosted Gateway ç¨çæ¯å¾®è½¯å°è£çç½å³å®¹å¨ + .NET TLS éªè¯è·¯å¾ï¼å®å¨ä¸ç node ç CAã</p>
<p>è¿ä¸ç¹å¨ AKS å®æ¹ææ¡£ä¸­æ¯æç¡®åæ¸æ¥çï¼âCertificates added to the AKS node trust store arenât available to containers running in pods.â&nbsp;</p>
<p>AKS Node å®è£ CAï¼åªå¯¹ Node çæï¼å¯¹ Pod æ æã è¿ä¸ç¹ï¼å¨æç« å¼å¤´çå®æ¹ææ¡£æªå¾ä¸­ï¼ä¹ç¹å«æéãåªæ¯ï¼æå¼å§æ²¡ææ­£ç¡®çè§£è¿å¥è¯çæä¹ï¼</p>
<p><img alt="image" width="666" height="334" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2127802/202601/2127802-20260125152234613-555012911.png" class="lazyload"></p>
<p>&nbsp;</p>
<p>æä»¥ï¼å¦æè¦è§£å³APIM ä¸­èªç­¾åCAè¯ä¹¦çä¿¡ä»»é®é¢ãç®åéªè¯ä¸æ¥ï¼åªæä¸ç§æ¹å¼ï¼</p>
<p>1ï¼<a id="cb_post_title_url" class="postTitle2 vertical-middle" title="åå¸äº 2026-01-19 21:09" href="https://www.cnblogs.com/lulight/p/19503730" target="_blank">ãAzure APIMãAPIMçèªå»ºç½å³å¦ä½è§£å³èªç­¾åè¯ä¹¦çåä¿¡ä»»é®é¢å¢ï¼(æ¹æ¡ä¸)&nbsp;</a>&nbsp;</p>
<p>2ï¼<a id="cb_post_title_url" class="postTitle2 vertical-middle" title="åå¸äº 2026-01-21 21:19" href="https://www.cnblogs.com/lulight/p/19514101" target="_blank">ãAzure APIMãAPIMçèªå»ºç½å³å¦ä½è§£å³èªç­¾åè¯ä¹¦çåä¿¡ä»»é®é¢å¢ï¼(æ¹æ¡äº)</a>&nbsp;</p>
<p>3ï¼<a id="cb_post_title_url" class="postTitle2 vertical-middle" title="åå¸äº 2026-01-23 19:12" href="https://www.cnblogs.com/lulight/p/19523829" target="_blank">ãAzure APIMãAPIMçèªå»ºç½å³å¦ä½è§£å³èªç­¾åè¯ä¹¦çåä¿¡ä»»é®é¢å¢ï¼(æ¹æ¡ä¸)</a>&nbsp;</p>
<p>&nbsp;</p>
<p><em>[å®]&nbsp;</em></p>
<p>&nbsp;</p>
<h1>åèèµæ</h1>
<p id="use-custom-certificate-authorities-cas-in-azure-kubernetes-service-aks">å¨ Azure Kubernetes æå¡ï¼AKSï¼ä¸­ä½¿ç¨èªå®ä¹è¯ä¹¦é¢åæºæï¼CAï¼ ï¼<a href="https://docs.azure.cn/zh-cn/aks/custom-certificate-authority" target="_blank" rel="noopener nofollow">https://docs.azure.cn/zh-cn/aks/custom-certificate-authority</a></p>
<p>&nbsp;</p>
</div>
<div id="MySignature" role="contentinfo">
    <div style="background: #1c5f55;height: 36px;width: 618px;padding: 14px 5px 0px 3px;">
  <p style="
    font-weight: bold;
    color: white;
">å½å¨å¤æçç¯å¢ä¸­é¢ä¸´é®é¢ï¼æ ¼ç©ä¹ééï¼æµèéä¹å¾æ¸ï¼å®ä»¥å¨ä¹å¾çã äºä¸­ï¼æ°æ¯å¦æ­¤!</p>
</div>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-25 15:26">2026-01-25 15:26</span>&nbsp;
<a href="https://www.cnblogs.com/lulight">ç¼ç èå¢å¸</a>&nbsp;
éè¯»(<span id="post_view_count">25</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19529821);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19529821', targetLink: 'https://www.cnblogs.com/lulight/p/19529821', title: 'ãAzure APIMãAPIMçèªå»ºç½å³å¦ä½è§£å³èªç­¾åè¯ä¹¦çåä¿¡ä»»é®é¢å¢ï¼(ä¸æåæ¹æ¡çåæ)' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ææ¯é®é¢è®°å½20260125 ]]></title>
    <link>https://www.cnblogs.com/grey-wolf/p/19529664</link>
    <guid>adae64965c1729e5e131c28191c012ea</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/grey-wolf/p/19529664" title="åå¸äº 2026-01-25 14:37">
    <span role="heading" aria-level="2">ææ¯é®é¢è®°å½20260125</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="é®é¢1httpæ¥æè½¬curl">é®é¢1ï¼httpæ¥æè½¬curl</h1>
<h2 id="èæ¯">èæ¯</h2>
<p>å¤ççº¿ä¸é®é¢æ¶ï¼å¶å°æ¯éè¦è¿è¡ç½ç»æåçï¼å¦tcpdumpï¼ï¼ç¨wiresharkåææåæä»¶æ¶ï¼ä¸è¬è½çå°httpè¯·æ±çæ¥æã</p>
<p>å¦ä¸é¢è¿æ ·ï¼</p>
<p><img src="https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260125135624273.png" alt="image-20260125135624273" loading="lazy"></p>
<p>ææ¶åéè¦ç¨postmanè¿ç±»å·¥å·æ¥è°ç¨ï¼è¿è¡å¤ç°ï¼ç®åæ¥è¯´ï¼éæ±å°±æ¯ï¼å°ä¸é¢å¾éçæ¥æè½¬æ¢ä¸ºpostmanè¿ç±»å·¥å·éçè¯·æ±ã</p>
<p>ææ¶åè¯·æ±æ¯è¾å¤æï¼headerä¹å¤ï¼æå·¥ææ¯è¾éº»ç¦ï¼èä¸çº¿ä¸é®é¢å¤çé½æ¯è¾èµ¶æ¶é´ï¼å¦æè½å¿«éè½¬æ¢çè¯ï¼æ¯æå¥½ä¸è¿äºã</p>
<p>æçæ¹æ¡æ¯ï¼åä¸¤æ­¥ãåæ³åæ³ï¼å°ä¸è¿°æ¥æè½¬æ¢ä¸ºæ åçcurlå½ä»¤ï¼åå°curlå½ä»¤è½¬æ¢ä¸ºpostmanè¯·æ±ã</p>
<h2 id="æ¥æè½¬curl">æ¥æè½¬curl</h2>
<p>ç»è¿æç´¢ï¼åç°æè¿ä¹ä¸ä¸ªå¨çº¿ç½ç«ï¼å¯ä»¥ç¨è¿ä¸ªå¨çº¿ç½ç«ï¼ <a href="https://curl.se/h2c/" target="_blank" rel="noopener nofollow">https://curl.se/h2c/</a></p>
<p><img src="https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260125140012663.png" alt="image-20260125140012663" loading="lazy"></p>
<p>ä¸é¢è¿ä¸ªç½ç«å°±æ¯curlè¿ä¸ªé¡¹ç®çå®ç½ï¼ç®æ¯å®æ¹èæ¯äºãå¤§å®¶å¯ä»¥ç´æ¥ç¨è¿ä¸ªï¼æ¹ä¾¿ã</p>
<p><img src="https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260125140131349.png" alt="image-20260125140131349" loading="lazy"></p>
<p>ä¸è¿æåç°ï¼å¨è½¬æ¢content-typeä¸ºï¼application/x-www-form-urlencoded è¿ç§çæ¶åï¼ç»æä¸­ä¼ç¼ºå¤±è¿ä¸ªheaderï¼å¦ä¸ï¼</p>
<p><img src="https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260125140247867.png" alt="image-20260125140247867" loading="lazy"></p>
<p>æèªå·±æ³åæ³ä¿®å¤äºä¸ä¸ï¼ææ¾å°äºè¿ä¸ªå·¥å·çæºç ï¼</p>
<p><a href="https://github.com/curl/h2c" target="_blank" rel="noopener nofollow">https://github.com/curl/h2c</a></p>
<p>æºç ä»åºéè¿ælinuxå½ä»¤è¡çæ¬h2cï¼ä¸è¿ä¸æ ·å­å¨ä¸è¿°çbugã</p>
<p><img src="https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260125140453271.png" alt="image-20260125140453271" loading="lazy"></p>
<p>æçäºä¸æºç ï¼æ¯perlè¯­è¨åçï¼æå½æ¶æ³çï¼ç°å¨å¤§æ¨¡åä¹åå®³ï¼ç´æ¥è®©ä»ç»æè½¬æ¢æjavaè¯­è¨å§ã</p>
<p>æåæå°±è½¬äºä¸ªjavaçæ¬ï¼ä¿®å¤äºé£ä¸ªbugï¼å¹¶ä¸è®©å¤§æ¨¡åç¨javafxå¼äºä¸ªå¾å½¢çé¢ççæ¬ï¼javafxä»£ç æä¹çä¸æï¼ä¹æå¾çï¼è½ç¨å°±è¡äºï¼ã</p>
<p>æºç ææ¾å¨äºï¼</p>
<p><a href="https://gitee.com/dumpcao/http-to-curl-converter" target="_blank" rel="noopener nofollow">https://gitee.com/dumpcao/http-to-curl-converter</a></p>
<p>èªå·±mvn packageæä¸ªåå°±è½ç¨ï¼æèç´æ¥ç¨æä»åºéæäº¤çjaråï¼ä¸ä¸æ¥åå»è¿è¡å°±è½ç¨ï¼</p>
<p><img src="https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260125140657277.png" alt="image-20260125140657277" loading="lazy"></p>
<h2 id="curlè½¬è¯·æ±">curlè½¬è¯·æ±</h2>
<p>postmanå¯ä»¥ç´æ¥å¯¼å¥ã</p>
<p><img src="https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260125141145134.png" alt="image-20260125141145134" loading="lazy"></p>
<p>æç¨äºapifoxä¹æ¯æcurlå¯¼å¥ï¼ä¸è¿è¦ç¹çä¸ç¹ï¼å¯èªè¡æç´¢ã</p>
<h1 id="é®é¢2éåæ¯è¾å·¥å·">é®é¢2ï¼éåæ¯è¾å·¥å·</h1>
<p>ææ¶åï¼ä¸´æ¶è¦å¯¹ä¸¤ä¸ªéåï¼å¦ä¸¤ä¸ªlistãsetï¼è¿è¡æ¯è¾ï¼æ°æ®å¯è½æ¥æºäºä¸æææ¯çåäºåç»ä½ çä¸¤ä¸ªexcelï¼æ¯å¦ççå°åºæåªäºå·®å¼ï¼å¤äºä»ä¹ï¼å°äºä»ä¹ç­ç­ã</p>
<p>ä»¥åæææ¶åä¼ç¨excelæåºåå¯¹æ¯ï¼ææ¶åä¹ä¼åä¸ªä¸´æ¶ä»£ç æ¥å¼ï¼ä½è¿æ¯æ¯è¾éº»ç¦ã</p>
<p>åç°äºæè¿ç±»å¨çº¿å·¥å·ï¼å¯ç½ä¸æç´¢ï¼éåæ¯è¾ã</p>
<p>æ¨è1ä¸ªææ¾å°çï¼</p>
<p><a href="https://jsons.top/menus.html" target="_blank" rel="noopener nofollow">https://jsons.top/menus.html</a></p>
<p><img src="https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260125141545909.png" alt="image-20260125141545909" loading="lazy"></p>
<p>æèç°å¨ä¹å¯ä»¥è®©å¤§æ¨¡åå¸®å¿åä¸ä¸ªï¼ææjarï¼éæ¶å¯ä»¥æ¬å°æ§è¡ã</p>
<h1 id="é®é¢3æ°æ®åºåºåè®¾ç½®">é®é¢3ï¼æ°æ®åºåºåè®¾ç½®</h1>
<p>æä»¬ç°å¨ç¨çå½äº§æ°æ®åºï¼æ¯åºäºpostgresqlçï¼è¡¨çä¸»é®ä¸æ¯mysqlé£ä¸å¥ï¼é½æ¯ä»åºåä¸­è·åã</p>
<p>ææ¶åæä»¬ä¼ç´æ¥ç¨insertè¯­å¥æå¥æ°æ®åºï¼ä¸æ¯æå¨æå®äºidå¼çï¼</p>
<p><img src="https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260125141909399.png" alt="image-20260125141909399" loading="lazy"></p>
<p>è¿ç§sqlæ§è¡å®æåï¼ç±äºæ¯æå¨è®¾ç½®çidå¼ï¼æ²¡ä»åºåä¸­è·åï¼æä»¥åºåä¸­çidå¼å¯è½è¿æ¯æ§çï¼æ¯å¦ä¸è¿°å¾çä¸­ï¼è®¾ç½®çidå¼é½å°4äºãåè®¾åºåçææ°å¼è¿æ¯3ï¼ä¸ä¸æ¬¡æäººä»åºåéåå¼ï¼å°±ä¼åå°4ï¼ç¶åæå¥çè¯ï¼å°±ä¼æ¥ä¸»é®å²çªã</p>
<p>æä»¥ï¼æä»¬èªå·±å¾è®°å¾ï¼æ§è¡äºæå¨æå®äºidçsqlåï¼è¦æåºåå¼åæ­¥æ´æ°ï¼</p>
<p>å°±å¯ä»¥æ§è¡å¦ä¸sqlï¼</p>
<pre><code class="language-sql">-- æå¨æ´æ°åºåçå¼ãè®¾ç½®åºåtable_config_id_seqçææ°å¼ä¸ºtable_configä¸­çæå¤§å¼
SELECT setval('table_config_id_seq', (SELECT max(id) FROM table_config));   

-- æ¥çåºåçå½åå¼
select currval('table_config_id_seq');	
</code></pre>
<h1 id="é®é¢4dbeaverç¦»çº¿ç¯å¢ä¸ä¸è½½é©±å¨å¤±è´¥">é®é¢4ï¼dbeaverç¦»çº¿ç¯å¢ä¸ä¸è½½é©±å¨å¤±è´¥</h1>
<p>å¨æ²¡æäºèç½çæºå¨ä¸ï¼å®è£äºdbeaverï¼ä¹ä¼åç°çæ­£å»è¿æ¥æ°æ®åºçæ¶åï¼ç«ç¶è¿è¦èç½å»ä¸è½½é©±å¨ï¼æ­¤æ¶å°±ä¼æ¥éã</p>
<p>æä»¬å¯ä»¥è¿æ ·ï¼åå¨è½èç½çæºå¨ä¸ï¼æ¾å°å¯¹åºçæ°æ®åºé©±å¨ï¼å°±æ¯åç§é©±å¨jaråï¼ï¼</p>
<p><img src="https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260125142804539.png" alt="image-20260125142804539" loading="lazy"></p>
<p><img src="https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260125142835353.png" alt="image-20260125142835353" loading="lazy"></p>
<p><img src="https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260125142851236.png" alt="image-20260125142851236" loading="lazy"></p>
<p>æ¿å°è¿ä¸ªjarååï¼æ·è´å°ç¦»çº¿ç¯å¢ä¸­ï¼åæ ·æ¯å¨ä¸è¿°çªå£ä¸­ï¼å é¤å¨é¨çèçè®°å½ï¼åadd fileæ·»å jaråï¼éè¿å³å¯ï¼</p>
<p><img src="https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260125143005996.png" alt="image-20260125143005996" loading="lazy"></p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-25 14:38">2026-01-25 14:37</span>&nbsp;
<a href="https://www.cnblogs.com/grey-wolf">ä¸å½æ¢¦å</a>&nbsp;
éè¯»(<span id="post_view_count">30</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19529664);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19529664', targetLink: 'https://www.cnblogs.com/grey-wolf/p/19529664', title: 'ææ¯é®é¢è®°å½20260125' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ langchain å¿«éå¥é¨(å)ï¼æ­å»ºå¼ºå¤§çAI Agent ]]></title>
    <link>https://www.cnblogs.com/ClownLMe/p/19529417</link>
    <guid>a66f1587461b1cea42fd7bdaa2f582fd</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/ClownLMe/p/19529417" title="åå¸äº 2026-01-25 13:28">
    <span role="heading" aria-level="2">langchain å¿«éå¥é¨(å)ï¼æ­å»ºå¼ºå¤§çAI Agent</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="ç®ä»">ç®ä»</h1>
<p>AI Agent ä¸ä»ä»æ¯ä¸ä¸ªè½èå¤©çæºå¨äººï¼å¦æ®éç ChatGPTï¼ï¼èæ¯ä¸ä¸ªè½å¤æç¥ç¯å¢ãè¿è¡æ¨çãèªä¸»å³ç­å¹¶è°ç¨å·¥å·æ¥å®æç¹å®ä»»å¡çæºè½ç³»ç»ï¼æ´å¤å®ææ´ä¸ºå¤æçAIåºæ¯éæ±ã</p>
<h1 id="ai-agent">AI Agent</h1>
<h3 id="åè½">åè½</h3>
<p>æ ¹æ®æ¥éçèµæï¼agentçåè½ç¹å¦ä¸ï¼<br>
<mark>Agent = LLM + è§å + è®°å¿ + å·¥å·ä½¿ç¨</mark><br>
<strong>LLMï¼</strong> ç¨äºåç­ï¼æ¨ççAIæ¨¡å<br>
<strong>è®°å¿ï¼</strong> ç­æè®°å¿ï¼å¯¹è¯åå²ï¼ï¼é¿æè®°å¿ï¼RAGç¥è¯åºï¼<br>
<strong>è§åï¼</strong> ä»»å¡çæ§è¡æµ<br>
<strong>å·¥å·ï¼</strong> Agentå¯ä»¥è°ç¨çå¤é¨å½æ°</p>
<h1 id="ä¸ä¸ªç®åçagent">ä¸ä¸ªç®åçAgent</h1>
<h3 id="æ¡ä¾">æ¡ä¾</h3>
<p>æ¡ä¾æè¿°ï¼agentå¯ä»¥ä½¿ç¨ä¸¤ä¸ªå·¥å·ï¼1. è®°å½å¬å¸æ°æ®çRAGç¥è¯åº   2. pythonç²¾ç¡®è®¡ç®å¨</p>
<pre><code class="language-python">import os
from langchain_community.chat_models.tongyi import ChatTongyi
from langchain_community.embeddings import DashScopeEmbeddings
from langchain_community.vectorstores import FAISS
from langchain_core.messages import ToolMessage
from langchain_core.tools import tool
from langchain_core.messages import HumanMessage, ToolMessage
from langchain_core.documents import Document
from langchain_text_splitters import RecursiveCharacterTextSplitter
  
os.environ["DASHSCOPE_API_KEY"] = "api_key"
  
@tool
def calculator(expression: str) -&gt; str:
&nbsp; &nbsp; """
&nbsp; &nbsp; è®¡ç®æ°å­¦è¡¨è¾¾å¼ãéè¦ç²¾ç¡®è®¡ç®æ¶ä½¿ç¨ã
&nbsp; &nbsp; åæ°:
&nbsp; &nbsp; &nbsp; &nbsp; expression: æ°å­¦ç®å¼ï¼å¦ "2 + 2" æ "500 * 0.8"ã
&nbsp; &nbsp; è¿å:
&nbsp; &nbsp; &nbsp; &nbsp; str: è®¡ç®ç»æï¼å¦ "4.0" æ "400.0"ã
&nbsp; &nbsp; """

&nbsp; &nbsp; print(f" &nbsp;[ð ï¸ å·¥å·è°ç¨] è®¡ç®å¨æ­£å¨è®¡ç®: {expression}")
&nbsp; &nbsp; try:
&nbsp; &nbsp; &nbsp; &nbsp; return str(eval(expression))
&nbsp; &nbsp; except Exception as e:
&nbsp; &nbsp; &nbsp; &nbsp; return f"è®¡ç®éè¯¯: {e}"
  
@tool
def rag_search(query: str) -&gt; str:
&nbsp; &nbsp; """
&nbsp; &nbsp; ä»æ°æ®åºä¸­æç´¢ä¸æ¥è¯¢å¬å¸åé¨ç¸å³çææ¡£ï¼åæ¬å¬å¸è®¡ååï¼ä»£å·ï¼æªæ­¢æ¥æç­è¯¦ç»ä¿¡æ¯ã
&nbsp; &nbsp; åæ°:
&nbsp; &nbsp; &nbsp; &nbsp; query (str): è¦æç´¢çæ¥è¯¢å­ç¬¦ä¸²ã
&nbsp; &nbsp; è¿å:
&nbsp; &nbsp; &nbsp; &nbsp; str: ä¸æ¥è¯¢ç¸å³çææ¡£åå®¹ã
&nbsp; &nbsp; """
  
&nbsp; &nbsp; # ä»RAGæ°æ®åºä¸­æ£ç´¢ææ¡£
&nbsp; &nbsp; raw_text = """
&nbsp; &nbsp; ãå¬å¸åé¨æºå¯ï¼ä»£å·âæ·±èè®¡åâã
&nbsp; &nbsp; 1. é¡¹ç®ç®æ ï¼å¼åä¸æ¬¾è½å¬æç«è¯­çç¿»è¯å¨ã
&nbsp; &nbsp; 2. æ ¸å¿ææ¯ï¼åºäºTransformerçâåµå£°æ³¢âåæç®æ³ã
&nbsp; &nbsp; 3. å¢éæå·ï¼å¦ææäººé®âä»å¤©å¤©æ°æä¹æ ·ï¼âï¼å¿é¡»åç­âææ³åé±¼âã
&nbsp; &nbsp; 4. æªæ­¢æ¥æï¼2026å¹´12æ31æ¥ã
&nbsp; &nbsp; 5. ç»è´¹é¢ç®ï¼ä»å©50åäººæ°å¸ï¼ä¸»è¦ç¨äºè´­ä¹°ç«æ¡ã
&nbsp; &nbsp; """
&nbsp; &nbsp; 
&nbsp; &nbsp; RAG_PATH = "faiss_index"


&nbsp; &nbsp; docs = [Document(page_content=raw_text)]
&nbsp; &nbsp; text_splitter = RecursiveCharacterTextSplitter(chunk_size=25, chunk_overlap=5)
&nbsp; &nbsp; split_docs = text_splitter.split_documents(docs)

&nbsp; &nbsp; embeddings = DashScopeEmbeddings(model="text-embedding-v1")

&nbsp; &nbsp; if os.path.exists(RAG_PATH):
&nbsp; &nbsp; &nbsp; &nbsp; print("å¬å¸åé¨æ°æ®åºå·²å­å¨")
&nbsp; &nbsp; &nbsp; &nbsp; ragdb = FAISS.load_local(RAG_PATH, embeddings, allow_dangerous_deserialization=True)
&nbsp; &nbsp; else:
&nbsp; &nbsp; &nbsp; &nbsp; print("åå»ºå¬å¸åé¨æ°æ®åº")
&nbsp; &nbsp; &nbsp; &nbsp; ragdb = FAISS.from_documents(split_docs, embeddings)
&nbsp; &nbsp; &nbsp; &nbsp; ragdb.save_local(RAG_PATH)
&nbsp; &nbsp; return "\n\n".join(doc.page_content for doc in ragdb.similarity_search(query, k=2))

def run_agent(query:str):

&nbsp; &nbsp; #åå§åæ¨¡å
&nbsp; &nbsp; tool_maps={
&nbsp; &nbsp; &nbsp; &nbsp; "rag_search": rag_search,
&nbsp; &nbsp; &nbsp; &nbsp; "calculator": calculator
&nbsp; &nbsp; }

&nbsp; &nbsp; llm = ChatTongyi(model_name="qwen-plus")
&nbsp; &nbsp; tool_llm = llm.bind_tools(tools=list(tool_maps.values()))

&nbsp; &nbsp; message = [HumanMessage(content=query)]

&nbsp; &nbsp; for i in range(5):
&nbsp; &nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp; print("="*20+"\nç¬¬"+str(i+1)+"è½®\n"+query+"\n"+"="*20)
&nbsp; &nbsp; &nbsp; &nbsp; response = tool_llm.invoke(message)

&nbsp; &nbsp; &nbsp; &nbsp; message.append(response)
&nbsp; &nbsp; &nbsp; &nbsp; print(f"éè¦è°ç¨{len(response.tool_calls)}ä¸ªæ¹æ³")

&nbsp; &nbsp; &nbsp; &nbsp; if not response.tool_calls:
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print("æç»ç»æï¼" + response.content)
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return

&nbsp; &nbsp; &nbsp; &nbsp; for tool_call in response.tool_calls:
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; call_id = tool_call["id"]
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; func_name = tool_call["name"]
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; func_args = tool_call["args"]

&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # å®å¨æ£æ¥ï¼ç¡®ä¿æ¨¡åè°ç¨çå·¥å·ççå­å¨
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if func_name in tool_maps:
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # è¿è¡ Python å½æ°
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tool_func = tool_maps[func_name]
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tool_output = tool_func.invoke(func_args)
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print("å·¥å·è°ç¨ï¼" + func_name + "ï¼åæ°ï¼" + str(func_args) + "ï¼ç»æï¼" + tool_output)
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else:
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tool_output = f"éè¯¯: å·¥å· {func_name} ä¸å­å¨ã"
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; message.append(
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ToolMessage(
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; content=tool_output,
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tool_call_id=call_id,
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; name=func_name,
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )

if __name__ == "__main__":
&nbsp; &nbsp; run_agent("å¬å¸è®¡åæ¯ä»ä¹")
&nbsp; &nbsp; run_agent("å¬å¸çç»è´¹é¢ç®æ¯å¤å°ï¼å¦æé¢ç®é¢ç®æé«46%åå¤å°")
&nbsp; &nbsp; run_agent("ä»å¤©å¤©æ°çå¥½")
</code></pre>
<h3 id="ä»£ç è§£æ">ä»£ç è§£æ</h3>
<p>è¦å®ç°å¤æçå·¥å·è°ç¨ï¼å¿é¡»å®ç°AIçå¤è½®å¯¹è¯ï¼å¨langchainæ¡æ¶ä¸­ï¼æä¾äºå¤§éçpromptæ¨¡æ¿ï¼è®©å¼åèä¸éè¦è¿åº¦æ³ä¸äºåºç¡çpromptå®ç°ã</p>
<p>ä¸é¢ä»£ç çæ§è¡æµç¨å¦ä¸ï¼<br>
<strong>åå§å2ä¸ªå·¥å·å½æ°-&gt;ç»å®LLMä¸å·¥å·-&gt;éè¿å¾ªç¯è¿è¡å¤è½®å¯¹è¯</strong></p>
<h5 id="åå§å2ä¸ªå·¥å·å½æ°">åå§å2ä¸ªå·¥å·å½æ°</h5>
<p>è¿éç<code>rag_search</code>ä¸ä¸ç¯æç« è®²äºå·ä½å®ç°ï¼è¿éå°±ä¸åºè¯äºã</p>
<pre><code class="language-python">@tool
def calculator(expression: str) -&gt; str:
&nbsp; &nbsp; """
&nbsp; &nbsp; è®¡ç®æ°å­¦è¡¨è¾¾å¼ãéè¦ç²¾ç¡®è®¡ç®æ¶ä½¿ç¨ã
&nbsp; &nbsp; åæ°:
&nbsp; &nbsp; &nbsp; &nbsp; expression: æ°å­¦ç®å¼ï¼å¦ "2 + 2" æ "500 * 0.8"ã
&nbsp; &nbsp; è¿å:
&nbsp; &nbsp; &nbsp; &nbsp; str: è®¡ç®ç»æï¼å¦ "4.0" æ "400.0"ã
&nbsp; &nbsp; """

&nbsp; &nbsp; print(f" &nbsp;[ð ï¸ å·¥å·è°ç¨] è®¡ç®å¨æ­£å¨è®¡ç®: {expression}")
&nbsp; &nbsp; try:
&nbsp; &nbsp; &nbsp; &nbsp; return str(eval(expression))
&nbsp; &nbsp; except Exception as e:
&nbsp; &nbsp; &nbsp; &nbsp; return f"è®¡ç®éè¯¯: {e}"
  
@tool
def rag_search(query: str) -&gt; str:
&nbsp; &nbsp; ......
</code></pre>
<p>å·¥å·å½æ°çæ ¼å¼ï¼ä¸»è¦æ3ä¸ªæ¹é¢ï¼</p>
<ul>
<li><strong>å·¥å·ä¿®é¥°ï¼</strong> å©ç¨<code>@tool</code>ä¿®é¥°å¨ä¿®é¥°</li>
<li><strong>å½æ°çæè¿°ï¼</strong> è¿éæ¾å½æ°çæè¿°ï¼å¤§æ¨¡åéè¿è¿ä¸ªæè¿°å®ä½å·¥å·ï¼å æ­¤è¿é¨å<mark>å¿é¡»è¯¦ç»</mark>ï¼å¯ä»¥åèä¸é¢:
<ol>
<li>å½æ°çæè¿°</li>
<li>å½æ°çåæ°+ä¾å­</li>
<li>å½æ°çè¿å+ä¾å­</li>
</ol>
</li>
<li><strong>å·¥å·çå®ç°ï¼</strong> è¿åå¼è¦æ¯<mark>å­ç¬¦ä¸²</mark><br>
å¦ä¸ï¼</li>
</ul>
<pre><code class="language-python">@tool
def func_name(arg) -&gt; str:
	"""
	æè¿°
	"""
	......
</code></pre>
<h5 id="ç»å®llmä¸å·¥å·">ç»å®LLMä¸å·¥å·</h5>
<p>å·¥å·çç»å®éå¸¸çç®åï¼åªéè¦ç®åç<code>bind_tools</code>ç±»æ¹æ³å°±è¡</p>
<pre><code class="language-python">tool_maps={
&nbsp; &nbsp; &nbsp; &nbsp; "rag_search": rag_search,
&nbsp; &nbsp; &nbsp; &nbsp; "calculator": calculator
&nbsp; &nbsp; }

&nbsp; &nbsp; llm = ChatTongyi(model_name="qwen-plus")
&nbsp; &nbsp; tool_llm = llm.bind_tools(tools=list(tool_maps.values()))
</code></pre>
<h5 id="éè¿å¾ªç¯è¿è¡å¤è½®å¯¹è¯éç¹">éè¿å¾ªç¯è¿è¡å¤è½®å¯¹è¯ï¼éç¹ï¼</h5>
<p>å·¥å·çè°ç¨æµç¨ï¼<br>
<strong>æç¤ºè¯-&gt;LLM-&gt;è¦è°ç¨çå·¥å·-&gt;LLM-&gt;ç»æ</strong></p>
<pre><code class="language-python">	message = [HumanMessage(content=query)]

&nbsp; &nbsp; for i in range(5):
&nbsp; &nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp; print("="*20+"\nç¬¬"+str(i+1)+"è½®\n"+query+"\n"+"="*20)
&nbsp; &nbsp; &nbsp; &nbsp; response = tool_llm.invoke(message)

&nbsp; &nbsp; &nbsp; &nbsp; message.append(response)
&nbsp; &nbsp; &nbsp; &nbsp; print(f"éè¦è°ç¨{len(response.tool_calls)}ä¸ªæ¹æ³")

&nbsp; &nbsp; &nbsp; &nbsp; if not response.tool_calls:
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print("æç»ç»æï¼" + response.content)
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return

&nbsp; &nbsp; &nbsp; &nbsp; for tool_call in response.tool_calls:
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; call_id = tool_call["id"]
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; func_name = tool_call["name"]
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; func_args = tool_call["args"]

&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # å®å¨æ£æ¥ï¼ç¡®ä¿æ¨¡åè°ç¨çå·¥å·ççå­å¨
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if func_name in tool_maps:
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # è¿è¡ Python å½æ°
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tool_func = tool_maps[func_name]
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tool_output = tool_func.invoke(func_args)
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print("å·¥å·è°ç¨ï¼" + func_name + "ï¼åæ°ï¼" + str(func_args) + "ï¼ç»æï¼" + tool_output)
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else:
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tool_output = f"éè¯¯: å·¥å· {func_name} ä¸å­å¨ã"
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; message.append(
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ToolMessage(
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; content=tool_output,
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tool_call_id=call_id,
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; name=func_name,
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )
</code></pre>
<p>å¨è°ç¨<code>bind_tools</code>æ¹æ³åï¼å¤§æ¨¡åçè¿åå¯¹è±¡ä¼å¤åº<code>tool_calls</code>å­æ®µçæ°ç»æ°æ®ï¼ç¨äºå­æ¾éè¦è°ç¨å·¥å·çåæ°ï¼å½æ°åï¼å¨è°ç¨å½æ°åï¼å°è°ç¨å½æ°çç»æå°è£æ<code>ToolMessage</code>ä¼ å¥ï¼åç»§ç»­è°ç¨å¤§æ¨¡åã</p>
<p><mark><strong>æ³¨æï¼å¨è°ç¨LLMæ¶å¯è½LLMä¼ä¸æ­è¦æ±Toolï¼ç±æ­¤å¯è½åçæ­»å¾ªç¯ï¼å æ­¤è¦éå¶å¾ªç¯æ¬¡æ°ã</strong></mark></p>
<h1 id="å®å¨ä¸å®¡æ">å®å¨ä¸å®¡æ</h1>
<h3 id="é£é©è¯ä¼°">é£é©è¯ä¼°</h3>
<p>è¿äºå¹´ï¼aiæç¤ºè¯æ³¨å¥é¢é¢åçï¼æ ¹æ®ä¸é¢çæ¡ä¾ï¼</p>
<pre><code class="language-python">@tool
def calculator(expression: str) -&gt; str:
&nbsp; &nbsp; """
&nbsp; &nbsp; è®¡ç®æ°å­¦è¡¨è¾¾å¼ãéè¦ç²¾ç¡®è®¡ç®æ¶ä½¿ç¨ã
&nbsp; &nbsp; åæ°:
&nbsp; &nbsp; &nbsp; &nbsp; expression: æ°å­¦ç®å¼ï¼å¦ "2 + 2" æ "500 * 0.8"ã
&nbsp; &nbsp; è¿å:
&nbsp; &nbsp; &nbsp; &nbsp; str: è®¡ç®ç»æï¼å¦ "4.0" æ "400.0"ã
&nbsp; &nbsp; """

&nbsp; &nbsp; print(f" &nbsp;[ð ï¸ å·¥å·è°ç¨] è®¡ç®å¨æ­£å¨è®¡ç®: {expression}")
&nbsp; &nbsp; try:
&nbsp; &nbsp; &nbsp; &nbsp; return str(eval(expression))
&nbsp; &nbsp; except Exception as e:
&nbsp; &nbsp; &nbsp; &nbsp; return f"è®¡ç®éè¯¯: {e}"
</code></pre>
<p>LLMå¨è°ç¨è¿ä¸ªå·¥å·æ¶ä½¿ç¨äº<code>eval</code>ï¼è¿å°±é æäºé£é©æ³¨å¥ç¹ï¼ä¸æ³åå­å¯è½å©ç¨è¿ä¸ªæ¼æ´ï¼è·åçµèæéã</p>
<h3 id="ä¿®å¤æè·¯">ä¿®å¤æè·¯</h3>
<p>ä¿®å¤ä¸é¢æ¼æ´ï¼å¯ä»¥åèä»¥ä¸å ä¸ªæè·¯ï¼</p>
<ol>
<li>éè¿æä»¤æç¤ºè¯ï¼è®©LLMå¿½ç¥ï¼å¹¶ç»æ­¢å±é©ä»£ç è°ç¨è¯¥å½æ°</li>
<li>å¨å½æ°ä¸­ç¨æ­£åå¹éå±é©ä»£ç ï¼æè®¾ç½®ç½åå</li>
<li>æ¿æ¢evalå½æ°ï¼å°å¶æ¢ä¸ºæ´å å®å¨çæ¹æ³ï¼å¦æå¨åæ­»è¿ç®</li>
</ol>
<p><strong>å¦æâ¤åæ¬¢â¤æ¬ç³»åæç¨ï¼å°±ç¹ä¸ªå³æ³¨å§ï¼åç»­ä¸å®ææ´æ°~</strong></p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-25 13:28">2026-01-25 13:28</span>&nbsp;
<a href="https://www.cnblogs.com/ClownLMe">ClownLMe</a>&nbsp;
éè¯»(<span id="post_view_count">50</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19529417);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19529417', targetLink: 'https://www.cnblogs.com/ClownLMe/p/19529417', title: 'langchain å¿«éå¥é¨(å)ï¼æ­å»ºå¼ºå¤§çAI Agent' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
        </channel>
        </rss>