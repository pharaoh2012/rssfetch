<?xml version="1.0" encoding="UTF-8" ?>
    <rss version="2.0">
    <channel>
        <title><![CDATA[ ä¸»é¡µ - åå®¢å­ ]]></title>
        <link><![CDATA[ https://www.cnblogs.com/ ]]></link>
        <lastBuildDate>2026-01-27T08:28:06.404Z</lastBuildDate>
        <description><![CDATA[
        ä¸»é¡µ - åå®¢å­ RSS
    ]]></description>
        <language>zh-cn</language>
        <item>
    <title><![CDATA[ PostgreSQLï¼æ°å¢è¯­å¥ï¼ç¹æ®å¤çï¼ON CONFLICT ... DO (UPDATE SET ...)/(NOTHING) ]]></title>
    <link>https://www.cnblogs.com/kakarotto-chen/p/19538290</link>
    <guid>74a2b412024560ab54351cc21dd59c5d</guid>
    <description>
    <![CDATA[ 
        <h2>
            <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/kakarotto-chen/p/19538290" title="åå¸äº 2026-01-27 15:16">
    <span role="heading" aria-level="2">PostgreSQLï¼æ°å¢è¯­å¥ï¼ç¹æ®å¤çï¼ON CONFLICT ... DO (UPDATE SET ...)/(NOTHING)</span>
    

</a>

        </h2>
        <div class="postbody">
            <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="1æ®éçinsert-into">1ãæ®éçinsert into</h2>
<ul>
<li>å¦æï¼ä¸»é®/å¯ä¸å»ºï¼å­å¨ï¼åä¼æ¥é</li>
<li><mark>æ°éæ±ï¼å°±ç®å²çªä¹ä¸æ¥éï¼ç¨å¶ä»å¤çé»è¾</mark></li>
</ul>
<h2 id="2åºæ¬è¯­æ³insert-into--on-conflict--do-update-set-nothing">2ãåºæ¬è¯­æ³ï¼INSERT INTO ... ON CONFLICT (...) DO (UPDATE SET ...)/(NOTHING)ï¼</h2>
<ul>
<li>è¯­æ³å¾</li>
</ul>
<div class="mermaid">flowchart TD
    A[å¼å§: INSERTåçä¸»é®/å¯ä¸å²çª] --&gt; B{å²çªåçæææ¯?}
    B --&gt;|âä¿çæ§æ°æ®ï¼&lt;br&gt;éé»è·³è¿â| C[ä½¿ç¨ ON CONFLICT DO NOTHING]
    B --&gt;|âç¨æ°æ°æ®æ¿æ¢æä¿®æ¹æ§æ°æ®â| D[ä½¿ç¨ ON CONFLICT DO UPDATE SET]
    
    D --&gt; E{éè¦ç²¾ç»æ§å¶å?}
    E --&gt;|âæ¯ï¼åªæ´æ°é¨åå­æ®µâ| F[å¨SETä¸­ä»æå®ç®æ å­æ®µ]
    E --&gt;|âæ¯ï¼éæ»¡è¶³æ¡ä»¶ææ´æ°â| G[æ·»å WHEREå­å¥]
    E --&gt;|âå¦ï¼å¨éè¦çâ| H[ä½¿ç¨EXCLUDED.*ææå®ææå­æ®µ]
</div><ul>
<li>ð ä¸¤ç§æ ¸å¿å¤çé»è¾<br>
ä¸ºäºæ¹ä¾¿ä½ å¯¹æ¯åçè§£ï¼æå°å®ä»¬æ»ç»å¨ä¸è¡¨ä¸­ï¼</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align: left">å¤çé»è¾</th>
<th style="text-align: left">å³é®å­</th>
<th style="text-align: left">æ ¸å¿è¡ä¸ºä¸ç®ç</th>
<th style="text-align: left">ç±»æ¯</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left"><strong>1. éé»æ¾å¼</strong></td>
<td style="text-align: left"><strong><code>DO NOTHING</code></strong></td>
<td style="text-align: left">å¦æå²çªï¼æ°æ®å·²å­å¨ï¼ï¼å°±<strong>ä»ä¹ä¹ä¸å</strong>ï¼éé»å°ä¿çç°ææ°æ®ï¼å¹¶è®©è¯­å¥æåç»æã</td>
<td style="text-align: left"><strong>âæ è§â</strong>ï¼çå°åºéå·²æåæ ·çååï¼å°±å³å®ä¸æ¾äºï¼ç´æ¥ç¦»å¼ã</td>
</tr>
<tr>
<td style="text-align: left"><strong>2. æ´æ°è¦ç</strong></td>
<td style="text-align: left"><strong><code>DO UPDATE SET ...</code></strong></td>
<td style="text-align: left">å¦æå²çªï¼æ°æ®å·²å­å¨ï¼ï¼å°±ç¨<strong>æ°å¼æ´æ°</strong>å·²æçé£æ¡è®°å½ã</td>
<td style="text-align: left"><strong>âç½®æ¢â</strong>ï¼çå°åºéå·²æåæ ·çååï¼å°±ç¨ä½ æéçæ°æ¬¾æ¿æ¢ææ§æ¬¾ã</td>
</tr>
</tbody>
</table>
<ul>
<li>è¯­æ³1ï¼DO UPDATE SET</li>
</ul>
<pre><code class="language-sql">INSERT INTO è¡¨å (å1, å2, ...)
VALUES (å¼1, å¼2, ...)
ON CONFLICT (å²çªå[å¯ä»¥å¤ä¸ª]) 
DO UPDATE SET
    å1 = EXCLUDED.å1,
    å2 = EXCLUDED.å2,
    ...;
</code></pre>
<ul>
<li>è¯­æ³2ï¼DO NOTHING</li>
</ul>
<pre><code class="language-sql">INSERT INTO table_name (column1, column2, ...)
VALUES (value1, value2, ...)
ON CONFLICT (å²çªå[å¯ä»¥å¤ä¸ª])
DO NOTHING;
</code></pre>
<h2 id="3ç¤ºä¾">3ãç¤ºä¾</h2>
<h3 id="31ç®åç¤ºä¾">3.1ãç®åç¤ºä¾</h3>
<pre><code class="language-sql">-- ç¤ºä¾1: DO NOTHING - ç¡®ä¿æ°æ®å¯ä¸ï¼éå¤åå¿½ç¥
-- åºæ¯ï¼æ¶éç¨æ·é®ç®±ï¼åä¸é®ç®±åªè®°å½ç¬¬ä¸æ¬¡åºç°
INSERT INTO user_emails (email, collected_at, source)
VALUES ('alice@example.com', NOW(), 'å®ç½æ½å¥')
ON CONFLICT (email) 
DO NOTHING; -- å¦æé®ç®±å·²å­å¨ï¼åéé»è·³è¿ï¼ä¸æ¥é

-- ç¤ºä¾2: DO UPDATE SET - ç¨ææ°ä¿¡æ¯è¦çæ§è®°å½
-- åºæ¯ï¼æ´æ°ç¨æ·çæåç»å½ç¶æ
INSERT INTO user_sessions (user_id, last_login_ip, last_login_time, login_count)
VALUES (123, '192.168.1.100', NOW(), 1)
ON CONFLICT (user_id) 
DO UPDATE SET
    last_login_ip = EXCLUDED.last_login_ip, -- ä½¿ç¨æ¬æ¬¡å°è¯æå¥çæ°IP
    last_login_time = EXCLUDED.last_login_time, -- æ´æ°æ¶é´
    login_count = user_sessions.login_count + 1; -- å¨åææ¬¡æ°ä¸ç´¯å 
</code></pre>
<h3 id="32on-conflict-å¤åç»åå¯ä¸çº¦æç¤ºä¾">3.2ãON CONFLICT å¤åç»åå¯ä¸çº¦æç¤ºä¾</h3>
<p><strong>åºæ¯è¯´æ</strong><br>
åè®¾æä»¬æä¸ä¸ª<strong>å­¦çéè¯¾è®°å½è¡¨</strong>ï¼è®¾è®¡é»è¾æ¯ï¼</p>
<ul>
<li>åä¸ªå­¦çå¯ä»¥éå¤é¨è¯¾</li>
<li>åé¨è¯¾ç¨å¯ä»¥è¢«å¤ä¸ªå­¦çé</li>
<li>ä½ <strong>ä¸ä¸ªå­¦çä¸è½éå¤éåä¸é¨è¯¾</strong>ï¼å³ <code>(student_id, course_id)</code> ç»åå¿é¡»å¯ä¸ï¼</li>
</ul>
<p><strong>ç¤ºä¾è¡¨ç»æ</strong></p>
<pre><code class="language-sql">CREATE TABLE student_courses (
    -- èªå¢ä¸»é®ï¼ä½ä¸æ¯ä¸å¡å¯ä¸é®
    id SERIAL PRIMARY KEY,
    student_id INT NOT NULL,
    course_id INT NOT NULL,
    selected_at TIMESTAMP DEFAULT NOW(),
    status VARCHAR(20) DEFAULT 'active',

    -- å³é®ï¼ä¸º(student_id, course_id)åå»ºç»åå¯ä¸çº¦æ
    CONSTRAINT unique_student_course UNIQUE (student_id, course_id)
);
</code></pre>
<p><strong>ç¤ºä¾æ°æ®</strong><br>
åè®¾è¡¨ä¸­å·²ææ°æ®ï¼</p>
<table>
<thead>
<tr>
<th>id</th>
<th>student_id</th>
<th>course_id</th>
<th>selected_at</th>
<th>status</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1001</td>
<td>101</td>
<td>2024-01-01</td>
<td>active</td>
</tr>
<tr>
<td>2</td>
<td>1001</td>
<td>102</td>
<td>2024-01-02</td>
<td>active</td>
</tr>
<tr>
<td>3</td>
<td>1002</td>
<td>101</td>
<td>2024-01-03</td>
<td>active</td>
</tr>
</tbody>
</table>
<p><strong>åºæ¯1ï¼å°è¯éå¤éè¯¾ â ä½¿ç¨ DO NOTHING</strong><br>
å­¦ç1001æ³åæ¬¡éæ©è¯¾ç¨101ï¼å·²å­å¨ï¼ï¼æä»¬éé»æç»ï¼</p>
<pre><code class="language-sql">INSERT INTO student_courses (student_id, course_id, selected_at)
VALUES (1001, 101, NOW()) -- (1001,101)ç»åå·²å­å¨ï¼
ON CONFLICT (student_id, course_id) -- æå®ä¸¤åç»åä¸ºå²çªç®æ 
DO NOTHING; -- ä»ä¹é½ä¸åï¼é²æ­¢éå¤éè¯¾

-- ç»æï¼è¯­å¥æ§è¡æåï¼ä½æ²¡ææå¥æ°è¡
-- è¡¨æ°æ®ä¿æä¸å
</code></pre>
<p><strong>åºæ¯2ï¼å°è¯éå¤éè¯¾ â ä½¿ç¨ DO UPDATE SET</strong><br>
å­¦ç1001éå¤éè¯¾101ï¼ä½æä»¬åè®¸æ´æ°éæ©æ¶é´åç¶æï¼</p>
<pre><code class="language-sql">INSERT INTO student_courses (student_id, course_id, selected_at, status)
VALUES (1001, 101, NOW(), 'renewed') -- åæ¬¡å°è¯éæ©å·²éè¯¾ç¨
ON CONFLICT (student_id, course_id) -- æ£æµ(student_id, course_id)ç»åå²çª
DO UPDATE SET
    selected_at = EXCLUDED.selected_at, -- æ´æ°æ¶é´æ³
    status = EXCLUDED.status, -- æ´æ°ç¶æ
    id = student_courses.id -- ä¿æåidä¸åï¼é¿åä¸»é®å²çª
    
RETURNING *; -- è¿åæ´æ°åçè¡

-- ç»æï¼ä¸ä¼åå»ºæ°è¡ï¼èæ¯æ´æ°id=1çè®°å½
-- å°selected_atæ´æ°ä¸ºå½åæ¶é´ï¼statusæ´æ°ä¸º'renewed'
</code></pre>
<p><strong>åºæ¯3ï¼æ··åæåµå¤ç</strong><br>
æ¹éæå¥éè¯¾è®°å½ï¼å¤çåç§å²çªæåµï¼</p>
<pre><code class="language-sql">INSERT INTO student_courses (student_id, course_id, selected_at)
VALUES 
    (1001, 103, NOW()), -- æ°ç»åï¼æå¥æå
    (1001, 101, NOW()), -- å·²å­å¨ç»åï¼è§¦åON CONFLICT
    (1002, 102, NOW())  -- æ°ç»åï¼æå¥æå
ON CONFLICT (student_id, course_id)
DO UPDATE SET
    selected_at = EXCLUDED.selected_at,
    status = 'refreshed'
RETURNING student_id, course_id, selected_at;
</code></pre>
<p><strong>è¾åºç»æå¯è½ï¼</strong></p>
<pre><code> student_id | course_id |       selected_at       
------------+-----------+-------------------------
       1001 |       103 | 2024-06-15 10:30:00.000  -- æ°æå¥
       1001 |       101 | 2024-06-15 10:30:00.000  -- æ´æ°ï¼å²çªå¤çï¼
       1002 |       102 | 2024-06-15 10:30:00.000  -- æ°æå¥
</code></pre>
<h3 id="33å¶ä»å¤åå¯ä¸çº¦æç¤ºä¾">3.3ãå¶ä»å¤åå¯ä¸çº¦æç¤ºä¾</h3>
<p>ç¤ºä¾1ï¼ä¼è®®å®¤é¢è®¢ç³»ç»</p>
<pre><code class="language-sql">-- ç¡®ä¿åä¸ä¼è®®å®¤å¨åä¸æ¶é´æ®µä¸è¢«éå¤é¢è®¢
-- å¯ä¸çº¦æï¼(room_id, date, time_slot)
INSERT INTO room_bookings (room_id, date, time_slot, booker_name)
VALUES (101, '2024-06-20', '09:00-10:00', 'å¼ ä¸')
ON CONFLICT (room_id, date, time_slot)
DO NOTHING; -- æ¶é´æ®µå²çªåç´æ¥æç»
</code></pre>
<p><strong>ç¤ºä¾2ï¼ç¨æ·-äº§åè¯åè¡¨</strong></p>
<pre><code class="language-sql">-- ç¡®ä¿ä¸ä¸ªç¨æ·å¯¹åä¸äº§ååªè½è¯åä¸æ¬¡
-- å¯ä¸çº¦æï¼(user_id, product_id)
INSERT INTO product_ratings (user_id, product_id, rating, review)
VALUES (5001, 3005, 5, 'éå¸¸å¥½ç¨')
ON CONFLICT (user_id, product_id)
DO UPDATE SET
    rating = EXCLUDED.rating,
    review = EXCLUDED.review,
    rated_at = NOW();
</code></pre>
<p><strong>å³é®è¦ç¹æ»ç»</strong></p>
<ol>
<li><strong>è¯­æ³æ ¼å¼</strong>ï¼<code>ON CONFLICT (column1, column2, ...)</code> ç¨æ¬å·åå«å¤ä¸ªå</li>
<li><strong>çº¦æè¦æ±</strong>ï¼è¿äºåå¿é¡»å·²å®ä¹ç»åå¯ä¸çº¦æï¼å¯ä»¥æ¯å¤åä¸»é®æå¤åå¯ä¸çº¦æï¼</li>
<li><strong>å²çªæ£æµ</strong>ï¼åªæå½<strong>æææå®åçå¼é½å®å¨å¹é</strong>æ¶ï¼æè¢«è®¤ä¸ºæ¯å²çª</li>
<li><strong>å¸¸è§åºæ¯</strong>ï¼å¤å¯¹å¤å³ç³»è¡¨ãæ¶é´-èµæºç»åãç¨æ·-å®ä½å³èè¡¨ç­</li>
</ol>
<p>è¿ç§å¤åçº¦æç¹å«éåå¤ç<strong>ä¸å¡å±é¢çç»åå¯ä¸æ§è¦æ±</strong>ï¼èä¸ä»ä»æ¯ææ¯ä¸çä¸»é®å¯ä¸æ§ã</p>
<h2 id="4ç¹æ®åæ°è§£æå²çªåå¯ä»¥å¤ä¸ª">4ãç¹æ®åæ°è§£æï¼å²çªå[å¯ä»¥å¤ä¸ª]</h2>
<ul>
<li>ON CONFLICT åé¢å¿é¡»æå®ä¸ä¸ªï¼å¯ä¸çº¦æï¼ä¸»é®ä¹å¯ä»¥ï¼å­æ®µ
<ul>
<li>å¤ä¸ªå­æ®µå¯ä¸ä¹å¯ä»¥</li>
</ul>
</li>
</ul>
<p><strong>å³é®æºå¶</strong>ï¼</p>
<ul>
<li>
<p><strong>å²çªç®æ </strong>ï¼<code>ON CONFLICT</code> åé¢å¿é¡»æå®ä¸ä¸ª<strong>å¯ä¸çº¦æ</strong>ï¼éå¸¸æ¯ä¸»é®æå¯ä¸ç´¢å¼ãå½æå¥çæ°æ®å¨è¿ä¸ªçº¦æä¸ä¸å·²ææ°æ®å²çªæ¶ï¼å°±ä¼è§¦å <code>UPDATE</code> æä½ã</p>
</li>
<li>
<p><strong>çº¦æè¦æ±ï¼è¿äºåå¿é¡»å·²å®ä¹ç»åå¯ä¸çº¦æï¼å¯ä»¥æ¯å¤åä¸»é®æå¤åå¯ä¸çº¦æï¼</strong></p>
</li>
<li>
<p><strong>EXCLUDED ä¼ªè¡¨</strong>ï¼å¨ <code>DO UPDATE SET</code> å­å¥ä¸­ï¼ä½ å¯ä»¥ä½¿ç¨ <code>EXCLUDED.åå</code> æ¥å¼ç¨<strong>æ¬æ¬¡å°è¯æå¥ä½åçäºå²çªçé£äºå¼</strong>ï¼è¿æ¯å®ç°âç¨æ°å¼è¦çæ§å¼âçå³é®ã</p>
</li>
</ul>
<h2 id="returningåæ°è§ä¸ç¯">RETURNINGåæ°ï¼è§ä¸ç¯</h2>

</div>
<div class="clear"></div>

        </div>
        <p class="postfoot">
            posted on 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-27 15:16">2026-01-27 15:16</span>&nbsp;
<a href="https://www.cnblogs.com/kakarotto-chen">C_C_èå­</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19538290);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19538290', targetLink: 'https://www.cnblogs.com/kakarotto-chen/p/19538290', title: 'PostgreSQLï¼æ°å¢è¯­å¥ï¼ç¹æ®å¤çï¼ON CONFLICT ... DO (UPDATE SET ...)/(NOTHING)' })">ä¸¾æ¥</a>

        </p>
     ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ spring boot3--èªå¨éç½®ä¸æå¨éç½® ]]></title>
    <link>https://www.cnblogs.com/alineverstop/p/19537574</link>
    <guid>9ff822068362e07855fc8610b6b6725e</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/alineverstop/p/19537574" title="åå¸äº 2026-01-27 11:50">
    <span role="heading" aria-level="2">spring boot3--èªå¨éç½®ä¸æå¨éç½®</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="springbootèªå¨éç½®">springbootèªå¨éç½®</h1>
<p>èªå¨éç½®äºå¤§éç»ä»¶ï¼éç½®ä¿¡æ¯å¯ä»¥å¨application.propertiesæä»¶ä¸­ä¿®æ¹ã</p>
<p>å½æ·»å äºç¹å®çStarter POMåï¼springbootä¼æ ¹æ®ç±»è·¯å¾ä¸çjaråæ¥èªå¨éç½®beanï¼æ¯å¦ï¼springbootåç°ç±»è·¯å¾ä¸çMyBatisç¸å³ç±»ï¼springbootä¼èªå¨éç½®MyBatisç¸å³çbeanï¼ã</p>
<p>springbootä½¿ç¨é»è®¤éç½®æ¥è®¾ç½®è¿äºåè½ï¼å¼åäººåä¹å¯ä»¥èªå®ä¹éç½®æ¥è¦çé»è®¤éç½®ã</p>
<h2 id="è¿äºéç½®ä¿¡æ¯å¦ä½çæç">è¿äºéç½®ä¿¡æ¯å¦ä½çæçï¼</h2>
<p>éè¿@ConfigurationPropertiesæ³¨è§£å°éç½®ä¿¡æ¯æ³¨å¥å°ç»ä»¶ä¸­çå±æ§ç±»çãå±æ§ç±»ä¸è¬ä»¥Propertiesç»å°¾ãæ¯å¦tomcatç»ä»¶çServerPropertiesç±»ï¼å°±æ¯å°éç½®ä¿¡æ¯ä¸­serverå¼å¤´çéç½®æ³¨å¥å°å±æ§ä¸­ï¼æ¯å¦server.port=8080ä¼è¢«ç»å®å°å±æ§ä¸­</p>
<pre><code class="language-java">@ConfigurationProperties("server")
public class ServerProperties {
    private @Nullable Integer port;
    private @Nullable InetAddress address;
  .....
}
</code></pre>
<h2 id="èªå¨éç½®æ¯æéå è½½ç">èªå¨éç½®æ¯æéå è½½ç</h2>
<p>springbootæä¾å¾å¤èªå¨éç½®ç±»ï¼è¿äºèªå¨éç½®ä¸æ¯å¨é¨çæï¼å®æ¯æéå è½½çï¼å¯¼å¥äºåªä¸ªå¯å¨å¨ï¼åè¯¥å¯å¨å¨å¯¹åºçéç½®ç±»æä¼è¢«å è½½ã</p>
<p>ä»»ä½å¯å¨å¨é½ä¼å³èä¸ä¸ªå¯å¨å¨ï¼spring-boot-Starterï¼å®æ¯springbootæ¡æ¶ææ ¸å¿çå¯å¨å¨ã</p>
<p>spring-boot-Starteråå³èå¼å¥spring-boot-autoä»figureãææçèªå¨éç½®ç±»é½å¨è¿éã</p>
<p>èªå¨éç½®ç±»ç¨æ¥åå»ºç¸åºçç»ä»¶ã</p>
<h2 id="æéå è½½å¦ä½å®ç°">æéå è½½å¦ä½å®ç°ï¼</h2>
<p>ä½¿ç¨æ¡ä»¶æ³¨è§£å¯ä»¥å®ç°æéå è½½ã</p>
<p>æ¡ä»¶æ³¨è§£åºäºæäºæ¡ä»¶å³å®æ¯å¦åºè¯¥åå»ºä¸ä¸ªbeanãè¿äºæ³¨è§£éå¸¸ç¨å¨èªå¨éç½®ç±»ä¸ï¼ä»¥ç¡®ä¿åªæå¨ç¹å®æ¡ä»¶æ»¡è¶³æ¶æä¼åºç¨ç¸åºçéç½®ã</p>
<p>æ¡ä»¶æ³¨è§£å¯ä»¥ç¨å¨ç±»ä¸ï¼ä¹å¯ä»¥ç¨å¨æ¹æ³ä¸ã</p>
<p>å¸¸è§çæ¡ä»¶æ³¨è§£æï¼</p>
<ul>
<li>@ConditionalOnClass æå®ç±»å­å¨æ¶æåå»ºbean</li>
<li>@ConditionalOnMissingClass æå®ç±»ä¸å­å¨æ¶æåå»ºbean</li>
<li>@ConditionalOnBean å®¹å¨ä¸­å­å¨æå®beanæ¶æåå»ºbean</li>
<li>@ConditionalOnMissingBean å®¹å¨ä¸­ä¸å­å¨æå®beanæ¶æåå»ºbean</li>
<li>@ConditionalOnProperty éç½®æä»¶ä¸­å­å¨æå®å±æ§æ¶ï¼æåå»ºbean</li>
<li>@ConditionalOnResource æå®èµæºå­å¨æ¶æåå»ºbean</li>
<li>@ConditionalOnWebApplication åºç¨ç¨åºæ¯Webåºç¨æ¶æåå»ºbean</li>
<li>@ConditionalOnNotWebApplication åºç¨ç¨åºä¸æ¯Webåºç¨æ¶æåå»ºbean</li>
</ul>
<h2 id="ä¿®æ¹é»è®¤çåæ«æè§å">ä¿®æ¹é»è®¤çåæ«æè§å</h2>
<p>ä¿®æ¹æ«æè§åæ2ç§æ¹å¼ï¼</p>
<p>å¨ä¸»å¥å£ç±»ä¸æ·»å ä»¥ä¸æ³¨è§£çä»»æä¸ä¸ªé½å¯ä»¥ä¿®æ¹åæ«æè§åï¼æ«æcomååå¶å­å­åï¼</p>
<ol>
<li>
<pre><code class="language-java">@ComponentScan("com")
</code></pre>
</li>
<li>
<pre><code class="language-java">@SpringBootApplication(scanBasePackages = "com")
</code></pre>
</li>
</ol>
<h1 id="èªå¨éç½®çå®ç°åç">èªå¨éç½®çå®ç°åç</h1>
<ol>
<li>
<p>ç¨åºä»mainæ¹æ³å¼å§æ§è¡ï¼ä¸»å¥å£ç±»ä¸ä½¿ç¨@SpringBootApplicationè¿è¡æ æ³¨</p>
</li>
<li>
<p>@SpringBootApplicationæ¯å¤åæ³¨è§£ï¼ä»£è¡¨ä»¥ä¸ä¸ä¸ªæ³¨è§£çåè½</p>
<p>a. @SpringBootConfiguration:å®è¢«@Configurationæ æ³¨ãè¡¨æä¸»å¥å£ç±»æ¯ä¸ä¸ªéç½®ç±»ï¼æ­¤æ¶è¯¥éç½®å¼å§å è½½ã</p>
<p>b. @ComponentScan é»è®¤æ«æä¸»å¥å£ç±»æå¨ååå¶å­å­åï¼å æ­¤spring-boot-autoconfigure èªå¨éç½®ç±»æ¯æ æ³å è½½çï¼é£ä¹è¿äºèªå¨éç½®ç±»åæ¯æä¹çæçå¢ï¼</p>
<p>c. <strong>@EnableAutoConfiguration è¯¥æ³¨è§£çä½ç¨å°±æ¯å¯ç¨èªå¨éç½®</strong></p>
</li>
<li>
<p>@EnableAutoConfiguration  è¢«@Import({AutoConfigurationImportSelector.class})æ æ³¨</p>
</li>
</ol>
<p>â        @Import({AutoConfigurationImportSelector.class})çä½ç¨æ¯å°AutoConfigurationImportSelectorä½ä¸ºä¸ä¸ªbeanå è½½å°Iocå®¹å¨ä¸­</p>
<p>â        è¿ä¸ªbeançä½ç¨æ¯ï¼è´è´£æ¶éåéæ©ææç¬¦åæ¡ä»¶çèªå¨éç½®ç±»ã</p>
<h2 id="æ»ç»">æ»ç»</h2>
<ol>
<li>è¿è¡ç¯å¢åå¤é¶æ®µ
<ul>
<li>å¼å¥Webå¯å¨å¨</li>
<li>æç»ä¼ éå¼å¥äºèªå¨éç½®çjarå</li>
<li>èªå¨éç½®çjaråä¸­æ152ä¸ªèªå¨éç½®ç±»ï¼å°æ­¤è¿è¡ç¯å¢åå¤å®æ¯</li>
</ul>
</li>
<li>è¿è¡é¶æ®µ
<ul>
<li>@EnableAutoConfiguration  å¯ç¨èªå¨éç½®ï¼å°152ä¸ªèªå¨éç½®ç±»å¨é¨å è½½å°Iocå®¹å¨ä¸­ãç¶åæ ¹æ®å¼ååºæ¯ç­éåºå¿é¡»å¾èªå¨éç½®ç±»</li>
<li>èªå¨éç½®ç±»å è½½äºå¾å¤ç»ä»¶</li>
<li>æ¯ä¸ªç»ä»¶éè¦çæ°æ®æ¥èªå±æ§ç±»</li>
<li>å±æ§ç±»çå±æ§æ¥èªéç½®æä»¶</li>
</ul>
</li>
</ol>
<p>æ»ä¹ä¸å¥è¯ãå¯¼å¥å¯å¨å¨ï¼ä¿®æ¹éç½®æä»¶ãå°±å¯ä»¥å®æå¯¹åºåè½çå¼åã</p>
<h1 id="springmvcéç½®">springmvcéç½®</h1>
<pre><code class="language-properties"># è®©springbootçéæèµæºå¤çå¤±æ
spring.web.resources.add-mappings=false
# éç½®éæèµæºçè®¿é®URL
spring.mvc.static-path-pattern=/**
#  éæèµæºæä»¶å­å¨ä½ç½®é»è®¤éç½®
spring.web.resources.static-locations=classpath:/META-INF/resources/, classpath:/resources/, classpath:/static/, classpath:/public/

</code></pre>
<p>springbootå¯¹éæèµæºæ¯å¦ä½å¤ççï¼</p>
<p>ä»ä¹æ ·çURL ï¼è®¿é®åªä¸ªä½ç½®ä¸çèµæºæä»¶ï¼</p>
<h2 id="webjars">webjars</h2>
<p>webjarsæ¯ç°å¨ååç«¯åç¦»ä¸­æ¯è¾éè¦çä¸ç§éæèµæºæåæ¹å¼ã</p>
<p>webjarsæ¯ä¸ç§å¸¸ç¨çåç«¯åºï¼å¦jQueryï¼æåæjaråçå½¢å¼ï¼æ¹ä¾¿å¨javaç¨åºä¸­ä½¿ç¨ã</p>
<p>webjarsæä¾äºä¸ç§æ ååçæ¹å¼æ¥ç®¡çåç«¯åºï¼ä½¿å¶æ´å®¹æéæå°javaé¡¹ç®ä¸­ï¼å¹¶ä¸å¯ä»¥å©ç¨Mavençä¾èµç®¡çåè½ã</p>
<pre><code class="language-xml">&lt;!--        webjars,å°åç«¯åºææjarå--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.webjars.npm&lt;/groupId&gt;
            &lt;artifactId&gt;vue&lt;/artifactId&gt;
            &lt;version&gt;3.5.12&lt;/version&gt;
        &lt;/dependency&gt;
</code></pre>
<p>é»è®¤è§åæ¯ï¼å½è¯·æ±è·¯å¾æ¯/wbjars/**,åä¼å»classpath:/MEAT-INF/resources/webjars/æ¾ã</p>
<h2 id="éæèµæºç¼å­å¤ç">éæèµæºç¼å­å¤ç</h2>
<p>éæèµæºç¼å­æ¯ææµè§å¨çç¼å­è¡ä¸ºï¼æµè§å¨å¯ä»¥ç¼å­ï¼jsãCSSãå¾çãå£°é³ãè§é¢ï¼å°æµè§å¨ä¸­ï¼ä¸ä¸æ¬¡ç¨æ·è®¿é®åæ ·çèµæºå°±ç´æ¥ä»ç¼å­ä¸­è·åï¼ä¸åä»æå¡å¨è·åï¼è¿æ ·è½åå°æå¡å¨ååï¼æé«ç¸åºæçã</p>
<p>å¯ä»¥éè¿éç½®æ¥ä¿®æ¹é»è®¤çç¼å­æºå¶ã</p>
<pre><code class="language-properties">ï¼éæèµæºç¼å­è®¾ç½®
ï¼ç¼å­æææè®¾ç½®
spring.web.resources.cache.period=3600
# ç¼å­æ§å¶è®¾ç½®
spring.web.resources.cache.cachecontrol.max-age=20
# æ¯å¦å¯ç¨æåä¸æ¬¡ä¿®æ¹æ¶é´çæ¯å¯¹
spring.web.resources.cache.use-last-modified=true
</code></pre>
<h2 id="éæindexhtmlçæ¯æ">éæindex.htmlçæ¯æ</h2>
<p>springä¼èªå¨å¤çä½äºéæèµæºç®å½ä¸çindex.htmlï¼æä»¶åå¿é¡»æ¯index.htmlï¼ï¼ä½¿å¶æä¸ºåºç¨ç¨åºçä¸»é¡µã</p>
<p>æ³¨æï¼æ­¤æ¶ä¸è½éç½®éæèµæºè®¿é®urlï¼spring.mvc.static-path-patternï¼ï¼å¿é¡»ä½¿ç¨é»è®¤çéç½®</p>
<h2 id="faviconico">favicon.ico</h2>
<p>å°favicon.icoæ¾å¨éæèµæºæ ¹ç®å½ä¸ï¼å°±ä¼èªå¨çæã</p>
<h1 id="spring-bootçwebæå¨éç½®éæèµæºå¤ç">spring bootçwebæå¨éç½®ï¼éæèµæºå¤çï¼</h1>
<h2 id="ç¼åä»£ç çæ¹å¼">ç¼åä»£ç çæ¹å¼</h2>
<h3 id="ç¬¬ä¸ç§æ¹å¼-å®ç°webmvcconfigureræ¥å£">ç¬¬ä¸ç§æ¹å¼ å®ç°WebMvcConfigureræ¥å£</h3>
<pre><code class="language-java">// æ·»å è¿ä¸ªæ³¨è§£åï¼è¡¨ç¤ºä¸åä½¿ç¨springbootæä¾çé»è®¤éç½®
// @EnableWebMvc
@Configuration
public class WebConfig implements WebMvcConfigurer {
    
    // éæèµæºå¤çéè¦éåçæ¹æ³
    @Override
    public void addResourceHandlers(ResourceHandlerRegistry registry) {
        // ä½¿ç¨æ³¨åå¨registry ç»å® pathPatterns ä»¥åçå®çéæèµæºæä»¶å­å¨è·¯å¾
        registry.addResourceHandler("/abc/**") // éç½®è·¯å¾è®¿é®æ¨¡å¼
                .addResourceLocations("classpath:/static1/", "classpath:/static2/", "classpath:/static3/"); // éç½®éæèµæºè·¯å¾
    }
}
</code></pre>
<h3 id="ç¬¬äºç§æ¹å¼">ç¬¬äºç§æ¹å¼</h3>
<pre><code class="language-java">@Configuration
public class WebConfig2 {

    @Bean
    public WebMvcConfigurer addResourceHandlers() {
        return new WebMvcConfigurer() {
            @Override
            public void addResourceHandlers(ResourceHandlerRegistry registry) {
                registry.addResourceHandler("/abc/**") // éç½®è·¯å¾è®¿é®æ¨¡å¼
                        .addResourceLocations("classpath:/static1/", "classpath:/static2/", "classpath:/static3/"); // éç½®éæèµæºè·¯å¾
            }
        };
    }
}
</code></pre>
<h1 id="webè¯·æ±çè·¯å¾å¹é">webè¯·æ±çè·¯å¾å¹é</h1>
<pre><code class="language-properties"># åç«¯è¯·æ±çurl å¹éå°controllerä¸­çæä¸ªæ¹æ³
# ä½¿ç¨anté£æ ¼çè·¯å¾å¹éè§åï¼é»è®¤å¼æ¯path_pattern_matcher
# path_pattern_matcherå¼å®¹ä¸æ¯æanté£æ ¼
# å¨anté£æ ¼ä¸­** å¯ä»¥åºç°å¨ä»»ä½ä½ç½®ï¼ä½å¨path_pattern_matcheré£æ ¼ä¸­ï¼** åªè½åºç°å¨æ«å°¾
# spring6 ä¸çanté£æ ¼ ** ä¹åªè½åºç°å¨æ«å°¾
spring.mvc.pathmatch.matching-strategy=ant_path_matcher
</code></pre>

</div>
<div id="MySignature" role="contentinfo">
    <p>æ¬ææ¥èªåå®¢å­ï¼ä½èï¼<a href="https://www.cnblogs.com/alineverstop/" target="_blank">NE_STOP</a>ï¼è½¬è½½è¯·æ³¨æåæé¾æ¥ï¼<a href="https://www.cnblogs.com/alineverstop/p/19537574" target="_blank">https://www.cnblogs.com/alineverstop/p/19537574</a></p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-27 11:50">2026-01-27 11:50</span>&nbsp;
<a href="https://www.cnblogs.com/alineverstop">NE_STOP</a>&nbsp;
éè¯»(<span id="post_view_count">29</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19537574);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19537574', targetLink: 'https://www.cnblogs.com/alineverstop/p/19537574', title: 'spring boot3--èªå¨éç½®ä¸æå¨éç½®' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ Agent Skills å»çå¼æç¨ï¼26 å¹´æç« AI ææ¯å°±è¿ï¼ ]]></title>
    <link>https://www.cnblogs.com/yupi/p/19537546</link>
    <guid>b7d77fb940e352289ea29127f54a4e28</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/yupi/p/19537546" title="åå¸äº 2026-01-27 11:47">
    <span role="heading" aria-level="2">Agent Skills å»çå¼æç¨ï¼26 å¹´æç« AI ææ¯å°±è¿ï¼</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        <img src="https://img2024.cnblogs.com/blog/2225420/202601/2225420-20260127105356424-1456834479.png" alt="Agent Skills å»çå¼æç¨ï¼26 å¹´æç« AI ææ¯å°±è¿ï¼" class="desc_img">
        Agent Skills ä¸ä»ä»æ¯ä¸ªææ¯æ¦å¿µï¼æ´æ¯ä¸ç§æ°çå·¥ä½æ¹å¼ãä½ å¯ä»¥æå®èå¥å°èªå·±çæ¥å¸¸å·¥ä½ä¸­ï¼æ¯å¦æéå¤çä»»å¡å°è£ææè½ãæå¢éçæä½³å®è·µåºåææè½ï¼è®© AI çæ­£æä¸ºä½ çå¾åå©æã
    </div>
<div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p class="md-end-block md-heading"><span class="md-plain">ä½ æ¯å°é¿å·´ï¼æ­£å¨ç¨ AI å¼åç½ç«ã</span></p>
<p class="md-end-block md-p"><span class="md-plain">ä¸ºäºè®© AI çæçæææ´å¥½ï¼ä½ åè¯ AIï¼</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">çé¢ä¸è¦ä½¿ç¨èç´«æ¸åè²</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">ä¸è¦çæä¸å¤§å æ²¡ç¨çææ¡£</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">ä½ è¦éµå¾ªå¬å¸çä»£ç è§è</span></p>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-plain">é¿å·´é¿å·´ï¼æ´æ´æ´æ´å ç¾å­ã</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769306620114-3ddb877f-7e14-4e89-abbe-bcd19c33c9ff.png"><img data-src="https://pic.yupi.icu/1/1769306620114-3ddb877f-7e14-4e89-abbe-bcd19c33c9ff.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ä¹åæ¯æ¬¡å¼åç½ç«æ¶ï¼ä½ é½è¦åè¿ä¹ä¸æ®µåè­åé¿çæç¤ºè¯ï¼å¤ªéº»ç¦äºï¼</span></p>
<p class="md-end-block md-p"><span class="md-plain">äºæ¯èªæçä½ å¼å§æ³åæ³ã</span></p>
<p class="md-end-block md-p"><span class="md-plain">åæå¸¸ç¨çæç¤ºè¯ä¿å­å°åç¬çæä»¶ï¼æ¯å¦ <span class="md-pair-s"><code>prompts.md</code><span class="md-plain">ï¼ï¼æ¯æ¬¡æå¨æåç» AIã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769306653314-5b3a0f47-eff0-4c1c-9b9c-26139abfee80.png"><img data-src="https://pic.yupi.icu/1/1769306653314-5b3a0f47-eff0-4c1c-9b9c-26139abfee80.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ç¶ååå»ºäºèµæºæä»¶å¤¹ï¼æå¬å¸çä»£ç è§èãè®¾è®¡ç´ æé½å¡è¿å»ï¼åè¯ AI åèè¿äºåã</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769306679682-3f1a3eae-893e-4860-b97d-c7f91b111a8b.png"><img data-src="https://pic.yupi.icu/1/1769306679682-3f1a3eae-893e-4860-b97d-c7f91b111a8b.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">æ¥çä½ è¿åäºä¸äºèæ¬ï¼è®© AI çæä»£ç åèªå¨æ§è¡æ ¼å¼åãè¿è¡æµè¯ãæäº¤ä»£ç å° Gitã</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769306691846-4dcf892d-1969-40ae-8e73-b7c5c5c5d018.png"><img data-src="https://pic.yupi.icu/1/1769306691846-4dcf892d-1969-40ae-8e73-b7c5c5c5d018.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">æåæååä¸ª <span class="md-pair-s"><code>AGENTS.md</code><span class="md-plain"> æä»¶ï¼æææè§èåå·¥ä½æµç¨é½åè¿å»ï¼è®© AI èªå¨è¯»åã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-plain">ä½ æ²¾æ²¾èªåï¼å¿å¿ï¼ä¿ºè¿å¥å·¥ä½æµï¼å ªç§°å®ç¾ï¼</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769306725742-e3c9a7e4-f18b-469c-b3d3-78f38ea8a37e.png"><img data-src="https://pic.yupi.icu/1/1769306725742-e3c9a7e4-f18b-469c-b3d3-78f38ea8a37e.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ä½å¾å¿«ï¼ä½ åç°äºé®é¢ï¼éçè§èè¶åè¶å¤ï¼ææ¡£è¶æ¥è¶èè¿ï¼æ¯æ¬¡å¯¹è¯é½è¦å ç¨å¾å¤ AI ä¸ä¸æç©ºé´ï¼æµªè´¹ tokensã</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769306754832-fad954ff-b289-4e02-a714-e5ca7dafc9cc.png"><img data-src="https://pic.yupi.icu/1/1769306754832-fad954ff-b289-4e02-a714-e5ca7dafc9cc.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">äºæ¯ä½ æ¾å°å·ç§° âæ²¡æäººæ¯ä»æ´ä¸æ AIâ çé±¼ç®æ±å©ï¼é¿å·´é¿å·´ï¼ä¿ºè¿è½åååâ¦â¦</span></p>
<p class="md-end-block md-p"><span class="md-plain">é±¼ç®ï¼ä¸æ¯æ Agent Skills ä¹ï¼ä¸ºå¥ä¸ç´æ¥ç¨ï¼</span></p>
<p class="md-end-block md-p"><span class="md-plain">ä½ ä¸è¸æµï¼å¥ç©æå¿ï¼</span></p>
<p class="md-end-block md-p"><span class="md-plain">é±¼ç®ï¼è¿å¯æ¯æè¿ AI åå¿çç«çææ¯ï¼ä¸é¢ææ¥å¸¦ä½ ç©è½¬ Agent Skillsï¼è®©ä½ ç¥éå®æ¯ä»ä¹ãæä¹ç¨ãæä»ä¹é­åãæä¹èªå·±å¼åã</span></p>
<p class="md-end-block md-p"><span class="md-plain">ç¹ä¸ªæ¶èï¼æä»¬å¼å§~</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769306785416-449e5b9d-3742-4973-a947-c88ca4085ec2.png"><img data-src="https://pic.yupi.icu/1/1769306785416-449e5b9d-3742-4973-a947-c88ca4085ec2.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">â­ï¸ æ¨èè§çè§é¢å¨ç»çï¼æ´éä¿ææï¼<span class="md-meta-i-c  md-link"><a href="https://www.bilibili.com/video/BV1T7zzBQEaA/" rel="noopener nofollow"><span class="md-plain">https://bilibili.com/video/BV1T7zzBQEaA</span></a></span></span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h2 class="md-end-block md-heading"><span class="md-plain">ä»ä¹æ¯ Agent Skillsï¼</span></h2>
<p class="md-end-block md-p"><span class="md-plain">Agent Skills æ¯ Anthropic æ¨åºç <span class="md-meta-i-c  md-link"><a href="https://platform.claude.com/docs/zh-CN/agents-and-tools/agent-skills/overview" rel="noopener nofollow"><span class="md-plain">ä¸å¥å¼æ¾æ å</span></a><span class="md-plain">ï¼ç®çæ¯è®© AI è½å¤å­¦ä¹ ä½¿ç¨åç§ä¸ä¸æè½ï¼èä¸ç¨æ¯æ¬¡é½éå¤è¾å¥æç¤ºè¯ã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769306883902-94de7351-58e4-43ae-86da-e017725d59cc.png"><img data-src="https://pic.yupi.icu/1/1769306883902-94de7351-58e4-43ae-86da-e017725d59cc.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ç®åæ¥è¯´ï¼å®å°±æ¯ç» AI è£å¤ç <span class="md-pair-s "><strong>æè½å</strong><span class="md-plain">ãæè½åéæç²¾å¿è®¾è®¡çæç¤ºè¯ãä»£ç èæ¬ãè¿æåç§èµæºæä»¶ã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769306811193-2ee3acbc-5e36-46c2-8d08-b2682494fb56.png"><img data-src="https://pic.yupi.icu/1/1769306811193-2ee3acbc-5e36-46c2-8d08-b2682494fb56.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">æ AI æ³è±¡æä¸ä¸ªèåºå°ç½ï¼ç»ä»è£ä¸ <span class="md-pair-s"><code>ææ¡£å¤çæè½</code><span class="md-plain">ï¼å®å°±ç«å»ç¥éæä¹çæ PPTãå¤ç Excel è¡¨æ ¼ï¼è£ä¸ <span class="md-pair-s"><code>ä»£ç è§èæè½</code><span class="md-plain">ï¼å®å°±ç¥éæä¹æç§å¬å¸æ ååä»£ç ã</span></span></span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769306900359-2a2b73da-a366-411d-ad3b-2ae61f6b5bc4.png"><img data-src="https://pic.yupi.icu/1/1769306900359-2a2b73da-a366-411d-ad3b-2ae61f6b5bc4.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ä½ æ æ å¤´ï¼ç­ç­â¦â¦ è¿ä¸å°±æ¯ä¿ºå¨åçäºåï¼ææ AI åäºçææ¡£å AI è¦ç¨å°çæä»¶æåææä»¶å¤¹ï¼</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769306918453-1b2d34df-db49-4932-88cd-89eec0c9f773.png"><img data-src="https://pic.yupi.icu/1/1769306918453-1b2d34df-db49-4932-88cd-89eec0c9f773.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">é±¼ç®ï¼å·®ä¸å¤ï¼ä½ Anthropic æå®åæäºä¸ä¸ªéç¨æ åï¼èä¸å¨å®ç°åçä¸æä¸äºæ°è±æ ·â¦â¦</span></p>
<p class="md-end-block md-p"><span class="md-plain">ä½ æ¶è¸é¡¿è¶³ï¼å¯æ¶åï¼ä¿ºå·®ç¹å°±æ¹åä¸çäºï¼è¿è½æä»ä¹æ°è±æ ·ï¼</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769306938597-5aa7914a-31fc-4e5b-bb06-38cd97d5dc8e.png"><img data-src="https://pic.yupi.icu/1/1769306938597-5aa7914a-31fc-4e5b-bb06-38cd97d5dc8e.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">é±¼ç®ï¼æåæ¥å¸¦ä½ ç¨ä¸ä¸ Agent Skillsï¼åè·ä½ è¯´è¯´å¶ä¸­çå¥¥ç§ã</span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h2 class="md-end-block md-heading"><span class="md-plain">Agent Skills å¥é¨å®æ</span></h2>
<p class="md-end-block md-p"><span class="md-plain">ç®åå¯¹ Agent Skills æ¯ææå®åçå·¥å·æ¯ Anthropic å®æ¹ç <span class="md-meta-i-c  md-link"><a href="https://claude.com/product/claude-code" rel="noopener nofollow"><span class="md-plain">Claude Code</span></a><span class="md-plain">ï¼æä»¬å°±ä»¥æ­¤ä¸ºä¾ï¼å®è£å¹¶ä½¿ç¨ Skillsã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769306959992-8489754c-6a63-4685-b804-f27836e92df8.png"><img data-src="https://pic.yupi.icu/1/1769306959992-8489754c-6a63-4685-b804-f27836e92df8.png" class="lazyload"></span></p>
<h3 class="md-end-block md-heading"><span class="md-plain">1ãå®è£ Skills æè½</span></h3>
<p class="md-end-block md-p"><span class="md-plain">åæå¼ Claude Code å¹¶è¾å¥å½ä»¤ï¼æ·»å å®æ¹æè½å¸åºï¼</span></p>
<pre class="md-fences md-end-block ty-contain-cm modeLoaded"><span>/plugin marketplace add anthropics/skills</span></pre>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307009465-4e04d585-3f68-4fcb-a3b0-ba43ad70139a.png"><img data-src="https://pic.yupi.icu/1/1769307009465-4e04d585-3f68-4fcb-a3b0-ba43ad70139a.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">è¿å°±åæ¯å¨ä½ ç AI å©æéå¼éäºä¸ä¸ªæè½ååºï¼æ¥ä¸æ¥ä½ å°±å¯ä»¥ä»ååºä¸­è·åæè½äºã</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307026089-70a117da-b18e-4c7d-992b-1d08e30a7a0b.png"><img data-src="https://pic.yupi.icu/1/1769307026089-70a117da-b18e-4c7d-992b-1d08e30a7a0b.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">å¨ Claude Code ä¸­è¾å¥å½ä»¤ï¼å®è£å®æ¹æä¾çæè½åï¼</span></p>
<pre class="md-fences md-end-block ty-contain-cm modeLoaded"><span>/plugin install example-skills@anthropic-agent-skills</span></pre>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307063576-10e2ce68-b5cd-41c7-8d6c-da0781298929.png"><img data-src="https://pic.yupi.icu/1/1769307063576-10e2ce68-b5cd-41c7-8d6c-da0781298929.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">è¿ä¸ª example-skills åå«äºä¸å å®æ¹ç¤ºä¾æè½ï¼åæ¬åç«¯è®¾è®¡ãç½é¡µæµè¯ãå¨å¾å¶ä½ç­ç­ã</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307079120-6aaf2999-fee5-4fdb-a5e3-2ba66824b4de.png"><img data-src="https://pic.yupi.icu/1/1769307079120-6aaf2999-fee5-4fdb-a5e3-2ba66824b4de.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">è£å®ä¹åï¼ä½ å°±å¯ä»¥ç´æ¥è®© AI ä½¿ç¨è¿äºæè½äºã</span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h3 class="md-end-block md-heading"><span class="md-plain">2ãåç«¯è®¾è®¡æè½</span></h3>
<p class="md-end-block md-p"><span class="md-plain">æ¯å¦ä½ è¦åä¸ä¸ªç½ç«ï¼ä»¥åæ²¡è£æè½çæ¶åï¼AI çæçä»£ç åæ¯é£ä¸ªçæçèç´«æ¸åè²ï¼åç¯ä¸å¾ç AI å®¡ç¾ã</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307096370-df6a9ece-2720-4e1d-b725-431eb4e54afa.png"><img data-src="https://pic.yupi.icu/1/1769307096370-df6a9ece-2720-4e1d-b725-431eb4e54afa.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ç°å¨å®è£äº frontend-design è¿ä¸ª <span class="md-pair-s "><strong>æ AI çæä¸ä¸è®¾è®¡æç½ç«</strong><span class="md-plain"> çæè½åï¼ä½ è¾å¥ï¼âå¸®æå¼åä¸ªäººä½åéç½ç«âã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-plain">AI ä¼ä¸»å¨é®ä½ ï¼æåç°ä½ å®è£äºåç«¯è®¾è®¡æè½ï¼éè¦ç¨å®æ¥çææ´å·è®¾è®¡æçé¡µé¢åï¼</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307135496-aa2a1e4e-4e8a-43e5-a138-9a148410b52e.png"><img data-src="https://pic.yupi.icu/1/1769307135496-aa2a1e4e-4e8a-43e5-a138-9a148410b52e.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ç¡®è®¤ä¹åï¼AI ä¼å©ç¨æè½çæä»£ç ï¼åå«èç´«æ¸åï¼çæç¬ç¹é£æ ¼çç²¾ç¾é¡µé¢ã</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307161745-c81ca221-9902-49dd-96de-a99d50a17684.png"><img data-src="https://pic.yupi.icu/1/1769307161745-c81ca221-9902-49dd-96de-a99d50a17684.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">æä»¬ä¸ç¨æ¯æ¬¡é½ç» AI è¾å¥ä¸å¤§å ç¸åçæç¤ºè¯ï¼è£ä¸æ¬¡æè½å°±è¡äºã</span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h3 class="md-end-block md-heading"><span class="md-plain">3ãææ¡£å¤çæè½</span></h3>
<p class="md-end-block md-p"><span class="md-plain">é¤äºä»£ç ç¸å³çæè½ï¼å®æ¹è¿æä¾äºææ¡£å¤çæè½åã</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307180929-3b2d4bcf-c1a7-40e0-831d-336c78b9ccb8.png"><img data-src="https://pic.yupi.icu/1/1769307180929-3b2d4bcf-c1a7-40e0-831d-336c78b9ccb8.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">åæ ·å¨ Claude Code ä¸­è¾å¥ä¸è¡å½ä»¤å®è£ï¼</span></p>
<pre class="md-fences md-end-block ty-contain-cm modeLoaded"><span>/plugin install document-skills@anthropic-agent-skills</span></pre>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307200501-48c05a43-75d0-4cf9-bc4f-3f89554f6295.png"><img data-src="https://pic.yupi.icu/1/1769307200501-48c05a43-75d0-4cf9-bc4f-3f89554f6295.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">è¿ä¸ªæè½åéæ PPT å¶ä½ãWord ææ¡£çæãExcel æ°æ®åæãPDF è§£æç­æè½ã</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307220369-c4c7889b-6ddc-4f29-8247-9fe02af6d3eb.png"><img data-src="https://pic.yupi.icu/1/1769307220369-c4c7889b-6ddc-4f29-8247-9fe02af6d3eb.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">æ¥ä¸æ¥å¦æä½ è®© AI åä¸ª PPTï¼å®ä¼èªå¨è°ç¨ PPT å¶ä½æè½ï¼ç´æ¥çææçå¥½ç PPT æä»¶ï¼å¸®ä½ èçå ä¸ªå°æ¶ã</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769141161384-f52f68b1-9260-4ae2-bf92-f418673660e6.png"><img data-src="https://pic.yupi.icu/1/1769141161384-f52f68b1-9260-4ae2-bf92-f418673660e6.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307245673-c64d081e-09c5-4cee-a3a2-7eaa0e1c98ad.png"><img data-src="https://pic.yupi.icu/1/1769307245673-c64d081e-09c5-4cee-a3a2-7eaa0e1c98ad.png" class="lazyload"></span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h2 class="md-end-block md-heading"><span class="md-plain">æ­ç§ Agent Skills åé¨åç</span></h2>
<p class="md-end-block md-p"><span class="md-plain">ä½ å¥½å¥éï¼å¦ï¼ä¸ºä»ä¹ Skills è½åå°å®è£å³ç¨ï¼æè½åéé¢å°åºæå¥ï¼AI åæ¯æä¹ç¥éè¯¥ç¨åªä¸ªæè½çï¼</span></p>
<p class="md-end-block md-p"><span class="md-plain">é±¼ç®ï¼å¥½é®é¢ã<span class="md-meta-i-c  md-link"><a href="https://agentskills.io/what-are-skills" rel="noopener nofollow"><span class="md-plain">æè½</span></a><span class="md-plain"> å¶å®å°±æ¯ä¸ä¸ªåå« <span class="md-pair-s"><code>SKILL.md</code><span class="md-plain"> æè½è¯´ææä»¶çæä»¶å¤¹ï¼è¿å¯ä»¥åå«å¯æ§è¡èæ¬ãèµæºååèææ¡£ã</span></span></span></span></span></p>
<pre class="md-fences md-end-block ty-contain-cm modeLoaded"><span>my-skill/<br><span>âââ SKILL.md &nbsp; &nbsp; &nbsp; &nbsp; # å¿éï¼æä»¤ååæ°æ®<br><span>âââ scripts/ &nbsp; &nbsp; &nbsp; &nbsp; # å¯éï¼å¯æ§è¡èæ¬<br><span>âââ references/ &nbsp; &nbsp; &nbsp; # å¯éï¼åèææ¡£<br><span>âââ assets/ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # å¯éï¼æ¨¡æ¿åèµæº</span></span></span></span></span></pre>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307275438-55f0f5fb-b429-43cc-9964-c48486af404e.png"><img data-src="https://pic.yupi.icu/1/1769307275438-55f0f5fb-b429-43cc-9964-c48486af404e.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ç±äºæ¯ä¸ªæè½çå¤æåº¦ä¸åï¼ç»æä¹ä¼å­å¨åºå«ãæä»¬å¯ä»¥å¨æ¬å°ç®å½ä¸­æ¾å°å·²å®è£çæè½æä»¶å¤¹ã</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769141068658-ef05e94f-380b-4784-b78c-2c588289832a.png"><img data-src="https://pic.yupi.icu/1/1769141068658-ef05e94f-380b-4784-b78c-2c588289832a.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ä»¥å®æ¹ç PPT å¶ä½æè½ä¸ºä¾ï¼å®çç»ææ¯è¿æ ·çï¼</span></p>
<pre class="md-fences md-end-block ty-contain-cm modeLoaded"><span>skills/pptx/<br><span>âââ SKILL.md &nbsp; &nbsp; &nbsp; &nbsp; # æè½è¯´æä¹¦ï¼å¿éï¼<br><span>âââ ooxml/ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # OOXML ç¸å³èµæº<br><span>âââ scripts/ &nbsp; &nbsp; &nbsp; &nbsp; # å¤çèæ¬<br><span>âââ html2pptx.md &nbsp; &nbsp; # HTML è½¬ PPT è¯´æ<br><span>âââ ooxml.md &nbsp; &nbsp; &nbsp; &nbsp; # OOXML æ ¼å¼è¯´æ<br><span>âââ LICENSE.txt &nbsp; &nbsp; &nbsp; # è®¸å¯è¯</span></span></span></span></span></span></span></pre>
<p class="md-end-block md-p"><span class="md-plain">åå«ä¸ä¸ªæ ¸å¿çæè½è¯´æææ¡£ <span class="md-pair-s"><code>SKILL.md</code><span class="md-plain">ï¼è¿æèæ¬ãåèææ¡£ååç§èµæºæä»¶ã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307298133-872126c8-e0b4-4264-8914-33ddea77c83d.png"><img data-src="https://pic.yupi.icu/1/1769307298133-872126c8-e0b4-4264-8914-33ddea77c83d.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">è frontend-design åç«¯è®¾è®¡æè½åªæä¸ä¸ª <span class="md-pair-s"><code>SKILL.md</code><span class="md-plain"> æä»¶ã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307312566-e868eead-6723-42e1-80ba-fbffd9976cf2.png"><img data-src="https://pic.yupi.icu/1/1769307312566-e868eead-6723-42e1-80ba-fbffd9976cf2.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-pair-s"><code>SKILL.md</code><span class="md-plain"> æä»¶æ¯æ¯ä¸ªæè½çæ ¸å¿ï¼å®åå«ä¸¤ä¸ªå³é®é¨åã</span></span></p>
<p class="md-end-block md-p"><span class="md-plain">ç¬¬ä¸é¨åæ¯ <span class="md-pair-s "><strong>åæ°æ®</strong><span class="md-plain">ï¼ç¨ YAML æ ¼å¼åå¨æä»¶å¼å¤´ï¼</span></span></span></p>
<pre class="md-fences md-end-block ty-contain-cm modeLoaded"><span><span class="cm-def">---<br><span><span class="cm-atom">name<span class="cm-meta">:&nbsp;frontend-design<br><span><span class="cm-atom">description<span class="cm-meta">:&nbsp;çæå·æä¸ä¸è®¾è®¡æçåç«¯ä»£ç ï¼é¿ååç¯ä¸å¾ç AI å®¡ç¾<br><span><span class="cm-def">---</span></span></span></span></span></span></span></span></span></span></pre>
<p class="md-end-block md-p"><span class="md-plain">å¶ä¸­ <span class="md-pair-s"><code>name</code><span class="md-plain"> æ¯æè½çåå­ã<span class="md-pair-s"><code>description</code><span class="md-plain"> æ¯æè½çæè¿°ï¼åè¯ AI ä»ä¹æ¶ååºè¯¥ä½¿ç¨è¿ä¸ªæè½ãæè¿°åå¾è¶æ¸æ°ï¼AI å°±è¶å®¹æå¨åéçæ¶æºè°ç¨å®ã</span></span></span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307333844-a1c504a9-0bf9-41b0-ac0b-364e4edf881d.png"><img data-src="https://pic.yupi.icu/1/1769307333844-a1c504a9-0bf9-41b0-ac0b-364e4edf881d.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ç¬¬äºé¨åæ¯ <span class="md-pair-s "><strong>æä»¤åå®¹</strong><span class="md-plain">ï¼å°±æ¯ä¸å¥ç»è¿ç²¾å¿è®¾è®¡çæç¤ºè¯ï¼æå¯¼ AI å·ä½æä¹åã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-plain">ä»¥ <span class="md-meta-i-c  md-link"><a href="https://github.com/anthropics/skills/blob/main/skills/frontend-design/SKILL.md" rel="noopener nofollow"><span class="md-plain">frontend-design</span></a><span class="md-plain"> æè½ä¸ºä¾ï¼å®çæä»¤åå®¹åæ¬ï¼</span></span></span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">è®¾è®¡æèï¼å¨åä»£ç åï¼ååæäº§åç®çãç¨æ·ç¾¤ä½ãææ¯çº¦æï¼ç¶åéæ©ä¸ä¸ªå¤§èçç¾å­¦æ¹åï¼æç®ãå¤å¤æªæ¥ãå·¥ä¸é£ãææºèªç¶ãå¥¢åç²¾è´ç­ï¼</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">åç«¯ç¾å­¦æåï¼åæ¬å­ä½éæ©ï¼é¿å ArialãInter ç­çå¤§è¡å­ä½ï¼éæ©æä¸ªæ§çç»åï¼ãéè²ä¸»é¢ï¼ä¸»è²è°éé²æç¹ç¼è²ï¼ãå¨æè®¾è®¡ãç©ºé´ææãèæ¯åè§è§ç»è</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">é¿åæåï¼æç¡®ç¦æ­¢ç´«è²æ¸åãç³»ç»å­ä½ãåç¯ä¸å¾çå¸å±ç­ AI å®¡ç¾é·é±</span></p>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307344477-48419e65-53ea-4cfe-a495-f70be84b2afe.png"><img data-src="https://pic.yupi.icu/1/1769307344477-48419e65-53ea-4cfe-a495-f70be84b2afe.png" class="lazyload"></span></p>
<p class="md-end-block md-p">&nbsp;</p>
<p class="md-end-block md-p"><span class="md-plain">ä½ æ äºæ å¤´ï¼å¦ææå¤ä¸ª SKillsï¼AI æä¹ç¥éè¯¥ç¨åªä¸ªæè½å¢ï¼å¦æææ¯ä¸ªæè½è¯´æææ¡£é½å¡ç» AIï¼ä¸æ¯å¾å ç¨ä¸ä¸æä¹ï¼</span></p>
<p class="md-end-block md-p"><span class="md-plain">é±¼ç®ï¼è¿å°±è¦è¯´å° <span class="md-pair-s "><strong>æ¸è¿å¼æ«é²ï¼Progressive Disclosureï¼</strong><span class="md-plain"> è¿ä¸ªæ ¸å¿æºå¶äºã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-plain">å½ä½ è®© AI æ§è¡ä»»å¡æ¶ï¼å®ä¼åæ«ææè½ç®å½ï¼ä½ä¸ä¼æææåå®¹é½å è½½å°ä¸ä¸æä¸­ãèæ¯åªè¯»åæ¯ä¸ªæè½çåæ°æ®ï¼åå­åæè¿°ï¼ï¼åç°æè¿°åä»»å¡ç¸å³ï¼å°±ç¥éè¯¥ç¨è¿ä¸ªæè½äºã</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307378437-dce56ae8-4336-47c1-9ac6-dc39776222c7.png"><img data-src="https://pic.yupi.icu/1/1769307378437-dce56ae8-4336-47c1-9ac6-dc39776222c7.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ç¶åææå®æ´çæè½è¯´æææ¡£è¯»è¿æ¥ï¼æç§éé¢çæä»¤æ§è¡ï¼</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307391204-f81c2a91-e21e-46bb-a49f-205196aa7774.png"><img data-src="https://pic.yupi.icu/1/1769307391204-f81c2a91-e21e-46bb-a49f-205196aa7774.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">å¹¶æ ¹æ®éè¦å è½½æè½åä¸­çå¶ä»èµæºï¼</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307417577-6c55f619-9bf2-43d5-bc76-80f65c3db3c4.png"><img data-src="https://pic.yupi.icu/1/1769307417577-6c55f619-9bf2-43d5-bc76-80f65c3db3c4.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-pair-s "><strong>ç¨å°åªä¸ªæ¥åªä¸ª</strong><span class="md-plain">ï¼æ¢ç²¾åå¹éåèçä¸ä¸æï¼è¿å°±æ¯æ¸è¿å¼æ«é²çç²¾é«ã</span></span></p>
<p class="md-end-block md-p"><span class="md-plain">æä»¥ Agent Skills çæ¬è´¨å°±æ¯ <span class="md-pair-s "><strong>æä¸ä¸ç¥è¯æåæä¸ä¸ªæä»¶å¤¹ï¼è®© AI æéè¯»åå¹¶ä½¿ç¨</strong><span class="md-plain">ã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307432541-5753722e-ba96-404a-b042-c130afb4378f.png"><img data-src="https://pic.yupi.icu/1/1769307432541-5753722e-ba96-404a-b042-c130afb4378f.png" class="lazyload"></span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h2 class="md-end-block md-heading"><span class="md-plain">è·¨å·¥å·ç Agent Skills</span></h2>
<p class="md-end-block md-p"><span class="md-plain">ä½ é®ï¼é¤äº Claude Code ä¹å¤ï¼å¶ä» AI å·¥å·æ¯æ Agent Skills ä¹ï¼ä¿ºå¹³æ¶ç¨ Cursor æ¯è¾å¤â¦â¦</span></p>
<p class="md-end-block md-p"><span class="md-plain">é±¼ç®ï¼å½ç¶è½ï¼<span class="md-meta-i-c  md-link"><a href="https://agentskills.io/" rel="noopener nofollow"><span class="md-plain">Agent Skills</span></a><span class="md-plain"> å·²ç»æä¸ºéç¨æ åï¼CursorãVS CodeãCodex ç­å·¥å·é½æ¯æã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307453878-b670716c-f2c7-4eb4-9986-671a7b42b480.png"><img data-src="https://pic.yupi.icu/1/1769307453878-b670716c-f2c7-4eb4-9986-671a7b42b480.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">Skills çç¤¾åºä¹éå¸¸æ´»è·ï¼ä½ å¯ä»¥å¨ <span class="md-meta-i-c  md-link"><a href="https://www.claudeskill.site/zh/skills" rel="noopener nofollow"><span class="md-plain">Claude Skills Hub å¸åº</span></a><span class="md-plain">ãå¼æºç <span class="md-meta-i-c  md-link"><a href="https://github.com/ComposioHQ/awesome-claude-skills" rel="noopener nofollow"><span class="md-plain">Awesome Claude Skills</span></a><span class="md-plain"> ç­å°æ¹æ¾å°å¾å¤ç°æçæè½ã</span></span></span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307598569-a61f88f7-5b26-41fe-a302-652034ed655c.png"><img data-src="https://pic.yupi.icu/1/1769307598569-a61f88f7-5b26-41fe-a302-652034ed655c.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">æ¯å¦æä¸ªå« <span class="md-meta-i-c  md-link"><a href="https://ui-ux-pro-max-skill.nextlevelbuilder.io/" rel="noopener nofollow"><span class="md-plain">UI UX Pro MAX</span></a><span class="md-plain"> çæè½ç¹å«ç«ï¼ä¸é¨ç¨äºæå AI çè®¾è®¡è½åã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307611502-fa3224d8-9e04-41cd-848a-de9619edf762.png"><img data-src="https://pic.yupi.icu/1/1769307611502-fa3224d8-9e04-41cd-848a-de9619edf762.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ç¨æ³å¾ç®åï¼é¦åæç§ <span class="md-meta-i-c  md-link"><a href="https://github.com/nextlevelbuilder/ui-ux-pro-max-skill" rel="noopener nofollow"><span class="md-plain">å¼æºä»åºææ¡£</span></a><span class="md-plain"> çæå¼ï¼å®è£å®æ¹æä¾çå½ä»¤è¡å·¥å·ï¼</span></span></span></p>
<pre class="md-fences md-end-block ty-contain-cm modeLoaded"><span><span class="cm-builtin">npm&nbsp;install&nbsp;<span class="cm-attribute">-g&nbsp;uipro-cli</span></span></span></pre>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307627168-c682f14b-4517-4325-ad4a-33e88661e714.png"><img data-src="https://pic.yupi.icu/1/1769307627168-c682f14b-4517-4325-ad4a-33e88661e714.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ç¶åè¿å¥å°ä½ çé¡¹ç®ç®å½ä¸ï¼æ ¹æ®ä½¿ç¨ç AI å·¥å·æ§è¡å¯¹åºçå½ä»¤ãæ¯å¦æè¿éç¨ Cursorï¼</span></p>
<pre class="md-fences md-end-block ty-contain-cm modeLoaded"><span>uipro init&nbsp;<span class="cm-attribute">--ai&nbsp;cursor</span></span></pre>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307641070-2138ef02-8f26-460a-8cdd-979c59b725de.png"><img data-src="https://pic.yupi.icu/1/1769307641070-2138ef02-8f26-460a-8cdd-979c59b725de.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">å®ä¼èªå¨ææè½å®è£å° Cursor çéç½®ç®å½éã</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307669797-86215fbf-b9de-436f-9864-460eb307c5c5.png"><img data-src="https://pic.yupi.icu/1/1769307669797-86215fbf-b9de-436f-9864-460eb307c5c5.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">å®è£å®æåï¼å¯ä»¥çå°å®çæä»¶ç»æï¼</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307694431-c4ad6aa0-b559-4ae5-8573-0687948551f2.png"><img data-src="https://pic.yupi.icu/1/1769307694431-c4ad6aa0-b559-4ae5-8573-0687948551f2.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">æ¥ä¸æ¥ï¼å½ä½ è®© AI å¼åä¸ä¸ªç½ç«æ¶ï¼å¯ä»¥ä½¿ç¨ææ å½ä»¤æå¨è§¦åæè½ï¼æèè®© AI èªå¨è¯å«æè½ã</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307707968-1545cef4-b8e2-4bf9-b0a7-98130afc78ba.png"><img data-src="https://pic.yupi.icu/1/1769307707968-1545cef4-b8e2-4bf9-b0a7-98130afc78ba.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">1ï¼AI ä¼æ ¹æ®ä½ çéæ±è¯å«åºäº§åç±»ååéè¦çé¡µé¢ç±»å</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307720984-a6afcae8-a5e8-4577-be7c-8356b42832ee.png"><img data-src="https://pic.yupi.icu/1/1769307720984-a6afcae8-a5e8-4577-be7c-8356b42832ee.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">2ï¼ç¶åè°ç¨ <span class="md-pair-s"><code>search.py</code><span class="md-plain"> æç´¢èæ¬ï¼å¨ data ç®å½éè¿è¡å¤ç»´åº¦æç´¢ï¼æ¾å°éåçéè²ãå­ä½ãå¸å±é£æ ¼</span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307768048-ef58645a-6188-4af7-9865-8033602126f7.png"><img data-src="https://pic.yupi.icu/1/1769307768048-ef58645a-6188-4af7-9865-8033602126f7.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">3ï¼ç»¼åæç´¢ç»æï¼çæå®æ´çè®¾è®¡æ¹æ¡ï¼ä¸»è²è°ãå­ä½ç»åãé´è·è§èç­ï¼</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307782038-59ea2231-b43d-45e3-a39f-6c36b0c7f645.png"><img data-src="https://pic.yupi.icu/1/1769307782038-59ea2231-b43d-45e3-a39f-6c36b0c7f645.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">4ï¼æåï¼åæç§è®¾è®¡æ¹æ¡çæä»£ç </span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307794443-ffc76a7e-24e9-4e4d-b973-ef97285fd32b.png"><img data-src="https://pic.yupi.icu/1/1769307794443-ffc76a7e-24e9-4e4d-b973-ef97285fd32b.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">è¿æ ·ä¸æ¥ï¼çæççé¢æ¢ä¸ä¸åæè®¾è®¡æã</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307819333-fef63881-90b7-4248-8ca7-35354f8a7a7a.png"><img data-src="https://pic.yupi.icu/1/1769307819333-fef63881-90b7-4248-8ca7-35354f8a7a7a.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">AI ä¸éè¦æææè§åé½èä¸æ¥ï¼èæ¯ç¨å°åªä¸ªæ¥åªä¸ªï¼è¿å°±æ¯ Agent Skills çç²¾é«ã</span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h2 class="md-end-block md-heading"><span class="md-plain">åå»ºèªå·±ç Agent Skills</span></h2>
<p class="md-end-block md-p"><span class="md-plain">ç¨äºå¾å¤å«äººçæè½åï¼ä½ äº§çäºä¸ä¸ªå¤§èçæ³æ³ï¼ä¿ºè½ä¸è½æå¬å¸çå¨æ¥æ ¼å¼å°è£æä¸ä¸ªæè½ï¼ä»¥åæ¨èç»æ°æ¥çåäºï¼è¿è½åä¸ªå åé±ï¼å¿å¿å¿~</span></p>
<p class="md-end-block md-p"><span class="md-plain">é±¼ç®ç¬éï¼æç¹å¿ä¸è¥¿ï¼ä½ æç®æä¹åå¢ï¼</span></p>
<p class="md-end-block md-p"><span class="md-plain">ä½ ä¼å¿ä¸ç¬ï¼å½ç¶æ¯åæ¥ç¨åºåææé¿çäºæ ââ å¤å¶ç²è´´ï¼</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307876115-a6e9c6ce-df5a-48c0-9330-120441bd5e28.jpeg"><img data-src="https://pic.yupi.icu/1/1769307876115-a6e9c6ce-df5a-48c0-9330-120441bd5e28.jpeg" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ä¿ºåå¤å¶ä¸ä¸ªå®æ¹çæè½åï¼ä¿®æ¹ç®å½åç§°ä¸ºèªå·±çã</span></p>
<p class="md-end-block md-p"><span class="md-plain">ç¶åä¿®æ¹æè½è¯´æææ¡£ <span class="md-pair-s"><code>SKILL.md</code><span class="md-plain"> çåæ°æ®ãæä»¤åå®¹è¿äºå³é®é¨åã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307911844-3b48f4ab-6aa4-4c96-8bcf-8d30bd1475a3.png"><img data-src="https://pic.yupi.icu/1/1769307911844-3b48f4ab-6aa4-4c96-8bcf-8d30bd1475a3.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ç¤ºä¾ <span class="md-pair-s"><code>SKILL.md</code><span class="md-plain"> æä»¶ï¼</span></span></span></p>
<pre class="md-fences md-end-block ty-contain-cm modeLoaded"><span><span class="cm-hr">---<br><span>name: company-weekly-report<br><span>description: çæç¬¦åå¬å¸è§èçé¡¹ç®å¨æ¥ï¼åå«è¿åº¦æ±æ»ãé®é¢è·è¸ªåä¸å¨è®¡å<br><span><span class="cm-hr">---<br><span><span>â<br><span><span class=" cm-header cm-header1"># å¬å¸å¨æ¥çææè½<br><span><span>â<br><span>å½ç¨æ·è¦æ±çæå¨æ¥æ¶ï¼è¯·æä»¥ä¸æ­¥éª¤æ§è¡ï¼<br><span><span>â<br><span><span class=" cm-header cm-header2">## 1. æ¶éä¿¡æ¯<br><span><span class="cm-block-start cm-variable-2">-&nbsp;<span class="cm-variable-2">è¯¢é®æ¬å¨å®æçä¸»è¦å·¥ä½<br><span><span class="cm-block-start cm-variable-2">-&nbsp;<span class="cm-variable-2">è¯¢é®éå°çé®é¢åè§£å³æ¹æ¡<br><span><span class="cm-block-start cm-variable-2">-&nbsp;<span class="cm-variable-2">è¯¢é®ä¸å¨è®¡å<br><span><span>â<br><span><span class=" cm-header cm-header2">## 2. æ ¼å¼è§è<br><span><span class="cm-block-start cm-variable-2">-&nbsp;<span class="cm-variable-2">ä½¿ç¨å¬å¸èè²ä¸»é¢<br><span><span class="cm-block-start cm-variable-2">-&nbsp;<span class="cm-variable-2">æ é¢ä½¿ç¨å¾®è½¯éé»å ç²<br><span><span class="cm-block-start cm-variable-2">-&nbsp;<span class="cm-variable-2">æ¯ä¸ªæ¨¡åä¸è¶è¿ 5 ä¸ªè¦ç¹<br><span><span>â<br><span><span class=" cm-header cm-header2">## 3. è¾åºæ ¼å¼<br><span><span class="cm-block-start cm-variable-2">-&nbsp;<span class="cm-variable-2">é»è®¤è¾åº Markdown<br><span><span class="cm-block-start cm-variable-2">-&nbsp;<span class="cm-variable-2">å¦é PPTï¼è°ç¨ pptx æè½</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
<p class="md-end-block md-p"><span class="md-plain">æåï¼æå¬å¸ç LogoãPPT æ¨¡æ¿ãæ¥åæ ·ä¾æ¾å¨å­æä»¶å¤¹éå°±è¡äºãå¦å¦åä¹ä¸ç¨æå¿æçå¨æ¥äº~</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307957544-4bcb77d5-71f4-48c5-a51e-a830b7ef4f36.png"><img data-src="https://pic.yupi.icu/1/1769307957544-4bcb77d5-71f4-48c5-a51e-a830b7ef4f36.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">é±¼ç®ï¼ä¸éä¸éï¼ä½å¶å®ææ´ç®åè§èçæ¹æ³ã</span></p>
<p class="md-end-block md-p"><span class="md-plain">å¨åé¢å®è£ç example-skills å®æ¹ç¤ºä¾æè½åéï¼æä¸ä¸ªå« <span class="md-pair-s"><code>Skill Creator</code><span class="md-plain"> çæè½ï¼ä¸é¨ç¨æ¥å¸®ä½ åå»ºæ°æè½ã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307969338-97a16e2a-6581-4215-b399-7aa30f715ad1.png"><img data-src="https://pic.yupi.icu/1/1769307969338-97a16e2a-6581-4215-b399-7aa30f715ad1.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ä½ åªéè¦è· AI è¯´ï¼âå¸®æåå»ºä¸ä¸ªä¸é¨çæå¬å¸å¨æ¥çæè½â</span></p>
<p class="md-end-block md-p"><span class="md-plain">æ¥ä¸æ¥ AI ä¼é®ä½ å ä¸ªé®é¢ï¼ä¸æ­¥ä¸æ­¥åç­å°±å¥½ï¼</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">ä½ å¸æå¨æ¥åå«åªäºä¸»è¦é¨åï¼</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">ä½ å¸æå¨æ¥ä»¥ä»ä¹æ ¼å¼è¾åº?</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">ä½ éå¸¸ä¼å¦ä½ä½¿ç¨è¿ä¸ªå¨æ¥æè½?</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">å¸æå¨æ¥çè¯­è¨é£æ ¼æ¯ä»ä¹?</span></p>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769307998192-27ac24c2-c732-401d-a19e-ebe07086d73b.png"><img data-src="https://pic.yupi.icu/1/1769307998192-27ac24c2-c732-401d-a19e-ebe07086d73b.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">å¾å¿«ï¼ä¸ä¸ªå®æ´çæè½åå°±çæäºï¼ä½ ä¼çå°ä¸ä¸ª <span class="md-pair-s"><code>.skill</code><span class="md-plain"> ä¸ºåç¼çæä»¶ï¼æ¬è´¨ä¸æ¯ä¸ä¸ª zip åç¼©åã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769308022759-0eb5bf27-e953-4a32-85e0-9524c0ff5ab0.png"><img data-src="https://pic.yupi.icu/1/1769308022759-0eb5bf27-e953-4a32-85e0-9524c0ff5ab0.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ä½ å¯ä»¥æå®è§£åå°ä½ çä¸ªäººæè½ç®å½ï¼<span class="md-pair-s"><code>~/.claude/skills/</code><span class="md-plain">ï¼ä¸ï¼ä½ çææé¡¹ç®é½è½ç¨ã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769308081516-c52a79cc-0251-42d4-aaac-f08b1e38ef9e.png"><img data-src="https://pic.yupi.icu/1/1769308081516-c52a79cc-0251-42d4-aaac-f08b1e38ef9e.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769144854626-88c27a17-fa9d-4f6a-ba94-3747d61e0129.png"><img data-src="https://pic.yupi.icu/1/1769144854626-88c27a17-fa9d-4f6a-ba94-3747d61e0129.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">å¦æä½ æ³è®©è¿ä¸ªæè½åªå¨æä¸ªé¡¹ç®çæï¼å¯ä»¥æå®æ¾å°é¡¹ç®ç <span class="md-pair-s"><code>.claude/skills/</code><span class="md-plain"> ç®å½ä¸ï¼å¹¶ä¸å©ç¨ Git åæ­¥ç»é¡¹ç®ç»å¶ä»æåã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769308107094-ea5207a7-e231-45ee-a449-b42e13410f74.png"><img data-src="https://pic.yupi.icu/1/1769308107094-ea5207a7-e231-45ee-a449-b42e13410f74.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769144884089-6766753a-d945-446b-99ac-06dcd041a205.png"><img data-src="https://pic.yupi.icu/1/1769144884089-6766753a-d945-446b-99ac-06dcd041a205.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">æµè¯æ²¡é®é¢åï¼ä½ è¿å¯ä»¥æå®å¼æºå° GitHubï¼æèä¸ä¼ å° <span class="md-meta-i-c  md-link"><a href="https://www.claudeskill.site/zh/skills" rel="noopener nofollow"><span class="md-plain">Claude Skills Hub</span></a><span class="md-plain"> è¿æ ·çç¤¾åºå¹³å°ï¼è®©ææç¨æ·é½è½ç¨ã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769308134560-8cea0cba-cd0f-4610-aff0-38165872b586.png"><img data-src="https://pic.yupi.icu/1/1769308134560-8cea0cba-cd0f-4610-aff0-38165872b586.png" class="lazyload"></span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h2 class="md-end-block md-heading"><span class="md-plain">Skills / MCP / ææ å½ä»¤çåºå«</span></h2>
<p class="md-end-block md-p"><span class="md-plain">ä½ å¼å¿æäºï¼åæ¥å¼åä¸ä¸ª Skills è¿ä¹ç®åï¼ä½æ¯ï¼è¿ç©æå¿è·ä¹åç«çç MCP åææ å½ä»¤æå¥åºå«ï¼</span></p>
<p class="md-end-block md-p"><span class="md-plain">é±¼ç®ï¼å¥½é®é¢ï¼</span></p>
<p class="md-end-block md-p"><span class="md-pair-s "><strong>MCP å°±åç» AI è£ä¸äº âæåç¼çâ</strong><span class="md-plain">ï¼è®© AI è½å¤è¿æ¥å¤é¨å·¥å·åæ°æ®æºï¼æ¯å¦æç´¢ç½é¡µãè¯»åä»£ç ä»åºãæ¥è¯¢æ°æ®åºãéåéè¦è·åæ°æ®ææä½å¤é¨ç³»ç»çåºæ¯ã</span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769308152531-a3770991-fc9c-4c44-b401-12c39a661d73.png"><img data-src="https://pic.yupi.icu/1/1769308152531-a3770991-fc9c-4c44-b401-12c39a661d73.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-pair-s "><strong>è Agent Skills æ´åæ¯ç» AI åäºä¸æ¬ âå·¥ä½æåâ</strong><span class="md-plain">ï¼æä¸ä¸ç¥è¯åå·¥ä½æµç¨æåèµ·æ¥ï¼æ AI å¨ç¹å®é¢åè¯¥æä¹åã</span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769308164192-a35405c9-b8e0-480a-900b-6503b81f440a.png"><img data-src="https://pic.yupi.icu/1/1769308164192-a35405c9-b8e0-480a-900b-6503b81f440a.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">è³äºææ å½ä»¤ï¼å®å°±åæ¯å¿«æ·é®ï¼æ¯éè¦ä½ æå¨è¾å¥ <span class="md-pair-s"><code>/command</code><span class="md-plain"> å½ä»¤æ¥è§¦åçåºå®æä½ï¼è Skills çç¹ç¹æ¯ AI å¯ä»¥èªå¨è¯å«è¯¥ç¨ä»ä¹æè½ï¼ä¸éè¦ä½ æ¾å¼è°ç¨ã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769308180272-b4e2ecf6-7577-407d-99df-156f44c34c9b.png"><img data-src="https://pic.yupi.icu/1/1769308180272-b4e2ecf6-7577-407d-99df-156f44c34c9b.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">å¯¹äºï¼å¶å® MCP å Skills æ¯å¯ä»¥ç»åèµ·æ¥çã</span></p>
<p class="md-end-block md-p"><span class="md-plain">ä¸¾ä¸ªä¾å­ï¼å¦æä½ æ³è®© AI å¸®ä½ åå¨æ¥ï¼</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">MCP è´è´£è·åæ°æ®ï¼ä»ä»»å¡ç®¡çæ°æ®åºæåè¿å¨çä»»å¡åè¡¨</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">Skills è´è´£å å·¥æ°æ®ï¼æè·åå°çåå§æ°æ®æ´çæèæ¿ç±ççæ ¼å¼</span></p>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-plain">ä¸ä¸ªæä¾é£æï¼ä¸ä¸ªæä¾éæ¹ã</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769308199144-45b3b07a-b27d-45e1-91ce-ca0afaced11c.png"><img data-src="https://pic.yupi.icu/1/1769308199144-45b3b07a-b27d-45e1-91ce-ca0afaced11c.png" class="lazyload"></span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h2 class="md-end-block md-heading"><span class="md-plain">Agent Skills å­ä»ä¹å¤§ç«ï¼</span></h2>
<p class="md-end-block md-p"><span class="md-plain">ä½ ççæè½æä»¶å¤¹çç»æï¼çªç¶æªå«ä¸å£°ï¼ç­ç­ï¼ä¿ºçªç¶æè¯å°ä¸ä¸ªé®é¢â¦â¦ è¿ä¸å°±æ¯æä»¬ç¨åºåç©çç âå°è£ãå¤ç¨ãæ¨¡ååãæå è½½â é£ä¸å¥åï¼</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769308235063-6469135d-6e72-4698-b040-0b9019fe29cd.png"><img data-src="https://pic.yupi.icu/1/1769308235063-6469135d-6e72-4698-b040-0b9019fe29cd.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">åå ä¸ªä»£ç æä»¶ãæä¸ªåãåå°ç½ä¸ï¼è®©å¶ä»ç¨åºåä¸è½½ä¸æ¥ç¨ï¼ä¸æ¯ä¸åäºå¿ä¹ï¼</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769308248099-97a33447-0873-436a-b923-a15fd489bdc8.png"><img data-src="https://pic.yupi.icu/1/1769308248099-97a33447-0873-436a-b923-a15fd489bdc8.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ä¸ºä»ä¹ Agent Skills è½çªç¶è®©æ´ä¸ª AI åä¸ºä¹ç¯çï¼</span></p>
<p class="md-end-block md-p"><span class="md-plain">é±¼ç®ï¼å¥½é®é¢ï¼ä»ææ¯çè§åº¦æ¥çï¼å®å¹¶æ²¡æåæä»ä¹æå¤©å¨å°çç®æ³ã</span></p>
<p class="md-end-block md-p"><span class="md-plain">å¨æçæ¥ï¼å®è½ç«ä¸»è¦æ¯ 2 ä¸ªåå ã</span></p>
<p class="md-end-block md-p"><span class="md-plain">ç¬¬ä¸ï¼å®æ¯å¼æ¾æ åï¼å°è£ä¸æ¬¡æè½ååå°±è½å¨åç§ AI å·¥å·éå¤ç¨ï¼è¿è½éè¿ç¤¾åºå±äº«ã</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769308267503-7e42f21e-a9f3-46ad-b64e-eb389536194e.png"><img data-src="https://pic.yupi.icu/1/1769308267503-7e42f21e-a9f3-46ad-b64e-eb389536194e.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">æ´éè¦çæ¯ï¼Skills è½ç«å»è®© AI çå·¥ä½æ´ä¸ä¸å¯é ï¼è®©æ®éäºº âæ æâ å°äº«åææ¯å¸¦æ¥çä»·å¼ãä»¥åæ³è®© AI åèªæï¼ä½ å¾å­¦æç¤ºè¯å·¥ç¨ãéç½®åç§å·¥å·é¾ãç°å¨åªéè¦åè£ APP ä¸æ ·å®è£æè½åï¼AI å°±ç«å»åä¸ä¸äºãä¸é¡¹ææ¯çæåï¼ä¸å¨äºå®æå¤å¤æï¼èå¨äºå®è½è®©æ®éç¨æ·ä¸å³æ³¨ææ¯ç»èçæåµä¸ï¼æåå°ææ¯çä»·å¼ã</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769308278928-c64c92b1-6530-43e7-a35e-cfb6eeec975d.png"><img data-src="https://pic.yupi.icu/1/1769308278928-c64c92b1-6530-43e7-a35e-cfb6eeec975d.png" class="lazyload"></span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h2 class="md-end-block md-heading"><span class="md-plain">ç»å°¾</span></h2>
<p class="md-end-block md-p"><span class="md-plain">ä½ ç¹ç¹å¤´ï¼å­¦ä¼äºå­¦åºäºï¼éä½é¨æ§ï¼ææ¯ææ¯èµ°åå¤§ä¼çé¥åã</span></p>
<p class="md-end-block md-p"><span class="md-plain">é±¼ç®ï¼æ²¡éï¼Agent Skills ä¸ä»ä»æ¯ä¸ªææ¯æ¦å¿µï¼æ´æ¯ä¸ç§æ°çå·¥ä½æ¹å¼ãä½ å¯ä»¥æå®èå¥å°èªå·±çæ¥å¸¸å·¥ä½ä¸­ï¼æ¯å¦æéå¤çä»»å¡å°è£ææè½ãæå¢éçæä½³å®è·µåºåææè½ï¼è®© AI çæ­£æä¸ºä½ çå¾åå©æã</span></p>
<p class="md-end-block md-p"><span class="md-plain">å¨è¿ä¸ª Vibe Coding çè¡çå¹´ä»£ï¼ææ¯çé¨æ§æ­£å¨å´©å¡ï¼èæ³è±¡åçè¾¹çæ­£å¨æ éæ©å¼ ãä½ å¯ä»¥å¨æåè´¹å¼æºç<span class="md-meta-i-c  md-link"><a href="https://github.com/liyupi/ai-guide" rel="noopener nofollow"><span class="md-plain">ãAI ç¼ç¨é¶åºç¡å¥é¨æç¨ã</span></a><span class="md-plain">ä¸­å­¦å°æ´å¤ AI ç¼ç¨æå·§ï¼ä¹æ¬¢è¿å³æ³¨æçè´¦å·ï¼å­¦ä¹ æ´å¤ AI åç¼ç¨çæå·§ã</span></span></span></p>
<blockquote>
<p class="md-end-block md-p"><span class="md-plain">å¼æºæè·¯ï¼<span class="md-link md-pair-s"><a href="https://github.com/liyupi/ai-guide" rel="noopener nofollow">https://github.com/liyupi/ai-guide</a></span></span></p>
</blockquote>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769308424250-4a12dc2a-4904-42fe-bb13-c77548749647.png"><img data-src="https://pic.yupi.icu/1/1769308424250-4a12dc2a-4904-42fe-bb13-c77548749647.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">é£ä¹é®é¢æ¥äºï¼ä½ ææ³è®© AI å­¦ä¼ä»ä¹æè½å¢ï¼</span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h2 class="md-end-block md-heading"><span class="md-plain">æ´å¤ç¼ç¨å­¦ä¹ èµæº</span></h2>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/course" rel="noopener nofollow"><span class="md-plain">Javaåç«¯ç¨åºåå¿åé¡¹ç®å®ææç¨+æ¯è®¾ç½ç«</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/" rel="noopener nofollow"><span class="md-plain">ç¨åºååè´¹ç¼ç¨å­¦ä¹ äº¤æµç¤¾åºï¼èªå­¦å¿å¤ï¼</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/course/cv" rel="noopener nofollow"><span class="md-plain">ç¨åºåä¿å§çº§æ±èåç®åæåï¼æ¾å·¥ä½å¿å¤ï¼</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.mianshiya.com/" rel="noopener nofollow"><span class="md-plain">ç¨åºååè´¹é¢è¯å·é¢ç½ç«å·¥å·ï¼æ¾å·¥ä½å¿å¤ï¼</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/post/1640584449888772098" rel="noopener nofollow"><span class="md-plain">ææ°Javaé¶åºç¡å¥é¨å­¦ä¹ è·¯çº¿ + Javaæç¨</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/post/1640586673306091521" rel="noopener nofollow"><span class="md-plain">ææ°Pythoné¶åºç¡å¥é¨å­¦ä¹ è·¯çº¿ + Pythonæç¨</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/post/1640586014108303362" rel="noopener nofollow"><span class="md-plain">ææ°åç«¯é¶åºç¡å¥é¨å­¦ä¹ è·¯çº¿ + åç«¯æç¨</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/post/1640586867363954689" rel="noopener nofollow"><span class="md-plain">ææ°æ°æ®ç»æåç®æ³é¶åºç¡å¥é¨å­¦ä¹ è·¯çº¿ + ç®æ³æç¨</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/post/1644279832026075138" rel="noopener nofollow"><span class="md-plain">ææ°C++é¶åºç¡å¥é¨å­¦ä¹ è·¯çº¿ãC++æç¨</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/post/1641797333479903234" rel="noopener nofollow"><span class="md-plain">ææ°æ°æ®åºé¶åºç¡å¥é¨å­¦ä¹ è·¯çº¿ + æ°æ®åºæç¨</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/post/1640589994284695553" rel="noopener nofollow"><span class="md-plain">ææ°Redisé¶åºç¡å¥é¨å­¦ä¹ è·¯çº¿ + Redisæç¨</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/post/1641035880439271426" rel="noopener nofollow"><span class="md-plain">ææ°è®¡ç®æºåºç¡å¥é¨å­¦ä¹ è·¯çº¿ + è®¡ç®æºåºç¡æç¨</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/post/1641366118197153793" rel="noopener nofollow"><span class="md-plain">ææ°å°ç¨åºå¥é¨å­¦ä¹ è·¯çº¿ + å°ç¨åºå¼åæç¨</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="http://sqlmother.yupi.icu/" rel="noopener nofollow"><span class="md-plain">ææ°SQLé¶åºç¡å¥é¨å­¦ä¹ è·¯çº¿ + SQLæç¨</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/post/1640586295529324545" rel="noopener nofollow"><span class="md-plain">ææ°Linuxé¶åºç¡å¥é¨å­¦ä¹ è·¯çº¿ + Linuxæç¨</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/post/1640588753362108417" rel="noopener nofollow"><span class="md-plain">ææ°Git/GitHubé¶åºç¡å¥é¨å­¦ä¹ è·¯çº¿ + Gitæç¨</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/post/1640587909942099969" rel="noopener nofollow"><span class="md-plain">ææ°æä½ç³»ç»é¶åºç¡å¥é¨å­¦ä¹ è·¯çº¿ + æä½ç³»ç»æç¨</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/post/1640588119619551233" rel="noopener nofollow"><span class="md-plain">ææ°è®¡ç®æºç½ç»é¶åºç¡å¥é¨å­¦ä¹ è·¯çº¿ + è®¡ç®æºç½ç»æç¨</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/post/1640588392073150465" rel="noopener nofollow"><span class="md-plain">ææ°è®¾è®¡æ¨¡å¼é¶åºç¡å¥é¨å­¦ä¹ è·¯çº¿ + è®¾è®¡æ¨¡å¼æç¨</span></a></span></p>
</li>
<li class="md-list-item md-focus-container">
<p class="md-end-block md-p md-focus"><span class="md-meta-i-c md-link md-expand"><a href="https://www.code-nav.cn/post/1640648711119892481" rel="noopener nofollow"><span class="md-plain">ææ°è½¯ä»¶å·¥ç¨é¶åºç¡å¥é¨å­¦ä¹ è·¯çº¿ + è½¯ä»¶å·¥ç¨æç¨</span></a></span></p>
</li>
</ul>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-27 11:47">2026-01-27 11:47</span>&nbsp;
<a href="https://www.cnblogs.com/yupi">ç¨åºåé±¼ç®</a>&nbsp;
éè¯»(<span id="post_view_count">76</span>)&nbsp;
è¯è®º(<span id="post_comment_count">1</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19537546);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19537546', targetLink: 'https://www.cnblogs.com/yupi/p/19537546', title: 'Agent Skills å»çå¼æç¨ï¼26 å¹´æç« AI ææ¯å°±è¿ï¼' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ åæ°èåç2025å¹´ ]]></title>
    <link>https://www.cnblogs.com/strick/p/19483051</link>
    <guid>cda6b0edb94a56f4e588577025e9ba57</guid>
    <description>
    <![CDATA[ 
	<div class="postTitle">
		<a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/strick/p/19483051" title="åå¸äº 2026-01-27 10:53">
    <span role="heading" aria-level="2">åæ°èåç2025å¹´</span>
    

</a>

	</div>
	<div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p>ãã2025 å¹´ç¸æ¯å»å¹´ï¼å¬å¸çä¸å¡åäºäºæ©å¼ ï¼äººåä¹è¡¥åäºä¸¤åï¼ä»ä»¬çå å¥äº§çäº 1+1&gt;2 çèåæåºã</p>
<p>ããèªå·±åæ¯å°æ´å¤çç²¾åæå¥å°äºå¬å¸ä¸å¡åå¢éå»ºè®¾ä¸­ã</p>
<p>ããä»å¹´åæåçä¸å¤ï¼å°±åå¤ç¯ï¼å¶ä¸­æä¸¤ç¯è¿æ¯è®²å°æµ£çæ°´æµå¡ï¼èä¸æ¯ææ¯çã</p>
<p>ããè¯»äºå æ¬ç¨æ·ä½éªåæ¶è´¹å¿çå­¦çä¹¦ï¼å¨åäº§åæè¿è¥å¯¹æ¥éæ±æ¶ï¼è½ææ´å¤èªå·±çè§è§£ã</p>
<p>ããåºäºéæ±å®æåæ»¡æåº¦ï¼æ¯ä¸ªåæä¼ç»å¢éå¶è®¢å ç» OKRï¼è¿æ ·ä¹æå°æ¹è®°å½å·¥ä½ä¸­çç¹æ»´ã</p>
<p>ããè¿æä¸ç¹ä¸ä»¥å¾å¤§ä¸åçæ¯ï¼æ¢æ¢ä¸åæç´¢å¼æä¸­æ¥è¯¢ææ¯é®é¢ï¼èæ¯æ´å¤çè½¬ç§»å°äºåç±» AI ä¸­ã</p>
<p>ããä»å¹´çå³é®å­åæ¬çä¹¦å­¦ä¹ ãä¸å¡ç åãå¢éå»ºè®¾ãé¡¹ç®è¿ç§»ãå¨è¾¹æè¡ãæ°´æµå¡ç­ã</p>
<p>ããä¸é¢çæç»´å¾åä¸¾åºäºä»å¹´åçä¸äºæ¯è¾éè¦çäºæã</p>
<p>ãã<img src="https://img2024.cnblogs.com/blog/211606/202601/211606-20260126161123303-915000856.png" alt="2025" width="800" loading="lazy"></p>
<h1>ä¸ãå¬å¸ä¸å¡</h1>
<p>ããä»å¹´åä¸äº 12 ä¸ªçæ¬è¿­ä»£ï¼å¤§å¤§å°å° 120 å¤ä¸ªéæ±ã</p>
<p>ããç´æ­éæ±å æ¯æ¯è¾å¤§ï¼å©ä¸çæç¤¾åºãç¤¾ç¾¤å°ç¨åºåå¾æ­¥ï¼è¿æ 20 å¤ä¸ªä¸»å¨ææçä¼åéæ±ã</p>
<p>ããæä»¬å¢éä¸ä»è¦åçº¯åç«¯çä¸å¡ï¼æäºæå¡ç«¯çé»è¾ï¼ä¹æ¯æä»¬å¨ç¨ Node ç»´æ¤ï¼æä»¥ä¼æ¶åå°ä¸äºæ¥å£é®é¢ã</p>
<p><span style="font-size: 16px"><strong>1ï¼ç´æ­åç¤¾åº</strong></span></p>
<p>ããå¬å¸æåå°äºä¸ä¸ªä¸é¨æç´æ­ç 5 äººå¤åå¢éï¼ä»å¹´çç´æ­åè½æ¯å»å¹´æç¿»å¤©è¦å°çååã</p>
<p>ããæ¯è¾å¤§çåè½å¢å åæ¹é å°±æåå¤ä¸ªï¼åç¬éäºä¸ªäº§åè·è¿éæ±ï¼æçå¾å¤ç²¾åä¹æå°äºç´æ­çä¸å¡éæ±å¼åä¸­ã</p>
<p>ããå°±æ¯ç´æ­å¢éå¨å¤å°ï¼æä»¥æ²éé½éè¦å¨çº¿è¯­é³ï¼æ²¡æé¢å¯¹é¢çä¾¿æ·ã</p>
<p>ããä»å¹´çå¹´ç»çå¸æ¯æç¬¬ 6 æ¬¡åä¸ï¼ä½æ¯æ¯å¾å¹´é½è¦ç´¯ï¼å ä¸ºåºäº 3 æ¬¡äºæï¼ä»¥å¾æå¤æ¯ 1 æ¬¡ï¼ä½ä»å¹´çè¡¨ã</p>
<p>ããè¿å°±å¯¼è´ï¼æå¨è¿ 20 å¤©çæ´»å¨ä¸­ï¼æ¯å°ä¸ä¸ªèç¹æå°±éè¦ç¯çï¼æ¯æ¬¡èç¹é½æ¯ 0 ç¹ï¼çç©éé½åäºã</p>
<p>ããå¶ä¸­å¨å­æä¸æ´å¤©å¨å®¶éæ¨çåå¢éå»ææ¥æ´»å¨ä¸­åççé®é¢ï¼å°æä¸æä¸çº¿ä¿®å¤å®æã</p>
<p>ããç¤¾åºä¸å¡ä»å¹´ä¹æä¸é¨çäº§ååæå¡ç«¯å¢éæ¿æ¥ï¼æä»¬åç«¯ç»åä¼æ¿æ¥ä¸¤ä¸ªæ¨¡åçä¸å¡ã</p>
<p>ããæä¸ä¸ªæ¯è¾éè¦çå¸¸è§æ´»å¨ï¼æ¯æ¥çè¥æ¶æ¯è¾å¯è§ï¼ä½æå å¤©å ä¸º redis çé®é¢åºç°äºè¥æ¶æ³¢å¨ã</p>
<p>ããä¸ºæ­¤ï¼å¢å äºå³é®å­åè­¦æ¨éï¼å¹¶è¯¦ç»è®°å½äºææ¥è¿ç¨ï¼è¯¥æ´»å¨å·²è®°å½äº 13 ä¸ªç¸å³é®é¢ï¼ä»¥åå¥½å¤ä»½ç¸å³ææ¡£ã</p>
<p>ããè¿æä¸æ¬¡è¥æ¶åææ³¢å¨ï¼åæ¥æ¯æ¹å¨çæ°ä»£ç ä¸æ¯æåå¸å¼å¯¼è´ä¸å¡å¼å¸¸ã</p>
<p><span style="font-size: 16px"><strong>2ï¼ç¤¾ç¾¤åå¾æ­¥</strong></span></p>
<p>ããè¿ä¸¤èå±äºä¸æ¡æ°çä¸å¡çº¿ï¼ç¤¾ç¾¤æ¯æå»å¹´åçä¸ä¸ªå°ç¨åºï¼ä»å¹´ç»§ç»­è¿­ä»£ç»´æ¤ä¸­ï¼èå¾æ­¥æ¯ä»å¹´æ°åçä¸æ¬¾ APPã</p>
<p>ãã4 æçæ¶åï¼ä¸ºäºåºä»ä¸æ¶ï¼éè¦ä¸´æ¶è®¾è®¡ä¸ä¸ªå®ç½ï¼å½æ¶äº§åç¨ Lovart å¨çº¿çæä¸ä¸ªå®ç½ï¼éæå°äºæã</p>
<p>ããæ¿å°ä»£ç åï¼ææ´ä½çäºä¸ï¼åºäº React å Tailwind.cssï¼ä»£ç è¿æ¯è®å·¥æ´çï¼æå UI å¾®è°äºä¸ä¸å°±åå°çº¿ä¸äºã</p>
<p>ããé¡ºä¾¿ä¸é¢ï¼æä»¬ç»ç»å¸¸ä¼æ¥å°åç±»ä¸´æ¶çéæ±ï¼æçæ¶åè¿æ¯è¾ç´§æ¥ï¼ææ¶åçæ¬å¼åå°ä¸å®ç¨åº¦æåç°éè¦æä»¬ä»å¥ã</p>
<p>ããåæï¼è¿è¥æäºä¸ªä¸ç©ä¸ç çéæ±ï¼å°±æ¯ä¸ä¸ªç©åå¯¹åºä¸ä¸ªäºç»´ç ï¼äºç»´ç ä¼å°å¨è¡£æä¸ï¼æä»¥æä»¬å¨å¯¹æ¥æ¶ä¼æ´å è°¨æã</p>
<p>ããä½æ²¡æ³å°ï¼ä»ä»¬å¨ä¸å·¥åå¯¹æ¥çæ¶åï¼è¿æ¯æäºç»´ç æéäºï¼å°åä¸­ç¼ºå°åæ°ï¼æä»¬è¿è¾¹é½æ æ³ééã</p>
<p>ãã9 æä»½ï¼å¨å¾æ­¥çåå°åäºä¸ä¸ªè½¨è¿¹é¢è§çåè½ï¼å°±æ¯å°å¾æ­¥çåä¸ªä½ç½®ç»å¨é«å¾·å°å¾ä¸ï¼å°å¾ç SDK æ¯è¾å®åï¼å¯¹æ¥çä¹æ¯è¾é¡ºå©ã</p>
<p>ãã2012 å¹´çæ¶åï¼èªå·±å°±åè¿ä¸ä¸ªå°å¾çé¡¹ç®ï¼13 å¹´åååä¸æ¬¡ï¼çæ¯æå¿µã</p>
<p><span style="font-size: 16px"><strong>3ï¼ä½éªä¼å</strong></span></p>
<p>ããææ¯ä¸ªåæé½ä¼å¶è®¢å ä¸ªä½éªä¼å OKRï¼åçå¯¹è±¡ä¸ä»ä»æ¯å¬å¸ç¨æ·ï¼è¿å¯ä»¥æ¯åäºï¼çè³æ¯æä»¬èªå·±ã</p>
<p>ããä»å¹´å¢éå¤§å¤§å°å°ä¸»å¨å¤çäº 100 å¤ä¸ªä½éªä¼åï¼ç°å¨å¤§å®¶é½ä¼ææè¯çå»åç°éè¦ä½éªä¼åçç¹ã</p>
<p>ããè½ç¶å¾å¤é½æ¯æ¯è¾å¾®å°çè°æ´ï¼ä½æ¯å´è½è®©ä½¿ç¨èå¤§å¤§æåå¹¸ç¦ææ°ã</p>
<p>ããä¼åç¹åæ¬æ¾å¤§è¡¨æ ¼å®½åº¦ï¼å¢å ä¸åå­æ®µï¼å ä¸ªå¤å¶æé®ï¼å¤å ä¸ªæ£ç´¢æ¡ä»¶ï¼éä¸­å½åé¡µèåï¼ä¸ææ¡å¢å æç´¢ç­ç­ã</p>
<p>ããæä¸ä¸ªè¡¨æ ¼æ¨ªåæ»å¨æ¡å¸åºï¼æ¯è¾æææï¼å½åè¡¨å¾é¿æ¶ï¼æ¯è¾æç¨ï¼ä¸ç¨æ»å¨å°æååæ¨ªåæ»å¨äºã</p>
<p>ããè¿æä¸ªæªå¼çå¶ç°é®é¢ï¼å°æ°äºæä»¬å¾ä¹ï¼å¨æ¿å°ç¨æ·ææºç UA åæå¾ä»¥è§£å³ã</p>
<p>ããåæ¥é¨ååä¸ºææºå ä¸º UA ä¸­åå« WEIBO å³é®å­ï¼å½ä¸­äºå¾®åç¯å¢ï¼è®©è¯¯ä»¥ä¸ºæ¯å¨APPä¹å¤ï¼ä»èåºç°äºå¼å¸¸ã</p>
<p>ããé¤äºä»£ç çä½éªä¼åä¹å¤ï¼è¿æææ¡£çä½éªä¼åï¼å¨ 1 æä»½åå»ºäºä¸ä»½é¡µé¢æ¥å£æ å°ææ¡£ã</p>
<p>ããå°å¸¸è§ç½é¡µä¸­æ¶åçæ¥å£ç¨æç»´å¯¼å¾çæ¹å¼åä¸¾åºæ¥ï¼å¨éè¦æ¥çé¡µé¢æ¥å£æ¶ï¼å°±ä¸ç¨å»ç¿»ä»£ç æèå¨æµè§å¨ä¸­è®¿é®äºã</p>
<p>ãã8 æä»½åå°æ¯è¾å¤æçä¸»æ­ç­¾çº¦æµç¨æ°æ®åºé»è¾æ´çäºåºæ¥ï¼éä»¥ SQL è¯­å¥åè®¡ç®ä»£ç ï¼ä¸ç¨åå»æ¥æ¥å¿åæºç äºã</p>
<p>ããé¤æ­¤ä¹å¤ï¼ä»å¹´åå»ºåç»´æ¤äº 100 å¤ä»½ææ¡£ï¼åæ¬ä¸å¡ãä»£ç ãè§èãå¨æ¥ç­ã</p>
<p><span style="font-size: 16px"><strong>4ï¼æ§è½ä¼å</strong></span></p>
<p>ããä»å¹´éå°äºå¥½å¤ä¸ªæ§è½é®é¢ï¼æäºæ¯è¾ç®åï¼æäºæ¯è¾éº»ç¦ï¼è¿éè®°å½äºä¸¤ä¸ªæ¯è¾æææçä¼åè¿ç¨ã</p>
<p>ããå¨ 9 æä»½ä¹åï¼å°±ä¼ééç»­ç»­æ¶å°ç¤¾ç¾¤åå°ä¸ä¼ å¾å¼å¸¸çåé¦ï¼å½æ¶æ¯è¾å½åäºç½éçåå ã</p>
<p>ããè 9 æä»½ä¹åï¼å¬å¸ç½ç»åçº§ï¼ä½æ¯è¿æ¯ä¼åºç°ä¸ä¼ å¼å¸¸çæåµã</p>
<p>ããå»ç°åºå®å°åå¯ä¹åï¼åç°æ¯ç±äºä¸ä¼ çå¾åæ°éä¸ä»åºå¤§ï¼å¹¶ä¸å¾åçå°ºå¯¸ä¹è¾å¤§ï¼è¿å°±åºç°äºæ§è½é®é¢ã</p>
<p>ããåç»­å°±æ¯å¨ URL å¢å å¾ååç¼©çåæ°ï¼CDNçåè½ï¼ï¼img åç´  å¢å  loading æå è½½å±æ§ï¼ç¨ IndexedDB ç¼å­ä¸ä¼ çæä»¶ç­ã</p>
<p>ããå¹¶ä¸ä¸ºäºæ´å¥½çä½éªææï¼è¿å¢å äºä¸ä¼ è¿åº¦çåé¦ç­ï¼ä»¥ååç±»å è½½ä¸­çç¹æã</p>
<p>ããè¿è¡äºä¸ç³»åå¤§åéæ§çæ¹é åï¼åç°ä¸ä¸ªè¿è¥ççµèè¿æ¯æé®é¢ï¼è¿ä¸ä¼  20 å¼ å¾é½å¾æ¢ï¼å¹¶ä¸é£æçè½¬ï¼éå¸¸å¥æªã</p>
<p>ããäºæ¯ææ¾è¡æ¿ï¼è®©å¥¹ä»¬èµ°æµç¨æ¢å°æ°ä¸ç¹ç mac äºï¼ç¨ç©ççæ¹å¼è§£å³æ§è½é®é¢ã</p>
<p>ããè¿æä¸ä¸ªæ¯å³äº SQL è¯­å¥çä¼åï¼SQL æ§è¡æ¶é´æé¿å°è¿ä»¤äººåæç 14 ç§ï¼åæååç°æ²¡æå½ä¸­ç´¢å¼å¯¼è´çã</p>
<p>ããå ä¸ºæ­¤è¡¨çæ°æ®éå·²ç» 1 äº¿å¤äºï¼æä»¥å°±è¯çå° SQL æ¹æè½å½ä¸­å·²æçç´¢å¼ã</p>
<p>ããå¨å°æ¡ä»¶ä¸­ç gold_delta&gt;0 æ¹æ trans_type(2, 7, 13, 98, 99) åï¼å°±æåçå°æ§è¡æ¶é´éå°äºå ç¾æ¯«ç§ã</p>
<p>ããé¡ºä¾¿ä¸æï¼è¿æ¡è¯­å¥å¨ä¸ä¸ªæ äººç»´æ¤ç Node é¡¹ç®ä¸­ï¼æå¡ç«¯ææ¥åï¼ç´§æ¥è®©æä»¬æ¥å¤ççã</p>
<p>ããæè®¡åè¿ç±»æå¡é½æ¯è¦è¿ç§»å° Go ä¸­çï¼ä½æ¯å ä¸ºå®¢è§åå åªè½è¿æç½®çã</p>
<p>ããå¶å®æä»å¥èå°ç°å¨ï¼å°±ä¸ç´å¨æ¨å¨è¿ç±»æå¡çè¿ç§»ï¼ä½è¿äºé½æ¯ä¸ç´§æ¥ä¸éè¦çä¸å¡ï¼æä»¥éè¦æå¥æºæè½å®æã</p>
<p><span style="font-size: 16px"><strong>5ï¼æ¯ä»ä¸å¡</strong></span></p>
<p>ããæä»¬å¢éè¿ç»´æ¤ç H5 é¡µé¢åçå¾®ä¿¡æ¯ä»ä¸å¡ï¼5 æä»½çæ¶åï¼æç¨æ·æç°å¤±è´¥ã</p>
<p>ããåæ¥æ¯å¬å¸è´¦æ·ä½é¢ä¸å¤äºï¼é©¬ä¸å»åå¼ï¼æ­¤ä¸å¡å·²å¹´ä¹å¤±ä¿®ï¼2026 å¹´ææå°å¶è¿ç§»è³æå¡ç«¯ã</p>
<p>ãã7 æä»½çæ¶åï¼æç¨æ·è¯´å¨ç½é¡µåå¼æ¶è¢«éå¶éé¢ï¼ææ¥ååç°å¨å¾®ä¿¡åæ·ä¸­æä¸ä¸ªéé¢éå¶ã</p>
<p>ããå¹¶ä¸ç³è¯åå®¹æå¶ç¹æï¼äºæ¯è®©åºçº³ä¸èµ·éåï¼å å¤©åå°±è§£é¤äºéå¶ã</p>
<p>ããè¿è®©ææ³èµ·äº 2021 å¹´çå¹´åº¦æ´»å¨æ¶ä¹åºç°è¿ä¸æ¬¡éé¢éå¶ï¼å¯è½ä¹æ¯è¿ä¸ªé®é¢ã</p>
<p>ãã9 æä»½å¨æ¥ä¸ä¸ªé®é¢æ¶ï¼åç°å¾®ä¿¡åæ·çè¯ä¹¦æå¹´å°±è¦å°æäºï¼äºæ¯å°±çæåçº§äºè¯ä¹¦ï¼åå å å¹´æéã</p>
<p>ããå¤å¹´æ¥ï¼æä¸ç´åé¦å¸æå°æ¯ä»ç¸å³çä¸å¡éä¸­ç®¡çï¼æä¸ªæ¯ä»ä¸­å¿ï¼æä¸å®å°è¿å±ï¼ä½æä»¬è¿è¾¹è¿çäºäºå°¾å·´ã</p>
<h1>äºãå·¥ä½ä¼å</h1>
<p>ããä»å¹´äººåå¢å ï¼æä¹ææ´å¤çæ¶é´æ¥æèåä¼åå·¥ä½åå®¹ï¼å¨å¢éç®¡çæ¹é¢ä¹è¿è¡äºæ´å¤çå®è·µã</p>
<p>ããå¢éåé¨ä¸ä»å¨æ®å AI è¾å©æåç¼ç¨æçï¼è¿å¨ä¸æ­å®åèªç ççæ§ç³»ç»ï¼ä»¥åå¨é¾è·¯æ¥å¿çæ¢ç´¢ï¼é¡¹ç®ç®¡çä¼åç­ã</p>
<p><span style="font-size: 16px"><strong>1ï¼æ´»å¨æ åå</strong></span></p>
<p>ããå°æ´»å¨æ åååï¼å°±è½èçæ´å¤çäººåå»åå¶ä»çä¸å¡ï¼å¹¶ä¸è¿è¥ä¹è½æ´å¿«çä¸çº¿æ´»å¨ï¼å®ææ¢å®ç®æ ã</p>
<p>ãã5 æä»½åçç»åºäºä¸ªç­å§æ´»å¨ï¼æ¥å£è¿å JSON æ ¼å¼ï¼å°å¾åå°åï¼æ°æ®ä¿¡æ¯ç­ä¸èµ·è¿åã</p>
<p>ããäº§åå¨è®¾è®¡ä¹åï¼å°±å¸ææªæ¥ä»¥å¨æä¸åçæ¹å¼æ¸²æé¡µé¢ãå¦ææ­¤ç±»æ´»å¨é¢ç¹ï¼å°±ä¼å¶ä½ç®¡çåå°çå¯è§åçé¢ã</p>
<p>ããåæï¼è¿å°ä¸ä¸ªåå¼å¥å±çæ´»å¨æ ååï¼è®¾è®¡å¥½ç©æ³è§ååé¡µé¢ç»æï¼ç¶åæ¥å£ç±æä»¬èªå·±æä¾ã</p>
<p>ããèé¡µé¢åéè¦éç½®çå­æ®µï¼ä»¥ JSON æ ¼å¼ï¼é½åå¨åå°çéç¨éç½®ä¸­ï¼ä¸æ¦ææ°æ´»å¨ï¼å°±éç½®ä¸ªæ° JSONã</p>
<p>ãã6 æï¼ç´æ­ç»æåºäºä¸ä¸ªå¸¸è§ç PK æ´»å¨ï¼å¨åå°ä¸­å¯ä»¥éç½® PK äººååç¸å³ä¿¡æ¯ï¼æ¯æè¿è¡ä¸æ¬¡ã</p>
<p>ããè¿è¥ä¹æè¯å°äºï¼ä¸ä¸ªå¯ä»¥èªå·±éç½®çæ´»å¨ï¼å¯æ§æ§æ´é«ï¼å¹¶ä¸æ¾èæè§å°ææã</p>
<p>ãã9 æä»½ï¼åºç°äºç¹æå¤ï¼æä¸ªç¹æ®çæ¦åæ´»å¨ï¼è¿è¥å½æ¶æ³å°å¶åæç®è¤æ¨¡æ¿ï¼å¯ä»¥åå¤å¥ç¨ã</p>
<p>ããä½æ¯ï¼å¨äº§åææ¡£ä¸­æ æ³¨çææ­§ä¹ï¼ä»¥è³äºæä»¬ææ¯é¨ææäººé½éæ¼äºæ­¤åè½ã</p>
<p>ããå¢éæåè¿å¯¹æ´»å¨ä¸­ç JSBridge åäºæä»¶åãå¾åå è½½ç»ä»¶åãTabåæ¢ç¼å­å¤çã</p>
<p><span style="font-size: 16px"><strong>2ï¼èæ§Nodeä¸å¡</strong></span></p>
<p>ãã2023 å¹´ 9 æï¼æå¶è®¢äºè´­ä¹°é¡µåå¼è¿ç§»çè®¡åï¼ç´å°ä»å¹´ç 6 æï¼æå°é¡µé¢è¿ç§»å®æã</p>
<p>ãã4 æä»½è¿è¥éè¦åå¼é¡µé¢æ¯ææ´å¤çæ¯ä»å¹³å°ï¼ä»¥æ­¤ä¸ºå¥æºï¼å°±éæäºæ­¤é¡µé¢ã</p>
<p>ããæ ¸å¿ä¸å¡é½äº¤ç»äºæå¡ç«¯å¤çï¼å¹¶ä¸å°æ¯ä»å®çåå¼é»è¾ä¹å¨é¨è¿ç§»å°äºæå¡ç«¯ã</p>
<p>ãã12 æä»½ï¼å¨ææ¥å®æ¶ä»»å¡çéè¯¯æ¶ï¼åºå¼äº 6 ä¸ªåä½åè¿æ¶çå®æ¶ä»»å¡ã</p>
<p>ããä¿®æ¹äº 2 ä¸ªå®æ¶ä»»å¡çæ§è¡å¨æï¼ååæ¯æ¯å¤å°åéæ§è¡ï¼ç°å¨æ¹ææ¯æ¥æ§è¡ä¸æ¬¡ï¼å¹¶ä¸è¦é¿å¼é«å³°æã</p>
<p>ããè¿è®©è¿ç»´ï¼å³é­äºä¸ä¸ªå·²ç»ä¸éè¦ç»´æ¤çæ¦åå®æ¶æå¡ï¼èçèµæºå¼éã</p>
<p>ããä»å¹´è¿åç°äºä¸¤ä¸ªèæ§ç Node æå¡éè¦å¾è¿ç§»ï¼6 æä»½ï¼åç°äºä¸ªç»éªå æä¸å¡ï¼8 æä»½ï¼åç°äºä¸ªç­ä¿¡åéçæå¡ã</p>
<p>ããå¶ä¸­ç¬¬ä¸ä¸ªä¸å¡æ¬æ¥æ³ç§»äº¤åºå»ï¼ä½æå¡ç«¯è¯´æ²¡ææ¶é´éæï¼åªå¾ç»§ç»­ç»´æ¤ã</p>
<p>ããé¡ºå¸¦ä¸æï¼è¿ä¸¤ä¸ªä¸å¡ç Node ç¯å¢è¿åçå¨ 8.7ï¼ææ°çæ¯ 24ï¼ï¼å¹¶ä¸ä¾èµäºä¸ªç§æ npm åã</p>
<p>ãã2025 å¹´æè¿è·äº§åæå°äºåäº«é¡µé¢çéæï¼å¹¶ä¸å¥¹ä»¬ä¹åäºç®æçäº§åææ¡£ï¼å¸æ 2026 å¹´è½å¤å®ç°è¿ç§»ã</p>
<p><span style="font-size: 16px"><strong>3ï¼é£ä¹¦æºå¨äºº</strong></span></p>
<p>ããé£ä¹¦æºå¨äººå°±æ¯ä»¥å¯¹è¯çæ¹å¼å®ç°æä¸ªåè½ï¼å¨åå å¹´å°±å·²å¼å¥ã</p>
<p>ããä½ä¸»è¦æ¯åäºåè­¦åæ°æ®æ¨éçåè½ï¼ä»å¹´æä»¬å¢éæå±äºæºå¨äººï¼èµäºäºæ´å¤åè½ã</p>
<p>ããå¢éåçæåå¨ 6 æä»½å°è£äºä¸æ´å¥çæºå¨äººé»è¾ï¼åå«äº IP ç½ååï¼ä»£ç åå¸ç­åè½ã</p>
<p>ããIP ç½ååæ¯å¬å¸ææäººé½éè¦çï¼ä¹åé½æ¯è®©æä»¬å¢éçäººæ·»å æèææéçäººæ·»å ï¼ç°å¨éè¿æºå¨äººå¯ä»¥èªå·±æ·»å ã</p>
<p>ããå¨ 8 æä»½ï¼æä¹å¨æºå¨äººä¸­æ·»å äºæ¥è¯¢æä¸ªç¬¬ä¸åç¨æ·çåè½ã</p>
<p>ããå¦ä¸åå¢éæåå¢å äºç®¡çåå°å¯ç æ´æ°éªè¯ç çåè½ï¼å¸®å©åäºä»¬å¯ä»¥èªä¸»å®æå¯ç çæ´æ°ï¼èä¸æ¯æ¾æä»¬ã</p>
<p>ããå¯¹äºæºå¨äººçä¸å¡ææï¼æä»¬è¿å¨ä¸æ­æ¢ç´¢ä¸­ã</p>
<p><span style="font-size: 16px"><strong>4ï¼çæ§ç³»ç»</strong></span></p>
<p>ããèªç çåç«¯çæ§ç³»ç»å¨ä»å¹´ææ¥çº¿ä¸é®é¢æ¶ï¼åæ¥äºå¾å¤§çä½ç¨ï¼ç´¯è®¡æ¯æ¥å¯åå° 1.5W ä¸ªå·¦å³çéè¯¯ã</p>
<p>ããå¸®å©æä»¬ææ¥é¡µé¢ç½å±é®é¢ï¼å¯¹å¤çæ´»å¨é¡µé¢é½æ¯åºäº Vue3 çæçï¼å³ CSR çæ¸²ææ¹å¼ã</p>
<p>ããéè¿çæ§ç³»ç»çè¡ä¸ºè½¨è¿¹ï¼æä»¬åç°ï¼ç½å±åºæ¬é½æ¯æ²¡æè¯»åæ­£ç¡®çèæ¬å¯¼è´çã</p>
<p>ããæçæ¯è®¿é®å°äºå¤±æçç¼å­å¯æ¬ï¼æçæ¯è®¿é®æå¡å¨ä¸­å é¤çèæ¬ã</p>
<p>ããå½çæ§å°ç½å±æ¶ï¼å°±ä¼å¨é¡µé¢ä¸­è·³åºä¸ä¸ªå¼¹æ¡ï¼ç»è¿ 3 è½®è¿­ä»£ï¼å¼¹æ¡ä¸­ä¼åå«å¼ºå¶å·æ°çæé®ï¼æ´æ¢æµè§å¨çæç¤ºã</p>
<p>ããå¹¶ä¸ç¨èæ¬å¨æçç»èµæºæä»¶å¢å æ¶é´æ³ï¼ç ´åèµæºç¼å­ã</p>
<p>ããèå¨ææ¥é®é¢æ¶ï¼è¿åç°çæ§ç³»ç»è¡ä¸ºè½¨è¿¹åªå­å¨ 7 å¤©ï¼å ä¸ºååè¯»çæ¯ MySQLï¼éé¢åªå­å¨äº 7 å¤©æ°æ®ã</p>
<p>ããæ¾ç¶å¤ªå°äºï¼äºæ¯å°±å°æ°æ®æºæ¹æ ElasticSearchï¼ç´æ¥å¢å è³ 2 æã</p>
<p>ããå¨ 7 æåºï¼è¿å¯¹çæ§æ°éè¿è¡äºä¼åï¼ä» 200W éä½å°äº 100W å·¦å³ï¼åå°å­å¨ææ¬ã</p>
<p>ããæ³¨éæäºéç¨ç»ä»¶åçæå°æ¥å¿ï¼æ¯æ¥åå°çæ§è®°å½ 47W æ¡ï¼è¿æ»¤äº 4 æ¡ä¸éè¦çæ¥å£ï¼æ¯æ¥è®°å½å¯åå°è¿ 50W æ¡ã</p>
<p><span style="font-size: 16px"><strong>5ï¼å¨é¾è·¯çæ§</strong></span></p>
<p>ããå¶å®å¨ 2023 å¹´å°±å°è¯äºæ¥å¿å¨é¾è·¯è¿½è¸ªï¼å°±æ¯å¨ Node ç¯å¢ä¸­ï¼è½ç²¾åççå«åºä¸ä¸ªéä¿¡çææç¸å³æ¥å¿ã</p>
<p>ããå¨ä»å¹´ç 3 æä»½ï¼å¢éæåä¹å°è¯äºåºäº AsyncLocalStorage çæ¥å¿è¿½è¸ªã</p>
<p>ããä¸è¿å¨çº¿ä¸å®éªæ¶ï¼é½åºç°äºé®é¢ï¼æ¥å¿è¿æ¯ä¼æ··æ·ã7 æä»½æå°è¯å¨ Node é¡¹ç®åå¼å¥äº SkyWalking å¨é¾è·¯çæ§ã</p>
<p>ããé¿éäºæ¨èçä¸ç§é¾è·¯è¿½è¸ªï¼åºäºå®æ¹ææ¡£éç½®åå è½½ä¾èµåï¼å°±å¨è¿è¡äºã</p>
<p>ããä½æ¯æä¸ªæ¥å£è¿æ»¤åæ°ï¼å¨è¯¢é¿éäºï¼æé® AIï¼é½æ²¡ææç½æä¹ç¨ï¼æåè¿æ¯çæºç æç¥éäºå¦ä½ä½¿ç¨ã</p>
<p>ããä¸çº¿è¿è¡ï¼çç¡®è½çå°æ¥å¿é¾è·¯ï¼å¹¶ä¸è¿è½çå°æ¥å£è°ç¨çæ¥åæ¶é´ã</p>
<p>ããå¼å¾ä¸æçæ¯ï¼å¨12 æä»½ï¼èªå·±ä¹å¨æ¥å£æ¥å¿ä¸­å äºæ¥åçååºæ¶é´ï¼è¿æ ·å°±è½ç¥éæ¯èªå·±çé»è¾æ¢è¿æ¯åé¨æ¥å£æ¢ã</p>
<p>ããä¸è¿å¨ä¸çº¿åï¼åçäºææ³ä¸å°çæå¤ï¼å°±æ¯ååå¯ä»¥é¾å¼è°ç¨ç Mongoose çæ¹æ³ï¼ä½ç°å¨ä¼æ¥éã</p>
<p>ããæ å¥ï¼åå°å¶ä¸çº¿äºï¼ä¸è¿å¥½å¨ï¼éè¿é¾è·¯æ¥å¿ï¼æå·²ç»ç¥éæ¢ååºçç¶é¢ä½å¨äºã</p>
<p><span style="font-size: 16px"><strong>6ï¼å¢éå»ºè®¾</strong></span></p>
<p>ãã3 æä»½äººåè¡¥ååï¼å°±åéå¯äºå¢éåé¨çææ¯åäº«ï¼å°å¹´åºï¼æä»¬å¢éåé¨åäº«äº 40 å¤åºåç±»çææ¯åäº«ã</p>
<p>ããæç°å¨å»ºè®®å¤§å®¶åäº«çåå®¹å°½éè´´åå½åçä¸å¡éæ±ï¼è¿æ ·åèµ·æ¥ä¹è½ç®åäºï¼å¹¶ä¸ä¸ç©ºæ´ã</p>
<p>ããå¨èªå·±è¡¨è¾¾æè·¯çåæ¶ï¼ä¹è½è®©èªå·±ææ´æ·±å»çè®¤è¯ï¼å¹¶ä¸ä¹è½å¸®å©å¢éå¶ä»æåå¼éè®¤ç¥ã</p>
<p>ããå¨å®éå¼åä¸­ï¼å¢éæåæå æ¬¡é½ä½¿ç¨äºåäº«ä¸­çææ¯ç¥è¯ç¹ã</p>
<p>ããæ°äººå å¥å å¨åï¼ä»ä»¬å¨å®æä¸ä¸¤ä¸ªé¡¹ç®åï¼æä»¬å¼å¯äºå åº Code Reviewï¼ä¸»è¦æ¯ççä»ä»¬çæè·¯ååæ³ã</p>
<p>ããæåºåèªçé®é¢ï¼å¹¶æ³åæ³è§£å³ï¼æä»¬ä¸å¼ºå¶ä»£ç è§èï¼ä½åçä»£ç è³å°å«äººè½çæã</p>
<p>ããè½åæ³¨éçå°½éå¤äºæ³¨éï¼è½è¯­ä¹åçå°½éè¯­ä¹åï¼ä¸éè¦å¤ªè¿½æ±æè´çæ§è½ã</p>
<p>ããå¹´åºçæ¶åï¼å¬å¸ç®¡çå±å¨æ¨å¹¿ AI è¾å©ç¼ç¨ï¼æä»¬å¢é AI çä½¿ç¨ä¹æ¯è¾å¹¿æ³ï¼ç¸ä¿¡ 2026 å¹´è½ææ´å¤çªç ´ã</p>
<p>ãã12 æä¸äº§åéåï¼å°è¯äºéè¿ PRD çæ H5 é¡µé¢ï¼è½ç¶å¶ä¸­è¿ä¸ä¹åç§é®é¢ï¼ä½è¿æ¯ä¸ç§å¾å¥½çåä½å°è¯ã</p>
<p>ããå¨å¢éæååäº« AI çä½¿ç¨æ¶ï¼åç°äºäºé®é¢ï¼ä¾å¦åå°å°è£äºéç¨ç»ä»¶ï¼ä½å¨ç¨ AI çæä»£ç åç´æ¥å¼ç¨äºè¿ç±»ç»ä»¶ã</p>
<p>ããè¿æ ·å°±æ¯å¼åè½¦äºï¼ç»´æ¤æ§æ¹é¢å°å¤§æææ£ã</p>
<p>ããå½å¤ç AI å·¥å·ä¸å°ï¼ä¸è¿å¥½å¤é½éå¶ä¸­å½åºåä¸å¯ç¨ï¼æç¹è¢«å´å¿çææã</p>
<p><span style="font-size: 16px"><strong>7ï¼é¡¹ç®ç®¡ç</strong></span></p>
<p>ããå¬å¸æä¸¤æ¡äº§åçº¿ï¼èç®¡çåå°åå¨ä¸å¥ä»£ç ä¸­ï¼è¿å°±å¯¼è´å¨æå»ºé¡¹ç®æ¶ä¼æ¯è¾æ¢ã</p>
<p>ããé£è¿ä¸ªæ¶åå¶å®æå¾å¤æ¹æ³å¯ä¾éæ©ï¼ä¾å¦æåæä¸¤ä¸ªç¬ç«çåå°ï¼ä½å¦æ­¤ä¸æ¥ï¼å¬å±ä»£ç ä¹è¦æåæä¸¤ä»½ç»´æ¤ã</p>
<p>ããæèéç¨å¾®åç«¯ææ¯ï¼å¥ç¦»ä¸ä¸ªé¡¹ç®åºæ¥ï¼ä¸è¿æä¸å®çå¼åææ¬ã</p>
<p>ããå¨è§å¯ååç°ï¼æå»ºä¼æ ¹æ®è·¯ç±æä»¶æ¥ï¼å¦æè·¯ç±æä»¶ä¸­æ²¡æå£°æï¼é£ä¹å°±ä¸ä¼å°æ­¤æä»¶çº³å¥æå»ºæµç¨ä¸­ã</p>
<p>ããäºæ¯å¨ 7 æä»½ï¼å£°æäºä¸¤ä»½è·¯ç±æä»¶ï¼å¤§å®¶ç»´æ¤åèªçè·¯ç±ãå¹¶ä¸è®©è¿ç»´åå»ºäºä¸¤å¥æµæ°´çº¿ï¼åä¸¤ä¸ªååã</p>
<p>ããå¨å®æè·¯ç±æå»ºåï¼ååçä»£ç åå¸æ»æ¶é´åå°äº 3 åéä»¥ä¸ã</p>
<p>ããç»è¿ä¸ä¸ªæå·¦å³çæ¶é´ï¼éç»­å°æµè¯ãé¢ååçäº§çä¸ä¸ªç¯å¢çåå¸æµæ°´çº¿é¨ç½²å®æã</p>
<p>ããå¨ 12 æä»½ï¼å¢éæåæåºï¼å¯¹å¤æ´»å¨ç°å¨åæäºä¸¤ä¸ªé¡¹ç®ï¼ä½æ¯æäºç»ä»¶æ¯å±ç¨çã</p>
<p>ããæ¯æ¬¡äººå·¥çå¤å¶é»è´´ï¼é¾åä¼éæ¼æåºéãç®¡çåå°æ¯åï¼èè¿éå´æ¯åã</p>
<p>ããæä»¬æ³å°äº Monorepo ç®å½ç®¡çï¼å°ä¸¤ä¸ªé¡¹ç®æ´åå¨ä¸ä¸ªç®å½åç®¡çï¼æ½è±¡åºå±ç¨é¨åã</p>
<p>ããåæ ·ä¸ºäºå®éªï¼è®©è¿ç»´é¨ç½²äºä¸¤æ¡æ°çä¸å¡çº¿ï¼ä»¥åä¸¤ä¸ªæ°ååï¼ç®åè¿å¨è°è¯ä¸­ã</p>
<h1>ä¸ãæ¥å¸¸çæ´»</h1>
<p>ããä»å¹´å°å­©è¯»ä¸¤å¹´çº§äºï¼å¨æ«è¿å¾å¨å®¶éªçåä½ä¸ï¼ç¶åå¸¦ä»å»ä¸ç¯®çè¯¾ãé¢ç´è¯¾ç­å´è¶£è¯¾ã</p>
<p>ããå¶å°å¨æ«æ¥ä¸ªç­éèªé©¾æ¸¸ï¼ç¶åä¸ç­åå·å·ç­å§ï¼å°çº¢ä¹¦ç­ã</p>
<p>ããå»å¹´ä¹°äºå¾å¤å¡ï¼ä»å¹´åä¸æ³è¦äºï¼å°±åºäºå¾å¤§ä¸é¨åï¼ä½å¤§é¨åé½äºæ¬äºï¼å¥½å¨ 30 å¨å¹´æ°´æµå¡åäºå¥½å¤è¡ã</p>
<p><span style="font-size: 16px"><strong>1ï¼æè¡</strong></span></p>
<p>ããä»å¹´æ»å±å»äº 8 ä¸ªå°æ¹æè¡ï¼æè¿çæ¯è¿å¹´æé´çå¹¿å·ï¼å¶ä»é½æ¯å¨æ±æµå¨è¾¹ï¼èªé©¾æé«éã</p>
<p>ããåæ¬åå´åæ¹ãåæµå¤éãèå·åç©é¦ãæ é¡æè±æ¹¾ãç»å´æ¯å²©æ¯åºãåå²æ¹ãèå±±ç­ã</p>
<p>ããå¨æ é¡çä¸¤æ¬¡é½æ³å»å¤ªæ¹è¾¹ä¸çä¸å½æ°´æµåï¼ä½æ»æ¯å ä¸ºç§ç§åå æ²¡å»æï¼å¯æäºã</p>
<p>ããå¹¿å·é£è¾¹ææ¯å¤©é½è¦ä¹°ä¸æ¯é²æ¦¨çèæ±ï¼ç²¤èæä¹å¾åæ¬¢ï¼é½æ¯ç°ç§çï¼æä»¥ä¸èä¼æ¢ç¹ã</p>
<p>ããæ¯ä¸å®¶é¥­åºçè èå¤èèæ¯æå¿ç¹çï¼è¿ä½éªäºä¸å½å°çæ©è¶ï¼åºéå ä¹é½æ¯èäººï¼å¾å°çå°å¹´è½»äººã</p>
<p>ããå¹¿å·ç¹å«ç­é¹ï¼åäº¬è·¯é£è¾¹ååäº¬è·¯å·®ä¸å¤ï¼è¿å¹´æé´ä¹æ³±æ³±çäººã</p>
<p><span style="font-size: 16px"><strong>2ï¼æ°´æµå¡</strong></span></p>
<p>ãã3 æä»½çæ¶ååä¸äºå°æµ£ç 30 å¨å¹´æ°´æµå¡çä¼ç­¹ï¼è¿æ¬¡ä¼ç­¹ç¹å«é­å¹»ã</p>
<p>ããå¡çä»·å¼ç¿»äºåå¤åï¼ä¸äºèµ åä»·æ ¼ä¹é½ç´æ¥èµ·é£ï¼ä¾å¦äº²ç­¾è¯çº§å¡æé«é½è¾¾å°äº 5 ä½æ°ã</p>
<p>ããæ¬æ¥ä»¥ä¸ºå¤§å®¶é½ç¥éï¼æ²¡æ³å°ï¼å¤§é¨åäººé½ä¸ç¥éè¿ä¸ªä¼ç­¹ã</p>
<p>ããå¾å¤äººä¸ºäºè¿½å¿ç«¥å¹´ï¼é½å¥åä¹°å¡ï¼å¯¼è´å¡çä»·å¼ç´çº¿ä¸åã</p>
<p>ãã4 æä»½ï¼è¿å°å¤ä¸äººæ¢å¡ï¼çº¿ä¸ç¢°å¤´ï¼çº¿ä¸å¿«éï¼å¤ç®¡é½ä¸ï¼ä¸ºäºéé½ 30 å¨å¹´çæ°´æµå¥å¡ï¼ä¹æ¯æ¼äºã</p>
<p>ããå½æï¼å¼å§å°èªå·±ä¸æ³è¦çå¡é½ééç»­ç»­åºæï¼åºçä»·æ ¼å¾é¾èµï¼åºæ¬é½æ¯äºæ¬åºäºã</p>
<p>ããè¿æäºèªå·±å½å¹´ççå¡ï¼ä¹é½åºæäºï¼åå ä¸ 30 å¨å¹´çå¡ï¼åäºå¥½å¤è¡ï¼æè´¦æ¹å¹³äºã</p>
<p>ããè¿è½å¤ä¸äºå¡å¨æï¼ä¸è¿ï¼è¿ä¹çæ¥ï¼ææ¯ä¸éååçæçï¼èèå®å®æå·¥äºã</p>
<p>&nbsp;</p>
</div>
<div class="clear"></div>

	<div class="postDesc"><img src="/skins/gray/images/speech.gif" align="absmiddle">&nbsp;posted on 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-27 10:54">2026-01-27 10:53</span>&nbsp;
<a href="https://www.cnblogs.com/strick">åå¡æºï¼K.F.Jï¼</a>&nbsp;
éè¯»(<span id="post_view_count">108</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19483051);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19483051', targetLink: 'https://www.cnblogs.com/strick/p/19483051', title: 'åæ°èåç2025å¹´' })">ä¸¾æ¥</a>
</div>
 ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ åºäº C# å Nuke æé ç°ä»£åæå»ºç³»ç»çæä½³å®è·µ ]]></title>
    <link>https://www.cnblogs.com/newbe36524/p/19536496</link>
    <guid>2f39549a2ee0a6c844a561d70b4be76b</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/newbe36524/p/19536496" title="åå¸äº 2026-01-27 08:54">
    <span role="heading" aria-level="2">åºäº C# å Nuke æé ç°ä»£åæå»ºç³»ç»çæä½³å®è·µ</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="åå«èæ¬å°ç±ä¸ºä»ä¹æä»¬éæ©ç¨-c-æé ç°ä»£åæå»ºç³»ç»">åå«èæ¬å°ç±ï¼ä¸ºä»ä¹æä»¬éæ©ç¨ C# æé ç°ä»£åæå»ºç³»ç»</h1>
<blockquote>
<p>æ­ç§ HagiCode é¡¹ç®å¦ä½å©ç¨ Nuke å®ç°ç±»åå®å¨ãè·¨å¹³å°ä¸é«åº¦å¯æ©å±çèªå¨åæå»ºæµç¨ï¼å½»åºè§£å³ä¼ ç»æå»ºèæ¬çç»´æ¤çç¹ã</p>
</blockquote>

<h2 id="èæ¯">èæ¯</h2>
<p>å¨è½¯ä»¶å¼åçæ¼«é¿æéä¸­ï¼"æå»º"è¿ä¸ªè¯å¾å¾è®©äººåç±åæ¨ãç±çæ¯ï¼ä¸é®ç¹å»ï¼ä»£ç åæäº§åï¼é£æ¯ç¨åºåæè¿·äººçæ¶å»ï¼æ¨çæ¯ï¼ç»´æ¤é£ä¸å ä¹±ç³ç³çæå»ºèæ¬ï¼ç®ç´æ¯å©æ¢¦ã</p>
<p>å¨å¾å¤é¡¹ç®ä¸­ï¼æä»¬ä¹ æ¯äºç¨ Python åèæ¬ï¼æèç¨ XML éç½®æä»¶ï¼æ³è±¡ä¸ä¸é£æ®µè¢« <code>&lt;property&gt;</code> æ¯éçææ§ï¼ãä½éçé¡¹ç®å¤æåº¦çæåï¼å°¤å¶æ¯å HagiCode è¿æ ·æ¶åååç«¯ãå¤å¹³å°ãå¤è¯­è¨æ··åå¼åçé¡¹ç®ï¼ä¼ ç»çæå»ºæ¹å¼å¼å§æ¾å¾åä¸ä»å¿ãèæ¬é»è¾åæ£ãç¼ºä¹ç±»åæ£æ¥ãIDE æ¯æå¼±â¦â¦è¿äºé®é¢åä¸ä¸ªä¸ªå°åï¼æ¶ä¸æ¶å°±è®©å¼åå¢éç»ä¸ªè·å¤´ã</p>
<p>ä¸ºäºè§£å³è¿äºçç¹ï¼å¨ HagiCode é¡¹ç®ä¸­ï¼æä»¬å³å®å¼å¥ <strong>Nuke</strong> ââ ä¸ä¸ªåºäº C# çç°ä»£åæå»ºç³»ç»ãå®ä¸ä»ä»æ¯ä¸ä¸ªå·¥å·ï¼æ´åæ¯ä¸ç§å¯¹æå»ºæµç¨çéæ°æèãä»å¤©ï¼æä»¬å°±æ¥èèä¸ºä»ä¹éæ©å®ï¼ä»¥åå®æ¯å¦ä½è®©æä»¬çå¼åä½éª"èµ·é£"çã</p>
<h2 id="å³äº-hagicode">å³äº HagiCode</h2>
<blockquote>
<p>å¿ï¼ä»ç»ä¸ä¸æä»¬æ­£å¨åçä¸è¥¿</p>
</blockquote>
<p>æä»¬æ­£å¨å¼å <strong>HagiCode</strong> ââ ä¸æ¬¾ AI é©±å¨çä»£ç æºè½å©æï¼è®©å¼åä½éªåå¾æ´æºè½ãæ´ä¾¿æ·ãæ´æè¶£ã</p>
<p><strong>æºè½</strong> ââ AI å¨ç¨è¾å©ï¼ä»æ³æ³å°ä»£ç ï¼è®©ç¼ç æçæåæ°åã<strong>ä¾¿æ·</strong> ââ å¤çº¿ç¨å¹¶åæä½ï¼ååå©ç¨èµæºï¼å¼åæµç¨é¡ºçæ é»ã<strong>æè¶£</strong> ââ æ¸¸æåæºå¶åæå°±ç³»ç»ï¼è®©ç¼ç ä¸åæ¯ç¥ï¼åæ»¡æå°±æã</p>
<p>é¡¹ç®æ­£å¨å¿«éè¿­ä»£ä¸­ï¼å¦æä½ å¯¹ææ¯åä½ãç¥è¯ç®¡çæè AI è¾å©å¼åæå´è¶£ï¼æ¬¢è¿æ¥ <a href="https://github.com/HagiCode-org/site" target="_blank" rel="noopener nofollow">GitHub</a> ççï½</p>
<h2 id="æ ¸å¿åæä¸ºä»ä¹æ¯-nuke">æ ¸å¿åæï¼ä¸ºä»ä¹æ¯ Nukeï¼</h2>
<p>ä½ å¯è½å¿éä¼ç¯ååï¼"ååï¼æå»ºç³»ç»é£ä¹å¤ï¼æ¯å¦ MakeãGradleï¼çè³ç´æ¥ç¨ Shell èæ¬ä¸è¡åï¼ä¸ºå¥éå¾æ´ä¸ä¸ª C# çï¼"</p>
<p>è¿å¶å®æ¯ä¸ªå¥½é®é¢ãNuke çæ ¸å¿é­åå¨äºå®ææä»¬æçæçç¼ç¨è¯­è¨ç¹æ§å¸¦è¿äºæå»ºèæ¬çä¸çã</p>
<h3 id="1-å°æå»ºæµç¨æ¨¡ååtarget-çèºæ¯">1. å°æå»ºæµç¨æ¨¡ååï¼Target çèºæ¯</h3>
<p>Nuke çè®¾è®¡çå¿µéå¸¸æ¸æ°ï¼<strong>ä¸åçä¸ºç®æ </strong>ã</p>
<p>å¨ä¼ ç»çèæ¬éï¼æä»¬å¯è½ä¼ååºå ç¾è¡çº¿æ§æ§è¡çä»£ç ï¼é»è¾éç»¼å¤æãèå¨ Nuke ä¸­ï¼æä»¬å°æå»ºæµç¨åè§£ä¸ºç¬ç«ç <code>Target</code>ï¼ç®æ ï¼ãæ¯ä¸ªç®æ åªè´è´£ä¸ä»¶äºï¼æ¯å¦ï¼</p>
<ul>
<li><code>Clean</code>: æ¸çè¾åºç®å½</li>
<li><code>Restore</code>: è¿åä¾èµå</li>
<li><code>Compile</code>: ç¼è¯ä»£ç </li>
<li><code>Test</code>: è¿è¡ååæµè¯</li>
</ul>
<p>è¿ç§è®¾è®¡éå¸¸ç¬¦ååä¸èè´£ååãå°±åæ­ç§¯æ¨ä¸æ ·ï¼æä»¬å¯ä»¥éæç»åè¿äº Targetãæ´éè¦çæ¯ï¼Nuke åè®¸æä»¬å®ä¹ Target ä¹é´çä¾èµå³ç³»ãæ¯å¦ï¼ä½ æ³è¦ <code>Test</code>ï¼é£ç³»ç»ä¼èªå¨æ£æ¥ä½ æ¯å¦åæ§è¡äº <code>Compile</code>ï¼æ³è¦ <code>Compile</code>ï¼èªç¶å¾å <code>Restore</code>ã</p>
<p>è¿ç§ä¾èµå³ç³»å¾ä¸ä»è®©é»è¾æ´æ¸æ°ï¼è¿æå¤§å°æé«äºæ§è¡æçï¼Nuke ä¼èªå¨åææä¼æ§è¡è·¯å¾ã</p>
<h3 id="2-ç±»åå®å¨åå«æ¼åéè¯¯çå©æ¢¦">2. ç±»åå®å¨ï¼åå«æ¼åéè¯¯çå©æ¢¦</h3>
<p>ç¨è¿ Python åæå»ºèæ¬çæåè¯å®éå°è¿è¿ç§å°´å°¬ï¼èæ¬è·äºäºåéï¼æåæ¥éè¯´ <code>Confi.guration</code> æ¼åéäºï¼æèä¼ äºä¸ä¸ªå­ç¬¦ä¸²ç»äºä¸ä¸ªæ¬è¯¥æ¯æ°å­çåæ°ã</p>
<p>ä½¿ç¨ C# ç¼åæå»ºèæ¬æå¤§çä¼å¿å°±æ¯ <strong>ç±»åå®å¨</strong>ãè¿æå³çï¼</p>
<ul>
<li><strong>ç¼è¯æ¶æ£æ¥</strong>ï¼ä½ å¨æ²ä»£ç çæ¶åï¼IDE å°±ä¼åè¯ä½ åªééäºï¼ä¸ç¨ç­å°è¿è¡æ¶æåç°ã</li>
<li><strong>éææ å¿§</strong>ï¼å¦æä½ æ³æ¹ä¸ªåéåæèæ¹æ³åï¼IDE çéæåè½ä¸é®æå®ï¼ä¸ç¨å¨å±æç´¢æ¿æ¢æå¿åèã</li>
<li><strong>æºè½æç¤º</strong>ï¼å¼ºå¤§ç IntelliSense ä¼èªå¨è¡¥å¨ä»£ç ï¼ä½ ä¸éè¦å»ç¿»ææ¡£è®°é£äºçå»ç APIã</li>
</ul>
<h3 id="3-è·¨å¹³å°ç»ä¸çæå»ºä½éª">3. è·¨å¹³å°ï¼ç»ä¸çæå»ºä½éª</h3>
<p>ä»¥åå¨ Windows ä¸å <code>.bat</code>ï¼å¨ Linux ä¸å <code>.sh</code>ï¼ä¸ºäºå¼å®¹ä¸¤èï¼è¿å¾åä¸ª Python èæ¬ãç°å¨ï¼åªè¦æ¯ .NET Coreï¼ç° .NET 5+ï¼è½è·çå°æ¹ï¼Nuke å°±è½è·ã</p>
<p>è¿æå³çæ è®ºå¢éæåæ¯ä½¿ç¨ WindowsãLinux è¿æ¯ macOSï¼æ è®ºæ¯ç¨ Visual StudioãVS Code è¿æ¯ Riderï¼å¤§å®¶æ§è¡çé½æ¯åä¸å¥é»è¾ãè¿å°±æå¤§å°æ¶é¤äº"å¨ææºå¨ä¸è½è·"è¿ç±»ç¯å¢å·®å¼å¯¼è´çé®é¢ã</p>
<h3 id="4-åæ°ä¸éç½®ç®¡ç">4. åæ°ä¸éç½®ç®¡ç</h3>
<p>Nuke æä¾äºä¸å¥éå¸¸ä¼éçåæ°è§£ææºå¶ãä½ ä¸éè¦æå¨å»è§£æ <code>string[] args</code>ï¼åªéè¦å®ä¹ä¸ä¸ªå±æ§ï¼å ä¸ <code>[Parameter]</code> ç¹æ§ï¼Nuke å°±ä¼èªå¨å¤çå½ä»¤è¡åæ°åéç½®æä»¶çæ å°ã</p>
<p>æ¯å¦ï¼æä»¬å¯ä»¥è½»æ¾å®ä¹æå»ºéç½®ï¼</p>
<pre><code class="language-csharp">[Parameter("Configuration to build - Default is 'Debug'")]
readonly Configuration BuildConfiguration = IsLocalBuild ? Configuration.Debug : Configuration.Release;

Target Compile =&gt; _ =&gt; _
    .DependsOn(Restore)
    .Executes(() =&gt;
    {
        // å¨è¿éä½¿ç¨ BuildConfigurationï¼å®æ¯ç±»åå®å¨ç
        DotNetBuild(s =&gt; s
            .SetConfiguration(BuildConfiguration)
            .SetProjectFile(SolutionFile));
    });
</code></pre>
<p>è¿ç§åæ³æ¢ç´è§åä¸å®¹æåºéã</p>
<h2 id="å®è·µæåå¦ä½å¨é¡¹ç®ä¸­è½å°">å®è·µæåï¼å¦ä½å¨é¡¹ç®ä¸­è½å°</h2>
<p>ç©ºè°è¯¯å½ï¼å®å¹²å´é¦ãè®©æä»¬ççå¨ HagiCode é¡¹ç®ä¸­ï¼å·ä½æ¯æä¹è½å°è¿å¥æ¹æ¡çã</p>
<h3 id="1-è§åé¡¹ç®ç»æ">1. è§åé¡¹ç®ç»æ</h3>
<p>æä»¬ä¸æ³è®©æå»ºèæ¬æ±¡æé¡¹ç®æ ¹ç®å½ï¼ä¹ä¸æ³æå¾åæäº Java é¡¹ç®é£æ ·ç®å½ç»ææ·±ä¸è§åºãæä»¥ï¼æä»¬å°ææä¸ Nuke ç¸å³çæå»ºæä»¶ç»ä¸æ¾ç½®å¨ <code>nukeBuild/</code> æä»¶å¤¹ä¸­ã</p>
<p>è¿æ ·åçå¥½å¤æ¯ï¼</p>
<ul>
<li>é¡¹ç®æ ¹ç®å½ä¿ææ¸ç½ã</li>
<li>æå»ºé»è¾åèï¼æ¹ä¾¿ç®¡çã</li>
<li>æ°æåå å¥æ¶ï¼ä¸ç¼å°±è½çå°"å¦ï¼è¿æ¯æå»ºç¸å³çé»è¾"ã</li>
</ul>
<h3 id="2-è®¾è®¡æ¸æ°ç-target-ä¾èµé¾">2. è®¾è®¡æ¸æ°ç Target ä¾èµé¾</h3>
<p>å¨è®¾è®¡ Target æ¶ï¼æä»¬éµå¾ªäºä¸ä¸ªååï¼<strong>åå­å + ä¾èµæµ</strong>ã</p>
<p>æ¯ä¸ª Target åºè¯¥è¶³å¤å°ï¼åªåä¸ä»¶äºãæ¯å¦ <code>Clean</code> å°±åªç®¡å æä»¶ï¼ä¸è¦å¨éé¢é¡ºä¾¿åæåã</p>
<p>æ¨èçä¾èµæµå¤§æ¦æ¯è¿ä¸ªæ ·å­çï¼</p>
<p><code>Clean</code> -&gt; <code>Restore</code> -&gt; <code>Compile</code> -&gt; <code>Test</code> -&gt; <code>Pack</code></p>
<p>å½ç¶ï¼è¿ä¸æ¯ç»å¯¹çãæ¯å¦å¦æä½ åªæ³è·ä¸ªæµè¯ï¼ä¸æ³æåï¼Nuke åè®¸ä½ ç´æ¥æ§è¡ <code>nuke Test</code>ï¼å®ä¼èªå¨å¤çå¥½åç½®ç Restore å Compile æ­¥éª¤ã</p>
<h3 id="3-å®åçéè¯¯å¤çä¸æ¥å¿">3. å®åçéè¯¯å¤çä¸æ¥å¿</h3>
<p>æå»ºèæ¬ææçæ¯ä»ä¹ï¼æ¯æ¥éä¿¡æ¯ä¸æç¡®ãæ¯å¦æå»ºå¤±è´¥äºï¼æ¥å¿åªæ¾ç¤º "Error: 1"ï¼è¿å°±è®©äººå¾æçã</p>
<p>å¨ Nuke ä¸­ï¼ç±äºæä»¬å¯ä»¥ç´æ¥ä½¿ç¨ C# çå¼å¸¸å¤çæºå¶ï¼å æ­¤å¯ä»¥éå¸¸ç²¾ç¡®å°æè·åæ¥åéè¯¯ã</p>
<pre><code class="language-csharp">Target Publish =&gt; _ =&gt; _
    .DependsOn(Test)
    .Executes(() =&gt;
    {
        try 
        {
            // å°è¯åå¸å° NuGet
            DotNetNuGetPush(s =&gt; s
                .SetTargetPath(ArtifactPath)
                .SetSource("https://api.nuget.org/v3/index.json")
                .SetApiKey(ApiKey));
        }
        catch (Exception ex)
        {
            Log.Error($"åå¸å¤±è´¥äºï¼åå¼ä»¬æ£æ¥ä¸ä¸ Key å¯¹ä¸å¯¹: {ex.Message}");
            throw; // ç¡®ä¿æå»ºè¿ç¨ä»¥éé¶éåºç ç»æ
        }
    });
</code></pre>
<h3 id="4-éææµè¯ä¿éè´¨é">4. éææµè¯ä¿éè´¨é</h3>
<p>æå»ºèæ¬æ¬èº«ä¹æ¯ä»£ç ï¼ä¹éè¦æµè¯ãNuke åè®¸æä»¬ä¸ºæå»ºæµç¨ç¼åæµè¯ï¼ç¡®ä¿å½æä»¬ä¿®æ¹äºæå»ºé»è¾åï¼ä¸ä¼ç ´åç°æçåå¸æµç¨ãè¿å¨æç»­éæï¼CIï¼æµæ°´çº¿ä¸­å°¤ä¸ºéè¦ã</p>
<h2 id="æ»ç»">æ»ç»</h2>
<p>éè¿å¼å¥ Nukeï¼HagiCode çæå»ºæµç¨åå¾åææªæçé¡ºçãå®ä¸ä»ä»æ¯ä¸ä¸ªå·¥å·çæ¿æ¢ï¼æ´æ¯å·¥ç¨åæç»´çæåã</p>
<p><strong>æä»¬æ¶è·äºä»ä¹ï¼</strong></p>
<ul>
<li><strong>å¯ç»´æ¤æ§</strong>ï¼ä»£ç å³éç½®ï¼é»è¾æ¸æ°ï¼æ°äººä¹è½å¿«éä¸æã</li>
<li><strong>ç¨³å®æ§</strong>ï¼å¼ºç±»åæ£æ¥åå°äº 90% ä»¥ä¸çä½çº§éè¯¯ã</li>
<li><strong>ä¸è´æ§</strong>ï¼è·¨å¹³å°çç»ä¸ä½éªï¼æ¶é¤äºç¯å¢å·®å¼ã</li>
</ul>
<p>å¦æè¯´ä»¥ååæå»ºèæ¬æ¯"å¨é»æä¸­æ¸ç´¢"ï¼é£ä¹ä½¿ç¨ Nuke å°±åæ¯"å¼çç¯èµ°å¤è·¯"ãå¦æä½ åå¤äºç»´æ¤é£äºé¾ä»¥è°è¯çèæ¬è¯­è¨ï¼ä¸å¦¨è¯è¯ææå»ºé»è¾ä¹æ¬å° C# çä¸çéæ¥ï¼ä¹è®¸ä½ ä¼åç°ï¼åæ¥æå»ºä¹å¯ä»¥è¿ä¹ä¼éã</p>
<h2 id="åèèµæ">åèèµæ</h2>
<ul>
<li><a href="https://nuke.build/" target="_blank" rel="noopener nofollow">Nuke å®æ¹ææ¡£</a></li>
<li><a href="https://github.com/HagiCode-org/site" target="_blank" rel="noopener nofollow">HagiCode é¡¹ç®å°å</a></li>
<li><a href="https://learn.microsoft.com/en-us/archive/csharp-team/introducing-csharp-scripting" target="_blank" rel="noopener nofollow">å³äº C# Scripting çæ´å¤ç»è</a></li>
</ul>
<hr>
<p>æè°¢æ¨çéè¯»,å¦ææ¨è§å¾æ¬ææç¨,å¿«ç¹å»ä¸æ¹ç¹èµæé®ð,è®©æ´å¤çäººçå°æ¬æã</p>
<p>æ¬åå®¹éç¨äººå·¥æºè½è¾å©åä½,ç»æ¬äººå®¡æ ¸,ç¬¦åæ¬äººè§ç¹ä¸ç«åºã</p>
<ul>
<li><strong>æ¬æä½è:</strong> <a href="https://www.newbe.pro" target="_blank" rel="noopener nofollow">newbe36524</a></li>
<li><strong>æ¬æé¾æ¥:</strong> <a href="https://hagicode-org.github.io/site/blog/2026/01/26/modern-build-system-with-csharp-and-nuke" target="_blank" rel="noopener nofollow">https://hagicode-org.github.io/site/blog/2026/01/26/modern-build-system-with-csharp-and-nuke</a></li>
<li><strong>çæå£°æ:</strong> æ¬åå®¢æææç« é¤ç¹å«å£°æå¤,åéç¨ BY-NC-SA è®¸å¯åè®®ãè½¬è½½è¯·æ³¨æåºå¤!</li>
</ul>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-27 08:54">2026-01-27 08:54</span>&nbsp;
<a href="https://www.cnblogs.com/newbe36524">Newbe36524</a>&nbsp;
éè¯»(<span id="post_view_count">333</span>)&nbsp;
è¯è®º(<span id="post_comment_count">1</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19536496);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19536496', targetLink: 'https://www.cnblogs.com/newbe36524/p/19536496', title: 'åºäº C# å Nuke æé ç°ä»£åæå»ºç³»ç»çæä½³å®è·µ' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ Sdcb Chats 1.10 ç§æåä»£ç æ§è¡å¨é¨ç½²æç¨ ]]></title>
    <link>https://www.cnblogs.com/sdcb/p/19533814/chats-1-10-deploy</link>
    <guid>230cd44cbe4e80372746c381c59f0cf7</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/sdcb/p/19533814/chats-1-10-deploy" title="åå¸äº 2026-01-27 08:45">
    <span role="heading" aria-level="2">Sdcb Chats 1.10 ç§æåä»£ç æ§è¡å¨é¨ç½²æç¨</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>ä¹åæåäºè¿ç¯åå®¢<a href="https://www.cnblogs.com/sdcb/p/19528764/chats-1-10" target="_blank">ãå¤å» ChatGPT é«çº§æ°æ®åæï¼Sdcb Chats 1.10 éç£åå¸ï¼è½åæExcelãåPPTã</a>ï¼åå¤§å®¶ä»ç»äº Chats 1.10 ææ¿å¨äººå¿çæ°åè½ââåç½®ä»£ç æ§è¡å¨ï¼Code Interpreterï¼ã</p>
<p>æç« ååºåï¼ååå¾ç­çï¼ä½ä¹æå¾å¤æåå¨é®ï¼âè¿åè½ççå¾å¼ºï¼ä½å°åºæä¹é¨ç½²åå¶éç½®åï¼â</p>
<p>åå¤´çäºä¸ä¸åä¸ç¯æç« ï¼ç¡®å®åé¡¾çå´å¥å°ä»ç»åè½ï¼ææå³é®ç<strong>é¨ç½²å®æ</strong>ç»ç¥è¿äºãä¸ºäºè®©å¤§å®¶é½è½å°½å¿«ç¨ä¸è¿ä¸ªâç¡¬æ ¸âåè½ï¼ä»å¤©ç¹å°è¡¥ä¸è¿ç¯è¯¦ç»çä¿å§çº§é¨ç½²éç½®ææ¡£ã</p>
<hr>
<p>æ³è¦å¨ Chats ä¸­ä½¿ç¨âä»£ç æ§è¡âåè½ï¼ä¸»è¦åä¸¤æ­¥èµ°ï¼</p>
<ol>
<li><strong>åºç¡è®¾æ½å±</strong>ï¼è®© Chats æå¡è½è¿ä¸ Docker Daemonï¼å ä¸ºä»£ç æ¯å¨éç¦»ç Docker å®¹å¨ä¸­è¿è¡çï¼ã</li>
<li><strong>åºç¨éç½®å±</strong>ï¼å¨ Chats åå°ååå°å¼å¯ç¸åºçåè½å¼å³ã</li>
</ol>
<h2 id="ç¬¬ä¸é¨åè¿æ¥-docker-daemon">ç¬¬ä¸é¨åï¼è¿æ¥ Docker Daemon</h2>
<p>Chats çä»£ç æ§è¡å¨åçæ¯ï¼å½æ¨¡åéè¦æ§è¡ä»£ç æ¶ï¼Chats ä¼å¨æåå»ºä¸ä¸ªä¸æ¬¡æ§ç Docker å®¹å¨ï¼æ²ç®±ï¼ï¼å¨éé¢è¿è¡ä»£ç å¹¶è·åç»æãå æ­¤ï¼<strong>Chats å¿é¡»æ¥æç®¡ç Docker çæé</strong>ã</p>
<p>è¿éä¸»è¦ä»ç»ä¸¤ç§æå¸¸è§çåºæ¯ï¼çº¯ Docker ç¯å¢ï¼Linux æå¡å¨ï¼å Windows ä¸ç Docker Desktopã</p>
<h3 id="åºæ¯ä¸linux-æå¡å¨--çº¯-docker-ç¯å¢">åºæ¯ä¸ï¼Linux æå¡å¨ / çº¯ Docker ç¯å¢</h3>
<p>è¿æ¯çäº§ç¯å¢æå¸¸ç¨çæ¹å¼ãä½ åªéè¦å°å®¿ä¸»æºç Docker Socket æè½½å° Chats å®¹å¨ä¸­å³å¯ã</p>
<p><img src="https://img2024.cnblogs.com/blog/233608/202601/233608-20260126155139396-122617623.avif" alt="00-docker" loading="lazy"></p>
<h4 id="1-docker-éåè¯´æ">1. Docker éåè¯´æ</h4>
<p>Chats ç Docker éåæç®¡å¨ <code>sdcb/chats</code>ï¼æä»¬æä¾äºå®åçå¤æ¶ææ¯æï¼</p>
<table>
<thead>
<tr>
<th style="text-align: left">æè¿°</th>
<th style="text-align: left">Docker éå Tag</th>
<th style="text-align: left">è¯´æ</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left"><strong>Latestï¼æ¨èï¼</strong></td>
<td style="text-align: left"><code>latest</code></td>
<td style="text-align: left">åå«ææ°ç¨³å®çåè½ï¼å¤æ¶ææ¯æ</td>
</tr>
<tr>
<td style="text-align: left">æå®å®æ´çæ¬</td>
<td style="text-align: left"><code>{version}</code> (å¦ <code>1.10.0</code>)</td>
<td style="text-align: left">çäº§ç¯å¢æ¨èéå®çæ¬</td>
</tr>
<tr>
<td style="text-align: left">æå®ä¸»/æ¬¡çæ¬</td>
<td style="text-align: left"><code>{major}</code> / <code>{major.minor}</code></td>
<td style="text-align: left">å¦ <code>1</code>, <code>1.10</code>ï¼èªå¨æ´æ°å°è¯¥ç³»åææ°ç</td>
</tr>
<tr>
<td style="text-align: left">ç¹å®å¹³å°</td>
<td style="text-align: left"><code>...-linux-x64</code> ç­</td>
<td style="text-align: left">ä»å¨å¿é¡»æå¨æå®æ¶ææ¶ä½¿ç¨</td>
</tr>
</tbody>
</table>
<p><strong>å³äº Manifest (å¤æ¶ææ¯æ)</strong>ï¼<br>
æä»¬ç <code>latest</code> åè¯­ä¹åçæ¬æ ç­¾ï¼å¦ <code>1.10.0</code>ï¼é½æ¯ <strong>Manifest List</strong>ãè¿æå³çä½ <strong>ä¸éè¦</strong>æå¨åºå <code>linux-x64</code> è¿æ¯ <code>linux-arm64</code>ã<br>
æ è®ºä½ å¨ x64 ç Linux æå¡å¨ãARM64 çæ èæ´¾ï¼è¿æ¯ Windows Server (Nano Server) ä¸æ§è¡ <code>docker pull sdcb/chats:latest</code>ï¼Docker é½ä¼èªå¨æ£æµå¹¶æåæéåå½åç³»ç»çéåå±ã</p>
<h4 id="2-å¯å¨éç½®">2. å¯å¨éç½®</h4>
<p>ç±äº Docker Socket é»è®¤å±äº root ç¨æ·ï¼ä¸ºäºé¿åæéé®é¢ï¼Permission Deniedï¼ï¼å»ºè®®æ¾å¼æå® <code>--user 0:0</code> ä»¥ root èº«ä»½è¿è¡å®¹å¨ã</p>
<p>å¨å¯å¨ Chats ç <code>docker run</code> å½ä»¤æ <code>docker-compose.yml</code> ä¸­ï¼æ·»å  user éç½®åæè½½å·ï¼</p>
<pre><code class="language-bash">-v /var/run/docker.sock:/var/run/docker.sock --user 0:0
</code></pre>
<p><strong>å®æ´ç docker run å½ä»¤ç¤ºä¾</strong>ï¼</p>
<pre><code class="language-bash"># åå»ºæ°æ®ç®å½å¹¶ææ
mkdir -p ./AppData &amp;&amp; chmod 755 ./AppData

# å¯å¨å®¹å¨
docker run -d --restart unless-stopped --name sdcb-chats \
  -p 8080:8080 \
  -e DBType=sqlite \
  -e ConnectionStrings__ChatsDB="Data Source=./AppData/chats.db" \
  -v ./AppData:/app/AppData \
  -v /var/run/docker.sock:/var/run/docker.sock --user 0:0 \
  sdcb/chats:latest
</code></pre>
<p><strong>ç¤ºä¾ docker-compose.yml</strong>ï¼</p>
<pre><code class="language-yaml">version: '3'
services:
  chats:
    image: sdcb/chats:latest
    user: 0:0 # å³é®ï¼å¿é¡»ä½¿ç¨ root ç¨æ·æè½è®¿é® docker.sock
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock # å³é®éç½®ï¼æè½½ Docker å®æ¤è¿ç¨
      - ./data:/app/data
    ports:
      - "8080:8080"
</code></pre>
<h3 id="åºæ¯äºwindows-ç¯å¢">åºæ¯äºï¼Windows ç¯å¢</h3>
<p>å¨ Windows (ä½¿ç¨ Docker Desktop) ä¸é¨ç½²æ¶ï¼æåµç¨å¾®ç¹æ®ä¸ç¹ï¼åå³äºä½ æ¯<strong>å¨ Docker å®¹å¨åè¿è¡ Chats</strong>ï¼è¿æ¯<strong>ç´æ¥è¿è¡ Chats ç Windows å¯æ§è¡æä»¶ (.exe)</strong>ã</p>
<h4 id="æåµ-achats-è¿è¡å¨-docker-å®¹å¨åæ¨è">æåµ Aï¼Chats è¿è¡å¨ Docker å®¹å¨åï¼æ¨èï¼</h4>
<p>å¦æä½ æ¯éè¿ <code>docker run</code> å¯å¨ Chats çï¼é£ä¹æ­åä½ ï¼éç½®æ¹æ³å¶å®å Linux <strong>å®å¨ä¸æ ·</strong>ï¼</p>
<p>Docker Desktop for Windows åäºå¾å¥½çå¼å®¹ï¼ä½ åªéè¦æ <code>/var/run/docker.sock</code> æè½½è¿å»å³å¯ï¼<strong>ä¸éè¦</strong>éç½® npipe æ TCPã</p>
<p><strong>PowerShell å¯å¨å½ä»¤ç¤ºä¾</strong>ï¼</p>
<pre><code class="language-powershell">docker run -d -p 8080:8080 `
  -v /var/run/docker.sock:/var/run/docker.sock `
  -v ${PWD}/data:/app/data `
  sdcb/chats:latest
</code></pre>
<h4 id="æåµ-bchats-ä½ä¸ºåçå¯æ§è¡æä»¶è¿è¡">æåµ Bï¼Chats ä½ä¸ºåçå¯æ§è¡æä»¶è¿è¡</h4>
<p>å¦æä½ ä¸ä¹ æ¯ä½¿ç¨ Docker é¨ç½²åºç¨ï¼æä»¬æä¾äºåºäºé¢ç¼è¯çåçå¯æ§è¡æä»¶ï¼<strong>æ éå®è£ä»»ä½è¿è¡æ¶</strong>ï¼å¦ .NET SDK/Runtimeï¼å³å¯ç´æ¥è¿è¡ï¼å¯å¨éåº¦è¾å¿«ä¸åå­å ç¨ä½ã</p>
<p><strong>å¯æ§è¡æä»¶åè¡¨</strong>ï¼</p>
<table>
<thead>
<tr>
<th style="text-align: left">å¹³å°</th>
<th style="text-align: left">æä»¶å</th>
<th style="text-align: left">è¯´æ</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left"><strong>Windows 64ä½</strong></td>
<td style="text-align: left"><code>chats-win-x64.zip</code></td>
<td style="text-align: left">æ¨èå¤§å¤æ° Windows ç¨æ·</td>
</tr>
<tr>
<td style="text-align: left">Linux 64ä½</td>
<td style="text-align: left"><code>chats-linux-x64.zip</code></td>
<td style="text-align: left">å¸¸è§ç Linux æå¡å¨ (glibc)</td>
</tr>
<tr>
<td style="text-align: left">Linux ARM64</td>
<td style="text-align: left"><code>chats-linux-arm64.zip</code></td>
<td style="text-align: left">æ èæ´¾ãMac Mç³»ådockerç­</td>
</tr>
<tr>
<td style="text-align: left">Linux Musl</td>
<td style="text-align: left"><code>chats-linux-musl-*.zip</code></td>
<td style="text-align: left">éç¨äº Alpine ç­è½»éçº§åè¡ç</td>
</tr>
<tr>
<td style="text-align: left">macOS</td>
<td style="text-align: left"><code>chats-osx-*.zip</code></td>
<td style="text-align: left">æ¯æ x64 (Intel) å ARM64 (Mç³»åè¯ç)</td>
</tr>
<tr>
<td style="text-align: left">éç¨å</td>
<td style="text-align: left"><code>chats.zip</code></td>
<td style="text-align: left"><strong>éå®è£ .NET 10</strong>ï¼è·¨å¹³å°</td>
</tr>
</tbody>
</table>
<p>ä½ å¯ä»¥ä» <a href="https://github.com/sdcb/chats/blob/main/doc/zh-CN/downloads.md" target="_blank" rel="noopener nofollow">ä¸è½½æåææ¡£</a> é¡µé¢è·åä¸è½½å°åãè¯¥ææ¡£è¯¦ç»ååºäº GitHub Releases åå½åå ééåçä¸è½½æ¹å¼ã</p>
<p><strong>éç½®ä¸å¯å¨</strong>ï¼</p>
<p>å¦æä½ ä¸è½½äº <code>Chats.BE.exe</code> (Windows çåç«¯) ç´æ¥è¿è¡ï¼èä¸æ¯ä½¿ç¨ Docker éåï¼é£ä¹ä½ éè¦éè¿å½ä»¤è¡åæ°æå® Windows ç<strong>å½åç®¡é (Named Pipe)</strong> æ¥è¿æ¥ Docker å¼æã</p>
<ol>
<li><strong>ä¸è½½ç¨åº</strong>ï¼ä¸è½½å¹¶è§£åå¯¹åºç <code>chats-win-x64.zip</code>ã</li>
<li><strong>å¯å¨å½ä»¤</strong>ï¼ä½¿ç¨ <code>--CodePod:DockerEndpoint</code> åæ°æå® Docker æ¥å¥ç¹ã</li>
</ol>
<p><strong>PowerShell å¯å¨å½ä»¤ç¤ºä¾</strong>ï¼</p>
<pre><code class="language-powershell"># å¯å¨åç«¯ç¨åºï¼å¹¶æå® Docker å¼æå°å
.\Chats.BE.exe --CodePod:DockerEndpoint npipe://./pipe/docker_engine
</code></pre>
<p>ä½ ä¹å¯ä»¥åæ¶æå®å¶å®åæ°ï¼å¦ç«¯å£ï¼ï¼</p>
<pre><code class="language-powershell">.\Chats.BE.exe --urls http://+:5000 --CodePod:DockerEndpoint npipe://./pipe/docker_engine
</code></pre>
<p>è¿æ ·ï¼åçè¿è¡ç Chats ä¹è½é¡ºå©ææ¥ Docker Desktop åå»ºæ²ç®±ç¯å¢äºã</p>
<hr>
<h2 id="ç¬¬äºé¨åå¨-chats-ä¸­å¯ç¨åè½">ç¬¬äºé¨åï¼å¨ Chats ä¸­å¯ç¨åè½</h2>
<p>è¿ä¸ Docker åªæ¯æéäºç»èï¼æ¥ä¸æ¥è¿éè¦å¨ Chats åé¨âè§£éâè¿ä¸ªæè½ã</p>
<h3 id="1-åç«¯éç½®æ¨¡åè®¾ç½®">1. åç«¯éç½®ï¼æ¨¡åè®¾ç½®</h3>
<p>é¦åï¼æä»¬è¦åè¯ Chatsï¼åªäºæ¨¡ååè®¸ä½¿ç¨è¿ä¸ªè½åã</p>
<ol>
<li>ä»¥ç®¡çåèº«ä»½ç»å½ Chatsã</li>
<li>è¿å¥<strong>åå°ç®¡ç</strong> -&gt; <strong>æ¨¡åéç½®</strong>ã</li>
<li>å±å¼ä½ æ³è¦çæ¨¡åæä¾å-&gt;æ¨¡åå¯é¥ï¼ç¶åç¼è¾ä½ æ³è¦ä½¿ç¨çæ¨¡åï¼ä¾å¦deepseek-v3.2ï¼ã
<ul>
<li><strong>æ³¨æ</strong>ï¼ä»»ä½æ¯æ Tool Call (å·¥å·è°ç¨) çæ¨¡å API é½å¯ä»¥ï¼æ è®ºæ¯ OpenAI åçç Chat Completionsï¼è¿æ¯Responses API/Messages APIã</li>
</ul>
</li>
<li>å¨åè½åè¡¨ä¸­ï¼æ¾å°å¹¶å¾é <strong>âä»£ç æ§è¡ (Code Execution)â</strong>ã<br>
<img src="https://img2024.cnblogs.com/blog/233608/202601/233608-20260126151714293-1229825697.avif" alt="" loading="lazy"></li>
</ol>
<p><strong>â ï¸ ç¹å«æ³¨æï¼ç¨æ·æéåé</strong></p>
<p>å¾å¤ç¬¬ä¸æ¬¡æ·»å æ¨¡åçæåå®¹æå¿½ç¥è¿ä¸ç¹ï¼<strong>å¯ç¨åè½åï¼å¿é¡»æç¡®ææç»ç¨æ·ã</strong></p>
<p>å¨æ¨¡åç¼è¾é¡µé¢çåºé¨ï¼å±å¼<strong>ç¨æ·åè¡¨ (User Access)</strong>ï¼ç¡®ä¿<strong>ç»ä½ èªå·±çè´¦å·ï¼æéè¦ä½¿ç¨çç¨æ·ï¼å¾éä¸æé</strong>ãå¦æä¸å¾éï¼ä½ å¨åå°æ¯çä¸å°è¿ä¸ªæ¨¡åçï¼æèæ æ³è°ç¨è¯¥åè½ã</p>
<p><img src="https://img2024.cnblogs.com/blog/233608/202601/233608-20260126151715025-1987207460.avif" alt="" loading="lazy"></p>
<h3 id="2-åç«¯éç½®å¼å¯ä¼è¯å¼å³">2. åç«¯éç½®ï¼å¼å¯ä¼è¯å¼å³</h3>
<p>åç«¯åå¤å°±ç»ªåï¼æåä¸æ­¥æ¯å¨èå¤©çé¢å¼å¯ä½¿ç¨ã</p>
<ol>
<li>åå°<strong>èå¤© (Chat)</strong> çé¢ã</li>
<li>å¨é¡¶é¨çæ¨¡åéç½®æ ï¼éå¸¸æ¾ç¤ºæ¨¡ååç§°çå°æ¹ï¼ï¼ç¹å»å±å¼éç½®é¢æ¿ã</li>
<li>æ¾å° <strong>âä»£ç æ§è¡â</strong> å¼å³ï¼å°å¶æå¼ã</li>
</ol>
<p><img src="https://img2024.cnblogs.com/blog/233608/202601/233608-20260126151715455-1639921351.avif" alt="" loading="lazy"></p>
<hr>
<h2 id="æææ¼ç¤º">æææ¼ç¤º</h2>
<p>ä¸åå°±ç»ªï¼ç°å¨ä½ å¯ä»¥åä½¿ç¨ ChatGPT çé«çº§æ°æ®åæä¸æ ·ï¼ä¸ä¼ ä¸ä¸ª Excel æä»¶ï¼æèè®©å®å¸®ä½ ç»ä¸å¼ å¾è¡¨äºã</p>
<p>è¯è¯åéè¿æ ·çæä»¤ï¼</p>
<blockquote>
<p>è¯·å¸®æåæè¿ä¸ª Excel æä»¶ï¼<a href="https://cv-public.sdcb.pub/2026/changsha_weather_2025.xlsx%EF%BC%8C%E7%94%9F%E6%88%90%E4%B8%80%E4%B8%AA%E5%8C%85%E5%90%AB%E6%AF%8F%E6%9C%88%E5%B9%B3%E5%9D%87%E6%B0%94%E6%B8%A9%E5%92%8C%E9%99%8D%E6%B0%B4%E9%87%8F%E7%9A%84%E6%8A%A5%E5%91%8A%EF%BC%8C%E5%B9%B6%E9%99%84%E4%B8%8A%E5%9B%BE%E8%A1%A8" target="_blank" rel="noopener nofollow">https://cv-public.sdcb.pub/2026/changsha_weather_2025.xlsxï¼çæä¸ä¸ªåå«æ¯æå¹³åæ°æ¸©åéæ°´éçæ¥åï¼å¹¶éä¸å¾è¡¨</a></p>
</blockquote>
<p>Chats ä¼èªå¨åå»ºä¸ä¸ªéç¦»ç Docker ç¯å¢ï¼ç¼å Python ä»£ç ï¼æ§è¡å¹¶æçæçå¾çç´æ¥è´´å¨å¯¹è¯æ¡éã</p>
<p><img src="https://img2024.cnblogs.com/blog/233608/202601/233608-20260125102328487-114968639.avif" alt="" loading="lazy"></p>
<hr>
<h2 id="å®å¨æ§èé">å®å¨æ§èé</h2>
<p>â ï¸ <strong>éè¦æç¤º</strong>ï¼ä¸æ¨¡å API è°ç¨ä¸åï¼ä»£ç æ§è¡åè½ç®å<strong>ä¸è¿è¡ä»»ä½è®¡è´¹</strong>ï¼ä»éè¿å¨å±éç½®åäºä¸äºåºç¡éå¶ãå¦æä½ æç®å° Chats å¼æ¾ç»æªç»ååä¿¡ä»»çç¨æ·ä½¿ç¨ï¼ä¾å¦æ­å»ºç±»ä¼¼ ChatGPT/Manus çå¬å¼æå¡ï¼ï¼å¡å¿è®¤çéç½®ä»¥ä¸å®å¨ç­ç¥ï¼é¿åæå¡å¨èµæºè¢«æ»¥ç¨çè³è¢«æ»å»ã</p>
<h3 id="1-ç½ç»éç¦»">1. ç½ç»éç¦»</h3>
<p>ä»£ç æ§è¡å®¹å¨çé»è®¤ç½ç»æ¨¡å¼ä¸º <code>bridge</code>ï¼è¿ä¸ ChatGPT çå®å¨éç¦»æ²ç®±ä¸åââ<strong>å®¹å¨æ¯å¯ä»¥èç½ç</strong>ã</p>
<p>è¿ä¸ªè®¾è®¡æ¯ææä¸ºä¹çï¼å ä¸ºå®å¸¦æ¥äºæ´å¼ºå¤§çè½åï¼</p>
<ul>
<li>AI å¯ä»¥å¨å®¹å¨åä¸è½½æä»¶ãè°ç¨å¤é¨ APIãå®è£ä¾èµåã</li>
<li>çè³å¯ä»¥è®© AI åå»ºå¤ä¸ª Docker å®¹å¨ååå·¥ä½ï¼æ¯å¦ä¸ä¸ªè· Web åºç¨ãä¸ä¸ªè·æ°æ®åºï¼ï¼Chats ä¼å¨å·¥å·è°ç¨ååºä¸­è¿åå®¹å¨çå±åç½ IP å°åï¼æ¨¡åå¯ä»¥æ®æ­¤è¿è¡å®¹å¨é´éä¿¡ã</li>
</ul>
<p>ä½è¿ä¹æå³çæ½å¨é£é©ï¼</p>
<ul>
<li>å®¹å¨å¯ä»¥è®¿é®å®¿ä¸»æºåä¸ Docker ç½ç»åçå¶ä»æå¡ï¼åæ¬ä½ çæ°æ®åºãRedis ç­ï¼ã</li>
<li>æ¶æç¨æ·å¯è½å©ç¨æ­¤è½åè¿è¡åç½æ«æææ»å»ã</li>
</ul>
<p><strong>å»ºè®®</strong>ï¼</p>
<ul>
<li><strong>å®å¨ææç¯å¢</strong>ï¼å° <code>CodeInterpreter:MaxAllowedNetworkMode</code> è®¾ç½®ä¸º <code>none</code>ï¼å®å¨ç¦æ­¢å®¹å¨èç½ã</li>
<li><strong>ç©çéç¦»</strong>ï¼å¨ä¸å°ç¬ç«çèææºæç©çæºä¸è¿è¡ Docker Daemonï¼Chats éè¿ TCP è¿ç¨è¿æ¥ï¼ä»èå®ç°ç½ç»å±é¢çå½»åºéç¦»ã</li>
</ul>
<h3 id="2-èµæºéå¶">2. èµæºéå¶</h3>
<p>AI å¯ä»¥åå»ºä»»ææ°éç Docker ä¼è¯ï¼éè¿ <code>create_docker_session</code> å·¥å·ï¼ãè½ç¶ç©ºé²ä¼è¯ä¼å¨ä¸å®æ¶é´åèªå¨æ¸çï¼ä½ä»å­å¨ä»¥ä¸é£é©ï¼</p>
<ul>
<li><strong>ç®åæ»¥ç¨</strong>ï¼æ¶æç¨æ·å¯è½è¿è¡é«è´è½½ä»»å¡ï¼èå°½æå¡å¨ CPU/åå­ã</li>
<li><strong>ç£çå ç¨</strong>ï¼AI å¯è½æåä¸åçæ¬çéåï¼è¿äºéå<strong>ä¸ä¼èªå¨æ¸ç</strong>ï¼é¿æç§¯ç´¯ä¼å æ»¡ç£çã</li>
</ul>
<p>Chats æä¾äºç»ç²åº¦çèµæºéå¶éç½®ï¼<strong>å¼ºçå»ºè®®æ ¹æ®å®éæåµè°æ´</strong>ï¼</p>
<table>
<thead>
<tr>
<th style="text-align: left">éç½®é¡¹</th>
<th style="text-align: left">é»è®¤å¼</th>
<th style="text-align: left">è¯´æ</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left"><code>CodeInterpreter:DefaultResourceLimits:MemoryBytes</code></td>
<td style="text-align: left"><code>2147483648</code> (2GB)</td>
<td style="text-align: left">åä¸ªå®¹å¨åå­ä¸é</td>
</tr>
<tr>
<td style="text-align: left"><code>CodeInterpreter:DefaultResourceLimits:CpuCores</code></td>
<td style="text-align: left"><code>2.0</code></td>
<td style="text-align: left">åä¸ªå®¹å¨ CPU æ ¸æ°</td>
</tr>
<tr>
<td style="text-align: left"><code>CodeInterpreter:DefaultResourceLimits:MaxProcesses</code></td>
<td style="text-align: left"><code>200</code></td>
<td style="text-align: left">åä¸ªå®¹å¨æå¤§è¿ç¨æ°</td>
</tr>
<tr>
<td style="text-align: left"><code>CodeInterpreter:MaxResourceLimits:*</code></td>
<td style="text-align: left"><code>null</code> (ä¸éå¶)</td>
<td style="text-align: left">ç¡¬ä¸éï¼é²æ­¢ AI è¯·æ±è¶é¢èµæº</td>
</tr>
<tr>
<td style="text-align: left"><code>CodeInterpreter:SessionIdleTimeoutSeconds</code></td>
<td style="text-align: left"><code>1800</code> (30åé)</td>
<td style="text-align: left">ç©ºé²ä¼è¯èªå¨åæ¶æ¶é´</td>
</tr>
<tr>
<td style="text-align: left"><code>CodeInterpreter:DefaultTimeoutSeconds</code></td>
<td style="text-align: left"><code>300</code> (5åé)</td>
<td style="text-align: left">åæ¬¡å½ä»¤æ§è¡è¶æ¶</td>
</tr>
</tbody>
</table>
<p>é»è®¤ç 2 æ ¸ 2GB éç½®å¯ä»¥å®æå¤§å¤æ°æ¥å¸¸ä»»å¡ï¼æ°æ®åæãå¾è¡¨çæãææ¡£å¤çç­ï¼ãå¦æä½ çåºæ¯éè¦æ´å¤èµæºï¼å¦è§é¢å¤çãå¤§è§æ¨¡è®¡ç®ï¼ï¼å¯ä»¥éå½æ¾å®½ï¼åä¹ï¼å¦ææ¯å¬å¼æå¡ï¼å»ºè®®æ¶ç´§éå¶ã</p>
<h3 id="3-æä»¶ä¸ä¼ éå¶">3. æä»¶ä¸ä¼ éå¶</h3>
<p>AI æ§è¡ä»£ç åå¯ä»¥å°çæçæä»¶ï¼artifactsï¼åä¼ ç»ç¨æ·ãä¸ºé²æ­¢æ»¥ç¨ï¼Chats ä¹æä¾äºç¸åºéå¶ï¼</p>
<table>
<thead>
<tr>
<th style="text-align: left">éç½®é¡¹</th>
<th style="text-align: left">é»è®¤å¼</th>
<th style="text-align: left">è¯´æ</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left"><code>CodeInterpreter:MaxArtifactsFilesToUpload</code></td>
<td style="text-align: left"><code>50</code></td>
<td style="text-align: left">æ¯è½®æå¤åä¼ æä»¶æ°</td>
</tr>
<tr>
<td style="text-align: left"><code>CodeInterpreter:MaxSingleUploadBytes</code></td>
<td style="text-align: left"><code>157286400</code> (150MB)</td>
<td style="text-align: left">åä¸ªæä»¶æå¤§å¤§å°</td>
</tr>
<tr>
<td style="text-align: left"><code>CodeInterpreter:MaxTotalUploadBytesPerTurn</code></td>
<td style="text-align: left"><code>314572800</code> (300MB)</td>
<td style="text-align: left">åè½®æ»ä¸ä¼ å¤§å°</td>
</tr>
</tbody>
</table>
<h3 id="4-å¶ä»å»ºè®®">4. å¶ä»å»ºè®®</h3>
<ul>
<li><strong>å®ææ¸çéå</strong>ï¼ä½¿ç¨ <code>docker image prune</code> æ <code>docker system prune</code> å®ææ¸çæªä½¿ç¨çéååæ¬æèµæºã</li>
<li><strong>çæ§ä¸åè­¦</strong>ï¼å¯¹ Docker å®¿ä¸»æºç CPUãåå­ãç£çä½¿ç¨çè®¾ç½®çæ§åè­¦ã</li>
<li><strong>ç¨æ·æéç®¡ç</strong>ï¼ä»å¯¹ä¿¡ä»»çç¨æ·å¼æ¾ä»£ç æ§è¡åè½ï¼å¨æ¨¡åéç½®ä¸­è°¨æåéæéã</li>
</ul>
<p>æ´å¤éç½®ç»èè¯·åèï¼<a href="https://github.com/sdcb/chats/blob/main/doc/zh-CN/configuration.md" target="_blank" rel="noopener nofollow">éç½®è¯´æææ¡£</a></p>
<hr>
<h2 id="ç»è¯­">ç»è¯­</h2>
<p>å¸æè¿ç¯ææ¡£è½å¸®ä½ é¡ºå©é¨ç½² Chats 1.10ï¼ä½éªå®å¨ç§æåãå¯æ§çä»£ç è§£éå¨åè½ã</p>
<p>æè°¢éè¯»ï¼åæ¬¢çæåè¯·ç»æç GitHub é¡¹ç®ä¸ä¸ª starï¼<br>
<a href="https://github.com/sdcb/chats" target="_blank" rel="noopener nofollow">https://github.com/sdcb/chats</a></p>
<p>è¿æ¯å®æ´çæ´æ°æ¥å¿ï¼åå«æ´å¤ææ¯ç»èï¼<br>
<a href="https://github.com/sdcb/chats/blob/main/doc/zh-CN/release-notes/README.md" target="_blank" rel="noopener nofollow">https://github.com/sdcb/chats/blob/main/doc/zh-CN/release-notes/README.md</a></p>
<p>æä»ä¹æ³æ³ä¹æ¬¢è¿å¨è¯è®ºåºçè¨äº¤æµï¼ä¹æ¬¢è¿å å¥æçæ°åå»ºçå¾®ä¿¡ç¾¤ï¼</p>
<p><img src="https://io.starworks.cc:88/cv-public/2026/chats-wxg-qr.png" alt="" loading="lazy"></p>
<p>å¦æä½ æ´ä¹ æ¯ç¨ QQ çè¯ï¼ä¹å¯ä»¥å å¥ Chats QQ ç¾¤ï¼<strong>498452653</strong>ï¼æä»¬ä¸èµ·æ¢ç´¢æ´å¤ AI ææ¯ç¡¬æ ¸ç©æ³ã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.007638888888888889" data-date-updated="2026-01-27 08:56">2026-01-27 08:45</span>&nbsp;
<a href="https://www.cnblogs.com/sdcb">.NETéªæä½</a>&nbsp;
éè¯»(<span id="post_view_count">130</span>)&nbsp;
è¯è®º(<span id="post_comment_count">1</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19533814);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19533814', targetLink: 'https://www.cnblogs.com/sdcb/p/19533814/chats-1-10-deploy', title: 'Sdcb Chats 1.10 ç§æåä»£ç æ§è¡å¨é¨ç½²æç¨' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ FastAPIå¼å¸¸å¤çå¨è§£æï¼å«è®©ä½ çAPIå¨ç¨æ·é¢åâè£¸å¥â ]]></title>
    <link>https://www.cnblogs.com/ymtianyu/p/19536459</link>
    <guid>2b14066d334cc0fbf8a4fa501f1bd989</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/ymtianyu/p/19536459" title="åå¸äº 2026-01-27 08:38">
    <span role="heading" aria-level="2">FastAPIå¼å¸¸å¤çå¨è§£æï¼å«è®©ä½ çAPIå¨ç¨æ·é¢åâè£¸å¥â</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        æ¬æç³»ç»è§£æäºFastAPIä¸­å¼å¸¸å¤ççæ ¸å¿æå·§ï¼æ¶µçHTTPExceptionåºç¡ç¨æ³ãèªå®ä¹ä¸å¡å¼å¸¸è®¾è®¡ãå¨å±å¼å¸¸å¤çå¨éç½®ä»¥åWebSocketå¼å¸¸å¤çãéè¿çå¨çæ¯å»åå®æä»£ç ï¼å¸®å©ä½ æå»ºå¥å£®ãåå¥½çAPIéè¯¯ååºæºå¶ï¼æåç³»ç»ç¨³å®æ§åç¨æ·ä½éªã
    </div>
<div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p><strong style="color: rgba(186, 55, 42, 1)">æè¦ï¼</strong>æ¬ææ·±å¥è®²è§£FastAPIä¸­<span style="color: rgba(186, 55, 42, 1)"><code>HTTPException</code></span>ã<span style="color: rgba(186, 55, 42, 1)"><code>WebSocketException</code></span>ç­å¸¸è§å¼å¸¸çæè·ä¸å¤çæå·§ï¼æ¶µçä»åºç¡éç½®å°å¨å±å¼å¸¸å¤çå¨çå®æ´å®è·µãéè¿é¤åç¹é¤ãæ¶é²éç­çå¨æ¯å»ï¼å¸®å©ä½ æå»ºå¥å£®ãåå¥½çAPIéè¯¯ååºä½ç³»ï¼é¿åæå¡å´©æºåç³ç³çç¨æ·ä½éªã</p>
<h1>æ·±å¤æ¹Bugï¼ä½ çAPIå¨ç¨æ·é¢åâè£¸å¥âäºåï¼</h1>
<p>ä½ ææ²¡æç»åè¿è¿ç§å©æ¢¦åºæ¯ï¼ââç¨æ·åé¦âé¡µé¢ç½å±âæâæä½å¤±è´¥âï¼ä½ ææå¼ å¼ æ¥æ¥å¿ï¼åç°æ¯ä¸ªæ²¡å¤ççå¼å¸¸ï¼è¿åäºä¸å Pythonè°ç¨æ ç»åç«¯ï¼ç¨æ·çå°ä¸è¸æµï¼ä½ debugå¾æ³æå¢ã</p>
<p>åçæ¡ä¾ï¼ä¸ä¸ªç®åçè¯·æ±åæ°éªè¯å¤±è´¥ï¼å ä¸ºæ²¡æ­£ç¡®å¤çï¼ç´æ¥æäº500åé¨éè¯¯ãçæ§æ¥è­¦åå¤åèµ·ï¼ç¨æ·æè¯æ¥è¸µèè³ï¼å¢éå°ä¼ä¼´è¿å¤ææ¥ä¿®å¤ãçå®æçï¼<strong style="color: rgba(186, 55, 42, 1)">å¼å¸¸å¤çè¿ç©æå¿ï¼çä¼¼è¾¹ç¼ï¼å®åæ¯APIçé¨é¢åé ç²</strong>ãå¤çå¾å¥½ï¼ç¨æ·ä½éªä¸æ»ï¼å¤çä¸å¥½ï¼å°±æ¯ææ¯åºéçå®æ¶ç¸å¼¹ã</p>
<p>ä»å¤©ï¼å±ä»¬å°±æ¥å½»åºèèFastAPIéçå¼å¸¸å¤çãè¿ä¸æ¯æææ¡£ï¼èæ¯æè¸©äºæ æ°ååï¼ç»ä½ æ»ç»çå®æå¿å¾ãåå¤å¥½äºåï¼å±ä»¬å¼å§å§ï¼</p>
<h2>ð¯ æ ¸å¿èç»ï¼ä»âæç«âå°âé²ç«â</h2>
<div>
<p>ð¸ 1. ä¸ºä»ä¹FastAPIçå¼å¸¸å¤çè¿ä¹éè¦ï¼ââä¸åªæ¯ææ¯ï¼æ´æ¯ç¨æ·ä½éª</p>
<p>ð¸ 2. HTTPExceptionï¼ä½ çç¬¬ä¸éé²çº¿ï¼ä½å«åªé å®</p>
<p>ð¸ 3. èªå®ä¹å¼å¸¸ï¼è®©éè¯¯ä¿¡æ¯ä¼âè¯´è¯â</p>
<p>ð¸ 4. å¨å±å¼å¸¸å¤çå¨ï¼ç»APIç©¿ä¸âé²å¼¹è¡£â</p>
<p>ð¸ 5. WebSocketExceptionï¼å®æ¶éè®¯çå¼å¸¸è¯¥æä¹ç®¡ï¼</p>
<p>ð¸ 6. è¿é¶æå·§ä¸é¿åæå</p>
</div>
<h2>ð ç¬¬ä¸é¨åï¼å¼å¸¸å¤çä¸æ¯å¤éé¡¹ï¼èæ¯å¿éé¡¹</h2>
<p>æAPIæ³è±¡æä¸å®¶é¤åãç¨æ·ç¹é¤ï¼åéè¯·æ±ï¼ï¼å¨æ¿å¤çï¼æå¡ç«¯é»è¾ï¼ï¼æåä¸èï¼è¿åååºï¼ãå¼å¸¸å¤çæ¯ä»ä¹ï¼å°±æ¯å½å¨æ¿åç°âé±¼åå®äºâæèâå®¢äººå¯¹æµ·é²è¿æâæ¶ï¼<strong style="color: rgba(186, 55, 42, 1)">æå¡åå¦ä½å¾ä½å°åç¥é¡¾å®¢ï¼å¹¶ç»åºæ¿ä»£æ¹æ¡</strong>ï¼èä¸æ¯ç´æ¥æéæäºï¼æèæç»é¡¾å®¢ä¸å¼ çä¸æçåå¨éè´­åï¼Python tracebackï¼ã</p>
<p>æåç¨FastAPIé£ä¼å¿ï¼ä¹å·æè¿ï¼è§å¾æé»è®¤éè¯¯é¡µé¢å°±è¡ãç»æå¢ï¼åç«¯åäºå¤©å¤©æ¾æè¦éè¯¯ç å¯¹ç§è¡¨ï¼æµè¯åå­¦æ¥çBugæè¿°æ¨¡ç³ä¸æ¸ï¼çº¿ä¸åºäºé®é¢å®ä½æ¢å¦èçãè¡çæè®­åè¯æä»¬ï¼<strong style="color: rgba(186, 55, 42, 1)">å¼å¸¸å¤çå¿é¡»åä¸å¡é»è¾åæ­¥è®¾è®¡ï¼çè³è¦æ´æ©èè</strong>ã</p>
<h2>ð¡ï¸ ç¬¬äºé¨åï¼HTTPExceptionï¼ç¨å¥½å®ä½å«ä¾èµå®</h2>
<p>FastAPIæä¾äº<code style="color: rgba(186, 55, 42, 1)">HTTPException</code>ï¼è¿æ¯æç´æ¥ãæå¸¸ç¨çå¼å¸¸æåºæ¹å¼ãå®å°±åä¸ä¸ªæ ååçâéè¯¯éç¥åâã</p>
<pre class="language-python highlighter-hljs"><code>from fastapi import FastAPI, HTTPException
from pydantic import BaseModel

app = FastAPI()

class Item(BaseModel):
    name: str
    price: float

@app.get("/items/{item_id}")
async def read_item(item_id: int):
    if item_id not in item_db:
        # å³é®å¨è¿éï¼æåºå¸¦ç¶æç åè¯¦æçå¼å¸¸
        raise HTTPException(
            status_code=404,
            detail="Item not found",
            headers={"X-Error": "ItemID-Missing"}
        )
    return {"item": item_db[item_id]}</code></pre>
<p>çè¿æ®µä»£ç ï¼<code style="color: rgba(186, 55, 42, 1)">status_code</code>åè¯åç«¯è¿æ¯ä»ä¹ç±»åçéè¯¯ï¼404æ¾ä¸å°äºï¼ï¼<code style="color: rgba(186, 55, 42, 1)">detail</code>ç»äººç±»ççåå ï¼<code style="color: rgba(186, 55, 42, 1)">headers</code>éè¿è½å¡ç¹ç»æºå¨ççé¢å¤ä¿¡æ¯ãæ¯ä¸æ¯å¾åæå¡åè¯´ï¼âæ±æ­åçï¼æ¨ç¹çè¿éèï¼item_idï¼ä»å¤©å®ç½äºï¼404ï¼ï¼è¿æ¯æä»¬æ¨èçç¸ä¼¼èåï¼headerséå¯ä»¥æ¾æ¨èï¼âã</p>
<p><strong style="color: rgba(186, 55, 42, 1)">ä½æ¯ï¼åä¸å«ä»¥ä¸ºåªç¨HTTPExceptionå°±ä¸äºå¤§åäºã</strong>æ³è±¡ä¸ä¸ï¼ä½ é¤åçåå¨çç«äºï¼æå¡å¨åé¨éè¯¯ï¼ï¼æèå®¢äººæ¿äºä¸å¼ åéæ¥ä»æ¬¾ï¼è¯·æ±æ°æ®æ ¹æ¬ä¸ç¬¦åæ ¼å¼ï¼ï¼è¿æ¶ååªé æå¡åè¯´âèæ²¡äºâæ¾ç¶ä¸å¤ãæä»¬éè¦æ´å¼ºå¤§çæºå¶ã</p>
<h2>ð§ ç¬¬ä¸é¨åï¼æé ä½ çâå¼å¸¸æ¶é²éâââå¨å±å¼å¸¸å¤çå¨</h2>
<p>å¨å±å¼å¸¸å¤çå¨ï¼Exception Handlerï¼å°±æ¯ä½ APIå¤§æ¥¼éç<strong style="color: rgba(186, 55, 42, 1)">èªå¨æ¶é²ç³»ç»åä¸è½æå¡å</strong>ãä»»ä½æ²¡è¢«ç¹å®å¤ççå¼å¸¸ï¼æç»é½ä¼è½å°è¿éï¼ç±å®ç»ä¸æ ¼å¼ï¼åå¥½è¿åã</p>
<pre class="language-python highlighter-hljs"><code>from fastapi import FastAPI, Request
from fastapi.responses import JSONResponse
import traceback

app = FastAPI()

# 1. åå®ä¹ä¸ä¸ªæ åçéè¯¯ååºæ¨¡å
class ErrorResponse(BaseModel):
    code: int
    message: str
    detail: Optional[str] = None
    request_id: Optional[str] = None # ç¨äºé¾è·¯è¿½è¸ª

# 2. æè·æææªå¤çå¼å¸¸çâæ»é¸â
@app.exception_handler(Exception)
async def universal_exception_handler(request: Request, exc: Exception):
    # è·åè¯·æ±IDï¼ä¾¿äºè¿½è¸ªï¼åè®¾ä»ä¸­é´ä»¶æheaderä¼ å¥ï¼
    request_id = request.headers.get("X-Request-ID", "unknown")
    
    # è¿éå¯ä»¥æ ¹æ®excçç±»åè¿è¡æ´ç²¾ç»çåç±»
    error_code = 500 # é»è®¤åé¨éè¯¯
    message = "Internal Server Error"
    
    if isinstance(exc, ValueError):
        error_code = 400
        message = "Invalid input value"
    # ... å¯ä»¥æ·»å æ´å¤ç±»åå¤æ­
    
    # å¨çäº§ç¯å¢ï¼detailå¯è½ä¸è¿åå·ä½å æ ï¼å¼åç¯å¢å¯ä»¥è¿å
    import os
    detail = traceback.format_exc() if os.getenv("ENV") == "development" else None
    
    return JSONResponse(
        status_code=error_code,
        content=ErrorResponse(
            code=error_code,
            message=message,
            detail=detail,
            request_id=request_id
        ).dict()
    )

# 3. ä¸é¨å¤çHTTPExceptionï¼è¦çFastAPIé»è®¤è¡ä¸º
@app.exception_handler(HTTPException)
async def http_exception_handler(request: Request, exc: HTTPException):
    return JSONResponse(
        status_code=exc.status_code,
        content=ErrorResponse(
            code=exc.status_code,
            message=exc.detail,
            request_id=request.headers.get("X-Request-ID", "unknown")
        ).dict(),
        headers=exc.headers
    )</code></pre>
<p>è¿ä¸ªâæ¶é²éâåå®³å¨åªï¼é¦åï¼å®æä½äºææ<code style="color: rgba(186, 55, 42, 1)">Exception</code>ï¼ç¡®ä¿æ²¡æå¼å¸¸ä¼âè£¸å¥âåºå»ãå¶æ¬¡ï¼å®æéè¯¯ååºæ ¼å¼æ ååäºï¼åç«¯æ°¸è¿ç¥éä¼æ¶å°<code style="color: rgba(186, 55, 42, 1)">{"code": ..., "message": ...}</code>è¿æ ·çç»æãæåï¼å®è¿åºåäºå¼ååçæç¯å¢ï¼å¼åæ¶ç»ä½ è¯¦ç»å æ debugï¼çäº§ç¯å¢åéèç»èä¿è¯å®å¨ã</p>
<p><strong style="color: rgba(186, 55, 42, 1)">è¿éæä¸ªæè¸©è¿çå¤§åï¼</strong> å¼å¸¸å¤çå¨çæ³¨åé¡ºåºå¾éè¦ï¼å¦æä½ åæ³¨åäºéç¨ç<code style="color: rgba(186, 55, 42, 1)">Exception</code>å¤çå¨ï¼åæ³¨å<code style="color: rgba(186, 55, 42, 1)">HTTPException</code>å¤çå¨ï¼é£ä¹<code style="color: rgba(186, 55, 42, 1)">HTTPException</code>ä¹ä¼è¢«éç¨çæä½ï¼ä½ å°±æ æ³å¯¹å®è¿è¡ç¹æ®å®å¶äºãæä»¥ï¼éå¸¸è¦åæ³¨åå·ä½çï¼åæ³¨åéç¨çã</p>
<h2>ð¨ ç¬¬åé¨åï¼èªå®ä¹å¼å¸¸ââè®©ä¸å¡éè¯¯æ¸æ°æäº</h2>
<p>ä¸å¡é»è¾éçéè¯¯ï¼æ¯å¦âç¨æ·ä½é¢ä¸è¶³âãâæ´»å¨å·²ç»æâï¼ç¨404æ400è½ç¶ä¹è¡ï¼ä½è¯­ä¹ä¸ç²¾ç¡®ãè¿æ¶åï¼å°±éè¦èªå®ä¹å¼å¸¸ã</p>
<pre class="language-python highlighter-hljs"><code># å®ä¹èªå·±çä¸å¡å¼å¸¸ç±»
class BusinessError(Exception):
    def __init__(self, code: int, message: str, extra_data: dict = None):
        self.code = code # ä¸å¡éè¯¯ç ï¼å¦ 1001
        self.message = message
        self.extra_data = extra_data or {}

# å®ä¹å ä¸ªå·ä½çä¸å¡å¼å¸¸
class InsufficientBalanceError(BusinessError):
    def __init__(self, current_balance: float, required_amount: float):
        super().__init__(
            code=1001,
            message="Insufficient balance",
            extra_data={
                "current_balance": current_balance,
                "required_amount": required_amount
            }
        )

class ActivityExpiredError(BusinessError):
    def __init__(self, activity_id: str, expire_time: str):
        super().__init__(
            code=1002,
            message="Activity has expired",
            extra_data={"activity_id": activity_id, "expire_time": expire_time}
        )

# ä¸ºèªå®ä¹ä¸å¡å¼å¸¸æ³¨åå¤çå¨
@app.exception_handler(BusinessError)
async def business_exception_handler(request: Request, exc: BusinessError):
    return JSONResponse(
        status_code=422, # æç¨200ï¼ä½bodyéè¡¨æéè¯¯ï¼çåç«¯çº¦å®
        content={
            "success": False,
            "error": {
                "code": exc.code,
                "message": exc.message,
                **exc.extra_data # å±å¼é¢å¤æ°æ®ï¼åç«¯å¯ä»¥ç´æ¥ç¨
            }
        }
    )

# å¨è·¯ç±ä¸­ä½¿ç¨
@app.post("/purchase")
async def make_purchase(user_id: int, amount: float):
    user_balance = get_balance(user_id)
    if user_balance &lt; amount:
        # æåºä¸å¡å¼å¸¸ï¼èä¸æ¯ç®åçHTTP 400
        raise InsufficientBalanceError(
            current_balance=user_balance,
            required_amount=amount
        )
    # ... è´­ä¹°é»è¾</code></pre>
<p>è¿æ ·åçå¥½å¤å·¨å¤§ï¼åç«¯çå°éè¯¯ç 1001ï¼å°±ç¥éæ¯ä½é¢ä¸è¶³ï¼å¹¶ä¸ç´æ¥ä»<code style="color: rgba(186, 55, 42, 1)">extra_data</code>éæ¿å°å½åä½é¢åæééé¢ï¼å¯ä»¥ç«å»å¨çé¢ä¸åå¥½æç¤ºï¼âæ¨çä½é¢ä¸ºXXåï¼è¿éåå¼YYåâãè¿ä½éªï¼æ¯å¹²å·´å·´çâè¯·æ±å¤±è´¥âå¥½äºä¸ä¸åã</p>
<h2>â¡ ç¬¬äºé¨åï¼WebSocketExceptionââå®æ¶ééçä¼éå³é­</h2>
<p>WebSocketæ¯é¿è¿æ¥ï¼å¼å¸¸å¤çæ¹å¼åHTTPä¸å¤ªä¸æ ·ãä½ ä¸è½è¿åä¸ä¸ªJSONååºï¼èæ¯éè¦<strong style="color: rgba(186, 55, 42, 1)">ä¼éå°å³é­è¿æ¥å¹¶åéåå </strong>ã</p>
<pre class="language-python highlighter-hljs"><code>from fastapi import WebSocket, WebSocketException

@app.websocket("/ws")
async def websocket_endpoint(websocket: WebSocket):
    await websocket.accept()
    try:
        while True:
            data = await websocket.receive_json()
            # ä¸äºä¸å¡éªè¯
            if data.get("type") not in VALID_TYPES:
                # æåºWebSocketExceptionï¼æå®å³é­ç ååå 
                raise WebSocketException(
                    code=1008, # 1008è¡¨ç¤ºæ¿ç­è¿è§
                    reason="Invalid message type received"
                )
            # ... å¤çæ¶æ¯
    except WebSocketException as e:
        # è¿éå¶å®raiseä¹åï¼FastAPIä¼å¸®ä½ å³é­è¿æ¥
        raise
    except Exception as e:
        # å¶ä»æªç¥å¼å¸¸ï¼ä¹ä»¥WebSocketExceptionå½¢å¼å³é­
        raise WebSocketException(code=1011, reason=f"Internal error: {str(e)}")</code></pre>
<p>WebSocketå³é­ç æ¯ææ åçï¼æ¯å¦1000è¡¨ç¤ºæ­£å¸¸å³é­ï¼1008è¡¨ç¤ºæ¿ç­è¿è§ãç¨å¥½è¿äºä»£ç ï¼è½è®©å®¢æ·ç«¯æç¡®ç¥éè¿æ¥ä¸ºä»ä¹æ­å¼ï¼ä»èååºç¸åºå¤çï¼æ¯å¦éè¿ãæç¤ºç¨æ·ç­ï¼ã</p>
<h2>ð¨ ç¬¬å­é¨åï¼é¿åæåä¸è¿é¶æè</h2>
<div>
<p><strong>ð¥ 1. ä¸è¦è¿åº¦æè·å¼å¸¸</strong></p>
<p>å«å¨ä¸å¨å°±ç¨<code style="color: rgba(186, 55, 42, 1)">try...except Exception</code>æä¸å¤§æ®µä¸å¡é»è¾åèµ·æ¥ãè¿ä¼éèçæ­£çBugãåªæè·ä½ é¢æä¸­å¯è½åççãå¹¶ä¸ä½ ç¥éå¦ä½å¤ççå¼å¸¸ã</p>
<p><strong>ð¥ 2. æ¥å¿ï¼æ¥å¿ï¼æ¥å¿ï¼</strong></p>
<p>å¼å¸¸å¤çå¨éä¸å®è¦è®°æ¥å¿ï¼èä¸è¦è®°å½å®æ´çå æ ä¿¡æ¯åè¯·æ±ä¸ä¸æï¼ç¨æ·IDãè¯·æ±åæ°ç­ï¼ãç¨<code style="color: rgba(186, 55, 42, 1)">logging.error(exc_info=True)</code>ãè¿æ¯ä½ äºåææ¥é®é¢çå¯ä¸ææã</p>
<p><strong>ð¥ 3. åºåè¿åç¶æç ï¼status_codeï¼åä¸å¡éè¯¯ç ï¼error_codeï¼</strong></p>
<p>HTTPç¶æç æ¯ç»HTTPåè®®åç½å³ççï¼å¦404, 500ï¼ãä¸å¡éè¯¯ç æ¯ä½ ååç«¯çº¦å®çå·ä½éè¯¯å«ä¹ï¼å¦1001ä½é¢ä¸è¶³ï¼ãä¸¤èå¯ä»¥ç»åä½¿ç¨ã</p>
<p><strong>ð¥ 4. èèä½¿ç¨Starletteçå¼å¸¸å¤çåºç±»</strong></p>
<p>FastAPIåºäºStarletteï¼<code style="color: rgba(186, 55, 42, 1)">from starlette.exceptions import HTTPException</code>åFastAPIçç¥æä¸åãå¦æä½ éè¦æ´åºå±çæ§å¶ï¼å¯ä»¥ç ç©¶ä¸ä¸ã</p>
<p><strong>ð¥ 5. æµè¯ä½ çå¼å¸¸å¤ç</strong></p>
<p>åååæµè¯ï¼æ¨¡æåç§å¼å¸¸æåµï¼ç¡®ä¿ä½ çå¤çå¨è½æ­£ç¡®ååºï¼å¹¶ä¸è¿åæ ¼å¼ç¬¦ååç«¯é¢æãè¿é¨åæå¥çåæ¥çæé«ã</p>
</div>
<hr style="border: none; height: 1px; background: linear-gradient(90deg, rgba(0, 0, 0, 0), rgba(52, 152, 219, 1), rgba(0, 0, 0, 0)); margin: 40px 0">
<h2>ð åå¨æå</h2>
<p>å¼å¸¸å¤çï¼å°±åç»ä»£ç ä¹°ä¿é©ãå¹³æ¶æè§ä¸å°å®çå­å¨ï¼ä½åºäºçæ¶åï¼å®è½æä½ çé¡¹ç®ãä½ çå£ç¢ï¼çè³ä½ çç¡ç ã</p>
<p>ä»å¤©åäº«çè¿äºï¼é½æ¯æä»ä¸æ¬¡æ¬¡æ¥è­¦çµè¯åç¨æ·æè¯ä¸­å­¦æ¥çãå¸æä½ çå®è½ç«å»å¨æï¼æ£æ¥ä¸ä¸èªå·±çFastAPIé¡¹ç®ï¼æ¯ä¸æ¯è¿å¨âè£¸å¥âï¼ç»ä½ çå¼å¸¸å¤çâæ¶é²éâéé½è£å¤ï¼è®©å®æä¸ºä½ æå¯é çåç¾ã</p>
<p>å¦æä½ å¨å®è·µè¿ç¨ä¸­éå°å¶ä»åï¼æèææ´å¦çå¿å¾ï¼æ¬¢è¿å¨è¯è®ºåºåäº«ãè¿ç¯å¹²è´§ï¼å¼å¾ä½ <strong style="color: rgba(186, 55, 42, 1)">æ¶è</strong>ä¸æ¥ï¼ä¸æ¬¡éå°å¼å¸¸å¤ççé®é¢æ¶ï¼ç¿»åºæ¥ççï¼ä¸å®è½å¸®ä½ çä¸ä¸å°æè¾çæ¶é´ã</p>
<p>ææ¯ä¸åç¨åºåªï¼æä»¬ä¸ç¯å®æè§ï¼</p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-27 08:39">2026-01-27 08:38</span>&nbsp;
<a href="https://www.cnblogs.com/ymtianyu">ä¸åç¨åºåªå</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19536459);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19536459', targetLink: 'https://www.cnblogs.com/ymtianyu/p/19536459', title: 'FastAPIå¼å¸¸å¤çå¨è§£æï¼å«è®©ä½ çAPIå¨ç¨æ·é¢åâè£¸å¥â' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ è¶è¯¦ç»ï¼OFA è§è§é®ç­ï¼VQAï¼æ¨¡åé¨ç½²æå­¦ï¼é¿åå®æ´çï¼ ]]></title>
    <link>https://www.cnblogs.com/ChenAI-TGF/p/19535960</link>
    <guid>b832d569e0c7933a584cc02328203b8a</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/ChenAI-TGF/p/19535960" title="åå¸äº 2026-01-27 01:04">
    <span role="heading" aria-level="2">è¶è¯¦ç»ï¼OFA è§è§é®ç­ï¼VQAï¼æ¨¡åé¨ç½²æå­¦ï¼é¿åå®æ´çï¼</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        æ¬æè¯¦ç»ä»ç»äºå¦ä½å¨Linuxç³»ç»ä¸é¨ç½²OFAè§è§é®ç­(VQA)æ¨¡åçå¨è¿ç¨ãä¸»è¦åå®¹åæ¬ï¼åå»ºPythonèæç¯å¢ãéç½®æ¸åPyPIæºãå®è£æå®çæ¬çæ ¸å¿ä¾èµ(transformers 4.48.3ç­)ãç¦ç¨ModelScopeèªå¨ä¾èµå®è£ä»¥é¿åçæ¬å²çªãåå¤æµè¯å¾çåè¿è¡èæ¬ãæç« ç¹å«å¼ºè°äºä¾èµçæ¬å¹éçéè¦æ§ï¼å¹¶æä¾äºç»è¿éªè¯ççæ¬ç»åæ¹æ¡ãåæ¶éå¯¹è¾å¥æ ¼å¼ééåå¾çå è½½æéç­å¸¸è§é®é¢ç»åºäºè§£å³æ¹æ¡ï¼éå¸¦å¯ç´æ¥è¿è¡çæµè¯èæ¬ï¼å¸®å©å¼åèå¿«éä¸æé¨ç½²è¿ä¸å¤æ¨¡æé¢è®­ç»æ¨¡åã
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="åè¨">åè¨</h1>
<p>å¤§å®¶å¥½ï½ æè¿å°è¯é¨ç½² OFA è§è§é®ç­ï¼VQAï¼æ¨¡åï¼è¿ç¨ä¸­è¸©äºæ æ°ä¸ªä¾èµçæ¬ãè¾å¥æ ¼å¼ãæéç¸å³çåï¼èæ¶å¾ä¹ææåè¿è¡å¹¶è¾åºæ­£ç¡®ç»æãä¸ºäºé¿åå¤§å®¶éå¤è¸©åï¼ä»å¤©æ´çäºä¸ä»½å®æ´ãå¯å¤ç°çé¨ç½²æå­¦ï¼ä»ç¯å¢åå¤å°èæ¬è¿è¡ï¼æ¯ä¸æ­¥é½æ æ¸ç»èï¼è¿éå°çåé½éå¸¦ã<strong>ç°è±¡+åå +è§£å³æ¹æ¡</strong>ãï¼æ°æä¹è½è½»æ¾ä¸æï¼</p>
<h1 id="ä¸åè¨ä»ä¹æ¯-ofa-vqa-æ¨¡å">ä¸ãåè¨ï¼ä»ä¹æ¯ OFA VQA æ¨¡åï¼</h1>
<p>OFAï¼One For Allï¼æ¯å­èè·³å¨æåºçå¤æ¨¡æé¢è®­ç»æ¨¡åï¼æ¯æè§è§é®ç­ãå¾åæè¿°ãå¾åç¼è¾ç­å¤ç§ä»»å¡ï¼å¶ä¸­è§è§é®ç­ï¼VQAï¼æ¯æå¸¸ç¨çåè½ä¹ä¸ââè¾å¥ä¸å¼ å¾çåä¸ä¸ªè±æé®é¢ï¼è¯¥æ¨¡åä»æ¯æè±æï¼ï¼æ¨¡åå°±è½è¾åºå¯¹åºçç­æ¡ï¼æ¯å¦è¾å¥âç¶å­âå¾ç+é®é¢âWhat is the main subject?âï¼è¾åºâa water bottleâï¼ã</p>
<p>æ¬æ¬¡é¨ç½²ä½¿ç¨ ModelScope å¹³å°ç <code>iic/ofa_visual-question-answering_pretrain_large_en</code> æ¨¡åï¼åºäº Python èæç¯å¢ï¼Minicondaï¼é¨ç½²ï¼å¨ç¨å¨ Linux ç¯å¢ä¸æä½ï¼Windows å¯åèï¼å½ä»¤ç¥æå·®å¼ï¼ã</p>
<h1 id="äºåç½®åå¤">äºãåç½®åå¤</h1>
<h2 id="1-ç¯å¢åºç¡">1. ç¯å¢åºç¡</h2>
<ul>
<li>
<p>ç³»ç»ï¼Linuxï¼Ubuntu/CentOS åå¯ï¼æ¬æ¬¡ç¨ Ubuntuï¼</p>
</li>
<li>
<p>å·¥å·ï¼Minicondaï¼ç¨äºåå»ºç¬ç«èæç¯å¢ï¼é¿åç¯å¢æ±¡æï¼</p>
</li>
<li>
<p>Python çæ¬ï¼3.11ï¼äº²æµå¼å®¹ï¼3.9-3.11 åå¯ï¼ä¸å»ºè®® 3.12+ï¼é¨åä¾èµä¸æ¯æï¼</p>
</li>
<li>
<p>ç½ç»ï¼è½è®¿é® ModelScopeãPyPI æºï¼å»ºè®®æ¢æ¸åæºï¼æéï¼</p>
</li>
</ul>
<h2 id="2-æåè¯´æ">2. æåè¯´æ</h2>
<p>æ¬æ¬¡é¨ç½²çæ ¸å¿é¾ç¹çæ¯ãä¾èµçæ¬å¹éãââModelScope å¹³å°ç OFA æ¨¡åä¼ç¡¬ç¼ç ä¾èµçæ¬ï¼è¿è¡æ¶ä¼èªå¨å¸è½½ä½ å®è£ççæ¬å¹¶å¼ºå¶å®è£æå®çæ¬ï¼å¾å®¹æå¯¼è´çæ¬å²çªï¼å¶æ¬¡æ¯ãè¾å¥æ ¼å¼ééãåãå¾çå è½½æéãé®é¢ï¼è¿ä¸¤ä¸ªåä¹å¾å®¹æå¡å£³ï¼åé¢ä¼è¯¦ç»è¯´æã</p>
<h1 id="ä¸å®æ´é¨ç½²æ­¥éª¤ä¸æ­¥é½ä¸è½å°">ä¸ãå®æ´é¨ç½²æ­¥éª¤ï¼ä¸æ­¥é½ä¸è½å°ï¼</h1>
<h2 id="æ­¥éª¤-1åå»ºå¹¶æ¿æ´»èæç¯å¢å³é®é¿åç¯å¢æ±¡æ">æ­¥éª¤ 1ï¼åå»ºå¹¶æ¿æ´»èæç¯å¢ï¼å³é®ï¼é¿åç¯å¢æ±¡æï¼</h2>
<p>ä¸ºä»ä¹è¦åå»ºèæç¯å¢ï¼å ä¸ºä¸åæ¨¡åçä¾èµçæ¬å·®å¼å¾å¤§ï¼æ¯å¦æ¬æ¬¡ OFA æ¨¡åå¯¹ transformersãtokenizers ççæ¬è¦æ±å¾ä¸¥æ ¼ï¼åå¶ä»æ¨¡åå¯è½å²çªï¼ç¬ç«èæç¯å¢è½éç¦»è¿äºå·®å¼ã</p>
<p>æå¼ç»ç«¯ï¼æ§è¡ä»¥ä¸å½ä»¤ï¼å¨ç¨å¤å¶å³å¯ï¼ï¼</p>
<pre><code class="language-bash">
# 1. æ¿æ´» Minicondaï¼å¦ææ²¡éç½®ç¯å¢åéï¼åæ§è¡è¿ä¸ªï¼å·ä½è·¯å¾æ ¹æ®èªå·±ç Miniconda å®è£ä½ç½®ä¿®æ¹ï¼
source /opt/miniconda3/bin/activate

# 2. åå»ºèæç¯å¢ï¼ç¯å¢åï¼torch27ï¼Python çæ¬ 3.11ï¼å¯èªå®ä¹ç¯å¢åï¼
conda create -n torch27 python=3.11 -y

# 3. æ¿æ´»åå»ºå¥½çèæç¯å¢ï¼åç»­æææä½é½è¦å¨è¿ä¸ªç¯å¢éæ§è¡ï¼
conda activate torch27
</code></pre>
<p>æ§è¡æååï¼ç»ç«¯åç¼ä¼æ¾ç¤º <code>(torch27)</code>ï¼è¯´æå·²ç»è¿å¥èæç¯å¢ã</p>
<h2 id="æ­¥éª¤-2éç½®æ¸å-pypi-æºæéé¿åä¸è½½ä¾èµè¶æ¶">æ­¥éª¤ 2ï¼éç½®æ¸å PyPI æºï¼æéï¼é¿åä¸è½½ä¾èµè¶æ¶ï¼</h2>
<p>é»è®¤ PyPI æºå¨å½å¤ï¼ä¸è½½ä¾èµå¾æ¢ï¼çè³ä¼è¶æ¶ï¼å»ºè®®éç½®æ¸åæºï¼æ§è¡ä»¥ä¸å½ä»¤ï¼</p>
<pre><code class="language-bash">
pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
</code></pre>
<p>éç½®æååï¼åç»­ç¨ pip å®è£ä¾èµä¼èªå¨èµ°æ¸åæºï¼éåº¦ç¿»åã</p>
<h2 id="æ­¥éª¤-3åå»ºå·¥ä½ç®å½ä¸è½½æ¨¡åç¸å³æä»¶">æ­¥éª¤ 3ï¼åå»ºå·¥ä½ç®å½ï¼ä¸è½½æ¨¡åç¸å³æä»¶</h2>
<p>åå»ºä¸ä¸ªåç¬çå·¥ä½ç®å½ï¼ç¨äºå­æ¾èæ¬ãå¾çç­æä»¶ï¼é¿åæä»¶æ··ä¹±ï¼</p>
<pre><code class="language-bash">
# 1. åå»ºå·¥ä½ç®å½ï¼è·¯å¾å¯èªå®ä¹ï¼æ¬æ¬¡ç¨ /root/workspace/ofa_visual-question-answeringï¼
mkdir -p /root/workspace/ofa_visual-question-answering

# 2. è¿å¥å·¥ä½ç®å½ï¼åç»­æææä½é½å¨è¿ä¸ªç®å½ä¸ï¼
cd /root/workspace/ofa_visual-question-answering
</code></pre>
<h2 id="æ­¥éª¤-4å®è£æ ¸å¿ä¾èµéç¹çæ¬å¿é¡»å®å¨å¹é">æ­¥éª¤ 4ï¼å®è£æ ¸å¿ä¾èµï¼éç¹ï¼çæ¬å¿é¡»å®å¨å¹éï¼</h2>
<p>è¿æ¯é¨ç½²è¿ç¨ä¸­æå®¹æè¸©åçä¸æ­¥ï¼OFA æ¨¡åå¯¹ä¾èµçæ¬è¦æ±æé«ï¼å°¤å¶æ¯ transformersãtokenizersãhuggingface-hub è¿ä¸ä¸ªåºï¼çæ¬ä¸å¹éä¼ç´æ¥å¯¼è´æ¨¡åæ æ³åå§åï¼çè³æ¥éã</p>
<p>åç»å¤§å®¶ä¸ãæç»å¯ç¨çä¾èµçæ¬ç»åãï¼äº²æµå¯å¤ç°ï¼é¿åè¸©åï¼ï¼</p>
<ul>
<li>
<p>tensorboardX==2.6.4ï¼æ¨¡åæ¥å¿ç¸å³ï¼çæ¬å¯å¼å®¹ï¼</p>
</li>
<li>
<p>huggingface-hub==0.25.2ï¼ModelScope ç¡¬ç¼ç è¦æ±ï¼ä¸è½é«ä¹ä¸è½ä½ï¼</p>
</li>
<li>
<p>transformers==4.48.3ï¼ModelScope ç¡¬ç¼ç è¦æ±ï¼å¯¹åº tokenizers 0.21.4ï¼</p>
</li>
<li>
<p>tokenizers==0.21.4ï¼å¿é¡»å transformers 4.48.3 å¹éï¼å¦åæ¥éï¼</p>
</li>
<li>
<p>modelscopeï¼æ¨¡åå è½½å¹³å°ï¼ç´æ¥å®è£ææ°çå³å¯ï¼</p>
</li>
<li>
<p>Pillowãrequestsï¼å¾çå è½½ç¸å³ï¼å¿å¤ï¼</p>
</li>
</ul>
<p>æ§è¡ä»¥ä¸å½ä»¤ï¼ä¸æ¬¡æ§å®è£ææä¾èµï¼é¡ºåºä¸è¦ä¹±ï¼é¿åçæ¬å²çªï¼ï¼</p>
<pre><code class="language-bash">
# 1. åå®è£ tensorboardXï¼æ çæ¬å²çªï¼æ¾å¿è£ï¼
pip install tensorboardX==2.6.4

# 2. å®è£ ModelScope ç¡¬ç¼ç è¦æ±çæ ¸å¿ä¾èµï¼éç¹ï¼çæ¬ä¸è½æ¹ï¼
pip install huggingface-hub==0.25.2 tokenizers==0.21.4 transformers==4.48.3

# 3. å®è£ modelscopeï¼ææ°çå³å¯ï¼è´è´£å è½½ OFA æ¨¡åï¼
pip install modelscope

# 4. å®è£å¾çå è½½ç¸å³ä¾èµï¼Pillow å¤çæ¬å°å¾çï¼requests å¤çå¨çº¿å¾çï¼
pip install Pillow requests
</code></pre>
<p>å®è£è¿ç¨ä¸­å¦æåºç°ãWARNING: Running pip as the 'root' userãè­¦åï¼å¯å¿½ç¥ï¼ä¸å½±ååè½ï¼è¿æ¯æç¤ºç¨ root ç¨æ·è¿è¡ pip å¯è½ææéé®é¢ï¼ä½ä¸å½±åæ¨¡åé¨ç½²ï¼ã</p>
<p>å®è£å®æåï¼éªè¯ä¸ä¸çæ¬æ¯å¦æ­£ç¡®ï¼é¿åå®è£åºéï¼ï¼</p>
<pre><code class="language-bash">
python -c "import transformers, tokenizers, huggingface_hub; print(f'transformers: {transformers.__version__}'); print(f'tokenizers: {tokenizers.__version__}'); print(f'huggingface-hub: {huggingface_hub.__version__}')"
</code></pre>
<p>æ­£å¸¸è¾åºå¦ä¸ï¼çæ¬å¿é¡»å®å¨ä¸è´ï¼ï¼</p>
<pre><code class="language-bash">
transformers: 4.48.3
tokenizers: 0.21.4
huggingface-hub: 0.25.2
</code></pre>
<p>å¦æè¾åºççæ¬ä¸ä¸è´ï¼éæ°æ§è¡æ­¥éª¤ 4 çå®è£å½ä»¤ï¼ç¡®ä¿çæ¬æ­£ç¡®ã</p>
<h2 id="æ­¥éª¤-5ç¦ç¨-modelscope-èªå¨ä¾èµå®è£æ ¸å¿é¿åæä½">æ­¥éª¤ 5ï¼ç¦ç¨ ModelScope èªå¨ä¾èµå®è£ï¼æ ¸å¿é¿åæä½ï¼</h2>
<p>è¿æ¯æå³é®çé¿åæ­¥éª¤ï¼ModelScope å è½½ OFA æ¨¡åæ¶ï¼ä¼èªå¨æ£æ¥ä¾èµçæ¬ï¼å¦æåç°çæ¬åå®ç¡¬ç¼ç çè¦æ±ä¸ä¸è´ï¼ä¼ç´æ¥å¸è½½ä½ ççæ¬å¹¶å¼ºå¶å®è£æå®çæ¬ââåªæä½ å·²ç»å®è£äºæ­£ç¡®ççæ¬ï¼ä¹ä¼è¢«è¦çï¼å¯¼è´ä¹åçåªåç½è´¹ã</p>
<p>æä»¥ï¼æä»¬éè¦è®¾ç½®ç¯å¢åéï¼ç¦ç¨ ModelScope èªå¨å®è£/åçº§ä¾èµï¼æ§è¡ä»¥ä¸å½ä»¤ï¼</p>
<pre><code class="language-bash">
# ç¦ç¨ ModelScope èªå¨å®è£ä¾èµï¼ä¸´æ¶çæï¼ä»å½åç»ç«¯ä¼è¯ï¼
export MODELSCOPE_AUTO_INSTALL_DEPENDENCY='False'
export PIP_NO_INSTALL_UPGRADE=1
export PIP_NO_DEPENDENCIES=1
</code></pre>
<p>â ï¸ æ³¨æï¼å¦æåç»­æ°å¼ç»ç«¯ãéæ°æ¿æ´»èæç¯å¢ï¼éè¦éæ°æ§è¡ä¸é¢çå½ä»¤ï¼ä¸´æ¶çæï¼ï¼å¦ææ³æ°¸ä¹çæï¼æ§è¡ä»¥ä¸å½ä»¤ï¼åå¥ bash éç½®æä»¶ï¼ï¼</p>
<pre><code class="language-bash">
# æ°¸ä¹ç¦ç¨èªå¨ä¾èµå®è£ï¼éå¯ç»ç«¯ãéæ°æ¿æ´»ç¯å¢ä¹çæï¼
echo "export MODELSCOPE_AUTO_INSTALL_DEPENDENCY='False'" &gt;&gt; ~/.bashrc
echo "export PIP_NO_INSTALL_UPGRADE=1" &gt;&gt; ~/.bashrc
echo "export PIP_NO_DEPENDENCIES=1" &gt;&gt; ~/.bashrc

# ä½¿éç½®çæ
source ~/.bashrc
</code></pre>
<h2 id="æ­¥éª¤-6åå¤æµè¯å¾çåè¿è¡èæ¬ç´è§çæ°æåå¥½">æ­¥éª¤ 6ï¼åå¤æµè¯å¾çåè¿è¡èæ¬ï¼ç´è§çï¼æ°æåå¥½ï¼</h2>
<p>èæ¬æ¯æ ¸å¿ï¼ä¹åè¸©è¿ãè¾å¥æ ¼å¼éè¯¯ãçåï¼æä»¥è¿éç´æ¥ç»å¤§å®¶æ´çå¥½ãå¯ç´æ¥è¿è¡ãè¾åºç®æ´ãå®¹éæ§å¼ºãçèæ¬ï¼åªéä¿®æ¹å¾çè·¯å¾åé®é¢å³å¯ã</p>
<h3 id="61-åå¤æµè¯å¾ç">6.1 åå¤æµè¯å¾ç</h3>
<p>å°ä»»æä¸å¼ æµè¯å¾çï¼jpg/png æ ¼å¼åå¯ï¼æ¾å°å·¥ä½ç®å½ä¸ï¼å½åä¸º <code>test_image.jpg</code>ï¼æ¯å¦ä¸å¼ ç¶å­ãç«ãé£æ¯çå¾çï¼ï¼å¦ææ²¡ææ¬å°å¾çï¼ä¹å¯ä»¥ç¨å¨çº¿å¬å¼å¾ç URLï¼èæ¬å·²å¼å®¹ï¼ã</p>
<h3 id="62-åå»ºè¿è¡èæ¬testpy">6.2 åå»ºè¿è¡èæ¬ï¼test.pyï¼</h3>
<p>å¨å·¥ä½ç®å½ä¸åå»º <code>test.py</code> èæ¬ï¼å¤å¶ä»¥ä¸ä»£ç ï¼æ³¨éæ¸æ°ï¼å¯ç´æ¥ä¿®æ¹ï¼ï¼</p>
<pre><code class="language-python">
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
OFA è§è§é®ç­ï¼VQAï¼æ¨¡å è¿è¡èæ¬ï¼ç´è§çï¼æ°æåå¥½ï¼
åè½ï¼è¾å¥æ¬å°å¾ç/å¨çº¿å¾ç + è±æé®é¢ï¼è¾åºæ¨¡åæ¨çç»æ
ä½¿ç¨è¯´æï¼åªéä¿®æ¹ãæ ¸å¿éç½®åºãçå¾çè·¯å¾åé®é¢ï¼æ éä¿®æ¹å¶ä»ä»£ç 
"""
import os
import sys
from PIL import Image
import requests
from io import BytesIO
from modelscope.pipelines import pipeline
from modelscope.utils.constant import Tasks

# ======================== æ ¸å¿éç½®åºï¼åªéæ¹è¿éï¼æ°æéç¹å³æ³¨ï¼========================
# 1. å¾çæ¥æºï¼äºéä¸ï¼æ¬å°è·¯å¾ä¼åçº§æ´é«ï¼æ¨èç¨æ¬å°å¾çï¼
LOCAL_IMAGE_PATH = "./test_image.jpg"  # æ¬å°å¾çè·¯å¾ï¼å·¥ä½ç®å½ä¸çå¾çï¼å¦ï¼./cat.jpgã./bottle.pngï¼
# ONLINE_IMAGE_URL = "https://picsum.photos/600/400"  # å¤ç¨ï¼å¬å¼æµè¯å¾çURLï¼æ éä¸è½½ï¼ç´æ¥å è½½ï¼

# 2. é®ç­é®é¢ï¼â ï¸ æ³¨æï¼è¯¥æ¨¡åä»æ¯æè±ææé®ï¼ä¸­æé®é¢ä¼è¾åºæ æä¹ç»æï¼
VQA_QUESTION = "What is the main subject in the picture?"  # ç¤ºä¾1ï¼å¾ççä¸»è¦ç©ä½æ¯ä»ä¹ï¼
# VQA_QUESTION = "What color is the object?"  # ç¤ºä¾2ï¼ç©ä½æ¯ä»ä¹é¢è²ï¼
# VQA_QUESTION = "How many objects are there in the picture?"  # ç¤ºä¾3ï¼å¾çä¸­æå¤å°ä¸ªç©ä½ï¼

# ======================== å·¥å·å½æ°ï¼æ éä¿®æ¹ï¼å°è£å¥½çåè½ï¼========================
def check_image_exists(path):
    """æ£æ¥æ¬å°å¾çæ¯å¦å­å¨ï¼é¿åè·¯å¾éè¯¯å¯¼è´å è½½å¤±è´¥"""
    if not os.path.exists(path):
        print(f"â éè¯¯ï¼æ¬å°å¾çæä»¶ä¸å­å¨ â {path}")
        print("è¯·æ£æ¥å¾çè·¯å¾æ¯å¦æ­£ç¡®ï¼ææ¿æ¢ä¸ºææçå¾çæä»¶ï¼")
        sys.exit(1)

def load_image(image_source):
    """å è½½å¾çï¼å¼å®¹æ¬å°è·¯å¾åå¨çº¿URLï¼ï¼è¿åPIL.Imageå¯¹è±¡ï¼æ¨¡åè¦æ±çè¾å¥æ ¼å¼ï¼"""
    try:
        # ä¼åå è½½æ¬å°å¾ç
        if os.path.exists(image_source):
            check_image_exists(image_source)
            img = Image.open(image_source).convert('RGB')  # è½¬ä¸ºRGBæ ¼å¼ï¼é¿åç°åº¦å¾æ¥é
            print(f"â æåå è½½æ¬å°å¾ç â {image_source}")
        # å è½½å¨çº¿å¾çï¼å¤ç¨ï¼é¿åæ¬å°å¾çç¼ºå¤±ï¼
        elif image_source.startswith(('http://', 'https://')):
            response = requests.get(image_source, timeout=10)  # è¶æ¶æ¶é´10ç§
            response.raise_for_status()  # æ£æ¥URLæ¯å¦å¯è®¿é®ï¼é¿å403/404éè¯¯ï¼
            img = Image.open(BytesIO(response.content)).convert('RGB')
            print(f"â æåå è½½å¨çº¿å¾ç â {image_source}")
        else:
            raise ValueError("â å¾çæ¥æºéè¯¯ï¼å¿é¡»æ¯æ¬å°è·¯å¾æåæ³çHTTP/HTTPS URLï¼")
        return img
    except Exception as e:
        print(f"â å¾çå è½½å¤±è´¥ï¼{str(e)}")
        sys.exit(1)

def init_vqa_model():
    """åå§åOFA VQAæ¨¡åç®¡éï¼æ ¸å¿å½æ°ï¼æ éä¿®æ¹ï¼"""
    try:
        # åæ¬¡ç¡®è®¤ç¦ç¨èªå¨ä¾èµå®è£ï¼åéä¿é©ï¼é¿åç¯å¢åéå¤±æï¼
        os.environ['MODELSCOPE_AUTO_INSTALL_DEPENDENCY'] = 'False'
        os.environ['PIP_NO_INSTALL_UPGRADE'] = '1'
        
        # åå»ºVQAæ¨¡åç®¡éï¼â ï¸ trust_remote_code=Trueå¿é¡»å ï¼ééOFAæ¨¡åçèªå®ä¹é»è¾ï¼
        vqa_pipe = pipeline(
            task=Tasks.visual_question_answering,  # ä»»å¡ç±»åï¼è§è§é®ç­
            model='iic/ofa_visual-question-answering_pretrain_large_en',  # æ¨¡ååç§°
            model_revision='v1.0.0',  # æ¨¡åçæ¬ï¼åºå®v1.0.0ï¼é¿åçæ¬å¼å®¹é®é¢ï¼
            trust_remote_code=True  # å³é®åæ°ï¼åè®¸å è½½æ¨¡åçèªå®ä¹ä»£ç 
        )
        print("â OFA VQAæ¨¡ååå§åæåï¼ï¼é¦æ¬¡è¿è¡ä¼èªå¨ä¸è½½æ¨¡åï¼èæ¶ç¨é¿ï¼èå¿ç­å¾ï¼")
        return vqa_pipe
    except Exception as e:
        print(f"â æ¨¡ååå§åå¤±è´¥ï¼{str(e)}")
        sys.exit(1)

# ======================== ä¸»é»è¾ï¼æ éä¿®æ¹ï¼æ§è¡æ¨çï¼========================
if __name__ == "__main__":
    # æå°æ é¢ï¼ç´è§åºåè¾åº
    print("="*60)
    print("ð¸ OFA è§è§é®ç­ï¼VQAï¼æ¨¡å - è¿è¡å·¥å·")
    print("="*60)
    
    # 1. åå§åOFA VQAæ¨¡åï¼é¦æ¬¡è¿è¡ä¼èªå¨ä¸è½½æ¨¡åï¼çº¦å ç¾MBï¼èå¿ç­å¾ï¼
    vqa_model = init_vqa_model()
    
    # 2. ç¡®å®å¾çæ¥æºï¼ä¼åæ¬å°ï¼æ¬å°ä¸å­å¨åç¨å¨çº¿URLï¼
    image_source = LOCAL_IMAGE_PATH if os.path.exists(LOCAL_IMAGE_PATH) else globals().get("ONLINE_IMAGE_URL", "")
    if not image_source:
        print("â éè¯¯ï¼æªéç½®ææçå¾çæ¥æºï¼è¯·ä¿®æ¹ãæ ¸å¿éç½®åºãçå¾çè·¯å¾/URL")
        sys.exit(1)
    
    # 3. å è½½å¾çï¼è½¬ä¸ºæ¨¡åè¦æ±çPIL.Imageå¯¹è±¡ï¼
    img = load_image(image_source)
    
    # 4. æ§è¡æ¨¡åæ¨çï¼æ ¸å¿æ­¥éª¤ï¼
    print(f"\nð¤ æé®ï¼{VQA_QUESTION}")
    print("ð æ¨¡åæ¨çä¸­...ï¼æ¨çéåº¦åå³äºçµèéç½®ï¼çº¦1-5ç§ï¼")
    try:
        # æ¨¡åè¾å¥æ ¼å¼ï¼(PIL.Imageå¯¹è±¡, è±æé®é¢ææ¬) â åç»æ ¼å¼ï¼éç¹ï¼ä¸è½ç¨å­å¸ï¼
        result = vqa_model((img, VQA_QUESTION))
        
        # ç®åè¾åºï¼åªæåæ ¸å¿ç­æ¡ï¼å»æåä½ä¿¡æ¯ï¼æ°ææ´ç´è§ï¼
        answer = result.get("text", ["No answer found"])[0]  # æåæç½®ä¿¡çç¬¬ä¸ä¸ªç­æ¡
        print("\n" + "="*60)
        print(f"â æ¨çæåï¼")
        print(f"ð· å¾çï¼{image_source}")
        print(f"ð¤ é®é¢ï¼{VQA_QUESTION}")
        print(f"â ç­æ¡ï¼{answer}")
        print("="*60)
        
    except Exception as e:
        print(f"\nâ æ¨çå¤±è´¥ï¼{type(e).__name__} - {str(e)}")
        sys.exit(1)
</code></pre>
<h2 id="æ­¥éª¤-7è¿è¡èæ¬æ¥çæ¨çç»æ">æ­¥éª¤ 7ï¼è¿è¡èæ¬ï¼æ¥çæ¨çç»æ</h2>
<p>ææåå¤å·¥ä½å®æåï¼æ§è¡ä»¥ä¸å½ä»¤è¿è¡èæ¬ï¼</p>
<pre><code class="language-bash">
python test.py
</code></pre>
<p>â ï¸ æ³¨æï¼é¦æ¬¡è¿è¡èæ¬æ¶ï¼æ¨¡åä¼èªå¨ä» ModelScope ä¸è½½ï¼çº¦å ç¾MBï¼ï¼èæ¶ç¨é¿ï¼èå¿ç­å¾å³å¯ï¼åç»­è¿è¡ä¼å¤ç¨å·²ä¸è½½çæ¨¡åï¼éåº¦ä¼å¾å¿«ã</p>
<p>è¿è¡æååï¼è¾åºå¦ä¸ï¼ç´è§ç®æ´ï¼æ°æè½å¿«éçå°ç»æï¼ï¼</p>
<pre><code class="language-bash">
============================================================
ð¸ OFA è§è§é®ç­ï¼VQAï¼æ¨¡å - è¿è¡å·¥å·
============================================================
â OFA VQAæ¨¡ååå§åæåï¼ï¼é¦æ¬¡è¿è¡ä¼èªå¨ä¸è½½æ¨¡åï¼èæ¶ç¨é¿ï¼èå¿ç­å¾ï¼
â æåå è½½æ¬å°å¾ç â ./test_image.jpg

ð¤ æé®ï¼What is the main subject in the picture?
ð æ¨¡åæ¨çä¸­...ï¼æ¨çéåº¦åå³äºçµèéç½®ï¼çº¦1-5ç§ï¼

============================================================
â æ¨çæåï¼
ð· å¾çï¼./test_image.jpg
ð¤ é®é¢ï¼What is the main subject in the picture?
â ç­æ¡ï¼a water bottle
============================================================
</code></pre>
<p><img alt="å¨è¿éæå¥å¾çæè¿°" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3724025/202601/3724025-20260127010413598-747392058.png" class="lazyload"></p>
<p>å°è¿éï¼OFA è§è§é®ç­æ¨¡åå°±é¨ç½²æåå¹¶è¿è¡å¦ï¼</p>
<h1 id="åé¨ç½²è¿ç¨ä¸­éå°çææåç°è±¡åå è§£å³æ¹æ¡">åãé¨ç½²è¿ç¨ä¸­éå°çææåï¼ç°è±¡+åå +è§£å³æ¹æ¡ï¼</h1>
<p>è¿é¨åæ¯éç¹ï¼ææé¨ç½²è¿ç¨ä¸­è¸©è¿çææåé½æ´çåºæ¥ï¼æ¯ä¸ªåé½å¯¹åºãç°è±¡+åå +è§£å³æ¹æ¡ãï¼å¤§å®¶éå°ç¸åé®é¢æ¶ï¼ç´æ¥å¯¹ç§è§£å³å³å¯ï¼èçæ¶é´ã</p>
<h2 id="å1ä¾èµçæ¬å²çªæå¸¸è§è¸©äº3æ¬¡">å1ï¼ä¾èµçæ¬å²çªï¼æå¸¸è§ï¼è¸©äº3æ¬¡ï¼</h2>
<h3 id="ç°è±¡1importerror-tokenizers020021-is-required">ç°è±¡1ï¼ImportError: tokenizers&gt;=0.20,&lt;0.21 is required...</h3>
<pre><code class="language-bash">
ImportError: tokenizers&gt;=0.20,&lt;0.21 is required for a normal functioning of this module, but found tokenizers==0.19.1.
</code></pre>
<p>åå ï¼transformers çæ¬å tokenizers çæ¬ä¸å¹éï¼æ¯å¦ transformers 4.46.1 è¦æ± tokenizers 0.20.xï¼èå®è£äº 0.19.1ï¼ã</p>
<p>è§£å³æ¹æ¡ï¼å¸è½½å½å tokenizersï¼å®è£å¯¹åºçæ¬ï¼æ¯å¦ transformers 4.46.1 â tokenizers 0.20.1ï¼transformers 4.48.3 â tokenizers 0.21.4ï¼ï¼å½ä»¤ï¼</p>
<pre><code class="language-bash">
pip uninstall -y tokenizers
pip install tokenizers==0.21.4  # å¯¹åºtransformers 4.48.3
</code></pre>
<h3 id="ç°è±¡2importerror-cannot-import-name-gguf_config_mapping-from-transformersintegrations">ç°è±¡2ï¼ImportError: cannot import name 'GGUF_CONFIG_MAPPING' from 'transformers.integrations'</h3>
<pre><code class="language-bash">
ImportError: OfaForAllTasks: cannot import name 'GGUF_CONFIG_MAPPING' from 'transformers.integrations'
</code></pre>
<p>åå ï¼transformers çæ¬è¿ä½ï¼æ¯å¦ 4.38.2ï¼ï¼è¯¥çæ¬ç integrations æ¨¡åä¸­æ²¡æå¯¼åº GGUF_CONFIG_MAPPINGï¼èæ¨¡åä»£ç å¼ç¨äºè¿ä¸ªåéã</p>
<p>è§£å³æ¹æ¡ï¼å®è£ transformers 4.48.3ï¼ModelScope ç¡¬ç¼ç è¦æ±ï¼å¼å®¹ GGUF_CONFIG_MAPPINGï¼ï¼å½ä»¤ï¼</p>
<pre><code class="language-bash">
pip uninstall -y transformers
pip install transformers==4.48.3
</code></pre>
<h3 id="ç°è±¡3è¿è¡èæ¬æ¶ä¾èµè¢«èªå¨å¸è½½å¹¶éæ°å®è£">ç°è±¡3ï¼è¿è¡èæ¬æ¶ï¼ä¾èµè¢«èªå¨å¸è½½å¹¶éæ°å®è£</h3>
<p>åå ï¼æ²¡æç¦ç¨ ModelScope èªå¨ä¾èµå®è£ï¼ModelScope æ£æµå°ä¾èµçæ¬åå®ç¡¬ç¼ç çè¦æ±ä¸ä¸è´ï¼ä¼èªå¨å¸è½½ä½ ççæ¬å¹¶å¼ºå¶å®è£æå®çæ¬ã</p>
<p>è§£å³æ¹æ¡ï¼è®¾ç½®ç¯å¢åéï¼ç¦ç¨èªå¨ä¾èµå®è£ï¼åèæ­¥éª¤ 5ï¼ï¼ä¸´æ¶çæææ°¸ä¹çæåå¯ã</p>
<h2 id="å2å¾çå è½½å¤±è´¥403-forbidden-éè¯¯">å2ï¼å¾çå è½½å¤±è´¥ï¼403 Forbidden éè¯¯ï¼</h2>
<h3 id="ç°è±¡requestsexceptionshttperror-403-client-error-forbidden-for-url-">ç°è±¡ï¼requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: ...</h3>
<pre><code class="language-bash">
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: http://modelscope-open.oss-cn-hangzhou.aliyuncs.com/test/images/visual_question_answering.png
</code></pre>
<p>åå ï¼ä½¿ç¨äº ModelScope å®æ¹çæµè¯å¾ç URLï¼è¯¥ URL æéåæ´æå¤±æï¼æ æ³è®¿é®ï¼403 æéæç»ï¼ã</p>
<p>è§£å³æ¹æ¡ï¼æ¿æ¢ä¸ºæ¬å°å¾çæå¬å¼å¯è®¿é®çå¨çº¿å¾ç URLï¼èæ¬å·²å¼å®¹ä¸¤ç§å¾çæ¥æºï¼åèæ­¥éª¤ 6.1 å 6.2ï¼ã</p>
<h2 id="å3è¾å¥æ ¼å¼éè¯¯text-ç¸å³éè¯¯">å3ï¼è¾å¥æ ¼å¼éè¯¯ï¼'text' ç¸å³éè¯¯ï¼</h2>
<h3 id="ç°è±¡è¿è¡åºétext-æ-keyerror-text">ç°è±¡ï¼è¿è¡åºéï¼'text' æ KeyError: 'text'</h3>
<p>åå ï¼æ¨¡åè¾å¥æ ¼å¼ä¸ç¬¦åè¦æ±ï¼OFA VQA æ¨¡åè¦æ±è¾å¥ä¸ºã(PIL.Imageå¯¹è±¡, è±æé®é¢ææ¬)ãçåç»æ ¼å¼ï¼èä¸æ¯å­å¸ï¼æ¯å¦ {'image': ..., 'question': ...}ï¼ã</p>
<p>è§£å³æ¹æ¡ï¼æç§èæ¬ä¸­çæ ¼å¼ï¼å°è¾å¥æ¹ä¸ºåç»ï¼PIL.Imageå¯¹è±¡ + é®é¢ææ¬ï¼ï¼èæ¬å·²å°è£å¥½è¯¥é»è¾ï¼æ éæå¨ä¿®æ¹ï¼åèæ­¥éª¤ 6.2 ä¸­çä¸»é»è¾é¨åï¼ã</p>
<h2 id="å4æ¨¡ååå§åå¤±è´¥ç¼ºå°-trust_remote_codetrue">å4ï¼æ¨¡ååå§åå¤±è´¥ï¼ç¼ºå° trust_remote_code=Trueï¼</h2>
<h3 id="ç°è±¡æ¨¡ååå§åæ¶æ¥éæ æ³å è½½èªå®ä¹ä»£ç ææ¨¡åç»æä¸å¹é">ç°è±¡ï¼æ¨¡ååå§åæ¶ï¼æ¥éâæ æ³å è½½èªå®ä¹ä»£ç âæâæ¨¡åç»æä¸å¹éâ</h3>
<p>åå ï¼OFA æ¨¡åæèªå®ä¹çé¢å¤çåæ¨çé»è¾ï¼åå»º pipeline æ¶æ²¡ææ·»å  trust_remote_code=True åæ°ï¼æ æ³å è½½è¿äºèªå®ä¹ä»£ç ã</p>
<p>è§£å³æ¹æ¡ï¼åå»º pipeline æ¶ï¼æ·»å  trust_remote_code=True åæ°ï¼åèæ­¥éª¤ 6.2 ä¸­ç init_vqa_model å½æ°ï¼ã</p>
<h2 id="å5è­¦åä¿¡æ¯å¹²æ°ééè¯¯å¯å¿½ç¥">å5ï¼è­¦åä¿¡æ¯å¹²æ°ï¼ééè¯¯ï¼å¯å¿½ç¥ï¼</h2>
<h3 id="ç°è±¡è¿è¡èæ¬æ¶åºç°ä»¥ä¸è­¦åä¿¡æ¯">ç°è±¡ï¼è¿è¡èæ¬æ¶ï¼åºç°ä»¥ä¸è­¦åä¿¡æ¯</h3>
<pre><code class="language-bash">
# è­¦å1ï¼pkg_resources å¼ç¨è­¦å
UserWarning: pkg_resources is deprecated as an API. See ...

# è­¦å2ï¼TRANSFORMERS_CACHE å¼ç¨è­¦å
FutureWarning: Using `TRANSFORMERS_CACHE` is deprecated and will be removed in v5 of Transformers.

# è­¦å3ï¼TensorFlow ç¸å³è­¦åï¼cuDNNãcuFFT ç­ï¼
E external/local_xla/xla/stream_executor/cuda/cuda_dnn.cc:9261] Unable to register cuDNN factory: ...
</code></pre>
<p>åå ï¼è¿äºé½æ¯éåè½æ§è­¦åï¼ä¸å½±åæ¨¡åè¿è¡ââpkg_resources å¼ç¨æ¯ ModelScope çä¾èµé®é¢ï¼TRANSFORMERS_CACHE å¼ç¨æ¯ transformers ççæ¬æç¤ºï¼TensorFlow è­¦åæ¯ç¼ºå°ç¸å³æä»¶ï¼ä¸å½±å CPU æ¨çï¼ã</p>
<p>è§£å³æ¹æ¡ï¼ç´æ¥å¿½ç¥ï¼æ éå¤çï¼ä¸å½±åæ¨¡åçæ¨çåè½ã</p>
<h1 id="äºæ»ç»ä¸åç»­ä¼åå»ºè®®">äºãæ»ç»ä¸åç»­ä¼åå»ºè®®</h1>
<h2 id="1-é¨ç½²æ»ç»">1. é¨ç½²æ»ç»</h2>
<p>æ¬æ¬¡ OFA è§è§é®ç­æ¨¡åé¨ç½²çæ ¸å¿è¦ç¹ï¼</p>
<ul>
<li>
<p>ç¯å¢éç¦»ï¼å¿é¡»ç¨èæç¯å¢ï¼é¿åä¾èµå²çªï¼</p>
</li>
<li>
<p>çæ¬å¹éï¼transformers<mark>4.48.3 + tokenizers</mark>0.21.4 + huggingface-hub==0.25.2ï¼çæ¬ä¸è½æ¹ï¼</p>
</li>
<li>
<p>ç¦ç¨èªå¨ä¾èµï¼è®¾ç½®ç¯å¢åéï¼é¿å ModelScope èªå¨è¦çä¾èµçæ¬ï¼</p>
</li>
<li>
<p>è¾å¥æ ¼å¼ï¼å¿é¡»æ¯ï¼PIL.Imageå¯¹è±¡, è±æé®é¢ï¼çåç»æ ¼å¼ï¼</p>
</li>
<li>
<p>å¾çæ¥æºï¼é¿åä½¿ç¨å¤±æç URLï¼ä¼åç¨æ¬å°å¾çã</p>
</li>
</ul>
<p>æç§ä¸é¢çæ­¥éª¤æä½ï¼å°±è½æåé¨ç½²å¹¶è¿è¡æ¨¡åï¼è¾åºæ­£ç¡®çè§è§é®ç­ç»æã</p>
<h2 id="2-åç»­ä¼åå»ºè®®">2. åç»­ä¼åå»ºè®®</h2>
<ul>
<li>
<p>æ°¸ä¹è®¾ç½®ç¯å¢åéï¼å°ç¦ç¨èªå¨ä¾èµçå½ä»¤åå¥ ~/.bashrcï¼é¿åæ¯æ¬¡æ°å¼ç»ç«¯é½è¦éæ°æ§è¡ï¼</p>
</li>
<li>
<p>æ¯æä¸­æé®ç­ï¼æ¬æ¬¡ä½¿ç¨çæ¯è±ææ¨¡åï¼å¯æ¿æ¢ä¸ºä¸­æ OFA æ¨¡åï¼å¦ <code>iic/ofa_visual-question-answering_pretrain_large_zh</code>ï¼ï¼é®é¢å¯æ¹ä¸ºä¸­æï¼</p>
</li>
<li>
<p>ä¼åæ¨çéåº¦ï¼å¦æçµèæ GPUï¼å¯å®è£ CUDAãPyTorch GPU çæ¬ï¼æ¨çéåº¦ä¼æ¯ CPU å¿« 5-10 åï¼</p>
</li>
<li>
<p>æ¹éæ¨çï¼ä¿®æ¹èæ¬ï¼æ¯ææ¹éè¾å¥å¾çåé®é¢ï¼æ¹éè¾åºç»æï¼æé«æçã</p>
</li>
</ul>
<h1 id="å­æå">å­ãæå</h1>
<p>ä»¥ä¸å°±æ¯ OFA è§è§é®ç­æ¨¡åé¨ç½²çå®æ´æå­¦ï¼ä»ç¯å¢åå¤å°èæ¬è¿è¡ï¼åå°é¿åæåï¼æ¯ä¸æ­¥é½è¯¦ç»æ æ³¨ï¼æ°æä¹è½è½»æ¾å¤ç°ãå¦æå¤§å®¶å¨é¨ç½²è¿ç¨ä¸­éå°å¶ä»é®é¢ï¼æ¬¢è¿å¨è¯è®ºåºçè¨ï¼æä¼åæ¶åå¤ï½</p>
<p>ç¥å¤§å®¶é¨ç½²é¡ºå©ï¼æ©æ¥ç¨ä¸ OFA æ¨¡åå®ç°è§è§é®ç­åè½ï¼ð</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-27 01:05">2026-01-27 01:04</span>&nbsp;
<a href="https://www.cnblogs.com/ChenAI-TGF">TTGF</a>&nbsp;
éè¯»(<span id="post_view_count">18</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19535960);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19535960', targetLink: 'https://www.cnblogs.com/ChenAI-TGF/p/19535960', title: 'è¶è¯¦ç»ï¼OFA è§è§é®ç­ï¼VQAï¼æ¨¡åé¨ç½²æå­¦ï¼é¿åå®æ´çï¼' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ wso2~éè¿ä¸æ¹IDPçtokenç½®æ¢wso2çtoken ]]></title>
    <link>https://www.cnblogs.com/lori/p/19532862</link>
    <guid>0048290ea8b89fdd7f2571b45b31cd8f</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/lori/p/19532862" title="åå¸äº 2026-01-26 16:25">
    <span role="heading" aria-level="2">wso2~éè¿ä¸æ¹IDPçtokenç½®æ¢wso2çtoken</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>åæ°ï¼<a href="https://datatracker.ietf.org/doc/html/rfc7523" target="_blank" rel="noopener nofollow">https://datatracker.ietf.org/doc/html/rfc7523</a></p>
<h1 id="oauth20ä¸­çä¸æ¹å¦ç±»ææ">oauth2.0ä¸­çä¸æ¹å¦ç±»ææ</h1>
<p>äºè§£OAuth 2.0ä¸­ç¹å®çææç±»åï¼Grant Typeï¼å¯¹äºæå»ºå®å¨çè®¤è¯æµç¨è³å³éè¦ãä¸é¢ä¸ºä½ è¯¦ç»ä»ç»è¿ä¸ç§åºäºURNå£°æçæ©å±ææç±»åã</p>
<h3 id="-è®¾å¤ä»£ç ææ-urnietfparamsoauthgrant-typedevice_code">ð è®¾å¤ä»£ç ææ (<code>urn:ietf:params:oauth:grant-type:device_code</code>)</h3>
<p>è¿ç§æææ¨¡å¼ä¸ä¸ºè¾å¥è½ååéææ²¡ææµè§å¨çè®¾å¤è®¾è®¡ï¼æ¯å¦æºè½çµè§ãæ¸¸ææºãIoTè®¾å¤æå½ä»¤è¡å·¥å·ï¼CLIï¼ã</p>
<ul>
<li>
<p><strong>å·¥ä½åç</strong>ï¼å¶æ ¸å¿æ¯ä¸ä¸ªä¸¤æ­¥è¿ç¨ã</p>
<ol>
<li><strong>è®¾å¤è·åä»£ç </strong>ï¼è®¾å¤ä¸çåºç¨é¦ååæææå¡å¨ï¼å¦ Microsoft Entra IDï¼ç <code>/devicecode</code> ç«¯ç¹åèµ·è¯·æ±ãæå¡å¨ä¼è¿åä¸ç»ä¿¡æ¯ï¼åæ¬ä¸ä¸ªç®ç­ç <code>user_code</code>ï¼ç¨æ·ä»£ç ï¼åä¸ä¸ª <code>verification_uri</code>ï¼éªè¯ç½åï¼ã</li>
<li><strong>ç¨æ·ææ</strong>ï¼è®¾å¤å° <code>user_code</code> å <code>verification_uri</code> æ¾ç¤ºç»ç¨æ·ï¼å¹¶æç¤ºç¨æ·å¨å¶ä»è®¾å¤ï¼å¦ä¸ªäººææºæçµèï¼ä¸æå¼æµè§å¨ï¼è®¿é®è¯¥ç½åå¹¶è¾å¥ä»£ç ãç¨æ·å¨æææå¡å¨çæ­£è§é¡µé¢ä¸å®æèº«ä»½éªè¯ï¼å¯è½åæ¬å¤å ç´ è®¤è¯ï¼å¹¶åæææãå¨æ­¤æé´ï¼è®¾å¤åºç¨ä¼å®æè½®è¯¢æææå¡å¨çä»¤çç«¯ç¹ï¼ç´å°ç¨æ·å®ææä½åè·åè®¿é®ä»¤çåå·æ°ä»¤çã</li>
</ol>
</li>
<li>
<p><strong>å®å¨é£é©ä¸é²å¾¡</strong>ï¼éè¦æ³¨æçæ¯ï¼æ­¤æµç¨å¯è½è¢«ç¨äºè¿è¡é«è¿·ææ§çç½ç»éé±¼æ»å»ï¼ç§°ä¸ºâè®¾å¤ä»£ç éé±¼âï¼ãæ»å»èä¼è¯±å¯¼ç¨æ·å¨çå®çå¾®è½¯ç»å½é¡µé¢è¾å¥ç±æ»å»èçæçè®¾å¤ä»£ç ï¼ä»èææä¸ä¸ªæ¶æåºç¨ãé²å¾¡æªæ½åæ¬å¨æå¡å¨ç«¯ä¸¥æ ¼éå¶åºç¨åæç­ç¥ãå®æ½æ¡ä»¶è®¿é®ç­ç¥ï¼å¦è¦æ±æ¥èªåè§è®¾å¤ï¼ï¼ä»¥åå¯¹ç¨æ·è¿è¡å®å¨æè²ã</p>
</li>
</ul>
<h3 id="-ä»¤çäº¤æ¢ææ-urnietfparamsoauthgrant-typetoken-exchange">ð ä»¤çäº¤æ¢ææ (<code>urn:ietf:params:oauth:grant-type:token-exchange</code>)</h3>
<p>ä»¤çäº¤æ¢æææä¾äºå¼ºå¤§ç interoperabilityï¼äºæä½æ§ï¼ï¼åè®¸å°ä¸ä¸ªå­è¯æä»¤çäº¤æ¢ä¸ºå¦ä¸ä¸ªä¸åçä»¤çï¼å¸¸ç¨äºæå¡ä¹é´çå®å¨è°ç¨æèº«ä»½æ å°ã</p>
<ul>
<li>
<p><strong>æ ¸å¿æ¦å¿µ</strong>ï¼å®éµå¾ª OAuth Token Exchange è§èï¼ä½¿å¾å®¢æ·ç«¯è½å¤ä½¿ç¨ä¸ä¸ªç°æç <code>subject_token</code>ï¼ä¸»ä½ä»¤çï¼æ¥æ¢åä¸ä¸ªæ°çãéå¯¹ä¸ååä¼æèµæºç <code>access_token</code>ï¼è®¿é®ä»¤çï¼ã</p>
</li>
<li>
<p><strong>å¸¸è§åºæ¯</strong>ï¼</p>
<ul>
<li><strong>æå¡é´è°ç¨</strong>ï¼åç«¯æå¡Aå¯ä»¥ä½¿ç¨èªå·±ææçä»¤çï¼æ¢åä¸ä¸ªå·æéå½æéçãç¨äºè°ç¨æå¡Bçè®¿é®ä»¤çã</li>
<li><strong>æééçº§</strong>ï¼ä¸ä¸ªé«æéçåºç¨å¨éè¦è°ç¨ä¸ä¸ªä½ä¿¡ä»»åº¦çæå¡æ¶ï¼å¯ä»¥æ¢ä¸ä¸ªæéåéçä»¤çï¼ä»¥æåå®å¨æ§ã</li>
<li><strong>å¤é¨èº«ä»½æä¾åéæ</strong>ï¼å°å¤é¨IDPï¼å¦GoogleãFacebookï¼ç­¾åçä»¤çäº¤æ¢ä¸ºåé¨ç³»ç»çä»¤çï¼ä»èå®ç°è·¨åèº«ä»½èåã</li>
<li><strong>ç¨æ·æ¨¡æ</strong>ï¼å¨ä¸¥æ ¼ç®¡æ§ä¸ï¼æå¡å¯ä»¥æ¢åä¸ä¸ªä»£è¡¨ç¹å®ç¨æ·èº«ä»½çä»¤çï¼å³æ¨¡æç¨æ·ï¼ã</li>
</ul>
</li>
<li>
<p><strong>å®æ½è¦ç¹</strong>ï¼ä»¤çäº¤æ¢åè½éå¸¸é»è®¤ä¸å¼å¯ï¼éè¦å¨æå¡å¨ç«¯ï¼å¦Red Hat Single Sign-Onï¼ä¸ºå®¢æ·ç«¯æ¾å¼éç½®ç²¾ç»çæéç­ç¥ã</p>
</li>
</ul>
<h3 id="ï¸-jwtææèææ-urnietfparamsoauthgrant-typejwt-bearer">âï¸ JWTææèææ (<code>urn:ietf:params:oauth:grant-type:jwt-bearer</code>)</h3>
<p>è¿ç§ææç±»ååè®¸å®¢æ·ç«¯ç´æ¥ä½¿ç¨ä¸ä¸ªé¢åç­¾åçJWTï¼JSON Web Tokenï¼ä½ä¸ºæ­è¨ï¼assertionï¼æ¥è·åè®¿é®ä»¤çã</p>
<ul>
<li>
<p><strong>åºæ¬æµç¨</strong>ï¼å®¢æ·ç«¯åæææå¡å¨çä»¤çç«¯ç¹åèµ·POSTè¯·æ±ï¼å¨è¯·æ±ä½ä¸­ï¼<code>grant_type</code> åæ°è®¾ç½®ä¸º <code>urn:ietf:params:oauth:grant-type:jwt-bearer</code>ï¼å¹¶åæ¶æä¾ç¨ä½æ­è¨ç <code>assertion</code> åæ°ï¼å³JWTæ¬èº«ï¼ãæææå¡å¨ä¼éªè¯è¯¥JWTçç­¾åãæææãé¢åèç­ä¿¡æ¯ï¼éªè¯éè¿åå³é¢åæè¯·æ±çè®¿é®ä»¤çã</p>
</li>
<li>
<p><strong>å¸ååºç¨åºæ¯</strong>ï¼</p>
<ul>
<li><strong>æå¡è´¦æ·è®¤è¯</strong>ï¼å¨æºå¨å¯¹æºå¨ï¼M2Mï¼çéä¿¡ä¸­ï¼ä¸ä¸ªæå¡å¯ä»¥ä½¿ç¨äºåéç½®å¥½çJWTï¼éå¸¸åºäºç§é¥ç­¾åï¼æ¥è·åè®¿é®ä»¤çï¼æ éç¨æ·äº¤äºãè¿å¨CI/CDæµæ°´çº¿æåå°æå¡ä¸­éå¸¸å¸¸è§ã</li>
<li><strong>å¾®æå¡æ¶æ</strong>ï¼å¨å¾®æå¡ç½ç»ä¸­ï¼ä¸ä¸ªæå¡å¨æ¶å°è®¿é®ä»¤çåï¼å¯ä»¥å©ç¨æ­¤æµç¨åè®¤è¯æå¡å¨æ¢åä¸ä¸ªèå´ï¼scopeï¼æ´çªãä¸ç¨äºè®¿é®å¦ä¸ä¸ªç¹å®å¾®æå¡çä»¤çã</li>
</ul>
</li>
</ul>
<p>ä¸é¢çè¡¨æ ¼æ¸æ°å°å¯¹æ¯äºè¿ä¸ç§ææç±»åçå³é®å·®å¼ã</p>
<table>
<thead>
<tr>
<th style="text-align: left">ç¹æ§</th>
<th style="text-align: left">è®¾å¤ä»£ç ææ (<code>device_code</code>)</th>
<th style="text-align: left">ä»¤çäº¤æ¢ææ (<code>token-exchange</code>)</th>
<th style="text-align: left">JWTææèææ (<code>jwt-bearer</code>)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left"><strong>ä¸»è¦ç®ç</strong></td>
<td style="text-align: left">æ¹ä¾¿è¾å¥åéè®¾å¤ä¸çç¨æ·ææ</td>
<td style="text-align: left">å®ç°ä»¤çä¹é´çå®å¨è½¬æ¢åèº«ä»½å§æ</td>
<td style="text-align: left">å®¢æ·ç«¯ä½¿ç¨å·²æçJWTç´æ¥è·åè®¿é®ä»¤ç</td>
</tr>
<tr>
<td style="text-align: left"><strong>ä»¤çæµ</strong></td>
<td style="text-align: left">è½®è¯¢æºå¶</td>
<td style="text-align: left">ç´æ¥äº¤æ¢</td>
<td style="text-align: left">æ­è¨å¼è¯·æ±</td>
</tr>
<tr>
<td style="text-align: left"><strong>å¸ååºç¨</strong></td>
<td style="text-align: left">æºè½çµè§ãIoTè®¾å¤ãCLIå·¥å·</td>
<td style="text-align: left">æå¡é´è°ç¨ãæééçº§ãèº«ä»½èå</td>
<td style="text-align: left">æºå¨å¯¹æºå¨éä¿¡ãæå¡è´¦æ·ãå¾®æå¡</td>
</tr>
</tbody>
</table>
<h3 id="å¤çæµç¨">å¤çæµç¨</h3>
<div class="mermaid">sequenceDiagram
    participant Client
    participant WSO2APIM (Authorization Server)
    participant Keycloak (External IdP)

    Note over Client, Keycloak: åå¤é¶æ®µ
    Client -&gt;&gt; Keycloak: 1. éè¿Keycloakè®¤è¯è·åJWT
    Keycloak --&gt;&gt; Client: è¿åJWTï¼æ­è¨ï¼

    Note over Client, WSO2APIM: JWT Bearer Grant æµç¨
    Client -&gt;&gt; WSO2APIM: 2. ä»¤çè¯·æ± (grant_type=jwt-bearer, assertion=JWT)
    WSO2APIM -&gt;&gt; WSO2APIM: 3. éªè¯JWTç­¾åãæææãé¢åè
    WSO2APIM -&gt;&gt; WSO2APIM: 4. æåèº«ä»½/å£°æï¼å¦sub, audï¼
    WSO2APIM -&gt;&gt; WSO2APIM: 5. æ ¹æ®JWTä¸­çä¿¡æ¯åå»ºä¼è¯å¹¶é¢åèªèº«çè®¿é®ä»¤ç
    WSO2APIM --&gt;&gt; Client: 6. è¿åWSO2 APIMçè®¿é®ä»¤ç
</div><h3 id="-æ»ç»ä¸å®å¨èé">ð æ»ç»ä¸å®å¨èé</h3>
<p>éæ©åªç§ææç±»åå®å¨åå³äºä½ çå·ä½åºç¨åºæ¯ãè®¾å¤ä»£ç ææä¼åäºåéè®¾å¤çç¨æ·ä½éªï¼ä»¤çäº¤æ¢ææä¸ºå¤æçæå¡é´ä¿¡ä»»é¾æä¾äºçµæ´»æ§ï¼èJWTææèææåæ¯æºå¨å¯¹æºå¨éä¿¡çç®æ´é«ææ¹æ¡ã</p>
<p>å¨å®æ½è¿äºæææµç¨æ¶ï¼å¡å¿å³æ³¨ä»¥ä¸å®å¨æä½³å®è·µï¼</p>
<ul>
<li><strong>ä¸¥æ ¼æ§å¶æé</strong>ï¼éµå¾ªæå°æéååï¼åªä¸ºåºç¨æäºå¶å¿éçæå°æéã</li>
<li><strong>éªè¯ä¸çæ§</strong>ï¼æå¡å¨ç«¯å¿é¡»ä¸¥æ ¼éªè¯ææä»¤çåæ­è¨ï¼å¦JWTçç­¾ååæææï¼ï¼å¹¶å»ºç«æ¥å¿å®¡è®¡åå¼å¸¸è¡ä¸ºçæ§æºå¶ã</li>
<li><strong>ä¿æ¤ä»¤ç</strong>ï¼è®¿é®ä»¤çåå·æ°ä»¤çæ¯ææå­è¯ï¼å¨ä¼ è¾åå­å¨è¿ç¨ä¸­å¿é¡»å ä»¥ä¿æ¤ã</li>
</ul>
<h1 id="wso2ä¸­çå®æ">wso2ä¸­çå®æ</h1>
<h2 id="wso2-spçéç½®">wso2 spçéç½®</h2>
<p>éç½®è®¤è¯grant_typeç±»å</p>
<p><img src="https://img2024.cnblogs.com/blog/118538/202601/118538-20260126132653488-1051084105.png" alt="å¾ç" loading="lazy"></p>
<h2 id="keycloak-idpçéç½®">keycloak idpçéç½®</h2>
<blockquote>
<p>keycloakä¸­ä¸ºå®¢æ·ç«¯å¼å¯rolesä¹åï¼å¦ææç¨æ·æå®¢æ·ç«¯çè§è²ï¼ä¼å¨jwtä¸­å¤åºæ¥audæ°ç»å­æ®µï¼ä¹å¯ä»¥ä¸ºwso2å®¢æ·ç«¯æ·»å èªå®ä¹çclient scopeï¼ç¶åä¸ºå®æ·»å audçcliams</p>
</blockquote>
<p>IDPåç§°å¿é¡»ä¸IDPä¸­tokençIssuerç¸å</p>
<p><img src="https://img2024.cnblogs.com/blog/118538/202601/118538-20260126162025923-968169912.png" alt="å¾ç" loading="lazy"></p>
<h2 id="æµè¯">æµè¯</h2>
<pre><code>curl -X POST 'https://test-apim.xxx.com/oauth2/token' -H 'Content-Type: application/json' -H 'Content-Type: application/json' -u 'wso2-sp-client-id:wso2-sp-client-secret' --basic -d '{
    "grant_type": "urn:ietf:params:oauth:grant-type:jwt-bearer",
    "assertion": "abc.abc.abc",
    "scope": "openid apim:subscribe"
}'
</code></pre>
<p>å¦ækeycloak_tokenè¿æï¼å°±è¿åè¿ä¸ª400éè¯¯</p>
<pre><code>{
  "error_description": "JSON Web Token is expired., Expiration Time(ms) : 1769413736000, TimeStamp Skew : 0, Current Time : 1769413748585. JWT Rejected and validation terminated",
  "error": "invalid_grant"
}
</code></pre>
<p>å¦ææåï¼ä¼è¿wso2å¹³å°çtoken</p>
<pre><code>{
  "access_token": "8b23bf56-f8d2-33fa-9962-f298a797ce94",
  "refresh_token": "aad2555-30b0-3591-8c70-b2cdc042cc41",
  "scope": "apim:subscribe openid",
  "id_token": "",
  "token_type": "Bearer",
  "expires_in": 3185
}
</code></pre>
<p>ç¨æ·ç»å½æååï¼ä¼åå§åç¨æ·è¡¨ï¼éè¦æ³¨æçæ¯ï¼è¿ç§<code>urn:ietf:params:oauth:grant-type:jwt-bearer</code>é¦æ¬¡ç»å½æ·»å çç¨æ·ï¼å®ä½äº<code>wso2am_db.idn_auth_user</code>è¡¨ï¼user_nameåæ ·æ¯ä¸æ¹ç¤¾åºtokenä¸­ç<code>sub</code>å­æ®µï¼èæ åoauthçææç è®¤è¯åï¼é¤äºå¨<code>wso2am_db.idn_auth_user</code>è¡¨åå§åå¤ï¼è¿å¨<code>wso2am_share_db.um_user</code>è¡¨ä¹ä¼æ·»å ä¸ä»½ç¨æ·æ°æ®ã</p>

</div>
<div id="MySignature" role="contentinfo">
    <p></p>
<div class="navgood">
<p>ä½èï¼ä»å¨å¤§åï¼å¼ å å²­ï¼<br>
è£èªï¼å¾®è½¯MVP<br>QQï¼853066980</p>

<p><strong>æ¯ä»å®æ«ä¸æ«ï¼ä¸ºå¤§åæèµ!</strong>
<br><img src="https://images.cnblogs.com/cnblogs_com/lori/237884/o_IMG_7144.JPG"></p>
</div>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.03263888888888889" data-date-updated="2026-01-26 17:12">2026-01-26 16:25</span>&nbsp;
<a href="https://www.cnblogs.com/lori">å¼ å å²­</a>&nbsp;
éè¯»(<span id="post_view_count">101</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19532862);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19532862', targetLink: 'https://www.cnblogs.com/lori/p/19532862', title: 'wso2~éè¿ä¸æ¹IDPçtokenç½®æ¢wso2çtoken' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ langchain å¿«éå¥é¨(å­)ï¼å®ç°å¤agentåä½ ]]></title>
    <link>https://www.cnblogs.com/ClownLMe/p/19538384</link>
    <guid>a55fa62c8a99c520f70c892055473189</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/ClownLMe/p/19538384" title="åå¸äº 2026-01-27 14:27">
    <span role="heading" aria-level="2">langchain å¿«éå¥é¨(å­)ï¼å®ç°å¤agentåä½</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="ç®ä»">ç®ä»</h1>
<p><strong>å¤Agentåä½</strong>è½å¤å°ä¸ä¸ªå¤æçä»»å¡æè§£æä¸ä¸ªä¸ªå­ä»»å¡ç»ä¸é¨çagentï¼è½å¤è§£å³å¤æé®é¢ï¼å®ç°å¤æçaiå·¥ä½æµã</p>
<h1 id="å¤agentåä½">å¤Agentåä½</h1>
<p>ä¸åçAgentï¼æä¸åçè½åï¼æä»¬å¯è½ä¼æåç§å®ééæ±ï¼ä¾å¦ï¼å®æ¶è¯å«è½¦çä½ç½®ï¼Yoloï¼-&gt;è¯å«è½¦çåå®¹ï¼qwen-vlï¼-&gt; LLMç®¡çè®°å½è½¦çä¿¡æ¯ãéè¿å¤Agentåä½çå·¥ä½æµï¼è½å¤å®ç°æç§ç­é¢ï¼èªå¨åªè¾ï¼pptçæç­ä¸ç³»åå¤æé®é¢ã</p>
<p>ä¸é¢ç¨ä¸ä¸ªç®åçæ¡ä¾ï¼æ¥è¯´æã</p>
<h1 id="ç®åçå¤agentåä½">ç®åçå¤Agentåä½</h1>
<h3 id="ç¤ºä¾">ç¤ºä¾</h3>
<p>éæ±ï¼æ¥ä¸ä¸é¿éãè¾è®¯ãç¾åº¦çPEï¼å¹¶è®¡ç®å¹³åå¼ã</p>
<pre><code class="language-python">import os
import operator
from pydantic import BaseModel, Field
from langchain_community.chat_models.tongyi import ChatTongyi
from langchain_core.tools import tool
from langchain_core.messages import HumanMessage, BaseMessage, ToolMessage, SystemMessage
from langchain_core.prompts import ChatPromptTemplate, MessagesPlaceholder
from typing import Annotated, List, Literal, TypedDict
from langgraph.graph import StateGraph, END

os.environ["DASHSCOPE_API_KEY"] = "apikey"
llm = ChatTongyi(model="qwen-plus")

@tool
def web_search(query: str):
    """ç¨äºæ¥æ¾ææ°çè¡ç¥¨æ°æ®ãå¬å¸è´¢æ¥ä¿¡æ¯ã"""
    results = []
    if "é¿é" in query: results.append("é¿éå·´å·´(BABA) PE: 15.5")
    if "è¾è®¯" in query: results.append("è¾è®¯æ§è¡(0700) PE: 18.2")
    if "ç¾åº¦" in query: results.append("ç¾åº¦(BIDU) PE: 11.8")
    
    if not results:
        return "æªæ¾å°æ°æ®"
    return " ; ".join(results)

@tool
def python_calculator(code: str):
    """ç¨äºè®¡ç®ãè¾å¥å¿é¡»æ¯ python ä»£ç ã"""
    try:
        result = eval(code)
        return f"è®¡ç®ç»æ: {result}"
    except Exception as e:
        return f"è®¡ç®éè¯¯: {e}"

def create_agent(state: dict, llm, tools, system_prompt):
    llm_tools = llm.bind_tools(tools)
    
    prompt = [SystemMessage(content=system_prompt)] + state["messages"]
    response = llm_tools.invoke(prompt)

    results = [response]

    for tool_call in response.tool_calls:
        func_name = tool_call["name"]
        args = tool_call["args"]
        call_id = tool_call["id"]
        
        func = next((t for t in tools if t.name == func_name), None)

        if func:
            tool_output = func.invoke(args)
            tool_msg = ToolMessage(
                content=str(tool_output),
                name=func_name,
                tool_call_id=call_id
            )
            results.append(tool_msg)

    return {"messages": results}

class State(TypedDict):
    messages: Annotated[List[BaseMessage], operator.add]
    next: str

def researcher_node(state):
    return create_agent(
        state=state,
        llm=llm,
        tools=[web_search],
        system_prompt="ä½ æ¯ä¸ä¸ªç ç©¶åãåªè´è´£æ¥æ°æ®ï¼æ¾å°æ°æ®åç´æ¥è¾åºåè¯ï¼ä¸éè¦è®¡ç®ã"
    )

def coder_node(state):
    return create_agent(
        state=state,
        llm=llm,
        tools=[python_calculator],
        system_prompt="ä½ æ¯ä¸ä¸ªç¨åºåãæ ¹æ®ä¸é¢ç ç©¶åæ¥å°çæ°æ®ï¼åä»£ç è®¡ç®å¹³åå¼ã"
    )

def finish_node(state):
    return create_agent(
        state=state,
        llm=llm,
        tools=[],
        system_prompt="ä»»å¡å®æï¼ç®ç­çæ»ç»æç»ç»æã"
    )

def supervisor_node(state):
    system_prompt = (
        "ä½ æ¯é¡¹ç®ç»çãæ ¹æ®å¯¹è¯åå²å³å®ä¸ä¸æ­¥äº¤ç»è°ã"
        "æ¥æ°æ®æ¾ Researcherï¼è®¡ç®æ¾ Coderï¼è¯å«å¾çæ¾ Photographerã"
        "å¦æä»»å¡å®æï¼å¿é¡»éæ© FINISHã"
    )

    prompt = ChatPromptTemplate.from_messages([
        ("system", system_prompt),
        MessagesPlaceholder(variable_name="messages"),
        ("system", "æ ¹æ®ä»¥ä¸æåµï¼è¯·ååºéæ©ã"),
    ])

    class RouteResponse(BaseModel):
        next: Literal["Researcher", "Coder", "FINISH"] = Field(
            ..., 
            description="ä¸ä¸æ­¥äº¤ç»è°ï¼å¦æä»»å¡å®æè¯·é FINISH"
        )

    chain = prompt | llm.with_structured_output(RouteResponse)

    response = chain.invoke(state)

    return {"next": response.next}

def init_agent():
    workflow = StateGraph(State)
    workflow.add_node("Researcher", researcher_node)
    workflow.add_node("Coder", coder_node)
    workflow.add_node("Supervisor", supervisor_node)
    workflow.add_node("Finish", finish_node)

    workflow.add_edge("Researcher", "Supervisor")
    workflow.add_edge("Coder", "Supervisor")
    workflow.add_edge("Finish", END)
    workflow.add_conditional_edges(
        "Supervisor",
        lambda state: state["next"],{
        "Researcher": "Researcher",
        "Coder": "Coder",
        "FINISH": "Finish",
    })

    workflow.set_entry_point("Supervisor")

    return workflow.compile()

if __name__ == "__main__":
    agent = init_agent()
    for result in agent.stream({
        "messages": [HumanMessage(content="æ¥ä¸ä¸é¿éãè¾è®¯ãç¾åº¦çPEï¼å¹¶è®¡ç®å¹³åå¼ã")]
        }):
        for key, value in result.items():
            if key == "Supervisor":
                print("[" + key + "] å»å: " + value["next"])
            else:
                print("[" + key + "] åå¤: " + value['messages'][-1].content)

</code></pre>
<h3 id="ä»£ç è§£é">ä»£ç è§£é</h3>
<p>ä»£ç ä¸å±ç¨å°äº4ä¸ªagentï¼</p>
<ol>
<li>agent Researcherï¼å¶æä¸ä¸ªå·¥å·ï¼è´è´£æç´¢æäºåå®¹</li>
<li>agent coderï¼å¶æä¸ä¸ªå·¥å·ï¼è´è´£è¿è¡ç²¾ç¡®è®¡ç®</li>
<li>agent finishï¼å¶æ²¡æå·¥å·ï¼è´è´£æ»ç»åå®¹</li>
<li>agent Supervisorï¼å¶æ²¡æå·¥å·ï¼è´è´£ç®¡çä¸é¢3ä¸ªagentï¼å³å®ä»»å¡çå»å<br>
ä¸é¢æ¡ä¾ä½¿ç¨çæ¯langgraphç»ä»¶ï¼è¿éå°±ä¸è¯¦ç»è®²è§£äºï¼è¯·çä¹åæç« ã</li>
</ol>
<p><strong>ä»£ç æµç¨ï¼</strong> åå§åå·¥å·åº-&gt;åå§åagent-&gt;æå»ºå¾-&gt;è¿è¡</p>
<h3 id="åå§åå·¥å·åº">åå§åå·¥å·åº</h3>
<pre><code class="language-python">@tool
def web_search(query: str):
    """ç¨äºæ¥æ¾ææ°çè¡ç¥¨æ°æ®ãå¬å¸è´¢æ¥ä¿¡æ¯ã"""
    results = []
    if "é¿é" in query: results.append("é¿éå·´å·´(BABA) PE: 15.5")
    if "è¾è®¯" in query: results.append("è¾è®¯æ§è¡(0700) PE: 18.2")
    if "ç¾åº¦" in query: results.append("ç¾åº¦(BIDU) PE: 11.8")
    
    if not results:
        return "æªæ¾å°æ°æ®"
    return " ; ".join(results)

@tool
def python_calculator(code: str):
    """ç¨äºè®¡ç®ãè¾å¥å¿é¡»æ¯ python ä»£ç ã"""
    try:
        result = eval(code)
        return f"è®¡ç®ç»æ: {result}"
    except Exception as e:
        return f"è®¡ç®éè¯¯: {e}"
</code></pre>
<p>è¿éç<code>web_search</code>ä½¿ç¨çæ¯èåçæ¨¡æä¿¡æ¯ï¼ä¸é¢çå·¥å·æè¿°ä¸å¤å®æ´ï¼ä½æ¯è½ç¨ï¼å¦æç¨å®éæ¡ä¾ï¼è¯·æè¿°å®æ´ï¼å·¥å·çæè¿°åèä¹åæç« ã</p>
<h1 id="åå§åagent">åå§åagent</h1>
<h5 id="å¶ä»3ä¸ªagent">å¶ä»3ä¸ªagent</h5>
<pre><code class="language-python">def create_agent(state: dict, llm, tools, system_prompt):
    llm_tools = llm.bind_tools(tools)
    
    prompt = [SystemMessage(content=system_prompt)] + state["messages"]
    response = llm_tools.invoke(prompt)

    results = [response]

    for tool_call in response.tool_calls:
        func_name = tool_call["name"]
        args = tool_call["args"]
        call_id = tool_call["id"]
        
        func = next((t for t in tools if t.name == func_name), None)

        if func:
            tool_output = func.invoke(args)
            tool_msg = ToolMessage(
                content=str(tool_output),
                name=func_name,
                tool_call_id=call_id
            )
            results.append(tool_msg)

def researcher_node(state):
    return create_agent(
        state=state,
        llm=llm,
        tools=[web_search],
        system_prompt="ä½ æ¯ä¸ä¸ªç ç©¶åãåªè´è´£æ¥æ°æ®ï¼æ¾å°æ°æ®åç´æ¥è¾åºåè¯ï¼ä¸éè¦è®¡ç®ã"
    )

def coder_node(state):
    return create_agent(
        state=state,
        llm=llm,
        tools=[python_calculator],
        system_prompt="ä½ æ¯ä¸ä¸ªç¨åºåãæ ¹æ®ä¸é¢ç ç©¶åæ¥å°çæ°æ®ï¼åä»£ç è®¡ç®å¹³åå¼ã"
    )

def finish_node(state):
    return create_agent(
        state=state,
        llm=llm,
        tools=[],
        system_prompt="ä»»å¡å®æï¼ç®ç­çæ»ç»æç»ç»æã"
    )
</code></pre>
<p>æµç¨ç¸å¯¹ç®åï¼<code>create_agent</code>ç»èåé¢æç« å·²ç»è®²è§£ï¼è¿éå°±ä¸åºè¯äºã</p>
<h5 id="ç®¡çagent">ç®¡çagent</h5>
<pre><code class="language-python">def supervisor_node(state):
    system_prompt = (
        "ä½ æ¯é¡¹ç®ç»çãæ ¹æ®å¯¹è¯åå²å³å®ä¸ä¸æ­¥äº¤ç»è°ã"
        "æ¥æ°æ®æ¾ Researcherï¼è®¡ç®æ¾ Coderï¼è¯å«å¾çæ¾ Photographerã"
        "å¦æä»»å¡å®æï¼å¿é¡»éæ© FINISHã"
    )

    prompt = ChatPromptTemplate.from_messages([
        ("system", system_prompt),
        MessagesPlaceholder(variable_name="messages"),
        ("system", "æ ¹æ®ä»¥ä¸æåµï¼è¯·ååºéæ©ã"),
    ])

    class RouteResponse(BaseModel):
        next: Literal["Researcher", "Coder", "FINISH"] = Field(
            ..., 
            description="ä¸ä¸æ­¥äº¤ç»è°ï¼å¦æä»»å¡å®æè¯·é FINISH"
        )

    chain = prompt | llm.with_structured_output(RouteResponse)

    response = chain.invoke(state)

    return {"next": response.next}
</code></pre>
<p>è¿ä¸æ­¥éè¦ç®åè¯´æï¼</p>
<pre><code class="language-python">class RouteResponse(BaseModel):
    next: Literal["Researcher", "Coder", "FINISH"] = Field(
        ..., 
        description="ä¸ä¸æ­¥äº¤ç»è°ï¼å¦æä»»å¡å®æè¯·é FINISH"
    )
chain = prompt | llm.with_structured_output(RouteResponse)
</code></pre>
<ul>
<li>LLMä¸­ç<code>with_structured_output</code>æ¹æ³æ¯langchainæä¾çä¸ä¸ªç»ä»¶ï¼åè½æ¯ï¼éå®LLMçè¾åºæ ¼å¼ï¼è¿åç¸åºæ ¼å¼çå­å¸ã</li>
<li>å®ä¹è¾åºæ ¼å¼éå®çç±»ï¼</li>
</ul>
<ol>
<li>è¯¥ç±»æ¯<code>BaseModel</code>çå­ç±»</li>
<li><code>Literal</code>æ¯éæ©ï¼è¦æ±aiä»<code>"Researcher", "Coder", "FINISH"</code>ä¸éä¸</li>
<li><code>Field</code>æè¿°åéï¼å°½éè¯¦å°½ï¼æè¿°+ä¾å­ï¼å ä¸ºæ¯ç»å¤§æ¨¡åçç</li>
</ol>
<pre><code class="language-python">class classname(BaseModel):
	fieldname: fieldtype = Field(..., description="æè¿°")
</code></pre>
<h3 id="æå»ºå¾éè¦">æå»ºå¾ï¼éè¦ï¼</h3>
<pre><code class="language-python">def init_agent():
    workflow = StateGraph(State)
    workflow.add_node("Researcher", researcher_node)
    workflow.add_node("Coder", coder_node)
    workflow.add_node("Supervisor", supervisor_node)
    workflow.add_node("Finish", finish_node)

    workflow.add_edge("Researcher", "Supervisor")
    workflow.add_edge("Coder", "Supervisor")
    workflow.add_edge("Finish", END)
    workflow.add_conditional_edges(
        "Supervisor",
        lambda state: state["next"],{
        "Researcher": "Researcher",
        "Coder": "Coder",
        "FINISH": "Finish",
    })

    workflow.set_entry_point("Supervisor")

    return workflow.compile()
</code></pre>
<p>è¿ä¸æ­¥ç¸å½äºè¿æ¥å·¥ä½æµï¼æå»ºçæµç¨å¾å¦ä¸ï¼</p>
<pre><code>       +---------------------------+
       |           å¼å§             |
       +-------------+-------------+
                     |
                     v
       +---------------------------+
       |       Supervisor          |&lt;----------------+
       | (éè¿å½åä»»å¡ç¶æï¼è¿ånext) |                 |
       +-------------+-------------+                 |
                     |(æ ¹æ®stateä¸­nextå¤æ­å»å)        |
        _____________|_____________                  |
       /             |             \                 |
      /              |              \                |
     v               v               v               |
+------------+  +------------+  +------------+       |
| Researcher |  |   Coder    |  |   Finish   |       |
|  (Agent)   |  |  (Agent)   |  | (Cleanup)  |       |
+-----+------+  +-----+------+  +-----+------+       |
      |               |               |              |
      |               |               v              |
      |               |         +------------+       |
      +---------------+         |    END     |       |
              |                 +------------+       |
              |                                      |
              +--------------------------------------+
                    (è¿åéæ°éæ©ä¸ä¸ä¸ªagent)
</code></pre>
<p><strong>å¦æâ¤åæ¬¢â¤æ¬ç³»åæç¨ï¼å°±ç¹ä¸ªå³æ³¨å§ï¼åç»­ä¸å®ææ´æ°~</strong></p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-27 14:27">2026-01-27 14:27</span>&nbsp;
<a href="https://www.cnblogs.com/ClownLMe">ClownLMe</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19538384);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19538384', targetLink: 'https://www.cnblogs.com/ClownLMe/p/19538384', title: 'langchain å¿«éå¥é¨(å­)ï¼å®ç°å¤agentåä½' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
        </channel>
        </rss>