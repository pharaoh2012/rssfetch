<?xml version="1.0" encoding="UTF-8" ?>
    <rss version="2.0">
    <channel>
        <title><![CDATA[ ä¸»é¡µ - åå®¢å­ ]]></title>
        <link><![CDATA[ https://www.cnblogs.com/ ]]></link>
        <lastBuildDate>2026-01-08T04:36:34.870Z</lastBuildDate>
        <description><![CDATA[
        ä¸»é¡µ - åå®¢å­ RSS
    ]]></description>
        <language>zh-cn</language>
        <item>
    <title><![CDATA[ 2026 å¹´ PHP çä¸å¤§ä¼å¿ è¿é¨"èå°"ä¸ºä½ä¾ç¶éè¦ ]]></title>
    <link>https://www.cnblogs.com/catchadmin/p/19454737</link>
    <guid>b8e1d775b4caea208155e970b378a6b7</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/catchadmin/p/19454737" title="åå¸äº 2026-01-08 08:16">
    <span role="heading" aria-level="2">2026 å¹´ PHP çä¸å¤§ä¼å¿ è¿é¨"èå°"ä¸ºä½ä¾ç¶éè¦</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="2026-å¹´-php-çä¸å¤§ä¼å¿-è¿é¨èå°ä¸ºä½ä¾ç¶éè¦">2026 å¹´ PHP çä¸å¤§ä¼å¿ è¿é¨"èå°"ä¸ºä½ä¾ç¶éè¦</h1>
<p>PHP "å¿«æ­»äº"è¿å¥è¯åäºè¿ä¹å¤å¹´ï¼å¦æçææ¥ä¸ï¼å®çç®ååºè¯¥å·²ç»ç¸å½å¯è§äºã</p>
<p>ä½ å¤§æ¦è§è¿è¿äºè®ºè°ï¼"PHP è¿æ¶äº"ã"ç°å¨æ²¡äººç¨ PHP åæ­£ç»ç³»ç»äº"ã"åªæèé¡¹ç®è¿å¨ç¨"ãè¿äºè¯´æ³ä¹ä¸ç®å¨éââç¡®å®æå¤§ééç PHP ä»£ç å¨è¿è¡ãä½è¿æå¦ä¸ä¸ªç°å®å¾å°è¢«æåï¼PHP ä»ç¶å¨é©±å¨å¤§éçäº§ç¯å¢çåç«¯ç³»ç»ï¼æ°ç PHP é¡¹ç®ä¹å¨ä¸æ­åºç°ï¼å ä¸ºå¢éæ³è¦çä¸è¥¿åäºå¹´ãåå¹´åä¸æ ·ï¼</p>
<ul>
<li>å¯é¢æµçé¨ç½²æµç¨</li>
<li>å¿«éè¿­ä»£</li>
<li>æçççæ</li>
<li>è½å¤ç»åå¤äººåä½ãå¤å¹´ç»´æ¤çå¯è¯»ä»£ç </li>
</ul>
<p>æåæ¬¢è¿ç±»é®é¢ï¼å ä¸ºå®é¼ä½ æè¯è¯´æ¸æ¥ãä¸æ¯"æåæ¬¢ç¨"ï¼ä¸æ¯"å®å¾æµè¡"ï¼èæ¯ä½ å¨çäº§ä»£ç ä¸­è½å®éæåºçå·¥ç¨ä¼å¿ã</p>
<p>ä¸é¢æ¯æçåç­ï¼åç»ä¸¤ç±»è¯»èï¼</p>
<ul>
<li><strong>å¦æä½ åæ¥è§¦åç«¯å¼å</strong>ï¼ä½ ä¼å¾å°ä¸ä¸ªæ¸æ°çå¿æºæ¨¡åï¼çè§£ PHP ä¸ºä½ä»ç¶éå Web ç³»ç»ã</li>
<li><strong>å¦æä½ ç»éªä¸°å¯</strong>ï¼ä½ ä¼çå°ç°ä»£ PHP å®è·µï¼ç±»åãéæåæãæ¸æ°è¾¹çãå¡å®ç API æ¨¡å¼ï¼å¦ä½æ"PHP å®¹æä¸æ"åæ"PHP å¯é "ã</li>
</ul>
<p>æä¼å°½éç¨å¹³å®çè¯­è¨ï¼ä½ä¸ä¼åé¿ææ¯ç»èãçå®çç³»ç»æ¬æ¥å°±æ¯ææ¯æ§çãç®æ æ¯è®©è¿äºææ¯åå®¹åå¾ææä¸å®ç¨ã</p>
<p><a href="https://catchadmin.com/post/2026-01/php-3-biggest-strengths-2026" target="_blank" rel="noopener nofollow">åæ 2026 å¹´ PHP çä¸å¤§ä¼å¿ è¿é¨"èå°"ä¸ºä½ä¾ç¶éè¦</a></p>
<h2 id="ä»ä¹æ¯ä¼å¿å¨çå®åç«¯å·¥ä½ä¸­çå®ä¹">ä»ä¹æ¯"ä¼å¿"ï¼å¨çå®åç«¯å·¥ä½ä¸­çå®ä¹</h2>
<p>å¼åèæ¯è¾è¯­è¨æ¶ï¼è®¨è®ºç»å¸¸è·åå°æ§è½åºåãè¯­æ³åå¥½æèäºèç½æåãä½å½ä½ å¨æå»º API æ Web åç«¯æ¶ï¼"ä¼å¿"éå¸¸æå³çä¸äºæ´æ èââä¹æ´éè¦çä¸è¥¿ï¼</p>
<ul>
<li>è½å¦å¿«éäº¤ä»åè½èä¸åä¸ç»´æ¤é·é±ï¼</li>
<li>è½å¦éææ°æ®åºãéååç¬¬ä¸æ¹ API èä¸ä»å¤´é è½®å­ï¼</li>
<li>è½å¦å¤çæ··ä¹±çæ°æ®åè¾¹ç¼æåµèä¸æä»£ç åæé¬¼å±ï¼</li>
</ul>
<p>è¿å°±æ¯ PHP ææé¿çé¢åãä¸æ¯å ä¸ºå®æä¼éï¼èæ¯å ä¸ºå®çå½¢ç¶åå¥½å¥åå¤§å¤æ° Web åç«¯ã</p>
<p>å¸¦çè¿ä¸ªæè·¯ï¼æ¥ç PHP å¨ 2026 å¹´çä¸å¤§ä¼å¿ã</p>
<h2 id="ä¼å¿ä¸web-åçççäº§åphp-å¤©ç¶å¥å-http-ä¸ç">ä¼å¿ä¸ï¼Web åçççäº§åï¼PHP å¤©ç¶å¥å HTTP ä¸çï¼</h2>
<p>å¤§å¤æ°åç«¯é½æ¯ HTTP æºå¨ãè¿ä¸æ¯æ¯å»ï¼èæ¯æ¥å¸¸å·¥ä½ï¼</p>
<ul>
<li>è¯·æ±è¿æ¥</li>
<li>æ ¡éªå¹¶è§èå</li>
<li>è°ç¨æå¡ / æ°æ®åº / å¤é¨ API</li>
<li>è¿å JSON</li>
<li>è®°å½æ¥å¿åè¿½è¸ª</li>
<li>å¾ªç¯</li>
</ul>
<p>PHP çç¬¬ä¸ä¸ªä¼å¿æ¯å®å¨è¿ä¸ªå¾ªç¯éæè§å¾èªç¶ãä½ ä¸éè¦å¨å¤çè¯·æ±ä¹å"æ­å»ºä¸ç"ãPHP çé»è®¤æ¨¡åå°±æ¯é¢å Web çï¼è¿ä¸ç¹å¾å¾è¢«ä½ä¼°äºã</p>
<h3 id="ç»å¸ç-php-æ§è¡æ¨¡åä¸ºä½ä»ç¶æç¨">ç»å¸ç PHP æ§è¡æ¨¡åä¸ºä½ä»ç¶æç¨</h3>
<p>PHP ä¼ ç»çè¯·æ±çå½å¨æå¾ç®åï¼</p>
<ol>
<li>å¼å§è¯·æ±</li>
<li>è¿è¡ä»£ç </li>
<li>è¿åååº</li>
<li>ç»æè¯·æ±</li>
</ol>
<p>ç¶åä¸ä¸ä¸ªè¯·æ±ä»å¤´å¼å§ã</p>
<p>æäººæè¿å½æç¸å¯¹äºé¿é©»æå¡å¨çå£å¿ï¼ä½å¨å®è·µä¸­å®å¾å¾æ¯ä¼å¿ï¼</p>
<ul>
<li>åå­æ³æ¼ä¸ä¼é£ä¹è´å½ï¼å ä¸ºè¿ç¨ä¼åæ¶ã</li>
<li>æ¯ä¸ªè¯·æ±å¤©ç¶éç¦»ã</li>
<li>ä¸å¤ªå¯è½æå¤ä¾èµåå­ç¶æã</li>
<li>è°è¯å¾å¾æ´ç®åï¼å ä¸ºæ¯ä¸ªè¯·æ±ææ¸æ°çè¾¹çã</li>
</ul>
<p>ä½ ä¹å¯ä»¥ç¨é¿é©»æ¨¡å¼è· PHPï¼RoadRunnerãSwoole ç­ï¼ï¼å®ä»¬å¨ç¹å®åºæ¯ä¸ç¡®å®å¾å¥½ãä½ç»å¸æ¨¡åå¯¹è®¸å¤ API ä»ç¶æ¯å¯é çé»è®¤éæ©ï¼å ä¸ºå®ç¨³å®ä¸å¯¹è¿ç»´åå¥½ã</p>
<h3 id="ä¸ä¸ªçº¯-phpç-api-å¥å£å±ç¤ºåºæ¬å½¢æ">ä¸ä¸ª"çº¯ PHP"ç API å¥å£ï¼å±ç¤ºåºæ¬å½¢æï¼</h3>
<p>å³ä½¿ä½ å¨çäº§ç¯å¢ä½¿ç¨ Laravel æ Symfonyï¼å¤§å¤æ°æ­£ç»åºç¨ç¡®å®è¯¥ç¨ï¼ï¼çç PHP ä¸ºä½å¨ Web å·¥ä½ä¸­é«æè¿æ¯æå¸®å©çã</p>
<pre><code class="language-php">&lt;?php
declare(strict_types=1);
require __DIR__ . '/../vendor/autoload.php';
header('Content-Type: application/json; charset=utf-8');
$method = $_SERVER['REQUEST_METHOD'] ?? 'GET';
$path = parse_url($_SERVER['REQUEST_URI'] ?? '/', PHP_URL_PATH) ?: '/';
function jsonResponse(array $payload, int $status = 200): void {
    http_response_code($status);
    echo json_encode($payload, JSON_UNESCAPED_UNICODE | JSON_UNESCAPED_SLASHES);
    exit;
}
function readJsonBody(): array {
    $raw = file_get_contents('php://input') ?: '';
    $data = json_decode($raw, true);
    return is_array($data) ? $data : [];
}
if ($method === 'GET' &amp;&amp; $path === '/health') {
    jsonResponse(['ok' =&gt; true, 'time' =&gt; date(DATE_ATOM)]);
}
if ($method === 'POST' &amp;&amp; $path === '/users') {
    $body = readJsonBody();
    $email = strtolower(trim((string)($body['email'] ?? '')));
    $name  = trim((string)($body['name'] ?? ''));
    if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
        jsonResponse(['error' =&gt; 'Invalid email'], 422);
    }
    if ($name === '') {
        jsonResponse(['error' =&gt; 'Name is required'], 422);
    }
    $id = random_int(1000, 9999);
    jsonResponse(['id' =&gt; $id, 'email' =&gt; $email, 'name' =&gt; $name], 201);
}
jsonResponse(['error' =&gt; 'Not found'], 404);
</code></pre>
<p>è¿ä¸æ¯"æä½³å®è·µæ¶æ"ï¼ä½å®æ¼ç¤ºäºæ ¸å¿ææ³ï¼PHP ç Web å¾ªç¯ç´æ¥ä¸ææãè¿å°±æ¯åºç¡ççäº§åä¼å¿ã</p>
<h3 id="å¿«ä¸ä¹±çåºå«è-handlerçæå¡">"å¿«"ä¸"ä¹±"çåºå«ï¼è handlerï¼çæå¡</h3>
<p>PHP ç Web çäº§åè¦æä¸ºé¿æä¼å¿ï¼åææ¯ä¿æè¾¹çæ¸æ°ãæå®¹æå¤±å»è¿ä¸ªä¼å¿çæ¹å¼å°±æ¯æææä¸è¥¿é½å¡è¿æ§å¶å¨ã</p>
<p>ä¸ä¸ªå¯æ©å±çæ¨¡å¼ï¼</p>
<ul>
<li><strong>Handler / æ§å¶å¨</strong>ï¼è§£ç è¯·æ±ãè°ç¨æå¡ãç¼ç ååº</li>
<li><strong>æå¡</strong>ï¼ä¸å¡é»è¾ + ç¼æ</li>
<li><strong>Repository / Client</strong>ï¼å­å¨ + å¤é¨ API è°ç¨</li>
</ul>
<p>è¿æ¯ä¸ä¸ªä¸æ¡æ¶æ å³çå°ä¾å­ï¼</p>
<pre><code class="language-php">final class CreateUserHandler
{
    public function __construct(
        private readonly UserService $service
    ) {}
    public function __invoke(array $body): array
    {
        $input = CreateUserInput::fromArray($body);
        $user  = $this-&gt;service-&gt;create($input);
        return UserResource::toArray($user);
    }
}
</code></pre>
<p>Handler è¯»èµ·æ¥åä¸æ®µåè¿°ãè¿å°±å¯¹äºã</p>
<p>ç°å¨æå¡æ¥åçæ­£çå³ç­ï¼</p>
<pre><code class="language-php">final class UserService
{
    public function __construct(
        private readonly UserRepository $users
    ) {}
    public function create(CreateUserInput $input): User
    {
        if ($this-&gt;users-&gt;existsByEmail($input-&gt;email)) {
            throw new DomainException('Email already registered');
        }
        $user = User::register($input-&gt;email, $input-&gt;name);
        $this-&gt;users-&gt;save($user);
        return $user;
    }
}
</code></pre>
<p>è¿ä¸ªç»æå¹¶ä¸è±å¨ï¼ä½å®è½é²æ­¢ä»£ç åºå¨å­ä¸ªæååææå¤§å©é¢ã</p>
<h3 id="çå®ä¸çç-api-å·¥ä½è¶æ¶åéè¯æ¯åè½çä¸é¨å">çå®ä¸çç API å·¥ä½ï¼è¶æ¶åéè¯æ¯åè½çä¸é¨å</h3>
<p>PHP ä¿æå®ç¨çä¸ä¸ªåå æ¯ï¼å PHP åç«¯çå¢éå¾å¾å¾æ©å°±è¢«è¿«é¢å¯¹ Web çç°å®ãä¸æ¯å ä¸º PHP ç¹æ®ï¼èæ¯å ä¸º Web æ¬èº«å°±ä¸å®½å®¹ã</p>
<p>å¦æä½ è°ç¨å¤é¨ API å´ä¸è®¾è¶æ¶ãä¸è®¾éè¯ç­ç¥ï¼ä½ å°±æ¯å¨åä¸æªæ¥çäºæã</p>
<p>ä¸é¢æ¯ä¸ä¸ªç¨ Guzzle åçå°è£ï¼å¨çäº§ç¯å¢ä¸­è½æ­£ç»å¹²æ´»ï¼</p>
<pre><code class="language-php">use GuzzleHttp\Client;
use GuzzleHttp\Exception\GuzzleException;
final class ShippingClient
{
    private Client $http;
    public function __construct(string $baseUrl, string $token)
    {
        $this-&gt;http = new Client([
            'base_uri' =&gt; rtrim($baseUrl, '/') . '/',
            'timeout' =&gt; 3.0,
            'connect_timeout' =&gt; 1.0,
            'headers' =&gt; [
                'Authorization' =&gt; "Bearer {$token}",
                'Accept' =&gt; 'application/json',
            ],
        ]);
    }
    public function createLabel(array $payload): array
    {
        $attempts = 0;
        while (true) {
            $attempts++;
            try {
                $resp = $this-&gt;http-&gt;post('labels', ['json' =&gt; $payload]);
                $data = json_decode((string)$resp-&gt;getBody(), true);
                return is_array($data) ? $data : [];
            } catch (GuzzleException $e) {
                if ($attempts &gt;= 3) {
                    throw new RuntimeException('Shipping API failed after retries', 0, $e);
                }
                // small exponential backoff + jitter
                usleep((int)(100_000 * $attempts) + random_int(0, 50_000));
            }
        }
    }
}
</code></pre>
<p>å½äºèç½æ¬èº«æ¯ä½ çä¾èµæ¶ï¼è¿ç§ä»£ç æ¯å¿é¡»çââè PHP å¾éåºè¿ä¸ªåºæ¯ã</p>
<p><strong>ä¸ºä»ä¹è¿æ¯ä¼å¿ä¸</strong>ï¼PHP å¥å HTTP å·¥ä½çå½¢ç¶ï¼è®©å¢éè½å¿«éæå»ºåè½èä¸ç¨ä¸å¹³å°å¯¹æã</p>
<h2 id="ä¼å¿äºçææçåº¦composer--æ¡æ¶--æ åéä½é£é©">ä¼å¿äºï¼çææçåº¦ï¼Composer + æ¡æ¶ + æ åéä½é£é©ï¼</h2>
<p>PHP çç¬¬äºä¸ªä¼å¿æ¯æ æã</p>
<p>å¾å¤è¯­è¨é½è½å Web å¼åãä½è½è®©"æ èçé¨å"ä»¥å¯å¤ç¨çæ¹å¼è¢«è§£å³ãè®©å¢éè½æå°å·²ç»çæè¿äºæ¨¡å¼çäººï¼è¿æ ·çæççæå¹¶ä¸å¤ã</p>
<p>å½ä½ éæ© PHPï¼ä½ éæ©çä¸åªæ¯è¯­æ³ï¼è¿æï¼</p>
<ul>
<li>Composer + Packagist</li>
<li>Laravel / Symfonyï¼ä»¥åå¶ä»æ¡æ¶ï¼</li>
<li>PSR æ åï¼äºæä½æ§ï¼</li>
<li>ç¨³å®çå·¥å·é¾ï¼æµè¯ãéæåæãæ ¼å¼åãéæï¼</li>
</ul>
<p>çæçæçåº¦è½éä½é£é©ãé£é©ææ¯çæ­£è±é±çå°æ¹ã</p>
<h3 id="composerè®©ç»æåæä¸ºå¸¸æçå®éåºç³">Composerï¼è®©ç»æåæä¸ºå¸¸æçå®éåºç³</h3>
<p>Composer ä¸åªæ¯ä¾èµç®¡çââå®æ¨å¨ä½ èµ°åæ¨¡ååçä»£ç åºï¼ç¨èªå¨å è½½åå½åç©ºé´ã</p>
<p>ä¸ä¸ªæå°çä¾å­ï¼</p>
<pre><code class="language-json">{
  "require": {
    "php": "^8.2",
    "monolog/monolog": "^3.0",
    "guzzlehttp/guzzle": "^7.0"
  },
  "autoload": {
    "psr-4": {
      "App\\": "src/"
    }
  }
}
</code></pre>
<p>ä¸æ¦ä½ éç¨ PSR-4 èªå¨å è½½ï¼ä½ çä»£ç å°±ä¸åæ¯"æä»¶"ï¼èå¼å§åæ"æ¨¡å"ãè¿ä¸ªè½¬åæ¯ç°ä»£ PHP æ¯èå»æ¿å°è±¡æ´æç»´æ¤çéè¦åå ã</p>
<h3 id="æ¡æ¶ç¨æ èçæ¹æ¡è§£å³æ èçé®é¢è¿æ­£æ¯éç¹">æ¡æ¶ï¼ç¨æ èçæ¹æ¡è§£å³æ èçé®é¢ï¼è¿æ­£æ¯éç¹ï¼</h3>
<p>æ¡æ¶å¯è½è¢«è¿åº¦ä½¿ç¨ï¼ä½"ä¸ç¨æ¡æ¶"çåæ³å¨åºç¨å¢é¿åå¾å¾æ´ç³ã</p>
<p>Laravel å Symfony ä¸ºä½ ä¸æ³éæ°åæçä¸è¥¿æä¾äºå¯é çé»è®¤æ¹æ¡ï¼</p>
<ul>
<li>è·¯ç±åä¸­é´ä»¶</li>
<li>æ ¡éªåè¯·æ±å¤ç</li>
<li>DI å®¹å¨æ¨¡å¼</li>
<li>ç¼å­åéå</li>
<li>æ°æ®åºè¿ç§»</li>
<li>ç»æåçéè¯¯å¤ç</li>
</ul>
<p>å¤§å¤æ°çäº§äºæä¸æ¯æ¥èªç²¾å¦çä¸å¡é»è¾ï¼èæ¯æ¥èªè¶æ°´ä»£ç ï¼è¶æ¶ãéè¯ãä¸ä¸è´çæ ¡éªãé¨åå¤±è´¥ãæå¤ç payloadãä¸ä¸è´çéè¯¯ååºã</p>
<p>æ¡æ¶é»è®¤æ¹æ¡åå°è¿äºäºæï¼å ä¸ºä½ å»ºç«å¨å·²ç»ç»åè¿æåä¸ä¸ä¸ªçäº§ç³»ç»èéªçæ¨¡å¼ä¹ä¸ã</p>
<h3 id="psr-æ åè®©ä½ çä»£ç ä¸åè¢«éæ­»">PSR æ åï¼è®©ä½ çä»£ç ä¸åè¢«éæ­»</h3>
<p>æ åå¨ä½ éæåºæèè¶åºæåå³ç­æ¶æä¸ºéè¦ã</p>
<p>ä¾å¦ï¼PSR-3 æ¥å¿ã</p>
<pre><code class="language-php">use Psr\Log\LoggerInterface;
final class BillingService
{
    public function __construct(private readonly LoggerInterface $logger) {}
    public function charge(int $userId, int $amountCents): void
    {
        $this-&gt;logger-&gt;info('Charge request', [
            'userId' =&gt; $userId,
            'amountCents' =&gt; $amountCents,
        ]);
        // ...
    }
}
</code></pre>
<p>è¿ä¸ªç±»ä¸å¨ä¹ä½ ä»å¤©ç¨ Monolog è¿æ¯æå¤©æ¢æå«çæ¥å¿åºãè¿ç§è§£è¦æè½è®©ç³»ç»æ¼è¿ã</p>
<h3 id="å·¥å·é¾å-2015-å¹´ç¸æ¯ç°ä»£-php-åæ¢äºä¸é¨è¯­è¨">å·¥å·é¾ï¼å 2015 å¹´ç¸æ¯ï¼ç°ä»£ PHP åæ¢äºä¸é¨è¯­è¨</h3>
<p>å¾å¤"PHP é»"æ¥èªäºå¯¹èä»£ç åºçä½éªï¼å¼±ç±»åãä¸ä¸è´çæ¨¡å¼ã"åä¸çº¿åè¯´"çæåã</p>
<p>ç°ä»£ PHP å¢ééå¸¸ä¼ç¨ä¸å¥ç®åçè´¨éå·¥å·é¾ï¼</p>
<ul>
<li>ä¸¥æ ¼ç±»å</li>
<li>éæåæï¼PHPStan / Psalmï¼</li>
<li>æµè¯ï¼PHPUnit / Pestï¼</li>
<li>æ ¼å¼åï¼PHP-CS-Fixerï¼</li>
<li>èªå¨éæï¼Rectorï¼</li>
</ul>
<p>è¿å¥ç»åä¼æ¹åä½ åä»£ç çæ¹å¼ãç®æ ä¸æ¯å®ç¾ï¼èæ¯å°½æ©æ´é²é®é¢ï¼è®©ä»£ç å¨è¿­ä»£ä¸­ä¿æå¯è¯»ã</p>
<p>ä¸é¢æ¯ä¸ä¸ªå°ä¾å­ï¼éæåæå¸®ä½ é¿åä¸ä¸ªè¿è¡æ¶ bugï¼</p>
<pre><code class="language-php">final class UserRepository
{
    public function findByEmail(string $email): User
    {
        // DB lookup...
        return null; // bug
    }
}
</code></pre>
<p>éç½®å¥½éæåæåï¼è¿ä¼ç«å³è¢«æ è®°åºæ¥ã</p>
<p>PHP çæµè¯ä¹ä¸å¿å¾éãä¸ä¸ªèç¦çæµè¯å¯ä»¥è¯»èµ·æ¥åææ¡£ï¼</p>
<pre><code class="language-php">final class MoneyTest extends TestCase
{
    public function testItAddsMoneyInSameCurrency(): void
    {
        $a = Money::usd(1000);
        $b = Money::usd(250);
        $sum = $a-&gt;add($b);
        $this-&gt;assertSame(1250, $sum-&gt;cents());
        $this-&gt;assertSame('USD', $sum-&gt;currency());
    }
}
</code></pre>
<p><strong>ä¸ºä»ä¹è¿æ¯ä¼å¿äº</strong>ï¼PHP ççæè®©ä½ è½å¿«éäº¤ä»å¹¶å®å¨æå»ºï¼å ä¸ºå·¥å·é¾åæ¯ä¾é½å·²æçã</p>
<h2 id="ä¼å¿ä¸å¡å®çæ°æ®ç®¡éphp-æé¿ä¹±è¿å¹²ååº">ä¼å¿ä¸ï¼å¡å®çæ°æ®ç®¡éï¼PHP æé¿"ä¹±è¿ãå¹²ååº"ï¼</h2>
<p>å¦æä½ åè¿ä¸æ®µæ¶é´åç«¯ï¼ä½ å°±ç¥éçç¸ï¼è¿ä»½å·¥ä½å°±æ¯æ°æ®è½¬æ¢ã</p>
<p>è¯·æ±è¿æ¥æ ¼å¼å¥æªãæ°æ®åºè¡ååºæ¥æ ¼å¼å¥æªãå¤é¨ API è¿åçæ¯"å·®ä¸å¤æ¯ä½ ææç"ãWebhook å¨ä¸æ¹ä¾¿çæ¶åéè¯ãè¾¹ç¼æåµå¨å¨äºåçã</p>
<p>PHP å¨è¿ç±»å·¥ä½ä¸ç¹å«å¼ºï¼å ä¸ºå®å¨ä¸¤ç§æ¨¡å¼ä¸é½å¾èªå¦ï¼</p>
<ul>
<li>å¿«éæä½ï¼å­ç¬¦ä¸²ãæ°ç»ãJSONï¼</li>
<li>ç»æåä»£ç ï¼DTOãå¼å¯¹è±¡ãæä¸¾ãreadonly å±æ§ï¼</li>
</ul>
<p>ä¸ºäºè¯´ææçææï¼æ¥æå»ºä¸ä¸ªç°å®çç®¡éï¼å¤çæ¥èªæ¯ä»æä¾åç webhookã</p>
<p>è¿æ¯ä¸ä¸ªå¾å¥½çæµè¯ï¼å ä¸ºå®ç»åäºï¼</p>
<ul>
<li>å®å¨éªè¯</li>
<li>å¹ç­æ§ï¼éè¯ï¼</li>
<li>è½½è·è§èå</li>
<li>ç¶æåæ´</li>
<li>ä¼éå¤çæªç¥äºä»¶ç±»å</li>
</ul>
<h3 id="æ­¥éª¤ä¸ä¿æè½½è·è¾¹çæ¾å¼ådto-ä¼äºåå§æ°ç»">æ­¥éª¤ä¸ï¼ä¿æè½½è·è¾¹çæ¾å¼åï¼DTO ä¼äºåå§æ°ç»ï¼</h3>
<p>æ°ç»å¨è¾¹çå¤æ²¡é®é¢ï¼ä½å¨æ´ä¸ªåºç¨ä¸­ä¼ éåå§æ°ç»ä¼åå¾çè¦ãæä»¥ï¼å°½æ©è§£æï¼å°½æ©ç»æåã</p>
<pre><code class="language-php">final class WebhookEvent
{
    public function __construct(
        public readonly string $id,
        public readonly string $type,
        public readonly int $createdAtEpoch,
        public readonly array $data
    ) {}
    public static function fromArray(array $payload): self
    {
        return new self(
            id: (string)($payload['id'] ?? ''),
            type: (string)($payload['type'] ?? ''),
            createdAtEpoch: (int)($payload['created_at'] ?? 0),
            data: is_array($payload['data'] ?? null) ? $payload['data'] : []
        );
    }
}
</code></pre>
<p>è¿æ¯å¡å®çåæ³ï¼æä»¬ä¾èµçå­æ®µç¨å¼ºç±»åï¼åå§æ°æ®çççµæ´»æ§ï¼æ°å­æ®µå è¿æ¥ä¹ä¸ä¼ç¸ã</p>
<h3 id="æ­¥éª¤äºéªè¯ç­¾åä¸è¦ä¿¡ä»»-json">æ­¥éª¤äºï¼éªè¯ç­¾åï¼ä¸è¦"ä¿¡ä»» JSON"ï¼</h3>
<pre><code class="language-php">final class WebhookSignatureVerifier
{
    public function __construct(private readonly string $secret) {}
    public function verify(string $rawBody, string $signatureHeader): bool
    {
        $expected = hash_hmac('sha256', $rawBody, $this-&gt;secret);
        return hash_equals($expected, $signatureHeader);
    }
}
</code></pre>
<p>è¿é <code>hash_equals</code> å¾éè¦ï¼ç¨äºé¿åæ¶åºæ»å»ãè¿æ¯ä¸ªå°ç»èï¼ä½è¿ç±»ä¹ æ¯æ­£æ¯åºåä¸ä½ä»£ç åçäº§ä»£ç çå°æ¹ã</p>
<h3 id="æ­¥éª¤ä¸å¹ç­æ§å ä¸º-webhook-ä¼éè¯">æ­¥éª¤ä¸ï¼å¹ç­æ§ï¼å ä¸º webhook ä¼éè¯ï¼</h3>
<p>å¦æä½ å¤çåä¸ä¸ªäºä»¶ä¸¤æ¬¡ï¼ä½ å¯è½ä¼ï¼</p>
<ul>
<li>éå¤æ´æ°è®¢é</li>
<li>éå¤åéé®ä»¶</li>
<li>éå¤ç»è´¦æ·å æ¬¾</li>
</ul>
<p>æä»¥è¦å­å¨å·²å¤ççäºä»¶ IDã</p>
<pre><code class="language-php">final class WebhookIdempotencyStore
{
    public function __construct(private readonly PDO $pdo) {}
    public function hasProcessed(string $eventId): bool
    {
        $stmt = $this-&gt;pdo-&gt;prepare("SELECT 1 FROM processed_webhooks WHERE event_id = :id");
        $stmt-&gt;execute([':id' =&gt; $eventId]);
        return (bool)$stmt-&gt;fetchColumn();
    }
    public function markProcessed(string $eventId): void
    {
        $stmt = $this-&gt;pdo-&gt;prepare(
            "INSERT INTO processed_webhooks (event_id, processed_at)
             VALUES (:id, NOW())"
        );
        $stmt-&gt;execute([':id' =&gt; $eventId]);
    }
}
</code></pre>
<h3 id="æ­¥éª¤åå¹²åå°æ å°äºä»¶ç±»åæä¸¾å¾æå¸®å©">æ­¥éª¤åï¼å¹²åå°æ å°äºä»¶ç±»åï¼æä¸¾å¾æå¸®å©ï¼</h3>
<pre><code class="language-php">enum PaymentEventType: string
{
    case PaymentSucceeded = 'payment.succeeded';
    case PaymentFailed = 'payment.failed';
}
</code></pre>
<h3 id="æ­¥éª¤äºç¨äºå¡å-handler-æå®ä»¬ç»åèµ·æ¥">æ­¥éª¤äºï¼ç¨äºå¡å handler æå®ä»¬ç»åèµ·æ¥</h3>
<pre><code class="language-php">final class PaymentWebhookHandler
{
    public function __construct(
        private readonly WebhookSignatureVerifier $verifier,
        private readonly WebhookIdempotencyStore $idem,
        private readonly PaymentService $payments,
        private readonly PDO $pdo
    ) {}
    public function handle(string $rawBody, string $signatureHeader): void
    {
        if (!$this-&gt;verifier-&gt;verify($rawBody, $signatureHeader)) {
            throw new RuntimeException('Invalid webhook signature');
        }
        $payload = json_decode($rawBody, true);
        if (!is_array($payload)) {
            throw new RuntimeException('Invalid JSON');
        }
        $event = WebhookEvent::fromArray($payload);
        if ($event-&gt;id === '' || $event-&gt;type === '') {
            throw new RuntimeException('Missing event fields');
        }
        if ($this-&gt;idem-&gt;hasProcessed($event-&gt;id)) {
            return; // safe no-op
        }
        $this-&gt;pdo-&gt;beginTransaction();
        try {
            $this-&gt;dispatch($event);
            $this-&gt;idem-&gt;markProcessed($event-&gt;id);
            $this-&gt;pdo-&gt;commit();
        } catch (Throwable $e) {
            $this-&gt;pdo-&gt;rollBack();
            throw $e;
        }
    }
    private function dispatch(WebhookEvent $event): void
    {
        $type = PaymentEventType::tryFrom($event-&gt;type);
        if ($type === null) {
            // unknown event type: ignore or log
            return;
        }
        $paymentId = (string)($event-&gt;data['payment_id'] ?? '');
        if ($paymentId === '') return;
        match ($type) {
            PaymentEventType::PaymentSucceeded =&gt; $this-&gt;payments-&gt;markSucceeded($paymentId),
            PaymentEventType::PaymentFailed    =&gt; $this-&gt;payments-&gt;markFailed($paymentId),
        };
    }
}
</code></pre>
<p>è¿æ¯ä¸ä¸ªå¹²åçç®¡éï¼</p>
<ol>
<li>éªè¯çå®æ§</li>
<li>è§£æè½½è·</li>
<li>è§èåä¸º DTO</li>
<li>å¼ºå¶å¹ç­æ§</li>
<li>äºå¡</li>
<li>ååé¢åå¨ä½</li>
<li>å®¹å¿æªç¥äºä»¶</li>
</ol>
<p>è¿å°±æ¯ PHP æé¿ç"Web ç°å®"ä»£ç ï¼å¤çé£äºçæ­£éè¦çèæ´»ï¼åæ¶ä¿æå¯è¯»ã</p>
<p><strong>ä¸ºä»ä¹è¿æ¯ä¼å¿ä¸</strong>ï¼å¤§å¤æ°åç«¯é½æ¯æ°æ®ç®¡éï¼è PHP å¨çå®ä¸ççº¦æä¸æå»ºå¯çè§£çç®¡éæ¹é¢å¾å¼ºã</p>
<h2 id="é¢å¤åå®¹æ¸¸æ åé¡µçå®è·µæ·±å¥å ä¸ºå®æä¸ä¸ªä¼å¿ä¸²å¨ä¸èµ·">é¢å¤åå®¹ï¼æ¸¸æ åé¡µçå®è·µæ·±å¥ï¼å ä¸ºå®æä¸ä¸ªä¼å¿ä¸²å¨ä¸èµ·ï¼</h2>
<p>åé¡µæ¯é£ç§çèµ·æ¥ç®åãç­ç¨æ·ç¿»å°æ·±é¡µææ´é²é®é¢çåè½ãå®ä¹æ¯ä¸ªå¥½ä¾å­ï¼è½è¯´æ PHP ä¸ºä½è¿æ²¡è¿æ¶ï¼å®åæ¶æ¶å HTTPãSQL æ§è½åååºè®¾è®¡ã</p>
<h3 id="ä¸ºä»ä¹-offset-ä¼ä¼¤å®³ä½ ">ä¸ºä»ä¹ OFFSET ä¼ä¼¤å®³ä½ </h3>
<p>Offset åé¡µï¼<code>LIMIT 20 OFFSET 100000</code>ï¼è¿«ä½¿æ°æ®åºæ«æå¹¶ä¸¢å¼å¤§éè¡ãå¨å¤§è¡¨ä¸ï¼æ·±é¡µä¼åæ¢ã</p>
<p>å®å¨å¹¶ååå¥æ¶ä¹å¯è½ä¸ä¸è´ï¼æå¥/å é¤å¯è½å¯¼è´"çªå£"ç§»å¨æ¶åºç°è·³è¿æéå¤ã</p>
<p>æ¸¸æ åé¡µï¼keyset/seekï¼éè¿ä½¿ç¨ç¨³å®çæåºåä»£è¡¨"ä½ ä¸æ¬¡åå¨åªé"çæ¸¸æ æ¥é¿åè¿äºé®é¢ã</p>
<h3 id="è§åä¸æ¸¸æ é»è¾å¿é¡»å¹éæåºæ¹å">è§åä¸ï¼æ¸¸æ é»è¾å¿é¡»å¹éæåºæ¹å</h3>
<p>å¦æä½ æææ°ä¼åæåºï¼</p>
<pre><code class="language-sql">ORDER BY created_at DESC, id DESC
</code></pre>
<ul>
<li>ä¸ä¸é¡µåºè¯¥è·å"æ´æ©"çè¡</li>
<li>æä»¥æ¡ä»¶ç¨ <code>&lt;</code></li>
</ul>
<p>å¦æä½ çæ°æ®åºæ¯æåç»æ¯è¾ï¼</p>
<pre><code class="language-sql">SELECT id, created_at, total_cents
FROM orders
WHERE (created_at, id) &lt; (?, ?)
ORDER BY created_at DESC, id DESC
LIMIT ?
</code></pre>
<p>å¦æä¸æ¯æï¼ç¨æ¾å¼é»è¾ï¼</p>
<pre><code class="language-sql">SELECT id, created_at, total_cents
FROM orders
WHERE created_at &lt; ?
   OR (created_at = ? AND id &lt; ?)
ORDER BY created_at DESC, id DESC
LIMIT ?
</code></pre>
<h3 id="è§åäºæ¸¸æ åºè¯¥æ¯ä¸éæçä¸é²ç¯¡æ¹">è§åäºï¼æ¸¸æ åºè¯¥æ¯ä¸éæçä¸é²ç¯¡æ¹</h3>
<p>æ¸¸æ éå¸¸æ¯ä¸ä¸ªç±»ä¼¼ <code>(created_at, id)</code> çå¯¹ï¼åºååç»å®¢æ·ç«¯ãBase64 ç¼ç å¨ä¼ è¾æ¶æ²¡é®é¢ââä½ä¸æ¯å®å¨æªæ½ãå¦æä½ æ³é²æ­¢å®¢æ·ç«¯ä¼ªé æ¸¸æ ï¼å°±ç­¾åå®ã</p>
<pre><code class="language-php">final class Cursor
{
    public function __construct(
        public readonly string $createdAtIso,
        public readonly int $id
    ) {}
}
final class CursorCodec
{
    public function __construct(private readonly string $secret) {}
    public function encode(Cursor $cursor): string
    {
        $json = json_encode([
            'created_at' =&gt; $cursor-&gt;createdAtIso,
            'id' =&gt; $cursor-&gt;id
        ], JSON_UNESCAPED_SLASHES);
        $b64 = rtrim(strtr(base64_encode($json), '+/', '-_'), '=');
        $sig = hash_hmac('sha256', $b64, $this-&gt;secret);
        return $b64 . '.' . $sig;
    }
    public function decode(string $token): Cursor
    {
        $parts = explode('.', $token, 2);
        if (count($parts) !== 2) {
            throw new InvalidArgumentException('Invalid cursor');
        }
        [$b64, $sig] = $parts;
        $expected = hash_hmac('sha256', $b64, $this-&gt;secret);
        if (!hash_equals($expected, $sig)) {
            throw new InvalidArgumentException('Cursor signature mismatch');
        }
        $json = base64_decode(strtr($b64, '-_', '+/'), true);
        if ($json === false) {
            throw new InvalidArgumentException('Invalid cursor encoding');
        }
        $data = json_decode($json, true);
        if (!is_array($data)) {
            throw new InvalidArgumentException('Invalid cursor payload');
        }
        return new Cursor(
            createdAtIso: (string)($data['created_at'] ?? ''),
            id: (int)($data['id'] ?? 0)
        );
    }
}
</code></pre>
<h3 id="repository-æ¹æ³è¿åæ¡ç®--ä¸ä¸ä¸ªæ¸¸æ ">Repository æ¹æ³ï¼è¿åæ¡ç® + ä¸ä¸ä¸ªæ¸¸æ </h3>
<pre><code class="language-php">final class OrderRepository
{
    public function __construct(private readonly PDO $pdo) {}
    /**
     * @return array{items: list&lt;array&gt;, next: ?Cursor}
     */
    public function listPage(?Cursor $after, int $limit): array
    {
        $limit = max(1, min($limit, 100));
        if ($after === null) {
            $sql = "SELECT id, created_at, total_cents
                    FROM orders
                    ORDER BY created_at DESC, id DESC
                    LIMIT :limit";
            $stmt = $this-&gt;pdo-&gt;prepare($sql);
            $stmt-&gt;bindValue(':limit', $limit, PDO::PARAM_INT);
        } else {
            $sql = "SELECT id, created_at, total_cents
                    FROM orders
                    WHERE created_at &lt; :created_at
                       OR (created_at = :created_at AND id &lt; :id)
                    ORDER BY created_at DESC, id DESC
                    LIMIT :limit";
            $stmt = $this-&gt;pdo-&gt;prepare($sql);
            $stmt-&gt;bindValue(':created_at', $after-&gt;createdAtIso);
            $stmt-&gt;bindValue(':id', $after-&gt;id, PDO::PARAM_INT);
            $stmt-&gt;bindValue(':limit', $limit, PDO::PARAM_INT);
        }
        $stmt-&gt;execute();
        $rows = $stmt-&gt;fetchAll(PDO::FETCH_ASSOC);
        $items = array_map(fn($r) =&gt; [
            'id' =&gt; (int)$r['id'],
            'created_at' =&gt; (string)$r['created_at'],
            'total_cents' =&gt; (int)$r['total_cents'],
        ], $rows);
        $next = null;
        if ($items !== []) {
            $last = $items[count($items) - 1];
            $next = new Cursor($last['created_at'], $last['id']);
        }
        return ['items' =&gt; $items, 'next' =&gt; $next];
    }
}
</code></pre>
<p>ç°å¨ä½ ç handler å¯ä»¥è§£ç  <code>after</code>ãè·åç»æãç¼ç  <code>next_cursor</code>ââä¸ä¸ªæ¨ªè·¨ HTTP + SQL + JSON ååºçå¹²åç«¯å°ç«¯ç®¡éã</p>
<p>è¿å°±æ¯å®è·µä¸­çæä½³å¹³è¡¡ç¹ï¼PHP ç Web åçç¹æ§ãçæå·¥å·åæ°æ®å¤çè½åå¨è¿éæ±åã</p>
<h2 id="php-ä¸æ¯æä½³é»è®¤éæ©çåºæ¯ä»¥åå¥½å¢éæä¹å">PHP ä¸æ¯æä½³é»è®¤éæ©çåºæ¯ï¼ä»¥åå¥½å¢éæä¹åï¼</h2>
<p>PHP ä¸æ¯ä¸è½çæä½³å·¥å·ï¼</p>
<ul>
<li>CPU å¯éåå·¥ä½è´è½½ï¼è§é¢å¤çãå¤§è§æ¨¡æ°å¼è®¡ç®ï¼</li>
<li>å°æé«å¹¶åç socket æå¡å¨ä½ä¸ºé»è®¤æ¶æ</li>
<li>è¦æ±ååç«¯ç¨åä¸é¨è¯­è¨å±äº«ä¸¥æ ¼ç±»åçç»ç»</li>
</ul>
<p>ä½å¤§å¤æ°æåçå¢éä¸ä¼æè¿å½æéåä¸åççç±ãä»ä»¬åçæ¯ Web ä¸ç´é¼å±çäºï¼ç»åç³»ç»ã</p>
<ul>
<li>å¨ PHP å¼ºçå°æ¹ä¿ç API è¡¨é¢ã</li>
<li>æéè®¡ç®å¸è½½ç» worker æä¸é¨çæå¡ã</li>
<li>ç¨éåå¤çåå°ä»»å¡ã</li>
<li>å¨æªç½ªè¯­è¨ä¹ååä¼åæ°æ®åºæ¥è¯¢åç¼å­ã</li>
</ul>
<p>è¿ä¸æ¯ä»ä¹"PHP ç¨æ·çèªæå®æ°"ï¼è¿å°±æ¯æ­£å¸¸çç³»ç»è®¾è®¡ã</p>
<h2 id="ç»è®º">ç»è®º</h2>
<p>åå°æåçé®é¢ââPHP çä¸å¤§ä¼å¿ï¼</p>
<ul>
<li><strong>Web åçççäº§å</strong>ï¼PHP å¤©ç¶å¥å HTTP å·¥ä½ï¼ä¿ææå»ºå¾ªç¯å¿«éã</li>
<li><strong>çææçåº¦</strong>ï¼Composer + æ¡æ¶ + æ å + å·¥å·é¾ç»ä½ æ æå¹¶éä½é£é©ã</li>
<li><strong>å¡å®çæ°æ®ç®¡é</strong>ï¼PHP æé¿ææ··ä¹±ççå®ä¸çæ°æ®è½¬æ¢æå¹²åãç¨³å®çè¾åºââåæ¶ä¸è®©ä»£ç åå¾ä¸å¯è¯»ã</li>
</ul>
<p>å¦æä½ æ³è®© PHP æè§ç°ä»£ï¼èä¸æ¯åé£äºå»æ¿å°è±¡ï¼ï¼æ¹æ³å§ç»å¦ä¸ï¼</p>
<ul>
<li>ä¿æ handler/æ§å¶å¨è</li>
<li>ç¨ DTO/å¼å¯¹è±¡å»ºæ¨¡è¾¹ç</li>
<li>æè¶æ¶ãéè¯åå¹ç­æ§å½ä½ä¸ç­åè½</li>
<li>æè¯»åæ¹å¼å»ºç´¢å¼ï¼å°¤å¶æ¯åé¡µï¼</li>
<li>ç¨æµè¯ + éæåæä¿æ¤éæ</li>
</ul>
<p>PHP ä¸éè¦è¿½ç­ç¹ãå®åªè¦ç»§ç»­åå®æé¿çäºå°±å¤äºï¼è·é£äºå®ç¨ãå¥½ç»´æ¤ãè½ç¨³å®ä¸çº¿ç Web ç³»ç»ã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-08 08:16">2026-01-08 08:16</span>&nbsp;
<a href="https://www.cnblogs.com/catchadmin">JaguarJack</a>&nbsp;
éè¯»(<span id="post_view_count">211</span>)&nbsp;
è¯è®º(<span id="post_comment_count">3</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19454737);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19454737', targetLink: 'https://www.cnblogs.com/catchadmin/p/19454737', title: '2026 å¹´ PHP çä¸å¤§ä¼å¿ è¿é¨&amp;quot;èå°&amp;quot;ä¸ºä½ä¾ç¶éè¦' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ä¸æå­¦ä¹ åå®è·µ å½ä¸äºèç½å®å¨çåºç³  -  TLS å SSL ]]></title>
    <link>https://www.cnblogs.com/dddy/p/19453911</link>
    <guid>dc25d02207249caa5fe586dad61c3f5b</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/dddy/p/19453911" title="åå¸äº 2026-01-07 21:18">
    <span role="heading" aria-level="2">ä¸æå­¦ä¹ åå®è·µ å½ä¸äºèç½å®å¨çåºç³  -  TLS å SSL</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>[[N_OSI æ¨¡å.TCP åè®®.å°å]]<br>
[[Java TLS Socket]]</p>
<h1 id="what-is-ssltls-">What is SSL/TLS ?</h1>
<p>TLSï¼Transport Layer Securityï¼å³ä¼ è¾å±å®å¨åè®®ï¼SSLï¼Secure Sockets Layerï¼å³å®å¨å¥æ¥å±åè®®ãå®ä»¬é½æ¯ç¨äºå¨ç½ç»éä¿¡ä¸­ä¿éæ°æ®å®å¨åéç§çå å¯åè®®ã</p>
<p>[[TLS&amp;SSLåè®®]]</p>
<h2 id="tlstransport-layer-securityä¼ è¾å±å®å¨åè®®">TLSï¼Transport Layer Securityï¼ä¼ è¾å±å®å¨åè®®</h2>
<ol>
<li><strong>åå±åç¨</strong></li>
</ol>
<ul>
<li>TLS æ¯ SSL åè®®çç»§ä»»èãç±äº SSL åè®®å­å¨ä¸äºå®å¨æ¼æ´ï¼å¹¶ä¸éçç½ç»å®å¨éæ±çä¸æ­æé«ï¼IETFï¼Internet Engineering Task Forceï¼å¯¹ SSL 3.0 è¿è¡äºæ¹è¿ï¼æ¨åºäº TLS 1.0 åè®®ï¼äº 1999 å¹´åå¸ãTLS åè®®å¨åç»­åä¸æ­æ´æ°çæ¬ï¼å¦ TLS 1.1ãTLS 1.2 å TLS 1.3ï¼æ¯ä¸ä¸ªæ°çæ¬é½å¨å®å¨æ§åæ§è½ç­æ¹é¢æææåã</li>
</ul>
<ol start="2">
<li><strong>å·¥ä½åç</strong></li>
</ol>
<ul>
<li>TLS çå·¥ä½åçä¸ SSL ç±»ä¼¼ï¼ä¹åæ¬æ¡æé¶æ®µãå¨ TLS æ¡æè¿ç¨ä¸­ï¼å®¢æ·ç«¯åæå¡å¨ä¼åååè®®çæ¬ãå å¯ç®æ³å¥ä»¶ãäº¤æ¢å¯é¥ç­ãTLS 1.3 ç¸æ¯ä¹åççæ¬ï¼ç®åäºæ¡æè¿ç¨ï¼åå°äºæ¡ææ¶æ¯çå¾è¿æ¬¡æ°ï¼ä»èæé«äºè¿æ¥å»ºç«çéåº¦ï¼å¹¶ä¸å¢å¼ºäºå®å¨æ§ï¼å¦å å¼ºäºå¯é¥äº¤æ¢çå®å¨æ§ã</li>
<li>ä¾å¦ï¼TLS 1.3 ä½¿ç¨äºæ´å®å¨çå¯é¥äº¤æ¢ç®æ³ï¼å¦åºäºæ¤­åæ²çº¿ç Diffie - Hellman å¯é¥äº¤æ¢ï¼ECDHEï¼ï¼è¿ç§ç®æ³è½å¤æææµæä¸­é´äººæ»å»ç­å®å¨å¨èã</li>
</ul>
<ol start="3">
<li><strong>åºç¨åºæ¯</strong></li>
</ol>
<ul>
<li>TLS çåºç¨èå´éå¸¸å¹¿æ³ãå®ä¸ä»ç¨äº Web å®å¨ï¼è¿ç¨äºçµå­é®ä»¶å®å¨ï¼å¦ IMAPãPOP3 å SMTP åè®®çå®å¨çæ¬ï¼ãèæä¸ç¨ç½ç»ï¼VPNï¼ç­ä¼å¤ç½ç»éä¿¡åºæ¯ãå¨ç°ä»£äºèç½ä¸­ï¼å ä¹ææéè¦å®å¨éä¿¡çå°æ¹é½ä¼ä¼åèèä½¿ç¨ TLS åè®®ã</li>
</ul>
<h2 id="ssl-secure-sockets-layerå®å¨å¥æ¥å±åè®®">SSL ï¼Secure Sockets Layerï¼å®å¨å¥æ¥å±åè®®</h2>
<ol>
<li><strong>åå±åç¨</strong></li>
</ol>
<ul>
<li>SSL æåæ¯ç±ç½æ¯å¬å¸ï¼Netscapeï¼å¨ 1994 å¹´å¼åçï¼ç®çæ¯ä¸ºäºä¿éç½ç»éä¿¡çå®å¨ï¼ç¹å«æ¯å¨ Web æµè§å¨åæå¡å¨ä¹é´çéä¿¡å®å¨ãSSL 1.0 ç±äºå­å¨å®å¨æ¼æ´ä»æªåå¸ï¼SSL 2.0 å¨ 1995 å¹´åå¸ï¼ä½ä¹æå®å¨é®é¢ãSSL 3.0 äº 1996 å¹´åå¸ï¼å®ä¿®å¤äºè®¸å¤ SSL 2.0 çé®é¢ï¼æä¸ºå½æ¶æ¯è¾æµè¡çå®å¨åè®®ã</li>
</ul>
<ol start="2">
<li><strong>å·¥ä½åç</strong></li>
</ol>
<ul>
<li>SSL åè®®å¨åºç¨å±åä¼ è¾å±ä¹é´å·¥ä½ãå®éè¿ä½¿ç¨å¬é¥åç§é¥å å¯ææ¯æ¥ä¿è¯éä¿¡çä¿å¯æ§ãå½å®¢æ·ç«¯ï¼å¦æµè§å¨ï¼ä¸æå¡å¨å»ºç«è¿æ¥æ¶ï¼é¦åä¼è¿è¡ SSL æ¡æè¿ç¨ã</li>
<li>å¨æ¡æé¶æ®µï¼å®¢æ·ç«¯åæå¡å¨åéå®¢æ·ç«¯æ¯æçå å¯ç®æ³åè¡¨ç­ä¿¡æ¯ãæå¡å¨ä»åè¡¨ä¸­éæ©ä¸ç§å å¯ç®æ³ï¼å¹¶å°æå¡å¨çè¯ä¹¦åéç»å®¢æ·ç«¯ãå®¢æ·ç«¯éªè¯æå¡å¨è¯ä¹¦çåæ³æ§ï¼ä¾å¦æ£æ¥è¯ä¹¦æ¯å¦ç±å¯ä¿¡ä»»çè¯ä¹¦é¢åæºæï¼CAï¼é¢åï¼è¯ä¹¦æ¯å¦è¿æç­ã</li>
<li>å¦æè¯ä¹¦éªè¯éè¿ï¼å®¢æ·ç«¯åæå¡å¨å°±ä¼åååºä¸ä¸ªå¯¹ç§°å å¯å¯é¥ãä¹åçæ°æ®ä¼ è¾å°±ä½¿ç¨è¿ä¸ªå¯¹ç§°å¯é¥è¿è¡å å¯ï¼è¿æ ·å¯ä»¥ä¿è¯æ°æ®å¨ä¼ è¾è¿ç¨ä¸­çä¿å¯æ§ï¼å ä¸ºåªæå®¢æ·ç«¯åæå¡å¨ç¥éè¿ä¸ªå¯¹ç§°å¯é¥ã</li>
</ul>
<ol start="3">
<li><strong>åºç¨åºæ¯</strong></li>
</ol>
<ul>
<li>SSL ä¸»è¦åºç¨äº Web å®å¨ãä¾å¦ï¼å¨æ©æç httpsï¼Hypertext Transfer Protocol Secureï¼ç½ç«è®¿é®ä¸­ï¼å°±æ¯éè¿ SSL åè®®æ¥å å¯æµè§å¨åæå¡å¨ä¹é´çæ°æ®ä¼ è¾ãè¿ä½¿å¾ç¨æ·å¨ç½ç«ä¸è¾å¥çææä¿¡æ¯ï¼å¦ç»å½å¯ç ãä¿¡ç¨å¡ä¿¡æ¯ç­å¨ä¼ è¾è¿ç¨ä¸­ä¸ä¼è¢«çªåã</li>
</ul>
<h2 id="ä¸¤èå³ç³»ååºå«">ä¸¤èå³ç³»ååºå«</h2>
<ol>
<li><strong>å³ç³»</strong></li>
</ol>
<ul>
<li>TLS å¯ä»¥çä½æ¯ SSL çåçº§çãTLS åè®®å¨è®¾è®¡ä¸åé´äº SSL åè®®çå¾å¤çå¿µï¼å¹¶ä¸å¨ SSL çåºç¡ä¸è¿è¡äºæ¹è¿åæ©å±ï¼ä»¥åºå¯¹ä¸æ­åºç°çæ°çå®å¨å¨èåç½ç»éä¿¡éæ±ã</li>
</ul>
<ol start="2">
<li><strong>åºå«</strong></li>
</ol>
<ul>
<li><strong>å®å¨æ§</strong>ï¼TLS å¨å®å¨æ§è½ä¸æ¯ SSL æ´ä¼è¶ãä¾å¦ï¼SSL 3.0 å­å¨ POODLEï¼Padding Oracle On Downgraded Legacy Encryptionï¼æ»å»æ¼æ´ï¼è TLS åè®®éè¿ä¸æ­æ´æ°çæ¬æ¥ä¿®å¤ç±»ä¼¼çå®å¨æ¼æ´ãTLS 1.3 æ´æ¯å¨å¯é¥äº¤æ¢ç­å³é®ç¯èéç¨äºæ´åè¿çå å¯ææ¯ï¼æä¾äºæ´å¼ºçå®å¨æ§ã</li>
<li><strong>å¼å®¹æ§</strong>ï¼SSL æ¯æ¯è¾æ©æçåè®®ï¼å¨ä¸äºæ§çç³»ç»åè½¯ä»¶ä¸­æåºç¨ãä½éçç½ç»å®å¨æ åçæé«ï¼ç°ä»£çåºç¨åç³»ç»æ´å¾åäºä½¿ç¨ TLS åè®®ãTLS å¨å¼å®¹æ§æ¹é¢ä¹å¨ä¸æ­æ©å±ï¼è½å¤æ´å¥½å°ä¸åç§æ°çç½ç»ææ¯ååºç¨åºæ¯ç¸ç»åã</li>
</ul>
<blockquote>
<p>ç®åå¸¸ç¨çæ¯ TLS 1.2 å TLS 1.3;  SSLä¸å¤è§äº</p>
</blockquote>
<h2 id="https-å·¥ä½æµç¨">HTTPS å·¥ä½æµç¨</h2>
<ol>
<li>Client åèµ·è¯·æ±ï¼ç«¯å£443ï¼</li>
<li>Server è¿åå¬é¥è¯ä¹¦</li>
<li>Client éªè¯è¯ä¹¦</li>
<li>Client çæå¯¹ç§°å¯é¥ï¼ç¨å¬é¥å å¯ååç»Server</li>
<li>Serverä½¿ç¨ç§é¥è§£å¯ï¼å¾å°å¯¹ç§°å¯é¥</li>
<li>C/Såæ¹ä½¿ç¨å¯¹ç§°å¯é¥ï¼
<ul>
<li>å å¯ææå¹¶åé</li>
<li>è§£å¯å¯æå¾å°ææ</li>
</ul>
</li>
</ol>
<h3 id="for-tls-12">For TLS 1.2</h3>
<p><img alt="Pasted image 20241218204449" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3723410/202601/3723410-20260107211137385-1641361058.png" class="lazyload"><br>
<img alt="Pasted image 20241218211322" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3723410/202601/3723410-20260107211150875-2140596749.png" class="lazyload"></p>
<h3 id="for-tls-13">For TLS 1.3</h3>
<p><img alt="Pasted image 20241218204507" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3723410/202601/3723410-20260107211202268-1624490608.png" class="lazyload"></p>
<p><img alt="Pasted image 20241218203919" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3723410/202601/3723410-20260107211212305-90226531.png" class="lazyload"></p>
<h1 id="tls">TLS</h1>
<p><img alt="Pasted image 20231116112623" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3723410/202601/3723410-20260107211222758-985542654.png" class="lazyload"></p>
<h2 id="è¯ä¹¦ç­¾åä¸éªè¯">è¯ä¹¦ç­¾åä¸éªè¯</h2>
<p>é¢åè¯ä¹¦çè¿ç¨</p>
<ol>
<li>æ°å<strong>è¯ä¹¦åæ°æ®</strong>: åæ¬ <code>ç­¾åäºº(Issuer)</code>, å°å, ç­¾åæ¶é´, æææ ç­, è¿åæ¬<code>è¯ä¹¦ææè(Owner)</code>åºæ¬ä¿¡æ¯, æ¯å¦ DN(DNS Name, å³è¯ä¹¦çæçåå), <strong>Owner å¬é¥</strong> ç­ä¿¡æ¯</li>
<li>ä½¿ç¨éç¨ç Hash ç®æ³ï¼å¦SHA-256ï¼å¯¹è¯ä¹¦åæ°æ®è®¡ç®çæ<strong>æ°å­æè¦</strong></li>
<li>ä½¿ç¨ <strong>ç­¾åäºº Issuer (CA)çç§é¥</strong>  å¯¹è¯¥<strong>æ°å­æè¦</strong>è¿è¡å å¯, çæä¸ä¸ª<strong>å å¯çæ°å­æè¦</strong>, ä¹å°±æ¯<strong>Issuerçæ°å­ç­¾å</strong></li>
<li>å°<strong>æ°å­ç­¾å</strong>éå å°æ°å­è¯ä¹¦ä¸, åæä¸ä¸ª<strong>ç­¾è¿åçæ°å­è¯ä¹¦</strong><br>
å°<strong>ç­¾è¿åçæ°å­è¯ä¹¦</strong>ä¸ <strong>Issuer (CA)çå¬é¥</strong>, ä¸ååç»è¯ä¹¦ä½¿ç¨èï¼æ³¨æ, å°å¬é¥ä¸»å¨åç»ä½¿ç¨èæ¯ä¸ä¸ªå½¢è±¡çè¯´æ³, éå¸¸ç³»ç»æèæµè§å¨é½åç½® Issuer (CA)çå¬é¥ ä¸ºå¯ä¿¡ä»»çæ ¹è¯ä¹¦ï¼</li>
</ol>
<blockquote>
<p>æä»¥ CAçç§é¥æ¯ç»å¯¹ä¸è½è¢«æ³é², å®ä½ä¸ºäºèç½è¢«ä¿¡ä»»çåºç¡</p>
</blockquote>
<h2 id="éªè¯è¯ä¹¦çè¿ç¨">éªè¯è¯ä¹¦çè¿ç¨</h2>
<ol>
<li>è¯ä¹¦ä½¿ç¨èè·éè¿æç§éå¾ï¼å¦æµè§å¨è®¿é®ï¼è·åå°è¯¥æ°å­è¯ä¹¦, è§£åååå«è·å¾<strong>è¯ä¹¦åæ°æ®</strong> å<strong>æ°å­ç­¾å</strong>,<strong>(Owner)çå¬é¥</strong>ç­</li>
<li>ä½¿ç¨åæ ·çHashç®æ³è®¡ç®è¯ä¹¦åæ°æ®ç<strong>æ°å­æè¦</strong></li>
<li>ä½¿ç¨ <strong>ç­¾åäºº Issuer (CA)çå¬é¥</strong> å¯¹æ°å­ç­¾åè¿è¡è§£å¯, å¾å° è§£å¯åçæ°å­æè¦</li>
</ol>
<p>ä»ç¬¬1æ­¥è·å¾çæ°å­æè¦å¼,  åå¯¹æ¯ 2 å 3 ä¸¤ä¸ªæ­¥éª¤å¾å°çæ°å­æè¦å¼; å¦æç¸å, åè¯´æè¿ä¸ªæ°å­è¯ä¹¦ç¡®å®æ¯è¢« ç­¾åäººIssuer éªè¯è¿åæ³è¯ä¹¦, è¯ä¹¦ä¸­çä¿¡æ¯</p>
<blockquote>
<p>æä¸»è¦çæ¯ç¡®å® Owner çå¬é¥æ¯å¯ä¿¡ç, æ­¤åéä¿¡ ä¿¡ä»»ä½¿ç¨è¯¥å¬é¥è§£å¯å¯¹æ¹ç§é¥å å¯çæ°æ®</p>
</blockquote>
<p><strong>in short æ¡ææ¶æå¡ç«¯éè¦æä¾èªå·±çå¬é¥ åè¢« caç­¾åè¿çæ°å­æè¦;  å³é®å¨ä¸å®¢æ·ç«¯éè¦ä¸ä¸ªå¯ä¿¡ä»» Issuer(CA)</strong></p>
<h3 id="è¯ä¹¦é¾">è¯ä¹¦é¾</h3>
<p>å¨ chrome è¯ä¹¦ä¿¡æ¯-&gt; è¯ä¹¦è·¯å¾,  å¯ä»¥çå°è¯ä¹¦çç­¾åé¾.</p>
<p>ä¾, ç¾åº¦çç½ç«:</p>
<p><code>GlobalSign Root CA -&gt; GlobalSign Organization Validation CA -&gt; baidu.com</code><br>
<img alt="Pasted image 20231116113047" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3723410/202601/3723410-20260107211330735-221412869.png" class="lazyload"></p>
<p>è¿ä¸ªè·¯å¾å¯ä»¥æ½è±¡ä¸ºä¸ä¸ªçº§å«:</p>
<p><code>end-user</code>: å³ baidu.com, è¯¥è¯ä¹¦åå«ç¾åº¦çå¬é¥, è®¿é®èå°±æ¯ä½¿ç¨è¯¥å¬é¥å°æ°æ®å å¯ååä¼ è¾ç»ç¾åº¦, å³å¨ HTTPS ä¸­ä½¿ç¨çè¯ä¹¦</p>
<p><code>intermediates</code>: å³ä¸ææå°ç ç­¾åäºº Issuer, ç¨æ¥è®¤è¯å¬é¥ææèèº«ä»½çè¯ä¹¦, è´è´£ç¡®è®¤ HTTPS ä½¿ç¨ç end-user è¯ä¹¦ç¡®å®æ¯æ¥æºäºç¾åº¦; è¿ç±» intermediates è¯ä¹¦å¯ä»¥æå¾å¤çº§, ä¹å°±æ¯è¯´ ç­¾åäºº Issuer å¯è½ä¼ææå¾å¤çº§</p>
<p><code>root</code>: å¯ä»¥çè§£ä¸º<strong>æé«çº§å«çç­¾åäºº Issuer, è´è´£è®¤è¯<code> intermediates èº«ä»½ç</code>åæ³æ§</strong></p>
<p><strong>in short å¶å®å°±æ¯ä¸ä¸ªå¯ä¿¡ä»»çé¾æ¡, æç»çç®çå°±æ¯ä¸ºäºä¿è¯ end-user è¯ä¹¦æ¯å¯ä¿¡ç, è¯¥è¯ä¹¦çå¬é¥ä¹å°±æ¯å¯ä¿¡ç.</strong></p>
<blockquote>
<p>åè: <a href="https://www.jianshu.com/p/fcd0572c4765" target="_blank" rel="noopener nofollow">å³äºè¯ä¹¦é¾çä¸ç¹è®¤ç¥</a></p>
</blockquote>
<h2 id="tls-æ¡ææ­¥éª¤">TLS æ¡ææ­¥éª¤</h2>
<p>(0) Client ä¸ <code>Server</code> ä¹é´å»ºç« (TCP ä¸æ¬¡æ¡æ) è¿æ¥</p>
<p>(1) Client å <code>Server</code> åé "client hello" æ¶æ¯, éé¢åå«äºå®å¨ç¸å³çä¿¡æ¯, ä¾å¦<strong>SSL/TLS çæ¬å·</strong>, Client æ¯æçå å¯å¥ä»¶ (CipherSuite); "client hello" æ¶æ¯<strong>è¿åå«äºä¸ä¸ªéæºæ°client random</strong>, ç¨äºéä¿¡å¯é¥çè®¡ç®;<br>
(å¯é)SSL/TLS åè®®è¿åè®¸ "client hello" æ¶æ¯åå« Client ææ¯æçåç¼©ç®æ³</p>
<p>(2) <code>Server</code> åå¤ä¸æ¡ "server hello" æ¶æ¯, éé¢åå«äºå å¯å¥ä»¶<strong>(Server ä» "client hello" æ¶æ¯ç CipherSuites åè¡¨ä¸­éæ©å¶ä¸­ä¸ä¸ª)</strong>,<strong>session id</strong> å å¦ä¸ä¸ªéæºæ°<strong>server random</strong>; Server è¿ä¼å¨æ¶æ¯ä¸­<strong>éå¸¦èªå·±çæ°å­è¯ä¹¦</strong>;</p>
<p>(å¯é)<strong>å¦æ Server éè¦ Client çæ°å­è¯ä¹¦è¿è¡å®¢æ·ç«¯è®¤è¯</strong>, ä¼å Client åé "client certificate request" è¯·æ±æ¶æ¯, éé¢åå«äº<strong>Server ææ¯æçè¯ä¹¦ç±»å</strong>å<strong>è®¤å¯çè¯ä¹¦é¢åæºæ CA</strong> (<strong>ååè®¤è¯</strong>, åè®¤è¯å®¢æ·ç«¯åç)</p>
<p>(3) Client æ¶å° "server hello",<strong>éªè¯ Server ç«¯çæ°å­è¯ä¹¦</strong>, å¹¶å¾å°è¯ä¹¦ä¸­<strong>Server ç«¯çå¬é¥</strong><br>
<strong>(å³é®è¿éå®¢æ·ç«¯æå¯ä¿¡ä»»çè¯ä¹¦ç­¾åè<code>Issuer</code>, éªè¯æå¡ç«¯çè¯ä¹¦)</strong></p>
<p>(4) Client å <code>Server</code> åé<strong>ç¬¬ä¸ä¸ªéæºæ° pre-master secret</strong>; ä¸ä¹åä¸å,<strong>è¿æ¬¡çéæºæ°ä½¿ç¨äº Server çå¬é¥å å¯</strong> (éå¯¹ç§°å å¯); ç°å¨åæ¹åæ¶æ¥æè¿ä¸ä¸ªéæºæ°client random,server random,premaster secret, å¯ä»¥ç¨æ¥è®¡ç®çæå±åçéä¿¡å¯é¥ master secret ç¨äºå å¯åé¢ä¼ è¾çä¸å¡æ°æ®;</p>
<p>(5 - å¯é) å¦ææ¶å° <code>Server</code> ç«¯åæ¥ç "client certificate request" è¯·æ±æ¶æ¯, Client ä¼å Server åéä¸ä¸ªä½¿ç¨ Client èªå·±çç§é¥å å¯è¿çéæºæ° (ææ¶è®°ä½ secret-A), éå¸¦ Client çæ°å­è¯ä¹¦; æèåéä¸ä¸ª "no digital certificate alert" æ è¯ä¹¦è­¦å, è¿ç§æåµä¸åºæ¬å¯ä»¥è®¤ä¸º SSL/TLS æ¡æå¤±è´¥;</p>
<p>(6 - å¯é) <code>Server</code> éªè¯ Client åéè¿æ¥çæ°å­è¯ä¹¦, å¹¶å¾å°è¯ä¹¦ä¸­å¬é¥å¯¹ Client è¿è¡èº«ä»½è®¤è¯ (éè¿å¬é¥è§£å¯ä¸é¢é£ä¸ª secret-A);</p>
<p>(7) Client å <code>Server</code> åé "finished" æ¶æ¯, ä½¿ç¨<strong>ç¬¬ 4 æ­¥ä¸­è®¡ç®åºæ¥çå¯é¥è¿è¡å å¯ä¼ è¾ (å¯¹ç§°å å¯)</strong>, è¿è¡¨ç¤º Client ç«¯æ¡æé¶æ®µå·²ç»å®æ;</p>
<p>(8) <code>Server</code> ä¹å Client åé "finished" æ¶æ¯, ä½¿ç¨<strong>ç¬¬ 4 æ­¥ä¸­è®¡ç®åºæ¥çå¯é¥è¿è¡å å¯ä¼ è¾ (å¯¹ç§°å å¯)</strong>, è¿è¡¨ç¤º Server ç«¯æ¡æé¶æ®µå®æ;</p>
<p>(9) SSL/TLS æ¡æé¶æ®µå®æ, æ¥ä¸æ¥åæ¹éä¿¡çæ¶æ¯é½ä¼ä½¿ç¨åååºæ¥çå¯é¥è¿è¡å å¯ (å¯¹ç§°å å¯)<br>
Content Type: Handshake (22)</p>
<p><img alt="SLLhandshanke" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3723410/202601/3723410-20260107212013715-1033526114.png" class="lazyload"></p>
<p><a href="https://www.cnblogs.com/piyeyong/archive/2010/07/02/1770208.html" target="_blank">è¯ä¹¦çåºç¨ä¹ä¸ ââ TCP&amp;SSLéä¿¡å®ä¾ååè®®åæ(ä¸­)</a></p>
<p>æ¯ä¸æ¡æ¶æ¯é½ä¼åå«æContentType,Version,HandshakeTypeç­ä¿¡æ¯;</p>
<p>ContentType æç¤ºSSLéä¿¡å¤äºåªä¸ªé¶æ®µ, æ¯æ¡æ(Handshake), å¼å§å å¯ä¼ è¾(ChangeCipherSpec)è¿æ¯æ­£å¸¸éä¿¡(Application)ç­, è§ä¸è¡¨</p>
<p>Hex	Dec	Type<br>
0x14	20	ChangeCipherSpec<br>
0x15	21	Alert<br>
0x16	22	Handshake<br>
0x17	23	Application</p>
<p>Handshake Typeæ¯å¨handshankeé¶æ®µä¸­çå·ä½åªä¸æ­¥, è§ä¸è¡¨	<br>
Code	Description<br>
0	HelloRequest<br>
1	ClientHello<br>
2	ServerHello<br>
11	Certificate<br>
12	ServerKeyExchange<br>
13	CertificateRequest<br>
14	ServerHelloDone<br>
15	CertificateVerify<br>
16	ClientKeyExchange<br>
20	Finished</p>
<h3 id="å³äºååè®¤è¯">å³äºååè®¤è¯</h3>
<p>ææéä¿¡ä¸­ï¼æ¶åä¸¤ä¸ªç«¯ç¹ï¼å³æµè§å¨åå®æè¿æ¥çç½ç«ï¼å³å®¢æ·ç«¯åæå¡å¨ï¼ã å¨ååSSLèº«ä»½è®¤è¯è¿ç¨ä¸­ï¼ä»éªè¯ä¸ä¸ªç«¯ç¹ï¼æå¡å¨ï¼çèº«ä»½ã<br>
ååè®¤è¯æ¯æå¨SSLæ¡æè¿ç¨ä¸­å°åæ¶éªè¯å®¢æ·ç«¯åæå¡å¨çèº«ä»½ï¼æä»¥ååè®¤è¯SSLè¯ä¹¦è³å°åæ¬ä¸¤ä¸ªæä¸¤ä¸ªä»¥ä¸çè¯ä¹¦ï¼ä¸ä¸ªæ¯æå¡å¨è¯ä¹¦ï¼å¦ä¸ä¸ªæå¤ä¸ªæ¯å®¢æ·ç«¯è¯ä¹¦ï¼å³ä¸ªäººè®¤è¯è¯ä¹¦ï¼ã</p>
<h1 id="ä¸»æµçè¯ä¹¦æ ¼å¼">ä¸»æµçè¯ä¹¦æ ¼å¼</h1>
<p><strong>ä¸»æµçSSLè¯ä¹¦æ ¼å¼:</strong><br>
DERãCERï¼æä»¶æ¯äºè¿å¶æ ¼å¼ï¼åªä¿å­è¯ä¹¦ï¼ä¸ä¿å­ç§é¥ã</p>
<p>PEMï¼ä¸è¬æ¯ææ¬æ ¼å¼ï¼å¯ä¿å­è¯ä¹¦ï¼å¯ä¿å­ç§é¥ã<br>
Privacy Enhanced Mailï¼ä¸è¬ä¸ºææ¬æ ¼å¼ï¼ä»¥ -----BEGIN... å¼å¤´ï¼ä»¥ -----END... ç»å°¾ãä¸­é´çåå®¹æ¯ BASE64 ç¼ç ãè¿ç§æ ¼å¼å¯ä»¥ä¿å­è¯ä¹¦åç§é¥ï¼ææ¶æä»¬ä¹æPEM æ ¼å¼çç§é¥çåç¼æ¹ä¸º .key ä»¥åºå«è¯ä¹¦ä¸ç§é¥</p>
<p>CRTï¼å¯ä»¥æ¯äºè¿å¶æ ¼å¼ï¼å¯ä»¥æ¯ææ¬æ ¼å¼ï¼ä¸ DER æ ¼å¼ç¸åï¼ä¸ä¿å­ç§é¥ã<br>
PFX P12ï¼äºè¿å¶æ ¼å¼ï¼åæ¶åå«è¯ä¹¦åç§é¥ï¼ä¸è¬æå¯ç ä¿æ¤ã<br>
JKSï¼äºè¿å¶æ ¼å¼ï¼åæ¶åå«è¯ä¹¦åç§é¥ï¼ä¸è¬æå¯ç ä¿æ¤ã</p>
<p><strong>åæå¡å¨å¹³å°ä½¿ç¨çè¯ä¹¦æ ¼å¼:</strong><br>
Nginxï¼pem<br>
Apacheï¼pem<br>
IISï¼pfx/pkcs12<br>
Tomcatï¼jks</p>
<h1 id="netty-for-tls-å®ä¾">Netty For TLS å®ä¾</h1>
<h2 id="è¯ä¹¦çæ">è¯ä¹¦çæ</h2>
<h3 id="ca-æ ¹è¯ä¹¦çæ">CA æ ¹è¯ä¹¦çæ</h3>
<p>æèç§°ä¸º Issuer , å®å¯ä»¥ç­¾åè¯ä¹¦, ä½ä¸ºå®¢æ·ç«¯åæå¡ç«¯å±åä¿¡ä»»è</p>
<ol>
<li><strong>åå»ºä¸ä¸ªç§é¥</strong><br>
çæä¸ä¸ªå®å¨çç§é¥ãè¿ä¸ªç§é¥å°ç¨äºç­¾ç½²æ ¹è¯ä¹¦ä»¥åå°æ¥ç±è¯¥æ ¹CAç­¾åçææå¶ä»è¯ä¹¦ãä¸ºäºç¡®ä¿å®å¨æ§ï¼ä½¿ç¨è¶³å¤é¿çå¯é¥é¿åº¦ã</li>
</ol>
<pre><code class="language-sh">openssl genpkey -algorithm RSA -out root_ca.key -aes256 -pkeyopt rsa_keygen_bits:4096
# ä¸å å¯
# openssl genpkey -algorithm RSA -out root_ca.key -pkeyopt rsa_keygen_bits:2048
</code></pre>
<blockquote>
<p>è¾å¥ç§é¥å¯ç </p>
</blockquote>
<ol start="2">
<li><strong>åå»ºèªç­¾åçæ ¹è¯ä¹¦</strong><br>
ä½¿ç¨ååçæçç§é¥æ¥åå»ºä¸ä¸ªèªç­¾åçæ ¹è¯ä¹¦ãè¿ä¸æ­¥éª¤ä¸ä»ä¼çæè¯ä¹¦æ¬èº«ï¼è¿ä¼æ¶éæå³é¢åèçè¯¦ç»ä¿¡æ¯ï¼è¿äºä¿¡æ¯å°åµå¥å°è¯ä¹¦ä¸­ã</li>
</ol>
<pre><code class="language-sh">openssl req -x509 -new -nodes -key root_ca.key -sha256 -days 36500 -out root_ca.crt
</code></pre>
<ul>
<li><code>req</code>&nbsp;æ¯ç¨æ¥å¤çè¯ä¹¦è¯·æ±çå½ä»¤ã</li>
<li><code>-x509</code>&nbsp;è¡¨ç¤ºè¦åå»ºä¸ä¸ªX.509æ ¼å¼çèªç­¾åè¯ä¹¦ã</li>
<li><code>-new</code>&nbsp;è¡¨ç¤ºè¿æ¯ä¸ä¸ªæ°çè¯ä¹¦è¯·æ±ã</li>
<li><code>-nodes</code>&nbsp;è¡¨ç¤ºä¸å å¯ç§é¥ï¼ä»éç¨äºè¿æ¬¡å½ä»¤ï¼å ä¸ºç§é¥å·²ç»å å¯ï¼ã</li>
<li><code>-key root_ca.key</code>&nbsp;æå®äºç¨äºç­¾åçç§é¥ã</li>
<li><code>-sha256</code>&nbsp;æå®äºåå¸ç®æ³ã</li>
<li><code>-days 3650</code>&nbsp;æå®äºè¯ä¹¦çæææä¸º10å¹´ã</li>
<li><code>-out root_ca.crt</code>&nbsp;æå®äºè¾åºæä»¶åä¸º&nbsp;<code>root_ca.crt</code>ã</li>
</ul>
<p>å¨è¿è¡è¯¥å½ä»¤æ¶ï¼ä½ ä¼è¢«è¦æ±å¡«åä¸ç³»åé®é¢ï¼è¿äºé®é¢çç­æ¡å°ä½ä¸ºè¯ä¹¦çä¸»é¢å­æ®µï¼Subjectï¼çä¸é¨åãä¾å¦ï¼</p>
<ul>
<li><strong>Country Name (2 letter code)</strong>: è¾å¥å½å®¶ä»£ç ï¼å¦&nbsp;<code>CN</code>ã</li>
<li><strong>State or Province Name (full name)</strong>: è¾å¥çä»½æå·çå¨åã</li>
<li><strong>Locality Name (eg, city)</strong>: è¾å¥åå¸åã</li>
<li><strong>Organization Name (eg, company)</strong>: è¾å¥ç»ç»åç§°ã</li>
<li><strong>Organizational Unit Name (eg, section)</strong>: è¾å¥é¨é¨åç§°ã</li>
<li><strong>Common Name (e.g. server FQDN or YOUR name)</strong>: (æ³¨æè¿ä¸ª) è¾å¥éç¨åç§°ï¼éå¸¸æ¯ç»ç»çååææè¿°æ§åç§°ï¼å¯¹äºæ ¹è¯ä¹¦èè¨ï¼å¯ä»¥æ¯ç±»ä¼¼äº&nbsp;<code>Root CA</code>&nbsp;çå­ç¬¦ä¸²ã</li>
<li><strong>Email Address</strong>: å¯éï¼å¯ä»¥çç©ºã</li>
</ul>
<ol start="3">
<li>éªè¯å¶åå®¹</li>
</ol>
<pre><code class="language-sh">openssl x509 -in root_ca.crt -text -noout
</code></pre>
<ol start="4">
<li>å®¢æ·ç«¯ä¿¡ä»»</li>
</ol>
<p>è³æ­¤</p>
<ul>
<li><code>root_ca.crt</code> æ¯CA èªç­¾åçå¸¦å¬é¥çè¯ä¹¦</li>
<li><code>root_ca.key</code> æ¯CAçç§é¥(ç»å¯¹ä¸è½æ³é²)</li>
</ul>
<p>ä¸ºäºè®©å®¢æ·ç«¯ä¿¡ä»»è¿ä¸ªæ°åå»ºçæ ¹è¯ä¹¦ï¼éè¦å°CAå¬é¥å®è£å°ç®æ ç³»ç»çåä¿¡ä»»æ ¹è¯ä¹¦å­å¨ä¸­ã<br>
ä¾å¦ï¼å¨Windowsä¸ï¼ä½ å¯ä»¥åå» <code>root_ca.crt</code> æä»¶ï¼ç¶åæç§æç¤ºéæ©âå®è£è¯ä¹¦âï¼å¹¶å°å®è£ä½ç½®è®¾ç½®ä¸ºâåä¿¡ä»»çæ ¹è¯ä¹¦é¢åæºæ</p>
<h3 id="ca-ç­¾ç½²é¢åæå¡ç«¯è¯ä¹¦">CA ç­¾ç½²/é¢åæå¡ç«¯è¯ä¹¦</h3>
<ol>
<li>çæç®æ å®ä½çç§é¥</li>
</ol>
<pre><code class="language-sh">openssl genpkey -algorithm RSA -out server.key -aes256 -pkeyopt rsa_keygen_bits:2048
</code></pre>
<ol start="2">
<li>çæç®æ å®ä½çç­¾åè¯·æ± (CSR)<br>
ä½¿ç¨ååçæçç§é¥æ¥åå»ºä¸ä¸ªè¯ä¹¦ç­¾åè¯·æ±ï¼CSRï¼ãCSRåå«äºç³è¯·èçå¬é¥ä»¥åä¸äºè¯å«ä¿¡æ¯ï¼å¦ç»ç»åç§°ãååç­ã</li>
</ol>
<pre><code class="language-sh">openssl req -new -key server.key -out server.csr

# openssl req -newkey rsa:2048 -nodes -keyout server.key -out server.csr -subj "/C=CN/ST=State/L=City/O=Organization/CN=your.server.domain"
</code></pre>
<ol start="3">
<li>ä½¿ç¨CAæ ¹è¯ä¹¦ç<strong>ç§é¥</strong> ç­¾ç½²CSR</li>
</ol>
<pre><code class="language-sh">openssl x509 -req -in server.csr -CA root_ca.crt -CAkey root_ca.key -CAcreateserial -out server.crt -days 7300 -sha256
# openssl x509 -req -in server.csr -CA rootCA.crt -CAkey rootCA.key -CAcreateserial -out server.crt -days 500 -sha256
</code></pre>
<h3 id="åæä»¶è¯´æ">åæä»¶è¯´æ</h3>
<p>è³æ­¤æ6ä¸ªæä»¶åå«æ¯:<br>
1.&nbsp;<strong>root_ca.crt (æ ¹CAè¯ä¹¦å¬é¥) - èªç­¾å å¬å¼ åæ¹ä¿¡ä»»</strong></p>
<ul>
<li><strong>æè¿°</strong>ï¼è¿æ¯ç±CAèªèº«åå»ºå¹¶ç­¾ç½²çèªç­¾åè¯ä¹¦ï¼ä½ä¸ºä¿¡ä»»é¾çèµ·ç¹ãæ ¹è¯ä¹¦éå¸¸åå«CAçå¬é¥ãåç§°åå¶ä»åæ°æ®ï¼å¹¶ä¸æ¯ç±CAç§é¥ç­¾åç</li>
<li><strong>ç¨é</strong>ï¼æ ¹è¯ä¹¦ç¨äºéªè¯ç±è¯¥CAç­¾åçææä¸çº§è¯ä¹¦ççå®æ§ãå®éå¸¸è¢«é¢è£å¨æä½ç³»ç»ãæµè§å¨æå¶ä»åºç¨ç¨åºçä¿¡ä»»åºä¸­ï¼ä½ä¸ºåä¿¡ä»»çæ ¹è¯ä¹¦æºæ</li>
</ul>
<p>2.&nbsp;<strong>root_ca.key (æ ¹CAè¯ä¹¦ç§é¥)</strong></p>
<ul>
<li><strong>æè¿°</strong>ï¼è¿æ¯ä¸æ ¹CAè¯ä¹¦éå¯¹çç§é¥ï¼ç¨äºç­¾ç½²å¶ä»è¯ä¹¦ãç§é¥æ¯é«åº¦ææçä¿¡æ¯ï¼ä¸åºå¬å¼æå±äº«ã</li>
<li><strong>ç¨é</strong>ï¼æ ¹CAç§é¥ç¨äºç­¾ç½²ä¸­é´CAè¯ä¹¦ãæå¡å¨è¯ä¹¦ãå®¢æ·ç«¯è¯ä¹¦ç­ãå®æ¯å»ºç«ä¿¡ä»»é¾çåºç¡ã</li>
<li><strong>å®å¨æ§</strong>ï¼ç§é¥åºå­å¨å¨å®å¨çå°æ¹ï¼æå¥½æ¯å¨ç¦»çº¿ç¯å¢ä¸­ï¼åªæå¨éè¦ç­¾ç½²æ°è¯ä¹¦æ¶æè¿æ¥å°ç½ç»ã å®ä¸æ¦è¢«æ»ç ´ï¼ææä¾èµå®çè¯ä¹¦é½å°å¤±å»ä¿¡ä»»ã</li>
</ul>
<p>3.&nbsp;<strong>root_ca.srl (åºåå·æä»¶)</strong></p>
<ul>
<li><strong>æè¿°</strong>ï¼è¿æ¯ä¸ä¸ªåå«åå­è¿å¶æ­£æ´æ°çæä»¶ï¼ç¨äºè®°å½å·²ç­¾åè¯ä¹¦çåºåå·ãæ¯æ¬¡ç­¾ç½²æ°è¯ä¹¦æ¶ï¼OpenSSLä¼ä»è¿ä¸ªæä»¶ä¸­è¯»åå½åçæå¤§åºåå·ï¼å¹¶ä¸ºæ°è¯ä¹¦åéä¸ä¸ªéå¢çåºåå·ã</li>
</ul>
<p>4.&nbsp;<strong>server.crt (æå¡å¨å¬é¥)</strong></p>
<ul>
<li><strong>æè¿°</strong>ï¼è¿æ¯ç±CAç­¾ç½²çæå¡å¨è¯ä¹¦ï¼åå«æå¡å¨çå¬é¥ä»¥åå³äºè¯ä¹¦çä¸äºä¿¡æ¯ï¼å¦çæ¬ãåºåå·ãç­¾åç®æ³ãé¢åèãææèãæææç­ãæå¡å¨è¯ä¹¦ç¨äºå å¯å®¢æ·ç«¯ä¸æå¡å¨ä¹é´çéä¿¡ï¼ç¡®ä¿æ°æ®ä¼ è¾çå®å¨æ§ã</li>
<li><strong>ç¨é</strong>ï¼æå¡å¨è¯ä¹¦å®è£å¨Webæå¡å¨ä¸ï¼ç¨äºHTTPSåè®®ä¸çå®å¨éä¿¡ãå®¢æ·ç«¯éè¿éªè¯æå¡å¨è¯ä¹¦çæææ§æ¥ç¡®è®¤æå¡å¨çèº«ä»½ï¼å¹¶ä½¿ç¨è¯ä¹¦ä¸­çå¬é¥è¿è¡å å¯éä¿¡ã</li>
<li><strong>æ ¼å¼</strong>ï¼å¸¸è§çæ ¼å¼åæ¬PEMï¼ä»¥&nbsp;<code>-----BEGIN CERTIFICATE-----</code>&nbsp;å¼å¤´ï¼<code>-----END CERTIFICATE-----</code>&nbsp;ç»å°¾ï¼åDERï¼äºè¿å¶æ ¼å¼ï¼ãLinuxç³»ç»éå¸¸ä½¿ç¨&nbsp;<code>.crt</code>&nbsp;æä»¶æ©å±åï¼èWindowsç³»ç»å¯è½ä½¿ç¨&nbsp;<code>.cer</code></li>
</ul>
<p>5.&nbsp;<strong>server.csr (è¯ä¹¦ç­¾åè¯·æ±)</strong></p>
<ul>
<li><strong>æè¿°</strong>ï¼è¿æ¯è¯ä¹¦ç³è¯·èå¨ç³è¯·æ°å­è¯ä¹¦æ¶çæçæä»¶ï¼åå«äºå¬é¥åæ è¯åç§°ï¼Distinguished Name, DNï¼ï¼å¦å½å®¶ãçä»½ãåå¸ãç»ç»åç§°ãéç¨åç§°ï¼éå¸¸æ¯ååï¼ç­ãCSRæ¯ä»¥&nbsp;<code>-----BEGIN CERTIFICATE REQUEST-----</code>&nbsp;å¼å¤´ï¼<code>-----END CERTIFICATE REQUEST-----</code>&nbsp;ç»å°¾çBase64ç¼ç æ ¼å¼ã</li>
<li><strong>ç¨é</strong>ï¼CSRæä»¶æäº¤ç»CAåï¼CAä¼ä½¿ç¨å¶æ ¹è¯ä¹¦ç§é¥å¯¹CSRä¸­çä¿¡æ¯è¿è¡ç­¾åï¼çææ­£å¼çæ°å­è¯ä¹¦ãCSRæä»¶æ¬èº«ä¸æ¯è¯ä¹¦ï¼èæ¯ç³è¯·è¯ä¹¦çè¯·æ±ã</li>
<li><strong>çæ</strong>ï¼CSRæä»¶éå¸¸ç±æå¡å¨ç®¡çåä½¿ç¨OpenSSLç­å·¥å·çæï¼åæ¶çæç¸åºçç§é¥ãçæCSRæ¶ï¼å¿é¡»ç¡®ä¿ç§é¥çå®å¨æ§ï¼å ä¸ºCSRæä»¶ä¸­ä¸åå«ç§é¥</li>
</ul>
<p>6.&nbsp;<strong>server.key (æå¡å¨ç§é¥)</strong></p>
<ul>
<li><strong>æè¿°</strong>ï¼è¿æ¯ä¸æå¡å¨è¯ä¹¦éå¯¹çç§é¥ï¼ç¨äºè§£å¯å®¢æ·ç«¯åéçå å¯ä¿¡æ¯ãç§é¥æ¯é«åº¦ææçä¿¡æ¯ï¼ä¸åºå¬å¼æå±äº«ã</li>
<li><strong>ç¨é</strong>ï¼æå¡å¨ç§é¥ç¨äºè§£å¯éè¿TLS/SSLåè®®ä¼ è¾çæ°æ®ãå¨HTTPSéä¿¡ä¸­ï¼å®¢æ·ç«¯ä½¿ç¨æå¡å¨è¯ä¹¦ä¸­çå¬é¥å å¯æ°æ®ï¼æå¡å¨åä½¿ç¨ç§é¥è§£å¯è¿äºæ°æ®ã</li>
<li><strong>æ ¼å¼</strong>ï¼å¸¸è§çæ ¼å¼åæ¬PEMï¼ä»¥&nbsp;<code>-----BEGIN RSA PRIVATE KEY-----</code>&nbsp;æ&nbsp;<code>-----BEGIN PRIVATE KEY-----</code>&nbsp;å¼å¤´ï¼<code>-----END RSA PRIVATE KEY-----</code>&nbsp;æ&nbsp;<code>-----END PRIVATE KEY-----</code>&nbsp;ç»å°¾ï¼åDERï¼äºè¿å¶æ ¼å¼ï¼ãLinuxç³»ç»éå¸¸ä½¿ç¨&nbsp;<code>.key</code>&nbsp;æä»¶æ©å±å</li>
</ul>
<h4 id="æ¯ä¸ªè§è²éªè¯éè¦">æ¯ä¸ªè§è²éªè¯éè¦</h4>
<ol>
<li>**å®¢æ·ç«¯éè¦</li>
</ol>
<ul>
<li><strong><code>root_ca.crt</code></strong>ï¼æ ¹ CA çå¬é¥è¯ä¹¦ãå®¢æ·ç«¯å°ä½¿ç¨æ­¤è¯ä¹¦æ¥éªè¯æå¡å¨çè¯ä¹¦æ¯å¦ç±å¯ä¿¡ç CA ç­¾åã</li>
</ul>
<ol>
<li>**æå¡ç«¯ç«¯éè¦</li>
</ol>
<ul>
<li><strong><code>server.key</code></strong>ï¼æå¡å¨çç§é¥ãæå¡å¨å°ä½¿ç¨æ­¤ç§é¥æ¥è§£å¯å®¢æ·ç«¯åéçå å¯æ°æ®ï¼å¹¶ç­¾ç½²ååºã</li>
<li><strong><code>server.crt</code></strong>ï¼æå¡å¨çå¬é¥è¯ä¹¦ï¼ç±æ ¹ CA ç­¾åãæå¡å¨å°ä½¿ç¨æ­¤è¯ä¹¦åå®¢æ·ç«¯è¯æå¶èº«ä»½ã</li>
<li><strong><code>root_ca.crt</code></strong>ï¼å¯é, ååéªè¯å¿éï¼ï¼å¦æä½ çæå¡å¨è¯ä¹¦æ¯ç±ä¸­é´ CA ç­¾åçï¼ä½ å¯ä»¥å°æ ¹ CA è¯ä¹¦æä¸­é´ CA è¯ä¹¦é¾ä¸èµ·å è½½å°æå¡å¨çä¿¡ä»»åºä¸­ï¼ä»¥ä¾¿å®¢æ·ç«¯å¯ä»¥éªè¯æ´ä¸ªè¯ä¹¦é¾ã</li>
</ul>
<h2 id="å¨netty-ä½¿ç¨">å¨Netty ä½¿ç¨</h2>
<h3 id="è¯ä¹¦çå è½½">è¯ä¹¦çå è½½</h3>
<ol>
<li>
<p>å¬é¥å è½½  <code>.pem, .crt, .cer</code>  : éå¸¸ä»¥&nbsp;<code>-----BEGIN CERTIFICATE-----</code>&nbsp;å¼å¤´ï¼ä»¥&nbsp;<code>-----END CERTIFICATE-----</code>&nbsp;ç»å°¾ãå®æ¢å¯ä»¥åå«å¬é¥è¯ä¹¦ï¼ä¹å¯ä»¥åå«ç§é¥ã<strong>Javaæ¬èº«æ¯æ pem</strong></p>
</li>
<li>
<p>ç§é¥å è½½ <code>.key</code>:  openssl é»è®¤ç»ç§é¥å å¯äº , å°å¶è½¬ä¸ºä¸å å¯ç, å¯ä½¿ç¨ bouncycastleå è½½ä¹</p>
</li>
</ol>
<pre><code># **è½¬æ¢ä¸º PKCS#8 æ ¼å¼ (PEM ç¼ç )**
openssl pkcs8 -topk8 -inform PEM -in server.key -outform PEM -nocrypt -out server_pkcs8.key

# **è½¬æ¢ä¸º PKCS#8 æ ¼å¼ (DER ç¼ç )** äºè¿å¶æ ¼å¼
openssl pkcs8 -topk8 -inform PEM -in server.key -outform DER -nocrypt -out server_pkcs8.der
</code></pre>
<ul>
<li>ä½¿ç¨ bouncycastle å è½½ pkcs8 ç§é¥</li>
</ul>
<pre><code>implementation("cn.hutool:hutool-all:5.8.16")
implementation("org.bouncycastle:bcprov-jdk15on:1.70")
implementation("org.bouncycastle:bcpkix-jdk15on:1.70")
</code></pre>
<pre><code class="language-java">

public static void main(String[] args) throws Exception {

	final String ca_cet = "E:\\content-for-work\\2024-12XXXXAPP\\tls_test\\root_ca.crt";
	final String server_crt = "E:\\content-for-work\\2024-12XXXXAPP\\tls_test\\server.crt";

	final String server_key = "E:\\content-for-work\\2024-12XXXXAPP\\tls_test\\server.key";
	final String server_pkcs8_key = "E:\\content-for-work\\2024-12XXXXAPP\\tls_test\\server_pkcs8.key";
	
	PublicKey root_caKey = PemUtil.readPemPublicKey(FileUtil.getInputStream(ca_cet));
	System.out.println("root_caKey  ==&gt; "+root_caKey );
	Certificate certificate = SecureUtil.readX509Certificate(FileUtil.getInputStream(server_crt));
	System.out.println("X509C  ==&gt; "+root_caKey );
	
	PublicKey server_crtKey = PemUtil.readPemPublicKey(FileUtil.getInputStream(server_crt));
	System.out.println("server_crtKey  ==&gt; "+server_crtKey );

	PrivateKey privateKey = PemUtil.readPemPrivateKey(FileUtil.getInputStream(server_pkcs8_key));
	System.out.println("server_pkcs8  ==&gt; "+privateKey );
}
</code></pre>
<ul>
<li>ä½¿ç¨ bouncycastle å¦ä½ å è½½é»è®¤ openssl å å¯ç <code>server.key</code> ?</li>
</ul>
<pre><code class="language-java">public static PrivateKey loadEncryptedPrivateKeyFromPem(String pemFile, char[] password) throws Exception {
	try (Reader reader = new FileReader(pemFile);
		 PEMParser pemParser = new PEMParser(reader)) {

		Object object = pemParser.readObject();
		JcaPEMKeyConverter converter = new JcaPEMKeyConverter().setProvider("BC");

		if (object instanceof PEMEncryptedKeyPair) {
			PEMEncryptedKeyPair encryptedKeyPair = (PEMEncryptedKeyPair) object;
			InputDecryptorProvider decryptorProvider = new JceOpenSSLPKCS8DecryptorProviderBuilder().build(password);
			KeyPair kp = converter.getKeyPair(encryptedKeyPair.decryptKeyPair(decryptorProvider));
			return kp.getPrivate();
		} else {
			throw new IllegalArgumentException("Unsupported encrypted key type: " + object.getClass().getName());
		}
	}
}


</code></pre>
<h3 id="ååéªè¯çtls">ååéªè¯çTLS</h3>
<p>å®¢æ·ç«¯ååäºéªè¯æå¡ç«¯</p>
<h4 id="æå¡ç«¯">æå¡ç«¯</h4>
<pre><code class="language-java">public static void main(String[] args) throws Exception {

	NioEventLoopGroup boosGroup = new NioEventLoopGroup();
	final ServerBootstrap serverBootstrap = new ServerBootstrap();
	int port = 19977;
	// 1. å è½½ PEM ç§é¥,  2.  å è½½ è¯ä¹¦
	final String server_crt = "E:\\content-for-work\\2024-12XXXXAPP\\tls_test\\server.crt";
	final String server_pkcs8_key = "E:\\content-for-work\\2024-12XXXXAPP\\tls_test\\server_pkcs8.key";

	Certificate certificate = SecureUtil.readX509Certificate(FileUtil.getInputStream(server_crt));
	PrivateKey privateKey = PemUtil.readPemPrivateKey(FileUtil.getInputStream(server_pkcs8_key));
	// 3. åå»º KeyStore å¹¶å°ç§é¥åè¯ä¹¦æ·»å å°å¶ä¸­
	KeyStore keyStore = KeyStore.getInstance("PKCS12");
	keyStore.load(null, null);
	keyStore.setKeyEntry("alias", privateKey, "password".toCharArray(), new Certificate[]{certificate});

	// 4. åå»º KeyManagerFactory å¹¶åå§å
	KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());
	kmf.init(keyStore, "password".toCharArray());

	// 5. æå»º SslContext
	final SslContext sslContext = SslContextBuilder.forServer(kmf)
			.build();

	serverBootstrap
			.group(boosGroup)
			.channel(NioServerSocketChannel.class)
			.option(ChannelOption.SO_BACKLOG, 1024)
			.childOption(ChannelOption.SO_KEEPALIVE, true)
			.childOption(ChannelOption.TCP_NODELAY, true)
			.childHandler(new ChannelInitializer&lt;NioSocketChannel&gt;() {
				@Override
				protected void initChannel(NioSocketChannel ch) {
					// æ·»å  SSL/TLS å¤çå¨
					ch.pipeline().addLast(sslContext.newHandler(ch.alloc()));
					ch.pipeline().addLast(new StringDecoder())
							.addLast(new StringEncoder())
							.addLast(new ServerHandler());
				}
			});
	ChannelFuture f = serverBootstrap.bind(port).addListener(future -&gt; {
		if (future.isSuccess()) {
			System.out.println(new Date() + ": ç«¯å£[" + port + "]ç»å®æå!");
		} else {
			System.err.println("ç«¯å£[" + port + "]ç»å®å¤±è´¥!");
		}
	});
	//ä¸é¢ä¼è¿è¡é»å¡, ç­å¾æå¡å¨è¿æ¥å³é­ä¹å main æ¹æ³éåº, ç¨åºç»æ;
	f.channel().closeFuture().sync();
}
</code></pre>
<h4 id="å®¢æ·ç«¯">å®¢æ·ç«¯</h4>
<pre><code class="language-java"> public static void main(String[] args) throws Exception {
 
	Bootstrap bootstrap = new Bootstrap();
	NioEventLoopGroup group = new NioEventLoopGroup();

	String host = "192.168.20.130";
	int port = 19977;

	// 1. å è½½ CA è¯ä¹¦
	final String ca_cet = "E:\\content-for-work\\2024-12XXXXAPP\\tls_test\\root_ca.crt";
	Certificate certificate = SecureUtil.readX509Certificate(FileUtil.getInputStream(ca_cet));

	// 2. åå»º KeyStore å¹¶å° CA è¯ä¹¦æ·»å å°ä¿¡ä»»åºä¸­
	KeyStore trustStore = KeyStore.getInstance("JKS");
	trustStore.load(null, null);
	trustStore.setCertificateEntry("ca", certificate);

	// 3. åå»º TrustManagerFactory å¹¶åå§å
	TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());
	tmf.init(trustStore);

	// 4. æå»º SslContext
	SslContext build = SslContextBuilder.forClient()
			.trustManager(tmf)
			.build();

	bootstrap.group(group)
			.channel(NioSocketChannel.class)
			.option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 30000)
			.option(ChannelOption.SO_KEEPALIVE, true)
			.handler( new SimpleChannelInboundHandler&lt;String&gt;() {
				@Override
				protected void channelRead0(ChannelHandlerContext ctx, String msg) throws Exception {
					System.out.println("å®¢æ·ç«¯æ¥æ¶: "+msg);
				}
			})
			.connect(host, port).addListener(new ChannelFutureListener() {
				@Override
				public void operationComplete(ChannelFuture future) throws Exception {
					future.channel().pipeline()
							.addFirst(new StringEncoder())
							.addFirst(new StringDecoder())
							.addFirst( build.newHandler(future.channel().alloc() ));
					final String helloToServer = "ç çä¹°æ­ç¬ï¼ç³ç³ å»è´¤æãæ¹ç¥é»é¹ä¸¾ï¼åéç¬å¾å¾ã"+System.currentTimeMillis();
					future.channel().writeAndFlush(helloToServer);
				}
			});
//        group.shutdownGracefully();
    }

</code></pre>
<p>Android ä¸ä½¿ç¨ java.security.KeyStore æ¶ï¼å¯è½ä¼éå° KeyStoreException: JKS not found çéè¯¯ãè¿æ¯å ä¸º Android çå®å¨æ¡æ¶ä¸æ å Java ä¸åï¼Android å¹¶ä¸æ¯æ JKSï¼Java KeyStoreï¼æ ¼å¼ãç¸åï¼Android æ¯æå¶ä»ç±»åçå¯é¥åºï¼å¦ BKSï¼Bouncy Castle KeyStoreï¼å PKCS12ã</p>
<pre><code class="language-java">private SslContext getSslContext() throws Exception {
	Certificate caCert = CertificateUtils.getCertificate();
	KeyStore trustStore = KeyStore.getInstance("BKS");  // ä½¿ç¨ BKS æ PKCS12
	trustStore.load(null, null);
	trustStore.setCertificateEntry("ca", caCert);

	TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());
	tmf.init(trustStore);

	SslContext build = SslContextBuilder.forClient()
			.trustManager(tmf)
			.build();
	return build;
}
</code></pre>
<p>æåçç<br>
![[Pasted image 20241219145126.png]]</p>
<h3 id="ååéªè¯çtls">ååéªè¯çTLS</h3>
<p>å¶å®åæå¡ç«¯ä¸æ ·çé»è¾ 1.çæå®¢æ·ç«¯ç§é¥, 2.çæå®¢æ·ç«¯CRS, 3.ç¨CAæ ¹è¯ä¹¦ç­¾åå®¢æ·ç«¯çå¬é¥</p>
<h4 id="å®¢æ·ç«¯è¯ä¹¦åå¤">å®¢æ·ç«¯è¯ä¹¦åå¤</h4>
<h5 id="çæå®¢æ·ç«¯ç§é¥"><strong>çæå®¢æ·ç«¯ç§é¥</strong></h5>
<pre><code>openssl genpkey -algorithm RSA -out client.key -aes256 -pkeyopt rsa_keygen_bits:2048
</code></pre>
<p>è½¬æ¢ä¸ºpkcs#8 æ ¼å¼</p>
<pre><code>openssl pkcs8 -topk8 -inform PEM -in client.key -outform PEM -nocrypt -out client_pkcs8.key
</code></pre>
<h5 id="åå»ºå®¢æ·ç«¯çè¯ä¹¦ç­¾åè¯·æ±-csr"><strong>åå»ºå®¢æ·ç«¯çè¯ä¹¦ç­¾åè¯·æ± (CSR)</strong></h5>
<pre><code>openssl req -new -key client.key -out client.csr
</code></pre>
<h5 id="ä½¿ç¨æ ¹-ca-ç­¾åå®¢æ·ç«¯ç-csr"><strong>ä½¿ç¨æ ¹ CA ç­¾åå®¢æ·ç«¯ç CSR</strong></h5>
<pre><code>openssl x509 -req -in client.csr -CA root_ca.crt -CAkey root_ca.key -CAcreateserial -out client.crt -days 7300 -sha256

</code></pre>
<h4 id="æå¡ç«¯-1">æå¡ç«¯</h4>
<pre><code class="language-java">public static void main(String[] args) throws Exception {
        NioEventLoopGroup boosGroup = new NioEventLoopGroup();
        final ServerBootstrap serverBootstrap = new ServerBootstrap();
        int port = 19977;
        // 1. å è½½ PEM ç§é¥,  2.  å è½½ è¯ä¹¦
        final String server_crt = "E:\\content-for-work\\2024-12XXXXAPP\\tls_test\\server.crt";
        final String server_pkcs8_key = "E:\\content-for-work\\2024-12XXXXAPP\\tls_test\\server_pkcs8.key";

        Certificate certificate = SecureUtil.readX509Certificate(FileUtil.getInputStream(server_crt));
        PrivateKey privateKey = PemUtil.readPemPrivateKey(FileUtil.getInputStream(server_pkcs8_key));
        // 3. åå»º KeyStore å¹¶å°ç§é¥åè¯ä¹¦æ·»å å°å¶ä¸­
        KeyStore keyStore = KeyStore.getInstance("PKCS12");
        keyStore.load(null, null);
        keyStore.setKeyEntry("alias", privateKey, "password".toCharArray(), new Certificate[]{certificate});

        // 4. åå»º KeyManagerFactory å¹¶åå§å
        KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());
        kmf.init(keyStore, "password".toCharArray());

        //ååè®¤è¯ CAæ ¹è¯ä¹¦
        final String root_ca = "E:\\content-for-work\\2024-12XXXXAPP\\tls_test\\root_ca.crt";
        X509Certificate caCertificate = (X509Certificate) SecureUtil.readX509Certificate(FileUtil.getInputStream(root_ca));

        // 5. æå»º SslContext
        final SslContext sslContext = SslContextBuilder.forServer(kmf)
                .trustManager(caCertificate)
                .clientAuth(io.netty.handler.ssl.ClientAuth.REQUIRE)//ååè®¤è¯ &gt; éç½®è¦æ±å®¢æ·ç«¯ä¹è®¤è¯
                .build();

        serverBootstrap
                .group(boosGroup)
                .channel(NioServerSocketChannel.class)
                .option(ChannelOption.SO_BACKLOG, 1024)
                .childOption(ChannelOption.SO_KEEPALIVE, true)
                .childOption(ChannelOption.TCP_NODELAY, true)
                .childHandler(new ChannelInitializer&lt;NioSocketChannel&gt;() {
                    @Override
                    protected void initChannel(NioSocketChannel ch) {
                        // æ·»å  SSL/TLS å¤çå¨
                        ch.pipeline().addLast(sslContext.newHandler(ch.alloc()));
                        ch.pipeline().addLast(new StringDecoder())
                                .addLast(new StringEncoder())
                                .addLast(new ServerHandler());
                    }
                });
        ChannelFuture f = serverBootstrap.bind(port).addListener(future -&gt; {
            if (future.isSuccess()) {
                System.out.println(new Date() + ": ç«¯å£[" + port + "]ç»å®æå!");
            } else {
                System.err.println("ç«¯å£[" + port + "]ç»å®å¤±è´¥!");
            }
        });
        //ä¸é¢ä¼è¿è¡é»å¡, ç­å¾æå¡å¨è¿æ¥å³é­ä¹å main æ¹æ³éåº, ç¨åºç»æ;
        f.channel().closeFuture().sync();
    }
</code></pre>
<h4 id="å®¢æ·ç«¯-1">å®¢æ·ç«¯</h4>
<pre><code class="language-java">public static void main(String[] args) throws Exception {
        Bootstrap bootstrap = new Bootstrap();
        NioEventLoopGroup group = new NioEventLoopGroup();

        String host = "192.168.20.130";
        int port = 19977;

        // 1. å è½½ CA è¯ä¹¦
        final String ca_cet = "E:\\content-for-work\\2024-12XXXXAPP\\tls_test\\root_ca.crt";
        Certificate certificate = SecureUtil.readX509Certificate(FileUtil.getInputStream(ca_cet));

        // 2. åå»º KeyStore å¹¶å° CA è¯ä¹¦æ·»å å°ä¿¡ä»»åºä¸­
        KeyStore trustStore = KeyStore.getInstance("JKS");
        trustStore.load(null, null);
        trustStore.setCertificateEntry("ca", certificate);

        // 3. åå»º TrustManagerFactory å¹¶åå§å
        TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());
        tmf.init(trustStore);

        // ååè®¤è¯ &gt; å®¢æ·ç«¯è¯ä¹¦
        final String client_crt = "E:\\content-for-work\\2024-12XXXXAPP\\tls_test\\client.crt";
        final String client_pkcs8_key = "E:\\content-for-work\\2024-12XXXXAPP\\tls_test\\client_pkcs8.key";

        // 4. æå»º SslContext
        SslContext build = SslContextBuilder.forClient()
                .keyManager(FileUtil.file(client_crt), FileUtil.file(client_pkcs8_key))
                .trustManager(tmf)
                .build();

        bootstrap.group(group)
                .channel(NioSocketChannel.class)
                .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 30000)
                .option(ChannelOption.SO_KEEPALIVE, true)
                .handler( new SimpleChannelInboundHandler&lt;String&gt;() {
                    @Override
                    protected void channelRead0(ChannelHandlerContext ctx, String msg) throws Exception {
                        System.out.println("å®¢æ·ç«¯æ¥æ¶: "+msg);
                    }
                })
                .connect(host, port).addListener(new ChannelFutureListener() {
                    @Override
                    public void operationComplete(ChannelFuture future) throws Exception {
                        future.channel().pipeline()
                                .addFirst(new StringEncoder())
                                .addFirst(new StringDecoder())
                                .addFirst( build.newHandler(future.channel().alloc() ));
                        final String helloToServer = "ç çä¹°æ­ç¬ï¼ç³ç³ å»è´¤æãæ¹ç¥é»é¹ä¸¾ï¼åéç¬å¾å¾ã"+System.currentTimeMillis();
                        future.channel().writeAndFlush(helloToServer);
                    }
                });
//        group.shutdownGracefully();
    }
</code></pre>
<p>æå, æåçç</p>
<p><img alt="Pasted image 20241220115443" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3723410/202601/3723410-20260107211411779-495482547.png" class="lazyload"></p>

</div>
<div id="MySignature" role="contentinfo">
    é¢é²èå¹´ç´åï¼ä¿æç»èº«å­¦ä¹ !    ââ <a href="https://www.cnblogs.com/dddy/" target="_blank">daidaidaiyu</a>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.001388888888888889" data-date-updated="2026-01-07 21:20">2026-01-07 21:18</span>&nbsp;
<a href="https://www.cnblogs.com/dddy">daidaidaiyu</a>&nbsp;
éè¯»(<span id="post_view_count">94</span>)&nbsp;
è¯è®º(<span id="post_comment_count">2</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19453911);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19453911', targetLink: 'https://www.cnblogs.com/dddy/p/19453911', title: 'ä¸æå­¦ä¹ åå®è·µ å½ä¸äºèç½å®å¨çåºç³  -  TLS å SSL' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ Supertonic é¨ç½²ä¸ä½¿ç¨å¨æµç¨ä¿å§çº§æåï¼éå·²é¨ç½²éåï¼ ]]></title>
    <link>https://www.cnblogs.com/ChenAI-TGF/p/19453758</link>
    <guid>e6b1a363c1c9e8d2a13bb36d772066b6</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/ChenAI-TGF/p/19453758" title="åå¸äº 2026-01-07 19:57">
    <span role="heading" aria-level="2">Supertonic é¨ç½²ä¸ä½¿ç¨å¨æµç¨ä¿å§çº§æåï¼éå·²é¨ç½²éåï¼</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        Supertonicå¼æºå·¥å·Pythonçé¨ç½²ä¸ä½¿ç¨æå æè¦ï¼æ¬æè¯¦ç»ä»ç»äºSupertonic(ä¸æ¬¾è¯­é³å¤çå·¥å·)Pythonçæ¬çå®æ´é¨ç½²æµç¨ï¼åæ¬æå¡å¨ç¯å¢åå¤ãæºç ä¸è½½ãä¾èµå®è£ãå¸¸è§æ¥éè§£å³æ¹æ³ç­å³é®æ­¥éª¤ãé¨ç½²æååï¼ç¨æ·åªéä¿®æ¹ç¤ºä¾èæ¬ä¸­çææ¬åå®¹ï¼å³å¯çæå¯¹åºçé³é¢ç»ææä»¶ãæç« è¿æä¾äºå·²é¨ç½²éåçè·åæ¹å¼ï¼å¸®å©ç¨æ·å¿«éä¸æãé¨ç½²è¿ç¨ä¸­éæ³¨ææ¨¡åèªå¨ä¸è½½ãä¾èµçæ¬å²çªç­å¸¸è§é®é¢ãéè¿æ¬æåï¼ç¨æ·å¯ä»¥å¿«éå®æSupertonicçç¯å¢æ­å»ºå¹¶å¼å§ä½¿ç¨å¶æ ¸å¿åè½ã
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="åè¨">åè¨</h1>
<p>Supertonic æ¯ä¸æ¬¾å®ç¨çå¼æºå·¥å·ï¼æ³¨ï¼å¯æ ¹æ®å®éè¡¥åSupertonicçæ ¸å¿åè½ï¼å¦è¯­é³åæ/å¤çç­ï¼ï¼æ¬æå°è¯¦ç»è®²è§£å¶ Python çæ¬çå®æ´é¨ç½²æµç¨ãæ¥å¸¸ä½¿ç¨æ¹æ³ï¼å¹¶éä¸æå·²é¨ç½²å¥½çéåé¾æ¥ï¼å¸®å¤§å®¶å¿«éä¸æã</p>
<p><img alt="å¨è¿éæå¥å¾çæè¿°" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3724025/202601/3724025-20260107195649618-199267446.png" class="lazyload"></p>
<h1 id="ä¸é¨ç½²ååå¤">ä¸ãé¨ç½²ååå¤</h1>
<ol>
<li>æå¡å¨ç¯å¢è¦æ±ï¼å·²å®è£ Python 3.7+ï¼æ¨è3.8-3.10ï¼ãpip å·¥å·ï¼ç¡®ä¿æå¡å¨æåºç¡çç½ç»è®¿é®æéï¼</li>
<li>å·¥å·åå¤ï¼æ¬å°çµèï¼ææå¡å¨ï¼å¯éè¿ <code>scp</code>/<code>rz</code>/<code>sftp</code> ç­æ¹å¼ä¼ è¾æä»¶å°æå¡å¨ã<br>
<strong>æçæå¡å¨æ¯å¨æå¾ä¸é¢ç§ç4090ï¼1.46åä¸å°æ¶ï¼ç¸å¯¹æ¥è¯´è¿æ¯å¾ä¾¿ç</strong><br>
<img alt="å¨è¿éæå¥å¾çæè¿°" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3724025/202601/3724025-20260107195649668-2001880825.png" class="lazyload"></li>
</ol>
<h1 id="äºå®æ´é¨ç½²æ­¥éª¤">äºãå®æ´é¨ç½²æ­¥éª¤</h1>
<h2 id="æ­¥éª¤1ä»githubä¸è½½æºç å">æ­¥éª¤1ï¼ä»GitHubä¸è½½æºç å</h2>
<p>é¦åå¨æ¬å°ææå¡å¨ç´æ¥ä¸è½½ Supertonic ç Python çæ¬æºç ï¼GitHub å°åï¼è¯·æ¿æ¢ä¸ºå®éå°åï¼ï¼</p>
<pre><code class="language-bash"># æ¹å¼1ï¼æå¡å¨ç´æ¥gitåéï¼æ¨èï¼
git clone https://github.com/supertone-inc/supertonic

# æ¹å¼2ï¼æ¬å°ä¸è½½zipååï¼æå¨ä¸ä¼ å°æå¡å¨
# è®¿é®ä¸è¿°GitHubå°åï¼ç¹å»ãCodeãâãDownload ZIPãä¸è½½åç¼©å
</code></pre>
<p>githubé¾æ¥ï¼<a href="https://github.com/supertone-inc/supertonic" target="_blank" rel="noopener nofollow">https://github.com/supertone-inc/supertonic</a><br>
<img alt="å¨è¿éæå¥å¾çæè¿°" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3724025/202601/3724025-20260107195649680-2133932629.png" class="lazyload"></p>
<h2 id="æ­¥éª¤2å°æºç åè½¬ç§»å°æå¡å¨">æ­¥éª¤2ï¼å°æºç åè½¬ç§»å°æå¡å¨</h2>
<p>å¦ææ¯æ¬å°ä¸è½½ç zip åï¼éè¿jupyterå¯ä»¥ç´æ¥æå¨ä¸ä¼ å°æå¡å¨ä¸é¢<br>
<img alt="å¨è¿éæå¥å¾çæè¿°" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3724025/202601/3724025-20260107195649636-1154924533.png" class="lazyload"></p>
<h2 id="æ­¥éª¤3è§£åç¨åºå">æ­¥éª¤3ï¼è§£åç¨åºå</h2>
<p>ç»å½æå¡å¨ï¼è¿å¥æä»¶å­æ¾ç®å½ï¼è§£åæºç åï¼<br>
<strong>å¨å·¦ä¾§åæ¢å°åç¼©åæå¨çç®å½çæ¶åï¼å³è¾¹çé¢ç¹å» Terminal</strong></p>
<p><img alt="å¨è¿éæå¥å¾çæè¿°" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3724025/202601/3724025-20260107195649647-891125903.png" class="lazyload"></p>
<p><strong>è¾å¥ä»¥ä¸å½ä»¤è§£åå</strong></p>
<pre><code class="language-bash"># è§£åzipåï¼å¦ææ¯gitåéåæ éæ­¤æ­¥éª¤ï¼
unzip supertonic-main.zip

# è§£ååä¼çæ supertonic-main ç®å½
</code></pre>
<p><img alt="å¨è¿éæå¥å¾çæè¿°" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3724025/202601/3724025-20260107195649808-2133835779.png" class="lazyload"></p>
<h2 id="æ­¥éª¤4è¿å¥æå®è·¯å¾å¹¶å®è£ä¾èµ">æ­¥éª¤4ï¼è¿å¥æå®è·¯å¾å¹¶å®è£ä¾èµ</h2>
<p>è¿å¥ Supertonic Python ä»£ç çæ ¸å¿è·¯å¾ï¼å®è£ <code>requirements.txt</code> ä¸­çä¾èµï¼</p>
<pre><code class="language-bash"># è¿å¥supertonic-main/pyè·¯å¾
cd supertonic-main/py/

# å®è£ä¾èµï¼å»ºè®®ååçº§pipï¼é¿åå®è£å¤±è´¥ï¼
pip install --upgrade pip
pip install -r requirements.txt
</code></pre>
<p><img alt="å¨è¿éæå¥å¾çæè¿°" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3724025/202601/3724025-20260107195649631-2079176817.png" class="lazyload"></p>
<p><img alt="å¨è¿éæå¥å¾çæè¿°" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3724025/202601/3724025-20260107195649677-710582269.png" class="lazyload"></p>
<h2 id="æ­¥éª¤5é¦æ¬¡è¿è¡ç¤ºä¾èæ¬å¹¶è¡¥åç¼ºå¤±åº">æ­¥éª¤5ï¼é¦æ¬¡è¿è¡ç¤ºä¾èæ¬å¹¶è¡¥åç¼ºå¤±åº</h2>
<p>è¿è¡ç¤ºä¾èæ¬ <code>example_pypi.py</code>ï¼æ­¤æ¶å¤§æ¦çä¼æç¤ºç¼ºå°æä¸ªåºï¼å¦ <code>supertonic</code> åºï¼ï¼</p>
<pre><code class="language-bash"># é¦æ¬¡è¿è¡ç¤ºä¾èæ¬
python example_pypi.py
</code></pre>
<p><img alt="å¨è¿éæå¥å¾çæè¿°" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3724025/202601/3724025-20260107195649602-1937049400.png" class="lazyload"></p>
<h3 id="å¸¸è§æ¥éç¤ºä¾">å¸¸è§æ¥éç¤ºä¾ï¼</h3>
<pre><code>ModuleNotFoundError: No module named 'supertonic'
</code></pre>
<h4 id="è§£å³æ¹æ³">è§£å³æ¹æ³ï¼</h4>
<p>æ ¹æ®æ¥éæç¤ºï¼ç¨ pip è¡¥åå®è£ç¼ºå¤±çåºï¼</p>
<pre><code class="language-bash"># æ¿æ¢xxxä¸ºå®éç¼ºå¤±çåºåï¼å¦ pip install soundfile
pip install supertonic
</code></pre>
<p><img alt="å¨è¿éæå¥å¾çæè¿°" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3724025/202601/3724025-20260107195649671-296500844.png" class="lazyload"></p>
<h2 id="æ­¥éª¤6éæ°è¿è¡èæ¬å¹¶ç­å¾æ¨¡åä¸è½½">æ­¥éª¤6ï¼éæ°è¿è¡èæ¬å¹¶ç­å¾æ¨¡åä¸è½½</h2>
<p>è¡¥åå®è£ç¼ºå¤±åºåï¼åæ¬¡è¿è¡ç¤ºä¾èæ¬ï¼</p>
<pre><code class="language-bash">python example_pypi.py
</code></pre>
<p>â ï¸ æ³¨æï¼<strong>ç¬¬ä¸æ¬¡è¿è¡æ¶ï¼èæ¬ä¼èªå¨ä¸è½½æéçæ¨¡åæä»¶</strong>ï¼ä¸è½½éåº¦åå³äºæå¡å¨ç½ç»ï¼éèå¿ç­å¾ï¼éå¸¸å åéï¼ï¼ä¸è¦ä¸­æ­è¿ç¨ã</p>
<p><img alt="å¨è¿éæå¥å¾çæè¿°" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3724025/202601/3724025-20260107195649634-231572709.png" class="lazyload"></p>
<h2 id="æ­¥éª¤7éªè¯é¨ç½²æå">æ­¥éª¤7ï¼éªè¯é¨ç½²æå</h2>
<p>è¿è¡å®æåï¼æ£æ¥ <code>supertonic-main/py/result</code> ç®å½ï¼è¥çæäº wav æ ¼å¼çç»ææä»¶ï¼è¯´æé¨ç½²æåï¼</p>
<pre><code class="language-bash"># æ¥çresultç®å½åå®¹
ls result/
</code></pre>
<p>æèç´æ¥å©ç¨å·¦ä¾§æä»¶ç®¡çç³»ç»æ¥ç<br>
<img alt="å¨è¿éæå¥å¾çæè¿°" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3724025/202601/3724025-20260107195649666-303294321.png" class="lazyload"></p>
<h2 id="ä¸supertonic-ä½¿ç¨æ­¥éª¤">ä¸ãSupertonic ä½¿ç¨æ­¥éª¤</h2>
<p>é¨ç½²å®ææèç´æ¥ä½¿ç¨æé¨ç½²å®çéåä¹åï¼æ¥å¸¸ä½¿ç¨åªéä»¥ä¸4æ­¥ï¼</p>
<h3 id="æ­¥éª¤1è¿å¥æå®å·¥ä½è·¯å¾">æ­¥éª¤1ï¼è¿å¥æå®å·¥ä½è·¯å¾</h3>
<p>æ¯æ¬¡ä½¿ç¨åï¼åç»å½æå¡å¨å¹¶è¿å¥æ ¸å¿è·¯å¾ï¼</p>
<pre><code class="language-bash">cd /supertonic-main/py/
</code></pre>
<p><img alt="å¨è¿éæå¥å¾çæè¿°" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3724025/202601/3724025-20260107195649654-1413206719.png" class="lazyload"></p>
<h3 id="æ­¥éª¤2ä¿®æ¹ç¤ºä¾èæ¬çææ¬åå®¹">æ­¥éª¤2ï¼ä¿®æ¹ç¤ºä¾èæ¬çææ¬åå®¹</h3>
<p>ç¼è¾ <code>example_pypi.py</code> æä»¶ï¼ä¿®æ¹å¶ä¸­ç <code>text</code> åéï¼æ ¸å¿è¾å¥åå®¹ï¼å¦è¯­é³åæçææ¬ï¼ï¼</p>
<pre><code class="language-bash"># ç¨vimç¼è¾æä»¶
vim example_pypi.py

# æ¾å°ç±»ä¼¼å¦ä¸çä»£ç è¡ï¼ä¿®æ¹textçå¼
text = "è¿æ¯é»è®¤çæµè¯ææ¬"  # å°æ­¤è¡æ¹ä¸ºä½ éè¦çåå®¹
</code></pre>
<p>ä¿®æ¹å®æåï¼æ <code>Esc</code> â è¾å¥ <code>:wq</code> ä¿å­å¹¶éåº vimã</p>
<p>æèç´æ¥ç¨å¯è§åçé¢ä¿®æ¹åå®¹<br>
<img alt="å¨è¿éæå¥å¾çæè¿°" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3724025/202601/3724025-20260107195649639-235481919.png" class="lazyload"></p>
<h3 id="æ­¥éª¤3è¿è¡èæ¬çæç»æ">æ­¥éª¤3ï¼è¿è¡èæ¬çæç»æ</h3>
<p>å¨å½åè·¯å¾ä¸æ§è¡èæ¬ï¼è§¦åå¤çæµç¨ï¼</p>
<pre><code class="language-bash">python example_pypi.py
</code></pre>
<p>ç»ææ²¡æä»»ä½è¾åºå°±æ¯çææåäºï¼ç´æ¥å¨resultéé¢æ¥çå°±å¯ä»¥äº</p>
<h3 id="æ­¥éª¤4æ¥ççæçç»ææä»¶">æ­¥éª¤4ï¼æ¥ççæçç»ææä»¶</h3>
<p>å¤çå®æåï¼ææç»æä¼ä»¥ <code>wav</code> é³é¢æä»¶æ ¼å¼å­å¨å¨ <code>supertonic-main/py/result</code> ç®å½ä¸ï¼å¯éè¿ <code>scp</code> ä¸è½½å°æ¬å°æ­æ¾ï¼æç´æ¥å¨æå¡å¨ä¸ç¨é³é¢å·¥å·æ¥çï¼</p>
<pre><code class="language-bash"># ä¸è½½ç»ææä»¶å°æ¬å°ï¼ç¤ºä¾ï¼
scp root@192.168.1.100:/opt/supertonic-main/py/result/xxx.wav ~/Desktop/
</code></pre>
<h1 id="åå·²é¨ç½²å¥½çéåé¾æ¥">åãå·²é¨ç½²å¥½çéåé¾æ¥</h1>
<p>ä¸ºäºæ¹ä¾¿å¤§å®¶å¿«éä½¿ç¨ï¼æå·²å°é¨ç½²å®æç Supertonic ç¯å¢æåä¸ºæå¾çç¤¾åºéåï¼å¯ç´æ¥æåä½¿ç¨ï¼ç­å¾å®¡æ ¸éè¿ä¹åæä¼æé¾æ¥æ¬å°åå®¢ä¸é¢æ¥ã</p>
<h1 id="äºå¸¸è§æ³¨æäºé¡¹">äºãå¸¸è§æ³¨æäºé¡¹</h1>
<ol>
<li>æ¨¡åä¸è½½å¤±è´¥ï¼è¥é¦æ¬¡è¿è¡æ¶æ¨¡åä¸è½½ä¸­æ­ï¼å¯æå¨ä¸è½½æ¨¡åæä»¶åæ¾å°èæ¬æå®çç¼å­ç®å½ï¼éå¸¸å¨ <code>~/.cache/</code> ä¸ï¼ï¼</li>
<li>ä¾èµçæ¬å²çªï¼è¥å®è£ <code>requirements.txt</code> æ¶åºç°çæ¬å²çªï¼å¯å°è¯æ·»å  <code>--force-reinstall</code> åæ°éæ°å®è£ï¼æéçº§å¯¹åºåºçæ¬ï¼</li>
<li>æéé®é¢ï¼è¥è¿è¡èæ¬æç¤ºæéä¸è¶³ï¼æ§è¡ <code>chmod +x example_pypi.py</code> æç¨ <code>sudo python example_pypi.py</code> è¿è¡ã</li>
</ol>
<hr>
<h1 id="æ»ç»">æ»ç»</h1>
<ol>
<li>Supertonic Python çæ¬é¨ç½²æ ¸å¿æ­¥éª¤ï¼ä¸è½½æºç âä¸ä¼ æå¡å¨âè§£åâå®è£ä¾èµâè¡¥è£ç¼ºå¤±åºâé¦æ¬¡è¿è¡ï¼ç­å¾æ¨¡åä¸è½½ï¼ï¼</li>
<li>æ¥å¸¸ä½¿ç¨åªéä¿®æ¹ <code>example_pypi.py</code> ç <code>text</code> åå®¹ï¼è¿è¡èæ¬å³å¯å¨ <code>result</code> ç®å½è·å wav ç»æï¼</li>
<li>å¯ç´æ¥ä½¿ç¨åä¸»æä¾çå·²é¨ç½²éåï¼è·³è¿ç¹ççç¯å¢éç½®æ­¥éª¤ï¼å¿«éä¸æã</li>
</ol>
<p>å¦æé¨ç½²æä½¿ç¨è¿ç¨ä¸­éå°é®é¢ï¼æ¬¢è¿å¨è¯è®ºåºäº¤æµï½</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-07 19:57">2026-01-07 19:57</span>&nbsp;
<a href="https://www.cnblogs.com/ChenAI-TGF">TTGF</a>&nbsp;
éè¯»(<span id="post_view_count">31</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19453758);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19453758', targetLink: 'https://www.cnblogs.com/ChenAI-TGF/p/19453758', title: 'Supertonic é¨ç½²ä¸ä½¿ç¨å¨æµç¨ä¿å§çº§æåï¼éå·²é¨ç½²éåï¼' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ LLM | ARC-AGIï¼æè¶£ç benchmark ]]></title>
    <link>https://www.cnblogs.com/moonout/p/19449723</link>
    <guid>a7d565c7ee108d4d3e3cf59dc3a6e2e3</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/moonout/p/19449723" title="åå¸äº 2026-01-07 19:57">
    <span role="heading" aria-level="2">LLM | ARC-AGIï¼æè¶£ç benchmark</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        ARC-AGI benchmark æä¾äºåºäºè§è§ç½æ ¼çè°é¢ï¼å®ä»¬æ¯âå¯¹äºäººç±»ç®åãå¯¹äºå¤§æ¨¡åå°é¾âçé®é¢ã
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<br>
<p>ARC-AGI benchmark æä¾äºåºäºè§è§ç½æ ¼çè°é¢ï¼è¿äºè°é¢æ¯âå¯¹äºäººç±»ç®åãå¯¹äºå¤§æ¨¡åå°é¾âçé®é¢ãARC-AGI éè¿è¯æµå¤§æ¨¡åè§£å³è¿ç±»é®é¢çè½åï¼æ¥è¡¡éå¤§æ¨¡åè·éç¨æºè½çè·ç¦»ã</p>
<p>æ¯ä¸ªè°é¢ä»æä¾å°éç¤ºä¾ï¼å¤§æ¨¡åéè¦åºäºè¿äºç¤ºä¾ï¼éè¿æ½è±¡æ¨çï¼çè§£è°é¢çå«ä¹ãï¼å¦ä¸æ¹é¢ï¼ç¤ºä¾è¾å°ä¹æå³çè®­ç»æ°æ®éè¾å°ï¼å³ï¼ARC-AGI benchmark ä¸å®¹æéè¿ä¸é¨è®­ç»æ¥å·ç¹ãï¼è¯¥ benchmark æµè¯æ¨¡åè¯å« pattern å¹¶å°å¶å¿«éåºç¨äºæ°æåµçè½åã</p>
<p>ARC-AGI çä¸»è¦è¯ä¼°ææ æ¯ Pass@2ï¼å®è¡¡éæ¨¡åå¨ä¸¤æ¬¡å°è¯åçææ­£ç¡®è¾åºçè½åã</p>
<p>ç¤ºä¾ï¼</p>
<p align="center"><img src="https://arcprize.org/media/images/arc-task-grids.jpg" align="center" style="zoom: 50%"></p>
<p align="center">(ARC-AGI-1)</p>
<br>
<p align="center"><img src="https://arcprize.org/media/images/v2-example.png" align="center" style="zoom: 50%"></p>
<p align="center">(ARC-AGI-2)</p>
<p>å¦ä½è§£å³ ARC-AGI é®é¢ï¼ARC-AGI å¢éå¨ Kaggle ä¸åå¸äºç¸å³ç«èµï¼ç¶èï¼ç±äºè®­ç»æ°æ®è¿å°ï¼æ æ³è®­åºä¸ä¸ªç¨äºè§£å³ ARC-AGI é®é¢çæ¨¡åï¼è¿ä¸ªææ³ä¹ä¸èå¯æ¨¡åéç¨æ¨çè½åçåè¡·ç¸æï¼ï¼å æ­¤å¨ 2024 å¹´ GPT ç­æ¨¡åå´èµ·ä¹åï¼åºäºæ·±åº¦å­¦ä¹ çæ¹æ³å¹¶æªåå¾å¥½çç»æã</p>
<p>æ ¹æ® <a href="" rel="noopener nofollow">ARC Prize 2024: Technical Report</a>ï¼å¨ 2024 å¹´åº¦ï¼ARC-AGI çæ±è§£åå¾çªç ´ï¼ä¸»è¦ä½¿ç¨äºä»¥ä¸ä¸ç§æ¹æ³ï¼</p>
<ul>
<li>æ·±åº¦å­¦ä¹ å¼å¯¼çç¨åºåæï¼å©ç¨æ·±åº¦å­¦ä¹ æ¨¡åï¼ç¹å«æ¯ä¸é¨çä»£ç  LLMsï¼æ¥çæè§£å³ä»»å¡çç¨åºï¼æå¯¹æç´¢ç¨åºçè¿ç¨è¿è¡æå¯¼ã</li>
<li>ç´æ¨æ¨¡åï¼transductive modelsï¼å¨æµè¯æ¶è®­ç»ï¼test-time trainingï¼TTTï¼ï¼å¨ç»å®ç ARC-AGI ä»»å¡è§èä¸å¯¹ LLM è¿è¡å¾®è°ï¼ä»¥ä¾¿å° LLM çåéªç¥è¯éæ°ç»åæä¸ä¸ªæ°çæ¨¡åï¼éåºå½åçä»»å¡ãç´æ¨æ¨¡åæçæ¯ï¼æ¥æ¶è¾å¥åç´æ¥è¾åºç»æï¼èéè¾åºä¸ä¸ªç¨åºã</li>
<li>å°ç¨åºåæä¸ç´æ¨æ¨¡åç¸ç»åï¼å°ä¸è¿°ä¸¤ç§æ¹æ³åå¹¶ä¸ºä¸ä¸ªè¶çº§æ¹æ³ï¼å ä¸ºæ®è§å¯ï¼è¿ä¸¤ç§æ¹æ³æé¿è§£å³ä¸åç±»åçä»»å¡ã</li>
</ul>
<hr>
<p>ARC-AGI ä»»å¡çå®ç½ï¼<a href="https://arcprize.org/" target="_blank" rel="noopener nofollow">https://arcprize.org/</a></p>
<p>ARC-AGI-1/2/3 ï¼</p>
<ul>
<li><a href="https://arcprize.org/arc-agi/1/" target="_blank" rel="noopener nofollow">https://arcprize.org/arc-agi/1/</a></li>
<li><a href="https://arcprize.org/arc-agi/2/" target="_blank" rel="noopener nofollow">https://arcprize.org/arc-agi/2/</a></li>
<li><a href="https://arcprize.org/arc-agi/3/" target="_blank" rel="noopener nofollow">https://arcprize.org/arc-agi/3/</a></li>
</ul>
<p>ARC-AGI-1/2 çæ¦åï¼<a href="https://arcprize.org/leaderboard" target="_blank" rel="noopener nofollow">https://arcprize.org/leaderboard</a></p>
<p>ARC Prize 2024: Technical Reportï¼<a href="https://arxiv.org/html/2412.04604v1" target="_blank" rel="noopener nofollow">https://arxiv.org/html/2412.04604v1</a></p>
<p>ç¸å³åå®¢ï¼</p>
<ul>
<li>å AI åçç¥ç§åå®¢ï¼<a href="https://labs.adaline.ai/p/what-is-the-arc-agi-benchmark-and" target="_blank" rel="noopener nofollow">https://labs.adaline.ai/p/what-is-the-arc-agi-benchmark-and</a></li>
<li>ç¥ä¹ Â· æºå¨ä¹å¿ |ãåç¼©å³æºè½ãå¾å°å®éªéªè¯ï¼æ éé¢è®­ç»åå¤§éæ°æ®å°±è½è§£å³ ARC-AGI é®é¢ï¼<a href="https://zhuanlan.zhihu.com/p/30426666081" target="_blank" rel="noopener nofollow">https://zhuanlan.zhihu.com/p/30426666081</a></li>
<li>ç¥ä¹ | ARC-AGI æµè¯éå¯¹äººå·¥æºè½æ¥è¯´é¾å¨åªéï¼<a href="https://www.zhihu.com/question/7955529556/answer/65269819236" target="_blank" rel="noopener nofollow">https://www.zhihu.com/question/7955529556/answer/65269819236</a></li>
</ul>
<br>
<br>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.024305555555555556" data-date-updated="2026-01-07 20:32">2026-01-07 19:57</span>&nbsp;
<a href="https://www.cnblogs.com/moonout">MoonOut</a>&nbsp;
éè¯»(<span id="post_view_count">19</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19449723);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19449723', targetLink: 'https://www.cnblogs.com/moonout/p/19449723', title: 'LLM | ARC-AGIï¼æè¶£ç benchmark' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ 3D-AIGC å­å¨æ¶ææ¼è¿ï¼ä» NFSãGlusterFS å° JuiceFS ]]></title>
    <link>https://www.cnblogs.com/JuiceData/p/19453125</link>
    <guid>e5a4def49f94c6188b4b0c8c67863e4e</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/JuiceData/p/19453125" title="åå¸äº 2026-01-07 16:55">
    <span role="heading" aria-level="2">3D-AIGC å­å¨æ¶ææ¼è¿ï¼ä» NFSãGlusterFS å° JuiceFS</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>åå½±çåï¼Lightillusionsï¼æ¯ä¸å®¶ä¸æ³¨äºç©ºé´æºè½ææ¯ï¼ç»å 3D è§è§ãå¾å½¢å­¦åçææ¨¡åææ¯ï¼è´åäºæé åæ°ç 3D åºç¡æ¨¡åå¬å¸ãå¬å¸ç±è°­å¹³ææé¢å¯¼ï¼è°­æææ¾æä»»é¿éå·´å·´è¾¾æ©é¢å®éªå®¤è´è´£äººï¼ç®åæ¯é¦æ¸¯ç§æå¤§å­¦çææï¼åæ¶æä»»å¯è¯ºä¼æ¼äººå·¥æºè½ç ç©¶å®¤å¯é¢é¿ï¼å¹¶æ¯é¦æ¸¯ç§æå¤§å­¦ä¸æ¯äºè¿ªèåå®éªå®¤çä¸»ä»»ã</p>
<p>åºå«äºäºç»´æ¨¡åï¼ä¸ç»´æ¨¡ååä¸ªæ¨¡åçå¤§å°å¯è¾¾å  GBï¼å°¤å¶æ¯ç¹äºæ°æ®ç­å¤ææ¨¡åãå½æ°æ®éè¾¾å° PB çº§å«æ¶ï¼ç®¡çä¸å­å¨æä¸ºå·¨å¤§çææãç»è¿å°è¯ NFSãGlusterFS ç­æ¹æ¡åï¼æä»¬æç»éæ©äº JuiceFSï¼æåæ­å»ºäºä¸ä¸ªç»ä¸çå­å¨å¹³å°ï¼ä¸ºå¤ä¸ªåºæ¯æå¡ï¼å¹¶æ¯æè·¨å¹³å°è®¿é®ï¼åæ¬ Windows å Linux ç³»ç»ã<strong>è¯¥å¹³å°ç®åå·²ç®¡çä¸äº¿æä»¶ï¼æ°æ®å¤çéåº¦æåäº 200%~250%ï¼è¿å®ç°äºé«æçå­å¨æ©å®¹ï¼åæ¶è¿ç»´ç®¡çå¾å°äºæå¤§ç®åï¼ä½¿å¾å¢éè½å¤æ´ä¸æ³¨äºæ ¸å¿ä»»å¡çæ¨è¿</strong>ã</p>
<h2 id="01-3d-aigc-å­å¨éæ±">01 3D-AIGC å­å¨éæ±</h2>
<p>æä»¬çç ç©¶ä¸»è¦éä¸­å¨æç¥åçæä¸¤ä¸ªæ¹åãå¨ä¸ç»´é¢åï¼ä»»å¡çå¤ææ§ä¸å¾ååææ¬å¤çææ¬è´¨åºå«ï¼è¿å¯¹æä»¬ç AI æ¨¡åãç®æ³ä»¥ååºç¡è®¾æ½å»ºè®¾é½æåºäºæ´é«çè¦æ±ã</p>
<p>æä»¬éè¿ä¸ä¸ª 3D æ°æ®å¤çæµç¨ï¼æ¥å±ç¤ºä¸ç»´æ°æ®å¤ççå¤ææ§ãä¸å¾å·¦ä¾§æ¯ä¸ä¸ªä¸ç»´æ¨¡åï¼åå«çº¹çï¼å·¦ä¸è§çæå°çº¹çï¼åå ä½ä¿¡æ¯ï¼å³ä¸è§çå ä½ç»æï¼ãé¦åï¼æä»¬çææ¸²æå¾åãæ¯ä¸ªæ¨¡åè¿éå¸¦ææ¬æ ç­¾ï¼æè¿°å¶åå®¹ãå ä½ç¹å¾åçº¹çç¹å¾ï¼è¿äºæ ç­¾ä¸æ¯ä¸ªæ¨¡åç´§å¯ç¸å³ãæ­¤å¤ï¼æä»¬è¿å¤çå ä½æ°æ®ï¼å¦éæ ·ç¹ä»¥åä»æ°æ®é¢å¤çè¿ç¨ä¸­å¾å°çå¿è¦æ°å¼ï¼å¦ 3DSãSDF ç­ï¼ãéè¦æ³¨æçæ¯ï¼ä¸ç»´æ¨¡åçæä»¶æ ¼å¼éå¸¸å¤æ ·ï¼å¾çæ ¼å¼ä¹åä¸ç¸åã</p>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2544292/202601/2544292-20260107165425023-820402635.png" class="lazyload"></p>
<p>æä»¬çå·¥ä½åºæ¯æ¶åè¯­è¨æ¨¡åãå¾å/è§é¢æ¨¡åå°ä¸ç»´æ¨¡åï¼éçæ°æ®éçå¢é¿ï¼å­å¨è´æä¹å¨ä¸æ­å¢å ãä»¥ä¸æ¯è¿äºåºæ¯ä¸­æ°æ®ä½¿ç¨çä¸»è¦ç¹ç¹ï¼</p>
<ul>
<li>è¯­è¨æ¨¡åçæ°æ®éå¸¸ç±å¤§éå°æä»¶ç»æãå°½ç®¡åä¸ªææ¬æä»¶è¾å°ï¼ä½éçæ°æ®éçå¢å ï¼æä»¶æ°éå¯è½è¾¾å°æ°ç¾ä¸çè³æ°åä¸ä¸ªï¼è¿ä½¿å¾ç®¡çå¦æ­¤åºå¤§çæä»¶æ°æä¸ºå­å¨çä¸ä¸ªä¸»è¦é¾ç¹ã</li>
<li>å¾ååè§é¢æ°æ®ï¼å°¤å¶æ¯é«åè¾¨çå¾ååé¿æ¶é´çè§é¢ï¼éå¸¸è¾ä¸ºåºå¤§ãåå¼ å¾åçå¤§å°éå¸¸å¨å ç¾ KB å°å  MB ä¹é´ï¼èè§é¢æä»¶å¯è½è¾¾å° GB çº§å«ãå¨é¢å¤çè¿ç¨ä¸­ï¼å¦æ°æ®å¢å¼ºãåè¾¨çè°æ´åå¸§æåç­ï¼æ°æ®éä¼æ¾èå¢å ï¼ç¹å«æ¯å¨è§é¢å¤çä¸­ï¼æ¯ä¸ªè§é¢éå¸¸ä¼è¢«æè§£ä¸ºå¤§éçå¾åæä»¶ï¼ç®¡çè¿äºåºå¤§çæä»¶éï¼å¸¦æ¥äºæ´é«çå¤ææ§ã</li>
<li>ä¸ç»´æ¨¡åï¼ç¹å«æ¯ç¹äºæ°æ®ç­å¤ææ¨¡åï¼åä¸ªæ¨¡åçå¤§å°å¯è¾¾å  GBã<strong>ä¸ç»´æ°æ®çé¢å¤çè¿ç¨æ¯å¶ä»æ°æ®æ´å å¤æï¼æ¶åçº¹çæ å°ãå ä½éå»ºç­å¤ä¸ªæ­¥éª¤ï¼è¿äºå¤çä¸ä»æ¶èå¤§éè®¡ç®èµæºï¼è¿å¯è½å¢å æ°æ®ä½ç§¯</strong>ãæ­¤å¤ï¼ä¸ç»´æ¨¡åéå¸¸ç±å¤ä¸ªæä»¶ç»æï¼æä»¶æ°éåºå¤§ï¼éçæ°æ®éçå¢é¿ï¼ç®¡çè¿äºæä»¶çé¾åº¦ä¹ä¼å¢å ã</li>
</ul>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2544292/202601/2544292-20260107165434018-778107348.png" class="lazyload"></p>
<p>ç±ä¸è¿°ç¯èçå­å¨ç¹ç¹ï¼æä»¬å¸ææå»ºçå­å¨å¹³å°è½å¤æ»¡è¶³ä»¥ä¸å é¡¹è¦æ±ï¼</p>
<ul>
<li>
<p><strong>å¤æ ·çæ°æ®æ ¼å¼ä¸è·¨èç¹å±äº«</strong>ï¼ä¸åæ¨¡åçæ°æ®æ ¼å¼å·®å¼è¾å¤§ï¼ç¹å«æ¯ä¸ç»´æ¨¡åçæ ¼å¼å¤ææ§åè·¨å¹³å°å¼å®¹é®é¢ï¼å­å¨ç³»ç»éè¦æ¯æå¤ç§æ ¼å¼ï¼å¹¶ææç®¡çè·¨èç¹åè·¨å¹³å°çæ°æ®å±äº«ã</p>
</li>
<li>
<p><strong>å¯ä»¥å¤çä¸åå°ºå¯¸çæ°æ®æ¨¡å</strong>ï¼æ è®ºæ¯è¯­è¨æ¨¡åçå°æä»¶ãå¤§è§æ¨¡å¾ç/è§é¢æ°æ®ï¼è¿æ¯ä¸ç»´æ¨¡åçå¤§æä»¶ï¼å­å¨ç³»ç»å¿é¡»å·å¤é«æ©å±æ§ï¼ä»¥åºå¯¹å¿«éå¢é¿çå­å¨éæ±ï¼å¹¶é«æå¤çå¤§å°ºå¯¸æ°æ®çå­å¨åè®¿é®ã</p>
</li>
<li>
<p><strong>è·¨äºä¸éç¾¤å­å¨çææ</strong>ï¼éçæ°æ®éçå¢å ï¼ç¹å«æ¯ä¸ç»´æ¨¡åç PB çº§å­å¨éæ±ï¼è·¨äºåéç¾¤å­å¨é®é¢æå çªåºãå­å¨ç³»ç»éè¦æ¯æè·¨åºåãè·¨äºçæ ç¼æ°æ®è®¿é®åé«æçéç¾¤ç®¡çã</p>
</li>
<li>
<p><strong>æ¹ä¾¿æ©å®¹</strong>ï¼æ è®ºæ¯è¯­è¨æ¨¡åãå¾ç/è§é¢æ¨¡åï¼è¿æ¯ä¸ç»´æ¨¡åï¼æ©å®¹éæ±å§ç»å­å¨ï¼å°¤å¶æ¯ä¸ç»´æ¨¡åçå­å¨åå¤çå¯¹æ©å®¹çéæ±æ´é«ã</p>
</li>
<li>
<p><strong>ç®åçè¿ç»´</strong>ï¼å­å¨ç³»ç»åºæä¾ç®ä¾¿çç®¡ççé¢åå·¥å·ï¼å°¤å¶æ¯å¯¹äºä¸ç»´æ¨¡åçç®¡çï¼è¿ç»´è¦æ±æ´é«ï¼èªå¨åç®¡çåå®¹éè½åæ¯å¿ä¸å¯å°çã</p>
</li>
</ul>
<h2 id="02-å­å¨æ¹æ¡æ¢ç´¢ä»-nfsglustercephfs-å°-juicefs">02 å­å¨æ¹æ¡æ¢ç´¢ï¼ä» NFSãGlusterãCephFS å° JuiceFS</h2>
<h3 id="åææ¹æ¡nfs-æè½½">åææ¹æ¡ï¼NFS æè½½</h3>
<p>æåï¼æä»¬éç¨äºæç®åçæ¹æ¡ââä½¿ç¨ NFS è¿è¡æè½½ãç¶èï¼å¨å®éæä½ä¸­ï¼æä»¬åç°è®­ç»éç¾¤åæ¸²æéç¾¤éè¦åèªç¬ç«çéç¾¤æ¥è¿è¡æè½½æä½ãè¿ç§æ¹å¼çç»´æ¤éå¸¸ç¹çï¼å°¤å¶æ¯å½æ·»å æ°çæ°æ®æ¶ï¼æä»¬éè¦åç¬ä¸ºæ¯ä¸ªæ°æ°æ®åå¥æè½½ç¹ãå°äºæ°æ®éè¾¾å°çº¦ 100 ä¸ç©ä½çº§å«æ¶ï¼æä»¬å·²ç»æ æ³ç»§ç»­ç»´æè¿ç§æ¹æ¡ï¼å æ­¤å¨æ©æé¶æ®µï¼æä»¬å°±æ¾å¼äºè¿ä¸æ¹æ¡ã</p>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2544292/202601/2544292-20260107165442879-1081964325.png" class="lazyload"></p>
<h3 id="ä¸­ææ¹æ¡glusterfs">ä¸­ææ¹æ¡ï¼GlusterFS</h3>
<p>GlusterFS æ¯ä¸ä¸ªç¸å¯¹æäºä¸æçéæ©ï¼å®è£éç½®ç®åï¼æ§è½ä¹è½å¾å°ä¸å®ä¿éï¼ä¸æ éååå¤ä¸ªæè½½ç¹ï¼åªéå¢å æ°èç¹å³å¯ãè½ç¶å¨åæä½¿ç¨æ¶ï¼GlusterFS å¤§å¤§åè½»äºæä»¬çå·¥ä½éï¼ä½æä»¬ä¹åç°å®ççæç³»ç»å­å¨ä¸äºé®é¢ã</p>
<p>é¦åï¼GlusterFS è®¸å¤æ§è¡èæ¬ååè½éè¦æå¨ç¼åå®æ¶ä»»å¡ãç¹å«æ¯å¨æ·»å æ°å­å¨æ¶ï¼å®è¿ä¼æä¸äºé¢å¤è¦æ±ï¼ä¾å¦éè¦æç¹å®åæ°å¢å èç¹ãæ­¤å¤ï¼ååéãæ°æ®åæ­¥ç­æä½çæ¯æä¹ç¸å¯¹è¾å¼±ï¼å¯¼è´æä»¬å¨ä½¿ç¨è¿ç¨ä¸­é¢ç¹æ¥éææ¡£ï¼ä¸è®¸å¤æä½å¹¶ä¸ç¨³å®ãä¾å¦ï¼ä½¿ç¨ FIO ç­å·¥å·è¿è¡æµéæ¶ï¼ç»æå¹¶ä¸æ»æ¯å¯é ã</p>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2544292/202601/2544292-20260107165450225-1950099472.png" class="lazyload"></p>
<p><strong>æ´ä¸ºä¸¥éçé®é¢æ¯ï¼å½å­å¨çå°æä»¶æ°éè¾¾å°ä¸å®è§æ¨¡æ¶ï¼GlusterFS çæ§è½ä¼æ¥å§ä¸é</strong>ãä¸¾ä¸ªä¾å­ï¼ä¸ä¸ªæ¨¡åå¯è½ä¼çæ 100 å¼ å¾çï¼è¥æ 1000 ä¸ä¸ªæ¨¡åï¼å°±ä¼äº§ç 10 äº¿å¼ å¾çãGlusterFS å¨åæçå¯»ååå¾æä¸ºå°é¾ï¼å°¤å¶æ¯å°æä»¶è¿å¤æ¶ï¼æ§è½ä¼æ¾èä¸éï¼å¯¼è´ç³»ç»å´©æºã</p>
<h3 id="æç»éåcephfs-vs-juicefs">æç»éåï¼CephFS vs JuiceFS</h3>
<p>éçå­å¨éæ±çå¢å ï¼æä»¬å³å®è½¬åå¯æç»­æ§æ´å¥½çæ¹æ¡ãå¨è¯ä¼°äºå¤ç§æ¹æ¡åï¼æä»¬ä¸»è¦å¯¹æ¯äº CephFS å JuiceFSãè½ç¶ Ceph è¢«å¹¿æ³ä½¿ç¨ï¼ä½éè¿èªå·±çå®è·µåå¯¹æ¯ææ¡£ï¼æä»¬åç° Ceph çè¿ç»´åç®¡çææ¬éå¸¸é«ï¼å°¤å¶å¯¹äºæä»¬è¿æ ·çå°å¢éæ¥è¯´ï¼å¤çè¿äºå¤æçè¿ç»´ä»»å¡æ¾å¾å°¤ä¸ºå°é¾ã</p>
<p>JuiceFS æä¸¤ä¸ªåçèªå¸¦çç¹æ§éå¸¸ç¬¦åæä»¬çéæ±ã<strong>é¦åæ¯å®¢æ·ç«¯æ°æ®ç¼å­åè½</strong>ãå¯¹äºæä»¬çæ¨¡åè®­ç»éç¾¤ï¼éå¸¸ä¼éå¤é«æ§è½ç NVMe å­å¨ãå¦æè½å¤ååå©ç¨å®¢æ·ç«¯çç¼å­ï¼ä¾¿è½æ¾èå éæ¨¡åè®­ç»ï¼å¹¶åå°å¯¹ JuiceFS å­å¨çååã</p>
<p><strong>å¶æ¬¡ï¼JuiceFS å¯¹ S3 çå¼å®¹æ§å¯¹æä»¬ä¹è³å³éè¦</strong>ãç±äºæä»¬åºäºå­å¨å¼åäºä¸äºå¯è§åå¹³å°ç¨äºæ°æ®æ æ³¨ãæ´çåç»è®¡ï¼S3 å¼å®¹æ§ä½¿å¾æä»¬è½å¤å¿«éè¿è¡ç½é¡µå¼åï¼æ¯æå¯è§ååæ°æ®ç»è®¡æä½ç­åè½ã</p>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2544292/202601/2544292-20260107165457941-709264004.png" class="lazyload"></p>
<h2 id="03-åºäº-juicefs-çå­å¨å¹³å°å®è·µ">03 åºäº JuiceFS çå­å¨å¹³å°å®è·µ</h2>
<h3 id="åæ°æ®å¼æéæ©ä¸ææ">åæ°æ®å¼æéæ©ä¸ææ</h3>
<p>JuiceFS éç¨çæ¯åæ°æ®ä¸æ°æ®åç¦»çæ¶æï¼æå¤ç§åæ°æ®å¼æå¯ä¾éæ©ãæä»¬é¦åå¿«ééªè¯äº Redis å­å¨æ¹æ¡ï¼å®æ¹æä¾äºè¯¦ç»çææ¡£æ¯æãRedis çä¼å¿å¨äºå¶è½»éåï¼éç½®è¿ç¨éå¸¸åªéä¸å¤©æåå¤©æ¶é´ï¼æ°æ®è¿ç§»ä¹ç¸å¯¹é¡ºå©ã<strong>ç¶èï¼å½å°æä»¶æ°éè¶è¿ 1 äº¿æ¶ï¼Redis çéåº¦åæ§è½ä¼æ¾èä¸é</strong>ã</p>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2544292/202511/2544292-20251120152102093-1542563421.png" class="lazyload"></p>
<p>æ­£å¦ä¹åæå°çï¼æ¯ä¸ªæ¨¡åå¯è½ä¼æ¸²æåº 100 å¼ å¾çï¼åå ä¸å¶ä»æé¡¹æä»¶ï¼å¯¼è´å°æä»¶çæ°éæ¥å§å¢å ãè½ç¶æä»¬å¯ä»¥éè¿æåå°æä»¶æ¥åè½»é®é¢ï¼ä½ä¸æ¦æååè¿è¡ä¿®æ¹æå¯è§åæä½ï¼å¤ææ§å°±å¤§å¤§å¢å ãå æ­¤ï¼æä»¬å¸æè½å¤ä¿çåå§çå°å¾çæä»¶ï¼ä»¥ä¾¿åç»­å¤çã</p>
<p>éçæä»¶æ°éçå¢å ï¼å¾å¿«è¶åº Redis çå¤çè½åï¼æä»¬å³å®å°å­å¨ç³»ç»è¿ç§»å° TiKV å Kubernetes ç»åä¸ãTiKV ä¸ K8s çç»åè½å¤ä¸ºæä»¬æä¾æ´é«å¯ç¨çåæ°æ®å­å¨æ¹æ¡ãæ­¤å¤ï¼éè¿åºåæµè¯æä»¬åç°ï¼å°½ç®¡ TiKV çæ§è½ç¨éä¸ç­¹ï¼ä½å·®è·å¹¶ä¸æ¾èï¼ä¸ç¸è¾äº Redisï¼å®å¯¹å°æä»¶çæ¯ææ´å¥½ãæä»¬ä¹å¨è¯¢è¿ JuiceFS çå·¥ç¨å¸ï¼äºè§£å° Redis å¨éç¾¤æ¨¡å¼ä¸çæ©å±æ§è¾å·®ï¼äºæ¯æä»¬åå¤åæ¢å° TiKVã</p>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2544292/202601/2544292-20260107165513396-430453250.png" class="lazyload"></p>
<h3 id="ææ°æ¶æjuicefs--tikv--seaweedfs">ææ°æ¶æï¼JuiceFS + TiKV + SeaweedFS</h3>
<p>æä»¬ä½¿ç¨äº JuiceFS æ¥ç®¡çå¯¹è±¡å­å¨ãTiKV å K8s æ¥æ­å»ºåæ°æ®å­å¨ç³»ç»ãå¯¹è±¡å­å¨é¨åä½¿ç¨äº SeaweedFSï¼è¿ä½¿å¾æä»¬è½å¤å¿«éæ©å±å­å¨è§æ¨¡ï¼ä¸æ è®ºæ¯å°æ°æ®è¿æ¯å¤§æ°æ®ï¼è®¿é®éåº¦é½å¾å¿«ãæ­¤å¤ï¼æä»¬çå¯¹è±¡å­å¨åå¸å¨å¤ä¸ªå¹³å°ï¼åæ¬æ¬å°å­å¨ãé¿éäºå­å¨ä»¥åå½å¤ç R2 å Amazon å¯¹è±¡å­å¨ãéè¿ JuiceFSï¼æä»¬è½å¤å°è¿äºä¸åå­å¨ç³»ç»éæèµ·æ¥ï¼å¹¶æä¾ä¸ä¸ªç»ä¸çæ¥å£ã</p>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2544292/202601/2544292-20260107165521034-979608908.png" class="lazyload"></p>
<p>ä¸ºäºæ´å¥½å°ç®¡çç³»ç»èµæºï¼æä»¬å¨ K8s ä¸æ­å»ºäºèµæºçæ§å¹³å°ãå½åç³»ç»ç±å¤§çº¦ 60 å° Linux æºå¨åè¥å¹² Windows æºå¨ç»æï¼è´è´£æ¸²æåæ°æ®å¤çä»»å¡ãæä»¬å¯¹è¯»åç¨³å®æ§è¿è¡äºçæ§ï¼ç»ææ¾ç¤ºï¼å³ä½¿æ¯å¤å°å¼ææå¡å¨åæ¶è¿è¡è¯»åæä½ï¼æ´ä¸ªç³»ç»ç I/O æ§è½ä¾ç¶éå¸¸ç¨³å®ï¼åºæ¬è½å¤ååå©ç¨å¸¦å®½èµæºã</p>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2544292/202601/2544292-20260107165528257-1294865373.png" class="lazyload"></p>
<h3 id="å®è·µä¸­éå°çé®é¢">å®è·µä¸­éå°çé®é¢</h3>
<p>å¨ä¼åå­å¨æ¹æ¡çè¿ç¨ä¸­ï¼æä»¬æåå°è¯äº ECï¼çº å ç ï¼ å­å¨æ¹æ¡ï¼æ¨å¨åå°å­å¨éæ±å¹¶æåæçãç¶èï¼å¨å¤§è§æ¨¡æ°æ®è¿ç§»ä¸­ï¼EC å­å¨çè®¡ç®éåº¦è¾æ¢ï¼å¹¶ä¸å¨é«ååéåé¢ç¹æ°æ®ååçåºæ¯ä¸ï¼æ§è½è¡¨ç°ä¸ä½³ï¼å°¤å¶ä¸ SeaweedFS ç»åæ¶ï¼å­å¨æ§è½ç¶é¢ãåºäºè¿äºé®é¢ï¼æä»¬å³å®æ¾å¼ EC å­å¨ï¼è½¬èéç¨å¯æ¬å­å¨æ¹æ¡ã</p>
<p>æä»¬è®¾ç½®äºç¬ç«æå¡å¨å¹¶éç½®äºå®æ¶ä»»å¡ï¼ä»¥è¿è¡å¤§æ°æ®éçåæ°æ®å¤ä»½ãå¨ TiKV ä¸­ï¼æä»¬å®ç°äºåä½å¯æ¬æºå¶ï¼éç¨äºå¤ä¸ªå¯æ¬æ¹æ¡æ¥ç¡®ä¿æ°æ®çå®æ´æ§ãåæ¶ï¼å¨å¯¹è±¡å­å¨æ¹é¢ï¼æä»¬éç¨äºåå¯æ¬ç¼ç æ¥è¿ä¸æ­¥æé«æ°æ®å¯é æ§ãè½ç¶å¯æ¬å­å¨è½å¤ææä¿è¯æ°æ®åä½åé«å¯ç¨æ§ï¼ä½ç±äºå¤ç PB çº§æ°æ®åå¤§éå¢éæ°æ®ï¼å­å¨ææ¬ä¾ç¶è¾é«ãæªæ¥ï¼æä»¬å¯è½ä¼èèè¿ä¸æ­¥ä¼åå­å¨æ¹æ¡ï¼ä»¥éä½å­å¨ææ¬ã</p>
<p>å¦å¤ï¼æä»¬ä¹åç°å½ä½¿ç¨å¨éªå­æå¡å¨ + JuiceFS å¹¶æªå¸¦æ¥æ¾èçæ§è½æåãç¶é¢ä¸»è¦åºç°å¨ç½ç»å¸¦å®½åå»¶è¿ä¸ãå æ­¤ï¼æä»¬è®¡åå¨åæèèä½¿ç¨ InfiniBandï¼IBï¼è¿æ¥å­å¨æå¡å¨åè®­ç»æå¡å¨ï¼ä»¥æå¤§åèµæºå©ç¨æçã</p>
<h2 id="04-å°ç»">04 å°ç»</h2>
<p>å¨ä½¿ç¨ GlusterFS æ¶ï¼æä»¬æ¯å¤©æå¤åªè½å¤ç 20 ä¸ä¸ªæ¨¡åï¼<strong>èåæ¢å° JuiceFS åï¼å¤çè½åå¤§å¹æåï¼æ¥åæ°æ®å¤çè½åå¢å äº 2.5 åï¼å°æä»¶ååè½åä¹æ¾èæé«ï¼ç¹å«æ¯å¨å­å¨éè¾¾å° 70% åï¼ç³»ç»ä»è½ä¿æç¨³å®è¿è¡</strong>ãæ­¤å¤ï¼æ©å®¹ä¹éå¸¸ä¾¿æ·ï¼èä¹åçæ¶æï¼æ©å®¹è¿ç¨éå¸¸ç¹çï¼æä½èµ·æ¥æ¯è¾éº»ç¦ã</p>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2544292/202601/2544292-20260107165535903-504543751.png" class="lazyload"></p>
<p>æååæ»ç»ä¸ä¸ JuiceFS å¨ä¸ç»´çæä»»å¡ä¸­è¡¨ç°åºæ¥çä¼å¿ï¼</p>
<ul>
<li>
<p><strong>å°æä»¶æ§è½</strong>ï¼ å°æä»¶å¤çè½åæ¯ä¸ä¸ªå³é®ç¹ï¼JuiceFS ä¾ç¶æä¾äºä¸ä¸ªè¾å¥½çè§£å³æ¹æ¡ã</p>
</li>
<li>
<p><strong>è·¨å¹³å°ç¹æ§</strong>ï¼ è·¨å¹³å°æ¯æéå¸¸éè¦ãæä»¬åç°æäºæ°æ®åªè½å¨ Windows è½¯ä»¶ä¸­æå¼ï¼å æ­¤éè¦åæ¶å¨ Windows å Linux ç³»ç»ä¸å¤çç¸åçæ°æ®ï¼å¹¶å¨åä¸ä¸ªæè½½èç¹ä¸è¿è¡è¯»åãè¿ç§éæ±ä½¿å¾è·¨å¹³å°çç¹æ§å°¤ä¸ºå³é®ï¼JuiceFS çè®¾è®¡å¾å¥½å°è§£å³äºè¿ä¸é®é¢ã</p>
</li>
<li>
<p><strong>ä½è¿ç»´ææ¬</strong>ï¼ JuiceFS çè¿ç»´ææ¬æä½ãéç½®å®æåï¼åªéè¦è¿è¡ä¸äºç®åçæµè¯åèç¹çç®¡çï¼ä¾å¦ï¼ä¸¢å¼æäºèç¹å¹¶çæ§é²æ£æ§ï¼ãæä»¬å¨è¿ç§»æ°æ®æ¶è±è´¹äºå¤§çº¦åå¹´çæ¶é´ï¼å°ç®åä¸ºæ­¢å¹¶æªéå°å¤ªå¤§çé®é¢ã</p>
</li>
<li>
<p><strong>æ¬å°ç¼å­æºå¶</strong>ï¼ ä¹åï¼å¦ææ³ä½¿ç¨æ¬å°ç¼å­ï¼æä»¬éè¦æå¨å¨ä»£ç ä¸­å®ç°æ¬å°ç¼å­é»è¾ï¼ä½ JuiceFS æä¾äºéå¸¸æ¹ä¾¿çæ¬å°ç¼å­æºå¶ï¼éè¿è®¾ç½®æè½½åæ°æ¥ä¼åè®­ç»åºæ¯çæ§è½ã</p>
</li>
<li>
<p><strong>è¿ç§»ææ¬ä½</strong>ï¼ å°¤å¶æ¯å¨è¿ç§»å°æä»¶æ¶ï¼æä»¬åç°ä½¿ç¨ JuiceFS è¿è¡åæ°æ®åå¯¹è±¡å­å¨çè¿ç§»éå¸¸æ¹ä¾¿ï¼èçäºæä»¬å¤§éæ¶é´åç²¾åãç¸æ¯ä¹ä¸ï¼ä¹åä½¿ç¨å¶ä»å­å¨ç³»ç»è¿ç§»æ¶ï¼è¿ç¨éå¸¸çè¦ã</p>
</li>
</ul>
<p>ç»¼ä¸æè¿°ï¼JuiceFS å¨å¤§è§æ¨¡æ°æ®å¤çä¸­çè¡¨ç°éå¸¸åºè²ï¼æä¾äºé«æãç¨³å®çå­å¨è§£å³æ¹æ¡ãå®ä¸ä»ç®åäºå­å¨ç®¡çåæ©å®¹è¿ç¨ï¼è¿å¤§å¤§æåäºç³»ç»æ§è½ï¼è®©æä»¬è½å¤æ´å ä¸æ³¨äºæ ¸å¿ä»»å¡çæ¨è¿ã</p>
<p>æ­¤å¤ï¼å®æ¹æä¾ä¸äºå·¥å·ä¹éå¸¸ä¾¿æ·ï¼ä¾å¦æä»¬ä½¿ç¨ Sync å¨å¤çå°æä»¶è¿ç§»æ¶ï¼æçæé«ãå¨æ²¡æé¢å¤æ§è½ä¼åçæåµä¸ï¼æä»¬æåè¿ç§»äº 500TB çæ°æ®ï¼å¶ä¸­åå«å¤§éçå°æ°æ®åå¾çæä»¶ï¼è¿ç§»æ¶é´ä¸å° 5 å¤©ï¼ç»æè¶åºæä»¬çé¢æã</p>
<p>æä»¬å¸ææ¬æä¸­çä¸äºå®è·µç»éªï¼è½ä¸ºæ­£å¨é¢ä¸´ç±»ä¼¼é®é¢çå¼åèæä¾åèï¼å¦ææå¶ä»çé®æ¬¢è¿å å¥&nbsp;<a href="https://juicefs.com/zh-cn/" target="_blank" rel="noopener nofollow">JuiceFS ç¤¾åº</a>ä¸å¤§å®¶å±åäº¤æµã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-07 16:56">2026-01-07 16:55</span>&nbsp;
<a href="https://www.cnblogs.com/JuiceData">JuiceFS</a>&nbsp;
éè¯»(<span id="post_view_count">57</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19453125);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19453125', targetLink: 'https://www.cnblogs.com/JuiceData/p/19453125', title: '3D-AIGC å­å¨æ¶ææ¼è¿ï¼ä» NFSãGlusterFS å° JuiceFS' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ 51åçæº__LEDç¸å³ ]]></title>
    <link>https://www.cnblogs.com/WIRO/p/19452806</link>
    <guid>498bb5d1d929fab89310d7e4b1ce1ff7</guid>
    <description>
    <![CDATA[ 
		<h1 class="postTitle">
			<a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/WIRO/p/19452806" title="åå¸äº 2026-01-07 16:06">
    <span role="heading" aria-level="2">51åçæº__LEDç¸å³</span>
    

</a>

		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="51åçæº__ledç¸å³">51åçæº__LEDç¸å³</h1>
<h2 id="åçæºä»ç»">åçæºä»ç»</h2>
<p>åçæºï¼è±æMicro Controller Unitï¼ç®ç§°MCU<br>
åé¨éæäºCPUãRAMãROMãå®æ¶å¨ãä¸­æ­ç³»ç»ãéè®¯æ¥å£ç­ä¸ç³»åçµèçå¸¸ç¨ç¡¬ä»¶åè½<br>
åçæºçä»»å¡æ¯ä¿¡æ¯ééï¼ä¾é ä¼ æå¨ï¼ãå¤çï¼ä¾é CPUï¼åç¡¬ä»¶è®¾å¤ï¼ä¾å¦çµæºï¼LEDç­ï¼çæ§å¶<br>
åçæºè·è®¡ç®æºç¸æ¯ï¼åçæºç®æ¯ä¸ä¸ªè¢ççè®¡ç®æºï¼ä¸ä¸ªè¯çå°±è½ææå®æ´çè®¡ç®æºç³»ç»ãä½å¨æ§è½ä¸ï¼ä¸è®¡ç®æºç¸å·®çè¿ï¼ä½åçæºææ¬ä½ãä½ç§¯å°ãç»æç®åï¼å¨çæ´»åå·¥ä¸æ§å¶é¢åå¤§ææç¨<br>
åæ¶ï¼å­¦ä¹ ä½¿ç¨åçæºæ¯äºè§£è®¡ç®æºåçä¸ç»æçæä½³éæ©</p>
<h2 id="åçæºåºç¨">åçæºåºç¨</h2>
<p>åçæºçä½¿ç¨é¢åå·²ååå¹¿æ³ï¼å¦æºè½ä»ªè¡¨ãå®æ¶å·¥æ§ãéè®¯è®¾å¤ãå¯¼èªç³»ç»ãå®¶ç¨çµå¨ç­ãåç§äº§åä¸æ¦ç¨ä¸äºåçæºï¼å°±è½èµ·å°ä½¿äº§ååçº§æ¢ä»£çåæï¼å¸¸å¨äº§ååç§°åå ä»¥å½¢å®¹è¯âââæºè½åâï¼å¦æºè½åæ´è¡£æºç­ã</p>
<p><img src="https://img2024.cnblogs.com/blog/3732387/202601/3732387-20260107160519528-2082922721.png" alt="image-20260107113142288" loading="lazy"></p>
<h2 id="stc89c52åçæº">STC89C52åçæº</h2>
<p><img src="https://img2024.cnblogs.com/blog/3732387/202601/3732387-20260107160519123-1391531477.png" alt="image-20260107113244328" loading="lazy"></p>
<p><img src="https://img2024.cnblogs.com/blog/3732387/202601/3732387-20260107160519527-1511351430.png" alt="image-20260107113324739" loading="lazy"></p>
<p><img src="https://img2024.cnblogs.com/blog/3732387/202601/3732387-20260107160519188-402559776.png" alt="image-20260107113519962" loading="lazy"></p>
<p><img src="https://img2024.cnblogs.com/blog/3732387/202601/3732387-20260107160519297-1849899687.png" alt="image-20260107113540042" loading="lazy"></p>
<p><img src="https://img2024.cnblogs.com/blog/3732387/202601/3732387-20260107160519274-1889121421.png" alt="image-20260107113612706" loading="lazy"></p>
<h2 id="å¼åæ¿åçå¾åå¤ä½åè·¯">å¼åæ¿åçå¾åå¤ä½åè·¯</h2>
<p><img src="https://img2024.cnblogs.com/blog/3732387/202601/3732387-20260107160519312-2037859992.png" alt="image-20260107113715018" loading="lazy"></p>
<p><img src="https://img2024.cnblogs.com/blog/3732387/202601/3732387-20260107160519369-1523164322.png" alt="image-20260107114043371" loading="lazy"></p>
<p><img src="https://img2024.cnblogs.com/blog/3732387/202601/3732387-20260107160519480-912853277.png" alt="image-20260107114127756" loading="lazy"></p>
<h1 id="åå»ºå·¥ç¨å¹¶å®ç°ledæ§å¶">åå»ºå·¥ç¨å¹¶å®ç°LEDæ§å¶</h1>
<h2 id="1ç¹äº®ledç¯">1ï¼ç¹äº®LEDç¯</h2>
<p><img src="https://img2024.cnblogs.com/blog/3732387/202601/3732387-20260107160519089-1326428079.png" alt="image-20260107115032547" loading="lazy"></p>
<p>è§å¯åçå¾ï¼LEDç¯ä½çµå¹³ç¹äº®ï¼ä¸é¢å¼å§ç¼åä»£ç ï¼</p>
<pre><code class="language-c">#include &lt;REGX52.H&gt;

void main()
{
	P2 = 0;
}

// ç°è±¡:ææLEDç¯åè¢«ç¹äº®
</code></pre>
<h2 id="2å®ç°led_1ç¯éªç">2ï¼å®ç°LED_1ç¯éªç</h2>
<p><strong>å»¶æ¶æ¹æ³ä¸å®ç°ï¼</strong></p>
<p>éè¿åçæºé©±å¨å¤å´æ¾ç¤ºçµè·¯ï¼ä¸ºäºè½å¤è®©äººç¼è¯å«å°ææ¾ç¤ºåå®¹çååï¼éè¦ä¿è¯ææ¾ç¤ºçåå®¹ææåçãå¨åçæºä¸­ï¼å®ç°è¿ä¸æææä¸¤ç§æ¹å¼ï¼ä¸ç§æ¯éè¿Cè¯­è¨ç¼åä¸æ®µå»¶æ¶ææçç¨åºæèå­ç¨åºï¼å®ç°è¯¥ç®çãå¦ä¸ç§æ¯è°ç¨åçæºèªå¸¦çå®å¼/è®¡æ°å¨ï¼è¿éææ¶ä½¿ç¨ç¬¬ä¸ç§æ¹å¼ã</p>
<p>ä½¿ç¨åçæºç§å½è½¯ä»¶AiCube-ISP-v6.96Aï¼çæä¸æ®µ500msçå»¶æ¶å½æ°ã</p>
<pre><code class="language-c">// å»¶æ¶500ms
void Delay500ms(void)	//@11.0592MHz
{
	unsigned char data i, j, k;

	_nop_();
	i = 4;
	j = 129;
	k = 119;
	do
	{
		do
		{
			while (--k);
		} while (--j);
	} while (--i);
}
</code></pre>
<p><img src="https://img2024.cnblogs.com/blog/3732387/202601/3732387-20260107160519161-1654264043.png" alt="image-20260107120433086" loading="lazy"></p>
<pre><code class="language-c">#include &lt;REGX52.H&gt;
#include &lt;INTRINS.H&gt;  // è§£å³ _nop_ æ¥é

// å»¶æ¶500ms
void Delay500ms(void)	//@11.0592MHz
{
	unsigned char data i, j, k;

	_nop_();
	i = 4;
	j = 129;
	k = 119;
	do
	{
		do
		{
			while (--k);
		} while (--j);
	} while (--i);
}

void main()
{
	while(1)
	{	
		P2 = 0xFE;     // 1111 1110
		Delay500ms();  // å»¶æ¶0.5s
		P2 = 0xFF;     // 1111 1111
		Delay500ms();  // å»¶æ¶0.5s
	}
}

// ç°è±¡: LED_1 éªçï¼å¶ä»LEDç¯ä¸äº®
</code></pre>
<h2 id="3å®ç°ledæµæ°´ç¯">3ï¼å®ç°LEDæµæ°´ç¯</h2>
<h3 id="ç¬¬ä¸ç§æ¹å¼ä½¿ç¨æ°ç»å®ç°æµæ°´ç¯ææ"><strong>ç¬¬ä¸ç§æ¹å¼ï¼ä½¿ç¨æ°ç»å®ç°æµæ°´ç¯ææ</strong></h3>
<pre><code class="language-c">#include &lt;REGX52.H&gt;
#include &lt;INTRINS.H&gt;  // è§£å³ _nop_ æ¥é


// å»¶æ¶500ms
void Delay500ms(void)	//@11.0592MHz
{
	unsigned char data i, j, k;

	_nop_();
	i = 4;
	j = 129;
	k = 119;
	do
	{
		do
		{
			while (--k);
		} while (--j);
	} while (--i);
}

// å®ä¹æµæ°´ç¯æ°ç»
unsigned char LedCode[] = {0xFE,0xFD,0xFB,0xF7,0Xef,0xDF,0xBF,0x7F};

void main()
{
	unsigned char i;
	while(1)
	{	
		for(i = 0;i &lt; 8;i ++)
		{
			P2 = LedCode[i];
			Delay500ms();
		}
	}
}

// ç°è±¡ï¼LEDç¯ä»ä½å°é«ä¾æ¬¡ç¹äº®

//éå åå®¹ï¼
//0xFE  1111 1110
//0xFD  1111 1101
//0xFB  1111 1011
//0xF7  1111 0111
//0Xef  1110 1111
//0xDF  1101 1111
//0xBF  1011 1111
//0x7F  0111 1111
</code></pre>
<h3 id="ç¬¬äºç§æ¹å¼å·¦å³ç§»è¿ç®ç¬¦å®ç°"><strong>ç¬¬äºç§æ¹å¼ï¼å·¦å³ç§»è¿ç®ç¬¦å®ç°</strong></h3>
<pre><code class="language-c">#include &lt;REGX52.H&gt;
#include &lt;INTRINS.H&gt;  // è§£å³ _nop_ æ¥é


// å»¶æ¶500ms
void Delay500ms(void)	//@11.0592MHz
{
	unsigned char data i, j, k;

	_nop_();
	i = 4;
	j = 129;
	k = 119;
	do
	{
		do
		{
			while (--k);
		} while (--j);
	} while (--i);
}


void main() {
    unsigned char Led = 0x01; // 0000 0001
    
    while(1) {
        P2 = ~Led;      // ååï¼è¾åºå°P2ç«¯å£
        Delay500ms();   // å»¶æ¶500ms
        
        // ä½¿ç¨å·¦ç§»è¿ç®ç¬¦
        Led = Led &lt;&lt; 1;
        
        // å¦æç§»å°æå³è¾¹ï¼éæ°ä»æå·¦è¾¹å¼å§
        if(Led == 0x00) {
            Led = 0x01;
        }
    }
}

// ç°è±¡ï¼LEDç¯ä»ä½å°é«ä¾æ¬¡ç¹äº®
</code></pre>
<h3 id="ç¬¬ä¸ç§æ¹å¼å¾ªç¯å·¦å³ç§»å½æ°çè°ç¨"><strong>ç¬¬ä¸ç§æ¹å¼ï¼å¾ªç¯å·¦å³ç§»å½æ°çè°ç¨</strong></h3>
<h3 id="1-cror---å¾ªç¯å³ç§»å½æ°">1. <strong><em>cror</em>() - å¾ªç¯å³ç§»å½æ°</strong></h3>
<p><strong>å¤´æä»¶ï¼</strong> <code>#include &lt;intrins.h&gt;</code><br>
<strong>ååï¼</strong> <code>unsigned char _cror_(unsigned char val, unsigned char n);</code></p>
<p><strong>åè½ï¼</strong> å° 8 ä½æ°æ®å¾ªç¯å³ç§» n ä½ï¼ç§»åºçä½ä»å·¦è¾¹è¡¥å¥</p>
<p><strong>ç¤ºä¾ï¼</strong></p>
<pre><code class="language-c">unsigned char data = 0x81;  // äºè¿å¶ï¼10000001
data = _cror_(data, 1);     // ç»æï¼0xC0 (11000000)
// åï¼10000001 â å³ç§»1ä½ â 11000000
</code></pre>
<p><img src="https://img2024.cnblogs.com/blog/3732387/202601/3732387-20260107160519436-108965670.png" alt="image-20260107153044727" loading="lazy"></p>
<h3 id="2-crol---å¾ªç¯å·¦ç§»å½æ°">2. <strong><em>crol</em>() - å¾ªç¯å·¦ç§»å½æ°</strong></h3>
<p><strong>å¤´æä»¶ï¼</strong> <code>#include &lt;intrins.h&gt;</code><br>
<strong>ååï¼</strong> <code>unsigned char _crol_(unsigned char val, unsigned char n);</code></p>
<p><strong>åè½ï¼</strong> å° 8 ä½æ°æ®å¾ªç¯å·¦ç§» n ä½ï¼ç§»åºçä½ä»å³è¾¹è¡¥å¥</p>
<p><strong>ç¤ºä¾ï¼</strong></p>
<pre><code class="language-c">unsigned char data = 0x81;  // äºè¿å¶ï¼10000001
data = _crol_(data, 1);     // ç»æï¼0x03 (00000011)
// åï¼10000001 â å·¦ç§»1ä½ â 00000011
</code></pre>
<p><img src="https://img2024.cnblogs.com/blog/3732387/202601/3732387-20260107160519302-1190082079.png" alt="image-20260107153844168" loading="lazy"></p>
<p>æµæ°´ç¯åºç¨ç¤ºä¾ï¼</p>
<pre><code class="language-c">#include &lt;REGX52.H&gt;
#include &lt;INTRINS.H&gt;  // è§£å³ _nop_ æ¥é


// å»¶æ¶500ms
void Delay500ms(void)	//@11.0592MHz
{
	unsigned char data i, j, k;

	_nop_();
	i = 4;
	j = 129;
	k = 119;
	do
	{
		do
		{
			while (--k);
		} while (--j);
	} while (--i);
}


void main() 
	{
		unsigned char aa;
		aa = 0xFE;  // 1111 1110
		
		while(1)
		{
			P2 = aa;
			Delay500ms();
			aa = _crol_(aa,1);  // å¾ªç¯å·¦ç§»å½æ°
		}

	}

// ç°è±¡ï¼LEDç¯ä»ä½å°é«ä¾æ¬¡ç¹äº®
</code></pre>
<p><strong>æ³¨æï¼</strong> è¿ä¸¤ä¸ªå½æ°æ¯ C51 ç¼è¯å¨ç¹æï¼ä»éç¨äº 51 åçæºå¼åã</p>
<h2 id="ç»¼åç»ä¹ ååæµæ°´ç¯">ç»¼åç»ä¹ ï¼ååæµæ°´ç¯</h2>
<pre><code class="language-c">#include &lt;REGX52.H&gt;
#include &lt;INTRINS.H&gt;  // åå«ç§»ä½å½æ°å¤´æä»¶

// å»¶æ¶500ms
void Delay500ms(void)	//@11.0592MHz
{
	unsigned char data i, j, k;

	_nop_();
	i = 4;
	j = 129;
	k = 119;
	do
	{
		do
		{
			while (--k);
		} while (--j);
	} while (--i);
}

void main() 
{
    unsigned char aa;
    unsigned char direction = 0;  // 0:å·¦ç§», 1:å³ç§»
    unsigned char counter = 0;    // è®¡æ°å·¦ç§»/å³ç§»çæ¬¡æ°
    
    aa = 0xFE;  // 1111 1110ï¼ç¬¬ä¸ä¸ªç¯äº®
    
    while(1)
    {
        P2 = aa;
        Delay500ms();
        
        // å·¦ç§»8æ¬¡åæ¹ä¸ºå³ç§»
        if(direction == 0)
        {
            aa = _crol_(aa, 1);  // å¾ªç¯å·¦ç§»
            counter++;
            
            if(counter &gt;= 7)  // å·¦ç§»7æ¬¡åï¼å±8ä¸ªç¶æï¼
            {
                direction = 1;  // æ¹ä¸ºå³ç§»æ¹å
                counter = 0;    // è®¡æ°å¨æ¸é¶
            }
        }
        // å³ç§»8æ¬¡åæ¹ä¸ºå·¦ç§»
        else
        {
            aa = _cror_(aa, 1);  // å¾ªç¯å³ç§»
            counter++;
            
            if(counter &gt;= 7)  // å³ç§»7æ¬¡åï¼å±8ä¸ªç¶æï¼
            {
                direction = 0;  // æ¹ä¸ºå·¦ç§»æ¹å
                counter = 0;    // è®¡æ°å¨æ¸é¶
            }
        }
    }
}

// ç°è±¡ï¼LEDå·¦å³ä¾æ¬¡ç¹äº®
</code></pre>

</div>
<div class="clear"></div>

		</div>
		<div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-07 16:07">2026-01-07 16:06</span>&nbsp;
<a href="https://www.cnblogs.com/WIRO">Q&amp;25</a>&nbsp;
éè¯»(<span id="post_view_count">132</span>)&nbsp;
è¯è®º(<span id="post_comment_count">1</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19452806);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19452806', targetLink: 'https://www.cnblogs.com/WIRO/p/19452806', title: '51åçæº__LEDç¸å³' })">ä¸¾æ¥</a>
</div>
	 ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ XAML Studio å·²æ­£å¼å¼æº ]]></title>
    <link>https://www.cnblogs.com/shanyou/p/19452660</link>
    <guid>9ae3abb7b33781bc8e23fc110503bdf7</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/shanyou/p/19452660" title="åå¸äº 2026-01-07 15:47">
    <span role="heading" aria-level="2">XAML Studio å·²æ­£å¼å¼æº</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p>å¾®è½¯å¼åèåå®¢äº 2026 å¹´ 1 æ 6 æ¥æ­£å¼å®£å¸(<a title="https://devblogs.microsoft.com/ifdef-windows/xaml-studio-is-now-open-sourced/" href="https://devblogs.microsoft.com/ifdef-windows/xaml-studio-is-now-open-sourced/" rel="noopener nofollow">https://devblogs.microsoft.com/ifdef-windows/xaml-studio-is-now-open-sourced/</a>)ï¼<strong>XAML Studio å·²æ­£å¼å¼æº</strong>ï¼å¹¶æä¸ºäº .NET åºéä¼ï¼.NET Foundationï¼æä¸çä¸ä¸ªç§å­é¡¹ç®ã</p>
<h5><span style="font-family: &quot;å¾®è½¯éé» Light&quot;; font-size: medium">1. ä»ä¹æ¯ XAML Studioï¼</span></h5>
<p><span style="font-family: &quot;å¾®è½¯éé» Light&quot;; font-size: medium">XAML Studio æ¯ä¸æ¬¾ä¸ä¸º <strong>WinUI</strong> å¼åèæé çè¾å©å·¥å·ï¼æåæ¯ Microsoft Garageï¼å¾®è½¯è½¦åºï¼çä¸ä¸ªé¡¹ç®ãå®åè®¸å¼åèå¨ä¸åå»ºå®æ´å·¥ç¨çæåµä¸ï¼å¿«éè¿è¡ XAML çé¢ååè®¾è®¡åäº¤äºè°è¯ã</span></p>
<p><span style="font-family: &quot;å¾®è½¯éé» Light&quot;; font-size: medium">å¶æ ¸å¿åè½åæ¬ï¼</span></p>
<ul>
<li>
<p><span style="font-family: &quot;å¾®è½¯éé» Light&quot;"><span style="font-size: medium"><strong>å®æ¶ç¼è¾ä¸é¢è§</strong>ï¼å³æ¶æ¥ç XAML ä»£ç çææã</span></span></p>
</li>
<li>
<p><span style="font-family: &quot;å¾®è½¯éé» Light&quot;"><span style="font-size: medium"><strong>ç»å®è°è¯å¨ (Binding Debugger)</strong>ï¼ç´è§ææ¥æ°æ®ç»å®é®é¢ã</span></span></p>
</li>
<li>
<p><span style="font-family: &quot;å¾®è½¯éé» Light&quot;"><span style="font-size: medium"><strong>æ°æ®ä¸ä¸æç¼è¾å¨</strong>ï¼å¿«éæ¨¡ææµè¯æ°æ®ã</span></span></p>
</li>
<li>
<p><span style="font-family: &quot;å¾®è½¯éé» Light&quot;"><span style="font-size: medium"><strong>IntelliSense ä¸ææ¡£å·¥å·ç®±</strong>ï¼æä¾ä»£ç è¡¥å¨åæ§ä»¶æ¥éã</span></span></p>
</li>
</ul>
<h5><span style="font-family: &quot;å¾®è½¯éé» Light&quot;; font-size: medium">2. å¼æºèæ¯ä¸ç°ç¶</span></h5>
<ul>
<li>
<p><span style="font-family: &quot;å¾®è½¯éé» Light&quot;"><span style="font-size: medium"><strong>é¡¹ç®åç¨</strong>ï¼è¯¥é¡¹ç®å§äº 8 å¹´åï¼ä¸ç´è®¡åå¼æºï¼å¦ä»ç»äºå®ç°ã</span></span></p>
</li>
<li>
<p><span style="font-family: &quot;å¾®è½¯éé» Light&quot;"><span style="font-size: medium"><strong>V2 çæ¬</strong>ï¼ç®åå¼æºçæ¯æ­£å¨å¼åä¸­ç <strong>XAML Studio v2</strong>ãç¸æ¯ååºéç 1.1 çæ¬ï¼v2 éç¨äºå¨æ°ççé¢ï¼å¹¶éå¯¹ WinUI 3 è¿è¡äºä¼åã</span></span></p>
</li>
<li>
<p><span style="font-family: &quot;å¾®è½¯éé» Light&quot;"><span style="font-size: medium"><strong>ç¤¾åºè´¡ç®</strong>ï¼XAML Studio çè®¸å¤æ ¸å¿ç»ä»¶æ©å·²åé¦ç»ç¤¾åºï¼ä¾å¦ <strong>Windows Community Toolkit (WCT)</strong> ä¸­ç <code>SwitchPresenter</code>ã<code>Sizer</code> æ§ä»¶ï¼å¦ <code>GridSplitter</code> çæ¹è¿çï¼ä»¥åå®éªæ§ç <strong>Adornersï¼è£é¥°å¨ï¼</strong> åè½ï¼æåé½æºäº XAML Studioã</span></span></p>
</li>
</ul>
<h5><span style="font-family: &quot;å¾®è½¯éé» Light&quot;; font-size: medium">3. æªæ¥è®¡å</span></h5>
<ul>
<li>
<p><span style="font-family: &quot;å¾®è½¯éé» Light&quot;"><span style="font-size: medium"><strong>å¼ååæ¯</strong>ï¼å¼åèç®åå¯ä»¥ä» GitHub ç <code>dev</code> åæ¯è·å v2 çæ¬çæºä»£ç å¹¶èªè¡æå»ºã</span></span></p>
</li>
<li>
<p><span style="font-family: &quot;å¾®è½¯éé» Light&quot;"><span style="font-size: medium"><strong>æ­£å¼åå¸</strong>ï¼å¼åå¢éè®¡åå¨ 2026 å¹´æäºæ¶åå¨ Microsoft Store åå¸ v2 çæ­£å¼ç¨³å®çã</span></span></p>
</li>
<li>
<p><span style="font-family: &quot;å¾®è½¯éé» Light&quot;"><span style="font-size: medium"><strong>åä¸æ¹å¼</strong>ï¼å¾®è½¯é¼å±å¼åèéè¿ GitHub æäº¤åé¦ãå»ºè®®æç´æ¥è´¡ç®ä»£ç ã</span></span></p>
</li>
</ul>
<p><strong><span style="font-family: &quot;å¾®è½¯éé» Light&quot;; font-size: medium">ç¸å³èµæºï¼</span></strong></p>
<ul>
<li>
<p><span style="font-family: &quot;å¾®è½¯éé» Light&quot;"><span style="font-size: medium"><strong>GitHub ä»åº</strong>ï¼</span></span><a href="https://github.com/dotnet/XAMLStudio" rel="noopener nofollow"><span style="font-family: &quot;å¾®è½¯éé» Light&quot;; font-size: medium">dotnet/XamlStudio</span></a>&nbsp;<span style="font-family: &quot;å¾®è½¯éé» Light&quot;; font-size: medium">ã</span></p>
</li>
<li>
<p><span style="font-family: &quot;å¾®è½¯éé» Light&quot;"><span style="font-size: medium"><strong>å®æ¹åå®¢å¨æ</strong>ï¼</span></span><a href="https://devblogs.microsoft.com/ifdef-windows/xaml-studio-is-now-open-sourced/" rel="noopener nofollow"><span style="font-family: &quot;å¾®è½¯éé» Light&quot;; font-size: medium">XAML Studio is now Open Sourced</span></a></p>
</li>
</ul>
<p>è¿å¯¹ WinUI å¼åèæ¥è¯´æ¯ä¸ä¸ªéè¦çéç¨ç¢ï¼ä¸ä»å·¥å·æ¬èº«åå¾éæãå¯å®å¶ï¼ä¹é¢ç¤ºç WinUI çæç³»ç»çè¿ä¸æ­¥å¼æ¾ã</p>
</div>
<div id="MySignature" role="contentinfo">
    <p>æ¬¢è¿å¤§å®¶æ«æä¸é¢äºç»´ç æä¸ºæçå®¢æ·ï¼æ¶ä½ ä¸äº</p>
<img src="https://images.cnblogs.com/cnblogs_com/shanyou/57459/o_220125090408_%E9%82%80%E8%AF%B7%E4%BA%8C%E7%BB%B4%E7%A0%81-258px.jpeg" width="170">
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.6833333333333333" data-date-updated="2026-01-08 08:11">2026-01-07 15:47</span>&nbsp;
<a href="https://www.cnblogs.com/shanyou">å¼ åå</a>&nbsp;
éè¯»(<span id="post_view_count">681</span>)&nbsp;
è¯è®º(<span id="post_comment_count">4</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19452660);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19452660', targetLink: 'https://www.cnblogs.com/shanyou/p/19452660', title: 'XAML Studio å·²æ­£å¼å¼æº' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ãç»æè¸©åæåãWindows 10ä¸MsQuicè¯ä¹¦å è½½å¤±è´¥ï¼åä¸å¨è¯ä¹¦ï¼èå¨Schannelï¼ ]]></title>
    <link>https://www.cnblogs.com/haibindev/p/19452652</link>
    <guid>83a97c02bb766798acb4bc490764356b</guid>
    <description>
    <![CDATA[ 
	<div class="postTitle">
		<h1><a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/haibindev/p/19452652" title="åå¸äº 2026-01-07 15:45">
    <span role="heading" aria-level="2">ãç»æè¸©åæåãWindows 10ä¸MsQuicè¯ä¹¦å è½½å¤±è´¥ï¼åä¸å¨è¯ä¹¦ï¼èå¨Schannelï¼</span>
    

</a>
</h1>
	</div>
	    <div id="cnblogs_post_description" style="display: none">
        
        æè¦ï¼å¦æä½ å¨Windows 10ä¸è¢« ConfigurationLoadCredential failed, 0x80070490 æ E_NOINTERFACE éè¯¯æç£¨è¯ä¹ï¼è¯éææè¯ä¹¦æ¹æ¡ä»æ è§£ï¼é£ä¹æ­åï¼æ¬æå°±æ¯ä½ çç»ç¹ç«ãçæ­£åå æå¯è½æ¯ï¼æ°çMsQuicå·²é»è®¤æ¾å¼å¯¹Windows 10ä¸Schannelçæ¯æãæ éåæè¾è¯ä¹¦ï¼åæ¢è³OpenSSLåç«¯å³å¯ä¸é®è§£å³ã
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="ç»æè¸©åæåwindows-10ä¸msquicè¯ä¹¦å è½½å¤±è´¥åä¸å¨è¯ä¹¦èå¨schannel">ãç»æè¸©åæåãWindows 10ä¸MsQuicè¯ä¹¦å è½½å¤±è´¥ï¼åä¸å¨è¯ä¹¦ï¼èå¨Schannelï¼</h1>
<blockquote>
<p><strong>æè¦</strong>ï¼å¦æä½ å¨Windows 10ä¸è¢« <code>ConfigurationLoadCredential failed, 0x80070490</code> æ <code>E_NOINTERFACE</code> éè¯¯æç£¨è¯ä¹ï¼è¯éææè¯ä¹¦æ¹æ¡ä»æ è§£ï¼é£ä¹æ­åï¼æ¬æå°±æ¯ä½ çç»ç¹ç«ãçæ­£åå æå¯è½æ¯ï¼<strong>æ°çMsQuicå·²é»è®¤æ¾å¼å¯¹Windows 10ä¸Schannelçæ¯æ</strong>ãæ éåæè¾è¯ä¹¦ï¼åæ¢è³OpenSSLåç«¯å³å¯ä¸é®è§£å³ã</p>
</blockquote>
<h3 id="ä¸é®é¢ç°è±¡ä¸ä¸ªæå·è¿·ææ§çéè¯¯"><strong>ä¸ãé®é¢ç°è±¡ï¼ä¸ä¸ªæå·è¿·ææ§çéè¯¯</strong></h3>
<p>ç¯å¢ï¼Windows 10 22H2ï¼ä½¿ç¨GitHubä¸»çº¿çæ¬MsQuicç¼è¯QUIC Serverã</p>
<p>å¨è°ç¨ <code>MsQuic-&gt;ConfigurationLoadCredential(...)</code> æ¶ï¼ç¨³å®å¤±è´¥ï¼è¿åéè¯¯ï¼</p>
<pre><code>ConfigurationLoadCredential failed, 0x80070490
</code></pre>
<p>æèï¼</p>
<pre><code>E_NOINTERFACE
</code></pre>
<p><strong>ææè¿¹è±¡é½æåè¯ä¹¦é®é¢</strong>ï¼äºæ¯å¼å§äºæ¼«é¿çâè¸©åâä¹æã</p>
<h3 id="äºææ¥å¼¯è·¯æè¢«è¯ä¹¦é®é¢å¸¦åçå¨è¿ç¨"><strong>äºãææ¥å¼¯è·¯ï¼æè¢«âè¯ä¹¦é®é¢âå¸¦åçå¨è¿ç¨</strong></h3>
<p>ä»¥ä¸æ¯æçææ¥æµæ°´è´¦ï¼å ä¹è¯éäºWindowsä¸ææè¯ä¹¦æ¹æ¡ï¼</p>
<ol>
<li>
<p><strong>è¯ä¹¦åå¸ï¼å®æ¹æ¨èï¼</strong></p>
<pre><code class="language-cpp">QUIC_CERTIFICATE_HASH CertHash{};
memcpy(CertHash.ShaHash, hashbuf_.data(), 20);
CredConfig.Type = QUIC_CREDENTIAL_TYPE_CERTIFICATE_HASH;
</code></pre>
<p><strong>ç»æ</strong>ï¼<code>HRESULT_FROM_WIN32(ERROR_NOT_FOUND)</code>ãç¡®è®¤è¯ä¹¦å¨æ¬å°è®¡ç®æºå­å¨ãæç§é¥ãéªè¯éè¿ï¼ä½å°±æ¯ä¸è¡ã</p>
</li>
<li>
<p><strong>åå¸å­å¨ï¼æ¾å¼æå®ä»åºï¼</strong></p>
<pre><code class="language-cpp">strcpy_s(CertHashStore.StoreName, "LocalMachine\\My");
CredConfig.Type = QUIC_CREDENTIAL_TYPE_CERTIFICATE_HASH_STORE;
</code></pre>
<p><strong>ç»æ</strong>ï¼<code>E_INVALIDARG</code>ã</p>
</li>
<li>
<p><strong>æçè¯ä¹¦çææ¹å¼</strong><br>
æçOpenSSLçæçè¯ä¹¦ä¸è¡ï¼æ¢ç¨PowerShellçæâçº¯æ­£âçCNGè¯ä¹¦ï¼</p>
<pre><code class="language-powershell">New-SelfSignedCertificate -Provider "Microsoft Software Key Storage Provider" ...
</code></pre>
<p><strong>ç»æ</strong>ï¼å¤±è´¥ä¾æ§ã</p>
</li>
<li>
<p><strong>ç»æå°è¯ï¼PFXæä»¶</strong></p>
<pre><code class="language-cpp">CredConfig.Type = QUIC_CREDENTIAL_TYPE_CERTIFICATE_FILE_PROTECTED;
</code></pre>
<p><strong>ç»æ</strong>ï¼çæç <code>E_NOINTERFACE</code>ã</p>
</li>
<li>
<p><strong>å³é®è½¬æç¹ï¼å®æ¹ç¤ºä¾ä¹æäº</strong><br>
å½æçäººçæ¶ï¼ç´æ¥æµè¯MsQuicèªå¸¦ç <code>quicsample.exe</code>ï¼</p>
<pre><code class="language-bash">quicsample.exe -server -cert_hash:&lt;your_thumbprint&gt;
</code></pre>
<p><strong>åæ ·å¤±è´¥ï¼</strong> è¿è¯æé®é¢ä¸æçä»£ç æ å³ï¼æ¯<strong>ç¯å¢æåºæ¬èº«çé®é¢</strong>ã</p>
</li>
</ol>
<h3 id="ä¸çç¸æ­é²ä¸æ¯è¯ä¹¦çéæ¯schannelæäºé¾å­"><strong>ä¸ãçç¸æ­é²ï¼ä¸æ¯è¯ä¹¦çéï¼æ¯Schannelæäºé¾å­</strong></h3>
<p>ææææ¥é½å¤±æåï¼æå°ç®åä»è¯ä¹¦ç§»å¼ï¼æç»éå®æ ¸å¿çç¾ï¼</p>
<blockquote>
<p><strong>å½åè¾æ°çæ¬çMsQuicï¼å¨Windows 10ç³»ç»ä¸ï¼å¶é»è®¤çSchannel TLSåç«¯å¯è½å·²æ æ³æ­£å¸¸å è½½æå¡å¨è¯ä¹¦ã</strong></p>
</blockquote>
<p>è¿æ¯ä¸ä¸ª<strong>å®æ¹ææ¡£æªæç¡®æ æ³¨ãä½å®éå­å¨çå¼å®¹æ§æ­ç¹</strong>ãéè¯¯ <code>0x80070490</code> (æ¾ä¸å°åç´ ) å <code>E_NOINTERFACE</code> æå·è¯¯å¯¼æ§ï¼è®©ä½ å¨è¯ä¹¦çè¿·å®«éæ éæè½¬ï¼èçæ­£çåºå£æ¯ï¼<strong>æ´æ¢TLSåç«¯</strong>ã</p>
<h3 id="åä¸è¡å½ä»¤è§£å³åæ¢å°opensslåç«¯"><strong>åãä¸è¡å½ä»¤è§£å³ï¼åæ¢å°OpenSSLåç«¯</strong></h3>
<p><strong>è§£å³æ¹æ¡ç®åå°ä»¤äººåæï¼</strong></p>
<ol>
<li>
<p><strong>ä½¿ç¨OpenSSLåç«¯éæ°ç¼è¯MsQuic</strong>ï¼</p>
<pre><code class="language-bash"># å¨MsQuicä»åºç®å½ä¸æ§è¡
.\scripts\build.ps1 -Config Debug -Arch x64 -Tls openssl
</code></pre>
</li>
<li>
<p><strong>ä½¿ç¨OpenSSLçæçè¯ä¹¦</strong>ï¼å¦PEMæPFXæ ¼å¼ï¼ã</p>
</li>
<li>
<p>åæ¬¡è¿è¡ä½ çç¨åºæ <code>quicsample</code>ï¼</p>
<pre><code class="language-bash">quicsample.exe -server -cert_file:server.pfx -key_file:key.pem
</code></pre>
<p><strong>â æå¡å¨é¡ºå©å¯å¨ï¼é®é¢è§£å³ã</strong></p>
</li>
</ol>
<h3 id="äºä¸ºä»ä¹ä¼æè¿ä¸ªåæ·±åº¦åæ"><strong>äºãä¸ºä»ä¹ä¼æè¿ä¸ªåï¼ï¼æ·±åº¦åæï¼</strong></h3>
<p>è¿ä¸ªé®é¢å¨ <strong>Windows 11 æ Windows Server 2022</strong> ä¸éå¸¸ä¸ä¼åºç°ï¼å ä¸ºå®ä»¬åç½®äºå®æ´çãæ¯æææ°QUICè§èçSchannelå®ç°ã</p>
<p>è <strong>Windows 10</strong>ï¼å°¤å¶æ¯æäºçæ¬ï¼çSchannelå¯¹MsQuicæ°çæ¬æéåè½çæ¯æå¯è½ä¸å®æ´æå­å¨ç¼ºé·ãMsQuicå¨æ´æ°è¿ç¨ä¸­ï¼å¯è½é»è®¤å¯ç¨äºæäºWindows 10ä¸Schannelæ æ³æ»¡è¶³çç¹æ§æAPIï¼å¯¼è´è¯ä¹¦å è½½è·¯å¾ä»æ ¹æºä¸å¤±è´¥ã</p>
<p><strong>å æ­¤ï¼è¿æ¬è´¨ä¸æ¯ä¸ä¸ªå¹³å°å¼å®¹æ§æ­æ¡£é®é¢ã</strong> å¯¹äºå¼åèèè¨ï¼è¡¨è±¡æ¯è¯ä¹¦éè¯¯ï¼æ ¹å æ¯ç³»ç»ç»ä»¶è½åäºå¼ååºçæ¼è¿ã</p>
<h3 id="å­æ»ç»ä¸å»ºè®®"><strong>å­ãæ»ç»ä¸å»ºè®®</strong></h3>
<table>
<thead>
<tr>
<th style="text-align: left">åºæ¯</th>
<th style="text-align: left">æ¨èå¨ä½</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left"><strong>å¨Windows 10ä¸å¼å/é¨ç½²MsQuic</strong></td>
<td style="text-align: left"><strong>ç´æ¥ä½¿ç¨OpenSSLåç«¯</strong>ï¼ä¸å³æ°¸é¸ã</td>
</tr>
<tr>
<td style="text-align: left">éå°<code>0x80070490</code>æ<code>E_NOINTERFACE</code>éè¯¯</td>
<td style="text-align: left">é¦è¦æç<strong>TLSåç«¯å¼å®¹æ§</strong>ï¼èéè¯ä¹¦æ¬èº«ã</td>
</tr>
<tr>
<td style="text-align: left">éè¦è·¨å¹³å°ï¼Windows/Linuxï¼ä¸è´æ§</td>
<td style="text-align: left">éæ©OpenSSLåç«¯æ´è½ä¿è¯è¡ä¸ºä¸è´ã</td>
</tr>
<tr>
<td style="text-align: left"><strong>ç®æ ç¯å¢ä¸ºWindows 11/Server 2022+</strong></td>
<td style="text-align: left">å¯æ¾å¿ä½¿ç¨é»è®¤Schannelï¼æ§è½æ´ä½³ã</td>
</tr>
</tbody>
</table>
<hr>
<p><strong>æå±æè</strong>ï¼å¯¹äºä»äº<strong>è§é¢æµä¼ è¾</strong>ï¼å¦åºäºQUICä¼åRTMPãHLSå»¶è¿ï¼çå¼åèæ¥è¯´ï¼çè§£åºå±ç½ç»åºçè¿äºå¹³å°ç»å¾®å·®å«è³å³éè¦ãä¸æ¬¡æåçåè®®åçº§ï¼å¾å¾ä»é¡ºå©ç¼è¯åé¨ç½²å¼å§ãå¸æè¿ç¯è¸©åè®°å½è½å©ä½ çéæ é»ã</p>
<p>ï¼æ¬æåºäºWindows 10 22H2å®¶åº­ä¸­æçãx64æ¶æãMsQuic GitHubä¸»çº¿çæ¬æµè¯éªè¯ï¼</p>
<p><img src="https://img2023.cnblogs.com/blog/254714/202307/254714-20230701143418754-1351786962.jpg" alt="" loading="lazy"></p>
<p><strong>åä½è¯·å WXï¼hbstream</strong><br>
<strong>åä½è¯·å ä½èhbstreamï¼<a href="http://haibindev.cnblogs.com" target="_blank">http://haibindev.cnblogs.com</a>ï¼ï¼è½¬è½½è¯·æ³¨æä½èååºå¤</strong></p>

</div>
<div class="clear"></div>

	<div class="postDesc">posted on 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-07 15:46">2026-01-07 15:45</span>&nbsp;
<a href="https://www.cnblogs.com/haibindev">haibindev</a>&nbsp;
éè¯»(<span id="post_view_count">46</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19452652);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19452652', targetLink: 'https://www.cnblogs.com/haibindev/p/19452652', title: 'ãç»æè¸©åæåãWindows 10ä¸MsQuicè¯ä¹¦å è½½å¤±è´¥ï¼åä¸å¨è¯ä¹¦ï¼èå¨Schannelï¼' })">ä¸¾æ¥</a>
</div>
 ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ NIVIDIAé«æ§è½è®¡ç®CUDAç¬è®°ï¼ä¸ï¼ cuFFTçç®ä»åå®ç°æ¡ä¾ ]]></title>
    <link>https://www.cnblogs.com/GeophysicsWorker/p/19452487</link>
    <guid>933ec07771c76b1720a8fb90d15b447b</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/GeophysicsWorker/p/19452487" title="åå¸äº 2026-01-07 15:21">
    <span role="heading" aria-level="2">NIVIDIAé«æ§è½è®¡ç®CUDAç¬è®°ï¼ä¸ï¼ cuFFTçç®ä»åå®ç°æ¡ä¾</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        cuFFTæ¯NVIDIAæä¾çGPUå éçFourieråæ¢FFTåºï¼è½æå¤§æåæ¶åFFTè®¡ç®çç§å­¦è®¡ç®ãä¿¡å·å¤çåæ·±åº¦å­¦ä¹ ç­ä»»å¡çéåº¦ãæ¬ç¬è®°å°±cufftè¿è¡ç®åä»ç»å¹¶ç»åºä¸ä¸ªä¸ç»´ä¿¡å·çfftåæ¢ç¤ºä¾
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="nividiaé«æ§è½è®¡ç®cudaç¬è®°ä¸-cufftçç®ä»åå®ç°æ¡ä¾">NIVIDIAé«æ§è½è®¡ç®CUDAç¬è®°ï¼ä¸ï¼ cuFFTçç®ä»åå®ç°æ¡ä¾</h1>
<h2 id="1-cufftåºçç®ä»introduction-of-cufft-libaray">1. cuFFTåºçç®ä»ï¼Introduction of cuFFT libarayï¼</h2>
<p>â      Fourieråæ¢æ¯æ°å­ä¿¡å·å¤çé¢åä¸ä¸ªå¾éè¦çæ°å­¦åæ¢ï¼å®ç¨æ¥å®ç°å°ä¿¡å·å®ç°å°ä¿¡å·ä»æ¶åå°é¢åçåæ¢ï¼å¨ç©çå­¦ãæ°è®ºãç»åæ°å­¦ãä¿¡å·å¤çãæ¦çãç»è®¡ãå¯ç å­¦ãå£°å­¦ãåå­¦ç­é¢åæå¹¿æ³çåºç¨ãç¦»æ£åéå¶åæ¢(Discrete Fourier Transformï¼DFT)æ¯è¿ç»­åéå¶åæ¢å¨ç¦»æ£ç³»ç»ä¸­çè¡¨ç¤ºå½¢å¼ï¼ç±äºDFTçè®¡ç®éå¾å¤§ï¼å æ­¤å¨å¾é¿ä¸æ®µæ¶é´åå¶åºç¨åå°äºå¾å¤§çéå¶ã20ä¸çºª60å¹´ä»£ï¼1965å¹´ï¼ç±CooleyåTukeyæåºäºå¿«éåéå¶åæ¢(Fast Fourier Transformï¼FFT)ç®æ³ï¼å®æ¯DFTçå¿«éç®æ³ï¼ä½¿å¾ç¦»æ£åéå¶åæ¢åå·ç§¯è¿ç±»é¾åº¦å¾å¤§çè®¡ç®å·¥ä½çå¤æåº¦ä»N2éçº§éå°äºNlog2Néçº§ï¼å¤§å¤§æé«äºDFTçè¿ç®éåº¦ï¼ä»èä½¿DFTå¨å®éåºç¨ä¸­å¾å°äºå¹¿æ³çåºç¨ã</p>
<p>â       cuFFTæ¯NVIDIAæä¾çGPUå éçFourieråæ¢FFTåºï¼è½æå¤§æåæ¶åFFTè®¡ç®çç§å­¦è®¡ç®ãä¿¡å·å¤çåæ·±åº¦å­¦ä¹ ç­ä»»å¡çéåº¦ãä¸è¡¨æ¦æ¬äºå¨ä¸»è¦ç¹å¾ååºç¨åºæ¯ï¼</p>
<table>
<thead>
<tr>
<th>cuFFTçç¹å¾</th>
<th>å·ä½æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>åºæ¬åè½</td>
<td>æä¾GPUå éç1Dã2Dã3Då¤æ°/å®æ°FFTè®¡ç®</td>
</tr>
<tr>
<td>æ ¸å¿ä¼å¿</td>
<td>ç¸æ¯CPUå®ç°ï¼å©ç¨GPUå¹¶è¡æ§å¯è·å¾æ¾èå é</td>
</tr>
<tr>
<td>ç¼ç¨æ¥å£</td>
<td>æä¾ç±»ä¼¼çFFTWçAPIï¼ä¾¿äºçæCPU FFTçç¨æ·è¿ç§»</td>
</tr>
<tr>
<td>é«çº§åè½</td>
<td>æ¯ææ¹éæ§è¡ãæµå¼æ­¥ãå/å/åç²¾åº¦ãå¤GPUè®¡ç®</td>
</tr>
<tr>
<td>ä¸»è¦åºç¨é¢å</td>
<td>æ·±åº¦å­¦ä¹ ãè®¡ç®ç©çå­¦ãå»å­¦æåãä¿¡å·å¤çç­</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="2-åºäºcufftåºçfourieråæ¢æ­¥éª¤workflow-of-fourier-transform-based-cufft">2. åºäºcuFFTåºçFourieråæ¢æ­¥éª¤ï¼workflow of Fourier Transform based cuFFTï¼</h2>
<p>å¨CUDAä¸è¿è¡åéå¶åæ¢ä¸è¬éè¦åä»¥ä¸å æ­¥å·¥ä½ï¼</p>
<ol>
<li>å¨ä¸»æºç«¯ï¼åå¤è¾å¥æ°æ®ï¼</li>
<li>å¨GPUè®¾å¤ç«¯ä¸åéåå­ï¼å¹¶å°æ°æ®ä»ä¸»æºå¤å¶å°è®¾å¤ï¼ï¼<code>cudaMalloc</code>,<code>cudaMemcpy</code>çæ¥å£ ï¼</li>
<li>åå»ºä¸ä¸ª<span class="math inline">\(plan\)</span>, è°ç¨å½æ°<span class="math inline">\(cufftPlane1D/cufftPlane2D/cufftPlan3D\)</span> å¯ä»¥åå»ºä¸ä¸ªç®åçFourieråæ¢ãè°ç¨å½æ°<span class="math inline">\(cufftPlanMany\)</span> åå¯ä»¥åå»ºæ¯ææ´å¤éç½®æä½çåæ¢è®¡åã
<ul>
<li><span class="math inline">\(cufftPlan1d()\)</span>: éå¯¹åä¸ª1ç»´ä¿¡å·</li>
<li><span class="math inline">\(cufftPlan2d()\)</span>:éå¯¹åä¸ª2ç»´ä¿¡å·</li>
<li><span class="math inline">\(cufftPlan3d()\)</span>:éå¯¹åä¸ª3ç»´ä¿¡å·</li>
</ul>
</li>
<li>æ§è¡<span class="math inline">\(plane\)</span>ãè¿ä¸æ­¥å¯ä»¥ä½¿ç¨<span class="math inline">\(cufftExecC2C()\)</span>ã<span class="math inline">\(cufftExecR2C()\)</span>æ<span class="math inline">\(cufftExecC2R()\)</span>ç­å½æ°å®æä¸ä¸æ­¥å®æ<span class="math inline">\(plane\)</span>çè®¡ç®ä»»å¡ã</li>
<li>æ§è¡å®æä»¥ä¸è¥ä¸åéè¦è¯¥<span class="math inline">\(plan\)</span>ï¼åè°ç¨<span class="math inline">\(cufftDestroy()\)</span>å½æ°éæ¯è¯¥<span class="math inline">\(plan\)</span> åä¸ºå¶åéçè®¡ç®èµæºã</li>
</ol>
<h2 id="3-cufftçåéå¶åæ¢apiæ¥å£ç±»åfourier-transform-types">3. cuFFTçåéå¶åæ¢APIæ¥å£ç±»åï¼Fourier Transform Typesï¼</h2>
<p>â        <span class="math inline">\(cuFFT\)</span> åºå®ç°äºä¸ç§ä¸åç±»åçFourieråæ¢æ¥å£åä¸ºï¼<span class="math inline">\(C2C\)</span>(å¤æ°åæ¢å°å¤æ°)ï¼<span class="math inline">\(C2R\)</span>(å¤æ°å°å®æ°),  <span class="math inline">\(R2C\)</span> (å®æ°å°å¤æ°)ãæ¬è´¨ä¸ï¼è¿ä¸ç§è½¬æ¢é½å¯ä»¥è¢«çåæ¯å¤æ°åå°å¤æ°åçåæ¢ï¼ä¹æä»¥è¿æ ·ååï¼å¶æä¸»è¦çèéæ¯æ§è½å ç´ ãä¾å¦ï¼å¨ä¸è¬çæ°å­ä¿¡å·å¤çä¸­ï¼è¾å¥æ°æ®æ¯ä¸äºç¦»æ£çå®æ°åä¸çéæ ·ç¹ï¼è¿æ¶åå¯¹å®ä»¬åFourieråæ¢å®éä¸å°±æ¯<span class="math inline">\(R2C\)</span>ï¼æ ¹æ®åå°ç±³ç¹å¯¹ç§°æ§ï¼Hermitian symmetry)ï¼åæ¢<span class="math inline">\(X_k=X_{N-k}^{*}\)</span>, <span class="math inline">\(*\)</span> ä»£è¡¨å±è½­å¤æ°ã<span class="math inline">\(cuFFT\)</span> çåéå¶åæ¢åå©ç¨äºè¿äºåä½ï¼å°è®¡ç®ééå°æä½ã</p>
<p>â       åæ¢æ§è¡å½æ°çåç²¾åº¦ååç²¾åº¦çæ¬åå«å®ä¹å¦ä¸ï¼</p>
<table>
<thead>
<tr>
<th>API</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="math inline">\(cufftExecC2C()/cufftExecZ2Z()\)</span></td>
<td>åç²¾åº¦/åç²¾åº¦æµ®ç¹æ°å¤æ°åå°å¤æ°åçåéå¶åæ¢</td>
</tr>
<tr>
<td><span class="math inline">\(cufftExecR2C()/cufftExecD2Z()\)</span></td>
<td>åç²¾åº¦/åç²¾åº¦æµ®ç¹æ°å®æ°åå°å¤æ°åçåéå¶åæ¢ï¼æ­£åæ¢ï¼</td>
</tr>
<tr>
<td><span class="math inline">\(cufftExecC2R()/cufftExecZ2D()\)</span></td>
<td>åç²¾åº¦/åç²¾åº¦æµ®ç¹æ°å¤æ°åå°å®æ°åçåéå¶åæ¢ï¼éåæ¢ï¼</td>
</tr>
</tbody>
</table>
<h2 id="4-æ°æ®å¸å±data-layout">4. æ°æ®å¸å±(Data Layout)</h2>
<p>â       <span class="math inline">\(CUFFT\)</span>åºä¿å«è¥å¹²ç§æ°æ®ç±»åï¼å¯¹äºå¤æ°æ<span class="math inline">\(cufftComplex/cufftDoubleComplex\)</span> ä¸¤ç§æ°æ®ç±»åï¼å¯¹äºå®æ°ååå«æ<span class="math inline">\(cufftReal/cufftDouble\)</span> ä¸¤ç§æ°æ®ç±»å ã</p>
<p>â         æ ¹æ®è½¬æ¢ç»æçå­å¨ä½ç½®ä¸åï¼<span class="math inline">\(FFT\)</span>åæ¢å¯åä¸ºå°±å°åæ¢(<span class="math inline">\(in-place\)</span>)åå¤é¨åæ¢ï¼<span class="math inline">\(out-place\)</span>)ï¼åèç´æ¥å¨è¾å¥æ°æ®è¿è¡åæ¢ï¼èåèåä¼å°åæ¢åç»æå­å¥æ°çå­å¨å¨å°åã</p>
<p>â         å°±å°è½¬æ¢(<span class="math inline">\(in-place\)</span>) æ¯ææ°æ®çä¸¤ç§å¸å±ï¼<span class="math inline">\(native\)</span> å <span class="math inline">\(padded\)</span>ï¼åèç¨äºè·åæä½³æ§è½ï¼èåèåç¨äºä¸FFTWå¼å®¹ã</p>
<p>â         å¨<span class="math inline">\(padded\)</span>å¸å±ä¸­è¾åºä¿¡å·çå¼å§å°åä¸è¾å¥ä¿¡å·ä¸æ ·ï¼æ¢å¥è¯è¯´ï¼å®æ°åå°å¤æ°ååæ¢çè¾å¥æ°æ®åå¤æ°åå°å®æ°åçè¾åºæ°æ®å¿é¡»è¢«å¡«åãå¨nativeå¸å±ä¸­åæ²¡æå¡«å¥è¦æ±ã</p>
<p>â         è¾å¥æ°æ®åè¾åºæ°æ®çå°ºå¯¸æ»ç»å¦ä¸ï¼</p>
<table>
<thead>
<tr>
<th>FFT type</th>
<th>input data size</th>
<th>output data size</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="math inline">\(C2C\)</span></td>
<td><span class="math inline">\(X \space cufftComplex\)</span></td>
<td><span class="math inline">\(X \space cufftComplex\)</span></td>
</tr>
<tr>
<td><span class="math inline">\(C2R\)</span></td>
<td><span class="math inline">\([\frac{X}{2}]+1 \space cufftComplex\)</span></td>
<td><span class="math inline">\(X\)</span> <span class="math inline">\(cufftReal\)</span></td>
</tr>
<tr>
<td><span class="math inline">\(R2C^{*}\)</span></td>
<td><span class="math inline">\(X\)</span> <span class="math inline">\(cufftReal\)</span></td>
<td><span class="math inline">\([\frac{X}{2}]+1 \space cufftComplex\)</span></td>
</tr>
</tbody>
</table>
<h2 id="5-åä¸ªä¸ç»´ä¿¡å·çfftåæ¢ä»£ç å®ç°one-dimension-signal-fft-transfrom">5. åä¸ªä¸ç»´ä¿¡å·çFFTåæ¢ä»£ç å®ç°ï¼One Dimension SIgnal FFT Transfromï¼</h2>
<p>å¨æ¬æ¬¡æµè¯ä»£ç ä¸­ï¼é¦åçæä¸ç»´çéæºä¿¡å·ï¼å©ç¨cufft åè¿è¡æ­£åæ¢ï¼ç¶åéåæ¢ï¼å¹¶å¤å®éåæ¢åç»æä¸åè¾å¥ä¿¡å·å¤æ­æ¯å¦ç¸ç­ã</p>
<pre><code class="language-C">#include &lt;iostream&gt;
#include &lt;time.h&gt;
#include "cuda_runtime.h"
#include "device_launch_parameters.h"
#include &lt;cufft.h&gt;

#define NX 3335 // æææ°æ®ä¸ªæ°
#define N 5335 // è¡¥0ä¹åçæ°æ®é¿åº¦
#define BATCH 1
#define BLOCK_SIZE 1024
using std::cout;
using std::endl;


/**
* åè½ï¼å¤æ­ä¸¤ä¸ª cufftComplex æ°ç»çæ¯å¦ç¸ç­
* è¾å¥ï¼idataA è¾å¥æ°ç»Açå¤´æé
* è¾å¥ï¼idataB è¾åºæ°ç»Bçå¤´æé
* è¾å¥ï¼size æ°ç»çåç´ ä¸ªæ°
* è¿åï¼true | false
*/
bool IsEqual(cufftComplex *idataA, cufftComplex *idataB, const int size)
{
    for (int i = 0; i &lt; size; i++)
    {
        if (abs(idataA[i].x - idataB[i].x) &gt; 0.000001 || abs(idataA[i].y - idataB[i].y) &gt; 0.000001)
            return false;
    }

    return true;
}



/**
* åè½ï¼å®ç° cufftComplex æ°ç»çå°ºåº¦ç¼©æ¾ï¼ä¹å°±æ¯ä¹ä»¥ä¸ä¸ªæ°
* è¾å¥ï¼idata è¾å¥æ°ç»çå¤´æé
* è¾åºï¼odata è¾åºæ°ç»çå¤´æé
* è¾å¥ï¼size æ°ç»çåç´ ä¸ªæ°
* è¾å¥ï¼scale ç¼©æ¾å°ºåº¦
*/
static __global__ void cufftComplexScale(cufftComplex *idata, cufftComplex *odata, const int size, float scale)
{
    const int threadID = blockIdx.x * blockDim.x + threadIdx.x;

    if (threadID &lt; size)
    {
        odata[threadID].x = idata[threadID].x * scale;
        odata[threadID].y = idata[threadID].y * scale;
    }
}

int main()
{
    cufftComplex *data_dev; // è®¾å¤ç«¯æ°æ®å¤´æé
    cufftComplex *data_Host = (cufftComplex*)malloc(NX*BATCH * sizeof(cufftComplex)); // ä¸»æºç«¯æ°æ®å¤´æé
    cufftComplex *resultFFT = (cufftComplex*)malloc(N*BATCH * sizeof(cufftComplex)); // æ­£åæ¢çç»æ
    cufftComplex *resultIFFT = (cufftComplex*)malloc(NX*BATCH * sizeof(cufftComplex)); // åæ­£åæ¢åéåæ¢çç»æ

    // åå§æ°æ®
    for (int i = 0; i &lt; NX; i++)
    {
        data_Host[i].x = float((rand() * rand()) % NX) / NX;
        data_Host[i].y = float((rand() * rand()) % NX) / NX;
    }


    dim3 dimBlock(BLOCK_SIZE); // çº¿ç¨å
    dim3 dimGrid((NX + BLOCK_SIZE - 1) / dimBlock.x); // çº¿ç¨æ ¼

    cufftHandle plan; // åå»ºcuFFTå¥æ
    cufftPlan1d(&amp;plan, N, CUFFT_C2C, BATCH);

    // è®¡æ¶
    clock_t start, stop;
    double duration;
    start = clock();

    cudaMalloc((void**)&amp;data_dev, sizeof(cufftComplex)*N*BATCH); // å¼è¾è®¾å¤åå­
    cudaMemset(data_dev, 0, sizeof(cufftComplex)*N*BATCH); // åå§ä¸º0
    cudaMemcpy(data_dev, data_Host, NX * sizeof(cufftComplex), cudaMemcpyHostToDevice); // ä»ä¸»æºåå­æ·è´å°è®¾å¤åå­

    cufftExecC2C(plan, data_dev, data_dev, CUFFT_FORWARD); // æ§è¡ cuFFTï¼æ­£åæ¢
    cudaMemcpy(resultFFT, data_dev, N * sizeof(cufftComplex), cudaMemcpyDeviceToHost); // ä»è®¾å¤åå­æ·è´å°ä¸»æºåå­

    cufftExecC2C(plan, data_dev, data_dev, CUFFT_INVERSE); // æ§è¡ cuFFTï¼éåæ¢
    cufftComplexScale &lt;&lt; &lt;dimGrid, dimBlock &gt;&gt; &gt; (data_dev, data_dev, N, 1.0f / N); // ä¹ä»¥ç³»æ°
    cudaMemcpy(resultIFFT, data_dev, NX * sizeof(cufftComplex), cudaMemcpyDeviceToHost); // ä»è®¾å¤åå­æ·è´å°ä¸»æºåå­

    stop = clock();
    duration = (double)(stop - start) * 1000 / CLOCKS_PER_SEC;
    cout &lt;&lt; "æ¶é´ä¸º " &lt;&lt; duration &lt;&lt; " ms" &lt;&lt; endl;

    cufftDestroy(plan); // éæ¯å¥æ
    cudaFree(data_dev); // éæ¾ç©ºé´

    cout &lt;&lt; IsEqual(data_Host, resultIFFT, NX) &lt;&lt; endl;

    return 0;
}
</code></pre>
<p>å¶ä¸­<code>cufftPlan1d()</code> :</p>
<ul>
<li>ç¬¬ä¸ä¸ªåæ°å°±æ¯è¦éç½®ç<span class="math inline">\(cuFFT\)</span>å¥æï¼</li>
<li>ç¬¬äºä¸ªåæ°å°±æ¯è¦è¿è¡fftçä¿¡å·çé¿åº¦ï¼</li>
<li>ç¬¬ä¸ä¸ª<code>CUFFT_C2C</code> ä¸ºè¦æ§è¡<span class="math inline">\(fft\)</span> çä¿¡å·è¾å¥ç±»ååè¾åºç±»åå¤æ°ï¼<code>CUFFT_C2R</code>è¡¨ç¤ºè¾å¥å¤æ°ï¼è¾åºå®æ°ï¼<code>CUFFT_R2C</code>è¡¨ç¤ºè¾å¥å®æ°ï¼è¾åºå¤æ°ï¼<code>CUFFT_R2R</code> è¡¨ç¤ºè¾å¥å®æ°ï¼è¾åºå®æ°ï¼</li>
<li>ç¬¬åä¸ªåæ°<code>BATCH</code>è¡¨ç¤ºè¦æ§è¡fftçä¿¡å·çä¸ªæ°ï¼æ°ççå·²ç»ä½¿ç¨<code>cufftPlanMany()</code>æ¥åæ¶å®æå¤ä¸ªä¿¡å·çfftï¼</li>
</ul>
<p><code>cufftExecC2C()</code>:</p>
<ul>
<li>ç¬¬ä¸ä¸ªåæ°å°±æ¯éç½®å¥½ç cuFFT å¥æï¼</li>
<li>ç¬¬äºä¸ªåæ°ä¸ºè¾å¥ä¿¡å·çé¦å°åï¼</li>
<li>ç¬¬ä¸ä¸ªåæ°ä¸ºè¾åºä¿¡å·çé¦å°åï¼</li>
<li>ç¬¬åä¸ªåæ°ä¸º<code>CUFFT_FORWARD</code>è¡¨ç¤ºæ§è¡çæ¯<span class="math inline">\(fft\)</span>æ­£åæ¢ï¼<code>CUFFT_INVERSE</code>è¡¨ç¤ºæ§è¡<span class="math inline">\(fft\)</span>éåæ¢</li>
</ul>
<p>éè¦æ³¨æçæ¯ï¼æ§è¡å®<span class="math inline">\(fft\)</span>ä¹åï¼è¦å¯¹ä¿¡å·ä¸­çæ¯ä¸ªå¼ä¹ä»¥<span class="math inline">\(1/N\)</span>;</p>
<p>è¾åºç»æï¼</p>
<p><img alt="cufft" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1602810/202601/1602810-20260107151953239-450442928.png" class="lazyload"></p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-07 15:22">2026-01-07 15:21</span>&nbsp;
<a href="https://www.cnblogs.com/GeophysicsWorker">GeoFXR</a>&nbsp;
éè¯»(<span id="post_view_count">77</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19452487);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19452487', targetLink: 'https://www.cnblogs.com/GeophysicsWorker/p/19452487', title: 'NIVIDIAé«æ§è½è®¡ç®CUDAç¬è®°ï¼ä¸ï¼ cuFFTçç®ä»åå®ç°æ¡ä¾' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ IQRååä½æ°æ³æ¯ä»ä¹ï¼ ]]></title>
    <link>https://www.cnblogs.com/sun-10387834/p/19386427</link>
    <guid>307f71b563753888a3d39dbbe35bd2ba</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/sun-10387834/p/19386427" title="åå¸äº 2026-01-07 15:06">
    <span role="heading" aria-level="2">IQRååä½æ°æ³æ¯ä»ä¹ï¼</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>IQRï¼Interquartile Rangeï¼ååä½è·ï¼ååä½æ°æ³æ¯ä¸ç§ç»è®¡å­¦ä¸­ç¨äºæè¿°æ°æ®ç¦»æ£ç¨åº¦ãè¯å«å¼å¸¸å¼çéè¦å·¥å·ãå®éè¿æ°æ®çååä½æ°ï¼Quartilesï¼æ¥å»ç»æ°æ®çåå¸ç¹å¾ï¼å°¤å¶éç¨äºéæ­£æåå¸æå­å¨ç¦»ç¾¤ç¹çåºæ¯ãä»¥ä¸ä»æ ¸å¿æ¦å¿µãè®¡ç®æ¹æ³ãåºç¨åºæ¯åçè§£è¦ç¹å±å¼è¯´æï¼</p>
<h3 id="ä¸æ ¸å¿æ¦å¿µååä½æ°ä¸iqr"><strong>ä¸ãæ ¸å¿æ¦å¿µï¼ååä½æ°ä¸IQR</strong></h3>
<h4 id="1-ååä½æ°quartiles">1. ååä½æ°ï¼Quartilesï¼</h4>
<p>å°ä¸ç»æåºæ°æ®ï¼ä»å°å°å¤§æåï¼ååä¸º4ä¸ªç¸ç­é¨åçä¸ä¸ªå³é®åå²ç¹ï¼åå«è®°ä¸ºï¼</p>
<ul>
<li><strong>Q1ï¼ç¬¬ä¸ååä½æ°ï¼25%åä½æ°ï¼</strong>ï¼æ°æ®ä¸­25%çæ°å¼å°äºæç­äºå®ï¼å³ç¬¬25ç¾åä½æ°ï¼ã</li>
<li><strong>Q2ï¼ç¬¬äºååä½æ°ï¼ä¸­ä½æ°ï¼</strong>ï¼æ°æ®ä¸­50%çæ°å¼å°äºæç­äºå®ï¼å³ç¬¬50ç¾åä½æ°ï¼Medianï¼ã</li>
<li><strong>Q3ï¼ç¬¬ä¸ååä½æ°ï¼75%åä½æ°ï¼</strong>ï¼æ°æ®ä¸­75%çæ°å¼å°äºæç­äºå®ï¼å³ç¬¬75ç¾åä½æ°ï¼ã</li>
</ul>
<p>ä¾å¦ï¼æ°æ®é [1, 3, 5, 7, 9, 11, 13] çä¸­ä½æ°æ¯7ï¼Q2ï¼ï¼ååé¨å [1,3,5] çä¸­ä½æ°æ¯3ï¼Q1ï¼ï¼ååé¨å [9,11,13] çä¸­ä½æ°æ¯11ï¼Q3ï¼ã</p>
<h4 id="2-iqrååä½è·">2. IQRï¼ååä½è·ï¼</h4>
<p><strong>IQR = Q3 - Q1</strong>ï¼è¡¨ç¤ºä¸­é´50%æ°æ®çåå¸èå´ï¼å³æ°æ®å¨Q1å°Q3ä¹é´çâå®½åº¦âï¼ãå®æ¯è¡¡éæ°æ®ç¦»æ£ç¨åº¦çç¨³å¥ææ ï¼ä¸åæç«¯å¼å½±åï¼ã</p>
<h3 id="äºiqrååä½æ°æ³çæ ¸å¿ä½ç¨è¯å«å¼å¸¸å¼"><strong>äºãIQRååä½æ°æ³çæ ¸å¿ä½ç¨ï¼è¯å«å¼å¸¸å¼</strong></h3>
<p>IQRæ³æå¸¸ç¨çæ¯éè¿âç®±çº¿å¾ï¼Box Plotï¼âæâTukeyâs Fencesâè§åè¯å«å¼å¸¸å¼ï¼Outliersï¼ãå·ä½æ­¥éª¤å¦ä¸ï¼</p>
<h4 id="1-è®¡ç®ä¸ä¸è¾¹ç">1. è®¡ç®ä¸ä¸è¾¹ç</h4>
<p>ä»¥IQRä¸ºåºåï¼å®ä¹æ°æ®çâæ­£å¸¸èå´âï¼</p>
<ul>
<li><strong>ä¸è¾¹çï¼Lower Boundï¼</strong>ï¼Q1 - 1.5ÃIQR</li>
<li><strong>ä¸è¾¹çï¼Upper Boundï¼</strong>ï¼Q3 + 1.5ÃIQR</li>
</ul>
<h4 id="2-å¤å®å¼å¸¸å¼">2. å¤å®å¼å¸¸å¼</h4>
<ul>
<li><strong>æ¸©åå¼å¸¸å¼ï¼Mild Outliersï¼</strong>ï¼å°äºä¸è¾¹çæå¤§äºä¸è¾¹ççæ°æ®ç¹ï¼éå¸¸ç¨1.5ÃIQRçå®ï¼ã</li>
<li><strong>æç«¯å¼å¸¸å¼ï¼Extreme Outliersï¼</strong>ï¼å°äºQ1 - 3ÃIQR æå¤§äºQ3 + 3ÃIQR çæ°æ®ç¹ï¼æ´ä¸¥æ ¼çéå¼ï¼ã</li>
</ul>
<p><strong>é»è¾</strong>ï¼æ­£å¸¸æ°æ®åºéä¸­å¨ä¸­é´50%ï¼Q1å°Q3ï¼ï¼èè¶åº1.5åIQRçç¹è¢«è§ä¸ºâåç¦»è¾è¿çå¼å¸¸âã1.5åçéæ©æ¯ç»éªæ§çï¼åºäºæ­£æåå¸åè®¾ä¸çº¦è¦ç99.3%çæ°æ®ï¼å©ä½0.7%è§ä¸ºå¼å¸¸ï¼ã</p>
<h3 id="ä¸åºç¨åºæ¯"><strong>ä¸ãåºç¨åºæ¯</strong></h3>
<ol>
<li><strong>æ°æ®æ¸æ´</strong>ï¼è¯å«å¹¶éªè¯ç¦»ç¾¤ç¹ï¼å¦ä¼ æå¨è¯¯å·®ãè¾å¥éè¯¯ï¼ã</li>
<li><strong>å¯è§ååæ</strong>ï¼ç®±çº¿å¾çæ ¸å¿ç»ä»¶ï¼ç®±ä½è¡¨ç¤ºQ1å°Q3ï¼è§¦é¡»å»¶ä¼¸è³éå¼å¸¸å¼çæè¿ç¹ï¼å¼å¸¸å¼åç¬æ è®°ï¼ã</li>
<li><strong>ç»è®¡æè¿°</strong>ï¼æ¿ä»£æ åå·®ï¼SDï¼è¡¡éç¦»æ£ç¨åº¦ï¼å°¤å¶å½æ°æ®éæ­£ææ¶ï¼IQRæ´ç¨³å¥ï¼ã</li>
</ol>
<h3 id="åå¦ä½çè§£iqræ³çä¼å¿ä¸å±é"><strong>åãå¦ä½çè§£IQRæ³çä¼å¿ä¸å±é</strong></h3>
<h4 id="ä¼å¿">ä¼å¿ï¼</h4>
<ul>
<li><strong>ç¨³å¥æ§</strong>ï¼ä»ä¾èµä¸­é´50%çæ°æ®ï¼ä¸åæç«¯å¼å¹²æ°ï¼æ åå·®æåå¼å¸¸å¼å½±åï¼ã</li>
<li><strong>æ®éæ§</strong>ï¼éç¨äºä»»ä½åå¸ï¼æ éåè®¾æ°æ®æ­£æï¼ã</li>
<li><strong>ç´è§æ§</strong>ï¼éè¿ååä½æ°ç´æ¥åæ æ°æ®çéä¸­ä¸åæ£è¶å¿ã</li>
</ul>
<h4 id="å±é">å±éï¼</h4>
<ul>
<li><strong>ä¸»è§æ§</strong>ï¼1.5åIQRæ¯ç»éªéå¼ï¼ä¸åé¢åå¯è½è°æ´ï¼å¦éèé£æ§å¯è½ç¨3åï¼ã</li>
<li><strong>å°æ ·æ¬åå·®</strong>ï¼æ ·æ¬éè¿å°æ¶ï¼å¦n&lt;10ï¼ï¼ååä½æ°ä¼°è®¡å¯è½ä¸ç¨³å®ã</li>
<li><strong>æ æ³åæ åå¸å½¢æ</strong>ï¼ä»æè¿°ç¦»æ£ç¨åº¦ï¼ä¸ä½ç°æ°æ®çå¯¹ç§°æ§æå³°åº¦ã</li>
</ul>
<h3 id="äºç¤ºä¾è¯´æ"><strong>äºãç¤ºä¾è¯´æ</strong></h3>
<p>åè®¾æ°æ®éï¼[12, 15, 17, 19, 20, 22, 24, 28, 30, 35, 40, 100]ï¼å·²æåºï¼ã</p>
<ol>
<li>
<p>è®¡ç®ååä½æ°ï¼</p>
<ul>
<li>n=12ï¼ä¸­ä½æ°Q2æ¯ç¬¬6åç¬¬7ä¸ªæ°çå¹³åï¼(22+24)/2=23ã</li>
<li>Q1æ¯å6ä¸ªæ°çä¸­ä½æ°ï¼(17+19)/2=18ï¼å6æ°ï¼12,15,17,19,20,22ï¼ã</li>
<li>Q3æ¯å6ä¸ªæ°çä¸­ä½æ°ï¼(30+35)/2=32.5ï¼å6æ°ï¼24,28,30,35,40,100ï¼ã</li>
</ul>
</li>
<li>
<p>è®¡ç®IQRï¼IQR=Q3-Q1=32.5-18=14.5ã</p>
</li>
<li>
<p>ç¡®å®è¾¹çï¼</p>
<ul>
<li>ä¸è¾¹ç=18 - 1.5Ã14.5=18-21.75=-3.75</li>
<li>ä¸è¾¹ç=32.5 + 1.5Ã14.5=32.5+21.75=54.25</li>
</ul>
</li>
<li>
<p>è¯å«å¼å¸¸å¼ï¼æ°æ®ä¸­100&gt;54.25ï¼å æ­¤100æ¯å¼å¸¸å¼ï¼å¶ä»æ°æ®ç¹åå¨[-3.75, 54.25]èå´åã</p>
</li>
</ol>
<h3 id="æ»ç»"><strong>æ»ç»</strong></h3>
<p>IQRååä½æ°æ³éè¿âä¸­é´50%æ°æ®çèå´âï¼IQRï¼éåç¦»æ£ç¨åº¦ï¼å¹¶éè¿1.5åIQRçè¾¹çè¯å«å¼å¸¸å¼ãå®çæ ¸å¿æ¯<strong>å³æ³¨æ°æ®çä¸»ä½åå¸ï¼å¿½ç¥æç«¯å¹²æ°</strong>ï¼æ¯æ¢ç´¢æ§æ°æ®åæï¼EDAï¼ä¸­ç®åå´å¼ºå¤§çå·¥å·ãçè§£å¶é»è¾çå³é®å¨äºææ¡âååä½æ°ååæ°æ®ãIQRè¡¡éä¸»ä½æ³¢å¨ãè¾¹çå¤è§ä¸ºå¼å¸¸âè¿ä¸é¾æ¡ã</p>

</div>
<div id="MySignature" role="contentinfo">
    
<p>â¤ï¸ å¦æä½ åæ¬¢è¿ç¯æç« ï¼è¯·ç¹èµæ¯æï¼ ð åæ¶æ¬¢è¿å³æ³¨æçåå®¢ï¼è·åæ´å¤ç²¾å½©åå®¹ï¼</p>

<p>æ¬ææ¥èªåå®¢å­ï¼ä½èï¼<a href="https://www.cnblogs.com/sun-10387834/" target="_blank">ä½ç¥è®©ææ¥å·¡å±±</a>ï¼è½¬è½½è¯·æ³¨æåæé¾æ¥ï¼<a href="https://www.cnblogs.com/sun-10387834/p/19386427" target="_blank">https://www.cnblogs.com/sun-10387834/p/19386427</a></p>


</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-07 15:07">2026-01-07 15:06</span>&nbsp;
<a href="https://www.cnblogs.com/sun-10387834">ä½ç¥è®©ææ¥å·¡å±±</a>&nbsp;
éè¯»(<span id="post_view_count">53</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19386427);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19386427', targetLink: 'https://www.cnblogs.com/sun-10387834/p/19386427', title: 'IQRååä½æ°æ³æ¯ä»ä¹ï¼' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
        </channel>
        </rss>