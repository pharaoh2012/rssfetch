<?xml version="1.0" encoding="UTF-8" ?>
    <rss version="2.0">
    <channel>
        <title><![CDATA[ ä¸»é¡µ - åå®¢å­ ]]></title>
        <link><![CDATA[ https://www.cnblogs.com/ ]]></link>
        <lastBuildDate>2026-01-23T10:20:58.210Z</lastBuildDate>
        <description><![CDATA[
        ä¸»é¡µ - åå®¢å­ RSS
    ]]></description>
        <language>zh-cn</language>
        <item>
    <title><![CDATA[ æè¿å³äºè¿ç»´çä¸äºææ³ ]]></title>
    <link>https://www.cnblogs.com/jindongyan666/p/19523500</link>
    <guid>9eb7e64b064044cdc556f3ca4d63d839</guid>
    <description>
    <![CDATA[ 
	<h1 class="postTitle"><a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/jindongyan666/p/19523500" title="åå¸äº 2026-01-23 17:47">
    <span role="heading" aria-level="2">æè¿å³äºè¿ç»´çä¸äºææ³</span>
    

</a>
</h1>
	    <div id="cnblogs_post_description" style="display: none">
        <img src="https://img2024.cnblogs.com/blog/3760167/202601/3760167-20260123174305175-83770174.png" alt="æè¿å³äºè¿ç»´çä¸äºææ³" class="desc_img">
        ä¸äºå³äºLinuxè¿ç»´çæè
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p><strong>è¿ç»´ä¸åªæ¯"æç«éå"ï¼èæ¯ç³»ç»çå®æ¤è</strong></p>
<p>æè¿å¨åå ä½èè¿ç»´èèµ·èä¸åå±ï¼ä»ä»¬ä¸çº¦èåå°æå°ä¸ä¸ªè¯ï¼"è¿ç»´æ¯ç³»ç»ç¨³å®æ§æåçé²çº¿"ãè¿å¥è¯è®©æé·å¥äºæèãä½ä¸ºITè¡ä¸ä¸­æå®¹æè¢«å¿½è§çå²ä½ä¹ä¸ï¼è¿ç»´ççåªæ¯"æç«éå"åï¼è¿æ¯è¯´ï¼æä»¬æ­£å¨ç»åä¸åºéææçåé©ï¼</p>
<p>ä»"æ¶é²å"å°"å®æ¤è"çè½¬å</p>
<p>è®°å¾åå¥è¡é£ä¼å¿ï¼è¿ç»´è¢«æç§°ä¸º"æç«éå"ãç³»ç»ä¸åºé®é¢ï¼è¿ç»´å°±æä¸º"æç«éé¿"ï¼åå¤è¢«å«éå¤çæéæ¯å®¶å¸¸ä¾¿é¥­ãé£æ¶çæï¼æ¯å¤©ç¯ççæ§ç³»ç»ï¼çæåªä¸ªææ çäºï¼ç¶åå°±æå¿èä¹±å°å¤çã</p>
<p>ä½ç°å¨çè¿ç»´ï¼å·²ç»ä¸åæ¯åçº¯ç"æç«"äºãè¿ç»´è§è²ä»è¢«å¨ååºå°ä¸»å¨é¢é²çè½¬åï¼è®©æå¼å§æèï¼è¿ç»´å°åºæ¯ä»ä¹ï¼</p>
<p>ä¸ä½èµæ·±è¿ç»´åäºæ¾å¯¹æè¯´ï¼"è¿ç»´å·¥ç¨å¸åå»ççèä¸æ´æ¥è¿ãå»çä¹ååç§ç§å®¤ï¼ä¹ææ¥çå®¤ï¼éè¦åå¤æ­çäººçé®é¢ï¼å¯¹çä¸è¯ã"è¿å¥è¯è®©æè±ç¶å¼æãè¿ç»´ä¸æ¯ç®åå°å¤çæéï¼èæ¯è¦çè§£ç³»ç»ï¼é¢è§é®é¢ï¼æåé¢é²ã</p>
<p>æè§è¿ä¸ä½åäºï¼ä»æ¯å¤©çå·¥ä½ä¸æ¯å¨å¤çæéï¼èæ¯å¨æèå¦ä½é¢é²æéãä»ä¼å®æåæåå²æéæ°æ®ï¼æ¾åºè§å¾ï¼ç¶åæåä¼åç³»ç»æ¶æãä»è¯´ï¼"è¿ç»´çæé«å¢çä¸æ¯æéåçæ¶è½å¿«éè§£å³ï¼èæ¯è®©æéä¸ååçã"</p>
<p><strong>äºæ¶ä»£ä¸çè¿ç»´æ°ææ</strong></p>
<p>éçäºè®¡ç®çæ®åï¼è¿ç»´çææä¹å¨åçº§ãä»ä¼ ç»çç©çæå¡å¨è¿ç§»å°äºå¹³å°ï¼è¿ç»´äººåä¸ä»è¦çææ°çææ¯æ ï¼è¿è¦é¢å¯¹å¤ç§æ·ç¯å¢ãåå¸å¼è®¡ç®ç­å¤ææ§ã</p>
<p>ææ¾ç»å¨ä¸æ¬¡ææ¯åäº«ä¼ä¸å¬å°ä¸ä½äºå¹³å°è¿ç»´ä¸å®¶è¯´ï¼"ä»¥åè¿ç»´æ¯'å®'ï¼ç°å¨æ¯'ç¨'ã"è¿å¥è¯è®©ææ·±ææè§¦ãä»¥åæä»¬å®çå å°ç©çæå¡å¨ï¼ç°å¨æä»¬æ¯å¨ç®¡çä¸ä¸ªå¨æçãå¼¹æ§çäºç¯å¢ï¼éè¦éæ¶è°æ´èµæºï¼ä¼åææ¬ã</p>
<p>æ´è®©ææè®¶çæ¯ï¼ææ¬æ§å¶ä¹æ¯äºè¿ç»´ä¸å¯å¿½è§çæ¹é¢ãä»¥åæä»¬åªå³æ³¨ç³»ç»æ¯å¦ç¨³å®ï¼ç°å¨è¿è¦èè"å¦ä½ç¨æå°çèµæºå®ç°æå¤§çæç"ãè¿è®©ææè¯å°ï¼è¿ç»´å·²ç»ä»åçº¯çææ¯å²ä½ï¼åæäºä¸ä¸ªéè¦å¼é¡¾ææ¯ãææ¬ãæççå¤ååè§è²ã</p>
<p><strong>è¿ç»´çæ ¸å¿ä»·å¼ï¼ä¸åªæ¯ææ¯ï¼æ´æ¯æè</strong></p>
<p>è¿ç»´å·¥ç¨å¸çèè´£æ¯"ä¿éå¹¶ä¸æ­æåæå¡çå¯ç¨æ§ï¼ç¡®ä¿ç¨æ·æ°æ®å®å¨ï¼æåç¨æ·ä½éª"ãè¿è®©ææèï¼è¿ç»´çä»·å¼å°åºå¨åªéï¼</p>
<p>å¨ä¸æ¬¡åäº§åç»ççäº¤æµä¸­ï¼ææå°æä»¬æè¿ä¼åäºä¸ä¸ªæå¡çååºæ¶é´ãäº§åç»çæè®¶å°é®ï¼"è¿ä¹å°çä¼åï¼è½å¸¦æ¥ä»ä¹ä»·å¼ï¼"æè§£éè¯´ï¼"å¹³åååºæ¶é´ä»200mséå°150msï¼è½ç¶çèµ·æ¥å¾®ä¸è¶³éï¼ä½å¯¹ç¨æ·æ¥è¯´ï¼æ¯ç§çä½éªæåé½å¯è½å¸¦æ¥æ´é«ççå­çã"</p>
<p>é£ä¸å»æçªç¶æç½ï¼è¿ç»´çä»·å¼ä¸å¨äºææ¯æå¤é«æ·±ï¼èå¨äºæä»¬æ¯å¦è½ä»ç¨æ·è§åº¦æèé®é¢ãä»ç³»ç»çç¨³å®æ§åå¯è¿ç»´æ§çè§åº¦ï¼æåºå¼åéæ±ï¼æ­£æ¯è¿ä¸ªéçã</p>
<p><strong>æªæ¥è¿ç»´ï¼ä»"è¿ç»´"å°"è¿ç»´+"çè¿å</strong></p>
<p>å½åï¼è¿ç»´æ­£å¨ç»åä¸åºæ·±å»çåé©ãéçææ¯çåå±ï¼è¿ç»´çè§è²æ­£å¨ä»"ææ¯æ§è¡è"å"ä»·å¼åé è"è½¬åã</p>
<p>ææè¿å¨ç ç©¶AIOpsï¼åç°å®æ­£å¨æ¹åè¿ç»´çé¢è²ãéè¿æºå¨å­¦ä¹ åææ¥å¿æ°æ®ï¼æä»¬å¯ä»¥é¢æµæ½å¨çæéï¼èä¸æ¯ç­å¾æéåçååå»å¤çãè¿å°±åå»çéè¿ä½æ£æ°æ®é¢æµç¾çï¼èä¸æ¯ç­å°çäººçéæå»æ²»çã</p>
<p>ç¥è¯åºä¸­æå°ç"æ°ä¸ä»£è¿ç»´æ´åæºå¨å­¦ä¹ ä¸äºè¾¹ååææ¯ï¼éè¿AIOpså®ç°æéé¢æµãæºè½åè­¦åèªå¨åä¿®å¤"ï¼æ­£æ¯ææ­£å¨å­¦ä¹ åå®è·µçæ¹åã</p>
<p>äºè®¡ç®çæ®åä¹å¸¦æ¥äºæ°çæºéãåçº§è¿ç»´å²ä½å·²æç¡®ç»ååºäºè¿ç»´å·¥ç¨å¸æ¹åï¼è¦æ±ææ¡äºå¹³å°åºç¡æ¶æç®¡çè½åãèæ´é«çº§çè¿ç»´äººåï¼æ­£å¨åAIåºç¨å¼åãæºè½ç³»ç»è¿ç»´ç­æ°å´é¢åæ©å±èä¸è·¯å¾ã</p>
<p><strong>è¿ç»´çæªæ¥ï¼è¿ç»´+ä¸å¡çæ·±åº¦èå</strong></p>
<p>æè§å¯å°ï¼æªæ¥çè¿ç»´äººåå°ä¸åå±éäºææ¯å±é¢ï¼èæ¯éè¦æ´æ·±å¥å°çè§£ä¸å¡ãä¸ä½æ¶æå¸æ¾å¯¹æè¯´ï¼"è¿ç»´äººåä¸è½åªæææ¯ï¼è¦æä¸å¡ï¼è¿æ ·æè½çæ­£çè§£ç³»ç»ä¸ºä»ä¹éè¦è¿æ ·è®¾è®¡ã"</p>
<p>è¿æå³çï¼è¿ç»´å·¥ç¨å¸éè¦ä»"è§£å³é®é¢"çè§è²ï¼è½¬åä¸º"ä»·å¼åé "çè§è²ãæä»¬éè¦çè§£ä¸å¡ç®æ ï¼ç¨ææ¯ææ®µå®ç°ä¸å¡ç®æ ï¼èä¸ä»ä»æ¯ç¡®ä¿ç³»ç»"è½ç¨"ã</p>
<p>å¨ä¸æ¬¡è·¨é¨é¨ä¼è®®ä¸ï¼ææåºäºä¸å¥ä¼åæ¹æ¡ï¼ä¸ä»æåäºç³»ç»æ§è½ï¼è¿éä½äº20%çäºèµæºææ¬ãå½äº§åç»çåè¯æè¿ä¸ªä¼åå¸¦æ¥äº2%çç¨æ·çå­çæåæ¶ï¼æçæ­£ä½ä¼å°äºè¿ç»´çä»·å¼ââä¸åªæ¯ææ¯ä¸çä¼åï¼æ´æ¯ä¸å¡ä¸çä»·å¼ã</p>
<p><strong>è¿ç»´äººåçæç»´è½¬åï¼ä»"æç«"å°"é²ç«"</strong></p>
<p>ææ¾ä»¥ä¸ºè¿ç»´å°±æ¯"æç«"ï¼ç°å¨ææç½ï¼çæ­£çè¿ç»´æ¯"é²ç«"ãè¿éè¦æä»¬ä»è¢«å¨ååºè½¬åä¸ºä¸»å¨é¢é²ï¼ä»ææ¯è§è§è½¬åå°ä¸å¡è§è§ã</p>
<p>æå¼å§æ¯å¤©è±30åéåæç³»ç»æ¥å¿ï¼å¯»æ¾æ½å¨çé®é¢ï¼æ¯å¨ä¸å¼åå¢éè¿è¡ä¸æ¬¡ææ¯äº¤æµï¼äºè§£äº§åè®¾è®¡çåè¡·ï¼æ¯ææ»ç»ä¸æ¬¡æéæ¡ä¾ï¼æ¾åºç³»ç»è®¾è®¡çä¸è¶³ã</p>
<p>è¿ç§æç»´è½¬åè®©æä»ä¸ä¸ª"æç«éå"ï¼éæ¸æä¸ºç³»ç»ç"å®æ¤è"ãè¿ç»´ä¸æ¯ç®åçææ¯å·¥ä½ï¼èæ¯ä¸ç§æç»´æ¹å¼ï¼ä¸ç§å¯¹ç³»ç»ç¨³å®æ§çè´£ä»»æå½ã</p>
<p><strong>ä¸ªäººæèï¼è¿ç»´äººåéè¦å¹å»çæç»´</strong></p>
<ol>
<li>
<p>ä¸å¡æç»´ï¼ä¸è¦åªç¯çææ¯ï¼è¦çè§£ä¸å¡ãè¿ç»´çä»·å¼å¨äºæ¯æä¸å¡ç®æ çå®ç°ï¼èä¸ä»ä»æ¯è®©ç³»ç»è¿è¡ã</p>
</li>
<li>
<p>é¢é²æç»´ï¼è¿ç»´ä¸æ¯"æç«"ï¼èæ¯"é²ç«"ãè¦å»æåæé®é¢ãæèæ ¹æ¬åå çä¹ æ¯ï¼èä¸æ¯åªå³æ³¨è¡¨é¢ç°è±¡ã</p>
</li>
<li>
<p>æ°æ®æç»´ï¼éè¿æ°æ®é©±å¨å³ç­ï¼èä¸æ¯å­ç»éªå¤æ­ãç³»ç»æ§è½ãç¨æ·è¡ä¸ºãä¸å¡ææ é½æ¯éè¦çå³ç­ä¾æ®ã</p>
</li>
<li>
<p>ææ¬æç»´ï¼å¨ä¿è¯ç³»ç»ç¨³å®æ§çåæä¸ï¼èèèµæºå©ç¨æçãäºè®¡ç®è®©èµæºå¯ä»¥å¼¹æ§ä¼¸ç¼©ï¼ä½ä¹è¦èèææ¬æçã</p>
</li>
<li>
<p>åä½æç»´ï¼è¿ç»´ä¸æ¯ä¸ä¸ªäººçå·¥ä½ï¼éè¦åå¼åãäº§åãæµè¯ç­å¤é¨é¨åä½ãæ²éååä½è½åä¸ææ¯è½ååæ ·éè¦ã</p>
</li>
</ol>
<p><strong>æåææ³è¯´ï¼è¿ç»´ï¼æ¯ä¸åºå³äºè´£ä»»çä¿®è¡</strong></p>
<p>è¿ç»´å·¥ä½ï¼è¡¨é¢çæ¯ææ¯æ´»ï¼èåå´æ¯è´£ä»»ãæ¯ä¸æ¬¡ç³»ç»ç¨³å®è¿è¡ï¼èåé½æè¿ç»´äººåé»é»çä»åºã</p>
<p>å¨ææ¯æ¥æ°æå¼çä»å¤©ï¼è¿ç»´çè§è²æ­£å¨ä»"ææ¯æ§è¡è"å"ä»·å¼åé è"è½¬åãæä»¬ä¸åæ¯ç®åç"æç«éå"ï¼èæ¯ç³»ç»ç¨³å®æ§çå®æ¤èï¼æ¯ç¨æ·ä½éªçä¿éèï¼æ¯ä¸å¡ä»·å¼çè´¡ç®èã</p>
<p>è¿ç»´è¿æ¡è·¯ï¼æ²¡ææ·å¾ï¼åªæä¸æ­å­¦ä¹ ãä¸æ­æèãä¸æ­å®è·µãæ­£å¦ä¸ä½èµæ·±è¿ç»´æè¯´ï¼"è¿ç»´ä¸æ¯ä¸é¨ææ¯ï¼èæ¯ä¸ç§è´£ä»»ã"</p>
<p>è¿ç»´ï¼ä¸åªæ¯ä¸ä¸ªèä¸ï¼æ´æ¯ä¸åºå³äºè´£ä»»çä¿®è¡ãå¨è¿ä¸ªè¿ç¨ä¸­ï¼æä»¬ä¸ä»å®æ¤çç³»ç»ï¼ä¹å¨å®æ¤çèªå·±çèä¸ä¿¡ä»°ã</p>
<p>æªæ¥å·²æ¥ï¼è¿ç»´çæªæ¥ï¼æ¯"è¿ç»´+"çæªæ¥ãæä»¬ä¸æ¯å¨ç­å¾ææ¯åé©ï¼èæ¯å¨æ¨å¨ææ¯åé©ãä¸æ¯å¨è¢«å¨åºå¯¹é®é¢ï¼èæ¯å¨ä¸»å¨åé ä»·å¼ãè¿ï¼ææ¯è¿ç»´ççæ­£ä»·å¼ã</p>

</div>
<div class="clear"></div>

	<div class="postDesc">posted on 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-23 17:47">2026-01-23 17:47</span>&nbsp;
<a href="https://www.cnblogs.com/jindongyan666">ç±åå¯ä¹çåæç</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19523500);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19523500', targetLink: 'https://www.cnblogs.com/jindongyan666/p/19523500', title: 'æè¿å³äºè¿ç»´çä¸äºææ³' })">ä¸¾æ¥</a>
</div>
 ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ææ¯é¢ï¼å¦ä½è®©ä½ çç³»ç»æä½é«å¹¶åçæµéï¼ ]]></title>
    <link>https://www.cnblogs.com/jimoer/p/19523255</link>
    <guid>80f73a048885b7254189c56f452af145</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/jimoer/p/19523255" title="åå¸äº 2026-01-23 17:01">
    <span role="heading" aria-level="2">ææ¯é¢ï¼å¦ä½è®©ä½ çç³»ç»æä½é«å¹¶åçæµéï¼</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        é«å¹¶åæ¶æè®¾è®¡æ å¤ä¹âæãç¼ãé²âä¸æ¿æ§ï¼åéè¿ä¸å¡åæ²»ãæ°æ®åçãéç¾¤åé¨ç½²æç³»ç»æ¨ªåæ©å±å°æè´ï¼åä»¥å¤çº§ç¼å­ä¸æ¶æ¯éåå°ç¬æ¶å³°å¼åå¹³æå¯çº¿æ§å¢é¿çæ¶æ¯æµï¼æåç¨éæµãçæ­ãéçº§ä»¥åå¼å°å¤æ´»ç­å¤ç»´é²æ¤ææ®µï¼ä¸ºç³»ç»å®ä½æåçå®¹éè¾¹çã
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="åè¨">åè¨</h2>
<p>å¦ä½è½è®©ç³»ç»æä½é«å¹¶åæµéï¼è¦èèçå ç´ æå¾å¤ï¼ä½æ¯ççè®©ä½ è®²ä¸ä¸é½æåªäºï¼å¾å¤äººè¯å®å°±ä¼è¯´ï¼ç¨Redisç¼å­å¦ï¼ç¨MQåè§£è¦å¦ï¼æ»ä¹å°±æ¯æ³èµ·æ¥è¿ä¸åå¿å°±è¯´ä¸å´ï¼æ³èµ·æ¥é£ä¸åå¿ä¹è¯´ä¸å´ï¼æ»ä¹å°±æ¯è¯´çä¸è½æä½ç³»ä¸äºã<br>
ä¸è¬é¢è¯å®é®è¿ç§é®é¢çæ¶åï¼æ¯æ³çä½ æä¹åç­ï¼ææ²¡æä»æ¶æçææ³å»æèè¿ä¸ªé®é¢ï¼å°±ç®æä¸äºå·ä½ææ¯ä½ è®°å¾å¯è½ä¸æ¯å¾çç»äºï¼é¢è¯å®ä¹ä¼ç¸ä¿¡ä½ æ¯è½å¤è§£å³é®é¢çã</p>
<p>è¿ä¸æ¬¡å°±æ´ä½æ¥è¯´ä¸ä¸å¦ä½è®©ä½ çç³»ç»æä½é«å¹¶åæµéã</p>
<h2 id="ç¬¬ä¸æ­¥æ">ç¬¬ä¸æ­¥âæâ</h2>
<p>å¨é¢å¯¹é«å¹¶åçæ¶åï¼ç¬¬ä¸æ­¥æ°¸è¿æ¯<strong>ææ ¸å¿</strong>ï¼ææ³å°±æ¯åèæ²»ä¹ã</p>
<h3 id="é£å·ä½æä¹æ ·æå¢">é£å·ä½æä¹æ ·æå¢ï¼</h3>
<h4 id="æå¡çæåä¸æ²»ç">æå¡çæåä¸æ²»ç</h4>
<h5 id="æå¡æå">æå¡æå</h5>
<p>æä»¬å¯ä»¥æåºå¤§çåä½æ¶æï¼æ ¹æ®ä¸å¡æåæå¤ä¸ªä¸åçæå¡ï¼è¿æ ·åªä¸ªæå¡éå°ç¶é¢äºï¼å¯ä»¥åç¬æåºæ¥è¿è¡æ©å®¹åä¼åï¼ä¹ä¸ä¼å ä¸ºæä¸ä¸ªé¶æ®µåºé®é¢å¯¼è´æ´ä¸ªç³»ç»é½ç«äºã</p>
<p>ä¾å¦ï¼ä¸ä¸ªçµåç³»ç»æç§ä¸å¡é¢åæåæç¨æ·ãè®¢åãæ¯ä»ãåºå­è¿äºç¬ç«çæå¡ã</p>
<p><img src="https://files.mdnice.com/user/121162/6cf681b9-9d57-4606-9e1e-374fbcfd7478.png" alt="" loading="lazy"></p>
<p><strong>è¿æ ·æåä¸»è¦æ¯ä½¿ç¨åå¸å¼æ¶ææ¥éä½åç¹æéçé£é©ï¼æé«ç³»ç»çå¯ä¼¸ç¼©æ§åæ§è½ã</strong></p>
<h5 id="æå¡éç¾¤é¨ç½²">æå¡éç¾¤é¨ç½²</h5>
<p>è½ç¶è¯´ï¼å°åä½ç³»ç»æåæå¤ä¸ªç³»ç»ï¼æ¥åæäºåä½æ¶æä¸å®¹æåºç°çæéé£é©ï¼ä½å®éä¸è¿æ ·çæä½åªæ¯å°åç¹æéé£é©åæå°äºåä¸ªå­ç³»ç»ä¸ï¼è¿æ ·è¿æ¯å­å¨åç¹æéé£é©çãå æ­¤éè¦è¿è¡<strong>éç¾¤é¨ç½²:å°ä¸ä¸ªæå¡éè¿éç¾¤è¿è¡é¨ç½²ï¼æ¥æåç³»ç»æ´ä½çååéåååºéåº¦ï¼å¹¶ä½¿ç¨è´è½½åè¡¡ææ¯å°è¯·æ±åè¡¡åéç»å¤ä¸ªæå¡å¨ï¼ä»¥æé«ç³»ç»çæ§è½åå¯ç¨æ§ã</strong></p>
<p><img src="https://files.mdnice.com/user/121162/3977742e-67bc-4838-86d5-70a69b2172e0.png" alt="" loading="lazy"></p>
<p>è¿æ ·éç¾¤é¨ç½²åï¼è®©æ¯ä¸ªæå¡å¨é½æ¿æä¸é¨åçå¹¶ååæµéï¼æåæ´ä½ç³»ç»çå¹¶åè½åã</p>
<h5 id="æå¡æ²»ç">æå¡æ²»ç</h5>
<p>ææå¡åéç¾¤é¨ç½²åï¼ååçåä½ç³»ç»åæäºå¤æå¡å¤èç¹çåå¸å¼æ¶æäºï¼é£ä¹å¦ææå¡Aæ³è°ç¨æå¡Bï¼æä¹æ¾å°æå¡Bå¢ï¼å½æå åä¸ªæå¡ï¼ä¸ç¾ä¸ªèç¹ï¼å¹¶ä¸æ¯ä¸ªèç¹çIPåæ¥åå»çï¼è¯¥æä¹æ²»çè¿äºæå¡å¢ï¼è¿å°±éè¦ä¸ä¸ªéè®¯å½ï¼ç¨æ¥ä¸é¨è®°å½ï¼æ¯ä¸ªæå¡çå°åä¿¡æ¯ï¼ä¹å°±æ¯æ³¨åä¸­å¿ã</p>
<p>ä¸é¢æ¯ä¸äºå¸¸è§çæ³¨åä¸­å¿çå¯¹æ¯</p>
<table>
<thead>
<tr>
<th>æ³¨åä¸­å¿</th>
<th>CAP æ¨¡å</th>
<th>å¥åº·æ£æ¥æ¹å¼</th>
<th>å¤æ°æ®ä¸­å¿</th>
<th>Spring Cloud éæ</th>
<th>å¸åç¹ç¹</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Eureka</strong></td>
<td>APï¼å¯ç¨æ§ä¼åï¼</td>
<td>å®¢æ·ç«¯å¿è·³ï¼30sï¼</td>
<td>ä¸æ¯æ</td>
<td>åçæ¯æ</td>
<td>è½»éãä¸ Spring Cloud æ ç¼éæï¼éåå¥é¨åä¸­å°åé¡¹ç®</td>
</tr>
<tr>
<td><strong>Consul</strong></td>
<td>CPï¼ä¸è´æ§ä¼åï¼</td>
<td>TCP/HTTP/gRPC ä¸»å¨æ¢æµ</td>
<td>åçæ¯æ</td>
<td>æ¯æ</td>
<td>åè½æå¨ï¼æ¯æ KV å­å¨ãACLãDNS æå¡ç­ï¼éåå¤è¯­è¨ãå¤æ°æ®ä¸­å¿åºæ¯</td>
</tr>
<tr>
<td><strong>Zookeeper</strong></td>
<td>CP</td>
<td>ä¸´æ¶èç¹å­æ´»çå¬</td>
<td>éé¢å¤éç½®</td>
<td>æ¯æ</td>
<td>æçç¨³å®ï¼å¼ºä¸è´æ§ï¼éåä¸ Dubbo ç­æ¡æ¶éåä½¿ç¨</td>
</tr>
<tr>
<td><strong>Nacos</strong></td>
<td>AP/CP å¯åæ¢</td>
<td>TCP/HTTP/MySQL/èªå®ä¹</td>
<td>æ¯æ</td>
<td>åçæ¯æ</td>
<td>é¿éå¼æºï¼éææ³¨åä¸­å¿+éç½®ä¸­å¿ + å¨æ DNSï¼éåäºåçå Spring Cloud é¡¹ç®</td>
</tr>
</tbody>
</table>
<p><strong>é£ä¹å®ä»¬æ¯æä¹å·¥ä½çå¢ï¼</strong><br>
è¿éå¯ä»¥ä»¥Nacosä¸ºä¾ï¼æå¡å¯å¨æ¶ï¼åç«¯æå¡èªå¨æèªå·±ç ipãç«¯å£æ³¨åå° Nacosãè°ç¨æ¹éè¿ Nacos è·åå¥åº·å®ä¾åè¡¨ï¼åéå Ribbon æè Loadbalancer åè´è½½åè¡¡ãæå° Nacos æ¶ï¼å¯ä»¥è¯´ä¸ä¸çå¨æéç½®ç®¡çãé«å¹¶åä¸ï¼éè¦å¨æè°æ´çº¿ç¨åæ°æèæ¥å¿çº§å«ï¼ä¸ç¨éå¯æå¡ãNacos éç½®ä¸æ¹ï¼å¨éä¸åã</p>
<blockquote>
<p>Nacos çâå¨æéç½®âæçæ¯ï¼å¨åºç¨è¿è¡æï¼æ ééå¯æå¡ï¼å³å¯å®æ¶æ¨éå¹¶çæéç½®åæ´çè½åãå®æâéç½®âä»ä»£ç /ååè§£è¦åºæ¥ï¼éä¸­å­å¨å¨ Nacos Serverï¼å¹¶éè¿ é¿è½®è¯¢ï¼Long-Pollingï¼+ çæ¬å·å¯¹æ¯ æºå¶ï¼è®©å®¢æ·ç«¯å¨æ¯«ç§çº§æç¥å°ååï¼è¿èè§¦åæ¬å°åè°æ Bean éæ°ç»å®ï¼å®ç°âç­æ´æ°âã</p>
</blockquote>
<h4 id="æ°æ®çæåè¯»ååç¦»åç">æ°æ®çæåï¼è¯»ååç¦»ãåçï¼</h4>
<h5 id="è¯»ååç¦»">è¯»ååç¦»</h5>
<p>æå¡è¿è¡äºæåï¼å¦ææ°æ®åºè¿æ¯ç¨ä¸ä¸ªï¼é£ä¹ç¶é¢è¯å®å¾å®¹æåºç°å¨æ°æ®åºï¼æä»¥æä»¬å¯ä»¥æ ¹æ®ä¸å¡åºæ¯ï¼è¯»å¤åå°/è¯»å°åå¤ï¼å°æ°æ®åºè¿è¡è¯»ååç¦»ï¼è¿æ ·å½è¯»æµéå¤§äºçæ¶åï¼ä¹ä¸ä¼å½±ååçæçã</p>
<p><strong>è¯»åºæ¯ï¼ååè¯¦æãè¯è®ºï¼èµ°åªè¯»å¯æ¬ï¼ååºæ¯ï¼ä¸åãæ¯ä»ï¼èµ°ä¸»åºã</strong> ä½æ¯è¦åå¥½çæ§ï¼å½ä¸»ä»å»¶è¿è¿é«æ¶ï¼è¦åæ¶å¤çã</p>
<h5 id="åç´æå">åç´æå</h5>
<p>æå¡è¿è¡äºæåï¼å¦ææ°æ®åºè¿æ¯ç¨ä¸ä¸ªï¼é£ä¹ç¶é¢è¯å®å¾å®¹æåºç°å¨æ°æ®åºï¼æä»¥åç´ååºæ¯å¿é¡»çï¼è¦åå°ä¸åºä¸ç¨ï¼è¿æ ·å¯ä»¥è§£å³æå¡å¤ªå¤ï¼æ°æ®åºè¿æ¥æ°å¤ªå¤çé®é¢ï¼åå°æ°æ®åºçååã</p>
<p><img src="https://files.mdnice.com/user/121162/ed4db48d-7eb7-4817-80b0-5b10689f4fc7.png" alt="" loading="lazy"></p>
<h5 id="æ°´å¹³æå">æ°´å¹³æå</h5>
<p>ä½æ¯å¦ææçè¡¨ä¸å¹´äº§çä¸äº¿æ¡æ°æ®ï¼å¹¶ä¸ä¿ææç»­å¢å ãæ°æ®éççå¤ªå¤§äºï¼å°±ä¸è¦åæ»çº ç»ä»ä¹ç´¢å¼ä¼åãäºå¡ä¼åè¿ç§å°æå°é¹çäºï¼è¿ä¸ªæ¶åå°±å¾ä¸æ°´å¹³åè¡¨äºï¼è½å°å·¥å·ç°å¨é¦éæ¯ shardingsphereï¼åå ä¸ä¸äºèªå·±çå®ç°ç»èãæ¯å¦æä»¬å©ç¨ shardingjdbc éç½®å¥½åçé®ï¼åéè¿ä¸è´æ§åå¸ç®æ³æä¸å¼ å¤§è¡¨ææä¸åé¶äºååå¼ å°è¡¨ï¼åååå¸å¨ä¸åçç©çç£çä¸ï¼è¿æ ·å°±æéä¸­ç<code>I/O</code> åååæ£äºã</p>
<p><img src="https://files.mdnice.com/user/121162/c91317bd-11a8-4751-9b51-398f0ffa6295.png" alt="" loading="lazy"></p>
<p>å½æ¶åå°ååºåè¡¨ï¼å°±æä¸ä¸ªç»ä¸è¿å»çé®é¢ï¼é£å°±æ¯åå¸å¼äºå¡ãå¨åä½æå¡æ¶æä¸ï¼ä¸ä¸ª<code>@Transaction</code>æ³¨è§£å°±è½è§£å³çé®é¢ï¼ä½æ¯å¨åå¸å¼åºæ¯ä¸å¦ä½è§£å³ï¼è¿éå¦æè½è¯´æç½ä¹æ¯ä¸ä¸ªå åé¡¹ã</p>
<p><strong>å ä¸ºä½¿ç¨äºshardingsphereï¼å¯ä»¥ä½¿ç¨æ°æ®åºç XA åè®®æèå¼å¥ Seataï¼ç¨ AT æ¨¡å¼æè TCC æ¨¡å¼æ¥è§£å³è·¨åºçäºå¡é®é¢ã</strong></p>
<h2 id="ç¬¬äºæ­¥ç¼">ç¬¬äºæ­¥âç¼â</h2>
<p>ç¼ä¹å¯ä»¥è¯´æ¯ç¼å²ï¼æå¡åæ°æ®åºçæååªæ¯è§£å³äºæ©å±æ§çé®é¢ï¼ä½å¦ææµéç¬é´çåï¼æ¯å¦ç§æï¼èæ¥å¤§ä¿ï¼æ°æ®åºè¿æ¯å®¹æä¼è¢«ææã<br>
è¿æ¶åæä»¬å°±éè¦ç¬¬äºæï¼<strong>ç¼å²</strong>ã</p>
<p>å·ä½ç¹è¯´å°±æ¯æµéæ¥äºï¼æä»¬è¦æ¡ååï¼å½æµéè¿æ¥çæ¶åï¼å¯ä»¥éè¿åç½®æªæ½åæ¡ä½ä¸é¨åï¼ç¶ååå°å¤§éçå¹¶åè¯·æ±åææåºçæéè¯·æ±å°æå¡çååéä¸æ¥ã</p>
<h3 id="è¯»æµéå¤ç">è¯»æµéå¤ç</h3>
<p>å½è¯»æµéå¾å¤§æ¶ï¼æä»¬å¯ä»¥ååä¸äºåç½®ç¼å­ï¼ä¹å°±æ¯Redisãè¿ä¸å±çæ ¸å¿ç®æ å°±æ¯è¿æ»¤æ æè¯·æ±ï¼è¯»åç­ç¹æ°æ®ãè¯·æ±è¿æ¥ä¹åï¼åå«å»æ¥åºï¼åæ¥ Redisã<br>
æ¯å¦è¯´ç§æåºæ¯ï¼åºå­æ²¡äºï¼ç´æ¥å¨ redis å±è¿åå·²ç»å®ç½ï¼æ°æ®åºæ ¹æ¬æè§ä¸å°ååã</p>
<p><img src="https://files.mdnice.com/user/121162/91f681bb-6e05-458a-b4a2-50652b46db3d.png" alt="" loading="lazy"></p>
<p>å ä¸ºå äºRedisï¼è¿ä¸ªæ¶åï¼å°±å¾å®¹æä¼è¢«é®å°ï¼å¦æRedisæäºæä¹åå¢ï¼æèæçç´æ¥é®ï¼ç¼å­ç©¿éãç¼å­å»ç©¿ãç¼å­éªå´©æä¹å¤çå¢ï¼</p>
<ul>
<li>ç¼å­ç©¿é
<ul>
<li>å¤§éçåå¾è¯·æ±æ°æ®ï¼ç¼å­ä¸­æ²¡æãDBä¸­ä¹æ²¡æï¼æ¥è¯¢ç¼å­ä¸å­å¨ï¼åæµéç´æ¥æå°DBã</li>
<li>è§£å³æ¹æ¡ï¼ç¼å­ç©ºå¼ï¼å¯¹ä¸å­å¨çæ°æ®ä¹ç¼å­ä¸ä¸ªè¾ç­æ¶é´ï¼ä½¿ç¨å¸éè¿æ»¤å¨è¿æ»¤ä¸å­å¨çæ°æ®ã</li>
</ul>
</li>
<li>ç¼å­å»ç©¿
<ul>
<li>é«é¢ç­ç¹çªç¶è¿æï¼å¤§éè¯·æ±å»ç©¿ç¼å­ï¼è¯·æ±å°DBã</li>
<li>è§£å³æ¹æ¡ï¼ä¸äºç­ç¹ç¼å­æ°æ®å¯ä»¥ä¸è®¾ç½®è¿ææ¶é´æè®¿é®åå»¶é¿è¿ææ¶é´ï¼ç¨ä¸äºäºæ¥éæ¥éä½æ°æ®ï¼ç¼å­å¤±ææ¶åéä½ï¼å½ä»DBä¸­å è½½å®æ°ç¼å­æ°æ®ååéæ¾éã</li>
</ul>
</li>
<li>ç¼å­éªå´©
<ul>
<li>å¤§éæ°æ®åæ¶å¤±ææç¼å­åºé®é¢äºææäºã</li>
<li>è§£å³æ¹æ¡ï¼å¯ä»¥ç»ç¼å­æ°æ®åæ£çè®¾ç½®è¿ææ¶é´ï¼é²æ­¢åä¸æ¶é´å¤±æï¼ç­ç¹æ°æ®å¯ä»¥ä¸è®¾ç½®è¿ææ¶é´ï¼ç¼å­åºé®é¢æ¶ï¼ä¸è½ç´æ¥æå°DBï¼åéçº§å¤çï¼ç¼å­éç¾¤é¨ç½²ï¼æåå¯ç¨æ§ï¼éä½éªå´©é£é©ã</li>
</ul>
</li>
</ul>
<h3 id="åæµéå¤ç">åæµéå¤ç</h3>
<p>æäºç¬¬Redisçç¼å²ï¼æ¥ä¸æ¥å°±æ¯ç¬¬äºå±MQçç¼å²äºï¼å ä¸ºå¦ææ¯å¤§éçè¯»è¯·æ±å¯ä»¥ç¨Redisæä½ï¼ä½æ¯å¦ææ¯å¤§éçåè¯·å¢ï¼ä¾å¦ï¼ä¸åè¯·æ±ï¼ä½ å¦æç´æ¥ç»æå°æ°æ®åºï¼é£ä¸ä½æ°æ®åºä¼å´©äºï¼è¿è¯·æ±ä¹é½å¾ä¸¢äºã</p>
<p>è¿æ¶å°±å¯ä»¥å¼å¥MQï¼æ¶æ¯éåï¼ï¼å¼å¥MQåçé»è¾å°±åæäºï¼ç¨æ·ä¸ååååºä¸ä¸ªæ¶æ¯ç»MQï¼ç¶åç«é©¬è¿åç»å®¢æ·æ­£å¨æéï¼è¿æ ·ååºå°±åå¿«äºï¼ç¨æ·ä¹è½åæ¶çå°ç¶æååã</p>
<p><img src="https://files.mdnice.com/user/121162/85f48926-10ff-4b5d-b867-f7e20c8ab6d0.png" alt="" loading="lazy"></p>
<p>è®¢åæå¡æ ¹æ®èªå·±çæ¶è´¹è½åï¼æ¢æ¢çä»MQä¸­æåæ¶æ¯æ¥è¿è¡å¤çï¼è¿å°±æé«å¹¶ååæäºä½å¹¶åãå®éè½å°éåéå¸¸æ¥è¯´æ¯è¾å»ºè®® <code>Kafka</code> æèæ¯ <code>Rocketmq</code>ãä½ <code>Kafka</code> å®æ´å éååæ¥å¿ééè¿äºååéæé«çåºæ¯ï¼æ´å¤åºæ¯æä»¬ä¼ä¹ æ¯ç¨ <code>Rocketmq</code>ï¼å®æ¯è¾éåéèäº¤æï¼èä¸å®æ¯æäºå¡æ¶æ¯ï¼å¯é æ§éå¸¸çå¥½ã</p>
<p>è¿éå¨è®²å°MQçæ¶åï¼ä¹ææ¶ä¼è¢«é®ï¼MQæ¶æ¯å¦ä½ä¸ä¸¢ï¼å¦ä½ä¿è¯ä¸éå¤æ¶è´¹ï¼</p>
<ul>
<li>å¦ä½ä¸ä¸¢æ¶æ¯ï¼åéæ¹åªè¦ä¿è¯MQ æ¶æ¯åéæåå³å¯ï¼å©ä¸çç±MQèªèº«ä¿è¯ï¼MQä¼ææä¹åä»¥ååçå¯æ¬æºå¶ï¼æ¶æ¯æ¥æ¶æ¹ä¹è¦ä¿è¯å¨çæ­£å¤çæåæ¶æ¯ååæäº¤offsetã</li>
<li>å¦ä½ä¸éå¤æ¶è´¹ï¼å¯ä»¥å¨åéæ¹åæ¶æ¯æ¶è¿è¡ä¸äºé²æ­¢éå¤åéçå¤çï¼æ¶æ¯æ¥æ¶æ¹ä¹è¦åå¹ç­å¤çï¼ä¾å¦ç¨Redisè®°å½æ¶æ¯IDã</li>
</ul>
<h2 id="ç¬¬ä¸æ­¥é²">ç¬¬ä¸æ­¥âé²â</h2>
<p>åé¢ä¸¤æ­¥æ¯è¿æ»ï¼æåè¿ä¸æ­¥å°±æ¯é²å®äºã<br>
å¦ææµéççè¶è¿äºç³»ç»çç©çæéæèæä¸ªæå¡ä»£ç åççæ¥éäºæä¹åï¼<br>
æä»¬å°±éè¦å»ºç«ä¸å¥å¤ç»´çé²å¾¡ä½ç³»ï¼æ ¸å¿æè·¯å°±æ¯å±å±è®¾é²ï¼ä¸¢åä¿å¸ã</p>
<h3 id="ç¬¬ä¸éé²çº¿ç½å³å±">ç¬¬ä¸éé²çº¿ï¼ç½å³å±</h3>
<p>è¿æ¯ç³»ç»çå¤§é¨ï¼æä»¬å¨è¿éå¯ä»¥åä¸äº ip ç»´åº¦çéæµï¼æ¯å¦ç¨ nginx éæµæ¨¡åéå¶åä¸ä¸ª ip æ¯ç§åªè½è®¿é®äºæ¬¡ï¼è¿å°±è½æå¤§é¨åæ¶æçç¬è«èæ¬æ»å»ç´æ¥æ¡å¨é¨å¤ï¼æ ¹æ¬ä¸è®©ä»ä»¬æ¶èåç«¯çèµæºã</p>
<h3 id="ç¬¬äºéé²çº¿åºç¨å±">ç¬¬äºéé²çº¿ï¼åºç¨å±</h3>
<p>è¿å°±æ¯ç³»ç»çååäºï¼æµéè¿äºå¾®æå¡åé¨ï¼ç°å¨æ¨èå¯ä»¥ä½¿ç¨é¿éç Sentinelï¼å®æ¯ä»¥åç Hystrix æ´å¼ºå¤§ï¼å¯ä»¥æ¯ææ§å¶å°çå¯è§åéç½®ã<br>
å¨è¿éä¸»è¦åä¸ä»¶äºæï¼<strong>éæµãçæ­ãéçº§</strong>ã</p>
<ul>
<li>éæµï¼è®¾ç½®å½QPS è¶è¿ä¸åç´æ¥æç»ï¼ä¿æ¤æå¡ä¸è¢«åå®ã</li>
<li>çæ­ï¼ä¸æ¸¸æ¯ä»æå¡æäºï¼ä¸æ¸¸è®¢åæå¡åä¸å«æ­»ç­ï¼ç´æ¥çæ­ï¼é²æ­¢éªå´©ã</li>
<li>éçº§ï¼å¤§ä¿é«å³°æææ¥çåå²è®¢åãååæ¨èè¿äºéæ ¸å¿ä¸å¡ç´æ¥éçº§ï¼è¿åéçº§æç¤ºæç¼å­æ°æ®ï¼æ CPU ååå­å¨è®©ç»ä¸ååæ¯ä»è¿äºæ ¸å¿ä¸å¡ã</li>
</ul>
<h4 id="éæµ-ä½¿ç¨sentinelè¯´åºæ¥å¸¸ç¨çä¸¤ç§éæµæ¨¡å¼">éæµ ä½¿ç¨Sentinelï¼è¯´åºæ¥å¸¸ç¨çä¸¤ç§éæµæ¨¡å¼</h4>
<ul>
<li>çº¿ç¨æ°æ¨¡å¼ï¼ç§ææ¥å£æå¤§ 300 å¹¶åï¼è¶äºç´æ¥è¿åâå®ç½âã</li>
<li>QPS æ¨¡å¼ï¼ç­ä¿¡æ¥å£ 1000/sï¼ä»¤çæ¡¶åééè¿ã</li>
</ul>
<h4 id="çæ­ä½¿ç¨sentinel">çæ­ä½¿ç¨Sentinel</h4>
<p>Sentinel æâ<strong>ç»è®¡çªå£ + ä¸æçæ­å¨ï¼CLOSEãOPENãHALF_OPENï¼</strong>âåæå¯ææç Slotï¼ä¸å¡ä¾§åªéå®ä¹èµæºå fallbackï¼å¶ä½<strong>ç¶ææµè½¬ãéå¼å¤æ­ãè¶æ¶æ¢å¤å¨é¨ç±æ¡æ¶å®æï¼çæ­£åå°äºâé¶ä¾µå¥âççæ­ä¿æ¤</strong>ã</p>
<p>å¨åºç¨å±å¶å®è¿æä¸æå°±æ¯å¼å°å¤æ´»ï¼ä¸ºäºä¿è¯æ´æç«¯çæåµï¼ä¾å¦ï¼æåå¸å¤§é¢ç§¯åçµæèç½ç»åç¼è¢«ææ­äºã</p>
<h4 id="å¼å°å¤æ´»">å¼å°å¤æ´»</h4>
<ul>
<li>ä¸å°äºæºæ¿ï¼æ¯ä¸ªåºè³å°ä¸¤å¯æ¬ï¼Paxos/Raft ä¿è¯ä¸è´æ§ã</li>
<li>ä»»ä½åå¸çº§åçº¤æ­ï¼30 s åå®æ Leader éæ°éä¸»ï¼RPO=0ï¼RTO&lt;30 sã</li>
</ul>
<h3 id="å¤ç">å¤ç</h3>
<p><img src="https://files.mdnice.com/user/121162/4ee16cc7-26fa-4166-a5e6-16c0ba49f3da.png" alt="" loading="lazy"></p>
<p>é«å¹¶åæ¶æè®¾è®¡æ å¤ä¹â<strong>æãç¼ãé²</strong>âä¸æ¿æ§ï¼<strong>åéè¿ä¸å¡åæ²»ãæ°æ®åçãéç¾¤åé¨ç½²æç³»ç»æ¨ªåæ©å±å°æè´</strong>ï¼<strong>åä»¥å¤çº§ç¼å­ä¸æ¶æ¯éåå°ç¬æ¶å³°å¼åå¹³æå¯çº¿æ§å¢é¿çæ¶æ¯æµ</strong>ï¼<strong>æåç¨éæµãçæ­ãéçº§ä»¥åå¼å°å¤æ´»ç­å¤ç»´é²æ¤ææ®µï¼ä¸ºç³»ç»å®ä½æåçå®¹éè¾¹ç</strong>ã<br>
ä¸æ­¥ç¯ç¯ç¸æ£ï¼å±å±éè¿ï¼æ¢å±ç¤ºäºæ¶ææç»´çä½ç³»åï¼ä¹ä½ç°äºå¨ææ¬ãå¤æåº¦ä¸å¯é æ§ä¹é´çæè¡¡èºæ¯ãçæ­£è½å°æ¶ï¼è¿éç»åä¸å¡åºæ¯ãå¢éæçåº¦ä¸è¿ç»´è½åï¼å¨âçæ³è®¾è®¡âä¸âå¡å®äº¤ä»âä¹é´æ¾å°æéåèªå·±å¬å¸çå¹³è¡¡ç¹ã</p>

</div>
<div id="MySignature" role="contentinfo">
    <div style="float:left;letter-spacing: 1px;font-size: 13px;"><p><strong>ä½èï¼</strong><a href="http://www.cnblogs.com/jimoer/">çºªè«</a>
<br>æ¬¢è¿ä»»ä½å½¢å¼çè½¬è½½ï¼ä½è¯·å¡å¿æ³¨æåºå¤ã<br>
éäºæ¬äººæ°´å¹³ï¼å¦ææç« åä»£ç æè¡¨è¿°ä¸å½ä¹å¤ï¼è¿è¯·ä¸åèµæã</p>
<!-- åäº«å¾æ å¼å§ -->
<p>æ¬¢è¿æ«æäºç»´ç å³æ³¨å¬ä¼å·ï¼<strong>Jimoer</strong></p>
<p>æç« ä¼åæ­¥å°å¬ä¼å·ä¸é¢ï¼å¤§å®¶ä¸èµ·æé¿ï¼å±åæåææ¯è½åã</p>
<p><strong>å£°æ´åä¸»ï¼</strong>å¦ææ¨è§å¾æç« å¯¹æ¨æå¸®å©ï¼å¯ä»¥ç¹å»æç« å³ä¸è§ã<a onclick="pepleFavourite();" href="javascript:void(0);" style="font-size: 14pt;">æ¨è</a>ãä¸ä¸ã</p>
<p>æ¨çé¼å±æ¯åä¸»çæå¤§å¨åï¼</p>
</div>
<div style="float:right;">
<img src="https://img2018.cnblogs.com/blog/772743/201909/772743-20190904004009398-659676330.png" alt="å¾®ä¿¡å¬ä¼å·"></div>
<!-- åäº«å¾æ ç»æ -->
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-23 17:01">2026-01-23 17:01</span>&nbsp;
<a href="https://www.cnblogs.com/jimoer">çºªè«</a>&nbsp;
éè¯»(<span id="post_view_count">105</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19523255);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19523255', targetLink: 'https://www.cnblogs.com/jimoer/p/19523255', title: 'ææ¯é¢ï¼å¦ä½è®©ä½ çç³»ç»æä½é«å¹¶åçæµéï¼' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ langchain å¿«éå¥é¨ï¼äºï¼ï¼chainé¾çåºç¨ ]]></title>
    <link>https://www.cnblogs.com/ClownLMe/p/19523156</link>
    <guid>4360548ff67536c474b0752899872859</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/ClownLMe/p/19523156" title="åå¸äº 2026-01-23 16:52">
    <span role="heading" aria-level="2">langchain å¿«éå¥é¨ï¼äºï¼ï¼chainé¾çåºç¨</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="ç®ä»">ç®ä»</h1>
<p>langchainä¸­æä¾çchainé¾ç»ä»¶ï¼è½å¤å¸®å©æé¨å¿«éçå®ç°åä¸ªç»ä»¶çæµæ°´çº¿å¼çè°ç¨ï¼åæ¨¡åçé®ç­</p>
<h1 id="chainé¾çç»æ">Chainé¾çç»æ</h1>
<p>æ ¹æ®æ¥éçèµæï¼langchainçchainé¾ç»æå¦ä¸ï¼</p>
<p>$$Input \rightarrow Prompt \rightarrow Model \rightarrow Output$$<br>
å¶ä¸­langchainæ¡æ¶æä¾äºå ä¸ªå¸¸ç¨æå»ºchainé¾çå·¥å·ï¼</p>
<table>
<thead>
<tr>
<th>å·¥å·åç§°</th>
<th>ä½ç¨</th>
<th>æµç¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>RunnablePassthrough</td>
<td>ä¼ é<strong>åæ¬</strong>çæ°æ®æ<strong>æ·»å </strong>æ°çå­æ®µ</td>
<td>$$A-&gt;B$$</td>
</tr>
<tr>
<td>RunnableParallel</td>
<td>å¹¶åè¾åºç»æå¹¶å°ç»æ<strong>åæ¶</strong>ä¼ é</td>
<td>$$A,B-&gt;C$$</td>
</tr>
<tr>
<td>RunnableLambda</td>
<td><strong>èªå®ä¹</strong>ä¼ éå·¥å·</td>
<td></td>
</tr>
</tbody>
</table>
<p>ä¹ä¸çå¾çæï¼ææ¥ä¸æ¥ç¨æ¡ä¾æ¥è§£éåç§ç¨æ³ã</p>
<h1 id="æå»ºè¾ä¸ºå¤æçchainé¾">æå»ºè¾ä¸ºå¤æçchainé¾</h1>
<p>è¿ä¸ªæ¡ä¾å ä¹ç¨äºä¸é¢ææå·¥å·ï¼ç¨äºæ¼ç¤ºç¨æ³</p>
<h3 id="æ¡ä¾">æ¡ä¾</h3>
<p>æ¡ä¾æè¿°ï¼è¾å¥è®ºæçè¯é¢ï¼åä¸ç¯950å­çé«ä¸­è®ºæã</p>
<pre><code class="language-python">import os
from langchain_community.chat_models.tongyi import ChatTongyi
from langchain_core.prompts import ChatPromptTemplate
from langchain_core.output_parsers import StrOutputParser
from langchain_core.runnables import RunnablePassthrough, RunnableParallel

#ä½ çqwenæ¨¡åapikey
os.environ["DASHSCOPE_API_KEY"] = "apikey"
model = ChatTongyi(model="qwen-max")

outline_prompt = ChatPromptTemplate.from_template(
&nbsp; &nbsp; "è¯·ç»ä¸»é¢ä¸º {topic} çè®®è®ºæåä¸ä¸ª æ»-éè¿-æ» çç®ç­å¤§çº²ï¼ä¸å±åä¸º5æ®µã"
)
outline_chain = outline_prompt | model | StrOutputParser()

def mock_search(input_data):
&nbsp; &nbsp; return """
&nbsp; &nbsp; 1. å©ï¼Google Health AI ç­æ¥ä¹³èºçåç¡®çè¶äººç±»ã
&nbsp; &nbsp; 2. å©ï¼AlphaFold é¢æµèç½è´¨ç»æï¼ç¼©ç­ç§ç å¨æã
&nbsp; &nbsp; 3. å¼ï¼GPT-4 æ®åå¯¼è´åçº§ææ¡ãåç»è®¾è®¡å²ä½èç¼©ã
&nbsp; &nbsp; 4. å¼ï¼Deepfake ææ¯è¢«ç¨äºçµä¿¡è¯éªåèåè§é¢ã
&nbsp; &nbsp; """
&nbsp; &nbsp; 
output_prompt = ChatPromptTemplate.from_template(
&nbsp; &nbsp; "ä½ æ¯ä¸ä½é«èä½æä¸å®¶ãè¯·åºäºå¤§çº²ï¼\n{outline}\nå¹¶ç»åä»¥ä¸æ¡ä¾ç´ æï¼\n{data}\n"
&nbsp; &nbsp; "å°±ä¸»é¢ã{topic}ãåä¸ç¯é«èè®ºæãè¦æ±ï¼950å­å·¦å³ï¼è®ºè¯ä¸¥å¯ï¼æéæç¶ã"
)
output_chain = output_prompt | model | StrOutputParser()

complex_chain = (
&nbsp; &nbsp; RunnableParallel({
&nbsp; &nbsp; &nbsp; &nbsp; "outline": outline_chain, &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; "data": mock_search, &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; "topic": RunnablePassthrough() &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; })
&nbsp; &nbsp; | output_chain
)

topic_input = "AI è¿æ­¥çå©ä¸å¼ï¼å¨æºè½æ¶ä»£ä¿æäººç±»çæ¸©åº¦"
print(f"æ­£å¨ä¸ºæ¨æ°åå³äºã{topic_input}ãçè®ºæ...\n")

final_essay = complex_chain.invoke({"topic": topic_input})
print(final_essay)
</code></pre>
<h3 id="ä»£ç è§£é">ä»£ç è§£é</h3>
<p>å¶ä»çä»£ç æä¸æè§£éäºï¼è¿éå°±ä¸åºè¯äºï¼æçéè®²chainé¾çæå»ºï¼æ»ä½chainé¾çæµç¨å¦ä¸ï¼</p>
<pre><code>è¾å¥è¯é¢-&gt;è·ååä½çå¤§çº² âââ®
                        âââ¶ æ ¹æ®å¤§çº²åç¤ºä¾åä¸ç¯è®ºæ
         æ¥è¯¢ç¸å³çç¤ºä¾ âââ¯
</code></pre>
<p>æ ¹æ®è¾å¥æµç¨å¾æµç¨ï¼æä»¬ä¸ªä»¥åè§£æä¸ä¸ªä¸ªç¸å³çé¾ï¼åå°åä¸ªé¾ä¸²èµ·æ¥ã</p>
<h4 id="æå»ºåé¨åçé¾">æå»ºåé¨åçé¾</h4>
<h5 id="1è·ååä½å¤§çº²">1.è·ååä½å¤§çº²</h5>
<pre><code class="language-python">outline_prompt = ChatPromptTemplate.from_template(
&nbsp; &nbsp; "è¯·ç»ä¸»é¢ä¸º {topic} çè®®è®ºæåä¸ä¸ª æ»-éè¿-æ» çç®ç­å¤§çº²ï¼ä¸å±åä¸º5æ®µã"
)
outline_chain = outline_prompt | model | StrOutputParser()
</code></pre>
<p><strong>æµç¨æè¿°</strong>ï¼æå»ºprompt-&gt;åç»ai-&gt;å°è¿åè§£ææææ¬</p>
<blockquote>
<p>è¿éç¨ç<code>ChatPromptTemplate.from_template</code>åä¸ç<code>ChatPromptTemplate.from_messages</code>ä¸åï¼åºå«å¨äºåèæ¯è¾ç®åï¼ç¸å½äºåèç´æ¥ç¨<code>user</code>å­å¸çå½¢å¼ï¼åè<code>from_messages</code>ælangchainæ¡æ¶æä¾çpromptæ¨¡æ¿</p>
</blockquote>
<h5 id="2æ¥è¯¢ç¸å³çç¤ºä¾">2.æ¥è¯¢ç¸å³çç¤ºä¾</h5>
<p>è¿éå°±ç´æ¥ç¨Geminiï¼mockä¸äºæ¨¡ææ°æ®ï¼ä¸ä¿è¯çï¼ï¼ç¨äºå®ææ¡ä¾ï¼å®éæåµå¯ä»¥èªå·±å®åæç´¢é»è¾ã</p>
<pre><code class="language-python">def mock_search(input_data):
&nbsp; &nbsp; return """
&nbsp; &nbsp; 1. å©ï¼Google Health AI ç­æ¥ä¹³èºçåç¡®çè¶äººç±»ã
&nbsp; &nbsp; 2. å©ï¼AlphaFold é¢æµèç½è´¨ç»æï¼ç¼©ç­ç§ç å¨æã
&nbsp; &nbsp; 3. å¼ï¼GPT-4 æ®åå¯¼è´åçº§ææ¡ãåç»è®¾è®¡å²ä½èç¼©ã
&nbsp; &nbsp; 4. å¼ï¼Deepfake ææ¯è¢«ç¨äºçµä¿¡è¯éªåèåè§é¢ã
&nbsp; &nbsp; """
</code></pre>
<blockquote>
<p>è¿ä¸ªç¸å½äº<code>RanableLamda</code>,åé¢å¯ä»¥ä¸ç¨æ¾ç¤ºè°ç¨<code>RanableLamda(mock_search)</code></p>
</blockquote>
<h5 id="3-æ ¹æ®å¤§çº²åç¤ºä¾åä¸ç¯è®ºæ">3. æ ¹æ®å¤§çº²åç¤ºä¾åä¸ç¯è®ºæ</h5>
<pre><code class="language-python">output_prompt = ChatPromptTemplate.from_template(
&nbsp; &nbsp; "ä½ æ¯ä¸ä½é«èä½æä¸å®¶ãè¯·åºäºå¤§çº²ï¼\n{outline}\nå¹¶ç»åä»¥ä¸æ¡ä¾ç´ æï¼\n{data}\n"
&nbsp; &nbsp; "å°±ä¸»é¢ã{topic}ãåä¸ç¯é«èè®ºæãè¦æ±ï¼950å­å·¦å³ï¼è®ºè¯ä¸¥å¯ï¼æéæç¶ã"
)
output_chain = output_prompt | model | StrOutputParser()
</code></pre>
<p><strong>æµç¨æè¿°</strong>ï¼æå»ºprompt-&gt;åç»ai-&gt;å°è¿åè§£ææææ¬</p>
<h4 id="å°åä¸ªé¾è¿èµ·æ¥">å°åä¸ªé¾è¿èµ·æ¥</h4>
<pre><code class="language-python">complex_chain = (
&nbsp; &nbsp; RunnableParallel({
&nbsp; &nbsp; &nbsp; &nbsp; "outline": outline_chain, &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; "data": mock_search, &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; "topic": RunnablePassthrough() &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; })
&nbsp; &nbsp; | output_chain
)
</code></pre>
<p>è¿éå©ç¨<code>RunnableParallel</code>å°<code>è·ååä½çå¤§çº²</code>å<code>æ¥è¯¢ç¸å³çç¤ºä¾</code>ä¸¤ä¸ªæµç¨å¹¶åè¿è¡åä¸èµ·è¾åºå°åé¢ï¼ä¼ éç»output_chainç»§ç»­å¤çã</p>
<h1 id="é®é¢">é®é¢</h1>
<ol>
<li><strong>æä¸æ³å©ç¨RunnableParallelè¡ä¸è¡ï¼</strong> å½ç¶å¯ä»¥ï¼å¯ä»¥ç¨çº¿æ§æ¥ä»£æ¿ï¼åæ¥èµæï¼ååå¤§çº²ï¼ç¶ååè¿è¡æç« è¾åºï¼ä½æ¯æçå¯è½ä¼æ¯è¾æ¢ã</li>
<li><strong>æå¸æçå°è¾åºçdataåoutlineå­æ®µæä¹åï¼</strong> ï¼å¯ä»¥å©ç¨<code>RunnablePassthrough().assign</code>å°çæçææ¬ä¿å­å¨æ°çå­æ®µä¸­ï¼è°ç¨æ¶æ ¹æ®<strong>å­å¸</strong>çæ¹å¼å®ä½åä¸ªææ¬ï¼å¦ä¸ï¼</li>
</ol>
<pre><code class="language-python">complex_chain = (
&nbsp; &nbsp; RunnableParallel({
&nbsp; &nbsp; &nbsp; &nbsp; "outline": outline_chain, &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; "data": mock_search, &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; "topic": RunnablePassthrough() &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; })
&nbsp; &nbsp; | RunnablePassthrough().assign(essay=output_chain)
)

print(response['essay'])
print(response['data'])
......
</code></pre>
<p><strong>å¦æâ¤åæ¬¢â¤æ¬ç³»åæç¨ï¼å°±ç¹ä¸ªå³æ³¨å§ï¼åç»­ä¸å®ææ´æ°~</strong></p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.002777777777777778" data-date-updated="2026-01-23 16:56">2026-01-23 16:52</span>&nbsp;
<a href="https://www.cnblogs.com/ClownLMe">ClownLMe</a>&nbsp;
éè¯»(<span id="post_view_count">14</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19523156);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19523156', targetLink: 'https://www.cnblogs.com/ClownLMe/p/19523156', title: 'langchain å¿«éå¥é¨ï¼äºï¼ï¼chainé¾çåºç¨' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ DBShadow.netä¹æ§è½ä¼åçåå·è·¯ ]]></title>
    <link>https://www.cnblogs.com/xiangji/p/19522084</link>
    <guid>38fb2410ad8a9d9f9c80a4960171d0a3</guid>
    <description>
    <![CDATA[ 
		<h2>
			<a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/xiangji/p/19522084" title="åå¸äº 2026-01-23 14:08">
    <span role="heading" aria-level="2">DBShadow.netä¹æ§è½ä¼åçåå·è·¯</span>
    

</a>

		</h2>
		<div class="postText"><div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="ä¸mysqlåæ°çææ¬">ä¸ãmysqlåæ°çææ¬</h2>
<blockquote>
<ul>
<li>ä½¿ç¨BenchmarkDotNetæµè¯</li>
</ul>
</blockquote>
<h3 id="1-æµè¯ä»£ç å¦ä¸">1. æµè¯ä»£ç å¦ä¸</h3>
<blockquote>
<ul>
<li>CreateParameterç´æ¥æé åæ°</li>
<li>Cloneé¢åæé åæ°ååç±»å,å¤å¶ååªè®¾ç½®åæ°å¼</li>
</ul>
</blockquote>
<pre><code class="language-csharp">private static readonly MySqlCommand _command = new();
private static MySqlParameter _idParameter;

[Benchmark(Baseline = true)]
public DbParameter CreateParameter()
{
    var id = _command.CreateParameter();
    id.ParameterName = "Id";
    id.DbType = System.Data.DbType.Int64;
    id.Value = 1L;
    return id;
}
[Benchmark]
public DbParameter Clone()
{
    var id = _idParameter.Clone();
    id.Value = 1L;
    return id;
}

[GlobalSetup]
public void Setup()
{
    _idParameter = _command.CreateParameter();
    _idParameter.ParameterName = "Id";
    _idParameter.DbType = System.Data.DbType.Int64;
}
</code></pre>
<h3 id="2-æµè¯ç»æå¦ä¸">2. æµè¯ç»æå¦ä¸</h3>
<blockquote>
<ul>
<li>éè¿å¤å¶æ¹å¼èçäº80%çæ¶é´</li>
<li>æè§ææå¤´,æä»¥å¸ææå¤å¶åæ°çåè½å å¥å°DBShadow.netä¸­ç¨æ¥æé«æ§è½</li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th>Method</th>
<th style="text-align: right">Mean</th>
<th style="text-align: right">Error</th>
<th style="text-align: right">StdDev</th>
<th style="text-align: right">Ratio</th>
<th style="text-align: right">Gen0</th>
<th style="text-align: right">Allocated</th>
<th style="text-align: right">Alloc Ratio</th>
</tr>
</thead>
<tbody>
<tr>
<td>CreateParameter</td>
<td style="text-align: right">58.60 ns</td>
<td style="text-align: right">0.185 ns</td>
<td style="text-align: right">0.213 ns</td>
<td style="text-align: right">1.00</td>
<td style="text-align: right">0.0064</td>
<td style="text-align: right">112 B</td>
<td style="text-align: right">1.00</td>
</tr>
<tr>
<td>Clone</td>
<td style="text-align: right">11.01 ns</td>
<td style="text-align: right">0.387 ns</td>
<td style="text-align: right">0.431 ns</td>
<td style="text-align: right">0.19</td>
<td style="text-align: right">0.0064</td>
<td style="text-align: right">112 B</td>
<td style="text-align: right">1.00</td>
</tr>
</tbody>
</table>
<h2 id="äºcloneéååæ°é¢ç¼è¯">äºãCloneéååæ°é¢ç¼è¯</h2>
<h3 id="1-çæçä»£ç å¦ä¸">1. çæçä»£ç å¦ä¸</h3>
<blockquote>
<ul>
<li>é¢ç¼è¯åå°commandååæ°ç±»å,ä»¥ä¾¿çææ´åçæ´å¿«çä»£ç </li>
<li>å¶ä¸­cachedæ¯é¢åæé å¥½çåæ°ç¼å­ä½ä¸ºå¸¸é</li>
<li>cachedå«æåæ°ååç±»åä¿¡æ¯</li>
<li>Cloneååªéè¦è®¾ç½®åæ°å¼å³å¯</li>
</ul>
</blockquote>
<pre><code class="language-csharp">(DbCommand command, Todo param) =&gt;
{
    MySqlParameterCollection parameters = ((MySqlCommand)command).Parameters;
    MySqlParameter t = cached.Clone();
    t.Value = param.Id;
    // MySqlParameter Add(MySqlParameter parameter)
    return parameters.Add(t);
}
</code></pre>
<h3 id="2-éæ©æ´åéçåçæ¹æ³">2. éæ©æ´åéçåçæ¹æ³</h3>
<blockquote>
<ul>
<li>MySqlParameterCollectionæä¸¤ä¸ªAddæ¹æ³</li>
<li>å¾ææ¾éè½½Add(MySqlParameter parameter)æ´åé</li>
<li>è°ç¨éè½½Add(object value)éè¦åå¤æ¬¡ç±»åè½¬æ¢</li>
<li>æ¢ç¶çæçä»£ç å¯ä»¥æ§å¶,å°±éè¦éç¨æ´åéçéè½½</li>
</ul>
</blockquote>
<pre><code class="language-csharp">public MySqlParameter Add(MySqlParameter parameter);
public override int Add(object value);
</code></pre>
<h3 id="3-ç±»ååæ¢">3. ç±»ååæ¢</h3>
<blockquote>
<ul>
<li>é¢ç¼è¯æ¯ShadowBuilderè´è´£,åºäºADO.net(DbCommand)</li>
<li>ä¸ºäºçææ´åççä»£ç ,éè¦ç¥éå·ä½çCommandç±»å</li>
<li>æä»¥ShadowBuilderéè¦æ´å¤å®éçç±»åä¿¡æ¯</li>
<li>ä¸ºæ­¤æ¬æ¥ShadowExecutoræéè¦çæ°æ®æºä¿¡æ¯,ç°å¨ShadowBuilderä¹éè¦</li>
</ul>
</blockquote>
<h4 id="31-shadowbuilderä»¥åçä»£ç ">3.1 ShadowBuilderä»¥åçä»£ç </h4>
<pre><code class="language-csharp">class ShadowBuilder(ISqlEngine engine, IMapperOptions options);
</code></pre>
<h4 id="32-shadowbuilderç°å¨çä»£ç ">3.2 ShadowBuilderç°å¨çä»£ç </h4>
<blockquote>
<ul>
<li>å¶ä¸­CommandBuilderå¯ä»¥éè¿DbDataSourcetæ¨å¯¼åºæ¥</li>
<li>ä¹å°±æ¯å®éåªå¢å äºDbDataSource</li>
</ul>
</blockquote>
<pre><code class="language-csharp">class ShadowBuilder(IMapperOptions options, ISqlEngine engine, DbDataSource dataSource, CommandBuilder commandBuilder);
</code></pre>
<pre><code class="language-csharp">var command = dataSource.CreateConnection().CreateCommand();
var parameterType = command.CreateParameter().GetType();
CommandBuilder commandBuilder = CommandBuilder.Create(command, parameterType);
</code></pre>
<h4 id="33-åæ¢çè¿ç¨">3.3 åæ¢çè¿ç¨</h4>
<blockquote>
<ul>
<li>éè¿DbDataSourceæ¨å¯¼åºCommandBuilder</li>
<li>å¶ä¸­CreateConnectionãCreateCommandåCreateParameterç­æ¹æ³å¹¶ä¸å®éæ§è¡æ°æ®åºIOæä½,åªæ¯ç¨æ¥åæ¢ç±»åä¿¡æ¯</li>
</ul>
</blockquote>
<pre><code class="language-csharp">var command = dataSource.CreateConnection().CreateCommand();
var commandType = command.GetType();
var parametersProperty = commandType.GetProperty("Parameters", BindingFlags.Instance | BindingFlags.DeclaredOnly);
var parametersType = parametersProperty.PropertyType;
var parameterType = command.CreateParameter().GetType();
var addParameterMethod = parametersType.GetMethod("Add", [parameterType]);
</code></pre>
<h3 id="4-shadowexecutorååæ¯è¾å°">4. ShadowExecutorååæ¯è¾å°</h3>
<blockquote>
<ul>
<li>åªæ¯æç±»ShadowBuilderæ¹ä¸ºIShadowBuilderæ¥å£</li>
<li>å®éè¿æ¯ShadowBuilderåå</li>
</ul>
</blockquote>
<h4 id="41-shadowexecutorä»¥åçä»£ç ">4.1 ShadowExecutorä»¥åçä»£ç </h4>
<pre><code class="language-csharp">class ShadowExecutor(ShadowBuilder builder, SqlSource source);
</code></pre>
<h4 id="42-shadowexecutorç°å¨çä»£ç ">4.2 ShadowExecutorç°å¨çä»£ç </h4>
<pre><code class="language-csharp">class ShadowExecutor(IShadowBuilder builder, SqlSource source);
</code></pre>
<h3 id="5-shadowbuilderåshadowcachedbuilderçå³ç³»">5. ShadowBuilderåShadowCachedBuilderçå³ç³»</h3>
<h4 id="51-shadowcachedbuilderä»¥åæ¯shadowbuilderçå­ç±»">5.1 ShadowCachedBuilderä»¥åæ¯ShadowBuilderçå­ç±»</h4>
<pre><code class="language-csharp">class ShadowCachedBuilder : ShadowBuilder;
</code></pre>
<h4 id="52-shadowcachedbuilderç°å¨æ¯shadowbuilderçåè£ç±»">5.2 ShadowCachedBuilderç°å¨æ¯ShadowBuilderçåè£ç±»</h4>
<blockquote>
<ul>
<li>éè¿æ¥å£IShadowBuilderæ¥å®ç°</li>
<li>éè¿originalæåè°ç¨åæçShadowBuilderåè½</li>
<li>è¿æ ·é¿åShadowBuilderçå¤æåº¦å¢å å½±åå°ShadowCachedBuilder</li>
<li>ShadowCachedBuilderåªè´è´£ç¼å­ç¼è¯å¥½çå¯¹è±¡</li>
</ul>
</blockquote>
<pre><code class="language-csharp">class ShadowCachedBuilder(ShadowBuilder original)
    : IShadowBuilder;
</code></pre>
<h2 id="ä¸å¤æçç°å®ä¸ç">ä¸ãå¤æçç°å®ä¸ç</h2>
<h3 id="1-sqliteparameterä¸æ¯æå¤å¶">1. SqliteParameterä¸æ¯æå¤å¶</h3>
<blockquote>
<ul>
<li>SqliteParameteræ²¡æå®ç°ICloneableæ¥å£</li>
<li>SqliteParameterä¹æ²¡æCloneæ¹æ³</li>
</ul>
</blockquote>
<h3 id="2-sqlparameterå¯ä»¥å¤å¶ä½æ§è½ä¸ä½³">2. SqlParameterå¯ä»¥å¤å¶,ä½æ§è½ä¸ä½³</h3>
<blockquote>
<ul>
<li>SqlParameter(Mssql)å®ç°äºICloneableæ¥å£</li>
</ul>
</blockquote>
<h4 id="21-æµè¯ä»£ç å¦ä¸">2.1 æµè¯ä»£ç å¦ä¸</h4>
<pre><code class="language-csharp">private readonly SqlCommand _command = new(); 
private ICloneable _idParameter;

[Benchmark(Baseline = true)]
public DbParameter CreateParameter()
{
    var id = _command.CreateParameter();
    id.ParameterName = "Id";
    id.DbType = System.Data.DbType.Int64;
    id.Value = 1L;
    return id;
}
[Benchmark]
public DbParameter Clone()
{
    var id = (SqlParameter)_idParameter.Clone();
    id.Value = 1L;
    return id;
}
[GlobalSetup]
public void Setup()
{
    var idParameter = _command.CreateParameter();
    idParameter.ParameterName = "Id";
    idParameter.DbType = System.Data.DbType.Int64;
    _idParameter = idParameter;
}
</code></pre>
<h4 id="22-æµè¯ç»æå¦ä¸">2.2 æµè¯ç»æå¦ä¸</h4>
<blockquote>
<ul>
<li>Cloneæ¹å¼æ¯ç´æ¥CreateParameteræ¹å¼è¿æ¢</li>
<li>è¿å°±æ¯ä¸ºä»ä¹CommandBuilderå¯ä»¥æ¨å¯¼åºæ¥è¿è¦ä½ä¸ºShadowBuilderåæ°çåå </li>
<li>ç°å¨åªè½æéæ©æäº¤ç»ç¨æ·,è®©ç¨æ·å³å®æ¯å¦å¯ç¨Cloneæ¹å¼</li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th>Method</th>
<th style="text-align: right">Mean</th>
<th style="text-align: right">Error</th>
<th style="text-align: right">StdDev</th>
<th style="text-align: right">Median</th>
<th style="text-align: right">Ratio</th>
<th style="text-align: right">RatioSD</th>
<th style="text-align: right">Gen0</th>
<th style="text-align: right">Allocated</th>
<th style="text-align: right">Alloc Ratio</th>
</tr>
</thead>
<tbody>
<tr>
<td>CreateParameter</td>
<td style="text-align: right">15.38 ns</td>
<td style="text-align: right">0.942 ns</td>
<td style="text-align: right">0.967 ns</td>
<td style="text-align: right">14.53 ns</td>
<td style="text-align: right">1.00</td>
<td style="text-align: right">0.09</td>
<td style="text-align: right">0.0106</td>
<td style="text-align: right">184 B</td>
<td style="text-align: right">1.00</td>
</tr>
<tr>
<td>Clone</td>
<td style="text-align: right">24.84 ns</td>
<td style="text-align: right">0.169 ns</td>
<td style="text-align: right">0.194 ns</td>
<td style="text-align: right">24.81 ns</td>
<td style="text-align: right">1.62</td>
<td style="text-align: right">0.10</td>
<td style="text-align: right">0.0106</td>
<td style="text-align: right">184 B</td>
<td style="text-align: right">1.00</td>
</tr>
</tbody>
</table>
<h2 id="åparameterbuilder">åãParameterBuilder</h2>
<blockquote>
<ul>
<li>ParameterBuilderè´è´£åå°åæ°å®éç±»ååæ¹æ³,ç¨äºçææ´é«æçä»£ç </li>
<li>ParameterBuilderæ¯æ½è±¡ç±»,æ3ä¸ªå·ä½å®ç°</li>
</ul>
</blockquote>
<h3 id="1-buildbynamedconstructor">1. BuildByNamedConstructor</h3>
<blockquote>
<ul>
<li>éè¿å«åæ°åæé å½æ°åå»ºåæ°</li>
</ul>
</blockquote>
<h3 id="2-buildbydefaultconstructor">2. BuildByDefaultConstructor</h3>
<blockquote>
<ul>
<li>éè¿é»è®¤æé å½æ°åå»ºåæ°,ç¶åè®¾ç½®åæ°å</li>
</ul>
</blockquote>
<h3 id="3-buildbymethod">3. BuildByMethod</h3>
<blockquote>
<ul>
<li>éè¿commandçCreateParameteræ¹æ³åå»ºåæ°,ç¶åè®¾ç½®åæ°å</li>
</ul>
</blockquote>
<h3 id="4-parameterbuilderçæå">4. ParameterBuilderçæå</h3>
<blockquote>
<ul>
<li>Newæ¹æ³ç¨äºåå»ºåæ°å®ä¾</li>
<li>SetParameterNameæ¹æ³ç¨äºè®¾ç½®åæ°çParameterNameå±æ§</li>
<li>SetDbTypeæ¹æ³ç¨äºè®¾ç½®åæ°çDbTypeå±æ§</li>
<li>SetValueæ¹æ³ç¨äºè®¾ç½®åæ°çValueå±æ§</li>
<li>GetParameterNameæ¹æ³ç¨äºçæéååæ°çå­åæ°å</li>
</ul>
</blockquote>
<h3 id="5-éååæ°">5. éååæ°</h3>
<blockquote>
<ul>
<li>å¤§é¨åæ°æ®åºå¹¶ä¸æ¯æéååæ°</li>
<li>å æ­¤éè¦çæå¤ä¸ªåç¬çå­åæ°æ¥å®éæ§è¡</li>
<li>eg: IN @Ids éè¦è½¬åä¸º IN (@Ids0, @Ids1, @Ids2),Idsä¸ºéååæ°</li>
<li>éååæ°å¾ç¹æ®,éè¦å®éæ§è¡çæ¶åæç¡®å®å®éå­åæ°çä¸ªæ°</li>
<li>éè¿é¢ç¼è¯å¯ä»¥çæéåå®åéåçæå­åæ°çä»£ç </li>
</ul>
</blockquote>
<h2 id="äºiparameterfactory">äºãIParameterFactory</h2>
<blockquote>
<ul>
<li>IParameterFactoryå°±æ¯åæ°å¤ççæ½è±¡</li>
<li>ParameterFactoryæ¯é»è®¤å®ç°</li>
<li>CloneParameterFactoryæ¯Cloneæ¹å¼å®ç°</li>
<li>èIParameterFactoryä½ä¸ºCommandBuilderçæå,å¤çåæ°é¨åçé»è¾</li>
</ul>
</blockquote>
<h3 id="1-parameterfactory">1. ParameterFactory</h3>
<blockquote>
<ul>
<li>é»è®¤çåæ°å¤çå®ç°</li>
<li>ParameterFactoryåå«ParameterBuilder,ç¨äºçææ´é«æçåæ°å¤çä»£ç </li>
<li>CloneParameterFactoryä¹éè¦è°ç¨ParameterFactoryçåè½</li>
</ul>
</blockquote>
<h4 id="11-æ°æ®åºç±»åå¤ç">1.1 æ°æ®åºç±»åå¤ç</h4>
<blockquote>
<ul>
<li>å¯ä»¥éè¿éåCheckDbTypeCoreæ¹æ³æ¥å¤çç¹æ®çæ°æ®åºç±»åæ å°éæ±</li>
</ul>
</blockquote>
<pre><code class="language-csharp">/// &lt;summary&gt;
/// å¤çæ°æ®åºç±»å(é¢çæ©å±å¤çç¹æ®éæ±)
/// &lt;/summary&gt;
/// &lt;param name="valueType"&gt;&lt;/param&gt;
protected virtual DbType CheckDbTypeCore(Type valueType)
    =&gt; CheckDbType(valueType);
/// &lt;summary&gt;
/// é»è®¤æ°æ®åºç±»å
/// &lt;/summary&gt;
/// &lt;param name="valueType"&gt;&lt;/param&gt;
/// &lt;returns&gt;&lt;/returns&gt;
public static DbType CheckDbType(Type valueType)
{
    if (valueType.IsArray)
        return DbType.Binary;
    var typeCode = Type.GetTypeCode(valueType);
    return typeCode switch
    {
        TypeCode.Byte =&gt; DbType.Byte,
        TypeCode.SByte =&gt; DbType.SByte,
        TypeCode.Int16 =&gt; DbType.Int16,
        TypeCode.UInt16 =&gt; DbType.UInt16,
        TypeCode.Int32 =&gt; DbType.Int32,
        TypeCode.UInt32 =&gt; DbType.UInt32,
        TypeCode.Int64 =&gt; DbType.Int64,
        TypeCode.UInt64 =&gt; DbType.UInt64,
        TypeCode.Single =&gt; DbType.Single,
        TypeCode.Double =&gt; DbType.Double,
        TypeCode.Decimal =&gt; DbType.Decimal,
        TypeCode.Boolean =&gt; DbType.Boolean,
        TypeCode.String =&gt; DbType.String,
        TypeCode.Char =&gt; DbType.StringFixedLength,
        TypeCode.DateTime =&gt; DbType.DateTime,
        _ =&gt; DbType.Object,
    };
}
</code></pre>
<h4 id="12-createparameteræ¹æ³">1.2 CreateParameteræ¹æ³</h4>
<blockquote>
<ul>
<li>å®éCreateParameterä¸ç¨äºCloneParameterFactory</li>
<li>ç¨äºåå»ºåæ°åå,ä»¥ä¾¿åç»­Cloneä½¿ç¨</li>
</ul>
</blockquote>
<pre><code class="language-csharp">/// &lt;summary&gt;
/// æé åæ°
/// &lt;/summary&gt;
/// &lt;param name="valueType"&gt;&lt;/param&gt;
/// &lt;returns&gt;&lt;/returns&gt;
DbParameter CreateParameter(Type valueType);
/// &lt;summary&gt;
/// æé åæ°
/// &lt;/summary&gt;
/// &lt;param name="name"&gt;&lt;/param&gt;
/// &lt;param name="valueType"&gt;&lt;/param&gt;
/// &lt;returns&gt;&lt;/returns&gt;
DbParameter CreateParameter(string name, Type valueType);
</code></pre>
<h4 id="13-å®ç°æ¥å£iparameterbuilder">1.3 å®ç°æ¥å£IParameterBuilder</h4>
<blockquote>
<ul>
<li>ä»¥ä¸Createæ¹æ³å®éç¨äºæé åæ°è¡¨è¾¾å¼</li>
<li>å¶ä¸­_parameterBuilderå°±æ¯ParameterBuilderå®ä¾,åé¢æä»ç»</li>
</ul>
</blockquote>
<pre><code class="language-csharp">public Expression Create(IEmitBuilder builder, string name, Expression value)
    =&gt; Create(builder, Expression.Constant(name), value);
/// &lt;summary&gt;
/// æé åæ°
/// &lt;/summary&gt;
/// &lt;param name="builder"&gt;&lt;/param&gt;
/// &lt;param name="parameterName"&gt;&lt;/param&gt;
/// &lt;param name="value"&gt;&lt;/param&gt;
/// &lt;returns&gt;&lt;/returns&gt;
public Expression Create(IEmitBuilder builder, Expression parameterName, Expression value)
{
    // var parameter = command.CreateParameter();
    // parameter.ParameterName = parameterName;
    var parameter = _parameterBuilder.New(builder, parameterName);
    // parameter.DbType = dbType;
    _parameterBuilder.SetDbType(builder, parameter, CheckDbTypeCore(value.Type));
    // parameter.Value = value;
    _parameterBuilder.SetValue(builder, parameter, value);
    return parameter;
}
</code></pre>
<h4 id="14-å®ç°æ¥å£icollectparameterbuilder">1.4 å®ç°æ¥å£ICollectParameterBuilder</h4>
<blockquote>
<ul>
<li>ICollectParameterBuilderç¨äºå¤çéååæ°çå­åæ°</li>
</ul>
</blockquote>
<pre><code class="language-csharp">public Expression CreateIndex(IEmitBuilder builder, Expression prefix, Expression index, Expression value)
    =&gt; Create(builder, ParameterBuilder.GetParameterName(prefix, index), value);
</code></pre>
<h3 id="2-cloneparameterfactory">2. CloneParameterFactory</h3>
<blockquote>
<ul>
<li>CloneParameterFactoryç±CloneParameterBuilderåCloneCollectParameterBuilderç»æ</li>
<li>CloneParameterBuilderéè¿Cloneæ¹å¼åå»ºåæ°</li>
<li>CloneCollectParameterBuilderéè¿Cloneæ¹å¼åå»ºéååæ°</li>
</ul>
</blockquote>
<h4 id="3-cloneparameterbuilder">3. CloneParameterBuilder</h4>
<h4 id="31-cloneparameterbuilderåå«parameterbuilderparameterfactoryåiemitconverteræå">3.1 CloneParameterBuilderåå«ParameterBuilderãParameterFactoryåIEmitConverteræå</h4>
<blockquote>
<ul>
<li>ParameterBuilderç¨äºå¤çåæ°å¼</li>
<li>ParameterFactoryç¨äºçæåæ°åå,ä»¥ä¾¿Cloneä½¿ç¨</li>
<li>IEmitConverterç¨äºå¤å¶åæ°</li>
</ul>
</blockquote>
<pre><code class="language-csharp">class CloneParameterBuilder(ParameterBuilder original, ParameterFactory factory, IEmitConverter cloneConverter);
</code></pre>
<h4 id="32-getprototypeæ¹æ³">3.2 GetProtoTypeæ¹æ³</h4>
<blockquote>
<ul>
<li>ç¨äºçæåæ°ååå¹¶ç¼å­</li>
<li>è°ç¨ParameterFactoryçCreateParameteræ¹æ³çæåæ°åå</li>
<li>æåæ°ååç±»åç¼å­</li>
</ul>
</blockquote>
<pre><code class="language-csharp">    /// &lt;summary&gt;
    /// è·åååç¼å­
    /// &lt;/summary&gt;
    /// &lt;param name="name"&gt;&lt;/param&gt;
    /// &lt;param name="valueType"&gt;&lt;/param&gt;
    /// &lt;returns&gt;&lt;/returns&gt;
    public DbParameter GetProtoType(string name, Type valueType)
    {
        var key = new NameTypedCacheKey(name, valueType);
        if (_protoTypes.TryGetValue(key, out var cached))
            return cached;
#if NET9_0_OR_GREATER
        lock (_lock)
#else
        lock (_protoTypes)
#endif
        {
            if (_protoTypes.TryGetValue(key, out cached))
                return cached;
            return _protoTypes[key] = _factory.CreateParameter(name, valueType);
        }
    }
</code></pre>
<h4 id="33-createæ¹æ³">3.3 Createæ¹æ³</h4>
<blockquote>
<ul>
<li>Createç¨äºæé åæ°è¡¨è¾¾å¼</li>
<li>åè°ç¨GetProtoTypeæ¹æ³è·ååæ°åå</li>
<li>è¯¥è¿ç¨åçå¨é¢ç¼è¯é¶æ®µ,ä¸ä¼å½±åè¿è¡æ¶æ§è½</li>
<li>éè¿ç¼å­é¿åä¸åæ¹æ³ç¸ååæ°ååçéå¤åå»º</li>
<li>éè¿cloneConverterçæCloneè°ç¨è¡¨è¾¾å¼</li>
<li>æåè°ç¨ParameterBuilderè®¾ç½®åæ°å¼</li>
</ul>
</blockquote>
<h3 id="4-clonecollectparameterbuilder">4. CloneCollectParameterBuilder</h3>
<blockquote>
<ul>
<li>CloneCollectParameterBuilderç¨äºå¤çéååæ°</li>
</ul>
</blockquote>
<h4 id="31-clonecollectparameterbuilderä¹æ¯åå«parameterbuilderparameterfactoryåiemitconverteræå">3.1 CloneCollectParameterBuilderä¹æ¯åå«ParameterBuilderãParameterFactoryåIEmitConverteræå</h4>
<blockquote>
<ul>
<li>ParameterBuilderç¨äºå¤çåæ°å¼</li>
<li>ParameterFactoryç¨äºçæåæ°åå,ä»¥ä¾¿Cloneä½¿ç¨</li>
<li>IEmitConverterç¨äºå¤å¶åæ°</li>
</ul>
</blockquote>
<pre><code class="language-csharp">class CloneCollectParameterBuilder(ParameterBuilder original, ParameterFactory factory, IEmitConverter cloneConverter);
</code></pre>
<h4 id="32-getprototypeæ¹æ³-1">3.2 GetProtoTypeæ¹æ³</h4>
<blockquote>
<ul>
<li>ç¨äºçæéååæ°ååå¹¶ç¼å­</li>
<li>è°ç¨ParameterFactoryçCreateParameteræ¹æ³çæåæ°åå</li>
<li>æç±»åç¼å­</li>
<li>CollectParameterPrototype(éååæ°åå)ç¨äºå®éå¤çéååæ°çå­åæ°</li>
</ul>
</blockquote>
<pre><code class="language-csharp">    /// &lt;summary&gt;
    /// è·åååç¼å­
    /// &lt;/summary&gt;
    /// &lt;param name="valueType"&gt;&lt;/param&gt;
    /// &lt;returns&gt;&lt;/returns&gt;
    public CollectParameterPrototype GetProtoType(Type valueType)
    {
        if (_protoTypes.TryGetValue(valueType, out var protoType))
            return protoType;
#if NET9_0_OR_GREATER
        lock (_lock)
#else
        lock (_protoTypes)
#endif
        {
            if (_protoTypes.TryGetValue(valueType, out protoType))
                return protoType;
            var parameter = _factory.CreateParameter(valueType);
            return _protoTypes[valueType] = new(_original, parameter, _cloneConverter);
        }
    }
</code></pre>
<h3 id="4-collectparameterprototype">4. CollectParameterPrototype</h3>
<blockquote>
<ul>
<li>éååæ°åå</li>
</ul>
</blockquote>
<h4 id="41-åå«parameterbuilderiemitconverteråååç¼å­">4.1 åå«ParameterBuilderãIEmitConverteråååç¼å­</h4>
<pre><code class="language-csharp">class CollectParameterPrototype(ParameterBuilder original, ConstantExpression cached, IEmitConverter cloneConverter);
</code></pre>
<h4 id="42-createindexæ¹æ³">4.2 CreateIndexæ¹æ³</h4>
<blockquote>
<ul>
<li>CreateIndexç¨äºæé éååæ°çå­åæ°</li>
<li>éè¿cloneConverterçæCloneè°ç¨è¡¨è¾¾å¼</li>
<li>æåè°ç¨ParameterBuilderè®¾ç½®åæ°åååæ°å¼</li>
</ul>
</blockquote>
<h2 id="å­toexecutor">å­ãToExecutor</h2>
<blockquote>
<ul>
<li>ç±äºShadowBuilderåå«æ°æ®æºå¯ä»¥å¾æ¹ä¾¿è½¬åä¸ºShadowExecutor</li>
<li>å¢å ToExecutoræ¹æ³ç®åæä½</li>
<li>ToExecutoræ¯IShadowBuilderçæ¹æ³,æä»¥ShadowCachedBuilderä¹æ¯æ</li>
</ul>
</blockquote>
<pre><code class="language-csharp">/// &lt;summary&gt;
/// è½¬åä¸ºæ§è¡å¨
/// &lt;/summary&gt;
/// &lt;param name="commandTimeout"&gt;&lt;/param&gt;
/// &lt;returns&gt;&lt;/returns&gt;
ShadowExecutor ToExecutor(int? commandTimeout = null);
</code></pre>
<h2 id="ä¸æ»ç»">ä¸ãæ»ç»</h2>
<blockquote>
<ul>
<li>éè¿åæ¢å®éç±»åçææ´é«æçåæ°å¤çä»£ç </li>
<li>ä¸åæ°æ®åºå·®å¼ä¸ºæ­¤å¸¦æ¥äºå¤ææ§</li>
<li>é¨åæ°æ®åºå¯ä»¥éè¿Cloneæ¹å¼åå»ºåæ°æé«æ§è½</li>
</ul>
</blockquote>
<h3 id="1-ä¸è¬ä½¿ç¨ç¤ºä¾">1. ä¸è¬ä½¿ç¨ç¤ºä¾</h3>
<blockquote>
<ul>
<li>ä¸è¬ä½¿ç¨CreateCacheæ¹æ³åå»ºShadowBuilder</li>
<li>å¦ææ¯ä¸æ¬¡æ§ä½¿ç¨æ éç¼å­å¯ä»¥ä½¿ç¨Createæ¹æ³ä»£æ¿</li>
</ul>
</blockquote>
<pre><code class="language-csharp">var engine = new MySqlEngine();
var dataSource = new MySqlDataSource(ConnectionString);
var builder = ShadowBuilder.CreateCache(Mapper.Default, engine, dataSource);
var select = table.ToQuery()
    .And(table.Id.Equal())
    .ToSelect()
    .SelectSelfColumns();
var compiled = select.BuildQuery&lt;Todo, Todo&gt;(builder);
</code></pre>
<h4 id="11-åæ°å¤ççæå¦ä¸ä»£ç ">1.1 åæ°å¤ççæå¦ä¸ä»£ç </h4>
<pre><code class="language-csharp">(DbCommand command, Todo param) =&gt;
{
    var parameters = ((MySqlCommand)command).Parameters;
    var t = new MySqlParameter();
    t.ParameterName = "Id";
    t.DbType = DbType.Int64;
    t.Value = param.Id;

    return parameters.Add(t);
}
</code></pre>
<h3 id="2-å¯ç¨cloneæ¹å¼ç¤ºä¾">2. å¯ç¨Cloneæ¹å¼ç¤ºä¾</h3>
<blockquote>
<ul>
<li>å¯ç¨Cloneè¦å¤æä¸ç¹</li>
<li>éè¦éè¿CloneParameterçæä¸ä¸ªParameterFactory</li>
<li>ç¶åä¼ å¥ShadowBuilderçCreateCacheæ¹æ³ä¸­</li>
</ul>
</blockquote>
<pre><code class="language-csharp">var engine = new MySqlEngine();
var dataSource = new MySqlDataSource(ConnectionString);
var parameterFactory = ParameterFactory.CloneParameter(new MySqlCommand())
var builder = ShadowBuilder.CreateCache(Mapper.Default, engine, dataSource, parameterFactory);
var select = table.ToQuery()
    .And(table.Id.Equal())
    .ToSelect()
    .SelectSelfColumns();
var compiled = select.BuildQuery&lt;Todo, Todo&gt;(builder);
</code></pre>
<h4 id="21-åæ°å¤ççæå¦ä¸ä»£ç ">2.1 åæ°å¤ççæå¦ä¸ä»£ç </h4>
<blockquote>
<ul>
<li>cachedæ¯é¢åæé å¥½ä½ä¸ºå¸¸éçåæ°ç¼å­</li>
<li>å¾ææ¾å¦æCloneæ¯newæ´å¿«çè¯,è¿ä¸ªä»£ç ä¼æ´é«æ</li>
<li>Mysqlä¸æ­¤æ¹æ³èæ¶ä¸ºåæ¥ç20%(ä¹å°±æ¯æ§è½æé«4å)</li>
</ul>
</blockquote>
<pre><code class="language-csharp">(DbCommand command, Todo param) =&gt;
{
    var parameters = ((MySqlCommand)command).Parameters;
    var t = cached.Clone();
    t.Value = param.Id;

    return parameters.Add(t);
}
</code></pre>
<p>å¦å¤æºç æç®¡å°å: <a href="https://github.com/donetsoftwork/DBShadow.net" target="_blank" rel="noopener nofollow">https://github.com/donetsoftwork/DBShadow.net</a> ï¼æ¬¢è¿å¤§å®¶ç´æ¥æ¥çæºç ã<br>
giteeåæ­¥æ´æ°:<a href="https://gitee.com/donetsoftwork/DBShadow.net" target="_blank" rel="noopener nofollow">https://gitee.com/donetsoftwork/DBShadow.net</a></p>
<p>å¦æå¤§å®¶åæ¬¢è¯·å¨å¨æ¨åè´¢çå°ææå¸®å¿ç¹ä¸ä¸Star,è°¢è°¢ï¼ï¼ï¼</p>

</div>
<div class="clear"></div>
</div>
		<p class="postfoot">
			posted on 
<span id="post-date" data-last-update-days="0.10902777777777778" data-date-updated="2026-01-23 16:45">2026-01-23 14:08</span>&nbsp;
<a href="https://www.cnblogs.com/xiangji">xiangji</a>&nbsp;
éè¯»(<span id="post_view_count">101</span>)&nbsp;
è¯è®º(<span id="post_comment_count">2</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19522084);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19522084', targetLink: 'https://www.cnblogs.com/xiangji/p/19522084', title: 'DBShadow.netä¹æ§è½ä¼åçåå·è·¯' })">ä¸¾æ¥</a>

		</p>
	 ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ TCPä¸æ¬¡æ¡æä¸åæ¬¡æ¥æï¼ä¸¤ä¸ªâç¤¾æâç¨åºçç ´å°ä¸åå«ä»ªå¼ ]]></title>
    <link>https://www.cnblogs.com/sun-10387834/p/19521814</link>
    <guid>e62d6d98f3a37831f1dc372fc16380c2</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/sun-10387834/p/19521814" title="åå¸äº 2026-01-23 13:24">
    <span role="heading" aria-level="2">TCPä¸æ¬¡æ¡æä¸åæ¬¡æ¥æï¼ä¸¤ä¸ªâç¤¾æâç¨åºçç ´å°ä¸åå«ä»ªå¼</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>å¨ç½ç»ä¸çéï¼TCPåè®®ç»å¯¹æ¯âä¸¥è°¨æ´¾âä»£è¡¨ââä¸åUDPé£æ ·âåå®å°±è·âï¼TCPè¦è®©ä¸¤ä¸ªè®¾å¤ä¼ æ°æ®ï¼éå¾åèµ°ä¸å¥âç¡®è®¤ä¸è¿âçç ´å°æµç¨ï¼èèå®æ¶åºæ¶ï¼ä¹å¾æè§ç©æ¥ä¸å¥âåå«åæ­¥èµ°âï¼ç»ä¸æ·è¡ç¦»åºãè¿ä¸¤å¥æµç¨ï¼å°±æ¯å±ä»¬ä»å¤©è¦æéç<strong>TCPä¸æ¬¡æ¡æï¼å»ºç«è¿æ¥ï¼</strong>ä¸<strong>åæ¬¡æ¥æï¼å³é­è¿æ¥ï¼</strong>ã</p>
<p>å¶å®è¯´ç½äºï¼ä¸æ¬¡æ¡ææ¯å®¢æ·ç«¯åæå¡å¨çâç ´å°ä»ªå¼âï¼å°±åä¸¤ä¸ªç¤¾æç½åç¬¬ä¸æ¬¡æçµè¯ï¼åå¤ç¡®è®¤ä¿¡å·éä¸éææ¢å¼å ï¼èåæ¬¡æ¥æåæ¯âä½é¢åå«âï¼å¥½æ¯èå¤©ç»æåï¼åæ¹è¦åå¤ç¡®è®¤âä½ è¯´å®äºåââæè¯´å®äºï¼ä½ å¯ä»¥æäºâï¼çæææ©äºæ¼äºéè¦åå®¹ãåé¢å±ä»¬ç¨çæ´»ååºæ¯æè§£äºä¸æ¬¡æ¡æçå®éæµç¨ï¼æ¥ä¸æ¥å°±é¡ºçèå¥ï¼æåæ¬¡æ¥æçéä¿é»è¾ååºå±åçä¸å¹¶è®²éã</p>
<h2 id="ååé¡¾ä¸æ¬¡æ¡æå»ºç«è¿æ¥æ ¸å¿æµç¨å®éç">ååé¡¾ï¼ä¸æ¬¡æ¡æï¼å»ºç«è¿æ¥ï¼æ ¸å¿æµç¨ï¼å®éçï¼</h2>
<p>ä¸ºäºè®©æ¥ææµç¨è¡æ¥æ´é¡ºçï¼å±ä»¬åå¿«éåé¡¾ä¸æ¬¡æ¡æçå®éæ ¸å¿ï¼é¿åä¸ä¸æè±èï¼</p>
<ul>
<li>
<p>ç¬¬ä¸æ­¥ï¼å®¢æ·ç«¯âæå¡å¨ï¼ï¼å®¢æ·ç«¯åSYNæ¥æåèµ·è¿æ¥ï¼åæ ¸åéä¸´æ¶ç«¯å£ãåå»ºTCBï¼ç¶æä»CLOSEDâSYN-SENTï¼</p>
</li>
<li>
<p>ç¬¬äºæ­¥ï¼æå¡å¨âå®¢æ·ç«¯ï¼ï¼æå¡å¨æ¶SYNååSYN+ACKæ¥æååºï¼åå»ºTCBï¼ç¶æä»LISTENâSYN-RCVDï¼</p>
</li>
<li>
<p>ç¬¬ä¸æ­¥ï¼å®¢æ·ç«¯âæå¡å¨ï¼ï¼å®¢æ·ç«¯æ¶SYN+ACKååACKæ¥æï¼å¯å¸¦æ°æ®ï¼ï¼ç¶æä»SYN-SENTâESTABLISHEDï¼æå¡å¨æ¶ACKåç¶æâESTABLISHEDï¼è¿æ¥æ­£å¼å»ºç«ã</p>
</li>
</ul>
<p>è¿æ¥å»ºç«åï¼åæ¹å°±å¯ä»¥æå¿«ä¼ è¾æ°æ®äºãèå½æ°æ®ä¼ å®è¦å³é­è¿æ¥æ¶ï¼å ä¸ºTCPæ¯âå¨åå·¥éä¿¡âï¼åæ¹å¯åæ¶åæ°æ®ï¼ï¼ä¸è½åå»ºç«è¿æ¥é£æ ·ç®åä¸ºä¸æ¬¡ï¼å¿é¡»éè¿åæ¬¡äº¤äºç¡®è®¤åæ¹é½ä¸ååæ°æ®ï¼è¿å°±æ¯åæ¬¡æ¥æçç±æ¥ã</p>
<h2 id="åç½®è¡¥ååæ¬¡æ¥æçæ ¸å¿åæä¸å³é®æ¦å¿µ">åç½®è¡¥åï¼åæ¬¡æ¥æçæ ¸å¿åæä¸å³é®æ¦å¿µ</h2>
<p>æ¥æååæç¡®ä¸¤ä¸ªæ ¸å¿ç¹ï¼é¿åçè§£åå·®ï¼</p>
<h3 id="1-å¨åå·¥éä¿¡ä¸å³é­é»è¾">1. å¨åå·¥éä¿¡ä¸å³é­é»è¾</h3>
<p>TCPæ¯å¨åå·¥åè®®ï¼å®¢æ·ç«¯åæå¡å¨å¯åæ¶åéæ°æ®ãå æ­¤å³é­è¿æ¥æ¶ï¼è¦åå«ç¡®è®¤âå®¢æ·ç«¯âæå¡å¨âåâæå¡å¨âå®¢æ·ç«¯âä¸¤ä¸ªæ¹åçæ°æ®æµé½å·²ç»æ­¢ï¼ä¸è½ä¸æ¬¡æ§å³é­ååè¿æ¥ã</p>
<h3 id="2-æ°å¢æ è®°ä½finä¸ç¶æ">2. æ°å¢æ è®°ä½ï¼FINï¼ä¸ç¶æ</h3>
<p>æ¥æè¿ç¨é¤äºç¨å°ACKæ è®°ä½ï¼è¿ä¼ç¨å°æ°çæ è®°ä½FINï¼Finishï¼ç»æï¼ï¼åæ¶æ¶åå ä¸ªæ°çTCPç¶æï¼æ ¸å¿å¦ä¸ï¼</p>
<ul>
<li>
<p>ãFIN=1ãï¼è¡¨ç¤ºåéæ¹å·²æ æ°æ®è¦åï¼è¯·æ±å³é­èªå·±è¿è¾¹çæ°æ®æµï¼</p>
</li>
<li>
<p>ãFIN-WAIT-1ãï¼åéFINåç­å¾å¯¹æ¹ACKçç¶æï¼</p>
</li>
<li>
<p>ãCLOSE-WAITãï¼æ¶å°å¯¹æ¹FINåï¼ç¡®è®¤å³é­è¯·æ±ï¼ç­å¾èªå·±è¿è¾¹æ°æ®åå®ååFINï¼</p>
</li>
<li>
<p>ãTIME-WAITãï¼å®¢æ·ç«¯æååå®ACKåï¼ç­å¾2MSLï¼æ¥ææå¤§çå­æ¶é´ï¼ï¼ç¡®ä¿å¯¹æ¹æ¶å°FINçACKï¼é¿åæ¥æä¸¢å¤±å¯¼è´éåã</p>
</li>
</ul>
<h2 id="åæ¬¡æ¥æå¨æµç¨ç¤¾æå¼åå«å®éåºå±äº¤äº">åæ¬¡æ¥æå¨æµç¨ï¼ç¤¾æå¼åå«+å®éåºå±äº¤äº</h2>
<p>å±ä»¬ä¾ç¶ä»¥âææºéåºå¾®ä¿¡âä¸ºä¾ï¼ä¸è¾¹ç¨éä¿å¯¹è¯çè§£é»è¾ï¼ä¸è¾¹è¡¥åæä½ç³»ç»åæ ¸ãæ¥æäº¤äºç­å®éç»èï¼å¼é¡¾æææ§ä¸ææ¯æ·±åº¦ã</p>
<h3 id="ç¬¬ä¸æ­¥ä¸»å¨æ¹åèµ·åå«è¯·æ±finackæ¥æä¸»å¨å³é­">ç¬¬ä¸æ­¥ï¼ä¸»å¨æ¹åèµ·åå«è¯·æ±ï¼FIN+ACKæ¥æï¼ä¸»å¨å³é­ï¼</h3>
<p><strong>åºæ¯</strong>ï¼ä½ ç¹å»å¾®ä¿¡éåºç»å½ï¼å®¢æ·ç«¯ï¼ææºï¼ä½ä¸ºä¸»å¨å³é­æ¹ï¼åç¥æå¡å¨âæè¿è¾¹æ°æ®åå®äºï¼è¦å³è¿æ¥äºâã</p>
<p><strong>å®éè¡ä¸º</strong>ï¼å¾®ä¿¡å®¢æ·ç«¯ç¨åºè°ç¨close()æ¥å£ï¼éç¥åæ ¸å³é­è¿æ¥ãå®¢æ·ç«¯åæ ¸åä¸¤ä»¶äºï¼</p>
<ol>
<li>
<p>åæ­¢åéæ°æ°æ®ï¼å°æªåå®çæ°æ®ä¸æ¬¡æ§åå®ï¼ç¶åæé FIN+ACKæ¥æï¼FIN=1è¡¨ç¤ºå³é­èªèº«æ°æ®æµï¼ACK=1ç¡®è®¤ä¹åæ¶å°çæå¡å¨æ°æ®ï¼ï¼åºå·seq=uï¼uæ¯å®¢æ·ç«¯æåä¸æ¬¡åæ°æ®çåºå·+1ï¼ï¼ç¡®è®¤å·ack=vï¼væ¯æå¡å¨æåä¸æ¬¡åæ°æ®çåºå·+1ï¼ï¼</p>
</li>
<li>
<p>åéæ¥æåï¼éæ¾é¨åèµæºï¼ä»ä¿çæ¥æ¶æ°æ®çè½åï¼é²æ­¢æå¡å¨è¿ææ°æ®è¦åï¼ã</p>
</li>
</ol>
<p><strong>æäººå¯¹è¯</strong>ï¼å®¢æ·ç«¯ï¼æ¸©åï¼ï¼âæå¡å¨å¤§ä½¬ï¼æè¿è¾¹æ°æ®é½åå®äºï¼è¦å³æè¿è¾¹çè¿æ¥äºï¼FIN=1ï¼ï¼ä½ ä¹ååçåå®¹æé½æ¶å°äºï¼ACK=1ï¼ï¼ä½ è¿æè¦åçåï¼â</p>
<p><strong>ç¶æåå</strong>ï¼å®¢æ·ç«¯TCPç¶æä»ESTABLISHEDâFIN-WAIT-1ï¼å¼å§è®¡æ¶ï¼ç­å¾æå¡å¨çACKååºã</p>
<h3 id="ç¬¬äºæ­¥è¢«å¨æ¹ç¡®è®¤åå«è¯·æ±ackæ¥æç­å¾èªèº«æ°æ®åå®">ç¬¬äºæ­¥ï¼è¢«å¨æ¹ç¡®è®¤åå«è¯·æ±ï¼ACKæ¥æï¼ç­å¾èªèº«æ°æ®åå®ï¼</h3>
<p><strong>åºæ¯</strong>ï¼å¾®ä¿¡æå¡å¨æ¶å°å®¢æ·ç«¯çåå«è¯·æ±ï¼åç¡®è®¤âæ¶å°äºâï¼åæ¶ç»§ç»­å¤çèªå·±è¿è¾¹æªåå®çæ°æ®ï¼æ¯å¦æåçç»å½ç¶æåæ­¥ï¼ã</p>
<p><strong>å®éè¡ä¸º</strong>ï¼æå¡å¨åæ ¸æ¶å°FIN+ACKæ¥æåï¼æ ¡éªåºå·ãç¡®è®¤å·æ è¯¯ï¼ç¶åï¼</p>
<ol>
<li>
<p>æé ACKæ¥æï¼ACK=1ï¼ï¼åºå·seq=vï¼ç¡®è®¤å·ack=u+1ï¼åç¥å®¢æ·ç«¯âä½ çFINææ¶å°äºï¼ä½ å¯ä»¥ä¸ç¨ç­æååºäºâï¼ï¼</p>
</li>
<li>
<p>åéACKåï¼æå¡å¨ä¸ä¼ç«å³å³é­è¿æ¥ï¼èæ¯ç»§ç»­åéèªèº«æªå®æçæ°æ®ï¼æ­¤æ¶æå¡å¨ä»å³é­âå®¢æ·ç«¯âæå¡å¨âçæ°æ®æµï¼èªèº«ä»å¯åå®¢æ·ç«¯åæ°æ®ã</p>
</li>
</ol>
<p><strong>æäººå¯¹è¯</strong>ï¼æå¡å¨ï¼æ²ç¨³ï¼ï¼âæ¶å°ä½ çåå«è¯·æ±äºï¼ACK=1ï¼ï¼æè¿è¾¹è¿æç¹æ°æ®æ²¡åå®ï¼ä½ åç­æä¸ä¸ï¼åå®äºæååè¯ä½ ãâ</p>
<p><strong>ç¶æåå</strong>ï¼æå¡å¨TCPç¶æä»ESTABLISHEDâCLOSE-WAITï¼å®¢æ·ç«¯æ¶å°ACKåï¼ç¶æä»FIN-WAIT-1âFIN-WAIT-2ï¼ç­å¾æå¡å¨åå®æ°æ®ååèµ·çFINæ¥æã</p>
<h3 id="ç¬¬ä¸æ­¥è¢«å¨æ¹åèµ·åå«è¯·æ±finackæ¥æè¢«å¨å³é­">ç¬¬ä¸æ­¥ï¼è¢«å¨æ¹åèµ·åå«è¯·æ±ï¼FIN+ACKæ¥æï¼è¢«å¨å³é­ï¼</h3>
<p><strong>åºæ¯</strong>ï¼æå¡å¨åå®æææ°æ®ï¼åç¥å®¢æ·ç«¯âæè¿è¾¹ä¹åå®äºï¼å±ä»¬å¯ä»¥å½»åºå³è¿æ¥äºâã</p>
<p><strong>å®éè¡ä¸º</strong>ï¼æå¡å¨åå®å©ä½æ°æ®åï¼åæ ¸æé FIN+ACKæ¥æï¼FIN=1è¡¨ç¤ºå³é­èªèº«æ°æ®æµï¼ACK=1ç¡®è®¤ä¹åçäº¤äºï¼ï¼åºå·seq=wï¼wæ¯æå¡å¨æåä¸æ¬¡åæ°æ®çåºå·+1ï¼ï¼ç¡®è®¤å·ack=u+1ï¼ä¸ç¬¬äºæ­¥çackä¸è´ï¼å ä¸ºå®¢æ·ç«¯æ­¤æ¶å·²æ æ°æ®åéï¼ï¼åéç»å®¢æ·ç«¯ã</p>
<p><strong>æäººå¯¹è¯</strong>ï¼æå¡å¨ï¼å®ææ¶å°¾ï¼ï¼âæè¿è¾¹æ°æ®ä¹åå®äºï¼è¦å³æè¿è¾¹çè¿æ¥äºï¼FIN=1ï¼ï¼ä½ ä¹åçæ¶æ¯æé½æ¶å°äºï¼ACK=1ï¼ï¼å±ä»¬å¯ä»¥åå«äºãâ</p>
<p><strong>ç¶æåå</strong>ï¼æå¡å¨TCPç¶æä»CLOSE-WAITâLAST-ACKï¼å¼å§è®¡æ¶ï¼ç­å¾å®¢æ·ç«¯çæç»ACKç¡®è®¤ã</p>
<h3 id="ç¬¬åæ­¥ä¸»å¨æ¹æç»ç¡®è®¤åå«ackæ¥æç­å¾è¶æ¶">ç¬¬åæ­¥ï¼ä¸»å¨æ¹æç»ç¡®è®¤åå«ï¼ACKæ¥æï¼ç­å¾è¶æ¶ï¼</h3>
<p><strong>åºæ¯</strong>ï¼å®¢æ·ç«¯æ¶å°æå¡å¨çåå«è¯·æ±ï¼ç¡®è®¤åæ¹é½æ æ°æ®è¦åï¼ç»åºæç»ååºï¼åæ¶ç­å¾ä¸æ®µæ¶é´ç¡®ä¿æå¡å¨æ¶å°ååºã</p>
<p><strong>å®éè¡ä¸º</strong>ï¼å®¢æ·ç«¯åæ ¸æ¶å°FIN+ACKæ¥æåï¼æ ¡éªæ è¯¯ï¼ç¶åï¼</p>
<ol>
<li>
<p>æé ACKæ¥æï¼ACK=1ï¼ï¼åºå·seq=u+1ï¼ç¡®è®¤å·ack=w+1ï¼åç¥æå¡å¨âä½ çFINææ¶å°äºï¼ä½ å¯ä»¥å®å¨å³é­äºâï¼ï¼åéç»æå¡å¨ï¼</p>
</li>
<li>
<p>åéACKåï¼å®¢æ·ç«¯ä¸ç«å³å³é­è¿æ¥ï¼èæ¯è¿å¥TIME-WAITç¶æï¼ç­å¾2MSLï¼éå¸¸æ¯2åéå·¦å³ï¼ï¼ç¡®ä¿æå¡å¨è½æ¶å°ACKï¼è¥æå¡å¨æ²¡æ¶å°ï¼ä¼éåFINï¼å®¢æ·ç«¯å¯åæ¬¡ååºï¼ãç­å¾è¶æ¶åï¼éæ¾ææèµæºåTCBã</p>
</li>
</ol>
<p><strong>æäººå¯¹è¯</strong>ï¼å®¢æ·ç«¯ï¼æ¾å¿ï¼ï¼âæ¶å°ä½ çåå«äºï¼ACK=1ï¼ï¼æç­ä¸ä¼å¿åæï¼ç¡®ä¿ä½ è½æ¶å°æçååºï¼å±ä»¬ä¸æ¬¡è§ï½â</p>
<p><strong>ç¶æåå</strong>ï¼å®¢æ·ç«¯TCPç¶æä»FIN-WAIT-2âTIME-WAITï¼ç­å¾2MSLï¼âCLOSEDï¼æå¡å¨æ¶å°ACKåï¼ç¶æä»LAST-ACKâCLOSEDï¼éæ¾ææèµæºï¼è³æ­¤ååè¿æ¥å®å¨å³é­ã</p>
<h2 id="å¯è§åæµç¨å¾ä¸æ¬¡æ¡æåæ¬¡æ¥æå¨é¾è·¯ç">å¯è§åæµç¨å¾ï¼ä¸æ¬¡æ¡æ+åæ¬¡æ¥æå¨é¾è·¯ç</h2>
<p>ç»åè¿æ¥å»ºç«ãæ°æ®ä¼ è¾ãè¿æ¥å³é­çå®æ´é¾è·¯ï¼ç¨Mermaidå¾è¿ååæ ¸ç¶æãæ¥æäº¤äºå¨æµç¨ï¼</p>
<p>ææ¶æ æ³å¨è±åææ¡£å¤å±ç¤ºæ­¤åå®¹</p>
<h2 id="å³é®å·®å¼ä¸æ ¸å¿çé®è§£ç­">å³é®å·®å¼ä¸æ ¸å¿çé®è§£ç­</h2>
<h3 id="1-ä¸ºå¥æ¥æè¦åæ¬¡æ¡æå´åªè¦ä¸æ¬¡">1. ä¸ºå¥æ¥æè¦åæ¬¡ï¼æ¡æå´åªè¦ä¸æ¬¡ï¼</h3>
<p>æ ¸å¿åå æ¯âå¨åå·¥éä¿¡âä¸âè¿æ¥é¶æ®µçç¹æ®æ§âï¼</p>
<ul>
<li>
<p>ä¸æ¬¡æ¡ææ¶ï¼æå¡å¨çSYNï¼åæ­¥è¿æ¥ï¼åACKï¼ç¡®è®¤å®¢æ·ç«¯ï¼å¯ä»¥åå¹¶ä¸ºä¸ä¸ªSYN+ACKæ¥æââå ä¸ºæ­¤æ¶æå¡å¨è¿æ²¡ææ°æ®è¦åï¼åæ­¥åç¡®è®¤å¯ä»¥ä¸æ¬¡æ§å®æï¼</p>
</li>
<li>
<p>åæ¬¡æ¥ææ¶ï¼æå¡å¨æ¶å°å®¢æ·ç«¯çFINåï¼ä¸è½ç«å³åFINï¼å¯è½è¿ææ°æ®è¦åï¼ï¼åªè½ååä¸ä¸ªACKç¡®è®¤ï¼ç­æ°æ®åå®åï¼ååç¬åFINï¼å æ­¤ACKåFINæ æ³åå¹¶ï¼å¿é¡»åæä¸¤æ­¥ï¼å¯¼è´æ»æ¬¡æ°åä¸ºåæ¬¡ã</p>
</li>
</ul>
<h3 id="2-time-waitç¶æä¸ºå¥è¦ç­2msl">2. TIME-WAITç¶æä¸ºå¥è¦ç­2MSLï¼</h3>
<p>ä¸»è¦æ¯ä¸¤ä¸ªç®çï¼é¿åè¿æ¥æ®çé®é¢ï¼</p>
<ul>
<li>
<p>ç¡®ä¿æå¡å¨æ¶å°æç»ACKï¼è¥ç¬¬åæ­¥çACKä¸¢å¤±ï¼æå¡å¨ä¼å¨è¶æ¶åéåFINï¼2MSLçæ¶é´è¶³å¤å®¢æ·ç«¯æ¶å°éåçFINå¹¶åæ¬¡ååºï¼</p>
</li>
<li>
<p>é¿åæ§æ¥æå¹²æ°æ°è¿æ¥ï¼2MSLæ¯æ¥æå¨ç½ç»ä¸­çæå¤§çå­æ¶é´ï¼ç­å¾è¶æ¶åï¼ç½ç»ä¸­è¯¥è¿æ¥çæææ§æ¥æé½ä¼å¤±æï¼åç»­æ°è¿æ¥ç¨ç¸åç«¯å£ä¹ä¸ä¼è¢«å¹²æ°ã</p>
</li>
</ul>
<h3 id="3-å¸¸è§åç¹å®éåºæ¯è¡¥å">3. å¸¸è§åç¹ï¼å®éåºæ¯è¡¥åï¼</h3>
<ul>
<li>
<p>ãCLOSE-WAITç´¯ç§¯ãï¼æå¡å¨å¤äºCLOSE-WAITç¶ææ¶ï¼è¥åºç¨ç¨åºæªåæ¶è°ç¨close()åFINï¼ä¼å¯¼è´è¿æ¥èµæºæ³é²ï¼å¤§éCLOSE-WAITç¶æä¼èå°½æå¡å¨ç«¯å£ï¼</p>
</li>
<li>
<p>ãTIME-WAITè¿å¤ãï¼é«å¹¶ååºæ¯ä¸ï¼å®¢æ·ç«¯é¢ç¹å³é­è¿æ¥ä¼äº§çå¤§éTIME-WAITç¶æï¼å¯éè¿è°æ´åæ ¸åæ°ï¼å¦ç¼©ç­2MSLæ¶é´ãå¼å¯ç«¯å£å¤ç¨ï¼ä¼åï¼</p>
</li>
<li>
<p>ãåå³é­è¿æ¥ãï¼è¥ä¸æ¹åäºFINä½å¦ä¸æ¹è¿å¨åæ°æ®ï¼åFINçä¸æ¹ä¼æç»æ¥æ¶æ°æ®ï¼å¯¼è´æ°æ®ä¸¢å¤±ï¼å æ­¤å³é­è¿æ¥åéç¡®ä¿åæ¹é½æ æ°æ®è¦åã</p>
</li>
</ul>
<h2 id="æ»ç»tcpè¿æ¥çå§ä¸ç»æ ¸å¿é½æ¯å¯é ">æ»ç»ï¼TCPè¿æ¥çâå§âä¸âç»âï¼æ ¸å¿é½æ¯âå¯é â</h2>
<p>TCPä¸æ¬¡æ¡æä¸åæ¬¡æ¥æï¼æ¬è´¨é½æ¯å´ç»âå¯é ä¼ è¾âè®¾è®¡çæµç¨ï¼ä¸æ¬¡æ¡æéè¿ååç¡®è®¤ï¼ç¡®ä¿åæ¹éä¿¡è½åæ­£å¸¸ï¼ä¸ºæ°æ®ä¼ è¾éºè·¯ï¼åæ¬¡æ¥æéè¿åæ­¥ç¡®è®¤ï¼ç¡®ä¿ååæ°æ®æµé½å·²ç»æ­¢ï¼é¿åæ°æ®ä¸¢å¤±ææ®çã</p>
<p>ä»ç¤¾æå¼çç ´å°å°ä½é¢çåå«ï¼TCPç¨çä¼¼ç¹ççæ­¥éª¤ï¼å¼¥è¡¥äºç½ç»ä¼ è¾çä¸å¯é æ§ãå®éåºç¨ä¸­éå°çâè¿æ¥è¶æ¶ââè¿æ¥éç½®ââç«¯å£èå°½âç­é®é¢ï¼æ¬è´¨é½åè¿ä¸¤å¥æµç¨çæä¸ªç¯èå¼å¸¸æå³ââçæäºæ¡æä¸æ¥æçåºå±é»è¾ï¼å°±è½å¿«éå®ä½é®é¢æ ¹æºï¼åä¹ä¸æ¯åªç¥ç°è±¡ä¸ç¥æ¬è´¨çâè°åä¾ âå¦ï½</p>

</div>
<div id="MySignature" role="contentinfo">
    
<p>â¤ï¸ å¦æä½ åæ¬¢è¿ç¯æç« ï¼è¯·ç¹èµæ¯æï¼ ð åæ¶æ¬¢è¿å³æ³¨æçåå®¢ï¼è·åæ´å¤ç²¾å½©åå®¹ï¼</p>

<p>æ¬ææ¥èªåå®¢å­ï¼ä½èï¼<a href="https://www.cnblogs.com/sun-10387834/" target="_blank">ä½ç¥è®©ææ¥å·¡å±±</a>ï¼è½¬è½½è¯·æ³¨æåæé¾æ¥ï¼<a href="https://www.cnblogs.com/sun-10387834/p/19521814" target="_blank">https://www.cnblogs.com/sun-10387834/p/19521814</a></p>


</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-23 13:24">2026-01-23 13:24</span>&nbsp;
<a href="https://www.cnblogs.com/sun-10387834">ä½ç¥è®©ææ¥å·¡å±±</a>&nbsp;
éè¯»(<span id="post_view_count">38</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19521814);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19521814', targetLink: 'https://www.cnblogs.com/sun-10387834/p/19521814', title: 'TCPä¸æ¬¡æ¡æä¸åæ¬¡æ¥æï¼ä¸¤ä¸ªâç¤¾æâç¨åºçç ´å°ä¸åå«ä»ªå¼' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ç®ç«ä¸é¢ä¸­çä»£ç è®¾è®¡ä¸æå·§è§£æ ]]></title>
    <link>https://www.cnblogs.com/Reisentyan/p/19521805</link>
    <guid>f0d802c34356463c817ee58574652a35</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/Reisentyan/p/19521805" title="åå¸äº 2026-01-23 13:21">
    <span role="heading" aria-level="2">ç®ç«ä¸é¢ä¸­çä»£ç è®¾è®¡ä¸æå·§è§£æ</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p><em>æ¬æä½¿ç¨äºaiè¾å©ï¼æ¨å¨æ´å¥½çå¸®å©å¤§å®¶çè§£ä¸äºæå·§</em></p>
<p><a href="https://www.nowcoder.com/practice/2b0c636cf77d441fa96d40ac64290d39?channelPut=tracker2" target="_blank" rel="noopener nofollow">é®éåéä¿¡_çå®¢é¢é¸_çå®¢ç½</a></p>
<p>ä»¥è¿ä¸é¢ä¸ºä¾ï¼éè¦å¯¹èç¹ 1 æ± ä¸¤æ¬¡ dijkstraï¼æä¹ä½¿å¾ä»£ç åçç®æ´ï¼<br>
ac ä»£ç å¦ä¸ï¼æä»¬æ¥ä¸ä¸è§£æï¼</p>
<pre><code>void solve()
{
	int n(q_), m(q_);
	using ED = array&lt;int, 2&gt;;
	using GRAPH = vector&lt;vector&lt;ED&gt;&gt;;

	GRAPH tr(n + 1);
	GRAPH rtr(n + 1);
	ffp(i, 1, m)
	{
		int u(q_), v(q_), w(q_);
		tr[u].push_back({ w,v });//træ¯æ è¾¹ï¼æ¬äººçä¹ æ¯
		rtr[v].push_back({ w,u });//rtræ¯åå¾
	}

	auto dij = [&amp;](int st, GRAPH&amp; gp)-&gt;ll
		{
			priority_queue&lt;ED, vector&lt;ED&gt;, greater&lt;ED&gt;&gt;dui;
			vector&lt;int&gt;dis(n + 1, iINF); dis[st] = 0;

			dui.push({ 0,st });
			while (dui.size())
			{
				auto [w, now] = dui.top();
				dui.pop();
				if (dis[now] &lt; w)continue;
				for (auto [nxtw, nxt] : gp[now])
				{
					if (nxtw + dis[now] &gt;= dis[nxt])continue;
					dis[nxt] = nxtw + dis[now];
					dui.push({ nxtw + dis[now],nxt });
				}
			}
			return accumulate(dis.begin() + 1, dis.end(), 0ll);
		};
	cout &lt;&lt; dij(1, tr) + dij(1, rtr) &lt;&lt; endl;
	return;
}
</code></pre>
<p><strong>ãåå§åä¸å¿«è¯»ã</strong> é¦åï¼æä»¬ä½¿ç¨ <code>n(q_), m(q_)</code> å¯¹åéè¿è¡åå§åãè¿éç <code>q_</code> æ¯å°è£å¥½çå¿«è¯»å¯¹è±¡ï¼Fast I/Oï¼ï¼ç¨äºé«æè¯»åæ´æ°ãå¼å¾ä¸æçæ¯ï¼<code>n(q_)</code> ä½¿ç¨çæ¯<strong>ç´æ¥åå§åï¼Direct Initializationï¼</strong>ï¼èæä»¬å¸¸è§ç <code>n = q_</code> å±äº<strong>å¤å¶åå§åï¼Copy Initializationï¼</strong>ãè½ç¶å¨åºç¡ç±»åä¸äºèçæçæ±ç¼æä»¤å¹¶æ å·®å¼ï¼ä½ç´æ¥åå§åæ´å· Modern C++ çé£æ ¼ã</p>
<p><strong>ãç±»åå«åä¼åã</strong> ä¸ºäºæåä»£ç çå¯è¯»æ§ä¸ç¼åæçï¼æä»¬ä½¿ç¨ <code>using ED = array&lt;int, 2&gt;</code> ä¸ºè¾¹çå­å¨ç»æå®ä¹å«åï¼åçå®ä¹äº <code>GRAPH</code>ãè¿æ ·ä¸ä»åå°äºåä½ä»£ç ï¼ä¹ä¾¿äºåç»­ç»´æ¤ã</p>
<p><strong>ãå­å¾ç»èã</strong> å¨è¯»å¥è¾¹æå¹¶å»ºå¾æ¶ï¼æä¸ä¸ªå³é®ç»èï¼<code>tr[u].push_back({ w, v })</code>ãè¯·æ³¨æï¼æä»¬å° <strong>æå¼ w</strong> æ¾å¨äº <code>array</code> çé¦ä½ã è¿æ¯ä¸ºäºéååç»­ç <code>priority_queue</code>ãç±äº STL çå®¹å¨é»è®¤æå­å¸åºæ¯è¾ï¼å³åæ¯è¾ç¬¬ä¸ä¸ªåç´ ï¼ï¼å°æå¼ç½®äºé¦ä½ï¼å¯ä»¥ç´æ¥å©ç¨é»è®¤çæ¯è¾è§åå®ç°âææå¼æåºâï¼æ éé¢å¤ç¼åæ¯è¾å½æ°ã</p>
<p><strong>ãDijkstra çå°è£ã</strong> æä»¬ä½¿ç¨ Lambda è¡¨è¾¾å¼å°è£äº Dijkstra ç®æ³ãå¨ä¼ åæ¶ï¼å¾ç»æ <code>GRAPH</code> å¿é¡»ä½¿ç¨<strong>å¼ç¨ä¼ é</strong>ï¼å»ºè®®ä¸º <code>const</code> å¼ç¨ï¼ï¼ä»¥é¿åå¨å½æ°è°ç¨æ¶åçå·¨å¤§çåå­æ·è´å¼éï¼é²æ­¢ TLEï¼è¶æ¶ï¼ã</p>
<p><strong>ãç´¯å å¨çé·é±ã</strong> è®¡ç®æç»ç»ææ¶ï¼æä½¿ç¨äº <code>&lt;numeric&gt;</code> åºä¸­ç <code>accumulate</code> å½æ°ãè¿éæ½èçä¸ä¸ªå¸¸è§ç<strong>æº¢åºé·é±</strong>ï¼<code>accumulate</code> çç¬¬ä¸ä¸ªåæ°å³å®äºç´¯å è¿ç¨çæ°æ®ç±»åã å¦æä¼ å¥ <code>0</code>ï¼ç¼è¯å¨ä¼å°å¶æ¨å¯¼ä¸º <code>int</code> ç±»åè¿è¡ç´¯å ï¼è¿å¨å¤çå¤§æ°æ¶ä¼å¯¼è´æº¢åºãå æ­¤ï¼å¿é¡»æ¾å¼ä¼ å¥ <code>0ll</code>ï¼å³ <code>long long</code> ç±»åç 0ï¼ï¼ä»¥ç¡®ä¿è®¡ç®è¿ç¨ä½¿ç¨é¿æ´åã</p>
<p><strong>ãI/O ç»èã</strong> æåï¼è¾åºæ¶ä½¿ç¨ <code>\n</code> æ¿ä»£ <code>endl</code>ã<code>endl</code> ä¼å¼ºå¶å·æ°ç¼å²åºï¼å¨å¤§è§æ¨¡è¾åºåºæ¯ä¸å¯è½å¯¼è´æ¾èçæ§è½æèã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.059722222222222225" data-date-updated="2026-01-23 14:47">2026-01-23 13:21</span>&nbsp;
<a href="https://www.cnblogs.com/Reisentyan">ç²ç´«ç³»è¶äººæ°æåéä»</a>&nbsp;
éè¯»(<span id="post_view_count">37</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19521805);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19521805', targetLink: 'https://www.cnblogs.com/Reisentyan/p/19521805', title: 'ç®ç«ä¸é¢ä¸­çä»£ç è®¾è®¡ä¸æå·§è§£æ' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ä»0æå»ºWAVæä»¶ï¼è¯»æè®¡ç®æºæä»¶çæ¬è´¨ ]]></title>
    <link>https://www.cnblogs.com/reasa/p/19521361</link>
    <guid>9fcddd03b8dbbdee8973827bfcad6403</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/reasa/p/19521361" title="åå¸äº 2026-01-23 12:56">
    <span role="heading" aria-level="2">ä»0æå»ºWAVæä»¶ï¼è¯»æè®¡ç®æºæä»¶çæ¬è´¨</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="ä»0æå»ºwavæä»¶è¯»æè®¡ç®æºæä»¶çæ¬è´¨">ä»0æå»ºWAVæä»¶ï¼è¯»æè®¡ç®æºæä»¶çæ¬è´¨</h1>
<p>è½ç¶æ¥è§¦è®¡ç®æºæä¸æ®µæ¶é´äºï¼ä½æ¯æçè§éä¸ç´å±éäºä¸ä¸ªè¾å°çèå´ä¹åï¼å¾å¾åªè½çå°äºç®æ³ç«èµç¸å³çåå®¹ï¼è®¡ç®æºåç§æä»¶å¨æçæ¥ååå¤æï¼è®¤ä¸ºæå»ºä»ä»¬å¹¶è½è¾¾å°ç®çæ¯ä¸ä»¶å°é¾çäºæï¼ç¶èè¿ææè§çäºæ²¹ç®¡ä¸Magicalbatå¤§ç¥ç<a href="https://www.youtube.com/watch?v=JqJPBu7GXvw" target="_blank" rel="noopener nofollow">è§é¢</a>ï¼åç°å¶å®å®ä»¬çæ¬è´¨é½æäººå°ç®åï¼<strong>ææè®¡ç®æºæä»¶ï¼é½æ¯æç¹å®è§åç»ç»çäºè¿å¶æ°æ®</strong>ï¼æ¯äººä¸ºè§å®å¥½æ ¼å¼åç±è®¡ç®æºè§£æï¼å¯¹äºæä»¬æ¥è¯´ï¼åªè¦æ ¹æ®è§å®æ ¼å¼è¿è¡ç¼è¾ï¼å°±è½å¤æåæå»ºã</p>
<p>ä»å¤©ï¼æä»¬å°±ä»ææ´ç´ çæ¹å¼å¥æï¼éè¿æå¨æå»ºä¸ä¸ªWAVé³é¢æä»¶ï¼æè§£WAVæ ¼å¼çåºå±é»è¾ï¼åæ¶çè§£ä¸ä¸ªæ ¸å¿è®¤ç¥ï¼åªè¦ææ¡äºæä»¶çæ ¼å¼è§èï¼ä»»ä½ç±»åçæä»¶é½è½åæ­ç§¯æ¨ä¸æ ·ï¼ä¸è¡è¡ä»£ç âæ¼âåºæ¥ã</p>
<h2 id="åè®¤è¯wavwavæä»¶çæ ¼å¼">åè®¤è¯WAVï¼WAVæä»¶çæ ¼å¼</h2>
<p>WAVæ¯å¾®è½¯å¼åçæ æé³é¢æ ¼å¼ï¼ç¸æ¯äºåç¼©åçMP3ï¼å®çç»ææ´ç´ç½ï¼æ²¡æå¤æçç¼ç åç¼©ï¼å æ­¤æä»¬è½å¤éè¿C++æä»¶åå¥çæ¹å¼ç´æ¥å®æwavæä»¶çæå»ºï¼wavæä»¶çæ ¸å¿ç±ä¸ä¸ªå³é®çâæ°æ®å(Chunk)âç»æï¼</p>
<ul>
<li><strong>RIFFå</strong>ï¼æä»¶çâèº«ä»½å¡âï¼åè¯è®¡ç®æºâææ¯ä¸ä¸ªWAVæä»¶âï¼</li>
<li><strong>fmtå</strong>ï¼é³é¢çâåæ°è¯´æâï¼è®°å½éæ ·çãå£°éæ°ãä½æ·±ç­æ ¸å¿åæ°ï¼</li>
<li><strong>dataå</strong>ï¼çæ­£çé³é¢æ°æ®ï¼å­å¨çå£°é³çæ°å­ä¿¡å·ã</li>
</ul>
<p>èæ¯ä¸ªåçåå®¹åå¦ä¸å¾æç¤ºï¼</p>
<p><img src="https://i.postimg.cc/d06jVWRx/wavstruct.jpg" alt="" loading="lazy"></p>
<p><strong>RIFF:</strong></p>
<table>
<thead>
<tr>
<th>å­æ®µå</th>
<th>å­èæ°</th>
<th>æ°æ®ç±»å</th>
<th>åºå®å¼/è®¡ç®è§å</th>
</tr>
</thead>
<tbody>
<tr>
<td>ChunkID</td>
<td>4</td>
<td>ASCIIå­ç¬¦</td>
<td>åºå®ä¸º"RIFF"ï¼æ ç»æ­¢ç¬¦ï¼ä¸¥æ ¼4å­èï¼</td>
</tr>
<tr>
<td>ChunkSize</td>
<td>4</td>
<td>32ä½æ ç¬¦å·æ´æ°</td>
<td>åå¼ = æ´ä¸ªWAVæä»¶å¤§å° - 8å­èï¼åå»ChunkIDåChunkSizeèªèº«ç8å­èï¼</td>
</tr>
<tr>
<td>Format</td>
<td>4</td>
<td>ASCIIå­ç¬¦</td>
<td>åºå®ä¸º"WAVE"ï¼æ ç»æ­¢ç¬¦ï¼ä¸¥æ ¼4å­èï¼</td>
</tr>
</tbody>
</table>
<p><strong>fmt:</strong></p>
<table>
<thead>
<tr>
<th>å­æ®µå</th>
<th>å­èæ°</th>
<th>æ°æ®ç±»å</th>
<th>åºå®å¼/è®¡ç®è§å</th>
</tr>
</thead>
<tbody>
<tr>
<td>ChunkID</td>
<td>4</td>
<td>ASCIIå­ç¬¦</td>
<td>åºå®ä¸º"fmt "ï¼æ«å°¾ç©ºæ ¼ï¼æ ç»æ­¢ç¬¦ï¼</td>
</tr>
<tr>
<td>ChunkSize</td>
<td>4</td>
<td>32ä½æ ç¬¦å·æ´æ°</td>
<td>PCMç¼ç ï¼æå¸¸ç¨ï¼ä¸åºå®ä¸º16ï¼ä»£è¡¨åç»­å­æ®µçæ»å­èæ°ï¼ä¸å«ChunkIDåChunkSizeï¼</td>
</tr>
<tr>
<td>AudioFormatï¼ä»£ç ä¸­Tagï¼</td>
<td>2</td>
<td>16ä½æ ç¬¦å·æ´æ°</td>
<td>ç¼ç æ ¼å¼ï¼1=PCMï¼æ åç¼©ï¼éç¨ï¼ï¼3=IEEEæµ®ç¹ï¼6=Î¼å¾ï¼7=Aå¾ç­</td>
</tr>
<tr>
<td>NumChannelsï¼ä»£ç ä¸­Chnnelsï¼æ¼åç¬è¯¯ï¼</td>
<td>2</td>
<td>16ä½æ ç¬¦å·æ´æ°</td>
<td>å£°éæ°ï¼1=åå£°éï¼2=ç«ä½å£°ï¼&gt;2=å¤å£°é</td>
</tr>
<tr>
<td>SampleRate</td>
<td>4</td>
<td>32ä½æ ç¬¦å·æ´æ°</td>
<td>éæ ·çï¼æ¯ç§éæ ·æ¬¡æ°ï¼ï¼å¸¸è§44100Hzï¼CDé³è´¨ï¼ã48000Hzã22050Hzç­</td>
</tr>
<tr>
<td>ByteRate</td>
<td>4</td>
<td>32ä½æ ç¬¦å·æ´æ°</td>
<td>æ¯ç§é³é¢æ°æ®å­èæ° = SampleRate Ã NumChannels Ã BitsPerSample / 8</td>
</tr>
<tr>
<td>BlockAlignï¼ä»£ç ä¸­BloclAlignï¼æ¼åç¬è¯¯ï¼</td>
<td>2</td>
<td>16ä½æ ç¬¦å·æ´æ°</td>
<td>æ¯ä¸ªâéæ ·å¸§âçå­èæ° = NumChannels Ã BitsPerSample / 8ï¼æ­æ¾å¨ä¸æ¬¡è¯»åçæå°åä½ï¼</td>
</tr>
<tr>
<td>BitsPerSampleï¼ä»£ç ä¸­BitsperSampleï¼</td>
<td>2</td>
<td>16ä½æ ç¬¦å·æ´æ°</td>
<td>éæ ·ä½æ·±ï¼æ¯ä¸ªéæ ·ç¹çæ¯ç¹æ°ï¼ï¼8/16/24/32ï¼16ä½æå¸¸ç¨</td>
</tr>
</tbody>
</table>
<p><strong>data:</strong></p>
<table>
<thead>
<tr>
<th>å­æ®µå</th>
<th>å­èæ°</th>
<th>æ°æ®ç±»å</th>
<th>åºå®å¼/è®¡ç®è§å</th>
</tr>
</thead>
<tbody>
<tr>
<td>ChunkIDï¼ä»£ç ä¸­DataIdï¼</td>
<td>4</td>
<td>ASCIIå­ç¬¦</td>
<td>åºå®ä¸º"data"ï¼æ ç»æ­¢ç¬¦ï¼ä¸¥æ ¼4å­èï¼</td>
</tr>
<tr>
<td>DataSize</td>
<td>4</td>
<td>32ä½æ ç¬¦å·æ´æ°</td>
<td>é³é¢æ°æ®æ»å­èæ° = éæ ·æ»æ° Ã BlockAlignï¼éæ ·æ»æ° = SampleRate Ã é³é¢æ¶é¿</td>
</tr>
<tr>
<td>é³é¢æ°æ®åº</td>
<td>å¯å</td>
<td>äºè¿å¶æµ</td>
<td>PCMç¼ç ä¸ä¸ºçº¿æ§æ´æ°/æµ®ç¹æ°ï¼16ä½ä½æ·±å¯¹åºint16_tï¼8ä½å¯¹åºuint8_tï¼32ä½æµ®ç¹å¯¹åºfloat</td>
</tr>
</tbody>
</table>
<p>æä»¬æ¥ä¸æ¥çä»£ç ï¼å°±æ¯ä¸¥æ ¼æç§è¿ä¸ªæ¨¡æ¿ï¼ææ¯ä¸ªé¨åçäºè¿å¶æ°æ®âåâè¿æä»¶éã</p>
<h2 id="ä»é¶æå»ºwavä¸è¡ä»£ç æè§£æ ¸å¿é»è¾">ä»é¶æå»ºWAVï¼ä¸è¡ä»£ç æè§£æ ¸å¿é»è¾</h2>
<p>ä¸é¢æ¯å®æ´çC++ä»£ç ï¼æ°æä¹è½çæï¼ï¼æä»¬éæ®µæè§£ï¼çå¦ä½ä»0çæä¸ä¸ªè½æ­æ¾ç440Hzæ­£å¼¦æ³¢WAVæä»¶ï¼</p>
<pre><code class="language-cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
// ç±»åå«åï¼è®©ä»£ç æ´æè¯»ï¼æç¡®æ°æ®çå­èé¿åº¦
#define u32 uint32_t  // 32ä½æ ç¬¦å·æ´æ°ï¼4å­èï¼
#define u16 uint16_t  // 16ä½æ ç¬¦å·æ´æ°ï¼2å­èï¼
#define f32 float     // 32ä½æµ®ç¹æ°ï¼4å­èï¼
#define i16 int16_t   // 16ä½æç¬¦å·æ´æ°ï¼2å­èï¼
#define HZ 44100      // éæ ·çï¼æ¯ç§éé44100ä¸ªå£°é³æ ·æ¬ï¼æ åé³é¢éæ ·çï¼
#define DURATION 5    // é³é¢æ¶é¿ï¼5ç§

// 1. å®ä¹WAVçä¸ä¸ªæ ¸å¿æ°æ®åç»æï¼å¯¹åºæ ¼å¼è§èï¼
// RIFFåï¼æä»¶æ´ä½æ è¯
struct chunk1{
    char ChunkID[4];   // åæ è¯ï¼åºå®ä¸º"RIFF"
    u32 ChunkSize;     // ä»è¯¥å­æ®µå°æä»¶æ«å°¾çå­èæ°ï¼æ»å­èæ°-8ï¼
    char Format[4];    // æ ¼å¼ç±»åï¼åºå®ä¸º"WAVE"
}RIFF;

// fmtåï¼é³é¢åæ°éç½®
struct chunk2{
    char ChunkID[4];   // åæ è¯ï¼åºå®ä¸º"fmt "ï¼æ³¨ææ«å°¾æç©ºæ ¼ï¼
    u16 Tag;           // ç¼ç æ ¼å¼ï¼1ä»£è¡¨PCMï¼æ åç¼©ï¼
    u32 ChunkSize;     // fmtåçå¤§å°ï¼PCMæ ¼å¼åºå®ä¸º16
    u16 Chnnels;       // å£°éæ°ï¼1=åå£°éï¼2=ç«ä½å£°
    u32 SampleRate;    // éæ ·ç
    u32 ByteRate;      // æ¯ç§æ°æ®é = éæ ·çÃå£°éæ°Ãä½æ·±/8
    u16 BloclAlign;    // æ¯ä¸ªéæ ·çæ»å­èæ° = å£°éæ°Ãä½æ·±/8
    u16 BitsperSample; // æ¯ä¸ªéæ ·çä½æ·±ï¼16ä½ï¼å¸¸è§ï¼
}Fmt;

// dataåï¼é³é¢æ°æ®å­å¨åº
struct chunk3{
    char DataId[4];    // åæ è¯ï¼åºå®ä¸º"data"
    u32 DataSize;      // é³é¢æ°æ®çæ»å­èæ°
}Data;

signed main(int argc,char* argv[]){
    // æå¼æä»¶ï¼"wb"è¡¨ç¤ºä»¥äºè¿å¶æ¨¡å¼åå¥ï¼å³é®ï¼æä»¶æ¬è´¨æ¯äºè¿å¶ï¼
    FILE *fp = fopen("test.wav","wb");
    // è®¡ç®æ»éæ ·æ°ï¼éæ ·çÃæ¶é¿ï¼5ç§Ã44100=220500ä¸ªæ ·æ¬ï¼
    u32 NumSamples = HZ * DURATION;

    // 2. å¡«åRIFFåå¹¶åå¥æä»¶
    memcpy(RIFF.ChunkID,"RIFF",4);          // åå¥åæ è¯
    RIFF.ChunkSize = NumSamples*sizeof(u16)+36; // è®¡ç®åå¤§å°
    memcpy(RIFF.Format,"WAVE",4);           // å£°æä¸ºWAVEæ ¼å¼
    fwrite(RIFF.ChunkID,sizeof(char),4,fp); // åå¥4ä¸ªå­ç¬¦çChunkID
    fwrite(&amp;RIFF.ChunkSize,sizeof(u32),1,fp); // åå¥4å­èçChunkSize
    fwrite(RIFF.Format,sizeof(char),4,fp); // åå¥4ä¸ªå­ç¬¦çFormat

    // 3. å¡«åfmtåå¹¶åå¥æä»¶
    memcpy(Fmt.ChunkID,"fmt ",4);
    Fmt.ChunkSize = 16;          // PCMæ ¼å¼ä¸fmtååºå®16å­è
    Fmt.Tag = 1;                 // PCMæ åç¼©ç¼ç 
    Fmt.Chnnels = 1;             // åå£°é
    Fmt.SampleRate = HZ;         // 44100Hzéæ ·ç
    Fmt.ByteRate = HZ*sizeof(u16); // æ¯ç§å­èæ°ï¼44100Ã2=88200
    Fmt.BloclAlign = Fmt.Chnnels * sizeof(u16); // æ¯ä¸ªéæ ·2å­è
    Fmt.BitsperSample = 16;      // 16ä½ä½æ·±
    // æé¡ºåºåå¥fmtåçææåæ°ï¼ä¸¥æ ¼éµå¾ªæ ¼å¼è§èï¼
    fwrite(&amp;Fmt.ChunkID,sizeof(char),4,fp);
    fwrite(&amp;Fmt.ChunkSize,sizeof(u32),1,fp);
    fwrite(&amp;Fmt.Tag,sizeof(u16),1,fp);
    fwrite(&amp;Fmt.Chnnels,sizeof(u16),1,fp);
    fwrite(&amp;Fmt.SampleRate,sizeof(u32),1,fp);
    fwrite(&amp;Fmt.ByteRate,sizeof(u32),1,fp);
    fwrite(&amp;Fmt.BloclAlign,sizeof(u16),1,fp);
    fwrite(&amp;Fmt.BitsperSample,sizeof(u16),1,fp);

    // 4. å¡«ådataåå¹¶åå¥æä»¶
    memcpy(Data.DataId,"data",4);
    Data.DataSize = NumSamples * sizeof(u16); // é³é¢æ°æ®æ»å­èæ°
    fwrite(&amp;Data.DataId,sizeof(char),4,fp);
    fwrite(&amp;Data.DataSize,sizeof(u32),1,fp);

    // 5. çæé³é¢æ°æ®å¹¶åå¥ï¼440Hzæ­£å¼¦æ³¢ï¼æ åAè°ï¼
    for(int i=0;i&lt;NumSamples;i++){
        f32 t = (f32)i/HZ; // è®¡ç®å½åæ¶é´ç¹ï¼ç§ï¼
        // çæ440Hzæ­£å¼¦æ³¢çæ°å¼ï¼å£°é³çæ¬è´¨æ¯æ¯å¨ï¼æ­£å¼¦æ³¢æ¨¡æå£°æ³¢ï¼
        f32 y =sinf(t*440.0f*2.0f*3.1415926f);
        // è½¬æ¢ä¸º16ä½æ´æ°ï¼éé16ä½ä½æ·±çé³é¢ï¼
        i16 sample = (i16)(y*INT16_MAX);
        // åå¥åä¸ªé³é¢æ ·æ¬ï¼2å­èï¼
        fwrite(&amp;sample,sizeof(i16),1,fp);
    }

    fclose(fp); // å³é­æä»¶
    return 0;
}
</code></pre>
<h2 id="æææä»¶é½æ¯æè§ååäºè¿å¶çäº§ç©">æææä»¶ï¼é½æ¯âæè§ååäºè¿å¶âçäº§ç©</h2>
<p>åå®è¿æ®µä»£ç ï¼ä½ å¯è½ä¼åç°ï¼çæWAVæä»¶çè¿ç¨ï¼å°±æ¯âææ ¼å¼è§èå¾æä»¶éåäºè¿å¶æ°æ®âçè¿ç¨ãèè¿ä¸ªé»è¾ï¼éç¨äº<strong>ææè®¡ç®æºæä»¶</strong>ï¼</p>
<ul>
<li><strong>TXTææ¡£</strong>ï¼æ¬è´¨æ¯å­ç¬¦çASCII/UTF-8ç¼ç ï¼æ¯å¦å­ç¬¦'A'å¯¹åºäºè¿å¶01000001ï¼ï¼æä»¬æé¡ºåºåå¥è¿äºç¼ç ï¼å°±æäºTXTæä»¶ï¼</li>
<li><strong>BMPå¾ç</strong>ï¼ç±æä»¶å¤´ï¼è®°å½å®½ãé«ãä½æ·±ï¼+ åç´ æ°æ®ï¼æ¯ä¸ªåç´ çRGBå¼ï¼ç»æï¼æBMPæ ¼å¼åè¿äºæ°æ®ï¼å°±è½çæå¾çï¼</li>
<li><strong>MP4è§é¢</strong>ï¼åªææ¯åç¼©è¿çè§é¢ï¼ä¹æ¯æMP4çæ ¼å¼è§èï¼æç¼ç åçè§é¢å¸§ãé³é¢å¸§ç»ç»æäºè¿å¶æ°æ®ï¼</li>
<li><strong>EXEå¯æ§è¡æä»¶</strong>ï¼éµå¾ªPEæ ¼å¼ï¼ææä»¤ãæ°æ®ãèµæºæè§ååå¥ï¼æä½ç³»ç»å°±è½è¯å«å¹¶è¿è¡ã</li>
</ul>
<p>è®¡ç®æºä¹æä»¥è½âçæâä¸åçæä»¶ï¼ä¸æ¯å ä¸ºæä»¶æâé­æ³âï¼èæ¯å ä¸ºç¨åºåæåçº¦å®äºâæ ¼å¼è§èâââå°±åæä»¬çº¦å®âRIFFâå¼å¤´çæ¯WAVæä»¶ï¼æ­æ¾å¨è¯»å°è¿ä¸ªæ è¯ï¼å°±æWAVçè§åè§£æåç»­æ°æ®ã</p>
<h2 id="è®¡ç®æºçæ¬è´¨æ¯æ´ç´ çè§å">è®¡ç®æºçæ¬è´¨æ¯âæ´ç´ çè§åâ</h2>
<p>å¯¹åæ¥è§¦è®¡ç®æºçäººæ¥è¯´ï¼åç§æä»¶ãè½¯ä»¶ãç³»ç»çä¼¼å¤æï¼ä½æè§£å°æåºå±ï¼é½æ¯âæ°æ®+è§åâçç»åï¼<br>
åªè¦æä»¬å¯¹çæ ¼å¼æåï¼å³ä¾¿ä½¿ç¨ææ´ç´ çæ¹å¼ï¼ä¹è½å¤æåæå»ºåºå¯ä»¥ä½¿ç¨çé³é¢æä»¶ãè®¡ç®æºçä¸çæ²¡ææ³è±¡ä¸­é£è¬å¤æï¼è®¡ç®æºåªå¨ä¹é£æç»æå¥½éç 0 å 1ã</p>
<h2 id="è¿ä¸æ­¥æèä»æä»¶å°è½¯ä»¶">è¿ä¸æ­¥æèï¼ä»æä»¶å°è½¯ä»¶</h2>
<p>äºè§£äºåç±»æä»¶æ¬è´¨ï¼æä»¬èªç¶è½çè§£è®¡ç®æºä¸­åä¸ªç¼è¾è½¯ä»¶çåçæ¯ä»ä¹äºï¼å°±æ¯å¦ä»å¤©ä¸¾çwavçä¾å­ï¼å¦ææä»¬å°ç¤ºä¾ç¨åºæ¹è¿ä¸ä¸ï¼å å¥è¾å¥ï¼é£ä¹è¿æ¯å¦å°±æäºä¸ä¸ªç®åçé³é¢ç¼è¾è½¯ä»¶äºå¢ï¼ææçå¤æè½¯ä»¶ï¼å¦ PhotoshopãPremiereï¼ï¼åºå±é»è¾é½æ¯å¦æ­¤ï¼è¯»åç¹å®è§åçäºè¿å¶ -&gt; å¨åå­ä¸­å å·¥å¤ç -&gt; æè§åååäºè¿å¶ãå½ä½ ä¸åææä»¶çä½âé»çâï¼ä½ ä¾¿æ¥æäºéå¡æ°å­ä¸ççè½åã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-23 12:57">2026-01-23 12:56</span>&nbsp;
<a href="https://www.cnblogs.com/reasa">reasa</a>&nbsp;
éè¯»(<span id="post_view_count">37</span>)&nbsp;
è¯è®º(<span id="post_comment_count">1</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19521361);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19521361', targetLink: 'https://www.cnblogs.com/reasa/p/19521361', title: 'ä»0æå»ºWAVæä»¶ï¼è¯»æè®¡ç®æºæä»¶çæ¬è´¨' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ å¾®è½¯æ°å©å¨ï¼winapp CLIï¼ä¸é®æåãè°è¯ãéæ Windows åçè½å ]]></title>
    <link>https://www.cnblogs.com/chingho/p/19521120</link>
    <guid>20df289aeec424e0c7f57e09c1ac5f71</guid>
    <description>
    <![CDATA[ 
		<h1 class="postTitle">
			<a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/chingho/p/19521120" title="åå¸äº 2026-01-23 11:19">
    <span role="heading" aria-level="2">å¾®è½¯æ°å©å¨ï¼winapp CLIï¼ä¸é®æåãè°è¯ãéæ Windows åçè½å</span>
    

</a>

		</h1>
		<div class="clear"></div>
		<div class="postBody">
			    <div id="cnblogs_post_description" style="display: none">
        
        å¤§å®¶å¥½ï¼ææ¯ç¼ç¨ä¹è¶£ãå¥½æ¶æ¯æ¥äºï¼å¾®è½¯å®æ¹åå¸ winapp å¼æºå½ä»¤è¡å·¥å·ï¼å¯ä»¥ä¸é®åå§åå¼åç¯å¢ãä¸é®æåï¼è®©æä»¬ä»ç¹ççç¯å¢æ­å»ºä¸­è§£è±åºæ¥ï¼ä»èå°æ´å¤ç²¾åéä¸­å¨ä»£ç ç¼åä¸äº§ååæ°ä¸ã## ð é¡¹ç®ç®ä»

**winapp CLI** æ¯å¾®è½¯æ¨åºçä¸ä¸ª**å½ä»¤è¡å·¥å·**ï¼æ¨å¨ä¸º Windows åºç¨å¼åèæä¾ç»ä¸ãç®æ´çå¼åä½éªãå®æ´åäº Windows SDKãApp SDKãåºç¨æåï¼M...
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>å¤§å®¶å¥½ï¼ææ¯ç¼ç¨ä¹è¶£ãå¥½æ¶æ¯æ¥äºï¼å¾®è½¯å®æ¹åå¸ winapp å¼æºå½ä»¤è¡å·¥å·ï¼å¯ä»¥ä¸é®åå§åå¼åç¯å¢ãä¸é®æåï¼è®©æä»¬ä»ç¹ççç¯å¢æ­å»ºä¸­è§£è±åºæ¥ï¼ä»èå°æ´å¤ç²¾åéä¸­å¨ä»£ç ç¼åä¸äº§ååæ°ä¸ã## ð é¡¹ç®ç®ä»</p>
<p><strong>winapp CLI</strong> æ¯å¾®è½¯æ¨åºçä¸ä¸ª<strong>å½ä»¤è¡å·¥å·</strong>ï¼æ¨å¨ä¸º Windows åºç¨å¼åèæä¾ç»ä¸ãç®æ´çå¼åä½éªãå®æ´åäº Windows SDKãApp SDKãåºç¨æåï¼MSIXï¼ãè¯ä¹¦ç®¡çãæ¸åçæãè°è¯èº«ä»½éç½®ç­æ ¸å¿åè½ï¼éç¨äºåç§å¼åæ¡æ¶ï¼å¦ Electronã.NETãC++ãRustãTauriãPython ç­ï¼ã</p>
<p><img src="https://img2024.cnblogs.com/blog/93789/202601/93789-20260123111157464-1128359569.webp" alt="å¾ç" loading="lazy">##</p>
<h2 id="-æ ¸å¿åè½">ð¯ æ ¸å¿åè½</h2>
<p>winapp CLI ä¸»è¦è§£å³ä»¥ä¸å ç±»å¼åçç¹ï¼</p>
<h3 id="1-è·¨å¹³å°å¼åèæ¥å¥-windows-åçè½å">1. <strong>è·¨å¹³å°å¼åèæ¥å¥ Windows åçè½å</strong></h3>
<p>å³ä½¿ä½ ä½¿ç¨çæ¯ ElectronãTauri æ Python ç­è·¨å¹³å°ææ¯æ ï¼ä¹è½è½»æ¾è°ç¨ <strong>Windows App SDK</strong> å <strong>ç°ä»£ Windows API</strong>ï¼å¦éç¥ãçªå£ç®¡çãAI æ¥å£ç­ï¼ã</p>
<h3 id="2-å¿«éæ·»å åºç¨èº«ä»½app-identity">2. <strong>å¿«éæ·»å âåºç¨èº«ä»½âï¼App Identity****ï¼</strong></h3>
<p>æäº Windows APIï¼å¦åå°ä»»å¡ãæ¨ééç¥ï¼è¦æ±åºç¨å·æâåèº«ä»½âï¼Package Identityï¼ãwinapp CLI å¯éè¿ <code>create-debug-identity</code> å½ä»¤<strong>æ éå®æ´æå</strong>å³å¯ä¸ºå¼åä¸­ç EXE æ·»å ä¸´æ¶èº«ä»½ï¼æå¤§ç®åè°è¯æµç¨ã</p>
<h3 id="3-msix-æåä¸ç­¾å">3. <strong>MSIX æåä¸ç­¾å</strong></h3>
<p>ä¸é®çæç¬¦å Microsoft Store è¦æ±ç <strong>MSIX å®è£å</strong>ãåç½®å¼åè¯ä¹¦çæï¼<code>cert</code>ï¼åç­¾åå·¥å·ï¼<code>sign</code>ï¼ï¼æ¯æèªå¨åé¨ç½²ã</p>
<h3 id="4-èªå¨çææ¸åä¸èµæº">4. <strong>èªå¨çææ¸åä¸èµæº</strong></h3>
<p>èªå¨çæ <code>AppxManifest.xml</code>ãåºç¨å¾æ ãèµæºæä»¶ç­ã</p>
<p>æ¯æèªå®ä¹éç½®ï¼ééä¸åæ¡æ¶éæ±ã### 5. <strong>éæå¼åå·¥å·é¾</strong></p>
<p>æä¾å¯¹ Windows SDK å·¥å·ï¼å¦ MakeAppxãSignToolï¼çå°è£ï¼éè¿ <code>winapp tool</code> ç´æ¥è°ç¨ã</p>
<h2 id="ï¸-å®è£æ¹å¼">ð ï¸ å®è£æ¹å¼</h2>
<ul>
<li><strong>æ¨èï¼Windows ç¨æ·ï¼</strong>ï¼ä½¿ç¨ WinGet</li>
</ul>
<p><code>winget install Microsoft.winappcli --source winget</code></p>
<ul>
<li>éè¿ NPM å®è£ Electron é¡¹ç®ç CLIï¼</li>
</ul>
<p><code>npm install @microsoft/winappcli --save-dev</code>-</p>
<ul>
<li><strong>CI/CD ç¯å¢</strong>ï¼ä½¿ç¨å®æ¹ GitHub Action <code>setup-WinAppCli</code></li>
<li>æå¨ä¸è½½ï¼ä» GitHub Releases è·åææ°çæ¬ã</li>
</ul>
<h2 id="-æ¯æçå¼åæ¡æ¶">ð§ª æ¯æçå¼åæ¡æ¶</h2>
<p>winapp CLI å®æ¹æä¾äºå¤ä¸ªç¤ºä¾é¡¹ç®ï¼æ¶µçï¼</p>
<p>æ¡æ¶ç¤ºä¾åå®¹<br>
Electronå« C++/C# åçæä»¶ãAI éæï¼Windows MLï¼<br>
.NET / WPFæ§å¶å°åºç¨ãæ¡é¢åºç¨æå<br>
C++ (Win32/CMake)åç Windows<br>
åºç¨Rustè°ç¨ Windows API<br>
Tauriè·¨å¹³å° Rust åºç¨æåä¸º MSIX<br>
Python / CLI å·¥å·å°æ®é EXE æåä¸º MSIX</p>
<h2 id="ï¸-ä½¿ç¨ç¤ºä¾">ð ï¸ ä½¿ç¨ç¤ºä¾</h2>
<h3 id="ç¬¬ä¸æ­¥åå»º-net-åºç¨">ç¬¬ä¸æ­¥ï¼åå»º .NET åºç¨</h3>
<p><code>dotnet new console -n MyDotNetApp``cd MyDotNetApp</code></p>
<h3 id="ç¬¬äºæ­¥åå§å-winapp-éç½®">ç¬¬äºæ­¥ï¼åå§å winapp éç½®</h3>
<p>å¨é¡¹ç®æ ¹ç®å½è¿è¡ï¼</p>
<p><code>winapp init</code>è¯¥å½ä»¤ä¼çæ <code>winapp.json</code> éç½®æä»¶ï¼ç¨äºå®ä¹åºç¨åç§°ãçæ¬ãå¥å£ç¹ï¼EXE è·¯å¾ï¼ãå¾æ ç­åæ°æ®ã</p>
<p>ç¤ºä¾ <code>winapp.json</code> çæ®µï¼</p>
<p><code>{``  "appName": "MyDotNetApp",``  "version": "1.0.0",``  "exePath": "bin/Debug/net8.0/MyDotNetApp.exe",``  "publisher": "CN=YourName"``}</code></p>
<h3 id="ç¬¬ä¸æ­¥åå»ºè°è¯èº«ä»½å³é®">ç¬¬ä¸æ­¥ï¼åå»ºè°è¯èº«ä»½ï¼å³é®ï¼ï¼</h3>
<p>è®¸å¤ Windows APIï¼å¦åééç¥ï¼è¦æ±åºç¨å·æâåèº«ä»½âï¼Package Identityï¼ãä¼ ç»æ¹å¼éå®æ´æå MSIX æè½è°è¯ï¼æå¶ä½æã</p>
<p>è winapp CLI æä¾äºé©å½æ§çè§£å³æ¹æ¡ï¼</p>
<p><code>winapp create-debug-identity</code>è¿æ¡å½ä»¤ä¼å¨ä¸æåçæåµä¸ï¼ä¸ºä½ ç EXE æ³¨å¥ä¸´æ¶èº«ä»½ï¼ä½¿å¶å¨å¼åé¶æ®µå°±è½è°ç¨åä¿æ¤ç Windows APIï¼</p>
<p>â æ éä¿®æ¹ä»£ç </p>
<p>â æ ééæ°ç¼è¯</p>
<p>â å³æ¶çæ</p>
<h3 id="ç¬¬åæ­¥æåä¸º-msix">ç¬¬åæ­¥ï¼æåä¸º MSIX</h3>
<p>åå¤åå¸ï¼åªéä¸æ¡å½ä»¤ï¼</p>
<p><code>winapp pack .\bin\Release\net10.0-windows10.0.26100.0 --manifest .\appxmanifest.xml --cert .\devcert.pfx </code>å®ä¼èªå¨ï¼</p>
<ul>
<li>
<p>çæ <code>AppxManifest.xml</code></p>
</li>
<li>
<p>åå»º MSIX å</p>
</li>
<li>
<p>ä½¿ç¨å¼åè¯ä¹¦ç­¾åï¼å¯éè¿ <code>winapp cert</code> ç®¡çï¼</p>
</li>
</ul>
<p>æç»è¾åº <code>.msix</code> æä»¶ï¼å¯ç´æ¥å®è£ãååï¼çè³æäº¤å° Microsoft Storeï¼</p>
<h2 id="-å¼æºé¡¹ç®">ð å¼æºé¡¹ç®</h2>
<p>GitHubï¼<a href="https://github.com/microsoft/winappCli" target="_blank" rel="noopener nofollow">https://github.com/microsoft/winappCli</a></p>
<h2 id="-æ»ç»">â æ»ç»</h2>
<p><strong>winapp CLI æ¯å¾®è½¯ä¸ºç°ä»£å Windows åºç¨å¼åæé çä¸ç«å¼ CLI å·¥å·</strong>ï¼å°¤å¶éåï¼</p>
<ul>
<li>
<p>æ³å¨è·¨å¹³å°é¡¹ç®ä¸­ä½¿ç¨ Windows åçåè½çå¼åè</p>
</li>
<li>
<p>éè¦å¿«éè°è¯âåèº«ä»½âç¸å³ API çå¢é</p>
</li>
<li>
<p>å¸æèªå¨å MSIX æååç­¾åç DevOps æµç¨</p>
</li>
</ul>
<h3 id="--end--">- End -</h3>
<p>æç« é¦åäºå¬ä¼å·ãç¼ç¨ä¹è¶£ãï¼æ¬¢è¿å¤§å®¶å³æ³¨ã<br>
<img src="https://img2020.cnblogs.com/blog/93789/202105/93789-20210520132522800-1532644404.jpg" alt="å¾ç" loading="lazy"></p>

</div>
<div class="clear"></div>

		</div>
		<div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.00625" data-date-updated="2026-01-23 11:28">2026-01-23 11:19</span>&nbsp;
<a href="https://www.cnblogs.com/chingho">chingho</a>&nbsp;
éè¯»(<span id="post_view_count">220</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19521120);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19521120', targetLink: 'https://www.cnblogs.com/chingho/p/19521120', title: 'å¾®è½¯æ°å©å¨ï¼winapp CLIï¼ä¸é®æåãè°è¯ãéæ Windows åçè½å' })">ä¸¾æ¥</a>
</div>
	 ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ AIå¼å-python-langchainæ¡æ¶ï¼1-5 ä½¿ç¨ Few-Shot Prompting å®ç°å¤è·³æ¨çé®ç­ï¼ä»¥åå²äººç©å¯¿å½æ¯è¾ä¸ºä¾ï¼ ]]></title>
    <link>https://www.cnblogs.com/yclh/p/19521069</link>
    <guid>16d9c9cbded0f5e44be5fb9fadb83880</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/yclh/p/19521069" title="åå¸äº 2026-01-23 10:57">
    <span role="heading" aria-level="2">AIå¼å-python-langchainæ¡æ¶ï¼1-5 ä½¿ç¨ Few-Shot Prompting å®ç°å¤è·³æ¨çé®ç­ï¼ä»¥åå²äººç©å¯¿å½æ¯è¾ä¸ºä¾ï¼</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p><span style="font-size: 18px">&nbsp; &nbsp;æ³è®©å¤§æ¨¡ååç­é®é¢å·ææ¨çæ­¥éª¤å¦ä½å®ç°ï¼æ¯å¦é®å¤§æ¨¡å&nbsp;<span style="color: rgba(106, 135, 89, 1)"><span style="color: rgba(255, 0, 0, 1)">æç½åç½å±æè°æ´»å¾çæ´ä¹ï¼</span><span style="color: rgba(0, 0, 0, 1)">è¿ä¸ªé®é¢ï¼æä»¬ææä»æç§å¦ä¸è¿ç§æ ¼å¼åç­ï¼</span></span></span></p>
<pre><span style="color: rgba(0, 0, 255, 1); font-size: 16px">é®ï¼æç½å»ä¸æ¶çå¹´é¾æ¯å¤å°ï¼</span><br><span style="color: rgba(0, 0, 255, 1); font-size: 16px">ç­æ¡ï¼æç½å»ä¸æ¶61å²ã</span><br><span style="color: rgba(0, 0, 255, 1); font-size: 16px">é®ï¼ç½å±æå»ä¸æ¶çå¹´é¾æ¯å¤å°ï¼</span><br><span style="color: rgba(0, 0, 255, 1); font-size: 16px">ç­æ¡ï¼ç½å±æå»ä¸æ¶74å²ã</span><br><span style="color: rgba(0, 0, 255, 1); font-size: 16px">æä»¥æç»ç­æ¡æ¯ï¼ç½å±æ</span><br><br><span style="font-size: 18px">é¦åæä»¬ç´æ¥é®å¤§æ¨¡åçä»å¦ä½åç­<br></span></pre>
<div class="cnblogs_Highlighter">
<pre class="brush:python;gutter:true;">from langchain_openai import ChatOpenAI
import os
from dotenv import load_dotenv


llm = ChatOpenAI(
    api_key=os.getenv("DEEPSEEK_API_KEY"),
    base_url=os.getenv("DEEP_URL"),  # Deepseek ç API åºç¡å°å
    model="deepseek-v3:671b",  # Deepseek å¯¹è¯æ¨¡åï¼å¯éï¼deepseek-chat-pro ç­é«çº§æ¨¡åï¼
    temperature=0.7,  # æ¸©åº¦åæ°ï¼0-1ï¼è¶ä½è¶ç¨³å®ï¼
    max_tokens=1024  # æå¤§çæ tokens
)

response = llm.invoke('æç½åç½å±æè°æ´»å¾çæ´ä¹ï¼')
print(response.content)
</pre>
</div>
<p>&nbsp;ç»æå¦ä¸ï¼</p>
<div class="cnblogs_Highlighter">
<pre class="brush:python;gutter:true;">æç½åç½å±æçå¯¿å½å¯¹æ¯å¦ä¸ï¼

1. **æç½ï¼701å¹´ï¼762å¹´ï¼**  
   - äº«å¹´çº¦61å²ï¼èå²62å²ï¼ã  
   - å»ä¸åå ï¼æ®éè®¤ä¸ºæ¯çéï¼ä½ä¹æâéåæææººäº¡âçæ°é´ä¼ è¯´ã  

2. **ç½å±æï¼772å¹´ï¼846å¹´ï¼**  
   - äº«å¹´74å²ï¼èå²75å²ï¼ï¼å¨åä»£è¯äººä¸­å±é¿å¯¿ã  
   - æå¹´çæ´»ï¼è¾å®éå±æ´é³ï¼ç¬ä¿¡ä½æï¼çæ´»é²éã  

**ç»è®º**ï¼ç½å±ææ¯æç½å¤æ´»çº¦13å¹´ï¼å¯¿å½æ´é¿ãä¸¤äººè½åå±åä»£ï¼ä½ç½å±æåºçæ¶æç½å·²å»ä¸10å¹´ï¼äºèå¹¶æ äº¤éã
</pre>
</div>
<p>&nbsp;é£ä¹å¦ä½å¼å¯¼å¤§æ¨¡åæç§æä»¬ææçç»æè¾åºå¢ï¼ä»£ç å¦ä¸ï¼</p>
<div class="cnblogs_Highlighter">
<pre class="brush:python;gutter:true;">from langchain.prompts.few_shot import FewShotPromptTemplate
from langchain.prompts.prompt import PromptTemplate
from langchain_openai import ChatOpenAI
from langchain_core.output_parsers import StrOutputParser
import os

# å®ä¹å°æ ·æ¬å­¦ä¹ ï¼Few-Shot Learningï¼ä¸­çç¤ºä¾åè¡¨
# æ¯ä¸ªç¤ºä¾åå«ä¸ä¸ªå¤æé®é¢åå¶ç»æåçå¤æ­¥æ¨çç­æ¡
# ç®çæ¯æä¼æ¨¡åï¼é¢å¯¹éè¦å¤è·³æ¨ççé®é¢æ¶ï¼åºå¦ä½åè§£é®é¢ãéæ­¥è¿½é®å¹¶æ´åç­æ¡
examples = [
    {
        "question": "ä¹¾éåæ¹æè°æ´»å¾æ´ä¹?",
        "answer": """
è¿éæ¯å¦éè¦è·è¿é®é¢ï¼æ¯çã
è¿½é®ï¼ä¹¾éå»ä¸æ¶å å²ï¼
ä¸­é´ç­æ¡ï¼ä¹¾éå»ä¸æ¶87å²ã
è¿½é®ï¼æ¹æå»ä¸æ¶å å²ï¼
ä¸­é´ç­æ¡ï¼æ¹æå»ä¸æ¶66å²ã
æä»¥æç»ç­æ¡æ¯ï¼ä¹¾é
""",
    },
    {
        "question": "å°ç±³ææºçåå§äººä»ä¹æ¶ååºç?",
        "answer": """
è¿éæ¯å¦éè¦è·è¿é®é¢ï¼æ¯çã
è¿½é®ï¼å°ç±³ææºçåå§äººæ¯è°ï¼
ä¸­é´ç­æ¡ï¼å°ç±³ææº ç± é·å åç«ã
è·è¿ï¼é·åä»ä¹æ¶ååºçï¼
ä¸­é´ç­æ¡ï¼é·ååºçäº 1969 å¹´ 12 æ 16 æ¥ã
æä»¥æç»çç­æ¡æ¯ï¼1969 å¹´ 12 æ 16 æ¥
""",
    },
    {
        "question": "ä¹æ²»Â·åçé¡¿çå¤ç¥ç¶æ¯è°ï¼",
        "answer": """
è¿éæ¯å¦éè¦è·è¿é®é¢ï¼æ¯çã
è¿½é®ï¼ä¹æ²»Â·åçé¡¿çæ¯äº²æ¯è°ï¼
ä¸­é´ç­æ¡ï¼ä¹æ²»Â·åçé¡¿çæ¯äº²æ¯çä¸½Â·é²å°Â·åçé¡¿ã
è¿½é®ï¼çä¸½Â·é²å°Â·åçé¡¿çç¶äº²æ¯è°ï¼
ä¸­é´ç­æ¡ï¼çä¸½Â·é²å°Â·åçé¡¿çç¶äº²æ¯çº¦çå¤«Â·é²å°ã
æä»¥æç»ç­æ¡æ¯ï¼çº¦çå¤«Â·é²å°
""",
    },
    {
        "question": "ãå¤§ç½é²¨ãåãçå®¶èµåºãçå¯¼æ¼æ¯åä¸ä¸ªå½å®¶çåï¼",
        "answer": """
è¿éæ¯å¦éè¦è·è¿é®é¢ï¼æ¯çã
è¿½é®ï¼ãå¤§ç½é²¨ãçå¯¼æ¼æ¯è°ï¼
ä¸­é´ç­æ¡ï¼ãå¤§ç½é²¨ãçå¯¼æ¼æ¯å²èæÂ·æ¯ç®å°ä¼¯æ ¼ã
è¿½é®ï¼å²èæÂ·æ¯ç®å°ä¼¯æ ¼æ¥èªåªéï¼
ä¸­é´ç­æ¡ï¼ç¾å½ã
è¿½é®ï¼çå®¶èµåºçå¯¼æ¼æ¯è°ï¼
ä¸­é´ç­æ¡ï¼ãçå®¶èµåºãçå¯¼æ¼æ¯é©¬ä¸Â·åè´å°ã
è·è¿ï¼é©¬ä¸Â·åè´å°æ¥èªåªéï¼
ä¸­é´ç­æ¡ï¼æ°è¥¿å°ã
æä»¥æç»çç­æ¡æ¯ï¼ä¸ä¼
""",
    },
]

# å®ä¹åä¸ªç¤ºä¾çæ ¼å¼æ¨¡æ¿
# å°æ¯ä¸ª example ä¸­ç question å answer æç§æå®æ ¼å¼æ¼æ¥
example_prompt = PromptTemplate(
    input_variables=["question", "answer"],  # å£°ææ¨¡æ¿ä¸­ä½¿ç¨çåéå
    template="Question: {question}\n{answer}"  # å®éçææ¬æ¨¡æ¿
)

print('---------')

# æå»ºå®æ´çå°æ ·æ¬æç¤ºæ¨¡æ¿ï¼Few-Shot Prompt Templateï¼
# è¯¥æ¨¡æ¿ä¼èªå¨å° examples æ example_prompt æ ¼å¼æ¼æ¥ï¼å¹¶å¨æ«å°¾è¿½å ç¨æ·è¾å¥çé®é¢
prompt = FewShotPromptTemplate(
    examples=examples,              # æä¾çç¤ºä¾åè¡¨
    example_prompt=example_prompt,  # åä¸ªç¤ºä¾çæ ¼å¼
    suffix="Question: {input}",     # ç¨æ·å®éè¾å¥é®é¢çä½ç½®ï¼å ä½ç¬¦ä¸º {input}ï¼
    input_variables=["input"],      # å£°ææ´ä¸ªæç¤ºæ¨¡æ¿æ¥æ¶çè¾å¥åéå
)

# æå°çæçå®æ´æç¤ºè¯ï¼ç¨äºè°è¯ææ¥çæ¨¡åå®éçå°çä¸ä¸æ
print('--------æç¤ºè¯begin--------')
print(prompt.format(input="æç½åç½å±æè°æ´»å¾çæ´ä¹ï¼"))
print('--------æç¤ºè¯end--------')


# éç½®å¤§è¯­è¨æ¨¡åï¼LLMï¼åæ°ï¼ä½¿ç¨ DeepSeek ç APIï¼å¼å®¹ OpenAI æ¥å£ï¼
llm = ChatOpenAI(
    api_key=os.getenv("DEEPSEEK_API_KEY"),   # ä»ç¯å¢åéè¯»å API å¯é¥ï¼æ´å®å¨ï¼
    base_url=os.getenv("DEEP_URL"),          # ä»ç¯å¢åéè¯»å DeepSeek ç API åºç¡å°å
    model="deepseek-v3:671b",                # æå®ä½¿ç¨çæ¨¡ååç§°
    temperature=0.7,                         # æ§å¶çæææ¬çéæºæ§ï¼0~1ï¼å¼è¶é«è¶æåé æ§ï¼
    max_tokens=1024                          # éå¶æ¨¡åæå¤§è¾åºé¿åº¦ï¼ä»¥ token ä¸ºåä½ï¼
)

# åå»ºè¾åºè§£æå¨ï¼å°æ¨¡åè¿åç AIMessage å¯¹è±¡è§£æä¸ºçº¯å­ç¬¦ä¸²
output_parser = StrOutputParser()

# ä½¿ç¨ LangChain çç®¡éæä½ç¬¦ï¼|ï¼æå»ºå¤çé¾ï¼
# è¾å¥ â æç¤ºæ¨¡æ¿ â å¤§æ¨¡å â è¾åºè§£æ â æç»å­ç¬¦ä¸²ç»æ
chain = prompt | llm | output_parser

# è°ç¨é¾å¼æµç¨ï¼ä¼ å¥ç¨æ·é®é¢ï¼âæç½åç½å±æè°æ´»å¾çæ´ä¹ï¼â
response = chain.invoke({"input": "æç½åç½å±æè°æ´»å¾çæ´ä¹ï¼"})

# æå°æ¨¡åçæçæç»åç­
print('--------æç»åç­--------')
print(response)
</pre>
</div>
<p>&nbsp;--------æç»åç­--------<br>è¿éæ¯å¦éè¦è·è¿é®é¢ï¼æ¯çã<br>è¿½é®ï¼æç½å»ä¸æ¶å å²ï¼<br>ä¸­é´ç­æ¡ï¼æç½å»ä¸æ¶61å²ã<br>è¿½é®ï¼ç½å±æå»ä¸æ¶å å²ï¼<br>ä¸­é´ç­æ¡ï¼ç½å±æå»ä¸æ¶75å²ã<br>æä»¥æç»ç­æ¡æ¯ï¼ç½å±æ</p>
<p>&nbsp;</p>
<h3 class="qwen-markdown-heading"><span class="qwen-markdown-text">ä¸ãæ ¸å¿ç®æ </span></h3>
<p class="qwen-markdown-paragraph"><span class="qwen-markdown-text">æä¼å¤§è¯­è¨æ¨¡åï¼LLMï¼å¦ä½<strong class="qwen-markdown-strong"><span class="qwen-markdown-text">åæ­¥æè</span></strong><span class="qwen-markdown-text">ï¼è§£å³éè¦<strong class="qwen-markdown-strong"><span class="qwen-markdown-text">å¤æ­¥æ¨ç</span></strong><span class="qwen-markdown-text">ï¼Multi-hop Reasoningï¼çå¤æé®é¢</span></span></span></p>
<h3 class="qwen-markdown-heading"><span class="qwen-markdown-text">äºãå³é®ææ¯ç¹</span></h3>
<h4 class="qwen-markdown-heading"><span class="qwen-markdown-text">1. <strong class="qwen-markdown-strong"><span class="qwen-markdown-text">å°æ ·æ¬æç¤ºï¼Few-Shot Promptingï¼</span></strong></span></h4>
<ul class="qwen-markdown-list" dir="auto">
<li><strong class="qwen-markdown-strong"><span class="qwen-markdown-text">æ¦å¿µ</span></strong><span class="qwen-markdown-text">ï¼å¨æç¤ºè¯ä¸­æä¾å ä¸ªâè¾å¥-è¾åºâç¤ºä¾ï¼å¼å¯¼æ¨¡åæ¨¡ä»¿åç­æ ¼å¼åæ¨çé»è¾ã</span></li>
<li><strong class="qwen-markdown-strong"><span class="qwen-markdown-text">ä½ç¨</span></strong><span class="qwen-markdown-text">ï¼æ éå¾®è°æ¨¡åï¼ä»éè¿æç¤ºå·¥ç¨ï¼Prompt Engineeringï¼æåå¤æä»»å¡è¡¨ç°ã</span></li>
<li><strong class="qwen-markdown-strong"><span class="qwen-markdown-text">å®ç°å·¥å·</span></strong><span class="qwen-markdown-text">ï¼<code class="qwen-markdown-codespan" style="cursor: pointer">langchain.prompts.few_shot.FewShotPromptTemplate</code></span></li>

</ul>
<div class="qwen-markdown-space">&nbsp;</div>
<h4 class="qwen-markdown-heading"><span class="qwen-markdown-text">2. <strong class="qwen-markdown-strong"><span class="qwen-markdown-text">ç»æåæ¨çæ¨¡æ¿è®¾è®¡</span></strong></span></h4>
<ul class="qwen-markdown-list" dir="auto">
<li><span class="qwen-markdown-text"><span class="qwen-markdown-text">æ¯ä¸ªç¤ºä¾åå«æ¸æ°çæ¨çé¾æ¡ï¼</span></span>
<ul class="qwen-markdown-list" dir="auto">
<li><span class="qwen-markdown-text">å¤æ­æ¯å¦éè¦è¿½é®ï¼âè¿éæ¯å¦éè¦è·è¿é®é¢ï¼æ¯çãâï¼</span></li>
<li data-spm-anchor-id="a2ty_o01.29997173.0.i6.7b5f5171JyGp8U"><span class="qwen-markdown-text">åæ­¥æåºå­é®é¢ï¼âè¿½é®ï¼...âï¼</span></li>
<li><span class="qwen-markdown-text">ç»åºä¸­é´ç­æ¡ï¼âä¸­é´ç­æ¡ï¼...âï¼</span></li>
<li><span class="qwen-markdown-text">æç»æ´åç»è®ºï¼âæä»¥æç»ç­æ¡æ¯ï¼...âï¼</span></li>

</ul>

</li>
<li><strong class="qwen-markdown-strong"><span class="qwen-markdown-text">ç®ç</span></strong><span class="qwen-markdown-text">ï¼è®©æ¨¡åå­¦ä¼âååè§£é®é¢ â åéæ­¥æ±è§£ â æåç»¼åç­æ¡âçæç»´æ¨¡å¼ã</span></li>

</ul>
<div class="qwen-markdown-space">&nbsp;</div>
<h4 class="qwen-markdown-heading"><span class="qwen-markdown-text">3. <strong class="qwen-markdown-strong"><span class="qwen-markdown-text">LangChain æç¤ºæ¨¡æ¿ç»å</span></strong></span></h4>
<ul class="qwen-markdown-list" dir="auto">
<li><code class="qwen-markdown-codespan" style="cursor: pointer">PromptTemplate</code><span class="qwen-markdown-text">ï¼å®ä¹åä¸ªç¤ºä¾çæ ¼å¼ï¼å¦ <code class="qwen-markdown-codespan" style="cursor: pointer">"Question: {question}\n{answer}"</code><span class="qwen-markdown-text">ï¼</span></span></li>
<li><code class="qwen-markdown-codespan" style="cursor: pointer">FewShotPromptTemplate</code><span class="qwen-markdown-text">ï¼èªå¨æ¼æ¥å¤ä¸ªç¤ºä¾ + ç¨æ·é®é¢ï¼çæå®æ´æç¤º</span></li>
<li data-spm-anchor-id="a2ty_o01.29997173.0.i7.7b5f5171JyGp8U"><span class="qwen-markdown-text">æ¯æå¨ææå¥ç¨æ·è¾å¥ï¼éè¿ <code class="qwen-markdown-codespan" style="cursor: pointer">{input}</code><span class="qwen-markdown-text"> å ä½ç¬¦ï¼</span></span></li>

</ul>
<div class="qwen-markdown-space">&nbsp;</div>
<h4 class="qwen-markdown-heading"><span class="qwen-markdown-text">4. <strong class="qwen-markdown-strong"><span class="qwen-markdown-text">å¤§æ¨¡åè°ç¨ä¸å®å¨éç½®</span></strong></span></h4>
<ul class="qwen-markdown-list" dir="auto">
<li><span class="qwen-markdown-text">ä½¿ç¨ <code class="qwen-markdown-codespan" style="cursor: pointer">ChatOpenAI</code><span class="qwen-markdown-text"> è°ç¨å¼å®¹ OpenAI API çç¬¬ä¸æ¹æ¨¡åï¼å¦ DeepSeekï¼</span></span></li>
<li><strong class="qwen-markdown-strong"><span class="qwen-markdown-text">å³é®åæ°</span></strong><span class="qwen-markdown-text"><span class="qwen-markdown-text">ï¼</span></span>
<ul class="qwen-markdown-list" dir="auto">
<li><code class="qwen-markdown-codespan" style="cursor: pointer">temperature=0.7</code><span class="qwen-markdown-text">ï¼å¹³è¡¡åé æ§ä¸ç¨³å®æ§</span></li>
<li><code class="qwen-markdown-codespan" style="cursor: pointer">max_tokens=1024</code><span class="qwen-markdown-text">ï¼æ§å¶è¾åºé¿åº¦</span></li>

</ul>

</li>
<li><strong class="qwen-markdown-strong"><span class="qwen-markdown-text">å®å¨å®è·µ</span></strong><span class="qwen-markdown-text">ï¼éè¿ <code class="qwen-markdown-codespan" style="cursor: pointer">os.getenv()</code><span class="qwen-markdown-text"> ä»ç¯å¢åéè¯»å API å¯é¥ï¼é¿åç¡¬ç¼ç </span></span></li>

</ul>
<div class="qwen-markdown-space">&nbsp;</div>
<h4 class="qwen-markdown-heading"><span class="qwen-markdown-text">5. <strong class="qwen-markdown-strong"><span class="qwen-markdown-text">é¾å¼å¤çï¼Chainï¼ä¸è¾åºè§£æ</span></strong></span></h4>
<ul class="qwen-markdown-list" dir="auto">
<ul class="qwen-markdown-list" dir="auto">
<li><span class="qwen-markdown-text">æå»ºæ°æ®æµç®¡éï¼<br><code class="qwen-markdown-codespan" style="cursor: pointer">è¾å¥ â æç¤ºæ¨¡æ¿ â å¤§æ¨¡å â å­ç¬¦ä¸²è§£æ â æç»ç»æ</code></span></li>
<li><span class="qwen-markdown-text">ä½¿ç¨ <code class="qwen-markdown-codespan" style="cursor: pointer">|</code><span class="qwen-markdown-text"> æä½ç¬¦è¿æ¥ç»ä»¶ï¼LangChain çå½æ°å¼é£æ ¼ï¼</span></span></li>
<li data-spm-anchor-id="a2ty_o01.29997173.0.i9.7b5f5171JyGp8U"><code class="qwen-markdown-codespan" style="cursor: pointer">StrOutputParser()</code><span class="qwen-markdown-text">ï¼å°æ¨¡åè¿åçç»æåæ¶æ¯ï¼å¦ AIMessageï¼è½¬ä¸ºçº¯ææ¬</span></li>


</ul>

</ul>
<pre><span style="font-size: 18px">å°è¿å¤§å®¶åºè¯¥æè§å°ï¼å¤§æ¨¡åå°±æ¯ç©æç¤ºè¯ï¼å ä¸ºå¤§æ¨¡åæ¬çæä»¬ä¸ªäººæ¯æ æ³å·¦å³ä»çè½åï¼é½ä¾èµäºå¤§åï¼ä»ä»¬åå¸ä»ä¹æä»¬ç¨ä»ä¹ï¼ï¼<br>æç¤ºè¯å¦ä½åå³å®äºä½ AIåºç¨çè½åï¼åé¢æä»¬ä¼ç»§ç»­ç©æç¤ºè¯ï¼æ¬è¯·æå¾ã<br><br></span></pre>
<p>&nbsp;</p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.0006944444444444445" data-date-updated="2026-01-23 10:58">2026-01-23 10:57</span>&nbsp;
<a href="https://www.cnblogs.com/yclh">ä¸ç¬ä½</a>&nbsp;
éè¯»(<span id="post_view_count">37</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19521069);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19521069', targetLink: 'https://www.cnblogs.com/yclh/p/19521069', title: 'AIå¼å-python-langchainæ¡æ¶ï¼1-5 ä½¿ç¨ Few-Shot Prompting å®ç°å¤è·³æ¨çé®ç­ï¼ä»¥åå²äººç©å¯¿å½æ¯è¾ä¸ºä¾ï¼' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ 32å²ç¨åºåçæ­»èåï¼æçä¸äºçå®æå ]]></title>
    <link>https://www.cnblogs.com/HaiJun-Aion/p/19521040</link>
    <guid>0b0284dcad9feb97f51d041784028d67</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/HaiJun-Aion/p/19521040" title="åå¸äº 2026-01-23 10:52">
    <span role="heading" aria-level="2">32å²ç¨åºåçæ­»èåï¼æçä¸äºçå®æå</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1654515/202601/1654515-20260123102431727-1946858362.png" class="lazyload"></p>
<p>ä¸åå·å°32å²ç¨åºåå¨æ«çæ­»è¿æ¡æ¶æ¯ï¼å¶å®æå¹¶ä¸éçã</p>
<p>è¿å å¹´ï¼ç¨åºåçæ­»ãåä¸ãåºäºçæ°é»éä¸æ®µæ¶é´å°±ä¼åºç°ä¸æ¬¡ï¼åå­éçäººæ©å°±éº»æ¨äºãå·å°çæ¶åï¼æå¤å¹å£æ°ï¼ç»§ç»­å¹²æ´»ï¼å¾å°ççå¾å¿éå»ã</p>
<p>çå°ä»é¿æå ç­çç»èæ¶ï¼æçªç¶æ£ä½äºï¼å ä¸ºå¤ªåäºã</p>
<p>æä¹ç»å¸¸è¿æ ·ã</p>
<p>ä¸åå·å°ä»çå¦»å­åå¯¹ä»çèå¤©è®°å½ï¼ççæè§å¾æ å¥ï¼å¯æï¼ä»åä¹åä¸æ¥äº......</p>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1654515/202601/1654515-20260123105130238-333331143.png" class="lazyload"></p>
<hr>
<p>æå°ä¸æ¯å ç­ï¼ææ¯ä¸ç­åå¹²èªå·±çäºæï¼ææ¯è¾å·ãåªæä¸ç­åçæ¶é´æ¯çæ­£å±äºèªå·±çæ¶é´æåå¼å§ãæ²¡æäººææ°ï¼å®éä¸æ¥ï¼æä¼å¹²èªå·±çäºæãå­¦ä¹ ãåä»£ç ï¼ä¸ä¸çç¥å°±å°äºåæ¨ä¸¤ç¹ã</p>
<p>é£ä¸å»ï¼ææçæ­£è½è¿å¥èªå·±çç¶æã</p>
<p>å­¦ä¹ ä¹å¥½ï¼å¹²æ´»ä¹å¥½ï¼åªæåªæ¯å®éå°æ²é®çï¼é½è®©æè§å¾è¸å®ã</p>
<p>äºæ¯ï¼åæ¨ä¸¤ç¹æäºå¸¸æ</p>
<p>éè¿ä»è¿ä»¶äºï¼æçå°æä¹å¨éé¢ï¼çè§äºèªå·±ã</p>
<hr>
<p>æä¸ä¸æ¬¡åä»£ç åå°å¾ææ¯åå å¨ï¼èå¤§è®©æå¼åä¸ä¸ªç¥è¯åºRAGç³»ç»ã</p>
<p>ç»æäºæä¸å¨çæ¶é´ï¼å¶å®å¯¹äºææ¯æé¾åº¦çï¼å ä¸ºæ¥è§¦è¿åä¸ä¹ï¼ä¸å¨æ¶é´çè¯è¯å®å¼ä¸å¥½ã</p>
<p>åæ¥é£å¤©ï¼æè¿å¤åAI ä¸äºåä½æäº6ä¸ªå°æ¶å·¦å³ï¼æå°äºåæ¨3ç¹å¤ï¼åçæçå·®ä¸å¤ï¼é£ä¼å¿çä¹æç¹é«äºï¼ æç¹é¾åï¼å°±èµ¶å¿«ä¼æ¯äº...</p>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1654515/202601/1654515-20260123105139408-852460806.png" class="lazyload"></p>
<hr>
<p><strong>æä»¬è¿ä¸ä»£ç¨åºåï¼ççå¤ªç´¯äºã</strong></p>
<p>è¿ç§ç´¯ï¼ä¸åªæ¯å ç­ï¼èæ¯<strong>ä¸ç§é¿æè¢«æ¨çå¾åï¼å´ä¸æ¢åä¸æ¥çç¶æ</strong>ã</p>
<p>æ¿è´·å¨é£å¿ã<br>
å®¶åº­å¨é£å¿ã<br>
<strong>æªæ¥çä¸ç¡®å®æ§å¨é£å¿</strong>ã</p>
<p>æä»¬å¾æ¸æ¥ï¼ä¸æ¦æ¢ä¸æ¥ï¼å°±æå³çé£é©ã</p>
<p>äºæ¯æä»¬å­¦ä¼äºå¿ã<br>
å¿å°ãå¿ç´¯ãå¿èº«ä½ååºçåç§æéã</p>
<hr>
<p>ç¨åºåè¿ä¸ªèä¸æä¸ªå¾å±é©çå°æ¹ã</p>
<p>èº«ä½å¼å§åºé®é¢çæ¶åï¼<strong>è½åå¾å¾è¿å¨çº¿</strong>ã</p>
<p>æä»¬è¿è½åä»£ç ï¼è¿è½è§£å³é®é¢ï¼è¿è½å¨ç¾¤éåä¸å¥ï¼âå¥½çï¼æççâ</p>
<p>æä»¥ä½ ä¼è¯¯ä»¥ä¸ºèªå·±æ²¡äºã</p>
<p>å¯èº«ä½ä¸æ¯ç³»ç»ï¼æ²¡æææ¾çæ¥éæç¤ºã<br>
ç­å®çæ­£å´©çæ¶åï¼å¾å¾æ²¡æç»ä½ åæ»çæºä¼ã</p>
<p>ä»å¤©å·å°è¿ä¸ªæ°é»æ¶æ¯å¯¹ææ¥è¯´ï¼æ´åæ¯ä¸æ¬¡æéãæç°å¨ä½æ£å»ï¼ä¼°è®¡é½æ¯å¨çº¢ç¶æï¼æç»å¸¸ç¬å¤ï¼ç°å¨é»ç¼çä¹å°äº....</p>
<p>æä»¬è¿ä¸ä»£äººï¼å¾åªåã</p>
<p>åªåå·¥ä½ï¼åªåèµé±ï¼åªåè®©çæ´»å¾åèµ°ã</p>
<p>å¯å¦æè¿èº«ä½é½å¼å§éæ¯ï¼é£è¿æ¡è·¯ï¼ççå¼å¾éæ°æ³ä¸æ³ã</p>
<p>ä¸æ¯ä»åä¸äºã<br>
æ¯æä»¬è¿ä¸ä»£ï¼ççå¤ªç´¯äºã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-23 10:53">2026-01-23 10:52</span>&nbsp;
<a href="https://www.cnblogs.com/HaiJun-Aion">ç¨åºåæµ·å</a>&nbsp;
éè¯»(<span id="post_view_count">1192</span>)&nbsp;
è¯è®º(<span id="post_comment_count">21</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19521040);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19521040', targetLink: 'https://www.cnblogs.com/HaiJun-Aion/p/19521040', title: '32å²ç¨åºåçæ­»èåï¼æçä¸äºçå®æå' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
        </channel>
        </rss>