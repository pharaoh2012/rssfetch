<?xml version="1.0" encoding="UTF-8" ?>
    <rss version="2.0">
    <channel>
        <title><![CDATA[ ä¸»é¡µ - åå®¢å­ ]]></title>
        <link><![CDATA[ https://www.cnblogs.com/ ]]></link>
        <lastBuildDate>2026-01-15T20:20:36.740Z</lastBuildDate>
        <description><![CDATA[
        ä¸»é¡µ - åå®¢å­ RSS
    ]]></description>
        <language>zh-cn</language>
        <item>
    <title><![CDATA[ MySQLæ§è½ä¼åï¼ä»åºå±åçå°å®æè½å°çå¨ç»´åº¦æ¹æ¡ ]]></title>
    <link>https://www.cnblogs.com/liuziyi1/p/19489439</link>
    <guid>6ceda45f298be5e4e58d39ad836dd8a8</guid>
    <description>
    <![CDATA[ 
		<h2>
			<a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/liuziyi1/p/19489439" title="åå¸äº 2026-01-15 22:26">
    <span role="heading" aria-level="2">MySQLæ§è½ä¼åï¼ä»åºå±åçå°å®æè½å°çå¨ç»´åº¦æ¹æ¡</span>
    

</a>

		</h2>
		<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>å¨æ°æ®é©±å¨çä¸å¡åºæ¯ä¸­ï¼MySQLä½ä¸ºä¸»æµå¼æºå³ç³»åæ°æ®åºï¼å¶æ§è½ç´æ¥å³å®ç³»ç»ååºéåº¦ãååéä¸è¿ç»´ææ¬ãå°¤å¶å¯¹äºé«å¹¶åãå¤§æ°æ®éçå¹³å°ï¼å¦DeepSeekè¿ç±»AIæå¡åºæ¯ï¼ï¼æ¢æ¥è¯¢ä¸ä¸åçç´¢å¼è®¾è®¡å¯è½å¼åç³»ç»å¡é¡¿çè³éªå´©ãMySQLæ§è½ä¼åå¹¶éé¶æ£çâè°åæ¹SQLâï¼èæ¯åºäºåºå±åççç³»ç»æ§å·¥ç¨ââæ¢è¦ææ¡å¯è½å°çå®ææå·§ï¼æ´è¦çè§£ä¼åèåçæ ¸å¿é»è¾ï¼æè½å®ç°ä»âæ²»æ âå°âæ²»æ¬âççªç ´ãæ¬æå°èååºå±çè®ºä¸å®æç»éªï¼æå»ºâåçè®¤ç¥-é®é¢å®ä½-ä¼åå®æ½-å·¥ç¨ä¿éâçå®æ´ä½ç³»ï¼å©åå¼åèå®ç°MySQLæ§è½çç²¾åæåã</p>
<h1 id="-ä¸åºå±é»è¾mysqlæ§è½çæ ¸å¿æ¯æä¸å¤±è¡¡æ¬è´¨"># ä¸ãåºå±é»è¾ï¼MySQLæ§è½çæ ¸å¿æ¯æä¸å¤±è¡¡æ¬è´¨</h1>
<p>MySQLæ§è½çåºå±æ ¸å¿æ¯âèµæºæ¶èä¸ç»æè®¾è®¡çå¹³è¡¡âï¼æææ¢æ¥è¯¢ä¸æ§è½ç¶é¢ï¼æ¬è´¨é½æ¯å­å¨ç»æãèµæºåéææ§è¡é»è¾åºç°äºå¤±è¡¡ã</p>
<h2 id="-11-å­å¨å¼ææ ¸å¿bæ ä¸ç£çioçåºå±å³è">## 1.1 å­å¨å¼ææ ¸å¿ï¼B+æ ä¸ç£çIOçåºå±å³è</h2>
<p>InnoDBä½ä¸ºMySQLé»è®¤å­å¨å¼æï¼å¶æ ¸å¿å­å¨ç»æä¸ºB+æ ï¼æ§è½ä¼å£ç´æ¥ç±âç£çIOæ¬¡æ°âå³å®ãB+æ çè®¾è®¡ç¹æ§å³å®äºæ¥è¯¢æççä¸éï¼</p>
<ul>
<li>
<p>- ç»æç¹æ§ï¼B+æ ä¸ºå¹³è¡¡æ ï¼å¶å­èç¹å­å¨å¨éæ°æ®ï¼éå¶å­èç¹ä»å­å¨ç´¢å¼é®ä¸æéï¼åé¡µå¤§å°é»è®¤16KBï¼é«åº¦éå¸¸ä¸º1-3å±ï¼é«åº¦3çB+æ å¯å­å¨çº¦2000ä¸è¡æ°æ®ã</p>
</li>
<li>
<p>- IOææ¬ï¼æ¯æ¬¡æ¥è¯¢çIOæ¬¡æ°=B+æ é«åº¦+åè¡¨æ¬¡æ°ï¼éè¦çç´¢å¼åºæ¯ï¼ãå¨è¡¨æ«æééåææå¶å­èç¹ï¼IOæ¬¡æ°é£åè³ç¾ä¸çº§ï¼æ¯æ¢æ¥è¯¢çæ ¸å¿è¯±å ã</p>
</li>
<li>
<p>- ç¼å­ä»·å¼ï¼InnoDBç¼å²æ± ï¼innodb_buffer_poolï¼å¯ç¼å­æ°æ®é¡µä¸ç´¢å¼é¡µï¼å½ä¸­ççæ³å¼éè¶è¿99%ï¼ç¼å­å½ä¸­å¯ç´æ¥é¿åç£çIOï¼å¤§å¹æåæ¥è¯¢éåº¦ã</p>
</li>
</ul>
<h2 id="-12-æ§è½æ ¸å¿ç»´åº¦åå¤§èµæºçæ¶èå¹³è¡¡">## 1.2 æ§è½æ ¸å¿ç»´åº¦ï¼åå¤§èµæºçæ¶èå¹³è¡¡</h2>
<p>MySQLæ§è½ç¶é¢æç»å¯å½ç»ä¸ºCPUãç£çIOãåå­ãéåå¤§èµæºçæ¶èå¤±è¡¡ï¼å¶ä¸­ç£çIOå æ¯æé«ï¼æ¯ä¼åçæ ¸å¿é¶ç¹ï¼</p>
<ul>
<li>
<p>- CPUï¼ç¨äºSQLè§£æãæåºãåç»ãå½æ°è®¡ç®ç­æä½ï¼ä½ææåºä¸å¤æè®¡ç®æå¯¼è´CPUè¿è½½ã</p>
</li>
<li>
<p>- ç£çIOï¼æ°æ®é¡µ/ç´¢å¼é¡µçè¯»åä¸åå¥ï¼å¨è¡¨æ«æãç´¢å¼å¤±ææ¯IOæ¶èæ¿å¢çä¸»è¦åå ã</p>
</li>
<li>
<p>- åå­ï¼ç¼å²æ± ç¼å­æ°æ®é¡µï¼åå­ä¸è¶³ä¼å¯¼è´ç¼å­å½ä¸­çä¸éï¼è¢«è¿«é¢ç¹è¯»åç£çã</p>
</li>
<li>
<p>- éï¼è¡é/è¡¨éå¼åçæ¥è¯¢ç­å¾ï¼å¦æ´æ°æä½é»å¡æ¥è¯¢ãé«å¹¶åä¸çéç«äºï¼ä¼é´æ¥æé¿æ¥è¯¢èæ¶ã</p>
</li>
</ul>
<h2 id="-13-æ¢æ¥è¯¢çæ¬è´¨æ§è¡é»è¾ä¸èµæºæ¶èçåéå¤±è¡¡">## 1.3 æ¢æ¥è¯¢çæ¬è´¨ï¼æ§è¡é»è¾ä¸èµæºæ¶èçåéå¤±è¡¡</h2>
<p>æ¢æ¥è¯¢å¹¶éâæ§è¡æ¶é´é¿âçè¡¨é¢ç°è±¡ï¼èæ¯åºå±æ§è¡é»è¾ä¸èµæºæ¶èçåéé®é¢ï¼ä¸æ¯æ§è¡è®¡åä¸åçï¼å¦å¨è¡¨æ«æãç´¢å¼å¤±æï¼ï¼å¯¼è´IOæ¬¡æ°è¿å¤ï¼äºæ¯èµæºç«äºï¼å¦éç­å¾ãç¼å­å¤±æï¼ï¼å¯¼è´æææ§è¡æ¶é´è¢«æé¿ãä¼åæ¢æ¥è¯¢ï¼æ¬è´¨å°±æ¯ä¼åæ§è¡è®¡åãåå°èµæºæ¶èãåè§£èµæºç«äºã</p>
<h1 id="-äºé®é¢å®ä½ä»æ¢æ¥è¯¢ææå°æ§è¡è®¡åè§£æ"># äºãé®é¢å®ä½ï¼ä»æ¢æ¥è¯¢ææå°æ§è¡è®¡åè§£æ</h1>
<p>ç²¾åå®ä½é®é¢æ¯ä¼åçåæï¼æ ¸å¿ä¾èµâæ¢æ¥è¯¢æ¥å¿ææ+æ§è¡è®¡ååæâï¼å®ç°ä»âåç°é®é¢âå°âå®ä½æ ¹æºâçé­ç¯ã</p>
<h2 id="-21-æ¢æ¥è¯¢æ¥å¿æ§è½ç¶é¢çç¬¬ä¸éææ">## 2.1 æ¢æ¥è¯¢æ¥å¿ï¼æ§è½ç¶é¢çç¬¬ä¸éææ</h2>
<p>æ¢æ¥è¯¢æ¥å¿æ¯è®°å½ä½æSQLçæ ¸å¿å·¥å·ï¼éåçéç½®éå¼ä¸å­å¨è·¯å¾ï¼ç¡®ä¿ç²¾åææå³é®é®é¢SQLã</p>
<h3 id="-211-æ¥å¿éç½®ä¸´æ¶çææ°¸ä¹åºå">### 2.1.1 æ¥å¿éç½®ï¼ä¸´æ¶çæ+æ°¸ä¹åºåï¼</h3>
<p>ä¸´æ¶éç½®ï¼éå¯MySQLåå¤±æï¼éç¨äºå¿«éææ¥ï¼ï¼</p>
<pre><code class="language-sql">-- è®¾ç½®æ¢æ¥è¯¢éå¼ï¼åä½ï¼ç§ï¼çäº§ç¯å¢å»ºè®®0.5-1ç§ï¼å¹³è¡¡çµæåº¦ä¸æ¥å¿éï¼
SET GLOBAL long_query_time = 0.5; 
-- å¼å¯æ¢æ¥è¯¢æ¥å¿
SET GLOBAL slow_query_log = 'ON';
-- æå®æ¥å¿æä»¶è·¯å¾ï¼éç¡®ä¿MySQLæåå¥æéï¼
SET GLOBAL slow_query_log_file = '/var/log/mysql/slow.log';
-- è®°å½æªä½¿ç¨ç´¢å¼çæ¥è¯¢ï¼è¾å©å®ä½ç´¢å¼å¤±æåºæ¯ï¼
SET GLOBAL log_queries_not_using_indexes = 'ON';
</code></pre>
<p>æ°¸ä¹éç½®ï¼ä¿®æ¹my.cnfæä»¶ï¼éå¯åçæï¼éç¨äºçäº§ç¯å¢å¸¸æåçæ§ï¼ï¼</p>
<pre><code class="language-ini">[mysqld]
slow_query_log = 1
slow_query_log_file = /var/log/mysql/slow.log
long_query_time = 0.5
log_queries_not_using_indexes = 1
</code></pre>
<h3 id="-212-æ¥å¿åæå·¥å·æåæ ¸å¿é®é¢sql">### 2.1.2 æ¥å¿åæå·¥å·ï¼æåæ ¸å¿é®é¢SQL</h3>
<p>æ¢æ¥è¯¢æ¥å¿ééè¿å·¥å·è§£æï¼æè½å¿«éå®ä½é«é¢ãé«èçæ ¸å¿SQLï¼å¸¸ç¨å·¥å·åä¸ºä¸¤ç±»ï¼</p>
<ul>
<li>
<p>- pt-query-digestï¼Percona Toolkitï¼ï¼åæç»´åº¦æå¨é¢ï¼æ¯æè¾åºæ§è¡æ¬¡æ°ãå¹³åèæ¶ãæ«æè¡æ°ãéç­å¾æ¶é´ç­ææ ï¼éåå¤æåºæ¯ï¼ <code>pt-query-digest /var/log/mysql/slow.log &gt; slow_report.txt</code></p>
</li>
<li>
<p>- mysqldumpslowï¼MySQLèªå¸¦å·¥å·ï¼ï¼è½»éä¾¿æ·ï¼éåå¿«éæåTopNæ¢æ¥è¯¢ï¼ <code>-- æåèæ¶æå¤ç10æ¡SELECTè¯­å¥</code> <code>mysqldumpslow -s t -t 10 -g 'select' /var/log/mysql/slow.log</code></p>
</li>
</ul>
<p>åææ¥åééç¹å³æ³¨âæ§è¡æ¬¡æ°å¤+å¹³åèæ¶é¿ââæ«æè¡æ°å¤ââéç­å¾æ¶é´é¿âä¸ç±»SQLï¼è¿ç±»SQLå¯¹æ´ä½æ§è½å½±åæå¤§ï¼ä¼åçº³å¥ä¼åæ¸åã</p>
<h2 id="-22-explainæ§è¡è®¡åè¯»æmysqlçæ§è¡é»è¾">## 2.2 EXPLAINæ§è¡è®¡åï¼è¯»æMySQLçæ§è¡é»è¾</h2>
<p>ææå°æ¢æ¥è¯¢åï¼ééè¿EXPLAINå³é®å­åææ§è¡è®¡åï¼å¤æ­ç´¢å¼æ¯å¦çæãæ¥è¯¢æ¯å¦å­å¨ä½ææä½ï¼æ ¸å¿æ¯è¯»æMySQLçâæ§è¡æè·¯âã</p>
<h3 id="-221-æ ¸å¿å­æ®µè§£è¯»">### 2.2.1 æ ¸å¿å­æ®µè§£è¯»</h3>
<p>æ§è¡<code>EXPLAIN SELECT * FROM orders WHERE user_id = 100 AND status = 'PAID';</code>åï¼éç¹å³æ³¨ä»¥ä¸å­æ®µï¼</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>å­æ®µ</td>
<td>æ ¸å¿æä¹</td>
<td>ä¼åå¤æ­æ å</td>
</tr>
<tr>
<td>type</td>
<td>è®¿é®ç±»åï¼åæ æ¥è¯¢æç</td>
<td>ä»ä¼å°å£ï¼system &gt; const &gt; eq_ref &gt; ref &gt; range &gt; index &gt; ALLï¼éé¿åALLï¼å¨è¡¨æ«æï¼</td>
</tr>
<tr>
<td>key</td>
<td>å®éä½¿ç¨çç´¢å¼</td>
<td>NULLè¡¨ç¤ºæªä½¿ç¨ç´¢å¼ï¼éææ¥ç´¢å¼å¤±æåå </td>
</tr>
<tr>
<td>rows</td>
<td>é¢ä¼°æ«æè¡æ°</td>
<td>æ°å¼è¶å¤§ï¼IOæ¶èè¶é«ï¼ééè¿ç´¢å¼ç¼©å°èå´</td>
</tr>
<tr>
<td>Extra</td>
<td>éå æ§è¡ä¿¡æ¯</td>
<td>Using filesort/Using temporaryéä¼åï¼Using indexä¸ºçæ³ç¶æï¼è¦çç´¢å¼ï¼</td>
</tr>
</tbody>
</table>
<h3 id="-222-å³é®å¤æ­é»è¾">### 2.2.2 å³é®å¤æ­é»è¾</h3>
<p>éè¿æ§è¡è®¡åå¯å¿«éå®ä½æ ¸å¿é®é¢ï¼è¥typeä¸ºALLï¼å¨è¡¨æ«æï¼ï¼ä¼åææ¥ç´¢å¼æ¯å¦ç¼ºå¤±æå¤±æï¼è¥Extraåºç°Using filesortï¼è¯´ææåºæªä½¿ç¨ç´¢å¼ï¼éä¼åæåºå­æ®µï¼è¥rowsè¿å¤§äºå®éè¿åè¡æ°ï¼è¯´æç´¢å¼éæ©æ§å·®ï¼éè°æ´ç´¢å¼è®¾è®¡ã</p>
<h1 id="-ä¸æ ¸å¿ä¼åç´¢å¼è®¾è®¡ä¸å¤±æè§é¿çå®ææå"># ä¸ãæ ¸å¿ä¼åï¼ç´¢å¼è®¾è®¡ä¸å¤±æè§é¿çå®ææå</h1>
<p>ç´¢å¼æ¯MySQLæ§è½ä¼åçæ ¸å¿ææ®µï¼å¶æ¬è´¨æ¯âåºäºB+æ çæåºæ°æ®ç»æâï¼ç®çæ¯åå°ç£çIOæ¬¡æ°ãä¼åç´¢å¼éåæ¶å¼é¡¾âè®¾è®¡åçæ§âä¸âé¿åå¤±æâï¼éµå¾ªåºå±é»è¾ä¸å®æååã</p>
<h2 id="-31-ç´¢å¼è®¾è®¡çä¸å¤§æ ¸å¿åå">## 3.1 ç´¢å¼è®¾è®¡çä¸å¤§æ ¸å¿åå</h2>
<p>ç´¢å¼è®¾è®¡å¹¶éâè¶å¤è¶å¥½âï¼èæ¯è¦å¨âæ¥è¯¢æçâä¸âç»´æ¤ææ¬âä¹é´æ¾å°å¹³è¡¡ï¼æ ¸å¿éµå¾ªä¸å¤§ååï¼</p>
<h3 id="-311-éæ©æ§ä¼ååå">### 3.1.1 éæ©æ§ä¼ååå</h3>
<p>ç´¢å¼éæ©æ§=å¯ä¸å¼æ°é/æ»è¡æ°ï¼éæ©æ§è¶é«ï¼ç´¢å¼å®ä½ç²¾åº¦è¶å¼ºï¼IOæ¬¡æ°è¶å°ãè®¾è®¡æ¶éå°é«éæ©æ§å­æ®µï¼å¦ç¨æ·IDãè®¢åå·ï¼æ¾å¨èåç´¢å¼ååï¼ä½éæ©æ§å­æ®µï¼å¦æ§å«ãç¶æï¼éæ©æ§&lt;0.1ï¼å°½éä¸åç¬å»ºç´¢å¼ï¼é¿åä¼åå¨æ¾å¼ä½¿ç¨ã</p>
<h3 id="-312-ä¸æç´¢å¼ååå®ææ ¸å¿">### 3.1.2 ä¸æç´¢å¼ååï¼å®ææ ¸å¿ï¼</h3>
<p>ä¸æç´¢å¼æ¯çæ³çç´¢å¼è®¾è®¡æ åï¼å¯æå¤§ååå°IOä¸è®¡ç®æ¶èï¼</p>
<ul>
<li>
<p>- ä¸æï¼WHEREæ¡ä»¶åçº³å¥ç´¢å¼ï¼ç¼©å°æ«æèå´ï¼</p>
</li>
<li>
<p>- äºæï¼ORDER BY/GROUP BYåçº³å¥ç´¢å¼ï¼å©ç¨ç´¢å¼æåºæ§é¿åæåºï¼Using filesortï¼ï¼</p>
</li>
<li>
<p>- ä¸æï¼SELECTæ¥è¯¢åè¢«ç´¢å¼è¦çï¼é¿ååè¡¨æä½ï¼Extraæ¾ç¤ºUsing indexï¼ã</p>
</li>
</ul>
<p>ç¤ºä¾ï¼æ¥è¯¢<code>SELECT user_id, username FROM users WHERE email = 'user@deepseek.com';</code>ï¼è®¾è®¡è¦çç´¢å¼<code>ALTER TABLE users ADD INDEX idx_email_cover (email, user_id, username);</code>ï¼å¯å®ç°æ åè¡¨ãæ æåºçé«ææ¥è¯¢ã</p>
<h3 id="-313-æå°ç»´æ¤ææ¬åå">### 3.1.3 æå°ç»´æ¤ææ¬åå</h3>
<p>ç´¢å¼ä¼å¢å æå¥ãæ´æ°ãå é¤æä½çç»´æ¤ææ¬ï¼éè°æ´B+æ ç»æï¼ï¼è®¾è®¡æ¶éï¼</p>
<ul>
<li>
<p>- æ§å¶åè¡¨ç´¢å¼æ°å¨5ä¸ªä»¥åï¼é¿ååä½ç´¢å¼ï¼å¦å·²æ(a,b)èåç´¢å¼ï¼åç¬aç´¢å¼ä¸ºåä½ï¼ï¼</p>
</li>
<li>
<p>- å¤§ææ¬ãBlobå­æ®µä¸å»ºç´¢å¼ï¼é¿åç´¢å¼ä½ç§¯è¿å¤§ï¼</p>
</li>
<li>
<p>- èåç´¢å¼éè¦çé«é¢æ¥è¯¢åºæ¯ï¼åå°éå¤ç´¢å¼ã</p>
</li>
</ul>
<h3 id="-314-èåç´¢å¼çå­æ®µé¡ºåºæå·§">### 3.1.4 èåç´¢å¼çå­æ®µé¡ºåºæå·§</h3>
<p>èåç´¢å¼éµå¾ªâæå·¦åç¼ååâï¼æ¬è´¨æ¯åºäºB+æ çæåºå­å¨ç¹æ§ï¼è®¾è®¡æ¶ééµå¾ªï¼</p>
<ul>
<li>
<p>- ç­å¼æ¥è¯¢å­æ®µå¨åï¼èå´æ¥è¯¢å­æ®µå¨åï¼å¦(a,b)èåç´¢å¼ï¼a=1 AND b&gt;10å¯èµ°ç´¢å¼ï¼b&gt;10åä¸å¯ï¼ï¼</p>
</li>
<li>
<p>- é«é¢æ¥è¯¢å­æ®µå¨åï¼ä½é¢å­æ®µå¨åï¼ç¡®ä¿æ´å¤æ¥è¯¢è½å½ä¸­ç´¢å¼åç¼ã</p>
</li>
</ul>
<p>ç¤ºä¾ï¼æ¥è¯¢<code>SELECT * FROM sales WHERE region='Asia' AND category='Tech' AND sale_date BETWEEN '2023-01-01' AND '2023-12-31' ORDER BY revenue DESC;</code>ï¼æä¼èåç´¢å¼ä¸º<code>idx_region_category_date (region, category, sale_date)</code>ã</p>
<h2 id="-32-ç´¢å¼å¤±æçåå¤§å¸ååºæ¯ä¸è§£å³æ¹æ¡">## 3.2 ç´¢å¼å¤±æçåå¤§å¸ååºæ¯ä¸è§£å³æ¹æ¡</h2>
<p>ç´¢å¼å¤±ææ¯æ¢æ¥è¯¢çä¸»è¦è¯±å ï¼æ¬è´¨æ¯ç ´åäºB+æ çæåºæ§æå®ä½è§åï¼ä»¥ä¸æ¯å®æä¸­æå¸¸è§çåºæ¯åä¼åæ¹æ¡ï¼</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>å¤±æåºæ¯</td>
<td>éè¯¯ç¤ºä¾</td>
<td>ä¼åæ¹æ¡</td>
</tr>
<tr>
<td>ç´¢å¼ååä¸è®¡ç®/å½æ°</td>
<td>SELECT * FROM users WHERE YEAR(create_time) = 2023;</td>
<td>SELECT * FROM users WHERE create_time BETWEEN '2023-01-01' AND '2023-12-31';</td>
</tr>
<tr>
<td>éå¼ç±»åè½¬æ¢</td>
<td>SELECT * FROM logs WHERE user_id = '123'ï¼user_idä¸ºINTï¼;</td>
<td>SELECT * FROM logs WHERE user_id = 123ï¼å¹éå­æ®µç±»åï¼;</td>
</tr>
<tr>
<td>LIKEä»¥%å¼å¤´</td>
<td>SELECT * FROM user WHERE userId LIKE '%123';</td>
<td>æ¹ç¨è¦çç´¢å¼æLIKE '123%';</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

</div>
<div class="clear"></div>

		<p class="postfoot">
			posted on 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-15 22:27">2026-01-15 22:26</span>&nbsp;
<a href="https://www.cnblogs.com/liuziyi1">åå­æ¯</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19489439);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19489439', targetLink: 'https://www.cnblogs.com/liuziyi1/p/19489439', title: 'MySQLæ§è½ä¼åï¼ä»åºå±åçå°å®æè½å°çå¨ç»´åº¦æ¹æ¡' })">ä¸¾æ¥</a>

		</p>
	 ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ CLAUDE.md å¨æ¹ä½æåï¼æå»ºé«æ AI å¼åä¸ä¸æ ]]></title>
    <link>https://www.cnblogs.com/didispace/p/19489098</link>
    <guid>2705f113ee0b5395fb6dd433a3bec336</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/didispace/p/19489098" title="åå¸äº 2026-01-15 20:09">
    <span role="heading" aria-level="2">CLAUDE.md å¨æ¹ä½æåï¼æå»ºé«æ AI å¼åä¸ä¸æ</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>å¦æä½ æ¯ Claude çæ¥å¸¸ç¨æ·ï¼ä½ ä¸å®çæè¿ä¸ªåºæ¯ï¼æ¯æ¬¡å¼å¯ä¸ä¸ªæ°çå¯¹è¯ï¼é½å¿é¡»ä¸åå¶ç¦å°éå¤è®¾ç½®é¡¹ç®èæ¯ãç¼ç è§èåç¹å®çæä»¤ãè¿ä¸ä»èæ¶ï¼ä¹å®¹æåºéãå½ä½ å¿è®°æéæä¸ªå³é®ç»èæ¶ï¼å°±ä¸å¾ä¸è±æ´å¤æ¶é´å»ä¿®å¤é£äºä¸ç¬¦åè§èçä»£ç ã</p>
<p>CLAUDE.md æä»¶æ­£æ¯è§£å³è¿ä¸çç¹çå³é®ãå®å°±å Claude çé¡¹ç®ä¸å±è®°å¿ï¼è®© AI å¨æ¯æ¬¡å¯¹è¯å¼å§åèªå¨å è½½å¹¶è®°ä½ä½ çææåå¥½ãè¿æ¯ä¸ä¸ªç®åèå¼ºå¤§çåè½ï¼ä½å¤§å¤æ°ç¨æ·ä»ä»åçå¨åºç¡å±é¢ã</p>
<p>äºå®ä¸ï¼è¦çæ­£éæ¾ CLAUDE.md çå¨åï¼éè¦ææ¡ä¸äºæ´æ·±å»ãçè³æäºè¿åç´è§çæå·§ãæ¬æå°ä¸ºä½ æ­ç¤ºå¶ä¸­æå³é®çäºä¸ªï¼å¸®å©ä½ å°è¿ä¸ªç®åçéç½®æä»¶ï¼è½¬åä¸ºä¸ä¸ªè½å¤æç»­è¿åçé¡¹ç®ç¥è¯åºã</p>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/626506/202601/626506-20260115200636481-1624630998.png" class="lazyload"></p>
<h2 id="1-ä½ ç-claudemd-åºè¯¥æ¯ä¸ä¸ªæ´»çææ¡£èä¸æ¯ä¸æ¬¡æ§éç½®">1. ä½ ç CLAUDE.md åºè¯¥æ¯ä¸ä¸ªâæ´»çææ¡£âï¼èä¸æ¯âä¸æ¬¡æ§éç½®â</h2>
<p>è®¸å¤äººè®¤ä¸º CLAUDE.md æä»¶åªéå¨é¡¹ç®å¼å§æ¶éç½®ä¸æ¬¡ï¼ç¶åå°±å¯ä»¥ç½®ä¹ä¸çãè¿æ¯ä¸ä¸ªå·¨å¤§çè¯¯åºãæææç CLAUDE.md åºè¯¥éçé¡¹ç®çæ¼è¿èæç»­æ´æ°åä¼åã</p>
<p>æä½³çç»´æ¤æ¹å¼æ¯å¨æ¥å¸¸å·¥ä½ä¸­âææºå°âæå»ºå®ãä¾å¦ï¼å½ Claude ååºäºä¸ä¸ªéè¦çº æ­£çåè®¾ââæ¯å¦å®å»ºè®®ä½¿ç¨ console.log è¿è¡è°è¯ï¼èä½ çå¢éè§èæ¯ä½¿ç¨ç¹å®çæ¥å¿åºââä¸è¦åªæ¯ä¸´æ¶ä¿®æ­£ãç´æ¥åè¯ Claudeï¼âå°âæ»æ¯ä½¿ç¨æ¥å¿åºèä¸æ¯ console.logâè¿æ¡è§åæ·»å å°æç CLAUDE.md æä»¶ä¸­ãâ è¿æ ·ï¼ä½ çä¿®æ­£å°±ä¼æ²æ·ä¸æ¥ï¼å¨æªæ¥çææä¼è¯ä¸­çæãå¼å¾æ³¨æçæ¯ï¼æ©æçæ¬ç Claude æä¸ä¸ª # å¿«æ·é®æ¥æ·»å æä»¤ï¼ä½å¨ 2.0.70 çæ¬åå·²è¢«ç§»é¤ãç®åï¼ç´æ¥è¯·æ± Claude è¿è¡ä¿®æ¹æ¯å®æ¹æ¨èçæä½³å®è·µã</p>
<p>è¿ç§åæ³çä»·å¼å¨äºï¼å®è½å®æ¶ææå¹¶åºåå·¥ä½æµç¨ä¸­çéæ§ç¥è¯ãæ­£å¦ä¸ä¸ªç²¾å¦çæ¯å»æè¯´ï¼</p>
<p>è¿å°±åå¨ä¼è®®ä¸­åç¬è®°ï¼ä¸åçæ¯ï¼è¿äºç¬è®°ççä¼è¢«ä½¿ç¨ã</p>
<p>æ´é«çº§çç»´æ¤æ¹æ³æ¯å°å¶ä¸å¢éåä½æµç¨ç»åãå¨ä»£ç å®¡æ¥ï¼Code Reviewï¼ä¸­åç°çæªè¢«ææ¡£åçè§èï¼æ­£æ¯æ´æ° CLAUDE.md çç»ä½³æ¶æºãä¸ä¸ªç± Boris Cherny åäº«çé«æå·¥ä½æµæ¯ï¼éè¿ GitHub Actionï¼ä½ çè³å¯ä»¥ç´æ¥å¨ PR è¯è®ºä¸­ @claudeï¼è®©å®å°æ°è§èæ·»å å° CLAUDE.md æä»¶ä¸­ãè¿åå»ºäºä¸ä¸ªå¼ºå¤§çåé¦å¾ªç¯ï¼å°å¢éçéä½æºæ§æºæºä¸æ­å°æ²æ·å°è¿ä¸ªæ ¸å¿æä»¶ä¸­ã</p>
<h2 id="2-å°å³æ¯å¤ä¸ä¸ææ¯å®è´µèµæºç²¾ç®è³ä¸">2. å°å³æ¯å¤ï¼ä¸ä¸ææ¯å®è´µèµæºï¼ç²¾ç®è³ä¸</h2>
<p>äººä»¬æ®éè®¤ä¸ºï¼æä¾ç» AI çä¸ä¸æè¶å¤ï¼ç»æå°±è¶å¥½ãç¶èå¨ä½¿ç¨ CLAUDE.md æ¶ï¼è¿ä¸ªç´è§å¯è½æ¯éè¯¯çã</p>
<p>æ ¸å¿è®ºç¹æ¯ï¼âä¸ä¸ææ¯å®è´µçï¼Context is preciousï¼âãCLAUDE.md ä¸­çæ¯ä¸è¡åå®¹ï¼é½å¨ä¸ä½ å½åçå·¥ä½æä»¤ç«äº AI çæ³¨æåãä¸ä¸ªèè¿ãåæ»¡åä½ä¿¡æ¯çæä»¶ï¼åèå¯è½ç¨éææå³é®çæä»¤ï¼å¯¼è´ AI æä¸ä½éç¹ã<br>
å æ­¤ï¼ç²¾ç®è³ä¸ãä¸ä¸ªå¾å¥½çèµ·ç¹æ¯ä½¿ç¨ /init å½ä»¤ï¼å®ä¼æ ¹æ®ä½ çé¡¹ç®ç»æåææ¯æ çæä¸ä¸ªåå§æä»¶ãæçå»ºè®®æ¯ï¼ä»¥æ­¤ä¸ºåºç¡ï¼ç¶åå é¤ææä½ ä¸éè¦çåå®¹ãä»ç°æåå®¹ä¸­å é¤æ¯ä»é¶å¼å§åå»ºè¦å®¹æå¾å¤ã</p>
<p>ä¸è¬å»ºè®®å°æä»¶é¿åº¦ä¿æå¨ 300 è¡ä»¥ä¸ãå½ç¶ï¼è¿å¹¶éç¡¬æ§è§å®ãå¯¹äºä¸äºå·æå¤æçº¦å®æéå¯»å¸¸æ¨¡å¼ç codebaseï¼ä¸ä¸ªæ´é¿ç CLAUDE.md åèè½éè¿é¢åå è½½è¶³å¤çä¸ä¸æï¼ææé²æ­¢ Claude ååºéè¯¯åè®¾ãå³é®å¨äºï¼æä»¶ä¸­çæ¯ä¸è¡é½åºè¯¥æå¶æç¡®çä»·å¼ãæ¯«ä¸çæå°å é¤é£äºæ¾èæè§çåºè¯ï¼ä¾å¦âè¯·ç¼åé«è´¨éä»£ç âï¼ææ²¡æå®éæå¯¼æä¹çâå¡«åâä¿¡æ¯ã</p>
<p>ç²¾ç®ç CLAUDE.md è¿«ä½¿ä½ ä»ç»æèå¹¶åªä¿çæéè¦çæä»¤ãè¿ä¸ä»è½èçå®è´µçä¸ä¸æç©ºé´ï¼æ´è½ç¡®ä¿ AI å¨å¤çä½ çè¯·æ±æ¶ï¼è½å¤æ´åç¡®å°èç¦äºæ ¸å¿è¦æ±ï¼èä¸æ¯å¨å¤§éæ å³ä¿¡æ¯ä¸­è¿·å¤±æ¹åã</p>
<h2 id="3-è¶è¶åä¸ªæä»¶ç¨æ¨¡ååç»æç®¡çå¤ææ§">3. è¶è¶åä¸ªæä»¶ï¼ç¨æ¨¡ååç»æç®¡çå¤ææ§</h2>
<p>è®¸å¤ç¨æ·åªç¥éå¨é¡¹ç®æ ¹ç®å½ä¸åå»ºä¸ä¸ª CLAUDE.md æä»¶ãè¿å¯¹äºå°åé¡¹ç®æ¥è¯´è¶³å¤äºï¼ä½å¯¹äºå¤§åæç»æå¤æçé¡¹ç®ï¼å­å¨çæ´ä¼éãæ´å¼ºå¤§çæ¨¡ååç®¡çæ¹å¼ã</p>
<ul>
<li>@imports è¯­æ³ ä½ å¯ä»¥ä½¿ç¨ @path/to/file è¯­æ³ï¼ä»ä¸» CLAUDE.md æä»¶ä¸­å¼ç¨å¶ä»æä»¶çåå®¹ãè¿è½è®©ä¸»æä»¶ä¿æç®æ´ï¼åæ¶å°è¯¦ç»çè§èæåå°ç¬ç«çææ¡£ä¸­ãä¾å¦ï¼ä½ å¯ä»¥å°å¤æç API è®¾è®¡æ¨¡å¼æ¾å¨ docs/api-patterns.md ä¸­ï¼ç¶åå¨ä¸»æä»¶éç¨ @docs/api-patterns.md å¼ç¨å®ã</li>
<li>.claude/rules/ ç®å½ è¿æ¯ä¸ä¸ªéå¸¸éåå¤§åå¢éçç»æãæææ¾å¨ .claude/rules/ ç®å½ä¸ç .md æä»¶é½ä¼è¢« Claude èªå¨å è½½ï¼æ éæå¨ @importãè¿ä½¿å¾ä¸åé¢åçå¢éå¯ä»¥ç¬ç«ç»´æ¤åèªçè§åæä»¶ï¼ä¾å¦ï¼åç«¯å¢éç»´æ¤ code-style.mdï¼å®å¨å¢éç»´æ¤ security.mdãå¤§å®¶åå¸å¶èï¼ææé¿åäºå¨åä¸ªå¤§æä»¶ä¸­é¢ç¹äº§çåå¹¶å²çªã</li>
<li>å­ç®å½ä¸­ç CLAUDE.md å¯¹äº Monorepoï¼åä¸ä»£ç åºï¼é¡¹ç®ï¼è¿æ¯ä¸ä¸ªç»ä½³çè§£å³æ¹æ¡ãä½ å¯ä»¥å¨é¡¹ç®çç¹å®å­ç®å½ï¼ä¾å¦ api/ æ packages/ui/ï¼ä¸­æ¾ç½® CLAUDE.md æä»¶ãè¿äºæä»¶éå¸¸ç¹æ®ï¼å®ä»¬å¹¶ä¸ä¼å¨ä¼è¯å¯å¨æ¶å è½½ï¼èåªå¨ Claude ä¸»å¨å¤çè¯¥ç¹å®å­ç®å½ä¸­çåå®¹æ¶æä¼è¢«åå«è¿æ¥ãè¿ä½¿å¾ä½ å¯ä»¥ä¸ºé¡¹ç®çä¸åæ¨¡åå®ä¹æªç¶ä¸åçè§èï¼å®ç°çæ­£ç²¾ç»åçä¸ä¸æç®¡çã<br>
â¢ ä¸ªäººéç½® CLAUDE.local.md è¿æä¸ä¸ªå³é®æä»¶ï¼CLAUDE.local.mdãå®ç¨äºå­æ¾é£äºä¸åºæäº¤å°çæ¬æ§å¶ä¸­çä¸ªäººåå¥½ï¼ä¾å¦ä½ ä¹ æ¯çç¼è¾å¨ quirks æåå¥½çä»£ç åä½åº¦ãç±äºè¿æ¯ä¸ªäººä¸å±çï¼è¯·å¡å¿å°å¶æ·»å å° .gitignore æä»¶ä¸­ï¼ä»¥é¿åå°ä¸ªäººéç½®æ³é²ç»æ´ä¸ªå¢éã</li>
</ul>
<h2 id="4-é­é¬¼å¨ç»èä¸­æä»¶åæ¯åºåå¤§å°åç">4. é­é¬¼å¨ç»èä¸­ï¼æä»¶åæ¯åºåå¤§å°åç</h2>
<p>è¿æ¯ä¸ä¸ªæå¶å¾®å°ä½è³å³éè¦çææ¯ç»èï¼ä¹æ¯æå®¹æè¢«å¿½ç¥çé·é±ä¹ä¸ï¼CLAUDE.md è¿ä¸ªæä»¶åæ¯åºåå¤§å°åçã</p>
<p>æ­£ç¡®çæä»¶åå¿é¡»æ¯âCLAUDE.mdâââCLAUDE é¨åä¸ºå¤§åï¼.md æ©å±åä¸ºå°åãå¦æä½ å°å¶å½åä¸º claude.mdãClaude.md æå¶ä»ä»»ä½åä½ï¼Claude çç³»ç»å°æ æ³è¯å«å¹¶å è½½å®ã</p>
<p>è¿ä¸ªç»èä¹æä»¥éè¦ï¼æ¯å ä¸ºå®æ¯ä¸ä¸ªå¸åçâé·é±âï¼gotchaï¼ãæè¶£çæ¯ï¼è¿ä¸ç¹å¨å®æ¹ææ¡£ä¸­å¹¶æªæç¡®è¯´æãææ¯éè¿è¯¢é®å®æ¹ææ¡£ç AI å©æææç»ç¡®è®¤äºè¿ä¸è§åãä¸æ¦åºéï¼ä½ å¯è½ä¼è±è´¹å¤§éæ¶é´ææ¥ä¸ºä»ä¹èªå·±ç²¾å¿ç¼åçæä»¤å®å¨æ²¡æçæï¼æç»æåç°é®é¢åºå¨ä¸ä¸ªç®åçå¤§å°åéè¯¯ä¸ãè¿ä¸ªçä¼¼å¾®ä¸è¶³éçç»èï¼æ°æ°ä½ç°äºä¸ AI é«æåä½æ¶ï¼ç²¾ç¡®éç½®çéè¦æ§ã</p>
<h2 id="5-è®©-ai-ä¼å-aiå®æè¯·-claude-å®¡æ¥èªå·±çè¯´æä¹¦">5. è®© AI ä¼å AIï¼å®æè¯· Claude å®¡æ¥èªå·±çâè¯´æä¹¦â</h2>
<p>è¿æ¯ä¸ä¸ªéå¸¸å·§å¦çâåè®¤ç¥âæå·§ï¼å®æè®© Claude èªå·±æ¥å®¡æ¥åä¼åå®çâè¯´æä¹¦âââCLAUDE.md æä»¶ã</p>
<p>éçæ¶é´çæ¨ç§»ï¼CLAUDE.md ä¸­ä¸å¯é¿åå°ä¼ç§¯ç´¯ä¸äºè¿æ¶ãåä½çè³ç¸äºå²çªçæä»¤ãéè¿ä¸ä¸ªç®åçæç¤ºï¼ä¾å¦âè¯·å®¡æ¥è¿ä¸ª CLAUDE.md æä»¶ï¼å¹¶æåºæ¹è¿å»ºè®®ä»¥ä½¿å¶æ´æ¸æ°ãæ´é«æâï¼ä½ å¯ä»¥å©ç¨ Claude èªèº«çè½åæ¥åç°è¿äºé®é¢ãå®å¯è½ä¼å»ºè®®ä½ åå¹¶éå¤çè§åï¼ææ¾æ¸æ¨¡ç³çè¡¨è¿°ã</p>
<p>å¯¹äºé£äºç»å¯¹ä¸è½è¿åçå³é®è§åï¼ä½ å¯ä»¥ä½¿ç¨å¼ºè°è¯æ¥å¼èµ· Claude çæ³¨æï¼æ¯å¦ IMPORTANT: æ YOU MUSTãè¿è½æé« Claude éµå¾ªè¿äºæä»¤çæ¦çï¼ä½è¯·å¡å¿è°¨æä½¿ç¨ãæ­£å¦ä¸å¥å¤èçå»ºè®®æè¯´ï¼å¦æææä¸è¥¿é½è¢«æ è®°ä¸ºéè¦ï¼é£å°±æ²¡æä»ä¹æ¯éè¦çäºã</p>
<p>è¯ç¶ï¼è¿éè¦ä¸äºç»´æ¤ææ¬ï¼ä½å¶åæ¥æ¯å·¨å¤§çãæ­£å¦æºææè¯´ï¼<br>
è¿å¬èµ·æ¥åæ¯ç»´æ¤å¼éãç¡®å®æ¯ãä½å®æ¯å¨æ¯ä¸ªä¼è¯ä¸­éå¤èªå·±çè¯ï¼æä¿®å¤é£äºå¿½ç¥äºä½ çè§èçä»£ç è¦çäºå¾å¤ã</p>
<p>è¿ä¸ä»ä»æ¯ä¸ç§æä»¶ç»´æ¤ç­ç¥ï¼æ´æ¯ä¸ç§ä¸ AI åä½çæ°èå¼ãæä»¬ä¸åä»ä»æ¯ AI çä½¿ç¨èï¼æ´æ¯å¶æé¿è¿ç¨ä¸­çå¼å¯¼èï¼è®©å·¥å·æ¬èº«åä¸å°èªæå®åçæµç¨ä¸­ï¼å½¢æä¸ä¸ªæç»­æ¹è¿çè¯æ§å¾ªç¯ã</p>
<h2 id="ç»è®º">ç»è®º</h2>
<p>CLAUDE.md è¿ä¸æ­¢ä¸ä¸ªç®åçéç½®æä»¶ãéè¿æ¬æåäº«çäºä¸ªé«çº§æå·§ââå°å¶è§ä¸ºæ´»ææ¡£ãä¿æç²¾ç®ãæ¨¡ååç®¡çãæ³¨æå¤§å°åï¼ä»¥åè®© AI èªæä¼åââä½ å¯ä»¥å°å¶ä»ä¸ä¸ªéæçæä»¤åè¡¨ï¼è½¬åä¸ºä¸ä¸ªå¼ºå¤§çãä¸é¡¹ç®å±åæé¿çå¨æç¥è¯åºã</p>
<p>è¿äºç­ç¥ä»£è¡¨äºä¸ç§æ´æ·±å±æ¬¡çæç»´æ¹å¼ï¼å°ä½ ç AI ä¸ä¸ææ¬èº«è§ä¸ºä¸ä¸ªâä»£ç åºâãå®ä¹éè¦åä»£ç ä¸æ ·è¢«éæãè¢«å®¡æ¥ãè¢«æç»­æ¹è¿ãä½ ç CLAUDE.md å¼å¾ä½ å¦æ­¤å¯¹å¾ãç°å¨ï¼ä¸å¦¨æèä¸ä¸ï¼ä½ ç CLAUDE.md ä¸­æ²æ·äºå¤å°å¢éæºæ§ï¼æè®¸ï¼ç°å¨å°±æ¯å¼å§æå»ºå®çæä½³æ¶æºã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-15 20:10">2026-01-15 20:09</span>&nbsp;
<a href="https://www.cnblogs.com/didispace">ç¨åºç¿DD</a>&nbsp;
éè¯»(<span id="post_view_count">29</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19489098);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19489098', targetLink: 'https://www.cnblogs.com/didispace/p/19489098', title: 'CLAUDE.md å¨æ¹ä½æåï¼æå»ºé«æ AI å¼åä¸ä¸æ' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ä½¿ç¨vue3. + vite å¼åï¼æå¼æ§å¶å°å¡é¡¿ï¼å³é­æ§å¶å°æµçãæå¼æ§å¶å°æ¶ï¼é¼ æ å¨é¡µé¢ä¸ç§»å¨ãæ­¤æ¶æµè§å¨è¿ç¨çcpuå©ç¨çä¹æä¸åã ]]></title>
    <link>https://www.cnblogs.com/xiaohui666/p/19489060</link>
    <guid>bbc575a78f1e74916727bd5c07f73a33</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/xiaohui666/p/19489060" title="åå¸äº 2026-01-15 19:56">
    <span role="heading" aria-level="2">ä½¿ç¨vue3. + vite å¼åï¼æå¼æ§å¶å°å¡é¡¿ï¼å³é­æ§å¶å°æµçãæå¼æ§å¶å°æ¶ï¼é¼ æ å¨é¡µé¢ä¸ç§»å¨ãæ­¤æ¶æµè§å¨è¿ç¨çcpuå©ç¨çä¹æä¸åã</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p>ä½¿ç¨vue3. + vite å¼åï¼æå¼æ§å¶å°å¡é¡¿ï¼å³é­æ§å¶å°æµçãæå¼æ§å¶å°æ¶ï¼é¼ æ å¨é¡µé¢ä¸ç§»å¨ãæ­¤æ¶æµè§å¨è¿ç¨çcpuå©ç¨çä¹æä¸åã</p>
<p>&nbsp;</p>
<p>æå¼ä»»å¡ç®¡çå¨æ¥çå° åå¯å¨å°± 300M å·¦å³ï¼æ­¤æ¶é¡µé¢è¿æ­£å¸¸æµçä½¿ç¨</p>
<p><img src="https://img2024.cnblogs.com/blog/1692424/202601/1692424-20260115192758334-1287855783.png" alt="image" loading="lazy"></p>
<p>&nbsp;</p>
<p>å½æå¼æµè§å¨F12æ§å¶å°æ¶ ï¼é¡µé¢å¡é¡¿ï¼åå­å ç¨ç´æ¥å°è¾¾æäººç1547M ,ç¾æä¸å¾å¶è§£</p>
<p><img src="https://img2024.cnblogs.com/blog/1692424/202601/1692424-20260115193120944-1363009300.png" alt="image" loading="lazy"></p>
<p>&nbsp;</p>
<p>æå¼åå­é¢æ¿ï¼æ¥æ¾åå ï¼æ­¤æ¶ç¨äº706M</p>
<p><img src="https://img2024.cnblogs.com/blog/1692424/202601/1692424-20260115193422895-368120997.png" alt="image" loading="lazy"></p>
<p>&nbsp;</p>
<p>ç­éä¸ä¸ï¼åç°æ¯æ ·å¼å¯¼å¥éå¤</p>
<p><img src="https://img2024.cnblogs.com/blog/1692424/202601/1692424-20260115193617511-1308370927.png" alt="image" loading="lazy"></p>
<p>&nbsp;</p>
<p>&nbsp;æ¥çä»£ç æä¸å¤å°æ¹å¼ç¨</p>
<p><img src="https://img2024.cnblogs.com/blog/1692424/202601/1692424-20260115193908039-480362363.png" alt="image" loading="lazy"></p>
<p><img src="https://img2024.cnblogs.com/blog/1692424/202601/1692424-20260115193912528-202535441.png" alt="image" loading="lazy"></p>
<p>&nbsp;</p>
<p><img src="https://img2024.cnblogs.com/blog/1692424/202601/1692424-20260115193917151-2133524706.png" alt="image" loading="lazy"></p>
<p>&nbsp;</p>
<p>&nbsp;åæ³¨é&nbsp;vite.config.ts éç</p>
<p><img src="https://img2024.cnblogs.com/blog/1692424/202601/1692424-20260115194950450-306480391.png" alt="image" loading="lazy"></p>
<p>&nbsp;</p>
<p>åç°åå­ææ¾ä¸éï¼é®é¢è§£å³</p>
<p><img src="https://img2024.cnblogs.com/blog/1692424/202601/1692424-20260115195104234-699812157.png" alt="image" loading="lazy"></p>
<p>&nbsp;</p>
<p><img src="https://img2024.cnblogs.com/blog/1692424/202601/1692424-20260115195120872-371187655.png" alt="image" loading="lazy"></p>
<p>&nbsp;</p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-15 19:56">2026-01-15 19:56</span>&nbsp;
<a href="https://www.cnblogs.com/xiaohui666">å°è¾ã</a>&nbsp;
éè¯»(<span id="post_view_count">34</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19489060);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19489060', targetLink: 'https://www.cnblogs.com/xiaohui666/p/19489060', title: 'ä½¿ç¨vue3. + vite å¼åï¼æå¼æ§å¶å°å¡é¡¿ï¼å³é­æ§å¶å°æµçãæå¼æ§å¶å°æ¶ï¼é¼ æ å¨é¡µé¢ä¸ç§»å¨ãæ­¤æ¶æµè§å¨è¿ç¨çcpuå©ç¨çä¹æä¸åã' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ æç¨ stock-sdk æå»ºäºä¸ä¸ªä¸ªäººä¸å±ç A è¡è¡æä»ªè¡¨ç ]]></title>
    <link>https://www.cnblogs.com/chengzp/p/19488966/stock-dashboard</link>
    <guid>1cea99dfc59bff2537aadb1594c332f2</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/chengzp/p/19488966/stock-dashboard" title="åå¸äº 2026-01-15 19:06">
    <span role="heading" aria-level="2">æç¨ stock-sdk æå»ºäºä¸ä¸ªä¸ªäººä¸å±ç A è¡è¡æä»ªè¡¨ç</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        <img src="https://img2024.cnblogs.com/blog/1265396/202601/1265396-20260115190434191-202601803.png" alt="æç¨ stock-sdk æå»ºäºä¸ä¸ªä¸ªäººä¸å±ç A è¡è¡æä»ªè¡¨ç" class="desc_img">
        è¿ç¯åå®¢ä»ç»äºæç¨ stock-sdk æ­å»ºç A è¡è¡ç¥¨çæ¿ stock-dashboardï¼åºäº React + TypeScript + Vite ççº¯åç«¯é¡¹ç®ï¼ä¸ä¾èµåç«¯æå®æ¶èæ¬ï¼ç´æ¥å¨é¡µé¢ä¾§æåè¡æå¹¶å®æå±ç¤ºä¸ç­éãæç« ä»æ°æ®å±å°è£ï¼SDK åä¾ãéè¯ãTTL ç¼å­ãæå¡å±ç»ä¸åºå£ï¼è®²èµ·ï¼åæåè½æè§£æç´¢ãDashboardãç­åå¾ãæ¿å/ä¸ªè¡è¯¦æãèªéãä¿¡å·æ«æä¸è®¾ç½®ç­æ¨¡åãæåéç¹åäº«âä¸æ¥æè¡æ³ï¼å°¾çéè¡ï¼âçå¨å¸åºæ«ææè·¯ï¼åæ¹éæå 5000+ è¡æååºç¡è¿æ»¤ï¼ååæ¹æåæ¶è®¡ç®å¼ºåº¦ææ å¹¶æåºè¾åºåéã
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="è¿æ¯ä¸ªå¥">è¿æ¯ä¸ªå¥</h2>
<p>èæ¯æäºå¾ç®åï¼ä½ä¸ºä¸ä¸ªæ¥å¸¸å³æ³¨è¡æçâé­èâï¼ææä¸ä¸ªä¸å¤ªé«æçä¹ æ¯ââåæ¶æå¼æ æ°ä¸ªççè½¯ä»¶åç½é¡µï¼å¨æ··ä¹±ççªå£åæ¢ä¸­è¿·å¤±èªæï¼æç»æ¶è·çå¾å¾åªæç¦èï¼å¤å æµè§å¨é£ä»¤äººçªæ¯çæ ç­¾é¡µå å ãä¸ºäºå½»åºæ²»æè¿ç§ä½æï¼æå³å®å¨ææé ä¸ä¸ªä¸å±å·¥å·ï¼<strong>å¨ä¸ä¸ªé¡µé¢åéæææé«é¢åè½ï¼æ¶µçå®æ¶è¡æãæ¿åå¨æãåæ¶èµ°å¿ãK çº¿åæãèµéæµåä»¥åç­éå¨</strong>ã</p>
<p>è¿å°±è¯çäº <code>stock-dashboard</code>ï¼ä¸ä¸ªå®å¨åºäº React + TypeScript + Vite ææ¯æ çåç«¯å¤§å±ãæææ°æ®ç´æ¥ç± <a href="https://stock-sdk.linkdiary.cn/" target="_blank" rel="noopener nofollow">stock-sdk</a> é©±å¨ï¼è¿æå³çé¡¹ç®å®å¨æå¼äºåç«¯æå¡ï¼ä¸éè¦è¿è¡ä»»ä½ Python å®æ¶ä»»å¡ï¼ä¹ä¸ä¾èµä»ä¹âç¥ç§æåçé«ç«¯æå¡å¨âãçº¯åç«¯ç´è¿æ°æ®æºï¼æè§å³æå¾ï¼ä¸åé½å®æå¾äºäºææ¡ã</p>
<p>ç´æ¥ä¸å¨çº¿æ¼ç¤ºé¾æ¥ï¼<a href="https://chengzuopeng.github.io/stock-dashboard/" target="_blank" rel="noopener nofollow">stock-dashboard</a> ï¼åææç¤ºï¼æ¸é±¼æé´è¯·è°¨æä½¿ç¨ï¼å»ºè®®éåå°çªå£æ¨¡å¼ï¼ã<br>
<img alt="stock-overview" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1265396/202601/1265396-20260115184342860-7509536.png" class="lazyload"></p>
<h2 id="æ ¸å¿è§£å¯æ°æ®å±æ¶æè®¾è®¡">æ ¸å¿è§£å¯ï¼æ°æ®å±æ¶æè®¾è®¡</h2>
<p>ä¸ºäºä¿æä»£ç æ´æ´ï¼æå°ææéå¯¹ <code>stock-sdk</code> çè°ç¨é»è¾é½å°è£å¨äº <code>src/services/sdk.ts</code> ä¸­ã</p>
<p>è¿éä¸»è¦å®æ½äºä¸ä¸ªæ¢å®ç¨åä¸ç«æçå·¥ç¨åç­ç¥ï¼</p>
<ol>
<li>
<p><strong>å¨å±åä¾ä¸èªå¨éè¯æºå¶</strong><br>
éè¿ <code>new StockSDK({ timeout, retry })</code> åå§åå®ä¾ãé¢å¯¹ç½ç»æ³¢å¨ææ¥å£å¶å°æ½é£çæåµï¼SDK åç½®çèªå¨éè¯æºå¶ï¼æ¯ææå¤§ 3 æ¬¡éè¯åææ°éé¿ç®æ³ï¼è½å®ç¾ååºã</p>
</li>
<li>
<p><strong>æºè½åå­ç¼å­ï¼TTL ç­ç¥ï¼</strong><br>
å¯¹äºè¡ä¸ææ¦å¿µåè¡¨è¿ç±»åå¨é¢çæä½çæ°æ®ï¼æ¯ç«å®ä»¬ä¸ä¼å¨å ç§ååçå§åï¼ï¼ç´æ¥ä¸ç¼å­åå°æ æè¯·æ±ï¼èå¯¹äºå®æ¶è¡æï¼åè®¾ç½®äº 2~3 ç§ççå­æï¼TTLï¼ï¼æ¢ä¿è¯äºæ°æ®çæ¶ææ§ï¼åé¿åäºæ æä¹çé«é¢è¯·æ±è½°ç¸æ¥å£ã</p>
</li>
<li>
<p><strong>åå±éç¦»ï¼é¡µé¢ä»å¯¹æ¥æå¡å±</strong><br>
ç¿»é <code>src/pages/**</code> ä¸çä»£ç ï¼ä½ å ä¹æ¾ä¸å° <code>new StockSDK()</code> çèº«å½±ãUI å±åªè´è´£è°ç¨è¯¸å¦ <code>getFullQuotes / getTodayTimeline / getKlineWithIndicators</code> ç­ç»è¿äºæ¬¡å°è£çä¸å¡æ¹æ³ï¼èç±»åå®ä¹åç´æ¥å¤ç¨ <code>stock-sdk</code> çå¯¼åºã</p>
</li>
</ol>
<p>é¡ºä¾¿å±ç¤ºä¸¤æ®µæ ¸å¿ä»£ç éª¨æ¶ï¼åç»­çææåè½æ¨¡åçæå»ºäºæ­¤åºç¡ä¹ä¸ï¼</p>
<pre><code class="language-ts">// src/services/sdk.ts
export const sdk = new StockSDK({ timeout: 30000, retry: { maxRetries: 3, baseDelay: 1000, maxDelay: 10000, backoffMultiplier: 2 } });

export async function getFullQuotes(codes: string[], useCache = true) {
  const key = getCacheKey('getFullQuotes', codes);
  if (useCache) {
    return withCache(key, DEFAULT_TTL.quotes, () =&gt; sdk.getFullQuotes(codes));
  }
  return sdk.getFullQuotes(codes);
}
</code></pre>
<pre><code class="language-ts">// src/services/sdk.ts
export async function getAllAShareQuotes(options?: { batchSize?: number; concurrency?: number; onProgress?: (completed: number, total: number) =&gt; void }) {
  return sdk.getAllAShareQuotes(options);
}
</code></pre>
<hr>
<h2 id="åè½æè§£åæ¨¡åå¦ä½ç©è½¬-stock-sdk-æ°æ®">åè½æè§£ï¼åæ¨¡åå¦ä½ç©è½¬ stock-sdk æ°æ®ï¼</h2>
<p>è·¯ç±éç½®ä½äº <code>src/router/index.tsx</code>ï¼èåä¸ªåè½é¡µé¢åæ¨¡ååå°åå¸å¨ <code>src/pages/*</code> ç®å½ä¸ãæ¥ä¸ä¹å°±æ¯å¤§å®¶æå³å¿çââæâç¨æ·äº¤äºè·¯å¾âæ¥éä¸å¤çã</p>
<h3 id="1-å¨å±æç´¢åå«æå¨ç¿»ä»£ç ççè¦">1) å¨å±æç´¢ï¼åå«æå¨ç¿»ä»£ç ççè¦</h3>
<p>æç´¢æ ç»ä»¶ä½äº <code>src/components/layout/Header.tsx</code>ï¼å¶èåçé­æ³ä»éä¸è¡ä»£ç ï¼</p>
<ul>
<li><code>search(keyword)</code> æ å°å° <code>stock-sdk</code> ç <code>sdk.search(keyword)</code></li>
</ul>
<p>ä¸ºäºä¼åä½éªï¼ææ·»å äº 300ms çè¾å¥é²æå¤çãæç´¢ç»æå®ç¾æ¯æä¸ªè¡ä¸æ¿åçæ··åæ¥è¯¢ï¼ç¹å»å³è¾¾ï¼</p>
<ul>
<li>è¡ä¸æ¿åè·³è½¬è³ï¼<code>/boards/industry/:code</code></li>
<li>æ¦å¿µæ¿åè·³è½¬è³ï¼<code>/boards/concept/:code</code></li>
<li>ä¸ªè¡è¯¦æè·³è½¬è³ï¼<code>/s/:code</code></li>
</ul>
<p>é¡ºæè¿å©ç¨ localStorage å®ç°äºä¸ä¸ªç®åçåå²è®°å½åè½ï¼<code>src/services/storage.ts</code>ï¼ï¼æ¯ç«å¾å¤æ¶åï¼æä»¬å¯»æ¾çä¸æ¯æ°æ çï¼èæ¯æ¨å¤©æ²¡çå®çé£ä¸ªå®ã</p>
<hr>
<h3 id="2-ä»ªè¡¨ç-dashboardè¡ææ¦è§ä¸èªééè§">2) ä»ªè¡¨ç Dashboardï¼è¡ææ¦è§ä¸èªééè§</h3>
<p>å¯¹åºé¡µé¢æä»¶ï¼<code>src/pages/Dashboard/Dashboard.tsx</code>ã</p>
<p>æ°æ®è·åé»è¾éå¸¸ç´ç½ç²æ´ï¼</p>
<ul>
<li>ææ°è¡æï¼è°ç¨ <code>getFullQuotes(MAIN_INDICES)</code> ä¸æ¬¡æ§è·åä¸è¯ãæ·±ææãç§å 50 ç­å³é®ææ°ã</li>
<li>æ¿åæ¦åµï¼å¹¶è¡è°ç¨ <code>getIndustryList()</code> å <code>getConceptList()</code>ã</li>
<li>èªéè¡é¢è§ï¼åä»å­å¨æå¡ <code>src/services/storage.ts</code> è¯»åèªéåè¡¨ï¼åéè¿ <code>getFullQuotes(watchlistCodes.slice(0, 50))</code> æ¹éè·åå 50 åªè¡æçå¿«ç§ã</li>
</ul>
<p>ä¸ºäºä¿è¯æ°æ®çé²æ´»åº¦ï¼éå <code>usePolling</code> Hookï¼<code>src/hooks/usePolling.ts</code>ï¼å®ç°äºæ¯ 5 ç§èªå¨è½®è¯¢ãè´´å¿çæ¯ï¼å½é¡µé¢å¤äºåå°ä¸å¯è§ç¶ææ¶ï¼è½®è¯¢ä¼èªå¨æèµ·ï¼ç»ä¸æµªè´¹ä½ çæµè§å¨èµæºã</p>
<p>é¢å¤æä¸å¥ï¼ç®å Dashboard ä¸çâæ¦åâä¸»è¦å±ç¤ºæ¿åæ°æ®ãå¦ææ³åå¨å¸åºçä¸ªè¡æåï¼ææ¯è·¯å¾å®å¨å¯ä»¥åèåé¢æå°çâä¸æ¥æè¡æ³âï¼ä¹å°±æ¯ç´æ¥å©ç¨ <code>getAllAShareQuotes</code> æ¥å£ã</p>
<hr>
<h3 id="3-å¸åºç­åå¾-heatmapä¸å¾çæèµéæµå">3) å¸åºç­åå¾ Heatmapï¼ä¸å¾çæèµéæµå</h3>
<p><img alt="stock-heatmap" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1265396/202601/1265396-20260115184456436-42415763.png" class="lazyload"></p>
<p>å®ç°æä»¶ä½äº <code>src/pages/Heatmap/Heatmap.tsx</code>ï¼åºå±ä¾èµ ECharts çç©å½¢æ å¾ï¼Treemapï¼ã</p>
<p>æ ¹æ®è§å¯è§è§çä¸åï¼æ°æ®æºä¹åå¼ï¼</p>
<ul>
<li>è¡ä¸è§è§ï¼ç´æ¥ç¨ <code>getIndustryList()</code>ï¼å ä¸ºè¿åçæ°æ®ä¸­å·²ç»åå«äºæ¶¨è·å¹ãæ¢æçåé¢æ¶¨è¡ä¿¡æ¯ã</li>
<li>æ¦å¿µè§è§ï¼åçï¼è°ç¨ <code>getConceptList()</code>ã</li>
<li>èªéè§è§ï¼è·åææèªéä»£ç  <code>getAllWatchlistCodes()</code> åï¼éè¿ <code>getAllQuotesByCodes(codes.slice(0, topK))</code> æ¹éæåã</li>
</ul>
<p>è³äºâå¨å¸åºä¸ªè¡âç­åå¾ï¼ä»£ç é¢çäºæ¥å£ï¼ææªå¼å¯ï¼ï¼å®ç°é»è¾ä¹ä¸å¤æï¼</p>
<ol>
<li>éè¿ <code>getIndustryConstituents(industryCode)</code> è·åç¹å®æ¿åæåè¡ã</li>
<li>ç¨ <code>getAllQuotesByCodes(stockCodes)</code> æè¡ææ°æ®è¡¥é½ã</li>
<li>æåç»è£æ°æ®åç» Treemap ç»ä»¶ã</li>
</ol>
<p>ç­åå¾æå¤§çé­åå¨äºï¼<strong>åå«æ¯ç¥çæ°å­åè¡¨ï¼çº¢ç»¿ç¸é´çè²åè®©ä½ ç¬é´æ´å¯å¸åºå¼ºå¼±ç»æã</strong></p>
<hr>
<h3 id="4-é¾èæ¦-rankingsè§å¯å¸åºé£åæ ">4) é¾èæ¦ Rankingsï¼è§å¯å¸åºé£åæ </h3>
<p><img alt="stock-leaderboard" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1265396/202601/1265396-20260115184533320-338122596.png" class="lazyload"></p>
<p>é¡µé¢è·¯å¾ï¼<code>src/pages/Rankings/Rankings.tsx</code>ã</p>
<p>å®ç°æ¹å¼å±äºâç®åç²æ´ä¸ææâï¼</p>
<ul>
<li>å¹¶è¡è·å <code>getIndustryList()</code> å <code>getConceptList()</code>ã</li>
<li>åç«¯ç´æ¥æ ¹æ® <code>changePercent</code>ï¼æ¶¨è·å¹ï¼æ <code>turnoverRate</code>ï¼æ¢æçï¼è¿è¡æåºï¼æªå Top 50ã</li>
</ul>
<p>ç®åçæ¦åæ¬è´¨ä¸æ¯âæ¿åæè¡æ¦âãå¦ææªæ¥è¦æ©å±å°å¨å¸åºä¸ªè¡æè¡ï¼ææ¯æ¹æ¡ä¸åæçâéè¡å¨âä¸è´ã</p>
<hr>
<h3 id="5-æ¿åéè§è¿½è¸ªé¢æ¶¨åé">5) æ¿åéè§ï¼è¿½è¸ªé¢æ¶¨åé</h3>
<p>æ¿ååè¡¨é¡µä½äº <code>src/pages/Boards/Boards.tsx</code>ï¼</p>
<ul>
<li><code>getIndustryList()</code> ä¸ <code>getConceptList()</code> ä¸ææ¢­ã</li>
<li>æè°ç Tab åæ¢ï¼ä»ä»æ¯åç«¯å¯¹ä¸åæ°æ®æºæ°ç»çæ¸²æåæ¢ã</li>
<li>å½ç¶ä¹æ¯æææ¿ååç§°æé¢æ¶¨è¡è¿è¡æ£ç´¢ã</li>
</ul>
<p>è¯¦æé¡µè§ <code>src/pages/Boards/BoardDetail.tsx</code>ï¼è¿éå±ç¤ºäº API çç»åæ³è½åï¼æè¡ä¸/æ¦å¿µåæµï¼ï¼</p>
<ul>
<li>åºç¡ä¿¡æ¯ï¼ç´æ¥å¤ç¨åè¡¨æ°æ®ï¼åå°ä¸æ¬¡ç½ç»è¯·æ±ã</li>
<li>æåè¡åè¡¨ï¼è°ç¨ <code>getIndustryConstituents(code)</code> æ <code>getConceptConstituents(code)</code>ã</li>
<li>æ¿åèµ°å¿ï¼æå <code>getIndustryKline</code> æ <code>getConceptKline</code>ã</li>
<li>çå£å¿«ç§ï¼éè¿ <code>getIndustrySpot</code> æ <code>getConceptSpot</code> è·åã</li>
</ul>
<p>ä¸ºäºä¿è¯æµçåº¦ï¼æ¿å K çº¿å¾ç®ååªæªåäºæè¿ 60 æ ¹æ°æ®ï¼é²æ­¢ç¼©æ¾å¾è¡¨æ¶æµè§å¨æ¸²æååè¿å¤§ã</p>
<hr>
<h3 id="6-èªéçæ§-watchliståªçæå¨æç">6) èªéçæ§ Watchlistï¼åªçæå¨æç</h3>
<p>æ ¸å¿é¡µé¢ï¼<code>src/pages/Watchlist/Watchlist.tsx</code>ãææçå¢å æ¹æ¥é»è¾é½å°è£å¨ <code>src/services/storage.ts</code> ä¸­ã</p>
<p>è¡æå·æ°ä¸»è¦ä¾èµï¼</p>
<ul>
<li><code>getAllQuotesByCodes(normalizedActiveCodes)</code></li>
</ul>
<p>ç¹å«æä¸ä¸è¿éçç»èå¤çï¼å¨è¯·æ±åæä¼åéè¿ <code>normalizeStockCode</code>ï¼ä½äº <code>src/utils/format.ts</code>ï¼å¯¹ä»£ç è¿è¡æ ååæ ¼å¼åï¼ææé²æ­¢äº <code>SZ000001</code>ã<code>sz000001</code> å <code>000001</code> è¿ç§âä¸ç å¤å¼âé æçå»éå¤±è´¥ææ°æ®è¯·æ±å¼å¸¸ã</p>
<hr>
<h3 id="7-ä¸ªè¡æ·±åº¦åæ-stockdetailå¨ç»´æ°æ®ä¸è§æ ä½">7) ä¸ªè¡æ·±åº¦åæ StockDetailï¼å¨ç»´æ°æ®ä¸è§æ ä½</h3>
<p><img alt="stock-detail" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1265396/202601/1265396-20260115184557669-1024006702.png" class="lazyload"></p>
<p>é¡µé¢ä½ç½®ï¼<code>src/pages/StockDetail/StockDetail.tsx</code>ãè¿æ¯æ´ä¸ªé¡¹ç®ä¸­æ¿è½½ä¿¡æ¯éæå¤§çé¡µé¢ï¼å ä¸ºå®èåäºæé«å¯åº¦çä¿¡æ¯ã</p>
<p>å®èåäºå¤ç»´åº¦ç API æ°æ®ï¼</p>
<ul>
<li>å®æ¶æ¥ä»·ï¼<code>getFullQuotes([code])</code></li>
<li>å½æ¥åæ¶å¾ï¼1åéçº§ï¼ï¼<code>getTodayTimeline(code)</code></li>
<li>åéçº§ K çº¿ï¼5/15/30/60ï¼ï¼<code>getMinuteKline(code, { period })</code></li>
<li>åå² K çº¿ï¼æ¥/å¨/æï¼åå¤æï¼<code>getKlineWithIndicators(code, { period, adjust: 'qfq', indicators })</code></li>
<li>èµéæµåçæµï¼<code>getFundFlow([code])</code></li>
<li>çå£å¤§åçæ§ï¼<code>getPanelLargeOrder([code])</code></li>
</ul>
<p>æä¸ªäººéå¸¸æ¨å´ <code>getKlineWithIndicators</code> è¿ä¸ªæ¥å£ï¼åªéä¼ å¥ä½ æ³è¦çææ åæ°ï¼å¦ MA, MACD, KDJ, RSI, BOLLç­ï¼ï¼SDK å°±è½æè®¡ç®å¥½çææ æ°æ®è¿å K çº¿ä¸èµ·è¿åãåç«¯åªéè´è´£ç»å¾ï¼å½»åºåå«äºå¨åç«¯æåå¤æææ¯ææ è®¡ç®é»è¾çå©æ¢¦ï¼å°åä»£ç  = å°åº Bug = é¿å½ç¾å²ï¼ã</p>
<p>å¨è¿éï¼è½®è¯¢ç­ç¥ä¹åäºç²¾ç»ååå±ï¼</p>
<ul>
<li>åºç¡è¡æï¼2 ç§/æ¬¡</li>
<li>åæ¶å¾ï¼3 ç§/æ¬¡</li>
<li>èµéæµåï¼10 ç§/æ¬¡</li>
</ul>
<hr>
<h3 id="8-ç­ç¥æ«æå¨-scanneréåäº¤æçåä½éª">8) ç­ç¥æ«æå¨ Scannerï¼éåäº¤æçåä½éª</h3>
<p>é¡µé¢ï¼<code>src/pages/Scanner/Scanner.tsx</code>ã</p>
<p>æ«æé»è¾ç®è¿°å¦ä¸ï¼</p>
<ol>
<li><strong>ç¡®å®è¡ç¥¨æ± </strong>ï¼
<ul>
<li>æ¢å¯ä»¥æ¯ä½ çâèªéè¡åè¡¨âã</li>
<li>ä¹å¯ä»¥æ¯æä¸ªæ¿åçæåè¡ï¼ä¾å¦è°ç¨ <code>getIndustryConstituents('BK0475')</code>ã</li>
</ul>
</li>
<li><strong>æ¹éåæ</strong>ï¼
<ul>
<li>éåæ¯åªè¡ç¥¨ï¼è°ç¨ <code>getKlineWithIndicators</code> è·åå¸¦ææ ç K çº¿æ°æ®ã</li>
</ul>
</li>
<li><strong>ä¿¡å·å¹é</strong>ï¼
<ul>
<li>åç«¯é»è¾å¤æ­æè¿ä¸¤æ ¹ K çº¿æ¯å¦æ»¡è¶³é¢è®¾å½¢æï¼å¦åçº¿éåãMACD éåãRSI è¶ä¹°è¶åç­ï¼ã</li>
</ul>
</li>
</ol>
<p>è½ç¶è¿ä¸ªåè½å¸¦æä¸å®çâå¿éå®æ°âå±æ§ï¼ä½å®ç¡®ç¡®å®å®ææ¨¡ç³çâçæ¶¨æè§âè½¬åä¸ºäºå¯æ§è¡çâè§¦åæ¡ä»¶âã</p>
<hr>
<h3 id="9-ä¸ªæ§åè®¾ç½®-settingsæé é¡ºæçå·¥å·">9) ä¸ªæ§åè®¾ç½® Settingsï¼æé é¡ºæçå·¥å·</h3>
<p><img alt="stock-settings" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1265396/202601/1265396-20260115184611235-287105548.png" class="lazyload"></p>
<p>é¡µé¢ï¼<code>src/pages/Settings/Settings.tsx</code>ã</p>
<p>è¿ä¸ªé¡µé¢å¹¶æ²¡æè°ç¨ä»»ä½ <code>stock-sdk</code> æ¥å£ï¼å®çä½¿å½æ¯å°ä½ çä½¿ç¨åå¥½ï¼å·æ°é¢çãçº¢æ¶¨ç»¿è·éè²ãåç±»ææ çé»è®¤åæ°ç­ï¼æä¹åä¿å­å° localStorageãè¿æ ·ï¼æ è®ºä½æ¶æå¼é¡µé¢ï¼å®é½è¿æ¯é£ä¸ªä½ æçæçæ ·å­ã</p>
<hr>
<h2 id="éå¤´æä¸æ¥æè¡ç­ç¥å°¾çéè¡åç«¯å®ç°çå¨å¸åºæ«æ">éå¤´æï¼ä¸æ¥æè¡ç­ç¥ï¼å°¾çéè¡ï¼ââåç«¯å®ç°çå¨å¸åºæ«æ</h2>
<p><img alt="stock-last" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1265396/202601/1265396-20260115184618983-2095502387.png" class="lazyload"></p>
<p>è¯¥åè½ä½äº <code>src/pages/EndOfDayPicker/EndOfDayPicker.tsx</code>ãæå¨è¿ä¸ªé¡µé¢å®ç°äºä¸å¥ç»å¸çâä¸æ­¥èµ°âéè¡æ¼æï¼å¶æ ¸å¿å¨åæºèªå¼ºå¤§ç <strong><code>getAllAShareQuotes</code></strong> æ¥å£ã</p>
<h3 id="ç¬¬ä¸é¶æ®µå¨é-a-è¡è¡ææå">ç¬¬ä¸é¶æ®µï¼å¨é A è¡è¡ææå</h3>
<pre><code class="language-ts">// src/pages/EndOfDayPicker/EndOfDayPicker.tsx
const quotes = await getAllAShareQuotes({
  batchSize: 500,
  concurrency: 5,
  onProgress: (completed, total) =&gt; setLoadingProgress({ completed, total, stage: 'æ°æ®å è½½ä¸­...' }),
});
</code></pre>
<p>è¿ä¸æ­¥è°ç¨çæ¯ SDK çéç£æ¥å£ï¼</p>
<ul>
<li><code>sdk.getAllAShareQuotes(options?: GetAllAShareQuotesOptions): Promise&lt;FullQuote[]&gt;</code></li>
<li>åæ° <code>batchSize</code> æ§å¶åæ¬¡æ¹å¤§å°ï¼é»è®¤ 500ï¼ï¼<code>concurrency</code> æ§å¶å¹¶åæ°ï¼é»è®¤ 7ï¼ã</li>
</ul>
<p>æéåäºç¸å¯¹ç¨³å¥çç­ç¥ï¼å¹¶åè®¾ä¸º 5ï¼ï¼å¼é¡¾äºæµè§å¨çæ§è½è´è½½åç½ç»ç¨³å®æ§ãéå <code>onProgress</code> åè°ï¼ç¨æ·è½çå°å®æ¶çè¿åº¦æ¡åé¦ï¼ä½éªæµçä¸å¡é¡¿ï¼ä¸ä¼è¯¯ä»¥ä¸ºç½é¡µå¡æ­»ã</p>
<h3 id="ç¬¬äºé¶æ®µåºç¡ææ ç²ç­">ç¬¬äºé¶æ®µï¼åºç¡ææ ç²ç­</h3>
<p>æ¿å°å¨å¸åº 5000+ åªè¡ç¥¨ç <code>FullQuote</code> æ°æ®åï¼æä»¬åè¿è¡ä¸è½®ç²ç­ï¼å­æ®µç´æ¥åèª <code>FullQuote</code>ï¼ï¼</p>
<ul>
<li>æµéå¸å¼ (<code>circulatingMarketCap</code>)</li>
<li>éæ¯ (<code>volumeRatio</code>)</li>
<li>æ¶¨è·å¹ (<code>changePercent</code>)</li>
<li>æ¢æç (<code>turnoverRate</code>)</li>
<li>ST/é£é©è¡è¿æ»¤</li>
</ul>
<p>è¿ä¸æ­¥é»è¾å°è£å¨ <code>filterStocksBasic()</code> ä¸­ï¼éå¸¸è½æç®æ æ± ä» 5000+ ç¼©åå°å ç¾çè³å ååªï¼å¦æä¸ç­è¿ä¸åï¼åç»­æååæ¶æ°æ®ä¼ç´æ¥ææµè§å¨éèµ°ã</p>
<h3 id="ç¬¬ä¸é¶æ®µåæ¶å¾å½¢æç²¾é">ç¬¬ä¸é¶æ®µï¼åæ¶å¾å½¢æç²¾é</h3>
<p>å¯¹äºç²ç­å©ä¸çåéè¡ï¼æä»¬åè¿è¡æ´ç»è´çåæ¶å¾åæï¼</p>
<ul>
<li>è°ç¨ <code>getTodayTimeline(fullCode)</code> æååæ¶æ°æ®ï¼æ³¨ææ¼æ¥ sh/sz/bj åç¼ï¼ã</li>
<li>è®¡ç®æ ¸å¿å¼ºåº¦ææ ï¼<code>timelineAboveAvgRatio</code>ï¼å³ï¼ç°ä»·é«äºåä»·çæ¶é´å æ¯ï¼ç± <code>price</code> å <code>avgPrice</code> å¯¹æ¯å¾åºï¼ã</li>
</ul>
<p>ä¸ºäºé²æ­¢æµè§å¨å´©æºï¼<code>filterWithTimeline()</code> ä¸­æå¨æ§å¶äºåæ¶æ°æ®è¯·æ±çå¹¶åéï¼batchSize = 5ï¼ã<br>
æç»ç»ææ <code>timelineAboveAvgRatio</code> éåºæåï¼å¹¶å¨åè¡¨ä¸­å±ç¤ºè¿·ä½ çåæ¶èµ°å¿å¾ãè¿æ ·ä¸æ¥ï¼å°¾çéè¡çæçç´æ¥èµ·é£ã</p>
<hr>
<h2 id="åå¨æåè°éè¦è¿ä¸ªå·¥å·">åå¨æåï¼è°éè¦è¿ä¸ªå·¥å·ï¼</h2>
<p>å¦æä½ æ¸´ææ¥æä¸ä¸ªâæ¢è½ççãåè½ç­è¡ãè¿è½é¡ºä¾¿ç®¡çèªéâçè½»éçº§çæ¿ï¼åæ¶æå¶ææ¥ç»´æ¤åç«¯æå¡æç¼åå¤æç Python èæ¬ï¼é£ä¹è¿ä¸ªçº¯åç«¯æ¹æ¡ç»å¯¹æ¯ä½ çä¸äºä¹éã<strong>æ ¸å¿æè·¯å°±æ¯å©ç¨ <code>stock-sdk</code> å°å¼ºå¤§çæ°æ®è½åå¼å¥åç«¯ï¼å©ä¸çå°±æ¯åçº¯ç UI ç»è£ä¸é»è¾ç¼æ</strong>ã</p>
<p>æ¬å°å¯å¨éå¸¸ç®åï¼</p>
<pre><code class="language-bash">yarn install
yarn dev
</code></pre>
<p>æåä¸å¾ä¸ä¿å¥å°æéä¸å¥ï¼é¡µé¢åºé¨ç disclaimer âä»ä¾å­¦ä¹ åèï¼ä¸æææèµå»ºè®®âå¹¶éæè®¾ãä»£ç è½å¯èªä¿¡æ²ï¼æèµä»éè°¨æè¡ã</p>
<hr>
<h2 id="ä¼ éé¨">ä¼ éé¨</h2>
<ul>
<li>å¨çº¿çæ¿ï¼ <a href="https://chengzuopeng.github.io/stock-dashboard/" target="_blank" rel="noopener nofollow">https://chengzuopeng.github.io/stock-dashboard/</a></li>
<li>SDK ææ¡£ï¼ <a href="https://stock-sdk.linkdiary.cn/" target="_blank" rel="noopener nofollow">https://stock-sdk.linkdiary.cn/</a></li>
<li>SDK æ¼ç»åºï¼ <a href="https://stock-sdk.linkdiary.cn/playground/" target="_blank" rel="noopener nofollow">https://stock-sdk.linkdiary.cn/playground/</a></li>
</ul>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.004166666666666667" data-date-updated="2026-01-15 19:12">2026-01-15 19:06</span>&nbsp;
<a href="https://www.cnblogs.com/chengzp">ç¨åºç¿çç¨</a>&nbsp;
éè¯»(<span id="post_view_count">39</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19488966);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19488966', targetLink: 'https://www.cnblogs.com/chengzp/p/19488966/stock-dashboard', title: 'æç¨ stock-sdk æå»ºäºä¸ä¸ªä¸ªäººä¸å±ç A è¡è¡æä»ªè¡¨ç' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ AI â JSON â UI ]]></title>
    <link>https://www.cnblogs.com/guangzan/p/19487446</link>
    <guid>50da358b9ff00137851738ca86276a9d</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/guangzan/p/19487446" title="åå¸äº 2026-01-15 15:23">
    <span role="heading" aria-level="2">AI â JSON â UI</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="èæ¯">èæ¯</h2>
<p>è¿å»ä¸¤å¹´ï¼AI çæ UI çå®è·µåºæ¬éä¸­å¨ä¸¤ç§è·¯å¾ä¸ãç¬¬ä¸ç§æ¯ç´æ¥è®©æ¨¡åçæ JSXãHTML æ CSSãè¿æ¡è·¯çº¿çä¼å¿å¨äºèªç±åº¦æé«ï¼æ¨¡åå ä¹ä¸åçº¦æï¼çèµ·æ¥âä»ä¹é½è½åâãä½å¨çå®å·¥ç¨ç¯å¢ä¸­ï¼è¿ç§æ¹å¼å ä¹ä¸å¯æ§ï¼è¾åºç»æä¸ç¨³å®ï¼æ æ³ä¿è¯ç»ä»¶è¾¹çï¼é¾ä»¥åæéä¸å®¡è®¡æ§å¶ï¼çæçä»£ç ç»å¸¸æ æ³ç¼è¯æè¿èå·¥ç¨çº¦å®ï¼æ´éè¦çæ¯ï¼å®ä¸å®éä¸å¡ä¸­çç»ä»¶ä½ç³»åè®¾è®¡ç³»ç»ä¸¥éè±èã</p>
<p>å¦ä¸æ¡è·¯çº¿æ¯ä½ä»£ç æ schema é©±å¨ UIï¼ä¾å¦åºäº JSON Schema æè¡¨å schema çæ¹æ¡ãè¿ç±»æ¹æ¡å¨å·¥ç¨ä¸æ¯å¯æ§çï¼ç»æç¨³å®ãå¯æ ¡éªãå¯å¤ç¨ï¼ä½å®ä»¬æ¬è´¨ä¸æ¯ä¸ºâäººç¼åéç½®âè®¾è®¡çï¼èä¸æ¯ä¸ºâæ¨¡åçæç»æâè®¾è®¡çãschema è¡¨è¾¾è½åæéï¼æ©å±ææ¬é«ï¼å¹¶ä¸ä¸èªç¶è¯­è¨ä¹é´çæ å°å¹¶ä¸èªç¶ï¼Prompt å¾å¾éè¦å¤§éäººå·¥çº¦æã</p>
<p>Vercel ååå¼æºäº json-renderï¼json-render çåºç°ï¼æ¬è´¨ä¸æ¯å¯¹è¿ä¸¤æ¡è·¯çº¿çéæ°ååä¸ç»åãå®å¹¶æ²¡æè¯å¾è®© AI ååç«¯ä»£ç ï¼ä¹æ²¡ææ AI éå¶å¨ä¼ ç»ä½ä»£ç  schema ä¸­ï¼èæ¯å¼å¥äºä¸ä¸ªä¸­é´å±ï¼<strong>JSON UI AST</strong>ãAI åªè½çæè¿ç§ ASTï¼è AST çè½åè¾¹çå®å¨ç±å¼åèå®ä¹ãæ¸²æãç¶æãè¡ä¸ºè§£éå¨é¨çå¨ä¸å¡ä¾§å®æãå¼åèå æ­¤å¯ä»¥å®å¨å°è®©ç¨æ·éè¿èªç¶è¯­è¨çæä»ªè¡¨çãå°é¨ä»¶ææ°æ®è§å¾ï¼èä¸éè¦ææ§è¡æäº¤ç»æ¨¡åã</p>
<p><img src="https://img2024.cnblogs.com/blog/1501373/202601/1501373-20260115152759556-1171653435.gif" alt="iShot_2026-01-15_15.25.26" loading="lazy"></p>
<h2 id="æ´ä½æ¶æjson-render-æ¯ä¸ä¸ª-dsl-è§£éç³»ç»">æ´ä½æ¶æï¼json-render æ¯ä¸ä¸ª DSL è§£éç³»ç»</h2>
<p>ä»æ¶æè§è§çï¼json-render å¹¶ä¸æ¯ä¸ä¸ª UI æ¡æ¶ï¼èæ¯ä¸ä¸ª DSL æ§è¡ç³»ç»ãç³»ç»ç±ä¸å±ææï¼æåºå±æ¯ Catalogï¼ç¨æ¥å£°æâç³»ç»åè®¸ AI ä½¿ç¨åªäº UI è½åâï¼ä¸­é´å±æ¯ JSON UI Treeï¼è¿æ¯ AI çå¯ä¸è¾åºå½¢å¼ï¼æä¸å±æ¯ Rendererï¼ç±ä¸å¡ä¾§å®ç°ï¼ç¨äºè§£é JSON å¹¶æ¸²æçå® UIã</p>
<p>å®ä»¬ä¹é´çå³ç³»å¯ä»¥ç¨ä¸é¢è¿å¼ ç»æå¾æ¥çè§£ï¼</p>
<pre><code>ââââââââââââââ
â   Prompt   â
âââââââ¬âââââââ
      â
      â¼
ââââââââââââââââââââ
â  LLM / AI Model  â
âââââââ¬âââââââââââââ
      â  JSON UI ASTï¼å Catalog ä¸¥æ ¼çº¦æï¼
      â¼
ââââââââââââââââââââ
â     Catalog      â  â è½åç½åå / Schema / Grammar
âââââââ¬âââââââââââââ
      â æ ¡éª + è§£æ
      â¼
ââââââââââââââââââââ
â    Renderer      â  â React / Vue / Native
âââââââ¬âââââââââââââ
      â
      â¼
ââââââââââââââââââââ
â   Real UI View   â
ââââââââââââââââââââ
</code></pre>
<p>å¨è¿ä¸ªæ¨¡åä¸­ï¼AI åªåä¸âç»æçæâï¼ä¸åä¸âæ§è¡âãè¿ä¹æ¯ json-render å¨å·¥ç¨ä¸æç«çæ ¹æ¬åå ã</p>
<h2 id="ä»-catalog-å°-ui">ä» Catalog å° UI</h2>
<h3 id="1-catalogç³»ç»çè½åè¾¹çå®ä¹">1. Catalogï¼ç³»ç»çè½åè¾¹çå®ä¹</h3>
<p>ä¸é¢è¿æ®µä»£ç æ¯æ´ä¸ªç³»ç»ä¸­æéè¦çå¥å£ï¼å®å®ä¹äº AI è½ä½¿ç¨çå¨é¨ UI è½åã</p>
<pre><code class="language-ts">import { createCatalog } from '@json-render/core'
import { z } from 'zod'

export const catalog = createCatalog({
  components: {
    Card: {
      props: z.object({
        title: z.string()
      }),
      hasChildren: true
    },
    Metric: {
      props: z.object({
        label: z.string(),
        valuePath: z.string(),
        format: z.enum(['number', 'currency', 'percent']).optional()
      })
    }
  },
  actions: {
    refresh: {
      params: z.object({})
    }
  }
})
</code></pre>
<p>è¿éæ²¡æä»»ä½ UI ä»£ç ï¼åªæè½åå£°æãprops ä½¿ç¨ Zod å®ä¹ï¼è¿æå³çå®ä¸ä»æ¯ç±»åæç¤ºï¼è¿åå«è¿è¡æ¶æ ¡éªè§åãå¦æä½ å¯¹ Zod æ²¡æäºè§£ï¼å¯ä»¥ççè¿ç¯åæï¼<a href="https://www.cnblogs.com/guangzan/p/19350726" target="_blank">Zodï¼TypeScript ç±»åå®å«ä¸æ°æ®éªè¯</a>ãaction å¹¶ä¸æ¯å½æ°å®ç°ï¼èæ¯ä¸ä¸ªâæå¾å£°æâï¼å®åªæè¿°âå¯ä»¥åçä»ä¹âï¼ä¸æè¿°âæä¹åçâã</p>
<p>Catalog å¨ç³»ç»ä¸­çå°ä½ï¼ç¸å½äºä¸é¨è¯­è¨çè¯­æ³å®ä¹æä»¶ãAI åç»­çæçææ JSONï¼æ¬è´¨ä¸é½å¿é¡»ç¬¦åè¿å¥ grammarã</p>
<h3 id="2-ai-è¾åºç-json-ui-ast">2. AI è¾åºç JSON UI AST</h3>
<p>å½ç¨æ·è¾å¥ç±»ä¼¼âçæä¸ä¸ªæ¶å¥ä»ªè¡¨çâçæç¤ºæ¶ï¼æ¨¡åçæçç»æä¸æ¯ JSXï¼èæ¯ä¸é¢è¿æ ·ç JSONï¼</p>
<pre><code class="language-json">{
  "type": "Card",
  "props": { "title": "Revenue Overview" },
  "children": [
    {
      "type": "Metric",
      "props": {
        "label": "Total Revenue",
        "valuePath": "/metrics/revenue",
        "format": "currency"
      }
    }
  ]
}
</code></pre>
<p>è¿ä¸ª JSON æå ä¸ªéå¸¸å³é®çç¹å¾ãå®ä¸åå«ä»»ä½å½æ°ãä¸åå«æ¡ä»¶è¡¨è¾¾å¼ãä¸åå«æ ·å¼æç¶æé»è¾ãå®åªæ¯ç»æåå°æè¿°âä½¿ç¨åªä¸ªç»ä»¶ï¼ç¨ä»ä¹åæ°ï¼ç»ä»¶ä¹é´å¦ä½åµå¥âãææè½åå®å¨æ¥æºäº Catalogï¼å æ­¤è¿ä¸ª JSON æ¯å¯æ ¡éªãå¯å­å¨ãå¯ diffãå¯å®¡è®¡ãå¯åæ¾çã</p>
<h3 id="3-rendererjson-çè§£éæ§è¡">3. Rendererï¼JSON çè§£éæ§è¡</h3>
<p>å¨ React ä¾§ï¼Renderer æ®æ¼çæ¯è§£éå¨çè§è²ã</p>
<pre><code class="language-tsx">import { Renderer } from '@json-render/react'
import { catalog } from './catalog'

function App() {
  return (
    &lt;Renderer
      catalog={catalog}
      components={{
        Card: ({ title, children }) =&gt; (
          &lt;div className="card"&gt;
            &lt;h2&gt;{title}&lt;/h2&gt;
            {children}
          &lt;/div&gt;
        ),
        Metric: ({ label, value }) =&gt; (
          &lt;div&gt;
            {label}: {value}
          &lt;/div&gt;
        )
      }}
      data={{
        metrics: { revenue: 120000 }
      }}
    /&gt;
  )
}
</code></pre>
<p>Renderer å¹¶ä¸å³å¿ UI é¿ä»ä¹æ ·ï¼å®åªåä¸ä»¶äºï¼æ ¹æ® type æ¾å°å¯¹åºç»ä»¶å®ä¹ï¼æ ¹æ® Catalog æ ¡éª props å childrenï¼æ ¹æ® valuePath ç­è§åå®ææ°æ®æ³¨å¥ã</p>
<h2 id="ä¸ºä»ä¹-json-render-æ¯å¯æ§ç">ä¸ºä»ä¹ json-render æ¯âå¯æ§çâ</h2>
<p>ä¸é¢çåå© AI è½ååæåºäº <code>vercel-labs/json-render</code> ä¸»ä»åºãå¦æä½ å¯¹æ­¤ä¸æå´è¶£ï¼è·³è¿è¿é¨ååå®¹ã</p>
<h3 id="1-createcatalogè½åè¢«å»ç»çèµ·ç¹">1. createCatalogï¼è½åè¢«å»ç»çèµ·ç¹</h3>
<p>æä»¶è·¯å¾ä½äº <code>packages/core/src/create-catalog.ts</code>ãè¿ä¸ªå½æ°çæ ¸å¿ä½ç¨ä¸æ¯âæ³¨åç»ä»¶âï¼èæ¯âå»ç»è½åè¾¹çâã</p>
<p>ç®ååçæ ¸å¿é»è¾å¯ä»¥çè§£ä¸ºï¼</p>
<pre><code class="language-ts">export function createCatalog(definition) {
  return {
    components: definition.components,
    actions: definition.actions,
    validateNode(node) {
      // æ ¡éª type æ¯å¦å­å¨
      // æ ¡éª props æ¯å¦ç¬¦å Zod schema
      // æ ¡éª children æ¯å¦è¢«åè®¸
    }
  }
}
</code></pre>
<p>æ¯ä¸è¡ä»£ç é½å¨æå¡ä¸ä¸ªç®æ ï¼è®© Catalog æä¸ºä¸ä¸ªä¸å¯çªç ´çç½ååãRenderer å AI é½æ æ³ç»è¿å®ãè¿ä¹æ¯ä¸ºä»ä¹ json-render æ Catalog æ¾å¨ core åä¸­ï¼èä¸æ¯ React åä¸­ã</p>
<h3 id="2-schema-æ ¡éªai-è¾åºå¿é¡»åç¼è¯åæ§è¡">2. Schema æ ¡éªï¼AI è¾åºå¿é¡»âåç¼è¯åæ§è¡â</h3>
<p>å¨ JSON Tree è¿å¥ Renderer ä¹åï¼ç³»ç»ä¼éèç¹æ ¡éªãtype æ¯å¦å¨ Catalog ä¸­å£°æï¼props æ¯å¦éè¿ Zod æ ¡éªï¼children æ¯å¦ç¬¦å hasChildren çº¦æï¼action æ¯å¦å­å¨äºç½ååãè¿ä¸è¿ç¨æ¬è´¨ä¸å°±æ¯ä¸æ¬¡ AST æ ¡éªã</p>
<p>è¿æå³ç AI çè¾åºä¸æ¯âè¿è¡æ¶æ¥éâï¼èæ¯âä¸éè¿å³æç»æ§è¡âãå¨ AI UI ç³»ç»ä¸­ï¼è¿æ¯ä¸ä¸ªæå¶å³é®ä½ç»å¸¸è¢«å¿½è§çå·¥ç¨ç¹ã</p>
<h3 id="3-rendererçæ­£çè§£éå¨æ¨¡å">3. Rendererï¼çæ­£çè§£éå¨æ¨¡å</h3>
<p>React Renderer çåé¨é»è¾å¹¶ä¸æ¯ç®åç switch-caseï¼èæ¯ä¸ä¸ªéå½è§£éè¿ç¨ãå®æ ¹æ®èç¹ç type æ¥ Catalogï¼æé  propsï¼è§£æ valuePath æ³¨å¥æ°æ®ï¼ç»å® action handlerï¼ç¶åéå½æ¸²æ childrenã</p>
<p>ä»æ¶æè§åº¦çï¼å®æ´æ¥è¿ä¸ä¸ª JSON AST Interpreterï¼èä¸æ¯æ¨¡æ¿å¼æãè¿ä¹æ¯ json-render å¯ä»¥è·¨ ReactãVueãNative å¤ç¨æ ¸å¿ææ³çåå ã</p>
<h3 id="4-valuepathå»æé¿å-ai-åä¸ç¶æé»è¾">4. valuePathï¼å»æé¿å AI åä¸ç¶æé»è¾</h3>
<p>valuePath ä½¿ç¨å­ç¬¦ä¸²è·¯å¾æè¿°æ°æ®ä¾èµï¼ä¾å¦ï¼</p>
<pre><code class="language-json">"valuePath": "/metrics/revenue"
</code></pre>
<p>è¿æ ·è®¾è®¡çç´æ¥ç»ææ¯ï¼AI ä¸éè¦çè§£ç¶æç»æï¼ä¹ä¸éè¦åä»»ä½ç¶æé»è¾ãRenderer ç»ä¸è´è´£è§£æè·¯å¾ãè¯»åæ°æ®ãè§¦åæ´æ°ãè¿å¨æ¶æä¸å»æåæ­äºâAI ç´æ¥æä½ç¶æâçå¯è½æ§ã</p>
<p>ä¸é¢æ¯ä»åå«æ°å¢åå®¹çè¡¥åç« èï¼éç¹æ¾å¨å¯è½å°æºç å±é¢çæºå¶ï¼é¿åæ¦å¿µåæè¿°ãç¤ºä¾ä»£ç ä¸è§£éååºäº <code>vercel-labs/json-render</code> å½åä»åºç»æä¸å®ç°æè·¯ã</p>
<h2 id="prompt-ä¸-catalog-çèªå¨å¯¹é½">Prompt ä¸ Catalog çèªå¨å¯¹é½</h2>
<p>Prompt ä¸ Catalog çèªå¨å¯¹é½ï¼ä¸æ¯âè° Promptâï¼èæ¯âå¯¼åº Grammarâãjson-render ä¸­ï¼Prompt ä¸ Catalog çå¯¹é½å¹¶ä¸æ¯éè¿äººè Prompt Engineering å®æçï¼èæ¯éè¿ä» Catalog æ´¾çä¸ä»½æºå¨å¯çè§£çè½åæè¿°ï¼å¹¶å°å¶æ³¨å¥å°æ¨¡åä¸ä¸æä¸­ãè¿ä¸ç¹å¨ <code>packages/core</code> ä¸­çè®¾è®¡éå¸¸å³é®ã</p>
<p>å¨ core å±ï¼Catalog æ¬èº«å¹¶ä¸æ¯ä¸ä¸ªç®åçå¯¹è±¡ï¼å®åå«äºå®æ´çç»ä»¶å®ä¹ãprops schema ä»¥å action æè¿°ãè¿äºä¿¡æ¯ä¼è¢«è½¬æ¢ä¸ºä¸ç§âæè¿°æ§ç»æâï¼ç¨äºåè¯æ¨¡åå½åç³»ç»æ¯æç UI grammarã</p>
<p>ç±»ä¼¼è¿æ ·çé»è¾ï¼</p>
<pre><code class="language-ts">export function catalogToPrompt(catalog) {
  return `
You can generate a JSON UI tree.
Available components:
${Object.entries(catalog.components).map(([name, def]) =&gt; `
- ${name}
  props: ${describeSchema(def.props)}
  hasChildren: ${def.hasChildren}
`).join('\n')}

Available actions:
${Object.keys(catalog.actions).join(', ')}

Rules:
- Output must be valid JSON
- Only use listed components
- Follow prop schemas strictly
`
}
</code></pre>
<p>è¿éçå³é®ç¹ä¸å¨äºå­ç¬¦ä¸²æ¬èº«ï¼èå¨äºä¿¡æ¯æ¥æºå®å¨æ¥èª Catalogãæ¢å¥è¯è¯´ï¼Catalog æ¯ single source of truthï¼Prompt åªæ¯å®çä¸ç§åºååè§å¾ãå½å¼åèæ°å¢æä¿®æ¹ç»ä»¶å®ä¹æ¶ï¼Prompt ä¸­åè®¸æ¨¡åä½¿ç¨çè½åä¼èªå¨åçååï¼ä¸å­å¨âä»£ç å Prompt ä¸ä¸è´âçé®é¢ãè¿ä¹æ¯ json-render è½å¤é¿åå¤§éâPrompt èåâçæ ¹æ¬åå ã</p>
<p>ä»æ¨¡åè§è§çï¼å®é¢å¯¹çä¸æ¯ä¸æ®µæ¨¡ç³çèªç¶è¯­è¨è¯´æï¼èæ¯ä¸å¥æ¥è¿ BNF ç UI grammar æè¿°ãæ¨¡åçæ JSON UI Tree çè¿ç¨ï¼æ¬è´¨ä¸ç±»ä¼¼äºå¨ç»å®è¯­æ³çº¦æä¸çæ ASTãè¿ä¹æ¯ä¸ºä»ä¹ json-render è¦ä½¿ç¨ Zod èä¸æ¯ä»é  TypeScript ç±»åãZod schema å¯ä»¥è¢«åæ¶ç¨äºè¿è¡æ¶æ ¡éªå Prompt è¯­ä¹æè¿°ï¼å½¢æé­ç¯ã</p>
<h2 id="streaming-ui-çå®ç°ç»è">Streaming UI çå®ç°ç»è</h2>
<p>æµå¼æå»º ASTï¼èä¸æ¯æµå¼æ¼å­ç¬¦ä¸²ãjson-render ç Streaming UI è½åï¼æ ¸å¿å¹¶ä¸å¨âæ¨¡åæ¯ææµå¼è¾åºâï¼èå¨äº UI çä¸­é´è¡¨ç¤ºæ¯å¯å¢éåå¹¶ç JSON ASTãè¿ä¸ç¹å¨ React åä¸­çå®ç°éå¸¸æ¸æ°ã</p>
<p>å¨ <code>packages/react</code> ä¸­ï¼å¯ä»¥çå°ç±»ä¼¼ <code>useUIStream</code> ç hookï¼å¶æ ¸å¿èè´£æ¯ï¼<br>
ç»´æ¤ä¸æ£µå½å UI Treeï¼å¹¶å¨æ¨¡åæµå¼è¾åºæ¶ä¸æ­åè¿æ£µæ ä¸­åå¹¶æ°èç¹ã</p>
<p>ç®ååçåé¨ç»æå¤§è´å¦ä¸ï¼</p>
<pre><code class="language-ts">// packages/react/src/use-ui-stream.tsï¼æ¦å¿µç»æï¼
export function useUIStream() {
  const [tree, setTree] = useState&lt;UITree | null&gt;(null)

  function onChunk(chunk: string) {
    const partialNode = parseChunkToNode(chunk)
    if (!partialNode) return

    setTree(prevTree =&gt; {
      return mergeTree(prevTree, partialNode)
    })
  }

  return { tree, onChunk }
}
</code></pre>
<p>è¿éæä¸¤ä¸ªéå¸¸å³é®ä½å®¹æè¢«å¿½ç¥çç¹ã</p>
<p><code>parseChunkToNode</code> å¹¶ä¸æ¯ç®åç <code>JSON.parse</code>ãæ¨¡åå¨ streaming æ¨¡å¼ä¸è¾åºçéå¸¸æ¯ä¸å®æ´ JSONï¼å æ­¤ json-render éç¨çæ¯éæ®µè§£æãå»¶è¿æåçç­ç¥ãåªæå½ä¸ä¸ªèç¹å¨ç»æä¸æ¯å®æ´ä¸éè¿ Catalog æ ¡éªæ¶ï¼æä¼è¢«æåä¸ºâå¯åå¹¶èç¹âã<code>mergeTree</code> æ¯ä¸ä¸ªçº¯å½æ°ãå®ä¸ä¾èµå¤é¨ç¶æï¼åªæ ¹æ®å·²æ UI Tree åæ°èç¹çæä¸ä¸æ£µ Treeãè¿ä½¿å¾æ¯ä¸æ¬¡æ´æ°é½æ¯ç¡®å®æ§çï¼ä¹å¤©ç¶éå React çç¶ææ¨¡åã</p>
<p>å¨ Renderer å±ï¼è¿æ£µ Tree ä¼è¢«ç´æ¥ç¨äºéå½æ¸²æï¼</p>
<pre><code class="language-tsx">function RenderNode({ node }) {
  const Component = components[node.type]

  const resolvedProps = resolveProps(node.props)
  const children = node.children?.map(child =&gt;
    &lt;RenderNode key={child.id} node={child} /&gt;
  )

  return &lt;Component {...resolvedProps}&gt;{children}&lt;/Component&gt;
}
</code></pre>
<p>ç±äº Tree å§ç»æ¯âå·²æ ¡éªçåæ³ç»æâï¼Renderer ä¸éè¦å³å¿èç¹æ¯å¦å®æ´ï¼åªéè¦å³å¿âå½åæåªäºèç¹å·²ç»å­å¨âãè¿ä¹æ¯ Streaming UI è½å¨çææªå®ææ¶å°±å®å¨æ¸²æçæ ¹æ¬åå ã</p>
<h2 id="streaming-ä¸-catalog-æ ¡éªå¦ä½ååå·¥ä½">Streaming ä¸ Catalog æ ¡éªå¦ä½ååå·¥ä½</h2>
<p>Streaming UI å¹¶ä¸æ¯ç»è¿æ ¡éªæºå¶çæ·å¾ï¼æ°æ°ç¸åï¼å®ä¾èµæ ¡éªæºå¶æè½æç«ãå¨å®éæµç¨ä¸­ï¼æ¯ä¸ä¸ªåéèç¹å¨è¢«åå¹¶è¿ UI Tree ä¹åï¼é½ä¼ç»è¿ Catalog çæ ¡éªé»è¾ï¼</p>
<pre><code class="language-ts">// packages/core/src/validate-node.tsï¼æ¦å¿µç»æï¼
export function validateNode(node, catalog) {
  const def = catalog.components[node.type]
  if (!def) throw new Error('Unknown component')

  def.props.parse(node.props)

  if (node.children &amp;&amp; !def.hasChildren) {
    throw new Error('Children not allowed')
  }
}
</code></pre>
<p>Streaming æ¨¡å¼ä¸ï¼è¿ä¸ªæ ¡éªåçå¾æ´é¢ç¹ï¼ä½ç²åº¦æ´å°ãç³»ç»å®å¯âææ¶ä¸æ¸²æâï¼ä¹ä¸ä¼æä¸ä¸ªéæ³èç¹äº¤ç» Rendererãè¿ä¿è¯äº UI å¨ä»»ä½æ¶å»é½æ¯ä¸ä¸ªåæ³å­éï¼èä¸æ¯åæååå¾ç¶æã</p>
<p>Prompt ä¸ Catalog çèªå¨å¯¹é½ï¼ç¡®ä¿æ¨¡åâä¸ä¼å¹»æ³ä¸å­å¨çè½åâï¼Streaming UI ç AST çº§å¢éæå»ºï¼ç¡®ä¿ UIâå¯ä»¥å¨ä¸å®æ´æ¶ä»ç¶æ­£ç¡®è¿è¡âãä¸¤èç»åï¼ä½¿ json-render çæ§è¡æ¨¡åæ´æ¥è¿ç¼è¯å¨ä¸è§£éå¨ï¼èä¸æ¯æ¨¡æ¿çæå¨ãä»å·¥ç¨è§è§çï¼è¿æå³çä¸ä¸ªéè¦è½¬åï¼<strong>UI çæä¸åæ¯ä¸æ¬¡æ§ç»æï¼èæ¯ä¸ä¸ªå¯è§å¯ãå¯ä¸­æ­ãå¯åæ»çè¿ç¨ã</strong>è¿ä¹æ¯ json-render è½å¤çæ­£è¿å¥çäº§ç³»ç»ï¼èä¸ä»åçå¨ Demo å±é¢çæ ¹æ¬åå ã</p>
<h2 id="json-render-çæ­£è§£å³äºä»ä¹">json-render çæ­£è§£å³äºä»ä¹</h2>
<p>json-render æ¬èº«å¹¶ä¸æ¯ä¸ç§å¨æ°çææ¯èå¼ã<strong>âç¨åéç»ææè¿° UIï¼åç±è¿è¡æ¶è§£éæ§è¡âè¿ä¸ææ³ï¼å¨åç«¯å·¥ç¨ä¸­æ©å·²åå¤åºç°è¿ã</strong>æ©æç JSON Schema Formãreact-jsonschema-formãFormilyãæ¬è´¨ä¸é½æ¯ç¨ç»æåæ°æ®æè¿°çé¢ï¼åç±æ¸²æå¨çæçå® UIãä½ä»£ç å¹³å°ãæ­å»ºç³»ç»ãéç½®ååå°ï¼å ä¹å¨é¨å»ºç«å¨åä¸é»è¾ä¹ä¸ãå³ä¾¿å¨ AI åºç°ä¹åï¼è¿ç§æ¨¡å¼ä¹å·²ç»éå¸¸æçï¼å·¥ç¨å¸éè¿ schema æè¿°ç»ä»¶ãå±æ§åå¸å±ï¼è¿è¡æ¶è´è´£æ ¡éªä¸æ¸²æï¼ä¸å¡ä¾§åªæä½ç»æèä¸ç´æ¥è§¦ç¢°ä»£ç ãjson-render å¹¶æ²¡æåæè¿ç§æ¨¡å¼ï¼å®ç»§æ¿çæ­£æ¯è¿ä¸æ´æ¡ææ¯èç»ã</p>
<p>json-render çä¸åä¹å¤å¨äºï¼å®é¦æ¬¡æâæ¨¡åçæâä½ä¸ºä¸ç­å¬æ°çº³å¥è®¾è®¡åæãä¼ ç» schema UI åè®¾éç½®ç±äººç¼åï¼å æ­¤æ´å¼ºè°å®æ´æ§ãå¯è¯»æ§åç¼è¾ä½éªï¼è json-render åè®¾ç»æç±æ¨¡åçæï¼å æ­¤æ´å¼ºè°è¯­æ³è¾¹çæ¸æ°ãå¤±è´¥å¯æ¢å¤ãé¨åç»æå¯æ§è¡ï¼ä»¥åä¸ Prompt çèªå¨å¯¹é½è½åãä»è¿ä¸ªè§åº¦çï¼json-render æ´åæ¯âä¸º AI éæ°è®¾è®¡çä¸ä»£ schema UI æ§è¡æ¨¡åâãå®çæ­£è§£å³çé®é¢å¹¶ä¸æ¯âæä¹ç¨ JSON æ¸²æ UIâï¼èæ¯å½ç»ææ¥æºåæä¸å¯é çæ¨¡åæ¶ï¼å·¥ç¨è¾¹çåºè¯¥å¨åªéãå®ç»åºçç­æ¡éå¸¸æç¡®ï¼AI åªè´è´£çæç»æåæå¾ï¼å·¥ç¨å¸è´è´£è½åå®ä¹ãæ§è¡ä¸æ¸²æï¼JSON ä½ä¸ºå¯ä¸ä¸­ä»åçº¦æå±ãè¿ä½¿å¾ AI UI ä¸åæ¯ä¸æ¬¡æ§ Demoï¼èæ¯å¯ä»¥è¿å¥çäº§ç³»ç»çå·¥ç¨è½åãå¨å½åé¶æ®µï¼è¿æ¯å°æ°çæ­£ç«å¨å·¥ç¨ç«åºæè AI UI çæ¹æ¡ä¹ä¸ã</p>
<h2 id="åèèµæ">åèèµæ</h2>
<ul>
<li><a href="https://json-render.dev/" target="_blank" rel="noopener nofollow">json-render.dev</a></li>
<li><a href="https://github.com/vercel-labs/json-render" target="_blank" rel="noopener nofollow">github.com/vercel-labs/json-render</a></li>
<li><a href="https://vercel.com/blog" target="_blank" rel="noopener nofollow">vercel.com/blog</a></li>
<li><a href="https://www.cnblogs.com/guangzan/p/19350726" target="_blank">Zodï¼TypeScript ç±»åå®å«ä¸æ°æ®éªè¯</a></li>
</ul>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.004166666666666667" data-date-updated="2026-01-15 15:29">2026-01-15 15:23</span>&nbsp;
<a href="https://www.cnblogs.com/guangzan">guangzan</a>&nbsp;
éè¯»(<span id="post_view_count">297</span>)&nbsp;
è¯è®º(<span id="post_comment_count">2</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19487446);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19487446', targetLink: 'https://www.cnblogs.com/guangzan/p/19487446', title: 'AI â JSON â UI' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ å¦ä½éè¿ C# å° PPT ææ¡£è½¬æ¢ä¸º PDF æ ¼å¼ ]]></title>
    <link>https://www.cnblogs.com/jazz-z/p/19486170</link>
    <guid>82d91dd3d6c8729df8b8f4cd2a51cdd7</guid>
    <description>
    <![CDATA[ 
            <div class="postcontent">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>å¨æ¥å¸¸å¼åååå¬åºæ¯ä¸­ï¼å° PowerPointï¼PPT/PPTXï¼ è½¬æ¢ä¸º PDF æ ¼å¼æ¯é«é¢éæ±ãPDF æ ¼å¼å·æè·¨å¹³å°å¼å®¹æ§å¼ºãæ ¼å¼åºå®ä¸æç¯¡æ¹ãä¾¿äºååå½æ¡£ç­ä¼å¿ãæ¬æå°ä»ç»å¦ä½ä½¿ç¨ä¸æ¬¾ .NET PowerPoint ç»ä»¶éè¿ C# å®ç° PPT è½¬ PDFï¼å¹¶æä¾å®æ´ä»£ç ç¤ºä¾ã</p>
<h2 id="1-å®è£-net-åº">1. å®è£ .NET åº</h2>
<p>Spire.Presentation æ¯ä¸æ¬¾ä¸é¨ç¨äºå¤ç PowerPoint ææ¡£ç .NET ç»ä»¶ï¼æ éä¾èµ Microsoft Office æ PowerPoint å®¢æ·ç«¯å³å¯å®æ PPT ææ¡£çè¯»åãç¼è¾åæ ¼å¼è½¬æ¢ãæ¨èéè¿ NuGet åç®¡çå¨å®è£ï¼æ­¥éª¤å¦ä¸ï¼</p>
<ol>
<li>æå¼ Visual Studioï¼åå»ºä»»æ C# é¡¹ç®ï¼å¦Console Appï¼ï¼</li>
<li>å³é®é¡¹ç®ââç®¡çNuGetç¨åºåâï¼</li>
<li>æç´¢âSpire.Presentationâï¼éæ©å¯¹åºçæ¬å®è£ï¼</li>
<li>ä¹å¯éè¿NuGetå½ä»¤è¡å®è£ï¼</li>
</ol>
<pre><code class="language-bash">Install-Package Spire.Presentation
</code></pre>
<h2 id="2-åºç¡ç¤ºä¾åä¸ª-powerpoint-æä»¶è½¬-pdf">2. åºç¡ç¤ºä¾ï¼åä¸ª PowerPoint æä»¶è½¬ PDF</h2>
<p>è¿æ¯æå¸¸ç¨çåºæ¯ï¼æ¯æ PPT/PPTX æ ¼å¼è¾å¥ï¼ç´æ¥éè¿ <code>SaveToFile</code> æ¹æ³è¾åºä¸º PDF æä»¶ï¼</p>
<pre><code class="language-csharp">using System;
using Spire.Presentation;

namespace PptToPdfDemo
{
    class Program
    {
        static void Main(string[] args)
        {
            try
            {
                // 1. å®ä¹æä»¶è·¯å¾
                string pptFilePath = @"D:\Demo\source.pptx"; // è¾å¥PPTè·¯å¾
                string pdfFilePath = @"D:\Demo\output.pdf";   // è¾åºPDFè·¯å¾

                // 2. å è½½PPTææ¡£
                Presentation presentation = new Presentation();
                presentation.LoadFromFile(pptFilePath);

                // 3. è½¬æ¢ä¸ºPDFå¹¶ä¿å­
                // å¯éåæ°ï¼PDFå¯¼åºéé¡¹ï¼å¦åç¼©ãæéç­ï¼ï¼æ­¤å¤ä½¿ç¨é»è®¤éç½®
                presentation.SaveToFile(pdfFilePath, FileFormat.PDF);

                // 4. éæ¾èµæºï¼å³é®ï¼é¿ååå­æ³æ¼ï¼
                presentation.Dispose();

                Console.WriteLine("PPTè½¬PDFæåï¼");
            }
            catch (Exception ex)
            {
                // å¼å¸¸å¤çï¼æè·æä»¶ä¸å­å¨ãæ ¼å¼ä¸æ¯æãæéä¸è¶³ç­é®é¢
                Console.WriteLine($"è½¬æ¢å¤±è´¥ï¼{ex.Message}");
            }
        }
    }
}
</code></pre>
<h3 id="3-æ¹éè½¬æ¢è½¬æ¢å¤ä¸ª-powerpoint-æä»¶ä¸º-pdf">3. æ¹éè½¬æ¢ï¼è½¬æ¢å¤ä¸ª PowerPoint æä»¶ä¸º PDF</h3>
<p>éè¿éåæä»¶å¤¹å®ç°æ¹éè½¬æ¢ï¼éåå¤çå¤§é PPT æä»¶ï¼</p>
<pre><code class="language-csharp">using System;
using System.IO;
using Spire.Presentation;

namespace BatchPptToPdf
{
    class Program
    {
        static void Main(string[] args)
        {
            // æºPPTæä»¶å¤¹è·¯å¾
            string pptFolderPath = @"D:\Demo\PptFiles";
            // è¾åºPDFæä»¶å¤¹è·¯å¾
            string pdfFolderPath = @"D:\Demo\PdfFiles";

            // ç¡®ä¿è¾åºæä»¶å¤¹å­å¨
            if (!Directory.Exists(pdfFolderPath))
            {
                Directory.CreateDirectory(pdfFolderPath);
            }

            // éåæä»¶å¤¹ä¸­çPPT/PPTXæä»¶
            string[] pptFiles = Directory.GetFiles(pptFolderPath, "*", SearchOption.TopDirectoryOnly)
                .Where(file =&gt; file.EndsWith(".ppt", StringComparison.OrdinalIgnoreCase) 
                             || file.EndsWith(".pptx", StringComparison.OrdinalIgnoreCase))
                .ToArray();

            foreach (string pptFile in pptFiles)
            {
                try
                {
                    // è·åæä»¶åï¼ä¸å«æ©å±åï¼ï¼ç¨äºçæPDFæä»¶å
                    string fileName = Path.GetFileNameWithoutExtension(pptFile);
                    string pdfFile = Path.Combine(pdfFolderPath, $"{fileName}.pdf");

                    // å è½½å¹¶è½¬æ¢
                    using (Presentation presentation = new Presentation())
                    {
                        presentation.LoadFromFile(pptFile);
                        presentation.SaveToFile(pdfFile, FileFormat.PDF);
                    }

                    Console.WriteLine($"å·²è½¬æ¢ï¼{pptFile} â {pdfFile}");
                }
                catch (Exception ex)
                {
                    Console.WriteLine($"è½¬æ¢å¤±è´¥ {pptFile}ï¼{ex.Message}");
                }
            }

            Console.WriteLine("æ¹éè½¬æ¢å®æï¼");
        }
    }
}
</code></pre>
<h3 id="4-è¿é¶ç¤ºä¾å°-powerpoint-è½¬æ¢ä¸ºå å¯ç-pdf">4. è¿é¶ç¤ºä¾ï¼å° PowerPoint è½¬æ¢ä¸ºå å¯ç PDF</h3>
<p>è¿å¯ä»¥å¨è½¬æ¢æ¶ç´æ¥å å¯ä¿æ¤ PDF æä»¶ï¼å¹¶ä¸º PDF è®¾ç½®æéï¼</p>
<pre><code class="language-csharp">using Spire.Presentation;
using Spire.Presentation.External.Pdf;

namespace ConvertToEncryptedPdf
{
    class Program
    {
        static void Main(string[] args)
        {
            // å®ä¹æç¡®çæä»¶è·¯å¾ï¼å»ºè®®æ¿æ¢ä¸ºä½ çå®éè·¯å¾ï¼
            string inputPptPath = @"C:\Users\Administrator\Desktop\Input.pptx";
            string outputPdfPath = @"C:\Users\Administrator\Desktop\ToEncryptedPdf.pdf";
            
            // ä½¿ç¨usingè¯­å¥èªå¨éæ¾Presentationèµæºï¼ä¼äºæå¨Disposeï¼
            try
            {
                using (Presentation presentation = new Presentation())
                {
                    // å è½½PPTæä»¶
                    presentation.LoadFromFile(inputPptPath);

                    // è·åPDFä¿å­éé¡¹
                    SaveToPdfOption option = presentation.SaveToPdfOption;
                    
                    // è®¾ç½®PDFå¯ç åæé
                    // åæ°è¯´æï¼
                    // 1. ç¨æ·å¯ç ï¼æå¼PDFéè¦è¾å¥çå¯ç ï¼ï¼abc-123
                    // 2. ææèå¯ç ï¼ç¨äºä¿®æ¹PDFæéçå¯ç ï¼ï¼owner-456ï¼å¯èªå®ä¹ï¼
                    // 3. PDFæéï¼åè®¸æå° + åè®¸å¡«åè¡¨å
                    // 4. å å¯çº§å«ï¼é»è®¤128ä½ï¼é«å®å¨æ§ï¼
                  option.PdfSecurity.Encrypt("abc-123", "owner-456", 
                        PdfPermissionsFlags.Print | PdfPermissionsFlags.FillFields, 
                        PdfEncryptionKeySize.Key128Bit);

                    // ä¿å­ä¸ºå å¯PDF
                    presentation.SaveToFile(outputPdfPath, FileFormat.PDF, pdfOptions);

                    Console.WriteLine("PPTå·²æåè½¬æ¢ä¸ºå å¯PDFï¼");
                    Console.WriteLine($"è¾åºè·¯å¾ï¼{outputPdfPath}");
                }
            }
            catch (Exception ex)
            {
                // æè·ææå¯è½çå¼å¸¸å¹¶æç¤º
                Console.WriteLine($"è½¬æ¢å¤±è´¥ï¼{ex.Message}");
            }

            // æåæ§å¶å°ï¼ä¾¿äºæ¥çç»æ
            Console.ReadLine();
        }
    }
}
</code></pre>
<h2 id="5-å³é®æ³¨æäºé¡¹">5. å³é®æ³¨æäºé¡¹</h2>
<ol>
<li>
<p><strong>æ ¼å¼å¼å®¹æ§</strong>ï¼</p>
<ul>
<li>æ¯æè¾å¥æ ¼å¼ï¼PPTãPPTXãPPSãPPSX ç­ï¼</li>
<li>å¤æPPTåç´ ï¼å¦3Då¾è¡¨ãèªå®ä¹å¨ç»ãåµå¥å¼è§é¢ï¼è½¬æ¢åå¯è½ä¸¢å¤±ææ¾ç¤ºå¼å¸¸ï¼ã</li>
</ul>
</li>
<li>
<p><strong>èµæºéæ¾</strong>ï¼</p>
<ul>
<li>å¿é¡»éè¿ <code>Dispose()</code> æ¹æ³éæ¾ <code>Presentation</code> å¯¹è±¡ï¼æä½¿ç¨ <code>using</code> è¯­å¥ï¼æ¨èï¼ï¼å¦åæå¯¼è´åå­æ³æ¼ï¼å°¤å¶æ¹éè½¬æ¢æ¶éæ³¨æã</li>
</ul>
</li>
<li>
<p><strong>æéé®é¢</strong>ï¼</p>
<ul>
<li>ç¡®ä¿ç¨åºå¯¹è¾å¥/è¾åºè·¯å¾æè¯»åæéï¼å¦åä¼æåº <code>UnauthorizedAccessException</code>ã</li>
</ul>
</li>
</ol>
<h2 id="6-æ¿ä»£æ¹æ¡åè">6. æ¿ä»£æ¹æ¡åè</h2>
<ol>
<li><strong>LibreOffice SDK</strong>ï¼åè´¹å¼æºï¼éé¨ç½² LibreOffice æå¡ï¼API è¾å¤æï¼</li>
<li><strong>OpenXML SDK + iTextSharp</strong>ï¼ä»æ¯æ PPTXï¼OpenXML æ ¼å¼ï¼ï¼éèªè¡å¤çå¸å±è½¬æ¢ï¼å¼åææ¬é«ï¼</li>
<li><strong>GroupDocs.Conversion</strong>ï¼æåè´¹é¢åº¦ï¼äºåçæ¯æï¼ä½ä¾èµç½ç»ã</li>
</ol>
<hr>
<p>æ¬ææä¾äºå¯é ç C# PowerPoint è½¬ PDF è§£å³æ¹æ¡ï¼ç¹å«éåå¨æå¡å¨ç¯å¢ææ éå®è£ Microsoft Office çåºæ¯ä¸­ä½¿ç¨ãå¶ä¼ç¹åæ¬é¨ç½²ç®åãAPI è®¾è®¡æ¸æ°ãæ¯æå¤ç§è¾åºéé¡¹ç­ã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="itemdesc">
                åè¡¨äº 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-15 10:38">2026-01-15 10:37</span>&nbsp;
<a href="https://www.cnblogs.com/jazz-z">LAYONTHEGROUND</a>&nbsp;
éè¯»(<span id="post_view_count">133</span>)&nbsp;
è¯è®º(<span id="post_comment_count">1</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19486170);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19486170', targetLink: 'https://www.cnblogs.com/jazz-z/p/19486170', title: 'å¦ä½éè¿ C# å° PPT ææ¡£è½¬æ¢ä¸º PDF æ ¼å¼' })">ä¸¾æ¥</a>

            </div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ "æä¸å¨å¼å§å­¦"ï¼ä¸æ¡AIæä»¤ï¼ç»ç»ä½ çæ éæå»¶å¾ªç¯ ]]></title>
    <link>https://www.cnblogs.com/huizhudev/p/19489669</link>
    <guid>ad0f580d1ac78ded9b2829ec2fb196f1</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/huizhudev/p/19489669" title="åå¸äº 2026-01-16 01:03">
    <span role="heading" aria-level="2">"æä¸å¨å¼å§å­¦"ï¼ä¸æ¡AIæä»¤ï¼ç»ç»ä½ çæ éæå»¶å¾ªç¯</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        <img src="https://img2024.cnblogs.com/blog/3695776/202601/3695776-20260116010343153-509804162.png" alt="&amp;quot;æä¸å¨å¼å§å­¦&amp;quot;ï¼ä¸æ¡AIæä»¤ï¼ç»ç»ä½ çæ éæå»¶å¾ªç¯" class="desc_img">
        æ¬æåäº«ä¸æ¡AIæç¤ºè¯ï¼å¯è®©AIæ®æ¼ä¸ä¸å­¦ä¹ è§åå¸ãåªéè¾å¥å­¦ä¹ ç®æ ãæ¶é´åä¸ªäººæåµï¼å³å¯è·å¾åå«é¶æ®µç®æ ãæ¯æ¥ä»»å¡ãå¤ä¹ ç­ç¥ååºæ¥é¢æ¡çä¸ªæ§åå­¦ä¹ è®¡åï¼å¸®ä½ ç»ç»"è®¡åâå¤±è´¥âåè®¡å"çæ éå¾ªç¯ã
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>"ææç®å­¦Pythonï¼ä¸å¨ä¸å¼å§ï¼"</p>
<p>ä¸å¨æ«èé¤ï¼èæç¬¬ä¸æ¬¡è¯´åºè¿å¥è¯ãæçäºç¼ä»ä¸ä¸ªæåçæååï¼åæ ·çè±ªè¨å£®è¯­ï¼éçä¸æ¬å´­æ°çç¼ç¨å¥é¨ä¹¦ãé£äºä¹¦ï¼è³ä»è¿å¨ä»ä¹¦æ¶ä¸ä¿æçå¤å¥³èè¬çå¹³æ´ã</p>
<p>ææ²¡æå²ç¬ä»ãå ä¸ºæèªå·±çå¤èè®¡åæ¬ä¸ï¼ä¹èººçä¸ä»½"æ¯å¤©è100ä¸ªåè¯"çå®ä¼èå¾ï¼æ§è¡äºä¸å¤©å°±æäºåºçº¸ã</p>
<p><strong>é®é¢ä¸å¨äºæï¼èå¨äºæä»¬æ ¹æ¬ä¸ä¼"åè®¡å"ã</strong></p>
<p>æä»¬ä»¥ä¸ºå¶å®å­¦ä¹ è®¡åå°±æ¯åä¸ªæ¸åãå®ä¸ªç®æ ãè®¾ä¸ªé¹éãä½çç¸æ¯ï¼ä¸ä»½çæ­£è½æ§è¡ä¸å»çè®¡åï¼éè¦ææè²å­¦ãè®¤ç¥å¿çå­¦ãæ¶é´ç®¡çï¼è¿å¾äºè§£ä½ èªå·±ââä½ å ç¹éèå­ææ¸éï¼ä½ çæ³¨æåè½æå¤ä¹ï¼ä½ éå°å°é¾ä¼æä¹ååºï¼</p>
<p>è¿äºï¼ä¸æ¯ç¿»å ç¯å¬ä¼å·å°±è½å­¦ä¼çã</p>
<p>ä¸è¿ï¼æä¸ªä¸è¥¿è½å¸®ä½ ââææå®å«å<strong>"å­¦ä¹ è®¡åçæå¨"</strong>ãä¸æ¡AIæä»¤ï¼å åéæå®åæ¬è®©ä½ çº ç»ä¸å¤©çäºã</p>
<p><img alt="&quot;æä¸å¨å¼å§å­¦&quot;ï¼ä¸æ¡AIæä»¤ï¼ç»ç»ä½ çæ éæå»¶å¾ªç¯" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3695776/202601/3695776-20260116010201432-811510277.png" class="lazyload"></p>
<h2 id="æç ´è®¡åå¤±è´¥åè®¡åçé­å">æç ´"è®¡åâå¤±è´¥âåè®¡å"çé­å</h2>
<p>åå«æ¥çææä»¤ï¼å±ä»¬èèä¸ºä»ä¹ä½ ä¹åçè®¡åé½æ²¡ç¨ã</p>
<p><strong>ç¬¬ä¸ç§ä½æ­»ï¼ç®æ å¤ªè</strong></p>
<p>"æåè±è¯­æ°´å¹³"ââè¿å«æ¿æï¼ä¸å«ç®æ ãæåå°ä»ä¹ç¨åº¦ï¼æä¹è¡¡éï¼ç¨ä»ä¹æµè¯ï¼æ²¡æç­æ¡ï¼ä½ çå¤§èå°±æ²¡æç»ç¹çº¿ï¼èªç¶ä¹å°±ä¸ä¼å²åºã</p>
<p><strong>ç¬¬äºç§ä½æ­»ï¼è¿åº¦å¤ªç´§</strong></p>
<p>æ¯å¤©å­¦4å°æ¶ï¼æç»­90å¤©ãçèµ·æ¥éå¿ä¸ä¸ï¼ä½åªè¦çæ´»ä¸­åºç°ä¸ç¹æ³¢å¨ï¼å ç­ãççãå¿æä¸å¥½ï¼ï¼ç¬¬äºå¤©å°±ä¼æ³"åæ­£æ¨å¤©ä¹æ²¡å®æï¼ä»å¤©å¹²èä¼æ¯å§"ãäºæ¯ä¸å¤©åä¸¤å¤©ï¼ä¸¤å¤©åä¸å¨ï¼è®¡åå½»åºå´©çã</p>
<p><strong>ç¬¬ä¸ç§ä½æ­»ï¼æ²¡æåé¦</strong></p>
<p>å­¦äºä¸ä¸ªæï¼è¿æ­¥äºå¤å°ï¼åªäºå°æ¹è¿èå¼±ï¼å®å¨ä¸ç¥éãæ²¡æéç¨ç¢ï¼å°±ä¸ä¼ææå°±æï¼æ²¡ææå°±æï¼å°±æ²¡æå¨åç»§ç»­ã</p>
<p>ä¸ä¸çå­¦ä¹ è§åå¸ï¼è³å°éè¦èèä¸è¿°ææé®é¢ãä½ä½ èº«è¾¹ççæè¿æ ·ä¸ä½24å°æ¶å¾å½çè§åå¸åï¼</p>
<p>å¯è½æ²¡æãä½AIå¯ä»¥ã</p>
<h2 id="è¿æ¡æä»¤è½å¸®ä½ æå®ä»ä¹">è¿æ¡æä»¤ï¼è½å¸®ä½ æå®ä»ä¹ï¼</h2>
<p>æè°è¯äºå¾ä¹çä¸æ¡æç¤ºè¯ï¼æ ¸å¿æè·¯æ¯è®©AIæ®æ¼<strong>ä¸ä¸ªæ10å¹´ç»éªçå­¦ä¹ è§åå¸</strong>ãä½ åªéè¦åè¯å®ï¼ä½ æ³å­¦ä»ä¹ãç°å¨ä»ä¹æ°´å¹³ãæ¯å¤©æå¤å°æ¶é´ãå¸æå¤ä¹å­¦å®ãå®ä¼ç»ä½ ï¼</p>
<ul>
<li>ä¸ä»½<strong>ç®æ æè§£æ¹æ¡</strong>ï¼æå¤§ç®æ åæå¯éåçé¶æ®µæ§å°ç®æ </li>
<li>ä¸ä»½<strong>æ¯å¨/æ¯æ¥è®¡åè¡¨</strong>ï¼ç²¾ç¡®å°æ¯ä¸ªæ¶é´åè¯¥åä»ä¹</li>
<li>ä¸å¥<strong>å¤ä¹ ç­ç¥</strong>ï¼æ ¹æ®è¾å®¾æµ©æ¯éå¿æ²çº¿å®æå¤ä¹ èç¹</li>
<li>ä¸ä»½<strong>åºæ¥é¢æ¡</strong>ï¼ä¸ä¸è½ä¸è¿åº¦ï¼æä¹è°æ´è¿½åæ¥</li>
</ul>
<p>ä¸æ¯é£ç§"æ¯å¤©èåè¯"çåºè¯ï¼æ¯ççè½ç§çæ§è¡çä»»å¡æ¸åã</p>
<p>ä¸é¢æ¯å®æ´æä»¤ï¼å¤å¶èµ°å°±è½ç¨ã</p>
<h2 id="å®æ´æä»¤ä½ çaiç§äººè§åå¸">å®æ´æä»¤ï¼ä½ çAIç§äººè§åå¸</h2>
<pre><code class="language-markdown"># è§è²å®ä¹
ä½ æ¯ä¸ä½ä¸ä¸çå­¦ä¹ è§åå¸ï¼æ¥æ10å¹´ä»¥ä¸æè²å¹è®­åå­¦ä¹ æ¹æ³ç ç©¶ç»éªãä½ ç²¾éåç§å­¦ä¹ çè®ºï¼å¦è¾å®¾æµ©æ¯éå¿æ²çº¿ãè´¹æ¼å­¦ä¹ æ³ãçªèå·¥ä½æ³ç­ï¼ï¼æé¿æ ¹æ®å­¦ä¹ èçä¸ªäººæåµå¶å®ç§å­¦ãå¯æ§è¡çå­¦ä¹ è®¡åãä½ çæ ¸å¿ä¼å¿æ¯ï¼
- ç²¾ååæå­¦ä¹ éæ±åå½åæ°´å¹³
- è®¾è®¡ç¬¦åè®¤ç¥è§å¾çå­¦ä¹ è¿åº¦
- å¶å®å¯éåãå¯è¿½è¸ªçå­¦ä¹ ç®æ 
- æä¾çµæ´»çè®¡åè°æ´å»ºè®®

# ä»»å¡æè¿°
è¯·æ ¹æ®ææä¾çå­¦ä¹ ä¿¡æ¯ï¼ä¸ºæå¶å®ä¸ä»½ä¸ªæ§åçå­¦ä¹ è®¡åãè¿ä»½è®¡ååºè¯¥ï¼
- ç¬¦åæçæ¶é´å®æåå­¦ä¹ è½å
- è®¾å®æ¸æ°çé¶æ®µæ§ç®æ 
- åå«å·ä½çæ¯æ¥/æ¯å¨å­¦ä¹ ä»»å¡
- æä¾ç§å­¦çå¤ä¹ å·©åºç­ç¥

**è¾å¥ä¿¡æ¯**:
- **å­¦ä¹ ç®æ **: [æ³è¦è¾¾æçå·ä½ç®æ ï¼å¦ï¼éè¿è±è¯­åçº§ãææ¡Pythonåºç¡ç­]
- **å½åæ°´å¹³**: [ç°æçç¥è¯åºç¡ï¼å¦ï¼é¶åºç¡/æä¸å®åºç¡/ä¸­çº§æ°´å¹³]
- **å¯ç¨æ¶é´**: [æ¯å¤©/æ¯å¨å¯æå¥çå­¦ä¹ æ¶é´]
- **æªæ­¢æ¥æ**: [ææè¾¾æç®æ çæ¶é´ï¼å¯é]
- **å­¦ä¹ åå¥½**: [åæ¬¢çå­¦ä¹ æ¹å¼ï¼å¦ï¼è§é¢è¯¾ç¨/ä¹¦æ¬éè¯»/å®è·µç»ä¹ /å°ç»è®¨è®º]
- **ç¹æ®æåµ**: [ä»»ä½éè¦èèçå ç´ ï¼å¦ï¼å·¥ä½ç¹å¿/å®¹æåå¿/ç¹å®å°é¾ç­]

# è¾åºè¦æ±

## 1. åå®¹ç»æ
è¯·æä»¥ä¸ç»æè¾åºå­¦ä¹ è®¡åï¼

- **å­¦ä¹ ç®æ åæ**: è§£è¯»ç®æ ï¼æè§£ä¸ºå¯å®ç°çå­ç®æ 
- **å­¦ä¹ è·¯å¾è§å**: ä»å½åæ°´å¹³å°ç®æ çå®æ´è·¯çº¿å¾
- **é¶æ®µæ§éç¨ç¢**: è®¾å®3-5ä¸ªå³é®æ£æ¥ç¹
- **è¯¦ç»å­¦ä¹ è®¡å**: å·ä½çå¨è®¡å/æ¥è®¡åå®æ
- **èµæºæ¨è**: æ¨èçå­¦ä¹ èµæåå·¥å·
- **å¤ä¹ ç­ç¥**: åºäºéå¿æ²çº¿çå¤ä¹ å®æ
- **è°æ´å»ºè®®**: åºå¯¹çªåæåµçå¤éæ¹æ¡

## 2. è´¨éæ å
- **å¯æ§è¡æ§**: æ¯ä¸ªä»»å¡é½ææç¡®çè¡å¨æå
- **å¯éå**: è¿åº¦å¯ä»¥è¢«å·ä½è¡¡éåè¿½è¸ª
- **çµæ´»æ§**: åå«å¼¹æ§æ¶é´ï¼åè®¸è°æ´
- **ç§å­¦æ§**: ç¬¦åå­¦ä¹ è®¤ç¥è§å¾

## 3. æ ¼å¼è¦æ±
- ä½¿ç¨è¡¨æ ¼åç°å¨è®¡å/æ¥è®¡å
- ä½¿ç¨æ¸åååºæ¯æ¥ä»»å¡
- ç¨ç¾åæ¯æå·ä½æ°å¼æ æ³¨è¿åº¦èç¹
- éå½ä½¿ç¨emojiå¢å¼ºå¯è¯»æ§

## 4. é£æ ¼çº¦æ
- **è¯­è¨é£æ ¼**: äº²åé¼å±ãä¸ä¸å®ç¨
- **è¡¨è¾¾æ¹å¼**: ç¬¬äºäººç§°"ä½ "ï¼æè¿è·ç¦»
- **ä¸ä¸ç¨åº¦**: éä¿ææï¼é¿åè¿å¤æ¯è¯­

# è´¨éæ£æ¥æ¸å

å¨å®æè¾åºåï¼è¯·èªææ£æ¥ï¼
- [ ] å­¦ä¹ ç®æ æ¯å¦è¢«æ¸æ°æè§£
- [ ] æ¶é´å®ææ¯å¦ç¬¦åç¨æ·å®éæåµ
- [ ] æ¯ä¸ªä»»å¡æ¯å¦å·ä½å¯æ§è¡
- [ ] æ¯å¦åå«å¤ä¹ åå·©åºç¯è
- [ ] æ¯å¦æä¾äºè°æ´ååºæ¥æ¹æ¡

# æ³¨æäºé¡¹
- ä¸è¦å¶å®è¿äºç´§åçè®¡åï¼ä¿ç20%å¼¹æ§æ¶é´
- èèå­¦ä¹ èçç²¾åæ²çº¿ï¼éé¾ç¹æ¾å¨é«ææ¶æ®µ
- æ¯ä¸ªå­¦ä¹ ååæ§å¶å¨25-50åéï¼çªèéååï¼
- å¼ºè°"å®ææ¯å®ç¾æ´éè¦"çæ§è¡çå¿µ

# è¾åºæ ¼å¼
è¯·ä»¥Markdownæ ¼å¼è¾åºå®æ´çå­¦ä¹ è®¡åï¼åå«ææå¿è¦çè¡¨æ ¼ãæ¸ååè¯´æã
</code></pre>
<h2 id="æä¹ç¨ç»ä½ ä¸¾ä¸ªçå®ä¾å­">æä¹ç¨ï¼ç»ä½ ä¸¾ä¸ªçå®ä¾å­</h2>
<p>åè®¾ä½ æ¯ä¸ªä¸ç­æï¼æ³ä¸ä¸ªæåéè¿è±è¯­å­çº§ï¼æ¯å¤©åªæ1.5å°æ¶ï¼å¨æ«è½å¤æ¤ç¹æ¶é´ã</p>
<p>ä½ åªéè¦è¿ä¹è¾å¥ï¼</p>
<pre><code>- å­¦ä¹ ç®æ ï¼3ä¸ªæåéè¿è±è¯­å­çº§ï¼ç®æ 500å
- å½åæ°´å¹³ï¼åçº§è£¸èé£è¿ï¼è¯æ±4000å·¦å³
- å¯ç¨æ¶é´ï¼å·¥ä½æ¥1.5å°æ¶ï¼å¨æ«æ¯å¤©3å°æ¶
- æªæ­¢æ¥æï¼2026å¹´6æèè¯
- å­¦ä¹ åå¥½ï¼åæ¬¢Appå·é¢åçè§£æï¼ä¸ç±çè§é¢
- ç¹æ®æåµï¼å¬åæ¯è¾å¼±ï¼éè¯»è¿è¡ï¼ç»å¸¸å ç­
</code></pre>
<p>AIä¼ç»ä½ ä¸ä»½è¯¦ç»å°"å¨äºæä¸èåª50ä¸ªåè¯"çè®¡åãä¸æ¯ç©ºè¯ï¼æ¯ççè½è·çèµ°çè·¯çº¿å¾ã</p>
<p>ä¸é¢æ¯AIè¾åºçé¨ååå®¹ï¼èéï¼ï¼</p>
<table>
<thead>
<tr>
<th>é¶æ®µ</th>
<th>æ¶é´</th>
<th>éç¹ä»»å¡</th>
<th>æ£éªæ å</th>
</tr>
</thead>
<tbody>
<tr>
<td>è¯æ±çªç ´</td>
<td>ç¬¬1-4å¨</td>
<td>æ¯å¤©50è¯+å¤ä¹ ï¼æ»è¯æ±éè¾¾5500</td>
<td>æ¨¡æè¯æ±æµè¯æ­£ç¡®ç&gt;75%</td>
</tr>
<tr>
<td>å¬åä¸é¡¹</td>
<td>ç¬¬5-8å¨</td>
<td>æ¯å¤©ç²¾å¬15åé+æ³å¬30åé</td>
<td>å¬åçé¢åé¡¹æ­£ç¡®ç&gt;55%</td>
</tr>
<tr>
<td>çé¢å²åº</td>
<td>ç¬¬9-12å¨</td>
<td>æ¯å¨2å¥çé¢+éé¢å½çº³</td>
<td>æ¨¡ææ»åç¨³å®470+</td>
</tr>
</tbody>
</table>
<p>å®è¿ä¼åè¯ä½ ï¼å¨ä¸ç²¾åå¥½ï¼å®ææ°è¯ï¼å¨äºç´¯äºï¼å°±å¤ä¹ æ§è¯ï¼ä¸ä¸å äº3å¤©ç­ï¼æä¹ç¨å¨æ«è¡¥åæ¥ã</p>
<p>è¿æå«<strong>è®¡å</strong>ã</p>
<h2 id="ä¸ç§äººä¸ç§ç¨æ³">ä¸ç§äººï¼ä¸ç§ç¨æ³</h2>
<p><strong>å¦æä½ æ¯å­¦ç</strong>ï¼èç ãèå¬ãèè¯ï¼æèè¯ç§ç®åå¤§çº²ä¸¢ç»å®ï¼è®©å®å¸®ä½ åéåç§æ¶é´æéã</p>
<p><strong>å¦æä½ æ¯ä¸ç­æ</strong>ï¼æ³å­¦æ°æè½ä½æ¶é´ç¢çåï¼è®©å®å¸®ä½ è®¾è®¡"éå¤30åé+åä¼30åé+ç¡å30åé"çå¾®åå­¦ä¹ æ¨¡åã</p>
<p><strong>å¦æä½ æ¯å®¶é¿</strong>ï¼å­©å­è¦å¤æä¸­èï¼ä½ ä¸ç¥éæä¹å¸®ï¼è®©å®åºä¸ä»½å­¦ç§èå¼±ç¹æ»åæ¹æ¡ï¼æ¯æ¥è¡¥ä¹ ç­ä¾¿å®å¤äºã</p>
<h2 id="å«è®©æå¤©åè¯´æ¯æä½ ç2026">å«è®©"æå¤©åè¯´"æ¯æä½ ç2026</h2>
<p>èæåæ¥ççå¼å§å­¦Pythonäºãææè¿æ¡æä»¤åç»ä»ï¼ä»è±äºäºåéå¡«å®ä¿¡æ¯ï¼æ¿å°äºä¸ä»½12å¨çå­¦ä¹ è®¡åã</p>
<p>ä¸å¨åä»ç»æåæ¶æ¯ï¼"åå¼ï¼æå±ç¶ççååºäºç¬¬ä¸ä¸ªè½è·çç¨åºã"</p>
<p>ä¸æ¯ä»çªç¶åå¤å¥äºï¼æ¯ä»ç»äºæäºä¸ä»½<strong>å¯ä»¥æ§è¡çè®¡å</strong>ã</p>
<p>ä½ ä¸éè¦æä¸ºæ¶é´ç®¡çå¤§å¸ï¼ä¸éè¦æå¿åæäººï¼ä½ åªéè¦ä¸ä¸ªå¥½è®¡åï¼ç¶åä¸æ­¥ä¸æ­¥èµ°ã</p>
<p>æä¸é¢é£æ¡æä»¤å­ä¸æ¥ãä¸æ¬¡åæ³å­¦ç¹ä»ä¹çæ¶åï¼å«ç´æ¥å"æ¯å¤©å­¦2å°æ¶"è¿ç§æ³¨å®å¤±è´¥çç®æ ã</p>
<p><strong>åé®é®AIï¼æè¯¥æä¹å­¦ï¼ä»ä¹æ¶åå­¦ï¼å­¦å°ä»ä¹ç¨åº¦ç®å®æï¼</strong></p>
<p>å½è¿äºé®é¢é½æç­æ¡çæ¶åï¼æ§è¡å°±åæäºæç®åçé£ä¸æ­¥ã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-16 01:04">2026-01-16 01:03</span>&nbsp;
<a href="https://www.cnblogs.com/huizhudev">realhuizhu</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19489669);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19489669', targetLink: 'https://www.cnblogs.com/huizhudev/p/19489669', title: '&amp;quot;æä¸å¨å¼å§å­¦&amp;quot;ï¼ä¸æ¡AIæä»¤ï¼ç»ç»ä½ çæ éæå»¶å¾ªç¯' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ãå¤§æ°æ® & AIãFlink Agents æºç è§£è¯» --- (7) ---  AgentsExecutionEnvironment ]]></title>
    <link>https://www.cnblogs.com/rossiXYZ/p/19489355</link>
    <guid>d506a6e92aeecc6fdeaad9234ca33215</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/rossiXYZ/p/19489355" title="åå¸äº 2026-01-15 21:56">
    <span role="heading" aria-level="2">ãå¤§æ°æ® &amp; AIãFlink Agents æºç è§£è¯» --- (7) ---  AgentsExecutionEnvironment</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="å¤§æ°æ®--aiflink-agents-æºç è§£è¯»-----7------agentsexecutionenvironment">ãå¤§æ°æ® &amp; AIãFlink Agents æºç è§£è¯» --- (7) ---  AgentsExecutionEnvironment</h1>
<p></p><div class="toc"><div class="toc-container-header">ç®å½</div><ul><li><a href="#å¤§æ°æ®--aiflink-agents-æºç è§£è¯»-----7------agentsexecutionenvironment" rel="noopener nofollow">ãå¤§æ°æ® &amp; AIãFlink Agents æºç è§£è¯» --- (7) ---  AgentsExecutionEnvironment</a><ul><li><a href="#0x00-æ¦è¦" rel="noopener nofollow">0x00 æ¦è¦</a></li><li><a href="#0x01-åºç¡ç¥è¯" rel="noopener nofollow">0x01 åºç¡ç¥è¯</a><ul><li><a href="#11-å®ä¹" rel="noopener nofollow">1.1 å®ä¹</a></li><li><a href="#12-åè½" rel="noopener nofollow">1.2 åè½</a></li><li><a href="#13-ä¸åç-flink-environment-çåºå«" rel="noopener nofollow">1.3 ä¸åç Flink Environment çåºå«</a></li></ul></li><li><a href="#0x02-localexecutionenvironment" rel="noopener nofollow">0x02 LocalExecutionEnvironment</a><ul><li><a href="#21-å®ä¹" rel="noopener nofollow">2.1 å®ä¹</a><ul><li><a href="#211-ä¸»è¦åè½" rel="noopener nofollow">2.1.1 ä¸»è¦åè½</a></li><li><a href="#212-ä»£ç " rel="noopener nofollow">2.1.2 ä»£ç </a></li><li><a href="#213-æ§è¡æµç¨" rel="noopener nofollow">2.1.3 æ§è¡æµç¨</a></li><li><a href="#214-ç»ä»¶å³ç³»" rel="noopener nofollow">2.1.4 ç»ä»¶å³ç³»</a></li></ul></li><li><a href="#22-localrunner" rel="noopener nofollow">2.2 LocalRunner</a><ul><li><a href="#221-localrunner-çä¸»è¦åè½" rel="noopener nofollow">2.2.1 LocalRunner çä¸»è¦åè½</a></li><li><a href="#222-äºä»¶é©±å¨æ§è¡æ¨¡å" rel="noopener nofollow">2.2.2 äºä»¶é©±å¨æ§è¡æ¨¡å</a></li><li><a href="#223-agentplan-å-localrunner-çå³ç³»" rel="noopener nofollow">2.2.3 AgentPlan å LocalRunner çå³ç³»</a></li><li><a href="#224-ä¸ºä»ä¹è¦ä¸ºæ¯ç§-key-ç»´æ¤ç¬ç«çä¸ä¸æ" rel="noopener nofollow">2.2.4 ä¸ºä»ä¹è¦ä¸ºæ¯ç§ key ç»´æ¤ç¬ç«çä¸ä¸æ</a></li><li><a href="#225-å®éåºç¨åºæ¯ç¤ºä¾" rel="noopener nofollow">2.2.5 å®éåºç¨åºæ¯ç¤ºä¾</a></li></ul></li><li><a href="#23-localrunnercontext" rel="noopener nofollow">2.3 LocalRunnerContext</a><ul><li><a href="#231-è®¾è®¡ç®ç" rel="noopener nofollow">2.3.1 è®¾è®¡ç®ç</a></li><li><a href="#232-ä¸»è¦åè½" rel="noopener nofollow">2.3.2 ä¸»è¦åè½</a></li><li><a href="#233-å®ä¹" rel="noopener nofollow">2.3.3 å®ä¹</a></li></ul></li></ul></li><li><a href="#0x03-remoteexecutionenvironment" rel="noopener nofollow">0x03 RemoteExecutionEnvironment</a><ul><li><a href="#31-æ ¸å¿ç¹è²" rel="noopener nofollow">3.1 æ ¸å¿ç¹è²</a></li><li><a href="#32-ä¸åç-flink-remoteenvironment-çå¯¹æ¯" rel="noopener nofollow">3.2 ä¸åç Flink RemoteEnvironment çå¯¹æ¯</a></li><li><a href="#33-å¦ä½ä½¿ç¨-actionexecutionoperator" rel="noopener nofollow">3.3 å¦ä½ä½¿ç¨ ActionExecutionOperator</a></li><li><a href="#34-å¸åæµç¨" rel="noopener nofollow">3.4 å¸åæµç¨</a></li><li><a href="#35-äº¤äºé»è¾" rel="noopener nofollow">3.5 äº¤äºé»è¾</a></li><li><a href="#36-å®ç°" rel="noopener nofollow">3.6 å®ç°</a></li></ul></li><li><a href="#0xff-åè" rel="noopener nofollow">0xFF åè</a></li></ul></li></ul></div><p></p>
<h2 id="0x00-æ¦è¦">0x00 æ¦è¦</h2>
<p>AgentsExecutionEnvironment æ¯å¨Flinkåºç¡ä¸æå»ºçä¸ä¸ªæ´é«å±æ¬¡çæ§è¡ç¯å¢ï¼ä¸é¨ä¸ºAgentèè®¾è®¡ï¼åæ¶ä¿çäºä¸åç Flink API çå¼å®¹æ§ã</p>
<h2 id="0x01-åºç¡ç¥è¯">0x01 åºç¡ç¥è¯</h2>
<p>å¯ä»¥æ Flink åçç <code>StreamExecutionEnvironment</code> / <code>TableEnvironment</code> çè§£æâAgent è¯é¢éæè¯´ç<strong>æ§è¡ç¯å¢</strong>ï¼Execution Environmentï¼âï¼ä½æ¯å¶æ æ³ç´æ¥è¢« Agent ä½¿ç¨ãå æ­¤éè¦å¨å¶ä¸åä¸äºå°è£åééï¼è¿å°±æ¯ AgentsExecutionEnvironmentã</p>
<ol>
<li>Flink Environment = çº¯ç²¹ç<strong>è®¡ç®èµæºä¸è¿è¡æ¶å®¹å¨</strong>
<ul>
<li>è´è´£ç³è¯· Slotãç®¡ç Checkpointãè°åº¦ç®å­é¾ãç½ç» Shuffle</li>
<li>å¯¹âä¸å¡è¯­ä¹âä¸æ æç¥ï¼ä¹ä¸ç®¡ç¨æ·åçæ¯ ETLãCEP è¿æ¯ AI æ¨ç</li>
<li>å¯¹åº Agent è¯æ±è¡¨éçâRuntime / Cluster / Engineâè¿ä¸å±</li>
</ul>
</li>
<li>Agent Environment = å¨ Flink Runtime ä¹ä¸åäºä¸å±<strong>è¯­ä¹æ½è±¡</strong>
<ul>
<li>æ¿ç¨æ·æ³¨å Chat ModelãToolsãMemoryãActionsãEvent Schema</li>
<li>æâç¨æ·æ¶æ¯âæâä¼ æå¨äºä»¶âå°è£æ Eventï¼æ AgentPlan å»è°å¤§æ¨¡åãæ§è¡ä¸å¡å¨ä½</li>
<li>åé¨ä»ç¶ç¨ <code>StreamExecutionEnvironment</code> å»æäº¤ç®å­ï¼åªæ¯çä¸å°æ¾å¼ç <code>keyBy()</code> å <code>process()</code>ââæ¡æ¶å¸®ç¨æ·çæäº <code>ActionExecutionOperator</code></li>
</ul>
</li>
</ol>
<p>ç±»æ¯å³ç³»å¦ä¸ï¼</p>
<pre><code class="language-python">ä¼ ç» Flink ç¨åº
ââ StreamExecutionEnvironment   â çº¯è¿è¡æ¶
ââ your ProcessFunction         â ç¨æ·çä¸å¡é»è¾
ââ DataStream

Flink Agents ç¨åº
ââ AgentsExecutionEnvironment   â Agent è¯­ä¹ç¯å¢ï¼åé¨ä»ææ StreamExecutionEnvironment
ââ AgentPlanï¼your businessï¼   â å®ä¹âéå°å¥äºä»¶è¯¥å¹²å¥â
ââ ActionExecutionOperator     â æ¡æ¶æ¿ç¨æ·çæçç®å­ï¼è´è´£è°å¤§æ¨¡åãæ´æ°è®°å¿
</code></pre>
<h3 id="11-å®ä¹">1.1 å®ä¹</h3>
<p>AgentsExecutionEnvironment çä»£ç å¦ä¸ã</p>
<pre><code class="language-java">/**
 * Base class for agent execution environment.
 *
 * &lt;p&gt;This class provides the main entry point for integrating Flink Agents with different types of
 * Flink data sources (DataStream, Table, or simple lists).
 */
public abstract class AgentsExecutionEnvironment {
    protected final Map&lt;ResourceType, Map&lt;String, Object&gt;&gt; resources;

    protected AgentsExecutionEnvironment() {
        this.resources = new HashMap&lt;&gt;();
        for (ResourceType type : ResourceType.values()) {
            this.resources.put(type, new HashMap&lt;&gt;());
        }
    }
    
    /**
     * Get agents execution environment.
     *
     * &lt;p&gt;Factory method that creates an appropriate execution environment based on the provided
     * StreamExecutionEnvironment. If no environment is provided, a local execution environment is
     * returned for testing and development.
     *
     * &lt;p&gt;When integrating with Flink DataStream/Table APIs, users should pass the Flink
     * StreamExecutionEnvironment to enable remote execution capabilities.
     *
     * @param env Optional StreamExecutionEnvironment for remote execution. If null, a local
     *     execution environment will be created.
     * @param tEnv Optional StreamTableEnvironment for table-to-stream conversion.
     * @return AgentsExecutionEnvironment appropriate for the execution context.
     */
    public static AgentsExecutionEnvironment getExecutionEnvironment(
            StreamExecutionEnvironment env, @Nullable StreamTableEnvironment tEnv) {
        if (env == null) {
            // Return local execution environment for testing/development
            try {
                Class&lt;?&gt; localEnvClass =
                        Class.forName(                                "org.apache.flink.agents.runtime.env.LocalExecutionEnvironment");
                return (AgentsExecutionEnvironment)
                        localEnvClass.getDeclaredConstructor().newInstance();
            } catch (Exception e) {
                throw new RuntimeException("Failed to create LocalExecutionEnvironment", e);
            }
        } else {
            // Return remote execution environment for Flink integration
            try {
                Class&lt;?&gt; remoteEnvClass =
                        Class.forName(                                "org.apache.flink.agents.runtime.env.RemoteExecutionEnvironment");
                return (AgentsExecutionEnvironment)
                        remoteEnvClass
                                .getDeclaredConstructor(
                                        StreamExecutionEnvironment.class,
                                        StreamTableEnvironment.class)
                                .newInstance(env, tEnv);
            } catch (Exception e) {
                throw new RuntimeException("Failed to create RemoteExecutionEnvironment", e);
            }
        }
    }    
</code></pre>
<h3 id="12-åè½">1.2 åè½</h3>
<p>AgentsExecutionEnvironment çåè½å¦ä¸ï¼</p>
<ul>
<li>ç»ä¸å¥å£ï¼
<ul>
<li>æä¾getExecutionEnvironment()ç³»åéæå·¥åæ¹æ³ï¼å¯ä»¥ä¾æ®æ¯å¦ä¼ å¥Flinkç StreamExecutionEnvironmentæ¥åå»ºæ¬å°æè¿ç¨æ§è¡ç¯å¢ã</li>
<li>æ¯æä»ä¸åæ°æ®æºæå»ºæå»ºAgentç®¡éï¼åæ¬Listï¼DataStreamåTableã</li>
</ul>
</li>
<li>èµæºéç½®ç®¡çï¼
<ul>
<li>åç½® resources æ å°ç»æï¼æ¯ææç§èµæºç±»åç®¡çåç§èµæºã</li>
<li>æä¾ addResource() æ¹æ³æ³¨åå¯åºååçèµæºæèèµæºæè¿°ç¬¦ã</li>
</ul>
</li>
<li>å¤è¾å¥æºæ¯æï¼
<ul>
<li>fromList()ï¼æ¯æä»ç®ååè¡¨åå»ºæ¬å°æ§è¡ç¯å¢ã</li>
<li>fromDataStream()ï¼éæFlink DataStream API</li>
<li>fromTable()ï¼éæFlink Table API</li>
</ul>
</li>
<li>éç½®ç®¡çï¼
<ul>
<li>æä¾getConfig()æ½è±¡æ¹æ³è·åå¯åçéç½®å¯¹è±¡ã</li>
</ul>
</li>
</ul>
<h3 id="13-ä¸åç-flink-environment-çåºå«">1.3 ä¸åç Flink Environment çåºå«</h3>
<ul>
<li>æ½è±¡å±çº§æ´é«ï¼AgentExecutionEnvrionmentæ¯å¯¹Flinkåçç¯å¢çå°è£ï¼å¨å¶ä¹ä¸æä¾äºé¢åAgentçç¼ç¨æ¨¡åãä¸»è¦ç¨äºè¿è¡Agentï¼èé ç´æ¥å¤çæ°æ®æµã</li>
<li>æ§è¡æ¨¡å¼ï¼AgentExecutionEnvrionment éè¿ LocalExecutionEnvironment å RemoteExecutionEnvironment åå«æ¯ææ¬å°æµè¯åè¿ç¨éç¾¤æ§è¡ãåç Flink ä¸»è¦éè¿éç½®åæ°æ§å¶æ§è¡æ¨¡å¼ã</li>
<li>èµæºç®¡çæºå¶ï¼AgentExecutionEnvrionment åç½®äºä¸é¨çèµæºæ³¨ååç®¡çæºå¶ï¼æ¯ææç±»ååç±»ç®¡çæ¯æ´ãåç Flink æ²¡æè¿ç§ç»æåçèµæºç®¡çæ¹å¼ã</li>
<li>API è®¾è®¡ç®æ ï¼é¢å Agent ç¼ç¨èå¼ï¼å¼ºè°äºä»¶é©±å¨çèªä¸»è¡ä¸ºä½æ¨¡åãåçFlink æ´å³æ³¨æ°æ®æµå¤çåæ¹å¤çæä½ã</li>
</ul>
<h2 id="0x02-localexecutionenvironment">0x02 LocalExecutionEnvironment</h2>
<p>LocalExecutionEnvironment æ¯ AgentsExecutionEnvironment çä¸ç§å®ç°å½¢å¼ã</p>
<pre><code class="language-java">Class&lt;?&gt; localEnvClass = Class.forName(                                "org.apache.flink.agents.runtime.env.LocalExecutionEnvironment");
                return (AgentsExecutionEnvironment)
                        localEnvClass.getDeclaredConstructor().newInstance();
</code></pre>
<p>LocalExecutionEnvironment  ä¸»è¦ç¨äº</p>
<ul>
<li>å¼åé¶æ®µçå¿«éæµè¯åè°è¯</li>
<li>æ é Flink éç¾¤å³å¯éªè¯ä»£çé»è¾</li>
<li>ç®åAgentåºç¨çæ¬å°å¼åæµç¨</li>
<li>å®ä¸è¿ç¨æ§è¡ç¯å¢å½¢æå¯¹æ¯ï¼åèæ¯æå®æ´ç Flink DataStream å Table API éæã</li>
</ul>
<h3 id="21-å®ä¹">2.1 å®ä¹</h3>
<h4 id="211-ä¸»è¦åè½">2.1.1 ä¸»è¦åè½</h4>
<p>LocalExecutionEnvironment  çä¸»è¦åè½å¦ä¸ï¼</p>
<ul>
<li>æ¬å°æ§è¡ç¯å¢å®ç°
<ul>
<li>éæèª AgentExecutionEnvrionmentï¼ä¸ºæ¬å°æµè¯åå¼åæä¾æ§è¡ç¯å¢</li>
<li>ä¸ä¾èµ Flink éç¾¤ï¼å¯ä»¥å¨æ¬å°ç¯å¢ä¸­è¿è¡åè°è¯ä»£ç</li>
</ul>
</li>
<li>æ°æ®æºæ¯æ
<ul>
<li>éè¿from_listæ¹æ³æ¯æä»åè¡¨æ°æ®æºè¯»åè¾å¥æ°æ®</li>
<li>ä¸æ¯æ Flink çDataStream å Table APIï¼è¿äºå¨è¿ç¨æ§è¡ç¯å¢ä¸­ä½¿ç¨ï¼</li>
</ul>
</li>
<li>èµæºéç½®åç®¡ç
<ul>
<li>å­å¨åç®¡çéè¿ add_resource æ¹æ³æ³¨åçèµæº</li>
<li>å¨æå»ºAgentæ¶ï¼å°ç¯å¢ä¸­çèµæºæ³¨å¥å°Agentå®ä¾ä¸­</li>
</ul>
</li>
<li>ä»£çæ§è¡ç®¡ç
<ul>
<li>éè¿  set_agent æ¹æ³è®¾ç½®å¾æ§è¡çAgentãè¾å¥åè¾åº</li>
<li>ä½¿ç¨ LocalRunner  å¨æ¬å°æ§è¡ä»£çé»è¾</li>
<li>éè¿ execute æ¹æ³è§¦åä»£çæ§è¡</li>
</ul>
</li>
<li>ç»ææ¶é
<ul>
<li>æ¶éAgentæ§è¡çè¾åºç»æ</li>
<li>éè¿ to_list  æ¹æ³è¿åæ§è¡ç»æ</li>
</ul>
</li>
</ul>
<p>æ ¹æ®ä»£ç åæï¼ execute å½æ°å¨ä»¥ä¸æåµä¸è¢«è°ç¨ï¼</p>
<ul>
<li>ç¨æ·æå¨è°ç¨ãå½ç¨æ·å®æä»£çéç½®åè¾å¥æ°æ®è®¾ç½®åï¼éè¦æ¾å¼è°ç¨execute()  æ¹æ³æ¥å¯å¨Agent æ§è¡æµç¨ï¼è¿éå¸¸å¼éç½®å®ææå¿è¦ç»ä»¶åçæåä¸æ­¥ã</li>
</ul>
<h4 id="212-ä»£ç ">2.1.2 ä»£ç </h4>
<p>LocalExecutionEnvironment çå®ä¹å¦ä¸ï¼å¶ä¸­ LocalRunner æ¯æ ¸å¿ã</p>
<pre><code class="language-java">class LocalExecutionEnvironment(AgentsExecutionEnvironment):
    """Implementation of AgentsExecutionEnvironment for local execution environment."""

    __input: List[Dict[str, Any]] = None
    __output: List[Any] = None
    __runner: LocalRunner = None
    __executed: bool = False
    __config: AgentConfiguration = AgentConfiguration()
        
    def set_agent(self, input: list, output: list, runner: LocalRunner) -&gt; None:
        """Set agent input, output and runner."""
        self.__input = input
        self.__runner = runner
        self.__output = output

    def execute(self) -&gt; None:
        """Execute agent individually."""
        if self.__executed:
            err_msg = (
                "LocalExecutionEnvironment doesn't support execute multiple times."
            )
            raise RuntimeError(err_msg)
        self.__executed = True
        for input in self.__input:
            self.__runner.run(**input)
        outputs = self.__runner.get_outputs()
        for output in outputs:
            self.__output.append(output)        
</code></pre>
<h4 id="213-æ§è¡æµç¨">2.1.3 æ§è¡æµç¨</h4>
<p>å¨ LocalExecutionEnvironment ä¸­ï¼execute æ¹æ³ä¼ï¼</p>
<ul>
<li>éåææè¾å¥æ°æ®é¡¹</li>
<li>å¯¹æ¯ä¸ªè¾å¥è°ç¨ LocalRunner  çrunæ¹æ³è¿è¡å¤ç</li>
<li>æ¶éææè¾åºç»æ</li>
</ul>
<p>å¸åçè°ç¨åºåå¦ä¸ï¼</p>
<pre><code class="language-python"># 1. è·åæ§è¡ç¯å¢
env = StreamExecutionEnvironment.get_execution_environment()
# 2. æ·»å æéèµæº
env.add_resource(...)
# 3. è®¾ç½®è¾å¥æ°æ®
output_data = env.from_list(input_data) 
# 4. åºç¨ä»£ç
builder.apply(agent) 
# 5. æ§è¡ä»£ç
env.execute()
# 6. è·åç»æ
results = builder.to_list()
</code></pre>
<p>å³é®ç¹ç¹ï¼</p>
<ul>
<li>æå¨è§¦åï¼ execute() ä¸ä¼èªå¨è°ç¨ï¼å¿é¡»ç±ç¨æ·æ¾å¼è°ç¨</li>
<li>ä¸æ¬¡æ§æ§è¡ï¼åªè½è°ç¨ä¸æ¬¡ï¼å¤æ¬¡è°ç¨ä¼æåºå¼å¸¸</li>
<li>é»å¡æä½ï¼å¨æ¬å°ç¯å¢ä¸­ï¼è¿æ¯ä¸ªåæ­¥é»å¡æä½ï¼ä¼ç­å¾ææè¾å¥å¤çå®æ</li>
</ul>
<h4 id="214-ç»ä»¶å³ç³»">2.1.4 ç»ä»¶å³ç³»</h4>
<p>ç»ä»¶å³ç³»å¾å¦ä¸ï¼</p>
<pre><code class="language-python">LocalExecutionEnvironmet
    â
    â creates
LocalAgentBuilder
    â
    â creates
LocalRunner
    â
    â creates &amp; run(data)
LocalRunnerContext
</code></pre>
<p>å³ç³»è¯´æï¼</p>
<ul>
<li>LocalExecutionEnvironmet æ¯å¥å£ç¹ï¼ç®¡çæ´ä¸ªæ§è¡ç¯å¢ãéè¿ from_list() åå»ºLocalAgentBuilder</li>
<li>LocalAgentBuilder è´è´£æå»ºAgent æ§è¡ç®¡éï¼éè¿ apply() åå»º LocalRunner</li>
<li>LocalRunner æ¯å®éçæ§è¡å¨</li>
<li>LocalRunner ä¸ºæ¯ä¸ªå¤ççè®°å½åå»º LocalRunnerContext</li>
</ul>
<h3 id="22-localrunner">2.2 LocalRunner</h3>
<p>LocalRunner æ¯æ¬å°æ§è¡ç¯å¢ä¸­çæ ¸å¿æ§è¡å¨ï¼è´è´£å®éè¿è¡Agenté»è¾ãLocalRunner æä¾äºä¸ä¸ªå®æ´çæ¬å°æ§è¡ç¯å¢ï¼æ¨¡æäºFlink æµå¤ççè¡ä¸ºï¼ä½¿å¾Agentå¯ä»¥å¨æ¬å°è¿è¡å¼ååæµè¯ã</p>
<h4 id="221-localrunner-çä¸»è¦åè½">2.2.1 LocalRunner çä¸»è¦åè½</h4>
<p>LocalRunner çä¸»è¦åè½ï¼</p>
<ul>
<li>ä»£çæ§è¡ï¼å°Agentè½¬æ¢ä¸ºå¯æ§è¡çè®¡åå¹¶æ§è¡</li>
<li>ä¸ä¸æç®¡çï¼ä¸ºæ¯ä¸ªå¤çåååå»ºåç®¡ç LocalRunnerContext</li>
<li>äºä»¶å¤çï¼ç®¡çäºä»¶éåå¹¶é©±å¨Agentçæ§è¡æµç¨</li>
<li>ç»ææ¶éï¼æ¶éåå­å¨Agentæ§è¡çè¾åºç»æ</li>
</ul>
<p>runå½æ°æ¯LocalRunnerçæ ¸å¿æ¹æ³ï¼è´è´£å¤çåä¸ªè¾å¥è®°å½ï¼</p>
<ul>
<li>ä»è¾å¥æ°æ®ä¸­æåé®å¼ï¼ç¨äºä¸ä¸æç®¡ç</li>
<li>ä¸ºæ¯ä¸ªé®åå»ºæå¤ç¨ LocalRunnerContext</li>
<li>å°è¾å¥æ°æ®åè£æ InputEvent å¹¶åéå°äºä»¶éå</li>
<li>äºä»¶å¾ªç¯å¤çï¼LocalRunner ç run å½æ°ä½¿ç¨ while å¾ªç¯æ¯ä¸ºäºå¤çäºä»¶é©±å¨çä»£çæ§è¡æ¨¡åãè¿ç§è®¾è®¡åæ äºä»£çæ§è¡çæ ¸å¿æºå¶
<ul>
<li>æç»­å¤çäºä»¶éåç´å°ä¸ºç©º</li>
<li>å¦ææ¯è¾åºäºä»¶ãæ¶éç»æ</li>
<li>æ ¹æ®äºä»¶ç±»åæ¥æ¾å¯¹åºçå¨ä½</li>
<li>æ§è¡å¨ä½</li>
<li>å¤çå¼æ­¥å¤çç»æ</li>
</ul>
</li>
</ul>
<pre><code class="language-python">    @override
    def run(self, **data: Dict[str, Any]) -&gt; Any:
        """Execute the agent to process the given data.

        Parameters
        ----------
        **data : dict[str, Any]
            input record from upstream.

        Returns:
        -------
        key
            The key of the input that was processed.
        """
        if "key" in data:
            key = data["key"]
        elif "k" in data:
            key = data["k"]
        else:
            key = uuid.uuid4()

        if key not in self.__keyed_contexts:
            self.__keyed_contexts[key] = LocalRunnerContext(self.__agent_plan, key, self.__config)
        context = self.__keyed_contexts[key]

        if "value" in data:
            input_event = InputEvent(input=data["value"])
        elif "v" in data:
            input_event = InputEvent(input=data["v"])
        else:
            msg = "Input data must be dict has 'v' or 'value' field"
            raise RuntimeError(msg)

        context.send_event(input_event)

        while len(context.events) &gt; 0:
            event = context.events.popleft()
            if isinstance(event, OutputEvent):
                self.__outputs.append({key: event.output})
                continue
            event_type = f"{event.__class__.__module__}.{event.__class__.__name__}"
            for action in self.__agent_plan.get_actions(event_type):
                context.action_name = action.name
                func_result = action.exec(event, context)
                if isinstance(func_result, Generator):
                    try:
                        for _ in func_result:
                            pass
                    except Exception:
                        logger.exception("Error in async execution")
                        raise
        return key
</code></pre>
<h4 id="222-äºä»¶é©±å¨æ§è¡æ¨¡å">2.2.2 äºä»¶é©±å¨æ§è¡æ¨¡å</h4>
<p>å¨ Flink Agents æ¡æ¶ä¸­ï¼ä»£ççæ§è¡æ¯åºäºäºä»¶çãæ¯ä¸ªå¨ä½ (action)å¤çä¸ä¸ªäºä»¶å¹¶å¯è½äº§çæ°çäºä»¶ï¼è¿äºæ°äºä»¶åä¼è§¦åå¶ä»å¨ä½çæ§è¡ãå æ­¤éè¦ä¸ä¸ªå¾ªç¯æ¥æç»­å¤çäºä»¶éåä¸­çäºä»¶ï¼ç´å°æ²¡ææ´å¤äºä»¶éè¦å¤çã</p>
<p>è¿ç§è®¾è®¡ä½¿å¾ä»£çå¯ä»¥å¤çå¤æçãå¤æ­¥éª¤çäº¤äºè¿ç¨ï¼èä¸éè¦é¢åç¡®å®æ§è¡æ­¥éª¤çæ°éã<code>while</code> å¾ªç¯ç¡®ä¿ææç¸å³çäºä»¶é½è¢«å¤çå®æ¯ï¼å½¢æäºä¸ä¸ªå®æ´çäºä»¶å¤çé¾ï¼</p>
<ul>
<li>æç»­ä»äºä»¶éå context.events ä¸­ååºäºä»¶è¿è¡å¤ç</li>
<li>æ¯ä¸ªäºä»¶å¯è½è§¦åä¸ä¸ªæå¤ä¸ªå¨ä½çæ§è¡</li>
<li>å¨ä½æ§è¡å¯è½äº§çæ°çäºä»¶ï¼è¿äºäºä»¶è¢«æ·»å åéå</li>
</ul>
<p>éå½äºä»¶å¤çï¼</p>
<ul>
<li>åå§æ¶åªæä¸ä¸ª InputEvent</li>
<li>å¨ä½å¤ç InputEvent å¯è½äº§ç ChatRequestEvent ç­ä¸­é´äºä»¶</li>
<li>ä¸­é´äºä»¶å¯è½è§¦åå¶ä»å¨ä½ï¼äº§çæ´å¤äºä»¶</li>
<li>æç»äº§ç OutputEvent å®æå¤ç</li>
</ul>
<p>å®æ´å¤çé¾ï¼</p>
<pre><code class="language-python">InputEvent  â â   start_action  â â   ChatRequestEvent  â  â  LLMå¤ç  â â  ChatResponseEvent  â â   stop_action  â â   OutputEvent
</code></pre>
<p>å·ä½æ§è¡æµç¨</p>
<ul>
<li>
<p>åå§åï¼</p>
<ul>
<li>å°è¾å¥æ°æ®åè£æ InputEvent å¹¶æ·»å å°äºä»¶éå</li>
</ul>
</li>
<li>
<p>å¾ªç¯å¤çï¼</p>
<ul>
<li>ä»éåååºäºä»¶</li>
<li>æ ¹æ®äºä»¶ç±»åæ¾å°å¯¹åºç actions</li>
<li>æ§è¡ææçå¬è¯¥äºä»¶ç±»åçå¨ä½</li>
<li>å¨ä½å¯è½éè¿ send_event åéæ°äºä»¶å°éå</li>
</ul>
</li>
<li>
<p>ç»æ­¢æ¡ä»¶ï¼</p>
<ul>
<li>å½äºä»¶éåä¸ºç©ºæ¶ï¼å¤çå®æ</li>
</ul>
</li>
</ul>
<h4 id="223-agentplan-å-localrunner-çå³ç³»">2.2.3 AgentPlan å LocalRunner çå³ç³»</h4>
<ul>
<li>LocalRunner å¨åå§åæ¶åä½¿ç¨ AgentPlan</li>
<li>å¨æ§è¡è¿ç¨ä¸­ï¼LocalRunnerContext éè¿ AgentPlan è·åèµæºåå¨ä½</li>
<li>å¨äºä»¶å¤çä¸­æ¥æ¾å¯¹åºçå¨ä½</li>
</ul>
<p>å·ä½ä¸ºï¼LocalRunner å¨åå§åæ¶åä½¿ç¨ AgentPlan</p>
<pre><code class="language-python">class LocalRunner(AgentRunner):
    """Agent runner implementation for local execution, which is
    convenient for debugging.

    Attributes:
    ----------
    __agent_plan : AgentPlan
        Internal agent plan.
    __keyed_contexts : dict[Any, LocalRunnerContext]
        Dictionary of active contexts indexed by key.
    __outputs:
        Outputs generated by agent execution.
    __config:
        Internal configration.
    """

    __agent_plan: AgentPlan
    __keyed_contexts: Dict[Any, LocalRunnerContext]
    __outputs: List[Dict[str, Any]]
    __config: AgentConfiguration

    def __init__(self, agent: Agent, config: AgentConfiguration) -&gt; None:
        """Initialize the runner with the provided agent.

        Parameters
        ----------
        agent : Agent
            The agent class to convert and run.
        """
        self.__agent_plan = AgentPlan.from_agent(agent, config)
        self.__keyed_contexts = {}
        self.__outputs = []
        self.__config = config


</code></pre>
<p>å·ä½ä¸ºï¼å¨æ§è¡è¿ç¨ä¸­ï¼LocalRunnerContext éè¿ AgentPlan è·åèµæºåå¨ä½</p>
<pre><code class="language-python">class LocalRunnerContext(RunnerContext):
    """Implementation of RunnerContext for local agent execution.

    Attributes:
    ----------
    __agent_plan : AgentPlan
        Internal agent plan for this context.
    __key : Any
        Unique identifier for the context, correspond to the key in flink KeyedStream.
    events : deque[Event]
        Queue of events to be processed in this context.
    action_name: str
        Name of the action being executed.
    """

    __agent_plan: AgentPlan
    __key: Any
    events: deque[Event]
    action_name: str
    _store: dict[str, Any]
    _short_term_memory: MemoryObject
    _config: AgentConfiguration

    def __init__(self, agent_plan: AgentPlan, key: Any, config: AgentConfiguration) -&gt; None:
        """Initialize a new context with the given agent and key.

        Parameters
        ----------
        agent_plan : AgentPlan
            Agent plan used for this context.
        key : Any
            Unique context identifier, which is corresponding to the key in flink
            KeyedStream.
        """
        self.__agent_plan = agent_plan
        self.__key = key
        self.events = deque()
        self._store = {}
        self._short_term_memory = LocalMemoryObject(
            self._store, LocalMemoryObject.ROOT_KEY
        )
        self._config = config
        
    @override
    def get_resource(self, name: str, type: ResourceType) -&gt; Resource:
        return self.__agent_plan.get_resource(name, type)        


</code></pre>
<p>å·ä½ä¸ºï¼å¨äºä»¶å¤çä¸­æ¥æ¾å¯¹åºçå¨ä½</p>
<pre><code class="language-python">            for action in self.__agent_plan.get_actions(event_type):
                context.action_name = action.name
                func_result = action.exec(event, context) # æ§è¡
                if isinstance(func_result, Generator):
                    try:
                        for _ in func_result:
                            pass
                    except Exception:
                        logger.exception("Error in async execution")
                        raise

</code></pre>
<h4 id="224-ä¸ºä»ä¹è¦ä¸ºæ¯ç§-key-ç»´æ¤ç¬ç«çä¸ä¸æ">2.2.4 ä¸ºä»ä¹è¦ä¸ºæ¯ç§ key ç»´æ¤ç¬ç«çä¸ä¸æ</h4>
<p>å¨ LocalRunner ä¸­ï¼æ¯ç§ key é½æèªå·±ç¬ç«çä¸ä¸ææ¯ä¸ºäºæ¨¡æ Flink æµå¤çç¯å¢ä¸­ keyed state çè¡ä¸ºï¼å¹¶æ¯æç¶æéç¦»åå¹¶åå¤çã</p>
<ul>
<li><strong>ç¶æéç¦»</strong>ï¼æ¯ä¸ª key å¯¹åºçæ°æ®æµéè¦ç»´æ¤èªå·±çç¶æï¼é¿åä¸å key çæ°æ®ç¸äºå¹²æ°ï¼</li>
</ul>
<pre><code class="language-python"># ä¸å key çç¶æå®å¨éç¦»
key1_context.short_term_memory.set("user_name", "Alice")
key2_context.short_term_memory.set("user_name", "Bob")
# ä¸¤ä¸ª key æä¸åçç¶æå¼ï¼äºä¸å½±å


</code></pre>
<ul>
<li>
<p><strong>æ¨¡æ Flink ç KeyedStream è¡ä¸º</strong>ï¼å¨ Flink ä¸­ï¼å½ä½¿ç¨ <code>keyBy()</code> æä½æ¶ï¼æ¯ä¸ª key ä¼æç¬ç«çç¶æç®¡çãLocalRunner éè¿è¿ç§æ¹å¼æ¨¡æäºç¸åçè¡ä¸ºï¼</p>
<ul>
<li>ç¸å key çäºä»¶ä¼å¨åä¸ä¸ªä¸ä¸æä¸­å¤ç</li>
<li>ä¸å key çäºä»¶æ¥æåèªç¬ç«çåå­åäºä»¶éå</li>
</ul>
<p>è¿æ ·ä¿è¯äºæ¬å°è°è¯ç¯å¢ä¸å®é Flink ç¯å¢çä¸è´æ§</p>
</li>
<li>
<p><strong>æ¯æå¹¶åå¤ç</strong>ï¼è½ç¶ LocalRunner æ¯åçº¿ç¨è¿è¡çï¼ä½å®æ¨¡æäºå¤ key å¹¶åå¤ççæåµï¼</p>
</li>
<li>
<p><strong>æ¯æå¹¶åå¤ç</strong>ï¼è½ç¶ LocalRunner æ¯åçº¿ç¨è¿è¡çï¼ä½å®æ¨¡æäºå¤ key å¹¶åå¤ççæåµï¼</p>
</li>
</ul>
<pre><code class="language-python"># å¯ä»¥åæ¶å¤çå¤ä¸ª key çæ°æ®
for input_record in inputs:
    runner.run(**input_record)  # æ¯ä¸ª key æç¬ç«ä¸ä¸æ

</code></pre>
<ul>
<li>
<p><strong>äºä»¶éåéç¦»</strong>ï¼æ¯ä¸ª key é½æèªå·±çäºä»¶éåï¼eventsï¼ï¼è¿æ ·å¯ä»¥ä¿è¯ï¼</p>
<ul>
<li>åä¸ key çäºä»¶æé¡ºåºå¤ç</li>
<li>ä¸å key çäºä»¶ä¸ä¼äºç¸å½±åå¤çé¡ºåº</li>
<li>æ¯ä¸ª key å¯ä»¥ç¬ç«å°ç»´æ¤å¾å¤çäºä»¶éå</li>
</ul>
</li>
<li>
<p><strong>åå­ç¶æç®¡ç</strong>ï¼æ¯ä¸ª LocalRunnerContext é½æèªå·±çç­æè®°å¿å¯¹è±¡ï¼_short_term_memoryï¼ï¼åè®¸ï¼</p>
</li>
</ul>
<pre><code class="language-python"># æ¯ä¸ª key å¯ä»¥å­å¨åæ£ç´¢èªå·±çç¶æ
context.short_term_memory.set("step_count", 1)
context.short_term_memory.get("step_count")  # è·åè¯¥ key ç¹å®çç¶æ

</code></pre>
<h4 id="225-å®éåºç¨åºæ¯ç¤ºä¾">2.2.5 å®éåºç¨åºæ¯ç¤ºä¾</h4>
<p>èèä¸ä¸ªå®¢æ·æå¡èå¤©æºå¨äººåºç¨ï¼</p>
<pre><code class="language-python"># ç¨æ· Alice å Bob çå¯¹è¯åå«ç¨ä¸åç key å¤ç
runner.run(key="user_alice", value={"message": "Hello"})
runner.run(key="user_bob", value={"message": "Hi there"})
# æ¯ä¸ªç¨æ·çå¯¹è¯åå²åç¶æé½ç¬ç«ä¿å­
# Alice çä¸ä¸æä¸ä¼å½±å Bob çä¸ä¸æï¼åä¹äº¦ç¶

</code></pre>
<p>è¿ç§è®¾è®¡ä½¿ LocalRunner è½å¤åç¡®æ¨¡æçå®åå¸å¼ç¯å¢ä¸­çè¡ä¸ºï¼æ¹ä¾¿å¼åèå¨æ¬å°æµè¯åè°è¯å¤æçç¶æä¾èµåä»£çåºç¨ã</p>
<h3 id="23-localrunnercontext">2.3 LocalRunnerContext</h3>
<p>LocalRunnerContext æ¯ Flink Agents æ¡æ¶ä¸­ç¨äºæ¬å°æ§è¡ç¯å¢çè¿è¡ä¸ä¸æå®ç°ãå®çä¸»è¦åè½æ¯ä¸ºæ¯ä¸ª key æä¾ç¬ç«çæ§è¡ç¯å¢ï¼æ¨¡æ Flink åå¸å¼ç¯å¢ä¸­ keyed state çè¡ä¸ºï¼ç¡®ä¿äºå¨æ¬å°ç¯å¢ä¸­è½å¤åç¡®æ¨¡æåºäº key çç¶æç®¡çåäºä»¶å¤çæµç¨ã</p>
<h4 id="231-è®¾è®¡ç®ç">2.3.1 è®¾è®¡ç®ç</h4>
<p>LocalRunnerContext çè®¾è®¡ä¸»è¦æ¯ä¸ºäºï¼</p>
<ul>
<li>æ¬å°è°è¯ï¼å¨æ¬å°ç¯å¢ä¸­æ¨¡æ Flink åå¸å¼æ§è¡çè¡ä¸º</li>
<li>ç¶æéç¦»ï¼ç¡®ä¿ä¸å key çå¤çç¶æå®å¨éç¦»ï¼é¿åç¸äºå¹²æ°</li>
<li>è¡ä¸ºä¸è´æ§ï¼ä¿è¯æ¬å°æµè¯ç¯å¢ä¸å®é Flink æ§è¡ç¯å¢çè¡ä¸ºä¸è´</li>
<li>ç®åå¼åï¼æä¾ä¸çäº§ç¯å¢ç¸åç API æ¥å£ï¼æ¹ä¾¿å¼åèæµè¯åè°è¯</li>
</ul>
<h4 id="232-ä¸»è¦åè½">2.3.2 ä¸»è¦åè½</h4>
<ul>
<li>ç¶æç®¡ç
<ul>
<li>ä¸ºæ¯ä¸ª key ç»´æ¤ç¬ç«çç­æåå­ç¶æï¼_short_term_memoryï¼</li>
<li>æä¾åå­å¯¹è±¡çè¯»åæä½ï¼ç¡®ä¿ä¸å key çç¶æéç¦»</li>
</ul>
</li>
<li>äºä»¶å¤ç
<ul>
<li>ç»´æ¤æ¯ä¸ª key çäºä»¶éåï¼eventsï¼</li>
<li>æä¾ send_event æ¹æ³å°äºä»¶æ·»å å°å¤çéåä¸­</li>
<li>è®°å½äºä»¶å¤çæ¥å¿ï¼ä¾¿äºè°è¯</li>
</ul>
</li>
<li>èµæºè®¿é®
<ul>
<li>æä¾ get_resource æ¹æ³è®¿é® agent æéçèµæºï¼å¦æ¨¡åãå·¥å·ç­ï¼</li>
<li>æ ¹æ®èµæºåç§°åç±»åè·åç¸åºçèµæºå®ä¾</li>
</ul>
</li>
<li>éç½®ç®¡ç
<ul>
<li>æä¾å¯¹ action éç½®çè®¿é®ï¼action_config, get_action_config_valueï¼</li>
<li>æä¾å¨å±éç½®ä¿¡æ¯ï¼configï¼</li>
</ul>
</li>
<li>åº¦éåçæ§
<ul>
<li>æä¾åº¦éç»è®¿é®æ¥å£ï¼agent_metric_group, action_metric_groupï¼</li>
<li>ç®åå¨æ¬å°ç¯å¢ä¸­å°æªå®å¨å®ç°</li>
</ul>
</li>
<li>å¼æ­¥æ§è¡æ¯æ
<ul>
<li>æä¾ execute_async æ¹æ³æ¯æå¼æ­¥å½æ°æ§è¡</li>
<li>å¨æ¬å°ç¯å¢ä¸­éçº§ä¸ºåæ­¥æ§è¡å¹¶ç»åºè­¦å</li>
</ul>
</li>
</ul>
<h4 id="233-å®ä¹">2.3.3 å®ä¹</h4>
<pre><code class="language-java">class LocalRunnerContext(RunnerContext):
    """Implementation of RunnerContext for local agent execution.

    Attributes:
    ----------
    __agent_plan : AgentPlan
        Internal agent plan for this context.
    __key : Any
        Unique identifier for the context, correspond to the key in flink KeyedStream.
    events : deque[Event]
        Queue of events to be processed in this context.
    action_name: str
        Name of the action being executed.
    """

    __agent_plan: AgentPlan
    __key: Any
    events: deque[Event]
    action_name: str
    _store: dict[str, Any]
    _short_term_memory: MemoryObject
    _config: AgentConfiguration

    def __init__(self, agent_plan: AgentPlan, key: Any, config: AgentConfiguration) -&gt; None:
        """Initialize a new context with the given agent and key.

        Parameters
        ----------
        agent_plan : AgentPlan
            Agent plan used for this context.
        key : Any
            Unique context identifier, which is corresponding to the key in flink
            KeyedStream.
        """
        self.__agent_plan = agent_plan
        self.__key = key
        self.events = deque()
        self._store = {}
        self._short_term_memory = LocalMemoryObject(
            self._store, LocalMemoryObject.ROOT_KEY
        )
        self._config = config

    @property
    def key(self) -&gt; Any:
        """Get the unique identifier for this context.

        Returns:
        -------
        Any
            The unique identifier for this context.
        """
        return self.__key

    @override
    def send_event(self, event: Event) -&gt; None:
        """Send an event to the context's event queue and log it.

        Parameters
        ----------
        event : Event
            The event to be added to the queue.
        """
        logger.info("key: %s, send_event: %s", self.__key, event)
        self.events.append(event)

    @override
    def get_resource(self, name: str, type: ResourceType) -&gt; Resource:
        return self.__agent_plan.get_resource(name, type)

    @property
    @override
    def action_config(self) -&gt; Dict[str, Any]:
        """Get config of the action."""
        return self.__agent_plan.get_action_config(action_name=self.action_name)

    @override
    def get_action_config_value(self, key: str) -&gt; Any:
        """Get config option value of the key."""
        return self.__agent_plan.get_action_config_value(
            action_name=self.action_name, key=key
        )

    @property
    @override
    def short_term_memory(self) -&gt; MemoryObject:
        """Get the short-term memory object associated with this context.

        Returns:
        -------
        MemoryObject
            The root object of the short-term memory.
        """
        return self._short_term_memory

    @property
    @override
    def agent_metric_group(self) -&gt; MetricGroup:
        # TODO: Support metric mechanism for local agent execution.
        err_msg = "Metric mechanism is not supported for local agent execution yet."
        raise NotImplementedError(err_msg)

    @property
    @override
    def action_metric_group(self) -&gt; MetricGroup:
        # TODO: Support metric mechanism for local agent execution.
        err_msg = "Metric mechanism is not supported for local agent execution yet."
        raise NotImplementedError(err_msg)

    def execute_async(
        self,
        func: Callable[[Any], Any],
        *args: Tuple[Any, ...],
        **kwargs: Dict[str, Any],
    ) -&gt; Any:
        """Asynchronously execute the provided function. Access to memory
        is prohibited within the function.
        """
        logger.warning(
            "Local runner does not support asynchronous execution; falling back to synchronous execution."
        )
        func_result = func(*args, **kwargs)
        yield
        return func_result

    @property
    @override
    def config(self) -&gt; AgentConfiguration:
        return self._config

</code></pre>
<h2 id="0x03-remoteexecutionenvironment">0x03 RemoteExecutionEnvironment</h2>
<p><code>RemoteExecutionEnvironment</code> æ¯ Flink Agents å¯¹åç Flink <code>RemoteEnvironment</code> çå°è£ï¼éé Agent è¯­ä¹ï¼ï¼æ¯ Agentï¼æºè½ä½ï¼ä¸ Flink éç¾¤èåçæ ¸å¿è½½ä½ï¼æ ¸å¿ç®æ æ¯è®© Agent è½å¤å¨ Flink éç¾¤ä¸­å¤ç DataStream å Table ç±»åçæµå¼æ°æ®ï¼å·ä½æ¿æä»¥ä¸å³é®èè´£ï¼</p>
<ul>
<li>
<p><code>RemoteExecutionEnvironment</code> æ¯ Flink Agents å®ç° Agent è¿ç¨æ§è¡çæ ¸å¿ç¯å¢ç»ä»¶ï¼å°è£äºè¿ç¨éç¾¤è¿æ¥ãä½ä¸æäº¤ãèµæºç®¡çç­è½åï¼</p>
</li>
<li>
<p>æ ¸å¿ä»·å¼æ¯<strong>å±è½ Flink è¿ç¨æ§è¡çåºå±ç»è</strong>ï¼è®©ç¨æ·èç¦ Agent é»è¾å®ä¹ï¼èééç¾¤æä½ï¼</p>
</li>
<li>
<p>å³é®ç¹æ§æ¯å¼å®¹æ¬å°è°è¯ä¸è¿ç¨æ§è¡ï¼åæ¶éé Agent ç¹æçç¶æãäºä»¶ãèµæºéæ±ï¼æ¯ Flink Agents ä» âæ¬å°åæºâ èµ°å âåå¸å¼éç¾¤â çæ ¸å¿æ¯æã</p>
</li>
<li>
<p>æ¡¥æ¥ Agent æ¡æ¶ä¸ Flink è¿è¡æ¶ï¼å° Agent çæ§è¡é»è¾åµå¥ Flink ç StreamExecutionEnvironment/StreamTableEnvironmentï¼ä½¿ Agent è½å©ç¨ Flink çåå¸å¼è®¡ç®è½åå¤çæµå¼æ°æ®ï¼</p>
</li>
<li>
<p>æ åå Agent æ§è¡æµç¨ï¼æä¾ç»ä¸çå¥å£ï¼fromDataStream/fromTableï¼ãå¤çï¼apply Agentï¼ãè¾åºï¼toDataStream/toTableï¼æ¥å£ï¼è§è Agent å¨ Flink ä¸­çæ°æ®å¤çé¾è·¯ï¼</p>
</li>
<li>
<p>éç½®ç®¡çï¼å è½½ Flink éç¾¤ä¸­ Agent çä¸å±éç½®æä»¶ï¼config.yamlï¼ï¼ä¸º Agent æ§è¡æä¾ç¯å¢éç½®æ¯æï¼</p>
</li>
<li>
<p>æ§è¡è°åº¦ï¼æç»è§¦å Flink ä½ä¸çæ§è¡ï¼env.execute ()ï¼ï¼å®æ Agent å¤çé»è¾çåå¸å¼è¿è¡ã</p>
</li>
</ul>
<h3 id="31-æ ¸å¿ç¹è²">3.1 æ ¸å¿ç¹è²</h3>
<table>
<thead>
<tr>
<th style="text-align: center">ç¹è²ç»´åº¦</th>
<th style="text-align: center">å·ä½è¯´æ</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center">ç¯å¢ééæ§</td>
<td style="text-align: center">ä¸é¨é¢å Flink éç¾¤ç<strong>è¿ç¨æ§è¡</strong>åºæ¯è®¾è®¡ï¼ä¾èµ Flink çæµæ§è¡ç¯å¢ï¼StreamExecutionEnvironmentï¼åè¡¨ç¯å¢ï¼StreamTableEnvironmentï¼ï¼èéæ¬å°æ§è¡ï¼</td>
</tr>
<tr>
<td style="text-align: center">æ°æ®ç±»åèç¦</td>
<td style="text-align: center">ä»æ¯æ Flink åçç DataStream/Table ä½ä¸ºè¾å¥è¾åºï¼æç¡®ç¦ç¨æ¬å°åºæ¯ç List ç±»åï¼fromList/toListï¼ï¼è´´åæµå¼è®¡ç®åºæ¯ï¼</td>
</tr>
<tr>
<td style="text-align: center">åå±è®¾è®¡</td>
<td style="text-align: center">éç¨ âç¯å¢ç±»ï¼RemoteExecutionEnvironmentï¼+ æå»ºå¨ç±»ï¼RemoteAgentBuilderï¼â åå±æ¨¡å¼ï¼ç¯å¢ç±»ç®¡æ§å¨å±éç½®å Flink ç¯å¢ï¼æå»ºå¨ç±»èç¦åä¸ª Agent çæ§è¡é¾è·¯ï¼</td>
</tr>
<tr>
<td style="text-align: center">çµæ´»ç Key éæ©</td>
<td style="text-align: center">æ¯æèªå®ä¹ KeySelector å¯¹è¾å¥æ°æ®åçï¼æ èªå®ä¹ Key æ¶é»è®¤ä½¿ç¨æ°æ®èªèº«ä½ä¸º Keyï¼ééä¸åçåå¸å¼å¤çéæ±ï¼</td>
</tr>
<tr>
<td style="text-align: center">éç½®è§£è¦</td>
<td style="text-align: center">ä» Flink éç½®ç®å½å è½½ Agent ä¸å±éç½®ï¼éç½®æä»¶ä¸ä»£ç è§£è¦ï¼ä¾¿äºéç¾¤ç¯å¢ä¸çéç½®ç®¡çï¼</td>
</tr>
<tr>
<td style="text-align: center">å®¹éä¸æ ¡éª</td>
<td style="text-align: center">åå«å³é®æµç¨æ ¡éªï¼å¦è°ç¨ toDataStream åå¿é¡»å apply Agentï¼ãç©ºå¼å¤çï¼TableEnvironment æå è½½ï¼ãå¼å¸¸å°è£ï¼éç½®å è½½ / Agent æ§è¡å¼å¸¸ç»ä¸æåº RuntimeExceptionï¼ï¼</td>
</tr>
<tr>
<td style="text-align: center">è¡¨ä¸æµäºé</td>
<td style="text-align: center">æ¯æ Table ä¸ DataStream çååè½¬æ¢ï¼Table è½¬ DataStream ä½ä¸º Agent è¾å¥ãDataStream è½¬ Table ä½ä¸ºè¾åºï¼ï¼éé Flink SQL / æµå¤çååºæ¯ï¼</td>
</tr>
<tr>
<td style="text-align: center">èµæºå³è</td>
<td style="text-align: center">ä¸º Agent ç»å®è¿è¡æ¶èµæºï¼resourcesï¼ï¼ä¿é Agent æ§è¡æéçèµæºä¾èµï¼</td>
</tr>
</tbody>
</table>
<h3 id="32-ä¸åç-flink-remoteenvironment-çå¯¹æ¯">3.2 ä¸åç Flink RemoteEnvironment çå¯¹æ¯</h3>
<table>
<thead>
<tr>
<th>ç¹æ§</th>
<th>Flink åç RemoteEnvironment</th>
<th>Flink Agents RemoteExecutionEnvironment</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ ¸å¿å®ä½</td>
<td>éç¨ Flink Job çè¿ç¨æ§è¡ç¯å¢</td>
<td>Agent è¯­ä¹ä¸å±çè¿ç¨æ§è¡ç¯å¢</td>
</tr>
<tr>
<td>å°è£å±çº§</td>
<td>åºå± Flink Job æäº¤</td>
<td>ä¸å± Agent/AgentPlan æäº¤</td>
</tr>
<tr>
<td>æ ¸å¿éé</td>
<td>æ  Agent è¯­ä¹ï¼ä»å¤çéç¨ JobGraph</td>
<td>éé AgentPlan â JobGraph ç¼è¯ãAgent ç¶æç®¡ç</td>
</tr>
<tr>
<td>èµæºç®¡ç</td>
<td>éç¨ Slot / èµæºåé</td>
<td>æ Agent å®ä¾éç¦»èµæºï¼ééå·¥å· / å¨ä½èµæºéæ±</td>
</tr>
<tr>
<td>äºä»¶ / ç¶æå¤ç</td>
<td>æ åç½®äºä»¶è¯­ä¹</td>
<td>å°è£ Agent äºä»¶ï¼Eventï¼çè·¨éç¾¤ä¼ è¾ãç¶æåºåå</td>
</tr>
</tbody>
</table>
<h3 id="33-å¦ä½ä½¿ç¨-actionexecutionoperator">3.3 å¦ä½ä½¿ç¨ ActionExecutionOperator</h3>
<p>RemoteExecutionEnvironment éè¿ Python å±ç RemoteAgentBuilder.to_datastream() æ¹æ³é´æ¥ä½¿ç¨ActionExecutionOperatorï¼è¿ç¨ä¸ºï¼</p>
<ul>
<li>ç¨æ·å®ä¹äºä¸ä¸ªAgentå¹¶åºç¨å°æ§è¡ç¯å¢ä¸­</li>
<li>è°ç¨ to_datastream() æ¹æ³è§¦åå®éçæä½ç¬¦åå»º</li>
<li>éè¿ JNI è°ç¨ Java å±ç CompileUtils.connectToAgent() æ¹æ³</li>
<li>æç»å¨ Flink ä½ä¸å¾ä¸­åå»ºå¹¶éç½®  ActionExecutionOperator</li>
</ul>
<p>connectToAgent()ä¸­ä¼ï¼</p>
<ul>
<li>æ¥æ¶è¾å¥ç Java DATa Stream å¯¹è±¡</li>
<li>æ¥æ¶åºååç AgentPlanï¼åå«ææå¨ä½åèµæºéç½®ï¼</li>
<li>åå»ºå¹¶è¿æ¥ ActionExecutionOperator å°æ°æ®æµå¤çå¾ä¸­</li>
</ul>
<pre><code class="language-java">    // ============================ basic ====================================
    /**
     * Connects the given KeyedStream to the Flink Agents agent.
     *
     * &lt;p&gt;This method accepts a keyed DataStream and applies the specified agent plan to it. The
     * source of the input stream determines the data format: Java streams provide Objects, while
     * Python streams use serialized byte arrays.
     *
     * @param keyedInputStream The input keyed DataStream.
     * @param agentPlan The agent plan to be executed.
     * @param inputIsJava A flag indicating whether the input stream originates from Java. - If
     *     true, input and output types are Java Objects. - If false, input and output types are
     *     byte[].
     * @param &lt;K&gt; The type of the key used in the keyed DataStream.
     * @param &lt;IN&gt; The type of the input data (Object or byte[]).
     * @param &lt;OUT&gt; The type of the output data (Object or byte[]).
     * @return The processed DataStream as the result of the agent.
     */
    private static &lt;K, IN, OUT&gt; DataStream&lt;OUT&gt; connectToAgent(
            KeyedStream&lt;IN, K&gt; keyedInputStream,
            AgentPlan agentPlan,
            TypeInformation&lt;OUT&gt; outTypeInformation,
            boolean inputIsJava) {
        return (DataStream&lt;OUT&gt;)
                keyedInputStream
                        .transform(
                                "action-execute-operator",
                                outTypeInformation,
                                new ActionExecutionOperatorFactory(agentPlan, inputIsJava))
                        .setParallelism(keyedInputStream.getParallelism());
    }

</code></pre>
<h3 id="34-å¸åæµç¨">3.4 å¸åæµç¨</h3>
<p>å½ç¨æ·ç¼ååºäº RemoteExecutionEnvironment  çåºç¨ç¨åºæ¶ï¼å¸åæµç¨å¦ä¸ï¼</p>
<pre><code class="language-python"># è·åFlinkæ§è¡ç¯å¢
env = StreamExecutionEnvironment.get_execution_environment()
# åå»º Agent æ§è¡ç¯å¢
agent_env = AgentsExecutionEnvironment.get_execution_environment(env)
# æ·»å æéèµæº
agent_env.add_resource(...)
# è®¾ç½®è¾å¥æ°æ®æµå°Agent
input_stream = agent_env.from_Collection(input_data) 
builder = agent_env.from_datastream(input_stream)
# åºç¨ä»£çé»è¾
agent = MyCustomAgent()
builder.apply(agent) 
# æ§è¡ä»£ç
output_stream = builder.to_datastream()
env.execute()

</code></pre>
<h3 id="35-äº¤äºé»è¾">3.5 äº¤äºé»è¾</h3>
<p>RemoteExecutionEnvironmentãActionExecutionOperator å ActionTask ä¹é´çäº¤äºé»è¾å¦ä¸ã</p>
<p>è¿ä¸ä¸ªç»ä»¶å¨ Flink Agents æ¡æ¶ä¸­æ®æ¼ä¸åçè§è²ï¼ååå·¥ä½æ¥æ§è¡ Agent é»è¾ï¼</p>
<ul>
<li><strong>RemoteExecutionEnvironment</strong>ï¼æä¾è¿ç¨æ§è¡ç¯å¢ï¼è´è´£æå»ºåè¿æ¥ Agent å° Flink æ°æ®æµ</li>
<li><strong>ActionExecutionOperator</strong>ï¼Flink æµå¤çæä½ç¬¦ï¼å®éæ§è¡ Agent çå¨ä½é»è¾</li>
<li><strong>ActionTask</strong>ï¼è¡¨ç¤ºåä¸ªå¨ä½æ§è¡ä»»å¡çæ½è±¡æ¦å¿µ</li>
</ul>
<p><strong>äº¤äºæµç¨å¾è§£</strong></p>
<p><img alt="Flink-7-1" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1850883/202601/1850883-20260115214955564-366244607.png" class="lazyload"></p>
<p>è¯¦ç»äº¤äºæµç¨å¦ä¸ï¼</p>
<ol>
<li>åå§åé¶æ®µ</li>
</ol>
<p><img alt="Flink-7-2" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1850883/202601/1850883-20260115215007139-1181369561.png" class="lazyload"></p>
<ol start="2">
<li>è¿è¡æ¶äºä»¶å¤çæµç¨</li>
</ol>
<p><img alt="Flink-7-3" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1850883/202601/1850883-20260115215015416-1483566934.png" class="lazyload"></p>
<h3 id="36-å®ç°">3.6 å®ç°</h3>
<p>RemoteAgentBuilder çä»£ç å¦ä¸</p>
<pre><code class="language-python">class RemoteAgentBuilder(AgentBuilder):
    """RemoteAgentBuilder for integrating datastream/table and agent."""

    __input: DataStream
    __agent_plan: AgentPlan = None
    __output: DataStream = None
    __t_env: StreamTableEnvironment
    __config: AgentConfiguration
    __resources: Dict[ResourceType, Dict[str, Any]] = None

    def __init__(
        self,
        input: DataStream,
        config: AgentConfiguration,
        t_env: StreamTableEnvironment | None = None,
        resources: Dict[ResourceType, Dict[str, Any]] | None = None,
    ) -&gt; None:
        """Init method of RemoteAgentBuilder."""
        self.__input = input
        self.__t_env = t_env
        self.__config = config
        self.__resources = resources

    @property
    def t_env(self) -&gt; StreamTableEnvironment:
        """Get or crate table environment."""
        if self.__t_env is None:
            self.__t_env = StreamTableEnvironment.create(
                stream_execution_environment=self.__env
            )
        return self.__t_env

    def apply(self, agent: Agent) -&gt; "AgentBuilder":
        """Set agent of execution environment.

        Parameters
        ----------
        agent : Agent
            The agent user defined to run in execution environment.
        """
        if self.__agent_plan is not None:
            err_msg = "RemoteAgentBuilder doesn't support apply multiple agents yet."
            raise RuntimeError(err_msg)

        # inspect refer actions and resources from env to agent.
        for type, name_to_resource in self.__resources.items():
            agent.resources[type] = name_to_resource | agent.resources[type]

        self.__agent_plan = AgentPlan.from_agent(agent, self.__config)

        return self

    def to_datastream(self, output_type: TypeInformation | None = None) -&gt; DataStream:
        """Get output datastream of agent execution.

        Returns:
        -------
        DataStream
            Output datastream of agent execution.
        """
        if self.__agent_plan is None:
            err_msg = "Must apply agent before call to_datastream/to_table."
            raise RuntimeError(err_msg)

        # return the same output datastream when call to_datastream multiple.
        if self.__output is None:
            j_data_stream_output = invoke_method(
                None,
                "org.apache.flink.agents.runtime.CompileUtils",
                "connectToAgent",
                [
                    self.__input._j_data_stream,
                    self.__agent_plan.model_dump_json(serialize_as_any=True),
                ],
                [
                    "org.apache.flink.streaming.api.datastream.KeyedStream",
                    "java.lang.String",
                ],
            )
            output_stream = DataStream(j_data_stream_output)
            self.__output = output_stream.map(
                lambda x: cloudpickle.loads(x), output_type=output_type
            )
        return self.__output

    def to_table(self, schema: Schema, output_type: TypeInformation) -&gt; Table:
        """Get output Table of agent execution.

        Parameters
        ----------
        schema : Schema
            Indicate schema of the output table.
        output_type : TypeInformation
            Indicate schema corresponding type information.

        Returns:
        -------
        Table
            Output Table of agent execution.
        """
        return self.t_env.from_data_stream(self.to_datastream(output_type), schema)

    def to_list(self) -&gt; List[Dict[str, Any]]:
        """Get output list of agent execution.

        This method is not supported for remote execution environments.
        """
        msg = "RemoteAgentBuilder does not support to_list."
        raise NotImplementedError(msg)


</code></pre>
<p>RemoteExecutionEnvironment çä»£ç å¦ä¸ã</p>
<pre><code class="language-python">class RemoteExecutionEnvironment(AgentsExecutionEnvironment):
    """Implementation of AgentsExecutionEnvironment for execution with DataStream."""

    __env: StreamExecutionEnvironment
    __t_env: StreamTableEnvironment
    __config: AgentConfiguration

    def __init__(
        self,
        env: StreamExecutionEnvironment,
        t_env: StreamTableEnvironment | None = None,
    ) -&gt; None:
        """Init method of RemoteExecutionEnvironment."""
        super().__init__()
        self.__env = env
        self.__t_env = t_env
        self.__config = AgentConfiguration()
        self.__load_config_from_flink_conf_dir()

    @property
    def t_env(self) -&gt; StreamTableEnvironment:
        """Get or crate table environment."""
        if self.__t_env is None:
            self.__t_env = StreamTableEnvironment.create(
                stream_execution_environment=self.__env
            )
        return self.__t_env

    def get_config(self, path: str | None = None) -&gt; AgentConfiguration:
        """Get the writable configuration for flink agents.

        Returns:
        -------
        LocalConfiguration
            The configuration for flink agents.
        """
        return self.__config

    @staticmethod
    def __process_input_datastream(
        input: DataStream, key_selector: KeySelector | Callable | None = None
    ) -&gt; KeyedStream:
        if isinstance(input, KeyedStream):
            return input
        else:
            if key_selector is None:
                msg = "KeySelector must be provided."
                raise RuntimeError(msg)
            input = input.key_by(key_selector)
            return input

    def from_datastream(
        self, input: DataStream, key_selector: KeySelector | Callable | None = None
    ) -&gt; RemoteAgentBuilder:
        """Set input datastream of agent.

        Parameters
        ----------
        input : DataStream
            Receive a DataStream as input.
        key_selector : KeySelector
            Extract key from each input record, must not be None when input is
            not KeyedStream.
        """
        input = self.__process_input_datastream(input, key_selector)

        return RemoteAgentBuilder(
            input=input,
            config=self.__config,
            t_env=self.__t_env,
            resources=self.resources,
        )

    def from_table(
        self,
        input: Table,
        key_selector: KeySelector | Callable | None = None,
    ) -&gt; AgentBuilder:
        """Set input Table of agent.

        Parameters
        ----------
        input : Table
            Receive a Table as input.
        key_selector : KeySelector
            Extract key from each input record.
        """
        input = self.t_env.to_data_stream(table=input)

        input = input.map(lambda x: x, output_type=PickledBytesTypeInfo())

        input = self.__process_input_datastream(input, key_selector)
        return RemoteAgentBuilder(
            input=input,
            config=self.__config,
            t_env=self.t_env,
            resources=self.resources,
        )

    def from_list(self, input: List[Dict[str, Any]]) -&gt; "AgentsExecutionEnvironment":
        """Set input list of agent execution.

        This method is not supported for remote execution environments.
        """
        msg = "RemoteExecutionEnvironment does not support from_list."
        raise NotImplementedError(msg)

    def execute(self) -&gt; None:
        """Execute agent."""
        self.__env.execute()


    def __load_config_from_flink_conf_dir(self) -&gt; None:
        """Load agent configuration from FLINK_CONF_DIR if available."""
        flink_conf_dir = os.environ.get("FLINK_CONF_DIR")
        if flink_conf_dir is None:
            return

        # Try to find config file, with fallback to legacy name
        config_path = self.__find_config_file(flink_conf_dir)

        if config_path is None:
            logging.error(f"Config file not found in {flink_conf_dir}")
        else:
            self.__config.load_from_file(str(config_path))

    def __find_config_file(self, flink_conf_dir: str) -&gt; Path | None:
        """Find config file in the given directory, checking both new and legacy names.

        Parameters
        ----------
        flink_conf_dir : str
            Directory to search for config files.

        Returns:
        -------
        Path | None
            Path to the config file if found, None otherwise.
        """
        # Try legacy config file name first
        legacy_config_path = Path(flink_conf_dir).joinpath(_LEGACY_CONFIG_FILE_NAME)
        if legacy_config_path.exists():
            logging.warning(
                f"Using legacy config file {_LEGACY_CONFIG_FILE_NAME}"
            )
            return legacy_config_path

        # Try new config file name as fallback
        primary_config_path = Path(flink_conf_dir).joinpath(_CONFIG_FILE_NAME)
        if primary_config_path.exists():
            return primary_config_path

        return None

</code></pre>
<h2 id="0xff-åè">0xFF åè</h2>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-15 21:56">2026-01-15 21:56</span>&nbsp;
<a href="https://www.cnblogs.com/rossiXYZ">ç½è¥¿çæè</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19489355);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19489355', targetLink: 'https://www.cnblogs.com/rossiXYZ/p/19489355', title: 'ãå¤§æ°æ® &amp;amp; AIãFlink Agents æºç è§£è¯» --- (7) ---  AgentsExecutionEnvironment' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ èµæ·±ç¨åºåç½è¯å¹²è´§AIå·¥å·ææ¯ ]]></title>
    <link>https://www.cnblogs.com/cykj/p/19489286/AI</link>
    <guid>2c318b779c8aac004c5ef33dccbd0129</guid>
    <description>
    <![CDATA[ 
	<div class="postTitle">
		<h1><a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/cykj/p/19489286/AI" title="åå¸äº 2026-01-15 21:43">
    <span role="heading" aria-level="2">èµæ·±ç¨åºåç½è¯å¹²è´§AIå·¥å·ææ¯</span>
    

</a>
</h1>
	</div>
	    <div id="cnblogs_post_description" style="display: none">
        
        AIå¤§æ¨¡å
    </div>
<div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<div class="_question-wrapper_1hc3y_44">
<div class="conversation-flow-question-container _question-container_1hc3y_15">
<div class="            cs-rank            cs-enable-selection        " data-agent="{}" data-query="ææ¯ä¸ä¸ªä»äºITè¡ä¸æ°åå¹´å·¥ä½ç»éªçèµæ·±ç¨åºåï¼å¨ç«æ¶æå¸ï¼æå¯¹æ¯äºå¸é¢ä¸ææçAIãå¦ï¼Traeï¼Cursorâï¼Claude Codeï¼Kimiâï¼CodeBuddyï¼è¾è®¯ï¼ï¼éä¹çµç ï¼é¿éäºï¼ï¼DeepSeekï¼æ·±åº¦æ±ç´¢ï¼ï¼è¾è®¯åå®ï¼æ··åï¼ï¼è±åï¼å­èè·³å¨ï¼ï¼éä¹åé®ï¼é¿éï¼ï¼æ ¹æ®ä¸åçç¹æ§çæä»£ç ä½¿ç¨ç¤ºä¾ï¼å¨åå®¢ç»åè¡æ¨èã">
<div class="cs-question-bubble cs-bubble" data-show-area="" data-show-ext="{&quot;type&quot;:&quot;show&quot;,&quot;value&quot;:&quot;change_render&quot;,&quot;ori_lid&quot;:&quot;&quot;,&quot;lid&quot;:&quot;&quot;,&quot;re_rank&quot;:&quot;1&quot;,&quot;setype&quot;:&quot;csaitab&quot;,&quot;query&quot;:&quot;ææ¯ä¸ä¸ªä»äºITè¡ä¸æ°åå¹´å·¥ä½ç»éªçèµæ·±ç¨åºåï¼å¨ç«æ¶æå¸ï¼æå¯¹æ¯äºå¸é¢ä¸ææçAIãå¦ï¼Traeï¼Cursorâï¼Claude Codeï¼Kimiâï¼CodeBuddyï¼è¾è®¯ï¼ï¼éä¹çµç ï¼é¿éäºï¼ï¼DeepSeekï¼æ·±åº¦æ±ç´¢ï¼ï¼è¾è®¯åå®ï¼æ··åï¼ï¼è±åï¼å­èè·³å¨ï¼ï¼éä¹åé®ï¼é¿éï¼ï¼æ ¹æ®ä¸åçç¹æ§çæä»£ç ä½¿ç¨ç¤ºä¾ï¼å¨åå®¢ç»åè¡æ¨èã&quot;}">
<div class="                    _question-block_oagij_1                    _swiper-block_1a2le_1                                                                                c-fwb                "><span class="cs-question-pure-text "><span class="_question-line-break_oagij_5">ææ¯ä¸ä¸ªä»äºITè¡ä¸æ°åå¹´å·¥ä½ç»éªçèµæ·±ç¨åºåï¼å¨ç«æ¶æå¸ï¼æå¯¹æ¯äºå¸é¢ä¸ææçAIãå¦ï¼Traeï¼Cursorâï¼Claude Codeï¼Kimiâï¼CodeBuddyï¼è¾è®¯ï¼ï¼é</span></span></div>
<div class="                    _question-block_oagij_1                    _swiper-block_1a2le_1                                                                                c-fwb                "><span class="cs-question-pure-text "><span class="_question-line-break_oagij_5">ä¹çµç ï¼é¿éäºï¼ï¼DeepSeekï¼æ·±åº¦æ±ç´¢ï¼ï¼è¾è®¯åå®ï¼æ··åï¼ï¼è±åï¼å­èè·³å¨ï¼ï¼éä¹åé®ï¼é¿éï¼ã</span></span></div>
<div class="                    _question-block_oagij_1                    _swiper-block_1a2le_1                                                                                c-fwb                ">
<p class="marklang-paragraph">ä½ä¸ºèµæ·±æ¶æå¸ï¼æ¨å¯¹AIä»£ç å·¥å·çæ·±å¥å¯¹æ¯åæ¨èæ¯éå¸¸æä»·å¼çãä»¥ä¸æ¯å¯¹å¸é¢ä¸ä¸»æµAIä»£ç å·¥å·çç®è¦åæä¸ä½¿ç¨åºæ¯å»ºè®®ï¼ä¾æ¨å¨åå®¢ä¸­åèï¼</p>
<ol>
<li>âTraeâï¼éç¨äºå¿«éçæä»£ç çæ®µï¼éååå­¦èæå¿«éååå¼åã</li>
<li>âCursorâï¼æ¯æå®æ¶åä½åä»£ç è¡¥å¨ï¼éåå¢éå¼åç¯å¢ã</li>
<li>âClaude Codeâï¼æé¿å¤æé»è¾åæ¶æè®¾è®¡ï¼éåä¸­å¤§åé¡¹ç®ã</li>
<li>âKimiâï¼å¨ä¸­æè¯­å¢ä¸è¡¨ç°ä¼å¼ï¼éåå½åå¼åèä½¿ç¨ã</li>
<li>âCodeBuddyï¼è¾è®¯ï¼âï¼éæåº¦é«ï¼éåä¼ä¸çº§å¼åæµç¨ã</li>
<li>âéä¹çµç ï¼é¿éäºï¼âï¼æ¯æå¤è¯­è¨ï¼éåå¤è¯­è¨æ··åé¡¹ç®ã</li>
<li>âDeepSeekâï¼å¨ä»£ç çææçæ¹é¢è¡¨ç°çªåºï¼éåå¿«éè¿­ä»£ã</li>
<li>âè¾è®¯åå®ï¼æ··åï¼âï¼å¨ä¼ä¸çº§åºç¨ä¸­è¡¨ç°ç¨³å®ï¼éåå¤§åç³»ç»ã</li>
<li>âè±åï¼å­èè·³å¨ï¼âï¼éåè½»éçº§å¼ååå¿«ééªè¯ã</li>
<li>âéä¹åé®ï¼é¿éï¼âï¼ç»¼åè½åå¼ºï¼éåéç¨åºæ¯ã</li>
</ol></div>
<div class="cs-hover-menu            _menu-wrapper_14pfw_1                                    _no-margin-bottom_14pfw_48                    " data-status="COMPLETE" data-scene="" data-show-area="">
<div class="ai-entry-block" data-show-log="{&quot;component_name&quot;:&quot;markdown&quot;,&quot;aiq_intent&quot;:59,&quot;hangye_type&quot;:1}" data-click-log="{&quot;component_name&quot;:&quot;markdown&quot;,&quot;aiq_intent&quot;:59,&quot;hangye_type&quot;:1}">
<div id="1" class="cosd-markdown cos-space-mt-lg">
<div class="cosd-markdown-content cosd-markdown-content-typingall">
<div class="marklang">
<ul>
<li>Traeâï¼ä¸­å½çSOLOæ¨¡å¼âå®å¨åè´¹âï¼æ è®¢éè´¹ãæ Tokenéå¶ãæ ä½¿ç¨æ¬¡æ°çº¦æï¼æ¯æå¤ä»»å¡å¹¶è¡å¼åä¸å¯è§åé¡¹ç®ç®¡æ§ï¼ä¸ºå½åå¯ä¸å®ç°å¨åè½é¶ææ¬çAIç¼ç¨å©æã</li>
</ul>
</div>
</div>
</div>
</div>
<div class="ai-entry-block" data-show-log="{&quot;component_name&quot;:&quot;markdown&quot;,&quot;aiq_intent&quot;:59,&quot;hangye_type&quot;:1}" data-click-log="{&quot;component_name&quot;:&quot;markdown&quot;,&quot;aiq_intent&quot;:59,&quot;hangye_type&quot;:1}">
<div id="3" class="cosd-markdown cos-space-mt-lg">
<div class="cosd-markdown-content cosd-markdown-content-typingall">
<div class="marklang">
<ul>
<li>âCursorâï¼åè´¹çæä¾âæ¯æ¥50æ¬¡AIé®ç­é¢åº¦âï¼æ¯æåºç¡ä»£ç è¡¥å¨ä¸åæä»¶ä¸ä¸æçè§£ï¼Proçä¸ºæ éæ¬¡é®ç­ãå¤æä»¶ä¸ä¸æãä¸å±æ¨¡åï¼æè´¹æªå¬å¼ä½å±è®¢éå¶ã</li>
</ul>
</div>
</div>
</div>
</div>
<div class="ai-entry-block" data-show-log="{&quot;component_name&quot;:&quot;note-list&quot;,&quot;aiq_intent&quot;:59,&quot;hangye_type&quot;:1}" data-click-log="{&quot;component_name&quot;:&quot;note-list&quot;,&quot;aiq_intent&quot;:59,&quot;hangye_type&quot;:1}">
<div id="4" class="_note-list-wrapper_yrsjp_1                                    _note-list-square-wrapper_yrsjp_33 cos-space-mt-lg" data-tts-text="ä¸é¢æ¯ä¸ç»ç¬è®°" data-show-area="" data-show-ext="{&quot;value&quot;:&quot;note-list&quot;,&quot;resource_num&quot;:2,&quot;limitShowTimes&quot;:1,&quot;component_name&quot;:&quot;note-list&quot;}" data-observered="" data-no-show-log="true">
<div class="cosd-note-list">
<div>
<div class="cosd-note-list-grid-wrapper">
<div class="cosd-note-list-grid">
<div class="cosd-note-list-grid-item">
<div class="cosd-note-card">
<div class="cosd-note-card-thumbnail">&nbsp;</div>
</div>
</div>
<div class="cosd-note-list-grid-item">
<div class="cosd-note-card">
<div class="cosd-note-card-content">
<div class="cosd-note-card-author">
<div class="cos-avatar cos-avatar-md"><img src="http://gips0.baidu.com/it/u=3252066771,2422681703&amp;fm=3033&amp;app=3033&amp;f=PNG?w=200&amp;h=200" alt="å¤´å" class="cos-avatar-img"></div>
<span class="cosd-note-card-author-name">é¿éäºå¼åè</span></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="ai-entry-block" data-show-log="{&quot;component_name&quot;:&quot;markdown&quot;,&quot;aiq_intent&quot;:59,&quot;hangye_type&quot;:1}" data-click-log="{&quot;component_name&quot;:&quot;markdown&quot;,&quot;aiq_intent&quot;:59,&quot;hangye_type&quot;:1}">
<div id="5" class="cosd-markdown cos-space-mt-lg">
<div class="cosd-markdown-content cosd-markdown-content-typingall">
<div class="marklang">
<ul>
<li>âClaude Codeâï¼æ å®æ¹å¬å¼åè´¹é¢åº¦ï¼ä½éè¿éå®æ¹æ¸ éï¼å¦claudeide.netï¼å¯è·âæ¯æ¥2M Tokenâç¨éï¼å½åç¨æ·éåå©ä»£çè®¿é®ï¼å®æ¹è®¢éä»·æ ¼é«æï¼Maxè®¡å$200/æï¼ã</li>
</ul>
</div>
</div>
</div>
</div>
<div class="ai-entry-block" data-show-log="{&quot;component_name&quot;:&quot;note-list&quot;,&quot;aiq_intent&quot;:59,&quot;hangye_type&quot;:1}" data-click-log="{&quot;component_name&quot;:&quot;note-list&quot;,&quot;aiq_intent&quot;:59,&quot;hangye_type&quot;:1}">
<div id="6" class="_note-list-wrapper_yrsjp_1                                    _note-list-square-wrapper_yrsjp_33 cos-space-mt-lg" data-tts-text="ä¸é¢æ¯ä¸ç»ç¬è®°" data-show-area="" data-show-ext="{&quot;value&quot;:&quot;note-list&quot;,&quot;resource_num&quot;:2,&quot;limitShowTimes&quot;:1,&quot;component_name&quot;:&quot;note-list&quot;}" data-observered="" data-no-show-log="true">
<div class="cosd-note-list">
<div class="cosd-note-list-grid-wrapper">
<div class="cosd-note-list-grid">
<div class="cosd-note-list-grid-item">
<div class="cosd-note-card">
<div class="cosd-note-card-content">
<div class="cosd-note-card-title">AIç¼ç¨ç¥å¨:Claude Codeå®è£ä¸å½ååè´¹ä½¿ç¨(ä¿å§çº§æç¨)</div>
<div class="cosd-note-card-author"><span class="cosd-note-card-author-name">Tencentè¾è®¯ï¼è¾è®¯å®æ¹ç½ï¼</span></div>
</div>
</div>
</div>
<div class="cosd-note-list-grid-item">
<div class="cosd-note-card">
<div class="cosd-note-card-content">
<div class="cosd-note-card-title">åè´¹ä½¿ç¨Claude Code</div>
<div class="cosd-note-card-author"><span class="cosd-note-card-author-name">CSDNè½¯ä»¶å¼åç½</span></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="ai-entry-block" data-show-log="{&quot;component_name&quot;:&quot;markdown&quot;,&quot;aiq_intent&quot;:59,&quot;hangye_type&quot;:1}" data-click-log="{&quot;component_name&quot;:&quot;markdown&quot;,&quot;aiq_intent&quot;:59,&quot;hangye_type&quot;:1}">
<div id="7" class="cosd-markdown cos-space-mt-lg">
<div class="cosd-markdown-content cosd-markdown-content-typingall">
<div class="marklang">
<ul>
<li>âKimiâï¼æ°ç¨æ·æ³¨åèµ éâ15åé¢åº¦âï¼éè¿ç¡åºæµå¨å¹³å°ç³è¯·APIå¯é¥ï¼å¯è·â2000ä¸Tokenåè´¹é¢åº¦âï¼æ¯æé¿æåè´¹è°ç¨Kimi K2æ¨¡åï¼éç¨äºä»£ç çæä¸APIéæã</li>
</ul>
</div>
</div>
</div>
</div>
<div class="ai-entry-block" data-show-log="{&quot;component_name&quot;:&quot;note-list&quot;,&quot;aiq_intent&quot;:59,&quot;hangye_type&quot;:1}" data-click-log="{&quot;component_name&quot;:&quot;note-list&quot;,&quot;aiq_intent&quot;:59,&quot;hangye_type&quot;:1}">
<div id="8" class="_note-list-wrapper_yrsjp_1                                    _note-list-square-wrapper_yrsjp_33 cos-space-mt-lg" data-show-area="" data-tts-text="ä¸é¢æ¯ä¸ç»ç¬è®°" data-show-ext="{&quot;value&quot;:&quot;note-list&quot;,&quot;resource_num&quot;:2,&quot;limitShowTimes&quot;:1,&quot;component_name&quot;:&quot;note-list&quot;}" data-observered="" data-no-show-log="true">
<div class="cosd-note-list">
<div class="cosd-note-list-grid-wrapper">
<div class="cosd-note-list-grid">
<div class="cosd-note-list-grid-item">
<div class="cosd-note-card">
<div class="cosd-note-card-content">
<div class="cosd-note-card-title">åè´¹ä½¿ç¨KimiçAPIæ¥å£,kimi-free-apiçé¦</div>
<div class="cosd-note-card-author"><span class="cosd-note-card-author-name">Tencentè¾è®¯ï¼è¾è®¯å®æ¹ç½ï¼</span></div>
</div>
</div>
</div>
<div class="cosd-note-list-grid-item">
<div class="cosd-note-card">
<div class="cosd-note-card-content">
<div class="cosd-note-card-title">KIMI AIåè´¹æå¡å®æ´é¨ç½²æå:é¶ææ¬æ­å»ºä¸ªäººæºè½å©æ</div>
<div class="cosd-note-card-author"><span class="cosd-note-card-author-name">CSDNè½¯ä»¶å¼åç½</span></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="ai-entry-block" data-show-log="{&quot;component_name&quot;:&quot;markdown&quot;,&quot;aiq_intent&quot;:59,&quot;hangye_type&quot;:1}" data-click-log="{&quot;component_name&quot;:&quot;markdown&quot;,&quot;aiq_intent&quot;:59,&quot;hangye_type&quot;:1}">
<div id="9" class="cosd-markdown cos-space-mt-lg">
<div class="cosd-markdown-content cosd-markdown-content-typingall">
<div class="marklang">
<ul>
<li>âCodeBuddyâï¼âIDEå®å¨åè´¹âï¼æ¯æ¥èµ é20 Craftç§¯åç¨äºAIè¾å©ï¼æ ä¸ªäººä»è´¹è®¢éï¼ä¼ä¸çé15ä¸å/å¹´èµ·ï¼å«ç§æä»£ç åºè®­ç»ä¸å®å¨åè§æ¯æã</li>
</ul>
</div>
</div>
</div>
</div>
<div class="ai-entry-block" data-show-log="{&quot;component_name&quot;:&quot;note-list&quot;,&quot;aiq_intent&quot;:59,&quot;hangye_type&quot;:1}" data-click-log="{&quot;component_name&quot;:&quot;note-list&quot;,&quot;aiq_intent&quot;:59,&quot;hangye_type&quot;:1}">
<div id="10" class="_note-list-wrapper_yrsjp_1                                    _note-list-square-wrapper_yrsjp_33 cos-space-mt-lg" data-tts-text="ä¸é¢æ¯ä¸ç»ç¬è®°" data-show-area="" data-show-ext="{&quot;value&quot;:&quot;note-list&quot;,&quot;resource_num&quot;:2,&quot;limitShowTimes&quot;:1,&quot;component_name&quot;:&quot;note-list&quot;}" data-observered="" data-no-show-log="true">
<div class="cosd-note-list">
<div class="cosd-note-list-grid-wrapper">
<div class="cosd-note-list-grid">
<div class="cosd-note-list-grid-item">
<div class="cosd-note-card">
<div class="cosd-note-card-content">
<div class="cosd-note-card-title">éä¹çµç _æºè½ç¼ç å©æ_AIç¼ç¨ââç¨åºåå¿å¤ç¼ç¨å©å¨!</div>
<div class="cosd-note-card-author"><span class="cosd-note-card-author-name">é¿éäº.</span></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="ai-entry-block" data-show-log="{&quot;component_name&quot;:&quot;markdown&quot;,&quot;aiq_intent&quot;:59,&quot;hangye_type&quot;:1}" data-click-log="{&quot;component_name&quot;:&quot;markdown&quot;,&quot;aiq_intent&quot;:59,&quot;hangye_type&quot;:1}">
<div id="11" class="cosd-markdown cos-space-mt-lg">
<div class="cosd-markdown-content cosd-markdown-content-typingall">
<div class="marklang">
<ul>
<li>
<p class="marklang-paragraph">âéä¹çµç âï¼ä¸ªäººåºç¡çâåè´¹âï¼å±äº«â100ä¸Tokenåè´¹é¢åº¦âï¼ä¸»è´¦å·ä¸RAMå­è´¦å·å±ç¨ï¼ï¼ä¸ä¸ç49å/äººÂ·æï¼ä¼ä¸ç9.9ä¸å/å¹´èµ·ï¼æ·±åº¦ä¼åJavaå¾®æå¡ä¸é¿éäºçæã</p>
</li>
<li>
<p class="marklang-paragraph">âDeepSeekâï¼åºç¡çAPIâå®å¨åè´¹âï¼æ¯æ¥æä¾â1000ä¸Tokenéé¢âï¼ä¸ºå½åå¸åºæé«åè´¹é¢åº¦ä¹ä¸ï¼ååºå»¶è¿&lt;1.2ç§ï¼ä»£ç è¡¥å¨åç¡®çè¶Claude 3.5ã</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="ai-entry-block" data-show-log="{&quot;component_name&quot;:&quot;note-list&quot;,&quot;aiq_intent&quot;:59,&quot;hangye_type&quot;:1}" data-click-log="{&quot;component_name&quot;:&quot;note-list&quot;,&quot;aiq_intent&quot;:59,&quot;hangye_type&quot;:1}">
<div id="12" class="_note-list-wrapper_yrsjp_1                                    _note-list-square-wrapper_yrsjp_33 cos-space-mt-lg" data-tts-text="ä¸é¢æ¯ä¸ç»ç¬è®°" data-show-area="" data-show-ext="{&quot;value&quot;:&quot;note-list&quot;,&quot;resource_num&quot;:2,&quot;limitShowTimes&quot;:1,&quot;component_name&quot;:&quot;note-list&quot;}" data-observered="" data-no-show-log="true">
<div class="cosd-note-list">
<div class="cosd-note-list-grid-wrapper">
<div class="cosd-note-list-grid">
<div class="cosd-note-list-grid-item">
<div class="cosd-note-card">
<div class="cosd-note-card-content">
<div class="cosd-note-card-title">DeepSeek V3åè´¹æ¥å¥æå:è·å500ä¸Tokenå¹¶å®ç°é«æç¿»è¯åè½</div>
</div>
</div>
</div>
<div class="cosd-note-list-grid-item">
<div class="cosd-note-card">
<div class="cosd-note-card-content">
<div class="cosd-note-card-title">IdeaéæDeepSeekæå(åè´¹token)</div>
<div class="cosd-note-card-author"><span class="cosd-note-card-author-name">CSDNè½¯ä»¶å¼åç½</span></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="ai-entry-block" data-show-log="{&quot;component_name&quot;:&quot;markdown&quot;,&quot;aiq_intent&quot;:59,&quot;hangye_type&quot;:1}" data-click-log="{&quot;component_name&quot;:&quot;markdown&quot;,&quot;aiq_intent&quot;:59,&quot;hangye_type&quot;:1}">
<div id="13" class="cosd-markdown cos-space-mt-lg">
<div class="cosd-markdown-content cosd-markdown-content-typingall">
<div class="marklang">
<ul>
<li>
<p class="marklang-paragraph">âè¾è®¯åå®âï¼âæ ç¬ç«ä»£ç å©æäº§åâï¼ä½éè¿âè¾è®¯æ··åâä¸ºå°ç¨åºå¼åèæä¾â1äº¿Tokenåè´¹é¢åº¦âï¼æ··å2.0æ¨¡åï¼ï¼å±å¹³å°çº§ç®åæ¿å±ï¼éç´æ¥é¢åç¼ç åºæ¯ã</p>
</li>
<li>
<p class="marklang-paragraph">âè±åâï¼ä¸ªäººç¨æ·æ¯æ¥â5â60æ¬¡AIçæé¢åº¦âï¼èªå¨éç½®ï¼ï¼éè¿è¾¹ç¼å¤§æ¨¡åç½å³å¯ç³é¢â200ä¸â1000ä¸Tokenåè´¹é¢åº¦âï¼æ¯æä»£ç çæä¸APIè°ç¨ã</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="ai-entry-block" data-show-log="{&quot;component_name&quot;:&quot;note-list&quot;,&quot;aiq_intent&quot;:59,&quot;hangye_type&quot;:1}" data-click-log="{&quot;component_name&quot;:&quot;note-list&quot;,&quot;aiq_intent&quot;:59,&quot;hangye_type&quot;:1}">
<div id="14" class="_note-list-wrapper_yrsjp_1                                    _note-list-square-wrapper_yrsjp_33 cos-space-mt-lg" data-show-area="" data-tts-text="ä¸é¢æ¯ä¸ç»ç¬è®°" data-show-ext="{&quot;value&quot;:&quot;note-list&quot;,&quot;resource_num&quot;:2,&quot;limitShowTimes&quot;:1,&quot;component_name&quot;:&quot;note-list&quot;}" data-observered="" data-no-show-log="true">
<div class="cosd-note-list">
<div class="cosd-note-list-grid-wrapper">
<div class="cosd-note-list-grid">
<div class="cosd-note-list-grid-item">
<div class="cosd-note-card">
<div class="cosd-note-card-content">
<div class="cosd-note-card-title">è±åAIæä»¶</div>
<div class="cosd-note-card-author"><span class="cosd-note-card-author-name">å¸è½¯ç®éäº2</span></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="ai-entry-block" data-show-log="{&quot;component_name&quot;:&quot;markdown&quot;,&quot;aiq_intent&quot;:59,&quot;hangye_type&quot;:1}" data-click-log="{&quot;component_name&quot;:&quot;markdown&quot;,&quot;aiq_intent&quot;:59,&quot;hangye_type&quot;:1}">
<div id="15" class="cosd-markdown cos-space-mt-lg">
<div class="cosd-markdown-content cosd-markdown-content-typingall">
<div class="marklang">
<ul>
<li>âéä¹åé®âï¼å¼éç¾ç¼æå¡åäº«â100ä¸Tokenåè´¹é¢åº¦âï¼éç¨äºQwen-Coderç­ä¸»æµæ¨¡åï¼æéè®¡è´¹æä½0.000367å/åtokenï¼è¾å¥ï¼ï¼è¾åºåä»·0.002936å/åtokenã</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="MySignature" role="contentinfo">
    ç¨ä»£ç è¡æ¥è¡¡éå¼åè¿åº¦ï¼æ å¼äºç¨ééæ¥è¡¡éå¶é é£æºçè¿åº¦ã
</div>
<div class="clear"></div>

	<div class="postDesc">posted on 
<span id="post-date" data-last-update-days="0.0006944444444444445" data-date-updated="2026-01-15 21:44">2026-01-15 21:43</span>&nbsp;
<a href="https://www.cnblogs.com/cykj">äºèç½å¼åè</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19489286);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19489286', targetLink: 'https://www.cnblogs.com/cykj/p/19489286/AI', title: 'èµæ·±ç¨åºåç½è¯å¹²è´§AIå·¥å·ææ¯' })">ä¸¾æ¥</a>
</div>
 ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ç«ç®­ä¸å²ï¼ä¸è§å½¢ç»å¥½äºï¼åä¸å²è§å¹³åçº¿ç»å¥½äº ]]></title>
    <link>https://www.cnblogs.com/lixingqiu/p/19489203</link>
    <guid>a331ebd52285a9ff87d422d8efdf3014</guid>
    <description>
    <![CDATA[ 
	<h1 class="postTitle"><a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/lixingqiu/p/19489203" title="åå¸äº 2026-01-15 21:00">
    <span role="heading" aria-level="2">ç«ç®­ä¸å²ï¼ä¸è§å½¢ç»å¥½äºï¼åä¸å²è§å¹³åçº¿ç»å¥½äº</span>
    

</a>
</h1>
	<div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p>ç¨C++å¦ä½ç»ä¸è§å½¢åè§å¹³åçº¿å¢ï¼è¿éæä¾äºä¸ä¸ªè§£å³æ¹æ¡ï¼ä»¥ä¸æ¯ææï¼</p>
<p><img alt="2026-01-15_202900" loading="lazy" data-src="https://img2024.cnblogs.com/blog/523461/202601/523461-20260115205609500-1670474232.png" class="lazyload"></p>
<p>åçè¿C++ä»£ç ï¼</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 128, 0, 1)">/*</span><span style="color: rgba(0, 128, 0, 1)">
   æ¬ç¨åºæ¼ç¤ºäºå¦ä½ç»ä¸æ ¹è§å¹³åçº¿
</span><span style="color: rgba(0, 128, 0, 1)">*/</span><span style="color: rgba(0, 0, 0, 1)">
#include </span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">sprites.h</span><span style="color: rgba(128, 0, 0, 1)">"</span>  <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">åå«C++ç²¾çµåº </span>
Sprite rocket;       <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">å»ºç«è§è²å«rocket </span>

<span style="color: rgba(0, 0, 255, 1)">int</span> main(){        <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">ä¸»åè½å </span>
   g_screen-&gt;xygrid(<span style="color: rgba(128, 0, 128, 1)">50</span>);  <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">æ¾ç¤ºåæ æ ¼å­</span>
   Point A{-<span style="color: rgba(128, 0, 128, 1)">150</span>,-<span style="color: rgba(128, 0, 128, 1)">150</span><span style="color: rgba(0, 0, 0, 1)">};
   Point B{</span><span style="color: rgba(128, 0, 128, 1)">200</span>,<span style="color: rgba(128, 0, 128, 1)">0</span><span style="color: rgba(0, 0, 0, 1)">};
   Point C{</span><span style="color: rgba(128, 0, 128, 1)">0</span>,<span style="color: rgba(128, 0, 128, 1)">250</span><span style="color: rgba(0, 0, 0, 1)">};
   </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">è¿æ¥ä¸ä¸ªé¡¶ç¹ç»ä¸è§å½¢</span>
   rocket.pu().color(<span style="color: rgba(128, 0, 128, 1)">0</span><span style="color: rgba(0, 0, 0, 1)">).go(A).pd().go(B).go(C).go(A);
   </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">ç®åºè§ABCçå¤§å°ï¼ç¶åå¨ä¸é¢åå ä¸ªå­</span>
   <span style="color: rgba(0, 0, 255, 1)">float</span> jABC  = get_angle(A,B,C);   <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">æ±åºè§ABCçå¤§å°</span>
   std::<span style="color: rgba(0, 0, 255, 1)">string</span> s = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">è§ABCå¤§å°æ¯:</span><span style="color: rgba(128, 0, 0, 1)">"</span> +<span style="color: rgba(0, 0, 0, 1)"> std::to_string(jABC);   
   rocket.pu().go(</span><span style="color: rgba(128, 0, 128, 1)">0</span>,-<span style="color: rgba(128, 0, 128, 1)">200</span><span style="color: rgba(0, 0, 0, 1)">);
   rocket.write(s,</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">center</span><span style="color: rgba(128, 0, 0, 1)">"</span>,{<span style="color: rgba(128, 0, 0, 1)">""</span>,<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">30</span><span style="color: rgba(128, 0, 0, 1)">"</span>,<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">normal</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">});
   </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">ç»è§å¹³åçº¿ï¼åå°è¾¾Bç¹ï¼ç¶åæåCç¹ï¼å·¦è½¬è§ABCçä¸åï¼åºåï¼å°±æè§å¹³åçº¿ç»å¥½äºã</span>
   rocket.go(B).heading(C).left(jABC/<span style="color: rgba(128, 0, 128, 1)">2</span>).color(<span style="color: rgba(128, 0, 128, 1)">33</span>).pd().fd(<span style="color: rgba(128, 0, 128, 1)">300</span><span style="color: rgba(0, 0, 0, 1)">);
   </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">å»åä¸é¢å ä¸ªå­</span>
   rocket.pu().go(<span style="color: rgba(128, 0, 128, 1)">0</span>,<span style="color: rgba(128, 0, 128, 1)">300</span><span style="color: rgba(0, 0, 0, 1)">);
   std::</span><span style="color: rgba(0, 0, 255, 1)">string</span> s2 = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">C++ç²¾çµåºç»è§å¹³åçº¿</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">;
   rocket.write(s2,</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">center</span><span style="color: rgba(128, 0, 0, 1)">"</span>,{<span style="color: rgba(128, 0, 0, 1)">""</span>,<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">36</span><span style="color: rgba(128, 0, 0, 1)">"</span>,<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">normal</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">} ); 
   rocket.hide().done();  
   </span><span style="color: rgba(0, 0, 255, 1)">return</span> <span style="color: rgba(128, 0, 128, 1)">0</span><span style="color: rgba(0, 0, 0, 1)">;
}</span></pre>
</div>
<p>è¿æ®µç¨åºå¶å®æ¯ç¨ä¸ä¸ªå«âC++ç²¾çµåºâçå·¥å·åçï¼ç®çæ¯ç»ä¸ä¸ªä¸è§å½¢ï¼åç»åºè§ABCçè§å¹³åçº¿ãè¯´ç½äºï¼å°±æ¯ç»ä½ ç»å¾ï¼è¿è½åå­å±ç¤ºç»æã</p>
<p>ç¨åºé¦åç¨g_screen-&gt;xygrid(50)å½ä»¤ï¼è®©çªå£å±å¹ä¸æ¾ç¤ºä¸ä¸ªå¸¦ç½æ ¼çåæ ç³»ï¼æ¯æ ¼æ¯50åä½ï¼ï¼è¿æ ·ä½ çå¾æ¸æ¥ç¹å¨åªéã</p>
<p>ç¶åï¼ç¨åºå®ä¹äºä¸ä¸ªåæ ç¹ï¼Point è¿æ¯ç¨æ¥å®ä¹åæ ç¹çç±»ï¼å°±åintç¨æ¥å®ä¹æ´æ°ä¸æ ·ã<br>ä»£ç ä¸­è®¾ç½®äºAãBãCä¸ä¸ªç¹çåæ ï¼åå«æ¯</p>
<ul>
<li>Aç¹ï¼å¨å·¦ä¸è§å¤§æ¦ï¼-150,-150ï¼</li>
<li>Bç¹ï¼å³è¾¹ï¼200,0ï¼</li>
<li>Cç¹ï¼ä¸æ¹ï¼0,250ï¼</li>

</ul>
<p>æ¥çç¨ä¸è¡ä»£ç ï¼åå°ä¸å£°æä¸è§å½¢æ¥å¥½äºï¼è¿è¡ä»£ç æ¯ï¼</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">è¿æ¥ä¸ä¸ªé¡¶ç¹ç»ä¸è§å½¢</span>
   rocket.pu().color(<span style="color: rgba(128, 0, 128, 1)">0</span>).go(A).pd().go(B).go(C).go(A);</pre>
</div>
<p>ârocketâè¿ä¸ªè§è²ï¼å¶å®æ¯ä¸ªè½å¨çç¬ï¼åâæ¬ç¬âï¼æ¢æçº¢è²ï¼è·å°Aç¹è½ç¬ï¼è¿çç»å°Bç¹ï¼æ¥çCç¹ï¼æååå°Aç¹ï¼è¿æ ·å°±ç»åºäºä¸ä¸ªä¸è§å½¢ãä»£ç ä¸­çcolor(0)å°±æ¯è®¾ç½®ç»ç¬ä¸ºçº¢è²çææãä¸ºä»ä¹0è¡¨ç¤ºçº¢è²å¢ï¼å ä¸ºéç¨çæ¯HSVè²å½©æ¨¡å¼ï¼0è¡¨ç¤ºè²ç¸ï¼æä»¥å°±è¡¨ç¤ºäºçº¢è²ã</p>
<p><strong>æ¥çç¨åºéè¿get_angleè¿ä¸ªé­æ³å½ä»¤ç®åºäºè§ABCçå¤§å°ã</strong><br><br>å³é®æ¥äºï¼åè®©ârocketâè·å°Bç¹ï¼åè®©å®âæåâCç¹ï¼ä¹å°±æ¯é¢æè§çä¸è¾¹ãç¶åè®©å®å·¦è½¬è§ABCçä¸åï¼è§å¹³åçº¿å°±æ¯æè§åæä¸¤åççº¿ï¼ï¼åç¨æ©è²ç¬ååºå»300ä¸ªåä½ï¼è¿æ ·è§å¹³åçº¿å°±ç»åºæ¥äºã</p>
<p>æåârocketâè·å°å±å¹ä¸æ¹ï¼0,300ï¼åä¸âC++ç²¾çµåºç»è§å¹³åçº¿âå ä¸ªå­ï¼æ¼äº®å°ç»å°¾ãç¨åºæârocketâèèµ·æ¥ï¼ç»æç»é¢ã</p>
<p>è¿ç¨åºå°±æ¯ç¨ârocketâå¨ä¸ä¸ªæåæ ç½æ ¼çç»æ¿ä¸ï¼ç»åºä¸è§å½¢ï¼è®¡ç®å¹¶æ¾ç¤ºè§åº¦ï¼åç¨ä¸æ¡çº¿æè§åæä¸¤åï¼åæ¶ååºæç¤ºå­ï¼æ¼ç¤ºè§å¹³åçº¿æä¹ç»ãé»è¾æ¸æ¥ï¼æ­¥éª¤ä¸æ­¥æ­¥æ¥ï¼å®¹æçè§£ãçæ¥C++ç²¾çµåºä¸é¬¼ä¸ºä¸ä¸ªè¾å¥½çç»å¾å·¥å·ç®±åãæå½äºè§é¢å¨è¿éï¼</p>
<p><video width="320" height="240" preload="none" src="https://www.douyin.com/video/7595567708687584575"></video></p>
</div>
<div class="clear"></div>

	<div class="postDesc">posted on 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-15 21:00">2026-01-15 21:00</span>&nbsp;
<a href="https://www.cnblogs.com/lixingqiu">æå´ç</a>&nbsp;
éè¯»(<span id="post_view_count">9</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19489203);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19489203', targetLink: 'https://www.cnblogs.com/lixingqiu/p/19489203', title: 'ç«ç®­ä¸å²ï¼ä¸è§å½¢ç»å¥½äºï¼åä¸å²è§å¹³åçº¿ç»å¥½äº' })">ä¸¾æ¥</a>
</div>
 ]]>
    </description>
    </item>
        </channel>
        </rss>