<?xml version="1.0" encoding="UTF-8" ?>
    <rss version="2.0">
    <channel>
        <title><![CDATA[ ä¸»é¡µ - åå®¢å­ ]]></title>
        <link><![CDATA[ https://www.cnblogs.com/ ]]></link>
        <lastBuildDate>2026-01-06T16:22:28.860Z</lastBuildDate>
        <description><![CDATA[
        ä¸»é¡µ - åå®¢å­ RSS
    ]]></description>
        <language>zh-cn</language>
        <item>
    <title><![CDATA[ CodeSpirit-èè¯é¢çææ¹æ¡ï¼å¼æºï¼ ]]></title>
    <link>https://www.cnblogs.com/codelove/p/19419723</link>
    <guid>a98ec2e4e36d81f1a4a9514a4eb4b7c9</guid>
    <description>
    <![CDATA[ 
		<h1 class="postTitle">
			<a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/codelove/p/19419723" title="åå¸äº 2026-01-06 23:00">
    <span role="heading" aria-level="2">CodeSpirit-èè¯é¢çææ¹æ¡ï¼å¼æºï¼</span>
    

</a>

		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="1-æ¦è¿°">1. æ¦è¿°</h2>
<h3 id="11-èæ¯">1.1 èæ¯</h3>
<p>å¨èè¯ç³»ç»ä¸­ï¼å½å¤§éå­¦çåæ¶å¼å§èè¯æ¶ï¼ç³»ç»éè¦ä¸ºæ¯ä¸ªå­¦çåå»ºèè¯è®°å½ï¼<code>ExamRecord</code>ï¼åç­é¢è®°å½ï¼<code>ExamAnswerRecord</code>ï¼ãä¼ ç»ç"æéåå»º"æ¨¡å¼å¨é«å¹¶ååºæ¯ä¸å­å¨ä»¥ä¸é®é¢ï¼</p>
<ul>
<li>
<p><strong>æ§è½ç¶é¢</strong>ï¼æ¯æ¬¡å¼å§èè¯é½éè¦æ§è¡æ°æ®åºåå¥æä½ï¼ååºæ¶é´å¨ 200-500ms</p>
</li>
<li>
<p><strong>å¹¶ååå</strong>ï¼1000+ å­¦çåæ¶å¼èæ¶ï¼æ°æ®åºååæ¿å¢ï¼å¯è½å¯¼è´è¶æ¶æå¤±è´¥</p>
</li>
<li>
<p><strong>ç¨æ·ä½éª</strong>ï¼å­¦çç¹å»"å¼å§èè¯"åéè¦ç­å¾è¾é¿æ¶é´æè½è¿å¥èè¯çé¢</p>
</li>
</ul>
<p><img src="https://img2024.cnblogs.com/blog/70544/202512/70544-20251230100134756-1611981628.png" alt="image-20251229202908907" loading="lazy"></p>
<ul>
<li>Githubï¼xin-lai/CodeSpirit</li>
<li>Giteeï¼magicodes/CodeSpirit</li>
</ul>
<h3 id="12-è§£å³æ¹æ¡">1.2 è§£å³æ¹æ¡</h3>
<p><strong>èè¯è®°å½é¢çææ¹æ¡</strong>éè¿å®æ¶ä»»å¡ï¼æ¯å¤©åæ¨1ç¹ï¼æ¹éé¢çæææå·²åå¸ä¸å°æªå¼å§çèè¯çè®°å½åç­é¢è®°å½ï¼å°æ°æ®åºåå¥æä½ä»"èè¯å¼å§æ¶å»"æåå°"åæ¨ä½è´è½½æ¶æ®µ"ï¼ä»èï¼</p>
<ul>
<li>â <strong>æ§è½æå</strong>ï¼å¼å§èè¯èæ¶ä» 200-500ms éä½å° 10-50msï¼å½ä¸­é¢çæè®°å½æ¶ï¼</li>
<li>â <strong>å¹¶åä¼å</strong>ï¼æ°æ®åºåå¥åååæ£å°åæ¨ä½è´è½½æ¶æ®µï¼é¿åå½±åæ­£å¨è¿è¡çèè¯</li>
<li>â <strong>ç¨æ·ä½éª</strong>ï¼å­¦çç¹å»å¼å§åå³å»è¿å¥èè¯ï¼æ æç¥å»¶è¿</li>
<li>â <strong>æ°æ®ä¸è´æ§</strong>ï¼é¢ç®é¡ºåºé¢åç¡®å®ï¼é¿åå¹¶åå²çª</li>
</ul>
<h3 id="13-æ ¸å¿ç¹æ§">1.3 æ ¸å¿ç¹æ§</h3>
<ul>
<li><strong>å®æ¶é¢çæ</strong>ï¼æ¯å¤©åæ¨1ç¹éè¿å®æ¶ä»»å¡ç»ä¸é¢çæï¼é¿åå½±åæ­£å¨è¿è¡çèè¯</li>
<li><strong>æºè½é¢çæ</strong>ï¼ä»é¢çæç¬¬ä¸æ¬¡èè¯è®°å½ï¼<code>AttemptNumber = 1</code>ï¼ï¼åç»­èè¯å¨æåå»º</li>
<li><strong>ç¼å­ä¼å</strong>ï¼é¢çæè®°å½åå¥ç¼å­ï¼å¼å§èè¯æ¶ä¼åæ¥è¯¢ç¼å­ï¼åå°æ°æ®åºæ¥è¯¢</li>
<li><strong>æºè½æ£æµ</strong>ï¼å¼å§èè¯æ¶èªå¨æ£æµé¢çæè®°å½ï¼å½ä¸­åå¿«éå¯å¨ï¼æªå½ä¸­åå¨æåå»º</li>
<li><strong>åå¾æ¸ç</strong>ï¼å®æ¶ä»»å¡èªå¨æ¸çæªä½¿ç¨çé¢çæè®°å½ï¼é¿åæ°æ®åä½</li>
<li><strong>å®¹éæºå¶</strong>ï¼é¢çæå¤±è´¥ä¸å½±åèè¯åå¸ï¼æ°å¢å­¦çèªå¨éçº§ä¸ºå¨æåå»º</li>
</ul>
<hr>
<h2 id="2-æ¶æè®¾è®¡">2. æ¶æè®¾è®¡</h2>
<h3 id="21-ç³»ç»æ¶æå¾">2.1 ç³»ç»æ¶æå¾</h3>
<div class="mermaid">sequenceDiagram
    participant Admin as ç®¡çå
    participant Controller as ExamSettingsController
    participant Service as ExamSettingService
    participant ScheduledTask as å®æ¶é¢çæä»»å¡
    participant Cache as ç¼å­å±
    participant DB as æ°æ®åº
    participant Student as å­¦ç
    participant StartExam as CreateExamRecordAsync
    
    Note over Admin,Service: é¶æ®µ1ï¼èè¯åå¸
    Admin-&gt;&gt;Controller: åå¸èè¯
    Controller-&gt;&gt;Service: PublishExamSettingAsync
    Service-&gt;&gt;DB: æ´æ°èè¯ç¶æä¸ºPublished
    Service--&gt;&gt;Admin: è¿åæå
    
    Note over ScheduledTask,DB: é¶æ®µ2ï¼å®æ¶é¢çæï¼æ¯å¤©åæ¨1ç¹ï¼
    ScheduledTask-&gt;&gt;DB: æ¥è¯¢å·²åå¸ä¸å°æªå¼å§çèè¯
    ScheduledTask-&gt;&gt;DB: æ£æ¥æ¯å¦å·²é¢çæ
    ScheduledTask-&gt;&gt;DB: åæ¹åå»ºExamRecord(NotStarted)
    ScheduledTask-&gt;&gt;DB: æ¹éåå»ºExamAnswerRecord
    ScheduledTask-&gt;&gt;Cache: åå¥é¢çæè®°å½IDï¼è¿ææ¶é´=èè¯ç»ææ¶é´ï¼
    ScheduledTask-&gt;&gt;ScheduledTask: æå°è¯¦ç»æ¥å¿
    
    Note over Student,StartExam: é¶æ®µ3ï¼å­¦çå¼å§èè¯
    Student-&gt;&gt;StartExam: ç¹å»å¼å§èè¯
    StartExam-&gt;&gt;Cache: æ¥è¯¢é¢çæè®°å½ID
    alt ç¼å­å½ä¸­
        StartExam-&gt;&gt;DB: å è½½é¢çæè®°å½
        StartExam-&gt;&gt;DB: UPDATEç¶æä¸ºInProgress&lt;br/&gt;è®¾ç½®StartTime
        StartExam--&gt;&gt;Student: å¿«éå¯å¨(10-50ms) â
    else ç¼å­æªå½ä¸­ï¼æ°å¢å­¦çï¼
        StartExam-&gt;&gt;DB: å¨æåå»ºå®æ´è®°å½
        StartExam--&gt;&gt;Student: å¸¸è§å¯å¨(200-500ms) â ï¸
    end
    
    Note over ScheduledTask,DB: é¶æ®µ4ï¼å®æ¶æ¸çï¼æ¯å¤©åæ¨2ç¹ï¼
    ScheduledTask-&gt;&gt;DB: æ¥è¯¢å·²ç»æèè¯çNotStartedè®°å½
    ScheduledTask-&gt;&gt;DB: æ¹éå é¤æªä½¿ç¨è®°å½
    ScheduledTask-&gt;&gt;Cache: æ¸çç¸å³ç¼å­
</div><h3 id="22-æ°æ®æµè®¾è®¡">2.2 æ°æ®æµè®¾è®¡</h3>
<div class="mermaid">graph TB
    A[èè¯åå¸] --&gt; B[æ´æ°ç¶æä¸ºPublished]
    B --&gt; C[ç­å¾å®æ¶ä»»å¡æ§è¡]
    
    D["å®æ¶ä»»å¡
    æ¯å¤©åæ¨1ç¹"] --&gt; E[æ¥è¯¢å·²åå¸ä¸å°æªå¼å§çèè¯]
    E --&gt; F{æ¯å¦å·²é¢çæ?}
    F --&gt;|æ¯| G[è·³è¿è¯¥èè¯]
    F --&gt;|å¦| H[è·åå­¦çåç»åè¡¨]
    H --&gt; I[åæ¹å¤çå­¦çåè¡¨]
    I --&gt; J["åå»ºExamRecord
    Status=NotStarted"]
    J --&gt; K[åå»ºExamAnswerRecordåè¡¨]
    K --&gt; L["åå¥ç¼å­
    Key: exam:pregenerated:examId:studentId:1
    Value: recordId
    Expire: èè¯ç»ææ¶é´+1å°æ¶"]
    L --&gt; M{æ¯å¦è¿ææ¹æ¬¡?}
    M --&gt;|æ¯| I
    M --&gt;|å¦| N[é¢çæå®æ]
    
    O[å­¦çå¼å§èè¯] --&gt; P[æ¥è¯¢ç¼å­]
    P --&gt; Q{ç¼å­å½ä¸­?}
    Q --&gt;|æ¯| R[å è½½é¢çæè®°å½]
    R --&gt; S["æ´æ°ç¶æä¸ºInProgress
    è®¾ç½®StartTime"]
    S --&gt; T["å¿«éå¯å¨ â"]
    Q --&gt;|å¦| U[å¨æåå»ºè®°å½]
    U --&gt; V["å¸¸è§å¯å¨ â ï¸"]
    
    W["å®æ¶æ¸çä»»å¡
    æ¯å¤©åæ¨2ç¹"] --&gt; X[æ¥è¯¢å·²ç»æèè¯]
    X --&gt; Y[æ¥æ¾NotStartedè®°å½]
    Y --&gt; Z[æ¹éå é¤]
    Z --&gt; AA[æ¸çç¼å­]
</div><h3 id="23-æ ¸å¿ç»ä»¶">2.3 æ ¸å¿ç»ä»¶</h3>
<h4 id="231-é¢çææå¡-iexamrecordpregenerationservice">2.3.1 é¢çææå¡ (<code>IExamRecordPreGenerationService</code>)</h4>
<p><strong>èè´£</strong>ï¼</p>
<ul>
<li>æ¹éé¢çæèè¯è®°å½åç­é¢è®°å½</li>
<li>ç®¡çé¢çæç¼å­</li>
<li>æä¾ç¼å­é®çææ¹æ³</li>
</ul>
<p><strong>å³é®æ¹æ³</strong>ï¼</p>
<ul>
<li><code>PreGenerateExamRecordsAsync(long examId)</code> - ä¸ºæå®èè¯é¢çæææå­¦çè®°å½</li>
<li><code>PreGenerateBatchAsync(long examId, IEnumerable&lt;long&gt; studentIds, int attemptNumber)</code> - æ¹éé¢çææå®å­¦çè®°å½</li>
<li><code>GetPreGeneratedRecordCacheKey(long examId, long studentId, int attemptNumber)</code> - çæç¼å­é®</li>
</ul>
<h4 id="232-èè¯è®°å½æå¡-examrecordservice">2.3.2 èè¯è®°å½æå¡ (<code>ExamRecordService</code>)</h4>
<p><strong>èè´£</strong>ï¼</p>
<ul>
<li>æºè½æ£æµé¢çæè®°å½</li>
<li>å¨æåå»ºè®°å½ï¼éçº§æ¹æ¡ï¼</li>
<li>ç®¡çè®°å½ç¶æè½¬æ¢</li>
</ul>
<p><strong>å³é®æ¹æ³</strong>ï¼</p>
<ul>
<li><code>CreateExamRecordAsync(long examId, long studentId, ...)</code> - åå»ºææ¿æ´»èè¯è®°å½
<ul>
<li>ä¼åæ¥è¯¢ç¼å­è·åé¢çæè®°å½ID</li>
<li>å½ä¸­åæ´æ°ç¶æåå¼å§æ¶é´</li>
<li>æªå½ä¸­åå¨æåå»º</li>
</ul>
</li>
</ul>
<h4 id="233-ä»»å¡å¤çå¨">2.3.3 ä»»å¡å¤çå¨</h4>
<p><strong>å®æ¶é¢çæä»»å¡å¤çå¨</strong> (<code>ExamRecordScheduledPreGenerationTaskHandler</code>)ï¼</p>
<ul>
<li>å®æ¶æ§è¡ï¼æ¯å¤©åæ¨1ç¹ï¼</li>
<li>æ¥è¯¢ææå·²åå¸ä¸å°æªå¼å§çèè¯</li>
<li>æ£æ¥æ¯å¦å·²é¢çæï¼é¿åéå¤å¤ç</li>
<li>åæ¹å¤çå­¦çåè¡¨</li>
<li>è®°å½è¯¦ç»æ¥å¿</li>
</ul>
<p><strong>æå¨é¢çæä»»å¡å¤çå¨</strong> (<code>ExamRecordPreGenerationTaskHandler</code>)ï¼</p>
<ul>
<li>ç¨äºæå¨è§¦ååä¸ªèè¯çé¢çæ</li>
<li>æ¥æ¶èè¯IDåæ°</li>
<li>åæ¹å¤çå­¦çåè¡¨</li>
<li>è®°å½è¯¦ç»æ¥å¿</li>
</ul>
<p><strong>æ¸çä»»å¡å¤çå¨</strong> (<code>ExamRecordCleanupTaskHandler</code>)ï¼</p>
<ul>
<li>å®æ¶æ§è¡ï¼æ¯å¤©åæ¨2ç¹ï¼</li>
<li>æ¸çå·²ç»æèè¯çæªä½¿ç¨è®°å½</li>
<li>åæ­¥æ¸çç¼å­</li>
</ul>
<hr>
<h2 id="3-æ ¸å¿è®¾è®¡è¦ç¹">3. æ ¸å¿è®¾è®¡è¦ç¹</h2>
<h3 id="31-ç¶æç®¡ç">3.1 ç¶æç®¡ç</h3>
<h4 id="311-èè¯è®°å½ç¶ææ©å±">3.1.1 èè¯è®°å½ç¶ææ©å±</h4>
<p>æ°å¢ <code>NotStarted = 0</code> ç¶æï¼ç¨äºæ è¯é¢çæçè®°å½ï¼</p>
<pre><code class="language-csharp">public enum ExamRecordStatus
{
    NotStarted = 0,    // æªå¼å§ï¼é¢çæç¶æï¼
    InProgress = 1,    // è¿è¡ä¸­
    Submitted = 2,     // å·²æäº¤
    Graded = 3         // å·²æ¹æ¹
}
</code></pre>
<h4 id="312-ç¶æè½¬æ¢æµç¨">3.1.2 ç¶æè½¬æ¢æµç¨</h4>
<pre><code>é¢çæ â NotStarted
   â
å¼å§èè¯ â InProgress
   â
æäº¤èè¯ â Submitted
   â
æ¹æ¹å®æ â Graded
</code></pre>
<h3 id="32-ç¼å­ç­ç¥">3.2 ç¼å­ç­ç¥</h3>
<h4 id="321-ç¼å­é®è®¾è®¡">3.2.1 ç¼å­é®è®¾è®¡</h4>
<pre><code>exam:pregenerated:{examId}:{studentId}:{attemptNumber}
</code></pre>
<p><strong>ç¤ºä¾</strong>ï¼</p>
<pre><code>exam:pregenerated:123:456:1
</code></pre>
<h4 id="322-ç¼å­è¿ææ¶é´">3.2.2 ç¼å­è¿ææ¶é´</h4>
<p><strong>æ ¸å¿åå</strong>ï¼ç¼å­è¿ææ¶é´ = èè¯ç»ææ¶é´ + 1å°æ¶ç¼å²</p>
<ul>
<li>â <strong>æ­£å¸¸æåµ</strong>ï¼èè¯ç»ææ¶é´å¨æªæ¥ â è¿ææ¶é´ = ç»ææ¶é´ - å½åæ¶é´ + 1å°æ¶</li>
<li>â ï¸ <strong>å¼å¸¸æåµ</strong>ï¼èè¯å·²ç»æææ¶é´å¼å¸¸ â ä½¿ç¨é»è®¤7å¤©è¿æ</li>
</ul>
<p><strong>è®¾è®¡çç±</strong>ï¼</p>
<ul>
<li>ç¡®ä¿èè¯æé´ç¼å­å§ç»ææ</li>
<li>èè¯ç»æåä¿ç1å°æ¶ç¼å²ï¼å¤çå»¶è¿æäº¤ç­åºæ¯</li>
<li>é¿åç¼å­æ°¸ä¹å ç¨åå­</li>
</ul>
<h3 id="33-åæ¹å¤çç­ç¥">3.3 åæ¹å¤çç­ç¥</h3>
<h4 id="331-æ¹æ¬¡å¤§å°">3.3.1 æ¹æ¬¡å¤§å°</h4>
<ul>
<li><strong>é»è®¤æ¹æ¬¡å¤§å°</strong>ï¼50 åå­¦ç/æ¹</li>
<li><strong>å¯éç½®</strong>ï¼æ ¹æ®ç³»ç»æ§è½è°æ´ï¼å¸¸é <code>BATCH_SIZE</code>ï¼</li>
</ul>
<h4 id="332-æ¹æ¬¡é´å»¶è¿">3.3.2 æ¹æ¬¡é´å»¶è¿</h4>
<ul>
<li><strong>å»¶è¿æ¶é´</strong>ï¼200 æ¯«ç§ï¼å¸¸é <code>DELAY_BETWEEN_BATCHES_MS</code>ï¼</li>
<li><strong>è®¾è®¡ç®ç</strong>ï¼éå¶é¢çæéåº¦ï¼é¿åå¯¹ CPU åæ°æ®åºé æè¿å¤§åå</li>
<li><strong>æ§è¡æ¶æº</strong>ï¼æ¯å¤çå®ä¸æ¹å­¦çåï¼å»¶è¿ 200ms åå¤çä¸ä¸æ¹</li>
<li><strong>æ§è½å¹³è¡¡</strong>ï¼å¨ä¿è¯é¢çææççåæ¶ï¼ä¸å½±åç³»ç»æ­£å¸¸è¿è¡</li>
</ul>
<h4 id="333-å¼èåèªå¨åæ­¢">3.3.3 å¼èåèªå¨åæ­¢</h4>
<ul>
<li><strong>åæ­¢éå¼</strong>ï¼å¼èå 5 åéï¼å¸¸é <code>STOP_BEFORE_EXAM_START_MINUTES</code>ï¼</li>
<li><strong>æ£æµæºå¶</strong>ï¼æ¯æ¹æ¬¡å¤çåæ£æ¥å½åæ¶é´ä¸èè¯å¼å§æ¶é´çé´é</li>
<li><strong>è§¦åæ¡ä»¶</strong>ï¼å¦æè·ç¦»èè¯å¼å§æ¶é´ä¸è¶³ 5 åéï¼ç«å³åæ­¢é¢çæ</li>
<li><strong>è®¾è®¡ç®ç</strong>ï¼
<ul>
<li>é¿åå¨èè¯å³å°å¼å§æ¶è¿è¡å¤§éæ°æ®åºæä½ï¼ç¡®ä¿ç³»ç»èµæºä¼åæå¡äºå­¦çå¼è</li>
<li>åå°æ°æ®åºè´è½½ï¼æåèè¯å¼å§æ¶çç³»ç»ååºè½å</li>
</ul>
</li>
<li><strong>æ¥å¿è®°å½</strong>ï¼åæ­¢æ¶ä¼è®°å½å·²å¤çåå©ä½çå­¦çæ°é</li>
</ul>
<p><strong>ç¤ºä¾æ¥å¿</strong>ï¼</p>
<pre><code>â ï¸ è·ç¦»èè¯å¼å§æ¶é´ä¸è¶³ 5 åéï¼åæ­¢é¢çæãå·²å¤ç: 800/1000ï¼å©ä½: 200 åå­¦çæªå¤ç
</code></pre>
<h4 id="334-å¤çæµç¨">3.3.4 å¤çæµç¨</h4>
<ol>
<li>è·åææéè¦é¢çæçå­¦çIDåè¡¨</li>
<li>ææ¹æ¬¡å¤§å°ååï¼é»è®¤ 50 å/æ¹ï¼</li>
<li><strong>æ£æ¥å¼èæ¶é´</strong>ï¼å¦æè·å¼èä¸è¶³ 5 åéï¼åæ­¢é¢çæ</li>
<li>æ¯æ¹ä½¿ç¨äºå¡ä¿è¯åå­æ§</li>
<li>æ¹æ¬¡é´å»¶è¿ 200msï¼é¿åç³»ç»ååè¿å¤§</li>
<li>è®°å½æ¯æ¹æå/å¤±è´¥æ°é</li>
<li>æå°è¯¦ç»æ¥å¿ä¾¿äºè·è¸ª</li>
</ol>
<h3 id="34-å®¹éæºå¶">3.4 å®¹éæºå¶</h3>
<h4 id="341-é¢çæå¤±è´¥å¤ç">3.4.1 é¢çæå¤±è´¥å¤ç</h4>
<ul>
<li><strong>ä¸å½±ååå¸æµç¨</strong>ï¼é¢çæä»»å¡å¼æ­¥æ§è¡ï¼å¤±è´¥ä¸å½±åèè¯åå¸</li>
<li><strong>éçº§æ¹æ¡</strong>ï¼é¢çæå¤±è´¥çå­¦çï¼å¼å§èè¯æ¶èªå¨éçº§ä¸ºå¨æåå»º</li>
<li><strong>æ¥å¿è®°å½</strong>ï¼è¯¦ç»è®°å½å¤±è´¥åå åå­¦çIDï¼ä¾¿äºææ¥</li>
</ul>
<h4 id="342-æ°å¢å­¦çå¤ç">3.4.2 æ°å¢å­¦çå¤ç</h4>
<ul>
<li><strong>ä¸é¢çæ</strong>ï¼èè¯åå¸åæ°å¢çå­¦çï¼ä¸è¿è¡é¢çæ</li>
<li><strong>å¨æåå»º</strong>ï¼æ°å¢å­¦çå¼å§èè¯æ¶ï¼ä½¿ç¨å¨æåå»ºé»è¾</li>
<li><strong>æ§è½å½±å</strong>ï¼æ°å¢å­¦çæ¯ä¾éå¸¸è¾ä½ï¼&lt;5%ï¼ï¼ä¸å½±åæ´ä½æ§è½</li>
</ul>
<h3 id="35-æ°æ®è¿æ»¤">3.5 æ°æ®è¿æ»¤</h3>
<h4 id="351-çæ§çé¢è¿æ»¤">3.5.1 çæ§çé¢è¿æ»¤</h4>
<ul>
<li><strong>é»è®¤æé¤</strong>ï¼çæ§åç®¡ççé¢é»è®¤æé¤ <code>NotStarted</code> ç¶æçè®°å½</li>
<li><strong>å¯éæ¥è¯¢</strong>ï¼å¦éæ¥çé¢çæè®°å½ï¼å¯æ¾å¼æå®ç¶ææ¥è¯¢</li>
</ul>
<h4 id="352-æ¥è¯¢ä¼å">3.5.2 æ¥è¯¢ä¼å</h4>
<pre><code class="language-sql">-- é»è®¤æ¥è¯¢ï¼æé¤é¢çæè®°å½ï¼
SELECT * FROM ExamRecord 
WHERE Status != 0  -- NotStarted

-- æ¾å¼æ¥è¯¢é¢çæè®°å½
SELECT * FROM ExamRecord 
WHERE Status = 0  -- NotStarted
</code></pre>
<hr>
<h2 id="4-æ§è½ä¼å">4. æ§è½ä¼å</h2>
<h3 id="41-æ§è½ææ ">4.1 æ§è½ææ </h3>
<table>
<thead>
<tr>
<th>ææ </th>
<th>ä¼åå</th>
<th>ä¼åå</th>
<th>æå</th>
</tr>
</thead>
<tbody>
<tr>
<td>å¼å§èè¯èæ¶</td>
<td>200-500ms</td>
<td>10-50ms</td>
<td><strong>90%+</strong></td>
</tr>
<tr>
<td>æ°æ®åºåå¥åå</td>
<td>é«å³°æéä¸­</td>
<td>åæ£å°åå¸æ¶</td>
<td><strong>98%</strong></td>
</tr>
<tr>
<td>å¹¶åæ¯æè½å</td>
<td>500+</td>
<td>1000+</td>
<td><strong>2å</strong></td>
</tr>
<tr>
<td>ç¼å­å½ä¸­ç</td>
<td>-</td>
<td>&gt;85%</td>
<td>-</td>
</tr>
</tbody>
</table>
<h3 id="42-ä¼åæªæ½">4.2 ä¼åæªæ½</h3>
<h4 id="421-ç¼å­ä¼åæ¥è¯¢">4.2.1 ç¼å­ä¼åæ¥è¯¢</h4>
<ul>
<li>å¼å§èè¯æ¶ä¼åæ¥è¯¢ç¼å­ï¼å½ä¸­åç´æ¥å è½½è®°å½</li>
<li>ç¼å­æªå½ä¸­ææ¥è¯¢æ°æ®åºï¼åå°æ°æ®åºåå</li>
</ul>
<h4 id="422-æ¹éæä½">4.2.2 æ¹éæä½</h4>
<ul>
<li>é¢çææ¶ä½¿ç¨æ¹éæå¥ï¼<code>AddRangeAsync</code>ï¼</li>
<li>æ¸çæ¶ä½¿ç¨æ¹éå é¤ï¼<code>DeleteRangeAsync</code>ï¼</li>
</ul>
<h4 id="423-äºå¡ä¼å">4.2.3 äºå¡ä¼å</h4>
<ul>
<li>æ¯æ¹é¢çæä½¿ç¨ç¬ç«äºå¡ï¼é¿åå¤§äºå¡éè¡¨</li>
<li>å¼å§èè¯æ¶ä½¿ç¨åå¸å¼éï¼é²æ­¢å¹¶ååå»º</li>
</ul>
<hr>
<h2 id="5-å®æ½è¦ç¹">5. å®æ½è¦ç¹</h2>
<h3 id="51-å³é®æ¶æº">5.1 å³é®æ¶æº</h3>
<h4 id="511-é¢çæè§¦å">5.1.1 é¢çæè§¦å</h4>
<ul>
<li><strong>è§¦åæ¶æº</strong>ï¼å®æ¶ä»»å¡ï¼æ¯å¤©åæ¨1ç¹ï¼</li>
<li><strong>æ§è¡æ¹å¼</strong>ï¼å®æ¶ä»»å¡ç»ä¸æ§è¡ï¼é¿åå½±åæ­£å¨è¿è¡çèè¯</li>
<li><strong>æ§è¡èå´</strong>ï¼
<ul>
<li>ä»é¢çæå·²åå¸ä¸å°æªå¼å§çèè¯ï¼<code>Status = Published</code> AND <code>StartTime &gt; å½åæ¶é´</code>ï¼</li>
<li>ä»é¢çæç¬¬ä¸æ¬¡èè¯è®°å½ï¼<code>AttemptNumber = 1</code>ï¼</li>
<li>èªå¨è·³è¿å·²é¢çæçèè¯ï¼é¿åéå¤å¤ç</li>
</ul>
</li>
</ul>
<h4 id="512-æ¸çè§¦å">5.1.2 æ¸çè§¦å</h4>
<ul>
<li><strong>è§¦åæ¶æº</strong>ï¼å®æ¶ä»»å¡ï¼æ¯å¤©åæ¨2ç¹ï¼</li>
<li><strong>æ¸çæ¡ä»¶</strong>ï¼
<ul>
<li>èè¯å·²ç»æï¼<code>EndTime &lt; å½åæ¶é´</code>ï¼</li>
<li>è®°å½ç¶æä¸º <code>NotStarted</code></li>
<li>åå»ºæ¶é´æ©äºéå¼ï¼é»è®¤7å¤©åï¼</li>
</ul>
</li>
</ul>
<h3 id="52-æ¥å¿è®°å½">5.2 æ¥å¿è®°å½</h3>
<h4 id="521-å®æ¶é¢çææ¥å¿">5.2.1 å®æ¶é¢çææ¥å¿</h4>
<pre><code>[INFO] ========================================
[INFO] èè¯è®°å½å®æ¶é¢çæä»»å¡å¼å§æ§è¡
[INFO] ========================================
[INFO] æ¾å° 3 ä¸ªå·²åå¸ä¸å°æªå¼å§çèè¯
[INFO] èè¯ 123 (æ°å­¦ææ«èè¯) å·²é¢çæï¼è·³è¿
[INFO] å¼å§ä¸ºèè¯ 456 (è±è¯­ææ«èè¯) é¢çæè®°å½
[INFO] è·åå° 1000 åå­¦çéè¦é¢çæè®°å½
[INFO] å¼å§åæ¹é¢çæï¼æ¯æ¹ 50 åå­¦çï¼å± 20 æ¹ï¼æ¹æ¬¡é´å»¶è¿ 200ms
[INFO] ç¬¬ 1/20 æ¹å®æï¼æå 50ï¼å¤±è´¥ 0
...
[WARN] â ï¸ è·ç¦»èè¯å¼å§æ¶é´ä¸è¶³ 5 åéï¼åæ­¢é¢çæãå·²å¤ç: 800/1000ï¼å©ä½: 200 åå­¦çæªå¤ç
[INFO] èè¯ 456 é¢çæå®æ - æå: 798, è·³è¿: 200
[INFO] å®æ¶é¢çæå®æ - æ»è®¡: 3, æå: 2, è·³è¿: 1, å¤±è´¥: 0
[INFO] ========================================
</code></pre>
<h4 id="522-å¼å§èè¯æ¥å¿">5.2.2 å¼å§èè¯æ¥å¿</h4>
<pre><code>[INFO] â å½ä¸­é¢çæè®°å½ï¼å¿«éå¯å¨ï¼èè¯ID=123, å­¦çID=456, è®°å½ID=789
[WARN] â ï¸ æªå½ä¸­é¢çæè®°å½ï¼æ§è¡å¨æåå»ºï¼èè¯ID=123, å­¦çID=999
</code></pre>
<h3 id="53-éç½®è¯´æ">5.3 éç½®è¯´æ</h3>
<h4 id="531-é¢çææ§è½æ§å¶åæ°">5.3.1 é¢çææ§è½æ§å¶åæ°</h4>
<p>ä»¥ä¸éç½®åæ°å¨ <code>ExamRecordPreGenerationService.cs</code> ä¸­ä»¥å¸¸éå½¢å¼å®ä¹ï¼</p>
<table>
<thead>
<tr>
<th>åæ°</th>
<th>é»è®¤å¼</th>
<th>è¯´æ</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>BATCH_SIZE</code></td>
<td>50</td>
<td>æ¯æ¹æ¬¡å¤ççå­¦çæ°é</td>
</tr>
<tr>
<td><code>DELAY_BETWEEN_BATCHES_MS</code></td>
<td>200ms</td>
<td>æ¹æ¬¡é´å»¶è¿æ¶é´ï¼é¿åç³»ç»ååè¿å¤§</td>
</tr>
<tr>
<td><code>STOP_BEFORE_EXAM_START_MINUTES</code></td>
<td>5åé</td>
<td>å¼èåå¤ä¹åæ­¢é¢çæï¼ç¡®ä¿ç³»ç»èµæºä¼åæå¡äºèè¯</td>
</tr>
</tbody>
</table>
<p><strong>è°æ´å»ºè®®</strong>ï¼</p>
<ul>
<li><strong>æ¹æ¬¡å¤§å°</strong>ï¼æ ¹æ®æ°æ®åºæ§è½è°æ´ï¼æ§è½è¾å¥½çç³»ç»å¯å¢å¤§å° 100</li>
<li><strong>æ¹æ¬¡å»¶è¿</strong>ï¼å¦æç³»ç»è´è½½é«ï¼å¯å¢å å° 500msï¼è´è½½ä½å¯åå°å° 100ms</li>
<li><strong>åæ­¢éå¼</strong>ï¼å»ºè®®ä¿æ 5 åéï¼ç¡®ä¿èè¯å¼å§åç³»ç»ç¨³å®</li>
</ul>
<h4 id="532-å®æ¶ä»»å¡éç½®">5.3.2 å®æ¶ä»»å¡éç½®</h4>
<pre><code class="language-json">{
  "ScheduledTasks": {
    "Tasks": [
      {
        "Id": "exam-record-scheduled-pregeneration",
        "Name": "èè¯è®°å½å®æ¶é¢çæ",
        "Description": "æ¯å¤©åæ¨1ç¹ä¸ºææå·²åå¸ä¸å°æªå¼å§çèè¯é¢çæè®°å½",
        "Type": "Cron",
        "CronExpression": "0 0 1 * * *",
        "HandlerType": "CodeSpirit.ExamApi.Tasks.ExamRecordScheduledPreGenerationTaskHandler",
        "Timeout": "00:30:00",
        "Enabled": true
      },
      {
        "Id": "exam-record-cleanup",
        "Name": "èè¯è®°å½åå¾æ°æ®æ¸ç",
        "Description": "æ¸çæªä½¿ç¨çé¢çæèè¯è®°å½",
        "HandlerType": "CodeSpirit.ExamApi.Tasks.ExamRecordCleanupTaskHandler",
        "CronExpression": "0 0 2 * * *",
        "Parameters": "{\"cleanupDays\": 7}",
        "Enabled": true
      }
    ]
  }
}
</code></pre>
<p><strong>Cronè¡¨è¾¾å¼è¯´æ</strong>ï¼</p>
<ul>
<li><code>0 0 1 * * *</code> è¡¨ç¤ºæ¯å¤©åæ¨1ç¹æ§è¡ï¼é¢çæä»»å¡ï¼</li>
<li><code>0 0 2 * * *</code> è¡¨ç¤ºæ¯å¤©åæ¨2ç¹æ§è¡ï¼æ¸çä»»å¡ï¼</li>
</ul>
<hr>
<h2 id="6-æ³¨æäºé¡¹">6. æ³¨æäºé¡¹</h2>
<h3 id="61-æ°æ®ä¸è´æ§">6.1 æ°æ®ä¸è´æ§</h3>
<ul>
<li>â <strong>é¢ç®é¡ºåº</strong>ï¼é¢çææ¶ç¡®å®é¢ç®é¡ºåºï¼é¿åå¹¶åå²çª</li>
<li>â <strong>äºå¡ä¿è¯</strong>ï¼æ¯æ¹é¢çæä½¿ç¨äºå¡ï¼ä¿è¯åå­æ§</li>
<li>â <strong>åå¸å¼é</strong>ï¼å¼å§èè¯æ¶ä½¿ç¨åå¸å¼éï¼é²æ­¢éå¤åå»º</li>
</ul>
<h3 id="62-ç¼å­ä¸è´æ§">6.2 ç¼å­ä¸è´æ§</h3>
<ul>
<li>â <strong>åå¥æ¶æº</strong>ï¼é¢çæå®æåç«å³åå¥ç¼å­</li>
<li>â <strong>æ´æ°æ¶æº</strong>ï¼å¼å§èè¯æ¶æ¸é¤é¢çæç¼å­</li>
<li>â <strong>æ¸çæ¶æº</strong>ï¼å®æ¶æ¸çä»»å¡åæ­¥æ¸çç¼å­</li>
</ul>
<h3 id="63-çæ§å»ºè®®">6.3 çæ§å»ºè®®</h3>
<ul>
<li>ð <strong>é¢çææåç</strong>ï¼çæ§é¢çæä»»å¡çæå/å¤±è´¥æ¯ä¾</li>
<li>ð <strong>ç¼å­å½ä¸­ç</strong>ï¼çæ§å¼å§èè¯æ¶çç¼å­å½ä¸­ç</li>
<li>ð <strong>æ¸çææ</strong>ï¼çæ§å®æ¶æ¸çä»»å¡å é¤çè®°å½æ°é</li>
<li>ð <strong>æ§è½ææ </strong>ï¼çæ§å¼å§èè¯çååºæ¶é´åå¸</li>
<li>ð <strong>æååæ­¢æåµ</strong>ï¼çæ§é¢çæä»»å¡æ¯å¦å æ¥è¿å¼èæ¶é´èæååæ­¢ï¼å¦é¢ç¹åçåºèèæååå¸èè¯</li>
<li>ð <strong>ç³»ç»è´è½½</strong>ï¼çæ§é¢çæè¿ç¨ä¸­ç CPU åæ°æ®åºè´è½½ï¼å¿è¦æ¶è°æ´æ¹æ¬¡å¤§å°åå»¶è¿æ¶é´</li>
</ul>
<h3 id="64-æ©å±æ§èè">6.4 æ©å±æ§èè</h3>
<ul>
<li>ð <strong>å¤æ°æ®åºæ¯æ</strong>ï¼é¢çæé»è¾ä¸æ°æ®åºç±»åæ å³ï¼æ¯æSQL ServeråMySQL</li>
<li>ð <strong>æ°´å¹³æ©å±</strong>ï¼é¢çæä»»å¡å¯åå¸å¼æ§è¡ï¼æ¯æå¤å®ä¾é¨ç½²</li>
<li>ð <strong>éç½®å</strong>ï¼æ¹æ¬¡å¤§å°ãæ¹æ¬¡å»¶è¿ãåæ­¢éå¼ç­åæ°å¯éç½®ï¼ä¾¿äºè°ä¼</li>
</ul>
<h3 id="65-æ§è½è°ä¼å»ºè®®">6.5 æ§è½è°ä¼å»ºè®®</h3>
<h4 id="651-æ¹æ¬¡å¤§å°è°ä¼">6.5.1 æ¹æ¬¡å¤§å°è°ä¼</h4>
<ul>
<li><strong>å°è§æ¨¡èè¯ï¼&lt;500äººï¼</strong>ï¼æ¹æ¬¡å¤§å°å¯è®¾ä¸º 100ï¼å¿«éå®æé¢çæ</li>
<li><strong>å¤§è§æ¨¡èè¯ï¼&gt;1000äººï¼</strong>ï¼ä¿æé»è®¤ 50ï¼é¿ååæ¹æ¬¡èæ¶è¿é¿</li>
<li><strong>è¶å¤§è§æ¨¡ï¼&gt;5000äººï¼</strong>ï¼å¯åå°å° 30ï¼éåæ´é¿çæ¹æ¬¡å»¶è¿ï¼500msï¼</li>
</ul>
<h4 id="652-åå¸æ¶æºå»ºè®®">6.5.2 åå¸æ¶æºå»ºè®®</h4>
<ul>
<li><strong>æ¨è</strong>ï¼èè¯å¼å§åè³å° 1 å¤©åå¸ï¼ç¡®ä¿å¨æ¬¡æ¥åæ¨1ç¹å®æé¢çæ</li>
<li><strong>æä½è¦æ±</strong>ï¼èè¯å¼å§åè³å° 1 å°æ¶åå¸ï¼å¦æåå¸æ¶é´æäºåæ¨1ç¹ï¼é¢çæå°å¨ä¸ä¸ä¸ªåæ¨1ç¹æ§è¡ï¼</li>
<li><strong>æ³¨æäºé¡¹</strong>ï¼
<ul>
<li>é¢çæä»»å¡å¨æ¯å¤©åæ¨1ç¹ç»ä¸æ§è¡ï¼ä¸ä¼å¨åå¸æ¶ç«å³æ§è¡</li>
<li>å¦æèè¯å¨åæ¨1ç¹ä¹ååå¸ä¸å½å¤©å¼èï¼é¦æ¹å­¦çä¼ä½¿ç¨å¨æåå»ºæ¨¡å¼ï¼æ§è½ç¥å·®ï¼</li>
<li>å»ºè®®æååå¸èè¯ï¼ä»¥ä¾¿äº«åé¢çæå¸¦æ¥çæ§è½ä¼å</li>
</ul>
</li>
</ul>
<h4 id="653-ç³»ç»è´è½½æ§å¶">6.5.3 ç³»ç»è´è½½æ§å¶</h4>
<ul>
<li><strong>é«è´è½½æ¶æ®µ</strong>ï¼å¢å æ¹æ¬¡å»¶è¿å° 500msï¼åå°å¯¹æ­£å¨è¿è¡çèè¯çå½±å</li>
<li><strong>ä½è´è½½æ¶æ®µ</strong>ï¼å¯åå°æ¹æ¬¡å»¶è¿å° 100msï¼å å¿«é¢çæéåº¦</li>
<li><strong>çæ§ææ </strong>ï¼CPU ä½¿ç¨ç &gt; 70% ææ°æ®åºè¿æ¥æ° &gt; 80% æ¶ï¼åºè°æ´åæ°</li>
</ul>
<hr>
<h2 id="7-æµè¯éªè¯">7. æµè¯éªè¯</h2>
<h3 id="71-åè½éªè¯">7.1 åè½éªè¯</h3>
<ol>
<li>
<p><strong>é¢çæåè½</strong></p>
<ul>
<li>â åå¸èè¯åæ£æ¥åå°æ¥å¿ï¼ç¡®è®¤é¢çæä»»å¡æ§è¡</li>
<li>â æ¥è¯¢æ°æ®åºï¼éªè¯è®°å½å·²åå»ºä¸ç¶æä¸º <code>NotStarted</code></li>
<li>â éªè¯ç¼å­ä¸­å·²åå¥é¢çæè®°å½ID</li>
</ul>
</li>
<li>
<p><strong>æºè½å¯å¨</strong></p>
<ul>
<li>â å­¦çå¼å§èè¯ï¼æ£æ¥æ¯å¦å½ä¸­é¢çæè®°å½</li>
<li>â æµéå¯å¨èæ¶ï¼åºéä½å° 10-50msï¼</li>
<li>â éªè¯é¢ç®é¡ºåºæ­£ç¡®</li>
</ul>
</li>
<li>
<p><strong>å¨æè¡¥å</strong></p>
<ul>
<li>â åå¸åæ°å¢å­¦çå°åç»</li>
<li>â è¯¥å­¦çå¼å§èè¯ï¼éªè¯å¨æåå»ºé»è¾</li>
</ul>
</li>
<li>
<p><strong>åå¾æ¸ç</strong></p>
<ul>
<li>â ç­å¾å®æ¶ä»»å¡æ§è¡ï¼ææå¨è§¦åï¼</li>
<li>â æ£æ¥æ¥å¿åæ°æ®åºï¼ç¡®è®¤åå¾æ°æ®è¢«æ¸ç</li>
</ul>
</li>
</ol>
<h3 id="72-æ§è½æµè¯">7.2 æ§è½æµè¯</h3>
<ul>
<li>ð <strong>å¹¶åååæµè¯</strong>ï¼æ¨¡æ1000å­¦çåæ¶å¼è</li>
<li>ð <strong>å¯¹æ¯æµè¯</strong>ï¼å¯¹æ¯é¢çæååçæ°æ®åºåååååºæ¶é´</li>
<li>ð <strong>ç¼å­å½ä¸­çæµè¯</strong>ï¼ç»è®¡ä¸ååºæ¯ä¸çç¼å­å½ä¸­ç</li>
</ul>
<hr>
<h2 id="8-æ»ç»">8. æ»ç»</h2>
<p>èè¯è®°å½é¢çææ¹æ¡éè¿<strong>æååå»º</strong>å<strong>ç¼å­ä¼å</strong>ä¸¤å¤§æ ¸å¿ç­ç¥ï¼æ¾èæåäºç³»ç»å¨é«å¹¶ååºæ¯ä¸çæ§è½åç¨æ·ä½éªãæ¹æ¡è®¾è®¡ååèèäºå®¹éãæ©å±æ§åå¯ç»´æ¤æ§ï¼æ¯ä¸ä¸ª<strong>çäº§çº§</strong>çä¼åæ¹æ¡ã</p>
<h3 id="81-æ ¸å¿ä»·å¼">8.1 æ ¸å¿ä»·å¼</h3>
<ul>
<li>ð <strong>æ§è½æå</strong>ï¼å¼å§èè¯èæ¶éä½ 90%+</li>
<li>ðª <strong>å¹¶åä¼å</strong>ï¼æ°æ®åºååéä½ 98%</li>
<li>ð <strong>ç¨æ·ä½éª</strong>ï¼æ æç¥å»¶è¿ï¼å³å»è¿å¥èè¯</li>
<li>ð <strong>æ°æ®ä¸è´æ§</strong>ï¼é¢ç®é¡ºåºé¢åç¡®å®ï¼é¿åå²çª</li>
</ul>
<h3 id="82-éç¨åºæ¯">8.2 éç¨åºæ¯</h3>
<ul>
<li>â å¤§è§æ¨¡èè¯ï¼1000+ å­¦çï¼</li>
<li>â é«å¹¶åå¼èåºæ¯</li>
<li>â å¯¹ååºæ¶é´ææçåºç¨</li>
<li>â éè¦æåç¨æ·ä½éªçåºæ¯</li>
</ul>

</div>
<div id="MySignature" role="contentinfo">
    ä½èï¼<a href="http://www.cnblogs.com/codelove/" target="_blank">éªé</a><br>åºå¤ï¼<a href="http://www.cnblogs.com/codelove/" target="_blank">http://www.cnblogs.com/codelove/</a>
<br>å¦æåæ¬¢ä½èçæç« ï¼è¯·å³æ³¨ãCodeSpirit-ç çµãå¬ä¼å·ä»¥ä¾¿ç¬¬ä¸æ¶é´è·å¾ææ°åå®¹ãæ¬æçæå½ä½èææï¼æ¬¢è¿è½¬è½½ï¼ä½æªç»ä½èåæå¿é¡»ä¿çæ­¤æ®µå£°æï¼ä¸å¨æç« é¡µé¢ææ¾ä½ç½®ç»åºåæè¿æ¥ï¼å¦åä¿çè¿½ç©¶æ³å¾è´£ä»»çæå©ã<br><b>éå¬é¸è¯­è±é¦ï¼æ¼«èµäºå·äºèã</b>
<br>
<img src="https://images.cnblogs.com/cnblogs_com/codelove/315887/o_251224070213_%E5%85%AC%E4%BC%97%E5%8F%B7.jpg" width="100" height="100">
</div>
<div class="clear"></div>

		</div>
		<div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-06 23:01">2026-01-06 23:00</span>&nbsp;
<a href="https://www.cnblogs.com/codelove">éªé</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19419723);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19419723', targetLink: 'https://www.cnblogs.com/codelove/p/19419723', title: 'CodeSpirit-èè¯é¢çææ¹æ¡ï¼å¼æºï¼' })">ä¸¾æ¥</a>
</div>
	 ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨äºï¼èªç¶è¯­è¨å¤ç  ç¬¬ä¸å¨ï¼å¾ªç¯ç¥ç»ç½ç» ï¼äºï¼å¾ªç¯ç¥ç»ç½ç» ]]></title>
    <link>https://www.cnblogs.com/Goblinscholar/p/19449622</link>
    <guid>0da244c276f569724c463ace69095fb9</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/Goblinscholar/p/19449622" title="åå¸äº 2026-01-06 22:53">
    <span role="heading" aria-level="2">å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨äºï¼èªç¶è¯­è¨å¤ç  ç¬¬ä¸å¨ï¼å¾ªç¯ç¥ç»ç½ç» ï¼äºï¼å¾ªç¯ç¥ç»ç½ç»</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>æ­¤åç±»ç¨äºè®°å½å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨çå­¦ä¹ ç¬è®°ã<br>
è¯¾ç¨ç¸å³ä¿¡æ¯é¾æ¥å¦ä¸ï¼</p>
<ol>
<li>åè¯¾ç¨è§é¢é¾æ¥ï¼<a href="https://www.bilibili.com/video/BV1FT4y1E74V?buvid=XU762317353676D786954061C192FE625463B&amp;from_spmid=playlist.playlist-detail.0.0&amp;is_story_h5=false&amp;mid=zqernykrmpf7XfIorMR%2FnA%3D%3D&amp;plat_id=116&amp;share_from=ugc&amp;share_medium=android&amp;share_plat=android&amp;share_session_id=ce0bc526-db69-428a-962e-c65ed8c267bc&amp;share_source=COPY&amp;share_tag=s_i&amp;spmid=united.player-video-detail.0.0&amp;timestamp=1713085655&amp;unique_k=DfBgvFW&amp;up_id=8654113&amp;vd_source=e035e9878d32f414b4354b839a4c31a4" target="_blank" rel="noopener nofollow">[åè¯­å­å¹]å´æ©è¾¾æ·±åº¦å­¦ä¹ deeplearning.ai</a></li>
<li>githubè¯¾ç¨èµæï¼å«è¯¾ä»¶ä¸ç¬è®°:<a href="https://github.com/robbertliu/deeplearning.ai-andrewNG" target="_blank" rel="noopener nofollow">å´æ©è¾¾æ·±åº¦å­¦ä¹ æå­¦èµæ</a></li>
<li>è¯¾ç¨éå¥ç»ä¹ ï¼ä¸­è±ï¼ä¸ç­æ¡ï¼<a href="https://blog.csdn.net/u013733326/article/details/79827273" target="_blank" rel="noopener nofollow">å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾åä¹ é¢ä¸ç­æ¡</a></li>
</ol>
<p>æ¬ç¯ä¸ºç¬¬äºè¯¾çç¬¬ä¸å¨åå®¹ï¼<a href="https://www.bilibili.com/video/BV1FT4y1E74V?spm_id_from=333.788.videopod.episodes&amp;vd_source=e035e9878d32f414b4354b839a4c31a4&amp;p=152" target="_blank" rel="noopener nofollow">1.2</a>å°<a href="https://www.bilibili.com/video/BV1FT4y1E74V?spm_id_from=333.788.player.switch&amp;vd_source=e035e9878d32f414b4354b839a4c31a4&amp;p=154" target="_blank" rel="noopener nofollow">1.4</a>çåå®¹ã</p>
<hr>
<p>æ¬å¨ä¸ºç¬¬äºè¯¾çç¬¬ä¸å¨åå®¹ï¼ä¸ CV ç¸å¯¹åºçï¼è¿ä¸è¯¾ææåå®¹çä¸­å¿åªæä¸ä¸ªï¼<strong>èªç¶è¯­è¨å¤çï¼Natural Language Processingï¼NLPï¼</strong>ã<br>
åºç¨å¨æ·±åº¦å­¦ä¹ éï¼å®æ¯ä¸é¨ç¨æ¥è¿è¡<strong>ææ¬ä¸åºåä¿¡æ¯å»ºæ¨¡</strong>çæ¨¡ååææ¯ï¼æ¬è´¨ä¸æ¯å¨å¨è¿æ¥ç½ç»ä¸ç»è®¡è¯­è¨æ¨¡ååºç¡ä¸çä¸æ¬¡âç»æåç¹åâï¼ä¹æ¯äººå·¥æºè½ä¸­<strong>æè´´è¿äººç±»æç»´è¡¨è¾¾æ¹å¼</strong>çéè¦ç ç©¶æ¹åä¹ä¸ã<br>
<strong>è¿ä¸æ´èè¯¾åæ ·æ¶åå¤§ééè¦åå¤æ¶åçåå®¹ï¼æ¨ªè·¨æºå¨å­¦ä¹ ãæ¦çç»è®¡ãçº¿æ§ä»£æ°ä»¥åè¯­è¨å­¦ç´è§ã</strong><br>
è¯­è¨ä¸åå¾åé£æ ·âç´è§å¯è§âï¼æ´å¤æ¯æ½è±¡ç¬¦å·ä¸ä¸ä¸æå³ç³»çç»åï¼å æ­¤<strong>çè§£é¨æ§åèæ´é«</strong>ã<br>
å æ­¤ï¼æåæ ·ä¼å°½éè¡¥è¶³å¿è¦çèæ¯ç¥è¯ï¼å°½å¯è½ç¨æ¯å»åå®ä¾éä½çè§£é¾åº¦ã<br>
æ¬ç¯çåå®¹å³äº<strong>å¾ªç¯ç¥ç»ç½ç»</strong>ï¼å¨ NLP ä¸­ï¼å¾ªç¯ç¥ç»ç½ç»å°±åå·ç§¯ç½ç»å¨ CV ä¸­ä¸æ ·ï¼æ¯å¤çåºåæ°æ®çæ ¸å¿ç¹åæ¨¡åï¼ä¸é¨ç¨äºææä¸ä¸æä¾èµã</p>
<h1 id="1-nlp-ä¸­çç¬¦å·è§è">1. NLP ä¸­çç¬¦å·è§è</h1>
<p>å¨æ­£å¼å¼å§å¼å¥å¾ªç¯ç¥ç»ç½ç»åï¼æä»¬åæ ·éè¦åäºè§£ä¸äºç¸å³çç¬¦å·è§èï¼ä¸»è¦æ¯å¨æ°æ®çè¡¨ç¤ºæ¹é¢ã</p>
<h2 id="11-æ¨¡åçè¾å¥ä¸è¾åº">1.1 æ¨¡åçè¾å¥ä¸è¾åº</h2>
<p><img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260106225017927-302231808.png" alt="image.png" loading="lazy"><br>
åå¤è¿°ä¸ä¸ï¼</p>
<ol>
<li><span class="math inline">\(x^{&lt;t&gt;}\)</span> ï¼<strong>è¾å¥åºåå¨ç¬¬ <span class="math inline">\(t\)</span> ä¸ªæ¶é´æ­¥çè¾å¥</strong>ã</li>
<li><span class="math inline">\(y^{&lt;t&gt;}\)</span> ï¼<strong>è¾åºåºåå¨ç¬¬ <span class="math inline">\(t\)</span> ä¸ªæ¶é´æ­¥çè¾åº</strong>ã</li>
<li><span class="math inline">\(T_x\)</span>ï¼<strong>è¾å¥åºåçé¿åº¦</strong>ã</li>
<li><span class="math inline">\(T_y\)</span>ï¼<strong>è¾åºåºåçé¿åº¦</strong>ã</li>
</ol>
<p>ç°å¨ï¼ç»åæä»¬ä¹åçç¬¦å·è§èï¼å°±å¯ä»¥ç¥éï¼<br>
<strong><span class="math inline">\(X^{(n)&lt;t&gt;}\)</span> ä»£è¡¨ä¸æ¹æ¬¡è¾å¥ä¸­ç¬¬ <span class="math inline">\(n\)</span> ä¸ªæ ·æ¬çç¬¬ <span class="math inline">\(t\)</span> ä¸ªåç´ ã</strong></p>
<h2 id="12-è¯å¸vocabulary">1.2 è¯å¸ï¼Vocabularyï¼</h2>
<p>ç»è¿ä¸ä¸é¨åï¼æä»¬ç¥éï¼<span class="math inline">\(x^{&lt;t&gt;}\)</span> ä»£è¡¨äºä¸ä¸ªåºåä¸­çæä¸ä¸ªåç´ ã<br>
ä½æ¯åæä¸ä¸ªæ°çé®é¢ï¼å¨ NLP ä»»å¡ä¸­ï¼<span class="math inline">\(x^{&lt;t&gt;}\)</span> å¾å¾æ¯ä¸ä¸ª<strong>ç¦»æ£çç¬¦å·</strong>ï¼ä¾å¦æä¸ªå·ä½çè¯ï¼å¦ <em>hello</em>ã<em>Hi</em>ï¼ï¼èç¥ç»ç½ç»æ¬è´¨ä¸åªè½å¤ç<strong>æ°å¼åé</strong>ï¼å¹¶ä¸è½ç´æ¥çè§£âè¯âè¿ä¸æ½è±¡æ¦å¿µã</p>
<p>å æ­¤ï¼å¨å°ææ¬åºåéå¥æ¨¡åä¹åï¼æä»¬å¿é¡»åå®æä¸ä»¶äºæï¼ç»âè¯âä¸ä¸ªè½è¾å¥ç½ç»çè¡¨ç¤ºæ¹æ³ï¼<strong>å³å»ºç«ä¸ç§ä»âè¯âå°âæ°å¼è¡¨ç¤ºâçæ å°è§åã</strong><br>
æ¾ç¶ï¼è¿ç§æ å°å³ç³»å¿é¡»æ¯<strong>ç¡®å®ä¸å¯ä¸ç</strong>ï¼å³æ¯ä¸ä¸ªè¯é½å¯¹åºä¸ä¸ªå¯ä¸çæ°å¼è¡¨ç¤ºã<br>
è<strong>å¶ä¸­ä¸ç§</strong>è¡¨ç¤ºæ¹æ³ï¼å°±æ¯æä»¬å¨å¤åç±»æ ç­¾è¡¨ç¤ºä¸­ä½¿ç¨ç<strong>ç¬ç­ç¼ç </strong>ã<br>
æä»¬çä¸ä¸ªç®åçç¤ºä¾ï¼<br>
åè®¾æä»¬å½åç<strong>è¯å¸</strong>åªåå« 4 ä¸ªè¯ï¼</p>
<p></p><div class="math display">\[{\text{hello},\ \text{Hi},\ \text{thanks},\ \text{bye}}
\]</div><p></p><p>æä»¬å¯ä»¥ä¸ºè¯å¸ä¸­çæ¯ä¸ä¸ªè¯åéä¸ä¸ªå¯ä¸çç´¢å¼ï¼</p>
<p></p><div class="math display">\[\text{hello}\rightarrow 1,\quad \text{Hi}\rightarrow 2,\quad \text{thanks}\rightarrow 3,\quad \text{bye}\rightarrow 4
\]</div><p></p><p>å¨è¿ç§è®¾å®ä¸ï¼æ¯ä¸ä¸ªè¯é½å¯ä»¥ç¨ä¸ä¸ª<strong>é¿åº¦ä¸º 4 çç¬ç­åé</strong>æ¥è¡¨ç¤ºã<br>
ä¾å¦ï¼</p>
<ul>
<li><span class="math inline">\(\text{hello}\)</span> å¯¹åºçè¡¨ç¤ºä¸ºï¼<span class="math inline">\(x = [1,0,0,0]\)</span></li>
<li><span class="math inline">\(\text{Hi}\)</span> å¯¹åºçè¡¨ç¤ºä¸ºï¼<span class="math inline">\(x = [0,1,0,0]\)</span><br>
<strong>è¯å¸ä¸­çæ¯ä¸ªè¯é½æä¸ä»æä¸ä¸ªä½ç½®ä¸º 1ï¼å¶ä½ä½ç½®å¨é¨ä¸º 0ã</strong><br>
ä»æ¨¡åçè§åº¦æ¥çï¼è¿æ ·çè¡¨ç¤ºæ¹å¼æå³çï¼æ¨¡åå¨ä»»ææ¶å»æ¥æ¶å°çè¾å¥ï¼æ¬è´¨ä¸æ¯ä¸ä¸ªé«ç»´ç¨çåéï¼è¿æ­£å¥½æ»¡è¶³âè¯ â æ°å¼åéâçä¸å¯¹ä¸æ å°è¦æ±ï¼å æ­¤è½å¤ç´æ¥ä½ä¸ºç¥ç»ç½ç»çè¾å¥ã</li>
</ul>
<p>ç¶èï¼å¨çå®ç NLP ä»»å¡ä¸­ï¼ä¸ä¸ªä¸å¯å¿½è§çç°å®é®é¢æ¯ï¼<strong>è¯å¸çè§æ¨¡éå¸¸éå¸¸å·¨å¤§ã</strong><br>
å¨å¸¸è§çè¯­è¨å»ºæ¨¡æç¿»è¯ä»»å¡ä¸­ï¼è¯å¸å¤§å°å¾å¾è¾¾å°<strong>æ°ä¸çè³ç¾ä¸çº§å«</strong>ã<br>
è¿æå³çï¼</p>
<ul>
<li>ç¬ç­åéçç»´åº¦æé«</li>
<li>åéæåº¦ç¨ç</li>
<li>è®¡ç®åå­å¨ææ¬é½éå¸¸ä¸ç»æµ</li>
</ul>
<p>å æ­¤ï¼å¨å®éæ¨¡åä¸­ï¼æä»¬å¾å¾ä¼éç¨ä¸ç§æ´ç´§åãä¹æ´å·è¯­ä¹è¡¨è¾¾è½åçè¯è¡¨ç¤ºæ¹æ³ï¼å«å<strong>è¯åéï¼Embeddingï¼</strong> ï¼æä»¬ä¼å¨ä¹åçåå®¹è¯¦ç»å±å¼å®ã<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260106224853098-1209020991.png" alt="image.png" loading="lazy"><br>
æ­¤å¤ï¼è¿ä¼åºç°å¦ä¸ä¸ªé®é¢ï¼  <strong>æµè¯æå®éä½¿ç¨æ¶ï¼å¯è½ä¼éå°è¯å¸ä¸­ä»æªåºç°è¿çè¯ã</strong><br>
å¯¹äºè¿ç§<strong>ä¸å¨è¯å¸ä¸­çè¯ï¼Out-Of-Vocabularyï¼OOVï¼</strong>ï¼å¸¸è§çä¸ç§å¤çæ¹å¼æ¯å¨è¯å¸ä¸­é¢å¤å¼å¥ä¸ä¸ªç¹æ®æ è®°<code>&lt;UNK&gt;</code>ï¼ç¨äºç»ä¸è¡¨ç¤ºæææªç¥è¯ï¼è¿ç§æ¹å¼è½ç¶ç®åï¼ä½ä¹ä¼ä¸¢å¤±ä¸åæªç¥è¯ä¹é´çå·®å¼æ§ï¼è¿ä¹æ¯åç»­å­è¯å»ºæ¨¡æ¹æ³è¦è§£å³çé®é¢ä¹ä¸ã</p>
<p>è¿äºæä»¬é½ä¼å¨ä¹åçå®éæ¼ç¤ºä¸­è¯¦ç»å±å¼ï¼ç°å¨ï¼åäºè§£ç®åçç¬¦å·è§èåï¼æä»¬æ­£å¼å¼å§å¼å¥å¾ªç¯ç¥ç»ç½ç»ã</p>
<h1 id="2-å¾ªç¯ç¥ç»ç½ç»recurrent-neural-networkrnn">2. å¾ªç¯ç¥ç»ç½ç»ï¼Recurrent Neural Networkï¼RNNï¼</h1>
<p>å¨<a href="https://www.cnblogs.com/Goblinscholar/p/19437798" target="_blank">ä¸ä¸ç¯</a>å¯¹åºåæ¨¡åçä»ç»ä¸­ï¼æä»¬å·²ç»ç¥éï¼å¨è¿æ¥ç½ç»åå·ç§¯ç½ç»å¹¶ä¸éåç¨æ¥å¤çåºåæ°æ®ã<br>
æä»¬éè¦ä¸ç§æ¨¡åï¼<strong>å¨å¤çå½åè¾å¥çåæ¶ï¼è½å¤ä¿çå¹¶æ´æ°å¯¹âè¿å»ä¿¡æ¯âçè¡¨ç¤ºï¼è®©æ¨¡åå¨çè§£å½ååå®¹æ¶ï¼ä¸æ¯å­¤ç«å°âçè¿ä¸å»âï¼èæ¯åºäºæ´ä¸ªä¸ä¸ææ¥å¤æ­ã</strong><br>
èè¿ï¼å°±æ¯ RNN çåºæ¬ææ³ã<br>
RNNææ©å¯è¿½æº¯å° Jordanï¼1986ï¼å¯¹åºåè¿æ¥ä¸»ä¹æ¨¡åçç ç©¶ï¼èç°ä»£æ·±åº¦å­¦ä¹ ä¸­å¸¸ç¨ç RNN åºæ¬å½¢å¼ï¼åæ¥æºäº Elman å¨1990å¹´åè¡¨çä¸ç¯è®ºæï¼ <a href="https://langev.com/pdf/elman90findingStructure.pdf?" target="_blank" rel="noopener nofollow">Finding Structure in Time</a>ä¸­æåºçéå½ç¶æç½ç»ç»æã<br>
å¯ä»¥çå°ï¼å°½ç®¡è®ºæè·ä»å·²æå åå¹´ï¼ä½åæåç CNN ä¸æ ·ï¼RNN çææ³å¹¶æ²¡æè¢«æ¶é´æ·¹æ²¡ï¼èæ¯ä¸æ­è¢«æ¨å¹¿ååæ°ï¼æç»æä¸ºç°ä»£ NLP ä¸­ä¸å¯æç¼ºçåºç¡æ¨¡åã</p>
<p>ç°å¨ï¼æä»¬ç¨ä¸ä¸ªæç®åç<strong>åå±å¾ªç¯ç¥ç»ç½ç»</strong>æ¥ä»ç» RNN çä¼ æ­è¿ç¨åå¶ç¹ç¹ã</p>
<h2 id="21-åå±å¾ªç¯ç¥ç»ç½ç»çç»æ">2.1 åå±å¾ªç¯ç¥ç»ç½ç»çç»æ</h2>
<p>æ¥çè¯¾ç¨éè¿æ ·ä¸ä¸ªå¾ªç¯ç½ç»ç<strong>ä¼ æ­ç¤ºæå¾</strong>ï¼<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260106224834808-1322487049.png" alt="image.png" loading="lazy"><br>
ä½ å¯è½ä¼è§å¾ï¼è¿ä¸ªç»æçèµ·æ¥å¥½åä¸åä¼ ç»æä¹ä¸çâåå±ç½ç»âï¼åèæ´åæ¯ä¸å±é½ç´æ¥æ¥æ¶åå§è¾å¥çå¨è¿æ¥ç½ç»ã<br>
å¶å®è¿æ­£ä½ç°äº RNN ä¸ FN æ CNN çæ¬è´¨åºå«ï¼<strong>å¨ RNN ä¸­ï¼æ¯ä¸ªæ¶é´æ­¥çéèç¶æä¸ä¼ç´æ¥ä¼ ç»ä¸ä¸å±ï¼èæ¯ä¼ éç»ä¸ä¸ä¸ªæ¶é´æ­¥çèªèº«ã</strong><br>
ä¹å°±æ¯è¯´ï¼è¿ä¸ªç½ç»çå®éç»ææ¯è¿æ ·çï¼<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260106224835295-122620775.png" alt="image.png" loading="lazy"><br>
ä¹å°±æ¯è¯´ï¼RNN æ¬è´¨ä¸å°±æ¯<strong>å¨å¨è¿æ¥å±åºç¡ä¸å äºæ¶é´ç»´åº¦çå¾ªç¯è¿æ¥</strong>ã<br>
ä½ ä¼åç°ï¼<strong>å¦ææå¼ä¼ æ­é»è¾ä¸çï¼åå±å¾ªç¯ç½ç»å®éä¸å°±æ¯ä¸å±å¨è¿æ¥å±ã</strong><br>
ä½è¿ä¹æ°æ°è¯´æäºå®çä¼ æ­é»è¾çéè¦æ§ï¼å°åºæ¯æä¹æ ·çè®¾è®¡è½è®©åå±çå¨è¿æ¥å±ä¸è·èæä¸º NLP çåºç³ï¼<br>
æä»¬ç»§ç»­ã</p>
<h2 id="22-åå±å¾ªç¯ç¥ç»ç½ç»çæ­£åä¼ æ­">2.2 åå±å¾ªç¯ç¥ç»ç½ç»çæ­£åä¼ æ­</h2>
<p>äºè§£äº RNN çåºæ¬é»è¾åï¼ ç°å¨ï¼æä»¬å°±æ¥æ¼ç¤ºä¸ä¸åå± RNN çå·ä½ä¼ æ­è¿ç¨ä¸­çä¸äºç»èï¼<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260106224834545-1669402886.png" alt="image.png" loading="lazy"><br>
äºè§£äºè¿äºåï¼æä»¬è§èä¸ä¸åå± RNN çæ­£åä¼ æ­è¿ç¨ï¼</p>
<ol>
<li><strong>åå§ç¶æ</strong><br>
RNN å¨ç¬¬ä¸ä¸ªæ¶é´æ­¥è¾å¥ç¬¬ä¸ä¸ªåç´  <span class="math inline">\(x^{&lt;1&gt;}\)</span>ï¼ä¾å¦âé©âï¼æ¶ï¼åæ¶ä¼å¼å¥åå§çä¼ªæ¿æ´»å¼ (<span class="math inline">\(a^{&lt;0&gt;}\)</span>) ä½ä¸ºç½ç»çåå§ç¶æï¼<span class="math inline">\(a^{&lt;0&gt;}\)</span> éå¸¸è®¾ä¸ºé¶åéæéæºåå§åã</li>
<li><strong>éæ­¥å¤çåºå</strong><br>
æ¯ä¸ªæ¶é´æ­¥ï¼RNN ä¼å°å½åè¾å¥ <span class="math inline">\(x^{&lt;t&gt;}\)</span> ä¸ä¸ä¸æ¶é´æ­¥çéèç¶æ <span class="math inline">\(a^{&lt;t-1&gt;}\)</span> ä¸èµ·è¾å¥ç½ç»ï¼è®¡ç®å½åçéèç¶æ <span class="math inline">\(a^{&lt;t&gt;}\)</span>,ä¾å¦å¨ç¬¬äºæ­¥ï¼è¾å¥ä¸º <span class="math inline">\(x^{&lt;2&gt;}\)</span>ï¼âä¿¡âï¼å <span class="math inline">\(a^{&lt;1&gt;}\)</span>ï¼å¾å° <span class="math inline">\(a^{&lt;2&gt;}\)</span>ã</li>
<li><strong>è¾åºçæ</strong><br>
æ¯ä¸æ­¥çéèç¶æ <span class="math inline">\(a^{&lt;t&gt;}\)</span> é½ä¼äº§çä¸ä¸ªé¢æµè¾åº <span class="math inline">\(\hat{y}^{&lt;t&gt;}\)</span>ãè¾åºä¸ä»ä¾èµå½åè¾å¥ï¼ä¹åå«äºåé¢æ¶é´æ­¥çåå²ä¿¡æ¯ï¼è¿å°±æ¯ RNN è½å¤âè®°å¿âåºåä¸ä¸æçåå ã</li>
<li><strong>ä¿¡æ¯ä¼ é</strong><br>
éèç¶æä¼æ²¿æ¶é´æ­¥ååä¼ éï¼ä½¿åç»­æ¶é´æ­¥çè¾åºè½å¤å©ç¨ä¹åææçåºåä¿¡æ¯ï¼æç»ä¸æ­¥è¾åº <span class="math inline">\(\hat{y}^{&lt;T_x&gt;}\)</span> åå«æ´ä¸ªåºåçä¿¡æ¯ï¼å¯ç¨äºå®æ´åºåçé¢æµæå¤æ­ã</li>
</ol>
<p>æç½äºä¼ æ­é»è¾åï¼æä»¬ä¾¿å¯ä»¥æ´å¥½å°çè§£ RNN æ­£åä¼ æ­çå¬å¼è¡¨è¾¾ï¼æä»¬å<strong>è¯´æä¸ä¸ç½ç»ä¸­çåæ°è¡¨ç¤ºï¼</strong><br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260106225018168-1671840978.png" alt="image.png" loading="lazy"><br>
ç°å¨ä¾¿æåºæ­£åä¼ æ­çéå¼å¦ä¸ï¼</p>
<p></p><div class="math display">\[a^{&lt;t&gt;} = g(W_{aa} a^{&lt;t-1&gt;} + W_{ax} x^{&lt;t&gt;} + b_a)
\]</div><p></p><p></p><div class="math display">\[y^{&lt;t&gt;} = g(W_{ya} a^{&lt;t&gt;} + b_y)
\]</div><p></p><p>æ»ç»ä¸ä¸ï¼RNN çæ­£åä¼ æ­å°±æ¯<strong>æ¯ä¸ªæ¶é´æ­¥å°å½åè¾å¥åä¸ä¸éèç¶æç»åï¼æ´æ°å½åéèç¶æå¹¶çæè¾åºï¼éèç¶ææ²¿æ¶é´æ­¥ä¼ éï¼ä»èä½¿ç½ç»è½å¤éæ­¥ç´¯ç§¯åå©ç¨åºååå²ä¿¡æ¯</strong>ã</p>
<p>äºè§£äºæ­£åä¼ æ­çå¤§è´æµç¨åï¼æä»¬åçç RNN çååä¼ æ­æ¯å¦ä½è¿è¡çã</p>
<h2 id="23-åå±å¾ªç¯ç¥ç»ç½ç»çååä¼ æ­">2.3 åå±å¾ªç¯ç¥ç»ç½ç»çååä¼ æ­</h2>
<p>ç»è¿ä¸ä¸é¨åï¼æä»¬å·²ç»ç¥éï¼RNN çæ­£åä¼ æ­ï¼æ¬è´¨ä¸æ¯å¨<strong>æ¶é´ç»´åº¦ä¸åå¤ä½¿ç¨åä¸ç»åæ°</strong>ï¼å¹¶éè¿éèç¶ææåå²ä¿¡æ¯ååä¼ éã</p>
<p>é£ä¹é®é¢èªç¶å°±æ¥äºï¼  <strong>è¿äºè·¨æ¶é´æ­¥ä¼ éçä¿¡æ¯ï¼ååä¼ æ­æ¶è¯¥æä¹âç®æ¢¯åº¦âï¼</strong></p>
<p>ç­æ¡æ¯ï¼ æä¹è¿å»å°±æä¹åæ¥ââRNN çååä¼ æ­ï¼å¹¶ä¸æ¯å¨âå±âä¹é´ä¼ æ­ï¼èæ¯<strong>å¨æ¶é´ç»´åº¦ä¸ååä¼ æ­</strong>ï¼è¿ç§ä¼ æ­è¢«ç§°ä¸º <strong>BPTTï¼Backpropagation Through Timeï¼</strong> ã<br>
æä»¬æ¥ç®è¦æ¼ç¤ºä¸ä¸è¿ä¸ªè¿ç¨ï¼<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260106225121561-283647183.png" alt="image.png" loading="lazy"></p>
<p>å¨çç£å­¦ä¹ ä¸­ï¼ååä¼ æ­çèµ·ç¹æ°¸è¿æ¯<strong>æå¤±å½æ°</strong>ï¼å¯¹äº RNN æ¥è¯´ï¼æå¤±éå¸¸æ¯<strong>æææ¶é´æ­¥æå¤±çç´¯å </strong>ï¼é»è®¤ <span class="math inline">\(T_x = T_y\)</span>ï¼ï¼</p>
<p></p><div class="math display">\[\mathcal{L}
=
\sum_{t=1}^{T_x}
\mathcal{L}^{&lt;t&gt;}(\hat{y}^{&lt;t&gt;}, y^{&lt;t&gt;})
\]</div><p></p><p>ä¹å°±æ¯è¯´ï¼<strong>æ¯ä¸ä¸ªæ¶é´æ­¥çè¾åºé½ä¼å¯¹æ»æå¤±äº§çè´¡ç®</strong>ã<br>
èå¯¹äºåæ­¥çæå¤±ï¼æå¸¸ç¨çä»ç¶æ¯æä»¬æ¯è¾çæç<a href="https://www.cnblogs.com/Goblinscholar/p/19133349" target="_blank">äº¤åçµæå¤±</a>,ä½ å¯ä»¥éè¿é¾æ¥æ¥çæä»¬ä¹åçä»ç»ï¼åºç¨å¨ RNN ä¸­ï¼å®çå¬å¼æ¯è¿æ ·çï¼</p>
<p></p><div class="math display">\[\mathcal{L}
=
\sum_{t=1}^{T_x}
\left(
- \sum_{k=1}^{C} y_k^{&lt;t&gt;} \log \hat{y}_k^{&lt;t&gt;}
\right)
\]</div><p></p><p>å æ­¤ï¼ååä¼ æ­æ¶ï¼æä»¬ä¼ä»æåä¸ä¸ªæ¶é´æ­¥å¼å§ï¼éæ­¥ååï¼ææ¯ä¸ªæ¶é´æ­¥çè¯¯å·®ä¿¡å·å¾åä¼ ï¼ ç±äºåæ°å¨æææ¶é´æ­¥å±äº«ï¼æ¯ä¸ªæ¶é´æ­¥çæå¤±é½ä¼éè¿æ¶é´é¾è·¯å¯¹è¿äºåæ°äº§çæ¢¯åº¦è´¡ç®ï¼æç»ç¨äºæ´æ°çæ¢¯åº¦ï¼æ¯<strong>æ²¿æ¶é´ç»´åº¦ååä¼ æ­åï¼åæ¶é´æ­¥è´¡ç®çç»¼åç»æ</strong>ã</p>
<p>è¿å°±æ¯åå±å¾ªç¯ç¥ç»ç½ç»çååä¼ æ­ï¼è¿æ ·æä»¬å°±å¯¹ RNN çåºæ¬è¿è¡é»è¾æäºå¤§ä½çäºè§£ã</p>
<h1 id="3æ»ç»">3.æ»ç»</h1>
<table>
<thead>
<tr>
<th>æ¦å¿µ</th>
<th>åç</th>
<th>æ¯å»</th>
</tr>
</thead>
<tbody>
<tr>
<td>åºåæ°æ®</td>
<td>æ°æ®åç´ å·æ<strong>æç¡®é¡ºåº</strong>ï¼å½åçè§£ä¾èµåå²ä¸ä¸æ</td>
<td>ä¸å¥è¯çææè¦ä»åå¾åè¯»ï¼ä¸è½åªçä¸­é´ä¸ä¸ªè¯ã</td>
</tr>
<tr>
<td>æ¶é´æ­¥ <span class="math inline">\(t\)</span></td>
<td>åºåä¸­ç¬¬ <span class="math inline">\(t\)</span> ä¸ªä½ç½®ï¼ç¨äºå±å¼æ¶é´ç»´åº¦</td>
<td>æ¶é´è½´ä¸çç¬¬ <span class="math inline">\(t\)</span> å¸§ç»é¢ã</td>
</tr>
<tr>
<td>è¾å¥ <span class="math inline">\(x^{}\)</span></td>
<td>ç¬¬ <span class="math inline">\(t\)</span> ä¸ªæ¶é´æ­¥éå¥æ¨¡åçè¾å¥åé</td>
<td>å½åè¿ä¸ç§ä½ å¬å°çä¸ä¸ªè¯ã</td>
</tr>
<tr>
<td>é¢æµè¾åº <span class="math inline">\(\hat{y}^{}\)</span></td>
<td>æ¨¡åå¨ç¬¬ <span class="math inline">\(t\)</span> ä¸ªæ¶é´æ­¥ç»åºçé¢æµç»æ</td>
<td>å¬å°ä¸å¥è¯åï¼æ­¤å»ä½ ååºçå¤æ­ã</td>
</tr>
<tr>
<td>åºåé¿åº¦ <span class="math inline">\(T_x, T_y\)</span></td>
<td>è¾å¥åºåä¸è¾åºåºåçé¿åº¦ï¼å¯ç¸åæä¸åï¼</td>
<td>ä¸æ®µè¯çå­æ° vs ä½ åç­æ¶è¯´äºå å¥è¯ã</td>
</tr>
<tr>
<td>è¯å¸ï¼Vocabularyï¼</td>
<td>ä»è¯å°ç´¢å¼ç<strong>ä¸ä¸æ å°è¡¨</strong></td>
<td>çµè¯ç°¿ï¼åå­ â çµè¯å·ç </td>
</tr>
<tr>
<td>RNN æ ¸å¿ææ³</td>
<td>å½åç¶æç±<strong>å½åè¾å¥ + è¿å»ç¶æ</strong>å±åå³å®</td>
<td>ä½ çè§£ä¸å¥è¯æ¶ï¼ä¼ä¸æ­ä¿®æ­£ä¹åççè§£ã</td>
</tr>
<tr>
<td>BPTT</td>
<td>æ¢¯åº¦æ²¿æ¶é´ç»´åº¦ååä¼ æ­</td>
<td>ä»å¥å°¾ååå»åæï¼æ¯åªä¸æ­¥çè§£éäºã</td>
</tr>
<tr>
<td>æ¢¯åº¦ç´¯ç§¯</td>
<td>åæ°æ¢¯åº¦æ¥èªæææ¶é´æ­¥çç»¼åè´¡ç®</td>
<td>æ¯ä¸å¥è¯çéè¯¯é½ä¼å½±åä½ ä¸æ¬¡ççè§£æ¹å¼ã</td>
</tr>
</tbody>
</table>
<p>ã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.0020833333333333333" data-date-updated="2026-01-06 22:56">2026-01-06 22:53</span>&nbsp;
<a href="https://www.cnblogs.com/Goblinscholar">å¥å¸æå­¦è</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19449622);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19449622', targetLink: 'https://www.cnblogs.com/Goblinscholar/p/19449622', title: 'å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨äºï¼èªç¶è¯­è¨å¤ç  ç¬¬ä¸å¨ï¼å¾ªç¯ç¥ç»ç½ç» ï¼äºï¼å¾ªç¯ç¥ç»ç½ç»' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ æ°æ®å¯è§åäºå¤§é»éååï¼è®©ä½ çå¾è¡¨âä¼è¯´è¯â ]]></title>
    <link>https://www.cnblogs.com/wang_yb/p/19449591</link>
    <guid>fd9d4407606a7feb926122cc395c1f04</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/wang_yb/p/19449591" title="åå¸äº 2026-01-06 22:29">
    <span role="heading" aria-level="2">æ°æ®å¯è§åäºå¤§é»éååï¼è®©ä½ çå¾è¡¨âä¼è¯´è¯â</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>å¨æ¥å¸¸å·¥ä½ä¸­ï¼ä½ æ¯å¦éå°è¿è¿ç§æåµï¼ä½ è¾è¾è¦è¦è·å®æ°æ®ï¼ç»äºä¸å¼ å¾è¡¨åç»èæ¿æå®¢æ·ï¼ç»æå¯¹æ¹ç¯ççäºåå¤©ï¼é®äºä¸å¥ï¼â<strong>æä»¥ï¼ä½ æ³è¡¨è¾¾ä»ä¹ï¼</strong>â</p>
<p>è¿å°±åè®²ç¬è¯æ²¡äººç¬ä¸æ ·å°´å°¬ãå¾è¡¨çæ¬è´¨ä¸æ¯ <strong>âç»å¾â</strong>ï¼èæ¯ <strong>âæ²éâ</strong>ã</p>
<p>ä»å¤©ï¼æå°åäº« 5 ä¸ªæåå¯è§åææçååï¼å¹¶ç¨ <code>Python</code> ç <code>matplotlib</code> åºææææä½ å¦ä½å®ç°ã</p>
<h1 id="1-åå1å±ç¤ºæ°æ®èéè£é¥°">1. åå1ï¼å±ç¤ºæ°æ®ï¼èéè£é¥°</h1>
<p>æ³è±¡ä¸ä¸ï¼ä½ å¨éè¯»ä¸æ¬å°è¯´ï¼ä½æ¯é¡µé½åæ»¡äºæ å³çæå¾ï¼ä½ ä¼æå°å°æååå¿ã</p>
<p><strong>æ°æ®å¯è§å</strong>ä¹æ¯å¦æ­¤ââè¯»èéè¦çæ¯æ°æ®æ¬èº«ï¼èä¸æ¯åä¸½çè£é¥°ã</p>
<p>æä»¥ï¼æä»¬éè¦å±ç¤º<strong>æéè¦</strong>çæ°æ®ï¼èä¸æ¯<strong>å°½å¯è½å¤</strong>çæ°æ®ã</p>
<p>è®©æä»¬ççä¸ä¸ªå¸¸è§çéè¯¯åæ³åæ¹è¿åçåæ³ï¼</p>
<pre><code class="language-python"># åå»ºç¤ºä¾æ°æ®
np.random.seed(42)
categories = ["äº§åA", "äº§åB", "äº§åC", "äº§åD", "äº§åE"]
sales_bad = np.random.randint(50, 200, 5)
sales_good = np.random.randint(50, 200, 5)

# éè¯¯åæ³ï¼è¿åº¦è£é¥°ï¼æ°æ®ä¸çªåº
fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(14, 6))

# å·¦ä¾§ï¼è¿åº¦è£é¥°çå¾è¡¨
ax1.bar(categories, sales_bad, color=["red", "blue", "green", "orange", "purple"])

# æ·»å ä¸å¿è¦çåç´ 
# ...

# å³ä¾§ï¼ç®æ´èç¦çå¾è¡¨
ax2.bar(categories, sales_good, color="steelblue", alpha=0.8)
# å¨æ±å­ä¸ç´æ¥æ æ³¨æ°å¼
for i, v in enumerate(sales_good):
    ax2.text(i, v + 5, str(v), ha="center", fontweight="bold")

# çªåºæé«å¼
# ...
# ç§»é¤ä¸å¿è¦çè¾¹æ¡
# ...

plt.tight_layout()
plt.show()
</code></pre>

<p><img src="https://img2024.cnblogs.com/blog/83005/202601/83005-20260106222835311-981055803.png" alt="" loading="lazy"></p>
<p>å¨è¿ä¸ªç¤ºä¾ä¸­ï¼æ ¹æ®åå1ï¼æä»¬<strong>ä¸»è¦æ¹è¿</strong>äºï¼</p>
<ul>
<li>ç§»é¤èæ¯æ°´å°åè¿åº¦è£é¥°</li>
<li>ç´æ¥å¨æ±ç¶å¾ä¸æ æ³¨æ°å¼ï¼é¿åè§çº¿æ¥åç§»å¨</li>
<li>çªåºæ¾ç¤ºæéè¦çæ°æ®ç¹ï¼äº§åCï¼</li>
<li>ç®åæ é¢ï¼ç´æ¥ä¼ è¾¾æ ¸å¿ä¿¡æ¯</li>
</ul>
<h1 id="2-åå2åå°æ··ä¹±ä¿æç®æ´">2. åå2ï¼åå°æ··ä¹±ï¼ä¿æç®æ´</h1>
<p>æ³è±¡ä¸ä¸ä¸ä¸ªæä¹±æ ç« çæ¿é´ï¼ä½ æ³æ¾ä¸æ¬ä¹¦ï¼å´è¦ç¿»éåä¸ªè§è½ã</p>
<p>æ··ä¹±çå¾è¡¨ä¹ä¼è®©è¯»èç»ååæ ·çæ«æã</p>
<p>æä»¥ï¼æ¯ä¸ªé¢å¤çè§è§åç´ é½åºè¯¥ææç¡®çç®çï¼å¦åå°±åºè¯¥ç§»é¤ã</p>
<pre><code class="language-python"># åå»ºç¤ºä¾æ°æ®
np.random.seed(123)
months = [
    "1æ",
    #...
    "12æ",
]
temperature = np.random.normal(20, 5, 12) + np.sin(np.linspace(0, 2 * np.pi, 12)) * 3
precipitation = (
    np.random.normal(50, 15, 12) + np.cos(np.linspace(0, 2 * np.pi, 12)) * 20
)

# å·¦ä¾§ï¼æ··ä¹±çå¾è¡¨
ax1.plot(months, temperature, "ro-", linewidth=2, markersize=8, label="æ¸©åº¦")
# ...

# åå»ºç¬¬äºä¸ªyè½´ï¼æ··ä¹±çå¸¸è§æ¥æºï¼
ax1b = ax1.twinx()
ax1b.plot(months, precipitation, "bs--", linewidth=2, markersize=8, label="éæ°´é")
# ...

# æ·»å ç½æ ¼åè¿å¤æ ç­¾
# ...

# å³ä¾§ï¼ç®æ´çå¾è¡¨
# åå¼æ¾ç¤ºä¸¤ä¸ªææ 
ax2a = plt.subplot(grid[0, 1])
ax2b = plt.subplot(grid[1, 1])

# æ¸©åº¦å¾è¡¨
ax2a.plot(months, temperature, color="#E74C3C", linewidth=2.5)
ax2a.fill_between(months, temperature.min(), temperature, color="#E74C3C", alpha=0.1)

# çªåºæ¾ç¤ºæé«æ¸©åº¦
max_temp_idx = np.argmax(temperature)
ax2a.plot(
    months[max_temp_idx], temperature[max_temp_idx], "o", color="#E74C3C", markersize=10
)
# ...

# éæ°´éå¾è¡¨
ax2b.bar(months, precipitation, color="#3498DB", alpha=0.7)
# çªåºæ¾ç¤ºæé«éæ°´é
max_precip_idx = np.argmax(precipitation)
# ...

plt.show()
</code></pre>

<p><img src="https://img2024.cnblogs.com/blog/83005/202601/83005-20260106222835292-272601904.png" alt="" loading="lazy"></p>
<p>å¨è¿ä¸ªç¤ºä¾ä¸­ï¼æ ¹æ®åå2ï¼æä»¬<strong>ä¸»è¦æ¹è¿</strong>äºï¼</p>
<ul>
<li>å°åYè½´å¾è¡¨æåä¸ºä¸¤ä¸ªç¬ç«çå¾è¡¨</li>
<li>ç§»é¤è¿å¤çå¾ä¾åç½æ ¼çº¿</li>
<li>ä½¿ç¨å¡«ååæ è®°çªåºå³é®æ°æ®ç¹</li>
<li>ç®åæ é¢ï¼æ¯ä¸ªå¾è¡¨åªè¡¨è¾¾ä¸ä¸ªæ ¸å¿ä¿¡æ¯</li>
</ul>
<h1 id="3-åå3å¾æç»åå¼å¯¼è¯»è">3. åå3ï¼å¾æç»åï¼å¼å¯¼è¯»è</h1>
<p>å¥½çå¯è§åå¾è¡¨å°±åä¸ä¸ªä¼è®²æäºçå¯¼æ¸¸ï¼èæå­å°±æ¯å®çè®²è§£è¯ã</p>
<p>æå­åºè¯¥å¸®å©è¯»èçè§£æ°æ®ï¼èä¸æ¯å¶é éç¢ã</p>
<pre><code class="language-python"># åå»ºç¤ºä¾æ°æ®
np.random.seed(42)
years = np.arange(2010, 2023)
company_a = np.random.normal(100, 10, 13) + np.linspace(0, 50, 13)
company_b = np.random.normal(100, 10, 13) + np.linspace(0, 30, 13)

# å·¦ä¾§ï¼ç¼ºä¹å¼å¯¼çå¾è¡¨
ax1.plot(years, company_a, "b-", linewidth=2, label="å¬å¸A")
ax1.plot(years, company_b, "r-", linewidth=2, label="å¬å¸B")

# å³ä¾§ï¼å¾æç»åçå¾è¡¨
ax2.plot(years, company_a, color="#2E86C1", linewidth=3, alpha=0.8)
ax2.plot(years, company_b, color="#E74C3C", linewidth=3, alpha=0.8)

# ç´æ¥æ æ³¨çº¿æ¡ï¼é¿åå¾ä¾
ax2.text(
    2022.2, company_a[-1], "å¬å¸A", color="#2E86C1", fontweight="bold", va="center"
)
ax2.text(
    2022.2, company_b[-1], "å¬å¸B", color="#E74C3C", fontweight="bold", va="center"
)

# æ·»å æ é¢åå¯æ é¢
# ...

# æ·»å å³é®äºä»¶æ³¨é
# ...

# çªåºå³é®æ°æ®ç¹
# ...

# ç®æ´çåæ è½´
# ...

plt.show()
</code></pre>

<p><img src="https://img2024.cnblogs.com/blog/83005/202601/83005-20260106222835329-396667946.png" alt="" loading="lazy"></p>
<p>å¨è¿ä¸ªç¤ºä¾ä¸­ï¼æ ¹æ®åå3ï¼æä»¬<strong>ä¸»è¦æ¹è¿</strong>äºï¼</p>
<ul>
<li>ç´æ¥å¨çº¿æ¡ææ æ³¨ï¼æ¶é¤å¾ä¾</li>
<li>ä½¿ç¨æ é¢ç´æ¥ä¼ è¾¾æ ¸å¿åç°</li>
<li>æ·»å æ³¨éè§£éå³é®äºä»¶</li>
<li>ä½¿ç¨å¡«ååºåçªåºéè¦å·®å¼</li>
</ul>
<h1 id="4-åå4é¿åæé¢å¾åè§£å¤æä¿¡æ¯">4. åå4ï¼é¿åæé¢å¾ï¼åè§£å¤æä¿¡æ¯</h1>
<p>"æé¢å¾"æ¯æçº¿æ¡äº¤éãé¾ä»¥åè¾¨çå¾è¡¨ï¼å°±åä¸ç¢ç¼ å¨ä¸èµ·çæå¤§å©é¢ã</p>
<p>å½å¾è¡¨åå¾è¿äºå¤ææ¶ï¼æå¥½çæ¹æ³æ¯åè§£å®ã</p>
<pre><code class="language-python"># åå»ºç¤ºä¾æ°æ®ï¼å¤ä¸ªäº§åå¤å¹´çéå®æ°æ®
np.random.seed(123)
years = np.arange(2015, 2024)
products = ['ææº', 'å¹³æ¿', 'ç¬è®°æ¬', 'æºè½æè¡¨', 'è³æº']

# çææ°æ®
sales_data = {}
for product in products:
    base = np.random.randint(30, 80)
    trend = np.linspace(0, np.random.randint(20, 60), 9)
    noise = np.random.normal(0, 5, 9)
    sales_data[product] = base + trend + noise

# å·¦ä¾§ï¼æé¢å¾
colors = plt.cm.Set2(np.linspace(0, 1, len(products)))
for idx, (product, sales) in enumerate(sales_data.items()):
    ax1.plot(years, sales, color=colors[idx], linewidth=2, marker='o', label=product)

# å³ä¾§ï¼åè§£åçå¾è¡¨ - ä½¿ç¨å­å¾
fig2, axes = plt.subplots(2, 3, figsize=(15, 8))
axes = axes.flatten()

# ç»å¶æ¯ä¸ªäº§åçç¬ç«å¾è¡¨
for idx, (product, sales) in enumerate(sales_data.items()):
    ax = axes[idx]
    ax.plot(years, sales, color='#2980B9', linewidth=2.5, marker='o', markersize=6)

    # å¡«ååºå
    ax.fill_between(years, sales.min(), sales, color='#2980B9', alpha=0.1)

    # è®¾ç½®æ é¢åæ ç­¾
    # ...

    # æ è®°æé«ç¹
    max_idx = np.argmax(sales)
    ax.plot(years[max_idx], sales[max_idx], 'o', color='#E74C3C', markersize=8)
    # ...

    # ç®åç½æ ¼
    # ...

# éèæåä¸ä¸ªå­å¾ï¼æä»¬åªæ5ä¸ªäº§åï¼
axes[-1].axis('off')

plt.show()
</code></pre>

<p><img src="https://img2024.cnblogs.com/blog/83005/202601/83005-20260106222835313-1108722144.png" alt="" loading="lazy"></p>

<p><img src="https://img2024.cnblogs.com/blog/83005/202601/83005-20260106222835312-166951632.png" alt="" loading="lazy"></p>
<p>å¨è¿ä¸ªç¤ºä¾ä¸­ï¼æ ¹æ®åå4ï¼æä»¬<strong>ä¸»è¦æ¹è¿</strong>äºï¼</p>
<ul>
<li>å°å¤æçå¤çº¿æ¡å¾è¡¨åè§£ä¸ºå¤ä¸ªç®åå¾è¡¨</li>
<li>æ¯ä¸ªå­å¾èç¦ä¸ä¸ªäº§åï¼é¿åçº¿æ¡äº¤é</li>
<li>å¨æ¯ä¸ªå­å¾ä¸­ç¬ç«æ æ³¨å³é®ä¿¡æ¯</li>
<li>ä¿æä¸è´çè§è§é£æ ¼ä¾¿äºæ¯è¾</li>
</ul>
<h1 id="5-åå5ä»ç°è²å¼å§æç­ç¥å°ä½¿ç¨é¢è²">5. åå5ï¼ä»ç°è²å¼å§ï¼æç­ç¥å°ä½¿ç¨é¢è²</h1>
<p>é¢è²æ¯å¯è§åä¸­æå¼ºå¤§çå·¥å·ä¹ä¸ï¼ä½ä¹æ¯æå®¹æè¢«æ»¥ç¨çã</p>
<p>ä»ç°åº¦å¼å§è®¾è®¡ï¼å¯ä»¥ç¡®ä¿ä½ ä½¿ç¨çæ¯ä¸ªé¢è²é½ææç¡®çç®çã</p>
<pre><code class="language-python"># åå»ºç¤ºä¾æ°æ®
np.random.seed(123)
cities = ["åäº¬", "ä¸æµ·", "å¹¿å·", "æ·±å³", "æé½", "æ­¦æ±", "è¥¿å®", "æ­å·"]
months = [
    "1æ",
    # ...
    "12æ",
]

# çæååå¸çæåº¦AQIæ°æ®
aqi_data = {}
for city in cities:
    base = np.random.randint(60, 100)  # åºç¡AQIå¼
    seasonal = np.sin(np.linspace(0, 2 * np.pi, 12)) * 20  # å­£èæ§åå
    noise = np.random.normal(0, 10, 12)  # éæºåªå£°
    aqi_data[city] = np.clip(base + seasonal + noise, 30, 180)  # éå¶å¨30-180ä¹é´

# è®¡ç®ååå¸çå¹´å¹³åAQI
avg_aqi = {city: np.mean(values) for city, values in aqi_data.items()}

# åå»ºå¾è¡¨å¯¹æ¯
fig = plt.figure(figsize=(12, 6))

# é¶æ®µ1ï¼å¨ç°è²åºç¡å¾è¡¨
ax1 = plt.subplot(1, 2, 1)

# å¨ç°è²çæ¬
for city in cities:
    ax1.plot(months, aqi_data[city], color="#7F8C8D", linewidth=1.5, alpha=0.6)  # ç°è²
# ...

# é¶æ®µ2ï¼è¯å«å³é®æ°æ®åæ·»å åæ­¥é¢è²
ax2 = plt.subplot(1, 2, 2)

# æ¾åºç©ºæ°è´¨éæå¥½åæå·®çåå¸
sorted_cities = sorted(avg_aqi.items(), key=lambda x: x[1])
best_city = sorted_cities[0][0]  # AQIæä½çåå¸
worst_city = sorted_cities[-1][0]  # AQIæé«çåå¸
# ...

# æ·»å æ ç­¾
# ...

# æ·»å ç©ºæ°è´¨éæ åçº¿
# ...

plt.show()
</code></pre>

<p><img src="https://img2024.cnblogs.com/blog/83005/202601/83005-20260106222835318-180053858.png" alt="" loading="lazy"></p>
<p>å¨è¿ä¸ªç¤ºä¾ä¸­ï¼æ ¹æ®åå5ï¼æä»¬<strong>ä¸»è¦æ¹è¿</strong>äºï¼</p>
<ul>
<li>ä»å¨ç°è²å¼å§ï¼ç¡®ä¿å¾è¡¨ç»ææ¸æ°</li>
<li>åªå¯¹å³é®æ°æ®ç¹ä½¿ç¨å¼ºè°è²</li>
<li>ä½¿ç¨é¢è²çªåºæéè¦çåç°</li>
<li>éè¿ç»èç¹ç¼ï¼å¦èçº¿ãæ è®°ï¼æä¾é¢å¤ä¸ä¸æ</li>
</ul>
<h1 id="6-æ»ç»">6. æ»ç»</h1>
<p><strong>æ°æ®å¯è§å</strong>ä¸ä»ä»æ¯å³äº <code>plt.plot()</code> çææ¯ï¼æ´å¤çæ¯å³äº<strong>å¿çå­¦</strong>å<strong>è®¾è®¡</strong>ã</p>
<ol>
<li><strong>å±ç¤ºæ°æ®</strong>ï¼æèåç¯æå¨éç¹ä¸ã</li>
<li><strong>åå°æ··ä¹±</strong>ï¼å æä¸åä¸å¿è¦çå¢¨æ°´ã</li>
<li><strong>å¾æç»å</strong>ï¼æ é¢å°±æ¯ç»è®ºï¼æ æ³¨ä»£æ¿å¾ä¾ã</li>
<li><strong>é¿åæé¢å¾</strong>ï¼å¤æé®é¢æè§£çã</li>
<li><strong>ä»ç°è²å¼å§</strong>ï¼åå¶å°ä½¿ç¨é¢è²ã</li>
</ol>
<p>å¸æè¿äºååè½å¸®ä½ å¨ä¸ä¸æ¬¡åå¾æ¶ï¼ç»åºè®©äººç¼åä¸äº®çä½åï¼</p>
<p>æä¸­çä»£ç æ¯ä¸äºæ ¸å¿ççæ®µï¼å®æ´çä»£ç å±äº«å¨ï¼<a href="https://url11.ctfile.com/f/45455611-8593028016-1f332d?p=6872" target="_blank" rel="noopener nofollow">å¯è§å5ä¸ªé»éåå.ipynb</a> (è®¿é®å¯ç : 6872)</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-06 22:29">2026-01-06 22:29</span>&nbsp;
<a href="https://www.cnblogs.com/wang_yb">wang_yb</a>&nbsp;
éè¯»(<span id="post_view_count">6</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19449591);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19449591', targetLink: 'https://www.cnblogs.com/wang_yb/p/19449591', title: 'æ°æ®å¯è§åäºå¤§é»éååï¼è®©ä½ çå¾è¡¨âä¼è¯´è¯â' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ è§£å³javaå®¢æ·ç«¯è¿æ¥sshå¤±è´¥é®é¢ ]]></title>
    <link>https://www.cnblogs.com/hellxz/p/19449582</link>
    <guid>eb788bfa0954b4f514051ef1bb390781</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/hellxz/p/19449582" title="åå¸äº 2026-01-06 22:24">
    <span role="heading" aria-level="2">è§£å³javaå®¢æ·ç«¯è¿æ¥sshå¤±è´¥é®é¢</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="é®é¢ç°è±¡">é®é¢ç°è±¡</h2>
<p>æçè¿ç»´å·¥å·ä½¿ç¨äºjavaçsshå®¢æ·ç«¯ï¼è¿äºå®¢æ·ç«¯åæå¡ç«¯é´ææ¶ä¼åºç°å å¯ç®æ³ååå¤±è´¥åä¸»æºå¯é¥ç±»åååå¤±è´¥çé®é¢ï¼è¯¥é®é¢æ¯ç±äºæ°å®¢æ·ç«¯/æå¡ç«¯ç¦ç¨äºç¸å³çä¸å®å¨ç®æ³åå¯é¥ç±»åï¼æ¬æç®è¦è®°å½ä¸è¯¥é®é¢çè§£å³æ¹æ³ä»¥å¤ä¸æ¶ä¹éã</p>
<p>éè¯¯å¸¸è§æç¤ºå¦ä¸ï¼</p>
<pre><code>#å å¯ç®æ³ååå¤±è´¥
Unable to negotiate with 192.168.56.99 port 54234: no matching key exchange method found. Their offer: diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1 [preauth]

#ä¸»æºå¯é¥ç±»åååå¤±è´¥
Unable to negotiate with 192.168.56.99 port 22: no matching host key type found. Their offer: ssh-rsa,ssh-dss [preauth]
</code></pre>
<h2 id="è§£å³æ¹æ³">è§£å³æ¹æ³</h2>
<p>äºéä¸ï¼</p>
<h3 id="è¾æ°çå®¢æ·ç«¯å¼å®¹æ§æå¡ç«¯"><strong>è¾æ°çå®¢æ·ç«¯å¼å®¹æ§æå¡ç«¯</strong></h3>
<p>ä»¥Jschä¸ºä¾ï¼åçº§æ°çæ¬ã</p>
<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;com.jcraft&lt;/groupId&gt;
    &lt;artifactId&gt;jsch&lt;/artifactId&gt;
    &lt;version&gt;0.1.55&lt;/version&gt; &lt;!-- æ£æ¥ææ°çæ¬ --&gt;
&lt;/dependency&gt;
</code></pre>
<p>ä»£ç ä¸­éç½®è¿æ¥å±æ§ï¼</p>
<pre><code class="language-java">import com.jcraft.jsch.*;

public class SSHConnector {
    public static void main(String[] args) {
        try {
            JSch jsch = new JSch();
            
            // è®¾ç½®æ¯æçç®æ³
            java.util.Properties config = new java.util.Properties();
            
            // å³é®éç½®ï¼æå®ç®æ³
            config.put("kex", "diffie-hellman-group1-sha1,diffie-hellman-group14-sha1");
            config.put("server_host_key", "ssh-rsa,ssh-dss");
            config.put("cipher.s2c", "aes128-ctr,aes128-cbc,3des-cbc");
            config.put("cipher.c2s", "aes128-ctr,aes128-cbc,3des-cbc");
            config.put("mac.s2c", "hmac-sha1");
            config.put("mac.c2s", "hmac-sha1");
            
            Session session = jsch.getSession("username", "172.16.29.254", 22);
            session.setConfig(config);
            session.setPassword("password");
            session.setConfig("StrictHostKeyChecking", "no"); // ä¸´æ¶æµè¯ç¨
            
            session.connect(30000); // 30ç§è¶æ¶
            System.out.println("è¿æ¥æå");
            
            session.disconnect();
        } catch (JSchException e) {
            e.printStackTrace();
        }
    }
}
</code></pre>
<h3 id="è¾æ°çæå¡ç«¯å¼å®¹æ§å®¢æ·ç«¯"><strong>è¾æ°çæå¡ç«¯å¼å®¹æ§å®¢æ·ç«¯</strong></h3>
<p><code>/etc/ssh/sshd_config</code>è¿½å ä»¥ä¸åå®¹ï¼è¿éæ·»å çç®æ³åå³äºTheir offeråè¾¹æç¤ºçç±»åï¼ä¸è¬åªæ·»å é¨åå³å¯ï¼æ¨èä½¿ç¨<code>+</code>è¿½å é¢å¤ç®æ³ã</p>
<pre><code class="language-bash">#è§£å³no matching key exchange method foundæ¥é
KexAlgorithms +diffie-hellman-group14-sha1
#è§£å³no matching host key type foundæ¥é
HostKeyAlgorithms +ssh-rsa
</code></pre>
<h2 id="éæ¥çæå¡ç«¯sshæ¯æç®æ³">éæ¥çæå¡ç«¯sshæ¯æç®æ³</h2>
<pre><code class="language-bash">hellxz@hz:~$ sudo sshd -T | grep -E "^hostkeyalg|^kexalg"
kexalgorithms sntrup761x25519-sha512@openssh.com,curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256,diffie-hellman-group14-sha1
hostkeyalgorithms ssh-ed25519-cert-v01@openssh.com,ecdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,sk-ssh-ed25519-cert-v01@openssh.com,sk-ecdsa-sha2-nistp256-cert-v01@openssh.com,rsa-sha2-512-cert-v01@openssh.com,rsa-sha2-256-cert-v01@openssh.com,ssh-ed25519,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,sk-ssh-ed25519@openssh.com,sk-ecdsa-sha2-nistp256@openssh.com,rsa-sha2-512,rsa-sha2-256,ssh-rsa
</code></pre>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-06 22:25">2026-01-06 22:24</span>&nbsp;
<a href="https://www.cnblogs.com/hellxz">ä¸åå°çç¸</a>&nbsp;
éè¯»(<span id="post_view_count">3</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19449582);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19449582', targetLink: 'https://www.cnblogs.com/hellxz/p/19449582', title: 'è§£å³javaå®¢æ·ç«¯è¿æ¥sshå¤±è´¥é®é¢' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ AUC çä¸¤ç§ç­ä»·å®ä¹ï¼ä»æåºæ¦çå° ROC æ²çº¿çç»ä¸çè§£ ]]></title>
    <link>https://www.cnblogs.com/GlenTt/p/19449279</link>
    <guid>b28e2a1591ded509937d2cd5a50e4516</guid>
    <description>
    <![CDATA[ 
		<h2>
			<a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/GlenTt/p/19449279" title="åå¸äº 2026-01-06 20:27">
    <span role="heading" aria-level="2">AUC çä¸¤ç§ç­ä»·å®ä¹ï¼ä»æåºæ¦çå° ROC æ²çº¿çç»ä¸çè§£</span>
    

</a>

		</h2>
		<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="auc-çä¸¤ç§ç­ä»·å®ä¹ä»æåºæ¦çå°-roc-æ²çº¿çç»ä¸çè§£">AUC çä¸¤ç§ç­ä»·å®ä¹ï¼ä»æåºæ¦çå° ROC æ²çº¿çç»ä¸çè§£</h1>
<p>å¨æ¨èç³»ç»ä¸å¹¿åæåºä¸­ï¼AUC æ¯æå¸¸ç¨ãä¹æå®¹æè¢«è¯¯è§£çç¦»çº¿è¯ä¼°ææ ä¹ä¸ãå¾å¤äººåæ¶æ¥è§¦è¿ä¸¤ç§è¯´æ³ï¼<br>
ä¸ç§æ¯âROC æ²çº¿ä¸é¢ç§¯âï¼å¦ä¸ç§æ¯âæ­£æ ·æ¬æå¨è´æ ·æ¬åé¢çæ¦çâã<strong>è¿å¹¶ä¸æ¯ä¸¤ç§ä¸åçææ ï¼èæ¯åä¸ä¸ªææ çä¸¤ç§å®å¨ç­ä»·çå®ä¹</strong>ã</p>
<h2 id="ä¸auc-çæ¬è´¨ä¸ä¸ªæåºæ¦ç">ä¸ãAUC çæ¬è´¨ï¼ä¸ä¸ªæåºæ¦ç</h2>
<h3 id="1-é®é¢è®¾å®">1. é®é¢è®¾å®</h3>
<p>åè®¾æä»¬é¢å¯¹çæ¯ä¸ä¸ªäºåç±» / æåºé®é¢ï¼</p>
<ul>
<li>æ¯ä¸ªæ ·æ¬ <span class="math inline">\(x_i\)</span> æçå®æ ç­¾ <span class="math inline">\(y_i \in {0,1}\)</span></li>
<li>æ¨¡åç»åºä¸ä¸ªè¿ç»­é¢æµåæ° <span class="math inline">\(s_i \in \mathbb{R}\)</span></li>
<li>åæ°è¶å¤§ï¼æ¨¡åè®¤ä¸ºæ ·æ¬âè¶å¯è½æ¯æ­£æ ·æ¬â</li>
</ul>
<p>å®ä¹ï¼</p>
<ul>
<li>æ­£æ ·æ¬éå<p></p><div class="math display">\[P = { i \mid y_i = 1 }
\]</div><p></p></li>
<li>è´æ ·æ¬éå<p></p><div class="math display">\[N = { j \mid y_j = 0 }
\]</div><p></p></li>
</ul>
<h3 id="2-auc-çæ¦çå®ä¹ææ¬è´¨å®ä¹">2. AUC çæ¦çå®ä¹ï¼ææ¬è´¨å®ä¹ï¼</h3>
<p><strong>AUC çæ¦çå®ä¹æ¯ï¼</strong></p>
<p>ä»æ­£æ ·æ¬éåä¸­éæºæ½åä¸ä¸ªæ ·æ¬ï¼ä»è´æ ·æ¬éåä¸­éæºæ½åä¸ä¸ªæ ·æ¬ï¼<br>
æ­£æ ·æ¬çé¢æµåæ°å¤§äºè´æ ·æ¬é¢æµåæ°çæ¦çã</p>
<p>å¶æ°å­¦å½¢å¼ä¸ºï¼</p>
<p></p><div class="math display">\[\mathrm{AUC}
=

\frac{1}{|P|\cdot|N|}
\sum_{p \in P}\sum_{n \in N}
\left[
\mathbb{I}(s_p &gt; s_n)
+
\frac{1}{2}\mathbb{I}(s_p = s_n)
\right]
\]</div><p></p><p>å¶ä¸­ï¼</p>
<ul>
<li><span class="math inline">\(\mathbb{I}(\cdot)\)</span> ä¸ºæç¤ºå½æ°</li>
<li>å½ <span class="math inline">\(s_p = s_n\)</span> æ¶è®°ä¸º <span class="math inline">\(0.5\)</span>ï¼è¡¨ç¤ºéæºæå¹³</li>
</ul>
<h3 id="3-è¿ä¸ç¹æå³çä»ä¹">3. è¿ä¸ç¹æå³çä»ä¹ï¼</h3>
<ul>
<li>AUC <strong>ä¸ä¾èµä»»ä½éå¼</strong></li>
<li>AUC <strong>ä¸æ¯ä¸ä¸ªåç±»ææ ï¼èæ¯ä¸ä¸ªæåºææ </strong></li>
<li>AUC è¡¡éçæ¯ï¼<br>
<strong>æ¨¡åæ¯å¦å¾åäºææ­£æ ·æ¬æ´ä½æå¨è´æ ·æ¬åé¢</strong></li>
</ul>
<p>è¿ä¹æ¯ä¸ºä»ä¹å¨æ¨èç³»ç»ä¸­ï¼å³ä¾¿æç»æ²¡ææç¡®çâæ­£è´åç±»å³ç­âï¼AUC ä¾ç¶æ¯ææ ¸å¿çç¦»çº¿è¯ä¼°ææ ä¹ä¸ã</p>
<h2 id="äºroc-æ²çº¿å®ä¹å ä½è§è§ä¸çåä¸ä¸ªé">äºãROC æ²çº¿å®ä¹ï¼å ä½è§è§ä¸çåä¸ä¸ªé</h2>
<h3 id="1-roc-æ²çº¿å¦ä½æé ">1. ROC æ²çº¿å¦ä½æé </h3>
<p>ç»å®ä¸ç»é¢æµåæ° <span class="math inline">\(s_i\)</span>ï¼æä»¬å¼å¥ä¸ä¸ªéå¼ <span class="math inline">\(\tau\)</span>ï¼</p>
<ul>
<li>è¥ <span class="math inline">\(s_i \ge \tau\)</span>ï¼é¢æµä¸ºæ­£ç±»</li>
<li>è¥ <span class="math inline">\(s_i &lt; \tau\)</span>ï¼é¢æµä¸ºè´ç±»</li>
</ul>
<p>å¨æ¯ä¸ä¸ªéå¼ <span class="math inline">\(\tau\)</span> ä¸ï¼å¯ä»¥è®¡ç®ï¼</p>
<ul>
<li>çé³æ§çï¼TPRï¼<p></p><div class="math display">\[\mathrm{TPR}(\tau)
=

\frac{\mathrm{TP}}{\mathrm{P}}
\]</div><p></p></li>
<li>åé³æ§çï¼FPRï¼<p></p><div class="math display">\[\mathrm{FPR}(\tau)
=

\frac{\mathrm{FP}}{\mathrm{N}}
\]</div><p></p></li>
</ul>
<p>å½éå¼ <span class="math inline">\(\tau\)</span> ä» <span class="math inline">\(+\infty\)</span> è¿ç»­ä¸éå° <span class="math inline">\(-\infty\)</span> æ¶ï¼<br>
ç¹å¯¹ <span class="math inline">\((\mathrm{FPR}(\tau), \mathrm{TPR}(\tau))\)</span> å¨å¹³é¢ä¸å½¢æä¸æ¡æ²çº¿ï¼å³ <strong>ROC æ²çº¿</strong>ã</p>
<h3 id="2-auc-ç-roc-å®ä¹">2. AUC ç ROC å®ä¹</h3>
<p><strong>AUC å®ä¹ä¸º ROC æ²çº¿ä¸æ¹çé¢ç§¯ï¼</strong></p>
<p></p><div class="math display">\[\mathrm{AUC}
=

\int_0^1 \mathrm{TPR}(\mathrm{FPR}) , d(\mathrm{FPR})
\]</div><p></p><p>è¿æ¯ä¸ä¸ª<strong>å ä½æä¹ä¸çå®ä¹</strong>ã</p>
<h2 id="ä¸ä¸¤ç§å®ä¹ä¸ºä»ä¹æ¯å®å¨ç­ä»·ç">ä¸ãä¸¤ç§å®ä¹ä¸ºä»ä¹æ¯å®å¨ç­ä»·çï¼</h2>
<p>ä¸ä¸ªç»è®¡å­¦ä¹ ä¸­çç»å¸ç»è®ºæ¯ï¼</p>
<p></p><div class="math display">\[\boxed{
\mathrm{AUC}
=

P(s^+ &gt; s^-)
}
\]</div><p></p><p>å¶ä¸­ <span class="math inline">\(s^+\)</span> è¡¨ç¤ºæ­£æ ·æ¬åæ°ï¼<span class="math inline">\(s^-\)</span> è¡¨ç¤ºè´æ ·æ¬åæ°ã</p>
<p>ç´è§è§£éå¦ä¸ï¼</p>
<ul>
<li>ROC æ²çº¿æ¬è´¨æ¯å¨ <strong>æç§ score ä»é«å°ä½æ«ææåºç»æ</strong></li>
<li>æ¯éå°ä¸ä¸ªæ­£æ ·æ¬ï¼TPR å¢å </li>
<li>æ¯éå°ä¸ä¸ªè´æ ·æ¬ï¼FPR å¢å </li>
<li>æä¸ªæ­£æ ·æ¬æ¯å¦âæ©äºâè´æ ·æ¬è¢«æ«æå°ï¼æ­£å¯¹åºäº<p></p><div class="math display">\[s^+ &gt; s^-
\]</div><p></p></li>
</ul>
<p>å æ­¤ï¼</p>
<blockquote>
<p><strong>ROC æ²çº¿ä¸é¢ç§¯ï¼ç­ä»·äºæææ­£è´æ ·æ¬å¯¹ä¸­ï¼æåºæ­£ç¡®çæ¯ä¾ã</strong></p>
</blockquote>
<p>ROC åªæ¯å°âæåºå³ç³»âç¨å ä½æ¹å¼è¿è¡äºè¡¨è¾¾ã</p>
<h2 id="åä¸ä¸ªå®æ´å¯æç®çä¾å­">åãä¸ä¸ªå®æ´ãå¯æç®çä¾å­</h2>
<h3 id="1-æ ·æ¬ä¸é¢æµåæ°">1. æ ·æ¬ä¸é¢æµåæ°</h3>
<table>
<thead>
<tr>
<th>æ ·æ¬</th>
<th>label</th>
<th>score</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>1</td>
<td>0.90</td>
</tr>
<tr>
<td>B</td>
<td>1</td>
<td>0.60</td>
</tr>
<tr>
<td>C</td>
<td>0</td>
<td>0.70</td>
</tr>
<tr>
<td>D</td>
<td>0</td>
<td>0.40</td>
</tr>
<tr>
<td>E</td>
<td>0</td>
<td>0.20</td>
</tr>
</tbody>
</table>
<ul>
<li>æ­£æ ·æ¬ï¼A, B</li>
<li>è´æ ·æ¬ï¼C, D, E</li>
<li>æ­£è´æ ·æ¬å¯¹æ»æ°ï¼<span class="math inline">\(2 \times 3 = 6\)</span></li>
</ul>
<hr>
<h3 id="2-ææ¦çå®ä¹éå¯¹æ¯è¾">2. ææ¦çå®ä¹éå¯¹æ¯è¾</h3>
<table>
<thead>
<tr>
<th>æ­£æ ·æ¬</th>
<th>è´æ ·æ¬</th>
<th>æ¯å¦æåºæ­£ç¡®</th>
</tr>
</thead>
<tbody>
<tr>
<td>A(0.90)</td>
<td>C(0.70)</td>
<td>â</td>
</tr>
<tr>
<td>A(0.90)</td>
<td>D(0.40)</td>
<td>â</td>
</tr>
<tr>
<td>A(0.90)</td>
<td>E(0.20)</td>
<td>â</td>
</tr>
<tr>
<td>B(0.60)</td>
<td>C(0.70)</td>
<td>â</td>
</tr>
<tr>
<td>B(0.60)</td>
<td>D(0.40)</td>
<td>â</td>
</tr>
<tr>
<td>B(0.60)</td>
<td>E(0.20)</td>
<td>â</td>
</tr>
</tbody>
</table>
<ul>
<li>æåºæ­£ç¡®å¯¹æ°ï¼5</li>
<li>æ»å¯¹æ°ï¼6</li>
</ul>
<p></p><div class="math display">\[\mathrm{AUC} = \frac{5}{6} \approx 0.833
\]</div><p></p><h2 id="äºå¯¹åºçè®¡ç®ä»£ç ">äºãå¯¹åºçè®¡ç®ä»£ç </h2>
<p>ä¸é¢ç»åºä¸¤ç§ AUC è®¡ç®å®ç°ã</p>
<h3 id="1-æ¦çå®ä¹ä¸¤ä¸¤æ¯è¾å®ä¹ç´è¯">1. æ¦çå®ä¹ï¼ä¸¤ä¸¤æ¯è¾ï¼å®ä¹ç´è¯ï¼</h3>
<pre><code class="language-python">def auc_pairwise(labels, scores):
    """
    åºäº AUC çæ¦çå®ä¹ï¼Pairwise Comparisonï¼è¿è¡è®¡ç®ã

    è¾å¥ï¼
    - labels: List[int] æ 1D array
        æ ·æ¬çå®æ ç­¾ï¼åå¼ä¸º {0, 1}
        1 è¡¨ç¤ºæ­£æ ·æ¬ï¼0 è¡¨ç¤ºè´æ ·æ¬
    - scores: List[float] æ 1D array
        æ¨¡åå¯¹æ¯ä¸ªæ ·æ¬ç»åºçé¢æµåæ°ï¼åæ°è¶å¤§è¡¨ç¤ºè¶å¾åæ­£ç±»

    è¾åºï¼
    - auc: float
        AUC å¼ï¼åå¼èå´ [0, 1]

    æ ¸å¿ææ³ï¼
    éæºåä¸ä¸ªæ­£æ ·æ¬ p åä¸ä¸ªè´æ ·æ¬ nï¼
    ç»è®¡ P(score_p &gt; score_n) çæ¯ä¾
    """

    # æåæ­£æ ·æ¬ (label=1) çé¢æµåæ°
    pos_scores = [s for l, s in zip(labels, scores) if l == 1]

    # æåè´æ ·æ¬ (label=0) çé¢æµåæ°
    neg_scores = [s for l, s in zip(labels, scores) if l == 0]

    # æåºæ­£ç¡®çæ­£è´æ ·æ¬å¯¹æ°éï¼åè®¸ 0.5 çæå¹³è´¡ç®ï¼
    correct = 0.0

    # æ­£è´æ ·æ¬å¯¹çæ»æ°é |P| * |N|
    total = len(pos_scores) * len(neg_scores)

    # å¯¹æææ­£è´æ ·æ¬å¯¹è¿è¡ä¸¤ä¸¤æ¯è¾
    for sp in pos_scores:        # sp: positive sample score
        for sn in neg_scores:    # sn: negative sample score
            if sp &gt; sn:
                # æ­£æ ·æ¬åæ°ä¸¥æ ¼å¤§äºè´æ ·æ¬åæ°ï¼æåºæ­£ç¡®
                correct += 1.0
            elif sp == sn:
                # åæ°ç¸ç­ï¼æçº¦å®è®¡ä¸º 0.5ï¼éæºæå¹³ï¼
                correct += 0.5
            # sp &lt; sn æ¶ä¸å åï¼è¡¨ç¤ºæåºéè¯¯

    # AUC = æåºæ­£ç¡®çæ¯ä¾
    return correct / total
</code></pre>
<p><strong>å¤æåº¦åæï¼</strong></p>
<ul>
<li>æ¶é´å¤æåº¦ï¼<p></p><div class="math display">\[O(|P| \cdot |N|)
\]</div><p></p>å¶ä¸­ <span class="math inline">\(|P|\)</span> ä¸ºæ­£æ ·æ¬æ°ï¼<span class="math inline">\(|N|\)</span> ä¸ºè´æ ·æ¬æ°</li>
<li>ç©ºé´å¤æåº¦ï¼<p></p><div class="math display">\[O(|P| + |N|)
\]</div><p></p></li>
</ul>
<p><strong>éç¨åºæ¯ï¼</strong></p>
<ul>
<li>ä¸¥æ ¼å¯¹åº AUC çæ¦çå®ä¹</li>
<li>éåæå­¦ãçè®ºéªè¯ãå°è§æ¨¡æ°æ®</li>
<li>ä¸éç¨äºå·¥ç¨åå¤§è§æ¨¡ç¦»çº¿è®¡ç®</li>
</ul>
<hr>
<h3 id="2-æåº--rank-based-å®ç°å·¥ç¨ææ³">2. æåº / Rank-based å®ç°ï¼å·¥ç¨ææ³ï¼</h3>
<pre><code class="language-python">import numpy as np

def auc_rank(labels, scores):
    """
    åºäºæåºï¼Rank / MannâWhitney Uï¼ç AUC è®¡ç®æ¹æ³ã

    è¾å¥ï¼
    - labels: List[int] æ 1D numpy array
        æ ·æ¬çå®æ ç­¾ï¼åå¼ä¸º {0, 1}
    - scores: List[float] æ 1D numpy array
        æ¨¡åé¢æµåæ°ï¼åæ°è¶å¤§è¡¨ç¤ºè¶å¯è½ä¸ºæ­£æ ·æ¬

    è¾åºï¼
    - auc: float
        AUC å¼ï¼åå¼èå´ [0, 1]

    æ ¸å¿ææ³ï¼
    1. æé¢æµåæ°ä»å°å°å¤§æåº
    2. æ«ææåºåçæ ·æ¬åºå
    3. æ¯éå°ä¸ä¸ªæ­£æ ·æ¬ï¼ç»è®¡å¶åé¢å·²æå¤å°è´æ ·æ¬
       è¿äºè´æ ·æ¬é½è¢«è¯¥æ­£æ ·æ¬âæ­£ç¡®å°æå¨åé¢â
    """

    # è½¬ä¸º numpy arrayï¼ä¾¿äºæåºååéåæä½
    labels = np.asarray(labels)
    scores = np.asarray(scores)

    # è·åæç§ score ä»å°å°å¤§æåºåçç´¢å¼
    order = np.argsort(scores)

    # ææåºåçé¡ºåºéææ ç­¾
    labels_sorted = labels[order]

    # æ­£æ ·æ¬æ°é |P|
    n_pos = np.sum(labels_sorted == 1)

    # è´æ ·æ¬æ°é |N|
    n_neg = np.sum(labels_sorted == 0)

    # å·²æ«æå°çè´æ ·æ¬æ°éï¼åç¼è´æ ·æ¬è®¡æ°ï¼
    neg_count = 0

    # æåºæ­£ç¡®çæ­£è´æ ·æ¬å¯¹æ°é
    correct = 0.0

    # ä»ä½åå°é«åæ«æ
    for l in labels_sorted:
        if l == 1:
            # å½åæ¯æ­£æ ·æ¬ï¼
            # å®åé¢çææè´æ ·æ¬é½æ»¡è¶³ score_neg &lt; score_pos
            correct += neg_count
        else:
            # å½åæ¯è´æ ·æ¬ï¼å¢å è´æ ·æ¬è®¡æ°
            neg_count += 1

    # AUC = æåºæ­£ç¡®çæ­£è´æ ·æ¬å¯¹ / æ»æ­£è´æ ·æ¬å¯¹
    return correct / (n_pos * n_neg)
</code></pre>
<p><strong>å¤æåº¦åæï¼</strong></p>
<ul>
<li>æ¶é´å¤æåº¦ï¼<p></p><div class="math display">\[O(n \log n)
\]</div><p></p>ä¸»è¦æ¥èªæåºæä½ï¼å¶ä¸­ <span class="math inline">\(n = |P| + |N|\)</span></li>
<li>ç©ºé´å¤æåº¦ï¼<p></p><div class="math display">\[O(n)
\]</div><p></p></li>
</ul>
<p><strong>å·¥ç¨è¯´æï¼</strong></p>
<ul>
<li>ä¸ MannâWhitney U ç»è®¡éå®å¨ç­ä»·</li>
<li>æ¯å·¥ä¸çç¦»çº¿ AUC è®¡ç®ï¼Spark / MapReduce / Flinkï¼ççè®ºåºç¡</li>
<li>å¯èªç¶æ©å±ä¸ºåæ¡¶ãå userãåå®éªç»ç AUC ç»è®¡</li>
</ul>

</div>
<div class="clear"></div>

		<p class="postfoot">
			posted on 
<span id="post-date" data-last-update-days="0.0006944444444444445" data-date-updated="2026-01-06 20:28">2026-01-06 20:27</span>&nbsp;
<a href="https://www.cnblogs.com/GlenTt">GlenTt</a>&nbsp;
éè¯»(<span id="post_view_count">12</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19449279);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19449279', targetLink: 'https://www.cnblogs.com/GlenTt/p/19449279', title: 'AUC çä¸¤ç§ç­ä»·å®ä¹ï¼ä»æåºæ¦çå° ROC æ²çº¿çç»ä¸çè§£' })">ä¸¾æ¥</a>

		</p>
	 ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ æ§è½æå4åï¼ä½¿ç¨Granianä½ä¸ºDjangoé¡¹ç®çASGIæå¡å¨ ]]></title>
    <link>https://www.cnblogs.com/deali/p/19449242</link>
    <guid>34a183ec83010b54501b7079b4c8f4f0</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/deali/p/19449242" title="åå¸äº 2026-01-06 20:11">
    <span role="heading" aria-level="2">æ§è½æå4åï¼ä½¿ç¨Granianä½ä¸ºDjangoé¡¹ç®çASGIæå¡å¨</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="åè¨">åè¨</h2>
<p>æè¿æåç»§ç»­å¨å¼å DjangoStarter çæ°çæ¬äºã</p>
<p>ä¹åä¸ºäºå®ç° docker é¨ç½²ï¼ææ Nginx æåè¿äº DjangoStarter ç compose éç½®éäºï¼ä¸è¿è¿å¸¦æ¥äºéç½®çå¤æåº¦ï¼ç¹å«æ¯è¿è¦æ­éæ¡æ¶å®ç° URL prefix ä¹ç±»çåè½ã</p>
<p>ä» v3.2.x çæ¬å¼å§ï¼æå°±å¯å¨äºåæ³è®¡åï¼ç®åä»£ç ååè½ï¼åå°å¿æºè´æï¼è¿ä¸ª Nginx å®¹å¨ä¹æ¯æä¸ç´æ³å»æçã</p>
<p>æè¿åç° Granian è¿ä¸ª Rust å¼åç ASGI æå¡å¨ï¼æ§è½é«ï¼èä¸è¿å¯ä»¥æ¯æéææä»¶ï¼æ­£å¥½å®ç¾ç¬¦åæçéæ±ï¼äºæ¯è¿æ¬¡æ­£å¥½æ¿æ¥æ¿æ¢åæ¬ä½¿ç¨ç Daphne</p>
<h2 id="granian">Granian</h2>
<p>é¡¹ç®ä¸»é¡µ: <a href="https://github.com/emmett-framework/granian" target="_blank" rel="noopener nofollow">https://github.com/emmett-framework/granian</a></p>
<p>Granian æ¯ä¸æ¬¾é«æ§è½ Python Web Serverï¼æ¯æ ASGIãWSGIãRSGIï¼åºäº Rust ç¼åï¼å¯å¨éåº¦å¿«ãå¹¶åè½åå¼ºï¼éå¸¸éå Django / FastAPI / Starletteã</p>
<p>å®æ¹æè¿°ä¸º âA Rust HTTP server for Python applications built on top of Hyper/Tokioâã</p>
<p>ç¹ç¹ï¼</p>
<ul>
<li>æ¯æ <strong>ASGI 3</strong>ã<strong>RSGI</strong>ï¼Rust-Server-Gateway Interfaceï¼å <strong>WSGI</strong> æ¥å£ã</li>
<li>æ¯æ HTTP/1 å HTTP/2ï¼æªæ¥è®¡å HTTP/3ï¼åè®®ã</li>
<li>æ¯æéææä»¶ç´åº (âDirect static files servingâ)ã</li>
</ul>
<h2 id="ä½¿ç¨æ¹å¼">ä½¿ç¨æ¹å¼</h2>
<p>å¾ç®åï¼ä¸éè¦ä¿®æ¹ä»£ç ï¼åªéè¦ä¿®æ¹å¯å¨å½ä»¤ã</p>
<p>ç®åæ­é DjangoStarter ä½¿ç¨çå¯å¨å½ä»¤æ¯è¿æ ·çï¼</p>
<pre><code class="language-bash">granian --interface asgi --host 0.0.0.0 --port 8000 --static-path-route /static --static-path-mount ./static-dist config.asgi:application
</code></pre>
<p>ç±»ä¼¼ uvicornï¼è¿ä¸ª granian ä¹æ¯æç­éè½½ï¼å ä¸ª <code>--reload</code> åæ°å°±è¡äº</p>
<h2 id="æ§è½æµè¯">æ§è½æµè¯</h2>
<p>æ¬æ¬¡ç¨ wrk è¿è¡æ§è½æµè¯</p>
<h3 id="æµè¯æ°æ®">æµè¯æ°æ®</h3>
<p>ä»¥ä¸æ°æ®å¨è¾è®¯äº 2 cores CPU + 2G åå­çæå¡å¨ä¸æµå¾ã</p>
<p>django 5.x + ninja + daphne</p>
<pre><code>$ wrk -t4 -c200 -d30s http://127.0.0.1:9876/api/django-starter/monitoring/health
Running 30s test @ http://127.0.0.1:9876/api/django-starter/monitoring/health
  4 threads and 200 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     1.97s     0.00us   1.97s   100.00%
    Req/Sec    38.55     55.33   343.00     90.23%
  1343 requests in 30.04s, 760.03KB read
  Socket errors: connect 0, read 0, write 0, timeout 1342
Requests/sec:     44.70
Transfer/sec:     25.30KB
</code></pre>
<p>django 5.x + ninja + granian</p>
<pre><code>$ wrk -t4 -c200 -d30s http://127.0.0.1:9875/api/django-starter/monitoring/hea
lth
Running 30s test @ http://127.0.0.1:9875/api/django-starter/monitoring/health
  4 threads and 200 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     1.20s    93.05ms   1.72s    82.69%
    Req/Sec    83.13    105.81   460.00     83.72%
  4980 requests in 30.04s, 2.85MB read
Requests/sec:    165.76
Transfer/sec:     97.31KB
</code></pre>
<p>å ä¸ºå¥½å¥ï¼æè¿æ¾å°ä¹åä¸ä¸ªå¾èçé¡¹ç®ï¼ä½¿ç¨WSGIé¨ç½²çè¿è¡å¯¹æ¯ã</p>
<p>ä»¥ä¸æ°æ®å¨ç§æäºç 4 cores CPU + 2G åå­æå¡å¨ä¸æµå¾ã</p>
<p>å ä¸ºæ¯å®å¨ä¸åçæå¡å¨ç¡¬ä»¶ï¼æ°æ®ä»ä¾åèã</p>
<p>Django 3.x + drf + uwsgi + nginx</p>
<pre><code>$ wrk -t4 -c200 -d30s http://127.0.0.1:9001/api/health/
Running 30s test @ http://127.0.0.1:9001/api/health/
  4 threads and 200 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   295.30ms  373.95ms   1.96s    85.14%
    Req/Sec   205.54     68.42   380.00     73.73%
  19583 requests in 30.09s, 5.83MB read
  Socket errors: connect 0, read 0, write 0, timeout 474
  Non-2xx or 3xx responses: 12
Requests/sec:    650.89
Transfer/sec:    198.32KB
</code></pre>
<p>Django 3.x + ninja + uwsgi + nginx</p>
<pre><code>$ wrk -t4 -c200 -d30s http://127.0.0.1:9001/api2/health
Running 30s test @ http://127.0.0.1:9001/api2/health
  4 threads and 200 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   203.75ms  280.30ms   1.95s    88.44%
    Req/Sec   250.81    108.59   500.00     61.21%
  22542 requests in 30.06s, 5.68MB read
  Socket errors: connect 0, read 0, write 0, timeout 420
  Non-2xx or 3xx responses: 12
Requests/sec:    749.88
Transfer/sec:    193.35KB
</code></pre>
<h3 id="ç»è®º">ç»è®º</h3>
<p>ä»¥ä¸æ¯ä½¿ç¨ AI å¯¹ä¸é¢çæµè¯æ°æ®è¿è¡åæçç»è®ºï¼ä¸è¿ ASGI å uWSGI ä¸å¨åä¸å°æå¡å¨è¿è¡æµè¯ï¼å¶å®å¾é¾ç´æ¥å¯¹æ¯ãç®åçæ¥åæ¢å° Granian ç¡®å®å¯ä»¥æé«4åçæ§è½ã</p>
<p>â  Daphne å¨ Django + ASGI ä¸çæ§è½è¡¨ç°éå¸¸å·®</p>
<ul>
<li>å»¶è¿ç´æ¥é£å° <strong>1.9 ç§çº§å«</strong>ï¼</li>
<li>wrk 200 å¹¶åå ä¹æå®åæï¼</li>
<li><strong>1343 è¯·æ±é 1342 è¶æ¶</strong>ï¼ç­äºå®å¨é¡¶ä¸ä½ã</li>
</ul>
<p>è¯´ç½äºï¼<strong>Daphne æ´åæ¯å¼åç¯å¢æå¡å¨ï¼ä¸æ¨èä¸çäº§é«å¹¶åã</strong></p>
<p>â¡ Granian æ§è½æ¯ Daphne å¥½ 3â4 åï¼ä½ä»ç¶æé</p>
<ul>
<li>æ¯ç§å¤ç <strong>165 req/s</strong>ï¼åæºæ¿ãåä»£ç ï¼ã</li>
<li>å»¶è¿ä»ç¶å¨ <strong>1.2s</strong> å·¦å³ï¼è¿ä¸ç®çæ³ï¼å¨é«å¹¶åä¸ä»ååï¼ã</li>
<li>ä¼ç¹æ¯ ASGI åç + Rust å®ç°ï¼æ¯ Daphne å¼ºå¤ªå¤ã</li>
</ul>
<p>ç´è§æåï¼<strong>Granian è½ç¨ï¼ä½ä½ å«ææå®å uWSGI é£æ ·ææµéã</strong></p>
<p>â¢ uWSGIï¼WSGIï¼è¡¨ç°ç¢¾åï¼åæºå¯è¾¾ 650â750 req/s çº§å«</p>
<ul>
<li>æ§è½ç´æ¥æ¯ granian ç <strong>4ï½5 å</strong>ã</li>
<li>è½ç¶æ¯èæ¶æï¼WSGIï¼ï¼ä½è°ä¼æçãç¨³å®ãåéæºå¶å¼ºï¼æåè½åè¿å¼ºäºåç±» ASGI æå¡ã</li>
</ul>
<p>ç®èè¨ä¹ï¼<strong>å¦æä¸ç¨å¼æ­¥ï¼WSGI ä¾æ§æ¯ Django çæå¼ºé¨ç½²æ¹å¼ï¼æ§è½å±é¢ï¼ã</strong></p>
<h2 id="docker-compose">docker-compose</h2>
<p>è¿æ¯ç²¾ç®åç compose éç½®</p>
<pre><code class="language-yaml">services:
  app:
    image: ${APP_IMAGE_NAME}:${APP_IMAGE_TAG}
    container_name: $APP_NAME-app
    command:
      - granian
      - --interface
      - asgi
      - --host
      - 0.0.0.0
      - --port
      - "${APP_INTERNAL_PORT:-8000}"
      - --static-path-route
      - /static
      - --static-path-mount
      - /project/static-dist
      - config.asgi:application
</code></pre>
<h2 id="å½ä»¤è¡åæ°">å½ä»¤è¡åæ°</h2>
<p>å®çå½ä»¤è¡ç»æå¾ç®åï¼</p>
<pre><code class="language-bash">granian [OPTIONS] APP
</code></pre>
<p>å¶ä¸­ï¼</p>
<ul>
<li><strong>APP</strong> æ¯å¥å£ï¼ä¾å¦ï¼<code>config.asgi:application</code></li>
<li><strong>OPTIONS</strong> æ¯åç§éç½®åæ°</li>
</ul>
<p>ä¸é¢æåç±»æ´çææåæ°ï¼éå¸¦è¯´æä¸å»ºè®®ï¼ã</p>
<h3 id="-åºç¡åæ°å¯å¨å¿è¦é¡¹">ð§© åºç¡åæ°ï¼å¯å¨å¿è¦é¡¹ï¼</h3>
<table>
<thead>
<tr>
<th>åæ°</th>
<th>è¯´æ</th>
<th>é»è®¤å¼</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>APP</code></td>
<td><strong>è¦å¯å¨çåºç¨å¥å£</strong>ï¼å¦ <code>mysite.asgi:application</code>ï¼</td>
<td>å¿å¡«</td>
</tr>
<tr>
<td><code>--interface</code></td>
<td>æ¥å£ç±»åï¼<code>asgi</code> / <code>asginl</code> / <code>rsgi</code> / <code>wsgi</code></td>
<td>rsgi</td>
</tr>
<tr>
<td><code>--host</code></td>
<td>çå¬å°å</td>
<td>127.0.0.1</td>
</tr>
<tr>
<td><code>--port</code></td>
<td>ç«¯å£</td>
<td>8000</td>
</tr>
<tr>
<td><code>--uds</code></td>
<td>ä½¿ç¨ Unix Domain Socket</td>
<td>æ </td>
</tr>
<tr>
<td><code>--http</code></td>
<td>HTTP çæ¬ï¼<code>1</code>ã<code>2</code>ã<code>auto</code></td>
<td>auto</td>
</tr>
<tr>
<td><code>--workers</code></td>
<td>Worker è¿ç¨æ°</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>ð DjangoãFastAPI ç¨æ·ä¸è¬åï¼</p>
<pre><code>--interface asgi
</code></pre>
<h3 id="ï¸-éææä»¶æå¡django-ä¸ç¨éç½®">ðï¸ éææä»¶æå¡ï¼Django ä¸ç¨éç½®ï¼</h3>
<p>Granian åç½®éææä»¶æå¡ï¼</p>
<table>
<thead>
<tr>
<th>åæ°</th>
<th>è¯´æ</th>
<th>é»è®¤å¼</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--static-path-route</code></td>
<td>URL è·¯ç±åç¼ï¼ä¾å¦ <code>/static</code></td>
<td>/static</td>
</tr>
<tr>
<td><code>--static-path-mount</code></td>
<td>æä»¶ç®å½ï¼ä¾å¦ <code>/project/static-dist</code></td>
<td>æ </td>
</tr>
<tr>
<td><code>--static-path-expires</code></td>
<td>ç¼å­æ¶é´ï¼ç§ï¼</td>
<td>86400</td>
</tr>
</tbody>
</table>
<p>ç¤ºä¾ï¼</p>
<pre><code>--static-path-route /static --static-path-mount /project/static-dist
</code></pre>
<h3 id="ï¸-å¤è¿ç¨çº¿ç¨äºä»¶å¾ªç¯éé¡¹">âï¸ å¤è¿ç¨ãçº¿ç¨ãäºä»¶å¾ªç¯éé¡¹</h3>
<p>Worker / Thread</p>
<table>
<thead>
<tr>
<th>åæ°</th>
<th>è¯´æ</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--workers</code></td>
<td>Worker æ°é</td>
</tr>
<tr>
<td><code>--blocking-threads</code></td>
<td>é»å¡çº¿ç¨æ°</td>
</tr>
<tr>
<td><code>--runtime-threads</code></td>
<td>Runtime çº¿ç¨æ°</td>
</tr>
<tr>
<td><code>--runtime-blocking-threads</code></td>
<td>Runtime I/O é»å¡çº¿ç¨</td>
</tr>
</tbody>
</table>
<p>å»ºè®®ï¼</p>
<ul>
<li><strong>CPU Ã 2</strong> å·¦å³ç worker å®¹ééå¸¸å¤ç¨</li>
<li>å¤§é¨å ASGI é¡¹ç®ä¸éè¦è° thread åæ°</li>
</ul>
<h3 id="-äºä»¶å¾ªç¯--runtime">ð äºä»¶å¾ªç¯ &amp; Runtime</h3>
<table>
<thead>
<tr>
<th>åæ°</th>
<th>è¯´æ</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--loop</code></td>
<td>äºä»¶å¾ªç¯ï¼<code>auto</code>ã<code>asyncio</code>ã<code>rloop</code>ã<code>uvloop</code></td>
</tr>
<tr>
<td><code>--task-impl</code></td>
<td>task æ§è¡å¨ï¼<code>asyncio</code> / <code>rust</code></td>
</tr>
<tr>
<td><code>--runtime-mode</code></td>
<td>åçº¿ç¨ <code>st</code> / å¤çº¿ç¨ <code>mt</code></td>
</tr>
</tbody>
</table>
<p>éç¨å»ºè®®ï¼</p>
<ul>
<li>æ®éé¡¹ç®ï¼ç¨é»è®¤å³å¯</li>
<li>é«å¹¶åï¼<code>--task-impl rust</code> æ§è½æ´å¼º</li>
</ul>
<h3 id="-http1-ä¸-http2-ç¸å³åæ°">ð HTTP/1 ä¸ HTTP/2 ç¸å³åæ°</h3>
<table>
<thead>
<tr>
<th>ç±»å«</th>
<th>å¸¸ç¨éç½®</th>
</tr>
</thead>
<tbody>
<tr>
<td>HTTP/1</td>
<td><code>--http1-buffer-size</code>ã<code>--http1-keep-alive</code></td>
</tr>
<tr>
<td>HTTP/2</td>
<td><code>--http2-*</code> ä¸ç³»ååæ°æ§å¶ flow controlãçªå£ãkeepaliveãstream æ°éç­</td>
</tr>
</tbody>
</table>
<p>å¤§é¨åé¡¹ç®æ éè°æ´ï¼é»è®¤å³å¯ã</p>
<h3 id="-æ¥å¿logging">ð æ¥å¿ï¼Loggingï¼</h3>
<table>
<thead>
<tr>
<th>åæ°</th>
<th>è¯´æ</th>
<th>é»è®¤</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--log / --no-log</code></td>
<td>å¯ç¨æ¥å¿</td>
<td>enabled</td>
</tr>
<tr>
<td><code>--log-level</code></td>
<td>æ¥å¿ç­çº§</td>
<td>info</td>
</tr>
<tr>
<td><code>--log-config</code></td>
<td>ä½¿ç¨ JSON éç½®æä»¶</td>
<td>æ </td>
</tr>
<tr>
<td><code>--access-log</code></td>
<td>å¼å¯ access log</td>
<td>disabled</td>
</tr>
<tr>
<td><code>--access-log-fmt</code></td>
<td>Access log æ ¼å¼</td>
<td>æ </td>
</tr>
</tbody>
</table>
<p>å¦æä½ å¸æçäº§ç¯å¢æ Nginx æ ·å¼ç access logï¼</p>
<pre><code>--access-log --access-log-fmt "%a %r %s %b"
</code></pre>
<h3 id="-ç­éè½½å¼åç¯å¢ç¨">ð ç­éè½½ï¼å¼åç¯å¢ç¨ï¼</h3>
<table>
<thead>
<tr>
<th>åæ°</th>
<th>è¯´æ</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--reload</code></td>
<td>å¼å¯èªå¨éè½½</td>
</tr>
<tr>
<td><code>--reload-paths</code></td>
<td>æå®çæ§ç®å½</td>
</tr>
<tr>
<td><code>--reload-ignore-*</code></td>
<td>å¿½ç¥ç®å½ãè·¯å¾ãpattern</td>
</tr>
</tbody>
</table>
<p>ä¾å¦ï¼</p>
<pre><code>--reload --reload-paths src/
</code></pre>
<h3 id="-https">ð HTTPS</h3>
<table>
<thead>
<tr>
<th>åæ°</th>
<th>è¯´æ</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--ssl-certificate</code></td>
<td>è¯ä¹¦æä»¶</td>
</tr>
<tr>
<td><code>--ssl-keyfile</code></td>
<td>å¯é¥æä»¶</td>
</tr>
<tr>
<td><code>--ssl-ca</code></td>
<td>CA</td>
</tr>
<tr>
<td><code>--ssl-client-verify</code></td>
<td>å®¢æ·ç«¯è¯ä¹¦éªè¯</td>
</tr>
</tbody>
</table>
<p>ï¼ä¸è¬ååä»£çäº¤ç» Nginx å HTTPSï¼</p>
<h3 id="-å¶ä»æç¨ä½ä¸å¸¸æ¹çåæ°">ð§° å¶ä»æç¨ä½ä¸å¸¸æ¹çåæ°</h3>
<table>
<thead>
<tr>
<th>åæ°</th>
<th>è¯´æ</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--working-dir</code></td>
<td>åæ¢ WorkDir</td>
</tr>
<tr>
<td><code>--env-files</code></td>
<td>å è½½ç¯å¢åéæä»¶</td>
</tr>
<tr>
<td><code>--factory</code></td>
<td>APP æ¯ factory function æ¶ä½¿ç¨</td>
</tr>
<tr>
<td><code>--url-path-prefix</code></td>
<td>åºç¨æè½½åç¼</td>
</tr>
<tr>
<td><code>--process-name</code></td>
<td>èªå®ä¹è¿ç¨å</td>
</tr>
<tr>
<td><code>--pid-file</code></td>
<td>åå¥ PID æä»¶</td>
</tr>
<tr>
<td><code>--version</code></td>
<td>æ¾ç¤ºçæ¬</td>
</tr>
<tr>
<td><code>--help</code></td>
<td>æ¾ç¤ºå¸®å©</td>
</tr>
</tbody>
</table>

</div>
<div id="MySignature" role="contentinfo">
    å¾®ä¿¡å¬ä¼å·ï¼ãç¨åºè®¾è®¡å®éªå®¤ã
ä¸æ³¨äºäºèç½ç­é¨æ°ææ¯æ¢ç´¢ä¸å¢éææ·å¼åå®è·µï¼åæ¬æ¶æè®¾è®¡ãæºå¨å­¦ä¹ ä¸æ°æ®åæç®æ³ãç§»å¨ç«¯å¼åãLinuxãWebååç«¯å¼åç­ï¼æ¬¢è¿ä¸èµ·æ¢è®¨ææ¯ï¼åäº«å­¦ä¹ å®è·µç»éªã
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-06 20:12">2026-01-06 20:11</span>&nbsp;
<a href="https://www.cnblogs.com/deali">ç¨åºè®¾è®¡å®éªå®¤</a>&nbsp;
éè¯»(<span id="post_view_count">12</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19449242);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19449242', targetLink: 'https://www.cnblogs.com/deali/p/19449242', title: 'æ§è½æå4åï¼ä½¿ç¨Granianä½ä¸ºDjangoé¡¹ç®çASGIæå¡å¨' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ Zsh éç½®ç¬è®° ]]></title>
    <link>https://www.cnblogs.com/owlman/p/19449225</link>
    <guid>248670bc7bb3e6216c26b650fbc95f3d</guid>
    <description>
    <![CDATA[ 
        <h2 class="post-title">
            <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/owlman/p/19449225" title="åå¸äº 2026-01-06 20:01">
    <span role="heading" aria-level="2">Zsh éç½®ç¬è®°</span>
    

</a>

        </h2>
        <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<blockquote>
<p>[!NOTE] ç¬è®°è¯´æ</p>
<p>è¿ç¯ç¬è®°ä¸»è¦è®°å½äºæå¨ä½¿ç¨ Zsh è¿æ¬¾ Shell çè¿ç¨ä¸­æè®°å½çä¸äºå¿å¾ä¸ä½ä¼ãå®å°ä¼è¢«å­å¨å¨æä¸ªäººç <a href="https://github.com/owlman/CS_Studynotes" target="_blank" rel="noopener nofollow">è®¡ç®æºä¸ä¸ç¬è®°åº</a> ä¸­ï¼ä»¥ä¾¿æ¥åæ¥éã</p>
</blockquote>
<h2 id="zsh-ç®ä»">Zsh ç®ä»</h2>
<p>Z shellï¼ä»¥ä¸ç®ç§° Zshï¼æ¯ä¿ç½Â·å¼æ¯å¡å¾·ï¼Paul Falstadï¼äº 1990 å¹´å¨æ®ææ¯é¡¿å¤§å­¦æ±å­¦æ¶ç¼åçãä¸æ¬¾å¯ç¨ä½äº¤äºå¼ç»å½ç ShellãZsh å¯¹ <a href="https://zh.wikipedia.org/wiki/Bourne_shell" target="_blank" rel="noopener nofollow">Bourne shell</a>ååºäºå¤§éæ¹è¿ï¼åæ¶å å¥äº <a href="https://zh.wikipedia.org/wiki/Bash" target="_blank" rel="noopener nofollow">Bash</a>ã<a href="https://zh.wikipedia.org/wiki/Korn_shell" target="_blank" rel="noopener nofollow">ksh</a> å <a href="https://zh.wikipedia.org/wiki/Tcsh" target="_blank" rel="noopener nofollow">tcsh</a> çæäºåè½ã</p>
<p>2019 å¹´ï¼ç±äºæ°çæ¬ç Bash v5 å°å¼æºæææ¹æäº GPLv3 åè®®ï¼è Apple å¬å¸ä¸è´¯é¿åå¨ç³»ç»ç»ä»¶ä¸­å¼å¥ GPLv3 è½¯ä»¶ãäºæ¯èªä»é£æ¶èµ·ï¼macOS ç³»ç»ä¸çé¢ç½® Shell å°±å·²ä» Bash æ¹ä¸ºäº Zshãå¦å¤ï¼<a href="https://zh.wikipedia.org/wiki/Kali_Linux" target="_blank" rel="noopener nofollow">Kali Linux</a> ä¹ä½¿ç¨ Zsh ä½ä¸ºé¢ç½® Shellãå¶ä¸»è¦ç¹æ§åæ¬ï¼</p>
<ul>
<li>æä¾å¯ç¼ç¨çå½ä»¤è¡è¡¥å¨åè½ï¼è¯¥åè½å¯å¸®å©ç¨æ·é®å¥å¸¸ç¨å½ä»¤éé¡¹ååæ°ï¼</li>
<li>æä¾å¯ç¼ç¨çå½ä»¤è¡çé¢ï¼åæ¬å°æç¤ºè¡ä¿¡æ¯æ¾ç¤ºå¨å±å¹å³ä¾§ï¼ä»¥åèªå¨éèè¿é¿æä»¤ç­åè½ï¼</li>
<li>æä¾å¯ä¸ä»»æ Shell å±äº«çå½ä»¤è¡åå²è®°å½ï¼</li>
<li>å¯å¨ä¸åå©å¤é¨ç¨åºçæåµä¸å®ç°æä»¶çæ¥æ¾ï¼</li>
<li>æ¹è¿äºéå¯¹åé/æ°ç»çå¤çæ¹å¼ï¼</li>
<li>åè®¸å¨åç¼å²åºåç¼è¾å¤è¡å½ä»¤ï¼</li>
<li>æ¯æéå¯¹å½ä»¤çæ¼åæ£æ¥ï¼</li>
<li>æ¯æå¤ç§å¼å®¹æ¨¡å¼ï¼ä¾å¦ï¼Zsh å¯å¨è¿è¡ä¸º<code>/bin/sh</code>çæåµä¸ä¼ªè£æ Bourne shellï¼</li>
<li>æ¯æä»¥å è½½æ¨¡åçæ¹å¼å¼å¥é¢å¤çåè½ï¼åæ¬æ¯æ Unix åå¥æ¥å­æ§å¶ãFTP å®¢æ·ç«¯ç­ï¼</li>
<li>æä¾æ<code>where</code>å½ä»¤ï¼è¯¥å½ä»¤çä½¿ç¨æ¹æ³ä¸<code>which</code>å½ä»¤ç±»ä¼¼ï¼ä½è¿åçæ¯æå®æä»¤å¨<code>$PATH</code>ä¸­çå¨é¨ä½ç½®ï¼èä¸æ¯å®å½åæä¼åå¹éçä½ç½®ï¼</li>
<li>åè®¸ç¨æ·ä¸ºæå®ç®å½è®¾ç½®å«åï¼ä¾å¦ï¼ç¨æ·å¯ä»¥ä¸º<code>/usr/bin</code>è®¾ç½®å«å<code>/u</code>ï¼è¿æ ·å¨è¾å¥<code>/u</code>æ¶ï¼Zsh ä¼èªå¨å°å¶æ¿æ¢ä¸º<code>/usr/bin</code>ï¼</li>
</ul>
<h2 id="å®è£æ­¥éª¤">å®è£æ­¥éª¤</h2>
<p>å¨å®è£ä¹åï¼æå¸æè¯»èç¡®å®èªå·±æ¯å¨ç±» UNIX ç³»ç»ä¸ï¼å ä¸º Zsh æ¯å¨ç±» UNIX ç³»ç»ä¸è¿è¡ç Shell ç¨åºï¼å¦ææ¨ä½¿ç¨çæ¯ Windows ç³»ç»ï¼æ¨èä½¿ç¨ Windows Subsystem for Linuxï¼WSLï¼ãä¸é¢ä¹¦å½æ­£ä¼ ï¼Zsh å¨æ¯ä¸ªæä½ç³»ç»ä¸­çå®è£æ¹å¼å¹¶ä¸å®å¨ç¸åï¼ä¸é¢æ¯å¶å¨å ç§å¸¸è§ Linux/UNIX ç³»ç»ä¸çå®è£å½ä»¤ï¼</p>
<pre><code class="language-bash"># macOS ç³»ç»ä¸çå®è£å½ä»¤ï¼
brew install zsh

# ubuntu/debian ç³»ç»ä¸çå®è£å½ä»¤ï¼
sudo apt install zsh

# CentOS ç³»ç»ä¸çå®è£å½ä»¤ï¼
sudo yum install zsh

# ArchLinux/Manjaro ç³»ç»ä¸çå®è£å½ä»¤ï¼
sudo pacman -S zsh
</code></pre>
<p>å¦ææ¨ä½¿ç¨çæ¯ä¸è¿°æä½ç³»ç»ä¹ä¸ï¼å¨æ§è¡å®ç¸åºçå®è£å½ä»¤ä¹åï¼å°±å¯ä»¥ä½¿ç¨<code>cat /etc/shells</code>å½ä»¤æ¥çå½åç³»ç»å¯ä»¥ç¨ç Shell äºãç¶åï¼åªè¦å¨è¯¥å½ä»¤è¿åçç»æä¸­çå°<code>/bin/zsh</code>ï¼å°±è¯´æ Zsh å·²ç»å®è£å¥½äºï¼å¦å¾ 1 æç¤ºã</p>

<p><img alt="å¾ 1ï¼å½åå¯ç¨ç Shell" loading="lazy" data-src="https://img2024.cnblogs.com/blog/691082/202601/691082-20260106195509700-1475784110.png" class="lazyload"></p>
<p><strong>å¾ 1</strong>ï¼å½åå¯ç¨ç Shell</p>
<p>æ¥ä¸æ¥ï¼æä»¬å¯ä»¥ä½¿ç¨<code>chsh -s /bin/zsh</code>å½ä»¤å° Zsh è®¾ç½®ä¸ºç³»ç»é»è®¤ Shell äºãå¦æå°ç®åä¸ºæ­¢çæä½ä¸åé¡ºå©ï¼ç°å¨åªéè¦éæ°å¯å¨ä¸ä¸ª Shell ä¼è¯ï¼éå¸¸æ¯ä¸ä¸ªå½ä»¤è¡ç»ç«¯çªå£ï¼ï¼å°±ä¼çå° Zsh çåå§éç½®äºï¼å¦å¾ 2 æç¤ºã</p>

<p><img alt="å¾ 2ï¼Zsh çéç½®å¼å¯¼çé¢" loading="lazy" data-src="https://img2024.cnblogs.com/blog/691082/202601/691082-20260106195545492-898979643.png" class="lazyload"></p>
<p><strong>å¾ 2</strong>ï¼Zsh çéç½®å¼å¯¼çé¢</p>
<p>å¨ä¸è¿°çé¢ä¸­ï¼å¦ææä»¬è¾å¥<code>q</code>ä¼ç´æ¥éåºéç½®å¼å¯¼ï¼ä¸ä¸æ¬¡è¿è¡ zsh æ¶ä¼åæ¬¡è¿å¥éç½®å¼å¯¼ãå¦æè¾å¥<code>0</code>ï¼ä¹ä¼éåºéç½®å¼å¯¼ï¼ä½æ¯ä¼å¨å½åç¨æ·ç®å½çæä¸ä¸ªç©ºç½çæä»¶<code>.zshrc</code>ï¼è·¯å¾ä¸º<code>~/.zshrc</code>ï¼ï¼å¹¶ä¸ä¸ä¼åè¿å¥éç½®å¼å¯¼çé¢ãæ¢è¨ä¹ï¼Zsh ä¼ä¸ä¼å¨å¯å¨æ¶è¿å¥éç½®å¼å¯¼çé¢åå³äºå½åç¨æ·ç®å½ä¸æ¯å¦å­å¨<code>.zshrc</code>æä»¶ï¼è¯¥æä»¶æ¯ Zsh çé»è®¤éç½®æä»¶ï¼äººä»¬å¯ä»¥ä½¿ç¨ vim ç¼è¾å¨æå¼å®å¹¶è¿è¡æºç çº§å«çæå¨éç½®ãèå¦ææä»¬å¨è¿éè¾å¥<code>1</code>ï¼å°±ä¼å¼å§è¿è¡ä¸ç³»åèªå®ä¹çéç½®ãä½éå¸¸æåµä¸ï¼èèå°<code>.zshrc</code>æä»¶ä¸­åé¡¹éç½®çå¤ææ§ï¼æä»¬å¨è¿éå¹¶ä¸æ¨èè¯»èç´æ¥è¿è¡æå¨éç½®ï¼ä½¿ç¨ Oh-My-Zsh æ¥è¿è¡éç½®ä¼æ¯æ´å¥½çéæ©ã</p>
<h2 id="oh-my-zsh">Oh-My-Zsh</h2>
<p>Oh-My-Zsh æ¯ä¸æ¬¾ Zsh çéç½®ç®¡çå·¥å·ï¼å®æä¾äºä¸°å¯çä¸»é¢åæä»¶ï¼å¯ä»¥æå¤§å°ç¾åå½ä»¤è¡çé¢ï¼å¹¶æé«å·¥ä½æçãæä»¬éè¦è¿é¡¹å·¥å·çåå å¨äºï¼åçç Zsh è½ç¶å¾å¼ºå¤§ï¼ä½å­å¨çä»¥ä¸å ä¸ªéç½®ææ¬æ¹é¢çé®é¢ï¼</p>
<ul>
<li>ç¨å¤æçéç½®å°±éè¦ä½¿ç¨ç¼ç çæ¹å¼ä¿®æ¹<code>.zshrc</code>æä»¶ï¼</li>
<li>å½ä»¤çèªå¨è¡¥å¨åæç¤ºéè¦æå¨è°æï¼</li>
<li>å¼å¥ç¬¬ä¸æ¹ä¸»é¢ä¸æä»¶çç¸å³éç½®å°±æ´ä¸ºå¤æäºã</li>
</ul>
<p>è Oh-My-Zsh çä½ç¨å°±æ¯æè¿äºå¤æçéç½®ä¸æ¬¡æ§æåå¥½ï¼ç¡®ä¿å¼ç®±å³ç¨ï¼å®ç¸å¯¹äº Bashãåç Zsh çä¼å¿å¦è¡¨ 1 æç¤ºï¼</p>
<table>
<thead>
<tr>
<th>é¡¹ç®</th>
<th>Bash</th>
<th>åç Zsh</th>
<th>Oh My Zsh</th>
</tr>
</thead>
<tbody>
<tr>
<td>èªå¨è¡¥å¨</td>
<td>åºç¡</td>
<td>å¼º</td>
<td><strong>éå¸¸å¼º</strong></td>
</tr>
<tr>
<td>éç½®é¾åº¦</td>
<td>ä½</td>
<td>é«</td>
<td><strong>ä½</strong></td>
</tr>
<tr>
<td>æä»¶ç³»ç»</td>
<td>æ </td>
<td>æ </td>
<td><strong>æ</strong></td>
</tr>
<tr>
<td>ä¸»é¢</td>
<td>åºæ¬æ </td>
<td>æ</td>
<td><strong>å¤§éç°æ</strong></td>
</tr>
<tr>
<td>ä¸æéåº¦</td>
<td>å¿«</td>
<td>æ¢</td>
<td><strong>æå¿«</strong></td>
</tr>
</tbody>
</table>
<p><strong>è¡¨ 1</strong>ï¼Bashãåç Zsh ä¸ Oh My Zsh çå¯¹æ¯</p>
<p>å¨äºè§£ Oh-My-Zsh çåºæ¬ä¿¡æ¯ä»¥åæè½åæ¥çåè½ä¹åï¼æä»¬ç°å¨å°±æ¥æ¼ç¤ºä¸ä¸å®çå®è£æ­¥éª¤ï¼</p>
<ul>
<li>
<p>å¨å®è£ Oh-My-Zsh ä¹åï¼éè¦ç¡®ä¿æ¬å°å·²ç»å®è£äº Gitï¼å³äº Git çå®è£ä¸éç½®æ­¥éª¤ï¼è¯»èå¯åèæå¨ã[[Git ä½¿ç¨ç¬è®°]]ãä¸­çè®°å½ï¼</p>
</li>
<li>
<p>æå¼ Zsh ç»ç«¯çªå£ï¼å¹¶å¨ç¨æ·ç®å½ä¸ä½¿ç¨ curl æ wget å½ä»¤ä¸è½½ Oh-My-Zsh çå®è£èæ¬ï¼å¹¶æ§è¡å®ï¼</p>
<pre><code class="language-bash"># ä½¿ç¨ curl ä¸è½½èæ¬å¹¶å®è£ï¼
sh -c "$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"

# ä½¿ç¨ wget ä¸è½½èæ¬å¹¶å®è£ï¼
sh -c "$(wget https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh -O -)"
</code></pre>
</li>
<li>
<p>å¨æ§è¡ä¸è¿°å½ä»¤è¿ç¨ä¸­ï¼æä»¬éè¦åæ Oh-My-Zsh ä½¿ç¨èªèº«çéç½®æ¨¡æ¿è¦çå·²æç<code>.zshrc</code>æä»¶ï¼å¦å¾ 3 æç¤ºï¼ç±äºæå·²å®æéç½®ï¼ä¸ä¾¿æªå¾ï¼æ­¤å¤å¼ç¨æ¥èª<a href="https://www.haoyep.com/posts/zsh-config-oh-my-zsh/" target="_blank" rel="noopener nofollow">ç½ç»çæªå¾</a>ï¼ï¼</p>
  
<p><img alt="å¾ 3ï¼Oh-My-Zsh çå®è£çé¢" loading="lazy" data-src="https://img2024.cnblogs.com/blog/691082/202601/691082-20260106195313417-1869352098.png" class="lazyload"></p>
<p><strong>å¾ 3</strong>ï¼Oh-My-Zsh çå®è£è¿ç¨</p>
</li>
</ul>
<p>å¾å®è£é¡ºå©å®æä¹åï¼ç¨æ·ç<code>home</code>ç®å½ä¸ä¼åºç°ä¸ä¸ªåä¸º<code>.oh-my-zsh</code>çç®å½ï¼è¯¥ç®å½ä¸­å­å¨çå°±æ¯ Oh-My-Zsh æ¡æ¶æ¬èº«ï¼åå¶ä¸»é¢åæä»¶çå®ç°ä»£ç ãä¸é¢ï¼æä»¬ä»åè½æä»¶ãå¤è§éç½®ä¸å¿«æ·å½ä»¤ä¸ä¸ªæ¹é¢æ¥ä»ç»åºäº Oh-My-Zsh éç½® Zsh çä¸»è¦æ¹æ³ã</p>
<h3 id="åè½æä»¶">åè½æä»¶</h3>
<p>Oh-My-Zsh çæ ¸å¿ç«äºåä¸»è¦æ¥èªäºå®ææä¾çé£å¥æå·å¼æ¾æ§çï¼é«åº¦å¯å®å¶çæä»¶ç³»ç»ï¼è¿è®©æä»¬å¯ä»¥æ ¹æ®èªå·±çåå¥½è¿è¡éæ©åéç½®ï¼æé ä¸ä¸ªå¯æä¸ªæ§çå½ä»¤è¡ç»ç«¯çé¢ãä¸é¢æ¯æä¸ªäººå¸¸ç¨çä¸äºæä»¶åå¶ç¸å³ä»ç»ï¼</p>
<table>
<thead>
<tr>
<th>æä»¶</th>
<th>åè½</th>
<th>ä½¿ç¨è¯´æ</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>z</code></td>
<td>å¯å®ç°æºè½ç®å½è·³è½¬ã</td>
<td><code>z &lt;ç®å½å&gt;</code> ï¼è¯¥ç®å½éåå²è®°å½ä¸­åºç°è¿ï¼</td>
</tr>
<tr>
<td><code>git</code></td>
<td>å¯ç¨<code>ga</code>ã<code>gc</code>ç­å¿«æ·å½ä»¤ã</td>
<td><code>gc -m "commit message"</code></td>
</tr>
<tr>
<td><code>extract</code></td>
<td>æä¾<code>x</code>åç¼©åè§£åå½ä»¤ã</td>
<td><code>x file_name.tar.gz</code></td>
</tr>
<tr>
<td><code>web-search</code></td>
<td>å¯å®ç°ç½é¡µæç´¢ã</td>
<td><code>google &lt;æç´¢åå®¹&gt;</code>æ<code>baidu &lt;æç´¢åå®¹&gt;</code></td>
</tr>
<tr>
<td><code>you-should-use</code></td>
<td>å½ä»¤è¡éè¯¯æç¤ºåè½ã</td>
<td>å¨å½ä»¤è¾å¥éè¯¯æ¶ï¼ä¼ç»åºæ­£ç¡®çå½ä»¤æç¤ºã</td>
</tr>
<tr>
<td><code>zsh-completions</code></td>
<td>å½ä»¤è¡èªå¨è¡¥é½åè½ã</td>
<td>å¨è¾å¥å½ä»¤æ¶æ<code>Tab</code>é®ä¼èªå¨è¡¥é½ã</td>
</tr>
<tr>
<td><code>zsh-autosuggestions</code></td>
<td>å½ä»¤è¡èªå¨æç¤ºåè½ã</td>
<td>å¨è¾å¥å½ä»¤æ¶ä¼èªå¨ç»åºæç¤ºã</td>
</tr>
<tr>
<td><code>zsh-syntax-highlighting</code></td>
<td>å½ä»¤è¡è¯­æ³é«äº®åè½ã</td>
<td>å¨è¾å¥å½ä»¤æ¶ä¼æ ¹æ®è¯­æ³é«äº®ã</td>
</tr>
</tbody>
</table>
<p>å¨ Oh-My-Zsh ä¸­å®è£åå¯ç¨æä»¶éå¸¸å¯æç§ä»¥ä¸ä¸ä¸ªæ­¥éª¤æ¥è¿è¡ï¼å¦ææ¯èªå¸¦æä»¶ï¼åå¯è·³è¿ç¬¬ä¸æ­¥ï¼ï¼</p>
<ol>
<li>
<p>å¦ææä»¬è¦å¯ç¨çä¸æ¯ Oh-My-Zsh çåç½®æä»¶ï¼é£è¯¥æä»¶éå¸¸ä¼å¨ Github ä¸æç¬ç«çä»åºï¼äººä»¬éè¦åä½¿ç¨<code>git clone</code>å½ä»¤å°å¶ä¸è½½å° Oh-My-Zsh å®è£ç®å½ä¸ç<code>custom/plugins</code>ç®å½ä¸­ï¼èåç½®æä»¶åå·²å­å¨äº Oh-My-Zsh å®è£ç®å½ä¸ç<code>plugins</code>ç®å½ä¸­ï¼æ éä¸è½½ï¼ï¼ä¾å¦ï¼æä»¬ç°å¨è¦å¯ç¨çæ¯<code>zsh-autosuggestions</code>æä»¶ï¼è¿æ¯ä¸ä¸ªç¬¬ä¸æ¹æä»¶ï¼è¿å°±éè¦åæ§è¡ä»¥ä¸å½ä»¤ï¼å°å¶ä¸è½½å° Oh-My-Zsh å®è£ç®å½ä¸ç<code>custom/plugins</code>ç®å½ä¸­ï¼</p>
<pre><code class="language-bash">git clone https://github.com/zsh-users/zsh-autosuggestions $ZSH_CUSTOM/plugins/zsh-autosuggestions
</code></pre>
</li>
<li>
<p>ä½¿ç¨ vim è¿æ ·çææ¬ç¼è¾å¨æå¼<code>.zshrc</code>æä»¶ï¼å¹¶å¨å¶ä¸­æ¾å°<code>plugins</code>å­æ®µï¼å¹¶å°è¦å¯ç¨çæä»¶åç§°æ·»å å°è¯¥å­æ®µä¸­ï¼è¯¥å­æ®µçå¼æ¯ä¸ä¸ªç¨ç©ºç½ç¬¦åéçå­ç¬¦ä¸²ï¼ï¼ä¾å¦ï¼å¦ææä»¬ç°å¨è¦å¯ç¨çæä»¶åæ¬<code>z</code>ã<code>git</code>ã<code>extract</code>ã<code>web-search</code>ã<code>you-should-use</code>ã<code>zsh-completions</code>ã<code>zsh-autosuggestions</code>ã<code>zsh-syntax-highlighting</code>ï¼é£ä¹<code>.zshrc</code>æä»¶ä¸­<code>plugins</code>å­æ®µçå¼å°±è¯¥è¢«è®¾ç½®å¦ä¸ï¼</p>
<pre><code class="language-bash">plugins=(
    z 
    git
    extract
    web-search
    you-should-use 
    zsh-completions 
    zsh-autosuggestions 
    zsh-syntax-highlighting 
    zsh-history-substring-search
)
</code></pre>
</li>
<li>
<p>ä¿å­å¹¶å³é­<code>.zshrc</code>æä»¶ï¼ç¶åæ§è¡<code>source ~/.zshrc</code>æ<code>omz reload</code>å½ä»¤ä½¿éç½®çæãä¾å¦ï¼å¾ 4 æç¤ºçæ¯å¯ç¨<code>extract</code>æä»¶ä¹åï¼ä½¿ç¨<code>x</code>å½ä»¤è§£åæä»¶çææï¼</p>
 
<p><img alt="å¾ 4ï¼extract æä»¶çææ" loading="lazy" data-src="https://img2024.cnblogs.com/blog/691082/202601/691082-20260106195637290-2033293748.png" class="lazyload"></p>
<p><strong>å¾ 4</strong>ï¼extract æä»¶çææ</p>
</li>
</ol>
<h3 id="å¤è§éç½®">å¤è§éç½®</h3>
<p>å¨ Oh-My-Zsh ä¸­ï¼æä»¬å¯ä»¥éè¿ä¸ç§è¢«ç§°ä¹ä¸ºâä¸»é¢âçç¹æ®æä»¶æ¥éç½® Zsh çé¢æåç°çå¤è§ï¼ç®çæ¯éè¿åç§ç¹å®çé¢è²åæç¤ºä¿¡æ¯è®©å½ä»¤è¡çé¢çæç¨æ§åç¾è§æ§è¾¾å°ä¸ä¸ªå¹³è¡¡ãOh-My-Zsh åç½®äºå¤§éçä¸»é¢ï¼å®ä»¬é½è¢«å­æ¾å¨ Oh-My-Zsh å®è£ç®å½ä¸ç<code>themes</code>ç®å½ä¸­ï¼ä¹å¯ä»¥åå¾ <a href="https://github.com/ohmyzsh/ohmyzsh/wiki/Themes" target="_blank" rel="noopener nofollow">Oh-My-Zsh å®æ¹ææ¡£</a>æ¥çï¼ï¼å¦å¾ 5 æç¤ºï¼</p>

<p><img alt="å¾ 5ï¼Oh-My-Zsh åç½®çä¸»é¢" loading="lazy" data-src="https://img2024.cnblogs.com/blog/691082/202601/691082-20260106195719176-616308269.png" class="lazyload"></p>
<p><strong>å¾ 5</strong>ï¼Oh-My-Zsh åç½®çä¸»é¢</p>
<p>å¦ææä»¬æ³å¯ç¨ä¸è¿°ä»»æä¸ä¸ª Oh-My-Zsh çåç½®ä¸»é¢ï¼å°±åªéå°<code>.zshrc</code>æä»¶ä¸­ç<code>ZSH_THEME</code>åéå¼ä¿®æ¹ä¸ºè¯¥ä¸»é¢çåç§°å³å¯ï¼ä¾å¦ï¼åè®¾ç°å¨è¦å¯ç¨çæ¯<code>agnoster</code>ä¸»é¢ï¼æä»¬å°±åªéè¦æ§è¡ä»¥ä¸æ­¥éª¤ï¼</p>
<ul>
<li>
<p>åä½¿ç¨ vim è¿æ ·çææ¬ç¼è¾å¨æå¼<code>.zshrc</code>æä»¶ï¼</p>
</li>
<li>
<p>æ¾å°<code>ZSH_THEME</code>åéï¼å¹¶å°å®çå¼è®¾ç½®å¦ä¸å³å¯ï¼</p>
<pre><code class="language-bash">ZSH_THEME="agnoster" # é»è®¤ä¸»é¢ä¸º robbyrussell
</code></pre>
</li>
<li>
<p>ä¿å­å¹¶å³é­<code>.zshrc</code>æä»¶ï¼ç¶åæ§è¡<code>source ~/.zshrc</code>å½ä»¤ä½¿éç½®çæï¼å¶ææå¦å¾ 6 æç¤ºï¼</p>
  
<p><img alt="å¾ 6ï¼agnoster ä¸»é¢çææ" loading="lazy" data-src="https://img2024.cnblogs.com/blog/691082/202601/691082-20260106195816172-926042684.png" class="lazyload"></p>
<p><strong>å¾ 6</strong>ï¼agnoster ä¸»é¢çææ</p>
</li>
</ul>
<p>å½ç¶ï¼é¤äºä¸è¿°åç½®ä¸»é¢ä¹å¤ï¼æä»¬è¿å¯ä»¥éæ©å®è£å¶ä»å¼æºçä¸»é¢ï¼ä¾å¦ï¼<a href="https://github.com/romkatv/powerlevel10k" target="_blank" rel="noopener nofollow">powerlevel10k</a>å°±æ¯ä¸ä¸ªéå¸¸åæ¬¢è¿çï¼åè½å¼ºå¤§çä¸»é¢ï¼å®æä¾äºä¸°å¯çéç½®éé¡¹ï¼å¯ä»¥è®©æä»¬æé åºåç§ä¸ªæ§åçå½ä»¤è¡çé¢ï¼å¶å®è£ä¸éç½®æ­¥éª¤å¦ä¸ï¼</p>
<ol>
<li>
<p>ä½¿ç¨<code>git clone</code>å½ä»¤å°ä¸»é¢ä¸è½½å° Oh-My-Zsh å®è£ç®å½ä¸ç<code>custom/themes</code>ç®å½ä¸­ï¼</p>
<pre><code class="language-bash">git clone --depth=1 https://github.com/romkatv/powerlevel10k.git $ZSH_CUSTOM/themes/powerlevel10k
</code></pre>
</li>
<li>
<p>ä½¿ç¨ vim è¿æ ·çææ¬ç¼è¾å¨æå¼<code>.zshrc</code>æä»¶ï¼å¹¶å¨å¶ä¸­æ¾å°<code>ZSH_THEME</code>åéï¼å¹¶å°å®çå¼è®¾ç½®ä¸ºæä»¬ååä¸è½½çä¸»é¢åç§°å³å¯ï¼</p>
<pre><code class="language-bash">ZSH_THEME="powerlevel10k/powerlevel10k"
</code></pre>
</li>
<li>
<p>ä¿å­å¹¶å³é­<code>.zshrc</code>æä»¶ï¼ç¶åæ§è¡<code>source ~/.zshrc</code>æ<code>omz reload</code>å½ä»¤ä½¿éç½®çæãå¨è¯¥ä¸»é¢éç½®é¦æ¬¡çææ¶ä¼å¯å¨ä¸ä¸ªéç½®åå¯¼ï¼ä¹åä¹å¯ä»¥éè¿æ§è¡<code>p10k configure</code>å½ä»¤æ¥å¯å¨è¯¥åå¯¼ï¼ï¼å¼å¯¼æä»¬å®æä¸»é¢çéç½®ï¼å¦å¾ 7 æç¤ºï¼</p>
 
<p><img alt="å¾ 7ï¼powerlevel10k ä¸»é¢çéç½®åå¯¼" loading="lazy" data-src="https://img2024.cnblogs.com/blog/691082/202601/691082-20260106195900044-666707535.png" class="lazyload"></p>
<p><strong>å¾ 7</strong>ï¼powerlevel10k ä¸»é¢çéç½®åå¯¼</p>
</li>
<li>
<p>æ¥ä¸æ¥ï¼æä»¬åªéè¦æ ¹æ®ä¸è¿°éç½®åå¯¼çæç¤ºï¼æç§èªå·±çåæ¬¢ä¸æ­¥ä¸æ­¥å°ååºéæ©ï¼å°±å¯ä»¥å®æä¸»é¢çéç½®ï¼æä¸ªäººçéç½®ææå¦å¾ 8 æç¤ºï¼</p>
 
<p><img alt="å¾ 8ï¼powerlevel10k ä¸»é¢çéç½®ææ" loading="lazy" data-src="https://img2024.cnblogs.com/blog/691082/202601/691082-20260106195953413-92453986.png" class="lazyload"></p>
<p><strong>å¾ 8</strong>ï¼powerlevel10k ä¸»é¢çéç½®ææ</p>
</li>
</ol>
<h3 id="å¿«æ·å½ä»¤">å¿«æ·å½ä»¤</h3>
<p>å¯¹äºç±»ä¼¼äºè¿å¥æä¸ªç¹å®å·¥ä½ç®å½çå¸¸ç¨å½ä»¤ï¼Zsh æä¾äºä¸ç§è¢«ç§°ä¸º alias çæºå¶ï¼è®©æä»¬å¯ä»¥ä¸ºå¶è®¾ç½®ä¸ä¸ªå¿«æ·å½ä»¤ãä¾å¦ï¼<code>~/working/notes</code>ç®å½æ¯æä»¬æ¯æ¬¡åç¬è®°æ¶è¦æå¼çç®å½ï¼å¦ææä»¬æ³ä½¿ç¨ Zsh ç alias æºå¶ä¸º<code>cd ~/working/notes</code>å½ä»¤è®¾ç½®ä¸ä¸ªå¿«æ·å½ä»¤ï¼å°±å¯ä»¥ä½¿ç¨ vim ç¼è¾å¨æå¼å¨<code>.zshrc</code>æä»¶ï¼å¹¶å¨å¶ä¸­æ°å½çä½ç½®ä¸æ·»å å¦ä¸éç½®ï¼</p>
<pre><code class="language-bash">alias cd-notes="cd ~/working/notes"
</code></pre>
<p>éç½®å®æåï¼æä»¬å°±å¯ä»¥ä½¿ç¨<code>cd-notes</code>è¿ä¸ªå¿«æ·å½ä»¤å½ä»¤æ¥æ§è¡è¿å¥<code>~/working/notes</code>ç®å½äºãå½ç¶ï¼é¤äºæå¨éç½®ç Zsh alias ä¹å¤ï¼å¨å®è£äºOh-My-Zsh ä¹åï¼æä»¬è¿å¯ä»¥ä½¿ç¨è¯¥æ¡æ¶æåç½®çä¸ç³»åå¸¸ç¨ç aliasãä¾å¦å¨å¯ç¨äº<code>git</code>æä»¶ä¹åï¼æä»¬å°±å¯ä»¥ä½¿ç¨å®æä¾ç alias æ¥æ§è¡ git ç¸å³æä½äºï¼å·ä½å½ä»¤åè¡¨å¯æ¥é Oh-My-Zsh å®æ¹æä¾ç <a href="https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/git" target="_blank" rel="noopener nofollow">git æä»¶ææ¡£</a>ã</p>

</div>
<div class="clear"></div>

        <p class="postfoot">
            posted on 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-06 20:01">2026-01-06 20:01</span>&nbsp;
<a href="https://www.cnblogs.com/owlman">åæ°</a>&nbsp;
éè¯»(<span id="post_view_count">14</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19449225);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19449225', targetLink: 'https://www.cnblogs.com/owlman/p/19449225', title: 'Zsh éç½®ç¬è®°' })">ä¸¾æ¥</a>

        </p>
     ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ C# ä¸ä¾èµ OpenCV çå¾åå¤çç®æ³ï¼æ»¤æ³¢ãéåä¸è¾¹ç¼æ£æµ ]]></title>
    <link>https://www.cnblogs.com/1312mn/p/19444713</link>
    <guid>8648fc63492903f5c871b5d8dd5e75bd</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/1312mn/p/19444713" title="åå¸äº 2026-01-06 14:28">
    <span role="heading" aria-level="2">C# ä¸ä¾èµ OpenCV çå¾åå¤çç®æ³ï¼æ»¤æ³¢ãéåä¸è¾¹ç¼æ£æµ</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="åè¨">åè¨</h2>
<p>æ°å­å¾åå¤çä½ä¸ºè®¡ç®æºè§è§åå¤åªä½ææ¯çåºç¡åå®¹ï¼å¶æ ¸å¿ä¸ä»å¨äºçè§£ç®æ³åçï¼æ´å¨äºå¨æå®ç°ä¸éªè¯ãä¸ºäºæ·±å¥ææ¡æ¬é¡¹ç®éæ©ä»åºå±åç´ çº§å«åºåï¼ä½¿ç¨C#è¯­è¨æå¨å®ç°åç±»ç»å¸å¾åå¤çç®æ³ï¼é¿åä¾èµç°æçé«çº§å¾ååºã</p>
<p>è¿ç§"ä»é¶å¼å§"çæ¹å¼è½ç¶å¼åææ¬è¾é«ï¼å´è½çæ­£åæ¸æ¯ä¸ªæä½èåçæ°å­¦é»è¾ä¸å·¥ç¨ç»èï¼ä¹ä¸ºåç»­å­¦ä¹ æ´å¤æçè§è§ä»»å¡æä¸åå®åºç¡ã</p>
<h2 id="é¡¹ç®ä»ç»">é¡¹ç®ä»ç»</h2>
<p>é¡¹ç®æ¯ä¸ä¸ªåºäº.NET å¹³å°å¼åçæ¡é¢çº§æ°å­å¾åå¤çå·¥å·ï¼å¨éè¿å¾å½¢åçé¢ç´è§å±ç¤ºå¤ç§å¾åå¤çç®æ³çææã</p>
<p>æ´ä¸ªç³»ç»å´ç»System.Drawing.Bitmapç±»å¼åï¼ç´æ¥æä½åç´ æ°æ®å®æåç±»åæ¢ï¼æ¶µçå ä½æä½ãç°åº¦è°æ´ãåªå£°æ¨¡æãæ»¤æ³¢å»åªãè¾¹ç¼æ£æµãå¾ååå²ç­å¤ä¸ªæ¨¡åã</p>
<p>é¡¹ç®ä»£ç ç»ææ¸æ°ï¼åè½å®æ´ï¼æ¢å¯ç¨äºå­¦ä¹ åèï¼ä¹éåä½ä¸ºå¼åé¡¹ç®ã</p>
<h2 id="é¡¹ç®åè½">é¡¹ç®åè½</h2>
<p>1ãæ¯æå¾åçæå¼ãä¿å­ååºæ¬ä¿¡æ¯æ¾ç¤ºï¼å¦å°ºå¯¸ãé¢è²æ·±åº¦ç­ï¼</p>
<p>2ãæä¾ç°åº¦åè½¬æ¢ä¸ç°åº¦ç´æ¹å¾å¯è§ååè½</p>
<p>3ãå®ç°åºæ¬å ä½åæ¢ï¼æè½¬ãæ¾å¤§ãç¼©å°ãéå</p>
<p>4ãæ¯æçº¿æ§ç°åº¦åæ¢ä¸ç´æ¹å¾åè¡¡åä»¥å¢å¼ºå¾åå¯¹æ¯åº¦</p>
<p>5ãå¯æ·»å é«æ¯åªå£°ä¸æ¤çåªå£°ï¼å¹¶éå¥å¤ç§å»åªæ»¤æ³¢å¨</p>
<p>6ãéæå¤ç§è¾¹ç¼æ£æµç®å­ï¼RobertsãSobelãLaplacianãLoGãWallisãååæ¢¯åº¦ç­</p>
<p>7ãæä¾äºå¼åå¤çåè¿­ä»£éå¼åå²æ¹æ³</p>
<p>8ãåå«äºå¼å¾ååå¤çåè½ï¼å¦å­¤ç«ç¹å»é¤ãè½®å»æåãåºåæµéç­</p>
<p>9ãå®ç°éæ©å¼æ©èæ»¤æ³¢ï¼LSMFï¼ä¸KNNå¹³æ»æ»¤æ³¢ç­è¿é¶å»åªç­ç¥<br>
10ãåç½®å®æ´çæ¤éï¼Undoï¼ä¸éåï¼Redoï¼æºå¶ï¼ä¾¿äºæä½åæº¯ä¸ææå¯¹æ¯</p>
<h2 id="é¡¹ç®ç¹ç¹">é¡¹ç®ç¹ç¹</h2>
<p>1ãåæä»åç´ çº§å«æå¨å®ç°ç®æ³ï¼ä¸ä¾èµOpenCVç­å°è£åºï¼å¼ºååççè§£</p>
<p>2ãçé¢éç¨WPFæå»ºï¼äº¤äºåå¥½ï¼åæ°è¾å¥å¨æçæï¼æä½æµç¨æ¸æ°</p>
<p>3ãææå¤çæä½åå¯éï¼æ¯æå¤æ­¥åå²è®°å½ï¼æåå®éªçµæ´»æ§</p>
<p>4ãä»£ç æ¨¡ååç¨åº¦é«ï¼æ¯ä¸ªåè½å¯¹åºç¬ç«æ¹æ³ï¼ä¾¿äºéè¯»ä¸æ©å±<br>
5ãå¼é¡¾å®ç¨æ§ï¼æ¢è½éªè¯çè®ºï¼ä¹è½å¤ççå®å¾åä»»å¡</p>
<h2 id="é¡¹ç®ææ¯">é¡¹ç®ææ¯</h2>
<table>
<thead>
<tr>
<th>ææ¯ç±»å«</th>
<th>å·ä½è¯´æ</th>
</tr>
</thead>
<tbody>
<tr>
<td>å¼åè¯­è¨</td>
<td>C#</td>
</tr>
<tr>
<td>è¿è¡å¹³å°</td>
<td>.NET Frameworkï¼ä½¿ç¨ <code>System.Drawing.Bitmap</code> å¤çä½å¾ï¼</td>
</tr>
<tr>
<td>UI æ¡æ¶</td>
<td>WPFï¼Windows Presentation Foundationï¼</td>
</tr>
<tr>
<td>å¾åæ°æ®è®¿é®</td>
<td>éè¿ <code>Bitmap.GetPixel</code> / <code>SetPixel</code> å <code>HBITMAP</code> æéä¸ WPF <code>Image</code> æ§ä»¶å¯¹æ¥</td>
</tr>
<tr>
<td>å³é®ç®æ³å®ç°</td>
<td>åçº¿æ§æå¼ï¼ç¨äºç¼©æ¾/æè½¬ï¼ãå·ç§¯æ ¸è¿ç®ï¼ç¨äºæ»¤æ³¢ä¸è¾¹ç¼æ£æµï¼ãç´æ¹å¾ç»è®¡ãåªå£°æ¨¡åæ¨¡æç­</td>
</tr>
<tr>
<td>è¾å©ææ¯</td>
<td>ä½¿ç¨ <code>Operation</code> ç±»å°è£æä½åå²ï¼æ¯æ Undo/Redoï¼éè¿ Interop è°ç¨ Win32 API å®ç°ä½å¾è½¬æ¢</td>
</tr>
</tbody>
</table>
<h2 id="é¡¹ç®ä»£ç ">é¡¹ç®ä»£ç </h2>
<h3 id="ä¸ºå¾çæ·»å é«æ¯åªå£°">ä¸ºå¾çæ·»å é«æ¯åªå£°</h3>
<pre><code class="language-csharp">/// &lt;summary&gt;
/// ä¸ºå¾çæ·»å é«æ¯åªå£°
/// &lt;/summary&gt;
private void GaussNoise(int k)
{
    Random ran = new Random(GetRandomSeed());
    Bitmap bmp_ = new Bitmap(bmp.Width, bmp.Height);
    for (int i = 0; i &lt; bmp.Width; i++)
    {
        for (int j = 0; j &lt; bmp.Height; j++)
        {
            double r1 = ran.NextDouble();
            double r2 = ran.NextDouble();
            double result = Math.Sqrt((-2) * Math.Log(r2)) * Math.Sin(2 * Math.PI * r1);
            result *= k;
            Color c = bmp.GetPixel(i, j);

            int rr = (int)(c.R + result),
                gg = (int)(c.G + result),
                bb = (int)(c.B + result);
            if (rr &gt; 255) rr = 255;
            else if (rr &lt; 0) rr = 0;
            if (gg &gt; 255) gg = 255;
            else if (gg &lt; 0) gg = 0;
            if (bb &gt; 255) bb = 255;
            else if (bb &lt; 0) bb = 0;
            bmp_.SetPixel(i, j, Color.FromArgb(c.A, rr, gg, bb));
        }
    }
    UpdateImg(ref bmp_);
}
</code></pre>
<h3 id="ä¸ºå¾çæ·»å æ¤çåªå£°">ä¸ºå¾çæ·»å æ¤çåªå£°</h3>
<pre><code class="language-csharp">/// &lt;summary&gt;
/// ä¸ºå¾çæ·»å æ¤çåªå£°
/// &lt;/summary&gt;
/// &lt;param name="SNR"&gt;ä¿¡åªæ¯&lt;/param&gt;
/// &lt;param name="pa"&gt;å¾çä¸ºæç¹çæ¦ç&lt;/param&gt;
private void SaltNoise(double SNR, double pa)
{
    // åªå£°ç¹çæ°é
    int NP = (int)(bmp.Width * bmp.Height * (1 - SNR));
    Bitmap bmp_ = new Bitmap(bmp);
    Random rand = new Random();
    for (int i = 0; i &lt; NP; i++)
    {
        int r = rand.Next(0, bmp.Height), c = rand.Next(0, bmp.Width);
        double prob = rand.NextDouble();
        if (prob &gt; pa)
        {
            bmp_.SetPixel(c, r, Color.FromArgb(255, 255, 255));
        }
        else
        {
            bmp_.SetPixel(c, r, Color.FromArgb(0, 0, 0));
        }
    }
    UpdateImg(ref bmp_);
}
</code></pre>
<h2 id="é¡¹ç®ææ">é¡¹ç®ææ</h2>
<p>é¡¹ç®è¿è¡ç¨³å®ï¼è½å¤åç¡®è¿ååç±»ç»å¸å¾åå¤çç®æ³çé¢æææãä¾å¦ï¼å¨å¯¹èªç¶å¾åè¿è¡ç°åº¦ååï¼ç´æ¹å¾åè¡¡åæ¾èæåäºæ´ä½å¯¹æ¯åº¦ï¼æ·»å æ¤çåªå£°åï¼ä¸­å¼æ»¤æ³¢æææå¶äºåªç¹èä¿çè¾¹ç¼ï¼ä½¿ç¨SobelæLoGç®å­å¯æ¸æ°æåç©ä½è½®å»ã</p>
<p><img src="https://img2024.cnblogs.com/blog/576536/202601/576536-20260105210103962-1763205682.png" width="50%" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<p><img src="https://img2024.cnblogs.com/blog/576536/202601/576536-20260105210118061-1765878502.png" width="50%" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<p><img src="https://img2024.cnblogs.com/blog/576536/202601/576536-20260105210140975-938016934.png" width="50%" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<p><img src="https://img2024.cnblogs.com/blog/576536/202601/576536-20260105210152223-942589643.png" width="50%" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<h2 id="æ»ç»">æ»ç»</h2>
<p>é¡¹ç®ä¸ä»æ¯ä¸æ¬¡è§è§çå­¦ä¹ ï¼æ´æ¯ä¸åºå¯¹æ°å­å¾åå¤çç¥è¯ä½ç³»çæ·±åº¦å®è·µãéè¿äº²æç¼åæ¯ä¸ä¸ªåç´ æä½ï¼å¯ä»¥ç©¿éAPIçé»ç®±ï¼çæ­£çè§£"å¾å"å¨è®¡ç®æºä¸­çè¡¨ç¤ºæ¹å¼ä»¥ååç±»åæ¢çæ¬è´¨ãè¿ç§èªåºåä¸çå­¦ä¹ è·¯å¾ï¼è½ç¥æ¾ç¬¨æï¼å´æä¸ºæå®ãå¯¹äºå¸æå¤¯å®å¾åå¤çåºç¡çå¤§å®¶èè¨ï¼è¿ä¸ªé¡¹ç®æ çæ¯ä¸éçåèã</p>
<h2 id="å³é®è¯">å³é®è¯</h2>
<p>æ°å­å¾åå¤çãC#ãåç´ æä½ãå ä½åæ¢ãç°åº¦åæ¢ãåªå£°æå¶ãè¾¹ç¼æ£æµãå¾ååå²ãWPFãç´æ¹å¾åè¡¡å</p>
<h2 id="æå">æå</h2>
<p>å¦æä½ è§å¾è¿ç¯æç« å¯¹ä½ æå¸®å©ï¼ä¸å¦¨ç¹ä¸ªèµæ¯æä¸ä¸ï¼ä½ çæ¯ææ¯æç»§ç»­åäº«ç¥è¯çå¨åãå¦ææä»»ä½çé®æéè¦è¿ä¸æ­¥çå¸®å©ï¼æ¬¢è¿éæ¶çè¨ã</p>
<p>ä¹å¯ä»¥å å¥å¾®ä¿¡å¬ä¼å·[DotNetææ¯å ] ç¤¾åºï¼ä¸å¶ä»ç­ç±ææ¯çåè¡ä¸èµ·äº¤æµå¿å¾ï¼å±åæé¿ï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/576536/202505/576536-20250527195524293-1794896295.png" width="50%" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.0006944444444444445" data-date-updated="2026-01-06 14:29">2026-01-06 14:28</span>&nbsp;
<a href="https://www.cnblogs.com/1312mn">å°ç ç¼å </a>&nbsp;
éè¯»(<span id="post_view_count">83</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19444713);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19444713', targetLink: 'https://www.cnblogs.com/1312mn/p/19444713', title: 'C# ä¸ä¾èµ OpenCV çå¾åå¤çç®æ³ï¼æ»¤æ³¢ãéåä¸è¾¹ç¼æ£æµ' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ å¤§éè³ç®ï¼å¦ä½ç¨æè½»éçä»£ç å®ç°è·¨å¢éçå¾®æå¡å¥çº¦ï¼ ]]></title>
    <link>https://www.cnblogs.com/jieky/p/19449427</link>
    <guid>c40fdcb99391f52722e7fd529c401ca1</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/jieky/p/19449427" title="åå¸äº 2026-01-06 21:27">
    <span role="heading" aria-level="2">å¤§éè³ç®ï¼å¦ä½ç¨æè½»éçä»£ç å®ç°è·¨å¢éçå¾®æå¡å¥çº¦ï¼</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="å¤§éè³ç®å¦ä½ç¨æè½»éçä»£ç å®ç°è·¨å¢éçå¾®æå¡å¥çº¦">å¤§éè³ç®ï¼å¦ä½ç¨æè½»éçä»£ç å®ç°è·¨å¢éçå¾®æå¡å¥çº¦ï¼</h1>
<h3 id="1-äºåå¹´çæ¶æé¿å¾ä»å æ³å°åæ³">1. äºåå¹´çæ¶æé¿å¾ï¼ä»å æ³å°åæ³</h3>
<p>åé¦æçèä¸çæ¶¯ï¼æä¸ä¸ªæ¶é´åæ è®©æå°è±¡æ·±å»ï¼</p>
<ul>
<li><strong>2006 å¹´ï¼</strong> èº«è¾¹åäºå¼å§è°è®º DDDï¼é¢åé©±å¨è®¾è®¡ï¼åé©¬ä¸Â·ç¦åçãä¼ä¸åºç¨æ¶ææ¨¡å¼ããé£æ¯<strong>æ±ç¥</strong>çå¹´ä»£ï¼æä»¬è¯å¾éè¿å¢å æ¨¡å¼çå¤æåº¦æ¥é©¯æä»£ç çæ··ä¹±ã</li>
<li><strong>2016 å¹´ï¼</strong> å¾®æå¡æµªæ½®è¢­æ¥ï¼æå¼å¥äº <strong>ABP æ¡æ¶</strong>ãé£æ¯<strong>å·¥å·</strong>çå¹´ä»£ï¼éåæ¡æ¶æä¾äºå¼ç®±å³ç¨çåè½ï¼ä½ä¹å¸¦æ¥äºä¸å¯å¿½è§çä¾èµè´æåâå¨å®¶æ¡¶âå¼çæç¼ã</li>
<li><strong>2026 å¹´ï¼</strong> ç«å¨å³å° 45 å²çæ¶é´ç¹ï¼æåä¸äº <strong>NexusContract</strong>ãè¿æ¯<strong>åå½+AI</strong>çå¹´ä»£ãå¨è§è¿äºæ æ°è¿åº¦è®¾è®¡çç²æ«åï¼ææç½äºä¸ä¸ªéçï¼<strong>æ¶æçå°ä¸¥å¨äºè¾¹ççæ¸æ°ï¼èéåè½çå ç ã</strong></li>
</ul>
<h3 id="2-ç°ç¶ä¹çè¢«éåå·¥å·ç»æ¶çå¥çº¦">2. ç°ç¶ä¹çï¼è¢«âéåå·¥å·âç»æ¶çå¥çº¦</h3>
<p>å¨æ¯ä»å¯¹è´¦ãç¬¬ä¸æ¹éæï¼å¦é¶èãæ¯ä»å®ï¼è¿ç§å¸åçå¼æåºæ¯ä¸­ï¼æä»¬ç»å¸¸é·å¥ä»¥ä¸æ³¥æ½­ï¼</p>
<ul>
<li><strong>å¼ºè¦åç SDKï¼</strong> ä¸ºäºç¨ä¸ä¸ªæ¥å£ï¼ä¸å¾ä¸æä¸ä¸æ´å¥ä¸å¡é»è¾ SDKï¼éé¢çè³åå«æ°æ®åºä¾èµã</li>
<li><strong>éå¼é­æ³ï¼</strong> é è¿è¡æ¶æ¨æ­ãå¨å±åå°åç¡¬ç¼ç æ¥çæµå­æ®µåï¼ä¸æ¦ä¸æ¸¸åè®®åæ´ï¼æ´ä¸ªç³»ç»ç¬é´å´©æºã</li>
<li><strong>æ²éææ¬ï¼</strong> ä¸åå¢éä¹é´å¯ä¸çâå¥çº¦âææ¡£ç«æ¯åå¹´åç Markdown æªå¾ï¼ç¼ºä¹å¼ºç±»åçº¦æã</li>
</ul>
<h3 id="3-nexuscontract-çåæ ¸repr-p-æ¨¡å¼">3. NexusContract çåæ ¸ï¼REPR-P æ¨¡å¼</h3>
<p>æä»¬æ©å±äº <a href="https://fast-endpoints.com/" target="_blank" rel="noopener nofollow">FastEndpoints</a> å¡å¯¼ç <strong>REPR (Request-Endpoint-Response)</strong> æ¨¡å¼ï¼éè¿ <strong>Proxying (ä»£çå)</strong> æºå¶å®ç°äºé»è¾ä¸åè®®çå½»åºè§£è¦ã</p>
<p><strong>æ ¸å¿å®ªæ³ï¼æ¾å¼è¾¹çä¼äºéå¼é­æ³ã</strong><br>
å¨ NexusContract ä¸­ï¼å¥çº¦ï¼Contractï¼æ¯ä¸å¯åçè¯­ä¹åæ ¸ï¼æ¯å¢éé´å¯ä¸çæ³å¾ã</p>
<h3 id="4-æ ¸å¿å®ç°å¨å¯å¨é¶æ®µå·å»åæ°æ®">4. æ ¸å¿å®ç°ï¼å¨å¯å¨é¶æ®µâå·å»âåæ°æ®</h3>
<p>ä¸ºäºè¿½æ±æè´çæ§è½ï¼æä¸ºæ¡æ¶å¶å®äºä¸¤ä¸ªä¸¥èçææ¯å³ç­ï¼</p>
<h4 id="a-åæ°æ®å·å»-frozen-metadata">A. åæ°æ®å·å» (Frozen Metadata)</h4>
<p>æä»¬æç»è¿è¡æ¶åå°ãææçåæ°æ®æåãçº¦æå®¡è®¡é½å¨å¯å¨é¶æ®µå®æå¹¶ç¼å­ãå¯å¨å®æåï¼ç»æå­å¥ä¸å¯åç <code>ReflectionCache</code>ã</p>
<ul>
<li><strong>è¿è¡æï¼</strong> O(1) æ¥è¯¢ï¼é¶åå°å¼éã</li>
<li><strong>ç¡®å®æ§ï¼</strong> ç¡®ä¿ P50 ä¸ P99 æ²çº¿é«åº¦éåï¼æ¶é¤äº GC å¯¼è´çæ³¢å¨ã</li>
</ul>
<h4 id="b-é¢ç¼è¯æå½±-expression-tree">B. é¢ç¼è¯æå½± (Expression Tree)</h4>
<p>æä»¬å©ç¨ <strong>Expression Treeï¼è¡¨è¾¾å¼æ ï¼</strong> å°å¯¹è±¡çæ å°é»è¾é¢ç¼è¯ä¸º IL ä»£ç ãç¸æ¯è¿è¡æ¶åå°éåï¼æä»¬å°æä»¤æ¶èåå°äºæ°åï¼æ§è½ç­åäºç¡¬ç¼ç æ å°ã</p>
<h3 id="5-æ¶æçº¢çº¿ç¨-nxc-è¯æ­ç æå«ç¡®å®æ§">5. æ¶æçº¢çº¿ï¼ç¨ NXC è¯æ­ç æå«ç¡®å®æ§</h3>
<p>æä»¬ä¸æåºå«ä¹æ¨¡ç³çå¼å¸¸ï¼æ¯ä¸å¤å¤±æé½æå¶å¯ä¸ç´¢å¼ã</p>
<ul>
<li><strong>NXC1xx (éæçº¢çº¿)</strong>ï¼æ¶æè¿è§ãä¾å¦ <strong>ãå³ç­ A-401ã</strong> å¼ºå¶è¦æ±æå¤§åµå¥æ·±åº¦ â¤ 3ãè®¾è®¡å¤ªå¤æï¼ç³»ç»å°æç»å¯å¨ã</li>
<li><strong>NXC2xx/3xx (è¿è¡è¯æ­)</strong>ï¼ç²¾ç¡®éå®åºåæ¥æä¸åè§æå¥ååè®®å¯¹é½å¤±è´¥ã</li>
</ul>
<h3 id="6-ä»£ç å±ç¤ºåå½çº¯ç²¹ç-poco">6. ä»£ç å±ç¤ºï¼åå½çº¯ç²¹ç POCO</h3>
<pre><code class="language-csharp">/// &lt;summary&gt;
/// ç»ä¸ä¸åå¥çº¦ï¼çº¯åãå¼ºç±»åãæ¾å¼è¾¹ç
/// &lt;/summary&gt;
[ApiOperation("payment.order.create", HttpVerb.POST)]
public class OrderRequest : IApiRequest&lt;OrderResponse&gt;
{
    [ApiField("mer_order_no", IsRequired = true)]
    public string OrderNo { get; set; }

    [ApiField("card_no", IsEncrypted = true)] // è§¦åãè§å R-201ãéªè¯ï¼å¿é¡»æ¾å¼éå®åç§°
    public string CardNo { get; set; }

    [ApiField("txn_amt")]
    public long Amount { get; set; }
}

</code></pre>
<h3 id="7-ç»è¯­">7. ç»è¯­</h3>
<p>å¨è½¯ä»¶æ¶æçä¸çéï¼æä»¬æ»æ¯ä¹ æ¯äºåå æ³ï¼è®¤ä¸ºåè½è¶å¤è¶å¼ºå¤§ãä½çæ­£çå·¥ä¸çº§ä½åï¼å¾å¾æ¢äºå¨å³é®æ¶å»åä¸æ¥ååæ³ã</p>
<p><strong>å¨ç½ç»å»¶è¿ç 3 ç§é»æä¸­ï¼æä»¬è¦è®©åé¨å¤çç 50 å¾®ç§éªèå¾åææã</strong></p>
<h3 id="ï¸-é¡¹ç®å°åä¸æºç ">ðï¸ é¡¹ç®å°åä¸æºç </h3>
<p>æ¬é¡¹ç®å·²æ­£å¼å¼æºï¼æ¬¢è¿åä½åè¡ææ­£ãäº¤æµï¼</p>
<ul>
<li><strong>GitHub:</strong> <a href="https://github.com/NexusContract/PubSoft.NexusContract" target="_blank" rel="noopener nofollow">NexusContract</a></li>
<li><strong>æ ¸å¿çå¿µï¼</strong> Kernelized Contract Integration (KCI) Framework</li>
<li><strong>éç¨åºæ¯ï¼</strong> é«æ§è½æ¯ä»éæãè·¨å¢éå¾®æå¡å¥çº¦ç®¡çãå¼æåè®®éæè½¬æ¢ã</li>
</ul>
<hr>
<p><strong>å³äºä½èï¼</strong><br>
ä¸åå¨ .NET éµè¥æ½è¡ 20 å¹´çæ¶æå¸ï¼ä» .NET Framework 1.1 å°ä»å¤©ç .NET 10ï¼ä¾ç¶å¯¹å¹²åçä»£ç ä¿æç­ç±ã</p>

</div>
<div id="MySignature" role="contentinfo">
    <p>______________________________________<br>çæ´»ï¼è¦ç¨å£äººçè¸æé¢å¯¹ï¼ç¨ç§å­¦çæ¹æ³æ¯éï¼ <br>&nbsp; &nbsp; &nbsp; &nbsp; ç¨çå¸çå¾¡è³å»èï¼ç¨æ¸æ´çç©ºæ°æ´èºï¼ <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ç¨å°çªçæè§å»ç¡ï¼ç¨å¤ªé³çç­æçæ°´ã<br>______________________________________</p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-06 21:27">2026-01-06 21:27</span>&nbsp;
<a href="https://www.cnblogs.com/jieky">æ¶å¤±è</a>&nbsp;
éè¯»(<span id="post_view_count">32</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19449427);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19449427', targetLink: 'https://www.cnblogs.com/jieky/p/19449427', title: 'å¤§éè³ç®ï¼å¦ä½ç¨æè½»éçä»£ç å®ç°è·¨å¢éçå¾®æå¡å¥çº¦ï¼' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ Pythonå¾®ä¿¡ç¾¤åæ¶æ¯ ]]></title>
    <link>https://www.cnblogs.com/dongxuelove/p/19449422</link>
    <guid>800f3440cd14e5f01e06c75bc58870e1</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/dongxuelove/p/19449422" title="åå¸äº 2026-01-06 21:25">
    <span role="heading" aria-level="2">Pythonå¾®ä¿¡ç¾¤åæ¶æ¯</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>å¾®ä¿¡èªå¸¦çç¾¤åå©æä¸æ¯æä¸ºæ¯ä½æ¶ä»¶äººèªå®ä¹æ¶æ¯åå®¹ï¼å¯¼è´ç¾¤åè¿ç¨åè°ä¸ç¼ºä¹ä¸ªæ§åãå æ­¤ï¼æå¸æéè¿ç¼åç¨åºæ¥å®ç°èªå¨åéæ¶æ¯ï¼å¹¶åè®¸æååå¤ææ¬åå®¹ï¼æ¹ä¾¿åç»­ç´æ¥è°ç¨ãç®åé¡¹ç®å·²åºæ¬å®æï¼ä½ç±äºæå¿å¯è½å¼åå¾®ä¿¡è´¦å·é£é©ï¼å°æªæå¥å®éä½¿ç¨ãæ¬¢è¿æå´è¶£çæåå¨æ­¤åºç¡ä¸è¿ä¸æ­¥å¼ååå®åã</p>
<h2 id="åæè°ç ">åæè°ç </h2>
<h3 id="è°ç çå">è°ç çå</h3>
<p><a href="https://github.com/Frica01/WeChatMassTool/issues" target="_blank" rel="noopener nofollow">Issues Â· Frica01/WeChatMassTool</a></p>
<p><a href="https://blog.csdn.net/as604049322/article/details/119899542" target="_blank" rel="noopener nofollow">â­UIèªå¨åå·¥å·è½»æ¾å®ç°å¾®ä¿¡æ¶æ¯æ¶åâ¡æååç¬åâï¸_uiautomationè·åå¾®ä¿¡å¾ç-CSDNåå®¢</a></p>
<p><a href="https://wxauto.loux.cc/docs/documents/methods/getmsg" target="_blank" rel="noopener nofollow">2. è·åæ¶æ¯ | wxauto</a></p>
<p>å ä¸ºæå¿è¢«å°å·ï¼æä»¥äºè§£äºä¸ä¸è¿ä¸¤ä¸ªæ¦å¿µ<a href="https://www.cnblogs.com/ArsenalfanInECNU/p/12871887.html" target="_blank">HOOK</a>å<a href="https://blog.csdn.net/iamdll/article/details/93591656" target="_blank" rel="noopener nofollow">RPA</a>ï¼åºäºhookå°å·é£é©å¾é«</p>
<p><a href="https://www.cnblogs.com/micro-chen/p/6169373.html" target="_blank">UIAutomationè¯å«UIåç´  - ç¹æ´ä¼-Micro - åå®¢å­</a></p>
<h3 id="æåç¡®å®çæ¹æ¡">æåç¡®å®çæ¹æ¡</h3>
<p>æ¹æ¡ä¸ï¼éç¨UIAutomationæ¥èªå·±è®¾è®¡ï¼ç§ç åèä¸ä¸ä¸è¿°<a href="https://github.com/Frica01/WeChatMassTool/issues" target="_blank" rel="noopener nofollow">Issues Â· Frica01/WeChatMassTool</a></p>
<p>æ¹æ¡äºï¼å¨æ¨¡æï¼éè¦ç¡®å®å¾®ä¿¡èå¤©æ¡çä½ç½®ï¼ç¶ååè¿è¡æä½</p>
<p>ç®ååéç¨æ¹æ¡äºï¼å ä¸ºå¯ä»¥èªå·±æ§å¶æ¨¡ææ¶é´ï¼æåæ¥åé</p>
<p><a href="https://blog.csdn.net/knighthood2001/article/details/124905213" target="_blank" rel="noopener nofollow">ãuiautomationãå¾®ä¿¡å¥½ååè¡¨è·åï¼å­å¨å°txtä¸­ï¼_python uiautomation listitemcontrol å¾®ä¿¡ æä¸ªäºº-CSDNåå®¢</a></p>
<p>æåè¿æ¯æ²å®æ¹æ¡ä¸ï¼æ¹æ¡ä¸åèµ·æ¥æ¯è¾æ¹ä¾¿ï¼å¦æçå°å·äºï¼è§£éä¸ä¸åºè¯¥ä¹å¯ä»¥è§£å°ã</p>
<p><a href="https://www.cnblogs.com/catfeel/p/15998889.html" target="_blank">pythonå®ç°å¾®ä¿¡èªå¨åæ¶æ¯åè½ - è©ææµªå­ - åå®¢å­</a></p>
<p><a href="https://blog.csdn.net/qq_45264504/article/details/141053139" target="_blank" rel="noopener nofollow">python+uiautomation è·åå¾®ä¿¡å¥½åæµç§°/å¤æ³¨_uiautomation python è·åå¾®ä¿¡éè®¯å½çå¥½åä¿¡æ¯-CSDNåå®¢</a></p>
<p><a href="https://www.cfanz.cn/resource/detail/KylLMnVpJlrEM" target="_blank" rel="noopener nofollow">ãuiautomationãå¾®ä¿¡å¥½åæµç§°åå¤æ³¨è·åï¼å­å¨å°excelä¸­ï¼-CFANZç¼ç¨ç¤¾åº</a></p>
<h2 id="ä»£ç ">ä»£ç </h2>
<pre><code class="language-python">import time
import uiautomation as auto

def selectSessionFromName(name, wait_time=0.1):
    search.Click()
    auto.SetClipboardText(name)
    search.SendKeys('{Ctrl}v')
    # ç­å¾å¾®ä¿¡ç´¢å¼æç´¢è·ä¸
    time.sleep(wait_time)
    search.SendKeys("{Enter}")

def send_msg_test(content):
    edit = wechatWindow.EditControl(Name='å°å·')
    edit.SendKeys(content)
    sendButton = wechatWindow.ButtonControl(Name='åé(S)')
    sendButton.Click()


wechatWindow = auto.WindowControl(searchDepth=1, Name="å¾®ä¿¡", ClassName='WeChatMainWndForPC')

wechatWindow.SetActive()
search = wechatWindow.EditControl(Name='æç´¢')
selectSessionFromName("å°å·") #ç¹å»å°å·
send_msg_test(content="æµè¯æå­")

# messages = wechatWindow.ListControl(Name='æ¶æ¯')
# for message in messages.GetChildren():
#     content = message.Name
#     print(content)
</code></pre>
<h2 id="åäººä¿¡æ¯åé">åäººä¿¡æ¯åé</h2>
<pre><code class="language-python">import time
import uiautomation as auto

def selectSessionFromName(name, wait_time=0.1):
    search.Click()
    auto.SetClipboardText(name)
    search.SendKeys('{Ctrl}v')
    # ç­å¾å¾®ä¿¡ç´¢å¼æç´¢è·ä¸
    time.sleep(wait_time)
    search.SendKeys("{Enter}")

def send_msg_test(content):
    edit = wechatWindow.EditControl(Name='å°å·')
    edit.SendKeys(content)
    sendButton = wechatWindow.ButtonControl(Name='åé(S)')
    sendButton.Click()


wechatWindow = auto.WindowControl(searchDepth=1, Name="å¾®ä¿¡", ClassName='WeChatMainWndForPC')

wechatWindow.SetActive()
search = wechatWindow.EditControl(Name='æç´¢')
selectSessionFromName("å°å·") #ç¹å»å°å·
send_msg_test(content="æµè¯æå­")

# messages = wechatWindow.ListControl(Name='æ¶æ¯')
# for message in messages.GetChildren():
#     content = message.Name
#     print(content)
</code></pre>
<h2 id="è·åå¥½åæµç§°åè¡¨">è·åå¥½åæµç§°åè¡¨</h2>
<pre><code class="language-python">import uiautomation as auto
import time

wechatWindow = auto.WindowControl(searchDepth=1, Name="å¾®ä¿¡", ClassName='WeChatMainWndForPC')
wechatWindow.SetActive() #æå¼å¾®ä¿¡çé¢


# ç¹å»éè®¯å½
button = wechatWindow.ButtonControl(Name='éè®¯å½')
button.Click()
# ç¹å»éè®¯å½ç®¡ç
administration = wechatWindow.ButtonControl(Name="éè®¯å½ç®¡ç")
administration.Click()


communication_administration = auto.WindowControl(Name="éè®¯å½ç®¡ç", ClassName="ContactManagerWindow")
# å°é¼ æ æ¾è³åå®¹çä¸­å¿ï¼æ»è½®å¯¹èç³»äººåè¡¨æè½çæ
communication_administration.MoveCursorToMyCenter()
list1 = communication_administration.ListControl(Name="")

# aè¡¨ç¤ºå­å¨åè¡¨ï¼bè¡¨ç¤ºè®¡æ°å¨,flagæ§å¶ä»£ç æ¯å¦éåº 
# è¿éä¹å®ä¹äºåå§æ¶é´ï¼æ¹ä¾¿ä»£ç è¿è¡ç»ææ¥çä»£ç è¿è¡æ¶é´ã
a = []
b = 1
 
flag = True
start_time = time.time()
print("""å¼å§æ¶é´ï¼{}""".format(start_time))

# è¿éæéç¨çæ¯ç±»ä¼¼çä¸ç´æ§è¡çä»£ç ï¼åªä¸è¿æè¿éç¨ï¼flagæ§å¶ä»£ç æ¯å¦ç»§ç»­è¿è¡ï¼èflagç±æä»¬å¨æ»è½®æ»å°åºé¨æ¶ï¼æç©ºæ ¼é®æ¹åflagå¼ï¼æç»åæ­¢è¿è¡ä»£ç 
while flag:
    list1 = communication_administration.ListControl(Name="") 
    #communication_administration.MoveCursorToMyCenter() è¡¨ç¤ºå°é¼ æ æ¾è³åå®¹çä¸­å¿ï¼
    #ç±äºè¿éå°å¶æ¾å°éè®¯å½ç®¡çé¡µé¢çä¸­å¿ï¼ç±äºè¿æ ·ï¼é¼ æ å¨èç³»äººåè¡¨è¿è¾¹ï¼å æ­¤æ»è½®å¯¹èç³»äººåè¡¨æè½çæã
    nickname = list1.GetChildren()[0].TextControl()
    '''å¤æ­æ¯ä¸æ¯å¨åè¡¨aä¸­ï¼å¦æåè¡¨ä¸­æ²¡æï¼åæ·»å '''
    if nickname.Name not in a:
        print(b, '', nickname.Name)
        b += 1
        a.append(nickname.Name)
        with open('name.txt', 'a', encoding='utf-8') as f: #â¡é¦åæä»¬å®ä½å°æ¯æ¬¡æ¾ç¤ºçç¬¬ä¸ä¸ªèç³»äººï¼å¤æ­å¶æ¯å¦å¨åè¡¨aä¸­ï¼å¦æä¸å¨ï¼å°±æ·»å ï¼å¹¶ä¸ä¿å­å°name.txtæä»¶ä¸­ï¼
            f.write(nickname.Name)
            f.write('\n')
    # æ»è½®ä¸æ»
    auto.WheelDown(waitTime=0.01) #ä¸ç®¡è¯¥å¤æ­æä¸æç«ï¼é½æ§è¡é¼ æ æ»è½®ä¸æ»çæä½ï¼
 
    # æå¨å®ç°æ»è½®æ»å¨å°åºæä½
    # ç©ºæ ¼
    if auto.IsKeyPressed(auto.Keys.VK_SPACE):
        print("å°åºäº") #â£æ»å°æåºç«¯çæ¶åï¼ç±äºç¬èç®åæ²¡æè¾å¥½çæ¹æ³å¤æ­å¶æ¯å¦å¨æåºç«¯ï¼
        # å æ­¤éç¨äººå·¥æç©ºæ ¼çæ¹å¼æ¥è®©ä»£ç ç¥éæ»è½®å°æåºç«¯äºï¼ç¶åå¨è¯¥é¡µé¢éåææèç³»äººåç´ ï¼å¤æ­å¶æ¯å¦å­å¨åè¡¨ä¸­ï¼ä¸å¨åæ·»å ï¼å¹¶æ·»å å°name.txtæä»¶ä¸­ï¼
        for j in list1.GetChildren()[1:]:
            last_nickname = j.TextControl()
 
            if last_nickname not in a:
                print(b, '', last_nickname.Name)
                b += 1
                a.append(last_nickname)
                with open('name.txt', 'a', encoding='utf-8') as f:
                    f.write(last_nickname.Name)
                    f.write('\n')
        print(a) #æåæå°åè¡¨aï¼æ´æ¹flagï¼æå°ä»£ç è¿è¡æ¶é´ã
        flag = False
        end_time = time.time()
        sum_time = end_time - start_time
        print("""è¿è¡æ¶é´ï¼{}s""".format(sum_time))
</code></pre>
<h2 id="è·åå¥½åææä¿¡æ¯ä»£ç ">è·åå¥½åææä¿¡æ¯ä»£ç </h2>
<pre><code class="language-python"># -*- coding: utf-8-*-
import uiautomation as auto
import time
import pandas as pd

df = []
columns = ['åºå·', 'æµç§°', 'å¤æ³¨', 'æ ç­¾']  # excelçæ é¢æ 
# ToDo è¿ééè¦æ´æ¹å¾®ä¿¡æå¨å°åï¼å¯éè¿æ¡é¢å¾®ä¿¡å¾æ å³é®æå¼æä»¶æå¨çä½ç½®æ¥æ¾å°è·¯å¾
wechatWindow = auto.WindowControl(searchDepth=1, Name="å¾®ä¿¡", ClassName='WeChatMainWndForPC')
wechatWindow.SetActive() #æå¼å¾®ä¿¡çé¢


# ç¹å»éè®¯å½
button = wechatWindow.ButtonControl(Name='éè®¯å½')
button.Click()
# ç¹å»éè®¯å½ç®¡ç
administration = wechatWindow.ButtonControl(Name="éè®¯å½ç®¡ç")
administration.Click()

communication_administration = auto.WindowControl(Name="éè®¯å½ç®¡ç", ClassName="ContactManagerWindow")

# å°é¼ æ æ¾è³åå®¹çä¸­å¿ï¼æ»è½®å¯¹èç³»äººåè¡¨æè½çæ
communication_administration.MoveCursorToMyCenter()
list1 = communication_administration.ListControl(Name="")
# aè¡¨ç¤ºå­å¨åè¡¨ï¼bè¡¨ç¤ºè®¡æ°å¨
a = []
b = 1

flag = True
start_time = time.time()
print("""å¼å§æ¶é´ï¼{}""".format(start_time))
while flag:
    list1 = communication_administration.ListControl(Name="")
    # nickname = list1.GetChildren()[0].TextControl()
    nickname = list1.GetChildren()[0].GetFirstChildControl().GetFirstChildControl().GetChildren()[1].GetChildren()[1]
    beizhu = list1.GetChildren()[0].GetFirstChildControl().GetFirstChildControl().GetChildren()[2].ButtonControl()
    biaoqian = list1.GetChildren()[0].GetFirstChildControl().GetFirstChildControl().GetChildren()[3].ButtonControl()
    # print(nickname.Name)
    # print(beizhu.Name)
    # print(biaoqian.Name)
    '''å¤æ­æ¯ä¸æ¯å¨åè¡¨aä¸­ï¼å¦æ'''
    if len(a) == 0 or nickname.Name != a[-1]:
        # print(nickname.Name)
        # print(beizhu.Name)
        # print(biaoqian.Name)
        # print("="*50)
        print(b, '', nickname.Name)
        df.append([b, nickname.Name, beizhu.Name, biaoqian.Name])
        d = pd.DataFrame(df, columns=columns)
        d.to_excel("å¾®ä¿¡æåä¿¡æ¯.xlsx", index=False)
        b += 1
        a.append(nickname.Name)

    end_time = time.time()
    sum_time = end_time - start_time
    # æ»è½®ä¸æ»
    if sum_time%10==0:
        auto.WheelDown(waitTime=0.01)


    # æå¨å®ç°æ»è½®æ»å¨å°åºæä½
    # ç©ºæ ¼
    if auto.IsKeyPressed(auto.Keys.VK_SPACE):
        print("å°åºäº")
        for j in list1.GetChildren()[1:]:
            last_nickname = j.TextControl()

            if last_nickname != a[-1]:
                print(b, '', last_nickname.Name)
                last_beizhu = j.GetFirstChildControl().GetFirstChildControl().GetChildren()[2].ButtonControl()
                last_biaoqian = j.GetFirstChildControl().GetFirstChildControl().GetChildren()[3].ButtonControl()
                df.append([b, last_nickname.Name, last_beizhu.Name, last_biaoqian.Name])
                d = pd.DataFrame(df, columns=columns)
                d.to_excel("å¾®ä¿¡æåä¿¡æ¯.xlsx", index=False)
                b += 1
                a.append(last_nickname)

        print(a)
        flag = False
        end_time = time.time()
        sum_time = end_time - start_time
        print("""è¿è¡æ¶é´ï¼{}s""".format(sum_time))
</code></pre>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.0006944444444444445" data-date-updated="2026-01-06 21:26">2026-01-06 21:25</span>&nbsp;
<a href="https://www.cnblogs.com/dongxuelove">ä¸è¡</a>&nbsp;
éè¯»(<span id="post_view_count">15</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19449422);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19449422', targetLink: 'https://www.cnblogs.com/dongxuelove/p/19449422', title: 'Pythonå¾®ä¿¡ç¾¤åæ¶æ¯' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
        </channel>
        </rss>