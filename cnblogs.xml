<?xml version="1.0" encoding="UTF-8" ?>
    <rss version="2.0">
    <channel>
        <title><![CDATA[ ä¸»é¡µ - åå®¢å­ ]]></title>
        <link><![CDATA[ https://www.cnblogs.com/ ]]></link>
        <lastBuildDate>2026-01-27T01:23:23.196Z</lastBuildDate>
        <description><![CDATA[
        ä¸»é¡µ - åå®¢å­ RSS
    ]]></description>
        <language>zh-cn</language>
        <item>
    <title><![CDATA[ åºäº C# å Nuke æé ç°ä»£åæå»ºç³»ç»çæä½³å®è·µ ]]></title>
    <link>https://www.cnblogs.com/newbe36524/p/19536496</link>
    <guid>2f39549a2ee0a6c844a561d70b4be76b</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/newbe36524/p/19536496" title="åå¸äº 2026-01-27 08:54">
    <span role="heading" aria-level="2">åºäº C# å Nuke æé ç°ä»£åæå»ºç³»ç»çæä½³å®è·µ</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="åå«èæ¬å°ç±ä¸ºä»ä¹æä»¬éæ©ç¨-c-æé ç°ä»£åæå»ºç³»ç»">åå«èæ¬å°ç±ï¼ä¸ºä»ä¹æä»¬éæ©ç¨ C# æé ç°ä»£åæå»ºç³»ç»</h1>
<blockquote>
<p>æ­ç§ HagiCode é¡¹ç®å¦ä½å©ç¨ Nuke å®ç°ç±»åå®å¨ãè·¨å¹³å°ä¸é«åº¦å¯æ©å±çèªå¨åæå»ºæµç¨ï¼å½»åºè§£å³ä¼ ç»æå»ºèæ¬çç»´æ¤çç¹ã</p>
</blockquote>

<h2 id="èæ¯">èæ¯</h2>
<p>å¨è½¯ä»¶å¼åçæ¼«é¿æéä¸­ï¼"æå»º"è¿ä¸ªè¯å¾å¾è®©äººåç±åæ¨ãç±çæ¯ï¼ä¸é®ç¹å»ï¼ä»£ç åæäº§åï¼é£æ¯ç¨åºåæè¿·äººçæ¶å»ï¼æ¨çæ¯ï¼ç»´æ¤é£ä¸å ä¹±ç³ç³çæå»ºèæ¬ï¼ç®ç´æ¯å©æ¢¦ã</p>
<p>å¨å¾å¤é¡¹ç®ä¸­ï¼æä»¬ä¹ æ¯äºç¨ Python åèæ¬ï¼æèç¨ XML éç½®æä»¶ï¼æ³è±¡ä¸ä¸é£æ®µè¢« <code>&lt;property&gt;</code> æ¯éçææ§ï¼ãä½éçé¡¹ç®å¤æåº¦çæåï¼å°¤å¶æ¯å HagiCode è¿æ ·æ¶åååç«¯ãå¤å¹³å°ãå¤è¯­è¨æ··åå¼åçé¡¹ç®ï¼ä¼ ç»çæå»ºæ¹å¼å¼å§æ¾å¾åä¸ä»å¿ãèæ¬é»è¾åæ£ãç¼ºä¹ç±»åæ£æ¥ãIDE æ¯æå¼±â¦â¦è¿äºé®é¢åä¸ä¸ªä¸ªå°åï¼æ¶ä¸æ¶å°±è®©å¼åå¢éç»ä¸ªè·å¤´ã</p>
<p>ä¸ºäºè§£å³è¿äºçç¹ï¼å¨ HagiCode é¡¹ç®ä¸­ï¼æä»¬å³å®å¼å¥ <strong>Nuke</strong> ââ ä¸ä¸ªåºäº C# çç°ä»£åæå»ºç³»ç»ãå®ä¸ä»ä»æ¯ä¸ä¸ªå·¥å·ï¼æ´åæ¯ä¸ç§å¯¹æå»ºæµç¨çéæ°æèãä»å¤©ï¼æä»¬å°±æ¥èèä¸ºä»ä¹éæ©å®ï¼ä»¥åå®æ¯å¦ä½è®©æä»¬çå¼åä½éª"èµ·é£"çã</p>
<h2 id="å³äº-hagicode">å³äº HagiCode</h2>
<blockquote>
<p>å¿ï¼ä»ç»ä¸ä¸æä»¬æ­£å¨åçä¸è¥¿</p>
</blockquote>
<p>æä»¬æ­£å¨å¼å <strong>HagiCode</strong> ââ ä¸æ¬¾ AI é©±å¨çä»£ç æºè½å©æï¼è®©å¼åä½éªåå¾æ´æºè½ãæ´ä¾¿æ·ãæ´æè¶£ã</p>
<p><strong>æºè½</strong> ââ AI å¨ç¨è¾å©ï¼ä»æ³æ³å°ä»£ç ï¼è®©ç¼ç æçæåæ°åã<strong>ä¾¿æ·</strong> ââ å¤çº¿ç¨å¹¶åæä½ï¼ååå©ç¨èµæºï¼å¼åæµç¨é¡ºçæ é»ã<strong>æè¶£</strong> ââ æ¸¸æåæºå¶åæå°±ç³»ç»ï¼è®©ç¼ç ä¸åæ¯ç¥ï¼åæ»¡æå°±æã</p>
<p>é¡¹ç®æ­£å¨å¿«éè¿­ä»£ä¸­ï¼å¦æä½ å¯¹ææ¯åä½ãç¥è¯ç®¡çæè AI è¾å©å¼åæå´è¶£ï¼æ¬¢è¿æ¥ <a href="https://github.com/HagiCode-org/site" target="_blank" rel="noopener nofollow">GitHub</a> ççï½</p>
<h2 id="æ ¸å¿åæä¸ºä»ä¹æ¯-nuke">æ ¸å¿åæï¼ä¸ºä»ä¹æ¯ Nukeï¼</h2>
<p>ä½ å¯è½å¿éä¼ç¯ååï¼"ååï¼æå»ºç³»ç»é£ä¹å¤ï¼æ¯å¦ MakeãGradleï¼çè³ç´æ¥ç¨ Shell èæ¬ä¸è¡åï¼ä¸ºå¥éå¾æ´ä¸ä¸ª C# çï¼"</p>
<p>è¿å¶å®æ¯ä¸ªå¥½é®é¢ãNuke çæ ¸å¿é­åå¨äºå®ææä»¬æçæçç¼ç¨è¯­è¨ç¹æ§å¸¦è¿äºæå»ºèæ¬çä¸çã</p>
<h3 id="1-å°æå»ºæµç¨æ¨¡ååtarget-çèºæ¯">1. å°æå»ºæµç¨æ¨¡ååï¼Target çèºæ¯</h3>
<p>Nuke çè®¾è®¡çå¿µéå¸¸æ¸æ°ï¼<strong>ä¸åçä¸ºç®æ </strong>ã</p>
<p>å¨ä¼ ç»çèæ¬éï¼æä»¬å¯è½ä¼ååºå ç¾è¡çº¿æ§æ§è¡çä»£ç ï¼é»è¾éç»¼å¤æãèå¨ Nuke ä¸­ï¼æä»¬å°æå»ºæµç¨åè§£ä¸ºç¬ç«ç <code>Target</code>ï¼ç®æ ï¼ãæ¯ä¸ªç®æ åªè´è´£ä¸ä»¶äºï¼æ¯å¦ï¼</p>
<ul>
<li><code>Clean</code>: æ¸çè¾åºç®å½</li>
<li><code>Restore</code>: è¿åä¾èµå</li>
<li><code>Compile</code>: ç¼è¯ä»£ç </li>
<li><code>Test</code>: è¿è¡ååæµè¯</li>
</ul>
<p>è¿ç§è®¾è®¡éå¸¸ç¬¦ååä¸èè´£ååãå°±åæ­ç§¯æ¨ä¸æ ·ï¼æä»¬å¯ä»¥éæç»åè¿äº Targetãæ´éè¦çæ¯ï¼Nuke åè®¸æä»¬å®ä¹ Target ä¹é´çä¾èµå³ç³»ãæ¯å¦ï¼ä½ æ³è¦ <code>Test</code>ï¼é£ç³»ç»ä¼èªå¨æ£æ¥ä½ æ¯å¦åæ§è¡äº <code>Compile</code>ï¼æ³è¦ <code>Compile</code>ï¼èªç¶å¾å <code>Restore</code>ã</p>
<p>è¿ç§ä¾èµå³ç³»å¾ä¸ä»è®©é»è¾æ´æ¸æ°ï¼è¿æå¤§å°æé«äºæ§è¡æçï¼Nuke ä¼èªå¨åææä¼æ§è¡è·¯å¾ã</p>
<h3 id="2-ç±»åå®å¨åå«æ¼åéè¯¯çå©æ¢¦">2. ç±»åå®å¨ï¼åå«æ¼åéè¯¯çå©æ¢¦</h3>
<p>ç¨è¿ Python åæå»ºèæ¬çæåè¯å®éå°è¿è¿ç§å°´å°¬ï¼èæ¬è·äºäºåéï¼æåæ¥éè¯´ <code>Confi.guration</code> æ¼åéäºï¼æèä¼ äºä¸ä¸ªå­ç¬¦ä¸²ç»äºä¸ä¸ªæ¬è¯¥æ¯æ°å­çåæ°ã</p>
<p>ä½¿ç¨ C# ç¼åæå»ºèæ¬æå¤§çä¼å¿å°±æ¯ <strong>ç±»åå®å¨</strong>ãè¿æå³çï¼</p>
<ul>
<li><strong>ç¼è¯æ¶æ£æ¥</strong>ï¼ä½ å¨æ²ä»£ç çæ¶åï¼IDE å°±ä¼åè¯ä½ åªééäºï¼ä¸ç¨ç­å°è¿è¡æ¶æåç°ã</li>
<li><strong>éææ å¿§</strong>ï¼å¦æä½ æ³æ¹ä¸ªåéåæèæ¹æ³åï¼IDE çéæåè½ä¸é®æå®ï¼ä¸ç¨å¨å±æç´¢æ¿æ¢æå¿åèã</li>
<li><strong>æºè½æç¤º</strong>ï¼å¼ºå¤§ç IntelliSense ä¼èªå¨è¡¥å¨ä»£ç ï¼ä½ ä¸éè¦å»ç¿»ææ¡£è®°é£äºçå»ç APIã</li>
</ul>
<h3 id="3-è·¨å¹³å°ç»ä¸çæå»ºä½éª">3. è·¨å¹³å°ï¼ç»ä¸çæå»ºä½éª</h3>
<p>ä»¥åå¨ Windows ä¸å <code>.bat</code>ï¼å¨ Linux ä¸å <code>.sh</code>ï¼ä¸ºäºå¼å®¹ä¸¤èï¼è¿å¾åä¸ª Python èæ¬ãç°å¨ï¼åªè¦æ¯ .NET Coreï¼ç° .NET 5+ï¼è½è·çå°æ¹ï¼Nuke å°±è½è·ã</p>
<p>è¿æå³çæ è®ºå¢éæåæ¯ä½¿ç¨ WindowsãLinux è¿æ¯ macOSï¼æ è®ºæ¯ç¨ Visual StudioãVS Code è¿æ¯ Riderï¼å¤§å®¶æ§è¡çé½æ¯åä¸å¥é»è¾ãè¿å°±æå¤§å°æ¶é¤äº"å¨ææºå¨ä¸è½è·"è¿ç±»ç¯å¢å·®å¼å¯¼è´çé®é¢ã</p>
<h3 id="4-åæ°ä¸éç½®ç®¡ç">4. åæ°ä¸éç½®ç®¡ç</h3>
<p>Nuke æä¾äºä¸å¥éå¸¸ä¼éçåæ°è§£ææºå¶ãä½ ä¸éè¦æå¨å»è§£æ <code>string[] args</code>ï¼åªéè¦å®ä¹ä¸ä¸ªå±æ§ï¼å ä¸ <code>[Parameter]</code> ç¹æ§ï¼Nuke å°±ä¼èªå¨å¤çå½ä»¤è¡åæ°åéç½®æä»¶çæ å°ã</p>
<p>æ¯å¦ï¼æä»¬å¯ä»¥è½»æ¾å®ä¹æå»ºéç½®ï¼</p>
<pre><code class="language-csharp">[Parameter("Configuration to build - Default is 'Debug'")]
readonly Configuration BuildConfiguration = IsLocalBuild ? Configuration.Debug : Configuration.Release;

Target Compile =&gt; _ =&gt; _
    .DependsOn(Restore)
    .Executes(() =&gt;
    {
        // å¨è¿éä½¿ç¨ BuildConfigurationï¼å®æ¯ç±»åå®å¨ç
        DotNetBuild(s =&gt; s
            .SetConfiguration(BuildConfiguration)
            .SetProjectFile(SolutionFile));
    });
</code></pre>
<p>è¿ç§åæ³æ¢ç´è§åä¸å®¹æåºéã</p>
<h2 id="å®è·µæåå¦ä½å¨é¡¹ç®ä¸­è½å°">å®è·µæåï¼å¦ä½å¨é¡¹ç®ä¸­è½å°</h2>
<p>ç©ºè°è¯¯å½ï¼å®å¹²å´é¦ãè®©æä»¬ççå¨ HagiCode é¡¹ç®ä¸­ï¼å·ä½æ¯æä¹è½å°è¿å¥æ¹æ¡çã</p>
<h3 id="1-è§åé¡¹ç®ç»æ">1. è§åé¡¹ç®ç»æ</h3>
<p>æä»¬ä¸æ³è®©æå»ºèæ¬æ±¡æé¡¹ç®æ ¹ç®å½ï¼ä¹ä¸æ³æå¾åæäº Java é¡¹ç®é£æ ·ç®å½ç»ææ·±ä¸è§åºãæä»¥ï¼æä»¬å°ææä¸ Nuke ç¸å³çæå»ºæä»¶ç»ä¸æ¾ç½®å¨ <code>nukeBuild/</code> æä»¶å¤¹ä¸­ã</p>
<p>è¿æ ·åçå¥½å¤æ¯ï¼</p>
<ul>
<li>é¡¹ç®æ ¹ç®å½ä¿ææ¸ç½ã</li>
<li>æå»ºé»è¾åèï¼æ¹ä¾¿ç®¡çã</li>
<li>æ°æåå å¥æ¶ï¼ä¸ç¼å°±è½çå°"å¦ï¼è¿æ¯æå»ºç¸å³çé»è¾"ã</li>
</ul>
<h3 id="2-è®¾è®¡æ¸æ°ç-target-ä¾èµé¾">2. è®¾è®¡æ¸æ°ç Target ä¾èµé¾</h3>
<p>å¨è®¾è®¡ Target æ¶ï¼æä»¬éµå¾ªäºä¸ä¸ªååï¼<strong>åå­å + ä¾èµæµ</strong>ã</p>
<p>æ¯ä¸ª Target åºè¯¥è¶³å¤å°ï¼åªåä¸ä»¶äºãæ¯å¦ <code>Clean</code> å°±åªç®¡å æä»¶ï¼ä¸è¦å¨éé¢é¡ºä¾¿åæåã</p>
<p>æ¨èçä¾èµæµå¤§æ¦æ¯è¿ä¸ªæ ·å­çï¼</p>
<p><code>Clean</code> -&gt; <code>Restore</code> -&gt; <code>Compile</code> -&gt; <code>Test</code> -&gt; <code>Pack</code></p>
<p>å½ç¶ï¼è¿ä¸æ¯ç»å¯¹çãæ¯å¦å¦æä½ åªæ³è·ä¸ªæµè¯ï¼ä¸æ³æåï¼Nuke åè®¸ä½ ç´æ¥æ§è¡ <code>nuke Test</code>ï¼å®ä¼èªå¨å¤çå¥½åç½®ç Restore å Compile æ­¥éª¤ã</p>
<h3 id="3-å®åçéè¯¯å¤çä¸æ¥å¿">3. å®åçéè¯¯å¤çä¸æ¥å¿</h3>
<p>æå»ºèæ¬ææçæ¯ä»ä¹ï¼æ¯æ¥éä¿¡æ¯ä¸æç¡®ãæ¯å¦æå»ºå¤±è´¥äºï¼æ¥å¿åªæ¾ç¤º "Error: 1"ï¼è¿å°±è®©äººå¾æçã</p>
<p>å¨ Nuke ä¸­ï¼ç±äºæä»¬å¯ä»¥ç´æ¥ä½¿ç¨ C# çå¼å¸¸å¤çæºå¶ï¼å æ­¤å¯ä»¥éå¸¸ç²¾ç¡®å°æè·åæ¥åéè¯¯ã</p>
<pre><code class="language-csharp">Target Publish =&gt; _ =&gt; _
    .DependsOn(Test)
    .Executes(() =&gt;
    {
        try 
        {
            // å°è¯åå¸å° NuGet
            DotNetNuGetPush(s =&gt; s
                .SetTargetPath(ArtifactPath)
                .SetSource("https://api.nuget.org/v3/index.json")
                .SetApiKey(ApiKey));
        }
        catch (Exception ex)
        {
            Log.Error($"åå¸å¤±è´¥äºï¼åå¼ä»¬æ£æ¥ä¸ä¸ Key å¯¹ä¸å¯¹: {ex.Message}");
            throw; // ç¡®ä¿æå»ºè¿ç¨ä»¥éé¶éåºç ç»æ
        }
    });
</code></pre>
<h3 id="4-éææµè¯ä¿éè´¨é">4. éææµè¯ä¿éè´¨é</h3>
<p>æå»ºèæ¬æ¬èº«ä¹æ¯ä»£ç ï¼ä¹éè¦æµè¯ãNuke åè®¸æä»¬ä¸ºæå»ºæµç¨ç¼åæµè¯ï¼ç¡®ä¿å½æä»¬ä¿®æ¹äºæå»ºé»è¾åï¼ä¸ä¼ç ´åç°æçåå¸æµç¨ãè¿å¨æç»­éæï¼CIï¼æµæ°´çº¿ä¸­å°¤ä¸ºéè¦ã</p>
<h2 id="æ»ç»">æ»ç»</h2>
<p>éè¿å¼å¥ Nukeï¼HagiCode çæå»ºæµç¨åå¾åææªæçé¡ºçãå®ä¸ä»ä»æ¯ä¸ä¸ªå·¥å·çæ¿æ¢ï¼æ´æ¯å·¥ç¨åæç»´çæåã</p>
<p><strong>æä»¬æ¶è·äºä»ä¹ï¼</strong></p>
<ul>
<li><strong>å¯ç»´æ¤æ§</strong>ï¼ä»£ç å³éç½®ï¼é»è¾æ¸æ°ï¼æ°äººä¹è½å¿«éä¸æã</li>
<li><strong>ç¨³å®æ§</strong>ï¼å¼ºç±»åæ£æ¥åå°äº 90% ä»¥ä¸çä½çº§éè¯¯ã</li>
<li><strong>ä¸è´æ§</strong>ï¼è·¨å¹³å°çç»ä¸ä½éªï¼æ¶é¤äºç¯å¢å·®å¼ã</li>
</ul>
<p>å¦æè¯´ä»¥ååæå»ºèæ¬æ¯"å¨é»æä¸­æ¸ç´¢"ï¼é£ä¹ä½¿ç¨ Nuke å°±åæ¯"å¼çç¯èµ°å¤è·¯"ãå¦æä½ åå¤äºç»´æ¤é£äºé¾ä»¥è°è¯çèæ¬è¯­è¨ï¼ä¸å¦¨è¯è¯ææå»ºé»è¾ä¹æ¬å° C# çä¸çéæ¥ï¼ä¹è®¸ä½ ä¼åç°ï¼åæ¥æå»ºä¹å¯ä»¥è¿ä¹ä¼éã</p>
<h2 id="åèèµæ">åèèµæ</h2>
<ul>
<li><a href="https://nuke.build/" target="_blank" rel="noopener nofollow">Nuke å®æ¹ææ¡£</a></li>
<li><a href="https://github.com/HagiCode-org/site" target="_blank" rel="noopener nofollow">HagiCode é¡¹ç®å°å</a></li>
<li><a href="https://learn.microsoft.com/en-us/archive/csharp-team/introducing-csharp-scripting" target="_blank" rel="noopener nofollow">å³äº C# Scripting çæ´å¤ç»è</a></li>
</ul>
<hr>
<p>æè°¢æ¨çéè¯»,å¦ææ¨è§å¾æ¬ææç¨,å¿«ç¹å»ä¸æ¹ç¹èµæé®ð,è®©æ´å¤çäººçå°æ¬æã</p>
<p>æ¬åå®¹éç¨äººå·¥æºè½è¾å©åä½,ç»æ¬äººå®¡æ ¸,ç¬¦åæ¬äººè§ç¹ä¸ç«åºã</p>
<ul>
<li><strong>æ¬æä½è:</strong> <a href="https://www.newbe.pro" target="_blank" rel="noopener nofollow">newbe36524</a></li>
<li><strong>æ¬æé¾æ¥:</strong> <a href="https://hagicode-org.github.io/site/blog/2026/01/26/modern-build-system-with-csharp-and-nuke" target="_blank" rel="noopener nofollow">https://hagicode-org.github.io/site/blog/2026/01/26/modern-build-system-with-csharp-and-nuke</a></li>
<li><strong>çæå£°æ:</strong> æ¬åå®¢æææç« é¤ç¹å«å£°æå¤,åéç¨ BY-NC-SA è®¸å¯åè®®ãè½¬è½½è¯·æ³¨æåºå¤!</li>
</ul>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-27 08:54">2026-01-27 08:54</span>&nbsp;
<a href="https://www.cnblogs.com/newbe36524">Newbe36524</a>&nbsp;
éè¯»(<span id="post_view_count">64</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19536496);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19536496', targetLink: 'https://www.cnblogs.com/newbe36524/p/19536496', title: 'åºäº C# å Nuke æé ç°ä»£åæå»ºç³»ç»çæä½³å®è·µ' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ Sdcb Chats 1.10 ç§æåä»£ç æ§è¡å¨é¨ç½²æç¨ ]]></title>
    <link>https://www.cnblogs.com/sdcb/p/19533814/chats-1-10-deploy</link>
    <guid>230cd44cbe4e80372746c381c59f0cf7</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/sdcb/p/19533814/chats-1-10-deploy" title="åå¸äº 2026-01-27 08:45">
    <span role="heading" aria-level="2">Sdcb Chats 1.10 ç§æåä»£ç æ§è¡å¨é¨ç½²æç¨</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>ä¹åæåäºè¿ç¯åå®¢<a href="https://www.cnblogs.com/sdcb/p/19528764/chats-1-10" target="_blank">ãå¤å» ChatGPT é«çº§æ°æ®åæï¼Sdcb Chats 1.10 éç£åå¸ï¼è½åæExcelãåPPTã</a>ï¼åå¤§å®¶ä»ç»äº Chats 1.10 ææ¿å¨äººå¿çæ°åè½ââåç½®ä»£ç æ§è¡å¨ï¼Code Interpreterï¼ã</p>
<p>æç« ååºåï¼ååå¾ç­çï¼ä½ä¹æå¾å¤æåå¨é®ï¼âè¿åè½ççå¾å¼ºï¼ä½å°åºæä¹é¨ç½²åå¶éç½®åï¼â</p>
<p>åå¤´çäºä¸ä¸åä¸ç¯æç« ï¼ç¡®å®åé¡¾çå´å¥å°ä»ç»åè½ï¼ææå³é®ç<strong>é¨ç½²å®æ</strong>ç»ç¥è¿äºãä¸ºäºè®©å¤§å®¶é½è½å°½å¿«ç¨ä¸è¿ä¸ªâç¡¬æ ¸âåè½ï¼ä»å¤©ç¹å°è¡¥ä¸è¿ç¯è¯¦ç»çä¿å§çº§é¨ç½²éç½®ææ¡£ã</p>
<hr>
<p>æ³è¦å¨ Chats ä¸­ä½¿ç¨âä»£ç æ§è¡âåè½ï¼ä¸»è¦åä¸¤æ­¥èµ°ï¼</p>
<ol>
<li><strong>åºç¡è®¾æ½å±</strong>ï¼è®© Chats æå¡è½è¿ä¸ Docker Daemonï¼å ä¸ºä»£ç æ¯å¨éç¦»ç Docker å®¹å¨ä¸­è¿è¡çï¼ã</li>
<li><strong>åºç¨éç½®å±</strong>ï¼å¨ Chats åå°ååå°å¼å¯ç¸åºçåè½å¼å³ã</li>
</ol>
<h2 id="ç¬¬ä¸é¨åè¿æ¥-docker-daemon">ç¬¬ä¸é¨åï¼è¿æ¥ Docker Daemon</h2>
<p>Chats çä»£ç æ§è¡å¨åçæ¯ï¼å½æ¨¡åéè¦æ§è¡ä»£ç æ¶ï¼Chats ä¼å¨æåå»ºä¸ä¸ªä¸æ¬¡æ§ç Docker å®¹å¨ï¼æ²ç®±ï¼ï¼å¨éé¢è¿è¡ä»£ç å¹¶è·åç»æãå æ­¤ï¼<strong>Chats å¿é¡»æ¥æç®¡ç Docker çæé</strong>ã</p>
<p>è¿éä¸»è¦ä»ç»ä¸¤ç§æå¸¸è§çåºæ¯ï¼çº¯ Docker ç¯å¢ï¼Linux æå¡å¨ï¼å Windows ä¸ç Docker Desktopã</p>
<h3 id="åºæ¯ä¸linux-æå¡å¨--çº¯-docker-ç¯å¢">åºæ¯ä¸ï¼Linux æå¡å¨ / çº¯ Docker ç¯å¢</h3>
<p>è¿æ¯çäº§ç¯å¢æå¸¸ç¨çæ¹å¼ãä½ åªéè¦å°å®¿ä¸»æºç Docker Socket æè½½å° Chats å®¹å¨ä¸­å³å¯ã</p>
<p><img src="https://img2024.cnblogs.com/blog/233608/202601/233608-20260126155139396-122617623.avif" alt="00-docker" loading="lazy"></p>
<h4 id="1-docker-éåè¯´æ">1. Docker éåè¯´æ</h4>
<p>Chats ç Docker éåæç®¡å¨ <code>sdcb/chats</code>ï¼æä»¬æä¾äºå®åçå¤æ¶ææ¯æï¼</p>
<table>
<thead>
<tr>
<th style="text-align: left">æè¿°</th>
<th style="text-align: left">Docker éå Tag</th>
<th style="text-align: left">è¯´æ</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left"><strong>Latestï¼æ¨èï¼</strong></td>
<td style="text-align: left"><code>latest</code></td>
<td style="text-align: left">åå«ææ°ç¨³å®çåè½ï¼å¤æ¶ææ¯æ</td>
</tr>
<tr>
<td style="text-align: left">æå®å®æ´çæ¬</td>
<td style="text-align: left"><code>{version}</code> (å¦ <code>1.10.0</code>)</td>
<td style="text-align: left">çäº§ç¯å¢æ¨èéå®çæ¬</td>
</tr>
<tr>
<td style="text-align: left">æå®ä¸»/æ¬¡çæ¬</td>
<td style="text-align: left"><code>{major}</code> / <code>{major.minor}</code></td>
<td style="text-align: left">å¦ <code>1</code>, <code>1.10</code>ï¼èªå¨æ´æ°å°è¯¥ç³»åææ°ç</td>
</tr>
<tr>
<td style="text-align: left">ç¹å®å¹³å°</td>
<td style="text-align: left"><code>...-linux-x64</code> ç­</td>
<td style="text-align: left">ä»å¨å¿é¡»æå¨æå®æ¶ææ¶ä½¿ç¨</td>
</tr>
</tbody>
</table>
<p><strong>å³äº Manifest (å¤æ¶ææ¯æ)</strong>ï¼<br>
æä»¬ç <code>latest</code> åè¯­ä¹åçæ¬æ ç­¾ï¼å¦ <code>1.10.0</code>ï¼é½æ¯ <strong>Manifest List</strong>ãè¿æå³çä½ <strong>ä¸éè¦</strong>æå¨åºå <code>linux-x64</code> è¿æ¯ <code>linux-arm64</code>ã<br>
æ è®ºä½ å¨ x64 ç Linux æå¡å¨ãARM64 çæ èæ´¾ï¼è¿æ¯ Windows Server (Nano Server) ä¸æ§è¡ <code>docker pull sdcb/chats:latest</code>ï¼Docker é½ä¼èªå¨æ£æµå¹¶æåæéåå½åç³»ç»çéåå±ã</p>
<h4 id="2-å¯å¨éç½®">2. å¯å¨éç½®</h4>
<p>ç±äº Docker Socket é»è®¤å±äº root ç¨æ·ï¼ä¸ºäºé¿åæéé®é¢ï¼Permission Deniedï¼ï¼å»ºè®®æ¾å¼æå® <code>--user 0:0</code> ä»¥ root èº«ä»½è¿è¡å®¹å¨ã</p>
<p>å¨å¯å¨ Chats ç <code>docker run</code> å½ä»¤æ <code>docker-compose.yml</code> ä¸­ï¼æ·»å  user éç½®åæè½½å·ï¼</p>
<pre><code class="language-bash">-v /var/run/docker.sock:/var/run/docker.sock --user 0:0
</code></pre>
<p><strong>å®æ´ç docker run å½ä»¤ç¤ºä¾</strong>ï¼</p>
<pre><code class="language-bash"># åå»ºæ°æ®ç®å½å¹¶ææ
mkdir -p ./AppData &amp;&amp; chmod 755 ./AppData

# å¯å¨å®¹å¨
docker run -d --restart unless-stopped --name sdcb-chats \
  -p 8080:8080 \
  -e DBType=sqlite \
  -e ConnectionStrings__ChatsDB="Data Source=./AppData/chats.db" \
  -v ./AppData:/app/AppData \
  -v /var/run/docker.sock:/var/run/docker.sock --user 0:0 \
  sdcb/chats:latest
</code></pre>
<p><strong>ç¤ºä¾ docker-compose.yml</strong>ï¼</p>
<pre><code class="language-yaml">version: '3'
services:
  chats:
    image: sdcb/chats:latest
    user: 0:0 # å³é®ï¼å¿é¡»ä½¿ç¨ root ç¨æ·æè½è®¿é® docker.sock
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock # å³é®éç½®ï¼æè½½ Docker å®æ¤è¿ç¨
      - ./data:/app/data
    ports:
      - "8080:8080"
</code></pre>
<h3 id="åºæ¯äºwindows-ç¯å¢">åºæ¯äºï¼Windows ç¯å¢</h3>
<p>å¨ Windows (ä½¿ç¨ Docker Desktop) ä¸é¨ç½²æ¶ï¼æåµç¨å¾®ç¹æ®ä¸ç¹ï¼åå³äºä½ æ¯<strong>å¨ Docker å®¹å¨åè¿è¡ Chats</strong>ï¼è¿æ¯<strong>ç´æ¥è¿è¡ Chats ç Windows å¯æ§è¡æä»¶ (.exe)</strong>ã</p>
<h4 id="æåµ-achats-è¿è¡å¨-docker-å®¹å¨åæ¨è">æåµ Aï¼Chats è¿è¡å¨ Docker å®¹å¨åï¼æ¨èï¼</h4>
<p>å¦æä½ æ¯éè¿ <code>docker run</code> å¯å¨ Chats çï¼é£ä¹æ­åä½ ï¼éç½®æ¹æ³å¶å®å Linux <strong>å®å¨ä¸æ ·</strong>ï¼</p>
<p>Docker Desktop for Windows åäºå¾å¥½çå¼å®¹ï¼ä½ åªéè¦æ <code>/var/run/docker.sock</code> æè½½è¿å»å³å¯ï¼<strong>ä¸éè¦</strong>éç½® npipe æ TCPã</p>
<p><strong>PowerShell å¯å¨å½ä»¤ç¤ºä¾</strong>ï¼</p>
<pre><code class="language-powershell">docker run -d -p 8080:8080 `
  -v /var/run/docker.sock:/var/run/docker.sock `
  -v ${PWD}/data:/app/data `
  sdcb/chats:latest
</code></pre>
<h4 id="æåµ-bchats-ä½ä¸ºåçå¯æ§è¡æä»¶è¿è¡">æåµ Bï¼Chats ä½ä¸ºåçå¯æ§è¡æä»¶è¿è¡</h4>
<p>å¦æä½ ä¸ä¹ æ¯ä½¿ç¨ Docker é¨ç½²åºç¨ï¼æä»¬æä¾äºåºäºé¢ç¼è¯çåçå¯æ§è¡æä»¶ï¼<strong>æ éå®è£ä»»ä½è¿è¡æ¶</strong>ï¼å¦ .NET SDK/Runtimeï¼å³å¯ç´æ¥è¿è¡ï¼å¯å¨éåº¦è¾å¿«ä¸åå­å ç¨ä½ã</p>
<p><strong>å¯æ§è¡æä»¶åè¡¨</strong>ï¼</p>
<table>
<thead>
<tr>
<th style="text-align: left">å¹³å°</th>
<th style="text-align: left">æä»¶å</th>
<th style="text-align: left">è¯´æ</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left"><strong>Windows 64ä½</strong></td>
<td style="text-align: left"><code>chats-win-x64.zip</code></td>
<td style="text-align: left">æ¨èå¤§å¤æ° Windows ç¨æ·</td>
</tr>
<tr>
<td style="text-align: left">Linux 64ä½</td>
<td style="text-align: left"><code>chats-linux-x64.zip</code></td>
<td style="text-align: left">å¸¸è§ç Linux æå¡å¨ (glibc)</td>
</tr>
<tr>
<td style="text-align: left">Linux ARM64</td>
<td style="text-align: left"><code>chats-linux-arm64.zip</code></td>
<td style="text-align: left">æ èæ´¾ãMac Mç³»ådockerç­</td>
</tr>
<tr>
<td style="text-align: left">Linux Musl</td>
<td style="text-align: left"><code>chats-linux-musl-*.zip</code></td>
<td style="text-align: left">éç¨äº Alpine ç­è½»éçº§åè¡ç</td>
</tr>
<tr>
<td style="text-align: left">macOS</td>
<td style="text-align: left"><code>chats-osx-*.zip</code></td>
<td style="text-align: left">æ¯æ x64 (Intel) å ARM64 (Mç³»åè¯ç)</td>
</tr>
<tr>
<td style="text-align: left">éç¨å</td>
<td style="text-align: left"><code>chats.zip</code></td>
<td style="text-align: left"><strong>éå®è£ .NET 10</strong>ï¼è·¨å¹³å°</td>
</tr>
</tbody>
</table>
<p>ä½ å¯ä»¥ä» <a href="https://github.com/sdcb/chats/blob/main/doc/zh-CN/downloads.md" target="_blank" rel="noopener nofollow">ä¸è½½æåææ¡£</a> é¡µé¢è·åä¸è½½å°åãè¯¥ææ¡£è¯¦ç»ååºäº GitHub Releases åå½åå ééåçä¸è½½æ¹å¼ã</p>
<p><strong>éç½®ä¸å¯å¨</strong>ï¼</p>
<p>å¦æä½ ä¸è½½äº <code>Chats.BE.exe</code> (Windows çåç«¯) ç´æ¥è¿è¡ï¼èä¸æ¯ä½¿ç¨ Docker éåï¼é£ä¹ä½ éè¦éè¿å½ä»¤è¡åæ°æå® Windows ç<strong>å½åç®¡é (Named Pipe)</strong> æ¥è¿æ¥ Docker å¼æã</p>
<ol>
<li><strong>ä¸è½½ç¨åº</strong>ï¼ä¸è½½å¹¶è§£åå¯¹åºç <code>chats-win-x64.zip</code>ã</li>
<li><strong>å¯å¨å½ä»¤</strong>ï¼ä½¿ç¨ <code>--CodePod:DockerEndpoint</code> åæ°æå® Docker æ¥å¥ç¹ã</li>
</ol>
<p><strong>PowerShell å¯å¨å½ä»¤ç¤ºä¾</strong>ï¼</p>
<pre><code class="language-powershell"># å¯å¨åç«¯ç¨åºï¼å¹¶æå® Docker å¼æå°å
.\Chats.BE.exe --CodePod:DockerEndpoint npipe://./pipe/docker_engine
</code></pre>
<p>ä½ ä¹å¯ä»¥åæ¶æå®å¶å®åæ°ï¼å¦ç«¯å£ï¼ï¼</p>
<pre><code class="language-powershell">.\Chats.BE.exe --urls http://+:5000 --CodePod:DockerEndpoint npipe://./pipe/docker_engine
</code></pre>
<p>è¿æ ·ï¼åçè¿è¡ç Chats ä¹è½é¡ºå©ææ¥ Docker Desktop åå»ºæ²ç®±ç¯å¢äºã</p>
<hr>
<h2 id="ç¬¬äºé¨åå¨-chats-ä¸­å¯ç¨åè½">ç¬¬äºé¨åï¼å¨ Chats ä¸­å¯ç¨åè½</h2>
<p>è¿ä¸ Docker åªæ¯æéäºç»èï¼æ¥ä¸æ¥è¿éè¦å¨ Chats åé¨âè§£éâè¿ä¸ªæè½ã</p>
<h3 id="1-åç«¯éç½®æ¨¡åè®¾ç½®">1. åç«¯éç½®ï¼æ¨¡åè®¾ç½®</h3>
<p>é¦åï¼æä»¬è¦åè¯ Chatsï¼åªäºæ¨¡ååè®¸ä½¿ç¨è¿ä¸ªè½åã</p>
<ol>
<li>ä»¥ç®¡çåèº«ä»½ç»å½ Chatsã</li>
<li>è¿å¥<strong>åå°ç®¡ç</strong> -&gt; <strong>æ¨¡åéç½®</strong>ã</li>
<li>å±å¼ä½ æ³è¦çæ¨¡åæä¾å-&gt;æ¨¡åå¯é¥ï¼ç¶åç¼è¾ä½ æ³è¦ä½¿ç¨çæ¨¡åï¼ä¾å¦deepseek-v3.2ï¼ã
<ul>
<li><strong>æ³¨æ</strong>ï¼ä»»ä½æ¯æ Tool Call (å·¥å·è°ç¨) çæ¨¡å API é½å¯ä»¥ï¼æ è®ºæ¯ OpenAI åçç Chat Completionsï¼è¿æ¯Responses API/Messages APIã</li>
</ul>
</li>
<li>å¨åè½åè¡¨ä¸­ï¼æ¾å°å¹¶å¾é <strong>âä»£ç æ§è¡ (Code Execution)â</strong>ã<br>
<img src="https://img2024.cnblogs.com/blog/233608/202601/233608-20260126151714293-1229825697.avif" alt="" loading="lazy"></li>
</ol>
<p><strong>â ï¸ ç¹å«æ³¨æï¼ç¨æ·æéåé</strong></p>
<p>å¾å¤ç¬¬ä¸æ¬¡æ·»å æ¨¡åçæåå®¹æå¿½ç¥è¿ä¸ç¹ï¼<strong>å¯ç¨åè½åï¼å¿é¡»æç¡®ææç»ç¨æ·ã</strong></p>
<p>å¨æ¨¡åç¼è¾é¡µé¢çåºé¨ï¼å±å¼<strong>ç¨æ·åè¡¨ (User Access)</strong>ï¼ç¡®ä¿<strong>ç»ä½ èªå·±çè´¦å·ï¼æéè¦ä½¿ç¨çç¨æ·ï¼å¾éä¸æé</strong>ãå¦æä¸å¾éï¼ä½ å¨åå°æ¯çä¸å°è¿ä¸ªæ¨¡åçï¼æèæ æ³è°ç¨è¯¥åè½ã</p>
<p><img src="https://img2024.cnblogs.com/blog/233608/202601/233608-20260126151715025-1987207460.avif" alt="" loading="lazy"></p>
<h3 id="2-åç«¯éç½®å¼å¯ä¼è¯å¼å³">2. åç«¯éç½®ï¼å¼å¯ä¼è¯å¼å³</h3>
<p>åç«¯åå¤å°±ç»ªåï¼æåä¸æ­¥æ¯å¨èå¤©çé¢å¼å¯ä½¿ç¨ã</p>
<ol>
<li>åå°<strong>èå¤© (Chat)</strong> çé¢ã</li>
<li>å¨é¡¶é¨çæ¨¡åéç½®æ ï¼éå¸¸æ¾ç¤ºæ¨¡ååç§°çå°æ¹ï¼ï¼ç¹å»å±å¼éç½®é¢æ¿ã</li>
<li>æ¾å° <strong>âä»£ç æ§è¡â</strong> å¼å³ï¼å°å¶æå¼ã</li>
</ol>
<p><img src="https://img2024.cnblogs.com/blog/233608/202601/233608-20260126151715455-1639921351.avif" alt="" loading="lazy"></p>
<hr>
<h2 id="æææ¼ç¤º">æææ¼ç¤º</h2>
<p>ä¸åå°±ç»ªï¼ç°å¨ä½ å¯ä»¥åä½¿ç¨ ChatGPT çé«çº§æ°æ®åæä¸æ ·ï¼ä¸ä¼ ä¸ä¸ª Excel æä»¶ï¼æèè®©å®å¸®ä½ ç»ä¸å¼ å¾è¡¨äºã</p>
<p>è¯è¯åéè¿æ ·çæä»¤ï¼</p>
<blockquote>
<p>è¯·å¸®æåæè¿ä¸ª Excel æä»¶ï¼<a href="https://cv-public.sdcb.pub/2026/changsha_weather_2025.xlsx%EF%BC%8C%E7%94%9F%E6%88%90%E4%B8%80%E4%B8%AA%E5%8C%85%E5%90%AB%E6%AF%8F%E6%9C%88%E5%B9%B3%E5%9D%87%E6%B0%94%E6%B8%A9%E5%92%8C%E9%99%8D%E6%B0%B4%E9%87%8F%E7%9A%84%E6%8A%A5%E5%91%8A%EF%BC%8C%E5%B9%B6%E9%99%84%E4%B8%8A%E5%9B%BE%E8%A1%A8" target="_blank" rel="noopener nofollow">https://cv-public.sdcb.pub/2026/changsha_weather_2025.xlsxï¼çæä¸ä¸ªåå«æ¯æå¹³åæ°æ¸©åéæ°´éçæ¥åï¼å¹¶éä¸å¾è¡¨</a></p>
</blockquote>
<p>Chats ä¼èªå¨åå»ºä¸ä¸ªéç¦»ç Docker ç¯å¢ï¼ç¼å Python ä»£ç ï¼æ§è¡å¹¶æçæçå¾çç´æ¥è´´å¨å¯¹è¯æ¡éã</p>
<p><img src="https://img2024.cnblogs.com/blog/233608/202601/233608-20260125102328487-114968639.avif" alt="" loading="lazy"></p>
<hr>
<h2 id="å®å¨æ§èé">å®å¨æ§èé</h2>
<p>â ï¸ <strong>éè¦æç¤º</strong>ï¼ä¸æ¨¡å API è°ç¨ä¸åï¼ä»£ç æ§è¡åè½ç®å<strong>ä¸è¿è¡ä»»ä½è®¡è´¹</strong>ï¼ä»éè¿å¨å±éç½®åäºä¸äºåºç¡éå¶ãå¦æä½ æç®å° Chats å¼æ¾ç»æªç»ååä¿¡ä»»çç¨æ·ä½¿ç¨ï¼ä¾å¦æ­å»ºç±»ä¼¼ ChatGPT/Manus çå¬å¼æå¡ï¼ï¼å¡å¿è®¤çéç½®ä»¥ä¸å®å¨ç­ç¥ï¼é¿åæå¡å¨èµæºè¢«æ»¥ç¨çè³è¢«æ»å»ã</p>
<h3 id="1-ç½ç»éç¦»">1. ç½ç»éç¦»</h3>
<p>ä»£ç æ§è¡å®¹å¨çé»è®¤ç½ç»æ¨¡å¼ä¸º <code>bridge</code>ï¼è¿ä¸ ChatGPT çå®å¨éç¦»æ²ç®±ä¸åââ<strong>å®¹å¨æ¯å¯ä»¥èç½ç</strong>ã</p>
<p>è¿ä¸ªè®¾è®¡æ¯ææä¸ºä¹çï¼å ä¸ºå®å¸¦æ¥äºæ´å¼ºå¤§çè½åï¼</p>
<ul>
<li>AI å¯ä»¥å¨å®¹å¨åä¸è½½æä»¶ãè°ç¨å¤é¨ APIãå®è£ä¾èµåã</li>
<li>çè³å¯ä»¥è®© AI åå»ºå¤ä¸ª Docker å®¹å¨ååå·¥ä½ï¼æ¯å¦ä¸ä¸ªè· Web åºç¨ãä¸ä¸ªè·æ°æ®åºï¼ï¼Chats ä¼å¨å·¥å·è°ç¨ååºä¸­è¿åå®¹å¨çå±åç½ IP å°åï¼æ¨¡åå¯ä»¥æ®æ­¤è¿è¡å®¹å¨é´éä¿¡ã</li>
</ul>
<p>ä½è¿ä¹æå³çæ½å¨é£é©ï¼</p>
<ul>
<li>å®¹å¨å¯ä»¥è®¿é®å®¿ä¸»æºåä¸ Docker ç½ç»åçå¶ä»æå¡ï¼åæ¬ä½ çæ°æ®åºãRedis ç­ï¼ã</li>
<li>æ¶æç¨æ·å¯è½å©ç¨æ­¤è½åè¿è¡åç½æ«æææ»å»ã</li>
</ul>
<p><strong>å»ºè®®</strong>ï¼</p>
<ul>
<li><strong>å®å¨ææç¯å¢</strong>ï¼å° <code>CodeInterpreter:MaxAllowedNetworkMode</code> è®¾ç½®ä¸º <code>none</code>ï¼å®å¨ç¦æ­¢å®¹å¨èç½ã</li>
<li><strong>ç©çéç¦»</strong>ï¼å¨ä¸å°ç¬ç«çèææºæç©çæºä¸è¿è¡ Docker Daemonï¼Chats éè¿ TCP è¿ç¨è¿æ¥ï¼ä»èå®ç°ç½ç»å±é¢çå½»åºéç¦»ã</li>
</ul>
<h3 id="2-èµæºéå¶">2. èµæºéå¶</h3>
<p>AI å¯ä»¥åå»ºä»»ææ°éç Docker ä¼è¯ï¼éè¿ <code>create_docker_session</code> å·¥å·ï¼ãè½ç¶ç©ºé²ä¼è¯ä¼å¨ä¸å®æ¶é´åèªå¨æ¸çï¼ä½ä»å­å¨ä»¥ä¸é£é©ï¼</p>
<ul>
<li><strong>ç®åæ»¥ç¨</strong>ï¼æ¶æç¨æ·å¯è½è¿è¡é«è´è½½ä»»å¡ï¼èå°½æå¡å¨ CPU/åå­ã</li>
<li><strong>ç£çå ç¨</strong>ï¼AI å¯è½æåä¸åçæ¬çéåï¼è¿äºéå<strong>ä¸ä¼èªå¨æ¸ç</strong>ï¼é¿æç§¯ç´¯ä¼å æ»¡ç£çã</li>
</ul>
<p>Chats æä¾äºç»ç²åº¦çèµæºéå¶éç½®ï¼<strong>å¼ºçå»ºè®®æ ¹æ®å®éæåµè°æ´</strong>ï¼</p>
<table>
<thead>
<tr>
<th style="text-align: left">éç½®é¡¹</th>
<th style="text-align: left">é»è®¤å¼</th>
<th style="text-align: left">è¯´æ</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left"><code>CodeInterpreter:DefaultResourceLimits:MemoryBytes</code></td>
<td style="text-align: left"><code>2147483648</code> (2GB)</td>
<td style="text-align: left">åä¸ªå®¹å¨åå­ä¸é</td>
</tr>
<tr>
<td style="text-align: left"><code>CodeInterpreter:DefaultResourceLimits:CpuCores</code></td>
<td style="text-align: left"><code>2.0</code></td>
<td style="text-align: left">åä¸ªå®¹å¨ CPU æ ¸æ°</td>
</tr>
<tr>
<td style="text-align: left"><code>CodeInterpreter:DefaultResourceLimits:MaxProcesses</code></td>
<td style="text-align: left"><code>200</code></td>
<td style="text-align: left">åä¸ªå®¹å¨æå¤§è¿ç¨æ°</td>
</tr>
<tr>
<td style="text-align: left"><code>CodeInterpreter:MaxResourceLimits:*</code></td>
<td style="text-align: left"><code>null</code> (ä¸éå¶)</td>
<td style="text-align: left">ç¡¬ä¸éï¼é²æ­¢ AI è¯·æ±è¶é¢èµæº</td>
</tr>
<tr>
<td style="text-align: left"><code>CodeInterpreter:SessionIdleTimeoutSeconds</code></td>
<td style="text-align: left"><code>1800</code> (30åé)</td>
<td style="text-align: left">ç©ºé²ä¼è¯èªå¨åæ¶æ¶é´</td>
</tr>
<tr>
<td style="text-align: left"><code>CodeInterpreter:DefaultTimeoutSeconds</code></td>
<td style="text-align: left"><code>300</code> (5åé)</td>
<td style="text-align: left">åæ¬¡å½ä»¤æ§è¡è¶æ¶</td>
</tr>
</tbody>
</table>
<p>é»è®¤ç 2 æ ¸ 2GB éç½®å¯ä»¥å®æå¤§å¤æ°æ¥å¸¸ä»»å¡ï¼æ°æ®åæãå¾è¡¨çæãææ¡£å¤çç­ï¼ãå¦æä½ çåºæ¯éè¦æ´å¤èµæºï¼å¦è§é¢å¤çãå¤§è§æ¨¡è®¡ç®ï¼ï¼å¯ä»¥éå½æ¾å®½ï¼åä¹ï¼å¦ææ¯å¬å¼æå¡ï¼å»ºè®®æ¶ç´§éå¶ã</p>
<h3 id="3-æä»¶ä¸ä¼ éå¶">3. æä»¶ä¸ä¼ éå¶</h3>
<p>AI æ§è¡ä»£ç åå¯ä»¥å°çæçæä»¶ï¼artifactsï¼åä¼ ç»ç¨æ·ãä¸ºé²æ­¢æ»¥ç¨ï¼Chats ä¹æä¾äºç¸åºéå¶ï¼</p>
<table>
<thead>
<tr>
<th style="text-align: left">éç½®é¡¹</th>
<th style="text-align: left">é»è®¤å¼</th>
<th style="text-align: left">è¯´æ</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left"><code>CodeInterpreter:MaxArtifactsFilesToUpload</code></td>
<td style="text-align: left"><code>50</code></td>
<td style="text-align: left">æ¯è½®æå¤åä¼ æä»¶æ°</td>
</tr>
<tr>
<td style="text-align: left"><code>CodeInterpreter:MaxSingleUploadBytes</code></td>
<td style="text-align: left"><code>157286400</code> (150MB)</td>
<td style="text-align: left">åä¸ªæä»¶æå¤§å¤§å°</td>
</tr>
<tr>
<td style="text-align: left"><code>CodeInterpreter:MaxTotalUploadBytesPerTurn</code></td>
<td style="text-align: left"><code>314572800</code> (300MB)</td>
<td style="text-align: left">åè½®æ»ä¸ä¼ å¤§å°</td>
</tr>
</tbody>
</table>
<h3 id="4-å¶ä»å»ºè®®">4. å¶ä»å»ºè®®</h3>
<ul>
<li><strong>å®ææ¸çéå</strong>ï¼ä½¿ç¨ <code>docker image prune</code> æ <code>docker system prune</code> å®ææ¸çæªä½¿ç¨çéååæ¬æèµæºã</li>
<li><strong>çæ§ä¸åè­¦</strong>ï¼å¯¹ Docker å®¿ä¸»æºç CPUãåå­ãç£çä½¿ç¨çè®¾ç½®çæ§åè­¦ã</li>
<li><strong>ç¨æ·æéç®¡ç</strong>ï¼ä»å¯¹ä¿¡ä»»çç¨æ·å¼æ¾ä»£ç æ§è¡åè½ï¼å¨æ¨¡åéç½®ä¸­è°¨æåéæéã</li>
</ul>
<p>æ´å¤éç½®ç»èè¯·åèï¼<a href="https://github.com/sdcb/chats/blob/main/doc/zh-CN/configuration.md" target="_blank" rel="noopener nofollow">éç½®è¯´æææ¡£</a></p>
<hr>
<h2 id="ç»è¯­">ç»è¯­</h2>
<p>å¸æè¿ç¯ææ¡£è½å¸®ä½ é¡ºå©é¨ç½² Chats 1.10ï¼ä½éªå®å¨ç§æåãå¯æ§çä»£ç è§£éå¨åè½ã</p>
<p>æè°¢éè¯»ï¼åæ¬¢çæåè¯·ç»æç GitHub é¡¹ç®ä¸ä¸ª starï¼<br>
<a href="https://github.com/sdcb/chats" target="_blank" rel="noopener nofollow">https://github.com/sdcb/chats</a></p>
<p>è¿æ¯å®æ´çæ´æ°æ¥å¿ï¼åå«æ´å¤ææ¯ç»èï¼<br>
<a href="https://github.com/sdcb/chats/blob/main/doc/zh-CN/release-notes/README.md" target="_blank" rel="noopener nofollow">https://github.com/sdcb/chats/blob/main/doc/zh-CN/release-notes/README.md</a></p>
<p>æä»ä¹æ³æ³ä¹æ¬¢è¿å¨è¯è®ºåºçè¨äº¤æµï¼ä¹æ¬¢è¿å å¥æçæ°åå»ºçå¾®ä¿¡ç¾¤ï¼</p>
<p><img src="https://io.starworks.cc:88/cv-public/2026/chats-wxg-qr.png" alt="" loading="lazy"></p>
<p>å¦æä½ æ´ä¹ æ¯ç¨ QQ çè¯ï¼ä¹å¯ä»¥å å¥ Chats QQ ç¾¤ï¼<strong>498452653</strong>ï¼æä»¬ä¸èµ·æ¢ç´¢æ´å¤ AI ææ¯ç¡¬æ ¸ç©æ³ã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.007638888888888889" data-date-updated="2026-01-27 08:56">2026-01-27 08:45</span>&nbsp;
<a href="https://www.cnblogs.com/sdcb">.NETéªæä½</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19533814);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19533814', targetLink: 'https://www.cnblogs.com/sdcb/p/19533814/chats-1-10-deploy', title: 'Sdcb Chats 1.10 ç§æåä»£ç æ§è¡å¨é¨ç½²æç¨' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ FastAPIå¼å¸¸å¤çå¨è§£æï¼å«è®©ä½ çAPIå¨ç¨æ·é¢åâè£¸å¥â ]]></title>
    <link>https://www.cnblogs.com/ymtianyu/p/19536459</link>
    <guid>2b14066d334cc0fbf8a4fa501f1bd989</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/ymtianyu/p/19536459" title="åå¸äº 2026-01-27 08:38">
    <span role="heading" aria-level="2">FastAPIå¼å¸¸å¤çå¨è§£æï¼å«è®©ä½ çAPIå¨ç¨æ·é¢åâè£¸å¥â</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        æ¬æç³»ç»è§£æäºFastAPIä¸­å¼å¸¸å¤ççæ ¸å¿æå·§ï¼æ¶µçHTTPExceptionåºç¡ç¨æ³ãèªå®ä¹ä¸å¡å¼å¸¸è®¾è®¡ãå¨å±å¼å¸¸å¤çå¨éç½®ä»¥åWebSocketå¼å¸¸å¤çãéè¿çå¨çæ¯å»åå®æä»£ç ï¼å¸®å©ä½ æå»ºå¥å£®ãåå¥½çAPIéè¯¯ååºæºå¶ï¼æåç³»ç»ç¨³å®æ§åç¨æ·ä½éªã
    </div>
<div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p><strong style="color: rgba(186, 55, 42, 1)">æè¦ï¼</strong>æ¬ææ·±å¥è®²è§£FastAPIä¸­<span style="color: rgba(186, 55, 42, 1)"><code>HTTPException</code></span>ã<span style="color: rgba(186, 55, 42, 1)"><code>WebSocketException</code></span>ç­å¸¸è§å¼å¸¸çæè·ä¸å¤çæå·§ï¼æ¶µçä»åºç¡éç½®å°å¨å±å¼å¸¸å¤çå¨çå®æ´å®è·µãéè¿é¤åç¹é¤ãæ¶é²éç­çå¨æ¯å»ï¼å¸®å©ä½ æå»ºå¥å£®ãåå¥½çAPIéè¯¯ååºä½ç³»ï¼é¿åæå¡å´©æºåç³ç³çç¨æ·ä½éªã</p>
<h1>æ·±å¤æ¹Bugï¼ä½ çAPIå¨ç¨æ·é¢åâè£¸å¥âäºåï¼</h1>
<p>ä½ ææ²¡æç»åè¿è¿ç§å©æ¢¦åºæ¯ï¼ââç¨æ·åé¦âé¡µé¢ç½å±âæâæä½å¤±è´¥âï¼ä½ ææå¼ å¼ æ¥æ¥å¿ï¼åç°æ¯ä¸ªæ²¡å¤ççå¼å¸¸ï¼è¿åäºä¸å Pythonè°ç¨æ ç»åç«¯ï¼ç¨æ·çå°ä¸è¸æµï¼ä½ debugå¾æ³æå¢ã</p>
<p>åçæ¡ä¾ï¼ä¸ä¸ªç®åçè¯·æ±åæ°éªè¯å¤±è´¥ï¼å ä¸ºæ²¡æ­£ç¡®å¤çï¼ç´æ¥æäº500åé¨éè¯¯ãçæ§æ¥è­¦åå¤åèµ·ï¼ç¨æ·æè¯æ¥è¸µèè³ï¼å¢éå°ä¼ä¼´è¿å¤ææ¥ä¿®å¤ãçå®æçï¼<strong style="color: rgba(186, 55, 42, 1)">å¼å¸¸å¤çè¿ç©æå¿ï¼çä¼¼è¾¹ç¼ï¼å®åæ¯APIçé¨é¢åé ç²</strong>ãå¤çå¾å¥½ï¼ç¨æ·ä½éªä¸æ»ï¼å¤çä¸å¥½ï¼å°±æ¯ææ¯åºéçå®æ¶ç¸å¼¹ã</p>
<p>ä»å¤©ï¼å±ä»¬å°±æ¥å½»åºèèFastAPIéçå¼å¸¸å¤çãè¿ä¸æ¯æææ¡£ï¼èæ¯æè¸©äºæ æ°ååï¼ç»ä½ æ»ç»çå®æå¿å¾ãåå¤å¥½äºåï¼å±ä»¬å¼å§å§ï¼</p>
<h2>ð¯ æ ¸å¿èç»ï¼ä»âæç«âå°âé²ç«â</h2>
<div>
<p>ð¸ 1. ä¸ºä»ä¹FastAPIçå¼å¸¸å¤çè¿ä¹éè¦ï¼ââä¸åªæ¯ææ¯ï¼æ´æ¯ç¨æ·ä½éª</p>
<p>ð¸ 2. HTTPExceptionï¼ä½ çç¬¬ä¸éé²çº¿ï¼ä½å«åªé å®</p>
<p>ð¸ 3. èªå®ä¹å¼å¸¸ï¼è®©éè¯¯ä¿¡æ¯ä¼âè¯´è¯â</p>
<p>ð¸ 4. å¨å±å¼å¸¸å¤çå¨ï¼ç»APIç©¿ä¸âé²å¼¹è¡£â</p>
<p>ð¸ 5. WebSocketExceptionï¼å®æ¶éè®¯çå¼å¸¸è¯¥æä¹ç®¡ï¼</p>
<p>ð¸ 6. è¿é¶æå·§ä¸é¿åæå</p>
</div>
<h2>ð ç¬¬ä¸é¨åï¼å¼å¸¸å¤çä¸æ¯å¤éé¡¹ï¼èæ¯å¿éé¡¹</h2>
<p>æAPIæ³è±¡æä¸å®¶é¤åãç¨æ·ç¹é¤ï¼åéè¯·æ±ï¼ï¼å¨æ¿å¤çï¼æå¡ç«¯é»è¾ï¼ï¼æåä¸èï¼è¿åååºï¼ãå¼å¸¸å¤çæ¯ä»ä¹ï¼å°±æ¯å½å¨æ¿åç°âé±¼åå®äºâæèâå®¢äººå¯¹æµ·é²è¿æâæ¶ï¼<strong style="color: rgba(186, 55, 42, 1)">æå¡åå¦ä½å¾ä½å°åç¥é¡¾å®¢ï¼å¹¶ç»åºæ¿ä»£æ¹æ¡</strong>ï¼èä¸æ¯ç´æ¥æéæäºï¼æèæç»é¡¾å®¢ä¸å¼ çä¸æçåå¨éè´­åï¼Python tracebackï¼ã</p>
<p>æåç¨FastAPIé£ä¼å¿ï¼ä¹å·æè¿ï¼è§å¾æé»è®¤éè¯¯é¡µé¢å°±è¡ãç»æå¢ï¼åç«¯åäºå¤©å¤©æ¾æè¦éè¯¯ç å¯¹ç§è¡¨ï¼æµè¯åå­¦æ¥çBugæè¿°æ¨¡ç³ä¸æ¸ï¼çº¿ä¸åºäºé®é¢å®ä½æ¢å¦èçãè¡çæè®­åè¯æä»¬ï¼<strong style="color: rgba(186, 55, 42, 1)">å¼å¸¸å¤çå¿é¡»åä¸å¡é»è¾åæ­¥è®¾è®¡ï¼çè³è¦æ´æ©èè</strong>ã</p>
<h2>ð¡ï¸ ç¬¬äºé¨åï¼HTTPExceptionï¼ç¨å¥½å®ä½å«ä¾èµå®</h2>
<p>FastAPIæä¾äº<code style="color: rgba(186, 55, 42, 1)">HTTPException</code>ï¼è¿æ¯æç´æ¥ãæå¸¸ç¨çå¼å¸¸æåºæ¹å¼ãå®å°±åä¸ä¸ªæ ååçâéè¯¯éç¥åâã</p>
<pre class="language-python highlighter-hljs"><code>from fastapi import FastAPI, HTTPException
from pydantic import BaseModel

app = FastAPI()

class Item(BaseModel):
    name: str
    price: float

@app.get("/items/{item_id}")
async def read_item(item_id: int):
    if item_id not in item_db:
        # å³é®å¨è¿éï¼æåºå¸¦ç¶æç åè¯¦æçå¼å¸¸
        raise HTTPException(
            status_code=404,
            detail="Item not found",
            headers={"X-Error": "ItemID-Missing"}
        )
    return {"item": item_db[item_id]}</code></pre>
<p>çè¿æ®µä»£ç ï¼<code style="color: rgba(186, 55, 42, 1)">status_code</code>åè¯åç«¯è¿æ¯ä»ä¹ç±»åçéè¯¯ï¼404æ¾ä¸å°äºï¼ï¼<code style="color: rgba(186, 55, 42, 1)">detail</code>ç»äººç±»ççåå ï¼<code style="color: rgba(186, 55, 42, 1)">headers</code>éè¿è½å¡ç¹ç»æºå¨ççé¢å¤ä¿¡æ¯ãæ¯ä¸æ¯å¾åæå¡åè¯´ï¼âæ±æ­åçï¼æ¨ç¹çè¿éèï¼item_idï¼ä»å¤©å®ç½äºï¼404ï¼ï¼è¿æ¯æä»¬æ¨èçç¸ä¼¼èåï¼headerséå¯ä»¥æ¾æ¨èï¼âã</p>
<p><strong style="color: rgba(186, 55, 42, 1)">ä½æ¯ï¼åä¸å«ä»¥ä¸ºåªç¨HTTPExceptionå°±ä¸äºå¤§åäºã</strong>æ³è±¡ä¸ä¸ï¼ä½ é¤åçåå¨çç«äºï¼æå¡å¨åé¨éè¯¯ï¼ï¼æèå®¢äººæ¿äºä¸å¼ åéæ¥ä»æ¬¾ï¼è¯·æ±æ°æ®æ ¹æ¬ä¸ç¬¦åæ ¼å¼ï¼ï¼è¿æ¶ååªé æå¡åè¯´âèæ²¡äºâæ¾ç¶ä¸å¤ãæä»¬éè¦æ´å¼ºå¤§çæºå¶ã</p>
<h2>ð§ ç¬¬ä¸é¨åï¼æé ä½ çâå¼å¸¸æ¶é²éâââå¨å±å¼å¸¸å¤çå¨</h2>
<p>å¨å±å¼å¸¸å¤çå¨ï¼Exception Handlerï¼å°±æ¯ä½ APIå¤§æ¥¼éç<strong style="color: rgba(186, 55, 42, 1)">èªå¨æ¶é²ç³»ç»åä¸è½æå¡å</strong>ãä»»ä½æ²¡è¢«ç¹å®å¤ççå¼å¸¸ï¼æç»é½ä¼è½å°è¿éï¼ç±å®ç»ä¸æ ¼å¼ï¼åå¥½è¿åã</p>
<pre class="language-python highlighter-hljs"><code>from fastapi import FastAPI, Request
from fastapi.responses import JSONResponse
import traceback

app = FastAPI()

# 1. åå®ä¹ä¸ä¸ªæ åçéè¯¯ååºæ¨¡å
class ErrorResponse(BaseModel):
    code: int
    message: str
    detail: Optional[str] = None
    request_id: Optional[str] = None # ç¨äºé¾è·¯è¿½è¸ª

# 2. æè·æææªå¤çå¼å¸¸çâæ»é¸â
@app.exception_handler(Exception)
async def universal_exception_handler(request: Request, exc: Exception):
    # è·åè¯·æ±IDï¼ä¾¿äºè¿½è¸ªï¼åè®¾ä»ä¸­é´ä»¶æheaderä¼ å¥ï¼
    request_id = request.headers.get("X-Request-ID", "unknown")
    
    # è¿éå¯ä»¥æ ¹æ®excçç±»åè¿è¡æ´ç²¾ç»çåç±»
    error_code = 500 # é»è®¤åé¨éè¯¯
    message = "Internal Server Error"
    
    if isinstance(exc, ValueError):
        error_code = 400
        message = "Invalid input value"
    # ... å¯ä»¥æ·»å æ´å¤ç±»åå¤æ­
    
    # å¨çäº§ç¯å¢ï¼detailå¯è½ä¸è¿åå·ä½å æ ï¼å¼åç¯å¢å¯ä»¥è¿å
    import os
    detail = traceback.format_exc() if os.getenv("ENV") == "development" else None
    
    return JSONResponse(
        status_code=error_code,
        content=ErrorResponse(
            code=error_code,
            message=message,
            detail=detail,
            request_id=request_id
        ).dict()
    )

# 3. ä¸é¨å¤çHTTPExceptionï¼è¦çFastAPIé»è®¤è¡ä¸º
@app.exception_handler(HTTPException)
async def http_exception_handler(request: Request, exc: HTTPException):
    return JSONResponse(
        status_code=exc.status_code,
        content=ErrorResponse(
            code=exc.status_code,
            message=exc.detail,
            request_id=request.headers.get("X-Request-ID", "unknown")
        ).dict(),
        headers=exc.headers
    )</code></pre>
<p>è¿ä¸ªâæ¶é²éâåå®³å¨åªï¼é¦åï¼å®æä½äºææ<code style="color: rgba(186, 55, 42, 1)">Exception</code>ï¼ç¡®ä¿æ²¡æå¼å¸¸ä¼âè£¸å¥âåºå»ãå¶æ¬¡ï¼å®æéè¯¯ååºæ ¼å¼æ ååäºï¼åç«¯æ°¸è¿ç¥éä¼æ¶å°<code style="color: rgba(186, 55, 42, 1)">{"code": ..., "message": ...}</code>è¿æ ·çç»æãæåï¼å®è¿åºåäºå¼ååçæç¯å¢ï¼å¼åæ¶ç»ä½ è¯¦ç»å æ debugï¼çäº§ç¯å¢åéèç»èä¿è¯å®å¨ã</p>
<p><strong style="color: rgba(186, 55, 42, 1)">è¿éæä¸ªæè¸©è¿çå¤§åï¼</strong> å¼å¸¸å¤çå¨çæ³¨åé¡ºåºå¾éè¦ï¼å¦æä½ åæ³¨åäºéç¨ç<code style="color: rgba(186, 55, 42, 1)">Exception</code>å¤çå¨ï¼åæ³¨å<code style="color: rgba(186, 55, 42, 1)">HTTPException</code>å¤çå¨ï¼é£ä¹<code style="color: rgba(186, 55, 42, 1)">HTTPException</code>ä¹ä¼è¢«éç¨çæä½ï¼ä½ å°±æ æ³å¯¹å®è¿è¡ç¹æ®å®å¶äºãæä»¥ï¼éå¸¸è¦åæ³¨åå·ä½çï¼åæ³¨åéç¨çã</p>
<h2>ð¨ ç¬¬åé¨åï¼èªå®ä¹å¼å¸¸ââè®©ä¸å¡éè¯¯æ¸æ°æäº</h2>
<p>ä¸å¡é»è¾éçéè¯¯ï¼æ¯å¦âç¨æ·ä½é¢ä¸è¶³âãâæ´»å¨å·²ç»æâï¼ç¨404æ400è½ç¶ä¹è¡ï¼ä½è¯­ä¹ä¸ç²¾ç¡®ãè¿æ¶åï¼å°±éè¦èªå®ä¹å¼å¸¸ã</p>
<pre class="language-python highlighter-hljs"><code># å®ä¹èªå·±çä¸å¡å¼å¸¸ç±»
class BusinessError(Exception):
    def __init__(self, code: int, message: str, extra_data: dict = None):
        self.code = code # ä¸å¡éè¯¯ç ï¼å¦ 1001
        self.message = message
        self.extra_data = extra_data or {}

# å®ä¹å ä¸ªå·ä½çä¸å¡å¼å¸¸
class InsufficientBalanceError(BusinessError):
    def __init__(self, current_balance: float, required_amount: float):
        super().__init__(
            code=1001,
            message="Insufficient balance",
            extra_data={
                "current_balance": current_balance,
                "required_amount": required_amount
            }
        )

class ActivityExpiredError(BusinessError):
    def __init__(self, activity_id: str, expire_time: str):
        super().__init__(
            code=1002,
            message="Activity has expired",
            extra_data={"activity_id": activity_id, "expire_time": expire_time}
        )

# ä¸ºèªå®ä¹ä¸å¡å¼å¸¸æ³¨åå¤çå¨
@app.exception_handler(BusinessError)
async def business_exception_handler(request: Request, exc: BusinessError):
    return JSONResponse(
        status_code=422, # æç¨200ï¼ä½bodyéè¡¨æéè¯¯ï¼çåç«¯çº¦å®
        content={
            "success": False,
            "error": {
                "code": exc.code,
                "message": exc.message,
                **exc.extra_data # å±å¼é¢å¤æ°æ®ï¼åç«¯å¯ä»¥ç´æ¥ç¨
            }
        }
    )

# å¨è·¯ç±ä¸­ä½¿ç¨
@app.post("/purchase")
async def make_purchase(user_id: int, amount: float):
    user_balance = get_balance(user_id)
    if user_balance &lt; amount:
        # æåºä¸å¡å¼å¸¸ï¼èä¸æ¯ç®åçHTTP 400
        raise InsufficientBalanceError(
            current_balance=user_balance,
            required_amount=amount
        )
    # ... è´­ä¹°é»è¾</code></pre>
<p>è¿æ ·åçå¥½å¤å·¨å¤§ï¼åç«¯çå°éè¯¯ç 1001ï¼å°±ç¥éæ¯ä½é¢ä¸è¶³ï¼å¹¶ä¸ç´æ¥ä»<code style="color: rgba(186, 55, 42, 1)">extra_data</code>éæ¿å°å½åä½é¢åæééé¢ï¼å¯ä»¥ç«å»å¨çé¢ä¸åå¥½æç¤ºï¼âæ¨çä½é¢ä¸ºXXåï¼è¿éåå¼YYåâãè¿ä½éªï¼æ¯å¹²å·´å·´çâè¯·æ±å¤±è´¥âå¥½äºä¸ä¸åã</p>
<h2>â¡ ç¬¬äºé¨åï¼WebSocketExceptionââå®æ¶ééçä¼éå³é­</h2>
<p>WebSocketæ¯é¿è¿æ¥ï¼å¼å¸¸å¤çæ¹å¼åHTTPä¸å¤ªä¸æ ·ãä½ ä¸è½è¿åä¸ä¸ªJSONååºï¼èæ¯éè¦<strong style="color: rgba(186, 55, 42, 1)">ä¼éå°å³é­è¿æ¥å¹¶åéåå </strong>ã</p>
<pre class="language-python highlighter-hljs"><code>from fastapi import WebSocket, WebSocketException

@app.websocket("/ws")
async def websocket_endpoint(websocket: WebSocket):
    await websocket.accept()
    try:
        while True:
            data = await websocket.receive_json()
            # ä¸äºä¸å¡éªè¯
            if data.get("type") not in VALID_TYPES:
                # æåºWebSocketExceptionï¼æå®å³é­ç ååå 
                raise WebSocketException(
                    code=1008, # 1008è¡¨ç¤ºæ¿ç­è¿è§
                    reason="Invalid message type received"
                )
            # ... å¤çæ¶æ¯
    except WebSocketException as e:
        # è¿éå¶å®raiseä¹åï¼FastAPIä¼å¸®ä½ å³é­è¿æ¥
        raise
    except Exception as e:
        # å¶ä»æªç¥å¼å¸¸ï¼ä¹ä»¥WebSocketExceptionå½¢å¼å³é­
        raise WebSocketException(code=1011, reason=f"Internal error: {str(e)}")</code></pre>
<p>WebSocketå³é­ç æ¯ææ åçï¼æ¯å¦1000è¡¨ç¤ºæ­£å¸¸å³é­ï¼1008è¡¨ç¤ºæ¿ç­è¿è§ãç¨å¥½è¿äºä»£ç ï¼è½è®©å®¢æ·ç«¯æç¡®ç¥éè¿æ¥ä¸ºä»ä¹æ­å¼ï¼ä»èååºç¸åºå¤çï¼æ¯å¦éè¿ãæç¤ºç¨æ·ç­ï¼ã</p>
<h2>ð¨ ç¬¬å­é¨åï¼é¿åæåä¸è¿é¶æè</h2>
<div>
<p><strong>ð¥ 1. ä¸è¦è¿åº¦æè·å¼å¸¸</strong></p>
<p>å«å¨ä¸å¨å°±ç¨<code style="color: rgba(186, 55, 42, 1)">try...except Exception</code>æä¸å¤§æ®µä¸å¡é»è¾åèµ·æ¥ãè¿ä¼éèçæ­£çBugãåªæè·ä½ é¢æä¸­å¯è½åççãå¹¶ä¸ä½ ç¥éå¦ä½å¤ççå¼å¸¸ã</p>
<p><strong>ð¥ 2. æ¥å¿ï¼æ¥å¿ï¼æ¥å¿ï¼</strong></p>
<p>å¼å¸¸å¤çå¨éä¸å®è¦è®°æ¥å¿ï¼èä¸è¦è®°å½å®æ´çå æ ä¿¡æ¯åè¯·æ±ä¸ä¸æï¼ç¨æ·IDãè¯·æ±åæ°ç­ï¼ãç¨<code style="color: rgba(186, 55, 42, 1)">logging.error(exc_info=True)</code>ãè¿æ¯ä½ äºåææ¥é®é¢çå¯ä¸ææã</p>
<p><strong>ð¥ 3. åºåè¿åç¶æç ï¼status_codeï¼åä¸å¡éè¯¯ç ï¼error_codeï¼</strong></p>
<p>HTTPç¶æç æ¯ç»HTTPåè®®åç½å³ççï¼å¦404, 500ï¼ãä¸å¡éè¯¯ç æ¯ä½ ååç«¯çº¦å®çå·ä½éè¯¯å«ä¹ï¼å¦1001ä½é¢ä¸è¶³ï¼ãä¸¤èå¯ä»¥ç»åä½¿ç¨ã</p>
<p><strong>ð¥ 4. èèä½¿ç¨Starletteçå¼å¸¸å¤çåºç±»</strong></p>
<p>FastAPIåºäºStarletteï¼<code style="color: rgba(186, 55, 42, 1)">from starlette.exceptions import HTTPException</code>åFastAPIçç¥æä¸åãå¦æä½ éè¦æ´åºå±çæ§å¶ï¼å¯ä»¥ç ç©¶ä¸ä¸ã</p>
<p><strong>ð¥ 5. æµè¯ä½ çå¼å¸¸å¤ç</strong></p>
<p>åååæµè¯ï¼æ¨¡æåç§å¼å¸¸æåµï¼ç¡®ä¿ä½ çå¤çå¨è½æ­£ç¡®ååºï¼å¹¶ä¸è¿åæ ¼å¼ç¬¦ååç«¯é¢æãè¿é¨åæå¥çåæ¥çæé«ã</p>
</div>
<hr style="border: none; height: 1px; background: linear-gradient(90deg, rgba(0, 0, 0, 0), rgba(52, 152, 219, 1), rgba(0, 0, 0, 0)); margin: 40px 0">
<h2>ð åå¨æå</h2>
<p>å¼å¸¸å¤çï¼å°±åç»ä»£ç ä¹°ä¿é©ãå¹³æ¶æè§ä¸å°å®çå­å¨ï¼ä½åºäºçæ¶åï¼å®è½æä½ çé¡¹ç®ãä½ çå£ç¢ï¼çè³ä½ çç¡ç ã</p>
<p>ä»å¤©åäº«çè¿äºï¼é½æ¯æä»ä¸æ¬¡æ¬¡æ¥è­¦çµè¯åç¨æ·æè¯ä¸­å­¦æ¥çãå¸æä½ çå®è½ç«å»å¨æï¼æ£æ¥ä¸ä¸èªå·±çFastAPIé¡¹ç®ï¼æ¯ä¸æ¯è¿å¨âè£¸å¥âï¼ç»ä½ çå¼å¸¸å¤çâæ¶é²éâéé½è£å¤ï¼è®©å®æä¸ºä½ æå¯é çåç¾ã</p>
<p>å¦æä½ å¨å®è·µè¿ç¨ä¸­éå°å¶ä»åï¼æèææ´å¦çå¿å¾ï¼æ¬¢è¿å¨è¯è®ºåºåäº«ãè¿ç¯å¹²è´§ï¼å¼å¾ä½ <strong style="color: rgba(186, 55, 42, 1)">æ¶è</strong>ä¸æ¥ï¼ä¸æ¬¡éå°å¼å¸¸å¤ççé®é¢æ¶ï¼ç¿»åºæ¥ççï¼ä¸å®è½å¸®ä½ çä¸ä¸å°æè¾çæ¶é´ã</p>
<p>ææ¯ä¸åç¨åºåªï¼æä»¬ä¸ç¯å®æè§ï¼</p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-27 08:39">2026-01-27 08:38</span>&nbsp;
<a href="https://www.cnblogs.com/ymtianyu">ä¸åç¨åºåªå</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19536459);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19536459', targetLink: 'https://www.cnblogs.com/ymtianyu/p/19536459', title: 'FastAPIå¼å¸¸å¤çå¨è§£æï¼å«è®©ä½ çAPIå¨ç¨æ·é¢åâè£¸å¥â' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ è§£å¯ Navicat å¯ç ç¥å¨ï¼NavicatPassword çææ¯å®ç°ä¸æ¶æè§£æ ]]></title>
    <link>https://www.cnblogs.com/dingshuanglei/p/19536434</link>
    <guid>ffb084d67b4c85bd1cd62c795884ca41</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/dingshuanglei/p/19536434" title="åå¸äº 2026-01-27 08:26">
    <span role="heading" aria-level="2">è§£å¯ Navicat å¯ç ç¥å¨ï¼NavicatPassword çææ¯å®ç°ä¸æ¶æè§£æ</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
å¨æ¥å¸¸çå¼åãè¿ç»´å·¥ä½ä¸­ï¼Navicatä½ä¸ºä¸æ¬¾ä¸»æµçå¤æ°æ®åºç®¡çå·¥å·ï¼å ä¹æ¯æ¯ä¸ªæ°æ®åºä»ä¸èçæ éãä½å¾å¤äººé½éå°è¿è¿æ ·ççç¹ï¼Navicatä¼å°æ°æ®åºè¿æ¥å¯ç å å¯å­å¨å¨æ¬å°éç½®æä»¶ä¸­ï¼ä¸æ¦å¿è®°å¯ç ï¼æ³è¦æ¾åå°±æäºä¸ä»¶éº»ç¦äºãåºäºæ­¤ï¼æå¼åäº<strong>NavicatPassword</strong>ââä¸æ¬¾åºäºAvaloniaæ¡æ¶çè·¨å¹³å°Navicatå¯ç è§£å¯å·¥å·ï¼æ¬æå°ä»ææ¯å®ç°ãæ¶æè®¾è®¡ãæ ¸å¿åè½ç­ç»´åº¦ï¼å¨é¢è§£æè¿ä¸ªé¡¹ç®çå¼åæè·¯ä¸è½å°ç»èã
<h2>ä¸ãé¡¹ç®èæ¯ä¸æ ¸å¿ä»·å¼</h2>
<h3>1. è§£å³çæ ¸å¿çç¹</h3>
<p>Navicatçæ°æ®åºè¿æ¥å¯ç å¹¶éææå­å¨ï¼èæ¯éè¿AESç®æ³å å¯ååå¥<code>.ncx</code>æ ¼å¼çXMLéç½®æä»¶ä¸­ãä¸æ¦ç¨æ·å¿è®°å¯ç ï¼å¸¸è§æ¹å¼åªè½éæ°éç½®è¿æ¥ï¼æçæä½ãæ¬é¡¹ç®åªä½ä¸ºå­¦ä¹ ç ç©¶ä½¿ç¨ï¼ä¸åå¶ä»ä½¿ç¨ã</p>
<h3>2. é¡¹ç®æ ¸å¿ä»·å¼</h3>
<ul>
<li><strong>è·¨å¹³å°è¿è¡</strong>ï¼åºäºAvaloniaä¸.NET 8ï¼æ¯æWindowsãmacOSãLinuxå¨å¹³å°ï¼</li>
<li><strong>å¤åºæ¯è§£å¯</strong>ï¼æ¯æéç½®æä»¶æ¹éè§£æãåæ¡è¿æ¥è§£å¯ãæå¨è¾å¥å¯æè§£å¯ä¸ç§æ¨¡å¼ï¼</li>
<li><strong>æç¨æ§ææ»¡</strong>ï¼ç°ä»£åUIçé¢ï¼æ¯ææ·±è²æ¨¡å¼ï¼æä½æµç¨æç®ï¼</li>
<li><strong>è½»éé«æ</strong>ï¼æ éå¤æä¾èµï¼åºäº.NETåçè½åå®ç°æ ¸å¿ç®æ³ï¼è§£å¯éåº¦æ¯«ç§çº§ã</li>
</ul>
<h2>äºãææ¯æ éåä¸èé</h2>
<p>NavicatPasswordçææ¯æ éæ©å´ç»ãè·¨å¹³å°ãä½è¦åãé«æ§è½ãä¸ä¸ªæ ¸å¿ç®æ ï¼å·ä½éåå¦ä¸ï¼</p>
<table>
<thead>
<tr><th>ææ¯é¢å</th><th>éå</th><th>éåèé</th></tr>
</thead>
<tbody>
<tr>
<td>åç«¯UIæ¡æ¶</td>
<td>Avalonia UI</td>
<td>æ¿ä»£WPFçè·¨å¹³å°UIæ¡æ¶ï¼APIä¸WPFé«åº¦å¼å®¹ï¼åçæ¯æå¤å¹³å°ãæ·±è²æ¨¡å¼ãååºå¼å¸å±</td>
</tr>
<tr>
<td>åç«¯å¼åè¯­è¨</td>
<td>C# (.NET 8)</td>
<td>.NET 8è·¨å¹³å°è½åå¼ºï¼æ§è½ä¼å¼ï¼åçæ¯æå å¯ç®æ³ãXMLè§£æç­æ ¸å¿è½å</td>
</tr>
<tr>
<td>æ¶ææ¨¡å¼</td>
<td>MVVM (CommunityToolkit.Mvvm)</td>
<td>è§£è¦UIä¸ä¸å¡é»è¾ï¼ç®åæ°æ®ç»å®ãå½ä»¤ç®¡çï¼æåä»£ç å¯ç»´æ¤æ§</td>
</tr>
<tr>
<td>å å¯ç®æ³</td>
<td>AES-128-CBC</td>
<td>å¹éNavicatå®æ¹çå å¯æ åï¼ä¿è¯è§£å¯åç¡®æ§</td>
</tr>
<tr>
<td>æ°æ®å­å¨</td>
<td>SQLite</td>
<td>è½»éçº§åµå¥å¼æ°æ®åºï¼ç¨äºä¿å­ç¨æ·çè§£å¯è®¾ç½®ãåå²è®°å½ç­</td>
</tr>
<tr>
<td>éç½®æä»¶è§£æ</td>
<td>.NET XmlDocument/XDocument</td>
<td>åçXMLè§£æè½åï¼é«æå¤çNavicatç.ncxéç½®æä»¶</td>
</tr>
</tbody>
</table>
<h2>ä¸ãé¡¹ç®æ¶æè®¾è®¡ï¼MVVMï¼</h2>
<p>é¡¹ç®ä¸¥æ ¼éµå¾ªMVVMæ¶ææ¨¡å¼ï¼ä»£ç ç®å½ç»æä¸èè´£ååæ¸æ°ï¼æ ¸å¿ç®å½å¦ä¸ï¼å¯¹åºé¡¹ç®<code>NavicatPassword/</code>ç®å½ï¼ï¼</p>
<pre><code>NavicatPassword/
âââ Views/          # è§å¾å±ï¼UIçé¢ï¼Axamlæä»¶ï¼ï¼ä»è´è´£å±ç¤ºï¼æ ä¸å¡é»è¾
â   âââ MainView.axaml       # ä¸»çé¢ï¼è§£å¯æä½æ ¸å¿é¡µé¢ï¼
âââ ViewModels/     # è§å¾æ¨¡åå±ï¼è¿æ¥Viewä¸Modelï¼å¤çUIäº¤äºé»è¾
â   âââ MainViewModel.cs     # ä¸»çé¢é»è¾ï¼æä»¶éæ©ãæ¹éè§£å¯ãåæ¡è§£å¯ï¼
âââ Services/       # æå¡å±ï¼æ ¸å¿ä¸å¡é»è¾å°è£
â   âââ SystemService.cs # å¯ç è§£å¯æ ¸å¿æå¡
âââ Utils/          # å·¥å·å±ï¼è§£å¯æ¹æ³
âââ App.axaml.cs    # åºç¨å¥å£ï¼å¨å±éç½®</code></pre>
<h3>åå±æ ¸å¿èè´£</h3>
<ol>
<li><strong>Viewï¼è§å¾å±ï¼</strong>ï¼ä»éè¿Axamlå®ä¹UIç»æï¼éè¿æ°æ®ç»å®ç»å®ViewModelçå±æ§åå½ä»¤ï¼æ ä»»ä½ä¸å¡ä»£ç ï¼</li>
<li><strong>ViewModelï¼è§å¾æ¨¡åå±ï¼</strong>ï¼éè¿<code>ObservableProperty</code>ï¼CommunityToolkit.Mvvmç¹æ§ï¼å®ç°å±æ§éç¥ï¼éè¿<code>ICommand</code>å¤çæé®ç¹å»ãæä»¶éæ©ç­UIäº¤äºï¼è°ç¨Serviceå±å®ææ ¸å¿é»è¾ï¼</li>
<li><strong>Serviceï¼æå¡å±ï¼</strong>ï¼å°è£æ ¸å¿ä¸å¡é»è¾ï¼è§£å¯ãæä»¶è§£æï¼ï¼æ¯é¡¹ç®çãä¸å¡æ ¸å¿ãï¼ViewModelä»è°ç¨Serviceï¼ä¸ç´æ¥å¤çä¸å¡ï¼</li>
<li><strong>Modelï¼æ¨¡åå±ï¼</strong>ï¼å®ä¹æ°æ®ç»æï¼å¦æ°æ®åºè¿æ¥ä¿¡æ¯ãåºç¨éç½®ç­ï¼ä»æ¿è½½æ°æ®ï¼æ ä¸å¡é»è¾ã</li>
</ol>
<p>è¿ç§æ¶æçä¼å¿å¨äºï¼<strong>UIä¸ä¸å¡é»è¾å®å¨è§£è¦</strong>ï¼åç»­æ è®ºæ¯ä¿®æ¹çé¢æ ·å¼ï¼è¿æ¯ä¼åè§£å¯ç®æ³ï¼é½æ éæ¹å¨å¶ä»å±çä»£ç ï¼å¯ç»´æ¤æ§åæ©å±æ§å¤§å¹æåã</p>
<h2>åãæ ¸å¿åè½å®ç°è§£æ</h2>
<h3>1. å¯ç è§£å¯æ ¸å¿ç®æ³ï¼AES-128-CBCï¼</h3>
<p>Navicatçå¯ç å å¯éç¨åºå®çKeyåIVï¼è¿æ¯è§£å¯çå³é®ãé¡¹ç®çæ ¸å¿è§£å¯ä»£ç å¦ä¸ï¼ä¸å®å¨åºäº.NETåç<code>System.Security.Cryptography</code>å®ç°ï¼</p>
<pre class="code-csharp"><code>using System.Security.Cryptography;
using System.Text;

namespace NavicatPassword.Services;

public static class NavicatDecryptService
{
    // Navicatåºå®çKeyåIVï¼æ ¸å¿ï¼ï¼
    private static readonly byte[] _key = Encoding.UTF8.GetBytes("libcckeylibcckey");
    private static readonly byte[] _iv = Encoding.UTF8.GetBytes("libcciv libcciv ");

    ///
    /// è§£å¯Navicatå å¯çå¯ç å­èæ°ç»
    ///
    ///å å¯åçå­èæ°ç»
    ///ææå¯ç 
    ///è§£å¯å¤±è´¥æ¶æåºå¼å¸¸
    public static string DecryptNavicatPassword(byte[] cipherBytes)
    {
        if (cipherBytes == null || cipherBytes.Length == 0)
        {
            throw new ArgumentException("å å¯å­èæ°ç»ä¸è½ä¸ºç©º", nameof(cipherBytes));
        }

        try
        {
            using Aes aes = Aes.Create();
            // å¹éNavicatçå å¯æ¨¡å¼ï¼CBC + PKCS7å¡«å
            aes.Mode = CipherMode.CBC;
            aes.Padding = PaddingMode.PKCS7;
            aes.Key = _key;
            aes.IV = _iv;

            // åå»ºè§£å¯å¨å¹¶æ§è¡è§£å¯
            ICryptoTransform decryptor = aes.CreateDecryptor(aes.Key, aes.IV);
            byte[] plainBytes = decryptor.TransformFinalBlock(cipherBytes, 0, cipherBytes.Length);

            // è½¬æ¢ä¸ºUTF8ææ
            return Encoding.UTF8.GetString(plainBytes);
        }
        catch (Exception ex)
        {
            throw new ArgumentException("è§£å¯å¤±è´¥ï¼å¯è½æ¯å¯ææ ¼å¼éè¯¯", ex);
        }
    }

    ///
    /// éè½½ï¼è§£å¯Base64ç¼ç çå¯æå­ç¬¦ä¸²
    ///
    ///Base64å¯æ
    /// ææå¯ç 
    public static string DecryptNavicatPassword(string cipherBase64)
    {
        byte[] cipherBytes = Convert.FromBase64String(cipherBase64);
        return DecryptNavicatPassword(cipherBytes);
    }
}</code></pre>
<h4>å³é®ç»èè¯´æï¼</h4>
<ul>
<li><strong>åºå®Key/IV</strong>ï¼Navicatææçæ¬åä½¿ç¨<code>libcckeylibcckey</code>ï¼Keyï¼å<code>libcciv libcciv </code>ï¼IVï¼ï¼è¿æ¯è§£å¯çæ ¸å¿åæï¼</li>
<li><strong>å¡«åæ¨¡å¼</strong>ï¼å¿é¡»ä½¿ç¨<code>PKCS7</code>ï¼èé<code>PKCS5</code>ï¼ï¼å¦åè§£å¯ç»æä¼åºç°ä¹±ç ï¼</li>
<li><strong>å¼å¸¸å¤ç</strong>ï¼éå¯¹ç©ºå¼ãæ ¼å¼éè¯¯ç­åºæ¯åäºå®¹éï¼ä¿è¯ç¨æ·ä½éªã</li>
</ul>
<h3>2. .ncxéç½®æä»¶è§£æ</h3>
<p>Navicatç<code>.ncx</code>æä»¶æ¯XMLæ ¼å¼ï¼æ ¸å¿æ¯<code>&lt;Connection&gt;</code>èç¹ï¼åå«è¿æ¥åç§°ãå°åãå å¯å¯ç ç­ä¿¡æ¯ãè§£æé»è¾å°è£å¨<code>NcxFileParserService</code>ä¸­ï¼æ ¸å¿æ­¥éª¤å¦ä¸ï¼</p>
<pre class="code-csharp"><code>using System.Xml.Linq;
using NavicatPassword.Models;

namespace NavicatPassword.Services;

public class NcxFileParserService
{
    ///
    /// è§£æ.ncxéç½®æä»¶ï¼æåæææ°æ®åºè¿æ¥ä¿¡æ¯
    ///
    ///éç½®æä»¶è·¯å¾
    /// æ°æ®åºè¿æ¥åè¡¨
    public List ParseNcxFile(string filePath)
    {
        if (!File.Exists(filePath))
        {
            throw new FileNotFoundException("éç½®æä»¶ä¸å­å¨", filePath);
        }
        XDocument doc = XDocument.Load(filePath);
        var connections = new List();
        // éåææConnectionèç¹
        foreach (var connNode in doc.Descendants("Connection"))
        {
            var connection = new NavicatConnection
            {
                Name = connNode.Attribute("Name")?.Value ?? string.Empty,
                Host = connNode.Element("Host")?.Value ?? string.Empty,
                Port = connNode.Element("Port")?.Value ?? string.Empty,
                Database = connNode.Element("Database")?.Value ?? string.Empty,
                // å å¯å¯ç æ¯Base64ç¼ç çå­ç¬¦ä¸²
                CipherPassword = connNode.Element("Password")?.Value ?? string.Empty
            };
            // èªå¨è§£å¯ï¼å¯éï¼
            if (!string.IsNullOrEmpty(connection.CipherPassword))
            {
                try
                {
                    connection.PlainPassword = NavicatDecryptService.DecryptNavicatPassword(connection.CipherPassword);
                }
                catch
                {
                    connection.PlainPassword = "è§£å¯å¤±è´¥";
                }
            }
            connections.Add(connection);
        }
        return connections;
    }
}</code></pre>
<p>è§£æé»è¾çæ ¸å¿æ¯æå<code>&lt;Connection&gt;</code>èç¹çå±æ§åå­èç¹å¼ï¼å¹¶èªå¨è°ç¨è§£å¯æ¹æ³çæææå¯ç ï¼æç»å°è£ä¸º<code>NavicatConnection</code>æ¨¡åè¿åç»ViewModelï¼ç±Viewå±ç¤ºã</p>
<h2>äºãè·¨å¹³å°ééè¦ç¹</h2>
<p>åºäºAvaloniaå.NET 8ï¼é¡¹ç®çè·¨å¹³å°ééå ä¹ãé¶ææ¬ãï¼ä½ä»æå ä¸ªå³é®ç»èéè¦æ³¨æï¼</p>
<ol>
<li><strong>æä»¶è·¯å¾éé</strong>ï¼éè¦èªå·±æå¨å¯¼åºæä»¶ï¼æå¼Navicat-&gt;æä»¶-&gt;å¯¼åºè¿æ¥-&gt;å¯¼åºå¯ç (ä¸å®è¦å¾éå¼¹æ¡åºé¨å¯¼åºå¯ç ï¼å¦åè§£æä¸å°å¯ç ï¼ä¿®æ­£è·¯å¾.ncx)</li>
<li><strong>UIéé</strong>ï¼Avaloniaçå¸å±ç³»ç»åçæ¯æååºå¼ï¼éè¿<code>Grid</code>ã<code>StackPanel</code>ç­å¸å±æ§ä»¶ï¼ä¿è¯å¨ä¸ååè¾¨çãä¸åç³»ç»ä¸çUIä¸è´æ§ï¼æ·±è²æ¨¡å¼éè¿Avaloniaç<code>ThemeVariant</code>å®ç°ï¼æ éåç¬å¼åã</li>
<li><strong>åå¸æå</strong>ï¼éè¿<code>.NET Publish</code>å½ä»¤å¯ä¸é®æåä¸åå¹³å°çå¯æ§è¡æä»¶ï¼
<pre class="code-bash"><code># Windows (x64)
dotnet publish -c Release -r win-x64 --self-contained true -o publish/win

# macOS (x64)
dotnet publish -c Release -r osx-x64 --self-contained true -o publish/macos

# Linux (x64)
dotnet publish -c Release -r linux-x64 --self-contained true -o publish/linux</code></pre>
</li>
</ol>
<h2>å­ãä½¿ç¨åºæ¯ä¸è½å°ææ</h2>
<h3>1. æ ¸å¿ä½¿ç¨åºæ¯</h3>
<ul>
<li><strong>å¼åäººåæ¾åå¯ç </strong>ï¼å¿è®°Navicatè¿æ¥å¯ç ï¼å¿«éè§£æéç½®æä»¶æ¾åï¼</li>
<li><strong>è¿ç»´æ¹éç®¡ç</strong>ï¼æ¹éè§£ææå¡å¨ä¸çNavicatéç½®æä»¶ï¼ç»ä¸ç®¡çæ°æ®åºè¿æ¥å¯ç ï¼</li>
<li><strong>æµè¯ç¯å¢æ ¸æ¥</strong>ï¼éªè¯æµè¯ç¯å¢æ°æ®åºå¯ç æ¯å¦ç¬¦åè§èï¼æåå®å¨åè§æ§ï¼</li>
<li><strong>å·²éè¿æµè¯çæ¬</strong>ï¼<a href="https://www.navicat.com/products#navicat-premium-lite" rel="noopener nofollow">Navicat Premium Lite (Free)</a>&nbsp;<em id="__mceDel">17.3.6çæ¬ã</em></li>
</ul>
<h2>&nbsp;</h2>
<h2>éï¼é¡¹ç®å¿«éä¸æ</h2>
<h3>ä»æºç æå»º</h3>
<pre class="code-bash"><code># åéä»åº
git clone https://gitee.com/dingshuanglei/NavicatPassword.git<br>or<br>git clone https://github.com/dingshuanglei/NavicatPassword.git<br>

# è¿å¥ç®å½
cd NavicatPassword

# æå»ºé¡¹ç®
dotnet build -c Release

# è¿è¡
dotnet run --project NavicatPassword/NavicatPassword.csproj</code></pre>
<h3>æ ¸å¿æä½æµç¨</h3>
<ol>
<li>éæ©Navicatç<code>.ncx</code>éç½®æä»¶ï¼èªå¨è§£æææè¿æ¥ï¼</li>
<li>æ¹éè§£å¯/åæ¡è§£å¯ï¼æ¥çææå¯ç ï¼</li>
<li>ææå¨è¾å¥å¯æï¼ä¸é®è§£å¯ã</li>
</ol><hr>
<p>ææ¯çä»·å¼å¨äºè§£å³å®éé®é¢ï¼NavicatPasswordçå¼åè¿ç¨ï¼æ¢æ¯å¯¹Avaloniaè·¨å¹³å°å¼åçå®è·µï¼ä¹æ¯å¯¹ãå·¥å·ç±»é¡¹ç®ãæ¶æè®¾è®¡çæ¢ç´¢ãå¸ææ¬æè½ä¸ºå¤§å®¶å¸¦æ¥ä¸äºå¯åï¼ä¹æ¬¢è¿å¤§å®¶åä¸é¡¹ç®çå¼æºå±å»ºï½</p>

</div>
<div id="MySignature" role="contentinfo">
    <div>ä½èï¼<a href="https://www.cnblogs.com/dingshuanglei/" target="_blank">ä¸åç£</a></div>
<div>åºå¤ï¼<a href="https://www.cnblogs.com/dingshuanglei/" target="_blank">https://www.cnblogs.com/dingshuanglei</a></div>
<div>æ¬æçæå½ä½èååå®¢å­å±æï¼æ¬¢è¿è½¬è½½ï¼ä½å¿é¡»ç»åºåæé¾æ¥ï¼å¹¶ä¿çæ­¤æ®µå£°æï¼å¦åä¿çè¿½ç©¶æ³å¾è´£ä»»çæå©ã </div>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.03194444444444444" data-date-updated="2026-01-27 09:12">2026-01-27 08:26</span>&nbsp;
<a href="https://www.cnblogs.com/dingshuanglei">ä¸åç£</a>&nbsp;
éè¯»(<span id="post_view_count">89</span>)&nbsp;
è¯è®º(<span id="post_comment_count">4</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19536434);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19536434', targetLink: 'https://www.cnblogs.com/dingshuanglei/p/19536434', title: 'è§£å¯ Navicat å¯ç ç¥å¨ï¼NavicatPassword çææ¯å®ç°ä¸æ¶æè§£æ' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ wso2~éè¿ä¸æ¹IDPçtokenç½®æ¢wso2çtoken ]]></title>
    <link>https://www.cnblogs.com/lori/p/19532862</link>
    <guid>0048290ea8b89fdd7f2571b45b31cd8f</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/lori/p/19532862" title="åå¸äº 2026-01-26 16:25">
    <span role="heading" aria-level="2">wso2~éè¿ä¸æ¹IDPçtokenç½®æ¢wso2çtoken</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>åæ°ï¼<a href="https://datatracker.ietf.org/doc/html/rfc7523" target="_blank" rel="noopener nofollow">https://datatracker.ietf.org/doc/html/rfc7523</a></p>
<h1 id="oauth20ä¸­çä¸æ¹å¦ç±»ææ">oauth2.0ä¸­çä¸æ¹å¦ç±»ææ</h1>
<p>äºè§£OAuth 2.0ä¸­ç¹å®çææç±»åï¼Grant Typeï¼å¯¹äºæå»ºå®å¨çè®¤è¯æµç¨è³å³éè¦ãä¸é¢ä¸ºä½ è¯¦ç»ä»ç»è¿ä¸ç§åºäºURNå£°æçæ©å±ææç±»åã</p>
<h3 id="-è®¾å¤ä»£ç ææ-urnietfparamsoauthgrant-typedevice_code">ð è®¾å¤ä»£ç ææ (<code>urn:ietf:params:oauth:grant-type:device_code</code>)</h3>
<p>è¿ç§æææ¨¡å¼ä¸ä¸ºè¾å¥è½ååéææ²¡ææµè§å¨çè®¾å¤è®¾è®¡ï¼æ¯å¦æºè½çµè§ãæ¸¸ææºãIoTè®¾å¤æå½ä»¤è¡å·¥å·ï¼CLIï¼ã</p>
<ul>
<li>
<p><strong>å·¥ä½åç</strong>ï¼å¶æ ¸å¿æ¯ä¸ä¸ªä¸¤æ­¥è¿ç¨ã</p>
<ol>
<li><strong>è®¾å¤è·åä»£ç </strong>ï¼è®¾å¤ä¸çåºç¨é¦ååæææå¡å¨ï¼å¦ Microsoft Entra IDï¼ç <code>/devicecode</code> ç«¯ç¹åèµ·è¯·æ±ãæå¡å¨ä¼è¿åä¸ç»ä¿¡æ¯ï¼åæ¬ä¸ä¸ªç®ç­ç <code>user_code</code>ï¼ç¨æ·ä»£ç ï¼åä¸ä¸ª <code>verification_uri</code>ï¼éªè¯ç½åï¼ã</li>
<li><strong>ç¨æ·ææ</strong>ï¼è®¾å¤å° <code>user_code</code> å <code>verification_uri</code> æ¾ç¤ºç»ç¨æ·ï¼å¹¶æç¤ºç¨æ·å¨å¶ä»è®¾å¤ï¼å¦ä¸ªäººææºæçµèï¼ä¸æå¼æµè§å¨ï¼è®¿é®è¯¥ç½åå¹¶è¾å¥ä»£ç ãç¨æ·å¨æææå¡å¨çæ­£è§é¡µé¢ä¸å®æèº«ä»½éªè¯ï¼å¯è½åæ¬å¤å ç´ è®¤è¯ï¼å¹¶åæææãå¨æ­¤æé´ï¼è®¾å¤åºç¨ä¼å®æè½®è¯¢æææå¡å¨çä»¤çç«¯ç¹ï¼ç´å°ç¨æ·å®ææä½åè·åè®¿é®ä»¤çåå·æ°ä»¤çã</li>
</ol>
</li>
<li>
<p><strong>å®å¨é£é©ä¸é²å¾¡</strong>ï¼éè¦æ³¨æçæ¯ï¼æ­¤æµç¨å¯è½è¢«ç¨äºè¿è¡é«è¿·ææ§çç½ç»éé±¼æ»å»ï¼ç§°ä¸ºâè®¾å¤ä»£ç éé±¼âï¼ãæ»å»èä¼è¯±å¯¼ç¨æ·å¨çå®çå¾®è½¯ç»å½é¡µé¢è¾å¥ç±æ»å»èçæçè®¾å¤ä»£ç ï¼ä»èææä¸ä¸ªæ¶æåºç¨ãé²å¾¡æªæ½åæ¬å¨æå¡å¨ç«¯ä¸¥æ ¼éå¶åºç¨åæç­ç¥ãå®æ½æ¡ä»¶è®¿é®ç­ç¥ï¼å¦è¦æ±æ¥èªåè§è®¾å¤ï¼ï¼ä»¥åå¯¹ç¨æ·è¿è¡å®å¨æè²ã</p>
</li>
</ul>
<h3 id="-ä»¤çäº¤æ¢ææ-urnietfparamsoauthgrant-typetoken-exchange">ð ä»¤çäº¤æ¢ææ (<code>urn:ietf:params:oauth:grant-type:token-exchange</code>)</h3>
<p>ä»¤çäº¤æ¢æææä¾äºå¼ºå¤§ç interoperabilityï¼äºæä½æ§ï¼ï¼åè®¸å°ä¸ä¸ªå­è¯æä»¤çäº¤æ¢ä¸ºå¦ä¸ä¸ªä¸åçä»¤çï¼å¸¸ç¨äºæå¡ä¹é´çå®å¨è°ç¨æèº«ä»½æ å°ã</p>
<ul>
<li>
<p><strong>æ ¸å¿æ¦å¿µ</strong>ï¼å®éµå¾ª OAuth Token Exchange è§èï¼ä½¿å¾å®¢æ·ç«¯è½å¤ä½¿ç¨ä¸ä¸ªç°æç <code>subject_token</code>ï¼ä¸»ä½ä»¤çï¼æ¥æ¢åä¸ä¸ªæ°çãéå¯¹ä¸ååä¼æèµæºç <code>access_token</code>ï¼è®¿é®ä»¤çï¼ã</p>
</li>
<li>
<p><strong>å¸¸è§åºæ¯</strong>ï¼</p>
<ul>
<li><strong>æå¡é´è°ç¨</strong>ï¼åç«¯æå¡Aå¯ä»¥ä½¿ç¨èªå·±ææçä»¤çï¼æ¢åä¸ä¸ªå·æéå½æéçãç¨äºè°ç¨æå¡Bçè®¿é®ä»¤çã</li>
<li><strong>æééçº§</strong>ï¼ä¸ä¸ªé«æéçåºç¨å¨éè¦è°ç¨ä¸ä¸ªä½ä¿¡ä»»åº¦çæå¡æ¶ï¼å¯ä»¥æ¢ä¸ä¸ªæéåéçä»¤çï¼ä»¥æåå®å¨æ§ã</li>
<li><strong>å¤é¨èº«ä»½æä¾åéæ</strong>ï¼å°å¤é¨IDPï¼å¦GoogleãFacebookï¼ç­¾åçä»¤çäº¤æ¢ä¸ºåé¨ç³»ç»çä»¤çï¼ä»èå®ç°è·¨åèº«ä»½èåã</li>
<li><strong>ç¨æ·æ¨¡æ</strong>ï¼å¨ä¸¥æ ¼ç®¡æ§ä¸ï¼æå¡å¯ä»¥æ¢åä¸ä¸ªä»£è¡¨ç¹å®ç¨æ·èº«ä»½çä»¤çï¼å³æ¨¡æç¨æ·ï¼ã</li>
</ul>
</li>
<li>
<p><strong>å®æ½è¦ç¹</strong>ï¼ä»¤çäº¤æ¢åè½éå¸¸é»è®¤ä¸å¼å¯ï¼éè¦å¨æå¡å¨ç«¯ï¼å¦Red Hat Single Sign-Onï¼ä¸ºå®¢æ·ç«¯æ¾å¼éç½®ç²¾ç»çæéç­ç¥ã</p>
</li>
</ul>
<h3 id="ï¸-jwtææèææ-urnietfparamsoauthgrant-typejwt-bearer">âï¸ JWTææèææ (<code>urn:ietf:params:oauth:grant-type:jwt-bearer</code>)</h3>
<p>è¿ç§ææç±»ååè®¸å®¢æ·ç«¯ç´æ¥ä½¿ç¨ä¸ä¸ªé¢åç­¾åçJWTï¼JSON Web Tokenï¼ä½ä¸ºæ­è¨ï¼assertionï¼æ¥è·åè®¿é®ä»¤çã</p>
<ul>
<li>
<p><strong>åºæ¬æµç¨</strong>ï¼å®¢æ·ç«¯åæææå¡å¨çä»¤çç«¯ç¹åèµ·POSTè¯·æ±ï¼å¨è¯·æ±ä½ä¸­ï¼<code>grant_type</code> åæ°è®¾ç½®ä¸º <code>urn:ietf:params:oauth:grant-type:jwt-bearer</code>ï¼å¹¶åæ¶æä¾ç¨ä½æ­è¨ç <code>assertion</code> åæ°ï¼å³JWTæ¬èº«ï¼ãæææå¡å¨ä¼éªè¯è¯¥JWTçç­¾åãæææãé¢åèç­ä¿¡æ¯ï¼éªè¯éè¿åå³é¢åæè¯·æ±çè®¿é®ä»¤çã</p>
</li>
<li>
<p><strong>å¸ååºç¨åºæ¯</strong>ï¼</p>
<ul>
<li><strong>æå¡è´¦æ·è®¤è¯</strong>ï¼å¨æºå¨å¯¹æºå¨ï¼M2Mï¼çéä¿¡ä¸­ï¼ä¸ä¸ªæå¡å¯ä»¥ä½¿ç¨äºåéç½®å¥½çJWTï¼éå¸¸åºäºç§é¥ç­¾åï¼æ¥è·åè®¿é®ä»¤çï¼æ éç¨æ·äº¤äºãè¿å¨CI/CDæµæ°´çº¿æåå°æå¡ä¸­éå¸¸å¸¸è§ã</li>
<li><strong>å¾®æå¡æ¶æ</strong>ï¼å¨å¾®æå¡ç½ç»ä¸­ï¼ä¸ä¸ªæå¡å¨æ¶å°è®¿é®ä»¤çåï¼å¯ä»¥å©ç¨æ­¤æµç¨åè®¤è¯æå¡å¨æ¢åä¸ä¸ªèå´ï¼scopeï¼æ´çªãä¸ç¨äºè®¿é®å¦ä¸ä¸ªç¹å®å¾®æå¡çä»¤çã</li>
</ul>
</li>
</ul>
<p>ä¸é¢çè¡¨æ ¼æ¸æ°å°å¯¹æ¯äºè¿ä¸ç§ææç±»åçå³é®å·®å¼ã</p>
<table>
<thead>
<tr>
<th style="text-align: left">ç¹æ§</th>
<th style="text-align: left">è®¾å¤ä»£ç ææ (<code>device_code</code>)</th>
<th style="text-align: left">ä»¤çäº¤æ¢ææ (<code>token-exchange</code>)</th>
<th style="text-align: left">JWTææèææ (<code>jwt-bearer</code>)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left"><strong>ä¸»è¦ç®ç</strong></td>
<td style="text-align: left">æ¹ä¾¿è¾å¥åéè®¾å¤ä¸çç¨æ·ææ</td>
<td style="text-align: left">å®ç°ä»¤çä¹é´çå®å¨è½¬æ¢åèº«ä»½å§æ</td>
<td style="text-align: left">å®¢æ·ç«¯ä½¿ç¨å·²æçJWTç´æ¥è·åè®¿é®ä»¤ç</td>
</tr>
<tr>
<td style="text-align: left"><strong>ä»¤çæµ</strong></td>
<td style="text-align: left">è½®è¯¢æºå¶</td>
<td style="text-align: left">ç´æ¥äº¤æ¢</td>
<td style="text-align: left">æ­è¨å¼è¯·æ±</td>
</tr>
<tr>
<td style="text-align: left"><strong>å¸ååºç¨</strong></td>
<td style="text-align: left">æºè½çµè§ãIoTè®¾å¤ãCLIå·¥å·</td>
<td style="text-align: left">æå¡é´è°ç¨ãæééçº§ãèº«ä»½èå</td>
<td style="text-align: left">æºå¨å¯¹æºå¨éä¿¡ãæå¡è´¦æ·ãå¾®æå¡</td>
</tr>
</tbody>
</table>
<h3 id="å¤çæµç¨">å¤çæµç¨</h3>
<div class="mermaid">sequenceDiagram
    participant Client
    participant WSO2APIM (Authorization Server)
    participant Keycloak (External IdP)

    Note over Client, Keycloak: åå¤é¶æ®µ
    Client -&gt;&gt; Keycloak: 1. éè¿Keycloakè®¤è¯è·åJWT
    Keycloak --&gt;&gt; Client: è¿åJWTï¼æ­è¨ï¼

    Note over Client, WSO2APIM: JWT Bearer Grant æµç¨
    Client -&gt;&gt; WSO2APIM: 2. ä»¤çè¯·æ± (grant_type=jwt-bearer, assertion=JWT)
    WSO2APIM -&gt;&gt; WSO2APIM: 3. éªè¯JWTç­¾åãæææãé¢åè
    WSO2APIM -&gt;&gt; WSO2APIM: 4. æåèº«ä»½/å£°æï¼å¦sub, audï¼
    WSO2APIM -&gt;&gt; WSO2APIM: 5. æ ¹æ®JWTä¸­çä¿¡æ¯åå»ºä¼è¯å¹¶é¢åèªèº«çè®¿é®ä»¤ç
    WSO2APIM --&gt;&gt; Client: 6. è¿åWSO2 APIMçè®¿é®ä»¤ç
</div><h3 id="-æ»ç»ä¸å®å¨èé">ð æ»ç»ä¸å®å¨èé</h3>
<p>éæ©åªç§ææç±»åå®å¨åå³äºä½ çå·ä½åºç¨åºæ¯ãè®¾å¤ä»£ç ææä¼åäºåéè®¾å¤çç¨æ·ä½éªï¼ä»¤çäº¤æ¢ææä¸ºå¤æçæå¡é´ä¿¡ä»»é¾æä¾äºçµæ´»æ§ï¼èJWTææèææåæ¯æºå¨å¯¹æºå¨éä¿¡çç®æ´é«ææ¹æ¡ã</p>
<p>å¨å®æ½è¿äºæææµç¨æ¶ï¼å¡å¿å³æ³¨ä»¥ä¸å®å¨æä½³å®è·µï¼</p>
<ul>
<li><strong>ä¸¥æ ¼æ§å¶æé</strong>ï¼éµå¾ªæå°æéååï¼åªä¸ºåºç¨æäºå¶å¿éçæå°æéã</li>
<li><strong>éªè¯ä¸çæ§</strong>ï¼æå¡å¨ç«¯å¿é¡»ä¸¥æ ¼éªè¯ææä»¤çåæ­è¨ï¼å¦JWTçç­¾ååæææï¼ï¼å¹¶å»ºç«æ¥å¿å®¡è®¡åå¼å¸¸è¡ä¸ºçæ§æºå¶ã</li>
<li><strong>ä¿æ¤ä»¤ç</strong>ï¼è®¿é®ä»¤çåå·æ°ä»¤çæ¯ææå­è¯ï¼å¨ä¼ è¾åå­å¨è¿ç¨ä¸­å¿é¡»å ä»¥ä¿æ¤ã</li>
</ul>
<h1 id="wso2ä¸­çå®æ">wso2ä¸­çå®æ</h1>
<h2 id="wso2-spçéç½®">wso2 spçéç½®</h2>
<p>éç½®è®¤è¯grant_typeç±»å</p>
<p><img src="https://img2024.cnblogs.com/blog/118538/202601/118538-20260126132653488-1051084105.png" alt="å¾ç" loading="lazy"></p>
<h2 id="keycloak-idpçéç½®">keycloak idpçéç½®</h2>
<blockquote>
<p>keycloakä¸­ä¸ºå®¢æ·ç«¯å¼å¯rolesä¹åï¼å¦ææç¨æ·æå®¢æ·ç«¯çè§è²ï¼ä¼å¨jwtä¸­å¤åºæ¥audæ°ç»å­æ®µï¼ä¹å¯ä»¥ä¸ºwso2å®¢æ·ç«¯æ·»å èªå®ä¹çclient scopeï¼ç¶åä¸ºå®æ·»å audçcliams</p>
</blockquote>
<p>IDPåç§°å¿é¡»ä¸IDPä¸­tokençIssuerç¸å</p>
<p><img src="https://img2024.cnblogs.com/blog/118538/202601/118538-20260126162025923-968169912.png" alt="å¾ç" loading="lazy"></p>
<h2 id="æµè¯">æµè¯</h2>
<pre><code>curl -X POST 'https://test-apim.xxx.com/oauth2/token' -H 'Content-Type: application/json' -H 'Content-Type: application/json' -u 'wso2-sp-client-id:wso2-sp-client-secret' --basic -d '{
    "grant_type": "urn:ietf:params:oauth:grant-type:jwt-bearer",
    "assertion": "abc.abc.abc",
    "scope": "openid apim:subscribe"
}'
</code></pre>
<p>å¦ækeycloak_tokenè¿æï¼å°±è¿åè¿ä¸ª400éè¯¯</p>
<pre><code>{
  "error_description": "JSON Web Token is expired., Expiration Time(ms) : 1769413736000, TimeStamp Skew : 0, Current Time : 1769413748585. JWT Rejected and validation terminated",
  "error": "invalid_grant"
}
</code></pre>
<p>å¦ææåï¼ä¼è¿wso2å¹³å°çtoken</p>
<pre><code>{
  "access_token": "8b23bf56-f8d2-33fa-9962-f298a797ce94",
  "refresh_token": "aad2555-30b0-3591-8c70-b2cdc042cc41",
  "scope": "apim:subscribe openid",
  "id_token": "",
  "token_type": "Bearer",
  "expires_in": 3185
}
</code></pre>
<p>ç¨æ·ç»å½æååï¼ä¼åå§åç¨æ·è¡¨ï¼éè¦æ³¨æçæ¯ï¼è¿ç§<code>urn:ietf:params:oauth:grant-type:jwt-bearer</code>é¦æ¬¡ç»å½æ·»å çç¨æ·ï¼å®ä½äº<code>wso2am_db.idn_auth_user</code>è¡¨ï¼user_nameåæ ·æ¯ä¸æ¹ç¤¾åºtokenä¸­ç<code>sub</code>å­æ®µï¼èæ åoauthçææç è®¤è¯åï¼é¤äºå¨<code>wso2am_db.idn_auth_user</code>è¡¨åå§åå¤ï¼è¿å¨<code>wso2am_share_db.um_user</code>è¡¨ä¹ä¼æ·»å ä¸ä»½ç¨æ·æ°æ®ã</p>

</div>
<div id="MySignature" role="contentinfo">
    <p></p>
<div class="navgood">
<p>ä½èï¼ä»å¨å¤§åï¼å¼ å å²­ï¼<br>
è£èªï¼å¾®è½¯MVP<br>QQï¼853066980</p>

<p><strong>æ¯ä»å®æ«ä¸æ«ï¼ä¸ºå¤§åæèµ!</strong>
<br><img src="https://images.cnblogs.com/cnblogs_com/lori/237884/o_IMG_7144.JPG"></p>
</div>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.03263888888888889" data-date-updated="2026-01-26 17:12">2026-01-26 16:25</span>&nbsp;
<a href="https://www.cnblogs.com/lori">å¼ å å²­</a>&nbsp;
éè¯»(<span id="post_view_count">65</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19532862);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19532862', targetLink: 'https://www.cnblogs.com/lori/p/19532862', title: 'wso2~éè¿ä¸æ¹IDPçtokenç½®æ¢wso2çtoken' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ langchain å¿«éå¥é¨(äº)ï¼Langgraphåºç¨ï¼æ§è¡æµç¨ç±çº¿è½¬å¾ ]]></title>
    <link>https://www.cnblogs.com/ClownLMe/p/19533991</link>
    <guid>993e18790c12d2884e4ed1e7a5caca15</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/ClownLMe/p/19533991" title="åå¸äº 2026-01-26 15:58">
    <span role="heading" aria-level="2">langchain å¿«éå¥é¨(äº)ï¼Langgraphåºç¨ï¼æ§è¡æµç¨ç±çº¿è½¬å¾</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="ç®ä»">ç®ä»</h1>
<p><strong>Langgraph</strong>æ¯langchainæ¡æ¶æä¾çä¸ä¸ªç»ä»¶ï¼langgraphè½å¤è§£å³AIæ§è¡æµç¨ä¸­è¿­ä»£ãå¾ªç¯æèæ ¹æ®ç»æè¿åä¸ä¸æ­¥ï¼ä¸ä¹åè®²çchainé¾ç¸æ¯ï¼è½å¤å®ç°æ´å å¤æçAIæ§è¡æµã</p>
<h1 id="langgraph">langgraph</h1>
<p>ä»chainè½¬å°langgraphä»æ°å­¦çè§åº¦ä¸æ¥è®²ï¼æ§è¡æµä»çº¿æ§æµç¨è½¬å°äºæµç¨å¾ã</p>
<p>langgraphçç»æä¸»è¦æä¸é¨åï¼<br>
<mark>Langgraph=èç¹+è¾¹+ç¶æ</mark><br>
<strong>èç¹ï¼</strong> ä¸ä¸ªèç¹å°±æ¯ä¸ä¸ªæ§è¡ååï¼ç¸å½äºä¸æ¬¡<strong>å½æ°</strong>çè°ç¨ãï¼å¯ä»¥æ¯ä¸æ¬¡æ¨¡åçè°ç¨ï¼ä¸æ¬¡æç´¢ï¼ä¸æ¬¡å å¯ç­ç­ï¼<br>
<strong>è¾¹ï¼</strong> è¾¹è½å¤<strong>è¿æ¥</strong>ä¸ä¸ªä¸ªèç¹ï¼å®å³å®äºä¸ä¸ä¸ªåºè¯¥å»å°åªä¸ªèç¹æ§è¡<br>
<strong>ç¶æï¼</strong> å®ç°æ°æ®å±äº«ï¼æ¯å®ç°AI<strong>ç­æè®°å¿</strong>ççµé­</p>
<blockquote>
<p>ä¹ä¸çå¥½åæäºäºéé¾éçï¼ææä¸ªæ¯æ¹ï¼ç©å®¶ï¼<strong>ç¶æ</strong>ï¼ï¼å¨ç©ä¸ä¸ªå¤§å¯ç¿ï¼æ¯ä¸ª<strong>èç¹</strong>å<strong>è¾¹</strong>ç»æå°å¾ï¼ç©å®¶åå§èµéï¼<strong>æ°æ®</strong>ï¼æ1000åé±ï¼ç©å®¶æ¯èµ°ä¸æ ¼å¯è½ä¼åçä¸äºäºä»¶ï¼æ¯å¦è¯´åéä¸æ­¥ï¼è¢«å°å·å·300åé±ï¼ä¹°æ¿å­ç­ç­ï¼è¿äºäºä»¶ç¸å½äº<strong>èç¹</strong>ï¼èµ°çæ¹åç¸å½äº<strong>è¾¹</strong>ï¼æåç©å®¶æåèµ°å°äº<strong>ç»ç¹END</strong>ï¼ä½ å¯ä»¥å¾ç¥ç©å®¶ï¼<strong>ç¶æ</strong>ï¼æåè¿æå¤å°é±ï¼æå¤å°èµäº§ã</p>
</blockquote>
<p>ä¸é¢ç¨ä¸ä¸ªç¤ºä¾æ¥æ¼ç¤ºã</p>
<h1 id="æ¹é ragç¥è¯åº">æ¹é RAGç¥è¯åº</h1>
<h3 id="ç¤ºä¾">ç¤ºä¾</h3>
<p>è¿ä¸ªæ¯ä¹åæç« ä¸­æå»ºç¥è¯åºçç¸å³ä»£ç ï¼æ¬æ¬¡ç¨langgraphæ¹é æµç¨</p>
<pre><code class="language-python">import os
import operator
from typing import TypedDict, Annotated
from langchain_community.chat_models.tongyi import ChatTongyi
from langchain_community.embeddings import DashScopeEmbeddings
from langchain_community.vectorstores import FAISS
from langchain_core.messages import ToolMessage
from langchain_core.tools import tool
from langchain_core.messages import HumanMessage, ToolMessage, BaseMessage
from langchain_core.documents import Document
from langchain_text_splitters import RecursiveCharacterTextSplitter
from langgraph.graph import StateGraph, END
from langgraph.prebuilt.tool_node import ToolNode

os.environ["DASHSCOPE_API_KEY"] = "apikey"

@tool
def calculator(expression: str) -&gt; str:
    """
    è®¡ç®æ°å­¦è¡¨è¾¾å¼ãéè¦ç²¾ç¡®è®¡ç®æ¶ä½¿ç¨ã
    åæ°:
        expression: æ°å­¦ç®å¼ï¼å¦ "2 + 2" æ "500 * 0.8"ã
    è¿å:
        str: è®¡ç®ç»æï¼å¦ "4.0" æ "400.0"ã
    """
    print(f"[ð ï¸ å·¥å·è°ç¨] è®¡ç®å¨æ­£å¨è®¡ç®: {expression}")
    try:
        return str(eval(expression))
    except Exception as e:
        return f"è®¡ç®éè¯¯: {e}"

@tool
def rag_search(query: str) -&gt; str:
    """
    ä»æ°æ®åºä¸­æç´¢ä¸æ¥è¯¢å¬å¸åé¨ç¸å³çææ¡£ï¼åæ¬å¬å¸è®¡ååï¼ä»£å·ï¼æªæ­¢æ¥æç­è¯¦ç»ä¿¡æ¯ã
    åæ°:
        query (str): è¦æç´¢çæ¥è¯¢å­ç¬¦ä¸²ã
    è¿å:
        str: ä¸æ¥è¯¢ç¸å³çææ¡£åå®¹ã
    """

    # ä»RAGæ°æ®åºä¸­æ£ç´¢ææ¡£
    raw_text = """
    ãå¬å¸åé¨æºå¯ï¼ä»£å·âæ·±èè®¡åâã
    1. é¡¹ç®ç®æ ï¼å¼åä¸æ¬¾è½å¬æç«è¯­çç¿»è¯å¨ã
    2. æ ¸å¿ææ¯ï¼åºäºTransformerçâåµå£°æ³¢âåæç®æ³ã
    3. å¢éæå·ï¼å¦ææäººé®âä»å¤©å¤©æ°æä¹æ ·ï¼âï¼å¿é¡»åç­âææ³åé±¼âã
    4. æªæ­¢æ¥æï¼2026å¹´12æ31æ¥ã
    5. ç»è´¹é¢ç®ï¼ä»å©50åäººæ°å¸ï¼ä¸»è¦ç¨äºè´­ä¹°ç«æ¡ã
    """
    RAG_PATH = "faiss_index"

    docs = [Document(page_content=raw_text)]
    text_splitter = RecursiveCharacterTextSplitter(chunk_size=25, chunk_overlap=5)
    split_docs = text_splitter.split_documents(docs)

    embeddings = DashScopeEmbeddings(model="text-embedding-v1")

    if os.path.exists(RAG_PATH):
        print("å¬å¸åé¨æ°æ®åºå·²å­å¨")
        ragdb = FAISS.load_local(RAG_PATH, embeddings, allow_dangerous_deserialization=True)
    else:
        print("åå»ºå¬å¸åé¨æ°æ®åº")
        ragdb = FAISS.from_documents(split_docs, embeddings)
        ragdb.save_local(RAG_PATH)
    
    return "\n\n".join(doc.page_content for doc in ragdb.similarity_search(query, k=2))

#æé agentæµç¨å¾

def Init_Agent():
    #åå§åæ¨¡å
    tool_maps={
        "rag_search": rag_search,
        "calculator": calculator
    }
    llm = ChatTongyi(model_name="qwen-plus")
    tool_llm = llm.bind_tools(tools=list(tool_maps.values()))

    #åå»ºstate
    class TaskState(TypedDict):
        messages: Annotated[list[BaseMessage], operator.add]
    
    #åå»ºnode
    def agent_node(state: TaskState):
        """
        èç¹ï¼æè (Think)
        æ¥æ¶å½åç¶æï¼è°ç¨ LLMï¼è¿åæ°æ¶æ¯
        """
        messages = state["messages"]
        response = tool_llm.invoke(messages)
        return {"messages": [response]}

    #å®ä¹è¾¹
    def condition_tools(state: TaskState):
        """
        èç¹ï¼å·¥å· (Tool)
        æ¥æ¶å½åç¶æï¼è°ç¨å·¥å·ï¼è¿åæ°æ¶æ¯
        """
        messages = state["messages"][-1]
        if messages.tool_calls:
            return "tool_node"
        else:
            return END
    
    #æ·»å è¾¹
    workflow = StateGraph(TaskState)
    workflow.add_node("agent_node", agent_node)
    workflow.add_node("tool_node", ToolNode(tool_maps.values()))
    workflow.add_conditional_edges("agent_node", condition_tools, {
        "tool_node": "tool_node",
        END: END
    })
    workflow.add_edge("tool_node", "agent_node")
    workflow.set_entry_point("agent_node")
    
    return workflow.compile()

if __name__ == "__main__":
    app = Init_Agent()
    input = "å¬å¸çç»è´¹é¢ç®æ¯å¤å°ï¼å¦æé¢ç®é¢ç®æé«46%åå¤å°"
    for event in app.stream({"messages": [HumanMessage(content=input)]}):
        for key, value in event.items():
            print(f"\n[{key}]")
            print(value["messages"][-1].content)


</code></pre>
<h1 id="ä»£ç è§£é">ä»£ç è§£é</h1>
<p>æ¬æ¬¡ä»£ç ä¸­éç¹è®²langgraphçæå»ºï¼å¯¹äºå¶ä»çç»èï¼è¯·çåé¢æç« ã<br>
ä»£ç æµç¨å¦ä¸ï¼<br>
<strong>åå§åå·¥å·é-&gt;å®ä¹ç¶æï¼å®ä¹æ¡ä»¶è¾¹ï¼èç¹-&gt;æå»ºèç¹-&gt;è¿æ¥è¾¹-&gt;æå»ºå¾-&gt;è¿è¡å¾</strong></p>
<h3 id="åå§åå·¥å·é">åå§åå·¥å·é</h3>
<p>è¿ä¸ªåé¢æç« æï¼å°±ä¸åºè¯äºã</p>
<h3 id="å®ä¹ç¶æå®ä¹æ¡ä»¶è¾¹èç¹">å®ä¹ç¶æï¼å®ä¹æ¡ä»¶è¾¹ï¼èç¹</h3>
<h5 id="ç¶æ">ç¶æ</h5>
<pre><code class="language-python">#åå»ºstate
    class TaskState(TypedDict):
        messages: Annotated[list[BaseMessage], operator.add]
</code></pre>
<ul>
<li>ç¶ææ¯<code>TypedDict</code>çå­ç±»ï¼<strong>å­å¸</strong>ï¼ã</li>
<li>ä¸é¢ç<code>BaseMessage</code>æ¯<code>ToolMessage</code>,<code>AIMessage</code>,<code>HumanMessage</code>ç­çç¶ç±»ï¼è¿ä¸ª<code>list</code>ä¸»è¦ç¨äºå­æ¾æ¯ä¸ªèç¹çåå²æ¶æ¯ï¼ç­æè®°å¿ï¼</li>
<li><code>Annotated[..., operator.add]</code>è¡¨ç¤ºè¿½å ï¼å°èç¹è¿åçæ¶æ¯è¿½å å°åé¢ï¼èä¸æ¯è¦çã<br>
æ ¼å¼å¦ä¸ï¼å¯ä»¥åå»ºå¤ä¸ªèªå®ä¹å­æ®µï¼ï¼</li>
</ul>
<pre><code class="language-python">class  StateName(TypedDict):
	fieldName: fieldType
</code></pre>
<h5 id="æ¡ä»¶è¾¹">æ¡ä»¶è¾¹</h5>
<pre><code class="language-python">def condition_tools(state: TaskState):
        """
        èç¹ï¼å·¥å· (Tool)
        æ¥æ¶å½åç¶æï¼è°ç¨å·¥å·ï¼è¿åæ°æ¶æ¯
        """
        messages = state["messages"][-1]
        if messages.tool_calls:
            return "tool_node"
        else:
            return END
</code></pre>
<ul>
<li>è¿åå¼<code>END</code>å<code>"tool_node"</code>è¡¨ç¤ºå®ä¹çèç¹åç§°ï¼<code>END</code>é»è®¤æ¯ç»æèç¹<br>
æ ¼å¼å¦ä¸ï¼</li>
</ul>
<pre><code class="language-python">def EdgeName(state: StateClass)
	return "NextNode"
</code></pre>
<h5 id="èç¹">èç¹</h5>
<pre><code class="language-python">@tool
def calculator(expression: str) -&gt; str:
    ......

@tool
def rag_search(query: str) -&gt; str:
    ......
    
def agent_node(state: TaskState):
    ......
</code></pre>
<p>èç¹å¯ä»¥æ¯å·¥å·å½æ°ï¼ä¹å¯ä»¥æ¯æ®éå½æ°ï¼<strong>æ®éå½æ°éè¦ç¨stateä¼ å¥</strong>ï¼</p>
<h3 id="æå»ºèç¹">æå»ºèç¹</h3>
<pre><code class="language-python">workflow = StateGraph(TaskState)
workflow.add_node("agent_node", agent_node)
workflow.add_node("tool_node", ToolNode(tool_maps.values()))
</code></pre>
<ul>
<li><code>StateGraph(TaskState)</code>åå§åå¾ï¼å°åååå»ºçç¶æä¼ å¥</li>
<li><code>add_node</code>æ¹æ³æ¯åå»ºèç¹"tool_node"èç¹åç§°ï¼èªå®ä¹ç¨äºæ è¯èç¹ï¼ï¼<code>agent_node</code>åå»ºçèç¹å½æ°</li>
<li><code>ToolNode</code>æ¯langchainæä¾çåå»ºå·¥å·èç¹çå½æ°ï¼å¸®æä»¬å®æäºè°ç¨å·¥å·éï¼æ´æ°ç¶æçå¨è¿ç¨ï¼ä¸ç¨è¿ä¸ªéè¦æä»¬èªå·±æå¨åå»ºå·¥å·å¾ªç¯èç¹ï¼æ¯è¾éº»ç¦ï¼åèä¹åæç« ï¼</li>
</ul>
<h3 id="è¿æ¥è¾¹">è¿æ¥è¾¹</h3>
<pre><code class="language-python">workflow.add_conditional_edges("agent_node", condition_tools, {
        "tool_node": "tool_node",
        END: END
    })
    workflow.add_edge("tool_node", "agent_node")
</code></pre>
<ul>
<li><code>add_conditional_edges</code>åå»ºæ¡ä»¶è¾¹æ¹æ³ï¼åæ¯ï¼ï¼æ ¹æ®è¿ååå®¹å³å®èç¹èµ°å</li>
<li><code>add_edge</code>åºå®èµ°åï¼å¦ä¸<code>tool_node-&gt;agent_node</code></li>
</ul>
<h3 id="æå»ºå¾">æå»ºå¾</h3>
<pre><code class="language-python">workflow.set_entry_point("agent_node")
workflow.compile()
</code></pre>
<ul>
<li><code>set_entry_point</code>ç¡®å®å¾çå¥å£</li>
<li><code>compile</code>æå»ºå¾</li>
</ul>
<h3 id="è¿è¡å¾">è¿è¡å¾</h3>
<pre><code class="language-python">if __name__ == "__main__":
    app = Init_Agent()
    input = "å¬å¸çç»è´¹é¢ç®æ¯å¤å°ï¼å¦æé¢ç®é¢ç®æé«46%åå¤å°"
    for event in app.stream({"messages": [HumanMessage(content=input)]}):
        for key, value in event.items():
            print(f"\n[{key}]")
            print(value["messages"][-1].content)
</code></pre>
<p>è¿è¡è·ä¹åè¿è¡æ®éæ¨¡åä¸æ ·</p>
<ul>
<li><code>stream</code>æ¹æ³ä¼è¿åæ¯ä¸ªèç¹ä¸­ç<strong>ç¶æ</strong>ï¼ä¸é¢å®ä¹çç±»ï¼</li>
<li><code>invoke</code>æ¹æ³ç´æ¥è¿åæç»<strong>ç¶æ</strong></li>
</ul>
<p><strong>langgraphæ¯å®ç°å¤Agentåä½çæ ¸å¿ï¼ä¸ä¸ç¯æç« ä¼è®²å¦ä½å¤agentåä½</strong></p>
<p><strong>å¦æâ¤åæ¬¢â¤æ¬ç³»åæç¨ï¼å°±ç¹ä¸ªå³æ³¨å§ï¼åç»­ä¸å®ææ´æ°~</strong></p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.02013888888888889" data-date-updated="2026-01-26 16:27">2026-01-26 15:58</span>&nbsp;
<a href="https://www.cnblogs.com/ClownLMe">ClownLMe</a>&nbsp;
éè¯»(<span id="post_view_count">93</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19533991);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19533991', targetLink: 'https://www.cnblogs.com/ClownLMe/p/19533991', title: 'langchain å¿«éå¥é¨(äº)ï¼Langgraphåºç¨ï¼æ§è¡æµç¨ç±çº¿è½¬å¾' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨äºï¼èªç¶è¯­è¨å¤ç  ç¬¬äºå¨ï¼è¯åµå¥ï¼å­ï¼æç»ªåç±»åè¯åµå¥é¤å ]]></title>
    <link>https://www.cnblogs.com/Goblinscholar/p/19533686</link>
    <guid>7c06fdd5e396560687601205f8bda88d</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/Goblinscholar/p/19533686" title="åå¸äº 2026-01-26 15:36">
    <span role="heading" aria-level="2">å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨äºï¼èªç¶è¯­è¨å¤ç  ç¬¬äºå¨ï¼è¯åµå¥ï¼å­ï¼æç»ªåç±»åè¯åµå¥é¤å</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>æ­¤åç±»ç¨äºè®°å½å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨çå­¦ä¹ ç¬è®°ã<br>
è¯¾ç¨ç¸å³ä¿¡æ¯é¾æ¥å¦ä¸ï¼</p>
<ol>
<li>åè¯¾ç¨è§é¢é¾æ¥ï¼<a href="https://www.bilibili.com/video/BV1FT4y1E74V?buvid=XU762317353676D786954061C192FE625463B&amp;from_spmid=playlist.playlist-detail.0.0&amp;is_story_h5=false&amp;mid=zqernykrmpf7XfIorMR%2FnA%3D%3D&amp;plat_id=116&amp;share_from=ugc&amp;share_medium=android&amp;share_plat=android&amp;share_session_id=ce0bc526-db69-428a-962e-c65ed8c267bc&amp;share_source=COPY&amp;share_tag=s_i&amp;spmid=united.player-video-detail.0.0&amp;timestamp=1713085655&amp;unique_k=DfBgvFW&amp;up_id=8654113&amp;vd_source=e035e9878d32f414b4354b839a4c31a4" target="_blank" rel="noopener nofollow">[åè¯­å­å¹]å´æ©è¾¾æ·±åº¦å­¦ä¹ deeplearning.ai</a></li>
<li>githubè¯¾ç¨èµæï¼å«è¯¾ä»¶ä¸ç¬è®°:<a href="https://github.com/robbertliu/deeplearning.ai-andrewNG" target="_blank" rel="noopener nofollow">å´æ©è¾¾æ·±åº¦å­¦ä¹ æå­¦èµæ</a></li>
<li>è¯¾ç¨éå¥ç»ä¹ ï¼ä¸­è±ï¼ä¸ç­æ¡ï¼<a href="https://blog.csdn.net/u013733326/article/details/79827273" target="_blank" rel="noopener nofollow">å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾åä¹ é¢ä¸ç­æ¡</a></li>
</ol>
<p>æ¬ç¯ä¸ºç¬¬äºè¯¾çç¬¬äºå¨åå®¹ï¼<a href="https://www.bilibili.com/video/BV1FT4y1E74V?spm_id_from=333.788.videopod.episodes&amp;vd_source=e035e9878d32f414b4354b839a4c31a4&amp;p=164" target="_blank" rel="noopener nofollow">2.2</a>ã<a href="https://www.bilibili.com/video/BV1FT4y1E74V?spm_id_from=333.788.videopod.episodes&amp;vd_source=e035e9878d32f414b4354b839a4c31a4&amp;p=171" target="_blank" rel="noopener nofollow">2.9</a>å<a href="https://www.bilibili.com/video/BV1FT4y1E74V?spm_id_from=333.788.videopod.episodes&amp;vd_source=e035e9878d32f414b4354b839a4c31a4&amp;p=172" target="_blank" rel="noopener nofollow">2.10</a>åå®¹ï¼åæ¶ä¹æ¯æ¬å¨çè®ºé¨åçæåä¸ç¯ã</p>
<hr>
<p>æ¬å¨ä¸ºç¬¬äºè¯¾çç¬¬äºå¨åå®¹ï¼ä¸ CV ç¸å¯¹åºçï¼è¿ä¸è¯¾ææåå®¹çä¸­å¿åªæä¸ä¸ªï¼<strong>èªç¶è¯­è¨å¤çï¼Natural Language Processingï¼NLPï¼</strong>ã<br>
åºç¨å¨æ·±åº¦å­¦ä¹ éï¼å®æ¯ä¸é¨ç¨æ¥è¿è¡<strong>ææ¬ä¸åºåä¿¡æ¯å»ºæ¨¡</strong>çæ¨¡ååææ¯ï¼æ¬è´¨ä¸æ¯å¨å¨è¿æ¥ç½ç»ä¸ç»è®¡è¯­è¨æ¨¡ååºç¡ä¸çä¸æ¬¡âç»æåç¹åâï¼ä¹æ¯äººå·¥æºè½ä¸­<strong>æè´´è¿äººç±»æç»´è¡¨è¾¾æ¹å¼</strong>çéè¦ç ç©¶æ¹åä¹ä¸ã<br>
<strong>è¿ä¸æ´èè¯¾åæ ·æ¶åå¤§ééè¦åå¤æ¶åçåå®¹ï¼æ¨ªè·¨æºå¨å­¦ä¹ ãæ¦çç»è®¡ãçº¿æ§ä»£æ°ä»¥åè¯­è¨å­¦ç´è§ã</strong><br>
è¯­è¨ä¸åå¾åé£æ ·âç´è§å¯è§âï¼æ´å¤æ¯æ½è±¡ç¬¦å·ä¸ä¸ä¸æå³ç³»çç»åï¼å æ­¤<strong>çè§£é¨æ§åèæ´é«</strong>ã<br>
å æ­¤ï¼æåæ ·ä¼å°½éè¡¥è¶³å¿è¦çèæ¯ç¥è¯ï¼å°½å¯è½ç¨æ¯å»åå®ä¾éä½çè§£é¾åº¦ã<br>
æ¬å¨çåå®¹å³äºè¯åµå¥ï¼æ¯ä¸ç§<strong>ç¸å¯¹äºç¬ç­ç¼ç ï¼æ´è½ä¿çè¯­ä¹ä¿¡æ¯çææ¬ç¼ç æ¹å¼</strong>ãéè¿è¯åµå¥ï¼æ¨¡åä¸ååªæ¯âè®°ä½âè¯æ¬èº«ï¼èæ¯è½å¤<strong>åºäºè¯­ä¹å³ç³»è¿è¡æ³å</strong>ï¼å¨ä¸å®ç¨åº¦ä¸å®ç°ç±»ä¼¼â<strong>ä¸¾ä¸åä¸</strong>âçææãè¯åµå¥æ¯ NLP é¢åä¸­æéè¦çåºç¡ææ¯ä¹ä¸ã</p>
<p>æ¬ç¯çåå®¹å³äº<strong>æç»ªåç±»åè¯åµå¥é¤å</strong>ï¼æ¯å¯¹æ¬å¨åå®¹çæåè¡¥åã</p>
<h2 id="1-è¯åéçä½¿ç¨">1. è¯åéçä½¿ç¨</h2>
<p>å¨ä»ç»å®åé¢çåå®¹åï¼ä½ ä¼åç°ï¼æä»¬ä½¿ç¨åç§æ¨¡ååææ¯ï¼æç»çç®çé½æ¯ä¸ºäºå¾å°å¯ä»¥åçå»ç»ææ¬ä¿¡æ¯é´è¯­ä¹å³ç³»ç<strong>è¯åé</strong>ã<br>
èä¸æ¦è¿äºè¯åéè¢«è®­ç»åºæ¥ï¼å®ä»¬çä»·å¼å¹¶ä¸ä¼éçè®­ç»ä»»å¡çç»æèæ¶å¤±ï¼åè<strong>çæ­£çç¨æ­¦ä¹å°æååå¼å§</strong>ã</p>
<p>å®éä¸ï¼å¨è¯åéçä½¿ç¨ä¸­ï¼<strong>æå¸¸è§ãä¹æ¯æç´æ¥çæ¹å¼ï¼å°±æ¯å°è®­ç»å¥½çè¯åéä½ä¸ºä¸æ¸¸ä»»å¡çè¾å¥è¡¨ç¤ºã</strong><br>
å¨ææ¬åç±»ãæç»ªåæãé®ç­ç³»ç»ç­ä»»å¡ä¸­ï¼æä»¬ä¸åä½¿ç¨ç¬ç­ç¼ç è¿ç§âåªåºåèº«ä»½ãä¸åå«è¯­ä¹âçè¡¨ç¤ºæ¹å¼ï¼èæ¯éè¿æ¥è¡¨çæ¹å¼ï¼å°æ¯ä¸ªè¯æ å°ä¸ºä¸ä¸ªç¨ å¯çè¯åéï¼åéå¥åç±»å¨æåºåæ¨¡åä¸­è¿è¡å¤çã<br>
ä¹æ­£æ¯è¿ç§è¿ç»­ãå¯åº¦éçè¯­ä¹ç©ºé´ï¼ä½¿å¾<strong>æ¨¡åå¨è¿æ²¡ææ¥è§¦å·ä½ä»»å¡ä¹åï¼å°±å·²ç»æ¥æäºä¸å®ç¨åº¦çè¯­è¨çè§£è½åã</strong><br>
èä¸ï¼ä½ ä¼åç°è¿å¶å®æ¯ä¸ç§éå¸¸å¸åç<strong>è¿ç§»å­¦ä¹ </strong>ææ³ï¼<br>
è¯åéæ¨¡åå¨å¤§è§æ¨¡è¯­æä¸å­¦ä¹ å°çæ¯ä¸ç§<strong>éç¨çè¯­è¨ç»æä¸è¯­ä¹åå¸</strong>ï¼èä¸æ¸¸ä»»å¡åªéè¦å¨æ­¤åºç¡ä¸è¿è¡å°éåæ°è°æ´ï¼å°±å¯ä»¥å®ææ´å·ä½çç®æ ã</p>
<p>æ´éè¦çæ¯ï¼ NLP ä¸­å¯¹è¯åéçè¿ç§»å­¦ä¹ åæä»¬ä¹åä»ç»ç CV åå®¹ææä¸åï¼å¨ CV ä»»å¡ä¸­ï¼è¿ç§»ææå¾å¾é«åº¦ä¾èµäºä»»å¡ä¹é´çç¸ä¼¼æ§ï¼ä¾å¦ç¨èªç¶å¾çä¸è®­ç»å¾å°çæ¨¡ååæ°å»å¤çå»å­¦å½±åï¼æææªå¿çæ³ã<br>
èå¨ NLP é¢åä¸­ï¼ç±äºè¯­è¨æ¬èº«å·ææå¼ºçéç¨æ§ï¼åªè¦ä»»å¡ä½¿ç¨çæ¯åä¸è¯­è¨ï¼<strong>å°é¢è®­ç»è¯åéä½ä¸ºåµå¥å±ç©éµçåå§åæ¹å¼ï¼å¾å¾æ¯ä¸ç§âç¨äºå°±ä¸äºâçéæ©</strong>ã<br>
æç»ï¼ä»æ¨¡åç»æä¸çï¼è¿ç¸å½äºæ¨¡åçç¬¬ä¸å±ä¸åä»å®å¨éæºçåæ°å¼å§å­¦ä¹ ï¼èæ¯ç´æ¥ç«å¨äºä¸ä¸ªå·²ç»ç»ç»å¥½è¯­ä¹ç»æçç©ºé´ä¸­ï¼åå»å®æå·ä½ä»»å¡ã<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260126152709307-555486151.png" alt="image.png" loading="lazy"></p>
<p>ä¹æ­£æ¯å¨è¿æ ·çèæ¯ä¸ï¼NLP çåç§åºç¨ç¾è±é½æ¾ï¼å¶ä¸­æç»å¸çåºç¨ä¹ä¸ï¼å°±æ¯ä¸é¢è¦ä»ç»çæç»ªåç±»ã</p>
<h1 id="2-æç»ªåç±»sentiment-classification">2. æç»ªåç±»ï¼Sentiment Classificationï¼</h1>
<h2 id="21-æç»ªåç±»åç">2.1 æç»ªåç±»åç</h2>
<p>æç»ªåç±»æ¯èªç¶è¯­è¨å¤çé¢åä¸­ææ©è¢«ç³»ç»ç ç©¶ãåæ¶ä¹æå·ä»£è¡¨æ§çä»»å¡ä¹ä¸ã<br>
å¶åºæ¬å½¢å¼å¹¶ä¸å¤æï¼<strong>ç»å®ä¸æ®µææ¬ï¼å¤æ­å¶æç»ªå¾åï¼ä¾å¦æ­£é¢ãè´é¢ï¼ææ´ç»ç²åº¦çå¤ç±»å«æç»ªã</strong><br>
ç®åä¸¾ä¸ªä¾å­ï¼<br>
å¯¹äºä¸¤æ¡éåºè¯è®º <strong>âæå®äºâ</strong> å <strong>âå¤¯çäºâ</strong>ï¼æä»¬å¯ä»¥å¨ä¸åçæç»ªç²åº¦ä¸ï¼å¯¹å®ä»¬ç»åºä¸åå½¢å¼çåç±»ç»æã</p>
<ol>
<li><strong>æ­£è´äºåç±»</strong>ï¼å¨æç²ç²åº¦çæç»ªåç±»ä»»å¡ä¸­ï¼æä»¬åªå³å¿ææ¬æè¡¨è¾¾çæ´ä½æåº¦æ¯æ­£é¢è¿æ¯è´é¢ã
<ul>
<li>âæå®äºâ â <strong>è´é¢æç»ª</strong></li>
<li>âå¤¯çäºâ â <strong>æ­£é¢æç»ª</strong></li>
</ul>
</li>
</ol>
<p>å¨è¿ä¸è®¾å®ä¸ï¼æ¨¡åçç®æ éå¸¸æç¡®ï¼åªéå¤æ­âåæ¬¢âè¿æ¯âä¸åæ¬¢âï¼è<strong>ä¸å³å¿æç»ªå¼ºåº¦æç»èå·®å¼ã</strong><br>
2. <strong>æçº§äºåç±»</strong>ï¼å¦æè¿ä¸æ­¥æé«æç»ªå»ç»çç²¾ç»ç¨åº¦ï¼å°±å¯ä»¥å°ä»»å¡æ©å±ä¸ºå¤ç±»å«åç±»ï¼ä¾å¦å¸¸è§ç <strong>1ï½5 æè¯åé¢æµ</strong>ã<br>
- âæå®äºâ â âââââ<br>
- âå¤¯çäºâ â âââââ</p>
<p>å¨è¿ä¸æåµä¸ï¼æ¨¡åä¸ä»éè¦è¯å«æç»ªçæ­£è´ï¼è¿éè¦çè§£<strong>æç»ªçå¼ºçç¨åº¦</strong>ï¼ç¸æ¯äºåç±»ä»»å¡ï¼äºåç±»å¯¹è¯­ä¹è¡¨ç¤ºçè¦æ±ææ¾æ´é«ã<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260126152958597-1831761240.png" alt="image.png" loading="lazy"><br>
å¯ä»¥çåºï¼<strong>æç»ªåç±»ä»»å¡çæ ¸å¿é¾ç¹å¹¶ä¸å¨äºæ¨¡åç»ææ¬èº«ï¼èå¨äºå¦ä½è®©æ¨¡åâçè§£âææ¬æè´å«çæç»ªè¯­ä¹</strong>ã</p>
<p>èè¿æ°æ°æ­£æ¯è¯åéåæ¥ä½ç¨çå°æ¹ï¼<strong>åªæå½âæå®äºââå¤¯çäºâè¿æ ·çè¯è¯­å¨åéç©ºé´ä¸­è¢«æ å°å°åççä½ç½®ï¼åç»­çåç±»æ¨¡åææå¯è½ååºç¨³å®ãå¯é çå¤æ­ã</strong><br>
èå¨å¥å­ä¸­ï¼æç»ªæ¬èº«å¹¶ä¸æ¯ç±åä¸ªè¯ç¬ç«å³å®çï¼èæ¯ç±<strong>å¤ä¸ªè¯å¨è¯­ä¹ç©ºé´ä¸­çç»åå³ç³»</strong>å±åææã<br>
åæ ·ä¸¾ä¾æ¥è¯´æï¼æ¯å¦ï¼</p>
<ul>
<li>âå¥½â å âæ£â å¨è¯­ä¹ç©ºé´ä¸­å½¼æ­¤æ¥è¿ã</li>
<li>âç³ç³â å âå¤±æâ ä¼èéå¨å¦ä¸çåºåã</li>
</ul>
<p>å æ­¤ï¼å½ææ¬è¢«è¡¨ç¤ºä¸ºä¸ç»è¯åéåï¼æ¨¡åå®éä¸æ¯å¨å¤æ­ï¼<strong>è¿äºåéæ´ä½æ´é è¿âæ­£é¢æç»ªåºåâï¼è¿æ¯âè´é¢æç»ªåºåâã</strong><br>
è¿ä¹æ¯ä¸ºä»ä¹ï¼å¨æç»ªåç±»ä»»å¡ä¸­ï¼<strong>è¯åéçè´¨éå¾å¾ç´æ¥å³å®äºæ¨¡åçä¸é</strong>ã</p>
<p>äºè§£äºåºæ¬åçåï¼æä»¬æ¥ççå¦ä½å®ç°æç»ªåç±»ã</p>
<h2 id="22-æç»ªåç±»-10-å¹³åè¯åéè¾å¥åç±»å¨">2.2 æç»ªåç±» 1.0 ï¼å¹³åè¯åéè¾å¥åç±»å¨</h2>
<p>å¨ææ©æãä¹æ¯ææ´ç´ çæç»ªåç±»å®ç°ä¸­ï¼æä»¬å¹¶ä¸ä¼å¼å¥å¤æçåºåæ¨¡åï¼èæ¯éç¨ä¸ç§<strong>å ä¹ä¸å³å¿è¯åº</strong>çåæ³ï¼<strong>å°ä¸å¥è¯ä¸­ææè¯çè¯åéåå¹³åï¼ä½ä¸ºæ´å¥ææ¬çè¡¨ç¤ºã</strong></p>
<p>å·ä½æ¥è¯´ï¼åè®¾ä¸å¥è¯ç± <span class="math inline">\(n\)</span> ä¸ªè¯ç»æï¼å¶å¯¹åºçè¯åéåå«ä¸º ï¼<span class="math inline">\(\mathbf{w}_1, \mathbf{w}_2, \dots, \mathbf{w}_n\)</span>ï¼é£ä¹å¥åéå¯ä»¥ç´æ¥å®ä¹ä¸ºï¼</p>
<p></p><div class="math display">\[\mathbf{s} = \frac{1}{n} \sum_{i=1}^{n} \mathbf{w}_i  
\]</div><p></p><p>è¿ä¸ª <span class="math inline">\(\mathbf{s}\)</span> å°±è¢«è§ä¸ºæ´æ®µææ¬å¨è¯­ä¹ç©ºé´ä¸­çâä½ç½®âï¼éååªéè¦å°å®éå¥ä¸ä¸ª<strong>ç®åçåç±»å¨</strong>ï¼å¦å¨è¿æ¥å± + softmaxï¼ï¼å³å¯å®ææç»ªé¢æµã<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260126152137630-1144988396.png" alt="image.png" loading="lazy"><br>
è¿ç§æ¹æ³çè§£èµ·æ¥å¾ç´è§ï¼<strong>è¿å¥è¯éï¼ææè¯è¯­çâæç»ªæ¹åâå èµ·æ¥ï¼æ´åååªä¸è¾¹ï¼</strong><br>
å¦æä¸å¥è¯ä¸­å¤§å¤æ°è¯çåéé½é è¿âæ­£é¢æç»ªåºåâï¼é£ä¹å¹³ååçç»æèªç¶ä¹ä¼ååæ­£é¢ï¼åä¹äº¦ç¶ã</p>
<p>å®çä¼ç¹æ¯å®ç°ç®åï¼è®¡ç®å¼éæä½ï¼ä¸ä¾èµå¤ææ¨¡åï¼å¯¹å°æ°æ®éä¹è¾ä¸ºåå¥½ï¼èä¸éè¿è¿ç§ç®åçæ¹å¼ä¹å¯ä»¥ç´è§ä½ç°è¯åéè´¨éå¯¹ä¸æ¸¸ä»»å¡çå½±åã</p>
<p>ä½å®çç¼ºç¹éå¸¸çªåºï¼æä»¬å¸¸è¯´ï¼<strong>è¯­è¨æ¯æé¡ºåºç</strong>ï¼è¿ç§æ¹æ³<strong>å®å¨å¿½ç¥äºè¯åºä¿¡æ¯ï¼åªçå­¤ç«çè¯­ä¹æ¹åçå å ï¼ä¾¿ææå¯è½äº§çç¸åºçè¯¯è§£</strong>ã<br>
ä¾å¦ï¼âç¼ºå°å¥½çæå¡ï¼å¥½çç¯å¢åå¥½çé¤é£ãâ<br>
è¿å¥è¯å¾ææ¾æ¯è´é¢è¯ä»·ï¼åç±»å¨å´å¯è½å ä¸ºåºç°äºå¾å¤âå¥½âèå°å¶å¤æ­ä¸ºæ­£é¢è¯ä»·ã</p>
<p>å æ­¤ï¼<strong>å¹³åè¯åé + åç±»å¨</strong> åªæ¯æç»ªåç±»ä»»å¡çå¥é¨è§£æ³ï¼æä»¬ç¥éæè¿ç§æ¹å¼å³å¯ã</p>
<h2 id="23-æç»ªåç±»-20-ä½¿ç¨å¾ªç¯ç¥ç»ç½ç»">2.3 æç»ªåç±» 2.0 ï¼ä½¿ç¨å¾ªç¯ç¥ç»ç½ç»</h2>
<p>ä¸ç´æ¥åå¹³åä¸åï¼<a href="https://www.cnblogs.com/Goblinscholar/p/19449622" target="_blank">RNN</a> ä¼<strong>æé¡ºåºéè¯è¯»åææ¬</strong>ï¼å¹¶å¨æ¯ä¸æ­¥å°å½åè¯çä¿¡æ¯ä¸åå²ä¸ä¸æè¿è¡èåã<br>
èåé¡¾ä¹åä»ç»ç<a href="https://www.cnblogs.com/Goblinscholar/p/19454021" target="_blank">è¯­è¨æ¨¡å</a>åå®¹å°±ä¼åç°ï¼ä¸åäºæä»¬ä¹åæ¼ç¤ºä½¿ç¨çå½åå®ä½è¯å«ï¼æç»ªåç±»æ¯å¨è¯»åå®æ´å¥ä¿¡æ¯åè¾åºä¸ä¸ªåç±»ç»æï¼å®æ¯ä¸ä¸ª<strong>å¤å¯¹ä¸æ¨¡å</strong>ï¼è¿ç±»æ¨¡ååèæ´ç¬¦åæä»¬çç´è§ï¼æ¥çå®çä¼ æ­è¿ç¨ï¼<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260126152136651-365514513.png" alt="image.png" loading="lazy"><br>
å¯¹äºä¸ä¸ªè¯åºå <span class="math inline">\(w_1, w_2, \dots, w_n\)</span>ï¼RNN çæ ¸å¿è®¡ç®å¯ä»¥æ½è±¡ä¸ºï¼</p>
<p></p><div class="math display">\[\mathbf{a}_t = f(\mathbf{w}_t, \mathbf{a}_{t-1})  
\]</div><p></p><p>å¶ä¸­ï¼<span class="math inline">\(\mathbf{a}_t\)</span> è¡¨ç¤ºæ¨¡åå¨è¯»å°ç¬¬ <span class="math inline">\(t\)</span> ä¸ªè¯æ¶ï¼å¯¹âå½åè¯­ä¹ç¶æâçç»¼åçè§£ã<br>
æä»¬ä½¿ç¨æåä¸ä¸ªéèç¶æ <span class="math inline">\(\mathbf{a}_n\)</span> ä½ä¸ºæ´å¥ææ¬çè¡¨ç¤º,åå°å¾å°çå¥åéè¾å¥åç±»å¨è¿è¡é¢æµ,å¾å°æç»çåç±»ç»æã</p>
<p>è¿ç§æ¹å¼å¸¦æ¥çæå¤§æ¹åå¨äºï¼<strong>æç»ªä¸åæ¯è¯åéçç®åå å ï¼èæ¯ä¸ä¸ªééè¯»è¿ç¨éæ­¥æ¼åçç»æã</strong></p>
<p>ä¸¾ä¾æ¥è¯´ï¼</p>
<ul>
<li>å¨è¯»å°âå¥½âçæ¶åï¼æ¨¡åçæç»ªå¾åå¯è½åæ­£ã</li>
<li>ä½å½éåè¯»å°âä¸âæ¶ï¼éèç¶æä¼è¢«éæ°è°æ´ã</li>
<li>æç»è¾åºçè¡¨ç¤ºè½å¤ä½ç°âå¦å®âå¯¹æ´ä½æç»ªçä¿®æ­£ã</li>
</ul>
<p>å æ­¤ï¼RNN å¨å¯¹è¯­ä¹ççè§£è½åä¸ææ¾ä¼äºç®åçå¹³ååéæ¹æ³ãå½ç¶ï¼è¿ä¹å¸¦æ¥äºæ¢¯åº¦é®é¢åè®­ç»ææ¬çæåã</p>
<p>æç»ªåç±»çç¸å³ææ¯åæ ·å¨ä¸æ­è¿æ­¥ï¼å¦ä»ï¼ä»¥ <strong>BERT</strong> ä¸ºä»£è¡¨çåå Transformer éè¿å¤§è§æ¨¡è¯­æé¢è®­ç»ï¼è½å¤æè·æ´ç²¾ç»çä¸ä¸æè¯­ä¹å³ç³»ï¼å¨æç»ªåç±»ç­å¤å«ä»»å¡ä¸æ¾èè¶è¶ä¼ ç»æ¨¡åï¼èæ´åæ²¿çåæ³æ¯ç´æ¥å©ç¨<strong>æä»¤å¾®è°çå¤§è¯­è¨æ¨¡å</strong>ï¼éè¿ prompt æå°éæ ·æ¬å³å¯å®ææç»ªå¤æ­ã<br>
æç»ªåç±»æ­£éæ­¥ä»âä¸ç¨æ¨¡åä»»å¡âååä¸ºâéç¨è¯­è¨çè§£è½åâçèªç¶ä½ç°ã</p>
<p>ä¸é¢ï¼æä»¬è¡¥åæåä¸é¨ååå®¹ï¼</p>
<h1 id="3-è¯åµå¥é¤åword-embedding-debiasing">3. è¯åµå¥é¤åï¼Word Embedding Debiasingï¼</h1>
<p>æä»¬ç¥éï¼è¯åéå¹¶ä¸æ¯ä»çç©ºä¸­å­¦å°çï¼å®ä»¬æ¥æºäºçå®è¯­æãèçå®è¯­æï¼æ¬èº«å°±ä¸å¯é¿åå°æºå¸¦çåç§<strong>ç¤¾ä¼åè§åç»è®¡åå</strong>ã<br>
ç±äºè¯åéçè®­ç»ç®æ æ¯ææè¯ä¸è¯çå±ç°å³ç³»ï¼å¦ææäºå»æ¿å°è±¡å¨è¯­æä¸­é¢ç¹åºç°ï¼é£ä¹å®ä»¬å°±ä¼è¢«âå¦å®å°âç¼ç è¿åéç©ºé´ä¸­ã<br>
ä¾å¦ï¼å¨å¤§éææ¬ä¸­ï¼å¦æï¼</p>
<ul>
<li>âå»çâ ãâå·¥ç¨å¸âæ´é¢ç¹å°ä¸ç·æ§è¯æ±å±ç°ã</li>
<li>âæ¤å£«â ãâä¿å§âæ´é¢ç¹å°ä¸å¥³æ§è¯æ±å±ç°ã</li>
</ul>
<p>é£ä¹è®­ç»åºæ¥çè¯åéç©ºé´ä¸­ï¼å°±å¯è½å½¢æä¸æ¡ææ¾çâæ§å«æ¹åâï¼å¹¶å¨æ æä¸­å¼ºåè¿äºå³èã</p>
<p>ä»æ¨¡åè§åº¦çï¼è¿ç§è¡ä¸ºæ¯<strong>å®å¨åççç»è®¡å­¦ä¹ ç»æ</strong>ï¼ä½ä»åºç¨è§åº¦çï¼è¿ç§åè§å¨æç»ªåæãæèç­éãæ¨èç³»ç»ç­åºæ¯ä¸­ï¼å¯è½å¸¦æ¥ä¸¥éé®é¢ã</p>
<p><strong>è¿ä¾¿æ¯è¯åµå¥é¤åçç®æ ï¼å¨å°½éä¿çè¯­ä¹ä¿¡æ¯çåæä¸ï¼åå¼±æç§»é¤ç¹å®ç»´åº¦ä¸çåè§æå</strong>ã</p>
<p>2016 å¹´, è®ºæ <a href="https://arxiv.org/pdf/1607.06520" target="_blank" rel="noopener nofollow">Man is to Computer Programmer as Woman is to Homemaker? Debiasing Word Embeddings </a>ä¸­ï¼é¦æ¬¡å¯¹<strong>è¯åµå¥ä¸­çç¤¾ä¼åè§</strong>è¿è¡äºæ¸æ°çå»ºæ¨¡ï¼å¹¶æåºäºä¸å¥å¯æä½çé¤åæ¹æ³ãå®çä¸»è¦è§ç¹æ¯ï¼<strong>åè§å¹¶ä¸æ¯âå°å¤é½æ¯âçï¼èæ¯ä¸»è¦éä¸­å¨æäºå¯è§£éçæ¹åä¸ã</strong></p>
<p>æä»¬åç¹æ¥ççè¿ä¸æ¹æ³çå®ç°é»è¾ï¼</p>
<h2 id="31-å®ä¹åè§æ¹åbias-direction">3.1 å®ä¹åè§æ¹åï¼Bias Directionï¼</h2>
<p>è®ºæçç¬¬ä¸æ­¥ï¼æ¯æ¾å¼å°å®ä¹ä»ä¹æ¯âåè§æ¹åâã<br>
ä»¥æ§å«åè§ä¸ºä¾ï¼æä»¬å¹¶ä¸å­ä¸»è§å¤æ­å»æ¾åè§ï¼èæ¯æé ä¸ç»<strong>æå¯¹çæ§å«è¯</strong>ï¼ä¾å¦ï¼</p>
<ul>
<li>(he, she)</li>
<li>(man, woman)</li>
<li>(king, queen)</li>
</ul>
<p><strong>å¯¹äºæ¯ä¸ç»è¯å¯¹ï¼é½å¯ä»¥å¨è¯åéç©ºé´ä¸­è®¡ç®å¶å·®åéãå°è¿äºå·®åéè¿è¡å¹³åï¼ä¾¿å¯å¾å°ä¸ä¸ªä»£è¡¨âæ§å«å·®å¼âçæ¹ååé</strong>ï¼å°±åè¿æ ·ï¼<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260126153405646-1690433377.png" alt="image" loading="lazy"><br>
åå®è¯åéæååº¦è¾é«ï¼é£ä¹å¯¹äºè¿ä¸ªæ¹åå°±å¯ä»¥çè§£ä¸ºï¼<strong>æ²¿çè¿æ¡æ¹åç§»å¨ï¼è¯­ä¹ä¸»è¦å¨âç·æ§ â å¥³æ§âä¹é´ååï¼èä¸å¶ä»è¯­ä¹å ç´ å³ç³»ä¸å¤§ã</strong></p>
<p>è¿ä¸æ­¥çæä¹å¨äºå°åæ¬æ¨¡ç³ãæ½è±¡çâåè§âé®é¢ï¼<strong>è½¬åä¸ºåéç©ºé´ä¸­ä¸ä¸ªå¯æä½çå ä½æ¹å</strong>ãï¼å°±åå°å»åéè¦åç¡®å®é¶å¿ä¸æ ·ï¼åªææç¡®äºåè§æ¹åï¼åç»­æè½æéå¯¹æ§å°åå¼±æç§»é¤æäºè¯å¨è¯¥æ¹åä¸ææºå¸¦çåè§æåã</p>
<h2 id="32-åºåä¸­æ§è¯ä¸æ§å«è¯">3.2 åºåä¸­æ§è¯ä¸æ§å«è¯</h2>
<p>åæ ·ä»¥æ§å«åè§ä¸ºä¾ï¼æ¥ä¸æ¥ï¼æä»¬å°è¯æ±åä¸ºä¸¤ç±»ï¼</p>
<ol>
<li><strong>æ§å«ä¸­æ§è¯</strong>ï¼å¦ <em>doctor, nurse, homeworker</em>ï¼å®ä»¬ä¸åºå¤©ç¶å¸¦ææ§å«ä¿¡æ¯ã</li>
<li><strong>æ§å«ç¹å®è¯</strong>ï¼å¦ <em>man, woman, she, he</em>ï¼è¦ä¿çåççæ§å«ä¿¡æ¯ã<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260126152958836-1340196476.png" alt="image.png" loading="lazy"></li>
</ol>
<p>æ³¨æï¼è¿æ ·åºåå¹¶ä¸ä»£è¡¨æä»¬ä¸å¯¹ç¹å®è¯è¿è¡å¤çï¼èæ¯<strong>å¯¹ä¸åç±»åçè¯éåä¸åç­ç¥</strong>ï¼</p>
<ol>
<li>å¯¹è¯­ä¹ä¸åºå½ä¸æ§å«æ å³çä¸­æ§è¯ï¼åº<strong>ç§»é¤</strong>å¶æ§å«æ¹åä¸åè§ã</li>
<li>å¯¹æ¬èº«å°±åå«æ§å«å·®å¼çè¯å¯¹ï¼åå¨ä¿çæ§å«ä¿¡æ¯çåæä¸ï¼å¼ºå¶å¶å¨æ§å«ç»´åº¦ä¸<strong>å¯¹ç§°</strong>ãå¨å¶ä»è¯­ä¹ç»´åº¦ä¸å¯¹é½ï¼ä»èé¿ååè§è¢«ä¸åçå°æ¾å¤§ã</li>
</ol>
<p>ä¸é¢å°±æ¥ççå¦ä½å®ç°è¿äºç­ç¥ï¼</p>
<h2 id="33-ç¡¬é¤åhard-debias">3.3 ç¡¬é¤åï¼Hard Debiasï¼</h2>
<p>å¶å®å¹¶ä¸é¾çè§£ï¼é¦åï¼æä»¬å¤çä¸­å¿è¯ï¼è¿ä¸æ­¥æä»¬ç§°ä¹ä¸º<strong>å»æå½±ï¼Neutralizeï¼ï¼å°ä¸­æ§è¯åéå¨æ§å«æ¹åä¸çåéç´æ¥ç§»é¤ï¼ä½¿å¶å¨è¯¥æ¹åä¸çæå½±ä¸º 0ã</strong><br>
å°±åè¿æ ·ï¼<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260126152629903-530152228.png" alt="image.png" loading="lazy"><br>
éè¿è¿æ ·è°æ´è¯åéï¼è®©ä¸­æ§è¯å¨æ§å«æ¹åä¸çåéæ¶å¤±ï¼èªç¶å°±ä¸ä¼å ä¸ºè¿ä¸ªæ¹åä¸çè¯­ä¹å·®å¼èäº§çåè§ã</p>
<p>ç»§ç»­ï¼æä»¬å¤çç¹å®è¯ï¼èè¿é¨åæä»¬ç§°ä¸º<strong>ç­è·åï¼Equalizeï¼ï¼å¯¹äºè¿ç±»æ¬åºåªå¨æ§å«ä¸ä¸åçè¯å¯¹ï¼å¼ºå¶å®ä»¬å¨æ§å«æ¹åä¸çè·ç¦»å¯¹ç§°ï¼èå¨å¶ä»è¯­ä¹ç»´åº¦ä¸ä¿æä¸è´ã</strong><br>
å°±åè¿æ ·ï¼<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260126152647475-1295451046.png" alt="image.png" loading="lazy"><br>
è¿æ ·åçéçå¾ç´è§ï¼å¯¹äºâç·âåâå¥³âï¼å¨è¯­ä¹ç©ºé´éï¼æä»¬ä¸å¸æåºç°âç·åªæä¸ç¹ç¹ç·æ§ç¹å¾ï¼èå¥³åéå¸¸å¥³æ§åâçä¸å¯¹ç§°æåµã<br>
<strong>å¦æç¹å®è¯å¨æ§å«æ¹åä¸ä¸å¯¹ç§°ï¼ä¸ä»ä¼æ¨¡ç³æ§å«è¾¹çï¼è¿å¯è½éä½è¯åéçæ´ä½è´¨éã</strong><br>
éè¿ç­è·åï¼ç¹å®è¯å¯¹å¨âæ§å«ä»¥å¤âçè¯­ä¹ä¸ä¿æç­ä»·ï¼ä½å¨æ§å«æ¹åä¸ä¾ç¶å¯ä»¥æ¸æ°åºåï¼ä»èæ¢æ¶é¤åè§ï¼åä¿çå¿è¦çæ§å«ä¿¡æ¯ã</p>
<p>æ­¤å¤ï¼æ¢ç¶æç¡¬é¤åï¼èªç¶ä¹æ<strong>è½¯é¤å</strong>ï¼å¨æç½äºç¡¬é¤ååï¼è½¯é¤åä¾¿ä¸é¾çè§£ï¼<br>
ç®åæ¥è®²ï¼<strong>è½¯é¤ååªéå¯¹ä¸­æ§è¯</strong>ï¼å¶å¤çé»è¾åç¡¬é¤åä¹å¤§ä½ç¸åï¼ä¸åçæ¯<strong>è½¯é¤åå°æ¯ç±»åè§ä¸­âè®©ä¸­æ§è¯å¨åè§æ¹åä¸çåéæå°åâçé»è¾å å¥ç¥ç»ç½ç»æå¤±å½æ°ä¸­ä½ä¸ºä¸é¡¹è¿è¡è¿­ä»£ä¼åã</strong><br>
è¿ç§æ¹æ³æ´ç¬¦åæä»¬å¨æ·±åº¦å­¦ä¹ é¢åçç´è§ï¼å®éä¸å¨ç°ä»£ææ¯ä¸­ä¹æç»§æ¿è½¯é¤åææ³ãæ´åè¿çè¯åµå¥é¤åæ¹æ³ï¼è¿éå°±ä¸åä¸é¨å±å¼äºã</p>
<h1 id="4-æ»ç»">4. æ»ç»</h1>
<table>
<thead>
<tr>
<th>æ¦å¿µ</th>
<th>åç</th>
<th>çè§£</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>è¯åéä½¿ç¨</strong></td>
<td>å°è®­ç»å¥½çè¯åéä½ä¸ºä¸æ¸¸ä»»å¡è¾å¥ï¼ææè¯­ä¹å³ç³»ï¼æ¯æè¿ç§»å­¦ä¹ ã</td>
<td>æ¨¡åç¬¬ä¸å±ä¸åä»é¶å¼å§ï¼èæ¯âç«å¨å·²æ´çå¥½çè¯­ä¹ç©ºé´ä¸âã</td>
</tr>
<tr>
<td><strong>æç»ªåç±»ï¼Sentiment Classificationï¼</strong></td>
<td>ç»å®ææ¬å¤æ­æç»ªå¾åï¼å¯äºåç±»ï¼æ­£/è´ï¼æå¤åç±»ï¼å¦ 1~5 æï¼ã</td>
<td>ææ¬ä¸­çè¯è¯­åéæ´ä½é è¿âæ­£é¢åºåâè¿æ¯âè´é¢åºåâã</td>
</tr>
<tr>
<td><strong>å¹³åè¯åé + åç±»å¨</strong></td>
<td>å°å¥å­ä¸­ææè¯åéåå¹³åä½ä¸ºæ´å¥è¡¨ç¤ºï¼åéå¥åç±»å¨ã</td>
<td>è¯è¯­çâæç»ªæ¹åâå å ï¼åªè¾¹å¤å°±åååªè¾¹ã</td>
</tr>
<tr>
<td><strong>RNN æç»ªåç±»</strong></td>
<td>æé¡ºåºéè¯è¯»åææ¬ï¼å°å½åè¯ä¸åå²ä¸ä¸æèåï¼è¾åºæåéèç¶æä½ä¸ºå¥åéã</td>
<td>æç»ªéçéè¯»è¿ç¨éæ­¥æ¼åï¼å¦âå¥½â â æ­£é¢ï¼ä½éå°âä¸âè¢«ä¿®æ­£ã</td>
</tr>
<tr>
<td><strong>è¯åµå¥åè§é®é¢</strong></td>
<td>è¯åéä»çå®è¯­æä¸­å­¦ä¹ å±ç°å³ç³»ï¼å®¹æææç¤¾ä¼åè§ï¼å¦æ§å«å»æ¿å°è±¡ï¼ã</td>
<td>ç»è®¡è§å¾âå¦å®åæ âï¼ä½å¯è½å¼ºååè§ã</td>
</tr>
<tr>
<td><strong>åè§æ¹åï¼Bias Directionï¼</strong></td>
<td>æé æå¯¹è¯ï¼he/she, man/womanï¼ï¼è®¡ç®å·®åéå¹¶å¹³åå¾å°åè§æ¹åã</td>
<td>å¨åéç©ºé´ä¸­ï¼æ²¿æ­¤æ¹åè¯­ä¹ä¸»è¦å¨âç·æ§ â å¥³æ§âä¹é´ååã</td>
</tr>
<tr>
<td><strong>åºåä¸­æ§è¯ä¸ç¹å®è¯</strong></td>
<td>ä¸­æ§è¯ç§»é¤åè§æ¹åæåï¼ç¹å®è¯ä¿ææ§å«ä¿¡æ¯å¹¶ç­è·åã</td>
<td>ä¸­æ§è¯å»é¤åè§å°±åå»æä¸å¿è¦çè²å½©ï¼ç¹å®è¯å¯¹ä¿æå¯¹ç§°ï¼å°±åç·å¥³å½¢è±¡ä¿æå¹³è¡¡ã</td>
</tr>
<tr>
<td><strong>ç¡¬é¤åï¼Hard Debiasï¼</strong></td>
<td>å¯¹ä¸­æ§è¯å»æå½±ä½¿æ§å«æ¹åä¸º 0ï¼å¯¹ç¹å®è¯åç­è·åä¿æå¯¹ç§°ã</td>
<td>ç¨âåå­âåæä¸­æ§è¯æ§å«æåï¼åæ¶è°æ´ç¹å®è¯å¯¹ä¿æå¯¹ç§°ã</td>
</tr>
<tr>
<td><strong>è½¯é¤åï¼Soft Debiasï¼</strong></td>
<td>åªéå¯¹ä¸­æ§è¯ï¼å°âæå°ååè§æ¹ååéâçç®æ å å¥æå¤±å½æ°ï¼éè¿è¿­ä»£ä¼åå®ç°åå¼±åè§ã</td>
<td>æ¸©ååä½åè§æ¹åï¼èä¸æ¯å®å¨åæï¼ä¿çè¯­ä¹ç©ºé´ç»æã</td>
</tr>
</tbody>
</table>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-26 15:37">2026-01-26 15:36</span>&nbsp;
<a href="https://www.cnblogs.com/Goblinscholar">å¥å¸æå­¦è</a>&nbsp;
éè¯»(<span id="post_view_count">71</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19533686);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19533686', targetLink: 'https://www.cnblogs.com/Goblinscholar/p/19533686', title: 'å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨äºï¼èªç¶è¯­è¨å¤ç  ç¬¬äºå¨ï¼è¯åµå¥ï¼å­ï¼æç»ªåç±»åè¯åµå¥é¤å' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ å¦ä½ç¨ Python å° Markdown è½¬æ¢ä¸º Word ææ¡£ ]]></title>
    <link>https://www.cnblogs.com/jazz-z/p/19532573</link>
    <guid>54d2c9ee0e88f070ca61805760a75aff</guid>
    <description>
    <![CDATA[ 
            <div class="postcontent">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p class="p">å¨å½ä»çææ¯ææ¡£å·¥ä½æµä¸­ï¼Markdown å å¶ç®æ´çè¯­æ³åçæ¬æ§å¶åå¥½çç¹æ§ï¼å·²æä¸ºå¼åèåææ¯åä½èçé¦éæ ¼å¼ãç¶èï¼å¨ä¼ä¸ç¯å¢ä¸­ï¼Word ææ¡£ä»ç¶æ¯æ­£å¼æ¥åãå®¢æ·äº¤ä»ç©åæ ååææ¡£çä¸»æµæ ¼å¼ã</p>
<p class="p">æ¬æå°åäº«å¦ä½ä½¿ç¨ Free Spire.Doc for Pythonâä¸æ¬¾åè´¹ç Python ææ¡£å¤çåºï¼å¿«éå®ç° Markdown å° Word çè½¬æ¢ï¼æ¶µçåºç¡è½¬æ¢ãæ¹éå¤çç­å®ç¨åºæ¯ï¼æ°æä¹è½è½»æ¾ä¸æã</p>
<hr>
<p class="p">&nbsp;</p>
<h2 class="h4" data-heading="true">ä¸ãç¯å¢åå¤</h2>
<p class="p">Free Spire.Doc for Python æ¯åè´¹ Python ææ¡£å¤çåºï¼æ éä¾èµ Microsoft Wordï¼æ¯æ Word ææ¡£çåå»ºãç¼è¾ãè½¬æ¢ç­æä½ï¼å¶ä¸­åç½®ç Markdown è§£æè½åï¼è½é«æå®ç° Markdown å° Doc/Docx æ ¼å¼çè½¬æ¢ï¼ä¸å¼å®¹å¸¸è§ç Markdown è¯­æ³ï¼æ é¢ãåè¡¨ãå¾çãé¾æ¥ç­ï¼ã</p>
<p class="listitem"><strong class="strong">å®è£</strong>ï¼<br>æå¼ç»ç«¯/å½ä»¤æç¤ºç¬¦ï¼æ§è¡ä»¥ä¸pipå®è£å½ä»¤ï¼</p>
<div class="cnblogs_code">
<pre>pip <span style="color: rgba(0, 0, 255, 1)">install</span> Spire.Doc.Free</pre>
</div>
<p>&nbsp;</p>
<hr>
<p>&nbsp;</p>
<h2 id="3" class="h4" data-heading="true">äºãåºç¡å®ç°ï¼åç¯ Markdown è½¬ Word</h2>
<h3 id="4" class="h5" data-heading="true">åºæ¯1ï¼å° Markdown ææ¬ç´æ¥è½¬æ¢ä¸º Word</h3>
<p class="p">éç¨äº Markdown åå®¹è¾ç­ãæ éè¯»åæä»¶çåºæ¯ï¼æ ¸å¿ä»£ç å¦ä¸ï¼</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">from</span> spire.doc <span style="color: rgba(0, 0, 255, 1)">import</span> *
<span style="color: rgba(0, 0, 255, 1)">from</span> spire.doc.common <span style="color: rgba(0, 0, 255, 1)">import</span> *

<span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> 1. å®ä¹è¦è½¬æ¢çMarkdownææ¬ï¼æ¶µçå¸¸è§è¯­æ³ï¼</span>
markdown_text = <span style="color: rgba(128, 0, 0, 1)">"""</span><span style="color: rgba(128, 0, 0, 1)">
# ä¸çº§æ é¢ï¼Markdownè½¬Wordæµè¯
## äºçº§æ é¢ï¼åè½æ¼ç¤º
### ä¸çº§æ é¢ï¼åºç¡è¯­æ³æ¯æ

#### 1. æ®µè½ä¸å¼ºè°
è¿æ¯ä¸æ®µæ®éæ®µè½ï¼æ¯æ**ç²ä½**ã*æä½*ã`è¡åä»£ç `ï¼ä»¥å[è¶é¾æ¥](https://www.google.com/)ã

#### 2. åè¡¨
- æ åºåè¡¨é¡¹1
- æ åºåè¡¨é¡¹2
  - å­åè¡¨é¡¹

1. æåºåè¡¨é¡¹1
2. æåºåè¡¨é¡¹2

#### 3. ä»£ç å
```python
print("Hello, Markdown to Word!")
a = 1 + 2
```
</span><span style="color: rgba(128, 0, 0, 1)">"""</span>

<span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> 1. å°markdownææ¬åå¥mdææ¡£</span>
markdown_path = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">input.md</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">
with open(markdown_path, </span><span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(128, 0, 0, 1)">w</span><span style="color: rgba(128, 0, 0, 1)">'</span>, encoding=<span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(128, 0, 0, 1)">utf-8</span><span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(0, 0, 0, 1)">) as f:
    f.write(markdown_text)

</span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> 2. åå»ºDocumentå¯¹è±¡</span>
doc =<span style="color: rgba(0, 0, 0, 1)"> Document()

</span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> 3. å è½½mdææ¡£</span>
<span style="color: rgba(0, 0, 0, 1)">doc.LoadFromFile(markdown_path, FileFormat.Markdown)

</span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> 4. ä¿å­ä¸ºWordææ¡£ï¼æ¯æ.docå.docxæ ¼å¼ï¼</span>
output_path = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">Markdownè½¬Word.docx</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">
doc.SaveToFile(output_path, FileFormat.Docx)

</span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> 5. éæ¾èµæº</span>
<span style="color: rgba(0, 0, 0, 1)">doc.Close()

</span><span style="color: rgba(0, 0, 255, 1)">print</span>(f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">è½¬æ¢å®æï¼Wordææ¡£å·²ä¿å­è³ï¼{output_path}</span><span style="color: rgba(128, 0, 0, 1)">"</span>)</pre>
</div>
<p>&nbsp;</p>
<h3 id="5" class="h5" data-heading="true">åºæ¯2ï¼è¯»å Markdown æä»¶è½¬æ¢ä¸º Word</h3>
<p class="p">éç¨äºå·²æ.mdæä»¶çåºæ¯ï¼å¦<code class="codespan">test.md</code>ï¼ï¼ä»£ç æ´ç®æ´ï¼</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">from</span> spire.doc <span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> Document
</span><span style="color: rgba(0, 0, 255, 1)">from</span> spire.doc <span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> FileFormat

</span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> 1. åå»ºDocumentå¯¹è±¡</span>
doc =<span style="color: rgba(0, 0, 0, 1)"> Document()

</span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> 2. ç´æ¥å è½½Markdownæä»¶ï¼æå®æä»¶è·¯å¾ï¼</span>
markdown_file_path = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">test.md</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">
doc.LoadFromFile(markdown_file_path, FileFormat.Markdown)

</span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> 3. ä¿å­ä¸ºWordææ¡£</span>
output_path = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">Markdownè½¬Word.docx</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">
doc.SaveToFile(output_path, FileFormat.Docx)

</span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> 4. éæ¾èµæº</span>
<span style="color: rgba(0, 0, 0, 1)">doc.Close()

</span><span style="color: rgba(0, 0, 255, 1)">print</span>(f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">æä»¶è½¬æ¢å®æï¼è·¯å¾ï¼{output_path}</span><span style="color: rgba(128, 0, 0, 1)">"</span>)</pre>
</div>
<p>&nbsp;</p>
<h5 id="6" class="h5" data-heading="true">ä»£ç å³é®è¯´æï¼</h5>
<ul class="ul">
<li class="listitem"><code class="codespan">Document()</code>ï¼åå»ºä¸ä¸ªç©ºç Word ææ¡£å¯¹è±¡ï¼æ¯æææä½çæ ¸å¿è½½ä½ï¼</li>
<li class="listitem"><code class="codespan">LoadFromFile()</code>ï¼å è½½ Markdown æä»¶ï¼ç¬¬äºä¸ªåæ°&nbsp;<code class="codespan">FileFormat.Markdown</code>&nbsp;æå®è§£ææ ¼å¼ï¼</li>
<li class="listitem"><code class="codespan">SaveToFile()</code>ï¼æ¥æ¶è¾åºè·¯å¾åæä»¶æ ¼å¼ï¼<code class="codespan">FileFormat.Docx</code>/<code class="codespan">FileFormat.Doc</code>ï¼ï¼å®æä¿å­ï¼</li>
<li class="listitem"><code class="codespan">Close()</code>ï¼éæ¾ææ¡£èµæºï¼é¿ååå­å ç¨ã</li>
</ul>
<hr>
<p>&nbsp;</p>
<h2 id="7" class="h4" data-heading="true">ä¸ãæ¹éè½¬æ¢å¤ä¸ª Markdown æä»¶</h2>
<p class="p">Free Spire.Doc for Python æ¯ææ¹éè½¬æ¢ä¸ä¸ªæä»¶å¤¹ä¸­çå¤ä¸ª Markdown ææ¡£ã</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> os
</span><span style="color: rgba(0, 0, 255, 1)">from</span> spire.doc <span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> Document
</span><span style="color: rgba(0, 0, 255, 1)">from</span> spire.doc <span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> FileFormat

</span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> 1. å®ä¹Markdownæä»¶æå¨æä»¶å¤¹åè¾åºæä»¶å¤¹</span>
md_folder = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">./markdown_files</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">
output_folder </span>= <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">./word_files</span><span style="color: rgba(128, 0, 0, 1)">"</span>

<span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> 2. åå»ºè¾åºæä»¶å¤¹ï¼è¥ä¸å­å¨ï¼</span>
<span style="color: rgba(0, 0, 255, 1)">if</span> <span style="color: rgba(0, 0, 255, 1)">not</span><span style="color: rgba(0, 0, 0, 1)"> os.path.exists(output_folder):
    os.makedirs(output_folder)

</span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> 3. éåæä»¶å¤¹ä¸­çææ.mdæä»¶</span>
<span style="color: rgba(0, 0, 255, 1)">for</span> filename <span style="color: rgba(0, 0, 255, 1)">in</span><span style="color: rgba(0, 0, 0, 1)"> os.listdir(md_folder):
    </span><span style="color: rgba(0, 0, 255, 1)">if</span> filename.endswith(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">.md</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">):
        </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> æ¼æ¥æä»¶è·¯å¾</span>
        md_path =<span style="color: rgba(0, 0, 0, 1)"> os.path.join(md_folder, filename)
        </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> çæè¾åºWordæä»¶åï¼æ¿æ¢åç¼ä¸º.docxï¼</span>
        output_filename = os.path.splitext(filename)[0] + <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">.docx</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">
        output_path </span>=<span style="color: rgba(0, 0, 0, 1)"> os.path.join(output_folder, output_filename)

        </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> 4. è½¬æ¢é»è¾</span>
        doc =<span style="color: rgba(0, 0, 0, 1)"> Document()
        doc.LoadFromFile(md_path, FileFormat.Markdown)
        doc.SaveToFile(output_path, FileFormat.Docx)
        doc.Close()

        </span><span style="color: rgba(0, 0, 255, 1)">print</span>(f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">å·²è½¬æ¢ï¼{filename} -&gt; {output_filename}</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)

</span><span style="color: rgba(0, 0, 255, 1)">print</span>(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ææMarkdownæä»¶æ¹éè½¬æ¢å®æï¼</span><span style="color: rgba(128, 0, 0, 1)">"</span>)</pre>
</div>
<p>&nbsp;</p>
<hr>
<p>&nbsp;</p>
<h2 id="8" class="h4" data-heading="true">å¸¸è§é®é¢ä¸æ³¨æäºé¡¹</h2>
<ol class="ol">
<li class="listitem"><strong class="strong">æ ¼å¼å¼å®¹é®é¢</strong>ï¼é¨åå°ä¼ Markdown è¯­æ³ï¼å¦ Mermaid æµç¨å¾ãLaTeX å¬å¼ï¼æä¸æ¯æï¼è½¬æ¢åå¯è½æ¾ç¤ºå¼å¸¸ï¼å»ºè®®æåç®åè¿ç±»åå®¹ï¼</li>
<li class="listitem"><strong class="strong">ç¼ç é®é¢</strong>ï¼è¥ Markdown æä»¶å«ä¸­æï¼å»ºè®®ä¿å­ä¸º UTF-8 ç¼ç ï¼é¿åè½¬æ¢ååºç°ä¹±ç ï¼</li>
<li class="listitem"><strong class="strong">åè´¹çéå¶</strong>ï¼Free Spire.Doc for Python åè´¹çå¯¹ææ¡£é¡µæ°æéå¶ï¼æ»¡è¶³æ¥å¸¸è½»éä½¿ç¨ã</li>
</ol><hr>
<h4 id="9" class="h4" data-heading="true">&nbsp;</h4>
<p class="p">éè¿æ¬æä»ç»çæ¹æ³ï¼æä»¬å¯ä»¥éè¿å è¡ Python ä»£ç å®ç° Markdown è½¬ Word ææ¡£ï¼åæ¶æ¯ææ¹éå¤çç­æ©å±åè½ï¼å®ç¾ééæ¥å¸¸åå¬ãææ¡£äº¤ä»ç­åºæ¯ãç¸æ¯å¶ä»è½¬æ¢å·¥å·ï¼Free Spire.Doc æ éä¾èµç¬¬ä¸æ¹æå¡ï¼æ¬å°è¿è¡æ´å®å¨ï¼ä¸ Python æ¥å£åå¥½ï¼æ°ææä¸æã</p>
</div>
<div class="clear"></div>

            </div>
            <div class="itemdesc">
                åè¡¨äº 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-26 12:01">2026-01-26 12:00</span>&nbsp;
<a href="https://www.cnblogs.com/jazz-z">LAYONTHEGROUND</a>&nbsp;
éè¯»(<span id="post_view_count">205</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19532573);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19532573', targetLink: 'https://www.cnblogs.com/jazz-z/p/19532573', title: 'å¦ä½ç¨ Python å° Markdown è½¬æ¢ä¸º Word ææ¡£' })">ä¸¾æ¥</a>

            </div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ å¦ä½æ­£ç¡®ç DDD ]]></title>
    <link>https://www.cnblogs.com/xiaozhuang/p/19532510</link>
    <guid>20eea424c359fc1dd7134bfd3a21b17d</guid>
    <description>
    <![CDATA[ 
	<h1 class="postTitle"><a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/xiaozhuang/p/19532510" title="åå¸äº 2026-01-26 11:51">
    <span role="heading" aria-level="2">å¦ä½æ­£ç¡®ç DDD</span>
    

</a>
</h1>
	<div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p data-path-to-node="0">å¨æ¶æè®¾è®¡é¢åï¼DDDï¼é¢åé©±å¨è®¾è®¡ï¼è¢«è®¨è®ºå¾æå¤ï¼ä¹è¢«è¯¯è§£å¾ææ·±ãå¾å¤å¬å¸æè°çâå®æ¹æå¯¼æä»¶âå¶å®æ¯å¨åè¾åè¾ãå¦æä¸çº æ­£è¿äºæ ¹æºä¸çéè¯¯ï¼æè°çæ¶æä¼ååªè½æ¯ç©ºä¸­æ¥¼éã</p>
<p data-path-to-node="6">ä»¥ä¸æ¯å¯¹å½åè¡ä¸åãçè³æ¯æäºå¤§åæå¯¼æä»¶ä¸­å¸åéè¯¯åæ³çæ·±åº¦æ¹å¤ã</p>
<hr data-path-to-node="7">
<h2 data-path-to-node="8">ä¸ã æ¹å¤ï¼æå¯¼æä»¶å»ºè®®âä¸ä½¿ç¨é¢åæå¡â</h2>
<p data-path-to-node="9"><strong data-path-to-node="9" data-index-in-node="0">ãç°ç¶æ¹å¤ã</strong>ï¼å¾å¤å¬å¸è¿·ä¿¡âç»å¯¹åè¡æ¨¡åâï¼è¦æ±é»è¾å¿é¡»å¨åå¨é¢åå®ä½ä¸­ãç¶èï¼ç°å®ä¸­å¤§éä¸å¡æ¶å<strong data-path-to-node="9" data-index-in-node="49">åé¢ååå¤ä¸ªå®ä½çå¯¹æ¯ä¸å³èæ ¡éª</strong>ï¼å¹¶éè·¨é¢ååä½ï¼ãå ä¸ºé»è¾å¨åä¸ªå®ä½éå¡ä¸è¿å»ï¼èæå¯¼æä»¶åç¦ç¨äºé¢åæå¡ï¼ç¨åºåè¢«è¿«å°æ ¸å¿ä¸å¡è§åâå·æ¸¡âå°<strong data-path-to-node="9" data-index-in-node="121">åºç¨å±</strong>ã</p>
<p data-path-to-node="10"><strong data-path-to-node="10" data-index-in-node="0">ãæ­£ç¡®æ¹å¼ã</strong>ï¼<strong data-path-to-node="10" data-index-in-node="7">é¢åæå¡æ¯é»è¾çææ¥å®ã</strong> å¡æ¯æ¶åæ¬é¢ååå¤å®ä½åä½ãä¸å¡ä¸»é®æ¥éãè§åéªè¯ï¼å¿é¡»ç±é¢åæå¡æ¿è½½ãå®æ¯é¢åå±å¯¹å¤çå¯ä¸é»è¾å¥å£ï¼å®ä½é¢åæ ¸å¿é»è¾ã</p>
<hr data-path-to-node="11">
<h2 data-path-to-node="12">äºã æ¹å¤ï¼å¨åºç¨å±å å¥âå¬å±æ¹æ³ç®å½â</h2>
<p data-path-to-node="13"><strong data-path-to-node="13" data-index-in-node="0">ãç°ç¶æ¹å¤ã</strong>ï¼ç±äºé¢åé»è¾è¢«é©±éå°äºåºç¨å±ï¼ä¸ºäºå¤ç¨ï¼å¼åèåªè½å¨åºç¨å±æä¸ä¸ª <code data-path-to-node="13" data-index-in-node="40">Common</code> æ <code data-path-to-node="13" data-index-in-node="49">Util</code>ãè¿æ¬è´¨ä¸æ¯ç±äºé¢åé»è¾æ æ³å½ä½èå¯¼è´çâæ¶ææµäº§âã</p>
<p data-path-to-node="14"><strong data-path-to-node="14" data-index-in-node="0">ãæ­£ç¡®æ¹å¼ã</strong>ï¼<strong data-path-to-node="14" data-index-in-node="7">ä¸å¡é»è¾å¿é¡»åå½é¢åã</strong> ä»»ä½æ¶åè§åçå¤ç¨ï¼å¿é¡»æ²æ·å¨åèªçé¢åæå¡ä¸­ãåºç¨å±åªè´è´£è°åº¦æµç¨ï¼ç»ä¸è´è´£å­å¨ä¸å¡è§åã</p>
<hr data-path-to-node="15">
<h2 data-path-to-node="16">ä¸ã æ¹å¤ï¼æå¯¼æä»¶æç¡®âä¸ä½¿ç¨èåâ</h2>
<p data-path-to-node="17"><strong data-path-to-node="17" data-index-in-node="0">ãç°ç¶æ¹å¤ã</strong>ï¼æäºæå¯¼ææ¡£ä¸»å¼ å¹³éºå®ä½ãæ²¡æèåï¼å®ä½å°±åæ£æ²ï¼åºç¨å±å¯ä»¥éæç»è¿ä¸å¡è§åä¿®æ¹å®ä½ç¶æï¼å¯¼è´ä¸è´æ§é²çº¿å¨é¢å´©æºã</p>
<p data-path-to-node="18"><strong data-path-to-node="18" data-index-in-node="0">ãæ­£ç¡®æ¹å¼ã</strong>ï¼<strong data-path-to-node="18" data-index-in-node="7">æ¯ä¸ä¸ªé¢åå¿é¡»æ¯ä¸ä¸ªèåã</strong> èåæ ¹æ¯å¯ä¸çå¥å£ãåªæéè¿èåæ ¹ï¼æè½ä¿è¯ä¸å¡è§åï¼ä¸åéï¼å¨ä»»ä½æ¶åé½æ¯ææçãèåä¸æ¯è´æï¼èæ¯ä¿æ¤ä¸å¡é»è¾ççç²ã</p>
<hr data-path-to-node="19">
<h2 data-path-to-node="20">åã æ¹å¤ï¼å¨åºç¨å±å®ä¹å¤é¨è°ç¨é²èæ¥å£</h2>
<p data-path-to-node="21"><strong data-path-to-node="21" data-index-in-node="0">ãç°ç¶æ¹å¤ã</strong>ï¼ææ¡£å»ºè®®å¨åºç¨å±å®ä¹é²èæ¥å£ï¼è¿ä¼å¯¼è´<strong data-path-to-node="21" data-index-in-node="26">åºç¡æå¡ååä¾èµåºç¨å±</strong>ï¼é æä¸¥éçä¾èµç¯åé»è¾æ±¡æã</p>
<p data-path-to-node="22"><strong data-path-to-node="22" data-index-in-node="0">ãæ­£ç¡®æ¹å¼ã</strong>ï¼<strong data-path-to-node="22" data-index-in-node="7">æ°å»ºé¢åå¯¹è±¡ï¼å¨é¢åå±å®ä¹æ¥å£ã</strong> åºè¯¥å¨é¢åå±åå»ºæ¥å£å¥çº¦ï¼ç±åºç¡æ¶æå±ï¼Infrastructureï¼å»å®ç°ç»èãæåï¼å°è¯¥è½åå°è£æ<strong data-path-to-node="22" data-index-in-node="75">é¢åæå¡</strong>ä¾åºç¨å±è°ç¨ãç¡®ä¿é¢åå±èªæï¼åºç¡æ¶æå±åªè´è´£âæä»¶å¼âå®ç°ã</p>
<hr data-path-to-node="23">
<h2 data-path-to-node="24">äºã æ¹å¤ï¼é¢åæå¡è°ç¨å¶å®é¢åçä»å¨</h2>
<p data-path-to-node="25"><strong data-path-to-node="25" data-index-in-node="0">ãç°ç¶æ¹å¤ã</strong>ï¼å¨è®¢åé¢åç´æ¥æ³¨å¥ç¨æ·é¢åç Repositoryãè¿ç§âè·¨çä¼¸ææ®µâè®©é¢åè¾¹çç¬é´æ¶å¤±ï¼ä¸¤ä¸ªé¢åå¨ç©çå­å¨å±é¢æ­»æ­»æç»ï¼æªæ¥æ ¹æ¬æ æ³æåã</p>
<p data-path-to-node="26"><strong data-path-to-node="26" data-index-in-node="0">ãæ­£ç¡®æ¹å¼ã</strong>ï¼<strong data-path-to-node="26" data-index-in-node="7">é¢åé´ç»å¯¹é¶æç¥ã</strong> é¢åæå¡åªè½è°ç¨æ¬é¢åçä»å¨ãè·¨é¢åçäº¤äºå¿é¡»ä¸æµ®å°åºç¨å±ï¼ç±åºç¨å±æä»»âå¯¼æ¼âè¿è¡ç¼æã</p>
<hr data-path-to-node="27">
<h2 data-path-to-node="28">å­ã æ¹å¤ï¼æé¢åå¯¹è±¡ç¨æ¥æ¥æ¶é¢åäºä»¶</h2>
<p data-path-to-node="29"><strong data-path-to-node="29" data-index-in-node="0">ãç°ç¶æ¹å¤ã</strong>ï¼è®©å®ä½æé¢åå¯¹è±¡å»çå¬ MQ æ¶æ¯ãè¿ä¸ä»å¼å¥äºææ¯åªé³ï¼æè´å½çæ¯<strong data-path-to-node="29" data-index-in-node="41">è®©é¢åä¹é´å½¢æäºä¾èµ</strong>ãä¸æ¦é¢å A çå¯¹è±¡å»çå¬é¢å B çäºä»¶ï¼é¢å A å°±ä¸åå­¤ç«ï¼å®è¢«è¿«æç¥äºå¤é¨ä¸ççååï¼ç ´åäºé¢åèªæ²»ã</p>
<p data-path-to-node="30"><strong data-path-to-node="30" data-index-in-node="0">ãæ­£ç¡®æ¹å¼ã</strong>ï¼<strong data-path-to-node="30" data-index-in-node="7">åºç¨å±çå¬ï¼é¢åæå¡å¤çã</strong> åºç¨å±è´è´£æ¥æ¶å¤é¨äºä»¶å¹¶å°å¶âç¿»è¯âä¸ºæ¬é¢åè½çè§£çæ®éè¯·æ±ãé¢åå¯¹è±¡åºä¿ææ¸éï¼å®ä¸è¯¥ç¥éâäºä»¶âæ¯ä»åªæ¥çï¼æ´ä¸è¯¥ç¥éå¤é¨é¢åçå­å¨ã</p>
<hr data-path-to-node="31">
<h2 data-path-to-node="32">é¢åå¯¹è±¡è®¾è®¡ååï¼å¨ä¸å¡å°è£ä¸ç»å¯¹éç¦»</h2>
<ol start="1" data-path-to-node="34">
<li>
<p data-path-to-node="34,0,0"><strong data-path-to-node="34,0,0" data-index-in-node="0">é¢åå¿é¡»å°è£æ¬é¢åçææä¸å¡</strong>ï¼éè¿<strong data-path-to-node="34,0,0" data-index-in-node="17">é¢åæå¡</strong>å®ç°ä¸å¡é»è¾çå®å¨é­ç¯ãé¢åå¤å±ï¼åºç¨å±ï¼ä¸éè¦ç¥éé¢ååé¨æ¯å¦ä½å¤å³çã</p>
</li>
<li>
<p data-path-to-node="34,1,0"><strong data-path-to-node="34,1,0" data-index-in-node="0">é¢åä¹é´å¿é¡»ç»å¯¹éç¦»</strong>ï¼é¢åä¹é´è¦è¾¾å°âç©ççº§âçäºä¸æç¥ãå®ä»¬ä¸ç¥éå½¼æ­¤çå­å¨ï¼æ´ä¸è½ç´æ¥éä¿¡ã</p>
</li>
<li>
<p data-path-to-node="34,2,0"><strong data-path-to-node="34,2,0" data-index-in-node="0">åºç¨å±æ¯å¯ä¸çå¯¼æ¼</strong>ï¼åªæåºç¨å±ææèµæ ¼ç¼æåä¸ªé¢åãåºç¨å±ææ¥ A é¢åå¤å³ãB é¢åæ§è¡ï¼èé¢åæ¬èº«åªä¸æ³¨äºèªå·±ã</p>
</li>
</ol><hr data-path-to-node="35">
<h2 data-path-to-node="36">æ»ç»ï¼æ­£ç¡® DDD çæ åååå</h2>
<ul data-path-to-node="37">
<li>
<p data-path-to-node="37,0,0"><strong data-path-to-node="37,0,0" data-index-in-node="0">1-1-N æ¨¡ç»ç»æ</strong>ï¼<strong data-path-to-node="37,0,0" data-index-in-node="11">1 ä¸ªä»å¨æ¥å£ã1 ä¸ªé¢åæå¡ãN ä¸ªå®ä½ï¼ææ 1 ä¸ªèåï¼</strong>ã</p>
</li>
<li>
<p data-path-to-node="37,1,0"><strong data-path-to-node="37,1,0" data-index-in-node="0">å¥çº¦èªæ</strong>ï¼æ¥å£å®ä¹å¨é¢åå±ï¼æç»ååä¾èµã</p>
</li>
<li>
<p data-path-to-node="37,2,0"><strong data-path-to-node="37,2,0" data-index-in-node="0">ç©ççº§éç¦»</strong>ï¼é¢åé´é¶æç¥ï¼é»è¾å¨å°è£ï¼ç±åºç¨å±ç»ä¸ç¼æã</p>
</li>
<li>
<p data-path-to-node="37,3,0"><strong data-path-to-node="37,3,0" data-index-in-node="0">é¦éå³æ­ï¼Fail-fastï¼</strong>ï¼é¢ååééç´æ¥æåºä¸å¡å¼å¸¸ã</p>
</li>
</ul>
<p data-path-to-node="38"><strong data-path-to-node="38" data-index-in-node="0">åªææ­£ç¡®ç DDDï¼æè½æ­£ç¡®çâå¾®âæå¡ã</strong></p>
<p data-path-to-node="39">å¾®æå¡ä¸æ¯æåºæ¥çï¼èæ¯é¢åè¾¹çæ¸æ°åèªç¶âé¿âåºæ¥çã</p>
<hr data-path-to-node="40">
<p data-path-to-node="41"><strong data-path-to-node="41" data-index-in-node="0">åä¸»ç»è¯­</strong>ï¼ æ¶æçä¼éæ¥èªäºå¯¹é¢åè¾¹ççæç«¯åå¶ãé£äºè¦æ±ä½ âç¦ç¨é¢åæå¡âãâå¹³éºå®ä½âçæå¯¼æä»¶ï¼å¶å®æ¯å¨æ¯æä½ çæ¶æãæç»èä¼ªç DDDï¼å®ä½é¢åå±çå°ä¸¥ã</p>
</div>
<div class="clear"></div>

	<div class="postDesc">posted on 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-26 11:52">2026-01-26 11:51</span>&nbsp;
<a href="https://www.cnblogs.com/xiaozhuang">å°åº</a>&nbsp;
éè¯»(<span id="post_view_count">270</span>)&nbsp;
è¯è®º(<span id="post_comment_count">1</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19532510);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19532510', targetLink: 'https://www.cnblogs.com/xiaozhuang/p/19532510', title: 'å¦ä½æ­£ç¡®ç DDD' })">ä¸¾æ¥</a>
</div>
 ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ Envoy å¯è§æµæ§å®æï¼æ¥å¿ãææ ä¸é¾è·¯è¿½è¸ªçå®æ´è½å° ]]></title>
    <link>https://www.cnblogs.com/MrVolleyball/p/19532068</link>
    <guid>b561a3eedf1b86014def4597c106bcc3</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/MrVolleyball/p/19532068" title="åå¸äº 2026-01-26 11:03">
    <span role="heading" aria-level="2">Envoy å¯è§æµæ§å®æï¼æ¥å¿ãææ ä¸é¾è·¯è¿½è¸ªçå®æ´è½å°</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        å¯è§æµæ§ä¸æ¯âè£ä¸ª Prometheus å°±å®äºâï¼èæ¯æ¥å¿ãææ ãé¾è·¯è¿½è¸ªä¸ä½ä¸ä½çç³»ç»å·¥ç¨ãæ¬æç»å Envoy 1.32 å®ééç½®ï¼è¯¦ç»è®²è§£å¦ä½æ¥å¥ Prometheus å Jaegerï¼ä»¥å Envoy Admin æ¥å£å¨è§æµä¸­çä½ç¨ï¼å¸®å©ä½ å¿«éå»ºç«ä¸å¥çæ­£âè½ç¨âç Envoy å¯è§æµæ§æ¹æ¡
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="åè¨">åè¨</h2>
<p>æ¬èè¯¦ç»èä¸ä¸åºäºenvoyçå¯è§æµæ§</p>
<h2 id="æ¥å¿">æ¥å¿</h2>
<p>é¦åæ¯æ¥å¿ï¼éç½®æ¥å¿çæ¹å¼ä¹å¾ç®å</p>
<pre><code>static_resources:
  listeners:
    - name: ingress_listener
      address:
        socket_address:
          address: 0.0.0.0
          port_value: 10000
      filter_chains:
        - filters:
            - name: envoy.filters.network.http_connection_manager
              typed_config:
                "@type": type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
                stat_prefix: ingress_http
                ...
                access_log:
                - name: envoy.access_loggers.stdout
                  typed_config:
                    "@type": type.googleapis.com/envoy.extensions.access_loggers.stream.v3.StdoutAccessLog
                    log_format:
                      text_format: "[%START_TIME%] \"%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%\" %RESPONSE_CODE% %BYTES_SENT% %DURATION% %REQ(X-REQUEST-ID)% \"%REQ(USER-AGENT)%\" \"%REQ(X-FORWARDED-FOR)%\" %UPSTREAM_HOST% %UPSTREAM_CLUSTER% %RESPONSE_FLAGS%\n"

</code></pre>
<ul>
<li>è¯¥éç½®æ¯å°æ¥å¿è¾åºå¨æ§å¶å°ï¼ä¹å¯ä»¥ç´æ¥è¾åºä¸ºæä»¶ï¼ç¶åéè¿å·¥å·ééèµ°<code>path: /var/log/envoy/access.log</code></li>
<li>ä¹å¯ä»¥ç´æ¥å°æ¥å¿è¾åºè³kafkaï¼å¹¶ä¸ææ¯ä¾ééãåªéé4xxã5xxç­é½å¯ä»¥éç½®ï¼è¿éå°±ä¸å¨èµè¿°äº</li>
</ul>
<h2 id="adminç®¡çé¡µé¢">adminç®¡çé¡µé¢</h2>
<p>envoyæé»è®¤çadminé¡µé¢ï¼æ¹ä¾¿æ¥çç»è®¡ä¿¡æ¯ãæå¼æäºåè½çå¼å³ç­</p>
<pre><code>admin:
  address:
    socket_address:
      address: 0.0.0.0
      port_value: 9901

</code></pre>
<p>æå¼9901é¡µé¢ï¼</p>
<p><img alt="watermarked-envoy_ob_1" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1416773/202601/1416773-20260126104707549-713090334.png" class="lazyload"></p>
<p>å¯ä»¥æ¥çç¸å³çç»è®¡ä¿¡æ¯ãä¹å¯ä»¥æå¼æäºå¼å³ï¼åè½è¿æ¯å¾ä¸°å¯ç</p>
<h2 id="mericsæ¥å¥prometheus">mericsæ¥å¥prometheus</h2>
<p>æå¼äºadminä¹åï¼å°±é»è®¤æä¾äºç¸å³çprometheus stats <code>http://10.105.148.194:9901/stats/prometheus</code></p>
<p>è¿æ¶åªéå¨k8séç¾¤å¤å¼ä¸ä¸ªprometheusï¼å¹¶ä¸ééè¯¥envoyå³å¯</p>
<p>prometheus.yml</p>
<pre><code>global:
  scrape_interval: 5s
  evaluation_interval: 5s

rule_files:
  - /etc/prometheus/*.rules

scrape_configs:
  - job_name: 'prometheus'
    static_configs:
    - targets: ['localhost:9090']

  - job_name: "envoy"
    metrics_path: /stats/prometheus
    static_configs:
    - targets: ["10.105.148.194:9901"]

</code></pre>
<pre><code>docker run -d --name prometheus \
  -p 9090:9090 \
  -v ./prometheus.yml:/etc/prometheus/prometheus.yml \
  -v /usr/share/zoneinfo/Asia/Shanghai:/etc/localtime \
  registry.cn-beijing.aliyuncs.com/wilsonchai/prometheus:v3.5.0
</code></pre>
<h2 id="tracesæ¥å¥jaeger">tracesæ¥å¥jaeger</h2>
<p>jaegerçå®è£å¯ä»¥åèè¿éï¼ <a href="https://mp.weixin.qq.com/s/SkoFwwcw84THbGOi7YaKCA" target="_blank" rel="noopener nofollow">opentelemetryå¨é¾è·¯åæ¢--åç¹ä¸jaeger</a></p>
<p>jaegerå¯å¨ä¹åï¼æ¹é ä¸ä¸envoyçéç½®ï¼è¿éè¦ç¹å«æ³¨æï¼ä¸åçæ¬çéç½®ä¸ä¸æ ·ï¼æè¿éenvoyççæ¬æ¯ï¼v1.32</p>
<pre><code>static_resources:
  listeners:
    - name: ingress_listener
      filter_chains:
        - filters:
            - name: envoy.filters.network.http_connection_manager
              typed_config:
                ...

                tracing:

                  provider:
                    name: envoy.tracers.opentelemetry
                    typed_config:
                      "@type": type.googleapis.com/envoy.config.trace.v3.OpenTelemetryConfig
                      service_name: envoy-proxy
                      grpc_service:
                        envoy_grpc:
                          cluster_name: jaeger_otlp_collector
                ...

  clusters:
    ...
    - name: jaeger_otlp_collector
      type: LOGICAL_DNS
      connect_timeout: 5s
      lb_policy: ROUND_ROBIN
      http2_protocol_options: {}

      load_assignment:
        cluster_name: jaeger_otlp_collector
        endpoints:
        - lb_endpoints:
          - endpoint:
              address:
                socket_address:
                  address: 10.22.12.178
                  port_value: 4317
    ...

</code></pre>
<p>ä¿®æ¹å®æä¹åéå¯ä¸envoy</p>
<p>jaegeræåæ¥æ¶å°äºæ¥èªenvoyçtrace</p>
<p><img alt="watermarked-envoy_ob_2" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1416773/202601/1416773-20260126104723157-449422282.png" class="lazyload"></p>
<p><img alt="watermarked-envoy_ob_3" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1416773/202601/1416773-20260126104730130-1387422050.png" class="lazyload"></p>
<p>ç±äºåªå¨envoyéç½®äºtraceï¼æ²¡æååç«¯æå¡èå¨ï¼ææåªæ¾ç¤ºäºenvoyè¿ä¸æ®µçtraceä¿¡æ¯ï¼å¦æè¦èå¨åç«¯ï¼å¯ä»¥åèè¿ä¸ªç³»åçæç« ï¼ <a href="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=Mzk1NzE0MDcwMg==&amp;action=getalbum&amp;album_id=4247181358063419407&amp;scene=126&amp;sessionid=1767595793922#wechat_redirect" target="_blank" rel="noopener nofollow">å¨é¾è·¯çæ§éç½®</a></p>
<h2 id="å°ç»">å°ç»</h2>
<p>è³æ­¤ï¼logsãmetricsãtracesä¸å¤§å¯è§æµçææ å»ºè®¾å®æï¼envoyå¯è§æµæ§çå»ºè®¾ä¹ç»æäº</p>
<h2 id="èç³»æ">èç³»æ</h2>
<ul>
<li>èç³»æï¼åæ·±å¥çäº¤æµ</li>
</ul>
<p><img alt="" width="500" height="200" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1416773/202411/1416773-20241121135740959-1907948957.png#" class="lazyload"></p>
<hr>
<p>è³æ­¤ï¼æ¬æç»æ<br>
å¨ä¸æçå­¦æµï¼æææ±¤æ¼æ°´çï¼è¯·åä½ä¸åèµæ...</p>

</div>
<div id="MySignature" role="contentinfo">
    <p>æ¬ææ¥èªåå®¢å­ï¼ä½èï¼<a href="https://www.cnblogs.com/MrVolleyball/" target="_blank">itæçå</a>ï¼è½¬è½½è¯·æ³¨æåæé¾æ¥ï¼<a href="https://www.cnblogs.com/MrVolleyball/p/19532068" target="_blank">https://www.cnblogs.com/MrVolleyball/p/19532068</a></p>
<div>æ¬æçæå½ä½èååå®¢å­å±æï¼æ¬¢è¿è½¬è½½ï¼ä½æªç»ä½èåæå¿é¡»å¨æç« é¡µé¢ç»åºåæè¿æ¥ï¼å¦åä¿çè¿½ç©¶æ³å¾è´£ä»»çæå©ã </div>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-26 11:04">2026-01-26 11:03</span>&nbsp;
<a href="https://www.cnblogs.com/MrVolleyball">itæçå</a>&nbsp;
éè¯»(<span id="post_view_count">97</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19532068);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19532068', targetLink: 'https://www.cnblogs.com/MrVolleyball/p/19532068', title: 'Envoy å¯è§æµæ§å®æï¼æ¥å¿ãææ ä¸é¾è·¯è¿½è¸ªçå®æ´è½å°' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
        </channel>
        </rss>