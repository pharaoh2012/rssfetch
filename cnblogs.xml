<?xml version="1.0" encoding="UTF-8" ?>
    <rss version="2.0">
    <channel>
        <title><![CDATA[ ä¸»é¡µ - åå®¢å­ ]]></title>
        <link><![CDATA[ https://www.cnblogs.com/ ]]></link>
        <lastBuildDate>2026-02-11T01:54:55.090Z</lastBuildDate>
        <description><![CDATA[
        ä¸»é¡µ - åå®¢å­ RSS
    ]]></description>
        <language>zh-cn</language>
        <item>
    <title><![CDATA[ ä» LangChain å° LangGraph æå»ºå¯æ§ Agent çå·¥ç¨å®è·µ ]]></title>
    <link>https://www.cnblogs.com/bugshare/p/19602679</link>
    <guid>cb414a7a51732a28def99c0b98c984ba</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/bugshare/p/19602679" title="åå¸äº 2026-02-11 09:25">
    <span role="heading" aria-level="2">ä» LangChain å° LangGraph æå»ºå¯æ§ Agent çå·¥ç¨å®è·µ</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>å¨ä¹åçæç« ä¸­ï¼æä»¬æ·±å¥è®²è§£äºå¦ä½ä½¿ç¨ <strong>LangChain + Ollama</strong> æå»ºæ¬å°å¤§æ¨¡åè°ç¨æ¹æ¡ã<br>
ä½æ¯ï¼éçä¸å¡éæ±ä¸æ­å¢é¿ï¼æä»¬åç°ä»ä»è°ç¨æ¨¡åå·²ç»è¿è¿ä¸å¤ââæä»¬å¸ææå»º<strong>å·å¤æ¡ä»¶å¤æ­ãæµç¨æ§å¶ãå·¥å·è°ç¨ä»¥åç¶æè®°å¿çæºè½ Agent</strong>ã</p>
<p>è¿æ¶åï¼LangChain ç <strong><code>create_agent</code></strong> + LangGraph ç <strong>StateGraph</strong> å°±æä¸ºäºçæ­£é¢åå·¥ç¨çå©å¨ã</p>
<p>ä»å¤©ï¼æä»¬å°±æ¥è®²æ¸æ¥ï¼</p>
<blockquote>
<p><strong>ä»ä¹æ¯ LangGraphï¼ä¸ºä»ä¹å®æ¯æå»ºå¯æ§ Agent çæªæ¥ï¼å¦ä½å¨ææ° API ä¸ç¨ create_agent å StateGraph æå»ºæç¶ææºè½ä½ï¼</strong></p>
</blockquote>
<hr>
<h1 id="ä¸ä¸ºä»ä¹è¦ç¨-langgraph-æå»º-agent">ä¸ãä¸ºä»ä¹è¦ç¨ LangGraph æå»º Agentï¼</h1>
<p>å¨ LangChain ææ°çæ¬ä¸­ï¼Agent API å·²ç»å¨é¢åçº§ï¼å®æ¹æ¨èä½¿ç¨ <strong><code>create_agent</code></strong> æå»ºçäº§çº§æºè½ä½ï¼å¹¶åºäº <strong>LangGraph</strong> å¯¹åé¨æµç¨è¿è¡å¾ç»æç¼æã</p>
<blockquote>
<p><strong><code>create_agent</code></strong><br>
æ¯ä¸ä¸ªé«é¶æ¥å£ï¼ç¨äºæå»ºå¾å¼ Agentãå®åé¨ä¾èµ LangGraph æ§è¡å¨ï¼å¨ä¸ä¸ªç¶æå¾ä¸­éæ­¥å®ææ¨¡åæ¨çãå·¥å·è°ç¨ãå³ç­æµè·³è½¬ç­é»è¾ã</p>
</blockquote>
<p>è¿å»æä»¬å¯è½ä½¿ç¨ <strong>Chain + Logic</strong> ç»åæ¥å¤çæµç¨ï¼ä½éçé»è¾å¤æåº¦å¢å ï¼çº¿æ§åæ³å¾é¾ç»´æ¤ãæ©å±åè°è¯ã<br>
è <strong>LangGraph çå¾ç»æ</strong> å¯ä»¥è®©æä»¬ï¼</p>
<ul>
<li>ç¨ <strong>ç¶æï¼stateï¼</strong> è¡¨è¾¾å¨å±å¯¹è¯æä»»å¡ä¿¡æ¯</li>
<li>ç¨ <strong>èç¹ï¼nodesï¼</strong> è¡¨è¾¾æµç¨é»è¾</li>
<li>ç¨ <strong>è¾¹ï¼edgesï¼</strong> è¡¨è¾¾ä¸ååæ¯ä¸æ¡ä»¶</li>
<li>ç¨ <strong>è®°å¿æä»¶</strong> å®ç°ç­æåé¿æè®°å¿</li>
</ul>
<p>è¿ç»åèµ·æ¥ï¼å°±å½¢æäºä¸ä¸ª<strong>å¯æ§ãæç¶ææµç¨çæºè½ Agent</strong>ã</p>
<hr>
<h1 id="äºä»ä¹æ¯-stategraph">äºãä»ä¹æ¯ StateGraphï¼</h1>
<p><strong>StateGraph</strong> æ¯ LangGraph çæ ¸å¿æ½è±¡ï¼å®è¡¨ç¤ºä¸ä¸ª<strong>å·æå¨å±ç¶æåèç¹æµè½¬é»è¾çå¾</strong>ã<br>
æ¯ä¸ªèç¹æ¬è´¨ä¸æ¯ä¸ä¸ªå½æ°ï¼è¿ä¸ªå½æ°ï¼</p>
<ul>
<li>æ¥æ¶å½åå¨å±ç¶æ</li>
<li>è¿åä¿®æ¹åçç¶ææè·³è½¬æä»¤</li>
</ul>
<p>å®éå¸¸éåæâå¤ææµç¨é®é¢âæ å°ä¸ºâå¾ç¶ææºâï¼æ è®ºæ¯å¯¹è¯ãå·¥å·è°ç¨è¿æ¯å¤æ­¥éª¤ä»»å¡ã</p>
<p>ç®ååç StateGraph å·¥ä½æµç¨å¦ä¸ï¼</p>
<pre><code class="language-flow">StateGraph(StateType)
    âââ add_node(name, function)
    âââ add_edge(source, target)
    âââ compile()
        â graph.invoke({state input})
</code></pre>
<p>è§£éä¸ä¸ï¼</p>
<ul>
<li><strong>StateType</strong>ï¼å®ä¹å¨å±ç¶æç»æ</li>
<li><strong>add_node</strong>ï¼å®ä¹èç¹è¡ä¸ºé»è¾</li>
<li><strong>add_edge</strong>ï¼å®ä¹èç¹é´çæµç¨è·³è½¬å³ç³»</li>
</ul>
<hr>
<h1 id="ä¸æ°-apicreate_agent-å¦ä½ä½¿ç¨">ä¸ãæ° APIï¼<code>create_agent</code> å¦ä½ä½¿ç¨ï¼</h1>
<p>ä» LangChain ææ°çæ¬å¼å§ï¼æ§ç <code>create_react_agent</code> å·²è¢«åºå¼ï¼ç»ä¸ä½¿ç¨ <strong><code>create_agent</code></strong>ã</p>
<p>ä¸ä¸ªæç®åçç¤ºä¾ï¼</p>
<pre><code class="language-python">from langchain.agents import create_agent
from langchain_openai import ChatOpenAI

model = ChatOpenAI(
    model="qwen3:8b",
    base_url="http://localhost:11434/v1",
    api_key="your api key",
)

agent = create_agent(
    model=model,
    tools=[],
    system_prompt="ä½ æ¯ä¸ä¸ªæºè½å©æï¼è´è´£å¤çç¨æ·è¯·æ±ã",
)

response = agent.invoke({
    "messages": [{"role": "user", "content": "ä»ä¹æ¯ LangGraphï¼"}]
})
print(response)
</code></pre>
<p>ð éç¹è¯´æï¼</p>
<ul>
<li><code>model</code> å¯ä»¥æ¯ä»»ä½æ¯æå·¥å·è°ç¨çèå¤©æ¨¡å</li>
<li><code>tools</code> æ¯ Agent å¯è°ç¨çå¤é¨è½åï¼å¦æ£ç´¢ãä»£ç æ§è¡ç­ï¼</li>
<li><code>system_prompt</code> æ¯ Agent çåºç¡è§è²æä»¤</li>
</ul>
<p>å®éä¸ï¼<strong><code>create_agent</code> åé¨ä¼æå»ºä¸ä¸ª StateGraph</strong>ï¼å¹¶ææ¨¡å + å·¥å·èç¹ç»åæå¯æ§è¡æµç¨ã</p>
<hr>
<h1 id="åç»å-stategraphæå»ºæ´å¤æçå¾å¼-agent">åãç»å StateGraphï¼æå»ºæ´å¤æçå¾å¼ Agent</h1>
<p>å¦æä½ å¸æå¨ Agent åé¨å®ç°æ´å¤æçæµç¨ï¼å¦è¾å¥æ ¡éªãåæ¯å·¥å·è°ç¨ãç¶æè®°å½ç­ï¼ï¼å¯ä»¥ç´æ¥ä½¿ç¨ <strong>StateGraph</strong>ã</p>
<p>ä¸é¢æ¯ä¸ä¸ªåå«ä¸¤ä¸ªèç¹çç¤ºä¾ï¼éè¿ LLM çæåç­å¹¶è®°å½ç¶æã</p>
<pre><code class="language-python">from typing import TypedDict, Annotated
from langchain_openai import ChatOpenAI
from langgraph.graph import StateGraph, END
from langgraph.graph.message import add_messages
from langchain_core.messages import HumanMessage

# 1. å®ä¹å¨å±ç¶æ
class ChatState(TypedDict):
    messages: Annotated[list, add_messages]

# 2. åå§åæ¨¡å
llm = ChatOpenAI(
    model="qwen3:8b",
    base_url="http://localhost:11434/v1",
    api_key="your api key",
)

# 3. å®ä¹èç¹
def chat_node(state: ChatState):
    response = llm.invoke(state["messages"])
    return {"messages": [response]}

# 4. æå»º StateGraph
graph = StateGraph(ChatState)
graph.add_node("chat", chat_node)
graph.set_entry_point("chat")
graph.add_edge("chat", END)
graph = graph.compile()

# çæå¯è§åå¾
with open("/Users/zhoupb/workspace-ai/atnk-ai/data/demo.png", "wb") as f:
    f.write(graph.get_graph(xray=True).draw_mermaid_png())

# 5. è°ç¨
result = graph.invoke(
    {"messages": [HumanMessage(content="ç¨ä¸å¥è¯ä»ç»ä»ä¹æ¯ LangGraphï¼")]},
)
print(result["messages"][-1].content)
</code></pre>
<p><img alt="demo.png" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3715916/202602/3715916-20260211091806273-1846854862.png" class="lazyload"></p>
<p>å¨è¿ä¸ªä¾å­ä¸­ï¼</p>
<ul>
<li><strong>ChatState</strong>ï¼å¨å±ç¶æç»æ</li>
<li><strong>chat_node</strong>ï¼å¤çæ¨¡åé»è¾çèç¹</li>
<li><strong>edges</strong>ï¼ä»èµ·ç¹ç´æ¥è¿å¥ <code>chat_node</code>ï¼å¹¶æ´æ°æ¶æ¯ç¶æ</li>
</ul>
<p>ä½ å¯ä»¥å¨å¾åä½¿ç¨æ´å¤æçèç¹è¿æ¥åæ¡ä»¶åæ¯ã([docs.langchain.org.cn][2])</p>
<hr>
<h1 id="äºè®°å¿memoryå¦ä½éæ">äºãè®°å¿ï¼Memoryï¼å¦ä½éæï¼</h1>
<p>æºè½ä½çæ ¸å¿è½åä¹ä¸ï¼å°±æ¯<strong>è®°ä½ä¹åçå¯¹è¯ææä½åå²</strong>ã</p>
<p>LangGraph æä¾äºå¼ç®±å³ç¨çç­æè®°å¿æºå¶ï¼åºäº <strong>æ£æ¥ç¹ï¼checkpointï¼</strong> å­å¨ç¶æãä»¥ä¸æ¯ç­æè®°å¿çç¤ºä¾ï¼</p>
<pre><code class="language-python">from langgraph.checkpoint.memory import InMemorySaver

#...çç¥

# ä½¿ç¨æ£æ¥ç¹ä¿å­ç¶æ
checkpointer = InMemorySaver()
graph = graph.compile(checkpointer=checkpointer)

# ä½¿ç¨åä¸ä¸ª thread_idï¼è§¦åâè®°å¿â
config = {"configurable": {"thread_id": "local-chat"}}

# ç¬¬ä¸è½®
result = graph.invoke(
    {"messages": [HumanMessage(content="ç¨ä¸å¥è¯ä»ç»ä»ä¹æ¯ LangGraphï¼")]},
    config=config
)
print(result["messages"][-1].content)
print("-" * 100)

# ç¬¬äºè½®ï¼ä¿çä¸ä¸æï¼
result = graph.invoke(
    {"messages": [HumanMessage(content="ç¨ä¸å¥è¯ä»ç»å®å LangChain çå³ç³»ï¼")]},
    config=config
)
print(result["messages"][-1].content)
</code></pre>
<p>åä¸ä¸ª <strong>thread_id</strong> ä¸çç¶æä¼è¢«æç»­ä¿å­ï¼å®ç°ç­æè®°å¿ï¼éå¸¸éåå¤è½®å¯¹è¯åºæ¯ã</p>
<hr>
<h1 id="å­å·¥ç¨åå»ºè®®å¯æ§å¯è§åä¸é¨ç½²">å­ãå·¥ç¨åå»ºè®®ï¼å¯æ§ãå¯è§åä¸é¨ç½²</h1>
<p>å¨çå®å·¥ç¨åºæ¯ä¸ï¼å¾å¼ Agent çè½åè¿ä¸æ­¢ç¤ºä¾é£ä¹ç®åï¼</p>
<p><img alt="å¾®ä¿¡å¾ç_20260206164353_120_235.png" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3715916/202602/3715916-20260211091806287-1135077377.png" class="lazyload"></p>
<h2 id="1ï¸â£-èªå®ä¹ç¶ææ©å±">1ï¸â£ èªå®ä¹ç¶ææ©å±</h2>
<p>å¯ä»¥å¨ Agent åå®ä¹æ´å¤ç¶æå­æ®µï¼æ¯å¦ç¨æ·åå¥½ãæ§è¡è·¯å¾ãå³ç­æ°æ®ç­ï¼</p>
<pre><code class="language-python">class CustomState(TypedDict):
    messages: list
    user_settings: dict
</code></pre>
<p>è°ç¨ <code>create_agent</code> æ¶ï¼éè¿ <code>state_schema</code> åæ°ä¼ å¥ï¼Agent å°±ä¼èªå¨ç»´æ¤è¿äºå­æ®µã</p>
<hr>
<h2 id="2ï¸â£-éæå·¥å·è½å">2ï¸â£ éæå·¥å·è½å</h2>
<p>Agent å¯ä»¥è°ç¨æ£ç´¢ãä»£ç æ§è¡ãæ°æ®åºæ¥è¯¢ç­å·¥å·ã<br>
å·¥å·å¯ä»¥ä½ä¸ºèç¹ï¼æèç´æ¥ä¼ å¥ <code>tools</code> åè¡¨ï¼ç± Agent å¨æ§è¡è¿ç¨ä¸­è°ç¨ï¼æ¾èå¢å¼ºå®éè½åã</p>
<hr>
<h2 id="3ï¸â£-å¯è§æµä¸è°è¯">3ï¸â£ å¯è§æµä¸è°è¯</h2>
<p>ç»å <strong>LangSmith Trace</strong> ç­å¯è§æµå¹³å°ï¼å¯ä»¥ï¼</p>
<ul>
<li>å¯è§åæ§è¡è·¯å¾</li>
<li>è¿½è¸ªç¶æåå</li>
<li>è°è¯å¤ææµç¨</li>
</ul>
<p>å¤§å¹æé«çäº§ç¯å¢çå¯ç»´æ¤æ§ã</p>
<hr>
<h1 id="ä¸å·¥ç¨åç»èæ»ç»">ä¸ãå·¥ç¨åç»èæ»ç»</h1>
<table>
<thead>
<tr>
<th>ææ¯ç¹</th>
<th>ææ° API</th>
</tr>
</thead>
<tbody>
<tr>
<td>æå»º Agent</td>
<td><code>create_agent()</code>ï¼æ¿ä»£æ§ç <code>create_react_agent</code>ï¼</td>
</tr>
<tr>
<td>ç¶æç®¡ç</td>
<td>ç¨ <code>StateGraph</code> å®ä¹å¨å±ç¶æï¼å¹¶æµè½¬èç¹é»è¾</td>
</tr>
<tr>
<td>è®°å¿</td>
<td>åºäº <code>checkpoint</code> æºå¶å®ç°ç­æè®°å¿</td>
</tr>
<tr>
<td>èªå®ä¹ç¶æ</td>
<td>å¯éè¿ <code>state_schema</code> æ©å±</td>
</tr>
<tr>
<td>å¯æ§æµç¨</td>
<td>ç¨èç¹ + è¾¹ + Command æ§å¶æµç¨</td>
</tr>
</tbody>
</table>
<hr>
<h1 id="å«ç»è¯­ä»é¾å°å¾">å«ãç»è¯­ï¼ä»é¾å°å¾</h1>
<p>å¦æè¯´ä¼ ç» <strong>Chain</strong> æ¯<strong>çº¿æ§çè½åç»å</strong>ï¼é£ä¹ <strong>StateGraph</strong> å°±æ¯<strong>æç¶æçå¨å±æ§å¶æµæº</strong>ï¼<br>
å¦æè¯´ Chain æ¯<strong>å·¥å·é©±å¨æµç¨çæ®µ</strong>ï¼Graph å°±æ¯<strong>å·¥ç¨çº§çæºè½ååå¹³å°</strong>ã</p>
<p>å¨ Agent éæ±è¶æ¥è¶å¤æçä»å¤©ï¼åé  Chain å·²æ æ³åºå¯¹å¤æ­¥éª¤å³ç­ãé»è¾åæ¯åè®°å¿ç»´æ¤ï¼è <strong>LangGraph çå¾å¼è®¾è®¡</strong>æ­£æ¯ä¸ºå¯æ§ Agent èçã</p>
<p>å¦æä½ æ­£å¨åï¼</p>
<ul>
<li>å¤æ­¥å¯¹è¯æºå¨äºº</li>
<li>å¸¦å¤é¨å·¥å·è°ç¨çæºè½ä½</li>
<li>å·æé¿æè®°å¿çåºç¨</li>
<li>éè¦å¯è§åä¸è°è¯ççäº§ç³»ç»</li>
</ul>
<p>é£ä¹ï¼ä» <strong>LangChain å° LangGraph</strong> çåçº§ï¼å°æ¯ä½ <strong>æå¼å¾æå¥çä¸æ¡è·¯çº¿</strong>ã</p>


</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-11 09:25">2026-02-11 09:25</span>&nbsp;
<a href="https://www.cnblogs.com/bugshare">BugShare</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19602679);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19602679', targetLink: 'https://www.cnblogs.com/bugshare/p/19602679', title: 'ä» LangChain å° LangGraph æå»ºå¯æ§ Agent çå·¥ç¨å®è·µ' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ Javaççå¸ç2025å¹´æ»ç» ]]></title>
    <link>https://www.cnblogs.com/toplist/p/19576854</link>
    <guid>075d2331f2dea1a990f3782d0b5d56da</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/toplist/p/19576854" title="åå¸äº 2026-02-11 08:37">
    <span role="heading" aria-level="2">Javaççå¸ç2025å¹´æ»ç»</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>å¤§å®¶å¥½ï¼ææ¯Javaççå¸ï¼è¿åå¹´éå¯äºææ¯åå®¢çæ´æ°ï¼å¨æ¥èååä¸ªæ»ç»å§ã</p>
<p><strong>å³äºæ</strong>ï¼å¤§åæ¶æå¸ï¼æå¢éç®¡çç»éªï¼ç­ç±ææ¯ï¼å¹³æ¶åæ¬¢æèæ»ç»ã</p>
<p><strong>åä½åè¡·</strong>ï¼</p>
<ul>
<li>åå¨å¹³æ¶ï¼å®ææèªå·±çç»éªåæèæ»ç»ä¸æ¥ï¼è½ç»å«äººè®²æ¸æ¥ï¼æç®çççè§£éå½»äº</li>
<li>é»ç¼æ»ç»è¡¨è¾¾è½åï¼é¤äºèªèº«ææ¯è¦è¿ç¡¬ï¼è¿å¾ä¼è¡¨è¾¾åç°ãåæ¸ä¸»æ¬¡ï¼é¿ååºç°åäº90åãä½åªè½è®²åº70åçæåµ</li>
</ul>
<p><strong>æ´æ°æ¢çåå </strong>ï¼å¹³æ¶å·¥ä½å¿ï¼åªè½å¨ä¸ä½æ¶é´æ½ç©ºåä½ï¼åæ¶ä¸ºäºä¿è¯æ¯ç¯ååæç« çè´¨éï¼ä¼å°½å¯è½ç³»ç»æ§å°æ¢³çæç« ä¸»é¢æ¹åï¼æ¥ç¼ºè¡¥æ¼ã<br>
<strong>åºççº§åè´¨</strong>ï¼è¿éå¾ä¸¾å ä¸ªä¾å­æ¥ä½è¯ï¼å¦åæå¹ççå«ç</p>
<ul>
<li>æå ä½åºçç¤¾ç¼è¾èç³»è¿åºä¹¦æåï¼ä½èèå°åä¹¦éè¦èè´¹å¤§éæ¶é´åç²¾åï¼ææ¶æ²¡æè®¡åï¼åªæ³çåæææ¯åå®¢åå¥½</li>
<li>å¨æ¾ç»çdeveloperWorksç½ç«åè¡¨è¿2ç¯æç« ï¼æç¨¿è´¹ï¼ï¼å¶ä¸­ä¸ç¯è¢«CSDNè½¬è½½å°é¦é¡µï¼è¿2ç¯æç« ç®åæ²¡æå¨ä¸ªäººææ¯åå®¢ä¸éå</li>
<li>å¨æ¾ç»å·¥ä½çå¬å¸åä¸è¿ä¹¦ç±çç¼åï¼æå¾ä¹¦ISBNç¼å·ï¼</li>
</ul>
<h1 id="2025å¹´ç»è®¡">2025å¹´ç»è®¡</h1>
<p>ç»è®¡2025å¹´+2026å¹´1æåå¸çæç« ï¼2æ7æ¥ç»è®¡ï¼ï¼</p>
<ul>
<li>æ°å¢éè¯»æ»éï¼å¨ç½è¶è¿4.3ä¸</li>
<li>éè¯»æ»éç¬¬ä¸çæç« ï¼å¨ç½è¶è¿1.1ä¸ï¼<a href="https://www.cnblogs.com/toplist/p/19009976" target="_blank">æ¶æå¸å¿å¤ï¼å®æ¶å¯¹è´¦ä¸ç¦»çº¿å¯¹è´¦</a></li>
<li>ç¹èµæ»éç¬¬ä¸çæç« ï¼å¨ç½66æ¬¡ï¼<a href="https://www.cnblogs.com/toplist/p/19066474" target="_blank">æ¶æå¸å¿å¤ï¼ç¼å­æ´æ°æ¨¡å¼æ»ç»</a></li>
<li>è¯è®ºæ»éç¬¬ä¸çæç« ï¼<a href="https://www.cnblogs.com/toplist/p/19137497" target="_blank">æ¶æå¸å¿å¤ï¼éæµæ¹æ¡éåï¼ä½¿ç¨ç¯ï¼</a></li>
</ul>
<p>å¶å®æç« å¦ä¸ï¼</p>
<ul>
<li><a href="https://www.cnblogs.com/toplist/p/19527704" target="_blank">æ¶æå¸å¿å¤ï¼ç°åº¦æ¹æ¡æ±æ»</a></li>
<li><a href="https://www.cnblogs.com/toplist/p/19350289" target="_blank">æ¶æå¸å¿å¤ï¼åç«¯ç¨åºåéè¦äºè§£çæ°ä»ç¥è¯</a></li>
<li><a href="https://www.cnblogs.com/toplist/p/19166132" target="_blank">æ¶æå¸å¿å¤ï¼éæµæ¹æ¡éåï¼åçç¯ï¼</a></li>
<li><a href="https://www.cnblogs.com/toplist/p/18955480" target="_blank">æ¶æå¸å¿å¤ï¼ä¸å¡æ©å±æ¨¡å¼éå</a></li>
</ul>
<h1 id="æç« ç®å½">æç« ç®å½</h1>
<p>ç´¯è®¡åå¸äº25ç¯æç« ï¼å¯ä»¥åæä»¥ä¸å ç±»ï¼</p>
<h2 id="æ¶ææ¶æå¸å¿å¤ç³»å">æ¶æï¼âæ¶æå¸å¿å¤âç³»å</h2>
<ul>
<li><a href="https://www.cnblogs.com/toplist/p/19527704" target="_blank">æ¶æå¸å¿å¤ï¼ç°åº¦æ¹æ¡æ±æ»</a></li>
<li><a href="https://www.cnblogs.com/toplist/p/19350289" target="_blank">æ¶æå¸å¿å¤ï¼åç«¯ç¨åºåéè¦äºè§£çæ°ä»ç¥è¯</a></li>
<li><a href="https://www.cnblogs.com/toplist/p/19166132" target="_blank">æ¶æå¸å¿å¤ï¼éæµæ¹æ¡éåï¼åçç¯ï¼</a></li>
<li><a href="https://www.cnblogs.com/toplist/p/19137497" target="_blank">æ¶æå¸å¿å¤ï¼éæµæ¹æ¡éåï¼ä½¿ç¨ç¯ï¼</a></li>
<li><a href="https://www.cnblogs.com/toplist/p/19066474" target="_blank">æ¶æå¸å¿å¤ï¼ç¼å­æ´æ°æ¨¡å¼æ»ç»</a></li>
<li><a href="https://www.cnblogs.com/toplist/p/19009976" target="_blank">æ¶æå¸å¿å¤ï¼å®æ¶å¯¹è´¦ä¸ç¦»çº¿å¯¹è´¦</a></li>
<li><a href="https://www.cnblogs.com/toplist/p/18955480" target="_blank">æ¶æå¸å¿å¤ï¼ä¸å¡æ©å±æ¨¡å¼éå</a></li>
<li><a href="https://www.cnblogs.com/toplist/p/16609165.html" target="_blank">åç«¯ç¨åºåçäº§åå·¥å·åé</a></li>
<li><a href="https://www.cnblogs.com/toplist/p/16366857.html" target="_blank">æ¶æå¸å¿å¤ï¼ç³»ç»å®¹éç°ç¶checklist</a></li>
<li><a href="https://www.cnblogs.com/toplist/p/16343200.html" target="_blank">æ¶æå¸å¿å¤ï¼HBaseè¡é®è®¾è®¡ä¸åºç¨</a></li>
<li><a href="https://www.cnblogs.com/toplist/p/16295666.html" target="_blank">æ¶æå¸å¿å¤ï¼å¤ç»´åº¦æ¥è¯¢çæä½³å®è·µ</a></li>
<li><a href="https://www.cnblogs.com/toplist/p/16128352.html" target="_blank">æ¶æå¸å¿å¤ï¼Redisçå ç§éç¾¤æ¹æ¡</a></li>
<li><a href="https://www.cnblogs.com/toplist/p/15941303.html" target="_blank">æ¶æå¸å¿å¤ï¼æ¬å°ç¼å­åçååºç¨</a></li>
<li><a href="https://www.cnblogs.com/toplist/p/15780103.html" target="_blank">æ¶æå¸å¿å¤ï¼ç³»ç»æ§è§£å³å¹ç­é®é¢</a></li>
<li><a href="https://www.cnblogs.com/toplist/p/15659580.html" target="_blank">æ¶æå¸å¿å¤ï¼å¦ä½åå®¹éé¢ä¼°åè°ä¼</a></li>
<li><a href="https://www.cnblogs.com/toplist/p/15449549.html" target="_blank">æ¶æå¸å¿å¤ï¼å·§ç¨Canalå®ç°å¼æ­¥ãè§£è¦çæ¶æ</a></li>
<li><a href="https://www.cnblogs.com/toplist/p/15391534.html" target="_blank">æ¶æå¸å¿å¤ï¼MySQLä¸»ä»å»¶è¿è§£å³åæ³</a></li>
<li><a href="https://www.cnblogs.com/toplist/p/15365460.html" target="_blank">æ¶æå¸å¿å¤ï¼MySQLä¸»ä»åæ­¥åçååºç¨</a></li>
<li><a href="https://www.cnblogs.com/toplist/p/15341529.html" target="_blank">åºç¨å¼åä¸­çå­å¨æ¶æè¿åå²ââä»èµ·æ­¥å°èµ·é£</a></li>
</ul>
<h2 id="java">Java</h2>
<ul>
<li><a href="https://www.cnblogs.com/toplist/p/16513490.html" target="_blank">Javaåå°åçåå®éç¨æ³</a></li>
<li><a href="https://www.cnblogs.com/toplist/p/16032955.html" target="_blank">Spring cacheæºç åæ</a></li>
<li><a href="https://www.cnblogs.com/toplist/p/7747225.html" target="_blank">Spring @Asyncçå¼å¸¸å¤ç</a></li>
<li><a href="https://www.cnblogs.com/toplist/p/7616570.html" target="_blank">Spring Bootåºç¨ä¸­çå¼å¸¸å¤ç</a></li>
<li><a href="https://www.cnblogs.com/toplist/p/7594557.html" target="_blank">Javaå­çº¿ç¨ä¸­çå¼å¸¸å¤çï¼éç¨ï¼</a></li>
</ul>
<h2 id="æ èæ´¾å®æ">æ èæ´¾å®æ</h2>
<p>side projectåºç¨å®æï¼ç®ååªåäºä¸ç¯ï¼è¿æå¾å¤åå®¹å¯åãèä¸ä¸æ­¢æ¯æ èæ´¾ï¼é¨ç½²å¨äºç«¯ä¹å¯ä»¥ã</p>
<ul>
<li><a href="https://www.cnblogs.com/toplist/p/16461605.html" target="_blank">æ èæ´¾å®æï¼å¾®ä¿¡æºå¨äººï¼itchatå®ç°ï¼</a></li>
</ul>
<h1 id="2026å±æ">2026å±æ</h1>
<p>åæä¸ä½æ¶é´åä½ã<br>
åç»­é¤äºç»§ç»­æ´æ°å·²æç³»åï¼è¿ä¼å°è¯æ©åæ°ç³»åï¼æ¯å¦AIåºç¨ãæææçå¼æºé¡¹ç®ãè¸©ååäº«ãèåºææç­ã</p>
<p>è®©æä»¬ä¸èµ·åé¿æä¸»ä¹èï¼æ¢æ¢åå¼ºå§ï¼æ¬¢è¿äº¤æµè®¨è®ºã</p>


</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-11 08:37">2026-02-11 08:37</span>&nbsp;
<a href="https://www.cnblogs.com/toplist">Javaççå¸</a>&nbsp;
éè¯»(<span id="post_view_count">25</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19576854);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19576854', targetLink: 'https://www.cnblogs.com/toplist/p/19576854', title: 'Javaççå¸ç2025å¹´æ»ç»' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ [æè§£LangChainæ§è¡å¼æ]ä»¥Actoræ¨¡åçè§è§æ¥çPregel ]]></title>
    <link>https://www.cnblogs.com/jaydenai/p/19602174/pregel-as-actor-model</link>
    <guid>fc7753cfddfdd10c9d2e2b2578b6c0be</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/jaydenai/p/19602174/pregel-as-actor-model" title="åå¸äº 2026-02-11 07:29">
    <span role="heading" aria-level="2">[æè§£LangChainæ§è¡å¼æ]ä»¥Actoræ¨¡åçè§è§æ¥çPregel</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        ç»è¿è¿äºå¹´çè¬ååå±ï¼å¸é¢ä¸å·²ç»æ¶ç°åºäºå¤ªå¤AI Agentçå¼åå¹³å°ãæ¡æ¶åå·¥å·ï¼ä½æ¯æ¯«æ çé®ï¼å¶ä¸­éå¤§æèé¦æ¨`LangChain`ãå¯è½ä½ å·²ç»ä½¿ç¨LangChainåè¿å¾å¤Agentï¼ä½å¯¹ä½ä¸ºæ§è¡å¼æçPregelæªå¿çæãæ°çæ¬çLangGraphéç¨å¨æ°çè®¾è®¡éåäº`Pregel`ï¼ç®åç¤¾åºåºæ¬ä¸æ²¡æç³»ç»ä»ç»Pregelçèµæï¼æå¸æè¿ä¸ªç³»åçæç« è½å¤å¼¥è¡¥è¿ä¸ç©ºç½ã
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>ç»è¿è¿äºå¹´çè¬ååå±ï¼å¸é¢ä¸å·²ç»æ¶ç°åºäºå¤ªå¤AI Agentçå¼åå¹³å°ãæ¡æ¶åå·¥å·ï¼ä½æ¯æ¯«æ çé®ï¼å¶ä¸­éå¤§æèé¦æ¨<code>LangChain</code>ãå©ç¨<code>LangChain</code>å¼åçAgentå¯ä»¥çææ¯ä¸ä¸ªå·æç¶æçãç±<code>Node</code>å<code>Edge</code>ç»æç<code>æç¯å¾</code>ï¼Circle Graphï¼ ãAgentçåé¨å¾ªç¯è¢« âå±å¼â å¹¶æ å°å°äº <code>LangGraph</code>ç<code>StateGraph</code>ä½ç°çææç»æä¸­ï¼åèç»è¿ç¼è¯çç»æå®éä¸æ¯ä¸ä¸ª<code>Pregel</code>å¯¹è±¡ï¼è¿æ¯ä¸ä¸ªç±NodeåChannelææç<code>Actoræ¨¡å</code>ãæ¢å¥è¯è¯´ï¼Agentæç»æ¯ä»¥ä¸ä¸ªPregelå¯¹è±¡éç¨Actoræ¨¡åçæ¹å¼æ§è¡çï¼æä»¥Pregelææ¯æ´ä¸ªLangChainä½ç³»çæ ¸å¿æå¨ãç±äºæä¾Pregelçæ ¸å¿åºå½åä¸ºâlanggraph.pregelâï¼æä»¬å°è¿ä¸ªæ ¸å¿æ¡æ¶ç§°ä¹ä¸º<code>LangGraph.Pregel</code>ãæ°çæ¬çLangGraphéç¨å¨æ°çè®¾è®¡éåäº<code>Pregel</code>ï¼ç®åç¤¾åºåºæ¬ä¸æ²¡æç³»ç»ä»ç»Pregelçèµæï¼æå¸æè¿ä¸ªç³»åçæç« è½å¤å¼¥è¡¥è¿ä¸ç©ºç½ã</p>
<p>å¨ä¸ä¸ªå¸åçActoræ¨¡åæå»ºçåºç¨ä¸­ï¼é»è¾ååä½ç°ä¸ºä¸ä¸ªä¸ªç¬ç«æ§è¡ç<code>Actorå¯¹è±¡</code>ï¼å®ä»¬éç¨å¼æ­¥çæ¶æ¯éä¿¡æ¹å¼ãPregelä¸çActorå°±æ¯<code>Node</code>ï¼å®ä»¬æ¯åçº¯çç¶ææ å³çåè½æ¨¡åï¼ç¶æç»´æ¤å¨åç§ç±»åç<code>Channel</code>ä¸­ï¼å®ä¸ä»ä»ä¸ºNodeçæ§è¡æä¾è¾å¥å¹¶æ¥æ¶å¶æ§è¡ç»æï¼å®è¿æ¯é©±å¨Nodeæ§è¡æµç¨ä¸­ä¸å¯è·åçå¯¹è±¡ã</p>
<h1 id="ä¸agentstategraphåpregelçå³ç³»">ä¸ãAgentãStateGraphåPregelçå³ç³»</h1>
<p>å¯è½å¾å¤å¤©å¤©ä½¿ç¨LangChainç¼åAgentçäººå´æ²¡ææ¥è§¦è¿Pregelï¼ä½ä¸ºä»ä¹è¯´Pregelå´æ¯æ´ä¸ªLangChainæ´ä¸ªä½ç³»æä¸ºæ ¸å¿çåé¨åå¢ï¼æ¥ä¸æ¥æä»¬éè¿å¦ä¸çæ¼ç¤ºç¨åºæ¥è¯´æAgentãStateGraphåPregelä¸èä¹é´çå³ç³»ãè¿æ¯ä¸ä¸ªç±ä¸¤ä¸ªNodeç»æçå¸®å©æä»¬çæç¬è¯çAgentï¼æä»¬å¨è°ç¨Agentçæ¶åæå®ç¬è¯çä¸»é¢ï¼ç¬¬ä¸ä¸ªNodeä¼å©ç¨LLMçæä¸ä¸ªåºäºè¯¥ä¸»é¢çç¬è¯ãæ¥ä¸æ¥ä¼è¯ä¼°çæçè¿ä¸ªç¬è¯ï¼æ ¹æ®æ¯å¦å¯ç¬è¿å âgoodâ å âbadâ ï¼å¦æè¯ä¼°å¤±è´¥ä¼è°ç¨å¦ä¸ä¸ªNodeçæä¸ä¸ªå·ææ´é«è´¨éçç¬è¯ã</p>
<p>JokeAgentStateæ¯æ¿è½½äºè´¯ç©¿æ´ä¸ª âç¬è¯çäº§çº¿â çç¶æï¼åæ¬å¾äº§ç¬è¯çä¸»é¢ãç¬¬ä¸ä¸ªçæç¬è¯ãè¯ä¼°çç»æåçæçç¬¬äºä¸ªç¬è¯ãä¸¤ä¸ªçäº§ç¬è¯çNodeï¼generate_jokeå regenerate_jokeï¼é½ä½¿ç¨åä¸ä¸ªåºäºgpt-5.2-chatçæ¨¡åãæä»¬ä¸ç´æ¥åå»ºAgentï¼èæ¯å©ç¨StateGraphä»¥ âBuilderæ¨¡å¼â åå»ºå®ã</p>
<pre><code class="language-python">from langchain_openai import ChatOpenAI
from typing import TypedDict, Literal
from langgraph.graph import StateGraph, START, END
from langgraph.pregel import Pregel

class JokeAgentState(TypedDict):
    topic: str
    review: Literal["good", "bad"]
    init_joke: int
    improved_joke: str

model = ChatOpenAI(
    model="gpt-5.2-chat",
    base_url="URL for your own deployed model",
    api_key="your own api key"
)

def generate_joke(state: JokeAgentState):
    """
    è°ç¨LLMçæä¸ä¸ªå³äºæå®ä¸»é¢çç¬è¯ã
    """
    result = model.invoke(f"åä¸ä¸ªå³äº{state['topic']}çç¬è¯ï¼è¦æ±å¨50å­ä»¥å")
    return {"init_joke": result.content}

def regenerate_joke(state: JokeAgentState):
    """
    åç¬è¯ä¸å¥½ç¬ï¼éæ°çæä¸ä¸ªç¬è¯ã
    """
    result = model.invoke(f"ä¹åçæçç¬è¯æ²¡ææï¼è¯·éæ°ä¸ä¸ª{state['topic']}çç¬è¯ï¼åç¬è¯æ¯ï¼{state['init_joke']}")
    return {"improved_joke": result.content}

builder = (
    StateGraph(JokeAgentState)
    .add_node("generate_joke", generate_joke)
    .add_node("regenerate_joke", regenerate_joke)
)

builder.add_edge(START, "generate_joke")
builder.add_edge("regenerate_joke", END)
builder.add_conditional_edges(
    "generate_joke", lambda _: "bad", {"good": END, "bad": "regenerate_joke"}
)

agent: Pregel = builder.compile()
result: JokeAgentState = agent.invoke({"topic": "ç«"})
print(result["init_joke"])
print(result["improved_joke"])
</code></pre>
<p>å·ä½æ¥è¯´ï¼æä»¬éå¯¹ç¶æ ç±»å<code>JokeAgentState</code>åå»ºåº<code>StateGraph</code>å¯¹è±¡ï¼å¹¶éè¿è°ç¨<code>add_node</code>æ¹æ³å°ä¸¤ä¸ªå½æ°è½¬æ¢æå¯¹åºçNodeè¿è¡æ³¨åãé¡¾åæä¹ï¼<code>StateGraph</code>ä½ç°ä¸ºä¸ä¸ªç±<code>Node</code>å<code>Edge</code>ç»æçç¶æå¾ï¼æ¥ä¸æ¥æä»¬è°ç¨<code>add_edge</code>æ·»å äºä¸¤ä¸ªâç¡®å®âçEdgeï¼å³å¼å§èç¹å°âgenerate_jokeâåâregenerate_jokeâå°ç»æ­¢èç¹çEdgeãç±äºæ§è¡âgenerate_jokeâåæ¯ç´æ¥ç»æè¿æ¯ç»§ç»­æ§è¡âregenerate_jokeâï¼ä¾èµäºè¯ä¼°çç»æï¼æä»¥å®ä»¬ä¹é´æ¶åä¸ç»âConditional Edgeâ,æä»¬éè¿è°ç¨add_conditional_edgesæ¹æ³æ¥æ·»å å®ä»¬ãä¸ºäºèµ°å®å¨ç¨ï¼æä»¬æ¯ä½¿æ¨¡æè¯ä¼°çLambdaè¡¨è¾¾å¼ç´æ¥è¿åâbadâãæç»çStateGraphå¯¹åºçç¶æå¾å·æå¦ä¸çç»æï¼å®éä¸ä¸é¢è¿å¼ å¾å°±æ¯ç±StateGraphå¯¹è±¡ç´æ¥çæçï¼ç±æ­¤å¯è§åºäºStateGraphçç¼ç¨å®å¨å¯ä»¥ âæå¾æ½å·¥â ï¼è¿å¯ä»¥æç»çæä½ç°æ½å·¥ææçå¾ãä»£ç åå¾å·æå®ç¾çä¸è´æ§ï¼å¾å³ä»£ç ï¼ä»£ç å³å¾ã</p>
<p><img alt="Screenshot 2026-02-01 151834.png" loading="lazy" data-src="https://upload-images.jianshu.io/upload_images/30993788-5fcb56f5d5b01bbb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" class="lazyload"></p>
<p>StateGraphä¸æ¯Agentï¼ä»ä»æ¯æå»ºAgentçBuilderï¼æä»¥æä»¬è°ç¨StateGraphå¯¹è±¡çcompileæ¹æ³å°Agent âç¼è¯â åºæ¥ãç¶åæä»¬ä»¥å­å¸å½¢å¼æå®ç¬è¯çä¸»é¢ï¼ âç«â ï¼ï¼è°ç¨Agentå¯¹è±¡çinvokeæ¹æ³å¼å¯è¿ä¸ªç¬è¯çäº§çº¿ï¼å¾å°çç»æå°±æ¯ä½ä¸ºå¨å±ç¶æçJokeAgentStateå¯¹è±¡ï¼æä»¬å°ä¸¤æ¬¡çæçç¬è¯æå°åºæ¥ï¼å°±æ¯å¦ä¸æç¤ºçç»æã</p>
<pre><code class="language-python">æå®¶ç«åè¥å¤±è´¥ï¼å ä¸ºæ¯æ¬¡è·æ­¥é½è¿½çæ¿åç¬åå¤å®µã

å¥½ï¼é£ææ¢ä¸ä¸ªæ´ææ¢çï¼

æå®¶ç«æè¿å¼å§å¥æ³ï¼

æ¯å¤©å¯¹çå¢ååå°æ¶ã

æä»¥ä¸ºå®å¨ä¿®è¡ï¼

ç»æå®åªæ¯å¨ç­å¢éçâçä¸è§çå°è«âåºæ¥ã
</code></pre>
<p>ä»ç¼è¯StateGraphçé£å¥ä»£ç å¯ä»¥çåºï¼ä½ä¸ºç¼è¯ç»æçAgentå°±æ¯ä¸ä¸ªPregelå¯¹è±¡ï¼åèä»£è¡¨äºAgentè¿ä¸ªâæ§è¡ä½âï¼æä»¥æä»¬æè¯´Pregelæ¯æ´ä¸ªLangChainçæ§è¡å¼æãStateGraphæ¯ä¸å¼ å¾ï¼Graphï¼ä¸æå¾è®ºè¯­å¢ä¸­çâå¾âï¼ï¼ä½æ¯Pregelå´æ¯ä¸ä¸ªActoræ¨¡åãæä»¬éç¨å¾çæ¹å¼æ¥æå»ºAgentï¼ä»¥ä¸ºå ä¸ºå¾æ¯æ´æäº âäººèâ çè§£çå½¢å¼ï¼è¿æ¯ä½¿çAgentç¼ç¨åå¾å¾ç®åï¼æä»¬å°å®ç¼è¯æåºäºActoræ¨¡åçæ§è¡ä½ï¼æ¯å ä¸ºè¿æ¯ âçµèâ æ´æäºå¤ççå½¢å¼ï¼ä½¿å¾æ§è¡èµ·æ¥æ´å å¿«æ·å¯é ã</p>
<p>ä»è¿ä¸ªæä¹ä¸å°ï¼StateGraphåPregelé½æ¯Agentï¼å®ä»¬æ¯åä¸äºç©å¨ä¸åè§è§çè¡¨ç°å½¢å¼ãä¹å¯ä»¥è¿æ ·çï¼StateGraphå¯¹åºçå¾æ¯Agentçæ¦å¿µè§å¾ï¼èPregelå¯¹åºçActoræ¨¡åæ¯Agentçæ§è¡è§å¾ãè½ç¶åçº¯çç¼ç¨å·¥ä½ç¡®å®å¯ä»¥ä¸ç¨è¿å¤å°æ¶åPregelï¼ä½æ¯å¦ææ³å¯¹LangChainè¿ä¸å¹³å°å·ææ·±å»å°è®¤ç¥ï¼æè§å¾å½»åºå°ææ¸æ¥Pregelæ¯å¾ææä¹çãç®åä¹æ²¡æå¤å°ç³»ç»ä»ç»Pregelçèµæï¼æå¸æè¿ä¸ªç³»åçæç« è½å¤å¼¥è¡¥è¿ä¸ç©ºç½ã</p>
<h1 id="äº-åºäºpubsubçé©±å¨æ§è¡">äºã åºäºPub/Subçé©±å¨æ§è¡</h1>
<p>æçChannelç¨äºå­å¨ä¸å¡æ°æ®ï¼åæ¬ä½ä¸ºNodeçè¾å¥åæ§è¡ç»æï¼ï¼æçç¨äºå­å¨Nodeæ§è¡çé©±å¨ä¿¡å·ï¼æçChannelåå¼å·è¿ä¸¤ç§èè´£ãå¨è¡¨ç¤ºNodeçPregelNodeç±»ä¸­ï¼å®çchannelså­æ®µè¡¨ç¤ºæä¾è¾å¥çChannelåè¡¨ï¼triggerså­æ®µåæä¾å½åNodeè§¦åå¨çChannelåè¡¨ï¼å¨æ­¤åè¡¨ä¸­çä»»ä¸Channelå·æåæ´é½ä¼è§¦åå½åNodeçæ§è¡ãNodeç»å®çæä½ä½ç°å¨å¶boundå­æ®µè¿åçRunnable[Any, Any]å¯¹è±¡ï¼è¿æ¯ä¸ä¸ªå¯æ§è¡çå¯¹è±¡ï¼ä¸¤ä¸ªæ³ååæ°è¡¨ç¤ºè¾å¥åè¾åºãLangChainä¸­çRunnableæ¯ä¸ä¸ªæå¶éè¦çç±»åï¼å ä¸ºLangChainçâChainâå°±æ¯ç±ä¸ç³»åRunnableå¯¹è±¡æç§ååºé¡ºåºæå»ºçâé¾âã</p>
<pre><code class="language-python">class PregelNode:
    channels : str | list[str]
    triggers     : list[str]
    bound     : Runnable[Any, Any]
    â¦
</code></pre>
<p>å¨å¦ä¸è¿ä¸ªæ¼ç¤ºå®ä¾ä¸­ï¼æä»¬å®ä¹äºä¸ä¸ªç±åä¸Nodeåä¸¤ä¸ªChannelæå»ºçPregelå¯¹è±¡ãå¦ä»£ç çæ®µæç¤ºï¼æä»¬åå»ºäºä¸ä¸ªPregelNodeå¯¹è±¡ï¼å¹¶å°å¶channelsåtriggerså­æ®µè®¾ç½®ä¸ºâinputâï¼æå³çä»¥æ­¤å½åçChannelçåæ´å°ä¼è§¦åèç¹çæ§è¡ï¼å¹¶ä¸ºå¶æä¾è¾å¥æ°æ®ãæä»¬å°å®çboundå­æ®µæå®ä¸ºä¸ä¸ªRunnableLambdaå¯¹è±¡ä¸ï¼å®æ¿è½½çæä½ä½ç°å¨æå®çLambdaè¡¨è¾¾å¼ä¸ï¼å®æ²¡æè¿ççæä½ï¼ç´æ¥è¿ååå§è¾å¥ã</p>
<pre><code class="language-python">from langgraph.channels import LastValue
from langgraph.pregel import Pregel
from langgraph.pregel import Pregel
from langgraph.channels import LastValue
from langgraph.pregel._read import PregelNode
from langchain_core.runnables import RunnableLambda
from langgraph.pregel._write import ChannelWrite, ChannelWriteEntry

node = PregelNode(
    channels="input",
    triggers=["input"],
    bound=RunnableLambda(lambda args: args))

channelWrite:ChannelWrite = ChannelWrite(writes=[ChannelWriteEntry(channel="output")])
node.writers.append(channelWrite)

app = Pregel(
    nodes={"body": node},
    channels={"input": LastValue(str), "output": LastValue(str)},
    input_channels=["input"],
    output_channels=["output"],
)

result = app.invoke(input={"input": "foobar"})
assert result == {"output": "foobar"}
</code></pre>
<p>boundå­æ®µç»å®çRunnableå¯¹è±¡çæ§è¡ç»æéè¦å©ç¨writerå­æ®µå­å¨çä¸ä¸ªæèå¤ä¸ªâåå¥å¨âè¾åºå°å¯¹åºçChannelãå¨è¿éæä»¬ä½¿ç¨çåå¥å¨æ¯ä¸ä¸ªChannelWriteå¯¹è±¡ï¼éå¯¹ç®æ Channelï¼å½åä¸ºâoutputâï¼çåå¥æå¾ä»¥ChannelWriteEntryå¯¹è±¡çå½¢å¼å®ä¹ï¼å¹¶æ·»å å°ChannelWriteçwritesåè¡¨ä¸­ã</p>
<p>æä»¬åå»ºäºä¸ä¸ªæ¿è½½æ´ä¸ªæ§è¡æµç¨çPregelå¯¹è±¡ï¼ä»¥å­å¸çå½¢å¼å°NodeåChannelåå«æ³¨åå°å®çnodesåchannelså­æ®µä¸­ï¼å¯¹åºçKeyä½ä¸ºNode/Channelçåç§°ãéå¯¹ä¸åçæ°æ®æ¶è´¹ï¼ä»¥åéå¯¹Nodeçä¸åè§¦åè¡ä¸ºçéæ±ï¼LangGraph.Pregelä¸ºæä»¬å®ä¹äºä¸ç³»åä¸åç±»åçChannelï¼æä»¬å°å¨åç»­é¨åå¯¹å®ä»¬ä½è¯¦ç»ä»ç»ãè¿éæä»¬æå®çChannelç±»åä¸ºLastValueï¼ä½ä¸ºæé å½æ°åæ°æå®çç±»åï¼strï¼ä¸ºChannelå­å¨çæ°æ®ç±»åã</p>
<p>æä»¬åå«å°å½åä¸ºâinputâåâoutputâåå¥Pregelå¯¹è±¡çinput_channelsåinput_channelsï¼å°å¶æ³¨åä¸ºè¾å¥Channelåè¾åºChannelãæä»¬ç´æ¥è°ç¨Pregelå¯¹è±¡çinvokeæ¹æ³å¯å¨æ§è¡æµç¨ï¼è¾å¥åæ°inputä»¥å­å¸çå½¢å¼åå§åæ¯ä¸ªè¾å¥Channelï¼æ­¤æ¶åªæå¯ä¸çå½åä¸ºâinputâçChannelãæ­¤Channelçåå¥å°èªå¨è§¦åNodeçæ§è¡ï¼å®ä¼è¯»åæ­¤ééçå¼ï¼âfoobarâï¼ï¼æ§è¡å®æä¹åå°æ§è¡ç»æï¼âfoobarâï¼åå¥å½åä¸ºâoutputâçChannelã</p>
<p>æ´ä¸ªæµç¨æ§è¡å®æ¯ï¼æææ³¨åçè¾åºChannelçå¼å°è¢«è¯»ååºæ¥ï¼å¹¶ä»¥å­å¸çå½¢å¼ä½ä¸ºinvokeæ¹æ³çè¿åå¼ï¼å¯¹åºçKeyå°±æ¯è¾åºChannelçåç§°ï¼æä»¥æ­è¨æ­ç¤ºäºæ§è¡çç»æä¸º{"output": "foobar"}ã</p>
<h1 id="ä¸å©ç¨nodebuilderæå»ºpregelnode">ä¸ãå©ç¨NodeBuilderæå»ºPregelNode</h1>
<p>æä¸é¢çä¾å­ç´æ¥è°ç¨æé å½æ°åå»ºä½ä¸ºNodeçPregelNodeå¯¹è±¡ãPregelNodeç±»çååä¸ºâlanggraph.pregel._readâï¼ä¸ºäºåå§åå¶writerså­æ®µï¼æä»¬è¿éè¦ä»âlanggraph.pregel._writeâä¸­å¯¼å¥ChannelWriteåChannelWriteEntryç±»ï¼ä»åçå½åå°±å¯ä»¥çåºè¿å¹¶ä¸æ¯å¸åçç¼ç¨æ¹å¼ãå¨ç»å¤§é¨åæåµä¸æä»¬ä¼å©ç¨NoteBuilderéç¨âBuilderæ¨¡å¼âæ¥åå§åNodeãå©ç¨NodeBuilderå°ä¼æ¯æä»¬çä»£ç åå¾æ ¼å¤ç®åï¼</p>
<pre><code class="language-python">from langgraph.channels import LastValue
from langgraph.pregel import Pregel, NodeBuilder

node = (NodeBuilder()
    .subscribe_only("input")
    .do(lambda args: args)
    .write_to("output")
    .build())

app = Pregel(
    nodes={"body": node},
    channels={"input": LastValue(str), "output": LastValue(str)},
    input_channels=["input"],
    output_channels=["output"],
)

result = app.invoke(input={"input": "foobar"})
assert result == {"output": "foobar"}
</code></pre>
<p>è¿æ¯æä»¬å©ç¨NodeBuilderå¯¹æ¼ç¤ºç¨åºè¿è¡æ¹åçç»æãå¥ä»£ç çæ®µæç¤ºï¼å¨åå»ºäºNoteBuilderå¯¹è±¡ä¹åï¼é¾å¼è°ç¨äºå®çsubscribe_onlyæ¹æ³å°å¶å¯ä¸çè¾å¥åè§¦åChannelåç§°è®¾ç½®ä¸ºâinputâãdoæ¹æ³ä¼ä¸ºå©ç¨æå®çLambdaè¡¨è¾¾å¼åå»ºå¯¹åºçRunnableLambdaå¯¹è±¡ï¼å¹¶è®¾ç½®ä¸ºPregelNodeçboundå­æ®µãwrite_toæ¹æ³ä¼ä¸ºæä»¬åå»ºå¹¶æ³¨åç¸åºçChannelWriteæ¥å°æ§è¡ç»æåå¥æå®çè¾åºChannelãPregelNodeå¯¹è±¡éè¿NodeBuilderçbuildæ¹æ³æå»ºèæï¼ç¶åæç§åé¢ä¾å­ä¸æ ·çæ¹å¼å©ç¨PregelNodeå¯¹è±¡æå»ºPregelå¯¹è±¡ãå®éä¸è¿éè¿å¯ä»¥ç´æ¥æç§å¦ä¸çæ¹å¼ä¼ å¥NodeBuilderå¯¹è±¡ï¼Pregelå¯¹è±¡å¨åå§åçæ¶åä¼èªå¨å®æNodeæå»ºçä»»å¡ã</p>
<pre><code class="language-python">node = (NodeBuilder()
    .subscribe_only("input")
    .do(lambda args: args)
    .write_to("output"))

app = Pregel(
    nodes={"body": node},
    channels={"input": LastValue(str), "output": LastValue(str)},
    input_channels=["input"],
    output_channels=["output"],
)
</code></pre>
<h1 id="åå¤channelçè¯»å">åãå¤Channelçè¯»å</h1>
<p>ä¸é¢æ¼ç¤ºçNodeé½æ¯éå¯¹åä¸Channelè¯»åæ°æ®ï¼å¤Channelçè¯»åå¯ä»¥éè¿ä¸åçç¼ç¨æ¨¡å¼æ¥å®ç°ãå¨å¦ä¸è¿æ®µæ¼ç¤ºç¨åºä¸­ï¼æä»¬ä¸ºæå»ºçPregelæä¾äºåä¸ªåå«å½åä¸ºâfooâãâbarâãâbazâåâquxâçChannelï¼åä¸¤ä¸ªä½ä¸ºè¾å¥ï¼åä¸¤ä¸ªä½ä¸ºè¾åºãNodeçå¤çå½æ°handleå·æä¸ä¸ªå­å¸ç±»åçåæ°ï¼å®æºå¸¦äºä»ææè¾å¥Channelè¯»åçæ°æ®ï¼Keyä¸ºChannelåç§°ã</p>
<pre><code class="language-python">from langgraph.channels import LastValue
from langgraph.pregel import Pregel, NodeBuilder
from typing import Any

def handle(state:dict[str,Any])-&gt;dict[str,Any]:
    foo: str = state["foo"]
    bar: str = state["bar"]
    return{"baz":foo, "qux":bar}

node = (NodeBuilder()
    .subscribe_to("foo", "bar")
    .do(handle)
    .write_to(**baz=lambda r: r["baz"], qux=lambda r: r["qux"]**))

app = Pregel(

nodes={"body": node},
channels={
    "foo": LastValue(str),
    "bar": LastValue(str),
    "baz": LastValue(str),
    "qux": LastValue(str)},
    input_channels=["foo", "bar"],
    output_channels=["baz", "qux"],
)

result = app.invoke(input={"foo": "abc", "bar": "xyz"})
assert result == {"baz": "abc", "qux": "xyz"}
</code></pre>
<p>æä»¬å¸æNodeä»âfooâåâbarâChannelè¯»åçæ°æ®åå«åå¥âbazâåâquxâChannelï¼ä¸ºæ­¤æä»¬è®©handleå½æ°è¿åä¸ä¸ªå°è¾åºChannelåç§°ä½ä¸ºKeyçå­å¸ãæä»¬ç´æ¥å°handleå½æ°ä½ä¸ºdoæ¹æ³çåæ°ï¼å®ä¼åºäºæ­¤å½æ°åå»ºä¸ä¸ªRunnableCallableå¯¹è±¡ä½ä¸ºæå»ºPregelNodeçboundå­æ®µçå¼ãhandleå½æ°è¿åçå­å¸å°ä½ä¸ºå¨write_toæ¹æ³æå®çä¸¤ä¸ªLambdaè¡¨è¾¾å¼çè¾å¥ï¼æå®çå³é®å­åæ°åï¼bazåquxï¼å°ä½ä¸ºè¾åºChannelçåç§°ï¼å¯¹åºçå¼å°±æ¯Lambdaè¡¨è¾¾å¼çè¿åå¼ã</p>
<p>å¦æå¨è°ç¨write_toæ¹æ³æ¶ç´æ¥æå®äºå¤ä¸ªChannelï¼âfooâåâbarâï¼ï¼ Pregelä¼å°ä½ä¸ºhandleå½æ°è¿åç»æçå­å¸ä½ä¸ºä¸ä¸ªæ´ä½ï¼åæ¶åå¥æå®çå¤ä¸ªç®æ Channelï¼è¿ç¸å½äºå¨è¿è¡éå¯¹å¤Channelçæ¶æ¯å¹¿æ­ã</p>
<pre><code class="language-python">from langgraph.channels import LastValue
from langgraph.pregel import Pregel, NodeBuilder
from typing import Any

def handle(state:dict[str,any])-&gt;dict[str,Any]:
    foo: str = state["foo"]
    bar: str = state["bar"]
    return{"baz":foo, "qux":bar}

node = (NodeBuilder()
    .subscribe_to("foo", "bar")
    .do(handle)
    .write_to("baz", "qux"))

app = Pregel(
    nodes={"body": node},
channels={
    "foo": LastValue(str),
    "bar": LastValue(str),
    "baz": LastValue(str),
    "qux": LastValue(str)},
    input_channels=["foo", "bar"],
    output_channels=["baz", "qux"],
)

result = app.invoke({"foo": "abc", "bar": "xyz"})
assert result == {"baz": **{"baz": "abc","qux":"xyz"}**, "qux": **{"baz": "abc","qux":"xyz"}**}
</code></pre>
<p>å¤Channelçåå¥è¿å¯ä»¥å©ç¨ChannelWriteEntryå¯¹è±¡æ¥å®æï¼å®éä¸é¢å¨write_toæ¹æ³ä¸­ç´æ¥æå®çChannelåç§°é½ä¼è½¬æ¢æChannelWriteEntryå¯¹è±¡ï¼ï¼å®å¸®å©æä»¬å¯¹Channelçåå¥å½¢å¼è¿è¡ç»ç²åº¦çæ§å¶ãå¨å¦ä¸çä»£ç çæ®µä¸­ï¼æä»¬ä¸ºChannelWriteEntryçmapperå­æ®µæå®äºä¸ä¸ªLambdaè¡¨è¾¾å¼ï¼å®ä¼å¸®æä»¬å®æåå§çæ§è¡ç»æä¸è¾åºå°Channelççå®æ°æ®ä¹é´çæ å°ã</p>
<pre><code class="language-python">from langgraph.pregel._write import ChannelWriteEntry
â¦
node = (NodeBuilder()
    .subscribe_to("foo", "bar")
    .do(handle)
    .write_to(
        **ChannelWriteEntry(channel="baz", mapper=lambda r: r["baz"]),
        ChannelWriteEntry(channel="qux", mapper=lambda r: r["qux"]),**
))
â¦
</code></pre>
<p>ææ¶æä»¬å¹¶ä¸å¸æNodeçå¤çå½æ°ä½¿ç¨åä¸å­å¸è¿ç§è¿äºâç¬¼ç»âçåæ°ï¼èæ¯å¾åäºä½¿ç¨è¾å¥Channelçåç§°æ¥å½åå¶åæ°ï¼æ­¤æ¶æä»¬å¯ä»¥æç§å¦ä¸çæ¹å¼å©ç¨âæåâæ¥è§£å³è¿ä¸ªã</p>
<pre><code class="language-python">def handle(foo:str, bar:str)-&gt;dict[str,Any]:
    return{"baz":foo, "qux":bar}

node = (NodeBuilder()
    .subscribe_to("foo", "bar")
    .do(lambda state: handle(******state))
    .write_to(
        ChannelWriteEntry(channel="baz", mapper=lambda s: s["baz"]),
        ChannelWriteEntry(channel="qux", mapper=lambda s: s["qux"]),
    ))
</code></pre>
<h1 id="äºnodeä¹é´çä¾èµ">äºãNodeä¹é´çä¾èµ</h1>
<p>LangChainæå»ºçAgentæ¬è´¨ä¸æ¯ä¸ä¸ªå¾æ¨¡åï¼Graph æ¨¡åï¼ãæä»¬å©ç¨æ¨¡ååå·¥å·èç¹æå»ºçAgentè½ç¶çèµ·æ¥åæ¯ä¸ä¸ªæå§æ ç»çæç¯å¾ï¼ä½æ¯å®æ¬è´¨ä¸æ¯ä¸ä¸ªStateGraphå¯¹è±¡ï¼åèæ¯ç±NodeåEdgeï¼è¾¹ï¼ææçæå§ï¼ <strong>start</strong>ï¼æç»ï¼<strong>end</strong>ï¼çå¾ï¼Edgeä½ç°äºç±å®è¿æ¥ä¸¤ä¸ªNodeä¹é´çä¾èµå³ç³»ãStateGraphå¯¹è±¡æç»éè¿ç¼è¯è½¬æ¢æPregelå¯¹è±¡åï¼Edgeä½ç°çä¾èµå³ç³»è¢«è½¬æ¢æNodeåºäºChannelçè®¢é/åå¸å³ç³»ã</p>
<p>åè®¾AåBæ¯StateGraphçä¸¤ä¸ªNodeï¼Aå°BçStateGraphè¡¨ç¤ºBå¿é¡»ç­å°Aæ§è¡å®æåæè½æ§è¡ï¼å³Bä¾èµäºAãå¨Pregelä¸­å¹¶æ²¡æEdgeçæ¦å¿µï¼Nodeä¹é´ä¹é´çä¾èµå³ç³»åªè½å©ç¨éå¯¹Channelçè®¢é/åå¸æ¥å®ç°ãå·ä½å®ç°å¶å®å¾ç®åï¼è®©Aå¨æ§è¡å®æååBè®¢éçChannelåå¥è¦ç»è§¦åä¿¡å·ã</p>
<p>å¨å¦ä¸æç¤ºçæ¼ç¤ºç¨åºä¸­ï¼æä»¬å®ä¹äºä¸ä¸ªåä¸ºâoutputâç±»åä¸ºBinaryOperatorAggregate çChannelãé¡¾åæä¹ï¼è¿ä¸ªChannelç±»åå©ç¨æå®çäºåæä½å¯¹å½åå¼åæ°åå¥çå¼è¿è¡èåï¼æç»ç¡®å®ææ°çåå®¹ãæä»¬å©ç¨å®æ¥å­å¨ä¸ä¸ªå­ç¬¦ä¸²æ¥è¡¨ç¤ºæåºæ§è¡çNodeåè¡¨ï¼æä»¥æä»¬å¨åå»ºå®çæ¶åä»¥Lambdaè¡¨è¾¾å¼æå®äºè¿ä¸ªäºåæä½ç¬¦ï¼åèå°æ·»å çNodeåç§°ä½ä¸ºåç¼ï¼âï¼{node}âï¼éå å°å½ååå®¹ä¸ã</p>
<p>æä»¬ä¸ºåå»ºçPregelå¯¹è±¡åå»ºäºä¸ä¸ªå½åä¸ºâfooâãâbarâåâbazâçNodeï¼ä»¥åå¯¹åºçè§¦åChannelï¼ä¹å°±æ¯ä¸ä¸ªNodeè®¢éå¯¹åºçChannelãæä»¬å°âfooâChannelä½ä¸ºè¾å¥ï¼å¨è°ç¨çæ¶åæå®ï¼æä»¥âfooâNodeçåæ§è¡ãæ¯ä¸ªNodeæ§è¡å®åï¼è¿éæ²¡ææ§è¡ä»»ä½å·ä½çæä½ï¼å¯ä»¥ä»»å¡æ¯ä¸ä¸ªç©ºæä½ï¼ï¼é¤äºå°èªèº«çåç§°åå¥âoutputâChannelä¹å¤ï¼è¿éè¦åå¥ç¸åºçChannelé©±å¨åç»­Nodeçæ§è¡ï¼âfooâæ§è¡å®ååå¥âbarâï¼âbarâæ§è¡å®ä¹ååå¥âbazâï¼ã</p>
<pre><code class="language-python">from langgraph.channels import LastValue,BinaryOperatorAggregate
from langgraph.pregel import Pregel, NodeBuilder

foo = (NodeBuilder()
       .subscribe_to("foo",read=False)
       .write_to(output="foo", bar=None))
bar = (NodeBuilder()
       .subscribe_to("bar",read=False)
         .write_to(output="bar", baz=None))
baz = (NodeBuilder()
       .subscribe_to("baz",read=False)
       .write_to(output="baz"))

app = Pregel(
    nodes={
        "foo":foo,
        "bar":bar,
        "baz":baz
    },
    channels={
        "foo": LastValue(None),
        "bar": LastValue(None),
        "baz": LastValue(None),
        "output": BinaryOperatorAggregate(str, operator=lambda a,b: f"{a},{b}")
    },
    input_channels=["foo"],
    output_channels=["output"]
)

result = app.invoke({"foo": None})
assert result == {"output": ",foo,bar,baz"}
</code></pre>
<h1 id="å­å¤nodeä¾èµ">å­ãå¤Nodeä¾èµ</h1>
<p>å¯¹ä¸ä¸ªNodeæ¥è¯´ï¼åªè¦å®çtriggersåè¡¨ä¸­ä»»ä½ä¸ä¸ªChannelææ´æ°ï¼å®å°±ä¼è¢«é©±å¨æ§è¡ãå¦æéç¨ä¸é¢ä¾å­æ¼ç¤ºçé©±å¨æ¹å¼ï¼å½æä¸ªNodeå·æå¤ä¸ªä½ä¸ºåç½®æ¡ä»¶çNodeï¼ä»»ä½ä¸ä¸ªä½ä¸ºåç½®æ¡ä»¶çNodeæ§è¡å®åï¼èªå·±å°±ä¼è¢«å¨æ§è¡ä¸æ¬¡ãä¹å°±è¯´åç½®Nodeåå®ä¹é´æ¯ä¸ç§ âANYâ çé©±å¨å³ç³»ï¼å¦ä½å®ç° âALLâ çé©±å¨å³ç³»å¢ï¼å³ææåç½®Nodeé½æ§è¡å®æ¯ææ»¡è¶³åç»­Nodeçæ§è¡æ¡ä»¶ãä»¥å¦ä¸è¿å¼ å¾ä¸ºä¾ï¼å¼å§çæ¶åä»¥ä¸¤ä¸ªåæ¯å¹¶è¡æ§è¡ï¼å·¦è¾¹åæ¯ååæ§è¡fooåbazï¼å³è¾¹åæ¯æ§è¡barãæä»¬è¦æ±bazåbazé½æåæ§è¡åï¼quxæè½æ§è¡ã</p>
<p><img alt="image_thumb_1" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3765958/202602/3765958-20260203081044140-802483343.png" class="lazyload"></p>
<p>è¿ä¸ªé®é¢æä¸¤ç§è§£å³æ¹æ¡ï¼ä¸ç§å°±æ¯è®©bazåbarå®ææ§è¡åå©ç¨Channelåå¥çæ¹å¼åquxåéä¸ä¸ªä¿¡å·ï¼åæ¶å°èªå·±å·²ç»å®æçç¶æéè¿ç¸åºçChannelä¿å­ä¸æ¥ãè¿æ ·quxä¼è¢«è§¦åä¸¤æ¬¡ï¼ä½æ¯å®å¯ä»¥è¯»åå¯¹åºçChannelå¤æ­åç½®æ¡ä»¶æ¯å¦æ»¡è¶³ãå¨å¦ä¸çå®ç°ä¸­ï¼æä»¬ä¾ç¶ä¸ºåä¸ªNodeè®¾ç½®äºè§¦åå®ä»¬çååChannelãç±äºâfooâ å âbarâ è¿ä¸¤ä¸ªNodeæå¼å§å¹¶è¡æ§è¡ï¼æä»¬å°å¯¹åºçééè®¾ç½®ä¸ºè¾å¥ééãæä»¬ä¸ºPregelæ³¨åäºå¦ä¸ä¸ªåä¸º âoutputâ çè¾åºChannelç±äºæ¶éæåæ§è¡çChannelãæ­¤Channelä¾ç¶ä¸ºBinaryOperatorAggregateï¼ä½ä¸ä¹åä¸åçæ¯å¶æ°æ®ç±»åè¢«è®¾ç½®ä¸ºåè¡¨ï¼å¹¶å©ç¨operator.addå°æ°çééåç§°å å¥åè¡¨ã</p>
<pre><code class="language-python">from langgraph.channels import LastValue,BinaryOperatorAggregate
from langgraph.pregel import Pregel, NodeBuilder
import operator
from typing import Any

foo = (NodeBuilder()
    .subscribe_to("foo",read=False)
    .write_to(output=["foo"], baz=None))
bar = (NodeBuilder()
    .subscribe_to("bar",read=False)
    .write_to(output=["bar"], qux=None))
baz = (NodeBuilder()
       .subscribe_to("baz",read=False)
       .write_to(output=["baz"], qux=None))

def handle(args:dict[str,Any]):
    output:list[str] = args["output"]
    **if "bar" in output and "baz" in output:
        return ["qux"]
    return []**

qux = (NodeBuilder()
       .subscribe_to("qux",read=False)
       .read_from("output")
       .do(handle)
       .write_to("output"))

app = Pregel(
    nodes={
        "foo":foo,
        "bar":bar,
        "baz":baz,
        "qux":qux
    },
    channels={
        "foo": LastValue(None),
        "bar": LastValue(None),
        "baz": LastValue(None),
        "qux": LastValue(None),
        "output": BinaryOperatorAggregate(list, operator=operator.add)
    },
    input_channels=["foo","bar"],
    output_channels=["output"]
)

result = app.invoke({"foo": None, "bar": None})
sequences:list[list[str]] = [
    ["foo","baz","bar","qux"],
    ["bar","foo","baz","qux"],
    ["foo","baz","bar","qux"]]
assert result["output"] in sequences
</code></pre>
<p>æä»¬ä¾ç¶æç§ä¸ä¸ä¸ªå®ä¾çâå¥è·¯âï¼æ¯ä¸ªNodeå¨å®ææ§è¡åé½å°èªå·±çåç§°åå¥âoutputâééãæä»¬å¨è°ç¨Pregelçæ¶åéè¿å¯¹ âfooâ å âbarâ è¿ä¸¤ä¸ªChannelçåå¥é©±å¨å¯¹åºNodeçæ§è¡ã âfooâãâbarâ å âbazâ è¿ä¸ä¸ªNodeå¨å®æåèªæ§è¡åéè¿åå¥å¯¹åºçééé©±å¨åç»­Nodeçæ§è¡ï¼æä»¥èç¹âquxâå¨âbarâåâbazâå¨æ§è¡åé½ä¼æ¶å°ä¿¡å·ï¼ä½æ¯å®å¯ä»¥è¯»åâoutputâè¿ä¸ªChannelçåå®¹ç¡®å®ä¸¤ä¸ªåç½®Nodeæ¯å¦æåæ§è¡ã</p>
<h1 id="ä¸æ´å¥½çè§£å³æ¹æ¡">ä¸ãæ´å¥½çè§£å³æ¹æ¡</h1>
<p>ä¸é¢çä¾å­éç¨âå¤æ¬¡è§¦åâå¹¶ä¸è®©Nodeèªè¡å¤æ­åç½®æ¡ä»¶æ¯å¦æ»¡è¶³çæ¹å¼è§£å³äºå¤Nodeä¾èµé®é¢ï¼è½ç¶å®ç°èµ·æ¥ä¹å¾ç®åï¼å¯¹æ§è½ä¹æ²¡æå¤ªå¤§çå½±åï¼ä½æä¸ªäººä»»å¡è¿æ¯ä¸ç§å¾Lowçå®ç°ãå¨æçæ¥ï¼å¨ä¸ä¸ªçæ³çç³»ç»ä¸­ï¼æ¯ä¸ªæåç±»åä¹é´åºè¯¥ææç¡®æ¸æ°çèè´£è¾¹çï¼âæ¯é¸¡ä¸å¸æ¨âï¼âçä¹ä¸æ¿èå­âãPregelä¸­å°±NodeåChannelä¸¤ä¸­æ ¸å¿è§è²ï¼ä½ä¸ºåè½ç»ä»¶çNodeå¯ä¸éè¦å³æ³¨çå°±æ¯ä¸å¡é»è¾ï¼æ§è¡æ¡ä»¶çå¤æ­æ¯è§¦åæ¶æºçé®é¢ï¼åºè¯¥ç±Channelè´è´£ãä¸ºäºè§£å³éå¯¹Nodeç²¾åçè§¦ååè°åº¦æ¯Pregelè®¾è®¡ä¼å¤Channelç±»åçä¸ä¸ªéè¦å ç´ ã</p>
<p>å¨ä¼å¤é¢å®ä¹çChannelä¸­ï¼ç¨ä¸ä¸ªåä¸ºNamedBarrierValueçChannelå°±æ¯ä¸ºè¿ç§åºç¨åºæ¯æå¡çãè¯¥Channelé¢å®ä¹ä¸ç»åç§°éåï¼å¶èªèº«ä¼ç»´æ¤ä¸ä¸ªéåæ¥å­å¨åå¥çå¼ï¼åªæä¸¤ä¸ªéåä¸è´æ§çæ¶åï¼å®æä¼è§ä¸ºææ´æ°å¹¶è§¦åè®¢éå®çNodeãä¸ºäºè§£å³âquxâ éå¯¹ âbarâ å âbazâ çä¾èµï¼æä»¬åªéè¦æç§å¦ä¸çæ¹å¼å° âquxâ è¿ä¸ªééå®ä¹æNamedBarrierValueç±»åï¼å¹¶å°ä½ä¸ºåç§°éåçnamesè®¾ç½®ä¸ºå®ä¾èµçä¸¤ä¸ªNodeï¼{"barâ, baz"}ï¼ã âbarâ åâbazâ å¨å®ææ§è¡ååªéè¦å°åèªçåç§°åå¥æ­¤Channelå³å¯ã</p>
<pre><code class="language-python">from langgraph.channels import LastValue, BinaryOperatorAggregate,NamedBarrierValue
from langgraph.pregel import Pregel, NodeBuilder
import operator

foo = (NodeBuilder()
    .subscribe_to("foo",read=False)
    .write_to(output=["foo"], baz=None))
bar = (NodeBuilder()
    .subscribe_to("bar",read=False)
    .write_to(output=["bar"], qux="bar"))
baz = (NodeBuilder()
    .subscribe_to("baz",read=False)
    .write_to(output=["baz"], qux="baz"))
qux = (NodeBuilder()
    .subscribe_to("qux",read=False)
    .write_to(output=["qux"]))

app = Pregel(
    nodes={
        "foo":foo,
        "bar":bar,
        "baz":baz,
        "qux":qux
    },
    channels={
        "foo": LastValue(None),
        "bar": LastValue(None),
        "baz": LastValue(None),
        "qux": **NamedBarrierValue(str, names={"bar","baz"}),**
        "output": BinaryOperatorAggregate(list, operator=operator.add)
    },
    input_channels=["foo","bar"],
    output_channels=["output"]
)

result = app.invoke({"foo": None, "bar": None})
sequences:list[list[str]] = [
    ["foo","baz","bar","qux"],
    ["bar","foo","baz","qux"],
    ["foo","baz","bar","qux"]]
assert result["output"] in sequences
</code></pre>


</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-11 07:30">2026-02-11 07:29</span>&nbsp;
<a href="https://www.cnblogs.com/jaydenai">JaydenAI</a>&nbsp;
éè¯»(<span id="post_view_count">6</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19602174);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19602174', targetLink: 'https://www.cnblogs.com/jaydenai/p/19602174/pregel-as-actor-model', title: '[æè§£LangChainæ§è¡å¼æ]ä»¥Actoræ¨¡åçè§è§æ¥çPregel' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ä¸æ¬¾å¼æºãå¼ºå¤§ãç®åæç¨ç .NET åæ°æ®çæå©å¨ ]]></title>
    <link>https://www.cnblogs.com/Can-daydayup/p/19601424</link>
    <guid>a96808c5bfe361ff6e3f2e840cb5c8ed</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/Can-daydayup/p/19601424" title="åå¸äº 2026-02-11 00:52">
    <span role="heading" aria-level="2">ä¸æ¬¾å¼æºãå¼ºå¤§ãç®åæç¨ç .NET åæ°æ®çæå©å¨</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<h2 data-tool="mdniceç¼è¾å¨"><span>åè¨</span></h2>
<p data-tool="mdniceç¼è¾å¨"><span>å¨æ¥å¸¸ç .NET é¡¹ç®å¼åä¸­ï¼æä»¬ç»å¸¸éè¦å¤§éçæµè¯æ°æ®æ¥éªè¯ä¸å¡é»è¾ãå¡«åæ°æ®åºãè¿è¡æ§è½æµè¯æèåäº§åæ¼ç¤ºãæå¨ç¼åè¿äºæµè¯æ°æ®ä¸ä»æ¯ç¥ä¹å³ãæµªè´¹æ¶é´ï¼èä¸é¾ä»¥è¦çåç§è¾¹çåºæ¯ãä»å¤©å¤§å§ç»å¤§å®¶æ¨èä¸æ¬¾å¼æºãå¼ºå¤§ãç®åæç¨ç .NET åæ°æ®çæåºï¼<strong>Bogus</strong><span>ã</span></span></p>
<h2 data-tool="mdniceç¼è¾å¨"><span>é¡¹ç®ä»ç»</span></h2>
<p data-tool="mdniceç¼è¾å¨"><span>Bogus æ¯ä¸ä¸ªåºäºèåç faker.js ç§»æ¤èæ¥çå¼æºï¼<span>MIT Licenseï¼ .NET åæ°æ®çæåºï¼å®ä¸º .NET å¼åèæä¾äºä¸å¥å¼ºå¤§ãç®åæç¨ç APIï¼å¯å¿«éçæåç§ç±»åçæ¨¡ææ°æ®ï¼æ¯æ 40+ ç§è¯­è¨åºåæ¬å°åï¼å¹¿æ³åºç¨äºååæµè¯ãæ°æ®åºå¡«åãååæ¼ç¤ºä»¥åç¤ºä¾æ°æ®çæç­åºæ¯ã</span></span></p>
<h2 data-tool="mdniceç¼è¾å¨"><span>æ¯æè¯­è¨</span></h2>
<p data-tool="mdniceç¼è¾å¨"><span>æ¯æè¯­è¨ï¼C#ãF#ãVB.NETã</span></p>
<h2 data-tool="mdniceç¼è¾å¨"><span>åºç¨åºæ¯</span></h2>
<ul class="list-paddingleft-1">
<li><strong>ååæµè¯ / éææµè¯</strong><span>ï¼å¿«éçæç¬¦åä¸å¡æ¨¡åçæµè¯å¯¹è±¡ï¼æ¿ä»£æå·¥ Mock æ°æ®ã</span></li>
<li><strong>æ°æ®åºå¡«åï¼Seedï¼</strong><span>ï¼å¼å/æµè¯ç¯å¢æ°æ®åºå¡«åçå®æåè¶³çåæ°æ®ã</span></li>
<li><strong>æ§è½ä¸ååæµè¯</strong><span>ï¼æ¹éçæå¤§è§æ¨¡æ°æ®éæ¥æ¨¡æçå®è´è½½ã</span></li>
<li><strong>API å¼åè°è¯</strong><span>ï¼å¿«éæé  API è¿åçæ¨¡æååºæ°æ®ã</span></li>
<li><strong>æ°æ®è±æ</strong><span>ï¼æ¿æ¢çäº§æ°æ®ä¸­çææä¿¡æ¯ã</span></li>
</ul>
<h2 data-tool="mdniceç¼è¾å¨"><span>æ¯æä»¥ä¸è¯­è¨ç¯å¢</span></h2>
<p data-tool="mdniceç¼è¾å¨"><span>Bogus æ¯æä»¥ä¸è¯­è¨ç¯å¢ï¼</span></p>
<p><img src="https://img2024.cnblogs.com/blog/1336199/202602/1336199-20260210204126119-365582300.png" alt="image" loading="lazy"></p>
<h2 data-tool="mdniceç¼è¾å¨"><span>åå»ºä¸ä¸ª .NET æ§å¶å°åºç¨</span></h2>
<p data-tool="mdniceç¼è¾å¨"><span>æ¥ä¸æ¥æä»¬åå»ºä¸ä¸ªåä¸ºï¼<code>BogusExercise</code><span>&nbsp;.NET 9 æ§å¶å°åºç¨ï¼</span></span></p>
<p><img src="https://img2024.cnblogs.com/blog/1336199/202602/1336199-20260210204138344-430453000.png" alt="image" loading="lazy"></p>
<p><img src="https://img2024.cnblogs.com/blog/1336199/202602/1336199-20260210204143376-267148763.png" alt="image" loading="lazy"></p>
<h2 data-tool="mdniceç¼è¾å¨"><span>é¡¹ç® NuGet å®è£</span></h2>
<p data-tool="mdniceç¼è¾å¨"><span>å¨ NuGet åç®¡çå¨æ§å¶å°ä¸­æ§è¡ï¼</span></p>
<pre data-tool="mdniceç¼è¾å¨"><span data-cacheurl="" data-remoteid="" data-lazy-bgimg="https://mmbiz.qpic.cn/mmbiz_svg/Q3auHgzwzM6Jg5J8EJvQbtA6S7SiakTUXVlTExDYwFauib17gnDjmuJAK3CSicOeB0nS7dwzjibRlWm6qARn1Z6ZuvWufbYrYNFme9qak633SahG0umArx2T1w/640?wx_fmt=svg&amp;from=appmsg" data-src="https://mmbiz.qpic.cn/mmbiz_svg/Q3auHgzwzM6Jg5J8EJvQbtA6S7SiakTUXVlTExDYwFauib17gnDjmuJAK3CSicOeB0nS7dwzjibRlWm6qARn1Z6ZuvWufbYrYNFme9qak633SahG0umArx2T1w/640?wx_fmt=svg&amp;from=appmsg#imgIndex=9" data-fail="0"><code><span>Install-Package Bogus<span><br></span></span></code></span></pre>
<p data-tool="mdniceç¼è¾å¨"><span>æèå¨ NuGet åç®¡çå¨ä¸­æç´¢å®è£ï¼</span></p>
<p><img src="https://img2024.cnblogs.com/blog/1336199/202602/1336199-20260210204211714-738946793.png" alt="image" loading="lazy"></p>
<h2 data-tool="mdniceç¼è¾å¨"><span>Bogus å¿«éå¥é¨</span></h2>
<h3 data-tool="mdniceç¼è¾å¨"><span>çæ 3 ä¸ªéæºè®¢åçæ¨¡æç¨æ·ä¿¡æ¯</span></h3>
<p data-tool="mdniceç¼è¾å¨"><span>ä»¥ä¸æ¯ Bogus ä»åºä¸­æä¾çç¤ºä¾ä»£ç ï¼ä½¿ç¨ Bogus çæäº 3 ä¸ªå¸¦éæºè®¢åçæ¨¡æç¨æ·ã</span></p>
<pre data-tool="mdniceç¼è¾å¨"><span data-cacheurl="" data-remoteid="" data-lazy-bgimg="https://mmbiz.qpic.cn/mmbiz_svg/Q3auHgzwzM5PgUhjfvCQWKxbcqn66p8vaN78jtJk6DZXqnDCEetmdiaeqdg2dWFcQlta2mWyIEXicYezNbaomKjMVJUEHCiaP3IVt7eQbvYUSgqE7sGalFhYg/640?wx_fmt=svg&amp;from=appmsg" data-src="https://mmbiz.qpic.cn/mmbiz_svg/Q3auHgzwzM5PgUhjfvCQWKxbcqn66p8vaN78jtJk6DZXqnDCEetmdiaeqdg2dWFcQlta2mWyIEXicYezNbaomKjMVJUEHCiaP3IVt7eQbvYUSgqE7sGalFhYg/640?wx_fmt=svg&amp;from=appmsg#imgIndex=10" data-fail="0"><code><span>&nbsp; &nbsp;&nbsp;public<span>&nbsp;classProgram<span><br><span>&nbsp; &nbsp; {<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>static<span>&nbsp;<span>void<span>&nbsp;<span>Main<span>(<span>string<span>[] args<span>)<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; {<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;//çæ 3 ä¸ªéæºè®¢åçæ¨¡æç¨æ·ä¿¡æ¯<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;users = GenerateSampleUsers(3<span>);<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; }<span><br><span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;summary&gt;<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;çæéæºè®¢åçæ¨¡æç¨æ·<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;/summary&gt;<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;param name="count"&gt;<span>&lt;/param&gt;<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;returns&gt;<span>&lt;/returns&gt;<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>public<span>&nbsp;<span>static<span>&nbsp;List&lt;User&gt;&nbsp;<span>GenerateSampleUsers<span>(<span>int<span>&nbsp;count =&nbsp;<span>3<span>)<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; {<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// è®¾ç½®éæºç§å­ï¼çæå¯éå¤çæ°æ®é<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Randomizer.Seed =&nbsp;new<span>&nbsp;Random(3897234<span>);<span><br><span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;fruit =&nbsp;new<span>[] {&nbsp;"apple"<span>,&nbsp;"banana"<span>,&nbsp;"orange"<span>,&nbsp;"strawberry"<span>,&nbsp;"kiwi"<span>&nbsp;};<span><br><span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;orderIds =&nbsp;0<span>;<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;testOrders =&nbsp;new<span>&nbsp;Faker&lt;Order&gt;()<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// å¼å¯ä¸¥æ ¼æ¨¡å¼ï¼ç¡®ä¿ææå±æ§é½æè§å<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .StrictMode(true<span>)<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// OrderId èªå¢<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(o =&gt; o.OrderId, f =&gt; orderIds++)<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// ä»æ°´æç¯®ä¸­éæºæé<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(o =&gt; o.Item, f =&gt; f.PickRandom(fruit))<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// éæºæ°é 1~10<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(o =&gt; o.Quantity, f =&gt; f.Random.Number(1<span>,&nbsp;10<span>))<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// å¯ç©º int?ï¼80% æ¦çä¸º null<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(o =&gt; o.LotNumber, f =&gt; f.Random.Int(0<span>,&nbsp;100<span>).OrNull(f,&nbsp;.8<span>f));<span><br><span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;userIds =&nbsp;0<span>;<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;testUsers =&nbsp;new<span>&nbsp;Faker&lt;User&gt;()<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// èªå®ä¹æé å½æ°<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .CustomInstantiator(f =&gt;&nbsp;new<span>&nbsp;User(userIds++, f.Random.Replace("###-##-####"<span>)))<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// åºæ¬è§å<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(u =&gt; u.FirstName, f =&gt; f.Name.FirstName())<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(u =&gt; u.LastName, f =&gt; f.Name.LastName())<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(u =&gt; u.Avatar, f =&gt; f.Internet.Avatar())<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(u =&gt; u.UserName, (f, u) =&gt; f.Internet.UserName(u.FirstName, u.LastName))<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(u =&gt; u.Email, (f, u) =&gt; f.Internet.Email(u.FirstName, u.LastName))<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(u =&gt; u.SomethingUnique, f =&gt;&nbsp;<span>$"Value&nbsp;<span>{f.UniqueIndex}<span>"<span>)<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(u =&gt; u.SomeGuid, Guid.NewGuid)<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// éæºéåæä¸¾<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(u =&gt; u.Gender, f =&gt; f.PickRandom&lt;Gender&gt;())<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(u =&gt; u.CartId, f =&gt; Guid.NewGuid())<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// ç»åå±æ§ï¼å©ç¨å·²çæç FirstName å LastName<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(u =&gt; u.FullName, (f, u) =&gt; u.FirstName +&nbsp;" "<span>&nbsp;+ u.LastName)<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// åµå¥éåçæ<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(u =&gt; u.Orders, f =&gt; testOrders.Generate(3<span>))<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// çæå®æåçåè°<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .FinishWith((f, u) =&gt;<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Console.WriteLine("User Created! Name={0}"<span>, u.FullName);<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });<span><br><span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// ä¸æ¬¡çæ 3 ä¸ªç¨æ·<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;return<span>&nbsp;testUsers.Generate(count);<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; }<span><br><span>&nbsp; &nbsp; }<span><br><span><br><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;summary&gt;<span><br><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;è®¢åå®ä½<span><br><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;/summary&gt;<span><br><span>&nbsp; &nbsp;&nbsp;publicclassOrder<span><br><span>&nbsp; &nbsp; {<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicint<span>&nbsp;OrderId {&nbsp;get<span>;&nbsp;set<span>; }<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicstring<span>&nbsp;Item {&nbsp;get<span>;&nbsp;set<span>; }<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicint<span>&nbsp;Quantity {&nbsp;get<span>;&nbsp;set<span>; }<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicint<span>? LotNumber {&nbsp;get<span>;&nbsp;set<span>; }<span><br><span>&nbsp; &nbsp; }<span><br><span><br><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;summary&gt;<span><br><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;æ§å«æä¸¾<span><br><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;/summary&gt;<span><br><span>&nbsp; &nbsp;&nbsp;publicenum<span>&nbsp;Gender<span><br><span>&nbsp; &nbsp; {<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; Male,<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; Female<span><br><span>&nbsp; &nbsp; }<span><br><span><br><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;summary&gt;<span><br><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;ç¨æ·å®ä½<span><br><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;/summary&gt;<span><br><span>&nbsp; &nbsp;&nbsp;publicclassUser<span><br><span>&nbsp; &nbsp; {<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>public<span>&nbsp;<span>User<span>(<span>int<span>&nbsp;userId,&nbsp;<span>string<span>&nbsp;ssn<span>)<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; {<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;this<span>.Id = userId;<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;this<span>.SSN = ssn;<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; }<span><br><span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicint<span>&nbsp;Id {&nbsp;get<span>;&nbsp;set<span>; }<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicstring<span>&nbsp;FirstName {&nbsp;get<span>;&nbsp;set<span>; }<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicstring<span>&nbsp;LastName {&nbsp;get<span>;&nbsp;set<span>; }<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicstring<span>&nbsp;FullName {&nbsp;get<span>;&nbsp;set<span>; }<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicstring<span>&nbsp;UserName {&nbsp;get<span>;&nbsp;set<span>; }<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicstring<span>&nbsp;Email {&nbsp;get<span>;&nbsp;set<span>; }<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicstring<span>&nbsp;SomethingUnique {&nbsp;get<span>;&nbsp;set<span>; }<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;public<span>&nbsp;Guid SomeGuid {&nbsp;get<span>;&nbsp;set<span>; }<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicstring<span>&nbsp;Avatar {&nbsp;get<span>;&nbsp;set<span>; }<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;public<span>&nbsp;Guid CartId {&nbsp;get<span>;&nbsp;set<span>; }<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicstring<span>&nbsp;SSN {&nbsp;get<span>;&nbsp;set<span>; }<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;public<span>&nbsp;Gender Gender {&nbsp;get<span>;&nbsp;set<span>; }<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;public<span>&nbsp;List&lt;Order&gt; Orders {&nbsp;get<span>;&nbsp;set<span>; }<span><br><span>&nbsp; &nbsp; }<span><br></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></span></pre>
<h3 data-tool="mdniceç¼è¾å¨"><span>çæéæºç¨æ·ä¿¡æ¯</span></h3>
<p data-tool="mdniceç¼è¾å¨"><span>ä½¿ç¨ Bogus å¿«éçæéæºç¨æ·å§åãé®ç®±ãå°åãçµè¯ç­å³èæ°æ®ï¼</span></p>
<pre data-tool="mdniceç¼è¾å¨"><span data-cacheurl="" data-remoteid="" data-lazy-bgimg="https://mmbiz.qpic.cn/mmbiz_svg/Q3auHgzwzM5sx6Ey3PVibjLRStrhQeBsffvMc9r1M3YxbZt5vPoFniaB50h2qxIicicbUGic90yViaXOBj9pMgLWwHqichMgnQBic5GQWbdbNYoepwB1ia9IkIMOQVA/640?wx_fmt=svg&amp;from=appmsg" data-src="https://mmbiz.qpic.cn/mmbiz_svg/Q3auHgzwzM5sx6Ey3PVibjLRStrhQeBsffvMc9r1M3YxbZt5vPoFniaB50h2qxIicicbUGic90yViaXOBj9pMgLWwHqichMgnQBic5GQWbdbNYoepwB1ia9IkIMOQVA/640?wx_fmt=svg&amp;from=appmsg#imgIndex=11" data-fail="0"><code><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;summary&gt;<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;çæéæºç¨æ·ä¿¡æ¯<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;/summary&gt;<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>public<span>&nbsp;<span>static<span>&nbsp;<span>void<span>&nbsp;<span>GenerateRandomData<span>(<span>)<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; {<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// èªå¨çæå§åãé®ç®±ãå°åãçµè¯ç­å³èæ°æ®<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;faker =&nbsp;new<span>&nbsp;Faker("zh_CN"<span>);// ä½¿ç¨ç®ä½ä¸­æ<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;randomName = faker.Name.FullName();<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;randomEmail = faker.Internet.Email();<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;randomAddress = faker.Address.FullAddress();<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;randomPhone = faker.Phone.PhoneNumber();<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Console.WriteLine(<span>$"Name:&nbsp;<span>{randomName}<span>"<span>);<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Console.WriteLine(<span>$"Email:&nbsp;<span>{randomEmail}<span>"<span>);<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Console.WriteLine(<span>$"Address:&nbsp;<span>{randomAddress}<span>"<span>);<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Console.WriteLine(<span>$"Phone:&nbsp;<span>{randomPhone}<span>"<span>);<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; }<span><br></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></span></pre>
<h3 data-tool="mdniceç¼è¾å¨"><span>EF Core æ°æ®åºç§å­æ°æ®å¡«å</span></h3>
<p data-tool="mdniceç¼è¾å¨"><span>ä½¿ç¨ EF Core å¡«å Blog &amp; Post æ°æ®ï¼</span></p>
<pre data-tool="mdniceç¼è¾å¨"><span data-cacheurl="" data-remoteid="" data-lazy-bgimg="https://mmbiz.qpic.cn/mmbiz_svg/Q3auHgzwzM4Zvic0C12x0uoIKPy9g3UcWObNPbjW1cOSYgibbF1IFBjDVASsI5wicyOssTkdH1iah1Bj5yLskEjTzIVaqIMqsnCFtj8ywZpiaSALjWKa5MoibTRA/640?wx_fmt=svg&amp;from=appmsg" data-src="https://mmbiz.qpic.cn/mmbiz_svg/Q3auHgzwzM4Zvic0C12x0uoIKPy9g3UcWObNPbjW1cOSYgibbF1IFBjDVASsI5wicyOssTkdH1iah1Bj5yLskEjTzIVaqIMqsnCFtj8ywZpiaSALjWKa5MoibTRA/640?wx_fmt=svg&amp;from=appmsg#imgIndex=12" data-fail="0"><code><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;summary&gt;<span><br><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;EF Core æ°æ®åºç§å­æ°æ®å¡«å<span><br><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;éåå¼å/æµè¯ç¯å¢ï¼å¨åºç¨å¯å¨æ¶èªå¨å¡«åæ°æ®ï¼<span><br><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;FakeData.Init(10); // çæ 10 ä¸ª Blogï¼æ¯ä¸ªåå« 3~5 ç¯ Post<span><br><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;/summary&gt;<span><br><span>&nbsp; &nbsp;&nbsp;publicstaticclassFakeData<span><br><span>&nbsp; &nbsp; {<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicstatic<span>&nbsp;List&lt;Blog&gt; Blogs =&nbsp;new<span>&nbsp;List&lt;Blog&gt;();<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicstatic<span>&nbsp;List&lt;Post&gt; Posts =&nbsp;new<span>&nbsp;List&lt;Post&gt;();<span><br><span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>public<span>&nbsp;<span>static<span>&nbsp;<span>void<span>&nbsp;<span>Init<span>(<span>int<span>&nbsp;count<span>)<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; {<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;postId =&nbsp;1<span>;<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;postFaker =&nbsp;new<span>&nbsp;Faker&lt;Post&gt;()<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(p =&gt; p.PostId, _ =&gt; postId++)<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(p =&gt; p.Title, f =&gt; f.Hacker.Phrase())<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(p =&gt; p.Content, f =&gt; f.Lorem.Sentence());<span><br><span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;blogId =&nbsp;1<span>;<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;blogFaker =&nbsp;new<span>&nbsp;Faker&lt;Blog&gt;()<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(b =&gt; b.BlogId, _ =&gt; blogId++)<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(b =&gt; b.Url, f =&gt; f.Internet.Url())<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(b =&gt; b.Posts, (f, b) =&gt;<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; postFaker.RuleFor(p =&gt; p.BlogId, _ =&gt; b.BlogId);<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;posts = postFaker.GenerateBetween(3<span>,&nbsp;5<span>);<span><br><span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// å³é®ï¼æ¶éææ Posts å°éæåè¡¨ä¸­<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Posts.AddRange(posts);<span><br><span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;return<span>&nbsp;posts;<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });<span><br><span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// æ¸ç©ºæ§æ°æ®ï¼é¿åéå¤è°ç¨ç´¯ç§¯<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Blogs.Clear();<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Posts.Clear();<span><br><span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Blogs = blogFaker.Generate(count);<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; }<span><br><span>&nbsp; &nbsp; }<span><br><span><br><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;summary&gt;<span><br><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;Blog<span><br><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;/summary&gt;<span><br><span>&nbsp; &nbsp;&nbsp;publicclassBlog<span><br><span>&nbsp; &nbsp; {<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicint<span>&nbsp;BlogId {&nbsp;get<span>;&nbsp;set<span>; }<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicstring<span>&nbsp;Url {&nbsp;get<span>;&nbsp;set<span>; }<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;public<span>&nbsp;List&lt;Post&gt; Posts {&nbsp;get<span>;&nbsp;set<span>; }<span><br><span>&nbsp; &nbsp; }<span><br><span><br><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;summary&gt;<span><br><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;Post<span><br><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;/summary&gt;<span><br><span>&nbsp; &nbsp;&nbsp;publicclassPost<span><br><span>&nbsp; &nbsp; {<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicint<span>&nbsp;PostId {&nbsp;get<span>;&nbsp;set<span>; }<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicstring<span>&nbsp;Title {&nbsp;get<span>;&nbsp;set<span>; }<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicstring<span>&nbsp;Content {&nbsp;get<span>;&nbsp;set<span>; }<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicint<span>&nbsp;BlogId {&nbsp;get<span>;&nbsp;set<span>; }<span><br><span>&nbsp; &nbsp; }<span><br></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></span></pre>
<p data-tool="mdniceç¼è¾å¨"><span>å¨ Program.cs å¯å¨æ¶å¡«åï¼</span></p>
<pre data-tool="mdniceç¼è¾å¨"><span data-cacheurl="" data-remoteid="" data-lazy-bgimg="https://mmbiz.qpic.cn/mmbiz_svg/Q3auHgzwzM5VylnOKoL0wvgmkbJ2fq7VPgicygWtYrDJuYUbJFqrkXjfjOrlD2hKnFRia70Tgc3vWZg0PTa53FTsnB8iajLhMSCTe2CAL7yGhUVibPtFGzBib3Q/640?wx_fmt=svg&amp;from=appmsg" data-src="https://mmbiz.qpic.cn/mmbiz_svg/Q3auHgzwzM5VylnOKoL0wvgmkbJ2fq7VPgicygWtYrDJuYUbJFqrkXjfjOrlD2hKnFRia70Tgc3vWZg0PTa53FTsnB8iajLhMSCTe2CAL7yGhUVibPtFGzBib3Q/640?wx_fmt=svg&amp;from=appmsg#imgIndex=13" data-fail="0"><code><span>&nbsp; &nbsp;&nbsp;public<span>&nbsp;classProgram<span><br><span>&nbsp; &nbsp; {<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>public<span>&nbsp;<span>static<span>&nbsp;<span>void<span>&nbsp;<span>Main<span>(<span>string<span>[] args<span>)<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; {<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;builder = WebApplication.CreateBuilder(args);<span><br><span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// æ³¨å DbContext<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; builder.Services.AddDbContext&lt;BlogDbContext&gt;(options =&gt;<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; options.UseSqlServer(builder.Configuration.GetConnectionString("DefaultConnection"<span>)));<span><br><span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;app = builder.Build();<span><br><span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// åºç¨å¯å¨æ¶å¡«åç§å­æ°æ®<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;using<span>&nbsp;(var<span>&nbsp;scope = app.Services.CreateScope())<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;context = scope.ServiceProvider.GetRequiredService&lt;BlogDbContext&gt;();<span><br><span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// ç¡®ä¿æ°æ®åºå·²åå»º<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; context.Database.EnsureCreated();<span><br><span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// ä»å¨æ°æ®åºä¸ºç©ºæ¶å¡«ååæ°æ®<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;if<span>&nbsp;(!context.Blogs.Any())<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FakeData.Init(10<span>);&nbsp;// çæ 10 ä¸ª Blogï¼æ¯ä¸ªåå« 3~5 ç¯ Post<span><br><span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; context.Blogs.AddRange(FakeData.Blogs);<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; context.Posts.AddRange(FakeData.Posts);<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; context.SaveChanges();<span><br><span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Console.WriteLine(<span>$"å·²å¡«å&nbsp;<span>{FakeData.Blogs.Count}<span>&nbsp;ä¸ªåå®¢,&nbsp;<span>{FakeData.Posts.Count}<span>&nbsp;ç¯æç« "<span>);<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<span><br><span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; app.MapControllers();<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; app.Run();<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; }<span><br><span>&nbsp; &nbsp; }<span><br></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></span></pre>
<h3 data-tool="mdniceç¼è¾å¨"><span>èªå®ä¹æ©å± Bogus æ°æ®é</span></h3>
<p data-tool="mdniceç¼è¾å¨"><span>å¼åèå¯ä»¥è½»æ¾æ©å± Bogusï¼æ·»å èªå®ä¹çæ°æ®çæå¨ï¼</span></p>
<pre data-tool="mdniceç¼è¾å¨"><span data-cacheurl="" data-remoteid="" data-lazy-bgimg="https://mmbiz.qpic.cn/mmbiz_svg/Q3auHgzwzM4gF2l1SiaFXxiaZxkYg4rv6JObGaFKSDgibZMtbmQoVrX0hnfEnPXht9dv7x7g6mCH5mcUBTEzSQRJXTryO29UZMetjq6WlBeU8fWsyPBB9WEsw/640?wx_fmt=svg&amp;from=appmsg" data-src="https://mmbiz.qpic.cn/mmbiz_svg/Q3auHgzwzM4gF2l1SiaFXxiaZxkYg4rv6JObGaFKSDgibZMtbmQoVrX0hnfEnPXht9dv7x7g6mCH5mcUBTEzSQRJXTryO29UZMetjq6WlBeU8fWsyPBB9WEsw/640?wx_fmt=svg&amp;from=appmsg#imgIndex=14" data-fail="0"><code><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;summary&gt;<span><br><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;ä¸º Bogus ç Faker ç±»æä¾é£åç¸å³çèªå®ä¹åæ°æ®æ©å±æ¹æ³<span><br><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;/summary&gt;<span><br><span>&nbsp; &nbsp;&nbsp;publicstaticclassFoodExtensions<span><br><span>&nbsp; &nbsp; {<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;summary&gt;<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;çæä¸ä¸ªéæºçç³æåç§°<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;/summary&gt;<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;param name="faker"&gt;<span>&lt;/param&gt;<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;returns&gt;<span>&lt;/returns&gt;<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>public<span>&nbsp;<span>static<span>&nbsp;<span>string<span>&nbsp;<span>Candy<span>(<span>this<span>&nbsp;Faker faker<span>)<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; {<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;return<span>&nbsp;faker.PickRandom(new<span>[] {&nbsp;"å·§åå"<span>,&nbsp;"æ£æ£ç³"<span>,&nbsp;"å£é¦ç³"<span>,&nbsp;"è½¯ç³"<span>,&nbsp;"å¤ªå¦ç³"<span>&nbsp;});<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; }<span><br><span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;summary&gt;<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;çæä¸ä¸ªéæºçé¥®ååç§°<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;/summary&gt;<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;param name="faker"&gt;<span>&lt;/param&gt;<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;returns&gt;<span>&lt;/returns&gt;<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>public<span>&nbsp;<span>static<span>&nbsp;<span>string<span>&nbsp;<span>Drink<span>(<span>this<span>&nbsp;Faker faker<span>)<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; {<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;return<span>&nbsp;faker.PickRandom(new<span>[] {&nbsp;"å¯ä¹"<span>,&nbsp;"éªç¢§"<span>,&nbsp;"æ©æ±"<span>,&nbsp;"åå¡"<span>,&nbsp;"çå¥¶"<span>&nbsp;});<span><br><span>&nbsp; &nbsp; &nbsp; &nbsp; }<span><br><span>&nbsp; &nbsp; }<span><br><span>&nbsp; &nbsp;&nbsp;<span><br><span>&nbsp; &nbsp;&nbsp;// ä½¿ç¨èªå®ä¹æ©å±<span><br><span>&nbsp; &nbsp;&nbsp;var<span>&nbsp;faker =&nbsp;new<span>&nbsp;Faker();<span><br><span>&nbsp; &nbsp; Console.WriteLine(<span>$"æç±ç³æ:&nbsp;<span>{faker.Candy()}<span>"<span>);<span><br><span>&nbsp; &nbsp; Console.WriteLine(<span>$"æç±é¥®æ:&nbsp;<span>{faker.Drink()}<span>"<span>);<span><br></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></span></pre>
<h2 data-tool="mdniceç¼è¾å¨"><span>é¡¹ç®æºç å°å</span></h2>
<p data-tool="mdniceç¼è¾å¨"><span>æ´å¤é¡¹ç®å®ç¨åè½åç¹æ§æ¬¢è¿åå¾é¡¹ç®å¼æºå°åæ¥çðï¼å«å¿äºç»é¡¹ç®ä¸ä¸ªStaræ¯æðã</span></p>
<ul class="list-paddingleft-1">
<li><strong>GitHubå¼æºå°åï¼</strong><span style="color: rgba(0, 0, 255, 1)"><a href="https://github.com/bchavez/Bogus" target="_blank" rel="noopener nofollow"><span style="color: rgba(0, 0, 255, 1)">https://github.com/bchavez/Bogus</span></a></span></li>
<li><strong>æç« ä»£ç ç¤ºä¾ï¼</strong><span style="color: rgba(0, 0, 255, 1)"><a href="https://github.com/YSGStudyHards/DotNetExercises/tree/master/BogusExercise" target="_blank" rel="noopener nofollow"><span style="color: rgba(0, 0, 255, 1)">https://github.com/YSGStudyHards/DotNetExercises/tree/master/BogusExercise</span></a></span></li>
</ul>
<h2 data-tool="mdniceç¼è¾å¨"><span>ä¼ç§é¡¹ç®åæ¡æ¶ç²¾é</span></h2>
<p data-tool="mdniceç¼è¾å¨"><span>è¯¥é¡¹ç®å·²æ¶å½å°C#/.NET/.NET Coreä¼ç§é¡¹ç®åæ¡æ¶ç²¾éä¸­ï¼å³æ³¨ä¼ç§é¡¹ç®åæ¡æ¶ç²¾éè½è®©ä½ åæ¶äºè§£C#ã.NETå.NET Coreé¢åçææ°å¨æåæä½³å®è·µï¼æé«å¼åå·¥ä½æçåè´¨éãåå·²æï¼æ¬¢è¿å¤§å®¶è¸è·æäº¤PRæ¨èæèªèï¼<strong>è®©ä¼ç§çé¡¹ç®åæ¡æ¶ä¸è¢«åæ²¡ð¤</strong><span>ï¼ã</span></span></p>
<ul class="list-paddingleft-1">
<li><strong>GitHubå¼æºå°åï¼</strong><span style="color: rgba(0, 0, 255, 1)"><a href="https://github.com/YSGStudyHards/DotNetGuide/blob/main/docs/DotNet/DotNetProjectPicks.md" target="_blank" rel="noopener nofollow"><span style="color: rgba(0, 0, 255, 1)">https://github.com/YSGStudyHards/DotNetGuide/blob/main/docs/DotNet/DotNetProjectPicks.md</span></a></span></li>
<li><strong>Giteeå¼æºå°åï¼</strong><span style="color: rgba(0, 0, 255, 1)"><a href="https://gitee.com/ysgdaydayup/DotNetGuide/blob/main/docs/DotNet/DotNetProjectPicks.md" target="_blank" rel="noopener nofollow"><span style="color: rgba(0, 0, 255, 1)">https://gitee.com/ysgdaydayup/DotNetGuide/blob/main/docs/DotNet/DotNetProjectPicks.md</span></a></span></li>
</ul>
<h2 id="activity-name" class="rich_media_title ">DotNetGuideææ¯ç¤¾åº</h2>
<ul>
<li>DotNetGuideææ¯ç¤¾åºæ¯ä¸ä¸ªé¢å.NETå¼åèçå¼æºææ¯ç¤¾åºï¼æ¨å¨ä¸ºå¼åèä»¬æä¾å¨é¢çC#/.NET/.NET Coreç¸å³å­¦ä¹ èµæãææ¯åäº«åå¨è¯¢ãé¡¹ç®æ¡æ¶æ¨èãæ±èåæèèµè®¯ãä»¥åè§£å³é®é¢çå¹³å°ã</li>
<li>å¨DotNetGuideææ¯ç¤¾åºä¸­ï¼å¼åèä»¬å¯ä»¥åäº«èªå·±çææ¯æç« ãé¡¹ç®ç»éªãå­¦ä¹ å¿å¾ãéå°ççé¾ææ¯é®é¢ä»¥åè§£å³æ¹æ¡ï¼å¹¶ä¸è¿ææºä¼ç»è¯å¿åéåçå¼åèã</li>
<li>æä»¬è´åäºæå»ºä¸ä¸ªç§¯æåä¸ãåè°ååç.NETææ¯äº¤æµå¹³å°ãæ è®ºæ¨æ¯åå­¦èè¿æ¯æä¸°å¯ç»éªçå¼åèï¼æä»¬é½å¸æè½ä¸ºæ¨æä¾æ´å¤çä»·å¼åæé¿æºä¼ã</li>
</ul>
<blockquote>
<p><span style="color: rgba(0, 0, 255, 1)"><a href="https://mp.weixin.qq.com/s/CbPvhmfK4ZWsHJj2eKMk7Q" rel="noopener nofollow" target="_blank"><span style="color: rgba(0, 0, 255, 1)"><strong>æ¬¢è¿å å¥DotNetGuideææ¯ç¤¾åºå¾®ä¿¡äº¤æµç¾¤ðª</strong></span></a></span></p>
</blockquote>

</div>
<div id="MySignature" role="contentinfo">
    <blockquote>
<p style="font-family:YouYuan;font-size: 16px;margin: 0 auto 0.01em auto;"><span style="font-size: 17px; ">ä½èåç§°ï¼</span><a href="https://www.cnblogs.com/Can-daydayup/" target="_blank">è¿½éæ¶åè</a></p>
<p style="font-family:YouYuan;font-size: 16px;margin: 0 auto 0.01em auto;"><span style="font-size: 17px; ">ä½èç®ä»ï¼</span>ä¸ä¸ªç­ç±ç¼ç¨ãåäºåäº«ãåæ¬¢å­¦ä¹ ãæ¢ç´¢ãå°è¯æ°äºç©åæ°ææ¯çå¨æ è½¯ä»¶å·¥ç¨å¸ã</p>
<p style="font-family:YouYuan;font-size: 16px;margin: 0 auto 0.01em auto;">
æ¬æçæå½ä½èååå®¢å­å±æï¼æ¬¢è¿è½¬è½½ï¼ä½æªç»ä½èåæå¿é¡»ä¿çæ­¤æ®µå£°æï¼ä¸å¨æç« é¡µé¢ææ¾ä½ç½®ç»åºåæé¾æ¥ï¼å¦åä¿çè¿½ç©¶æ³å¾è´£ä»»çæå©ãå¦æè¯¥ç¯æç« å¯¹æ¨æå¸®å©çè¯ï¼å¯ä»¥ç¹ä¸ä¸å³ä¸è§ç<a onclick="votePost(cb_entryId,'Digg')" href="javascript:void(0)" style="color:red;">ãâ¥æ¨èâ¥ã</a>ï¼å¸æè½å¤æç»­çä¸ºå¤§å®¶å¸¦æ¥å¥½çææ¯æç« ï¼æä¸­å¯è½å­å¨æè¿°ä¸æ­£ç¡®çå°æ¹ï¼æ¬¢è¿ææ­£æè¡¥åï¼ä¸èææ¿ã
</p>
</blockquote>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-11 00:53">2026-02-11 00:52</span>&nbsp;
<a href="https://www.cnblogs.com/Can-daydayup">è¿½éæ¶åè</a>&nbsp;
éè¯»(<span id="post_view_count">237</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19601424);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19601424', targetLink: 'https://www.cnblogs.com/Can-daydayup/p/19601424', title: 'ä¸æ¬¾å¼æºãå¼ºå¤§ãç®åæç¨ç .NET åæ°æ®çæå©å¨' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ OData åè®®çæºè½åè¯­ä¹äºæä½ ]]></title>
    <link>https://www.cnblogs.com/shanyou/p/19601411</link>
    <guid>6e705b1a67313985bd02087bca7f30a1</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/shanyou/p/19601411" title="åå¸äº 2026-02-10 20:40">
    <span role="heading" aria-level="2">OData åè®®çæºè½åè¯­ä¹äºæä½</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        query-craft-mcp åå½äº LLM ä¸ OData æå¡ä¹é´çè¯­ä¹æ¡¥æ¢ï¼è§£å³ OData v4 è¯­æ³å¤æä¸å¯¹å¤§å°åææçé®é¢
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>å¨å½ä»å¤æå¤åçä¼ä¸æ°å­åè½¬åè¿ç¨ä¸­ï¼æ°æ®åè®®çæ ååä¸äºæä½æ§å·²æä¸ºæ¯æä¸å¡ææ·æ§ä¸å³ç­æºè½çæ ¸å¿åºç³ãå¼æ¾æ°æ®åè®®ï¼Open Data Protocolï¼ç®ç§° ODataï¼ä½ä¸ºä¸ç§åºäº REST æ¶æé£æ ¼çå¼æ¾åè®®ï¼èª 2007 å¹´ç±å¾®è½¯å¬å¸ï¼Microsoftï¼åèµ·ä»¥æ¥ï¼ç»åäºä»ç§æè§èå°å¨çå¬è®¤å½éæ åçåä¸½èåãOData çæ ¸å¿ç®æ å¨äºæä¾ä¸ç§æ ååçæ¹å¼æ¥åå»ºåæ¶è´¹å¯æ¥è¯¢ä¸äºæä½ç Web APIï¼ä»èæç ´æ°æ®å­¤å²ï¼æåè·¨ç³»ç»æ°æ®çå±äº«ä»·å¼ã</p>
<h2 id="ä¸odata-åè®®çåå²èæ¯ä¸è®¾è®¡å²å­¦"><strong>ä¸ãOData åè®®çåå²èæ¯ä¸è®¾è®¡å²å­¦</strong></h2>
<p>OData çèµ·æºå¯ä»¥è¿½æº¯å° Web 2.0 æ¶ä»£å¯¹æ°æ®äº¤æ¢ç®ä¾¿æ§çè¿«åéæ±ãæ©æçä¼ä¸æå¡ä¸»è¦ä¾èµäº SOAP ç­åºäºå¨ä½çåè®®ï¼è¿ç±»åè®®è½ç¶ä¸¥è°¨ä½è¿äºæ²éä¸é¾ä»¥å¨ç°ä»£ Web ç¯å¢ä¸­çµæ´»é¨ç½²ãä¸ºäºè§£å³è¿äºææï¼å¾®è½¯æåæ¨åºäº OData v1.0 è³ v3.0 çæ¬ï¼å¹¶å°å¶ç½®äºå¾®è½¯å¼æ¾è§èæ¿è¯ºï¼Microsoft Open Specification Promiseï¼ä¹ä¸ãéçåè®®çæçï¼OData éæ¸æ­¥å¥æ ååè½¨éï¼v4.0 çæ¬æ­£å¼éè¿ OASIS èççæ ååå®¡æ ¸ï¼å¹¶æç»è·å¾ ISO/IEC çæ¹åï¼ISO/IEC 20802-1:2016ï¼ï¼ç¡®ç«äºå¶å¨ RESTful API é¢åçæå¨å°ä½ã</p>
<h3 id="æ ¸å¿è®¾è®¡åå"><strong>æ ¸å¿è®¾è®¡åå</strong></h3>
<p>OData çè®¾è®¡å²å­¦æ·±æ·±ææ ¹äº REST ååï¼åæ¶åå¨è¯­ä¹è¡¨è¾¾ä¸è¿è¡äºæ¾èå¢å¼ºãåæå¶è®¾è®¡ååï¼å¯ä»¥åç°äºä¸ªå³é®ç»´åº¦ï¼è¿äºç»´åº¦å±åææäºå¶å¨ä¼ä¸çº§åºç¨ä¸­çé§æ§ï¼</p>
<table>
<thead>
<tr>
<th style="text-align: left">æ ¸å¿åå</th>
<th style="text-align: left">æè¿°ä¸å®è·µå«ä¹</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left"><strong>éµå¾ª REST åå</strong></td>
<td style="text-align: left">å»ºç«å¨ HTTPãAtomPub å JSON ä¹ä¸ï¼ä½¿ç¨ URI æ è¯èµæºï¼å©ç¨æ å HTTP æ¹æ³æ§è¡æä½ã</td>
</tr>
<tr>
<td style="text-align: left"><strong>ä¿æç®åæ§</strong></td>
<td style="text-align: left">ä¼åè§£å³ 80% çéç¨åºæ¯ï¼ä¸ºå¤æéæ±æä¾å¯æ©å±æ§ï¼ç¡®ä¿åºç¡åè§æå¡çæå»ºé¨æ§è¾ä½ã</td>
</tr>
<tr>
<td style="text-align: left"><strong>å¢éå¼æå»º</strong></td>
<td style="text-align: left">åè®¸å¼åèä»æç®åçåªè¯»æå¡å¼å§ï¼éçä¸å¡éæ±éæ­¥å¼å¥æ¥è¯¢ãè¿æ»¤ãæåºååå¥è½åã</td>
</tr>
<tr>
<td style="text-align: left"><strong>é«åº¦å¯æ©å±æ§</strong></td>
<td style="text-align: left">æ¯æå¨ä¸ç ´åæ¢æå®¢æ·ç«¯å¼å®¹æ§çåæä¸ï¼å¼å¥ç¹å®é¢åçåè½æ©å±ï¼ç¡®ä¿æç»­æ¼è¿ã</td>
</tr>
<tr>
<td style="text-align: left"><strong>æ°æ®æºæ å³æ§</strong></td>
<td style="text-align: left">ä¸é¢è®¾åºå±æ°æ®å­å¨ææ¯ï¼æ è®ºæ¯å³ç³»åæ°æ®åºãæä»¶ç³»ç»è¿æ¯åå®¹ç®¡çç³»ç»ï¼åå¯ç»ä¸æ å°ã</td>
</tr>
</tbody>
</table>
<p>éè¿è¿ç§é«åº¦æ½è±¡çè®¾è®¡ï¼OData ä¸ä»ä»æ¯ä¸ä¸ªæ°æ®ä¼ è¾æ ¼å¼ï¼æ´æ¯ä¸ä¸ªå³äºå¦ä½æå»ºâå¥½âAPI çæä½³å®è·µéåãå®è®©å¼åèè½å¤å°ç²¾åéä¸­å¨ä¸å¡é»è¾ä¸ï¼èæ éä¸ºè¯·æ±/ååºå¤´ãç¶æç ãåªä½ç±»åæ URL çº¦å®ç­çç¢çææ¯ç»èå³ç¥ã</p>
<h2 id="äºå®ä½æ°æ®æ¨¡å-edm-ä¸åæ°æ®é©±å¨æ¶æ"><strong>äºãå®ä½æ°æ®æ¨¡å (EDM) ä¸åæ°æ®é©±å¨æ¶æ</strong></h2>
<p>OData ä¸ä¼ ç» RESTful API ææ¬è´¨çåºå«å¨äºå¶å¯¹âæ°æ®æ¨¡åâçæ¾å¼å®ä¹ãè¿ç§å®ä¹éè¿å®ä½æ°æ®æ¨¡åï¼Entity Data Model, EDMï¼å®ç°ï¼å®æ¯ OData è¯­ä¹äºæä½æ§ççµé­ã</p>
<h3 id="å®ä½æ°æ®æ¨¡åçç»æè¦ç´ "><strong>å®ä½æ°æ®æ¨¡åçç»æè¦ç´ </strong></h3>
<p>EDM åç¨äºå®ä½-èç³»ï¼ERï¼æ¨¡åçæ¦å¿µï¼å®ä¹äºä¸ä¸ªæ½è±¡çæ¦å¿µæ¨¡åæ¥æè¿°æå¡æ´é²çææèµæºãå¶æ ¸å¿ç»æé¨ååæ¬å®ä½éï¼EntitySetsï¼ãå®ä½ï¼Entitiesï¼ãå¤æç±»åï¼ComplexTypesï¼åæ éç±»åï¼Scalar Typesï¼ã</p>
<ol>
<li><strong>å®ä½ä¸å®ä½é</strong>ï¼å®ä½æ¯å·æå¯ä¸æ è¯ç¬¦ï¼Keyï¼çç»æåè®°å½ï¼éå¸¸å¯¹åºæ°æ®åºä¸­çä¸è¡ãå®ä½éåæ¯åç±»å®ä½çéåï¼ç±»ä¼¼äºæ°æ®åºè¡¨ãå¼å¾æ³¨æçæ¯ï¼ä¸ä¸ªå®ä½ç±»åå¯ä»¥å­å¨äºå¤ä¸ªå·æä¸ååç§°çå®ä½éä¸­ï¼è¿ä¸ºå¼åèæä¾äºæå¤§ççµæ´»æ§ã</li>
<li><strong>æ éç±»å</strong>ï¼EDM æ¥æä¸å¥åç½®çå¼ºç±»åç³»ç»ï¼ææå±æ§å¿é¡»å±äºé¢å®ä¹çæ éç±»åï¼å¦ Edm.String, Edm.Int32, Edm.DateTimeOffsetï¼ãè¿ç§å¼ºç±»åçº¦æç¡®ä¿äºè·¨å¹³å°ãè·¨è¯­è¨çæ°æ®äº¤æ¢å·æé«åº¦çä¸è´æ§ã</li>
<li><strong>å¤æç±»å</strong>ï¼åè®¸å°ä¸ç»æ éå±æ§ç»åå¨ä¸èµ·ï¼å½¢æå¯éç¨çç»æï¼ä½å¶æ¬èº«ä¸å·å¤å¯ä¸æ è¯ï¼å¿é¡»ä¾éäºå®ä½å­å¨ã</li>
<li><strong>å¯¼èªå±æ§ (Navigation Properties)</strong>ï¼æè¿°äºå®ä½ä¹é´çå³èå³ç³»ãéè¿å¯¼èªå±æ§ï¼å®¢æ·ç«¯å¯ä»¥ä»ä¸ä¸ªå®ä½è·³è½¬å°å¦ä¸ä¸ªç¸å³èçå®ä½æå®ä½éï¼è¿ææäº OData å¼ºå¤§çå¾å¯¼èªè½åã</li>
</ol>
<h3 id="æå¡ææ¡£ä¸åæ°æ®ææ¡£çä»·å¼"><strong>æå¡ææ¡£ä¸åæ°æ®ææ¡£çä»·å¼</strong></h3>
<p>ä¸ºäºå®ç°å®¢æ·ç«¯çâèªåç°âè½åï¼æ¯ä¸ä¸ª OData æå¡é½å¿é¡»æä¾ä¸¤ä¸ªæ ¸å¿ææ¡£ï¼</p>
<ul>
<li><strong>æå¡ææ¡£ (Service Document)</strong>ï¼ä½äºæå¡æ ¹è·¯å¾ï¼å¦ <a href="http://host/service/%EF%BC%89%EF%BC%8C%E5%88%97%E5%87%BA%E6%89%80%E6%9C%89%E5%8F%AF%E7%94%A8%E7%9A%84%E5%AE%9E%E4%BD%93%E9%9B%86%E3%80%81%E5%87%BD%E6%95%B0%E5%92%8C%E5%8D%95%E4%BE%8B%EF%BC%8C%E4%B8%BA%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%8F%90%E4%BE%9B%E5%AF%BC%E8%88%AA%E7%9A%84%E5%85%A5%E5%8F%A3%E7%82%B9%E3%80%82" target="_blank" rel="noopener nofollow">http://host/service/ï¼ï¼ååºææå¯ç¨çå®ä½éãå½æ°ååä¾ï¼ä¸ºå®¢æ·ç«¯æä¾å¯¼èªçå¥å£ç¹ã</a></li>
<li><strong>åæ°æ®ææ¡£ (Metadata Document)</strong>ï¼ä½äº $metadata è·¯å¾ä¸ï¼éç¨éç¨æ¶æå®ä¹è¯­è¨ï¼CSDLï¼ç¼åãå®æ¯æå¡çâè¯´æä¹¦âï¼è¯¦ç»æè¿°äºæ¯ç§ç±»åçå±æ§ãé®ãå¯¼èªè·¯å¾åæ¯æçæä½ã</li>
</ul>
<p>è¿ç§åæ°æ®é©±å¨çæ¶æä½¿å¾éç¨å·¥å·ï¼å¦ ExcelãPower BIãSalesforce Connect ç­ï¼è½å¤ä»éè¿è§£æ $metadata å³å¯çè§£æå¡çå¨é¨ç»æï¼ä»èå®ç°é¶éç½®çæ°æ®éæã</p>
<h2 id="ä¸ç³»ç»æ¥è¯¢éé¡¹url-é©±å¨çæ°æ®åæè½å"><strong>ä¸ãç³»ç»æ¥è¯¢éé¡¹ï¼URL é©±å¨çæ°æ®åæè½å</strong></h2>
<p>OData æä»¤ä¸çç§°éçç¹æ§æ¯å¶æä¸ºä¸°å¯çæ¥è¯¢è¯­è¨ãéè¿å¨ URL ä¸­éå ç³»ç»æ¥è¯¢éé¡¹ï¼ä»¥ $ ç¬¦å·å¼å¤´ï¼ï¼å®¢æ·ç«¯å¯ä»¥ç²¾ç¡®æ§å¶æå¡å¨è¿åçæ°æ®åå®¹åæ ¼å¼ï¼ä»èæå¤§å°ç¼è§£äº REST æ¶æä¸­å¸¸è§çâè¿åº¦è·åâï¼Over-fetchingï¼åâè·åä¸è¶³âï¼Under-fetchingï¼é®é¢ã</p>
<h3 id="åºç¡æ¥è¯¢æä½"><strong>åºç¡æ¥è¯¢æä½</strong></h3>
<p>ä¸è¡¨æ»ç»äº OData ä¸­æå¸¸ç¨çç³»ç»æ¥è¯¢éé¡¹åå¶åè½ï¼</p>
<table>
<thead>
<tr>
<th style="text-align: left">æ¥è¯¢éé¡¹</th>
<th style="text-align: left">åè½è¯´æ</th>
<th style="text-align: left">å¸åç¤ºä¾</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left">$filter</td>
<td style="text-align: left">åºäºé»è¾è¡¨è¾¾å¼ç­éæ°æ®ã</td>
<td style="text-align: left">Products?$filter=Price lt 10 and startswith(Name,'M')</td>
</tr>
<tr>
<td style="text-align: left">$select</td>
<td style="text-align: left">æå®è¿åçå±æ§å­æ®µï¼ä¼åå¸¦å®½ã</td>
<td style="text-align: left">Customers?$select=Name,Email</td>
</tr>
<tr>
<td style="text-align: left">$expand</td>
<td style="text-align: left">åµå¥è¿åå³èå®ä½ï¼åå°å¾è¿è¯·æ±ã</td>
<td style="text-align: left">Orders?$expand=OrderItems</td>
</tr>
<tr>
<td style="text-align: left">$orderby</td>
<td style="text-align: left">å¯¹ç»æè¿è¡æåºï¼æ¯æå¤å­æ®µã</td>
<td style="text-align: left">Products?$orderby=Price desc, Name</td>
</tr>
<tr>
<td style="text-align: left">$top / $skip</td>
<td style="text-align: left">å®ç°å®¢æ·ç«¯åé¡µï¼éå¶è¿åæ¡æ°æè·³è¿å N æ¡ã</td>
<td style="text-align: left">Employees?$top=10&amp;$skip=20</td>
</tr>
<tr>
<td style="text-align: left">$count</td>
<td style="text-align: left">è¿åå¹éæ¡ä»¶çè®°å½æ»æ° ã</td>
<td style="text-align: left">Invoices?$count=true</td>
</tr>
<tr>
<td style="text-align: left">$search</td>
<td style="text-align: left">æ§è¡å¨ææç´¢ï¼éç¨äºéç»æåæ°æ®ã</td>
<td style="text-align: left">Products?$search=waterproof</td>
</tr>
</tbody>
</table>
<h3 id="æ°æ®èåæ©å±-apply"><strong>æ°æ®èåæ©å± ($apply)</strong></h3>
<p>å¨ OData v4.0 ä¸­ï¼åè®®å¼å¥äº $apply æ©å±ï¼å° OData ä»ç®åç CRUD åè®®æåå°äºåæååè®®çé«åº¦ãéè¿ $applyï¼å®¢æ·ç«¯å¯ä»¥å¨æå¡ç«¯æ§è¡ç±»ä¼¼äº SQL GROUP BY çæä½ã</p>
<p>æ°æ®èåçæ ¸å¿å¨äºä¸ç³»åè½¬æ¢ï¼Transformationsï¼çé¡ºåºæ§è¡ãä¾å¦ï¼groupby è½¬æ¢å°è¾å¥éååä¸ºå¤ä¸ªå­éï¼è aggregate åå¯¹è¿äºå­éåºç¨èåå½æ°ï¼å¦ sum, average, min, max, countdistinctï¼ã</p>
<p>è¿ç§è½¬æ¢æµæ¨¡å¼æ¯ææåº¦å¤æçæ¥è¯¢ãä¾å¦ï¼âææè®¡ç®æ¯ç§äº§åçå¹³åéå®é¢âå¯ä»¥éè¿å¤å±èåå®ç°ï¼é¦åæäº§ååæä»½è¿è¡ groupby å¹¶æ±åï¼ç¶åå¯¹ç»æåæ¬¡æäº§åè¿è¡ groupby å¹¶æ±å¹³åå¼ ãè¿ç§é¾å¼å¤çè½åä½¿å¾ OData è½å¤èä»»è½»éçº§çåä¸æºè½éæ±ã</p>
<h2 id="åå¹¶æ§å¶ä¸æ§è½ä¼åç­ç¥"><strong>åãå¹¶æ§å¶ä¸æ§è½ä¼åç­ç¥</strong></h2>
<p>å¨ä¼ä¸çº§é«å¹¶åç¯å¢ä¸ï¼ç¡®ä¿æ°æ®ä¸è´æ§ä¸ç³»ç»ååºéåº¦æ¯è¯ä»·åè®®ä¼å£çå³é®ææ ãOData éè¿ä¸ç³»åç²¾å¦çè®¾è®¡æä¾äºå·¥ä¸çº§çè§£å³æ¹æ¡ã</p>
<h3 id="ä¹è§å¹¶åæ§å¶ä¸-etag"><strong>ä¹è§å¹¶åæ§å¶ä¸ ETag</strong></h3>
<p>ç±äº OData åºäºæ ç¶æç HTTP åè®®ï¼ä¼ ç»çæ²è§éï¼Pessimistic Lockingï¼ä¼æå¤§æå®³æ©å±æ§å¹¶å¯¼è´æ­»é 16ãå æ­¤ï¼OData æ¨èå¹¶å®ç°äºåºäºå®ä½æ ç­¾ï¼ETagï¼çä¹è§å¹¶åæ§å¶ã</p>
<p>å½æå¡å¨è¿åå®ä½æ¶ï¼ä¼å¨ååºå¤´æåæ°æ®ä¸­åå«ä¸ä¸ª ETagï¼å®éå¸¸æ¯å®ä½åå®¹æçæ¬å·çåå¸å¼ãå½å®¢æ·ç«¯å°è¯æ´æ°è¯¥å®ä½æ¶ï¼å¿é¡»å¨ If-Match è¯·æ±å¤´ä¸­æºå¸¦è¯¥ ETagãå¦ææå¡å¨åç°å­å¨ä¸­çå½å ETag ä¸å®¢æ·ç«¯æä¾çä¸ä¸è´ï¼åè¯´æå¨å®¢æ·ç«¯è¯»åä¹åï¼è¯¥è®°å½å·²è¢«å¶ä»è¿ç¨ä¿®æ¹ï¼æ­¤æ¶æå¡å¨ä¼è¿å 412 Precondition Failedã</p>
<p>è¿ä¸æºå¶å¨ SAP CAPãASP.NET Web API ç­ä¸»æµæ¡æ¶ä¸­å¾å°äºèªå¨åå¤çãä¾å¦ï¼å¨ SAP CAP ä¸­ï¼ä»éä¸ºå±æ§æ·»å  @odata.etag æ³¨è§£ï¼æ¡æ¶å³å¯èªå¨å®ææ ¡éªé»è¾ï¼æ¾èéä½äºå¼åææ¬ã</p>
<h3 id="æ§è½å éå¨æ¹å¤çä¸æå¡ç«¯åé¡µ"><strong>æ§è½å éå¨ï¼æ¹å¤çä¸æå¡ç«¯åé¡µ</strong></h3>
<ol>
<li><strong>æ¹å¤ç ($batch)</strong>ï¼$batch åè®¸å°å¤ä¸ªç¬ç«çè¯»åè¯·æ±åå¹¶ä¸ºä¸ä¸ª HTTP POST è¯·æ±ãåææ¾ç¤ºï¼è¿ä¸ä»åå°äºç½ç»å¾è¿æ¶é´ï¼RTTï¼ï¼è¿è½å¨æ´æ°æä½ä¸­å©ç¨åä¸çåå­å·¥ä½ååï¼Atomic Unit of Workï¼ï¼ä»èåå°æ°æ®åºäºå¡å¼éå CPU å ç¨ 11ã</li>
<li><strong>æå¡ç«¯åé¡µ ($skiptoken)</strong>ï¼ä¸ç®åçåç§»éåé¡µï¼$skipï¼ä¸åï¼æå¡ç«¯åé¡µå©ç¨ $skiptoken è¿åä¸ä¸ªä¸éæçä»¤çï¼è¯¥ä»¤çéå¸¸å¯¹åºæ°æ®åºæ¸¸æ æä¸ä¸æ¬¡æ¥è¯¢çæåä¸æ¡è®°å½çé®å¼ 12ãå¯¹äºå¤§åæ°æ®éï¼$skiptoken çæ¥è¯¢éåº¦è¿é«äº $skipï¼å ä¸ºå®é¿åäºæ°æ®åºå¼ææ«æå¹¶ä¸¢å¼ååºè®°å½çæ§è½æè 12ã</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align: left">ä¼åææ¯</th>
<th style="text-align: left">ä¸»è¦æ¶ç</th>
<th style="text-align: left">éç¨åºæ¯</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left"><strong>$batch</strong></td>
<td style="text-align: left">åå° RTTï¼ä¿è¯åå­æ§ã</td>
<td style="text-align: left">æ¹éæ´æ°éå³èå®ä½ï¼åå°ç§»å¨ç«¯çµéæè ã</td>
</tr>
<tr>
<td style="text-align: left"><strong>$expand</strong></td>
<td style="text-align: left">è§£å³ N+1 æ¥è¯¢é®é¢ã</td>
<td style="text-align: left">è·åä¸»è¡¨åå¶æç»è¡ï¼å¦è®¢åä¸é¡¹ï¼ã</td>
</tr>
<tr>
<td style="text-align: left"><strong>$select</strong></td>
<td style="text-align: left">åå° Payload ä½ç§¯ã</td>
<td style="text-align: left">ä»è·å ID ååç§°ç¨äºå±ç¤ºåè¡¨ã</td>
</tr>
<tr>
<td style="text-align: left"><strong>$skiptoken</strong></td>
<td style="text-align: left">ç¨³å®é«æçå¤§æ°æ®éåé¡µã</td>
<td style="text-align: left">æ éæ»å¨åè¡¨ï¼å¤§åæ¥è¡¨å¯¼åºã</td>
</tr>
<tr>
<td style="text-align: left"><strong>GZIP åç¼©</strong></td>
<td style="text-align: left">æ¾èåå°ç½ç»æµéã</td>
<td style="text-align: left">ææçäº§ç¯å¢ç OData æå¡ 20ã</td>
</tr>
</tbody>
</table>
<h2 id="äº-æºè½åéæmodel-context-protocol-mcp-ä¸-odata-çåå"><strong>äºã æºè½åéæï¼Model Context Protocol (MCP) ä¸ OData çåå</strong></h2>
<p>éçå¤§è¯­è¨æ¨¡åï¼LLMï¼æä¸ºä¼ä¸çäº§åçæ ¸å¿ï¼API åè®®çâæºå¨å¯çè§£æ§âåå¾è³å³éè¦ãOData çåæ°æ®é©±å¨ç¹æ§ä½¿å¶æä¸º LLM è½å°æçæ³çåå£¤ã</p>
<h3 id="è¯­ä¹æ¥å°-semantic-grounding-çææ"><strong>è¯­ä¹æ¥å° (Semantic Grounding) çææ</strong></h3>
<p>LLM å¨çææ¥è¯¢è¯­å¥æ¶å¸¸é¢ä¸´âå¹»è§âé®é¢ï¼å³çæä¸å­å¨çå®ä½åæå±æ§åãOData çåæ°æ®ææ¡£æä¾äºä¸ä¸ªå®ç¾çåèåæ ç³»ï¼Grounding Layerï¼ãéè¿æä¾å¼ºç±»åç EDM æè¿°ï¼æ¨¡åå¯ä»¥åç¡®è·ç¥ç³»ç»è¾¹çï¼çæçæ¥è¯¢è¯­å¥ï¼å¦ Text-to-ODataï¼å¶åç¡®çè¿é«äºéç»æåç REST APIã</p>
<h3 id="model-context-protocol-mcp-çå´èµ·"><strong>Model Context Protocol (MCP) çå´èµ·</strong></h3>
<p>Model Context Protocol æ¯ 2024 å¹´åºæ¨åºçå¼æºæ åï¼æ¨å¨è¿æ¥ AI å©æä¸å¤é¨åºç¨ ,MC æå¡å¨ä½ä¸º AI çâæå®âï¼å¯ä»¥å®æ¶è·åå¤é¨ç³»ç»çä¸ä¸æãç±äº OData æå¡èªå¸¦æºå¨å¯è¯»çåæ°æ®ï¼å° OData æå¡è½¬æ¢ä¸º MCP èç¹æå¤§å°éä½äº AI ä»£çï¼Agentï¼ä¸ä¼ä¸æ°æ®äº¤äºçææ¬ ã</p>
<h4 id="æ·±åº¦è°ç query-craft-mcp-åå¶ææ¯æ¶æ"><strong>æ·±åº¦è°ç ï¼Query-Craft-MCP åå¶ææ¯æ¶æ</strong></h4>
<p>ç± AM10101010 å¼åç query-craft-mcp æ¯è¿ä¸é¢åçåéå·¥å·ãå®åå½äº LLM ä¸ OData æå¡ä¹é´çè¯­ä¹æ¡¥æ¢ï¼è§£å³ OData v4 è¯­æ³å¤æä¸å¯¹å¤§å°åææçé®é¢ã</p>
<p>æ ¹æ®å¯¹è¯¥é¡¹ç®çæ·±å¥åæï¼å¶ææ¯å®ç°åå«ä»¥ä¸æ ¸å¿è½åï¼</p>
<ol>
<li><strong>åæ°æ®æç¥çæ</strong>ï¼è¯¥å·¥å·ä½¿ç¨ .NET 9 SDK å Microsoft.OData.Edm åºè§£æ $metadata XMLï¼å¨åå­ä¸­æå»ºå®ä½ãå±æ§ãé®åå¯¼èªé¾æ¥çç´¢å¼ãè¿ç¡®ä¿äº AI æ¥æ¶å°ç context æ¯åºäºçå®æ¶æçï¼ä»æ ¹æ¬ä¸æ¶é¤äºå¹»è§ã</li>
<li><strong>å¯¼èªè·¯å¾åç° (BFS ç®æ³)</strong>ï¼è¿æ¯ Query-Craft-MCP çä¸å¤§äº®ç¹ãå®å®ç°äºä¸ä¸ªåºäºå¹¿åº¦ä¼åæç´¢ï¼BFSï¼çéåå¨ï¼è½å¤èªå¨æ¾å°è¿æ¥ä¸¤ä¸ªç¸å³å®ä½çæç­ $expand é¾ãä¾å¦ï¼å½ç¨æ·è¯¢é®âæ¾ç¤ºè´­ä¹°è¿ç¹å®äº§åçå®¢æ·âæ¶ï¼AI è½å¤èªå¨æ¨å¯¼åº Orders/OrderDetails/Product çå¯¼èªè·¯å¾ï¼èæ éå¼åèæå¨ç¼åå¤æç join é»è¾ã</li>
<li><strong>è¿è¡åéªè¯</strong>ï¼å·¥å·å¨å°çæçæ¥è¯¢åéå°çæ­£çæ°æ®æºä¹åï¼ä¼æ ¹æ®åå­ä¸­çç´¢å¼è¿è¡è¯­æ³åè¯­ä¹éªè¯ï¼æ¦æªç±»åä¸å¹éæå±æ§ä¸å­å¨ç­éè¯¯ã</li>
<li><strong>å®¢æ·ç«¯è¾å©èå</strong>ï¼éå¯¹æäºä»æ¯æåºç¡ v4 åè½èä¸æ¯æé«çº§ $apply æ©å±çæå¡å¨ï¼Query-Craft-MCP æä¾äºå®¢æ·ç«¯èåå¼æï¼å¯ä»¥å¨æ¬å°å¯¹ç»æéæ§è¡ GROUP BY, SUM, AVG ç­ç»è®¡æä½ ã</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align: left">å·¥å·åç§°</th>
<th style="text-align: left">æ ¸å¿èè´£</th>
<th style="text-align: left">å¨ AI å·¥ä½æµä¸­çè§è²</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left">list-entities</td>
<td style="text-align: left">æ´é²å®ä½æ¸åã</td>
<td style="text-align: left">å¸®å© LLM è¯å«å½åä¸å¡åºæ¯æ¶åçå¯¹è±¡ã</td>
</tr>
<tr>
<td style="text-align: left">find-navigation-path</td>
<td style="text-align: left">è·¯å¾æ¨å¯¼ã</td>
<td style="text-align: left">è§£å³è·¨è¡¨/è·¨å®ä½çå³ç³»é¾æ¥é®é¢ã</td>
</tr>
<tr>
<td style="text-align: left">validate-query</td>
<td style="text-align: left">è´¨éææ§ã</td>
<td style="text-align: left">åå½è¯­ä¹ç¼è¯å¨ï¼ç¡®ä¿çæç OData è¯­æ³æ­£ç¡®ã</td>
</tr>
<tr>
<td style="text-align: left">execute-odata-query</td>
<td style="text-align: left">æ°æ®æ£ç´¢ã</td>
<td style="text-align: left">æ§è¡çæ­£ç HTTP è¯·æ±å¹¶å° JSON è¿åç» AIã</td>
</tr>
</tbody>
</table>
<h2 id="ç»è®ºæ°æ®äºæä½çæ ååé«å°"><strong>ç»è®ºï¼æ°æ®äºæä½çæ ååé«å°</strong></h2>
<p>éè¿å¯¹ OData çæ·±åº¦è°ç ï¼æä»¬å¯ä»¥æ¸æ°å°çå°ï¼å®ä¸ä»ä»æ¯ä¸ä¸ªè¿å»çä¼ä¸æ åï¼æ´æ¯ä¸ä¸ªé¢åæªæ¥çè¯­ä¹äºæä½æ¡æ¶ãå¶å¼ºç±»åç EDM æ¶æï¼ä¸ºå½ä»å¤§è¯­è¨æ¨¡åçâè½å°âæä¾äºæç¨³åºçè¯­ä¹éç¹ï¼èå¶ä¸°å¯çæ¥è¯¢ä¸èåè½åï¼åä¸ºä¼ä¸ä½ä»£ç å¹³å°åèªå¨å Agent çæå»ºæä¾äºå³æå³ç¨çåæå¼æã</p>
<p>OData å¨éèãä¾åºé¾åæ ¸å¿ ERP ç­å¯¹æ°æ®ä¸¥è°¨æ§è¦æ±æé«çåºæ¯ä¸ï¼å¶å°ä½ä¾ç¶ä¸å¯æ¿ä»£ãå¯¹äºå¯»æ±æå»ºâAI Readyâæ°æ®æ¶æçä¼ä¸èè¨ï¼éæ©å¹¶ä¼å OData æå¡ï¼éåå¦ Query-Craft-MCP è¿æ ·çæºè½åä¸­é´ä»¶ï¼å°æ¯éå¾è¯­ä¹æºè½æ¶ä»£çå¿ç»ä¹è·¯ã</p>
<p>æªæ¥çç«äºå°ä¸åä»ä»æ¯æ°æ®çè§æ¨¡ä¹äºï¼èæ¯æ°æ®âè¢«çè§£âçéåº¦ä¸åç¡®åº¦ä¹äºãOData åè®®åå¶èåçåæ°æ®ç²¾ç¥ï¼æ­£æ¯è¿åºç«èµä¸­çå³é®èè´æã</p>
<h4 id="å¼ç¨çèä½"><strong>å¼ç¨çèä½</strong></h4>
<ol>
<li>Open Data Protocol - Wikipedia <a href="https://en.wikipedia.org/wiki/Open_Data_Protocol" target="_blank" rel="noopener nofollow">https://en.wikipedia.org/wiki/Open_Data_Protocol</a></li>
<li>OData - the Best Way to RESTï¼ <a href="https://www.odata.org/" target="_blank" rel="noopener nofollow">https://www.odata.org/</a></li>
<li>OData overview  <a href="https://learn.microsoft.com/en-us/odata/overview" target="_blank" rel="noopener nofollow">https://learn.microsoft.com/en-us/odata/overview</a></li>
<li>Model-driven Development of OData Services, è®¿é®æ¶é´ä¸º äºæ 10, 2026ï¼ <a href="https://modeling-languages.com/model-driven-development-of-odata-services/" target="_blank" rel="noopener nofollow">https://modeling-languages.com/model-driven-development-of-odata-services/</a></li>
<li>QueryCraft | MCP Servers - LobeHub <a href="https://lobehub.com/nl/mcp/am10101010-query-craft-mcp" target="_blank" rel="noopener nofollow">https://lobehub.com/nl/mcp/am10101010-query-craft-mcp</a></li>
<li>Why AI in Analytics Needs Metadata - GoodData,  <a href="https://www.gooddata.com/blog/why-ai-in-analytics-needs-metadata/" target="_blank" rel="noopener nofollow">https://www.gooddata.com/blog/why-ai-in-analytics-needs-metadata/</a></li>
<li>Optimizing an LLM-Based Clinical Data Querying System Using Metadata Enrichment and Task Decomposition   <a href="https://www.medrxiv.org/content/10.64898/2025.12.22.25342863v1.full.pdf" target="_blank" rel="noopener nofollow">https://www.medrxiv.org/content/10.64898/2025.12.22.25342863v1.full.pdf</a></li>
<li>Optimizing an LLM-Based Clinical Data Querying System Using Metadata Enrichment and Task Decomposition | medRxiv <a href="https://www.medrxiv.org/content/10.64898/2025.12.22.25342863v1" target="_blank" rel="noopener nofollow">https://www.medrxiv.org/content/10.64898/2025.12.22.25342863v1</a></li>
<li>The Model Context Protocol's impact on 2025 | Thoughtworks United States, è®¿é®æ¶é´ä¸º äºæ 10, 2026ï¼ <a href="https://www.thoughtworks.com/en-us/insights/blog/generative-ai/model-context-protocol-mcp-impact-2025" target="_blank" rel="noopener nofollow">https://www.thoughtworks.com/en-us/insights/blog/generative-ai/model-context-protocol-mcp-impact-2025</a></li>
</ol>


</div>
<div id="MySignature" role="contentinfo">
    <p>æ¬¢è¿å¤§å®¶æ«æä¸é¢äºç»´ç æä¸ºæçå®¢æ·ï¼æ¶ä½ ä¸äº</p>
<img src="https://images.cnblogs.com/cnblogs_com/shanyou/57459/o_220125090408_%E9%82%80%E8%AF%B7%E4%BA%8C%E7%BB%B4%E7%A0%81-258px.jpeg" width="170">
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.05416666666666667" data-date-updated="2026-02-10 21:58">2026-02-10 20:40</span>&nbsp;
<a href="https://www.cnblogs.com/shanyou">å¼ åå</a>&nbsp;
éè¯»(<span id="post_view_count">35</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19601411);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19601411', targetLink: 'https://www.cnblogs.com/shanyou/p/19601411', title: 'OData åè®®çæºè½åè¯­ä¹äºæä½' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ä¸å¤©ä¸ä¸ªPythonåºï¼wheel - Python æåçè½®å­ï¼é«æååå©å¨ ]]></title>
    <link>https://www.cnblogs.com/min2k/p/19600605</link>
    <guid>00e2a25babb25b6d444c752530c16044</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/min2k/p/19600605" title="åå¸äº 2026-02-10 16:36">
    <span role="heading" aria-level="2">ä¸å¤©ä¸ä¸ªPythonåºï¼wheel - Python æåçè½®å­ï¼é«æååå©å¨</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="wheel---python-æåçè½®å­é«æååå©å¨">wheel - Python æåçè½®å­ï¼é«æååå©å¨</h1>
<h2 id="ä¸ä»ä¹æ¯wheel">ä¸ãä»ä¹æ¯wheelï¼</h2>
<p><strong>wheel</strong> æ¯ä¸ä¸ªç¨äº Python åååçæ åæ ¼å¼åå·¥å·ç Python åºã<br>
å®å¯ä»¥å¸®å©ä½ ï¼</p>
<ul>
<li>åå»º <code>.whl</code> æä»¶ï¼è¿æ¯ä¸ç§å³è£å³ç¨çååæ ¼å¼ã</li>
<li>å®ç°æ´å¿«éãæ´å¯é çåå®è£ã</li>
<li>é¿åå¨å®è£è¿ç¨ä¸­è¿è¡æºä»£ç ç¼è¯ï¼ä»èç®åä¾èµç®¡çã</li>
<li>ç¡®ä¿ä¸åç³»ç»é´çäºè¿å¶å¼å®¹æ§ï¼å¨æäºæåµä¸ï¼ã</li>
</ul>
<h2 id="äºåºç¨åºæ¯">äºãåºç¨åºæ¯</h2>
<p><strong>wheel</strong> å¹¿æ³åºç¨äºä»¥ä¸å®éåºæ¯ï¼</p>
<ul>
<li><strong>å¿«éé¨ç½²</strong>: å½ä½ éè¦å°ä¸ä¸ª Python åºç¨æåºå¿«éé¨ç½²å°å¤ä¸ªç¯å¢ä¸­æ¶ï¼<code>wheel</code> æä»¶å¯ä»¥æ¾èå å¿«å®è£éåº¦ã</li>
<li><strong>æå»ºç§æ PyPI</strong>: å¦æä½ å¨ä¼ä¸åé¨ç»´æ¤ä¸ä¸ªç§æç PyPI ä»åºï¼éå¸¸ä¼å°åé¨åºæåæ <code>wheel</code> æä»¶ä»¥ä¾¿äºåå·¥å®è£ã</li>
<li><strong>æç»­éæ/æç»­é¨ç½² (CI/CD)</strong>: å¨ CI/CD ç®¡éä¸­ï¼çæååå <code>wheel</code> æä»¶æ¯é¨ç½² Python é¡¹ç®çå¸¸è§æ­¥éª¤ï¼å¯ä»¥æé«æå»ºæçã</li>
<li><strong>è·¨å¹³å°åå</strong>: å¯¹äºåå« C æ©å±ç Python åºï¼<code>wheel</code> å¯ä»¥é¢ç¼è¯è¿äºæ©å±ï¼é¿åç¨æ·å¨å®è£æ¶è¿è¡ç¼è¯ï¼åå°å®è£å¤±è´¥çå¯è½æ§ã</li>
</ul>
<h2 id="ä¸å¦ä½å®è£">ä¸ãå¦ä½å®è£</h2>
<ol>
<li>ä½¿ç¨ pip å®è£</li>
</ol>
<pre><code class="language-bash">pip install wheel

# å¦æå®è£æ¢çè¯ï¼æ¨èä½¿ç¨å½åéåæº
pip install wheel -i https://www.python64.cn/pypi/simple/
</code></pre>
<ol start="2">
<li>ä½¿ç¨ <a href="https://www.min2k.com/tools/python-run/" target="_blank" rel="noopener nofollow">PythonRun</a> å¨çº¿è¿è¡ä»£ç ï¼æ éæ¬å°å®è£ï¼</li>
</ol>
<h2 id="åç¤ºä¾ä»£ç ">åãç¤ºä¾ä»£ç </h2>
<p>æ£æ¥ wheel åæ¯å¦å¯ç¨ï¼å¹¶æ¼ç¤ºå¦ä½åå»ºä¸ä¸ªç®åç wheel æä»¶ï¼æ¦å¿µæ§ï¼ã</p>
<pre><code class="language-python">import os
import subprocess

# æ£æ¥å½åPythonç¯å¢æ¯å¦å®è£äºwheel
try:
    import wheel
    wheel_installed = True
except ImportError:
    wheel_installed = False

if wheel_installed:
    print("Wheel is installed and ready to use.")
    # å®éåå»º wheel æä»¶éè¦ä¸ä¸ª setuptools é¡¹ç®ç»æ
    # è¿éæä»¬åªæ¨¡æä¸ä¸ªç®åçæ£æ¥ï¼ä¸å®éæå»ºå¤æçwheel
    print("To build a wheel, you typically use 'python setup.py bdist_wheel'.")

    # ç®åæ¡ä»¶å¤æ­ï¼å¦æå®è£äºï¼å°±æç¤ºç¨æ·
    if wheel.__version__:
        print(f"Wheel version: {wheel.__version__}")
    else:
        print("Could not determine wheel version.")

else:
    print("Wheel is not installed. Please install it using 'pip install wheel'.")

</code></pre>
<p>ä½¿ç¨ <a href="https://www.min2k.com/tools/python-run/?code=import%20os%0Aimport%20subprocess%0A%0A%23%20%E6%A3%80%E6%9F%A5%E5%BD%93%E5%89%8DPython%E7%8E%AF%E5%A2%83%E6%98%AF%E5%90%A6%E5%AE%89%E8%A3%85%E4%BA%86wheel%0Atry%3A%0A%20%20%20%20import%20wheel%0A%20%20%20%20wheel_installed%20%3D%20True%0Aexcept%20ImportError%3A%0A%20%20%20%20wheel_installed%20%3D%20False%0A%0Aif%20wheel_installed%3A%0A%20%20%20%20print%28%22Wheel%20is%20installed%20and%20ready%20to%20use.%22%29%0A%20%20%20%20%23%20%E5%AE%9E%E9%99%85%E5%88%9B%E5%BB%BA%20wheel%20%E6%96%87%E4%BB%B6%E9%9C%80%E8%A6%81%E4%B8%80%E4%B8%AA%20setuptools%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%0A%20%20%20%20%23%20%E8%BF%99%E9%87%8C%E6%88%91%E4%BB%AC%E5%8F%AA%E6%A8%A1%E6%8B%9F%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E6%A3%80%E6%9F%A5%EF%BC%8C%E4%B8%8D%E5%AE%9E%E9%99%85%E6%9E%84%E5%BB%BA%E5%A4%8D%E6%9D%82%E7%9A%84wheel%0A%20%20%20%20print%28%22To%20build%20a%20wheel%2C%20you%20typically%20use%20'python%20setup.py%20bdist_wheel'.%22%29%0A%0A%20%20%20%20%23%20%E7%AE%80%E5%8D%95%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD%EF%BC%9A%E5%A6%82%E6%9E%9C%E5%AE%89%E8%A3%85%E4%BA%86%EF%BC%8C%E5%B0%B1%E6%8F%90%E7%A4%BA%E7%94%A8%E6%88%B7%0A%20%20%20%20if%20wheel.__version__%3A%0A%20%20%20%20%20%20%20%20print%28f%22Wheel%20version%3A%20%7Bwheel.__version__%7D%22%29%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20print%28%22Could%20not%20determine%20wheel%20version.%22%29%0A%0Aelse%3A%0A%20%20%20%20print%28%22Wheel%20is%20not%20installed.%20Please%20install%20it%20using%20'pip%20install%20wheel'.%22%29%0A" target="_blank" rel="noopener nofollow">PythonRun</a> å¨çº¿è¿è¡è¿æ®µä»£ç ï¼ç»æå¦ä¸ï¼</p>
<pre><code class="language-text">Wheel is installed and ready to use.
To build a wheel, you typically use 'python setup.py bdist_wheel'.
Wheel version: 0.38.4
</code></pre>
<p>ä½¿ç¨ <a href="https://www.min2k.com/tools/mermaid/?code=flowchart%20TB%0A%20%20start%28%28Start%29%29%20--%3E%20A%7BImport%20wheel%20module%3F%7D%3B%0A%20%20A%20--%20Yes%20--%3E%20B%5BSet%20wheel_installed%20%3D%20True%5D%3B%0A%20%20A%20--%20No%20--%3E%20C%5BSet%20wheel_installed%20%3D%20False%5D%3B%0A%20%20B%20--%3E%20D%7BIs%20wheel_installed%20True%3F%7D%3B%0A%20%20C%20--%3E%20D%3B%0A%20%20D%20--%20Yes%20--%3E%20E%5BPrint%20%22Wheel%20is%20installed...%22%5D%3B%0A%20%20E%20--%3E%20F%5BPrint%20building%20instruction%5D%3B%0A%20%20F%20--%3E%20G%7Bwheel.__version__%20exists%3F%7D%3B%0A%20%20G%20--%20Yes%20--%3E%20H%5BPrint%20wheel%20version%5D%3B%0A%20%20G%20--%20No%20--%3E%20I%5BPrint%20%22Could%20not%20determine%20version%22%5D%3B%0A%20%20D%20--%20No%20--%3E%20J%5BPrint%20%22Wheel%20is%20not%20installed...%22%5D%3B%0A%20%20H%20--%3E%20end%28%28End%29%29%3B%0A%20%20I%20--%3E%20end%3B%0A%20%20J%20--%3E%20end%3B" target="_blank" rel="noopener nofollow">MermaidGo</a> ç»å¶ç¤ºä¾ä»£ç çæµç¨å¾ï¼ç»æå¦ä¸ï¼</p>
<p><img alt="MermerGoçwheelæµç¨å¾" loading="lazy" data-src="https://img2024.cnblogs.com/blog/70894/202602/70894-20260210163518230-465434968.jpg" class="lazyload"></p>
<h2 id="äºå­¦ä¹ èµæº">äºãå­¦ä¹ èµæº</h2>
<ol>
<li>å¼æºé¡¹ç®ï¼<a href="https://github.com/pypa/wheel" target="_blank" rel="noopener nofollow">wheel</a></li>
<li>ä¸­æèªè¿°ï¼<a href="https://www.python64.cn/readme/wheel/" target="_blank" rel="noopener nofollow">REMDME</a></li>
<li>å¨çº¿è¿è¡ï¼<a href="https://www.min2k.com/tools/python-run/" target="_blank" rel="noopener nofollow">PythonRun</a></li>
</ol>
<blockquote>
<p>å¦æè¿ç¯æç« å¯¹ä½ æå¸®å©ï¼æ¬¢è¿ç¹èµãæ¶èãè½¬åï¼<br>
å­¦ä¹ è¿ç¨ä¸­æä»»ä½é®é¢ï¼æ¬¢è¿å¨è¯è®ºåºçè¨äº¤æµï½</p>
</blockquote>


</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-10 16:37">2026-02-10 16:36</span>&nbsp;
<a href="https://www.cnblogs.com/min2k">æç¼ç¨</a>&nbsp;
éè¯»(<span id="post_view_count">96</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19600605);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19600605', targetLink: 'https://www.cnblogs.com/min2k/p/19600605', title: 'ä¸å¤©ä¸ä¸ªPythonåºï¼wheel - Python æåçè½®å­ï¼é«æååå©å¨' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ å¨ç½æç®åç OpenClaw é¨ç½²æç¨ï¼5 åéæ¥æä½ ç AI åå·¥ ]]></title>
    <link>https://www.cnblogs.com/yupi/p/19600386</link>
    <guid>057780cd5e559f5e1bb8d0d151b6a824</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/yupi/p/19600386" title="åå¸äº 2026-02-10 15:58">
    <span role="heading" aria-level="2">å¨ç½æç®åç OpenClaw é¨ç½²æç¨ï¼5 åéæ¥æä½ ç AI åå·¥</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        <img src="https://img2024.cnblogs.com/blog/2225420/202602/2225420-20260210155738305-451805846.png" alt="å¨ç½æç®åç OpenClaw é¨ç½²æç¨ï¼5 åéæ¥æä½ ç AI åå·¥" class="desc_img">
        æè¿ OpenClawï¼ç± ClawdBot æ¹åï¼æ¯ççç«ï¼å®æ¯ä¸ä¸ªè½æä½çµèå¹²æ´»ç AI æ°å­åå·¥ãè½å¸®ä½ è¯»åæä»¶ãç¼åç¨åºãæ§è¡ä»»å¡ï¼7Ã24 å°æ¶ä¸ä¼æ¯ãèä¸ä½ éæ¶éå°æåºææºå°±è½ææ§å®ï¼è®©å®å¸®ä½ å¹²æ´»ã
æå¿«çãå»çå¼å®è£ OpenClaw çæ¹æ³è¿å°±æ¥äºï¼
    </div>
<div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p class="md-end-block md-heading"><span class="md-plain md-expand"><span style="font-size: 14px">å¤§å®¶å¥½ï¼ææ¯ç¨åºåé±¼ç®ã</span></span></p>
<p class="md-end-block md-p"><span class="md-plain">æè¿ OpenClawï¼ç± ClawdBot æ¹åï¼æ¯ççç«ï¼<span class="md-pair-s "><strong>å®æ¯ä¸ä¸ªè½æä½çµèå¹²æ´»ç AI æ°å­åå·¥</strong><span class="md-plain">ãè½å¸®ä½ è¯»åæä»¶ãç¼åç¨åºãæ§è¡ä»»å¡ï¼7Ã24 å°æ¶ä¸ä¼æ¯ãèä¸ä½ éæ¶éå°æåºææºå°±è½ææ§å®ï¼è®©å®å¸®ä½ å¹²æ´»ã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209164642002.png"><img data-src="https://pic.yupi.icu/1/image-20260209164642002.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ç½åä¹æ¯æ OpenClaw ç©åºè±æ¥äºï¼</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">æäººè®©å®èªå¨æ¸çä¸ä¸å°é®ä»¶ï¼æ¶ä»¶ç®±ç´æ¥å¹²æ 45%ï¼çä¸å åä¸ªå°æ¶çæ´çæ¶é´</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">æäººç¨å®æ¢æ¼å±ä¼é¨ç¥¨åæºç¥¨ï¼è®¾å¥½æ¡ä»¶è®©å®æ¯éå ç§å·ä¸æ¬¡ï¼å·å°å°±èªå¨ä¸å</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">æäººèººå¨åºä¸ï¼éè¿ææºé¥æ§å®ææ´ä¸ªç½ç«éåäºä¸é</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">è¿æäººè®©å®åæ¶è·å¤æ¡èªå¨åä»»å¡ï¼ä¸è¾¹ç¯çãä¸è¾¹åæ¥æ¥ãä¸è¾¹èªå¨åç¾¤æ¶æ¯</span></p>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769787147424-a18c9870-08a0-4540-aa64-a5730fde09d7-20260209164709778.png"><img data-src="https://pic.yupi.icu/1/1769787147424-a18c9870-08a0-4540-aa64-a5730fde09d7-20260209164709778.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">æ´ç¦»è°±çæ¯ï¼è¹æç Mac Miniï¼å°±æ¯é£ä¸ªå·´æå¤§çå°ä¸»æºï¼ç«ç¶å ä¸º OpenClaw <span class="md-pair-s "><strong>ç´æ¥åæ­è´§äº</strong><span class="md-plain">ï¼å ä¸ºå¾å¤äººæ³ä¹°ä¸å° 24 å°æ¶ä¸å³æºçå°çµèè· OpenClawï¼è®©å®å½èªå·±ç AI æå·¥äººã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/1769787905203-6959e978-c81e-40dd-b86d-1043896faf20-20260209164722700.png"><img data-src="https://pic.yupi.icu/1/1769787905203-6959e978-c81e-40dd-b86d-1043896faf20-20260209164722700.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">è¿ç©æååºçæ¶åï¼å¥³æåå°±é®æï¼çèµ·æ¥å¥½åå®³åï¼ä½ è½å¸®æä¹æ´ä¸ä¸ªåï¼</span></p>
<p class="md-end-block md-p"><span class="md-plain">æææå´ï¼ä¸æ´ã</span></p>
<p class="md-end-block md-p"><span class="md-plain">å¥¹ç»äºæä¸å·´æï¼æ´ä¸æ´ï¼</span></p>
<p class="md-end-block md-p"><span class="md-plain">æä¸è¸å§å±ï¼å«æ´å«æ´ï¼åç­ç­ï¼ä¸å®ä¼ææ´ç®åçå®è£æ¹æ³åºæ¥çã</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209164815234.png"><img data-src="https://pic.yupi.icu/1/image-20260209164815234.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">æç¶ï¼æ²¡è®©æç­å¤ªä¹ï¼æå¿«çãå»çå¼å®è£ OpenClaw çæ¹æ³æ¥äºï¼</span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h2 class="md-end-block md-heading"><span class="md-plain">æä¹å®è£ OpenClaw</span></h2>
<p class="md-end-block md-p"><span class="md-plain">å¾å¤äººä»¥ä¸ºæ³ç© OpenClaw å°±å¾ä¹°ä¸å°å®ä½çµè 24 å°æ¶å¼çãä½å¶å®å®å¨æ²¡å¿è¦ï¼<span class="md-pair-s "><strong>ä¸å°äºæå¡å¨å°±è½æå®</strong><span class="md-plain">ï¼èä¸æ´ç¨³å®ãä¸ææ­çµæ­ç½ãéæ¶éå°ç¨ææºå°±è½ææ¥å®å¹²æ´»ã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-plain">å°±å¨ 2 æ 8 æ¥ï¼ç¾åº¦æºè½äºæ¨åºäº <span class="md-pair-s "><strong>OpenClaw æéç®æé¨ç½²æ¹æ¡</strong><span class="md-plain">ãåªæä½ å®å¨æ²¡æç¼ç¨åºç¡ï¼åªéè¦ç¹å ä¸é¼ æ ï¼å åéåå°±è½æ¥æèªå·±ç AI æ°å­åå·¥ãè¿æ¯æåç§ä¸»æµ AI å¤§æ¨¡åä¸é®åæ¢ï¼çè³è½ç´æ¥æ OpenClaw æ¥å¥ QQãé£ä¹¦ãééãä¼ä¸å¾®ä¿¡ï¼<span class="md-pair-s "><strong>å¨ææºä¸åæ¡æ¶æ¯å°±è½ææ¥ AI å¹²æ´»</strong><span class="md-plain">ã</span></span></span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209170321021.png"><img data-src="https://pic.yupi.icu/1/image-20260209170321021.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">æ¥ä¸æ¥æå¸¦å¤§å®¶å®æä¸ä¸ï¼å»ºè®®æ¶èå¤ç¨ â­ï¸ã</span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h2 class="md-end-block md-heading"><span class="md-plain">æææé¨ç½² OpenClaw</span></h2>
<p class="md-end-block md-p"><span class="md-pair-s "><strong>1ï¼æä¸å°äºæå¡å¨</strong></span></p>
<p class="md-end-block md-p"><span class="md-plain">ä½ å¯ä»¥æäºæå¡å¨çè§£æ <span class="md-pair-s "><strong>ä¸å°æ¾å¨æºæ¿éççµè</strong><span class="md-plain">ï¼24 å°æ¶ä¸å³æºãä¸æ­ç½ï¼ä½ éæ¶éå°é½è½è¿ç¨è¿ä¸å»ç¨å®ã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-plain">ååäº«ä¸ç§æç®åè·åæå¡å¨çæ¹æ³ï¼æå¼ç¾åº¦æºè½äºä¸º OpenClaw ç¹å¶çãæç®é¨ç½²é¡µé¢ãï¼åªé <span class="md-pair-s "><strong>0.01 å</strong><span class="md-plain">ï¼å°±è½æ¢è´­å°ä¸å° <span class="md-pair-s "><strong>2æ ¸4G4M</strong><span class="md-plain"> çè½»éåºç¨æå¡å¨ï¼åè´¹ä½éª 1 ä¸ªæã</span></span></span></span></span></p>
<blockquote>
<p class="md-end-block md-p"><span class="md-plain">æè·¯ï¼<span class="md-link md-pair-s"><a href="https://cloud.baidu.com/product/BCC/moltbot.html" rel="noopener nofollow">https://cloud.baidu.com/product/BCC/moltbot.html</a></span></span></p>
</blockquote>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209143722677.png"><img data-src="https://pic.yupi.icu/1/image-20260209143722677.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">è¿ä¸ªæ´»å¨æ¯æ¯å¤©ééçï¼æ°èç¨æ·é½è½åä¸ï¼æ²¡æ³å°æè¿æ°ä¸éï¼ç¾æ¯è¢«æèå°äºååï¼</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209143544557.png"><img data-src="https://pic.yupi.icu/1/image-20260209143544557.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ç¨ç­çå»ï¼æå¡å¨å°±åå§åå®æäºã</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209143600373.png"><img data-src="https://pic.yupi.icu/1/image-20260209143600373.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ç¹å»ãä¸é®é¨ç½²OpenClawãæé®ï¼å°±è½è·³è½¬å°æå¡å¨ç®¡çé¡µé¢ã</span></p>
<p class="md-end-block md-p"><span class="md-plain">å¦æä½ æ²¡ææååä¸æ´»å¨ï¼ä¹ä¸è¦ç°å¿ï¼å¯ä»¥è¿å¥è½»éåºç¨æå¡å¨æ§å¶å°ï¼æå¨åå»ºä¸å°æå¡å¨ã</span></p>
<blockquote>
<p class="md-end-block md-p"><span class="md-plain">æè·¯ï¼<span class="md-link md-pair-s"><a href="https://console.bce.baidu.com/ls/#/ls/instance/create" rel="noopener nofollow">https://console.bce.baidu.com/ls/#/ls/instance/create</a></span></span></p>
</blockquote>
<p class="md-end-block md-p"><span class="md-plain">æ³¨æï¼éåä¸å®è¦éæ© <span class="md-pair-s "><strong>OpenClaw</strong><span class="md-plain"> åºç¨éåï¼å¥é¤éæ© <span class="md-pair-s "><strong>2 æ ¸ 4GB</strong><span class="md-plain"> å°±å¦¥å¦¥å¤ç¨äºã</span></span></span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209144440798.png"><img data-src="https://pic.yupi.icu/1/image-20260209144440798.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ç»ç®ä¹åä¼èªå¨åå»ºæå¡å¨ï¼ç¶åè·åé¢ä¸æ ·ï¼è½å¤è¿å¥å°æå¡å¨ç®¡çé¡µé¢ã</span></p>
<p class="md-end-block md-p"><span class="md-plain">åå°è¿ä¸æ­¥ï¼ç¸å½äºä½ å·²ç»è·å¾äºä¸ä½ âå³å°å¥èâ ç AI åå·¥ã</span></p>
<p class="md-end-block md-p">&nbsp;</p>
<p class="md-end-block md-p"><span class="md-pair-s "><strong>2ï¼ä¸é®å¼éç¸å³æå¡</strong></span></p>
<p class="md-end-block md-p"><span class="md-plain">å¨æå¡å¨ç®¡çé¡µé¢ä¸­ï¼ç¹å» <span class="md-pair-s "><strong>åºç¨ç®¡ç</strong><span class="md-plain"> Tabã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-plain">é¡µé¢ä¼æç¤ºä½ éè¦å¼éåå¸å¤§æ¨¡åãäºå©æç­å ä¸ªæå¡ãä¸ç¨ä¸ä¸ªä¸ªå»æ¾ï¼ç´æ¥ç¹ <span class="md-pair-s "><strong>ä¸é®å¼é</strong><span class="md-plain">ï¼åæåè®®å°±æå®äºã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209144927875.png"><img data-src="https://pic.yupi.icu/1/image-20260209144927875.png" class="lazyload"></span></p>
<p class="md-end-block md-p">&nbsp;</p>
<p class="md-end-block md-p"><span class="md-pair-s "><strong>3ï¼æ¾éé²ç«å¢ç«¯å£</strong></span></p>
<p class="md-end-block md-p"><span class="md-plain">å¦æä½ æ³è¦è®¿é®å·²ç»é¨ç½²ç OpenClaw ç½é¡µæ§å¶å°ï¼éè¦æ¾éæå¡å¨é²ç«å¢ç 18789 ç«¯å£ã</span></p>
<p class="md-end-block md-p"><span class="md-plain">ç¹å» <span class="md-pair-s "><strong>ä¸é®æ¾è¡</strong><span class="md-plain"> æé®å°±å¥½ï¼</span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209145239379.png"><img data-src="https://pic.yupi.icu/1/image-20260209145239379.png" class="lazyload"></span></p>
<p class="md-end-block md-p">&nbsp;</p>
<p class="md-end-block md-p"><span class="md-pair-s "><strong>4ï¼éæ© AI æ¨¡å</strong></span></p>
<p class="md-end-block md-p"><span class="md-plain">æ¥ä¸æ¥ï¼ä¸ºä½ ç AI åå·¥æä¾ä¸ä¸ªèªæçå¤§èå§~</span></p>
<p class="md-end-block md-p"><span class="md-plain">å¯ä»¥ç´æ¥å¨é¡µé¢ä¸æéæ©ä½ æ³è¦çæ¨¡åï¼å½äº§çä¸»æµå¤§æ¨¡ååºæ¬é½æ¯æï¼æ¯å¦ DeepSeekï¼ï¼éå®ç¹å» <span class="md-pair-s "><strong>åºç¨</strong><span class="md-plain"> å°±è¡ã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209145623840.png"><img data-src="https://pic.yupi.icu/1/image-20260209145623840.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ç³»ç»ä¼èªå¨å¸®ä½ åå»ºè°ç¨å¤§æ¨¡åç API å¯é¥ï¼å¹¶ä¸æéç½®å¨é¨æå®ã</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209145857028.png"><img data-src="https://pic.yupi.icu/1/image-20260209145857028.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ç­æ§è¡æåï¼ä½ ç OpenClaw å°±å¯ä»¥æ­£å¸¸ä½¿ç¨äºã</span></p>
<p class="md-end-block md-p"><span class="md-plain">åå°è¿éï¼æ­åï¼ä½ ç AI æ°å­åå·¥å·²ç»æ­£å¼å¥èï¼</span></p>
<p class="md-end-block md-p"><span class="md-plain">ååå èµ·æ¥ä¹å°±å åéï¼èä¸æ´ä¸ªè¿ç¨éå¸¸å»çå¼ãå¹³å°ççæ¯å¾ç§é¡¾å°ç½äºï¼çæå¤æä½ä¸æ­¥å°±æç¨æ·åéæã</span></p>
<p class="md-end-block md-p">&nbsp;</p>
<p class="md-end-block md-p"><span class="md-pair-s "><strong>5ï¼è·ä½ ç AI åå·¥èèå¤©</strong></span></p>
<p class="md-end-block md-p"><span class="md-plain">ç¹å»é¡µé¢ä¸æ¹ç <span class="md-pair-s "><strong>è·åç½ç«å°å</strong><span class="md-plain">ï¼</span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209150158108.png"><img data-src="https://pic.yupi.icu/1/image-20260209150158108.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ç¶åæå¼é¾æ¥è¿å¥ OpenClaw ç½é¡µç«¯ï¼</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209150316824.png"><img data-src="https://pic.yupi.icu/1/image-20260209150316824.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ç°å¨ä½ å°±å¯ä»¥ç´æ¥å¨ç½é¡µä¸è· OpenClaw å¯¹è¯äºï¼æ¯å¦åç»ä»åä¸ªåå­å§ï¼æè¿éå«ä»ä¸ºãé±¼ç®çå¤©èãï¼</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209150631021.png"><img data-src="https://pic.yupi.icu/1/image-20260209150631021.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">å¯ä»¥çå°ï¼AI èªå¨æ´æ°äºèªå·±çèº«ä»½ï¼å¹¶ä¸ä¼ä¸ç´ä¿çè¿æ®µè®°å¿ãä¹åï¼ä½ å¯ä»¥éè¿ä¸æ­å°å¯¹è¯æ¥è®­ç» AIï¼è®©ä»æä¸ºä½ æå¾åçå©æã</span></p>
<p class="md-end-block md-p"><span class="md-plain">ä¸è¿è¯è¯´åæ¥ï¼æ»ä¸è½æ¯æ¬¡æ³æ¾ AI å¸®å¿é½è·å»å¼çµèãæå¼æµè§å¨è®¿é®ç½é¡µå§ï¼é£ä¹å¤ªéº»ç¦äºã</span></p>
<p class="md-end-block md-p"><span class="md-plain">æä¹è½éæ¶èç³»å°æç AI åå·¥å¢ï¼</span></p>
<p class="md-end-block md-p"><span class="md-plain">ç­æ¡å½ç¶æ¯ï¼<span class="md-pair-s "><strong>éè¿ææºç» AI åå·¥åæ¶æ¯</strong><span class="md-plain">ã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-plain">å ä¹ææèå¤©è½¯ä»¶é½è½æ¥å OpenClaw è¿ä½ AI åå·¥ï¼æ¯å¦ QQãä¼ä¸å¾®ä¿¡ãééãé£ä¹¦ç­ç­ãä¸é¢æå°±ä»¥æ´éåä¸ªäººç¨æ·ç QQ ä¸ºä¾ï¼ç»å¤§å®¶æ¼ç¤ºå¦ä½å¨ææºä¸é¥æ§ AI å¹²æ´»ã</span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h2 class="md-end-block md-heading"><span class="md-plain">å¨ææº QQ ä¸é¥æ§ AI å¹²æ´»</span></h2>
<p class="md-end-block md-p"><span class="md-plain">å¦æä½ ä½¿ç¨ç¾åº¦æºè½äºå®è£ OpenClawï¼é£ä¹æ¥å¥ QQ å°±éå¸¸ç®åäºï¼å æ­¥å°±æå®ã</span></p>
<p class="md-end-block md-p"><span class="md-pair-s "><strong>1ï¼åå»º QQ æºå¨äºº</strong></span></p>
<p class="md-end-block md-p"><span class="md-plain">æå¼ <span class="md-meta-i-c  md-link"><a href="https://q.qq.com/" rel="noopener nofollow"><span class="md-plain">QQ å¼æ¾å¹³å°</span></a><span class="md-plain">ï¼æ³¨åå¹¶ç»å½ï¼</span></span></span></p>
<blockquote>
<p class="md-end-block md-p"><span class="md-plain">æè·¯ï¼<span class="md-link md-pair-s"><a href="https://q.qq.com/" rel="noopener nofollow">https://q.qq.com</a></span></span></p>
</blockquote>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209151938145.png"><img data-src="https://pic.yupi.icu/1/image-20260209151938145.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ç»å½æååï¼ç¹å» âæºå¨äººâ Tabï¼åå»ºä¸ä¸ªæ°çæºå¨äººï¼</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209152043823.png"><img data-src="https://pic.yupi.icu/1/image-20260209152043823.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ç»ä½ çæºå¨äººè®¾ç½®ä¸ä¸ªç±ç§°åå¯ç±çå¤´åå§ï¼ä¾¿äºä¹åå¨ QQ ä¸­æ¾å°ä»ï¼</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209152207016.png"><img data-src="https://pic.yupi.icu/1/image-20260209152207016.png" class="lazyload"></span></p>
<p class="md-end-block md-p">&nbsp;</p>
<p class="md-end-block md-p"><span class="md-pair-s "><strong>2ï¼è®¾ç½®æºå¨äºº</strong></span></p>
<p class="md-end-block md-p"><span class="md-plain">åå»ºå®æåï¼è¿å¥æºå¨äººçå¼åç®¡çé¡µé¢ï¼</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209152253262.png"><img data-src="https://pic.yupi.icu/1/image-20260209152253262.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">æ¾å° <span class="md-pair-s "><strong>AppID</strong><span class="md-plain"> å <span class="md-pair-s "><strong>AppSecret</strong><span class="md-plain">ï¼å¤å¶ä¿å­å¥½ï¼ç­ä¼è¦ç¨ã</span></span></span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209152347726.png"><img data-src="https://pic.yupi.icu/1/image-20260209152347726.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">è¿è¦æä½ äºæå¡å¨ç <span class="md-pair-s "><strong>å¬ç½ IP</strong><span class="md-plain"> æ·»å å° IP ç½ååéï¼ç¶åä¿å­ã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209152537553.png"><img data-src="https://pic.yupi.icu/1/image-20260209152537553.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">äºæå¡å¨çå¬ç½ IP å¨ç¾åº¦æºè½äºçæå¡å¨ç®¡çé¡µé¢å°±è½çå°ï¼æ³¨æä¸è¦æ´é²ç»å«äººå¦ï¼</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209152435791.png"><img data-src="https://pic.yupi.icu/1/image-20260209152435791.png" class="lazyload"></span></p>
<p class="md-end-block md-p">&nbsp;</p>
<p class="md-end-block md-p"><span class="md-pair-s "><strong>3ï¼å¡«åæ¶æ¯å¹³å°éç½®</strong></span></p>
<p class="md-end-block md-p"><span class="md-plain">å¨ç¾åº¦æºè½äºçæå¡å¨ç®¡çé¡µé¢ï¼æ¾å° <span class="md-pair-s "><strong>æ¶æ¯å¹³å°éç½®</strong><span class="md-plain">ï¼ä¸æéæ© <span class="md-pair-s "><strong>QQ</strong><span class="md-plain">ï¼æåæç AppID å AppSecret å¡«è¿å»ï¼ç¹ <span class="md-pair-s "><strong>åºç¨</strong><span class="md-plain">ï¼ç­å®æ§è¡å®å°±å¥½äºã</span></span></span></span></span></span></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209152729389.png"><img data-src="https://pic.yupi.icu/1/image-20260209152729389.png" class="lazyload"></span></p>
<p class="md-end-block md-p">&nbsp;</p>
<p class="md-end-block md-p"><span class="md-pair-s "><strong>4ï¼æ·»å è®¿é®æºå¨äººçæé</strong></span></p>
<p class="md-end-block md-p"><span class="md-plain">åå° QQ å¼æ¾å¹³å°ï¼å¨æ²ç®±éç½®éç»ä½ ç QQ è´¦å·ï¼æè QQ ç¾¤ï¼æ·»å è®¿é®æºå¨äººçæéï¼</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209152928094.png"><img data-src="https://pic.yupi.icu/1/image-20260209152928094.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ç¶åç¨ QQ æ«ç æ·»å æºå¨äººå°±è¡äºï¼</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209153102382.png"><img data-src="https://pic.yupi.icu/1/image-20260209153102382.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ç°å¨ï¼ä½ å¯ä»¥ç´æ¥å¨ QQ ä¸è·ä½ ç AI æ°å­åå·¥èå¤©äºï¼</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209153537993.png"><img data-src="https://pic.yupi.icu/1/image-20260209153537993.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ä¹åï¼ä½ åªéè¦èººå¨åºä¸æå¼ QQï¼å°±è½ææ¥è¿ç¨æå¡å¨ä¸ç AI å¹²æ´»ï¼å·´éå¾æ¿~</span></p>
<p class="md-end-block md-p"><span class="md-plain">é¤äº QQï¼OpenClaw è¿æ¯ææ¥å¥é£ä¹¦ãééãä¼ä¸å¾®ä¿¡ï¼éç½®æ¹å¼é½å·®ä¸å¤ï¼æéè¦çåå­¦å¯ä»¥çå®æ¹æç¨ï¼</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">OpenClaw æ¥å¥ééï¼<span class="md-link md-pair-s"><a href="https://cloud.baidu.com/doc/LS/s/wml9dlyfu" rel="noopener nofollow">https://cloud.baidu.com/doc/LS/s/wml9dlyfu</a></span></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">OpenClaw æ¥å¥é£ä¹¦ï¼<span class="md-link md-pair-s"><a href="https://cloud.baidu.com/doc/LS/s/2ml9dnf3j" rel="noopener nofollow">https://cloud.baidu.com/doc/LS/s/2ml9dnf3j</a></span></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">OpenClaw æ¥å¥ä¼ä¸å¾®ä¿¡ï¼<span class="md-link md-pair-s"><a href="https://cloud.baidu.com/doc/LS/s/Nml9dk84r" rel="noopener nofollow">https://cloud.baidu.com/doc/LS/s/Nml9dk84r</a></span></span></p>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-plain">ä¸è¿å«å¯¹ä»æå¤ªé«çè¦æ±ï¼ä½ è¦æ¯ç°å¨å°±ç»ä»å¤æçä»»å¡ï¼å¯è½å®ä¼ âé¿å·´é¿å·´âï¼èµåæºéã</span></p>
<p class="md-end-block md-p"><span class="md-plain">æ¯å¦æé®ä»ä¸ä¸ªéå¸¸ç®åçé®é¢ï¼ä»ç«ç¶åç»ææ¥äºä¸ªéï¼ç¶åè¯´èªå·±æ²¡æèç½æç´¢åè½ï¼ï¼ï¼</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/30d2456023e115b5aa37b5d0c34274fe.jpg"><img data-src="https://pic.yupi.icu/1/30d2456023e115b5aa37b5d0c34274fe.jpg" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">è¦æ³è®© AI åå¾æ´å¼ºï¼å°±éè¦ç¨å° Skills äºã</span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h2 class="md-end-block md-heading"><span class="md-plain">ç»ä½ ç AI åå·¥è£æè½å</span></h2>
<p class="md-end-block md-p"><span class="md-plain">Skills çå¨ç§°æ¯ Agent Skillsï¼ä¹å¨ AI åå¿ç«å¾ä¸å¡ç³æ¶ã</span></p>
<p class="md-end-block md-p"><span class="md-plain">ç®åæ¥è¯´ï¼å®å°±æ¯ç» AI è£å¤çæè½åï¼éé¢æç²¾å¿è®¾è®¡çæç¤ºè¯ãä»£ç èæ¬ãè¿æåç§èµæºæä»¶ï¼è®© AI è½å¨ç¹å®ä»»å¡ä¸è¡¨ç°å¾æ´ä¸ä¸ãæ¯å¦ä½ ç» AI è£ä¸ª PPT å¶ä½ Skillsï¼ä»å°±ä¼å PPT äºã</span></p>
<p class="md-end-block md-p"><span class="md-plain">ä½ å¯ä»¥éè¿ç» OpenClaw å®è£æè½åï¼æ¥å¢å¼ºä»çè½åã</span></p>
<p class="md-end-block md-p"><span class="md-pair-s "><strong>æä¹è·ååå®è£æè½å¢ï¼</strong></span></p>
<p class="md-end-block md-p"><span class="md-plain">å¦æä½ ä½¿ç¨ç¾åº¦æºè½äºå®è£ OpenClawï¼å®è£æè½å°±éå¸¸ç®åäºã</span></p>
<p class="md-end-block md-p"><span class="md-plain">ç¾åº¦åå¸æè¿æèªå®¶ç AI è½åæåæäº Skillï¼å¹¶ä¸ä¸æ¶å°äº OpenClaw çæè½ååº <span class="md-meta-i-c  md-link"><a href="https://clawhub.ai/skills" rel="noopener nofollow"><span class="md-plain">ClawHub</span></a><span class="md-plain">ï¼ç®åä¸å±æ 6 æ¬¾å®æ¹ Skillãåæ¬ç¾åº¦æç´¢ãç¾åº¦ç¾ç§ãå­¦æ¯æ£ç´¢ãAI ç»æ¬çæãæºè½ PPT çæãåå¸æ·±åº¦ç ç©¶ Agentã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-plain">ç´æ¥è¿å¥å°æå¡å¨ç®¡çé¡µé¢ç Skills éç½®ï¼å°±è½å»çå¼æç´¢åå®è£æè½äºï¼</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209154028274.png"><img data-src="https://pic.yupi.icu/1/image-20260209154028274.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">æ¯å¦æå®è£äºç¾åº¦æç´¢åç¾åº¦ç¾ç§ Skillsï¼è¿ä¸¤åé½æ¯ç¾åº¦çç¹é¿ï¼éåç¨æ¥æç´¢å½åçä¿¡æ¯æºã</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209154152546.png"><img data-src="https://pic.yupi.icu/1/image-20260209154152546.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">æ·»å  Skills å®æåï¼è¿å¥å° OpenClaw ç®¡çé¡µé¢ç Skills éç½®ä¸­ï¼å¯ä»¥çå°æè½å®è£æåï¼</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209160408078.png"><img data-src="https://pic.yupi.icu/1/image-20260209160408078.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ç¶åæè®©ãé±¼ç®çå¤©èãå¸®ææç´¢ âç¨åºåé±¼ç®âï¼</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/8a535406f294c23379ee79b0a703b645.jpg"><img data-src="https://pic.yupi.icu/1/8a535406f294c23379ee79b0a703b645.jpg" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">è¿æ¬¡çç»æé è°±å¤äºï¼å¨ OpenClaw ç½é¡µå¯¹è¯æ¡ä¸­ï¼å¯ä»¥çå° AI è°ç¨äºç¾åº¦æç´¢æè½ï¼</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209160023370.png"><img data-src="https://pic.yupi.icu/1/image-20260209160023370.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">é¤äºä¸è¿°å®è£æè½çæ¹å¼å¤ï¼ä½ è¿å¯ä»¥ç»å½æå¡å¨ï¼è¾å¥ä¸è¡å½ä»¤æ¥æå¨å®è£æè½ï¼</span></p>
<pre class="md-fences md-end-block ty-contain-cm modeLoaded"><span>npx clawhub@latest install [skillåç§°]</span></pre>
<p class="md-end-block md-p"><span class="md-plain">ä¸è¿æä¼°è®¡éç¨åºåæåä»¬æ¯ä¸ç¥éæä¹æä½æå¡å¨çï¼å®å¨æ²¡å³ç³»ï¼æ¯ç«ç°å¨å·²ç»æ¯ AI æ¶ä»£äºï¼å¹²åè¿èªå·±å¨ææä½æå¡å¨ï¼ç´æ¥è®© AI èªå·±è£ä¸å°±å®äºï¼</span></p>
<p class="md-end-block md-p"><span class="md-plain">æè· OpenClaw è¯´äºå¥ï¼</span></p>
<blockquote>
<p class="md-end-block md-p"><span class="md-plain">å¸®æå®è£ç¼ç¨å¨ç»å¶ä½æè½</span></p>
</blockquote>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209160913210.png"><img data-src="https://pic.yupi.icu/1/image-20260209160913210.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">å®ä¸å¼å§å¯è½ä¼æç»æèä¸å¤ªçè§£ï¼æ²¡å³ç³»ï¼ç¨å¾®å¼å¯¼ä¸ä¸å°±è¡ï¼</span></p>
<blockquote>
<p class="md-end-block md-p"><span class="md-plain">æå°±è¦ä½ æ¥æä½æå¡å¨å¸®æå®è£</span></p>
</blockquote>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209161210072.png"><img data-src="https://pic.yupi.icu/1/image-20260209161210072.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">è¿æ¬¡ï¼ä»æåå®æäºä»»å¡ãè®© AI èªå·±ç»èªå·±è£æè½ï¼ææ¯ AI æ¶ä»£è¯¥æçæä½æ¹å¼ã</span></p>
<p class="md-end-block md-p"><span class="md-plain">å¦æä½ æ³æ¢ç´¢æ´å¤æè½ï¼å¯ä»¥å» <span class="md-meta-i-c  md-link"><a href="https://clawhub.ai/skills" rel="noopener nofollow"><span class="md-plain">ClawHub</span></a><span class="md-plain"> éä¸éã</span></span></span></p>
<blockquote>
<p class="md-end-block md-p"><span class="md-plain">æè·¯ï¼<span class="md-link md-pair-s"><a href="https://clawhub.ai/" rel="noopener nofollow">https://clawhub.ai</a></span></span></p>
</blockquote>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209173015903.png"><img data-src="https://pic.yupi.icu/1/image-20260209173015903.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ä¸è¿é±¼ç®å»ºè®®å¤§å®¶è°¨æå®è£ Skillsï¼éå¿è¦ä¸å®è£ãéå®æ¹ä¸å®è£ï¼æ¯ç« Skills æ¯äººä¸ºå¶ä½çï¼å¯è½ä¼å­å¨å®å¨éæ£ã</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/c1eca273aeeaf86ff3d2a0e7daa55459.png"><img data-src="https://pic.yupi.icu/1/c1eca273aeeaf86ff3d2a0e7daa55459.png" class="lazyload"></span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h2 class="md-end-block md-heading"><span class="md-plain">æäº OpenClaw è½å¹²å¥</span></h2>
<p class="md-end-block md-p"><span class="md-plain">æä¼°è®¡å¾å¤åå­¦æ­å»ºå® OpenClaw å¯è½å°±æé£å¿äºï¼æèä¸ç¥é OpenClaw å°åºè½åäºä»ä¹ãæä»¥æè¿éåäº«å ä¸ªæ¯è¾å®ç¨çç©æ³ï¼å¤§å®¶å¯ä»¥ç´æ¥æä½ä¸ã</span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h3 class="md-end-block md-heading"><span class="md-plain">1ãAI å¸®ä½ è¿½ç­ç¹</span></h3>
<p class="md-end-block md-p"><span class="md-plain">æå¨ QQ ä¸è· OpenClaw è¯´äºä¸å¥ï¼å¸®æè·å AI ç¸å³çèµè®¯ç­ç¹ã</span></p>
<p class="md-end-block md-p"><span class="md-plain">è¿äºä¸ä¼å¿ï¼å®åäºæä¸ä»½æ´æ´é½é½çç­ç¹æè¦ï¼</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/ce2501ffae6c213e1b07f570ac32464b.jpg"><img data-src="https://pic.yupi.icu/1/ce2501ffae6c213e1b07f570ac32464b.jpg" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ä»¥åæå¯è½è¦å°ç½ä¸å·å·æ°é»ï¼ç°å¨åæ¡æ¶æ¯å°±æå®äº~</span></p>
<p class="md-end-block md-p"><span class="md-plain">å¦æéè¦çè¯ï¼ä½ è¿å¯ä»¥è®©å®è·ä¸ªå®æ¶ä»»å¡ï¼æ¯å¦è®¾å® âæ¯å¤©æ©ä¸ 8 ç¹å¸®ææä¸ä¸ OpenClaw ç¤¾åºææ²¡ææ°çç©æ³âï¼å®å°±é»é»å¸®ä½ ç¯çï¼ææ¶æ¯ç¬¬ä¸æ¶é´æ¨ç»ä½ ã</span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h3 class="md-end-block md-heading"><span class="md-plain">2ãçµæè®°å½å¨</span></h3>
<p class="md-end-block md-p"><span class="md-plain">ææ¶èµ°å¨è·¯ä¸ï¼æå¯è½ä¼çªç¶æä¸äºå¥½çæ³æ³ãæèçªç¶æ³èµ·äºæä»¶äºæï¼ä¸ºäºé²æ­¢å¿è®°ï¼å°±ä¼æå¼ææºå¤å¿å½è®°ä¸æ¥ã</span></p>
<p class="md-end-block md-p"><span class="md-plain">ä¹èä¹ä¹ï¼è®°çåå®¹è¶æ¥è¶å¤ï¼å¯¼è´å¾å¤è®°ä¸æ¥çåå®¹ä¹è¢«å¿½ç¥äºã</span></p>
<p class="md-end-block md-p"><span class="md-plain">ç°å¨ï¼æå¯ä»¥ç´æ¥æ OpenClaw å½åæ¯æçè¶çº§å¤å¿å½ï¼åç» AI è®¾å®ä¸ä¸ªè§è²ï¼æ¯å¦åè¯å® âä½ æ¯ä¸ä¸ªçµæè®°å½å¨âï¼</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209180148160.png"><img data-src="https://pic.yupi.icu/1/image-20260209180148160.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ä¹åæä»»ä½æå¿è®°çæ³æ³æäºæï¼ç´æ¥æåºææºå¨ QQ ä¸è· AI è¯´ä¸å¥å°±è¡äºã</span></p>
<p class="md-end-block md-p"><span class="md-plain">OpenClaw è·æ®éå¤å¿å½ä¸ä¸æ ·ï¼å®ä¸åªæ¯å¸®ä½ è®°ï¼è¿ä¼å¸®ä½ ä¿®æ­£éå«å­ååç±»æ´çï¼èä¸æ°¸è¿ä¸ä¼å¿äºï¼</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209180446618.png"><img data-src="https://pic.yupi.icu/1/image-20260209180446618.png" class="lazyload"></span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h3 class="md-end-block md-heading"><span class="md-plain">3ãéèº«æºå¸¦çè¶çº§ç¨åºå</span></h3>
<p class="md-end-block md-p"><span class="md-plain">è¿åºè¯¥æ¯æè®©ç¨åºåæåä»¬å´å¥çåºæ¯äºã</span></p>
<p class="md-end-block md-p"><span class="md-plain">å ä¸º OpenClaw æ¯è·å¨æå¡å¨ä¸çï¼å®è½ç´æ¥å¨æå¡å¨ä¸åä»£ç ãè¿è¡ç¨åºãé¨ç½²æå¡ï¼åå®ä½ å°±è½ç´æ¥ç¨ã</span></p>
<p class="md-end-block md-p"><span class="md-plain">æ¯å¦æå¨åå°éçæ¶åï¼ç´æ¥æåºææºï¼å¨ QQ ä¸è· OpenClaw è¯´ä¸å¥ï¼</span></p>
<blockquote>
<p class="md-end-block md-p"><span class="md-plain">å¸®æåä¸ä¸ªç½é¡µå°å·¥å·ï¼è½ä¸ä¼ å¾çåæ¹éåç¼©ï¼æ¯æè°æ´åç¼©è´¨éï¼åå®ç´æ¥é¨ç½²å°æå¡å¨ä¸è®©æè½è®¿é®ã</span></p>
</blockquote>
<p class="md-end-block md-p"><span class="md-plain">è¿äºå åéï¼AI åå¤æï¼å·¥å·åå¥½äºï¼å·²ç»é¨ç½²ä¸çº¿ï¼ç´æ¥è®¿é® XX å°åå°±è½ç¨ã</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209183510372.png"><img data-src="https://pic.yupi.icu/1/image-20260209183510372.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">æ²¡éï¼å°±åäºæ¡æ¶æ¯ï¼ä¸ä¸ªè½ç¨çå¨çº¿å·¥å·å°±åºæ¥äºï¼è·åé­æ¯ä¼¼çã</span></p>
<blockquote>
<p class="md-end-block md-p"><span class="md-plain">æ³¨æï¼å¦ææ æ³è®¿é®ï¼å¯è½æ¯å ä¸ºæ²¡æç»æå¡å¨çé²ç«å¢å¼æ¾å¯¹åºç«¯å£ã</span></p>
</blockquote>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209183750274.png"><img data-src="https://pic.yupi.icu/1/image-20260209183750274.png" class="lazyload"></span></p>
<p class="md-end-block md-p"><span class="md-plain">ä¹åä½ æäºä»»ä½çµæï¼çè³é½ä¸éè¦æåºçµèï¼å¨ç¨éè¿ææºè· AI å¯¹è¯ï¼å°±è½åé åºå¯è¿è¡çé¡¹ç®ã</span></p>
<p class="md-end-block md-p"><span class="md-plain">è¿ç§æè§ï¼æä¹è¯´å¢ï¼æç¹é¢éä¾ åå³å¿äºã</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://pic.yupi.icu/1/image-20260209182902058.png"><img data-src="https://pic.yupi.icu/1/image-20260209182902058.png" class="lazyload"></span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h2 class="md-end-block md-heading"><span class="md-plain">æå</span></h2>
<p class="md-end-block md-p"><span class="md-plain">çå°è¿éï¼ç¸ä¿¡å¤§å®¶å·²ç»è½æåå°ï¼<span class="md-pair-s "><strong>OpenClaw çä¸æé¨æ§å·²ç»è¢«ç ¸å°å°æ¿ä¸äº</strong><span class="md-plain">ã</span></span></span></p>
<p class="md-end-block md-p"><span class="md-plain">åªè¦è±å åéï¼å°±è½æ¥æç§äººç AI æ°å­åå·¥ï¼ä¹åä½ å¨ææºä¸åæ¡ QQ æ¶æ¯ï¼å°±è½è®© AI å¸®ä½ æä¿¡æ¯ãç®¡æä»¶ãåä»£ç ãåè°ç ã</span></p>
<p class="md-end-block md-p"><span class="md-plain">ä¸ç®¡ä½ æ¯ç¨åºåãå­¦çãè¿æ¯æ®éä¸ç­æï¼æé½å»ºè®®ä½ å»è¯è¯ã</span></p>
<p class="md-end-block md-p"><span class="md-plain">æååè´´ä¸ä¸å®æ¹çé¨ç½²æç¨ï¼ç¹å»éè¯»åæå¯ä»¥ç´æ¥è·³è½¬ã</span></p>
<blockquote>
<p class="md-end-block md-p"><span class="md-plain">æä½æåï¼<span class="md-link md-pair-s"><a href="https://cloud.baidu.com/doc/LS/s/6ml9f3cvl" rel="noopener nofollow">https://cloud.baidu.com/doc/LS/s/6ml9f3cvl</a></span></span></p>
</blockquote>
<p class="md-end-block md-p"><span class="md-plain">ä¹æ¬¢è¿å¤§å®¶å¤å¤åäº«ä½ ç OpenClaw ç©æ³ï¼è¯è®ºåºè§~</span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h2 class="md-end-block md-heading"><span class="md-plain">æ´å¤ç¼ç¨å­¦ä¹ èµæº</span></h2>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/course" rel="noopener nofollow"><span class="md-plain">Javaåç«¯ç¨åºåå¿åé¡¹ç®å®ææç¨+æ¯è®¾ç½ç«</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/" rel="noopener nofollow"><span class="md-plain">ç¨åºååè´¹ç¼ç¨å­¦ä¹ äº¤æµç¤¾åºï¼èªå­¦å¿å¤ï¼</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/course/cv" rel="noopener nofollow"><span class="md-plain">ç¨åºåä¿å§çº§æ±èåç®åæåï¼æ¾å·¥ä½å¿å¤ï¼</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.mianshiya.com/" rel="noopener nofollow"><span class="md-plain">ç¨åºååè´¹é¢è¯å·é¢ç½ç«å·¥å·ï¼æ¾å·¥ä½å¿å¤ï¼</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/post/1640584449888772098" rel="noopener nofollow"><span class="md-plain">ææ°Javaé¶åºç¡å¥é¨å­¦ä¹ è·¯çº¿ + Javaæç¨</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/post/1640586673306091521" rel="noopener nofollow"><span class="md-plain">ææ°Pythoné¶åºç¡å¥é¨å­¦ä¹ è·¯çº¿ + Pythonæç¨</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/post/1640586014108303362" rel="noopener nofollow"><span class="md-plain">ææ°åç«¯é¶åºç¡å¥é¨å­¦ä¹ è·¯çº¿ + åç«¯æç¨</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/post/1640586867363954689" rel="noopener nofollow"><span class="md-plain">ææ°æ°æ®ç»æåç®æ³é¶åºç¡å¥é¨å­¦ä¹ è·¯çº¿ + ç®æ³æç¨</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/post/1644279832026075138" rel="noopener nofollow"><span class="md-plain">ææ°C++é¶åºç¡å¥é¨å­¦ä¹ è·¯çº¿ãC++æç¨</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/post/1641797333479903234" rel="noopener nofollow"><span class="md-plain">ææ°æ°æ®åºé¶åºç¡å¥é¨å­¦ä¹ è·¯çº¿ + æ°æ®åºæç¨</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/post/1640589994284695553" rel="noopener nofollow"><span class="md-plain">ææ°Redisé¶åºç¡å¥é¨å­¦ä¹ è·¯çº¿ + Redisæç¨</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/post/1641035880439271426" rel="noopener nofollow"><span class="md-plain">ææ°è®¡ç®æºåºç¡å¥é¨å­¦ä¹ è·¯çº¿ + è®¡ç®æºåºç¡æç¨</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/post/1641366118197153793" rel="noopener nofollow"><span class="md-plain">ææ°å°ç¨åºå¥é¨å­¦ä¹ è·¯çº¿ + å°ç¨åºå¼åæç¨</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="http://sqlmother.yupi.icu/" rel="noopener nofollow"><span class="md-plain">ææ°SQLé¶åºç¡å¥é¨å­¦ä¹ è·¯çº¿ + SQLæç¨</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/post/1640586295529324545" rel="noopener nofollow"><span class="md-plain">ææ°Linuxé¶åºç¡å¥é¨å­¦ä¹ è·¯çº¿ + Linuxæç¨</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/post/1640588753362108417" rel="noopener nofollow"><span class="md-plain">ææ°Git/GitHubé¶åºç¡å¥é¨å­¦ä¹ è·¯çº¿ + Gitæç¨</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/post/1640587909942099969" rel="noopener nofollow"><span class="md-plain">ææ°æä½ç³»ç»é¶åºç¡å¥é¨å­¦ä¹ è·¯çº¿ + æä½ç³»ç»æç¨</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/post/1640588119619551233" rel="noopener nofollow"><span class="md-plain">ææ°è®¡ç®æºç½ç»é¶åºç¡å¥é¨å­¦ä¹ è·¯çº¿ + è®¡ç®æºç½ç»æç¨</span></a></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://www.code-nav.cn/post/1640588392073150465" rel="noopener nofollow"><span class="md-plain">ææ°è®¾è®¡æ¨¡å¼é¶åºç¡å¥é¨å­¦ä¹ è·¯çº¿ + è®¾è®¡æ¨¡å¼æç¨</span></a></span></p>
</li>
<li class="md-list-item md-focus-container">
<p class="md-end-block md-p md-focus"><span class="md-meta-i-c md-link md-expand"><a href="https://www.code-nav.cn/post/1640648711119892481" rel="noopener nofollow"><span class="md-plain">ææ°è½¯ä»¶å·¥ç¨é¶åºç¡å¥é¨å­¦ä¹ è·¯çº¿ + è½¯ä»¶å·¥ç¨æç¨</span></a></span></p>
</li>
</ul>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-10 15:58">2026-02-10 15:58</span>&nbsp;
<a href="https://www.cnblogs.com/yupi">ç¨åºåé±¼ç®</a>&nbsp;
éè¯»(<span id="post_view_count">381</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19600386);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19600386', targetLink: 'https://www.cnblogs.com/yupi/p/19600386', title: 'å¨ç½æç®åç OpenClaw é¨ç½²æç¨ï¼5 åéæ¥æä½ ç AI åå·¥' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ è§£å Pythonï¼å³äºæéãGIL ä¸å¼æ­¥åæ ¸ ]]></title>
    <link>https://www.cnblogs.com/kaiux/p/19598962</link>
    <guid>a25c11cf45795bc42947d9f00f5f1b04</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/kaiux/p/19598962" title="åå¸äº 2026-02-10 12:01">
    <span role="heading" aria-level="2">è§£å Pythonï¼å³äºæéãGIL ä¸å¼æ­¥åæ ¸</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        <img src="https://img2024.cnblogs.com/blog/1158182/202602/1158182-20260210120046308-982867969.png" alt="è§£å Pythonï¼å³äºæéãGIL ä¸å¼æ­¥åæ ¸" class="desc_img">
        æ¬æä»¥ C++ ç³»ç»è§è§ï¼è§£æ Python çåºå±åçãæ·±åº¦åæ `PyObject` åå­å¸å±ãGIL çåå­æ§å¹»è§å `asyncio` ç epoll æ¬è´¨ãéè¿ C++ æ©å±æç ´è¾¹çï¼æ­ç¤ºâè¶æ°´è¯­è¨âå¦ä½éè¿çºç²åæ ¸è®¡ç®ï¼æ¢åæè´çè°åº¦æçä¸çæåæ­ã
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p><img src="https://img2024.cnblogs.com/blog/1158182/202602/1158182-20260210120115327-1286094950.jpg" alt="python_overview" loading="lazy"></p>
<h2 id="1-ai-æ¶ä»£çæ°å­è¶æ°´-the-necessity-in-ai-era">1. AI æ¶ä»£çâæ°å­è¶æ°´â (The Necessity in AI Era)</h2>
<h3 id="11-çæä½çåæ­ä½ä¸º-c-çé«å±æä»¤æé-ip">1.1. çæä½çåæ­ï¼ä½ä¸º C++ çé«å±æä»¤æé (IP)</h3>
<p>ä»»ä½å¯¹è®¡ç®æºä½ç³»ç»ææè®¤ç¥çå¼åèé½æ¸æ¥ï¼Python çåçæ§è½æ¯ç¾é¾çº§çãå®æ¬è´¨ä¸æ¯ä¸ä¸ªåºäºæ çèææºï¼æ¯ä¸ä¸ªæ´æ°å æ³ (<code>a + b</code>) é½è¦ç»åç±»åæ£æ¥ãå¼ç¨è®¡æ°æ´æ° (<code>Py_INCREF/DECREF</code>) åå·¨å¤§çåæ´¾å¼éãå¦æä½ è¯å¾ç¨çº¯ Python å»åç©éµä¹æ³ï¼CPU çåæ¯é¢æµåå (Branch Predictor) ä¼è¢«ä½ æä¹±æ ç« çæä»¤æµæå¾ä¸å¡ç³æ¶ï¼L1/L2 Cache ä¹ä¼å ä¸ºæ£è½å¨å ä¸ç <code>PyObject</code> èé¢ç¹å¤±æã</p>
<p><strong>ç¶èï¼AI ä¸éè¦ Python å»åè®¡ç®ï¼AI åªéè¦ Python å»âä¸ä»¤âã</strong></p>
<p>å¨ PyTorch æ TensorFlow çæ¶æä¸­ï¼Python ä»£ç æ®æ¼çè§è²å®éä¸æ¯<strong>æ§å¶å¹³é¢ (Control Plane)</strong>ï¼è C++/CUDA ææ¯<strong>æ°æ®å¹³é¢ (Data Plane)</strong>ãå½ä½ åä¸ <code>z = torch.matmul(x, y)</code> æ¶ï¼Python è§£éå¨æåçä»ä»æ¯æå»ºè®¡ç®å¾ãè¿è¡åæ°æ ¡éªï¼ç¶åå°æä»¤æéï¼Instruction Pointerï¼çæ§å¶æéè¿ C ABI (Application Binary Interface) ç§»äº¤ç»åºå±ç C++ å¨æåºã</p>
<p>ä¸æ¦è¿å¥åºå±ï¼SIMD æä»¤éãAVX-512 çè³ GPU ç Tensor Cores ä¾¿æ¥ç®¡äºä¸åãæ­¤æ¶ï¼Python çé£ç¹è§£éå¨å¼éå¨èæ¶æ°æ¯«ç§çè³æ°ç§çç©éµè¿ç®é¢åï¼å®å¨å¯ä»¥å¿½ç¥ä¸è®¡ï¼Amdahl's Law çåååºç¨ï¼ã</p>
<p><strong>Trade-off åæï¼</strong></p>
<ul>
<li><strong>çºç²ï¼</strong> åçº¿ç¨æ éè®¡ç®æ§è½ï¼ææ¢ï¼ã</li>
<li><strong>æ¢åï¼</strong> æè´ç C/C++ äºæä½æ§ãPython æ¯å¯ä¸ä¸ä¸ªè½è®© C++ å¼åèæå°âåæ¯å¨åä¼ªä»£ç ï¼ä½è½æ ç¼è°ç¨ <code>.so</code> åºâçè¯­è¨ãå®æ¯ AI åºç¡è®¾æ½ï¼C++ï¼ä¸ä¸å¡é»è¾ï¼Human Logicï¼ä¹é´æèçâè¶æ°´å±âã</li>
</ul>
<p>è¿ç§åå±æ¶æçè³å¯¼è´äº AI åºç¡è®¾æ½çè¿ä¸æ­¥ä¸æ²ãä¸ºäºé¿å Python å¨æ°æ®é¢å¤çï¼å¦ TokenizerãImage Decodeï¼é¶æ®µæä¸ºç¶é¢ï¼ç°å¨çè¶å¿æ¯å°æ´ä¸ªæ°æ®å è½½ç®¡çº¿ï¼DataLoaderï¼ä¹ä¸æ²å° C++ æ Rust ä¸­ï¼ä¾å¦ NVIDIA DALI æ HuggingFace Tokenizersï¼ãPython éæ¸éåä¸ºçº¯ç²¹çéç½®è¯­è¨åè¶æ°´å±ã</p>
<h3 id="12-ä»è®¡ç®å°ååio-å¯éåçèå©">1.2. ä»è®¡ç®å°ååï¼IO å¯éåçèå©</h3>
<p>å¨ä¼ ç»çé«æ§è½è®¡ç® (HPC) æ¶ä»£ï¼æä»¬ä¸ºäºåå°çº³ç§çº§çå»¶è¿ï¼ä¸ææåæ±ç¼ä¼åä¸ä¸æåæ¢ (Context Switch)ãä½å¨ LLM é©±å¨ç Agent æ¶ä»£ï¼ç¶é¢åçäºè´¨çè½¬ç§»ã</p>
<p>ä¸ä¸ªå¸åç RAG (Retrieval-Augmented Generation) æµç¨æ ChatBI ç³»ç»ï¼å¶ 90% ççå½å¨æå¤äº <strong>Wait ç¶æ</strong>ï¼</p>
<ol>
<li>ç­å¾åéæ°æ®åºæ£ç´¢ (Network I/O)ã</li>
<li>ç­å¾ LLM API Token çæ (Network I/O)ã</li>
<li>ç­å¾æ°æ®åº SQL æ§è¡ç»æ (Network I/O)ã</li>
</ol>
<p>æ­¤æ¶ï¼CPU å¹¶ä¸æ¯å¨è®¡ç®ï¼èæ¯å¨æèµ·ãå¦æä½¿ç¨ C++ï¼ä½ éè¦å¤çå¤æç <code>epoll</code>ãåè°å°ç±æèåç¨åºï¼å¦ <code>boost::asio</code> æ C++20 coroutinesï¼ï¼å¼åææ¬æé«ã</p>
<p>Python å¨è¿éçä¼å¿å¨äºå¶<strong>æ½è±¡ææ¬æä½</strong>ãè½ç¶ Python ç GIL (Global Interpreter Lock) è­åæ­èï¼ä½å¨ IO å¯éååºæ¯ä¸ï¼OS ççº¿ç¨è°åº¦å¨æè Python ç <code>asyncio</code> äºä»¶å¾ªç¯ï¼Event Loopï¼è½å¾å¥½å°æ©ç CPU çç©ºé²ãæä»¬ä¸åå³æ³¨ TLB (Translation Lookaside Buffer) çå·æ°å¼éï¼èæ¯å³æ³¨å¦ä½ç¨æå°çä»£ç è¡æ°ï¼ç¼ææå¤æç API è°ç¨é¾è·¯ã</p>
<h3 id="13-ä»£ç å®ç°">1.3. ä»£ç å®ç°</h3>
<h4 id="131-åºæ¯ä¸æµå¼å¤çä¸åå­åå¥½-the-generator">1.3.1. åºæ¯ä¸ï¼æµå¼å¤çä¸åå­åå¥½ (The Generator)</h4>
<p>å¨ C++ ä¸­ï¼ä¸ºäºé¿åä¸æ¬¡æ§å è½½ 10GB çæ¥å¿æä»¶å¯¼è´ OOM (Out of Memory)ï¼æä»¬éè¦æå Buffer ç®¡çåè¿­ä»£å¨ãå¨ Python ä¸­ï¼<code>yield</code> å³é®å­æ¬è´¨ä¸æ¯ä¸ä¸ª<strong>ç¨æ·æçæ å¸§æèµ· (Stack Frame Suspension)</strong>ãå®åè®¸å½æ°å¨ä¿æå±é¨åéç¶æçæåµä¸æåæ§è¡ï¼å°æ§å¶æäº¤è¿ç»è°ç¨èï¼è¿æ¯ä¸ç§æå¶å»ä»·çâä¸ä¸æåæ¢âã</p>
<pre><code class="language-python">import time
import os

def raw_log_streamer(file_path: str, block_size: int = 4096):
    """
    æ¨¡æ C++ ç Buffered Readerã
    ä¸ä¸æ¬¡æ§è¯»åæ´ä¸ªæä»¶ï¼èæ¯å©ç¨ Generator æºå¶
    å¨ç¨æ·ææèµ·æ å¸§ï¼å®ç° Lazy Loadingã
    """
    # è¿éç file_obj å®éä¸æ¯å¯¹åºå±æä»¶æè¿°ç¬¦ (fd) çå°è£
    with open(file_path, 'rb') as f:
        while True:
            # è§¦å syscall: read()
            chunk = f.read(block_size)
            if not chunk:
                break
            # æ­¤æ¶å½æ°ç Stack Frame è¢«å»ç»ï¼
            # æä»¤æé IP æåä¸ä¸è¡ï¼å±é¨åéä¿çå¨å åå­ç PyFrameObject ä¸­
            yield chunk 

# ä½¿ç¨åºæ¯ï¼å¤çå·¨å¤§çæ°æ®éèä¸ç¸æ RAM
# è¿ç§åæ³å¨å¤ç AI æ°æ® Pipeline (å¦ DataLoader) æ¶æ¯æ åèå¼
# for data in raw_log_streamer("large_dataset.bin"):
#     process(data)

</code></pre>
<h4 id="132-åºæ¯äºåæ ¸æåæ¢-vs-ç¨æ·æè°åº¦-threading-vs-asyncio">1.3.2. åºæ¯äºï¼åæ ¸æåæ¢ vs ç¨æ·æè°åº¦ (Threading vs Asyncio)</h4>
<p>ä½ä¸ºç³»ç»å¼åèï¼ä½ å¿é¡»æç½ <code>threading</code> å <code>asyncio</code> çæ¬è´¨åºå«ï¼</p>
<ul>
<li><strong>Threading:</strong> æ å°å° OS çåççº¿ç¨ (pthreads)ãåæ¢éè¦åæ ¸ä»å¥ (Kernel Trap)ï¼æ¶åå¯å­å¨ä¿å­ãTLB å·æ°ï¼å¼éæè´µãä¸åå¶äº GILï¼Python å¤çº¿ç¨æ æ³å©ç¨å¤æ ¸ã</li>
<li><strong>Asyncio:</strong> åçº¿ç¨åçäºä»¶å¾ªç¯ãåæ¢åªæ¯ç®åçå½æ°æéè·³è½¬ (User-space switching)ï¼ <strong>é¶åæ ¸ä¸ä¸æåæ¢å¼é (Zero Kernel Context Switch Overhead)</strong>ã<em>(æ³¨ï¼è½ç¶é¿åäºæè´µç syscallï¼ä½ Python è§£éå¨æ¬èº«çå­èç åæ´¾ä¾ç¶æææ¬ï¼ä½å¨é«å¹¶å IO é¢åï¼è¿éå¸¸æ¯åç®çã)</em></li>
</ul>
<p>ä»¥ä¸ä»£ç ç´è§å±ç¤ºäºå¨ IO å¯éåä»»å¡ä¸­ï¼ä¸ºä»ä¹æä»¬éè¦ä»âçº¿ç¨æç»´âè½¬åâåç¨æç»´âã</p>
<pre><code class="language-python">import threading
import asyncio
import time

# æ¨¡æä¸ä¸ªé«å»¶è¿ç IO æä½ (ä¾å¦ç­å¾ LLM è¿å token)
# å¨ C++ è§è§ï¼è¿å°±æ¯ä¸ä¸ªå¯¼è´å½åçº¿ç¨è¢«æèµ·å° Wait Queue çæä½
IO_DELAY = 1.0 
TASK_COUNT = 50

def heavy_io_task_sync(idx):
    # é»å¡å¼ IOï¼çº¿ç¨è¢« OS æèµ·
    time.sleep(IO_DELAY) 

async def heavy_io_task_async(idx):
    # éé»å¡ IOï¼æ§å¶æäº¤è¿ç» Event Loopï¼
    # ä»ä»æ¯å¨ epoll/kqueue æ³¨åäºä¸ä¸ªäºä»¶
    await asyncio.sleep(IO_DELAY)

def run_threading():
    start = time.perf_counter()
    threads = []
    for i in range(TASK_COUNT):
        t = threading.Thread(target=heavy_io_task_sync, args=(i,))
        t.start()
        threads.append(t)
    
    for t in threads:
        t.join()
    print(f"[Threading] Completed {TASK_COUNT} tasks in {time.perf_counter() - start:.4f}s")
    # ä»£ä»·ï¼åå»ºäº 50 ä¸ª OS çº¿ç¨ï¼ä¸ä¸æåæ¢å¼éå¤§ï¼åå­å ç¨é« (æ¯ä¸ªçº¿ç¨é»è®¤æ å¤§å° ~8MB)

async def run_asyncio():
    start = time.perf_counter()
    tasks = [heavy_io_task_async(i) for i in range(TASK_COUNT)]
    # ææçä»»å¡å¨ä¸ä¸ª OS çº¿ç¨åå®æï¼æ åæ ¸æåæ¢
    await asyncio.gather(*tasks)
    print(f"[Asyncio]   Completed {TASK_COUNT} tasks in {time.perf_counter() - start:.4f}s")

if __name__ == "__main__":
    print(f"--- Benchmarking IO Concurrency (Tasks: {TASK_COUNT}) ---")
    run_threading()
    asyncio.run(run_asyncio())

"""
é¢æè¾åºç»æ (Trade-off æ¾èæè§):
--- Benchmarking IO Concurrency (Tasks: 50) ---
[Threading] Completed 50 tasks in 1.0xxx s (å ä¸æ¾èççº¿ç¨åå»ºåè°åº¦å¼é)
[Asyncio]   Completed 50 tasks in 1.00xx s (å ä¹ä»åéäºææ¢çé£ä¸ª IO)
"""

</code></pre>
<h3 id="14-æ»ç»">1.4. æ»ç»</h3>
<p>Python ä¸å¿«ï¼ä½å®è®©âå¿«âåå¾å®¹æè®¿é®ãæ¥ä¸æ¥æä»¬å°æ·±å¥æ¢è®¨ Python åå­ç®¡ççè³ææ¶å»ï¼ <strong>å¼ç¨è®¡æ°æºå¶ (Reference Counting) ä¸åå¾åæ¶ (GC) çä»£éåè¯´</strong>ï¼å¹¶åæä¸ºä½å¨æäºé«æ§è½åºæ¯ä¸ï¼æä»¬éè¦æå¨å¹²é¢è¿ä¸æºå¶ä»¥é¿å "Stop-the-World"ã</p>
<h2 id="2-åè®®å±æ¾å¼çæ§å¶-explicit-resource-management">2. åè®®å±ââæ¾å¼çæ§å¶ (Explicit Resource Management)</h2>
<p>å¦æè¯´ C++ çå²å­¦æ¯âä½ æ²¡æè°ç¨çä¸è¥¿å°±ä¸éè¦ä»åºä»£ä»·âï¼é£ä¹ Python çå²å­¦åæ¯âä¸ºäºå¼åæçï¼ä½ å¿é¡»æ¥åè¿è¡æ¶å¼éâãå¨èµæºç®¡çåæ§å¶æµè¿ä¸å±ï¼è¿ç§ Trade-off è¡¨ç°å¾æ·æ¼å°½è´ã</p>
<h3 id="21-raii-ç-python-æ å°ä»éå¼ææå°æ¾å¼ä¸ä¸æ">2.1. RAII ç Python æ å°ï¼ä»éå¼ææå°æ¾å¼ä¸ä¸æ</h3>
<p>å¨ C++ ä¸­ï¼RAII (Resource Acquisition Is Initialization) æ¯èµæºç®¡ççé»éæ³åãæä»¬ä¾èµæ å¯¹è±¡çç¡®å®æ§çå½å¨æï¼å½ <code>std::lock_guard</code> ç¦»å¼ä½ç¨åæ¶ï¼ææå½æ° <code>~lock_guard()</code> ä¼èªå¨éæ¾äºæ¥éãè¿ä¸åé½åçå¨ç¼è¯æç¡®å®çæ±ç¼æä»¤ä¸­ï¼é¶è¿è¡æ¶å¼éã</p>
<p>ä½å¨ Python ä¸­ï¼ä½ é¢å¯¹çæ¯ä¸ä¸ªå¸¦ GC çè¿è¡æ¶ã<strong>å¯¹è±¡ççå½å¨æä¸ä½ç¨åæ¯è§£è¦ç</strong>ã<br>
å½ä½ åä¸ <code>f = open("file.txt")</code> åï¼å³ä½¿å½æ°è¿åï¼<code>f</code> æåç <code>PyObject</code> ä¹å¯è½å ä¸ºå¼ç¨è®¡æ°æªå½é¶ï¼ä¾å¦è¢«é­åæè·ï¼ææ¯å¤äºå¾ªç¯å¼ç¨ä¸­ç­å¾ GC æ«æï¼èè¿è¿ä¸è°ç¨ <code>__del__</code>ã</p>
<p><strong>åºå±ççç¸ï¼</strong> ä¾èµ <code>__del__</code> ç®¡çæä»¶å¥æææ°æ®åºè¿æ¥æ¯ç³»ç»ç¼ç¨ä¸­çèªæè¡ä¸ºãä½ æ æ³é¢æµ GC ä½æ¶åçï¼Stop-the-Worldï¼ï¼è¿æå³çä½ çæä»¶æè¿°ç¬¦ (fd) å¯è½ä¼è¢«èå°½ã</p>
<p>ä¸ºäºè§£å³è¿ä¸ªé®é¢ï¼Python å¼å¥äº <strong>ä¸ä¸æç®¡çå¨åè®® (Context Manager Protocol)</strong>ââå³ <code>with</code> è¯­å¥ã</p>
<h4 id="211-åè®®è§£æ__enter__-ä¸-__exit__">2.1.1. åè®®è§£æï¼<code>__enter__</code> ä¸ <code>__exit__</code></h4>
<p><code>with</code> è¯­å¥æ¬è´¨ä¸æ¯ç¼è¯å¨æ³¨å¥ç <code>try...finally</code> åçè¯­æ³ç³ï¼ä½å®å°èµæºç®¡ççé»è¾å°è£å°äºå¯¹è±¡åé¨ã</p>
<ul>
<li><strong><code>__enter__(self)</code></strong>: å¯¹åº C++ çæé é»è¾ãåéèµæºï¼è¿åå¥æã</li>
<li><strong><code>__exit__(self, exc_type, exc_val, exc_tb)</code></strong>: å¯¹åº C++ çææé»è¾ãæ è®ºä»£ç åæ¯æ­£å¸¸ç»æè¿æ¯æåºå¼å¸¸ï¼VM é½ä¼å¼ºå¶è·³è½¬å°è¿éã</li>
</ul>
<p><strong>ä»£ç å®ç°ï¼æåä¸ä¸ªåå­çº§éå«å£«</strong></p>
<p>è®©æä»¬ç¨ Python å®ç°ä¸ä¸ªç±»ä¼¼ C++ <code>std::lock_guard</code> çæºå¶ãæ³¨æç <code>__exit__</code> å¦ä½å¤çå¼å¸¸ä¼ æ­ââè¿æ¯ C++ ææå½æ°éå¸¸æåé¿åçï¼æææåºå¼å¸¸ä¼å¯¼è´ <code>std::terminate</code>ï¼ï¼èå¨ Python ä¸­å´æ¯æ§å¶æµçä¸é¨åã</p>
<pre><code class="language-python">import threading
from types import TracebackType
from typing import Optional, Type

class ScopedLock:
    """
    æ¨¡æ C++ std::lock_guard ç RAII è¡ä¸ºã
    åºå±å¯¹åº opcode: SETUP_WITH -&gt; ... -&gt; WITH_EXCEPT_START / CALL_FUNCTION (__exit__)
    """
    __slots__ = ('_lock',) # åå­ä¼åï¼ç¦æ­¢ __dict__ï¼ä»åéæéå¤§å°çåå­

    def __init__(self, lock: threading.Lock):
        self._lock = lock

    def __enter__(self):
        # å¯¹åº lock.acquire()ï¼é»å¡ç´å°è·å¾é
        # è¿åå¼ç»å®å° with ... as target ç target
        self._lock.acquire()
        return self 

    def __exit__(self, 
                 exc_type: Optional[Type[BaseException]], 
                 exc_val: Optional[BaseException], 
                 exc_tb: Optional[TracebackType]):
        # å¯¹åº lock.release()
        # è¿æ¯ä¸ä¸ªç¡®å®æ§çæ¸çç¹ï¼ä¸ä¾èµ GC
        self._lock.release()
        
        # Trade-off: 
        # å¦æè¿å Trueï¼å¼å¸¸è¢«åå¬ï¼ç±»ä¼¼ catch {...}ï¼ã
        # å¦æè¿å False æ Noneï¼å¼å¸¸ç»§ç»­åä¸ä¼ æ­ï¼Rethrowï¼ã
        if exc_type:
            print(f"[System Logic] Detecting Unwind: {exc_type.__name__}")
            # è¿éå¯ä»¥éæ©å¤çå¼å¸¸ï¼æèè®©å®ç»§ç»­å¯¼è´æ å±å¼
        return False

# Usage
lock = threading.Lock()
with ScopedLock(lock):
    # Critical Section
    print("In Critical Section")
    # å³ä½¿è¿éåç 1/0 å¼å¸¸ï¼_lock.release() ä¾ç¶ä¼è¢«ç²¾åæ§è¡

</code></pre>
<p>ä»å­èç è§åº¦çï¼<code>with</code> è¯­å¥çæäº <code>SETUP_WITH</code> æä»¤ï¼å®å° <code>__exit__</code> æ¹æ³åå¥<strong>è¿è¡æ¶æ  (Evaluation Stack)</strong>ãè¿æ¯ C++ çç¼è¯å¨éææå¥ææè°ç¨è¦éå¾å¤ï¼ä½å®èµäºäºè¿è¡æ¶å¨æå¤çå¼å¸¸ççµæ´»æ§ã</p>
<h3 id="22-ç¶ææºçé­æ³çæå¨-generators-ä¸æ å¸§æä¹å">2.2. ç¶ææºçé­æ³ï¼çæå¨ (Generators) ä¸æ å¸§æä¹å</h3>
<p>å¨ Java ä¸­ï¼å¦æä½ æ³å®ç°ä¸ä¸ªæ°æ§è¿­ä»£å¨ï¼Iteratorï¼ï¼ä½ éå¸¸éè¦å®ä¹ä¸ä¸ªç±»ï¼ç»´æ¤ <code>currentIndex</code> ç¶æï¼å¹¶å®ç° <code>hasNext()</code> å <code>next()</code>ãè¿æ¯ä¸ç§<strong>æ¾å¼çç¶ææº</strong>ç»´æ¤ã</p>
<p>Python ç Generator åå¼å¥äºä¸ç§æ´é«é¶çæ½è±¡ï¼<strong>éå¼ç¶ææº</strong>ï¼æèæ´åç¡®å°è¯´ï¼<strong>ç¨æ·æçæ å¸§æèµ·</strong>ã</p>
<h4 id="221-æ ¸å¿å·®å¼c-æ -vs-python-æ ">2.2.1. æ ¸å¿å·®å¼ï¼C æ  vs. Python æ </h4>
<p>çè§£ Generator çå³é®å¨äºçè§£ Python çå½æ°è°ç¨æ¨¡åï¼</p>
<ol>
<li><strong>C Stack (ç³»ç»æ ):</strong> Python è§£éå¨ï¼Cç¨åºï¼èªèº«çå½æ°è°ç¨æ ã</li>
<li><strong>Python Stack (èææ ):</strong> Python ä»£ç æ§è¡æ¶çæ å¸§ (<code>PyFrameObject</code>) é¾è¡¨ã</li>
</ol>
<p>å³é®ç¹æ¥äºï¼<strong><code>PyFrameObject</code> æ¯åéå¨å ï¼Heapï¼ä¸çå¯¹è±¡</strong>ã</p>
<p>å½ä½ è°ç¨ä¸ä¸ªæ®éå½æ°æ¶ï¼Python åå»ºä¸ä¸ª Frameï¼æ§è¡å®åéæ¯ã<br>
ä½å½ä½ è°ç¨ä¸ä¸ª Generator å½æ°æ¶ï¼</p>
<ol>
<li>Python åå»ºä¸ä¸ª Frameã</li>
<li>éå° <code>yield</code> å³é®å­æ¶ï¼è§£éå¨<strong>æå</strong>è¯¥ Frame çæ§è¡ã</li>
<li><strong>ä¿å­æä»¤æé (f_lasti)</strong>ï¼è®°å½å½åæ§è¡å°äºåªæ¡å­èç ã</li>
<li><strong>ä¿å­æä½æ°æ </strong>ï¼è®°å½å½åçä¸´æ¶åéã</li>
<li>å°æ§å¶æè¿åç»è°ç¨èï¼ä½<strong>ä¸éæ¯è¯¥ Frame</strong>ã</li>
</ol>
<p>è¿æå³çï¼Generator æ¬è´¨ä¸æ¯ä¸ä¸ª<strong>éé¸äºçå½å¨æçæ å¸§</strong>ã</p>
<h4 id="222-ä»£ç å®ç°çª¥æ¢æèµ·çåæ ¸">2.2.2. ä»£ç å®ç°ï¼çª¥æ¢æèµ·çåæ ¸</h4>
<p>æä»¬å¯ä»¥éè¿ <code>inspect</code> æ¨¡åç´æ¥è§å¯è¿ä¸ªâåµå°¸âæ å¸§çåé¨ç¶æãè¿å¨ C++ ä¸­éè¦ GDB æè½åå°ï¼èå¨ Python ä¸­ï¼è¿æ¯è¯­è¨ç¹æ§çä¸é¨åã</p>
<pre><code class="language-python">import inspect

def stateful_execution():
    """
    ä¸ä¸ªç®åççæå¨ï¼æ¼ç¤ºæ å¸§çæèµ·ä¸æ¢å¤ã
    """
    x = 10          # å±é¨åéï¼å­å¨å¨ f_locals
    yield x         # ç¬¬ä¸æ¬¡æèµ·ï¼ä¿å­ IPï¼è¿å 10
    
    x += 5
    y = "System"
    yield x + 10    # ç¬¬äºæ¬¡æèµ·ï¼è¿å 25
    
    return "EOF"    # æåº StopIteration

# 1. åå»ºçæå¨å¯¹è±¡ï¼æ­¤æ¶å½æ°ä½åçä»£ç ä¸è¡é½è¿æ²¡æ§è¡
gen = stateful_execution()

# 2. ç¬¬ä¸æ¬¡æ¿æ´»
val1 = next(gen)
print(f"Yielded: {val1}")

# --- Hardcore Inspection ---
# è·åçæå¨å³èçæ å¸§å¯¹è±¡ (PyFrameObject)
frame = gen.gi_frame

print(f"\n[Frame Inspection]")
print(f"Instruction Pointer (f_lasti): {frame.f_lasti}") # å½åå­èç åç§»é
print(f"Local Variables (f_locals):  {frame.f_locals}") # {'x': 10}

# 3. æ¢å¤æ§è¡
# è§£éå¨è¯»å frame.f_lastiï¼æ¢å¤ CPU å¯å­å¨ç¶æï¼ç»§ç»­æ§è¡
val2 = next(gen)
print(f"\nYielded: {val2}")
print(f"Local Variables Updated:     {gen.gi_frame.f_locals}") # {'x': 15, 'y': 'System'}

</code></pre>
<h4 id="223-è¿åæä¹ä»è¿­ä»£å¨å°åç¨">2.2.3. è¿åæä¹ï¼ä»è¿­ä»£å¨å°åç¨</h4>
<p>è¿ç§æºå¶çæ·±è¿æä¹å¨äºï¼å®è®©<strong>å¼æ­¥ç¼ç¨</strong>æä¸ºå¯è½ã</p>
<p>å¦æ <code>yield</code> ä¸ä»è½äº§åºå¼ï¼è¿è½æ¥æ¶å¼ï¼éè¿ <code>gen.send()</code>ï¼ï¼é£ä¹è¿ä¸ªå½æ°å°±åæäºä¸ä¸ªå¯ä»¥éè¿æ¶æ¯ä¼ éè¿è¡åä½ç<strong>åç¨ (Coroutine)</strong>ã</p>
<ul>
<li><strong>Java Iterator:</strong> ä»ä»æ¯æ°æ®ççäº§èã</li>
<li><strong>Python Generator:</strong> æ¯ä¸ä¸ªæ¥æç¬ç«æ ç©ºé´ãå¯ä»¥æåãå¯ä»¥æ¢å¤ãå¯ä»¥äº¤äºç<strong>å¾®çº¿ç¨</strong>ã</li>
</ul>
<p>å¨ Python 3.5 ä¹åï¼<code>@asyncio.coroutine</code> æ­£æ¯å©ç¨ <code>yield from</code> å®ç°çãèå¨ Python 3.5 ä¹åï¼<code>async/await</code> åªæ¯å°è¿ç§åºäºçæå¨çåç§é»é­æ³åè£æäºåçè¯­æ³ï¼åºå±ç <code>PyFrameObject</code> è°åº¦é»è¾ä¾ç¶æ¯ä¸èç¸æ¿çã</p>
<p><strong>Trade-off åæï¼</strong></p>
<ul>
<li><strong>æ§è½æèï¼</strong> æ¯æ¬¡ <code>yield</code> åæ¢å¤ç¡®å®æ¯ç®åç C æééå¢è¦æ¢ï¼æ¶å Python å¯¹è±¡å­åï¼ã</li>
<li><strong>æ¶ææ¶çï¼</strong> ä½ ç¨åæ­¥çä»£ç é»è¾ï¼çº¿æ§ç <code>for</code>, <code>while</code>ï¼ï¼ååºäºæå¶å¤æçå¼æ­¥æµå¼å¤çé»è¾ãå¨å¤çæ°ä»¥äº¿è®¡ç AI Token æµæ¶ï¼è¿ç§åå­åå¥½ä¸é»è¾æ¸æ°çæ½è±¡ï¼æ¯æ ä»·çã</li>
</ul>
<h2 id="3-æ·éå±è¢«å¨çè°åº¦-the-reality-of-gil">3. æ·éå±ââè¢«å¨çè°åº¦ (The Reality of GIL)</h2>
<h3 id="31-åå­å®å¨çæè¡¡c-è§è§ä¸ç-ob_refcnt">3.1. åå­å®å¨çæè¡¡ï¼C++ è§è§ä¸ç <code>ob_refcnt</code></h3>
<p>å¨ C++ ä¸­ï¼æä»¬ä½¿ç¨ <code>std::shared_ptr</code> æ¥ç®¡çå¼ç¨è®¡æ°ãä¸ºäºä¿è¯çº¿ç¨å®å¨ï¼<code>std::shared_ptr</code> çå¼ç¨è®¡æ°æä½ï¼<code>incref</code>/<code>decref</code>ï¼åé¨å¿é¡»ä½¿ç¨åå­æä½ï¼Atomic Operationsï¼ï¼éå¸¸å¯¹åºæ±ç¼æä»¤ <code>LOCK XADD</code>ã</p>
<p><strong>Trade-off çæ ¸å¿ï¼</strong><br>
åå­æä½ä¸æ¯åè´¹çãå¨å¤æ ¸ CPU ä¸ï¼åå­æä½ä¼å¯¼è´ç¼å­ä¸è´æ§æµéï¼Cache Coherence Trafficï¼æ¿å¢ï¼è¿æ¯æ®éçåå­è¯»åè¦æ¢ä¸ä¸ªæ°éçº§ã</p>
<p>Python çè®¾è®¡èé¢ä¸´ä¸ä¸ªéæ©ï¼</p>
<ol>
<li><strong>ç»ç²åº¦éï¼Fine-grained Lockingï¼ï¼</strong> è®©æ¯ä¸ª <code>PyObject</code> èªå¸¦ä¸ä¸ª <code>std::mutex</code>ï¼æèä½¿ç¨åå­æä½æ´æ°å¼ç¨è®¡æ°ã</li>
</ol>
<ul>
<li><em>åæï¼</em> åçº¿ç¨æ§è½ä¸é 30%~50%ï¼åå²å®æµæ°æ®ï¼ãå ä¸ºå³ä½¿å¨åçº¿ç¨ä¸ï¼ä½ ä¹å¿é¡»æ¯ä»åå­æä½çæè´µå¼éã</li>
</ul>
<ol start="2">
<li><strong>å·¨éï¼Coarse-grained Lockingï¼ï¼</strong> å¼å¥ä¸æå¨å±çå¤§éï¼GILï¼ï¼ä¿æ¤æ´ä¸ªè§£éå¨ç¶æã</li>
</ol>
<ul>
<li><em>åæï¼</em> å¤æ ¸å¹¶åæä¸ºæ³¡å½±ï¼å¤çº¿ç¨æ²¦ä¸ºå¹¶åï¼Concurrencyï¼èéå¹¶è¡ï¼Parallelismï¼ã</li>
<li><em>æ¶çï¼</em> åçº¿ç¨æå¶é«æï¼æ éå¼éï¼ï¼C æ©å±ç¼åæå¶ç®åï¼é»è®¤ä¸éè¦èèçº¿ç¨å®å¨ï¼ã</li>
</ul>
<p>Python éæ©äºåèãGIL æ¬è´¨ä¸æ¯ä¸ä¸ª <strong>äºæ¥é (Mutex)</strong>ï¼å®ä¿æ¤çä¸æ¯ä½ çåéï¼èæ¯ <code>PyObject</code> ç»æä½ä¸­ç <code>ob_refcnt</code> å­æ®µä»¥åè§£éå¨çå¨å±ç¶æã</p>
<blockquote>
<p><strong>C++ ç¨åºåçé¡¿æï¼</strong><br>
GIL çå­å¨ï¼æ¯ä¸ºäºè®© CPython ç <code>malloc</code> å <code>free</code>ï¼å³ <code>Py_INCREF</code>/<code>Py_DECREF</code>ï¼å¨ä¸ä½¿ç¨åå­æä»¤çæåµä¸ï¼ä¾ç¶è½ä¿æåå­çä¸è´æ§ã</p>
</blockquote>
<h3 id="32-ç«ææ¡ä»¶ççç¸åå­æ§çå¹»è§">3.2. ç«ææ¡ä»¶ççç¸ï¼åå­æ§çå¹»è§</h3>
<p>å¾å¤åå­¦èè¯¯ä»¥ä¸ºï¼âæ¢ç¶æ GILï¼åä¸æ¶å»åªæä¸ä¸ªçº¿ç¨å¨è·ï¼é£æå°±ä¸éè¦éäºãâ<br>
è¿æ¯å¤§éç¹éçã</p>
<p><strong>GIL ä¿è¯çæ¯å­èç ï¼Bytecodeï¼æ§è¡çåå­æ§ï¼èä¸æ¯ä¸å¡é»è¾çåå­æ§ã</strong></p>
<p>æä½ç³»ç»ï¼æè Python è§£éå¨åé¨çè°åº¦å¨ï¼å¯ä»¥å¨<strong>ä»»æä¸¤ä¸ªå­èç ä¹é´</strong>è¿è¡ä¸ä¸æåæ¢ãå¦æä½ çä¸å¡é»è¾ç±å¤æ¡å­èç ç»æï¼é£ä¹å¨ä¸­é´è¢«åèµ°å°±æ¯å¿ç¶åççã</p>
<h4 id="321-ä»£ç å®ç°è§£å-n--1">3.2.1. ä»£ç å®ç°ï¼è§£å <code>n += 1</code></h4>
<p>å¨ C++ ä¸­ï¼<code>n++</code> éå¸¸ä¹ä¸æ¯åå­çï¼é¤éç¨ <code>std::atomic&lt;int&gt;</code>ï¼ï¼å®å¯¹åº <code>Read-Modify-Write</code> ä¸ä¸ªæ­¥éª¤ãPython ä¸­äº¦ç¶ï¼ä½æ´å å¤æã</p>
<p>è®©æä»¬ç¨ <code>dis</code> æ¨¡åæ¥çç <code>n += 1</code> å¨åºå±å°åºåçäºä»ä¹ã</p>
<pre><code class="language-python">import dis
import threading

n = 0

def race_condition():
    global n
    # è¿ä¸è¡çä¼¼ç®åçä»£ç ï¼å¨ VM ç¼éæ¯ 4 æ¡æä»¤
    n += 1

print(f"--- Bytecode Disassembly for 'n += 1' ---")
dis.dis(race_condition)

</code></pre>
<p><strong>è¾åºåæï¼æ±ç¼è§è§ï¼ï¼</strong></p>
<pre><code class="language-text">  7           0 LOAD_GLOBAL              0 (n)    &lt;-- Step 1: è¯»å n å°æ é¡¶
              2 LOAD_CONST               1 (1)    &lt;-- Step 2: åå¥å¸¸æ° 1
              4 INPLACE_ADD                       &lt;-- Step 3: æ§è¡å æ³
              6 STORE_GLOBAL             0 (n)    &lt;-- Step 4: åå n

</code></pre>
<p><strong>ç¾é¾åççç¬é´ï¼</strong></p>
<ol>
<li><strong>çº¿ç¨ A</strong> æ§è¡äº <code>LOAD_GLOBAL</code>ï¼æ¿å°äº <code>n=0</code>ï¼æ¾å¥èªå·±çæ å¸§ã</li>
<li><strong>GIL éæ¾ï¼</strong> (å¯è½æ¯æ¶é´çå°äºï¼Python 3.2+ é»è®¤ <code>sys.getswitchinterval()</code> ä¸º 5ms)ã</li>
<li><strong>çº¿ç¨ B</strong> è·å¾ GILï¼æ§è¡å®æ´ç <code>n += 1</code>ãæ­¤æ¶åå­ä¸­ç <code>n</code> åæäº 1ã</li>
<li><strong>GIL éæ°è¢«çº¿ç¨ A è·åã</strong></li>
<li><strong>çº¿ç¨ A</strong> ç»§ç»­æ§è¡ <code>INPLACE_ADD</code>ãæ³¨æï¼å®æ éç <code>n</code> ä¾ç¶æ¯ 0ï¼å ä¸ºå®æ¯ä»èªå·±çæ å¸§ä¸­è¯»åæä½æ°ï¼èä¸æ¯éæ°å»åå­è¯»ï¼ã</li>
<li><strong>çº¿ç¨ A</strong> è®¡ç® <code>0 + 1 = 1</code>ã</li>
<li><strong>çº¿ç¨ A</strong> æ§è¡ <code>STORE_GLOBAL</code>ï¼æ <code>1</code> åå¥åå­ï¼è¦çäºçº¿ç¨ B çç»æã</li>
</ol>
<p><strong>ç»æï¼</strong> ä¸¤ä¸ªçº¿ç¨åå äºä¸æ¬¡ï¼ç»æåºè¯¥æ¯ 2ï¼ä½å®éæ¯ 1ãè¿å°±æ¯å¸åç <strong>Lost Update</strong> é®é¢ã</p>
<h4 id="322-å¤æ ¸æ¶ä»£çæ¤èªæåº-the-convoy-effect">3.2.2. å¤æ ¸æ¶ä»£çâæ¤èªæåºâ (The Convoy Effect)</h4>
<p>å¨åæ ¸æ¶ä»£ï¼GIL åªæ¯ç®åçåæ¶å¤ç¨ãä½å¨å¤æ ¸ CPU ä¸ï¼æåµä¼åå¾æ´ç³ã</p>
<p>å½ææ GIL ççº¿ç¨ A éæ¾éï¼ä¾å¦å ä¸º I/O æå¼ºå¶åæ¢ï¼æ¶ï¼OS å¯è½ä¼åæ¶å¤éçº¿ç¨ BãC å Dãå®ä»¬ä¼å¨ä¸åç CPU æ ¸å¿ä¸éæ¥ï¼ç¯çäºæ¢è¿æå¯ä¸çéãç»æåªæ B æ¢å°äºï¼C å D äºæ¢å¤±è´¥ï¼åæ¬¡è¢« OS æèµ·ã</p>
<p>è¿ç§ <strong>âå¤é-äºæ¢-å¤±è´¥-æèµ·â</strong> çå¾ªç¯ä¼å¯¼è´ä¸¥éç CPU æå¨ (Thrashing)ãè¿ä¹æ¯ä¸ºä»ä¹å¨è®¡ç®å¯éåä»»å¡ä¸­ï¼Python å¤çº¿ç¨å¾å¾æ¯åçº¿ç¨è¿è¦æ¢ââæä»¬ä¸ä»æ²¡æå©ç¨å¤æ ¸ï¼åèæµªè´¹äºå¤§éç CPU å¨æå¨ OS çè°åº¦å¼éä¸ã</p>
<h4 id="323-ä¸ºä»ä¹å¿é¡»ä½¿ç¨-threadinglock">3.2.3. ä¸ºä»ä¹å¿é¡»ä½¿ç¨ <code>threading.Lock</code>ï¼</h4>
<p>å¨ Python ä¸­ä½¿ç¨ <code>threading.Lock</code>ï¼å®éä¸æ¯å¨åºç¨å±å¼å¥äºç¬¬äºæéã</p>
<pre><code class="language-python">lock = threading.Lock()

def safe_increment():
    global n
    # ç³è¯·éï¼å¦ææ¿ä¸å°ï¼çº¿ç¨è¿å¥é»å¡ç¶æï¼GIL èªå¨éæ¾ç»å«äºº
    with lock:
        # ä¸´çåº (Critical Section)
        # å³ä½¿ GIL å¨è¿ééæ¾ï¼å¶ä»çº¿ç¨ä¹æ æ³è¿å¥è¿ä¸ªä»£ç å
        # å ä¸ºå®ä»¬æ¿ä¸å°åºç¨å±ç lock
        n += 1

</code></pre>
<p><strong>åºå±é»è¾ï¼</strong></p>
<ul>
<li><strong>GIL</strong> ä¿æ¤çæ¯ <code>ob_refcnt</code> ä¸ä¹±å¥ï¼é²æ­¢è§£éå¨å´©æºï¼ã</li>
<li><strong>threading.Lock</strong> ä¿æ¤çæ¯ <code>n</code> çå¼ç¬¦åé¢æï¼é²æ­¢ä¸å¡é»è¾éè¯¯ï¼ã</li>
</ul>
<h3 id="33-io-éæ¾ä¸-cpu-å¯éåçæ­»å±">3.3. I/O éæ¾ä¸ CPU å¯éåçæ­»å±</h3>
<p>æä»¬å¸¸è¯´âPython å¤çº¿ç¨éå I/O å¯éåâï¼å¶åºå±æºçå¨äºï¼</p>
<p>å½ Python æ§è¡ç³»ç»è°ç¨ï¼å¦ <code>read()</code>, <code>write()</code>, <code>recv()</code>, <code>sleep()</code>ï¼æ¶ï¼C ä»£ç ä¼å¨è°ç¨é»å¡ç C å½æ°ä¹åï¼<strong>ä¸»å¨éæ¾ GIL</strong>ï¼è°ç¨ <code>Py_BEGIN_ALLOW_THREADS</code> å®ï¼ã</p>
<pre><code class="language-c">/* CPython æºç ä¼ªä»£ç  (socket module) */
static PyObject *
sock_recv(PySocketSockObject *s, PyObject *args)
{
    // ... è§£æåæ° ...
    
    // éæ¾ GILï¼åè®¸å¶ä» Python çº¿ç¨è¿è¡
    Py_BEGIN_ALLOW_THREADS
    
    // é»å¡çç³»ç»è°ç¨ï¼æ­¤æ¶ CPU ä¸å¨ Python æé
    count = recv(s-&gt;sock_fd, buffer, len, flags);
    
    // éæ°è·å GILï¼åå¤è¿å Python å¯¹è±¡
    Py_END_ALLOW_THREADS
    
    // ... åè£ç»æ ...
    return result;
}

</code></pre>
<p>è¿æå³çï¼å½ä¸ä¸ªçº¿ç¨å¨ç­ç½ç»åæ¶ï¼å¦ä¸ä¸ªçº¿ç¨å¯ä»¥æ¿å° GIL å»è· Python ä»£ç ãè¿å°±æ¯ä¸ºä»ä¹å¨ç¬è«ãWeb æå¡ä¸­ï¼Python çå¤çº¿ç¨ä¾ç¶ææã</p>
<p>ä½å¦ææ¯ <strong>CPU å¯éå</strong>ï¼å¦å¾åå¤çãç©éµè®¡ç®ï¼ï¼çº¿ç¨ä¸ä¼ä¸»å¨éæ¾ GILï¼åªè½ç­å¾è§£éå¨å¼ºå¶åæ¢ï¼Check Intervalï¼ãè¿ä¸ä»æ æ³å©ç¨å¤æ ¸ï¼åèå ä¸ºé¢ç¹çéäºæ¢ï¼Lock Contentionï¼åä¸ä¸æåæ¢ï¼å¯¼è´å¤çº¿ç¨æ¯åçº¿ç¨è¿è¦æ¢ï¼</p>
<h2 id="4-è¿åå±ä¸»å¨çåä½-cooperative-concurrency">4. è¿åå±ââä¸»å¨çåä½ (Cooperative Concurrency)</h2>
<h3 id="41-ä»çæå¨å°åç¨æ æ çèå©ä¸ä»£ä»·">4.1. ä»çæå¨å°åç¨ï¼æ æ çèå©ä¸ä»£ä»·</h3>
<p>å¨ C++20 å¼å¥ Coroutines ä¹åï¼æä»¬ä¹ æ¯ç¨ç¶ææºæååè°ãPython çåç¨æ¬è´¨ä¸å°±æ¯<strong>ç¼è¯å¨èªå¨çæçæéç¶ææº</strong>ã</p>
<h4 id="411-æ ¸å¿å¯¹å³python-stackless-vs-go-stackful">4.1.1. æ ¸å¿å¯¹å³ï¼Python (Stackless) vs. Go (Stackful)</h4>
<ul>
<li>
<p><strong>Go (Goroutine):</strong><br>
Go è¿è¡æ¶ä¸ºæ¯ä¸ª Goroutine åéä¸ä¸ª<strong>çå®çãå¯å¢é¿çæ </strong>ï¼åå§çº¦ 2KBï¼ãå½ Goroutine é»å¡æ¶ï¼Go çè°åº¦å¨ä¿å­å½åçå¯å­å¨ç¶æï¼SP, PC ç­ï¼å°è¯¥æ ä¸­ï¼ç¶ååæ¢å°å¦ä¸ä¸ª Goroutineãè¿å ä¹ç­åäºç¨æ·æçº¿ç¨ã</p>
</li>
<li>
<p><em>ä¼ç¹ï¼</em> æ­¤æ¶ï¼ä»£ç æ¯åæ­¥åçï¼åºå±æ¯å¼æ­¥è·çãä½ ä¸éè¦ <code>await</code>ï¼å ä¸ºè°åº¦å¨æ¯éå¼çã</p>
</li>
<li>
<p><em>ç¼ºç¹ï¼</em> æ¯ä¸ª Goroutine é½æåå­å¼éï¼è½å°ä½æï¼ï¼ä¸éè¦å¤æçè¿è¡æ¶è°åº¦å¨ã</p>
</li>
<li>
<p><strong>Python (Coroutine):</strong><br>
Python çåç¨è¢«ç§°ä¸º <strong>æ æ åç¨ (Stackless)</strong>ãä½è¿å¹¶ä¸æå³çå®æ²¡ææ ï¼èæ¯æå® <strong>ä¸ä¿ç C è¯­è¨å±é¢çç³»ç»è°ç¨æ </strong>ã<br>
å½ä½  <code>await</code> æ¶ï¼Python ä»ä»æ¯å°å½åçèææºæ å¸§ (<code>PyFrameObject</code>ï¼ä¸ä¸ªåéå¨å ä¸çå¯¹è±¡) æèµ·ï¼å¹¶å° C æ åéï¼Unwindï¼å° Event Loopãç¸æ¯ä¹ä¸ï¼Go ç Goroutine æ¯ <strong>ææ ç (Stackful)</strong>ï¼å®æ¥æç¬ç«çãå¯å¨ææ©å®¹çè¿ç»­åå­ç©ºé´ï¼åå§çº¦ 2KBï¼ï¼è½ä¿å­å®æ´çè°ç¨é¾è·¯ç¶æã</p>
</li>
</ul>
<h4 id="412-å¼æ­¥çä¼ ææ§-function-coloring">4.1.2. å¼æ­¥çâä¼ ææ§â (Function Coloring)</h4>
<p>è¿å°±æ¯ä¸ºä»ä¹ Python çå¼æ­¥å·æ<strong>ä¼ ææ§</strong>ï¼<br>
å¦æå½æ° A è°ç¨äºå¼æ­¥å½æ° B (<code>await B()</code>)ï¼é£ä¹ A èªèº«å¿é¡»åæå¼æ­¥å½æ° (<code>async def A()</code>)ã</p>
<p><strong>åºå±é»è¾ï¼</strong><br>
å ä¸º Python æ²¡æç¬ç«çåç¨æ ï¼å®æ æ³å¨æ®éå½æ°ç C æ å¸§ä¸­é´æåãåªæè¢«æ è®°ä¸º <code>async</code> çå½æ°ï¼å³çæå¨ï¼ï¼æå·å¤âæå-æ¢å¤âçå­èç æä»¤ (<code>YIELD_FROM</code> / <code>SEND</code>)ã</p>
<p>è¿æ¯ä¸ä¸ªå·¨å¤§ç Trade-offï¼</p>
<ul>
<li><strong>çºç²ï¼</strong> å¼åä½éªçå²è£ï¼åæ­¥ä»£ç æ æ³ç´æ¥å¤ç¨å¼æ­¥åºï¼ã</li>
<li><strong>æ¢åï¼</strong> æè´çè½»éçº§ãåå»ºä¸ä¸ª Python åç¨å ä¹åªæ¶èä¸ä¸ª Python å¯¹è±¡çåå­ï¼ä¸åæ¢å¼éä»ä¸ºä¸æ¬¡å½æ°è°ç¨ï¼å®å¨ä¸æ¶åå¯å­å¨ä¿å­æå¤æçæ æ·è´ã</li>
</ul>
<h3 id="42-event-loop-çåæ ¸reactor-æ¨¡å¼ç-python-å®ç°">4.2. Event Loop çåæ ¸ï¼Reactor æ¨¡å¼ç Python å®ç°</h3>
<p>å¥å» <code>asyncio</code> åä¸½çå°è£ï¼å¶æ ¸å¿åªæ¯ä¸ä¸ªæ­»å¾ªç¯ï¼ä¸æ­æ¥è¯¢æä½ç³»ç»åæ ¸ï¼âåªäºæä»¶æè¿°ç¬¦ (fd) åå¤å¥½äºï¼â</p>
<p>è¿æ­£æ¯ç»å¸ç <strong>Reactor æ¨¡å¼</strong>ã</p>
<p>å¨ Linux ä¸ï¼è¿å¯¹åº <code>epoll_wait</code>ï¼å¨ macOS/BSD ä¸ï¼æ¯ <code>kevent</code>ï¼å¨ Windows ä¸ï¼æ¯ <code>IOCP</code>ã</p>
<h4 id="421-ä»£ç å®ç°æåä¸ä¸ª-mini-asyncio">4.2.1. ä»£ç å®ç°ï¼æåä¸ä¸ª mini-asyncio</h4>
<p>ä¸ºäºè¯æ <code>asyncio</code> æ²¡æä»»ä½é»é­æ³ï¼æä»¬å°ç»è¿ <code>asyncio</code> åºï¼ç´æ¥ä½¿ç¨ <code>selectors</code> æ¨¡åï¼å¯¹ <code>epoll</code>/<code>kqueue</code> çä½çº§å°è£ï¼æ¥å®ç°ä¸ä¸ªå¼æ­¥è¿è¡æ¶ã</p>
<p><strong>C++ å¼åèè¯·æ³¨æï¼</strong> ä¸é¢çä»£ç å±ç¤ºäºå¦ä½å°âåè°å°ç±âéè¿çæå¨åå¹³æâåæ­¥å¤è§âã</p>
<pre><code class="language-python">import selectors
import socket
import time
from collections import deque

# 1. å¨å±äºä»¶å¾ªç¯ (The Reactor)
selector = selectors.DefaultSelector()
task_queue = deque() # å°±ç»ªä»»å¡éå

class Future:
    """
    å¯¹åº C++ std::future æ JavaScript Promiseã
    å®æ¯å¼æ­¥æä½ç»æçå ä½ç¬¦ã
    """
    def __init__(self):
        self.result = None
        self._callbacks = []

    def set_result(self, value):
        self.result = value
        for cb in self._callbacks:
            cb(self)

    def __await__(self):
        # é­æ³æå¨ï¼yield self åè¯ Task "æè¿æ²¡å¥½ï¼è¯·æèµ·"
        yield self 
        return self.result

def async_socket_read(sock):
    """
    ä¸ä¸ªæ¨¡æçä½çº§å¼æ­¥ socket è¯»åã
    """
    f = Future()

    def on_readable():
        f.set_result(sock.recv(4096))
        # è¯»åå®æ¯ï¼ä» epoll ä¸­æ³¨é
        selector.unregister(sock)

    # æ³¨åå° epoll/kqueueï¼å½ sock å¯è¯»æ¶ï¼è°ç¨ on_readable
    # C++ å¯¹åº: epoll_ctl(epfd, EPOLL_CTL_ADD, fd, &amp;event)
    selector.register(sock, selectors.EVENT_READ, on_readable)
    
    # ç«å³è¿å Futureï¼ä¸é»å¡
    return f

class Task:
    """
    é©±å¨åç¨æ§è¡çå®¹å¨ã
    ç±»ä¼¼äº asyncio.Taskã
    """
    def __init__(self, coro):
        self.coro = coro
        self.step() # å¯å¨åç¨

    def step(self, future=None):
        try:
            # æ¢å¤åç¨æ§è¡ï¼send(result)
            if future is None:
                next_future = self.coro.send(None)
            else:
                next_future = self.coro.send(future.result)
            
            # åç¨éå°äº awaitï¼è¿åäºä¸ä¸ª Future
            # æä»¬ç»è¿ä¸ª Future å ä¸ªåè°ï¼ä¸æ¦å®å®æäºï¼å°±ç»§ç»­ step()
            next_future._callbacks.append(self.step)
            
        except StopIteration:
            # åç¨æ§è¡å®æ¯
            pass

# --- ä¸å¡é»è¾ (User Code) ---
# æ³¨æï¼async def æ¬è´¨ä¸æ¯çæå¨å·¥å
async def fetch_url(url):
    # æ¨¡æå»ºç« socket
    sock = socket.socket()
    sock.setblocking(False)
    try:
        sock.connect(('example.com', 80))
    except BlockingIOError:
        pass # æ­£å¸¸ç°è±¡
    
    # åé HTTP è¯·æ±
    req = f"GET / HTTP/1.0\r\nHost: example.com\r\n\r\n".encode()
    # ç®åçï¼è¿éå¶å®ä¹åºè¯¥ await write
    sock.send(req) 

    print(f"[{url}] Waiting for data...")
    
    # å³é®ç¹ï¼await æèµ·å½åæ å¸§ï¼äº¤åºæ§å¶æ
    # æ­¤æ¶ï¼Event Loop å¯ä»¥å»å¤çå¶ä» Task
    data = await async_socket_read(sock)
    
    print(f"[{url}] Received {len(data)} bytes")

# --- é©±å¨å± (Event Loop Driver) ---
def run_loop():
    # åå»ºä¸¤ä¸ªå¹¶åä»»å¡
    Task(fetch_url("Task-A"))
    Task(fetch_url("Task-B"))

    print("--- Event Loop Started ---")
    while True:
        # 1. é»å¡ç­å¾ IO äºä»¶ (epoll_wait)
        # å¦ææ²¡æ IO å°±ç»ªï¼CPU ä½¿ç¨çä¸º 0
        events = selector.select()
        
        # 2. å¤çäºä»¶ (Callback Dispatch)
        for key, mask in events:
            callback = key.data
            callback()
        
        # ç®åçéåºæ¡ä»¶
        if not selector.get_map():
            break
    print("--- Event Loop Finished ---")

if __name__ == "__main__":
    run_loop()

</code></pre>
<h4 id="422-æ·±åº¦è§£ææ§å¶æµçç¿»è½¬">4.2.2. æ·±åº¦è§£æï¼æ§å¶æµçç¿»è½¬</h4>
<ol>
<li><strong>Callback (C é£æ ¼):</strong> ææçé»è¾è¢«ææ£å¨ <code>on_readable</code>, <code>on_writable</code> ç­åè°å½æ°ä¸­ï¼ç¶æç»´æ¤æå¶çè¦ï¼å¿é¡»æ¾å¼ä¼ é context æéï¼ã</li>
<li><strong>Coroutine (Python é£æ ¼):</strong></li>
</ol>
<ul>
<li><code>await</code> å³é®å­å° <code>async_socket_read</code> ç <code>Future</code> æç» Event Loopã</li>
<li>Event Loop å° <code>Task.step</code> æ³¨åä¸ºåè°ã</li>
<li>å½ <code>epoll</code> å¤éæ¶ï¼éè¿åè°è§¦å <code>Task.step</code>ã</li>
<li><code>Task.step</code> è°ç¨ <code>coro.send()</code>ï¼<strong>æ¢å¤</strong> ä¹åæèµ·ç <code>fetch_url</code> æ å¸§ã</li>
</ul>
<p><strong>å¯¹ C++ ç¨åºåçå¯ç¤ºï¼</strong><br>
Python ç <code>asyncio</code> å®éä¸æ¯å¨åçº¿ç¨åå®ç°äºä¸ä¸ª<strong>éæ¢å å¼æä½ç³»ç»</strong>ã<code>Task</code> æ¯è¿ç¨ï¼<code>Future</code> æ¯ç³»ç»è°ç¨ï¼è <code>Event Loop</code> å°±æ¯åæ ¸è°åº¦å¨ã</p>
<h2 id="5-ç ´å±å±æç ´è¾¹ç-extending-with-c">5. ç ´å±å±ââæç ´è¾¹ç (Extending with C++)</h2>
<p>å¨åå ç« ä¸­ï¼æä»¬ææçä¼åé½å¨ Python èææºçå´å¢ä¹åï¼æ è®ºæ¯ <code>asyncio</code> çç¨æ·æè°åº¦ï¼è¿æ¯ <code>multiprocessing</code> çè¿ç¨é´éä¿¡ï¼æ¬è´¨ä¸é½æ¯å¨è§é¿ GILã</p>
<p>ä½å¨è¿ä¸ç« ï¼æä»¬è¦æ­£é¢<strong>å»ç©¿</strong>è¿å µå¢ãæä»¬å°ç¼å C++ æ©å±ï¼ä¸»å¨éæ¾ GILï¼è®© Python çº¿ç¨éåä¸ºåçº¯ç C++ çº¿ç¨ï¼ä»èåæ¦¨åº CPU çæ¯ä¸ä¸ªæ¶éå¨æã</p>
<p>å½ä½ ç Profilerï¼æ§è½åæå¨ï¼æ¾ç¤ºç¶é¢ä¸åæ¯ IO ç­å¾ï¼èæ¯ CPU ç <code>ALU</code>ï¼ç®æ¯é»è¾ååï¼æ»¡è½½æ¶ï¼ä»»ä½ Python å±é¢çä¼åï¼åæ¬ PyPyï¼é½æ¯éé´æçãæ­¤æ¶ï¼å¯ä¸çåºè·¯æ¯å°è®¡ç®å¯éååæ ¸ä¸æ²å° C++ã</p>
<h3 id="51-éæ¾-gil-çèºæ¯ä»ææèå°æè§è">5.1. éæ¾ GIL çèºæ¯ï¼ä»ææèå°æè§è</h3>
<p>æä»¬å¨ç¬¬ä¸ç« æå°ï¼Python è§£éå¨æ¯ä¸ä¸ªå·¨å¤§çç¶ææºï¼GIL ä¿æ¤çè¿ä¸ªç¶ææºçä¸è´æ§ãä½æ¯ï¼<strong>å¦æä½ çä»£ç ä¸æ¶åä»»ä½ Python å¯¹è±¡ï¼PyObjectï¼çæä½ï¼ä½ å°±ä¸éè¦ GILã</strong></p>
<p>æ¯å¦ï¼ç©éµä¹æ³ãå¾åç¼è§£ç ãå¤æçæ°å¼ç§¯åãè¿äºæä½åªéè¦åå§çåå­æéï¼<code>double*</code>, <code>uint8_t*</code>ï¼ã</p>
<h4 id="511-åè®®py_begin_allow_threads">5.1.1. åè®®ï¼<code>Py_BEGIN_ALLOW_THREADS</code></h4>
<p>å¨ C-API å±é¢ï¼Python æä¾äºä¸¤ä¸ªå®æ¥æå¨æ§å¶ GILï¼</p>
<ol>
<li><strong><code>Py_BEGIN_ALLOW_THREADS</code></strong>:</li>
</ol>
<ul>
<li>ä¿å­å½åçº¿ç¨çä¸ä¸æï¼Thread Stateï¼ã</li>
<li><strong>éæ¾äºæ¥é (Release Mutex)</strong>ã</li>
<li>æ­¤æ¶ï¼å¶ä» Python çº¿ç¨å¯ä»¥æ¢å  GIL å¹¶æ§è¡å­èç ã</li>
<li><strong>è­¦åï¼</strong> å¨æ­¤å®ä¹åï¼ä¸¥ç¦è®¿é®ä»»ä½ <code>PyObject</code>ï¼å¦åä¼å¯¼è´ç«å³ç Segfault ææ´éè½çå æåã</li>
</ul>
<ol start="2">
<li><strong><code>Py_END_ALLOW_THREADS</code></strong>:</li>
</ol>
<ul>
<li><strong>é»å¡ç­å¾</strong>ï¼ç´å°éæ°è·å¾äºæ¥éã</li>
<li>æ¢å¤çº¿ç¨ä¸ä¸æã</li>
<li>ç»§ç»­å¤ç Python å¯¹è±¡ï¼å¦å° C++ ç»æåè£æ <code>PyFloat</code>ï¼ã</li>
</ul>
<p>è¿å°±åæ¯å½ä½ ï¼C++ ä»£ç ï¼éè¦å»è¿è¡ä¸åºæ¼«é¿çé­å³ä¿®ç¼ï¼ç¹éè®¡ç®ï¼æ¶ï¼ä½ ä¸»å¨äº¤åºäºä»¤çï¼GILï¼ï¼åè¯è§£éå¨ï¼âä½ ä»¬åç©ï¼æç®å®äºååæ¥æéãâ</p>
<h3 id="52-å®æ-pybind11raii-é£æ ¼çééæ¾">5.2. å®æ Pybind11ï¼RAII é£æ ¼çééæ¾</h3>
<p>ç´æ¥å C-API æå¶ç¹çä¸å®¹æåºéï¼å¼ç¨è®¡æ°å°ç±ï¼ãç°ä»£ C++ å¼åèåºé¦é <code>pybind11</code>ãå®å©ç¨ C++ ç RAII æºå¶ï¼å° GIL çéæ¾å°è£å¾ä¼éä¸å®å¨ã</p>
<h4 id="521-åºæ¯å¤çº¿ç¨èç¹å¡æ´æ¨¡æ-cpu-bound">5.2.1. åºæ¯ï¼å¤çº¿ç¨èç¹å¡æ´æ¨¡æ (CPU Bound)</h4>
<p>åè®¾æä»¬éè¦è®¡ç®  çè¿ä¼¼å¼ï¼è¿æ¯ä¸ä¸ªçº¯è®¡ç®ä»»å¡ã</p>
<p><strong>C++ Extension (<code>cpu_bound.cpp</code>):</strong></p>
<pre><code class="language-cpp">#include &lt;pybind11/pybind11.h&gt;
#include &lt;random&gt;
#include &lt;thread&gt;
#include &lt;vector&gt;

namespace py = pybind11;

// çº¯ C++ é»è¾ï¼ä¸ä¾èµä»»ä½ Python å¤´æä»¶
double monte_carlo_pi(size_t samples) {
    std::random_device rd;
    std::mt19937 gen(rd());
    std::uniform_real_distribution&lt;&gt; dis(0.0, 1.0);

    size_t inside_circle = 0;
    for (size_t i = 0; i &lt; samples; ++i) {
        double x = dis(gen);
        double y = dis(gen);
        if (x * x + y * y &lt;= 1.0) {
            inside_circle++;
        }
    }
    return 4.0 * inside_circle / samples;
}

// åè£å±
double heavy_computation(size_t samples) {
    // 1. è¿å¥ C++ ä¸çï¼ææ GIL
    
    // 2. éæ¾ GIL (RAII)
    // æé å½æ°è°ç¨ PyEval_SaveThread()ï¼ææå½æ°è°ç¨ PyEval_RestoreThread()
    // å¨è¿ä¸ªä½ç¨ååï¼Python è§£éå¨å¯ä»¥å¹¶åè¿è¡å¶ä» Python çº¿ç¨ï¼
    py::gil_scoped_release release; 

    // 3. æ§è¡ç¹éç CPU è®¡ç®
    // æ­¤æ¶ OS å¯ä»¥å¨å¤æ ¸ä¸å¹¶è¡è°åº¦è¿ä¸ªçº¿ç¨
    double result = monte_carlo_pi(samples);

    // 4. ç¦»å¼ä½ç¨åï¼èªå¨éæ°è·å GIL
    return result; 
}

PYBIND11_MODULE(fast_calc, m) {
    m.def("compute_pi", &amp;heavy_computation, "Calculate Pi without GIL");
}

</code></pre>
<h4 id="522-python-ä¾§ççæ­£å¹¶è¡">5.2.2. Python ä¾§ççæ­£å¹¶è¡</h4>
<p>ç°å¨ï¼æä»¬åå° Pythonãæäº <code>py::gil_scoped_release</code>ï¼Python ç <code>threading</code> æ¨¡åå°ä¸åæ¯âä¼ªå¤çº¿ç¨âã</p>
<pre><code class="language-python">import threading
import time
import fast_calc # æä»¬ç¼è¯å¥½ç C++ æ©å±

SAMPLES = 10_000_000
THREAD_COUNT = 4

def worker():
    # å½è¿å¥ fast_calc.compute_pi åé¨æ¶ï¼
    # GIL è¢«éæ¾ï¼è¯¥çº¿ç¨åæäºä¸ä¸ªçº¯ç²¹ç OS çº¿ç¨ (Native Thread)
    # å®å¯ä»¥è·æ»¡ä¸ä¸ªç©ç CPU æ ¸å¿
    pi = fast_calc.compute_pi(SAMPLES)

def run_benchmark():
    start = time.perf_counter()
    threads = []
    
    # å¯å¨ 4 ä¸ªçº¿ç¨
    for _ in range(THREAD_COUNT):
        t = threading.Thread(target=worker)
        t.start()
        threads.append(t)
        
    for t in threads:
        t.join()
        
    end = time.perf_counter()
    print(f"Total time: {end - start:.4f}s")

# ç»æé¢æµï¼
# å¦æä¸éæ¾ GILï¼èæ¶çº¦ç­äº sum(T_i)ï¼å ä¸ºæ¯ä¸²è¡æ§è¡ã
# éæ¾ GIL åï¼  èæ¶çº¦ç­äº max(T_i)ï¼å®ç°çæ­£ç 4 åå é (Amdahl's Law åè®¸èå´å)ã

</code></pre>
<h3 id="53-æ°æ®ä¼ è¾çéå½¢ç¨buffer-protocol-ä¸åå­å¸å±">5.3. æ°æ®ä¼ è¾çéå½¢ç¨ï¼Buffer Protocol ä¸åå­å¸å±</h3>
<p>éæ¾ GIL è§£å³äº<strong>è®¡ç®</strong>çç¶é¢ï¼ä½å¦æä½ çæ°æ®è¿å¨ Python å ä¸ï¼æ¯å¦ä¸å¼  4K å¾çï¼ï¼å¦ä½ä¼ ç» C++ï¼</p>
<p>å¦æä½ ç®åå°å®ä¹å½æ°ä¸º <code>void foo(std::vector&lt;double&gt; v)</code>ï¼<code>pybind11</code> ä¼å°½èå°½è´£å°éå Python åè¡¨ï¼è§£åæ¯ä¸ª <code>PyFloatObject</code>ï¼å¹¶åç<strong>æ·±æ·è´</strong>å°æ°æ®å¤å¶å° C++ çå ä¸ãè¿ä¸ä»æ¶åå·¨å¤§ç <code>malloc</code> å¼éï¼è¿ç ´åäº CPU ç¼å­å±é¨æ§ã</p>
<p><strong>è§£å³æ¹æ¡ï¼ç¼å²åè®® (Buffer Protocol)</strong></p>
<p>Python ç <code>memoryview</code>ãNumPy ç <code>ndarray</code> é½å®ç°äº Buffer Protocolãå®åè®¸ C++ ç´æ¥è®¿é® Python å¯¹è±¡çåºå±åå­åï¼Raw Bufferï¼ï¼å®ç° <strong>Zero-Copy</strong>ã</p>
<p>ç¶èï¼è¿ééèçä¸ä¸ªå·¨å¤§çé·é±ï¼<strong>åå­è¿ç»­æ§ (Contiguity)</strong>ã</p>
<p>Python çåçæä½ï¼å¦ <code>img[:, ::2]</code>ï¼æ¯<strong>é¶æ·è´</strong>çï¼å®ä»ä»æ¯ä¿®æ¹äºåæ°æ®ä¸­ç <strong>Strides (æ­¥é¿)</strong>ï¼èä¸ä¼éæ°æååå­ãå¦æä½ ç´æ¥æè¿ä¸ªåççæéæ¿æ¥å½æè¿ç»­æ°ç»éåï¼ä½ ä¼è¯»å°éè¯¯çæ°æ®ï¼çè³å¼å Segmentation Faultã</p>
<p>å æ­¤ï¼ä¸¥è°¨ç C++ æ©å±å¿é¡»æ£æ¥åå­å¸å±ã</p>
<h4 id="531-ä»£ç å®ç°å®å¨çé«æ§è½å¾ååè²">5.3.1. ä»£ç å®ç°ï¼å®å¨çé«æ§è½å¾ååè²</h4>
<pre><code class="language-cpp">#include &lt;pybind11/pybind11.h&gt;
#include &lt;pybind11/numpy.h&gt;
#include &lt;stdexcept&gt;

namespace py = pybind11;

// C++ æ¥æ¶ NumPy æ°ç»ï¼é¶æ·è´ (Zero-Copy)
// æ³¨æï¼py::array_t&lt;uint8_t&gt; åªæ¯ä¸ä¸ªåè£å¨ï¼å¹¶ä¸æ¥ææ°æ®çæææ
void process_image(py::array_t&lt;uint8_t&gt; input_array) {
    // 1. è¯·æ±ç¼å²åºä¿¡æ¯ (Buffer Info)
    // è¿ä¼æ¥è¯¢å¯¹è±¡ç __buffer__ æ¥å£
    py::buffer_info buf = input_array.request();

    // 2. ç»´åº¦æ£æ¥
    if (buf.ndim != 2) {
        throw std::runtime_error("Number of dimensions must be 2");
    }

    // 3. [å³é®ç³»ç»çº§æ£æ¥] åå­å¸å±éªè¯
    // Python çåçå¯è½äº§çä¸è¿ç»­åå­ (Non-contiguous Memory)ã
    // åªæå½ Row Stride == Width * ElementSize ä¸ Col Stride == ElementSize æ¶ï¼
    // æä»¬æè½å°å¶è§ä¸ºä¸ç»´çº¿æ§æ°ç»å¤çã
    auto expected_stride_row = buf.shape[1] * sizeof(uint8_t);
    auto expected_stride_col = sizeof(uint8_t);

    if (buf.strides[0] != expected_stride_row || buf.strides[1] != expected_stride_col) {
        // éå°è¿ç§æåµï¼éå¸¸æä¸¤ç§éæ©ï¼
        // A. æåºå¼å¸¸ï¼å¼ºè¿«ç¨æ·å¨ Python ç«¯åè°ç¨ .copy() æ np.ascontiguousarray()
        // B. å¨ C++ ç«¯æå¨å¤ç stridesï¼æ§è½ç¥ä½ï¼ä½å¼å®¹æ§å¥½ï¼
        // è¿éä¸ºäºæ¼ç¤ºæè´æ§è½ï¼æä»¬éæ© Aï¼æç»å¤çéè¿ç»­åå­
        throw std::runtime_error("Input array must be C-style contiguous (no slices allowed)");
    }

    // 4. è·åè£¸æé (Raw Pointer)
    // æ­¤æ¶æä»¬å¯ä»¥å®å¨å°åæä½ C æ°ç»ä¸æ ·æä½å®
    uint8_t* ptr = static_cast&lt;uint8_t*&gt;(buf.ptr);
    size_t rows = buf.shape[0];
    size_t cols = buf.shape[1];
    size_t total_elements = rows * cols;

    // 5. éæ¾ GIL å¹¶å¨éè®¡ç®
    // è¿æ¯ä¸ä¸ªçº¯ç²¹çåå­è¯»åæä½ï¼ä¸æ¶åä»»ä½ Python API
    {
        py::gil_scoped_release release;
        
        // ç¼è¯å¨ç°å¨çèªå¨åéå (Auto-Vectorization) å¯ä»¥è½»æä¼åè¿ä¸ªå¾ªç¯
        // çæ SIMD æä»¤ (å¦ AVX2)
        for (size_t i = 0; i &lt; total_elements; ++i) {
            ptr[i] = 255 - ptr[i]; // åè²æä½
        }
    }
    // ä½ç¨åç»æï¼èªå¨éæ°è·å GIL
}

PYBIND11_MODULE(fast_img, m) {
    m.def("process_image", &amp;process_image, "Invert image colors (Zero-Copy, release GIL)");
}

</code></pre>
<p><strong>Python ä¾§è°ç¨ç¤ºä¾ï¼</strong></p>
<pre><code class="language-python">import numpy as np
import fast_img

# åå»ºä¸ä¸ª 4K å¾å (3840x2160)
img = np.random.randint(0, 256, (2160, 3840), dtype=np.uint8)

# Case 1: æ­£å¸¸è°ç¨ (åå­è¿ç»­)
# èæ¶ï¼C++ ä¹å°±æ¯æ¯«ç§çº§ï¼Python å¾ªç¯åéè¦æ°ç§
fast_img.process_image(img) 

# Case 2: åçè°ç¨ (åå­ä¸è¿ç»­)
# slice = img[:, ::2] 
# fast_img.process_image(slice) 
# -&gt; RuntimeError: Input array must be C-style contiguous

</code></pre>
<p>éè¿è¿ç§æ¹å¼ï¼æä»¬ä¸ä»å©ç¨äº C++ çæ§è½ï¼è¿ä¿è¯äºç³»ç»ç<strong>é²æ£æ§ (Robustness)</strong>ãè¿ææ¯ç³»ç»æ¶æå¸å¨å¤çè·¨è¯­è¨äºæä½æ¶åºæçæç»´æ¹å¼ã</p>
<h3 id="54-æ»ç»æ¶æå¸çæç»ææ©">5.4. æ»ç»ï¼æ¶æå¸çæç»ææ©</h3>
<p>è³æ­¤ï¼æä»¬ä»åºå±çå­èç ï¼Generatorï¼è®²å°äºåå­ç®¡çï¼Ref Countingï¼ï¼åå°å¹¶åæ¨¡åï¼Asyncio vs GILï¼ï¼æåæç ´äºè¯­è¨çè¾¹çï¼C++ Extensionï¼ã</p>
<p>ä½ä¸ºä¸ä¸ªç³»ç»çº§å¼åèï¼ä½¿ç¨ Python çæä½³å§¿å¿å¹¶éæå®å½ä½âèæ¬âï¼èæ¯æå®å½ä½<strong>è¶æ°´</strong>ï¼</p>
<ol>
<li><strong>æ§å¶æµ (Python):</strong> å¤çå¤æçä¸å¡é»è¾ãéç½®è§£æãREST API ç¼æãå©ç¨å¶å¨æç¹æ§åä¸°å¯ççæã</li>
<li><strong>æ°æ®æµ (C++/Rust):</strong> å¤çç¹éçè®¡ç®ãå¤§è§æ¨¡åå­æä½ãä½å»¶è¿ IOãå©ç¨å¶å¯¹ç¡¬ä»¶çææ§åã</li>
</ol>
<p><strong>Python is slow, but your Architecture doesn't have to be.</strong></p>


</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-10 12:01">2026-02-10 12:01</span>&nbsp;
<a href="https://www.cnblogs.com/kaiux">å¿µé£é¶å£¹</a>&nbsp;
éè¯»(<span id="post_view_count">110</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19598962);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19598962', targetLink: 'https://www.cnblogs.com/kaiux/p/19598962', title: 'è§£å Pythonï¼å³äºæéãGIL ä¸å¼æ­¥åæ ¸' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ spring-äºå¡ç®¡ç ]]></title>
    <link>https://www.cnblogs.com/alineverstop/p/19598826</link>
    <guid>5b5b5dde53a13a9d0ea9469c87443fc5</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/alineverstop/p/19598826" title="åå¸äº 2026-02-10 11:39">
    <span role="heading" aria-level="2">spring-äºå¡ç®¡ç</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="äºå¡æ¯æ">äºå¡æ¯æ</h1>
<h2 id="ä»ä¹æ¯äºå¡">ä»ä¹æ¯äºå¡ï¼</h2>
<p>å¨ä¸ä¸ªä¸å¡æµç¨ä¸­ï¼éè¦å¤æ¡DMLï¼insertãdeleteãupdateï¼è¯­å¥èåæè½å®æãè¿äºè¯­å¥å¿é¡»åæ¶æåæèåæ¶å¤±è´¥ãè¿æ ·æè½ä¿è¯æ°æ®å®å¨ã</p>
<p>å¤æ¡DMLåæ¶æåæèåæ¶å¤±è´¥ï¼å«åäºå¡ã</p>
<h3 id="äºå¡å¤ççåä¸ªè¿ç¨">äºå¡å¤ççåä¸ªè¿ç¨</h3>
<ol>
<li>å¼å¯äºå¡</li>
<li>æ§è¡ä¸å¡ä»£ç </li>
<li>æäº¤äºå¡ï¼æ²¡åºç°å¼å¸¸ï¼æäº¤æåãcommit transactionï¼</li>
<li>åæ»äºå¡ï¼åºç°å¼å¸¸ãæ§è¡åæ»äºå¡. rollback transactionï¼</li>
</ol>
<h3 id="äºå¡çåä¸ªç¹æ§acid">äºå¡çåä¸ªç¹æ§ï¼ACIDï¼</h3>
<ol>
<li>Aåå­æ§ï¼äºå¡æ¯æå°çå·¥ä½ååï¼ä¸å¯å</li>
<li>Cä¸è´æ§ï¼äºå¡è¦ä¹åæ¶æåï¼è¦ä¹åæ¶å¤±è´¥</li>
<li>Iéç¦»æ§ï¼äºå¡ä¸äºå¡ä¹é´ä¿è¯åäºä¸å¹²æ°</li>
<li>Dæä¹æ§ï¼æä¹æ§æ¯äºå¡ç»æçæ å¿ã</li>
</ol>
<h2 id="springå¯¹äºå¡çæ¯æ">springå¯¹äºå¡çæ¯æ</h2>
<p>springå®ç°äºå¡ç2ç§æ¹å¼ï¼</p>
<ol>
<li>ç¼ç¨å¼äºå¡ï¼éè¿ç¼åä»£ç çæ¹å¼æ¥å®ç°äºå¡ç®¡ç</li>
<li>å£°æå¼äºå¡ï¼åºäºæ³¨è§£æ¹å¼ååºäºxmlæ¹å¼ï¼æ¨èä½¿ç¨ï¼</li>
</ol>
<h3 id="springäºå¡ç®¡çapi">springäºå¡ç®¡çapi</h3>
<p>springå¯¹äºå¡çç®¡çæ¯åºäºaopå®ç°çãæä»¥springä¸é¨éå¯¹äºå¡å¼åäºä¸å¥apiï¼å¶æ ¸å¿æ¥å£å¦ä¸ï¼PlatformTransactionManager æ¥å£ã</p>
<h3 id="å£°æå¼äºå¡åºäºæ³¨è§£æ¹å¼å®ç°">å£°æå¼äºå¡åºäºæ³¨è§£æ¹å¼å®ç°</h3>
<p>éè¦éç½®xmlæä»¶</p>
<pre><code class="language-xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:tx="http://www.springframework.org/schema/tx"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
                          http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
                           http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd" &gt;

&lt;!--    ç»ä»¶æ«æ--&gt;
    &lt;context:component-scan base-package="com.ali" /&gt;

&lt;!--    éç½®æ°æ®æº--&gt;
    &lt;bean id="dataSource" class="com.alibaba.druid.pool.DruidDataSource"&gt;
        &lt;property name="url" value="jdbc:mysql://localhost:3306/bank"/&gt;
        &lt;property name="username" value="root"/&gt;
        &lt;property name="password" value="123456"/&gt;
        &lt;property name="driverClassName" value="com.mysql.jdbc.Driver"/&gt;
    &lt;/bean&gt;
&lt;!--    éç½®jdbcTemplate--&gt;
    &lt;bean id="jdbcTemplate" class="org.springframework.jdbc.core.JdbcTemplate"&gt;
        &lt;property name="dataSource" ref="dataSource"/&gt;
    &lt;/bean&gt;

&lt;!--    éç½®äºå¡ç®¡çå¨--&gt;
    &lt;bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager"&gt;
        &lt;property name="dataSource" ref="dataSource"/&gt;
    &lt;/bean&gt;
&lt;!--    å¼å¯äºå¡æ³¨è§£é©±å¨å¨ï¼å¼å¯äºå¡æ³¨è§£ï¼éè¦å ä¸txçå½åç©ºé´--&gt;
    &lt;tx:annotation-driven transaction-manager="transactionManager"/&gt;
&lt;/beans&gt;
</code></pre>
<p>å¯ä»¥å¨ç±»åæ¹æ³ä¸å @Transactional å¼å¯äºå¡</p>
<ul>
<li>å å¨ç±»ä¸è¡¨ç¤ºè¿ä¸ªç±»ä¸çæææ¹æ³é½å¼å¯äºå¡</li>
<li>å å¨æ¹æ³æ¹æ³ä¸è¡¨ç¤ºåªæè¿ä¸ªæ¹æ³å¼å¯äºå¡</li>
</ul>
<h3 id="äºå¡çä¼ æ­è¡ä¸º">äºå¡çä¼ æ­è¡ä¸º</h3>
<p>ä»ä¹æ¯äºå¡çä¼ æ­è¡ä¸ºï¼</p>
<p>å¨serviceç§æaï¼ï¼åbï¼ï¼2ä¸ªæ¹æ³ï¼aï¼ï¼ä¸æäºå¡ï¼bï¼ï¼ä¸ä¹æäºå¡ï¼å½aï¼ï¼å¨æ§è¡è¿ç¨ä¸­è°ç¨äºbï¼ï¼ï¼äºå¡æ¯å¦ä½ä¼ éçï¼æ¯åå¹¶å°ä¸ä¸ªäºå¡ï¼è¿æ¯å¼å¯ä¸ä¸ªæ°äºå¡ï¼è¿å°±æ¯äºå¡çä¼ æ­è¡ä¸ºã</p>
<p>ä¸å±æ7ç§ä¼ æ­è¡ä¸ºï¼</p>
<ol>
<li>REQUIRD:æ¯æå½åäºå¡ï¼å¦æä¸å­å¨å°±æ°å»ºä¸ä¸ªäºå¡ï¼é»è®¤ï¼ãæ²¡æå°±æ°å»ºï¼æå°±å å¥ã</li>
<li>SUPPORTSï¼æ¯æå½åäºå¡ï¼å¦æå½åæ²¡æäºå¡ï¼å°±ä»¥éäºå¡æ¹å¼æ§è¡ãæå°±å å¥ï¼æ²¡æå°±ä¸ç®¡äºã</li>
<li>MANDATORYï¼å¿é¡»è¿è¡å¨ä¸ä¸ªäºå¡ä¸­ï¼å¦æå½åæ²¡æäºå¡åçï¼å°æåºå¼å¸¸ãæå°±å å¥ï¼æ²¡æå°±æå¼å¸¸ã</li>
<li>REQUIRES_NEWï¼å¼å¯ä¸ä¸ªæ°äºå¡ï¼å¦æä¸ä¸ªäºå¡å·²ç»å­å¨ï¼åå°è¿ä¸ªå­å¨çäºå¡æèµ·ãä¸ç®¡ææ²¡æãç´æ¥å¼å¯ä¸ä¸ªæ°äºå¡ãæ°äºå¡åæ§äºå¡ä¸å­å¨åµå¥å³ç³»ï¼æ§äºå¡è¢«æèµ·äºã</li>
<li>NOT_SUPPORTEDï¼ä»¥éäºå¡æ¹å¼è¿è¡ãå¦ææäºå¡ãåæèµ·å½åäºå¡ãä¸æ¯æäºå¡ï¼å­å¨å°±æèµ·ã</li>
<li>NEVERï¼ä»¥éäºå¡æ¹å¼è¿è¡ãå¦ææäºå¡ãåæå¼å¸¸ãä¸æ¯æäºå¡ï¼å­å¨å°±æå¼å¸¸ã</li>
<li>NESTEDï¼å¦æå½åæä¸ä¸ªäºå¡å¨è¿è¡ä¸­ï¼åè¯¥æ¹æ³åºå½è¿è¡å¨ä¸ä¸ªåµå¥äºå¡ä¸­ãè¢«åµå¥çäºå¡å¯ä»¥ç¬ç«äºå¤å±äºå¡è¿è¡æäº¤æåæ»ãå¦æå¤å±äºå¡ä¸å­å¨ãè¡ä¸ºå°±åREQUIRDä¸æ ·ãæäºå¡çè¯ï¼å°±å¨è¿ä¸ªäºå¡éåµå¥ä¸ä¸ªå®å¨ç¬ç«çäºå¡ï¼åµå¥çäºå¡å¯ä»¥ç¬ç«çæäº¤ååæ»ãæ²¡æäºå¡å°±åREQUIRDä¸æ ·ã</li>
</ol>
<p>å¨ä»£ç ä¸­è®¾ç½®äºå¡çä¼ æ­è¡ä¸ºï¼</p>
<pre><code class="language-java">@Transactional(propagation = Propagation.MANDATORY)
</code></pre>
<h3 id="äºå¡éç¦»çº§å«">äºå¡éç¦»çº§å«</h3>
<p>æ°æ®åºä¸­è¯»åæ°æ®å­å¨ä¸å¤§é®é¢ï¼</p>
<ol>
<li>èè¯»ï¼è¯»åå°æ²¡ææäº¤å°æ°æ®åºçæ°æ®</li>
<li>ä¸å¯éå¤è¯»ï¼å¨åä¸ä¸ªäºå¡ä¸­ï¼ç¬¬ä¸æ¬¡åç¬¬äºæ¬¡è¯»åçæ°æ®ä¸ä¸æ ·</li>
<li>å¹»è¯»ï¼è¯»å°çæ°æ®æ¯åçï¼ï¼</li>
</ol>
<p>äºå¡çéç¦»çº§å«æ4ä¸ªï¼</p>
<ol>
<li>è¯»æªæäº¤READ_UNCOMMITTEDï¼ å­å¨èè¯»ãä¸å¯éå¤è¯»ãå¹»è¯»é®é¢</li>
<li>è¯»æäº¤READ_COMMITTEDï¼äºå¡æäº¤ä¹åæè¯»å°ãå­å¨ä¸å¯éå¤è¯»ãå¹»è¯»é®é¢</li>
<li>å¯éå¤è¯»REPEATABLE_READï¼è§£å³ä¸å¯éå¤è¯»çé®é¢ï¼å­å¨å¹»è¯»é®é¢</li>
<li>åºååSERIALIZABLEï¼è§£å³å¹»è¯»é®é¢ï¼äºå¡æéæ§è¡ãä¸æ¯æå¹¶åã</li>
</ol>
<p><strong>MySQLé»è®¤å¯éå¤è¯»ï¼Oracleé»è®¤è¯»æäº¤</strong></p>
<p>ä»å¨è¯»çäºå¡ä¸­è®¾ç½®éç¦»çº§å«å°±è¡ï¼åçäºå¡æ²¡å¿è¦è®¾ç½®</p>
<p>ä»£ç ä¸­è®¾ç½®äºå¡çéç¦»çº§å«ï¼</p>
<pre><code class="language-java">@Transactional(isolation = Isolation.DEFAULT)
</code></pre>
<h3 id="äºå¡è¶æ¶">äºå¡è¶æ¶</h3>
<pre><code class="language-java">@Transactional(timeout = 10)
</code></pre>
<p>ä»¥ä¸ä»£ç è®¾ç½®äºå¡è¶æ¶æ¶é´ä¸º10s</p>
<p>è¡¨ç¤ºè¶è¿10sï¼å¦æäºå¡ä¸­ææçDMLè¯­å¥è¿æ²¡ææ§è¡å®æ¯çè¯ï¼æç»ç»æä¼åæ»ã</p>
<p>é»è®¤å¼-1ï¼è¡¨ç¤ºæ²¡ææ¶é´éå¶ã</p>
<p><strong>äºå¡çè¶æ¶æ¶é´å¼å¾æ¯åªæ®µæ¶é´ï¼</strong></p>
<p>å¨å½åäºå¡ä¸­ï¼æåä¸æ¡DMLè¯­å¥æ§è¡ä¹åçæ¶é´ï¼å¦ææåä¸æ¡DMLè¯­å¥åé¢æå¾å¤ä¸å¡é»è¾ï¼è¿äºä¸å¡ä»£ç æ§è¡çæ¶é´ä¸è¢«è®¡å¥è¶æ¶æ¶é´ã</p>
<h3 id="åªè¯»äºå¡">åªè¯»äºå¡</h3>
<pre><code class="language-java">@Transactional(readOnly = true)
</code></pre>
<p>å°å½åäºå¡è®¾ä¸ºåªè¯»äºå¡ï¼å¨è¯¥äºå¡ä¸­åªåè®¸æ§è¡select è¯­å¥ã</p>
<p>è¯¥ç¹æ§çä½ç¨æ¯ï¼å¯å¨springçä¼åç­ç¥ãæé«selectè¯­å¥çæ§è¡æçã</p>
<h3 id="è®¾ç½®åªäºå¼å¸¸åæ»äºå¡">è®¾ç½®åªäºå¼å¸¸åæ»äºå¡</h3>
<pre><code class="language-java">@Transactional(rollbackFor = RuntimeException.class)
</code></pre>
<p>è¡¨ç¤ºåçRuntimeExceptionå¼å¸¸æè¯¥å¼å¸¸çå­ç±»å¼å¸¸æåæ»</p>
<h3 id="è®¾ç½®åªäºå¼å¸¸ä¸åæ»äºå¡">è®¾ç½®åªäºå¼å¸¸ä¸åæ»äºå¡</h3>
<pre><code class="language-java">@Transactional(noRollbackFor = NullPointerException.class)
</code></pre>
<p>è¡¨ç¤ºåçNullPointerExceptionå¼å¸¸æè¯¥å¼å¸¸çå­ç±»ä¸åæ»ï¼å¶ä»å¼å¸¸æåæ»</p>
<h3 id="äºå¡çå¨æ³¨è§£å¼å¼å">äºå¡çå¨æ³¨è§£å¼å¼å</h3>
<p>ç¼åéç½®ç±»</p>
<pre><code class="language-java">@Configuration // ä»£æ¿xmléç½®æä»¶
@ComponentScan("com.ali") // æ«æcom.aliåä¸çææç±»
@EnableTransactionManagement // å¼å¯äºå¡ç®¡ç
public class Spring6Config {

    // @Beanæ³¨è§£ç¨äºå°æ¹æ³çè¿åå¼æ³¨åä¸ºSpringå®¹å¨ä¸­çä¸ä¸ªBean
    @Bean(name = "druidDataSource")
    public DruidDataSource druidDataSource() {
        DruidDataSource druidDataSource = new DruidDataSource();
        druidDataSource.setUrl("jdbc:mysql://localhost:3306/spring6?useSSL=false&amp;serverTimezone=UTC");
        druidDataSource.setUsername("root");
        druidDataSource.setDriverClassName("com.mysql.jdbc.Driver");
        druidDataSource.setPassword("123456");
        return druidDataSource;
    }

    @Bean(name = "transactionManager")
    public DataSourceTransactionManager transactionManager(DataSource dataSource) {
        DataSourceTransactionManager transactionManager = new DataSourceTransactionManager();
        transactionManager.setDataSource(dataSource);
        return transactionManager;
    }

    @Bean(name = "jdbcTemplate")
    // è¯¥æ¹æ³çåæ°DataSource dataSourceä¼èªå¨ä»Springå®¹å¨ä¸­æ¾å°ç±»åä¸ºDataSourceçBeanå¹¶æ³¨å¥
    public JdbcTemplate jdbcTemplate(DataSource dataSource) {
        JdbcTemplate jdbcTemplate = new JdbcTemplate();
        jdbcTemplate.setDataSource(dataSource);
        return jdbcTemplate;
    }
}
</code></pre>
<p>ä½¿ç¨æ¶åå¶ä»æ¹å¼ä¸æ ·ã</p>


</div>
<div id="MySignature" role="contentinfo">
    <p>æ¬ææ¥èªåå®¢å­ï¼ä½èï¼<a href="https://www.cnblogs.com/alineverstop/" target="_blank">NE_STOP</a>ï¼è½¬è½½è¯·æ³¨æåæé¾æ¥ï¼<a href="https://www.cnblogs.com/alineverstop/p/19598826" target="_blank">https://www.cnblogs.com/alineverstop/p/19598826</a></p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-10 11:39">2026-02-10 11:39</span>&nbsp;
<a href="https://www.cnblogs.com/alineverstop">NE_STOP</a>&nbsp;
éè¯»(<span id="post_view_count">107</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19598826);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19598826', targetLink: 'https://www.cnblogs.com/alineverstop/p/19598826', title: 'spring-äºå¡ç®¡ç' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ åºäºDWSçåéè®¡ç®åè½å®ç°ç®åçååæç´¢æ¨èç³»ç» ]]></title>
    <link>https://www.cnblogs.com/huaweiyun/p/19598674</link>
    <guid>950e788755b79bc077f8b607225cdefe</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/huaweiyun/p/19598674" title="åå¸äº 2026-02-10 11:14">
    <span role="heading" aria-level="2">åºäºDWSçåéè®¡ç®åè½å®ç°ç®åçååæç´¢æ¨èç³»ç»</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p data-tool="mdniceç¼è¾å¨">æ¬æåäº«èªåä¸ºäºç¤¾åºã<a href="https://bbs.huaweicloud.com/blogs/470986?utm_source=oschina&amp;utm_medium=bbs-ex&amp;utm_campaign=other&amp;utm_content=content" target="_blank" rel="noopener nofollow">åºäºDWSçåéè®¡ç®åè½å®ç°ç®åçååæç´¢æ¨èç³»ç»</a>ã</p>
<h2 data-tool="mdniceç¼è¾å¨"><span class="prefix"><span class="content">1. åè¨</span></span></h2>
<ul data-tool="mdniceç¼è¾å¨">
<li>éç¨çæ¬ï¼ã9.1.1.200ï¼åä»¥ä¸ï¼ã</li>
</ul>
<p data-tool="mdniceç¼è¾å¨">å¨çæå¼ AI ä¸å¤§æ¨¡åï¼LLMï¼éå¡ææ¯æ çä»å¤©ï¼æ°æ®å¤ççéæ±å·²ç»ä»åä¸çâç²¾ç¡®å¹éâè½¬åäºâè¯­ä¹çè§£âãä¼ ç»çæ°æ®åºç³»ç»å¨å¤çç»æåæ°æ®ï¼å¦è®¢åéé¢ãç¨æ·IDï¼æ¹é¢è¡¨ç°å®ç¾ï¼ä½å¨é¢å¯¹ AI æ¶ä»£çåçéç»æåæ°æ®ï¼ææ¬ãå¾åãé³è§é¢ï¼æ¶ï¼åºäºå³é®è¯æç´¢çä¼ ç»æ¹å¼ç±äºæ æ³çè§£æ°æ®æ¬èº«èåçâ<strong>ææ</strong>âä»èæ¾å¾åä¸ä»å¿ã</p>
<p data-tool="mdniceç¼è¾å¨"><strong>æ ¸å¿çç¹</strong>ï¼ä¼ ç»æ°æ®åºæ¬è´¨ä¸ä¾èµç²¾ç¡®å¹éï¼exact matchï¼æå­æ®µç´¢å¼æ¥è¯¢ï¼ç¼ºå°ä»¥â<strong>å«ä¹</strong>âä¸ºä¸­å¿çæ¨¡ç³ç¸ä¼¼æç´¢è½åãAIç¸å³åºç¨ä¸æ¨èç³»ç»åºæ¯å¸¦æ¥äºæµ·éåéæ£ç´¢éæ±ï¼ç¸ä¼¼æ§æç´¢æ¯æ ¸å¿éæ±ï¼å¯¹åéæ°æ®åºå¸¸è§åºç¨åºæ¯ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li>
<p>ä»¥ææå¾/ä»¥å¾æå¾ï¼ æ¾å°ä¸è¾å¥å¾çæç¸ä¼¼çå¾ç</p>
</li>
<li>
<p>æºè½é®ç­/RAGï¼å¨ç¥è¯åºä¸­æ¾å°ä¸ç¨æ·é®é¢æç¸å³çææ¡£çæ®µ</p>
</li>
<li>
<p>æ¨èç³»ç»ï¼æ¾å°ä¸ç¨æ·å´è¶£åéæç¸ä¼¼çåå</p>
</li>
</ul>
<p data-tool="mdniceç¼è¾å¨"><strong>è§£å³æ¹æ¡</strong>ï¼DWSéæ pgvector(0.8.0) æä»¶ï¼å¯ææå¼å è½½ï¼å®ç°åºååéè®¡ç®æ£ç´¢è½åã</p>
<p data-tool="mdniceç¼è¾å¨"><strong>å®ä¹</strong>ï¼ DWSåéè®¡ç®å¹¶éç¬ç«çæ°æ®åºç³»ç»ï¼èæ¯éè¿æä»¶å½¢å¼æ©å±ä¼ ç»æ°æ®åºåè½ï¼ä½¿å¶è½å¤å¤çé«ç»´åéæ°æ®ï¼æ éç¨æ·è¿å¾æ°æ®æéæåºç¨æ¶æï¼å³å¯å¨ç°æç³»ç»ä¸­å®ç°åéæ£ç´¢ç¸å³åè½ã</p>
<img alt="" data-src="https://img2024.cnblogs.com/blog/2030258/202602/2030258-20260210111417580-912227321.png" class="lazyload"><br>
<h2 data-tool="mdniceç¼è¾å¨"><span class="prefix"><span class="content">2. DWSåéè®¡ç®åè½ç®ä»</span></span></h2>
<ol data-tool="mdniceç¼è¾å¨">
<li>åéæ°æ®ç±»åï¼</li>
</ol>
<p><img alt="" data-src="https://img2024.cnblogs.com/blog/2030258/202602/2030258-20260210111417526-2044915800.png" class="lazyload"></p>
<ol start="2" data-tool="mdniceç¼è¾å¨">
<li>åéè·ç¦»/ç¸ä¼¼åº¦æä½ç¬¦ï¼&nbsp;</li>
</ol>
<p><img alt="" data-src="https://img2024.cnblogs.com/blog/2030258/202602/2030258-20260210111417523-2102871759.png" class="lazyload"></p>
<ol start="3" data-tool="mdniceç¼è¾å¨">
<li>ç´¢å¼ç±»åï¼</li>
</ol>
<p><img alt="" data-src="https://img2024.cnblogs.com/blog/2030258/202602/2030258-20260210111417561-1899020612.png" class="lazyload"></p>
<h2 data-tool="mdniceç¼è¾å¨"><span class="prefix"><span class="content">3. å®æ´ç¤ºä¾</span></span></h2>
<p data-tool="mdniceç¼è¾å¨">åè®¾æä»¬æ­£å¨åä¸ä¸ªååæ¨èæç´¢ç³»ç»ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li>ååæ¬èº«ææ é¢ãæè¿°ãåç±»ãä»·æ ¼ç­å­æ®µ</li>
<li>åå©å¤§æ¨¡åembeddingè½åï¼æä»¬è½å¤å°ååæè¿°ç¼ç ä¸ºåé</li>
<li>åæ ·çï¼å°ç¨æ·çæç´¢å³é®å­ä¹è½¬åä¸ºåé</li>
<li><strong>ç®ç</strong>ï¼éè¿<strong>ç¸ä¼¼æ§</strong>æç´¢æ¾åºæç¬¦åç¨æ·<strong>æç´¢æå¾</strong>çåå</li>
</ul>
<blockquote class="custom-blockquote multiquote-1" data-tool="mdniceç¼è¾å¨">
<p>å¦éä½¿ç¨åéè®¡ç®åè½ï¼è¯·èç³»ææ¯æ¯æä¿®æ¹feature_support_optionsåæ°, å¼å¯enable_pgvectoréé¡¹ãè¯¦ç»è¯­æ³ä»ç»ï¼è¯·åèDWSäº§åææ¡£ <a href="https://support.huaweicloud.com/devg-911-dws/dws_04_1462.html" rel="noopener nofollow">åéè®¡ç®</a>ç« è</p>
</blockquote>
<h3 data-tool="mdniceç¼è¾å¨"><span class="prefix"><span class="content">3.1 åºç¡æ¥è¯¢</span></span></h3>
<ol data-tool="mdniceç¼è¾å¨">
<li>
<p>å®è£æ©å±ï¼</p>
<div class="cnblogs_Highlighter">
<pre class="brush:csharp;gutter:true;">create extension pgvector;</pre>
</div>
</li>
<li>
<p>åå»ºååè¡¨ï¼å¨å­åéembeddingï¼</p>
<div class="cnblogs_Highlighter">
<pre class="brush:csharp;gutter:true;">CREATE TABLE products (
    id bigserial PRIMARY KEY,
    title text,
    description text,
    price numeric,
    embedding vector(768)   --768ç»´åéï¼ç±ååæè¿°(description)çæ
);</pre>
</div>
</li>
<li>
<p>æå¥æ°æ®</p>
<div class="cnblogs_Highlighter">
<pre class="brush:csharp;gutter:true;">INSERT INTO products (title, description, price, embedding) VALUES
('Wireless Earbuds', 'Bluetooth wireless earbuds with charging case', 59.9, '[0.12, 0.34, -0.21, ...]'),
('Noise Cancelling Headphones', 'Over-ear headphones with active noise cancellation', 129.9, '[0.11, 0.36, -0.19, ...]'),
('Gaming Headset', 'Wired gaming headset with microphone', 79.9, '[0.10, 0.33, -0.25, ...]'),
('Smartphone Stand', 'Adjustable phone stand for desk use', 12.9, '[0.45, -0.12, 0.08, ...]'),
('USB-C Charger', 'Fast charging USB-C power adapter', 19.9, '[0.42, -0.15, 0.05, ...]'),
('Mechanical Keyboard', 'Mechanical keyboard with blue switches', 89.9, '[0.55, 0.02, -0.31, ...]'),
('Wireless Mouse', 'Ergonomic wireless mouse', 29.9, '[0.53, 0.01, -0.28, ...]'),
('Laptop Backpack', 'Water-resistant laptop backpack', 49.9, '[0.60, -0.05, -0.10, ...]'),
('4K Monitor', '27-inch 4K UHD computer monitor', 299.9, '[0.58, 0.04, -0.35, ...]'),
('Webcam', 'HD webcam for video conferencing', 39.9, '[0.52, -0.01, -0.20, ...]'),
('Bluetooth Speaker', 'Portable Bluetooth speaker with deep bass', 45.9, '[0.14, 0.30, -0.18, ...]'),
('Smart Watch', 'Fitness tracking smart watch', 99.9, '[0.20, 0.40, -0.22, ...]'),
('Fitness Tracker', 'Lightweight activity and sleep tracker', 49.9, '[0.22, 0.38, -0.24, ...]'),
('Tablet Stylus', 'Stylus pen for tablets', 25.9, '[0.48, -0.10, 0.12, ...]'),
('Laptop Cooling Pad', 'Cooling pad with dual fans', 34.9, '[0.57, -0.02, -0.15, ...]');</pre>
</div>
</li>
<li>
<p>ç¸ä¼¼åº¦æ¥è¯¢ï¼</p>
<p>éè¿ä»¥ä¸æ¥è¯¢ï¼è½å¤è·åä¸ç¨æ·åéç¸ä¼¼åº¦æé«/è·ç¦»æè¿çtopkä¸ªåå</p>
<div class="cnblogs_Highlighter">
<pre class="brush:csharp;gutter:true;">SELECT id, title, price
FROM products
ORDER BY embedding &lt;-&gt; '[0.091, -0.054, 0.92, ...]'   -- ç¨æ·åé, éè¿L2è·ç¦»è®¡ç®ç¸ä¼¼åº¦
LIMIT 10;</pre>
</div>
</li>
<li>
<p>æ··åæ¥è¯¢:</p>
<p>DWSåéè®¡ç®æ¯æä¼ ç»è¿æ»¤æ¹å¼åè¯­ä¹ç¸ä¼¼åº¦æ¥è¯¢çæ··åä½¿ç¨</p>
<div class="cnblogs_Highlighter">
<pre class="brush:csharp;gutter:true;">SELECT id,title,price
FROM products
WHERE price &lt; 2000
ORDER BY embedding &lt;-&gt; '[0.091, -0.054, 0.92, ...]'
LIMIT 10;</pre>
</div>
</li>
</ol>
<h3 data-tool="mdniceç¼è¾å¨"><span class="prefix"><span class="content">3.2 ä½¿ç¨ç´¢å¼</span></span></h3>
<p data-tool="mdniceç¼è¾å¨">DWSåéè®¡ç®é»è®¤ä½¿ç¨ç²¾ç¡®è¿é»æç´¢ï¼æä¾ç¾åä¹ç¾å¬åçä½æ¥è¯¢éåº¦è¾æ¢ãå¯ä»¥æéä½¿ç¨è¿ä¼¼ç¸é»æç´¢ç´¢å¼æ¥çºç²é¨åå¬åçä»¥æé«æ¥è¯¢éåº¦ãä¸åäºä¼ ç»ç´¢å¼ï¼è¿ä¼¼æç´¢ç´¢å¼å¯è½ä¼è¿åä¸åçæ¥è¯¢ç»æãDWSåéè®¡ç®ç®åæ¯æçç´¢å¼ç±»ååæ¬HNSWåIVFFlatã</p>
<ol data-tool="mdniceç¼è¾å¨">
<li>åå»ºç´¢å¼
<div class="cnblogs_Highlighter">
<pre class="brush:csharp;gutter:true;">-- HNSW ç´¢å¼
CREATE INDEX ON products USING hnsw (embedding vector_l2_ops) WITH (m = 16, ef_construction = 200);

-- æè IVFFlat ç´¢å¼
CREATE INDEX ON products USING ivfflat (embedding vector_l2_ops) WITH (lists = 100);</pre>
</div>
<pre class="custom"><code class="hljs">&nbsp;</code></pre>
</li>
<li>ä½¿ç¨ç´¢å¼ åå»ºç´¢å¼åæ§è¡topkæ¥è¯¢ï¼å¨è·ç¦»æä½ç¬¦å¹éçåºæ¯ä¸ä¼ä½¿ç¨index scanï¼å¯ä»¥éè¿explainè§å¯è®¡å
<div class="cnblogs_Highlighter">
<pre class="brush:csharp;gutter:true;"> id |                            operation                             
----+------------------------------------------------------------------
  1 | -&gt;  Limit                                                        
  2 |    -&gt;  Streaming (type: GATHER)                                  
  3 |       -&gt;  Limit                                                  
  4 |          -&gt;  Index Scan using products_embedding_idx on products</pre>
</div>
</li>
</ol>
<h3 data-tool="mdniceç¼è¾å¨"><span class="prefix"><span class="content">3.3 ç»æè§£è¯»</span></span></h3>
<ul data-tool="mdniceç¼è¾å¨">
<li>ç¨æ·æç´¢è¯ä¸º <code>wireless audio headset</code></li>
</ul>
<pre class="custom" data-tool="mdniceç¼è¾å¨"><code class="hljs">&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;id,&nbsp;title<br>&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;products<br>&nbsp;&nbsp;&nbsp;&nbsp;ORDER&nbsp;BY&nbsp;embedding&nbsp;&lt;-&gt;&nbsp;<span class="hljs-string">'[0.13,&nbsp;0.35,&nbsp;-0.20,&nbsp;...]'&nbsp;&nbsp;&nbsp;--ç¨æ·æç´¢è¯çembedding<br>&nbsp;&nbsp;&nbsp;&nbsp;LIMIT&nbsp;10;<br></span></code></pre>
<p data-tool="mdniceç¼è¾å¨">æ¥è¯¢ç»æï¼ åååä¸ºè³æºãé³åç±»åçæ°æ®ç¸è¾äºè¡¨ä¸­å¶ä»ååç±»å«ä¸ç¨æ·æç´¢è¯å¨è¯­ä¹ä¸æ´ä¸ºæ¥è¿ï¼å³ä¾¿æ²¡æç²¾ç¡®åå«<code>headset</code>ä»ç¶ä¼å¨ç»æä¸­æåºæ´é å</p>
<img alt="" data-src="https://img2024.cnblogs.com/blog/2030258/202602/2030258-20260210111417537-2120302191.png" class="lazyload"><br>
<ul data-tool="mdniceç¼è¾å¨">
<li>ç¨æ·æ­£å¨æµè§ <code>Noise Cancelling Headphones</code> ååï¼æ ¹æ®ç¸å³æ§è¿è¡æ¨èï¼</li>
</ul>
<div class="cnblogs_Highlighter">
<pre class="brush:csharp;gutter:true;">SELECT p2.title, p2.price
FROM products p1
JOIN products p2 ON p1.id &lt;&gt; p2.id
WHERE p1.title = 'Noise Cancelling Headphones'
ORDER BY p2.embedding &lt;-&gt; p1.embedding
LIMIT 10;</pre>
</div>
<p data-tool="mdniceç¼è¾å¨">æ¥è¯¢ç»æï¼ è³æºé³åç±»ååä¸ç¨æ·æ­£å¨æµè§ç <code>Noise Cancelling Headphones</code> äº§åç¸å³æ§æ´é«</p>
<p data-tool="mdniceç¼è¾å¨"><img alt="" data-src="https://img2024.cnblogs.com/blog/2030258/202602/2030258-20260210111417566-890623509.png" class="lazyload"></p>
<h2 data-tool="mdniceç¼è¾å¨"><span class="prefix"><span class="content">4 æ§è½</span></span></h2>
<p data-tool="mdniceç¼è¾å¨">ä»¥ä¸å¾ç¤ºå±ç¤ºäºdws pgvectoræä»¶å¨ä¸åæ°æ®éåç´¢å¼ä¸çæ£ç´¢æ§è½</p>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2030258/202602/2030258-20260210110919072-1321574869.png" class="lazyload"></p>
<p>&nbsp;å®æµè¡¨æï¼dws pgvectoræä»¶è½å¤åå°åä¸çº§åéæ°æ®ï¼</p>
<ol data-tool="mdniceç¼è¾å¨">
<li>ä½äºå°æ¶çº§ç´¢å¼æå»ºæ¶é´</li>
<li>æ¯«ç§çº§æ¥è¯¢</li>
<li>ç¨³å®é«å¬åçï¼æéè°åæ§å¶</li>
</ol>
<p data-tool="mdniceç¼è¾å¨">å¯¹æ¯ä¸¤ç§ç´¢å¼ï¼æä»¬å¯ä»¥åç°ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li>hnswç´¢å¼æå»ºæ¶é´ä¸æ°æ®éåç»´åº¦å¼ºç¸å³ãç¸åæ°æ®éåç»´åº¦åºæ¯ä¸æå»ºæ¶é´ç¸è¾ivfflatæ¾èå¢å ï¼æ¢åæ´å¿«å¾æ¥è¯¢éåº¦åæ´å¥½çå¬åç</li>
<li>ivfflatç´¢å¼æå»ºæ¶é´æ´ç­ï¼ä¸»è¦åæå»ºåæ°listså½±åï¼å¯¹æ°æ®éä¸ææãç¸åæ°æ®éåç»´åº¦åºæ¯ä¸æ¥è¯¢èæ¶åå¬åçè¡¨ç°ä½äºhnsw</li>
</ul>
<p data-tool="mdniceç¼è¾å¨">å æ­¤ï¼ä¸¤èçæ¨èä½¿ç¨åºæ¯åå«ä¸ºï¼ HNSW</p>
<ul data-tool="mdniceç¼è¾å¨">
<li>çº¿ä¸å®æ¶æ£ç´¢ æç´¢ / æ¨è / RAG</li>
<li>é«å¬åè¦æ± Recall â¥ 0.9</li>
<li>å¤ç§æ·/é¿æè¿ç»´ç³»ç»</li>
</ul>
<p data-tool="mdniceç¼è¾å¨">IVFFLAT</p>
<ul data-tool="mdniceç¼è¾å¨">
<li>ç¦»çº¿ / æ¹éæ£ç´¢</li>
<li>æ£ç´¢ææ¬ä¼å</li>
<li>ä½ä¸ºå¤çº§æ£ç´¢çç¬¬ä¸å±ç²ç­</li>
</ul>
<h2 data-tool="mdniceç¼è¾å¨"><span class="prefix"><span class="content">5 æ»ç»</span></span></h2>
<p data-tool="mdniceç¼è¾å¨">éè¿å¨ DWS åéè®¡ç®æ©å±è½åï¼æä»¬å°ä¼ ç»ä»¥ç»æåæ¥è¯¢ä¸ºæ ¸å¿çæ°æ®åºç³»ç»åçº§ä¸ºè½å¤å·å¤è¯­ä¹çè§£ä¸ç¸ä¼¼åº¦è®¡ç®è½åçç»ä¸æ°æ®åºåº§ãç³»ç»ä¸ä»æ¯æåéæ°æ®çå­å¨ä¸é«æç¸ä¼¼åº¦æ£ç´¢ï¼è¿åè®¸ä¸å¡æ¹ç´æ¥éè¿æ å SQL å®æè¯­ä¹æç´¢ãæ¨èä¸ç¸ä¼¼åå®¹å¹éï¼æ éå¼å¥é¢å¤çåéå¼ææå¤æçæ°æ®åæ­¥é¾è·¯ã</p>
<p data-tool="mdniceç¼è¾å¨">ä¾æ HNSWãIVFFlat è¿ä¼¼æè¿é»ç´¢å¼ï¼åéæ¥è¯¢å¨å¤§è§æ¨¡æ°æ®åºæ¯ä¸ä¾ç¶å·å¤å¯æ§çæ§è½ä¸ç¨³å®çååºè½åãåæ¶ï¼åéæ£ç´¢è½åä¸ä¼ ç»ç»æåæ¥è¯¢ãè¿æ»¤æ¡ä»¶ãJOIN é»è¾çæ·±åº¦èåï¼ä½¿å¾æç´¢æ¨èãä¸ªæ§ååæä»¥å RAG ç­ AI åºç¨å¯ä»¥èªç¶è½å°å¨ç°ææ°ä»ä¸ä¸å¡ä½ç³»ä¹ä¸ã</p>
<p data-tool="mdniceç¼è¾å¨">æç»ï¼è¿ä¸è½åæ©å±ä¸ä»éä½äºç³»ç»æ¶æå¤æåº¦ï¼ä¹æ¾èæåäºæ°æ®å¹³å°å¯¹æ°ä¸ä»£æºè½åºç¨çæ¯æè½åï¼å®ç°äºä»âæ°æ®æ¥è¯¢âåâè¯­ä¹è®¡ç®ä¸ä¸å¡å³ç­æ¯æâçæ¼è¿ã</p>
<p data-tool="mdniceç¼è¾å¨">&nbsp;</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-10 11:14">2026-02-10 11:14</span>&nbsp;
<a href="https://www.cnblogs.com/huaweiyun">åä¸ºäºå¼åèèç</a>&nbsp;
éè¯»(<span id="post_view_count">81</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19598674);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19598674', targetLink: 'https://www.cnblogs.com/huaweiyun/p/19598674', title: 'åºäºDWSçåéè®¡ç®åè½å®ç°ç®åçååæç´¢æ¨èç³»ç»' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
        </channel>
        </rss>