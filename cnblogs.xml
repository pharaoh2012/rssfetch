<?xml version="1.0" encoding="UTF-8" ?>
    <rss version="2.0">
    <channel>
        <title><![CDATA[ ä¸»é¡µ - åå®¢å­ ]]></title>
        <link><![CDATA[ https://www.cnblogs.com/ ]]></link>
        <lastBuildDate>2026-01-18T08:22:40.988Z</lastBuildDate>
        <description><![CDATA[
        ä¸»é¡µ - åå®¢å­ RSS
    ]]></description>
        <language>zh-cn</language>
        <item>
    <title><![CDATA[ ROS1 noetic ä¸­å° Unitree G1 åºäº Gazebo/RViz å³èèå¨ãä½¿ç¨ä¸ä¸ªlaunchæä»¶å¯å¨ã ]]></title>
    <link>https://www.cnblogs.com/zylyehuo/p/19498596</link>
    <guid>2b0cd046e352ed29823ea855ea9ab45d</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/zylyehuo/p/19498596" title="åå¸äº 2026-01-18 15:37">
    <span role="heading" aria-level="2">ROS1 noetic ä¸­å° Unitree G1 åºäº Gazebo/RViz å³èèå¨ãä½¿ç¨ä¸ä¸ªlaunchæä»¶å¯å¨ã</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<blockquote>
<p>åå®¢å°åï¼<a href="https://www.cnblogs.com/zylyehuo/" target="_blank">https://www.cnblogs.com/zylyehuo/</a></p>
</blockquote>
<blockquote>
<p><a href="https://github.com/unitreerobotics/unitree_ros/tree/master/robots/g1_description" target="_blank" rel="noopener nofollow">Unitree G1 æ¨¡åæä»¶ä¸è½½å°å(æéèªå·±éè¦çé¨åï¼æ¬æç¨åºäº g1_29dof.urdf (ä»¥å .xml å meshes æä»¶å¤¹))</a></p>
</blockquote>
<blockquote>
<p>ææ ¸å¿ç URDF æä»¶å Meshes (STL ç½æ ¼æä»¶)</p>
</blockquote>
<p><img src="https://img2024.cnblogs.com/blog/3071480/202601/3071480-20260113204337327-270675226.png" alt="image" loading="lazy"></p>
<h1 id="ææé¢è§">ææé¢è§</h1>
<p><img src="https://img2024.cnblogs.com/blog/3071480/202601/3071480-20260118152755660-1755629437.png" alt="image" loading="lazy"></p>
<h1 id="å·¥ä½ç©ºé´ç»æ">å·¥ä½ç©ºé´ç»æ</h1>
<p><img src="https://img2024.cnblogs.com/blog/3071480/202601/3071480-20260118161444336-1800514403.png" alt="image" loading="lazy"></p>
<h1 id="ä¸»è¦æä»¶">ä¸»è¦æä»¶</h1>
<h2 id="display_and_gazebolaunch">display_and_gazebo.launch</h2>
<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;launch&gt;
  &lt;!-- å è½½æºå¨äººURDFæ¨¡ååæ° --&gt;
  &lt;param name="robot_description" textfile="$(find g1_description)/urdf/g1_29dof.urdf" /&gt;

  &lt;!-- TFéæåæ¢ --&gt;
  &lt;node pkg="tf" type="static_transform_publisher" name="world_to_map" args="0 0 0  0 0 0 1  world map 10"/&gt;
  &lt;!-- NOTE: removed static base_link-&gt;pelvis to avoid TF duplication; link_states_bridge publishes dynamic map-&gt;base_link --&gt;
  &lt;node pkg="tf" type="static_transform_publisher" name="imu_in_torso2body_imu" args="0.0  0.0  0.0   0.0 0.0 0.0 1  imu_in_torso body_imu 100" /&gt;
  &lt;!-- NOTE: keep base_link-&gt;pelvis as a static zero transform so pelvis and base_link coincide --&gt;
  &lt;node pkg="tf" type="static_transform_publisher" name="base_link2pelvis" args="0 0 0  0 0 0 1  base_link pelvis 100" /&gt;

  &lt;!-- æºå¨äººç¶æåå¸å¨ --&gt;
  &lt;node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher" /&gt;

  &lt;!-- LinkStateså°JointStateçæ¡¥æ¥ï¼åæ¶åå¸å¨æTFåå¤çå³èå½ä»¤ --&gt;
  &lt;node name="link_states_bridge" pkg="g1_description" type="link_states_bridge.py" output="screen" /&gt;

  &lt;!-- RViz --&gt;
  &lt;node name="rviz" pkg="rviz" type="rviz" respawn="false" output="screen" /&gt;

  &lt;!-- ============ Gazeboéç½® ============ --&gt;
  &lt;!-- å¯å¨Gazebo --&gt;
  &lt;include file="$(find gazebo_ros)/launch/empty_world.launch"&gt;
    &lt;arg name="paused" value="false"/&gt;
    &lt;arg name="use_sim_time" value="true"/&gt;
    &lt;arg name="gui" value="true"/&gt;
    &lt;arg name="headless" value="false"/&gt;
  &lt;/include&gt;

  &lt;!-- å°æºå¨äººæ¨¡åçæå°Gazeboä¸­ --&gt;
  &lt;node name="spawn_urdf" pkg="gazebo_ros" type="spawn_model" 
    args="-param robot_description -urdf -z 0.79 -model g1_robot" 
    output="screen" /&gt;

  &lt;!-- NOTE: controller parameters loading removed to avoid conflicts; using bridge(set_model_configuration) instead --&gt;

&lt;/launch&gt;

</code></pre>
<h2 id="link_states_bridgepy">link_states_bridge.py</h2>
<pre><code class="language-python">#!/usr/bin/env python3

import rospy
import math
from gazebo_msgs.msg import LinkStates
from sensor_msgs.msg import JointState
from std_msgs.msg import Float64
import numpy as np
from scipy.spatial.transform import Rotation
import threading
import tf
from geometry_msgs.msg import TransformStamped
from gazebo_msgs.srv import SetModelConfiguration

class LinkStatesToJointState:
    def __init__(self):
        rospy.init_node('link_states_to_joint_state')
        
        # è®¢éGazeboçé¾æ¥ç¶æ
        self.link_states_sub = rospy.Subscriber('/gazebo/link_states', LinkStates, self.link_states_callback, queue_size=1)
        
        # è®¢éå³èå½ä»¤è¯é¢ï¼ç¨äºæ§å¶Gazeboä¸­çå³èï¼
        self.joint_cmd_sub = rospy.Subscriber('/joint_commands', JointState, self.joint_cmd_callback, queue_size=1)
        
        # åå¸joint_states
        self.joint_states_pub = rospy.Publisher('/joint_states', JointState, queue_size=1)
        
        # åå¸TFåæ¢
        self.tf_broadcaster = tf.TransformBroadcaster()
        
        # ææå³èåå¶parent/childé¾æ¥æ å°
        self.joints_info = {
            'left_hip_pitch_joint': ('pelvis', 'left_hip_pitch_link', [0, 1, 0]),
            'left_hip_roll_joint': ('left_hip_pitch_link', 'left_hip_roll_link', [1, 0, 0]),
            'left_hip_yaw_joint': ('left_hip_roll_link', 'left_hip_yaw_link', [0, 0, 1]),
            'left_knee_joint': ('left_hip_yaw_link', 'left_knee_link', [0, 1, 0]),
            'left_ankle_pitch_joint': ('left_knee_link', 'left_ankle_pitch_link', [0, 1, 0]),
            'left_ankle_roll_joint': ('left_ankle_pitch_link', 'left_ankle_roll_link', [1, 0, 0]),
            'right_hip_pitch_joint': ('pelvis', 'right_hip_pitch_link', [0, 1, 0]),
            'right_hip_roll_joint': ('right_hip_pitch_link', 'right_hip_roll_link', [1, 0, 0]),
            'right_hip_yaw_joint': ('right_hip_roll_link', 'right_hip_yaw_link', [0, 0, 1]),
            'right_knee_joint': ('right_hip_yaw_link', 'right_knee_link', [0, 1, 0]),
            'right_ankle_pitch_joint': ('right_knee_link', 'right_ankle_pitch_link', [0, 1, 0]),
            'right_ankle_roll_joint': ('right_ankle_pitch_link', 'right_ankle_roll_link', [1, 0, 0]),
            'waist_yaw_joint': ('pelvis', 'waist_yaw_link', [0, 0, 1]),
            'waist_roll_joint': ('waist_yaw_link', 'waist_roll_link', [1, 0, 0]),
            'waist_pitch_joint': ('waist_roll_link', 'torso_link', [0, 1, 0]),
            'left_shoulder_pitch_joint': ('torso_link', 'left_shoulder_pitch_link', [0, 1, 0]),
            'left_shoulder_roll_joint': ('left_shoulder_pitch_link', 'left_shoulder_roll_link', [1, 0, 0]),
            'left_shoulder_yaw_joint': ('left_shoulder_roll_link', 'left_shoulder_yaw_link', [0, 0, 1]),
            'left_elbow_joint': ('left_shoulder_yaw_link', 'left_elbow_link', [0, 1, 0]),
            'left_wrist_roll_joint': ('left_elbow_link', 'left_wrist_roll_link', [1, 0, 0]),
            'left_wrist_pitch_joint': ('left_wrist_roll_link', 'left_wrist_pitch_link', [0, 1, 0]),
            'left_wrist_yaw_joint': ('left_wrist_pitch_link', 'left_wrist_yaw_link', [0, 0, 1]),
            'right_shoulder_pitch_joint': ('torso_link', 'right_shoulder_pitch_link', [0, 1, 0]),
            'right_shoulder_roll_joint': ('right_shoulder_pitch_link', 'right_shoulder_roll_link', [1, 0, 0]),
            'right_shoulder_yaw_joint': ('right_shoulder_roll_link', 'right_shoulder_yaw_link', [0, 0, 1]),
            'right_elbow_joint': ('right_shoulder_yaw_link', 'right_elbow_link', [0, 1, 0]),
            'right_wrist_roll_joint': ('right_elbow_link', 'right_wrist_roll_link', [1, 0, 0]),
            'right_wrist_pitch_joint': ('right_wrist_roll_link', 'right_wrist_pitch_link', [0, 1, 0]),
            'right_wrist_yaw_joint': ('right_wrist_pitch_link', 'right_wrist_yaw_link', [0, 0, 1]),
        }
        
        # Gazebo set_model_configuration æå¡ä»£çï¼ç¨äºç´æ¥è®¾ç½®å³èä½ç½®ï¼æ¿ä»£ros_controlï¼
        rospy.wait_for_service('/gazebo/set_model_configuration')
        self.set_model_config = rospy.ServiceProxy('/gazebo/set_model_configuration', SetModelConfiguration)
        
        self.last_msg = None
        self.lock = threading.Lock()
        self.initial_pelvis_z = None  # åå§pelvisé«åº¦

        # TF åå¸èæµåæ°
        self.last_tf_time = rospy.Time(0)
        self.tf_min_interval = rospy.Duration(0.05)  # æå°é´é 50ms
        self.last_pelvis_pose = None
        self.tf_pos_thresh = 0.005   # 5mm
        self.tf_rot_thresh = 0.01    # ~0.57deg
        
        rospy.loginfo("Link States to Joint State Bridge initialized")
        rospy.loginfo("Now using /gazebo/set_model_configuration to apply joint commands")
        rospy.loginfo("Publish JointState to /joint_commands to control joints")
    
    def link_states_callback(self, msg):
        with self.lock:
            self.last_msg = msg
            self.publish_joint_states(msg)
            self.publish_dynamic_tf(msg)
    
    def joint_cmd_callback(self, msg):
        """è®¢éå³èå½ä»¤è¯é¢ï¼ä½¿ç¨Gazeboæå¡è®¾ç½®å³èä½ç½®ï¼ä¸ä¾èµURDF transmissionï¼"""
        try:
            if not msg.name or not msg.position:
                rospy.logwarn("Received empty joint command")
                return
            # è°ç¨æå¡è®¾ç½®å³èä½ç½®
            model_name = 'g1_robot'
            urdf_param_name = 'robot_description'
            joint_names = list(msg.name)
            joint_positions = list(msg.position)
            rospy.loginfo(f"Setting joints via service: {joint_names} -&gt; {joint_positions}")
            self.set_model_config(model_name, urdf_param_name, joint_names, joint_positions)
        except Exception as e:
            rospy.logerr(f"Failed to call set_model_configuration: {e}")
    
    def get_link_index(self, link_name, msg):
        """è·åé¾æ¥å¨LinkStatesä¸­çç´¢å¼"""
        full_name = f'g1_robot::{link_name}'
        try:
            return msg.name.index(full_name)
        except ValueError:
            return -1
    
    def get_relative_rotation(self, parent_pose, child_pose):
        """è®¡ç®ä»parentå°childçç¸å¯¹æè½¬ï¼ååæ°ï¼"""
        p_quat = [parent_pose.orientation.x, parent_pose.orientation.y, 
                  parent_pose.orientation.z, parent_pose.orientation.w]
        c_quat = [child_pose.orientation.x, child_pose.orientation.y, 
                  child_pose.orientation.z, child_pose.orientation.w]
        
        p_rot = Rotation.from_quat(p_quat)
        c_rot = Rotation.from_quat(c_quat)
        
        rel_rot = p_rot.inv() * c_rot
        
        return rel_rot
    
    def rotation_to_angle_around_axis(self, rotation, axis):
        angle = rotation.magnitude()
        
        if abs(angle) &lt; 1e-6:
            return 0.0
        
        rotvec = rotation.as_rotvec()
        rot_axis = rotvec / angle if angle &gt; 1e-6 else [0, 0, 1]
        
        axis_norm = np.array(axis) / np.linalg.norm(axis)
        
        if np.dot(rot_axis, axis_norm) &gt; 0.9:
            return angle
        elif np.dot(rot_axis, axis_norm) &lt; -0.9:
            return -angle
        else:
            euler = rotation.as_euler('xyz')
            if axis == [1, 0, 0]:
                return euler[0]
            elif axis == [0, 1, 0]:
                return euler[1]
            elif axis == [0, 0, 1]:
                return euler[2]
            else:
                return 0.0
    
    def publish_joint_states(self, msg):
        joint_state = JointState()
        joint_state.header.stamp = rospy.Time.now()
        joint_state.name = list(self.joints_info.keys())
        joint_state.position = []
        joint_state.velocity = [0.0] * len(joint_state.name)
        joint_state.effort = [0.0] * len(joint_state.name)
        
        for joint_name, (parent_name, child_name, axis) in self.joints_info.items():
            parent_idx = self.get_link_index(parent_name, msg)
            child_idx = self.get_link_index(child_name, msg)
            
            if parent_idx &lt; 0 or child_idx &lt; 0:
                joint_state.position.append(0.0)
                continue
            
            rel_rot = self.get_relative_rotation(msg.pose[parent_idx], msg.pose[child_idx])
            angle = self.rotation_to_angle_around_axis(rel_rot, axis)
            
            joint_state.position.append(angle)
        
        self.joint_states_pub.publish(joint_state)
    
    def publish_dynamic_tf(self, msg):
        pelvis_idx = self.get_link_index('pelvis', msg)

        if pelvis_idx &lt; 0:
            return

        pelvis_pose = msg.pose[pelvis_idx]

        # èæµé»è¾
        now = rospy.Time.now()
        if self.last_pelvis_pose is not None:
            pos_diff = np.linalg.norm([
                pelvis_pose.position.x - self.last_pelvis_pose.position.x,
                pelvis_pose.position.y - self.last_pelvis_pose.position.y,
                pelvis_pose.position.z - self.last_pelvis_pose.position.z
            ])
            rot_diff = Rotation.from_quat([
                pelvis_pose.orientation.x, pelvis_pose.orientation.y,
                pelvis_pose.orientation.z, pelvis_pose.orientation.w
            ]).inv() * Rotation.from_quat([
                self.last_pelvis_pose.orientation.x, self.last_pelvis_pose.orientation.y,
                self.last_pelvis_pose.orientation.z, self.last_pelvis_pose.orientation.w
            ])
            rot_diff_angle = rot_diff.magnitude()

            if pos_diff &lt; self.tf_pos_thresh and rot_diff_angle &lt; self.tf_rot_thresh and (now - self.last_tf_time) &lt; self.tf_min_interval:
                return

        self.last_tf_time = now
        self.last_pelvis_pose = pelvis_pose

        translation = (pelvis_pose.position.x, pelvis_pose.position.y, pelvis_pose.position.z)
        rotation_q = (pelvis_pose.orientation.x, pelvis_pose.orientation.y, pelvis_pose.orientation.z, pelvis_pose.orientation.w)

        # åªåå¸ map -&gt; base_linkï¼è®© base_link-&gt;pelvis ç±éæåå¸å¨ï¼launchï¼å¤ç
        self.tf_broadcaster.sendTransform(
            translation=translation,
            rotation=rotation_q,
            time=rospy.Time.now(),
            child='base_link',
            parent='map'
        )

if __name__ == '__main__':
    try:
        node = LinkStatesToJointState()
        rospy.spin()
    except rospy.ROSInterruptException:
        pass

</code></pre>
<h1 id="è¿è¡æ­¥éª¤">è¿è¡æ­¥éª¤</h1>
<pre><code>cd ~/g1_test_ws
</code></pre>
<pre><code>catkin_make
</code></pre>
<pre><code>source ./devel/setup.bash
</code></pre>
<pre><code>roslaunch g1_description display_and_gazebo.launch
</code></pre>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.027083333333333334" data-date-updated="2026-01-18 16:16">2026-01-18 15:37</span>&nbsp;
<a href="https://www.cnblogs.com/zylyehuo">zylyehuo</a>&nbsp;
éè¯»(<span id="post_view_count">3</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19498596);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19498596', targetLink: 'https://www.cnblogs.com/zylyehuo/p/19498596', title: 'ROS1 noetic ä¸­å° Unitree G1 åºäº Gazebo/RViz å³èèå¨ãä½¿ç¨ä¸ä¸ªlaunchæä»¶å¯å¨ã' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ æä½ ç½å«ä¸å¹´è°·æ­Gemini Proä¼å ]]></title>
    <link>https://www.cnblogs.com/dnboy/p/19498587</link>
    <guid>98c1826a75baaece8755552a3696f8a6</guid>
    <description>
    <![CDATA[ 
	<div class="postTitle">
		<a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/dnboy/p/19498587" title="åå¸äº 2026-01-18 15:29">
    <span role="heading" aria-level="2">æä½ ç½å«ä¸å¹´è°·æ­Gemini Proä¼å</span>
    

</a>

	</div>
	<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="1ææ">1.ææ</h2>
<p>ä¸é¢æ¯å¼éæåçæªå¾ï¼å·²ç»å¯ä»¥ç¨ä¸ä¸å¹´çGemini Proäº</p>
<p><img alt="" loading="lazy" data-src="https://fileserver.developer.huaweicloud.com/FileServer/getFile/communitytemp/20260118/community/790/544/735/0001584846790544735.20260118072448.71504937133654177567237333052829:20260118092647:2415:4D0647D472F97600A048FEE6640E37D0175CF0EDE4EE9FE5F477E707D499501E.png" class="lazyload"></p>
<h2 id="2åå¤å·¥ä½">2.åå¤å·¥ä½</h2>
<ul>
<li>è½è®¿é®è°·æ­çç½ç»</li>
<li>ä¸ä¸ªGoogleè´¦å·</li>
<li>ä¸ä¸ªVisaå¨å¸ç§å¡</li>
</ul>
<h2 id="3ç½ç»">3.ç½ç»</h2>
<p>æ³¨æç½ç»èç¹éè¦åæ¢ç¾å½èç¹ï¼å¦åä¼æä¸éè¿çé£é©</p>
<h2 id="4å­¦çè®¤è¯">4.å­¦çè®¤è¯</h2>
<p>ç»å½ï¼<a href="https://gemini.google/students/" target="_blank" rel="noopener nofollow">https://gemini.google/students/</a></p>
<p>ç¹å»<code>Get Offer</code></p>
<p><img alt="" loading="lazy" data-src="https://fileserver.developer.huaweicloud.com/FileServer/getFile/communitytemp/20260118/community/790/544/735/0001584846790544735.20260118072508.52782287438524134178905517002178:20260118092647:2415:68500C758D9D992404F8313473A8041C51041CB244724DF5AB5481224433C353.png" class="lazyload"></p>
<h3 id="5-è®¤è¯">5. è®¤è¯</h3>
<p>è¿ä¸æ­¥å ä¸ºæçè°·æ­è´¦å·æ¯èå·ï¼ç¹å»ä¹åæç¤ºå·²ç»ä¸æ¯æè¿ä¸ªå­¦çè®¤è¯æ¹æ¡äº</p>
<p><img alt="" loading="lazy" data-src="https://fileserver.developer.huaweicloud.com/FileServer/getFile/communitytemp/20260118/community/790/544/735/0001584846790544735.20260118072520.83821713201815579865186151792781:20260118092647:2415:CF292423C2F1D0C642FAE0349F05F2D4DF740B4B9C1A144411DC813FD0A92965.png" class="lazyload"></p>
<p>ä¸è¿ä¸è¦ç´§ï¼æä»¬å¯ä»¥ä»æé±¼ä¸å»ä¹°Gemini Proçå­¦çè®¤è¯æå¡ï¼æ¶è´¹å¤§æ¦30åå·¦å³å°±è¡äºï¼å°å·ç¨äºä¸å°10åéå°±å®æäºè®¤è¯</p>
<p><img alt="" loading="lazy" data-src="https://fileserver.developer.huaweicloud.com/FileServer/getFile/communitytemp/20260118/community/790/544/735/0001584846790544735.20260118072531.79245063613947606617590413409529:20260118092647:2415:6FFD39EC485C023EFD679D5F1B57F227F6372E768017CEE32B61197AB3285D1E.png" class="lazyload"></p>
<p>æ¶å°è¿ä¸ªé®ä»¶ï¼è¿æ¯å¾æ¿å¨çï¼æ¯ç«è±ç¹å°é±å°±å¯ä»¥ç¨å°1å¹´çGemini3åNano bananaäºï¼éå¸¸åç®ã</p>
<p><img alt="" loading="lazy" data-src="https://fileserver.developer.huaweicloud.com/FileServer/getFile/communitytemp/20260118/community/790/544/735/0001584846790544735.20260118072545.64743771799818061842556247520133:20260118092647:2415:BFFF34D5E5472ABDFDDB37579AA4C5FF5AAE656E7CF9F5308D3EF4062E03C60B.png" class="lazyload"></p>
<p>å¤§å®¶ä¹å¿«å»å°è¯å§ï¼æ°å·åºè¯¥ä¸éè¦è¿ä¹éº»ç¦ç</p>
<p>ä¸ç¥égoogleè¿ä¸ªâbugâä¼éæ¾å¤ä¹ï¼è¯´ä¸å®åªä¸å¤©å°±è¢«å µä¸å¦</p>

</div>
<div class="clear"></div>

	<div class="postDesc">posted on 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-18 15:30">2026-01-18 15:29</span>&nbsp;
<a href="https://www.cnblogs.com/dnboy">å·ç¦åå­¦</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19498587);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19498587', targetLink: 'https://www.cnblogs.com/dnboy/p/19498587', title: 'æä½ ç½å«ä¸å¹´è°·æ­Gemini Proä¼å' })">ä¸¾æ¥</a>
</div>
 ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ æç ´å ç§¯å°å±ï¼ä¼åå ç§¯æ¡å½¢å¾çå¯¹æ¯ææ ]]></title>
    <link>https://www.cnblogs.com/wang_yb/p/19498573</link>
    <guid>60ecff9d92d11a54945d82ba47ddda33</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/wang_yb/p/19498573" title="åå¸äº 2026-01-18 15:25">
    <span role="heading" aria-level="2">æç ´å ç§¯å°å±ï¼ä¼åå ç§¯æ¡å½¢å¾çå¯¹æ¯ææ</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>å¨æ°æ®å¯è§åä¸­ï¼<strong>å ç§¯æ¡å½¢å¾</strong> æé¿å±ç¤º <strong>âæ´ä½ä¸ææâ</strong> çå³ç³»ï¼ä½å½æ¯ä¸ªæ±å­åçåæ®µè¶è¿4ä¸ªæ¶ï¼è¯»èå¾é¾åæ¶è¿½è¸ªåæ®µçé¿åº¦ãä½ç½®ä¸é¢è²æ å°ï¼ <strong>è¯¯è¯»æ¦çæ¾èä¸å</strong>ã</p>
<p>æ´ç³çæ¯ï¼è¥ä¸åç±»å«çæ»éå·®å¼å¾å¤§ï¼å ç§¯ç»æä¼æ¾å¤§è§è§éè§ï¼å¯¼è´âçèµ·æ¥å·®ä¸å¤âçç»è®ºå¤±çã</p>
<p>ä»å¤©ï¼æ¬æå°å°è¯æ¢ç´¢ä¸ä¸æ¹è¿å ç§¯æ¡å½¢å¾çåç°æ¹å¼ï¼è®©å¤ææ°æ®å¯¹æ¯åå¾ä¸ç®äºç¶ã</p>
<p>å¦æå¤§å®¶ææ´å¥½çæ¹å¼ï¼ä¹æ¬¢è¿ææï¼äº¤æµã<strong>å®æ´çä»£ç </strong>ä¼å¨ææ«æä¾å±äº«çå°åã</p>
<h1 id="1-å ç§¯æ¡å½¢å¾çå°å¢">1. å ç§¯æ¡å½¢å¾çå°å¢</h1>
<p><strong>å ç§¯æ¡å½¢å¾</strong>å°±åä¸éç²¾å¿æççå¤å±èç³ï¼å½å±æ°ä¸å¤æ¶ï¼æä»¬è½è½»æ¾åè¾¨æ¯å±çé«åº¦å·®å¼ã</p>
<p>ä½å½èç³å±æ°è¶è¿4å±ï¼è¦æ¯è¾æä¸ç¹å®å£å³å¨å¤ä¸ªèç³ä¸­çå«éå°±åå¾å¼å¸¸å°é¾ã</p>
<p>ä¸é¢æä»¬ç¨<code>Python</code>æ¨¡æä¸ä¸ªå¸¸è§çå ç§¯æ¡å½¢å¾åºæ¯ï¼è°æ¥æäº§å5ä¸ªåè½æ¨¡åçç¨æ·æ»¡æåº¦ï¼5ä¸ªç»´åº¦ï¼ï¼å±æ¶éäº4ä¸ªå­£åº¦çæ°æ®ã</p>
<pre><code class="language-python"># æ¨¡ææ°æ®ï¼4ä¸ªå­£åº¦ï¼5ä¸ªæ»¡æåº¦ç»´åº¦ï¼å¼ºçåå¯¹ãåå¯¹ãä¸­ç«ãåæãåå³åæï¼
quarters = ["ç¬¬ä¸å­£åº¦", "ç¬¬äºå­£åº¦", "ç¬¬ä¸å­£åº¦", "ç¬¬åå­£åº¦"]
categories = ["å¼ºçåå¯¹", "åå¯¹", "ä¸­ç«", "åæ", "åå³åæ"]
colors = ["#FF6B6B", "#FF9F6B", "#D6CBCB", "#6BCF7F", "#4D96FF"]

# æ¯ä¸ªå­£åº¦çæ»¡æåº¦åå¸ï¼ç¾åæ¯ï¼
data = np.array(
    [
        [5, 10, 25, 40, 20],  # ç¬¬ä¸å­£åº¦
        [3, 8, 20, 45, 24],  # ç¬¬äºå­£åº¦
        [4, 12, 18, 43, 23],  # ç¬¬ä¸å­£åº¦
        [2, 6, 15, 50, 27],  # ç¬¬åå­£åº¦
    ]
)

# ä¼ ç»æ¨ªåå ç§¯æ¡å½¢å¾
fig, ax = plt.subplots(1, 2, figsize=(14, 4), gridspec_kw={"width_ratios": [1, 1]})

# å·¦å¾ï¼ä¼ ç»æ¨ªåå ç§¯æ¡å½¢å¾
# ... çç¥ ...

# å³å¾ï¼æ¨ªåå å æ¡å½¢å¾çæ¹è¿çï¼æ·»å åéçº¿
# ... çç¥ ...

plt.tight_layout()
plt.show()
</code></pre>

<p><img src="https://img2024.cnblogs.com/blog/83005/202601/83005-20260118152231940-1462391798.png" alt="" loading="lazy"></p>
<p>è¿ä¸ªæ¨ªåå ç§¯æ¡å½¢å¾å±ç¤ºäºæ¯ä¸ªå­£åº¦ç¨æ·æ»¡æåº¦çå®æ´åå¸ï¼éä¾¿å³è¾¹çå¾ç¨å¾®åäºä¸äºæ¹è¿ï¼</p>
<p>ä½å¦ææä»¬æ³åç­ä»¥ä¸é®é¢å°±ä¼éå°å°é¾ï¼</p>
<ul>
<li><strong>"åå³åæ"</strong> çæ¯ä¾å¨åªä¸ªå­£åº¦æé«ï¼</li>
<li><strong>"åå¯¹"</strong> å <strong>"å¼ºçåå¯¹"</strong> çæ¯ä¾å¦ä½éæ¶é´ååï¼</li>
</ul>
<h1 id="2-æè§£éæ--å¤ä¸ªå­å¾">2. æè§£éæ--å¤ä¸ªå­å¾</h1>
<p>ä¸å¶æææé£æçå¨ä¸ééï¼ä¸å¦å°å®ä»¬åçææ¾ã</p>
<p>æä»¬å°<strong>å ç§¯æ¡å½¢å¾</strong>æè§£ä¸º5ä¸ªå°å¾ï¼æ¯ä¸ªå°å¾åªå³æ³¨ä¸ä¸ªæ»¡æåº¦ç»´åº¦çå­£åº¦ååã</p>
<pre><code class="language-python">import matplotlib.gridspec as gridspec

fig = plt.figure(figsize=(12, 6))
gs = gridspec.GridSpec(2, 5, figure=fig, hspace=0.3, wspace=0.4)
# æè§£å ç§¯æ¡å½¢å¾ï¼ä¸ºæ¯ä¸ªç±»å«åå»ºåç¬çæ¨ªåå­å¾
axes = []
for i in range(5):
    axes.append(fig.add_subplot(gs[0, i]))

# ä¸ºæ¯ä¸ªæ»¡æåº¦ç»´åº¦åå»ºä¸ä¸ªæ¨ªåæ¡å½¢å¾
for i, (category, color, ax) in enumerate(zip(categories, colors, axes)):
    # ... çç¥ ...

ax = fig.add_subplot(gs[1, :]) # ç¬¬1è¡ï¼ææå (ç­åäº gs[1, 0:5])
# ... çç¥ ...

plt.show()
</code></pre>

<p><img src="https://img2024.cnblogs.com/blog/83005/202601/83005-20260118152232008-1859050466.png" alt="" loading="lazy"></p>
<p>æè§£åçå¾è¡¨ç¡®å®æåäºåä¸ç»´åº¦çå¯¹æ¯ææï¼ä½ä»æä¸ä¸ªææ¾é®é¢ï¼æä»¬çè§çº¿éè¦å¨å¤ä¸ªå¾è¡¨é´æ¥åè·³è·ï¼æ æ³å½¢æç»ä¸çè§è§å°è±¡ã</p>
<p>è¿å°±åéè¯»ä¸æ¬åæ£å¨å¤ä¸ªé¡µé¢çè¡¨æ ¼ï¼éè¦ä¸æ­ç¿»é¡µå¯¹ç§ã</p>
<h1 id="3-ååå¯¹æ¯--è´è¶å¾">3. ååå¯¹æ¯--è´è¶å¾</h1>
<p><strong>è´è¶å¾</strong>ï¼ä¹ç§°ä¸ºäººå£éå­å¡å¾æååæ¡å½¢å¾ï¼æ¯æ°æ®å¯è§åç"çå£«åå"ï¼ç¹å«éåå±ç¤ºå¯¹ç«æååæ¯è¾çæ°æ®ã</p>
<p>å®çè®¾è®¡å²å­¦æ¯ï¼è®©å¯¹æ¯å¨ä¸­å¿è½´ä¸¤ä¾§èªç¶å±å¼ï¼å°±åè´è¶å±å¼åç¿ã</p>
<pre><code class="language-python"># 4. åå»ºç»å¸
fig, ax = plt.subplots(2, 1,figsize=(10, 6))
y_pos = np.arange(len(quarters))
# æåæ°æ®å
strongly_disagree = data[:, 0]
disagree          = data[:, 1]
neutral           = data[:, 2]
agree             = data[:, 3]
strongly_agree    = data[:, 4]

# ==========================================
# æ ¸å¿é»è¾ä¿®æ¹ï¼ä»¥ä¸­ç«(Neutral)çä¸­å¿ä¸º0ç¹
# ==========================================
# 1. ç»å¶ä¸­ç« (ç°è²)ï¼è·¨è¶ 0 è½´
# left ä» -width/2 å¼å§ï¼è¿æ · 0 å°±å¨æ­£ä¸­é´

# 2. ç»å¶å·¦ä¾§ (è´é¢æç»ª)ï¼åå·¦å å 
# åå¯¹ (Green)ï¼èµ·å§ä½ç½®å¨ -neutral/2 çå·¦è¾¹

# å¼ºçåå¯¹ (Purple)ï¼èµ·å§ä½ç½®å¨ åå¯¹ çå·¦è¾¹

# 3. ç»å¶å³ä¾§ (æ­£é¢æç»ª)ï¼åå³å å 
# åæ (Orange)ï¼èµ·å§ä½ç½®å¨ neutral/2

# å¼ºçåæ (Red)ï¼èµ·å§ä½ç½®å¨ åæ çå³è¾¹

# 5. ç¾åå¾è¡¨
# æ·»å ä¸­é´çåºåçº¿ (ç©¿è¿ä¸­ç«æ¡å½¢)
# ... çç¥ ...
plt.show()
</code></pre>

<p><img src="https://img2024.cnblogs.com/blog/83005/202601/83005-20260118152232037-237677572.png" alt="" loading="lazy"></p>
<p><strong>è´è¶å¾</strong>åä¸è¬çå ç§¯æ¡å½¢å¾æ¾å¨ä¸èµ·ï¼å¯ä»¥ææ¾çåºä¸¤èå¨æ°æ®å±ç¤ºé»è¾åè§è§éå¿ä¸ææ¾èåºå«ã</p>
<p><strong>è´è¶å¾</strong>ä¾§éäºå±ç¤º <strong>âå¯¹ç«æåº¦çå¯¹æ¯â</strong>ï¼éåçæ­£åä¸¤é¢çåéæ¬æ®ä»¥åæ´ä½çæç»ªå¾åï¼èä¸ä¹ä¾¿äºæ¯è¾åä¾§çæ°æ®ã</p>
<h1 id="4-æ»ç»">4. æ»ç»</h1>
<p>æ»ä¹ï¼<strong>å ç§¯æ¡å½¢å¾</strong>åä¸éå¤§æç©ï¼å½é£æï¼æ°æ®ç»´åº¦ï¼è¿å¤æ¶ï¼æä»¬å¾é¾åå°ï¼åæï¼å°æ¯ç§é£æçåå³ã</p>
<p>éè¿æè§£åéæï¼æä»¬è·å¾äºæ´æ¸æ°çè§è§ãèè´è¶å¾ååä¸ä½ä¼éçèèï¼å°å¯¹æ¯æ°æ®ä»¥å¯¹ç§°çæ¹å¼å±å¼ï¼æ¢ä¿çäºæ´ä½è§éï¼åå¼ºåäºå±é¨å¯¹æ¯ã</p>
<p>ä¼ç§çæ°æ®å¯è§åä¸å¨äºå±ç¤ºææä¿¡æ¯ï¼èå¨äºä»¥æå°çè®¤ç¥ææ¬ä¼ è¾¾æå¤çæ´å¯ã</p>
<p>ä¸æ¬¡å½æä»¬é¢å¯¹å¤ç»´æ°æ®å¯¹æ¯çæææ¶ï¼ä¸å¦¨è¯è¯æ¨ªåè´è¶å¾è¿æ"çå£«åå"ï¼å®å¯è½ä¼ç»ä½ å¸¦æ¥ææ³ä¸å°çæ¸æ°ä¸ç¾æã</p>
<p>ç»å¶æä¸­å¾åçå®æ´ä»£ç å±äº«å¨ï¼<a href="https://url11.ctfile.com/f/45455611-8606783265-a93d12?p=6872" target="_blank" rel="noopener nofollow">ä¼åå ç§¯æ¡å½¢å¾.ipynb</a> (è®¿é®å¯ç : 6872)</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-18 15:26">2026-01-18 15:25</span>&nbsp;
<a href="https://www.cnblogs.com/wang_yb">wang_yb</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19498573);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19498573', targetLink: 'https://www.cnblogs.com/wang_yb/p/19498573', title: 'æç ´å ç§¯å°å±ï¼ä¼åå ç§¯æ¡å½¢å¾çå¯¹æ¯ææ' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ éé¢è®¡ç®å­æ®µç±»åç¨Longï¼è¿æ¯BigDecimalæ´å¥½ï¼ ]]></title>
    <link>https://www.cnblogs.com/12lisu/p/19498493</link>
    <guid>b290f70e21f8ab1726b6f2c92645ffbc</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/12lisu/p/19498493" title="åå¸äº 2026-01-18 14:33">
    <span role="heading" aria-level="2">éé¢è®¡ç®å­æ®µç±»åç¨Longï¼è¿æ¯BigDecimalæ´å¥½ï¼</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="åè¨">åè¨</h2>
<p>å¯¹äºä»äºåç«¯å¼åçå°ä¼ä¼´æ¥è¯´ï¼å¯è½ä¼éå°éé¢è®¡ç®å­æ®µçç±»åï¼å°åºè¯¥ç¨Longï¼è¿æ¯BigDecimalçå°æ°ã</p>
<p>çè³æäºå¬å¸çæ¶æå¸è·DBAï¼ææ¶ä¹ä¼ä¸ºäºéé¢è®¡ç®å­æ®µçç±»åèPKã</p>
<p>ä»å¤©è¿ç¯æç« ä¸é¨è·å¤§å®¶ä¸èµ·èèè¿ä¸ªè¯é¢ï¼å¸æå¯¹ä½ ä¼ææå¸®å©ã</p>
<h2 id="ä¸æ¡åç°åº">ä¸ãæ¡åç°åº</h2>
<p>æäºå°ä¼ä¼´å¨å·¥ä½ä¸­å¯è½éå°è¿è¿æ ·çåºæ¯ï¼æ°æ¥çå¼åå°æè´è´£å¬å¸çµåå¹³å°çä¼æ å¸è®¡ç®åè½ã</p>
<p>æç§äº§åéæ±ï¼æ»¡100å20çä¼æ å¸ï¼ç¨æ·ä¸åéé¢æ¯98.5åæ¶ï¼åºè¯¥æ æ³ä½¿ç¨è¿å¼ ä¼æ å¸ã</p>
<p>å°æå¿æ³ï¼è¿å¤ªç®åäºï¼</p>
<p>ä¸å°5åéå°±åå®äºä»£ç ï¼</p>
<pre><code class="language-java">public class CouponService {
    public boolean canUseCoupon(double orderAmount, double couponThreshold) {
        return orderAmount &gt;= couponThreshold;
    }
    
    public static void main(String[] args) {
        CouponService service = new CouponService();
        double orderAmount = 98.5;
        double couponThreshold = 100.0;
        
        boolean canUse = service.canUseCoupon(orderAmount, couponThreshold);
        System.out.println("è®¢åéé¢" + orderAmount + "åï¼è½å¦ä½¿ç¨" + 
                         couponThreshold + "åé¨æ§ä¼æ å¸ï¼" + canUse);
        // è¾åºï¼è®¢åéé¢98.5åï¼è½å¦ä½¿ç¨100.0åé¨æ§ä¼æ å¸ï¼true
    }
}
</code></pre>
<p>ç»æä¸çº¿ç¬¬ä¸å¤©ï¼è´¢å¡å°±ç¸éäºï¼å¤§éæ¬ä¸è¯¥äº«åä¼æ çè®¢åé½è¢«ç³»ç»éè¿äºï¼ä¸å¤©ä¸æ¥å¬å¸æå¤±äº3ä¸å¤åï¼</p>
<p>å°æç¾æä¸å¾å¶è§£ï¼98.5ææå°äº100ï¼ä¸ºä»ä¹æ¡ä»¶å¤æ­ä¼åºéå¢ï¼</p>
<h2 id="äºæµ®ç¹æ°çé·é±è®¡ç®æºçå°ç§å¯">äºãæµ®ç¹æ°çé·é±ï¼è®¡ç®æºçå°ç§å¯</h2>
<p>è¦çè§£è¿ä¸ªé®é¢ï¼æä»¬éè¦ç¥éè®¡ç®æºæ¯å¦ä½å­å¨å°æ°çã</p>
<h3 id="21-äºè¿å¶ä¸ççå±é">2.1 äºè¿å¶ä¸ççå±é</h3>
<pre><code class="language-java">public class FloatProblemDemo {
    public static void main(String[] args) {
        // çä¼¼ç®åçè®¡ç®ï¼å´æé®é¢
        double a = 0.1;
        double b = 0.2;
        double c = a + b;
        
        System.out.println("0.1 + 0.2 = " + c);
        System.out.println("0.1 + 0.2 == 0.3 ? " + (c == 0.3));
        
        // è®©æä»¬ççå®éå­å¨çå¼
        System.out.println("0.1çå®éå¼: " + new BigDecimal(a));
        System.out.println("0.2çå®éå¼: " + new BigDecimal(b));
        System.out.println("0.1+0.2çå®éå¼: " + new BigDecimal(c));
    }
}
</code></pre>
<p>è¿è¡ç»æä¼è®©ä½ éæï¼</p>
<pre><code>0.1 + 0.2 = 0.30000000000000004
0.1 + 0.2 == 0.3 ? false
0.1çå®éå¼: 0.1000000000000000055511151231257827021181583404541015625
0.2çå®éå¼: 0.200000000000000011102230246251565404236316680908203125
0.1+0.2çå®éå¼: 0.3000000000000000444089209850062616169452667236328125
</code></pre>
<h3 id="22-ä¸ºä»ä¹ä¼åºç°ç²¾åº¦é®é¢">2.2 ä¸ºä»ä¹ä¼åºç°ç²¾åº¦é®é¢ï¼</h3>
<p>ç¨ä¸å¼ å¾æ¥çè§£æµ®ç¹æ°çå­å¨åçï¼<br>
<img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2238006/202601/2238006-20260118143104201-697049782.png" class="lazyload"></p>
<p>å¦ä½åºç°çé®é¢ï¼<br>
<img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2238006/202601/2238006-20260118143118745-1632970218.png" class="lazyload"></p>
<p>è¿å°±å¥½æ¯ç¨1/3 â 0.333333æ¥è¡¨ç¤ºä¸åä¹ä¸ï¼æ°¸è¿æ æ³ç²¾ç¡®ã</p>
<p>è®¡ç®æºçäºè¿å¶ç³»ç»ä¹æ æ³ç²¾ç¡®è¡¨ç¤ºæäºåè¿å¶å°æ°ã</p>
<h2 id="ä¸ä¸¤ç§è§£å³æ¹æ¡çæ·±åº¦pk">ä¸ãä¸¤ç§è§£å³æ¹æ¡çæ·±åº¦PK</h2>
<p>é¢å¯¹éé¢è®¡ç®çç²¾åº¦é®é¢ï¼Javaå¼åèä¸»è¦æä¸¤ç§éæ©ã</p>
<p>è®©æä»¬æ·±å¥åææ¯ç§æ¹æ¡çå®ç°ååçã</p>
<h3 id="31-æ¹æ¡ä¸è´§å¸ä½¿ç¨long">3.1 æ¹æ¡ä¸ï¼è´§å¸ä½¿ç¨Long</h3>
<p>è¿ç§æ¹æ³çæ ¸å¿ææ³ï¼<strong>ç¨åæ¥è®¡ç®ï¼ä¸ç¨å</strong>ã</p>
<pre><code class="language-java">public class MoneyWithLong {
    // ææéé¢é½ä»¥åä¸ºåä½å­å¨
    private Long amountInCents;
    
    public MoneyWithLong(Long amountInCents) {
        this.amountInCents = amountInCents;
    }
    
    // å æ³
    public MoneyWithLong add(MoneyWithLong other) {
        return new MoneyWithLong(this.amountInCents + other.amountInCents);
    }
    
    // åæ³
    public MoneyWithLong subtract(MoneyWithLong other) {
        return new MoneyWithLong(this.amountInCents - other.amountInCents);
    }
    
    // ä¹æ³ï¼å¤çææ£ç­åºæ¯ï¼
    public MoneyWithLong multiply(double multiplier) {
        // åå°doubleè½¬ä¸ºæ´æ°åè®¡ç®
        BigDecimal bd = BigDecimal.valueOf(multiplier)
            .multiply(BigDecimal.valueOf(this.amountInCents));
        return new MoneyWithLong(bd.longValue());
    }
    
    // æ ¼å¼åæ¾ç¤º
    public String display() {
        double yuan = amountInCents / 100.0;
        return String.format("%.2få", yuan);
    }
    
    // å°æé®é¢çæ­£ç¡®è§£æ³
    public static boolean canUseCoupon(Long orderAmountInCents, Long thresholdInCents) {
        return orderAmountInCents &gt;= thresholdInCents;
    }
}
</code></pre>
<p><strong>å®æåºæ¯</strong>ï¼</p>
<pre><code class="language-java">public class LongSolutionDemo {
    public static void main(String[] args) {
        // è§£å³å°æçé®é¢
        Long orderAmount = 9850L;  // 98.50å
        Long threshold = 10000L;   // 100.00å
        
        boolean canUse = orderAmount &gt;= threshold;
        System.out.println("è®¢å98.5åè½å¦ä½¿ç¨100åé¨æ§å¸: " + canUse);
        // æ­£ç¡®è¾åºï¼false
        
        // å¤æè®¡ç®ç¤ºä¾
        MoneyWithLong price1 = new MoneyWithLong(1999L);  // 19.99å
        MoneyWithLong price2 = new MoneyWithLong(2999L);  // 29.99å
        
        MoneyWithLong total = price1.add(price2);
        System.out.println("æ»ä»·: " + total.display());  // 49.98å
        
        // ææ£è®¡ç®
        MoneyWithLong discounted = total.multiply(0.8);  // 8æ
        System.out.println("8æå: " + discounted.display());  // 39.98å
    }
}
</code></pre>
<h3 id="32-æ¹æ¡äºbigdecimalç²¾ç¡®è®¡ç®">3.2 æ¹æ¡äºï¼BigDecimalç²¾ç¡®è®¡ç®</h3>
<p>BigDecimalæ¯Javaæä¾çä¸é¨ç¨äºç²¾ç¡®è®¡ç®çç±»ã</p>
<pre><code class="language-java">public class MoneyWithBigDecimal {
    private BigDecimal amount;
    private static final int SCALE = 2;  // ä¿ç2ä½å°æ°
    private static final RoundingMode ROUNDING_MODE = RoundingMode.HALF_UP;
    
    public MoneyWithBigDecimal(String amount) {
        this.amount = new BigDecimal(amount).setScale(SCALE, ROUNDING_MODE);
    }
    
    public MoneyWithBigDecimal(BigDecimal amount) {
        this.amount = amount.setScale(SCALE, ROUNDING_MODE);
    }
    
    // ååè¿ç®
    public MoneyWithBigDecimal add(MoneyWithBigDecimal other) {
        return new MoneyWithBigDecimal(this.amount.add(other.amount));
    }
    
    public MoneyWithBigDecimal subtract(MoneyWithBigDecimal other) {
        return new MoneyWithBigDecimal(this.amount.subtract(other.amount));
    }
    
    public MoneyWithBigDecimal multiply(BigDecimal multiplier) {
        return new MoneyWithBigDecimal(
            this.amount.multiply(multiplier).setScale(SCALE, ROUNDING_MODE)
        );
    }
    
    public MoneyWithBigDecimal divide(BigDecimal divisor) {
        return new MoneyWithBigDecimal(
            this.amount.divide(divisor, SCALE, ROUNDING_MODE)
        );
    }
    
    // æ¯è¾
    public int compareTo(MoneyWithBigDecimal other) {
        return this.amount.compareTo(other.amount);
    }
}
</code></pre>
<p><strong>BigDecimalçé·é±ä¸æ­£ç¡®ç¨æ³</strong>ï¼</p>
<pre><code class="language-java">public class BigDecimalCorrectUsage {
    public static void main(String[] args) {
        // éè¯¯ç¨æ³ï¼ä½¿ç¨doubleæé 
        BigDecimal bad1 = new BigDecimal(0.1);
        System.out.println("éè¯¯æé : " + bad1);
        // è¾åºï¼0.1000000000000000055511151231257827021181583404541015625
        
        // æ­£ç¡®ç¨æ³1ï¼ä½¿ç¨Stringæé 
        BigDecimal good1 = new BigDecimal("0.1");
        System.out.println("Stringæé : " + good1);
        // è¾åºï¼0.1
        
        //æ­£ç¡®ç¨æ³2ï¼ä½¿ç¨valueOfæ¹æ³
        BigDecimal good2 = BigDecimal.valueOf(0.1);
        System.out.println("valueOfæé : " + good2);
        // è¾åºï¼0.1
        
        // é¤æ³çå
        BigDecimal a = new BigDecimal("10");
        BigDecimal b = new BigDecimal("3");
        
        try {
            // ä¸æå®ç²¾åº¦ä¼æå¼å¸¸
            BigDecimal result = a.divide(b);
        } catch (ArithmeticException e) {
            System.out.println("å¿é¡»æå®ç²¾åº¦: " + e.getMessage());
        }
        
        // æ­£ç¡®åæ³
        BigDecimal correctResult = a.divide(b, 2, RoundingMode.HALF_UP);
        System.out.println("10 Ã· 3 = " + correctResult);  // 3.33
    }
}
</code></pre>
<h2 id="åæ§è½ä¸å­å¨çæ·±åº¦å¯¹æ¯">åãæ§è½ä¸å­å¨çæ·±åº¦å¯¹æ¯</h2>
<p>æäºå°ä¼ä¼´å¨å·¥ä½ä¸­å¯è½ä¼é®ï¼ä¸¤ç§æ¹æ¡æ§è½å·®å«å¤§åï¼å¯¹æ°æ®åºæä»ä¹å½±åï¼</p>
<h3 id="41-æ§è½åºåæµè¯">4.1 æ§è½åºåæµè¯</h3>
<pre><code class="language-java">public class PerformanceBenchmark {
    private static final int ITERATIONS = 10_000_000;
    
    public static void main(String[] args) {
        // Longæ¹æ¡æ§è½
        long longStart = System.currentTimeMillis();
        long totalCents = 0L;
        for (int i = 0; i &lt; ITERATIONS; i++) {
            totalCents += 100L;  // 1å
            totalCents -= 50L;   // 0.5å
            totalCents *= 2;
            totalCents /= 2;
        }
        long longEnd = System.currentTimeMillis();
        System.out.println("Longæ¹æ¡èæ¶: " + (longEnd - longStart) + "ms");
        
        // BigDecimalæ¹æ¡æ§è½
        long bdStart = System.currentTimeMillis();
        BigDecimal total = BigDecimal.ZERO;
        for (int i = 0; i &lt; ITERATIONS; i++) {
            total = total.add(new BigDecimal("1.00"));
            total = total.subtract(new BigDecimal("0.50"));
            total = total.multiply(new BigDecimal("2"));
            total = total.divide(new BigDecimal("2"), 2, RoundingMode.HALF_UP);
        }
        long bdEnd = System.currentTimeMillis();
        System.out.println("BigDecimalæ¹æ¡èæ¶: " + (bdEnd - bdStart) + "ms");
        
        System.out.println("æ§è½å·®å¼åæ°: " + 
            (bdEnd - bdStart) * 1.0 / (longEnd - longStart));
    }
}
</code></pre>
<p>å¸åæµè¯ç»æï¼</p>
<pre><code>Longæ¹æ¡èæ¶: 25ms
BigDecimalæ¹æ¡èæ¶: 1250ms
æ§è½å·®å¼åæ°: 50.0
</code></pre>
<p>æ§è½å·®è·å¯è¾¾æ°ååï¼è¿æ¯ä¸ºä»ä¹å¢ï¼</p>
<h3 id="42-å­å¨ç»æä¸åçåæ">4.2 å­å¨ç»æä¸åçåæ</h3>
<p>ä¸é¢ç¨å å¼ å¾å¯¹æ¯ä¸¤ç§æ¹æ¡çå­å¨ï¼</p>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2238006/202601/2238006-20260118143137700-580850354.png" class="lazyload"></p>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2238006/202601/2238006-20260118143148332-1279478851.png" class="lazyload"></p>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2238006/202601/2238006-20260118143158448-1943407563.png" class="lazyload"></p>
<h3 id="43-æ°æ®åºå±é¢çèè">4.3 æ°æ®åºå±é¢çèè</h3>
<pre><code class="language-sql">-- Longæ¹æ¡å¯¹åºçè¡¨ç»æ
CREATE TABLE orders_long (
    id BIGINT PRIMARY KEY,
    amount_cents BIGINT NOT NULL,  -- ä»¥åä¸ºåä½
    INDEX idx_amount (amount_cents)  -- ç´¢å¼æçé«
);

-- BigDecimalæ¹æ¡å¯¹åºçè¡¨ç»æ
CREATE TABLE orders_bd (
    id BIGINT PRIMARY KEY,
    amount DECIMAL(20, 2) NOT NULL,  -- æ»å±20ä½ï¼2ä½å°æ°
    INDEX idx_amount (amount)  -- ç´¢å¼ç¸å¯¹è¾å¤§
);
</code></pre>
<p><strong>æ°æ®åºå±é¢çå·®å¼</strong>ï¼</p>
<ol>
<li><strong>å­å¨ç©ºé´</strong>ï¼BIGINTåºå®8å­èï¼DECIMALæ¯åé¿ç</li>
<li><strong>ç´¢å¼æç</strong>ï¼BIGINTæ¯è¾æ´å¿«</li>
<li><strong>è·¨æ°æ®åºå¼å®¹æ§</strong>ï¼BIGINTå ä¹æææ°æ®åºé½æ¯æä¸è¡ä¸ºä¸è´</li>
<li><strong>è®¡ç®ä½ç½®</strong>ï¼DECIMALå¯ä»¥å¨æ°æ®åºå±è®¡ç®ï¼ä½ä¸å¡é»è¾éå¸¸åºå¨åºç¨å±</li>
</ol>
<h2 id="äºçå®ä¸å¡åºæ¯æ·±åº¦åæ">äºãçå®ä¸å¡åºæ¯æ·±åº¦åæ</h2>
<p><strong>æ²¡æé¶å¼¹ï¼åªæéååºæ¯çæ¹æ¡</strong>ã</p>
<h3 id="51-åºæ¯ä¸éèäº¤æç³»ç»æ¨èlong">5.1 åºæ¯ä¸ï¼éèäº¤æç³»ç»ï¼æ¨èLongï¼</h3>
<pre><code class="language-java">// é¶è¡æ ¸å¿ç³»ç»ç¤ºä¾
public class BankTransactionSystem {
    // è´¦æ·ä½é¢ï¼åä½ï¼åï¼
    private AtomicLong balanceInCents = new AtomicLong();
    
    // å­æ¬¾ï¼çº¿ç¨å®å¨ï¼
    public boolean deposit(long cents) {
        if (cents &lt;= 0) return false;
        balanceInCents.addAndGet(cents);
        return true;
    }
    
    // åæ¬¾ï¼é²æ­¢è¶åï¼
    public boolean withdraw(long cents) {
        while (true) {
            long current = balanceInCents.get();
            if (current &lt; cents) return false;
            if (balanceInCents.compareAndSet(current, current - cents)) {
                return true;
            }
            // CASå¤±è´¥ï¼éè¯
        }
    }
    
    // è·¨è¡è½¬è´¦ï¼ä¸¤é¶æ®µæäº¤ï¼
    public boolean transfer(BankTransactionSystem target, long cents) {
        if (!this.withdraw(cents)) {
            return false;
        }
        
        try {
            if (!target.deposit(cents)) {
                // å­æ¬¾å¤±è´¥ï¼åæ»
                this.deposit(cents);
                return false;
            }
            return true;
        } catch (Exception e) {
            this.deposit(cents);  // å¼å¸¸åæ»
            throw e;
        }
    }
}
</code></pre>
<p><strong>ä¸ºä»ä¹éèç³»ç»åç±Long</strong>ï¼</p>
<ol>
<li><strong>åå­æ§æä½</strong>ï¼Javaå¯¹longçåå­æä½æ¯æå®åï¼AtomicLongï¼</li>
<li><strong>é«æ§è½</strong>ï¼æ¯ç§æ°ä¸ç¬äº¤æå¿é¡»èèæ§è½</li>
<li><strong>ç²¾ç¡®æ è¯¯å·®</strong>ï¼åæ¯æå°åä½ï¼æ²¡æèå¥é®é¢</li>
<li><strong>å®¡è®¡æ¹ä¾¿</strong>ï¼æææä½é½æ¯æ´æ°ï¼ä¾¿äºå¯¹è´¦</li>
</ol>
<h3 id="52-åºæ¯äºçµåä¼æ è®¡ç®bigdecimalæ´çµæ´»">5.2 åºæ¯äºï¼çµåä¼æ è®¡ç®ï¼BigDecimalæ´çµæ´»ï¼</h3>
<pre><code class="language-java">public class EcommercePriceEngine {
    private BigDecimal price;
    
    // å¤æä¼æ è®¡ç®
    public BigDecimal calculateFinalPrice(
        BigDecimal originalPrice,
        BigDecimal discountRate,      // ææ£ç
        BigDecimal fullReduction,     // æ»¡å
        BigDecimal coupon,            // ä¼æ å¸
        boolean isVIP                 // VIPææ£
    ) {
        BigDecimal result = originalPrice;
        
        // ææ£
        if (discountRate != null) {
            result = result.multiply(discountRate)
                          .setScale(2, RoundingMode.HALF_UP);
        }
        
        // æ»¡å
        if (fullReduction != null &amp;&amp; 
            result.compareTo(new BigDecimal("100")) &gt;= 0) {
            result = result.subtract(fullReduction);
        }
        
        // ä¼æ å¸
        if (coupon != null) {
            result = result.subtract(coupon).max(BigDecimal.ZERO);
        }
        
        // VIPé¢å¤95æ
        if (isVIP) {
            result = result.multiply(new BigDecimal("0.95"))
                          .setScale(2, RoundingMode.HALF_UP);
        }
        
        return result;
    }
    
    // åæè®¡ç®ï¼å¦è®¢åå¤ä¸ªåååæä¼æ ï¼
    public Map&lt;String, BigDecimal&gt; allocateDiscount(
        Map&lt;String, BigDecimal&gt; itemPrices,
        BigDecimal totalDiscount
    ) {
        BigDecimal totalPrice = itemPrices.values().stream()
            .reduce(BigDecimal.ZERO, BigDecimal::add);
        
        Map&lt;String, BigDecimal&gt; result = new HashMap&lt;&gt;();
        BigDecimal allocated = BigDecimal.ZERO;
        
        List&lt;String&gt; keys = new ArrayList&lt;&gt;(itemPrices.keySet());
        for (int i = 0; i &lt; keys.size(); i++) {
            String key = keys.get(i);
            BigDecimal price = itemPrices.get(key);
            
            // ææ¯ä¾åæ
            BigDecimal ratio = price.divide(totalPrice, 10, RoundingMode.HALF_UP);
            BigDecimal itemDiscount = totalDiscount.multiply(ratio)
                .setScale(2, RoundingMode.HALF_UP);
            
            // æåä¸ä¸ªååæ¿æå©ä½éé¢
            if (i == keys.size() - 1) {
                itemDiscount = totalDiscount.subtract(allocated);
            }
            
            result.put(key, price.subtract(itemDiscount));
            allocated = allocated.add(itemDiscount);
        }
        
        return result;
    }
}
</code></pre>
<h3 id="53-æ··åæ¹æ¡é±¼ä¸çæå¼å¾">5.3 æ··åæ¹æ¡ï¼é±¼ä¸çæå¼å¾</h3>
<p>æäºå¤æçç³»ç»ä¼éç¨æ··åæ¹æ¡ï¼</p>
<pre><code class="language-java">public class HybridMoneySystem {
    // æ ¸å¿è´¦æ·ç³»ç»ç¨Long
    private static class AccountCore {
        private long balanceCents;  // ååä½
        
        public void transfer(AccountCore to, long cents) {
            // é«æ§è½çæ´æ°è¿ç®
            this.balanceCents -= cents;
            to.balanceCents += cents;
        }
    }
    
    // è¥éè®¡ç®ç¨BigDecimal
    private static class MarketingCalculator {
        public BigDecimal calculateCampaignEffect(
            BigDecimal budget,
            BigDecimal conversionRate,
            BigDecimal avgOrderValue
        ) {
            // å¤æçæµ®ç¹è®¡ç®
            BigDecimal estimatedOrders = budget.multiply(conversionRate)
                .divide(avgOrderValue, 4, RoundingMode.HALF_UP);
            return estimatedOrders.setScale(0, RoundingMode.HALF_UP);
        }
    }
    
    // è½¬æ¢å±
    public static long yuanToCents(BigDecimal yuan) {
        return yuan.multiply(new BigDecimal("100"))
                  .setScale(0, RoundingMode.HALF_UP)
                  .longValue();
    }
    
    public static BigDecimal centsToYuan(long cents) {
        return new BigDecimal(cents)
                  .divide(new BigDecimal("100"), 2, RoundingMode.UNNECESSARY);
    }
}
</code></pre>
<h2 id="å­é¿åæå">å­ãé¿åæå</h2>
<h3 id="61-å¸¸è§çå">6.1 å¸¸è§çå</h3>
<p><strong>å1ï¼åºååé®é¢</strong></p>
<pre><code class="language-java">public class SerializationBug {
    // ä½¿ç¨é»è®¤åºåå
    private BigDecimal amount;
    
    // æ­£ç¡®åæ³
    private transient BigDecimal amount;  // ä¸èªå¨åºåå
    
    public String getAmountForJson() {
        return amount.toString();  // æç¡®è½¬ä¸ºString
    }
    
    public void setAmountFromJson(String amountStr) {
        this.amount = new BigDecimal(amountStr);  // æç¡®ä»Stringæé 
    }
}
</code></pre>
<p><strong>å2ï¼ç­äºå¤æ­çå</strong></p>
<pre><code class="language-java">public class EqualityBug {
    public static void main(String[] args) {
        BigDecimal a = new BigDecimal("1.0");
        BigDecimal b = new BigDecimal("1.00");
        
        System.out.println("a.equals(b): " + a.equals(b));  // false!
        System.out.println("a.compareTo(b): " + a.compareTo(b));  // 0
        
        // BigDecimalçequalsä¸ä»æ¯è¾å¼ï¼è¿æ¯è¾scale
        System.out.println("a.scale(): " + a.scale());  // 1
        System.out.println("b.scale(): " + b.scale());  // 2
    }
}
</code></pre>
<p><strong>å3ï¼æº¢åºé®é¢</strong></p>
<pre><code class="language-java">public class OverflowBug {
    public static void main(String[] args) {
        // Longçæº¢åº
        long max = Long.MAX_VALUE;
        System.out.println("MAX: " + max);
        System.out.println("MAX + 1: " + (max + 1));  // åæè´æ°ï¼
        
        // BigDecimalæ²¡ææº¢åºï¼ä½å¯è½æ§è½é®é¢
        BigDecimal huge = new BigDecimal(Long.MAX_VALUE);
        System.out.println("BigDecimal MAX * 2: " + 
            huge.multiply(new BigDecimal("2")));  // æ­£ç¡®è®¡ç®
    }
}
</code></pre>
<h3 id="62-ä»£ç è§èå»ºè®®">6.2 ä»£ç è§èå»ºè®®</h3>
<pre><code class="language-java">// éé¢å¤ççå·¥å·ç±»
public final class MoneyUtils {
    private MoneyUtils() {}  // å·¥å·ç±»ç§ææé 
    
    // å¨å±ç»ä¸çç²¾åº¦åèå¥æ¨¡å¼
    public static final int DEFAULT_SCALE = 2;
    public static final RoundingMode DEFAULT_ROUNDING = RoundingMode.HALF_UP;
    
    // å®å¨çåå»ºæ¹æ³
    public static BigDecimal safeCreate(String amount) {
        try {
            return new BigDecimal(amount).setScale(DEFAULT_SCALE, DEFAULT_ROUNDING);
        } catch (NumberFormatException e) {
            throw new IllegalArgumentException("æ æéé¢: " + amount, e);
        }
    }
    
    // è½¬æ¢æ¹æ³
    public static long yuanToCents(BigDecimal yuan) {
        return yuan.multiply(new BigDecimal("100"))
                  .setScale(0, DEFAULT_ROUNDING)
                  .longValueExact();  // ç²¾ç¡®è½¬æ¢ï¼æº¢åºæå¼å¸¸
    }
    
    // éªè¯æ¹æ³
    public static boolean isValidAmount(BigDecimal amount) {
        if (amount == null) return false;
        if (amount.scale() &gt; DEFAULT_SCALE) return false;
        return amount.compareTo(BigDecimal.ZERO) &gt;= 0;
    }
    
    // æ ¼å¼åæ¾ç¤º
    public static String format(BigDecimal amount) {
        return String.format("Â¥%.2f", amount);
    }
    
    public static String format(long cents) {
        return String.format("Â¥%.2f", cents / 100.0);
    }
}
</code></pre>
<h2 id="ä¸æ»ç»">ä¸ãæ»ç»</h2>
<p>æç« æåè·å¤§å®¶æ»ç»ä¸ä¸ã</p>
<h3 id="71-éæ©åå">7.1 éæ©åå</h3>
<p>æç»äºä¸å¼ å¾å¸®ä½ åéæ©ï¼<br>
<img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2238006/202601/2238006-20260118143215766-202619029.png" class="lazyload"></p>
<h3 id="72-ç»æå»ºè®®">7.2 ç»æå»ºè®®</h3>
<ol>
<li>
<p><strong>éèæ ¸å¿ç³»ç»</strong>ï¼ä¼åä½¿ç¨<strong>Longæ¹æ¡</strong></p>
<ul>
<li>æ¯ä»ãæ¸ç®ãè´¦æ·ä½é¢ç­</li>
<li>çç±ï¼æ§è½ãåå­æ§ãä¸è´æ§</li>
</ul>
</li>
<li>
<p><strong>çµåè¥éç³»ç»</strong>ï¼ä¼åä½¿ç¨<strong>BigDecimalæ¹æ¡</strong></p>
<ul>
<li>ä¼æ è®¡ç®ãä»·æ ¼å¼æãä¿éæ´»å¨</li>
<li>çç±ï¼çµæ´»æ§ãè®¡ç®ç²¾åº¦ãä¸å¡ååå¿«</li>
</ul>
</li>
<li>
<p><strong>æ··ååç³»ç»</strong>ï¼éç¨<strong>åå±æ¶æ</strong></p>
<ul>
<li>æ ¸å¿å±ç¨Longä¿è¯æ§è½</li>
<li>è®¡ç®å±ç¨BigDecimalä¿è¯ç²¾åº¦</li>
<li>è¡¨ç°å±åå¥½æ ¼å¼åæ¾ç¤º</li>
</ul>
</li>
</ol>
<h3 id="73-æåçå»ºè®®">7.3 æåçå»ºè®®</h3>
<p><strong>è®°ä½è¿ä¸æ¡éå¾</strong>ï¼</p>
<ol>
<li>éé¢è®¡ç®æ å°äºï¼å¿é¡»ä¸¥æ ¼æµè¯</li>
<li>éæ©éåä¸å¡çææ¯ï¼èä¸æ¯ææ°çææ¯</li>
<li>ä¿æä¸è´æ§ï¼ä¸ä¸ªç³»ç»åä¸è¦æ··ç¨å¤ç§æ¹æ¡</li>
</ol>
<p>ææ¯éåå°±åéå·¥å·ï¼ç¨å¯¹äºäºåååï¼ç¨éäºåæ£æ ç©·ã</p>
<p>å¸æè¿ç¯æç« è½å¸®ä½ å¨éé¢è®¡ç®çè·¯ä¸å°è¸©åï¼èµ°å¾æ´ç¨³æ´è¿ã</p>
<p>æ´å¤é¡¹ç®å®æå¨æçææ¯ç½ç«ï¼<a href="http://www.susan.net.cn/project" target="_blank" rel="noopener nofollow">http://www.susan.net.cn/project</a></p>
<h2 id="æåè¯´ä¸å¥æ±å³æ³¨å«ç½å«æ">æåè¯´ä¸å¥(æ±å³æ³¨ï¼å«ç½å«æ)</h2>
<p>å¦æè¿ç¯æç« å¯¹æ¨ææå¸®å©ï¼æèææå¯åçè¯ï¼å¸®å¿å³æ³¨ä¸ä¸æçååå¬ä¼å·ï¼èä¸è¯´ææ¯ï¼æ¨çæ¯ææ¯æåæåä½æå¤§çå¨åã</p>
<p>æ±ä¸é®ä¸è¿ï¼ç¹èµãè½¬åãå¨çã</p>
<p>å³æ³¨å¬ä¼å·ï¼ãèä¸è¯´ææ¯ãï¼å¨å¬ä¼å·ä¸­åå¤ï¼è¿å¤§åï¼å¯ä»¥åè´¹è·åææè¿æ´çç10ä¸å­çé¢è¯å®å¸ï¼å¥½å¤å°ä¼ä¼´é è¿ä¸ªå®å¸æ¿å°äºå¤å®¶å¤§åçofferã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-18 14:33">2026-01-18 14:33</span>&nbsp;
<a href="https://www.cnblogs.com/12lisu">èä¸è¯´ææ¯</a>&nbsp;
éè¯»(<span id="post_view_count">7</span>)&nbsp;
è¯è®º(<span id="post_comment_count">1</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19498493);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19498493', targetLink: 'https://www.cnblogs.com/12lisu/p/19498493', title: 'éé¢è®¡ç®å­æ®µç±»åç¨Longï¼è¿æ¯BigDecimalæ´å¥½ï¼' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ 2026 å¹´ PHP å½æ°å¼ç¼ç¨ ä¼å¿ä¸å®éåºç¨ ]]></title>
    <link>https://www.cnblogs.com/catchadmin/p/19497758</link>
    <guid>9c451b81438fe78ab496bd83edfd653d</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/catchadmin/p/19497758" title="åå¸äº 2026-01-18 08:26">
    <span role="heading" aria-level="2">2026 å¹´ PHP å½æ°å¼ç¼ç¨ ä¼å¿ä¸å®éåºç¨</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="2026-å¹´-php-å½æ°å¼ç¼ç¨-ä¼å¿ä¸å®éåºç¨">2026 å¹´ PHP å½æ°å¼ç¼ç¨ ä¼å¿ä¸å®éåºç¨</h1>
<p>å½æ°å¼ç¼ç¨ï¼FPï¼å·²ç»å­å¨å åå¹´äºï¼ä½è¿å¹´æ¥å¨å®éå¼åä¸­ç¨å¾è¶æ¥è¶å¤ãè¿ç¯æç« æ´çä¸ä¸ FP çæ ¸å¿æ¦å¿µåå®éåºç¨åºæ¯ã</p>
<h2 id="ä»ä¹æ¯å½æ°å¼ç¼ç¨">ä»ä¹æ¯å½æ°å¼ç¼ç¨</h2>
<p>å¨æ·±å¥ä¼å¿ååºç¨ä¹åï¼åå¿«éåé¡¾ä¸ä¸å½æ°å¼ç¼ç¨æ¯ä»ä¹ã</p>
<p>å½æ°å¼ç¼ç¨çæ ¸å¿æ¯æè®¡ç®å½ä½æ°å­¦å½æ°çæ±å¼ãå®æ¯ä¸ç§å£°æå¼ç¼ç¨é£æ ¼ï¼æè¿°çæ¯"è¦ä»ä¹"ï¼èä¸æ¯"æä¹å"ãå¨ FP ä¸­ï¼å½æ°æ¯ä¸ç­å¬æ°ï¼å¯ä»¥ä½ä¸ºåæ°ä¼ éç»å¶ä»å½æ°ï¼å¯ä»¥ä»å½æ°è¿åï¼ä¹å¯ä»¥èµå¼ç»åéã</p>
<p>FP çä¸ä¸ªæ ¸å¿ååæ¯ä¸å¯åæ§ââä¸æ¦ç»åéèµå¼ï¼å°±ä¸è½åæ¹åãè¿æ¶é¤äºå¯ä½ç¨ï¼è®©ä»£ç æ´å¯é¢æµãæ´å®¹æè°è¯ãå¦ä¸ä¸ªåºæ¬æ¦å¿µæ¯çº¯å½æ°ï¼å¯¹äºç¸åçè¾å¥æ»æ¯äº§çç¸åçè¾åºï¼ä¸ä¼ä¿®æ¹ä»»ä½å¤é¨ç¶æã</p>
<p><a href="https://catchadmin.com/post/2026-01/functional-programming-paradigms-2026" target="_blank" rel="noopener nofollow">åæ 2026 å¹´ PHP å½æ°å¼ç¼ç¨ ä¼å¿ä¸å®éåºç¨</a></p>
<h2 id="ä¸ºä»ä¹å¼åèåºè¯¥å³æ³¨å½æ°å¼ç¼ç¨">ä¸ºä»ä¹å¼åèåºè¯¥å³æ³¨å½æ°å¼ç¼ç¨</h2>
<h3 id="æ´ç®æ´æ´æç»´æ¤çä»£ç ">æ´ç®æ´ãæ´æç»´æ¤çä»£ç </h3>
<p>å½æ°å¼ç¼ç¨é¼å±ç¼åæ¨¡ååãæäºçè§£çä»£ç ãå ä¸ºå½æ°æ¯çº¯çï¼ä¸ä¿®æ¹ç¶æï¼ï¼æå¤è¡ä¸ºçç©ºé´æ´å°ï¼ä»£ç åºæ´å¹²åãè¿è®©è°è¯ãæµè¯ååç»­ä¿®æ¹é½æ´å®¹æã</p>
<p>åè®¾ä½ å¨åä¸ä¸ª PHP é¡¹ç®ãä½¿ç¨å½æ°å¼ææ¯å¯ä»¥åå°å¯ä½ç¨ï¼ç¡®ä¿åºç¨é»è¾è¢«éç¦»ææ´å°çãå¯å¤ç¨çä»£ç çæ®µãè¿ä¹è®©åç»­æ´æ°æéææ´å®¹æï¼å ä¸ºå½æ°å¼ä»£ç çä¾èµéå¸¸æ´å°ã</p>
<h3 id="å¹¶ååå¹¶è¡">å¹¶ååå¹¶è¡</h3>
<p>ç°ä»£è½¯ä»¶çä¸ä¸ªæææ¯å¤çå¹¶ååå¹¶è¡ãéçå¤æ ¸å¤çå¨ååå¸å¼ç³»ç»çæ®åï¼ç¼åè½é«æå¤çå¤ä»»å¡çä»£ç æ¯ä»¥å¾æ´éè¦ã</p>
<p>å½æ°å¼ç¼ç¨å¨è¿æ¹é¢æææ¾ä¼å¿ï¼å ä¸ºå½æ°é¿åä¿®æ¹å±äº«ç¶æï¼å®ä»¬å¤©çæ¯çº¿ç¨å®å¨çãè¿è®©ç¼åå¹¶ååºç¨æ´å®¹æï¼ä¸ç¨æå¿ç«ææ¡ä»¶ææ­»éã</p>
<p>æ¯å¦ä¸ä¸ªéè¦å¤çå¤§æ°æ®éç PHP åºç¨ãä½¿ç¨ä¸å¯åæ°æ®ç»æåå¹¶è¡å¤çææ¯ï¼å¯ä»¥ç¡®ä¿åºç¨çä¸åé¨åå¹¶åè¿è¡èä¸äºç¸å¹²æ°ã</p>
<h3 id="æ´å¥½çæ½è±¡åå¤ç¨">æ´å¥½çæ½è±¡åå¤ç¨</h3>
<p>å½æ°å¼ç¼ç¨ä¿è¿é«å±æ½è±¡çåå»ºãå½æ°å¯ä»¥è½»æ¾ç»åãä¼ éï¼å¨åºç¨çä¸åé¨åå¤ç¨ã</p>
<p>æ¯å¦å¨ PHP ä¸­ï¼ä¸å¶åéå¤çä»£ç å¤çæäºæä½ï¼ä¸å¦åå°ççº¯å½æ°ï¼ç¶åçµæ´»å°ç»åèµ·æ¥ãè¿åå°äºä»£ç éå¤ï¼æ´å¥½å°éµå¾ª DRYï¼Don't Repeat Yourselfï¼ååã</p>
<h3 id="php-ä¸­çå½æ°å¼å·¥å·">PHP ä¸­çå½æ°å¼å·¥å·</h3>
<p>PHP ä¸æ¯çº¯å½æ°å¼è¯­è¨ï¼ä½åç½®ç <code>array_map()</code>ã<code>array_filter()</code>ã<code>array_reduce()</code> ç­å½æ°æä¾äºåºæ¬çå½æ°å¼æä½è½åãç¬¬ä¸æ¹åºå¦ RamdaãLodash ä¹å¯ä»¥ç¨ã</p>
<h2 id="å½æ°å¼ç¼ç¨çæ ¸å¿åå">å½æ°å¼ç¼ç¨çæ ¸å¿åå</h2>
<p>ä¸é¢æ¢è®¨å½æ°å¼ç¼ç¨çä¸äºæ ¸å¿ååï¼ä»¥åå®ä»¬å¨å®éç¼ç¨ä¸­çåºç¨ã</p>
<h3 id="ä¸å¯åæ§">ä¸å¯åæ§</h3>
<p>å¨å½æ°å¼ç¼ç¨ä¸­ï¼æ°æ®æ¯ä¸å¯åçãä¸æ¦è®¾ç½®äºå¼ï¼å°±ä¸è½æ¹åãè¿ä¸ªæ¦å¿µåå°äºä¸å¯åç¶æååç¸å³ç bugï¼ç®åäºå¯¹ç¨åºè¡ä¸ºççè§£ã</p>
<p>PHP ç¤ºä¾ï¼</p>
<pre><code class="language-php">function addItemToList($list, $item) {
    // åå»ºä¸ä¸ªåå«æ°åç´ çæ°åè¡¨
    return array_merge($list, [$item]);
}

$list = [1, 2, 3];
$newList = addItemToList($list, 4);

print_r($list);     // è¾åº: [1, 2, 3]ï¼ååè¡¨ä¸åï¼
print_r($newList);  // è¾åº: [1, 2, 3, 4]ï¼åå«æ°åç´ çæ°åè¡¨ï¼
</code></pre>
<p>è¿ä¸ªä¾å­ä¸­ï¼åå§ç <code>$list</code> ä¿æä¸åï¼å ä¸º PHP æ°ç»æ¯æå¼ä¼ éçãè¿å±ç¤ºäºä¸å¯åæ§ââåå§æ°æ®ç»æè¢«ä¿çï¼è¿åçæ¯åå«æ°åç´ çæ°ç»æã</p>
<h3 id="çº¯å½æ°">çº¯å½æ°</h3>
<p>çº¯å½æ°å¯¹äºç¸åçè¾å¥æ»æ¯äº§çç¸åçè¾åºï¼ä¸ä¼äº§çä»»ä½å¯ä½ç¨ãè¿è®©çº¯å½æ°å¯é¢æµä¸æäºæµè¯ã</p>
<p>PHP ç¤ºä¾ï¼</p>
<pre><code class="language-php">function square($number) {
    return $number * $number;
}

echo square(4); // è¾åº: 16
</code></pre>
<p><code>square()</code> å½æ°æ¯çº¯çï¼å ä¸ºå¯¹äºç¸åçè¾å¥ï¼4ï¼æ»æ¯äº§çç¸åçè¾åºï¼16ï¼ï¼èä¸ä¸ä¿®æ¹ä»»ä½å¤é¨ç¶æã</p>
<h3 id="é«é¶å½æ°">é«é¶å½æ°</h3>
<p>é«é¶å½æ°æ¯å¯ä»¥æ¥åå¶ä»å½æ°ä½ä¸ºåæ°æè¿åå½æ°çå½æ°ãè¿å®ç°äºå¼ºå¤§çæ½è±¡åä»£ç å¤ç¨ã</p>
<p>PHP ç¤ºä¾ï¼</p>
<pre><code class="language-php">function applyFunction($func, $value) {
    return $func($value);
}

function double($x) {
    return $x * 2;
}

echo applyFunction('double', 5); // è¾åº: 10
</code></pre>
<p>è¿ä¸ªä¾å­ä¸­ï¼<code>applyFunction()</code> æ¯ä¸ä¸ªé«é¶å½æ°ï¼å ä¸ºå®æ¥åå¦ä¸ä¸ªå½æ°ï¼<code>double()</code>ï¼ä½ä¸ºåæ°å¹¶åºç¨å°ä¸ä¸ªå¼ä¸ã</p>
<h3 id="å½æ°ç»å">å½æ°ç»å</h3>
<p>å½æ°ç»åæ¯æç®åå½æ°ç»åææ´å¤æå½æ°çè¿ç¨ãè¿è®©ä½ å¯ä»¥ä»æ´å°çãå¯å¤ç¨çç»ä»¶æå»ºå¤æè¡ä¸ºã</p>
<p>PHP ç¤ºä¾ï¼</p>
<pre><code class="language-php">function add($x, $y) {
    return $x + $y;
}

function multiply($x, $y) {
    return $x * $y;
}

function addThenMultiply($x, $y, $z) {
    return multiply(add($x, $y), $z);
}

echo addThenMultiply(2, 3, 4); // è¾åº: 20ï¼add(2, 3) = 5, multiply(5, 4) = 20ï¼
</code></pre>
<p>è¿éï¼<code>addThenMultiply()</code> å½æ°å±ç¤ºäºå¦ä½ææ´å°çå½æ°ç»åèµ·æ¥åå»ºæ°åè½ãè¿é¼å±ä»£ç å¤ç¨åæ¨¡ååã</p>
<h2 id="å½æ°å¼ç¼ç¨çå®éåºç¨">å½æ°å¼ç¼ç¨çå®éåºç¨</h2>
<p>å½æ°å¼ç¼ç¨ä¸åªæ¯çè®ºæ¦å¿µââå®æ­£å¨å®éåºç¨ä¸­ä½¿ç¨ãä¸é¢ççå½æ°å¼ç¼ç¨å¨ä¸åé¢åçä¸äºå®éä¾å­ã</p>
<h3 id="æ°æ®è½¬æ¢å-etl-æµç¨">æ°æ®è½¬æ¢å ETL æµç¨</h3>
<p>å¨æ°æ®å¯éååºç¨ä¸­ï¼æ¯å¦æ°æ®è½¬æ¢æ ETLï¼Extract, Transform, Loadï¼æµç¨ï¼å½æ°å¼ç¼ç¨è¡¨ç°åºè²ãå®è®©å¼åèå¯ä»¥ä¸å¯åå°æä½å¤§æ°æ®éï¼ä½¿ç¨é«å±æ½è±¡è¿è¡è½¬æ¢ã</p>
<p>PHP ç¤ºä¾ï¼</p>
<pre><code class="language-php">$data = [1, 2, 3, 4, 5];

// ä½¿ç¨å½æ°å¼æ¹æ³å¤çæ°æ®
$result = array_map(fn($x) =&gt; $x * 2, $data);  // æ¯ä¸ªå¼ç¿»å
$result = array_filter($result, fn($x) =&gt; $x &gt; 5); // åªä¿çå¤§äº 5 çå¼

print_r($result);  // è¾åº: [6, 8, 10]
</code></pre>
<p>è¿ä¸ªä¾å­ä¸­ï¼æä»¬ä½¿ç¨ <code>array_map()</code> å <code>array_filter()</code> ä¸å¯åå°è½¬æ¢åè¿æ»¤æ°æ®éï¼è¿æ¯å½æ°å¼ç¼ç¨ä¸­çå¸¸è§æ¨¡å¼ã</p>
<h3 id="åå¸å¼ç³»ç»ä¸­çå¹¶å">åå¸å¼ç³»ç»ä¸­çå¹¶å</h3>
<p>å½æ°å¼ç¼ç¨å¯¹ä¸å¯åæ§åçº¯å½æ°çå¼ºè°ï¼ä½¿å®æä¸ºå¹¶ååå¹¶è¡å¤çä»»å¡ççæ³éæ©ãä½ å¯ä»¥æ¾å¿å°ç¼åå¹¶ååºç¨ï¼ä¸ç¨æå¿ç«ææ¡ä»¶ã</p>
<p>æ¯å¦ï¼å¨ PHP ä¸­æå»ºä¸ä¸ªå¹¶åå¤çç¨æ·è¯·æ±çåå¸å¼ç³»ç»æ¶ï¼å¯ä»¥ç¡®ä¿æ°æ®å®æ´æ§ï¼èä¸ä¼å¼å¥ä¸å¯åå±äº«ç¶æç¸å³ç bugã</p>
<h3 id="æå»º-api-ç«¯ç¹åå¾®æå¡">æå»º API ç«¯ç¹åå¾®æå¡</h3>
<p>æå»ºå¾®æå¡æ API æ¶ï¼å½æ°å¼ç¼ç¨å¯ä»¥å¸®å©åå»ºç®æ´ãæç»´æ¤çç«¯ç¹ãéè¿ç¡®ä¿æ¯ä¸ªå½æ°å¤çç¹å®ä»»å¡ä¸æ¯çº¯çãç¡®å®æ§çï¼å¯ä»¥è®©æ¯ä¸ªå¾®æå¡æ´å®¹ææµè¯åæ©å±ã</p>
<h2 id="å°ç»">å°ç»</h2>
<p>å½æ°å¼ç¼ç¨çæ ¸å¿æ¯ä¸å¯åæ§ãçº¯å½æ°åé«é¶å½æ°ãè¿äºæ¦å¿µå¨å¹¶åå¤çãæ°æ®è½¬æ¢ç­åºæ¯ä¸æ¯è¾å®ç¨ãPHP è½ç¶ä¸æ¯çº¯å½æ°å¼è¯­è¨ï¼ä½åç½®å½æ°åç¬¬ä¸æ¹åºå·²ç»æä¾äºè¶³å¤çæ¯æã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-18 08:27">2026-01-18 08:26</span>&nbsp;
<a href="https://www.cnblogs.com/catchadmin">JaguarJack</a>&nbsp;
éè¯»(<span id="post_view_count">36</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19497758);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19497758', targetLink: 'https://www.cnblogs.com/catchadmin/p/19497758', title: '2026 å¹´ PHP å½æ°å¼ç¼ç¨ ä¼å¿ä¸å®éåºç¨' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ å¤§æ°æ®ææ¯é¢ååå±ä¸Sparkçæ§è½ä¼å ]]></title>
    <link>https://www.cnblogs.com/zzq6032010/p/19497421</link>
    <guid>547cd41f541f5442e157ae6f27b68b70</guid>
    <description>
    <![CDATA[ 
	<h1 class="postTitle"><a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/zzq6032010/p/19497421" title="åå¸äº 2026-01-17 23:59">
    <span role="heading" aria-level="2">å¤§æ°æ®ææ¯é¢ååå±ä¸Sparkçæ§è½ä¼å</span>
    

</a>
</h1>
	<div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p><strong><span style="font-size: 15px">ä¸ãå¤§æ°æ®ææ¯é¢ååå±æ¹å</span></strong></p>
<p>éçAIæ¶ä»£çå°æ¥ï¼å¤§æ°æ®ææ¯é¢åéæ¸éå±äºçº¿ï¼åä¹æ²¡æäºåäºå¹´çéè§ç¨åº¦ãåä¸»è¿æç»åä»ä¸å¤å¹´ç»éªï¼å¯¹å¤§æ°æ®ææ¯é¢åçææ¯æ¼è¿è·¯çº¿åä¸æ¢³çã</p>
<p>å½åå¤§æ°æ®é¢ååå±å·²ç»è¿å¥æ·±æ°´åºï¼éçåç§æçå¤§æ°æ®æ¡æ¶çåºç¨æ®åï¼é¾ç¹å·²ç»ä»å­ä¸ä¸ãç®ä¸åºï¼åä¸ºäºå¦ä½é«è´¨éãé«æè®¡ç®æ°æ®å¹¶å¢å æ°æ®ä¸ä»·å¼çè½¬æ¢çï¼è¿å°±æ¶åå°éå¯¹ä»·å¼åç°åºæ¯çæ°æ®è®¾è®¡åå¨çå½å¨æçç®¡çãè¿é¨åæ ¹æ®å·ä½ä¸å¡åºæ¯çå·®å¼ï¼è®¾è®¡å®ç°åå·®ä¸å«ï¼æ¬æä»¥Spark On Yarnç»å¸å¤§æ°æ®éç¾¤åºæ¯ä¸ºä¾ï¼è®²ä¸è®²å¦ä½é«æè®¡ç®æ°æ®ã</p>
<p>&nbsp;</p>
<p><strong><span style="font-size: 15px">äºãSpark On Yarnæ§è½ä¼åæè·¯</span></strong></p>
<p><strong><span style="font-size: 14px">1ãSparkè°å</span></strong></p>
<p>Sparkå¼æ¾äºä¼å¤è¿ç¨åæ°ï¼æ¥æ§å¶éç¾¤è¿è¡è¿ç¨ä¸­åä¸ªç»´åº¦çè®¾ç½®ãå¸¸ç¨æ¥åæ°è°ä¼çæï¼</p>
<p>spark.default.parallelismï¼å¹¶è¡åº¦</p>
<p>spark.sql.shuffle.partitionsï¼shuffleååºæ°ï¼å¸¸ä¸ºéç¾¤Executoræ ¸å¿æ°ç2-3åï¼</p>
<p>spark.executor.memoryOverheadï¼è°èshuffleè¿ç¨ä¸­åå­æº¢åºéå¼</p>
<p>spark.dynamicAllocation.enabled=trueï¼å¯ç¨å¨æèµæºåéï¼ä»»å¡è´è½½é«æ¶å¯èªè¡å¢å å¯¹èµæºçç³è¯·</p>
<p>spark.sql.adaptive.enabled=trueï¼å¼å¯AQEï¼èªå¨è°èæä¼ååºæ°ï¼è¿å¯æ¹åæ°æ®å¾æé®é¢</p>
<p>ä¸é¢åªæ¯ä¾ä¸¾å¶ä¸­ä¸å°é¨åï¼åæ°è°åéåSparkUIä½¿ç¨ï¼æ¹ä¾¿è§æµè°æ´ææã</p>
<p><strong>2ãä»£ç ç«¯ä¼å</strong></p>
<p>ææ®µå¾å¤ï¼åæ¬ä½ä¸éäºï¼å¢å ç¼å­ãåå°udfçä½¿ç¨ãèµ°dataframeæsparksqlæå¤§åå©ç¨sparkåççå¼æä¼åãä½¿ç¨broadcastç­ï¼æ ¸å¿ååæ¯å¤å©ç¨sparkä¼åæºå¶ï¼åå¥½æ°æ®ç¼å­ã</p>
<p><strong>3ãæ°æ®ç«¯ä¼å</strong></p>
<p>æ°æ®ç«¯ä¼åä¸»è¦æ¯ä¸¤é¨åï¼</p>
<p>ç¬¬ä¸æ¯è¯»åãå­å¨æ¶ï¼éç¨é«æå­å¨æ ¼å¼ï¼å¦parquetãORCç­ï¼å¤©ç¶éésparkçååºè®¡ç®æ¨¡å¼ï¼ä¼åå°å¾å¤æ è°çæä½ã</p>
<p>ç¬¬äºæ¯éç¨é«æåºååæ¹å¼ï¼åå°shuffleè¿ç¨ä¸­çåºååèæ¶ï¼è¿é¨åæ¶é´å¯å¨SparkUIçStageå¤æ¥çtaskçtimelineä¸­çå¯¹åºèæ¶ã</p>
<p><strong>4ãæ¶æå±ä¼å</strong></p>
<p>ä¸è¿°æªæ½é½åå®ä¹åï¼åºæ¬å°±è¿å¥äºæ§è½ä¼åçæ·±æ°´åºï¼å½åä¸çæçåæ³æä¸¤å¤§ç±»ï¼åè½è¿ä¸æ­¥çªç ´æ°æ®è®¡ç®ç¶é¢å¯å¸¦æ¥è¾å¤§å¹åº¦æåã</p>
<p><span style="color: rgba(0, 0, 255, 1)"><strong>ç¬¬ä¸æ¯å©ç¨åéåææ¯ï¼å¤§å¹æåè®¡ç®æçã</strong></span></p>
<p>åéåææ¯è½æææçåºç¡ï¼å¨äºç°ä»£è®¡ç®æºå¯¹SIMDæä»¤çæ¯æã</p>
<p>SIMDæä»¤ï¼å³åæä»¤æµå¤æ°æ®æµ Single Instruction Multiple Dataï¼å¨è®¡ç®æºä¸­å¯ä»¥ä½¿ç¨ä¸æ¡æä»¤ï¼ä¼ éå¤ä¸ªæ°æ®è¿å»ï¼å³åéï¼ï¼èåCPUä»éå¯¹è¿ä¸ä¸ªåéè¿è¡ä¸æ¬¡è¿ç®ï¼æ¯å¦å½åè¦è¿è¡å æ³è¿ç®ï¼ï¼å³å¯å¾å°ç»æï¼ç¸æ¯ä¼ ç»CPUä¸ä¸ªå æ³è°ç¨ä¸æ¬¡æä»¤çæ¹å¼ï¼å¿«äºNï¼Nä¸ºåéçé¿åº¦ï¼åã</p>
<p>æä»¥åéåæ¹é æ¯ä¸æ¡çè®ºä¸å·å¤é«æææè½åçææ¯æ¹åãå·ä½å®æçè¯ï¼å¼æºç»ä»¶æ¨èä½¿ç¨Glutenï¼å°ç±³ææ¯å¢éå»å¹´åè¿å®è·µåäº«ï¼æ¹é ä¹åæ¶é´èæ¶å¹³åéä½30%ã</p>
<p><strong><span style="color: rgba(0, 0, 255, 1)">ç¬¬äºæ¯å¨å¹¶è¡è®¡ç®è·¯ä¸ç»§ç»­çå¥ï¼å¼å¥å¼æçGPU</span></strong>ï¼æ³¨æä¸æ¯NPUï¼NPUä»ä¸ºæ¯æAIè®­ç»æ¨çå éï¼å¯¹éç¨æ°æ®è®¡ç®å¢çææå¹¶ä¸å¥½ï¼ä¸ç¼ºå°éå¥ï¼ã</p>
<p>å¨GPUè®¡ç®ææè¿åï¼è±ä¼è¾¾ä¸é¨ä¸ºSparkæ ç¼ä½¿ç¨å¼åäºRAPIDSå éå¨æä»¶ãå®å¯ä»¥ä»¥æä»¶çæ¹å¼éæå°sparkå®¢æ·ç«¯ä¸­ï¼éè¿åæ°å¼å³æå®å¯ç¨ãå¨sparkçç©çè®¡åçæä¹åï¼ä¼è¢«è¯¥å éå¨æä»¶æ¦æªï¼å°å¶ä¸­çCPUç®å­æ¿æ¢ä¸ºGPUç®å­ï¼è¥è¯ä¼°å éææä¸å¥½è¿å¯éåæCPUç®å­ï¼ï¼èåå¨Taskæ§è¡é¶æ®µï¼RAPIDSä¼æ¥è¿è¯¥ä»»å¡è¿è¡æ§è¡ã</p>
<p>å¤§ä½ï¼å°±è¿äºäºãåçº¯çå¤§æ°æ®ææ¯é¢åï¼å¯åçæ°ææ¯æ¼è¿å·²ç»ä¸å¤äºï¼åé¢æ´å¤çæ¯å¦ä½ç²¾ç»åä»·å¼è½¬æ¢ï¼ç»AIç»è¡ä¸èµè½ã</p>
<p>åç»­å°æ²¿çAIçæ¹åï¼è¿è¡åæçæ´æ°åå­¦ä¹ ã</p>
</div>
<div class="clear"></div>

	<div class="postDesc">posted on 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-17 23:59">2026-01-17 23:59</span>&nbsp;
<a href="https://www.cnblogs.com/zzq6032010">æ·¡å¢¨ç</a>&nbsp;
éè¯»(<span id="post_view_count">52</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19497421);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19497421', targetLink: 'https://www.cnblogs.com/zzq6032010/p/19497421', title: 'å¤§æ°æ®ææ¯é¢ååå±ä¸Sparkçæ§è½ä¼å' })">ä¸¾æ¥</a>
</div>
 ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ æè¿éå°çä¸¤ä¸ªææ¯é®é¢è®°å½ ]]></title>
    <link>https://www.cnblogs.com/grey-wolf/p/19495709</link>
    <guid>a4080a8c88e11b5629057f92961d3534</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/grey-wolf/p/19495709" title="åå¸äº 2026-01-17 12:23">
    <span role="heading" aria-level="2">æè¿éå°çä¸¤ä¸ªææ¯é®é¢è®°å½</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="é®é¢1">é®é¢1</h1>
<h2 id="èæ¯">èæ¯</h2>
<p>æä¸ªä¾åé¨åå·¥ä½¿ç¨çåå°ç®¡çç³»ç»ï¼æ¯å¤©ä¼ä»ä¸æ¸¸çä¸ä¸ªoaç³»ç»çæ¥å£åæ­¥åå·¥æ°æ®ï¼oaç³»ç»ä¾§ç»´æ¤äºæ¯ä¸ªåå·¥çidãåç§°ãå·¥ä½åå¸ç­ç­åç±»ä¿¡æ¯ï¼æ¥å£ååºå¦ä¸ï¼</p>
<p><img src="https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260117104211631.png" alt="image-20260117104211631" loading="lazy"></p>
<p>è¿ä¸ªidå°±ç®æ¯åå·¥çå¯ä¸æ è¯ï¼å°±åå·¥å·ä¸æ ·ï¼ä¸ä¼åçé£ç§ãå æ­¤ï¼æä»¬ææ¥å£æ°æ®æ¿å°åï¼å°±ç´æ¥è½å°å°æä»¬æ¬å°æ°æ®åºçè¡¨ä¸­ï¼è¡¨çä¸»é®è½ç¶è®¾å®ä¸ºèªå¢ä¸»é®ï¼ä½æ¯å¨ç¨åºéï¼æä»¬ä¼ç´æ¥ç¨oaç³»ç»ç»æä»¬çè¿ä¸ªidæ¥è®¾ç½®æ¬å°è¡¨idçå¼ååæå¥ã</p>
<p><img src="https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260117105119562.png" alt="image-20260117105119562" loading="lazy"></p>
<p>è¡¨ç»æï¼</p>
<p><img src="https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260117122224831.png" alt="image-20260117122224831" loading="lazy"></p>
<p>sqlå¦ä¸ï¼è¿ä¸ªsqlæ¯èªå¨çæçï¼é»è®¤çæåºæ¥çæ¯ä¸å¸¦idè¿ç§ä¸»é®å­æ®µçï¼æä»¬æå¨å äºä¸ä¸ï¼</p>
<p><img src="https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260117105019010.png" alt="image-20260117105019010" loading="lazy"></p>
<p>æå¨å ä¸idå­æ®µï¼</p>
<p><img src="https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260117104906664.png" alt="image-20260117104906664" loading="lazy"></p>
<p>ç»æï¼æè¿å¼äºä¸ä¸ªåå·¥æ¥åä¸ä¿é©çæ´»å¨ï¼ç®åæ¥è¯´ï¼å°±æ¯å­å¨ä¸ä¸æ°æ®ï¼ç¨æ·id ãå¯¹åºçåä¸ä¿é©idã</p>
<p>æ¥ä¿é©çè¿ç¨ä¸­ï¼åç°ç¨æ·è¡¨ç¼ºäºäºæ°æ®æ²¡åæ­¥ï¼å¦ç¨æ·è¯ä»¶å·ï¼æ¥ä¿é©éè¦ï¼ãåå¸ç­ï¼æä»¥å°±å äºä¸ä¸è¿å ä¸ªå­æ®µã</p>
<p><img src="https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260117105522469.png" alt="image-20260117105522469" loading="lazy"></p>
<p>æ°å¢å®å­æ®µåï¼mapper.xmlä»£ç èªå¨çæï¼ä¹æ²¡ä»ç»çï¼ç»æå°±æä¹åæå¨å çidå­æ®µç»å²æäºï¼</p>
<p><img src="https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260117105645320.png" alt="image-20260117105645320" loading="lazy"></p>
<p>è¿ä¸ªä¸çº¿åï¼ç±äºå¨ç¨åºä¸­æ²¡ææå®idå­æ®µï¼å°±å¯¼è´æ¬å°è¡¨ä¸­çidåæäºä½¿ç¨èªå¢çæ¹å¼ï¼postgresqlï¼ä»åºåä¸­è·åä¸ä¸ä¸ªidçå¼ï¼ç±»ä¼¼mysqlä¸­èªå¢ï¼ã</p>
<p>èä¸ï¼ä»oaç³»ç»åæ­¥åå·¥ä¿¡æ¯å°ææ¹ç³»ç»ï¼æ¯å¤©é½æ¯é ä¸ä¸ªå®æ¶ä»»å¡å¨è·ï¼æ¯å¤©è·çæ¶åï¼</p>
<pre><code class="language-shell">1ãä»oaä¾§è·ååå·¥åè¡¨æ°æ®
2ãæ¸ç©ºæ¬å°è¡¨
3ãæ¹éæå¥ä»oaä¾§è·åçåå·¥æ°æ®
</code></pre>
<p>è¿å°±å¯¼è´ï¼åå·¥çidï¼ä¸çº¿åï¼æ¯å¤©é½å¨åï¼æ¯å¤©é½å¨åã</p>
<p>å½æ¶ææ¥é®é¢çå°è¿ä¸ªé®é¢çæ¶åï¼åäºä¸è·³ï¼å½æ¶åå·¥æ¥åä¸ä¿é©æ­£å¦ç«å¦è¼å¢ï¼æä¸æ³ï¼é¾éå¾èµ¶ç´§éç¥å¨å¬å¸çäººï¼éæ°æ¥äºï¼èä¸ï¼å½æ¶ä¸å¡çäººåä¿é©å¬å¸çº¦å®çæä¾ä¿é©äººåååçæ¶é´ä¹æ²¡å å¤©äºããã</p>
<p>åé¢æåä»ç»çäºä¸ï¼åç°é®é¢è¿æ²¡æé£ä¹å¤§ã</p>
<p>å°±æ¯å¨æ°æ®åè½å°å°t_user_syncè¿ä¸ªè¡¨ï¼è¿ä¸ªè¡¨åä¸æ¸¸oaä¾§æ°æ®ä¿æä¸æ¨¡ä¸æ ·ï¼åªè¯»ä¸åï¼ä¾¿äºå®ä½é®é¢ï¼åï¼è¿æä¸ªå®æ¶ä»»å¡ï¼å°æ°æ®ä»t_user_syncè½¬ç§»å°æä»¬å®éçç¨æ·è¡¨ï¼sy_userï¼ï¼è¿ä¸ªè¡¨æä»¬ä¼è¿è¡å¢å æ¹æ¥ç­ç­ã</p>
<p><img src="https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260117110408095.png" alt="image-20260117110408095" loading="lazy"></p>
<p>è¿ä¸ªå®æ¶ä»»å¡ï¼å¨å°t_user_syncè½¬ç§»å°sy_userçè¿ç¨ä¸­ï¼æ¯å¢éåæ­¥çãå¦ï¼åç°zhangsanè¿ä¸ªç¨æ·æ¶ï¼åæ¥ä¸ä¸sy_useréææ²¡æï¼æ²¡æææå¥ï¼æå¥æ¶ï¼sy_userçidä¹æ¯ç¨çt_user_syncçidï¼ä¹å°±æ¯oaä¾§çidï¼ï¼æå°±æ´æ°ã</p>
<p>è¿ä¸ªå¢éåæ­¥æºå¶ï¼æäºæï¼å¯¼è´çç»ææ¯ï¼è½ç¶t_user_syncä¸­idéäºï¼ä¸æ¯å¤©é½å¨åï¼ä½sy_userä¸­çidè½ç¶ä¹æ¯éçï¼ä½æ¯ä¸ä¼æ¯å¤©åï¼èæ¯ç¨å°ç¬¬ä¸æ¬¡åæ­¥t_user_syncæ¶çidã</p>
<p>åªè¦sy_userè¡¨ä¸­çidä¸åï¼éçä¹å½±åä¸å¤§ï¼è³å°åå·¥æ¥ä¿é©çç¸å³è¡¨ä¸­çå³èå³ç³»æ¯æ²¡é®é¢çï¼</p>
<p>åå·¥id          åå·¥åç§°    ä¿é©åç§°</p>
<p>11111(éç)  å¼ ä¸         xxxåä¸ä¿é©</p>
<p>èæä»¬è¿ä¸ªç³»ç»ä¸­ï¼å¶ä»å°æ¹ä¹æç¨å°è¿ä¸ªç¨æ·idçï¼è½ç¶ç±äºç¨æ·idååå¯¼è´äºå³èå³ç³»éä¹±ï¼ä½æ¯å½±åæ¯ç«ä¸å¡å½±åæ²¡é£ä¹å¤§ï¼å°æ¶ååä¿®å¤å³å¯ã</p>
<h2 id="æ»ç»">æ»ç»</h2>
<p>å¶å®ï¼è¿ä¸ªé®é¢å°±æ¯ç²å¿é æçï¼å½ç¶ï¼å®¢è§ä¸ï¼ç°å¨æéç³»ç»å¤ªå¤ï¼ç²¾ååæ£ä¹æ¯ä¸ä¸ªåå ã</p>
<p>å¦å¤ï¼è¿ä¸ªèªå¨çæä»£ç çæºå¶ï¼åæççè¿åæ¯å¦å¯ä»¥ä¼åå§ï¼è½æidå­æ®µä¸èµ·çæå°xmlä¸­æ¯æå¥½ã</p>
<p>å¦æå®å¨ä¸è¡çè¯ï¼ä¹åºè¯¥èèï¼è¿ç§è¡¨çidå­æ®µï¼å°±è®¾ç½®ä¸ºéèªå¢ãéç©ºï¼å¿é¡»è®©ç¨åºæå¨è®¾ç½®ï¼ä¹è½åæ¶åç°é®é¢ã</p>
<h2 id="é®é¢2">é®é¢2</h2>
<h2 id="etl">etl</h2>
<p>ä»ç»èæ¯åï¼åè®²è®²etlå§ï¼</p>
<p>å¨æä»ä¸æ²¡å å¹´çæ¶åï¼å½æ¶ç±äºæ¥è§¦çé½æ¯mysqlè¿ç§oltpè¿ç±»ä¸å¡ä¸ºä¸»ï¼ææ¶åçå°ä¸äºæèå²ä½åetlï¼ä¸ç¥éæ¯å¥ææãä¹æ¯è¿å å¹´æå¤§æ¦äºè§£ï¼</p>
<pre><code class="language-shell">å°ä¼ä¸ä¸­åæ£çæ°æ®ï¼éä¸­çè¾å¥å°æ°æ®ä»åºä¸­çè¿ç¨ï¼å°±æ¯ ETLã

Extractï¼æåï¼ï¼ ä»å¤ä¸ªå¼ææ°æ®æºï¼å¦æ°æ®åºãæä»¶ç³»ç»ãAPIç­ï¼ä¸­æååå§æ°æ®ãæ°æ®æºå¯ä»¥æ¯å³ç³»åæ°æ®åºï¼å¦MySQLãPostgreSQLï¼ãéå³ç³»åæ°æ®åºï¼å¦MongoDBãCassandraï¼ãæä»¶ï¼å¦CSVãJSONï¼ãAPIææµå¼æ°æ®æºã

Transformï¼è½¬æ¢ï¼ï¼ å¯¹æåçæ°æ®è¿è¡æ¸æ´ãæ ååãèåãå»éç­æä½ï¼ä»¥æ»¡è¶³ä¸å¡éæ±ææ°æ®åæçè¦æ±ãè¿ä¸æ­¥å¯è½æ¶åæ°æ®ç±»åè½¬æ¢ãæ ¼å¼è½¬æ¢ãä¸å¡è§ååºç¨ãæ°æ®èåãæ°æ®è´¨éæ ¡éªç­ã

Loadï¼å è½½ï¼ï¼ å°è½¬æ¢åçæ°æ®å è½½å°ç®æ å­å¨ç³»ç»ä¸­ï¼éå¸¸æ¯æ°æ®ä»åºææ°æ®æ¹ä¸­ï¼ä¾åç»­çæ°æ®åæãæ¥è¡¨ææºå¨å­¦ä¹ ç­ç¨éãå è½½çæ¹å¼å¯ä»¥æ¯å¨éå è½½ãå¢éå è½½æå®æ¶å è½½ã
</code></pre>
<p><img src="https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260117113327615.png" alt="image-20260117113327615" loading="lazy"></p>
<p>åæä»¬å¬å¸ï¼æ°æ®åºç§ç±»åå¤ï¼oracleãmysqlãpgãå½äº§ï¼ï¼ç³»ç»åå¤ï¼å¥½å¤ç³»ç»è¿æ¯ä¹°çï¼ä½ æ³è¦æä¸ªç³»ç»çæ°æ®ï¼è¦ä¹èµ°æ¥å£ï¼è¦ä¹éè¿äººå®¶çè¡¨ãä¸æ¹é¢ï¼å¥½å¤ä¹°çç³»ç»ï¼ä¸åæ¬¢å¯¹å¤æä¾æ¥å£ï¼åä¸ä¸çèèï¼æ¯ç«æ°æ®æ¯æ ä»·çï¼è®©ä½ é¾ä»¥è¿ç§»ï¼ä¹å°±æ¯è¿å å¹´ï¼æè§æ°çè½¯ä»¶ç³»ç»æå¼å§æ³¨éå¯¹å¤æä¾apiï¼ï¼å¦ä¸æ¹é¢ï¼ææ¶åè¡¨å¾å¤ï¼æäºè¡¨ä¹å¾å¤§ï¼èªå·±åæ¥å£å»æ¯å¤©åæ­¥ï¼å·¥ä½éä¹ä¸å°ï¼è¿è¦ç³è¯·api key/api secretï¼è¿è¦å¼éç½ç»ï¼ä¹æ¯æºéº»ç¦çï¼æç»å°±æ¢æ¢ä¹ æ¯äºãå¦¥åäºï¼éè¿æ°ä»etlåæ­¥ï¼è¿æ¯è½çä¸äºäºå§ã</p>
<h2 id="èæ¯-1">èæ¯</h2>
<p>å¦ä¸ä¸ªcç«¯ç³»ç»ï¼éè¦æ§æ¯ä¸é¢é£ä¸ªç³»ç»éè¦å¤äºï¼è¿ä¸¤å¤©ä¹åºäºä¸ä¸ªé®é¢ã</p>
<p>è¿ä¸ªç³»ç»ï¼æ¬æ¥æ¯ä¸ä¸ªå¤ååäºå¨ç»´æ¤ï¼ç±äºä»æå¨çå¬å¸åæä»¬å¬å¸ä¸ååä½äºï¼ä»ä¹å°±è·çç¦»èäºï¼å¶å®å¯ä»¥åæ°å¤åå¬å¸ç­¾çº¦ï¼ä¸è¿ä»è¯´æ°å¤åå¬å¸ä¸å¤ªåæ¬¢ï¼ãä»å¼åå®æäºæåä¸ä¸ªåè½å¹¶å®ææµè¯åï¼è¿æ²¡æ¥å¾åç³»ç»ä¸çº¿ï¼æä»¥ä¸çº¿çäºå°±ææ¥å¼ã</p>
<p>ææ´çäºä¸ä¸ä¸çº¿çåç§åæ´ï¼å¦sqlãnacoséç½®ãxxljobãçæ¬jaråãåç«¯åç­ç­ä¸å¤§å ï¼åäºä¸ªææ¡£å°±æäº¤åæ´æµç¨äºã</p>
<p>å¶ä¸­ä¸ä¸ªsqlï¼æ¯ç»æä¸ªæ°ä»åæ­¥è¡¨å idå­æ®µï¼å¹¶æ°å»ºäºåºåï¼è®¾ç½®idå­æ®µéè¿åºåæ¥èªå¢ï¼ï¼æå½æ¶è¿ä¸é¨ç ç©¶äºä¸ä¸ï¼</p>
<p>æä»¬æä¸¤ä¸ªè¡¨ï¼jy_sync_h_logasset ï¼å½åè¡¨ï¼ãjy_sync_h_logasset_historyï¼åå²è¡¨ï¼ï¼ä¸¤ä¸ªè¡¨çç»æç±»ä¼¼ï¼åªæ¯ä¸ä¸ªå­å¨æè¿å ä¸ªæçæ°æ®ï¼jy_sync_h_logasset ï¼ï¼ä¸ä¸ªå­å¨å ä¸ªäººåçæ°æ®ï¼jy_sync_h_logasset_historyï¼ãç³»ç»ä¼å®ææå ä¸ªæåçæ°æ®ï¼ä»å½åè¡¨ï¼è½¬ç§»å°åå²è¡¨éå»ï¼ä¿è¯å½åè¡¨çæ°æ®éä¸è¦å¤ªå¤§ï¼å½±åæ¥è¯¢éåº¦ã</p>
<p>è¿ä¸¤ä¸ªè¡¨ï¼æä¸ä¸ªé®é¢ï¼å°±æ¯è¡¨æ²¡æè®¾ç½®idè¿ç§ä¸»é®ï¼ä¸ºå¥æ²¡ä¸»é®å¢ï¼å ä¸ºjy_sync_h_logasset è¿ä¸ªè¡¨çæ°æ®ï¼æ¯éè¿æ°ä»çetlæä½ï¼ä»å¶ä»ä¸æ¸¸æ°æ®åºæ¬è¿è¿æ¥çã</p>
<p>jy_sync_h_logasset å¯¹åºçä¸æ¸¸çè¯ï¼ä¸ä¸å®æ¯ä¸ä¸ªè¡¨ï¼å¯è½æ¯ä¸ä¸ªè§å¾ï¼æèæ¯ä¸ä¸ªsqlï¼æ¯å¦select name,oa_account from employeeè¿ç§ï¼å®çsqlä¸­ï¼å°±æ²¡ææ¥è¯¢idå­æ®µï¼æèæ¯å¤è¡¨joiné£ç§ï¼ä¸å¯¹å¤ï¼ï¼å°±æ¯ç®æidï¼ä¹ä¼å¯¼è´idéå¤ã</p>
<p>æä»¥ï¼æçæµæ¯è¿ä¸ªåå ï¼å¯¼è´ææ¹çè¿ä¸ªè¡¨ï¼æ¯æ²¡æidå­æ®µçï¼ä¹æ²¡å¼ä¸»é®ã</p>
<p>ä¸ä¸ªè¡¨ï¼æ²¡æä¸»é®ï¼æ®ææç¥ï¼å¨åé¡µæ¥è¯¢æ¶ï¼å®¹æä¸ç¨³å®ï¼æä¸æ¡è®°å½å¯è½ä¼å¨è¿ä¸é¡µåºç°ï¼å¨ä¸ä¸é¡µç»§ç»­åºç°ï¼ä¸è¬æä»¬è§£å³è¿ç§åé¡µæ¥è¯¢ä¸ç¨³å®çé®é¢ï¼é½æ¯ä¼æç§æä¸ªå­æ®µæåºï¼èä¸è¬é¦éå°±æ¯idå­æ®µã</p>
<p>å¯¹äºè¿ä¸ªæ²¡æidå­æ®µçè¡¨æ¥è¯´ï¼åé¡µæ¥è¯¢åºè¯¥æ¯å®¹æåºé®é¢çï¼æä»¥æçæµï¼è¿å°±æ¯æ¬æ¬¡sqlåæ´ï¼å idå­æ®µï¼åå»ºåºåï¼è®¾ç½®idå­æ®µä»åºååå¼ï¼çåå ã</p>
<p><img src="https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260117115053690.png" alt="image-20260117115053690" loading="lazy"></p>
<p>æå½æ¶ä¸ºå¥æ³¨æè¿ä¸ªsqlå¢ï¼æåç°ä»åªå»ºäºä¸ä¸ªåºåï¼ç¶åä¸¤ä¸ªè¡¨é½ç¨äºè¿ä¸ªåºåï¼æå½æ¶å¤çäºä¸¤ç¼ï¼åªæ¯æç¹å¥æªï¼ä¸è¬æ¥è¯´ï¼æ¯ä¸ªè¡¨ä¼è®¾ç½®ä¸ä¸ªèªå·±çåºåãåæ¥æçå°ï¼å¨å°jy_sync_h_logassetè¡¨ä¸­å ä¸ªæåçæ°æ®è½¬ç§»å°jy_sync_h_logasset_historyçå®æ¶ä»»å¡ä¸­ï¼ä»£ç éè®¾ç½®äºjy_sync_h_logasset_historyçidå°±ç´æ¥ä½¿ç¨jy_sync_h_logassetä¸­çidï¼ä¹å°±æ¯è¯´ï¼jy_sync_h_logasset_historyå®éå¹¶ä¸ä¼ä½¿ç¨åºåä¸­çå¼ä½ä¸ºidï¼æä¹å°±æ²¡ç®¡äºãå½ç¶ï¼åºäºçç¡®å®ä¹ä¸æ¯è¿ä¸ªé®é¢ã</p>
<p>å¨åä¸åï¼åè¿ç»´ä¸åï¼ççä»åå®ä¸çº¿åæ´ï¼æ³çåäºäºä¸ä¸ªäºãç»æå¨äºæ©ä¸ï¼8ç¹å¤ï¼å°±ç»æåæ¶æ¯ï¼è¯´æä¸ªxxljobçå®æ¶ä»»å¡å¤±è´¥äºã</p>
<p>æèµ¶ç´§åå®é¥­ï¼æ±ççµèå»æ¾ä»ï¼çäºä¸ï¼åç°æ¥éçåå æ¯ï¼</p>
<p>ä¸ä¸ªetl_statusçè¡¨ä¸­ï¼æ²¡ææ¥å°å½å¤©çè®°å½ï¼è¿ä¸ªè¡¨çç¨éæ¯ï¼æ°ä»å¨ç»æä»¬æ¨éå®åä¸ªè¡¨çæ°æ®åï¼ä¼å¨etl_statusä¸­åå¥ä¸æ¡æåè®°å½ã</p>
<p>æ¢ç¶è¿æ¬¡æ¥éæ¯æ²¡æ¥å°æ°ä»åçæåè®°å½ï¼æ¯ä¸æ¯æ°æ®æ¨éå¤±è´¥äºå¢ï¼æä»¬èµ¶ç´§èç³»äºæ°ä»çåäºï¼æ°ä»åäºè¿äºä¼åè¯æä»¬è¯´ï¼æ¯æ°ä»å¨å¾jy_sync_h_logassetåè®°å½æ¶ï¼æ¥éäºï¼æç¤ºå¯¹jy_sync_h_logasset_pkè¿ä¸ªåºåçæéä¸è¶³ãç¶åæè¿å»æ¾ä»ï¼ä»ç»èäºä¸ï¼æ¯å¦ï¼ä»é£è¾¹çä¸æ¬¡æ°ä»etlä»»å¡ï¼æ»å±è¦æ¨10ä¸ªè¡¨è¿æ¥ï¼å¦æå¶ä¸­ä¸ä¸ªè¡¨å¤±è´¥äºï¼å°±ä¼å¯¼è´ï¼ä¸åå¥etl_statusæåè®°å½ãä½å·²ç»æ¨éæåçè¡¨ï¼å¦è¿éæåäº9ä¸ªè¡¨ï¼çæ°æ®å¹¶ä¸ä¼åéã</p>
<p>é®é¢æ¯ææ¸æ¥äºï¼è¿æ¯ç²å¿å¯¼è´çï¼æå½æ¶å®å¨æ²¡ææ³èµ·æ¥åºåè¦ç»æ°ä»ç¨æ·ææè¿ä¸ªäºã</p>
<p>ä½è¿ä¸ªé®é¢çèµ·æ¥å°ï¼å¯¼è´çå½±åè¿æ¯æ¯è¾å¤§çï¼ç±äºæä»¬å®ä½è¿ä¸ªé®é¢åä¿®å¤ï¼ç»æ°ä»ç¨æ·å¢å æéï¼æ°ä»éæ°æ¨éï¼è±äºä¸äºæ¶é´ï¼ä¿®å¤æ¶å·²ç»è¿äºæä¸ªç¹å®çæ¶ç¹äºï¼å¯¼è´ææ¹å·²ç»æ²¡ææ¶é´åæ¥è·xxljobäºï¼æä¸ªxxljobä»»å¡ç±äºä¸æ¸¸ç³»ç»çéå¶ï¼è¦æ±å¿é¡»å¨æä¸ªæ¶ç¹ä¹åè·æè¡ï¼ï¼åªè½æ¯è®©ä¸å¡åäºå»éç¥å®¢æ·éæ­ã</p>
<p>é¨é¨çé¢å¯¼ä¹ä»å¥äºè¿ä¸ªäºæï¼ä¸å¨å°±å¾ç³»ç»æ¢³çä¸ç°ç¶ï¼åççææ²¡æå¨è¿ç§å¼å¸¸æåµä¸è¿è¡è¡¥æçæªæ½ï¼å½ç¶ï¼æä»¬è¿è¾¹å¶å®æ¯å¯ä»¥è¡¥æçï¼æ°ä»éæ°æ¨éæ°æ®åï¼ææ¹ä¹éæ°æ§è¡xxljobç¸å³ä»»å¡ï¼ï¼ä½æ¯æä»¬ç³»ç»è¿æä¸æ¸¸ï¼ç°å¨å°±æ¯ä¸æ¸¸ç³»ç»ä¸æ¯æè¿äºæä¸ªæ¶é´ç¹åè¿è¡è¡¥æï¼ï¼è¿åè¿å¾åççæä¹å¼ã</p>
<h2 id="æ»ç»-1">æ»ç»</h2>
<p>å°å°çé®é¢ï¼å¤§å¤§çå½±åï¼åºäºé®é¢åæ¥å¤çï¼ä¸è¬ææ¬æ¯æé«çï¼ä¹ä¼å¸¦æ¥æ´å¤çå·¥ä½ï¼å¦äºææ±æ¥ãéå¯¹äºæçæ¹è¿æªæ½ç­ãè¿æ¯å¾é²æ£äºæªç¶ï¼æ²»æªçã</p>
<p>å½ç¶ï¼æç®åçäºä¸ï¼å¸æpostgresqlå¯ä»¥åå°ï¼æ°å¢çåºåï¼ä¸ç¨æ¯æ¬¡åç¬ææï¼èæ¯å¨æ°æ®åºçº§å«è¿è¡ææã</p>
<p><img src="https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260117122000029.png" alt="image-20260117122000029" loading="lazy"></p>
<p>ä¸å¨åç ç©¶ä¸å§ï¼ådbaæ²éä¸ï¼é¿åç°å¨æéç®¡çå¤ªç»å¯¼è´çé®é¢ã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-17 12:24">2026-01-17 12:23</span>&nbsp;
<a href="https://www.cnblogs.com/grey-wolf">ä¸å½æ¢¦å</a>&nbsp;
éè¯»(<span id="post_view_count">182</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19495709);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19495709', targetLink: 'https://www.cnblogs.com/grey-wolf/p/19495709', title: 'æè¿éå°çä¸¤ä¸ªææ¯é®é¢è®°å½' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ FFmpegå¼åç¬è®°ï¼ä¹åä¹ï¼åºäºKotlinçå½äº§å¼æºæ­æ¾å¨DKVideoPlayer ]]></title>
    <link>https://www.cnblogs.com/aqi00/p/19379646</link>
    <guid>8700b6f42fc0d52d887f15c935f4ebab</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/aqi00/p/19379646" title="åå¸äº 2026-01-17 12:15">
    <span role="heading" aria-level="2">FFmpegå¼åç¬è®°ï¼ä¹åä¹ï¼åºäºKotlinçå½äº§å¼æºæ­æ¾å¨DKVideoPlayer</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<span id="cke_bm_197S">å¨Androidå¹³å°ä¸ï¼åºäºFFmpegçå½äº§æ­æ¾å¨å¼æºæ¡æ¶ä¹æå¾å¤äºï¼åæåå©åå©çijkplayerï¼åæå°çº¢ä¹¦çRedPlayerï¼åè§ä¹åçæç« ãä½¿ç¨å½äº§çijkplayeræ­æ¾å¨è§çç½ç»è§é¢ãåãä½¿ç¨å½äº§çRedPlayeræ­æ¾å¨è§çç½ç»è§é¢ãã</span>
<p><span id="cke_bm_197S"> é¤æ­¤ä»¥å¤ï¼DKVideoPlayerä¹æ¯ä¸æ¬¾ä¼ç§çå½äº§Androidè§é¢æ­æ¾å¨ï¼å®åºäºKotlinç¼åï¼ä¸ä½éæäºAndroidåççMediaPlayerï¼è¿éæäºJetpackçExoPlayerï¼çè³éæäºå½äº§çijkplayerãDKVideoPlayeræ¢æ¯ææ­æ¾æ¬å°è§é¢ï¼ä¹æ¯ææ­æ¾ç½ç»è§é¢ï¼çè³æ¯ææ­æ¾ç´æ­é¾æ¥ï¼å¯è°åè½å¼ºå¤§ã<br>
DKVideoPlayerçæºç æç®¡å°åä¸ºhttps://github.com/Doikki/DKVideoPlayerï¼æææ°5.3kï¼ï¼å½åçéåå°åä¸ºhttps://gitcode.com/gh_mirrors/dk/DKVideoPlayerï¼ææ°çæ¬æ¯2022å¹´7æåå¸çv3.3.7ï¼å¯è§è¯¥æ¡æ¶çæºç æ´æ°åååæ¶ï¼è¯¥çæ¬çæºç ä¸è½½å°åä¸ºhttps://github.com/Doikki/DKVideoPlayer/archive/refs/tags/3.3.7.tar.gzã<br>
DKVideoPlayeræä¾äºä¸¤ç§éææ¹å¼ï¼å¼ç¨å¨çº¿åºãç´æ¥å¯¼å¥æºç ï¼åå«è¯´æå¦ä¸ï¼</span></p>
<h1>ä¸ãå¼ç¨DKVideoPlayerå¨çº¿åº</h1>
<p>Androidå·¥ç¨å¼ç¨DKVideoPlayerå¨çº¿åºæ¶ï¼éè¦ä¿®æ¹ä»¥ä¸ä¸¤ä¸ªéç½®ï¼<br>
1ãæå¼æ¨¡åçº§å«çbuild.gradleï¼ç»dependenciesèç¹è¡¥åä¸é¢å è¡éç½®ï¼è¡¨ç¤ºå¼å¥3.3.7çæ¬çDKVideoPlayeråºï¼</p>
<div class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_selected" data-cke-display-name="ä»£ç æ®µ" data-cke-filter="off" data-cke-widget-id="7" data-cke-widget-wrapper="1">
<pre class="cke_widget_element" data-cke-widget-data="%7B%22code%22%3A%22%23%20%E5%BF%85%E9%80%89%EF%BC%8C%E5%86%85%E9%83%A8%E9%BB%98%E8%AE%A4%E4%BD%BF%E7%94%A8%E7%B3%BB%E7%BB%9Fmediaplayer%E8%BF%9B%E8%A1%8C%E8%A7%A3%E7%A0%81%5Cnimplementation%20'xyz.doikki.android.dkplayer%3Adkplayer-java%3A3.3.7'%5Cn%23%20%E5%8F%AF%E9%80%89%EF%BC%8C%E5%8C%85%E5%90%ABStandardVideoController%E7%9A%84%E5%AE%9E%E7%8E%B0%5Cnimplementation%20'xyz.doikki.android.dkplayer%3Adkplayer-ui%3A3.3.7'%5Cn%23%20%E5%8F%AF%E9%80%89%EF%BC%8C%E4%BD%BF%E7%94%A8exoplayer%E8%BF%9B%E8%A1%8C%E8%A7%A3%E7%A0%81%5Cnimplementation%20'xyz.doikki.android.dkplayer%3Aplayer-exo%3A3.3.7'%5Cn%23%20%E5%8F%AF%E9%80%89%EF%BC%8C%E4%BD%BF%E7%94%A8ijkplayer%E8%BF%9B%E8%A1%8C%E8%A7%A3%E7%A0%81%5Cnimplementation%20'xyz.doikki.android.dkplayer%3Aplayer-ijk%3A3.3.7'%5Cn%23%20%E5%8F%AF%E9%80%89%EF%BC%8C%E5%A6%82%E9%9C%80%E8%A6%81%E7%BC%93%E5%AD%98%E6%88%96%E8%80%85%E6%8A%96%E9%9F%B3%E9%A2%84%E5%8A%A0%E8%BD%BD%E5%8A%9F%E8%83%BD%E8%AF%B7%E5%BC%95%E5%85%A5%E6%AD%A4%E5%BA%93%5Cnimplementation%20'xyz.doikki.android.dkplayer%3Avideocache%3A3.3.7'%22%2C%22classes%22%3Anull%7D" data-cke-widget-keep-attr="0" data-cke-widget-upcasted="1" data-widget="codeSnippet"><code class="hljs"># å¿éï¼åé¨é»è®¤ä½¿ç¨ç³»ç»mediaplayerè¿è¡è§£ç 
implementation 'xyz.doikki.android.dkplayer:dkplayer-java:3.3.7'
# å¯éï¼åå«StandardVideoControllerçå®ç°
implementation 'xyz.doikki.android.dkplayer:dkplayer-ui:3.3.7'
# å¯éï¼ä½¿ç¨exoplayerè¿è¡è§£ç 
implementation 'xyz.doikki.android.dkplayer:player-exo:3.3.7'
# å¯éï¼ä½¿ç¨ijkplayerè¿è¡è§£ç 
implementation 'xyz.doikki.android.dkplayer:player-ijk:3.3.7'
# å¯éï¼å¦éè¦ç¼å­æèæé³é¢å è½½åè½è¯·å¼å¥æ­¤åº
implementation 'xyz.doikki.android.dkplayer:videocache:3.3.7'</code></pre>
</div>
<p>2ãæå¼Appæ¨¡åçsrc/main/AndroidManifest.xmlï¼ç»manifestèç¹è¡¥åä¸é¢å è¡æééç½®ï¼è¡¨ç¤ºå£°ææ¬æµ®çªãå­å¨ç©ºé´åç½ç»ç­æéï¼</p>
<div class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_selected" data-cke-display-name="ä»£ç æ®µ" data-cke-filter="off" data-cke-widget-id="6" data-cke-widget-wrapper="1">
<pre class="cke_widget_element" data-cke-widget-data="%7B%22code%22%3A%22%3Cuses-permission%20android%3Aname%3D%5C%22android.permission.SYSTEM_ALERT_WINDOW%5C%22%20%2F%3E%5Cn%3Cuses-permission%20android%3Aname%3D%5C%22android.permission.SYSTEM_OVERLAY_WINDOW%5C%22%20%2F%3E%5Cn%3Cuses-permission%20android%3Aname%3D%5C%22android.permission.WRITE_EXTERNAL_STORAGE%5C%22%20%2F%3E%5Cn%3Cuses-permission%20android%3Aname%3D%5C%22android.permission.INTERNET%5C%22%20%2F%3E%5Cn%3Cuses-permission%20android%3Aname%3D%5C%22android.permission.ACCESS_NETWORK_STATE%5C%22%2F%3E%22%2C%22classes%22%3Anull%7D" data-cke-widget-keep-attr="0" data-cke-widget-upcasted="1" data-widget="codeSnippet"><code class="hljs">&lt;uses-permission android:name="android.permission.SYSTEM_ALERT_WINDOW" /&gt;
&lt;uses-permission android:name="android.permission.SYSTEM_OVERLAY_WINDOW" /&gt;
&lt;uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /&gt;
&lt;uses-permission android:name="android.permission.INTERNET" /&gt;
&lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/&gt;</code></pre>
</div>
<h1>äºãç´æ¥å¯¼å¥DKVideoPlayeræºç </h1>
<p>DKVideoPlayerçæºç å·²ç»ééAndroid Studio Dolphinï¼å°æµ·è±çæ¬ï¼ï¼ä»éå¨é¡¹ç®çº§å«çbuild.gradleè¡¥åå½åä»åºå³å¯ãä¹å°±æ¯å¨repositoriesèç¹åé¨è¡¥åä»¥ä¸éç½®ï¼</p>
<div class="cke_widget_wrapper cke_widget_block cke_widget_codeSnippet cke_widget_selected" data-cke-display-name="ä»£ç æ®µ" data-cke-filter="off" data-cke-widget-id="5" data-cke-widget-wrapper="1">
<pre class="cke_widget_element" data-cke-widget-data="%7B%22code%22%3A%22%2F%2F%20%E4%BB%A5%E4%B8%8B%E5%9B%9B%E8%A1%8C%E6%B7%BB%E5%8A%A0%E9%98%BF%E9%87%8C%E4%BA%91%E7%9A%84%E4%BB%93%E5%BA%93%E5%9C%B0%E5%9D%80%EF%BC%8C%E6%96%B9%E4%BE%BF%E5%9B%BD%E5%86%85%E5%BC%80%E5%8F%91%E8%80%85%E4%B8%8B%E8%BD%BD%E7%9B%B8%E5%85%B3%E6%8F%92%E4%BB%B6%5Cnmaven%20%7B%20url%20%3D%20uri(%5C%22https%3A%2F%2Fmaven.aliyun.com%2Frepository%2Fjcenter%5C%22)%20%7D%5Cnmaven%20%7B%20url%20%3D%20uri(%5C%22https%3A%2F%2Fmaven.aliyun.com%2Frepository%2Fgoogle%5C%22)%7D%5Cnmaven%20%7B%20url%20%3D%20uri(%5C%22https%3A%2F%2Fmaven.aliyun.com%2Frepository%2Fgradle-plugin%5C%22)%7D%5Cnmaven%20%7B%20url%20%3D%20uri(%5C%22https%3A%2F%2Fmaven.aliyun.com%2Frepository%2Fpublic%5C%22)%7D%5Cn%2F%2F%20%E4%BB%A5%E4%B8%8B%E6%B7%BB%E5%8A%A0%E6%B8%85%E5%8D%8E%E5%A4%A7%E5%AD%A6%E7%9A%84%E4%BB%93%E5%BA%93%E5%9C%B0%E5%9D%80%5Cnmaven%20%7B%20url%20%3D%20uri(%5C%22https%3A%2F%2Fmirrors.tuna.tsinghua.edu.cn%2Frepository%2Fmaven-central%2F%5C%22)%20%7D%22%2C%22classes%22%3Anull%7D" data-cke-widget-keep-attr="0" data-cke-widget-upcasted="1" data-widget="codeSnippet"><code class="hljs">// ä»¥ä¸åè¡æ·»å é¿éäºçä»åºå°åï¼æ¹ä¾¿å½åå¼åèä¸è½½ç¸å³æä»¶
maven { url = uri("https://maven.aliyun.com/repository/jcenter") }
maven { url = uri("https://maven.aliyun.com/repository/google")}
maven { url = uri("https://maven.aliyun.com/repository/gradle-plugin")}
maven { url = uri("https://maven.aliyun.com/repository/public")}
// ä»¥ä¸æ·»å æ¸åå¤§å­¦çä»åºå°å
maven { url = uri("https://mirrors.tuna.tsinghua.edu.cn/repository/maven-central/") }</code></pre>
</div>
<p>å¢å ä»¥ä¸éç½®çç®çæ¯å¼å¥å½åçä»åºå°åï¼ä»¥ä¾¿å å¿«ç¸å³ä¾èµåçä¸è½½éåº¦ã</p>
<p>ç­å¾DKVideoPlayerå·¥ç¨ç¼è¯éè¿ï¼æä¸»å¥å£çdkplayer-sampleæ¨¡åå®è£å°ææºä¸ï¼å¯å¨ä¹åçAppçé¢å¦ä¸å¾æç¤ºï¼</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-display-name="å¾å" data-cke-filter="off" data-cke-widget-id="4" data-cke-widget-wrapper="1"><span class="cke_reset cke_widget_drag_handler_container"><span class="cke_image_resizer" title="ç¹å»å¹¶ææ½ä»¥æ¹åå°ºå¯¸"><span class="cke_widget_edit_container" title="ç¼è¾å¾ç"><img alt="dkplayer1" width="410" height="468" loading="lazy" data-src="https://img2024.cnblogs.com/blog/729938/202512/729938-20251221180441777-124194375.jpg" class="lazyload"></span></span></span></span></p>
<p>ç¹å»ãç¹æ­ãæé®ï¼æå¼ç½ç»è§é¢çæ­æ¾çé¢å¦ä¸å¾æç¤ºï¼</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-display-name="å¾å" data-cke-filter="off" data-cke-widget-id="3" data-cke-widget-wrapper="1"><span class="cke_reset cke_widget_drag_handler_container"><span class="cke_image_resizer" title="ç¹å»å¹¶ææ½ä»¥æ¹åå°ºå¯¸"><span class="cke_widget_edit_container" title="ç¼è¾å¾ç"><img alt="dkplayer2" width="403" height="609" loading="lazy" data-src="https://img2024.cnblogs.com/blog/729938/202512/729938-20251221180456662-462668323.jpg" class="lazyload"></span></span></span></span></p>
<p>æèç¹å»ãç´æ­ãæé®ï¼æå¼ç´æ­é¾æ¥çæ­æ¾çé¢å¦ä¸å¾æç¤ºï¼</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-display-name="å¾å" data-cke-filter="off" data-cke-widget-id="2" data-cke-widget-wrapper="1"><span class="cke_reset cke_widget_drag_handler_container"><span class="cke_image_resizer" title="ç¹å»å¹¶ææ½ä»¥æ¹åå°ºå¯¸"><span class="cke_widget_edit_container" title="ç¼è¾å¾ç"><img alt="dkplayer3" width="403" height="608" loading="lazy" data-src="https://img2024.cnblogs.com/blog/729938/202512/729938-20251221180522634-502106673.jpg" class="lazyload"></span></span></span></span></p>
<p>å¯è§DKVideoPlayeræ¯æè°æ´æ­æ¾çªå£å¤§å°ãè°æ´æ­æ¾éåº¦ï¼ä»¥åæè½¬ãæªå¾ãè£åªç­åè½ï¼å¯è°å°å¸¸è§çæ­æ¾æä½ä¸ç½æå°½ã</p>
<p>æ´å¤è¯¦ç»çFFmpegå¼åç¥è¯åè§<span class="cke_widget_wrapper cke_widget_inline cke_widget_csdnlink cke_widget_selected" data-cke-display-name="a" data-cke-filter="off" data-cke-widget-id="1" data-cke-widget-wrapper="1"><a class="cke_widget_editable cke_widget_element" title="ãFFmpegå¼åå®æï¼ä»é¶åºç¡å°ç­è§é¢ä¸çº¿ã" href="https://item.jd.com/14020415.html" data-cke-enter-mode="2" data-cke-saved-href="https://item.jd.com/14020415.html" data-cke-widget-data="%7B%22url%22%3A%22https%3A%2F%2Fitem.jd.com%2F14020415.html%22%2C%22text%22%3A%22%E3%80%8AFFmpeg%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98%EF%BC%9A%E4%BB%8E%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%88%B0%E7%9F%AD%E8%A7%86%E9%A2%91%E4%B8%8A%E7%BA%BF%E3%80%8B%22%2C%22desc%22%3A%22%22%2C%22icon%22%3A%22%22%2C%22isCard%22%3Afalse%2C%22hasResquest%22%3Atrue%2C%22iconDefault%22%3A%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fblog_editor_html%2Frelease2.4.4%2Fckeditor%2Fplugins%2FCsdnLink%2Ficons%2Ficon-default.png%3Ft%3DP9T8%22%2C%22id%22%3A%22iCdS73-1766311368387%22%2C%22classes%22%3Anull%7D" data-cke-widget-editable="text" data-cke-widget-keep-attr="0" data-cke-widget-upcasted="1" data-link-icon="https://csdnimg.cn/release/blog_editor_html/release2.4.4/ckeditor/plugins/CsdnLink/icons/icon-default.png?t=P9T8" data-link-title="ãFFmpegå¼åå®æï¼ä»é¶åºç¡å°ç­è§é¢ä¸çº¿ã" data-widget="csdnlink" rel="noopener nofollow">ãFFmpegå¼åå®æï¼ä»é¶åºç¡å°ç­è§é¢ä¸çº¿ã</a>ä¸ä¹¦ã</span></p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-17 12:16">2026-01-17 12:15</span>&nbsp;
<a href="https://www.cnblogs.com/aqi00">aqi00</a>&nbsp;
éè¯»(<span id="post_view_count">123</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19379646);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19379646', targetLink: 'https://www.cnblogs.com/aqi00/p/19379646', title: 'FFmpegå¼åç¬è®°ï¼ä¹åä¹ï¼åºäºKotlinçå½äº§å¼æºæ­æ¾å¨DKVideoPlayer' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ å¤§æ¨¡åæ¦åå¨æ¥ï¼2026/1/17ï¼ ]]></title>
    <link>https://www.cnblogs.com/xjk15082/p/19495655</link>
    <guid>ba3da5ed5a8a3deb587c8718f782bccc</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/xjk15082/p/19495655" title="åå¸äº 2026-01-17 12:01">
    <span role="heading" aria-level="2">å¤§æ¨¡åæ¦åå¨æ¥ï¼2026/1/17ï¼</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h3 id="1-æ¬å¨æ¦è§">1. æ¬å¨æ¦è§</h3>
<p>æ¬å¨å¤§æ¨¡åé¢åç»§ç»­ä¿æå¿«éåå±æå¿ï¼åå¤§ååå¨å»çAIãè§é¢çæãä»£ç è½åç­å¤ä¸ªé¢ååå¾æ¾èè¿å±ãOpenRouteræ¨¡åè°ç¨éæååçéè¦ååï¼Claudeç³»åæ¨¡åè¡¨ç°æ¢ç¼ï¼ç¾åº¦æ°æ¨¡åERNIE-5.0-0110å¨å¨çLMArenaææ¬æè¡æ¦ä¸æåç¬¬å«ï¼å±ç°äºä¸­å½æ¨¡åçå¼ºå²å®åã</p>
<h3 id="2-éç¹å³æ³¨äºä»¶">2. éç¹å³æ³¨äºä»¶</h3>
<ul>
<li>DeepSeekä¸åäº¬å¤§å­¦åä½åè¡¨å³äºæ¡ä»¶è®°å¿ï¼conditional memoryï¼çæ°è®ºæï¼æåºEngramæ¨¡åï¼æææåæ¨¡åæ£ç´¢æç</li>
<li>Anthropicæ¨åºå·¥ä½åºæ¯æºè½ä½Claude Coworkï¼ç±Claude Codeèªä¸»å¼åï¼ä½ç°äºAGIå¨å®éåºç¨ä¸­çæ½å</li>
<li>è°·æ­åå¸æ°ä¸ä»£å¼æºå»çAIæ¨¡åMedGemma 1.5åMedASRè¯­é³è¯å«æ¨¡åï¼è¿ä¸æ­¥æ©å±å¨å»çAIé¢åçå¸å±</li>
<li>è°·æ­Veo 3.1æ´æ°æ¯æ9:16ç«å±è§é¢å4Kåè¾¨çï¼è§é¢çæè½åæç»­æå</li>
<li>æºè°±ä¸åä¸ºåä½å¼æºå¾åçææ¨¡åGLM-Imageï¼ç»é¡¶å¤æè§è§æå­çæåé¿ææ¬æ¸²æåæ¦é¦</li>
<li>é¿éåé®APPä¸çº¿è¶400é¡¹AIåäºåè½ï¼æ¥å¥é¿éçæï¼æä¸ºå¨çé¦ä¸ªè½å®æçå®çæ´»å¤æä»»å¡çAIå©æ</li>
<li>OpenAIæ¨åºç¬ç«ç¿»è¯é¡µé¢ChatGPT Translateï¼æå±åºç¨åºæ¯</li>
<li>ç¾åº¦ERNIE-5.0-0110å¨å¨çLMArenaææ¬æè¡æ¦ä¸æåç¬¬å«ï¼è¶è¶å¤ä¸ªé¢åæ¨¡å</li>
</ul>
<h3 id="3-æ¦ååå">3. æ¦ååå</h3>
<ul>
<li>
<p><strong>OpenRouteræ¨¡åè°ç¨éæå</strong>ï¼</p>
<ul>
<li>æ´ä½è°ç¨éæ¹é¢ï¼Claude Opus 4.5è¶è¶ä¸å¨æ¦é¦Claude Sonnet 4.5ï¼ä½åç¬¬1ï¼MiMo-V2-Flash(free)ä¸åä¸¤åï¼æåç¬¬3ï¼Gemini 3 Flash Previewç±ç¬¬4åä¸éè³ç¬¬5å</li>
<li>æ¨¡åå¸å çæ¹é¢ï¼Googleä¿æç¬¬1ï¼Anthropicå¸å çä¸å4.2%ï¼17.2% â 21.5%ï¼ï¼è¿ç»­ä¸¤å¨ä¸å8.5%ï¼OpenAIå¸å çä¸å3.1%ï¼8.0% â 11.1%ï¼ï¼Qwenä¸åè³ç¬¬8åï¼æ¿ä»£äºä¸å¨MiniMaxçä½ç½®</li>
<li>ç¼ç¨è°ç¨éæ¹é¢ï¼Claude Opus 4.5ä¿æç¬¬1ï¼Claude Sonnet 4.5æåä¸å2åï¼æåç¬¬3ï¼DeepSeek V3.2éåååï¼æåç¬¬8</li>
</ul>
</li>
<li>
<p><strong>å¤§è¯­è¨æ¨¡åæ¦å</strong>ï¼ERNIE-5.0-0110æ°ä¸æ¦ï¼æåç¬¬8ï¼è¶è¿GPT-5.1ï¼highï¼ï¼ç¸æ¯ERNIE-5.0-preview-1203çæ¬ä¸åäº6åï¼è¯¥æ¨¡ååºäºé¢åå¸æµè¯ï¼è¯åå¯è½éçå¬å¼åå¸åçåé¦èåå</p>
</li>
<li>
<p><strong>å¾åç¼è¾è½åæ¦å</strong>ï¼flux-2-maxåflux-2-proæ°ä¸æ¦ï¼åå«æåç¬¬8ãç¬¬9</p>
</li>
<li>
<p><strong>æçå¾è½åæ¦å</strong>ï¼FLUX.2 [dev]Turboæ°ä¸æ¦ï¼æåç¬¬10</p>
</li>
<li>
<p><strong>GAIAæ¦å</strong>ï¼JoinAI V2.2ç»é¡¶æ¦é¦ï¼å¾åè¾¾90.7%</p>
</li>
</ul>
<h3 id="4-æè¡æ¦">4. æè¡æ¦</h3>
<table>
<thead>
<tr>
<th>æµè¯ç±»å</th>
<th>ç¬¬ä¸å</th>
<th>ç¬¬äºå</th>
<th>ç¬¬ä¸å</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ¨¡åè°ç¨é</td>
<td>Claude Opus 4.5</td>
<td>Claude Sonnet 4.5</td>
<td>MiMo-V2-Flash(free)</td>
</tr>
<tr>
<td>å¬å¸å¸å ç</td>
<td>Google</td>
<td>Anthropic</td>
<td>OpenAI</td>
</tr>
<tr>
<td>ç¼ç¨æ¨¡åè°ç¨é</td>
<td>Claude Opus 4.5</td>
<td>Grok Code Fast 1</td>
<td>Claude Sonnet 4.5</td>
</tr>
</tbody>
</table>
<h4 id="åå¬å¸æä¸åè½åé¢åæåæ±æ»">åå¬å¸æä¸åè½åé¢åæåæ±æ»</h4>
<table>
<thead>
<tr>
<th>æµè¯ç±»å</th>
<th>é¢åå¬å¸</th>
</tr>
</thead>
<tbody>
<tr>
<td>å¤§è¯­è¨æ¨¡å Text Arena</td>
<td>GoogleãxAIãAnthropicãç¾åº¦ãOpenAIãæºè°±ãé¿éå·´å·´ãæä¹æé¢</td>
</tr>
<tr>
<td>ç¼ç¨è½å LMArena</td>
<td>AnthropicãOpenAIãGoogleãæºè°±ãMiniMax</td>
</tr>
<tr>
<td>ç¼ç¨è½å LiveCodeBench</td>
<td>OpenAIãAnthropicãGoogle</td>
</tr>
<tr>
<td>ä»£ç å·¥ç¨ä»»å¡è½å SWE-benchLite</td>
<td>åºäºClaudeãGeminiãGPTãQwenãDeepSeekå¼åçå¼æºç³»ç»</td>
</tr>
<tr>
<td>å¾åç¼è¾åçæè½å Image Edit Arena</td>
<td>OpenAIãGoogleãå­èãBlack Forest LabsãReve</td>
</tr>
<tr>
<td>æçå¾è½å Text-to-Image Arena</td>
<td>OpenAIãGoogleãBlack Forest Labsãè¾è®¯ãå­è</td>
</tr>
<tr>
<td>æçå¾è½å Text to Image Leaderboard</td>
<td>OpenAIãGoogleãBlack Forest Labsãå­èãImagineArt</td>
</tr>
<tr>
<td>GPQA</td>
<td>OpenAIãGoogleãxAIãAnthropicãé¿éå·´å·´</td>
</tr>
<tr>
<td>FrontierMath</td>
<td>OpenAIãGoogleãDeepSeekãæä¹æé¢ãAnthropicãxAI</td>
</tr>
<tr>
<td>Humanity's Last Exam</td>
<td>GoogleãOpenAIãAnthropic</td>
</tr>
<tr>
<td>GAIA</td>
<td>JoinAIãNvidiaãSuzhou AI Lab&amp;Shuqian TechãMicrosoft AI Asia -Ads</td>
</tr>
</tbody>
</table>
<hr>
<p>å³æ³¨æï¼ç¬¬ä¸æ¶é´ææ¡æ´å¤AIåæ²¿èµè®¯ï¼</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-17 12:02">2026-01-17 12:01</span>&nbsp;
<a href="https://www.cnblogs.com/xjk15082">KAIæºä¹ </a>&nbsp;
éè¯»(<span id="post_view_count">150</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19495655);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19495655', targetLink: 'https://www.cnblogs.com/xjk15082/p/19495655', title: 'å¤§æ¨¡åæ¦åå¨æ¥ï¼2026/1/17ï¼' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ åè¾¹å½¢ä¸ç­å¼ç¸å³ ]]></title>
    <link>https://www.cnblogs.com/rgw2010/p/19498451</link>
    <guid>0a259ffcf2bdca146d6cce1320893455</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/rgw2010/p/19498451" title="åå¸äº 2026-01-18 14:15">
    <span role="heading" aria-level="2">åè¾¹å½¢ä¸ç­å¼ç¸å³</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        åè¾¹å½¢ä¸ç­å¼ç¸å³
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="åè¾¹å½¢ä¸ç­å¼">åè¾¹å½¢ä¸ç­å¼</h2>
<p>æä»¬ç§°ä¸ä¸ªäºåå½æ° <span class="math inline">\(w(i, j)\)</span> æ»¡è¶³åè¾¹å½¢ä¸ç­å¼ï¼å½ä¸ä»å½å¯¹äºä»»æ <span class="math inline">\(a \le b \le c \le d\)</span> æ»¡è¶³ï¼</p>
<p></p><div class="math display">\[w(a, c) + w(b, d) \le w(a, d) + w(b, c)
\]</div><p></p><p>å³äº¤åå°äºåå«ã</p>
<p>å¶å¯ä»¥ç¨æ¥å¯¹è½¬ç§»è¿è¡ä¼åï¼å·ä½çï¼è®¾ï¼</p>
<p></p><div class="math display">\[f(i) = \min_{j \le i} w(j, i)
\]</div><p></p><p>å®ä¹ <span class="math inline">\(\operatorname{opt}(i)\)</span> è¡¨ç¤ºè®¡ç® <span class="math inline">\(f(i)\)</span> æ¶æä¼çé£ä¸ªå³ç­ç¹ <span class="math inline">\(j\)</span>ï¼ç§°å¶æ»¡è¶³<strong>å³ç­åè°æ§</strong>å½ä¸ä»å½å¯¹äºä»»æ <span class="math inline">\(i &lt; j\)</span> æ»¡è¶³ <span class="math inline">\(\operatorname{opt}(i) \le \operatorname{opt}(j)\)</span>ã</p>
<p><strong>æ§è´¨ <span class="math inline">\(1\)</span>ï¼</strong></p>
<blockquote>
<p>è¥ <span class="math inline">\(w(i, j)\)</span> æ»¡è¶³åè¾¹å½¢ä¸ç­å¼ï¼å <span class="math inline">\(f(i)\)</span> æ»¡è¶³å³ç­åè°æ§ã</p>
</blockquote>
<p>èèåè¯æ³ï¼è¥å­å¨ <span class="math inline">\(i &lt; j\)</span> ä¸ <span class="math inline">\(x = \operatorname{opt}(i) &gt; y = \operatorname{opt}(j)\)</span>ï¼é£ä¹æ ¹æ®å®ä¹æ <span class="math inline">\(w(x, j) \ge w(y, j), w(y, i) \ge w(x, i)\)</span>ï¼äºæ¯ <span class="math inline">\(w(x, j) + w(y, i) \ge w(y, j) + w(x, i)\)</span>ï¼è¿åäºåè¾¹å½¢ä¸ç­å¼ï¼äºæ¯å¾è¯ã</p>
<p><strong>æ§è´¨ <span class="math inline">\(2\)</span>ï¼</strong></p>
<blockquote>
<p>å¦æå¯¹äºä»»æ <span class="math inline">\(i, j\)</span> æ»¡è¶³ <span class="math inline">\(w(i, j) + w(i + 1, j + 1) \le w(i, j + 1) + w(i + 1, j)\)</span>ï¼é£ä¹ <span class="math inline">\(w\)</span> æ»¡è¶³åè¾¹å½¢ä¸ç­å¼ã</p>
</blockquote>
<p>è¯ææ¯è¾æ¾ç¶ï¼èè <span class="math inline">\(w(i + 1, j) + w(i, j + 1) - w(i, j) - w(i + 1, j + 1) \ge 0\)</span>ï¼è¿è¡¨ç¤º <span class="math inline">\(w\)</span> çäºç»´å·®åç©éµéè´ï¼äºæ¯èå¯å¶äºç»´å·®åç©éµä¸ä¸ä¸ªå­ç©éµ <span class="math inline">\((b + 1, d + 1), (a, c)\)</span> çåå¿ç¶ä¹éè´ï¼å³ <span class="math inline">\(w(a, d) - w(a, c) - w(b, d) + w(b, c) \ge 0\)</span>ï¼è¿æ¯åè¾¹å½¢ä¸ç­å¼çå®ä¹ã</p>
<hr>
<p>ä¸é¢é£ä¸ªå³ç­åè°æ§å¤ªç¹æ®äºï¼åªå¯¹ <span class="math inline">\(f(i) = \min w(j, i)\)</span> çæï¼æè§æ²¡æä»ä¹å®éç¨éï¼ä¸è¬é½æ¯è¿ç§é®é¢ï¼å°åºååæ®µä½¿å¾æå¼æå°ï¼å³ï¼</p>
<p></p><div class="math display">\[f(i) = \min_{j \le i} f(j - 1) + w(j, i)
\]</div><p></p><p>è¿ç§æä¹åï¼èèï¼</p>
<p><strong>æ§è´¨ <span class="math inline">\(3\)</span>ï¼</strong></p>
<blockquote>
<p>è¥ <span class="math inline">\(w(i, j)\)</span> æ»¡è¶³åè¾¹å½¢ä¸ç­å¼ï¼å <span class="math inline">\(w(i, j) = x_i + y_j\)</span> ä¹æ»¡è¶³ã</p>
</blockquote>
<p>è¿æ¯æ¾ç¶çï¼å¸¦å¥è¿å»æ <span class="math inline">\(x, y\)</span> é½æ¶æäºã</p>
<p>äºæ¯åªéè¦ <span class="math inline">\(w(i, j)\)</span> æ»¡è¶³åè¾¹å½¢ä¸ç­å¼ï¼åä¸é¢ <span class="math inline">\(f(i)\)</span> çè½¬ç§»ä¹æ»¡è¶³å³ç­åè°æ§ã</p>
<p>å¦æå¼ºå¶é¦å®äºè¦å <span class="math inline">\(k\)</span> æ®µï¼å¯ä»¥æ ¹æ®æåµä½¿ç¨ wqs äºåæèå¤å ä¸ç»´è§£å³ã</p>
<hr>
<p>èè <span class="math inline">\(w(l, r)\)</span> å¯è½æ¯ <span class="math inline">\(\sum_{l \le i \le j \le r} c(i, j)\)</span> çå½¢å¼ï¼</p>
<p><strong>æ§è´¨ <span class="math inline">\(4\)</span>ï¼</strong></p>
<blockquote>
<p>è¥ <span class="math inline">\(c(i, j) \ge 0\)</span>ï¼å <span class="math inline">\(w(l, r) = \sum_{l \le i \le j \le r} c(i, j)\)</span> æ»¡è¶³åè¾¹å½¢ä¸ç­å¼ã</p>
</blockquote>
<p>èèè¯æ <span class="math inline">\(w(x, y) + w(x + 1, y + 1) \le w(x, y + 1) + w(x + 1, y)\)</span>ï¼èèæè´¡ç® <span class="math inline">\(x + 1 \le i \le j \le y\)</span> ç <span class="math inline">\((i, j)\)</span> å¯¹ä¸¤è¾¹è´¡ç®æ¯ç¸åçï¼ç¶åå·¦è¾¹æ¯ <span class="math inline">\(\sum_{i = x, j \in [x, y]} c_{i, j} + \sum_{i \in [x + 1, y + 1], j = y + 1} c_{i, j}\)</span>ï¼ç¶åå³è¾¹ <span class="math inline">\(w(x, y + 1)\)</span> å»æ <span class="math inline">\(x + 1 \le i \le j \le y\)</span> ç <span class="math inline">\((i, j)\)</span> åæ¯ <span class="math inline">\(\sum_{i = x,j \in [x, y + 1]} c(i, j) + \sum_{i \in [x, y + 1], j = y + 1} c(i, j)\)</span>ï¼äºæ¯å³è¾¹å¤èèäº <span class="math inline">\(c(x, y + 1)\)</span>ï¼å¾è¯ã</p>
<h3 id="ä¾é¢">ä¾é¢</h3>
<h3 id="p1880-noi1995-ç³å­åå¹¶"><a href="https://www.luogu.com.cn/problem/P1880" target="_blank" rel="noopener nofollow">P1880 [NOI1995] ç³å­åå¹¶</a></h3>
<p>èèåºé´ dpï¼å®ä¹ <span class="math inline">\(dp(l, r)\)</span> è¡¨ç¤ºå°åºé´ <span class="math inline">\([l, r]\)</span> åå¹¶çæå°ä»£ä»·ï¼äºæ¯æè½¬ç§»ï¼</p>
<p></p><div class="math display">\[dp(l, r) = (s_r - s_{l - 1}) + \min\limits_{k = l}^{r - 1} (dp(l, k) + dp(k + 1, r))
\]</div><p></p><p>é¦å® <span class="math inline">\(l\)</span> åºå®æ¶ï¼æ <span class="math inline">\(w(i, j) = dp(l, i) + dp(i + 1, j)\)</span> ï¼èèè¯æ <span class="math inline">\(w(i, j)\)</span> æ»¡è¶³åè¾¹å½¢ä¸ç­å¼ï¼ä½ æ¨ä¸å¼å­åç°ç­ä»·äºè¯æ <span class="math inline">\(dp(i, j)\)</span> æ»¡è¶³åè¾¹å½¢ä¸ç­å¼ã</p>
<p>è¿é <span class="math inline">\(dp(i, j)\)</span> æ»¡è¶³åè¾¹å½¢ä¸ç­å¼çåè¦æ¡ä»¶æ¯ <span class="math inline">\(h(i, j) = s_i - s_{j - 1}\)</span> ä¹æ»¡è¶³åè¾¹å½¢ä¸ç­å¼ä¸æ»¡è¶³åºé´åå«åè°æ§ï¼å¯ä»¥å¯¹é¿åº¦æ°å­¦å½çº³åå¾å°ã</p>
<p>ç¶åä½ åç°ä¸é¢åºå®å³ç«¯ç¹ <span class="math inline">\(r\)</span> æ¶ä¹æå³ç­åè°æ§ï¼äºæ¯æ <span class="math inline">\(\operatorname{opt}(l, r) \in [\operatorname{opt}(l, r - 1), \operatorname{opt}(l + 1, r)]\)</span>ï¼æä»¥è¿æ ·æä¸¾å³ç­ç¹æ¶é´å¤æåº¦å°±æ¯ <span class="math inline">\(O(n^2)\)</span> çã</p>
<p><a href="https://www.luogu.com.cn/record/257701529" target="_blank" rel="noopener nofollow">link</a></p>
<p>äºæ¯å¯ä»¥å¾å°<strong>æ§è´¨ <span class="math inline">\(5\)</span></strong>ï¼</p>
<blockquote>
<p>è®¾ <span class="math inline">\(w(l, r)\)</span> æ»¡è¶³åè¾¹å½¢ä¸ç­å¼ä¸æ»¡è¶³åºé´åå«åè°æ§ï¼è¥ <span class="math inline">\(dp(l, r) = w(l, r) + \min\limits_{k = l}^{r - 1} (dp(l, k) + dp(k + 1, r))\)</span>ï¼é£ä¹ <span class="math inline">\(dp(l, r)\)</span> ä¹æ»¡è¶³åè¾¹å½¢ä¸ç­å¼ï¼ä¸åºå® <span class="math inline">\(l\)</span> æèåºå® <span class="math inline">\(r\)</span> æ¶é½æ»¡è¶³å³ç­åè°æ§ï¼å³ <span class="math inline">\(\operatorname{opt}(l, r) \in [\operatorname{opt}(l, r - 1), \operatorname{opt}(l + 1, r)]\)</span>ã</p>
</blockquote>
<p><a href="https://www.luogu.com.cn/problem/UVA10304" target="_blank" rel="noopener nofollow">ç±»ä¼¼é¢ç® UVA10304 Optimal Binary Search Tree</a>ã</p>
<h3 id="cf868f-yet-another-minimization-problem"><a href="https://www.luogu.com.cn/problem/CF868F" target="_blank" rel="noopener nofollow">CF868F Yet Another Minimization Problem</a></h3>
<p>èè <span class="math inline">\(c(i, j) = [a_i = a_j]\)</span>ï¼é£ä¹ <span class="math inline">\(w(l, r) = \sum_{l \le i \le j \le r} c(i, j)\)</span> æ»¡è¶³åè¾¹å½¢ä¸ç­å¼ï¼äºæ¯ <span class="math inline">\(dp\)</span> æ¶ï¼</p>
<p></p><div class="math display">\[dp_{i, j} = \min_{k \le i} dp_{k - 1, j - 1} + w(k, i)
\]</div><p></p><p>è¿ä¸ªæä¼å³ç­ <span class="math inline">\(k\)</span> å·æåè°æ§ï¼èèç¨åæ²»ä¸æ´ä½äºåçææ³è§£å³ã</p>
<p>å³æä»¬å®ä¹ <span class="math inline">\(solve(l, r, kl, kr)\)</span> è¡¨ç¤ºç®åå¨è½¬ç§» <span class="math inline">\([l, r]\)</span> åçç¹ï¼å¶æä¼å³ç­ç¹å¨ <span class="math inline">\([kl, kr]\)</span> åï¼é£ä¹å¯ä»¥æ´åç®åº <span class="math inline">\(mid\)</span> çæä¼å³ç­ç¹ <span class="math inline">\(kmid\)</span>ï¼ç¶åéå½å° <span class="math inline">\(solve(l, mid - 1, kl, kmid), solvew(mid + 1, r, kmid, kr)\)</span>ï¼æ¾ç¶éå½å±æ°ä½¿ç¨ <span class="math inline">\(\log n\)</span> å±ï¼ä¸æ¯å± <span class="math inline">\([kl, kr]\)</span> çæ»é¿åº¦æ¯ <span class="math inline">\(O(n)\)</span> çº§å«çï¼äºæ¯åæ¬¡æ¶é´å¤æåº¦æ¯ <span class="math inline">\(O(n \log n)\)</span>ã</p>
<p>ç°å¨é®é¢å¨äºå¦ä½å¿«éç® <span class="math inline">\(w(l, r)\)</span>ï¼ä½ èèç¨ç±»ä¼¼è«éçèµ°æéæ¹å¼è§£å³ï¼ä½ åç°æ¯æ¬¡ç§»å¨çé¿åº¦æ¯ <span class="math inline">\(O(len)\)</span> çº§å«çï¼äºæ¯æç»æ¯ <span class="math inline">\(O(n \log n)\)</span> æ¬¡ã</p>
<p>æ»æ¶é´å¤æåº¦ä¸º <span class="math inline">\(O(nk \log n)\)</span>ã</p>
<p><a href="https://codeforces.com/contest/868/submission/358031012" target="_blank" rel="noopener nofollow">link</a></p>
<h3 id="p3515-poi-2011-lightning-conductor"><a href="https://www.luogu.com.cn/problem/P3515" target="_blank" rel="noopener nofollow">P3515 [POI 2011] Lightning Conductor</a></h3>
<p>è¿é¢ä½ æ¨ä¸ä¸å¼å­ï¼è¥å¯¹äº <span class="math inline">\(i\)</span> çç­æ¡æ¯ <span class="math inline">\(k\)</span>ï¼é£ä¹è¦å¯¹äºææ <span class="math inline">\(j\)</span> æ»¡è¶³ï¼</p>
<p></p><div class="math display">\[k + h_i \ge h_j + \sqrt{|i - j|}
\]</div><p></p><p></p><div class="math display">\[k \ge h_j + \sqrt{|i - j}| - h_i
\]</div><p></p><p>äºæ¯ï¼</p>
<p></p><div class="math display">\[k = \lceil\max_{j} h_j + \sqrt{|i - j|} \rceil - h_i
\]</div><p></p><p>èèæä¹ç® <span class="math inline">\(h_j + \sqrt{|i - j|}\)</span>ï¼è¿éåè®¨ <span class="math inline">\(j &lt; i\)</span> å <span class="math inline">\(j &gt; i\)</span> ä¸¤ç§æåµç®å°±å¯ä»¥å»æç»å¯¹å¼ï¼ç¶å <span class="math inline">\(w(i, j) = \sqrt{i - j}\)</span>ï¼å®¹æåç° <span class="math inline">\(w\)</span> æ»¡è¶³åè¾¹å½¢ä¸ç­å¼ï¼äºæ¯æå³ç­åè°æ§ã</p>
<p>äºæ¯åæ²»è§£å³å³å¯ï¼æ¶é´å¤æåº¦ä¸º <span class="math inline">\(O(n \log n)\)</span>ã</p>
<p><a href="https://www.luogu.com.cn/record/257708247" target="_blank" rel="noopener nofollow">link</a></p>
<h3 id="p4767-ioi-2000-é®å±-å å¼ºç"><a href="https://www.luogu.com.cn/problem/P4767" target="_blank" rel="noopener nofollow">P4767 [IOI 2000] é®å± å å¼ºç</a></h3>
<p>æ¾ç¶å¯¹äºæ¯ä¸ªè®¾ç«çé®å±ï¼å°å¶è·ç¦»æè¿çæåºéåæ¯éåï¼äºæ¯å¯ä»¥è®¾ç«ç¶æ <span class="math inline">\(dp_{i, j}\)</span> è¡¨ç¤ºèèå <span class="math inline">\(i\)</span> ä¸ªæåºæ¾äº <span class="math inline">\(j\)</span> ä¸ªé®å±çæå°ä»£ä»·ï¼</p>
<p></p><div class="math display">\[dp_{i, j} = \min\limits_{k &lt; i} dp_{k, j - 1} + w(k + 1, i)
\]</div><p></p><p>å¶ä¸­ <span class="math inline">\(w(l, r)\)</span> è¡¨ç¤ºå¨åºé´ <span class="math inline">\([l, r]\)</span> åæ¾ä¸ä¸ªé®å±çæå°ä»£ä»·ï¼æ¾ç¶å°é®å±æ¾å¨ä¸­ä½æ°ä½ç½®æä¼ï¼äºæ¯å¯ä»¥å¢ééæ¨ï¼</p>
<p></p><div class="math display">\[w(l, r) = w(l, r - 1) + a_r - a_{\frac{l + r}{2}}
\]</div><p></p><p>ä½ åç° <span class="math inline">\(w\)</span> æ»¡è¶³åè¾¹å½¢ä¸ç­å¼ï¼äºæ¯æä»¬æç§ <span class="math inline">\(j\)</span> åå±æ¯å±åæ²»è®¡ç®å³å¯ï¼æ¶é´å¤æåº¦ä¸º <span class="math inline">\(O(nk \log n)\)</span>.</p>
<p><a href="https://www.luogu.com.cn/record/257712110" target="_blank" rel="noopener nofollow">link</a></p>
<blockquote>
<p>è¿éè¯æä¸ä¸ä¸é¢ç <span class="math inline">\(w\)</span> æ»¡è¶³åè¾¹å½¢ä¸ç­å¼ï¼å³ <span class="math inline">\(w(i, j) + w(i + 1, j + 1) \le w(i, j + 1) + w(i + 1, j)\)</span>ï¼é¦åæ³¨æå° <span class="math inline">\([i, j + 1]\)</span> ä¸ <span class="math inline">\([i + 1, j]\)</span> çä¸­ä½æ°ä¸æ ·ï¼è®¾ä¸º <span class="math inline">\(k\)</span>ï¼</p>
<p>é£ä¹ <span class="math inline">\(w(i, j + 1) = w(i + 1, j) + a_k - a_i + a_{j + 1} - a_k = w(i + 1, j) + a_{j + 1} - a_i\)</span>ï¼äºæ¯ <span class="math inline">\(w(i, j + 1) + w(i + 1, j) = 2w(i + 1, j) + a_{j + 1} - a_i\)</span>ã</p>
<p>ç¶åæ ¹æ® <span class="math inline">\(w\)</span> çæå°æ§çå®ä¹ï¼å¯ä»¥å¾å° <span class="math inline">\(w(i, j) \le w(i + 1, j) + a_k - a_i, w(i + 1, j + 1) \le w(i + 1, j) + a_{j + 1} - a_k\)</span>ï¼äºæ¯ <span class="math inline">\(w(i, j) + w(i + 1, j + 1) \le 2w(i + 1, j) + a_{j + 1} - a_i = w(i, j + 1) + w(i + 1, j)\)</span> å¾è¯ã</p>
</blockquote>
<h3 id="p10861-hbcpc2024-macaron-likes-happy-endings"><a href="https://www.luogu.com.cn/problem/P10861" target="_blank" rel="noopener nofollow">P10861 [HBCPC2024] MACARON Likes Happy Endings</a></h3>
<p><a href="https://www.luogu.com.cn/article/rp1evt7i" target="_blank" rel="noopener nofollow"><strong>æ´è°·åæ­¥é¢è§£ã</strong></a></p>
<p>ä»¤ <span class="math inline">\(s\)</span> ä¸ºåç¼å¼æï¼é£ä¹ <span class="math inline">\(c(i, j) = [s_j \oplus s_{i - 1} = d] \ge 0\)</span>ï¼äºæ¯ <span class="math inline">\(w(l, r) = \sum_{l \le i \le j \le r}\)</span> æ»¡è¶³åè¾¹å½¢ä¸ç­å¼ï¼äºæ¯ <span class="math inline">\(dp\)</span> æ¶ï¼</p>
<p></p><div class="math display">\[dp_{i, j} = \min_{k \le i} dp_{k - 1, j - 1} + w(k, i)
\]</div><p></p><p>ç¶ååæ²»å»åï¼è®¡ç® <span class="math inline">\(w(k, i)\)</span> å¯ä»¥ç®åèµ°æéè®¡ç®ï¼äºæ¯æ¶é´å¤æåº¦æ¯ <span class="math inline">\(O(nk \log n)\)</span> çã</p>
<p><a href="https://www.luogu.com.cn/record/258048999" target="_blank" rel="noopener nofollow">link</a></p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.002777777777777778" data-date-updated="2026-01-18 14:19">2026-01-18 14:15</span>&nbsp;
<a href="https://www.cnblogs.com/rgw2010">rgw2010</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19498451);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19498451', targetLink: 'https://www.cnblogs.com/rgw2010/p/19498451', title: 'åè¾¹å½¢ä¸ç­å¼ç¸å³' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
        </channel>
        </rss>