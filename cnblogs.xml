<?xml version="1.0" encoding="UTF-8" ?>
    <rss version="2.0">
    <channel>
        <title><![CDATA[ ä¸»é¡µ - åå®¢å­ ]]></title>
        <link><![CDATA[ https://www.cnblogs.com/ ]]></link>
        <lastBuildDate>2026-01-23T04:40:07.190Z</lastBuildDate>
        <description><![CDATA[
        ä¸»é¡µ - åå®¢å­ RSS
    ]]></description>
        <language>zh-cn</language>
        <item>
    <title><![CDATA[ Julia, ç§å­¦è®¡ç®ä¸é«æ§è½ç¼ç¨è¯­è¨ ]]></title>
    <link>https://www.cnblogs.com/boyogala/p/19521607</link>
    <guid>89d0bdf8b2955092e979dcef2d1662c4</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/boyogala/p/19521607" title="åå¸äº 2026-01-23 12:34">
    <span role="heading" aria-level="2">Julia, ç§å­¦è®¡ç®ä¸é«æ§è½ç¼ç¨è¯­è¨</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<section id="nice" data-tool="mdniceç¼è¾å¨" data-website="https://www.mdnice.com"><h1 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">Julia, ç§å­¦è®¡ç®ä¸é«æ§è½ç¼ç¨è¯­è¨</span><span class="suffix"></span></h1>
<p data-tool="mdniceç¼è¾å¨">Juliaï¼julialang.orgï¼ç±Stefan KarpinskiãJeff Bezansonç­å¨2009å¹´åå»ºï¼ç®æ æ¯èåPythonçæç¨æ§ãCçé«æ§è½ãRçç»è®¡è½åãMatlabçç§å­¦è®¡ç®çæã</p>
<p data-tool="mdniceç¼è¾å¨"><strong>å¶æ ¸å¿è®¾è®¡å²å­¦æ¯</strong>ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section>é«æ§è½ï¼ç¼è¯åè¯­è¨ï¼JITï¼ï¼æ¥è¿C/Fortranæ§è½ã</section></li><li><section>å¤é¢åç»ä¸ï¼ä¸ä¸ªè¯­è¨è§£å³ç§å­¦è®¡ç®ãæ°æ®ç§å­¦ãæºå¨å­¦ä¹ ãå¯è§åç­å¨æ é®é¢ã</section></li><li><section>çææ´»è·ï¼2023å¹´PyPIåä¸è½½éè¶500ä¸æ¬¡ï¼ç¤¾åºå¹´å¢é¿40%+ã</section></li></ul>
<p data-tool="mdniceç¼è¾å¨">â å³é®ä¼å¿æ»ç»ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section>éåº¦ï¼æ°å¼è®¡ç®æ§è½âC/Fortranï¼è¿è¶Python/Rï¼å®æµï¼ç©éµä¹æ³å¿«20-100åï¼ã</section></li><li><section>æç¨æ§ï¼è¯­æ³ç±»ä¼¼Pythonï¼ä½ç±»åç³»ç»æä¾ç¼è¯ä¼åã</section></li><li><section>çææ´åï¼æ éåæ¢è¯­è¨ï¼ä¸ä¸ªç¯å¢å®æä»æ°æ®å°é¨ç½²çå¨æµç¨ã</section></li></ul>
<hr data-tool="mdniceç¼è¾å¨">
<p data-tool="mdniceç¼è¾å¨">ä½ä¸ºä¸é¨æ°å´çç§å­¦è®¡ç®è¯­è¨ï¼Juliaæ­£å¨è¿éæ¹åç§ç åå·¥ç¨é¢åçè®¡ç®èå¼ãèª2012å¹´ç±MITå¢éæ¨åºä»¥æ¥ï¼Juliaä»¥å¶ç¬ç¹çè®¾è®¡å²å­¦ââ**"ä¸æ¬¡ç¼åï¼é«æè¿è¡"**ï¼æåèåäºå¨æè¯­è¨çæç¨æ§ä¸éæè¯­è¨çé«æ§è½ï¼ä¸ºè§£å³"ä¸¤è¯­è¨é®é¢"æä¾äºé©å½æ§æ¹æ¡ã</p>
<h3 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">ä¸ãJuliaè¯­è¨æ ¸å¿ä¼å¿</span><span class="suffix"></span></h3>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">1. é«æ§è½è®¡ç®è½å</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">Juliaç<strong>JITç¼è¯</strong>æºå¶æ¯å¶é«æ§è½çåºç¡ï¼éè¿åºäºLLVMçå³æ¶ç¼è¯å¨ï¼Juliaè½å¤å°å¨æç±»åä»£ç ç¼è¯ä¸ºæ¥è¿C/Fortranæ§è½çåçæºå¨ç ãå¨å®éåºç¨ä¸­ï¼Juliaçæ§è½è¡¨ç°å¦ä¸ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>æ°å¼è®¡ç®</strong>ï¼ç©éµä¹æ³æ¯Pythonå¿«20-100å</section></li><li><section><strong>å¾ªç¯è®¡ç®</strong>ï¼100ä¸æ¬¡å¾ªç¯æ±åæ¯Pythonå¿«75å</section></li><li><section><strong>é«ç²¾åº¦è®¡ç®</strong>ï¼BigFloatçä¹æ³æä½ä»æ¯CçMPFRå®ç°æ¢5-10%</section></li><li><section><strong>ç§å­¦è®¡ç®</strong>ï¼å¾®åæ¹ç¨æ±è§£æ§è½ä¸Fortranç¸å½ææ´ä¼</section></li></ul>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">2. ç±»åç³»ç»ä¸å¤åæ´¾æºå¶</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">Juliaç<strong>å¤åæ´¾ï¼Multiple Dispatchï¼</strong>æºå¶æ¯å¶ææ ¸å¿çåæ°ï¼ä¹æ¯æ§è½ä¼åçå³é®ãå¤åæ´¾åè®¸å½æ°æ ¹æ®<strong>ææåæ°ç±»å</strong>å¨æéæ©æä¼å®ç°ï¼èéä»åºäºæ¥æ¶èç±»åï¼è¿ä½¿å¾ä»£ç æ¢ä¿æäºå¨æç±»åççµæ´»æ§ï¼åè·å¾äºæ¥è¿éæè¯­è¨çæ§è½ã</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>ç±»åæ¨æ­</strong>ï¼ç¼è¯å¨èªå¨æ¨æ­ç±»åï¼åå°è¿è¡æ¶å¼é</section></li><li><section><strong>ç±»åç¨³å®æ§</strong>ï¼éè¿<code>@code_warntype</code>å¯è§åç±»åæ¨æ­è¿ç¨</section></li><li><section><strong>åæ°å¤æ</strong>ï¼æ¯ææ³åç¼ç¨ï¼æé«ä»£ç å¤ç¨æ§</section></li></ul>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">3. ç»ä¸çå¨æ çæç³»ç»</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">Juliaæä¾äºä¸ä¸ª<strong>ç»ä¸çå¨æ ç¯å¢</strong>ï¼ä½¿å¼åèè½å¤å¨ä¸ä¸ªè¯­è¨ç¯å¢ä¸­å®æä»æ°æ®å¤çå°æ¨¡åè®­ç»ãå¯è§åå±ç¤ºåå°é¨ç½²çå®æ´å·¥ä½æµï¼æ éå¨PythonãRãMatlabåC/Fortranä¹é´åæ¢ã</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>æ°æ®ç§å­¦</strong>ï¼DataFrames.jlãCSV.jlç­å·¥å·å</section></li><li><section><strong>å¯è§å</strong>ï¼Plots.jlãGLMakieç­å¯è§ååº</section></li><li><section><strong>æºå¨å­¦ä¹ </strong>ï¼Flux.jlãMLJ.jlç­æ·±åº¦å­¦ä¹ åæºå¨å­¦ä¹ æ¡æ¶</section></li><li><section><strong>ç§å­¦è®¡ç®</strong>ï¼DifferentialEquations.jlç­ä¸ä¸è®¡ç®å</section></li><li><section><strong>å¹¶è¡è®¡ç®</strong>ï¼Distributed.jlãCUDA.jlç­å¹¶è¡åGPUå éåº</section></li></ul>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">4. æç¨æ§ä¸å¼åæç</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">Juliaçè¯­æ³è®¾è®¡åé´äºPythonãMatlabåRç­è¯­è¨ï¼æä¾äº<strong>æ¥è¿Pythonçæç¨æ§åå¼åæç</strong>ï¼åæ¶ä¿æäºç§å­¦è®¡ç®æéçä¸¥è°¨æ§ã</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>ä»£ç ç®æ´æ§</strong>ï¼ä¸Pythonç¸æ¯ï¼ç¸ååè½çä»£ç è¡æ°åå°30-50%</section></li><li><section><strong>äº¤äºå¼å¼å</strong>ï¼æ¯æJupyter NotebookãPluto.jlç­äº¤äºå¼ç¯å¢</section></li><li><section><strong>å¯è¯»æ§</strong>ï¼è¯­æ³ç´è§ï¼æ¥è¿æ°å­¦è¡¨è¾¾ï¼ä¾¿äºç§ç åä½</section></li></ul>
<h3 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">äºãæ°å¼ç³»ç»ä¸é«æ§è½è®¡ç®</span><span class="suffix"></span></h3>
<p data-tool="mdniceç¼è¾å¨">Juliaçæ°å¼ç³»ç»æ¯å¶é«æ§è½çåºç¡ï¼ä¸ä¸ºç§å­¦è®¡ç®åæ°å¼åæè®¾è®¡ã</p>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">1. é«ææ°å¼ç±»å</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">Juliaæä¾äºä¸°å¯çæ°å¼ç±»åï¼è¦çä»8ä½æ´æ°å°ä»»æç²¾åº¦æµ®ç¹æ°çå¨è°±ç³»ï¼</p>
<section class="table-container" data-tool="mdniceç¼è¾å¨"><table data-draft-node="block" data-draft-type="table" data-size="normal">
<tbody>
<tr>
<th>ç±»å</th>
<th>ä½æ°</th>
<th>èå´</th>
<th>ç¹ç¹</th>
</tr><tr>
<td>Int8</td>
<td>8ä½</td>
<td>-128è³127</td>
<td>åå­å ç¨å°ï¼éååç±»æ°æ®</td>
</tr>
<tr>
<td>Int16</td>
<td>16ä½</td>
<td>-32768è³32767</td>
<td>å¸¸è§æ´æ°è®¡ç®</td>
</tr>
<tr>
<td>Int32</td>
<td>32ä½</td>
<td>-2^31è³2^31-1</td>
<td>é»è®¤æ´æ°ç±»å</td>
</tr>
<tr>
<td>Int64</td>
<td>64ä½</td>
<td>-2^63è³2^63-1</td>
<td>å¤§è§æ¨¡æ´æ°è®¡ç®</td>
</tr>
<tr>
<td>Big Int</td>
<td>ä»»æä½</td>
<td>æ éå¶</td>
<td>é«ç²¾åº¦æ´æ°è¿ç®</td>
</tr>
<tr>
<td>Float16</td>
<td>16ä½</td>
<td>Â±6.55eÂ±04</td>
<td>GPUå éåå¥½</td>
</tr>
<tr>
<td>Float32</td>
<td>32ä½</td>
<td>Â±3.4eÂ±38</td>
<td>é»è®¤æµ®ç¹ç±»å</td>
</tr>
<tr>
<td>Float64</td>
<td>64ä½</td>
<td>Â±1.7eÂ±308</td>
<td>é«ç²¾åº¦ç§å­¦è®¡ç®</td>
</tr>
<tr>
<td>BigFloat</td>
<td>ä»»æä½</td>
<td>æ éå¶</td>
<td>åºäºMPFR/GMPåº</td>
</tr>
<tr>
<td>Complex{F}</td>
<td>128ä½</td>
<td>Â±3.4eÂ±38</td>
<td>å¤æ°è®¡ç®ï¼å¦Complex{Float64}</td>
</tr>
</tbody>
</table>
</section><h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">2. é«æ§è½è®¡ç®ä¼å</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">Juliaéè¿å¤ç§æºå¶å®ç°æ°å¼è®¡ç®çé«æ§è½ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>åéåæä½</strong>ï¼éè¿<code>@.</code>è¯­æ³å®ç°èªå¨åéå</section></li><li><section><strong>SIMDæä»¤</strong>ï¼æ¯æ<code>@simd</code>å¹¶è¡æä»¤</section></li><li><section><strong>BLASè°ç¨</strong>ï¼é»è®¤ä½¿ç¨ä¼åçBLASåºï¼å¦OpenBLASãIntel MKLï¼</section></li><li><section><strong>é«ç²¾åº¦è®¡ç®</strong>ï¼BigFloatåºäºGMP/MPFRåºï¼æ§è½æ¥è¿C</section></li></ul>
<p data-tool="mdniceç¼è¾å¨"><strong>æ§è½å®æµ</strong>ï¼</p>
<pre class="custom" data-tool="mdniceç¼è¾å¨"><code class="hljs"><span class="hljs-keyword">using</span>&nbsp;BenchmarkTools<br>A&nbsp;=&nbsp;rand(<span class="hljs-built_in">Float32</span>,&nbsp;<span class="hljs-number">1000</span>,&nbsp;<span class="hljs-number">1000</span>);&nbsp;B&nbsp;=&nbsp;rand(<span class="hljs-built_in">Float32</span>,&nbsp;<span class="hljs-number">1000</span>,&nbsp;<span class="hljs-number">1000</span>)<br><span class="hljs-meta">@btime</span>&nbsp;$A&nbsp;*&nbsp;$B&nbsp;&nbsp;<span class="hljs-comment">#&nbsp;Julia:&nbsp;0.8ms&nbsp;(Float32)</span><br></code></pre>
<p data-tool="mdniceç¼è¾å¨">ç¸æ¯ä¹ä¸ï¼Pythonï¼NumPyï¼å¨ç¸åä»»å¡ä¸éè¦çº¦3.2msï¼Råéè¦çº¦12.3msï¼Juliaçæ§è½ä¼å¿ææ¾ã</p>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">3. ç©éµè¿ç®ä¼å</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">Juliaç<code>LinearAlgebra</code>åæä¾äºé«åº¦ä¼åçç©éµè¿ç®æ¥å£ï¼</p>
<pre class="custom" data-tool="mdniceç¼è¾å¨"><code class="hljs"><span class="hljs-keyword">using</span>&nbsp;LinearAlgebra<br><span class="hljs-comment">#&nbsp;ç©éµä¹æ³</span><br>C&nbsp;=&nbsp;A&nbsp;*&nbsp;B<br><span class="hljs-comment">#&nbsp;ç©éµç¹ä¹</span><br>C&nbsp;.+=&nbsp;A&nbsp;.+&nbsp;B<br><span class="hljs-comment">#&nbsp;ç©éµæ±é</span><br>inv(A)<br><span class="hljs-comment">#&nbsp;ç¹å¾å¼åè§£</span><br>eigen(A)<br></code></pre>
<p data-tool="mdniceç¼è¾å¨">éè¿<code>Octavian.jl</code>ç­ä¼ååºï¼Juliaçç©éµä¹æ³æ§è½çè³å¯ä»¥è¶è¶OpenBLASåIntel MKLã</p>
<h3 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">ä¸ãç±»åç³»ç»ä¸å¤åæ´¾æºå¶</span><span class="suffix"></span></h3>
<p data-tool="mdniceç¼è¾å¨">Juliaçç±»åç³»ç»æ¯å¶é«æ§è½ä¸æç¨æ§ç»åçå³é®ï¼æ ¸å¿æ¯<strong>å¤åæ´¾æºå¶</strong>ã</p>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">1. å¤åæ´¾åç</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">å¤åæ´¾åè®¸å½æ°æ ¹æ®<strong>ææåæ°ç±»å</strong>å¨æéæ©å®ç°ï¼</p>
<pre class="custom" data-tool="mdniceç¼è¾å¨"><code class="hljs"><span class="hljs-comment">#&nbsp;å®ä¹ä¸¤ä¸ªçæ¬çaddå½æ°</span><br><span class="hljs-keyword">function</span>&nbsp;add(x::<span class="hljs-built_in">Int</span>,&nbsp;y::<span class="hljs-built_in">Int</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span>&nbsp;x&nbsp;+&nbsp;y<br><span class="hljs-keyword">end</span><br><br><span class="hljs-keyword">function</span>&nbsp;add(x::<span class="hljs-built_in">Float64</span>,&nbsp;y::<span class="hljs-built_in">Float64</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span>&nbsp;x&nbsp;+&nbsp;y<br><span class="hljs-keyword">end</span><br><br><span class="hljs-comment">#&nbsp;è°ç¨å½æ°ï¼Juliaä¼æ ¹æ®åæ°ç±»åèªå¨éæ©</span><br>add(<span class="hljs-number">1</span>,&nbsp;<span class="hljs-number">2</span>)&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#&nbsp;è°ç¨Intçæ¬</span><br>add(<span class="hljs-number">1.0</span>,&nbsp;<span class="hljs-number">2.0</span>)&nbsp;<span class="hljs-comment">#&nbsp;è°ç¨Float64çæ¬</span><br></code></pre>
<p data-tool="mdniceç¼è¾å¨">è¿ç§æºå¶ä½¿å¾ä»£ç æ¢ä¿æäºå¨æç±»åççµæ´»æ§ï¼åè·å¾äºæ¥è¿éæè¯­è¨çæ§è½ã</p>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">2. ç±»åæ¨æ­ä¸æ§è½ä¼å</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">Juliaçç¼è¯å¨è½å¤è¿è¡<strong>é«æçç±»åæ¨æ­</strong>ï¼å°å¨æç±»åä»£ç ç¼è¯ä¸ºé«æ§è½æºå¨ç ï¼</p>
<pre class="custom" data-tool="mdniceç¼è¾å¨"><code class="hljs"><span class="hljs-comment">#&nbsp;æ¾å¼ç±»åæ³¨è§£</span><br><span class="hljs-keyword">function</span>&nbsp;sum_loop(n::<span class="hljs-built_in">Int</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;=&nbsp;<span class="hljs-number">0.0</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">for</span>&nbsp;i&nbsp;<span class="hljs-keyword">in</span>&nbsp;<span class="hljs-number">1</span>:n;&nbsp;s&nbsp;+=&nbsp;i;&nbsp;<span class="hljs-keyword">end</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span>&nbsp;s<br><span class="hljs-keyword">end</span><br><br><span class="hljs-comment">#&nbsp;éå¼ç±»åæ¨æ­</span><br><span class="hljs-keyword">function</span>&nbsp;sum_loop(n)<br>&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;=&nbsp;<span class="hljs-number">0.0</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">for</span>&nbsp;i&nbsp;<span class="hljs-keyword">in</span>&nbsp;<span class="hljs-number">1</span>:n;&nbsp;s&nbsp;+=&nbsp;i;&nbsp;<span class="hljs-keyword">end</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span>&nbsp;s<br><span class="hljs-keyword">end</span><br><br><span class="hljs-comment">#&nbsp;æ¥çç±»åæ¨æ­è¿ç¨</span><br><span class="hljs-meta">@code_warntype</span>&nbsp;sum_loop(<span class="hljs-number">1_000_000</span>)<br></code></pre>
<p data-tool="mdniceç¼è¾å¨"><strong>æ§è½å¯¹æ¯</strong>ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>Julia</strong>ï¼200ns</section></li><li><section><strong>Python</strong>ï¼15Î¼sï¼æ¢75åï¼</section></li><li><section><strong>R</strong>ï¼çº¦30Î¼s</section></li></ul>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">3. ç±»åç¨³å®æ§</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">Juliaé¼å±å¼åèç¼å<strong>ç±»åç¨³å®çä»£ç </strong>ï¼ä»¥è·å¾æä½³æ§è½ï¼</p>
<pre class="custom" data-tool="mdniceç¼è¾å¨"><code class="hljs"><span class="hljs-comment">#&nbsp;ç±»åä¸ç¨³å®ä»£ç </span><br><span class="hljs-keyword">function</span>&nbsp;unstable_sum(v)<br>&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;=&nbsp;<span class="hljs-number">0</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">for</span>&nbsp;x&nbsp;<span class="hljs-keyword">in</span>&nbsp;v;&nbsp;s&nbsp;+=&nbsp;x;&nbsp;<span class="hljs-keyword">end</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span>&nbsp;s<br><span class="hljs-keyword">end</span><br><br><span class="hljs-comment">#&nbsp;ç±»åç¨³å®ä»£ç </span><br><span class="hljs-keyword">function</span>&nbsp;stable_sum(v::<span class="hljs-built_in">Vector</span>{T})&nbsp;<span class="hljs-keyword">where</span>&nbsp;{T&lt;:<span class="hljs-built_in">Real</span>}<br>&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;=&nbsp;zero(T)<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">for</span>&nbsp;x&nbsp;<span class="hljs-keyword">in</span>&nbsp;v;&nbsp;s&nbsp;+=&nbsp;x;&nbsp;<span class="hljs-keyword">end</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span>&nbsp;s<br><span class="hljs-keyword">end</span><br></code></pre>
<p data-tool="mdniceç¼è¾å¨">ç±»åç¨³å®çä»£ç å¨ç¼è¯æ¶è½å¤çæé«åº¦ä¼åçæºå¨ç ï¼åå°è¿è¡æ¶å¼éã</p>
<h3 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">åãå¯è§åå·¥å·å</span><span class="suffix"></span></h3>
<p data-tool="mdniceç¼è¾å¨">Juliaæä¾äºä¸°å¯çå¯è§åå·¥å·åï¼è¦çä»åºç¡å¾è¡¨å°é«çº§3Dæ¸²æçå¹¿æ³éæ±ã</p>
<section class="table-container" data-tool="mdniceç¼è¾å¨"><table data-draft-node="block" data-draft-type="table" data-size="normal">
<tbody>
<tr>
<th>å·¥å·å</th>
<th>ç¹ç¹</th>
</tr><tr>
<td><strong>Plots.jl</strong></td>
<td>é«å±ç»å¾æ¥å£ï¼åç«¯å¯ææï¼GRãPlotlyãPyPlotãUnicodePlots ç­ï¼ï¼è¯­æ³ç®æ´ç»ä¸</td>
</tr>
<tr>
<td><strong>Makie.jl</strong></td>
<td>é«æ§è½ GPU å éç»å¾åºï¼æ¯æäº¤äºå¼ 2D/3Dï¼<code>GLMakie</code>ã<code>WGLMakie</code>ã<code>CairoMakie</code>ï¼</td>
</tr>
<tr>
<td><strong>Gadfly.jl</strong></td>
<td>å R ç ggplot2 å¯åï¼å£°æå¼è¯­æ³ï¼éåç»è®¡å¾å½¢</td>
</tr>
<tr>
<td><strong>VegaLite.jl</strong></td>
<td>åºäº Vega-Lite çå£°æå¼å¯è§åï¼éå Web è¾åº</td>
</tr>
<tr>
<td><strong>PlotlyJS.jl</strong></td>
<td>äº¤äºå¼å¾è¡¨ï¼æ¯æ Jupyter å Electron</td>
</tr>
</tbody>
</table>
</section><h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">1. Plots.jlï¼ç»ä¸æ¥å£çå¯è§åçæç³»ç»</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">Plots.jlæ¯Juliaææµè¡çå¯è§ååï¼æä¾äº<strong>ç»ä¸çAPIæ¥å£</strong>ï¼æ¯æ20+åç«¯ï¼å¦GRãPyPlotãPlotlyJSãPGFPlotsXç­ï¼ï¼</p>
<pre class="custom" data-tool="mdniceç¼è¾å¨"><code class="hljs"><span class="hljs-keyword">using</span>&nbsp;Plots<br><span class="hljs-comment">#&nbsp;è®¾ç½®é»è®¤åç«¯</span><br>gr()&nbsp;<span class="hljs-comment">#&nbsp;æ&nbsp;plotlyjs()ãpyplot()ç­</span><br><br><span class="hljs-comment">#&nbsp;åºç¡ç»å¾</span><br>x&nbsp;=&nbsp;<span class="hljs-number">0</span>:<span class="hljs-number">0.1</span>:<span class="hljs-number">10</span><br>y&nbsp;=&nbsp;sin.(x)<br>plot(x,&nbsp;y,&nbsp;title=<span class="hljs-string">"åºç¡æ­£å¼¦å¾"</span>,&nbsp;label=<span class="hljs-string">"sin(x)"</span>,&nbsp;linewidth=<span class="hljs-number">3</span>)<br><br><span class="hljs-comment">#&nbsp;ç»è®¡ç»å¾</span><br><span class="hljs-keyword">using</span>&nbsp;RDatasets<br><span class="hljs-keyword">using</span>&nbsp;StatsPlots<br>df&nbsp;=&nbsp;dataset(<span class="hljs-string">"datasets"</span>,&nbsp;<span class="hljs-string">"iris"</span>)<br><span class="hljs-meta">@df</span>&nbsp;df&nbsp;scatter(:SepalLength,&nbsp;:SepalWidth,&nbsp;group=:Species,<br>&nbsp;&nbsp;&nbsp;&nbsp;title=<span class="hljs-string">"é¸¢å°¾è±æ°æ®æ£ç¹å¾"</span>,&nbsp;legend=<span class="hljs-literal">false</span>,&nbsp;size=(<span class="hljs-number">900</span>,&nbsp;<span class="hljs-number">600</span>))<br>savefig(<span class="hljs-string">"iris_scatter.png"</span>)<br></code></pre>
<p data-tool="mdniceç¼è¾å¨"><strong>Plots.jlä¼å¿</strong>ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section>ç»ä¸çAPIï¼ä¸ååç«¯åæ¢ç®å</section></li><li><section>æ¯æå¤ç§å¾è¡¨ç±»åï¼çº¿å¾ãæ£ç¹å¾ãæ±ç¶å¾ç­ï¼</section></li><li><section>åç½®ç»è®¡å¾è¡¨åè½</section></li><li><section>èªå¨å¤çå¤çº¿ç¨ã3Dãå¨ç»ç­å¤æåºæ¯</section></li></ul>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">2. GLMakieï¼GPUå éçé«æ§è½3Då¯è§å</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">GLMakieæ¯åºäºOpenGLçGPUå é3Då¯è§ååºï¼æ§è½è¿è¶ä¼ ç»åºï¼</p>
<pre class="custom" data-tool="mdniceç¼è¾å¨"><code class="hljs"><span class="hljs-keyword">using</span>&nbsp;GLMakie<br><span class="hljs-comment">#&nbsp;3Dç¹äºå¯è§å</span><br>x&nbsp;=&nbsp;rand(<span class="hljs-number">100000</span>)<br>y&nbsp;=&nbsp;rand(<span class="hljs-number">100000</span>)<br>z&nbsp;=&nbsp;sin.(x&nbsp;.+&nbsp;y)<br>colors&nbsp;=&nbsp;sin.(x)&nbsp;.+&nbsp;cos.(y)<br>scatter(x,&nbsp;y,&nbsp;z,&nbsp;color=colors,&nbsp;markersize=<span class="hljs-number">2</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;title=<span class="hljs-string">"10ä¸ç¹3Dç¹äº"</span>,&nbsp;figure=(;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolution=(<span class="hljs-number">1200</span>,&nbsp;<span class="hljs-number">800</span>),&nbsp;camera=cam3d(<span class="hljs-number">0</span>,&nbsp;-<span class="hljs-number">70</span>,&nbsp;<span class="hljs-number">50</span>)))<br></code></pre>
<p data-tool="mdniceç¼è¾å¨"><strong>GLMakieä¼å¿</strong>ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section>GPUå éï¼å¤çç¾ä¸çº§æ°æ®ç¹&lt;50ms</section></li><li><section>é«æ§è½3Dæ¸²æï¼éåç§å­¦æ°æ®å¯è§å</section></li><li><section>æ¯æå¨ææ´æ°ãå¤å¾å±å å ãå¨ç»åºåçæ</section></li><li><section>ä¸Jupyter Notebookç­äº¤äºå¼ç¯å¢æ·±åº¦å¼å®¹</section></li></ul>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">3. VegaLite.jlï¼å£°æå¼Webå¯è§å</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">VegaLite.jlåºäºVega-Liteçå£°æå¼è¯­æ³ï¼éåWebéæï¼</p>
<pre class="custom" data-tool="mdniceç¼è¾å¨"><code class="hljs"><span class="hljs-keyword">using</span>&nbsp;VegaLite<br><span class="hljs-comment">#&nbsp;å£°æå¼ç»å¾</span><br>df&nbsp;=&nbsp;DataFrame(x=rand(<span class="hljs-number">100</span>),&nbsp;y=rand(<span class="hljs-number">100</span>))<br>df&nbsp;|&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta">@vlplot</span>(:point,&nbsp;x&nbsp;{:x},&nbsp;y&nbsp;{:y},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;width=<span class="hljs-number">400</span>,&nbsp;height=<span class="hljs-number">300</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;title=<span class="hljs-string">"VegaLiteç¹å¾ç¤ºä¾"</span>)<br></code></pre>
<p data-tool="mdniceç¼è¾å¨"><strong>VegaLite.jlä¼å¿</strong>ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section>å£°æå¼è¯­æ³ï¼æ éå¤çåæ è½´ç­ç»è</section></li><li><section>è½»éçº§ï¼æ JavaScriptä¾èµ</section></li><li><section>éåWebéæåäº¤äºå¼ææ¡£</section></li></ul>
<h3 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">äºãæ°æ®ç§å­¦å·¥å·å</span><span class="suffix"></span></h3>
<p data-tool="mdniceç¼è¾å¨">Juliaçæ°æ®ç§å­¦çææ­£å¨è¿éåå±ï¼æä¾äºä»æ°æ®è¯»åå°ç»è®¡åæçå®æ´å·¥å·é¾ã</p>
<section class="table-container" data-tool="mdniceç¼è¾å¨"><table data-draft-node="block" data-draft-type="table" data-size="normal">
<tbody>
<tr>
<th>å·¥å·å</th>
<th>åè½</th>
</tr><tr>
<td><strong>DataFrames.jl</strong></td>
<td>ç±»ä¼¼ pandas ç DataFrameï¼æ¯æåç»ãè¿æ¥ãç¼ºå¤±å¼å¤ç</td>
</tr>
<tr>
<td><strong>CSV.jl</strong> / <strong>JSON3.jl</strong> / <strong>Arrow.jl</strong></td>
<td>é«æè¯»åç»æåæ°æ®</td>
</tr>
<tr>
<td><strong>DataFramesMeta.jl</strong></td>
<td>æä¾ç±»ä¼¼ dplyr çç®¡éæä½ï¼<code>@select</code>, <code>@filter</code>ï¼</td>
</tr>
<tr>
<td><strong>FreqTables.jl</strong> / <strong>StatsBase.jl</strong></td>
<td>åºç¡ç»è®¡å½æ°ãé¢çè¡¨ãæéè®¡ç®</td>
</tr>
<tr>
<td><strong>Query.jl</strong></td>
<td>LINQ é£æ ¼çæ°æ®æ¥è¯¢</td>
</tr>
<tr>
<td><strong>JuliaDB.jl</strong></td>
<td>åå¸å¼åå­æ°æ®åºï¼éç¨äºå¤§æ°æ®ï¼</td>
</tr>
</tbody>
</table>
</section><h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">1. DataFrames.jlï¼é«æè¡¨æ ¼æ°æ®å¤ç</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">DataFrames.jlæ¯Juliaçæ°æ®å¤çæ ¸å¿åï¼åºäº<strong>åå¼å­å¨</strong>ï¼åå­æçé«ï¼</p>
<pre class="custom" data-tool="mdniceç¼è¾å¨"><code class="hljs"><span class="hljs-keyword">using</span>&nbsp;DataFrames<br><span class="hljs-comment">#&nbsp;åå¼æé DataFrame</span><br>df&nbsp;=&nbsp;DataFrame(<br>&nbsp;&nbsp;&nbsp;&nbsp;id&nbsp;=&nbsp;<span class="hljs-number">1</span>:<span class="hljs-number">1_000_000</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;randn(<span class="hljs-number">1_000_000</span>),<br>&nbsp;&nbsp;&nbsp;&nbsp;category&nbsp;=&nbsp;rand([<span class="hljs-string">"A"</span>,&nbsp;<span class="hljs-string">"B"</span>,&nbsp;<span class="hljs-string">"C"</span>],&nbsp;<span class="hljs-number">1_000_000</span>)<br>)<br><br><span class="hljs-comment">#&nbsp;åç»èå</span><br>gdf&nbsp;=&nbsp;groupby(df,&nbsp;:category)<br>result&nbsp;=&nbsp;combine(gdf,&nbsp;:value&nbsp;=&gt;&nbsp;mean&nbsp;=&gt;&nbsp;:mean_value,&nbsp;:id&nbsp;=&gt;&nbsp;length&nbsp;=&gt;&nbsp;:count)<br><br><span class="hljs-comment">#&nbsp;ç¼ºå¤±å¼å¤ç</span><br>df[:value][<span class="hljs-number">5</span>]&nbsp;=&nbsp;missing<br>df[:category][<span class="hljs-number">10</span>]&nbsp;=&nbsp;missing<br></code></pre>
<p data-tool="mdniceç¼è¾å¨"><strong>æ§è½å¯¹æ¯</strong>ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>100ä¸è¡æ°æ®å¤ç</strong>ï¼Juliaæ¯Pythonå¿«26åï¼æ¯Rå¿«40å</section></li><li><section><strong>åå­å ç¨</strong>ï¼Juliaæ¯Pythonå°ç¨40%åå­</section></li><li><section><strong>APIè®¾è®¡</strong>ï¼æ¯Pandasæ´ç®æ´ï¼æ¯dplyræ´çµæ´»</section></li></ul>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">2. CSV.jlï¼é«æ§è½CSVè¯»å</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">CSV.jlæä¾äºé«æçCSVæä»¶è¯»ååè½ï¼</p>
<pre class="custom" data-tool="mdniceç¼è¾å¨"><code class="hljs"><span class="hljs-keyword">using</span>&nbsp;CSV<br><span class="hljs-comment">#&nbsp;é«æ§è½è¯»å</span><br>df&nbsp;=&nbsp;CSV.read(<span class="hljs-string">"large_dataset.csv"</span>,&nbsp;DataFrame,&nbsp;threaded=<span class="hljs-literal">true</span>)<br><br><span class="hljs-comment">#&nbsp;è¯»åå¤§æä»¶æ§è½å¯¹æ¯</span><br><span class="hljs-comment">#&nbsp;100MBæä»¶è¯»åï¼Julia&nbsp;0.8s&nbsp;vs&nbsp;Python&nbsp;2.5s[(deep_research_source_group_web_18)]</span><br></code></pre>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">3. StatsBase.jlï¼ç»è®¡åºç¡å·¥å·å</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">StatsBase.jlæä¾äºä¸°å¯çç»è®¡å½æ°åæ°æ®ç»æï¼</p>
<pre class="custom" data-tool="mdniceç¼è¾å¨"><code class="hljs"><span class="hljs-keyword">using</span>&nbsp;StatsBase<br><span class="hljs-comment">#&nbsp;åºç¡ç»è®¡å½æ°</span><br>mean(df.value)<br>std(df.value)<br>quantile(df.value,&nbsp;[<span class="hljs-number">0.25</span>,&nbsp;<span class="hljs-number">0.5</span>,&nbsp;<span class="hljs-number">0.75</span>])<br><br><span class="hljs-comment">#&nbsp;åç»ç»è®¡</span><br>groupby(df,&nbsp;:category)&nbsp;<span class="hljs-keyword">do</span>&nbsp;subdf<br>&nbsp;&nbsp;&nbsp;&nbsp;(mean_value&nbsp;=&nbsp;mean(subdf.value),&nbsp;count&nbsp;=&nbsp;length(subdf))<br><span class="hljs-keyword">end</span><br></code></pre>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">4. Distributions.jlï¼æ¦çåå¸åº</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">Distributions.jlæä¾äºå¨é¢çæ¦çåå¸å®ç°åç»è®¡åè½ï¼</p>
<pre class="custom" data-tool="mdniceç¼è¾å¨"><code class="hljs"><span class="hljs-keyword">using</span>&nbsp;Distributions<br><span class="hljs-comment">#&nbsp;å®ä¹æ¦çåå¸</span><br>dist&nbsp;=&nbsp;Normal(<span class="hljs-number">0</span>,&nbsp;<span class="hljs-number">1</span>)<br><span class="hljs-comment">#&nbsp;éæ ·</span><br>rand(dist,&nbsp;<span class="hljs-number">1000</span>)<br><span class="hljs-comment">#&nbsp;è®¡ç®æ¦ç</span><br>pdf(dist,&nbsp;<span class="hljs-number">0.5</span>)<br><span class="hljs-comment">#&nbsp;çæéæºæ°</span><br><span class="hljs-keyword">using</span>&nbsp;Random<br>Randomç§å­!(<span class="hljs-number">123</span>)<br>x&nbsp;=&nbsp;rand(Normal(),&nbsp;<span class="hljs-number">1000</span>)<br></code></pre>
<h3 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">å­ãæºå¨å­¦ä¹ ä¸æ·±åº¦å­¦ä¹ å·¥å·å</span><span class="suffix"></span></h3>
<p data-tool="mdniceç¼è¾å¨">Juliaçæºå¨å­¦ä¹ åæ·±åº¦å­¦ä¹ çææ­£å¨è¬ååå±ï¼æä¾äºä»ä¼ ç»æºå¨å­¦ä¹ å°æ·±åº¦å­¦ä¹ çå®æ´å·¥å·é¾ã</p>
<section class="table-container" data-tool="mdniceç¼è¾å¨"><table data-draft-node="block" data-draft-type="table" data-size="normal">
<tbody>
<tr>
<th>å·¥å·å</th>
<th>æè¿°</th>
</tr><tr>
<td><strong>ScikitLearn.jl</strong></td>
<td>å¼å®¹ Python scikit-learn APIï¼å¯è°ç¨ sklearn æ¨¡å</td>
</tr>
<tr>
<td><strong>MLJ.jl</strong></td>
<td>Julia åççç»ä¸ ML æ¡æ¶ï¼æ¯ææ¨¡åç»åãè¶åè°ä¼ãæµæ°´çº¿</td>
</tr>
<tr>
<td><strong>Flux.jl</strong></td>
<td>è½ä¸»è¦ç¨äºæ·±åº¦å­¦ä¹ ï¼ä½ä¹æ¯æä¼ ç» MLï¼å¦çº¿æ§æ¨¡åï¼</td>
</tr>
<tr>
<td><strong>DecisionTree.jl</strong></td>
<td>å³ç­æ ãéæºæ£®æ</td>
</tr>
<tr>
<td><strong>Clustering.jl</strong></td>
<td>K-meansãå±æ¬¡èç±»ç­</td>
</tr>
<tr>
<td><strong>MultivariateStats.jl</strong></td>
<td>PCAãLDAãCCA ç­éç»´æ¹æ³</td>
</tr>
</tbody>
</table>
</section><h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">1. MLJ.jlï¼çµæ´»çæºå¨å­¦ä¹ æ¡æ¶</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">MLJ.jlæ¯ä¸ä¸ª<strong>åæ¡æ¶</strong>ï¼è¿æ¥äº200+æºå¨å­¦ä¹ æ¨¡åï¼</p>
<pre class="custom" data-tool="mdniceç¼è¾å¨"><code class="hljs"><span class="hljs-keyword">using</span>&nbsp;MLJ<br><span class="hljs-comment">#&nbsp;å è½½æ¨¡å</span><br>tree&nbsp;=&nbsp;<span class="hljs-meta">@load</span>&nbsp;DecisionTreeClassifier<br><span class="hljs-comment">#&nbsp;åå»ºæºå¨</span><br>model&nbsp;=&nbsp;machine(tree,&nbsp;X,&nbsp;y)<br><span class="hljs-comment">#&nbsp;è®­ç»æ¨¡å</span><br>fit!(model)<br><span class="hljs-comment">#&nbsp;é¢æµ</span><br>predict(model,&nbsp;X_test)<br></code></pre>
<p data-tool="mdniceç¼è¾å¨"><strong>MLJ.jlä¼å¿</strong>ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section>ç»ä¸æ¥å£ï¼æ¯æ200+æ¨¡å</section></li><li><section>èªå¨è¶åæ°ä¼åï¼<code>TunedModel</code>åè£å¨ï¼</section></li><li><section>æ¯æå¹¶è¡è®¡ç®</section></li><li><section>æ¨¡åç»åçµæ´»ï¼å­¦ä¹ ç½ç»ï¼</section></li></ul>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">2. ScikitLearn.jlï¼ä¸Scikit-learnæ ç¼éæ</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">ScikitLearn.jlæä¾äºä¸Scikit-learnä¸è´çAPIï¼</p>
<pre class="custom" data-tool="mdniceç¼è¾å¨"><code class="hljs"><span class="hljs-keyword">using</span>&nbsp;ScikitLearn<br><span class="hljs-meta">@sk_import</span>&nbsp;ensemble:&nbsp;RandomForestClassifier<br><span class="hljs-comment">#&nbsp;åå»ºæ¨¡å</span><br>model&nbsp;=&nbsp;RandomForestClassifier(n_estimators=<span class="hljs-number">100</span>)<br><span class="hljs-comment">#&nbsp;è®­ç»æ¨¡å</span><br>fit!(model,&nbsp;X,&nbsp;y)<br><span class="hljs-comment">#&nbsp;é¢æµ</span><br>predict(model,&nbsp;X_test)<br></code></pre>
<p data-tool="mdniceç¼è¾å¨"><strong>ScikitLearn.jlä¼å¿</strong>ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section>ä¸PythonçScikit-learnæ ç¼éæ</section></li><li><section>ä¿çJuliaçé«æ§è½</section></li><li><section>éåPythonè¿ç§»è</section></li></ul>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">3. Flux.jlï¼è½»éçº§GPUåçæ·±åº¦å­¦ä¹ æ¡æ¶</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">Flux.jlæ¯Juliaçæ·±åº¦å­¦ä¹ æ¡æ¶ï¼ä»¥è½»éçº§åé«æèç§°ï¼</p>
<pre class="custom" data-tool="mdniceç¼è¾å¨"><code class="hljs"><span class="hljs-keyword">using</span>&nbsp;Flux<br><span class="hljs-comment">#&nbsp;å®ä¹æ¨¡å</span><br>model&nbsp;=&nbsp;Chain(<br>&nbsp;&nbsp;&nbsp;&nbsp;Dense(<span class="hljs-number">784</span>,&nbsp;<span class="hljs-number">32</span>,&nbsp;relu),<br>&nbsp;&nbsp;&nbsp;&nbsp;Dense(<span class="hljs-number">32</span>,&nbsp;<span class="hljs-number">10</span>),<br>&nbsp;&nbsp;&nbsp;&nbsp;softmax<br>)&nbsp;<span class="hljs-comment">#&nbsp;é»è®¤å¨CPUä¸è¿è¡</span><br><br><span class="hljs-comment">#&nbsp;å¨GPUä¸è¿è¡</span><br>model&nbsp;=&nbsp;modelçå­gpu()&nbsp;<span class="hljs-comment">#&nbsp;éè¿çå­æä½èªå¨å¨GPUä¸è¿è¡</span><br>data&nbsp;=&nbsp;rand(<span class="hljs-built_in">Float32</span>,&nbsp;<span class="hljs-number">784</span>,&nbsp;<span class="hljs-number">100</span>)çå­gpu()<br><br><span class="hljs-comment">#&nbsp;è®­ç»æ¨¡å</span><br>loss(x,&nbsp;y)&nbsp;=&nbsp;crossentropy(model(x),&nbsp;y)<br>ps&nbsp;=&nbsp;params(model)<br><span class="hljs-meta">@epochs</span>&nbsp;<span class="hljs-number">100</span>&nbsp;train!(loss,&nbsp;ps,&nbsp;data,&nbsp;ADAM())[(deep_research_source_group_web_23)]<br></code></pre>
<p data-tool="mdniceç¼è¾å¨"><strong>Flux.jlä¼å¿</strong>ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>è½»éçº§</strong>ï¼æ ¸å¿åºä»1.5MBï¼PyTorchçº¦300MBï¼</section></li><li><section><strong>GPUæ¯æ</strong>ï¼èªå¨ä½¿ç¨CUDA.jlï¼æ éä¿®æ¹ä»£ç </section></li><li><section><strong>èªå¨å¾®å</strong>ï¼<code>Zygote.jl</code>åºæä¾æ è¿è¡æ¶å¼éçèªå¨å¾®å</section></li><li><section><strong>é¨ç½²ç®å</strong>ï¼éè¿<code>PackageCompiler.jl</code>å¯ç¼è¯ä¸º&lt;5MBçåæä»¶</section></li></ul>
<p data-tool="mdniceç¼è¾å¨"><strong>æ§è½å¯¹æ¯</strong>ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>éæºæ£®æè®­ç»ï¼10ä¸æ ·æ¬ï¼</strong>ï¼Juliaæ¯Pythonå¿«2.5å</section></li><li><section><strong>ResNet50è®­ç»ï¼ImageNetï¼</strong>ï¼Juliaæ¯Pythonå¿«12%</section></li></ul>
<section class="table-container" data-tool="mdniceç¼è¾å¨"><table data-draft-node="block" data-draft-type="table" data-size="normal">
<tbody>
<tr>
<th>å·¥å·å</th>
<th>ç¹ç¹</th>
</tr><tr>
<td><strong>Flux.jl</strong></td>
<td>çº¯ Julia å®ç°ï¼è½»éãçµæ´»ãå¯å¾®åç¼ç¨åå¥½ï¼æ¯æ GPUï¼CUDA.jlï¼</td>
</tr>
<tr>
<td><strong>Metalhead.jl</strong></td>
<td>é¢è®­ç» CNN æ¨¡åï¼ResNetãVGG ç­ï¼</td>
</tr>
<tr>
<td><strong>ONNX.jl</strong></td>
<td>å¯¼å¥/å¯¼åº ONNX æ¨¡å</td>
</tr>
<tr>
<td><strong>DiffEqFlux.jl</strong></td>
<td>å°ç¥ç»ç½ç»ä¸å¾®åæ¹ç¨ç»åï¼ç¥ç»ODEï¼</td>
</tr>
<tr>
<td><strong>Lux.jl</strong></td>
<td>æ°ä¸ä»£é«æ§è½æ·±åº¦å­¦ä¹ åºï¼å Flax å¯åï¼æ å¨å±ç¶æï¼</td>
</tr>
</tbody>
</table>
</section><h3 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">ä¸ãç§å­¦è®¡ç®å·¥å·å</span><span class="suffix"></span></h3>
<p data-tool="mdniceç¼è¾å¨">Juliaå¨ç§å­¦è®¡ç®é¢åæä¾äºå¨é¢çå·¥å·åï¼ä»å¾®åæ¹ç¨æ±è§£å°ä¼åç®æ³ã</p>
<section class="table-container" data-tool="mdniceç¼è¾å¨"><table data-draft-node="block" data-draft-type="table" data-size="normal">
<tbody>
<tr>
<th>é¢å</th>
<th>å·¥å·å</th>
</tr><tr>
<td><strong>çº¿æ§ä»£æ°</strong></td>
<td><code>LinearAlgebra</code>ï¼æ ååºï¼ï¼BLAS/LAPACK éæ</td>
</tr>
<tr>
<td><strong>å¾®åæ¹ç¨</strong></td>
<td><code>DifferentialEquations.jl</code>ï¼ä¸çé¢åï¼æ¯æ ODE/PDE/SDE/DAE ç­ï¼</td>
</tr>
<tr>
<td><strong>ä¼å</strong></td>
<td><code>Optimization.jl</code>, <code>JuMP.jl</code>ï¼å»ºæ¨¡è¯­è¨ï¼æ¯æå¤ç§æ±è§£å¨ï¼</td>
</tr>
<tr>
<td><strong>ç¬¦å·è®¡ç®</strong></td>
<td><code>Symbolics.jl</code>ï¼çº¯ Julia CASï¼æ¯æèªå¨å¾®åä¸ä»£ç çæï¼</td>
</tr>
<tr>
<td><strong>æ°å¼ç§¯å</strong></td>
<td><code>QuadGK.jl</code>, <code>HCubature.jl</code></td>
</tr>
<tr>
<td><strong>ç¹æ®å½æ°</strong></td>
<td><code>SpecialFunctions.jl</code></td>
</tr>
<tr>
<td><strong>ä¿¡å·å¤ç</strong></td>
<td><code>DSP.jl</code></td>
</tr>
<tr>
<td><strong>ç½æ ¼ä¸ PDE</strong></td>
<td><code>Gridap.jl</code>, <code>FiniteElementDiffEq.jl</code></td>
</tr>
</tbody>
</table>
</section><h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">1. DifferentialEquations.jlï¼å¾®åæ¹ç¨æ±è§£çæç³»ç»</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">DifferentialEquations.jlæ¯Juliaçå¾®åæ¹ç¨æ±è§£æ ¸å¿åï¼æ¯æ100+æ±è§£å¨ï¼</p>
<pre class="custom" data-tool="mdniceç¼è¾å¨"><code class="hljs"><span class="hljs-keyword">using</span>&nbsp;DifferentialEquations<br><span class="hljs-comment">#&nbsp;å®ä¹å¾®åæ¹ç¨ï¼Lorenzç³»ç»ï¼</span><br><span class="hljs-keyword">function</span>&nbsp;lorenz(du,&nbsp;u,&nbsp;p,&nbsp;t)<br>&nbsp;&nbsp;&nbsp;&nbsp;Ï,&nbsp;Ï,&nbsp;Î²&nbsp;=&nbsp;p<br>&nbsp;&nbsp;&nbsp;&nbsp;du[<span class="hljs-number">1</span>]&nbsp;=&nbsp;Ï*(u[<span class="hljs-number">2</span>]&nbsp;-&nbsp;u[<span class="hljs-number">1</span>])<br>&nbsp;&nbsp;&nbsp;&nbsp;du[<span class="hljs-number">2</span>]&nbsp;=&nbsp;u[<span class="hljs-number">1</span>]*(Ï&nbsp;-&nbsp;u[<span class="hljs-number">3</span>])&nbsp;-&nbsp;u[<span class="hljs-number">2</span>]<br>&nbsp;&nbsp;&nbsp;&nbsp;du[<span class="hljs-number">3</span>]&nbsp;=&nbsp;u[<span class="hljs-number">1</span>]*u[<span class="hljs-number">2</span>]&nbsp;-&nbsp;Î²*u[<span class="hljs-number">3</span>]<br><span class="hljs-keyword">end</span><br><br><span class="hljs-comment">#&nbsp;å®ä¹é®é¢</span><br>p&nbsp;=&nbsp;[<span class="hljs-number">10.0</span>,&nbsp;<span class="hljs-number">28.0</span>,&nbsp;<span class="hljs-number">8</span>/<span class="hljs-number">3</span>]<br>u0&nbsp;=&nbsp;[<span class="hljs-number">1.0</span>,&nbsp;<span class="hljs-number">0.0</span>,&nbsp;<span class="hljs-number">0.0</span>]<br>tspan =&nbsp;(<span class="hljs-number">0.0</span>,&nbsp;<span class="hljs-number">100.0</span>)<br>prob&nbsp;=&nbsp;ODEProblem(lorenz,&nbsp;u0,&nbsp;tspan,&nbsp;p)<br><br><span class="hljs-comment">#&nbsp;æ±è§£é®é¢</span><br>sol&nbsp;=&nbsp;solve(prob,&nbsp;Tsit5(),&nbsp;reltol=<span class="hljs-number">1e-8</span>,&nbsp;abstol=<span class="hljs-number">1e-8</span>)<br><br><span class="hljs-comment">#&nbsp;å¯è§åç»æ</span><br><span class="hljs-keyword">using</span>&nbsp;Plots<br>plot(sol,&nbsp;vars=(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>),&nbsp;title=<span class="hljs-string">"Lorenzç³»ç»ç¸å¾"</span>,&nbsp;label=<span class="hljs-literal">false</span>)<br>plot!(sol,&nbsp;vars=(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>),&nbsp;title=<span class="hljs-string">"Lorenzç³»ç»ç¸å¾"</span>,&nbsp;label=<span class="hljs-literal">false</span>)<br></code></pre>
<p data-tool="mdniceç¼è¾å¨"><strong>DifferentialEquations.jlä¼å¿</strong>ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section>æ¯æå¤ç§å¾®åæ¹ç¨ç±»åï¼ODEãSDEãRODEãDAEç­ï¼</section></li><li><section>èªå¨éæ©æä¼æ±è§£å¨</section></li><li><section>é«ç²¾åº¦è®¡ç®æ¯æ</section></li><li><section>äºä»¶å¤çååè°ç³»ç»</section></li></ul>
<p data-tool="mdniceç¼è¾å¨"><strong>æ§è½å¯¹æ¯</strong>ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>CPUå¾®åæ¹ç¨æ±è§£</strong>ï¼Juliaä¸C++/Fortranæ§è½ç¸å½</section></li><li><section><strong>GPUå¾®åæ¹ç¨æ±è§£</strong>ï¼Juliaæ¯PyTorchå¿«20-100å</section></li></ul>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">2. Optim.jlï¼é«æä¼ååº</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">Optim.jlæä¾äºå¤ç§ä¼åç®æ³ï¼åæ¬æ¢¯åº¦åæ æ¢¯åº¦æ¹æ³ï¼</p>
<pre class="custom" data-tool="mdniceç¼è¾å¨"><code class="hljs"><span class="hljs-keyword">using</span>&nbsp;Optim<br><span class="hljs-comment">#&nbsp;å®ä¹ç®æ å½æ°</span><br>f(x)&nbsp;=&nbsp;(x[<span class="hljs-number">1</span>]-<span class="hljs-number">1</span>)^<span class="hljs-number">2</span>&nbsp;+&nbsp;<span class="hljs-number">100</span>*(x[<span class="hljs-number">2</span>]-x[<span class="hljs-number">1</span>]^<span class="hljs-number">2</span>)^<span class="hljs-number">2</span><br><br><span class="hljs-comment">#&nbsp;å®ä¹åå§çæµ</span><br>x0&nbsp;=&nbsp;[<span class="hljs-number">0.0</span>,&nbsp;<span class="hljs-number">0.0</span>]<br><br><span class="hljs-comment">#&nbsp;ä½¿ç¨BFGSç®æ³ä¼å</span><br>result&nbsp;=&nbsp;optimize(f,&nbsp;x0,&nbsp;BFGS())<br><br><span class="hljs-comment">#&nbsp;æ¥çç»æ</span><br>result.minima<br>result.f_min<br></code></pre>
<p data-tool="mdniceç¼è¾å¨"><strong>Optim.jlä¼å¿</strong>ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section>æ¯ææ¢¯åº¦åæ æ¢¯åº¦ä¼åç®æ³</section></li><li><section>é«æçæ°å¼ä¼å</section></li><li><section>ä¸Juliaçæ°å¼ç³»ç»æ ç¼éæ</section></li><li><section>ä»£ç ç®æ´ï¼æç¨æ§é«</section></li></ul>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">3. Quantum.jlï¼éå­è®¡ç®æ¨¡æ</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">Quantum.jlæä¾äºéå­è®¡ç®æ¨¡æå·¥å·ï¼</p>
<pre class="custom" data-tool="mdniceç¼è¾å¨"><code class="hljs"><span class="hljs-keyword">using</span>&nbsp;Quantum<br><span class="hljs-comment">#&nbsp;å®ä¹éå­ä½</span><br>q1&nbsp;=&nbsp;Qubit()<br>q2&nbsp;=&nbsp;Qubit()<br><br><span class="hljs-comment">#&nbsp;åºç¨éå­é¨</span><br>h(q1)&nbsp;&nbsp;<span class="hljs-comment">#&nbsp;Hadamardé¨</span><br>cnot(q1,&nbsp;q2)&nbsp;<span class="hljs-comment">#&nbsp;CNOTé¨</span><br><br><span class="hljs-comment">#&nbsp;æµé</span><br>measure(q1)<br>measure(q2)<br></code></pre>
<p data-tool="mdniceç¼è¾å¨"><strong>Quantum.jlä¼å¿</strong>ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section>åçå®ç°ï¼æ éä¾èµå¤é¨åº</section></li><li><section>é«æ§è½éå­è®¡ç®æ¨¡æ</section></li><li><section>ä¸Juliaçå¹¶è¡è®¡ç®åGPUå éåºæ ç¼éæ</section></li></ul>
<h3 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">å«ãå¹¶è¡è®¡ç®å·¥å·å</span><span class="suffix"></span></h3>
<p data-tool="mdniceç¼è¾å¨">Juliaåç½®äºå¼ºå¤§çå¹¶è¡è®¡ç®è½åï¼ä»å¤çº¿ç¨å°åå¸å¼è®¡ç®åGPUå éã</p>
<section class="table-container" data-tool="mdniceç¼è¾å¨"><table data-draft-node="block" data-draft-type="table" data-size="normal">
<tbody>
<tr>
<th>ç±»å</th>
<th>å·¥å·/æºå¶</th>
</tr><tr>
<td><strong>å¤çº¿ç¨</strong></td>
<td><code>Threads.@threads</code>ï¼å±äº«åå­ï¼éæ³¨æçº¿ç¨å®å¨ï¼</td>
</tr>
<tr>
<td><strong>å¤è¿ç¨</strong></td>
<td><code>Distributed</code> æ ååºï¼<code>@spawn</code>, <code>pmap</code>ï¼ï¼éç¨äºéç¾¤</td>
</tr>
<tr>
<td><strong>GPU ç¼ç¨</strong></td>
<td><code>CUDA.jl</code>ï¼NVIDIAï¼ã<code>AMDGPU.jl</code>ã<code>oneAPI.jl</code>ï¼Intelï¼</td>
</tr>
<tr>
<td><strong>åå¸å¼æ°ç»</strong></td>
<td><code>DistributedArrays.jl</code></td>
</tr>
<tr>
<td><strong>ä»»å¡å¹¶è¡</strong></td>
<td><code>@async</code>, <code>Channels</code></td>
</tr>
<tr>
<td><strong>é«æ§è½éä¿¡</strong></td>
<td><code>MPI.jl</code>ï¼å¼å®¹ MPI æ åï¼</td>
</tr>
</tbody>
</table>
</section><h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">1. Distributed.jlï¼åå¸å¼è®¡ç®æ¡æ¶</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">Distributed.jlæä¾äºç®åçåå¸å¼è®¡ç®æ¥å£ï¼</p>
<pre class="custom" data-tool="mdniceç¼è¾å¨"><code class="hljs"><span class="hljs-keyword">using</span>&nbsp;Distributed<br><span class="hljs-comment">#&nbsp;æ·»å è¿ç¨</span><br>addprocs(<span class="hljs-number">4</span>)&nbsp;<span class="hljs-comment">#&nbsp;æ·»å 4ä¸ªè¿ç¨</span><br><br><span class="hljs-comment">#&nbsp;è¿ç¨è®¡ç®</span><br><span class="hljs-meta">@spawn</span>&nbsp;sqrt(<span class="hljs-number">2</span>)<br><br><span class="hljs-comment">#&nbsp;å¹¶è¡æ å°</span><br><span class="hljs-meta">@æ¹å¤ç</span>&nbsp;<span class="hljs-number">1</span>:<span class="hljs-number">1000000</span>&nbsp;sqrt<br><br><span class="hljs-comment">#&nbsp;åå¸å¼å¾ªç¯</span><br><span class="hljs-meta">@åå¸å¼</span>&nbsp;<span class="hljs-keyword">for</span>&nbsp;i&nbsp;<span class="hljs-keyword">in</span>&nbsp;<span class="hljs-number">1</span>:<span class="hljs-number">100</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#&nbsp;å¹¶è¡æ§è¡ä»£ç </span><br><span class="hljs-keyword">end</span><br></code></pre>
<p data-tool="mdniceç¼è¾å¨"><strong>æ§è½å¯¹æ¯</strong>ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>1000æ ¸ç©éµä¹æ³</strong>ï¼Juliaæ¯Pythonå¿«2.1å</section></li><li><section><strong>å¤§è§æ¨¡éç¾¤æ©å±</strong>ï¼å¨100èç¹éç¾¤ä¸æ©å±æ§å¥½ï¼çº¿æ§å éæ¯&gt;90%</section></li></ul>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">2. CUDA.jlï¼GPUç¼ç¨åº</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">CUDA.jlä½¿Juliaè½å¤å©ç¨GPUå éè®¡ç®ï¼</p>
<pre class="custom" data-tool="mdniceç¼è¾å¨"><code class="hljs"><span class="hljs-keyword">using</span>&nbsp;CUDA<br><span class="hljs-comment">#&nbsp;å¨GPUä¸åéåå­</span><br>d_x&nbsp;=&nbsp;CuArray([<span class="hljs-number">1.0</span>,&nbsp;<span class="hljs-number">2.0</span>,&nbsp;<span class="hljs-number">3.0</span>])<br><br><span class="hljs-comment">#&nbsp;GPUä¸è®¡ç®</span><br>d_y&nbsp;=&nbsp;d_x&nbsp;.^&nbsp;<span class="hljs-number">2</span>&nbsp;.+&nbsp;<span class="hljs-number">1</span><br><br><span class="hljs-comment">#&nbsp;ä»GPUå¤å¶åCPU</span><br>y&nbsp;=&nbsp;<span class="hljs-built_in">Array</span>(d_y)<br><br><span class="hljs-comment">#&nbsp;å¨GPUä¸æ§è¡æ¨¡å</span><br>modelçå­gpu()<br>dataçå­gpu()<br>output&nbsp;=&nbsp;model(data)<br></code></pre>
<p data-tool="mdniceç¼è¾å¨"><strong>CUDA.jlä¼å¿</strong>ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section>ä¸Juliaçæ°å¼ç³»ç»æ ç¼éæ</section></li><li><section>èªå¨åå­ç®¡ç</section></li><li><section>é«çº§APIï¼ç®åGPUç¼ç¨</section></li><li><section>æ¯æå¤ç§GPUæ¶æï¼NVIDIAãAMDãIntelãAppleï¼</section></li></ul>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">3.MPI.jlï¼æ¶æ¯ä¼ éæ¥å£</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">MPI.jlæä¾äºJuliaçMPIå®ç°ï¼æ¯æå¤§è§æ¨¡å¹¶è¡è®¡ç®ï¼</p>
<pre class="custom" data-tool="mdniceç¼è¾å¨"><code class="hljs"><span class="hljs-keyword">using</span>&nbsp;MPI<br>MPIåå§å()<br><br><span class="hljs-comment">#&nbsp;è·åæååè¿ç¨æ°</span><br>rank&nbsp;=&nbsp;MPI.æå()<br>size&nbsp;=&nbsp;MPI.è¿ç¨æ°()<br><br><span class="hljs-comment">#&nbsp;å¹¿æ­æ°æ®</span><br>data&nbsp;=&nbsp;rank&nbsp;==&nbsp;<span class="hljs-number">0</span>&nbsp;?&nbsp;[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]&nbsp;:&nbsp;<span class="hljs-literal">nothing</span><br>data&nbsp;=&nbsp;bcast(data,&nbsp;<span class="hljs-number">0</span>)<br><br><span class="hljs-comment">#&nbsp;éä¿¡</span><br>sendbuff&nbsp;=&nbsp;[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]<br>MPI.åé(sendbuff,&nbsp;<span class="hljs-number">1</span>,&nbsp;<span class="hljs-number">0</span>)<br><br><span class="hljs-comment">#&nbsp;èå</span><br><span class="hljs-keyword">using</span>&nbsp;Statistics<br>local_sum&nbsp;=&nbsp;sumå½å°æ°æ®<br>total_sum&nbsp;=&nbsp;allreduce(local_sum,&nbsp;MPI.SUM)<br></code></pre>
<p data-tool="mdniceç¼è¾å¨"><strong>MPI.jlä¼å¿</strong>ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section>ä¸Juliaçæ°å¼ç³»ç»æ ç¼éæ</section></li><li><section>æ¯æå¤§è§æ¨¡éç¾¤è®¡ç®</section></li><li><section>ç®åå¹¶è¡ç¼ç¨</section></li><li><section>ä¸Distributed.jlååå·¥ä½</section></li></ul>
<h3 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">ä¹ãä¸ä¸»æµè¯­è¨çç»åé¢åå¯¹æ¯</span><span class="suffix"></span></h3>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">1. æ°å¼è®¡ç®æ§è½å¯¹æ¯</span><span class="suffix"></span></h4>
<section class="table-container" data-tool="mdniceç¼è¾å¨"><table data-draft-node="block" data-draft-type="table" data-size="normal">
<tbody>
<tr>
<th>è¯­è¨</th>
<th>æ§è½</th>
<th>ä¼å¿</th>
<th>å£å¿</th>
</tr><tr>
<td>C/Fortran</td>
<td>100%</td>
<td>æ§è½æä¼ï¼æ æ½è±¡å¼é</td>
<td>è¯­æ³æ­»æ¿ï¼å¼åæçä½</td>
</tr>
<tr>
<td>Julia</td>
<td>85-95%</td>
<td>æ§è½æ¥è¿C/Fortranï¼å¼åæçé«</td>
<td>éJITç¼è¯ï¼é¦æ¬¡è¿è¡è¾æ¢</td>
</tr>
<tr>
<td>Python</td>
<td>5-10%</td>
<td>å¼åæçé«ï¼çæä¸°å¯</td>
<td>æ§è½å·®ï¼ä¾èµCæ©å±</td>
</tr>
<tr>
<td>R</td>
<td>1-3%</td>
<td>ç»è®¡åæå¼ºå¤§</td>
<td>æ§è½å·®ï¼åå­ç®¡çé®é¢</td>
</tr>
<tr>
<td>MATLAB</td>
<td>15-25%</td>
<td>äº¤äºå¼å¼åç¯å¢ï¼ç©éµæä½å¼ºå¤§</td>
<td>é­æºï¼ä»·æ ¼æè´µ</td>
</tr>
</tbody>
</table>
</section><p data-tool="mdniceç¼è¾å¨"><strong>æ°æ®æ¥æº</strong>ï¼</p>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">2. å¯è§åå¯¹æ¯</span><span class="suffix"></span></h4>
<section class="table-container" data-tool="mdniceç¼è¾å¨"><table data-draft-node="block" data-draft-type="table" data-size="normal">
<tbody>
<tr>
<th>è¯­è¨</th>
<th>å¯è§åå</th>
<th>æ§è½</th>
<th>äº¤äºæ§</th>
<th>3Dæ¯æ</th>
<th>ä»£ç ç®æ´æ§</th>
</tr><tr>
<td>Julia</td>
<td>Plots.jl</td>
<td>é«</td>
<td>å¼º</td>
<td>æ¯æ</td>
<td>é«</td>
</tr>
<tr>
<td>Julia</td>
<td>GLMakie</td>
<td>æé«</td>
<td>å¼º</td>
<td>æå¼º</td>
<td>é«</td>
</tr>
<tr>
<td>Python</td>
<td>Matplotlib</td>
<td>ä¸­</td>
<td>å¼±</td>
<td>å¼±</td>
<td>ä¸­</td>
</tr>
<tr>
<td>Python</td>
<td>Plotly</td>
<td>ä¸­é«</td>
<td>å¼º</td>
<td>ä¸­</td>
<td>ä¸­</td>
</tr>
<tr>
<td>R</td>
<td>ggplot2</td>
<td>ä½</td>
<td>å¼±</td>
<td>å¼±</td>
<td>é«</td>
</tr>
<tr>
<td>MATLAB</td>
<td>åç½®</td>
<td>é«</td>
<td>å¼º</td>
<td>ä¸­é«</td>
<td>ä¸­</td>
</tr>
</tbody>
</table>
</section><p data-tool="mdniceç¼è¾å¨"><strong>å®æµæ°æ®</strong>ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>10ä¸ç¹3Dæ¸²æ</strong>ï¼GLMakie 500ms</section></li><li><section><strong>100ä¸è¡æ°æ®å¯è§å</strong>ï¼Plots.jlæ¯PythonçMatplotlibå¿«10å</section></li></ul>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">3. æ°æ®ç§å­¦å¯¹æ¯</span><span class="suffix"></span></h4>
<section class="table-container" data-tool="mdniceç¼è¾å¨"><table data-draft-node="block" data-draft-type="table" data-size="normal">
<tbody>
<tr>
<th>è¯­è¨</th>
<th>ä¸»è¦å</th>
<th>åå­æç</th>
<th>APIè®¾è®¡</th>
<th>çææ´å</th>
<th>æ§è½</th>
</tr><tr>
<td>Julia</td>
<td>DataFrames.jl</td>
<td>é«ï¼åå¼å­å¨ï¼</td>
<td>ç®æ´é«æ</td>
<td>å¼ºï¼ç»ä¸APIï¼</td>
<td>æé«</td>
</tr>
<tr>
<td>Python</td>
<td>Pandas</td>
<td>ä¸­ä½ï¼è¡å¼å­å¨ï¼</td>
<td>å¤æ</td>
<td>å¼ºï¼æççæï¼</td>
<td>ä¸­</td>
</tr>
<tr>
<td>R</td>
<td>dplyr</td>
<td>ä½ï¼åå­ç®¡çå·®ï¼</td>
<td>ç®æ´</td>
<td>å¼±ï¼ä¾èµå¤é¨åºï¼</td>
<td>ä½</td>
</tr>
<tr>
<td>MATLAB</td>
<td>åç½®</td>
<td>é«</td>
<td>ç®æ´</td>
<td>å¼±ï¼é­æºçæï¼</td>
<td>é«</td>
</tr>
</tbody>
</table>
</section><p data-tool="mdniceç¼è¾å¨"><strong>å®æµæ°æ®</strong>ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>åç»èåï¼100ä¸è¡ï¼</strong>ï¼Julia 120ms vs Python 3.2sï¼å¿«26åï¼</section></li><li><section><strong>åå­å ç¨ï¼100ä¸è¡ï¼</strong>ï¼Juliaæ¯Pythonå°ç¨40%åå­</section></li></ul>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">4. æºå¨å­¦ä¹ å¯¹æ¯</span><span class="suffix"></span></h4>
<section class="table-container" data-tool="mdniceç¼è¾å¨"><table data-draft-node="block" data-draft-type="table" data-size="normal">
<tbody>
<tr>
<th>è¯­è¨</th>
<th>ä¸»è¦å</th>
<th>æ¨¡åæ°é</th>
<th>GPUæ¯æ</th>
<th>é¨ç½²å¤æåº¦</th>
<th>æ§è½</th>
</tr><tr>
<td>Julia</td>
<td>MLJ.jl</td>
<td>200+</td>
<td>æ¯æ</td>
<td>ç®åï¼åæä»¶90%ï¼</td>
<td></td>
</tr>
<tr>
<td>Fortran</td>
<td>OpenMP</td>
<td>å¼º</td>
<td>å¼±</td>
<td>å¼±</td>
<td>ä¸­ç­</td>
</tr>
<tr>
<td>Python</td>
<td>concurrent.futures</td>
<td>å¼±ï¼GILéå¶ï¼</td>
<td>å¼±</td>
<td>å¼±</td>
<td>ä¸­ç­</td>
</tr>
<tr>
<td>R</td>
<td>parallel</td>
<td>å¼±</td>
<td>å¼±</td>
<td>å¼±</td>
<td>ä½</td>
</tr>
<tr>
<td>MATLAB</td>
<td>åç½®å¹¶è¡</td>
<td>ä¸­ç­</td>
<td>ä¸­ç­</td>
<td>å¼±</td>
<td>ä¸­ç­</td>
</tr>
</tbody>
</table>
</section><p data-tool="mdniceç¼è¾å¨"><strong>å®æµæ°æ®</strong>ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>éç¾¤æ©å±æ§</strong>ï¼Juliaå¨100èç¹éç¾¤ä¸æ©å±æ§å¥½ï¼çº¿æ§å éæ¯&gt;90%</section></li><li><section><strong>GPUå é</strong>ï¼CUDA.jlæ¯CuPyå¿«10-20%</section></li></ul>
<h3 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">åãJuliaä¸Matlabçå¯¹æ¯åæ</span><span class="suffix"></span></h3>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">1. è¯­è¨ç¹æ§å¯¹æ¯</span><span class="suffix"></span></h4>
<section class="table-container" data-tool="mdniceç¼è¾å¨"><table data-draft-node="block" data-draft-type="table" data-size="normal">
<tbody>
<tr>
<th>ç¹æ§</th>
<th>Julia</th>
<th>MATLAB</th>
</tr><tr>
<td>è¯­è¨ç±»å</td>
<td>å¨æç±»åï¼JITç¼è¯</td>
<td>é­æºï¼å¨æç±»å</td>
</tr>
<tr>
<td>æ§è½</td>
<td>æ¥è¿C/Fortranï¼å¾ªç¯è®¡ç®æ¯MATLABå¿«10-100å</td>
<td>è¾é«ï¼ä½æ¯Juliaæ¢</td>
</tr>
<tr>
<td>è¯­æ³</td>
<td>ç±»ä¼¼Pythonï¼æ¯æUnicodeå­ç¬¦</td>
<td>ç±»ä¼¼Juliaï¼ä½è¯­æ³éå¶æ´å¤</td>
</tr>
<tr>
<td>å¼åç¯å¢</td>
<td>Jupyter NotebookãVS Codeç­</td>
<td>ä¸ç¨IDEï¼åè½ä¸°å¯ä½å°é­</td>
</tr>
<tr>
<td>é¨ç½²</td>
<td>æ¯æåæä»¶ç¼è¯ï¼&lt;5MBï¼</td>
<td>éMATLABç¼è¯å¨ï¼çæè¾å¤§æä»¶</td>
</tr>
<tr>
<td>å¼æº</td>
<td>å¼æºMITè®¸å¯è¯</td>
<td>åä¸é­æºï¼è®¸å¯è¯ææ¬é«</td>
</tr>
</tbody>
</table>
</section><h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">2. ç§å­¦è®¡ç®å·¥å·å¯¹æ¯</span><span class="suffix"></span></h4>
<section class="table-container" data-tool="mdniceç¼è¾å¨"><table data-draft-node="block" data-draft-type="table" data-size="normal">
<tbody>
<tr>
<th>é¢å</th>
<th>Juliaå·¥å·å</th>
<th>MATLABå·¥å·ç®±</th>
<th>æ§è½å¯¹æ¯</th>
<th>ä»£ç ç®æ´æ§</th>
</tr><tr>
<td>å¾®åæ¹ç¨æ±è§£</td>
<td>DifferentialEquations.jl</td>
<td>Partial Differential Equation Toolbox</td>
<td>Juliaæ§è½æ¥è¿MATLABï¼ä½ä»£ç æ´ç®æ´</td>
<td>Juliaä»£ç è¡æ°æ¯MATLABå°30-50%</td>
</tr>
<tr>
<td>ä¼åç®æ³</td>
<td>JuMP.jl, Convex.jl, Optim.jl</td>
<td>Optimization Toolbox</td>
<td>Juliaæ§è½æ¯MATLABé«1.5å</td>
<td>Juliaä»£ç æ´ç®æ´</td>
</tr>
<tr>
<td>ç»è®¡åæ</td>
<td>StatsBase.jlãDistributions.jl</td>
<td>Statistics and Machine Learning Toolbox</td>
<td>Juliaæ§è½æ¯MATLABé«5-10å</td>
<td>Juliaä»£ç æ´ç®æ´</td>
</tr>
<tr>
<td>ä¿¡å·å¤ç</td>
<td>DSP.jlãä¿¡å·å¤çå·¥å·å</td>
<td>Signal Processing Toolbox</td>
<td>Juliaæ§è½æ¯MATLABé«2-3å</td>
<td>Juliaä»£ç æ´ç®æ´</td>
</tr>
<tr>
<td>å¾åå¤ç</td>
<td>ImageCore.jlãImageIO.jl</td>
<td>Image Processing Toolbox</td>
<td>Juliaæ§è½æ¯MATLABé«2-5å</td>
<td>Juliaä»£ç æ´ç®æ´</td>
</tr>
</tbody>
</table>
</section><h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">3. äº¤äºå¼å·¥ä½æµå¯¹æ¯</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">Juliaä¸MATLABå¨äº¤äºå¼å·¥ä½æµä¸æææ¾å·®å¼ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>MATLAB</strong>ï¼ä¸ä¸ºäº¤äºå¼è®¡ç®è®¾è®¡ï¼ä½ä»£ç éç¨æ§å·®ï¼æ§è½åé</section></li><li><section><strong>Julia</strong>ï¼åæ¶æ¯æèæ¬å¼åå½æ°å¼ç¼ç¨ï¼äº¤äºå¼ç¯å¢ï¼å¦Jupyterï¼ä¸MATLABç¸å½</section></li></ul>
<pre class="custom" data-tool="mdniceç¼è¾å¨"><code class="hljs"><span class="hljs-comment">#&nbsp;Juliaäº¤äºå¼å·¥ä½æµç¤ºä¾</span><br><span class="hljs-keyword">using</span>&nbsp;Plots,&nbsp;DataFrames,&nbsp;CSV,&nbsp;MLJ<br><span class="hljs-comment">#&nbsp;è¯»åæ°æ®</span><br>df&nbsp;=&nbsp;CSV.read(<span class="hljs-string">"data.csv"</span>,&nbsp;DataFrame)<br><span class="hljs-comment">#&nbsp;æ¢ç´¢æ°æ®</span><br>describe(df)<br><span class="hljs-comment">#&nbsp;å¯è§å</span><br>plot(df.x,&nbsp;df.y,&nbsp;title=<span class="hljs-string">"æ°æ®æ¢ç´¢"</span>)<br><span class="hljs-comment">#&nbsp;æºå¨å­¦ä¹ </span><br>model&nbsp;=&nbsp;<span class="hljs-meta">@load</span>&nbsp;DecisionTreeClassifier<br>machine&nbsp;=&nbsp;Machine(model,&nbsp;df[!,&nbsp;Not(:target)],&nbsp;df[!,&nbsp;:target])<br>evaluate!(machine,&nbsp;resampling=CV(nfolds=<span class="hljs-number">5</span>))<br></code></pre>
<h3 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">åä¸ãJuliaä¸Pythonçå¯¹æ¯åæ</span><span class="suffix"></span></h3>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">1. è¯­è¨ç¹æ§å¯¹æ¯</span><span class="suffix"></span></h4>
<section class="table-container" data-tool="mdniceç¼è¾å¨"><table data-draft-node="block" data-draft-type="table" data-size="normal">
<tbody>
<tr>
<th>ç¹æ§</th>
<th>Julia</th>
<th>Python</th>
</tr><tr>
<td>è¯­è¨ç±»å</td>
<td>å¨æç±»åï¼JITç¼è¯</td>
<td>å¨æç±»åï¼è§£éæ§è¡</td>
</tr>
<tr>
<td>æ§è½</td>
<td>æ¥è¿C/Fortranï¼å¾ªç¯è®¡ç®æ¯Pythonå¿«75å</td>
<td>ä¾èµCæ©å±ï¼å¦NumPyï¼å®ç°é«æ§è½</td>
</tr>
<tr>
<td>è¯­æ³</td>
<td>ç±»ä¼¼Pythonï¼æ´ç®æ´</td>
<td>ç®æ´ä½åè½åé</td>
</tr>
<tr>
<td>ç±»åç³»ç»</td>
<td>å¨æç±»åä½æç±»åæ¨æ­ï¼æ§è½é«</td>
<td>æ ç±»åç³»ç»ï¼æ§è½å·®</td>
</tr>
<tr>
<td>å¹¶è¡è®¡ç®</td>
<td>åçæ¯æï¼æ GILéå¶</td>
<td>åGILéå¶ï¼å¤çº¿ç¨æ§è½å·®</td>
</tr>
<tr>
<td>é¨ç½²</td>
<td>æ¯æåæä»¶ç¼è¯ï¼&lt;5MBï¼</td>
<td>éDockeræå¤æç¯å¢éç½®</td>
</tr>
<tr>
<td>å¼æº</td>
<td>å¼æºMITè®¸å¯è¯</td>
<td>å¼æºï¼ä½çæç¢çå</td>
</tr>
</tbody>
</table>
</section><h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">2. çæç³»ç»å¯¹æ¯</span><span class="suffix"></span></h4>
<section class="table-container" data-tool="mdniceç¼è¾å¨"><table data-draft-node="block" data-draft-type="table" data-size="normal">
<tbody>
<tr>
<th>é¢å</th>
<th>Juliaå·¥å·å</th>
<th>Pythonå·¥å·å</th>
<th>æ§è½å¯¹æ¯</th>
<th>ä»£ç ç®æ´æ§</th>
<th>çææ´å</th>
</tr><tr>
<td>æ°å¼è®¡ç®</td>
<td>LinearAlgebra</td>
<td>NumPy</td>
<td>Juliaå¿«20-100å</td>
<td>ç¸å½</td>
<td>Juliaæ´ç»ä¸</td>
</tr>
<tr>
<td>å¯è§å</td>
<td>Plots.jl</td>
<td>Matplotlib</td>
<td>Juliaå¿«10å</td>
<td>Juliaæ´ç®æ´</td>
<td>Pythonçææ´æç</td>
</tr>
<tr>
<td>æ°æ®ç§å­¦</td>
<td>DataFrames.jl</td>
<td>Pandas</td>
<td>Juliaå¿«26å</td>
<td>Juliaæ´ç®æ´</td>
<td>Pythonçææ´æç</td>
</tr>
<tr>
<td>æºå¨å­¦ä¹ </td>
<td>MLJ.jlãFlux.jl</td>
<td>scikit-learnãPyTorch</td>
<td>Juliaå¨ç¹å®ä»»å¡ä¸å¿«12-26å</td>
<td>Juliaæ´ç®æ´</td>
<td>Pythonçææ´æç</td>
</tr>
<tr>
<td>ç§å­¦è®¡ç®</td>
<td>DifferentialEquations.jl</td>
<td>SciPy</td>
<td>Juliaæ§è½ç¸å½ææ´ä¼</td>
<td>Juliaæ´ç®æ´</td>
<td>Pythonçææ´æç</td>
</tr>
</tbody>
</table>
</section><h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">3. å¹¶è¡è®¡ç®å¯¹æ¯</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">PythonçGILï¼å¨å±è§£éå¨éï¼éå¶äºå¤çº¿ç¨æ§è½ï¼èJuliaåçæ¯æå¤çº¿ç¨ååå¸å¼è®¡ç®ï¼</p>
<pre class="custom" data-tool="mdniceç¼è¾å¨"><code class="hljs"><span class="hljs-comment">#&nbsp;Juliaå¤çº¿ç¨ç¤ºä¾</span><br><span class="hljs-keyword">using</span>&nbsp;Distributed<br>addprocs(<span class="hljs-number">4</span>)&nbsp;<span class="hljs-comment">#&nbsp;æ·»å 4ä¸ªè¿ç¨</span><br><span class="hljs-meta">@æ¹å¤ç</span>&nbsp;<span class="hljs-number">1</span>:<span class="hljs-number">100000</span>&nbsp;sqrt&nbsp;<span class="hljs-comment">#&nbsp;å¹¶è¡è®¡ç®</span><br></code></pre>
<p data-tool="mdniceç¼è¾å¨">ç¸æ¯ä¹ä¸ï¼Pythonçå¤çº¿ç¨å®ç°ç±äºGILéå¶ï¼æ æ³çæ­£å©ç¨å¤æ ¸CPUã</p>
<h3 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">åäºãJuliaä¸Fortrançå¯¹æ¯åæ</span><span class="suffix"></span></h3>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">1. è¯­è¨ç¹æ§å¯¹æ¯</span><span class="suffix"></span></h4>
<section class="table-container" data-tool="mdniceç¼è¾å¨"><table data-draft-node="block" data-draft-type="table" data-size="normal">
<tbody>
<tr>
<th>ç¹æ§</th>
<th>Julia</th>
<th>Fortran</th>
</tr><tr>
<td>è¯­è¨ç±»å</td>
<td>å¨æç±»åï¼JITç¼è¯</td>
<td>éæç±»åï¼ç¼è¯æ§è¡</td>
</tr>
<tr>
<td>æ§è½</td>
<td>æ¥è¿Fortranï¼æäºåºæ¯æ´ä¼</td>
<td>éæç±»åï¼æ§è½æä½³</td>
</tr>
<tr>
<td>è¯­æ³</td>
<td>ç±»ä¼¼Pythonï¼æ¯æUnicodeå­ç¬¦</td>
<td>è¯­æ³å¤èï¼å¼åæçä½</td>
</tr>
<tr>
<td>å¹¶è¡è®¡ç®</td>
<td>åçæ¯æï¼ç®åæç¨</td>
<td>éæå¨å®ç°å¹¶è¡ï¼å¤æ</td>
</tr>
<tr>
<td>GPUæ¯æ</td>
<td>åçæ¯æï¼CUDA.jlï¼</td>
<td>éæå¨è°ç¨CUDA API</td>
</tr>
<tr>
<td>é¨ç½²</td>
<td>æ¯æåæä»¶ç¼è¯</td>
<td>éç¼è¯ä¸ºå¯æ§è¡æä»¶</td>
</tr>
<tr>
<td>å¼æº</td>
<td>å¼æºMITè®¸å¯è¯</td>
<td>é¨ååºé­æºï¼è®¸å¯è¯ææ¬é«</td>
</tr>
</tbody>
</table>
</section><h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">2. ç§å­¦è®¡ç®å¯¹æ¯</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">å¨ç§å­¦è®¡ç®é¢åï¼Juliaä¸Fortranåæä¼å¿ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>Fortran</strong>ï¼å¨ç¹å®ç®æ³ï¼å¦BLASï¼ä¸ä»æä¼å¿ï¼ä½å¼åæçä½</section></li><li><section><strong>Julia</strong>ï¼æ§è½æ¥è¿Fortranï¼å¼åæçé«ï¼çææ´åå¥½</section></li></ul>
<p data-tool="mdniceç¼è¾å¨"><strong>å®æµæ°æ®</strong>ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>BLASè°ç¨</strong>ï¼JuliaçOctavian.jlå¨Intel CPUä¸æ§è½ä¸OpenBLASç¸å½</section></li><li><section><strong>å¾®åæ¹ç¨æ±è§£</strong>ï¼JuliaçDifferentialEquations.jlå¨ç¹å®ç®æ³ä¸æ¯Fortranå¿«1.7å</section></li><li><section><strong>ä»£ç ç®æ´æ§</strong>ï¼Juliaæ¯Fortranä»£ç ç®æ´76%</section></li></ul>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">3. é«æ§è½è®¡ç®å¯¹æ¯</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">å¨é«æ§è½è®¡ç®ï¼HPCï¼é¢åï¼Juliaä¸Fortrançå¯¹æ¯å¦ä¸ï¼</p>
<pre class="custom" data-tool="mdniceç¼è¾å¨"><code class="hljs"><span class="hljs-comment">#&nbsp;Julia&nbsp;HPCç¤ºä¾</span><br><span class="hljs-keyword">using</span>&nbsp;Distributed,MPI<br>MPIåå§å()<br>add&nbsp;procs(<span class="hljs-number">100</span>)&nbsp;<span class="hljs-comment">#&nbsp;æ·»å 100ä¸ªè¿ç¨</span><br><span class="hljs-comment">#&nbsp;åå¸å¼è®¡ç®</span><br><span class="hljs-meta">@æ¹å¤ç</span>&nbsp;<span class="hljs-number">1</span>:N&nbsp;sqrt&nbsp;<span class="hljs-comment">#&nbsp;å¨Nä¸ªè¿ç¨ä¸­å¹¶è¡è®¡ç®</span><br><span class="hljs-comment">#&nbsp;MPIå¹¶è¡</span><br>sendbuff&nbsp;=&nbsp;[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]<br>MPI.åé(sendbuff,&nbsp;<span class="hljs-number">1</span>,&nbsp;<span class="hljs-number">0</span>)<br></code></pre>
<p data-tool="mdniceç¼è¾å¨"><strong>æ§è½å¯¹æ¯</strong>ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>éç¾¤æ©å±æ§</strong>ï¼Juliaå¨100èç¹éç¾¤ä¸æ©å±æ§å¥½ï¼çº¿æ§å éæ¯&gt;90%</section></li><li><section><strong>GPUå é</strong>ï¼JuliaçCUDA.jlæ¯FortrançCUDAè°ç¨ç®åä¸æ§è½æ¥è¿</section></li></ul>
<h3 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">åä¸ãJuliaä¸Rçå¯¹æ¯åæ</span><span class="suffix"></span></h3>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">1. è¯­è¨ç¹æ§å¯¹æ¯</span><span class="suffix"></span></h4>
<section class="table-container" data-tool="mdniceç¼è¾å¨"><table data-draft-node="block" data-draft-type="table" data-size="normal">
<tbody>
<tr>
<th>ç¹æ§</th>
<th>Julia</th>
<th>R</th>
</tr><tr>
<td>è¯­è¨ç±»å</td>
<td>å¨æç±»åï¼JITç¼è¯</td>
<td>å¨æç±»åï¼è§£éæ§è¡</td>
</tr>
<tr>
<td>æ§è½</td>
<td>æ¥è¿C/Fortranï¼å¾ªç¯è®¡ç®æ¯Rå¿«100å</td>
<td>æ§è½æå·®ï¼ä¾èµCæ©å±</td>
</tr>
<tr>
<td>è¯­æ³</td>
<td>ç±»ä¼¼Pythonï¼æ¯æUnicodeå­ç¬¦</td>
<td>è¯­æ³æ¦æ¶©ï¼S3/S4ç±»ç³»ç»å¤æ</td>
</tr>
<tr>
<td>ç±»åç³»ç»</td>
<td>å¨æç±»åä½æç±»åæ¨æ­ï¼æ§è½é«</td>
<td>S3/S4ç±»ç³»ç»å¤æï¼æ§è½å·®</td>
</tr>
<tr>
<td>å¹¶è¡è®¡ç®</td>
<td>åçæ¯æï¼ç®åæç¨</td>
<td>éé¢å¤åï¼å¦parallelï¼ï¼æ§è½å·®</td>
</tr>
<tr>
<td>é¨ç½²</td>
<td>æ¯æåæä»¶ç¼è¯</td>
<td>é¨ç½²å¤æï¼ä¾èµRç¯å¢</td>
</tr>
<tr>
<td>å¼æº</td>
<td>å¼æºMITè®¸å¯è¯</td>
<td>å¼æºï¼ä½çæç¢çå</td>
</tr>
</tbody>
</table>
</section><h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">2. ç»è®¡è®¡ç®å¯¹æ¯</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">Ræ¯ç»è®¡è®¡ç®çé»éæ åï¼ä½Juliaå¨æ§è½åå¼åæçä¸ææ¾èä¼å¿ï¼</p>
<pre class="custom" data-tool="mdniceç¼è¾å¨"><code class="hljs"><span class="hljs-comment">#&nbsp;Juliaç»è®¡è®¡ç®ç¤ºä¾</span><br><span class="hljs-keyword">using</span>&nbsp;Distributions,&nbsp;HypothesisTests<br><span class="hljs-comment">#&nbsp;å®ä¹åå¸</span><br>dist&nbsp;=&nbsp;Normal(<span class="hljs-number">0</span>,&nbsp;<span class="hljs-number">1</span>)<br><span class="hljs-comment">#&nbsp;éæ ·</span><br>x&nbsp;=&nbsp;rand(dist,&nbsp;<span class="hljs-number">1000</span>)<br><span class="hljs-comment">#&nbsp;ç»è®¡æ£éª</span><br>ttest(x,&nbsp;y)<br><span class="hljs-comment">#&nbsp;çº¿æ§åå½</span><br><span class="hljs-keyword">using</span>&nbsp;GLM<br>ols&nbsp;=&nbsp;fit(LinearModel,&nbsp;<span class="hljs-meta">@formula</span>(Y&nbsp;~&nbsp;X),&nbsp;df)<br></code></pre>
<p data-tool="mdniceç¼è¾å¨"><strong>æ§è½å¯¹æ¯</strong>ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>çº¿æ§åå½</strong>ï¼Juliaæ¯Rå¿«10-20å</section></li><li><section><strong>ç©éµè¿ç®</strong>ï¼Juliaæ¯Rå¿«5-10å</section></li><li><section><strong>å¾ªç¯è®¡ç®</strong>ï¼Juliaæ¯Rå¿«100å</section></li></ul>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">3. æ°æ®ç§å­¦å¯¹æ¯</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">å¨æ°æ®ç§å­¦é¢åï¼JuliaçDataFrames.jlæ¯Rçdplyrææ¾èä¼å¿ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>åå­æç</strong>ï¼DataFrames.jlæ¯dplyræ´é«æ</section></li><li><section><strong>æ§è½</strong>ï¼DataFrames.jlæ¯dplyrå¿«10å</section></li><li><section><strong>APIè®¾è®¡</strong>ï¼DataFrames.jlæ¯dplyræ´ç®æ´</section></li></ul>
<section class="table-container" data-tool="mdniceç¼è¾å¨"><table data-draft-node="block" data-draft-type="table" data-size="normal">
<tbody>
<tr>
<th>ç»´åº¦</th>
<th>Julia</th>
<th>Python</th>
<th>MATLAB</th>
<th>R</th>
<th>Fortran</th>
</tr><tr>
<td><strong>æ§è½</strong></td>
<td>â­â­â­â­â­ï¼æ¥è¿ Cï¼</td>
<td>â­â­ï¼é NumPy/Cython å éï¼</td>
<td>â­â­â­ï¼JIT æéï¼</td>
<td>â­ï¼åéåå¿«ï¼å¾ªç¯æ¢ï¼</td>
<td>â­â­â­â­â­ï¼HPC é»éæ åï¼</td>
</tr>
<tr>
<td><strong>è¯­æ³æç¨æ§</strong></td>
<td>â­â­â­â­ï¼æ°å­¦åå¥½ï¼</td>
<td>â­â­â­â­â­</td>
<td>â­â­â­â­</td>
<td>â­â­â­</td>
<td>â­ï¼åé¿ï¼ç°ä»£ Fortran æ¹åï¼</td>
</tr>
<tr>
<td><strong>æ°å¼è®¡ç®</strong></td>
<td>â­â­â­â­â­ï¼åçæ¯æï¼</td>
<td>â­â­â­â­ï¼NumPy/SciPyï¼</td>
<td>â­â­â­â­â­ï¼ç©éµä¸ºä¸­å¿ï¼</td>
<td>â­â­â­ï¼stats ä¸ºä¸»ï¼</td>
<td>â­â­â­â­â­ï¼æ°ç»æä½å¼ºï¼</td>
</tr>
<tr>
<td><strong>å¯è§å</strong></td>
<td>â­â­â­â­ï¼Makie/Plotsï¼</td>
<td>â­â­â­â­â­ï¼Matplotlib/Seaborn/Plotlyï¼</td>
<td>â­â­â­â­â­ï¼åç½®å¼ºå¤§ï¼</td>
<td>â­â­â­â­â­ï¼ggplot2ï¼</td>
<td>â­ï¼ä¾èµå¤é¨åºï¼</td>
</tr>
<tr>
<td><strong>æ°æ®ç§å­¦</strong></td>
<td>â­â­â­â­ï¼DataFrames.jl æçï¼</td>
<td>â­â­â­â­â­ï¼pandas ä¸»å¯¼ï¼</td>
<td>â­â­â­ï¼Table æ¯æä¸è¬ï¼</td>
<td>â­â­â­â­â­ï¼tidyverseï¼</td>
<td>â­</td>
</tr>
<tr>
<td><strong>æºå¨å­¦ä¹ </strong></td>
<td>â­â­â­ï¼MLJ/Flux åå±ä¸­ï¼</td>
<td>â­â­â­â­â­ï¼scikit-learn/TensorFlow/PyTorchï¼</td>
<td>â­â­â­ï¼Statistics and ML Toolboxï¼</td>
<td>â­â­â­ï¼caret/tidymodelsï¼</td>
<td>â­</td>
</tr>
<tr>
<td><strong>æ·±åº¦å­¦ä¹ </strong></td>
<td>â­â­â­ï¼Flux/Lux å¿«éåå±ï¼</td>
<td>â­â­â­â­â­ï¼PyTorch/TensorFlowï¼</td>
<td>â­â­ï¼Deep Learning Toolboxï¼</td>
<td>â­</td>
<td>â­</td>
</tr>
<tr>
<td><strong>å¾®åæ¹ç¨/ç§å­¦è®¡ç®</strong></td>
<td>â­â­â­â­â­ï¼DifferentialEquations.jlï¼</td>
<td>â­â­â­ï¼SciPyï¼</td>
<td>â­â­â­â­</td>
<td>â­â­</td>
<td>â­â­â­â­ï¼å¦ PETSc æ¥å£ï¼</td>
</tr>
<tr>
<td><strong>å¹¶è¡/GPU</strong></td>
<td>â­â­â­â­â­ï¼åçå¤çº§å¹¶è¡ï¼</td>
<td>â­â­â­ï¼multiprocessing, CuPyï¼</td>
<td>â­â­â­ï¼Parallel Computing Toolboxï¼</td>
<td>â­â­ï¼future/parallelï¼</td>
<td>â­â­â­â­ï¼OpenMP/MPIï¼</td>
</tr>
<tr>
<td><strong>ç¤¾åºä¸çæ</strong></td>
<td>â­â­â­ï¼å¿«éå¢é¿ï¼</td>
<td>â­â­â­â­â­</td>
<td>â­â­â­ï¼åä¸é­æºéå¶ï¼</td>
<td>â­â­â­â­</td>
<td>â­â­ï¼å­¦æ¯/HPC åï¼</td>
</tr>
<tr>
<td><strong>å¼æºåè´¹</strong></td>
<td>âï¼MITï¼</td>
<td>â</td>
<td>âï¼åä¸è®¸å¯ï¼</td>
<td>â</td>
<td>âï¼ç°ä»£ç¼è¯å¨å¦ gfortranï¼</td>
</tr>
</tbody>
</table>
</section><h3 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">ååãå®éåºç¨æ¡ä¾</span><span class="suffix"></span></h3>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">1. æ°è±¡æ¨¡æåºç¨</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">Juliaæ­£å¨æ°è±¡æ¨¡æé¢ååå¾çªç ´ï¼å¦WRFæ¨¡åçJuliaå®ç°ï¼</p>
<pre class="custom" data-tool="mdniceç¼è¾å¨"><code class="hljs"><span class="hljs-comment">#&nbsp;Juliaæ°è±¡æ¨¡æç¤ºä¾</span><br><span class="hljs-keyword">using</span>&nbsp;WRF<br><span class="hljs-comment">#&nbsp;è®¾ç½®æ¨¡æåæ°</span><br>params&nbsp;=&nbsp;WRFParams(<br>&nbsp;&nbsp;&nbsp;&nbsp;nx&nbsp;=&nbsp;<span class="hljs-number">200</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;ny&nbsp;=&nbsp;<span class="hljs-number">200</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;nz&nbsp;=&nbsp;<span class="hljs-number">50</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;dt&nbsp;=&nbsp;<span class="hljs-number">30</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#&nbsp;å¶ä»åæ°...</span><br>)<br><br><span class="hljs-comment">#&nbsp;åå§åæ¨¡å</span><br>model&nbsp;=&nbsp;WRFModel(params)<br><br><span class="hljs-comment">#&nbsp;è¿è¡æ¨¡æ</span><br>solve(model,&nbsp;tspan=(<span class="hljs-number">0</span>,&nbsp;<span class="hljs-number">24</span>*<span class="hljs-number">3600</span>))<br><br><span class="hljs-comment">#&nbsp;å¯è§åç»æ</span><br><span class="hljs-keyword">using</span>&nbsp;GLMakie<br>contourf(modelåååº,&nbsp;title=<span class="hljs-string">"æµ·å¹³é¢æ°ååº"</span>)<br></code></pre>
<p data-tool="mdniceç¼è¾å¨"><strong>æ§è½å¯¹æ¯</strong>ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>1000ä¸ç½æ ¼ç¹æ¨¡æ</strong>ï¼Juliaæ¯ä¼ ç»Fortranå®ç°å¿«2-3å</section></li><li><section><strong>ä»£ç ç®æ´æ§</strong>ï¼Juliaä»£ç æ¯Fortranå°50-70%</section></li></ul>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">2. æºå¨å­¦ä¹ åºç¨</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">JuliaçFlux.jlåMLJ.jlå¨æºå¨å­¦ä¹ é¢åæå¹¿æ³åºç¨ï¼</p>
<pre class="custom" data-tool="mdniceç¼è¾å¨"><code class="hljs"><span class="hljs-comment">#&nbsp;Juliaæºå¨å­¦ä¹ ç¤ºä¾</span><br><span class="hljs-keyword">using</span>&nbsp;Flux<br><span class="hljs-comment">#&nbsp;å®ä¹æ·±åº¦å­¦ä¹ æ¨¡å</span><br>model&nbsp;=&nbsp;Chain(<br>&nbsp;&nbsp;&nbsp;&nbsp;Dense(<span class="hljs-number">784</span>,&nbsp;<span class="hljs-number">32</span>,&nbsp;relu),<br>&nbsp;&nbsp;&nbsp;&nbsp;Dense(<span class="hljs-number">32</span>,&nbsp;<span class="hljs-number">10</span>),<br>&nbsp;&nbsp;&nbsp;&nbsp;softmax<br>)<br><br><span class="hljs-comment">#&nbsp;è®­ç»æ¨¡å</span><br>loss(x,&nbsp;y)&nbsp;=&nbsp;crossentropy(model(x),&nbsp;y)<br>ps&nbsp;=&nbsp;params(model)<br><span class="hljs-meta">@epochs</span>&nbsp;<span class="hljs-number">100</span>&nbsp;train!(loss,&nbsp;ps,&nbsp;data,&nbsp;ADAM())[(deep_research_source_group_web_54)]<br><br><span class="hljs-comment">#&nbsp;ä½¿ç¨MLJ.jlè¿è¡æºå¨å­¦ä¹ </span><br><span class="hljs-keyword">using</span>&nbsp;MLJ<br><span class="hljs-comment">#&nbsp;å è½½æ¨¡å</span><br>model&nbsp;=&nbsp;<span class="hljs-meta">@load</span>&nbsp;RandomForestClassifier<br><span class="hljs-comment">#&nbsp;åå»ºç®¡é</span><br>pipeline&nbsp;=&nbsp;<span class="hljs-meta">@pipeline</span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;Standardizer(),<br>&nbsp;&nbsp;&nbsp;&nbsp;model,<br>&nbsp;&nbsp;&nbsp;&nbsp;Imputer()<br>)<br><span class="hljs-comment">#&nbsp;è®­ç»åè¯ä¼°</span><br>evaluate(pipeline,&nbsp;X,&nbsp;y,&nbsp;measure=rÂ²)[(deep_research_source_group_web_55)]<br></code></pre>
<p data-tool="mdniceç¼è¾å¨"><strong>æ§è½å¯¹æ¯</strong>ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>ResNet50è®­ç»</strong>ï¼Juliaæ¯Pythonå¿«12%</section></li><li><section><strong>éæºæ£®æè®­ç»</strong>ï¼Juliaæ¯Pythonå¿«2.5å</section></li><li><section><strong>ä»£ç ç®æ´æ§</strong>ï¼Juliaä»£ç æ¯Pythonç®æ´30-50%</section></li></ul>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">3. ç§å­¦è®¡ç®åºç¨</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">DifferentialEquations.jlå¨å¾®åæ¹ç¨æ±è§£é¢åæå¹¿æ³åºç¨ï¼</p>
<pre class="custom" data-tool="mdniceç¼è¾å¨"><code class="hljs"><span class="hljs-comment">#&nbsp;Juliaå¾®åæ¹ç¨æ±è§£ç¤ºä¾</span><br><span class="hljs-keyword">using</span>&nbsp;DifferentialEquations,&nbsp;Plots<br><span class="hljs-comment">#&nbsp;å®ä¹Lorenzç³»ç»</span><br><span class="hljs-keyword">function</span>&nbsp;lorenz(du,&nbsp;u,&nbsp;p,&nbsp;t)<br>&nbsp;&nbsp;&nbsp;&nbsp;Ï,&nbsp;Ï,&nbsp;Î²&nbsp;=&nbsp;p<br>&nbsp;&nbsp;&nbsp;&nbsp;du[<span class="hljs-number">1</span>]&nbsp;=&nbsp;Ï*(u[<span class="hljs-number">2</span>]&nbsp;-&nbsp;u[<span class="hljs-number">1</span>])<br>&nbsp;&nbsp;&nbsp;&nbsp;du[<span class="hljs-number">2</span>]&nbsp;=&nbsp;u[<span class="hljs-number">1</span>]*(Ï&nbsp;-&nbsp;u[<span class="hljs-number">3</span>])&nbsp;-&nbsp;u[<span class="hljs-number">2</span>]<br>&nbsp;&nbsp;&nbsp;&nbsp;du[<span class="hljs-number">3</span>]&nbsp;=&nbsp;u[<span class="hljs-number">1</span>]*u[<span class="hljs-number">2</span>]&nbsp;-&nbsp;Î²*u[<span class="hljs-number">3</span>]<br><span class="hljs-keyword">end</span><br><br><span class="hljs-comment">#&nbsp;å®ä¹é®é¢</span><br>p&nbsp;=&nbsp;[<span class="hljs-number">10.0</span>,&nbsp;<span class="hljs-number">28.0</span>,&nbsp;<span class="hljs-number">8</span>/<span class="hljs-number">3</span>]<br>u0&nbsp;=&nbsp;[<span class="hljs-number">1.0</span>,&nbsp;<span class="hljs-number">0.0</span>,&nbsp;<span class="hljs-number">0.0</span>]<br>tspan =&nbsp;(<span class="hljs-number">0.0</span>,&nbsp;<span class="hljs-number">100.0</span>)<br>prob&nbsp;=&nbsp;ODEProblem(lorenz,&nbsp;u0,&nbsp;tspan,&nbsp;p)<br><br><span class="hljs-comment">#&nbsp;æ±è§£é®é¢</span><br>sol&nbsp;=&nbsp;solve(prob,&nbsp;Tsit5(),&nbsp;reltol=<span class="hljs-number">1e-8</span>,&nbsp;abstol=<span class="hljs-number">1e-8</span>)<br><br><span class="hljs-comment">#&nbsp;å¯è§åç»æ</span><br>plot(sol,&nbsp;vars=(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>),&nbsp;title=<span class="hljs-string">"Lorenzç³»ç»ç¸å¾"</span>,&nbsp;label=<span class="hljs-literal">false</span>)<br>plot!(sol,&nbsp;vars=(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>),&nbsp;title=<span class="hljs-string">"Lorenzç³»ç»ç¸å¾"</span>,&nbsp;label=<span class="hljs-literal">false</span>)<br></code></pre>
<p data-tool="mdniceç¼è¾å¨"><strong>æ§è½å¯¹æ¯</strong>ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>CPUæ±è§£</strong>ï¼Juliaæ§è½ä¸C++/Fortranç¸å½</section></li><li><section><strong>GPUæ±è§£</strong>ï¼Juliaæ¯PyTorchå¿«20-100å</section></li><li><section><strong>ä»£ç ç®æ´æ§</strong>ï¼Juliaä»£ç æ¯Fortranç®æ´76%</section></li></ul>
<h3 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">ç»åé¢åå¯¹æ¯æ»ç»ï¼</span><span class="suffix"></span></h3>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>æ°å¼æ¨¡æ &amp; HPC</strong>ï¼Julia â Fortran &gt; MATLAB &gt; Python &gt; R<br>
ï¼Julia å¨æç¨æ§åæ§è½é´åå¾æä½³å¹³è¡¡ï¼</section></li><li><section><strong>æ°æ®æ¢ç´¢ &amp; ç»è®¡åæ</strong>ï¼R â Python &gt; Julia &gt; MATLAB &gt; Fortran</section></li><li><section><strong>æ·±åº¦å­¦ä¹ ç ç©¶</strong>ï¼Python &gt;&gt; Julia &gt; MATLAB &gt; R â Fortran</section></li><li><section><strong>å¾®åæ¹ç¨æ±è§£</strong>ï¼Julia &gt; MATLAB â Python &gt; R &gt; Fortranï¼é¤éæåï¼</section></li><li><section><strong>æå­¦ä¸å¿«éåå</strong>ï¼Python â MATLAB &gt; Julia &gt; R &gt; Fortran</section></li><li><section><strong>çäº§é¨ç½²</strong>ï¼Python &gt; Juliaï¼æ­£å¨è¿½èµ¶ï¼&gt; MATLABï¼è®¸å¯è¯é®é¢ï¼&gt; R &gt; Fortran</section></li></ul>
<h3 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">åäºãå­¦ä¹ æ²çº¿ä¸ç¤¾åºæ¯æ</span><span class="suffix"></span></h3>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">1. å­¦ä¹ æ²çº¿å¯¹æ¯</span><span class="suffix"></span></h4>
<section class="table-container" data-tool="mdniceç¼è¾å¨"><table data-draft-node="block" data-draft-type="table" data-size="normal">
<tbody>
<tr>
<th>è¯­è¨</th>
<th>å­¦ä¹ é¾åº¦</th>
<th>ä¸ææ¶é´</th>
<th>ä¸»è¦å­¦ä¹ èµæº</th>
</tr><tr>
<td>Julia</td>
<td>ä¸­ç­</td>
<td>1-2å¨</td>
<td>å®æ¹ææ¡£ãJuliaå­¦é¢ãGitHubä»åº</td>
</tr>
<tr>
<td>MATLAB</td>
<td>ä½</td>
<td>1å¨</td>
<td>å®æ¹æç¨ãå¤§éå¨çº¿èµæº</td>
</tr>
<tr>
<td>Python</td>
<td>ä½</td>
<td>1-2å¨</td>
<td>å®æ¹ææ¡£ãå¤§éå¨çº¿æç¨</td>
</tr>
<tr>
<td>Fortran</td>
<td>é«</td>
<td>2-3ä¸ªæ</td>
<td>å®æ¹ææ¡£ãä¸ä¸ä¹¦ç±</td>
</tr>
<tr>
<td>R</td>
<td>ä¸­ç­</td>
<td>2-3å¨</td>
<td>å®æ¹ææ¡£ãå¤§éç»è®¡æç¨</td>
</tr>
</tbody>
</table>
</section><p data-tool="mdniceç¼è¾å¨"><strong>å­¦ä¹ æ²çº¿åæ</strong>ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>MATLABç¨æ·</strong>ï¼å¯å¿«éä¸æJuliaï¼è¯­æ³ç¸ä¼¼</section></li><li><section><strong>Pythonç¨æ·</strong>ï¼å­¦ä¹ æ²çº¿å¹³ç¼ï¼è¯­æ³ç¸ä¼¼</section></li><li><section><strong>Rç¨æ·</strong>ï¼å¯å¿«éä¸æJuliaï¼è¯­æ³æ´ç®æ´</section></li><li><section><strong>Fortran/C++ç¨æ·</strong>ï¼ééåºå¨æç±»ååJITç¼è¯ï¼ä½æ§è½æ¥è¿</section></li></ul>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">2. ç¤¾åºä¸æ¯æ</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">Juliaç¤¾åºæ­£å¨å¿«éå¢é¿ï¼æä¾ä¸°å¯çæ¯æèµæºï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>GitHubé¡¹ç®</strong>ï¼è¶è¿20,000ä¸ªJuliaé¡¹ç®</section></li><li><section><strong>æ´»è·åº¦</strong>ï¼ç¤¾åºå¹´å¢é¿40%+</section></li><li><section><strong>ä¸­æç¤¾åº</strong>ï¼éå¸¸æ´»è·ï¼æå¤§éä¸­æèµæ</section></li><li><section><strong>ææ¡£èµæº</strong>ï¼å®æ¹ææ¡£å®åï¼åææ¡£ä¸°å¯</section></li><li><section><strong>è®ºåæ¯æ</strong>ï¼Discourseè®ºåæ´»è·ï¼é®é¢è§£å³çé«</section></li></ul>
<h3 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">åå­ãæ»ç»ä¸å±æ</span><span class="suffix"></span></h3>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">1. Juliaçæ ¸å¿ä¼å¿æ»ç»</span><span class="suffix"></span></h4>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>é«æ§è½</strong>ï¼JITç¼è¯ï¼æ¥è¿C/Fortranæ§è½</section></li><li><section><strong>æç¨æ§</strong>ï¼è¯­æ³ç®æ´ï¼ç±»ä¼¼Python/MATLAB</section></li><li><section><strong>å¨æ ç»ä¸</strong>ï¼ä¸ä¸ªè¯­è¨å®æä»æ°æ®å¤çå°é¨ç½²çå¨æµç¨</section></li><li><section><strong>çææ´å</strong>ï¼åä¹é´æ ç¼éæï¼APIç»ä¸</section></li><li><section><strong>å¼æºç¤¾åº</strong>ï¼æ´»è·ç¤¾åºï¼å¿«éå¢é¿</section></li><li><section><strong>ç±»åç³»ç»</strong>ï¼å¨æç±»åä½æç±»åæ¨æ­ï¼æ§è½é«</section></li><li><section><strong>å¤åæ´¾æºå¶</strong>ï¼ä»£ç æ´çµæ´»ï¼æ§è½æ´ä¼</section></li></ul>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">2. éç¨åºæ¯ä¸ç¨æ·ç¾¤ä½</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">Juliaç¹å«éåä»¥ä¸åºæ¯åç¨æ·ç¾¤ä½ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>ç§å­¦è®¡ç®</strong>ï¼ç©çãåå­¦ãçç©ç­é¢åçæ°å¼æ¨¡æ</section></li><li><section><strong>æ°æ®ç§å­¦</strong>ï¼å¤§è§æ¨¡æ°æ®åæãç»è®¡å»ºæ¨¡</section></li><li><section><strong>æºå¨å­¦ä¹ </strong>ï¼é«æ§è½æ·±åº¦å­¦ä¹ åä¼ ç»æºå¨å­¦ä¹ </section></li><li><section><strong>å¯è§å</strong>ï¼äº¤äºå¼æ°æ®å¯è§åãç§å­¦æ°æ®å±ç¤º</section></li><li><section><strong>å¹¶è¡è®¡ç®</strong>ï¼é«æ§è½è®¡ç®ãåå¸å¼ç³»ç»</section></li><li><section><strong>ç¨æ·ç¾¤ä½</strong>ï¼ç§å­¦å®¶ãå·¥ç¨å¸ãæ°æ®åæå¸ãæºå¨å­¦ä¹ ç ç©¶è</section></li></ul>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">3. æªæ¥åå±è¶å¿</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">Juliaçæªæ¥åå±è¶å¿åæ¬ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>æ§è½ä¼å</strong>ï¼ç»§ç»­æåJITç¼è¯æçï¼ç¼©å°ä¸C/Fortrançå·®è·</section></li><li><section><strong>çææ©å±</strong>ï¼ç»§ç»­æ©å±åçæç³»ç»ï¼è¦çæ´å¤é¢å</section></li><li><section><strong>å·¥å·é¾å®å</strong>ï¼å®åIDEæ¯æãè°è¯å·¥å·ç­å¼åä½éª</section></li><li><section><strong>é¨ç½²ä¼å</strong>ï¼ç®åæ¨¡åååºç¨é¨ç½²æµç¨</section></li><li><section><strong>å¹¶è¡è®¡ç®</strong>ï¼ç»§ç»­æååå¸å¼è®¡ç®åGPUå éè½å</section></li><li><section><strong>ç¤¾åºå¢é¿</strong>ï¼å¸å¼æ´å¤ç¨æ·åå¼åèå å¥ç¤¾åº</section></li></ul>
<h4 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">4. ä¸ä¸»æµè¯­è¨çäºè¡¥æ§</span><span class="suffix"></span></h4>
<p data-tool="mdniceç¼è¾å¨">Juliaä¸ä¸»æµè¯­è¨ä¸æ¯å®å¨æ¿ä»£å³ç³»ï¼èæ¯<strong>äºè¡¥å³ç³»</strong>ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>ä¸Pythonå¯¹æ¯</strong>ï¼Juliaå¨æ§è½ä¸æä¼å¿ï¼ä½Pythonå¨çææçåº¦ä¸é¢å</section></li><li><section><strong>ä¸MATLABå¯¹æ¯</strong>ï¼Juliaå¨æ§è½åå¼æºæ§ä¸æä¼å¿ï¼ä½MATLABå¨äº¤äºå¼ç¯å¢ä¸æ´æç</section></li><li><section><strong>ä¸Fortranå¯¹æ¯</strong>ï¼Juliaå¨å¼åæçåçææ´åä¸æä¼å¿ï¼ä½Fortranå¨ç¹å®ç§å­¦è®¡ç®é¢åä»ææ§è½ä¼å¿</section></li><li><section><strong>ä¸Rå¯¹æ¯</strong>ï¼Juliaå¨æ§è½åä»£ç ç®æ´æ§ä¸æä¼å¿ï¼ä½Rå¨ç»è®¡åæé¢åææ´ä¸°å¯çå·¥å·</section></li></ul>
<h3 data-tool="mdniceç¼è¾å¨"><span class="prefix"></span><span class="content">åä¸ãç»æ½å¨ç¨æ·çå»ºè®®</span><span class="suffix"></span></h3>
<p data-tool="mdniceç¼è¾å¨">å¯¹äºèèä½¿ç¨Juliaçç¨æ·ï¼å»ºè®®å¦ä¸ï¼</p>
<ol data-tool="mdniceç¼è¾å¨">
<li><section><strong>è¯ä¼°éæ±</strong>ï¼ç¡®å®æ¨çä¸»è¦è®¡ç®éæ±æ¯ç§å­¦è®¡ç®ãæ°æ®ç§å­¦è¿æ¯æºå¨å­¦ä¹ </section></li><li><section><strong>å­¦ä¹ è·¯å¾</strong>ï¼ä»åºç¡è¯­æ³å¼å§ï¼éæ­¥å­¦ä¹ ç±»åç³»ç»åå¤åæ´¾æºå¶</section></li><li><section><strong>å·¥å·éæ©</strong>ï¼æ ¹æ®åºç¨é¢åéæ©åéçå·¥å·åï¼å¦ç§å­¦è®¡ç®éDifferentialEquations.jlï¼</section></li><li><section><strong>æ§è½è°ä¼</strong>ï¼å­¦ä¹ ç±»åç¨³å®æ§ãé¿åç±»åä¸ç¨³å®æ§ãä½¿ç¨@inboundså@ threadsç­ä¼åå®</section></li><li><section><strong>ç¤¾åºåä¸</strong>ï¼å å¥Juliaç¤¾åºï¼åä¸è®¨è®ºåè´¡ç®ï¼è·åææ°æ¯æ</section></li><li><section><strong>æ··åç¼ç¨</strong>ï¼å¯¹äºå·²æPython/Rä»£ç ï¼å¯ä½¿ç¨PyCall/RCallè°ç¨</section></li><li><section><strong>é¨ç½²ç­ç¥</strong>ï¼å¯¹äºçäº§ç¯å¢ï¼èèä½¿ç¨PackageCompiler.jlç¼è¯ä¸ºåæä»¶</section></li></ol>
<p data-tool="mdniceç¼è¾å¨"><strong>æä½³å®è·µ</strong>ï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>ä»£ç ä¼å</strong>ï¼ä¿æç±»åç¨³å®æ§ï¼ä½¿ç¨@ code _ warntypeæ£æ¥</section></li><li><section><strong>å¹¶è¡ç­ç¥</strong>ï¼å¯¹äºå¤§è§æ¨¡æ°æ®ï¼ä¼åä½¿ç¨å¤çº¿ç¨ï¼å¯¹äºéç¾¤è®¡ç®ï¼ä½¿ç¨åå¸å¼è®¡ç®</section></li><li><section><strong>GPUå é</strong>ï¼å¯¹äºå¤§è§æ¨¡ç§å­¦è®¡ç®ï¼èèä½¿ç¨CUDA.jlå é</section></li><li><section><strong>å¯è§åéæ©</strong>ï¼å¯¹äºåºç¡å¯è§åï¼ä½¿ç¨Plots.jlï¼å¯¹äºé«æ§è½3Då¯è§åï¼ä½¿ç¨GLMakie</section></li></ul>
<p data-tool="mdniceç¼è¾å¨">Juliaä½ä¸ºä¸é¨æ°å´çç§å­¦è®¡ç®è¯­è¨ï¼ä»¥å¶ç¬ç¹çè®¾è®¡å²å­¦ââ**"ä¸æ¬¡ç¼åï¼é«æè¿è¡"**ï¼æåèåäºå¨æè¯­è¨çæç¨æ§åéæè¯­è¨çé«æ§è½ã</p>
<p data-tool="mdniceç¼è¾å¨">Julia æ¯ä¸é¨ä¸ºâä¸ä¸ä»£ç§å­¦è®¡ç®âèççè¯­è¨ï¼å¶æ ¸å¿ä¼å¿å¨äºï¼</p>
<ul data-tool="mdniceç¼è¾å¨">
<li><section><strong>æ§è½ä¸è¡¨è¾¾åçç»ä¸</strong></section></li><li><section><strong>ç»ä¸ççæç³»ç»</strong>ï¼ä»å¾®åæ¹ç¨å°æ·±åº¦å­¦ä¹ ï¼</section></li><li><section><strong>åæ²¿çèªå¨å¾®åä¸å¯å¾®åç¼ç¨æ¯æ</strong></section></li><li><section><strong>åçå¹¶è¡ä¸ GPU æ¯æ</strong></section></li></ul>
<p data-tool="mdniceç¼è¾å¨">å¨æ°å¼ç³»ç»ãç±»åç³»ç»ãå¯è§åãæ°æ®ç§å­¦ãæºå¨å­¦ä¹ ãç§å­¦è®¡ç®åå¹¶è¡è®¡ç®ç­æ ¸å¿é¢åï¼Juliaé½å±ç°åºæ¾èçææ¯ä¼å¿ã</p>
<blockquote class="custom-blockquote multiquote-1" data-tool="mdniceç¼è¾å¨">
<p>Juliaä¸MATLABãPythonãFortranåRç­ä¸»æµè¯­è¨ç¸æ¯ä»æå·®è·ï¼ç¹å«æ¯å¨çææçåº¦åç¨æ·åºæ°æ¹é¢ï¼ä½å¶å¿«éåå±çç¤¾åºåæ¥çå®åçå·¥å·é¾æ­£è¿éç¼©å°è¿äºå·®è·ã</p>
</blockquote>
<p data-tool="mdniceç¼è¾å¨">è½ç¶å¨æäºé¢åï¼å¦æ·±åº¦å­¦ä¹ æ¡æ¶æçåº¦ãæ°æ®ç§å­¦ç¤¾åºè§æ¨¡ï¼ä»è½åäº Pythonï¼ä½ Julia æ­£å¨å¿«éå¡«è¡¥è¿äºç©ºç½ï¼å°¤å¶å¨éè¦<strong>é«æ§è½ãå¯ç»åãå¯å¾®å</strong>çç§å­¦è®¡ç®åºæ¯ä¸­ï¼å·²æä¸ºä¸å¯å¿½è§çéæ©ã</p>
<blockquote class="custom-blockquote multiquote-1" data-tool="mdniceç¼è¾å¨">
<p>å¯¹äºæ°é¡¹ç®ï¼å°¤å¶æ¯æ¶å<strong>æ°å¼æ¨¡æãä¼åãå¾®åæ¹ç¨ãå¯å¾®åå»ºæ¨¡</strong>çç ç©¶æå·¥ç¨ä»»å¡ï¼ä¸è¿½æ±é«æ§è½ãæç¨æ§åå¨æ ç»ä¸çç§ç äººååå·¥ç¨å¸æ¥è¯´ï¼<strong>Juliaæ¯ä¸ä¸ªæå·æ½åçéæ©</strong>ã</p>
</blockquote>
<p data-tool="mdniceç¼è¾å¨">éçJuliaçæç³»ç»çä¸æ­å®ååæ§è½çæç»­ä¼åï¼å®ææå¨æªæ¥å å¹´åæä¸ºç§å­¦è®¡ç®é¢åçä¸»æµè¯­è¨ä¹ä¸ï¼ä¸ºç§ç åå·¥ç¨è®¡ç®å¸¦æ¥æ°çå¯è½æ§ã</p>
<hr data-tool="mdniceç¼è¾å¨">
<p data-tool="mdniceç¼è¾å¨">å¬ä¼å·<a href="https://www.cardopt.cn/api/images/1_1763724698_ce344a.png" rel="noopener nofollow">ãååªæ®æ¯-BOYOGALAã</a>ï¼è´åäºè®©å¤§å®¶<strong>æ´ä¸ä¸ãæ´å®æ´åæ´ç³»ç»</strong>å°è·åä¸äºè§£æ°å­¦ï¼<code>è¿ç­¹ä¸ä¼åãæ°å¼åæ</code>ï¼ç­ç¸å³æ°å­¦ç¥è¯åäº«ï¼</p>
<blockquote class="custom-blockquote multiquote-1" data-tool="mdniceç¼è¾å¨">
<p>ð¯å¬ä¼å·ID:boyogala,
ðç½å: www.boyogala.us.kg,
ð¬å¾®ä¿¡:&nbsp;boyougala,
ð§é®ç®±: boyogala@qq.com.</p>
</blockquote>
<p data-tool="mdniceç¼è¾å¨">è¯´æææ¡£ï¼<a href="https://mp.weixin.qq.com/s/OJpmAIeQnAcxmSrIXsWrWQ" rel="noopener nofollow"><strong>å¬ä¼å·ãååªæ®æ¯-boyogalaãçä½¿ç¨æå</strong></a>ï¼ä»¥ä¸ç½åä»£è¡¨ä½å¯ä¾æ¥é.</p>
<p data-tool="mdniceç¼è¾å¨"><code>ä¼åæ±è§£å¨</code> â <strong>ä»£è¡¨ä½</strong>ï¼
<a href="https://mp.weixin.qq.com/s/UBRt0_-A0_5n85Vj6bwlGw" rel="noopener nofollow">ä¼åæ±è§£å¨ç±»åæ»ç»çº¿æ§äºæ¬¡åéçº¿æ§æ±è§£å¨</a>,<a href="https://mp.weixin.qq.com/s/MNzKEo_q06xWiH1xBCxQtQ" rel="noopener nofollow">Ipoptå¼æºåè´¹çéçº¿æ§æ±è§£å¨</a>,<a href="https://mp.weixin.qq.com/s/pFwaMIGk86MnsG8w6Vjm2Q" rel="noopener nofollow">HiGHSå¼æºåè´¹æ´æ°çº¿æ§æ±è§£å¨</a>,<a href="https://mp.weixin.qq.com/s/_AZ5-bdwZ1Blu3vpA98ccQ" rel="noopener nofollow">SCIPå¼æºåè´¹çä¼åæ±è§£å¨</a>,<a href="https://mp.weixin.qq.com/s/9FnUAHav-mfeYzfWZLwyGw" rel="noopener nofollow">Gurobiåä¸æ¶è´¹å¨å±ä¼åæ±è§£å¨</a>,<a href="https://mp.weixin.qq.com/s/LO5WH5be975ryjUczeAgTw" rel="noopener nofollow">CPLEXåä¸æ¶è´¹æ´æ°ä¼åæ±è§£å¨</a>,<a href="https://mp.weixin.qq.com/s/xXxGCJlTaek6AymvQHf99A" rel="noopener nofollow">MOSEKåä¸æ¶è´¹çä¼åæ±è§£å¨</a>,<a href="https://mp.weixin.qq.com/s/g9Nu5ZzLZwGrIW6zgck1dw" rel="noopener nofollow">BARONåä¸æ¶è´¹çå¨å±ä¼åæ±è§£å¨</a>,<a href="https://mp.weixin.qq.com/s/BI92_k-JoCH-Eoj3lh5IsA" rel="noopener nofollow">LindoAPIåä¸æ¶è´¹çå¨å±ä¼åæ±è§£å¨</a>,<a href="https://mp.weixin.qq.com/s/58fIjguklH2R7v0o0aBkpA" rel="noopener nofollow">COPTå½äº§èªç çä¼åæ±è§£å¨</a></p>
<p data-tool="mdniceç¼è¾å¨"><code>ä¸å¤§æ°å­¦è½¯ä»¶</code> â <strong>ä»£è¡¨ä½</strong>ï¼
<a href="https://mp.weixin.qq.com/s/N9KDUwkf8xhGD-Kt0-SzSA" rel="noopener nofollow">MATLABå·¥ç¨å¸çç§å­¦è®¡ç®è½¯ä»¶</a>,<a href="https://mp.weixin.qq.com/s/aV696xDAF1Fa-YYahWWLXw" rel="noopener nofollow">MATHEMATICAç©ççè®¡ç®è½¯ä»¶</a>,<a href="https://mp.weixin.qq.com/s/KbyK_6iHSY9stpWBLFywCQ" rel="noopener nofollow">MAPLEæ°å­¦å®¶çæ°å­¦è½¯ä»¶</a></p>
<p data-tool="mdniceç¼è¾å¨"><code>åµå¥å¼ãæ äººæºåæºå¨äºº</code> â <strong>ä»£è¡¨ä½</strong>ï¼
<a href="https://mp.weixin.qq.com/s/_i7dolzdYlYeHoEBI7FZyw" rel="noopener nofollow">OSQPäºæ¬¡è§åæ±è§£å¨</a></p>
<p data-tool="mdniceç¼è¾å¨"><code>çº¿æ§æ¹ç¨ç»çæ±è§£è½¯ä»¶</code> â <strong>ä»£è¡¨ä½</strong>ï¼
<a href="https://mp.weixin.qq.com/s/Tcv6H4PbEqws7ivrETctFQ" rel="noopener nofollow">PARDISOå¹¶è¡ç´æ¥æ±è§£å¨</a>,<a href="https://mp.weixin.qq.com/s/SrJXaN5whCBAYlbTHIxdIA" rel="noopener nofollow">MUMPSé«æ§è½å¹¶è¡æ±è§£å¨</a>,<a href="https://mp.weixin.qq.com/s/-8e69XW-2m4oNe9TBmhYnQ" rel="noopener nofollow">SuitSparseç¨çç©éµè½¯ä»¶å</a>,<a href="https://mp.weixin.qq.com/s/kG6784iGW9bCn_yygx86OA" rel="noopener nofollow">SuperLUéå¯¹ç§°ç´æ¥æ³æ±è§£å¨</a></p>
<p data-tool="mdniceç¼è¾å¨"><code>åºäºMATLABçä¼åå»ºæ¨¡å·¥å·</code> â <strong>ä»£è¡¨ä½</strong>ï¼
<a href="https://mp.weixin.qq.com/s/UsUxTSQ_AtVlrXAe7HFPeQ" rel="noopener nofollow">CVXåè´¹å¸ä¼åå»ºæ¨¡å·¥å·</a>,<a href="https://mp.weixin.qq.com/s/SP1ou_DyuLb1TgzI0JH2PA" rel="noopener nofollow">Yalmipåè´¹çä¼åå»ºæ¨¡å·¥å·</a>,<a href="https://mp.weixin.qq.com/s/A8p7H7BquSsIBbMh3eMLGg" rel="noopener nofollow">CasADiå¼æºæä¼åæ§å¶å·¥å·</a></p>
<p data-tool="mdniceç¼è¾å¨"><code>åºäºPythonçä¼åå»ºæ¨¡å·¥å·</code> â <strong>ä»£è¡¨ä½</strong>ï¼
<a href="https://mp.weixin.qq.com/s/A8p7H7BquSsIBbMh3eMLGg" rel="noopener nofollow">CasADiéçº¿æ§ä¼ååæä¼æ§å¶</a>,<a href="https://mp.weixin.qq.com/s/L687fP8uaGdmMVmqVY1QKA" rel="noopener nofollow">Gekkoæ°å¼ä¼ååå¨æç³»ç»å»ºæ¨¡</a>,<a href="https://mp.weixin.qq.com/s/fnd3-Hu2OkEnIXJkW-ObfA" rel="noopener nofollow">Pyomoé¢åå¯¹è±¡ä»£æ°å»ºæ¨¡è¯­è¨</a></p>
<p data-tool="mdniceç¼è¾å¨"><code>ç§å­¦è®¡ç®è½¯ä»¶</code> â <strong>ä»£è¡¨ä½</strong>ï¼
<a href="https://mp.weixin.qq.com/s/37BW460fBosmIzZU9_a9hQ" rel="noopener nofollow">oneAPIç»ä¸çå¼æç¼ç¨æ¨¡å</a>,<a href="https://mp.weixin.qq.com/s/WUk6KdAQwE-GfOPQSBBG2w" rel="noopener nofollow">CUDAäººå·¥æºè½æ¶ä»£çåºç³</a>,<a href="https://mp.weixin.qq.com/s/ZB--8yvT_khcB8ZpTcQUGQ" rel="noopener nofollow">OpenFOAMå¼æºçCFDè½¯ä»¶</a>,<a href="https://mp.weixin.qq.com/s/OtHkmLUkaREP-ktpcLLajQ" rel="noopener nofollow">COMSOLä¸çå¤ç©çåºä»¿çè½¯ä»¶</a></p>
<p data-tool="mdniceç¼è¾å¨"><code>å¨çä¼åå»ºæ¨¡å¹³å°</code> â <strong>ä»£è¡¨ä½</strong>ï¼
<a href="https://mp.weixin.qq.com/s/mXjzRlPe2-v2ow7MQynChQ" rel="noopener nofollow">AMPLæ°å­¦è§åå»ºæ¨¡è¯­è¨</a>,<a href="https://mp.weixin.qq.com/s/LjOTgVMij56jufQxHltsXQ" rel="noopener nofollow">AIMMSå¿«éä¼åå»ºæ¨¡å·¥å·</a>,<a href="https://mp.weixin.qq.com/s/bAvCxUWyNmFgGYZQlQeOeA" rel="noopener nofollow">GAMSéç¨ä»£æ°å»ºæ¨¡ç³»ç»</a>,<a href="https://mp.weixin.qq.com/s/J8pur1XjjUXL52Jiv71H3Q" rel="noopener nofollow">JuMPæ°å­¦ä¼åå»ºæ¨¡è¯­è¨ï¼å­¦ä¹ ä¸­â¦ï¼</a></p>
<p data-tool="mdniceç¼è¾å¨"><code>äººç±»å¨æè</code> â <strong>ä»£è¡¨ä½ï¼</strong><a href="https://mp.weixin.qq.com/s/n7vfkfiEz5t8Wq2YJvMMWA" rel="noopener nofollow">å¬ä¼å·æçæ°å­¦å¬å¼çç»éª</a>,<a href="https://mp.weixin.qq.com/s/J5g9gGaCc0aAOkrjQ-fxtg" rel="noopener nofollow">200ç¯è®ºæð1ä¸ªä¼åæ±è§£å¨</a>,<a href="https://mp.weixin.qq.com/s/N1F7lVLi_YsNHNnvYQHTKQ" rel="noopener nofollow">ççWindowsç³»ç»ðç ´è§£çLINGO18</a></p>
<p data-tool="mdniceç¼è¾å¨"><code>æ°å­¦æ¯ç¬¬ä¸ä¸ç</code> â <strong>ä»£è¡¨ä½</strong>ï¼
<a href="https://mp.weixin.qq.com/s/PHjmBFYPJlBagcqJjX9udg" rel="noopener nofollow">æ°å­¦ç ç©¶éè¦å¸å¾ä¼ æ¿åï¼</a>,<a href="https://mp.weixin.qq.com/s/uluBnkrO4Q59nUJ9o3QEIA" rel="noopener nofollow">æ°å­¦çä¸æ¬¡æ°å­¦å±æº</a>,<a href="https://mp.weixin.qq.com/s/6MMMjFMCaAD4SmZXrD7x4Q" rel="noopener nofollow">ç©éµç©ºé´çç¹æ®ç©éµ</a>,<a href="https://mp.weixin.qq.com/s/z3jGTYjFhjWVx1OUyOzlpQ" rel="noopener nofollow">å½æ°æ¢¯åº¦çå¯è§å</a></p>
</section>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-23 12:34">2026-01-23 12:34</span>&nbsp;
<a href="https://www.cnblogs.com/boyogala">ååªæ®æ¯</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19521607);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19521607', targetLink: 'https://www.cnblogs.com/boyogala/p/19521607', title: 'Julia, ç§å­¦è®¡ç®ä¸é«æ§è½ç¼ç¨è¯­è¨' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ è¿ææ¯ollamaæ´å»çå¼çå¤§æ¨¡åæ¬å°é¨ç½²æ¹å¼å ï¼ ]]></title>
    <link>https://www.cnblogs.com/JulianHuang/p/19520341</link>
    <guid>ba9610f7ad5f4bcd51788c809be7a65c</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/JulianHuang/p/19520341" title="åå¸äº 2026-01-23 09:08">
    <span role="heading" aria-level="2">è¿ææ¯ollamaæ´å»çå¼çå¤§æ¨¡åæ¬å°é¨ç½²æ¹å¼å ï¼</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>LLMççé£å·²ç»å¹äºå å¹´ï¼ ææäººé½è³æ¿¡ç®æçä¼é£ä¸å å¥è¡è¯/åè¯ãåå¥½ä½ èªå·±æå°4070çæºå¨ï¼æ°å¥½ä½ ææ¶é´åè¾ï¼ é£å°±è®©æä»¬åé¡¾ä¸éåè¯ï¼éªè¯çé£å¹è¿çææ¯è½¦è¾ã</p>
<p>æ°å¥½æè¿æå°4070(12gæ¾å­)æºå¨ï¼äºæ¯å°è¯ä½¿ç¨ollamaé¨ç½²å¤§æ¨¡åã</p>
<blockquote>
<p>RTX 4070 æé¿è®­ç»ä¸­å°åæ¨¡åï¼å­åå¶ 184 ä¸ª Tensor Coreï¼å®å¯ä»¥é«æå¤çç©éµä¹æ³ç­è¿ç®ï¼è¿å¯¹äºæ·±åº¦å­¦ä¹ ä»»å¡è³å³éè¦ã<br>
RTX 4070 éç¨äºå®æ¶æ¨çåºç¨ï¼æä¾å¿«éçæ¨çéåº¦ï¼ä½¿å¶æä¸ºèå¤©æºå¨äººåæ¨èç³»ç»ç­äº¤äºå¼ AI åºç¨ççæ³éæ©ã</p>
</blockquote>
<p>æ¬æ¬¡ä¼ç¨å°3ä¸ªåè¯</p>
<ol>
<li><a href="https://www.baeldung.com/linux/nvidia-smi-full-gpu-details" title="nvidia-smi" target="_blank" rel="noopener nofollow">nvidia-smi</a> è±ä¼è¾¾è®¾å¤ç®¡çå·¥å·</li>
</ol>
<p>åºäºnvidia managemant libraryï¼NVMLï¼ä¹ä¸çå½ä»¤è¡å·¥å·ï¼ç¨äºç®¡çåçæ§nvidia GPUè®¾å¤ï¼ éæ¾ç¤ºé©±å¨ä¸èµ·ååã</p>
<p>ä»¥ä¸æ¯æªé¨ç½²å¤§æ¨¡åæ¶åçèµæºæ¶èå¿«ç§ï¼ nvidia-smi  -l å¯æç»­çæ§gpuä½¿ç¨ã</p>
<p><img src="https://img2024.cnblogs.com/blog/587720/202601/587720-20260123090138183-1418030168.png" alt="image" loading="lazy"></p>
<ul>
<li>ç¬¬ä¸è¡æ¾ç¤ºäºnvidia-smiçæ¬/é©±å¨çæ¬/<a href="https://zh.wikipedia.org/wiki/CUDA#%E7%B0%A1%E4%BB%8B" title="CUDA" target="_blank" rel="noopener nofollow">CUDA</a>çæ¬</li>
<li>0 è¡¨ç¤ºnvidia 4070æ¯ç¬¬ä¸å¼ æ¾å¡ï¼ ç´¢å¼çæ¦å¿µï¼ä¸é¢çè¿ç¨å³èäºè¿åæ¾å¡0</li>
<li>Fan Temp Perf Pwr åå«æ¾ç¤ºGPUçå½åé£æè½¬éãæ¸©åº¦ãæ§è½ç¶æååè</li>
<li>Memory-Usage  å½åæ¾å­ä½¿ç¨éåæ»æ¾å­(12g)</li>
<li>GPU_Util æ¾ç¤ºå½åGPUè®¡ç®è½åçç¾åæ¯</li>
<li>Compute M è¡¨ç¤ºå½åè®¡ç®æ¨¡åï¼ compute</li>
</ul>
<ol start="2">
<li><a href="https://docs.ollama.com/" title="ollama" target="_blank" rel="noopener nofollow">ollama</a></li>
</ol>
<p>ollamaæ¯mataå¼æºçï¼å®ä½æ¯<strong>æ¨¡åç®¡çå¨</strong>å<strong>æ¨çæ¡æ¶</strong>ï¼å¸®å©ç¨æ·å»çå¼å¨æ¬å°ãk8séç¾¤ãèææºä¸é¨ç½²å¼æºå¤§æ¨¡åã</p>
<p><code>ollama -h</code>æä¾äºå¯ç¨å½ä»¤ï¼ä¹æ¾ç¤ºäºå¯ç¨çè½åï¼åå»ºæ¨¡åãç®¡æ§é¨ç½²æ¨¡åã</p>
<p>ollamaæ¯æå¡ç«¯-å®¢æ·ç«¯æ¶æï¼æåå°æå¡è¿ç¨olllama.exeï¼æä¾äºGUIç»ç«¯åå½ä»¤è¡å·¥å·å¯äº¤äºï¼å¦å¤æä¾sdkårestful apiï¼å¯ä¾åç§ç¨åºæèè¯­è¨æä½ollamaã</p>
<pre><code> ollama  list
NAME                      ID              SIZE      MODIFIED
qwen3-embedding:latest    64b933495768    4.7 GB    15 hours ago
qwen3:8b                  500a1f067a9f    5.2 GB    23 hours ago

##  size æ¯é¢ä¼°çæ¾å­å¤§å°
</code></pre>
<ol start="3">
<li>qwen3:8b  vs   qwen3-embedding</li>
</ol>
<p>8bè¡¨ç¤º80äº¿åæ°ï¼8 Billion parametersï¼</p>
<p>é¤äºchatæ¨¡åï¼ è¿æåµå¥æ¨¡åembeddingï¼ åµå¥æ¨¡åæ¯å°<strong>ææ¬/imageæ°æ®åéå</strong>çææ°ææ®µã</p>
<hr>
<p>ä¸è½½å®ollamaï¼ éæ©<code>qwen3:8b</code>å¤§æ¨¡åï¼å¼å§ä¸è½½æ¨¡åã</p>
<h3 id="1--ollama-run-qwen38b">1.  ollama run qwen3:8b</h3>
<pre><code>$ ollama  run  qwen3:8b
&gt;&gt;&gt; Send a message (/? for help)
</code></pre>
<p>è¿è¡åé®å¤§æ¨¡åï¼æªè¿è¡é¦æ¬¡æ¨çè¯·æ±ï¼ï¼ æ¾å­åGPUä½¿ç¨çæªåçååï¼<br>
<img src="https://img2024.cnblogs.com/blog/587720/202601/587720-20260123090213372-268817923.png" alt="image" loading="lazy"></p>
<p>é¦æ¬¡æ¨çè¯·æ±ï¼ æ¾å­ä½¿ç¨ç¨³å®å¨6g, gpuä½¿ç¨çä¸åï¼æ¨çç»æï¼æ¾å­ä½¿ç¨çä¸ä¼éï¼ gpuä½¿ç¨çåè½ï¼ è¯´æollamaæ¯<strong>æéå è½½å¤§æ¨¡å</strong>ã</p>
<p><img src="https://img2024.cnblogs.com/blog/587720/202601/587720-20260123090232098-1659121708.png" alt="image" loading="lazy"></p>
<h3 id="2-ollama-run--model--vs--ollama--serve">2. ollama run  [model]  vs  ollama  serve</h3>
<p>ollama serveæå³ç<strong>å¯å¨ollamaä½ä¸ºwebæå¡</strong>(ä¸æå³çå½åå¯å¨äºå¤§æ¨¡å)ï¼é»è®¤å¨http://127.0.0.1:11434/çå¬ï¼å¤é¨å¯ä½¿ç¨restful apiæèclient sdkæä½ollamaãæä½æ¨¡åãä¸æ¨¡åå¯¹è¯ã</p>
<pre><code>curl http://localhost:11434/api/chat -d '{
  "model": "qwen3:8b",
  "messages": [{
    "role": "user",
    "content": "Hello there!"
  }],
  "stream": false
}'
{"model":"qwen3:8b","created_at":"2026-01-21T07:57:52.9621534Z","message":{"role":"assistant","content":"Hello! How can I assist you today? ð","thinking":"Okay, the user greeted me with \"Hello there!\" So I need to respond in a friendly and welcoming manner. Let me make sure to acknowledge their greeting and offer assistance. I should keep it simple and positive. Maybe something like, \"Hello! How can I assist you today?\" That sounds good. Let me check if there's anything else I need to consider. No, that should cover it. Ready to respond.\n"},"done":true,"done_reason":"stop","total_duration":1535352700,"load_duration":98539300,"prompt_eval_count":13,"prompt_eval_duration":208148700,"eval_count":101,"eval_duration":1223840500}
</code></pre>
<p>è¿ä¸ªrestful apiå¯å¨äºå¤§æ¨¡åï¼ä¸æ¯æéå è½½ï¼  <code>stream: true</code> å°±ä¼æç§streamingè¾åºï¼ ä¹å°±æ¯èµ°chunked transfer encoding watchæºå¶ã"think":é»è®¤ä¸ºtrueè¡¨ç¤ºè¾åºæ¨çæèã</p>
<h3 id="3-ollamaé¨ç½²embeddingsåµå¥æ¨¡å">3. ollamaé¨ç½²embeddingsåµå¥æ¨¡å</h3>
<p>eembeddingsåµå¥æ¨¡åä¸åäºå¯¹è¯æ¨¡åï¼ç¨äºå°ææ¬/imgaeåéåï¼ç¨äºè¯­ä¹æç´¢ãæ£ç´¢åRAGãè¿éæææ°ç<a href="https://huggingface.co/spaces/mteb/leaderboard" title="åµå¥æ¨¡åæ¦å" target="_blank" rel="noopener nofollow">åµå¥æ¨¡åæ¦å</a></p>
<p><img src="https://img2024.cnblogs.com/blog/587720/202601/587720-20260123090252139-202991087.png" alt="image" loading="lazy"></p>
<p><strong>RAG ææ¯æ¬è´¨ä¸æ¯å°Promptå¢å¼º</strong>ææ¯ï¼ æ¬æ¬¡å©ç¨ollamaé¨ç½²ææ¬åµå¥æ¨¡åï¼æåå°ææ¬æ°æ®åéååï¼å­å¨å¨åéæ°æ®åºã</p>
<pre><code>curl -X POST http://localhost:11434/api/embed \
  -H "Content-Type: application/json" \
  -d '{
    "model": "qwen3-embedding",
    "input": "The quick brown fox jumps over the lazy dog."
  }'
</code></pre>
<p><img src="https://img2024.cnblogs.com/blog/587720/202601/587720-20260123090402066-2090586535.png" alt="image" loading="lazy"></p>
<h2 id="4-function-calling">4. function calling</h2>
<p><code>what is  the temperature in the capital of china today?</code></p>
<p>LLMæ¯éæç¥è¯ï¼ä»è¯å®ä¸ç¥éä»å¤©æ¯å å·ï¼ä»å¤©å¤©æ°æä¹æ · ï¼<br>
ä»çéæç¥è¯åè¯ä»ä¸­å½é¦é¨æ¯åäº¬(å¦ææ¢é¦é½ï¼ä»ä¹Gäº)ã</p>
<p><img src="https://img2024.cnblogs.com/blog/587720/202601/587720-20260123090424312-1965215025.png" alt="image" loading="lazy"></p>
<p><strong>function callingåè®¸æ¨¡åè°ç¨å¤é¨å·¥å·å¹¶å°å¶ç»æåå¹¶å°å¯¹è¯ååºä¸­</strong></p>
<blockquote>
<p>æ è®ºæ¯agenticå¼åï¼ä½¿ç¨LLM APiï¼ çè§£function calling é½å¾éè¦ï¼ç¹å«æ¯åºå±çè¯·æ±åååºpayloadå·¥ä½æ¹å¼ãfunction callingéè¦ç»ååºç¨è½åä¸èµ·æ¥çè§£ã</p>
</blockquote>
<p>function calling ä½¿å¾LLMå·å¤æ¨çåºä½ æ³è¦åçå¨ä½(ä»¥ç»æåjsonçæ¹å¼ç»åº), appæ®æ­¤æ§è¡å¨ä½ï¼å°è°ç¨çç»æåå¹¶å°LLMçè¾åºåºç­éé¢ã</p>
<p>è¯¢é®ä¸­å½é¦é½ä»å¤©çæ°æ¸©ï¼ï¼</p>
<p>LLMè§åº¦ï¼</p>
<ul>
<li>åè¦è¦ç¥éä»å¤©æ¯å å·ï¼ æç¤ºåºç¨å»è°ç¨å½æ°get_currentDateæ¿å°æ¶é´</li>
<li>ç¶åæç¤ºåºç¨æ¿city= beijing ,date=2016-01-22 å»è°ç¨å¤©æ°å½æ°get_temperature(string cityï¼ string date)</li>
<li>æåä¿¡æ¯åè¶³ï¼å¯¹è¯ä¸­é®ç±»ä¼¼çé½è½ç¬çº³ã</li>
</ul>
<p>åºç¨è§åº¦ï¼éè¦æä¾2ä¸ªå½æ°</p>
<ul>
<li>get_temperature(string cityï¼ string date)ï¼ Get the current temperature for a city</li>
<li>get_currentDate()ï¼ Get the current date</li>
</ul>
<hr>
<h4 id="-llmåèµ·ç¬¬ä¸æ¬¡function-calling-toolséç½®èæºå¸¦äºåºç¨æä¾ç2ä¸ªå¤é¨è°ç¨å½æ°">â  LLMåèµ·ç¬¬ä¸æ¬¡function calling, <code>tools</code>éç½®èæºå¸¦äºåºç¨æä¾ç2ä¸ªå¤é¨è°ç¨å½æ°ã</h4>
<p><img src="https://img2024.cnblogs.com/blog/587720/202601/587720-20260123090454039-1314904393.png" alt="image" loading="lazy"></p>
<p>LLMæ¨çæç¤ºåºç¨å»è°ç¨<code>get_currentDate</code>å½æ°ã</p>
<h4 id="-åºç¨æ¿è¿ä¸ªæ¨çä¿¡æ¯å»è°ç¨åå¤å¥½çget_currentdateå½æ°åè®¾ç»ææ¯2026-01-22">â¡ åºç¨æ¿è¿ä¸ªæ¨çä¿¡æ¯ï¼å»è°ç¨åå¤å¥½çget_currentDateå½æ°ï¼åè®¾ç»ææ¯<code>2026-01-22</code>ã</h4>
<h4 id="-llmåèµ·ç¬¬äºæ¬¡function-callingæ­¤æ¶messageéç½®èè¦éå¸¦ç¬¬ä¸æ¬¡å¤é¨è°ç¨çä¿¡æ¯">â¢ LLMåèµ·ç¬¬äºæ¬¡function callingï¼æ­¤æ¶<code>message</code>éç½®èè¦éå¸¦ç¬¬ä¸æ¬¡å¤é¨è°ç¨çä¿¡æ¯</h4>
<p><img src="https://img2024.cnblogs.com/blog/587720/202601/587720-20260123090514188-995218064.png" alt="image" loading="lazy"></p>
<p>LLMæ¨çæç¤ºåºç¨å»è°ç¨<code>get_temperature</code>å½æ°ï¼æ­¤æ¶åæ°é½å·²ç»å°±ç»ªäºï¼beijingæ¯æ¨çå·²ç¥ï¼2026-01-22æ¯å¤é¨è°ç¨æ³¨å¥ä¿¡æ¯ã</p>
<h4 id="-åºç¨æ¿å°æ¨çä¿¡æ¯å»è°ç¨get_temperatureå½æ°-åè®¾æ¿å°ç»ææ¯22">â£ åºç¨æ¿å°æ¨çä¿¡æ¯ï¼å»è°ç¨<code>get_temperature</code>å½æ°ï¼ åè®¾æ¿å°ç»ææ¯22Â°ã</h4>
<h4 id="-ållmåèµ·æç»å¤©æ°å¯¹è¯åç»ä»ææä¿¡æ¯">â¤ åLLMåèµ·æç»å¤©æ°å¯¹è¯ï¼åç»ä»ææä¿¡æ¯</h4>
<pre><code>  curl -s http://localhost:11434/api/chat -H "Content-Type: application/json" -d '{
  "model": "qwen3:8b",
  "messages": [
    {"role": "user", "content": "what is the temperature in the capital of china today?"},
    {"role": "assistant","tool_calls":[{"type": "function","function":{"index":0,"name":"get_temperature","arguments":{
             "city": "Beijing",
              "date": "2026-01-22" }}}]},
    {"role": "tool", "tool_name": "get_temperature", "content": "22Â°C"}
  ],
  "stream": false,
  "think": false
}'    // æ³¨å¥çä¿¡æ¯ä¾æ§æ¾å¨`message`éç½®èã
</code></pre>
<p><img src="https://img2024.cnblogs.com/blog/587720/202601/587720-20260123090556259-1793205593.png" alt="image" loading="lazy"></p>
<p>æ¨¡åå°±æ¶å°çå¤é¨è°ç¨çä¿¡æ¯ï¼å¹¶éæå°èªå·±æ¨çç³»ç»ã</p>
<p>æä»¥ä¸æ¬¡å¤æçå¯¹è¯å¯è½ç»è¿å æ¬¡function callingï¼ äºæ­¤åæ¶ä¹éè¦åºç¨çéåã</p>

</div>
<div id="MySignature" role="contentinfo">
    <hr style="FILTER: alpha(opacity=100,finishopacity=0,style=3)" width="80%" color="#987cb9" size="3">
<div style="text-align:center;">
<p>æ¬ææ¥èªåå®¢å­ï¼ä½èï¼{ææåº¦çé©¬ç²}ï¼è½¬è½½è¯·æ³¨æåæé¾æ¥ï¼<a href="https://www.cnblogs.com/JulianHuang/p/19520341" target="_blank">https://www.cnblogs.com/JulianHuang/p/19520341</a></p>
<strong style="color: red; ">æ¬¢è¿å³æ³¨æçååææ¯ãèåºå¬ä¼å·ï¼ å å¥½åè°å¤©è¯´å°ï¼ä¸èµ·è¿å</strong>
<div><img style="width: 250px;height:250px;" src="https://blog-static.cnblogs.com/files/JulianHuang/QR.gif"> </div>

</div>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-23 09:08">2026-01-23 09:08</span>&nbsp;
<a href="https://www.cnblogs.com/JulianHuang">ç ç²å¥ä¸å·</a>&nbsp;
éè¯»(<span id="post_view_count">196</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19520341);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19520341', targetLink: 'https://www.cnblogs.com/JulianHuang/p/19520341', title: 'è¿ææ¯ollamaæ´å»çå¼çå¤§æ¨¡åæ¬å°é¨ç½²æ¹å¼å ï¼' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ .NET 10äºï¼HttpClientè¿æ¯ä¸è½ç¨usingåï¼æåäºä¸ä¸ªå®éª ]]></title>
    <link>https://www.cnblogs.com/sdcb/p/19500792/20260119-using-httpclient</link>
    <guid>5493a532372554236884c6148fa952d9</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/sdcb/p/19500792/20260119-using-httpclient" title="åå¸äº 2026-01-23 08:45">
    <span role="heading" aria-level="2">.NET 10äºï¼HttpClientè¿æ¯ä¸è½ç¨usingåï¼æåäºä¸ä¸ªå®éª</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="å¼è¨è¿ä¸ªæä½³å®è·µå°åºè¿æ¶äºå">å¼è¨ï¼è¿ä¸ªâæä½³å®è·µâå°åºè¿æ¶äºåï¼</h2>
<p>æ¯éä¸æ®µæ¶é´ï¼å°±ä¼çå°ç±»ä¼¼é®é¢åå¤åºç°ï¼</p>
<blockquote>
<p>âé½ .NET 10 äºï¼<code>HttpClient</code> è¿ä¸è½ <code>using</code> åï¼ææ¯æ¬¡è¯·æ± <code>new HttpClient()</code>ï¼ç¨å® <code>Dispose()</code>ï¼ä¸æ¯å¾åçï¼â</p>
</blockquote>
<p>è¿ç±»é®é¢ä¹æä»¥ç»ä¹ä¸è¡°ï¼æ¯å ä¸ºå®<strong>å¨ä½å¹¶åä¸å ä¹æ°¸è¿è·å¾é</strong>ï¼ä½ä¸æ¦è¿å¥âé«å¹¶å + ç­è¿æ¥å¯éåå»ºâçåºæ¯ï¼å°±ä¼çªç¶åæçå­¦ï¼æçäººè½è·ï¼æçäººä¼ç¸ï¼æäººè¯´è¿æ¯ä¸ä¸ªè¿æ¯ä¸ä¸ªâbugâï¼å¨ææçæ¬ä¸­ä¼ä¿®å¤ï¼å¶å®å¹¶æ²¡æï¼ï¼æäººè¯´è¿æ¯ä¸ä¸ªfeatureï¼è®¾è®¡å°±æ¯å¦æ­¤â¦â¦</p>
<p>æä»¥æå³å®åä¸ä¸ªå®éªï¼æ¥éç°ä¸ä¸10å¹´åå°±æçç°è±¡ï¼çè¿äºç°è±¡æ¯å¦æä»»ä½ä¸åã</p>
<p>æ¬æç¨ä¸ç»å¯å¤ç°çåæµï¼åæº server/clientï¼Windowsï¼requests=20000ï¼parallel=200ï¼å¯¹æ¯ï¼</p>
<ul>
<li>æ¯è¯·æ± <code>new HttpClient</code> + <code>Dispose()</code>ï¼ä¹å°±æ¯å¤§å®¶å¸¸è¯´çâusing åæ³âï¼</li>
<li>å¤ç¨ä¸ä¸ª <code>HttpClient</code>ï¼éæ/åä¾ï¼</li>
<li>ä½¿ç¨ <code>IHttpClientFactory</code></li>
</ul>
<p>å¹¶è§å¯å³é®ææ ï¼<strong>TIME_WAIT æ°é</strong>ï¼ä»¥åæ¯å¦åºç°ç»å¸çç«¯å£èå°½éè¯¯ï¼</p>
<blockquote>
<p>éå¸¸æ¯ä¸ªå¥æ¥å­å°å(åè®®/ç½ç»å°å/ç«¯å£)åªåè®¸ä½¿ç¨ä¸æ¬¡ã</p>
</blockquote>
<hr>
<h2 id="å®éªç®æ ">å®éªç®æ </h2>
<p>éªè¯âæ¯è¯·æ± new HttpClient å¹¶ using éæ¾âå¨é«å¹¶åä¸ä¼å¯¼è´ TIME_WAIT æ¿å¢ï¼å¹¶å¯¹æ¯å¤ç¨ HttpClient / IHttpClientFactory çè¡¨ç°ã</p>
<hr>
<h2 id="å®éªç¯å¢ä¸åæ°">å®éªç¯å¢ä¸åæ°</h2>
<ul>
<li>OS: Windows</li>
<li>SDK: .NET SDK 10.0.102</li>
<li>æå¡å¨: HttpLeakServerï¼target net6ï¼éè¿ roll-forward è¿è¡ï¼</li>
<li>å®¢æ·ç«¯: net48 / net6 / net8 / net10</li>
<li>åæµåæ°: requests=20000, parallel=200, timeoutSeconds=5</li>
<li>TIME_WAIT ç»è®¡: <code>netstat -an</code> è¿æ»¤ç«¯å£ 5055</li>
<li>éç¦»ç­ç¥: æ¯è½®ç»æåç­å¾ TIME_WAIT &lt;= baseline + 200ï¼æ¯ 10 ç§æ£æ¥ï¼æé¿ 300 ç§ï¼</li>
</ul>
<hr>
<h2 id="å¦ä½è¿è¡å¯å¤ç°">å¦ä½è¿è¡ï¼å¯å¤ç°ï¼</h2>
<p>å®æ´é¡¹ç®ææ¾å¨ GitHubï¼<code>https://github.com/sdcb/http-client-exp</code></p>
<h3 id="1å¯å¨æå¡ç«¯åç¬çªå£">1ï¼å¯å¨æå¡ç«¯ï¼åç¬çªå£ï¼</h3>
<pre><code class="language-powershell">dotnet run --project Server/HttpLeakServer/HttpLeakServer.csproj
</code></pre>
<h3 id="2è¿è¡å®éªèæ¬å¦ä¸ä¸ªçªå£">2ï¼è¿è¡å®éªèæ¬ï¼å¦ä¸ä¸ªçªå£ï¼</h3>
<pre><code class="language-powershell">scripts/run-experiment-external-server.ps1
</code></pre>
<p>æ¬æ¬¡æ¥å¿ç®å½ï¼<code>logs/run-20260119-095017</code></p>
<hr>
<h2 id="è§£è¯»ä¸ºä»ä¹using-httpclientä¼æä½ æ¨åç«¯å£èå°½">è§£è¯»ï¼ä¸ºä»ä¹âusing HttpClientâä¼æä½ æ¨åç«¯å£èå°½ï¼</h2>
<p>å¾å¤äººç´è§ä¼è§å¾ï¼<code>HttpClient</code> æ¯æç®¡å¯¹è±¡ï¼ç¨å® <code>Dispose()</code>ï¼ä¸å°±éæ¾èµæºäºåï¼</p>
<p>ä½è¿éæä¸¤ä¸ªå³é®ç¹ç»å¸¸è¢«å¿½ç¥ï¼</p>
<ol>
<li><strong><code>HttpClient</code> å¹¶ä¸æ¯âè¯·æ±ä¸æ¬¡å°±å³ä¸æ¬¡è¿æ¥âçç®åæ¨¡å</strong>ãHTTP Keep-Alive + è¿æ¥æ± çå­å¨ï¼æå³çæ­£ç¡®å§¿å¿åºè¯¥æ¯å¤ç¨åºå±è¿æ¥ï¼æè³å°å¤ç¨ handler çè¿æ¥æ± ï¼ï¼è®©å¤§éè¯·æ±å¤ç¨å°é TCP è¿æ¥ã</li>
<li>ä½ é¢ç¹ <code>new HttpClient</code> + <code>Dispose()</code>ï¼ç­ä»·äº<strong>é¢ç¹å»ºç« TCP è¿æ¥å¹¶å¿«éå³é­</strong>ãè TCP è¿æ¥çå³é­ä¼è¿å¥ <strong>TIME_WAIT</strong>ï¼å·ä½åªä¸ç«¯è¿å¥ TIME_WAIT ä¸å³é­æ¶åºæå³ï¼ï¼TIME_WAIT å­å¨çæä¹æ¯ä¿æ¤ç½ç»ä¸è¢«âæ§è¿æ¥çæ®çåâæ±¡æã</li>
</ol>
<p>å¨â200 å¹¶å + 2 ä¸æ¬¡è¯·æ±âè¿ç§åæ°ä¸ï¼å¦æä½ è®©æ¯ä¸ªè¯·æ±é½åå»ºæ°è¿æ¥ï¼é£ä¹å¾å®¹æç­æ¶é´å¶é å¤§é TIME_WAITï¼ä¸æ¦æ¬æºå¯ç¨çä¸´æ¶ç«¯å£èå´è¢« TIME_WAIT å æ»¡ï¼ææ¥è¿å æ»¡ï¼ï¼æ°è¿æ¥å°±ä¼å¼å§å¤±è´¥ï¼å¸åå¼å¸¸å°±æ¯ï¼</p>
<blockquote>
<p>éå¸¸æ¯ä¸ªå¥æ¥å­å°å(åè®®/ç½ç»å°å/ç«¯å£)åªåè®¸ä½¿ç¨ä¸æ¬¡ã</p>
</blockquote>
<p>è¿ä¹æ¯ä¸ºä»ä¹åæ ·çä»£ç ï¼</p>
<ul>
<li>å¨ä½å¹¶åä¸âçèµ·æ¥å®å¨æ²¡é®é¢â</li>
<li>å¨ååä¸ä¸æ¥å°±å¼å§âçå­¦æ¥éâ</li>
</ul>
<hr>
<h2 id="é£å°åºæä¹åæå¯¹">é£å°åºæä¹åæå¯¹ï¼</h2>
<p>æ¬æä¸å±å¼âææåºæ¯çæä½³å®è·µâï¼åªç»ä¸¤æ¡æè½è½å°çç»è®ºï¼</p>
<ol>
<li><strong>ä¸å¡ä»£ç ä¸è¦æ¯æ¬¡è¯·æ± new HttpClient</strong>ãè¦ä¹å¤ç¨åä¾/éæ <code>HttpClient</code>ï¼è¦ä¹ä½¿ç¨ <code>IHttpClientFactory</code>ã</li>
<li><strong>å¯ä»¥ using çæ¯ <code>HttpResponseMessage</code> / <code>HttpContent</code></strong>ï¼å®ä»¬ç¡®å®åºè¯¥åæ¶éæ¾ï¼ï¼èä¸æ¯âæ¯ä¸ªè¯·æ±ä¸ä¸ª HttpClientâã</li>
</ol>
<p>ä¸é¢ææè¿æ¬¡å®éªç<strong>å®æ´ä»£ç </strong>å<strong>åå§æ¥å¿</strong>å¨é¨è´´åºæ¥ï¼æ¹ä¾¿ä½ èªå·±å¤è·/æ¹åæ°/åäºæ¬¡éªè¯ã</p>
<hr>
<h2 id="å®æ´ä»£ç ç²¾ç®çä¸ä»½æºç --æ¡ä»¶ç¼è¯">å®æ´ä»£ç ï¼ç²¾ç®çï¼ä¸ä»½æºç  + æ¡ä»¶ç¼è¯ï¼</h2>
<p>å®æ´é¡¹ç®å°åï¼<code>https://github.com/sdcb/http-client-exp</code></p>
<p>ä¸ºäºé¿ååæ ·çä»£ç è´´åéï¼è¿éæ net48/net6/net8/net10 çå®¢æ·ç«¯åå¹¶æ<strong>ä¸ä»½</strong>ï¼ç¨ <code>#if / #elif</code> è¡¨ç¤ºå·®å¼ï¼å®éªè¾åºä¸åå§æ¥å¿ä»æâå¤ä»½ç»æâåæ ·ä¿çå¨åæï¼ã</p>
<h3 id="ç®åæå¡ç«¯httpleakserver">ç®åæå¡ç«¯ï¼HttpLeakServer</h3>
<h4 id="serverhttpleakserverhttpleakservercsproj"><code>Server/HttpLeakServer/HttpLeakServer.csproj</code></h4>
<pre><code class="language-xml">&lt;Project Sdk="Microsoft.NET.Sdk.Web"&gt;
  &lt;PropertyGroup&gt;
    &lt;TargetFramework&gt;net6.0&lt;/TargetFramework&gt;
    &lt;Nullable&gt;enable&lt;/Nullable&gt;
    &lt;ImplicitUsings&gt;enable&lt;/ImplicitUsings&gt;
  &lt;/PropertyGroup&gt;
&lt;/Project&gt;
</code></pre>
<h4 id="serverhttpleakserverprogramcs"><code>Server/HttpLeakServer/Program.cs</code></h4>
<pre><code class="language-csharp">using Microsoft.AspNetCore.Builder;
using Microsoft.Extensions.Hosting;
using Microsoft.Extensions.Logging;

var builder = WebApplication.CreateBuilder(args);

builder.Logging.ClearProviders();
builder.Logging.AddSimpleConsole(options =&gt;
{
    options.SingleLine = true;
    options.TimestampFormat = "HH:mm:ss ";
});

var app = builder.Build();

app.MapGet("/", () =&gt; Results.Text("ok"));
app.MapGet("/ping", () =&gt; Results.Text("ok"));
app.MapGet("/slow", async () =&gt;
{
    await Task.Delay(50);
    return Results.Text("ok");
});

var url = Environment.GetEnvironmentVariable("HTTPLEAK_URL") ?? "http://localhost:5055";
app.Urls.Add(url);

app.Lifetime.ApplicationStarted.Register(() =&gt;
{
    Console.WriteLine($"Listening on {url}");
});

await app.RunAsync();
</code></pre>
<h3 id="å®¢æ·ç«¯httpleakclientnet48net6net8net10-å±ç¨ä¸ä»½">å®¢æ·ç«¯ï¼HttpLeakClientï¼net48/net6/net8/net10 å±ç¨ä¸ä»½ï¼</h3>
<h4 id="clientshttpleakclienthttpleakclientcsprojç¤ºæå¤ç®æ --æ¡ä»¶ä¾èµ"><code>Clients/HttpLeakClient/HttpLeakClient.csproj</code>ï¼ç¤ºæï¼å¤ç®æ  + æ¡ä»¶ä¾èµï¼</h4>
<pre><code class="language-xml">&lt;Project Sdk="Microsoft.NET.Sdk"&gt;
  &lt;PropertyGroup&gt;
    &lt;OutputType&gt;Exe&lt;/OutputType&gt;
    &lt;TargetFrameworks&gt;net48;net6.0;net8.0;net10.0&lt;/TargetFrameworks&gt;
    &lt;LangVersion&gt;latest&lt;/LangVersion&gt;
    &lt;Nullable&gt;enable&lt;/Nullable&gt;
    &lt;ImplicitUsings&gt;enable&lt;/ImplicitUsings&gt;
  &lt;/PropertyGroup&gt;

  &lt;ItemGroup Condition="'$(TargetFramework)' == 'net48'"&gt;
    &lt;Reference Include="System.Net.Http" /&gt;
  &lt;/ItemGroup&gt;

  &lt;ItemGroup Condition="'$(TargetFramework)' == 'net10.0'"&gt;
    &lt;PackageReference Include="Microsoft.Extensions.Http" Version="10.0.0" /&gt;
  &lt;/ItemGroup&gt;
&lt;/Project&gt;
</code></pre>
<h4 id="clientshttpleakclientprogramcsç¨-if-è¡¨ç¤ºå·®å¼"><code>Clients/HttpLeakClient/Program.cs</code>ï¼ç¨ <code>#if</code> è¡¨ç¤ºå·®å¼ï¼</h4>
<pre><code class="language-csharp">using System.Diagnostics;
using System.Net.Http;

#if NET48
using System.Net;
#endif

#if NET10_0_OR_GREATER
using Microsoft.Extensions.DependencyInjection;
#endif

static string? GetArg(string[] args, string name)
{
    for (var i = 0; i &lt; args.Length - 1; i++)
    {
        if (string.Equals(args[i], name, StringComparison.OrdinalIgnoreCase))
        {
            return args[i + 1];
        }
    }

    return null;
}

static int GetArgInt(string[] args, string name, int defaultValue)
{
    var value = GetArg(args, name);
    return int.TryParse(value, out var parsed) ? parsed : defaultValue;
}

var url = GetArg(args, "--url") ?? "http://localhost:5055/ping";
var requests = GetArgInt(args, "--requests", 20000);
var parallel = GetArgInt(args, "--parallel", 200);
var logEvery = GetArgInt(args, "--logEvery", 1000);
var timeoutSeconds = GetArgInt(args, "--timeoutSeconds", 5);

#if NET10_0_OR_GREATER
var mode = GetArg(args, "--mode") ?? "new"; // new | static | factory
#endif

Console.WriteLine($"url={url}");
#if NET10_0_OR_GREATER
Console.WriteLine($"requests={requests}, parallel={parallel}, timeoutSeconds={timeoutSeconds}, mode={mode}");
#else
Console.WriteLine($"requests={requests}, parallel={parallel}, timeoutSeconds={timeoutSeconds}");
#endif

#if NET48
ServicePointManager.DefaultConnectionLimit = 1000;
ServicePointManager.Expect100Continue = false;
#endif

var throttler = new SemaphoreSlim(parallel);
var tasks = new List&lt;Task&gt;(requests);
var sw = Stopwatch.StartNew();
var success = 0;
var failed = 0;

#if NET10_0_OR_GREATER
HttpClient? staticClient = null;
if (string.Equals(mode, "static", StringComparison.OrdinalIgnoreCase))
{
    staticClient = new HttpClient
    {
        Timeout = TimeSpan.FromSeconds(timeoutSeconds)
    };
}

IHttpClientFactory? httpClientFactory = null;
ServiceProvider? serviceProvider = null;
if (string.Equals(mode, "factory", StringComparison.OrdinalIgnoreCase))
{
    var services = new ServiceCollection();
    services.AddHttpClient();
    serviceProvider = services.BuildServiceProvider();
    httpClientFactory = serviceProvider.GetRequiredService&lt;IHttpClientFactory&gt;();
}
#endif

for (var i = 0; i &lt; requests; i++)
{
    await throttler.WaitAsync();
    var index = i + 1;
    tasks.Add(Task.Run(async () =&gt;
    {
        try
        {
#if NET10_0_OR_GREATER
            HttpClient client;
            if (staticClient != null)
            {
                client = staticClient;
            }
            else if (httpClientFactory != null)
            {
                client = httpClientFactory.CreateClient();
                client.Timeout = TimeSpan.FromSeconds(timeoutSeconds);
            }
            else
            {
                client = new HttpClient();
                client.Timeout = TimeSpan.FromSeconds(timeoutSeconds);
            }

            using var response = await client.GetAsync(url);
            response.EnsureSuccessStatusCode();
            Interlocked.Increment(ref success);

            if (staticClient == null &amp;&amp; httpClientFactory == null)
            {
                client.Dispose();
            }
#else
            using var client = new HttpClient();
            client.Timeout = TimeSpan.FromSeconds(timeoutSeconds);
            using var response = await client.GetAsync(url);
            response.EnsureSuccessStatusCode();
            Interlocked.Increment(ref success);
#endif
        }
        catch (Exception ex)
        {
            var fail = Interlocked.Increment(ref failed);
            if (fail &lt;= 5)
            {
                Console.WriteLine($"ERR#{fail}: {ex.GetType().Name} {ex.Message}");
            }
        }
        finally
        {
            throttler.Release();
        }
    }));

    if (index % logEvery == 0)
    {
        Console.WriteLine($"queued: {index}/{requests}, success: {Volatile.Read(ref success)}, failed: {Volatile.Read(ref failed)}, elapsed: {sw.Elapsed}");
    }
}

await Task.WhenAll(tasks);
Console.WriteLine($"done: success={success}, failed={failed}, elapsed={sw.Elapsed}");

#if NET10_0_OR_GREATER
staticClient?.Dispose();
serviceProvider?.Dispose();
#endif
</code></pre>
<h3 id="powershell-èæ¬">PowerShell èæ¬</h3>
<p>èæ¬æå°±ä¸å¨æç« éå¨æè´´äºï¼</p>
<ul>
<li>å¤é¨å¯å¨ Server çæ¬ï¼<code>https://github.com/sdcb/http-client-exp/blob/main/scripts/run-experiment-external-server.ps1</code></li>
<li>èæ¬åå¯å¨ Server çæ¬ï¼<code>https://github.com/sdcb/http-client-exp/blob/main/scripts/run-experiment.ps1</code></li>
</ul>
<hr>
<h2 id="åå§å®éªç»ææ¥å¿å®æ´è´´åº">åå§å®éªç»æï¼æ¥å¿ï¼å®æ´è´´åºï¼</h2>
<blockquote>
<p>æ¥å¿ç®å½ï¼<code>logs/run-20260119-095017</code></p>
</blockquote>
<h3 id="experiment-summarylog"><code>experiment-summary.log</code></h3>
<pre><code class="language-text">[2026-01-19T09:51:13.7180857+08:00] net48 ExitCode=0 OutLog=C:\Users\ZhouJie\source\repos\http-client-exp\logs\\run-20260119-095017\net48.out.log ErrLog=C:\Users\ZhouJie\source\repos\http-client-exp\logs\\run-20260119-095017\net48.err.log
[2026-01-19T09:53:33.0362523+08:00] net6 ExitCode=0 OutLog=C:\Users\ZhouJie\source\repos\http-client-exp\logs\\run-20260119-095017\net6.out.log ErrLog=C:\Users\ZhouJie\source\repos\http-client-exp\logs\\run-20260119-095017\net6.err.log
[2026-01-19T09:56:00.4574527+08:00] net8 ExitCode=0 OutLog=C:\Users\ZhouJie\source\repos\http-client-exp\logs\\run-20260119-095017\net8.out.log ErrLog=C:\Users\ZhouJie\source\repos\http-client-exp\logs\\run-20260119-095017\net8.err.log
[2026-01-19T09:58:27.2618139+08:00] net10-new ExitCode=0 OutLog=C:\Users\ZhouJie\source\repos\http-client-exp\logs\\run-20260119-095017\net10-new.out.log ErrLog=C:\Users\ZhouJie\source\repos\http-client-exp\logs\\run-20260119-095017\net10-new.err.log
[2026-01-19T10:00:53.0490472+08:00] net10-static ExitCode=0 OutLog=C:\Users\ZhouJie\source\repos\http-client-exp\logs\\run-20260119-095017\net10-static.out.log ErrLog=C:\Users\ZhouJie\source\repos\http-client-exp\logs\\run-20260119-095017\net10-static.err.log
[2026-01-19T10:01:10.2096164+08:00] net10-factory ExitCode=0 OutLog=C:\Users\ZhouJie\source\repos\http-client-exp\logs\\run-20260119-095017\net10-factory.out.log ErrLog=C:\Users\ZhouJie\source\repos\http-client-exp\logs\\run-20260119-095017\net10-factory.err.log
</code></pre>
<h3 id="netstatlog"><code>netstat.log</code></h3>
<pre><code class="language-text">[2026-01-19T09:50:55.6627455+08:00] before-net48 TIME_WAIT=2 ESTABLISHED=0 CLOSE_WAIT=0
[2026-01-19T09:51:15.4686603+08:00] after-net48 TIME_WAIT=20002 ESTABLISHED=0 CLOSE_WAIT=0
[2026-01-19T09:53:13.9647485+08:00] before-net6 TIME_WAIT=0 ESTABLISHED=0 CLOSE_WAIT=0
[2026-01-19T09:53:33.8112294+08:00] after-net6 TIME_WAIT=20000 ESTABLISHED=0 CLOSE_WAIT=0
[2026-01-19T09:55:42.6435015+08:00] before-net8 TIME_WAIT=0 ESTABLISHED=0 CLOSE_WAIT=0
[2026-01-19T09:56:01.1900000+08:00] after-net8 TIME_WAIT=18361 ESTABLISHED=0 CLOSE_WAIT=0
[2026-01-19T09:58:08.8603129+08:00] before-net10-new TIME_WAIT=0 ESTABLISHED=0 CLOSE_WAIT=0
[2026-01-19T09:58:28.1500737+08:00] after-net10-new TIME_WAIT=18860 ESTABLISHED=0 CLOSE_WAIT=0
[2026-01-19T10:00:36.1038757+08:00] before-net10-static TIME_WAIT=0 ESTABLISHED=0 CLOSE_WAIT=0
[2026-01-19T10:00:53.1007259+08:00] after-net10-static TIME_WAIT=200 ESTABLISHED=0 CLOSE_WAIT=0
[2026-01-19T10:00:53.2458798+08:00] before-net10-factory TIME_WAIT=200 ESTABLISHED=0 CLOSE_WAIT=0
[2026-01-19T10:01:10.2574678+08:00] after-net10-factory TIME_WAIT=200 ESTABLISHED=0 CLOSE_WAIT=0
</code></pre>
<h3 id="cooldownlog"><code>cooldown.log</code></h3>
<pre><code class="language-text">[2026-01-19T09:51:16.2687666+08:00] cooldown-net48 TIME_WAIT=20002 baseline=2 limit=202
[2026-01-19T09:51:27.0427805+08:00] cooldown-net48 TIME_WAIT=20002 baseline=2 limit=202
[2026-01-19T09:51:37.8184382+08:00] cooldown-net48 TIME_WAIT=20002 baseline=2 limit=202
[2026-01-19T09:51:48.5404492+08:00] cooldown-net48 TIME_WAIT=20002 baseline=2 limit=202
[2026-01-19T09:51:59.2846968+08:00] cooldown-net48 TIME_WAIT=20002 baseline=2 limit=202
[2026-01-19T09:52:10.1562079+08:00] cooldown-net48 TIME_WAIT=20002 baseline=2 limit=202
[2026-01-19T09:52:21.0588622+08:00] cooldown-net48 TIME_WAIT=20002 baseline=2 limit=202
[2026-01-19T09:52:31.7777704+08:00] cooldown-net48 TIME_WAIT=20002 baseline=2 limit=202
[2026-01-19T09:52:42.5664350+08:00] cooldown-net48 TIME_WAIT=20002 baseline=2 limit=202
[2026-01-19T09:52:53.3299614+08:00] cooldown-net48 TIME_WAIT=20001 baseline=2 limit=202
[2026-01-19T09:53:03.8109734+08:00] cooldown-net48 TIME_WAIT=10752 baseline=2 limit=202
[2026-01-19T09:53:13.8560831+08:00] cooldown-net48 TIME_WAIT=0 baseline=2 limit=202
[2026-01-19T09:53:34.6370711+08:00] cooldown-net6 TIME_WAIT=20000 baseline=0 limit=200
[2026-01-19T09:53:45.5166974+08:00] cooldown-net6 TIME_WAIT=20000 baseline=0 limit=200
[2026-01-19T09:53:56.2899736+08:00] cooldown-net6 TIME_WAIT=20000 baseline=0 limit=200
[2026-01-19T09:54:07.0165428+08:00] cooldown-net6 TIME_WAIT=20000 baseline=0 limit=200
[2026-01-19T09:54:17.8872137+08:00] cooldown-net6 TIME_WAIT=20000 baseline=0 limit=200
[2026-01-19T09:54:28.7673529+08:00] cooldown-net6 TIME_WAIT=20000 baseline=0 limit=200
[2026-01-19T09:54:39.5200091+08:00] cooldown-net6 TIME_WAIT=20000 baseline=0 limit=200
[2026-01-19T09:54:50.3090659+08:00] cooldown-net6 TIME_WAIT=20000 baseline=0 limit=200
[2026-01-19T09:55:01.0638920+08:00] cooldown-net6 TIME_WAIT=20000 baseline=0 limit=200
[2026-01-19T09:55:11.7529528+08:00] cooldown-net6 TIME_WAIT=20000 baseline=0 limit=200
[2026-01-19T09:55:22.3886445+08:00] cooldown-net6 TIME_WAIT=12540 baseline=0 limit=200
[2026-01-19T09:55:32.4658786+08:00] cooldown-net6 TIME_WAIT=435 baseline=0 limit=200
[2026-01-19T09:55:42.5354878+08:00] cooldown-net6 TIME_WAIT=0 baseline=0 limit=200
[2026-01-19T09:56:01.8876493+08:00] cooldown-net8 TIME_WAIT=18361 baseline=0 limit=200
[2026-01-19T09:56:12.6341541+08:00] cooldown-net8 TIME_WAIT=18361 baseline=0 limit=200
[2026-01-19T09:56:23.2806604+08:00] cooldown-net8 TIME_WAIT=18361 baseline=0 limit=200
[2026-01-19T09:56:33.9425873+08:00] cooldown-net8 TIME_WAIT=18361 baseline=0 limit=200
[2026-01-19T09:56:44.6277561+08:00] cooldown-net8 TIME_WAIT=18361 baseline=0 limit=200
[2026-01-19T09:56:55.3013674+08:00] cooldown-net8 TIME_WAIT=18361 baseline=0 limit=200
[2026-01-19T09:57:06.0278128+08:00] cooldown-net8 TIME_WAIT=18361 baseline=0 limit=200
[2026-01-19T09:57:16.7315578+08:00] cooldown-net8 TIME_WAIT=18361 baseline=0 limit=200
[2026-01-19T09:57:27.3887925+08:00] cooldown-net8 TIME_WAIT=18361 baseline=0 limit=200
[2026-01-19T09:57:38.0442453+08:00] cooldown-net8 TIME_WAIT=18361 baseline=0 limit=200
[2026-01-19T09:57:48.6566839+08:00] cooldown-net8 TIME_WAIT=12989 baseline=0 limit=200
[2026-01-19T09:57:58.7347337+08:00] cooldown-net8 TIME_WAIT=1069 baseline=0 limit=200
[2026-01-19T09:58:08.7780660+08:00] cooldown-net8 TIME_WAIT=0 baseline=0 limit=200
[2026-01-19T09:58:29.0261291+08:00] cooldown-net10-new TIME_WAIT=18860 baseline=0 limit=200
[2026-01-19T09:58:39.7491043+08:00] cooldown-net10-new TIME_WAIT=18860 baseline=0 limit=200
[2026-01-19T09:58:50.4613796+08:00] cooldown-net10-new TIME_WAIT=18860 baseline=0 limit=200
[2026-01-19T09:59:01.2064545+08:00] cooldown-net10-new TIME_WAIT=18860 baseline=0 limit=200
[2026-01-19T09:59:11.8710153+08:00] cooldown-net10-new TIME_WAIT=18860 baseline=0 limit=200
[2026-01-19T09:59:22.5648486+08:00] cooldown-net10-new TIME_WAIT=18860 baseline=0 limit=200
[2026-01-19T09:59:33.2755958+08:00] cooldown-net10-new TIME_WAIT=18860 baseline=0 limit=200
[2026-01-19T09:59:43.9631547+08:00] cooldown-net10-new TIME_WAIT=18860 baseline=0 limit=200
[2026-01-19T09:59:54.6979243+08:00] cooldown-net10-new TIME_WAIT=18860 baseline=0 limit=200
[2026-01-19T10:00:05.3961397+08:00] cooldown-net10-new TIME_WAIT=18860 baseline=0 limit=200
[2026-01-19T10:00:15.8607378+08:00] cooldown-net10-new TIME_WAIT=11840 baseline=0 limit=200
[2026-01-19T10:00:25.9471407+08:00] cooldown-net10-new TIME_WAIT=614 baseline=0 limit=200
[2026-01-19T10:00:36.0111701+08:00] cooldown-net10-new TIME_WAIT=0 baseline=0 limit=200
[2026-01-19T10:00:53.1510649+08:00] cooldown-net10-static TIME_WAIT=200 baseline=0 limit=200
[2026-01-19T10:01:10.3057785+08:00] cooldown-net10-factory TIME_WAIT=200 baseline=200 limit=400
</code></pre>
<h3 id="net48outlog"><code>net48.out.log</code></h3>
<pre><code class="language-text">url=http://localhost:5055/ping
requests=20000, parallel=200, timeoutSeconds=5
queued: 1000/20000, success: 803, failed: 0, elapsed: 00:00:00.7170409
queued: 2000/20000, success: 1803, failed: 0, elapsed: 00:00:01.5455465
queued: 3000/20000, success: 2800, failed: 0, elapsed: 00:00:02.3559601
queued: 4000/20000, success: 3801, failed: 0, elapsed: 00:00:03.1925172
queued: 5000/20000, success: 4802, failed: 0, elapsed: 00:00:04.0184093
queued: 6000/20000, success: 5802, failed: 0, elapsed: 00:00:04.8348862
queued: 7000/20000, success: 6800, failed: 0, elapsed: 00:00:05.6775563
queued: 8000/20000, success: 7801, failed: 0, elapsed: 00:00:06.5458377
queued: 9000/20000, success: 8802, failed: 0, elapsed: 00:00:07.4397727
queued: 10000/20000, success: 9803, failed: 0, elapsed: 00:00:08.3348468
queued: 11000/20000, success: 10802, failed: 0, elapsed: 00:00:09.2035416
queued: 12000/20000, success: 11804, failed: 0, elapsed: 00:00:10.0393223
queued: 13000/20000, success: 12806, failed: 0, elapsed: 00:00:10.8262272
queued: 14000/20000, success: 13804, failed: 0, elapsed: 00:00:11.6636597
queued: 15000/20000, success: 14802, failed: 0, elapsed: 00:00:12.4799716
queued: 16000/20000, success: 15819, failed: 0, elapsed: 00:00:13.4697834
queued: 17000/20000, success: 16822, failed: 0, elapsed: 00:00:14.5332049
queued: 18000/20000, success: 17818, failed: 0, elapsed: 00:00:15.5317397
queued: 19000/20000, success: 18816, failed: 0, elapsed: 00:00:16.5405963
queued: 20000/20000, success: 19819, failed: 0, elapsed: 00:00:17.6652081
done: success=20000, failed=0, elapsed=00:00:17.7541839
</code></pre>
<h3 id="net6outlog"><code>net6.out.log</code></h3>
<pre><code class="language-text">url=http://localhost:5055/ping
requests=20000, parallel=200, timeoutSeconds=5
queued: 1000/20000, success: 803, failed: 0, elapsed: 00:00:00.7159800
queued: 2000/20000, success: 1803, failed: 0, elapsed: 00:00:01.6028433
queued: 3000/20000, success: 2802, failed: 0, elapsed: 00:00:02.4876237
queued: 4000/20000, success: 3802, failed: 0, elapsed: 00:00:03.3549543
queued: 5000/20000, success: 4802, failed: 0, elapsed: 00:00:04.2710795
queued: 6000/20000, success: 5801, failed: 0, elapsed: 00:00:05.1637653
queued: 7000/20000, success: 6802, failed: 0, elapsed: 00:00:06.0729777
queued: 8000/20000, success: 7802, failed: 0, elapsed: 00:00:07.0697555
queued: 9000/20000, success: 8801, failed: 0, elapsed: 00:00:08.0143162
queued: 10000/20000, success: 9800, failed: 0, elapsed: 00:00:08.9633860
queued: 11000/20000, success: 10802, failed: 0, elapsed: 00:00:09.9344239
queued: 12000/20000, success: 11802, failed: 0, elapsed: 00:00:10.8379783
queued: 13000/20000, success: 12801, failed: 0, elapsed: 00:00:11.6810601
queued: 14000/20000, success: 13801, failed: 0, elapsed: 00:00:12.5122642
queued: 15000/20000, success: 14800, failed: 0, elapsed: 00:00:13.3692282
queued: 16000/20000, success: 15803, failed: 0, elapsed: 00:00:14.2782829
queued: 17000/20000, success: 16801, failed: 0, elapsed: 00:00:15.2187642
queued: 18000/20000, success: 17802, failed: 0, elapsed: 00:00:16.0811154
queued: 19000/20000, success: 18810, failed: 0, elapsed: 00:00:16.9798536
queued: 20000/20000, success: 19817, failed: 0, elapsed: 00:00:17.8952478
done: success=20000, failed=0, elapsed=00:00:18.0175351
</code></pre>
<h3 id="net8outlog"><code>net8.out.log</code></h3>
<pre><code class="language-text">url=http://localhost:5055/ping
requests=20000, parallel=200, timeoutSeconds=5
queued: 1000/20000, success: 800, failed: 0, elapsed: 00:00:00.8405997
queued: 2000/20000, success: 1802, failed: 0, elapsed: 00:00:01.6913251
queued: 3000/20000, success: 2800, failed: 0, elapsed: 00:00:02.6176324
queued: 4000/20000, success: 3802, failed: 0, elapsed: 00:00:03.4744051
queued: 5000/20000, success: 4801, failed: 0, elapsed: 00:00:04.2873345
queued: 6000/20000, success: 5800, failed: 0, elapsed: 00:00:05.0960137
queued: 7000/20000, success: 6803, failed: 0, elapsed: 00:00:05.8940500
queued: 8000/20000, success: 7802, failed: 0, elapsed: 00:00:06.7207568
queued: 9000/20000, success: 8803, failed: 0, elapsed: 00:00:07.5346954
queued: 10000/20000, success: 9800, failed: 0, elapsed: 00:00:08.3507870
queued: 11000/20000, success: 10802, failed: 0, elapsed: 00:00:09.1985154
queued: 12000/20000, success: 11803, failed: 0, elapsed: 00:00:10.0035216
queued: 13000/20000, success: 12803, failed: 0, elapsed: 00:00:10.7763067
queued: 14000/20000, success: 13802, failed: 0, elapsed: 00:00:11.6251384
queued: 15000/20000, success: 14802, failed: 0, elapsed: 00:00:12.4436652
queued: 16000/20000, success: 15807, failed: 0, elapsed: 00:00:13.3164599
queued: 17000/20000, success: 16801, failed: 0, elapsed: 00:00:14.2231530
ERR#1: HttpRequestException éå¸¸æ¯ä¸ªå¥æ¥å­å°å(åè®®/ç½ç»å°å/ç«¯å£)åªåè®¸ä½¿ç¨ä¸æ¬¡ã (localhost:5055)
ERR#2: HttpRequestException éå¸¸æ¯ä¸ªå¥æ¥å­å°å(åè®®/ç½ç»å°å/ç«¯å£)åªåè®¸ä½¿ç¨ä¸æ¬¡ã (localhost:5055)
ERR#3: HttpRequestException éå¸¸æ¯ä¸ªå¥æ¥ï¿½ï¿½ï¿½å°å(åè®®/ç½ç»å°å/ç«¯å£)åªåè®¸ä½¿ç¨ä¸æ¬¡ã (localhost:5055)
ERR#5: HttpRequestException éå¸¸æ¯ä¸ªå¥æ¥å­å°å(åè®®/ç½ç»å°å/ç«¯å£)åªåè®¸ä½¿ç¨ä¸æ¬¡ã (localhost:5055)
ERR#4: HttpRequestException éå¸¸æ¯ä¸ªå¥æ¥å­å°å(åè®®/ç½ç»å°å/ç«¯å£)åªåè®¸ä½¿ç¨ä¸æ¬¡ã (localhost:5055)
queued: 18000/20000, success: 17605, failed: 201, elapsed: 00:00:15.0862152
queued: 19000/20000, success: 17711, failed: 1090, elapsed: 00:00:15.6168905
queued: 20000/20000, success: 18165, failed: 1639, elapsed: 00:00:16.3332350
done: success=18361, failed=1639, elapsed=00:00:16.4268168
</code></pre>
<h3 id="net10-newoutlog"><code>net10-new.out.log</code></h3>
<pre><code class="language-text">url=http://localhost:5055/ping
requests=20000, parallel=200, timeoutSeconds=5, mode=new
queued: 1000/20000, success: 805, failed: 0, elapsed: 00:00:00.7099803
queued: 2000/20000, success: 1800, failed: 0, elapsed: 00:00:01.5324361
queued: 3000/20000, success: 2800, failed: 0, elapsed: 00:00:02.3573877
queued: 4000/20000, success: 3800, failed: 0, elapsed: 00:00:03.2069000
queued: 5000/20000, success: 4800, failed: 0, elapsed: 00:00:04.0313423
queued: 6000/20000, success: 5802, failed: 0, elapsed: 00:00:04.8687039
queued: 7000/20000, success: 6801, failed: 0, elapsed: 00:00:05.7252572
queued: 8000/20000, success: 7800, failed: 0, elapsed: 00:00:06.5624078
queued: 9000/20000, success: 8800, failed: 0, elapsed: 00:00:07.4244971
queued: 10000/20000, success: 9800, failed: 0, elapsed: 00:00:08.2911306
queued: 11000/20000, success: 10800, failed: 0, elapsed: 00:00:09.1755667
queued: 12000/20000, success: 11801, failed: 0, elapsed: 00:00:10.1160925
queued: 13000/20000, success: 12802, failed: 0, elapsed: 00:00:11.0165038
queued: 14000/20000, success: 13801, failed: 0, elapsed: 00:00:11.9382103
queued: 15000/20000, success: 14802, failed: 0, elapsed: 00:00:12.8002543
queued: 16000/20000, success: 15801, failed: 0, elapsed: 00:00:13.7185127
ERR#3: HttpRequestException éå¸¸æ¯ä¸ªå¥æ¥å­å°å(åè®®/ç½ç»å°å/ç«¯å£)åªåè®¸ä½¿ç¨ä¸æ¬¡ã (localhost:5055)
ERR#2: HttpRequestException éå¸¸æ¯ä¸ªå¥æ¥å­å°å(åè®®/ç½ç»å°å/ç«¯å£)åªåè®¸ä½¿ç¨ä¸æ¬¡ã (localhost:5055)
ERR#1: HttpRequestException éå¸¸æ¯ä¸ªå¥æ¥å­å°å(åè®®/ç½ç»å°å/ç«¯å£)åªåè®¸ä½¿ç¨ä¸æ¬¡ã (localhost:5055)
ERR#5: HttpRequestException éå¸¸æ¯ä¸ªå¥æ¥å­å°å(åè®®/ç½ç»å°å/ç«¯å£)åªåè®¸ä½¿ç¨ä¸æ¬¡ã (localhost:5055)
ERR#4: HttpRequestException éå¸¸æ¯ä¸ªå¥æ¥å­å°å(åè®®/ç½ç»å°å/ç«¯å£)åªåè®¸ä½¿ç¨ä¸æ¬¡ã (localhost:5055)
queued: 17000/20000, success: 16682, failed: 118, elapsed: 00:00:14.7578539
queued: 18000/20000, success: 16684, failed: 1118, elapsed: 00:00:15.4297844
queued: 19000/20000, success: 17661, failed: 1140, elapsed: 00:00:16.2796589
queued: 20000/20000, success: 18661, failed: 1140, elapsed: 00:00:17.3258406
done: success=18860, failed=1140, elapsed=00:00:17.3996862
</code></pre>
<h3 id="net10-staticoutlog"><code>net10-static.out.log</code></h3>
<pre><code class="language-text">url=http://localhost:5055/ping
requests=20000, parallel=200, timeoutSeconds=5, mode=static
queued: 1000/20000, success: 801, failed: 0, elapsed: 00:00:00.6551470
queued: 2000/20000, success: 1800, failed: 0, elapsed: 00:00:01.5355394
queued: 3000/20000, success: 2800, failed: 0, elapsed: 00:00:02.3480456
queued: 4000/20000, success: 3800, failed: 0, elapsed: 00:00:03.0999050
queued: 5000/20000, success: 4800, failed: 0, elapsed: 00:00:03.8470820
queued: 6000/20000, success: 5800, failed: 0, elapsed: 00:00:04.5759884
queued: 7000/20000, success: 6800, failed: 0, elapsed: 00:00:05.3461919
queued: 8000/20000, success: 7801, failed: 0, elapsed: 00:00:06.0916621
queued: 9000/20000, success: 8802, failed: 0, elapsed: 00:00:06.9085343
queued: 10000/20000, success: 9800, failed: 0, elapsed: 00:00:07.8274125
queued: 11000/20000, success: 10800, failed: 0, elapsed: 00:00:08.6757231
queued: 12000/20000, success: 11800, failed: 0, elapsed: 00:00:09.5154490
queued: 13000/20000, success: 12800, failed: 0, elapsed: 00:00:10.3306765
queued: 14000/20000, success: 13800, failed: 0, elapsed: 00:00:11.1493724
queued: 15000/20000, success: 14800, failed: 0, elapsed: 00:00:11.9658212
queued: 16000/20000, success: 15801, failed: 0, elapsed: 00:00:12.7510706
queued: 17000/20000, success: 16800, failed: 0, elapsed: 00:00:13.4735304
queued: 18000/20000, success: 17800, failed: 0, elapsed: 00:00:14.2777953
queued: 19000/20000, success: 18800, failed: 0, elapsed: 00:00:15.0219907
queued: 20000/20000, success: 19801, failed: 0, elapsed: 00:00:15.7699702
done: success=20000, failed=0, elapsed=00:00:15.8507052
</code></pre>
<h3 id="net10-factoryoutlog"><code>net10-factory.out.log</code></h3>
<pre><code class="language-text">url=http://localhost:5055/ping
requests=20000, parallel=200, timeoutSeconds=5, mode=factory
queued: 1000/20000, success: 801, failed: 0, elapsed: 00:00:00.7094395
queued: 2000/20000, success: 1801, failed: 0, elapsed: 00:00:01.5072383
queued: 3000/20000, success: 2800, failed: 0, elapsed: 00:00:02.3047647
queued: 4000/20000, success: 3800, failed: 0, elapsed: 00:00:03.0607252
queued: 5000/20000, success: 4800, failed: 0, elapsed: 00:00:03.8370598
queued: 6000/20000, success: 5800, failed: 0, elapsed: 00:00:04.6621606
queued: 7000/20000, success: 6800, failed: 0, elapsed: 00:00:05.4589104
queued: 8000/20000, success: 7800, failed: 0, elapsed: 00:00:06.2913588
queued: 9000/20000, success: 8800, failed: 0, elapsed: 00:00:07.0629536
queued: 10000/20000, success: 9800, failed: 0, elapsed: 00:00:07.8438472
queued: 11000/20000, success: 10800, failed: 0, elapsed: 00:00:08.5796209
queued: 12000/20000, success: 11800, failed: 0, elapsed: 00:00:09.3663975
queued: 13000/20000, success: 12801, failed: 0, elapsed: 00:00:10.1984757
queued: 14000/20000, success: 13800, failed: 0, elapsed: 00:00:11.0474925
queued: 15000/20000, success: 14800, failed: 0, elapsed: 00:00:11.9175753
queued: 16000/20000, success: 15800, failed: 0, elapsed: 00:00:12.7356429
queued: 17000/20000, success: 16801, failed: 0, elapsed: 00:00:13.4991148
queued: 18000/20000, success: 17800, failed: 0, elapsed: 00:00:14.2912941
queued: 19000/20000, success: 18800, failed: 0, elapsed: 00:00:15.0844828
queued: 20000/20000, success: 19800, failed: 0, elapsed: 00:00:15.8439387
done: success=20000, failed=0, elapsed=00:00:15.9485251
</code></pre>
<hr>
<h2 id="å±éä¸å¤æ³¨å«æç»è®ºç¨éå°æ¹">å±éä¸å¤æ³¨ï¼å«æç»è®ºç¨éå°æ¹ï¼</h2>
<ol>
<li><strong>å®¢æ·ç«¯ä¸æå¡å¨åæº</strong>ï¼TIME_WAIT ç»è®¡åå«ä¸¤ç«¯è¿æ¥ï¼ä¸è½å®å¨å½å äºâå®¢æ·ç«¯ç«¯å£èå°½âï¼ä½å®è¶³ä»¥è¯´æâç­æ¶é´å¶é å¤§éç­è¿æ¥âè¿ä»¶äºæ¬èº«çé£é©ã</li>
<li><strong>net48 è®¾ç½®äº <code>ServicePointManager.DefaultConnectionLimit = 1000</code></strong>ï¼ä¸ net6+/net10 çè¿æ¥ç®¡çç­ç¥å­å¨å·®å¼ã</li>
</ol>
<hr>
<h2 id="å³é®ç»ææ±æ»">å³é®ç»ææ±æ»</h2>
<h3 id="time_wait-ç»è®¡ç«¯å£-5055">TIME_WAIT ç»è®¡ï¼ç«¯å£ 5055ï¼</h3>
<table>
<thead>
<tr>
<th>è¿è¡</th>
<th style="text-align: right">before TIME_WAIT</th>
<th style="text-align: right">after TIME_WAIT</th>
<th style="text-align: right">èæ¶ï¼ç§ï¼</th>
</tr>
</thead>
<tbody>
<tr>
<td>net48</td>
<td style="text-align: right">2</td>
<td style="text-align: right">20002</td>
<td style="text-align: right">17.754</td>
</tr>
<tr>
<td>net6</td>
<td style="text-align: right">0</td>
<td style="text-align: right">20000</td>
<td style="text-align: right">18.018</td>
</tr>
<tr>
<td>net8</td>
<td style="text-align: right">0</td>
<td style="text-align: right">18361</td>
<td style="text-align: right">16.427</td>
</tr>
<tr>
<td>net10</td>
<td style="text-align: right">0</td>
<td style="text-align: right">18860</td>
<td style="text-align: right">17.400</td>
</tr>
<tr>
<td>net10-static</td>
<td style="text-align: right">0</td>
<td style="text-align: right">200</td>
<td style="text-align: right">15.851</td>
</tr>
<tr>
<td>net10-factory</td>
<td style="text-align: right">200</td>
<td style="text-align: right">200</td>
<td style="text-align: right">15.949</td>
</tr>
</tbody>
</table>
<p><img src="https://img2024.cnblogs.com/blog/233608/202601/233608-20260119112313722-548103397.png" alt="elapsed_seconds" loading="lazy"><br>
<img src="https://img2024.cnblogs.com/blog/233608/202601/233608-20260119112309621-529653637.png" alt="time_wait_delta" loading="lazy"></p>
<p>æ¥æºï¼<code>logs/run-20260119-095017/netstat.log</code></p>
<h3 id="å®¢æ·ç«¯æ§è¡ç»ææè¦">å®¢æ·ç«¯æ§è¡ç»æï¼æè¦ï¼</h3>
<ul>
<li>net48: success=20000, failed=0</li>
<li>net6: success=20000, failed=0</li>
<li>net8: success=18361, failed=1639ï¼æ¥éï¼âéå¸¸æ¯ä¸ªå¥æ¥å­å°ååªåè®¸ä½¿ç¨ä¸æ¬¡âï¼</li>
<li>net10-new: success=18860, failed=1140ï¼æ¥éï¼âéå¸¸æ¯ä¸ªå¥æ¥å­å°ååªåè®¸ä½¿ç¨ä¸æ¬¡âï¼</li>
<li>net10-static: success=20000, failed=0</li>
<li>net10-factory: success=20000, failed=0</li>
</ul>
<p>æ¥æºï¼<code>logs/run-20260119-095017/*.out.log</code></p>
<hr>
<h2 id="ç»è®º">ç»è®º</h2>
<p>â.NET 10 äºï¼HttpClient è¿è½ä¸è½ usingï¼âââç­æ¡ä¾ç¶æ¯ï¼<strong>å«æ HttpClient å½æä¸æ¬¡æ§å¯¹è±¡</strong>ã</p>
<p>ä½ å¯ä»¥ <code>using</code> çæ¯è¯·æ±/ååºç¸å³çå¯¹è±¡ï¼ä¾å¦ <code>HttpResponseMessage</code>ï¼ï¼ä½ <code>HttpClient</code> æ¬èº«æ´åä¸ä¸ªâè¿æ¥æ± çé¨é¢âï¼å®è¶å¤ç¨ï¼è¶ç¨³å®ï¼è¶ä¸å®¹ææä½ æ¨å TIME_WAIT å°ç±ã</p>
<p>å¦å¤ï¼ä»æ¬æ¬¡åæµèæ¶æ¥çï¼<strong>ä¸åâæ¯æ¬¡è¯·æ±é½ using/new HttpClientâ</strong> çåæ³ï¼éåº¦å¶å®è¿ä¼ç¨å¾®å¿«ä¸ä¸¢ä¸¢ï¼å½ç¶å·®è·å¾å°ï¼ã</p>
<p>æè°¢éè¯»ï¼å¦æä½ è§å¾è¿äºå®éªåææææï¼æèå¯¹ .NET é«æ§è½ç¼ç¨æå´è¶£ï¼æ¬¢è¿å¨è¯è®ºåºçè¨äº¤æµï¼ä¹æ¬¢è¿å å¥æç <strong>.NETéªæä½ QQç¾¤ï¼495782587</strong>ï¼æä»¬ä¸èµ·æ¢ç´¢æ´å¤ææ¯ç¡¬æ ¸ç©æ³ã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-23 08:45">2026-01-23 08:45</span>&nbsp;
<a href="https://www.cnblogs.com/sdcb">.NETéªæä½</a>&nbsp;
éè¯»(<span id="post_view_count">730</span>)&nbsp;
è¯è®º(<span id="post_comment_count">10</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19500792);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19500792', targetLink: 'https://www.cnblogs.com/sdcb/p/19500792/20260119-using-httpclient', title: '.NET 10äºï¼HttpClientè¿æ¯ä¸è½ç¨usingåï¼æåäºä¸ä¸ªå®éª' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ç«çå¨ç½çAgent Skillsï¼æ®éäººå°åºè¯¥æä¹ç¨ï¼-- è¯¦ç»æç¨ ]]></title>
    <link>https://www.cnblogs.com/jinjiangongzuoshi/p/19520101</link>
    <guid>6116ce12dd7806a26d41ce10cbb49cda</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/jinjiangongzuoshi/p/19520101" title="åå¸äº 2026-01-23 08:38">
    <span role="heading" aria-level="2">ç«çå¨ç½çAgent Skillsï¼æ®éäººå°åºè¯¥æä¹ç¨ï¼-- è¯¦ç»æç¨</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>æè¿ï¼AI Agent Skills ç®ç´ç«å°åºåï¼è¯´ä¸å¥ âå¨ç½å·å±â é½æ¯«ä¸å¤¸å¼ ï¼</p>
<p>å¦ä»ï¼è¶æ¥è¶å¤ AI äº§åé½å·²æ¥å¥ Skills åè½ ââ ä» Claude CodeãOpenCode å° CodeXãAntigravityï¼åå°æè¿ååçº§ç Coze 2.0ï¼å ä¹æäºä¸»æµ AI å·¥å·ç âæ éâã</p>
<p>ä½é®é¢æ¥äºï¼<strong>ç«çå¨ç½ç Skillsï¼æ®éäººå°åºè¯¥æä¹ç¨ï¼</strong></p>
<p>ä½ ä¼åç°ï¼é¤äº Coze 2.0 ä¹å¤ï¼ç»å¤§å¤æ°æ¯æ Skills çå·¥å·ï¼æ¬è´¨é½æ¯ AI ç¼ç¨å·¥å· ââ ä¸æ¯ CLI å½ä»¤è¡ï¼å°±æ¯ IDE å¼åç¯å¢ãè¿å¯¹æ°æå°ç½ãéææ¯äººåæ¥è¯´ï¼é¨æ§å®å¨å¤ªé«äºï¼</p>
<p>å¯¹æ®éäººèè¨ï¼ä¸ç®¡æ¯é¨ç½²è¿æ¯ä½¿ç¨ï¼é½å ªç§° âæ¦è·¯èâï¼ä¸æ¦æ¶åæ¬å°éç½®ãå½ä»¤è¡æä½ï¼å°±ç´æ¥æå¤§å¤æ°äººæ¡å¨äºé¨å¤ã</p>
<p>æ¯ç«ï¼çæ²¡å¤å°äººæ¿æè±æ¶é´å»ä¿®æ¹ãç¼å Skills ç¸å³æä»¶ ââ è¿ä¸è¥¿è¯´å¤æä¸ç®æè´å¤æï¼ä½å¯¹éä¸ä¸äººå£«æ¥è¯´ï¼åæ¯çè§£æä»¶ç»æå°±å¤å¤´ç¼ãç°å¨æ¿æå¨è¿äºå·¥å·éæè¾ Skills çï¼åºæ¬é½æ¯åæå®¢ãåä¸ä¸çææ¯ç©å®¶ã</p>
<p>èå¯¹æ´å¤æåæ¥è¯´ï¼å°æç®ç´æ å¤ä¸å¨ï¼</p>
<ul>
<li>å®è£æ­¥éª¤çä¸æï¼åå¤©è£ä¸ä¸ï¼</li>
<li>ç»ç«¯æ¯ä»ä¹ï¼å®å¨æ²¡æ¦å¿µï¼</li>
<li>Skills çæä»¶å¤¹èå¨åªï¼ç¿»éçµèæ¾ä¸å°ï¼</li>
<li>Github ä¸çå¼æºé¡¹ç®å¨æ¯ä»£ç ï¼æ ¹æ¬çä¸ææä¹æ¹æ Skillsï¼</li>
<li>æ³èªå·±åå»ºä¸ä¸ª Skillï¼å´è¿å¥é¨çé¨é½æ¸ä¸å°â¦â¦</li>
</ul>
<p>æä»¥ä»å¤©ï¼æå°±æ¥åäº«ä¸ç§ <strong>æç®åãæä¾¿æ·ç Skill æå»ºæ¹æ³ ââ ç´æ¥ç¨å´è¯´ï¼å°±è½æå®ï¼</strong> å¨ç¨ä¸ç¨ç¢°ä»£ç ãä¸ç¨æéç½®ï¼ç¹å«éåæ°æå°ç½åéææ¯äººåã</p>
<p>å¦ææå¯¹Skillsè¿ä¸äºè§£çæåï¼å¯ä»¥å»çæçè¿ç¯æç« ï¼<a href="https://mp.weixin.qq.com/s/CFjpnEo9eOoaLYx2OqQ0kg" target="_blank" rel="noopener nofollow">æè¿å¾ç«ççClaude Skillså°åºæ¯ä¸ªå¥ï¼è§£å³ä»ä¹é®é¢ï¼æä¹ç¨ï¼</a></p>
<h2 id="å·ä½æä½">å·ä½æä½</h2>
<p>1ãä»¥Claude Codeä¸ºä¾ï¼å¶å®AIå·¥å·ä¹ç±»ä¼¼ï¼åå®è£å¹¶è¿å¥å°<code>Claude Code</code> äº¤äºç»ç«¯ï¼å¦æè¿ä¸ç¥éæä¹å®è£Claude Codeï¼å¯ä»¥çè¿ç¯ï¼<a href="https://mp.weixin.qq.com/s/PyqhVgbkNBzd7grKN5IxgQ" target="_blank" rel="noopener nofollow">99% çäººé½ä¸ç¥éç Claude Code ä½¿ç¨æå·§ï¼</a><br>
<img src="https://image.kjdaohang.com/PicGo/20260121153305205.png" alt="" loading="lazy"></p>
<p>2ãå¨CCäº¤äºä¸­ï¼è¾å¥æç¤ºè¯ï¼</p>
<pre><code>å¸®æå®è£skill-creator
</code></pre>
<p><img src="https://image.kjdaohang.com/PicGo/20260121153811834.png" alt="" loading="lazy"></p>
<p>3ãæ¯å¦ææ³å¼åä¸ä¸ªå¾çè½¬æ¢ãåç¼©çå·¥å·ï¼å¸ææè¿ä¸ªè½åå°è£æä¸ä¸ªå¯å¤ç¨çskillæè½ï¼åªéè¦å¨CCä¸­è¾å¥æç¤ºè¯ï¼</p>
<pre><code>è¯·å¸®ææå¼æºé¡¹ç®https://github.com/lmageMagick/lmageMagick,æåæä¸ä¸ªSkillï¼æ¹ä¾¿æä»¥åç´æ¥è°ç¨å®æ¥å¯¹æçå¾çç´ æè¿è¡å¤çï¼å¯ä»¥æ¯å¦æ ¼å¼è½¬æ¢ï¼åè¾¨çä¿®æ¹ãåç¼©ç­ç­
</code></pre>
<p><img src="https://image.kjdaohang.com/PicGo/20260121160320245.png" alt="" loading="lazy"></p>
<p>4ãå¤§æ¦3~4åéå·¦å³åï¼Claude Codeå°±å¸®æèªå¨åå»ºå¥½äºä¸ä¸ªï¼ <code>ImageMagick å¾çå¤ç Skill</code><br>
<img src="https://image.kjdaohang.com/PicGo/20260121160733521.png" alt="" loading="lazy"></p>
<p>5ãæ¬å°ä¸ä¼ ä¸å¼ å¾çï¼æµè¯ä¸ä¸</p>
<pre><code>è¯·å°éä»¶å¾çæ ¼å¼è½¬åJPGï¼å¾çå¤§å°åç¼©ä¸ä¸ï¼å¹¶ä¿å­å°åå§å¾çåç®å½ä¸
</code></pre>
<p><img src="https://image.kjdaohang.com/PicGo/20260121170000979.png" alt="" loading="lazy"></p>
<p>å¯ä»¥çå°ï¼å·²ç»å¯ä»¥æåè°ç¨ååæ°æå»ºçskillå¯¹å¾çæ ¼å¼è½¬æ¢ä»¥åå¾çå¤§å°åç¼©äº<br>
<img src="https://image.kjdaohang.com/PicGo/20260121183417063.png" alt="" loading="lazy"></p>
<p>å¯ä»¥çå°ï¼ççåªç¨äº4æ­¥ï¼å°±æå»ºäºä¸ä¸ªå¨æ°çå¾çå¤çskillæè½ã</p>
<h2 id="ä»»ä½å¯å¤ç¨çæè½é½å»ºè®®skillå">ä»»ä½å¯å¤ç¨çæè½ï¼é½å»ºè®®Skillå</h2>
<p>è¿æ¯æéå¸¸å¼ºè°å¹¶åæçè§ç¹ï¼ä»»ä½ä¼éå¤3æ¬¡ä¸ä»¥ä¸ççï¼æèä»»ä½å¯ä»¥å¤ç¨çè½åï¼é½å»ºè®®æ½è±¡ææè½ï¼ä¸å®è¦Skillåã</p>
<p>ä¹åï¼è¦åå©å¤åçï¼é½æ¯åç§æ¾å·¥å·ï¼ä¸è½½ãå®è£å·¥å·ï¼æäºSkillä¹åï¼ä½ å¯ä»¥å¾è½»æ¾çå°å¶è½¬åä¸ºAIçSkillæè½ã</p>
<p>æ¯å¦ä¹åï¼å¤§å®¶ä¼ç¨å°çåç§æ ¼å¼å·¥åãå¾çåç¼©ãè§é¢ä¸è½½ä¹ç±»çå·¥å·ãè¿äºå·¥å·ï¼ç»å¤§å¤æ°é½æ¯æä¸äºå¤§ä½¬çå¼æºå·¥å·ï¼å°è£ä¸ä¸åè£æåç¬çäº§åãæ²¡æAIä¹åï¼æ¯æ¬¡å°±æ¯å»Googleãç¾åº¦åç§æãç°å¨æä»¬æäºSkillåï¼æä»¬å¯ä»¥ç»åå¼æºé¡¹ç®ï¼å¾å®¹æå°±è½ååºç¸å¯¹åºçskilläºã</p>
<p>Githubä¸æå¾å¤ä¼ç§çå¼æºé¡¹ç®ï¼ä½å¯¹äºæ®éäººæ¥è®²ï¼å¦ä½ç¥éè¯¥ç¨ä»ä¹ç¹å®çå¼æºé¡¹ç®æ¥å¤çç¹å®çäºæå¢ï¼æ¯å¦ä¸é¢æä»¬æå»ºçå¾çåç¼©å·¥å·ï¼åªæä½ äºåç¥éäºæ<code>ImageMagick</code>è¿ä¸ªé¡¹ç®ä¸ç¥éå®çå¼æºå°åï¼<code>https://github.com/lmageMagick/lmageMagick</code>ï¼ï¼ä½ æè½æå®åç»AIå°è£æSkillï¼ä½å¤§å¤æ°æ®éäººï¼æäºå¯è½è¿githubæ¯ä»ä¹é½ä¸ç¥éï¼é£æä¹å°è£å¢ï¼</p>
<p>å¶å®éå¯¹è¿ä¸ªé®é¢ï¼ä½ åæ ·å¯ä»¥é®AIï¼æ¯å¦åAIæè¿°ä½ çéæ±ï¼ä¸é®AIï¼å¨Githubä¸æä»ä¹æ¯è¾å¥½çå¼æºé¡¹ç®è½å¸®æå¤çè¿ç±»éæ±ï¼ç¶åç»åºé¡¹ç®é¾æ¥ãç¶åæä»¬ï¼åæ ¹æ®AIåå¤çç»æï¼æ¯ä¸ªè¿å»ç¨å¾®çä¸ä¸staræ°ååå®¹æ¯å¦ç¬¦åèªå·±éæ±å°±å¯ä»¥äºã</p>
<p><strong>ä¸¾ä¸ä¸ªä¾å­ï¼</strong></p>
<p>æç¸ä¿¡å¤§å®¶ç»å¸¸é½æä¸ä¸ªéæ±ï¼å°±æ¯å»åç§è§é¢ç½ç«ä¸ä¸è½½è§é¢ï¼æ¯å¦è§é¢å·ãæé³ãå°çº¢ä¹¦ãYoutubeãBç«ç­ã</p>
<p>ç¶åç´æ¥æåºä½ çé®é¢ï¼</p>
<blockquote>
<p>å¨Githubä¸ææ²¡æé£ç§éå¯¹åç§è§é¢ç½ç«ä¸çè§é¢è¿è¡è§é¢ä¸è½½æ¯è¾å¥½çé¡¹ç®ï¼æ¯å¦æ¯æè§é¢å·ãæé³ãå°çº¢ä¹¦ãYoutubeãBç«ç­è§é¢ä¸è½½ï¼è¯·ç»åºé¡¹ç®åç§°ï¼é¡¹ç®å°åï¼ç¹èµæ°ç­</p>
</blockquote>
<p><img src="https://image.kjdaohang.com/PicGo/20260121194423030.png" alt="" loading="lazy"></p>
<p>ä¸å°ä¸åéçæ¶é´ï¼å°±å¸®æèªå¨æ´çåºæ¥10ä¸ªæ¨èçå¼æºé¡¹ç®<br>
<img src="https://image.kjdaohang.com/PicGo/20260121194454299.png" alt="" loading="lazy"></p>
<p>æåç¬¬ä¸ï¼ä¹æ¯æä¸ºæ¨èçé¡¹ç®å½å±<code>yt-dlp</code>ï¼å¨å¹³å°éç¨ï¼ä¹æ¯åè½æå¼ºå¤§çè§é¢ä¸è½½å·¥å·ï¼æ¯æå¹³å°: YouTube, Bç«, æé³, å¿«æ, ä¼é·, è¾è®¯è§é¢, ç±å¥èºç­ 1000+ ç½ç«<br>
<img src="https://image.kjdaohang.com/PicGo/20260121194729405.png" alt="" loading="lazy"></p>
<p>ä¸ºä»ä¹è¯´<code>yt-dlp</code>æä¸ºæ¨èï¼ä¸è®²å¶å®çï¼åGithubä¸<code>143k</code>çstarï¼å°±è½ååè¯æè¿ç¹ï¼è¯´è¿ä¸ªé¡¹ç®æ¯Githubä¸æä¼å¤§çé¡¹ç®ä¹ä¸ï¼ä¹ä¸ä¸ºè¿ã</p>
<p><img src="https://image.kjdaohang.com/PicGo/20260121194640967.png" alt="" loading="lazy"></p>
<p>é¡¹ç®å°å: <code> https://github.com/yt-dlp/yt-dlp</code></p>
<p>ä½ è¦ç¸ä¿¡ï¼ä½ çéæ±ï¼æ°¸è¿ä¸æ¯è¿ä¸ªä¸çä¸ç¬¬ä¸ä¸ªæåºè¿ä¸ªéæ±çäººï¼ä¹ç»å¯¹ä¸æ¯æåä¸ä¸ªã</p>
<p>ç¶åæä¸é¢è¿æ®µæç¤ºè¯ï¼åç»ä½ è£å¥½äºskill-creatorçClaude Codeï¼</p>
<pre><code>å¸®ææè¿ä¸ªå¼æºå·¥å·https://github.com/yt-dlp/yt-dlpæåæä¸ä¸ªSkillï¼åªè¦æåç»­ç»åºè§é¢é¾æ¥ï¼å°±å¯ä»¥å¸®æä¸è½½è§é¢ã
</code></pre>
<p>æ¥çï¼ä½ åªéè¦åæ¯åå¡ï¼ç­å®å®æå°±å¯ä»¥äº<br>
<img src="https://image.kjdaohang.com/PicGo/20260121195246346.png" alt="" loading="lazy"></p>
<p><img src="https://image.kjdaohang.com/PicGo/20260121200457340.png" alt="" loading="lazy"></p>
<p>æ¥ä¸æ¥ï¼æä»¬éä¾¿æ¾ä¸ä¸ªè§é¢ï¼æµè¯éªè¯ä¸ä¸</p>
<p>å°±å¨å°çº¢ä¹¦æ¾ä¸ä¸ªé©ç«ç»å©´çè§é¢ï¼ååï¼åä½éååºè¯¥é½çè¿è¿éå§ï¼<br>
<img src="https://image.kjdaohang.com/PicGo/20260121200802848.png" alt="" loading="lazy"></p>
<p>éæ©ç¬¬ä¸ä¸ªè§é¢ï¼å¤å¶é¾æ¥ï¼è¾å¥ä¸é¢çæç¤ºè¯ï¼</p>
<pre><code>å¸®æä¸è½½è¿ä¸ªè§é¢:
https://www.xiaohongshu.com/discovery/item/692ac48b000000001e031b6c?source=webshare&amp;xhsshare=pc_web&amp;xsec_token=ABb9ZAeT2LidNaRo8XrZpegRyrQ7X4mSQTDbOcCDSGBXI=&amp;xsec_source=pc_share
</code></pre>
<p><img src="https://image.kjdaohang.com/PicGo/20260121201006927.png" alt="" loading="lazy"></p>
<p>åªè±äº15ç§éçæ¶é´ï¼å°±æè§é¢ä¸è½½å°äºæççµèæ¡é¢ï¼æå¼çäºä¸ä¸ï¼è§é¢å¯ä»¥æ­£å¸¸æ­å¥ï¼ä¸æ¸æ°åº¦è¿ä¸éï¼å®ç¾ï¼</p>
<p>æåï¼æä»¬è¿è¦å¨Claude Codeä¸­æ¥çä¸ä¸æ¬å°å·²ç»å®è£çskills</p>
<pre><code>/skills
</code></pre>
<p><img src="https://image.kjdaohang.com/PicGo/20260121201304364.png" alt="" loading="lazy"></p>
<h2 id="æåè¯´ä¸¤å¥">æåè¯´ä¸¤å¥</h2>
<p>éè¿ä¸é¢ä¸¤ä¸ªç®åçå®ææ¡ä¾ï¼ç¸ä¿¡å¤§å®¶å·²ç»çåæåå°ï¼Skill å¸¦æ¥çç»ä¸ä»æ¯ãä¾¿æ·ãï¼æ´æ¯ä¸ç§ãæçé©å½ãã</p>
<p>ç¨ä¸å¥è¯æ»ç» Skill çåå»ºå¨æµç¨ï¼æ ¸å¿å°±åä¸ªå­ï¼<strong>éæ±âè½å°</strong>ï¼</p>
<blockquote>
<p>éå®ä¸ä¸ªå·ä½éæ±ï¼åå© AI ææ GitHub ä¸çä¼è´¨å¼æºé¡¹ç®ï¼åéè¿ AI å°è¿äºé¡¹ç®ãSkill åãå°è£ï¼æç»æ²æ·ä¸ºä¸ä¸ªä¸ªå³æ¿å³ç¨ãç¨³å®å¯é ç AI æè½ã</p>
</blockquote>
<p>è¿è¿ä¸æ­¢è½è§£å³å¾çå¤çãè§é¢ä¸è½½è¿ç±»åä¸éæ± ââ ä½ çè³å¯ä»¥æè¿äºè¶å®ç¨çå¼æºé¡¹ç®æ´åæåï¼æé ä¸ä¸ªãä¸è½ Skill å·¥å·ç®±ããä»æ­¤ï¼ä¸å¿åä¸ºåç±»æ ¼å¼è½¬æ¢ãåè½è°ç¨æè¾äºè±å«é¨çå·¥å·ï¼ä¸ä¸ª Skill å°±è½ä¸ç«å¼æå®ææåºæ¯ï¼</p>
<p>æ è®ºæ¯æ¹éå¤çæä»¶ãèªå¨åç¬åæ°æ®ï¼è¿æ¯æºè½åææ¥è¡¨ãå¿«éæ­å»ºè½»éåºç¨â¦â¦ è¿äºåºæ¯å¨é½è½å®ç° Skill åï¼å¨é½è½æ ç¼æ¥å¥ä½ ç AI Agent ä½ç³»ï¼æä¸ºä½ ä¸å±çãæ ¸å¿æè½åãï¼æ´æ¯ä½ åºå¯¹åç±»éæ±æ¶ï¼æç¡¬æ ¸ãæå¯é çãå¼¹è¯åºãã</p>
<p>èæä»å¤©æå°çè¿äºï¼è¿ä»ä»æ¯ GitHub æµ·éå¼æºé¡¹ç®ä¸­çå°å±±ä¸è§ã</p>
<p>æ­£å  Skill çè¯çï¼æ­£å  AI Agent çå¼ºå¤§èµè½ï¼å¦ä»ï¼æ¯ä¸ä¸ªæ®éäººé½è½ç«å¨ãå·¨äººçè©èãä¸ ââ äººç±»è¿å»æ°åå¹´ç§¯ç´¯çææ¯ææãå¼æºæºæ§ï¼ä¸åæ¯å°æ°å¼åèçä¸å±ï¼åªè¦ä½ æ³ï¼å°±è½ä¸é®è°ç¨ï¼ä¸ºä½ æç¨ã</p>

</div>
<div id="MySignature" role="contentinfo">
    ææ¯æ¹åä¸çï¼
         --çè¯ç»å
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-23 08:39">2026-01-23 08:38</span>&nbsp;
<a href="https://www.cnblogs.com/jinjiangongzuoshi">çå¸</a>&nbsp;
éè¯»(<span id="post_view_count">208</span>)&nbsp;
è¯è®º(<span id="post_comment_count">1</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19520101);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19520101', targetLink: 'https://www.cnblogs.com/jinjiangongzuoshi/p/19520101', title: 'ç«çå¨ç½çAgent Skillsï¼æ®éäººå°åºè¯¥æä¹ç¨ï¼-- è¯¦ç»æç¨' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ Langchain å¿«éå¥é¨(ä¸) ]]></title>
    <link>https://www.cnblogs.com/ClownLMe/p/19519224</link>
    <guid>e3ca9e874ef51f59f43ff0fba37b0937</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/ClownLMe/p/19519224" title="åå¸äº 2026-01-22 22:51">
    <span role="heading" aria-level="2">Langchain å¿«éå¥é¨(ä¸)</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="ç®ä»">ç®ä»</h1>
<p>langchainä¸é¨ç¨äºæå»ºLLMå¤§è¯­è¨æ¨¡åï¼å¶ä¸­æä¾äºå¤§éçpromptæ¨¡æ¿ï¼åç»ä»¶ï¼éè¿chain(é¾)çæ¹å¼å°æµç¨è¿æ¥èµ·æ¥ï¼æä½ç®åï¼å¼åä¾¿æ·ã</p>
<h1 id="ç¯å¢éç½®">ç¯å¢éç½®</h1>
<p><strong>å®è£langchainæ¡æ¶</strong></p>
<pre><code class="language-bash">pip install langchain langchain-community
</code></pre>
<p>å¶ä¸­langchainå¯ä»¥æä¾äºåç§å¤§æ¨¡åè¯­è¨åºéæ©ï¼ï¼è¿éåªåä¸¾å ä¸ªï¼ä¾å¦ï¼</p>
<pre><code class="language-bash">#chatgpt
pip install langchain-openai
#hugging face
pip install langchain-huggingface
#åé®
pip install langchain-qwq
</code></pre>
<h1 id="1-è®©æ¨¡åè·èµ·æ¥">1. è®©æ¨¡åè·èµ·æ¥</h1>
<p>å¦ä½è®©ä½ llmè·èµ·æ¥ï¼è¿éç¨çæ¯åé®ï¼æ¥æ¼ç¤º</p>
<h3 id="æ¡ä¾">æ¡ä¾</h3>
<pre><code class="language-python">import os
from langchain_community.chat_models.tongyi import ChatTongyi
from langchain_core.prompts import ChatPromptTemplate
from langchain_core.output_parsers import StrOutputParser

#è¿éæ¯ä½ çåé®apikey
os.environ["DASHSCOPE_API_KEY"] = "apikey"

model = ChatTongyi(model="qwen-plus")

prompt = ChatPromptTemplate.from_messages([
&nbsp; &nbsp; ("system", "ä½ æ¯ä¸ä¸ªç²¾é{topic}çèµæ·±ææ¯ä¸å®¶ã"),
&nbsp; &nbsp; ("user", "è¯·ç¨ä¸å¥è¯è§£éä¸ä¸ä»ä¹æ¯{concept}ã")
])

output_parser = StrOutputParser()

chain = prompt | model | output_parser

#ææ¬è¾åº
response = chain.invoke({"topic": "Python", "concept": "åè¡¨"})
print(response)

#åå²
print("="*30)

#æµå¼è¾åº
for chunk in chain.stream({"topic": "äººå·¥æºè½", "concept": "ç¥ç»ç½ç»"}):
&nbsp; &nbsp; print(chunk, end="", flush=True)
</code></pre>
<h3 id="ä»£ç è§£é">ä»£ç è§£é</h3>
<p>æ´ä¸ªä»£ç çæµç¨å¦ä¸ï¼<br>
<strong>åå»ºæ¨¡å-&gt;æå»ºæç¤ºè¯-&gt;æå»ºchainé¾-&gt;ä½¿ç¨å¤§æ¨¡å</strong></p>
<h5 id="åå»ºæ¨¡å">åå»ºæ¨¡å</h5>
<p><mark>è¿ä¸æ­¥ç¨ä¸åçæ¨¡åå¯è½ä¼ä¸å</mark><br>
è¿éå©ç¨langchainçåé®åºåå»ºæ¨¡åï¼å¯è½ä¼ä¸å</p>
<pre><code class="language-python">model = ChatTongyi(model="qwen-plus")

#ä¾å¦ç¨chatgpt
llm = init_chat_model("gpt-4o", model_provider="openai")
</code></pre>
<h5 id="æå»ºæç¤ºè¯">æå»ºæç¤ºè¯</h5>
<p>è¿ä¸æ­¥æå»ºå©ç¨äºlangchainåºæä¾æç¤ºè¯æ¨¡æ¿ï¼<br>
å¶ä¸­ç¨<code>{}</code>éèµ·æ¥çå¨è°ç¨æ¶å¯ä»¥å¨æç¨å­å¸æ¿æ¢</p>
<pre><code class="language-python">prompt = ChatPromptTemplate.from_messages([
&nbsp; &nbsp; ("system", "ä½ æ¯ä¸ä¸ªç²¾é{topic}çèµæ·±ææ¯ä¸å®¶ã"),
&nbsp; &nbsp; ("user", "è¯·ç¨ä¸å¥è¯è§£éä¸ä¸ä»ä¹æ¯{concept}ã")
])
</code></pre>
<p>åä¸ªè§è²åè½å¦ä¸ï¼</p>
<table>
<thead>
<tr>
<th><strong>è§è²åç§° (Role)</strong></th>
<th><strong>å¯¹åºçç±»</strong></th>
<th><strong>ä½ç¨è¯´æ</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>system</strong></td>
<td><code>SystemMessage</code></td>
<td><strong>ç³»ç»æç¤ºè¯</strong>ãç¨äºè®¾å® AI çâäººæ ¼âãä¸ä¸èæ¯ãè¡ä¸ºååæçº¦ææ¡ä»¶ãå®éå¸¸ä¼åçº§æé«ï¼å³å®äºåç»­å¯¹è¯çåºè°ã</td>
</tr>
<tr>
<td><strong>user</strong></td>
<td><code>HumanMessage</code></td>
<td><strong>ç¨æ·æ¶æ¯</strong>ãä»£è¡¨äººç±»åéçåå®¹ãè¿æ¯æ¨¡åéè¦ç´æ¥åç­æå¤ççé®é¢ã</td>
</tr>
<tr>
<td><strong>ai</strong></td>
<td><code>AIMessage</code></td>
<td><strong>AI æ¶æ¯</strong>ãä»£è¡¨æ¨¡åä¹åçåå¤ãå¨æå»ºå¤è½®å¯¹è¯ï¼å¸¦è®°å¿ï¼æ¶ï¼éè¦ææ¨¡åä¹åçåå¤ä¼ åå»ã</td>
</tr>
</tbody>
</table>
<h5 id="æå»ºchainé¾">æå»ºchainé¾</h5>
<p><mark>è¿ä¸ªæ¯langchainççµé­ï¼è¿éç®åè¯´æï¼åé¢ä¼åæ´è¯¦ç»çæå­¦æç« </mark><br>
chainé¾çè¿è¡æµç¨å¦ä¸ï¼<br>
<strong>å°è¾å¥å¡«åprompt-&gt;å°å®æ´promptåç»LLM-&gt;ç´æ¥è§£æè¿åææ¬</strong></p>
<p><code>StrOutputParser()</code>è¿ä¸ªæ¯langchainæä¾çææ¬è§£æå¨ï¼ç¨äºå°ä¸é¢çç»æè§£æä¸ºææ¬</p>
<pre><code class="language-python">output_parser = StrOutputParser()
chain = prompt | model | output_parser
</code></pre>
<h5 id="ä½¿ç¨å¤§æ¨¡å">ä½¿ç¨å¤§æ¨¡å</h5>
<p>è¿éæä¸¤ç§æ¹å¼ï¼</p>
<ol>
<li>ç´æ¥è¾åºå®æ´çææ¬</li>
</ol>
<pre><code class="language-python">response = chain.invoke({"topic": "Python", "concept": "åè¡¨"})
print(response)
</code></pre>
<ol start="2">
<li>æµææ¬è¾åºï¼æå­æºï¼</li>
</ol>
<pre><code class="language-python">for chunk in chain.stream({"topic": "äººå·¥æºè½", "concept": "ç¥ç»ç½ç»"}):
&nbsp; &nbsp; print(chunk, end="", flush=True)
</code></pre>
<p><strong>å¦æâ¤åæ¬¢â¤æ¬ç³»åæç¨ï¼å°±ç¹ä¸ªå³æ³¨å§ï¼åç»­ä¸å®ææ´æ°~</strong></p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-22 22:51">2026-01-22 22:51</span>&nbsp;
<a href="https://www.cnblogs.com/ClownLMe">ClownLMe</a>&nbsp;
éè¯»(<span id="post_view_count">119</span>)&nbsp;
è¯è®º(<span id="post_comment_count">1</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19519224);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19519224', targetLink: 'https://www.cnblogs.com/ClownLMe/p/19519224', title: 'Langchain å¿«éå¥é¨(ä¸)' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ Nginxå¤æå¡éæèµæºè·¯å¾å²çªè§£å³æ¹æ¡ ]]></title>
    <link>https://www.cnblogs.com/yudaxia/p/19519201</link>
    <guid>e791cf70b8de2c369059d47946957645</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/yudaxia/p/19519201" title="åå¸äº 2026-01-22 22:34">
    <span role="heading" aria-level="2">Nginxå¤æå¡éæèµæºè·¯å¾å²çªè§£å³æ¹æ¡</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<blockquote>
<p>å¨ä½¿ç¨Nginxååä»£çå¤ä¸ªFlaskåºç¨æ¶ï¼éå°äºä¸ä¸ªæ£æçé®é¢ï¼ä¸åæå¡çéæèµæºï¼CSS/JSï¼ä¼äºç¸å¹²æ°ãæ¬æè®°å½äºé®é¢çåæè¿ç¨åè§£å³æ¹æ¡ã</p>
<p><strong>å³é®è¯</strong>ï¼Nginxååä»£çãFlaskéæèµæºãlocationå¹éãproxy_pass</p>
</blockquote>
<h2 id="é®é¢æè¿°">é®é¢æè¿°</h2>
<p>å¨Nginxååä»£çå¤ä¸ªFlaskæå¡æ¶ï¼ä¸åæå¡çéæèµæºè·¯å¾ä¼åçå²çªï¼å¯¼è´æå¡Açé¡µé¢å è½½äºæå¡BçCSS/JSæä»¶ï¼æèæ¾ä¸å°éæèµæºè¿å404éè¯¯ã</p>
<h3 id="é®é¢åºæ¯">é®é¢åºæ¯</h3>
<h4 id="é¨ç½²æ¶æ">é¨ç½²æ¶æ</h4>
<pre><code>åå: mathcoding.top
âââ ä¸»æå¡ (ç«¯å£5000) â è·¯å¾åç¼: /
âââ éæµæå¡ (ç«¯å£5001) â è·¯å¾åç¼: /numberLimit
</code></pre>
<h4 id="åå§nginxéç½®">åå§Nginxéç½®</h4>
<pre><code class="language-nginx"># éæµæå¡
location /numberLimit {
&nbsp; &nbsp; proxy_pass http://127.0.0.1:5001/;
&nbsp; &nbsp; proxy_set_header Host $host;
&nbsp; &nbsp; proxy_set_header X-Real-IP $remote_addr;
&nbsp; &nbsp; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
&nbsp; &nbsp; proxy_set_header X-Forwarded-Proto $scheme;
}
# ä¸»æå¡ï¼ååºè§åï¼
location / {
&nbsp; &nbsp; proxy_pass http://127.0.0.1:5000;
&nbsp; &nbsp; proxy_set_header Host $host;
&nbsp; &nbsp; proxy_set_header X-Real-IP $remote_addr;
&nbsp; &nbsp; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
&nbsp; &nbsp; proxy_set_header X-Forwarded-Proto $scheme;
}
</code></pre>
<h4 id="flaskæ¨¡æ¿ä»£ç ">Flaskæ¨¡æ¿ä»£ç </h4>
<pre><code class="language-html">&lt;!-- 5001ç«¯å£çéæµæå¡çæ¨¡æ¿ --&gt;
&lt;link rel="stylesheet" href="{{url_for('static', filename='css/style.css')}}" /&gt;
</code></pre>
<h3 id="éè¯¯è¡¨ç°è¯¦è§£">éè¯¯è¡¨ç°è¯¦è§£</h3>
<p><strong>ææè¡ä¸º</strong>ï¼</p>
<ol>
<li>è®¿é® <code>https://mathcoding.top/numberLimit/</code> å è½½éæµæå¡çé¡µé¢</li>
<li>é¡µé¢ä¸­çCSSé¾æ¥åºè¯¥è¯·æ±éæµæå¡(5001ç«¯å£)çéæèµæº</li>
<li>æµè§å¨åºè¯¥è½æ­£ç¡®è·åå°éæµæå¡ç <code>static/css/style.css</code> æä»¶<br>
<strong>å®éè¡ä¸º</strong>ï¼</li>
<li>è®¿é® <code>https://mathcoding.top/numberLimit/</code> â æ­£ç¡®å è½½é¡µé¢HTML</li>
<li>Flaskç <code>url_for('static')</code> çæè·¯å¾ï¼<code>/static/css/style.css</code></li>
<li>æµè§å¨åèµ·è¯·æ±ï¼<code>https://mathcoding.top/static/css/style.css</code></li>
<li>Nginxå¹éå° <code>location /</code>ï¼å ä¸º <code>/static/...</code> å¹éä¸å° <code>/numberLimit</code>ï¼</li>
<li>è¯·æ±è¢«è½¬åå°ä¸»æå¡5000ç«¯å£ â <strong>éè¯¯çæå¡ï¼</strong></li>
<li>ç»æï¼å è½½äºä¸»æå¡çCSSï¼æ ·å¼éè¯¯ï¼æè¿å404ï¼ä¸»æå¡æ²¡æè¿ä¸ªæä»¶ï¼</li>
</ol>
<h3 id="é®é¢çè§è§è¡¨ç°">é®é¢çè§è§è¡¨ç°</h3>
<p>æå¼æµè§å¨å¼åèå·¥å·Networkæ ç­¾ä¼çå°ï¼</p>
<pre><code>è¯·æ±URL: https://mathcoding.top/static/css/style.css
ç¶æç : 200 æ 404
æ¥æºé¡µé¢: https://mathcoding.top/numberLimit/
é®é¢: è¿ä¸ªCSSæä»¶æ¥èª5000ç«¯å£çä¸»æå¡ï¼ä¸æ¯5001ç«¯å£çéæµæå¡
</code></pre>
<p>é¡µé¢è¡¨ç°ï¼</p>
<ul>
<li>CSSæ ·å¼ä¸æ­£ç¡®æå®å¨æ²¡ææ ·å¼</li>
<li>æ§å¶å°å¯è½åºç°MIMEç±»åéè¯¯</li>
<li>å¦æä¸»æå¡æ²¡æååæä»¶ï¼åæ¾ç¤º404éè¯¯</li>
</ul>
<h2 id="é®é¢æ ¹æº">é®é¢æ ¹æº</h2>
<h3 id="åºå±åç">åºå±åç</h3>
<ol>
<li><strong>Flask URLçææºå¶</strong>ï¼<code>url_for('static')</code> çæçæ¯ç»å¯¹è·¯å¾ï¼é»è®¤ä¸º <code>/static/...</code>ï¼ä¸åå«æå¡çæè½½åç¼</li>
<li><strong>Nginx locationå¹éè§å</strong>ï¼éç¨æé¿åç¼å¹éï¼<code>/static/...</code> ä¸å¹é <code>/numberLimit</code>ï¼å æ­¤è¢« <code>location /</code> æè·</li>
<li><strong>è·¯å¾å½åç©ºé´å²çª</strong>ï¼å¤ä¸ªæå¡å±äº«åä¸ä¸ªURLè·¯å¾ç©ºé´ï¼é½ä½¿ç¨ <code>/static/...</code> ä½ä¸ºéæèµæºè·¯å¾</li>
</ol>
<h3 id="è¯·æ±æµç¨åæ">è¯·æ±æµç¨åæ</h3>
<pre><code>Flaskæ¸²ææ¨¡æ¿
&nbsp; &nbsp; â
url_for('static', filename='css/style.css')
&nbsp; &nbsp; â
çæHTML: &lt;link href="/static/css/style.css"&gt;
&nbsp; &nbsp; â
æµè§å¨è§£æHTMLå¹¶åèµ·è¯·æ±: GET /static/css/style.css
&nbsp; &nbsp; â
Nginxå¹éè§å:
&nbsp; - /numberLimit? ä¸å¹é (è¯·æ±è·¯å¾æ¯/static/..., ä¸æ¯/numberLimit/...)
&nbsp; - /? å¹é! (æé¿åç¼å¹éçååºè§å)
&nbsp; &nbsp; â
proxy_passè½¬åå°: http://127.0.0.1:5000/static/css/style.css
&nbsp; &nbsp; â
éè¯¯: 5001æå¡çéæèµæºè¢«éè¯¯å°è·¯ç±å°5000æå¡
</code></pre>
<h3 id="ä¸ºä»ä¹flaskä¸çæ-numberlimitstatic">ä¸ºä»ä¹Flaskä¸çæ <code>/numberLimit/static/...</code>ï¼</h3>
<p>Flaskåºç¨æ¬èº«ä¸ç¥éå®è¢«é¨ç½²å¨ä»ä¹è·¯å¾ä¸ãä»Flaskçè§è§ï¼</p>
<ul>
<li>å®æ¶å°çè¯·æ±è·¯å¾æ¯ <code>/</code>ï¼å ä¸º <code>proxy_pass http://127.0.0.1:5001/</code> æ«å°¾æææ ï¼ä¼å¥ç¦»åç¼ï¼</li>
<li>å®è®¤ä¸ºèªå·±çæ ¹è·¯å¾å°±æ¯ <code>/</code></li>
<li>æä»¥ <code>url_for('static')</code> çæ <code>/static/...</code> èä¸æ¯ <code>/numberLimit/static/...</code><br>
è¿å°±æ¯ä¸ºä»ä¹éè¦å¨Flaskç«¯éç½® <code>static_url_path</code>ï¼æèå¨Nginxç«¯åè·¯å¾éåã</li>
</ul>
<h2 id="è§£å³æ¹æ¡">è§£å³æ¹æ¡</h2>
<h3 id="æ¹æ¡éæ©ç¬ç«éæèµæºè·¯å¾åç¼">æ¹æ¡éæ©ï¼ç¬ç«éæèµæºè·¯å¾åç¼</h3>
<p>ä¸ºæ¯ä¸ªæå¡éç½®ç¬ç«çéæèµæºURLåç¼ï¼é¿åè·¯å¾å²çªãè¿ç§æ¹æ¡ï¼</p>
<ul>
<li>æå¡ä»£ç æ¹å¨æå°ï¼åªæ¹ä¸ä¸ªéç½®åæ°ï¼</li>
<li>ä¸éè¦å¤æçURLéåè§å</li>
<li>æäºçè§£åç»´æ¤</li>
<li>ç¬¦åå¾®æå¡çå½åç©ºé´éç¦»åå</li>
</ul>
<h3 id="flaskéç½®">Flaskéç½®</h3>
<pre><code class="language-python"># è®¾ç½®ç¬ç«çéæèµæºURLè·¯å¾
app = Flask(__name__, static_url_path="/numberLimit-static")
</code></pre>
<p><strong>åæ°è¯´æ</strong>ï¼</p>
<ul>
<li><code>static_url_path</code>: æ§å¶URLçæï¼å½±å <code>url_for('static')</code> çè¾åº</li>
<li><code>static_folder</code>: æ§å¶æä»¶ç³»ç»è·¯å¾ï¼é»è®¤ä¸º'static'ï¼ä¸éè¦æ¹ï¼<br>
<strong>ææ</strong>ï¼</li>
</ul>
<pre><code class="language-python"># ä¿®æ¹å
url_for('static', filename='css/style.css') &nbsp;# â /static/css/style.css
# ä¿®æ¹å
url_for('static', filename='css/style.css') &nbsp;# â /numberLimit-static/css/style.css
</code></pre>
<h3 id="nginxéç½®">Nginxéç½®</h3>
<pre><code class="language-nginx"># éæèµæºlocationï¼ä¼åçº§é«ï¼æ¾å¨åé¢ï¼
location /numberLimit-static/ {
&nbsp; &nbsp; proxy_pass http://127.0.0.1:5001/numberLimit-static/;
&nbsp; &nbsp; proxy_set_header Host $host;
&nbsp; &nbsp; proxy_set_header X-Real-IP $remote_addr;
&nbsp; &nbsp; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
&nbsp; &nbsp; proxy_set_header X-Forwarded-Proto $scheme;
}
# æå¡ä¸»è·¯å¾
location /numberLimit {
&nbsp; &nbsp; proxy_pass http://127.0.0.1:5001/;
&nbsp; &nbsp; proxy_set_header Host $host;
&nbsp; &nbsp; proxy_set_header X-Real-IP $remote_addr;
&nbsp; &nbsp; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
&nbsp; &nbsp; proxy_set_header X-Forwarded-Proto $scheme;
}
# ä¸»æå¡ï¼æ¾å¨æåï¼
location / {
&nbsp; &nbsp; proxy_pass http://127.0.0.1:5000;
&nbsp; &nbsp; proxy_set_header Host $host;
&nbsp; &nbsp; proxy_set_header X-Real-IP $remote_addr;
&nbsp; &nbsp; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
&nbsp; &nbsp; proxy_set_header X-Forwarded-Proto $scheme;
}
</code></pre>
<h3 id="å·¥ä½æµç¨">å·¥ä½æµç¨</h3>
<pre><code>Flaskæ¸²ææ¨¡æ¿
&nbsp; &nbsp; â
url_for('static', filename='css/style.css')
&nbsp; &nbsp; â
çæHTML: &lt;link href="/numberLimit-static/css/style.css"&gt;
&nbsp; &nbsp; â
æµè§å¨è¯·æ±: GET https://mathcoding.top/numberLimit-static/css/style.css
&nbsp; &nbsp; â
Nginxå¹éè§å:
&nbsp; - /numberLimit-static/? å¹é! (æé¿åç¼å¹é)
&nbsp; &nbsp; â
proxy_passè½¬å: http://127.0.0.1:5001/numberLimit-static/css/style.css
&nbsp; &nbsp; â
Flaskå¤ç:
&nbsp; - è·¯ç± /numberLimit-static/* ç± static_url_path å¤ç
&nbsp; - æ å°å°æä»¶ç³»ç»: static/css/style.css
&nbsp; &nbsp; â
è¿åæ­£ç¡®çCSSæä»¶ â
</code></pre>
<h2 id="å³é®ææ¯ç»è">å³é®ææ¯ç»è</h2>
<h3 id="proxy_passå°¾ææ çä½ç¨">proxy_passå°¾ææ çä½ç¨</h3>
<pre><code class="language-nginx"># â æ­£ç¡®ï¼å¸¦å°¾ææ ï¼è¿è¡è·¯å¾æ¿æ¢
proxy_pass http://127.0.0.1:5001/numberLimit-static/;
# è¯·æ± /numberLimit-static/css/style.css
# è½¬å http://127.0.0.1:5001/numberLimit-static/css/style.css
# â éè¯¯ï¼ä¸å¸¦å°¾ææ ï¼æ¼æ¥å®æ´è·¯å¾
proxy_pass http://127.0.0.1:5001/numberLimit-static;
# è¯·æ± /numberLimit-static/css/style.css
# è½¬å http://127.0.0.1:5001/numberLimit-static/numberLimit-static/css/style.css
</code></pre>
<p><strong>åç</strong>ï¼</p>
<ul>
<li>æå°¾ææ ï¼Nginxä¼ç¨ <code>proxy_pass</code> çè·¯å¾<strong>æ¿æ¢</strong> <code>location</code> å¹éçé¨å</li>
<li>æ å°¾ææ ï¼Nginxä¼ç´æ¥<strong>æ¼æ¥</strong>å®æ´çè¯·æ±URI</li>
</ul>
<h3 id="locationå¹éä¼åçº§">locationå¹éä¼åçº§</h3>
<p>Nginxçlocationå¹éè§åï¼æä¼åçº§ä»é«å°ä½ï¼ï¼</p>
<ol>
<li>ç²¾ç¡®å¹é <code>location = /path</code></li>
<li>æ­£åå¹é <code>location ~ /pattern</code> æ <code>location ~* /pattern</code></li>
<li>åç¼å¹éï¼æé¿ä¼åï¼<code>location /path</code><br>
å¨æ¬æ¹æ¡ä¸­ï¼</li>
</ol>
<ul>
<li><code>/numberLimit-static/</code> é¿åº¦19ï¼æ¯ <code>/</code> æ´å·ä½ï¼ä¼åå¹é</li>
<li><code>/numberLimit</code> é¿åº¦13ï¼æ¯ <code>/</code> æ´å·ä½ï¼ä¼åå¹é</li>
<li><code>/</code> é¿åº¦1ï¼ä½ä¸ºååºï¼å¹éææå¶ä»è¯·æ±<br>
<strong>éªè¯æ¹æ³</strong>ï¼</li>
</ul>
<pre><code class="language-bash"># æµè¯Nginxéç½®
nginx -t
# æ¥çå®éå¹éçlocationï¼éè¦å¼å¯debugæ¥å¿ï¼
tail -f /var/log/nginx/error.log | grep location
</code></pre>
<h2 id="æ´å¥½çé¿ææ¹æ¡å­åå">æ´å¥½çé¿ææ¹æ¡ï¼å­åå</h2>
<p>å½åç <code>static_url_path</code> æ¹æ¡æ¯è·¯å¾åç¼é¨ç½²ä¸çæå®ä¹è®¡ã<strong>æä½³å®è·µæ¯ä¸ºæ¯ä¸ªæå¡åéç¬ç«çå­åå</strong>ï¼è¿æ ·å¯ä»¥ä»æ ¹æ¬ä¸è§£å³è·¯å¾å²çªé®é¢ã</p>
<h3 id="å­ååæ¹æ¡ç¤ºä¾">å­ååæ¹æ¡ç¤ºä¾</h3>
<pre><code class="language-nginx"># éæµæå¡ - ç¬ç«å­åå
server {
&nbsp; &nbsp; server_name numberlimit.mathcoding.top;
&nbsp; &nbsp;
&nbsp; &nbsp; location / {
&nbsp; &nbsp; &nbsp; &nbsp; proxy_pass http://127.0.0.1:5001;
&nbsp; &nbsp; &nbsp; &nbsp; # proxyéç½®...
&nbsp; &nbsp; }
}
# ä¸»æå¡
server {
&nbsp; &nbsp; server_name mathcoding.top www.mathcoding.top;
&nbsp; &nbsp;
&nbsp; &nbsp; location / {
&nbsp; &nbsp; &nbsp; &nbsp; proxy_pass http://127.0.0.1:5000;
&nbsp; &nbsp; &nbsp; &nbsp; # proxyéç½®...
&nbsp; &nbsp; }
}
</code></pre>
<p>Flaskæ¢å¤é»è®¤éç½®ï¼</p>
<pre><code class="language-python">app = Flask(__name__) &nbsp;# æ éè®¾ç½®static_url_path
</code></pre>
<p><strong>ä¼å¿</strong>ï¼</p>
<ul>
<li>æ¯ä¸ªæå¡æå®å¨ç¬ç«çURLè·¯å¾ç©ºé´</li>
<li>æ éä»»ä½ç¹æ®çéæèµæºéç½®</li>
<li>æ´ç¬¦åå¾®æå¡æ¶æçå¿µ</li>
<li>ä¾¿äºæå¡ç¬ç«æ©å±åè¿ç§»</li>
</ul>
<h2 id="æ»ç»">æ»ç»</h2>
<h3 id="é®é¢æ¬è´¨">é®é¢æ¬è´¨</h3>
<p>å¤ä¸ªæå¡å±äº«åä¸ä¸ªURLè·¯å¾ç©ºé´ï¼Flaskçæçéæèµæºè·¯å¾æ¯ç»å¯¹è·¯å¾ï¼<code>/static/...</code>ï¼ï¼å¯¼è´ä¸åæå¡çéæèµæºè¢«è·¯ç±å°éè¯¯çåç«¯æå¡ã</p>
<h3 id="è§£å³æ¹æ¡æ ¸å¿">è§£å³æ¹æ¡æ ¸å¿</h3>
<p>ä¸ºæ¯ä¸ªæå¡åéç¬ç«çéæèµæºURLåç¼ï¼éè¿Flaskç <code>static_url_path</code> åæ°éåNginxçlocationè·¯ç±å®ç°è·¯å¾éç¦»ã</p>
<h3 id="å³é®éç½®">å³é®éç½®</h3>
<ol>
<li><strong>Flaskä¾§</strong>ï¼<code>app = Flask(__name__, static_url_path="/æå¡å-static")</code></li>
<li><strong>Nginxä¾§</strong>ï¼æ·»å å¯¹åºç <code>location /æå¡å-static/</code> è§å</li>
<li><strong>æ³¨æç¹</strong>ï¼<code>proxy_pass</code> æ«å°¾çææ ä¼å½±åè·¯å¾è½¬æ¢</li>
</ol>
<h3 id="éç¨åºæ¯">éç¨åºæ¯</h3>
<ul>
<li>å¤ä¸ªWebåºç¨å±äº«ä¸ä¸ªåå</li>
<li>ä½¿ç¨è·¯å¾åç¼åºåä¸åæå¡ï¼å¦ <code>/app1</code>ã<code>/app2</code>ï¼</li>
<li>éè¦å¿«éé¨ç½²ï¼ææ¶æ æ³ä½¿ç¨å­åå</li>
</ul>
<h3 id="é¿æå»ºè®®">é¿æå»ºè®®</h3>
<p>å½ä¸å¡ç¨³å®åï¼å»ºè®®è¿ç§»å°å­ååæ¹æ¡ï¼å¦ <code>app1.example.com</code>ã<code>app2.example.com</code>ï¼ï¼ä»æ¶æä¸å½»åºè§£å³è·¯å¾å²çªé®é¢ã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-22 22:35">2026-01-22 22:34</span>&nbsp;
<a href="https://www.cnblogs.com/yudaxia">yupenglei</a>&nbsp;
éè¯»(<span id="post_view_count">53</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19519201);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19519201', targetLink: 'https://www.cnblogs.com/yudaxia/p/19519201', title: 'Nginxå¤æå¡éæèµæºè·¯å¾å²çªè§£å³æ¹æ¡' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨äºï¼èªç¶è¯­è¨å¤ç  ç¬¬äºå¨ï¼è¯åµå¥ï¼åï¼åå± softmax åè´éæ · ]]></title>
    <link>https://www.cnblogs.com/Goblinscholar/p/19519181</link>
    <guid>119c6b7f09787c341bfd1464d0b7b0ee</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/Goblinscholar/p/19519181" title="åå¸äº 2026-01-22 22:28">
    <span role="heading" aria-level="2">å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨äºï¼èªç¶è¯­è¨å¤ç  ç¬¬äºå¨ï¼è¯åµå¥ï¼åï¼åå± softmax åè´éæ ·</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>æ­¤åç±»ç¨äºè®°å½å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨çå­¦ä¹ ç¬è®°ã<br>
è¯¾ç¨ç¸å³ä¿¡æ¯é¾æ¥å¦ä¸ï¼</p>
<ol>
<li>åè¯¾ç¨è§é¢é¾æ¥ï¼<a href="https://www.bilibili.com/video/BV1FT4y1E74V?buvid=XU762317353676D786954061C192FE625463B&amp;from_spmid=playlist.playlist-detail.0.0&amp;is_story_h5=false&amp;mid=zqernykrmpf7XfIorMR%2FnA%3D%3D&amp;plat_id=116&amp;share_from=ugc&amp;share_medium=android&amp;share_plat=android&amp;share_session_id=ce0bc526-db69-428a-962e-c65ed8c267bc&amp;share_source=COPY&amp;share_tag=s_i&amp;spmid=united.player-video-detail.0.0&amp;timestamp=1713085655&amp;unique_k=DfBgvFW&amp;up_id=8654113&amp;vd_source=e035e9878d32f414b4354b839a4c31a4" target="_blank" rel="noopener nofollow">[åè¯­å­å¹]å´æ©è¾¾æ·±åº¦å­¦ä¹ deeplearning.ai</a></li>
<li>githubè¯¾ç¨èµæï¼å«è¯¾ä»¶ä¸ç¬è®°:<a href="https://github.com/robbertliu/deeplearning.ai-andrewNG" target="_blank" rel="noopener nofollow">å´æ©è¾¾æ·±åº¦å­¦ä¹ æå­¦èµæ</a></li>
<li>è¯¾ç¨éå¥ç»ä¹ ï¼ä¸­è±ï¼ä¸ç­æ¡ï¼<a href="https://blog.csdn.net/u013733326/article/details/79827273" target="_blank" rel="noopener nofollow">å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾åä¹ é¢ä¸ç­æ¡</a></li>
</ol>
<p>æ¬ç¯ä¸ºç¬¬äºè¯¾çç¬¬äºå¨åå®¹ï¼<a href="https://www.bilibili.com/video/BV1FT4y1E74V?spm_id_from=333.788.videopod.episodes&amp;vd_source=e035e9878d32f414b4354b839a4c31a4&amp;p=169" target="_blank" rel="noopener nofollow">2.7</a>çåå®¹ä»¥åä¸äºç¸å³ç¥è¯çè¡¥åã</p>
<hr>
<p>æ¬å¨ä¸ºç¬¬äºè¯¾çç¬¬äºå¨åå®¹ï¼ä¸ CV ç¸å¯¹åºçï¼è¿ä¸è¯¾ææåå®¹çä¸­å¿åªæä¸ä¸ªï¼<strong>èªç¶è¯­è¨å¤çï¼Natural Language Processingï¼NLPï¼</strong>ã<br>
åºç¨å¨æ·±åº¦å­¦ä¹ éï¼å®æ¯ä¸é¨ç¨æ¥è¿è¡<strong>ææ¬ä¸åºåä¿¡æ¯å»ºæ¨¡</strong>çæ¨¡ååææ¯ï¼æ¬è´¨ä¸æ¯å¨å¨è¿æ¥ç½ç»ä¸ç»è®¡è¯­è¨æ¨¡ååºç¡ä¸çä¸æ¬¡âç»æåç¹åâï¼ä¹æ¯äººå·¥æºè½ä¸­<strong>æè´´è¿äººç±»æç»´è¡¨è¾¾æ¹å¼</strong>çéè¦ç ç©¶æ¹åä¹ä¸ã<br>
<strong>è¿ä¸æ´èè¯¾åæ ·æ¶åå¤§ééè¦åå¤æ¶åçåå®¹ï¼æ¨ªè·¨æºå¨å­¦ä¹ ãæ¦çç»è®¡ãçº¿æ§ä»£æ°ä»¥åè¯­è¨å­¦ç´è§ã</strong><br>
è¯­è¨ä¸åå¾åé£æ ·âç´è§å¯è§âï¼æ´å¤æ¯æ½è±¡ç¬¦å·ä¸ä¸ä¸æå³ç³»çç»åï¼å æ­¤<strong>çè§£é¨æ§åèæ´é«</strong>ã<br>
å æ­¤ï¼æåæ ·ä¼å°½éè¡¥è¶³å¿è¦çèæ¯ç¥è¯ï¼å°½å¯è½ç¨æ¯å»åå®ä¾éä½çè§£é¾åº¦ã<br>
æ¬å¨çåå®¹å³äºè¯åµå¥ï¼æ¯ä¸ç§<strong>ç¸å¯¹äºç¬ç­ç¼ç ï¼æ´è½ä¿çè¯­ä¹ä¿¡æ¯çææ¬ç¼ç æ¹å¼</strong>ãéè¿è¯åµå¥ï¼æ¨¡åä¸ååªæ¯âè®°ä½âè¯æ¬èº«ï¼èæ¯è½å¤<strong>åºäºè¯­ä¹å³ç³»è¿è¡æ³å</strong>ï¼å¨ä¸å®ç¨åº¦ä¸å®ç°ç±»ä¼¼â<strong>ä¸¾ä¸åä¸</strong>âçææãè¯åµå¥æ¯ NLP é¢åä¸­æéè¦çåºç¡ææ¯ä¹ä¸ã</p>
<p>æ¬ç¯çåå®¹å³äº<strong>åå± softmax åè´éæ ·</strong>ï¼æ¯ç¨æ¥æåè¯åµå¥æ¨¡åè®­ç»æçï¼èçè®¡ç®å¼éçææ¯ã</p>
<h1 id="1-åå±-softmax">1. åå± softmax</h1>
<p>å¨ä¸ä¸ç¯ä»ç» <a href="https://www.cnblogs.com/Goblinscholar/p/19504549" target="_blank">Word2Vec</a> çæ¶åï¼æä»¬é»è®¤ä½¿ç¨çæ¯<strong>æ å softmax</strong> æ¥è®¡ç®è¾åºå±çæ¦çåå¸ãä½å¦æç¨å¾®åä¸æ¥ä»ç»æ³ä¸æ³ï¼å°±ä¼ç«å»æè¯å°ä¸ä¸ªé®é¢ï¼<strong>å¨å¤§è¯è¡¨åºæ¯ä¸ï¼æ å softmax å ä¹æ¯ä¸å¯ç¨çã</strong></p>
<p>ä¸é¢æä»¬åç¹æ¥å±å¼æ å softmax å¨è¯åµå¥ä¸­çå±éååå± softmax çææ³ï¼</p>
<h2 id="11-æ å-softmax-çè®¡ç®å¼é">1.1 æ å softmax çè®¡ç®å¼é</h2>
<p>å¨ä¹åçç¤ºä¾ä¸­ï¼æä»¬åå¤å¼ºè°è¿ä¸ç¹ï¼<strong>è¾åºå±çç¥ç»åä¸ªæ°ä¸è¯å¸å¤§å°å®å¨ä¸è´</strong>ã<br>
è¿æ¯å ä¸ºï¼å¨ Word2Vec çå»ºæ¨¡è§è§ä¸ï¼é¢æµè¿ç¨æ¬è´¨ä¸å¯ä»¥è¢«çä½ä¸ä¸ª<strong>åæ ç­¾åç±»é®é¢</strong>ï¼</p>
<ul>
<li>ç®æ è¯å¯¹åºâæ­£ç¡®ç±»å«â</li>
<li>è¯è¡¨ä¸­å¶ä½ææè¯é½å¯¹åºâéè¯¯ç±»å«â</li>
</ul>
<p>å æ­¤ï¼æä»¬éè¦éè¿ softmax å°æ¨¡åè¾åºæ å°ä¸ºä¸ä¸ª<strong>å¯¹æ´ä¸ªè¯è¡¨çæ¦çåå¸</strong>ï¼å¹¶å¨ååä¼ æ­é¶æ®µä¸æ­<strong>å¼ºåæ­£ç¡®é¢æµãæå¶éè¯¯é¢æµ</strong>ã</p>
<p>ä»å»ºæ¨¡é»è¾ä¸çï¼è¿ä¸è¿ç¨æ¯å®å¨åççï¼ä½çæ­£çé®é¢ï¼å¹¶ä¸åºå¨âå¯¹ä¸å¯¹âï¼èæ¯âè½ä¸è½å®ç°âã</p>
<p>æä»¬ç¥éï¼å¨ NLP ä»»å¡ä¸­ï¼å¦æå¸ææ¨¡åå·å¤æ´å¼ºçæ³åè½åï¼ç¬¬ä¸æ­¥å¾å¾å°±æ¯<strong>æ©å¤§è¯­æè§æ¨¡</strong>ï¼è¿èæå»ºæ´å¤§çè¯å¸ã<br>
èå½æä»¬å¸ææ¨¡åå¨ç°å®åºæ¯ä¸­âçæ­£å¥½ç¨âæ¶ï¼å¶æ§è½ææ å¾å¾éè¦ä¸æ­é¼è¿ï¼çè³å°è¯è¶è¶æä»¬ä¹åä»ç»è¿ç<a href="https://www.cnblogs.com/Goblinscholar/p/19274215" target="_blank">è´å¶æ¯æä¼éè¯¯ç</a>ã<br>
å¨è¿ä¸ªæä¹ä¸ï¼è¯å¸è§æ¨¡å¹¶ä¸æ¯ä¸ä¸ªå¯æå¯æ çå·¥ç¨åæ°ï¼èæ¯æ¨¡åè½åç<strong>ç¡¬ä¸é</strong>ã</p>
<p>ä¸ä¸ªç´è§çç±»æ¯å°±æ¯ï¼<strong>äººç±»çå¤§èç©¶ç«âè®°ä½âäºå¤å°è¯ï¼</strong> æ¾ç¶ï¼è¿ç»ä¸æ¯ä¸ä¸ªå¯ä»¥ç¨âå åâæâå ä¸âæ¥æè¿°çæ°éçº§ã</p>
<p>é®é¢ä¹æ­£æ¯å¨è¿éå¼å§æ¾ç°çï¼å¯¹äºä¸æ¬¡æ å softmax è®¡ç®èè¨ï¼å¦æè¯è¡¨å¤§å°ä¸º <span class="math inline">\(|V|\)</span>ï¼é£ä¹æ¨¡åå¨è¾åºå±éè¦å®æçæä½åæ¬ï¼</p>
<ol>
<li>å¯¹ <strong><span class="math inline">\(|V|\)</span> ä¸ªè¯åé</strong> åå«è®¡ç®åç§¯ã</li>
<li>å¯¹ <strong><span class="math inline">\(|V|\)</span> ä¸ªå¾å</strong> è¿è¡ææ°è¿ç®ã</li>
<li>å¯¹ææç»ææ±åå¹¶å®æå½ä¸åã</li>
</ol>
<p>å¶è®¡ç®å½¢å¼å¯ä»¥åæï¼</p>
<p></p><div class="math display">\[P(w_o \mid w_c)=

\frac{\exp(\mathbf{u}_{w_o}^\top \mathbf{v}_{w_c})}  
{\sum_{w \in V} \exp(\mathbf{u}_w^\top \mathbf{v}_{w_c})}  
\]</div><p></p><p>æ³¨æï¼è¿éçç¥äº softmax è¾åºå±çåç½®é¡¹ï¼å¨ Word2Vec çå®éå»ºæ¨¡ä¸å®ç°ä¸­ï¼è¯¥åç½®å¯¹è¯åéè¯­ä¹ç»æçå½±åéå¸¸å¯ä»¥å¿½ç¥ï¼è¿æ¯å¾ç®åçéçï¼<strong>æä»¬éè¦å»ç»åéé´çè·ç¦»å³ç³»ï¼èåç½®å¸¦æ¥çæ´ä½å¹³ç§»æ¾ç¶æ¯æ²¡ææä¹çã</strong></p>
<p>åå°æ­£é¢ï¼ä¹å°±æ¯è¯´ï¼<strong>åªææä»¬åªå³å¿ä¸ä¸ªç®æ è¯çæ¦ç</strong>ï¼ æ¨¡åä»ç¶å¿é¡»å¯¹<strong>æ´ä¸ªè¯è¡¨ä¸­çææè¯</strong>åè®¡ç®ä¸éæåã</p>
<p>å æ­¤ï¼æ¯ä¸ä¸ªè®­ç»æ ·æ¬å¨è¾åºå±ç<strong>è®¡ç®å¤æåº¦é½æ¯ï¼<span class="math inline">\(O(|V|)\)</span>ã</strong><br>
å½ <span class="math inline">\(|V|\)</span> åªæå åæ¶ï¼è¿ä¸ªä»£ä»·å°å¯æ¥åï¼ä½ä¸æ¦è¯å¸è§æ¨¡è¾¾å°å åä¸ãçè³ä¸ç¾ä¸çº§å«ï¼è¿ä¸æ­¥è®¡ç®å°±ä¼è¿éæä¸ºè®­ç»è¿ç¨ä¸­çä¸»è¦ç¶é¢ã<br>
æ¢å¥è¯è¯´ï¼<strong>æ å softmax çè®¡ç®ææ¬ä¸è¯è¡¨è§æ¨¡çº¿æ§ç¸å³</strong>ï¼è¿ä¸æ§è´¨å¨å¤§è¯è¡¨åºæ¯ä¸æ¯æ æ³åé¿çã<br>
ç¨æä»¬ä¹åçåå®¹æ¥ç±»æ¯ä¸ä¸ï¼<strong>ä½ è§è¿å ç¾ä¸ç±»å«çåç±»æ¨¡ååï¼</strong><br>
ä¹æ­£æ¯å¨è¿æ ·çèæ¯ä¸ï¼æä»¬ä¸å¾ä¸æèæ°çé®é¢ï¼ <strong>å¯ä¸å¯ä»¥å¨ä¸æ¾å¼éåæ´ä¸ªè¯è¡¨çåæä¸ï¼å®æå¯¹ç®æ è¯çææå»ºæ¨¡ï¼</strong><br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260122222725445-514225875.png" alt="image.png" loading="lazy"><br>
äºæ¯ï¼Word2Vec æåºäºç¬¬ä¸ç§å éç­ç¥ï¼<strong>åå± softmax</strong>ã</p>
<h2 id="12-åå¤«æ¼æ ">1.2 åå¤«æ¼æ </h2>
<p>åå¤«æ¼æ¯å¶å®æ¯æ°æ®ç»æéçåå®¹ï¼æä»¬ççå®å¨åå±softmaxä¸­å®ç°çææã</p>
<p>åå¤«æ¼æ ææ©è¢«ç¨äº<strong>æ ææ°æ®åç¼©</strong>ï¼å¶æ ¸å¿ææ³å¯ä»¥æ¦æ¬ä¸ºä¸å¥è¯ï¼<strong>åºç°é¢çè¶é«çç¬¦å·ï¼ç¼ç è¶ç­ï¼åºç°é¢çè¶ä½çç¬¦å·ï¼ç¼ç è¶é¿ã</strong> éè¿è¿ç§æ¹å¼ï¼<strong>é«é¢ç¬¦å·æ¥ææ´ç­çè·¯å¾é¿åº¦</strong>ï¼ä»èå¨æ´ä½æä¹ä¸æå°åç¼ç çææé¿åº¦ã</p>
<p>å¨ åå±softmax ä¸­ï¼å¹¶æ²¡æä½¿ç¨å¶åç¼©ç¼ç çé»è¾ï¼èæ¯éç¹å©ç¨åå¤«æ¼æ ä¸­<strong>é«é¢ç¬¦å·æ¥ææ´ç­çè·¯å¾é¿åº¦</strong>çç¹ç¹æ¥ç»ç»è¯è¡¨å¹¶ä¼åä¼ æ­é»è¾ï¼å®çè¿ç¨å¦ä¸ï¼<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260122222708870-226555105.png" alt="image.png" loading="lazy"></p>
<p>åå·ä½æ¥è¯´ï¼Word2Vec çåå± softmax å°è¯è¡¨ç»ç»æåå¤«æ¼æ çæ­¥éª¤å¦ä¸ï¼</p>
<ol>
<li><strong>ç»è®¡è¯é¢</strong>ï¼é¦åå¯¹è¯­æåºä¸­çæ¯ä¸ªè¯è®¡ç®åºç°é¢çï¼é¢çè¶é«çè¯è¡¨ç¤ºè¶å¸¸è§ï¼ä¹å°±è¶å¯è½å¨è®­ç»ä¸­è¢«è®¿é®å¤æ¬¡ã</li>
<li><strong>æå»ºåå¤«æ¼æ </strong>ï¼
<ul>
<li>å°æ¯ä¸ªè¯ä½ä¸ºå¶å­èç¹ï¼èç¹æé = è¯é¢ï¼</li>
<li>ä»æå°æéçä¸¤ä¸ªèç¹å¼å§åå¹¶ï¼çææ°çç¶èç¹ï¼æéä¸ºå­èç¹æéä¹åï¼</li>
<li>éå¤æ­¤è¿ç¨ï¼ç´å°åªå©ä¸æ ¹èç¹ã<br>
éè¿è¿ç§æ¹å¼ï¼é«é¢è¯èªç¶é è¿æ ¹èç¹ï¼ä½é¢è¯é è¿å¶å­ï¼ä»èä¿è¯<strong>é¢ç¹è®¿é®çè¯è·¯å¾ç­</strong>ã</li>
</ul>
</li>
<li><strong>è·¯å¾ä½ä¸ºæ¦çè®¡ç®åºå</strong>ï¼
<ul>
<li>æ¯æ¡ä»æ ¹å°å¶å­çè·¯å¾å¯¹åºä¸æ¬¡æ¦çè®¡ç®çåºåï¼æ¯ä¸ªèç¹ä¸çéæ©å¯ä»¥çä½ä¸æ¬¡äºåç±»ï¼æ¯å¦æ²¿å·¦/å³åæ¯èµ°ï¼ã</li>
<li>ç®æ è¯çæ¦ç = è·¯å¾ä¸ææäºåç±»æ¦ççä¹ç§¯ã</li>
</ul>
</li>
<li><strong>éä½è®­ç»å¼é</strong>ï¼
<ul>
<li>é«é¢è¯è·¯å¾ç­ â æ´æ°æ¢¯åº¦çèç¹å° â æ¯æ¬¡è®­ç»æ ·æ¬è®¡ç®éå°ã</li>
<li>ä½é¢è¯è·¯å¾é¿ â è½ç¶èç¹å¤ï¼ä½è®­ç»ä¸­åºç°é¢çä½ï¼å¯¹æ´ä½è®­ç»å¼éå½±åå°ã</li>
<li>æ´ä½èè¨ï¼<strong>å¹³åè®¡ç®å¤æåº¦ä» <span class="math inline">\(O(|V|)\)</span> éå° <span class="math inline">\(O(\log |V|)\)</span></strong>ï¼æå¤§æåäºå¤§è¯è¡¨åºæ¯ä¸çè®­ç»æçã</li>
</ul>
</li>
</ol>
<p>åªçå°è¿éï¼å¯è½è¿æ¯æäºæ¨¡ç³ï¼æä»¬ä»¥ CBOW ä¸ºä¾ï¼æ¥ççä½¿ç¨åå± softmax çæ´ä½ç½ç»ç»æåä¼ æ­è¿ç¨ã</p>
<h2 id="13--cbow-ä¸­çåå±-softmax">1.3  CBOW ä¸­çåå± softmax</h2>
<p><img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260122222724875-338795043.png" alt="image.png" loading="lazy"><br>
è¿æ ·ï¼æç»æææ¯ï¼ä¸<strong>ä¸ªåæ¬åå«å ç¾ä¸ç±»å«çè¾åºé®é¢ï¼è¢«åè§£æäºä¸ç³»åäºåç±»é®é¢ã</strong><br>
å¨æ¯æ¬¡è®­ç»æ¶ï¼ç½ç»åªéæ´æ°ç®æ è¯è·¯å¾ä¸çç¸å³èç¹åæ°ï¼èä¸å¿è§¦åæ´ä¸ªè¾åºå±ï¼ä»èå¤§å¹èçè®¡ç®å¼éã<br>
åæ¶ï¼ç±äºåå¤«æ¼æ å¤©ç¶æç§è¯é¢ç»ç»ï¼é«é¢è¯ä½äºé è¿æ ¹èç¹çè·¯å¾ä¸ï¼ä½¿å¾è¿äºè¯çæ´æ°è·¯å¾æ´ç­ãè®¿é®æ´å¿«ãè¿ä¸ä»å éäºé«é¢è¯çå­¦ä¹ ï¼ä¹è®©æ´ä½è®­ç»è¿ç¨æ´å é«æã</p>
<p>è¿ä¾¿æ¯åå± softmax çåçï¼å¦æä»å®éåºç¨ä¸æ¥è¯´ï¼ä½ ä¹å¯ä»¥å«å®âå å  sigmoidâï¼è CBOW ä¾¿å¸¸å¸¸ååå± softmax  æ­éä½¿ç¨ã</p>
<p>ä¸é¢æä»¬ä¾¿æ¥ççå¦ä¸ç§å éç­ç¥ï¼è´éæ ·ã</p>
<h1 id="2-è´éæ ·negative-sampling">2. è´éæ ·ï¼Negative Samplingï¼</h1>
<p>å¦æè¯´åå± softmax æ¯ä¸ç§<strong>ç»æå±é¢çå é</strong>ï¼é£ä¹è´éæ ·æ´åæ¯ä¸ç§<strong>ä»ç®æ å½æ°å±é¢âæ¹é®é¢âçæ¹æ³</strong>ã<br>
å®çåºåç¹éå¸¸ç´æ¥ï¼<strong>æä»¬ççæå¿è¦å¨è®­ç»æ¶åºåâç®æ è¯âåâææéç®æ è¯âåï¼</strong><br>
ç­æ¡æ¯ï¼<strong>ä¸éè¦</strong>ã<br>
ç¸è¾äºåå± softmaxï¼è´éæ ·çææ³æ´å æ´ç´ ãå®ç°ä¹æ´å ç®åãå¨å®éå·¥ç¨ä¸­ï¼å®å ä¹å¯ä»¥çä½æ¯ <strong>Skip-gram çé»è®¤æ­æ¡£</strong>ï¼ä¹æ¯ Word2Vec æå¸¸è¢«ä½¿ç¨çè®­ç»æ¹å¼ä¹ä¸ã</p>
<p>è´éæ ·çæ ¸å¿ææ³å¯ä»¥æ¦æ¬ä¸ºä¸å¥è¯ï¼<strong>åªæéå°éè´æ ·æ¬è¿è¡è®­ç»ï¼èééåæ´ä¸ªè¯è¡¨</strong>ãæ¢å¥è¯è¯´ï¼æä»¬åªå³å¿âæ­£ç¡®è¯ + ä¸äºéæºæéçéè¯¯è¯âï¼å¶ä»çå¨ä½è¯ä¸åä¸è®¡ç®ã<br>
è¿æ ·ï¼è®¡ç®éä» <span class="math inline">\(O(|V|)\)</span> ç´æ¥éå°äº <span class="math inline">\(O(k)\)</span>ï¼å¶ä¸­ <span class="math inline">\(k\)</span> æ¯è´æ ·æ¬çæ°éï¼éå¸¸ <span class="math inline">\(5 \sim 20\)</span>ï¼ã</p>
<p>æä»¬ä»¥ Skip-gram ä¸ºä¾æ¥æ¼ç¤ºè´éæ ·çåçï¼</p>
<h2 id="21-ç¡®å®æ­£è´æ ·æ¬">2.1 ç¡®å®æ­£è´æ ·æ¬</h2>
<p>ä½¿ç¨è´éæ ·çç¬¬ä¸æ­¥æ¯ç¡®å®æ­£è´æ ·æ¬ï¼è¿ä¸è¿ç¨åæ ·å®¹æçè§£ï¼æ¥ççï¼<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260122222401494-1883957489.png" alt="image.png" loading="lazy"><br>
å¶ä¸­ï¼</p>
<ul>
<li><strong>æ­£æ ·æ¬</strong>ï¼ç±çå®è¯­æä¸­åºç°çä¸ä¸æè¯ææï¼</li>
<li><strong>è´æ ·æ¬</strong>ï¼ä»è¯è¡¨ä¸­éæºæ½åï¼ä½å¹¶ä¸åºç°å¨å½åä¸ä¸æä¸­çè¯ã</li>
</ul>
<p>è¿éå±å¼ä¸ç¹ï¼å¯¹äºè´æ ·æ¬çéæ ·ï¼æä»¬å¸¸å¸¸ä½¿ç¨ä¸é¢è¿ä¸ªå¬å¼ï¼</p>
<p></p><div class="math display">\[P(w) \propto U(w)^{3/4}
\]</div><p></p><ul>
<li><span class="math inline">\(P(w)\)</span>ï¼è¡¨ç¤º<strong>å¨è´éæ ·ä¸­æ½å°è¯ <span class="math inline">\(w\)</span> çæ¦ç</strong>ã</li>
<li><span class="math inline">\(U(w)\)</span>ï¼è¡¨ç¤ºè¯ <span class="math inline">\(w\)</span> å¨æ´ä¸ªè¯­æåºä¸­ç<strong>åºç°é¢ç</strong>ã</li>
<li><span class="math inline">\(\propto\)</span>ï¼è¡¨ç¤ºâ<strong>ä¸â¦â¦ææ­£æ¯</strong>âï¼æææ¯æä»¬åæè¿ä¸ªè§åç»æ¯ä¸ªè¯ä¸ä¸ªæéï¼åå½ä¸åææ¦çã</li>
</ul>
<p>è¯­è¨æè¿°å°±æ¯ï¼åç®æ¯ä¸ªè¯çè¯é¢çååä¹ä¸æ¬¡æ¹ï¼ç¶åæå®ä»¬é¤ä»¥ææè¯çè¯é¢çååä¹ä¸æ¬¡æ¹ ä¹åï¼å°±å¾å°æç»æ½æ ·æ¦ç <span class="math inline">\(P(w)\)</span>ï¼</p>
<p></p><div class="math display">\[P(w) = \frac{U(w)^{3/4}}{\sum_{w' \in V} U(w')^{3/4}}  
\]</div><p></p><p>è¿ä¸ªå¬å¼å®éä¸åçæ¯è¿æ ·çå·¥ä½ï¼</p>
<ol>
<li>å¯¹é«é¢è¯åäº<strong>éæ</strong>ï¼æ¯åå§è¯é¢ä½ä¸äºï¼ï¼åå°å®ä»¬å¨è´æ ·æ¬ä¸­åºç°çæ¦çã</li>
<li>å¯¹ä½é¢è¯åäº<strong>ç¸å¯¹æå</strong>ï¼æ¯ç´æ¥æè¯é¢é«ä¸äºï¼ï¼è®©å®ä»¬ææºä¼è¢«éæ ·å°ã</li>
</ol>
<p>è¿ç§éæ ·ç­ç¥å¨å®è·µä¸­è¢«è¯æå¯ä»¥æé«è¯åéè®­ç»çç¨³å®æ§åè¯­ä¹è¡¨è¾¾è½åã<br>
å®æäºæ°æ®åå¤åï¼ç°å¨ï¼å°±æ¥çç Skip-gram  ä¸­çè´éæ ·ã</p>
<h2 id="22-skip-gram-ä¸­çè´éæ ·">2.2 Skip-gram ä¸­çè´éæ ·</h2>
<p>å¨ Skip-gram + è´éæ · æ¡æ¶ä¸ï¼ä¸æ¬¡è®­ç»çä¼ æ­è¿ç¨å¯ä»¥æ¦æ¬ä¸ºä¸å¾æç¤ºï¼<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260122222708411-1201982967.png" alt="image.png" loading="lazy"></p>
<p>è¿ç§æè·¯å¶å®å¾å®¹æçè§£ï¼<strong>å¨ä¸æ¬¡ä¼ æ­ä¸­ï¼æä¸åä¸æ¬¡æ´æ°è¾åºå±çææåæ°ï¼èæ¯åªè®¡ç®ææåæéå¥½çä¸äºæ ·æ¬ï¼åªæ´æ°å®ä»¬ç¸å³çåæ°ï¼æ¥èçè®¡ç®å¼éï¼å©ä¸çç­ä¸æ¬¡éä¸­åæ´æ°ã</strong></p>
<p>æç»ï¼æ¨¡åä»æ´æ°æ­£æ ·æ¬å <span class="math inline">\(k\)</span> ä¸ªè´æ ·æ¬å¯¹åºçè¾åºå±åæ°ä»¥åè¾å¥è¯åéï¼å¶ä½è¯çåéå®å¨ä¸åä¸æ´æ°ï¼ä»èèçäºå¤§éè®¡ç®ï¼å®ç° <span class="math inline">\(O(k)\)</span> çå¤æåº¦ï¼è¿å°äº <span class="math inline">\(O(|V|)\)</span>ã<br>
è¿ç§âåªæ´æ°è¢«éä¸­åæ°âçè®­ç»æ¹å¼ï¼ä½¿å¾<strong>è´éæ ·å¨å¤§è§æ¨¡è¯­æä¸è¶å¤§è¯è¡¨åºæ¯ä¸ï¼å·å¤æé«çè®¡ç®æçã</strong></p>
<p>ä½ ä¼åç°ï¼è´éæ ·ååå± softmax çä¸ç¹å±åé»è¾å°±æ¯<strong>æä¸æ¬¡å¤åç±»ææäºå¤æ¬¡äºåç±»</strong>ï¼è¿åæ ·æ¯æä»¬å¯ä»¥å­¦ä¹ çä¼åæè·¯ã</p>
<h1 id="3æ»ç»">3.æ»ç»</h1>
<table>
<thead>
<tr>
<th>æ¦å¿µ</th>
<th>åç</th>
<th>æ¯å»</th>
</tr>
</thead>
<tbody>
<tr>
<td>softmaxå¤§è¯è¡¨ç¶é¢</td>
<td>softmax çè®¡ç®ä¸ååä¼ æ­é½å¿é¡»éåæ´ä¸ªè¯è¡¨ï¼è¯è¡¨è¶å¤§ï¼è®­ç»è¶æ¢ï¼æä¸ºä¸»è¦æ§è½ç¶é¢</td>
<td>å¨é®è·¯æ¶ï¼å¿é¡»<strong>é®å®å¨å½ææå±æ°</strong></td>
</tr>
<tr>
<td>åå± softmax</td>
<td>ç¨åå¤«æ¼æ å°å¤åç±»é®é¢ææ<strong>ä¸æ¡ä»æ ¹å°å¶çäºåç±»å³ç­è·¯å¾</strong>ï¼ç®æ è¯æ¦çç­äºè·¯å¾ä¸åäºåç±»æ¦ççä¹ç§¯</td>
<td>å¨<strong>æ¯ä¸ªè·¯å£éæ©æ¹å</strong>ï¼èä¸æ¯ä¸æ¬¡é®éææäººã</td>
</tr>
<tr>
<td>åå± softmax +CBOW</td>
<td>æ¯æ¬¡è®­ç»åªæ´æ°ç®æ è¯è·¯å¾ä¸çèç¹åæ°ï¼å¶ä½è¯å®å¨ä¸åä¸è®¡ç®</td>
<td>åªç»´ä¿®<strong>ä½ çæ­£ç»è¿çè·¯å£</strong>ï¼èä¸æ¯éä¿®æ´åº§åå¸ã</td>
</tr>
<tr>
<td>è´éæ ·ï¼Negative Samplingï¼</td>
<td>ä¸åé¼æ¨¡ååºåâç®æ è¯ vs å¨è¯è¡¨âï¼èæ¯åºåâç®æ è¯ vs å°éåªå£°è¯âï¼å¤æåº¦ä¸º <span class="math inline">\(O(k)\)</span></td>
<td>ä¸ç¨è®¤æ¸ææéçäººï¼åªè¦ç¡®è®¤<strong>æååå åè·¯äºº</strong></td>
</tr>
<tr>
<td>æ­£è´æ ·æ¬æé </td>
<td>æ­£æ ·æ¬æ¥èªçå®ä¸ä¸æï¼è´æ ·æ¬ä»è¯è¡¨éæºæ½åä½ä¸å¨ä¸ä¸æä¸­</td>
<td>çæå vs <strong>éæºææ¥çåçäºº</strong></td>
</tr>
<tr>
<td><span class="math inline">\(U(w)^{3/4}\)</span> éæ ·åå¸</td>
<td>å¯¹é«é¢è¯éæãå¯¹ä½é¢è¯ç¸å¯¹æåï¼ä½¿è´æ ·æ¬æ´æä¿¡æ¯é</td>
<td>ç­é¨ææ<strong>å°åºç°ç¹</strong>ï¼è·¯äºº<strong>å¤ç»ç¹éå¤´</strong></td>
</tr>
<tr>
<td>Skip-gram + è´éæ ·</td>
<td>æ¯æ¬¡ä»æ´æ°ä¸­å¿è¯ãæ­£æ ·æ¬è¯å <span class="math inline">\(k\)</span> ä¸ªè´æ ·æ¬çåéï¼å¶ä½åæ°ä¸å¨</td>
<td>åªè®­ç»<strong>è¢«ç¹åçå ä¸ªäºº</strong>ï¼å¶ä»äººä¸æ¬¡åè¯´</td>
</tr>
</tbody>
</table>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.14027777777777778" data-date-updated="2026-01-23 01:50">2026-01-22 22:28</span>&nbsp;
<a href="https://www.cnblogs.com/Goblinscholar">å¥å¸æå­¦è</a>&nbsp;
éè¯»(<span id="post_view_count">47</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19519181);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19519181', targetLink: 'https://www.cnblogs.com/Goblinscholar/p/19519181', title: 'å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨äºï¼èªç¶è¯­è¨å¤ç  ç¬¬äºå¨ï¼è¯åµå¥ï¼åï¼åå± softmax åè´éæ ·' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ä»DEMå°ç­é«çº¿ï¼ææç¢éä¸æ æ ¼ä¸¤ç§å°å½¢è¡¨è¾¾ ]]></title>
    <link>https://www.cnblogs.com/charlee44/p/19519065</link>
    <guid>bc61c9b13e9fb649ebc2eb2b7d2ce26d</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/charlee44/p/19519065" title="åå¸äº 2026-01-22 21:19">
    <span role="heading" aria-level="2">ä»DEMå°ç­é«çº¿ï¼ææç¢éä¸æ æ ¼ä¸¤ç§å°å½¢è¡¨è¾¾</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        <img src="https://img2024.cnblogs.com/blog/1000410/202601/1000410-20260122212101111-1429511358.png" alt="ä»DEMå°ç­é«çº¿ï¼ææç¢éä¸æ æ ¼ä¸¤ç§å°å½¢è¡¨è¾¾" class="desc_img">
        æ·±å¥è§£æç­é«çº¿å°å½¢å¾çç¢éä¸æ æ ¼ä¸¤ç§çæåçï¼å¹¶éè¿ C++ ä»£ç ä»é¶å®ç° DEM å°ç­é«çº¿çå®æ´æµç¨ï¼æ­ç¤º GIS å°å½¢è¡¨è¾¾çæ ¸å¿é»è¾ã
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<blockquote>
<p>æ¬æèéèªæ°ä¹¦<a href="https://item.jd.com/14603137.html" target="_blank" rel="noopener nofollow">ãGISåºç¡åçä¸ææ¯å®è·µã</a>ç¬¬6ç« ãå¾å¤äººä¼ç¨ gdal_contour ä¸é®çæç­é«çº¿ï¼ä½ä½ ç¥éå®èåæ¯å¦ä½éè¿ä¸è§ç½ææ ¼ç½ DEM è®¡ç®äº¤çº¿çåï¼æ¬æå¸¦ä½ ä»é¶å®ç°ç¢éç­é«çº¿æåä¸æ æ ¼åå±è®¾è²å¾çæï¼çæ­£çè§£å°å½¢è¡¨è¾¾çæ¬è´¨ã</p>
</blockquote>
<p><img alt="GISåºç¡åçä¸ææ¯å®è·µ" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1000410/202601/1000410-20260108214912483-1927447549.jpg" class="lazyload"></p>
<h1 id="66-ç­é«çº¿å°å½¢å¾">6.6 ç­é«çº¿å°å½¢å¾</h1>
<p>å°å½¢çè¡¨è¾¾é¤äºåæä»ç»çåºäºæ æ ¼å½¢å¼çæ ¼ç½DEMååºäºç¢éå½¢å¼çä¸è§åä¸è§ç½DEMä¹å¤ï¼è¿æä¸ç§è¡¨è¾¾æ¹å¼ï¼ç­é«çº¿å°å½¢å¾ï¼ç®ç§°ç­é«çº¿å¾ãç­é«çº¿å¾çåå²éå¸¸æ ä¹ï¼æ¯ä¸ç§éå¸¸ç»å¸çå°å½¢è¡¨è¾¾æ¹å¼ï¼å¨é«ä¸­å°çä¸­å°±æè¯¦ç»çä»ç»åèå¯ï¼æè¶£çæ¯å¨å½åçè¯¾ç¨è®¾ç½®ä¸­ï¼é«ä¸­å°çå±äºæç§ï¼æ¬ç§çå°çä¿¡æ¯ç³»ç»å´å±äºçç§ï¼ç¸ä¿¡å¨è¿å¥å¤§å­¦åææ¥è§¦å°ç­é«çº¿å¾çäººä¸æ­¢ç¬èä¸ä¸ªï¼ã</p>
<h2 id="661-ç­é«çº¿å¾çåºç¡çè§£">6.6.1 ç­é«çº¿å¾çåºç¡çè§£</h2>
<p>æè°ç­é«çº¿ï¼å°±æ¯æå°é¢ä¸æµ·æé«åº¦ç¸ç­çç¹ç¸è¿ï¼åç´æå½±å°æ°´å¹³é¢ä¸ï¼å¹¶æç§ä¸å®çæ¯ä¾ç¼©æ¾ç»å¶å°å¾çº¸æå¾å°çé­åæ²çº¿ãå¦ææä»¬æç§ä¸å®é«åº¦å·®ï¼ç­é«è·ï¼ï¼ä»ä½å°é«ä¾æ¬¡ç»å¶ç­é«çº¿ï¼å°±å¾å°äºä¸å¼ ç­é«çº¿å¾ãå¦ä¸å¾6.15æç¤ºï¼</p>
<p><img alt="å¾6.15 ç­é«çº¿å¾" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1000410/202601/1000410-20260122211622189-70722434.png" class="lazyload"></p>
<p>ç­é«çº¿å¾è½ç¶æä¸æè¯å«çç¹ç¹ï¼ä½æ¯å¶æå¤§çä¼ç¹å°±å¨äºéè¿è¾å°çä¿¡æ¯éï¼å°±è½å¤è½»æè¯å«åºå¤ç§å°å½¢å°è²ï¼ä»èå¸®å©æä»¬ååºå°çç©ºé´ç¸å³çå³ç­ãä¸äºå¸åçå°è²åæ¬ï¼</p>
<h3 id="1-é¡å¡åç¼å¡">1. é¡å¡åç¼å¡</h3>
<p>ç­é«çº¿å¯éçå°æ¹ï¼å¡åº¦è¾é¡ï¼å¦å¾6.16ï¼1ï¼æç¤ºãèå¾6.16ï¼2ï¼æç¤ºçå¡åº¦è¾ç¼ï¼å ä¸ºå¶ç­é«çº¿è¾ä¸ºç¨çï¼å¡åº¦è¾ç¼ãå¦ææä»¬è¿è¡ç¬å±±æ´»å¨ï¼åºéæ©ç­é«çº¿ç¨ççå°æ¹ã</p>
<p><img alt="å¾6.16 é¡å¡åç¼å¡" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1000410/202601/1000410-20260122211636293-998445813.png" class="lazyload"></p>
<h3 id="2-å±±å¤´åæ´¼å°">2. å±±å¤´åæ´¼å°</h3>
<p>ä¸å¾6.17ä¸­ç­é«çº¿ï¼aï¼è¡¨ç¤ºå±±å¤´ï¼ç­é«çº¿ï¼bï¼ä¸ºè¡¨ç¤ºæ´¼å°ï¼å®ä»¬æå½±å°å¹³é¢ä¸é½æ¯ç®åçé­åå¤è¾¹å½¢æ²çº¿ãä¸¤èçåºå«å¨äºå±±å¤´çååé«ç¨å¤§äºå¤åï¼èæ´¼å°åç¸åã</p>
<p><img alt="å¾6.17 å±±å¤´åæ´¼å°" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1000410/202601/1000410-20260122211649371-1928724300.png" class="lazyload"></p>
<h3 id="3-å±±èå±±è°·åéé¨">3. å±±èãå±±è°·åéé¨</h3>
<p>å±±èä½äºç­é«çº¿å¼¯æ²çå°æ¹ï¼å¶é«ç¨å¼æ²¿çå¸åä»é«å°åºï¼å¦ä¸å¾6.18ï¼aï¼æç¤ºãå±±è°·åç¸åï¼ç­é«çº¿å¼¯æ²å¤ä»é«ç¨å¼ä½å¾é«ç¨å¼é«çå°æ¹å¸åºï¼å¦ä¸å¾6.18ï¼bï¼æç¤ºãå±±èå¼¯æ²å¤ç¸è¿ççº¿è¢«ç§°ä¸ºå±±èçº¿ï¼éè¿é¨æ°´å¨éè½å°è¿æ¡çº¿ä¸æ¶ä¼åå«æµåå±±èçä¸¤ä¾§ï¼å æ­¤å±±èçº¿è¢«ç§°ä¸ºåæ°´çº¿ãå±±è°·å¼¯æ²å¤ç¸è¿ççº¿è¢«ç§°ä¸ºå±±è°·çº¿ï¼é¨æ°´ä¼ä»ä¸¤ä¾§ä¸å¡æµåè°·åºï¼å®¹æåè²æ²³æµï¼å æ­¤å±±è°·çº¿è¢«ç§°ä¸ºéæ°´çº¿ãåæ°´çº¿ãéæ°´çº¿æ¯åæ¨å·¥ç¨ä¸­éè¦éç¹å³æ³¨çé®é¢ã</p>
<p>éé¨æ¯ä½äºä¸¤ä¸ªå±±å¤´ä¹é´åé©¬éå½¢çä½å¹é¨ä½ï¼å¦ä¸å¾6.18æç¤ºãéé¨æ¯ä¿®å»ºå±±åºéè·¯çå³èç¹ï¼å¯ä»¥èèå¨éé¨ä¿®å»ºè¶å²­éè·¯ã</p>
<p><img alt="å¾6.18 å±±èãå±±è°·åéé¨" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1000410/202601/1000410-20260122211705916-1747405356.png" class="lazyload"></p>
<h3 id="4-ç»å£åæ¬å´">4. ç»å£åæ¬å´</h3>
<p>ç»å£æ¯å¡åº¦å¨70Â°ä»¥ä¸çé¡å³­å´å£ï¼æ­¤æ¶å¤æ¡ç­é«çº¿çä¸é¨åä¼éå ï¼å°è¿é¨åç¨é¯é½¿ç¶çç¬¦å·è¡¨ç¤ºç»å£ï¼å¦ä¸å¾6.19ï¼aï¼æç¤ºãæ¬å´æ¯ä¸é¨çªåºï¼ä¸é¨å¹è¿çç»å£ï¼è¿ç§å°è²çç­é«çº¿åºç°ç¸äº¤ãè¿æ¶éè½çç­é«çº¿ç¨èçº¿è¡¨ç¤ºï¼å¦ä¸å¾6.19ï¼cï¼æç¤ºã</p>
<p><img alt="å¾6.19 ç»å£åæ¬å´" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1000410/202601/1000410-20260122211718148-1421105788.png" class="lazyload"></p>
<p>ç­é«çº¿å¾çå¦ä¸ä¸ªç¹ç¹çæ¯å¶å¹¶ä¸å®å¨æ¯å®æ§çï¼ç±äºæ¯ä¸æ¡ç­é«çº¿é½ä¼æ æ³¨é«ç¨ä¿¡æ¯ï¼å¾å¤æåµä¸å¯ä»¥è¿è¡å¤§è´å®éè¿ç®ï¼æ¯å¦ä¼°ç®ç­é«çº¿å¾ä¸­ä¸¤ä¸ªç¹çç¸å¯¹é«å·®ãå¡åº¦ç­ãæä»¥ç­é«çº¿å¾ç¡®å®æ¯ä¸ç§éå¸¸ç®æ´æåçå°å½¢è¡¨è¾¾ï¼åºç¨éå¸¸å¹¿æ³ã</p>
<h2 id="662-ç­é«çº¿å°å½¢å¾ç¢éå½¢å¼">6.6.2 ç­é«çº¿å°å½¢å¾ç¢éå½¢å¼</h2>
<p>æ­£å¦å¾6.16~å¾6.19æç¤ºï¼æä¸ºç®æ´çç­é«çº¿å¾æ¯åºäºè¦ç´ ç¹å¾çï¼æ¯ç±ä¸ç»é­åçæ²çº¿ç»æçãå æ­¤ä¸é¾æ³è±¡ï¼ä¸ºäºä»DEMä¸­çæç¢éå½¢å¼çç­é«çº¿å°å½¢å¾ï¼å³é®å¨äºä½¿ç¨DEMçç©ºé´è¦ç´ è¿è¡ç«ä½å ä½è®¡ç®ãå¶å®å¨GDALèªå¸¦çå·¥å·ä¸­å·²ç»ææåç­é«çº¿å¾çå·¥å·ï¼ä½æ¯æ­£å¦åé¢ç¬èæè¯´ï¼ç»æå¹¶ä¸éè¦ï¼éè¦çæ¯å¶ä¸­çåçãè¿éç¬èèªå·±çå®ç°å¦ä¸ä¾6.10æç¤ºã</p>
<pre><code class="language-cpp">//ä¾6.10 çæç­é«çº¿å¾çç¢éå½¢å¼
#include &lt;gdal_priv.h&gt;
#include &lt;ogrsf_frmts.h&gt;

#include &lt;Eigen/Eigen&gt;
#include &lt;fstream&gt;
#include &lt;iostream&gt;
#include &lt;sstream&gt;

using namespace std;
using namespace Eigen;

struct TrigonVertexIndex {
  size_t index[3];
};

double startHeight = 550;
double endHeight = 2815;
double heightInterval = 500;

size_t nV;                                       //ç¹çä¸ªæ°
std::vector&lt;Vector3d&gt; vertexXyz;                 //ç¹é
size_t nF;                                       //é¢çä¸ªæ°.
std::vector&lt;TrigonVertexIndex&gt; faceVertexIndex;  //é¢å¨ç¹éä¸­çåºå·

//æ ¹æ®ç©ºæªæ­å­ç¬¦ä¸²
void ChopStringWithSpace(string line, vector&lt;string&gt;&amp; substring) {
  std::stringstream linestream(line);
  string sub;

  while (linestream &gt;&gt; sub) {
    substring.push_back(sub);
  }
}

bool ReadTin(const char* szModelPath) {
  ifstream infile(szModelPath, ios::binary);
  if (!infile) {
    printf("Can't Load %s\n", szModelPath);
    return false;
  }

  string line;
  while (line != string("end_header")) {
    getline(infile, line);
    vector&lt;string&gt; substring;
    ChopStringWithSpace(line, substring);

    if (substring.size() == 3 &amp;&amp; substring[0] == "element") {
      if (substring[1] == "vertex") {
        nV = stoul(substring[2]);
      } else if (substring[1] == "face") {
        nF = stoul(substring[2]);
      }
    }
  }

  vertexXyz.resize(nV);
  vertexXyz.shrink_to_fit();

  uint8_t propertyNum = 3;
  double* vertexTmp = new double[propertyNum * nV];
  infile.read((char*)(vertexTmp),
              static_cast&lt;int64_t&gt;(propertyNum * nV * sizeof(double)));
  for (size_t i = 0; i &lt; nV; i++) {
    vertexXyz[i].x() = vertexTmp[i * propertyNum];
    vertexXyz[i].y() = vertexTmp[i * propertyNum + 1];
    vertexXyz[i].z() = vertexTmp[i * propertyNum + 2];
  }

  delete[] vertexTmp;
  vertexTmp = nullptr;

  faceVertexIndex.resize(nF);
  faceVertexIndex.shrink_to_fit();

  for (size_t i = 0; i &lt; nF; i++) {
    uint8_t type;
    infile.read((char*)(&amp;type), 1);

    if (type != 3) {
      printf("Format Incompatible Or Non Trigon!\n");
      return false;
    }

    for (unsigned int j = 0; j &lt; type; j++) {
      int id;
      infile.read((char*)(&amp;id), sizeof(int));
      faceVertexIndex[i].index[j] = static_cast&lt;size_t&gt;(id);
    }
  }

  infile.close();

  return true;
}

//å¤æ­å ç§å¯è½çç¸äº¤æåµ
int CalTriangleType(TrigonVertexIndex trigonVID,
                    std::vector&lt;bool&gt;&amp; vertexFlag) {
  bool triVertexFlag[3] = {false, false, false};
  for (int vi = 0; vi &lt; 3; vi++) {
    size_t vid = trigonVID.index[vi];
    triVertexFlag[vi] = vertexFlag[vid];
  }

  int type = 0;
  if (!triVertexFlag[0] &amp;&amp; !triVertexFlag[1] &amp;&amp; !triVertexFlag[2]) {
    type = 0;
  } else if (!triVertexFlag[0] &amp;&amp; !triVertexFlag[1] &amp;&amp; triVertexFlag[2]) {
    type = 1;
  } else if (triVertexFlag[0] &amp;&amp; !triVertexFlag[1] &amp;&amp; !triVertexFlag[2]) {
    type = 2;
  } else if (!triVertexFlag[0] &amp;&amp; triVertexFlag[1] &amp;&amp; !triVertexFlag[2]) {
    type = 3;
  } else if (triVertexFlag[0] &amp;&amp; triVertexFlag[1] &amp;&amp; triVertexFlag[2]) {
    type = 4;
  } else if (triVertexFlag[0] &amp;&amp; triVertexFlag[1] &amp;&amp; !triVertexFlag[2]) {
    type = 5;
  } else if (!triVertexFlag[0] &amp;&amp; triVertexFlag[1] &amp;&amp; triVertexFlag[2]) {
    type = 6;
  } else if (triVertexFlag[0] &amp;&amp; !triVertexFlag[1] &amp;&amp; triVertexFlag[2]) {
    type = 7;
  }

  return type;
}

//è®¡ç®ç©ºé´çº¿æ®µå·²ç¥Zå¼çç¹çåæ 
bool CalPointOfSegmentLineWithZ(Vector3d O, Vector3d E, double z, Vector3d&amp; P) {
  if (E.z() &lt; O.z()) {
    Vector3d tmp = O;
    O = E;
    E = tmp;
  }

  double t = (z - O.z()) / (E.z() - O.z());
  if (t &lt; 0 &amp;&amp; t &gt; 1) {
    return false;
  }

  Vector3d D = E - O;
  P = O + D * t;

  return true;
}

//è®¡ç®ç©ºé´ä¸­ä¸è§å½¢ä¸ç´çº¿ç¸äº¤
void CalTriangleIntersectingLine(TrigonVertexIndex trigonVID, int cornerId,
                                 Vector3d&amp; start, Vector3d&amp; end, double z) {
  vector&lt;Vector3d&gt; xyzList(3);
  for (size_t vi = 0; vi &lt; 3; vi++) {
    size_t vid = trigonVID.index[vi];
    xyzList[vi] = vertexXyz[vid];
  }

  if (cornerId == 0) {
    CalPointOfSegmentLineWithZ(xyzList[0], xyzList[1], z, start);
    CalPointOfSegmentLineWithZ(xyzList[0], xyzList[2], z, end);
  } else if (cornerId == 1) {
    CalPointOfSegmentLineWithZ(xyzList[1], xyzList[0], z, start);
    CalPointOfSegmentLineWithZ(xyzList[1], xyzList[2], z, end);
  } else if (cornerId == 2) {
    CalPointOfSegmentLineWithZ(xyzList[2], xyzList[1], z, start);
    CalPointOfSegmentLineWithZ(xyzList[2], xyzList[0], z, end);
  }
}

bool CalIsoHeightLine(TrigonVertexIndex trigonVID, int type, Vector3d&amp; start,Vector3d&amp; end, double height) {
  bool flag = false;
  switch (type) {
    case 1:
    case 5: {
      CalTriangleIntersectingLine(trigonVID, 2, start, end, height);
      flag = true;
      break;
    }
    case 2:
    case 6: {
      CalTriangleIntersectingLine(trigonVID, 0, start, end, height);
      flag = true;
      break;
    }
    case 3:
    case 7: {
      CalTriangleIntersectingLine(trigonVID, 1, start, end, height);
      flag = true;
      break;
    }
    case 0:
    case 4:
    default:
      break;
  }

  return flag;
}

int main() {
  GDALAllRegister();  // GDALæææä½é½éè¦åæ³¨åæ ¼å¼

  vector&lt;double&gt; heightThresholdList;
  {
    double heightThreshold = startHeight;
    while (heightThreshold &lt; endHeight) {
      heightThresholdList.push_back(heightThreshold);
      heightThreshold = heightThreshold + heightInterval;
    }
  }

  string workDir = getenv("GISBasic");
  string outShpFile = workDir + "/../Data/Terrain/dst.shp";

  string tinPath = workDir + "/../Data/Terrain/terrain.ply";
  if (!ReadTin(tinPath.c_str())) {
    return 1;
  }

  //åå»º
  GDALDriver* driver =
      GetGDALDriverManager()-&gt;GetDriverByName("ESRI Shapefile");
  if (!driver) {
    printf("Get Driver ESRI Shapefile Errorï¼\n");
    return 1;
  }

  GDALDataset* dataset =
      driver-&gt;Create(outShpFile.c_str(), 0, 0, 0, GDT_Unknown, nullptr);
  OGRLayer* poLayer = dataset-&gt;CreateLayer("IsoHeightline", nullptr,
                                           wkbMultiLineStringZM, nullptr);

  OGRFeature* poFeature = new OGRFeature(poLayer-&gt;GetLayerDefn());
  OGRMultiLineString multiLineString;

  for (size_t i = 0; i &lt; heightThresholdList.size(); i++) {
    double heightThreshold = heightThresholdList[i];

    std::vector&lt;bool&gt; vertexFlag(vertexXyz.size(), false);
    for (size_t i = 0; i &lt; vertexXyz.size(); i++) {
      if (vertexXyz[i].z() &gt;= heightThreshold) {
        vertexFlag[i] = true;
      }
    }

    for (size_t fi = 0; fi &lt; faceVertexIndex.size(); fi++) {
      int type = CalTriangleType(faceVertexIndex[fi], vertexFlag);

      Vector3d start;
      Vector3d end;
      if (CalIsoHeightLine(faceVertexIndex[fi], type, start, end,
                           heightThreshold)) {
        OGRLinearRing ogrring;
        ogrring.setPoint(0, start.x(), start.y(), start.z());
        ogrring.setPoint(1, end.x(), end.y(), end.z());
        multiLineString.addGeometry(&amp;ogrring);
      }
    }
  }

  poFeature-&gt;SetGeometry(&amp;multiLineString);
  if (poLayer-&gt;CreateFeature(poFeature) != OGRERR_NONE) {
    printf("Failed to create feature in shapefile.\n");
    return 1;
  }

  //éæ¾
  GDALClose(dataset);
  dataset = nullptr;

  return 0;
}
</code></pre>
<p>å¨æ¬ä¾ä¸­ç¬èä½¿ç¨çDEMæ¯ä¸è§åä¸è§ç½å½¢å¼çDEMï¼ä¸è¿å¦æä½¿ç¨è§åæ ¼ç½ä¹å·®ä¸å¤ï¼é½éè¦åè·åä¸ç»ç«ä½ç©ºé´ä¸è§å½¢ãè¦è·åç­é«çº¿ï¼æä»¬å¯ä»¥è®¾æ³æä¸åºå®çé«ç¨é¢ä¸è¿ä¸ç»ç«ä½ç©ºé´ä¸è§å½¢ç¸äº¤ï¼é£ä¹å¿ç¶å¯ä»¥å¾å°ç¸äº¤ççº¿æ®µï¼è¿ä¸ªçº¿æ®µä¹å°±æ¯ç­é«çº¿ä¸ççº¿æ®µã</p>
<p>æä¸åºå®çé«ç¨é¢ä¸è¿ä¸ç»ç«ä½ç©ºé´ä¸è§å½¢ç¸äº¤çç®æ³ä¹ä¸æ¯ä½¿ç¨è®¡ç®å ä½ç®æ³ç¡¬ç®ï¼å¶å®åçéå¸¸ç®åï¼å¦æé«ç¨é¢ä¸ç«ä½ç©ºé´ä¸è§å½¢ç¸äº¤ï¼é£ä¹ç©ºé´ä¸è§å½¢å°±ä¼æä¸ä¸ªè§æèä¸¤ä¸ªè§å¨é«ç¨é¢ä¸æ¹ãæ¢å¥è¯è¯´ï¼é«ç¨é¢ä¸ç«ä½ç©ºé´ä¸è§å½¢ç¸äº¤ï¼æ¯å¦æä¸ä¸ªè§å¨é«ç¨é¢ä¸æ¹ï¼æèå¨é«ç¨é¢ä¸æ¹ãåªè¦æ±åè¿ä¸ªè§ï¼å°±å¯ä»¥è·åå°ä¸¤æ¡ç¸äº¤çä¸è§å½¢è¾¹ãæåï¼æ±ä¸¤ä¸ªç¸äº¤çä¸è§å½¢è¾¹ä¸åºå®é«ç¨çç¹ï¼å°ä¸¤ç¹ç¸è¿å°±æ¯ç­é«çº¿ä¸ççº¿æ®µã</p>
<p>å¶å®ä¸è¿°åçä¹ä½ç°äºç¬èå¨åé¢çè®ºè¿°ï¼DEMå¶å®åªæ¯ä¸ª2.5ç»´çæ°æ®ï¼è¿éç¡®å®ä¹æ²¡æç¨å°çæ­£æä¹ä¸çä¸ç»´ç«ä½ç©ºé´è¿ç®ï¼èæ¯å¾å¿«æ ¹æ®é«åº¦å¼ååºé«ç¨é¢ä¸ç«ä½ç©ºé´ä¸è§å½¢ç¸äº¤çå¤å®ãè¿ç§éç»´çææ³å¨GISä¸­æ¯éå¸¸æç¨çï¼æä»¬åºè¯¥ååå©ç¨å®ãæåå¾å°çç»æå¦ä¸å¾6.20æç¤ºï¼</p>
<p><img alt="å¾6.20 æ ¹æ®DEMçæç­é«çº¿å¾" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1000410/202601/1000410-20260122211731224-65830715.jpg" class="lazyload"></p>
<h2 id="663-ç­é«çº¿å°å½¢å¾æ æ ¼å½¢å¼">6.6.3 ç­é«çº¿å°å½¢å¾æ æ ¼å½¢å¼</h2>
<p>ç­é«çº¿å°å½¢å¾çç¢éå½¢å¼è½ç¶æ¯è¾ç®æ´ï¼ä½æ¯ç¡®å®ä¸å¤ç´è§ãæä»¬å¯ä»¥ä»¿ç§ç­åå¾çè¡¨è¾¾ï¼å°å¶æ æ ¼åï¼å¹¶æ ¹æ®ä¸åçé«åº¦åºé´èµäºä¸åçé¢è²ï¼å°±å¾å°äºåå±è®¾è²çç­é«çº¿å°å½¢å¾ãè¿ç§æ æ ¼å½¢å¼çç­é«çº¿å°å½¢å¾æ´ä¸ºç´æ¥ç¾è§ï¼æä»¬å¯ä»¥å¾å®¹ææ ¹æ®é¢è²åºåé£äºå°åºå±äºå¹³åãä¸éµãçå°ãé«åæèå±±å°ï¼ä¹æ¹ä¾¿ç´æ¥è¾åºå¾çº¸ã</p>
<p>ä¸ä¸ªæè·¯æ¯å°ä¾6.10æå¾å°çç»ææ æ ¼åï¼ä¸è¿è¿å¹¶ä¸æ¯æä½³çæ¹æ¡ãç±äºæ ¼ç½DEMæ°æ®æ¬èº«å°±æ¯æ æ ¼åçï¼æä»¬å¯ä»¥ç´æ¥å¨æ ¼ç½DEMä¸çæåå±è®¾è²ç­é«çº¿å°å½¢å¾ï¼å¦ä¸ä¾6.11æç¤ºï¼</p>
<pre><code class="language-cpp">//ä¾6.11 çæç­é«çº¿å¾çæ æ ¼å½¢å¼
#include &lt;gdal_priv.h&gt;

#include &lt;array&gt;
#include &lt;iostream&gt;
#include &lt;vector&gt;

using namespace std;

using F_RGB = std::array&lt;double, 3&gt;;

int demWidth;
int demHeight;

double geoTransform[6] = {0};
double startX;  //å·¦ä¸è§ç¹åæ X
double dx;      // Xæ¹åçåè¾¨ç
double startY;  //å·¦ä¸è§ç¹åæ Y
double dy;      // Yæ¹åçåè¾¨ç

vector&lt;float&gt; demBuf;

int dstBandNum = 4;
vector&lt;uint8_t&gt; dstBuf;

double startHeight = 550;
double endHeight = 2815;
double heightInterval = 500;

vector&lt;F_RGB&gt; tableRGB(256);         //é¢è²æ å°è¡¨
vector&lt;double&gt; heightThresholdList;  //é«åº¦åºé´
vector&lt;F_RGB&gt; heightRGBList;         //é«åº¦åºé´å¯¹åºçé¢è²

//çææ¸åè²
void Gradient(F_RGB &amp;start, F_RGB &amp;end, vector&lt;F_RGB&gt; &amp;RGBList) {
  F_RGB d;
  for (int i = 0; i &lt; 3; i++) {
    d[i] = (end[i] - start[i]) / RGBList.size();
  }

  for (size_t i = 0; i &lt; RGBList.size(); i++) {
    for (int j = 0; j &lt; 3; j++) {
      RGBList[i][j] = start[j] + d[j] * i;
    }
  }
}

//åå§åé¢è²æ¥æ¾è¡¨
void InitColorTable() {
  F_RGB blue({17, 60, 235});   //èè²
  F_RGB green({17, 235, 86});  //ç»¿è²
  vector&lt;F_RGB&gt; RGBList(60);
  Gradient(blue, green, RGBList);
  for (int i = 0; i &lt; 60; i++) {
    tableRGB[i] = RGBList[i];
  }

  F_RGB yellow({235, 173, 17});  //é»è²
  RGBList.clear();
  RGBList.resize(60);
  Gradient(green, yellow, RGBList);
  for (int i = 0; i &lt; 60; i++) {
    tableRGB[i + 60] = RGBList[i];
  }

  F_RGB red({235, 60, 17});  //çº¢è²
  RGBList.clear();
  RGBList.resize(60);
  Gradient(yellow, red, RGBList);
  for (int i = 0; i &lt; 60; i++) {
    tableRGB[i + 120] = RGBList[i];
  }

  F_RGB white({235, 17, 235});  //ç´«è²
  RGBList.clear();
  RGBList.resize(76);
  Gradient(red, white, RGBList);
  for (int i = 0; i &lt; 76; i++) {
    tableRGB[i + 180] = RGBList[i];
  }
}

void ReadDem() {
  string workDir = getenv("GISBasic");
  string demPath = workDir + "/../Data/Terrain/dem.tif";

  GDALDataset *dem = (GDALDataset *)GDALOpen(demPath.c_str(), GA_ReadOnly);
  if (!dem) {
    cout &lt;&lt; "Can't Open Image!" &lt;&lt; endl;
    return;
  }

  demWidth = dem-&gt;GetRasterXSize();
  demHeight = dem-&gt;GetRasterYSize();

  dem-&gt;GetGeoTransform(geoTransform);
  startX = geoTransform[0];  //å·¦ä¸è§ç¹åæ X
  dx = geoTransform[1];      // Xæ¹åçåè¾¨ç
  startY = geoTransform[3];  //å·¦ä¸è§ç¹åæ Y
  dy = geoTransform[5];      // Yæ¹åçåè¾¨ç

  // noValue = dem-&gt;GetRasterBand(1)-&gt;GetNoDataValue();

  size_t demBufNum = (size_t)demWidth * demHeight;
  demBuf.resize(demBufNum, 0);

  int depth = sizeof(float);
  dem-&gt;GetRasterBand(1)-&gt;RasterIO(GF_Read, 0, 0, demWidth, demHeight,
                                  demBuf.data(), demWidth, demHeight,
                                  GDT_Float32, depth, demWidth * depth);

  GDALClose(dem);
  dem = nullptr;
}

void HandleDem() {
  size_t dstBufNum = (size_t)demWidth * demHeight * dstBandNum;
  dstBuf.resize(dstBufNum, 255);

  for (size_t i = 0; i &lt; heightThresholdList.size(); i++) {
    double heightThreshold = heightThresholdList[i];
    F_RGB thresholdRgb = heightRGBList[i];

    for (int yi = 0; yi &lt; demHeight; yi++) {
      for (int xi = 0; xi &lt; demWidth; xi++) {
        size_t m = (size_t)demWidth * yi + xi;

        if (demBuf[m] &gt; heightThreshold) {
          size_t n = (size_t)demWidth * dstBandNum * yi + dstBandNum * xi;
          for (int bi = 0; bi &lt; 3; bi++) {
            dstBuf[n + bi] = (uint8_t)thresholdRgb[bi];
          }
        }
      }
    }
  }
}

void WriteDst() {
  string workDir = getenv("GISBasic");
  string demPath = workDir + "/../Data/Terrain/dst.tif";

  GDALDriver *pDriver =
      GetGDALDriverManager()-&gt;GetDriverByName("GTIFF");  //å¾åé©±å¨
  char **ppszOptions = NULL;
  ppszOptions =
      CSLSetNameValue(ppszOptions, "BIGTIFF", "IF_NEEDED");  //éç½®å¾åä¿¡æ¯
  GDALDataset *dst = pDriver-&gt;Create(demPath.c_str(), demWidth, demHeight, 4,
                                     GDT_Byte, ppszOptions);
  if (!dst) {
    printf("Can't Write Image!");
    return;
  }

  dst-&gt;SetGeoTransform(geoTransform);

  int depth = sizeof(uint8_t);
  dst-&gt;RasterIO(GF_Write, 0, 0, demWidth, demHeight, dstBuf.data(), demWidth,
                demHeight, GDT_Byte, dstBandNum, nullptr, dstBandNum * depth,
                demWidth * dstBandNum * depth, depth);

  GDALClose(dst);
  dst = nullptr;
}

int main() {
  GDALAllRegister();  // GDALæææä½é½éè¦åæ³¨åæ ¼å¼

  //è®¾ç½®Projæ°æ®
  std::string projDataPath = getenv("GISBasic");
  projDataPath += "/share/proj";
  CPLSetConfigOption("PROJ_LIB", projDataPath.c_str());

  ReadDem();

  InitColorTable();

  double heightThreshold = startHeight;
  while (heightThreshold &lt; endHeight) {
    heightThresholdList.push_back(heightThreshold);
    heightThreshold = heightThreshold + heightInterval;
  }

  if (heightThresholdList.size() == 1) {
    heightRGBList.push_back(tableRGB[0]);
  } else {
    size_t step = tableRGB.size() / (heightThresholdList.size() - 1);
    size_t index = 0;
    for (size_t i = 0; i &lt; heightThresholdList.size() - 1; i++) {
      heightRGBList.push_back(tableRGB[index]);
      index = index + step;
    }
    heightRGBList.push_back(tableRGB[tableRGB.size() - 1]);
  }

  HandleDem();

  WriteDst();

  return 0;
}
</code></pre>
<p>ä¸åºäºç¢éè¦ç´ çå ä½è¿ç®ä¸åï¼åºäºæ æ ¼çè¿ç®æ´å¤çæ¯åºäºå¾åå¤ççææ³ãæä»¬å¹¶ä¸ç¥éæ¯ä¸æ¡å·ä½çç­é«çº¿å¨åªéï¼ä½æ¯æä»¬å¯ä»¥åæ æ ¼ä¸­æå¼ãå·ä½æ¥è¯´ï¼å°±æ¯å¦æè¯¥æ æ ¼æä»£è¡¨çç¹çé«ç¨å¤§äºé«ç¨åºé´çä¸´çå¼ï¼é£ä¹å°±åå¶å¡«ååéçé¢è²ï¼æç§é«ç¨åºé´æ ¼å¼å¡«åå¤æ¬¡ï¼ç´å°ææé«ç¨åºé´é½å¡«åå®æãè¿æ ·ï¼ç­é«çº¿å°±ç±ä¸åçé¢è²åºé´ä½ç°åºæ¥äºãæç»çæçç­é«çº¿å¾å¦ä¸å¾6.21æç¤ºã</p>
<p><img alt="å¾6.21 æ ¹æ®DEMçæç­é«çº¿å¾" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1000410/202601/1000410-20260122211748868-600744232.png" class="lazyload"></p>
<h1 id="ç»è¯­">ç»è¯­</h1>
<p>å¨æ¬ç« ä¸­ï¼æä»¬è¯¦ç»è®ºè¿°äºä¸ç§ç»¼åäºç¢éç¹æ§ä¸æ æ ¼ç¹æ§çå°çç©ºé´æ°æ®ââå°å½¢ãå æ­¤ï¼å¦ææä»¬åé¢å¯¹ç¢éåæ æ ¼ææ¡çæ¯è¾çç»ï¼ææ¡å°å½¢ç¸å³çç¥è¯ä¹ä¸æ¯å¤ªé¾ãæ­¤å¤ï¼æä»¬è¿ä»ç»äºä¸äºå°å½¢æ°æ®çåºæ¬å¤çæ¹æ³ï¼å°å½¢åæç®æ³ï¼ææ¸²å¾ä¸ç­é«çº¿å¾çå¶ä½ãå¶å®å°å½¢ç¸å³çç¥è¯éå¸¸ä¹ä¸°å¯ï¼è¿ä¸æ¯æ¬ç« æéçåå®¹æè½æ¶µççãèä¸ï¼å°å½¢æ°æ®æå¶æ°æ®æææ§ï¼æ®éä»ä¸èæ³è·åé«ç²¾åº¦çæ°æ®è¿è¡æ·±å¥ç ç©¶ä¹ååä¸æãä¸è¿è¿æ¯é£å¥è¯ï¼ç¤ºä¾çç»æä¸éè¦ï¼éè¦çæ¯è¦äºè§£å¶åºå±çåçï¼å»ºç«ä¸ä¸ªç¸å¯¹ç³»ç»èå¨é¢çè®¤ç¥ï¼å¨éå°æ´ä¸ºå¤æçé¾é¢æ¶æè½å¿ä¸­ä¸æã</p>
<hr>
<p>æ¬æèéèªä½èæ°ä¹¦ãGISåºç¡åçä¸ææ¯å®è·µãç¬¬6ç« ãä¹¦ä¸­ç³»ç»è®²è§£ GIS æ ¸å¿çè®ºä¸å¤è¯­è¨å®æï¼éåå¼åèä¸é«æ ¡å¸çã</p>
<p>ð <strong>éå¥èµæºå¼æº</strong>ï¼<a href="https://github.com/fafa1899/GISBasic" target="_blank" rel="noopener nofollow">GitHub</a> | <a href="https://gitcode.com/charlee44/GISBasic" target="_blank" rel="noopener nofollow">GitCode</a></p>
<p>ð <strong>æ¯ææ­£ç</strong>ï¼<a href="https://item.jd.com/14603137.html" target="_blank" rel="noopener nofollow">äº¬ä¸</a>ï½<a href="https://product.dangdang.com/29988568.html" target="_blank" rel="noopener nofollow">å½å½</a></p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.001388888888888889" data-date-updated="2026-01-22 21:21">2026-01-22 21:19</span>&nbsp;
<a href="https://www.cnblogs.com/charlee44">charlee44</a>&nbsp;
éè¯»(<span id="post_view_count">31</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19519065);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19519065', targetLink: 'https://www.cnblogs.com/charlee44/p/19519065', title: 'ä»DEMå°ç­é«çº¿ï¼ææç¢éä¸æ æ ¼ä¸¤ç§å°å½¢è¡¨è¾¾' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ä¸å¤©ä¸ä¸ªPythonåºï¼requests - ç®åå¥½ç¨çHTTPè¯·æ±åº ]]></title>
    <link>https://www.cnblogs.com/min2k/p/19519059</link>
    <guid>e5c1737950d193f767ce028b757008f5</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/min2k/p/19519059" title="åå¸äº 2026-01-22 21:16">
    <span role="heading" aria-level="2">ä¸å¤©ä¸ä¸ªPythonåºï¼requests - ç®åå¥½ç¨çHTTPè¯·æ±åº</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="requests---ç®åå¥½ç¨çhttpè¯·æ±åº">requests - ç®åå¥½ç¨çHTTPè¯·æ±åº</h1>
<h2 id="ä¸ä»ä¹æ¯requests">ä¸ãä»ä¹æ¯requestsï¼</h2>
<p><strong>requests</strong> æ¯ä¸ä¸ªç¨äºåéHTTPè¯·æ±ç Python åºã<br>
å®å¯ä»¥å¸®å©ä½ ï¼</p>
<ul>
<li>è½»æ¾åéGETãPOSTãPUTãDELETEç­è¯·æ±</li>
<li>å¤çCookieãä¼è¯ç­å¤ææ§</li>
<li>èªå¨è§£åç¼©åå®¹</li>
<li>å¤çå½éååååURL</li>
</ul>
<h2 id="äºåºç¨åºæ¯">äºãåºç¨åºæ¯</h2>
<p><strong>requests</strong> å¹¿æ³åºç¨äºä»¥ä¸å®éåºæ¯ï¼</p>
<ul>
<li><strong>Webç¬è«</strong>: æåç½é¡µåå®¹ï¼åææ°æ®ã</li>
<li><strong>APIäº¤äº</strong>: ä¸åç§Webæå¡ï¼å¦å¤©æ°APIãç¤¾äº¤åªä½APIï¼è¿è¡éä¿¡ï¼è·åææäº¤æ°æ®ã</li>
<li><strong>èªå¨åæµè¯</strong>: èªå¨åæµè¯Webåºç¨çæ¥å£åè½ã</li>
</ul>
<h2 id="ä¸å¦ä½å®è£">ä¸ãå¦ä½å®è£</h2>
<ol>
<li>ä½¿ç¨ pip å®è£</li>
</ol>
<pre><code class="language-bash">pip install requests

# å¦æå®è£æ¢çè¯ï¼æ¨èä½¿ç¨å½åéåæº
pip install requests -i https://pypi.tuna.tsinghua.edu.cn/simple/
</code></pre>
<ol start="2">
<li>ä½¿ç¨ <a href="https://www.min2k.com/tools/python-run/" target="_blank" rel="noopener nofollow">PythonRun</a> å¨çº¿è¿è¡ä»£ç ï¼æ éæ¬å°å®è£ï¼</li>
</ol>
<h2 id="åç¤ºä¾ä»£ç ">åãç¤ºä¾ä»£ç </h2>
<p>åéä¸ä¸ªGETè¯·æ±å¹¶æ£æ¥ç¶æç </p>
<pre><code class="language-python">import requests

# å®ä¹è¦è¯·æ±çURL
url = "https://www.example.com"

# åéGETè¯·æ±
response = requests.get(url)

# æ£æ¥HTTPç¶æç 
if response.status_code == 200:
    print(f"è¯·æ±æåï¼ç¶æç : {response.status_code}")
    # æå°ååºåå®¹çå¼å¤´é¨å
    print("ååºåå®¹å100ä¸ªå­ç¬¦:", response.text[:100])
else:
    print(f"è¯·æ±å¤±è´¥ï¼ç¶æç : {response.status_code}")
</code></pre>
<p>ä½¿ç¨ <a href="https://www.min2k.com/tools/python-run/?code=import%20requests%0A%0A%23%20%E5%AE%9A%E4%B9%89%E8%A6%81%E8%AF%B7%E6%B1%82%E7%9A%84URL%0Aurl%20%3D%20%22https%3A%2F%2Fwww.example.com%22%0A%0A%23%20%E5%8F%91%E9%80%81GET%E8%AF%B7%E6%B1%82%0Aresponse%20%3D%20requests.get%28url%29%0A%0A%23%20%E6%A3%80%E6%9F%A5HTTP%E7%8A%B6%E6%80%81%E7%A0%81%0Aif%20response.status_code%20%3D%3D%20200%3A%0A%20%20%20%20print%28f%22%E8%AF%B7%E6%B1%82%E6%88%90%E5%8A%9F%EF%BC%81%E7%8A%B6%E6%80%81%E7%A0%81%3A%20%7Bresponse.status_code%7D%22%29%0A%20%20%20%20%23%20%E6%89%93%E5%8D%B0%E5%93%8D%E5%BA%94%E5%86%85%E5%AE%B9%E7%9A%84%E5%BC%80%E5%A4%B4%E9%83%A8%E5%88%86%0A%20%20%20%20print%28%22%E5%93%8D%E5%BA%94%E5%86%85%E5%AE%B9%E5%89%8D100%E4%B8%AA%E5%AD%97%E7%AC%A6%3A%22%2C%20response.text%5B%3A100%5D%29%0Aelse%3A%0A%20%20%20%20print%28f%22%E8%AF%B7%E6%B1%82%E5%A4%B1%E8%B4%A5%EF%BC%81%E7%8A%B6%E6%80%81%E7%A0%81%3A%20%7Bresponse.status_code%7D%22%29" target="_blank" rel="noopener nofollow">PythonRun</a> å¨çº¿è¿è¡è¿æ®µä»£ç ï¼ç»æå¦ä¸ï¼</p>
<pre><code class="language-text">è¯·æ±æåï¼ç¶æç : 200
ååºåå®¹å100ä¸ªå­ç¬¦: &lt;!doctype html&gt;&lt;html lang="en"&gt;&lt;head&gt;&lt;title&gt;Example Domain&lt;/title&gt;&lt;meta name="viewport" content="wid
</code></pre>
<p>ä½¿ç¨ <a href="https://www.min2k.com/tools/mermaid/?code=flowchart%20TB%0A%20%20A%5B%E5%BC%80%E5%A7%8B%5D%20--%3E%20B%7B%E5%AE%9A%E4%B9%89URL%7D%3B%0A%20%20B%20--%3E%20C%5B%E5%8F%91%E9%80%81GET%E8%AF%B7%E6%B1%82%5D%3B%0A%20%20C%20--%3E%20D%7B%E6%A3%80%E6%9F%A5%E7%8A%B6%E6%80%81%E7%A0%81%20%3D%3D%20200%3F%7D%3B%0A%20%20D%20--%20%E6%98%AF%20--%3E%20E%5B%E6%89%93%E5%8D%B0%E8%AF%B7%E6%B1%82%E6%88%90%E5%8A%9F%E4%BF%A1%E6%81%AF%E5%92%8C%E5%93%8D%E5%BA%94%E5%86%85%E5%AE%B9%5D%3B%0A%20%20D%20--%20%E5%90%A6%20--%3E%20F%5B%E6%89%93%E5%8D%B0%E8%AF%B7%E6%B1%82%E5%A4%B1%E8%B4%A5%E4%BF%A1%E6%81%AF%5D%3B%0A%20%20E%20--%3E%20G%5B%E7%BB%93%E6%9D%9F%5D%3B%0A%20%20F%20--%3E%20G%3B" target="_blank" rel="noopener nofollow">MermaidGo</a> ç»å¶ç¤ºä¾ä»£ç çæµç¨å¾ï¼ç»æå¦ä¸ï¼</p>
<p><img alt="mermaid-20260122_210458" loading="lazy" data-src="https://img2024.cnblogs.com/blog/70894/202601/70894-20260122211522452-363613829.jpg" class="lazyload"></p>
<h2 id="äºå­¦ä¹ èµæº">äºãå­¦ä¹ èµæº</h2>
<ol>
<li>å¼æºé¡¹ç®ï¼<a href="https://github.com/psf/requests" target="_blank" rel="noopener nofollow">requests</a></li>
<li>ä¸­æèªè¿°ï¼<a href="https://www.python64.cn/readme/requests/" target="_blank" rel="noopener nofollow">REMDME</a></li>
<li>å¨çº¿è¿è¡ï¼<a href="https://www.min2k.com/tools/python-run/" target="_blank" rel="noopener nofollow">PythonRun</a></li>
</ol>
<blockquote>
<p>å¦æè¿ç¯æç« å¯¹ä½ æå¸®å©ï¼æ¬¢è¿ç¹èµãæ¶èãè½¬åï¼<br>
å­¦ä¹ è¿ç¨ä¸­æä»»ä½é®é¢ï¼æ¬¢è¿å¨è¯è®ºåºçè¨äº¤æµï½</p>
</blockquote>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-22 21:17">2026-01-22 21:16</span>&nbsp;
<a href="https://www.cnblogs.com/min2k">æç¼ç¨</a>&nbsp;
éè¯»(<span id="post_view_count">69</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19519059);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19519059', targetLink: 'https://www.cnblogs.com/min2k/p/19519059', title: 'ä¸å¤©ä¸ä¸ªPythonåºï¼requests - ç®åå¥½ç¨çHTTPè¯·æ±åº' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ AIå¼å-python-langchainæ¡æ¶ï¼1-4å¨æå°æ ·æ¬æç¤ºï¼ ]]></title>
    <link>https://www.cnblogs.com/yclh/p/19518845</link>
    <guid>2a4e1d8cadf02304eaf0c4618c790d81</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/yclh/p/19518845" title="åå¸äº 2026-01-22 19:31">
    <span role="heading" aria-level="2">AIå¼å-python-langchainæ¡æ¶ï¼1-4å¨æå°æ ·æ¬æç¤ºï¼</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p class="qwen-markdown-paragraph" data-spm-anchor-id="a2ty_o01.29997173.0.i91.70db5171ppHPis"><span class="qwen-markdown-text">è¿ä¸ªä»£ç çæ ¸å¿åè½æ¯ï¼<strong class="qwen-markdown-strong"><span class="qwen-markdown-text">åºäºè¾å¥è¯çé¿åº¦å¨æéæ©åä¹è¯ç¤ºä¾ï¼å¹¶è°ç¨å¤§æ¨¡åçæåä¹è¯</span></strong><span class="qwen-markdown-text">ï¼ä½ç°äº <strong class="qwen-markdown-strong"><span class="qwen-markdown-text" data-spm-anchor-id="a2ty_o01.29997173.0.i90.70db5171ppHPis">âå¨æå°æ ·æ¬æç¤ºï¼Dynamic Few-Shot Promptingï¼â</span></strong><span class="qwen-markdown-text"> ä¸ <strong class="qwen-markdown-strong"><span class="qwen-markdown-text">âä¸ä¸æé¿åº¦æç¥çç¤ºä¾éæ©â</span></strong><span class="qwen-markdown-text"> çè½åã</span></span></span></span></p>
<div class="cnblogs_Highlighter">
<pre class="brush:python;gutter:true;">from langchain.prompts import FewShotPromptTemplate, PromptTemplate
from langchain.prompts.example_selector import LengthBasedExampleSelector
from langchain_core.output_parsers import StrOutputParser
from langchain_openai import ChatOpenAI
import os
from dotenv import load_dotenv


# å®ä¹åä¹è¯ä»»å¡çç¤ºä¾æ°æ®éï¼few-shot examplesï¼
# æ¯ä¸ªç¤ºä¾åå«ä¸ä¸ªè¾å¥è¯ï¼inputï¼åå¯¹åºçåä¹è¯ï¼outputï¼
examples = [
    {"input": "å¼å¿", "output": "ä¼¤å¿"},
    {"input": "é«", "output": "ç®"},
    {"input": "ç²¾ååæ²", "output": "æ²¡ç²¾æé"},
    {"input": "ç²", "output": "ç»"},
]

# å®ä¹åä¸ªç¤ºä¾çæ ¼å¼æ¨¡æ¿
# ä½¿ç¨ {input} å {output} ä½ä¸ºå ä½ç¬¦ï¼ç¨äºåç»­å¡«åå·ä½å¼
example_prompt = PromptTemplate(
    input_variables=["input", "output"],  # å£°ææ¨¡æ¿ä¸­ä½¿ç¨çåéå
    template="Input: {input}\nOutput: {output}",  # ç¤ºä¾çææ¬æ ¼å¼
)

# åå»ºä¸ä¸ªåºäºé¿åº¦çç¤ºä¾éæ©å¨ï¼LengthBasedExampleSelectorï¼
# ä½ç¨ï¼æ ¹æ®è¾å¥æç¤ºçæ»é¿åº¦å¨æéæ©æåéçç¤ºä¾æ°éï¼é¿åè¶åºæ¨¡åä¸ä¸æéå¶
example_selector = LengthBasedExampleSelector(
    examples=examples,  # æä¾ææåéç¤ºä¾
    example_prompt=example_prompt,  # ç¨äºæ ¼å¼åæ¯ä¸ªç¤ºä¾çæ¨¡æ¿
    max_length=25,  # è®¾å®æ´ä¸ª promptï¼å«åç¼ãç¤ºä¾ãåç¼ï¼çæå¤§ token é¿åº¦ï¼æ­¤å¤ä¸ºå­ç¬¦æ°è¿ä¼¼ï¼
    # æ³¨æï¼LengthBasedExampleSelector é»è®¤ä½¿ç¨ len(text) è®¡ç®é¿åº¦ï¼éç²¾ç¡® token æ°ï¼ï¼éç¨äºç®ååºæ¯
)

# æå»ºå¨æå°æ ·æ¬æç¤ºæ¨¡æ¿ï¼FewShotPromptTemplateï¼
# å®ä¼æ ¹æ®è¾å¥åå®¹çé¿åº¦ï¼èªå¨ä» examples ä¸­éæ©åéæ°éçç¤ºä¾æå¥å° prompt ä¸­
dynamic_prompt = FewShotPromptTemplate(
    example_selector=example_selector,  # ä½¿ç¨ä¸é¢å®ä¹çå¨æéæ©å¨ï¼èéåºå®ç¤ºä¾åè¡¨ï¼
    example_prompt=example_prompt,      # åä¸ªç¤ºä¾çæ ¼å¼
    prefix="ç»åºæ¯ä¸ªè¾å¥çåä¹è¯",       # æç¤ºçå¼å¤´é¨åï¼ä»»å¡æä»¤ï¼
    suffix="Input: {adjective}\nOutput:",  # æç¤ºçç»å°¾é¨åï¼åå«å¾é¢æµçè¾å¥å ä½ç¬¦
    input_variables=["adjective"],      # å£°ææç»ç¨æ·è¾å¥çåéåï¼ä¸ suffix ä¸­ç {adjective} å¯¹åºï¼
)

# === æµè¯ 1ï¼è¾å¥è¾ç­ï¼åºéæ©å¤ä¸ªç¤ºä¾ ===
print("ãæµè¯1ãè¾å¥è¾ç­ï¼éæ©å¤ä¸ªç¤ºä¾ï¼")
print(dynamic_prompt.format(adjective="big"))

print('------------')

# === æµè¯ 2ï¼è¾å¥å¾é¿ï¼åºåªéæ©å°éæä¸ä¸ªç¤ºä¾ä»¥æ§å¶æ»é¿åº¦ ===
long_string = "big and huge and massive and large and gigantic and tall and much much much much much bigger than everything else"
print("ãæµè¯2ãè¾å¥å¾é¿ï¼ä»éæ©ä¸ä¸ªç¤ºä¾ï¼")
print(dynamic_prompt.format(adjective=long_string))

print('------------')

# === æµè¯ 3ï¼å¨ææ·»å æ°ç¤ºä¾ ===
# åç¤ºä¾éæ©å¨ä¸­æ°å¢ä¸ä¸ªç¤ºä¾ï¼"è" -&gt; "ç¦"ï¼
new_example = {"input": "è", "output": "ç¦"}
dynamic_prompt.example_selector.add_example(new_example)
print("ãæµè¯3ãæ·»å æ°ç¤ºä¾åï¼æ¥è¯¢'ç­æ'ï¼")
print(dynamic_prompt.format(adjective="ç­æ"))

print('------------')

# === éç½®å¹¶è°ç¨ DeepSeek å¤§è¯­è¨æ¨¡å ===

llm = ChatOpenAI(
    api_key=os.getenv("DEEPSEEK_API_KEY"),
    base_url=os.getenv("DEEP_URL"),  # Deepseek ç API åºç¡å°å
    model="deepseek-v3:671b",  # Deepseek å¯¹è¯æ¨¡åï¼å¯éï¼deepseek-chat-pro ç­é«çº§æ¨¡åï¼
    temperature=0.7,  # æ¸©åº¦åæ°ï¼0-1ï¼è¶ä½è¶ç¨³å®ï¼
    max_tokens=1024  # æå¤§çæ tokens
)

# åå»ºå­ç¬¦ä¸²è¾åºè§£æå¨ï¼ç¨äºå°æ¨¡åè¿åç AIMessage è½¬æ¢ä¸ºçº¯ææ¬
output_parser = StrOutputParser()

# æå»ºå¤çé¾ï¼Chainï¼ï¼prompt â LLM â output parser
# ä½¿ç¨ LangChain çç®¡éæä½ç¬¦ `|` è¿æ¥åç»ä»¶
chain = dynamic_prompt | llm | output_parser

# è°ç¨é¾ï¼ä¼ å¥è¾å¥åé {"adjective": "ç­æ"}
# æ³¨æï¼chain.invoke() åé¨å·²åå« llm è°ç¨å output_parser è§£æï¼æ éåæå¨è°ç¨ output_parser
message = chain.invoke({"adjective": "ç­æ"})

# â ï¸ æ³¨æï¼ä¸ä¸è¡ `chain.invoke()` å·²ç»è¿åäºå­ç¬¦ä¸²ï¼å ä¸ºæåæ¯ StrOutputParserï¼
# æä»¥ä¸é¢è¿è¡æ¯å¤ä½çï¼çè³ä¼å¯¼è´éè¯¯ï¼å ä¸º message å·²æ¯ strï¼ä¸è½åæ¬¡ invokeï¼
# result = output_parser.invoke(message)  # â éè¯¯ï¼message æ¯ strï¼ä¸æ¯ AIMessage

# æ­£ç¡®åæ³ï¼ç´æ¥ä½¿ç¨ message ä½ä¸ºç»æ
result = message

print('###############')
print("ãæ¨¡åè¾åºã")
print(result)
</pre>
</div>
<h1 style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">è¾åºç»æï¼</h1>
<div class="cnblogs_Highlighter">
<pre class="brush:python;gutter:true;">ãæµè¯1ãè¾å¥è¾ç­ï¼éæ©å¤ä¸ªç¤ºä¾ï¼
ç»åºæ¯ä¸ªè¾å¥çåä¹è¯

Input: å¼å¿
Output: ä¼¤å¿

Input: é«
Output: ç®

Input: ç²¾ååæ²
Output: æ²¡ç²¾æé

Input: ç²
Output: ç»

Input: big
Output:
------------
ãæµè¯2ãè¾å¥å¾é¿ï¼ä»éæ©ä¸ä¸ªç¤ºä¾ï¼
ç»åºæ¯ä¸ªè¾å¥çåä¹è¯

Input: å¼å¿
Output: ä¼¤å¿

Input: big and huge and massive and large and gigantic and tall and much much much much much bigger than everything else
Output:
------------
ãæµè¯3ãæ·»å æ°ç¤ºä¾åï¼æ¥è¯¢'ç­æ'ï¼
ç»åºæ¯ä¸ªè¾å¥çåä¹è¯

Input: å¼å¿
Output: ä¼¤å¿

Input: é«
Output: ç®

Input: ç²¾ååæ²
Output: æ²¡ç²¾æé

Input: ç²
Output: ç»

Input: è
Output: ç¦

Input: ç­æ
Output:
------------
###############
ãæ¨¡åè¾åºã
å·æ·¡
</pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">&nbsp;</h1>
<h1 style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">æ ¸å¿è¦ç¹æ»ç»</h1>
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">&nbsp;</div>
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">è¿æ®µä»£ç æ¯åºäº LangChain æ¡æ¶å¯¹æ¥ DeepSeek å¤§æ¨¡åï¼å®ç°ãå¨æå°æ ·æ¬ï¼Few-Shotï¼åä¹è¯çæãçå®æ´æ¡ä¾ï¼æ ¸å¿è§£å³ãåºå®ç¤ºä¾æè¶åºæ¨¡åä¸ä¸æé¿åº¦ãçé®é¢ï¼éè¿å¨æç¤ºä¾éæ©å¨ééä¸åé¿åº¦è¾å¥ï¼åæ¶ç»å LangChain é¾å¼è°ç¨ç®åæ¨¡åè°ç¨æµç¨ï¼åæç¡®æ´ä½å®ä½ï¼åæè§£æ ¸å¿éç¹ï¼</div>
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">&nbsp;</div>
<h2 style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">ä¸ãæ´ä½æµç¨æ¦è§ï¼æ ¸å¿é»è¾é¾ï¼</h2>
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">&nbsp;</div>
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">ä»£ç éµå¾ª LangChain ãç¤ºä¾åå¤ â å¨ææç¤ºæå»º â æ¨¡åè°ç¨ â ç»æè§£æãçå°æ ·æ¬å­¦ä¹ ç»å¸æµç¨ï¼æ´ä½å¯æ¦æ¬ä¸ºï¼</div>
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: flex; flex: 0 1 auto; flex-direction: column; padding: 0; margin: 8px 0 0; background: none">
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none" dir="ltr">
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">
<pre><code style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px Consolas, Monaco, Andale Mono, Ubuntu Mono, monospace; text-align: start; white-space: pre; display: inline; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">1. å®ä¹åä¹è¯ä»»å¡çåºå®ç¤ºä¾æ°æ®éï¼ä¸ºæ¨¡åæä¾åèæ¡ä¾
2. éç½®åºäºé¿åº¦çç¤ºä¾éæ©å¨ï¼æ ¹æ®è¾å¥ææ¬é¿åº¦å¨æç­éç¤ºä¾æ°é
3. æå»ºå¨æå°æ ·æ¬æç¤ºæ¨¡æ¿ï¼èªå¨ééè¾å¥é¿åº¦çæåè§ Prompt
4. åå§å DeepSeek æ¨¡åå®¢æ·ç«¯ï¼éç½®æ ¸å¿è°ç¨åæ°
5. æå»ºãæç¤ºæ¨¡æ¿ â å¤§æ¨¡å â è¾åºè§£æãçé¾å¼è°ç¨æµç¨
6. è°ç¨é¾æ¡å®æåä¹è¯çæï¼å¹¶è¾åºçº¯ææ¬ç»æ
</code></pre>
</div>
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">&nbsp;</div>
</div>
</div>
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">&nbsp;</div>
<h2 style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">äºãæ ¸å¿éç¹æè§£ï¼å¿ææ¡ï¼</h2>
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">&nbsp;</div>
<h3 style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">1. å°æ ·æ¬æç¤ºï¼Few-Shot Promptï¼æ ¸å¿ç»ä»¶</h3>
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">&nbsp;</div>
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">è¿æ¯å®ç°ãæ¨¡ååèç¤ºä¾çæç»æãçåºç¡ï¼ä¹æ¯ LangChain æç¤ºå·¥ç¨çæ ¸å¿ç¨æ³ï¼</div>
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">&nbsp;</div>
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">&nbsp; &nbsp;<code style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px Consolas, Monaco, Andale Mono, Ubuntu Mono, monospace; text-align: start; white-space: pre; display: inline; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">- ç¤ºä¾æ°æ®éï¼examplesï¼ï¼ä»¥é®å¼å¯¹å½¢å¼å­å¨ãè¾å¥-è¾åºãç¤ºä¾ï¼ä¸ºæ¨¡åæä¾ä»»å¡åèï¼å¦"å¼å¿"â"ä¼¤å¿"ï¼ï¼</code></div>
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none"><code style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px Consolas, Monaco, Andale Mono, Ubuntu Mono, monospace; text-align: start; white-space: pre; display: inline; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none"> - åç¤ºä¾æ¨¡æ¿ï¼example_promptï¼ï¼å®ä¹åä¸ªç¤ºä¾çææ¬æ ¼å¼ï¼Input/Output åºå®æ ·å¼ï¼ï¼ç»ä¸ç¤ºä¾å±ç¤ºå½¢å¼ï¼</code></div>
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: flex; flex: 0 1 auto; flex-direction: column; padding: 0; margin: 8px 0 0; background: none">
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none" dir="ltr">
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">
<pre><code style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px Consolas, Monaco, Andale Mono, Ubuntu Mono, monospace; text-align: start; white-space: pre; display: inline; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">- å¨æå°æ ·æ¬æ¨¡æ¿ï¼FewShotPromptTemplateï¼ï¼æ´åç¤ºä¾éæ©å¨ãåç¤ºä¾æ¨¡æ¿ãåç¼/åç¼ï¼çææç»åç»æ¨¡åçå®æ´ Promptï¼
  - prefixï¼ä»»å¡æä»¤ï¼"ç»åºæ¯ä¸ªè¾å¥çåä¹è¯"ï¼ï¼æç¡®æ¨¡åè¦æ§è¡çä»»å¡ï¼
  - suffixï¼å¾å¡«åçç¨æ·è¾å¥å ä½ç¬¦ï¼æ¿æ¥å¨æè¾å¥åå®¹ã
</code></pre>
</div>
</div>
</div>
<h3 style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">2. å¨æç¤ºä¾éæ©å¨ï¼LengthBasedExampleSelectorï¼</h3>
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">&nbsp;</div>
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">è¿æ¯ä»£ç çæ ¸å¿äº®ç¹ï¼è§£å³ãåºå®ç¤ºä¾æ°éæè¶ä¸ä¸æé¿åº¦ãçé®é¢ï¼</div>
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: flex; flex: 0 1 auto; flex-direction: column; padding: 0; margin: 8px 0 0; background: none">
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none" dir="ltr">
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">
<pre><code style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px Consolas, Monaco, Andale Mono, Ubuntu Mono, monospace; text-align: start; white-space: pre; display: inline; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">æ ¸å¿ä½ç¨ï¼æ ¹æ®è¾å¥ææ¬çé¿åº¦ï¼èªå¨è®¡ç®å¹¶éæ©åéæ°éçç¤ºä¾ï¼è¾å¥è¶é¿ï¼éçç¤ºä¾è¶å°ï¼ï¼é¿å Prompt æ»é¿åº¦è¶åºæ¨¡åä¸ä¸æéå¶ï¼
å³é®åæ°ï¼
  - examplesï¼åéç¤ºä¾åè¡¨ï¼
  - example_promptï¼ç¤ºä¾æ ¼å¼åæ¨¡æ¿ï¼ç¨äºè®¡ç®åç¤ºä¾é¿åº¦ï¼ï¼
  - max_lengthï¼Prompt åè®¸çæå¤§é¿åº¦ï¼æ­¤å¤ä¸ºå­ç¬¦æ°è¿ä¼¼å¼ï¼ã
</code></pre>
</div>
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">&nbsp;</div>
</div>
</div>
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">&nbsp;</div>
<h3 style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">3. LangChain é¾å¼è°ç¨ï¼| æä½ç¬¦ï¼</h3>
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">&nbsp;</div>
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">ç®åå¤ç»ä»¶åä½æµç¨ï¼æ¯ LangChain æ ¸å¿è®¾è®¡çå¿µï¼</div>
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: flex; flex: 0 1 auto; flex-direction: column; padding: 0; margin: 8px 0 0; background: none">
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none" dir="ltr">
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">
<pre><code style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px Consolas, Monaco, Andale Mono, Ubuntu Mono, monospace; text-align: start; white-space: pre; display: inline; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">- é¾æ¡ææï¼dynamic_promptï¼çæ Promptï¼ | llmï¼è°ç¨æ¨¡åï¼ | output_parserï¼è§£æç»æï¼ï¼
- æ ¸å¿ä¼å¿ï¼æ éæå¨åæ­¥è°ç¨ï¼åæ ¼å¼å Promptãåè°ç¨æ¨¡åãæåè§£æç»æï¼ï¼ä¸è¡ä»£ç å®æå¨æµç¨ï¼
- è°ç¨æ¹å¼ï¼chain.invoke({"adjective": "ç­æ"}) ä¼ å¥è¾å¥åéï¼ç´æ¥è¿åè§£æåççº¯ææ¬ç»æã
</code></pre>
</div>
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">&nbsp;</div>
</div>
</div>
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">&nbsp;</div>
<h3 style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">4. è¾åºè§£æå¨ï¼StrOutputParserï¼</h3>
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">&nbsp;</div>
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">è§£å³ãæ¨¡åè¿å AIMessage å¯¹è±¡âæåçº¯ææ¬ãçé®é¢ï¼</div>
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: flex; flex: 0 1 auto; flex-direction: column; padding: 0; margin: 8px 0 0; background: none">
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none" dir="ltr">
<div style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px ui-sans-serif, system-ui, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; text-align: start; white-space: normal; display: block; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">
<pre><code style="color: rgba(0, 0, 0, 1); font: 400 16px / 24px Consolas, Monaco, Andale Mono, Ubuntu Mono, monospace; text-align: start; white-space: pre; display: inline; flex: 0 1 auto; flex-direction: row; padding: 0; margin: 0; background: none">æ ¸å¿ä½ç¨ï¼å° LangChain æ¨¡åè¿åç AIMessage ç±»åï¼å« content/metadata ç­å­æ®µï¼è½¬æ¢ä¸ºçº¯å­ç¬¦ä¸²ï¼ç®åç»æä½¿ç¨ï¼
å³é®æ³¨æç¹ï¼é¾å¼è°ç¨ä¸­å·²åå«è§£ææ­¥éª¤ï¼æ éæå¨åæ¬¡è°ç¨ output_parser.invoke()ï¼å¦åä¼æ¥éï¼ã</code></pre>
</div>
</div>
</div>
<p>&nbsp;</p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.0006944444444444445" data-date-updated="2026-01-22 19:32">2026-01-22 19:31</span>&nbsp;
<a href="https://www.cnblogs.com/yclh">ä¸ç¬ä½</a>&nbsp;
éè¯»(<span id="post_view_count">47</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19518845);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19518845', targetLink: 'https://www.cnblogs.com/yclh/p/19518845', title: 'AIå¼å-python-langchainæ¡æ¶ï¼1-4å¨æå°æ ·æ¬æç¤ºï¼' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
        </channel>
        </rss>