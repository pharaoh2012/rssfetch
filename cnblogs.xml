<?xml version="1.0" encoding="UTF-8" ?>
    <rss version="2.0">
    <channel>
        <title><![CDATA[ ä¸»é¡µ - åå®¢å­ ]]></title>
        <link><![CDATA[ https://www.cnblogs.com/ ]]></link>
        <lastBuildDate>2025-12-27T01:15:29.330Z</lastBuildDate>
        <description><![CDATA[
        ä¸»é¡µ - åå®¢å­ RSS
    ]]></description>
        <language>zh-cn</language>
        <item>
    <title><![CDATA[ æä¸ºé«çº§ PHP å¼åèéè¦çæç»´è½¬å ]]></title>
    <link>https://www.cnblogs.com/catchadmin/p/19407447</link>
    <guid>d8023cb976048a33f39d21fdee08e8c5</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/catchadmin/p/19407447" title="åå¸äº 2025-12-27 08:14">
    <span role="heading" aria-level="2">æä¸ºé«çº§ PHP å¼åèéè¦çæç»´è½¬å</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="æä¸ºé«çº§-php-å¼åèéè¦çæç»´è½¬å">æä¸ºé«çº§ PHP å¼åèéè¦çæç»´è½¬å</h1>
<p>æ³æä¸º PHP é«æ?åä»è°æ´æç»´å¼å§</p>
<p>æ³æä¸ºä¸ä¸ç PHP å¼åè?è¿å¾å¥½ãä½å¨æ·±å¥ç ç©¶ PHP è¯­æ³æææ°æ¡æ¶ä¹å,æä¸ä»¶äºä½ éè¦æç¡®:ä½ çæç»´æ¹å¼ã</p>
<p>äºå®ä¸,è¿ä¸ä»ä»æ¯åä»£ç ââæä¸º PHP ä¸ä¸äººå£«æå³çç¨ä¸åçæ¹å¼æèãè¿å³ä¹ä½ å¦ä½å¤çé®é¢ãå¦ä½ä¸ä»äººåä½,ä»¥åå¦ä½æé¿ãå½ç¶,æ·±å¥äºè§£ PHP å¾éè¦,ä½æ­£ç¡®çæç»´æ¹å¼ææ¯å¨ PHP é¢åè±é¢èåºççæ­£å³é®ã</p>
<p>æ¬æå°è®¨è®ºè½è®©ä½ ä» PHP æ°ææé¿ä¸ºä¸ä¸å¼åèçå³é®æç»´è½¬åãåå¤å¥½æåäºå?å¼å§å§ã</p>
<p><a href="https://catchadmin.com/post/2025-12/the-mindset-shifts-you-need-to-become-a-rockstar-php-developer" target="_blank" rel="noopener nofollow">åæé¾æ¥ æä¸ºé«çº§ PHP å¼åèéè¦çæç»´è½¬å</a></p>
<h2 id="è½¬å-1ä»åªæ¯åä»£ç å°è§£å³å®éé®é¢">è½¬å 1:ä»"åªæ¯åä»£ç "å°"è§£å³å®éé®é¢"</h2>
<p>åä»£ç å¾é·,ä½è§£å³é®é¢æ´é·</p>
<p>è¯´å®è¯:ä»»ä½äººé½è½åä»£ç ãä½ååºè½è§£å³å®éé®é¢çä»£ç ?è¿ææ¯å³é®æå¨ãä½ä¸ºåå­¦è,å¾å®¹æè¿·å¤±å¨è¯­æ³ç»èåå½æ°è°ç¨ä¸­,ä½éç¹æ¯:ç¼ç åªæ¯å·¥å·ãä½ä¸º PHP å¼åè,ä½ çå·¥ä½ä¸ä»ä»æ¯æ²ä»£ç ââèæ¯ä»¥æä½³æ¹å¼è§£å³é®é¢ã</p>
<p><strong>ææ¯å®è·µ:å¨ç¼ç åååè§£é®é¢</strong></p>
<p>å¨æå¼ä»£ç ç¼è¾å¨ä¹å,åå°é®é¢åè§£æå¯ç®¡ççå°åãä½¿ç¨æµç¨å¾æä¼ªä»£ç ç­å·¥å·æ¥è§åé»è¾ãè¿ç§æ¹æ³ä¸ä»è½çæ¸æè·¯,è¿è½å¸®ä½ å°½æ©åç°è¾¹çæåµåæ½å¨é·é±ã</p>
<p>ç¤ºä¾:<br>
æå»ºè´­ç©è½¦æ¶,åä¸ºæ·»å ååãè®¡ç®æ»ä»·åç®¡çä¼è¯æä¹åç¼åä¼ªä»£ç ãç¶åå¨ PHP ä¸­ææ¡ä¸ç´å°å®ç°æ¯ä¸æ­¥ãä¾å¦:</p>
<pre><code class="language-php">// Pseudocode: Add item to cart
if (!isset($_SESSION['cart'])) {
    $_SESSION['cart'] = array();
}
array_push($_SESSION['cart'], $item);
</code></pre>
<p>è¿ç§ç»æåæ¹æ³å°ç¼ç è½¬åä¸ºè§£å³é®é¢,èä¸ä»ä»æ¯éæåä»£ç ã</p>
<h2 id="è½¬å-2ä»å¤å¶ç²è´´ç¼ç å°çè§£å¹¶ææ§ä½ çä»£ç ">è½¬å 2:ä»"å¤å¶ç²è´´ç¼ç "å°"çè§£å¹¶ææ§ä½ çä»£ç "</h2>
<p>å«åå·æå¤å¶ç²è´´äº(æä»¬é½ç»åè¿)</p>
<p>è¿å¾è¯±äºº,å¯¹å§?å¨ Stack Overflow ä¸æ¾å°å¿«éè§£å³æ¹æ¡,å¤å¶ç²è´´ä»£ç ,ç¶åæ¶å·¥ãä½ç°å®æ¯:è¿å¨ç­æåå¯è½ææ,ä½ä»é¿è¿æ¥çæ¯ç¾é¾ãå¦æä½ ä¸çè§£æ­£å¨ä½¿ç¨çä»£ç ,å°±ä¼éå°æ æ³ä¿®å¤çé®é¢ââæ´ç³çæ¯,ä½ ä¼éè¿å­¦ä¹ å¦ä½ç¼åçæ­£éåä½ çä»£ç çæºä¼ã</p>
<p><strong>ææ¯å®è·µ:éè¯»ææ¡£å¹¶å¨æ¬å°æµè¯</strong></p>
<p>ä¸è¦ç´æ¥å¤å¶ç²è´´,èæ¯åéè¯»ææ¡£ãè¿å¯¹çè§£å½æ°ååºçå·¥ä½åçè³å³éè¦ãä¸æ¦ææ¡äºæ¦å¿µ,å°±å¨éç¦»ç¯å¢ä¸­æµè¯å®(ä½¿ç¨ PHP FPM æ Xdebug ç­å·¥å·)æ¥è§å¯å®çè¡ä¸ºã</p>
<p>ç¤ºä¾:<br>
å¨ä½¿ç¨ç¬¬ä¸æ¹ API ä¹å,å½»åºéè¯»å¶ææ¡£ãå°è¯ç®åç curl è¯·æ±æ¥æ¥çæ°æ®æ ¼å¼ä»¥å PHP å¦ä½å¤çå®ãä¸è¦åªä¾èµæç¨ââèªå·±å¨æè¯è¯ãä»¥ä¸æ¯å¨ PHP ä¸­å API åèµ·è¯·æ±çå¿«éç¤ºä¾:</p>
<pre><code class="language-php">// Example: Using cURL to send a GET request
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, "https://api.example.com/data");
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
$response = curl_exec($ch);
curl_close($ch);
$data = json_decode($response, true);
print_r($data);
</code></pre>
<p>ç°å¨,ä½ çè§£äºè¯·æ±è¿ç¨ä»¥å API å¦ä½ååºã</p>
<h2 id="è½¬å-3ä»ç¬ç«å¼åå°å¢éåä½">è½¬å 3:ä»"ç¬ç«å¼å"å°"å¢éåä½"</h2>
<p>ä½ ä¸æ¯ä¸ä¸ªäººå¨ææ</p>
<p>æ¯ç,ç¬èªå®æå°é¡¹ç®ä¸å¼å§æè§å¾å¥½ãä½ä¸æ¦è¿å¥ä¸ä¸é¢å,ç¼ç å°±åæäºå¢éè¿å¨ãä½ä¸º PHP å¼åè,ä½ ç»å¸¸ä¼ä¸åç«¯å¼åèãæ°æ®åºç®¡çåãè®¾è®¡å¸,ææ¶çè³æ¯é¡¹ç®ç»çä¸èµ·å·¥ä½ãä½ ä¸åæ¯ä¸æ¯åäººåéââä½ æ¯æ´å¤§å¾æ¯çä¸é¨åã</p>
<p><strong>ææ¯å®è·µ:è®¤çä½¿ç¨çæ¬æ§å¶(Git)</strong></p>
<p>åä½æå³çå±äº«ä»£ç åè·è¸ªåæ´ãè¿å°±æ¯çæ¬æ§å¶çç¨æ­¦ä¹å°ãå­¦ä¹  Git å¹¶ä½¿ç¨ GitHub æ GitLab ç­å¹³å°å°ä½¿ä½ çä»£ç åä½é¡ºçé«æãä½¿ç¨ Git,ä½ å¯ä»¥è·è¸ªåæ´ãåéå°ä»¥åççæ¬,å¹¶åå¹¶å¤ä¸ªå¼åèçä»£ç èä¸ä¼æ··ä¹±ã</p>
<p>ç¤ºä¾:</p>
<pre><code class="language-bash"># Initialize a new Git repository
git init
# Add files to the staging area
git add .
# Commit changes with a message
git commit -m "Initial commit"
# Push changes to a remote repository
git push origin main
</code></pre>
<p>Git ä¸ä»éç¨äºå¤§åå¢éââå®å¯¹ä¸ªäººé¡¹ç®ä¹è³å³éè¦,å ä¸ºå®è½å¸®ä½ ææç®¡çåæ´ãä¸ä»äººåä½æ¶,æåè¯·æ±åä»£ç å®¡æ¥å¯¹äºç»´æ¤é«è´¨éä»£ç è³å³éè¦ã</p>
<h2 id="è½¬å-4ä»è¿½éæµè¡æ¡æ¶å°ææ¡åºç¡">è½¬å 4:ä»"è¿½éæµè¡æ¡æ¶"å°"ææ¡åºç¡"</h2>
<p>æ¡æ¶å¾æè¶£,ä½åºç¡ææ¯æ°¸æç</p>
<p>LaravelãSymfony å CodeIgniter ç­ PHP æ¡æ¶å¾æ£,ä½é®é¢æ¯:å¨æ·±å¥ç ç©¶ä»»ä½æ¡æ¶ä¹å,ä½ éè¦å¯¹ PHP æ¬èº«ææå®ççè§£ãå¨ä¸çè§£åºç¡çæåµä¸ç´æ¥è·³å¥æ¡æ¶,å°±åå¨å­¦ä¼èµ°è·¯ä¹åå°±æ³è·æ­¥ã</p>
<p><strong>ææ¯å®è·µ:ä»é¶å¼å§æå»ºé¡¹ç®</strong></p>
<p>å¨æ·±å¥ç ç©¶ Laravel ç­æ¡æ¶ä¹å,è±æ¶é´ä½¿ç¨çº¯ PHP ä»é¶å¼å§æå»ºä¸ä¸ªç®åé¡¹ç®ãä¾å¦,æå»ºä¸ä¸ªç®åç CRUD(åå»ºãè¯»åãæ´æ°ãå é¤)åºç¨,èä¸ä¾èµä»»ä½æ¡æ¶ãè¿å°å·©åºä½ å¯¹ä»¥ä¸åå®¹ççè§£:</p>
<ul>
<li>è·¯ç±</li>
<li>æ°æ®åºäº¤äº</li>
<li>ä¼è¯å¤ç</li>
<li>ç¨æ·è®¤è¯</li>
</ul>
<p>ç¤ºä¾:<br>
ä»¥ä¸æ¯å¦ä½ä½¿ç¨ PHP å MySQL è®¾ç½®åºæ¬ CRUD åºç¨:</p>
<ol>
<li>åå»ºæ°æ®åºè¡¨:</li>
</ol>
<pre><code class="language-sql">CREATE TABLE users (
  id INT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(100),
  email VARCHAR(100)
);
</code></pre>
<ol start="2">
<li>ä½¿ç¨ PHP æå¥æ°æ®:</li>
</ol>
<pre><code class="language-php">// Establish a connection
$conn = new mysqli("localhost", "username", "password", "database");
// Check for connection error
if ($conn-&gt;connect_error) {
    die("Connection failed: " . $conn-&gt;connect_error);
}
// Insert data
$sql = "INSERT INTO users (name, email) VALUES ('John Doe', 'john@example.com')";
if ($conn-&gt;query($sql) === TRUE) {
    echo "New record created successfully";
} else {
    echo "Error: " . $sql . "&lt;br&gt;" . $conn-&gt;error;
}
$conn-&gt;close();
</code></pre>
<p>å¨ä¸ä½¿ç¨æ¡æ¶çæåµä¸æå»ºé¡¹ç®å°è®©ä½ æ·±å¥çè§£åºå±å·¥ä½åç,è¿ä¼è®©ä½ å¨ä¹åä½¿ç¨ Laravel ç­æ¡æ¶æ¶æè§è½»æ¾è®¸å¤ã</p>
<h2 id="è½¬å-5ä»ä¸æ¬¡æ§å­¦ä¹ å°æç»­å­¦ä¹ ">è½¬å 5:ä»"ä¸æ¬¡æ§å­¦ä¹ "å°"æç»­å­¦ä¹ "</h2>
<p>å­¦ä¹ æ°¸æ æ­¢å¢</p>
<p>å¦æä½ è®¤ä¸ºå­¦å® PHP åå ä¸ªæ¡æ¶å°±"å®æ"äº,é£å°±åæ³æ³ãææ¯ä¸çåå±è¿é,ä½ä¸ºä¸ä¸å¼åè,ä½ éè¦è·ä¸æ­¥ä¼ãä¼ç§ç PHP å¼åèä¸ä»ä»æ¯ç¥éå¦ä½åä»£ç çäºº;èæ¯ä¸æ­è¿åãéåºå¹¶ä¿æå¥½å¥å¿çäººã</p>
<p><strong>ææ¯å®è·µ:å³æ³¨ PHP åæ´æ¥å¿ååå®¢</strong></p>
<p>åæ¶äºè§£ PHP çæ¬åæä½³å®è·µãè®¢éåå®¢,å³æ³¨ PHP ç¸å³æ°é»,å¹¶éè¯»æ¯ä¸ªæ°çæ¬åå¸çå®æ¹ PHP åæ´æ¥å¿ãäºè§£ PHP 8 ä¸­çæ°ç¹æ§(å¦ JIT åå±æ§)å°ä½¿ä½ çä»£ç ä¿æç°ä»£åé«æã</p>
<p>ç¤ºä¾:<br>
å¨ PHP 8 ä¸­,match è¡¨è¾¾å¼å¯ä»¥æä¸º switch-case çæ´ç®æ´æ¿ä»£æ¹æ¡ãå¦æä½ è¿æ²¡è¯è¿,ç°å¨å°±è¯è¯!</p>
<pre><code class="language-php">$fruit = 'apple';
echo match($fruit) {
    'apple' =&gt; 'It's an apple!',
    'banana' =&gt; 'It's a banana!',
    default =&gt; 'Unknown fruit',
};
</code></pre>
<p>è¿ç§æ°è¯­æ³æ´ç´§å,æ¶é¤äºå¤ä¸ª case è¯­å¥çéè¦ã</p>
<h2 id="è½¬å-6ä»å¿«éä¿®å¤å°é¿æè§£å³æ¹æ¡">è½¬å 6:ä»"å¿«éä¿®å¤"å°"é¿æè§£å³æ¹æ¡"</h2>
<p>ååºä½ ä¼å¼ä»¥ä¸ºè±ªçä»£ç (èä¸ä»ä»æ¯è½ç¨çä»£ç )</p>
<p>æä»¬é½ç»åè¿ãç´§è¿«çæªæ­¢æ¥æãåå,ä»¥åéä¾¿æ¼åç¹ä¸è¥¿çè¯±æãä½é®é¢æ¯:ç¼åå¿«éèç²ç³çä»£ç ç°å¨å¯è½å®æå·¥ä½,ä½ä»¥åä¼åå¬ä½ ãç³ç³çä»£ç ä¼å¯¼è´ bugãæ§è½é®é¢åå·¨å¤§çéº»ç¦ã</p>
<p><strong>ææ¯å®è·µ:ç¼åå¯æµè¯ãå¯æ©å±çä»£ç </strong></p>
<p>ç¡®ä¿ä»£ç ä¿ææ´æ´åå¯æ©å±çä¸ç§æ¹æ³æ¯ç¼åæµè¯ãä½¿ç¨ PHPUnit è¿è¡ååæµè¯æ¥éªè¯ä»£ç çæ¯ä¸ªé¨åæ¯å¦æé¢æå·¥ä½ã</p>
<p>ç¤ºä¾:<br>
ä»¥ä¸æ¯ä¸ä¸ªç®åç PHPUnit æµè¯,ç¨äºæµè¯è®¡ç®è´­ç©è½¦ä¸­ååæ»ä»·çæ¹æ³:</p>
<pre><code class="language-php">use PHPUnit\Framework\TestCase;
class ShoppingCartTest extends TestCase
{
    public function testTotalPrice()
    {
        $cart = new ShoppingCart();
        $cart-&gt;addItem('Apple', 1.50);
        $cart-&gt;addItem('Banana', 1.00);
        
        $this-&gt;assertEquals(2.50, $cart-&gt;getTotalPrice());
    }
}
</code></pre>
<p>ååæµè¯æå©äºå°½æ©åç° bug,å¹¶ç¡®ä¿å¨æ·»å æ°åè½æ¶,ç°æåè½ä¸ä¼åºé®é¢ã</p>
<h2 id="ç»è¯­è½¬åæç»´è®©ä½ ç-php-èä¸çæ¶¯è¾é£">ç»è¯­:è½¬åæç»´,è®©ä½ ç PHP èä¸çæ¶¯è¾é£</h2>
<p>æä¸º PHP ä¸ä¸äººå£«è¿ä¸æ­¢äºåä»£ç ââè¿å³ä¹åé®é¢è§£å³èä¸æ ·æèãæ·±å¥çè§£ä½ çå·¥å·ãä¸ä»äººåä½,ä»¥åè´åäºæç»­æé¿ãå¦æä½ ä»å¤©å¼å§è¿è¡è¿äºæç»´è½¬å,ä½ å°é¡ºå©æä¸ºä¸åæ¢æç PHP å¼åèã</p>
<p>æä»¥,ä¸æ¬¡åä¸æ¥ç¼ç æ¶,è®°ä½:è¿ä¸ä»ä»æ¯å®æå·¥ä½ââèæ¯ä»¥æ­£ç¡®çæ¹å¼ãä¸ä¸çæ¹å¼å»åãç¥ç¼ç æå¿«!</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.0020833333333333333" data-date-updated="2025-12-27 08:17">2025-12-27 08:14</span>&nbsp;
<a href="https://www.cnblogs.com/catchadmin">JaguarJack</a>&nbsp;
éè¯»(<span id="post_view_count">9</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19407447);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19407447', targetLink: 'https://www.cnblogs.com/catchadmin/p/19407447', title: 'æä¸ºé«çº§ PHP å¼åèéè¦çæç»´è½¬å' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ä¸é¶ä½éæ»¤æ³¢å¨ï¼LPFï¼ä½¿ç¨è¯¦è®² ]]></title>
    <link>https://www.cnblogs.com/lsksp/p/19406964</link>
    <guid>fb1e4f7b048038ae5a91a9c2acad9913</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/lsksp/p/19406964" title="åå¸äº 2025-12-27 00:10">
    <span role="heading" aria-level="2">ä¸é¶ä½éæ»¤æ³¢å¨ï¼LPFï¼ä½¿ç¨è¯¦è®²</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        ä¸é¶ä½éæ»¤æ³¢å¨ï¼Low Pass Filterï¼LPFï¼çæ ¸å¿ä½ç¨æ¯ï¼åè®¸è¾å¥ä¿¡å·ä¸­é¢çä½äºè®¾å®æªæ­¢é¢ççæåéè¿ï¼è¡°åæå°ï¼ï¼é»éæå¤§å¹è¡°åé«äºæªæ­¢é¢ççé«é¢åªå£°ï¼ä»èè·å¾æ´çº¯åçç®æ ä¿¡å·ã
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>ä¸é¶ä½éæ»¤æ³¢å¨ï¼Low Pass Filterï¼LPFï¼çæ ¸å¿ä½ç¨æ¯ï¼åè®¸è¾å¥ä¿¡å·ä¸­é¢çä½äºè®¾å®æªæ­¢é¢ççæåéè¿ï¼è¡°åæå°ï¼ï¼é»éæå¤§å¹è¡°åé«äºæªæ­¢é¢ççé«é¢åªå£°ï¼ä»èè·å¾æ´çº¯åçç®æ ä¿¡å·ã</p>
<hr>
<h3 id="ä¸ä¸é¶ä½éæ»¤æ³¢å¨å®ä¹">ä¸ãä¸é¶ä½éæ»¤æ³¢å¨å®ä¹</h3>
<p>å¯¹äºä¸é¶ä½éæ»¤æ³¢èè¨ï¼ä»æ§å¶æ¨¡åä¸åæå°±æ¯ä¸ä¸ªä¸é¶æ¯æ§ç¯èï¼å¶æè¿°å½¢å¼å¦å¼æç¤ºï¼</p>
<p></p><div class="math display">\[H\left( s \right) =\frac{1}{Ts+1}
\]</div><p></p><p></p><div class="math display">\[\text{æ³¨ï¼}T=\frac{1}{w_c}\text{ï¼}w_c=2\pi \cdot f_c\text{ï¼}
\text{å¶ä¸­ï¼}T\text{ä¸ºæ¶é´å¸¸æ°ï¼}w_c\text{ä¸ºè§é¢çï¼}f_c\text{ä¸ºæªæ­¢é¢ç}
\]</div><p></p><p><img alt="bodeå¾" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2921660/202512/2921660-20251227000802641-389685525.png" class="lazyload"></p>
<p>å¹é¢ååºï¼</p>
<p></p><div class="math display">\[\begin{equation}

|H(j\omega)| = \frac{1}{\sqrt{1+(\omega T)^2}} = \frac{1}{\sqrt{1+\left(\frac{\omega}{\omega_c}\right)^2}}

\end{equation}
\]</div><p></p><p>ç¸é¢ååºï¼</p>
<p></p><div class="math display">\[\begin{equation}
\angle H(j\omega) = -\arctan(\omega T) = -\arctan\left(\frac{\omega}{\omega_c}\right)
\end{equation}
\]</div><p></p><p>ç®åæ¥è¯´ï¼ä¸é¶ä½éæ»¤æ³¢å¨å°±åäºä¸ä»¶äºï¼<strong>è®©æ¢çååéè¿ï¼é»éå¿«çååã</strong> å¨å®éå·¥ç¨ä¸­ä½¿ç¨ä¸é¶ä½éæ»¤æ³¢å¨æ¶ï¼éç¹å«æ³¨æä»¥ä¸ç¹ç¹ï¼</p>
<ol>
<li><strong>å¹³æ»ææ</strong>ï¼å®è½æ»¤é¤é«é¢åªå£°ï¼å¦ ADC æå¨ãçµæºçº¹æ³¢ï¼ãæªæ­¢é¢çè®¾å¾è¶ä½ï¼å¯¹è¾å¥ä¿¡å·ååçååºè¶æ¢ã</li>
<li><strong>ç¸ä½æ»å</strong>ï¼è¾åºä¿¡å·æ»æ¯æ¯è¾å¥ä¿¡å·âæ¢åæâãå¨é­ç¯æ§å¶ç³»ç»ï¼å¦ PIDï¼ä¸­ï¼å¦ææ»¤æ³¢å¼ºåº¦è¿å¤§ï¼ä¼å¯¼è´ç³»ç»ååºè¿éçè³éè¡ã</li>
<li><strong>è¡°åç¹æ§</strong>ï¼å¨æªæ­¢é¢ç <code>fc</code> å¤ï¼ä¿¡å·å¹åº¦è¡°åè³<code> -3dB</code>ï¼çº¦ä¸º 0.707 åï¼ï¼ç¸ä½æ»å<code> -45Â°</code></li>
</ol>
<p>æ»¤æ³¢ææå¯¹æ¯å¾å¦ä¸ï¼</p>
<p><img alt="lpf_cutoff_freq_comparison" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2921660/202512/2921660-20251227000817899-813832495.png" class="lazyload"></p>
<h3 id="äºä¸é¶ä½éæ»¤æ³¢å¨çä½¿ç¨">äºãä¸é¶ä½éæ»¤æ³¢å¨çä½¿ç¨</h3>
<p>å¨ä½¿ç¨æ»¤æ³¢å¨åï¼éåæ¸åä¸ªæ ¸å¿æ¦å¿µï¼ä»¥è½¦è½½ IMU ä¸ºä¾ï¼ï¼</p>
<ul>
<li><strong>ä¿¡å·é¢ç</strong>ï¼è½¦è¾å éåº¦çååï¼ä½ æ³æµçï¼è¾æ¢ï¼ï¼</li>
<li><strong>åªå£°é¢ç</strong>ï¼åå¨æºçéå¨ï¼ä½ æ³æ»¤çï¼è¾å¿«ï¼ï¼</li>
<li><strong>éæ ·é¢ç</strong>ï¼ä½ ééæ°æ®çé¢çï¼å¹²æ´»éåº¦ï¼å¿é¡»è¶³å¤å¿«ä»¥çæ¸åªå£°å¹¶æ»¤é¤ï¼ï¼</li>
<li><strong>æªæ­¢é¢ç</strong>ï¼è®¾å®çâåççº¿âï¼åºä»äºä¿¡å·ååªå£°ä¹é´ã</li>
</ul>
<p>å¨å®éå·¥ç¨ä¸­ï¼æä»¬è®¾è®¡æ»¤æ³¢å¨ä¸»è¦æä¸¤ä¸ªæ¹åï¼</p>
<h4 id="1è®¾è®¡ä¼ æå¨ä¸ºäºè¾¾å°ç®æ å»éç¡¬ä»¶">1ãè®¾è®¡ä¼ æå¨ï¼ä¸ºäºè¾¾å°ç®æ å»éç¡¬ä»¶ï¼</h4>
<p>è¿æ¯<strong>èªé¡¶åä¸</strong>çè®¾è®¡æè·¯ãå½æä»¬æç¡®äºéè¦æµéçä¿¡å·åéè¦æ»¤é¤çåªå£°æ¶ï¼åè¿æ¥æ¨ç®ç¡¬ä»¶éæ±ã</p>
<ul>
<li><strong>ç¡®å®èå´</strong>ï¼å·²ç¥ä¿¡å·é¢çï¼å¦ 5 Hzï¼ååªå£°é¢çï¼å¦ 50 Hzï¼ã</li>
<li><strong>è®¾å®åççº¿</strong>ï¼éæ©æªæ­¢é¢ç<code> fc</code> ä»äºäºèä¹é´ï¼å¦ 10 Hzï¼ã</li>
<li><strong>æ¨ç®éæ ·é¢ç</strong>ï¼ä¸ºäºä¿è¯æ°å­æ»¤æ³¢ç®æ³çåç¡®æ§ï¼å·¥ç¨ä¸éå¸¸è¦æ±éæ ·é¢çå¤§äº 10 åçæªæ­¢é¢çï¼ç»éªå¼ï¼ç¡®ä¿æ»¤æ³¢ç²¾åº¦ï¼ãå æ­¤ï¼æä»¬éè¦éæ©éæ ·é¢çè³å°ä¸º 100 Hz çä¼ æå¨ã</li>
</ul>
<h4 id="2ä½¿ç¨ä¼ æå¨æäºç¡¬ä»¶å»è°åæ°">2ãä½¿ç¨ä¼ æå¨ï¼æäºç¡¬ä»¶å»è°åæ°ï¼</h4>
<p>è¿æ¯<strong>èªåºåä¸</strong>çè°è¯æè·¯ãå¨ç¡¬ä»¶éæ ·é¢çåºå®ï¼å¦ IMU éå®å¨ 100 Hzï¼çæåµä¸ï¼å¯»æ¾æªæ­¢é¢ççæä½³è®¾ç½®åºé´ã</p>
<ul>
<li><strong>ç®ä¸é</strong>ï¼å·¥ç¨ä¸éå¸¸è¦æ±éæ ·é¢çå¤§äº 10 åçæªæ­¢é¢çï¼ç»éªå¼ï¼ç¡®ä¿æ»¤æ³¢ç²¾åº¦ï¼ï¼å³æªæ­¢é¢çå°äº 10 Hzã</li>
<li><strong>çä¸é</strong>ï¼ä¸ºäºä¿çææä¿¡å·ï¼æªæ­¢é¢çå¿é¡»å¤§äºä¿¡å·é¢çï¼å¦ 5 Hzï¼ã</li>
<li><strong>å®åæ°</strong>ï¼å¨âä¸éâåâä¸éâçå¤¹ç¼ä¸­éæ©ä¸ä¸ªå¼ï¼å¦ 8 Hzï¼ãå¦æä¿¡å·é¢çé«äºä¸éï¼å¦æ³æµ 50 Hz éå¨ï¼ï¼åè¯´æè¯¥ä¼ æå¨éæ ·é¢çä¸è¶³ï¼æ æ³èä»»ã</li>
</ul>
<h3 id="ä¸cè¯­è¨å®ç°">ä¸ãCè¯­è¨å®ç°</h3>
<p>ä½¿ç¨ä»¥ä¸ä»£ç ï¼è¯·åå«ä»¥ä¸å¬å±åå®¹</p>
<pre><code class="language-C">#include &lt;stdint.h&gt;
#include &lt;math.h&gt;  /* åçº¿æ§åæ¢æ³éè¦ç¨å° tanf */

#ifndef PI
#define PI 3.14159265358979323846f
#endif

</code></pre>
<h4 id="1ååå·®åæ¹æ³backward-difference">1ãååå·®åæ¹æ³ï¼Backward Differenceï¼</h4>
<p>è¿æ¯æç»å¸ãæç¨³å¥çå®ç°æ¹å¼ãå®å©ç¨ä¸ä¸æ¶å»çè¾åºå¼è¿è¡éæ¨ï¼æ°å¼ç¨³å®æ§é«ï¼<strong>æ æ¡ä»¶ç¨³å®</strong>ãéç¨äºç»å¤§å¤æ°ä¼ æå¨æ»¤æ³¢ãçµæºæ§å¶ç­éç¨åºæ¯ãè¥è°è¯ä¸­åç°æ°æ®æææ¾çç¸ä½æ»åï¼å¯éå½å¢å¤§æªæ­¢é¢çã</p>
<pre><code class="language-C">#include &lt;stdint.h&gt; /* æ¨èåå«æ åç±»åå®ä¹ */


/**
 * @brief       ååå·®åæ³ä¸é¶ä½éæ»¤æ³¢å¨ç»æä½
 */
typedef struct
{
	float alpha;           /* æ»¤æ³¢ç³»æ° */
	float one_minus_alpha; /* é¢è®¡ç®ç (1 - alpha) */
	float last_output;     /* ä¸ä¸æ¬¡æ»¤æ³¢è¾åºå¼ */
	float cutoff_freq;     /* æªæ­¢é¢ç */
	float sample_freq;     /* éæ ·é¢ç */
} LPF_BackwardEuler;

/**
 * @brief       ååå·®åæ³ä¸é¶ä½éæ»¤æ³¢å¨åå§åå½æ°
 * @param       filter : æ»¤æ³¢å¨ç»æä½æé
 * @param       cutoff_freq : æªæ­¢é¢ç
 * @param       sample_freq : éæ ·é¢ç
 * @retval      0:æå, -1:åæ°éè¯¯
 * @note        å»ºè®® sample_freq è³å°ä¸º cutoff_freq ç 10 åä»¥è·å¾è¾å¥½çææ
 */
int lpf_backward_euler_init(LPF_BackwardEuler *filter, float cutoff_freq, float sample_freq)
{
	if (filter == NULL || cutoff_freq &lt;= 0.0f || sample_freq &lt;= 0.0f)
	{
		return -1;
	}
    
	/* 
	* éå¶éæ ·çä¸å¾ä½äºå¥å¥æ¯ç¹é¢ç (2å)ï¼å¦åæ æ³éæä¿¡å·ã
	* å®éå·¥ç¨ä¸­ä¸ºäºæ»¤æ³¢ææï¼éå¸¸å»ºè®® 10 åä»¥ä¸ã
	*/
	if (sample_freq &lt; 2.0f * cutoff_freq)
	{
		return -1; 
	}
	

	float tau = 1.0f / (2.0f * PI * cutoff_freq);
	float ts = 1.0f / sample_freq;
	filter-&gt;alpha = ts / (tau + ts);
	
	filter-&gt;one_minus_alpha = 1.0f - filter-&gt;alpha;
	
	/* åå§åç»æä½æå */
	filter-&gt;cutoff_freq = cutoff_freq;
	filter-&gt;sample_freq = sample_freq;
	filter-&gt;last_output = 0.0f;
	
	return 0;
}

/**
 * @brief       ååå·®åæ³ä¸é¶ä½éæ»¤æ³¢å¨è®¡ç®å½æ°
 * @param       filter : æ»¤æ³¢å¨ç»æä½æé
 * @param       input : å½åè¾å¥å¼
 * @retval      æ»¤æ³¢åçè¾åºå¼
 */
float lpf_backward_euler_update(LPF_BackwardEuler *filter, float input)
{
	float output;
	
	if (filter == NULL)
	{
		return input; 
	}
	
	/* æ ¸å¿å¬å¼ï¼y[n] = alpha * x[n] + (1 - alpha) * y[n-1] */
	output = filter-&gt;alpha * input + filter-&gt;one_minus_alpha * filter-&gt;last_output;
	
	filter-&gt;last_output = output;
	
	return output;
}

/**
 * @brief       éç½®ååå·®åæ³ä¸é¶ä½éæ»¤æ³¢å¨ç¶æ
 * @param       filter : æ»¤æ³¢å¨ç»æä½æé
 * @param       init_val : éç½®åçåå§è¾åºå¼
 * @retval      0:æå, -1:åæ°éè¯¯
 */
int lpf_backward_euler_reset(LPF_BackwardEuler *filter, float init_val)
{
	if (filter == NULL)
	{
		return -1;
	}
	
	filter-&gt;last_output = init_val;
	return 0;
}

</code></pre>
<h4 id="2ååå·®åæ³forward-difference">2ãååå·®åæ³ï¼Forward Differenceï¼</h4>
<p>å¬å¼ç®åï¼ä½å±äº<strong>æ¾å¼æ¬§ææ³</strong>ï¼åªæå¨ç¹å®æåµä¸æç¨³å®ãç±äºå¯¹éæ ·é¢çåæªæ­¢é¢ççæ¯ä¾ææï¼å®¹æåºç°åæ£ãé¤éæç¹æ®çæä½é¢éæ±æå¯¹ä»£ç æå¶ç®åï¼å¦åä¸è¬ä¸æ¨èã</p>
<pre><code class="language-c">/**
 * @brief       ååå·®åæ³ä¸é¶ä½éæ»¤æ³¢å¨ç»æä½
 */
typedef struct
{
	float alpha;           /* æ»¤æ³¢ç³»æ° (omega * Ts) */
	float one_minus_alpha; /* é¢è®¡ç®ç (1 - alpha) */
	float last_input;      /* ä¸ä¸æ¬¡æ»¤æ³¢è¾å¥å¼ x[n-1] */
	float last_output;     /* ä¸ä¸æ¬¡æ»¤æ³¢è¾åºå¼ y[n-1] */
	float cutoff_freq;     /* æªæ­¢é¢ç */
	float sample_freq;     /* éæ ·é¢ç */
} LPF_ForwardDifference;

/**
 * @brief       ååå·®åæ³ä¸é¶ä½éæ»¤æ³¢å¨åå§åå½æ°
 * @param       filter : æ»¤æ³¢å¨ç»æä½æé
 * @param       cutoff_freq : æªæ­¢é¢ç
 * @param       sample_freq : éæ ·é¢ç
 * @retval      0:æå, -1:åæ°éè¯¯
 */
int lpf_forward_difference_init(LPF_ForwardDifference *filter, float cutoff_freq, float sample_freq)
{
	if (filter == NULL || cutoff_freq &lt;= 0.0f || sample_freq &lt;= 0.0f)
	{
		return -1;
	}
	
	/* 
	* ååå·®åæ³è½ç¶æçè®ºç¨³å®æé (PI * fc)ï¼ä½å¨æ¥è¿æéæ¶è¯¯å·®æå¤§ã
	* æ­¤å¤å¼ºå¶æ§è¡ 10 åè§åï¼ç¡®ä¿å·¥ç¨åºç¨çå¯é æ§ã
	*/
	if (sample_freq &lt; 10.0f * cutoff_freq)
	{
		return -1; 
	}
	
	/* è®¡ç®è¿ç¨ç³»æ° */
	float tau = 1.0f / (2.0f * PI * cutoff_freq);
	float ts = 1.0f / sample_freq;
	filter-&gt;alpha = ts / tau;
	filter-&gt;one_minus_alpha = 1.0f - filter-&gt;alpha;
	
	/* åå§åç»æä½æå */
	filter-&gt;cutoff_freq = cutoff_freq;
	filter-&gt;sample_freq = sample_freq;
	filter-&gt;last_input = 0.0f;
	filter-&gt;last_output = 0.0f;
	
	return 0;
}

/**
 * @brief       ååå·®åæ³ä¸é¶ä½éæ»¤æ³¢å¨è®¡ç®å½æ°
 * @param       filter : æ»¤æ³¢å¨ç»æä½æé
 * @param       input : å½åè¾å¥å¼
 * @retval      æ»¤æ³¢åçè¾åºå¼
 */
float lpf_forward_difference_update(LPF_ForwardDifference *filter, float input)
{
	float output;
	
	if (filter == NULL)
	{
		return input; 
	}
	
	/* y[n] = (1 - Ts/Tau)y[n-1] + (Ts/Tau)x[n-1] */
	output = filter-&gt;one_minus_alpha * filter-&gt;last_output + filter-&gt;alpha * filter-&gt;last_input;
	
	/* æ´æ°åå²å¼ï¼å½åè¾å¥ä½ä¸ºä¸ä¸æ¬¡çåå²è¾å¥ */
	filter-&gt;last_input = input;
	filter-&gt;last_output = output;
	
	return output;
}

/**
 * @brief       éç½®ååå·®åæ³ä¸é¶ä½éæ»¤æ³¢å¨ç¶æ
 * @param       filter : æ»¤æ³¢å¨ç»æä½æé
 * @param       init_val : éç½®åçåå§è¾åºå¼
 * @retval      0:æå, -1:åæ°éè¯¯
 */
int lpf_forward_difference_reset(LPF_ForwardDifference *filter, float init_val)
{
	if (filter == NULL)
	{
		return -1;
	}
	
	filter-&gt;last_input = init_val;
	filter-&gt;last_output = init_val;
	
	return 0;
}
</code></pre>
<h4 id="3åçº¿æ§åæ¢æ³tustin--bilinear">3ãåçº¿æ§åæ¢æ³ï¼Tustin / Bilinearï¼</h4>
<p>éè¿åçº¿æ§åæ¢å°æ¨¡æåæ å°å°æ°å­åãå®ä¸ä»è½å©ç¨å½åè¾å¥ï¼è¿å©ç¨äºåå²è¾å¥åè¾åºï¼å¶<strong>é¢çååºç¹æ§ææ¥è¿</strong>çè®ºæ¨¡ææ»¤æ³¢å¨ãéç¨äºå¯¹å¹é¢ç¹æ§è¦æ±è¾é«çé³é¢å¤çãä¿¡å·åæï¼æéæ ·é¢çç¸å¯¹è¾ä½çç²¾å¯æ§å¶åºåã</p>
<pre><code class="language-C">/**
 * @brief       åçº¿æ§åæ¢æ³ä¸é¶ä½éæ»¤æ³¢å¨ç»æä½
 */
typedef struct
{
	float b0;             /* è¾å¥ç³»æ° b0 */
	float b1;             /* è¾å¥ç³»æ° b1 */
	float a1;             /* åé¦ç³»æ° a1 */
	float last_input;     /* ä¸ä¸æ¬¡æ»¤æ³¢è¾å¥å¼ x[n-1] */
	float last_output;    /* ä¸ä¸æ¬¡æ»¤æ³¢è¾åºå¼ y[n-1] */
	float cutoff_freq;    /* æªæ­¢é¢ç */
	float sample_freq;    /* éæ ·é¢ç */
} LPF_BilinearTransform;

/**
 * @brief       åçº¿æ§åæ¢æ³ä¸é¶ä½éæ»¤æ³¢å¨åå§åå½æ°
 * @param       filter : æ»¤æ³¢å¨ç»æä½æé
 * @param       cutoff_freq : æªæ­¢é¢ç
 * @param       sample_freq : éæ ·é¢ç
 * @retval      0:æå, -1:åæ°éè¯¯
 */
int lpf_bilinear_transform_init(LPF_BilinearTransform *filter, float cutoff_freq, float sample_freq)
{
	if (filter == NULL || cutoff_freq &lt;= 0.0f || sample_freq &lt;= 0.0f)
	{
		return -1;
	}
	
	/* å¥å¥æ¯ç¹é¢çéå¶ */
	if (sample_freq &lt; 2.0f * cutoff_freq)
	{
		return -1; 
	}
	
	float wc = 2.0f * PI * cutoff_freq;
	float T = 1.0f / sample_freq;
	
	/* é¢çé¢æ­æ²ï¼ç®çæ¯æ¶é¤åçº¿æ§åæ¢å¨é«é¢å¤çéçº¿æ§é¢çç¸åï¼ç¡®ä¿æªæ­¢é¢çåç¡® */
	float wc_twisted = (2.0f / T) * tanf((wc * T) / 2.0f);
	
	/* è®¡ç®åçº¿æ§åæ¢ç³»æ° */
	float K = (wc_twisted * T) / 2.0f;
	float denominator = 1.0f + K;
	
	filter-&gt;b0 = K / denominator;
	filter-&gt;b1 = filter-&gt;b0;  
	filter-&gt;a1 = (K - 1.0f) / denominator;
	
	/* åå§åç»æä½æå */
	filter-&gt;cutoff_freq = cutoff_freq;
	filter-&gt;sample_freq = sample_freq;
	filter-&gt;last_input = 0.0f;
	filter-&gt;last_output = 0.0f;
	
	return 0;
}

/**
 * @brief       åçº¿æ§åæ¢æ³ä¸é¶ä½éæ»¤æ³¢å¨è®¡ç®å½æ°
 * @param       filter : æ»¤æ³¢å¨ç»æä½æé
 * @param       input : å½åè¾å¥å¼
 * @retval      æ»¤æ³¢åçè¾åºå¼
 */
float lpf_bilinear_transform_update(LPF_BilinearTransform *filter, float input)
{
	float output;
	
	if (filter == NULL)
	{
		return input; 
	}
	
	/* æ ¸å¿å¬å¼ï¼y[n] = b0*x[n] + b1*x[n-1] - a1*y[n-1] */
	output = filter-&gt;b0 * input 
	+ filter-&gt;b1 * filter-&gt;last_input 
	- filter-&gt;a1 * filter-&gt;last_output;
	
	/* æ´æ°åå²ç¶æ */
	filter-&gt;last_input = input;
	filter-&gt;last_output = output;
	
	return output;
}

/**
 * @brief       éç½®åçº¿æ§åæ¢æ³ä¸é¶ä½éæ»¤æ³¢å¨ç¶æ
 * @param       filter : æ»¤æ³¢å¨ç»æä½æé
 * @param       init_val : éç½®åçåå§è¾åºå¼
 * @retval      0:æå, -1:åæ°éè¯¯
 */
int lpf_bilinear_transform_reset(LPF_BilinearTransform *filter, float init_val)
{
	if (filter == NULL)
	{
		return -1;
	}
	
	filter-&gt;last_input = init_val;
	filter-&gt;last_output = init_val;
	
	return 0;
}
</code></pre>
<h4 id="4å·¥ç¨éæ©éæ¥è¡¨">4ãå·¥ç¨éæ©éæ¥è¡¨</h4>
<table>
<thead>
<tr>
<th style="text-align: left">æ¹æ³</th>
<th style="text-align: left">ç¨³å®æ§</th>
<th style="text-align: left">è®¡ç®é</th>
<th style="text-align: left">ç¸ä½/å»¶è¿ç¹æ§</th>
<th style="text-align: left">æ ¸å¿ç¹ç¹</th>
<th style="text-align: left">éç¨åºæ¯</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left"><strong>ååå·®åæ³</strong></td>
<td style="text-align: left"><strong>æ æ¡ä»¶ç¨³å®</strong></td>
<td style="text-align: left"><strong>æä½</strong> (1æ¬¡ä¹æ³ + 1æ¬¡ä¹å )</td>
<td style="text-align: left">å­å¨ç¸ä½æ»å (éå¼æ¬§æ)</td>
<td style="text-align: left">æå¸¸ç¨ï¼æç¨³å¥ãç³»æ°è®¡ç®ç®åï¼ä¸æ¶åä¸è§å½æ°ã</td>
<td style="text-align: left"><strong>ç»å¤§å¤æ°åºæ¯</strong>ã çµæºæ§å¶ãä¼ æå¨å»åªãPIDæ»¤æ³¢ã</td>
</tr>
<tr>
<td style="text-align: left"><strong>åçº¿æ§åæ¢æ³</strong></td>
<td style="text-align: left"><strong>æ æ¡ä»¶ç¨³å®</strong></td>
<td style="text-align: left">ä¸­ç­ ( 3 æ¬¡ä¹å )</td>
<td style="text-align: left">é¢çååºæå (éé¢æ­æ²)</td>
<td style="text-align: left"><strong>ç²¾åº¦æé«</strong>ãå¨æªæ­¢é¢çå¤çå¹å¼è¡°åæåç¡®ï¼-3dBï¼ï¼é¢çæ å°ä¿çåº¦æå¥½ã</td>
<td style="text-align: left"><strong>é«ç²¾åº¦è¦æ±</strong>ã é³é¢å¤çãç²¾å¯ä»ªå¨ãç²¾å¯æµéãçµæºé­ç¯æ§å¶ã</td>
</tr>
<tr>
<td style="text-align: left"><strong>ååå·®åæ³</strong></td>
<td style="text-align: left"><strong>ææ¡ä»¶ç¨³å®</strong> (é fs &gt; ÏÂ·fc)</td>
<td style="text-align: left">æä½</td>
<td style="text-align: left"><strong>å»¶è¿æå¤§</strong> (æ¾å¼ï¼å¤ææ»å)</td>
<td style="text-align: left">ç®æ³ç®åï¼ä½å¤©ç¶å¼å¥ 1 ä¸ªéæ ·å¨æççº¯å»¶è¿ï¼ä¸æåæ£ã</td>
<td style="text-align: left">æå°æ¨èã ä»å¨å¤çæä½é¢ä¿¡å·ä¸è®¡ç®èµæºæå¶åéæ¶èèã</td>
</tr>
</tbody>
</table>
<h3 id="åæ»ç»">åãæ»ç»</h3>
<p>ä¸é¶ä½éæ»¤æ³¢å¨æ¯åµå¥å¼ä¿¡å·å¤çä¸­æåºç¡ãæå¸¸ç¨çå·¥å·ãæ­£ç¡®ä½¿ç¨å®çå³é®ï¼å¨äºçè§£<strong>ä¿¡å·é¢çãåªå£°é¢çãéæ ·é¢çä¸æªæ­¢é¢ç</strong>ä¹é´çå¶çº¦å³ç³»ãå¨å®éå¼åä¸­ï¼å»ºè®®ä¼åéç¨<strong>ååå·®åæ³</strong>è¿è¡å®ç°ï¼æ ¹æ®å®éçéæ ·é¢çåä¿¡å·å¸¦å®½ï¼çµæ´»è°æ´æªæ­¢é¢çï¼ä»¥è¾¾å°å»åªä¸ååºéåº¦çæä½³å¹³è¡¡ã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-12-27 00:10">2025-12-27 00:10</span>&nbsp;
<a href="https://www.cnblogs.com/lsksp">æ¯ç¹åé³</a>&nbsp;
éè¯»(<span id="post_view_count">26</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19406964);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19406964', targetLink: 'https://www.cnblogs.com/lsksp/p/19406964', title: 'ä¸é¶ä½éæ»¤æ³¢å¨ï¼LPFï¼ä½¿ç¨è¯¦è®²' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ä¸æ¬¾ç±å­èè·³å¨æ¨åºç AI æç¤ºè¯çæåä¼åå·¥å·ï¼ä¸ºä½ æä¾æ´ç²¾åï¼ä¸ä¸ï¼å¯æç»­è¿­ä»£æç¤ºè¯ï¼ ]]></title>
    <link>https://www.cnblogs.com/Can-daydayup/p/19406862</link>
    <guid>786838dc055f034884f50ba768600dd0</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/Can-daydayup/p/19406862" title="åå¸äº 2025-12-26 23:11">
    <span role="heading" aria-level="2">ä¸æ¬¾ç±å­èè·³å¨æ¨åºç AI æç¤ºè¯çæåä¼åå·¥å·ï¼ä¸ºä½ æä¾æ´ç²¾åï¼ä¸ä¸ï¼å¯æç»­è¿­ä»£æç¤ºè¯ï¼</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<h2 data-tool="mdniceç¼è¾å¨"><span>åè¨</span></h2>
<p data-tool="mdniceç¼è¾å¨"><span>å¨AIææ¯è¿çåå±çå½ä¸ï¼é«æä¸ç²¾åçæç¤ºè¯æä¸ºä¸AIæ¨¡åææäº¤äºçå³é®ãä»å¤©å¤§å§ç»å¤§å®¶åäº«ä¸æ¬¾ç±å­èè·³å¨æ¨åºç AI æç¤ºè¯çæåä¼åå·¥å·ï¼ä¸ºä½ æä¾æ´ç²¾åï¼ä¸ä¸ï¼å¯æç»­è¿­ä»£æç¤ºè¯ï¼</span></p>
<p><img src="https://img2024.cnblogs.com/blog/1336199/202512/1336199-20251226230859325-1349637768.png" alt="image" loading="lazy"></p>
<h2 data-tool="mdniceç¼è¾å¨"><span>å·¥å·ä»ç»</span></h2>
<p data-tool="mdniceç¼è¾å¨"><span>PromptPilot æ¯ç±å­èè·³å¨æ¨åºçä¸æ¬¾ä¸æ³¨äº AI æç¤ºè¯ä¼åä¸æç¤ºè¯çæçå®ç¨å·¥å·ãè¯¥å·¥å·æ¨å¨å¸®å©ç¨æ·æ´é«æå°çæåä¼å AI æç¤ºè¯ï¼æåä¸ AI æ¨¡åçäº¤äºæçåè´¨éãéè¿ PromptPilotï¼ç¨æ·å¯ä»¥è½»æ¾å°åå»ºãè°è¯åç®¡çæç¤ºè¯ï¼ä»¥æ»¡è¶³å¤æ ·åçåºç¨åºæ¯éæ±ã</span></p>
<ul class="list-paddingleft-1">
<li><strong><span>å¨çº¿è®¿é®å°åï¼<span class="wx_text_underline">https://promptpilot.volcengine.com</span></span></strong></li>
</ul>
<p><img src="https://img2024.cnblogs.com/blog/1336199/202512/1336199-20251226230911909-2106687661.png" alt="image" loading="lazy"></p>
<h2 data-tool="mdniceç¼è¾å¨"><span>åºç¨åºæ¯</span></h2>
<ul class="list-paddingleft-1">
<li><strong>åå®¹åä½</strong><span>ï¼å¨èªåªä½ãå¹¿åãè¥éç­é¢åï¼PromptPilot å¯å¸®å©åä½èå¿«éçæå¸å¼äººçææ¡æç¤ºè¯ï¼æååå®¹è´¨éåå¸å¼åã</span></li>
<li><strong>æ°æ®åæ</strong><span>ï¼å¨æ°æ®åæåºæ¯ä¸­ï¼PromptPilot å¯è¾å©åæå¸çæç²¾åçæ¥è¯¢æç¤ºè¯ï¼æé«æ°æ®æ£ç´¢ååææçã</span></li>
<li><strong>å®¢æ·æå¡</strong><span>ï¼å¨å®¢æ·æå¡é¢åï¼PromptPilot å¯ç¨äºçæèªå¨ååå¤çæç¤ºè¯ï¼æåå®¢æ·ååºéåº¦åæ»¡æåº¦ã</span></li>
<li><strong>æè²è¡ä¸</strong><span>ï¼æå¸åå­¦çå¯å©ç¨ PromptPilot çææå­¦åå­¦ä¹ ç¸å³çæç¤ºè¯ï¼ä¿è¿ç¥è¯çææä¼ éåå­¦ä¹ ææçæåã</span></li>
</ul>
<h2 data-tool="mdniceç¼è¾å¨"><span>æç¤ºè¯çæ</span></h2>
<h3 data-tool="mdniceç¼è¾å¨"><span>ä»»å¡æè¿°ï¼</span></h3>
<pre data-tool="mdniceç¼è¾å¨"><span data-cacheurl="" data-remoteid="" data-lazy-bgimg="https://mmbiz.qpic.cn/mmbiz_svg/9M0PhLTmTIeLmnQLStMsiaPjDhdHyic2puibLWicEN1ayLPAiaJCD1cPS0kNT55lIP2QAtlOqdXic0zRsuaUSBfCv7cCz1iaBaeaJaJ/640?wx_fmt=svg&amp;from=appmsg" data-src="https://mmbiz.qpic.cn/mmbiz_svg/9M0PhLTmTIeLmnQLStMsiaPjDhdHyic2puibLWicEN1ayLPAiaJCD1cPS0kNT55lIP2QAtlOqdXic0zRsuaUSBfCv7cCz1iaBaeaJaJ/640?wx_fmt=svg&amp;from=appmsg#imgIndex=3" data-fail="0"><code><span>ç»æåä¸ä¸ªä¼ä¸ä¼ç§åå·¥è·å¥æè¨ã<br></span></code></span></pre>
<h3 data-tool="mdniceç¼è¾å¨"><span>çæåç Promptï¼</span></h3>
<p><img src="https://img2024.cnblogs.com/blog/1336199/202512/1336199-20251226230930602-605100114.png" alt="image" loading="lazy"></p>
<p>&nbsp;</p>
<pre data-tool="mdniceç¼è¾å¨"><span data-cacheurl="" data-remoteid="" data-lazy-bgimg="https://mmbiz.qpic.cn/mmbiz_svg/9M0PhLTmTIeLmnQLStMsiaPjDhdHyic2puibLWicEN1ayLPAiaJCD1cPS0kNT55lIP2QAtlOqdXic0zRsuaUSBfCv7cCz1iaBaeaJaJ/640?wx_fmt=svg&amp;from=appmsg" data-fail="0"><code># è·å¥æè¨åä½æå<br><br>## ä¸ãèº«ä»½è®¾å®<br><span>ä½ æ¯ä¼ä¸è¡æ¿é¨é¨çèµæ·±ææ¡ä¸åï¼è´è´£ä¸ºè·å¥åå·¥æ°åç¬¦åå¬å¸æåçæ­£å¼è·å¥æè¨ãæ ¸å¿èè´£æ¯ï¼ç»ååå·¥å²ä½ç¹æ§ä¸è´¡ç®äº®ç¹ï¼æé ææçæãé»è¾æ¸æ°ãè´´ååºæ¯çåè¨åå®¹ï¼å¸®å©åå·¥å¨é¢å¥ä»ªå¼ä¸å±ç°ä¸ä¸å½¢è±¡ä¸å¢éç²¾ç¥ã<br><br>## äºãåä½åå<br>### å¿åäºé¡¹<br><span>1. å¿é¡»åå«è·å¥åå·¥å§åãæè·å¥é¡¹å¨ç§°ãå¬å¸åç§°<br><span>2. å¿é¡»çªåºåå·¥å²ä½æ ¸å¿èè´£ä¸å³é®è´¡ç®æ°æ®<br><span>3. å¿é¡»ä½ç°å¯¹å¬å¸ãå¢éãå®¶äººçæè°¢å±æ¬¡<br><span>4. å¿é¡»åå«å¯¹æªæ¥å·¥ä½çæ¿è¯ºä¸å±æ<br><br>### çº¦ææ¡ä»¶<br><span>1. ç¦æ­¢ä½¿ç¨å¤¸å¼ ä¸å®çè¡¨è¿°ï¼ææè´¡ç®éåºäºæä¾çäºå®<br><span>2. ç¦æ­¢åºç°ææè¯æ±æä¸å½è¡¨è¿°<br><span>3. ç¦æ­¢éæ¼æå®çæè°¢å¯¹è±¡<br><span>4. ç¦æ­¢è¶è¿è§å®å­æ°éå¶<br><br>## ä¸ãåéè¯´æ<br><span>&lt;åå·¥å§å&gt;{{EMPLOYEE_NAME}}&lt;/åå·¥å§å&gt; - è·å¥åå·¥çå®æ´å§å<br><span>&lt;å¥é¡¹ç±»å&gt;{{AWARD_TYPE}}&lt;/å¥é¡¹ç±»å&gt; - å·ä½è·å¥åç§°ï¼å¦ï¼å¹´åº¦ä¼ç§åå·¥ãå­£åº¦åæ°ä¹æï¼<br><span>&lt;å¬å¸åç§°&gt;{{COMPANY_NAME}}&lt;/å¬å¸åç§°&gt; - åå·¥æå¨ä¼ä¸å¨ç§°<br><span>&lt;å·¥ä½èè´£&gt;{{WORK_DUTIES}}&lt;/å·¥ä½èè´£&gt; - åå·¥æ¥å¸¸å·¥ä½åå®¹æ¦è¿°<br><span>&lt;æ ¸å¿è´¡ç®&gt;{{KEY_CONTRIBUTIONS}}&lt;/æ ¸å¿è´¡ç®&gt; - åå·¥è·å¥çå³é®ä¸ç»©æçªåºè¡¨ç°<br><span>&lt;æè°¢å¯¹è±¡&gt;{{THANKS_OBJECTS}}&lt;/æè°¢å¯¹è±¡&gt; - éè¦ç¹å«è´è°¢çä¸ªäººæå¢é<br><br>## åãåä½æµç¨<br>### ç¬¬ä¸æ­¥ï¼åå®¹æ¶ææ­å»º<br><span>1. å¼åºé®åï¼ç¤¼è²æ§ç§°å¼å¨åºäººå<br><span>2. è·å¥è´è°¢ï¼è¡¨è¾¾è·å¥çè£å¹¸ä¸æ¿å¨å¿æ<br><span>3. å·¥ä½åé¡¾ï¼ç®è¿°å²ä½ä»·å¼ä¸æ ¸å¿è´¡ç®<br><span>4. ææ©ç¯èï¼åå±æ¬¡æè°¢å¬å¸ãå¢éãå®¶äºº<br><span>5. æªæ¥å±æï¼æ¿è¯ºæªæ¥å·¥ä½æ¹åä¸ç®æ <br><br>### ç¬¬äºæ­¥ï¼ç»èå¡«å<br><span>1. å° &lt;åå·¥å§å&gt;{{EMPLOYEE_NAME}}&lt;/åå·¥å§å&gt; èªç¶èå¥å¼åºä¸è½æ¬¾<br><span>2. åç¡®å¼ç¨ &lt;å¥é¡¹ç±»å&gt;{{AWARD_TYPE}}&lt;/å¥é¡¹ç±»å&gt; å¨ç§°<br><span>3. ç»å &lt;å·¥ä½èè´£&gt;{{WORK_DUTIES}}&lt;/å·¥ä½èè´£&gt; è¯´æå²ä½ä»·å¼<br><span>4. ç¨æ°æ®åè¯­è¨åç° &lt;æ ¸å¿è´¡ç®&gt;{{KEY_CONTRIBUTIONS}}&lt;/æ ¸å¿è´¡ç®&gt;<br><span>5. æéè¦æ§æåºæå &lt;æè°¢å¯¹è±¡&gt;{{THANKS_OBJECTS}}&lt;/æè°¢å¯¹è±¡&gt;<br><br>### ç¬¬ä¸æ­¥ï¼é£æ ¼æ¶¦è²<br><span>1. è¯­è¨é£æ ¼ï¼æ­£å¼ä¸­å¸¦ææ¸©åº¦ï¼é¿åè¿äºå£è¯­å<br><span>2. ææè¡¨è¾¾ï¼æ§å¶æç»ªå°ºåº¦ï¼ä¿æä¸ä¸å¾ä½<br><span>3. æ¶é´æ§å¶ï¼æ3åéåè¨é¿åº¦è°æ´åå®¹è¯¦ç¥ï¼çº¦500-600å­ï¼<br><br>## äºãè¾åºè§è<br>### åå®¹ç»æ<br><span>1. æ é¢ï¼[å¥é¡¹åç§°]è·å¥æè¨<br><span>2. ç§°å¼ï¼å°æ¬çåä½é¢å¯¼ãäº²ç±çåäºä»¬ï¼<br><span>3. æ­£æï¼æåä½æµç¨é¡ºåºå±å¼<br><span>4. è½æ¬¾ï¼[åå·¥å§å] [æ¥æ]<br><br>### æ ¼å¼è¦æ±<br><span>1. ä½¿ç¨æ åå®ä½åå·å­ï¼1.5åè¡è·<br><span>2. å³é®è´¡ç®é¨åå ç²æ¾ç¤º<br><span>3. æè°¢å¯¹è±¡åç¬åæ®µ<br><span>4. ç»å°¾é¨åéåå«å¯¹å¬å¸æªæ¥çç¾å¥½ç¥æ¿<br><br>### è´¨éæ å<br><span>1. ç¬¦åå¬å¸æåä»·å¼è§<br><span>2. çªåºä¸ªäººè´¡ç®åæ¶ä½ç°å¢éç²¾ç¥<br><span>3. é¿åç©ºè¯å¥è¯ï¼ç¨å·ä½äºä¾æ¯æ<br><span>4. è¯­è¨æµçï¼é»è¾æ¸æ°ï¼ææçæ<br><br>## å­ãåä½ç¤ºä¾<br><span>ï¼æ­¤å¤çç¥ç¤ºä¾åå®¹ï¼å®éåä½æ¶éæ ¹æ®åéå¡«åï¼<br><br><span>è¯·ä¸¥æ ¼æç§ä»¥ä¸è¦æ±ï¼ç»åæä¾çåéä¿¡æ¯ï¼åä½ä¸ç¯å®æ´çè·å¥æè¨ã<br><br></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></span></pre>
<h2 data-tool="mdniceç¼è¾å¨"><span>è°è¯ Prompt</span></h2>
<h3 data-tool="mdniceç¼è¾å¨"><span>ææ¬çè§£</span></h3>
<p><img src="https://img2024.cnblogs.com/blog/1336199/202512/1336199-20251226230958750-1911894887.png" alt="image" loading="lazy"></p>
<h3 data-tool="mdniceç¼è¾å¨"><span>è§è§çè§£</span></h3>
<p><img src="https://img2024.cnblogs.com/blog/1336199/202512/1336199-20251226231016417-194421412.png" alt="image" loading="lazy"></p>
<h3 data-tool="mdniceç¼è¾å¨"><span>å¤è½®å¯¹è¯</span></h3>
<p><img src="https://img2024.cnblogs.com/blog/1336199/202512/1336199-20251226231026956-1766318256.png" alt="image" loading="lazy"></p>
<h2 data-tool="mdniceç¼è¾å¨"><span>ä¼å Prompt</span></h2>
<p><img src="https://img2024.cnblogs.com/blog/1336199/202512/1336199-20251226231045050-1953776592.png" alt="image" loading="lazy"></p>
<p><img src="https://img2024.cnblogs.com/blog/1336199/202512/1336199-20251226231052086-1099494036.png" alt="image" loading="lazy"></p>
</div>
<div id="MySignature" role="contentinfo">
    <blockquote>
<p style="font-family:YouYuan;font-size: 16px;margin: 0 auto 0.01em auto;"><span style="font-size: 17px; ">ä½èåç§°ï¼</span><a href="https://www.cnblogs.com/Can-daydayup/" target="_blank">è¿½éæ¶åè</a></p>
<p style="font-family:YouYuan;font-size: 16px;margin: 0 auto 0.01em auto;"><span style="font-size: 17px; ">ä½èç®ä»ï¼</span>ä¸ä¸ªç­ç±ç¼ç¨ãåäºåäº«ãåæ¬¢å­¦ä¹ ãæ¢ç´¢ãå°è¯æ°äºç©åæ°ææ¯çå¨æ è½¯ä»¶å·¥ç¨å¸ã</p>
<p style="font-family:YouYuan;font-size: 16px;margin: 0 auto 0.01em auto;">
æ¬æçæå½ä½èååå®¢å­å±æï¼æ¬¢è¿è½¬è½½ï¼ä½æªç»ä½èåæå¿é¡»ä¿çæ­¤æ®µå£°æï¼ä¸å¨æç« é¡µé¢ææ¾ä½ç½®ç»åºåæé¾æ¥ï¼å¦åä¿çè¿½ç©¶æ³å¾è´£ä»»çæå©ãå¦æè¯¥ç¯æç« å¯¹æ¨æå¸®å©çè¯ï¼å¯ä»¥ç¹ä¸ä¸å³ä¸è§ç<a onclick="votePost(cb_entryId,'Digg')" href="javascript:void(0)" style="color:red;">ãâ¥æ¨èâ¥ã</a>ï¼å¸æè½å¤æç»­çä¸ºå¤§å®¶å¸¦æ¥å¥½çææ¯æç« ï¼æä¸­å¯è½å­å¨æè¿°ä¸æ­£ç¡®çå°æ¹ï¼æ¬¢è¿ææ­£æè¡¥åï¼ä¸èææ¿ã
</p>
</blockquote>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-12-26 23:12">2025-12-26 23:11</span>&nbsp;
<a href="https://www.cnblogs.com/Can-daydayup">è¿½éæ¶åè</a>&nbsp;
éè¯»(<span id="post_view_count">60</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19406862);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19406862', targetLink: 'https://www.cnblogs.com/Can-daydayup/p/19406862', title: 'ä¸æ¬¾ç±å­èè·³å¨æ¨åºç AI æç¤ºè¯çæåä¼åå·¥å·ï¼ä¸ºä½ æä¾æ´ç²¾åï¼ä¸ä¸ï¼å¯æç»­è¿­ä»£æç¤ºè¯ï¼' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ go-zero rest æºç å­¦ä¹ ç¬è®° ]]></title>
    <link>https://www.cnblogs.com/xingzheanan/p/19404672</link>
    <guid>ba8de70b2ecc7d66a93bd3cc1704a8d8</guid>
    <description>
    <![CDATA[ 
		<h1 class="postTitle">
			<a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/xingzheanan/p/19404672" title="åå¸äº 2025-12-26 22:19">
    <span role="heading" aria-level="2">go-zero rest æºç å­¦ä¹ ç¬è®°</span>
    

</a>

		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<hr>
<h1 id="æ¦è¿°">æ¦è¿°</h1>
<p><code>go-zero</code> åºäº <code>net/http</code> æ ååºå®ç°äºä¸å¥ <code>rest</code> web æ¡æ¶ãå¨ä½¿ç¨ <code>goctl</code> å¿«éå¼åçåæ¶ï¼ä¹éè¦äºè§£ <code>go-zero</code> åé¨åäºä»ä¹ãæ¬æç»å <a href="https://zeromicro.github.io/go-zero.dev/docs/component/rest" target="_blank" rel="noopener nofollow">go-zero rest</a>å­¦ä¹ å¶ä¸­çæºç ï¼åå¾åå°ç¥å¶æä»¥ç¶ã</p>
<h1 id="æºç ">æºç </h1>
<h2 id="æµç¨å¾">æµç¨å¾</h2>
<p><img alt="image" width="640" height="650" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1498760/202512/1498760-20251226221705436-349608438.png" class="lazyload"></p>
<p>å¨éè¯»æºç ä¹åï¼åçä¸æµç¨å¾æä¸ªå°è±¡ãä»æµç¨å¾å¤§è´å¯ä»¥çåºæ¥ï¼</p>
<ul>
<li>go-zero ä¼åå»ºè·¯ç±ç»ï¼å¶ä¸­æé¡ºåºæ³¨åäºå ç±» handlerï¼ä¸­é´ä»¶ï¼ï¼æåå¨ business handler å¤çä¸å¡é»è¾ã</li>
</ul>
<p>å¤§è´æä¸ªå°è±¡åå¼å§æºç èµ°è¯»ã</p>
<h2 id="æºç èµ°è¯»">æºç èµ°è¯»</h2>
<p>å¯å¨ api æå¡ï¼</p>
<pre><code class="language-go">func main() {  
    ...
    server := rest.MustNewServer(c.RestConf)  
    defer server.Stop()  
  
    ctx := svc.NewServiceContext(c)  
    handler.RegisterHandlers(server, ctx)  
  
    fmt.Printf("Starting server at %s:%d...\n", c.Host, c.Port)  
    server.Start()  
}
</code></pre>
<p>å¯å¨æå¡ä¸»è¦åäºä¸ä»¶äºï¼</p>
<ul>
<li>åå»ºæå¡ç«¯ server</li>
<li>æ³¨å handler å° server</li>
<li>å¯å¨æå¡ç«¯ server</li>
</ul>
<p>æé¡ºåºä»ç»ã</p>
<h3 id="åå»ºæå¡ç«¯-server">åå»ºæå¡ç«¯ server</h3>
<pre><code class="language-go">func MustNewServer(c RestConf, opts ...RunOption) *Server {  
    // NewServer åå»º server
    server, err := NewServer(c, opts...)  
    if err != nil {  
       logx.Must(err)  
    }  
  
    return server  
}

func NewServer(c RestConf, opts ...RunOption) (*Server, error) {
	// c.SetUp å¯å¨ Prometheusï¼tracing, profiling ç­æå¡
    if err := c.SetUp(); err != nil {  
       return nil, err  
    }  
  
    server := &amp;Server{  
       ngin:   newEngine(c),  
       router: router.NewRouter(),  
    }  
  
    ...
    return server, nil  
}
</code></pre>
<p>åå»º server å®éåå»ºçæ¯ server ç engine å routerã</p>
<p>engine ä¸»è¦ç»æå¦ä¸ï¼</p>
<pre><code class="language-go">type engine struct {  
    // server çéç½®
    conf   RestConf  
    routes []featuredRoutes  // ä¸å¡è·¯ç±
    // è°ç¨é¾
    chain                chain.Chain 
    // ä¸­é´ä»¶ 
    middlewares          []Middleware  
    ...
}

func newEngine(c RestConf) *engine {  
    svr := &amp;engine{  
       conf:    c,  
       timeout: time.Duration(c.Timeout) * time.Millisecond,  
    }
    ...
}
</code></pre>
<p>router ç»æå¦ä¸ï¼</p>
<pre><code class="language-go">func NewRouter() httpx.Router {  
    return &amp;patRouter{  
       trees: make(map[string]*search.Tree),  
    }  
}

type Router interface {  
    http.Handler  
    Handle(method, path string, handler http.Handler) error  
    SetNotFoundHandler(handler http.Handler)  
    SetNotAllowedHandler(handler http.Handler)  
}
</code></pre>
<p><code>patRouter</code> åå«è·¯ç±ä¿¡æ¯ï¼å¶å®ç°äº <code>Router</code> æ¥å£ã</p>
<p>åå»ºäº server åè¿éè¦æ³¨åè·¯ç± handler å° serverï¼è¿æ ·æå¡ç«¯æè½æ ¹æ®è·¯ç±æ¾å°å¯¹åºç handler å¤çã</p>
<h3 id="æ³¨åè·¯ç±-handler">æ³¨åè·¯ç± handler</h3>
<pre><code class="language-go">func RegisterHandlers(server *rest.Server, serverCtx *svc.ServiceContext) {  
    // server.AddRoutes æ³¨åè·¯ç± handler
    server.AddRoutes(  
       []rest.Route{  
          {  
             Method:  http.MethodGet,  
             Path:    "/ping",  
             Handler: pingHandler(serverCtx),  
          },  
       },  
    )
}

func (s *Server) AddRoutes(rs []Route, opts ...RouteOption) {  
    // èªå®ä¹çä¸å¡è·¯ç±å°è¢«å°è£å° featuredRoutes å¯¹è±¡
    r := featuredRoutes{  
       routes: rs,  
    }  
    for _, opt := range opts {  
       opt(&amp;r)  
    }  
    
    // å° featuredRoutes æ·»å å° Server.engine
    s.ngin.addRoutes(r)  
}

func (ng *engine) addRoutes(r featuredRoutes) {  
    ...
    // å®éæ¯å°è·¯ç±ç»æ·»å å° engine.routes ä¸­  
    ng.routes = append(ng.routes, r) 
}
</code></pre>
<p>ä¸å¡è·¯ç±æ³¨åå®ï¼æ¥ä¸æ¥å°è¿å¥å¯å¨ serverï¼è¿æ¯éè¦å³æ³¨çéç¹ã</p>
<h3 id="å¯å¨-server">å¯å¨ server</h3>
<pre><code class="language-go">func (s *Server) Start() {  
    // è°ç¨ Server.engine.start å¯å¨æå¡ç«¯ server
    handleError(s.ngin.start(s.router))  
}

func (ng *engine) start(router httpx.Router, opts ...StartOption) error {     // engine.bindRoutes ç»å®è·¯ç±å° router
    if err := ng.bindRoutes(router); err != nil {  
       return err  
    }  

    ...
    return internal.StartHttps(ng.conf.Host, ng.conf.Port, ng.conf.CertFile,  
       ng.conf.KeyFile, router, opts...)  
}

func (ng *engine) bindRoutes(router httpx.Router) error {  
    // engine.routes 
    for _, fr := range ng.routes {  
       // ç»å® rest.featuredRoutes 
       if err := ng.bindFeaturedRoutes(router, fr, metrics); err != nil { 
          return err  
       }  
    }  
  
    return nil  
}

func (ng *engine) bindFeaturedRoutes(router httpx.Router, fr featuredRoutes, metrics *stat.Metrics) error {  
    ...
    for _, route := range fr.routes {  
       if err := ng.bindRoute(fr, router, metrics, route, verifier); err != nil {  
          return err  
       }  
    }  
  
    return nil  
}

func (ng *engine) bindRoute(fr featuredRoutes, router httpx.Router, metrics *stat.Metrics,  
    route Route, verifier func(chain.Chain) chain.Chain) error {  
    // engine.chainï¼åå§åä¸º nil
    chn := ng.chain  
    if chn == nil {  
       // engine.buildChainWithNativeMiddlewares æ³¨åèªå¸¦ä¸­é´ä»¶å° engine.chain
       chn = ng.buildChainWithNativeMiddlewares(fr, route, metrics)  
    }  
  
    // æ·»å  AuthHandler å° engine.chain ä¸­
    chn = ng.appendAuthHandler(fr, chn, verifier)  
  
    // å°èªå®ä¹ä¸­é´ä»¶æ³¨åå° engine.chain
    for _, middleware := range ng.middlewares {  
       chn = chn.Append(convertMiddleware(middleware))  
    }  
    
    // engine.chain.ThenFunc å° handler ä¸²èæ handler
    handle := chn.ThenFunc(route.Handler)  
  
    return router.Handle(route.Method, route.Path, handle)  
}
</code></pre>
<p>å¯å¨ server çéç¹å¨ <code>engine.bindRoute</code>ã<br>
å¶ä¸­ï¼<code>engine.buildChainWithNativeMiddlewares</code> æ³¨å <code>go-zero</code> èªå¸¦ä¸­é´ä»¶ï¼</p>
<pre><code class="language-go">func (ng *engine) buildChainWithNativeMiddlewares(fr featuredRoutes, route Route,  
    metrics *stat.Metrics) chain.Chain {  
    chn := chain.New()
    ...
    // MaxConns ç¨äºå¹¶åæ§å¶
    if ng.conf.Middlewares.MaxConns {  
        chn = chn.Append(handler.MaxConnsHandler(ng.conf.MaxConns))  
    }  
    if ng.conf.Middlewares.Breaker {  
        chn = chn.Append(handler.BreakerHandler(route.Method, route.Path, metrics))  
    }
    ...
}
</code></pre>
<p>ç±»ä¼¼çï¼èªå®ä¹ä¸­é´ä»¶éè¿ <code>chn.Append(convertMiddleware(middleware))</code> æ³¨åå° <code>engine.chain</code> ä¸­ã</p>
<p>æ¥çè°ç¨ <code>chain.ThenFunc</code> ä¸²èä¸­é´ä»¶æ <code>handler</code>ï¼</p>
<pre><code class="language-go">func (c chain) ThenFunc(fn http.HandlerFunc) http.Handler {  
    ...
    return c.Then(fn)  
}

func (c chain) Then(h http.Handler) http.Handler {  
    if h == nil {  
       h = http.DefaultServeMux  
    }  
  
    // è¿æ®µä»£ç å¾æææï¼å®å°ææä¸­é´ä»¶æé¡ºåºä¸²èèµ·æ¥ç»æä¸ä¸ª handler
    // è°ç¨è¿ä¸ª handler å¤çæ¶ä¼ç»è¿åç»­ä¸ç³»åçä¸­é´ä»¶ï¼æç»å°ä¸å¡ handler å¤ç
    // å·ä½å¯åè https://github.com/zeromicro/go-zero/blob/master/rest/chain/chain.go#L81
    for i := range c.middlewares {  
       h = c.middlewares[len(c.middlewares)-1-i](h)  
    }  
  
    return h  
}
</code></pre>
<p>æåå°è¯¥ handler åè·¯ç±ä¿¡æ¯æ³¨åå° <code>router</code> ä¸­ï¼åç»­æå¡ç«¯æ ¹æ®è¯·æ±å¨ <code>router</code> ä¸­æ¥æ¾å¯¹åºç <code>handler</code> å¤çã</p>
<pre><code class="language-go">func (pr *patRouter) Handle(method, reqPath string, handler http.Handler) error {  
    ...
    
    tree, ok := pr.trees[method]  
    if ok {  
       return tree.Add(cleanPath, handler)  
    }  
  
    tree = search.NewTree()  
    pr.trees[method] = tree  
    return tree.Add(cleanPath, handler)  
}
</code></pre>
<p>è¯¦ç»æµç¨å¦ä¸å¾ï¼</p>
<p><img alt="image" width="661" height="570" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1498760/202512/1498760-20251226221741618-758878849.png" class="lazyload"></p>
<h1 id="å°ç»">å°ç»</h1>
<p>æ¬æä»ç»äº go-zero rest çæºç æ¯æä¹å¤çè¯·æ±çãä»æºç ä¹å¯ä»¥çåºæ¯ä¸ªè¯·æ±èåæ¯ä¸ç³»åä¸­é´ä»¶ handler å¨å¤çï¼å¹¶ä¸ server å¯å¨äº Prometheusï¼Trace ç­æå¡è´è´£çæ§ï¼é¾è·¯è¿½è¸ªç­ï¼ä½¿å¾å¼åå¾®æå¡æ¶åªéè¦å³æ³¨ä¸å¡é»è¾å³å¯ï¼éå¸¸æ¹ä¾¿ã</p>
<h1 id="åèèµæ">åèèµæ</h1>
<ul>
<li><a href="https://zeromicro.github.io/go-zero.dev/docs/component/rest" target="_blank" rel="noopener nofollow">go-zero rest</a></li>
<li><a href="https://refactoringguru.cn/design-patterns/chain-of-responsibility/go/example" target="_blank" rel="noopener nofollow">Go è´£ä»»é¾æ¨¡å¼</a></li>
</ul>
<hr>

</div>
<div id="MySignature" role="contentinfo">
    èå°çäºç©ºè°·ï¼ä¸ä»¥æ äººèä¸è³ã
</div>
<div class="clear"></div>

		</div>
		<div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-12-26 22:19">2025-12-26 22:19</span>&nbsp;
<a href="https://www.cnblogs.com/xingzheanan">è¡äºTroy</a>&nbsp;
éè¯»(<span id="post_view_count">27</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19404672);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19404672', targetLink: 'https://www.cnblogs.com/xingzheanan/p/19404672', title: 'go-zero rest æºç å­¦ä¹ ç¬è®°' })">ä¸¾æ¥</a>
</div>
	 ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ååºåè¡¨æ°æ®æºShardingSphereDataSourceçConnectionåæ°æ®è¯¯ç¨é®é¢åæ ]]></title>
    <link>https://www.cnblogs.com/wuyuegb2312/p/19405814</link>
    <guid>214231bee88e3b0505b9258421d74fc0</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/wuyuegb2312/p/19405814" title="åå¸äº 2025-12-26 22:00">
    <span role="heading" aria-level="2">ååºåè¡¨æ°æ®æºShardingSphereDataSourceçConnectionåæ°æ®è¯¯ç¨é®é¢åæ</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="èæ¯">èæ¯</h1>
<p>å¯¹äºååºåè¡¨åºç¨æ¥è¯´ï¼ä½¿ç¨org.apache.shardingsphere.driver.jdbc.core.datasource.ShardingSphereDataSourceæ¯ä¸ä¸ªä¸éçè§£å³æ¹æ¡ï¼ä½ å¯ä»¥éè¿éç½®æä»¶ç¼åååºåè¡¨è§åï¼ä»èå¨ç¼ç æ¶éæå°ä½¿ç¨åè¡¨ï¼å½ç¶ï¼è·¯ç±è§åçç¸å³å­æ®µè¿æ¯è¦ä¼ çï¼ä¹åä¹ææç« åæè¿è¿äºå­æ®µçå¤çè¿ç¨ï¼<a href="https://www.cnblogs.com/wuyuegb2312/p/18685884" target="_blank">æ·±å¥çè§£Mybatisååºåè¡¨æ§è¡åç</a>ï¼ã</p>
<p>ä½æ¯ï¼å¨ä¸äºåºæ¯ä¸­æ¯éè¦ç»è¿mybatisç´æ¥åä¸äºæä½çï¼ç¹å«æ¯åæ°æ®åºåæ°æ®ç¸å³çæä½ï¼åæ¬è¡¨çç»æåæ´ï¼ã</p>
<p>æ¯å¦æéå°çåºæ¯ï¼åæ¥è¯¢åä¸ªååºä¸­æåªäºåç¼ä¸º<code>table_</code>çè¡¨ï¼å¹¶ç»è¿äºè¡¨å ä¸å<code>col_x</code>ã</p>
<p>æç»åç°æä»£ç åå¤§è¯­è¨æ¨¡åï¼ååäºä¸çï¼çº¿ä¸è¿è¡è¯å¥½ï¼ä½æ¯çº¿ä¸çæäºååºæ­»æ´»æ¾ä¸å°å¯¹åºçåè¡¨ï¼æ²¡æ³è¿è¡åç»­çå¤çãè¿ä¸ªé®é¢æ¥äºå¾ä¹ï¼æ¨å¤©ç»äºè§£å³äºï¼å æ­¤åäº«åºæ¥ã</p>
<h1 id="å­å¨é®é¢çä»£ç ">å­å¨é®é¢çä»£ç </h1>
<pre><code class="language-Java">@Componet
public class TableAlterHandler {
    @Resource private ShardingSphereDataSource dataSource;
    
    public List&lt;String&gt; findTablesByPrefix(String prefix, String physicalSchemaName) {
        if (StringUtils.isBlank(prefix) || StringUtils.isBlank(physicalSchemaName)) {
            throw new RuntimeException("åè¡¨åç¼æååºåä¸ºç©º");
        }
        List&lt;String&gt; tableNames = Lists.newArrayList();
        try (HintManager hintManager = HintManager.getInstance();
             Connection conn = dataSource.getConnection()) {
             hintManager.setDataSourceName(DBUtil.queryLogicalSchemaName(physicalSchemaName));
            DatabaseMetaData metaData = conn.getMetaData();
            try (ResultSet rs = metaData.getTables(physicalSchemaName, null, prefix + "%", new String[] {"TABLE"})) {
                while (rs.next()) {
                    String tableName = rs.getString("TABLE_NAME");
                    tableNames.add(tableName);
                }
            }
        } catch (SQLException e) {
            throw new RuntimeException("å¤çå¤§ç»æéå¤±è´¥", e);
        }
        return tableNames;
    }
}
</code></pre>
<h2 id="é»è¾åºåç©çåº">é»è¾åºåç©çåº</h2>
<p>å¨åæé®é¢ä¹åï¼é¦åè¦æç¡®ä¸¤ä¸ªæ¦å¿µï¼ç©çåºåphysicalSchemaNameåé»è¾åºålogicalSchemaNameï¼å¦æç¨éäºï¼å¯è½ä¼è®©ä½ æ²¡åæ³åç°åç»­é®é¢çæ¬è´¨åå ãä¸é¢çä»£ç ï¼hintManagerå¿é¡»ç¨é»è¾åºåï¼èmetaData.getTableså¿é¡»ç¨ç©çåºåã</p>
<p>æè°ç©çåºåé»è¾åºï¼å¯ä»¥çä½æ¯æå®ä¹çæ¦å¿µãæ­£å¦å¶åï¼ç©çåºåå°±æ¯ä½ jdbcUrléçåºåï¼æ¯å¦ä¸ä¸ªå¸åçé¿éäºMysqlçJDBCé¾æ¥<code>jdbc:mysql://``rm-bpxxxx.mysql.rds.aliyuncs.com/bizcenter_1?useSSL=false&amp;autoReconnect=true&amp;characterEncoding=utf8&amp;serverTimezone=Asia/Shanghai</code></p>
<p>å¶ä¸­çbizcenter_1å°±æ¯ç©çåºåãè¿ä¸ªåç§°ä¹ä¼å¨MySqlåæ°æ®ä¸­åºç°ï¼æ¯å¦</p>
<pre><code class="language-SQL">select * from information_schema.tables;
</code></pre>
<p>å¯ä»¥çå°è¿ä¸ªåºçææè¡¨ï¼èTABLE_SCHEMAåå°±æ¯ç©çåºåã</p>
<p>èé»è¾åºï¼åæ¯ShardingSphereDataSourceå¯¹ç©çåºçæ å°ï¼å¨applicationçéç½®æä»¶(propertiesæyml)éï¼spring.shardingsphere.datasourceéç½®ä¸ï¼ä½ éè¦éç½®é»è¾åºåä»¥åå¯¹åºçJDBCé¾æ¥ã</p>
<p>ä½ å¯ä»¥å°å¤ä¸ªé»è¾åºéç½®ä¸ºåä¸ä¸ªç©çåºï¼è¿æ¯ä¸ç§å®è·µæ¹å¼ï¼å¯ä»¥ç¨äºåç»­çæ©å®¹ã</p>
<h1 id="é®é¢ç°è±¡">é®é¢ç°è±¡</h1>
<p>çº¿ä¸çä¸ä¸ªé»è¾åºåå«å¯¹åºä¸ä¸ªç©çåºï¼èè¿ä¸ä¸ªç©çåºå¨åä¸ä¸ªé¿éäºRDSå®ä¾ä¸ï¼å¯ä»¥æ¾å°æ¯ä¸ªåºå¯¹åºçè¡¨ã</p>
<p>èçº¿ä¸çä»ç¶æ¯ä¸ä¸ªé»è¾åºå¯¹åºåèªçç©çåºï¼æ¯ä¸ªç©çåºå¨ä¸åçé¿éäºRDSå®ä¾ä¸ï¼ä¼åºç°ææ¶åè½æ¾å°æä¸ªåºå¯¹åºçè¡¨ï¼èå¦å¤ä¸¤ä¸ªåºä¸ä¸ªè¡¨é½æ¾ä¸å°çæåµã</p>
<h1 id="ææ¥">ææ¥</h1>
<p>éå°é®é¢åï¼ç¾æä¸å¾å¶è§£ï¼å ä¸ºçº¿ä¸ç¯å¢ä¸åæ­£å¸¸ï¼çº¿ä¸å´æ»è½å¤ç°é®é¢ãç±äºçº¿ä¸ç¯å¢ç®¡æ§æ¯è¾ä¸¥ï¼æ¢ä¸è½è¿ç¨debugï¼åä¸è½ç´è¿çº¿ä¸åºï¼å¾é¾å®ä½åå ã</p>
<p>ç¬¬ä¸é¶æ®µææ¥ï¼æåå¤ç¡®è®¤äºä¸é¢ä»£ç ä¸­éè¦ä¼ æ°æ®åºåçå°æ¹å°åºæ¯é»è¾åºè¿æ¯ç©çåºãä¸­é´æä¸ªçæ¬çç¡®æéäºï¼ä½æ¯ä¸ºä½å¨åéçåæä¸è¿è½è¿è¡ï¼æ²¡æåè®°å½ã</p>
<p>ç¶åï¼æå æäº<code>connection.setAutoCommit(false)</code>ã<code>resultSet.setFetchSize(batchSize)</code>è¿æ ·çç¨äºéä½æ¯æ¬¡æ¥è¯¢åæ°æ®ç»ææ°éçä»£ç ï¼ä¹æ²¡ææã</p>
<p>æåï¼ææä»£ç ç§»å°äºå¦ä¸ä¸ªè¿æ¥åæ ·æ°æ®åºçåºç¨ä¸­ï¼å ä¸ºé£ä¸ªåºç¨ææä¹åç±»ä¼¼çä»£ç ãç§»è¿å»ä»¥ååæ¯æ­ªææ­£çå°è§£å³äºã</p>
<p>ç¬¬äºé¶æ®µçææ¥ï¼æ¯å¨ä¸æ®µæ¶é´åï¼æå¨ååçåºç¨ä¸­å¼åæ°çåè½ï¼å¯¹ååä»£ç è¿è¡æ¹å¨ï¼èªä»¥ä¸ºä¿®å¤å¥½äºï¼ä½æ¯ä¸çº¿ååç°è¿æ¯åä¹åä¸æ ·ã</p>
<h1 id="åæ">åæ</h1>
<p>çº¿ä¸çº¿ä¸æå¤§çåºå«å°±æ¯çº¿ä¸å ä¸ªåºæ¯åä¸ä¸ªMySqlå®ä¾ï¼èçº¿ä¸åå±ä¸ä¸ªãæçä»£ç éï¼çç¹æå¤§çæ¯æ¥è¯¢åæ°æ®<code>metaData.getTables()</code>è¿æ®µã</p>
<p>å¥½å·§ä¸å·§ï¼å¨æææ¥çç¬¬ä¸é¶æ®µåç¬¬äºé¶æ®µä¸­é´ï¼æåäºä¸ä¸ªè¿ç§»è¡¨çåè½ï¼å®å¨æ°åäºæ¥è¯¢è¡¨åçä»£ç ï¼å¹¶ä¸ä¸ºäºä¸åç¯ç©çåºåé»è¾åºææ··çéè¯¯ï¼ç¹å«å°åäºå¯¹åºçå·¥å·ç±»ï¼</p>
<pre><code class="language-Java">/**
 * æ°æ®æºææç»ä»¶ï¼ä¾¿äºåºç¨ç´æ¥è®¿é®æ°æ®æº
 *
 */
@Component
public class DataSourceHolder {

  @Resource protected ShardingSphereDataSource dataSource;

  /** ç©çåºå(jdbcé¾æ¥éçåºå)åæ°æ®æºçå³ç³» */
  private Map&lt;String, HikariDataSource&gt; hikariDataSourceMap;

  /** é»è¾åºå-ç©çåºåå³ç³» å¤ä¸ªé»è¾åºå¯è½å¯¹åºåä¸ä¸ªç©çåº */
  private Map&lt;String, String&gt; dsNameMap;

  /**
   * éè¿ç©çåºåè·åds
   *
   * @param physicalSchemaName
   * @return
   */
  public HikariDataSource getDataSourceByPhysicalSchemaName(String physicalSchemaName) {
    return hikariDataSourceMap.get(physicalSchemaName);
  }

  /**
   * éè¿é»è¾åºåè·åå¯¹åºç©çåºå
   *
   * @param dsName
   * @return
   */
  public String getPhysicalSchemaName(String dsName) {
    return dsNameMap.get(dsName);
  }

  /**
   * éè¿é»è¾åºåè·åds
   *
   * @param logicalSchemaName
   * @return
   */
  public HikariDataSource getDataSourceByLogicalSchemaName(String logicalSchemaName) {
    String physicalSchemaName = getPhysicalSchemaName(logicalSchemaName);
    if (StringUtils.isBlank(physicalSchemaName)) {
      throw new RuntimeException("é»è¾åºåæ¾ä¸å°å¯¹åºç©çåº, logicalSchemaName=" + logicalSchemaName);
    }
    return hikariDataSourceMap.get(physicalSchemaName);
  }

  @PostConstruct
  public void initHikariDataSourceMap() {
    dsNameMap = Maps.newHashMap();
    hikariDataSourceMap = Maps.newHashMap();
    Map&lt;String, DataSource&gt; dataSourceMap =
        dataSource.getContextManager().getDataSourceMap(dataSource.getSchemaName());
    dataSourceMap.forEach(
        (dsName, ds) -&gt; {
          HikariDataSource hds = (HikariDataSource) ds;
          try (Connection connection = hds.getConnection(); ) {
            hikariDataSourceMap.put(connection.getCatalog(), hds);
            dsNameMap.put(dsName, connection.getCatalog());
          } catch (SQLException e) {
            throw new RuntimeException("ç»è£æ°æ®æºmapå¤±è´¥", e);
          }
        });
  }
}
</code></pre>
<p>å¯¹åºå°ï¼è·åæ°æ®åºConnectionçæ¹æ³æ¯ï¼</p>
<pre><code class="language-Java">HikariDataSource hikariDataSource = dataSourceHolder.getDataSourceByPhysicalSchemaName(dsName);
Connection connection = hikariDataSource.getConnection();
</code></pre>
<p>å¹¶ä¸ä¹ä¸åä½¿ç¨HintManageræå®é»è¾åºã</p>
<p>èæ³å°çº¿ä¸çº¿ä¸MySqlå®ä¾çå·®å¼ï¼æçæµæ¯å ä¸ºï¼</p>
<p>çº¿ä¸ä¸ä¸ªåºæ¯åä¸ä¸ªMySqlå®ä¾ï¼é£ä¹åæ°æ®information_schema.tablesæ¯ä¸æ ·çï¼å¨åªä¸ªåºé½è½æ¥å°å¯¹åºè¡¨ã</p>
<p>çº¿ä¸åæ¯ä¸åçå®ä¾ï¼ç´æ¥ä½¿ç¨ShardingSphereDataSourceå¯¹åºConnectionçåæ°æ®ï¼å¹¶ä¸æ»æ¯é¢æçåºã</p>
<p>è¿ä¸ªçæµåå ï¼ä¹å¨ä¹åç¬¬ä¸é¶æ®µçææ¥å»åï¼è½æ­£å¸¸å·¥ä½çä»£ç æå¨åºç¨ï¼è·åæ°æ®æºçæ¹å¼å®éæ¯</p>
<pre><code class="language-Java">Map&lt;String, DataSource&gt; allDataSource =
    shardingSphereDataSource.getContextManager().getDataSourceMap("logic_db");
Connection connection = allDataSouce.get(logicalSchemaName).getConnection();
</code></pre>
<p>è½ç¶å®ä¹ç¨äºHintMangerï¼ä½æè®¤ä¸ºæ¯æ²¡ææä¹çã</p>
<h1 id="ä¿®å¤">ä¿®å¤</h1>
<p>ç»¼åä»¥ä¸çåæï¼æç»çä¿®å¤ä»£ç å¦ä¸</p>
<pre><code class="language-Java">    List&lt;String&gt; tableNames = Lists.newArrayList();
    try (Connection conn =
        dataSourceHolder.getDataSourceByPhysicalSchemaName(physicalSchemaName).getConnection()) {
      DatabaseMetaData metaData = conn.getMetaData();
      try (ResultSet rs =
          metaData.getTables(physicalSchemaName, null, prefix + "%", new String[] {"TABLE"})) {
        while (rs.next()) {
          String tableName = rs.getString("TABLE_NAME");
          tableNames.add(tableName);
        }
      }
    } catch (SQLException e) {
      throw new RuntimeException("å¤çå¤§ç»æéå¤±è´¥", e);
    }
    return tableNames;
</code></pre>
<p>è¿æ¬¡åé¨ç½²å°çäº§ç¯å¢ï¼è¿è¡ç¬¦åé¢æã</p>
<p>å¯è§ï¼å½ä½ éè¦å®éååºå¯¹åºçåæ°æ®æ¶ï¼ä¸è¦ç¨shardingSphereDataSourceï¼èæ¯åºè¯¥ç¨å®å³èå·ä½ååºçdataSourceï¼ä¹å³shardingSphereDataSource.getContextManager().getDataSourceMap()ï¼åç¨è¿ä¸ªååºdataSourceè·ååæ°æ®ã</p>
<p>å¦åï¼çº¿ä¸çº¿ä¸ä¸åçMySqlå®ä¾éç½®ï¼ä¼å¯¼è´ä¸åçç°è±¡ï¼é¾ä»¥ææ¥çæ­£çåå ã</p>

</div>
<div id="MySignature" role="contentinfo">
    <div id="AllanboltSignature">
        <p id="PSignature" style="border-top: #e0e0e0 1px dashed; border-right: #e0e0e0 1px dashed; border-bottom: #e0e0e0 1px dashed; border-left: #e0e0e0 1px dashed;
            padding-top: 10px;padding-right: 10px;padding-bottom: 10px;padding-left: 60px;
            font-family: å¾®è½¯éé»; font-size:11px;">
            <br>
            ä½èï¼<a href="http://www.cnblogs.com/wuyuegb2312" target="_blank">äºå²³</a>
            <br>
            åºå¤ï¼<a href="http://www.cnblogs.com/wuyuegb2312" target="_blank">http://www.cnblogs.com/wuyuegb2312</a>
            <br>
            å¯¹äºæ é¢æªæ æ³¨ä¸ºâè½¬è½½âçæç« åä¸ºååï¼å¶çæå½ä½èææï¼æ¬¢è¿è½¬è½½ï¼ä½æªç»ä½èåæå¿é¡»ä¿çæ­¤æ®µå£°æï¼ä¸å¨æç« é¡µé¢ææ¾ä½ç½®ç»åºåæè¿æ¥ï¼å¦åä¿çè¿½ç©¶æ³å¾è´£ä»»çæå©ã
        </p>
    ã</div>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-12-26 22:01">2025-12-26 22:00</span>&nbsp;
<a href="https://www.cnblogs.com/wuyuegb2312">äºå²³</a>&nbsp;
éè¯»(<span id="post_view_count">30</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19405814);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19405814', targetLink: 'https://www.cnblogs.com/wuyuegb2312/p/19405814', title: 'ååºåè¡¨æ°æ®æºShardingSphereDataSourceçConnectionåæ°æ®è¯¯ç¨é®é¢åæ' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ æç´¢æ°æ®åºè¡¨çæ§è½ä¼åè¿ç¨ ]]></title>
    <link>https://www.cnblogs.com/yadelei/p/19406737/the-performance-optimization-process-of-searching-database-tables</link>
    <guid>baa623f00499bd34698147e318bc6721</guid>
    <description>
    <![CDATA[ 
		<h1 class="postTitle">
			<a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/yadelei/p/19406737/the-performance-optimization-process-of-searching-database-tables" title="åå¸äº 2025-12-26 21:54">
    <span role="heading" aria-level="2">æç´¢æ°æ®åºè¡¨çæ§è½ä¼åè¿ç¨</span>
    

</a>

		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="é®é¢èæ¯">é®é¢èæ¯</h2>
<p>åä¸ä¸ªæ°æ®åºè¡¨æ¥çãæ æ³¨ä¸åæçå·¥å·è½¯ä»¶ã</p>
<p><span class="math inline">\(Table\)</span>æ¯æ°æ®åºä¸­è¡¨çä¿¡æ¯ï¼<code>information_schema.tables</code>ï¼ï¼<span class="math inline">\(Documentation\)</span>æ¯<span class="math inline">\(Table\)</span>çæ°æ®å­å¸ææ¡£ï¼å­å¨å¨æ¬å°æä»¶ä¸­ï¼<span class="math inline">\(Annotation\)</span>æ¯å¯¹<span class="math inline">\(Table\)</span>çé¢å¤æ æ³¨ä¿¡æ¯ï¼å­å¨å¨å¦ä¸ä¸ªæ°æ®åºä¸­ãæ¯ä¸æ¡<span class="math inline">\(Table\)</span>ï¼æå¤å³èå°ä¸æ¡<span class="math inline">\(Documentation\)</span>åä¸æ¡<span class="math inline">\(Annotation\)</span>ã</p>
<p>ç°å¨æ³æç´¢<span class="math inline">\(Table\)</span>ãåç«¯ååç«¯æä¾3ä¸ªåæ°ï¼æç´¢å³é®è¯åè¡¨ãå½åé¡µç ãæ¯é¡µæ¡æ°ï¼åç«¯çæç´¢é»è¾æ¯ï¼å¦æä¸æ¡å®æ´æ°æ®ï¼<span class="math inline">\(Table\)</span>+<span class="math inline">\(Documentation\)</span>+<span class="math inline">\(Annotation\)</span>ï¼åå«æææç´¢å³é®è¯ï¼åå°<span class="math inline">\(Table\)</span>å å¥æç´¢ç»æä¸­ã</p>
<p><span class="math inline">\(Table\)</span>çæ°éç®åä¸º6000+ï¼è¦åå°ç§çº§æç´¢ã</p>
<h2 id="åæ­¥å®ç°">åæ­¥å®ç°</h2>
<p>å ä¸ºè·¨æ°æ®æºï¼æä»¥ä¸è½ç®åè¿è¡¨æ¥è¯¢ã</p>
<p>å¯¹äºæ¯ä¸ª<span class="math inline">\(Table\)</span>ï¼æ¥åº<span class="math inline">\(Documentation\)</span>ã<span class="math inline">\(Annotation\)</span>ï¼ç¶åå°<span class="math inline">\(Table\)</span>ã<span class="math inline">\(Documentation\)</span>ã<span class="math inline">\(Annotation\)</span>ä¸­è¦æç´¢çå­æ®µå¼ååºæ¥ï¼ç¨ç©ºæ ¼éå¼æ¼æ¥ä¸ºå­ç¬¦ä¸²ï¼å½¢å¦<code>"Tableå­æ®µå¼ Documentationå­æ®µå¼ Annotationå­æ®µå¼"</code>ï¼æä»¬ç§°ä¹ä¸º<span class="math inline">\(SearchKey\)</span>ï¼æç´¢é®ï¼ãå¦ææ¯ä¸ªå³é®è¯é½åå«å¨<span class="math inline">\(SearchKey\)</span>ä¸­ï¼åå°<span class="math inline">\(Table\)</span>å å¥æç´¢ç»æã</p>
<p>æç´¢æ¶ï¼åè·åææ<span class="math inline">\(Table\)</span>ï¼ç¶åéåæ¯ä¸ª<span class="math inline">\(Table\)</span>ï¼è·å<span class="math inline">\(SearchKey\)</span>å¹¶å¤æ­æ¯å¦å å¥æç´¢ç»æã</p>
<p>ä¸ºäºæé«éåº¦ï¼ç¨Redisç¼å­<span class="math inline">\(Table\)</span>å¯¹åºç<span class="math inline">\(SearchKey\)</span>ã</p>
<p>åææ°æ®æåµï¼</p>
<ul>
<li><span class="math inline">\(Table\)</span>åªå¢ãä¸å ãä¸æ¹ï¼å æ­¤ï¼æç´¢æ¶è¦éæ°è·åææ<span class="math inline">\(Table\)</span>ï¼ç¡®ä¿æç´¢å°æ°<span class="math inline">\(Table\)</span>ï¼ä¸å¿èèé©±éï¼evictï¼<span class="math inline">\(SearchKey\)</span>çç¼å­ã</li>
<li><span class="math inline">\(Documentation\)</span>ä¸å¢ãä¸å ãä¸æ¹ï¼å æ­¤ï¼ä¸å¿èèé©±é<span class="math inline">\(SearchKey\)</span>çç¼å­ã</li>
<li><span class="math inline">\(Annotation\)</span>å¢ãå ãæ¹ï¼å æ­¤ï¼è¦å¨<span class="math inline">\(Annotation\)</span>å¢å æ¹ä¹åé©±éå¯¹åº<span class="math inline">\(SearchKey\)</span>çç¼å­ï¼ç¡®ä¿æç´¢å°<span class="math inline">\(Annotation\)</span>çææ°ä¿¡æ¯ã</li>
</ul>
<p>å®æµç»æï¼</p>
<ul>
<li>å®ç°äºåè½ï¼æ¯æåæ¶æ<span class="math inline">\(Table\)</span>ã<span class="math inline">\(Documentation\)</span>ã<span class="math inline">\(Annotation\)</span>çå­æ®µæç´¢ã</li>
<li>ææ§è½é®é¢ï¼å³ä½¿ç¼å­å·²ç»å¨é¨å®æï¼ä½æ¯æ¬¡æç´¢é½è¦èæ¶30så·¦å³ï¼åå æ¯6000+ä¸ª<span class="math inline">\(Table\)</span>éåä»Redisè·å<span class="math inline">\(SearchKey\)</span>ï¼æ¯æ¬¡èæ¶1~15msï¼ç´¯è®¡èæ¶éå¸¸é¿ã</li>
</ul>
<h2 id="ç¬¬ä¸æ¬¡æ§è½ä¼å">ç¬¬ä¸æ¬¡æ§è½ä¼å</h2>
<p>ä¼åç¼å­ç­ç¥ã</p>
<p>è·åææ<span class="math inline">\(Table\)</span>åï¼æå»º<span class="math inline">\(SearchKeyMap\)</span>ï¼<span class="math inline">\(Table\)</span>â<span class="math inline">\(SearchKey\)</span>ï¼ï¼ç¶åå°<span class="math inline">\(SearchKeyMap\)</span>ç¼å­ï¼è¿æ ·ï¼ä¸ä¸æ¬¡æç´¢æ¶ï¼åªéè¦ä»Redisè·åä¸æ¬¡ï¼æé«ä¼ è¾æçã</p>
<p>ä¸ºäºç¡®ä¿æç´¢å°æ°<span class="math inline">\(Table\)</span>ï¼ç¼å­<span class="math inline">\(SearchKeyMap\)</span>æ¶å°<span class="math inline">\(Table\)</span>åè¡¨çé¿åº¦ä½ä¸ºç¼å­é®ï¼å¦ææ°å¢äº<span class="math inline">\(Table\)</span>ï¼å<span class="math inline">\(SearchKeyMap\)</span>ä¸ä¼å½ä¸­ç¼å­ï¼èæ¯éæ°æå»ºã</p>
<p>ä¸ºäºåå°æå»º<span class="math inline">\(SearchKeyMap\)</span>çæ¶é´ï¼ä»ç¶ä¿çåä¸ª<span class="math inline">\(SearchKey\)</span>çç¼å­ï¼ä»ç¶å¨<span class="math inline">\(Annotation\)</span>å¢å æ¹ä¹åé©±éåä¸ª<span class="math inline">\(SearchKey\)</span>çç¼å­ï¼ä½ä¸åçæ¯ï¼è¿è¦åæ¶é©±é<span class="math inline">\(SearchKeyMap\)</span>çç¼å­ã</p>
<p>å®æµç»æï¼</p>
<ul>
<li>æ§è½æåææ¾ï¼å¨ç¼å­å¨é¨å®æçæåµä¸ï¼æç´¢èæ¶éè³1.3så·¦å³ã</li>
<li>ä»ç¶ææ§è½é®é¢ï¼å¯¹ä¸ä¸ª<span class="math inline">\(Annotation\)</span>åäºå¢å æ¹ï¼ä¼é©±éæ´ä¸ª<span class="math inline">\(SearchKeyMap\)</span>ç¼å­ï¼éå»º<span class="math inline">\(SearchKeyMap\)</span>å°±ååå°äºéå<span class="math inline">\(Table\)</span>çæåµï¼ä»ç¶è¦èæ¶30så·¦å³ã</li>
</ul>
<h2 id="ç¬¬äºæ¬¡æ§è½ä¼å">ç¬¬äºæ¬¡æ§è½ä¼å</h2>
<p>ä¼åç¼å­ç­ç¥ã</p>
<p>åæ¶åä¸ª<span class="math inline">\(SearchKey\)</span>çç¼å­ï¼åªç¼å­<span class="math inline">\(SearchKeyMap\)</span>ã</p>
<p>æç´¢<span class="math inline">\(Table\)</span>æ¶ï¼è¦è·å<span class="math inline">\(SearchKeyMap\)</span>ãåè·åç°æç<span class="math inline">\(SearchKeyMap\)</span>ç¼å­ï¼åºå®ç¼å­é®ï¼ä¸åä½¿ç¨åè¡¨é¿åº¦ä½ä¸ºç¼å­é®ï¼æ²¡æç¼å­ååå¾ç©ºMapï¼ï¼ç¶åéå<span class="math inline">\(Table\)</span>ï¼å¦æ<span class="math inline">\(Table\)</span>ä¸å¨<span class="math inline">\(SearchKeyMap\)</span>ä¸­ï¼åè®¡ç®<span class="math inline">\(SearchKey\)</span>å¹¶æ¾å¥<span class="math inline">\(SearchKeyMap\)</span>ãè¿æ ·ï¼ç¬¬ä¸æ¬¡æç´¢æ¶ä¼è®¡ç®æ¯ä¸ª<span class="math inline">\(Table\)</span>ç<span class="math inline">\(SearchKey\)</span>ï¼åç»­æç´¢å°±åªéè¦è®¡ç®æ°<span class="math inline">\(Table\)</span>ç<span class="math inline">\(SearchKey\)</span>ã</p>
<p><span class="math inline">\(Annotation\)</span>å¢å æ¹åï¼è¦æ´æ°<span class="math inline">\(SearchKeyMap\)</span>ãåè·åç°æç<span class="math inline">\(SearchKeyMap\)</span>ç¼å­ï¼ç¶åéæ°è®¡ç®æå®<span class="math inline">\(Table\)</span>ç<span class="math inline">\(SearchKey\)</span>å¹¶æ¾å¥<span class="math inline">\(SearchKeyMap\)</span>ãè¿æ ·ï¼æ éæ¯æ¬¡é½éå»ºæ´ä¸ª<span class="math inline">\(SearchKeyMap\)</span>ã</p>
<p>å®æµç»æï¼<span class="math inline">\(Annotation\)</span>å¢å æ¹ååæç´¢ï¼èæ¶éè³1.3så·¦å³ã</p>
<h2 id="ç¬¬ä¸æ¬¡æ§è½ä¼å">ç¬¬ä¸æ¬¡æ§è½ä¼å</h2>
<p>ä¼åç¼å­å®ç°æ¹å¼ã</p>
<p>æ¢ç¶ç°å¨åªéè¦ç®åå°ç¼å­ä¸ä¸ª<span class="math inline">\(SearchKeyMap\)</span>ï¼é£ä¹ä¸ä¸å®è¦ç¨Redisã</p>
<p>ä½¿ç¨Redisä½ä¸ºç¼å­ï¼<code>RedisCacheManager</code>ï¼ï¼è½ç¶åç½éä¿¡å¿«ï¼ä½ä»æç½ç»å¼éãå®æµå¹³å1092.9msã</p>
<p>ä½¿ç¨Mapä½ä¸ºç¼å­ï¼<code>ConcurrentMapCacheManager</code>ï¼ï¼å¶ä»ä»£ç å®å¨ä¸åãå®æµå¹³å968.3msã</p>
<p>ä¿®æ¹ä»£ç ï¼ç´æ¥ç¨ç±»ä¸­ç<code>Map</code>å­æ®µä½ä¸ºç¼å­ï¼çå»ç¼å­ç®¡çå¨çå¼éãå®æµå¹³å915.2msã</p>
<p>å¯è§ï¼æ§è½ææåï¼ä½å¹åº¦ä¸å¤§ãç±äºè½¯ä»¶å¨å¼åä¸­ï¼è¦é¢ç¹éæ°è¿è¡ï¼Redisè½ä¿æç¼å­ï¼Mapä¸è½ï¼å æ­¤ä¿æä¸ä¸çæ¹æ¡ä¸åä¿®æ¹ã</p>
<h2 id="ç¬¬åæ¬¡æ§è½ä¼å">ç¬¬åæ¬¡æ§è½ä¼å</h2>
<p>ç¬¬ä¸æ¬¡ä¼åå¶å®æ¯ç²ç®çï¼åºè¯¥è¦ç¨äºå®æ¾åºæ§è½ç¶é¢ã</p>
<p>å¯¹æç´¢è¿ç¨è®¡æ¶åæåç°ï¼ä¸æ¬¡èæ¶1105msçæç´¢ï¼å¶ä¸­è·åææ<span class="math inline">\(Table\)</span>èæ¶1028msï¼å æ¯93%ï¼æ¯ç»å¯¹çæ§è½ç¶é¢ã</p>
<p>æè·¯1ï¼ååªè·åææè¡¨åï¼èä¸æ¯<span class="math inline">\(Table\)</span>å¯¹è±¡ï¼å¦æè¡¨åå¯¹åºç<span class="math inline">\(SearchKey\)</span>å¹éï¼åè·å<span class="math inline">\(Table\)</span>ãå®æµåç°ï¼å¦æå¹éçè¡¨åå¾å¤ï¼ä¾å¦å³é®è¯åè¡¨ä¸ºç©ºæ¶ï¼ï¼åå³ä½¿æè¡¨åâ<span class="math inline">\(Table\)</span>çç¼å­ï¼Rediså®ç°ï¼ï¼éä¸ªè·åä¹è¿è¿æ¢äºç´æ¥ä»æ°æ®åºä¸æ¬¡æ§è·åãå æ­¤ï¼æ­¤æè·¯<strong>ä¸å¯è¡</strong>ã</p>
<p>æè·¯2ï¼<span class="math inline">\(Table\)</span>åªå¢ãä¸å ãä¸æ¹ï¼å æ­¤å¯ä»¥èèå¢éè·åãç¼å­<span class="math inline">\(Table\)</span>åè¡¨ï¼æ¯æ¬¡è·åæ¶è·³è¿ç¼å­çé¿åº¦ï¼åªè·åå¢éé¨åãç¶èï¼<code>information_schema.tables</code>ä¸­æ²¡æ<code>id</code>ï¼æ æ³ä¿è¯æ°<span class="math inline">\(Table\)</span>ä¸å®æå¨æåãå æ­¤ï¼æ­¤æè·¯<strong>ä¸å¯è¡</strong>ã</p>
<p>æè·¯3ï¼è·åææ<span class="math inline">\(Table\)</span>è¯´å°åºåªæ¯ä¸ºäºæç´¢å°æ°<span class="math inline">\(Table\)</span>ï¼å¦æè½ç¥éä»ä¹æ¶åæ°å¢äº<span class="math inline">\(Table\)</span>ï¼å°±å¯ä»¥æ¾å¿å°ä½¿ç¨<span class="math inline">\(Table\)</span>åè¡¨çç¼å­ï¼æèä»æ°æ®åºéæ°è·åãé£ä¹æä¹ç¥éï¼ç±äº<span class="math inline">\(Table\)</span>åªå¢ï¼æä»¥å¯ä»¥ç¨<span class="math inline">\(Table\)</span>çæ°éå¤æ­ãç¼å­<span class="math inline">\(Table\)</span>åè¡¨ï¼æ¯æ¬¡åä»æ°æ®åºæ¥åºæ°éï¼æ¯ç´æ¥æ¥åº<span class="math inline">\(Table\)</span>åè¡¨ææ¾æ´å¿«ï¼ï¼å¦ææ°éä¸ç¼å­ä¸è´ï¼åç¨ç¼å­ï¼å¦åæ¥åºãå®æµï¼æ­¤æè·¯<strong>å¯è¡</strong>ã</p>
<p>å®ç°æè·¯3åï¼åæ¬¡è®¡æ¶åæãæ æ°å¢<span class="math inline">\(Table\)</span>æ¶ï¼æç´¢èæ¶éè³360mså·¦å³ï¼åªæ¥åºæ°éï¼ï¼ææ°å¢æ¶ï¼èæ¶åè³1.5så·¦å³ï¼æ¥åºæ°é+åè¡¨ï¼ãç±äºæç´¢<span class="math inline">\(Table\)</span>çé¢çè¿è¿é«äºæ°å¢<span class="math inline">\(Table\)</span>ï¼å æ­¤ï¼æ»ä½æ§è½æåæ¾èã</p>
<h2 id="æ»ç»">æ»ç»</h2>
<p>ç»è¿æ°æ¬¡æ§è½ä¼åï¼å¨æ»¡è¶³åè½çåæä¸ï¼æç´¢æ¶é´ä»30så·¦å³éè³ç¨³å®0.4så·¦å³ï¼æææ¾èã0.4så·²ç»æ²¡æç¼æ¢æï¼æ§è½ä¼åå·¥ä½å¯ä»¥ç»æäºã</p>
<p>ä»ä¸è¿°ä¼åè¿ç¨å¯è§ï¼åä¼åè¦å å°å¶å®ï¼å·ä½é®é¢å·ä½åæï¼éæ©åéçç­ç¥ï¼ä¼åææçè¡¡éè¦ä»¥å®æµç»æä¸ºåã</p>

</div>
<div class="clear"></div>

		</div>
		<div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-12-26 21:55">2025-12-26 21:54</span>&nbsp;
<a href="https://www.cnblogs.com/yadelei">äºå¾·é·</a>&nbsp;
éè¯»(<span id="post_view_count">47</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19406737);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19406737', targetLink: 'https://www.cnblogs.com/yadelei/p/19406737/the-performance-optimization-process-of-searching-database-tables', title: 'æç´¢æ°æ®åºè¡¨çæ§è½ä¼åè¿ç¨' })">ä¸¾æ¥</a>
</div>
	 ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ä½¿ç¨Gradioæå»ºAIåç«¯ - RAGå¬åæµè¯ ]]></title>
    <link>https://www.cnblogs.com/aspnetx/p/19406675</link>
    <guid>0ffff4524393353d0022699c451a1030</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/aspnetx/p/19406675" title="åå¸äº 2025-12-26 21:27">
    <span role="heading" aria-level="2">ä½¿ç¨Gradioæå»ºAIåç«¯ - RAGå¬åæµè¯</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        æå»ºAIåºç¨çåç«¯æ¹æ¡æå¾å¤ï¼è¿éä»ç»ä¸ä¸ªå¼æºåç«¯åº---Gradioï¼éè¿å®å¯ä»¥ä½¿ç¨ç®ç­çä»£ç å°±å¯ä»¥å¿«éçå®ç°ç®åçAIåºç¨åç«¯ãè¿éæä»¬éæ©çåºæ¯ä¸ºåRAGå¬åæµè¯ï¼éè¿è°ç¨ååå°è£å¥½çLangChainä»£ç ï¼æ¥å¿«éçæ­å»ºè¿ä¸ªåç«¯é¡µé¢ã
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="ä½¿ç¨gradioæå»ºaiåç«¯---ragå¬åæµè¯">ä½¿ç¨Gradioæå»ºAIåç«¯ - RAGå¬åæµè¯</h1>
<h2 id="ä¸æè¦">ä¸ãæè¦</h2>
<p>æå»ºAIåºç¨çåç«¯æ¹æ¡æå¾å¤ï¼è¿éä»ç»ä¸ä¸ªå¼æºåç«¯åº---Gradioï¼éè¿å®å¯ä»¥ä½¿ç¨ç®ç­çä»£ç å°±å¯ä»¥å¿«éçå®ç°ç®åçAIåºç¨åç«¯ãè¿éæä»¬éæ©çåºæ¯ä¸ºåRAGå¬åæµè¯ï¼éè¿è°ç¨ååå°è£å¥½çLangChainä»£ç ï¼æ¥å¿«éçæ­å»ºè¿ä¸ªåç«¯é¡µé¢ã</p>
<h2 id="äºaié¡¹ç®åç«¯æ¹æ¡çå¯¹æ¯">äºãAIé¡¹ç®åç«¯æ¹æ¡çå¯¹æ¯</h2>
<p>å¯ä»¥åAIçåç«¯æ¹æ¡å¾å¤ï¼è¿éä¸»è¦ä»ç»æ¯è¾ç­é¨çä¸ä¸ªæ¹æ¡ï¼</p>
<ul>
<li>Gradio æ¯ä¸æ¬¾å¼æºç Python åºï¼æ ¸å¿å®ä½æ¯å¿«éæå»ºæºå¨å­¦ä¹  / æ·±åº¦å­¦ä¹ æ¨¡åçäº¤äºå¼ Web æ¼ç¤ºçé¢ï¼æ éåç«¯å¼åç»éªï¼ä¸è¡ä»£ç å³å¯å°æ¨¡åï¼æä»»æ Python å½æ°ï¼è½¬åä¸ºå¯éè¿æµè§å¨è®¿é®çäº¤äºé¡µé¢ï¼æ¹ä¾¿å¼åèãç ç©¶èå¿«éå±ç¤ºãæµè¯ååäº«æ¨¡åã</li>
<li>Streamlit æ¯ä¸æ¬¾å¼æºç Python åºï¼ä¸»æå¿«éæå»ºæ°æ®ç§å­¦ / æºå¨å­¦ä¹ é¢åçäº¤äºå¼ Web åºç¨ï¼æ éåç«¯å¼åç»éªï¼ä»¥ âèæ¬å³åºç¨â ä¸ºæ ¸å¿çå¿µ ââ æ®éç Python èæ¬åªéæ·»å å°é Streamlit è¯­æ³ï¼å°±è½ä¸é®è½¬åä¸ºå¯äº¤äºç Web åºç¨ï¼æ¯æ°æ®åæå¸ãç®æ³å·¥ç¨å¸å¿«éè½å°å¯è§å / åæå·¥å·çé¦éã</li>
<li>Vueï¼è¯»é³ /vjuË/ï¼ç±»ä¼¼ viewï¼æ¯ä¸æ¬¾æ¸è¿å¼ JavaScript æ¡æ¶ï¼æ ¸å¿èç¦äºåç«¯è§å¾å±ï¼UIï¼å¼åï¼ç±å°¤é¨æºªå¼åå¹¶å¼æºï¼æ¯ç®åæä¸»æµçåç«¯æ¡æ¶ä¹ä¸ï¼ä¸ ReactãAngular å¹¶ç§°ï¼ã<br>
ç¸å¯¹ä¸ç§æ¹æ¡ï¼Gradioæ¯ç´æ¥è¢«è®¾è®¡æAIçåç«¯çï¼Streamlitéååæ°æ®ç§å­¦çåç«¯ãèVueæ¯ä¸ä¸ªæ´ä¸ä¸çåç«¯æ¡æ¶ã<br>
è¿éæä»¬ä»ç»çå°±æ¯Gradioãæä»¥æä»¬ä½¿ç¨Gradioæå»ºäºä¸ä¸ªRAGï¼æ£ç´¢å¢å¼ºçæï¼å¬åæµè¯ç³»ç»çé¢ï¼ä¸»è¦åè½æ¯éè¿è°ç¨<code>LC_RAG_02_RecallTest.py</code>ä¸­ç<code>recall</code>å½æ°å®ç°ç¸ä¼¼åº¦æ£ç´¢ï¼ç¨æ·å¯ä»¥è¾å¥æ¥è¯¢ææ¬å¹¶è®¾ç½®è¿åç»ææ°éï¼ç³»ç»ä¼å±ç¤ºæ£ç´¢å°çæç¸ä¼¼ææ¡£ã</li>
</ul>
<h2 id="ä¸ç¯å¢ä»ç»">ä¸ãç¯å¢ä»ç»</h2>
<p>è¿éåºäºæå¦å¤ä¸ç¯ç¬è®°ï¼<br>
<a href="https://www.cnblogs.com/aspnetx/p/19173914" target="_blank">https://www.cnblogs.com/aspnetx/p/19173914</a><br>
å¨è¿ä¸ªç¬è®°ä¸­ï¼ä»ç»äºå¦ä½ä½¿ç¨pythonæå»ºRAGç³»ç»ï¼ä½¿ç¨çæ¯LangChain1.0çåºã<br>
æ´ä¸ªé¡¹ç®å¯ä»¥å¨ä»¥ä¸ä»åºä¸­æ¾å°ï¼<br>
<a href="https://github.com/microsoftbi/Langchain_DEMO/tree/main/RAG" target="_blank" rel="noopener nofollow">https://github.com/microsoftbi/Langchain_DEMO/tree/main/RAG</a><br>
æä¼ç¨å°å¨å¶ä¸­çä¸ä¸ªæä»¶ä¸­å°è£å¥½çåRAGå¬åæµè¯çä»£ç ï¼æ¥æå»ºåç«¯åºç¨ï¼åæ­¤å±ç¤ºGradioç¯å¢ä¸­å¦ä½å¿«éçæ­å»ºåç«¯é¡µé¢ã<br>
æ¬æåå»ºçä»£ç æä»¶åä¸ºï¼LC_RAG_07b_Gradio.py<br>
è°ç¨ååå¬åæµè¯çä»£ç æä»¶ä¸ºï¼LC_RAG_02_RecallTest.py</p>
<h2 id="åä¸»è¦åè½æ¨¡å">åãä¸»è¦åè½æ¨¡å</h2>
<h3 id="1-å¬åæµè¯å½æ°-run_recall_test">1. å¬åæµè¯å½æ° <code>run_recall_test</code></h3>
<ul>
<li>åè½ï¼è°ç¨LC_RAG_02_RecallTest.pyæä»¶ä¸­å°è£å¥½ç<code>recall</code>å½æ°æ§è¡æ£ç´¢å¹¶æè·è¾åºç»æã</li>
</ul>
<pre><code class="language-Python">def run_recall_test(query, top_k):
    """è¿è¡å¬åæµè¯å¹¶è¿åç»æ"""
    try:
        # è°ç¨recallå½æ°ï¼ä½éè¦æè·å¶è¾åº
        import io
        from contextlib import redirect_stdout
        
        # åå»ºä¸ä¸ªå­ç¬¦ä¸²IOå¯¹è±¡æ¥æè·è¾åº
        f = io.StringIO()
        with redirect_stdout(f):
            recall(
                query=query,
                top_k=top_k,
                vectorstore_dir="./RAG/chroma_db",
                embedding_model="text-embedding-v4"
            )
        
        # è·åæè·çè¾åº
        output = f.getvalue()
        return output
    except Exception as e:
        return f"éè¯¯: {str(e)}"
</code></pre>
<ul>
<li>å®ç°è¦ç¹ï¼
<ul>
<li>ä½¿ç¨<code>io.StringIO()</code>åå»ºå­ç¬¦ä¸²ç¼å²åº</li>
<li>éè¿<code>redirect_stdout</code>ä¸ä¸æç®¡çå¨æè·<code>recall</code>å½æ°çæå°è¾åº</li>
<li>è°ç¨<code>recall</code>å½æ°æ¶æå®åæ°ï¼æ¥è¯¢ææ¬ãè¿åæ°éãåéå­å¨ç®å½ååµå¥æ¨¡å<br>
å ä¸ºå¨ååå°è£å¥½çä»£ç ä¸­å¹¶æ²¡æè¿åå¼ï¼èæ¯ç´æ¥éè¿printæ¥è¾åºç»æï¼æä»¥è¿ééè¦è°ç¨ç¸å³çåæ¥è¯»åè¿äºè¾åºã</li>
</ul>
</li>
</ul>
<h3 id="2-gradioçé¢æå»º">2. Gradioçé¢æå»º</h3>
<p>é¦åéè¦ç¡®ä¿Gradioçåºå·²ç»è¢«å®è£ï¼</p>
<pre><code>pip install gradio 
</code></pre>
<p>ç¶åå¨ä»£ç ä¸­å¼å¥è¿ä¸ªåºã</p>
<pre><code>import gradio as gr 
</code></pre>
<p>éåä½¿ç¨<code>gr.Blocks</code>åå»ºç»æåçé¢ï¼å¨å¶ä¸åéè¿gr.Row()ä»¥ågr.Column()ï¼å°±å¯ä»¥å¾è¿ä¸ªæ¡æ¶ä¸åå²åºæ¥ä¸åçè¡ååæ¥å æ¾éè¦çç»ä»¶ã<br>
é¡ºä¾¿è¯´ä¸ä¸ï¼Gradidæä¸¤ç§æ¹å¼çå¸å±ï¼ä¸ä¸ªæ¯interface, éè¿ç»å®çå½æ°èªå¨çæçé¢ï¼å¦ä¸ä¸ªå°±æ¯Blockï¼éè¿è¡åçæ¹å¼èªå·±ç»ç»çé¢ãè¿éç¨å°çå°±æ¯Blocksæ¹å¼ã</p>
<p>ä»¥ä¸æ¯å ç§å¸¸ç¨çè®¾ç½®åç«¯çé¢çæ¹æ³ï¼</p>
<h4 id="1é¡µé¢æ é¢ä¸è¯´æ">ï¼1ï¼é¡µé¢æ é¢ä¸è¯´æ</h4>
<p>ç´æ¥åmarkdownæ ¼å¼çè¾åºï¼</p>
<pre><code class="language-python">gr.Markdown("# RAGå¬åæµè¯ç³»ç»")
gr.Markdown("ä½¿ç¨Gradioæå»ºçRAGå¬åæµè¯çé¢ï¼è°ç¨LC_RAG_02_RecallTest.pyå®ç°ç¸ä¼¼åº¦æ£ç´¢")
</code></pre>
<h4 id="2è¾å¥åºåå·¦ä¾§">ï¼2ï¼è¾å¥åºåï¼å·¦ä¾§ï¼</h4>
<p>ä¹å°±æ¯å¨gr.Row()çç¬¬ä¸ä¸ªgr.Column()</p>
<pre><code class="language-Python">        with gr.Column(scale=1):
            gr.Markdown("## æ¥è¯¢è®¾ç½®")
            
            # æ¥è¯¢ææ¬è¾å¥
            query_input = gr.Textbox(
                label="æ¥è¯¢ææ¬",
                placeholder="è¯·è¾å¥æ¨è¦æ£ç´¢çé®é¢æå³é®è¯",
                lines=3,
                info="ä¾å¦: 'ä»ä¹æ¯æªæå¹´?' æ 'åªäºèåæ¥åºè¯¥å®æä¼å?'"
            )
            
            # Top-Kè®¾ç½®
            top_k_slider = gr.Slider(
                label="Top-Kæ£ç´¢æ°é",
                minimum=1,
                maximum=10,
                value=5,
                step=1,
                info="è®¾ç½®è¿åçæç¸ä¼¼ææ¡£æ°é"
            )
            
            # æäº¤æé®
            submit_btn = gr.Button(
                "æ§è¡å¬åæµè¯",
                variant="primary",
                size="lg"
            )
            
            # éç½®æé®
            clear_btn = gr.Button("éç½®", variant="secondary")
</code></pre>
<p>è¿æ®µä»£ç åæ¬åå»ºä»¥ä¸çé¢ï¼</p>
<ul>
<li>æ¥è¯¢ææ¬è¾å¥æ¡ï¼<code>gr.Textbox</code>ï¼æ¯æå¤è¡è¾å¥</li>
<li>Top-Kè®¾ç½®æ»åï¼<code>gr.Slider</code>ï¼èå´1-10ï¼é»è®¤å¼5</li>
<li>æä½æé®ï¼"æ§è¡å¬åæµè¯"ï¼ä¸»æé®ï¼å"éç½®"ï¼æ¬¡è¦æé®ï¼</li>
</ul>
<p>å¯ä»¥çå°éè¿gr.å¯¹åºçæ¹æ³ï¼å°±å¯ä»¥åå»ºä¸åçç»ä»¶ã</p>
<h4 id="3è¾åºåºåå³ä¾§">ï¼3ï¼è¾åºåºåï¼å³ä¾§ï¼</h4>
<p>gr.Row()çç¬¬äºä¸ªgr.Column()</p>
<pre><code class="language-Python">        # å³ä¾§ï¼è¾åºåºå
        with gr.Column(scale=2):
            gr.Markdown("## å¬åç»æ")
            
            # ç»æè¾åº
            result_output = gr.Textbox(
                label="ç¸ä¼¼åº¦æ£ç´¢ç»æ",
                lines=20,
                interactive=False,
                placeholder="å¬åç»æå°æ¾ç¤ºå¨è¿é..."
            )
            
            # ç¶æä¿¡æ¯
            status_info = gr.Markdown("ç¶æ: å°±ç»ª")
</code></pre>
<ul>
<li>ç»æè¾åºæ¡ï¼<code>gr.Textbox</code>ï¼å±ç¤ºæ£ç´¢ç»æ</li>
<li>ç¶æä¿¡æ¯ï¼<code>gr.Markdown</code>ï¼æ¾ç¤ºç³»ç»å½åç¶æ</li>
</ul>
<h3 id="3-æé®äºä»¶">3. æé®äºä»¶</h3>
<p>è¿éä¸»è¦æ¯è°ç¨åé¢å®ä¹çæ¹æ³ï¼run_recall_test<br>
ç¶åä¸é¢å°è£äºä¸ä¸ªååºæé®çæ¹æ³ï¼</p>
<pre><code class="language-Python"># æé®äºä»¶
def on_submit(query, top_k):
    if not query:
        return "è¯·è¾å¥æ¥è¯¢ææ¬", "ç¶æ: éè¯¯ - æ¥è¯¢ææ¬ä¸è½ä¸ºç©º"
        
    status_info.value = "ç¶æ: æ­£å¨æ§è¡å¬åæµè¯..."
    result = run_recall_test(query, top_k)
    return result, "ç¶æ: æµè¯å®æ"
</code></pre>
<p>æåæè½½æé®çclickæ¹æ³ï¼</p>
<pre><code># ç»å®äºä»¶
submit_btn.click(
    fn=lambda query, top_k: on_submit(query, top_k),
    inputs=[query_input, top_k_slider],
    outputs=[result_output, status_info]
</code></pre>
<p>éè¦çæçæ¯è¿éçäºä»¶ååºçæ¹æ³è·å¶å®ç¼ç¨è¯­è¨çä¼æäºä¸åã</p>
<h3 id="5-åºç¨å¯å¨">5. åºç¨å¯å¨</h3>
<pre><code class="language-python">demo.launch(
    server_name="0.0.0.0",  # åè®¸å¤é¨è®¿é®
    server_port=7860,       # ç«¯å£å·
    share=False,            # ä¸çæå¬å±é¾æ¥
    debug=False             # éè°è¯æ¨¡å¼
)
</code></pre>
<p>æå®ç«¯å£å·åå¶å®ä¿¡æ¯ï¼ç´æ¥è¿è¡è¿ä¸ªä»£ç å°±å¯ä»¥å¨æµè§å¨éè®¿é®äºã<br>
ä»¥ä¸æ¯ä»£ç ææå»ºççé¢ã</p>
<p><img src="https://img2024.cnblogs.com/blog/8622/202512/8622-20251226211747483-484824576.png" alt="img" loading="lazy"></p>
<p>å¯ä»¥çå°ç¸æ¯ç¨Vueæ¥å°è£ï¼ä»£ç éå°±å°äºå¾å¤ï¼å°¤å¶æ¯ä¸éè¦åå»ºï¼æå»ºé¡¹ç®ï¼ä»¥åä¸ºåç«¯å»ä¸é¨åAPIã<br>
æä»¥å¯¹äºå¿«éçå¼åæ¥è¯´ï¼Gradioæ¯éå¸¸åéçãä½æ¯å¯¹äºä¼ä¸çº§çä¸ä¸å¼åï¼è¿æ¯å»ºè®®éæ©Vueã<br>
è¿æä¸ç§å»ºè®®å°±æ¯ï¼éè¿Gradioæ¥åå¿«éçååå¼åï¼ç¶åç¨Vueæ¥åçäº§å¼åã</p>
<details>
<summary>ä»¥ä¸æ¯ä»£ç çå¨é¨åå®¹ï¼ç¹å»å±å¼ã</summary>
<pre><code class="language-Python">import os
import gradio as gr
from dotenv import load_dotenv
from LC_RAG_02_RecallTest import recall

# å è½½ç¯å¢åé
load_dotenv()

def run_recall_test(query, top_k):
    """è¿è¡å¬åæµè¯å¹¶è¿åç»æ"""
    try:
        # è°ç¨recallå½æ°ï¼ä½éè¦æè·å¶è¾åº
        import io
        from contextlib import redirect_stdout
        
        # åå»ºä¸ä¸ªå­ç¬¦ä¸²IOå¯¹è±¡æ¥æè·è¾åº
        f = io.StringIO()
        with redirect_stdout(f):
            recall(
                query=query,
                top_k=top_k,
                vectorstore_dir="./RAG/chroma_db",
                embedding_model="text-embedding-v4"
            )
        
        # è·åæè·çè¾åº
        output = f.getvalue()
        return output
    except Exception as e:
        return f"éè¯¯: {str(e)}"

# åå»ºçé¢
with gr.Blocks(title="RAGå¬åæµè¯ç³»ç»", theme=gr.themes.Soft()) as demo:
    # é¡µé¢æ é¢
    gr.Markdown("# RAGå¬åæµè¯ç³»ç»")
    gr.Markdown("ä½¿ç¨Gradioæå»ºçRAGå¬åæµè¯çé¢ï¼è°ç¨LC_RAG_02_RecallTest.pyå®ç°ç¸ä¼¼åº¦æ£ç´¢")
    
    with gr.Row():
        # å·¦ä¾§ï¼è¾å¥åºå
        with gr.Column(scale=1):
            gr.Markdown("## æ¥è¯¢è®¾ç½®")
            
            # æ¥è¯¢ææ¬è¾å¥
            query_input = gr.Textbox(
                label="æ¥è¯¢ææ¬",
                placeholder="è¯·è¾å¥æ¨è¦æ£ç´¢çé®é¢æå³é®è¯",
                lines=3,
                info="ä¾å¦: 'ä»ä¹æ¯æªæå¹´?' æ 'åªäºèåæ¥åºè¯¥å®æä¼å?'"
            )
            
            # Top-Kè®¾ç½®
            top_k_slider = gr.Slider(
                label="Top-Kæ£ç´¢æ°é",
                minimum=1,
                maximum=10,
                value=5,
                step=1,
                info="è®¾ç½®è¿åçæç¸ä¼¼ææ¡£æ°é"
            )
            
            # æäº¤æé®
            submit_btn = gr.Button(
                "æ§è¡å¬åæµè¯",
                variant="primary",
                size="lg"
            )
            
            # éç½®æé®
            clear_btn = gr.Button("éç½®", variant="secondary")
        
        # å³ä¾§ï¼è¾åºåºå
        with gr.Column(scale=2):
            gr.Markdown("## å¬åç»æ")
            
            # ç»æè¾åº
            result_output = gr.Textbox(
                label="ç¸ä¼¼åº¦æ£ç´¢ç»æ",
                lines=20,
                interactive=False,
                placeholder="å¬åç»æå°æ¾ç¤ºå¨è¿é..."
            )
            
            # ç¶æä¿¡æ¯
            status_info = gr.Markdown("ç¶æ: å°±ç»ª")
    
    # æé®äºä»¶
    def on_submit(query, top_k):
        if not query:
            return "è¯·è¾å¥æ¥è¯¢ææ¬", "ç¶æ: éè¯¯ - æ¥è¯¢ææ¬ä¸è½ä¸ºç©º"
        
        status_info.value = "ç¶æ: æ­£å¨æ§è¡å¬åæµè¯..."
        result = run_recall_test(query, top_k)
        return result, "ç¶æ: æµè¯å®æ"
    
    def on_clear():
        return "", 5, "", "ç¶æ: å·²éç½®"
    
    # ç»å®äºä»¶
    submit_btn.click(
        fn=lambda query, top_k: on_submit(query, top_k),
        inputs=[query_input, top_k_slider],
        outputs=[result_output, status_info]
    )
    
    clear_btn.click(
        fn=on_clear,
        inputs=[],
        outputs=[query_input, top_k_slider, result_output, status_info]
    )
    
    # ç¤ºä¾æ¥è¯¢
    gr.Markdown("## ç¤ºä¾æ¥è¯¢")
    with gr.Row():
        example1 = gr.Button("ä»ä¹æ¯æªæå¹´?")
        example2 = gr.Button("åªäºèåæ¥åºè¯¥å®æä¼å?")
        example3 = gr.Button("è¶³çæ¯èµçåºæ¬è§åæ¯ä»ä¹?")
    
    def set_example(example_text):
        return example_text, 5, "", "ç¶æ: å°±ç»ª"
    
    example1.click(fn=lambda: set_example("ä»ä¹æ¯æªæå¹´?"), inputs=[], outputs=[query_input, top_k_slider, result_output, status_info])
    example2.click(fn=lambda: set_example("åªäºèåæ¥åºè¯¥å®æä¼å?"), inputs=[], outputs=[query_input, top_k_slider, result_output, status_info])
    example3.click(fn=lambda: set_example("è¶³çæ¯èµçåºæ¬è§åæ¯ä»ä¹?"), inputs=[], outputs=[query_input, top_k_slider, result_output, status_info])

# å¯å¨åºç¨
if __name__ == "__main__":
    demo.launch(
        server_name="0.0.0.0",
        server_port=7860,
        share=False,
        debug=False
    )
</code></pre>
</details>
</div>
<div id="MySignature" role="contentinfo">
    <p>&nbsp;</p>
<p>---------------------------------------------------------------</p>
<p style="margin: 0in 0in 10pt;">aspnetx<span style="font-family: SimSun;">ç</span>BI<span style="font-family: SimSun;">ç¬è®°ç³»åç´¢å¼ï¼</span></p>
<p style="margin: 0in 0in 10pt;"><a href="http://www.cnblogs.com/aspnetx/archive/2013/02/25/2931603.html" target="_blank">ä½¿ç¨SQL Server Analysis Servicesæ°æ®ææçå³èè§åå®ç°ååæ¨èåè½</a></p> 
<p style="margin: 0in 0in 10pt;"><a href="http://www.cnblogs.com/aspnetx/archive/2013/03/24/2978347.html" target="_blank">ä¸èµ·ç©è½¬SQL Server 2012 ä¸çåææå¡</a></p> 
<p style="margin: 0in 0in 10pt;"><a href="http://www.cnblogs.com/aspnetx/archive/2013/04/05/3000448.html" target="_blank">ä½¿ç¨SQL Serveråææå¡å®ä½ç®æ ç¨æ·  </a></p> 

<p>&nbsp;</p>
<p>&nbsp;</p>
<p>---------------------------------------------------------------<br></p>
<p>æ¥èª<a href="http://www.cnblogs.com/" target="_blank">åå®¢å­</a>ç<a href="http://aspnetx.cnblogs.com/" target="_blank">aspnetx</a><font color="white">å®å«ä¸</font></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-12-26 21:27">2025-12-26 21:27</span>&nbsp;
<a href="https://www.cnblogs.com/aspnetx">å¥æ¬åå£«å¥(aspnetx)</a>&nbsp;
éè¯»(<span id="post_view_count">33</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19406675);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19406675', targetLink: 'https://www.cnblogs.com/aspnetx/p/19406675', title: 'ä½¿ç¨Gradioæå»ºAIåç«¯ - RAGå¬åæµè¯' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ èææºæä½ç³»ç»éæ©æåï¼2025ï¼ ]]></title>
    <link>https://www.cnblogs.com/zyh-828/p/19400492</link>
    <guid>a03b2844646bc7cf230f169a67a03ca7</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/zyh-828/p/19400492" title="åå¸äº 2025-12-26 21:23">
    <span role="heading" aria-level="2">èææºæä½ç³»ç»éæ©æåï¼2025ï¼</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="èææºæä½ç³»ç»éæ©æå">èææºæä½ç³»ç»éæ©æå</h2>
<p>*<em>ä¸ºåå¥é¨çæ°æåå¤çç®ææåï¼ä¸æ·±ç©¶ææ¯ç»èï¼åªå³æ³¨"åªä¸ªæ´éåæ"</em></p>
<p>â¢ <a href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BA%86%E8%A7%A3%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F" rel="noopener nofollow">ä¸ºä»ä¹è¦äºè§£èææºæä½ç³»ç»ï¼</a><br>
â¢ <a href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%AE%80%E4%BB%8B" rel="noopener nofollow">èææºæä½ç³»ç»ç®ä»</a><br>
â¢ <a href="#%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9%E9%80%82%E5%90%88%E4%BD%A0%E7%9A%84%E7%B3%BB%E7%BB%9F" rel="noopener nofollow">å¦ä½éæ©éåä½ çç³»ç»</a></p>
<p><a id="ä¸ºä»ä¹è¦äºè§£èææºæä½ç³»ç»"></a></p>
<h3 id="ä¸ºä»ä¹è¦äºè§£èææºæä½ç³»ç»">ä¸ºä»ä¹è¦äºè§£èææºæä½ç³»ç»ï¼</h3>
<p>æ³è±¡ä¸ä¸ï¼ä½ æä¸å°ç©ççµèï¼ä½æ³å¨éé¢è¿è¡å¤ä¸ª"èæçµè"ï¼æ¯ä¸ª"èæçµè"é½æèªå·±ç¬ç«çæä½ç³»ç»ãè¿å°±æ¯èææºï¼èéæ©åªä¸ªæä½ç³»ç»å®è£å¨èææºéï¼å°±åéæ©ç»ä¸åçæ¿é´å¸ç½®ä¸åçè£ä¿®é£æ ¼ã</p>
<p>å¯¹æ°ææ¥è¯´ï¼äºè§£è¿äºç³»ç»è½å¸®ä½ ï¼<br>
â¢ æ¾å°æéåå­¦ä¹ çç³»ç»<br>
â¢ é¿åä¸å¿è¦çå®è£éº»ç¦<br>
â¢ å¿«éä¸æå®è·µ</p>
<p><a id="ä¸»æµèææºæä½ç³»ç»ç®ä»"></a></p>
<h3 id="èææºæä½ç³»ç»ç®ä»">èææºæä½ç³»ç»ç®ä»</h3>
<h4 id="rocky-linux">Rocky Linux</h4>
<p>ä½ å¯ä»¥æå®çä½æ¯CentOSç"æ¥ç­äºº"ãCentOSå®æ¹æ¯æå·²è½¬åCentOS Streamï¼èRocky Linuxå®ç¾æ¥æ¿äºååCentOSçç¨³å®ä½ç½®ãå°±åä½ ä¹ æ¯ç¨çæä¸ªç»å¸äº§ååäº§äºï¼å®ç"å®æ¹ç»§æ¿è"åºç°äºã</p>
<p><strong>ç¹ç¹ï¼</strong><br>
â¢ ä¸CentOSå ä¹ä¸æ ·çä½¿ç¨ä½éª<br>
â¢ éå¸¸ç¨³å®ï¼éåé¿æè¿è¡<br>
â¢ ç¤¾åºæ´»è·ï¼èµæè¶æ¥è¶å¤</p>
<p><strong>éåè°ï¼</strong> ä»¥åç¨è¿CentOSï¼æèéè¦ç¨³å®æå¡å¨ç¯å¢çæ°æ</p>
<h4 id="centos-7ç»å¸ç¨³å®ç">CentOS 7ï¼ç»å¸ç¨³å®çï¼</h4>
<p>è½ç¶"å¹´çºª"æç¹å¤§äºï¼2014å¹´åå¸ï¼ï¼ä½ä¾ç¶æå¾å¤æç¨åç¯å¢åºäºå®ãå°±åWindows 7è½ç¶èäºï¼ä½å¾å¤äººè¿å¨ç¨ã</p>
<p><strong>æ³¨æï¼</strong> å®æ¹ä¸»æµæ¯æå·²ç»æï¼ä½è¿æé¨åæ©å±æ¯æ</p>
<p><strong>éåè°ï¼</strong><br>
â¢ è·çèæç¨å­¦ä¹ çæ°æ<br>
â¢ è¿è¡ç¹å®èæ§è½¯ä»¶<br>
â¢ åªæ¯æ³å¨èææºé"ä½éªä¸ä¸"çäºº</p>
<h4 id="ubuntu-serveræ°æåå¥½ä¹é">Ubuntu Serverï¼æ°æåå¥½ä¹éï¼</h4>
<p>å¦æä½ æ³æ¾æå®¹æä¸æçLinuxæå¡å¨ç³»ç»ï¼è¿å¯è½æ¯æä½³éæ©ãå®å°±å"æºè½ææº"ä¸­çiPhoneââå¼ç®±å³ç¨ï¼è®¾ç½®ç®åï¼éå°é®é¢ä¸æå°±æç­æ¡ã</p>
<p><strong>ç¹ç¹ï¼</strong><br>
â¢ å®è£è¿ç¨å¾å½¢åï¼åå®è£æ®éè½¯ä»¶<br>
â¢ åºå¤§çç¤¾åºï¼æµ·éä¸­ææç¨<br>
â¢ è½¯ä»¶æ´æ°å¿«ï¼è½ç¨å°ææ°ææ¯</p>
<p><strong>éåè°ï¼</strong> å®å¨é¶åºç¡ï¼æ³å¿«éä¸æLinuxæå¡å¨çæ°æ</p>
<h4 id="debianç¨³å®å¯é ä¹é">Debianï¼ç¨³å®å¯é ä¹éï¼</h4>
<p>å¦æè¯´Ubuntuæ¯"æ¶å°å¿«æ¶å"ï¼Debianå°±æ¯"ç»å¸å·¥èºå"ãå®ä¸è¿½æ±ææ°ï¼ä½è¿½æ±æç¨³å®ãå¾å¤ä¼ä¸æå¡å¨é½ä½¿ç¨å®ã</p>
<p><strong>ç¹ç¹ï¼</strong><br>
â¢ æå¶ç¨³å®ï¼è¿è¡å ä¸ªæä¸ç¨éå¯<br>
â¢ è½¯ä»¶åç®¡çä¼ç§<br>
â¢ å®å¨æ§å¾å¥½</p>
<p><strong>éåè°ï¼</strong> å¸æç³»ç»ç¨³å®ï¼ä¸è¿½æ±ææ°åè½çå­¦ä¹ è</p>
<h4 id="-openeulerå½äº§æ°æ">ð openEulerï¼å½äº§æ°æï¼</h4>
<p>åä¸ºæ¨åºçå¼æºç³»ç»ï¼è¿å¹´æ¥åå±è¿éãå¦æä½ æ¯ITç¸å³ä¸ä¸ï¼æèå³æ³¨å½äº§åææ¯ï¼å¼å¾äºè§£ã</p>
<p><strong>ç¹ç¹ï¼</strong><br>
â¢ ä¸­ææ¯æå¥½<br>
â¢ éå¯¹æå¡å¨ä¼å<br>
â¢ å½åç¤¾åºæ´»è·</p>
<p><strong>éåè°ï¼</strong> å¯¹å½äº§ææ¯æå´è¶£ï¼æéè¦ä¸­æç¯å¢æ¯æçæ°æ</p>
<h3 id="å¦ä½éæ©éåä½ çç³»ç»">å¦ä½éæ©éåä½ çç³»ç»ï¼</h3>
<h4 id="æ ¹æ®ä½ çç®æ éæ©">æ ¹æ®ä½ çç®æ éæ©</h4>
<ul>
<li><strong>"æåªæ³è¯è¯Linuxæ¯ä»ä¹"</strong> â é Ubuntu Serverï¼å®è£ç®åï¼è·çæç¨ä¸æ­¥æ­¥æ¥å°±è¡</li>
<li><strong>"æè¦å­¦è¿ç»´ï¼ä»¥åæ¾å·¥ä½"</strong> â æ°æä» Ubuntu Server å¥é¨ï¼ç¶åå­¦ Rocky Linux</li>
<li><strong>"æè¦æ­å»ºä¸ä¸ªé¿æè¿è¡çä¸ªäººç½ç«/æå¡"</strong> â é Debian æ Rocky Linux</li>
<li><strong>"æå­¦æ ¡çæç¨/å®éªå®¤ç¨çé½æ¯CentOS 7"</strong> â è·çå­¦æ ¡èµ°ï¼ç¨ CentOS 7</li>
<li><strong>"ææ³äºè§£å½äº§æä½ç³»ç»"</strong> â é openEuler</li>
</ul>
<h4 id="ç³»ç»éç½®è¦æ±å¯¹æ¯">ç³»ç»éç½®è¦æ±å¯¹æ¯</h4>
<p>ææç³»ç»çåºæ¬è¦æ±é½å·®ä¸å¤ï¼<br>
â¢ åå­ï¼è³å°2GBï¼4GBæ´æµçï¼<br>
â¢ ç¡¬çï¼20GBä»¥ä¸<br>
â¢ CPUï¼ç°ä»£CPUé½æ²¡é®é¢</p>
<p>Ubuntu Server å¯¹æ°ææåå¥½ï¼å®è£è¿ç¨ä¸­ä¼æå¾å¤æç¤ºåå¸®å©ã</p>
<p><strong>æç»å»ºè®®ï¼</strong> ä» <strong>Ubuntu Server 22.04 LTS</strong> å¼å§ãå®å°±åå­¦å¼è½¦æ¶ç¨çæç»è½¦ââå®å¨ãåå¥½ãæè¾å©ãç­ä½ çæäºï¼åå°è¯å¶ä»ç³»ç»ï¼å°±ç¥éå®ä»¬çåºå«åç¹ç¹äºã</p>
<p>èææºæä½ç³»ç»çä¸çå¾å¹¿éï¼ä½ç¬¬ä¸æ­¥æ»æ¯æç®åçï¼ä¸è½½ä¸ä¸ªï¼è£ä¸è¯è¯ãå¨ææä½åå°æ¶ï¼æ¯çåç¯æç¨é½æç¨ã</p>
<hr>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-12-26 21:23">2025-12-26 21:23</span>&nbsp;
<a href="https://www.cnblogs.com/zyh-828">ä¸åä¹ä¸æ</a>&nbsp;
éè¯»(<span id="post_view_count">66</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19400492);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19400492', targetLink: 'https://www.cnblogs.com/zyh-828/p/19400492', title: 'èææºæä½ç³»ç»éæ©æåï¼2025ï¼' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ è¿å MCP éç¾¤åï¼Solon AI ï¼æ¯æ Java8+ï¼å¨è§£å³ MCP æå¡å¯æ©å±æ§ä¸çæ¢ç´¢ä¸å®è·µ ]]></title>
    <link>https://www.cnblogs.com/noear/p/19406655</link>
    <guid>c7638b7c639e9e6f5784bda5780cb3b3</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/noear/p/19406655" title="åå¸äº 2025-12-26 21:15">
    <span role="heading" aria-level="2">è¿å MCP éç¾¤åï¼Solon AI ï¼æ¯æ Java8+ï¼å¨è§£å³ MCP æå¡å¯æ©å±æ§ä¸çæ¢ç´¢ä¸å®è·µ</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        Solon AI v3.8æ¨åºSTREAMABLE_STATELESSééï¼è§£å³MCPæå¡éç¾¤åé¾é¢ãè¯¥æ ç¶æè®¾è®¡æ¾å¼ååè°ç¨åè½ï¼éç¨ç­é¾æ¥éè®¯ï¼å®ç°çæ­£çæ°´å¹³æ©å±è½åãåæ¶æ°å¢CompletableFutureåPublisherå¼æ­¥æ¯æï¼æåIOå¯éåä»»å¡å¤çæçã
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>éç Model Context Protocol (MCP) çå¿«éæ®åï¼å¼åèå·²ç»ä¸åæ»¡è¶³äºç®åçæ¬å° Stdio è¿ç¨éè®¯ãå¨çäº§ç¯å¢ä¸­ï¼å¦ä½æå»ºé«å¯ç¨ãå¯æ°´å¹³æ©å±ç MCP æå¡éç¾¤æä¸ºäºæ ¸å¿ææã</p>
<p>Solon AI å¨æè¿ç v3.8 çæ¬æ´æ°ä¸­ï¼éå¯¹ MCP æå¡éç¾¤åçç¹ï¼æ¨åºäºä¸ç³»åéç£ç¹æ§ï¼ç¹å«æ¯ STREAMABLE_STATELESSï¼æ ç¶ææµä¼ è¾ï¼ ééçå¼å¥ï¼ä¸º MCP è¿åäºåçéç¾¤æ¶ä»£éºå¹³äºéè·¯ã</p>
<h2 id="ä¸-mcp-éç¾¤åçæ¦è·¯èç¶æä¾èµ">ä¸ã MCP éç¾¤åçæ¦è·¯èï¼ç¶æä¾èµ</h2>
<p>ä¼ ç»ç MCP ä¼ è¾åè®®ï¼å¦ SSE ææ åç STREAMABLEï¼éå¸¸æ¯æç¶æçã</p>
<h3 id="1-ä¸ºä»ä¹æç¶æé¾ä»¥éç¾¤">1. ä¸ºä»ä¹âæç¶æâé¾ä»¥éç¾¤ï¼</h3>
<p>å¨ MCP åè®®ä¸­ï¼ä¸ºäºæ¯æååè°ç¨ï¼Server è°ç¨ Client çéæ ·è¯·æ± Samplingï¼æåè¯­åæ´éç¥ï¼Notificationsï¼ï¼Server å Client ä¹é´å¿é¡»å»ºç«é¿é¾æ¥ã</p>
<ul>
<li>è¿æ¥ç»å®ï¼Client çç­é¾æ¥è¯·æ±ï¼åéæä»¤ï¼å¿é¡»ä¸é¿é¾æ¥ï¼æ¥æ¶éç¥ï¼è·¯ç±å°åä¸å°æå¡å¨ã</li>
<li>è¿ç»´å¤æï¼å¨è´è½½åè¡¡å¨ï¼å¦ Nginxï¼ä¸ï¼å¿é¡»éç½® ip_hash æç²æ§ä¼è¯ï¼Sticky Sessionsï¼ï¼å¦åè¯·æ±ä¼å ä¸ºæ¾ä¸å°ä¸ä¸æèå¤±è´¥ã</li>
</ul>
<h3 id="2-solon-ai-çè§£é¢æè·¯">2. Solon AI çè§£é¢æè·¯</h3>
<p>Solon AI v3.8 å¼å¥äº McpChannel.STREAMABLE_STATELESSï¼å¶æ ¸å¿çå¿µæ¯ï¼æ¾å¼ä¸å¸¸ç¨çååè°ç¨ï¼æ¢åæè´çæ°´å¹³æ©å±è½åã</p>
<h2 id="äº-æ ¸å¿çªç ´streamable_stateless-éé">äºã æ ¸å¿çªç ´ï¼STREAMABLE_STATELESS éé</h2>
<p>è¿æ¯ Solon AI ä¸ºéç¾¤åå¥½æ§ä¸é¨è®¾è®¡çæ¨¡å¼ãå®éè¿å°é¿é¾æ¥è½¬åä¸ºç­é¾æ¥éè®¯ï¼å½»åºæ¶é¤äºæå¡ç«¯çç¶æä¾èµã</p>
<table>
<thead>
<tr>
<th>ç¹æ§</th>
<th>STREAMABLE (æç¶æ)</th>
<th>STREAMABLE_STATELESS (æ ç¶æ)</th>
</tr>
</thead>
<tbody>
<tr>
<td>é¾æ¥ç±»å</td>
<td>æé¿é¾æ¥ (Long Connection)</td>
<td>åªç¨ç­é¾æ¥ (Short Connection)</td>
</tr>
<tr>
<td>éç¾¤è·¯ç±</td>
<td>éè¦ ip_hash</td>
<td>ä»»æè·¯ç±</td>
</tr>
<tr>
<td>ååéè®¯</td>
<td>æ¯æ (Server -&gt; Client)</td>
<td>ä¸æ¯æ</td>
</tr>
<tr>
<td>éç¨åºæ¯</td>
<td>éè¦å®æ¶çæ§ Tool ååçå¤æåºç¨</td>
<td>80% çæ åå·¥å·è°ç¨ãé«å¹¶åéç¾¤</td>
</tr>
</tbody>
</table>
<p>å¼åèä½éªä¸è´æ§ï¼ æ è®ºåºå±ééå¦ä½ååï¼Solon AI çå¼åä»£ç å ä¹ä¸éè¦ä¿®æ¹ï¼ä»éå¨æ³¨è§£ä¸­åæ¢ channelï¼</p>
<pre><code class="language-java">@McpServerEndpoint(channel = McpChannel.STREAMABLE_STATELESS, mcpEndpoint = "/mcp/weather")
public class McpServerTool {
    @ToolMapping(description = "æ¥è¯¢å¤©æ°é¢æ¥")
    public String getWeather(@Param(description = "åå¸ä½ç½®") String location) {
        return "æ´ï¼14åº¦";
    }
}
</code></pre>
<h2 id="ä¸-å¼æ­¥æ§è½ä¼åcompletablefuture-ä¸-publisher">ä¸ã å¼æ­¥æ§è½ä¼åï¼CompletableFuture ä¸ Publisher</h2>
<p>å¨éç¾¤ç¯å¢ä¸ï¼IO å¯éåä»»å¡ï¼å¦è¯·æ±ç¬¬ä¸æ¹ APIï¼å¦æé»å¡çº¿ç¨ï¼ä¼æå¤§éä½éç¾¤çååéãSolon AI v3.8.0 å¨é¢å¢å¼ºäº å¼æ­¥æ¯æã</p>
<h3 id="1-completablefuture-æ¯æ">1. CompletableFuture æ¯æ</h3>
<p>ç°å¨ï¼MCP å·¥å·å¯ä»¥ç´æ¥è¿åå¼æ­¥ç»æï¼å®ç¾ééç°ä»£ Java çå¼æ­¥ç¼ç¨æ¨¡åï¼</p>
<pre><code class="language-java">@ToolMapping(description = "å¼æ­¥æ¥è¯¢å¤©æ°", returnDirect = true)
public CompletableFuture&lt;String&gt; getWeatherAsync(String location) {
    return CompletableFuture.supplyAsync(() -&gt; "å¼æ­¥è¿åï¼å¤äº");
}
</code></pre>
<h3 id="2-ååºå¼æµæ¯æ">2. ååºå¼æµæ¯æ</h3>
<p>éå¯¹æ´é«çº§çåºæ¯ï¼Solon AI ééäº org.reactivestreams.Publisherï¼ä½¿å¾ MCP å·¥å·ãèµæºï¼Resourceï¼åæç¤ºè¯ï¼Promptï¼é½è½ä»¥éé»å¡çæ¹å¼å·¥ä½ã</p>
<pre><code class="language-java">@ToolMapping(description = "å¼æ­¥æ¥è¯¢å¤©æ°", returnDirect = true)
public Publisher&lt;String&gt; getWeatherAsync(String location) {
    return Mono.just("å¼æ­¥è¿åï¼å¤äº");
}
</code></pre>
<h2 id="å-ä¼ è¾æ¹å¼å¨æ¯å¯¹æ¯">åã ä¼ è¾æ¹å¼å¨æ¯å¯¹æ¯</h2>
<p>Solon AI ç®åæ¯æåç§ä¸»æµä¼ è¾ééï¼è¦çäºä»æ¬å°å°äºç«¯çå¨åºæ¯ï¼</p>
<table>
<thead>
<tr>
<th>æå¡ç«¯éé</th>
<th>å®¢æ·ç«¯éé</th>
<th>éè®¯æ¹å¼</th>
<th>éç¾¤åå¥½åº¦</th>
<th>å¤æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>STDIO</td>
<td>STDIO</td>
<td>è¿ç¨é´ç®¡é</td>
<td>N/A</td>
<td>æ¬å°å¼åé¦é</td>
</tr>
<tr>
<td>SSE</td>
<td>SSE</td>
<td>HTTP</td>
<td>é ip_hash</td>
<td>å®æ¹å·²æ è®°å¼ç¨</td>
</tr>
<tr>
<td>STREAMABLE</td>
<td>STREAMABLE</td>
<td>HTTP</td>
<td>é ip_hash</td>
<td>ç¨äºæ¿ä»£ SSE</td>
</tr>
<tr>
<td>STREAMABLE_STATELESS</td>
<td>STREAMABLE</td>
<td>HTTP</td>
<td>æé«</td>
<td>éç¾¤æ¨è</td>
</tr>
</tbody>
</table>
<p>æ³¨æï¼ä½¿ç¨ STREAMABLE_STATELESS æ¶ï¼å®¢æ·ç«¯ä¾ç¶éç½®ä¸º STREAMABLE å³å¯ï¼æå¡ç«¯ä¼èªå¨å¤çæ¡æéçº§ã</p>
<h2 id="äº-æ»ç»ä¸å±æ">äºã æ»ç»ä¸å±æ</h2>
<p>Solon AI éè¿å¯¹ MCP åè®®çæ·±åº¦è§£è¦ï¼ä¸ä»å®ç°äºå¯¹ææ° 2025-06-18 çæ¬åè®®çæ¯æï¼æ´éè¿æ ç¶æééåå¨é¾è·¯å¼æ­¥åï¼è§£å³äº MCP æå¡å¨å¤§è§æ¨¡å¹¶åä¸çâè½å°é¾âé®é¢ã</p>
<p>å¯¹äºè¿½æ±é«æ§è½åææ©å±ç AI åºç¨æ¶æå¸æ¥è¯´ï¼Solon AI æä¾äºä¸å¥âå¼åä¸è´ãé¨ç½²çµæ´»âçå·¥å·é¾ï¼è®© MCP æå¡çæ­£å·å¤äºå·¥ä¸çº§éç¾¤çè½åã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-12-26 21:15">2025-12-26 21:15</span>&nbsp;
<a href="https://www.cnblogs.com/noear">å¸¦åºçåæ¤</a>&nbsp;
éè¯»(<span id="post_view_count">28</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19406655);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19406655', targetLink: 'https://www.cnblogs.com/noear/p/19406655', title: 'è¿å MCP éç¾¤åï¼Solon AI ï¼æ¯æ Java8+ï¼å¨è§£å³ MCP æå¡å¯æ©å±æ§ä¸çæ¢ç´¢ä¸å®è·µ' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ [ä»ç¨åºåå°æ¶æå¸] å¾®æå¡åºæ¯å®æ - æ³¨ååç° ]]></title>
    <link>https://www.cnblogs.com/yhup/p/19406648</link>
    <guid>fe8f9b8171d0869e34f2d1bf38538a4d</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/yhup/p/19406648" title="åå¸äº 2025-12-26 21:12">
    <span role="heading" aria-level="2">[ä»ç¨åºåå°æ¶æå¸] å¾®æå¡åºæ¯å®æ - æ³¨ååç°</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        <img src="https://img2024.cnblogs.com/blog/2428649/202512/2428649-20251226211113233-1714412455.png" alt="[ä»ç¨åºåå°æ¶æå¸] å¾®æå¡åºæ¯å®æ - æ³¨ååç°" class="desc_img">
        åä½ï¼å±ä»¬ç»§ç»­çå¾®æå¡è¿ä¸ªâç¡¬æ ¸ç©å·âãä¸åè¯´å°è¦ä»æ¥å°æ°çåºæ¯å¼å§ï¼ä»å¤©è¿ä¸ªåºæ¯ï¼é£å¯å¤ªâæ¥å°æ°âäºââæ¥å°æ°å°è®©äººèè¶¾æ å°ãä¸å¡åºæ¯ï¼å¦ä½å¯¹å åä¸ªåå°æå¡è¿è¡é«æç®¡ç
**ç»50ä¸ªâå¨âå½ä¿å§æ¯ç§ä»ä¹ä½éªï¼ **æ³è±¡ä¸ä¸ï¼ä½ æåºä¸æ50å¤ä¸ªåå°æå¡ï¼ä¸ªä¸ªé½æ¯äº²ççï¼JavaãGoãNode.js ä»ä¹è¯­è¨é½æï¼ãå®ä»¬å³ç³»å¤æï¼äºç¸è°ç¨ï¼æ´»åä¸ä¸ªå¤§åå¹¼å¿å­ãè¿æ¶åï¼Spring CloudãDubbo è¿äºâåçå®¶æâåªæ Java å¨ï¼å¶ä»å¨ååï¼
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>åä½ï¼å±ä»¬ç»§ç»­çå¾®æå¡è¿ä¸ªâç¡¬æ ¸ç©å·âãä¸åè¯´å°è¦ä»æ¥å°æ°çåºæ¯å¼å§ï¼ä»å¤©è¿ä¸ªåºæ¯ï¼é£å¯å¤ªâæ¥å°æ°âäºââæ¥å°æ°å°è®©äººèè¶¾æ å°ã</p>
<h1 id="1-ä¸å¡åºæ¯å¦ä½å¯¹å åä¸ªåå°æå¡è¿è¡é«æç®¡ç">1. ä¸å¡åºæ¯ï¼å¦ä½å¯¹å åä¸ªåå°æå¡è¿è¡é«æç®¡ç</h1>
<p>**ç»50ä¸ªâå¨âå½ä¿å§æ¯ç§ä»ä¹ä½éªï¼ **æ³è±¡ä¸ä¸ï¼ä½ æåºä¸æ50å¤ä¸ªåå°æå¡ï¼ä¸ªä¸ªé½æ¯äº²ççï¼JavaãGoãNode.js ä»ä¹è¯­è¨é½æï¼ãå®ä»¬å³ç³»å¤æï¼äºç¸è°ç¨ï¼æ´»åä¸ä¸ªå¤§åå¹¼å¿å­ãè¿æ¶åï¼Spring CloudãDubbo è¿äºâåçå®¶æâåªæ Java å¨ï¼å¶ä»å¨ååï¼</p>
<p>æä»¬å½æ¶çåæ³ï¼éå¸¸è´¨æ´ï¼è´¨æ´å¾åç¨è®°äºæ¬ç®¡çä¸æ¯è°éã</p>
<p><strong>ç¬¬ä¸æ­¥ï¼æææçâå¨âï¼æå¡ï¼çä½åï¼IP+ç«¯å£ï¼åæ¥éè§åï¼è´è½½åè¡¡ï¼ï¼å¨æå·¥ç»è®°å¨ä¸æ¬å·¨å¤§çâè±ååâä¸ââä¹å°±æ¯ Nginx éç½®æä»¶ã</strong> å°±åä¸é¢è¿æ ·ï¼</p>
<pre><code class="language-nginx"># ==================== è´è½½åè¡¡éç½® ====================
# å®ä¹åä¸º user_servers çæå¡å¨éç¾¤
upstream user_servers {
    # ç¨æ·æå¡å®ä¾1
    server 192.168.5.150:80;
    # ç¨æ·æå¡å®ä¾2
    server 192.168.5.151:80;
    # nginxä¼èªå¨å¨è¿ä¸¤ä¸ªå®ä¾é´è½®è¯¢ååè¯·æ±ï¼å®ç°è´è½½åè¡¡
}

# å®ä¹åä¸º order_servers çæå¡å¨éç¾¤
upstream order_servers {
    # è®¢åæå¡å®ä¾1
    server 192.168.5.153:80;
    # è®¢åæå¡å®ä¾2
    server 192.168.5.152:80;
    # åçï¼è¿ä¸¤ä¸ªè®¢åæå¡å®ä¾ä¹ä¼è¢«åè¡¡è°åº¦
}

# ==================== ç¨æ·æå¡ä»£çéç½® ====================
server {
    # çå¬80ç«¯å£ï¼HTTPé»è®¤ç«¯å£ï¼
    listen 80;
    # å½è®¿é® user-servers ååæ¶ä¼è¿å¥æ­¤éç½®å
    server_name user-servers;
    # ææè·¯å¾è¯·æ±é½èµ°è¿ä¸ªè§å
    location / {
        # å³é®æä½ï¼æè¯·æ±è½¬åç»ä¸é¢å®ä¹ç user_servers éç¾¤
        proxy_pass http://user_servers;
        # ä»¥ä¸æ¯ä¸ä¸ªéè¦çè¯·æ±å¤´è®¾ç½®ï¼è®©åç«¯æå¡ç¥é"è°ççå¨è®¿é®"
        # 1. æåå§è¯·æ±çHostå¤´ä¼ ç»åç«¯ï¼æäºæå¡é è¿ä¸ªè¯å«èæä¸»æºï¼
        proxy_set_header Host $host;
        # 2. æçå®å®¢æ·ç«¯çIPä¼ ç»åç«¯ï¼å¦ååç«¯åªè½çå°nginxçIPï¼
        proxy_set_header X-Real-Ip $remote_addr;
        # 3. è®°å½å®æ´çä»£çé¾IPï¼é²æ­¢å®¢æ·IPè¢«ä¸­é´ä»£ç"åæ"ï¼
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }
}

# ==================== è®¢åæå¡ä»£çéç½® ====================
server {
    listen 80;
    # å½è®¿é® order-servers ååæ¶ä¼è¿å¥æ­¤éç½®å
    server_name order-servers;
    location / {
        # å°è¯·æ±è½¬åç» order_servers éç¾¤
        proxy_pass http://order_servers;
        
        # åæ ·ä¼ éè¿ä¸ä¸ªéè¦å¤´é¨
        proxy_set_header Host $host;
        proxy_set_header X-Real-Ip $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }
}

# ==================== éç½®äº®ç¹æ»ç» ====================
# 1. é«å¯ç¨ï¼ä¸¤ä¸ªå®ä¾äºä¸ºå¤ä»½ï¼ä¸ä¸ªææå¦ä¸ä¸ªé¡¶ä¸
# 2. è´è½½åè¡¡ï¼è¯·æ±è¢«ååååï¼é²æ­¢åå®ä¾è¿è½½
# 3. éæä»£çï¼åç«¯æå¡è½è·åçå®çå®¢æ·ç«¯ä¿¡æ¯
# 4. è§£è¦ï¼åç«¯æ éç¥éåç«¯å·ä½æå ä¸ªå®ä¾ãIPæ¯å¤å°
</code></pre>
<p><strong>ç¬¬äºæ­¥ï¼è®©âå¨âä»¬èªå·±è®°éè®¯å½ã</strong> å¨æ¯ä¸ªæå¡çæ¬å°éç½®æä»¶éï¼åä¸å®è¦èç³»çå¶ä»âå¨âçå°åï¼</p>
<pre><code class="language-properties">user.api.host  = https://user-servers/  # ç¨æ·æå¡å®¶å°å
order.api.host = https://order-servers/ # è®¢åæå¡å®¶å°å
</code></pre>
<p>æ³æ¾è°ç©ï¼è°ç¨è°ï¼ï¼å°±åæ¥è¿æ¬æ¬å°éè®¯å½ï¼æ¼åºå®æ´å°åï¼ç¶åææâç¤¾äº¤æ´»å¨âé½å¿é¡»éè¿<strong>ä¸­å¤®è°åº¦å Nginx</strong> æ¥å®æã</p>
<p><strong>é£ä¹ï¼è¿å¥è´¨æ´çæ¶æé¿å¥æ ·å¢ï¼</strong></p>
<pre><code class="language-plain">    [ æå¡A ]  [ æå¡B ]  [ æå¡C ]  ... (è¶è¿50ä¸ªå¼ææå¡)
        |          |          |
        |          |          |
        +----------+----------+
                   |
                   v
             [ ä¸­å¿ Nginx ]
             (å·¨åè±åå)
                   |
        +----------+----------+
        |          |          |
        v          v          v
    [ æå¡X ]  [ æå¡Y ]  [ æå¡Z ]
</code></pre>
<p><strong>æ¬è´¨å°±æ¯ï¼æææå¡é´çâéè¯âï¼é½å¿é¡»åæå°ä¸­å¤®æ»æºï¼Nginxï¼ï¼ç±æ»æºæ¥âè±ååâåè½¬æ¥ã</strong> ç½ç»ææç¬é´åæä¸ä¸ªä»¥ Nginx ä¸ºä¸­å¿çâæåâç»æï¼æèæ´å½¢è±¡å°è¯´ï¼åä¸ªâå«çªé±¼âï¼ææè§¦æé½è¿çåä¸ä¸ªå¤§èã</p>
<h1 id="2-ä¼ ç»æ¶æä¼åºç°çé®é¢è¡æ³ªå²å¼å§äº">2. ä¼ ç»æ¶æä¼åºç°çé®é¢ï¼è¡æ³ªå²å¼å§äºï¼</h1>
<p>è¿å¥æ¶æè¿è¡èµ·æ¥åï¼æä»¬è¿éæ¶è·äºâåéçè¦å¤§ç¤¼åâï¼</p>
<h2 id="21éç½®ç¦çä¸çº¿å®¹æåºé">2.1éç½®ç¦çï¼ä¸çº¿å®¹æåºé</h2>
<p>** éç½®å¦å±¥èå°ï¼ä¸çº¿å¿æèæã**<br>
æ¯æ¬¡å æ°âå¨âãç»âå¨âæ¬æ°å®¶ï¼æ©ç¼©å®¹ï¼ï¼é½å¾æå¨æ´æ°é£æ¬å·¨å¤§ç Nginx è±ååãæ´åºæ¿çæ¯ï¼æä»¬æ<strong>4å°</strong> Nginx åå¼ï¼åé¢è¿æä¸ªåä¸è´è½½åè¡¡å¨ NetScaler æ¡çï¼ãè¿æå³çï¼æ¹ä¸ä¸ªå°æ¹ï¼åæ ·çéç½®è¦å°å¿ç¿¼ç¿¼ãæ¯«ä¸åºéå°å¤å¶åéãä½å¡æ¼äºä¸å°ï¼è¿ä¸ªéè¯¯å°±åæ½ä¼çé·ï¼NetScaler ä¸ææµéå¯¼å°é£å°åºéç Nginxï¼ä½ å°±åç°ä¸äºãç­å®åªå¤©çåï¼èªæ±å¤ç¦å§ã</p>
<h2 id="22-å æºå¨è¦éå¯">2.2 å æºå¨è¦éå¯</h2>
<p><strong>æ©ç¼©å®¹å¦åâæå¼¹âï¼éå¯éè¦åæ°ã</strong></p>
<p>æµéå¤§äºè¦å æºå¨ï¼æ­åä½ ï¼è·å¾ä¸æ¬¡âè¿ç»´å¿è·³ææèµâåèµèµæ ¼ãä½ éè¦ï¼1. åç¡®æ è¯¯å°ä¿®æ¹éç½®ã2. <strong>éå¯ Nginx</strong> è®©éç½®çæãå¨åå¤ï¼é¢å¯¹ä¸ä¸ªæ¿è½½æææµéçæ ¸å¿ä»£çï¼ä½ æ¢ç¹ä¸éå¯åï¼ä¸ä¸å¤±è´¥ï¼å¨ç«ç«çªãæ¶é´ç´§ãååå¤§ãä¸è½éï¼è¿ç®ç´æ¯å¨é¢ä¸ä¸ç»é£æºæ¢å¼æã</p>
<h2 id="23-è´è½½åè¡¡åç¹">2.3 è´è½½åè¡¡åç¹</h2>
<p><strong>ä¸­å¿å¤§èæäºæ§è½ä¸æéçâåç¹âã</strong></p>
<p>æææµéé½æ¤è¿ Nginx è¿ä¸ä¸ªâç¬æ¨æ¡¥âï¼å®çæå½ç¶å°æäºç¶é¢åæå¤§çæéé£é©ç¹ãåæ¥æä»¬å äº NetScaler å¨åé¢åé«å¯ç¨ï¼è½ç¶ç¼è§£äºåç¹é£é©ï¼ä½ä»£ä»·æ¯ï¼<strong>ç½ç»è·¯å¾åé¿äº</strong>ï¼æå¡ -&gt; NetScaler -&gt; Nginx -&gt; æå¡ï¼ï¼å»¶è¿å¢å ï¼æ¶ææ´å¤æã</p>
<h2 id="24-ç®¡çå°é¾">2.4 ç®¡çå°é¾</h2>
<p>** æå¡æ²»çå¨é âäººèâï¼æ¸åç»´æ¤è¦ä¸å ªè¨ã**<br>
åè§å®¡è®¡è¦åçº§æä¸ªå¬å±åºï¼ä½ å¾åç¥éå°åºæåªäºæå¡ç¨äºå®ãäºæ¯ï¼ç»´æ¤ä¸ä»½åç¡®çå¨æå¡æ¸åï¼æäºå®æå¼å±çãçº¯æå·¥çâèå¤âå·¥ä½ãè´¹æ¶ãè´¹åãæåºéã</p>
<h1 id="3-ä¸æ¡åºè·¯">3. ä¸æ¡åºè·¯</h1>
<p>è¢«æç£¨å¾å¤ååï¼æä»¬ç¢ç£¨äºä¸æ¡è·¯ï¼</p>
<ol>
<li><strong>æå¡èªæ³¨å + æ¸åå¹¿æ­ï¼Spring Cloud/Dubbo æ¨¡å¼ï¼</strong>ï¼è®©æ¯ä¸ªâå¨âèªå·±å°âå­¦æ ¡å¸åæ âï¼å¦ ZooKeeperï¼æ³¨åãå¸åæ ææ´æ°ï¼ææ°å¨æ¥ææ§å¨èµ°ï¼ï¼å°±å¹¿æ­ç»ææâå¨âãè¿æ ·æ¯ä¸ªâå¨âèªå·±å°±æä¸ä»½å®æ¶éè®¯å½ï¼æ³æ¾è°ç´æ¥èç³»ï¼ç»è¿ä¸­å¤®æ»æºã</li>
<li><strong>å®¹å¨å + Kubernetes Serviceï¼éç»´æå»ï¼</strong>ï¼ç´æ¥æææâå¨âéè¿âèªå¨åæç®¡å¹¼å¿å­âï¼K8sï¼ãç»åç±»åçâå¨âè´´ä¸ç»ä¸æ ç­¾ï¼å¦ <code>app: user</code>ï¼ï¼K8s ç Service ä¼èªå¨ä¸ºå®ä»¬æä¾ç¨³å®çè®¿é®å¥å£åè´è½½åè¡¡ãè¿æ¯ç°ä»£çãç»æçè§£å³æ¹æ¡ã</li>
</ol>
<p><strong>å·ä½æä½å¦ä¸ï¼</strong></p>
<p>** â  **åå¨é¨ç½²Useræå¡çPodä¸æä¸âUser-Appâæ ç­¾ï¼é¨ç½²Orderæå¡çPodä¸æä¸âOrder-Appâæ ç­¾ã	**	**</p>
<p>** â¡ **å¨Kubernetesä¸å¯å¨å¤ä¸ªUserçPodåå¤ä¸ªOrderçPodï¼ç¶åå¯å¨ä¸¤ä¸ªServiceï¼ç±»ä¼¼äºNginxçè´è½½åè¡¡ï¼ï¼ä¸ä¸ªServiceå«UserServiceï¼ä¸é¨å¤çæ ç­¾ä¸ºâUser-AppâçPodï¼å¦ä¸ä¸ªServiceå«OrderServiceï¼ä¸é¨å¤çæ ç­¾ä¸ºâOrder-AppâçPodã</p>
<p>** â¢ **ä»Clientååºçè¯·æ±é¦åä¼å°è¾¾OrderServiceï¼åèªå¨è´è½½åè¡¡å°æä¸ªOrderæå¡çPodãå½Orderçæå¡è¦è°ç¨Userçæå¡æ¶ï¼å®å°±ä¼è°ç¨UserServiceï¼UserServiceä¼è´è½½åè¡¡å°Userå¶ä¸­çä¸ä¸ªPodã</p>
<p><img src="https://img2024.cnblogs.com/blog/2428649/202512/2428649-20251226210951407-1008683054.jpg" alt="åºäºServiceçæå¡æ³¨ååç°ç¤ºæå¾" loading="lazy"></p>
<ol start="3">
<li><strong>èªå¨åéç½®çæï¼ç»æ§ç³»ç»æè¡¥ä¸ï¼</strong>ï¼ç¨å·¥å·çå¬âå¸åæ âçååï¼èªå¨å»æ´æ° Nginx çéç½®å¹¶éå¯ãè¿ç¸å½äºç»âä¸­å¤®æ»æºâéäºä¸ªèªå¨ç§ä¹¦ã</li>
</ol>
<p><strong>æä»¬å½æ¶çéæ©æ¯ç¬¬ä¸æ¡è·¯ã</strong> åå å¾ç°å®ï¼å¤å¹´åå®¹å¨çäº§ç¯å¢è¿ä¸æçï¼å¨éè¿ç§»é£é©å¤ªé«ï¼ç¬¬ä¸æ¡è·¯åªæ¯èªå¨åäºçè¦ï¼æ²¡è§£å³ Nginx åç¹åéå¯çæ ¹æ¬é®é¢ãæä»¥ï¼æä»¬å³å®âé ä¸ªè½®å­âãæç»çè§£å³æ¹æ¡å¦å¾æç¤ºãå¯ä»¥åç°ï¼æ´ä¸ªè§£å³è¿ç¨åä¸ºä»¥ä¸å ä¸ªæ­¥éª¤ã</p>
<p>1ï¼æ¯ä¸ªåå°æå¡èªå¨ææå¡ç±»ååIPæ³¨åå°ä¸­å¿å­å¨ã</p>
<p>2ï¼ä¸­å¿å­å¨å°æå¡åè¡¨æ¨éå°æ¯ä¸ªåå°æå¡ã</p>
<p>3ï¼åå°æå¡å¨æ¬å°åè´è½½åè¡¡ï¼è½®æµè®¿é®åæå¡çä¸åèç¹ã</p>
<p><img src="https://img2024.cnblogs.com/blog/2428649/202512/2428649-20251226210951425-207080574.jpg" alt="åºäºåè°æå¡çæå¡æ³¨ååç°" loading="lazy"></p>
<h1 id="4-æ°æ¶æè¦ç¹ä¸æ·±åº¦æè">4. æ°æ¶æè¦ç¹ä¸æ·±åº¦æè</h1>
<p>å®ä¸æ¹ååï¼å·ä½æä¹èµ°ï¼æå ä¸ªå³é®å³ç­ï¼</p>
<h2 id="41-ä½¿ç¨åªä¸ªåå¸å¼åè°æå¡å¸åæ ">4.1 ä½¿ç¨åªä¸ªåå¸å¼åè°æå¡ï¼å¸åæ ï¼</h2>
<p>æä»¬éè¦ä¸ä¸ªè½å®æ¶æ¨éåæ´ãè½çå¬èç¹å­æ´»çâå¸åæ âãæ®éç Redis ä¸å¤ªéåè¿ç§é«é¢ãå®æ¶åæ­¥çåºæ¯ã<strong>åå¸å¼åè°æå¡</strong>ï¼å¦ ZooKeeperãetcdãNacosï¼çæ¥å°±æ¯å¹²è¿ä¸ªçï¼å®ä»¬æä¾äºæä»¬éè¦çâè§å¯-éç¥âæºå¶ã</p>
<p><img src="https://img2024.cnblogs.com/blog/2428649/202512/2428649-20251226210951439-892338048.jpg" alt="å¸¸è§åå¸å¼åè°æå¡å¯¹æ¯" loading="lazy"></p>
<h2 id="42-å·ä½ç¨åªä¸ªææ¯éåéçæ½è§å">4.2 å·ä½ç¨åªä¸ªï¼ââææ¯éåéçâæ½è§åâ</h2>
<pre><code>çæ³å¾ä¸°æ»¡ï¼ç°å®æçº¦æãå½æ¶å¬å¸è¿ç»´å¢éå·²ç»å¨å¨åç»´æ¤ **ZooKeeper** äºãä»ç»ç»ææ¬èèï¼å¼å¥ä¸ä¸ªå¨æ°çä¸­é´ä»¶ï¼å¦ etcdï¼æå³çè¿ç»´è¦ä»åºååå­¦ä¹ åç®¡çææ¬ãæä»¥ï¼**âå¢éçæä»ä¹â** è¿ä¸ªéææ¯å ç´ ï¼å¾å¾æä¸ºå³å®æ§çä¸ç¥¨ã
</code></pre>
<p>å½ç¶ï¼å¦æä»å¤©ä»å¤´éåï¼æä¼å¤§åæ¨è <strong>Nacos</strong>ãçç±å¾å®å¨ï¼</p>
<ol>
<li>
<p><strong>æ§ä»·æ¯é«</strong>ï¼å®éæå¡åç°åéç½®ä¸­å¿äºä¸èº«ï¼</p>
</li>
<li>
<p><strong>æ¨¡å¼çµæ´»</strong>ï¼å¨å¾®æå¡åºæ¯ä¸ï¼<strong>å¯ç¨æ§ï¼Aï¼éå¸¸æ¯å¼ºä¸è´æ§ï¼Cï¼æ´éè¦</strong>ï¼åé¢è¯¦è¯´ï¼ï¼Nacos åè®¸ä½ å¨ AP å CP é´åæ¢ï¼è ZooKeeper æ¯åå®ç CP æ´¾ã</p>
</li>
</ol>
<h2 id="43-åºäº-zookeeper-è¦åä»ä¹æ ¸å¿åæ­¥">4.3 åºäº ZooKeeper è¦åä»ä¹ï¼ââæ ¸å¿åæ­¥</h2>
<p>å®ç°èµ·æ¥å¹¶ä¸å¤æï¼</p>
<ol>
<li><strong>æå¡æ³¨å</strong>ï¼å¯å¨æ¶ï¼å° ZooKeeper ä¸âç­¾å°âã</li>
<li><strong>æå¡æå</strong>ï¼ä» ZooKeeper æåå¨éæå¡åè¡¨ç¼å­å°æ¬å°ã</li>
<li><strong>çå¬åå</strong>ï¼è®¢é ZooKeeper èç¹ï¼åè¡¨ä¸åï¼æ¬å°ç«å»æ´æ°ã</li>
<li><strong>æ¬å°è´è½½åè¡¡</strong>ï¼è°ç¨æ¶ï¼æ¬å°ç¼å­éè½®è¯¢ï¼æå¶ä»ç­ç¥ï¼éä¸ä¸ªå®ä¾ç´æ¥éä¿¡ã<strong>è³æ­¤ï¼ä¸­å¤® Nginx è¢«æåâæè§£âæäºã</strong></li>
</ol>
<h1 id="5-çµé­æ·é®å¦æ-zookeeper-èªå·±æäºæä¹å">5. çµé­æ·é®ï¼å¦æ ZooKeeper èªå·±æäºæä¹åï¼</h1>
<p>è¿æ¯ææ CP ç³»ç»ï¼å¦ ZooKeeperï¼å¨å¾®æå¡åºæ¯ä¸æç»å¸çè´¨çãè¿éå¿é¡»æ¬åº <strong>CAP ä¸è§</strong>çè®ºæ¥è§£éäºï¼</p>
<ul>
<li><strong>Cï¼ä¸è´æ§ï¼</strong>ï¼ææèç¹çå°çæ°æ®å¨åä¸æ¶å»æ¯ç¸åçã</li>
<li><strong>Aï¼å¯ç¨æ§ï¼</strong>ï¼æ¯ä¸ªè¯·æ±é½è½å¾å°ååºï¼ä¸ä¿è¯æ°æ®ææ°ï¼ã</li>
<li><strong>Pï¼ååºå®¹éæ§ï¼</strong>ï¼ç³»ç»è½å¨ç½ç»ååºæ¶ç»§ç»­å·¥ä½ã</li>
</ul>
<p>ZooKeeper æ¯ <strong>CP</strong> ç³»ç»ãå½éç¾¤ Leader å®æºæç½ç»åçååºæ¶ï¼å®ä¼ä¸ºäºä¿è¯æ°æ®ä¸è´æ§ï¼Cï¼èè¿å¥éä¸¾ç¶æï¼<strong>å¨æ­¤æé´æç»æå¡ï¼çºç²äº Aï¼</strong>ãè¿å¯¹å¾®æå¡åç°æ¥è¯´ï¼å¯è½æç¹âè¿âäºã</p>
<p>æ³æ³çï¼å¾®æå¡ä¹é´æ¯åéæåä¸ä¸çè°ç¨ï¼å¦æå ä¸º ZooKeeper éä¸¾å¯¼è´<strong>æææå¡é½æ æ³è·åæ°å°å</strong>ï¼æ´ä¸ªç³»ç»å°±åµä½äºãç¸æ¯ä¹ä¸ï¼æä»¬æ´æ¿ææ¥åä¸ç§âæ¸©åâçéè¯¯ï¼æ¯å¦ï¼æ°ä¸çº¿çæå¡å°å<strong>ç­æå°</strong>æ²¡æè¢«ææèç¹æç¥ï¼<strong>çºç²ä¸ç¹ç¹ C</strong>ï¼ï¼å¯¼è´å°éè¯·æ±å¯è½æå°æ§IPèå¤±è´¥ï¼å®¢æ·ç«¯åºæéè¯ï¼ï¼ä½è¿<strong>è¿å¥½è¿å¨ä½ç½¢å·¥</strong>ãè¿å°±æ¯ä¸ºä»ä¹å Eureka è¿æ ·ç <strong>AP</strong> ç³»ç»ï¼æ Nacosï¼å¯é AP æ¨¡å¼ï¼å¨å¾®æå¡é¢åæ´åéçã</p>
<p><strong>é£å½æ¶æä»¬ç¨ ZooKeeper æä¹åï¼</strong> æä»¬éç¨äºâååºæ¹æ¡âï¼</p>
<ol>
<li><strong>æ¬å°ç¼å­ä¿åº</strong>ï¼æå¡æ¬å°æç¼å­åè¡¨ï¼ZooKeeper ç­æå®æºï¼å¤§å®¶ç»§ç»­ç¨æ§åè¡¨éä¿¡ï¼åºæ¬æ²¡äºã</li>
<li><strong>éç½®ä¸­å¿å¤ä»½</strong>ï¼å®ææå®æ´çæå¡åè¡¨åæ­¥ä¸ä»½å°éç½®ä¸­å¿ãä¸ä¸ææ°æå¡å¨ ZooKeeper å®æºæé´å¯å¨ï¼å®è¿è½ä»éç½®ä¸­å¿æåå°ä¸ä¸ªâè½ä¸æ¯ææ°ä½åºæ¬å¯ç¨âçåè¡¨ï¼ä¸è³äºå®å¨âå¤±æâã</li>
</ol>
<h1 id="6å°ç»åå¤´çè½»èå·²è¿ä¸éå±±">6.å°ç»ï¼åå¤´çï¼è½»èå·²è¿ä¸éå±±</h1>
<p>ç¨ä¸æ°æ¶æåï¼ååå¤´çé£âåå®ç½ªâï¼å·²ç¶çæ¶äºæ£ï¼</p>
<ul>
<li><strong>éç½®ç¹çï¼</strong> æ éåç¢° Nginxï¼æå¡èªå¨æ³¨åã</li>
<li><strong>å æºå¨è¦éå¯ï¼</strong> æ°å®ä¾ä¸çº¿èªå¨å å¥ï¼æ ç¼è¡æ¥ã</li>
<li><strong>è´è½½åè¡¡åç¹ï¼</strong> æµéç´æ¥ä»è°ç¨æ¹å°è¢«è°ç¨æ¹ï¼è·¯å¾æç­ï¼æ§è½æ´ä¼ã</li>
<li><strong>ç®¡çå°é¾ï¼</strong> æå¡æ¸åå®æ¶å¯æ¥ï¼ä¸ç®äºç¶ã</li>
</ul>
<p>å½ç¶ï¼æä»¬æ¿è®¤è¿æ¯å¨âéå¤é è½®å­âãï¼å ä¸ºæ³¨ååç°æ¯Spring CloudæDubboå·²ç»å®ç°çåè½ãææ¶åæ°äººä¼é®ï¼ä¸ºä»ä¹è¦èªç ï¼è¿æ¶åªè¦ç»ä»ä»¬çä¸ä¸GoåNode.jsçæå¡ï¼ä»ä»¬å°±å®¹æçè§£äºãä½å¯¹äºä¸ä¸ªå¤è¯­è¨ææ¯æ çå¢éæ¥è¯´ï¼è¿å´æ¯æè´´åå®éçè§£å³æ¹æ¡ãè¿ä¸ªè¿ç¨ä¹è®©æä»¬æâæå¡æ³¨åä¸åç°âçåçï¼ä»éå°å¤æ¸äºä¸ªé¨å¿æ¸ãè¿å¤§æ¦å°±æ¯âè¢«è¿«é è½®å­âå¸¦æ¥çæå¤æ¶è·å§ã</p>
<p>å¥½äºï¼å¾®æå¡çâéè®¯å½âé®é¢æä»¬å°±çå°è¿éãä¸æ¬¡ï¼æä»¬æ¥çå¦ä¸ä¸ªè®©äººå¤´ç¼çç©æï¼å½ä¸æ¬¡è¯·æ±ç©¿è¿å åä¸ªæå¡ï¼åºäºé®é¢æ¶ï¼<strong>æ¥å¿æ£è½å¨å¤©æ¶¯æµ·è§ï¼æä»¬è¯¥æä¹æå®æ¼ååä¸ä¸ªå®æ´çæäºï¼</strong></p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.013888888888888888" data-date-updated="2025-12-26 21:32">2025-12-26 21:12</span>&nbsp;
<a href="https://www.cnblogs.com/yhup">yihuiComeOn</a>&nbsp;
éè¯»(<span id="post_view_count">38</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19406648);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19406648', targetLink: 'https://www.cnblogs.com/yhup/p/19406648', title: '[ä»ç¨åºåå°æ¶æå¸] å¾®æå¡åºæ¯å®æ - æ³¨ååç°' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
        </channel>
        </rss>