<?xml version="1.0" encoding="UTF-8" ?>
    <rss version="2.0">
    <channel>
        <title><![CDATA[ ä¸»é¡µ - åšå®¢å›­ ]]></title>
        <link><![CDATA[ https://www.cnblogs.com/ ]]></link>
        <lastBuildDate>2025-12-22T04:37:25.297Z</lastBuildDate>
        <description><![CDATA[
        ä¸»é¡µ - åšå®¢å›­ RSS
    ]]></description>
        <language>zh-cn</language>
        <item>
    <title><![CDATA[ ä» MCP åˆ° Agent Skillsï¼ŒAI Ready çš„ .NET 10 æ­£å½“æ—¶ ]]></title>
    <link>https://www.cnblogs.com/sheng-jie/p/19381647</link>
    <guid>a5ed226215532db4d76e49fdf856585d</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/sheng-jie/p/19381647" title="å‘å¸ƒäº 2025-12-22 11:58">
    <span role="heading" aria-level="2">ä» MCP åˆ° Agent Skillsï¼ŒAI Ready çš„ .NET 10 æ­£å½“æ—¶</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="ä½¿ç”¨-net-file-based-apps-ç¼–å†™é«˜æ•ˆ-agent-skills-è„šæœ¬æŒ‡å—">ä½¿ç”¨ .NET File-Based Apps ç¼–å†™é«˜æ•ˆ Agent Skills è„šæœ¬æŒ‡å—</h1>
<h2 id="å‰è¨€">å‰è¨€</h2>
<p>AI å·¥å…·ç”Ÿæ€æ­£åœ¨ç»å†ä¸€åœºæ·±åˆ»çš„å˜é©ã€‚ä» Anthropic æ¨å‡ºçš„ <strong>Model Context Protocol (MCP)</strong> åˆ°æœ€æ–°å‘å¸ƒçš„ <strong>Agent Skills</strong>ï¼Œæˆ‘ä»¬è§è¯äº† AI èƒ½åŠ›æ‰©å±•æ–¹å¼çš„æ¼”è¿›ï¼šMCP ä¸º AI æä¾›äº†è®¿é—®å¤–éƒ¨æ•°æ®å’Œå·¥å…·çš„æ ‡å‡†åŒ–æ¥å£ï¼Œè€Œ Agent Skills åˆ™æ›´è¿›ä¸€æ­¥ï¼Œä¸“æ³¨äºå°†äººç±»çš„ä¸“ä¸šçŸ¥è¯†å’Œå·¥ä½œæµç¨‹å°è£…ä¸º AI å¯ç†è§£ã€å¯æ‰§è¡Œçš„æ ¼å¼ã€‚</p>
<p><strong>Agent Skills</strong> (<a href="https://agentskills.io" title="https://agentskills.io" target="_blank" rel="noopener nofollow">https://agentskills.io</a>) ä¸­å¯ä»¥åŒ…å«å¯æ‰§è¡Œè„šæœ¬ï¼ˆä½äº <code>scripts/</code> ç›®å½•ï¼‰ï¼Œå®˜æ–¹è§„èŒƒæ”¯æŒ Pythonã€Bashã€JavaScript ç­‰è¯­è¨€ã€‚è€Œ <strong>.NET 10 å¼•å…¥çš„ File-Based Apps</strong> ç‰¹æ€§ä¸ºè¿™äº›è„šæœ¬çš„ç¼–å†™æä¾›äº†ä¸€ä¸ªå¼ºå¤§çš„æ–°é€‰æ‹©ï¼šå•ä¸ª <code>.cs</code> æ–‡ä»¶å³å¯ä½œä¸ºå®Œæ•´åº”ç”¨è¿è¡Œï¼Œå†…è”ä¾èµ–å£°æ˜ï¼Œæ”¯æŒè·¨å¹³å°éƒ¨ç½²å’Œ Native AOT ç¼–è¯‘ã€‚</p>
<p>æœ¬æ–‡å°†å¸¦ä½ äº†è§£ Agent Skills çš„è§„èŒƒï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨ .NET File-Based Apps ç¼–å†™é«˜æ•ˆã€å¯é çš„ Skill è„šæœ¬ã€‚ä½ ä¼šå‘ç°ï¼Œ.NET ä¸º Agent Skills çš„è„šæœ¬å¼€å‘æä¾›äº†ç±»å‹å®‰å…¨ã€é«˜æ€§èƒ½å’Œä¼˜ç§€è·¨å¹³å°æ”¯æŒçš„ç‹¬ç‰¹ä¼˜åŠ¿ã€‚</p>
<h2 id="ä¸€ä»€ä¹ˆæ˜¯-agent-skills">ä¸€ã€ä»€ä¹ˆæ˜¯ Agent Skillsï¼Ÿ</h2>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/577140/202512/577140-20251222115747883-716068741.png" class="lazyload"></p>
<h3 id="11-æ ¸å¿ƒæ¦‚å¿µ">1.1 æ ¸å¿ƒæ¦‚å¿µ</h3>
<p>Agent Skills æ˜¯ä¸€ç§è½»é‡çº§ã€å¼€æ”¾çš„æ ¼å¼ï¼Œç”¨äºæ‰©å±• AI Agent çš„èƒ½åŠ›å’Œä¸“ä¸šçŸ¥è¯†ã€‚æœ¬è´¨ä¸Šï¼Œ<strong>ä¸€ä¸ª Skill å°±æ˜¯ä¸€ä¸ªåŒ…å« <code>SKILL.md</code> æ–‡ä»¶çš„æ–‡ä»¶å¤¹</strong>ã€‚</p>
<p>è¯¥æ–‡ä»¶åŒ…å«ï¼š</p>
<ul>
<li><strong>å…ƒæ•°æ®</strong>ï¼š<code>name</code> å’Œ <code>description</code>ï¼ˆæœ€å°‘å¿…éœ€ï¼‰</li>
<li><strong>æŒ‡ä»¤</strong>ï¼šå‘Šè¯‰ Agent å¦‚ä½•æ‰§è¡Œç‰¹å®šä»»åŠ¡çš„ Markdown æ–‡æ¡£</li>
<li><strong>å¯é€‰èµ„æº</strong>ï¼šè„šæœ¬ã€æ¨¡æ¿ã€å‚è€ƒæ–‡æ¡£ç­‰</li>
</ul>
<p>Skills çš„æ ¸å¿ƒä»·å€¼åœ¨äºï¼š</p>
<ul>
<li><strong>ä¸“ä¸šçŸ¥è¯†å°è£…</strong>ï¼šå°†ç‰¹å®šé¢†åŸŸçš„ç¨‹åºåŒ–çŸ¥è¯†ï¼ˆprocedural knowledgeï¼‰å’Œå…¬å¸/å›¢é˜Ÿ/ç”¨æˆ·ç‰¹å®šçš„ä¸Šä¸‹æ–‡æ‰“åŒ…</li>
<li><strong>æŒ‰éœ€åŠ è½½</strong>ï¼šAgent å¯åŠ¨æ—¶åªåŠ è½½ Skill çš„ <code>name</code> å’Œ <code>description</code>ï¼Œä»»åŠ¡åŒ¹é…æ—¶æ‰åŠ è½½å®Œæ•´æŒ‡ä»¤</li>
<li><strong>å¯æ‰§è¡Œèƒ½åŠ›</strong>ï¼šå¯ä»¥åŒ…å«è„šæœ¬ã€å·¥å…·ï¼Œæ‰©å±• Agent çš„å®é™…æ“ä½œèƒ½åŠ›</li>
<li><strong>ç‰ˆæœ¬åŒ–ç®¡ç†</strong>ï¼šSkills å°±æ˜¯æ–‡ä»¶ï¼Œæ˜“äºç¼–è¾‘ã€ç‰ˆæœ¬æ§åˆ¶å’Œåˆ†äº«</li>
</ul>
<h3 id="12-agent-skills-èƒ½åšä»€ä¹ˆ">1.2 Agent Skills èƒ½åšä»€ä¹ˆï¼Ÿ</h3>
<p>æ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼ŒAgent Skills çš„ä¸»è¦åº”ç”¨åœºæ™¯åŒ…æ‹¬ï¼š</p>
<h4 id="é¢†åŸŸä¸“é•¿domain-expertise">é¢†åŸŸä¸“é•¿ï¼ˆDomain Expertiseï¼‰</h4>
<p>å°†ä¸“ä¸šçŸ¥è¯†æ‰“åŒ…ä¸ºå¯å¤ç”¨çš„æŒ‡ä»¤ï¼š</p>
<ul>
<li><strong>æ³•å¾‹å®¡æŸ¥æµç¨‹</strong>ï¼šæ ‡å‡†åŒ–çš„åˆåŒå®¡æŸ¥æ£€æŸ¥æ¸…å•å’Œå®¡æ‰¹æµç¨‹</li>
<li><strong>æ•°æ®åˆ†æç®¡é“</strong>ï¼šç»Ÿä¸€çš„æ•°æ®æ¸…æ´—ã€è½¬æ¢ã€å¯è§†åŒ–å·¥ä½œæµ</li>
<li><strong>ä»£ç å®¡æŸ¥è§„èŒƒ</strong>ï¼šå›¢é˜Ÿçš„ç¼–ç æ ‡å‡†ã€å®‰å…¨æ£€æŸ¥ã€æ€§èƒ½ä¼˜åŒ–æŒ‡å—</li>
<li><strong>åŒ»ç–—è¯Šæ–­åè®®</strong>ï¼šåŸºäºç—‡çŠ¶çš„è¯Šæ–­è·¯å¾„å’Œæ²»ç–—å»ºè®®æµç¨‹</li>
</ul>
<h4 id="æ–°èƒ½åŠ›new-capabilities">æ–°èƒ½åŠ›ï¼ˆNew Capabilitiesï¼‰</h4>
<p>èµ‹äºˆ Agent åŸæœ¬ä¸å…·å¤‡çš„æ“ä½œèƒ½åŠ›ï¼š</p>
<ul>
<li><strong>åˆ›å»ºæ¼”ç¤ºæ–‡ç¨¿</strong>ï¼šæ ¹æ®å†…å®¹è‡ªåŠ¨ç”Ÿæˆ PPT/Keynote</li>
<li><strong>æ„å»º MCP æœåŠ¡å™¨</strong>ï¼šç”Ÿæˆ Model Context Protocol æœåŠ¡å™¨ä»£ç </li>
<li><strong>åˆ†ææ•°æ®é›†</strong>ï¼šæ‰§è¡Œç»Ÿè®¡åˆ†æã€ç”Ÿæˆå¯è§†åŒ–å›¾è¡¨</li>
<li><strong>å¤„ç† PDF æ–‡æ¡£</strong>ï¼šæ‹†åˆ†ã€åˆå¹¶ã€æå–æ–‡æœ¬ã€å¡«å†™è¡¨å•</li>
</ul>
<h4 id="å¯é‡å¤å·¥ä½œæµrepeatable-workflows">å¯é‡å¤å·¥ä½œæµï¼ˆRepeatable Workflowsï¼‰</h4>
<p>å°†å¤šæ­¥éª¤ä»»åŠ¡è½¬åŒ–ä¸ºä¸€è‡´ä¸”å¯å®¡è®¡çš„æµç¨‹ï¼š</p>
<ul>
<li><strong>CI/CD æµæ°´çº¿</strong>ï¼šæ ‡å‡†åŒ–çš„æ„å»ºã€æµ‹è¯•ã€éƒ¨ç½²æ­¥éª¤</li>
<li><strong>å®¢æˆ·å…¥èŒæµç¨‹</strong>ï¼šè´¦æˆ·åˆ›å»ºã€æƒé™é…ç½®ã€åŸ¹è®­ææ–™å‘é€</li>
<li><strong>æœˆåº¦æŠ¥å‘Šç”Ÿæˆ</strong>ï¼šæ•°æ®æ”¶é›†ã€åˆ†æã€æŠ¥å‘Šç¼–å†™ã€åˆ†å‘</li>
<li><strong>ä»£ç é‡æ„ä»»åŠ¡</strong>ï¼šè¯†åˆ«é—®é¢˜ã€å»ºè®®æ”¹è¿›ã€æ‰§è¡Œä¿®æ”¹ã€éªŒè¯æµ‹è¯•</li>
</ul>
<h4 id="è·¨å·¥å…·äº’æ“ä½œinteroperability">è·¨å·¥å…·äº’æ“ä½œï¼ˆInteroperabilityï¼‰</h4>
<p>ä¸€æ¬¡ç¼–å†™ï¼Œå¤šå¤„ä½¿ç”¨ï¼š</p>
<ul>
<li>åœ¨ <strong>GitHub Copilot</strong> ä¸­è¾…åŠ©ç¼–ç </li>
<li>åœ¨ <strong>Cursor</strong> ä¸­è¿›è¡Œé¡¹ç›®é‡æ„</li>
<li>åœ¨ <strong>Claude</strong> ä¸­è¿›è¡Œæ–‡æ¡£å†™ä½œ</li>
<li>åœ¨ <strong>Goose</strong> ä¸­æ‰§è¡Œè‡ªåŠ¨åŒ–ä»»åŠ¡</li>
</ul>
<p>è¿™ç§æ ‡å‡†åŒ–ä½¿å¾—ç»„ç»‡çŸ¥è¯†å¯ä»¥åœ¨ä¸åŒå·¥å…·é—´æ— ç¼æµè½¬ã€‚</p>
<h3 id="13-è°åœ¨æ”¯æŒ-agent-skills">1.3 è°åœ¨æ”¯æŒ Agent Skillsï¼Ÿ</h3>
<p>ç›®å‰å·²æœ‰å¤šä¸ªä¸»æµ AI å¼€å‘å·¥å…·æ”¯æŒè¯¥æ ‡å‡†ï¼š</p>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/577140/202512/577140-20251222115747805-798970849.png" class="lazyload"></p>
<h2 id="äºŒagent-skills-è§„èŒƒè§£è¯»">äºŒã€Agent Skills è§„èŒƒè§£è¯»</h2>
<h3 id="21-åŸºæœ¬ç›®å½•ç»“æ„">2.1 åŸºæœ¬ç›®å½•ç»“æ„</h3>
<p>ä¸€ä¸ªæœ€ç®€å•çš„ Skill åªéœ€è¦åŒ…å« <code>SKILL.md</code> æ–‡ä»¶ï¼š</p>
<pre><code>skill-name/
â””â”€â”€ SKILL.md          # å¿…éœ€
</code></pre>
<p>å¯é€‰çš„æ”¯æŒç›®å½•ï¼š</p>
<pre><code>skill-name/
â”œâ”€â”€ SKILL.md          # å¿…éœ€ï¼šæŠ€èƒ½æè¿°å’Œä½¿ç”¨è¯´æ˜
â”œâ”€â”€ scripts/          # å¯é€‰ï¼šå¯æ‰§è¡Œè„šæœ¬
â”‚   â””â”€â”€ tool.py
â”œâ”€â”€ references/       # å¯é€‰ï¼šè¯¦ç»†å‚è€ƒæ–‡æ¡£
â”‚   â””â”€â”€ REFERENCE.md
â””â”€â”€ assets/          # å¯é€‰ï¼šé™æ€èµ„æº
    â””â”€â”€ template.json
</code></pre>
<h3 id="22-skillmd-æ ¼å¼è§„èŒƒ">2.2 SKILL.md æ ¼å¼è§„èŒƒ</h3>
<p><code>SKILL.md</code> æ–‡ä»¶åŒ…å«ä¸¤éƒ¨åˆ†ï¼š<strong>YAML frontmatter</strong> å’Œ <strong>Markdown æ­£æ–‡</strong>ã€‚</p>
<h4 id="frontmatter-å¿…éœ€å­—æ®µ">Frontmatter å¿…éœ€å­—æ®µ</h4>
<pre><code class="language-yaml">---
name: skill-name
description: æè¿°æŠ€èƒ½åŠŸèƒ½å’Œä½¿ç”¨åœºæ™¯çš„æ–‡å­—ï¼Œåº”åŒ…å«å¸®åŠ© Agent è¯†åˆ«ç›¸å…³ä»»åŠ¡çš„å…³é”®è¯
---
</code></pre>
<p><strong>name å­—æ®µè§„åˆ™</strong>ï¼š</p>
<ul>
<li>é•¿åº¦ï¼š1-64 å­—ç¬¦</li>
<li>å­—ç¬¦ï¼šä»…å…è®¸å°å†™å­—æ¯ã€æ•°å­—å’Œè¿å­—ç¬¦ (<code>a-z</code>, <code>-</code>)</li>
<li>ä¸èƒ½ä»¥è¿å­—ç¬¦å¼€å¤´æˆ–ç»“å°¾</li>
<li>ä¸èƒ½åŒ…å«è¿ç»­çš„è¿å­—ç¬¦ (<code>--</code>)</li>
<li><strong>å¿…é¡»ä¸çˆ¶ç›®å½•åå®Œå…¨ä¸€è‡´</strong></li>
</ul>
<p><strong>description å­—æ®µè§„åˆ™</strong>ï¼š</p>
<ul>
<li>é•¿åº¦ï¼š1-1024 å­—ç¬¦</li>
<li>åº”è¯´æ˜æŠ€èƒ½çš„åŠŸèƒ½å’Œä½¿ç”¨æ—¶æœº</li>
<li>åŒ…å«å…³é”®è¯å¸®åŠ© Agent è¯†åˆ«é€‚ç”¨åœºæ™¯</li>
</ul>
<h4 id="å¯é€‰å­—æ®µ">å¯é€‰å­—æ®µ</h4>
<pre><code class="language-yaml">---
name: pdf-processing
description: Extract text from PDFs and merge multiple documents
license: MIT
compatibility: Requires Python 3.8+ and poppler-utils
metadata:
  author: your-org
  version: "1.0.0"
---
</code></pre>
<h3 id="23-æ¸è¿›å¼ä¿¡æ¯æŠ«éœ²">2.3 æ¸è¿›å¼ä¿¡æ¯æŠ«éœ²</h3>
<p>Agent Skills é‡‡ç”¨æ¸è¿›å¼åŠ è½½ç­–ç•¥æ¥ä¼˜åŒ– token ä½¿ç”¨ï¼š</p>
<ol>
<li><strong>å…ƒæ•°æ®é˜¶æ®µ</strong> (~100 tokens)ï¼šå¯åŠ¨æ—¶åŠ è½½æ‰€æœ‰ Skills çš„ <code>name</code> å’Œ <code>description</code></li>
<li><strong>æŒ‡ä»¤é˜¶æ®µ</strong> (&lt;5000 tokens æ¨è)ï¼šæ¿€æ´» Skill æ—¶åŠ è½½å®Œæ•´çš„ <code>SKILL.md</code></li>
<li><strong>èµ„æºé˜¶æ®µ</strong> (æŒ‰éœ€)ï¼šä»…åœ¨éœ€è¦æ—¶åŠ è½½ <code>scripts/</code>ã€<code>references/</code>ã€<code>assets/</code> ä¸­çš„æ–‡ä»¶</li>
</ol>
<p><strong>æœ€ä½³å®è·µ</strong>ï¼š</p>
<ul>
<li>ä¿æŒ <code>SKILL.md</code> åœ¨ 500 è¡Œä»¥å†…</li>
<li>å°†è¯¦ç»†å‚è€ƒèµ„æ–™ç§»è‡³ <code>references/</code> ç›®å½•</li>
<li>é¿å…æ·±å±‚åµŒå¥—çš„æ–‡ä»¶å¼•ç”¨</li>
</ul>
<h2 id="ä¸‰ä½¿ç”¨-net-file-based-apps-ç¼–å†™-agent-skills-è„šæœ¬">ä¸‰ã€ä½¿ç”¨ .NET File-Based Apps ç¼–å†™ Agent Skills è„šæœ¬</h2>
<p>åœ¨è¿›å…¥å…·ä½“å®ç°ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ä¸ºä»€ä¹ˆ .NET File-Based Apps æ˜¯ç¼–å†™ Agent Skills ä¸­ <code>scripts/</code> ç›®å½•ä¸‹å¯æ‰§è¡Œè„šæœ¬çš„ä¼˜ç§€é€‰æ‹©ã€‚</p>
<h3 id="30-net-ä½œä¸ºè„šæœ¬è¯­è¨€çš„ç‹¬ç‰¹ä¼˜åŠ¿">3.0 .NET ä½œä¸ºè„šæœ¬è¯­è¨€çš„ç‹¬ç‰¹ä¼˜åŠ¿</h3>
<p>æ ¹æ® Agent Skills è§„èŒƒï¼Œ<code>scripts/</code> ç›®å½•ä¸­çš„å¯æ‰§è¡Œä»£ç åº”è¯¥è‡ªåŒ…å«æˆ–æ˜ç¡®è®°å½•ä¾èµ–ã€åŒ…å«æœ‰ç”¨çš„é”™è¯¯æ¶ˆæ¯ã€ä¼˜é›…å¤„ç†è¾¹ç•Œæƒ…å†µã€‚å¸¸è§çš„è„šæœ¬è¯­è¨€åŒ…æ‹¬ Pythonã€Bashã€JavaScriptï¼Œè€Œ .NET File-Based Apps ä¸ºæ­¤æä¾›äº†ä¸€ä¸ªå¼ºå¤§çš„æ›¿ä»£æ–¹æ¡ˆï¼š</p>
<h4 id="å¯¹æ¯”å…¶ä»–è„šæœ¬è¯­è¨€æ–¹æ¡ˆ">å¯¹æ¯”å…¶ä»–è„šæœ¬è¯­è¨€æ–¹æ¡ˆ</h4>
<p>åœ¨ä¸º Agent Skills ç¼–å†™ <code>scripts/</code> ç›®å½•ä¸‹çš„å¯æ‰§è¡Œè„šæœ¬æ—¶ï¼Œ.NET File-Based Apps ä¸å…¶ä»–å¸¸ç”¨è¯­è¨€çš„å¯¹æ¯”ï¼š</p>
<table>
<thead>
<tr>
<th>ç‰¹æ€§</th>
<th>.NET File-Based Apps</th>
<th>Python è„šæœ¬</th>
<th>Node.js è„šæœ¬</th>
</tr>
</thead>
<tbody>
<tr>
<td>å•æ–‡ä»¶è¿è¡Œ</td>
<td>âœ… <code>dotnet file.cs</code></td>
<td>âœ… <code>python file.py</code></td>
<td>âœ… <code>node file.js</code></td>
</tr>
<tr>
<td>ä¾èµ–å£°æ˜</td>
<td>âœ… æ–‡ä»¶å†…å£°æ˜</td>
<td>âš ï¸ éœ€ <code>requirements.txt</code></td>
<td>âš ï¸ éœ€ <code>package.json</code></td>
</tr>
<tr>
<td>ç±»å‹å®‰å…¨</td>
<td>âœ… ç¼–è¯‘æ—¶æ£€æŸ¥</td>
<td>âŒ è¿è¡Œæ—¶é”™è¯¯</td>
<td>âš ï¸ éœ€ TypeScript</td>
</tr>
<tr>
<td>æ€§èƒ½</td>
<td>âœ… Native AOT ç¼–è¯‘</td>
<td>âš ï¸ è§£é‡Šæ‰§è¡Œ</td>
<td>âš ï¸ JIT ç¼–è¯‘</td>
</tr>
<tr>
<td>è·¨å¹³å°éƒ¨ç½²</td>
<td>âœ… å•ä¸ªå¯æ‰§è¡Œæ–‡ä»¶</td>
<td>âš ï¸ éœ€ Python è¿è¡Œæ—¶</td>
<td>âš ï¸ éœ€ Node.js è¿è¡Œæ—¶</td>
</tr>
<tr>
<td>ä¼ä¸šçº§åº“æ”¯æŒ</td>
<td>âœ… ä¸°å¯Œçš„ NuGet ç”Ÿæ€</td>
<td>âœ… PyPI ç”Ÿæ€</td>
<td>âœ… npm ç”Ÿæ€</td>
</tr>
<tr>
<td>AI Agent å¯è¯»æ€§</td>
<td>âœ… ç»“æ„æ¸…æ™°ã€è‡ªæ–‡æ¡£åŒ–</td>
<td>âœ… ç®€æ´</td>
<td>âœ… ç®€æ´</td>
</tr>
</tbody>
</table>
<h4 id="net-çš„ä¸‰å¤§æ€æ‰‹é”">.NET çš„ä¸‰å¤§æ€æ‰‹é”</h4>
<p><strong>1. çœŸæ­£çš„è‡ªåŒ…å«</strong><br>
ä¾èµ–å£°æ˜ç›´æ¥å†™åœ¨ä»£ç æ–‡ä»¶å¤´éƒ¨ï¼ŒAgent ä¸€çœ¼å°±èƒ½çœ‹æ‡‚éœ€è¦ä»€ä¹ˆåŒ…ã€ä»€ä¹ˆç‰ˆæœ¬ï¼Œæ— éœ€æŸ¥æ‰¾å¤–éƒ¨é…ç½®æ–‡ä»¶ã€‚</p>
<pre><code class="language-csharp">#:package PdfSharpCore@1.3.65
#:package Spectre.Console@0.49.1
</code></pre>
<p><strong>2. ä»å¼€å‘åˆ°ç”Ÿäº§æ— ç¼è¿‡æ¸¡</strong><br>
å¼€å‘æ—¶ç›´æ¥è¿è¡Œ <code>.cs</code> æ–‡ä»¶ï¼Œç”Ÿäº§æ—¶ä¸€é”®å‘å¸ƒä¸º Native AOT å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¯åŠ¨é€Ÿåº¦å¯è¾¾æ¯«ç§’çº§ï¼Œå†…å­˜å ç”¨æå°ã€‚</p>
<p><strong>3. AI å‹å¥½çš„ä»£ç ç»“æ„</strong><br>
.NET çš„å¼ºç±»å‹å’Œæ¸…æ™°çš„è¯­æ³•ç»“æ„ï¼Œè®© AI Agent æ›´å®¹æ˜“ç†è§£ä»£ç æ„å›¾ã€å‘ç°æ½œåœ¨é—®é¢˜ã€æå‡ºæ”¹è¿›å»ºè®®ã€‚</p>
<h3 id="31-ä»€ä¹ˆæ˜¯-net-file-based-apps">3.1 ä»€ä¹ˆæ˜¯ .NET File-Based Appsï¼Ÿ</h3>
<p>.NET 10 å¼•å…¥çš„ File-Based Apps ç‰¹æ€§å…è®¸å°†å•ä¸ª <code>.cs</code> æ–‡ä»¶ä½œä¸ºå®Œæ•´çš„åº”ç”¨ç¨‹åºè¿è¡Œï¼Œæ— éœ€ä¼ ç»Ÿçš„é¡¹ç›®æ–‡ä»¶ï¼ˆ<code>.csproj</code>ï¼‰ã€‚å…³é”®ç‰¹æ€§åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>å•æ–‡ä»¶å³åº”ç”¨</strong>ï¼šä¸€ä¸ª <code>.cs</code> æ–‡ä»¶åŒ…å«å®Œæ•´ç¨‹åº</li>
<li><strong>å†…è”ä¾èµ–å£°æ˜</strong>ï¼šé€šè¿‡ç‰¹æ®Šæ³¨é‡Šå£°æ˜ NuGet åŒ…</li>
<li><strong>ç›´æ¥è¿è¡Œ</strong>ï¼š<code>dotnet file.cs</code> å³å¯æ‰§è¡Œ</li>
<li><strong>æ”¯æŒå‘å¸ƒ</strong>ï¼šå¯ä»¥å‘å¸ƒä¸ºç‹¬ç«‹å¯æ‰§è¡Œæ–‡ä»¶æˆ– Native AOT</li>
<li><strong>é›¶é…ç½®</strong>ï¼šæ— éœ€ <code>csproj</code>ã€<code>sln</code> ç­‰é¡¹ç›®æ–‡ä»¶</li>
</ul>
<h3 id="32-file-based-apps-å¦‚ä½•é€‚é…-agent-skills-éœ€æ±‚">3.2 File-Based Apps å¦‚ä½•é€‚é… Agent Skills éœ€æ±‚ï¼Ÿ</h3>
<p>Agent Skills è§„èŒƒå¼ºè°ƒã€Œç®€æ´ã€ã€ã€Œè‡ªåŒ…å«ã€ã€ã€Œå¯ç†è§£ã€ï¼Œ.NET File-Based Apps çš„è®¾è®¡ç†å¿µä¸ä¹‹å®Œç¾å¥‘åˆï¼š</p>
<h4 id="é€‚é…ç‚¹-1æ¸è¿›å¼å¤æ‚åº¦">é€‚é…ç‚¹ 1ï¼šæ¸è¿›å¼å¤æ‚åº¦</h4>
<pre><code class="language-csharp">// å…¥é—¨ï¼š10 è¡Œä»£ç çš„ç®€å•å·¥å…·
#!/usr/bin/env dotnet
if (args.Length == 0) { Console.WriteLine("Hello, Agent!"); return; }
Console.WriteLine($"Processing: {args[0]}");

// è¿›é˜¶ï¼šæ·»åŠ ä¾èµ–å’Œé”™è¯¯å¤„ç†
#:package Newtonsoft.Json@13.0.3
using Newtonsoft.Json;
try { /* å¤„ç†é€»è¾‘ */ }
catch (Exception ex) { Console.Error.WriteLine(ex.Message); return 1; }

// ç”Ÿäº§ï¼šå‘å¸ƒä¸ºé«˜æ€§èƒ½å¯æ‰§è¡Œæ–‡ä»¶
#:property PublishAot=true
// ä¸€è¡Œå‘½ä»¤ï¼šdotnet publish -r win-x64
</code></pre>
<p>ä»åŸå‹åˆ°ç”Ÿäº§ï¼ŒåŒä¸€ä¸ªæ–‡ä»¶ï¼Œé€æ­¥è¿­ä»£ï¼Œæ²¡æœ‰é¡¹ç›®ç»“æ„çš„é‡æ„æˆæœ¬ã€‚</p>
<h4 id="é€‚é…ç‚¹-2ai-agent-çš„ç†è§£æˆæœ¬">é€‚é…ç‚¹ 2ï¼šAI Agent çš„ç†è§£æˆæœ¬</h4>
<p><strong>Python æ–¹æ¡ˆ</strong>ï¼šAgent éœ€è¦æ‰¾åˆ°å¹¶ç†è§£å¤šä¸ªæ–‡ä»¶</p>
<pre><code>my-skill/
â”œâ”€â”€ tool.py          # Agent éœ€è¦è¯»å–
â”œâ”€â”€ requirements.txt # Agent éœ€è¦è¯»å–
â””â”€â”€ README.md        # Agent éœ€è¦è¯»å–
</code></pre>
<p><strong>.NET æ–¹æ¡ˆ</strong>ï¼šä¸€ä¸ªæ–‡ä»¶åŒ…å«æ‰€æœ‰ä¿¡æ¯</p>
<pre><code>my-skill/
â””â”€â”€ scripts/
    â””â”€â”€ tool.cs      # ä¾èµ–ã€é€»è¾‘ã€é…ç½®å…¨åœ¨è¿™é‡Œ
</code></pre>
<p>Agent åªéœ€è¯»å–ä¸€ä¸ªæ–‡ä»¶ï¼Œå°±èƒ½äº†è§£ï¼š</p>
<ul>
<li>éœ€è¦ä»€ä¹ˆä¾èµ–ï¼ˆ<code>#:package</code>ï¼‰</li>
<li>å¦‚ä½•è¿è¡Œï¼ˆ<code>#!/usr/bin/env dotnet</code>ï¼‰</li>
<li>åšä»€ä¹ˆäº‹ï¼ˆä»£ç é€»è¾‘ï¼‰</li>
<li>å¦‚ä½•éƒ¨ç½²ï¼ˆ<code>#:property</code>ï¼‰</li>
</ul>
<h4 id="é€‚é…ç‚¹-3ä¼ä¸šçº§å¯é æ€§">é€‚é…ç‚¹ 3ï¼šä¼ä¸šçº§å¯é æ€§</h4>
<p>.NET çš„ç±»å‹ç³»ç»Ÿåœ¨ Agent é©±åŠ¨çš„å¼€å‘ä¸­å°¤ä¸ºé‡è¦ï¼š</p>
<pre><code class="language-csharp">// ç¼–è¯‘æ—¶å°±èƒ½å‘ç°é”™è¯¯ï¼Œè€Œä¸æ˜¯è¿è¡Œæ—¶å´©æºƒ
string pdfPath = args[0];  // Agent çŸ¥é“è¿™æ˜¯å­—ç¬¦ä¸²
int pageCount = GetPageCount(pdfPath);  // Agent çŸ¥é“è¿”å›å€¼æ˜¯æ•´æ•°

// Python ä¸­ç›¸åŒçš„é”™è¯¯å¯èƒ½è¿è¡Œæ—¶æ‰æš´éœ²
# pdf_path = args[0]  # ç±»å‹ä¸æ˜ç¡®
# page_count = get_page_count(pdf_path)  # è¿”å›å€¼ç±»å‹ä¸æ˜ç¡®
</code></pre>
<p>è¿™æ„å‘³ç€ Agent åœ¨ç”Ÿæˆæˆ–ä¿®æ”¹ä»£ç æ—¶ï¼Œæœ‰æ›´å¤šçš„å®‰å…¨æŠ¤æ ã€‚</p>
<h4 id="é€‚é…ç‚¹-4æ€§èƒ½ä¸èµ„æºæ•ˆç‡">é€‚é…ç‚¹ 4ï¼šæ€§èƒ½ä¸èµ„æºæ•ˆç‡</h4>
<p>AI Agent å¯èƒ½é¢‘ç¹è°ƒç”¨ Skillsï¼Œå¯åŠ¨æ€§èƒ½è‡³å…³é‡è¦ï¼š</p>
<pre><code class="language-bash"># Python è„šæœ¬å¯åŠ¨
$ time python tool.py input.pdf
real    0m0.234s  # éœ€è¦åŠ è½½è§£é‡Šå™¨

# .NET File-Based App å¯åŠ¨
$ time dotnet tool.cs input.pdf
real    0m0.089s  # JIT ç¼–è¯‘

# Native AOT ç¼–è¯‘å
$ time ./tool input.pdf
real    0m0.012s  # æ¥è¿‘åŸç”Ÿ C++ æ€§èƒ½
</code></pre>
<p>å¯¹äº Agent æ‰§è¡Œçš„è‡ªåŠ¨åŒ–ä»»åŠ¡ï¼Œè¿™ç§æ€§èƒ½å·®å¼‚ä¼šç´¯ç§¯æˆæ˜¾è‘—çš„æ—¶é—´èŠ‚çœã€‚</p>
<h3 id="33-å®æˆ˜æ¡ˆä¾‹split-pdf-skill">3.3 å®æˆ˜æ¡ˆä¾‹ï¼šsplit-pdf Skill</h3>
<p>è®©æˆ‘ä»¬ä»¥ä¸€ä¸ªå®é™…çš„ PDF æ‹†åˆ†å·¥å…·ä¸ºä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•å¼€å‘ç¬¦åˆè§„èŒƒçš„ Agent Skillã€‚</p>
<h4 id="æ­¥éª¤-1åˆ›å»ºç›®å½•ç»“æ„">æ­¥éª¤ 1ï¼šåˆ›å»ºç›®å½•ç»“æ„</h4>
<pre><code class="language-bash">mkdir -p split-pdf/scripts
cd split-pdf
</code></pre>
<h4 id="æ­¥éª¤-2ç¼–å†™-skillmd">æ­¥éª¤ 2ï¼šç¼–å†™ SKILL.md</h4>
<p><code>SKILL.md</code> æ˜¯ Agent Skill çš„æ ¸å¿ƒï¼ŒåŒ…å«å…ƒæ•°æ®å’Œä½¿ç”¨è¯´æ˜ã€‚åˆ›å»º <code>SKILL.md</code> æ–‡ä»¶ï¼š</p>
<pre><code class="language-markdown">---
name: split-pdf
description: Split PDF files into separate single-page documents or extract specific page ranges. Use when you need to divide a PDF into multiple files, extract particular pages, or process PDF pages individually. Works with multi-page PDF documents.
license: MIT
---

# Split PDF

å°† PDF æ–‡ä»¶æ‹†åˆ†ä¸ºå¤šä¸ªå•é¡µæ–‡ä»¶æˆ–æå–æŒ‡å®šé¡µé¢èŒƒå›´ã€‚

## ä½¿ç”¨åœºæ™¯

- å°†å¤šé¡µ PDF æ‹†åˆ†ä¸ºç‹¬ç«‹çš„å•é¡µæ–‡ä»¶
- æå– PDF çš„ç‰¹å®šé¡µé¢èŒƒå›´
- éœ€è¦å•ç‹¬å¤„ç† PDF å„ä¸ªé¡µé¢æ—¶

## ä½¿ç”¨æ–¹æ³•

ä½¿ç”¨ `scripts/split-pdf.cs` è„šæœ¬è¿›è¡Œ PDF æ‹†åˆ†ï¼š

### æ‹†åˆ†æ‰€æœ‰é¡µé¢
```bash
dotnet scripts/split-pdf.cs input.pdf output-dir/
</code></pre>
<h3 id="æ‹†åˆ†æŒ‡å®šé¡µé¢èŒƒå›´">æ‹†åˆ†æŒ‡å®šé¡µé¢èŒƒå›´</h3>
<pre><code class="language-bash"># æ‹†åˆ†ç¬¬ 1-5 é¡µ
dotnet scripts/split-pdf.cs input.pdf output-dir/ 1-5
</code></pre>
<h2 id="è¾“å‡ºæ ¼å¼">è¾“å‡ºæ ¼å¼</h2>
<p>æ‹†åˆ†åçš„æ–‡ä»¶å‘½åæ ¼å¼ï¼š<code>{åŸæ–‡ä»¶å}_page_{é¡µç }.pdf</code></p>
<h2 id="ä¾èµ–é¡¹">ä¾èµ–é¡¹</h2>
<ul>
<li>PdfSharpCore 1.3.65 - PDF æ“ä½œæ ¸å¿ƒåº“</li>
<li>Spectre.Console 0.49.1 - ç¾åŒ–çš„æ§åˆ¶å°è¾“å‡º</li>
</ul>
<h2 id="å‘å¸ƒä¸ºå¯æ‰§è¡Œæ–‡ä»¶å¯é€‰">å‘å¸ƒä¸ºå¯æ‰§è¡Œæ–‡ä»¶ï¼ˆå¯é€‰ï¼‰</h2>
<pre><code class="language-bash"># Windows
dotnet publish scripts/split-pdf.cs -r win-x64 -o ./bin

# Linux
dotnet publish scripts/split-pdf.cs -r linux-x64 -o ./bin
</code></pre>
<pre><code>
**æ³¨æ„**ï¼š
- `name` å¿…é¡»ä¸ç›®å½•å `split-pdf` å®Œå…¨ä¸€è‡´
- `description` åŒ…å«å…³é”®è¯ "split", "PDF", "pages" å¸®åŠ© Agent è¯†åˆ«åœºæ™¯

#### æ­¥éª¤ 3ï¼šç¼–å†™ File-Based App è„šæœ¬

åœ¨ `scripts/` ç›®å½•ä¸‹åˆ›å»º `.NET File-Based App è„šæœ¬ `split-pdf.cs`ï¼š

```csharp
#!/usr/bin/env dotnet
#:package PdfSharpCore@1.3.65
#:package Spectre.Console@0.49.1
#:property PublishAot=true

using PdfSharpCore.Pdf;
using PdfSharpCore.Pdf.IO;
using Spectre.Console;
using System;
using System.IO;

// ==================== å‚æ•°æ ¡éªŒ ====================
if (args.Length &lt; 2)
{
    AnsiConsole.MarkupLine("[red]é”™è¯¯: å‚æ•°ä¸è¶³[/]");
    AnsiConsole.MarkupLine("[yellow]ç”¨æ³•: dotnet split-pdf.cs &lt;PDFæ–‡ä»¶&gt; &lt;è¾“å‡ºç›®å½•&gt; [é¡µé¢èŒƒå›´][/]");
    return 1;
}

var pdfPath = args[0];
var outputDir = args[1];
var pageRange = args.Length &gt;= 3 ? args[2] : null;

// éªŒè¯æ–‡ä»¶
if (!File.Exists(pdfPath))
{
    AnsiConsole.MarkupLine($"[red]é”™è¯¯: æ–‡ä»¶ä¸å­˜åœ¨: {pdfPath}[/]");
    return 1;
}

// åˆ›å»ºè¾“å‡ºç›®å½•
Directory.CreateDirectory(outputDir);

// ==================== æ‹†åˆ† PDF ====================
try
{
    using var inputDocument = PdfReader.Open(pdfPath, PdfDocumentOpenMode.Import);
    var totalPages = inputDocument.PageCount;
    
    // è§£æé¡µé¢èŒƒå›´
    int startPage = 1, endPage = totalPages;
    if (!string.IsNullOrEmpty(pageRange))
    {
        var parts = pageRange.Split('-');
        if (parts.Length == 2 &amp;&amp; 
            int.TryParse(parts[0], out startPage) &amp;&amp; 
            int.TryParse(parts[1], out endPage))
        {
            startPage = Math.Max(1, Math.Min(startPage, totalPages));
            endPage = Math.Max(startPage, Math.Min(endPage, totalPages));
        }
    }

    var baseName = Path.GetFileNameWithoutExtension(pdfPath);
    
    await AnsiConsole.Progress()
        .StartAsync(async ctx =&gt;
        {
            var task = ctx.AddTask("æ‹†åˆ† PDF é¡µé¢", maxValue: endPage - startPage + 1);

            for (int i = startPage; i &lt;= endPage; i++)
            {
                using var outputDocument = new PdfDocument();
                outputDocument.AddPage(inputDocument.Pages[i - 1]);
                
                var outputPath = Path.Combine(outputDir, $"{baseName}_page_{i:D3}.pdf");
                outputDocument.Save(outputPath);
                
                task.Increment(1);
                await Task.CompletedTask;
            }
        });

    AnsiConsole.MarkupLine($"[green]âœ… æ‹†åˆ†å®Œæˆï¼å·²ç”Ÿæˆ {endPage - startPage + 1} ä¸ªæ–‡ä»¶[/]");
    return 0;
}
catch (Exception ex)
{
    AnsiConsole.MarkupLine($"[red]âŒ é”™è¯¯: {ex.Message}[/]");
    return 1;
}
</code></pre>
<p><strong>å…³é”®è¦ç´ è§£æ</strong>ï¼š</p>
<ol>
<li><strong>Shebang è¡Œ</strong>ï¼š<code>#!/usr/bin/env dotnet</code> - ä½¿è„šæœ¬å¯åœ¨ Unix ç³»ç»Ÿç›´æ¥æ‰§è¡Œ</li>
<li><strong>ä¾èµ–å£°æ˜</strong>ï¼š<code>#:package</code> æŒ‡ä»¤å£°æ˜ NuGet åŒ…åŠç‰ˆæœ¬</li>
<li><strong>å‘å¸ƒé…ç½®</strong>ï¼š<code>#:property PublishAot=true</code> - æ”¯æŒ Native AOT ç¼–è¯‘</li>
<li><strong>é¡¶å±‚è¯­å¥</strong>ï¼šæ— éœ€ <code>Main</code> æ–¹æ³•ï¼Œç›´æ¥ç¼–å†™é€»è¾‘</li>
<li><strong>è¿”å›å€¼</strong>ï¼šä½¿ç”¨ <code>return</code> è¿”å›é€€å‡ºç </li>
</ol>
<h2 id="å››æµ‹è¯•ä¸éªŒè¯">å››ã€æµ‹è¯•ä¸éªŒè¯</h2>
<h3 id="41-æœ¬åœ°æµ‹è¯•">4.1 æœ¬åœ°æµ‹è¯•</h3>
<h4 id="ç›´æ¥è¿è¡Œæµ‹è¯•">ç›´æ¥è¿è¡Œæµ‹è¯•</h4>
<pre><code class="language-bash"># å‡†å¤‡æµ‹è¯• PDF æ–‡ä»¶
cd split-pdf

# æµ‹è¯•æ‹†åˆ†æ‰€æœ‰é¡µé¢
dotnet scripts/split-pdf.cs test.pdf ./output/

# æµ‹è¯•æ‹†åˆ†æŒ‡å®šèŒƒå›´
dotnet scripts/split-pdf.cs test.pdf ./output/ 1-3

# éªŒè¯è¾“å‡º
ls ./output/
# åº”è¯¥çœ‹åˆ°ï¼štest_page_001.pdf, test_page_002.pdf, test_page_003.pdf
</code></pre>
<h4 id="é”™è¯¯å¤„ç†æµ‹è¯•">é”™è¯¯å¤„ç†æµ‹è¯•</h4>
<pre><code class="language-bash"># æµ‹è¯•æ–‡ä»¶ä¸å­˜åœ¨
dotnet scripts/split-pdf.cs nonexistent.pdf ./output/

# æµ‹è¯•å‚æ•°ä¸è¶³
dotnet scripts/split-pdf.cs

# æµ‹è¯•æ— æ•ˆé¡µé¢èŒƒå›´
dotnet scripts/split-pdf.cs test.pdf ./output/ 100-200
</code></pre>
<h3 id="42-agent-é›†æˆæµ‹è¯•">4.2 Agent é›†æˆæµ‹è¯•</h3>
<p>åœ¨æ”¯æŒ Agent Skills çš„ç¯å¢ƒä¸­æµ‹è¯•ï¼ˆå¦‚ GitHub Copilotï¼‰ï¼š</p>
<ol>
<li>å°† Skill æ”¾ç½®åœ¨ <code>.github/skills/</code> ç›®å½•ä¸‹</li>
<li>é‡å¯æˆ–åˆ·æ–° Agent</li>
<li>æµ‹è¯• Agent æ˜¯å¦èƒ½å‘ç°å’Œä½¿ç”¨è¯¥ Skill</li>
</ol>
<pre><code>ç”¨æˆ·æé—®ï¼šè¯·å¸®æˆ‘æŠŠè¿™ä¸ª PDF æ–‡ä»¶æ‹†åˆ†æˆå•ç‹¬çš„é¡µé¢

Agent è¡Œä¸ºï¼š
1. è¯†åˆ«ä»»åŠ¡æ¶‰åŠ PDF æ‹†åˆ†
2. æŸ¥æ‰¾å¹¶æ¿€æ´» split-pdf skill
3. è¯»å– SKILL.md äº†è§£ä½¿ç”¨æ–¹æ³•
4. æ‰§è¡Œï¼šdotnet scripts/split-pdf.cs document.pdf ./pages/
5. å‘ç”¨æˆ·æŠ¥å‘Šç»“æœ
</code></pre>
<h2 id="äº”æœ€ä½³å®è·µ">äº”ã€æœ€ä½³å®è·µ</h2>
<h3 id="51-è„šæœ¬è®¾è®¡åŸåˆ™">5.1 è„šæœ¬è®¾è®¡åŸåˆ™</h3>
<h4 id="æ¸…æ™°çš„å‚æ•°è®¾è®¡">æ¸…æ™°çš„å‚æ•°è®¾è®¡</h4>
<pre><code class="language-csharp">// âŒ ä¸å¥½ï¼šå‚æ•°å«ä¹‰ä¸æ˜
dotnet tool.cs input output 1

// âœ… å¥½ï¼šå‚æ•°å«ä¹‰æ¸…æ™°
dotnet split-pdf.cs document.pdf ./pages/ 1-10
</code></pre>
<h4 id="å‹å¥½çš„é”™è¯¯æç¤º">å‹å¥½çš„é”™è¯¯æç¤º</h4>
<pre><code class="language-csharp">if (args.Length &lt; 2)
{
    AnsiConsole.MarkupLine("[red]é”™è¯¯: å‚æ•°ä¸è¶³[/]");
    AnsiConsole.MarkupLine("[yellow]ç”¨æ³•: dotnet split-pdf.cs &lt;PDFæ–‡ä»¶&gt; &lt;è¾“å‡ºç›®å½•&gt; [é¡µé¢èŒƒå›´][/]");
    AnsiConsole.MarkupLine("[gray]ç¤ºä¾‹: dotnet split-pdf.cs input.pdf ./output/ 1-5[/]");
    return 1;
}
</code></pre>
<h4 id="è¿›åº¦åé¦ˆ">è¿›åº¦åé¦ˆ</h4>
<p>ä½¿ç”¨ Spectre.Console æä¾›ç›´è§‚çš„è¿›åº¦æ˜¾ç¤ºï¼š</p>
<pre><code class="language-csharp">await AnsiConsole.Progress()
    .StartAsync(async ctx =&gt;
    {
        var task = ctx.AddTask("å¤„ç†ä¸­", maxValue: totalItems);
        foreach (var item in items)
        {
            // å¤„ç†é€»è¾‘
            task.Increment(1);
        }
    });
</code></pre>
<h3 id="52-ä¾èµ–ç®¡ç†">5.2 ä¾èµ–ç®¡ç†</h3>
<h4 id="é€‰æ‹©ç¨³å®šçš„åŒ…ç‰ˆæœ¬">é€‰æ‹©ç¨³å®šçš„åŒ…ç‰ˆæœ¬</h4>
<pre><code class="language-csharp">// âœ… æŒ‡å®šæ˜ç¡®ç‰ˆæœ¬
#:package PdfSharpCore@1.3.65
#:package Spectre.Console@0.49.1

// âŒ é¿å…ä½¿ç”¨ä¸ç¨³å®šç‰ˆæœ¬
#:package SomePackage@*
#:package BetaPackage@2.0.0-beta
</code></pre>
<h4 id="æœ€å°åŒ–ä¾èµ–">æœ€å°åŒ–ä¾èµ–</h4>
<p>åªå¼•å…¥å¿…éœ€çš„åŒ…ï¼Œå‡å°‘æ½œåœ¨çš„å…¼å®¹æ€§é—®é¢˜ã€‚</p>
<h3 id="53-æ–‡æ¡£ç¼–å†™">5.3 æ–‡æ¡£ç¼–å†™</h3>
<h4 id="description-å…³é”®è¯ç­–ç•¥">Description å…³é”®è¯ç­–ç•¥</h4>
<p>åœ¨ <code>description</code> ä¸­åŒ…å«ï¼š</p>
<ul>
<li><strong>åŠ¨ä½œå…³é”®è¯</strong>ï¼šsplit, extract, convert, merge</li>
<li><strong>é¢†åŸŸå…³é”®è¯</strong>ï¼šPDF, document, pages</li>
<li><strong>åœºæ™¯å…³é”®è¯</strong>ï¼šwhen you need to divide, when working with</li>
</ul>
<pre><code class="language-yaml"># âœ… å¥½çš„ description
description: Split PDF files into separate single-page documents or extract specific page ranges. Use when you need to divide a PDF into multiple files, extract particular pages, or process PDF pages individually.

# âŒ ä¸å¤Ÿå¥½
description: PDF tool for splitting.
</code></pre>
<h4 id="æä¾›æ¸…æ™°çš„ç¤ºä¾‹">æä¾›æ¸…æ™°çš„ç¤ºä¾‹</h4>
<p>åœ¨ <code>SKILL.md</code> æ­£æ–‡ä¸­æä¾›ï¼š</p>
<ul>
<li>å¸¸è§ç”¨ä¾‹çš„ç¤ºä¾‹</li>
<li>ä¸åŒå‚æ•°ç»„åˆçš„æ•ˆæœ</li>
<li>é¢„æœŸçš„è¾“å‡ºæ ¼å¼</li>
</ul>
<h3 id="54-è·¨å¹³å°å…¼å®¹æ€§">5.4 è·¨å¹³å°å…¼å®¹æ€§</h3>
<h4 id="è·¯å¾„å¤„ç†">è·¯å¾„å¤„ç†</h4>
<pre><code class="language-csharp">// âœ… ä½¿ç”¨ Path.Combine
var outputPath = Path.Combine(outputDir, $"{baseName}_page_{i:D3}.pdf");

// âŒ é¿å…ç¡¬ç¼–ç è·¯å¾„åˆ†éš”ç¬¦
var outputPath = outputDir + "\\" + baseName + "_page_" + i + ".pdf";
</code></pre>
<h4 id="ç¼–ç å¤„ç†">ç¼–ç å¤„ç†</h4>
<pre><code class="language-csharp">// ç¡®ä¿æ§åˆ¶å°æ­£ç¡®æ˜¾ç¤º Unicode
Console.OutputEncoding = System.Text.Encoding.UTF8;
</code></pre>
<h2 id="å…­è¿›é˜¶è¯é¢˜">å…­ã€è¿›é˜¶è¯é¢˜</h2>
<h3 id="61-æ”¯æŒå¤šä¸ªç›¸å…³å·¥å…·">6.1 æ”¯æŒå¤šä¸ªç›¸å…³å·¥å…·</h3>
<p>å¯ä»¥åœ¨ä¸€ä¸ª Skill ä¸­åŒ…å«å¤šä¸ªç›¸å…³è„šæœ¬ï¼š</p>
<pre><code>pdf-toolkit/
â”œâ”€â”€ SKILL.md
â””â”€â”€ scripts/
    â”œâ”€â”€ split.cs
    â”œâ”€â”€ merge.cs
    â””â”€â”€ extract-text.cs
</code></pre>
<p>åœ¨ <code>SKILL.md</code> ä¸­è¯´æ˜æ¯ä¸ªå·¥å…·çš„ç”¨é€”å’Œä½¿ç”¨åœºæ™¯ã€‚</p>
<h3 id="62-ä½¿ç”¨-references-ç›®å½•">6.2 ä½¿ç”¨ References ç›®å½•</h3>
<p>å¯¹äºå¤æ‚çš„ Skillï¼Œå°†è¯¦ç»†æ–‡æ¡£åˆ†ç¦»ï¼š</p>
<pre><code>data-analysis/
â”œâ”€â”€ SKILL.md           # ç®€è¦è¯´æ˜å’Œå¿«é€Ÿå¼€å§‹
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ analyze.cs
â””â”€â”€ references/
    â”œâ”€â”€ REFERENCE.md   # è¯¦ç»† API å‚è€ƒ
    â”œâ”€â”€ examples.md    # æ›´å¤šç¤ºä¾‹
    â””â”€â”€ algorithms.md  # ç®—æ³•è¯´æ˜
</code></pre>
<p>åœ¨ <code>SKILL.md</code> ä¸­å¼•ç”¨ï¼š</p>
<pre><code class="language-markdown">è¯¦ç»†çš„ API å‚è€ƒè¯·è§ [REFERENCE.md](references/REFERENCE.md "REFERENCE.md")ã€‚
</code></pre>
<h3 id="63-native-aot-ä¼˜åŒ–">6.3 Native AOT ä¼˜åŒ–</h3>
<p>å¯¹äºæ€§èƒ½æ•æ„Ÿçš„å·¥å…·ï¼Œå¯ç”¨ Native AOTï¼š</p>
<pre><code class="language-csharp">#:property PublishAot=true
#:property InvariantGlobalization=true  // å‡å°ä½“ç§¯
</code></pre>
<p>å‘å¸ƒæ—¶ä½¿ç”¨ï¼š</p>
<pre><code class="language-bash">dotnet publish scripts/tool.cs -r win-x64 --property:PublishAot=true
</code></pre>
<p><strong>Native AOT ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>æå¿«çš„å¯åŠ¨æ—¶é—´</li>
<li>è¾ƒå°çš„å†…å­˜å ç”¨</li>
<li>æ— éœ€å®‰è£… .NET è¿è¡Œæ—¶</li>
<li>å•ä¸ªå¯æ‰§è¡Œæ–‡ä»¶</li>
</ul>
<h3 id="64-å›¢é˜Ÿåä½œ">6.4 å›¢é˜Ÿåä½œ</h3>
<p>å°† Skills æ”¾å…¥ç‰ˆæœ¬æ§åˆ¶ï¼š</p>
<pre><code>.github/
â””â”€â”€ skills/
    â”œâ”€â”€ split-pdf/
    â”œâ”€â”€ data-analysis/
    â””â”€â”€ code-review/
</code></pre>
<p>åœ¨å›¢é˜Ÿ README ä¸­è¯´æ˜ï¼š</p>
<ul>
<li>å¦‚ä½•å®‰è£… Skills</li>
<li>å¦‚ä½•è´¡çŒ®æ–° Skills</li>
<li>ç¼–ç è§„èŒƒå’Œæµ‹è¯•è¦æ±‚</li>
</ul>
<h2 id="ä¸ƒæ„ä¹‰ä¸å±•æœ›">ä¸ƒã€æ„ä¹‰ä¸å±•æœ›</h2>
<h3 id="71-å¯¹å¼€å‘è€…çš„ä»·å€¼">7.1 å¯¹å¼€å‘è€…çš„ä»·å€¼</h3>
<p>Agent Skills ä¸ºå¼€å‘è€…å¸¦æ¥ä¸‰å¤§æ ¸å¿ƒä»·å€¼ï¼š</p>
<p><strong>èƒ½åŠ›å¤ç”¨</strong>ï¼šä¸€æ¬¡ç¼–å†™ï¼Œåœ¨ Copilotã€Cursorã€Claude ç­‰å¤šä¸ª Agent äº§å“ä¸­ä½¿ç”¨ï¼Œè¿˜å¯è·¨å›¢é˜Ÿå…±äº«æˆ–é€šè¿‡ GitHub å…¬å¼€å‘å¸ƒã€‚</p>
<p><strong>çŸ¥è¯†æ²‰æ·€</strong>ï¼šå°†å›¢é˜Ÿæœ€ä½³å®è·µå›ºåŒ–ä¸ºç‰ˆæœ¬åŒ–çš„ Skillsï¼Œå¦‚ä»£ç å®¡æŸ¥è§„èŒƒã€éƒ¨ç½²æµç¨‹ã€æ•°æ®åˆ†ææ¨¡æ¿ç­‰ï¼Œç¡®ä¿å·¥ä½œæµç¨‹çš„ä¸€è‡´æ€§ã€‚</p>
<p><strong>æå‡æ•ˆç‡</strong>ï¼šé€šè¿‡æ˜ç¡®çš„æŒ‡å¯¼è®© Agent æ›´å‡†ç¡®åœ°æ‰§è¡Œå¤æ‚ä»»åŠ¡ï¼Œå‡å°‘è¯•é”™å’Œä¿®æ­£ï¼Œæä¾›ä¸€è‡´çš„è¾“å‡ºè´¨é‡ã€‚</p>
<h3 id="72-net-file-based-apps-çš„æœºé‡">7.2 .NET File-Based Apps çš„æœºé‡</h3>
<p>File-Based Apps ä¸º .NET å¸¦æ¥äº†æ–°çš„åº”ç”¨åœºæ™¯ï¼š</p>
<p><strong>é™ä½é—¨æ§›</strong>ï¼šä»å¤æ‚çš„é¡¹ç›®ç»“æ„åˆ°å•æ–‡ä»¶è„šæœ¬ï¼Œè®© Pythonã€Node.js å¼€å‘è€…ä¹Ÿèƒ½è½»æ¾å°è¯• .NETã€‚</p>
<p><strong>AI åä½œä¼˜åŠ¿</strong>ï¼šå¼ºç±»å‹ç³»ç»Ÿå¸®åŠ© AI æ›´å‡†ç¡®ç†è§£ä»£ç ã€å³æ—¶ç¼–è¯‘åé¦ˆåŠ é€Ÿä¿®æ­£ã€ä¸°å¯Œçš„ API æ–‡æ¡£æå‡ AI å¯è¯»æ€§ã€‚</p>
<p><strong>æ€§èƒ½å·®å¼‚åŒ–</strong>ï¼šNative AOT ç¼–è¯‘åœ¨æ‰¹é‡ä»»åŠ¡ä¸­çš„æ€§èƒ½ä¼˜åŠ¿ï¼ˆå¯åŠ¨å¿« 90%+ï¼‰ï¼Œä¸ä»…æå‡ç”¨æˆ·ä½“éªŒï¼Œä¹Ÿé™ä½äº‘ç«¯æˆæœ¬ã€‚</p>
<p><strong>ç”Ÿæ€æ‹“å±•</strong>ï¼š.NET å¼€å‘è€…å¯ä»¥å°†ä¼ä¸šå®è·µæ‰“åŒ…ä¸º Skillsï¼Œåœ¨ AI Agent ç”Ÿæ€ä¸­å±•ç° .NET ä»·å€¼ï¼ŒåŒæ—¶ .NET çš„å®è·µç»éªŒä¹Ÿèƒ½åå“º Agent Skills æ ‡å‡†æ¼”è¿›ã€‚</p>
<h3 id="73-æœªæ¥å±•æœ›">7.3 æœªæ¥å±•æœ›</h3>
<p>Agent Skills ç”Ÿæ€æ­£åœ¨å¿«é€Ÿå‘å±•ï¼Œå¯ä»¥æœŸå¾…ï¼š</p>
<ul>
<li><strong>Skills å¸‚åœº</strong>ï¼šç±»ä¼¼ npm çš„åŒ…ç®¡ç†å™¨å’Œåˆ†å‘å¹³å°</li>
<li><strong>å·¥å…·é“¾é›†æˆ</strong>ï¼šIDE å†…ç½® Agent Skills æ¨¡æ¿å’ŒéªŒè¯å·¥å…·</li>
<li><strong>åº”ç”¨æ‹“å±•</strong>ï¼šä»ä¸ªäººå·¥å…·åˆ°ä¼ä¸šçŸ¥è¯†åº“ã€æ•™è‚²åŸ¹è®­ã€è¡Œä¸šè§£å†³æ–¹æ¡ˆ</li>
</ul>
<p>.NET File-Based Apps åœ¨è¿™ä¸ªç”Ÿæ€ä¸­çš„å®šä½æ¸…æ™°ï¼šä½œä¸º Agent Skills è„šæœ¬çš„å¼ºç±»å‹ã€é«˜æ€§èƒ½é€‰æ‹©ï¼Œä¸ºå¼€å‘è€…æä¾›ä»åŸå‹åˆ°ç”Ÿäº§çš„æ— ç¼ä½“éªŒã€‚</p>
<h2 id="å…«æ€»ç»“">å…«ã€æ€»ç»“</h2>
<p>é€šè¿‡æœ¬æ–‡çš„æ¢ç´¢ï¼Œæˆ‘ä»¬çœ‹åˆ° .NET File-Based Apps ä½œä¸º Agent Skills è„šæœ¬è¯­è¨€çš„ç‹¬ç‰¹ä»·å€¼ï¼š<strong>å•æ–‡ä»¶è‡ªåŒ…å«ã€å¼ºç±»å‹å®‰å…¨ã€Native AOT é«˜æ€§èƒ½</strong>ï¼Œå®Œç¾åŒ¹é… Agent Skills è§„èŒƒå¯¹è„šæœ¬çš„è¦æ±‚ã€‚</p>
<h3 id="æ ¸å¿ƒæ”¶è·">æ ¸å¿ƒæ”¶è·</h3>
<p>æœ¬æ–‡ä» Agent Skills è§„èŒƒå…¥æ‰‹ï¼Œé€šè¿‡ split-pdf å®æˆ˜æ¡ˆä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•ç”¨ .NET File-Based Apps ç¼–å†™é«˜è´¨é‡çš„ Skill è„šæœ¬ï¼Œå¹¶æ¢è®¨äº†å…¶åœ¨ AI æ—¶ä»£çš„åº”ç”¨æœºé‡ã€‚</p>
<h3 id="å¼€å§‹è¡ŒåŠ¨">å¼€å§‹è¡ŒåŠ¨</h3>
<p><strong>å¯¹äº .NET å¼€å‘è€…</strong>ï¼šç”¨ç†Ÿæ‚‰çš„ C# ä¸º Agent Skills ç¼–å†™è„šæœ¬ï¼Œå°†ä¸“ä¸šçŸ¥è¯†å°è£…ä¸ºå¯å¤ç”¨çš„ Skillsï¼Œåœ¨ AI æ—¶ä»£å‘æŒ¥ .NET çš„ä»·å€¼ã€‚</p>
<p><strong>å¯¹äºå…¶ä»–æŠ€æœ¯æ ˆå¼€å‘è€…</strong>ï¼š.NET File-Based Apps å’Œ Python ä¸€æ ·ç®€æ´ï¼Œä½†æä¾›äº†ç±»å‹å®‰å…¨å’Œ Native AOT æ€§èƒ½ã€‚å€¼å¾—å°è¯•ï¼š<code>winget install Microsoft.DotNet.SDK.10</code> ç„¶ååˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ª <code>.cs</code> è„šæœ¬ã€‚</p>
<p><strong>ä¸‹ä¸€æ­¥</strong>ï¼šåŠ¨æ‰‹å®ç°ä½ çš„ç¬¬ä¸€ä¸ª Agent Skillï¼Œå°†ä¸“ä¸šçŸ¥è¯†è½¬åŒ–ä¸ºå¯å¤ç”¨çš„èƒ½åŠ›ï¼Œåœ¨ AI æ—¶ä»£å‘æŒ¥æ›´å¤§ä»·å€¼ã€‚</p>
<h2 id="å‚è€ƒèµ„æº">å‚è€ƒèµ„æº</h2>
<ul>
<li><a href="https://agentskills.io/" title="Agent Skills å®˜æ–¹ç½‘ç«™" target="_blank" rel="noopener nofollow">Agent Skills å®˜æ–¹ç½‘ç«™</a></li>
<li><a href="https://agentskills.io/specification" title="Agent Skills è§„èŒƒ" target="_blank" rel="noopener nofollow">Agent Skills è§„èŒƒ</a></li>
<li><a href="https://github.com/agentskills/agentskills" title="Agent Skills GitHub" target="_blank" rel="noopener nofollow">Agent Skills GitHub</a></li>
<li><a href="https://learn.microsoft.com/en-us/dotnet/core/sdk/file-based-apps" target="_blank" rel="noopener nofollow">.NET File-Based Apps æ–‡æ¡£</a></li>
<li><a href="https://github.com/anthropics/skills" title="anthropics/skills" target="_blank" rel="noopener nofollow">anthropics/skills</a></li>
</ul>
<hr>

</div>
<div id="MySignature" role="contentinfo">
    <div style="display: block; border: 2px solid #6ecaa8; padding: 10px; background: aliceblue">  
<img src="https://files.cnblogs.com/files/sheng-jie/maf-course-card-scan.bmp">
<blockquote>
<b>ğŸ‘†é¢å‘.NETå¼€å‘è€…çš„AI Agent å¼€å‘è¯¾ç¨‹ã€.NET+AI | æ™ºèƒ½ä½“å¼€å‘è¿›é˜¶ã€‘å·²ä¸Šçº¿ï¼Œæ¬¢è¿æ‰«ç åŠ å…¥å­¦ä¹ ã€‚ğŸ‘†</b>
</blockquote>
</div>

<img src="https://files.cnblogs.com/files/sheng-jie/scan-follow.bmp">
<blockquote>
<b>
å…³æ³¨æˆ‘çš„å…¬ä¼—å·ã€å‘ AI è€Œè¡Œã€ï¼Œæˆ‘ä»¬å¾®ä¿¡ä¸è§ä¸æ•£ã€‚
<br>
é˜…ç½¢æ­¤æ–‡ï¼Œå¦‚æœæ‚¨è§‰å¾—æœ¬æ–‡ä¸é”™å¹¶æœ‰æ‰€æ”¶è·ï¼Œè¯·ã€æ‰“èµã€‘æˆ–ã€æ¨èã€‘ï¼Œä¹Ÿå¯ã€è¯„è®ºã€‘ç•™ä¸‹æ‚¨çš„é—®é¢˜æˆ–å»ºè®®ä¸æˆ‘äº¤æµã€‚

ä½ çš„æ”¯æŒæ˜¯æˆ‘ä¸æ–­åˆ›ä½œå’Œåˆ†äº«çš„ä¸ç«­åŠ¨åŠ›ï¼</b>
</blockquote>

<div style="display: block; border: 2px solid #6ecaa8; padding: 10px; background: aliceblue" id="AllanboltSignature">    
        <div>ä½œè€…ï¼š<a href="http://www.jianshu.com/u/39ec0e6b1844" target="_blank">ã€åœ£æ°ã€</a></div>
        <div>å‡ºå¤„ï¼š<a href="http://www.cnblogs.com/sheng-jie/" target="_blank">http://www.cnblogs.com/sheng-jie/</a></div>
        <div>æœ¬æ–‡ç‰ˆæƒå½’ä½œè€…å’Œåšå®¢å›­å…±æœ‰ï¼Œæ¬¢è¿è½¬è½½ï¼Œä½†æœªç»ä½œè€…åŒæ„å¿…é¡»ä¿ç•™æ­¤æ®µå£°æ˜ï¼Œä¸”åœ¨æ–‡ç« é¡µé¢æ˜æ˜¾ä½ç½®ç»™å‡ºåŸæ–‡é“¾æ¥ï¼Œå¦åˆ™ä¿ç•™è¿½ç©¶æ³•å¾‹è´£ä»»çš„æƒåˆ©ã€‚</div>  
</div>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-12-22 11:58">2025-12-22 11:58</span>&nbsp;
<a href="https://www.cnblogs.com/sheng-jie">ã€Œåœ£æ°ã€</a>&nbsp;
é˜…è¯»(<span id="post_view_count">28</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19381647);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19381647', targetLink: 'https://www.cnblogs.com/sheng-jie/p/19381647', title: 'ä» MCP åˆ° Agent Skillsï¼ŒAI Ready çš„ .NET 10 æ­£å½“æ—¶' })">ä¸¾æŠ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ AI ç»“å¯¹ç¼–ç¨‹ï¼šå¦‚ä½•è®© AI è·³å‡ºæ­»å¾ªç¯ï¼Ÿ ]]></title>
    <link>https://www.cnblogs.com/guangzan/p/19380737</link>
    <guid>783729021538dbbf2b4365ff1378cf96</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/guangzan/p/19380737" title="å‘å¸ƒäº 2025-12-22 09:13">
    <span role="heading" aria-level="2">AI ç»“å¯¹ç¼–ç¨‹ï¼šå¦‚ä½•è®© AI è·³å‡ºæ­»å¾ªç¯ï¼Ÿ</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="é—®é¢˜èƒŒæ™¯">é—®é¢˜èƒŒæ™¯</h2>
<p>åœ¨ä¸€æ¬¡å¼€å‘è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°äº†ä¸€ä¸ªå…¸å‹ä½†åˆé¢‡å…·è¿·æƒ‘æ€§çš„æ¸²æŸ“é—®é¢˜ï¼šMarkdown è¡¨æ ¼çš„è¡Œåˆ†å‰²çº¿åœ¨ Xcode é¢„è§ˆä¸­æ­£å¸¸æ˜¾ç¤ºï¼Œä½†åœ¨è¿è¡Œæ—¶å®Œå…¨æ¶ˆå¤±ã€‚</p>
<p><img src="https://img2024.cnblogs.com/blog/1501373/202512/1501373-20251220234255623-652241356.png" alt="image" width="903" height="302" loading="lazy"></p>
<p>ä»£ç å—ä¸­çš„ä»£ç å†…å®¹åœ¨ Xcode é¢„è§ˆä¸­æ­£å¸¸æ˜¾ç¤ºï¼Œä½†åœ¨è¿è¡Œæ—¶å®Œå…¨æ¶ˆå¤±ã€‚</p>
<p><img src="https://img2024.cnblogs.com/blog/1501373/202512/1501373-20251220234308601-1880066633.png" alt="image" width="630" height="394" loading="lazy"></p>
<p>è¿™ç±»é—®é¢˜é€šå¸¸ä¸è¿è¡Œç¯å¢ƒå·®å¼‚ã€æ¸²æŸ“ä¸Šä¸‹æ–‡æˆ–è§†å›¾ä¿®é¥°ç¬¦æœ‰å…³ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘è®°å½•äº†è‡ªå·±ä¸ AI ç»“å¯¹ç¼–ç¨‹ã€ä¸€æ­¥æ­¥å®šä½å¹¶è§£å†³é—®é¢˜çš„è¿‡ç¨‹ã€‚</p>
<h2 id="é—®é¢˜åˆ†æè¿‡ç¨‹">é—®é¢˜åˆ†æè¿‡ç¨‹</h2>
<p>æˆ‘å¹¶æ²¡æœ‰ä¸€å¼€å§‹å°±æŠŠä¸¤ä¸ªç°è±¡åŒæ—¶æŠ›ç»™ AIã€‚åŸå› å¾ˆç®€å•ï¼Œç¬¬äºŒä¸ªé—®é¢˜ï¼ˆä»£ç å—æ¶ˆå¤±ï¼‰æ¶‰åŠçš„ä»£ç æ›´å¤æ‚ï¼Œæå®¹æ˜“æŠŠ AI å¸¦è¿›é”™è¯¯æ–¹å‘ã€‚</p>
<p>ç›´è§‰å‘Šè¯‰æˆ‘ï¼Œè¿™ä¸¤ä¸ªç°è±¡å¾ˆå¯èƒ½æ˜¯åŒä¸€ä¸ªæ ¹å› çš„ä¸åŒè¡¨ç°ã€‚å› æ­¤ï¼Œæˆ‘é€‰æ‹©å…ˆæŒ‘ä¸€ä¸ªâ€œçœ‹èµ·æ¥æ›´ç®€å•â€çš„ç°è±¡ï¼šè¡¨æ ¼åˆ†å‰²çº¿æ¶ˆå¤±ï¼Œä½œä¸ºåˆ‡å…¥ç‚¹ï¼Œè®© AI å…ˆé›†ä¸­ç²¾åŠ›è§£å†³ä¸€ä¸ªé—®é¢˜ã€‚</p>
<h3 id="ç¬¬ä¸€é˜¶æ®µé”™è¯¯çš„å‡è®¾">ç¬¬ä¸€é˜¶æ®µï¼šé”™è¯¯çš„å‡è®¾</h3>
<p>AI çš„ç¬¬ä¸€ååº”éå¸¸â€œæ•™ç§‘ä¹¦å¼â€ï¼Œå®ƒå°†æ³¨æ„åŠ›æ”¾åœ¨äº†è¡¨æ ¼æ ·å¼é…ç½®ä¸Šï¼š</p>
<pre><code class="language-swift">// Theme+Zane.swift
.table { configuration in
  configuration.label
    .fixedSize(horizontal: false, vertical: true)
    .markdownTableBorderStyle(.init(.horizontalBorders, color: .grid))
    .markdownMargin(top: .em(1.6), bottom: .zero)
}
</code></pre>
<p>å®ƒæå‡ºäº†å‡ ä¸ªå‡è®¾ï¼š</p>
<ol>
<li>é¢œè‰² <code>.grid</code> åœ¨è¿è¡Œæ—¶æœªæ­£ç¡®è§£æ</li>
<li>MarkdownUI çš„è¾¹æ¡†æ ·å¼åœ¨è¿è¡Œæ—¶æœªæ­£ç¡®åº”ç”¨</li>
<li>ç¯å¢ƒå˜é‡ï¼ˆcolorSchemeï¼‰æœªæ­£ç¡®ä¼ é€’</li>
</ol>
<p>è¿™äº›å‡è®¾çœ‹èµ·æ¥åˆç†ï¼Œä½†éƒ½éšå«ç€ä¸€ä¸ªå‰æï¼šé—®é¢˜ä¸€å®šå‡ºåœ¨ Markdown æ ·å¼æœ¬èº«ã€‚</p>
<h3 id="ç¬¬äºŒé˜¶æ®µè°ƒè¯•éªŒè¯">ç¬¬äºŒé˜¶æ®µï¼šè°ƒè¯•éªŒè¯</h3>
<p>ä¸ºäº†éªŒè¯è¿™äº›å‡è®¾ï¼Œæˆ‘æŒ‰ AI çš„å»ºè®®åŠ å…¥äº†ä¸€äº›è°ƒè¯•ä»£ç ï¼š</p>
<pre><code class="language-swift">// æ‰“å° colorScheme å€¼
.onAppear {
    print("colorScheme: \(colorScheme == .dark ? "dark" : "light")")
}

// ä¸´æ—¶æ”¹ä¸ºçº¢è‰²éªŒè¯
.markdownTableBorderStyle(.init(.horizontalBorders, color: .red))
</code></pre>
<p>ç»“æœéå¸¸æ˜ç¡®ï¼š</p>
<ul>
<li>Xcode é¢„è§ˆï¼šçº¢è‰²è¾¹æ¡†å¯è§</li>
<li>å®é™…è¿è¡Œï¼šä¾ç„¶ä¸å¯è§</li>
<li>colorScheme å€¼æ­£å¸¸</li>
</ul>
<p>è¿™ä¸€æ­¥åŸºæœ¬å¯ä»¥ç¡®è®¤ï¼š</p>
<ul>
<li>MarkdownUI çš„æ ·å¼æœºåˆ¶æ˜¯ç”Ÿæ•ˆçš„</li>
<li>è¾¹æ¡†é¢œè‰²ã€ä¸»é¢˜é…ç½®æœ¬èº«æ²¡æœ‰é—®é¢˜</li>
<li>é—®é¢˜åªå­˜åœ¨äºè¿è¡Œæ—¶æ¸²æŸ“ç¯å¢ƒ</li>
</ul>
<h3 id="ç¬¬ä¸‰é˜¶æ®µé™·å…¥æ­»å¾ªç¯é‡å¤å¤šæ¬¡">ç¬¬ä¸‰é˜¶æ®µï¼šé™·å…¥æ­»å¾ªç¯ï¼ˆé‡å¤å¤šæ¬¡ï¼‰</h3>
<p>æˆ‘æ˜ç¡®å‘ AI åé¦ˆï¼š</p>
<blockquote>
<p>MarkdownUI å’Œè‡ªå®šä¹‰ä¸»é¢˜ä¹‹å‰ä¸€ç›´æ­£å¸¸ï¼Œç°åœ¨æ‰å‡ºé—®é¢˜ï¼Œè¯´æ˜æ ¹å› å¾ˆå¯èƒ½ä¸åœ¨è¿™é‡Œï¼Œè¯·ä»å…¶ä»–æ–¹å‘æ’æŸ¥ã€‚</p>
</blockquote>
<p>ä½† AI å¹¶æ²¡æœ‰çœŸæ­£â€œæ¢è„‘å­â€ï¼Œè€Œæ˜¯å¼€å§‹åœ¨åŒä¸€æ¡é”™è¯¯è·¯å¾„ä¸Šåå¤å°è¯•ï¼š</p>
<ul>
<li>ä¿®æ”¹ <code>.grid</code> é¢œè‰²å®šä¹‰</li>
<li>æ”¹ç”¨ç³»ç»Ÿé¢œè‰²</li>
<li>è°ƒæ•´è¾¹æ¡†æ ·å¼é…ç½®</li>
<li>åœ¨ <code>tableCell</code> ä¸­æ·»åŠ  overlay</li>
</ul>
<p>è¿™æ­£æ˜¯ AI ç»“å¯¹ç¼–ç¨‹ä¸­æœ€å¸¸è§çš„é—®é¢˜ä¹‹ä¸€åœ¨é”™è¯¯å‡è®¾ä¸‹ä¸æ–­åšå±€éƒ¨ä¼˜åŒ–ï¼Œå½¢æˆæ€ç»´æ­»å¾ªç¯ã€‚</p>
<h3 id="ç¬¬å››é˜¶æ®µè·³å‡ºå¾ªç¯">ç¬¬å››é˜¶æ®µï¼šè·³å‡ºå¾ªç¯</h3>
<p>æˆ‘ä¸å¾—ä¸æ›´æ˜ç¡®ã€ç”šè‡³æœ‰ç‚¹â€œå¼ºç¡¬â€åœ°çº¦æŸ AIï¼š</p>
<blockquote>
<p>MarkdownUI å’Œ MarkdownView æœ¬èº«æ²¡æœ‰é—®é¢˜ã€‚ç¦æ­¢å†ä¿®æ”¹ä»»ä½• Markdown ç›¸å…³ä»£ç ã€‚ä»å…¶ä»–æ–¹å‘é‡æ–°æ’æŸ¥ã€‚</p>
</blockquote>
<p>è¿™ä¸€æ¬¡ï¼ŒAI æ‰çœŸæ­£å¼€å§‹åˆ‡æ¢è§†è§’ï¼ŒæŠŠæ³¨æ„åŠ›è½¬å‘ï¼š</p>
<ol>
<li><code>MarkdownView</code> çš„ä¿®é¥°ç¬¦</li>
<li>çˆ¶è§†å›¾çš„å¸ƒå±€å®¹å™¨</li>
<li>çˆ¶çº§å®¹å™¨æ»šåŠ¨è§†å›¾é…ç½®</li>
</ol>
<p>æœ€ç»ˆï¼Œé—®é¢˜å®šä½åˆ°äº†è¿™ä¸€æ®µä»£ç ï¼š</p>
<pre><code class="language-swift">LazyVStack(alignment: .leading, spacing: 16) {
    // ...
}
.padding()
.drawingGroup()  // â† é—®é¢˜æ ¹æº
.transaction { transaction in
    transaction.animation = nil
}
</code></pre>
<p>å½“æˆ‘ç§»é™¤ .drawingGroup() åï¼šè¡¨æ ¼åˆ†å‰²çº¿æ¢å¤æ˜¾ç¤ºï¼Œä»£ç å—å†…å®¹ä¹Ÿä¸€å¹¶æ­£å¸¸äº†ï¼</p>
<p>ä¸ºä»€ä¹ˆ <code>.drawingGroup()</code> ä¼šå¯¼è‡´é—®é¢˜ï¼Ÿ<code>.drawingGroup()</code> å°†è§†å›¾å†…å®¹åˆæˆåˆ°ç¦»å±æ¸²æŸ“å±‚ï¼Œç”¨äºæ€§èƒ½ä¼˜åŒ–ã€‚ä½†è¿™ä¸ªè¿‡ç¨‹å¯èƒ½å½±å“ç»†çº¿æ¸²æŸ“ï¼š</p>
<ol>
<li>åˆæˆç²¾åº¦ï¼šç»†çº¿ï¼ˆ1pxï¼‰åœ¨åˆæˆæ—¶å¯èƒ½è¢«æŠ—é”¯é½¿æˆ–é‡‡æ ·å½±å“</li>
<li>æ¸²æŸ“ä¸Šä¸‹æ–‡ï¼šç¦»å±æ¸²æŸ“ä¸ç›´æ¥æ¸²æŸ“çš„ä¸Šä¸‹æ–‡ä¸åŒ</li>
<li>é¢œè‰²æ··åˆï¼šåˆæˆè¿‡ç¨‹ä¸­çš„é¢œè‰²æ··åˆå¯èƒ½ä½¿æµ…è‰²è¾¹æ¡†å˜æ·¡æˆ–æ¶ˆå¤±</li>
</ol>
<h2 id="å…³äº-ai-ç»“å¯¹ç¼–ç¨‹çš„æ€è€ƒ">å…³äº AI ç»“å¯¹ç¼–ç¨‹çš„æ€è€ƒ</h2>
<p>AI åœ¨ç»“å¯¹ç¼–ç¨‹ä¸­å¹¶ä¸æ˜¯â€œä¸ä¼šè§£å†³é—®é¢˜â€ï¼Œè€Œæ˜¯å¾ˆå®¹æ˜“åœ¨é”™è¯¯å‰æä¸‹æŒç»­æ¶ˆè€—æ—¶é—´ã€‚</p>
<p>AI é«˜åº¦ä¾èµ–æ¨¡å¼åŒ¹é…ã€‚ä¸€æ—¦é—®é¢˜è¢«å½’ç±»ä¸ºâ€œè¡¨æ ¼æ¸²æŸ“å¼‚å¸¸â€ï¼Œå®ƒå°±ä¼šè‡ªç„¶åœ°æŠŠæ³¨æ„åŠ›é›†ä¸­åœ¨æ ·å¼ã€é¢œè‰²ã€ä¸»é¢˜ç­‰å¸¸è§å› ç´ ä¸Šï¼Œè€Œå¯¹â€œä¹‹å‰ä¸€ç›´æ­£å¸¸ã€æœ€è¿‘æ‰å‡ºé—®é¢˜â€è¿™ç±»æ—¶é—´çº¿çº¿ç´¢ä¸å¤Ÿæ•æ„Ÿã€‚å½“åˆå§‹å‡è®¾æ²¡æœ‰è¢«åŠæ—¶æ¨ç¿»æ—¶ï¼ŒAI å¾€å¾€ä¼šåœ¨åŒä¸€æ–¹å‘ä¸Šä¸æ–­å¾®è°ƒï¼Œå½¢æˆäº‹å®ä¸Šçš„æ€ç»´æ­»å¾ªç¯ã€‚</p>
<p>è¦è®© AI è·³å‡ºè¿™ç§çŠ¶æ€ï¼Œå…³é”®å¹¶ä¸æ˜¯æä¾›æ›´å¤šç»†èŠ‚ï¼Œè€Œæ˜¯å¼ºåˆ¶æ”¹å˜å®ƒçš„åˆ†æè¾¹ç•Œã€‚æ˜ç¡®æŒ‡å‡ºå½“å‰æ–¹å‘å¯èƒ½æ˜¯é”™çš„ã€å¼ºè°ƒå“ªäº›éƒ¨åˆ†å·²ç»è¢«ç¡®è®¤æ²¡æœ‰é—®é¢˜ï¼Œç”šè‡³ç›´æ¥ç¦æ­¢ç»§ç»­ä¿®æ”¹æŸç±»ä»£ç ï¼Œåè€Œèƒ½æ˜¾è‘—æå‡æ’æŸ¥æ•ˆç‡ã€‚ä¸€æ—¦åˆ†æèŒƒå›´è¢«é‡æ–°åˆ’å®šï¼ŒAI æ‰ä¼šå¼€å§‹å…³æ³¨çˆ¶è§†å›¾ã€ä¿®é¥°ç¬¦é“¾æˆ–æœ€è¿‘çš„æ”¹åŠ¨è¿™äº›æ›´æœ‰ä»·å€¼çš„çº¿ç´¢ã€‚</p>
<p>è¿™ä¹Ÿå†³å®šäº† AI ç»“å¯¹ç¼–ç¨‹çš„åˆç†åˆ†å·¥æ–¹å¼ã€‚äººç±»è´Ÿè´£åˆ¤æ–­æ–¹å‘ã€æä¾›ä¸Šä¸‹æ–‡å’Œæ—¶é—´çº¿ï¼›AI è´Ÿè´£æœç´¢ã€æšä¸¾å’ŒéªŒè¯å¯èƒ½æ€§ã€‚å½“äººç±»ä¸ä¸»åŠ¨ä»‹å…¥çº åæ—¶ï¼ŒAI å¾ˆå®¹æ˜“åœ¨â€œçœ‹ä¼¼åˆç†â€çš„è·¯å¾„ä¸Šåå¤æ‰“ç£¨ï¼Œå´å§‹ç»ˆæ— æ³•è§¦åŠæ ¹å› ã€‚</p>
<p>æœ€ç»ˆï¼Œè¿™æ¬¡é—®é¢˜èƒ½å¤Ÿè¢«å®šä½åˆ° <code>.drawingGroup()</code> ï¼Œå¹¶ä¸æ˜¯å› ä¸º AI çªç„¶å˜å¾—æ›´èªæ˜ï¼Œè€Œæ˜¯å› ä¸ºåˆ†æè§†è§’å‘ç”Ÿäº†æ”¹å˜ã€‚è¿™ä¹Ÿæé†’æˆ‘ï¼Œåœ¨ä¸ AI åä½œè°ƒè¯•æ—¶ï¼Œæ¯”â€œå¦‚ä½•å†™ä»£ç â€æ›´é‡è¦çš„ï¼Œæ˜¯å¦‚ä½•çº¦æŸå’Œå¼•å¯¼å®ƒçš„æ€è€ƒæ–¹å¼ã€‚æœ‰æ—¶å€™ï¼Œé—®é¢˜ä¸åœ¨ä½ ç›¯ç€çš„åœ°æ–¹ï¼Œè€Œåœ¨ä½ å¿½ç•¥çš„åœ°æ–¹ã€‚</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-12-22 09:13">2025-12-22 09:13</span>&nbsp;
<a href="https://www.cnblogs.com/guangzan">guangzan</a>&nbsp;
é˜…è¯»(<span id="post_view_count">0</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19380737);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19380737', targetLink: 'https://www.cnblogs.com/guangzan/p/19380737', title: 'AI ç»“å¯¹ç¼–ç¨‹ï¼šå¦‚ä½•è®© AI è·³å‡ºæ­»å¾ªç¯ï¼Ÿ' })">ä¸¾æŠ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ä¸€æ–‡è®²æ¸…æ¥šå›¾è®ºç›¸å…³ç®—æ³• ]]></title>
    <link>https://www.cnblogs.com/sevencoding/p/19376818</link>
    <guid>d0ca001d15c3e56fc611a91b1841551e</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/sevencoding/p/19376818" title="å‘å¸ƒäº 2025-12-22 09:00">
    <span role="heading" aria-level="2">ä¸€æ–‡è®²æ¸…æ¥šå›¾è®ºç›¸å…³ç®—æ³•</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>å»ºå›¾å‡½æ•°</p>
<pre><code class="language-java">List&lt;Integer&gt;[] buildGraph(int numCourses, int[][] prerequisites) {
    // å›¾ä¸­å…±æœ‰ numCourses ä¸ªèŠ‚ç‚¹
    List&lt;Integer&gt;[] graph = new LinkedList[numCourses];
    for (int i = 0; i &lt; numCourses; i++) {
        graph[i] = new LinkedList&lt;&gt;();
    }
    for (int[] edge : prerequisites) {
        int from = edge[1], to = edge[0];
        // æ·»åŠ ä¸€æ¡ä» from æŒ‡å‘ to çš„æœ‰å‘è¾¹
        // è¾¹çš„æ–¹å‘æ˜¯ã€Œè¢«ä¾èµ–ã€å…³ç³»ï¼Œå³ä¿®å®Œè¯¾ç¨‹ from æ‰èƒ½ä¿®è¯¾ç¨‹ to
        graph[from].add(to);
    }
    return graph;
}
</code></pre>
<h2 id="ç¯æ£€æµ‹ç®—æ³•">ç¯æ£€æµ‹ç®—æ³•</h2>
<h3 id="dfs">DFS</h3>
<pre><code class="language-java">// è®°å½•ä¸€æ¬¡é€’å½’å †æ ˆä¸­çš„èŠ‚ç‚¹
boolean[] onPath;
// è®°å½•éå†è¿‡çš„èŠ‚ç‚¹ï¼Œé˜²æ­¢èµ°å›å¤´è·¯
boolean[] visited;
// è®°å½•å›¾ä¸­æ˜¯å¦æœ‰ç¯
boolean hasCycle = false;

boolean canFinish(int numCourses, int[][] prerequisites) {
    List&lt;Integer&gt;[] graph = buildGraph(numCourses, prerequisites);

    visited = new boolean[numCourses];
    onPath = new boolean[numCourses];

    for (int i = 0; i &lt; numCourses; i++) {
        // éå†å›¾ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹
        traverse(graph, i);
    }
    // åªè¦æ²¡æœ‰å¾ªç¯ä¾èµ–å¯ä»¥å®Œæˆæ‰€æœ‰è¯¾ç¨‹
    return !hasCycle;
}

void traverse(List&lt;Integer&gt;[] graph, int s) {
    if (onPath[s]) {
        // å‡ºç°ç¯
        hasCycle = true;
    }

    if (visited[s] || hasCycle) {
        // å¦‚æœå·²ç»æ‰¾åˆ°äº†ç¯ï¼Œä¹Ÿä¸ç”¨å†éå†äº†
        return;
    }
    // å‰åºä»£ç ä½ç½®
    visited[s] = true;
    onPath[s] = true;
    for (int t : graph[s]) {
        traverse(graph, t);
    }
    // ååºä»£ç ä½ç½®
    onPath[s] = false;
}
</code></pre>
<h3 id="bfs">BFS</h3>
<pre><code class="language-java">// ä¸»å‡½æ•°
public boolean canFinish(int numCourses, int[][] prerequisites) {
    // å»ºå›¾ï¼Œæœ‰å‘è¾¹ä»£è¡¨ã€Œè¢«ä¾èµ–ã€å…³ç³»
    List&lt;Integer&gt;[] graph = buildGraph(numCourses, prerequisites);
    // æ„å»ºå…¥åº¦æ•°ç»„
    int[] indgree = new int[numCourses];
    for (int[] edge : prerequisites) {
        int from = edge[1], to = edge[0];
        // èŠ‚ç‚¹ to çš„å…¥åº¦åŠ ä¸€
        indgree[to]++;
    }

    // æ ¹æ®å…¥åº¦åˆå§‹åŒ–é˜Ÿåˆ—ä¸­çš„èŠ‚ç‚¹
    Queue&lt;Integer&gt; q = new LinkedList&lt;&gt;();
    for (int i = 0; i &lt; numCourses; i++) {
        if (indgree[i] == 0) {
            // èŠ‚ç‚¹ i æ²¡æœ‰å…¥åº¦ï¼Œå³æ²¡æœ‰ä¾èµ–çš„èŠ‚ç‚¹
            // å¯ä»¥ä½œä¸ºæ‹“æ‰‘æ’åºçš„èµ·ç‚¹ï¼ŒåŠ å…¥é˜Ÿåˆ—
            q.offer(i);
        }
    }

    // è®°å½•éå†çš„èŠ‚ç‚¹ä¸ªæ•°
    int count = 0;
    // å¼€å§‹æ‰§è¡Œ BFS å¾ªç¯
    while (!q.isEmpty()) {
        // å¼¹å‡ºèŠ‚ç‚¹ curï¼Œå¹¶å°†å®ƒæŒ‡å‘çš„èŠ‚ç‚¹çš„å…¥åº¦å‡ä¸€
        int cur = q.poll();
        count++;
        for (int next : graph[cur]) {
            indgree[next]--;
            if (indgree[next] == 0) {
                // å¦‚æœå…¥åº¦å˜ä¸º 0ï¼Œè¯´æ˜ next ä¾èµ–çš„èŠ‚ç‚¹éƒ½å·²è¢«éå†
                q.offer(next);
            }
        }
    }

    // å¦‚æœæ‰€æœ‰èŠ‚ç‚¹éƒ½è¢«éå†è¿‡ï¼Œè¯´æ˜ä¸æˆç¯
    return count == numCourses;
}
</code></pre>
<p>è¿™æ®µ BFS ç®—æ³•çš„æ€è·¯ï¼š</p>
<p>1ã€æ„å»ºé‚»æ¥è¡¨ï¼Œå’Œä¹‹å‰ä¸€æ ·ï¼Œè¾¹çš„æ–¹å‘è¡¨ç¤ºã€Œè¢«ä¾èµ–ã€å…³ç³»ã€‚</p>
<p>2ã€æ„å»ºä¸€ä¸ª <code>indegree</code> æ•°ç»„è®°å½•æ¯ä¸ªèŠ‚ç‚¹çš„å…¥åº¦ï¼Œå³ <code>indegree[i]</code> è®°å½•èŠ‚ç‚¹ <code>i</code> çš„å…¥åº¦ã€‚</p>
<p>3ã€å¯¹ BFS é˜Ÿåˆ—è¿›è¡Œåˆå§‹åŒ–ï¼Œå°†å…¥åº¦ä¸º 0 çš„èŠ‚ç‚¹é¦–å…ˆè£…å…¥é˜Ÿåˆ—ã€‚</p>
<p><strong>4ã€å¼€å§‹æ‰§è¡Œ BFS å¾ªç¯ï¼Œä¸æ–­å¼¹å‡ºé˜Ÿåˆ—ä¸­çš„èŠ‚ç‚¹ï¼Œå‡å°‘ç›¸é‚»èŠ‚ç‚¹çš„å…¥åº¦ï¼Œå¹¶å°†å…¥åº¦å˜ä¸º 0 çš„èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—</strong>ã€‚</p>
<p><strong>5ã€å¦‚æœæœ€ç»ˆæ‰€æœ‰èŠ‚ç‚¹éƒ½è¢«éå†è¿‡ï¼ˆ<code>count</code> ç­‰äºèŠ‚ç‚¹æ•°ï¼‰ï¼Œåˆ™è¯´æ˜ä¸å­˜åœ¨ç¯ï¼Œåä¹‹åˆ™è¯´æ˜å­˜åœ¨ç¯</strong>ã€‚</p>
<h2 id="æ‹“æ‰‘æ’åºç®—æ³•">æ‹“æ‰‘æ’åºç®—æ³•</h2>
<p>å¯¹ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾(Directed Acyclic Graphç®€ç§°DAG)Gè¿›è¡Œæ‹“æ‰‘æ’åºï¼Œæ˜¯å°†Gä¸­æ‰€æœ‰é¡¶ç‚¹æ’æˆä¸€ä¸ªçº¿æ€§åºåˆ—ï¼Œä½¿å¾—å›¾ä¸­ä»»æ„ä¸€å¯¹é¡¶ç‚¹uå’Œvï¼Œè‹¥è¾¹(u,v)âˆˆE(G)ï¼Œåˆ™uåœ¨çº¿æ€§åºåˆ—ä¸­å‡ºç°åœ¨vä¹‹å‰ã€‚é€šå¸¸ï¼Œè¿™æ ·çš„çº¿æ€§åºåˆ—ç§°ä¸ºæ»¡è¶³æ‹“æ‰‘æ¬¡åº(Topological Order)çš„åºåˆ—ï¼Œç®€ç§°æ‹“æ‰‘åºåˆ—ã€‚ç®€å•çš„è¯´ï¼Œç”±æŸä¸ªé›†åˆä¸Šçš„ä¸€ä¸ªååºå¾—åˆ°è¯¥é›†åˆä¸Šçš„ä¸€ä¸ªå…¨åºï¼Œè¿™ä¸ªæ“ä½œç§°ä¹‹ä¸ºæ‹“æ‰‘æ’åºã€‚</p>
<h3 id="dfs-1">DFS</h3>
<pre><code class="language-java">// è®°å½•ååºéå†ç»“æœ
List&lt;Integer&gt; postorder = new ArrayList&lt;&gt;();
// è®°å½•æ˜¯å¦å­˜åœ¨ç¯
boolean hasCycle = false;
boolean[] visited, onPath;

// ä¸»å‡½æ•°
public int[] findOrder(int numCourses, int[][] prerequisites) {
    List&lt;Integer&gt;[] graph = buildGraph(numCourses, prerequisites);
    visited = new boolean[numCourses];
    onPath = new boolean[numCourses];
    // éå†å›¾
    for (int i = 0; i &lt; numCourses; i++) {
        traverse(graph, i);
    }
    // æœ‰ç¯å›¾æ— æ³•è¿›è¡Œæ‹“æ‰‘æ’åº
    if (hasCycle) {
        return new int[]{};
    }
    // é€†ååºéå†ç»“æœå³ä¸ºæ‹“æ‰‘æ’åºç»“æœ
    Collections.reverse(postorder);
    int[] res = new int[numCourses];
    for (int i = 0; i &lt; numCourses; i++) {
        res[i] = postorder.get(i);
    }
    return res;
}

// å›¾éå†å‡½æ•°
void traverse(List&lt;Integer&gt;[] graph, int s) {
    if (onPath[s]) {
        // å‘ç°ç¯
        hasCycle = true;
    }
    if (visited[s] || hasCycle) {
        return;
    }
    // å‰åºéå†ä½ç½®
    onPath[s] = true;
    visited[s] = true;
    for (int t : graph[s]) {
        traverse(graph, t);
    }
    // ååºéå†ä½ç½®
    postorder.add(s);
    onPath[s] = false;
}
</code></pre>
<h3 id="bfs-1">BFS</h3>
<pre><code class="language-java">// ä¸»å‡½æ•°
public int[] findOrder(int numCourses, int[][] prerequisites) {
    // å»ºå›¾ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
    List&lt;Integer&gt;[] graph = buildGraph(numCourses, prerequisites);
    // è®¡ç®—å…¥åº¦ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
    int[] indgree = new int[numCourses];
    for (int[] edge : prerequisites) {
        int from = edge[1], to = edge[0];
        indgree[to]++;
    }

    // æ ¹æ®å…¥åº¦åˆå§‹åŒ–é˜Ÿåˆ—ä¸­çš„èŠ‚ç‚¹ï¼Œå’Œç¯æ£€æµ‹ç®—æ³•ç›¸åŒ
    Queue&lt;Integer&gt; q = new LinkedList&lt;&gt;();
    for (int i = 0; i &lt; numCourses; i++) {
        if (indgree[i] == 0) {
            q.offer(i);
        }
    }

    // è®°å½•æ‹“æ‰‘æ’åºç»“æœ
    int[] res = new int[numCourses];
    // è®°å½•éå†èŠ‚ç‚¹çš„é¡ºåºï¼ˆç´¢å¼•ï¼‰
    int count = 0;
    // å¼€å§‹æ‰§è¡Œ BFS ç®—æ³•
    while (!q.isEmpty()) {
        int cur = q.poll();
        // å¼¹å‡ºèŠ‚ç‚¹çš„é¡ºåºå³ä¸ºæ‹“æ‰‘æ’åºç»“æœ
        res[count] = cur;
        count++;
        for (int next : graph[cur]) {
            indgree[next]--;
            if (indgree[next] == 0) {
                q.offer(next);
            }
        }
    }

    if (count != numCourses) {
        // å­˜åœ¨ç¯ï¼Œæ‹“æ‰‘æ’åºä¸å­˜åœ¨
        return new int[]{};
    }

    return res;
}
</code></pre>
<h2 id="äºŒåˆ†å›¾åˆ¤å®šç®—æ³•">äºŒåˆ†å›¾åˆ¤å®šç®—æ³•</h2>
<p>äºŒåˆ†å›¾çš„é¡¶ç‚¹é›†å¯åˆ†å‰²ä¸ºä¸¤ä¸ªäº’ä¸ç›¸äº¤çš„å­é›†ï¼Œå›¾ä¸­æ¯æ¡è¾¹ä¾é™„çš„ä¸¤ä¸ªé¡¶ç‚¹éƒ½åˆ†å±äºè¿™ä¸¤ä¸ªå­é›†ï¼Œä¸”ä¸¤ä¸ªå­é›†å†…çš„é¡¶ç‚¹ä¸ç›¸é‚»ã€‚</p>
<p><img src="https://seven97-blog.oss-cn-hangzhou.aliyuncs.com/imgs/202404270956044.png" alt="" loading="lazy"></p>
<p><strong>ç»™ä½ ä¸€å¹…ã€Œå›¾ã€ï¼Œè¯·ä½ ç”¨ä¸¤ç§é¢œè‰²å°†å›¾ä¸­çš„æ‰€æœ‰é¡¶ç‚¹ç€è‰²ï¼Œä¸”ä½¿å¾—ä»»æ„ä¸€æ¡è¾¹çš„ä¸¤ä¸ªç«¯ç‚¹çš„é¢œè‰²éƒ½ä¸ç›¸åŒï¼Œä½ èƒ½åšåˆ°å—</strong>ï¼Ÿ</p>
<p>è¿™å°±æ˜¯å›¾çš„ã€ŒåŒè‰²é—®é¢˜ã€ï¼Œå…¶å®è¿™ä¸ªé—®é¢˜å°±ç­‰åŒäºäºŒåˆ†å›¾çš„åˆ¤å®šé—®é¢˜ï¼Œå¦‚æœä½ èƒ½å¤ŸæˆåŠŸåœ°å°†å›¾æŸ“è‰²ï¼Œé‚£ä¹ˆè¿™å¹…å›¾å°±æ˜¯ä¸€å¹…äºŒåˆ†å›¾ï¼Œåä¹‹åˆ™ä¸æ˜¯</p>
<h3 id="dfs-2">DFS</h3>
<pre><code class="language-java">// è®°å½•å›¾æ˜¯å¦ç¬¦åˆäºŒåˆ†å›¾æ€§è´¨
private boolean ok = true;
// è®°å½•å›¾ä¸­èŠ‚ç‚¹çš„é¢œè‰²ï¼Œfalse å’Œ true ä»£è¡¨ä¸¤ç§ä¸åŒé¢œè‰²
private boolean[] color;
// è®°å½•å›¾ä¸­èŠ‚ç‚¹æ˜¯å¦è¢«è®¿é—®è¿‡
private boolean[] visited;

// ä¸»å‡½æ•°ï¼Œè¾“å…¥é‚»æ¥è¡¨ï¼Œåˆ¤æ–­æ˜¯å¦æ˜¯äºŒåˆ†å›¾
public boolean isBipartite(int[][] graph) {
    int n = graph.length;
    color =  new boolean[n];
    visited =  new boolean[n];
    // å› ä¸ºå›¾ä¸ä¸€å®šæ˜¯è”é€šçš„ï¼Œå¯èƒ½å­˜åœ¨å¤šä¸ªå­å›¾
    // æ‰€ä»¥è¦æŠŠæ¯ä¸ªèŠ‚ç‚¹éƒ½ä½œä¸ºèµ·ç‚¹è¿›è¡Œä¸€æ¬¡éå†
    // å¦‚æœå‘ç°ä»»ä½•ä¸€ä¸ªå­å›¾ä¸æ˜¯äºŒåˆ†å›¾ï¼Œæ•´å¹…å›¾éƒ½ä¸ç®—äºŒåˆ†å›¾
    for (int v = 0; v &lt; n; v++) {
        if (!visited[v]) {
            traverse(graph, v);
        }
    }
    return ok;
}

// DFS éå†æ¡†æ¶
private void traverse(int[][] graph, int v) {
    // å¦‚æœå·²ç»ç¡®å®šä¸æ˜¯äºŒåˆ†å›¾äº†ï¼Œå°±ä¸ç”¨æµªè´¹æ—¶é—´å†é€’å½’éå†äº†
    if (!ok) return;

    visited[v] = true;
    for (int w : graph[v]) {
        if (!visited[w]) {
            // ç›¸é‚»èŠ‚ç‚¹ w æ²¡æœ‰è¢«è®¿é—®è¿‡
            // é‚£ä¹ˆåº”è¯¥ç»™èŠ‚ç‚¹ w æ¶‚ä¸Šå’ŒèŠ‚ç‚¹ v ä¸åŒçš„é¢œè‰²
            color[w] = !color[v];
            // ç»§ç»­éå† w
            traverse(graph, w);
        } else {
            // ç›¸é‚»èŠ‚ç‚¹ w å·²ç»è¢«è®¿é—®è¿‡
            // æ ¹æ® v å’Œ w çš„é¢œè‰²åˆ¤æ–­æ˜¯å¦æ˜¯äºŒåˆ†å›¾
            if (color[w] == color[v]) {
                // è‹¥ç›¸åŒï¼Œåˆ™æ­¤å›¾ä¸æ˜¯äºŒåˆ†å›¾
                ok = false;
            }
        }
    }
}
</code></pre>
<h3 id="bfs-2">BFS</h3>
<pre><code class="language-java">// è®°å½•å›¾æ˜¯å¦ç¬¦åˆäºŒåˆ†å›¾æ€§è´¨
private boolean ok = true;
// è®°å½•å›¾ä¸­èŠ‚ç‚¹çš„é¢œè‰²ï¼Œfalse å’Œ true ä»£è¡¨ä¸¤ç§ä¸åŒé¢œè‰²
private boolean[] color;
// è®°å½•å›¾ä¸­èŠ‚ç‚¹æ˜¯å¦è¢«è®¿é—®è¿‡
private boolean[] visited;

public boolean isBipartite(int[][] graph) {
    int n = graph.length;
    color =  new boolean[n];
    visited =  new boolean[n];
    
    for (int v = 0; v &lt; n; v++) {
        if (!visited[v]) {
            // æ”¹ä¸ºä½¿ç”¨ BFS å‡½æ•°
            bfs(graph, v);
        }
    }
    
    return ok;
}

// ä» start èŠ‚ç‚¹å¼€å§‹è¿›è¡Œ BFS éå†
private void bfs(int[][] graph, int start) {
    Queue&lt;Integer&gt; q = new LinkedList&lt;&gt;();
    visited[start] = true;
    q.offer(start);
    
    while (!q.isEmpty() &amp;&amp; ok) {
        int v = q.poll();
        // ä»èŠ‚ç‚¹ v å‘æ‰€æœ‰ç›¸é‚»èŠ‚ç‚¹æ‰©æ•£
        for (int w : graph[v]) {
            if (!visited[w]) {
                // ç›¸é‚»èŠ‚ç‚¹ w æ²¡æœ‰è¢«è®¿é—®è¿‡
                // é‚£ä¹ˆåº”è¯¥ç»™èŠ‚ç‚¹ w æ¶‚ä¸Šå’ŒèŠ‚ç‚¹ v ä¸åŒçš„é¢œè‰²
                color[w] = !color[v];
                // æ ‡è®° w èŠ‚ç‚¹ï¼Œå¹¶æ”¾å…¥é˜Ÿåˆ—
                visited[w] = true;
                q.offer(w);
            } else {
                // ç›¸é‚»èŠ‚ç‚¹ w å·²ç»è¢«è®¿é—®è¿‡
                // æ ¹æ® v å’Œ w çš„é¢œè‰²åˆ¤æ–­æ˜¯å¦æ˜¯äºŒåˆ†å›¾
                if (color[w] == color[v]) {
                    // è‹¥ç›¸åŒï¼Œåˆ™æ­¤å›¾ä¸æ˜¯äºŒåˆ†å›¾
                    ok = false;
                }
            }
        }
    }
}
</code></pre>
<h2 id="union-findå¹¶æŸ¥é›†">Union-Findå¹¶æŸ¥é›†</h2>
<p>å¤§ç™½è¯å°±æ˜¯å½“æˆ‘ä»¬éœ€è¦åˆ¤æ–­ä¸¤ä¸ªå…ƒç´ æ˜¯å¦åœ¨åŒä¸€ä¸ªé›†åˆé‡Œçš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±è¦æƒ³åˆ°ç”¨å¹¶æŸ¥é›†ã€‚</p>
<p>å¹¶æŸ¥é›†ä¸»è¦æœ‰ä¸¤ä¸ªåŠŸèƒ½ï¼š</p>
<ul>
<li>å°†ä¸¤ä¸ªå…ƒç´ æ·»åŠ åˆ°ä¸€ä¸ªé›†åˆä¸­ã€‚</li>
<li>åˆ¤æ–­ä¸¤ä¸ªå…ƒç´ åœ¨ä¸åœ¨åŒä¸€ä¸ªé›†åˆ</li>
</ul>
<p>åç§°"å¹¶æŸ¥é›†"ç›´æ¥ä½“ç°äº†å®ƒçš„æ ¸å¿ƒåŠŸèƒ½ï¼šåˆå¹¶é›†åˆä¸æŸ¥è¯¢å…ƒç´ æ‰€å±é›†åˆã€‚åœ¨è‹±æ–‡ä¸­ï¼Œå®ƒé€šå¸¸è¢«ç§°ä¸º"Union-Find"æ•°æ®ç»“æ„æˆ–"Disjoint-Set"æ•°æ®ç»“æ„ã€‚</p>
<p>å¹¶æŸ¥é›†çš„åŸºæœ¬æ€æƒ³æ˜¯ä½¿ç”¨æ ‘å½¢ç»“æ„æ¥è¡¨ç¤ºæ¯ä¸ªé›†åˆï¼Œæ ‘çš„æ ¹èŠ‚ç‚¹ä½œä¸ºé›†åˆçš„ä»£è¡¨å…ƒç´ ã€‚</p>
<p>å¹¶æŸ¥é›†æ ¸å¿ƒç‰¹æ€§ï¼š</p>
<ol>
<li>å¿«é€ŸæŸ¥æ‰¾ï¼šèƒ½å¤Ÿå¿«é€Ÿåˆ¤æ–­ä¸¤ä¸ªå…ƒç´ æ˜¯å¦å±äºåŒä¸€é›†åˆ</li>
<li>å¿«é€Ÿåˆå¹¶ï¼šèƒ½å¤Ÿå¿«é€Ÿå°†ä¸¤ä¸ªé›†åˆåˆå¹¶ä¸ºä¸€ä¸ª</li>
<li>è·¯å¾„å‹ç¼©ï¼šä¼˜åŒ–æŸ¥æ‰¾æ“ä½œï¼Œä½¿æ ‘çš„é«˜åº¦å°½é‡å°</li>
<li>æŒ‰ç§©åˆå¹¶ï¼šä¼˜åŒ–åˆå¹¶æ“ä½œï¼Œå‡å°‘æ ‘çš„é«˜åº¦å¢é•¿</li>
</ol>
<p>Union-Find ç®—æ³•ä¸»è¦éœ€è¦å®ç°è¿™ä¸¤ä¸ª APIï¼š</p>
<pre><code class="language-java">class UF {
    /* å°† p å’Œ q è¿æ¥ */
    public void union(int p, int q);
    /* åˆ¤æ–­ p å’Œ q æ˜¯å¦è¿é€š */
    public boolean connected(int p, int q);
    /* è¿”å›å›¾ä¸­æœ‰å¤šå°‘ä¸ªè¿é€šåˆ†é‡ */
    public int count();
}
</code></pre>
<p>è¿™é‡Œæ‰€è¯´çš„ã€Œè¿é€šã€æ˜¯ä¸€ç§ç­‰ä»·å…³ç³»ï¼Œä¹Ÿå°±æ˜¯è¯´å…·æœ‰å¦‚ä¸‹ä¸‰ä¸ªæ€§è´¨ï¼š</p>
<p>1ã€è‡ªåæ€§ï¼šèŠ‚ç‚¹<code>p</code>å’Œ<code>p</code>æ˜¯è¿é€šçš„ã€‚</p>
<p>2ã€å¯¹ç§°æ€§ï¼šå¦‚æœèŠ‚ç‚¹<code>p</code>å’Œ<code>q</code>è¿é€šï¼Œé‚£ä¹ˆ<code>q</code>å’Œ<code>p</code>ä¹Ÿè¿é€šã€‚</p>
<p>3ã€ä¼ é€’æ€§ï¼šå¦‚æœèŠ‚ç‚¹<code>p</code>å’Œ<code>q</code>è¿é€šï¼Œ<code>q</code>å’Œ<code>r</code>è¿é€šï¼Œé‚£ä¹ˆ<code>p</code>å’Œ<code>r</code>ä¹Ÿè¿é€šã€‚</p>
<p>æ¯”å¦‚è¯´æœ‰ä¸€å¹…å›¾ï¼Œ0ï½9 ä»»æ„ä¸¤ä¸ª<strong>ä¸åŒ</strong>çš„ç‚¹éƒ½ä¸è¿é€šï¼Œè°ƒç”¨<code>connected</code>éƒ½ä¼šè¿”å› falseï¼Œè¿é€šåˆ†é‡ä¸º 10 ä¸ªã€‚</p>
<p>å¦‚æœç°åœ¨è°ƒç”¨<code>union(0, 1)</code>ï¼Œé‚£ä¹ˆ 0 å’Œ 1 è¢«è¿é€šï¼Œè¿é€šåˆ†é‡é™ä¸º 9 ä¸ªã€‚</p>
<p>å†è°ƒç”¨<code>union(1, 2)</code>ï¼Œè¿™æ—¶ 0,1,2 éƒ½è¢«è¿é€šï¼Œè°ƒç”¨<code>connected(0, 2)</code>ä¹Ÿä¼šè¿”å› trueï¼Œè¿é€šåˆ†é‡å˜ä¸º 8 ä¸ªã€‚</p>
<h3 id="åŸºç¡€ç®—æ³•">åŸºç¡€ç®—æ³•</h3>
<p>è®¾å®šæ ‘çš„æ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å…¶çˆ¶èŠ‚ç‚¹ï¼Œå¦‚æœæ˜¯æ ¹èŠ‚ç‚¹çš„è¯ï¼Œè¿™ä¸ªæŒ‡é’ˆæŒ‡å‘è‡ªå·±ã€‚æ¯”å¦‚è¯´åˆšæ‰é‚£å¹… 10 ä¸ªèŠ‚ç‚¹çš„å›¾ï¼Œä¸€å¼€å§‹çš„æ—¶å€™æ²¡æœ‰ç›¸äº’è¿é€šï¼Œå°±æ˜¯è¿™æ ·ï¼š</p>
<pre><code class="language-java">class UF {
    // è®°å½•è¿é€šåˆ†é‡
    private int count;
    // èŠ‚ç‚¹ x çš„èŠ‚ç‚¹æ˜¯ parent[x]
    private int[] parent;

    /* æ„é€ å‡½æ•°ï¼Œn ä¸ºå›¾çš„èŠ‚ç‚¹æ€»æ•° */
    public UF(int n) {
        // ä¸€å¼€å§‹äº’ä¸è¿é€š
        this.count = n;
        // çˆ¶èŠ‚ç‚¹æŒ‡é’ˆåˆå§‹æŒ‡å‘è‡ªå·±
        parent = new int[n];
        for (int i = 0; i &lt; n; i++)
            parent[i] = i;
    }

    /* å…¶ä»–å‡½æ•° */
}
</code></pre>
<p><strong>å¦‚æœæŸä¸¤ä¸ªèŠ‚ç‚¹è¢«è¿é€šï¼Œåˆ™è®©å…¶ä¸­çš„ï¼ˆä»»æ„ï¼‰ä¸€ä¸ªèŠ‚ç‚¹çš„æ ¹èŠ‚ç‚¹æ¥åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹çš„æ ¹èŠ‚ç‚¹ä¸Š</strong>ï¼š</p>
<pre><code class="language-java">public void union(int p, int q) {
    int rootP = find(p);
    int rootQ = find(q);
    if (rootP == rootQ)
        return;
    // å°†ä¸¤æ£µæ ‘åˆå¹¶ä¸ºä¸€æ£µ
    parent[rootP] = rootQ;
    // parent[rootQ] = rootP ä¹Ÿä¸€æ ·
    count--; // ä¸¤ä¸ªåˆ†é‡åˆäºŒä¸ºä¸€
}

/* è¿”å›æŸä¸ªèŠ‚ç‚¹ x çš„æ ¹èŠ‚ç‚¹ */
private int find(int x) {
    // æ ¹èŠ‚ç‚¹çš„ parent[x] == x
    while (parent[x] != x)
        x = parent[x];
    return x;
}

/* è¿”å›å½“å‰çš„è¿é€šåˆ†é‡ä¸ªæ•° */
public int count() { 
    return count;
}
</code></pre>
<p><strong>è¿™æ ·ï¼Œå¦‚æœèŠ‚ç‚¹<code>p</code>å’Œ<code>q</code>è¿é€šçš„è¯ï¼Œå®ƒä»¬ä¸€å®šæ‹¥æœ‰ç›¸åŒçš„æ ¹èŠ‚ç‚¹</strong>ï¼š</p>
<pre><code class="language-java">public boolean connected(int p, int q) {
    int rootP = find(p);
    int rootQ = find(q);
    return rootP == rootQ;
}
</code></pre>
<p>è‡³æ­¤ï¼ŒUnion-Find ç®—æ³•å°±åŸºæœ¬å®Œæˆäº†ã€‚</p>
<p>é‚£ä¹ˆè¿™ä¸ªç®—æ³•çš„å¤æ‚åº¦æ˜¯å¤šå°‘å‘¢ï¼Ÿæˆ‘ä»¬å‘ç°ï¼Œä¸»è¦ API<code>connected</code>å’Œ<code>union</code>ä¸­çš„å¤æ‚åº¦éƒ½æ˜¯<code>find</code>å‡½æ•°é€ æˆçš„ï¼Œæ‰€ä»¥è¯´å®ƒä»¬çš„å¤æ‚åº¦å’Œ<code>find</code>ä¸€æ ·ã€‚</p>
<p><code>find</code>ä¸»è¦åŠŸèƒ½å°±æ˜¯ä»æŸä¸ªèŠ‚ç‚¹å‘ä¸Šéå†åˆ°æ ‘æ ¹ï¼Œå…¶æ—¶é—´å¤æ‚åº¦å°±æ˜¯æ ‘çš„é«˜åº¦ã€‚æˆ‘ä»¬å¯èƒ½ä¹ æƒ¯æ€§åœ°è®¤ä¸ºæ ‘çš„é«˜åº¦å°±æ˜¯<code>logN</code>ï¼Œä½†è¿™å¹¶ä¸ä¸€å®šã€‚<code>logN</code>çš„é«˜åº¦åªå­˜åœ¨äºå¹³è¡¡äºŒå‰æ ‘ï¼Œå¯¹äºä¸€èˆ¬çš„æ ‘å¯èƒ½å‡ºç°æç«¯ä¸å¹³è¡¡çš„æƒ…å†µï¼Œä½¿å¾—ã€Œæ ‘ã€å‡ ä¹é€€åŒ–æˆã€Œé“¾è¡¨ã€ï¼Œæ ‘çš„é«˜åº¦æœ€åæƒ…å†µä¸‹å¯èƒ½å˜æˆ<code>N</code>ã€‚</p>
<p>æ‰€ä»¥è¯´ä¸Šé¢è¿™ç§è§£æ³•ï¼Œ<code>find</code>,<code>union</code>,<code>connected</code>çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(N)ã€‚è¿™ä¸ªå¤æ‚åº¦å¾ˆä¸ç†æƒ³çš„ï¼Œä½ æƒ³å›¾è®ºè§£å†³çš„éƒ½æ˜¯è¯¸å¦‚ç¤¾äº¤ç½‘ç»œè¿™æ ·æ•°æ®è§„æ¨¡å·¨å¤§çš„é—®é¢˜ï¼Œå¯¹äº<code>union</code>å’Œ<code>connected</code>çš„è°ƒç”¨éå¸¸é¢‘ç¹ï¼Œæ¯æ¬¡è°ƒç”¨éœ€è¦çº¿æ€§æ—¶é—´å®Œå…¨ä¸å¯å¿å—ã€‚</p>
<h3 id="å¹³è¡¡æ€§ä¼˜åŒ–">å¹³è¡¡æ€§ä¼˜åŒ–</h3>
<p>è¦çŸ¥é“å“ªç§æƒ…å†µä¸‹å¯èƒ½å‡ºç°ä¸å¹³è¡¡ç°è±¡ï¼Œå…³é”®åœ¨äº<code>union</code>è¿‡ç¨‹ï¼š</p>
<pre><code class="language-java">public void union(int p, int q) {
    int rootP = find(p);
    int rootQ = find(q);
    if (rootP == rootQ)
        return;
    // å°†ä¸¤æ£µæ ‘åˆå¹¶ä¸ºä¸€æ£µ
    parent[rootP] = rootQ;
    // parent[rootQ] = rootP ä¹Ÿå¯ä»¥
    count--; 
}
</code></pre>
<p>æˆ‘ä»¬ä¸€å¼€å§‹å°±æ˜¯ç®€å•ç²—æš´çš„æŠŠ<code>p</code>æ‰€åœ¨çš„æ ‘æ¥åˆ°<code>q</code>æ‰€åœ¨çš„æ ‘çš„æ ¹èŠ‚ç‚¹ä¸‹é¢ï¼Œé‚£ä¹ˆè¿™é‡Œå°±å¯èƒ½å‡ºç°ã€Œå¤´é‡è„šè½»ã€çš„ä¸å¹³è¡¡çŠ¶å†µï¼Œæ¯”å¦‚ä¸‹é¢è¿™ç§å±€é¢ï¼š</p>
<p><img src="https://seven97-blog.oss-cn-hangzhou.aliyuncs.com/imgs/202404271016400.png" alt="" loading="lazy"></p>
<p>é•¿æ­¤ä»¥å¾€ï¼Œæ ‘å¯èƒ½ç”Ÿé•¿å¾—å¾ˆä¸å¹³è¡¡ã€‚<strong>æˆ‘ä»¬å…¶å®æ˜¯å¸Œæœ›ï¼Œå°ä¸€äº›çš„æ ‘æ¥åˆ°å¤§ä¸€äº›çš„æ ‘ä¸‹é¢ï¼Œè¿™æ ·å°±èƒ½é¿å…å¤´é‡è„šè½»ï¼Œæ›´å¹³è¡¡ä¸€äº›</strong>ã€‚è§£å†³æ–¹æ³•æ˜¯é¢å¤–ä½¿ç”¨ä¸€ä¸ª<code>size</code>æ•°ç»„ï¼Œè®°å½•æ¯æ£µæ ‘åŒ…å«çš„èŠ‚ç‚¹æ•°ï¼Œæˆ‘ä»¬ä¸å¦¨ç§°ä¸ºã€Œé‡é‡ã€ï¼š</p>
<pre><code class="language-java">class UF {
    private int count;
    private int[] parent;
    // æ–°å¢ä¸€ä¸ªæ•°ç»„è®°å½•æ ‘çš„â€œé‡é‡â€
    private int[] size;

    public UF(int n) {
        this.count = n;
        parent = new int[n];
        // æœ€åˆæ¯æ£µæ ‘åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹
        // é‡é‡åº”è¯¥åˆå§‹åŒ– 1
        size = new int[n];
        for (int i = 0; i &lt; n; i++) {
            parent[i] = i;
            size[i] = 1;
        }
    }
    /* å…¶ä»–å‡½æ•° */
}
</code></pre>
<p>æ¯”å¦‚è¯´<code>size[3] = 5</code>è¡¨ç¤ºï¼Œä»¥èŠ‚ç‚¹<code>3</code>ä¸ºæ ¹çš„é‚£æ£µæ ‘ï¼Œæ€»å…±æœ‰<code>5</code>ä¸ªèŠ‚ç‚¹ã€‚è¿™æ ·æˆ‘ä»¬å¯ä»¥ä¿®æ”¹ä¸€ä¸‹<code>union</code>æ–¹æ³•ï¼š</p>
<pre><code class="language-java">public void union(int p, int q) {
    int rootP = find(p);
    int rootQ = find(q);
    if (rootP == rootQ)
        return;

    // å°æ ‘æ¥åˆ°å¤§æ ‘ä¸‹é¢ï¼Œè¾ƒå¹³è¡¡
    if (size[rootP] &gt; size[rootQ]) {
        parent[rootQ] = rootP;
        size[rootP] += size[rootQ];
    } else {
        parent[rootP] = rootQ;
        size[rootQ] += size[rootP];
    }
    count--;
}
</code></pre>
<p>è¿™æ ·ï¼Œé€šè¿‡æ¯”è¾ƒæ ‘çš„é‡é‡ï¼Œå°±å¯ä»¥ä¿è¯æ ‘çš„ç”Ÿé•¿ç›¸å¯¹å¹³è¡¡ï¼Œæ ‘çš„é«˜åº¦å¤§è‡´åœ¨<code>logN</code>è¿™ä¸ªæ•°é‡çº§ï¼Œæå¤§æå‡æ‰§è¡Œæ•ˆç‡ã€‚</p>
<p>æ­¤æ—¶ï¼Œ<code>find</code>,<code>union</code>,<code>connected</code>çš„æ—¶é—´å¤æ‚åº¦éƒ½ä¸‹é™ä¸º O(logN)ï¼Œå³ä¾¿æ•°æ®è§„æ¨¡ä¸Šäº¿ï¼Œæ‰€éœ€æ—¶é—´ä¹Ÿéå¸¸å°‘ã€‚</p>
<h3 id="è·¯å¾„å‹ç¼©">è·¯å¾„å‹ç¼©</h3>
<p><strong>å…¶å®æˆ‘ä»¬å¹¶ä¸åœ¨ä¹æ¯æ£µæ ‘çš„ç»“æ„é•¿ä»€ä¹ˆæ ·ï¼Œåªåœ¨ä¹æ ¹èŠ‚ç‚¹</strong>ã€‚</p>
<p>å› ä¸ºæ— è®ºæ ‘é•¿å•¥æ ·ï¼Œæ ‘ä¸Šçš„æ¯ä¸ªèŠ‚ç‚¹çš„æ ¹èŠ‚ç‚¹éƒ½æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥èƒ½ä¸èƒ½è¿›ä¸€æ­¥å‹ç¼©æ¯æ£µæ ‘çš„é«˜åº¦ï¼Œä½¿æ ‘é«˜å§‹ç»ˆä¿æŒä¸ºå¸¸æ•°ï¼Ÿ</p>
<p><img src="https://seven97-blog.oss-cn-hangzhou.aliyuncs.com/imgs/202404271018216.png" alt="" loading="lazy"></p>
<p>å¦‚å›¾æ‰€ç¤ºï¼Œè¿™æ ·æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹å°±æ˜¯æ•´æ£µæ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œ<code>find</code>å°±èƒ½ä»¥ O(1) çš„æ—¶é—´æ‰¾åˆ°æŸä¸€èŠ‚ç‚¹çš„æ ¹èŠ‚ç‚¹ï¼Œç›¸åº”çš„ï¼Œ<code>connected</code>å’Œ<code>union</code>å¤æ‚åº¦éƒ½ä¸‹é™ä¸º O(1)ã€‚</p>
<p>è¦åšåˆ°è¿™ä¸€ç‚¹ä¸»è¦æ˜¯ä¿®æ”¹<code>find</code>å‡½æ•°é€»è¾‘ï¼Œéå¸¸ç®€å•ï¼Œä½†ä½ å¯èƒ½ä¼šçœ‹åˆ°ä¸¤ç§ä¸åŒçš„å†™æ³•ã€‚</p>
<p>ç¬¬ä¸€ç§æ˜¯åœ¨<code>find</code>ä¸­åŠ ä¸€è¡Œä»£ç ï¼š</p>
<pre><code class="language-java">private int find(int x) {
    while (parent[x] != x) {
        // è¿™è¡Œä»£ç è¿›è¡Œè·¯å¾„å‹ç¼©
        parent[x] = parent[parent[x]];
        x = parent[x];
    }
    return x;
}
</code></pre>
<p>ç”¨è¯­è¨€æè¿°å°±æ˜¯ï¼Œæ¯æ¬¡ while å¾ªç¯éƒ½ä¼šæŠŠä¸€å¯¹å„¿çˆ¶å­èŠ‚ç‚¹æ”¹åˆ°åŒä¸€å±‚ï¼Œè¿™æ ·æ¯æ¬¡è°ƒç”¨<code>find</code>å‡½æ•°å‘æ ‘æ ¹éå†çš„åŒæ—¶ï¼Œé¡ºæ‰‹å°±å°†æ ‘é«˜ç¼©çŸ­äº†ã€‚</p>
<p>è·¯å¾„å‹ç¼©çš„ç¬¬äºŒç§å†™æ³•æ˜¯è¿™æ ·ï¼š</p>
<pre><code class="language-java">// ç¬¬äºŒç§è·¯å¾„å‹ç¼©çš„ find æ–¹æ³•
public int find(int x) {
    if (parent[x] != x) {
        parent[x] = find(parent[x]);
    }
    return parent[x];
}
</code></pre>
<p>è¿™ä¸ªé€’å½’è¿‡ç¨‹æœ‰ç‚¹ä¸å¥½ç†è§£ï¼Œä½ å¯ä»¥è‡ªå·±æ‰‹ç”»ä¸€ä¸‹é€’å½’è¿‡ç¨‹ã€‚æˆ‘æŠŠè¿™ä¸ªå‡½æ•°åšçš„äº‹æƒ…ç¿»è¯‘æˆè¿­ä»£å½¢å¼ï¼Œæ–¹ä¾¿ä½ ç†è§£å®ƒè¿›è¡Œè·¯å¾„å‹ç¼©çš„åŸç†ï¼š</p>
<pre><code class="language-java">// è¿™æ®µè¿­ä»£ä»£ç æ–¹ä¾¿ä½ ç†è§£é€’å½’ä»£ç æ‰€åšçš„äº‹æƒ…
public int find(int x) {
    // å…ˆæ‰¾åˆ°æ ¹èŠ‚ç‚¹
    int root = x;
    while (parent[root] != root) {
        root = parent[root];
    }
    // ç„¶åæŠŠ x åˆ°æ ¹èŠ‚ç‚¹ä¹‹é—´çš„æ‰€æœ‰èŠ‚ç‚¹ç›´æ¥æ¥åˆ°æ ¹èŠ‚ç‚¹ä¸‹é¢
    int old_parent = parent[x];
    while (x != root) {
        parent[x] = root;
        x = old_parent;
        old_parent = parent[old_parent];
    }
    return root;
}
</code></pre>
<p>è¿™ç§è·¯å¾„å‹ç¼©çš„æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://seven97-blog.oss-cn-hangzhou.aliyuncs.com/imgs/202404271020276.png" alt="" loading="lazy"></p>
<p>æ¯”èµ·ç¬¬ä¸€ç§è·¯å¾„å‹ç¼©ï¼Œæ˜¾ç„¶è¿™ç§æ–¹æ³•å‹ç¼©å¾—æ›´å½»åº•ï¼Œç›´æ¥æŠŠä¸€æ•´æ¡æ ‘æå‹å¹³ï¼Œä¸€ç‚¹æ„å¤–éƒ½æ²¡æœ‰ã€‚å°±ç®—ä¸€äº›æç«¯æƒ…å†µä¸‹äº§ç”Ÿäº†ä¸€æ£µæ¯”è¾ƒé«˜çš„æ ‘ï¼Œåªè¦ä¸€æ¬¡è·¯å¾„å‹ç¼©å°±èƒ½å¤§å¹…é™ä½æ ‘é«˜ï¼Œä» <a href="https://cloud.tencent.com/developer/tools/blog-entry?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzAxODQxMDM0Mw%3D%3D%26mid%3D2247496738%26idx%3D1%26sn%3D2c7d16c8b0ee64d8101abb35e06b08cc%26scene%3D21%23wechat_redirect&amp;source=article&amp;objectId=2190285" target="_blank" rel="noopener nofollow">æ‘Šè¿˜åˆ†æ</a> çš„è§’åº¦æ¥çœ‹ï¼Œæ‰€æœ‰æ“ä½œçš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¾ç„¶æ˜¯ O(1)ï¼Œæ‰€ä»¥ä»æ•ˆç‡çš„è§’åº¦æ¥è¯´ï¼Œæ¨èä½ ä½¿ç”¨è¿™ç§è·¯å¾„å‹ç¼©ç®—æ³•ã€‚</p>
<p><strong>å¦å¤–ï¼Œå¦‚æœä½¿ç”¨è·¯å¾„å‹ç¼©æŠ€å·§ï¼Œé‚£ä¹ˆ<code>size</code>æ•°ç»„çš„å¹³è¡¡ä¼˜åŒ–å°±ä¸æ˜¯ç‰¹åˆ«å¿…è¦äº†</strong>ã€‚æ‰€ä»¥ä½ ä¸€èˆ¬çœ‹åˆ°çš„ Union Find ç®—æ³•åº”è¯¥æ˜¯å¦‚ä¸‹å®ç°ï¼š</p>
<pre><code class="language-java">class UF {
    // è¿é€šåˆ†é‡ä¸ªæ•°
    private int count;
    // å­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹
    private int[] parent;

    // n ä¸ºå›¾ä¸­èŠ‚ç‚¹çš„ä¸ªæ•°
    public UF(int n) {
        this.count = n;
        parent = new int[n];
        for (int i = 0; i &lt; n; i++) {
            parent[i] = i;
        }
    }

    // å°†èŠ‚ç‚¹ p å’ŒèŠ‚ç‚¹ q è¿é€š
    public void union(int p, int q) {
        int rootP = find(p);
        int rootQ = find(q);

        if (rootP == rootQ)
            return;

        parent[rootQ] = rootP;
        // ä¸¤ä¸ªè¿é€šåˆ†é‡åˆå¹¶æˆä¸€ä¸ªè¿é€šåˆ†é‡
        count--;
    }

    // åˆ¤æ–­èŠ‚ç‚¹ p å’ŒèŠ‚ç‚¹ q æ˜¯å¦è¿é€š
    public boolean connected(int p, int q) {
        int rootP = find(p);
        int rootQ = find(q);
        return rootP == rootQ;
    }

    public int find(int x) {
        if (parent[x] != x) {
            parent[x] = find(parent[x]);
        }
        return parent[x];
    }

    // è¿”å›å›¾ä¸­çš„è¿é€šåˆ†é‡ä¸ªæ•°
    public int count() {
        return count;
    }
}
</code></pre>
<p>Union-Find ç®—æ³•çš„å¤æ‚åº¦å¯ä»¥è¿™æ ·åˆ†æï¼šæ„é€ å‡½æ•°åˆå§‹åŒ–æ•°æ®ç»“æ„éœ€è¦ O(N) çš„æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦ï¼›è¿é€šä¸¤ä¸ªèŠ‚ç‚¹<code>union</code>ã€åˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹çš„è¿é€šæ€§<code>connected</code>ã€è®¡ç®—è¿é€šåˆ†é‡<code>count</code>æ‰€éœ€çš„æ—¶é—´å¤æ‚åº¦å‡ä¸º O(1)ã€‚</p>
<p>åˆ°è¿™é‡Œï¼Œç›¸ä¿¡ä½ å·²ç»æŒæ¡äº† Union-Find ç®—æ³•çš„æ ¸å¿ƒé€»è¾‘ï¼Œæ€»ç»“ä¸€ä¸‹æˆ‘ä»¬ä¼˜åŒ–ç®—æ³•çš„è¿‡ç¨‹ï¼š</p>
<p>1ã€ç”¨<code>parent</code>æ•°ç»„è®°å½•æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œç›¸å½“äºæŒ‡å‘çˆ¶èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œæ‰€ä»¥<code>parent</code>æ•°ç»„å†…å®é™…å­˜å‚¨ç€ä¸€ä¸ªæ£®æ—ï¼ˆè‹¥å¹²æ£µå¤šå‰æ ‘ï¼‰ã€‚</p>
<p>2ã€ç”¨<code>size</code>æ•°ç»„è®°å½•ç€æ¯æ£µæ ‘çš„é‡é‡ï¼Œç›®çš„æ˜¯è®©<code>union</code>åæ ‘ä¾ç„¶æ‹¥æœ‰å¹³è¡¡æ€§ï¼Œä¿è¯å„ä¸ª API æ—¶é—´å¤æ‚åº¦ä¸º O(logN)ï¼Œè€Œä¸ä¼šé€€åŒ–æˆé“¾è¡¨å½±å“æ“ä½œæ•ˆç‡ã€‚</p>
<p>3ã€åœ¨<code>find</code>å‡½æ•°ä¸­è¿›è¡Œè·¯å¾„å‹ç¼©ï¼Œä¿è¯ä»»æ„æ ‘çš„é«˜åº¦ä¿æŒåœ¨å¸¸æ•°ï¼Œä½¿å¾—å„ä¸ª API æ—¶é—´å¤æ‚åº¦ä¸º O(1)ã€‚ä½¿ç”¨äº†è·¯å¾„å‹ç¼©ä¹‹åï¼Œå¯ä»¥ä¸ä½¿ç”¨<code>size</code>æ•°ç»„çš„å¹³è¡¡ä¼˜åŒ–ã€‚</p>
<h3 id="ä¼˜ç‚¹">ä¼˜ç‚¹</h3>
<ol>
<li>æŸ¥æ‰¾å’Œåˆå¹¶æ“ä½œçš„å¹³å‡æ—¶é—´å¤æ‚åº¦æ¥è¿‘O(1)</li>
<li>å®ç°ç®€å•ï¼Œæ˜“äºç†è§£</li>
<li>ç©ºé—´å¤æ‚åº¦ä½ï¼Œåªéœ€è¦ä¸¤ä¸ªæ•°ç»„</li>
<li>é€‚ç”¨äºå¤„ç†å¤§é‡åŠ¨æ€è¿é€šæ€§é—®é¢˜</li>
</ol>
<h3 id="ç¼ºç‚¹">ç¼ºç‚¹</h3>
<ol>
<li>ä¸æ”¯æŒåˆ†è£‚æ“ä½œï¼ˆå°†ä¸€ä¸ªé›†åˆåˆ†æˆä¸¤ä¸ªï¼‰</li>
<li>ä¸æ–¹ä¾¿æŸ¥è¯¢é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ </li>
<li>åœ¨æŸäº›ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œæ€§èƒ½å¯èƒ½é€€åŒ–</li>
</ol>
<h3 id="åº”ç”¨åœºæ™¯">åº”ç”¨åœºæ™¯</h3>
<p>Kruskalæœ€å°ç”Ÿæˆæ ‘ç®—æ³•ï¼šåœ¨Kruskalç®—æ³•ä¸­ï¼Œå¹¶æŸ¥é›†æ˜¯æ ¸å¿ƒæ•°æ®ç»“æ„ã€‚è¯¥ç®—æ³•æŒ‰æƒé‡ä»å°åˆ°å¤§éå†è¾¹ï¼Œä½¿ç”¨å¹¶æŸ¥é›†åˆ¤æ–­åŠ å…¥æŸæ¡è¾¹æ˜¯å¦ä¼šå½¢æˆç¯ï¼Œä»è€Œé«˜æ•ˆæ„å»ºæœ€å°ç”Ÿæˆæ ‘ã€‚</p>
<p>ç½‘ç»œè¿é€šæ€§é—®é¢˜ï¼šå¹¶æŸ¥é›†å¯é«˜æ•ˆè§£å†³åŠ¨æ€è¿é€šæ€§é—®é¢˜ï¼Œæ¯”å¦‚åˆ¤æ–­ç½‘ç»œä¸­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦è¿é€šã€ç¤¾äº¤ç½‘ç»œä¸­ç”¨æˆ·é—´çš„å…³ç³»è¿æ¥ç­‰ã€‚å½“å…³ç³»å˜åŒ–æ—¶ï¼Œåªéœ€æ‰§è¡Œç®€å•çš„unionæ“ä½œï¼Œåˆ¤æ–­è¿é€šæ€§æ—¶ä½¿ç”¨findæ“ä½œå³å¯ã€‚</p>
<p>ç­‰ä»·ç±»åˆ’åˆ†ï¼šåœ¨ç¼–è¯‘å™¨è®¾è®¡ã€ç”µè·¯åˆ†æç­‰é¢†åŸŸï¼Œå¹¶æŸ¥é›†å¯ç”¨äºç­‰ä»·ç±»è¯†åˆ«ä¸åˆå¹¶ã€‚å½“ç³»ç»Ÿå‘ç°ä¸¤ä¸ªå…ƒç´ ç­‰ä»·æ—¶æ‰§è¡Œunionæ“ä½œï¼Œéœ€è¦åˆ¤æ–­ç­‰ä»·å…³ç³»æ—¶ä½¿ç”¨findæ“ä½œï¼Œè¿™ç§åŠ¨æ€ç»´æŠ¤ç­‰ä»·å…³ç³»çš„èƒ½åŠ›æ­£æ˜¯å¹¶æŸ¥é›†çš„ä¼˜åŠ¿æ‰€åœ¨ã€‚</p>
<p>åˆ¤æ–­æ— å‘å›¾ä¸­çš„ç¯ï¼šå½“å‘æ— å‘å›¾ä¸­æ·»åŠ è¾¹æ—¶ï¼Œå¦‚æœè¾¹çš„ä¸¤ä¸ªç«¯ç‚¹å·²åœ¨åŒä¸€ä¸ªé›†åˆä¸­ï¼Œåˆ™æ·»åŠ è¿™æ¡è¾¹ä¼šå½¢æˆç¯ã€‚åœ¨å¾ˆå¤šå›¾ç®—æ³•å’Œç½‘ç»œè®¾è®¡é—®é¢˜ä¸­éƒ½å¯ä»¥ä½¿ç”¨è¿™ä¸€ç‰¹æ€§ã€‚</p>
<h2 id="kruskal-æœ€å°ç”Ÿæˆæ ‘ç®—æ³•">Kruskal æœ€å°ç”Ÿæˆæ ‘ç®—æ³•</h2>
<p>Kruskal çš„ å…³é”®å°±æ˜¯ å¹¶æŸ¥é›†ç®—æ³•</p>
<p><strong>å…ˆè¯´ã€Œæ ‘ã€å’Œã€Œå›¾ã€çš„æ ¹æœ¬åŒºåˆ«ï¼šæ ‘ä¸ä¼šåŒ…å«ç¯ï¼Œå›¾å¯ä»¥åŒ…å«ç¯</strong>ã€‚</p>
<p>å¦‚æœä¸€å¹…å›¾æ²¡æœ‰ç¯ï¼Œå®Œå…¨å¯ä»¥æ‹‰ä¼¸æˆä¸€æ£µæ ‘çš„æ¨¡æ ·ã€‚è¯´çš„ä¸“ä¸šä¸€ç‚¹ï¼Œæ ‘å°±æ˜¯ã€Œæ— ç¯è¿é€šå›¾ã€ã€‚</p>
<p>é‚£ä¹ˆä»€ä¹ˆæ˜¯å›¾çš„ã€Œç”Ÿæˆæ ‘ã€å‘¢ï¼Œå…¶å®æŒ‰å­—é¢æ„æ€ä¹Ÿå¥½ç†è§£ï¼Œå°±æ˜¯åœ¨å›¾ä¸­æ‰¾ä¸€æ£µåŒ…å«å›¾ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹çš„æ ‘ã€‚ä¸“ä¸šç‚¹è¯´ï¼Œç”Ÿæˆæ ‘æ˜¯å«æœ‰å›¾ä¸­æ‰€æœ‰é¡¶ç‚¹çš„ã€Œæ— ç¯è¿é€šå­å›¾ã€ã€‚</p>
<p>å®¹æ˜“æƒ³åˆ°ï¼Œä¸€å¹…å›¾å¯ä»¥æœ‰å¾ˆå¤šä¸åŒçš„ç”Ÿæˆæ ‘ï¼Œæ¯”å¦‚ä¸‹é¢è¿™å¹…å›¾ï¼Œçº¢è‰²çš„è¾¹å°±ç»„æˆäº†ä¸¤æ£µä¸åŒçš„ç”Ÿæˆæ ‘ï¼š</p>
<p><img src="https://seven97-blog.oss-cn-hangzhou.aliyuncs.com/imgs/202404271025443.webp" alt="" loading="lazy"></p>
<p>å¯¹äºåŠ æƒå›¾ï¼Œæ¯æ¡è¾¹éƒ½æœ‰æƒé‡ï¼Œæ‰€ä»¥æ¯æ£µç”Ÿæˆæ ‘éƒ½æœ‰ä¸€ä¸ªæƒé‡å’Œã€‚æ¯”å¦‚ä¸Šå›¾ï¼Œå³ä¾§ç”Ÿæˆæ ‘çš„æƒé‡å’Œæ˜¾ç„¶æ¯”å·¦ä¾§ç”Ÿæˆæ ‘çš„æƒé‡å’Œè¦å°ã€‚</p>
<p><strong>é‚£ä¹ˆæœ€å°ç”Ÿæˆæ ‘å¾ˆå¥½ç†è§£äº†ï¼Œæ‰€æœ‰å¯èƒ½çš„ç”Ÿæˆæ ‘ä¸­ï¼Œæƒé‡å’Œæœ€å°çš„é‚£æ£µç”Ÿæˆæ ‘å°±å«ã€Œæœ€å°ç”Ÿæˆæ ‘ã€</strong>ã€‚</p>
<blockquote>
<p>PSï¼šä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬éƒ½æ˜¯åœ¨<strong>æ— å‘åŠ æƒå›¾</strong>ä¸­è®¡ç®—æœ€å°ç”Ÿæˆæ ‘çš„ï¼Œæ‰€ä»¥ä½¿ç”¨æœ€å°ç”Ÿæˆæ ‘ç®—æ³•çš„ç°å®åœºæ™¯ä¸­ï¼Œå›¾çš„è¾¹æƒé‡ä¸€èˆ¬ä»£è¡¨æˆæœ¬ã€è·ç¦»è¿™æ ·çš„æ ‡é‡ã€‚</p>
</blockquote>
<p>æ‰€è°“æœ€å°ç”Ÿæˆæ ‘ï¼Œå°±æ˜¯å›¾ä¸­è‹¥å¹²è¾¹çš„é›†åˆï¼ˆæˆ‘ä»¬åæ–‡ç§°è¿™ä¸ªé›†åˆä¸º<code>mst</code>ï¼Œæœ€å°ç”Ÿæˆæ ‘çš„è‹±æ–‡ç¼©å†™ï¼‰ï¼Œä½ è¦ä¿è¯è¿™äº›è¾¹ï¼š</p>
<p>1ã€åŒ…å«å›¾ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚</p>
<p>2ã€å½¢æˆçš„ç»“æ„æ˜¯æ ‘ç»“æ„ï¼ˆå³ä¸å­˜åœ¨ç¯ï¼‰ã€‚</p>
<p>3ã€æƒé‡å’Œæœ€å°ã€‚</p>
<p>å‰ä¸¤æ¡å…¶å®å¯ä»¥å¾ˆå®¹æ˜“åœ°åˆ©ç”¨ Union-Find ç®—æ³•åšåˆ°ï¼Œå…³é”®åœ¨äºç¬¬ 3 ç‚¹ï¼Œå¦‚ä½•ä¿è¯å¾—åˆ°çš„è¿™æ£µç”Ÿæˆæ ‘æ˜¯æƒé‡å’Œæœ€å°çš„ã€‚</p>
<p>è¿™é‡Œå°±ç”¨åˆ°äº†è´ªå¿ƒæ€è·¯ï¼š<strong>å°†æ‰€æœ‰è¾¹æŒ‰ç…§æƒé‡ä»å°åˆ°å¤§æ’åºï¼Œä»æƒé‡æœ€å°çš„è¾¹å¼€å§‹éå†ï¼Œå¦‚æœè¿™æ¡è¾¹å’Œ<code>mst</code>ä¸­çš„å…¶å®ƒè¾¹ä¸ä¼šå½¢æˆç¯ï¼Œåˆ™è¿™æ¡è¾¹æ˜¯æœ€å°ç”Ÿæˆæ ‘çš„ä¸€éƒ¨åˆ†ï¼Œå°†å®ƒåŠ å…¥<code>mst</code>é›†åˆï¼›å¦åˆ™ï¼Œè¿™æ¡è¾¹ä¸æ˜¯æœ€å°ç”Ÿæˆæ ‘çš„ä¸€éƒ¨åˆ†ï¼Œä¸è¦æŠŠå®ƒåŠ å…¥<code>mst</code>é›†åˆ</strong>ã€‚</p>
<p>è¿™æ ·ï¼Œæœ€å<code>mst</code>é›†åˆä¸­çš„è¾¹å°±å½¢æˆäº†æœ€å°ç”Ÿæˆæ ‘ï¼Œç®—æ³•ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-java">int minimumCost(int n, int[][] connections) {
    // åŸå¸‚ç¼–å·ä¸º 1...nï¼Œæ‰€ä»¥åˆå§‹åŒ–å¤§å°ä¸º n + 1
    UF uf = new UF(n + 1);
    // å¯¹æ‰€æœ‰è¾¹æŒ‰ç…§æƒé‡ä»å°åˆ°å¤§æ’åº
    Arrays.sort(connections, (a, b) -&gt; (a[2] - b[2]));
    // è®°å½•æœ€å°ç”Ÿæˆæ ‘çš„æƒé‡ä¹‹å’Œ
    int mst = 0;
    for (int[] edge : connections) {
        int u = edge[0];
        int v = edge[1];
        int weight = edge[2];
        // è‹¥è¿™æ¡è¾¹ä¼šäº§ç”Ÿç¯ï¼Œåˆ™ä¸èƒ½åŠ å…¥ mst
        if (uf.connected(u, v)) {
            continue;
        }
        // è‹¥è¿™æ¡è¾¹ä¸ä¼šäº§ç”Ÿç¯ï¼Œåˆ™å±äºæœ€å°ç”Ÿæˆæ ‘
        mst += weight;
        uf.union(u, v);
    }
    // ä¿è¯æ‰€æœ‰èŠ‚ç‚¹éƒ½è¢«è¿é€š
    // æŒ‰ç†è¯´ uf.count() == 1 è¯´æ˜æ‰€æœ‰èŠ‚ç‚¹è¢«è¿é€š
    // ä½†å› ä¸ºèŠ‚ç‚¹ 0 æ²¡æœ‰è¢«ä½¿ç”¨ï¼Œæ‰€ä»¥ 0 ä¼šé¢å¤–å ç”¨ä¸€ä¸ªè¿é€šåˆ†é‡
    return uf.count() == 2 ? mst : -1;
}

class UF {
    // è§ä¸Šæ–‡å¹¶æŸ¥é›†ä»£ç å®ç°
}
</code></pre>
<p>å¤æ‚åº¦åˆ†æï¼š</p>
<p>å‡è®¾ä¸€å¹…å›¾çš„èŠ‚ç‚¹ä¸ªæ•°ä¸ºVï¼Œè¾¹çš„æ¡æ•°ä¸ºEï¼Œé¦–å…ˆéœ€è¦O(E)çš„ç©ºé—´è£…æ‰€æœ‰è¾¹ï¼Œè€Œä¸” Union-Find ç®—æ³•ä¹Ÿéœ€è¦O(V)çš„ç©ºé—´ï¼Œæ‰€ä»¥ Kruskal ç®—æ³•æ€»çš„ç©ºé—´å¤æ‚åº¦å°±æ˜¯O(V + E)ã€‚</p>
<p>æ—¶é—´å¤æ‚åº¦ä¸»è¦è€—è´¹åœ¨æ’åºï¼Œéœ€è¦O(ElogE)çš„æ—¶é—´ï¼ŒUnion-Find ç®—æ³•æ‰€æœ‰æ“ä½œçš„å¤æ‚åº¦éƒ½æ˜¯O(1)ï¼Œå¥—ä¸€ä¸ª for å¾ªç¯ä¹Ÿä¸è¿‡æ˜¯O(E)ï¼Œæ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(ElogE)ã€‚</p>
<h2 id="prim-æœ€å°ç”Ÿæˆæ ‘ç®—æ³•">PRIM æœ€å°ç”Ÿæˆæ ‘ç®—æ³•</h2>
<p><strong>Prim ç®—æ³•ä¹Ÿä½¿ç”¨è´ªå¿ƒæ€æƒ³æ¥è®©ç”Ÿæˆæ ‘çš„æƒé‡å°½å¯èƒ½å°</strong>ï¼Œä¹Ÿå°±æ˜¯ã€Œåˆ‡åˆ†å®šç†ã€ã€‚</p>
<p><strong>å…¶æ¬¡ï¼ŒPrim ç®—æ³•ä½¿ç”¨</strong> <strong>BFS ç®—æ³•æ€æƒ³</strong> <strong>å’Œ</strong> <strong>visited</strong> <strong>å¸ƒå°”æ•°ç»„é¿å…æˆç¯</strong>ï¼Œæ¥ä¿è¯é€‰å‡ºæ¥çš„è¾¹æœ€ç»ˆå½¢æˆçš„ä¸€å®šæ˜¯ä¸€æ£µæ ‘ã€‚</p>
<p>Prim ç®—æ³•ä¸éœ€è¦äº‹å…ˆå¯¹æ‰€æœ‰è¾¹æ’åºï¼Œè€Œæ˜¯åˆ©ç”¨ä¼˜å…ˆçº§é˜Ÿåˆ—åŠ¨æ€å®ç°æ’åºçš„æ•ˆæœï¼Œæ‰€ä»¥ Prim ç®—æ³•ç±»ä¼¼äº Kruskal çš„åŠ¨æ€è¿‡ç¨‹ã€‚</p>
<blockquote>
<p>åˆ‡åˆ†å®šç†ï¼šå¯¹äºä»»æ„ä¸€ç§ã€Œåˆ‡åˆ†ã€ï¼Œå…¶ä¸­æƒé‡æœ€å°çš„é‚£æ¡ã€Œæ¨ªåˆ‡è¾¹ã€ä¸€å®šæ˜¯æ„æˆæœ€å°ç”Ÿæˆæ ‘çš„ä¸€æ¡è¾¹ã€‚åªè¦æŠŠå›¾ä¸­çš„èŠ‚ç‚¹åˆ‡æˆä¸¤ä¸ªä¸é‡å ä¸”éç©ºçš„èŠ‚ç‚¹é›†åˆå³å¯ç®—ä½œä¸€ä¸ªåˆæ³•çš„ã€Œåˆ‡åˆ†ã€</p>
</blockquote>
<blockquote>
<p>åè¯æ³•è¯æ˜ï¼šç»™å®šä¸€å¹…å›¾çš„æœ€å°ç”Ÿæˆæ ‘ï¼Œé‚£ä¹ˆéšä¾¿ç»™ä¸€ç§ã€Œåˆ‡åˆ†ã€ï¼Œä¸€å®šè‡³å°‘æœ‰ä¸€æ¡ã€Œæ¨ªåˆ‡è¾¹ã€å±äºæœ€å°ç”Ÿæˆæ ‘ã€‚å‡è®¾è¿™æ¡ã€Œæ¨ªåˆ‡è¾¹ã€ä¸æ˜¯æƒé‡æœ€å°çš„ï¼Œé‚£è¯´æ˜æœ€å°ç”Ÿæˆæ ‘çš„æƒé‡å’Œå°±è¿˜æœ‰å†å‡å°çš„ä½™åœ°ï¼Œé‚£è¿™å°±çŸ›ç›¾äº†ï¼Œæœ€å°ç”Ÿæˆæ ‘çš„æƒé‡å’Œæœ¬æ¥å°±æ˜¯æœ€å°çš„ï¼Œæ€ä¹ˆå†å‡ï¼Ÿæ‰€ä»¥åˆ‡åˆ†å®šç†æ˜¯æ­£ç¡®çš„ã€‚</p>
</blockquote>
<p>ç®—æ³•å®ç°ï¼šPrim ç®—æ³•çš„é€»è¾‘å°±æ˜¯ï¼Œæ¯æ¬¡åˆ‡åˆ†éƒ½èƒ½æ‰¾åˆ°æœ€å°ç”Ÿæˆæ ‘çš„ä¸€æ¡è¾¹ï¼Œç„¶ååˆå¯ä»¥è¿›è¡Œæ–°ä¸€è½®åˆ‡åˆ†ï¼Œç›´åˆ°æ‰¾åˆ°æœ€å°ç”Ÿæˆæ ‘çš„æ‰€æœ‰è¾¹ä¸ºæ­¢ã€‚</p>
<pre><code class="language-java">class Prim {
    // æ ¸å¿ƒæ•°æ®ç»“æ„ï¼Œå­˜å‚¨ã€Œæ¨ªåˆ‡è¾¹ã€çš„ä¼˜å…ˆçº§é˜Ÿåˆ—
    private PriorityQueue&lt;int[]&gt; pq;
    // ç±»ä¼¼ visited æ•°ç»„çš„ä½œç”¨ï¼Œè®°å½•å“ªäº›èŠ‚ç‚¹å·²ç»æˆä¸ºæœ€å°ç”Ÿæˆæ ‘çš„ä¸€éƒ¨åˆ†
    private boolean[] inMST;
    // è®°å½•æœ€å°ç”Ÿæˆæ ‘çš„æƒé‡å’Œ
    private int weightSum = 0;
    // graph æ˜¯ç”¨é‚»æ¥è¡¨è¡¨ç¤ºçš„ä¸€å¹…å›¾ï¼Œ
    // graph[s] è®°å½•èŠ‚ç‚¹ s æ‰€æœ‰ç›¸é‚»çš„è¾¹ï¼Œ
    // ä¸‰å…ƒç»„ int[]{from, to, weight} è¡¨ç¤ºä¸€æ¡è¾¹
    private List&lt;int[]&gt;[] graph;

    public Prim(List&lt;int[]&gt;[] graph) {
        this.graph = graph;
        this.pq = new PriorityQueue&lt;&gt;((a, b) -&gt; {
            // æŒ‰ç…§è¾¹çš„æƒé‡ä»å°åˆ°å¤§æ’åº
            return a[2] - b[2];
        });
        // å›¾ä¸­æœ‰ n ä¸ªèŠ‚ç‚¹
        int n = graph.length;
        this.inMST = new boolean[n];

        // éšä¾¿ä»ä¸€ä¸ªç‚¹å¼€å§‹åˆ‡åˆ†éƒ½å¯ä»¥ï¼Œæˆ‘ä»¬ä¸å¦¨ä»èŠ‚ç‚¹ 0 å¼€å§‹
        inMST[0] = true;
        cut(0);
        // ä¸æ–­è¿›è¡Œåˆ‡åˆ†ï¼Œå‘æœ€å°ç”Ÿæˆæ ‘ä¸­æ·»åŠ è¾¹
        while (!pq.isEmpty()) {
            int[] edge = pq.poll();
            int to = edge[1];
            int weight = edge[2];
            if (inMST[to]) {
                // èŠ‚ç‚¹ to å·²ç»åœ¨æœ€å°ç”Ÿæˆæ ‘ä¸­ï¼Œè·³è¿‡
                // å¦åˆ™è¿™æ¡è¾¹ä¼šäº§ç”Ÿç¯
                continue;
            }
            // å°†è¾¹ edge åŠ å…¥æœ€å°ç”Ÿæˆæ ‘
            weightSum += weight;
            inMST[to] = true;
            // èŠ‚ç‚¹ to åŠ å…¥åï¼Œè¿›è¡Œæ–°ä¸€è½®åˆ‡åˆ†ï¼Œä¼šäº§ç”Ÿæ›´å¤šæ¨ªåˆ‡è¾¹
            cut(to);
        }
    }

    // å°† s çš„æ¨ªåˆ‡è¾¹åŠ å…¥ä¼˜å…ˆé˜Ÿåˆ—
    private void cut(int s) {
        // éå† s çš„é‚»è¾¹
        for (int[] edge : graph[s]) {
            int to = edge[1];
            if (inMST[to]) {
                // ç›¸é‚»æ¥ç‚¹ to å·²ç»åœ¨æœ€å°ç”Ÿæˆæ ‘ä¸­ï¼Œè·³è¿‡
                // å¦åˆ™è¿™æ¡è¾¹ä¼šäº§ç”Ÿç¯
                continue;
            }
            // åŠ å…¥æ¨ªåˆ‡è¾¹é˜Ÿåˆ—
            pq.offer(edge);
        }
    }

    // æœ€å°ç”Ÿæˆæ ‘çš„æƒé‡å’Œ
    public int weightSum() {
        return weightSum;
    }

    // åˆ¤æ–­æœ€å°ç”Ÿæˆæ ‘æ˜¯å¦åŒ…å«å›¾ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹
    public boolean allConnected() {
        for (int i = 0; i &lt; inMST.length; i++) {
            if (!inMST[i]) {
                return false;
            }
        }
        return true;
    }
}
</code></pre>
<p>å¤æ‚åº¦åˆ†æï¼š</p>
<p>å¤æ‚åº¦ä¸»è¦åœ¨ä¼˜å…ˆçº§é˜Ÿåˆ— pq çš„æ“ä½œä¸Šï¼Œç”±äº pq é‡Œé¢è£…çš„æ˜¯å›¾ä¸­çš„ã€Œè¾¹ã€ï¼Œå‡è®¾ä¸€å¹…å›¾è¾¹çš„æ¡æ•°ä¸º Eï¼Œé‚£ä¹ˆæœ€å¤šæ“ä½œ O(E) æ¬¡ pqã€‚æ¯æ¬¡æ“ä½œä¼˜å…ˆçº§é˜Ÿåˆ—çš„æ—¶é—´å¤æ‚åº¦å–å†³äºé˜Ÿåˆ—ä¸­çš„å…ƒç´ ä¸ªæ•°ï¼Œå–æœ€åæƒ…å†µå°±æ˜¯ O(logE)ã€‚</p>
<p>è¿™ç§ Prim ç®—æ³•å®ç°çš„æ€»æ—¶é—´å¤æ‚åº¦æ˜¯ O(ElogE)</p>
<h2 id="dijkstra-æœ€çŸ­è·¯å¾„è§„åˆ’ç®—æ³•">Dijkstra æœ€çŸ­è·¯å¾„è§„åˆ’ç®—æ³•</h2>
<p>ç®—æ³•ç­¾åï¼š</p>
<pre><code class="language-java">// è¾“å…¥ä¸€å¹…å›¾å’Œä¸€ä¸ªèµ·ç‚¹ startï¼Œè®¡ç®— start åˆ°å…¶ä»–èŠ‚ç‚¹çš„æœ€çŸ­è·ç¦»
int[] dijkstra(int start, List&lt;Integer&gt;[] graph);
</code></pre>
<p>è¾“å…¥æ˜¯ä¸€å¹…å›¾ graph å’Œä¸€ä¸ªèµ·ç‚¹ startï¼Œè¿”å›æ˜¯ä¸€ä¸ªè®°å½•æœ€çŸ­è·¯å¾„æƒé‡çš„æ•°ç»„ã€‚</p>
<p>æ¯”æ–¹è¯´ï¼Œè¾“å…¥èµ·ç‚¹ start = 3ï¼Œå‡½æ•°è¿”å›ä¸€ä¸ª int[] æ•°ç»„ï¼Œå‡è®¾èµ‹å€¼ç»™ distTo å˜é‡ï¼Œé‚£ä¹ˆä»èµ·ç‚¹ 3 åˆ°èŠ‚ç‚¹ 6 çš„æœ€çŸ­è·¯å¾„æƒé‡çš„å€¼å°±æ˜¯ distTo[6]ã€‚æ ‡å‡†çš„ Dijkstra ç®—æ³•ä¼šæŠŠä»èµ·ç‚¹ start åˆ°æ‰€æœ‰å…¶ä»–èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„éƒ½ç®—å‡ºæ¥ã€‚</p>
<pre><code class="language-java">class State {
    // å›¾èŠ‚ç‚¹çš„ id
    int id;
    // ä» start èŠ‚ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„è·ç¦»
    int distFromStart;

    State(int id, int distFromStart) {
        this.id = id;
        this.distFromStart = distFromStart;
    }
}
</code></pre>
<p>ä½¿ç”¨ distFromStart å˜é‡è®°å½•ä»èµ·ç‚¹ start åˆ°å½“å‰è¿™ä¸ªèŠ‚ç‚¹çš„è·ç¦»ã€‚</p>
<p>æ™®é€š BFS ç®—æ³•ä¸­ï¼Œæ ¹æ® BFS çš„é€»è¾‘å’Œæ— æƒå›¾çš„ç‰¹ç‚¹ï¼Œç¬¬ä¸€æ¬¡é‡åˆ°æŸä¸ªèŠ‚ç‚¹æ‰€èµ°çš„æ­¥æ•°å°±æ˜¯æœ€çŸ­è·ç¦»ï¼Œæ‰€ä»¥ç”¨ä¸€ä¸ª visited æ•°ç»„é˜²æ­¢èµ°å›å¤´è·¯ï¼Œæ¯ä¸ªèŠ‚ç‚¹åªä¼šç»è¿‡ä¸€æ¬¡ã€‚</p>
<p>åŠ æƒå›¾ä¸­çš„ Dijkstra ç®—æ³•å’Œæ— æƒå›¾ä¸­çš„æ™®é€š BFS ç®—æ³•ä¸åŒï¼Œåœ¨ Dijkstra ç®—æ³•ä¸­ï¼Œä½ ç¬¬ä¸€æ¬¡ç»è¿‡æŸä¸ªèŠ‚ç‚¹æ—¶çš„è·¯å¾„æƒé‡ï¼Œä¸è§å¾—å°±æ˜¯æœ€å°çš„ï¼Œæ‰€ä»¥å¯¹äºåŒä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¯èƒ½ä¼šç»è¿‡å¤šæ¬¡ï¼Œè€Œä¸”æ¯æ¬¡çš„ distFromStart å¯èƒ½éƒ½ä¸ä¸€æ ·ï¼Œå– distFromStart æœ€å°çš„é‚£æ¬¡ï¼Œå°±æ˜¯ä»èµ·ç‚¹ start åˆ°èŠ‚ç‚¹ 5 çš„æœ€çŸ­è·¯å¾„æƒé‡</p>
<p>Dijkstra å¯ä»¥ç†è§£æˆä¸€ä¸ªå¸¦ dp tableï¼ˆæˆ–è€…è¯´å¤‡å¿˜å½•ï¼‰çš„ BFS ç®—æ³•ï¼Œä¼ªç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-java">// è¿”å›èŠ‚ç‚¹ from åˆ°èŠ‚ç‚¹ to ä¹‹é—´çš„è¾¹çš„æƒé‡
int weight(int from, int to);

// è¾“å…¥èŠ‚ç‚¹ s è¿”å› s çš„ç›¸é‚»èŠ‚ç‚¹
List&lt;Integer&gt; adj(int s);

// è¾“å…¥ä¸€å¹…å›¾å’Œä¸€ä¸ªèµ·ç‚¹ startï¼Œè®¡ç®— start åˆ°å…¶ä»–èŠ‚ç‚¹çš„æœ€çŸ­è·ç¦»
int[] dijkstra(int start, List&lt;Integer&gt;[] graph) {
    // å›¾ä¸­èŠ‚ç‚¹çš„ä¸ªæ•°
    int V = graph.length;
    // è®°å½•æœ€çŸ­è·¯å¾„çš„æƒé‡ï¼Œä½ å¯ä»¥ç†è§£ä¸º dp table
    // å®šä¹‰ï¼šdistTo[i] çš„å€¼å°±æ˜¯èŠ‚ç‚¹ start åˆ°è¾¾èŠ‚ç‚¹ i çš„æœ€çŸ­è·¯å¾„æƒé‡
    int[] distTo = new int[V];
    // æ±‚æœ€å°å€¼ï¼Œæ‰€ä»¥ dp table åˆå§‹åŒ–ä¸ºæ­£æ— ç©·
    Arrays.fill(distTo, Integer.MAX_VALUE);
    // base caseï¼Œstart åˆ° start çš„æœ€çŸ­è·ç¦»å°±æ˜¯ 0
    distTo[start] = 0;

    // ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼ŒdistFromStart è¾ƒå°çš„æ’åœ¨å‰é¢
    Queue&lt;State&gt; pq = new PriorityQueue&lt;&gt;((a, b) -&gt; {
        return a.distFromStart - b.distFromStart;
    });

    // ä»èµ·ç‚¹ start å¼€å§‹è¿›è¡Œ BFS
    pq.offer(new State(start, 0));

     while (!pq.isEmpty()) {
        State curState = pq.poll();
        int curNodeID = curState.id;
        int curDistFromStart = curState.distFromStart;

        if (curDistFromStart &gt; distTo[curNodeID]) {
            // å·²ç»æœ‰ä¸€æ¡æ›´çŸ­çš„è·¯å¾„åˆ°è¾¾ curNode èŠ‚ç‚¹äº†
            continue;
        }
        // å°† curNode çš„ç›¸é‚»èŠ‚ç‚¹è£…å…¥é˜Ÿåˆ—
        for (int nextNodeID : adj(curNodeID)) {
            // çœ‹çœ‹ä» curNode è¾¾åˆ° nextNode çš„è·ç¦»æ˜¯å¦ä¼šæ›´çŸ­
            int distToNextNode = distTo[curNodeID] + weight(curNodeID, nextNodeID);
            if (distTo[nextNodeID] &gt; distToNextNode) {
                // æ›´æ–° dp table
                distTo[nextNodeID] = distToNextNode;
                // å°†è¿™ä¸ªèŠ‚ç‚¹ä»¥åŠè·ç¦»æ”¾å…¥é˜Ÿåˆ—
                pq.offer(new State(nextNodeID, distToNextNode));
            }
        }
    }
    return distTo;
}
</code></pre>
<p>è®¡ç®—èµ·ç‚¹åˆ°ç»ˆç‚¹endçš„æœ€çŸ­è·ç¦»</p>
<pre><code class="language-java">// è¾“å…¥èµ·ç‚¹ start å’Œç»ˆç‚¹ endï¼Œè®¡ç®—èµ·ç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·ç¦»
int dijkstra(int start, int end, List&lt;Integer&gt;[] graph) {

    // ...

    while (!pq.isEmpty()) {
        State curState = pq.poll();
        int curNodeID = curState.id;
        int curDistFromStart = curState.distFromStart;

        // åœ¨è¿™é‡ŒåŠ ä¸€ä¸ªåˆ¤æ–­å°±è¡Œäº†ï¼Œå…¶ä»–ä»£ç ä¸ç”¨æ”¹
        if (curNodeID == end) {
            return curDistFromStart;
        }

        if (curDistFromStart &gt; distTo[curNodeID]) {
            continue;
        }

        // ...
    }

    // å¦‚æœè¿è¡Œåˆ°è¿™é‡Œï¼Œè¯´æ˜ä» start æ— æ³•èµ°åˆ° end
    return Integer.MAX_VALUE;
}
</code></pre>
<h2 id="a-ç®—æ³•">A* ç®—æ³•</h2>
<p>Dijkstraç®—æ³•çš„ä¼˜ç‚¹åœ¨äºå…¶ç®€å•å¯é ï¼Œèƒ½å¤Ÿä¿è¯æ‰¾åˆ°å…¨å±€æœ€ä¼˜è§£ã€‚ç„¶è€Œï¼Œå…¶ç¼ºç‚¹ä¹Ÿæ˜æ˜¾ï¼šå¯¹å¤§è§„æ¨¡å›¾çš„å¤„ç†æ•ˆç‡ä½ä¸‹ï¼Œå› ä¸ºå®ƒéœ€è¦éå†æ•´ä¸ªå›¾ã€‚</p>
<p>Astar æ˜¯ä¸€ç§ å¹¿æœçš„æ”¹è‰¯ç‰ˆã€‚æœ‰çš„ Astaræ˜¯ dijkstra çš„æ”¹è‰¯ç‰ˆã€‚</p>
<p>å…¶å®åªæ˜¯åœºæ™¯ä¸åŒè€Œå·²ï¼Œåœ¨æœç´¢æœ€çŸ­è·¯çš„æ—¶å€™ï¼Œ å¦‚æœæ˜¯æ— æƒå›¾ï¼ˆè¾¹çš„æƒå€¼éƒ½æ˜¯1ï¼‰ é‚£å°±ç”¨å¹¿æœï¼Œä»£ç ç®€æ´ï¼Œæ—¶é—´æ•ˆç‡å’Œ dijkstra å·®ä¸å¤š ï¼ˆå…·ä½“è¦å–å†³äºå›¾çš„ç¨ å¯†ï¼‰å¦‚æœæ˜¯æœ‰æƒå›¾ï¼ˆè¾¹æœ‰ä¸åŒçš„æƒå€¼ï¼‰ï¼Œä¼˜å…ˆè€ƒè™‘ dijkstraã€‚</p>
<p>è€Œ Astar å…³é”®åœ¨äº å¯å‘å¼å‡½æ•°ï¼Œ ä¹Ÿå°±æ˜¯ å½±å“ å¹¿æœæˆ–è€… dijkstra ä» å®¹å™¨ï¼ˆé˜Ÿåˆ—ï¼‰é‡Œå–å…ƒç´ çš„ä¼˜å…ˆé¡ºåºã€‚</p>
<h3 id="å®ç°æœºåˆ¶">å®ç°æœºåˆ¶</h3>
<ol>
<li>
<p>å¯å‘å¼æœç´¢çš„ä¼˜åŠ¿<br>
A*ç®—æ³•å¼•å…¥äº†å¯å‘å¼å‡½æ•°h(v)ï¼Œå®ƒé¢„ä¼°äº†ä»èŠ‚ç‚¹våˆ°ç›®æ ‡èŠ‚ç‚¹çš„æœ€ä¼˜è·¯å¾„æˆæœ¬ã€‚è¿™ä½¿å¾—A*èƒ½å¤Ÿåœ¨æœç´¢è¿‡ç¨‹ä¸­å…·æœ‰æ–¹å‘æ€§ï¼Œä¼˜å…ˆæ¢ç´¢é‚£äº›æ›´æœ‰å¯èƒ½å¯¼å‘ç›®æ ‡çš„è·¯å¾„ï¼Œä»è€Œå‡å°‘ä¸å¿…è¦çš„æ¢ç´¢ï¼Œæé«˜æœç´¢æ•ˆç‡ã€‚</p>
</li>
<li>
<p>å®ç°æœºåˆ¶</p>
<ul>
<li>
<p>è¯„ä¼°å‡½æ•°ï¼šA*çš„å…³é”®åœ¨äºf(v)=g(v)+h(v)ï¼Œå…¶ä¸­g(v)æ˜¯ä»èµ·ç‚¹åˆ°èŠ‚ç‚¹vçš„å®é™…æˆæœ¬ï¼Œh(v)æ˜¯å¯å‘å¼å‡½æ•°ï¼Œé€šå¸¸è¡¨ç¤º å½“å‰èŠ‚ç‚¹ åˆ°ç»ˆç‚¹çš„è·ç¦»ã€‚å› æ­¤ä¸¤è€…ç›¸åŠ å°±æ˜¯èµ·ç‚¹åˆ°ç»ˆç‚¹çš„è·ç¦»ã€‚</p>
</li>
<li>
<p>å¼€æ”¾ä¸å…³é—­é›†åˆï¼šç®—æ³•ç»´æŠ¤ä¸¤ä¸ªé›†åˆï¼Œå¼€æ”¾é›†åˆå­˜æ”¾å¾…è¯„ä¼°çš„èŠ‚ç‚¹ï¼Œå…³é—­é›†åˆå­˜æ”¾å·²è¯„ä¼°èŠ‚ç‚¹ã€‚æ¯æ¬¡è¿­ä»£ä»å¼€æ”¾é›†åˆä¸­é€‰æ‹©få€¼æœ€å°çš„èŠ‚ç‚¹è¿›è¡Œæ‰©å±•ï¼Œç›´åˆ°ç›®æ ‡èŠ‚ç‚¹è¢«åŠ å…¥å…³é—­é›†åˆã€‚</p>
</li>
</ul>
</li>
</ol>
<p><strong>BFS æ˜¯æ²¡æœ‰ç›®çš„æ€§çš„ ä¸€åœˆä¸€åœˆå»æœç´¢ï¼Œ è€Œ A* æ˜¯æœ‰æ–¹å‘æ€§çš„å»æœç´¢</strong>ã€‚</p>
<p>é‚£ä¹ˆ A* ä¸ºä»€ä¹ˆå¯ä»¥æœ‰æ–¹å‘æ€§çš„å»æœç´¢ï¼Œå®ƒçš„å¦‚ä½•çŸ¥é“æ–¹å‘å‘¢ï¼Ÿ<strong>å…¶å…³é”®åœ¨äº å¯å‘å¼å‡½æ•°</strong>ã€‚</p>
<p>è®¡ç®—ä¸¤ç‚¹è·ç¦»é€šå¸¸æœ‰å¦‚ä¸‹ä¸‰ç§è®¡ç®—æ–¹å¼ï¼šè¿™ä¹Ÿä¸€èˆ¬è¢«é€‰ä¸ºå¯å‘å¼å‡½æ•°ï¼Œç”¨æ¥é¢„ä¼°å½“å‰èŠ‚ç‚¹åˆ°ç»ˆç‚¹çš„è·ç¦»</p>
<ol>
<li>æ›¼å“ˆé¡¿è·ç¦»ï¼Œè®¡ç®—æ–¹å¼ï¼šd = abs(x1-x2)+abs(y1-y2)</li>
<li>æ¬§æ°è·ç¦»ï¼ˆæ¬§æ‹‰è·ç¦»ï¼‰ ï¼Œè®¡ç®—æ–¹å¼ï¼šd = sqrt( (x1-x2)^2 + (y1-y2)^2 )</li>
<li>åˆ‡æ¯”é›ªå¤«è·ç¦»ï¼Œè®¡ç®—æ–¹å¼ï¼šd = max(abs(x1 - x2), abs(y1 - y2))</li>
</ol>
<h3 id="ä¸dijkstraçš„å¯¹æ¯”åˆ†æ">ä¸Dijkstraçš„å¯¹æ¯”åˆ†æ</h3>
<ul>
<li>è®¡ç®—æ•ˆç‡ï¼šA*ç”±äºé‡‡ç”¨äº†å¯å‘å¼ä¿¡æ¯ï¼Œé€šå¸¸æ¯”Dijkstraç®—æ³•æ›´å¿«æ‰¾åˆ°è§£ï¼Œå°¤å…¶åœ¨å¤æ‚è·¯ç½‘ä¸­æ›´ä¸ºæ˜¾è‘—ã€‚</li>
<li>è·¯å¾„è´¨é‡ï¼šç†è®ºä¸Šï¼Œåªè¦å¯å‘å¼å‡½æ•°æ»¡è¶³å¯æ¥çº³æ€§æ¡ä»¶ï¼ŒA*ä¿è¯æ‰¾åˆ°æœ€çŸ­è·¯å¾„ã€‚DijkstraåŒæ ·ä¿è¯æœ€çŸ­è·¯å¾„ï¼Œä½†ç¼ºä¹æ•ˆç‡ä¼˜åŠ¿ã€‚</li>
<li>èµ„æºæ¶ˆè€—ï¼šA*åœ¨å†…å­˜ä½¿ç”¨ä¸Šå¯èƒ½æ›´é«˜ï¼Œå› ä¸ºå®ƒéœ€è¦ç»´æŠ¤å¼€æ”¾é›†åˆå’Œå…³é—­é›†åˆï¼Œè€ŒDijkstraåªéœ€ç»´æŠ¤æœªè®¿é—®é›†åˆå’Œå‰é©±èŠ‚ç‚¹æ˜ å°„ã€‚</li>
<li>é€‚ç”¨åœºæ™¯ï¼šDijkstraé€‚ç”¨äºå°å‹æˆ–ä¸­å‹è§„æ¨¡ã€å¯¹å®æ—¶æ€§è¦æ±‚ä¸é«˜çš„åœºæ™¯ï¼›A*æ›´é€‚åˆå¤§å‹å›¾æœç´¢æˆ–å¯¹å®æ—¶æ€§è¦æ±‚è¾ƒé«˜çš„æ— åœºæ™¯ã€‚</li>
</ul>
<h3 id="ä»£ç å®ç°">ä»£ç å®ç°</h3>
<p>å®ç°ä»£ç å¦‚ä¸‹ï¼šå¯å‘å¼å‡½æ•° é‡‡ç”¨ æ¬§æ‹‰è·ç¦»è®¡ç®—æ–¹å¼</p>
<pre><code class="language-java">class Node {
    //è¡¨ç¤ºèŠ‚ç‚¹åœ¨ç½‘æ ¼ä¸­çš„ä½ç½®
    int x, y;
    //gCostè¡¨ç¤ºä»èµ·ç‚¹åˆ°è¯¥èŠ‚ç‚¹çš„å®é™…ä»£ä»·ï¼ŒhCostè¡¨ç¤ºä»è¯¥èŠ‚ç‚¹åˆ°ç›®æ ‡èŠ‚ç‚¹çš„ä¼°è®¡ä»£ä»·ï¼ˆå¯å‘å¼å€¼ï¼‰ï¼ŒfCostæ˜¯ä¸¤è€…ä¹‹å’Œã€‚
    double gCost, hCost, fCost;
    //ç”¨äºé‡æ„è·¯å¾„
    Node parent;

    public Node(int x, int y) {
        this.x = x;
        this.y = x;
    }

    //è®¡ç®—å½“å‰èŠ‚ç‚¹åˆ°ç›®æ ‡èŠ‚ç‚¹çš„æ¬§æ‹‰è·ç¦»ã€‚
    public double calculateHeuristic(Node target) {
        return Math.sqrt(Math.pow(this.x - target.x, 2) + Math.pow(this.y - target.y, 2));
    }

    public void updateCosts(Node target, double gCost) {
        this.gCost = gCost;
        this.hCost = calculateHeuristic(target);
        this.fCost = this.gCost + this.hCost;
    }

    @Override
    public boolean equals(Object obj) {
        if (this == obj) return true;
        if (obj == null || getClass() != obj.getClass()) return false;
        Node node = (Node) obj;
        return x == node.x &amp;&amp; y == node.y;
    }

    @Override
    public int hashCode() {
        return Objects.hash(x, y);
    }
}

class AStar {
    private static final int[][] DIRECTIONS = {{1, 0}, {-1, 0}, {0, 1}, {0, -1},
            {1, 1}, {1, -1}, {-1, 1}, {-1, -1}};

    public List&lt;Node&gt; findPath(Node start, Node target, int[][] grid) {
        //è¡¨ç¤ºå¾…å¤„ç†èŠ‚ç‚¹
        Set&lt;Node&gt; openSet = new HashSet&lt;&gt;();
        //è¡¨ç¤ºå·²å¤„ç†èŠ‚ç‚¹
        Set&lt;Node&gt; closedSet = new HashSet&lt;&gt;();
        //ç”¨äºè·å–å…·æœ‰æœ€å°fCostçš„èŠ‚ç‚¹
        PriorityQueue&lt;Node&gt; priorityQueue = new PriorityQueue&lt;&gt;(Comparator.comparingDouble(n -&gt; n.fCost));

        start.updateCosts(target, 0);
        openSet.add(start);
        priorityQueue.add(start);

        while (!openSet.isEmpty()) {
            Node current = priorityQueue.poll();
            openSet.remove(current);
            closedSet.add(current);

            if (current.equals(target)) {
                return reconstructPath(current);
            }

            for (int[] direction : DIRECTIONS) {
                int newX = current.x + direction[0];
                int newY = current.y + direction[1];

                if (!isInBounds(newX, newY, grid) || grid[newX][newY] == 1) {
                    continue;
                }

                Node neighbor = new Node(newX, newY);
                if (closedSet.contains(neighbor)) {
                    continue;
                }

                double tentativeGCost = current.gCost + current.calculateHeuristic(neighbor);
                if (!openSet.contains(neighbor) || tentativeGCost &lt; neighbor.gCost) {
                    neighbor.updateCosts(target, tentativeGCost);
                    neighbor.parent = current;

                    if (!openSet.contains(neighbor)) {
                        openSet.add(neighbor);
                        priorityQueue.add(neighbor);
                    }
                }
            }
        }
        return Collections.emptyList();
    }

    // æ£€æŸ¥èŠ‚ç‚¹æ˜¯å¦åœ¨ç½‘æ ¼èŒƒå›´å†…ã€‚
    private boolean isInBounds(int x, int y, int[][] grid) {
        return x &gt;= 0 &amp;&amp; y &gt;= 0 &amp;&amp; x &lt; grid.length &amp;&amp; y &lt; grid[0].length;
    }

    //ä»ç›®æ ‡èŠ‚ç‚¹å›æº¯æ„å»ºè·¯å¾„ã€‚
    private List&lt;Node&gt; reconstructPath(Node node) {
        List&lt;Node&gt; path = new ArrayList&lt;&gt;();
        while (node != null) {
            path.add(node);
            node = node.parent;
        }
        Collections.reverse(path);
        return path;
    }
}
</code></pre>
<h3 id="å¤æ‚åº¦åˆ†æ">å¤æ‚åº¦åˆ†æ</h3>
<p>A* ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ å…¶å®æ˜¯ä¸å¥½å»é‡åŒ–çš„ï¼Œå› ä¸ºä»–å–å†³äº å¯å‘å¼å‡½æ•°æ€ä¹ˆå†™ã€‚</p>
<ul>
<li>
<p>æœ€åæƒ…å†µä¸‹ï¼ŒA* é€€åŒ–æˆå¹¿æœï¼Œç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ æ˜¯ O(n * 2)ï¼Œn ä¸ºèŠ‚ç‚¹æ•°é‡ã€‚</p>
</li>
<li>
<p>æœ€ä½³æƒ…å†µï¼Œæ˜¯ä»èµ·ç‚¹ç›´æ¥åˆ°ç»ˆç‚¹ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(dlogd)ï¼Œd ä¸ºèµ·ç‚¹åˆ°ç»ˆç‚¹çš„æ·±åº¦ã€‚å› ä¸ºåœ¨æœç´¢çš„è¿‡ç¨‹ä¸­ä¹Ÿéœ€è¦å †æ’åºï¼Œæ‰€ä»¥æ˜¯ O(dlogd)ã€‚</p>
</li>
</ul>
<p>å®é™…ä¸Š A* çš„æ—¶é—´å¤æ‚åº¦æ˜¯ä»‹äº æœ€ä¼˜ å’Œæœ€å æƒ…å†µä¹‹é—´ï¼Œ å¯ä»¥ éå¸¸ç²—ç•¥çš„è®¤ä¸º A* ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(nlogn) ï¼Œn ä¸ºèŠ‚ç‚¹æ•°é‡ã€‚</p>
<p>A* ç®—æ³•çš„ç©ºé—´å¤æ‚åº¦ O(b ^ d) ,d ä¸ºèµ·ç‚¹åˆ°ç»ˆç‚¹çš„æ·±åº¦ï¼Œb æ˜¯ å›¾ä¸­èŠ‚ç‚¹é—´çš„è¿æ¥æ•°é‡</p>
<h3 id="a-çš„ç¼ºç‚¹">A* çš„ç¼ºç‚¹</h3>
<p>å¤§å®¶çœ‹ä¸Šè¿° A * ä»£ç çš„æ—¶å€™ï¼Œå¯ä»¥çœ‹åˆ° æˆ‘ä»¬å‘é˜Ÿåˆ—é‡Œæ·»åŠ äº†å¾ˆå¤šèŠ‚ç‚¹ï¼Œä½†çœŸæ­£ä»é˜Ÿåˆ—é‡Œå–å‡ºæ¥çš„ ä»…ä»…æ˜¯ é å¯å‘å¼å‡½æ•°åˆ¤æ–­ è·ç¦»ç»ˆç‚¹æœ€è¿‘çš„èŠ‚ç‚¹ã€‚</p>
<p>ç›¸å¯¹äºæ™®é€šBFSï¼ŒA* ç®—æ³•åªä» é˜Ÿåˆ—é‡Œå–å‡º è·ç¦»ç»ˆç‚¹æœ€è¿‘çš„èŠ‚ç‚¹ã€‚</p>
<p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼ŒA* åœ¨ä¸€æ¬¡è·¯å¾„æœç´¢ä¸­ï¼Œå¤§é‡ä¸éœ€è¦è®¿é—®çš„èŠ‚ç‚¹éƒ½åœ¨é˜Ÿåˆ—é‡Œï¼Œä¼šé€ æˆç©ºé—´çš„è¿‡åº¦æ¶ˆè€—ã€‚</p>
<p>IDA* ç®—æ³•å¯¹è¿™ä¸€ç©ºé—´å¢é•¿é—®é¢˜è¿›è¡Œäº†ä¼˜åŒ–ï¼Œå…³äº IDA* ç®—æ³•ï¼Œåç»­å†æ›´æ–° //to do</p>
<p>å¦å¤–è¿˜æœ‰ä¸€ç§åœºæ™¯ æ˜¯ A* è§£å†³ä¸äº†çš„ã€‚</p>
<p>å¦‚æœç»™å‡ºå¤šä¸ªå¯èƒ½çš„ç›®æ ‡ï¼Œç„¶ååœ¨è¿™å¤šä¸ªç›®æ ‡ä¸­é€‰æ‹©æœ€è¿‘çš„ç›®æ ‡ï¼Œè¿™ç§ A* å°±ä¸æ“…é•¿äº†ï¼Œ A* åªæ“…é•¿ç»™å‡ºæ˜ç¡®çš„ç›®æ ‡ ç„¶åæ‰¾åˆ°æœ€çŸ­è·¯å¾„ã€‚</p>
<p>å¦‚æœæ˜¯å¤šä¸ªç›®æ ‡æ‰¾æœ€è¿‘ç›®æ ‡ï¼ˆç‰¹åˆ«æ˜¯æ½œåœ¨ç›®æ ‡æ•°é‡å¾ˆå¤šçš„æ—¶å€™ï¼‰ï¼Œå¯ä»¥è€ƒè™‘ Dijkstra ï¼ŒBFS æˆ–è€… Floydã€‚</p>

</div>
<div id="MySignature" role="contentinfo">
    <p>æœ¬æ–‡æ¥è‡ªåœ¨çº¿ç½‘ç«™ï¼šsevençš„èœé¸Ÿæˆé•¿ä¹‹è·¯ï¼Œä½œè€…ï¼šsevenï¼Œè½¬è½½è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼šwww.seven97.top</p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-12-22 09:00">2025-12-22 09:00</span>&nbsp;
<a href="https://www.cnblogs.com/sevencoding">ç¨‹åºå‘˜Seven</a>&nbsp;
é˜…è¯»(<span id="post_view_count">51</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">1</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19376818);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19376818', targetLink: 'https://www.cnblogs.com/sevencoding/p/19376818', title: 'ä¸€æ–‡è®²æ¸…æ¥šå›¾è®ºç›¸å…³ç®—æ³•' })">ä¸¾æŠ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ä¸Šå‘¨çƒ­ç‚¹å›é¡¾ï¼ˆ12.15-12.21ï¼‰ ]]></title>
    <link>https://www.cnblogs.com/cmt/p/19380650</link>
    <guid>925a2be560ba21ad166c38c4a601b6e6</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/cmt/p/19380650" title="å‘å¸ƒäº 2025-12-22 08:51">
    <span role="heading" aria-level="2">ä¸Šå‘¨çƒ­ç‚¹å›é¡¾ï¼ˆ12.15-12.21ï¼‰</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p>çƒ­ç‚¹éšç¬”ï¼š</p>
<p> Â· <a href="https://www.cnblogs.com/yupi/archive/2025/12/16/19357567.html" target="_blank">å…¨é¢å°ç¦ Cursorï¼åˆä¸€å®¶å¤§å‚å‡ºæ‰‹äº†</a> (<a href="https://www.cnblogs.com/yupi/" target="_blank">ç¨‹åºå‘˜é±¼çš®</a>) <br>
 Â· <a href="https://www.cnblogs.com/12lisu/archive/2025/12/15/19350919.html" target="_blank">å‡å¦‚æœ‰10äº¿QQå·å¦‚ä½•å»é‡ï¼Ÿ</a>
(<a href="https://www.cnblogs.com/12lisu/" target="_blank">è‹ä¸‰è¯´æŠ€æœ¯</a>)                    <br>
 Â· <a href="https://www.cnblogs.com/MeteorSeed/archive/2025/12/17/19307311.html" target="_blank">ã€è¯‘ã€‘åˆæ¢ Visual Studio 2026 å…¨æ–°çš„ç”¨æˆ·ä½“éªŒ</a>
(<a href="https://www.cnblogs.com/MeteorSeed/" target="_blank">MeteorSeed</a>)                    <br>
 Â· <a href="https://www.cnblogs.com/mingupupu/archive/2025/12/15/19352075.html" target="_blank">OpenCVSharpï¼šäº†è§£å‡ ç§ç‰¹å¾æ£€æµ‹</a>
(<a href="https://www.cnblogs.com/mingupupu/" target="_blank">mingupupup</a>)                    <br>
 Â· <a href="https://www.cnblogs.com/shanyou/archive/2025/12/16/19355053.html" target="_blank">2025å¹´ WebTransport ç”Ÿæ€æ·±åº¦ç ”ç©¶ï¼šJavaScript å®¢æˆ·ç«¯ä¸.NET 10 SignalR çš„æ¼”è¿›ä¸èåˆ</a>
(<a href="https://www.cnblogs.com/shanyou/" target="_blank">å¼ å–„å‹</a>)                    <br>
 Â· <a href="https://www.cnblogs.com/yupi/archive/2025/12/17/19363337.html" target="_blank">æ¶ˆæ¯é˜Ÿåˆ—ä»å…¥é—¨åˆ°è·‘è·¯ï¼Œä¿å§†çº§æ•™ç¨‹ï¼å‚»å­å¯æ‡‚</a>
(<a href="https://www.cnblogs.com/yupi/" target="_blank">ç¨‹åºå‘˜é±¼çš®</a>)                    <br>
 Â· <a href="https://www.cnblogs.com/yubaolee/archive/2025/12/18/stargantt.html" target="_blank">å¤®ä¼ç¨‹åºå‘˜AIåˆ›ä¸šåç»­</a>&nbsp;(<a href="https://www.cnblogs.com/yubaolee/" target="_blank">æç‰å®</a>)                    <br>
 Â· <a href="https://www.cnblogs.com/yupi/archive/2025/12/15/19351700.html" target="_blank">ä»€ä¹ˆæ˜¯è´Ÿè½½å‡è¡¡ï¼Ÿä¸å°±æ˜¯åŠ å°æœåŠ¡å™¨å˜›ï¼</a>
(<a href="https://www.cnblogs.com/yupi/" target="_blank">ç¨‹åºå‘˜é±¼çš®</a>)                    <br>
 Â· <a href="https://www.cnblogs.com/shanyou/archive/2025/12/17/19360467.html" target="_blank">Aspire 13ï¼šä».NET ç¼–æ’å·¥å…·åˆ°çœŸæ­£çš„å¤šè¯­è¨€äº‘åŸç”Ÿåº”ç”¨å¹³å°</a>
(<a href="https://www.cnblogs.com/shanyou/" target="_blank">å¼ å–„å‹</a>)                    <br>
 Â· <a href="https://www.cnblogs.com/MeteorSeed/archive/2025/12/18/19366736.html" target="_blank">Newtonsoft.Json ä¸ System.Text.Json å¤šæ€ååºåˆ—åŒ–çš„å®‰å…¨æ€§å·®å¼‚è§£æ</a>
(<a href="https://www.cnblogs.com/MeteorSeed/" target="_blank">MeteorSeed</a>)                    <br>
 Â· <a href="https://www.cnblogs.com/cmt/archive/2025/12/15/19350596.html" target="_blank">ä¸Šå‘¨çƒ­ç‚¹å›é¡¾ï¼ˆ12.8-12.14ï¼‰</a>
(<a href="https://www.cnblogs.com/cmt/" target="_blank">åšå®¢å›­å›¢é˜Ÿ</a>)                    <br>
 Â· <a href="https://www.cnblogs.com/BettaFish/archive/2025/12/16/avalonia-grid.html" target="_blank">Avaloniaæºç è§£è¯»ï¼šGridï¼ˆç½‘æ ¼æ§ä»¶ï¼‰</a>
(<a href="https://www.cnblogs.com/BettaFish/" target="_blank">zxbmmmmmmmmm</a>)                    <br>
            </p>
<p>çƒ­ç‚¹æ–°é—»ï¼š</p>
<p>
 Â· <a href="https://news.cnblogs.com/n/809254/" target="_blank">æœ€å°å…¨è‡ªä¸»ç¼–ç¨‹æœºå™¨äººç ”å‘æˆåŠŸ</a><br>
 Â· <a href="https://news.cnblogs.com/n/809170/" target="_blank">ä¸­å›½ç‡ƒæ²¹è½¦åœ¨æµ·å¤–å¤§ç«ï¼Ÿå›½äº§ç‡ƒæ²¹è½¦æ˜¯æ€ä¹ˆè¡Œçš„ï¼Ÿ</a><br>
 Â· <a href="https://news.cnblogs.com/n/809106/" target="_blank">æ–°æ–¹æ³•æå‡AIé¢„è®­ç»ƒæ•ˆç‡å’Œå‡†ç¡®æ€§</a><br>
 Â· <a href="https://news.cnblogs.com/n/809157/" target="_blank">â€œä¿„ç‰ˆè°·æ­Œâ€ï¼Œæ­£å¸®ä¸­å›½å•†äººå¤§èµš</a><br>
 Â· <a href="https://news.cnblogs.com/n/809021/" target="_blank">â€œæ°¸è¿œ50å¹´â€é­”å’’ç»ˆç»“</a><br>
 Â· <a href="https://news.cnblogs.com/n/809101/" target="_blank">Linux 6.19-rc1 é‡Šå‡ºï¼Œé¾™èŠ¯ä¸ºå†…æ ¸åŠ å…¥ 32 ä½æ¶æ„ LoongArch32 æ”¯æŒ</a><br>
 Â· <a href="https://news.cnblogs.com/n/809386/" target="_blank">ç½—æ°¸æµ©åæ§½ä¸Šæµ·ç”µä¿¡ç½‘é€Ÿé—®é¢˜ï¼šå†ä¸å¸®å¿™è§£å†³å°±è¦ç½‘ä¸Šå‘ç–¯</a><br>
 Â· <a href="https://news.cnblogs.com/n/809255/" target="_blank">å°ç±³çªç„¶å‘å¸ƒæ–°æ¨¡å‹ï¼šåª²ç¾ DeepSeek-V3.2ï¼ŒæŠŠæ‰‹æœºçš„æ€§ä»·æ¯”å·åˆ° AI</a><br>
 Â· <a href="https://news.cnblogs.com/n/809116/" target="_blank">ä½ åˆä¸­ç”¨çš„è®¡ç®—å™¨ï¼Œç°åœ¨è¿˜åœ¨ä¹±æ€ã€‚</a><br>
 Â· <a href="https://news.cnblogs.com/n/809039/" target="_blank">å·¨å¤´è£å‘˜ï¼Œè¿™æ¬¡å²æ— å‰ä¾‹</a><br>
 Â· <a href="https://news.cnblogs.com/n/809206/" target="_blank">å­¦18ä¸ªæœˆèƒ–ä¸œæ¥ï¼Œæ°¸è¾‰äºåœ¨æˆ¿æœ¬ä¸Š</a><br>
 Â· <a href="https://news.cnblogs.com/n/809179/" target="_blank">æ–°èƒ½æºè½¦VSç‡ƒæ²¹è½¦ï¼šç”¨è½¦æˆæœ¬å¤§PK</a></p>
<p>æ¨å¹¿é¡¹ç›®ï¼š</p>
<p>Â· <a href="https://www.ebcloud.com/chn_xhpwpopm" rel="noopener nofollow" target="_blank">è‹±åšäº‘GPUå®¹å™¨æœåŠ¡å¹³å°ï¼Œæ™ºèƒ½ç®—åŠ›å³å¼€å³ç”¨ï¼Œç«‹å³å…è´¹è¯•ç”¨</a><br>Â· <a href="https://ais.cn/u/VZZZJj" rel="noopener nofollow" target="_blank">ç§‘ç ”é¢†åŸŸçš„è¿æ¥è€…è‰¾æ€ç§‘è“ï¼Œä¸€ç«™å¼ç§‘ç ”å­¦æœ¯æœåŠ¡æ•°å­—åŒ–å¹³å°</a><br>Â· <a href="https://www.cnblogs.com/cmt/p/19165152" rel="noopener" target="_blank">è¯šé‚€æ‚¨ä½“éªŒé˜¿é‡Œå·´å·´æ¨å‡ºçš„æ–°ä¸€ä»£ Agentic ç¼–ç¨‹å¹³å° Qoder</a><br>Â· <a href="https://dis.chatdesks.cn/chatdesk/jmcnblogs.html" rel="noopener nofollow" target="_blank">äººåƒé«˜æ¸…è¾“å‡ºï¼Œç™¾å˜é£æ ¼éšå¿ƒæ¢ï¼Œå¿«æ¥å³æ¢¦è¯•è¯•å§</a><br>Â·&nbsp;<a href="https://www.trae.com.cn/?utm_source=advertising&amp;utm_medium=cnblogs_ug_cpa&amp;utm_term=hw_trae_cnblogs" rel="noopener nofollow" target="_blank">TRAE SOLO ä¸­å›½ç‰ˆæ­£å¼ä¸Šçº¿ï¼Œå…¨é¢å…è´¹</a></p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-12-22 08:51">2025-12-22 08:51</span>&nbsp;
<a href="https://www.cnblogs.com/cmt">åšå®¢å›­å›¢é˜Ÿ</a>&nbsp;
é˜…è¯»(<span id="post_view_count">0</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19380650);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19380650', targetLink: 'https://www.cnblogs.com/cmt/p/19380650', title: 'ä¸Šå‘¨çƒ­ç‚¹å›é¡¾ï¼ˆ12.15-12.21ï¼‰' })">ä¸¾æŠ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ æ¶æ„å¸ˆå¿…å¤‡ï¼šåç«¯ç¨‹åºå‘˜éœ€è¦äº†è§£çš„æ•°ä»“çŸ¥è¯† ]]></title>
    <link>https://www.cnblogs.com/toplist/p/19350289</link>
    <guid>71ffd31248490daf3dd410f5abc09ac9</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/toplist/p/19350289" title="å‘å¸ƒäº 2025-12-22 08:26">
    <span role="heading" aria-level="2">æ¶æ„å¸ˆå¿…å¤‡ï¼šåç«¯ç¨‹åºå‘˜éœ€è¦äº†è§£çš„æ•°ä»“çŸ¥è¯†</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯Javaçƒ˜ç„™å¸ˆã€‚åç«¯ç¨‹åºå‘˜å¹³æ—¶é™¤äº†æ¥è§¦ä¸šåŠ¡ä»£ç ã€ä¸­é—´ä»¶ã€å­˜å‚¨ç­‰ï¼Œä¹Ÿéš¾å…ä¼šè·Ÿæ•°ä»“æœ‰äº¤é›†ã€‚ä¸‹é¢ç»“åˆç¬”è€…çš„ç»éªŒå’Œæ€è€ƒï¼Œä»åç«¯ç¨‹åºå‘˜çš„è§†è§’çœ‹æ•°ä»“ã€åšä¸ªæ€»ç»“ï¼Œåç»­å†è·Ÿæ•°ä»“/BI argueçš„æ—¶å€™å°±ä¸è™šäº†ğŸ˜ƒ</p>
<p>åˆ†æˆä¸¤éƒ¨åˆ†ä»‹ç»ï¼šç¦»çº¿æ•°ä»“ã€å®æ—¶æ•°ä»“ã€‚</p>
<h1 id="ç¦»çº¿æ•°ä»“">ç¦»çº¿æ•°ä»“</h1>
<p>ç¦»çº¿æ•°ä»“æ˜¯æœ€å…¸å‹çš„æ•°ä»“åº”ç”¨åœºæ™¯ã€‚åç«¯æœåŠ¡äº§ç”Ÿäº†ä¸šåŠ¡æ•°æ®ã€ç›‘æ§åŸ‹ç‚¹ã€æ—¥å¿—ç­‰ï¼Œå¦‚æœè¦åšç»Ÿè®¡åˆ†æï¼Œå°±è¦å…ˆç¦»çº¿é‡‡é›†åˆ°æ•°ä»“ï¼Œå†é€šè¿‡SQLåšèšåˆæŸ¥è¯¢ã€‚<br>
ç¦»çº¿æ•°ä»“çš„é‡ç‚¹ï¼Œåœ¨äºç»Ÿè®¡åˆ†æå†å²å­˜é‡æ•°æ®ï¼Œåšåˆç†çš„ä¸šåŠ¡åŸŸåˆ’åˆ†ã€æ•°æ®åˆ†å±‚ã€æ•°æ®åˆ†åŒºã€‚</p>
<p><img src="https://img2024.cnblogs.com/blog/1247698/202512/1247698-20251222013722221-284016663.png" alt="ç¦»çº¿æ•°ä»“æ•°æ®åˆ†å±‚ã€æ•°æ®åˆ†åŒº" width="550" loading="lazy"></p>
<h2 id="æ•°æ®é‡‡é›†">æ•°æ®é‡‡é›†</h2>
<p>éœ€è¦é‡‡é›†çš„æ•°æ®åŒ…æ‹¬ï¼šä¸šåŠ¡æ•°æ®ã€ç›‘æ§åŸ‹ç‚¹ã€æ—¥å¿—ç­‰ã€‚</p>
<ul>
<li>ä¸šåŠ¡æ•°æ®ï¼šä¸€èˆ¬å­˜å‚¨åœ¨DBã€æˆ–HBaseï¼Œå¯ä¸€æ¬¡æ€§æŠŠå­˜é‡æ•°æ®å¯¼å…¥hiveè¡¨ï¼Œåç»­å®šæ—¶æ‰«æä¸€æ®µæ—¶é—´èŒƒå›´å†…çš„å¢é‡æ•°æ®å¯¼å…¥hiveè¡¨</li>
<li>ç›‘æ§åŸ‹ç‚¹ï¼šåç«¯æœåŠ¡å‘å‡ºåŸ‹ç‚¹æ¶ˆæ¯ï¼Œé‡‡é›†ç¨‹åºæ¶ˆè´¹æ¶ˆæ¯ã€è§£æã€æœ€ç»ˆå¯¼å…¥åˆ°hiveè¡¨</li>
<li>æ—¥å¿—ï¼šå¯é€šè¿‡filebeaté‡‡é›†æ—¥å¿—ï¼Œé‡‡é›†ç¨‹åºè§£æåã€å¯¼å…¥åˆ°hiveè¡¨</li>
</ul>
<h2 id="æ•°æ®åˆ†å±‚">æ•°æ®åˆ†å±‚</h2>
<p>é€»è¾‘å±‚é¢çš„æ°´å¹³æ•°æ®åˆ†å±‚ï¼š</p>
<ul>
<li><code>ODS (Operational Data Store)</code>ï¼šåŸå§‹æ•°æ®ï¼Œä¸€èˆ¬ä¸åšä»»ä½•åŠ å·¥</li>
<li><code>DWD (Data Warehouse Detail)</code>ï¼šæ•°ä»“æ˜ç»†æ•°æ®ï¼Œåœ¨ODSçš„åŸºç¡€ä¸Šåšä¸€äº›ç®€å•åŠ å·¥ï¼Œå¦‚æ•°æ®æ¸…æ´—ï¼Œè§£æjsonæ ¼å¼å­—æ®µã€æ‰“å¹³åå­˜å‚¨</li>
<li><code>DWS (Data WareHouse Summary)</code>ï¼šæ•°ä»“æ±‡æ€»æ•°æ®ï¼Œåœ¨DWDçš„åŸºç¡€ä¸ŠæŒ‰ç»´åº¦åšèšåˆå®½è¡¨ï¼Œæ–¹ä¾¿ä¸šåŠ¡æ–¹ä½¿ç”¨</li>
<li><code>ADS (Application Data Service)</code>ï¼šç›´æ¥å¯ç”¨çš„æŠ¥è¡¨åº”ç”¨æ•°æ®</li>
</ul>
<p>ç¦»çº¿æ•°ä»“çš„æ•°æ®åˆ†å±‚ï¼Œç±»ä¼¼äºåç«¯ä»£ç ç»“æ„çš„åˆ†å±‚è®¾è®¡ï¼Œæ¯”å¦‚åˆ†ä¸ºæ¥å£å±‚interfaceã€é€»è¾‘å±‚serviceã€æ•°æ®è®¿é—®å±‚repositoryã€‚<br>
æ•°æ®åˆ†å±‚å¯ä»¥éš”ç¦»æ¯å±‚ä¹‹é—´çš„ä¾èµ–ï¼Œæ¯å±‚çš„å˜æ›´åªé™äºæœ¬å±‚ã€‚æ¯”å¦‚mysqlæ‹†åº“è¿ç§»åªéœ€è¦æ›´æ¢odsè¡¨ï¼Œä½†æ— éœ€æ”¹dwdè¡¨ï¼Œè¿™æ ·æ•°æ®ä½¿ç”¨æ–¹ä¸ç”¨æ„ŸçŸ¥æ•°æ®æºå˜æ›´ã€‚<br>
æ•°æ®åˆ†å±‚å¯ä»¥åœ¨DWå±‚èšåˆæ•°æ®ï¼Œæé«˜æ•°æ®ä½¿ç”¨æ–¹çš„æ•ˆç‡ã€é™ä½å¼€å‘æˆæœ¬ã€‚</p>
<p>åç«¯ç¨‹åºå‘˜æ¥è§¦æœ€å¤šçš„æ˜¯odså’Œdwdè¡¨ï¼š</p>
<ul>
<li>odsè¡¨æ¶‰åŠåˆ°æ•°æ®é‡‡é›†ï¼Œå¹¶ä¸”æ˜¯å½’æ¡£åˆ åœ¨çº¿æ•°æ®çš„å‰æ</li>
<li>dwdè¡¨å¯ä»¥ç”¨æ¥æ’æŸ¥å†å²æ•°æ®ï¼Œå› ä¸ºjsonæ ¼å¼å­—æ®µå·²æ‰“å¹³ï¼Œæ‰€ä»¥æ–¹ä¾¿åšç­›é€‰æŸ¥è¯¢</li>
</ul>
<h2 id="æ•°æ®åˆ†åŒº">æ•°æ®åˆ†åŒº</h2>
<p>æŒ‰æ—¶é—´ç»´åº¦åšå‚ç›´åˆ†åŒºï¼Œä¸€èˆ¬æ˜¯æ—¥çº§æˆ–å°æ—¶çº§åˆ†åŒºï¼Œå–å†³äºè°ƒåº¦é¢‘ç‡ï¼š</p>
<ul>
<li>å¤©çº§å¢é‡è¡¨ï¼šåŒ…å«æŸä¸€å¤©æœ‰å˜æ›´çš„æ•°æ®è®°å½•</li>
<li>å¤©çº§å…¨é‡è¡¨ï¼šåŒ…å«æŸä¸€å¤©å®Œæ•´çš„æ•°æ®è®°å½•ï¼Œç›¸å½“äºå¿«ç…§</li>
<li>å°æ—¶çº§å¢é‡è¡¨ï¼šåŒ…å«æŸä¸€å°æ—¶æœ‰å˜æ›´çš„æ•°æ®è®°å½•</li>
</ul>
<p>å› ä¸ºæ•°æ®é‡è¾ƒå¤§ï¼Œæ‰€ä»¥ä¸æ˜¯æ‰€æœ‰çš„ç¦»çº¿è¡¨éƒ½ä¼šæ°¸ä¹…ä¿ç•™ã€‚æ¯”å¦‚odså¤©çº§å¢é‡è¡¨å¯èƒ½ä»…ä¿ç•™æœ€è¿‘nå¤©ã€æˆ–æœ€è¿‘nä¸ªåˆ†åŒºï¼Œè€Œdwdå¤©çº§å…¨é‡è¡¨ä¼šmergeå¢é‡æ•°æ®ï¼Œå¯æŸ¥åˆ°å†å²ä¸Šçš„æ‰€æœ‰æ•°æ®è®°å½•ã€‚</p>
<h2 id="ç¦»çº¿æ•°ä»“ä½¿ç”¨åœºæ™¯">ç¦»çº¿æ•°ä»“ä½¿ç”¨åœºæ™¯</h2>
<ul>
<li>ç¦»çº¿ç»Ÿè®¡ï¼š
<ul>
<li>é€šè¿‡hive sqlåšå¤æ‚çš„å…³è”æŸ¥è¯¢ã€èšåˆæŸ¥è¯¢ï¼Œåº•å±‚ä¼šè½¬æˆMapReduceä»»åŠ¡ï¼ŒæŸ¥è¯¢HDFSé‡Œçš„hiveè¡¨</li>
<li>æ¯”å¦‚æŠŠå¤šå¼ äº‹å®è¡¨ã€ç»´åº¦è¡¨joinèµ·æ¥ï¼ŒåšæŸä¸ªç»´åº¦çš„æ•°é‡åŠ æ€»ã€é‡‘é¢åŠ æ€»ã€‚äº‹å®è¡¨æ˜¯ä¸šåŠ¡æ´»åŠ¨çš„äº‹ä»¶è®°å½•ï¼Œå¯ä»¥åšèšåˆæŸ¥è¯¢ç»Ÿè®¡ã€‚ç»´åº¦è¡¨æ˜¯å…ƒæ•°æ®ï¼ŒæŒ‰ç»´åº¦åšèšåˆåˆ†æï¼ˆmaxã€countï¼Œgroup byç»´åº¦ï¼‰ã€‚äº‹å®è¡¨ä¸€èˆ¬åŒ…å«å¤šä¸ªç»´åº¦è¡¨çš„å¤–é”®ã€‚</li>
</ul>
</li>
<li>æ•°æ®å¯¹è´¦ï¼šåˆ¤æ–­ä¸šåŠ¡åŒæ–¹çš„æ•°æ®æ˜¯å¦ä¸€è‡´ï¼Œå‚è€ƒç¬”è€…ä¹‹å‰å†™çš„æ–‡ç« ï¼š<a href="https://www.cnblogs.com/toplist/p/19009976" target="_blank">æ¶æ„å¸ˆå¿…å¤‡ï¼šå®æ—¶å¯¹è´¦ä¸ç¦»çº¿å¯¹è´¦</a></li>
<li>åç«¯åˆ·å†å²å­˜é‡æ•°æ®ï¼šéœ€è¦å…ˆåœ¨ç¦»çº¿ç»Ÿè®¡ç¬¦åˆæ¡ä»¶çš„æ•°æ®ï¼Œå†å¯¼å‡ºidæ¶ˆæ¯ï¼Œä½œä¸ºåç«¯åˆ·æ•°æ®çš„è¾“å…¥ä¾æ®</li>
</ul>
<h2 id="åç«¯å½’æ¡£åˆ é™¤åœ¨çº¿æ•°æ®">åç«¯å½’æ¡£åˆ é™¤åœ¨çº¿æ•°æ®</h2>
<p>åç«¯åœ¨çº¿æ•°æ®ä¸æ–­è†¨èƒ€ï¼Œå½“ä¸šåŠ¡å±‚é¢ä¸å†è®¿é—®æ—¶ï¼Œéœ€è¦åšå½’æ¡£åˆ é™¤ã€‚ä¸€å®šè¦ç¡®ä¿ä¸šåŠ¡æ•°æ®å…ˆè¢«ç¦»çº¿é‡‡é›†åˆ°ã€å†åˆ é™¤åœ¨çº¿æ•°æ®ï¼Œå¦åˆ™å°±å¯èƒ½ä¸¢æ•°æ®ã€æ‰¾ä¸å›æ¥äº†ã€‚<br>
æ¯”å¦‚æ–°å¢ä¸€ä¸ª<code>archive_status</code>å­—æ®µä»£è¡¨å½’æ¡£çŠ¶æ€ï¼ˆè€Œéæœ‰ä¸šåŠ¡å«ä¹‰çš„<code>deleted</code>å­—æ®µï¼‰ï¼Œåˆå§‹å€¼æ˜¯0ï¼Œè¢«è½¯åˆ åæ”¹æˆ1ï¼Œé‚£ä¹ˆå¦‚æœhiveè¡¨é‡Œè®°å½•çš„å½’æ¡£çŠ¶æ€æ˜¯1ï¼Œåˆ™ä»£è¡¨è¯¥è®°å½•å·²è¢«ç¦»çº¿é‡‡é›†åˆ°ï¼Œå¯æ”¾å¿ƒåœ°åˆ é™¤å¯¹åº”åœ¨çº¿è®°å½•ã€‚</p>
<h1 id="å®æ—¶æ•°ä»“">å®æ—¶æ•°ä»“</h1>
<p>æœ‰äº†ç¦»çº¿æ•°ä»“ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦å®æ—¶æ•°ä»“å‘¢ï¼Ÿ</p>
<ul>
<li>ä¸»è¦è¿˜æ˜¯ä¸ºäº†æ—¶æ•ˆæ€§ï¼Œç¦»çº¿æ•°ä»“æœ€å¿«æ˜¯å°æ—¶çº§ï¼Œå¦‚æœéœ€è¦ç§’çº§å»¶è¿Ÿï¼Œå°±éœ€è¦ä¸Šå®æ—¶æ•°ä»“äº†</li>
<li>å®æ—¶æ•°ä»“è·‘å‡ºæ¥çš„ç»“æœï¼Œå¯ä»¥è¢«åç«¯æœåŠ¡æŸ¥è¯¢ï¼Œç”¨äºåœ¨çº¿ä¸šåŠ¡</li>
</ul>
<p>å®æ—¶æ•°ä»“çš„é‡ç‚¹ï¼Œåœ¨äºä½å»¶è¿Ÿè®¡ç®—ã€exactly-onceå¤„ç†ï¼Œä¸åç«¯åº”ç”¨ç»“åˆå¯ä»¥å®ç°å¾ˆå¤šåŠŸèƒ½ã€‚</p>
<h2 id="å®æ—¶æ•°ä»“æ„å»ºæµç¨‹">å®æ—¶æ•°ä»“æ„å»ºæµç¨‹</h2>
<p>ä½¿ç”¨flinkæŠŠæ•°æ®é‡‡é›†ã€æ•°æ®è®¡ç®—ã€æ•°æ®å¯¼å‡ºçš„æµç¨‹ä¸²èµ·æ¥ã€‚è¿™é‡Œå¼•ç”¨ä¸€å¼ æŸäº‘å‚å•†çš„å®è·µæ•™ç¨‹å›¾ï¼Œé‡Œé¢çš„æ•°ä»“å­˜å‚¨å¯æ›¿ä»£ä¸ºå…¶å®ƒã€‚<br>
å‚è€ƒï¼š<a href="https://help.aliyun.com/zh/flink/realtime-flink/use-cases/build-real-time-data-warehouse-based-on-flink-hologres" target="_blank" rel="noopener nofollow">å®æ—¶æ•°ä»“æ­å»º</a><br>
<img src="https://img2024.cnblogs.com/blog/1247698/202512/1247698-20251221001017213-980708973.png" alt="image" loading="lazy"></p>
<ul>
<li>å®æ—¶å…¥ä»“ï¼šmysql binlogã€æˆ–ä¸šåŠ¡äº‹ä»¶ï¼Œè§¦å‘å®æ—¶æ•°æ®æµï¼Œé€šè¿‡flinkå®æ—¶å…¥ä»“</li>
<li>æ•°æ®è®¡ç®—ï¼šé€šè¿‡flinkå…³è”joinå¤šä¸ªodsè¡¨ï¼Œå¾—åˆ°dwdè¡¨ï¼Œå†å®æ—¶è®¡ç®—å¾—åˆ°æŒ‰ç»´åº¦èšåˆçš„dwsè¡¨</li>
<li>æ•°æ®å¯¼å‡ºã€å¯¹å¤–æä¾›æ¥å£æŸ¥è¯¢ï¼šè®¡ç®—ç»“æœå¯å¯¼å‡ºåˆ°å®æ—¶æ•°ä»“ï¼Œå¦‚Dorisã€Hologresç­‰ï¼Œä¹Ÿå¯ä»¥å¯¼å‡ºåˆ°mysqlã€hbaseã€æˆ–redisï¼Œå¹¶å°è£…æˆRPCæ¥å£ã€‚è¿™æ ·åç«¯æœåŠ¡å¯ä»¥æŸ¥è¯¢å®æ—¶æ•°ä»“æ¥å£ï¼Œå¯¹å¤–æä¾›é«˜qpsæŸ¥è¯¢</li>
</ul>
<h2 id="å®æ—¶æ•°ä»“ä½¿ç”¨åœºæ™¯">å®æ—¶æ•°ä»“ä½¿ç”¨åœºæ™¯</h2>
<ul>
<li>å†…éƒ¨æŠ¥è¡¨æŸ¥è¯¢</li>
<li>å¤–éƒ¨ç»Ÿè®¡ç±»æŸ¥è¯¢ï¼šå…¸å‹çš„ä¾‹å¦‚ç”¨æˆ·çœ‹åˆ°çš„ æ’è¡Œæ¦œã€å¤šå°‘äººçœ‹è¿‡/åŠ è´­/æ”¶è—/ä¹°è¿‡ ç­‰</li>
<li>ç”¨æˆ·ä¸ªæ€§åŒ–æ¨è</li>
</ul>
<p>ä»¥ä¸Šï¼Œå°±æ˜¯åç«¯ç¨‹åºå‘˜éœ€è¦äº†è§£çš„æ•°ä»“çŸ¥è¯†äº†ï¼Œæ¬¢è¿å…³æ³¨ã€è½¬å‘ã€ç‚¹èµã€‚</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.01597222222222222" data-date-updated="2025-12-22 08:49">2025-12-22 08:26</span>&nbsp;
<a href="https://www.cnblogs.com/toplist">Javaçƒ˜ç„™å¸ˆ</a>&nbsp;
é˜…è¯»(<span id="post_view_count">188</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19350289);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19350289', targetLink: 'https://www.cnblogs.com/toplist/p/19350289', title: 'æ¶æ„å¸ˆå¿…å¤‡ï¼šåç«¯ç¨‹åºå‘˜éœ€è¦äº†è§£çš„æ•°ä»“çŸ¥è¯†' })">ä¸¾æŠ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ä¼ä¸šçº§å¤šæ™ºèƒ½ä½“ç³»ç»Ÿï¼ˆMASï¼‰æ¶æ„æ·±åº¦ç ”ç©¶ï¼šC# ä¸Pythonç”Ÿæ€ç³»ç»Ÿçš„å…¨é¢å¯¹æ¯”ä¸æˆ˜ç•¥è¯„ä¼° ]]></title>
    <link>https://www.cnblogs.com/shanyou/p/19380471</link>
    <guid>875aaba4d3397217a3d3700db58a179d</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/shanyou/p/19380471" title="å‘å¸ƒäº 2025-12-22 07:28">
    <span role="heading" aria-level="2">ä¼ä¸šçº§å¤šæ™ºèƒ½ä½“ç³»ç»Ÿï¼ˆMASï¼‰æ¶æ„æ·±åº¦ç ”ç©¶ï¼šC# ä¸Pythonç”Ÿæ€ç³»ç»Ÿçš„å…¨é¢å¯¹æ¯”ä¸æˆ˜ç•¥è¯„ä¼°</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="1-æ‘˜è¦"><strong>1. æ‘˜è¦</strong></h2>
<p>éšç€ç”Ÿæˆå¼äººå·¥æ™ºèƒ½ï¼ˆGenerative AIï¼‰ä»å•ä¸€çš„å¯¹è¯å¼â€œChatbotâ€å‘å…·å¤‡è‡ªä¸»è§„åˆ’ã€å·¥å…·è°ƒç”¨å’Œé•¿æœŸè®°å¿†èƒ½åŠ›çš„â€œå¤šæ™ºèƒ½ä½“ç³»ç»Ÿâ€ï¼ˆMulti-Agent Systems, MASï¼‰æ¼”è¿›ï¼Œä¼ä¸šçº§è½¯ä»¶æ¶æ„æ­£é¢ä¸´ç€å‰æ‰€æœªæœ‰çš„èŒƒå¼è½¬ç§»ã€‚åœ¨æ­¤èƒŒæ™¯ä¸‹ï¼Œç¼–ç¨‹è¯­è¨€ä¸å¼€å‘æ¡†æ¶çš„é€‰æ‹©ä¸å†ä»…ä»…æ˜¯æŠ€æœ¯åå¥½çš„é—®é¢˜ï¼Œè€Œæ˜¯ç›´æ¥å…³ç³»åˆ°ç³»ç»Ÿç¨³å®šæ€§ã€å¯ç»´æŠ¤æ€§ã€å®‰å…¨æ€§åŠè¿è¥æˆæœ¬çš„æˆ˜ç•¥å†³ç­–ã€‚</p>
<p>æœ¬æ–‡æ—¨åœ¨å“åº”å…³äºC#ä¸Pythonåœ¨ä¼ä¸šçº§Agentåº”ç”¨å¼€å‘ä¸­é€‚ç”¨æ€§çš„æ·±åº¦å¯¹æ¯”éœ€æ±‚ã€‚æŠ¥å‘ŠåŸºäºTIOBEæ’åå‰äº”çš„ç¼–ç¨‹è¯­è¨€æ ¼å±€ï¼Œæ·±å…¥å‰–æäº†C#ç”Ÿæ€ç³»ç»Ÿä¸­çš„æ ¸å¿ƒæ¡†æ¶ï¼ˆBotSharpã€Semantic Kernelã€Microsoft Agent Frameworkï¼‰åŠå¹³å°äº§å“ï¼ˆMicrosoft AI Foundryã€æ™ºç”¨å¼€ç‰© Agent Foundryï¼‰ï¼Œå¹¶å°†å…¶ä¸Pythonç”Ÿæ€ç³»ç»Ÿä¸­çš„ä¸»æµç«å“ï¼ˆLangGraphã€CrewAIã€Difyï¼‰è¿›è¡Œå¤šç»´åº¦çš„æŠ€æœ¯ä¸å•†ä¸šå¯¹æ¯”ã€‚</p>
<p>ç ”ç©¶å‘ç°ï¼Œå°½ç®¡Pythonå‡­å€Ÿå…¶åœ¨æ¨¡å‹è®­ç»ƒå’Œæ•°æ®ç§‘å­¦é¢†åŸŸçš„å…ˆå‘ä¼˜åŠ¿å æ®äº†AIå¼€å‘çš„ä¸»æµåœ°ä½ï¼Œä½†åœ¨ä¼ä¸šçº§å¤šæ™ºèƒ½ä½“ç³»ç»Ÿçš„ç¼–æ’ï¼ˆOrchestrationï¼‰<strong>ä¸</strong>å·¥ç¨‹åŒ–è½åœ°ï¼ˆOperationalizationï¼‰é˜¶æ®µï¼ŒC# åŠå…¶èƒŒåçš„.NET ç”Ÿæ€å±•ç°å‡ºäº†æ˜¾è‘—çš„æ¶æ„ä¼˜åŠ¿ã€‚å…·ä½“è€Œè¨€ï¼š</p>
<ol>
<li><strong>å¹¶å‘ä¸æ€§èƒ½</strong>ï¼šC# çš„ä»»åŠ¡å¹¶è¡Œåº“ï¼ˆTPLï¼‰ä¸çœŸæ­£çš„å¤šçº¿ç¨‹èƒ½åŠ›ï¼Œåœ¨å¤„ç†å¤§è§„æ¨¡å¹¶å‘æ™ºèƒ½ä½“äº¤äº’æ—¶ï¼Œç›¸æ¯”å—é™äºå…¨å±€è§£é‡Šå™¨é”ï¼ˆGILï¼‰çš„ Python å…·æœ‰æ•°é‡çº§çš„ååé‡ä¼˜åŠ¿ 1ã€‚</li>
<li><strong>ç±»å‹å®‰å…¨ä¸å¯ç»´æŠ¤æ€§</strong>ï¼šå¤šæ™ºèƒ½ä½“ç³»ç»Ÿæœ¬è´¨ä¸Šæ˜¯å¤æ‚çš„åˆ†å¸ƒå¼ç³»ç»Ÿã€‚C# çš„é™æ€ç±»å‹ç³»ç»Ÿä¸ºå¤æ‚çš„Agenté—´é€šä¿¡åè®®æä¾›äº†ç¼–è¯‘æ—¶ä¿éšœï¼Œæå¤§åœ°é™ä½äº†å¤§è§„æ¨¡é‡æ„å’Œé•¿æœŸç»´æŠ¤çš„é£é™© 3ã€‚</li>
<li><strong>éƒ¨ç½²ä¸å†·å¯åŠ¨</strong>ï¼š.NET 8/9/10 å¼•å…¥çš„ Native AOTï¼ˆAhead-of-Timeï¼‰ç¼–è¯‘æŠ€æœ¯ï¼Œä½¿å¾— C# Agent å¯ä»¥è¢«ç¼–è¯‘ä¸ºæ— ä¾èµ–çš„å¾®å‹åŸç”ŸäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ˜¾è‘—è§£å†³äº† Serverless ç¯å¢ƒä¸‹çš„å†·å¯åŠ¨å»¶è¿Ÿé—®é¢˜ï¼Œè¿™å¯¹äºæˆæœ¬æ•æ„Ÿçš„ä¼ä¸šçº§åº”ç”¨è‡³å…³é‡è¦ 5ã€‚</li>
<li><strong>ç”Ÿæ€èåˆ</strong>ï¼šMicrosoft Agent Framework çš„æ¨å‡ºæ ‡å¿—ç€ C# ç”Ÿæ€çš„æˆç†Ÿï¼Œå®ƒæˆåŠŸèåˆäº† AutoGen çš„çµæ´»æ€§ä¸ Semantic Kernel çš„å·¥ç¨‹ä¸¥è°¨æ€§ã€‚åŒæ—¶ï¼Œåƒâ€œæ™ºç”¨å¼€ç‰©â€è¿™ç±»ç”±å‰å¾®è½¯ä¸“å®¶åˆ›ç«‹çš„å¹³å°ï¼ŒéªŒè¯äº†åŸºäº C# æ„å»ºè¡Œä¸šçº§ï¼ˆå¦‚åˆ¶é€ ä¸šï¼‰Agent Foundry çš„å¯è¡Œæ€§ä¸ä¼˜è¶Šæ€§ 7ã€‚</li>
</ol>
<p>æœ¬æ–‡å»ºè®®ï¼Œå¯¹äºè¿½æ±‚é«˜æ€§èƒ½ã€é«˜å®‰å…¨æ ‡å‡†ä¸”ä¸šåŠ¡é€»è¾‘å¤æ‚çš„ä¼ä¸šçº§ MAS ç³»ç»Ÿï¼ŒC# æ˜¯æ¯” Python æ›´ä¸ºç¨³å¥çš„æ¶æ„é€‰æ‹©ï¼›è€Œ Python åˆ™ç»§ç»­åœ¨å¿«é€ŸåŸå‹éªŒè¯åŠä¾èµ–ç‰¹å®šæ•°æ®ç§‘å­¦åº“çš„åœºæ™¯ä¸­ä¿æŒä¼˜åŠ¿ã€‚</p>
<h2 id="2-å®è§‚èƒŒæ™¯tiobe-æ’åå‰äº”è¯­è¨€åœ¨-ai-agent-æ—¶ä»£çš„å®šä½"><strong>2. å®è§‚èƒŒæ™¯ï¼šTIOBE æ’åå‰äº”è¯­è¨€åœ¨ AI Agent æ—¶ä»£çš„å®šä½</strong></h2>
<p>TIOBE æŒ‡æ•°åæ˜ äº†ç¼–ç¨‹è¯­è¨€çš„æµè¡Œè¶‹åŠ¿ï¼Œå½“å‰æ’åå‰äº”çš„è¯­è¨€é€šå¸¸åŒ…æ‹¬ Pythonã€Cã€C++ã€Java å’Œ C# 9ã€‚åœ¨å¤šæ™ºèƒ½ä½“ç³»ç»Ÿï¼ˆMASï¼‰çš„è¯­å¢ƒä¸‹ï¼Œè¿™äº”ç§è¯­è¨€çš„è§’è‰²å‘ç”Ÿäº†æ·±åˆ»çš„åˆ†åŒ–ã€‚</p>
<h3 id="21-pythonæ— å¯äº‰è®®çš„æ¨¡å‹è®­ç»ƒéœ¸ä¸»ä¸åŸå‹å…ˆé”‹"><strong>2.1 Pythonï¼šæ— å¯äº‰è®®çš„æ¨¡å‹è®­ç»ƒéœ¸ä¸»ä¸åŸå‹å…ˆé”‹</strong></h3>
<p>Python é•¿æœŸéœ¸æ¦œ TIOBE ç¬¬ä¸€åï¼Œå…¶ç»Ÿæ²»åœ°ä½æºäºæå…¶ä¸°å¯Œçš„ AI/ML åº“ï¼ˆPyTorch, TensorFlow, Hugging Faceï¼‰ã€‚</p>
<ul>
<li><strong>ä¼˜åŠ¿</strong>ï¼šåœ¨ Agent å¼€å‘çš„æ—©æœŸé˜¶æ®µï¼ˆPrompt Engineeringã€RAG å®éªŒï¼‰ï¼ŒPython æ‹¥æœ‰æœ€ä¸°å¯Œçš„ç”Ÿæ€æ”¯æŒï¼ˆå¦‚ LangChainï¼‰ã€‚å‡ ä¹æ‰€æœ‰æ–°çš„æ¨¡å‹å’Œè®ºæ–‡å¤ç°ä»£ç éƒ½é¦–é€‰ Pythonã€‚</li>
<li><strong>ä¼ä¸šçº§æŒ‘æˆ˜</strong>ï¼šç„¶è€Œï¼Œå½“ Agent ä»â€œå®éªŒâ€èµ°å‘â€œç”Ÿäº§â€æ—¶ï¼ŒPython çš„è§£é‡Šå‹è¯­è¨€ç‰¹æ€§ã€åŠ¨æ€ç±»å‹ç³»ç»Ÿä»¥åŠ GIL å¸¦æ¥çš„å¹¶å‘é™åˆ¶ï¼Œä½¿å…¶åœ¨æ„å»ºé«˜å¹¶å‘ã€ä½å»¶è¿Ÿçš„ Orchestration Layerï¼ˆç¼–æ’å±‚ï¼‰æ—¶é¢ä¸´æ€§èƒ½ç“¶é¢ˆå’Œç»´æŠ¤æŒ‘æˆ˜ 1ã€‚</li>
</ul>
<h3 id="22-ccåº•å±‚çš„ç®—åŠ›å¼•æ“"><strong>2.2 C/C++ï¼šåº•å±‚çš„ç®—åŠ›å¼•æ“</strong></h3>
<p>å°½ç®¡ C å’Œ C++ å¸¸å¹´ä½å±…å‰åˆ—ï¼Œä½†å®ƒä»¬åœ¨ Agent <strong>åº”ç”¨å¼€å‘</strong>å±‚é¢çš„ç›´æ¥ä½¿ç”¨æå°‘ã€‚</p>
<ul>
<li><strong>å®šä½</strong>ï¼šå®ƒä»¬æ˜¯ AI çš„â€œåŸºç¡€è®¾æ–½â€ã€‚TensorFlow çš„åº•å±‚ã€ONNX Runtime ä»¥åŠ CUDA æ ¸å¿ƒéƒ½æ˜¯ç”¨ C++ ç¼–å†™çš„ã€‚</li>
<li><strong>Agent ç›¸å…³æ€§</strong>ï¼šä¼ä¸šå¼€å‘è€…å‡ ä¹ä¸ä¼šç›´æ¥ç”¨ C++ ç¼–å†™ Agent çš„ä¸šåŠ¡é€»è¾‘ï¼ˆPrompt ç®¡ç†ã€å·¥å…·è°ƒç”¨ï¼‰ï¼Œå› ä¸ºå…¶å¼€å‘æ•ˆç‡è¾ƒä½ä¸”å†…å­˜ç®¡ç†å¤æ‚ã€‚å®ƒä»¬çš„å­˜åœ¨å½¢å¼æ˜¯å¯¹ä¸Šå±‚è¯­è¨€ï¼ˆPython/C#ï¼‰æä¾›é«˜æ€§èƒ½çš„æ¨ç†æ¥å£ 13ã€‚</li>
</ul>
<h3 id="23-javaä¼ ç»Ÿçš„ä¼ä¸šåç«¯å·¨äºº"><strong>2.3 Javaï¼šä¼ ç»Ÿçš„ä¼ä¸šåç«¯å·¨äºº</strong></h3>
<p>Java ä¾ç„¶æ˜¯å¤§å‹ä¼ä¸šï¼ˆç‰¹åˆ«æ˜¯é‡‘èã€ç”µä¿¡ï¼‰åç«¯ç³»ç»Ÿçš„ä¸»åŠ›è¯­è¨€ã€‚</p>
<ul>
<li><strong>ç°çŠ¶</strong>ï¼šJava ç¤¾åŒºæ­£åœ¨é€šè¿‡ <strong>Spring AI</strong> ç­‰é¡¹ç›®è¿½èµ¶ AI æµªæ½®ï¼Œè¯•å›¾å¤åˆ¶ LangChain å’Œ Semantic Kernel çš„èƒ½åŠ› 14ã€‚</li>
<li><strong>å±€é™</strong>ï¼šç›¸æ¯” C#ï¼ŒJava åœ¨ AI åŸç”Ÿæ”¯æŒä¸Šç¨æ˜¾æ»åã€‚å¾®è½¯ä½œä¸º OpenAI çš„ä¸»è¦åˆä½œä¼™ä¼´ï¼Œå…¶.NET å›¢é˜Ÿä¸ AI æ¨¡å‹çš„é›†æˆæ·±åº¦è¿œè¶… Java ç”Ÿæ€ã€‚Semantic Kernel çš„ C# ç‰ˆæœ¬é€šå¸¸æ¯” Java ç‰ˆæœ¬åŠŸèƒ½æ›´æ–°ã€æ›´å…¨ï¼ŒMicrosoft Agent Frameworkç›´æ¥å°±ä¸æ”¯æŒJava ã€‚</li>
</ul>
<h3 id="24-cä¼ä¸šçº§-ai-åº”ç”¨çš„ç”œèœœç‚¹"><strong>2.4 C#ï¼šä¼ä¸šçº§ AI åº”ç”¨çš„â€œç”œèœœç‚¹â€</strong></h3>
<p>C# æ˜¯ TIOBE å¹´åº¦è¯­è¨€ï¼ˆ2023ï¼‰çš„è·å¾—è€…ï¼Œå…¶åœ°ä½åœ¨ AI æ—¶ä»£å¾—åˆ°äº†é‡å¡‘ 11ã€‚</p>
<ul>
<li><strong>å®šä½</strong>ï¼šC# ä½äº Pythonï¼ˆå¼€å‘æ•ˆç‡ï¼‰å’Œ C++ï¼ˆè¿è¡Œæ•ˆç‡ï¼‰çš„ä¸­é—´åœ°å¸¦ã€‚éšç€.NET Core çš„è·¨å¹³å°åŒ–å’Œæ€§èƒ½ä¼˜åŒ–ï¼ŒC# æˆä¸ºäº†æ„å»ºâ€œé«˜æ€§èƒ½åº”ç”¨å±‚â€çš„é¦–é€‰ã€‚</li>
<li><strong>æˆ˜ç•¥ä¼˜åŠ¿</strong>ï¼šåœ¨ Agent å¼€å‘ä¸­ï¼ŒC# æä¾›äº† Python éš¾ä»¥æ¯”æ‹Ÿçš„<strong>ç±»å‹ç³»ç»Ÿ</strong>å’Œ<strong>å¹¶å‘æ¨¡å‹</strong>ï¼ŒåŒæ—¶åˆæ¯” Java æ‹¥æœ‰æ›´æ¿€è¿›çš„ AI æ¡†æ¶æ”¯æŒï¼ˆSemantic Kernel, Agent Frameworkï¼‰ã€‚å®ƒè¢«è§†ä¸ºè¿æ¥â€œAI æ¨¡å‹èƒ½åŠ›â€ä¸â€œä¼ä¸šä¸šåŠ¡é€»è¾‘â€çš„æœ€ä½³æ¡¥æ¢ 16ã€‚</li>
</ul>
<h2 id="3-c-å¤šæ™ºèƒ½ä½“ç”Ÿæ€æ·±åº¦è§£ææ¡†æ¶ä¸å¹³å°"><strong>3. C# å¤šæ™ºèƒ½ä½“ç”Ÿæ€æ·±åº¦è§£æï¼šæ¡†æ¶ä¸å¹³å°</strong></h2>
<p>å¾®è½¯åŠå…¶ç”Ÿæ€åˆä½œä¼™ä¼´æ„å»ºäº†ä¸€ä¸ªå±‚æ¬¡åˆ†æ˜ã€åŠŸèƒ½å®Œå¤‡çš„ C# Agent å¼€å‘æ ˆã€‚è¿™ä¸€ç”Ÿæ€ç³»ç»Ÿä»åº•å±‚çš„åŸå­èƒ½åŠ›åˆ°ä¸Šå±‚çš„è¡Œä¸šå¹³å°ï¼Œå‡ä½“ç°äº†æ˜¾è‘—çš„â€œä¼ä¸šçº§â€ç‰¹å¾ã€‚</p>
<h3 id="31-æ ¸å¿ƒæ¡†æ¶å±‚"><strong>3.1 æ ¸å¿ƒæ¡†æ¶å±‚</strong></h3>
<h4 id="311-microsoft-agent-frameworké›†å¤§æˆè€…"><strong>3.1.1 Microsoft Agent Frameworkï¼šé›†å¤§æˆè€…</strong></h4>
<p><strong>Microsoft Agent Framework</strong> æ˜¯å¾®è½¯åœ¨ 2024-2025 å¹´æ¨å‡ºçš„é‡ç£…äº§å“ï¼Œè¢«è§†ä¸º Semantic Kernel å’Œ AutoGen çš„â€œç»§ä»»è€…â€ä¸â€œç»Ÿä¸€ä½“â€ 17ã€‚</p>
<ul>
<li><strong>æ¶æ„èåˆ</strong>ï¼š
<ul>
<li><strong>ç»§æ‰¿ Semantic Kernel (SK)</strong>ï¼šå®ƒä¿ç•™äº† SK çš„ä¼ä¸šçº§ç‰¹æ€§ï¼Œå¦‚ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰ã€è¿‡æ»¤å™¨ï¼ˆFiltersï¼‰å’Œé¥æµ‹ï¼ˆTelemetryï¼‰ã€‚è¿™ç¡®ä¿äº† Agent å¯ä»¥æ— ç¼é›†æˆåˆ°ç°æœ‰çš„ ASP.NET Core åº”ç”¨ä¸­ï¼Œç¬¦åˆä¼ä¸š IT çš„åˆè§„è¦æ±‚ã€‚</li>
<li><strong>ç»§æ‰¿ AutoGen</strong>ï¼šå®ƒå¸æ”¶äº† AutoGen çš„å¤šæ™ºèƒ½ä½“åä½œæ¨¡å¼ï¼ˆConversation Patternsï¼‰ã€‚å¼€å‘è€…å¯ä»¥å®šä¹‰â€œç¾¤èŠâ€ï¼Œè®©å¤šä¸ª Agentï¼ˆå¦‚â€œå¼€å‘äººå‘˜â€ã€â€œæµ‹è¯•äººå‘˜â€ã€â€œäº§å“ç»ç†â€ï¼‰é€šè¿‡æ¶ˆæ¯ä¼ é€’è¿›è¡Œè‡ªä¸»åä½œï¼Œè§£å†³å¤æ‚é—®é¢˜ã€‚</li>
</ul>
</li>
<li><strong>å·¥ä½œæµï¼ˆWorkflowsï¼‰</strong>ï¼š
<ul>
<li>ä¸ Python ç”Ÿæ€ä¸­ LangGraph ç±»ä¼¼ï¼ŒAgent Framework å¼•å…¥äº†åŸºäºå›¾ï¼ˆGraph-basedï¼‰çš„å·¥ä½œæµå¼•æ“ã€‚è¿™è§£å†³äº†çº¯å¯¹è¯å¼ Agent æ‰§è¡Œè¿‡ç¨‹ä¸å¯æ§çš„é—®é¢˜ã€‚ä¼ä¸šå¯ä»¥åœ¨ä¿æŒ Agent è‡ªä¸»æ€§çš„åŒæ—¶ï¼Œå¼ºåˆ¶æ‰§è¡Œç‰¹å®šçš„ä¸šåŠ¡æµç¨‹ï¼ˆå¦‚å®¡æ‰¹æµã€åˆè§„æ£€æŸ¥ï¼‰ 17ã€‚</li>
</ul>
</li>
<li><strong>æŠ€æœ¯ç‰¹æ€§</strong>ï¼šæ”¯æŒäº‘ç«¯ä¸è¾¹ç¼˜ä¾§çš„æ··åˆéƒ¨ç½²ï¼Œä¸”æ·±åº¦é›†æˆäº† Azure AI Foundry çš„èƒ½åŠ›ã€‚</li>
</ul>
<h4 id="312-semantic-kernel-skä¸­é—´ä»¶ä¸è¿æ¥å™¨"><strong>3.1.2 Semantic Kernel (SK)ï¼šä¸­é—´ä»¶ä¸è¿æ¥å™¨</strong></h4>
<p>è™½ç„¶ Agent Framework æ˜¯æœ€æ–°çš„ç»Ÿä¸€å±‚ï¼Œä½† <strong>Semantic Kernel</strong> ä¾ç„¶æ˜¯å…¶åº•å±‚çš„æ ¸å¿ƒâ€œå†…æ ¸â€ã€‚</p>
<ul>
<li><strong>è®¾è®¡å“²å­¦</strong>ï¼šSK çš„æ ¸å¿ƒç†å¿µæ˜¯â€œå°† AI æ¨¡å‹è§†ä¸ºä¸€ç§å‡½æ•°è°ƒç”¨â€ã€‚å®ƒé€šè¿‡ <strong>Pluginsï¼ˆæ’ä»¶ï¼‰</strong> å’Œ <strong>Plannersï¼ˆè§„åˆ’å™¨ï¼‰</strong> çš„æ¦‚å¿µï¼Œå°† LLM çš„æ¨ç†èƒ½åŠ›ä¸åŸç”Ÿä»£ç ï¼ˆC# Functionsï¼‰è¿æ¥èµ·æ¥ 19ã€‚</li>
<li><strong>ä¼ä¸šçº§ç‰¹æ€§</strong>ï¼š
<ul>
<li><strong>è®°å¿†ï¼ˆMemoryï¼‰</strong>ï¼šSK æä¾›äº†å¼ºå¤§çš„å‘é‡æ•°æ®åº“æŠ½è±¡å±‚ï¼Œæ”¯æŒ Azure AI Searchã€Qdrantã€Pinecone ç­‰å¤šç§åç«¯ï¼Œä½¿ Agent å…·å¤‡é•¿æœŸè®°å¿†èƒ½åŠ›ã€‚</li>
<li><strong>åè®®é€‚é…</strong>ï¼šSK ä¸¥æ ¼éµå¾ªä¼ä¸šå¼€å‘è§„èŒƒï¼Œæ”¯æŒ OpenTelemetry æ ‡å‡†ï¼Œä½¿å¾— AI è°ƒåº¸çš„é“¾è·¯è¿½è¸ªï¼ˆTracingï¼‰å’Œç›‘æ§å˜å¾—æ ‡å‡†åŒ–ï¼Œè¿™åœ¨ Python çš„æ•£è£…åº“ä¸­å¾€å¾€éœ€è¦ç¹çé…ç½® 20ã€‚</li>
</ul>
</li>
</ul>
<h4 id="313-botsharpçº¯ç²¹çš„net-åŸç”Ÿæ–¹æ¡ˆ"><strong>3.1.3 BotSharpï¼šçº¯ç²¹çš„.NET åŸç”Ÿæ–¹æ¡ˆ</strong></h4>
<p><strong>BotSharp</strong> æ˜¯ä¸€ä¸ªå¼€æºçš„ã€ä¸“ä¸ºä¼ä¸šçº§è®¾è®¡çš„ Agent æ„å»ºå¹³å°ï¼Œå…¶æœ€å¤§çš„ç‰¹ç‚¹æ˜¯å®Œå…¨åŸºäº C# ç¼–å†™ï¼Œæ‹’ç»äº†è®¸å¤šæ¡†æ¶å¯¹ Python çš„éšå¼ä¾èµ– 3ã€‚</p>
<ul>
<li><strong>æ¶æ„ç‰¹ç‚¹</strong>ï¼š
<ul>
<li><strong>æ—  Python ä¾èµ–</strong>ï¼šè®¸å¤šæ‰€è°“çš„â€œå¤šè¯­è¨€â€æ¡†æ¶åº•å±‚å®é™…ä¸Šæ˜¯åœ¨è°ƒç”¨ Python è„šæœ¬ã€‚BotSharp åšæŒä½¿ç”¨ C# å®ç° NLP ç®—æ³•å’Œé€»è¾‘ï¼Œè¿™å¯¹äºé‚£äº›ä¸¥æ ¼é™åˆ¶ç”Ÿäº§ç¯å¢ƒè¿è¡Œæ—¶çš„ä¼ä¸šï¼ˆå¦‚ä¸å…è®¸å®‰è£… Python ç¯å¢ƒçš„é“¶è¡Œç³»ç»Ÿï¼‰æå…·å¸å¼•åŠ› 3ã€‚</li>
<li><strong>æ¨¡å—åŒ–ç®¡é“</strong>ï¼šé‡‡ç”¨ä¸¥æ ¼çš„ç»„ä»¶åŒ–è®¾è®¡ï¼Œå°† NLUï¼ˆè‡ªç„¶è¯­è¨€ç†è§£ï¼‰ã€å¯¹è¯ç®¡ç†ã€UI æ¸²æŸ“å®Œå…¨è§£è€¦ã€‚</li>
<li><strong>è·¯ç”±ä¸é’©å­ï¼ˆHooksï¼‰</strong>ï¼šæä¾›äº†å¼ºå¤§çš„ Agent Hook æœºåˆ¶ï¼Œå…è®¸å¼€å‘è€…åœ¨å¯¹è¯ç”Ÿå‘½å‘¨æœŸçš„ä»»ä½•é˜¶æ®µï¼ˆè¾“å…¥å‰ã€æ¨ç†åã€æ‰§è¡Œå‰ï¼‰æ³¨å…¥ C# ä»£ç ã€‚è¿™ç§å¼ºç±»å‹çš„é’©å­æœºåˆ¶æ¯” Python çš„è£…é¥°å™¨æ›´æ˜“äºè°ƒè¯•å’Œç»´æŠ¤ 3ã€‚</li>
</ul>
</li>
</ul>
<h3 id="32-å¹³å°äº§å“å±‚"><strong>3.2 å¹³å°äº§å“å±‚</strong></h3>
<h4 id="321-microsoft-ai-foundry-å‰-azure-ai-studio"><strong>3.2.1 Microsoft AI Foundry (å‰ Azure AI Studio)</strong></h4>
<p><strong>Microsoft AI Foundry</strong> æ˜¯å¾®è½¯æä¾›çš„ç»Ÿä¸€ AI å¹³å°ï¼Œå…¶ Agent Service æ·±åº¦é›†æˆäº†ä¸Šè¿° C# æ¡†æ¶ 7ã€‚</p>
<ul>
<li><strong>Foundry Agent Service</strong>ï¼šè¿™æ˜¯ä¸€ä¸ªå…¨æ‰˜ç®¡çš„è¿è¡Œæ—¶ç¯å¢ƒã€‚å®ƒå…è®¸å¼€å‘è€…ä½¿ç”¨ C# (Agent Framework) ç¼–å†™ Agentï¼Œç„¶åä¸€é”®éƒ¨ç½²åˆ° Azureã€‚</li>
<li><strong>ä¼ä¸šä»·å€¼</strong>ï¼šå®ƒè§£å†³äº†â€œè¿ç»´â€éš¾é¢˜ã€‚ä¼ä¸šä¸éœ€è¦è‡ªå·±ç®¡ç† Docker å®¹å™¨æˆ– Kubernetes é›†ç¾¤ï¼ŒFoundry å¤„ç†äº† Agent çš„æ‰©ç¼©å®¹ã€çŠ¶æ€æŒä¹…åŒ–å’Œèº«ä»½è®¤è¯ï¼ˆEntra IDï¼‰ 24ã€‚</li>
</ul>
<h4 id="322-æ™ºç”¨å¼€ç‰©-agent-foundry"><strong>3.2.2 æ™ºç”¨å¼€ç‰© Agent Foundry</strong></h4>
<p><strong>æ™ºç”¨å¼€ç‰©</strong> æ˜¯ä¸€ä¸ªå…¸å‹çš„åŸºäº C# æŠ€æœ¯æ ˆæ„å»ºçš„å‚ç›´è¡Œä¸šå¹³å°æ¡ˆä¾‹ã€‚</p>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šè¯¥å…¬å¸ç”±å‰å¾®è½¯é¦–å¸­æŠ€æœ¯ä¸“å®¶å›¢é˜Ÿåˆ›ç«‹ï¼Œè¿™ç§â€œå¾®è½¯ç³»â€çš„åŸºå› ä½¿å…¶å¤©ç„¶é€‰æ‹©äº†.NET æŠ€æœ¯æ ˆä½œä¸ºåº•å±‚æ¶æ„ 8ã€‚</li>
<li><strong>äº§å“å®šä½</strong>ï¼šå…¶ <strong>AI Agent Foundry</strong> å¹³å°ä¸»æ‰“â€œIntelligence as a Serviceâ€ï¼ˆæ™ºèƒ½å³æœåŠ¡ï¼‰ï¼Œä¸“æ³¨äºåˆ¶é€ ä¸šã€æ•™è‚²å’Œå…¬å…±æœåŠ¡é¢†åŸŸã€‚</li>
<li><strong>æŠ€æœ¯æ¶æ„</strong>ï¼š
<ul>
<li>åˆ©ç”¨ C# çš„é«˜æ€§èƒ½ç‰¹æ€§ï¼Œè¯¥å¹³å°èƒ½å¤Ÿæ”¯æŒå¤æ‚çš„å·¥ä¸šåœºæ™¯ï¼Œå¦‚ç”Ÿäº§æµç¨‹ç®¡ç†å’Œå®æ—¶æ•°æ®åˆ†æã€‚</li>
<li>å®ƒçš„å­˜åœ¨è¯æ˜äº† C# ä¸ä»…èƒ½åšé€šç”¨çš„ Chatbotï¼Œæ›´èƒ½èƒœä»»å¯¹ç¨³å®šæ€§è¦æ±‚æé«˜çš„å·¥ä¸šçº§ Agent ç³»ç»Ÿï¼ˆIndustry 4.0ï¼‰ 8ã€‚è¿™ä¹Ÿåé©³äº†â€œC# åªèƒ½åšä¼ä¸šå†…ç½‘åº”ç”¨â€çš„åˆ»æ¿å°è±¡ã€‚</li>
</ul>
</li>
</ul>
<h2 id="4-python-å¤šæ™ºèƒ½ä½“ç”Ÿæ€æ·±åº¦è§£æ"><strong>4. Python å¤šæ™ºèƒ½ä½“ç”Ÿæ€æ·±åº¦è§£æ</strong></h2>
<p>Python ç”Ÿæ€è™½ç„¶åœ¨æ¶æ„ä¸¥è°¨æ€§ä¸Šå¯èƒ½ä¸å¦‚ C#ï¼Œä½†å…¶åˆ›æ–°é€Ÿåº¦å’Œç¤¾åŒºæ´»è·ƒåº¦æ˜¯å…¶æœ€å¤§ä¼˜åŠ¿ã€‚</p>
<h3 id="41-langgraphå›¾è®ºä¸çŠ¶æ€æœºçš„ç»“åˆ"><strong>4.1 LangGraphï¼šå›¾è®ºä¸çŠ¶æ€æœºçš„ç»“åˆ</strong></h3>
<p><strong>LangGraph</strong> æ˜¯ LangChain å›¢é˜Ÿä¸ºäº†è§£å†³â€œæ„å»ºå¾ªç¯å’Œæœ‰çŠ¶æ€ Agentâ€è€Œæ¨å‡ºçš„æ¡†æ¶ 19ã€‚</p>
<ul>
<li><strong>æ ¸å¿ƒæœºåˆ¶</strong>ï¼šå®ƒå°† Agent çš„æ‰§è¡Œæµç¨‹å»ºæ¨¡ä¸ºä¸€ä¸ª<strong>å›¾ï¼ˆGraphï¼‰</strong>ï¼Œå…¶ä¸­èŠ‚ç‚¹ï¼ˆNodesï¼‰æ˜¯è®¡ç®—æ­¥éª¤ï¼Œè¾¹ï¼ˆEdgesï¼‰æ˜¯æ§åˆ¶æµã€‚è¿™å…è®¸åˆ›å»ºå¤æ‚çš„å¾ªç¯ï¼ˆå¦‚ï¼šç”Ÿæˆ -&gt; è¯„ä¼° -&gt; ä¿®æ­£ -&gt; ç”Ÿæˆï¼‰ã€‚</li>
<li><strong>çŠ¶æ€ç®¡ç†</strong>ï¼šLangGraph å¼•å…¥äº† <strong>Checkpointer</strong> æœºåˆ¶ï¼Œæ”¯æŒå°†è¿è¡ŒçŠ¶æ€æŒä¹…åŒ–åˆ° Postgres æˆ– SQLiteã€‚è¿™å…è®¸â€œæ—¶é—´æ—…è¡Œâ€ï¼ˆTime Travelï¼‰ï¼Œå³å›æ»šåˆ°ä¹‹å‰çš„çŠ¶æ€å¹¶åˆ†å‰æ‰§è¡Œ 28ã€‚</li>
<li><strong>å¯¹æ¯”è§†è§’</strong>ï¼šè™½ç„¶åŠŸèƒ½å¼ºå¤§ï¼Œä½† LangGraph çš„é…ç½®ä¸»è¦åŸºäº Python å­—å…¸å’ŒåŠ¨æ€å¯¹è±¡ï¼Œéšç€å›¾çš„å¤æ‚åº¦å¢åŠ ï¼Œä»£ç çš„å¯è¯»æ€§å’Œç±»å‹å®‰å…¨æ€§ä¼šè¿…é€Ÿä¸‹é™ï¼Œå¯¼è‡´â€œæ„å¤§åˆ©é¢æ¡å¼ä»£ç â€ 28ã€‚</li>
</ul>
<h3 id="42-crewaiåŸºäºè§’è‰²çš„ç¼–æ’"><strong>4.2 CrewAIï¼šåŸºäºè§’è‰²çš„ç¼–æ’</strong></h3>
<p><strong>CrewAI</strong> ä¸“æ³¨äºæ¨¡æ‹Ÿäººç±»å›¢é˜Ÿçš„åä½œæ¨¡å¼ 29ã€‚</p>
<ul>
<li><strong>æŠ½è±¡å±‚çº§</strong>ï¼šå®ƒæä¾›äº†æ¯” LangGraph æ›´é«˜å±‚çš„æŠ½è±¡ã€‚å¼€å‘è€…å®šä¹‰â€œè§’è‰²â€ï¼ˆRoleï¼‰ã€â€œç›®æ ‡â€ï¼ˆGoalï¼‰å’Œâ€œèƒŒæ™¯æ•…äº‹â€ï¼ˆBackstoryï¼‰ã€‚</li>
<li><strong>å±€é™æ€§</strong>ï¼šCrewAI éå¸¸é€‚åˆå¿«é€Ÿæ„å»º Demo æˆ–ç®€å•çš„åä½œä»»åŠ¡ï¼Œä½†åœ¨éœ€è¦ç²¾ç»†æ§åˆ¶æ‰§è¡Œé€»è¾‘ï¼ˆå¦‚å¤æ‚çš„æ¡ä»¶åˆ†æ”¯ã€å¼‚å¸¸é‡è¯•ç­–ç•¥ï¼‰çš„ä¼ä¸šçº§åœºæ™¯ä¸‹ï¼Œå…¶å°è£…è¿‡åº¦çš„ç‰¹ç‚¹åè€Œæˆä¸ºäº†é™åˆ¶ã€‚</li>
</ul>
<h3 id="43-difyå¼€æºçš„åç«¯å³æœåŠ¡-baas"><strong>4.3 Difyï¼šå¼€æºçš„åç«¯å³æœåŠ¡ (BaaS)</strong></h3>
<p><strong>Dify</strong> æ˜¯ä¸€ä¸ªæµè¡Œçš„å¼€æº LLM åº”ç”¨å¼€å‘å¹³å° 31ã€‚</p>
<ul>
<li><strong>æŠ€æœ¯æ ˆ</strong>ï¼š
<ul>
<li><strong>åç«¯</strong>ï¼šæ ¸å¿ƒé€»è¾‘ä¸»è¦ç”± <strong>Python (42%)</strong> ç¼–å†™ï¼Œåˆ©ç”¨ Flask/Django ç­‰æ¡†æ¶æä¾› API æœåŠ¡ 32ã€‚</li>
<li><strong>å‰ç«¯</strong>ï¼šä½¿ç”¨ <strong>TypeScript (51%)</strong> å’Œ Next.js æ„å»ºäº¤äº’ç•Œé¢ã€‚</li>
</ul>
</li>
<li><strong>æ¨¡å¼</strong>ï¼šDify é‡‡ç”¨â€œBackend-as-a-Serviceâ€æ¨¡å¼ã€‚ä¼ä¸šå¯ä»¥éƒ¨ç½² Dify ä½œä¸ºä¸­é—´ä»¶ï¼Œä¸šåŠ¡ç³»ç»Ÿé€šè¿‡ API è°ƒç”¨ Agent èƒ½åŠ›ã€‚</li>
<li><strong>å¯¹æ¯” C# å¹³å°</strong>ï¼šä¸ BotSharp æˆ– Microsoft Agent Framework è¿™ç§â€œä»£ç ä¼˜å…ˆâ€ï¼ˆCode-Firstï¼‰çš„æ¡†æ¶ä¸åŒï¼ŒDify æ›´å€¾å‘äºâ€œä½ä»£ç /æ— ä»£ç â€ï¼ˆLow-Code/No-Codeï¼‰ã€‚è™½ç„¶å®ƒæ–¹ä¾¿äº†éæŠ€æœ¯äººå‘˜ï¼Œä½†å¯¹äºéœ€è¦æ·±åº¦å®šåˆ¶æ ¸å¿ƒé€»è¾‘çš„å¼€å‘å›¢é˜Ÿï¼ŒPython åç«¯çš„è§£é‡Šæ‰§è¡Œæ€§è´¨é™åˆ¶äº†å…¶åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹çš„æ€§èƒ½ä¸Šé™ 32ã€‚</li>
</ul>
<h2 id="5-å†³æˆ˜ä¼ä¸šçº§c-ä¸-python-çš„å…¨ç»´åº¦ç‰¹æ€§å¯¹æ¯”ç ”ç©¶"><strong>5. å†³æˆ˜ä¼ä¸šçº§ï¼šC# ä¸ Python çš„å…¨ç»´åº¦ç‰¹æ€§å¯¹æ¯”ç ”ç©¶</strong></h2>
<p>æœ¬èŠ‚ä»ä¼ä¸šçº§åº”ç”¨æœ€å…³å¿ƒçš„äº”ä¸ªæ ¸å¿ƒç»´åº¦â€”â€”å¹¶å‘æ€§èƒ½ã€ç±»å‹å®‰å…¨ã€éƒ¨ç½²è¿ç»´ã€ç”Ÿæ€é›†æˆä¸å®‰å…¨æ€§â€”â€”å¯¹ C# å’Œ Python è¿›è¡Œè¯¦ç»†çš„â€œèƒŒé èƒŒâ€å¯¹æ¯”ã€‚</p>
<h3 id="51-å¹¶å‘æ¨¡å‹ä¸ååé‡-concurrency--throughput"><strong>5.1 å¹¶å‘æ¨¡å‹ä¸ååé‡ (Concurrency &amp; Throughput)</strong></h3>
<p>åœ¨å¤šæ™ºèƒ½ä½“ç³»ç»Ÿä¸­ï¼ŒAgent éœ€è¦åŒæ—¶å¤„ç†æˆç™¾ä¸Šåƒä¸ªç”¨æˆ·çš„è¯·æ±‚ï¼Œæ¯ä¸ªè¯·æ±‚åˆå¯èƒ½è§¦å‘å¤šä¸ªå¹¶è¡Œçš„å­ä»»åŠ¡ï¼ˆå¦‚åŒæ—¶æœç´¢ Webã€æŸ¥è¯¢æ•°æ®åº“ã€è°ƒç”¨ LLMï¼‰ã€‚</p>
<table>
<thead>
<tr>
<th style="text-align: left">ç‰¹æ€§</th>
<th style="text-align: left">C# (.NET 8/9/10)</th>
<th style="text-align: left">Python (3.12+)</th>
<th style="text-align: left">ä¼ä¸šçº§å½±å“æ·±åº¦åˆ†æ</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left"><strong>çº¿ç¨‹æ¨¡å‹</strong></td>
<td style="text-align: left"><strong>çœŸå¤šçº¿ç¨‹ (True Multithreading)</strong>ï¼šåŸºäº CLR çš„çº¿ç¨‹æ± ï¼Œé…åˆ OS çº§çº¿ç¨‹ã€‚ä»»åŠ¡å¹¶è¡Œåº“ (TPL) æä¾›äº†æå…¶é«˜æ•ˆçš„å¼‚æ­¥æŠ½è±¡ã€‚</td>
<td style="text-align: left"><strong>äº‹ä»¶å¾ªç¯ (Event Loop)</strong>ï¼šasyncio å®ç°äº†å•çº¿ç¨‹å¹¶å‘ã€‚å—é™äº <strong>GIL (å…¨å±€è§£é‡Šå™¨é”)</strong>ï¼ŒåŒä¸€æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ª CPU æ ¸å¿ƒåœ¨æ‰§è¡Œ Python å­—èŠ‚ç ã€‚</td>
<td style="text-align: left"><strong>C# èƒœå‡º</strong>ï¼šå½“ Agent éœ€è¦è¿›è¡Œæœ¬åœ°æ•°æ®å¤„ç†ï¼ˆå¦‚å¯¹æ£€ç´¢åˆ°çš„æ–‡æ¡£è¿›è¡Œæ¸…æ´—ã€æ’åºã€å‘é‡åŒ–ï¼‰æ—¶ï¼Œè¿™äº› CPU å¯†é›†å‹ä»»åŠ¡ä¼šé˜»å¡ Python çš„äº‹ä»¶å¾ªç¯ï¼Œå¯¼è‡´æ•´ä¸ªæœåŠ¡ååé‡ä¸‹é™ã€‚C# åˆ™å¯ä»¥åˆ©ç”¨å¤šæ ¸ CPU å¹¶è¡Œå¤„ç†ï¼Œå•æœºæ”¯æŒçš„å¹¶å‘ Agent æ•°é‡è¿œè¶… Python 2ã€‚</td>
</tr>
<tr>
<td style="text-align: left"><strong>å¼‚æ­¥æ€§èƒ½</strong></td>
<td style="text-align: left">async/await æ˜¯è¯­è¨€åº•å±‚å®ç°çš„æœ‰é™çŠ¶æ€æœºï¼Œå†…å­˜å¼€é”€æä½ï¼ˆStruct-based Tasksï¼‰ã€‚</td>
<td style="text-align: left">async/await åŸºäºç”Ÿæˆå™¨å¯¹è±¡ï¼Œæ¯ä¸ª Task éƒ½æ˜¯å †å¯¹è±¡ï¼Œå¤§é‡å¹¶å‘æ—¶ GC å‹åŠ›å¤§ã€‚</td>
<td style="text-align: left"><strong>C# èƒœå‡º</strong>ï¼šåœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼ˆå¦‚ 10k+ è¿æ¥ï¼‰ï¼ŒC# çš„å†…å­˜å ç”¨é€šå¸¸ä»…ä¸º Python çš„ 1/5 åˆ° 1/10 34ã€‚</td>
</tr>
</tbody>
</table>
<h3 id="52-ç±»å‹ç³»ç»Ÿä¸å·¥ç¨‹å¯ç»´æŠ¤æ€§-type-safety--maintainability"><strong>5.2 ç±»å‹ç³»ç»Ÿä¸å·¥ç¨‹å¯ç»´æŠ¤æ€§ (Type Safety &amp; Maintainability)</strong></h3>
<p>ä¼ä¸šçº§ç³»ç»Ÿé€šå¸¸æ‹¥æœ‰æ•°åä¸‡è¡Œä»£ç ï¼Œä¸”ç”Ÿå‘½å‘¨æœŸé•¿è¾¾ 5-10 å¹´ã€‚</p>
<ul>
<li><strong>Python (åŠ¨æ€ç±»å‹)</strong>ï¼š
<ul>
<li>è™½ç„¶æœ‰ Type Hints å’Œ Pydanticï¼Œä½†è¿™ä»…æ˜¯â€œå»ºè®®â€æˆ–è¿è¡Œæ—¶æ£€æŸ¥ã€‚</li>
<li><strong>é£é™©</strong>ï¼šåœ¨ Agent åä½œä¸­ï¼ŒAgent A è¾“å‡ºçš„ JSON ç»“æ„å¦‚æœå‘ç”Ÿå¾®å°å˜åŒ–ï¼ŒAgent B å¯èƒ½åœ¨è¿è¡Œæ—¶å´©æºƒã€‚è¿™ç§é”™è¯¯å¾€å¾€åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ‰è¢«å‘ç° 1ã€‚</li>
<li><strong>é‡æ„å™©æ¢¦</strong>ï¼šé‡å‘½åä¸€ä¸ªå·¥å…·å‡½æ•°çš„å‚æ•°ï¼Œéœ€è¦å…¨å±€æœç´¢æ›¿æ¢ï¼Œä¸”æ— æ³•ä¿è¯è¦†ç›–æ‰€æœ‰åŠ¨æ€è°ƒç”¨çš„åœºæ™¯ã€‚</li>
</ul>
</li>
<li><strong>C# (é™æ€å¼ºç±»å‹)</strong>ï¼š
<ul>
<li><strong>ç¼–è¯‘æ—¶ä¿éšœ</strong>ï¼šAgent ä¹‹é—´çš„æ¶ˆæ¯å¥‘çº¦ï¼ˆContractsï¼‰å®šä¹‰ä¸º C# ç±»æˆ–æ¥å£ã€‚ä»»ä½•å­—æ®µç±»å‹çš„å˜æ›´éƒ½ä¼šå¯¼è‡´ç¼–è¯‘å¤±è´¥ï¼Œè¿«ä½¿å¼€å‘è€…åœ¨éƒ¨ç½²å‰ä¿®æ­£æ‰€æœ‰é”™è¯¯ã€‚</li>
<li><strong>BotSharp çš„å®è·µ</strong>ï¼šBotSharp åˆ©ç”¨ C# çš„å¼ºç±»å‹ç‰¹æ€§ï¼Œç¡®ä¿äº†æ’ä»¶ï¼ˆPluginï¼‰ä¹‹é—´çš„æ¥å£å…¼å®¹æ€§ã€‚è¿™ä½¿å¾—ä¼ä¸šå¯ä»¥æ”¾å¿ƒåœ°å‡çº§æŸä¸ªæ¨¡å—ï¼Œè€Œä¸å¿…æ‹…å¿ƒç ´åæ•´ä¸ªç³»ç»Ÿçš„ç¨³å®šæ€§ 3ã€‚</li>
</ul>
</li>
</ul>
<h3 id="53-éƒ¨ç½²æ¶æ„ä¸å†·å¯åŠ¨-deployment--cold-starts"><strong>5.3 éƒ¨ç½²æ¶æ„ä¸å†·å¯åŠ¨ (Deployment &amp; Cold Starts)</strong></h3>
<p>è¿™æ˜¯ C# è¿‘å¹´æ¥æœ€å¤§çš„çªç ´ç‚¹ï¼Œä¹Ÿæ˜¯ Python åœ¨ Serverless æ—¶ä»£çš„é˜¿å–€ç‰æ–¯ä¹‹è¸µã€‚</p>
<ul>
<li><strong>Python çš„å›°å¢ƒ</strong>ï¼š
<ul>
<li><strong>å®¹å™¨ä½“ç§¯</strong>ï¼šä¸€ä¸ªåŒ…å« PyTorchã€Pandasã€LangChain çš„ Python Docker é•œåƒé€šå¸¸åœ¨ 500MB åˆ° 2GB ä¹‹é—´ 35ã€‚</li>
<li><strong>å†·å¯åŠ¨</strong>ï¼šåœ¨ Azure Functions æˆ– AWS Lambda ä¸Šï¼ŒPython è¿è¡Œæ—¶çš„åˆå§‹åŒ–ã€ä¾èµ–åŒ…çš„åŠ è½½ï¼ˆImportï¼‰éå¸¸è€—æ—¶ï¼Œå†·å¯åŠ¨å»¶è¿Ÿé€šå¸¸åœ¨ 3-5 ç§’ç”šè‡³æ›´é•¿ 37ã€‚è¿™å¯¹äºéœ€è¦å³æ—¶å“åº”çš„ Agent æ¥è¯´æ˜¯ä¸å¯æ¥å—çš„ã€‚</li>
</ul>
</li>
<li><strong>C# çš„ Native AOT é©å‘½</strong>ï¼š
<ul>
<li><strong>æŠ€æœ¯åŸç†</strong>ï¼š.NET 8 å¼•å…¥äº† Native AOTï¼Œå¯ä»¥å°† C# ä»£ç ç›´æ¥ç¼–è¯‘ä¸ºæœºå™¨ç ï¼ˆNative Codeï¼‰ï¼Œå‰¥ç¦»äº† JIT ç¼–è¯‘å™¨ï¼Œå¹¶è£å‰ªæ‰æœªä½¿ç”¨çš„åº“ä»£ç  5ã€‚</li>
<li><strong>ç»“æœ</strong>ï¼šä¸€ä¸ªåŠŸèƒ½å®Œå¤‡çš„ C# Agent å®¹å™¨é•œåƒå¯ä»¥å°è‡³ <strong>10MB-20MB</strong>ã€‚å†·å¯åŠ¨æ—¶é—´é™ä½åˆ° <strong>æ¯«ç§’çº§</strong>ï¼ˆ&lt;500msï¼‰ã€‚</li>
<li><strong>ç»æµè´¦</strong>ï¼šå¯¹äºæŒ‰è°ƒç”¨æ¬¡æ•°å’Œå†…å­˜æ—¶é—´è®¡è´¹çš„ Serverless å¹³å°ï¼ŒC# Agent çš„è¿è¡Œæˆæœ¬å¯èƒ½ä»…ä¸º Python Agent çš„ 1/10 6ã€‚</li>
</ul>
</li>
</ul>
<h3 id="54-å®‰å…¨æ€§ä¸èº«ä»½æ²»ç†-security--governance"><strong>5.4 å®‰å…¨æ€§ä¸èº«ä»½æ²»ç† (Security &amp; Governance)</strong></h3>
<p>ä¼ä¸šçº§ Agent ç»ä¸èƒ½æ˜¯ä¸€ä¸ªâ€œé»‘ç›’â€ï¼Œå®ƒå¿…é¡»éµå¾ªä¼ä¸šçš„æƒé™ç®¡æ§ä½“ç³»ã€‚</p>
<ul>
<li><strong>èº«ä»½ä¼ é€’ (Identity Propagation)</strong>ï¼š
<ul>
<li>åœ¨ Microsoft AI Foundry å’Œ Semantic Kernel ä¸­ï¼ŒC# èƒ½å¤Ÿåˆ©ç”¨ ASP.NET Core å¼ºå¤§çš„ä¸­é—´ä»¶ç®¡é“ï¼Œè‡ªåŠ¨æ•è·å½“å‰ç”¨æˆ·çš„ <strong>Entra ID (Azure AD)</strong> ä»¤ç‰Œï¼Œå¹¶å°†å…¶ä¼ é€’ç»™åç«¯æ•°æ®æºï¼ˆOn-Behalf-Of Flowï¼‰ã€‚è¿™æ„å‘³ç€ Agent è®¿é—® SharePoint æˆ– SQL æ•°æ®åº“æ—¶ï¼Œæ˜¯ä»¥â€œå½“å‰ç”¨æˆ·â€çš„èº«ä»½è¿›è¡Œçš„ï¼Œå¤©ç„¶ç»§æ‰¿äº†æ‰€æœ‰çš„æƒé™é…ç½® 40ã€‚</li>
</ul>
</li>
<li><strong>Python çš„å·®è·</strong>ï¼šè™½ç„¶ Python ä¹Ÿå¯ä»¥å®ç°ç±»ä¼¼é€»è¾‘ï¼Œä½†é€šå¸¸éœ€è¦æ‰‹åŠ¨å¤„ç† OAuth ä»¤ç‰Œæµï¼Œä¸”ç¼ºä¹ç»Ÿä¸€çš„æ ‡å‡†åº“æ”¯æŒï¼Œå®¹æ˜“å‡ºç°å®‰å…¨æ¼æ´ã€‚LangChain ç­‰æ¡†æ¶æ›´å¤šå…³æ³¨æ¨¡å‹äº¤äº’ï¼Œè€Œåœ¨ä¼ä¸šèº«ä»½é›†æˆæ–¹é¢å¾€å¾€æ˜¯â€œç•™ç™½â€ï¼Œéœ€è¦å¼€å‘è€…è‡ªè¡Œå¡«è¡¥ 42ã€‚</li>
</ul>
<h3 id="55-æ•°æ®æŒä¹…åŒ–ä¸çŠ¶æ€ä¸€è‡´æ€§-persistence"><strong>5.5 æ•°æ®æŒä¹…åŒ–ä¸çŠ¶æ€ä¸€è‡´æ€§ (Persistence)</strong></h3>
<ul>
<li><strong>Python (LangGraph)</strong>ï¼šä¾èµ– Pickle æˆ– JSON åºåˆ—åŒ–æ¥ä¿å­˜çŠ¶æ€ã€‚Pickle å­˜åœ¨ä¸¥é‡çš„å®‰å…¨é£é™©ï¼ˆååºåˆ—åŒ–æ¼æ´ï¼‰ï¼Œè€Œ JSON éš¾ä»¥å¤„ç†å¤æ‚çš„å¯¹è±¡å¼•ç”¨å›¾ã€‚åœ¨ç³»ç»Ÿå‡çº§åï¼Œæ—§ç‰ˆæœ¬çš„çŠ¶æ€æ–‡ä»¶å¾€å¾€æ— æ³•åŠ è½½ 28ã€‚</li>
<li><strong>C# (Microsoft Agent Framework)</strong>ï¼šåˆ©ç”¨äº†.NET å¼ºå¤§çš„åºåˆ—åŒ–æœºåˆ¶ï¼ˆSystem.Text.Json æˆ– Protobufï¼‰ä»¥åŠ <strong>Microsoft Orleans</strong> çš„è™šæ‹Ÿ Actor æ¨¡å¼ã€‚çŠ¶æ€ä¸ä»…å¯ä»¥æŒä¹…åŒ–åˆ° SQL Server/CosmosDBï¼Œè¿˜æ”¯æŒäº‹åŠ¡æ€§æ“ä½œï¼Œç¡®ä¿åœ¨ Agent æ‰§è¡Œå¤±è´¥æ—¶æ•°æ®çš„ä¸€è‡´æ€§ã€‚è¿™å¯¹äºæ¶‰åŠèµ„é‡‘äº¤æ˜“æˆ–å…³é”®ä¸šåŠ¡æµç¨‹çš„ Agent è‡³å…³é‡è¦ 44ã€‚</li>
</ul>
<h2 id="6-æ¡ˆä¾‹ç ”ç©¶æ™ºç”¨å¼€ç‰©ä¸å¾®è½¯-ai-foundry-çš„å¯ç¤º"><strong>6. æ¡ˆä¾‹ç ”ç©¶ï¼šæ™ºç”¨å¼€ç‰©ä¸å¾®è½¯ AI Foundry çš„å¯ç¤º</strong></h2>
<h3 id="61-æ™ºç”¨å¼€ç‰©-agent-foundryè¡Œä¸šå‚ç›´é¢†åŸŸçš„-c-å®è·µ"><strong>6.1 æ™ºç”¨å¼€ç‰© (Agent Foundry)ï¼šè¡Œä¸šå‚ç›´é¢†åŸŸçš„ C# å®è·µ</strong></h3>
<p>æ™ºç”¨å¼€ç‰©çš„æˆåŠŸé€šè¿‡å…¶å®è·µè¯æ˜äº† C# åœ¨ç‰¹å®šå‚ç›´é¢†åŸŸçš„ä¼˜åŠ¿ã€‚åˆ¶é€ ä¸šåœºæ™¯é€šå¸¸è¦æ±‚ï¼š</p>
<ul>
<li><strong>ä½å»¶è¿Ÿ</strong>ï¼šå®æ—¶å“åº”ç”Ÿäº§çº¿ä¼ æ„Ÿå™¨æ•°æ®ã€‚</li>
<li><strong>é«˜ç¨³å®šæ€§</strong>ï¼š7x24 å°æ—¶è¿è¡Œï¼Œä¸èƒ½å› ä¸ºå†…å­˜æ³„æ¼ï¼ˆPythonå¸¸è§é—®é¢˜ï¼‰è€Œå®•æœºã€‚</li>
<li><strong>åè®®é›†æˆ</strong>ï¼šéœ€è¦å¯¹æ¥ PLCã€SCADA ç­‰å·¥ä¸šåè®®ï¼ŒC# åœ¨å·¥æ§é¢†åŸŸæœ‰ç€æ·±åšçš„ç§¯ç´¯ï¼ˆ.NET IoT åº“ï¼‰ã€‚</li>
<li><strong>ç»“è®º</strong>ï¼šæ™ºç”¨å¼€ç‰©é€‰æ‹© C# æ„å»º Agent Foundryï¼Œæ­£æ˜¯çœ‹ä¸­äº†å…¶åœ¨â€œè½¯ç¡¬ç»“åˆâ€ä¸â€œé«˜å¯é æ€§â€æ–¹é¢çš„ä¸å¯æ›¿ä»£æ€§ 7ã€‚</li>
</ul>
<h3 id="62-microsoft-ai-foundryå¹³å°åŒ–çš„ä¿¡ä»»"><strong>6.2 Microsoft AI Foundryï¼šå¹³å°åŒ–çš„ä¿¡ä»»</strong></h3>
<p>å¾®è½¯å°†æ•´ä¸ª AI å¹³å°å»ºç«‹åœ¨.NET ä¹‹ä¸Šï¼Œå‘ä¼ä¸šå®¢æˆ·ä¼ é€’äº†ä¸€ä¸ªä¿¡å·ï¼š<strong>Agent ä¸ä»…ä»…æ˜¯ç©å…·ï¼Œè€Œæ˜¯ä¼ä¸šèµ„äº§</strong>ã€‚é€šè¿‡ AI Foundryï¼Œä¼ä¸šå¯ä»¥è·å¾—ï¼š</p>
<ul>
<li><strong>SLA ä¿éšœ</strong>ï¼šåŸºäº C# æ„å»ºçš„åº•å±‚æœåŠ¡æä¾›äº†ç¡®å®šçš„æœåŠ¡ç­‰çº§åè®®ã€‚</li>
<li><strong>åˆè§„æ€§</strong>ï¼šå†…ç½®çš„æ•°æ®é©»ç•™ï¼ˆData Residencyï¼‰å’Œéšç§åˆè§„æ£€æŸ¥ï¼Œè¿™äº›éƒ½æ˜¯ Python å¼€æºç¤¾åŒºå¾€å¾€å¿½è§†ä½†ä¼ä¸šå¿…é¡»å…·å¤‡çš„ç‰¹æ€§ 24ã€‚</li>
</ul>
<h2 id="_"></h2>
<h2 id="7-æˆ˜ç•¥ç»“è®ºä¸å»ºè®®"><strong>7. æˆ˜ç•¥ç»“è®ºä¸å»ºè®®</strong></h2>
<p>ç»¼åˆ TIOBE æ’åè¶‹åŠ¿ã€æŠ€æœ¯æ¶æ„ç‰¹æ€§ä»¥åŠç°æœ‰å¹³å°äº§å“æ¡ˆä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºä»¥ä¸‹ç»“è®ºï¼š</p>
<h3 id="71-c-æ˜¯å¦æ›´é€‚åˆä¼ä¸šçº§-agent-å¼€å‘"><strong>7.1 C# æ˜¯å¦æ›´é€‚åˆä¼ä¸šçº§ Agent å¼€å‘ï¼Ÿ</strong></h3>
<p><strong>æ˜¯çš„ï¼Œä½†æœ‰å‰æã€‚</strong></p>
<ul>
<li><strong>å¯¹äºâ€œç³»ç»Ÿå·¥ç¨‹â€è€Œè¨€ï¼ŒC# å…·æœ‰å‹å€’æ€§ä¼˜åŠ¿</strong>ã€‚å¦‚æœä½ çš„ Agent éœ€è¦é›†æˆå¤æ‚çš„ä¼ä¸š ERPã€éœ€è¦å¤„ç†é«˜å¹¶å‘ç”¨æˆ·è¯·æ±‚ã€éœ€è¦æä½çš„å†·å¯åŠ¨æˆæœ¬ã€æˆ–è€…éœ€è¦ç¬¦åˆä¸¥æ ¼çš„å®‰å…¨å®¡è®¡æ ‡å‡†ï¼ŒC#ï¼ˆé…åˆ Microsoft Agent Framework / Semantic Kernelï¼‰æ˜¯ç›®å‰å¸‚åœºä¸Šæœ€æˆç†Ÿã€æœ€ç¨³å¥çš„é€‰æ‹©ã€‚</li>
<li><strong>å¯¹äºâ€œç®—æ³•ç ”ç©¶â€è€Œè¨€ï¼ŒPython ä¾ç„¶ä¸å¯æ›¿ä»£</strong>ã€‚å¦‚æœä½ çš„å›¢é˜Ÿä¸»è¦ç”±æ•°æ®ç§‘å­¦å®¶ç»„æˆï¼Œä¸” Agent çš„æ ¸å¿ƒåœ¨äºæ¢ç´¢æ–°çš„ Prompt ç­–ç•¥æˆ–å¾®è°ƒå°æ¨¡å‹ï¼Œé‚£ä¹ˆ Python çš„çµæ´»æ€§æ›´æœ‰ä»·å€¼ã€‚</li>
</ul>
<h3 id="72-æ¨èæ¶æ„æ¨¡å¼c-æ ¸å¿ƒ--python-ä¾§è½¦-sidecar"><strong>7.2 æ¨èæ¶æ„æ¨¡å¼ï¼šC# æ ¸å¿ƒ + Python ä¾§è½¦ (Sidecar)</strong></h3>
<p>æœªæ¥çš„ä¼ä¸šçº§ MAS ç³»ç»Ÿä¸åº”æ˜¯å•è¯­è¨€çš„ï¼Œè€Œåº”æ˜¯<strong>æ··åˆæ¶æ„</strong>ï¼š</p>
<ol>
<li><strong>å¤§è„‘ä¸éª¨æ¶ï¼ˆC#ï¼‰</strong>ï¼šä½¿ç”¨ <strong>Microsoft Agent Framework</strong> æ„å»º Orchestration Layerã€‚è´Ÿè´£çŠ¶æ€ç®¡ç†ã€èº«ä»½è®¤è¯ã€è·¯ç”±åˆ†å‘ã€å®‰å…¨è¿‡æ»¤ã€‚åˆ©ç”¨ C# çš„é«˜å¹¶å‘å’Œç±»å‹å®‰å…¨ç¡®ä¿ç³»ç»Ÿâ€œä¸æ­»â€ã€‚</li>
<li><strong>æ‰‹ä¸çœ¼ï¼ˆPythonï¼‰</strong>ï¼šåˆ©ç”¨ <strong>MCP (Model Context Protocol)</strong> æˆ–å¾®æœåŠ¡æ¨¡å¼ï¼Œå°† Python å°è£…ä¸ºâ€œå·¥å…·æœåŠ¡â€ã€‚å½“ Agent éœ€è¦è¿›è¡Œå¤æ‚çš„æ•°æ®åˆ†æï¼ˆPandasï¼‰æˆ–è°ƒç”¨ç‰¹å®šçš„ ML æ¨¡å‹æ—¶ï¼ŒC# ä¸»è„‘è°ƒåº¦ Python æœåŠ¡æ‰§è¡Œï¼Œå¹¶è·å–ç»“æœ 46ã€‚</li>
</ol>
<h3 id="73-æœ€ç»ˆå»ºè®®"><strong>7.3 æœ€ç»ˆå»ºè®®</strong></h3>
<p>å¯¹äºæ­£åœ¨è¿›è¡ŒæŠ€æœ¯é€‰å‹çš„ä¼ä¸š CTO æˆ–æ¶æ„å¸ˆï¼š</p>
<ul>
<li>å¦‚æœä½ çš„ä¼ä¸šå·²ç»æ˜¯ <strong>Microsoft /.NET æŠ€æœ¯æ ˆ</strong>çš„ç”¨æˆ·ï¼Œåˆ‡å‹¿ä¸ºäº†è·Ÿé£è€Œå…¨é¢è½¬å‘ Pythonã€‚åˆ©ç”¨ <strong>Microsoft Agent Framework</strong> å’Œ <strong>BotSharp</strong>ï¼Œä½ å¯ä»¥åœ¨ä¸æ”¹å˜ç°æœ‰æŠ€æœ¯ç§¯ç´¯çš„æƒ…å†µä¸‹ï¼Œæ„å»ºå‡ºæ¯”çº¯ Python ç«å“æ€§èƒ½æ›´ä¼˜ã€æ›´å®‰å…¨çš„ Agent ç³»ç»Ÿã€‚</li>
<li>å…³æ³¨ <strong>Native AOT</strong> æŠ€æœ¯ï¼Œå®ƒæ˜¯ C# åœ¨ AI æ—¶ä»£ç›¸å¯¹äº Java å’Œ Python çš„æ ¸å¿ƒæ€æ‰‹é”ï¼Œèƒ½å¤Ÿæ˜¾è‘—é™ä½äº‘èµ„æºæˆæœ¬ã€‚</li>
<li>å‚è€ƒ <strong>æ™ºç”¨å¼€ç‰©</strong> çš„æ¨¡å¼ï¼Œå°† Agent è§†ä¸ºä¸€ç§â€œå·¥ä¸šçº§æœåŠ¡â€è€Œéç®€å•çš„â€œèŠå¤©æœºå™¨äººâ€ï¼Œæ³¨é‡ç³»ç»Ÿçš„é²æ£’æ€§å’Œè¡Œä¸šåè®®çš„å…¼å®¹æ€§ã€‚</li>
</ul>
<p>C# å·²ä¸å†æ˜¯é‚£ä¸ªåªèƒ½å†™ Windows çª—ä½“ç¨‹åºçš„è¯­è¨€ï¼Œåœ¨ Microsoft Agent Framework çš„åŠ æŒä¸‹ï¼Œå®ƒæ­£æˆä¸ºä¼ä¸šçº§å¤šæ™ºèƒ½ä½“ç³»ç»Ÿçš„<strong>é¦–é€‰åŸºçŸ³</strong>ã€‚</p>
<h4 id="å¼•ç”¨çš„æ–‡ç« "><strong>å¼•ç”¨çš„æ–‡ç« </strong></h4>
<ol>
<li>Python vs C#: The Battle of Titans | Shakuro, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://shakuro.com/blog/python-vs-c-sharp" target="_blank" rel="noopener nofollow">https://shakuro.com/blog/python-vs-c-sharp</a></li>
<li>.NET is Faster Than Pythonâ€”and Better Overall! - YouTube, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://www.youtube.com/watch?v=nLK1XGt6t7A" target="_blank" rel="noopener nofollow">https://www.youtube.com/watch?v=nLK1XGt6t7A</a></li>
<li>The Open Source LLM Application Framework â€” BotSharp 1.1.0 documentation, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://botsharp.readthedocs.io/" target="_blank" rel="noopener nofollow">https://botsharp.readthedocs.io/</a></li>
<li>How effective is AI at writing C# as compared to Python : r/csharp - Reddit, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://www.reddit.com/r/csharp/comments/1j6zgmb/how_effective_is_ai_at_writing_c_as_compared_to/" target="_blank" rel="noopener nofollow">https://www.reddit.com/r/csharp/comments/1j6zgmb/how_effective_is_ai_at_writing_c_as_compared_to/</a></li>
<li>Native AOT deployment overview - .NET | Microsoft Learn, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://learn.microsoft.com/en-us/dotnet/core/deploying/native-aot/" target="_blank" rel="noopener nofollow">https://learn.microsoft.com/en-us/dotnet/core/deploying/native-aot/</a></li>
<li>ASP.NET Core support for Native AOT - Microsoft Learn, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://learn.microsoft.com/en-us/aspnet/core/fundamentals/native-aot?view=aspnetcore-10.0" target="_blank" rel="noopener nofollow">https://learn.microsoft.com/en-us/aspnet/core/fundamentals/native-aot?view=aspnetcore-10.0</a></li>
<li>Microsoft Foundry: Scale innovation on a modular, interoperable, and secure agent stack, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://azure.microsoft.com/en-us/blog/microsoft-foundry-scale-innovation-on-a-modular-interoperable-and-secure-agent-stack/" target="_blank" rel="noopener nofollow">https://azure.microsoft.com/en-us/blog/microsoft-foundry-scale-innovation-on-a-modular-interoperable-and-secure-agent-stack/</a></li>
<li>Embodied intelligence, financing is crazy-Electronics Headlines-EEWORLD, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://en.eeworld.com.cn/mp/JQR/a397766.jspx" target="_blank" rel="noopener nofollow">https://en.eeworld.com.cn/mp/JQR/a397766.jspx</a></li>
<li>Top Programming Languages to Learn in 2025: What the Data Says - Lemon.io, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://lemon.io/blog/most-popular-programming-languages/" target="_blank" rel="noopener nofollow">https://lemon.io/blog/most-popular-programming-languages/</a></li>
<li>TIOBE Index for December 2025: Top 10 Most Popular Programming Languages, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://www.techrepublic.com/article/news-tiobe-index-language-rankings/" target="_blank" rel="noopener nofollow">https://www.techrepublic.com/article/news-tiobe-index-language-rankings/</a></li>
<li>TIOBE Index - TIOBE Software, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://www.tiobe.com/tiobe-index/" target="_blank" rel="noopener nofollow">https://www.tiobe.com/tiobe-index/</a></li>
<li>Comparing python Fast API with .NET webServer | by Sriram Alagappa - Medium, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://medium.com/@sriram.alv/comparing-python-fast-api-with-net-webserver-76ee06760836" target="_blank" rel="noopener nofollow">https://medium.com/@sriram.alv/comparing-python-fast-api-with-net-webserver-76ee06760836</a></li>
<li>Top 8 Emerging Programming Languages to Watch in 2025 - Semaphore CI, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://semaphore.io/blog/programming-languages-2025" target="_blank" rel="noopener nofollow">https://semaphore.io/blog/programming-languages-2025</a></li>
<li>Spring AI, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://spring.io/projects/spring-ai/" target="_blank" rel="noopener nofollow">https://spring.io/projects/spring-ai/</a></li>
<li>Spring AI vs Langchain4j - which to use as of July 2024 : r/java - Reddit, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://www.reddit.com/r/java/comments/1efospd/spring_ai_vs_langchain4j_which_to_use_as_of_july/" target="_blank" rel="noopener nofollow">https://www.reddit.com/r/java/comments/1efospd/spring_ai_vs_langchain4j_which_to_use_as_of_july/</a></li>
<li>Host a LLM Powered Chatbot in .NET | by Haiping Chen - Medium, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://haiping008.medium.com/host-a-llm-powered-chatbot-in-net-c6d68b28b8f1" target="_blank" rel="noopener nofollow">https://haiping008.medium.com/host-a-llm-powered-chatbot-in-net-c6d68b28b8f1</a></li>
<li>Introduction to Microsoft Agent Framework, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://learn.microsoft.com/en-us/agent-framework/overview/agent-framework-overview" target="_blank" rel="noopener nofollow">https://learn.microsoft.com/en-us/agent-framework/overview/agent-framework-overview</a></li>
<li>Microsoft Agent Framework: The Next Evolution Beyond Semantic Kernel and AutoGen, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://medium.com/@howtodoml/microsoft-agent-framework-the-next-evolution-beyond-semantic-kernel-and-autogen-2919e9345b29" target="_blank" rel="noopener nofollow">https://medium.com/@howtodoml/microsoft-agent-framework-the-next-evolution-beyond-semantic-kernel-and-autogen-2919e9345b29</a></li>
<li>Semantic Kernel vs LangChain in 2025: Startup vs Enterprise Fit - Kanerika, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://kanerika.com/blogs/semantic-kernel-vs-langchain/" target="_blank" rel="noopener nofollow">https://kanerika.com/blogs/semantic-kernel-vs-langchain/</a></li>
<li>What's coming next? Summer / Fall roadmap for Semantic Kernel - Microsoft Dev Blogs, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://devblogs.microsoft.com/semantic-kernel/whats-coming-next-summer-fall-roadmap-for-semantic-kernel/" target="_blank" rel="noopener nofollow">https://devblogs.microsoft.com/semantic-kernel/whats-coming-next-summer-fall-roadmap-for-semantic-kernel/</a></li>
<li>Just tried out Semantic Kernel in .NET : r/LocalLLaMA - Reddit, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://www.reddit.com/r/LocalLLaMA/comments/1ghaz6q/just_tried_out_semantic_kernel_in_net/" target="_blank" rel="noopener nofollow">https://www.reddit.com/r/LocalLLaMA/comments/1ghaz6q/just_tried_out_semantic_kernel_in_net/</a></li>
<li>Installation â€” BotSharp 1.1.0 documentation - Read the Docs, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://botsharp.readthedocs.io/en/latest/quick-start/installation.html" target="_blank" rel="noopener nofollow">https://botsharp.readthedocs.io/en/latest/quick-start/installation.html</a></li>
<li>SciSharp/BotSharp: AI Multi-Agent Framework in .NET - GitHub, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://github.com/SciSharp/BotSharp" target="_blank" rel="noopener nofollow">https://github.com/SciSharp/BotSharp</a></li>
<li>What Is Foundry Agent Service? - Microsoft Learn, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://learn.microsoft.com/en-us/azure/ai-foundry/agents/overview?view=foundry-classic" target="_blank" rel="noopener nofollow">https://learn.microsoft.com/en-us/azure/ai-foundry/agents/overview?view=foundry-classic</a></li>
<li>Azure-Samples/get-started-with-ai-agents: Basic sample for deploying AI agents web app with Azure AI Foundry and SDKs - GitHub, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://github.com/Azure-Samples/get-started-with-ai-agents" target="_blank" rel="noopener nofollow">https://github.com/Azure-Samples/get-started-with-ai-agents</a></li>
<li>Embodied intelligence, financing is crazy-Electronics Headlines, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://en.eeworld.com.cn/mp/EEWorld/a397951.jspx" target="_blank" rel="noopener nofollow">https://en.eeworld.com.cn/mp/EEWorld/a397951.jspx</a></li>
<li>We Tried and Tested 8 Best Semantic Kernel Alternatives to Build AI Agents - ZenML Blog, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://www.zenml.io/blog/semantic-kernel-alternatives" target="_blank" rel="noopener nofollow">https://www.zenml.io/blog/semantic-kernel-alternatives</a></li>
<li>LangGraph vs Semantic Kernel Comparison 2025 - Leanware, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://www.leanware.co/insights/langgraph-vs-semantic-kernel" target="_blank" rel="noopener nofollow">https://www.leanware.co/insights/langgraph-vs-semantic-kernel</a></li>
<li>Battle of AI Agent Frameworks: CrewAI vs LangGraph vs AutoGen | by Vikas Kumar Singh, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://medium.com/@vikaskumarsingh_60821/battle-of-ai-agent-frameworks-langgraph-vs-autogen-vs-crewai-3c7bf5c18979" target="_blank" rel="noopener nofollow">https://medium.com/@vikaskumarsingh_60821/battle-of-ai-agent-frameworks-langgraph-vs-autogen-vs-crewai-3c7bf5c18979</a></li>
<li>Mastering Agents: LangGraph Vs Autogen Vs Crew AI - Galileo AI, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://galileo.ai/blog/mastering-agents-langgraph-vs-autogen-vs-crew" target="_blank" rel="noopener nofollow">https://galileo.ai/blog/mastering-agents-langgraph-vs-autogen-vs-crew</a></li>
<li>Dify: Leading Agentic Workflow Builder, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://dify.ai/" target="_blank" rel="noopener nofollow">https://dify.ai/</a></li>
<li>langgenius/dify: Production-ready platform for agentic ... - GitHub, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://github.com/langgenius/dify" target="_blank" rel="noopener nofollow">https://github.com/langgenius/dify</a></li>
<li>Dify Rolls Out New Architecture, Enhancing Flexibility and Scalability - Dify Blog, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://dify.ai/blog/dify-rolls-out-new-architecture" target="_blank" rel="noopener nofollow">https://dify.ai/blog/dify-rolls-out-new-architecture</a></li>
<li>How Much Memory Do You Need to Run 1 Million Concurrent Tasks? | Piotr KoÅ‚aczkowski, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://pkolaczk.github.io/memory-consumption-of-async/" target="_blank" rel="noopener nofollow">https://pkolaczk.github.io/memory-consumption-of-async/</a></li>
<li>Docker minimal image sizes for different programming languages - Reddit, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://www.reddit.com/r/docker/comments/1iuwotd/docker_minimal_image_sizes_for_different/" target="_blank" rel="noopener nofollow">https://www.reddit.com/r/docker/comments/1iuwotd/docker_minimal_image_sizes_for_different/</a></li>
<li>Why is the python docker image so big (~750 MB)? - Stack Overflow, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://stackoverflow.com/questions/31060871/why-is-the-python-docker-image-so-big-750-mb" target="_blank" rel="noopener nofollow">https://stackoverflow.com/questions/31060871/why-is-the-python-docker-image-so-big-750-mb</a></li>
<li>Azure Function benchmark as of November 2025 | by LoÃ¯c Labeye - Medium, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://medium.com/@loic.labeye/azure-function-benchmark-as-of-november-2025-ff9f1801ed28" target="_blank" rel="noopener nofollow">https://medium.com/@loic.labeye/azure-function-benchmark-as-of-november-2025-ff9f1801ed28</a></li>
<li>Compile .NET Lambda function code to a native runtime format - AWS Documentation, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://docs.aws.amazon.com/lambda/latest/dg/dotnet-native-aot.html" target="_blank" rel="noopener nofollow">https://docs.aws.amazon.com/lambda/latest/dg/dotnet-native-aot.html</a></li>
<li>Minimizing python docker images - Rodney Osodo - Medium, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://rodneyosodo.medium.com/minimizing-python-docker-images-cf99f4468d39" target="_blank" rel="noopener nofollow">https://rodneyosodo.medium.com/minimizing-python-docker-images-cf99f4468d39</a></li>
<li>Agent Factory: Creating a blueprint for safe and secure AI agents | Microsoft Azure Blog, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://azure.microsoft.com/en-us/blog/agent-factory-creating-a-blueprint-for-safe-and-secure-ai-agents/" target="_blank" rel="noopener nofollow">https://azure.microsoft.com/en-us/blog/agent-factory-creating-a-blueprint-for-safe-and-secure-ai-agents/</a></li>
<li>What's new in Microsoft Foundry | October and November 2025, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://devblogs.microsoft.com/foundry/whats-new-in-microsoft-foundry-oct-nov-2025/" target="_blank" rel="noopener nofollow">https://devblogs.microsoft.com/foundry/whats-new-in-microsoft-foundry-oct-nov-2025/</a></li>
<li>Overview of Microsoft Agent 365, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://learn.microsoft.com/en-us/microsoft-agent-365/overview" target="_blank" rel="noopener nofollow">https://learn.microsoft.com/en-us/microsoft-agent-365/overview</a></li>
<li>Microsoft Agent Framework Workflows - Checkpoints, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://learn.microsoft.com/en-us/agent-framework/user-guide/workflows/checkpoints" target="_blank" rel="noopener nofollow">https://learn.microsoft.com/en-us/agent-framework/user-guide/workflows/checkpoints</a></li>
<li>Checkpointing and Resuming Workflows - Microsoft Learn, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://learn.microsoft.com/en-us/agent-framework/tutorials/workflows/checkpointing-and-resuming" target="_blank" rel="noopener nofollow">https://learn.microsoft.com/en-us/agent-framework/tutorials/workflows/checkpointing-and-resuming</a></li>
<li>Microsoft Foundry documentation, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://learn.microsoft.com/en-us/azure/ai-foundry/?view=foundry-classic" target="_blank" rel="noopener nofollow">https://learn.microsoft.com/en-us/azure/ai-foundry/?view=foundry-classic</a></li>
<li>AutoGen to Microsoft Agent Framework Migration Guide, è®¿é—®æ—¶é—´ä¸º åäºŒæœˆ 22, 2025ï¼Œ <a href="https://learn.microsoft.com/en-us/agent-framework/migration-guide/from-autogen/" target="_blank" rel="noopener nofollow">https://learn.microsoft.com/en-us/agent-framework/migration-guide/from-autogen/</a></li>
</ol>

</div>
<div id="MySignature" role="contentinfo">
    <p>æ¬¢è¿å¤§å®¶æ‰«æä¸‹é¢äºŒç»´ç æˆä¸ºæˆ‘çš„å®¢æˆ·ï¼Œæ‰¶ä½ ä¸Šäº‘</p>
<img src="https://images.cnblogs.com/cnblogs_com/shanyou/57459/o_220125090408_%E9%82%80%E8%AF%B7%E4%BA%8C%E7%BB%B4%E7%A0%81-258px.jpeg" width="170">
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.06736111111111111" data-date-updated="2025-12-22 09:05">2025-12-22 07:28</span>&nbsp;
<a href="https://www.cnblogs.com/shanyou">å¼ å–„å‹</a>&nbsp;
é˜…è¯»(<span id="post_view_count">205</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19380471);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19380471', targetLink: 'https://www.cnblogs.com/shanyou/p/19380471', title: 'ä¼ä¸šçº§å¤šæ™ºèƒ½ä½“ç³»ç»Ÿï¼ˆMASï¼‰æ¶æ„æ·±åº¦ç ”ç©¶ï¼šC# ä¸Pythonç”Ÿæ€ç³»ç»Ÿçš„å…¨é¢å¯¹æ¯”ä¸æˆ˜ç•¥è¯„ä¼°' })">ä¸¾æŠ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ã€é¢è¯•é¢˜ã€‘æ•°æ®åº“äº‹åŠ¡éš”ç¦»ä¸ä¼ æ’­å±æ€§æ˜¯ä»€ä¹ˆï¼Ÿ ]]></title>
    <link>https://www.cnblogs.com/sun-10387834/p/19369929</link>
    <guid>c3f51cb6150af5b3a5611220271ec816</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/sun-10387834/p/19369929" title="å‘å¸ƒäº 2025-12-21 23:10">
    <span role="heading" aria-level="2">ã€é¢è¯•é¢˜ã€‘æ•°æ®åº“äº‹åŠ¡éš”ç¦»ä¸ä¼ æ’­å±æ€§æ˜¯ä»€ä¹ˆï¼Ÿ</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="æ•°æ®åº“äº‹åŠ¡éš”ç¦»ä¸mvccæ·±åº¦å‰–æ">æ•°æ®åº“äº‹åŠ¡éš”ç¦»ä¸MVCCæ·±åº¦å‰–æ</h1>
<h2 id="ä¸€äº‹åŠ¡éš”ç¦»é—®é¢˜è¯¦è§£">ä¸€ã€äº‹åŠ¡éš”ç¦»é—®é¢˜è¯¦è§£</h2>
<h3 id="1-è„è¯»dirty-read">1. è„è¯»ï¼ˆDirty Readï¼‰</h3>
<p><strong>å®šä¹‰</strong>ï¼šä¸€ä¸ªäº‹åŠ¡è¯»å–äº†å¦ä¸€ä¸ª<strong>æœªæäº¤äº‹åŠ¡</strong>ä¿®æ”¹çš„æ•°æ®ã€‚</p>
<p><strong>æ ¸å¿ƒé—®é¢˜</strong>ï¼šè¯»åˆ°äº†"ä¸´æ—¶"çš„ã€å¯èƒ½è¢«å›æ»šçš„æ•°æ®ï¼Œç ´åäº†æ•°æ®ä¸€è‡´æ€§ã€‚</p>
<p><strong>åœºæ™¯ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="language-sql">-- äº‹åŠ¡Aï¼ˆè½¬è´¦æ“ä½œï¼Œä½†æœªæäº¤ï¼‰
BEGIN;
UPDATE accounts SET balance = balance - 100 WHERE id = 1;  -- ä½™é¢ä»1000æ”¹ä¸º900

-- äº‹åŠ¡Bï¼ˆè¯»å–æ•°æ®ï¼‰
BEGIN;
SELECT balance FROM accounts WHERE id = 1;  -- è¯»åˆ°900ï¼ˆè„æ•°æ®ï¼‰
-- æ­¤æ—¶é¡µé¢æ˜¾ç¤ºç”¨æˆ·ä½™é¢ä¸º900

-- äº‹åŠ¡Aå› å¼‚å¸¸å›æ»š
ROLLBACK;
-- å®é™…ä½™é¢ä»ä¸º1000ï¼Œä½†äº‹åŠ¡Bä»¥ä¸ºä½™é¢æ˜¯900
</code></pre>
<p><strong>å±å®³</strong>ï¼š</p>
<ul>
<li>ä¸šåŠ¡å†³ç­–åŸºäºé”™è¯¯æ•°æ®</li>
<li>å¯èƒ½å¯¼è‡´"å¹½çµæ•°æ®"é—®é¢˜</li>
<li>è´¢åŠ¡ç³»ç»Ÿç­‰å¯¹ä¸€è‡´æ€§è¦æ±‚é«˜çš„åœºæ™¯ç»å¯¹ä¸èƒ½æ¥å—</li>
</ul>
<h3 id="2-ä¸å¯é‡å¤è¯»non-repeatable-read">2. ä¸å¯é‡å¤è¯»ï¼ˆNon-repeatable Readï¼‰</h3>
<p><strong>å®šä¹‰</strong>ï¼šåŒä¸€äº‹åŠ¡å†…ï¼Œå¤šæ¬¡è¯»å–åŒä¸€æ•°æ®è¡Œï¼Œç»“æœä¸ä¸€è‡´ï¼ˆè¢«å…¶ä»–å·²æäº¤äº‹åŠ¡ä¿®æ”¹ï¼‰ã€‚</p>
<p><strong>æ ¸å¿ƒé—®é¢˜</strong>ï¼šäº‹åŠ¡å†…çš„<strong>è¯»ä¸€è‡´æ€§</strong>è¢«ç ´åã€‚</p>
<p><strong>åœºæ™¯ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="language-sql">-- äº‹åŠ¡Aï¼ˆç»Ÿè®¡æŠ¥è¡¨äº‹åŠ¡ï¼‰
BEGIN;
-- ç¬¬ä¸€æ¬¡è¯»å–
SELECT balance FROM accounts WHERE id = 1;  -- è¿”å›1000

-- äº‹åŠ¡Bï¼ˆæ›´æ–°æ“ä½œå¹¶æäº¤ï¼‰
BEGIN;
UPDATE accounts SET balance = 900 WHERE id = 1;
COMMIT;

-- äº‹åŠ¡Aç»§ç»­
-- ç¬¬äºŒæ¬¡è¯»å–ï¼ˆåŒä¸€äº‹åŠ¡å†…ï¼‰
SELECT balance FROM accounts WHERE id = 1;  -- è¿”å›900
-- äº‹åŠ¡AåŒä¸€æ•°æ®è¡Œè¯»å–ç»“æœä¸ä¸€è‡´ï¼Œå½±å“æŠ¥è¡¨å‡†ç¡®æ€§
COMMIT;
</code></pre>
<p><strong>ä¸è„è¯»çš„åŒºåˆ«</strong>ï¼š</p>
<ul>
<li>è„è¯»ï¼šè¯»å–<strong>æœªæäº¤</strong>çš„æ•°æ®</li>
<li>ä¸å¯é‡å¤è¯»ï¼šè¯»å–<strong>å·²æäº¤</strong>çš„æ•°æ®ï¼Œä½†åŒä¸€äº‹åŠ¡å†…å‰åä¸ä¸€è‡´</li>
</ul>
<h3 id="3-å¹»è¯»phantom-read">3. å¹»è¯»ï¼ˆPhantom Readï¼‰</h3>
<p><strong>å®šä¹‰</strong>ï¼šåŒä¸€äº‹åŠ¡å†…ï¼Œå¤šæ¬¡æ‰§è¡Œç›¸åŒæŸ¥è¯¢ï¼Œè¿”å›çš„<strong>è¡Œæ•°</strong>ä¸åŒï¼ˆè¢«å…¶ä»–å·²æäº¤äº‹åŠ¡æ’å…¥/åˆ é™¤ï¼‰ã€‚</p>
<p><strong>æ ¸å¿ƒé—®é¢˜</strong>ï¼šå½±å“<strong>èŒƒå›´æŸ¥è¯¢</strong>çš„ä¸€è‡´æ€§ã€‚</p>
<p><strong>åœºæ™¯ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="language-sql">-- äº‹åŠ¡Aï¼ˆç»Ÿè®¡éƒ¨é—¨äººæ•°ï¼‰
BEGIN;
SELECT COUNT(*) FROM employees WHERE dept_id = 1;  -- è¿”å›5äºº

-- äº‹åŠ¡Bï¼ˆæ–°å¢å‘˜å·¥å¹¶æäº¤ï¼‰
BEGIN;
INSERT INTO employees(name, dept_id) VALUES('æ–°å‘˜å·¥', 1);
COMMIT;

-- äº‹åŠ¡Aå†æ¬¡ç»Ÿè®¡
SELECT COUNT(*) FROM employees WHERE dept_id = 1;  -- è¿”å›6äºº
-- å¥½åƒå‡ºç°äº†"å¹»å½±è¡Œ"ï¼Œç»Ÿè®¡ç»“æœä¸ä¸€è‡´
COMMIT;
</code></pre>
<p><strong>ä¸å¯é‡å¤è¯» vs å¹»è¯»</strong>ï¼š</p>
<ul>
<li>ä¸å¯é‡å¤è¯»ï¼šé’ˆå¯¹<strong>å·²å­˜åœ¨è¡Œ</strong>çš„<strong>å€¼</strong>å˜åŒ–</li>
<li>å¹»è¯»ï¼šé’ˆå¯¹<strong>ç»“æœé›†</strong>çš„<strong>è¡Œæ•°</strong>å˜åŒ–ï¼ˆæ–°å¢æˆ–åˆ é™¤è¡Œï¼‰</li>
</ul>
<h2 id="äºŒäº‹åŠ¡éš”ç¦»çº§åˆ«è¯¦è§£">äºŒã€äº‹åŠ¡éš”ç¦»çº§åˆ«è¯¦è§£</h2>
<h3 id="sqlæ ‡å‡†å®šä¹‰çš„å››ä¸ªçº§åˆ«ä»å®½æ¾åˆ°ä¸¥æ ¼">SQLæ ‡å‡†å®šä¹‰çš„å››ä¸ªçº§åˆ«ï¼ˆä»å®½æ¾åˆ°ä¸¥æ ¼ï¼‰ï¼š</h3>
<table>
<thead>
<tr>
<th>éš”ç¦»çº§åˆ«</th>
<th>è„è¯»</th>
<th>ä¸å¯é‡å¤è¯»</th>
<th>å¹»è¯»</th>
<th>å®ç°æœºåˆ¶</th>
<th>æ€§èƒ½</th>
<th>é€‚ç”¨åœºæ™¯</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>READ UNCOMMITTED</strong></td>
<td>âŒ å¯èƒ½</td>
<td>âŒ å¯èƒ½</td>
<td>âŒ å¯èƒ½</td>
<td>æ— é”/ç›´æ¥è¯»</td>
<td>æœ€é«˜</td>
<td>æ•°æ®ä»“åº“åˆ†æã€ä¸å…³å¿ƒä¸€è‡´æ€§çš„ç»Ÿè®¡</td>
</tr>
<tr>
<td><strong>READ COMMITTED</strong></td>
<td>âœ… é¿å…</td>
<td>âŒ å¯èƒ½</td>
<td>âŒ å¯èƒ½</td>
<td>MVCC+è¡Œé”</td>
<td>é«˜</td>
<td>Oracleé»˜è®¤ï¼ŒWebåº”ç”¨å¸¸ç”¨</td>
</tr>
<tr>
<td><strong>REPEATABLE READ</strong></td>
<td>âœ… é¿å…</td>
<td>âœ… é¿å…</td>
<td>âŒ å¯èƒ½*</td>
<td>MVCC+è¡Œé”+é—´éš™é”</td>
<td>ä¸­</td>
<td>MySQLé»˜è®¤ï¼Œéœ€è¦è¯»ä¸€è‡´æ€§</td>
</tr>
<tr>
<td><strong>SERIALIZABLE</strong></td>
<td>âœ… é¿å…</td>
<td>âœ… é¿å…</td>
<td>âœ… é¿å…</td>
<td>ä¸¥æ ¼é”/åºåˆ—åŒ–</td>
<td>æœ€ä½</td>
<td>é‡‘èäº¤æ˜“ã€ç¥¨åŠ¡ç³»ç»Ÿ</td>
</tr>
</tbody>
</table>
<p>*æ³¨ï¼šMySQLçš„REPEATABLE READé€šè¿‡Next-Key Lockingè§£å†³äº†å¤§éƒ¨åˆ†å¹»è¯»é—®é¢˜</p>
<h3 id="å„æ•°æ®åº“é»˜è®¤çº§åˆ«">å„æ•°æ®åº“é»˜è®¤çº§åˆ«ï¼š</h3>
<pre><code class="language-sql">-- MySQL (é»˜è®¤: REPEATABLE READ)
SELECT @@transaction_isolation;  -- REPEATABLE-READ

-- PostgreSQL (é»˜è®¤: READ COMMITTED)
SHOW transaction_isolation;  -- read committed

-- Oracle (é»˜è®¤: READ COMMITTED)
-- SQL Server (é»˜è®¤: READ COMMITTED)
</code></pre>
<h3 id="è®¾ç½®éš”ç¦»çº§åˆ«ç¤ºä¾‹">è®¾ç½®éš”ç¦»çº§åˆ«ç¤ºä¾‹ï¼š</h3>
<pre><code class="language-sql">-- ä¼šè¯çº§åˆ«è®¾ç½®
SET SESSION TRANSACTION ISOLATION LEVEL READ COMMITTED;

-- å…¨å±€è®¾ç½®
SET GLOBAL TRANSACTION ISLOLATION LEVEL REPEATABLE READ;

-- åœ¨äº‹åŠ¡å¼€å§‹æ—¶æŒ‡å®š
START TRANSACTION WITH CONSISTENT SNAPSHOT;
</code></pre>
<h2 id="ä¸‰mvccå¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶æ·±åº¦å‰–æ">ä¸‰ã€MVCCï¼ˆå¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼‰æ·±åº¦å‰–æ</h2>
<h3 id="ä»€ä¹ˆæ˜¯mvcc">ä»€ä¹ˆæ˜¯MVCCï¼Ÿ</h3>
<p>MVCCï¼ˆMulti-Version Concurrency Controlï¼‰æ˜¯ä¸€ç§<strong>æ— é”å¹¶å‘æ§åˆ¶</strong>æŠ€æœ¯ï¼Œé€šè¿‡ä¿å­˜æ•°æ®çš„å¤šä¸ªç‰ˆæœ¬æ¥å®ç°è¯»å†™å¹¶å‘ï¼Œé¿å…è¯»å†™å†²çªã€‚</p>
<h3 id="mvccæ ¸å¿ƒåŸç†">MVCCæ ¸å¿ƒåŸç†</h3>
<h4 id="1-ç‰ˆæœ¬é“¾æœºåˆ¶">1. ç‰ˆæœ¬é“¾æœºåˆ¶</h4>
<pre><code class="language-sql">-- æ¯è¡Œæ•°æ®éšè—çš„ç³»ç»Ÿå­—æ®µï¼š
-- DB_TRX_ID: åˆ›å»º/æœ€åä¸€æ¬¡ä¿®æ”¹è¯¥è¡Œçš„äº‹åŠ¡ID
-- DB_ROLL_PTR: å›æ»šæŒ‡é’ˆï¼ŒæŒ‡å‘undo logä¸­çš„æ—§ç‰ˆæœ¬
-- DB_ROW_ID: éšè—çš„è‡ªå¢IDï¼ˆå¦‚æœè¡¨æ²¡æœ‰ä¸»é”®ï¼‰
</code></pre>
<p><strong>ç‰ˆæœ¬é“¾ç¤ºä¾‹</strong>ï¼š</p>
<pre><code>å½“å‰è¡Œ â†’ ç‰ˆæœ¬1 (äº‹åŠ¡10ä¿®æ”¹) â†’ ç‰ˆæœ¬2 (äº‹åŠ¡20ä¿®æ”¹) â†’ ç‰ˆæœ¬3 (äº‹åŠ¡30ä¿®æ”¹)
        â†‘                   â†‘                   â†‘
    å›æ»šæŒ‡é’ˆ             å›æ»šæŒ‡é’ˆ             å›æ»šæŒ‡é’ˆ
</code></pre>
<h4 id="2-readviewæœºåˆ¶">2. ReadViewæœºåˆ¶</h4>
<p>æ¯ä¸ªäº‹åŠ¡å¼€å§‹æ—¶æˆ–æ‰§è¡ŒæŸ¥è¯¢æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªReadViewï¼ŒåŒ…å«ï¼š</p>
<ul>
<li><code>trx_list</code>: å½“å‰æ´»è·ƒäº‹åŠ¡IDåˆ—è¡¨</li>
<li><code>up_limit_id</code>: æ´»è·ƒäº‹åŠ¡ä¸­æœ€å°ID</li>
<li><code>low_limit_id</code>: ä¸‹ä¸€ä¸ªå°†è¦åˆ†é…çš„äº‹åŠ¡ID</li>
<li><code>creator_trx_id</code>: åˆ›å»ºè¯¥ReadViewçš„äº‹åŠ¡ID</li>
</ul>
<h4 id="3-å¯è§æ€§åˆ¤æ–­è§„åˆ™">3. å¯è§æ€§åˆ¤æ–­è§„åˆ™</h4>
<p>å¯¹äºç‰ˆæœ¬é“¾ä¸­çš„æ¯ä¸ªç‰ˆæœ¬ï¼š</p>
<ol>
<li>å¦‚æœ <code>DB_TRX_ID &lt; up_limit_id</code>ï¼Œè¯´æ˜åœ¨ReadViewåˆ›å»ºå‰å·²æäº¤ â†’ <strong>å¯è§</strong></li>
<li>å¦‚æœ <code>DB_TRX_ID &gt;= low_limit_id</code>ï¼Œè¯´æ˜åœ¨ReadViewåˆ›å»ºåæ‰å¼€å§‹ â†’ <strong>ä¸å¯è§</strong></li>
<li>å¦‚æœ <code>up_limit_id â‰¤ DB_TRX_ID &lt; low_limit_id</code>ï¼š
<ul>
<li>å¦‚æœ <code>DB_TRX_ID</code> åœ¨ <code>trx_list</code> ä¸­ï¼Œè¯´æ˜æœªæäº¤ â†’ <strong>ä¸å¯è§</strong></li>
<li>å¦åˆ™å·²æäº¤ â†’ <strong>å¯è§</strong></li>
</ul>
</li>
</ol>
<h3 id="mvccåœ¨ä¸åŒéš”ç¦»çº§åˆ«çš„è¡¨ç°">MVCCåœ¨ä¸åŒéš”ç¦»çº§åˆ«çš„è¡¨ç°</h3>
<h4 id="1-read-committedè¯»å·²æäº¤">1. READ COMMITTEDï¼ˆè¯»å·²æäº¤ï¼‰</h4>
<pre><code class="language-sql">-- æ¯æ¬¡æŸ¥è¯¢éƒ½ç”Ÿæˆæ–°çš„ReadView
-- åªèƒ½çœ‹åˆ°å·²æäº¤çš„æ•°æ®
äº‹åŠ¡A: SELECT * FROM users;  -- ç”ŸæˆReadView1
äº‹åŠ¡B: INSERT INTO users ... COMMIT;  -- å·²æäº¤
äº‹åŠ¡A: SELECT * FROM users;  -- ç”ŸæˆReadView2ï¼Œèƒ½çœ‹åˆ°Bçš„ä¿®æ”¹
</code></pre>
<p><strong>å®ç°æœºåˆ¶</strong>ï¼šæ¯æ¬¡SELECTéƒ½é‡æ–°ç”ŸæˆReadView</p>
<h4 id="2-repeatable-readå¯é‡å¤è¯»">2. REPEATABLE READï¼ˆå¯é‡å¤è¯»ï¼‰</h4>
<pre><code class="language-sql">-- äº‹åŠ¡ç¬¬ä¸€æ¬¡æŸ¥è¯¢æ—¶ç”ŸæˆReadViewï¼Œåç»­å¤ç”¨
-- ä¿è¯åŒä¸€äº‹åŠ¡å†…çœ‹åˆ°çš„æ•°æ®ä¸€è‡´
äº‹åŠ¡A: BEGIN;
äº‹åŠ¡A: SELECT * FROM users;  -- ç”ŸæˆReadViewï¼ˆäº‹åŠ¡å¼€å§‹æ—¶ï¼‰
äº‹åŠ¡B: INSERT INTO users ... COMMIT;
äº‹åŠ¡A: SELECT * FROM users;  -- ä½¿ç”¨åŒä¸€ä¸ªReadViewï¼Œçœ‹ä¸åˆ°Bçš„æ’å…¥
</code></pre>
<p><strong>å®ç°æœºåˆ¶</strong>ï¼šäº‹åŠ¡å¼€å§‹æ—¶ç”ŸæˆReadViewå¹¶å¤ç”¨</p>
<h3 id="mvccçš„undo-logå®ç°">MVCCçš„Undo Logå®ç°</h3>
<pre><code class="language-sql">-- æ›´æ–°æ“ä½œç¤ºä¾‹
UPDATE users SET name = 'Bob' WHERE id = 1;

-- MVCCæ‰§è¡Œæµç¨‹ï¼š
1. å°†å½“å‰è¡Œæ‹·è´åˆ°Undo Logï¼ˆä¿å­˜æ—§ç‰ˆæœ¬ï¼‰
2. ä¿®æ”¹å½“å‰è¡Œï¼Œæ›´æ–°DB_TRX_IDä¸ºå½“å‰äº‹åŠ¡ID
3. è®¾ç½®DB_ROLL_PTRæŒ‡å‘Undo Logä¸­çš„æ—§ç‰ˆæœ¬

-- è¯»æ“ä½œï¼š
é€šè¿‡ç‰ˆæœ¬é“¾å’ŒReadViewæ‰¾åˆ°åˆé€‚çš„å¯è§ç‰ˆæœ¬
</code></pre>
<h3 id="mvccçš„ä¼˜ç¼ºç‚¹">MVCCçš„ä¼˜ç¼ºç‚¹</h3>
<h4 id="ä¼˜ç‚¹">ä¼˜ç‚¹ï¼š</h4>
<ol>
<li><strong>è¯»å†™ä¸é˜»å¡</strong>ï¼šè¯»æ“ä½œä¸ä¼šé˜»å¡å†™æ“ä½œï¼Œå†™æ“ä½œä¸ä¼šé˜»å¡è¯»æ“ä½œ</li>
<li><strong>é«˜å¹¶å‘</strong>ï¼šé¿å…é”ç«äº‰ï¼Œæå‡å¹¶å‘æ€§èƒ½</li>
<li><strong>å›æ»šé«˜æ•ˆ</strong>ï¼šé€šè¿‡ç‰ˆæœ¬é“¾å¿«é€Ÿå›æ»š</li>
</ol>
<h4 id="ç¼ºç‚¹">ç¼ºç‚¹ï¼š</h4>
<ol>
<li><strong>å­˜å‚¨å¼€é”€</strong>ï¼šéœ€è¦å­˜å‚¨å¤šä¸ªç‰ˆæœ¬çš„æ•°æ®</li>
<li><strong>æ¸…ç†æœºåˆ¶</strong>ï¼šéœ€è¦å®šæœŸæ¸…ç†è¿‡æœŸç‰ˆæœ¬ï¼ˆpurgeæ“ä½œï¼‰</li>
<li><strong>å†™å†²çª</strong>ï¼šå†™æ“ä½œä¹‹é—´ä»å¯èƒ½å†²çª</li>
</ol>
<h3 id="mvccä¸é”çš„é…åˆ">MVCCä¸é”çš„é…åˆ</h3>
<pre><code class="language-sql">-- å®é™…æ˜¯MVCC+é”çš„æ··åˆæœºåˆ¶
SELECT * FROM users WHERE id = 1;  -- MVCCï¼Œæ— é”å¿«ç…§è¯»
SELECT * FROM users WHERE id = 1 FOR UPDATE;  -- å½“å‰è¯»ï¼ŒåŠ é”
UPDATE users SET name = '...' WHERE id = 1;  -- å½“å‰è¯»ï¼ŒåŠ é”
</code></pre>
<h2 id="å››springäº‹åŠ¡ä¼ æ’­å±æ€§è¯¦è§£">å››ã€Springäº‹åŠ¡ä¼ æ’­å±æ€§è¯¦è§£</h2>
<h3 id="ä¼ æ’­å±æ€§æ˜¯ä»€ä¹ˆ">ä¼ æ’­å±æ€§æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p><strong>äº‹åŠ¡ä¼ æ’­å±æ€§</strong>å®šä¹‰äº†<strong>å¤šä¸ªäº‹åŠ¡æ–¹æ³•ç›¸äº’è°ƒç”¨æ—¶</strong>ï¼Œäº‹åŠ¡åº”è¯¥å¦‚ä½•ä¼ æ’­ã€‚å®ƒè§£å†³çš„æ˜¯"äº‹åŠ¡è¾¹ç•Œ"é—®é¢˜â€”â€”å½“ä¸€ä¸ªäº‹åŠ¡æ–¹æ³•è°ƒç”¨å¦ä¸€ä¸ªäº‹åŠ¡æ–¹æ³•æ—¶ï¼Œè¿™ä¸¤ä¸ªäº‹åŠ¡åº”è¯¥å¦‚ä½•äº’åŠ¨ã€‚</p>
<h3 id="7ç§ä¼ æ’­è¡Œä¸ºæ·±åº¦è§£æ">7ç§ä¼ æ’­è¡Œä¸ºæ·±åº¦è§£æ</h3>
<h4 id="1-requiredé»˜è®¤---éœ€è¦äº‹åŠ¡">1. REQUIREDï¼ˆé»˜è®¤ï¼‰ - éœ€è¦äº‹åŠ¡</h4>
<p><strong>è¡Œä¸º</strong>ï¼šå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åŠ å…¥è¯¥äº‹åŠ¡ï¼›å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™æ–°å»ºä¸€ä¸ªäº‹åŠ¡ã€‚</p>
<p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šå¤§å¤šæ•°ä¸šåŠ¡æ–¹æ³•ï¼Œç¡®ä¿æ“ä½œåœ¨äº‹åŠ¡ä¸­æ‰§è¡Œã€‚</p>
<pre><code class="language-java">@Service
public class OrderService {
    @Transactional(propagation = Propagation.REQUIRED)
    public void placeOrder(Order order) {
        // å¦‚æœè°ƒç”¨æ–¹æœ‰äº‹åŠ¡ï¼ŒåŠ å…¥ï¼›å¦åˆ™æ–°å»ºäº‹åŠ¡
        orderDao.save(order);
        inventoryService.deductStock(order);  // ä¹Ÿä¼šåœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­
    }
}
</code></pre>
<h4 id="2-requires_new---æ–°å»ºäº‹åŠ¡">2. REQUIRES_NEW - æ–°å»ºäº‹åŠ¡</h4>
<p><strong>è¡Œä¸º</strong>ï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„äº‹åŠ¡ï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æŒ‚èµ·å½“å‰äº‹åŠ¡ã€‚</p>
<p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šæ—¥å¿—è®°å½•ã€å®¡è®¡æ“ä½œç­‰ï¼Œéœ€è¦ç‹¬ç«‹æäº¤ï¼Œä¸å—ä¸»äº‹åŠ¡å½±å“ã€‚</p>
<pre><code class="language-java">@Service
public class AuditService {
    @Transactional(propagation = Propagation.REQUIRES_NEW)
    public void logOperation(String action) {
        // ç‹¬ç«‹äº‹åŠ¡ï¼Œå³ä½¿ä¸»äº‹åŠ¡å›æ»šï¼Œæ—¥å¿—ä»ç„¶ä¿ç•™
        auditDao.save(new AuditLog(action));
    }
}

// è°ƒç”¨ç¤ºä¾‹
@Transactional
public void businessMethod() {
    try {
        // ä¸šåŠ¡æ“ä½œ
        orderService.process();
    } catch (Exception e) {
        // å³ä½¿ä¸šåŠ¡å›æ»šï¼Œå®¡è®¡æ—¥å¿—ä»ç„¶æäº¤
        auditService.logOperation("ä¸šåŠ¡å¼‚å¸¸: " + e.getMessage());
        throw e;
    }
}
</code></pre>
<h4 id="3-nested---åµŒå¥—äº‹åŠ¡">3. NESTED - åµŒå¥—äº‹åŠ¡</h4>
<p><strong>è¡Œä¸º</strong>ï¼šå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åœ¨åµŒå¥—äº‹åŠ¡å†…æ‰§è¡Œï¼›å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™æ–°å»ºäº‹åŠ¡ã€‚</p>
<p><strong>å…³é”®ç‰¹æ€§</strong>ï¼šä½¿ç”¨<strong>ä¿å­˜ç‚¹ï¼ˆSavepointï¼‰</strong> æœºåˆ¶ï¼Œå¯ä»¥éƒ¨åˆ†å›æ»šã€‚</p>
<pre><code class="language-java">@Service
public class ComplexService {
    @Transactional(propagation = Propagation.NESTED)
    public void updateUserProfile(User user, Profile profile) {
        userDao.update(user);
        profileDao.update(profile);
        // å¦‚æœå¤±è´¥ï¼Œåªå›æ»šè¿™ä¸ªæ–¹æ³•ï¼Œä¸å½±å“å¤–éƒ¨äº‹åŠ¡
    }
}

// å¤–å±‚äº‹åŠ¡
@Transactional
public void completeUserRegistration(User user) {
    userService.register(user);           // ä¸»äº‹åŠ¡çš„ä¸€éƒ¨åˆ†
    complexService.updateUserProfile(...); // åµŒå¥—äº‹åŠ¡ï¼Œå¯ç‹¬ç«‹å›æ»š
    notificationService.sendWelcome(user); // ä¸»äº‹åŠ¡çš„ä¸€éƒ¨åˆ†
}
</code></pre>
<h4 id="4-supports---æ”¯æŒäº‹åŠ¡">4. SUPPORTS - æ”¯æŒäº‹åŠ¡</h4>
<p><strong>è¡Œä¸º</strong>ï¼šå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åŠ å…¥è¯¥äº‹åŠ¡ï¼›å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™ä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œã€‚</p>
<p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šæŸ¥è¯¢æ–¹æ³•ï¼Œå¯ä»¥æ¥å—äº‹åŠ¡ä½†ä¸å¼ºæ±‚ã€‚</p>
<pre><code class="language-java">@Service
public class QueryService {
    @Transactional(propagation = Propagation.SUPPORTS)
    public User getUserById(Long id) {
        // æœ‰äº‹åŠ¡å°±åŠ å…¥ï¼Œæ²¡æœ‰ä¹Ÿæ— å¦¨
        return userDao.findById(id);
    }
}
</code></pre>
<h4 id="5-not_supported---ä¸æ”¯æŒäº‹åŠ¡">5. NOT_SUPPORTED - ä¸æ”¯æŒäº‹åŠ¡</h4>
<p><strong>è¡Œä¸º</strong>ï¼šä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æŒ‚èµ·è¯¥äº‹åŠ¡ã€‚</p>
<p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šä¸éœ€è¦äº‹åŠ¡æ”¯æŒçš„æ“ä½œï¼Œå¦‚å¤æ‚è®¡ç®—ã€è°ƒç”¨å¤–éƒ¨APIã€‚</p>
<pre><code class="language-java">@Service
public class ReportService {
    @Transactional(propagation = Propagation.NOT_SUPPORTED)
    public Report generateMonthlyReport() {
        // å¤æ‚ç»Ÿè®¡è®¡ç®—ï¼Œä¸éœ€è¦äº‹åŠ¡
        // ä¹Ÿä¸ä¼šå—å¤–éƒ¨äº‹åŠ¡å½±å“
        return reportDao.complexQuery();
    }
}
</code></pre>
<h4 id="6-never---ç»ä¸ä½¿ç”¨äº‹åŠ¡">6. NEVER - ç»ä¸ä½¿ç”¨äº‹åŠ¡</h4>
<p><strong>è¡Œä¸º</strong>ï¼šä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚</p>
<p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šç¡®ä¿æ–¹æ³•ä¸åœ¨äº‹åŠ¡ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œã€‚</p>
<pre><code class="language-java">@Service
public class UtilityService {
    @Transactional(propagation = Propagation.NEVER)
    public void clearCache() {
        // ç¼“å­˜æ¸…ç†ï¼Œç»å¯¹ä¸èƒ½æœ‰äº‹åŠ¡
        // å¦‚æœè°ƒç”¨æ–¹æœ‰äº‹åŠ¡ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸
        cacheManager.clearAll();
    }
}
</code></pre>
<h4 id="7-mandatory---å¼ºåˆ¶å­˜åœ¨äº‹åŠ¡">7. MANDATORY - å¼ºåˆ¶å­˜åœ¨äº‹åŠ¡</h4>
<p><strong>è¡Œä¸º</strong>ï¼šå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åŠ å…¥è¯¥äº‹åŠ¡ï¼›å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚</p>
<p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šå¿…é¡»åœ¨äº‹åŠ¡ä¸­æ‰§è¡Œçš„å…³é”®æ“ä½œã€‚</p>
<pre><code class="language-java">@Service
public class PaymentService {
    @Transactional(propagation = Propagation.MANDATORY)
    public void processPayment(Payment payment) {
        // å¿…é¡»åœ¨äº‹åŠ¡ä¸­æ‰§è¡Œï¼Œå¦åˆ™æŠ¥é”™
        // ç¡®ä¿æ•°æ®ä¸€è‡´æ€§
        accountDao.deduct(payment.getAmount());
        paymentDao.save(payment);
    }
}
</code></pre>
<h3 id="ä¼ æ’­å±æ€§ç»„åˆä½¿ç”¨ç­–ç•¥">ä¼ æ’­å±æ€§ç»„åˆä½¿ç”¨ç­–ç•¥</h3>
<h4 id="åˆ†å±‚æ¶æ„ä¸­çš„ä¼ æ’­å±æ€§è®¾è®¡">åˆ†å±‚æ¶æ„ä¸­çš„ä¼ æ’­å±æ€§è®¾è®¡ï¼š</h4>
<pre><code class="language-java">// Controllerå±‚ - ä¸ç®¡ç†äº‹åŠ¡
@RestController
public class UserController {
    @Autowired
    private UserFacade userFacade;
}

// Facade/Serviceå±‚ - å¼€å¯äº‹åŠ¡
@Service
public class UserFacade {
    @Transactional(propagation = Propagation.REQUIRED)
    public UserDTO registerUser(UserRequest request) {
        // åè°ƒå¤šä¸ªServiceï¼Œç»Ÿä¸€äº‹åŠ¡ç®¡ç†
        User user = userService.createUser(request);
        profileService.initProfile(user.getId());
        auditService.logRegistration(user);
        return convertToDTO(user);
    }
}

// ä¸šåŠ¡Serviceå±‚ - æ ¹æ®éœ€è¦ä½¿ç”¨ä¸åŒä¼ æ’­å±æ€§
@Service
public class UserService {
    // ä¸»ä¸šåŠ¡æ–¹æ³•ï¼Œä½¿ç”¨é»˜è®¤REQUIRED
    @Transactional
    public User createUser(UserRequest request) {
        return userRepository.save(convertToEntity(request));
    }
}

@Service  
public class AuditService {
    // å®¡è®¡æ—¥å¿—ï¼Œç‹¬ç«‹äº‹åŠ¡
    @Transactional(propagation = Propagation.REQUIRES_NEW)
    public void logRegistration(User user) {
        auditRepository.save(new AuditLog("USER_REGISTER", user.getId()));
    }
}

@Service
public class ProfileService {
    // åµŒå¥—äº‹åŠ¡ï¼Œå¯éƒ¨åˆ†å›æ»š
    @Transactional(propagation = Propagation.NESTED)
    public void initProfile(Long userId) {
        profileRepository.createDefaultProfile(userId);
    }
}
</code></pre>
<h4 id="å¸¸è§é™·é˜±ä¸è§£å†³æ–¹æ¡ˆ">å¸¸è§é™·é˜±ä¸è§£å†³æ–¹æ¡ˆï¼š</h4>
<pre><code class="language-java">// é™·é˜±1ï¼šè‡ªè°ƒç”¨å¯¼è‡´@Transactionalå¤±æ•ˆ
@Service
public class OrderService {
    public void processOrder(Order order) {
        // è‡ªè°ƒç”¨ï¼Œ@Transactionalå¤±æ•ˆï¼
        this.updateInventory(order);  
    }
    
    @Transactional
    public void updateInventory(Order order) {
        // ä¸ä¼šå¼€å¯äº‹åŠ¡
    }
}

// è§£å†³æ–¹æ¡ˆ1ï¼šä½¿ç”¨ä»£ç†å¯¹è±¡
@Service
public class OrderService {
    @Autowired
    private OrderService selfProxy;  // æ³¨å…¥è‡ªèº«ä»£ç†
    
    public void processOrder(Order order) {
        selfProxy.updateInventory(order);  // é€šè¿‡ä»£ç†è°ƒç”¨
    }
}

// è§£å†³æ–¹æ¡ˆ2ï¼šä½¿ç”¨AopContext
@EnableAspectJAutoProxy(exposeProxy = true)
public class Application {
    // é…ç½®ç±»å¯ç”¨ä»£ç†æš´éœ²
}

public void processOrder(Order order) {
    OrderService proxy = (OrderService) AopContext.currentProxy();
    proxy.updateInventory(order);
}

// é™·é˜±2ï¼šå¼‚å¸¸è¢«æ•è·ä¸æŠ›å‡º
@Transactional
public void saveWithRollback() {
    try {
        userRepository.save(user);
        throw new RuntimeException();  // è§¦å‘å›æ»šçš„å¼‚å¸¸
    } catch (Exception e) {
        // å¼‚å¸¸è¢«æ•è·ï¼Œäº‹åŠ¡ä¸ä¼šå›æ»šï¼
        log.error("Error occurred", e);
    }
}

// è§£å†³æ–¹æ¡ˆï¼šæ‰‹åŠ¨å›æ»šæˆ–é‡æ–°æŠ›å‡º
@Transactional
public void saveWithRollback() {
    try {
        userRepository.save(user);
        throw new RuntimeException();
    } catch (Exception e) {
        TransactionAspectSupport.currentTransactionStatus().setRollbackOnly();
        throw e;  // æˆ–è€…é‡æ–°æŠ›å‡º
    }
}
</code></pre>
<h3 id="éš”ç¦»çº§åˆ«ä¸ä¼ æ’­å±æ€§çš„ç»„åˆå®è·µ">éš”ç¦»çº§åˆ«ä¸ä¼ æ’­å±æ€§çš„ç»„åˆå®è·µ</h3>
<pre><code class="language-java">@Service
public class FinancialService {
    
    // èµ„é‡‘è½¬ç§»ï¼šæœ€é«˜éš”ç¦»çº§åˆ«ï¼Œéœ€è¦äº‹åŠ¡
    @Transactional(
        isolation = Isolation.SERIALIZABLE,
        propagation = Propagation.REQUIRED,
        timeout = 30,
        rollbackFor = {BusinessException.class, RuntimeException.class}
    )
    public void transferFunds(TransferRequest request) {
        // 1. æ£€æŸ¥è´¦æˆ·ï¼ˆéœ€è¦ä¸€è‡´æ€§è¯»ï¼‰
        Account from = accountService.getAccount(request.getFromAccountId());
        Account to = accountService.getAccount(request.getToAccountId());
        
        // 2. æ‰£æ¬¾ï¼ˆå¼ºä¸€è‡´æ€§è¦æ±‚ï¼‰
        accountService.deduct(from, request.getAmount());
        
        // 3. å­˜æ¬¾
        accountService.deposit(to, request.getAmount());
        
        // 4. è®°å½•äº¤æ˜“æ—¥å¿—ï¼ˆç‹¬ç«‹äº‹åŠ¡ï¼‰
        auditService.logTransaction(request);
        
        // 5. å‘é€é€šçŸ¥ï¼ˆéäº‹åŠ¡ï¼Œä¸å½±å“ä¸»æµç¨‹ï¼‰
        notificationService.sendTransferNotification(request);
    }
}

@Service
public class AccountService {
    @Transactional(
        isolation = Isolation.REPEATABLE_READ,
        propagation = Propagation.MANDATORY  // å¿…é¡»åœ¨å¤–å±‚äº‹åŠ¡ä¸­è°ƒç”¨
    )
    public void deduct(Account account, BigDecimal amount) {
        // æ‰£æ¬¾æ“ä½œ
    }
}

@Service
public class AuditService {
    @Transactional(
        propagation = Propagation.REQUIRES_NEW,  // ç‹¬ç«‹äº‹åŠ¡
        isolation = Isolation.READ_COMMITTED     // æ—¥å¿—ä¸éœ€è¦å¼ºä¸€è‡´æ€§
    )
    public void logTransaction(TransferRequest request) {
        // å®¡è®¡æ—¥å¿—
    }
}

@Service
public class NotificationService {
    @Transactional(propagation = Propagation.NOT_SUPPORTED)
    public void sendTransferNotification(TransferRequest request) {
        // è°ƒç”¨å¤–éƒ¨é€šçŸ¥æœåŠ¡ï¼Œä¸éœ€è¦äº‹åŠ¡
    }
}
</code></pre>
<h2 id="äº”æœ€ä½³å®è·µæ€»ç»“">äº”ã€æœ€ä½³å®è·µæ€»ç»“</h2>
<h3 id="1-éš”ç¦»çº§åˆ«é€‰æ‹©åŸåˆ™">1. éš”ç¦»çº§åˆ«é€‰æ‹©åŸåˆ™ï¼š</h3>
<ul>
<li><strong>Webåº”ç”¨</strong>ï¼šREAD COMMITTEDï¼ˆå¹³è¡¡æ€§èƒ½ä¸ä¸€è‡´æ€§ï¼‰</li>
<li><strong>é‡‘èç³»ç»Ÿ</strong>ï¼šREPEATABLE READ æˆ– SERIALIZABLEï¼ˆå¼ºä¸€è‡´æ€§ï¼‰</li>
<li><strong>æŠ¥è¡¨ç³»ç»Ÿ</strong>ï¼šREAD UNCOMMITTED æˆ– READ COMMITTEDï¼ˆæŸ¥è¯¢æ€§èƒ½ä¼˜å…ˆï¼‰</li>
<li><strong>ç”µå•†ç³»ç»Ÿ</strong>ï¼šæ ¹æ®ä¸šåŠ¡æ¨¡å—é€‰æ‹©ä¸åŒçº§åˆ«</li>
</ul>
<h3 id="2-ä¼ æ’­å±æ€§ä½¿ç”¨æŒ‡å—">2. ä¼ æ’­å±æ€§ä½¿ç”¨æŒ‡å—ï¼š</h3>
<ul>
<li><strong>é»˜è®¤ä½¿ç”¨</strong>ï¼šREQUIREDï¼ˆæ»¡è¶³80%åœºæ™¯ï¼‰</li>
<li><strong>æ—¥å¿—å®¡è®¡</strong>ï¼šREQUIRES_NEWï¼ˆç‹¬ç«‹æäº¤ï¼‰</li>
<li><strong>å¤æ‚ä¸šåŠ¡</strong>ï¼šNESTEDï¼ˆéƒ¨åˆ†å›æ»šèƒ½åŠ›ï¼‰</li>
<li><strong>æŸ¥è¯¢æ–¹æ³•</strong>ï¼šSUPPORTSï¼ˆçµæ´»é€‚åº”ï¼‰</li>
<li><strong>å¤–éƒ¨è°ƒç”¨</strong>ï¼šNOT_SUPPORTEDï¼ˆé¿å…äº‹åŠ¡ä¼ æ’­ï¼‰</li>
</ul>
<h3 id="3-mvccä¼˜åŒ–å»ºè®®">3. MVCCä¼˜åŒ–å»ºè®®ï¼š</h3>
<ul>
<li><strong>æ§åˆ¶äº‹åŠ¡é•¿åº¦</strong>ï¼šé¿å…é•¿äº‹åŠ¡å¯¼è‡´ç‰ˆæœ¬é“¾è¿‡é•¿</li>
<li><strong>åˆç†è®¾è®¡ç´¢å¼•</strong>ï¼šæå‡å¿«ç…§è¯»æ•ˆç‡</li>
<li><strong>å®šæœŸæ¸…ç†</strong>ï¼šç›‘æ§undo logå¤§å°ï¼Œé¿å…è†¨èƒ€</li>
<li><strong>ç‰ˆæœ¬é€‰æ‹©</strong>ï¼šæ ¹æ®ä¸šåŠ¡é€‰æ‹©å½“å‰è¯»æˆ–å¿«ç…§è¯»</li>
</ul>
<h3 id="4-ç›‘æ§ä¸è°ƒä¼˜">4. ç›‘æ§ä¸è°ƒä¼˜ï¼š</h3>
<pre><code class="language-sql">-- ç›‘æ§é•¿äº‹åŠ¡
SELECT * FROM information_schema.innodb_trx 
WHERE TIME_TO_SEC(timediff(now(), trx_started)) &gt; 60;

-- æŸ¥çœ‹é”ç­‰å¾…
SELECT * FROM information_schema.innodb_lock_waits;

-- ç›‘æ§undo log
SHOW VARIABLES LIKE 'innodb_undo%';
</code></pre>
<p>ç†è§£è¿™äº›æ ¸å¿ƒæ¦‚å¿µå’ŒæŠ€æœ¯ç»†èŠ‚ï¼Œå¯ä»¥å¸®åŠ©ä½ è®¾è®¡å‡ºæ›´åˆç†ã€é«˜æ€§èƒ½çš„æ•°æ®åº“åº”ç”¨æ¶æ„ï¼Œæœ‰æ•ˆå¹³è¡¡ä¸€è‡´æ€§ã€å¹¶å‘æ€§å’Œæ€§èƒ½ä¹‹é—´çš„å…³ç³»ã€‚</p>

</div>
<div id="MySignature" role="contentinfo">
    
<p>â¤ï¸ å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œè¯·ç‚¹èµæ”¯æŒï¼ ğŸ‘ åŒæ—¶æ¬¢è¿å…³æ³¨æˆ‘çš„åšå®¢ï¼Œè·å–æ›´å¤šç²¾å½©å†…å®¹ï¼</p>

<p>æœ¬æ–‡æ¥è‡ªåšå®¢å›­ï¼Œä½œè€…ï¼š<a href="https://www.cnblogs.com/sun-10387834/" target="_blank">ä½›ç¥–è®©æˆ‘æ¥å·¡å±±</a>ï¼Œè½¬è½½è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼š<a href="https://www.cnblogs.com/sun-10387834/p/19369929" target="_blank">https://www.cnblogs.com/sun-10387834/p/19369929</a></p>


</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-12-21 23:11">2025-12-21 23:10</span>&nbsp;
<a href="https://www.cnblogs.com/sun-10387834">ä½›ç¥–è®©æˆ‘æ¥å·¡å±±</a>&nbsp;
é˜…è¯»(<span id="post_view_count">32</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19369929);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19369929', targetLink: 'https://www.cnblogs.com/sun-10387834/p/19369929', title: 'ã€é¢è¯•é¢˜ã€‘æ•°æ®åº“äº‹åŠ¡éš”ç¦»ä¸ä¼ æ’­å±æ€§æ˜¯ä»€ä¹ˆï¼Ÿ' })">ä¸¾æŠ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ Flinkæºç é˜…è¯»ï¼šå¦‚ä½•ç”ŸæˆExecutionGraph ]]></title>
    <link>https://www.cnblogs.com/Jackeyzhe/p/19380063</link>
    <guid>e3092fb26e37130a33f09a38c9347293</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/Jackeyzhe/p/19380063" title="å‘å¸ƒäº 2025-12-21 22:29">
    <span role="heading" aria-level="2">Flinkæºç é˜…è¯»ï¼šå¦‚ä½•ç”ŸæˆExecutionGraph</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        <img src="https://img2024.cnblogs.com/blog/1828322/202512/1828322-20251221222920486-544325866.png" alt="Flinkæºç é˜…è¯»ï¼šå¦‚ä½•ç”ŸæˆExecutionGraph" class="desc_img">
        ä»Šå¤©æˆ‘ä»¬ä¸€èµ·æ¥äº†è§£ Flink æœ€åä¸€ç§æ‰§è¡Œå›¾ï¼ŒExecutionGraph çš„æ‰§è¡Œè¿‡ç¨‹ã€‚
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>ä»Šå¤©æˆ‘ä»¬ä¸€èµ·æ¥äº†è§£ Flink æœ€åä¸€ç§æ‰§è¡Œå›¾ï¼ŒExecutionGraph çš„æ‰§è¡Œè¿‡ç¨‹ã€‚</p>
<h3 id="åŸºæœ¬æ¦‚å¿µ">åŸºæœ¬æ¦‚å¿µ</h3>
<p>åœ¨é˜…è¯»æºç ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹ ExecutionGraph ä¸­çš„ä¸€äº›åŸºæœ¬æ¦‚å¿µã€‚</p>
<ul>
<li>
<p><strong>ExecutionJobVertex:</strong> ExecutionJobVertex æ˜¯ ExecutionGraph ä¸­çš„èŠ‚ç‚¹ï¼Œå¯¹åº”çš„æ˜¯ JobGraph ä¸­çš„ JobVertexã€‚</p>
</li>
<li>
<p><strong>ExecutionVertex:</strong> æ¯ä¸ª ExecutionJobVertex éƒ½åŒ…å«äº†ä¸€ç»„ ExecutionVertexï¼ŒExecutionVertex çš„æ•°é‡å°±æ˜¯èŠ‚ç‚¹å¯¹åº”çš„å¹¶è¡Œåº¦ã€‚</p>
</li>
<li>
<p><strong>IntermediateResult:</strong> IntermediateResult è¡¨ç¤ºèŠ‚ç‚¹çš„è¾“å‡ºç»“æœï¼Œä¸ä¹‹å¯¹åº”çš„æ˜¯ JobGraph ä¸­çš„ IntermediateDataSetã€‚</p>
</li>
<li>
<p><strong>IntermediateResultPartition:</strong> IntermediateResultPartition æ˜¯æ¯ä¸ª ExecutionVertex çš„è¾“å‡ºã€‚</p>
</li>
<li>
<p><strong>EdgeManager:</strong> EdgeManager ä¸»è¦è´Ÿè´£å­˜å‚¨ ExecutionGraph ä¸­æ‰€æœ‰ä¹‹é—´çš„è¿æ¥ï¼ŒåŒ…æ‹¬å…¶å¹¶è¡Œåº¦ã€‚</p>
</li>
<li>
<p><strong>Execution:</strong> Execution å¯ä»¥è®¤ä¸ºæ˜¯ä¸€æ¬¡å®é™…çš„è¿è¡Œå°è¯•ã€‚æ¯æ¬¡æ‰§è¡Œæ—¶ï¼ŒFlink éƒ½ä¼šå°†ExecutionVertex å°è£…æˆä¸€ä¸ª Executionï¼Œå¹¶é€šè¿‡ä¸€ä¸ª ExecutionAttemptID æ¥åšå”¯ä¸€æ ‡è¯†ã€‚</p>
</li>
</ul>
<h3 id="executiongraph-ç”Ÿæˆè¿‡ç¨‹">ExecutionGraph ç”Ÿæˆè¿‡ç¨‹</h3>
<p>äº†è§£äº†è¿™äº›åŸºæœ¬æ¦‚å¿µä¹‹åï¼Œæˆ‘ä»¬ä¸€èµ·æ¥çœ‹ä¸€ä¸‹ ExecutionGraph çš„å…·ä½“ç”Ÿæˆè¿‡ç¨‹ã€‚ç”Ÿæˆ ExecutionGraph çš„ä»£ç å…¥å£æ˜¯ DefaultExecutionGraphBuilder.build æ–¹æ³•ã€‚</p>
<p>é¦–å…ˆæ˜¯è·å–ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼ŒåŒ…æ‹¬ jobInformationã€jobStatusChangedListeners ç­‰ã€‚</p>
<p>æ¥ä¸‹æ¥å°±æ˜¯åˆ›å»ºä¸€ä¸ª DefaultExecutionGraph å’Œç”Ÿæˆæ‰§è¡Œè®¡åˆ’ã€‚</p>
<pre><code class="language-java">// create a new execution graph, if none exists so far
final DefaultExecutionGraph executionGraph =
        new DefaultExecutionGraph(
                jobInformation,
                futureExecutor,
                ioExecutor,
                rpcTimeout,
                executionHistorySizeLimit,
                classLoader,
                blobWriter,
                partitionGroupReleaseStrategyFactory,
                shuffleMaster,
                partitionTracker,
                executionDeploymentListener,
                executionStateUpdateListener,
                initializationTimestamp,
                vertexAttemptNumberStore,
                vertexParallelismStore,
                isDynamicGraph,
                executionJobVertexFactory,
                jobGraph.getJobStatusHooks(),
                markPartitionFinishedStrategy,
                taskDeploymentDescriptorFactory,
                jobStatusChangedListeners,
                executionPlanSchedulingContext);


try {
    executionGraph.setPlan(JsonPlanGenerator.generatePlan(jobGraph));
} catch (Throwable t) {
    log.warn("Cannot create plan for job", t);
    // give the graph an empty plan
    executionGraph.setPlan(new JobPlanInfo.Plan("", "", "", new ArrayList&lt;&gt;()));
}
</code></pre>
<p>ä¸‹é¢å°±æ˜¯ä¸¤ä¸ªæ¯”è¾ƒæ ¸å¿ƒçš„æ–¹æ³• getVerticesSortedTopologicallyFromSources å’Œ attachJobGraphã€‚</p>
<pre><code class="language-java">// topologically sort the job vertices and attach the graph to the existing one
List&lt;JobVertex&gt; sortedTopology = jobGraph.getVerticesSortedTopologicallyFromSources();

executionGraph.attachJobGraph(sortedTopology, jobManagerJobMetricGroup);
</code></pre>
<p>è¿™ä¸¤ä¸ªæ–¹æ³•æ˜¯å…ˆå°† JobVertex è¿›è¡Œæ’åºï¼Œç„¶åæ„å»º ExecutionGraph çš„æ‹“æ‰‘å›¾ã€‚</p>
<h4 id="getverticessortedtopologicallyfromsources">getVerticesSortedTopologicallyFromSources</h4>
<pre><code class="language-java">public List&lt;JobVertex&gt; getVerticesSortedTopologicallyFromSources()
        throws InvalidProgramException {
    // early out on empty lists
    if (this.taskVertices.isEmpty()) {
        return Collections.emptyList();
    }

    List&lt;JobVertex&gt; sorted = new ArrayList&lt;JobVertex&gt;(this.taskVertices.size());
    Set&lt;JobVertex&gt; remaining = new LinkedHashSet&lt;JobVertex&gt;(this.taskVertices.values());

    // start by finding the vertices with no input edges
    // and the ones with disconnected inputs (that refer to some standalone data set)
    {
        Iterator&lt;JobVertex&gt; iter = remaining.iterator();
        while (iter.hasNext()) {
            JobVertex vertex = iter.next();

            if (vertex.isInputVertex()) {
                sorted.add(vertex);
                iter.remove();
            }
        }
    }

    int startNodePos = 0;

    // traverse from the nodes that were added until we found all elements
    while (!remaining.isEmpty()) {

        // first check if we have more candidates to start traversing from. if not, then the
        // graph is cyclic, which is not permitted
        if (startNodePos &gt;= sorted.size()) {
            throw new InvalidProgramException("The job graph is cyclic.");
        }

        JobVertex current = sorted.get(startNodePos++);
        addNodesThatHaveNoNewPredecessors(current, sorted, remaining);
    }

    return sorted;
}
</code></pre>
<p>è¿™æ®µä»£ç æ˜¯å°†æ‰€æœ‰çš„èŠ‚ç‚¹è¿›è¡Œæ’åºï¼Œå…ˆå°†æ‰€æœ‰çš„ Source èŠ‚ç‚¹ç­›é€‰å‡ºæ¥ï¼Œç„¶åå†å°†å‰©ä½™èŠ‚ç‚¹å‡å¦‚åˆ—è¡¨ã€‚è¿™æ ·å°±èƒ½æ„å»ºå‡ºæœ€ç»ˆçš„æ‹“æ‰‘å›¾ã€‚</p>
<h4 id="attachjobgraph">attachJobGraph</h4>
<pre><code class="language-java">@Override
public void attachJobGraph(
        List&lt;JobVertex&gt; verticesToAttach, JobManagerJobMetricGroup jobManagerJobMetricGroup)
        throws JobException {

    assertRunningInJobMasterMainThread();

    LOG.debug(
            "Attaching {} topologically sorted vertices to existing job graph with {} "
                    + "vertices and {} intermediate results.",
            verticesToAttach.size(),
            tasks.size(),
            intermediateResults.size());

    attachJobVertices(verticesToAttach, jobManagerJobMetricGroup);
    if (!isDynamic) {
        initializeJobVertices(verticesToAttach);
    }

    // the topology assigning should happen before notifying new vertices to failoverStrategy
    executionTopology = DefaultExecutionTopology.fromExecutionGraph(this);

    partitionGroupReleaseStrategy =
            partitionGroupReleaseStrategyFactory.createInstance(getSchedulingTopology());
}
</code></pre>
<p>attachJobGraph æ–¹æ³•ä¸»è¦åŒ…å«ä¸¤æ­¥é€»è¾‘ï¼Œç¬¬ä¸€æ­¥æ˜¯è°ƒç”¨ attachJobVertices æ–¹æ³•åˆ›å»º ExecutionJobVertex å®ä¾‹ï¼Œç¬¬äºŒæ­¥æ˜¯è°ƒç”¨ fromExecutionGraph åˆ›å»ºä¸€äº›å…¶ä»–çš„æ ¸å¿ƒå¯¹è±¡ã€‚</p>
<p><strong>attachJobVertices</strong></p>
<p>attachJobVertices æ–¹æ³•ä¸­å°±æ˜¯éå†æ‰€æœ‰çš„ JobVertexï¼Œç„¶ååˆ©ç”¨ JobVertex ç”Ÿæˆ ExecutionJobVertexã€‚</p>
<pre><code class="language-java">/** Attach job vertices without initializing them. */
private void attachJobVertices(
        List&lt;JobVertex&gt; topologicallySorted, JobManagerJobMetricGroup jobManagerJobMetricGroup)
        throws JobException {
    for (JobVertex jobVertex : topologicallySorted) {

        if (jobVertex.isInputVertex() &amp;&amp; !jobVertex.isStoppable()) {
            this.isStoppable = false;
        }

        VertexParallelismInformation parallelismInfo =
                parallelismStore.getParallelismInfo(jobVertex.getID());

        // create the execution job vertex and attach it to the graph
        ExecutionJobVertex ejv =
                executionJobVertexFactory.createExecutionJobVertex(
                        this,
                        jobVertex,
                        parallelismInfo,
                        coordinatorStore,
                        jobManagerJobMetricGroup);

        ExecutionJobVertex previousTask = this.tasks.putIfAbsent(jobVertex.getID(), ejv);
        if (previousTask != null) {
            throw new JobException(
                    String.format(
                            "Encountered two job vertices with ID %s : previous=[%s] / new=[%s]",
                            jobVertex.getID(), ejv, previousTask));
        }

        this.verticesInCreationOrder.add(ejv);
        this.numJobVerticesTotal++;
    }
}
</code></pre>
<p><strong>initializeJobVertices</strong></p>
<p>åœ¨ DefaultExecutionGraph.initializeJobVertices ä¸­æ˜¯éå†äº†åˆšåˆšæ’å¥½åºçš„ JobVertexï¼Œè·å–äº† ExecutionJobVertex ä¹‹åè°ƒç”¨äº† ExecutionGraph.initializeJobVertex æ–¹æ³•ã€‚</p>
<p>æˆ‘ä»¬ç›´æ¥æ¥çœ‹ ExecutionGraph.initializeJobVertex çš„é€»è¾‘ã€‚</p>
<pre><code class="language-java">default void initializeJobVertex(ExecutionJobVertex ejv, long createTimestamp)
        throws JobException {
    initializeJobVertex(
            ejv,
            createTimestamp,
            VertexInputInfoComputationUtils.computeVertexInputInfos(
                    ejv, getAllIntermediateResults()::get));
}
</code></pre>
<p>è¿™é‡Œå…ˆæ˜¯è°ƒç”¨äº† VertexInputInfoComputationUtils.computeVertexInputInfos æ–¹æ³•ï¼Œç”Ÿæˆäº† Map&lt;IntermediateDataSetID, JobVertexInputInfo&gt; jobVertexInputInfosã€‚å®ƒè¡¨ç¤ºçš„æ˜¯æ¯ä¸ª ExecutionVertex æ¶ˆè´¹ä¸Šæ¸¸ IntermediateResultPartition çš„èŒƒå›´ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸¤ç§æ¨¡å¼ï¼Œåˆ†åˆ«æ˜¯ POINTWISE ï¼ˆç‚¹å¯¹ç‚¹ï¼‰å’Œ ALL_TO_ALLï¼ˆå…¨å¯¹å…¨ï¼‰</p>
<p>åœ¨ POINTWISE æ¨¡å¼ä¸­ï¼Œä¼šæŒ‰ç…§å°½é‡å‡åŒ€åˆ†å¸ƒçš„æ–¹å¼å¤„ç†ã€‚</p>
<ul>
<li>
<p>ä¾‹å¦‚ä¸Šæ¸¸å¹¶å‘åº¦æ˜¯4ï¼Œä¸‹æ¸¸å¹¶å‘åº¦æ˜¯2æ—¶ï¼Œé‚£ä¹ˆå‰ä¸¤ä¸ª IntermediateResultPartition å°±ä¼šè¢«ç¬¬ä¸€ä¸ª ExecutionVertex æ¶ˆè´¹ï¼Œåä¸¤ä¸ª IntermediateResultPartition å°±ä¼šè¢«ç¬¬äºŒä¸ª ExecutionVertex æ¶ˆè´¹ã€‚</p>
</li>
<li>
<p>å¦‚æœä¸Šæ¸¸å¹¶å‘åº¦æ˜¯2ï¼Œä¸‹æ¸¸æ˜¯3æ—¶ï¼Œé‚£ä¹ˆä¸‹æ¸¸å‰ä¸¤ä¸ª IntermediateResultPartition ä¼šè¢«ç¬¬ä¸€ä¸ª ExecutionVertex æ¶ˆè´¹ï¼Œç¬¬ä¸‰ä¸ª IntermediateResultPartition åˆ™ä¼šè¢«ç¬¬äºŒä¸ª ExecutionVertex æ¶ˆè´¹ã€‚</p>
</li>
</ul>
<pre><code class="language-java">public static JobVertexInputInfo computeVertexInputInfoForPointwise(
        int sourceCount,
        int targetCount,
        Function&lt;Integer, Integer&gt; numOfSubpartitionsRetriever,
        boolean isDynamicGraph) {

    final List&lt;ExecutionVertexInputInfo&gt; executionVertexInputInfos = new ArrayList&lt;&gt;();

    if (sourceCount &gt;= targetCount) {
        for (int index = 0; index &lt; targetCount; index++) {

            int start = index * sourceCount / targetCount;
            int end = (index + 1) * sourceCount / targetCount;

            IndexRange partitionRange = new IndexRange(start, end - 1);
            IndexRange subpartitionRange =
                    computeConsumedSubpartitionRange(
                            index,
                            1,
                            () -&gt; numOfSubpartitionsRetriever.apply(start),
                            isDynamicGraph,
                            false,
                            false);
            executionVertexInputInfos.add(
                    new ExecutionVertexInputInfo(index, partitionRange, subpartitionRange));
        }
    } else {
        for (int partitionNum = 0; partitionNum &lt; sourceCount; partitionNum++) {

            int start = (partitionNum * targetCount + sourceCount - 1) / sourceCount;
            int end = ((partitionNum + 1) * targetCount + sourceCount - 1) / sourceCount;
            int numConsumers = end - start;

            IndexRange partitionRange = new IndexRange(partitionNum, partitionNum);
            // Variable used in lambda expression should be final or effectively final
            final int finalPartitionNum = partitionNum;
            for (int i = start; i &lt; end; i++) {
                IndexRange subpartitionRange =
                        computeConsumedSubpartitionRange(
                                i,
                                numConsumers,
                                () -&gt; numOfSubpartitionsRetriever.apply(finalPartitionNum),
                                isDynamicGraph,
                                false,
                                false);
                executionVertexInputInfos.add(
                        new ExecutionVertexInputInfo(i, partitionRange, subpartitionRange));
            }
        }
    }
    return new JobVertexInputInfo(executionVertexInputInfos);
}
</code></pre>
<p>åœ¨ ALL_TO_ALL æ¨¡å¼ä¸­ï¼Œæ¯ä¸ªä¸‹æ¸¸éƒ½ä¼šæ¶ˆè´¹æ‰€æœ‰ä¸Šæ¸¸çš„æ•°æ®ã€‚</p>
<pre><code class="language-java">public static JobVertexInputInfo computeVertexInputInfoForAllToAll(
        int sourceCount,
        int targetCount,
        Function&lt;Integer, Integer&gt; numOfSubpartitionsRetriever,
        boolean isDynamicGraph,
        boolean isBroadcast,
        boolean isSingleSubpartitionContainsAllData) {
    final List&lt;ExecutionVertexInputInfo&gt; executionVertexInputInfos = new ArrayList&lt;&gt;();
    IndexRange partitionRange = new IndexRange(0, sourceCount - 1);
    for (int i = 0; i &lt; targetCount; ++i) {
        IndexRange subpartitionRange =
                computeConsumedSubpartitionRange(
                        i,
                        targetCount,
                        () -&gt; numOfSubpartitionsRetriever.apply(0),
                        isDynamicGraph,
                        isBroadcast,
                        isSingleSubpartitionContainsAllData);
        executionVertexInputInfos.add(
                new ExecutionVertexInputInfo(i, partitionRange, subpartitionRange));
    }
    return new JobVertexInputInfo(executionVertexInputInfos);
}
</code></pre>
<p>ç”Ÿæˆå¥½äº† jobVertexInputInfos ä¹‹åï¼Œæˆ‘ä»¬å†å›åˆ° DefaultExecutionGraph.initializeJobVertex æ–¹æ³•ä¸­ã€‚</p>
<pre><code class="language-java">@Override
public void initializeJobVertex(
        ExecutionJobVertex ejv,
        long createTimestamp,
        Map&lt;IntermediateDataSetID, JobVertexInputInfo&gt; jobVertexInputInfos)
        throws JobException {

    checkNotNull(ejv);
    checkNotNull(jobVertexInputInfos);

    jobVertexInputInfos.forEach(
            (resultId, info) -&gt;
                    this.vertexInputInfoStore.put(ejv.getJobVertexId(), resultId, info));

    ejv.initialize(
            executionHistorySizeLimit,
            rpcTimeout,
            createTimestamp,
            this.initialAttemptCounts.getAttemptCounts(ejv.getJobVertexId()),
            executionPlanSchedulingContext);

    ejv.connectToPredecessors(this.intermediateResults);

    for (IntermediateResult res : ejv.getProducedDataSets()) {
        IntermediateResult previousDataSet =
                this.intermediateResults.putIfAbsent(res.getId(), res);
        if (previousDataSet != null) {
            throw new JobException(
                    String.format(
                            "Encountered two intermediate data set with ID %s : previous=[%s] / new=[%s]",
                            res.getId(), res, previousDataSet));
        }
    }

    registerExecutionVerticesAndResultPartitionsFor(ejv);

    // enrich network memory.
    SlotSharingGroup slotSharingGroup = ejv.getSlotSharingGroup();
    if (areJobVerticesAllInitialized(slotSharingGroup)) {
        SsgNetworkMemoryCalculationUtils.enrichNetworkMemory(
                slotSharingGroup, this::getJobVertex, shuffleMaster);
    }
}
</code></pre>
<p>é¦–å…ˆæ¥çœ‹ ExecutionJobVertex.initialize æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•ä¸»è¦æ˜¯ç”Ÿæˆ IntermediateResult å’Œ ExecutionVertexã€‚</p>
<pre><code class="language-java">protected void initialize(
        int executionHistorySizeLimit,
        Duration timeout,
        long createTimestamp,
        SubtaskAttemptNumberStore initialAttemptCounts,
        ExecutionPlanSchedulingContext executionPlanSchedulingContext)
        throws JobException {

    checkState(parallelismInfo.getParallelism() &gt; 0);
    checkState(!isInitialized());

    this.taskVertices = new ExecutionVertex[parallelismInfo.getParallelism()];

    this.inputs = new ArrayList&lt;&gt;(jobVertex.getInputs().size());

    // create the intermediate results
    this.producedDataSets =
            new IntermediateResult[jobVertex.getNumberOfProducedIntermediateDataSets()];

    for (int i = 0; i &lt; jobVertex.getProducedDataSets().size(); i++) {
        final IntermediateDataSet result = jobVertex.getProducedDataSets().get(i);

        this.producedDataSets[i] =
                new IntermediateResult(
                        result,
                        this,
                        this.parallelismInfo.getParallelism(),
                        result.getResultType(),
                        executionPlanSchedulingContext);
    }

    // create all task vertices
    for (int i = 0; i &lt; this.parallelismInfo.getParallelism(); i++) {
        ExecutionVertex vertex =
                createExecutionVertex(
                        this,
                        i,
                        producedDataSets,
                        timeout,
                        createTimestamp,
                        executionHistorySizeLimit,
                        initialAttemptCounts.getAttemptCount(i));

        this.taskVertices[i] = vertex;
    }

    // sanity check for the double referencing between intermediate result partitions and
    // execution vertices
    for (IntermediateResult ir : this.producedDataSets) {
        if (ir.getNumberOfAssignedPartitions() != this.parallelismInfo.getParallelism()) {
            throw new RuntimeException(
                    "The intermediate result's partitions were not correctly assigned.");
        }
    }

    // set up the input splits, if the vertex has any
    try {
        @SuppressWarnings("unchecked")
        InputSplitSource&lt;InputSplit&gt; splitSource =
                (InputSplitSource&lt;InputSplit&gt;) jobVertex.getInputSplitSource();

        if (splitSource != null) {
            Thread currentThread = Thread.currentThread();
            ClassLoader oldContextClassLoader = currentThread.getContextClassLoader();
            currentThread.setContextClassLoader(graph.getUserClassLoader());
            try {
                inputSplits =
                        splitSource.createInputSplits(this.parallelismInfo.getParallelism());

                if (inputSplits != null) {
                    splitAssigner = splitSource.getInputSplitAssigner(inputSplits);
                }
            } finally {
                currentThread.setContextClassLoader(oldContextClassLoader);
            }
        } else {
            inputSplits = null;
        }
    } catch (Throwable t) {
        throw new JobException(
                "Creating the input splits caused an error: " + t.getMessage(), t);
    }
}
</code></pre>
<p>åœ¨åˆ›å»º ExecutionVertex æ—¶ï¼Œä¼šåˆ›å»º IntermediateResultPartition å’Œ Executionï¼Œåˆ›å»º Execution æ—¶ï¼Œä¼šè®¾ç½® attemptNumberï¼Œè¿™ä¸ªå€¼é»˜è®¤æ˜¯0ï¼Œå¦‚æœ ExecutionVertex æ˜¯é‡æ–°è°ƒåº¦çš„ï¼Œé‚£ä¹ˆ attemptNumber ä¼šè‡ªå¢åŠ 1ã€‚</p>
<p>ExecutionJobVertex.connectToPredecessors æ–¹æ³•ä¸»è¦æ˜¯ç”Ÿæˆ ExecutionVertex ä¸ IntermediateResultPartition çš„å…³è”å…³ç³»ã€‚è¿™é‡Œè®¾ç½®å…³è”å…³ç³»ä¹Ÿåˆ†æˆäº†ç‚¹å¯¹ç‚¹å’Œå…¨å¯¹å…¨ä¸¤ç§æ¨¡å¼å¤„ç†ï¼Œç‚¹å¯¹ç‚¹æ¨¡å¼éœ€è¦è®¡ç®— ExecutionVertex å¯¹åº”çš„ IntermediateResultPartition index çš„èŒƒå›´ã€‚ä¸¤ç§æ¨¡å¼æœ€ç»ˆéƒ½è°ƒç”¨äº† connectInternal æ–¹æ³•ã€‚</p>
<pre><code class="language-java">/** Connect all execution vertices to all partitions. */
private static void connectInternal(
        List&lt;ExecutionVertex&gt; taskVertices,
        List&lt;IntermediateResultPartition&gt; partitions,
        ResultPartitionType resultPartitionType,
        EdgeManager edgeManager) {
    checkState(!taskVertices.isEmpty());
    checkState(!partitions.isEmpty());

    ConsumedPartitionGroup consumedPartitionGroup =
            createAndRegisterConsumedPartitionGroupToEdgeManager(
                    taskVertices.size(), partitions, resultPartitionType, edgeManager);
    for (ExecutionVertex ev : taskVertices) {
        ev.addConsumedPartitionGroup(consumedPartitionGroup);
    }

    List&lt;ExecutionVertexID&gt; consumerVertices =
            taskVertices.stream().map(ExecutionVertex::getID).collect(Collectors.toList());
    ConsumerVertexGroup consumerVertexGroup =
            ConsumerVertexGroup.fromMultipleVertices(consumerVertices, resultPartitionType);
    for (IntermediateResultPartition partition : partitions) {
        partition.addConsumers(consumerVertexGroup);
    }

    consumedPartitionGroup.setConsumerVertexGroup(consumerVertexGroup);
    consumerVertexGroup.setConsumedPartitionGroup(consumedPartitionGroup);
}
</code></pre>
<p>è¿™ä¸ªæ–¹æ³•ä¸­ ev.addConsumedPartitionGroup(consumedPartitionGroup); è´Ÿè´£å°† ExecutionVertex åˆ° IntermediateResultPartition çš„å…³è”å…³ç³»ä¿å­˜åœ¨ EdgeManager.vertexConsumedPartitions ä¸­ã€‚</p>
<p>è€Œ partition.addConsumers(consumerVertexGroup); åˆ™è´Ÿè´£å°† IntermediateResultPartition åˆ° ExecutionVertex çš„å…³ç³»ä¿å­˜åœ¨ EdgeManager.partitionConsumers ä¸­ã€‚</p>
<h3 id="æ€»ç»“">æ€»ç»“</h3>
<p>é€šè¿‡æœ¬æ–‡ï¼Œæˆ‘ä»¬äº†è§£äº† Flink æ˜¯å¦‚ä½•å°† JobGraph è½¬æ¢æˆ ExecutionGraph çš„ã€‚å…¶ä¸­æ¶‰åŠåˆ°çš„ä¸€äº›æ ¸å¿ƒæ¦‚å¿µåç§°æ¯”è¾ƒç±»ä¼¼ï¼Œå»ºè®®è®¤çœŸå­¦ä¹ å’Œç†è§£é€å½»ä¹‹åå†ç ”ç©¶å…¶ç”Ÿæˆæ–¹æ³•å’Œå¯¹åº”å…³ç³»ï¼Œä¹Ÿå¯ä»¥å€ŸåŠ©å‰æ–‡ä¸­ ExecutionGraph ç¤ºæ„å›¾è¾…åŠ©å­¦ä¹ ã€‚</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-12-21 22:30">2025-12-21 22:29</span>&nbsp;
<a href="https://www.cnblogs.com/Jackeyzhe">Jackeyzhe</a>&nbsp;
é˜…è¯»(<span id="post_view_count">45</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19380063);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19380063', targetLink: 'https://www.cnblogs.com/Jackeyzhe/p/19380063', title: 'Flinkæºç é˜…è¯»ï¼šå¦‚ä½•ç”ŸæˆExecutionGraph' })">ä¸¾æŠ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ å®šåˆ¶ CentOS7 ISO çš„æœ€ä½³å®è·µ ]]></title>
    <link>https://www.cnblogs.com/optimus007/p/19379438</link>
    <guid>4cf8f7ea53d33a815adf9f71f4712977</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/optimus007/p/19379438" title="å‘å¸ƒäº 2025-12-21 15:54">
    <span role="heading" aria-level="2">å®šåˆ¶ CentOS7 ISO çš„æœ€ä½³å®è·µ</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="èƒŒæ™¯">èƒŒæ™¯ï¼š</h2>
<p>éšç€ä¸šåŠ¡å½¢æ€ï¼Œä¸šåŠ¡ç§ç±»çš„ä¸æ–­æ‹“å±•ï¼Œä½¿ç”¨å…¬ç‰ˆ ISO å®‰è£…æ ‘ ä¸ ISO é•œåƒå­˜åœ¨è¾ƒå¤§çš„ä¸ä¾¿ä¸å¼Šç«¯ï¼›<br>
å­˜åœ¨å®‰è£…é…ç½®ä¸ç»Ÿä¸€ï¼Œæº¯æºéš¾ç­‰ç‰¹ç‚¹ï¼›ç»™åæœŸçš„ç³»ç»Ÿè¿ç»´å¸¦æ¥å¾ˆé«˜çš„å¤æ‚åº¦</p>
<h2 id="ç›®çš„">ç›®çš„ï¼š</h2>
<ul>
<li>è§£å†³ä¸šåŠ¡éœ€è¦å¤šç§ä¸åŒç³»ç»Ÿéœ€æ±‚ï¼Œç‰ˆæœ¬ç®¡ç†å›°éš¾ï¼Œæº¯æºéš¾ï¼Œ è¿ç»´æ’éšœå¤æ‚åº¦é«˜ç­‰ç—›ç‚¹é—®é¢˜</li>
<li>é€‚åº”æ–°å‹æ€ä¸‹çš„å¤šç§ç±»è£…æœºéœ€æ±‚ï¼Œçµæ´»æ”¯æŒï¼Œä¾¿äºè¿­ä»£æ›´æ–°</li>
<li>è‡ªå®šä¹‰çš„è½¯ä»¶åŒ…ç»„è®¾ç½®ï¼Œç»“åˆ kickstart åº”ç­”æ§åˆ¶æ–‡ä»¶ ç»“åˆ æ²™ç®±æŠ€æœ¯ä¸ iPXE æŠ€æœ¯å¯ä»¥ä½¿ç”¨å¤§è§„æ¨¡è‡ªåŠ¨åŒ–è£…æœºéƒ¨ç½²</li>
</ul>
<h2 id="æœ¯è¯­ä¸ç¼©å†™">æœ¯è¯­ä¸ç¼©å†™ï¼š</h2>
<table>
<thead>
<tr>
<th><strong>æœ¯è¯­åç§°</strong></th>
<th><strong>æœ¯è¯­è§£é‡Š</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>RHEL</strong></td>
<td>å…¨ç§°ä¸º Redhat Enterprise Linux ï¼Œä¸ºçº¢å¸½å­å…¬å¸æ¨å‡ºçš„å…è´¹å¼€æºçš„ Linux å•†ä¸šå‘è¡Œç‰ˆ</td>
</tr>
<tr>
<td><strong>CentOS</strong></td>
<td>CentOS ä¸ºåŸºäº RHEL ä¸Šæ¸¸é‡Šæ”¾çš„æºç å»æ‰ RHEL logo ä¸å•†ä¸šè½¯ä»¶åé‡æ–°ç¼–ç çš„å†å‘è¡Œç‰ˆï¼ŒCentOS ç¤¾åŒºå·²è¢« RHEL æ”¶ç¼–ï¼Œç›®å‰ CentOS-7 ç‰ˆæœ¬äº2020å¹´ç»“æŸä¸»æµæ”¯æŒ</td>
</tr>
<tr>
<td><strong>Fedora</strong></td>
<td>Fedora ç›®å‰å·²è¢« Redhat æ”¶ç¼–ï¼Œçº¢å¸½å­ç”¨æ¥å®éªŒä¸€äº›æ–°æŠ€æœ¯åœ¨æ­¤å‘è¡Œç‰ˆï¼Œç¨³å®šåç§»æ¤åˆ° RHEL</td>
</tr>
<tr>
<td><strong>kickstart</strong></td>
<td>çº¢å¸½ç³»å‘è¡Œç‰ˆæ“ä½œç³»ç»Ÿçš„è‡ªåŠ¨åŒ–éƒ¨ç½²æ§åˆ¶è„šæœ¬ä¸æ–¹æ³•</td>
</tr>
<tr>
<td><strong>ISO</strong></td>
<td>ä¸€ç§æ–‡ä»¶æ ¼å¼ä¸æ ‡å‡†</td>
</tr>
<tr>
<td><strong>BIOS</strong></td>
<td>åŸºæœ¬è¾“å…¥è¾“å‡ºç³»ç»Ÿï¼Œä¸ºX86æ¶æ„çš„è®¡ç®—æœºçš„åº•å±‚çš„è½¯ä»¶</td>
</tr>
<tr>
<td><strong>EFI/UEFI</strong></td>
<td>ç»Ÿä¸€å¯æ‰©å±•å›ºä»¶ï¼›ä¸ºå…¨æ–°çš„ä¸€ç§è®¡ç®—æœºçš„åº•å±‚è½¯ä»¶ï¼Œæ”¯æŒå¤šç§æ–°å¤„ç†å™¨æ¶æ„</td>
</tr>
<tr>
<td><strong>RPM</strong></td>
<td>redhat package management çº¢å¸½å­åŒ…ç®¡ç†ç³»ç»Ÿ</td>
</tr>
<tr>
<td><strong>Anaconda</strong></td>
<td>anaconda ä¸ºçº¢å¸½ç³»å‘è¡Œç‰ˆçš„ å®‰è£…å™¨ï¼ˆinstallerï¼‰ç¨‹åº</td>
</tr>
<tr>
<td><strong>grub</strong></td>
<td>å½“ä»£ linux&nbsp;å‘è¡Œç‰ˆçš„ä¸»æµçš„å¼•å¯¼ç¨‹åº</td>
</tr>
<tr>
<td><strong>xml</strong></td>
<td>ä¸€ç§æ–‡ä»¶æ ¼å¼ä¸æ ‡å‡†</td>
</tr>
<tr>
<td><strong>dd</strong></td>
<td>linux ä¸‹çš„ä¸€ç§æ“ä½œè£¸ç£ç›˜å—çš„å·¥å…·</td>
</tr>
<tr>
<td><strong>yum</strong></td>
<td>yellow&nbsp;dog package management é»„ç‹—åŒ…ç®¡ç†ç³»ç»Ÿï¼Œæ˜¯çº¢å¸½ç³»è‡ªåŠ¨ç®¡ç†RPMä¾èµ–å…³ç³»ï¼Œè‡ªåŠ¨å®‰è£…è½¯ä»¶åŒ…çš„ä¸€ç§å·¥å…·ï¼Œpython ç¼–å†™</td>
</tr>
<tr>
<td><strong>python</strong></td>
<td>å½“ä»£çš„æµè¡Œçš„ä¸€ç§è§£é‡Šæ€§çš„è¯­è¨€</td>
</tr>
<tr>
<td><strong>GPL</strong></td>
<td>ä¸€ç§å¼€æºåè®®</td>
</tr>
</tbody>
</table>
<h1 id="åŸ-centos-ç¤¾åŒºå®˜æ–¹åŸºäº-rhel-æ„å»ºäºŒè¿›åˆ¶å…¼å®¹ç‰ˆæœ¬çš„åŸºæœ¬æµç¨‹"><strong>åŸ CentOS ç¤¾åŒºå®˜æ–¹åŸºäº RHEL æ„å»ºäºŒè¿›åˆ¶å…¼å®¹ç‰ˆæœ¬çš„åŸºæœ¬æµç¨‹ï¼š</strong></h1>
<p><img alt="0d3ff18c-04d3-40ff-85aa-9aa7bb5b0c6b" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3701941/202512/3701941-20251221154506939-1443173551.png" class="lazyload"></p>
<h1 id="æ ¹æ®å®é™…éœ€æ±‚å‡ºå‘é€‰æ‹©åŸºæœ¬centos-ç¤¾åŒºç‰ˆæœ¬è¿›è¡ŒäºŒæ¬¡å®šåˆ¶å¼€å‘"><strong>æ ¹æ®å®é™…éœ€æ±‚å‡ºå‘ï¼Œé€‰æ‹©åŸºæœ¬CentOS ç¤¾åŒºç‰ˆæœ¬è¿›è¡ŒäºŒæ¬¡å®šåˆ¶å¼€å‘</strong></h1>
<p>äºŒæ¬¡å®šåˆ¶å¼€å‘çš„æµç¨‹å¤§è‡´å¦‚ä¸‹ï¼š</p>
<ul>
<li>åˆ†æå…¬ç‰ˆ minimal é•œåƒ ISO æ–‡ä»¶ç»“æ„</li>
<li>æŠ½å–æ‹·è´åŸå…¬ç‰ˆ ISO ä¸­çš„æ‰€æœ‰æ–‡ä»¶ä¸ç›®å½•ç»“æ„åˆ° äºŒæ¬¡å®šåˆ¶å¼€å‘è·¯å¾„ï¼Œå¹¶éœ€è¦ç•™æ„ä¿®å¤æŠ½å– ISO åéƒ¨åˆ†é•¿æ–‡ä»¶åæ–‡ä»¶åç¼€åä¸¢å¤±çš„é—®é¢˜</li>
<li>æ ¹æ®éœ€æ±‚æ”¶é›†éœ€è¦çš„ RPM è½¯ä»¶åŒ…ä¸ä¾èµ–åŒ…æ”¾ç½®åœ¨ Packages ç›®å½•ä¸‹</li>
<li>æ ¹æ®éœ€æ±‚æ”¶é›†éœ€æ±‚çš„ RPM åå­—ï¼Œä¿®æ”¹é€‚é…è½¯ä»¶ç»„çš„ä¸»æ§æ–‡ä»¶ XML æ–‡ä»¶ repodata/cca56f3cffa18f1e52302dbfcf2f0250a94c8a37acd8347ed6317cb52c8369dc-c7-x86_64-comps.xml</li>
<li>æ ¹æ®ä¸Šè¿°ä¿®æ”¹åçš„ XML ä¸ Packages ä¸­çš„åŒ…é‡æ–°ç”Ÿæˆ repodatas ä¸­çš„ ISO RPMåŒ…çš„ repo æ•°æ®åº“</li>
<li>å®šåˆ¶ä¿®æ”¹ anaconda installer å®‰è£…å™¨ã€‚å¹¶è¾“å‡ºæ–°çš„&nbsp; boot.iso ï¼Œç”¨äºæ›¿æ¢æ—§çš„ ISO ä¸­çš„ vmlinux initrd.img ä»¥åŠ&nbsp; suqashfs.img</li>
<li>æ·»åŠ éœ€è¦çš„é¢å¤–æ‹·è´çš„å·¥å…·æˆ–è€…æ–‡ä»¶åŒ…åˆ° ISO æ„å»ºç›®å½•</li>
<li>ä¿®æ”¹åŸç”Ÿçš„ BIOS æ¨¡å¼ä¸ UEFI æ¨¡å¼ä¸‹çš„ grub å¼•å¯¼é…ç½®æ–‡ä»¶</li>
<li>æŒ‰éœ€ä¿®æ”¹æ·»åŠ  ks æ–‡ä»¶åˆ° ISO ä¸­ ï¼ˆå¯é€‰æ­¥éª¤ï¼‰</li>
<li>å°è£…æ‰“åŒ…ä¸º ISO é•œåƒï¼Œä¸ºäº†æ”¯æŒè¶…å¤§å•ä¸ªæ–‡ä»¶è¾“å‡ºä¸º UDF æ ¼å¼</li>
<li>åµŒå…¥ hybrid å¯åŠ¨ ä¸ MD5 æŒ‡çº¹åˆ° ISO ä¸­</li>
<li>æµ‹è¯•å®‰è£… ISO</li>
<li>å‘å¸ƒ</li>
</ul>
<h1 id="å®šåˆ¶éœ€æ±‚"><strong>å®šåˆ¶éœ€æ±‚</strong></h1>
<ol>
<li>åŸºäºå…¬ç‰ˆ centos 7.9 minimal é•œåƒäºŒæ¬¡å®šåˆ¶å¼€å‘</li>
<li>å®šåˆ¶ä¿®æ”¹ anaconda installer æ”¯æŒé«˜çº§åŠŸèƒ½</li>
<li>è½¯ä»¶ç»„è¶Šå°è¶Šå¥½ï¼Œéœ€è¦æ”¯æŒåŸºæœ¬çš„å®¹å™¨é¡¹ç›®çš„æ­£å¸¸è¿è¡Œ</li>
<li>éœ€è¦è‡ªåŠ¨åŒ–å®‰è£…æ— éœ€äººå·¥å¹²é¢„</li>
<li>ç³»ç»Ÿç›˜åˆ†åŒºé‡‡ç”¨æ ‡å‡†åˆ†åŒº</li>
<li>æ ¹æ®ä¸»æµçš„ CSI benchmark å®‰å…¨çº¢çº¿è¦æ±‚ï¼Œè®¾ç½®ç”¨æˆ·çš„å¯†ç å¼ºåº¦è¦æ±‚ï¼Œå¼±å¯†ç ä¸å‡†ä½¿ç”¨</li>
<li>é¦–æ¬¡ç™»å½•å¿…é¡»æ›´æ”¹å¯†ç </li>
<li>é»˜è®¤ä¸å¼€é˜²ç«å¢™ä¸ selinux æœåŠ¡</li>
<li>é»˜è®¤ç³»ç»Ÿä¸ºè‹±è¯­ç¯å¢ƒï¼Œç¾å¼é”®ç›˜ï¼Œä¸Šæµ·æ—¶åŒº</li>
<li>é»˜è®¤å¢å¤§ç³»ç»Ÿå•ä¸ªè¿›ç¨‹èƒ½æ‰“å¼€çš„å¥æŸ„æ•°åˆ°&nbsp;65536*2</li>
<li>é»˜è®¤å¯ç”¨ rootç”¨æˆ·çš„ ssh è®¿é—®</li>
<li>é‡‡ç”¨å›¾å½¢åŒ–å®‰è£…ç•Œé¢</li>
<li>é»˜è®¤ç³»ç»Ÿç›˜é€‰ç›˜é€»è¾‘è¦é€‚åº”å¤šç›˜ä½çš„ä½¿ç”¨åœºæ™¯ï¼Œæ”¯æŒå¤šç§ç±»å‹çš„ç£ç›˜ï¼Œæ”¯æŒ vmwareä¸ KVM è™šæ‹Ÿæœºéƒ¨ç½²</li>
<li>å¢åŠ çš„ä¸ªæ€§åŒ–çš„å®šåˆ¶åŒ–ä¿¡æ¯</li>
<li>æ”¯æŒæ”¾å…¥è¶…å¤§çš„è½¯ä»¶åŒ…è¶…è¿‡ 4GB</li>
<li>æ”¯æŒä½¿ç”¨Uç›˜åˆ»å½•å®‰è£…ï¼Œæ”¯æŒå¸¦å¤– BMC æŒ‚è½½ ISO å®‰è£…ï¼Œåˆ»å½• cd/dvd å®‰è£…</li>
<li>æ”¯æŒ UEFI ä¸ BIOS ä¸¤ç§å¼•å¯¼æ–¹å¼</li>
<li>é»˜è®¤ç³»ç»Ÿéœ€è¦ç¦ç”¨ CPU C-stat çœç”µï¼Œå®‰è£…å®Œåçš„ç³»ç»Ÿä¸­åˆ é™¤ksæ–‡ä»¶ï¼Œé˜²æ­¢æ³„å¯†</li>
<li>é»˜è®¤éœ€è¦å¼€å¯ KDUMP æœåŠ¡</li>
<li>é»˜è®¤éœ€è¦å…³é—­ä¸å¿…è¦çš„åå°æœåŠ¡</li>
<li>ç³»ç»Ÿé»˜è®¤ç½‘ç»œé‡‡ç”¨ DHCPï¼Œæ— éœ€è®¾ç½®ä¸»æœºå</li>
<li>ç³»ç»Ÿé»˜è®¤é¢„ç½®ä¸¤ä¸ªç”¨æˆ·ï¼Œä¸€ä¸ª root ç”¨æˆ·ï¼Œä¸€ä¸ª isotest ç”¨æˆ·ï¼› root ç”¨æˆ·å¯†ç ä¸º XXXXXï¼› iso_test ç”¨æˆ·é»˜è®¤å¯†ç ä¸º  isotest</li>
<li>ç³»ç»Ÿé»˜è®¤å¯†ç æ–‡ä»¶é‡‡ç”¨å½±å­å½¢å¼åŠ å¯†å­˜å‚¨</li>
</ol>
<h2 id="åŸç‰ˆç¤¾åŒºçš„-iso-é•œåƒä¿—ç§°å…¬ç‰ˆisoé•œåƒæ ‘çš„ç»“æ„è§£æ">åŸç‰ˆç¤¾åŒºçš„ ISO é•œåƒï¼ˆä¿—ç§°å…¬ç‰ˆISOé•œåƒï¼‰æ ‘çš„ç»“æ„è§£æï¼š</h2>
<p>å…¬ç‰ˆçš„ CentOS-2009-Minimal_x86_64.iso é•œåƒæ–‡ä»¶ï¼Œå°†é•œåƒæŒ‚è½½åˆ° /media ç›®å½•å¯ä»¥çœ‹åˆ° ISO æŠ½å–åçš„æ–‡ä»¶ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š<br>
<img alt="d2630aca-be5b-4176-8011-f7ddbc53b922" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3701941/202512/3701941-20251221154538962-835409174.png" class="lazyload"></p>
<p>ç›®å½•è¯´æ˜ï¼š</p>
<ul>
<li>EFI å­˜æ”¾EFI æ¨¡å¼çš„å¼•å¯¼æ–‡ä»¶</li>
<li>images&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;    å­˜æ”¾efi æ–‡ä»¶ä¸PXE å¯åŠ¨çš„å†…æ ¸ä¸ä¸´æ—¶è·Ÿæ–‡ä»¶ç³»ç»Ÿæ–‡ä»¶ ï¼ˆstage1 image ç›®å½•ï¼‰</li>
<li>isolinux&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;     å­˜æ”¾ BIOS æ¨¡å¼å¼•å¯¼æ–‡ä»¶ ï¼ˆstage1 image ç›®å½•ï¼‰</li>
<li>LiveOS&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;    å­˜æ”¾ Anaconda installer çš„ç›®å½•ï¼ˆstage2 image ç›®å½•ï¼‰</li>
<li>Packages&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;    å­˜æ”¾ RPM è½¯ä»¶åŒ…çš„ç›®å½•</li>
<li>repodata&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;    å­˜æ”¾ RPM è½¯ä»¶ç»„å…ƒæ•°æ®çš„ç›®å½•</li>
<li>æ–‡ä»¶è¯´æ˜ï¼š</li>
<li>CentOS_BuildTag&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CentOS æ„å»ºæ ‡ç­¾</li>
<li>.discinfo &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è®°å½•æ„å»º ISO æ—¶é—´æˆ³ï¼ŒISOæ¶æ„ä¿¡æ¯ï¼Œç‰ˆæœ¬å·</li>
<li>.treeinfo &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è®°å½•æ„å»º ISO ä¸­é‡è¦æ–‡ä»¶çš„é…ç½®æ–‡ä»¶</li>
<li>RPM-GPG-KEY-CentOS-7&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;RPM åŒ…çš„ GPG KEY</li>
<li>RPM-GPG-KEY-CentOS-Testing-7 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RPM åŒ…çš„ GPG KEY</li>
<li>.TBL&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;è®°å½• ISO ç”Ÿæˆæ—¶çš„æ–‡ä»¶åè½¬æ¢çš„æ–‡ä»¶</li>
<li>EULA&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ç”¨æˆ·åè®®æ–‡æ¡£</li>
<li>GPL&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CentOS çš„å¼€æºåè®®<br>
BIOS æ¨¡å¼ ISO å¯åŠ¨æµç¨‹ï¼š</li>
</ul>
<p>BIOS æ¨¡å¼ï¼š server å¯åŠ¨ ---- &gt;&nbsp; BIOS POST ----- &gt;&nbsp; BIOS é€‰æ‹©é€‰æ‹©ä» CD/DVD å¯åŠ¨ ----- &gt; ISO è¯»å–å¯åŠ¨æ‰‡åŒºåç§» ---- &gt; ï¼ˆisolinux/isolinux.binï¼‰grub2 ç¨‹åº ---- &gt; è¯»å– isolinux/isolinux.cfg å¯åŠ¨èœå•(stage1 é˜¶æ®µ ) ----- &gt; æŒ‰ç…§èœå•çš„é…ç½® stage2&nbsp; é˜¶æ®µ åŠ è½½ isolinux/vmlinuz å†…æ ¸ +&nbsp; isolinux/initrd.img ----- &gt;&nbsp; (åˆ‡æ¢åŠ è½½ å®‰è£…å™¨ anaconda installer rootfs LiveOS/squashfs.img ) ----- &gt; ï¼ˆåŠ è½½åŸºç¡€çš„å„ç±» systemd æœåŠ¡ï¼‰ ------ &gt; å¯åŠ¨é»˜è®¤çš„ default-target å®é™…æŒ‡å‘&nbsp; ----- &gt;&nbsp; anaconda.service ----- &gt; å¯åŠ¨ anaconda å›¾å½¢å®‰è£…ç•Œé¢ or anaconda text å®‰è£…ç•Œé¢ ----- &gt; æ‰‹åŠ¨é€‰æ‹©å®‰è£… or&nbsp; kickstart è‡ªåŠ¨å®‰è£…</p>
<p>UEFI æ¨¡å¼ï¼š server å¯åŠ¨ ---- &gt;&nbsp; BIOS POST ----- &gt;&nbsp; UEFI é€‰æ‹©é€‰æ‹©ä» CD/DVD å¯åŠ¨ ----- &gt; ISO è¯»å– EFI BOOT ä¿¡æ¯---- &gt; grub2 ç¨‹åºï¼ˆBOOTX64.EFIï¼‰ ---- &gt; è¯»å– EFI/BOOT/grub.cfg å¯åŠ¨èœå•(stage1 é˜¶æ®µ ) ----- &gt; æŒ‰ç…§èœå•çš„é…ç½® stage2&nbsp; é˜¶æ®µ åŠ è½½ image/pxeboot/vmlinuz å†…æ ¸ +&nbsp; image/pxeboot/initrd.img ----- &gt;&nbsp; (åˆ‡æ¢åŠ è½½ å®‰è£…å™¨ anaconda installer rootfs LiveOS/squashfs.img) ----- &gt; ï¼ˆåŠ è½½åŸºç¡€çš„å„ç±» systemd æœåŠ¡ï¼‰ ------ &gt; å¯åŠ¨é»˜è®¤çš„ default-target å®é™…æŒ‡å‘&nbsp; ----- &gt;&nbsp; anaconda.service ----- &gt; å¯åŠ¨ anaconda å›¾å½¢å®‰è£…ç•Œé¢ or anaconda text å®‰è£…ç•Œé¢ ----- &gt; æ‰‹åŠ¨é€‰æ‹©å®‰è£… or kickstart è‡ªåŠ¨å®‰è£…</p>
<h2 id="å¼•å¯¼èœå•å®šåˆ¶å¼€å‘">å¼•å¯¼èœå•å®šåˆ¶å¼€å‘ï¼š</h2>
<p>èƒŒæ™¯ï¼š<br>
å¼•å¯¼èœå•çš„è®¾è®¡åˆ†ä¸ºä¸¤ç±»ï¼Œä¸€ç§æ˜¯ä¼ ç»Ÿçš„ BIOS ç±»å‹å¼•å¯¼ï¼Œä¸€ç§æ˜¯ UEFI/EFI ç±»å‹çš„å¼•å¯¼ï¼›<br>
å…¶ä¸­BIOSç±»å‹çš„å¼•å¯¼ç›®å‰ä½¿ç”¨çš„æ˜¯å¼€æºçš„ syslinux ç»„ä»¶ä¸­çš„ isolinux éƒ¨åˆ†ç»„ä»¶å®ç°çš„ï¼Œ è€Œ EFI/UEFI æ¨¡å¼åˆ™é‡‡ç”¨ grubx64.efi æˆ– BOOTX64.EFI å®Œæˆå¼•å¯¼<br>
å®ç°æ–¹æ³•é€»è¾‘ä¸¤ç§ç±»å‹å¼•å¯¼çš„åŸç‰ˆå¼•å¯¼æ–‡ä»¶æ‰“å¼€è¿›è¡Œèµ°è¯»ï¼ŒæŒæ¡ä¸¤ç§æ¨¡å¼çš„å¼•å¯¼èœå•çš„è¯­æ³•ï¼Œæ ¼å¼ï¼Œå‚æ•°ç­‰ç­‰ï¼›<br>
ä¸»è¦ä¿®æ”¹ç‚¹æ˜¯ä¿®æ”¹å¼•å¯¼æ—¶æŒ‡å®šçš„å®‰è£…èœå•çš„æ ‡ç­¾åç§°ï¼Œstage2 é˜¶æ®µæ˜ åƒçš„åŠ è½½çš„åª’ä»‹çš„æ ‡ç­¾ï¼Œä»¥åŠæ·»åŠ è·å–è‡ªåŠ¨å®‰è£… ks çš„å†…æ ¸ä¼ å‚ï¼Œå¤–åŠ ä¸€äº›é¢å¤–çš„å†…æ ¸å‚æ•° ; å®šåˆ¶çš„å›¾å½¢å¯åŠ¨èœå•èƒŒæ™¯å›¾ LOGO ä¿¡æ¯ä¹Ÿå¯ä»¥å†™åœ¨é‡Œé¢ï¼Œä½†æ˜¯ç›®å‰å›¾å½¢åŒ–çš„å¼•å¯¼èœå•æ”¯æŒç›®å‰ BIOS æ¨¡å¼æ”¯æŒæ¯”è¾ƒå¥½ï¼ŒUEFI æ¨¡å¼ä¸åšå¤„ç†äºæ”¯æŒ<br>
ä¿®æ”¹åçš„é…ç½®æ–‡ä»¶ç¤ºæ„ï¼š<br>
BIOS æ¨¡å¼å¯åŠ¨èœå•ï¼š å¼•å¯¼æ–‡ä»¶ä¸º ISOç›®å½•ä¸­çš„ isolinux/isolinux.cfg æ–‡ä»¶</p>
<pre><code>prompt 1
ui vesamenu.c32
menu background splash.jpg
default kickstart

MENU TITLE RTX-9090 Linux BOOT MENU

timeout 50

# Do not display the actual menu unless the user presses a key. All that is displayed is a timeout message.

menu tabmsg Press Tab for full configuration options on menu items.

menu separator # insert an empty line
menu separator # insert an empty line

label kickstart
  menu label ^INSTALL RTXOS X86_64 LAGACY
  kernel vmlinuz
  append initrd=initrd.img inst.stage2=hd:LABEL=rtxOS:/ inst.ks=hd:LABEL=rtxOS:/ks.cfg vga=791 modprobe.blacklist=nouveau

menu separator # insert an empty line

label isocheck
  menu label Test This Media &amp;&amp; Install RTXOS 
  kernel vmlinuz
  append initrd=initrd.img inst.stage2=hd:LABEL=rtxOS:/ inst.ks=hd:LABEL=rtxOS:/ks.cfg rd.live.check quiet vga=791 modprobe.blacklist=nouveau

menu separator # insert an empty line

label memtest
  menu label Run a ^Memory Test
  text help
    If your system is having issues, a problem with your
    system's memory may be the cause. Use this utility to
    see if the memory is working correctly.
  endtext
  kernel memtest

menu separator # insert an empty line

label rescue
  menu indent count 5
  menu label ^Rescue a RTXOS system
  text help
    If the system will not boot, this lets you access files
    and edit config files to try to get it booting again.
  endtext
  kernel vmlinuz
  append initrd=initrd.img inst.stage2=hd:LABEL=rtxOS:/ rescue vga=791 modprobe.blacklist=nouveau

menu separator # insert an empty line
menu separator # insert an empty line
 
menu end
</code></pre>
<p>UEFI æ¨¡å¼ä¸‹çš„å¯åŠ¨èœå•ï¼š</p>
<pre><code>set default="1"

function load_video {
  insmod efi_gop
  insmod efi_uga
  insmod video_bochs
  insmod video_cirrus
  insmod all_video
}

load_video
set gfxpayload=keep
insmod gzio
insmod part_gpt
insmod ext2

set timeout=5
### END /etc/grub.d/00_header ###

search --no-floppy --set=root -l 'rtxOS'

### BEGIN /etc/grub.d/10_linux ###

menuentry 'Test This Media &amp; Install RTXOS X86_64 UEFI' --class fedora --class gnu-linux --class gnu --class os {
    linuxefi /images/pxeboot/vmlinuz rd.live.check inst.stage2=hd:LABEL=rtxOS:/ inst.ks=hd:LABEL=rtxOS:/ks.cfg vga=791 modprobe.blacklist=nouveau
    initrdefi /images/pxeboot/initrd.img
}
menuentry 'INSTALL RTXOS X86_64 UEFI' --class fedora --class gnu-linux --class gnu --class os {
    linuxefi /images/pxeboot/vmlinuz inst.stage2=hd:LABEL=rtxOS:/ inst.ks=hd:LABEL=rtxOS:/ks.cfg vga=791 modprobe.blacklist=nouveau
    initrdefi /images/pxeboot/initrd.img
}
menuentry 'Rescue A RTXOS System' --class fedora --class gnu-linux --class gnu --class os {
    linuxefi /images/pxeboot/vmlinuz inst.stage2=hd:LABEL=rtxOS:/ rescue vga=791 modprobe.blacklist=nouveau
    initrdefi /images/pxeboot/initrd.img
}
</code></pre>
<p>å®šåˆ¶ ä¿®æ”¹ XML é…ç½®æ–‡ä»¶ï¼š é˜…çº¢å¸½å­çš„å®˜æ–¹èµ„æ–™åå¾—çŸ¥ï¼ŒXXXX-minimal-x86_64-comps.xml å³ä¸ºå®šä¹‰è½¯ä»¶ç»„çš„XMLæ§åˆ¶æ–‡ä»¶ï¼ŒXMLä¸­å­˜æ”¾ç€è½¯ä»¶åŒ…çš„è¯­è¨€ï¼Œæè¿°ï¼Œåå­—ï¼›ç¯å¢ƒç»„ï¼Œè½¯ä»¶ç»„ç­‰ç­‰ä¿¡æ¯<br>
eg: ç®€åŒ–åçš„ è½¯ä»¶ç»„ç¯å¢ƒç»„çš„åŸºæœ¬ç»“æ„å¦‚ä¸‹ï¼š<br>
<img alt="b3d761d2-dd11-4068-9b4f-e67d1c8deed9" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3701941/202512/3701941-20251221154610481-1073401321.png" class="lazyload"></p>
<p>ä¸€ä¸ªç¯å¢ƒç»„ä¸­å¯ä»¥åŒ…å«å¤šä¸ªè½¯ä»¶ç»„<br>
è½¯ä»¶åŒ…ç»„ï¼šåŒ…å«éœ€è¦å®‰è£…çš„ RPM åŒ…çš„åç§°åˆ—è¡¨<br>
ç¯å¢ƒåŒ…ç»„ï¼šåŒ…å«éœ€è¦å®‰è£…çš„è½¯ä»¶åŒ…ç»„çš„åç§°<br>
ä½¿ç”¨tab ç¼©è¿›4ä¸ªå­—ç¬¦ï¼ï¼<br>
å®šä¹‰è½¯ä»¶ç»„ï¼šï¼ˆè½¯ä»¶ç»„åŒ…å«éœ€è¦çš„RPMåŒ…åˆ—è¡¨ï¼‰</p>
<pre><code>	&lt;group&gt;  ä»£è¡¨å®šä¹‰ä¸€ä¸ªè½¯ä»¶ç»„
	    &lt;id&gt;XXXX&lt;/id&gt;  è½¯ä»¶ç»„çš„æ£€ç´¢å­—æ®µ
	    &lt;name xml:lang="en_GB"&gt;custom_name&lt;/name&gt;  è½¯ä»¶ç»„çš„è‹±æ–‡åŸºæœ¬åç§°ï¼Œè‡ªè¡Œç¼–å†™
     &lt;name xml:lang="zh_CN"&gt;å®šåˆ¶çš„è½¯ä»¶ç»„åç§°&lt;/name&gt;  è½¯ä»¶ç»„çš„ä¸­æ–‡åŸºæœ¬åç§°ï¼Œè‡ªè¡Œç¼–å†™
		   &lt;description&gt;Smallest possible installation.&lt;/description&gt;  è½¯ä»¶ç»„çš„è‹±æ–‡çš„åŸºæœ¬æè¿°ï¼Œè‡ªè¡Œç¼–å†™
		   &lt;description xml:lang="zh_CN"&gt;æœ€å°å¯èƒ½å®‰è£…ã€‚&lt;/description&gt;  è½¯ä»¶ç»„çš„æ”¯æŒä¸­æ–‡çš„åŸºæœ¬æè¿°ï¼Œè‡ªè¡Œç¼–å†™
		   &lt;default&gt;false&lt;/default&gt;  æ˜¯å¦ä¸ºé»˜è®¤ï¼Œä¸€èˆ¬ä¿æŒé»˜è®¤ä¸ç”¨æ›´æ”¹
		   &lt;uservisible&gt;false&lt;/uservisible&gt;  æ˜¯å¦ç”¨æˆ·å¯è§ï¼Œä¸€èˆ¬ä¿æŒé»˜è®¤ä¸ç”¨æ›´æ”¹
		   &lt;packagelist&gt;  RPMåŒ…åˆ—è¡¨ï¼ŒXMLå›ºå®šè¯­æ³•å†™æ³•
			      &lt;packagereq type="mandatory"&gt;XXXXX&lt;/packagereq&gt;  éœ€è¦çš„RPMåŒ…åœ¨è¿™é‡Œå®šä¹‰ï¼ŒXXXXXä¸ºrpmåŒ…åç§°ï¼›å…¶ä¸­ type å­—æ®µæœ‰ä¸‰ç±»ï¼Œdefaultï¼ˆé»˜è®¤çš„ï¼‰ ï¼Œmandatoryï¼ˆå¼ºåˆ¶çš„ï¼‰ ï¼Œoptionalï¼ˆå¯é€‰çš„ï¼‰å¯é€‰çš„åŒ…ä¸€èˆ¬ä¸ä¼šè¿›è¡Œå®‰è£… 
		   &lt;/packagelist&gt; XML è¯­æ³•å†™æ³•
	&lt;/group&gt; XMLè¯­æ³•å†™æ³•
 
 
</code></pre>
<p>å®šä¹‰ç¯å¢ƒç»„ï¼šï¼ˆç¯å¢ƒç»„åŒ…å«äº†éœ€è¦çš„è½¯ä»¶ç»„ï¼‰</p>
<pre><code>&lt;enviroment&gt;  å®šä¹‰ä¸€ä¸ªç¯å¢ƒç»„
    &lt;id&gt;XXXX&lt;/id&gt;  ç¯å¢ƒç»„æ£€ç´¢å­—æ®µ
	   &lt;name&gt;XXXXXXXXXX&lt;/name&gt;  ç¯å¢ƒç»„åç§°ï¼Œè‡ªè¡Œç¼–å†™
	   &lt;name xml:lang="zh_CN"&gt;ç®€ä½“ä¸­æ–‡æè¿°&lt;/name&gt;  ç¯å¢ƒç»„åç§°çš„åŸºæœ¬åç§°ï¼Œè‡ªè¡Œç¼–å†™
	   &lt;description&gt;Basic functionality.&lt;/description&gt;  ç¯å¢ƒç»„çš„è‹±æ–‡åŸºæœ¬æè¿°ï¼Œè‡ªè¡Œç¼–å†™
	   &lt;description xml:lang="zh_CN"&gt;ç®€ä½“ä¸­æ–‡çš„æè¿°&lt;/description&gt;  ç¯å¢ƒç»„çš„æ”¯æŒä¸­æ–‡çš„åŸºæœ¬æè¿°ï¼Œè‡ªè¡Œç¼–å†™
	   &lt;display_order&gt;5&lt;/display_order&gt;  æ˜¾ç¤ºé¡ºåºï¼Œä¸€èˆ¬ä¸ç”¨æ›´æ”¹
	   &lt;grouplist&gt;  å£°æ˜ä½¿ç”¨å“ªäº›è½¯ä»¶ç»„ï¼Œè‡ªè¡Œç¼–å†™
		      &lt;groupid&gt;XXXX&lt;/groupid&gt;  éœ€è¦çš„è½¯ä»¶ç»„çš„åç§°
	   &lt;/grouplist&gt;  XMLè¯­æ³•å›ºå®šå†™æ³•
&lt;/enviroment&gt;  XMLè¯­æ³•å›ºå®šå†™æ³•
</code></pre>
<p>è½¯ä»¶ç»„ä¸ç¯å¢ƒç»„å…³ç³»å¦‚ä¸‹ï¼š<br>
<img alt="e9920f38-5b60-43e9-9928-a2c50a05a1cd" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3701941/202512/3701941-20251221154622532-1112254238.png" class="lazyload"></p>
<p>é‡å»ºåŒ…ä¾èµ– repo æ•°æ®åº“ï¼š<br>
ä¸Šè¿°ä¿®æ”¹åï¼Œä½¿ç”¨ createrepo å·¥å…· é‡æ–°åŸºäºä¸Šé¢çš„ XML é‡æ–°ç”Ÿæˆ repodata ä¸‹é¢çš„ RPM åŒ…çš„ä¾èµ–å…³ç³»æ•°æ®åº“ ä¿å­˜åˆ° ISO æ„å»ºçš„æœ¬åœ°è·¯å¾„ä¸‹</p>
<h2 id="anaconda-installer-çš„å®šåˆ¶å¼€å‘">Anaconda Installer çš„å®šåˆ¶å¼€å‘ï¼š</h2>
<p><strong>Anaconda å®‰è£…å™¨ç®€ä»‹</strong>&nbsp;Anaconda å®‰è£…å™¨æ˜¯ RHELï¼ŒCentOSï¼ŒFedora å‘è¡Œç‰ˆçš„æ“ä½œç³»ç»Ÿå®‰è£…å™¨ï¼Œé‡‡ç”¨pythonè¯­è¨€ç¼–å†™ï¼› Anacondaæ˜¯åœ¨ISOåŠ è½½å®Œå†…æ ¸ vmlinuzä¸ä¸´æ—¶çš„ initrd.img å®Œæˆåˆå§‹åŒ–åï¼Œchroot ååˆ‡æ¢åˆ°å®‰è£…å™¨æ‰€åœ¨çš„çœŸå®&nbsp;rootfs æ–‡ä»¶ç³»ç»Ÿç„¶åè°ƒç”¨&nbsp;/usr/sbin/anaconda ä½å…¥åº“å¯åŠ¨ï¼› å®‰è£…å™¨çš„æ–‡ä»¶ç³»ç»Ÿæ˜¯è¿è¡Œåœ¨å†…å­˜ä¸­çš„ï¼Œæœ€å°çš„å†…å­˜éœ€æ±‚ä¸ºå¤§äºç­‰äº1536 MBï¼Œå¦åˆ™ GUI çš„ Ananconda å®‰è£…å™¨æ— æ³•åˆå§‹åŒ–ï¼Œåªèƒ½è¿›å…¥text ï¼ˆæ–‡æœ¬æ¨¡å¼ï¼‰å®‰è£…æ¨¡å¼ï¼›<br>
åœŸåŠæ³•ä¿®æ”¹ï¼š<br>
Anaconda å®‰è£…å™¨æ˜¯åŒ…åœ¨ ISO æ–‡ä»¶çš„&nbsp;LiveOS ç›®å½•ä¸‹çš„&nbsp;squashf.imgä¸­ä¸€ç»„ python ç¨‹åºï¼Œå…¶ä¸­LiveOS ä¸‹çš„squashfs.img æ˜¯å¯ä»¥è§£å‹è¿›è¡Œä¿®æ”¹ï¼Œé‡æ–°æ‰“åŒ…ï¼›æ‰€ä»¥ä¹Ÿå¯ä»¥ç”¨æ¥åšå®šåˆ¶ï¼›<br>
å¯ä»¥åœ¨ LIVE rootfs ä¸­è¿›è¡Œå‚å•†ä¿¡æ¯ä¿®æ”¹ï¼Œæˆ–è€…æ·»åŠ ç¼ºå°‘å‘½ä»¤å·¥å…·çš„è¯å¯ä»¥åˆ©ç”¨ yum install XXXXX --installroot=XXXXX è¡¥å…¨éƒ¨åˆ†ç¼ºå°‘çš„å‘½ä»¤å·¥å…·ï¼›<br>
æœ€åä¿®æ”¹å®Œæˆåå®‰è£… è§£å‹ squashfs.img çš„é€†æ“ä½œå…¨éƒ¨åè¿‡æ¥æ“ä½œå°±è¡Œ<br>
å½“ç„¶ä¹Ÿå¯ä»¥ç”¨åŸå‚å¼€æºçš„ä¸“ç”¨åˆ¶ä½œå·¥å…·è¿›è¡Œå®šåˆ¶å¼€å‘ä¿®æ”¹ å…³é”®å‘½ä»¤è¡Œå·¥å…·è¯´æ˜ï¼š</p>
<ul>
<li><strong>mock</strong>ï¼šåˆ›å»ºå¹²å‡€æ„å»ºç¯å¢ƒ ä½¿ç”¨ mock build RPM</li>
<li><strong>rpmbuild</strong>ï¼šRPM åŒ…æ„å»ºå·¥å…·</li>
<li><strong>createrepo</strong>ï¼šåˆ›å»ºYUMä»“åº“</li>
<li><strong>lorax</strong>ï¼šçº¢å¸½å­ç³»åˆ—å‘è¡Œç‰ˆçš„ OS å®˜æ–¹é•œåƒæ„å»ºå·¥å…·</li>
<li><strong>pungi</strong>ï¼šFedora/CentOS é•œåƒæ„å»ºå·¥å…·</li>
<li><strong>mkisofs/genisoimage</strong>ï¼šISO é•œåƒåˆ›å»ºå·¥å…·</li>
<li><strong>Anaconda</strong>ï¼šçº¢å¸½å­ç³»åˆ—å‘è¡Œç‰ˆçš„ OS å®‰è£…ç¨‹åºå™¨<br>
X86_64 å¤„ç†å™¨æ¶æ„å¯¹åº”çš„ 7.x KE linux å®šåˆ¶ç‰ˆ lorax ä¿®æ”¹ç‚¹å¦‚ä¸‹ï¼š è¯´æ˜ lorax ä¸»è¦ä¿®æ”¹çš„é…ç½®æ–‡ä»¶æ¨¡æ¿çš„è·¯å¾„ä¸ºï¼š /usr/share/lorax/</li>
</ul>
<p>/usr/share/lorax/runtime-install.tmplï¼š             å®‰è£…é…ç½® anaconda liveos çš„ä¸»é…ç½®æ–‡ä»¶<br>
/usr/share/lorax/runtime-postinstall.tmplï¼š      å®‰è£…å®ŒåŸºç¡€çš„ OS åé¢å¤–é…ç½®çš„å…¥å£é…ç½®æ–‡ä»¶<br>
/usr/share/lorax/runtime-cleanup.tmplï¼š          å®‰è£…å®Œæˆåæ‰§è¡Œæ¸…ç†çš„é…ç½®æ–‡ä»¶<br>
/usr/share/lorax/x86.tmplï¼š                               æœ€åé˜¶æ®µç”Ÿæˆå¯¹åº”æ¶æ„çš„ ISO çš„æ¨¡æ¿æ–‡ä»¶<br>
/usr/share/lorax/config_files/commonï¼š            å­˜æ”¾æ¨¡æ¿é…ç½®æ–‡ä»¶çš„ ç›®å½•</p>
<p>ä¿®æ”¹æ–°å¢åŸæœ‰ anaconda å®‰è£…å™¨ç¼ºå°‘çš„åŠŸèƒ½ï¼š<br>
ä¸èƒ½æ‰§è¡Œ ipmitool è®¾ç½®å¸¦å¤–<br>
ç¼ºå°‘éƒ¨åˆ†ç¼–è¾‘å™¨ï¼Œå‹ç¼©ï¼Œè§£å‹ï¼Œä¸‹è½½å·¥å…·<br>
ç¼ºå°‘è°ƒè¯•æ—¥å¿—ç”¨çš„ç½‘ç»œè¿æ¥<br>
ssh åŠŸèƒ½è¢«ç¦ç”¨<br>
å¢åŠ é›†æˆé˜µåˆ—å¡çš„è¯†åˆ«ç®¡ç†å·¥å…·<br>
å¢åŠ è‡ªç”±å“ç‰Œå‚å•†çš„å®šåˆ¶åŒ–å®‰è£…ä¿¡æ¯ï¼Œ LOGO ï¼Œ è‡ªå®šä¹‰å®‰è£…ç±» (installclass)ï¼Œ<br>
è‡ªå®šä¹‰ systemd æœåŠ¡ ç­‰ç­‰</p>
<h2 id="è‡ªå®šä¹‰å®‰è£…ç±»è¯´æ˜">è‡ªå®šä¹‰å®‰è£…ç±»è¯´æ˜ï¼š</h2>
<p>é…ç½®å®‰è£…ç±»å­˜æ”¾ç›®å½• /usr/lib64/python2.7/site-packages/pyanaconda/installclasses/<br>
åˆ†æï¼š é€šè¿‡è§£å‹ å…¬ç‰ˆçš„ suqashfs.img rootfs æ ¹ï¼Œè§£è¯»ä¸‹é¢çš„ /.buildstamp ä¸­çš„é…ç½®å®šä¹‰æ¨æµ‹<br>
[Main]<br>
Product=centos<br>
Version=7<br>
BugURL=xxxxxxx<br>
IsFinal=True<br>
UUID=202011251613<br>
[Compose]<br>
Lorax=19.7.19-xxx</p>
<p>å‚å•†ä¿¡æ¯ä¸º product=XXX å®šä¹‰çš„ï¼Œå…¶ä¸­ XXX ä¸ºä¿®æ”¹åçš„è‡ªå®šä¹‰çš„å‚å•†ä¿¡æ¯ï¼› ä¿®æ”¹æ­¤å¤„è¦åœ¨ rootfs çš„ /usr/lib64/python2.7/site-packages/pyanaconda/installclasses/ é‡Œé¢æ·»åŠ ä¿®æ”¹å¯¹åº”çš„åŒ…å« product=XXX å­—æ®µçš„&nbsp;install_class çš„æ–¹æ³•ï¼Œå¦åˆ™å®‰è£…å™¨ä¼šå‡ºç°å¥”æºƒæŠ¥é”™ å‚å•†è‡ªå®šä¹‰çš„å®‰è£…ç±»å‚è€ƒ&nbsp;centos.py çš„å†™æ³•ï¼š</p>
<pre><code>#
# rhel.py
#
# Copyright (C) 2010  Red Hat, Inc.  All rights reserved.
#
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
#

import os
import logging
log = logging.getLogger("anaconda")

from pyanaconda.installclass import BaseInstallClass
from pyanaconda.product import productName
from pyanaconda import network
from pyanaconda import nm
from pyanaconda import iutil
from pyanaconda.kickstart import getAvailableDiskSpace
from blivet.partspec import PartSpec
from blivet.platform import platform
from blivet.devicelibs import swap
from blivet.size import Size

__all__ = ["RHELBaseInstallClass", "RHELAtomicInstallClass"]


class RHELBaseInstallClass(BaseInstallClass):
    name = "CentOS Linux"
    sortPriority = 20001
    if not productName.startswith("CentOS"):
        hidden = True
    defaultFS = "xfs"

    bootloaderTimeoutDefault = 5

    ignoredPackages = ["ntfsprogs", "reiserfs-utils", "hfsplus-tools"]

    installUpdates = False

    _l10n_domain = "comps"

    efi_dir = "centos"

    help_placeholder = "CentOSPlaceholder.html"
    help_placeholder_with_links = "CentOSPlaceholderWithLinks.html"

    def configure(self, anaconda):
        BaseInstallClass.configure(self, anaconda)

    def setNetworkOnbootDefault(self, ksdata):
        if any(nd.onboot for nd in ksdata.network.network if nd.device):
            return
        # choose the device used during installation
        # (ie for majority of cases the one having the default route)
        dev = network.default_route_device() \
              or network.default_route_device(family="inet6")
        if not dev:
            return
        # ignore wireless (its ifcfgs would need to be handled differently)
        if nm.nm_device_type_is_wifi(dev):
            return
        network.update_onboot_value(dev, True, ksdata=ksdata)

    def __init__(self):
        BaseInstallClass.__init__(self)

class RHELAtomicInstallClass(RHELBaseInstallClass):
    name = "CentOS Atomic Host"
    sortPriority=21001
    hidden = not productName.startswith(("CentOS Atomic Host", "CentOS Linux Atomic"))

    def __init__(self):
        self.localemap = {} # loaded lazily
        RHELBaseInstallClass.__init__(self)

    def setDefaultPartitioning(self, storage):
        autorequests = [PartSpec(mountpoint="/", fstype=storage.defaultFSType,
                                 size=Size("3GiB"), maxSize=Size("15GiB"), grow=True, lv=True,
                                 thin=True, encrypted=True)]

        bootreqs = platform.setDefaultPartitioning()
        if bootreqs:
            autorequests.extend(bootreqs)

        disk_space = getAvailableDiskSpace(storage)
        swp = swap.swapSuggestion(disk_space=disk_space)
        autorequests.append(PartSpec(fstype="swap", size=swp, grow=False,
                                    lv=True, encrypted=True))

        for autoreq in autorequests:
            if autoreq.fstype is None:
                if autoreq.mountpoint == "/boot":
                    autoreq.fstype = storage.defaultBootFSType
                    autoreq.size = Size("300MiB")
                else:
                    autoreq.fstype = storage.defaultFSType

        storage.autoPartitionRequests = autorequests

    def filterSupportedLangs(self, ksdata, langs):
        self._initialize_localemap(ksdata.ostreesetup.ref,
                                   ksdata.ostreesetup.url)
        for lang in langs:
            if lang in self.localemap:
                yield lang

    def filterSupportedLocales(self, ksdata, lang, locales):
        self._initialize_localemap(ksdata.ostreesetup.ref,
                                   ksdata.ostreesetup.url)
        supported = []
        if lang in self.localemap:
            for locale in locales:
                stripped = self._strip_codeset_and_modifier(locale)
                if stripped in self.localemap[lang]:
                    supported.append(locale)
        return supported

    def _initialize_localemap(self, ref, repo):

        if self.localemap:
            return

        # fallback to just en_US in case of errors
        self.localemap = { "en": ["en_US"] }

        # Let's only handle local embedded repos for now. Anyway, it'd probably
        # not be very common to only override ostreesetup through kickstart and
        # still want the interactive installer. Though to be nice, let's handle
        # that case.
        if not repo.startswith("file://"):
            log.info("ostree repo is not local; defaulting to en_US")
            return

        # convert to regular UNIX path
        repo = repo[len("file://"):]

        iutil.mkdirChain(os.path.join(repo, "tmp/usr/lib"))
        rc = iutil.execWithRedirect("/usr/bin/ostree",
            ["checkout", "--repo", repo, ref,
             "--subpath", "/usr/lib/locale/locale-archive",
             "install/ostree/tmp/usr/lib/locale"])
        if rc != 0:
            log.error("failed to check out locale-archive; check program.log")
            return

        for line in iutil.execReadlines("/usr/bin/localedef",
                                        ["--prefix", os.path.join(repo, "tmp"),
                                         "--list-archive"]):
            line = self._strip_codeset_and_modifier(line)
            (lang, _) = line.split('_')
            if lang not in self.localemap:
                self.localemap[lang] = [line]
            else:
                self.localemap[lang].append(line)

    @staticmethod
    def _strip_codeset_and_modifier(locale):
        if '@' in locale:
            locale = locale[:locale.find('@')]
        if '.' in locale:
            locale = locale[:locale.find('.')]
        return locale
</code></pre>
<p>å…¶ä¸­æˆ‘ä»¬éœ€è¦ä¿®æ”¹ç‚¹éœ€è¦åŸºäºæœ¬èº«çš„&nbsp;centos.py æ‹·è´ä¸€ä»½æ–°çš„å‘½åä¸º xxxx.py å†è¿›è¡Œä¿®æ”¹ï¼›<br>
éœ€è¦ä¿®æ”¹ä¸º&nbsp;RHELBaseInstallClass ä¸ RHELAtomicInstallClass ä¸¤ä¸ªç±»ä¸­çš„å‚å•†ä¿¡æ¯ productName å˜é‡ï¼Œè¿™ä¸ªä¿¡æ¯å­—æ®µä¸º /.buildstamp ä¸­ product=&nbsp;åé¢çš„å­—æ®µ<br>
åˆ†æ centos.py å®‰è£…ç±»çš„å¯¼å…¥å‡½æ•°æ—¶ï¼Œå¯ä»¥çœ‹åˆ°&nbsp;productName æ˜¯ä» pyanaconda.product é‡Œé¢å¯¼å…¥çš„<br>
æ£€æŸ¥ /usr/lib64/python2.7/site-packages/pyanaconda/product.py ä»£ç é€»è¾‘å¦‚ä¸‹ï¼š</p>
<pre><code>#
# product.py: product identification string
#
# Copyright (C) 2003  Red Hat, Inc.  All rights reserved.
#
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
#

import ConfigParser
import os

from pyanaconda.i18n import _

# First, load in the defaults.  In order of precedence:  contents of
# .buildstamp, environment, stupid last ditch hardcoded defaults.
config = ConfigParser.ConfigParser()
config.add_section("Main")
config.set("Main", "Arch", os.environ.get("ANACONDA_PRODUCTARCH", os.uname()[4]))
config.set("Main", "BugURL", os.environ.get("ANACONDA_BUGURL", "your distribution provided bug reporting tool"))
config.set("Main", "IsFinal", os.environ.get("ANACONDA_ISFINAL", "false"))
config.set("Main", "Product", os.environ.get("ANACONDA_PRODUCTNAME", "anaconda"))
config.set("Main", "UUID", "")
config.set("Main", "Version", os.environ.get("ANACONDA_PRODUCTVERSION", "bluesky"))

# Now read in the .buildstamp file, wherever it may be.
config.read(["/.buildstamp", "/tmp/product/.buildstamp", os.environ.get("PRODBUILDPATH", "")])

# Set up some variables we import throughout, applying a couple transforms as necessary.
bugUrl = config.get("Main", "BugURL")
isFinal = config.getboolean("Main", "IsFinal")
productArch = config.get("Main", "Arch")
productName = config.get("Main", "Product")
if productName.endswith(" Alternate Architectures"):
    productName = productName[:-len(" Alternate Architectures")]
productStamp = config.get("Main", "UUID")
productVersion = config.get("Main", "Version")

if not productArch and productStamp.index(".") != -1:
    productArch = productStamp[productStamp.index(".")+1:]
if productVersion == "development":
    productVersion = "rawhide"

def distributionText():
    return _("%(productName)s %(productVersion)s INSTALLATION") % \
             {"productName": productName, "productVersion": productVersion}

def translated_new_install_name():
    return _("New %(name)s %(version)s Installation") % \
        {"name" : productName, "version" : productVersion}
</code></pre>
<p>ä¿®æ”¹åçš„è‡ªå®šä¹‰çš„ xxxxos.py å®‰è£…ç±»é…ç½®æ–¹æ³• , æ¯”å¦‚å®šä¹‰ä¸º rtxos.py</p>
<pre><code>#
# rhel.py
#
# Copyright (C) 2010  Red Hat, Inc.  All rights reserved.
#
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
#

from pyanaconda.installclass import BaseInstallClass
from pyanaconda.product import productName
from pyanaconda import network
from pyanaconda import nm
from pyanaconda.kickstart import getAvailableDiskSpace
from blivet.partspec import PartSpec
from blivet.platform import platform
from blivet.devicelibs import swap
from blivet.size import Size

class RHELBaseInstallClass(BaseInstallClass):
    name = "rtxOS Linux"
    sortPriority = 20002
    if not productName.startswith("rtxOS"):
        hidden = True
    defaultFS = "xfs"

    bootloaderTimeoutDefault = 5

    ignoredPackages = ["ntfsprogs", "reiserfs-utils", "hfsplus-tools"]

    installUpdates = False

    _l10n_domain = "comps"

    efi_dir = "centos"

    help_placeholder = "CentOSPlaceholder.html"
    help_placeholder_with_links = "CentOSPlaceholderWithLinks.html"

    def configure(self, anaconda):
        BaseInstallClass.configure(self, anaconda)
        self.setDefaultPartitioning(anaconda.storage)

    def setNetworkOnbootDefault(self, ksdata):
        if any(nd.onboot for nd in ksdata.network.network if nd.device):
            return
        # choose the device used during installation
        # (ie for majority of cases the one having the default route)
        dev = network.default_route_device() \
              or network.default_route_device(family="inet6")
        if not dev:
            return
        # ignore wireless (its ifcfgs would need to be handled differently)
        if nm.nm_device_type_is_wifi(dev):
            return
        network.update_onboot_value(dev, "yes", ksdata)

    def __init__(self):
        BaseInstallClass.__init__(self)

class RHELAtomicInstallClass(RHELBaseInstallClass):
    name = "rtxOS Atomic Host"
    sortPriority=21001
    hidden = not productName.startswith(("rtxOS Atomic Host", "rtxOS Linux Atomic"))

    def setDefaultPartitioning(self, storage):
        autorequests = [PartSpec(mountpoint="/", fstype=storage.defaultFSType,
                                size=Size("1GiB"), maxSize=Size("3GiB"), grow=True, lv=True)]

        bootreqs = platform.setDefaultPartitioning()
        if bootreqs:
            autorequests.extend(bootreqs)

        disk_space = getAvailableDiskSpace(storage)
        swp = swap.swapSuggestion(disk_space=disk_space)
        autorequests.append(PartSpec(fstype="swap", size=swp, grow=False,
                                    lv=True, encrypted=True))

        for autoreq in autorequests:
            if autoreq.fstype is None:
                if autoreq.mountpoint == "/boot":
                    autoreq.fstype = storage.defaultBootFSType
                    autoreq.size = Size("300MiB")
                else:
                    autoreq.fstype = storage.defaultFSType

        storage.autoPartitionRequests = autorequests
</code></pre>
<p><strong>æ³¨æ„:</strong>&nbsp;<br>
è‡ªå®šä¹‰çš„å®‰è£…ç±»çš„ sortPriority çš„å€¼éœ€è¦å¤§äº 20000 æ‰ä¼šä¼˜å…ˆåŠ è½½å¹¶å¯åŠ¨è¿è¡Œ<br>
efi_dir ç›®å½•çš„åå­—ï¼Œä¸è¦ä¿®æ”¹æˆ productName å˜é‡çš„å€¼ï¼Œå¦åˆ™ä¼šå‡ºç° EFI æ¨¡å¼å®‰è£…å®Œæˆç³»ç»Ÿåï¼Œå®‰è£… EFI å¼•å¯¼æ–‡ä»¶å¤±è´¥çš„é—®é¢˜ï¼Œ<br>
åŸå› æ˜¯å…¬ç‰ˆçš„ CentOS å‘è¡Œç‰ˆä¸­ï¼Œgrub2-efi-x64-2.02-0.81.el7.centos.x86_64.rpm åŒ…ä¸­åŒ…å«çš„å¼•å¯¼é¡¹çš„é»˜è®¤&nbsp;efi_dir çš„å€¼ä¸º centos ï¼Œæ‰€ä»¥å¦‚æœè¿™é‡Œæ”¹æˆå‚å•†å®šä¹‰çš„å…¶ä»–å€¼ä¼šå¯¼è‡´ EFI å¼•å¯¼æ–‡ä»¶æ— æ³•å†™å…¥ï¼Œæ‰€ä»¥ç³»ç»Ÿä¹Ÿå°±æ— æ³•å¼•å¯¼ï¼›<br>
é™¤éæ‹¿åˆ° grub2-efi SRPM æºç è¿›è¡Œä¿®æ”¹ï¼Œå†é‡æ–°æ‰“åŒ…æˆäºŒè¿›åˆ¶ RPM åŒ…ï¼Œå¦åˆ™ä¸æ¨èä¿®æ”¹è¿™é‡Œ</p>
<h2 id="ä¿®æ”¹-anaconda-åˆ¶ä½œçš„é…ç½®æ¨¡æ¿">ä¿®æ”¹ anaconda åˆ¶ä½œçš„é…ç½®æ¨¡æ¿ï¼š</h2>
<p>ä¿®æ”¹ /usr/share/lorax/runtime-install.tmpl ï¼š å¢åŠ éƒ¨åˆ†éœ€è¦çš„å®‰è£…åŒ…<br>
filesystem tools é‡Œé¢<br>
å¢åŠ äº† ntfs-3g ntfsprogs RPM åŒ…ç”¨äºæ”¯æŒ ntfs æ ¼å¼æ–‡ä»¶ç³»ç»Ÿçš„è¯»å†™<br>
<img alt="d8e00ad6-8642-4074-a58d-99699fd8b7d2" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3701941/202512/3701941-20251221154720908-1887723656.png" class="lazyload"><br>
hardware utility ä¸­å¢åŠ äº†ï¼šç¡¬ç›˜æ£€æµ‹å·¥å…·ï¼Œ ipmi å¸¦å†…å¸¦å¤–å·¥å…·<br>
<img alt="6793a9bc-b977-456d-8d3f-3b21b18c6b9d" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3701941/202512/3701941-20251221154818303-1207777044.png" class="lazyload"></p>
<p>extra tools ä¸­å¢åŠ å¦‚ä¸‹å·¥å…· ï¼ˆvim less bc wget unzip iperf ç­‰ï¼‰ï¼š<br>
<img alt="d4a5517f-e0d6-4a96-9a40-41f97f84d7fb" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3701941/202512/3701941-20251221154850705-422427427.png" class="lazyload"></p>
<p>net/server tools é‡Œé¢æ–°å¢ ï¼š<br>
<img alt="061f2978-9448-4b82-b43f-2f5a1635981a" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3701941/202512/3701941-20251221155051419-107166058.png" class="lazyload"></p>
<p>ä¿®æ”¹ /usr/share/lorax/runtime-postinstall.tmplï¼š è°ƒæ•´è¿è¡Œçš„æ—¶åŒºä¸º UTC+8 shanghai æ—¶åŒº<br>
<img alt="79a86280-1405-476b-b9ae-ac1650eac31e" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3701941/202512/3701941-20251221155109815-1569783147.png" class="lazyload"></p>
<p>å®‰è£…å¢åŠ ä¸‹é¢çš„ OEM å®šåˆ¶åŒ–å‚å•†ä¿¡æ¯ï¼Œ æ¯”å¦‚ rtx<br>
<img alt="53003c25-6e0b-4dfc-83d4-29e67c4b28be" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3701941/202512/3701941-20251221155126148-1470080791.png" class="lazyload"></p>
<p>å¢åŠ éƒ¨åˆ†å®‰è£…å™¨ bash shell ä½¿ç”¨çš„ ç¯å¢ƒå˜é‡é…ç½®æ¨¡æ¿<br>
<img alt="d6547c8e-51bb-4547-b508-1b5b15fc6c37" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3701941/202512/3701941-20251221155142785-1605577079.png" class="lazyload"></p>
<p>å¢åŠ è‡ªå®šä¹‰çš„æœåŠ¡<br>
<img alt="b8d8fc6a-f9e8-4b7f-b143-629173d8acd3" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3701941/202512/3701941-20251221155154551-1524724382.png" class="lazyload"></p>
<p>. tmpl é…ç½®æ–‡ä»¶ä¸­çš„è¯­æ³•è¯´æ˜ï¼š</p>
<ol>
<li>å¤§éƒ¨åˆ†è¯­æ³•ä¸æ„å»º RPM åŒ…çš„ SPEC ä¸­çš„è¯­æ³•ç±»ä¼¼</li>
<li>${xxxx} ä¸­çš„å˜é‡ä½¿ç”¨é¢„å®šä¹‰å¥½çš„æ¨¡æ¿çš„å‚æ•°èµ‹å€¼<br>
installclasses è·¯å¾„ï¼š /usr/lib64/python2.7/site-packages/pyanaconda/installclasses/<br>
æœåŠ¡å™¨ä¸Šçš„è·¯å¾„ ï¼š /usr/share/lorax/config_files/common/ ç­‰äº runtime-postinstall.tmpl æ–‡ä»¶ä¸­ ${configdir} å˜é‡æ‰€æŒ‡çš„è·¯å¾„<br>
anaconda GUI èƒŒæ™¯å›¾æ›¿æ¢æ–‡ä»¶è·¯å¾„ ï¼š<br>
/usr/share/anaconda/pixmaps/ æ›¿æ¢åŸæœ‰çš„ sidebar-bg.png sidebar-logo.png topbar-bg.png<br>
/usr/share/anaconda/pixmaps/rnotes/en è·¯å¾„ä¸‹ï¼š<br>
centos-artwork.png<br>
centos-cloud.png<br>
centos-cloud.png<br>
centos-core.png<br>
centos-promotion.png<br>
centos-virtualization.png</li>
</ol>
<h1 id="åˆ¶ä½œå¹¶è¾“å‡ºæ–°çš„-anaconda-å®‰è£…å™¨">åˆ¶ä½œå¹¶è¾“å‡ºæ–°çš„ anaconda å®‰è£…å™¨ï¼š</h1>
<p>å‚æ•°è¯´æ˜ ï¼š<br>
æœ€åçš„  /home/new_anaconda/ ä»£è¡¨åˆ¶ä½œæ–°è¾“å‡ºçš„ anaconda boot.iso çš„æ ¹ç›®å½•è·¯å¾„ï¼ˆè¾“å‡ºç›®å½•ä¸èƒ½å…ˆå­˜åœ¨ï¼Œå¦åˆ™ä¼šæç¤ºæŠ¥é”™ï¼‰<br>
-p ä»£è¡¨ product name<br>
-r ä»£è¡¨ release version<br>
-v ä»£è¡¨ version identifier<br>
-s ä»£è¡¨ è½¯ä»¶ä»“åº“çš„ URL åœ°å€ï¼Œ å¯ç”¨ç½‘ä¸Šçš„å¼€æºé•œåƒç«™çš„æºï¼Œä¹Ÿå¯ä»¥æ¢æˆè‡ªå·±æ­å»ºç»´æŠ¤çš„ http ä»“åº“æº<br>
--isfinal è¡¨ç¤ºæ„å»ºæœ€ç»ˆç”¨äºå‘å¸ƒçš„ anaconda build ç‰ˆæœ¬<br>
CMDï¼š<br>
lorax -p 'rtxOS' -v '7' -r '9' -s "<a href="http://192.168.2.24/ISO_TREE_REPO/CentOS-7-x86_64-Everything-2207-02/" target="_blank" rel="noopener nofollow">http://192.168.2.24/ISO_TREE_REPO/CentOS-7-x86_64-Everything-2207-02/</a>" $(pwd)/new_anaconda/ --isfinal<br>
<img alt="" loading="lazy" data-src="1dcf1faa-e3a6-5279-a68d-5c1e09ef2901/199144cd-a8fe-4ed4-a32c-b3ed4380d318.png" class="lazyload"><br>
æ›¿æ¢æ‰“åŒ… ISO æ ¹ç›®å½•ä¸­çš„åŒååŒè·¯å¾„èµ„æºæ–‡ä»¶ï¼š</p>
<pre><code>#!/bin/bash

anaconda_path=/mnt/workspace/new_anaconda
target_path=/mnt/workspace/RTX_ISO_ROOT

/bin/cp -fa ${anaconda_path:?}/.discinfo ${target_path:?}/
/bin/cp -fa ${anaconda_path:?}/.treeinfo ${target_path:?}/

/bin/cp -fa ${anaconda_path:?}/isolinux/vmlinuz ${target_path:?}/isolinux/vmlinuz
/bin/cp -fa ${anaconda_path:?}/isolinux/initrd.img ${target_path:?}/isolinux/initrd.img
/bin/cp -fa ${anaconda_path:?}/images/pxeboot/vmlinuz ${target_path:?}/images/pxeboot/vmlinuz
/bin/cp -fa ${anaconda_path:?}/images/pxeboot/initrd.img ${target_path:?}/images/pxeboot/initrd.img
/bin/cp -Rfa ${anaconda_path:?}/LiveOS ${target_path:?}/
</code></pre>
<p>æœ€ç»ˆæ‰“åŒ…è¾“å‡ºï¼š æ ¹æ®éœ€æ±‚ï¼Œé•œåƒéœ€è¦æ”¯æŒå­˜æ”¾å¤§äº4GBçš„å•ä¸ªæ–‡ä»¶ï¼Œæ‰€ä»¥å‚è€ƒ genisoimage çš„ man æ–‡ä»¶åï¼Œå¤–åŠ å‚è€ƒçº¢å¸½å­æä¾›çš„èµ„æ–™<br>
æ‰“åŒ…ISOçš„å‘½ä»¤å‚æ•°å¦‚ä¸‹ï¼š</p>
<pre><code>#!/bin/bash 

#CURRENT_PATH=$(pwd)
ISO_SOURCE=/mnt/workspace/RTX_ISO_ROOT/
ISO_PATH="isolinux"
ISO_FORMAT="-no-emul-boot -boot-load-size 4 -boot-info-table"
echo ""

para=$1
if [ -z ${para} ];then
    read -p " Please Make A Name For ISO : " name
else
    name=${para}
fi

if [ -z $name ];then
    name="biubiubiu_rtx9090_os_custom_$(uname -m)_$(date +"%Y%m%d")_7.9"
fi

cd "$ISO_SOURCE" || exit 1

#### make iso
genisoimage  -U -r -v -T -J -udf -joliet-long -V "rtxOS" -volset "rtxOS" -A "rtxOS" \
-o /mnt/workspace/${name}.iso -c ${ISO_PATH}/boot.cat -b ${ISO_PATH}/isolinux.bin ${ISO_FORMAT} \
-eltorito-alt-boot -e images/efiboot.img -allow-limited-size -no-emul-boot ${ISO_SOURCE}

#### insert md5 checksum
implantisomd5 /mnt/workspace/${name}.iso
#### make to hybrid boot
isohybrid -v /mnt/workspace/${name}.iso
[ $? = 0 ] &amp;&amp; echo -e "\n ${name}.iso generate complete !! \n"
</code></pre>
<p>å‚æ•° -U -r -v -T -J -udf -joliet-long å«ä¹‰ä¸ºï¼šä¸ç¿»è¯‘æ–‡ä»¶åï¼Œç”Ÿæˆ RockRidge ç›®å½•ä¿¡æ¯ï¼Œå¯è§†åŒ–çš„ï¼Œç»™ç³»ç»Ÿæ— æ³•ç†è§£çš„é•¿æ–‡ä»¶åç”Ÿæˆè½¬æ¢è¡¨ä¿¡æ¯ï¼Œç”Ÿæˆ Joliet ç›®å½•ä¿¡æ¯ï¼Œä½¿ç”¨UDFæ ¼å¼ï¼ˆæ”¯æŒå¤§äº4GBçš„æ–‡ä»¶ï¼‰ï¼Œå…è®¸ Joliet æ–‡ä»¶åçš„è¾¾åˆ° 103 ä¸ª unicode å­—ç¬¦ã€‚<br>
å‚æ•° -V "rtxOS" -volset "rtxOS" -A "rtxOS" è¡¨ç¤ºç”Ÿæˆ ISO çš„å·åç§°æ ‡ç­¾ï¼ˆlabelï¼‰ä¸ºï¼š â€˜rtxOSâ€™<br>
å‚æ•° -o /mnt/workspace/${name}.iso è¡¨ç¤ºè¾“å‡º ISO æ–‡ä»¶åˆ°  /mnt/workspace/ ä¸‹<br>
å‚æ•° -c isolinux/boot.cat -b isolinux/isolinux.bin è¡¨ç¤ºä½¿ç”¨ISOæ‰“åŒ…ç›®å½•ä¸­ isolinuxç›®å½•ä¸‹çš„ boot.cat ä¸ isolinux.bin ä¸¤ä¸ªå›ºä»¶å¼•å¯¼ BIOS æ¨¡å¼<br>
å‚æ•° -eltorito-alt-boot -e images/efiboot.img è¡¨ç¤ºä½¿ç”¨ISO æ‰“åŒ…ç›®å½•ä¸­çš„ image/efiboot.img å¼•å¯¼EFI æ¨¡å¼<br>
å‚æ•° -allow-limited-size -no-emul-boot è¡¨ç¤ºå…è®¸é™åˆ¶å°ºå¯¸ï¼Œéæ¨¡æ‹Ÿå¯åŠ¨<br>
å‚æ•° $ISO_SOURCE ä»£è¡¨åˆ¶ä½œ ISO çš„æ‰“åŒ…æ ¹ç›®å½•è·¯å¾„<br>
ISO å®‰è£…æµ‹è¯•ï¼š<br>
BIOS æ¨¡å¼ï¼š</p>
<p><img alt="27e21ae1-19cd-4511-81d9-c6576f25dc86" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3701941/202512/3701941-20251221155252288-1552849659.png" class="lazyload"></p>
<p>UEFI æ¨¡å¼ï¼š<br>
<img alt="79b25468-f677-4a1c-b8c5-20ec553f827d" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3701941/202512/3701941-20251221155302162-421696528.png" class="lazyload"></p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-12-21 15:54">2025-12-21 15:54</span>&nbsp;
<a href="https://www.cnblogs.com/optimus007">å¾®è½¯å…¶å®å·¨ç¡¬</a>&nbsp;
é˜…è¯»(<span id="post_view_count">78</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19379438);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19379438', targetLink: 'https://www.cnblogs.com/optimus007/p/19379438', title: 'å®šåˆ¶ CentOS7 ISO çš„æœ€ä½³å®è·µ' })">ä¸¾æŠ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ STM32HALåº“ä¸­æ–­æ•™ç¨‹ä»¥åŠåˆ†è£…ä¸­æ–­å·¥å…·å‡½æ•°ï¼ˆé™„ä¸‹è½½åœ°å€ï¼‰ ]]></title>
    <link>https://www.cnblogs.com/pc2005/p/19381393</link>
    <guid>0d0f5f8c2827fec053165a52cb6e01a3</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/pc2005/p/19381393" title="å‘å¸ƒäº 2025-12-22 11:20">
    <span role="heading" aria-level="2">STM32HALåº“ä¸­æ–­æ•™ç¨‹ä»¥åŠåˆ†è£…ä¸­æ–­å·¥å…·å‡½æ•°ï¼ˆé™„ä¸‹è½½åœ°å€ï¼‰</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="æ–‡ç« å†…å®¹">æ–‡ç« å†…å®¹</h1>
<ol>
<li>ä½¿ç”¨HALåº“å®ç°å¼•è„šå¤–éƒ¨ä¸­æ–­</li>
<li>å°è£…ä¸­æ–­å·¥å…·å‡½æ•°</li>
</ol>
<h1 id="å¿«é€Ÿå…¥é—¨">å¿«é€Ÿå…¥é—¨</h1>
<ol>
<li>è®¿é—®gitä»“åº“: <a href="https://github.com/Guardian-Elf/Guardian-Elf-Embedded" target="_blank" rel="noopener nofollow">Guardian-Elf/Guardian-Elf-Embedded</a></li>
<li>æ‰¾åˆ°å¹¶ä¸‹è½½ä¸­æ–­å·¥å…·æ–‡ä»¶ï¼ˆ2ä¸ªæ–‡ä»¶ï¼šInterrupt.h/.cï¼‰</li>
<li>ç”±äºæˆ‘çš„é¡¹ç›®ä¸­ä½¿ç”¨äº†ä¸²å£æ¥è°ƒè¯•ä¸­æ–­å‡½æ•°ï¼Œæ‰€ä»¥å¦‚æœæŠ¥é”™å°±æŠŠæ— å…³çš„ä»£ç åˆ é™¤</li>
<li>ä»£ç ç¤ºä¾‹</li>
</ol>
<pre><code class="language-c">// é…ç½®GPIOBçš„1ï¼Œ0å¼•è„š
void Interrupt_Service_Init(void) {  
    Interrupt_Init(GPIOB, GPIO_PIN_0, 1, 3);  
    Interrupt_Init(GPIOB, GPIO_PIN_1, 1, 3);  
}  
  
// ä¸­æ–­è§¦å‘æ—¶ä¼šæ‰§è¡Œè¿™ä¸¤ä¸ªå‡½æ•°
void Interrupt_0(void) {  
    OLED_NextPage();  // è¿™ä¸ªOLEDçš„é©±åŠ¨å‡½æ•°ï¼Œä½ å¯ä»¥æ”¹æˆLEDç‚¹ç¯æ¥åˆ¤æ–­æ˜¯å¦æˆåŠŸ
}  
void Interrupt_1(void) {  
    OLED_PrevPage();  
}
</code></pre>
<h1 id="halåº“å®ç°ä¸²å£ä¸­æ–­">HALåº“å®ç°ä¸²å£ä¸­æ–­</h1>
<h2 id="åˆå§‹åŒ–å¼•è„š">åˆå§‹åŒ–å¼•è„š</h2>
<pre><code class="language-c">__HAL_RCC_GPIOB_CLK_ENABLE() // å¼€å¯å¼•è„šä½¿èƒ½

GPIO_InitTypeDef GPIO_InitStruct = {0};  
GPIO_InitStruct.Pin = GPIO_PIN_0;  // GPIOB 0å¼•è„š
GPIO_InitStruct.Mode = GPIO_MODE_IT_FALLING;  // ä¸‹é™æ²¿è§¦å‘ï¼ˆæŒ‰é”®æŒ‰ä¸‹ä¸ºä½ï¼‰
GPIO_InitStruct.Pull = GPIO_PULLUP;  // é»˜è®¤ä¸Šæ‹‰ï¼ŒæœªæŒ‰ä¸‹æ—¶ä¸ºé«˜
GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;  
HAL_GPIO_Init(GPIO_PORT, &amp;GPIO_InitStruct);

// é…ç½®ä¸­æ–­ä¼˜å…ˆçº§å¹¶ä½¿èƒ½  
// EXTI0_IRQn è¡¨ç¤º0é€šé“ï¼Œå½“A0ï¼ŒB0ï¼ŒC0...è§¦å‘ä¸­æ–­åä¼šæ¿€æ´»è¿™ä¸ªé€šé“
HAL_NVIC_SetPriority(EXTI0_IRQn, 3, 0);  
HAL_NVIC_EnableIRQ(EXTI0_IRQn);
</code></pre>
<h2 id="ä¸­æ–­è§¦å‘å‡½æ•°">ä¸­æ–­è§¦å‘å‡½æ•°</h2>
<ol>
<li>EXTI0_IRQHandlerå®ç°</li>
</ol>
<pre><code class="language-c">// å½“A0ï¼ŒB0ï¼ŒC0...è§¦å‘ä¸­æ–­åä¼šè¿›å…¥è¿™ä¸ªå‡½æ•°
void EXTI0_IRQHandler(void)    {  
    HAL_GPIO_EXTI_IRQHandler(GPIO_PIN_0); // å†…éƒ¨è‡ªåŠ¨å¤„ç†æœ‰å…³ä¸­æ–­çš„å¯„å­˜å™¨æ ‡å¿—ä½
}
</code></pre>
<ol start="2">
<li>HAL_GPIO_EXTI_IRQHandlerè§£æ</li>
</ol>
<p>è¿™ä¸ªå‡½æ•°æ˜¯HALåº“è‡ªå¸¦çš„ï¼Œç”¨äºè‡ªå¸¦å¤„ç†ä¸­æ–­æ ‡å¿—ä½ï¼Œè¿™æ ·ç”¨æˆ·å°±å¯ä»¥ä¸ç”¨æ“ä½œå¯„å­˜å™¨ï¼Œè€Œæ˜¯å®ç°å…·ä½“ä¸­æ–­ä¸šåŠ¡ä»£ç </p>
<p>å› ä¸ºè¿™ä¸ªå‡½æ•°æ˜¯ç”¨æ¥å¤„ç†æ‰€æœ‰ç»„çš„æ‰€æœ‰å¼•è„šçš„ä¸­æ–­ï¼Œæ‰€æœ‰éœ€è¦åˆ¤æ–­å¼•è„š</p>
<pre><code class="language-c">/**  
  * @brief  This function handles EXTI interrupt request.  * @param  GPIO_Pin: Specifies the pins connected EXTI line  * @retval None  */void HAL_GPIO_EXTI_IRQHandler(uint16_t GPIO_Pin)  
{  
  /* EXTI line interrupt detected */  
  if (__HAL_GPIO_EXTI_GET_IT(GPIO_Pin) != 0x00u)  
  {  
    __HAL_GPIO_EXTI_CLEAR_IT(GPIO_Pin);  
    HAL_GPIO_EXTI_Callback(GPIO_Pin);  
  }  
}
</code></pre>
<p>å¯ä»¥çœ‹åˆ°å½“äº§ç”Ÿä¸­æ–­æ˜¯ä¼šæ‰§è¡ŒHAL_GPIO_EXTI_Callbackå‡½æ•°ï¼Œæ‰€ä»¥ç”¨æˆ·åªéœ€è¦é‡å†™è¿™ä¸ªå‡½æ•°å³å¯</p>
<ol start="3">
<li>void HAL_GPIO_EXTI_Callback(uint16_t GPIO_Pin)</li>
</ol>
<pre><code class="language-c">void HAL_GPIO_EXTI_Callback(uint16_t GPIO_Pin)
{
    if(GPIO_Pin == GPIO_PIN_0)
    {
        // è¿™é‡Œå†™ä½ çš„ä¸­æ–­å¤„ç†ä»£ç 
        
        // ç¤ºä¾‹ï¼šç¿»è½¬LED
        HAL_GPIO_TogglePin(GPIOC, GPIO_PIN_13);
        
        // ç¤ºä¾‹ï¼šå‘é€æ¶ˆæ¯
        // UART_SendString("EXTI0 Triggered!\r\n");
    }
}
</code></pre>
<h1 id="ç»“è¯­">ç»“è¯­</h1>
<p>å¦‚æœè§‰å¾—æœ‰å¸®åŠ©åˆ°ä½ ï¼Œå°±è¯·ç»™ä»“åº“ä¸€ä¸ª star å§ï¼</p>
<p>gitä»“åº“: <a href="https://github.com/Guardian-Elf/Guardian-Elf-Embedded" target="_blank" rel="noopener nofollow">Guardian-Elf/Guardian-Elf-Embedded</a></p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.002777777777777778" data-date-updated="2025-12-22 11:24">2025-12-22 11:20</span>&nbsp;
<a href="https://www.cnblogs.com/pc2005">PC2005-cloud</a>&nbsp;
é˜…è¯»(<span id="post_view_count">0</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19381393);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19381393', targetLink: 'https://www.cnblogs.com/pc2005/p/19381393', title: 'STM32HALåº“ä¸­æ–­æ•™ç¨‹ä»¥åŠåˆ†è£…ä¸­æ–­å·¥å…·å‡½æ•°ï¼ˆé™„ä¸‹è½½åœ°å€ï¼‰' })">ä¸¾æŠ¥</a>
</div>
         ]]>
    </description>
    </item>
        </channel>
        </rss>