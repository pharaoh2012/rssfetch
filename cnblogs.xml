<?xml version="1.0" encoding="UTF-8" ?>
    <rss version="2.0">
    <channel>
        <title><![CDATA[ ä¸»é¡µ - åå®¢å­ ]]></title>
        <link><![CDATA[ https://www.cnblogs.com/ ]]></link>
        <lastBuildDate>2026-01-05T07:15:29.255Z</lastBuildDate>
        <description><![CDATA[
        ä¸»é¡µ - åå®¢å­ RSS
    ]]></description>
        <language>zh-cn</language>
        <item>
    <title><![CDATA[ JuiceFS 2025ï¼è¿å¥åäº¿æä»¶è§æ¨¡ï¼å¼æºç¬¬äºå¹´æç»­é«éå¢é¿ ]]></title>
    <link>https://www.cnblogs.com/JuiceData/p/19443029</link>
    <guid>ece22517a428878d9b27117305e331e3</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/JuiceData/p/19443029" title="åå¸äº 2026-01-05 14:58">
    <span role="heading" aria-level="2">JuiceFS 2025ï¼è¿å¥åäº¿æä»¶è§æ¨¡ï¼å¼æºç¬¬äºå¹´æç»­é«éå¢é¿</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>åå°äºç»å¤§å®¶æ±æ¥å¨å¹´ç¤¾åºå·¥ä½çæ¶åã2025 å¹´ï¼ JuiceFS ä¼ä¸çåå¸çç¬¬ä¹å¹´ï¼ç¤¾åºççç¬¬äºå¹´ãè¿ä¸å¹´ï¼æä»¬ä¸æ³¨ä¸å¦æ¢å¾ï¼æé ä¸æ¬¾é«ææç¨çæä»¶ç³»ç»ã</p>
<p>åé¡¹ä½¿ç¨ææ å»¶ç»­äºä¸ä¸å¹´çå¢é¿å¿å¤´ï¼<strong>ç¤¾åºçæ°æ®éå¢é¿ 89%ï¼è¶ 1.3 EBï¼è¥æ¶è¿ç»­ç¬¬ä¸å¹´ 100% å¢é¿</strong>ï¼æ¯æä»¬æç»­æå¥ç¤¾åºçåå®ä¿éã</p>
<p>2025 å¹´ï¼JuiceFS ç¤¾åºçç»§ç»­èç¦éç¨æ§ï¼å°¤å¶å¨æ¯æåç±»  AI åºæ¯çéæ±ãåå¸äº Python SDKãå¢å¼º Windows å®¢æ·ç«¯å¯ç¨æ§ï¼å¹¶å å¼ºäºå¯¹äºåççæçæ¯æï¼æ­¤å¤ï¼åæ°æ®å¼æ SQL å TiKV ä¹è¿è¡äºéå¯¹æ§ä¼åãä»å¹´ï¼å¢éä¸ç¤¾åºæåä¸éæ¨å¨äº JuiceFS çæç»­è¿­ä»£ï¼å±æ 60 ä½è´¡ç®èåä¸ï¼æ°å¢äº 305 ä¸ª Issueï¼åå¹¶äº 601 ä¸ª PRã</p>
<p>å¨ä¼ä¸ççå¼åè¿ç¨ä¸­ï¼å¢éä»å¹´é¢ä¸´çæå¤§æææ¥èªäº<strong>è¶å¤§è§æ¨¡æ°æ®çç®¡ç</strong>ãéçèªå¨é©¾é©¶ç­ AI ææ¯éæ¸èå¥æ¥å¸¸çæ´»ï¼æ°æ®è§æ¨¡çå¢é¿æ¯ç©ºåçï¼å¨åäº¿æä»¶çº§å«ä¸ï¼åæ°æ®ç®¡çãæ°æ®ä¸è´æ§ç­æ¹é¢çç®¡çå¤æåº¦ææ°çº§å¢å ãä¸ºåºå¯¹è¿äºé¾é¢ï¼ä¼ä¸çå¨åæ°æ®ååºãç½ç»æ§è½ç­æ ¸å¿ç¹æ§ä¸è¿è¡äºå¨é¢åçº§ã<strong>ä¸åå¹´åå¸çä¼ä¸ç 5.2 å·²æ¯æåå·åäº¿è§æ¨¡ï¼å³å°åå¸ç 5.3 çæ¬æ´å°æ¯æ 5,000 äº¿è§æ¨¡</strong>ï¼è®©ç¨æ·ä¸å¿åä¸ºæ°æ®è§æ¨¡åæï¼JuiceFS çæ§è½åç¨³å®æ§ä¹é½è½å¤ç¨³å¦¥ä¿éã</p>
<h2 id="01-ç¤¾åºçæ¯æ-python-sdk-windows-å®¢æ·ç«¯å¯ç¨æ§å¤§å¹æå">01 ç¤¾åºçï¼æ¯æ Python SDKã Windows å®¢æ·ç«¯å¯ç¨æ§å¤§å¹æå</h2>
<p>JuiceFS èªå¼æºä»¥æ¥å·²å¨ä¼ä¸çäº§ç¯å¢ä¸­å¾å°äºé¿æ¶é´çéªè¯ï¼æ ¸å¿åè½éæ­¥è¶äºç¨³å®ãå¨å¹´åå¸äº 9 ä¸ªçæ¬ï¼å¶ä¸­ 1.3 çæ¬æ¯ç»§ 2021 å¹´å¼æºä»¥æ¥çç¬¬åä¸ªéè¦çæ¬ï¼å¹¶ä½ä¸ºé¿ææ¯æçæ¬ï¼LTSï¼ãè¯¥çæ¬çä¸»è¦ä¼ååæ¬ï¼</p>
<ul>
<li><strong>æ¯æ Python SDK</strong> ï¼æåäº AI åæ°æ®ç§å­¦åºæ¯ä¸ççµæ´»æ§åæ§è½ï¼</li>
<li><strong>Windows å®¢æ·ç«¯çä¼å</strong>ï¼å¢å¼ºäºå·¥å·æ¯æåç³»ç»æå¡æè½½è½åï¼</li>
<li><strong>å¤ä»½æºå¶ä¼å</strong>ï¼1 äº¿æä»¶å¤ä»½åéçº§å®æï¼</li>
<li><strong>éæ Apache Ranger</strong>ï¼JuiceFS æ¯æå¤§æ°æ®åºæ¯ä¸­çç»ç²åº¦çæéç®¡çï¼</li>
<li><strong>åæ°æ®å¼ææ¹é¢ï¼SQL å TiKV çæ§è½æå</strong>ï¼å¨è¶å¤§è§æ¨¡åºæ¯ä¸è¡¨ç°æ´å é«æã</li>
</ul>
<p>ä¸åå¹´ï¼å¢éå¼å§ç§¯æç­¹å¤ 1.4 ï¼è®¡åæ°å¢å¤ä¸ªç¹æ§ï¼åæ¬ç¨æ·åç¨æ·ç» Quota æ¯æãRedis å®¢æ·ç«¯ç¼å­æ¯æãLRU ç¼å­æ¯æãSMB/CIFS æ¯æãHadoop Kerberos æ¯æãS3 Gateway ä¼åãSync å·¥å·æ­ç¹ç»­ä¼ ï¼æ°æ®åä¸ç®æ³å å¯æ¯æï¼é¢è¯»ç­ç¥ä¼åãæ¹éå é¤ä¼ååå¨è¾¹å·¥å·ä¼åç­ ï¼ä»¥è¿ä¸æ­¥æåç³»ç»çæ§è½åç¨³å®æ§ã</p>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2544292/202601/2544292-20260105145732006-2105738836.png" class="lazyload"></p>
<p>JuiceFS CSI Driver å¨è¿å»ä¸å¹´åå¸äº 18 ä¸ªçæ¬ï¼æç»­ä¼å JuiceFS å¨ Kubernetes ç­ç¯å¢ä¸­çå­å¨æçåç¨³å®æ§ãæ°å¢åè½åæ¬å·è·¯å¾å¥åº·ç¶ææ£æµãåä¸æä»¶ç³»ç»å±äº« Mount Pod åè½ãæ¯æ Kubernetes åç Sidecarï¼ä»¥å Dashboard ç CacheGroup ç®¡çãæ­¤å¤ï¼è¿è¿è¡äºæ§è½åå¯é æ§ä¼åï¼ä¸ä»æåäºç¨³å®æ§ï¼åæ¶æ¹è¿äºå¤ Pod éç½®åå®¹å¨ååºç¨çå¼å®¹æ§ã</p>
<p>JuiceFS Operatorï¼æ°å¢äºå®æ¶ç¼å­é¢ç­ åè½ï¼æåä¸å¡è®¿é®æ°æ®çæ§è½ï¼æ¯ææå¯æ¬é¨ç½²ç CacheGroupï¼å®ç°äºç¼å­é«å¯ç¨æ§ï¼å¹¶å¼å¥ Sync åè½ï¼å¨ Kubernetes ç¯å¢ä¸­é«æåæ­¥æ°æ®ï¼ç¡®ä¿ä¸è´æ§ã</p>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2544292/202601/2544292-20260105145742529-228445147.png" class="lazyload"></p>
<h2 id="02-ä¼ä¸çåå·åäº¿è§æ¨¡æä»¶å¼ºå²æ§è½ä¸ç¨³å®æ§ä¿é">02 ä¼ä¸çï¼åå·åäº¿è§æ¨¡æä»¶ï¼å¼ºå²æ§è½ä¸ç¨³å®æ§ä¿é</h2>
<p>2025 å¹´ä¸åå¹´ï¼JuiceFS ä¼ä¸ç 5.2 çæ¬åå¸ï¼åä¸ªæä»¶ç³»ç»çªç ´åäº¿æä»¶çè§æ¨¡ï¼å¹¶æ¾èæåäºè¶å¤§è§æ¨¡éç¾¤çç¨³å®æ§ååå¸å¼ç¼å­çç½ç»æ§è½ãä¸ºäºå®ç°è¿ä¸ç®æ ï¼å¢éæå¥äºå¤§éæ¶é´åç²¾åè¿è¡ä¼åï¼ç¹å«æ¯å¨å¤çè¶å¤§æ°æ®éåé«å¹¶åè®¿é®æ¶çæ§è½æåã<strong>è¯¥çæ¬å·²å¨å¤ä¸ªä¼ä¸ççäº§ç¯å¢ä¸­å¾å°éªè¯ï¼åå·åäº¿æä»¶è§æ¨¡ä¸ä¿æ 1 æ¯«ç§åæ°æ®æ¶å»¶æ°´å¹³</strong>ãåæ¶ï¼åå¸å¼ç¼å­ç½ç»æ§è½ä¼åï¼TCP ç½ç»ä¸å¤§å¹åå° CPU å¼éï¼åæ¶æåç½ç»å¸¦å®½å©ç¨çã<strong>å¨ 100 å° GCP 100Gbps èç¹çç¯å¢ä¸ï¼èåè¯»å¸¦å®½è¾¾å° 1.2 TB/sï¼æ¥è¿æ»¡è´è·å©ç¨ TCP/IP ç½ç»å¸¦å®½</strong>ã</p>
<p>æ­¤å¤ï¼ Python SDK å®ç°äº fsspec å¼å®¹ãæéå¯¼å¥å¯¹è±¡å­å¨æä»¶ï¼å¯ä»¥æ´æ¹ä¾¿çè®¿é®å¯¹è±¡å­å¨å­éæ°æ®ãè§£å³ç¹æ®åºæ¯ä¸­çè¯»æ¾å¤§é®é¢ä»¥åæåå¨å± QoS è½åï¼è¿ä¸æ­¥å¢å¼ºäºç³»ç»ççµæ´»æ§åæ§è½ã</p>
<p>å¤ååºæ¶ææ¯ JuiceFS åºå¯¹åäº¿æä»¶è§æ¨¡çå³é®ææ¯ä¹ä¸ï¼ä¿è¯äºç³»ç»çé«æ©å±æ§åé«å¹¶åå¤çè½åã<strong>ä¸åå¹´æä»¬çæ ¸å¿å·¥ä½éä¸­å¨ 5.3 çæ¬ï¼å¯¹å¤ååºæ¶æè¿è¡äºå¨é¢ä¼åï¼ååºéå¶ä» 256 ä¸ªæåè³ 1,024 ä¸ªï¼å¯å®ç°åå·è¶è¿ 5,000 äº¿æä»¶çå­å¨åè®¿é®éæ±</strong>ã</p>
<p>è¿èåæ¯ä¸ç³»åå¤æçå·¥ä½ï¼åæ¬ç³»ç»åæ´çè·¨ååºé¾æ¥å®ç°ï¼å¹¶å®ç°åå°èªæ£æºå¶ï¼æåéç¾¤çå¯é æ§ä¸ç¨³å®æ§ï¼å¼åç­ç¹çæµä¸èªå¨è¿ç§»å·¥å·ï¼é«æå¤çç­ç¹é®é¢ï¼ä¼ååå¸å¼ç¼å­ç®¡çï¼åå°ç¼å­å²çªå¹¶æé«å¹¶åæ§è½ï¼æ­¤å¤ï¼ä¸ºäºè¿ä¸æ­¥ä¼ååå¸å¼ç½ç»çæ§è½ï¼å¨è¿ä¸ªçæ¬ä¸­é¦æ¬¡å¼å¥äº RDMA ææ¯ï¼ç®åå¤äºå®éªé¶æ®µï¼æµè¯ç»ææ¾ç¤ºå¶å¨ç¨³å®æ§å CPU ä½¿ç¨çæ¹é¢ä¼äº TCP åè®®ã5.3 çæ¬å°äº 1 æåå¸ï¼æ´å¤ç»èï¼æ¬¢è¿å³æ³¨ã</p>
<h2 id="03-ç¤¾åºåå±ç¬¬-5-å¹´é«éæé¿æ°æ®æ»éè¶-13eb">03 ç¤¾åºåå±ï¼ç¬¬ 5 å¹´é«éæé¿ï¼æ°æ®æ»éè¶ 1.3EB</h2>
<p>ç®åï¼JuiceFS GitHub star è¶ 12.6Kï¼JuiceFS ä¸è½½éçªç ´äº 5 ä¸æ¬¡ï¼CSI Driver çä¸è½½éè¶è¿äº 500 ä¸æ¬¡ï¼ä¸­æç¤¾åºå·²ç»æ 10 ä¸ªå¾®ä¿¡ç¾¤ç»ï¼Slack è±æç¤¾åºä¹è¾¾åäººã</p>
<p>ç¤¾åºçå¼æºçç¬¬ 5 å¹´ï¼ä¹æ¯å¿«éå¢é¿çç¬¬ 5 ä¸ªå¹´å¤´ãç¨æ·ä¸æ¥æ°æ®æ¾ç¤ºï¼JuiceFS çåé¡¹å³é®æ°æ®å»¶ç»­äºå¢é¿è¶å¿ï¼</p>
<ul>
<li>æä»¶ç³»ç» 590K+ï¼å¢é¿ 82%</li>
<li>æ´»è·å®¢æ·ç«¯ 150K+ï¼å¢é¿ 46%</li>
<li>æä»¶æ°é 4000 äº¿+ï¼å¢é¿ 43%</li>
<li>æ°æ®æ»é 1.3EiB+ï¼å¢é¿ 89%</li>
</ul>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2544292/202601/2544292-20260105145754520-368086425.png" class="lazyload"></p>
<p>ä»å¹´ï¼æä»¬å¨å¤ä¸ªè¡ä¸å¤§ä¼åäº«å®è·µï¼KCD ãå¼æºå¹´ä¼ãCommunityOverCode Asia ç­ï¼æè°¢è¿äºå¤§ä¼ä¸»åæ¹å¯¹ JuiceFS çè®¤å¯ï¼å¨æµ·å¤è¡ä¸ä¼è®®ä¹å±é²å¤´èï¼åä¸äº KubeCon+CloudNative Con North AmericaãOpensource Summit JapanãSNIA Developer Conference ç­ã</p>
<p>ä¸ºäºæ´å¥½å°ä¸ºç¨æ·æä¾æ¯æï¼æä»¬å®æä¸¾å Office Hoursï¼ä»ç»æ°åè½ãè§£ç­çé®ï¼åæ¶ï¼ä¸¾åäº 11 åº Meetupï¼å¸®å©ä¸åè¡ä¸çç¨æ·æ´æä¿¡å¿å°å° JuiceFS åºç¨äºçäº§ç¯å¢ãæ¡ä¾æ¶µçèªå¨é©¾é©¶ãçæå¼ AIãAI åºç¡å¹³å°ãéåæèµãçå½å»è¯ç­å¤ä¸ªé¢åãï¼æ¥çææ<a href="https://juicefs.com/zh-cn/blog/user-stories" target="_blank" rel="noopener nofollow">æ¡ä¾</a>ï¼</p>
<p>ç¹å«æè°¢ä»¥ä¸ä»å¹´åä¸åäº«çç¨æ·ï¼ä»ä»¬çå®è·µç»éªä¸ºç¤¾åºæä¾äºå®è´µçåèï¼</p>
<ol>
<li>ä¸èªï¼Lepton AIï¼<a href="https://juicefs.com/zh-cn/blog/user-stories/lepton-ai-build-multi-tenant-low-latency-cloud-storage-platform" target="_blank" rel="noopener nofollow">å é AI è®­æ¨ï¼æå»ºå¤ç§æ·ãä½å»¶è¿äºå­å¨å¹³å° </a></li>
<li>å­ç®ï¼ä¸­å½ç§å­¦é¢è®¡ç®æï¼<a href="https://juicefs.com/zh-cn/blog/user-stories/nfs-vs-juicefs-llm-storage" target="_blank" rel="noopener nofollow">åºäº JuiceFS çå¤§æ¨¡åè®­æ¨å¹³å°å­å¨æ¼è¿ä¹è·¯</a></li>
<li>éæ³½ä¸ï¼ç¾å¾çç§ï¼<a href="https://juicefs.com/zh-cn/blog/user-stories/biomap-juicefs-building-llm-storage" target="_blank" rel="noopener nofollow">åºäº JuiceFS æå»ºçå½ç§å­¦å¤§æ¨¡åå­å¨å¹³å°ï¼ææ¬é 90%</a></li>
<li>å´æ¾æï¼æºç¨ï¼<a href="https://juicefs.com/zh-cn/blog/user-stories/trip-10pb-level-llm-stroage-juicefs-practice" target="_blank" rel="noopener nofollow">ç¨³å®ä¸é«æ§ä»·æ¯çå¤§æ¨¡åå­å¨ï¼æºç¨ 10PB çº§ JuiceFS å·¥ç¨å®è·µ</a></li>
<li>åä¹å¡ï¼ååä¿¡æ¯ï¼<a href="https://juicefs.com/zh-cn/blog/user-stories/intsig-use-juicefs-build-unified-storage-support-pb-ai-training" target="_blank" rel="noopener nofollow">åºäº JuiceFS æå»ºç»ä¸å­å¨ï¼æ¯æ PB çº§ AI è®­ç»</a></li>
<li>ç¼ªææ°ï¼é¶è·æè¾°ï¼<a href="https://juicefs.com/zh-cn/blog/user-stories/stepfun-ai-use-juicefs-create-multimodal-learning-storage-platform" target="_blank" rel="noopener nofollow">å¦ä½å©ç¨ JuiceFS æé é«æç»æµçå¤§æ¨¡åå­å¨å¹³å°</a></li>
<li>å¯å ï¼ç¨¿å®ç§æï¼<a href="https://juicefs.com/zh-cn/blog/user-stories/gaoding-ai-storage-challenges-multi-cloud-juicefs" target="_blank" rel="noopener nofollow">å¤äºæ¶æä¸ç AI å­å¨ææä¸ JuiceFS å®è·µ</a></li>
<li>éåå®ï¼ä¹è¯æºè½ï¼<a href="https://juicefs.com/zh-cn/blog/user-stories/intsig-juicefs-autonomous-driving-multi-cloud-storage" target="_blank" rel="noopener nofollow">åºäº JuiceFS çèªå¨é©¾é©¶å¤äºäº¿çº§æä»¶å­å¨</a></li>
<li>é«çå ï¼ Ariste AIï¼<a href="https://juicefs.com/zh-cn/blog/user-stories/juicefs-minio-ariste-ai-quant-storage" target="_blank" rel="noopener nofollow">JuiceFS + MinIOï¼éåæèµé«æ§è½å­å¨å®è·µ</a></li>
<li>æå¨å®ï¼åå½±çåï¼åºäº JuiceFS æ­å»º 3D AIGC å­å¨å¹³å°ï¼æ°æ®æ§è½ 2 åæå</li>
<li>åéå¨ï¼å§æº AIï¼åºäº JuiceFS æé é«æ§è½ãä½ææ¬ AI æ¨¡åç®¡çå­å¨å¹³å°</li>
<li>é«æ¨ï¼é·ç¿ç¨ï¼èªå¨é©¾é©¶ç¾ PB çº§äºåçå­å¨æ¡ä¾</li>
<li>æ¾å¥¥æ¶µï¼æºè°± AIï¼å¤§æ¨¡åè®­ç»åºç¡è®¾æ½è½å°å®è·µ</li>
</ol>
<p>äº²ç±çç¤¾åºä¼ä¼´ä»¬ï¼æä»¬ä¸èµ·åº¦è¿äºåå®çä¸å¹´ãJuiceFS ä»ä¸ä¸ªå¼æºæ°ç§ï¼æé¿ä¸ºä»å¤© AI ä¸å¡ä¸­å¤åä¿¡ä»»çéæ©ï¼è¡·å¿æè°¢æ¯ä¸ä½ç¤¾åºæåçåä¸ä¸æ¯æï¼æè°¢ä½ ä»¬å¨ç¾¤éè§£ç­é®é¢ãåäº«å®è·µãè´¡ç®ä»£ç ï¼</p>
<p>æ°çä¸å¹´éï¼JuiceFS å°ç»§ç»­ä¸ºä½ çå·¥ä½å¸¦æ¥æ´é«æãæ´è½»æ¾çä½éªã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-05 14:58">2026-01-05 14:58</span>&nbsp;
<a href="https://www.cnblogs.com/JuiceData">JuiceFS</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19443029);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19443029', targetLink: 'https://www.cnblogs.com/JuiceData/p/19443029', title: 'JuiceFS 2025ï¼è¿å¥åäº¿æä»¶è§æ¨¡ï¼å¼æºç¬¬äºå¹´æç»­é«éå¢é¿' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ åè¡¨è·¯ç±ï¼ä¸ºä»ä¹å¤§ç¥é½ç¨ & (n-1)ï¼èä¸ç¨ % ï¼ä¸æ¬¡ç»ä½ è®²é ]]></title>
    <link>https://www.cnblogs.com/xzqcsj/p/19442863</link>
    <guid>3a3a616784b262bd32a682918a2014f7</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/xzqcsj/p/19442863" title="åå¸äº 2026-01-05 14:30">
    <span role="heading" aria-level="2">åè¡¨è·¯ç±ï¼ä¸ºä»ä¹å¤§ç¥é½ç¨ &amp; (n-1)ï¼èä¸ç¨ % ï¼ä¸æ¬¡ç»ä½ è®²é</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<blockquote>
<p><strong>åå¨åé¢</strong></p>
<p>"ååºåè¡¨"å¤§å®¶é½ä¸éçãå½æ°æ®éæ¿å¢æ¶ï¼æä»¬ä¹ æ¯æ§å°åä¸ <code>userId % tableCount</code> æ¥å³å®æ°æ®è·¯ç±å°åªå¼ è¡¨ã</p>
<p>è¿æ®µä»£ç é»è¾æ­£ç¡®ãç®åç´è§ãä½å¨å¯¹æ§è½è¦æ±æé«çåºå±ä¸­é´ä»¶å¼åä¸­ï¼è¿ççæ¯æä¼è§£åï¼</p>
<p>å¦ææä»¬ç¿»å¼ <strong>JDK 1.8 ç HashMap æºç </strong>ï¼ä¼åç°å¤§ç¥ Doug Lea å¨è®¡ç®æ°ç»ä¸æ æ¶ï¼å»æé¿å¼äº <code>%</code> åæ¨¡ï¼èæ¯ä½¿ç¨äºä¸è¡çèµ·æ¥æ´æ¦æ¶©ç <code>&amp; (n - 1)</code>ã</p>
<p>ä»å¤©ï¼æä»¬å°±æ HashMap çè¿é¡¹åºå±âç»æâç§»æ¤å°ä¸å¡ç³»ç»çåè¡¨ç»ä»¶ä¸­ï¼æé ä¸ä¸ª<strong>é«æ§è½ãå¯æ©å±ä¸å·å¤é²å¾¡æ§</strong>çè·¯ç±å·¥å·ã</p>
</blockquote>
<hr>
<h2 id="ä¸-ä»ä¸æ¬¡-code-review-è¯´èµ·">ä¸ã ä»ä¸æ¬¡ Code Review è¯´èµ·</h2>
<p>æè¿å¨å®¡æ¥æ°çåè¡¨ä¸­é´ä»¶çä»£ç æ¶ï¼çå°äºä¸æ®µéå¸¸æ åçåè¡¨è·¯ç±é»è¾ï¼</p>
<pre><code class="language-java">// â å¸¸è§çåæ³
public String getTableName(int userId) {
    // åè®¾å32å¼ è¡¨
    int tableIndex =  userId % 32; 
    return "t_order_" + tableIndex;
}
</code></pre>
<p>è¿æ®µä»£ç å¨åè½ä¸æ²¡æé®é¢ãä½ä½ä¸ºä¸ä¸ªå¯¹åºå±ç»èæè¿½æ±çå·¥ç¨å¸ï¼æä¸ç¦æ³å°äº HashMap çå®ç°ã</p>
<p>æå¼ JDK æºç ï¼å¨ <code>HashMap.put</code> æ¹æ³ä¸­ï¼è®¡ç®èç¹è½æ§½ä½ç½®çä»£ç æ¯è¿æ ·çï¼</p>
<pre><code class="language-java">// HashMapæºç çæ®µ
if ((p = tab[i = (n - 1) &amp; hash]) == null) ...
</code></pre>
<p>Doug Lea å¹¶æ²¡æä½¿ç¨ç´è§ç <code>hash % n</code>ï¼èæ¯ä½¿ç¨äºä¸è¿ç® <code>&amp;</code>ã</p>
<p><strong>ä¸ºä»ä¹ï¼</strong><br>
æ ¹æ¬åå å¨äº CPU çæä»¤æ§è¡æçï¼</p>
<ul>
<li><strong>ä½è¿ç®ï¼&amp;, |, ^, ~ï¼</strong>ï¼ç´æ¥å¯¹åº CPU åºå±æä»¤ï¼éå¸¸åªé <strong>1 ä¸ªæ¶éå¨æ</strong>ã</li>
<li><strong>åæ¨¡è¿ç®ï¼%ï¼</strong>ï¼æ¶åé¤æ³æä½ï¼å¨åºå±ç¡¬ä»¶å®ç°ä¸æå¶å¤æï¼éå¸¸æ¶è <strong>10-30 ä¸ªæ¶éå¨æ</strong>ã</li>
</ul>
<p>è½ç¶å¨æ®éçä¸å¡é»è¾ä¸­ï¼å åä¸ªæ¶éå¨æçå·®å¼å¯ä»¥å¿½ç¥ä¸è®¡ãä½å¨<strong>é«é¢è§¦å</strong>çåºç¡è®¾æ½å±ï¼å¦ç½å³è·¯ç±ãåè¡¨ä¸­é´ä»¶ãç¼å­å¯»åï¼ï¼è¿ç§å¾®å°çæ§è½å·®å¼å¨é«å¹¶åä¸ä¼è¢«æ¾èæ¾å¤§ã</p>
<hr>
<h2 id="äº-æ­ç§ä½è¿ç®çç©çæä¹">äºã æ­ç§ä½è¿ç®çç©çæä¹</h2>
<p>HashMap è½ç¨ <code>&amp;</code> æ¿ä»£ <code>%</code>ï¼æä¸ä¸ª<strong>å¼ºå¶æ§çåææ¡ä»¶</strong>ï¼</p>
<blockquote>
<p><strong>æ°ç»é¿åº¦ï¼æåè¡¨æ°ï¼å¿é¡»æ¯ 2 ç n æ¬¡å¹</strong>ï¼2, 4, 8, 16, 32, 64...ï¼</p>
</blockquote>
<h3 id="1-æ°å­¦åç">1. æ°å­¦åç</h3>
<p><strong>å¬å¼</strong>ï¼<br>
å½ <code>n = 2^k</code> æ¶ï¼<code>X % n</code> ç­ä»·äº <code>X &amp; (n - 1)</code></p>
<p>è¿ä¸ªå¬å¼èåçé»è¾ï¼ä»<strong>äºè¿å¶</strong>è§è§æ¥çä¼éå¸¸æ¸æ°ã</p>
<p>åè®¾åè¡¨æ° <code>n = 8</code>ï¼å³ 2Â³ï¼ã<br>
é£ä¹ <code>n - 1 = 7</code>ã</p>
<ul>
<li><strong>8 çäºè¿å¶</strong>ï¼<code>... 0000 1000</code></li>
<li><strong>7 çäºè¿å¶</strong>ï¼<code>... 0000 0111</code> ï¼ä½ä¸ä½å¨ä¸º1ï¼é«ä½å¨ä¸º0ï¼</li>
</ul>
<p>å½æä»¬è®¡ç® <code>userId &amp; 7</code> æ¶ï¼å®éä¸æ¯å¨è¿è¡<strong>ä½æ©ç ï¼BitMaskï¼</strong>æä½ã<br>
å ä¸º 7 çé«ä½å¨æ¯ 0ï¼<code>&amp;</code> è¿ç®ä¼å° userId çææé«ä½æ¸é¶ï¼åª<strong>å®æ´ä¿çæåä¸ä½</strong>ã</p>
<p><strong>èä¸ä¸ªæ°å¼çä½ k ä½ï¼æ°æ°å°±æ¯å®å¯¹ 2^k åæ¨¡çä½æ°ã</strong></p>
<table>
<thead>
<tr>
<th style="text-align: left">userId (åè¿å¶)</th>
<th style="text-align: left">userId (äºè¿å¶)</th>
<th style="text-align: left">&amp; 0111 (æ©ç )</th>
<th style="text-align: left">ç»æ</th>
<th style="text-align: left">% 8 ç»æ</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left"><strong>10</strong></td>
<td style="text-align: left"><code>... 0000 1010</code></td>
<td style="text-align: left"><code>0010</code></td>
<td style="text-align: left"><strong>2</strong></td>
<td style="text-align: left"><strong>2</strong></td>
</tr>
<tr>
<td style="text-align: left"><strong>15</strong></td>
<td style="text-align: left"><code>... 0000 1111</code></td>
<td style="text-align: left"><code>0111</code></td>
<td style="text-align: left"><strong>7</strong></td>
<td style="text-align: left"><strong>7</strong></td>
</tr>
<tr>
<td style="text-align: left"><strong>16</strong></td>
<td style="text-align: left"><code>... 0001 0000</code></td>
<td style="text-align: left"><code>0000</code></td>
<td style="text-align: left"><strong>0</strong></td>
<td style="text-align: left"><strong>0</strong></td>
</tr>
<tr>
<td style="text-align: left"><strong>17</strong></td>
<td style="text-align: left"><code>... 0001 0001</code></td>
<td style="text-align: left"><code>0001</code></td>
<td style="text-align: left"><strong>1</strong></td>
<td style="text-align: left"><strong>1</strong></td>
</tr>
</tbody>
</table>
<p><strong>ç»è®º</strong>ï¼åªè¦åè¡¨æ°æ¯ 2 çå¹ï¼<strong>ä½è¿ç®æ¬è´¨ä¸å°±æ¯ä¸æ¬¡é«æçä½ä½æªå</strong>ãå®è½å¨ç¡¬ä»¶å±é¢ä»¥æå¿«çéåº¦å¾å°æä»¬æ³è¦çç»æã</p>
<hr>
<h2 id="ä¸-å®ææé çäº§çº§è·¯ç±å·¥å·">ä¸ã å®æï¼æé çäº§çº§è·¯ç±å·¥å·</h2>
<p>åçè½ç¶ç®åï¼ä½è¦è½å°å°çäº§ç¯å¢ï¼å¿é¡»èèå·¥ç¨åé®é¢ï¼<strong>å¦ä½é²æ­¢åç»­ç»´æ¤èéè¯¯éç½®åè¡¨æ°ï¼å¦ä½ä¿è¯ä»£ç çå¥å£®æ§ï¼</strong></p>
<p>è¿éæä»¬æ¨èä½¿ç¨ <strong>é²å¾¡æ§ç¼ç¨ + æä¸¾çº¦æ</strong> çæ¹å¼ã</p>
<h3 id="1-å®ä¹åè¡¨ç­ç¥æä¸¾">1. å®ä¹åè¡¨ç­ç¥æä¸¾</h3>
<p>æä»¬éè¿æä¸¾ï¼Enumï¼å°åè¡¨è§ååºå®ä¸æ¥ï¼å¹¶å¨æä¸¾æé å¨ä¸­è¿è¡ä¸¥æ ¼æ ¡éªã</p>
<pre><code class="language-java">@Getter
@AllArgsConstructor
public enum TableStrategyEnum {
    /** è®¢åè¡¨ï¼å32å¼  */
    ORDER("t_order_", 32),
    
    /** æ¯ä»æµæ°´è¡¨ï¼å64å¼  */
    PAYMENT("t_pay_flow_", 64);

    private final String prefix;
    private final int count;
    
    // æé æ¶è¿è¡ Fail-Fast æ£æ¥
    // å¦æéç½®çä¸æ¯ 2 çå¹ï¼åºç¨å¯å¨æ¶å°±ä¼ç´æ¥æéï¼é»æ­¢ç±äºéç½®å¤±è¯¯å¯¼è´çä¸çº¿äºæ
    TableStrategyEnum(String prefix, int count) {
        if (count &lt;= 0 || (count &amp; (count - 1)) != 0) {
            throw new Error("éç½®éè¯¯ï¼Strategy [" + prefix + "] åè¡¨æ°å¿é¡»æ¯ 2 çå¹ï¼");
        }
        this.prefix = prefix;
        this.count = count;
    }
}
</code></pre>
<h3 id="2-å°è£æ ¸å¿è·¯ç±å·¥å·ç±»">2. å°è£æ ¸å¿è·¯ç±å·¥å·ç±»</h3>
<pre><code class="language-java">public class DivTableUtils {

    /**
     * è·åç®æ è¡¨å
     * @param bizId ä¸å¡ä¸»é®ï¼å¦ userId, orderIdï¼
     * @param strategy åè¡¨ç­ç¥
     */
    public static String getTableName(int bizId, TableStrategyEnum strategy) {
        // 1. åºç¡æ ¡éª
        if (bizId &lt;= 0) {
            throw new IllegalArgumentException("ä¸å¡IDå¿é¡»ä¸ºæ­£æ´æ°");
        }
        
        // 2. æ ¸å¿ä½è¿ç®é»è¾
        // å ä¸ºæä¸¾æé éå·²ç»ä¿è¯äº count æ¯ 2 çå¹ï¼è¿éå¯ä»¥å®å¨ä½¿ç¨ä½è¿ç®
        int index = bizId &amp; (strategy.getCount() - 1);
        
        // 3. æ¼æ¥è¿å
        return strategy.getPrefix() + index;
    }
}
</code></pre>
<p><strong>ä½¿ç¨ç¤ºä¾</strong>ï¼</p>
<pre><code class="language-java">// ä¸å¡ä»£ç ä¸­è°ç¨ï¼æ¸æ°ä¸å®å¨
String tableName = DivTableUtils.getTableName(user.getId(), TableStrategyEnum.ORDER);
// è¾åºï¼t_order_5
</code></pre>
<hr>
<h2 id="å-æ·±åº¦æèä¸ºä»ä¹è¦å¼ºå¶-2-çå¹">åã æ·±åº¦æèï¼ä¸ºä»ä¹è¦å¼ºå¶ 2 çå¹ï¼</h2>
<p>è¯å®æäººä¼é®ï¼</p>
<blockquote>
<p>âæçä¸å¡è§æ¨¡åå¥½éåå 100 å¼ è¡¨ï¼ä¸ºäºç¨ä½è¿ç®å¼ºè¡æ¹æ 128 å¼ ï¼æ¯ä¸æ¯è¿å°±å«è¿æ©ä¼åï¼â</p>
</blockquote>
<p>è¿ä¸ªé®é¢ç´å»è¦å®³ã<br>
äºå®ä¸ï¼HashMap ä»¥åæä»¬æ¨èçåè¡¨ç­ç¥ï¼å¼ºå¶ä½¿ç¨ 2 çå¹æ¬¡æ¹ï¼<strong>æ§è½æååªæ¯è¡¨è±¡ï¼çæ­£çæ ¸å¿ä»·å¼å¨äºââæ©å®¹çå¹³æ»æ§</strong>ã</p>
<h3 id="æ©å®¹æ¶ç-rehash-é­æ³">æ©å®¹æ¶ç "Rehash" é­æ³</h3>
<p>éå¸¸åè¡¨æ©å®¹æ¶ï¼æä»¬ä¼å°è¡¨æ°éç¿»åï¼ä¾å¦ 16 -&gt; 32ï¼ã<br>
å¦ææä»¬ä½¿ç¨ä¼ ç»ç <code>hash % n</code>ï¼å½ n ååæ¶ï¼å ä¹æææ°æ®çè·¯ç±ç»æé½ä¼åçæ¹åï¼è¿æå³çæä»¬éè¦è¿ç§»ç»å¤§é¨åæ°æ®ã</p>
<p><strong>ä½å¦ææä»¬éµå¾ª 2 çå¹æ¬¡æ¹æ©å®¹ï¼</strong><br>
ä»äºè¿å¶è§åº¦çï¼<code>n</code> ä» 16 (10000) åä¸º 32 (100000)ï¼ä»ä»æå³ç<strong>ä½æ©ç å¤åäºä¸ä½</strong>ã</p>
<p>å¯¹äºä»»ä½ä¸ä¸ª IDï¼å¶è·¯ç±ç»æåªæä¸¤ç§å¯è½ï¼</p>
<ol>
<li><strong>ä¿æä¸å</strong>ï¼å¦ææ°å¢çé£ä¸ä½æ¯ 0ã</li>
<li><strong>å¹³ç§»åºå®é</strong>ï¼å¦ææ°å¢çé£ä¸ä½æ¯ 1ï¼æ°åæ  = <code>ååæ  + åé¿åº¦</code>ã</li>
</ol>
<p>è¿å°±æ¯ HashMap æ©å®¹æ¶ rehash æå¶é«æçç§å¯ãåæ å°æ°æ®åºåè¡¨æ©å®¹ä¸ï¼è¿æå³çæä»¬<strong>æä¸åçæ°æ®å®å¨ä¸éè¦ç§»å¨</strong>ï¼è¿ä¸ç¹å¯¹äºæµ·éæ°æ®çè¿ç§»è³å³éè¦ã</p>
<hr>
<h2 id="äº-ç»è¯­å¨æ¯ç¹ä¸çéå¯»æ¾ä¼é">äºã ç»è¯­ï¼å¨æ¯ç¹ä¸çéå¯»æ¾ä¼é</h2>
<p>è®¡ç®æºç§å­¦éæä¸å¥åè¨ï¼<strong>"Simple is Better"</strong>ã</p>
<p>ä½"ç®å"å¾å¾æä¸¤ä¸ªå±æ¬¡ï¼<br>
ä¸ä¸ªæ¯<strong>æ ç¥çç®å</strong>ï¼éæåä¸ <code>id % n</code>ï¼ä¸ç®¡ä¸é¡¾ã<br>
ä¸ä¸ªæ¯<strong>éå½»çç®å</strong>ï¼çè§£äºäºè¿å¶çè§å¾ï¼ç¨ <code>id &amp; (n-1)</code> é©¾é©­å¤æã</p>
<p><code>DivideTableUtils</code> è¿ä¸ªå°å·¥å·ï¼è½ç¶åªæå¯¥å¯¥å è¡ä»£ç ï¼å´æå°åºäºä¼ç§æ¶æè®¾è®¡çä¸ä¸ªç»´åº¦ï¼</p>
<ol>
<li><strong>å¯¹åççæè´å©ç¨</strong>ï¼ä½è¿ç®å éï¼ã</li>
<li><strong>å¯¹éè¯¯çé¶å®¹å¿</strong>ï¼Fail-Fast æ ¡éªï¼ã</li>
<li><strong>å¯¹æªæ¥çæ·±è¿è§å</strong>ï¼Rehash æ©å®¹ï¼ã</li>
</ol>
<p><strong>å¯ä»¥é¢è§çæ¯ï¼å½ä½ çä¸å¡æµéæ´ªå³°å°æ¥æ¶ï¼é£äºèå¨æ¯ç¹ä¸çéçæ¯ä¸æ¬¡ä¼åï¼é½å°æä¸ºç³»ç»æåå®çæ¤ç¾ã</strong></p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-05 14:30">2026-01-05 14:30</span>&nbsp;
<a href="https://www.cnblogs.com/xzqcsj">ä¸æäºº</a>&nbsp;
éè¯»(<span id="post_view_count">12</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19442863);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19442863', targetLink: 'https://www.cnblogs.com/xzqcsj/p/19442863', title: 'åè¡¨è·¯ç±ï¼ä¸ºä»ä¹å¤§ç¥é½ç¨ &amp;amp; (n-1)ï¼èä¸ç¨ % ï¼ä¸æ¬¡ç»ä½ è®²é' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ãWindowsãå¦ä½å å¯å±äº«æä»¶å¤¹ - åºäºCHFSé¡¹ç® ]]></title>
    <link>https://www.cnblogs.com/minuhy/p/19442799</link>
    <guid>26beb6fbf08dfb1254f7cb089ce0c8f6</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/minuhy/p/19442799" title="åå¸äº 2026-01-05 14:21">
    <span role="heading" aria-level="2">ãWindowsãå¦ä½å å¯å±äº«æä»¶å¤¹ - åºäºCHFSé¡¹ç®</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        æ¬æä»ç»äºä½¿ç¨CHFSå·¥å·å¨Windowsä¸å å¯å±äº«æä»¶å¤¹çæ¹æ³ãè¯¥æ¹æ¡æ¯æå¤å¹³å°ä½¿ç¨ï¼æä¾å¯ç ä¿æ¤åSSL/HTTPSç­å®å¨åè½ï¼å¯å®ç°ç±»ä¼¼æ¬å°ç£ççä¾¿æ·æä»¶å±äº«ä½éªã
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="å¨windowsä¸å¦ä½å å¯å±äº«æä»¶å¤¹---åºäºchfsé¡¹ç®">å¨Windowsä¸å¦ä½å å¯å±äº«æä»¶å¤¹ - åºäºCHFSé¡¹ç®</h1>
<h2 id="é¶éæ±">é¶ãéæ±</h2>
<p>æä½åè´¢å¡çå§å§è¯´å¸æå å¯å±äº«ä¸ä¸ªæä»¶å¤¹ï¼è¦æ±è¾å¥å¯ç æè½çå°è¢«å±äº«çæä»¶å¤¹åå®¹ï¼ä½¿ä¹è½å¤ä¸å¦å¤ä¸ä½åäºåæ­¥å·¥ä½ãéé®è±åï¼è±åæ¨èäºå ç§è§£å³æ¹æ¡ï¼ç»è¿æ¯å¯¹åèéåï¼å³å®ä½¿ç¨CHFSä½ä¸ºæ¬éæ±çè§£å³æ¹æ¡ï¼å ä¸ºæå¹³å¸¸ä¸è¯¾ä¹ç¨æ­¤è½¯ä»¶å±äº«æä»¶ç»å­¦çï¼å¯¹è¿ä¸ªçæä¸äºï¼èä¸åæä»¶ï¼ç®åå¥½ç¨ãä¸é¢ä»ç»å¦ä½éè¿CHFSå å¯å±äº«æ¬å°æä»¶å¤¹ã</p>
<h2 id="å£¹è½¯ä»¶ä¸è½½">å£¹ãè½¯ä»¶ä¸è½½</h2>
<h3 id="1ä»ç»">1ãä»ç»</h3>
<p>ä¸é¢æ¯ç½ç«<a href="http://iscute.cn/chfs" target="_blank" rel="noopener nofollow">http://iscute.cn/chfs</a>å¯¹CHFSçä»ç»ï¼</p>
<blockquote>
<p>CHFSï¼CuteHttpFileServer/chfsï¼æ¯ä¸ä¸ªåè´¹çãHTTPåè®®çæä»¶å±äº«æå¡å¨ï¼ä½¿ç¨æµè§å¨å¯ä»¥å¿«éè®¿é®ãå®å·æä»¥ä¸ç¹ç¹ï¼</p>
<ul>
<li>åä¸ªæä»¶ï¼æ ¸å¿åè½æ éå¶ä»æä»¶</li>
<li>è·¨å¹³å°è¿è¡ï¼æ¯æä¸»æµå¹³å°ï¼Windowsï¼LinuxåMac</li>
<li>çé¢ç®æ´ï¼ç®åæç¨</li>
<li>æ¯ææ«ç ä¸è½½åææºç«¯è®¿é®ï¼ææºä¸çµèä¹é´å±äº«æä»¶éå¸¸æ¹ä¾¿</li>
<li>æ¯æè´¦æ·æéæ§å¶åå°åè¿æ»¤</li>
<li>æ¯æå¿«éåäº«æå­çæ®µ</li>
<li>æ¯æwebdavåè®®</li>
</ul>
<p>ä¸å¶ä»å¸¸ç¨æä»¶å±äº«æ¹å¼ï¼å¦FTPï¼é£ç§ï¼ç½çï¼èªå·±å»ºç«ï¼ç¸æ¯ï¼å·æä½¿ç¨ç®åï¼éç¨åºæ¯æ´å¤çä¼ç¹ï¼å¨ä¸ªäººä½¿ç¨ä»¥åå±äº«ç»ä»äººçåºæ¯ä¸­éå¸¸æ¹ä¾¿å¿«æ·ã</p>
</blockquote>
<h3 id="2ä¸è½½">2ãä¸è½½</h3>
<p>ä¸ºäºç®åæ¹ä¾¿å°ä½¿ç¨ï¼æä»¬éè¦ä¸è½½å¸¦å¾å½¢çé¢çCHFSï¼å³âCHFS GUIâï¼ä¸é¢æ¯ä¸è½½æ¹å¼ï¼</p>
<ul>
<li>å¯ä»¥å°<a href="http://iscute.cn/chfs" target="_blank" rel="noopener nofollow">http://iscute.cn/chfs</a>ä¸­è·åææ°çä¸è½½é¾æ¥ï¼æèå°å¶é¡¹ç®ä¸»é¡µ<a href="https://github.com/docblue/chfsgui" target="_blank" rel="noopener nofollow">https://github.com/docblue/chfsgui</a>æååãä»£ç ç­ã</li>
</ul>
<p><img src="https://img2024.cnblogs.com/blog/2010295/202601/2010295-20260105113925869-1322579696.png" alt="iscute.cnç¾åº¦ç½çåäº«ä¸è½½æ¹å¼" loading="lazy"></p>
<ul>
<li>æèéè¿æçåäº«é¾æ¥ä¸è½½<a href="https://pan.baidu.com/s/5wpLtEc1l_T81_F4-OIj_Iw" target="_blank" rel="noopener nofollow">https://pan.baidu.com/s/5wpLtEc1l_T81_F4-OIj_Iw</a>ï¼</li>
</ul>
<p><img src="https://img2024.cnblogs.com/blog/2010295/202601/2010295-20260105115147349-877442224.png" alt="æçç¾åº¦ç½çåäº«ä¸è½½æ¹å¼" loading="lazy"></p>
<p>ä¸è½½åè§£åï¼å¾å°å¦ä¸æä»¶ï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/2010295/202601/2010295-20260105115314846-15829564.png" alt="CHFSè½¯ä»¶" loading="lazy"></p>
<h2 id="è´°éç½®è½¯ä»¶">è´°ãéç½®è½¯ä»¶</h2>
<h3 id="1æå¼è½¯ä»¶">1ãæå¼è½¯ä»¶</h3>
<p>æå¼è½¯ä»¶ï¼è§å°å¦ä¸ä¸»çé¢</p>
<p><img src="https://img2024.cnblogs.com/blog/2010295/202601/2010295-20260105115609470-387487333.png" alt="CHFS-GUIä¸»çé¢" loading="lazy"></p>
<p>æä»¬éè¦éç¹å³æ³¨âå±äº«ç®å½âãâçå¬ç«¯å£âãâè´¦æ·æ§å¶âåââ¡âã</p>
<h3 id="2è®¾ç½®å±äº«ç®å½">2ãè®¾ç½®å±äº«ç®å½</h3>
<p>é¦åéè¦è®¾ç½®å±äº«ç®å½ï¼æå¨å½åæä»¶å¤¹âE:\CHFSâä¸é¢åå»ºä¸ä¸ªâå å¯å±äº«æä»¶å¤¹â</p>
<p><img src="https://img2024.cnblogs.com/blog/2010295/202601/2010295-20260105115950373-625046180.png" alt="åå»ºå å¯å±äº«æä»¶å¤¹" loading="lazy"><br>
æä»¬å¨âå å¯å±äº«âä¸­æ¾ç½®ä¸å¼ è¦å±äº«å¾çæ¹ä¾¿æä»¬éªè¯è½¯ä»¶åè½ï¼<br>
<img src="https://img2024.cnblogs.com/blog/2010295/202601/2010295-20260105124250689-1418068550.png" alt="å±äº«å¾ç" loading="lazy"><br>
ç¶ååå¨âCHFS-GUIâä¸­éç½®å±äº«æ­¤æä»¶å¤¹</p>
<p><img src="https://img2024.cnblogs.com/blog/2010295/202601/2010295-20260105120815350-769725516.png" alt="è®¾ç½®å±äº«ç®å½" loading="lazy"><br>
è¿æ ·ï¼å¨è½¯ä»¶å¼å¯æå¡åï¼âE:\CHFS\å å¯å±äº«âç®å½å°è¢«å±äº«ã</p>
<h3 id="3è®¾ç½®æé">3ãè®¾ç½®æé</h3>
<p>æä»¬å¨âè´¦æ·æ§å¶âä¸­ï¼ä¿®æ¹âè®¿å®¢âçæéï¼ææéå¨é¨åæ¶æï¼è¿æ ·âè®¿å®¢âæ æ³è®¿é®å°æä»¬çâå å¯å±äº«âç®å½</p>
<p><img src="https://img2024.cnblogs.com/blog/2010295/202601/2010295-20260105121530607-2064452981.png" alt="å é¤è®¿å®¢æé" loading="lazy"><br>
ç¶ååæ·»å ä¸ä¸ªå¸¦æå¯ç çè´¦æ·ï¼ä½ä¸ºè®¿é®âå å¯å±äº«âç®å½çå­æ®</p>
<p><img src="https://img2024.cnblogs.com/blog/2010295/202601/2010295-20260105121929387-2093785785.png" alt="æ·»å è´¦æ·" loading="lazy"></p>
<h3 id="4å¯å¨æå¡">4ãå¯å¨æå¡</h3>
<p>ä¸ºäºé¿åç«¯å£å²çªï¼æä»¬æâçå¬ç«¯å£âä¿®æ¹ä¸ºâ<code>801</code>â<br>
<img src="https://img2024.cnblogs.com/blog/2010295/202601/2010295-20260105122037549-1693685736.png" alt="ä¿®æ¹çå¬ç«¯å£" loading="lazy"><br>
ä¿®æ¹å¥½åï¼æä»¬ç¹å»å·¦ä¸è§çââ¶âé®æ¥å¯å¨æå¡å¨<br>
<img src="https://img2024.cnblogs.com/blog/2010295/202601/2010295-20260105122324260-609472643.png" alt="å¯å¨æå¡" loading="lazy"><br>
æ¾ç¤ºç±»ä¼¼äºå¦ä¸å³ä¸è§çè®¿é®é¾æ¥åå³è¡¨ç¤ºå¯å¨æå~<br>
<em>æ³¨ï¼å ä¸ºæè¿äºä¸¤ä¸ªç½ç»ï¼æä»¥æ4æ¡é¾æ¥ï¼ä¸è¬æ­£å¸¸æåµä¸æ¯ä¸¤æ¡é¾æ¥çã</em><br>
<img src="https://img2024.cnblogs.com/blog/2010295/202601/2010295-20260105122307589-979050760.png" alt="æå¡å¨å¯å¨æå" loading="lazy"><br>
æä»¬éè¦å³æ³¨è¿å ä¸ªå°åï¼å¶ä¸­ï¼Websiteåé¢çå°åæ¯å¯ä»¥éè¿æµè§å¨è®¿é®çï¼Webdavåé¢çå°åæä»¬æ¯å¯ä»¥ä½ä¸ºè¿ç¨ç£çä½¿ç¨çãä¸é¢åå«ä»ç»å¦ä½ä½¿ç¨ã</p>
<h2 id="ååºäºæµè§å¨ä½¿ç¨å±äº«ç®å½ä»»ä½æ¯ææµè§å¨çè®¾å¤">åãåºäºæµè§å¨ä½¿ç¨å±äº«ç®å½ï¼ä»»ä½æ¯ææµè§å¨çè®¾å¤ï¼</h2>
<p>æä»¬ææä»¬çWebsiteå±åç½é¾æ¥ï¼æçæ¯<a href="http://192.168.31.219:801" target="_blank" rel="noopener nofollow">http://192.168.31.219:801</a>ï¼ç»å°å¨åä¸ä¸ªç½ç»ä¸çå¶ä»ä¸»æºï¼å¶ä»ä¸»æºå©ç¨æ­¤é¾æ¥éè¿æµè§å¨è®¿é®æä»¬çå±äº«ç®å½ã</p>
<h3 id="1æå¼ç®å½">1ãæå¼ç®å½</h3>
<p>å¶ä»ä¸»æºå¨æµè§å¨ä¸­è¾å¥å±åç½é¾æ¥ï¼æå¼å±äº«ç®å½ä¸»é¡µ<br>
<img src="https://img2024.cnblogs.com/blog/2010295/202601/2010295-20260105124800274-1800937150.png" alt="è®¿å®¢çä¸å°åå®¹" loading="lazy"><br>
é»è®¤ä½ä¸ºè®¿å®¢è¿å¥ï¼æ¯å¥ä¹æ²¡å¾çï¼å ä¸ºæä»¬è®¾ç½®äºæéãæä»¬éè¦ç»å½æè½çå°åæä½è¢«å±äº«çåå®¹ã</p>
<h3 id="2ç»å½">2ãç»å½</h3>
<p>ç¹å»ç»å½æé®ï¼è¾å¥æä»¬ååæ·»å çè´¦æ·<br>
<img src="https://img2024.cnblogs.com/blog/2010295/202601/2010295-20260105124747789-1809338932.png" alt="ç»å½" loading="lazy"><br>
ç»å½æååå³å¯å¯¹ç®å½åå®¹è¿è¡æä½<br>
<img src="https://img2024.cnblogs.com/blog/2010295/202601/2010295-20260105125118050-1404026676.png" alt="ç»å½æå" loading="lazy"></p>
<h2 id="èåºäºç£çæ å°ä½¿ç¨å±äº«ç®å½windows">èãåºäºç£çæ å°ä½¿ç¨å±äº«ç®å½ï¼Windowsï¼</h2>
<p>ææ¶åå¨æµè§å¨æä½ä¸æ¯å¾æ¹ä¾¿å¯¹å§ï¼æä»¬å¸æè¿ä¸ªå±äº«ç®å½è½å¤åæ¬å°æä»¶ä¸æ ·å¾æ¹ä¾¿å°è¿è¡è¯»åç­æä½ï¼æ­¤æ¶æä»¬å¯ä»¥æå±äº«ç®å½æ å°ä¸ºç£çã</p>
<h3 id="1ç³»ç»éç½®ä¿®æ¹">1ãç³»ç»éç½®ä¿®æ¹</h3>
<p>å ä¸ºWindowsæ¬èº«ç³»ç»çéå¶ï¼æ æ³ç´æ¥æ å°âhttpâå¼å¤´çWebdavç£çï¼æä»¬éè¦ä¿®æ¹ä¸ä¸æ³¨åè¡¨ï¼åè®¸httpé¾æ¥æè½½ãæWindows + Ré®ï¼æå¼âè¿è¡âï¼è¾å¥â<code>regedit</code>âï¼åè½¦ï¼æå¼æ³¨åè¡¨ç¼è¾å¨ã<br>
<img src="https://img2024.cnblogs.com/blog/2010295/202601/2010295-20260105133116090-1788775234.png" alt="ç¼è¾æ³¨åè¡¨" loading="lazy"><br>
å¨æ³¨åè¡¨è·¯å¾æ ï¼è¾å¥â<code>è®¡ç®æº\HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\WebClient\Parameters</code>âï¼åè½¦ï¼æå¼å¯¹åºçä½ç½®ï¼æ¾å°âBasicAuthLevelâï¼åå»æå¼ï¼ç¶åææ°å¼æ¹ä¸ºâ<code>2</code>âï¼ç¡®å®ã</p>
<h3 id="2éå¯ç³»ç»æå¡">2ãéå¯ç³»ç»æå¡</h3>
<p>æWindows + Ré®ï¼æå¼âè¿è¡âï¼è¾å¥â<code>services.msc</code>âï¼åè½¦ï¼æå¼æå¡ã<br>
<img src="https://img2024.cnblogs.com/blog/2010295/202601/2010295-20260105133707447-1298599420.png" alt="éå¯æå¡" loading="lazy"><br>
æ¾å°âWebClientâï¼å³é®ï¼éæ©âéæ°å¯å¨âæâå¯å¨âï¼ä¼åéæ©âéæ°å¯å¨âï¼ç¨ç­çå»å³å¯ã</p>
<h3 id="3æè½½ç½ç»ç£ç">3ãæè½½ç½ç»ç£ç</h3>
<p>æå¼æ­¤çµèï¼ç¹å»ââ¦âï¼éæ©âæ å°ç½ç»é©±å¨å¨â<br>
<img src="https://img2024.cnblogs.com/blog/2010295/202601/2010295-20260105134026085-38343443.png" alt="æ å°ç½ç»é©±å¨å¨" loading="lazy"><br>
è¾å¥æä»¬å¨âCHFS-GUIâä¸­çå°çWebdavå°åï¼å®æ<br>
<img src="https://img2024.cnblogs.com/blog/2010295/202601/2010295-20260105134216543-1046056418.png" alt="è¾å¥Webdavç½ç»å°å" loading="lazy"><br>
è¾å¥è´¦å·å¯ç è®¿é®ï¼å¯ä»¥éä¿å­å¯ç <br>
<img src="https://img2024.cnblogs.com/blog/2010295/202601/2010295-20260105134400223-1173783259.png" alt="è¾å¥è´¦å·å¯ç " loading="lazy"><br>
ç¨ç­çå»ï¼å°±å¯ä»¥çå°è¢«å±äº«çç®å½å¦~<br>
<img src="https://img2024.cnblogs.com/blog/2010295/202601/2010295-20260105134659541-1026931976.png" alt="æ¥çè¢«å±äº«çç®å½" loading="lazy"><br>
ç¼è¾åææ¾æä»¶ä¹æ¯è·æ¬å°æä»¶å¤¹ç¨èµ·æ¥ä¸æ ·ç~<br>
<img src="https://img2024.cnblogs.com/blog/2010295/202601/2010295-20260105134819262-397641509.png" alt="ç¼è¾æä»¶å¤¹åå®¹" loading="lazy"></p>
<h2 id="ä¼åºäºç£çæ å°ä½¿ç¨å±äº«ç®å½mac">ä¼ãåºäºç£çæ å°ä½¿ç¨å±äº«ç®å½ï¼Macï¼</h2>
<p>æä»¬å¨Macç­å¶ä»ç³»ç»çè®¾å¤ä¸ä¹å¯ä»¥æ¥çãç¼è¾å±äº«æä»¶å¤¹ï¼è¿éä»¥Macä¸ºä¾ä»ç»æä½æ­¥éª¤ã</p>
<h3 id="1æ·»å ç½ç»ä½ç½®">1ãæ·»å ç½ç»ä½ç½®</h3>
<p>æä»¬å¨è®¿è¾¾ä¸­ç¹å»âåå¾âèåæ ï¼éæ©âè¿æ¥æå¡å¨â¦â¦â<br>
<img src="https://img2024.cnblogs.com/blog/2010295/202601/2010295-20260105135819803-1431835666.png" alt="è¿æ¥æå¡å¨" loading="lazy"><br>
è¾å¥åæ ·çWebdavå°åï¼ç¹å»âè¿æ¥âï¼å ä¸ºæ¯httpï¼æä»¥ä¼æç¤ºä¸å®å¨ï¼è¿ä¸ªæä»¬ç»§ç»­è¿æ¥å°±å¥½äº<br>
<img src="https://img2024.cnblogs.com/blog/2010295/202601/2010295-20260105140030648-1450261355.png" alt="è¾å¥è¿æ¥å°å" loading="lazy"><br>
æ¥çéè¦æä»¬è¾å¥è´¦å·åå¯ç ï¼æä»¬è¾å¥æä»¬ä¹åè®¾ç½®çè´¦å·å¯ç ï¼ç¹âè¿æ¥â<br>
<img src="https://img2024.cnblogs.com/blog/2010295/202601/2010295-20260105140340262-1189758189.png" alt="è¾å¥è´¦å·åå¯ç " loading="lazy"><br>
è¿æ¥å®æåï¼æä»¬ä¹æ¯è½å¤æ¥çãç¼è¾ãä¸ä¼ ãä¸è½½å¥ç~<br>
<img src="https://img2024.cnblogs.com/blog/2010295/202601/2010295-20260105140510644-1516915555.png" alt="æ¥ç" loading="lazy"><br>
<img src="https://img2024.cnblogs.com/blog/2010295/202601/2010295-20260105140558685-1504459744.png" alt="ä¸ä¼ " loading="lazy"><br>
å®æå¦~</p>
<h2 id="éæ»ç»">éãæ»ç»</h2>
<p>CHFS-GUIç¨èµ·æ¥å¾æ¹ä¾¿ï¼èä¸å®æ¯å¤å¹³å°çï¼ä¸åªæ¯Windowsï¼ä¹å¯ä»¥å¨å¶ä»ç³»ç»ä¸è¿è¡ãå¦å¤Webdavä¹å¾å¥½ç¨ï¼ç¨èµ·æ¥å°±åæ¬å°ç£çä¸æ ·ãéå¸¦çæµè§å¨è®¿é®ä¹å¾æ¹ä¾¿~<br>
å¦å¤ï¼æä»¬å¯ä»¥å³æ³¨ä¸ä¸CHFS-GUIçä¸äºå®ç¨åè½ï¼å¼æºèªå¨å¯å¨ãå¯å¨åèªå¨å¼å¯æå¡ãSSL/HTTPSåå¯ç ä¿æ¤ç­ã<br>
<img src="https://img2024.cnblogs.com/blog/2010295/202601/2010295-20260105141844360-1936076221.png" alt="å¶ä»åè½" loading="lazy"></p>
<h2 id="æåè">æãåè</h2>
<ol>
<li>CuteHttpFileServer | iscute.cnï¼<a href="http://iscute.cn/chfs" target="_blank" rel="noopener nofollow">http://iscute.cn/chfs</a></li>
<li>windows10æè½½webdav - æ´äºå­¤é­ - åå®¢å­ï¼<a href="https://www.cnblogs.com/cnhack/articles/17101960.html" target="_blank">https://www.cnblogs.com/cnhack/articles/17101960.html</a></li>
<li>GitHub - docblue/chfsgui: This is just a GUI WRAPPER for chfs(cute http file server)ï¼<a href="https://github.com/docblue/chfsgui" target="_blank" rel="noopener nofollow">https://github.com/docblue/chfsgui</a></li>
</ol>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-05 14:22">2026-01-05 14:21</span>&nbsp;
<a href="https://www.cnblogs.com/minuhy">æ¸é£æ¥å</a>&nbsp;
éè¯»(<span id="post_view_count">9</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19442799);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19442799', targetLink: 'https://www.cnblogs.com/minuhy/p/19442799', title: 'ãWindowsãå¦ä½å å¯å±äº«æä»¶å¤¹ - åºäºCHFSé¡¹ç®' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ .NET 10 New feature æ°å¢åè½ä»ç»-WebSocketåè½å¢å¼º ]]></title>
    <link>https://www.cnblogs.com/tianqing/p/19439916</link>
    <guid>925130b49e19d114360ee44930f5779d</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/tianqing/p/19439916" title="åå¸äº 2026-01-05 14:02">
    <span role="heading" aria-level="2">.NET 10 New feature æ°å¢åè½ä»ç»-WebSocketåè½å¢å¼º</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p>ä»å¤©æ´çäº.NET 10ç±»åºæ°å¢çå ä¸ªå¸¸ç¨åè½ï¼æèè§ç©ï¼åäº«ç»å¤§å®¶ï¼</p>
<div>
<p>.NET 10 æ°å¢äº&nbsp;<a class="no-loc" href="https://learn.microsoft.com/zh-cn/dotnet/api/system.net.websockets.websocketstream" data-linktype="absolute-path" rel="noopener nofollow">WebSocketStream</a>ä¸ä¸ªæ°ç APIï¼ç¨äºç®å .NET ä¸­ä¸äºæå¸¸è§ç<a class="no-loc" href="https://learn.microsoft.com/zh-cn/dotnet/api/system.net.websockets.websocket" data-linktype="absolute-path" rel="noopener nofollow">WebSocket</a>&nbsp;çæµå¼å¤çæ¹æ¡ã</p>
<p>ä¼ ç»&nbsp;<code>WebSocket</code>&nbsp;API çº§å«è¾ä½ï¼éè¦å¤§éçä»£ç ï¼å¤çç¼å²åæ¡æ¶ãéå»ºæ¶æ¯ãç®¡çç¼ç /è§£ç ä»¥åç¼åèªå®ä¹åè£å¨ä»¥ä¸æµãééæå¶ä»ä¼ è¾æ½è±¡éæã</p>
<p>è¿äºå¤ææ§ä½¿å¾å¾é¾å° WebSocket ç¨ä½ä¼ è¾ï¼å°¤å¶æ¯å¯¹äºå·ææµå¼å¤çæåºäºææ¬çåè®®æäºä»¶é©±å¨çå¤çç¨åºçåºç¨ã</p>
<p><code>WebSocketStream</code>&nbsp;éè¿æä¾&nbsp;<a class="no-loc" href="https://learn.microsoft.com/zh-cn/dotnet/api/system.io.stream" data-linktype="absolute-path" rel="noopener nofollow">Stream</a>åºäº WebSocket çæ½è±¡æ¥è§£å³è¿ä¸ªé¾é¢ã</p>
<p>è¿æ ·å°±å¯ä»¥ä¸ç°æ API æ ç¼éæï¼ä»¥ä¾¿è¯»åãåå¥ååææ°æ®ï¼æ è®ºæ¯äºè¿å¶æ°æ®è¿æ¯ææ¬ï¼å¹¶åå°äºæå¨ç®¡éçéæ±ã</p>
<p><code>WebSocketStream</code>&nbsp;ä¸ºå¸¸è§ç WebSocket çäº§ç¯å¢åºç¨å¯ç¨äºé«çº§é«é¶APIã</p>
<p class="p1"><strong>WebSocketStream å°åºè§£å³äºä»ä¹é®é¢</strong></p>
<p>å¨ .NET 10 ä¹åï¼</p>
<ul>
<li>
<p class="p1">System.Net.WebSockets.WebSocket</p>
<ul>
<li>
<p class="p1"><strong>æ¶æ¯æ¨¡åï¼Message-basedï¼</strong></p>
</li>
<li>
<p class="p1">å¿é¡»èªå·±å¤çï¼</p>
<ul>
<li>
<p class="p1">åçï¼Fragmentï¼</p>
</li>
<li>
<p class="p1">æ¶æ¯è¾¹ç</p>
</li>
<li>
<p class="p1">å¾ªç¯ Receive / Send</p>
</li>
</ul>
</li>
<li>
<p class="p1"><strong>æ æ³å Stream ä¸æ ·ç»ä¸æ½è±¡</strong></p>
</li>
</ul>
</li>
</ul>
<p class="p3">ç»ææ¯ï¼</p>
<ul>
<li>
<p class="p1">WebSocket åæ³ <span class="s1"><strong>å¤æãéå¤ãæé</strong></span></p>
</li>
<li>
<p class="p1">å¾é¾åç°æ <span class="s1"><strong>Stream çæ</strong>ï¼åç¼©ãå å¯ãç®¡éãåºååï¼æ´å</span></p>
</li>
<li>
<p class="p1">WebSocket å TCP / NamedPipe / HTTP Body çç¼ç¨æ¨¡åå²è£</p>
</li>
</ul>
<p class="p1">&nbsp;<strong>WebSocketStream çæ¬è´¨åå</strong></p>
<p>&nbsp;<span class="s2">.NET 10 æä¾ç WebSocketStream<span class="s2">ï¼</span></span></p>
<blockquote><strong>æ WebSocket è¿æ¥æ½è±¡ä¸ºä¸ä¸ªçæ­£ç Stream</strong></blockquote>
<p class="p5">è¿æå³çï¼</p>
<ul>
<li>
<p class="p1">ä¸åå³å¿æ¶æ¯å¸§ãåçãè¾¹ç</p>
</li>
<li>
<p class="p1">å¯ä»¥ç´æ¥ï¼</p>
<ul>
<li>
<p class="p1">ReadAsync</p>
</li>
<li>
<p class="p1">WriteAsync</p>
</li>
</ul>
</li>
<li>
<p class="p1">è½æ ç¼æ¥å¥ï¼</p>
<ul>
<li>
<p class="p1">PipeReader / PipeWriter</p>
</li>
<li>
<p class="p1">System.IO.Stream<span class="s1"> å¨å¥ä¸­é´ä»¶</span></p>
</li>
</ul>
<p>&nbsp;<span class="s2">è¿æ¯ä¸æ¬¡<strong>æ¨¡åçº§åçº§ï¼èä¸æ¯è¯­æ³ç³</strong><span class="s2">ã</span></span></p>
</li>
</ul>
<p>&nbsp;ç»åºä¸ä¸ªç¤ºä¾ä»£ç ï¼</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">using</span><span style="color: rgba(0, 0, 0, 1)"> System;
</span><span style="color: rgba(0, 0, 255, 1)">using</span><span style="color: rgba(0, 0, 0, 1)"> System.IO;
</span><span style="color: rgba(0, 0, 255, 1)">using</span><span style="color: rgba(0, 0, 0, 1)"> System.Net.WebSockets;
</span><span style="color: rgba(0, 0, 255, 1)">using</span><span style="color: rgba(0, 0, 0, 1)"> System.Threading;
</span><span style="color: rgba(0, 0, 255, 1)">using</span><span style="color: rgba(0, 0, 0, 1)"> System.Threading.Tasks;

</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> Streaming binary protocol (for example, AMQP).</span>
Stream transportStream =<span style="color: rgba(0, 0, 0, 1)"> WebSocketStream.Create(
    connectedWebSocket,
    WebSocketMessageType.Binary,
    closeTimeout: TimeSpan.FromSeconds(</span><span style="color: rgba(128, 0, 128, 1)">10</span><span style="color: rgba(0, 0, 0, 1)">));
</span><span style="color: rgba(0, 0, 255, 1)">await</span><span style="color: rgba(0, 0, 0, 1)"> message.SerializeToStreamAsync(transportStream, cancellationToken);
</span><span style="color: rgba(0, 0, 255, 1)">var</span> receivePayload = <span style="color: rgba(0, 0, 255, 1)">new</span> <span style="color: rgba(0, 0, 255, 1)">byte</span><span style="color: rgba(0, 0, 0, 1)">[payloadLength];
</span><span style="color: rgba(0, 0, 255, 1)">await</span><span style="color: rgba(0, 0, 0, 1)"> transportStream.ReadExactlyAsync(receivePayload, cancellationToken);
transportStream.Dispose();
</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> `Dispose` automatically handles closing handshake.</span></pre>
</div>
<h5 id="streaming-text-protocol-for-example-stomp" class="heading-anchor">æµå¼å¤çææ¬åè®®ï¼ä¾å¦ STOMPï¼</h5>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">using</span><span style="color: rgba(0, 0, 0, 1)"> System.IO;
</span><span style="color: rgba(0, 0, 255, 1)">using</span><span style="color: rgba(0, 0, 0, 1)"> System.Net.WebSockets;
</span><span style="color: rgba(0, 0, 255, 1)">using</span><span style="color: rgba(0, 0, 0, 1)"> System.Threading;
</span><span style="color: rgba(0, 0, 255, 1)">using</span><span style="color: rgba(0, 0, 0, 1)"> System.Threading.Tasks;

</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> Streaming text protocol (for example, STOMP).</span>
<span style="color: rgba(0, 0, 255, 1)">using</span> Stream transportStream =<span style="color: rgba(0, 0, 0, 1)"> WebSocketStream.Create(
    connectedWebSocket, 
    WebSocketMessageType.Text,
    ownsWebSocket: </span><span style="color: rgba(0, 0, 255, 1)">true</span><span style="color: rgba(0, 0, 0, 1)">);
</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> Integration with Stream-based APIs.
</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> Don't close the stream, as it's also used for writing.</span>
<span style="color: rgba(0, 0, 255, 1)">using</span> <span style="color: rgba(0, 0, 255, 1)">var</span> transportReader = <span style="color: rgba(0, 0, 255, 1)">new</span> StreamReader(transportStream, leaveOpen: <span style="color: rgba(0, 0, 255, 1)">true</span><span style="color: rgba(0, 0, 0, 1)">); 
</span><span style="color: rgba(0, 0, 255, 1)">var</span> line = <span style="color: rgba(0, 0, 255, 1)">await</span> transportReader.ReadLineAsync(cancellationToken); <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> Automatic UTF-8 and new line handling.</span>
transportStream.Dispose(); <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> Automatic closing handshake handling on `Dispose`.</span></pre>
</div>
<h5 id="streaming-binary-protocol-for-example-amqp" class="heading-anchor">æµå¼å¤çäºè¿å¶åè®®ï¼ä¾å¦ AMQPï¼</h5>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">using</span><span style="color: rgba(0, 0, 0, 1)"> System;
</span><span style="color: rgba(0, 0, 255, 1)">using</span><span style="color: rgba(0, 0, 0, 1)"> System.IO;
</span><span style="color: rgba(0, 0, 255, 1)">using</span><span style="color: rgba(0, 0, 0, 1)"> System.Net.WebSockets;
</span><span style="color: rgba(0, 0, 255, 1)">using</span><span style="color: rgba(0, 0, 0, 1)"> System.Threading;
</span><span style="color: rgba(0, 0, 255, 1)">using</span><span style="color: rgba(0, 0, 0, 1)"> System.Threading.Tasks;

</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> Streaming binary protocol (for example, AMQP).</span>
Stream transportStream =<span style="color: rgba(0, 0, 0, 1)"> WebSocketStream.Create(
    connectedWebSocket,
    WebSocketMessageType.Binary,
    closeTimeout: TimeSpan.FromSeconds(</span><span style="color: rgba(128, 0, 128, 1)">10</span><span style="color: rgba(0, 0, 0, 1)">));
</span><span style="color: rgba(0, 0, 255, 1)">await</span><span style="color: rgba(0, 0, 0, 1)"> message.SerializeToStreamAsync(transportStream, cancellationToken);
</span><span style="color: rgba(0, 0, 255, 1)">var</span> receivePayload = <span style="color: rgba(0, 0, 255, 1)">new</span> <span style="color: rgba(0, 0, 255, 1)">byte</span><span style="color: rgba(0, 0, 0, 1)">[payloadLength];
</span><span style="color: rgba(0, 0, 255, 1)">await</span><span style="color: rgba(0, 0, 0, 1)"> transportStream.ReadExactlyAsync(receivePayload, cancellationToken);
transportStream.Dispose();
</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> `Dispose` automatically handles closing handshake.</span></pre>
</div>
<h5 id="read-a-single-message-as-a-stream-for-example-json-deserialization" class="heading-anchor">ä»¥æµå½¢å¼è¯»ååä¸ªæ¶æ¯ï¼ä¾å¦ JSON ååºååï¼</h5>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">using</span><span style="color: rgba(0, 0, 0, 1)"> System.IO;
</span><span style="color: rgba(0, 0, 255, 1)">using</span><span style="color: rgba(0, 0, 0, 1)"> System.Net.WebSockets;
</span><span style="color: rgba(0, 0, 255, 1)">using</span><span style="color: rgba(0, 0, 0, 1)"> System.Text.Json;

</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> Reading a single message as a stream (for example, JSON deserialization).</span>
<span style="color: rgba(0, 0, 255, 1)">using</span> Stream messageStream =<span style="color: rgba(0, 0, 0, 1)"> WebSocketStream.CreateReadableMessageStream(connectedWebSocket, WebSocketMessageType.Text);
</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> JsonSerializer.DeserializeAsync reads until the end of stream.</span>
<span style="color: rgba(0, 0, 255, 1)">var</span> appMessage = <span style="color: rgba(0, 0, 255, 1)">await</span> JsonSerializer.DeserializeAsync&lt;AppMessage&gt;(messageStream);</pre>
</div>
<h5 id="write-a-single-message-as-a-stream-for-example-binary-serialization" class="heading-anchor">å°åä¸ªæ¶æ¯ç¼åä¸ºæµï¼ä¾å¦ï¼äºè¿å¶åºååï¼</h5>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">using</span><span style="color: rgba(0, 0, 0, 1)"> System;
</span><span style="color: rgba(0, 0, 255, 1)">using</span><span style="color: rgba(0, 0, 0, 1)"> System.IO;
</span><span style="color: rgba(0, 0, 255, 1)">using</span><span style="color: rgba(0, 0, 0, 1)"> System.Net.WebSockets;
</span><span style="color: rgba(0, 0, 255, 1)">using</span><span style="color: rgba(0, 0, 0, 1)"> System.Threading;
</span><span style="color: rgba(0, 0, 255, 1)">using</span><span style="color: rgba(0, 0, 0, 1)"> System.Threading.Tasks;

</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> Writing a single message as a stream (for example, binary serialization).</span>
<span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">async</span><span style="color: rgba(0, 0, 0, 1)"> Task SendMessageAsync(AppMessage message, CancellationToken cancellationToken)
{
    </span><span style="color: rgba(0, 0, 255, 1)">using</span> Stream messageStream =<span style="color: rgba(0, 0, 0, 1)"> WebSocketStream.CreateWritableMessageStream(_connectedWebSocket, WebSocketMessageType.Binary);
    </span><span style="color: rgba(0, 0, 255, 1)">foreach</span> (ReadOnlyMemory&lt;<span style="color: rgba(0, 0, 255, 1)">byte</span>&gt; chunk <span style="color: rgba(0, 0, 255, 1)">in</span><span style="color: rgba(0, 0, 0, 1)"> message.SplitToChunks())
    {
        </span><span style="color: rgba(0, 0, 255, 1)">await</span><span style="color: rgba(0, 0, 0, 1)"> messageStream.WriteAsync(chunk, cancellationToken);
    }
} </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> EOM sent on messageStream.Dispose().</span></pre>
</div>
<p>æ»ç»ï¼<strong>WebSocketStream ççå®åºç¨åºæ¯</strong></p>
<p><strong>åºæ¯ä¸ï¼å®æ¶æ°æ®æµï¼Streaming Dataï¼</strong></p>
<p><strong>å¸åä¸å¡</strong></p>
<ul>
<li>
<p class="p1">åçµç«å®æ¶ç¶ææ¨éï¼åçãçµæµãçµåï¼</p>
</li>
<li>
<p class="p1">å®æ¶çæ§å¤§å±ï¼ææ æµï¼</p>
</li>
<li>
<p class="p1">è¡æ / è®¢åæµ</p>
</li>
<li>
<p class="p1">æ¥å¿ / Trace å®æ¶è®¢é</p>
</li>
</ul>
<p>&nbsp;<strong>ä½¿ç¨ WebSocketStream å</strong>WebSocket = <span class="s2"><strong>ä¸æ¡æç»­çæ°æ®æµ</strong></span></p>
<p class="p1">&nbsp;<strong>åºæ¯äºï¼AI / LLM å®æ¶è¾åºï¼Token Streamingï¼</strong></p>
<p>&nbsp;<strong>å¸åä¸å¡</strong></p>
<ul>
<li>
<p class="p1">å¤§æ¨¡åæ¨çæµå¼è¿å</p>
</li>
<li>
<p class="p1">Copilot / Chat / Agent æ¨çè¿ç¨</p>
</li>
<li>
<p class="p1">SSE + WebSocket æ··åæ¹æ¡</p>
</li>
</ul>
<p>&nbsp;<strong>åºæ¯ä¸ï¼å¤§æä»¶ / äºè¿å¶æµå®æ¶ä¼ è¾</strong></p>
<p>using var file = File.OpenRead(path);<br>await file.CopyToAsync(webSocketStream);</p>
<p class="p1">&nbsp;æ´å TCPï¼ä½ä»æ¯ WebSocket</p>
<p class="p1">&nbsp;<strong>åºæ¯åï¼RPC / åè®®é§éï¼Protocol Tunnelingï¼</strong></p>
<ul>
<li>
<p class="p1"><span class="s1">å¯ä»¥ç´æ¥è· <strong>å·²æ Stream åè®®</strong></span></p>
<ul>
<li>
<p class="p1">gRPC-like</p>
</li>
<li>
<p class="p1">èªå®ä¹ framing</p>
</li>
<li>
<p class="p1">è®¾å¤éä¿¡åè®®</p>
</li>
</ul>
<p>&nbsp;&nbsp;await protocolHandler.RunAsync(webSocketStream);</p>
</li>
</ul>
<p><strong>åºæ¯äºï¼ä¸ System.IO.Pipelines æ·±åº¦æ´å</strong></p>
<p><strong>æå»º</strong><strong>é«æ§è½æå¡ç«¯</strong></p>
<p>var reader = PipeReader.Create(webSocketStream);<br>var writer = PipeWriter.Create(webSocketStream);</p>
<ul>
<li>
<p class="p1">ç¨ Pipelines åï¼</p>
<ul>
<li>
<p class="p1">é«æ§è½è§£æ</p>
</li>
<li>
<p class="p1">é¶æ·è´å¤ç</p>
</li>
</ul>
</li>
<li>
<p class="p1">å Kestrel / gRPC / èªç åè®®ä¸è´</p>
</li>
</ul>
<p class="p1">&nbsp;<strong>éåï¼</strong></p>
<ul>
<li>
<p class="p1">é«é¢å®æ¶éä¿¡</p>
</li>
<li>
<p class="p1">ç¾ä¸çº§è¿æ¥æå¡</p>
</li>
<li>
<p class="p1">æ ¸å¿ä¸­æ¢æå¡</p>
</li>
</ul>
<p>&nbsp;ä»¥ä¸æ»ç»ï¼åäº«ç»å¤§å®¶ã</p>
<p>&nbsp;</p>
<p>å¨å½åº</p>
<p>2026/1/5</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
</div>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-05 14:03">2026-01-05 14:02</span>&nbsp;
<a href="https://www.cnblogs.com/tianqing">Eric zhou</a>&nbsp;
éè¯»(<span id="post_view_count">69</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19439916);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19439916', targetLink: 'https://www.cnblogs.com/tianqing/p/19439916', title: '.NET 10 New feature æ°å¢åè½ä»ç»-WebSocketåè½å¢å¼º' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ä»å®è£å°ä¸çº¿ï¼ä¸ä»½ Nginx å®ææåï¼è®©ä½ ç Web åºç¨ç¨³å»ºå®å¨ ]]></title>
    <link>https://www.cnblogs.com/ymtianyu/p/19442584</link>
    <guid>ba9cd8402dfc37f093f4085e858bef74</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/ymtianyu/p/19442584" title="åå¸äº 2026-01-05 13:40">
    <span role="heading" aria-level="2">ä»å®è£å°ä¸çº¿ï¼ä¸ä»½ Nginx å®ææåï¼è®©ä½ ç Web åºç¨ç¨³å»ºå®å¨</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        è¿æ¯ä¸ä»½é¢åå¼åèåè¿ç»´æ°æç Nginx å®ææåãæç« è¯¦ç»è®²è§£äºå¨ Windows å Linux ç³»ç»ä¸å®è£éç½® Nginx çæ­¥éª¤ï¼æä¾äºæ ¸å¿çå®å¨å åºéç½®ï¼å¹¶éç¹æ¼ç¤ºäºå¦ä½å° Nginx ä½ä¸ºååä»£çä¸ Flask æ FastAPI ç­ Python Web åºç¨ç»åé¨ç½²ãåæ¶ï¼æä¸­æ»ç»äºå¸¸è§çéè¯¯ä¸ææ¥æ¹æ³ï¼å¸®å©ä½ å¿«éä¸æå¹¶é¿åå¸¸è§é·é±ã
    </div>
<div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p>ä½ ææ²¡æéå°è¿ç½ç«çªç¶åå¡ï¼æèåè¾ä¸è¦åå¥½ç Flask/FastAPI åºç¨ï¼å´ä¸ç¥éæä¹ä¼éå°é¨ç½²å°å¬ç½ï¼ä»å¤©ï¼æä»¬å°±æ¥èèé£ä¸ªå¨èåé»é»æ¯æå¨çè¿ä¸åä¹ä¸æ´»è·ç½ç«çâæ åè±éâââNginxã</p>
<p>å¯¹äºå¾å¤å¼åèåè¿ç»´æ°ææ¥è¯´ï¼Nginx çéç½®å¸¸å¸¸è®©äººå¤´ç¼ï¼å®è£æ¥éãéç½®æä»¶å¤æãå®å¨è®¾ç½®æ ä»ä¸æâ¦â¦å«æå¿ï¼ä½ä¸ºä½ çèæåï¼è¿ç¯æåå°ç¨æç´ç½çè¯­è¨ï¼å¸¦ä½ ä»é¶å¼å§ï¼å½»åºæå® Nginx çå®è£ãéç½®åå®æåºç¨ãð¯</p>
<hr>
<h2>ð¯ æ¬ææè¦</h2>
<p>æ¬ææ¯ä¸ä»½é¢åå®è·µç Nginx ç»¼åæåãä½ å°ç³»ç»å­¦ä¹ å°å¦ä½å¨ Windows å Linux ç³»ç»ä¸å®è£ä¸éç½® Nginxï¼ææ¡æ ¸å¿çå®å¨å åºæå·§ï¼å¹¶å­¦ä¼å° Nginx ä¸ Flask æ FastAPI ç­ Python Web æ¡æ¶æ ç¼ç»åï¼ç¨äºçäº§ç¯å¢é¨ç½²ãåæ¶ï¼æä¸­æä¾äºå¸¸è§é®é¢çææ¥æè·¯ï¼å¸®å©ä½ å¿«éå®ä½åè§£å³é¾é¢ã</p>
<hr>
<h2>ð Nginxï¼ä¸åªæ¯ä¸ªâåæä»¶çâ</h2>
<p>å¾å¤äººåè¯ Nginxï¼ä»¥ä¸ºå®åªæ¯ä¸ªé«æ§è½çéææä»¶æå¡å¨ãå¶å®ï¼å®æ´åä¸ä¸ª<strong style="color: rgba(186, 55, 42, 1)">ä¸è½çâæ¥çº¿åâæâäº¤éè­¦å¯â</strong>ãå®è½å¤çå¹¶åè¿æ¥ï¼äºä»¶é©±å¨ãå¼æ­¥éé»å¡ï¼ï¼è½åååä»£çï¼æä½ åç«¯çåºç¨âèâèµ·æ¥ï¼ï¼è½è´è½½åè¡¡ï¼ææµéåçååç»å¤ä¸ªåç«¯ï¼ï¼è¿è½ç¼å­åå®¹ãåç¼©æ°æ®ãç»ç» SSL å å¯â¦â¦</p>
<p>çè§£è¿ä¸ç¹ï¼åçå®çéç½®æä»¶ï¼ä½ å°±ä¼æç½é£äº <code style="color: rgba(186, 55, 42, 1)">location</code>ã<code style="color: rgba(186, 55, 42, 1)">proxy_pass</code> æä»¤é½æ¯å¨ææ¥âäº¤éâã</p>
<hr>
<h2>ð§ ç¬¬ä¸é¨åï¼å®è£ä¸éç½®ï¼Windows &amp; Linuxï¼</h2>
<h3>1. Linux ä¸å®è£ï¼ä»¥ Ubuntu/Debian ä¸ºä¾ï¼</h3>
<p>Linux æ¯ Nginx çä¸»æåºï¼å®è£æç®åã</p>
<pre class="highlighter-hljs" style="background-color: rgba(246, 248, 250, 1); padding: 15px; border-radius: 5px; overflow-x: auto"><code># 1. æ´æ°ååè¡¨
sudo apt update

# 2. å®è£ Nginx
sudo apt install nginx -y

# 3. å¯å¨å¹¶è®¾ç½®å¼æºèªå¯
sudo systemctl start nginx
sudo systemctl enable nginx

# 4. æ£æ¥ç¶æ
sudo systemctl status nginx</code></pre>
<p>å®è£å®æåï¼æµè§å¨è®¿é®ä½ çæå¡å¨ IPï¼çå°âWelcome to nginx!âé¡µé¢ï¼å°±è¯´ææåäºã</p>
<h3>2. Windows ä¸å®è£</h3>
<p>Windows ä¸éå¸¸ç¨äºå¼åæµè¯ãç´æ¥ä»å®ç½ä¸è½½åç¼©åï¼</p>
<ul>
<li>è®¿é® <a href="https://nginx.org/en/download.html" rel="noopener nofollow">nginx.org/en/download.html</a></li>
<li>ä¸è½½ <code style="color: rgba(186, 55, 42, 1)">nginx/Windows-x.x.x</code> çæ¬</li>
<li>è§£åå°ä»»æç®å½ï¼<strong style="color: rgba(186, 55, 42, 1)">è·¯å¾ä¸è¦æä¸­ææç©ºæ ¼ï¼</strong>ï¼</li>
</ul>
<p>å¯å¨æ¹æ³ï¼</p>
<pre class="highlighter-hljs" style="background-color: rgba(246, 248, 250, 1); padding: 15px; border-radius: 5px; overflow-x: auto"><code># è¿å¥è§£åç®å½ï¼æå¼å½ä»¤è¡
cd C:\ä½ çè·¯å¾\nginx-1.xx.x
start nginx          # å¯å¨ï¼çªå£ä¸éªèè¿æ¯æ­£å¸¸çï¼
nginx.exe -s stop    # å¿«éåæ­¢
nginx.exe -s quit    # ä¼éåæ­¢ï¼å¤çå®å½åè¯·æ±ï¼
nginx.exe -s reload  # éæ°å è½½éç½®ï¼æå¸¸ç¨ï¼ï¼</code></pre>
<p>å¦æå¯å¨åï¼æªè½æ­£å¸¸è®¿é®ï¼å¯æ¥çè§£ååç®å½ä¸ç<code>logs</code>æä»¶å¤¹ä¸æ¥å¿è®°å½ä»¥ææ¥éè¯¯åå ï¼å¦ï¼80ç«¯å£å ç¨ç­</p>
<hr>
<h2>âï¸ ç¬¬äºé¨åï¼æ ¸å¿éç½®ä¸å®å¨è®¾ç½®</h2>
<p>Nginx çæ ¸å¿æ¯éç½®æä»¶ï¼éå¸¸ä½äºï¼</p>
<ul>
<li>Linux: <code style="color: rgba(186, 55, 42, 1)">/etc/nginx/nginx.conf</code></li>
<li>Windows: <code style="color: rgba(186, 55, 42, 1)">conf/nginx.conf</code></li>
</ul>
<h3>ð¯ åºç¡å®å¨å åºï¼å¿åé¡¹ï¼ï¼</h3>
<pre class="highlighter-hljs" style="background-color: rgba(246, 248, 250, 1); padding: 15px; border-radius: 5px; overflow-x: auto"><code># å¨ http{ } æ server{ } åä¸­æ·»å 

# 1. éè Nginx çæ¬å·ï¼é¿åä¿¡æ¯æ³é²ï¼
server_tokens off;

# 2. è®¾ç½®å®å¨å¤´é¨ï¼é²æ­¢ä¸äºå¸¸è§ Web æ»å»ï¼
add_header X-Frame-Options "SAMEORIGIN" always;
add_header X-Content-Type-Options "nosniff" always;
add_header X-XSS-Protection "1; mode=block" always;

# 3. éå¶è¯·æ±æ¹æ³ï¼åªåè®¸å¸¸ç¨çï¼
if ($request_method !~ ^(GET|HEAD|POST)$ ) {
    return 405;
}

# 4. éå¶å®¢æ·ç«¯è¯·æ±ä½å¤§å°ï¼é²æä»¶ä¸ä¼ æ»å»ï¼
client_max_body_size 10m;</code></pre>
<p><strong style="color: rgba(186, 55, 42, 1)">è­¦åï¼</strong>ä¿®æ¹éç½®æä»¶åï¼å¡å¿ä½¿ç¨ <code style="color: rgba(186, 55, 42, 1)">nginx -t</code> æµè¯è¯­æ³ï¼ç¡®è®¤æ è¯¯åå <code style="color: rgba(186, 55, 42, 1)">nginx -s reload</code> éè½½éç½®ã</p>
<hr>
<h2>ð ç¬¬ä¸é¨åï¼ä¸ Flask / FastAPI ç»åï¼å®ææ¼ç¤ºï¼</h2>
<p>è¿æ¯ Python å¼åèæå³å¿çé¨åãæä»¬éå¸¸<strong style="color: rgba(186, 55, 42, 1)">ä¸ç´æ¥è®© Nginx è¿è¡ Python</strong>ï¼èæ¯è®© Nginx ä½ä¸º<strong style="color: rgba(186, 55, 42, 1)">ååä»£ç</strong>ï¼å°å¨æè¯·æ±è½¬åç»åç«¯ç Python åºç¨æå¡å¨ï¼å¦ Gunicorn æ Uvicornï¼ã</p>
<h3>ð¯ é¨ç½²æ¶æå¾</h3>
<p><span style="color: rgba(224, 62, 45, 1)"><strong>ç¨æ· â Nginx (80/443ç«¯å£) â ååä»£ç â Gunicorn/Uvicorn (æ¬å°æä¸ªç«¯å£ï¼å¦ 8000) â ä½ ç Flask/FastAPI åºç¨</strong></span></p>
<h3>1. åå¤ä½ ç Python åºç¨</h3>
<p>åè®¾ä½ æä¸ä¸ª FastAPI åºç¨ <code style="color: rgba(186, 55, 42, 1)">main.py</code>ï¼</p>
<pre class="highlighter-hljs" style="background-color: rgba(246, 248, 250, 1); padding: 15px; border-radius: 5px; overflow-x: auto"><code># main.py
from fastapi import FastAPI
app = FastAPI()
@app.get("/")
def read_root():
    return {"Hello": "World"}</code></pre>
<p>ä½¿ç¨ Uvicorn å¯å¨å®ï¼çå¬æ¬æº 8000 ç«¯å£ï¼ï¼</p>
<pre class="highlighter-hljs" style="background-color: rgba(246, 248, 250, 1); padding: 15px; border-radius: 5px; overflow-x: auto"><code>uvicorn main:app --host 127.0.0.1 --port 8000</code></pre>
<h3>2. éç½® Nginx ååä»£ç</h3>
<p>å¨ <code style="color: rgba(186, 55, 42, 1)">/etc/nginx/sites-available/</code>ï¼Linuxï¼æ <code style="color: rgba(186, 55, 42, 1)">conf/</code> ç®å½ä¸ï¼Windowsï¼ï¼åå»ºä¸ä¸ªéç½®æä»¶ï¼å¦ <code style="color: rgba(186, 55, 42, 1)">myapp.conf</code>ï¼<br>ï¼å»ºè®®ç´æ¥å¤å¶<code>nginx.conf</code>å»ºç«å¤æ¬ï¼ç¶åä¿®æ¹æå®<code>server</code>é¨åå³å¯ï¼ä»¥é²æ­¢æªç¥çè¯­æ³éè¯¯ï¼å¦ï¼åå·ç¼ºå¤±ç­ï¼</p>
<pre class="highlighter-hljs" style="background-color: rgba(246, 248, 250, 1); padding: 15px; border-radius: 5px; overflow-x: auto"><code>server {
    listen 80; # çå¬80ç«¯å£ï¼HTTPï¼
    server_name your_domain.com; # ä½ çååææå¡å¨IP

    # éææä»¶ï¼å¯éï¼Nginxç´æ¥å¤çæçæ´é«ï¼
    location /static {
        alias /path/to/your/static/files;
        expires 30d;
    }

    # å¨æè¯·æ±ï¼å¨é¨ä»£çç»åç«¯ç FastAPI åºç¨
    location / {
        # åç«¯åºç¨æå¡å¨çå°å
        proxy_pass http://127.0.0.1:8000;

        # ä»¥ä¸æ¯å³é®ä»£çè®¾ç½®ï¼ç¡®ä¿ä¿¡æ¯æ­£ç¡®ä¼ é
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;

        # è¶æ¶è®¾ç½®
        proxy_connect_timeout 60s;
        proxy_read_timeout 60s;
    }
}</code></pre>
<p>å¨ Linux ä¸ï¼éè¦åå»ºç¬¦å·é¾æ¥å¯ç¨è¯¥éç½®ï¼</p>
<pre class="highlighter-hljs" style="background-color: rgba(246, 248, 250, 1); padding: 15px; border-radius: 5px; overflow-x: auto"><code>sudo ln -s /etc/nginx/sites-available/myapp.conf /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx</code></pre>
<p>å¨ Windows ä¸ï¼åæ ·éè¦éæ°æå®éç½®æä»¶è·¯å¾ï¼</p>
<pre class="language-bash highlighter-hljs"><code>.\nginx.exe -t -c .\conf\myapp.conf
.\nginx.exe -s reload</code></pre>
<p>ç°å¨ï¼è®¿é®ä½ çæå¡å¨ IP æååï¼Nginx å°±ä¼æè¯·æ±éæå°è½¬åç»è¿è¡å¨ 8000 ç«¯å£ç FastAPI åºç¨äºï¼Flask åºç¨éç½®æ¹æ³å®å¨ä¸è´ã</p>
<hr>
<h2>â ï¸ ç¬¬åé¨åï¼å¸¸è§é®é¢ä¸ææ¥ï¼è¸©åæåï¼</h2>
<h3>1. è®¿é®åºç° 502 Bad Gateway</h3>
<ul>
<li><strong style="color: rgba(186, 55, 42, 1)">åå 99%ï¼</strong>åç«¯åºç¨ï¼Gunicorn/Uvicornï¼æ²¡å¯å¨ï¼æèç«¯å£æ²¡å¯¹ä¸ã</li>
<li><strong>ææ¥ï¼</strong>æ£æ¥åç«¯æå¡æ¯å¦å¨è¿è¡ (<code style="color: rgba(186, 55, 42, 1)">ps aux | grep uvicorn</code>)ï¼å¹¶ç¡®è®¤ <code style="color: rgba(186, 55, 42, 1)">proxy_pass</code> çå°ååç«¯å£æ¯å¦æ­£ç¡®ã</li>
</ul>
<h3>2. 403 Forbidden</h3>
<ul>
<li><strong>ææ¥ï¼</strong>æ£æ¥ Nginx è¿ç¨ç¨æ·ï¼éå¸¸æ¯ <code style="color: rgba(186, 55, 42, 1)">www-data</code> æ <code style="color: rgba(186, 55, 42, 1)">nginx</code>ï¼æ¯å¦ææéè¯»åä½ éç½®çéææä»¶æç®å½ã</li>
</ul>
<h3>3. éææä»¶å è½½ä¸äºï¼CSS/JS å¤±æ</h3>
<ul>
<li><strong>ææ¥ï¼</strong>æ£æ¥ <code style="color: rgba(186, 55, 42, 1)">location /static</code> ç <code style="color: rgba(186, 55, 42, 1)">alias</code> è·¯å¾æ¯å¦æ­£ç¡®ï¼ä»¥åæä»¶æ¯å¦å­å¨ã</li>
</ul>
<h3>4. éç½®ä¿®æ¹åä¸çæ</h3>
<ul>
<li><strong>ç¢è®°æµç¨ï¼</strong>æ¹éç½® â <code style="color: rgba(186, 55, 42, 1)">nginx -t</code> æµè¯ â <code style="color: rgba(186, 55, 42, 1)">nginx -s reload</code> éè½½ã</li>
<li>å¦æè¿ä¸çæï¼å°è¯éå¯ Nginx æå¡ï¼å¹¶æ£æ¥éè¯¯æ¥å¿ï¼<code style="color: rgba(186, 55, 42, 1)">tail -f /var/log/nginx/error.log</code>ã</li>
</ul>
<hr>
<h2>ð æ»ç»ä¸åå</h2>
<p>Nginx çå­¦ä¹ æ²çº¿çä¼¼é¡å³­ï¼ä½ä¸æ¦çè§£äºå®çâäº¤éè­¦å¯âè§è²åéç½®æä»¶çåç»æï¼<code style="color: rgba(186, 55, 42, 1)">http{}</code>, <code style="color: rgba(186, 55, 42, 1)">server{}</code>, <code style="color: rgba(186, 55, 42, 1)">location{}</code>ï¼ï¼å¾å¤é®é¢é½ä¼è¿åèè§£ã</p>
<p>è®°ä½ï¼<strong style="color: rgba(186, 55, 42, 1)">æå¥½çå­¦ä¹ æ¹å¼æ¯å¨æ</strong>ãåå¨æ¬å°èææºææµè¯ç¯å¢æè¾ï¼ä»æç®åçéææå¡å¼å§ï¼åå°ååä»£çä¸ä¸ªæ¬å°åºç¨ï¼éæ­¥å ä¸ SSLï¼HTTPSï¼ãè´è½½åè¡¡ç­é«çº§åè½ã</p>
<p>ææ¯ä¹è·¯ï¼åæ»æ¯è¦è¸©çãä½å¸ææè¿ç¯âèåè®°âå¼çåäº«ï¼è½ä¸ºä½ ç¹äº®ä¸çç¯ï¼è®©ä½ å¨æ¸ç¬æ»ææ¶ï¼å°ä¸åè¿·è«ï¼å¤ä¸ä»½ä»å®¹ãå¦æå¨å®è·µä¸­éå°æ°é®é¢ï¼éæ¶å¯ä»¥åæ¥èèï¼å±ä»¬ä¸èµ·æ¢è®¨ã</p>
<p>ç¥ä½ éç½®é¡ºå©ï¼ä¸çº¿å¤§åï¼ð</p>
<p style="text-align: center">---<strong>åå¨æå</strong>---<br>å¸æè¿ä»½æ»ç»è½å¸®ä½ é¿å¼ä¸äºåãå¦æè§å¾æç¨ï¼ä¸å¦¨ç¹ä¸ª èµð æ æ¶èâ­ æ è®°ä¸ä¸ï¼æ¹ä¾¿éæ¶åé¡¾ãä¹æ¬¢è¿å³æ³¨æï¼åç»­ä¸ºä½ å¸¦æ¥æ´å¤ç±»ä¼¼çå®æè§£æãæä»»ä½çé®ææ³æ³ï¼æä»¬è¯è®ºåºè§ï¼ä¸èµ·äº¤æµå¼åä¸­çåç§å¿å¾ä¸é®é¢ã</p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-05 13:41">2026-01-05 13:40</span>&nbsp;
<a href="https://www.cnblogs.com/ymtianyu">ä¸åç¨åºåªå</a>&nbsp;
éè¯»(<span id="post_view_count">80</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19442584);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19442584', targetLink: 'https://www.cnblogs.com/ymtianyu/p/19442584', title: 'ä»å®è£å°ä¸çº¿ï¼ä¸ä»½ Nginx å®ææåï¼è®©ä½ ç Web åºç¨ç¨³å»ºå®å¨' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ .NET+AI | åºäº Microsoft Agent Framework ä¸æ­¥æ­¥éæ Agent Skillsï¼è®©ä½ ç AI Agent æ´æºè½ ]]></title>
    <link>https://www.cnblogs.com/sheng-jie/p/19442149</link>
    <guid>e95e50c4e1230f44af7485aecd6d6260</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/sheng-jie/p/19442149" title="åå¸äº 2026-01-05 11:50">
    <span role="heading" aria-level="2">.NET+AI | åºäº Microsoft Agent Framework ä¸æ­¥æ­¥éæ Agent Skillsï¼è®©ä½ ç AI Agent æ´æºè½</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="åºäº-microsoft-agent-framework-å®ç°-agent-skills-éæ">åºäº Microsoft Agent Framework å®ç° Agent Skills éæ</h1>
<h2 id="å¼è¨">å¼è¨</h2>
<p>éç AI Agent ææ¯çå¿«éåå±ï¼å¦ä½è®© Agent å·å¤å¯å¤ç¨ãå¯æ©å±çä¸ä¸è½åæä¸ºä¸ä¸ªéè¦è¯¾é¢ã<a href="https://agentskills.io" target="_blank" rel="noopener nofollow">Agent Skills</a> è§èæä¾äºä¸ç§æ ååçæ¹å¼æ¥å®ä¹ååå Agent æè½ï¼è <a href="https://github.com/microsoft/ai-agents" target="_blank" rel="noopener nofollow">Microsoft Agent Framework (MAF)</a> åæä¾äºæå»º AI Agent çå¼ºå¤§åºç¡è®¾æ½ã</p>
<p>æ¬æå°æ·±å¥ä»ç»å¦ä½åºäº MAF çä¸ä¸ææ©å±ï¼<code>AIContextProvider</code>ï¼å®ç° Agent Skills çéæï¼åæ¬æ ¸å¿æ¶æè®¾è®¡ãå³é®ç»ä»¶å®ç°ä»¥åå®éåºç¨ç¤ºä¾ã</p>
<blockquote>
<p>æºç å·²ä¸ä¼ è³GitHubï¼ææ«æ«ç ï¼<strong>å å¥ã.NET+AI ç¤¾åºç¾¤ãï¼å³å¯è·åã.NET+AI å¬å¼èµæåã</strong>ã</p>
</blockquote>
<hr>
<h2 id="æ¶ææ¦è¿°">æ¶ææ¦è¿°</h2>
<h3 id="æ´ä½æ¶æ">æ´ä½æ¶æ</h3>
<p>Maf.AgentSkills é¡¹ç®éç¨äº MAF å®æ¹æ¨èç <code>AIContextProviderFactory</code> æ¨¡å¼ï¼å®ç°äºä¸ MAF çæ ç¼éæãæ´ä½æ¶æå¦ä¸ï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/577140/202601/577140-20260105114837837-1484392163.png" alt="" loading="lazy"></p>
<h3 id="ææ¯æ ">ææ¯æ </h3>
<ul>
<li><strong>ç®æ æ¡æ¶</strong>: .NET 10.0</li>
<li><strong>æ ¸å¿ä¾èµ</strong>:
<ul>
<li><code>Microsoft.Agents.AI</code> - MAF æ ¸å¿æ¡æ¶</li>
<li><code>Microsoft.Extensions.AI</code> - AI æ½è±¡å±</li>
<li><code>YamlDotNet</code> - YAML Frontmatter è§£æ</li>
<li><code>Microsoft.Extensions.DependencyInjection</code> - ä¾èµæ³¨å¥æ¯æ</li>
</ul>
</li>
</ul>
<hr>
<h2 id="æ ¸å¿è®¾è®¡çå¿µ">æ ¸å¿è®¾è®¡çå¿µ</h2>
<h3 id="1-æ¸è¿å¼æ«é²-progressive-disclosure">1. æ¸è¿å¼æ«é² (Progressive Disclosure)</h3>
<p>Agent Skills çæ ¸å¿çå¿µä¹ä¸æ¯<strong>æ¸è¿å¼æ«é²</strong>ï¼Agent é¦ååªè·åæè½çåæ°æ®ï¼åç§°åæè¿°ï¼ï¼åªæå¨çæ­£éè¦ä½¿ç¨æä¸ªæè½æ¶ï¼æå è½½å®æ´çæä»¤åå®¹ã</p>
<p>è¿ç§è®¾è®¡æå ä¸ªéè¦ä¼å¿ï¼</p>
<ol>
<li><strong>åå° Token æ¶è</strong>ï¼ç³»ç»æç¤ºåªåå«ç®ç­çæè½åè¡¨ï¼èä¸æ¯æææè½çå®æ´åå®¹</li>
<li><strong>æé«æç</strong>ï¼Agent å¯ä»¥å¿«éå¤æ­åªäºæè½ä¸å½åä»»å¡ç¸å³</li>
<li><strong>æéå è½½</strong>ï¼è¯¦ç»æä»¤ä»å¨éè¦æ¶è·åï¼é¿åä¿¡æ¯è¿è½½</li>
</ol>
<p><img src="https://img2024.cnblogs.com/blog/577140/202601/577140-20260105114837828-1786264926.png" alt="" loading="lazy"></p>
<p><strong>ä¿¡æ¯è·åæµç¨</strong>ï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/577140/202601/577140-20260105114837954-307200857.png" alt="" loading="lazy"></p>
<h3 id="2-ç¬¦å-maf-è®¾è®¡æ¨¡å¼">2. ç¬¦å MAF è®¾è®¡æ¨¡å¼</h3>
<p>é¡¹ç®ä¸¥æ ¼éµå¾ª MAF ç <code>AIContextProviderFactory</code> æ¨¡å¼ï¼è¿æ¯ MAF æ¨èçä¸ä¸ææ³¨å¥æ¹å¼ï¼</p>
<pre><code class="language-csharp">// MAF æ åæ¨¡å¼
AIAgent agent = chatClient.CreateAIAgent(new ChatClientAgentOptions
{
    AIContextProviderFactory = ctx =&gt; new MyContextProvider(
        chatClient,
        ctx.SerializedState,
        ctx.JsonSerializerOptions)
});
</code></pre>
<p>éè¿å®ç° <code>AIContextProvider</code> æ½è±¡ç±»ï¼æä»¬å¯ä»¥ï¼</p>
<ul>
<li>å¨æ¯æ¬¡ Agent è°ç¨åæ³¨å¥æè½ä¿¡æ¯</li>
<li>å¨ææä¾ InstructionsãMessages å Tools</li>
<li>æ¯æçº¿ç¨ç¶æçåºåååååºåå</li>
</ul>
<h3 id="3-å®å¨ç¬¬ä¸">3. å®å¨ç¬¬ä¸</h3>
<p>æè½ç³»ç»æ¶åæä»¶è¯»ååå¯è½çèæ¬æ§è¡ï¼å æ­¤å®å¨æ§æ¯é¦è¦èèï¼</p>
<ul>
<li><strong>è·¯å¾éåé²æ¤</strong>ï¼æææä»¶æä½é½ç»è¿è·¯å¾å®å¨éªè¯</li>
<li><strong>ç¬¦å·é¾æ¥æ£æµ</strong>ï¼é²æ­¢éè¿ç¬¦å·é¾æ¥éé¸</li>
<li><strong>èæ¬æ§è¡é»è®¤ç¦ç¨</strong>ï¼éè¦æ¾å¼å¯ç¨å¹¶éç½®ç½åå</li>
<li><strong>å½ä»¤æ§è¡ç½åå</strong>ï¼åªåè®¸é¢å®ä¹çå½ä»¤</li>
</ul>
<p><img src="https://img2024.cnblogs.com/blog/577140/202601/577140-20260105114838100-771593506.png" alt="" loading="lazy"></p>
<hr>
<h2 id="å³é®ç»ä»¶è¯¦è§£">å³é®ç»ä»¶è¯¦è§£</h2>
<h3 id="1-skillscontextprovider---æè½ä¸ä¸ææä¾å¨">1. SkillsContextProvider - æè½ä¸ä¸ææä¾å¨</h3>
<p><code>SkillsContextProvider</code> æ¯æ´ä¸ªç³»ç»çæ ¸å¿ï¼å®ç»§æ¿èª MAF ç <code>AIContextProvider</code> æ½è±¡ç±»ï¼</p>
<pre><code class="language-csharp">public sealed class SkillsContextProvider : AIContextProvider
{
    private readonly IChatClient _chatClient;
    private readonly SkillLoader _skillLoader;
    private readonly SkillsOptions _options;
    private SkillsState _state;

    // æé å½æ°1ï¼åå»ºæ°å®ä¾
    public SkillsContextProvider(IChatClient chatClient, SkillsOptions? options = null)
    {
        _chatClient = chatClient;
        _options = options ?? new SkillsOptions();
        
        var settings = new SkillsSettings(_options.AgentName, _options.ProjectRoot);
        _skillLoader = new SkillLoader();
        _state = new SkillsState();

        // èªå¨å è½½æè½
        LoadSkills(settings);
    }

    // æé å½æ°2ï¼ä»åºååç¶ææ¢å¤ï¼æ¯æçº¿ç¨æä¹åï¼
    public SkillsContextProvider(
        IChatClient chatClient,
        JsonElement serializedState,
        JsonSerializerOptions? jsonSerializerOptions = null)
    {
        // ååºååæ¢å¤ç¶æ...
    }

    // å¨ Agent è°ç¨åæ³¨å¥æè½ä¸ä¸æ
    public override ValueTask&lt;AIContext&gt; InvokingAsync(
        InvokingContext context,
        CancellationToken cancellationToken = default)
    {
        // çææè½ç³»ç»æç¤º
        var instructions = GenerateSkillsPrompt(_state.AllSkills);
        
        // åå»ºæè½å·¥å·
        var tools = CreateSkillsTools(_state);

        return ValueTask.FromResult(new AIContext
        {
            Instructions = instructions,
            Tools = tools
        });
    }

    // åºååç¶æä»¥æ¯æçº¿ç¨æä¹å
    public override JsonElement Serialize(JsonSerializerOptions? jsonSerializerOptions = null)
    {
        var state = new { Options = _options, State = _state };
        return JsonSerializer.SerializeToElement(state, jsonSerializerOptions);
    }
}
</code></pre>
<p><strong>å³é®è®¾è®¡ç¹</strong>ï¼</p>
<ol>
<li><strong>åæé å½æ°æ¨¡å¼</strong>ï¼ä¸ä¸ªç¨äºåå»ºæ°å®ä¾ï¼ä¸ä¸ªç¨äºä»åºååç¶ææ¢å¤</li>
<li><strong>InvokingAsync</strong>ï¼å¨æ¯æ¬¡ Agent è°ç¨åè¢«è°ç¨ï¼è¿å <code>AIContext</code> æ³¨å¥æè½ä¿¡æ¯</li>
<li><strong>Serialize</strong>ï¼æ¯æå°æè½ç¶æåºååï¼ç¨äºçº¿ç¨æä¹ååºæ¯</li>
</ol>
<p><img src="https://img2024.cnblogs.com/blog/577140/202601/577140-20260105114837897-1781124143.png" alt="" loading="lazy"></p>
<h3 id="2-skillloader---æè½å è½½å¨">2. SkillLoader - æè½å è½½å¨</h3>
<p><code>SkillLoader</code> è´è´£ä»æä»¶ç³»ç»åç°åå è½½æè½ï¼</p>
<pre><code class="language-csharp">public sealed class SkillLoader
{
    private readonly SkillParser _parser;

    /// &lt;summary&gt;
    /// ä»æå®ç®å½å è½½æææè½
    /// &lt;/summary&gt;
    public IEnumerable&lt;SkillMetadata&gt; LoadSkillsFromDirectory(
        string skillsDirectory, 
        SkillSource source)
    {
        if (!Directory.Exists(skillsDirectory))
            yield break;

        foreach (var skillDir in Directory.GetDirectories(skillsDirectory))
        {
            var skill = TryLoadSkill(skillDir, source);
            if (skill is not null)
                yield return skill;
        }
    }

    private SkillMetadata? TryLoadSkill(string skillDirectory, SkillSource source)
    {
        var skillFilePath = Path.Combine(skillDirectory, "SKILL.md");

        if (!File.Exists(skillFilePath))
            return null;

        // å®å¨æ£æ¥ï¼éªè¯ç¬¦å·é¾æ¥
        if (PathSecurity.IsSymbolicLink(skillFilePath))
        {
            var realPath = PathSecurity.GetRealPath(skillFilePath);
            if (!PathSecurity.IsPathSafe(realPath, skillDirectory))
                return null;
        }

        return _parser.Parse(skillFilePath, source);
    }
}
</code></pre>
<p><strong>æè½ç®å½ç»æ</strong>ï¼</p>
<pre><code>~/.maf/{agent-name}/skills/     # ç¨æ·çº§æè½
{project-root}/.maf/skills/     # é¡¹ç®çº§æè½ï¼ä¼åçº§æ´é«ï¼
</code></pre>
<p>æ¯ä¸ªæè½æ¯ä¸ä¸ªç¬ç«çç®å½ï¼åå« <code>SKILL.md</code> æä»¶ï¼</p>
<pre><code>skills/
âââ web-research/
â   âââ SKILL.md
â   âââ search.py
â   âââ templates/
â       âââ report.md
âââ code-review/
â   âââ SKILL.md
â   âââ checklist.md
âââ pdf-tools/
    âââ SKILL.md
    âââ split_pdf.py
    âââ merge_pdf.py
</code></pre>
<p><strong>æè½å è½½æµç¨</strong>ï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/577140/202601/577140-20260105114838125-1683611629.png" alt="" loading="lazy"></p>
<h3 id="3-skillparser---æè½è§£æå¨">3. SkillParser - æè½è§£æå¨</h3>
<p><code>SkillParser</code> è´è´£è§£æ SKILL.md æä»¶ç YAML Frontmatterï¼</p>
<pre><code class="language-csharp">public sealed class SkillParser
{
    private const string FrontmatterDelimiter = "---";

    public SkillMetadata Parse(string skillFilePath, SkillSource source)
    {
        var content = File.ReadAllText(skillFilePath);
        var skillDirectory = Path.GetDirectoryName(skillFilePath)!;
        var directoryName = Path.GetFileName(skillDirectory);

        // æå YAML Frontmatter
        var frontmatter = ExtractFrontmatter(content);
        if (frontmatter is null)
            throw new SkillParseException(skillFilePath, 
                "SKILL.md must have YAML frontmatter delimited by '---'.");

        // è§£æ YAML
        var yamlData = _yamlDeserializer.Deserialize&lt;SkillFrontmatter&gt;(frontmatter);

        // éªè¯å¿éå­æ®µ
        if (string.IsNullOrWhiteSpace(yamlData.Name))
            throw new SkillParseException(skillFilePath, "Skill 'name' is required.");

        if (string.IsNullOrWhiteSpace(yamlData.Description))
            throw new SkillParseException(skillFilePath, "Skill 'description' is required.");

        // éªè¯åç§°æ ¼å¼åç®å½å¹é
        SkillValidator.ValidateName(yamlData.Name);
        SkillValidator.ValidateNameMatchesDirectory(yamlData.Name, directoryName);

        return new SkillMetadata(
            Name: yamlData.Name,
            Description: yamlData.Description,
            Path: skillDirectory,
            Source: source,
            License: yamlData.License,
            AllowedTools: AllowedTool.Parse(yamlData.AllowedTools)
        );
    }
}
</code></pre>
<p><strong>SKILL.md æ ¼å¼ç¤ºä¾</strong>ï¼</p>
<pre><code class="language-markdown">---
name: web-research
description: A skill for conducting comprehensive web research
license: MIT
allowed-tools: web_search fetch_url
---

# Web Research Skill

## When to Use
Use this skill when researching topics online...

## Instructions
1. Clarify the research scope
2. Search strategically
3. Synthesize information
...
</code></pre>
<h3 id="4-skillstoolfactory---å·¥å·å·¥å">4. SkillsToolFactory - å·¥å·å·¥å</h3>
<p><code>SkillsToolFactory</code> æ ¹æ®éç½®åå»ºæè½ç¸å³çå·¥å·ï¼</p>
<pre><code class="language-csharp">public sealed class SkillsToolFactory
{
    public IReadOnlyList&lt;AITool&gt; CreateTools()
    {
        var tools = new List&lt;AITool&gt;();

        // é»è®¤å¯ç¨çå®å¨å·¥å·
        if (_options.EnableReadSkillTool)
            tools.Add(new ReadSkillTool(_loader, _stateProvider).ToAIFunction());

        if (_options.EnableReadFileTool)
            tools.Add(new ReadFileTool(_stateProvider).ToAIFunction());

        if (_options.EnableListDirectoryTool)
            tools.Add(new ListDirectoryTool(_loader, _stateProvider).ToAIFunction());

        // éè¦æ¾å¼å¯ç¨çé«å±å·¥å·
        if (_options.EnableExecuteScriptTool)
            tools.Add(new ExecuteScriptTool(_stateProvider, _options).ToAIFunction());

        if (_options.EnableRunCommandTool &amp;&amp; _options.AllowedCommands.Count &gt; 0)
            tools.Add(new RunCommandTool(_stateProvider, _options).ToAIFunction());

        return tools;
    }
}
</code></pre>
<p><strong>åç½®å·¥å·</strong>ï¼</p>
<table>
<thead>
<tr>
<th>å·¥å·å</th>
<th>åè½</th>
<th>é»è®¤ç¶æ</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>read_skill</code></td>
<td>è¯»å SKILL.md å®æ´åå®¹</td>
<td>â å¯ç¨</td>
</tr>
<tr>
<td><code>read_skill_file</code></td>
<td>è¯»åæè½ç®å½ä¸­çæä»¶</td>
<td>â å¯ç¨</td>
</tr>
<tr>
<td><code>list_skill_directory</code></td>
<td>ååºæè½ç®å½åå®¹</td>
<td>â å¯ç¨</td>
</tr>
<tr>
<td><code>execute_skill_script</code></td>
<td>æ§è¡æè½ä¸­çèæ¬</td>
<td>â ç¦ç¨</td>
</tr>
<tr>
<td><code>run_skill_command</code></td>
<td>è¿è¡ç½ååå½ä»¤</td>
<td>â ç¦ç¨</td>
</tr>
</tbody>
</table>
<p><strong>å·¥å·åå»ºå³ç­æµç¨</strong>ï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/577140/202601/577140-20260105114838189-800056356.png" alt="" loading="lazy"></p>
<h3 id="5-chatclientextensions---ä¾¿æ·æ©å±æ¹æ³">5. ChatClientExtensions - ä¾¿æ·æ©å±æ¹æ³</h3>
<p>ä¸ºäºç®åä½¿ç¨ï¼é¡¹ç®æä¾äº <code>ChatClient</code> çæ©å±æ¹æ³ï¼</p>
<pre><code class="language-csharp">public static class ChatClientExtensions
{
    public static AIAgent CreateSkillsAgent(
        this IChatClient chatClient,
        Action&lt;SkillsOptions&gt;? configureSkills = null,
        Action&lt;ChatClientAgentOptions&gt;? configureAgent = null)
    {
        var skillsOptions = new SkillsOptions();
        configureSkills?.Invoke(skillsOptions);

        var agentOptions = new ChatClientAgentOptions
        {
            AIContextProviderFactory = ctx =&gt;
            {
                // æ£æ¥æ¯å¦ä»åºååç¶ææ¢å¤
                if (ctx.SerializedState.ValueKind != JsonValueKind.Undefined)
                {
                    return new SkillsContextProvider(
                        chatClient,
                        ctx.SerializedState,
                        ctx.JsonSerializerOptions);
                }

                // åå»ºæ°å®ä¾
                return new SkillsContextProvider(chatClient, skillsOptions);
            }
        };

        configureAgent?.Invoke(agentOptions);
        return chatClient.CreateAIAgent(agentOptions);
    }
}
</code></pre>
<hr>
<h2 id="å®ç°ç»è">å®ç°ç»è</h2>
<h3 id="agent-è°ç¨å®æ´æµç¨">Agent è°ç¨å®æ´æµç¨</h3>
<p>ä»¥ä¸æ¯ Agent æ§è¡ä»»å¡æ¶çå®æ´è°ç¨æµç¨ï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/577140/202601/577140-20260105114837850-1773548166.png" alt="" loading="lazy"></p>
<h3 id="1-æè½ç³»ç»æç¤ºçæ">1. æè½ç³»ç»æç¤ºçæ</h3>
<p>æè½ä¿¡æ¯éè¿ç³»ç»æç¤ºæ³¨å¥å° Agent ä¸­ãç³»ç»æç¤ºéç¨æ¸è¿å¼æ«é²çè®¾è®¡ï¼</p>
<pre><code class="language-csharp">public static class SkillsPromptTemplates
{
    public const string SystemPromptTemplate = """
        ## Skills System

        You have access to a skills library that provides specialized capabilities.

        {skills_locations}

        **Available Skills:**

        {skills_list}

        ---

        ### How to Use Skills (Progressive Disclosure) - CRITICAL

        Skills follow a **progressive disclosure** pattern - you know they exist 
        (name + description above), but you **MUST read the full instructions 
        before using them**.

        **MANDATORY Workflow:**

        1. **Recognize when a skill applies**: Check if the user's task matches 
           any skill's description above
        2. **Read the skill's full instructions FIRST**: Use `read_skill` tool 
           to get the complete SKILL.md content
        3. **Follow the skill's instructions precisely**: SKILL.md contains 
           step-by-step workflows and examples
        4. **Execute scripts only after reading**: Use the exact script paths 
           and argument formats from SKILL.md

        **IMPORTANT RULES:**

        â ï¸ **NEVER call `execute_skill_script` without first reading the skill 
           with `read_skill`**
        
        â **Correct Workflow Example:**
        ```
        User: "Split this PDF into pages"
        1. Recognize: "split-pdf" skill matches this task
        2. Call: read_skill("split-pdf") â Get full instructions
        3. Learn: SKILL.md shows the actual script path and argument format
        4. Execute: Use the exact command format from SKILL.md
        ```

        Remember: **Read first, then execute.** This ensures you use skills correctly!
        """;
}
</code></pre>
<h3 id="2-æè½ç¶æç®¡ç">2. æè½ç¶æç®¡ç</h3>
<p>æè½ç¶æéè¿ <code>SkillsState</code> ç±»ç®¡çï¼æ¯æåºååï¼</p>
<pre><code class="language-csharp">public sealed class SkillsState
{
    public IReadOnlyList&lt;SkillMetadata&gt; UserSkills { get; init; } = [];
    public IReadOnlyList&lt;SkillMetadata&gt; ProjectSkills { get; init; } = [];
    public DateTimeOffset LastRefreshed { get; init; }

    /// &lt;summary&gt;
    /// è·åæææè½ï¼é¡¹ç®çº§æè½ä¼åçº§æ´é«
    /// &lt;/summary&gt;
    public IReadOnlyList&lt;SkillMetadata&gt; AllSkills
    {
        get
        {
            var projectSkillNames = ProjectSkills
                .Select(s =&gt; s.Name)
                .ToHashSet(StringComparer.OrdinalIgnoreCase);
            
            var userSkillsWithoutOverrides = UserSkills
                .Where(s =&gt; !projectSkillNames.Contains(s.Name));
            
            return [.. ProjectSkills, .. userSkillsWithoutOverrides];
        }
    }

    public SkillMetadata? GetSkill(string name)
    {
        return ProjectSkills.FirstOrDefault(s =&gt; 
                s.Name.Equals(name, StringComparison.OrdinalIgnoreCase))
            ?? UserSkills.FirstOrDefault(s =&gt; 
                s.Name.Equals(name, StringComparison.OrdinalIgnoreCase));
    }
}
</code></pre>
<h3 id="3-è·¯å¾å®å¨éªè¯">3. è·¯å¾å®å¨éªè¯</h3>
<p>æææä»¶æä½é½ç»è¿ä¸¥æ ¼çè·¯å¾å®å¨éªè¯ï¼</p>
<pre><code class="language-csharp">public static class PathSecurity
{
    /// &lt;summary&gt;
    /// è§£æå®å¨è·¯å¾ï¼é²æ­¢è·¯å¾éåæ»å»
    /// &lt;/summary&gt;
    public static string? ResolveSafePath(string basePath, string relativePath)
    {
        var fullPath = Path.GetFullPath(Path.Combine(basePath, relativePath));
        var normalizedBase = Path.GetFullPath(basePath);

        // ç¡®ä¿è§£æåçè·¯å¾ä»å¨åºç¡è·¯å¾å
        if (!fullPath.StartsWith(normalizedBase, StringComparison.OrdinalIgnoreCase))
            return null;

        return fullPath;
    }

    /// &lt;summary&gt;
    /// æ£æ¥æ¯å¦æ¯ç¬¦å·é¾æ¥
    /// &lt;/summary&gt;
    public static bool IsSymbolicLink(string path)
    {
        var fileInfo = new FileInfo(path);
        return fileInfo.Attributes.HasFlag(FileAttributes.ReparsePoint);
    }

    /// &lt;summary&gt;
    /// éªè¯è·¯å¾æ¯å¦å®å¨
    /// &lt;/summary&gt;
    public static bool IsPathSafe(string targetPath, string allowedBasePath)
    {
        var normalizedTarget = Path.GetFullPath(targetPath);
        var normalizedBase = Path.GetFullPath(allowedBasePath);
        
        return normalizedTarget.StartsWith(normalizedBase, StringComparison.OrdinalIgnoreCase);
    }
}
</code></pre>
<hr>
<h2 id="ä½¿ç¨æ¹æ³">ä½¿ç¨æ¹æ³</h2>
<h3 id="åºæ¬ç¨æ³">åºæ¬ç¨æ³</h3>
<pre><code class="language-csharp">using Maf.AgentSkills.Agent;
using OpenAI;

// åå»º ChatClient
var chatClient = new OpenAIClient(apiKey)
    .GetChatClient("gpt-4")
    .AsIChatClient();

// åå»ºæ¯ææè½ç Agent
var agent = chatClient.CreateSkillsAgent(
    configureSkills: options =&gt;
    {
        options.AgentName = "my-assistant";
        options.ProjectRoot = Directory.GetCurrentDirectory();
    },
    configureAgent: options =&gt;
    {
        options.ChatOptions = new() 
        { 
            Instructions = "You are a helpful assistant." 
        };
    });

// ä½¿ç¨ Agent
var thread = agent.GetNewThread();
var response = await agent.RunAsync("What skills do you have?", thread);
Console.WriteLine(response.Text);
</code></pre>
<h3 id="çº¿ç¨åºåå">çº¿ç¨åºåå</h3>
<p>æè½ç¶æå¯ä»¥éçº¿ç¨ä¸èµ·åºååï¼æ¯ææä¹åä¼è¯ï¼</p>
<pre><code class="language-csharp">// åºååçº¿ç¨
var serializedThread = thread.Serialize();

// ä¿å­å°æ°æ®åºææä»¶
await SaveThreadAsync(userId, serializedThread);

// ç¨åæ¢å¤å¹¶ç»§ç»­å¯¹è¯
var restoredThread = agent.DeserializeThread(serializedThread);
var response = await agent.RunAsync("Continue our chat", restoredThread);
</code></pre>
<p><strong>åºåå/ååºååæµç¨</strong>ï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/577140/202601/577140-20260105114837994-620347996.png" alt="" loading="lazy"></p>
<h3 id="ä¾èµæ³¨å¥éæ">ä¾èµæ³¨å¥éæ</h3>
<pre><code class="language-csharp">var builder = Host.CreateApplicationBuilder(args);

// æ³¨å ChatClient
builder.Services.AddChatClient(sp =&gt;
{
    return new OpenAIClient(apiKey)
        .GetChatClient("gpt-4")
        .AsIChatClient();
});

// æ³¨åæè½ Agent
builder.Services.AddSingleton&lt;AIAgent&gt;(sp =&gt;
{
    var chatClient = sp.GetRequiredService&lt;IChatClient&gt;();
    
    return chatClient.CreateSkillsAgent(
        configureSkills: options =&gt;
        {
            options.AgentName = "di-agent";
            options.ProjectRoot = Directory.GetCurrentDirectory();
            
            options.ToolsOptions.EnableReadSkillTool = true;
            options.ToolsOptions.EnableReadFileTool = true;
        });
});

var host = builder.Build();
var agent = host.Services.GetRequiredService&lt;AIAgent&gt;();

var thread = agent.GetNewThread();

var path = "E:\\GitHub\\My\\dotnet-agent-skills\\NET+AIï¼ææ¯æ å¨æ¯è§£å¯.pdf";
var response = await agent.RunAsync($"è¯·å°æå®ç®å½ï¼{path}çæä»¶æåå3é¡µ", thread);
</code></pre>
<h3 id="å¯ç¨èæ¬æ§è¡">å¯ç¨èæ¬æ§è¡</h3>
<pre><code class="language-csharp">var agent = chatClient.CreateSkillsAgent(
    configureSkills: options =&gt;
    {
        options.AgentName = "power-assistant";
        options.ProjectRoot = Directory.GetCurrentDirectory();
        
        // å¯ç¨èæ¬æ§è¡ï¼éè¦æ¾å¼å¼å¯ï¼
        options.ToolsOptions.EnableExecuteScriptTool = true;
        options.ToolsOptions.AllowedScriptExtensions = [".py", ".ps1", ".cs"];
        options.ToolsOptions.ScriptTimeoutSeconds = 60;
        
        // å¯ç¨å½ä»¤æ§è¡ï¼ç½ååæ¨¡å¼ï¼
        options.ToolsOptions.EnableRunCommandTool = true;
        options.ToolsOptions.AllowedCommands = ["git", "npm", "dotnet"];
    });
</code></pre>
<hr>
<h2 id="å®å¨èé">å®å¨èé</h2>
<h3 id="1-é»è®¤å®å¨">1. é»è®¤å®å¨</h3>
<p>é¡¹ç®éµå¾ª"é»è®¤å®å¨"ååï¼</p>
<ul>
<li><strong>èæ¬æ§è¡é»è®¤ç¦ç¨</strong>ï¼<code>EnableExecuteScriptTool = false</code></li>
<li><strong>å½ä»¤æ§è¡é»è®¤ç¦ç¨</strong>ï¼<code>EnableRunCommandTool = false</code></li>
<li><strong>åªè¯»å·¥å·é»è®¤å¯ç¨</strong>ï¼<code>ReadSkill</code>, <code>ReadFile</code>, <code>ListDirectory</code></li>
</ul>
<h3 id="2-è·¯å¾éåé²æ¤">2. è·¯å¾éåé²æ¤</h3>
<p>æææä»¶æä½é½éå¶å¨æè½ç®å½åï¼</p>
<pre><code class="language-csharp">// è¯»åæä»¶æ¶éªè¯è·¯å¾
var safePath = PathSecurity.ResolveSafePath(skill.Path, relativePath);
if (safePath is null)
{
    return JsonSerializer.Serialize(new
    {
        success = false,
        error = "Path traversal attempt detected"
    });
}
</code></pre>
<h3 id="3-èæ¬æ§è¡ç½åå">3. èæ¬æ§è¡ç½åå</h3>
<p>å³ä½¿å¯ç¨äºèæ¬æ§è¡ï¼ä¹åªåè®¸ç¹å®æ©å±åï¼</p>
<pre><code class="language-csharp">public class SkillsToolsOptions
{
    public List&lt;string&gt; AllowedScriptExtensions { get; set; } = [".py", ".ps1", ".sh", ".cs"];
    public int ScriptTimeoutSeconds { get; set; } = 30;
    public int MaxOutputSizeBytes { get; set; } = 50 * 1024; // 50KB
}
</code></pre>
<h3 id="4-å½ä»¤æ§è¡ç½åå">4. å½ä»¤æ§è¡ç½åå</h3>
<p>å½ä»¤æ§è¡éç¨ä¸¥æ ¼çç½ååæºå¶ï¼</p>
<pre><code class="language-csharp">options.AllowedCommands = ["git", "npm", "dotnet"]; // åªåè®¸è¿äºå½ä»¤
</code></pre>
<hr>
<h2 id="æä½³å®è·µ">æä½³å®è·µ</h2>
<h3 id="1-æè½è®¾è®¡åå">1. æè½è®¾è®¡åå</h3>
<ul>
<li><strong>åä¸èè´£</strong>ï¼æ¯ä¸ªæè½ä¸æ³¨äºä¸ä¸ªé¢å</li>
<li><strong>æ¸æ°æè¿°</strong>ï¼description å­æ®µè¦è¶³å¤æè¿°æè½ç¨é</li>
<li><strong>è¯¦ç»æä»¤</strong>ï¼SKILL.md æ­£æè¦åå«å®æ´çä½¿ç¨è¯´æ</li>
<li><strong>ç¤ºä¾é©±å¨</strong>ï¼æä¾å·ä½çä½¿ç¨ç¤ºä¾</li>
</ul>
<h3 id="2-ç®å½ç»ç»">2. ç®å½ç»ç»</h3>
<pre><code># æ¨èçæè½ç®å½ç»æ
my-skill/
âââ SKILL.md              # å¿éï¼æè½å®ä¹æä»¶
âââ README.md             # å¯éï¼è¯¦ç»ææ¡£
âââ scripts/              # èæ¬æä»¶
â   âââ main.py
â   âââ utils.py
âââ templates/            # æ¨¡æ¿æä»¶
â   âââ output.md
âââ config/               # éç½®æä»¶
    âââ settings.json
</code></pre>
<h3 id="3-skillmd-ç¼åè§è">3. SKILL.md ç¼åè§è</h3>
<pre><code class="language-markdown">---
name: my-skill
description: Brief description under 1024 characters
license: MIT
allowed-tools: web_search file_write
---

# Skill Name

## Overview
Clear explanation of what this skill does.

## When to Use
- Situation 1
- Situation 2

## Prerequisites
- Required tools or dependencies

## Instructions
Step-by-step workflow:

1. First step
2. Second step
3. Third step

## Available Scripts

### script.py
- **Purpose**: What it does
- **Arguments**: `--input &lt;file&gt; --output &lt;file&gt;`
- **Example**: `python script.py --input data.csv --output result.json`

## Examples

### Example 1: Basic Usage
...
</code></pre>
<h3 id="4-é¡¹ç®çº§-vs-ç¨æ·çº§æè½">4. é¡¹ç®çº§ vs ç¨æ·çº§æè½</h3>
<ul>
<li><strong>ç¨æ·çº§æè½</strong> (<code>~/.maf/{agent}/skills/</code>)ï¼éç¨æè½ï¼éç¨äºå¤ä¸ªé¡¹ç®</li>
<li><strong>é¡¹ç®çº§æè½</strong> (<code>{project}/.maf/skills/</code>)ï¼é¡¹ç®ç¹å®æè½ï¼å¯è¦çååç¨æ·çº§æè½</li>
</ul>
<hr>
<h2 id="æ»ç»">æ»ç»</h2>
<p>Maf.AgentSkills é¡¹ç®å±ç¤ºäºå¦ä½åºäº Microsoft Agent Framework å®ç° Agent Skills éæã</p>
<p><strong>æ ¸å¿è®¾è®¡è¦ç¹</strong>ï¼</p>
<ol>
<li><strong>éµå¾ª MAF æ¨¡å¼</strong>ï¼ä½¿ç¨ <code>AIContextProviderFactory</code> å®ç°æ ä¾µå¥å¼éæ</li>
<li><strong>æ¸è¿å¼æ«é²</strong>ï¼éè¿ä¸å±ç»æï¼åæ°æ® â æä»¤ â èµæºï¼ä¼å Token ä½¿ç¨</li>
<li><strong>å®å¨ç¬¬ä¸</strong>ï¼é»è®¤ç¦ç¨å±é©æä½ï¼éç¨ç½ååæºå¶</li>
<li><strong>çº¿ç¨åºåå</strong>ï¼å®æ´æ¯æä¼è¯æä¹å</li>
<li><strong>ä¾èµæ³¨å¥åå¥½</strong>ï¼æäºéæå°ç°æåºç¨</li>
</ol>
<p>éè¿è¿å¥å®ç°ï¼å¼åèå¯ä»¥è½»æ¾ä¸º AI Agent æ·»å å¯å¤ç¨çä¸ä¸æè½ï¼ä½¿ Agent è½å¤å®ææ´å¤æçä»»å¡ã</p>
<hr>
<h2 id="åèèµæ">åèèµæ</h2>
<ul>
<li><a href="https://agentskills.io" target="_blank" rel="noopener nofollow">Agent Skills è§è</a></li>
<li><a href="https://github.com/microsoft/agent-framework" target="_blank" rel="noopener nofollow">Microsoft Agent Framework</a></li>
<li><a href="https://github.com/dotnet/extensions" target="_blank" rel="noopener nofollow">Microsoft.Extensions.AI</a></li>
</ul>
<hr>

</div>
<div id="MySignature" role="contentinfo">
    <div style="display: block; border: 2px solid #6ecaa8; padding: 10px; background: aliceblue">  
<img src="https://files.cnblogs.com/files/sheng-jie/maf-course-card-scan.bmp">
<blockquote>
<b>ðé¢å.NETå¼åèçAI Agent å¼åè¯¾ç¨ã.NET+AI | æºè½ä½å¼åè¿é¶ãå·²ä¸çº¿ï¼æ¬¢è¿æ«ç å å¥å­¦ä¹ ãð</b>
</blockquote>
</div>

<img src="https://files.cnblogs.com/files/sheng-jie/scan-follow.bmp">
<blockquote>
<b>
å³æ³¨æçå¬ä¼å·ãå AI èè¡ãï¼æä»¬å¾®ä¿¡ä¸è§ä¸æ£ã
<br>
éç½¢æ­¤æï¼å¦ææ¨è§å¾æ¬æä¸éå¹¶æææ¶è·ï¼è¯·ãæèµãæãæ¨èãï¼ä¹å¯ãè¯è®ºãçä¸æ¨çé®é¢æå»ºè®®ä¸æäº¤æµã

ä½ çæ¯ææ¯æä¸æ­åä½ååäº«çä¸ç«­å¨åï¼</b>
</blockquote>

<div style="display: block; border: 2px solid #6ecaa8; padding: 10px; background: aliceblue" id="AllanboltSignature">    
        <div>ä½èï¼<a href="http://www.jianshu.com/u/39ec0e6b1844" target="_blank">ãå£æ°ã</a></div>
        <div>åºå¤ï¼<a href="http://www.cnblogs.com/sheng-jie/" target="_blank">http://www.cnblogs.com/sheng-jie/</a></div>
        <div>æ¬æçæå½ä½èååå®¢å­å±æï¼æ¬¢è¿è½¬è½½ï¼ä½æªç»ä½èåæå¿é¡»ä¿çæ­¤æ®µå£°æï¼ä¸å¨æç« é¡µé¢ææ¾ä½ç½®ç»åºåæé¾æ¥ï¼å¦åä¿çè¿½ç©¶æ³å¾è´£ä»»çæå©ã</div>  
</div>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-05 11:50">2026-01-05 11:50</span>&nbsp;
<a href="https://www.cnblogs.com/sheng-jie">ãå£æ°ã</a>&nbsp;
éè¯»(<span id="post_view_count">156</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19442149);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19442149', targetLink: 'https://www.cnblogs.com/sheng-jie/p/19442149', title: '.NET+AI | åºäº Microsoft Agent Framework ä¸æ­¥æ­¥éæ Agent Skillsï¼è®©ä½ ç AI Agent æ´æºè½' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ åºäºopenspec-cnçSDDè§èé©±å¨å¼åå®æ ]]></title>
    <link>https://www.cnblogs.com/shiningrise/p/19441876</link>
    <guid>286a14a86a6e0180b76e1276b5c71b09</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/shiningrise/p/19441876" title="åå¸äº 2026-01-05 11:12">
    <span role="heading" aria-level="2">åºäºopenspec-cnçSDDè§èé©±å¨å¼åå®æ</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="è§èé©±å¨å¼å-ç®åä»ç»">è§èé©±å¨å¼å ç®åä»ç»</h2>
<p>è§èé©±å¨å¼åï¼Specification Driven Developmentï¼ç®ç§° SDD æ SpecDDï¼æ¯ä¸ç§ä»¥è§èä¸ºæ ¸å¿çè½¯ä»¶å·¥ç¨æ¹æ³ï¼æ¢åå«ä¼ ç»ææ·å¼åè¡çåºçæ··ååæ¨¡å¼ï¼ä¹åå±åºéé AI æ¶ä»£çæ°åå¼åèå¼ï¼æ ¸å¿æ¯è®©è§èæä¸ºå¼åå¨æµç¨çæ ¸å¿æå¼ä¸æ§è¡ä¾æ®</p>
<h1 id="æ°å»ºé¡¹ç®äºç»´ç çæå¨è±æåqrcodecreator">æ°å»ºé¡¹ç®ï¼äºç»´ç çæå¨ï¼è±æåï¼QrcodeCreatorï¼</h1>
<h2 id="æ°å»ºç®å½-qrcodecreator">æ°å»ºç®å½ QrcodeCreator</h2>
<p>å¨QrcodeCreatorç®å½æå¼cursor</p>
<h2 id="æ­¥éª¤1å¨å±å®è£cli">æ­¥éª¤1ï¼å¨å±å®è£CLI</h2>
<pre><code>npm install -g @studyzy/openspec-cn@latest
</code></pre>
<h2 id="æ­¥éª¤2å¨é¡¹ç®ä¸­åå§åopenspec">æ­¥éª¤2ï¼å¨é¡¹ç®ä¸­åå§åOpenSpec</h2>
<pre><code>openspec-cn init
</code></pre>
<p>éæ©cursorç¼è¾å¨</p>
<p><img src="https://wxy-blog.oss-cn-hangzhou.aliyuncs.com/wxy-blog/2025/20260105101011477.png" alt="" loading="lazy"></p>
<p>çæå¦ä¸ç®å½ç»æï¼</p>
<p><img src="https://wxy-blog.oss-cn-hangzhou.aliyuncs.com/wxy-blog/2026/20260105101532472.png" alt="" loading="lazy"></p>
<p>å¤å¶ä»¥ä¸åå®¹å°cursorå¯¹è¯æ¡</p>
<pre><code>1. å¡«åæ¨çé¡¹ç®ä¸ä¸æï¼
   "è¯·éè¯» openspec/project.md å¹¶å¸®æå¡«å
    æçé¡¹ç®è¯¦æãææ¯æ åçº¦å®è§è"
</code></pre>
<p>ä¿®æ¹ï¼project.md</p>
<p><img src="https://wxy-blog.oss-cn-hangzhou.aliyuncs.com/wxy-blog/2026/20260105105705596.png" alt="" loading="lazy"></p>
<h2 id="æ°å»ºææ¡">æ°å»ºææ¡</h2>
<pre><code>AIå¯¹è¯æ¡ï¼æï¼ææ³åå»ºä¸ä¸ªè§èææ¡:æ°å¢ä¸å¼ htmlé¡µé¢,æ ¹æ®è¾å¥çç½åçæäºç»´ç 
</code></pre>
<p>çæå¦ä¸æä»¶</p>
<p><img src="https://wxy-blog.oss-cn-hangzhou.aliyuncs.com/wxy-blog/2026/20260105102929047.png" alt="" loading="lazy"></p>
<pre><code>ä¿®æ¹ææ¡ï¼add-url-qrcode-generator  ä¸ä½¿ç¨pythonï¼ä»ä½¿ç¨html+javascriptå®ç°qrcodeçæåè½
</code></pre>
<h2 id="çæä»£ç ">çæä»£ç </h2>
<pre><code>è¾å¥å½ä»¤/openspec-apply çæä»£ç 
</code></pre>
<h2 id="å½æ¡£">å½æ¡£</h2>
<pre><code>/openspec-archive add-url-qrcode-generator
</code></pre>
<h2 id="å®æåçé¡¹ç®ç»æ">å®æåçé¡¹ç®ç»æ</h2>
<p><img src="https://wxy-blog.oss-cn-hangzhou.aliyuncs.com/wxy-blog/2026/20260105110141451.png" alt="" loading="lazy"></p>
<p>ä½¿ç¨æµè§å¨æå¼index.html</p>
<p><img src="https://wxy-blog.oss-cn-hangzhou.aliyuncs.com/wxy-blog/2026/20260105110229694.png" alt="" loading="lazy"></p>
<h1 id="openspec-cné¡¹ç®ç½å">openspec-cné¡¹ç®ç½å</h1>
<p><a href="https://github.com/studyzy/OpenSpec-cn" target="_blank" rel="noopener nofollow">studyzy/OpenSpec-cn: OpenSpecæ±åç</a></p>
<p>é¡¹ç®å®æå±ç¤ºç½åï¼<br>
<a href="https://qrcode.wxy.vip/" target="_blank" rel="noopener nofollow">https://qrcode.wxy.vip/</a></p>

</div>
<div id="MySignature" role="contentinfo">
    æ¬¢è¿åä¸´:<font size="3"><font size="3"><a href="http://shiningrise.cnblogs.com/" target="_blank"><font size="3"><font size="3">http://shiningrise.cnblogs.com</font></font></a><br><br></font></font>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.005555555555555556" data-date-updated="2026-01-05 11:20">2026-01-05 11:12</span>&nbsp;
<a href="https://www.cnblogs.com/shiningrise">shiningrise</a>&nbsp;
éè¯»(<span id="post_view_count">55</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19441876);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19441876', targetLink: 'https://www.cnblogs.com/shiningrise/p/19441876', title: 'åºäºopenspec-cnçSDDè§èé©±å¨å¼åå®æ' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ä»æå¨å°èªå¨ï¼åºäº Mutating Admission Webhook å®ç° Envoy Sidecar èªå¨æ³¨å¥ ]]></title>
    <link>https://www.cnblogs.com/MrVolleyball/p/19441540</link>
    <guid>73b40b5324350ff8763e5854c4016782</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/MrVolleyball/p/19441540" title="åå¸äº 2026-01-05 11:04">
    <span role="heading" aria-level="2">ä»æå¨å°èªå¨ï¼åºäº Mutating Admission Webhook å®ç° Envoy Sidecar èªå¨æ³¨å¥</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        å¨å¾®æå¡è§æ¨¡ä¸æ­æ©å¤§çåºæ¯ä¸ï¼æå¨ä¸ºæ¯ä¸ª Pod æ³¨å¥ Envoy Sidecar å·²ç»é¾ä»¥ç»´æ¤ãæ¬æä»å®éå·¥ç¨é®é¢åºåï¼è¯¦ç»è®²è§£å¦ä½å©ç¨ Kubernetes ç Mutating Admission Webhook æºå¶ï¼å®ç° Envoy Sidecar çèªå¨æ³¨å¥ãåå®¹æ¶µçè¯ä¹¦çæãWebhook éç½®ãæ³¨å¥æå¡å®ç°ï¼ä»¥ååºäº Namespace / Pod Label çç²¾ç»åæ³¨å¥æ§å¶
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="åè¨">åè¨</h2>
<p>ä¸ä¸å°èæä»¬è¯¦ç»è®¨è®ºäºå¦ä½åæµéå«æï¼å¹¶ä¸ä½¿ç¨initContainersæ¥åèªå¨å«æçéç½®ãä½æ¯ç®åè¿æä¸ä¸ªé®é¢ï¼å¦ææä»¬çç³»ç»æå¥½å ç¾ä¸ªå¾®æå¡ï¼é£ä½ä¸ºéè¦çä»£çenvoyï¼æ¯æå¨æ³¨å¥çï¼é¾éæ¯ä¸ªå¾®æå¡é½è¦æå¨ç¼è¾ä¸æ¬¡ ï¼è¿æ¾ç¶æ¯ä¸å¯æ¿åçï¼æä»¥è¿ä¸èï¼æä»¬æ¥è¯¦ç»è®¨è®ºä¸ä¸èªå¨æ³¨å¥çé®é¢</p>
<h2 id="ç¯å¢åå¤">ç¯å¢åå¤</h2>
<p>ç±äºæ¬èåªè®¨è®ºå®¹å¨æ³¨å¥ï¼æä»¥åªéè¦åå¤ä¸ä¸ªæ®éçdeploymentå°±è¡äº</p>
<pre><code>apiVersion: apps/v1
kind: Deployment
metadata:
  name: backend
  namespace: default
spec:
  replicas: 1
  selector:
    matchLabels:
      app: backend
  template:
    metadata:
      labels:
        app: backend
    spec:
      containers:
      - image: backend-service:v1
        imagePullPolicy: Never
        name: backend
        ports:
        - containerPort: 10000
          protocol: TCP
        resources: {}
      restartPolicy: Always
</code></pre>
<h2 id="mutating-admission-webhooks">mutating admission webhooks</h2>
<p><img alt="auto_injection_1" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1416773/202601/1416773-20260105102513029-709020086.png" class="lazyload"></p>
<p>ç®åæ¥è¯´ï¼å°±æ¯å½podéå¯çæ¶åï¼ä¼åèµ·ä¸ç³»åçè¿ç¨ï¼å¶ä¸­å¨mutating admission controller è¿éï¼k8sæä¾äºä¸ä¸ªwebhooksï¼å¯ä»¥åè°å°æå®çå°æ¹å»ï¼æä»¥æä»¬éè¦åå»ºä¸ä¸ªserveræ¥å¤çè¯¥åè°ï¼æ·»å ä¸ä¸ªå®¹å¨è¿å»ï¼å®æå®¹å¨æ³¨å¥çå·¥ä½</p>
<h4 id="åå»ºç¸å³è¯ä¹¦">åå»ºç¸å³è¯ä¹¦</h4>
<pre><code>cd /etc/kubernetes/pki
</code></pre>
<p>åå»ºopenssl.cnf</p>
<pre><code>[ req ]
distinguished_name = req_distinguished_name
req_extensions = v3_req
prompt = no

[ req_distinguished_name ]
CN = sidecar-webhook.default.svc

[ v3_req ]
keyUsage = keyEncipherment, dataEncipherment
extendedKeyUsage = serverAuth
subjectAltName = @alt_names

[ alt_names ]
DNS.1 = sidecar-webhook
DNS.2 = sidecar-webhook.default
DNS.3 = sidecar-webhook.default.svc

</code></pre>
<p>ä»k8sæ ¹è¯ä¹¦ä¸­åå»ºè¯ä¹¦</p>
<pre><code>sudo openssl req -x509 -newkey rsa:2048 \
  -keyout tls.key \
  -out tls.crt \
  -days 365 -nodes \
  -config openssl.cnf \
  -extensions v3_req
</code></pre>
<h4 id="åå»ºmutatingwebhookconfiguration">åå»ºMutatingWebhookConfiguration</h4>
<pre><code>mytls=`cat tls.crt | base64 | tr -d '\n'`

echo 'apiVersion: admissionregistration.k8s.io/v1
kind: MutatingWebhookConfiguration
metadata:
  name: sidecar-injector
webhooks:
- name: sidecar.demo.io
  clientConfig:
    service:
      name: sidecar-webhook
      namespace: default
      path: /mutate
    caBundle: '$mytls'
  rules:
  - apiGroups: [""]
    apiVersions: ["v1"]
    operations: ["CREATE"]
    resources: ["pods"]
  admissionReviewVersions: ["v1"]
  sideEffects: None' | kubectl apply -f -

</code></pre>
<h4 id="åå»ºæå¡æ¥æ¥æ¶webhook">åå»ºæå¡æ¥æ¥æ¶webhook</h4>
<p><a href="https://github.com/wilsonchai8/myblog/blob/main/micro_service/injection/inject.go" target="_blank" rel="noopener nofollow">èªå¨æ³¨å¥æå¡</a></p>
<p>è¿æ²¡ä»ä¹å¯è¯´çï¼éè¦æ³¨æçå°±æ¯æ³¨å¥podçéç½®ç´æ¥åå¨äºä»£ç éé¢ï¼å¹¶ä¸æ³¨å¥äº2ä¸ªé¨åï¼é¦åæ¯sidecar containerï¼å¶æ¬¡æ¯sidecarçvolumeséç½®ï¼podçº§å«çï¼</p>
<pre><code>        patch := []map[string]interface{}{
                {
                        "op":   "add",
                        "path": "/spec/containers/-",
                        "value": map[string]interface{}{
                                "image":           "registry.cn-beijing.aliyuncs.com/wilsonchai/envoy:v1.32-latest",
                                "imagePullPolicy": "IfNotPresent",
                                "name":            "envoy",
                                "args":            []string{"-c", "/etc/envoy/envoy.yaml"},
                                "volumeMounts": []map[string]interface{}{
                                        {
                                                "mountPath": "/etc/envoy",
                                                "name":      "envoy-config",
                                        },
                                },
                        },
                },
                {
                        "op":   "add",
                        "path": "/spec/volumes/-",
                        "value": map[string]interface{}{
                                "configMap": map[string]interface{}{
                                        "defaultMode": 420,
                                        "name":        "envoy-config",
                                },
                                "name": "envoy-config",
                        },
                },
        }

</code></pre>
<pre><code>â¶ go run inject.go
2025/12/29 14:58:19 Webhook listening on :8443

</code></pre>
<p>æå¼8443ç«¯å£ä»¥ä¾¿æ¥æ¶è¯·æ±</p>
<h4 id="åå»ºè®¿é®è·¯å¾">åå»ºè®¿é®è·¯å¾</h4>
<p>æä»¬çæå¡å¨éç¾¤å¤ï¼æä»¥åå»ºä¸ä¸ªendpointæåéç¾¤ä¹å¤</p>
<pre><code>echo 'apiVersion: v1
kind: Service
metadata:
  name: sidecar-webhook
spec:
  ports:
  - port: 443
    targetPort: 8443
    protocol: TCP
  type: ClusterIP

---

apiVersion: v1
kind: Endpoints
metadata:
  name: sidecar-webhook
  namespace: default
subsets:
- addresses:
  - ip: 10.22.12.178
  ports:
  - port: 8443
    protocol: TCP' | kubectl apply -f -
</code></pre>
<h4 id="éªè¯">éªè¯</h4>
<p>éå¯backendæå¡ï¼<code>kubectl rollout restart deploy backend</code></p>
<pre><code>cannot bind '0.0.0.0:10000': Address already in use

</code></pre>
<p>åºç°äºæ¥éï¼è¿åºè¯¥æ¯ç±äºenvoyæ¯çå¬10000ç«¯å£ï¼backendæå¡çå¬çä¹æ¯10000ç«¯å£ï¼ç°å¨å®ä»¬å¨ä¸ä¸ªnet namespaceï¼å°±è¯å®è¦æ¥éäºï¼æä»¥æ¹ä¸ä¸envoyçéç½®ï¼çå¬å¦å¤ä¸ä¸ªç«¯å£å§ï¼10000æ¹æ10001</p>
<pre><code>      listeners:
        - name: ingress_listener
          address:
            socket_address:
              address: 0.0.0.0
              port_value: 10001
</code></pre>
<p>åæ¬¡éå¯æ¥çpodç¶æ</p>
<pre><code>â¶ kubectl get pod -owide -l app=backend
NAME                       READY   STATUS    RESTARTS   AGE    IP             NODE     NOMINATED NODE   READINESS GATES
backend-6bdf5d484b-5czgx   2/2     Running   0          100s   10.244.0.184   wilson   &lt;none&gt;           &lt;none&gt;

</code></pre>
<p>æ¥çè¯¦æ</p>
<p><img alt="auto_injection_2" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1416773/202601/1416773-20260105102617163-829810931.png" class="lazyload"></p>
<p>èªå¨æ³¨å¥äºenvoyå®¹å¨</p>
<p>è³æ­¤ï¼æ¶æå¾å¦ä¸ï¼</p>
<p><img alt="auto_injection_3" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1416773/202601/1416773-20260105102624936-2006056597.png" class="lazyload"></p>
<h2 id="ç²¾ç»åæ³¨å¥">ç²¾ç»åæ³¨å¥</h2>
<p>æç§ç®åçéç½®ï¼åªè¦æpod createï¼å°±ç«å»åè°éç¾¤å¤çæ³¨å¥æå¡ï¼å¦æk8séç¾¤çæå¡å¾å¤ï¼å¹¶ä¸é¢ç¹çcreate/destroyï¼é£å°±ä¼å¯¹æ³¨å¥æå¡äº§çè¾å¤§çååãå¦æå¨è¿äºæå¡ä¸­ï¼åªæä¸äºæå¡æ¯éè¦ä½¿ç¨èªå¨æ³¨å¥åè½çï¼é£ å°±éè¦æ´ç²¾ç»åçæ³¨å¥ç®¡ç</p>
<h4 id="namespaceææ ç­¾">namespaceææ ç­¾</h4>
<p>é¦åè¦è°æ´ä¸ä¸MutatingWebhookConfiguration</p>
<pre><code>apiVersion: admissionregistration.k8s.io/v1
kind: MutatingWebhookConfiguration
metadata:
  name: sidecar-injector
webhooks:
- name: sidecar.demo.io
  namespaceSelector:
    matchLabels:
      sidecar-inject: "true"
...
</code></pre>
<p>å ä¸æ ç­¾ <code>sidecar-inject: "true"</code>ï¼åªææ»¡è¶³è¿ä¸ªæ ç­¾ï¼æä¼åè°å°å¤é¨çæ³¨å¥æå¡ï¼è¿æ ·å°±å¯ä»¥å¤§å¤§åè½»æ³¨å¥æå¡çååäº</p>
<p>åç»namespaceæä¸æ ç­¾</p>
<pre><code>kubectl label ns default sidecar-inject=true
</code></pre>
<p>default namespaceéé¢ææçpodï¼é½ä¼åè°è³å¤é¨æ³¨å¥æå¡</p>
<h4 id="pod-ææ ç­¾">pod ææ ç­¾</h4>
<p>è¿æ¬¡ä¸å¨namespaceä¸ï¼èæ¯åºäºæä¸ªpod label</p>
<pre><code>apiVersion: admissionregistration.k8s.io/v1
kind: MutatingWebhookConfiguration
metadata:
  name: sidecar-injector
webhooks:
- name: sidecar.demo.io
  objectSelector:
    matchLabels:
      sidecar-inject-pod: "true"
...
</code></pre>
<p>ç¶ååç»deploymentææ ç­¾ï¼è¿éè¦æ³¨ææçæ¯podçæ ç­¾</p>
<pre><code>kubectl patch deployment backend \
  --type='merge' \
  -p '{
    "spec": {
      "template": {
        "metadata": {
          "labels": {
            "sidecar-inject-pod": "true"
          }
        }
      }
    }
  }'
</code></pre>
<h2 id="å°ç»">å°ç»</h2>
<p>æ¬æè¯¦ç»æè¿°äºæä¹åèªå¨æ³¨å¥ï¼k8séç½®ä¿®æ¹+å¤é¨æ³¨å¥æå¡ãå¶ä¸­éè¦æ³¨å¥çpodæ¯åæ­»å¨æ³¨å¥æå¡çï¼è¿é¨åå¯ä»¥æ½åºæ¥ï¼å°éç½®åæconfigmapï¼æèå¨å¶ä»çéç½®ä¸­å¿ä¸­ï¼è¿æ ·å°±ä¸ç¨é¢ç¹çä¿®æ¹æ³¨å¥æå¡äº</p>
<p>å¦å¤mutating webhookså¯ä»¥æ¦æªå¤§é¨åk8sæ¯æçèµæºï¼å¹¶ä¸åéå°æéç½®çå¤é¨æå¡ä¸­è¿è¡éè¦çéç½®ï¼è¿å°±ä¸ååæ¯podèªå¨æ³¨å¥ï¼èæ¯èµæºæ¦æªãæ¯å¦æéè¦æ¦æªconfigmap</p>
<pre><code>echo 'apiVersion: admissionregistration.k8s.io/v1
kind: MutatingWebhookConfiguration
metadata:
  name: callback-configmap
webhooks:
- name: sidecar.demo.io
  clientConfig:
    service:
      name: sidecar-webhook
      namespace: default
      path: /mutate
    caBundle: '$mytls'
  rules:
  - apiGroups: [""]
    apiVersions: ["v1"]
    operations: ["CREATE", "UPDATE"]
    resources: ["configmaps"]
  admissionReviewVersions: ["v1"]
  sideEffects: None' | kubectl apply -f -
</code></pre>
<p>resourcesåæ´ä¸ºconfigmapä¹åï¼å°±å¯ä»¥ç´æ¥åè°å°å¤é¨æå¡ãæ¬ç« ç±äºç¯å¹æéï¼å°±ä¸å¯¹è¿ä¸ªè¯é¢å±å¼äºï¼è¿ä¸ªä»¥åæéè¦åæ¥è¯¦ç»è®¨è®º</p>
<h2 id="èç³»æ">èç³»æ</h2>
<ul>
<li>èç³»æï¼åæ·±å¥çäº¤æµ</li>
</ul>
<p><img alt="" width="500" height="200" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1416773/202411/1416773-20241121135740959-1907948957.png#" class="lazyload"></p>
<hr>
<p>è³æ­¤ï¼æ¬æç»æ<br>
å¨ä¸æçå­¦æµï¼æææ±¤æ¼æ°´çï¼è¯·åä½ä¸åèµæ...</p>

</div>
<div id="MySignature" role="contentinfo">
    <p>æ¬ææ¥èªåå®¢å­ï¼ä½èï¼<a href="https://www.cnblogs.com/MrVolleyball/" target="_blank">itæçå</a>ï¼è½¬è½½è¯·æ³¨æåæé¾æ¥ï¼<a href="https://www.cnblogs.com/MrVolleyball/p/19441540" target="_blank">https://www.cnblogs.com/MrVolleyball/p/19441540</a></p>
<div>æ¬æçæå½ä½èååå®¢å­å±æï¼æ¬¢è¿è½¬è½½ï¼ä½æªç»ä½èåæå¿é¡»å¨æç« é¡µé¢ç»åºåæè¿æ¥ï¼å¦åä¿çè¿½ç©¶æ³å¾è´£ä»»çæå©ã </div>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-05 11:04">2026-01-05 11:04</span>&nbsp;
<a href="https://www.cnblogs.com/MrVolleyball">itæçå</a>&nbsp;
éè¯»(<span id="post_view_count">36</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19441540);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19441540', targetLink: 'https://www.cnblogs.com/MrVolleyball/p/19441540', title: 'ä»æå¨å°èªå¨ï¼åºäº Mutating Admission Webhook å®ç° Envoy Sidecar èªå¨æ³¨å¥' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ Volcano ç¤¾åºåå¸ Kthena å­é¡¹ç® | éæ°å®ä¹å¤§æ¨¡åæºè½æ¨ç ]]></title>
    <link>https://www.cnblogs.com/huaweiyun/p/19441472</link>
    <guid>39c914f84c2a73536fca239b29b2d9ad</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/huaweiyun/p/19441472" title="åå¸äº 2026-01-05 10:15">
    <span role="heading" aria-level="2">Volcano ç¤¾åºåå¸ Kthena å­é¡¹ç® | éæ°å®ä¹å¤§æ¨¡åæºè½æ¨ç</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p style="text-align: left" align="center">Volcano æ¯ CNCF é¦ä¸ªäºåçæºè½è°åº¦å¼æï¼ç±åä¸ºäºåèµ·å¼æºå¹¶æ·±åº¦åä¸è´¡ç®ã12æ29æ¥ï¼Volcano å®£å¸ç¤¾åºè¿æ¥äºä¸ä¸ªæ°çå­é¡¹ç® Kthenaï¼&nbsp;</p>
<p><img alt="" style="display: block; margin-left: auto; margin-right: auto" data-src="https://img2024.cnblogs.com/blog/2030258/202601/2030258-20260105101558171-1613277316.png" class="lazyload"></p>
<p>Kthena æ¯ä¸ä¸ªä¸ä¸º Kubernetes è®¾è®¡çäºåçãé«æ§è½ç LLM æ¨çè·¯ç±åç¼æãè°åº¦ç³»ç»ãå®æ¨å¨è§£å³å¨çäº§ç¯å¢ä¸­å¤§è§æ¨¡ç¼æãé¨ç½²åæå¡ LLM æé¢ä¸´çæ ¸å¿ææï¼éè¿å¶ç¬ç¹ç è¶èç¹æææç¥çäº²åæ§è°åº¦ï¼KV Cache æç¥çæµéè°åº¦ãPrefill/Decode åç¦»è·¯ç±ç­é«çº§åè½ï¼æ¾èæå GPU/NPU èµæºå©ç¨çåååï¼éä½æ¨çå»¶è¿ï¼å¹¶èµäºä¼ä¸åææªæççµæ´»æ§åæ§å¶åãä½ä¸º Volcano çå­é¡¹ç®ï¼Kthenaå°è´åäºå¸®å© Volcano æ©å±é¤ AI è®­ç»ä¹å¤çè¾¹çï¼æé è®­æ¨ä¸ä½çå®æ´è§£å³æ¹æ¡ã</p>
<h2><strong>LLM æå¡åçâæåä¸å¬éâå°å¢</strong></h2>
<p>å¤§è¯­è¨æ¨¡åï¼LLMï¼æ­£å¨ä»¥åææªæçéåº¦éå¡åè¡åä¸ï¼ä½å°å¶é«æãç»æµå°é¨ç½²å¨çäº§ç¯å¢ä¸­ï¼ç¹å«æ¯åºäº Kubernetes çäºåçå¹³å°ä¸ï¼ä»ç¶å°é¾ééãå¼åèä»¬æ®éé¢ä¸´ä»¥ä¸ææï¼</p>
<ol>
<li><strong>èµæºå©ç¨çä½</strong>ï¼LLM æ¨çï¼å°¤å¶æ¯å¶ç¬ç¹ç KV Cache æºå¶ï¼å¯¹ GPUãNPU æ¾å­çå ç¨æ¯å¨æä¸å·¨å¤§çãä¼ ç»çè´è½½åè¡¡ä¸è¬éç¨Round-Robinç®æ³ï¼æ æ³æç¥è¿ç§è´è½½ç¹æ§ï¼å¯¼è´ GPUãNPU èµæºé²ç½®ä¸è¯·æ±æéå¹¶å­ï¼ææ¬é«æã</li>
<li><strong>å»¶è¿ä¸ååéé¾ä»¥å¼é¡¾</strong>ï¼LLM æ¨çåä¸ºâPrefillâï¼å¤çè¾å¥æç¤ºï¼åâDecodeâï¼çæ Tokenï¼ä¸¤ä¸ªé¶æ®µï¼åèæ¯è®¡ç®å¯éåï¼åèæ¯è®¿å­å¯éåãå°ä¸¤èæ··åè°åº¦ï¼å¸¸å¸¸å¯¼è´æ æ³éå¯¹æ§ä¼åï¼å½±åæ´ä½æå¡çååºéåº¦åååè½åãå æ­¤PDåç¦»çé¨ç½²å·²ç»æä¸ºä¸»æµï¼ä½å¦ä½é«æè·¯ç±åè°åº¦ï¼ä»æ¯ä¸ä¸ªé¾é¢ã</li>
<li><strong>å¤ç§æ·ä¸å¤æ¨¡åç®¡çå¤æ</strong>ï¼å¨ä¼ä¸ç¯å¢ä¸­ï¼éå¸¸éè¦åæ¶æä¾å¤ä¸ªä¸åæ¨¡åãä¸åçæ¬æç»è¿ LoRA å¾®è°çæ¨¡åãå¦ä½å®ç°è¯·æ±çå¬å¹³è°åº¦ãä¼åçº§ç®¡çä»¥åå¨æè·¯ç±ï¼æ¯ä¸ä¸ªå¤æçå·¥ç¨é¾é¢ï¼ä¸ççè³æäºæ¹æ¡å°AIç½å³ä¸å¤§æ¨¡åä¸ä¸å¯¹åºã</li>
<li><strong>ç¼ºä¹K8såçéæ</strong>ï¼è®¸å¤ç°æçè§£å³æ¹æ¡è¦ä¹æ¯å¤é¨ç³»ç»ï¼ä¸ Kubernetes çæå²è£ï¼è¦ä¹è¿äºå¤æï¼æ æ³æ»¡è¶³çäº§çº§æéçç®åæç¨æ§åçµæ´»è¿ç»´ã</li>
</ol>
<p>&nbsp;</p>
<h2><strong>Kthenaï¼äºåç LLM æ¨ççæºè½å¤§è</strong></h2>
<p>&nbsp;</p>
<p>ä¸ºäºæ»åä¸è¿°é¾é¢ï¼Kthena åºè¿èçãå®å¹¶éè¦åä»£ç°æç LLM æå¡æ¡æ¶ï¼å¦ vLLM, sgLangï¼ï¼èæ¯ä½ä¸ºå®ä»¬ä¸å±çæºè½âäº¤éæ¢çº½âåâè°åº¦ä¸­å¿âï¼æ·±åº¦éæäº Kubernetes ä¹ä¸­ã</p>
<p>&nbsp;<img alt="" style="display: block; margin-left: auto; margin-right: auto" data-src="https://img2024.cnblogs.com/blog/2030258/202601/2030258-20260105101558358-1509660889.png" class="lazyload"></p>
<p style="text-align: center">Kthena æ¶æå¾</p>
<p>Kthena çæ ¸å¿ç±ä¸¤å¤§ç»ä»¶ææï¼</p>
<p>1)&nbsp;&nbsp;&nbsp; Kthena Routerï¼ä¸ä¸ªç¬ç«ãé«æ§è½é¢åå¤æ¨¡åçrouterï¼è´è´£æ¥æ¶æææ¨çè¯·æ±ï¼å¹¶æ ¹æ® `ModelRoute` è§åï¼æºè½å°å°è¯·æ±ååå°åç«¯ç `ModelServer`ã</p>
<p>2)&nbsp;&nbsp;&nbsp; Kthena Controller Managerï¼Kubernetes æ§å¶å¹³é¢çæ§å¶å¨ï¼å®ä¸»è¦åå«å¤ç§æ§å¶å¨ï¼è´è´£ LLM å·¥ä½è´è½½çç¼æä¸çå½å¨æç®¡çãå®æç»­è°è°å¹¶èå¨å¤ç±» CRDï¼å¦ `ModelBooster`ã`ModelServing`ã`AutoScalingPolicy`/`AutoScalingPolicyBinding`ãä»¥å `ModelRoute`/`ModelServer`ï¼ï¼å°å£°æå¼APIè½¬åä¸ºè¿è¡æ¶èµæºï¼ModelServing æ§å¶å¨ç¼æ `ServingGroup` ä¸ `Prefill/Decode` è§è²åç»ï¼æ¯æç½ç»ææäº²åè°åº¦åGangè°åº¦ãæ»å¨åçº§ä¸æéæ¢å¤ï¼åºäº `AutoScalingPolicy` å®ç°å¼¹æ§æ©ç¼©å®¹ã</p>
<p>è¿ç§æ¶æä½¿å¾ Kthena æä¸ºè¿æ¥ç¨æ·è¯·æ±ä¸ LLM æ¨¡åçé«åº¦å¯ç¼ç¨çæ¡¥æ¢ã</p>
<h2><strong>æ ¸å¿ç¹æ§ä¸ä¼å¿</strong></h2>
<p>Kthena çå¼ºå¤§ä¹å¤å¨äºå¶ä¸ä¸º LLM æ¨çåºæ¯è®¾è®¡çæ ¸å¿åè½ï¼</p>
<p><strong>1) çäº§çº§æ¨çç¼æï¼ModelServingï¼</strong></p>
<p>&nbsp;<img alt="" style="display: block; margin-left: auto; margin-right: auto" data-src="https://img2024.cnblogs.com/blog/2030258/202601/2030258-20260105101558439-249838997.png" class="lazyload"></p>
<p>-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>LLM</strong><strong>å·¥ä½è´è½½ä¸å±æ¶æè®¾è®¡</strong>ï¼ModelServing -&gt; ServingGroup -&gt; Roleï¼ä¸ä¸ªAPIï¼æ¯æLLMåçé¨ç½²ãPDåç¦»é¨ç½²ï¼ä¹è³å¤§EPé¨ç½²ç­å¤ç§é¨ç½²å½¢æï¼ç®åç®¡çå¤LWSçè´æãä¾å¦å¯¹äºPDåç¦»çå¤§è§æ¨¡é¨ç½²ï¼å¯ç¨ä¸ä¸ªModelServingè¡¨ç¤ºï¼æ ¹æ®è´è½½çå¤§å°æ¯ä¸ªModelServingå¯ä»¥åå«ä»»ææ°ç®ç ServingGroupï¼xPyD åç»ï¼ï¼ æ¯ä¸ªServingGroupåå«å¤ä¸ªè§è²ï¼Prefill Decodeï¼ä»ä»¬éå¸¸é¨ç½²å¨åä¸ä¸ªè¶èç¹åä»¥æåæ¨çæ§è½ï¼ï¼ç¸åçè§è²å¯ä»¥ç­ä»·ä¸ºä¸ä¸ªLeaderWorkerSetï¼æ¯æTP/PP/EPç­å¤èæ¨çå¹¶è¡è®¡ç®ã</p>
<p>-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>åçæ¯æPrefill-Decodeåç¦»é¨ç½²</strong>ï¼å°è®¡ç®å¯éåç Prefill å®ä¾è°åº¦å°éå¤é«æ§è½è®¡ç®å¡çèç¹ç»ï¼èå°è®¿å­å¯éåç Decode å®ä¾è°åº¦å°éå¤é«å¸¦å®½æ¾å­çèç¹ç»ï¼å®ç°èµæºçæä½³å¹éåæè´çç«¯å°ç«¯å»¶è¿ä¼åãå¦å¯ä»¥ç¬ç«ä¼¸ç¼©ï¼å¨æè°æ´Prefill-Decodeçæ¯ä¾ï¼æ´çµæ´»çåºå¯¹åç§å¤æçä¸å¡åºæ¯ï¼å¦é¿ç­å¥æ··åãå®æ¶æ¨çç­ï¼ã</p>
<p>-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>å¤å¹¶è¡èå¼æ¯æ</strong>ï¼TP/PP/DP/EP ç­å¹¶è¡æ¨¡å¼çµæ´»éç½®ï¼æå¤§åæåèµæºå©ç¨çåSLO</p>
<p>-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>åç½®æææç¥ãGang è°åº¦æ¯æ</strong>ï¼Gangè°åº¦ç¡®ä¿ServingGroup/Roleâæç»åå­åâè½å°ï¼é¿åèµæºæµªè´¹ï¼æææç¥è°åº¦éè¿å°Roleåçä¸ç»Podè°åº¦å°ç½ç»æææ´ä¼çèç¹ï¼æåå¹¶è¡è®¡ç®çæ°æ®ä¼ è¾æ¶å»¶ã</p>
<p><strong>2) å¼ç®±å³ç¨çæ¨¡åä¸çº¿ï¼ModelBoosterï¼</strong></p>
<p>-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; éå¯¹ä¸»æµçå¤§æ¨¡åï¼æä¾åæ¬PDåç¦»å¨åçå¤ç§é¨ç½²èå¼æ¨¡æ¿ï¼èªå¨çæModelRoute/ModelServer/ModelServing/Autoscalingç­è·¯ç±ç­ç¥åçå½å¨æç®¡çèµæº</p>
<p>-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; è¦çéç¨çé¨ç½²åºæ¯ï¼è³äºæ´çµæ´»çç¼æå¯éè¿ModelServingè¿è¡ç»ç²åº¦çæ§å¶</p>
<p><strong>3) </strong><strong>æºè½ãæ¨¡åæç¥çè·¯ç±</strong><strong>ï¼Kthena Routerï¼</strong></p>
<p>-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>å¤æ¨¡åè·¯ç±</strong>ï¼å¼å®¹OpenAI APIï¼æ ¹æ®è¯·æ±å¤´æBodyä½åå®¹ï¼å°æµéè°åº¦å°ä¸åçåºç¡æ¨¡åã</p>
<p>-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>æä»¶åè°åº¦ç®æ³</strong>ï¼æä¾æå°è¯·æ±ãæå°æ¶å»¶ãKV Cache æç¥ãPrefix Cache æç¥ãLoRA äº²åãGPU å©ç¨çæç¥ãå¬å¹³è°åº¦ç­å¤ç§è´è½½åè¡¡ç®æ³ï¼æ»¡è¶³ç¨æ·ä¸åä¸å¡åºæ¯åé¨ç½²å½¢æçéæ±</p>
<p>-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>LoRA æ¨¡åç­æææ ä¸­æ­</strong>ï¼æç¥æ¨çå¼æå è½½çLoRA ééå¨ï¼æä¾æ ä¸­æ­çææåè·¯ç±è½å</p>
<p>-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>ä¸°å¯çæµéæ²»çç­ç¥</strong>ï¼åºäºæéçæ¨¡åè·¯ç±ï¼éä¸éåå¸ãTokençº§æµæ§ãæéè½¬ç§»Â·</p>
<p>-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>All-in-oneå®ç°æ¶æ</strong>ï¼æ éé¨ç½²Envoy Gatewayï¼åçæ¯æPDåç¦»çæµéè°åº¦ï¼å°å¤å±è·¯ç±åå¹¶æä¸å±ï¼æäºç»´æ¤</p>
<p><strong>4) ææ¬é©±å¨çèªå¨æ©ç¼©å®¹ï¼Autoscalerï¼</strong></p>
<p>-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>åæä¼¸ç¼©</strong>ï¼æ¯æç¨³å®ãçªååæ¨¡å¼ï¼æä¸å¡ææ ï¼CPU/GPU/åå­/èªå®ä¹ï¼ç²¾åæ©ç¼©</p>
<p>-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>å¼æé¨ç½²ä¼å</strong>ï¼å¨å¤æ¨çå¼æ/å¼æå éå¨ç»åä¸­æâææ¬-è½åâè´ªå¿åéï¼æå¤§åæ§ä»·æ¯</p>
<p><strong>5) ä¸»æµæ¨çå¼æä¸å¼æç¡¬ä»¶æ¯æ</strong></p>
<p>-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; æ¯æå¤ç§ä¸»æµæ¨çå¼ævLLMãSGLangãTriton/TGI ç­ï¼ç»ä¸APIæ½è±¡ãæ ååææ </p>
<p>-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>æ¯æGPU/NPU ç­å¼ææ··é¨</strong>ï¼éåå¼æ Autoscaling å®ç°ææ¬ä¸ SLO çå¨æå¹³è¡¡</p>
<p><strong>6) åç½®æµéæ§å¶ä¸å¬å¹³æ§è°åº¦</strong></p>
<p>-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>å¬å¹³è°åº¦</strong>ï¼æ¯æåºäºä¼åçº§ååå²Tokenæ¶èççå¬å¹³è°åº¦ï¼æ¢å¼é¡¾ç¨æ·çä¼åçº§ï¼å¯¹é«ä¼åçº§ç¨æ·æä¾æ´å¥½çæå¡ï¼åé²æ­¢ä½ä¼åçº§ç¨æ·âé¥¿æ­»â</p>
<p>-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>æµéæ§å¶</strong>ï¼æ¯ææç§ç¨æ·ãæ¨¡åãtokené¿åº¦è¿è¡ç²¾ç»åæµéæ§å¶</p>
<h2><strong>æè´çæ§è½æå</strong></h2>
<p>åºäº Kthena Router çè°åº¦æä»¶æ¶æï¼å¨é¿ç³»ç»æç¤ºè¯åºæ¯ï¼å¦ 4096 tokensï¼ä¸ï¼éç¨âKV Cache æç¥ + æå°è¯·æ±âç­ç¥ç¸è¾éæºåºçº¿ï¼</p>
<p>-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ååå¯æåçº¦ 2.73 å</p>
<p>-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TTFT éä½çº¦ 73.5%</p>
<p>-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ç«¯å°ç«¯æ¶å»¶éä½è¶è¿ 60%</p>
<table style="width: 602px" border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td valign="top" width="150">
<p>Plugin Configuration</p>
</td>
<td valign="top" width="150">
<p>Throughput (req/s)</p>
</td>
<td valign="top" width="150">
<p>&nbsp;TTFT (s)</p>
</td>
<td valign="top" width="150">
<p>&nbsp;E2E Latency (s)</p>
</td>
</tr>
<tr>
<td valign="top" width="150">
<p>Least Request + KVCacheAware</p>
</td>
<td valign="top" width="150">
<p><strong>32.22</strong></p>
</td>
<td valign="top" width="150">
<p><strong>9.22</strong></p>
</td>
<td valign="top" width="150">
<p><strong>0.57</strong></p>
</td>
</tr>
<tr>
<td valign="top" width="150">
<p>Least Request + Prefix Cache</p>
</td>
<td valign="top" width="150">
<p>23.87</p>
</td>
<td valign="top" width="150">
<p>12.47</p>
</td>
<td valign="top" width="150">
<p>0.83</p>
</td>
</tr>
<tr>
<td valign="top" width="150">
<p>Random</p>
</td>
<td valign="top" width="150">
<p>11.81</p>
</td>
<td valign="top" width="150">
<p>25.23</p>
</td>
<td valign="top" width="150">
<p>2.15</p>
</td>
</tr>
</tbody>
</table>
<p>ç­æç¤ºè¯åºæ¯å·®è·ä¼éæç¤ºè¯é¿åº¦æ¶æï¼ä½å¨å¤è½®å¯¹è¯ãæ¨¡æ¿åçæãåç¼é«åº¦ç¸ä¼¼çä¸å¡ä¸­ï¼KV Cache æç¥ç­ç¥ä¼å¿æ¾èãå®éæ¶çä¸æ¨¡åè§æ¨¡ãPrompté¿ç­ãç¡¬ä»¶ç´§å¯ç¸å³ï¼ä½âæéç»åãæåºæ¯éåâå·²è¢«éªè¯ææã</p>
<h2><strong>ç¤¾åºå±æ / Call for Contribution</strong></h2>
<p>Kthena å¨é¡¹ç®è§åååå±çåæä¾¿å¾å°äºé¨åç¤¾åºç¨æ·åä½çå³æ³¨åæ¯æï¼ä½è¿åªæ¯ä¸ä¸ªå¼å§ãæä»¬è®¡åå¨æªæ¥æ¯ææ´é«æçè°åº¦ç®æ³ãæ´å¹¿æ³çå¤§æ¨¡åæä½³é¨ç½²å®è·µï¼å¹¶æç»­æ·±è LLM æ¨ççå¤§è§æ¨¡é¨ç½²åæ§è½ä¼åã</p>
<p>&nbsp;</p>
<p>âå¼æºæ¯ææ¯åæ°çæºå¤´æ´»æ°´ï¼ä¹æ¯æ¨å¨äº§ä¸æ ååçæå¼ºå¼æãä½ä¸ºVolcanoé¡¹ç®çåèµ·åä½ï¼åä¸ºäºå¾è£å¹¸è½å¤ä¸ç¤¾åºå¶ä»ä¼ä¼´ä¸èµ·æ¨åºå¨æ°çKthenaåå¸å¼æ¨çé¡¹ç®ãè¿ä¸ä»æ¯Volcanoç¤¾åºææ¯æ¼è¿éè¦éç¨ç¢ï¼æ´æ¯åä¸ºäºå¨äºåçAIé¢åé¿ææå¥ä¸æç»­åæ°çæåè§è¯ãå®å°ä¸åä¸ºäºCCEï¼äºå®¹å¨å¼æï¼ãCCIï¼äºå®¹å¨å®ä¾ï¼ç­åºç¡è®¾æ½æ·±åº¦ç»åï¼è¿ä¸æ­¥éæ¾åæ¬æè¾ï¼Ascendï¼å¨åçå¤åç®åä»·å¼ï¼ä¸ºå®¢æ·æä¾æè´çç®åæ§ä»·æ¯ãæä»¬å¸æéè¿Kthenaï¼ä¸å¨çå¼åèä¸ä¼ä¼´ï¼å±å»ºãå±äº«ä¸ä¸ªå¼æ¾ãç¹è£çäºåçAIçæï¼ä¸ºåè¡ä¸ä¸çæºè½ååçº§æç­æåå®çç®ååºåº§ãâ</p>
<p align="right">&nbsp; ââ ç¥å°æ³¢ï¼åä¸ºäºéç¨è®¡ç®æå¡äº§åé¨é¨é¿</p>
<p>&nbsp;</p>
<p>âKthenaè¿ä¸æ­¥å·©åºäºVolcanoå¨æºè½è®¡ç®è°åº¦é¢åçé¢åå°ä½ãæä»¬çå¹³å°å©ç¨Volcanoçç»ä¸è°åº¦ä¸èµæºæ± åè½åï¼ä¸ç«å¼æ»¡è¶³éç¨è®¡ç®ä¸æºè½è®¡ç®ä¸­è®­ç»ãæ¨çç­å¤ç±»ç®åéæ±ãè¿ä½¿å¾ç®åèµæºè½å¤å¨ä¸ååºæ¯é´çµæ´»æµè½¬ï¼ææé¿åäºèµæºå²è£çé®é¢ãå±ææªæ¥ï¼æä»¬æå¾ Kthenaç»åVolcanoçå¼¹æ§ä¼¸ç¼©è½åä¸Volcano Globalçè·¨éç¾¤è°åº¦ç¹æ§ï¼å±åæ¨å¨ç®åèµæºå©ç¨çè¿ä¸æ­¥æåï¼â</p>
<p align="right">ââ æ¨ç£ï¼ä¸­çµä¿¡äººå·¥æºè½å¬å¸ PaaSç åæ»çæ¨ç£</p>
<p>&nbsp;</p>
<p>âVolcano é¡¹ç®èªè¯çä¹æ¥èµ·ï¼ä¾¿å§ç»ä¸ç¤¾åºä»¥ååç±» AI åºæ¯æ·±åº¦å±å»ºãåé¢æ¼è¿ï¼éæ­¥æ²æ·åºä¸æ´å¥é¢å AI å·¥ä½è´è½½çè°åº¦ä¸æ¹å¤ççæãä»å¤©ï¼Kthena çåºç°ï¼ä¸ä»å°è¿æ¡å±å»ºé¾è·¯è¿ä¸æ­¥æå±å°å¤§æ¨¡åæ¨çé¢åï¼ææ¨çè¿ä¸å³é®ä¸ç¯çæ­£çº³å¥ Volcano çæä¹ä¸­ï¼æ´æ¯å¨ç»ä¸ç¼æä¸æºè½è·¯ç±å±é¢ï¼å° Volcano å¨è°åº¦ãå¼¹æ§ä¼¸ç¼©ä»¥åå¤ç®åééä¸çå¤å¹´å®è·µï¼åç»æä¸ä¸ªä»¤äººæ¯å¥çéç¨ç¢å¼è½åãåå©æ¢æç Kubernetes / Volcano çæï¼æ´å¤å¢éå¯ä»¥ç¨æ´ä½çææ¬ï¼è·å¾æ´æºè½çè°åº¦å³ç­åæ´é«æçç®åå©ç¨ï¼å¹¶å¨å¼æ¾åä½çåºç¡ä¸æç»­æ¼è¿ãè¿ä¸ä»ä¸ºéå®¢è§£å³äºå¨æ¨çåºæ¯ä¸­éå°çå®éé®é¢ï¼ä¹æ¯æä»¬ææå¾çäºåç AI å½¢æââä¸ä¸ªè¶³å¤å¼æ¾ãè¶³å¤æºè½ãå¼å¾æä»¬é¿ææå¥åæ·±åº¦åä¸çç¤¾åºæ¹åãâ</p>
<p align="right">ââ å¾ä¿æ°ï¼DaoCloud å¼æºå¢éè´è´£äººãKubernetes ç¤¾åºæå¯¼å§åä¼æå</p>
<p>&nbsp;</p>
<p>âèªå»ºå¤§æ¨¡åæ¨çæå¡ççäº§çº§é¨ç½²åè¿ç»´é¾é¢ï¼æ¯ä¸ä¸ªè¦çæ¨çæå¡å¨çå½å¨æç®¡çï¼é¨ç½²ãè¿ç»´ãå¼¹æ§ãæéæ¢å¤ç­ï¼ï¼GPUéç¾¤ç¨³å®æ§ï¼èµæºè°åº¦æçãæ¨çæå¡æ§è½æåï¼æ¨çæµéæºè½è°åº¦ãAIå¯è§æµç­é¢åçç³»ç»å·¥ç¨ãèè¿ä¹æ­£æ¯Kthenaé¡¹ç®çææ¯å®ä½ã</p>
<p>æ©å¨Kthenaçè§åé¶æ®µï¼å°çº¢ä¹¦äºåçå¢éå°±åVolcanoè´¡ç®èåäºæ·±åº¦çæ²éï¼å¨æ¨çæµéæºè½è°åº¦æ¹åï¼ä¸èµ·è®¾è®¡äºå¤ç§æµéè°åº¦ç­ç¥åè·¯ç±å®ç°ãæªæ¥ï¼åæ¹å°ç»§ç»­å¨AIç½å³æ¹ååä½ï¼ç»åå°çº¢ä¹¦åé¨ä¸å¡ç»éªï¼ä¸èµ·ä¸ºç¤¾åºæä¾æ´ç²¾ç»åçAIæµéæºè½è°åº¦è½åï¼æ¨¡åAPIç®¡çè½åï¼MCPåè®®æ¯æç­å¤ç§çäº§å¯ç¨è½åãâ</p>
<p align="right">ââ ç©ºå¤(éåæ)ï¼å°çº¢ä¹¦äºåçä¸å¡ç½å³è´è´£äºº</p>
<p>&nbsp;</p>
<p>âå¨æ·±å¥è°ç å¹¶è¯ç¨Kthenaè¿ä¸äºåçAIæ¨çå¹³å°åï¼èéäºå¯¹å¶å±ç°åºçåç»è½åå°è±¡æ·±å»ãæä»¬å°¤ä¸ºçå¥½å¶ä¸Volcanoå®ç°çèåè°åº¦ç¹æ§ï¼å¶ç½ç»æææç¥ä¸Gang Schedulingåè½ï¼è½å¤ææè§£å³å¤§è§æ¨¡åå¸å¼æ¨¡åæ¨çåºæ¯ä¸ä¸­ï¼å³äºæçä¸å¯é æ§çæ ¸å¿è¯æ±ï¼ä¸ºç ´è§£å¤æè°åº¦é¾é¢æä¾äºæå·æ½åçè§£å³æ¹æ¡ãæä»¬ç¸ä¿¡ï¼Kthenaåè¶çä½å»¶è¿ãé«ååä¸å¤æ¨¡åæºè½è·¯ç±è½åï¼å°ä¸ºå¼æºç¤¾åºå¸¦æ¥çæ­£å·å¤çäº§çº§çAIæ¨çè§£å³æ¹æ¡ï¼å©åå¼åèæ´é«æå°æå»ºåç®¡çäºåçç¯å¢ä¸çæºè½åºç¨ãâ&nbsp;</p>
<p align="right">ââ å¢ç§æ­ï¼èéäºæºç®è½åä¸­å¿å¢éé¿</p>
<p>&nbsp;</p>
<p>âå¼æ¾ååä½æ¯æå»ºç¤¾åºçæªæ¥ãå éææ¯åæ°çæ ¸å¿å¨åãå¨CNCFï¼æä»¬æç»­è´åäºæ¨å¨åºç¡è®¾æ½åâAI Nativeâæ¼è¿ï¼ä¸ºæ´ä¸ªäºåççææä¾æ åãä¸­ç«ä¸å¯æ©å±çåºç¡è½åãVolcanoç¤¾åºéè¿å­µåKthenaå­é¡¹ç®ï¼å°å¶å¨å¤§è§æ¨¡æ¹éè®¡ç®åè°åº¦ä¸ç§¯ç´¯çæææç¥ãGangè°åº¦ç­æ ¸å¿ç»éªï¼ç²¾åå°åºç¨å°äºLLMå¨çº¿æ¨çè¿ä¸å³é®åºæ¯ãKthenaçä»·å¼å¨äºï¼å®æä¾äºä¸å¥ä¸ä¸ºå¤§æ¨¡åè®¾è®¡ãå¯ä¾ä¸çåèååé´çäºåçè°åº¦åè¯­åæ½è±¡ï¼å¦Prefill/Decodeåç¦»ç¼æåKV Cacheæç¥è·¯ç±ï¼è¿æå©äºå°å¤æçLLMæ¨çå·¥ä½è´è½½ï¼çæ­£ä»¥Kubernetesåççä¸ç­å¬æ°èº«ä»½è¿è¡é«æç®¡çãè¿ä¸ä»æ¯Volcanoé¡¹ç®ææ¯æ¼è¿çéè¦ä¸æ­¥ï¼æ´æ¯ç¤¾åºçæå¨è§£å³AIè§æ¨¡åé¨ç½²ææä¸­è´¡ç®çä¸ä»½éè¦å®è·µç»éªãæä»¬è¯æéè¯·å¨ççå¼åèãç ç©¶äººååææäºåçç±å¥½èå å¥ï¼å±åè´¡ç®æºæ§ï¼å®åè¿äºå³é®AIåºç¡è®¾æ½ï¼å é AI Native è¿ç¨ãâ</p>
<p align="right">ââ Kevin Wang,&nbsp; Volcano MaintainerãCNCF TOC å¯ä¸»å¸­</p>
<p>&nbsp;</p>
<h2><strong>ç«å³å¼å§æ¢ç´¢ Kthena</strong></h2>
<p><strong>GitHub ä»åº</strong>: <a href="https://github.com/volcano-sh/kthena" rel="noopener nofollow">https://github.com/volcano-sh/kthena</a></p>
<p><strong>å®ç½</strong>:&nbsp; <a href="https://kthena.volcano.sh/" rel="noopener nofollow">https://kthena.volcano.sh/</a></p>
<p><strong>ç¤¾åº</strong>: å å¥æä»¬ç Slack <a href="https://cloud-native.slack.com/archives/C011GJDQS0N" rel="noopener nofollow">https://cloud-native.slack.com/archives/C011GJDQS0N</a>&nbsp;</p>
<p>&nbsp;</p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-05 10:16">2026-01-05 10:15</span>&nbsp;
<a href="https://www.cnblogs.com/huaweiyun">åä¸ºäºå¼åèèç</a>&nbsp;
éè¯»(<span id="post_view_count">42</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19441472);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19441472', targetLink: 'https://www.cnblogs.com/huaweiyun/p/19441472', title: 'Volcano ç¤¾åºåå¸ Kthena å­é¡¹ç® | éæ°å®ä¹å¤§æ¨¡åæºè½æ¨ç' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ [å¾®æå¡è¿é¶åºæ¯å®æ] - âå¾®æå¡æ°æ®ä¾èµçâ ]]></title>
    <link>https://www.cnblogs.com/yhup/p/19441312</link>
    <guid>0f994e0a7dea6439d786cc8a17e8ff42</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/yhup/p/19441312" title="åå¸äº 2026-01-05 09:58">
    <span role="heading" aria-level="2">[å¾®æå¡è¿é¶åºæ¯å®æ] - âå¾®æå¡æ°æ®ä¾èµçâ</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        <img src="https://img2024.cnblogs.com/blog/2428649/202601/2428649-20260105095759528-1147748526.png" alt="[å¾®æå¡è¿é¶åºæ¯å®æ] - âå¾®æå¡æ°æ®ä¾èµçâ" class="desc_img">
        æ¬ææ¢è®¨äºå¾®æå¡æ¶æä¸­æå¡é´æ°æ®ä¾èµé®é¢çè§£å³æ¹æ¡ãéå¯¹ä¾åºé¾ç³»ç»ä¸­ååãè®¢åãéè´­æå¡é´çæ°æ®æ¥è¯¢éæ±ï¼ä¼ ç»è·¨æå¡è°ç¨æ¹æ¡å­å¨æ§è½ä½ä¸ãæå¡è¿è½½åä¾èµé¾éªå´©ä¸å¤§é®é¢ãæåºæ°æ®åä½æ¹æ¡ï¼éè¿åæ­¥æå¼æ­¥æ¹å¼æ´æ°åä½æ°æ®ï¼ä½é¢ä¸´åæ­¥æ´æ°å¯¼è´æ ¸å¿æµç¨è¢«ç»æ¶ãæ¶æ¯å¼æ­¥æ´æ°å¸¦æ¥è®¢éæ³æ»¥åé»è¾éå¤ç­é®é¢ãæç»éç¨åºäºBifrostçæ°æ®åæ­¥æ¹æ¡ï¼å°ååä¸»æ°æ®å®æ¶åæ­¥è³ä¸æ¸¸æå¡æ°æ®åºï¼å®ç°ä¸å¡é»è¾è§£è¦ãè¯¥æ¹æ¡å·æéç½®ç®åãç»´æ¤ææ¬ä½ç­ä¼å¿ï¼ä½éæ³¨æåæ­¥å»¶è¿ãåªè¯»åååçæ§ç­å³é®äºé¡¹ï¼é¿åå¨æ ¸å¿æµç¨ä¸­ä¾èµåæ­¥æ°æ®ã
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p><font style="color: rgba(15, 17, 21, 1)">å¨è§£å³äºæ°æ®ä¸è´æ§çéº»ç¦åï¼æä»¬è½¬åå¾®æå¡çå¦ä¸ä¸ªç»å¸é¾é¢ï¼</font><strong><font style="color: rgba(15, 17, 21, 1)">æå¡é´çæ°æ®ä¾èµ</font></strong><font style="color: rgba(15, 17, 21, 1)">ãè¿å°±åå¨ä¸ä¸ªå¢ééï¼æ¯ä¸ªäººé½éè¦é¢ç¹åæä¸ªåäºè¯¢é®ä¿¡æ¯ï¼ä¸æ¦ä»è¯·åï¼æ´ä¸ªå·¥ä½å°±å¡ä½äºã</font>è¿æ¯åæ¥è¯´è¯´å·ä½çä¸å¡åºæ¯ã</p>
<h1 id="1-ä¸å¡åºæ¯å¦ä½è§£å³å¾®æå¡ä¹é´çæ°æ®ä¾èµé®é¢">1 ä¸å¡åºæ¯ï¼å¦ä½è§£å³å¾®æå¡ä¹é´çæ°æ®ä¾èµé®é¢</h1>
<p>å¨è§£å³äºæ°æ®ä¸è´æ§çéº»ç¦åï¼æä»¬è½¬åå¾®æå¡çå¦ä¸ä¸ªç»å¸é¾é¢ï¼<strong>æå¡é´çæ°æ®ä¾èµ</strong>ãè¿å°±åå¨ä¸ä¸ªå¢ééï¼æ¯ä¸ªäººé½éè¦é¢ç¹åæä¸ªåäºè¯¢é®ä¿¡æ¯ï¼ä¸æ¦ä»è¯·åï¼æ´ä¸ªå·¥ä½å°±å¡ä½äºã</p>
<p>ä»¥ä¸ä¸ªä¾åºé¾ç³»ç»ä¸ºä¾ï¼æ ¸å¿æå¡åæ¬<strong>åå</strong>ã<strong>è®¢å</strong>å<strong>éè´­</strong>ãå®ä»¬çä¸»è¦æ°æ®ç»æç®åå¦ä¸ï¼</p>
<ul>
<li><strong>ååè¡¨</strong>ï¼ååIDãåç§°ã<strong>åç±»</strong>ã<strong>åå·</strong>ã<strong>çäº§å¹´ä»½</strong>ã<strong>ç¼ç </strong>ã</li>
<li><strong>è®¢åè¡¨</strong>ï¼è®¢åIDãä¸åæ¶é´ãå®¢æ·ãæ»éé¢ã
<ul>
<li><strong>å­è®¢åè¡¨</strong>ï¼å­è®¢åIDã<strong>ååID</strong>ãåä»·ãæ°éã</li>
</ul>
</li>
<li><strong>éè´­åè¡¨</strong>ï¼éè´­åIDãä¸åæ¶é´ãä¾åºåãæ»éé¢ã
<ul>
<li><strong>éè´­å­è®¢åè¡¨</strong>ï¼éè´­å­è®¢åIDã<strong>ååID</strong>ãåä»·ãæ°éã</li>
</ul>
</li>
</ul>
<p>ä¸å¡ä¸å­å¨è¿æ ·çæ¥è¯¢éæ±ï¼</p>
<ol>
<li>æ ¹æ®ååç<strong>åå·ãåç±»ãçäº§å¹´ä»½</strong>ç­å±æ§ï¼æ¥è¯¢ç¸å³è®¢åã</li>
<li>æ ¹æ®åæ ·çååå±æ§ï¼æ¥è¯¢ç¸å³çéè´­åã</li>
</ol>
<p>è®¢åçæ´ä¸ªæ¥è¯¢æµç¨å¦å¾æç¤ºã</p>
<p><img src="https://img2024.cnblogs.com/blog/2428649/202601/2428649-20260105095648079-1760772106.png" alt="å¨è¿éæå¥å¾çæè¿°" loading="lazy"></p>
<p>èµ·åï¼æä»¬ä¸¥æ ¼éµå®å¾®æå¡è¾¹çï¼</p>
<ul>
<li><strong>ååæ°æ®</strong>çå­å¨ä¸æ¥è¯¢èè´£ï¼å®å¨å½å±äº<strong>ååæå¡</strong>ã</li>
<li><strong>è®¢åæå¡</strong>å<strong>éè´­æå¡</strong>åèªç®¡çèªå·±çåæ®æ°æ®ã</li>
</ul>
<p>é£ä¹ï¼å½éè¦å¨è®¢åæéè´­åä¸­æååå±æ§æ¥è¯¢æ¶ï¼æµç¨è¢«è¿«åå¾å¤æï¼</p>
<ol>
<li><strong>è°ç¨ååæå¡</strong>ï¼é¦åï¼å°ååå±æ§ï¼å¦âåå·=Aâï¼åéç»ååæå¡ï¼è·åææå¹éç<strong>ååIDåè¡¨</strong>ã</li>
<li><strong>æ¬å°å³èæ¥è¯¢</strong>ï¼æ¥çï¼å¨è®¢åæéè´­æå¡çæ°æ®åºä¸­ï¼ä½¿ç¨ <code>IN</code> è¯­å¥ï¼éè¿ä¸ä¸æ­¥å¾å°çååIDåè¡¨ï¼å³èæ¥è¯¢åºæç»çåæ®ã</li>
</ol>
<p>æ´ä¸ªæ¥è¯¢æµç¨å¦ä¸å¾æç¤ºï¼æ­¤å¤ä¸ºåæµç¨å¾ç¤ºæï¼ã</p>
<p><strong>è¿ä¸ªæ¹æ¡å¾å¿«æ´é²äºä¸å¤§é®é¢ï¼</strong></p>
<ol>
<li><strong>æ¥è¯¢æ§è½ä½ä¸</strong>ï¼éçååæ°éå¢é¿ï¼ä¸æ¬¡æ¥è¯¢å¯è½è¿åæåä¸ä¸ä¸ªååIDãå¨è®¢å/éè´­æ°æ®åºä¸­ç¨åºå¤§ç <code>IN (...)</code> åè¡¨è¿è¡å³èæ¥è¯¢ï¼æçæ¥å§ä¸éã</li>
<li><strong>æ ¸å¿æå¡è¿è½½</strong>ï¼ååæå¡æä¸ºç¶é¢ãå ä¹æææ¥è¯¢é½ä¾èµå®ï¼å¯¼è´å¶è´è½½è¿é«ï¼ååºåæ¢ï¼çè³é¢ç¹è¶æ¶ã</li>
<li><strong>ä¾èµé¾éªå´©</strong>ï¼ä¸æ¦ååæå¡ååºæ¢æå¤±è´¥ï¼ææä¾èµå®çè®¢åãéè´­æ¥è¯¢é½ä¼è·çå¤±è´¥æè¶æ¶ï¼ç¨æ·ä½éªæå·®ã</li>
</ol>
<p>ç»æå°±æ¯ï¼ä¸å¡äººåä¸æ¦ä½¿ç¨ååæ¡ä»¶è¿è¡æ¥è¯¢ï¼ç³»ç»å°±åå¾åæ¢åä¸ç¨³å®ãäºæ¯ï¼å¢éå¼å§æèä¸ä¸ªæ°æ¹æ¡ââ<strong>æ°æ®åä½</strong>ãè¿æ­£æ¯æä»¬æ¥ä¸æ¥è¦è¯¦ç»æ¢è®¨çè§£å³æ¹æ¡ã</p>
<h1 id="2-æ°æ®åä½æ¹æ¡">2 æ°æ®åä½æ¹æ¡</h1>
<p>ä¸ºäºè§£å³è·¨æå¡æ¥è¯¢çæçä¸ä¾èµé®é¢ï¼ä¸ä¸ªç´æ¥çæè·¯æ¯ï¼<strong>å¨è®¢åãéè´­ç­æå¡ä¸­ï¼åä½å­å¨å¿è¦çååä¿¡æ¯</strong>ãè°æ´åçæ°æ®ç»æå¦ä¸ï¼</p>
<ul>
<li><strong>ååè¡¨</strong>ï¼ååIDãåç§°ãåç±»ãåå·ãçäº§æ¹å·IDãç¼ç ãï¼ä¿æä¸åï¼</li>
<li><strong>è®¢åè¡¨</strong>ä¸<strong>å­è®¢åè¡¨</strong>ï¼å¨å­è®¢åè¡¨ä¸­ï¼é¤äºååIDï¼<strong>é¢å¤åä½å­å¨</strong>åååç§°ãåååç±»IDãåååå·ãçäº§æ¹å·IDã</li>
<li><strong>éè´­åè¡¨</strong>ä¸<strong>éè´­å­è®¢åè¡¨</strong>ï¼ååæ ·çåä½å¤çã</li>
</ul>
<p>è¿æ ·ä¸æ¥ï¼æ¥è¯¢è®¢åæéè´­åæ¶ï¼<strong>æ éåå®æ¶è°ç¨ååæå¡</strong>ï¼ç´æ¥å¨æ¬å°åºå³èæ¥è¯¢å³å¯ï¼æ§è½ä¸ç¨³å®æ§å¾å°ä¿éã</p>
<p>ä½éä¹èæ¥çæ ¸å¿é®é¢æ¯ï¼<strong>å½ååä¿¡æ¯æ´æ°æ¶ï¼å¦ä½åæ­¥è¿äºåä½æ°æ®ï¼</strong> éå¸¸æä¸¤ç§æè·¯ï¼</p>
<ol>
<li><strong>åæ­¥è°ç¨æ´æ°</strong>ï¼ååæå¡å¨æ´æ°èªèº«æ°æ®åï¼<strong>åæ­¥è°ç¨</strong>è®¢åãéè´­ç­æå¡æä¾çæ¥å£ï¼è§¦åå®ä»¬æ´æ°æ¬å°åä½æ°æ®ã</li>
<li><strong>æ¶æ¯å¼æ­¥æ´æ°</strong>ï¼ååæå¡æ´æ°åï¼<strong>åå¸ä¸æ¡æ¶æ¯</strong>å°æ¶æ¯éåï¼MQï¼ï¼ç±è®¢åãéè´­ç­æå¡åèªè®¢éå¹¶å¼æ­¥æ´æ°ã</li>
</ol>
<p>æä»¬æ¾å¨æ°æ®ä¸è´æ§ç« èè®¨è®ºè¿ç±»ä¼¼åºæ¯ãé£ä¹ï¼è¿ä¸¤ç§æ¹æ³åèªå­å¨ä»ä¹é®é¢ï¼</p>
<p><strong>åçç¬¬ä¸ç§âåæ­¥è°ç¨æ´æ°â</strong>ï¼è¿ä¼è®©ååæå¡å¨æ¯æ¬¡æ´æ°æ¶ï¼é½å¿é¡»ç­å¾ä¸æ¸¸æå¡å®æåä½æ°æ®æ´æ°ãè¿å¸¦æ¥ä¸¤ä¸ªçªåºé®é¢ï¼</p>
<ol>
<li><strong>æ ¸å¿æµç¨è¢«ç»æ¶</strong>ï¼å¦ææä¸ªä¸æ¸¸æå¡æ´æ°å¤±è´¥ï¼çè®ºä¸æ´ä¸ªæä½åºè¯¥åæ»ãä½ååæå¡çå¼åäººåè¯å®ä¼ä¸ä¹æï¼åä½æ°æ®æ¬éæçæ ¸å¿èè´£ï¼ä¸ºä½è¦å ä¸ºä¸ä¸ªâè¾¹ç¼éæ±âçå¤±è´¥ï¼èé»æ­æèªèº«æ ¸å¿çååæ´æ°æµç¨ï¼</li>
<li><strong>ä¾èµå³ç³»åç½®ä¸è¨è</strong>ï¼ååæå¡æ¬åºæ¯ä¸ä¸ªç¨³å®çåºå±æå¡ãä½å¨æ­¤æ¹æ¡ä¸ï¼å®åèéè¦<strong>ä¸»å¨ä¾èµ</strong>ä¼å¤ä¸æ¸¸æå¡ï¼è®¢åãéè´­ãåºå­ãè¿è¥ç­ï¼ãä¾èµæ¹è¶å¤ï¼å¶ç¨³å®æ§åè¿­ä»£éåº¦åå½±åè¶å¤§ï¼è¿ä¸è®¾è®¡åè¡·èéèé©°ãå æ­¤ï¼è¯¥æ¹æ¡è¢«ç´æ¥å¦å³ã</li>
</ol>
<p><strong>åçç¬¬äºç§âæ¶æ¯å¼æ­¥æ´æ°â</strong>ï¼è¿æ¯æ´å¸¸è§çåæ³ï¼å¶ä¼å¿ææ¾ï¼</p>
<ul>
<li>ååæå¡åªéåå¸æ¶æ¯ï¼æ éå³å¿ä¸æ¸¸è°æ¶è´¹ãå¦ä½å¤çï¼èè´£æ¸æ°ã</li>
<li>å³ä½¿æ¶è´¹å¤±è´¥ï¼ä¹å¯å©ç¨MQçéè¯æºå¶ä¿è¯æç»ä¸è´æ§ã</li>
</ul>
<p>è¯¥æ¹æ¡çæ¶æç¤ºæå¦å¾æç¤º</p>
<p><img src="https://img2024.cnblogs.com/blog/2428649/202601/2428649-20260105095648105-207718254.png" alt="å¨è¿éæå¥å¾çæè¿°" loading="lazy"></p>
<p>è½ç¶è¿å·²æ¯ä¸çæ®éåæ³ï¼ä½å®ä»å­å¨ä»¥ä¸ä¸ä¸ªçç¹ï¼</p>
<ol>
<li><strong>è®¢éä¸»é¢æ³æ»¥</strong>ï¼è¦ç»´æ¤çæ°æ®è¿ä¸æ­¢åºç¡ååä¿¡æ¯ãä¾å¦ï¼åååç±»ãçäº§æ¹å·ç­å³èä¿¡æ¯åæ´ä¹éè¦åæ­¥ãå®è·µä¸­ï¼ä¸ä¸ªæå¡å¯è½éè¦è®¢éè¿åç§ä¸åç±»åçæ¶æ¯ï¼<strong>è¿ä¹å°ååé¢åçä¸å°åé»è¾å¤å¶äºè¿æ¥</strong>ã</li>
<li><strong>é»è¾éå¤å®ç°</strong>ï¼ææä¾èµååæ°æ®çæå¡ï¼è®¢åãéè´­ç­ï¼ï¼é½éè¦<strong>ç¬ç«å®ç°ä¸å¥å ä¹ç¸åçæ¶æ¯çå¬ãæ°æ®è§£æä¸æ´æ°é»è¾</strong>ï¼å¯¼è´å¤§ééå¤ä»£ç ã</li>
<li><strong>èè°ä¸è¿ç»´å¤æ</strong>ï¼åºäºæ¶æ¯çèè°æ¯æ¥å£èè°æ´æ£æãæ¶æ¯ççäº§ãæµè½¬åæ¶è´¹èç¹ä¸æè¿½è¸ªï¼ä¸ºè°è¯èä¸´æ¶ä¿®æ¹ä»£ç çè¡ä¸ºï¼å¸¸å å¿è®°è¿åèå¼å¥çº¿ä¸é®é¢ã<strong>æä»¬å¹¶ä¸å¸æä¸ä¸ªéæ ¸å¿çåä½éæ±ï¼å¸¦æ¥å¦æ­¤å¤æçæ¶æ¯ææã</strong></li>
</ol>
<p>é´äºä¸è¿°é®é¢ï¼é¡¹ç®ç»å³å®éç¨ä¸ä¸ª<strong>æ´å½»åºçæ°æ®åæ­¥æ¹æ¡</strong>æ¥è§£è¦ä¸å¡é»è¾ã</p>
<h1 id="3-è§£è¦ä¸å¡é»è¾çæ°æ®åæ­¥æ¹æ¡">3 è§£è¦ä¸å¡é»è¾çæ°æ®åæ­¥æ¹æ¡</h1>
<p>ä¸ºæ ¹æ²»æå¡é´å¤æçæ°æ®ä¾èµï¼æä»¬éç¨äºä¸ç§æ´ä¸ºå½»åºçæ¹æ¡ï¼å¶æ ¸å¿å¨äº<strong>å°æ°æ®åæ­¥ä¸ä¸å¡é»è¾å®å¨è§£è¦</strong>ãè®¾è®¡æè·¯æ¸æ°ç´æ¥ï¼</p>
<ol>
<li><strong>æ°æ®å±å®æ¶åæ­¥</strong>ï¼åå©æ°æ®åæ­¥å·¥å·ï¼å°ååä¸»æ°æ®åå¶å³èè¡¨ï¼å¦åç±»ãçäº§æ¹å·ãä¿ä¿®ç±»åç­ï¼ç<strong>å¨éåå¢éåæ´</strong>ï¼å®æ¶åæ­¥è³ä¸æ¸¸æå¡ï¼å¦è®¢åãéè´­ï¼çæ°æ®åºä¸­ï¼å¹¶ä¿æè¡¨ç»æåå°ä¸å¨ã</li>
<li><strong>æ¬å°åå³èæ¥è¯¢</strong>ï¼å½ä¸æ¸¸æå¡éè¦æ¥è¯¢æ¶ï¼ç´æ¥å¨èªå·±çæ°æ®åºä¸­<strong>å³èè¿äºåæ­¥è¿æ¥çâå¯æ¬è¡¨â</strong>ï¼å¦åä½¿ç¨æ¬å°è¡¨ä¸æ ·é«æãç¨³å®ã</li>
<li><strong>ä¸¥æ ¼çè¯»åæé</strong>ï¼æç¡®è§å®ï¼ä¸æ¸¸æå¡<strong>ä»æ¥æå¯¹è¿äºå¯æ¬è¡¨çè¯»åæé</strong>ï¼ç¦æ­¢ä»»ä½å½¢å¼çä¿®æ¹ï¼ç¡®ä¿æ°æ®æ¥æºåä¸ãæå¨ã</li>
</ol>
<p>è¯¥æ¹æ¡çæ¶æç¤ºæå¦å¾æç¤º</p>
<p><img src="https://img2024.cnblogs.com/blog/2428649/202601/2428649-20260105095648095-247437497.png" alt="å¨è¿éæå¥å¾çæè¿°" loading="lazy"></p>
<p>å®ä¸ä¸¾è§£å³äºæ­¤åæ¹æ¡çæ ¸å¿çç¹ï¼</p>
<ul>
<li><strong>å¯¹ä¸æ¸¸ååæå¡</strong>ï¼å®ç°äºâé¶ä¾èµâä¸âé¶æç¥âãå®æ¢æ éè°ç¨å¶ä»æå¡ï¼ä¹æ éåå¸æ¶æ¯ï¼åæ­¥æè´¥ä¸å¦åä¸å½±åå¶æ ¸å¿æµç¨ï¼å½»åºè½»è£ä¸éµã</li>
<li><strong>å¯¹ä¸æ¸¸è®¢å/éè´­æå¡</strong>ï¼å®ç°äºâé¶å¼åâãå®å¨æ éç¼ååç»´æ¤ä»»ä½æ°æ®åæ­¥ææ¶æ¯å¤çé»è¾ï¼åªéåæ¥è¯¢æ®éæ¬å°è¡¨ä¸æ ·ä½¿ç¨å³å¯ã</li>
</ul>
<p>å½ç¶ï¼æ­¤æ¹æ¡ä¼å¢å ä¸æ¸¸æ°æ®åºçå­å¨ç©ºé´ï¼å ä¸ºå¼å¥äºé¢å¤çè¡¨ãä½è¿ç¬è´¦ç®ä¸æ¥éå¸¸åç®ï¼</p>
<ul>
<li>å¨ä¼ ç»çå­æ®µåä½æ¹æ¡ä¸­ï¼åè®¾æ1000ä¸æ¡è®¢åè®°å½ï¼æ¯æ¡é½éè¦å­å¨ä¸ä»½å®æ´çååä¿¡æ¯å¯æ¬ï¼å³æ°å¢<strong>1000ä¸æ¡</strong>åä½æ°æ®è®°å½ã</li>
<li>èå¨æ¬æ¹æ¡ä¸­ï¼ä»éå°çº¦<strong>10ä¸æ¡</strong>ååä¸»æ°æ®ï¼åå¶å³èè¡¨ï¼åæ­¥è³ä¸æ¸¸ã<strong>å®éå¢å çå­å¨éè¿å°äºåè</strong>ï¼å¨ç©ºé´æçä¸åèæ¯æ´ä¼çéæ©ã</li>
</ul>
<p>è³æ­¤ï¼ä¸ä¸ªæ¸æ°ãä½ä¾µæ°çæ¹æ¡å·²æµ®åºæ°´é¢ãæ¥ä¸æ¥æå®éçé®é¢æ¯ï¼<strong>å¦ä½å¯é å°å®ç°è¿ç§è·¨æ°æ®åºçå®æ¶è¡¨åæ­¥ï¼</strong> æä»¬å°å¨ä¸ä¸èæ­æå·ä½çææ¯å®ç°ã</p>
<h1 id="4-åºäºbifrostçæ°æ®åæ­¥æ¹æ¡">4 åºäºBifrostçæ°æ®åæ­¥æ¹æ¡</h1>
<h2 id="41-ææ¯éå">4.1 ææ¯éå</h2>
<p>ä¸ºè§£å³å®æ¶æ°æ®åæ­¥é®é¢ï¼é¡¹ç®ç»å³å®å¼å¥ä¸ä¸ªå¼æºä¸­é´ä»¶ãæä»¬ä¸ºå¶è®¾å®äºäºä¸ªæç¡®çç­éæ¡ä»¶ï¼</p>
<ol>
<li><strong>æ¯æå®æ¶åæ­¥</strong>ï¼å»¶è¿éå¨å¯æ¥åèå´åã</li>
<li><strong>æ¯æå¢éåæ­¥</strong>ï¼é¿åæ¯æ¬¡å¨éå¤å¶ï¼æçæ¯å³é®ã</li>
<li><strong>æ éç¼ç ä¸å¡é»è¾</strong>ï¼ç®æ æ¯âéç½®å³ç¨âï¼éä½å¼ååç»´æ¤è´æã</li>
<li><strong>æ¯æMySQLå°MySQLåæ­¥</strong>ï¼å¹éå½åææ¯æ ã</li>
<li><strong>ç¤¾åºæ´»è·åº¦é«</strong>ï¼è¿éå¸¸æå³çæ´å¥½çé®é¢ååºåå¯æç»­æ§ã</li>
</ol>
<p>æ ¹æ®è¿äºæ åï¼æä»¬å¯¹æ¯äºCanalãDebeziumãDataXãDatabusãFlinkxåBifrostç­åéæ¹æ¡ãç»¼åè¯ä¼°åï¼<strong>Bifrost</strong>è±é¢èåºã</p>
<p><img src="https://img2024.cnblogs.com/blog/2428649/202601/2428649-20260105095648136-1918180865.png" alt="å¨è¿éæå¥å¾çæè¿°" loading="lazy"></p>
<p>å°½ç®¡Bifrostç¸å¯¹å¹´è½»ä¸<strong>ä¸æ¯æåçéç¾¤æ¨¡å¼</strong>ï¼ä½æä»¬æç»éæ©å®ï¼ä¸»è¦åºäºä»¥ä¸åä¸ªå¡å®èéï¼</p>
<ol>
<li><strong>ç®¡ççé¢åå¥½</strong>ï¼æä¾Webæ§å¶å°ï¼éç½®ãçæ§åç®¡çç´è§ä¾¿æ·ï¼éä½äºè¿ç»´é¨æ§ã</li>
<li><strong>æ¶æç®åå¯æ§</strong>ï¼å¶æ ¸å¿é»è¾æ¸æ°ï¼è¥åºç°é®é¢ï¼å¢éæè½åè¿è¡æ·±åº¦ææ¥çè³èªè¡ç»´æ¤ï¼é¿åäºå¨å¤æé»çç³»ç»åçæ å©æã</li>
<li><strong>ä½èæ´æ°æ´»è·</strong>ï¼ç§¯æçæäº¤è®°å½åIssueå¤çè®©æä»¬å¯¹é¡¹ç®çå½åæ´æä¿¡å¿ã</li>
<li><strong>åç½®çæ§æ¥è­¦</strong>ï¼å¼ç®±å³ç¨ççæ§åè½ï¼çå»äºèªè¡æ­å»ºçéº»ç¦ã</li>
</ol>
<p>éå®Bifroståï¼æ´ä½æ¹æ¡æ¶æå¦å¾æç¤ºã</p>
<p><img src="https://img2024.cnblogs.com/blog/2428649/202601/2428649-20260105095648120-652669355.png" alt="å¨è¿éæå¥å¾çæè¿°" loading="lazy"></p>
<h2 id="42-bifrostæ¶æ">4.2 Bifrostæ¶æ</h2>
<p>ç¥å¶ç¶ä¹éç¥å¶æä»¥ç¶ãBifrostçå·¥ä½åçå¹¶ä¸å¤æï¼å¶æ ¸å¿æ¶æå¦å¾æç¤ºã</p>
<p><img src="https://img2024.cnblogs.com/blog/2428649/202601/2428649-20260105095648073-984751999.png" alt="å¨è¿éæå¥å¾çæè¿°" loading="lazy"></p>
<p>ç®åæ¥è¯´ï¼Bifrostå°èªå·±<strong>ä¼ªè£æä¸ä¸ªMySQLä»åº</strong>ï¼éè¿è¯»åå¹¶è§£ææºæ°æ®åºçBinlogï¼äºè¿å¶æ¥å¿ï¼æ¥æè·æ°æ®åæ´ï¼éåå°è¿äºåæ´å®æ¶åºç¨å°ç®æ æ°æ®åºä¸­ãå®æ¯æå¤ç§ç®æ æ°æ®æºï¼èæ¬é¡¹ç®æ­£æ¯ç¨äºå®ç°MySQLå°MySQLçåæ­¥ã</p>
<h2 id="43-æ³¨æäºé¡¹">4.3 æ³¨æäºé¡¹</h2>
<p>å¼å¥ä»»ä½ææ¯é½éæç¡®å¶è¾¹çãä½¿ç¨æ­¤æ¹æ¡ï¼å¿é¡»ç¢è®°ä»¥ä¸å ç¹ï¼</p>
<ol>
<li><strong>æ­£è§åæ­¥å»¶è¿</strong>ï¼è¯¥æ¹æ¡å­å¨æ¯«ç§å°ç§çº§çåºæå»¶è¿ãå æ­¤ï¼<strong>å¯¹æ¶ææ§è¦æ±æé«çä¸å¡é»è¾ï¼å¦å®æ¶åºå­æ ¡éªï¼</strong>ï¼ä¸åºä¾èµåæ­¥æ°æ®ï¼èåºç´æ¥è°ç¨æå¡æ¥å£ãåæ­¥æ¥çæ°æ®ï¼ä¸»è¦åºç¨äº<strong>æ¥è¯¢ãå±ç¤ºååæç­éå®æ¶å¼ºä¸è´æ§åºæ¯</strong>ã</li>
<li><strong>åå®åªè¯»åå</strong>ï¼åæ­¥æ¯<strong>ååç</strong>ãç®æ åºä¸­åæ­¥è¿æ¥çæ°æ®åºè§ä¸ºâåªè¯»å¯æ¬âï¼<strong>ä¸¥ç¦å¨ä¸å¡å±å¯¹å¶è¿è¡ä¿®æ¹</strong>ãä»»ä½æ°æ®ä¿®æ­£é½å¿é¡»åå½æºå¤´ç³»ç»ï¼åç»ç±åæ­¥é¾è·¯ååï¼ä»¥ä¿éæ°æ®æå¨æ§ã</li>
<li><strong>çæ§å¿é¡»å°ä½</strong>ï¼é´äºBifrostå¹¶éé«å¯ç¨è®¾è®¡ï¼å¯¹å¶æå¡ç¶æççæ§è³å³éè¦ãé¤äºå©ç¨å¶åç½®åè­¦ï¼å»ºè®®å»ºç«ç¬ç«çå¥åº·æ£æ¥æºå¶ï¼Bifrostæä¾äºAPIä¾¿äºéæï¼ï¼ç¡®ä¿å¨æå¡å¼å¸¸æ¶è½ç¬¬ä¸æ¶é´è¢«åç°åå¤çã</li>
<li><strong>æ ¸å¿é»è¾é¿åä¾èµ</strong>ï¼åºäºå»¶è¿åå¯ç¨æ§èèï¼<strong>å³é®ä¸å¡æµç¨ä¸åºå»ºç«å¨åæ­¥æ°æ®ä¹ä¸</strong>ãä¾å¦ï¼
<ul>
<li><strong>é²è¶ååºå­æ£æ¥</strong>ï¼åºç´æ¥è°ç¨åºå­æå¡ï¼èéæ¥è¯¢æ¬å°åæ­¥çåºå­å¿«ç§ã</li>
<li><strong>æéæ ¡éª</strong>ï¼åºå®æ¶å¯¹æ¥æéä¸­å¿ï¼èéä½¿ç¨å¯è½æ»åçæ¬å°æéæ°æ®å¯æ¬ã</li>
</ul>
</li>
</ol>
<h1 id="5-å°ç»">5 å°ç»</h1>
<p>æ¹æ¡ä¸çº¿åï¼ååæ°æ®çåæ­¥ç¨³å®è¿è¡ï¼è¾¾æäºé¢æç®æ ï¼</p>
<ul>
<li><strong>ååå¢é</strong>ï¼åªéä¸æ³¨æ ¸å¿é¢åï¼æ éä¸ºæ°æ®æ¶è´¹èåå¿ã</li>
<li><strong>éè´­/è®¢åå¢é</strong>ï¼å¨æ¥è¯¢æ¶è¿è¡ç®åçè¡¨å³èå³å¯ï¼å½»åºæè±äºåæ­¥é»è¾ççº ç¼ ãå¯è°<strong>åèµ¢</strong>ã</li>
</ul>
<p>å¯ä¸çéæ¾æ¯Bifrostç<strong>åç¹æ¶æ</strong>ãç¶èå¨å®è·µä¸­ï¼åèæ¯é£äºè®¾è®¡ä¸ºå¤èç¹é«å¯ç¨çä¸å¡æå¡æ´å¸¸åºç°æéãBifrostä½èå¨å¶ææ¡£(<a href="https://wiki.xbifrost.com/other/cluster_why_not/" target="_blank" rel="noopener nofollow">å¼åèææ¡£</a>)ä¸­è§£éäºä»å¯¹âé«å¯ç¨âçè°¨ææåº¦ï¼è®¤ä¸ºè¿æ©å¼å¥å¤æçåå¸å¼è®¾è®¡å¯è½å¢å æéææ¥é¾åº¦ï¼å¹¶å¯¹çäº§ç¯å¢ä¿ææ¬çãæä»¬é¨åè®¤åè¿ä¸è§ç¹ââå¨å®è·µä¸­ç¡®å®éå°è¿ä¸äºå·ç§°âé«å¯ç¨âçç³»ç»å¨æéæ¶è¡¨ç°æ´ç³ã</p>
<p>å½ç¶ï¼è¿ç»éå¦å®é«å¯ç¨çä»·å¼ï¼èæ¯ç¹å®åºæ¯ä¸çæè¡¡ãé¡¹ç®ç»ä¸ºæ­¤åå¤äºåºæ¥é¢æ¡åæ·±åº¦çæ§ï¼å¹¶éæ¶åå¤å¨å¿è¦æ¶ä¸ºBifrostå¢å ç¾å¤è½åã</p>
<p>æ è®ºå¦ä½ï¼æä»¬æåå°ä¸ºâæå¡é´æ°æ®ä¾èµâè¿ä¸çç¹æ¾å°äºä¸ä¸ªç®æ´ææçè§£å³æ¹æ¡ãæ¥ä¸æ¥ï¼æä»¬å°ææä¸ä¸ä¸ªæ´å¤æçé®é¢ï¼<strong>æå¡é´ä¸å¡æµç¨ä¸é»è¾çè¦å</strong>ã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-05 09:58">2026-01-05 09:58</span>&nbsp;
<a href="https://www.cnblogs.com/yhup">yihuiComeOn</a>&nbsp;
éè¯»(<span id="post_view_count">71</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19441312);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19441312', targetLink: 'https://www.cnblogs.com/yhup/p/19441312', title: '[å¾®æå¡è¿é¶åºæ¯å®æ] - âå¾®æå¡æ°æ®ä¾èµçâ' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
        </channel>
        </rss>