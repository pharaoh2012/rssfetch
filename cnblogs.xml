<?xml version="1.0" encoding="UTF-8" ?>
    <rss version="2.0">
    <channel>
        <title><![CDATA[ ä¸»é¡µ - åå®¢å­ ]]></title>
        <link><![CDATA[ https://www.cnblogs.com/ ]]></link>
        <lastBuildDate>2026-01-22T08:25:54.296Z</lastBuildDate>
        <description><![CDATA[
        ä¸»é¡µ - åå®¢å­ RSS
    ]]></description>
        <language>zh-cn</language>
        <item>
    <title><![CDATA[ å¤çº¿ç¨çè¿12ç§ç¨éï¼99%çäººä¸ç¥éï¼ ]]></title>
    <link>https://www.cnblogs.com/12lisu/p/19517803</link>
    <guid>f0e9d65c65c2001a634ab27b34a2bac4</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/12lisu/p/19517803" title="åå¸äº 2026-01-22 16:09">
    <span role="heading" aria-level="2">å¤çº¿ç¨çè¿12ç§ç¨éï¼99%çäººä¸ç¥éï¼</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="åè¨">åè¨</h2>
<p>å¹¶åç¼ç¨æ¯ä¸é¡¹éå¸¸éè¦çææ¯ï¼æ è®ºå¨é¢è¯ï¼è¿æ¯å·¥ä½ä¸­åºç°çé¢çéå¸¸é«ã</p>
<p>ä¹åæåè¡¨çä¸ç¯ã<a href="https://mp.weixin.qq.com/s?__biz=MzkwNjMwMTgzMQ==&amp;mid=2247492962&amp;idx=1&amp;sn=17ed1d2ed950b4e9160218b296d19d4e&amp;chksm=c0e83d8af79fb49cc72fcafc8ed62822263106e54675ea8406a2e3daadb44e25364275af9082&amp;token=245805875&amp;lang=zh_CN#rd" target="_blank" rel="noopener nofollow">èèå¹¶åç¼ç¨ç10ä¸ªå</a>ãï¼å¨å¨ç½å¹¿åå¥½è¯ãè¯´æäºè¿ç±»æç« è¿æ¯æ¯è¾æä»·å¼çï¼æ¥ä¸æ¥ï¼æç®ç»§ç»­èèå¹¶åç¼ç¨è¿ä¸ªè¯é¢ã</p>
<p>å¹¶åç¼ç¨è¯´ç½äºå°±æ¯å¤çº¿ç¨ç¼ç¨ï¼ä½å¤çº¿ç¨ä¸å®æ¯åçº¿ç¨æçæ´é«ï¼</p>
<p>ç­ï¼ä¸ä¸å®ï¼è¦çå·ä½ä¸å¡åºæ¯ã</p>
<p>æ¯ç«å¦æä½¿ç¨äºå¤çº¿ç¨ï¼é£ä¹çº¿ç¨ä¹é´çç«äºåæ¢å cpuèµæºï¼çº¿ç¨çä¸ä¸æåæ¢ï¼ä¹æ¯ç¸å¯¹æ¥è¯´æ¯è¾èæ¶çæä½ã</p>
<p>ä¸é¢è¿å ä¸ªé®é¢å¨é¢è¯ä¸­ï¼ä½ å¿å®éå°è¿ï¼</p>
<ol>
<li>ä½ å¨åªæ¥ä¸å¡åºæ¯ä¸­ä½¿ç¨è¿å¤çº¿ç¨ï¼</li>
<li>æä¹ç¨çï¼</li>
<li>è¸©è¿åªäºåï¼</li>
</ol>
<p>ä»å¤©èèæä¹åå¨é¡¹ç®ä¸­ç¨å¹¶åç¼ç¨ç12ç§ä¸å¡åºæ¯ï¼ç»æéè¦çæåä¸ä¸ªåèã</p>
<p><img alt="" loading="lazy" data-src="https://files.mdnice.com/user/5303/2e33944c-a648-4515-9595-470ababba0f6.png" class="lazyload"></p>
<h2 id="1-ç®åå®æ¶ä»»å¡">1. ç®åå®æ¶ä»»å¡</h2>
<p>åä½äº²ç±çæåï¼ä½ æ²¡çéï¼<code>Thread</code>ç±»ççè½åå®æ¶ä»»å¡ãå¦æä½ çè¿ä¸äº<code>å®æ¶ä»»å¡æ¡æ¶</code>çæºç ï¼ä½ æåä¼åç°ï¼å®ä»¬çåºå±ä¹ä¼ä½¿ç¨Threadç±»ã</p>
<p>å®ç°è¿ç§å®æ¶ä»»å¡çå·ä½ä»£ç å¦ä¸ï¼</p>
<pre><code class="language-java">public static void init() {
    new Thread(() -&gt; {
        while (true) {
            try {
                System.out.println("ä¸è½½æä»¶");
                Thread.sleep(1000 * 60 * 5);
            } catch (Exception e) {
                log.error(e);
            }
        }
    }).start();
}
</code></pre>
<p>ä½¿ç¨Threadç±»å¯ä»¥åæç®åçå®æ¶ä»»å¡ï¼å¨runæ¹æ³ä¸­æä¸ªwhileçæ­»å¾ªç¯ï¼å½ç¶è¿æå¶ä»æ¹å¼ï¼ï¼æ§è¡æä»¬èªå·±çä»»å¡ãæä¸ªéè¦ç¹å«æ³¨æçå°æ¹æ¯ï¼éè¦ç¨<code>try...catch</code>æè·å¼å¸¸ï¼å¦åå¦æåºç°å¼å¸¸ï¼å°±ç´æ¥éåºå¾ªç¯ï¼ä¸æ¬¡å°æ æ³ç»§ç»­æ§è¡äºã</p>
<p>ä½è¿ç§æ¹å¼åçå®æ¶ä»»å¡ï¼åªè½å¨ææ§æ§è¡ï¼ä¸è½æ¯æå®æ¶å¨æä¸ªæ¶é´ç¹æ§è¡ã</p>
<p>ç¹å«æéä¸ä¸ï¼è¯¥çº¿ç¨å»ºè®®å®ä¹æ<code>å®æ¤çº¿ç¨</code>ï¼å¯ä»¥éè¿<code>setDaemon</code>æ¹æ³è®¾ç½®ï¼è®©å®å¨åå°é»é»æ§è¡å°±å¥½ã</p>
<p>ä½¿ç¨åºæ¯ï¼æ¯å¦é¡¹ç®ä¸­ææ¶éè¦æ¯é5åéå»<code>ä¸è½½æä¸ªæä»¶</code>ï¼æèæ¯é10åéå»è¯»åæ¨¡æ¿æä»¶<code>çæéæhtmlé¡µé¢</code>ç­ç­ï¼ä¸äºç®åçå¨ææ§ä»»å¡åºæ¯ã</p>
<p>ä½¿ç¨<code>Thread</code>ç±»åå®æ¶ä»»å¡çä¼ç¼ºç¹ï¼</p>
<ul>
<li>
<p>ä¼ç¹ï¼è¿ç§å®æ¶ä»»å¡éå¸¸ç®åï¼å­¦ä¹ ææ¬ä½ï¼å®¹æå¥æï¼å¯¹äºé£äºç®åçå¨ææ§ä»»å¡ï¼æ¯ä¸ªä¸éçéæ©ã</p>
</li>
<li>
<p>ç¼ºç¹ï¼ä¸æ¯ææå®æä¸ªæ¶é´ç¹æ§è¡ä»»å¡ï¼ä¸æ¯æå»¶è¿æ§è¡ç­æä½ï¼åè½è¿äºåä¸ï¼æ æ³åºå¯¹ä¸äºè¾ä¸ºå¤æçåºæ¯ã</p>
</li>
</ul>
<h2 id="2çå¬å¨">2.çå¬å¨</h2>
<p>ææ¶åï¼æä»¬éè¦åä¸ªçå¬å¨ï¼å»çå¬æäºæ°æ®çååã</p>
<p>æ¯å¦ï¼æä»¬å¨ä½¿ç¨<code>canal</code>çæ¶åï¼éè¦çå¬<code>binlog</code>çååï¼è½å¤åæ¶ææ°æ®åºä¸­çæ°æ®ï¼åæ­¥å°å¦å¤ä¸ä¸ªä¸å¡æ°æ®åºä¸­ã</p>
<p><img alt="" loading="lazy" data-src="https://files.mdnice.com/user/5303/3f4eb738-e6a7-4c56-bf88-192eb18b3e57.png" class="lazyload"><br>
å¦æç´æ¥åä¸ä¸ªçå¬å¨å»çå¬æ°æ®å°±å¤ªæ²¡ææäºï¼æä»¬æ³å®ç°è¿æ ·ä¸ä¸ªåè½ï¼å¨éç½®ä¸­å¿æä¸ªå¼å³ï¼éç½®çå¬å¨æ¯å¦å¼å¯ï¼å¦æå¼å¯äºä½¿ç¨åçº¿ç¨å¼æ­¥æ§è¡ã</p>
<p>ä¸»è¦ä»£ç å¦ä¸ï¼</p>
<pre><code class="language-java">@Service
public CanalService {
    private volatile boolean running = false;
    private Thread thread;

    @Autowired
    private CanalConnector canalConnector;
    
    public void handle() {
        //è¿æ¥canal
        while(running) {
           //ä¸å¡å¤ç
        }
    }
    
    public void start() {
       thread = new Thread(this::handle, "name");
       running = true;
       thread.start();
    }
    
    public void stop() {
       if(!running) {
          return;
       }
       running = false;
    }
}
</code></pre>
<p>å¨startæ¹æ³ä¸­å¼å¯äºä¸ä¸ªçº¿ç¨ï¼å¨è¯¥çº¿ç¨ä¸­å¼æ­¥æ§è¡handleæ¹æ³çå·ä½ä»»å¡ãç¶åéè¿è°ç¨stopæ¹æ³ï¼å¯ä»¥åæ­¢è¯¥çº¿ç¨ã</p>
<p>å¶ä¸­ï¼ä½¿ç¨<code>volatile</code>å³é®å­æ§å¶çrunningåéä½ä¸ºå¼å³ï¼å®å¯ä»¥æ§å¶çº¿ç¨ä¸­çç¶æã</p>
<p>æ¥ä¸æ¥ï¼æä¸ªæ¯è¾å³é®çç¹æ¯ï¼å¦ä½éè¿éç½®ä¸­å¿çéç½®ï¼æ§å¶è¿ä¸ªå¼å³å¢ï¼</p>
<p>ä»¥<code>apollo</code>éç½®ä¸ºä¾ï¼æä»¬å¨éç½®ä¸­å¿çåå°ï¼ä¿®æ¹éç½®ä¹åï¼èªå¨è·åææ°éç½®çæ ¸å¿ä»£ç å¦ä¸ï¼</p>
<pre><code class="language-java">public class CanalConfig {
    @Autowired
    private CanalService canalService;

    @ApolloConfigChangeListener
    public void change(ConfigChangeEvent event) {
        String value = event.getChange("test.canal.enable").getNewValue();
        if(BooleanUtils.toBoolean(value)) {
            canalService.start();
        } else {
            canalService.stop();
        }
    }
}
</code></pre>
<p>éè¿<code>apollo</code>ç<code>ApolloConfigChangeListener</code>æ³¨è§£ï¼å¯ä»¥çå¬éç½®åæ°çååã</p>
<p>å¦æ<code>test.canal.enable</code>å¼å³éç½®çtrueï¼åè°ç¨canalServiceç±»çstartæ¹æ³å¼å¯canalæ°æ®åæ­¥åè½ãå¦æå¼å³éç½®çfalseï¼åè°ç¨canalServiceç±»çstopæ¹æ³ï¼èªå¨åæ­¢canalæ°æ®åæ­¥åè½ã</p>
<h2 id="3æ¶éæ¥å¿">3.æ¶éæ¥å¿</h2>
<p>å¨æäºé«å¹¶åçåºæ¯ä¸­ï¼æä»¬éè¦æ¶éé¨åç¨æ·çæ¥å¿ï¼æ¯å¦ï¼ç¨æ·ç»å½çæ¥å¿ï¼ï¼åå°æ°æ®åºä¸­ï¼ä»¥ä¾¿äºååæã</p>
<p>ä½ç±äºé¡¹ç®ä¸­ï¼è¿æ²¡æå¼å¥æ¶æ¯ä¸­é´ä»¶ï¼æ¯å¦ï¼<code>kafka</code>ã<code>rocketmq</code>ç­ã</p>
<p>å¦æç´æ¥å°æ¥å¿åæ­¥åå¥æ°æ®åºï¼å¯è½ä¼å½±åæ¥å£æ§è½ã</p>
<p>æä»¥ï¼å¤§å®¶å¾èªç¶æ³å°äºå¼æ­¥å¤çã</p>
<p>å®ç°è¿ä¸ªéæ±æç®åçåæ³æ¯ï¼å¼å¯ä¸ä¸ªçº¿ç¨ï¼å¼æ­¥åå¥æ°æ®å°æ°æ®åºå³å¯ã</p>
<p>è¿æ ·åï¼å¯ä»¥æ¯å¯ä»¥ã</p>
<p>ä½å¦æç¨æ·ç»å½æä½çèæ¶ï¼æ¯å¼æ­¥åå¥æ°æ®åºçæ¶é´è¦å°å¾å¤ãè¿æ ·å¯¼è´çç»ææ¯ï¼çäº§æ¥å¿çéåº¦ï¼æ¯æ¶è´¹æ¥å¿çéåº¦è¦å¿«å¾å¤ï¼æç»çæ§è½ç¶é¢å¨æ¶è´¹ç«¯ã</p>
<p>å¶å®ï¼è¿ææ´ä¼éçå¤çæ¹å¼ï¼è½è¯´æ²¡æä½¿ç¨æ¶æ¯ä¸­é´ä»¶ï¼ä½åç¨äºå®çææ³ã</p>
<p>è¿å¥è®°å½ç»å½æ¥å¿çåè½ï¼åä¸ºï¼æ¥å¿çäº§ç«¯ãæ¥å¿å­å¨ç«¯åæ¥å¿æ¶è´¹ç«¯ã</p>
<p>å¦ä¸å¾æç¤ºï¼<br>
<img alt="" loading="lazy" data-src="https://files.mdnice.com/user/5303/8efc20b3-36ca-4a20-b688-f1a5a981ee6a.png" class="lazyload"></p>
<p>åå®ä¹äºä¸ä¸ªé»å¡éåã</p>
<pre><code class="language-java">@Component
public class LoginLogQueue {
    private static final int QUEUE_MAX_SIZE    = 1000;

    private BlockingQueueblockingQueue queue = new LinkedBlockingQueue&lt;&gt;(QUEUE_MAX_SIZE);

    //çææ¶æ¯
    public boolean push(LoginLog loginLog) {
        return this.queue.add(loginLog);
    } 

    //æ¶è´¹æ¶æ¯
    public LoginLog poll() {
        LoginLog loginLog = null;
        try {
            loginLog = this.queue.take();
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
        return result;
    }
}
</code></pre>
<p>ç¶åå®ä¹äºä¸ä¸ªæ¥å¿ççäº§èã</p>
<pre><code class="language-java">@Service
public class LoginSerivce {
    
    @Autowired
    private LoginLogQueue loginLogQueue;

    public int login(UserInfo userInfo) {
        //ä¸å¡å¤ç
        LoginLog loginLog = convert(userInfo);
        loginLogQueue.push(loginLog);
    }  
}
</code></pre>
<p>æ¥ä¸æ¥ï¼å®ä¹äºæ¥å¿çæ¶è´¹èã</p>
<pre><code class="language-java">@Service
public class LoginInfoConsumer {
    @Autowired
    private LoginLogQueue queue;

    @PostConstruct
    public voit init {
       new Thread(() -&gt; {
          while (true) {
              LoginLog loginLog = queue.take();
              //åå¥æ°æ®åº
          }
        }).start();
    }
}
</code></pre>
<p>å½ç¶ï¼è¿ä¸ªä¾å­ä¸­ä½¿ç¨åçº¿ç¨æ¥æ¶ç»å½æ¥å¿ï¼ä¸ºäºæåæ§è½ï¼ä¹å¯ä»¥ä½¿ç¨çº¿ç¨æ± æ¥å¤çä¸å¡é»è¾ï¼æ¯å¦ï¼åå¥æ°æ®åºï¼ç­ã</p>
<h2 id="4excelå¯¼å¥">4.excelå¯¼å¥</h2>
<p>æä»¬å¯è½ä¼ç»å¸¸æ¶å°è¿è¥åå­¦æè¿æ¥çexcelæ°æ®å¯¼å¥éæ±ï¼æ¯å¦ï¼å°æä¸å¤§ç±»ä¸çææå­ç±»ä¸æ¬¡æ§å¯¼å¥ç³»ç»ï¼æèå¯¼å¥ä¸æ¹æ°çä¾åºåæ°æ®ç­ç­ã</p>
<p>æä»¬ä»¥å¯¼å¥ä¾åºåæ°æ®ä¸ºä¾ï¼å®ææ¶åçä¸å¡æµç¨å¾é¿ï¼æ¯å¦ï¼</p>
<ol>
<li>è°ç¨å¤©ç¼æ¥æ¥å£æ ¡éªä¼ä¸åç§°åç»ä¸ç¤¾ä¼ä¿¡ç¨ä»£ç ã</li>
<li>åå¥ä¾åºååºæ¬è¡¨</li>
<li>åå¥ç»ç»è¡¨</li>
<li>ç»ä¾åºåèªå¨åå»ºä¸ä¸ªç¨æ·</li>
<li>ç»è¯¥ç¨æ·åéæé</li>
<li>èªå®ä¹åå</li>
<li>åç«åéç¥</li>
</ol>
<p>ç­ç­ã</p>
<p>å¦æå¨ç¨åºä¸­ï¼è§£æå®excelï¼è¯»åäºæææ°æ®ä¹åãç¨åçº¿ç¨ä¸æ¡æ¡å¤çä¸å¡é»è¾ï¼å¯è½èæ¶ä¼éå¸¸é¿ã</p>
<p>ä¸ºäºæåexcelæ°æ®å¯¼å¥æçï¼éå¸¸æå¿è¦ä½¿ç¨å¤çº¿ç¨æ¥å¤çã</p>
<p>å½ç¶å¨javaä¸­å®ç°å¤çº¿ç¨çææ®µæå¾å¤ç§ï¼ä¸é¢éç¹èèjava8ä¸­æç®åçå®ç°æ¹å¼ï¼<code>parallelStream</code>ã</p>
<p>ä¼ªä»£ç å¦ä¸ï¼</p>
<pre><code class="language-java">supplierList.parallelStream().forEach(x -&gt; importSupplier(x));
</code></pre>
<p><code>parallelStream</code>æ¯ä¸ä¸ªå¹¶è¡æ§è¡çæµï¼å®é»è®¤éè¿<code>ForkJoinPool</code>å®ç°çï¼è½æé«ä½ çå¤çº¿ç¨ä»»å¡çéåº¦ã</p>
<p><code>ForkJoinPool</code>å¤ççè¿ç¨ä¼åèæ²»ä¹ï¼å®çæ ¸å¿ææ³æ¯ï¼<code>å°ä¸ä¸ªå¤§ä»»å¡ååæå¤ä¸ªå°ä»»å¡</code>ãæ¯ä¸ªå°ä»»å¡é½è½åç¬æ§è¡ï¼æåå®ä¼ææç¨ä»»å¡çæ§è¡ç»æè¿è¡æ±æ»ã</p>
<p>ä¸é¢ç¨ä¸å¼ å¾ç®åä»ç»ä¸ä¸ForkJoinPoolçåçï¼<br>
<img alt="" loading="lazy" data-src="https://files.mdnice.com/user/5303/bd3bda9c-c078-40e9-860e-30a92d63e6e0.png" class="lazyload"></p>
<p>å½ç¶é¤äºexcelå¯¼å¥ä¹å¤ï¼è¿æç±»ä¼¼çè¯»åææ¬æä»¶ï¼ä¹å¯ä»¥ç¨ç±»ä¼¼çæ¹æ³å¤çã</p>
<blockquote>
<p>æ¸©é¦¨çæéä¸ä¸ï¼å¦æä¸æ¬¡æ§å¯¼å¥çæ°æ®éå¸¸å¤ï¼ç¨å¤çº¿ç¨å¤çï¼å¯è½ä¼ä½¿ç³»ç»çcpuä½¿ç¨çé£åï¼éè¦ç¹å«å³æ³¨ã</p>
</blockquote>
<h2 id="5æ¥è¯¢æ¥å£">5.æ¥è¯¢æ¥å£</h2>
<p>å¾å¤æ¶åï¼æä»¬éè¦å¨æä¸ªæ¥è¯¢æ¥å£ä¸­ï¼è°ç¨å¶ä»æå¡çæ¥å£ï¼ç»åæ°æ®ä¹åï¼ä¸èµ·è¿åã</p>
<p>æ¯å¦æè¿æ ·çä¸å¡åºæ¯ï¼</p>
<p>å¨ç¨æ·ä¿¡æ¯æ¥è¯¢æ¥å£ä¸­éè¦è¿åï¼ç¨æ·åç§°ãæ§å«ãç­çº§ãå¤´åãç§¯åãæé¿å¼ç­ä¿¡æ¯ã</p>
<p>èç¨æ·åç§°ãæ§å«ãç­çº§ãå¤´åå¨ç¨æ·æå¡ä¸­ï¼ç§¯åå¨ç§¯åæå¡ä¸­ï¼æé¿å¼å¨æé¿å¼æå¡ä¸­ãä¸ºäºæ±æ»è¿äºæ°æ®ç»ä¸è¿åï¼éè¦å¦å¤æä¾ä¸ä¸ªå¯¹å¤æ¥å£æå¡ã</p>
<p>äºæ¯ï¼ç¨æ·ä¿¡æ¯æ¥è¯¢æ¥å£éè¦è°ç¨ç¨æ·æ¥è¯¢æ¥å£ãç§¯åæ¥è¯¢æ¥å£ å æé¿å¼æ¥è¯¢æ¥å£ï¼ç¶åæ±æ»æ°æ®ç»ä¸è¿åã</p>
<p>è°ç¨è¿ç¨å¦ä¸å¾æç¤ºï¼<br>
<img alt="" loading="lazy" data-src="https://files.mdnice.com/user/5303/8d49a8dc-89e5-4fd1-8a4e-3be393c80790.png" class="lazyload"></p>
<p>è°ç¨è¿ç¨æ¥å£æ»èæ¶ 530ms = 200ms + 150ms + 180ms</p>
<p>æ¾ç¶è¿ç§ä¸²è¡è°ç¨è¿ç¨æ¥å£æ§è½æ¯éå¸¸ä¸å¥½çï¼è°ç¨è¿ç¨æ¥å£æ»çèæ¶ä¸ºææçè¿ç¨æ¥å£èæ¶ä¹åã</p>
<p>é£ä¹å¦ä½ä¼åè¿ç¨æ¥å£æ§è½å¢ï¼</p>
<p>æ¢ç¶ä¸²è¡è°ç¨å¤ä¸ªè¿ç¨æ¥å£æ§è½å¾å·®ï¼ä¸ºä»ä¹ä¸æ¹æå¹¶è¡å¢ï¼</p>
<p>å¦ä¸å¾æç¤ºï¼<br>
<img alt="" loading="lazy" data-src="https://files.mdnice.com/user/5303/0720b188-bc39-4651-a7da-f79cbfcf0012.png" class="lazyload"></p>
<p>è°ç¨è¿ç¨æ¥å£æ»èæ¶ 200ms = 200msï¼å³èæ¶æé¿çé£æ¬¡è¿ç¨æ¥å£è°ç¨ï¼</p>
<p>å¨java8ä¹åå¯ä»¥éè¿å®ç°<code>Callable</code>æ¥å£ï¼è·åçº¿ç¨è¿åç»æã</p>
<p>java8ä»¥åéè¿<code>CompleteFuture</code>ç±»å®ç°è¯¥åè½ãæä»¬è¿éä»¥CompleteFutureä¸ºä¾ï¼</p>
<pre><code class="language-java">public UserInfo getUserInfo(Long id) throws InterruptedException, ExecutionException {
    final UserInfo userInfo = new UserInfo();
    CompletableFuture userFuture = CompletableFuture.supplyAsync(() -&gt; {
        getRemoteUserAndFill(id, userInfo);
        return Boolean.TRUE;
    }, executor);

    CompletableFuture bonusFuture = CompletableFuture.supplyAsync(() -&gt; {
        getRemoteBonusAndFill(id, userInfo);
        return Boolean.TRUE;
    }, executor);

    CompletableFuture growthFuture = CompletableFuture.supplyAsync(() -&gt; {
        getRemoteGrowthAndFill(id, userInfo);
        return Boolean.TRUE;
    }, executor);
    CompletableFuture.allOf(userFuture, bonusFuture, growthFuture).join();

    userFuture.get();
    bonusFuture.get();
    growthFuture.get();
    return userInfo;
}
</code></pre>
<p>æ¸©é¦¨æéä¸ä¸ï¼è¿ä¸¤ç§æ¹å¼å«å¿äºä½¿ç¨<code>çº¿ç¨æ± </code>ãç¤ºä¾ä¸­æç¨å°äº<code>executor</code>ï¼è¡¨ç¤ºèªå®ä¹ççº¿ç¨æ± ï¼ä¸ºäºé²æ­¢é«å¹¶ååºæ¯ä¸ï¼åºç°çº¿ç¨è¿å¤çé®é¢ã</p>
<h2 id="6è·åç¨æ·ä¸ä¸æ">6.è·åç¨æ·ä¸ä¸æ</h2>
<p>ä¸ç¥éä½ å¨é¡¹ç®å¼åæ¶ï¼ææ²¡æéå°è¿è¿æ ·çéæ±ï¼ç¨æ·ç»å½ä¹åï¼å¨ææçè¯·æ±æ¥å£ä¸­ï¼éè¿æä¸ªå¬å±æ¹æ³ï¼å°±è½è·åå°å½åç»å½ç¨æ·çä¿¡æ¯ï¼</p>
<p>è·åçç¨æ·ä¸ä¸æï¼æä»¬ä»¥<code>CurrentUser</code>ä¸ºä¾ã</p>
<p><code>CurrentUser</code>åé¨åå«äºä¸ä¸ª<code>ThreadLocal</code>å¯¹è±¡ï¼å®è´è´£ä¿å­å½åçº¿ç¨çç¨æ·ä¸ä¸æä¿¡æ¯ãå½ç¶ä¸ºäºä¿è¯å¨çº¿ç¨æ± ä¸­ï¼ä¹è½ä»ç¨æ·ä¸ä¸æä¸­è·åå°æ­£ç¡®çç¨æ·ä¿¡æ¯ï¼è¿éç¨äºé¿éç<code>TransmittableThreadLocal</code>ãä¼ªä»£ç å¦ä¸ï¼</p>
<pre><code class="language-java">@Data
public class CurrentUser {
    private static final TransmittableThreadLocal&lt;CurrentUser&gt; THREA_LOCAL = new TransmittableThreadLocal&lt;&gt;();
    
    private String id;
    private String userName;
    private String password;
    private String phone;
    ...
    
    public statis void set(CurrentUser user) {
      THREA_LOCAL.set(user);
    }
    
    public static void getCurrent() {
      return THREA_LOCAL.get();
    }
}
</code></pre>
<p>è¿éä¸ºä»ä¹ç¨äºé¿éçTransmittableThreadLocalï¼èä¸æ¯æ®éçThreadLocalå¢ï¼å¨çº¿ç¨æ± ä¸­ï¼ç±äºçº¿ç¨ä¼è¢«å¤æ¬¡å¤ç¨ï¼å¯¼è´ä»æ®éçThreadLocalä¸­æ æ³è·åæ­£ç¡®çç¨æ·ä¿¡æ¯ãç¶çº¿ç¨ä¸­çåæ°ï¼æ²¡æ³ä¼ éç»å­çº¿ç¨ï¼èTransmittableThreadLocalå¾å¥½è§£å³äºè¿ä¸ªé®é¢ã</p>
<p>ç¶åå¨é¡¹ç®ä¸­å®ä¹ä¸ä¸ªå¨å±çspring mvcæ¦æªå¨ï¼ä¸é¨è®¾ç½®ç¨æ·ä¸ä¸æå°ThreadLocalä¸­ãä¼ªä»£ç å¦ä¸ï¼</p>
<pre><code class="language-java">public class UserInterceptor extends HandlerInterceptorAdapter {
   
   @Override  
   public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {
      CurrentUser user = getUser(request);
      if(Objects.nonNull(user)) {
         CurrentUser.set(user);
      }
   } 
}
</code></pre>
<p>ç¨æ·å¨è¯·æ±æä»¬æ¥å£æ¶ï¼ä¼åè§¦åè¯¥æ¦æªå¨ï¼å®ä¼æ ¹æ®ç¨æ·cookieä¸­çtokenï¼è°ç¨è°ç¨æ¥å£è·åredisä¸­çç¨æ·ä¿¡æ¯ãå¦æè½è·åå°ï¼è¯´æç¨æ·å·²ç»ç»å½ï¼åæç¨æ·ä¿¡æ¯è®¾ç½®å°CurrentUserç±»çThreadLocalä¸­ã</p>
<p>æ¥ä¸æ¥ï¼å¨apiæå¡çä¸å±ï¼å³businesså±çæ¹æ³ä¸­ï¼å°±è½è½»æ¾éè¿CurrentUser.getCurrent();æ¹æ³è·åå°æ³è¦çç¨æ·ä¸ä¸æä¿¡æ¯äºã<br>
<img alt="" loading="lazy" data-src="https://files.mdnice.com/user/5303/d8bedf76-b533-4a97-80e3-69b522b9a494.png" class="lazyload"></p>
<p>è¿å¥ç¨æ·ä½ç³»çæ³æ³æ¯å¾goodçï¼ä½æ·±å¥ä½¿ç¨åï¼åç°äºä¸ä¸ªå°ææ²ï¼</p>
<p>apiæå¡åmqæ¶è´¹èæå¡é½å¼ç¨äºbusinesså±ï¼businesså±ä¸­çæ¹æ³ä¸¤ä¸ªæå¡é½è½ç´æ¥è°ç¨ã</p>
<p>æä»¬é½ç¥éå¨apiæå¡ä¸­ç¨æ·æ¯éè¦ç»å½çï¼èmqæ¶è´¹èæå¡åä¸éè¦ç»å½ã<br>
<img alt="" loading="lazy" data-src="https://files.mdnice.com/user/5303/c789bc18-d93d-4688-80ef-53521c01b09e.png" class="lazyload"></p>
<p>å¦æbusinessä¸­çæä¸ªæ¹æ³åå¼å§æ¯ç»apiå¼åçï¼å¨æ¹æ³æ·±å¤ä½¿ç¨äºCurrentUser.getCurrent();è·åç¨æ·ä¸ä¸æãä½åæ¥ï¼æä½æ°æ¥çå¸å¥å¨mqæ¶è´¹èä¸­ä¹è°ç¨äºé£ä¸ªæ¹æ³ï¼å¹¶æªåè§è¿ä¸ªå°æºå³ï¼å°±ä¼ä¸­æï¼åºç°æ¾ä¸å°ç¨æ·ä¸ä¸æçé®é¢ã<br>
<img alt="" loading="lazy" data-src="https://files.mdnice.com/user/5303/43d5c955-f5e9-4c2e-886a-7d3877ee8a3c.png" class="lazyload"></p>
<p>æä»¥æå½æ¶çç¬¬ä¸ä¸ªæ³æ³æ¯ï¼ä»£ç æ²¡åå¼å®¹å¤çï¼å ä¸ºä¹åè¿ç±»é®é¢å¶å°ä¼åçä¸æ¬¡ã</p>
<p>æ³è¦è§£å³è¿ä¸ªé®é¢ï¼å¶å®ä¹å¾ç®åãåªéåå¤æ­ä¸ä¸è½å¦ä»CurrentUserä¸­è·åç¨æ·ä¿¡æ¯ï¼å¦æä¸è½ï¼ååéç½®çç³»ç»ç¨æ·ä¿¡æ¯ãä¼ªä»£ç å¦ä¸ï¼</p>
<pre><code class="language-java">@Autowired
private BusinessConfig businessConfig;

CurrentUser user = CurrentUser.getCurrent();
if(Objects.nonNull(user)) {
   entity.setUserId(user.getUserId());
   entity.setUserName(user.getUserName());
} else {
   entity.setUserId(businessConfig.getDefaultUserId());
   entity.setUserName(businessConfig.getDefaultUserName());
}
</code></pre>
<p>è¿ç§ç®åæ å¬å®³çä»£ç ï¼å¦æåªæ¯å¨ä¸ä¸¤ä¸ªå°æ¹å è¿OKã</p>
<p>æ­¤å¤ï¼ä¼æå¨ç¥ï¼<code>SimpleDateFormat</code>å¨java8ä»¥åï¼æ¯ç¨æ¥å¤çæ¶é´çå·¥å·ç±»ï¼å®æ¯éçº¿ç¨å®å¨çãä¹å°±æ¯è¯´ï¼ç¨è¯¥æ¹æ³è§£ææ¥æä¼æçº¿ç¨å®å¨é®é¢ã</p>
<p>ä¸ºäºé¿åçº¿ç¨å®å¨é®é¢çåºç°ï¼æä»¬å¯ä»¥æSimpleDateFormatå¯¹è±¡å®ä¹æ<code>å±é¨åé</code>ãä½å¦æä½ ä¸å®è¦æå®å®ä¹æéæåéï¼å¯ä»¥ä½¿ç¨ThreadLocalä¿å­æ¥æï¼ä¹è½è§£å³çº¿ç¨å®å¨é®é¢ã</p>
<h2 id="8-ä¼ éåæ°">8. ä¼ éåæ°</h2>
<p>ä¹åè§è¿æäºåäºåä»£ç æ¶ï¼ä¸ä¸ªéå¸¸æè¶£çç¨æ³ï¼å³ï¼ä½¿ç¨<code>MDC</code>ä¼ éåæ°ã</p>
<p>MDCæ¯ä»ä¹ï¼</p>
<p><code>MDC</code>æ¯<code>org.slf4j</code>åä¸çä¸ä¸ªç±»ï¼å®çå¨ç§°æ¯<code>Mapped Diagnostic Context</code>ï¼æä»¬å¯ä»¥è®¤ä¸ºå®æ¯ä¸ä¸ªçº¿ç¨å®å¨çå­æ¾è¯æ­æ¥å¿çå®¹å¨ã</p>
<p><code>MDC</code>çåºå±æ¯ç¨äº<code>ThreadLocal</code>æ¥ä¿å­æ°æ®çã</p>
<p>ä¾å¦ç°å¨æè¿æ ·ä¸ç§åºæ¯ï¼æä»¬ä½¿ç¨<code>RestTemplate</code>è°ç¨è¿ç¨æ¥å£æ¶ï¼ææ¶éè¦å¨<code>header</code>ä¸­ä¼ éä¿¡æ¯ï¼æ¯å¦ï¼traceIdï¼sourceç­ï¼ä¾¿äºå¨æ¥è¯¢æ¥å¿æ¶è½å¤ä¸²èä¸æ¬¡å®æ´çè¯·æ±é¾è·¯ï¼å¿«éå®ä½é®é¢ã</p>
<p>è¿ç§ä¸å¡åºæ¯å°±è½éè¿<code>ClientHttpRequestInterceptor</code>æ¥å£å®ç°ï¼å·ä½åæ³å¦ä¸ï¼</p>
<p>ç¬¬ä¸æ­¥ï¼å®ä¹ä¸ä¸ªLogFilteræ¦æªæææ¥å£è¯·æ±ï¼å¨MDCä¸­è®¾ç½®traceIdï¼</p>
<pre><code class="language-java">public class LogFilter implements Filter {
    @Override
    public void init(FilterConfig filterConfig) throws ServletException {
    }

    @Override
    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {
        MdcUtil.add(UUID.randomUUID().toString());
        System.out.println("è®°å½è¯·æ±æ¥å¿");
        chain.doFilter(request, response);
        System.out.println("è®°å½ååºæ¥å¿");
    }

    @Override
    public void destroy() {
    }
}
</code></pre>
<p>ç¬¬äºæ­¥ï¼å®ç°<code>ClientHttpRequestInterceptor</code>æ¥å£ï¼MDCä¸­è·åå½åè¯·æ±çtraceIdï¼ç¶åè®¾ç½®å°headerä¸­ï¼</p>
<pre><code class="language-java">public class RestTemplateInterceptor implements ClientHttpRequestInterceptor {

    @Override
    public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException {
        request.getHeaders().set("traceId", MdcUtil.get());
        return execution.execute(request, body);
    }
}
</code></pre>
<p>ç¬¬ä¸æ­¥ï¼å®ä¹éç½®ç±»ï¼éç½®ä¸é¢å®ä¹çRestTemplateInterceptorç±»ï¼</p>
<pre><code class="language-java">@Configuration
public class RestTemplateConfiguration {

    @Bean
    public RestTemplate restTemplate() {
        RestTemplate restTemplate = new RestTemplate();
        restTemplate.setInterceptors(Collections.singletonList(restTemplateInterceptor()));
        return restTemplate;
    }

    @Bean
    public RestTemplateInterceptor restTemplateInterceptor() {
        return new RestTemplateInterceptor();
    }
}
</code></pre>
<p>å¶ä¸­MdcUtilå¶å®æ¯å©ç¨MDCå·¥å·å¨<code>ThreadLocal</code>ä¸­å­å¨åè·åtraceId</p>
<pre><code class="language-java">public class MdcUtil {

    private static final String TRACE_ID = "TRACE_ID";

    public static String get() {
        return MDC.get(TRACE_ID);
    }

    public static void add(String value) {
        MDC.put(TRACE_ID, value);
    }
}
</code></pre>
<p>å½ç¶ï¼è¿ä¸ªä¾å­ä¸­æ²¡ææ¼ç¤ºMdcUtilç±»çaddæ¹æ³å·ä½è°çå°æ¹ï¼æä»¬å¯ä»¥å¨<code>filter</code>ä¸­æ§è¡æ¥å£æ¹æ³ä¹åï¼çætraceIdï¼è°ç¨MdcUtilç±»çaddæ¹æ³æ·»å å°MDCä¸­ï¼ç¶åå¨åä¸ä¸ªè¯·æ±çå¶ä»å°æ¹å°±è½éè¿MdcUtilç±»çgetæ¹æ³è·åå°è¯¥traceIdã</p>
<p>è½ä½¿ç¨MDCä¿å­traceIdç­åæ°çæ ¹æ¬åå æ¯ï¼ç¨æ·è¯·æ±å°åºç¨æå¡å¨ï¼<code>Tomcat</code>ä¼ä»çº¿ç¨æ± ä¸­åéä¸ä¸ªçº¿ç¨å»å¤çè¯¥è¯·æ±ã</p>
<p>é£ä¹è¯¥è¯·æ±çæ´ä¸ªè¿ç¨ä¸­ï¼ä¿å­å°<code>MDC</code>ç<code>ThreadLocal</code>ä¸­çåæ°ï¼ä¹æ¯è¯¥çº¿ç¨ç¬äº«çï¼æä»¥ä¸ä¼æçº¿ç¨å®å¨é®é¢ã</p>
<h2 id="9-æ¨¡æé«å¹¶å">9. æ¨¡æé«å¹¶å</h2>
<p>ææ¶åæä»¬åçæ¥å£ï¼å¨ä½å¹¶åçåºæ¯ä¸ï¼ä¸ç¹é®é¢é½æ²¡æã</p>
<p>ä½å¦æä¸æ¦åºç°é«å¹¶åè°ç¨ï¼è¯¥æ¥å£å¯è½ä¼åºç°ä¸äºææ³ä¸å°çé®é¢ã</p>
<p>ä¸ºäºé²æ­¢ç±»ä¼¼çäºæåçï¼ä¸è¬å¨é¡¹ç®ä¸çº¿åï¼æä»¬éå¸¸æå¿è¦å¯¹æ¥å£åä¸ä¸<code>ååæµè¯</code>ã</p>
<p>å½ç¶ï¼ç°å¨å·²ç»ææ¯è¾æççååæµè¯å·¥å·ï¼æ¯å¦ï¼<code>Jmeter</code>ã<code>LoadRunner</code>ç­ã</p>
<p>å¦æä½ è§å¾ä¸è½½åæµå·¥å·æ¯è¾éº»ç¦ï¼ä¹å¯ä»¥æåä¸ä¸ªç®åçæ¨¡æå¹¶åæä½çå·¥å·ï¼ç¨<code>CountDownLatch</code>å°±è½å®ç°ï¼ä¾å¦ï¼</p>
<pre><code class="language-java">public static void concurrenceTest() {
    /**
     * æ¨¡æé«å¹¶åæåµä»£ç 
     */
    final AtomicInteger atomicInteger = new AtomicInteger(0);
    final CountDownLatch countDownLatch = new CountDownLatch(1000); // ç¸å½äºè®¡æ°å¨ï¼å½ææé½åå¤å¥½äºï¼åä¸èµ·æ§è¡ï¼æ¨¡ä»¿å¤å¹¶åï¼ä¿è¯å¹¶åé
    final CountDownLatch countDownLatch2 = new CountDownLatch(1000); // ä¿è¯ææçº¿ç¨æ§è¡å®äºåæå°atomicIntegerçå¼
    ExecutorService executorService = Executors.newFixedThreadPool(10);
    try {
        for (int i = 0; i &lt; 1000; i++) {
            executorService.submit(new Runnable() {
                @Override
                public void run() {
                    try {
                        countDownLatch.await(); //ä¸ç´é»å¡å½åçº¿ç¨ï¼ç´å°è®¡æ¶å¨çå¼ä¸º0,ä¿è¯åæ¶å¹¶å
                    } catch (InterruptedException e) {
                        log.error(e.getMessage(),e);
                    }
                    //æ¯ä¸ªçº¿ç¨å¢å 1000æ¬¡ï¼æ¯æ¬¡å 1
                    for (int j = 0; j &lt; 1000; j++) {
                        atomicInteger.incrementAndGet();
                    }
                    countDownLatch2.countDown();
                }
            });
            countDownLatch.countDown();
        }

        countDownLatch2.await();// ä¿è¯ææçº¿ç¨æ§è¡å®
        executorService.shutdown();
    } catch (Exception e){
        log.error(e.getMessage(),e);
    }
}
</code></pre>
<h2 id="10-å¤çmqæ¶æ¯">10. å¤çmqæ¶æ¯</h2>
<p>å¨é«å¹¶åçåºæ¯ä¸­ï¼æ¶æ¯ç§¯åé®é¢ï¼å¯ä»¥è¯´å¦å½±éå½¢ï¼ççæ²¡åæ³ä»æ ¹æ¬ä¸è§£å³ãè¡¨é¢ä¸çï¼å·²ç»è§£å³äºï¼ä½åé¢ä¸ç¥éä»ä¹æ¶åï¼å°±ä¼ååºä¸æ¬¡ï¼æ¯å¦è¿æ¬¡ï¼</p>
<p>æå¤©ä¸åï¼äº§åè¿æ¥è¯´ï¼æå ä¸ªåæ·æè¯è¿æ¥äºï¼ä»ä»¬è¯´èåæå»¶è¿ï¼å¿«æ¥ä¸ä¸åå ã</p>
<p>è¿æ¬¡é®é¢åºç°å¾æç¹å¥æªã</p>
<p>ä¸ºä»ä¹è¿ä¹è¯´ï¼</p>
<p>é¦åè¿ä¸ªæ¶é´ç¹å°±æç¹å¥æªï¼å¹³å¸¸åºé®é¢ï¼ä¸é½æ¯ä¸­åæèæä¸ç¨é¤é«å³°æåï¼æä¹è¿æ¬¡é®é¢åºç°å¨ä¸åï¼</p>
<p>æ ¹æ®ä»¥å¾ç§¯ç´¯çç»éªï¼æç´æ¥çäº<code>kafka</code>ç<code>topic</code>çæ°æ®ï¼æç¶ä¸é¢æ¶æ¯æç§¯åï¼ä½è¿æ¬¡æ¯ä¸ª<code>partition</code>é½ç§¯åäºåå ä¸çæ¶æ¯æ²¡ææ¶è´¹ï¼æ¯ä»¥å¾å åçæ¶æ¯æ°éå¢å äºå ç¾åãè¿æ¬¡æ¶æ¯ç§¯åå¾æä¸å¯»å¸¸ã</p>
<p>æèµ¶ç´§æ¥æå¡çæ§ççæ¶è´¹èæäºæ²¡ï¼è¿å¥½æ²¡æãåæ¥æå¡æ¥å¿æ²¡æåç°å¼å¸¸ãè¿æ¶ææç¹è¿·è«ï¼ç¢°è¿æ°é®äºé®è®¢åç»ä¸ååçäºä»ä¹äºææ²¡ï¼ä»ä»¬è¯´ä¸åæä¸ªä¿éæ´»å¨ï¼è·äºä¸ä¸ª<code>JOB</code>æ¹éæ´æ°è¿æäºåæ·çè®¢åä¿¡æ¯ã</p>
<p>è¿æ¶ï¼æä¸ä¸å­å¦æ¢¦åéï¼æ¯ä»ä»¬å¨JOBä¸­æ¹éåæ¶æ¯å¯¼è´çé®é¢ãæä¹æ²¡æéç¥æä»¬å¢ï¼å®å¨å¤ªåäºã</p>
<p>è½è¯´ç¥éé®é¢çåå äºï¼åæ¯ç¼åç§¯åçè¿åå ä¸çæ¶æ¯è¯¥å¦ä½å¤çå¢ï¼</p>
<p>æ­¤æ¶ï¼å¦æç´æ¥è°å¤§<code>partition</code>æ°éæ¯ä¸è¡çï¼åå²æ¶æ¯å·²ç»å­å¨å°<code>4</code>ä¸ªåºå®çpartitionï¼åªææ°å¢çæ¶æ¯æä¼å°æ°çpartitionãæä»¬éç¹éè¦å¤ççæ¯å·²æçpartitionã</p>
<p>ç´æ¥å æå¡èç¹ä¹ä¸è¡ï¼å ä¸º<code>kafka</code>åè®¸åç»çå¤ä¸ª<code>partition</code>è¢«ä¸ä¸ª<code>consumer</code>æ¶è´¹ï¼ä½ä¸åè®¸ä¸ä¸ªpartitionè¢«åç»çå¤ä¸ªconsumeræ¶è´¹ï¼å¯è½ä¼é æèµæºæµªè´¹ã</p>
<p>çæ¥åªæç¨<code>å¤çº¿ç¨</code>å¤çäºã</p>
<p>ä¸ºäºç´§æ¥è§£å³é®é¢ï¼ææ¹æäºç¨çº¿ç¨æ± å¤çæ¶æ¯ï¼æ ¸å¿çº¿ç¨åæå¤§çº¿ç¨æ°é½éç½®æäº<code>50</code>ã</p>
<p>å¤§è´ç¨æ³å¦ä¸ï¼</p>
<ol>
<li>åå®ä¹ä¸ä¸ªçº¿ç¨æ± ï¼</li>
</ol>
<pre><code class="language-java">@Configuration
public class ThreadPoolConfig {

    @Value("${thread.pool.corePoolSize:5}")
    private int corePoolSize;

    @Value("${thread.pool.maxPoolSize:10}")
    private int maxPoolSize;

    @Value("${thread.pool.queueCapacity:200}")
    private int queueCapacity;

    @Value("${thread.pool.keepAliveSeconds:30}")
    private int keepAliveSeconds;

    @Value("${thread.pool.threadNamePrefix:ASYNC_}")
    private String threadNamePrefix;

    @Bean("messageExecutor")
    public Executor messageExecutor() {
        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();
        executor.setCorePoolSize(corePoolSize);
        executor.setMaxPoolSize(maxPoolSize);
        executor.setQueueCapacity(queueCapacity);
        executor.setKeepAliveSeconds(keepAliveSeconds);
        executor.setThreadNamePrefix(threadNamePrefix);
        executor.setRejectedExecutionHandler(new ThreadPoolExecutor.CallerRunsPolicy());
        executor.initialize();
        return executor;
    }
}
</code></pre>
<ol start="2">
<li>åå®ä¹ä¸ä¸ªæ¶æ¯çconsumerï¼</li>
</ol>
<pre><code class="language-java">@Service
public class MyConsumerService {
    @Autowired
    private Executor messageExecutor;
    
    @KafkaListener(id="test",topics={"topic-test"})
    public void listen(String message){
        System.out.println("æ¶å°æ¶æ¯ï¼" + message);
        messageExecutor.submit(new MyWork(message);
    }
}
</code></pre>
<ol start="3">
<li>å¨å®ä¹çRunableå®ç°ç±»ä¸­å¤çä¸å¡é»è¾ï¼</li>
</ol>
<pre><code class="language-java">public class MyWork implements Runnable {
    private String message;
    
    public MyWork(String message) {
       this.message = message;
    }

    @Override
    public void run() {
        System.out.println(message);
    }
}
</code></pre>
<p>æç¶ï¼è°æ´ä¹åæ¶æ¯ç§¯åæ°éç¡®å®ä¸éçéå¸¸å¿«ï¼å¤§çº¦åå°æ¶åï¼ç§¯åçæ¶æ¯å°±éå¸¸é¡ºå©çå¤çå®äºã</p>
<p>ä½æ­¤æ¶æä¸ªæ´ä¸¥éçé®é¢åºç°ï¼ææ¶å°äºæ¥è­¦é®ä»¶ï¼æä¸¤ä¸ªè®¢åç³»ç»çèç¹downæºäºããã</p>
<p>æ´è¯¦ç»åå®¹ï¼è¯·ççæçå¦ä¸ç¯æç« ã<a href="https://mp.weixin.qq.com/s?__biz=MzkwNjMwMTgzMQ==&amp;mid=2247490289&amp;idx=1&amp;sn=bc311da9f4a4d3f48ee5dc207bf31a8b&amp;chksm=c0ebc219f79c4b0fc711116723b9df3a5531cda32f0f5d00f065910aa552af6ff03b3f1528fc&amp;token=751314179&amp;lang=zh_CN&amp;scene=21#wechat_redirect" target="_blank" rel="noopener nofollow">æç¨kafkaä¸¤å¹´è¸©è¿çä¸äºéæ¯å¯»å¸¸çå</a>ã</p>
<h2 id="11-ç»è®¡æ°é">11. ç»è®¡æ°é</h2>
<p>å¨å¤çº¿ç¨çåºæ¯ä¸­ï¼ææ¶åéè¦ç»è®¡æ°éï¼æ¯å¦ï¼ç¨å¤çº¿ç¨å¯¼å¥ä¾åºåæ°æ®æ¶ï¼ç»è®¡å¯¼å¥æåçä¾åºåæ°æå¤å°ã</p>
<p>å¦æè¿æ¶åç¨count++ç»è®¡æ¬¡æ°ï¼æç»çç»æå¯è½ä¼ä¸åãå ä¸ºcount++å¹¶éåå­æä½ï¼å¦æå¤ä¸ªçº¿ç¨åæ¶æ§è¡è¯¥æä½ï¼åç»è®¡çæ¬¡æ°ï¼å¯è½ä¼åºç°å¼å¸¸ã</p>
<p>ä¸ºäºè§£å³è¿ä¸ªé®é¢ï¼å°±éè¦ä½¿ç¨<code>concurent</code>ç<code>atomic</code>åä¸é¢çç±»ï¼æ¯å¦ï¼<code>AtomicInteger</code>ã<code>AtomicLong</code>ç­ã</p>
<pre><code class="language-java">@Servcie
public class ImportSupplierService {
  private static AtomicInteger count = new AtomicInteger(0);

  public int importSupplier(List&lt;SupplierInfo&gt; supplierList) {
       if(CollectionUtils.isEmpty(supplierList)) {
           return 0;
       }

       supplierList.parallelStream().forEach(x -&gt; {
           try {
             importSupplier(x);
             count.addAndGet(1);
           } catch(Exception e) {
              log.error(e.getMessage(),e);
           }
       );

      return count.get();
  }    
}
</code></pre>
<p><code>AtomicInteger</code>çåºå±è¯´ç½äºä½¿ç¨<code>èªæé</code>+<code>CAS</code>ã</p>
<pre><code class="language-java">public final int incrementAndGet() {
    for (;;) {
        int current = get();
        int next = current + 1;
        if (compareAndSet(current, next))
            return next;
    }
}
</code></pre>
<p><code>èªæé</code>è¯´ç½äºå°±æ¯ä¸ä¸ª<code>æ­»å¾ªç¯</code>ã</p>
<p>è<code>CAS</code>æ¯<code>æ¯è¾</code>å<code>äº¤æ¢</code>çææã</p>
<p>å®çå®ç°é»è¾æ¯ï¼å°åå­ä½ç½®å¤ç<code>æ§å¼</code>ä¸<code>é¢æå¼</code>è¿è¡æ¯è¾ï¼è¥ç¸ç­ï¼åå°åå­ä½ç½®å¤çå¼æ¿æ¢ä¸º<code>æ°å¼</code>ãè¥ä¸ç¸ç­ï¼åä¸åä»»ä½æä½ã</p>
<h2 id="12-å»¶è¿å®æ¶ä»»å¡">12. å»¶è¿å®æ¶ä»»å¡</h2>
<p>æä»¬ç»å¸¸æå»¶è¿å¤çæ°æ®çéæ±ï¼æ¯å¦ï¼å¦æç¨æ·ä¸ååï¼è¶è¿30åéè¿æªå®ææ¯ä»ï¼åç³»ç»èªå¨å°è¯¥è®¢ååæ¶ã</p>
<p>è¿ééæ±å°±å¯ä»¥ä½¿ç¨<code>å»¶è¿å®æ¶ä»»å¡</code>å®ç°ã</p>
<p><code>ScheduledExecutorService</code>æ¯<code>JDK1.5+</code>çæ¬å¼è¿çå®æ¶ä»»å¡ï¼è¯¥ç±»ä½äº<code>java.util.concurrent</code>å¹¶ååä¸ã</p>
<p>ScheduledExecutorServiceæ¯åºäºå¤çº¿ç¨çï¼è®¾è®¡çåè¡·æ¯ä¸ºäºè§£å³<code>Timer</code>åçº¿ç¨æ§è¡ï¼å¤ä¸ªä»»å¡ä¹é´ä¼äºç¸å½±åçé®é¢ã</p>
<p>å®ä¸»è¦åå«4ä¸ªæ¹æ³ï¼</p>
<ul>
<li>schedule(Runnable command,long delay,TimeUnit unit)ï¼å¸¦å»¶è¿æ¶é´çè°åº¦ï¼åªæ§è¡ä¸æ¬¡ï¼è°åº¦ä¹åå¯éè¿Future.get()é»å¡ç´è³ä»»å¡æ§è¡å®æ¯ã</li>
<li>schedule(Callable<v> callable,long delay,TimeUnit unit)ï¼å¸¦å»¶è¿æ¶é´çè°åº¦ï¼åªæ§è¡ä¸æ¬¡ï¼è°åº¦ä¹åå¯éè¿Future.get()é»å¡ç´è³ä»»å¡æ§è¡å®æ¯ï¼å¹¶ä¸å¯ä»¥è·åæ§è¡ç»æã</v></li>
<li>scheduleAtFixedRateï¼è¡¨ç¤ºä»¥åºå®é¢çæ§è¡çä»»å¡ï¼å¦æå½åä»»å¡èæ¶è¾å¤ï¼è¶è¿å®æ¶å¨æperiodï¼åå½åä»»å¡ç»æåä¼ç«å³æ§è¡ã</li>
<li>scheduleWithFixedDelayï¼è¡¨ç¤ºä»¥åºå®å»¶æ¶æ§è¡ä»»å¡ï¼å»¶æ¶æ¯ç¸å¯¹å½åä»»å¡ç»æä¸ºèµ·ç¹è®¡ç®å¼å§æ¶é´ã</li>
</ul>
<p>å®ç°è¿ç§å®æ¶ä»»å¡çå·ä½ä»£ç å¦ä¸ï¼</p>
<pre><code class="language-java">public class ScheduleExecutorTest {

    public static void main(String[] args) {
        ScheduledExecutorService scheduledExecutorService = Executors.newScheduledThreadPool(5);
        scheduledExecutorService.scheduleAtFixedRate(() -&gt; {
            System.out.println("doSomething");
        },1000,1000, TimeUnit.MILLISECONDS);
    }
}
</code></pre>
<p>è°ç¨<code>ScheduledExecutorService</code>ç±»ç<code>scheduleAtFixedRate</code>æ¹æ³å®ç°å¨ææ§ä»»å¡ï¼æ¯é1ç§éæ§è¡ä¸æ¬¡ï¼æ¯æ¬¡å»¶è¿1ç§åæ§è¡ã</p>
<p>è¿ç§å®æ¶ä»»å¡æ¯é¿éå·´å·´å¼åèè§èä¸­ç¨æ¥æ¿ä»£<code>Timer</code>ç±»çæ¹æ¡ï¼å¯¹äºå¤çº¿ç¨æ§è¡å¨ææ§ä»»å¡ï¼æ¯ä¸ªä¸éçéæ©ã</p>
<p>ä½¿ç¨<code>ScheduledExecutorService</code>ç±»åå»¶è¿å®æ¶ä»»å¡çä¼ç¼ºç¹ï¼</p>
<ul>
<li>
<p>ä¼ç¹ï¼åºäºå¤çº¿ç¨çå®æ¶ä»»å¡ï¼å¤ä¸ªä»»å¡ä¹é´ä¸ä¼ç¸å³å½±åï¼æ¯æå¨ææ§çæ§è¡ä»»å¡ï¼å¹¶ä¸å¸¦å»¶è¿åè½ã</p>
</li>
<li>
<p>ç¼ºç¹ï¼ä¸æ¯æä¸äºè¾å¤æçå®æ¶è§åã</p>
</li>
</ul>
<p>å½ç¶ï¼ä½ ä¹å¯ä»¥ä½¿ç¨åå¸å¼å®æ¶ä»»å¡ï¼æ¯å¦ï¼xxl-jobæèelastic-jobç­ç­ã</p>
<p>å¶å®ï¼å¨å®éå·¥ä½ä¸­æä½¿ç¨å¤çº¿ç¨çåºæ¯è¿è¿ä¸åªè¿12ç§ï¼å¨è¿éåªæ¯æç å¼çï¼ä»ç»äºä¸äºæè®¤ä¸ºæ¯è¾å¸¸è§çä¸å¡åºæ¯ã</p>
<p>æ­¤å¤ï¼å¦æä½ å¯¹å¹¶åç¼ç¨ä¸­çä¸äºåï¼æ¯è¾æå´è¶£çè¯ï¼å¯ä»¥ççæçå¦ä¸ä¸ªæç« ã<a href="https://mp.weixin.qq.com/s?__biz=MzkwNjMwMTgzMQ==&amp;mid=2247492962&amp;idx=1&amp;sn=17ed1d2ed950b4e9160218b296d19d4e&amp;chksm=c0e83d8af79fb49cc72fcafc8ed62822263106e54675ea8406a2e3daadb44e25364275af9082&amp;token=245805875&amp;lang=zh_CN#rd" target="_blank" rel="noopener nofollow">èèå¹¶åç¼ç¨ç10ä¸ªå</a>ãï¼éé¢åçéå¸¸è¯¦ç»ã</p>
<h2 id="æåè¯´ä¸å¥æ±å³æ³¨å«ç½å«æ">æåè¯´ä¸å¥(æ±å³æ³¨ï¼å«ç½å«æ)</h2>
<p>å¦æè¿ç¯æç« å¯¹æ¨ææå¸®å©ï¼æèææå¯åçè¯ï¼å¸®å¿å³æ³¨ä¸ä¸æçååå¬ä¼å·ï¼èä¸è¯´ææ¯ï¼æ¨çæ¯ææ¯æåæåä½æå¤§çå¨åã</p>
<p>æ±ä¸é®ä¸è¿ï¼ç¹èµãè½¬åãå¨çã</p>
<p>å³æ³¨å¬ä¼å·ï¼ãèä¸è¯´ææ¯ãï¼å¨å¬ä¼å·ä¸­åå¤ï¼è¿å¤§åï¼å¯ä»¥åè´¹è·åææè¿æ´çç10ä¸å­çé¢è¯å®å¸ï¼å¥½å¤å°ä¼ä¼´é è¿ä¸ªå®å¸æ¿å°äºå¤å®¶å¤§åçofferã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-22 16:09">2026-01-22 16:09</span>&nbsp;
<a href="https://www.cnblogs.com/12lisu">èä¸è¯´ææ¯</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19517803);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19517803', targetLink: 'https://www.cnblogs.com/12lisu/p/19517803', title: 'å¤çº¿ç¨çè¿12ç§ç¨éï¼99%çäººä¸ç¥éï¼' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ SEALå¨åæå å¯BFVæ¹æ¡å¥é¨è¯¦è§£ ]]></title>
    <link>https://www.cnblogs.com/zhaoweiwei/p/19510487/bfv</link>
    <guid>5df73e2cabdcf50c9deafcd0340c8dcb</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/zhaoweiwei/p/19510487/bfv" title="åå¸äº 2026-01-22 15:50">
    <span role="heading" aria-level="2">SEALå¨åæå å¯BFVæ¹æ¡å¥é¨è¯¦è§£</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        æ¬æä»ç»å¾®è½¯çå¼æºå¨åæé¡¹ç®SEALä¸­BFVæ¹æ¡çç¸å³æ°å­¦çè®ºåºç¡ï¼ä»¥åç¸åºå è§£å¯çä¸»è¦æµç¨ï¼æåç®åå°ä»ç»äºSEALæºç çç¼è¯è¿ç¨åç®ååºç¨ç¤ºä¾ã
    </div>
<div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p>Microsoft SEALï¼Simple Encrypted Arithmetic Libraryï¼æ¯å¾®è½¯å¼æºçè½»éçº§ãé«æ§è½å¨åæå å¯ï¼FHEï¼åºï¼ä¸ä¸ºæ´æ°/æµ®ç¹æ°çå¯æè¿ç®è®¾è®¡ï¼æ¯æBFVãCKKSãBGVç­ä¸»æµFHEæ¹æ¡ï¼å¹¿æ³åºç¨äºéç§è®¡ç®ãèé¦å­¦ä¹ ãæ°æ®å å¯ç­åºæ¯ï¼æºç ï¼<a href="https://github.com/microsoft/SEAL" target="_blank" rel="noopener nofollow">https://github.com/microsoft/SEAL</a>ã</p>
<h1>1 æ°å­¦åºç¡</h1>
<h2>1.1 å¤é¡¹å¼ç¯</h2>
<p>SEALä½¿ç¨çåºç¡ç¯æ¯ï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/465567/202601/465567-20260121153443048-88951557.png" alt="image" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<p align="left">BFVçææè¿ç®é½å¨è¿ä¸ªå¤é¡¹å¼ç¯ä¸­è¿è¡ï¼ç¬¦å·å«ä¹å¦ä¸ï¼</p>
<p align="left">Z<sub>q</sub>ï¼ç³»æ°åï¼å³å¤é¡¹å¼çææç³»æ°é½åèªâæ¨¡qçæ´æ°éåâï¼qç§°ä¸ºç³»æ°æ¨¡æ°ï¼ä¸ä¸ªå¤§ç´ æ°æå¤ä¸ªç´ æ°çä¹ç§¯ï¼ï¼å³å®å¯æçåªå£°å®¹å¿åº¦åè¿ç®æ·±åº¦ã</p>
<p align="left">x<sup>N</sup>+1ï¼å¤é¡¹å¼æ¨¡ï¼è¦æ±Næ¯2çæ´æ°å¹ï¼å¦4096ã8192ï¼ï¼æ»¡è¶³x<sup>N</sup>â¡-1 (mod x<sup>N</sup>+1)ï¼è¿æå³çææå¤é¡¹å¼çæ¬¡æ°é½ä¸ä¼è¶è¿N-1ï¼è¶è¿çé¡¹å¯éè¿x<sup>N</sup> = -1éæ¬¡ï¼ã</p>
<p align="left">R<sub>q</sub>åç´ å½¢å¼ï¼ä»»æåç´ æ¯ä¸ä¸ªæ¬¡æ°â¤ N - 1çå¤é¡¹å¼ï¼å½¢å¦ï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/465567/202601/465567-20260121154506434-1453063209.png" alt="image" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<p>&nbsp;</p>
<h2>1.2 ææç©ºé´</h2>
<p><img src="https://img2024.cnblogs.com/blog/465567/202601/465567-20260121155707555-629451098.png" alt="image" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<p>ææï¼å¾å å¯çæ´æ°ï¼ä¼è¢«ç¼ç ä¸ºR<sub>t</sub>ä¸­çå¤é¡¹å¼ï¼tæ»¡è¶³tâ¡1 (mod 2N)ï¼è¿æ¯æ¹éå å¯çç¡¬æ§è¦æ±ï¼ææå¨è¿è¡å å¯åè¦è¿è¡ç¼ç ï¼æä¸¤ç§ç¼ç æ¹å¼ï¼</p>
<p><strong>åæ´æ°ç¼ç </strong>ï¼å°åä¸ªæ´æ°mç¼ç ä¸ºå¸¸æ°å¤é¡¹å¼f(x)=mï¼å³ææé«æ¬¡é¡¹ç³»æ°ä¸º0ã</p>
<p><strong>æ¹éç¼ç </strong>ï¼å°Nä¸ªå°æ´æ°[m<sub>0</sub>,m<sub>1</sub>,...,m<sub>N-1</sub>]ç´æ¥åä¸ºå¤é¡¹å¼çç³»æ°ï¼ç¼ç ä¸ºï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/465567/202601/465567-20260121160312132-985918846.png" alt="image" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<h2>1.3 RLWEé®é¢</h2>
<p align="left">BFVçå®å¨æ§åºäºRLWEé®é¢ï¼Ring Learning With Errorsï¼çè®¡ç®å°é¾æ§ï¼ç®åæè¿°ä¸ºï¼</p>
<p align="left">ç»å®å¤é¡¹å¼R<sub>q</sub>ï¼éæ©ä¸ä¸ªç§å¯å¤é¡¹å¼s(x)âR<sub>q</sub>ï¼ç³»æ°ä¸º0/1çç­å¤é¡¹å¼ï¼ï¼ä»¥åå¤§éçâåªå£°å¤é¡¹å¼å¯¹âï¼a<sub>i</sub>(x), b<sub>i</sub>(x)ï¼ï¼å¶ä¸­a<sub>i</sub>(x)æ¯éæºçæçï¼b<sub>i</sub>(x)=-a<sub>i</sub>(x)s(x)+e<sub>i</sub>(x) (mod q)æ¯éè¿ç§å¯å¤é¡¹å¼s(x)è®¡ç®å¾å°çâååºå¤é¡¹å¼âï¼å å¥åªå£°e<sub>i</sub>(x)æ¯ä¸ºäºè®©b<sub>i</sub>(x)çèµ·æ¥åä¸ä¸ªå®å¨éæºçå¤é¡¹å¼ï¼ä»èéès(x)çå­å¨ï¼èå¨è®¡ç®ä¸æ æ³ä»è¿äºå¤é¡¹å¼å¯¹ä¸­æ¢å¤åºç§å¯å¤é¡¹å¼s(x)ãå¯¹äºb<sub>i</sub>(x)å¶çææ¶æ¯ä¸é¨åçä½ç¨å¦ä¸ï¼</p>
<p align="left">a<sub>i</sub>(x)ï¼ä»å¤é¡¹å¼ç¯R<sub>q</sub>ä¸­ååéæºçæçå¤é¡¹å¼ï¼ç¸å½äºâå¬å±è¾å¥âï¼å¯ä»¥å¬å¼ã</p>
<p align="left">s(x)ï¼ç§å¯å¤é¡¹å¼ï¼ç³»æ°ä»ä¸º0æ1ï¼ï¼æ¯æ´ä¸ªRLWEé®é¢çæ ¸å¿ï¼å¿é¡»ä¸¥æ ¼ä¿å¯ã</p>
<p align="left">e<sub>i</sub>(x)ï¼å°ç³»æ°åªå£°å¤é¡¹å¼ï¼ç³»æ°ä»ä¸º-1ã0ã1ï¼ï¼æ¯âéèç§å¯âçå³é®ã</p>
<p align="left">b<sub>i</sub>(x)ï¼ç±a<sub>i</sub>(x)s(x)å ä¸åªå£°å¾å°çç»æï¼ä¸ai(x)ä¸èµ·ææå¬å¼çâå¤é¡¹å¼å¯¹âã</p>
<p align="left">å¦ææ²¡æåªå£°e<sub>i</sub>(x)ï¼å³e<sub>i</sub>(x)=0ï¼é£ä¹b<sub>i</sub>(x)=-a<sub>i</sub>(x)s(x) (mod q)ï¼æ­¤æ¶æ»å»èå¯ä»¥éè¿å¤ç»(a<sub>i</sub>(x), b<sub>i</sub>(x))æå»ºçº¿æ§æ¹ç¨ç»ï¼ç´æ¥è§£å¯åºç§å¯å¤é¡¹å¼s(x)ï¼è¿å°±å®å¨å¤±å»äºå®å¨æ§ãèå å¥å°åªå£°e<sub>i</sub>(x)åï¼</p>
<p align="left">b<sub>i</sub>(x)ä¸åæ¯a<sub>i</sub>(x)s(x)çç²¾ç¡®ç»æï¼èæ¯ä¸ä¸ªâè¿ä¼¼å¼âï¼</p>
<p align="left">è¿ä¸ªè¿ä¼¼å¼çè¯¯å·®è¢«æ§å¶å¨å¾å°çèå´åï¼ç±e<sub>i</sub>(x)çç³»æ°å¤§å°å³å®ï¼ï¼</p>
<p align="left">ä»è®¡ç®è§åº¦ï¼ç®åæ²¡æä»»ä½ç®æ³ï¼åæ¬éå­ç®æ³ï¼è½é«æå°ä»è¿äºå¸¦åªå£°çè¿ä¼¼ç»æä¸­æ¢å¤åºs(x)ï¼è¿æ­£æ¯RLWEé®é¢çâè®¡ç®å°é¾æ§âæ¥æºï¼ä¹æ¯BFVéååéå­ç§å¯åºæ¯çåå ã</p>
<h2>1.4 ç¼©æ¾å å­</h2>
<p>å¨BFVåæå å¯æ¹æ¡ä¸­ï¼ç¼©æ¾å å­ï¼Scaling Factorï¼æ¯è¿æ¥ææç©ºé´ï¼Z<sub>t</sub>ï¼åå¯æç©ºé´ï¼Z<sub>q</sub>ï¼çæ ¸å¿ç³»æ°ï¼æ¬è´¨æ¯ä¸ºäºè®©ææå¤é¡¹å¼è½âééâç³»æ°æ¨¡æ°qçèå´ï¼åæ¶ä¿è¯è§£å¯æ¶å¯ä»¥ç²¾ç¡®è¿åææãBFVçæææ¨¡æ°tè¿å°äºç³»æ°æ¨¡æ°qï¼t&lt;&lt;q)ï¼æ¯å¦t=65537ï¼q=2<sup>60</sup>éçº§ã</p>
<p>ææå¤é¡¹å¼m(x)âR<sub>t</sub>çç³»æ°èå´æ¯[0, t-1]ï¼èå¯æå¤é¡¹å¼c(x)âR<sub>q</sub>çç³»æ°èå´æ¯[0, q-1]ï¼å¦æç´æ¥å°ææm(x)æ¾å¥å¯æå¬å¼ï¼ç±äºtå¤ªå°ï¼ææä¿¡æ¯ä¼è¢«åªå£°åæ©ç å®å¨æ·¹æ²¡ï¼æ æ³è§£å¯ãå æ­¤éè¦ä¸ä¸ªç¼©æ¾å å­ï¼å°ææç³»æ°æ¾å¤§å°qçéçº§ï¼ååä¸å¯æè®¡ç®ãç¼©æ¾å å­è´¯ç©¿å å¯åè§£å¯ä¸¤ä¸ªæ ¸å¿æ­¥éª¤ï¼æ¯ææåå¯æçâæ¡¥æ¢âã</p>
<p>ï¼1ï¼å å¯æ¶ï¼æææ¾å¤§</p>
<p>å¨å å¯æ­¥éª¤ä¸­ï¼ææå¤é¡¹å¼m(x)ä¸ä¼ç´æ¥ä»£å¥å¯æå¬å¼ï¼èæ¯åä¹äºç¼©æ¾å å­Îï¼åæ¾å¥å°å¬å¼ï¼</p>
<p>&nbsp;</p>
<p><img src="https://img2024.cnblogs.com/blog/465567/202601/465567-20260122103147623-1899019256.png" alt="image" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<p>ä½ç¨ï¼å°ææç³»æ°ä»[0, t-1]æ¾å¤§å°[0,&nbsp;Î*(t-1)]ï¼è¿ä¸ªèå´å¨qçéçº§åï¼è½é¿åææè¢«åªå£°è¦çã</p>
<p>ï¼2ï¼è§£å¯æ¶ï¼ææç¼©å°</p>
<p>è§£å¯çæ ¸å¿æ­¥éª¤æ¯åè®¡ç®èåå¤é¡¹å¼D(ct)ï¼ä»£å¥å å¯å¬å¼åå¯å¾ï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/465567/202601/465567-20260122103532065-202805649.png" alt="image" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<p>æ­¤æ¶éè¦ååç¼©æ¾æ¥è¿åææï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/465567/202601/465567-20260122103637412-765250880.png" alt="image" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<p>æ¦æ¬æ¥è¯´ï¼ç¼©æ¾å å­ä¸ä¼ç´æ¥åä¸è¿ç®ï¼ä½ä¼é´æ¥å½±ååªå£°çå¢é¿éåº¦ï¼</p>
<p align="left">1) å æ³è¿ç®ï¼å¯æå æ³æ¯ç³»æ°ç´æ¥ç¸å ï¼åªå£°çº¿æ§å å ï¼ç¼©æ¾å å­ä¸å½±ååªå£°å¢é¿ï¼</p>
<p align="left">2) ä¹æ³è¿ç®ï¼å¯æä¹æ³æ¯å¤é¡¹å¼ä¹æ³ï¼åªå£°ä¼å¹³æ¹å¢é¿ï¼èç¼©æ¾å å­Îè¶å¤§ï¼åªå£°çè§æ¨¡ä¹ä¼è¶å¤§ï¼å¯¼è´è¿ç®æ·±åº¦éä½ã</p>
<p align="left">å æ­¤ï¼å¨åæ°éç½®æ¶ï¼éè¦å¨âææèå´ï¼tå¤§å°ï¼âåâè¿ç®æ·±åº¦ï¼qå¤§å°ï¼âä¹é´åæè¡¡ï¼</p>
<p align="left">è¥tå¢å¤§âÎåå°âåªå£°å®¹å¿åº¦æåâè¿ç®æ·±åº¦å¢å ï¼</p>
<p align="left">è¥tåå°âÎå¢å¤§âåªå£°å®¹å¿åº¦éä½âè¿ç®æ·±åº¦åå°ã</p>
<p align="left">æä»¥tä¸Îæåæ¯ï¼éæ ¹æ®ä¸å¡éæ±å¹³è¡¡ææèå´åè¿ç®æ·±åº¦ã</p>
<h1>2 BFVæ ¸å¿æµç¨</h1>
<h2>2.1 åæ°éç½®</h2>
<p>åæ°éç½®å³å®æ¹æ¡çæ§è½ä¸å®å¨æ§ï¼BFVæ ¸å¿åæ°æ4ä¸ªï¼éä¸¥æ ¼æ»¡è¶³æ°å­¦çº¦æï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/465567/202601/465567-20260121155055832-1091265286.png" alt="image" width="798" height="249" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<p>åæ°çº¦æï¼éæ»¡è¶³q&gt;t*(2N)<sup>d</sup>*Bï¼dæ¯ç®æ è¿ç®æ·±åº¦ï¼Bæ¯åªå£°ä¸éï¼ï¼å¦åè¿ç®è¿ç¨ä¸­åªå£°ä¼âçç¸âå¯¼è´è§£å¯å¤±è´¥ã</p>
<h2>2.2 å¯é¥çæ</h2>
<p>åºäºRLWEé®é¢çæç§é¥ãå¬é¥ãéçº¿æ§åå¯é¥3ä¸­å¯é¥ï¼æ ¸å¿æ¯æé å«åªå£°çå¤é¡¹å¼å¯¹ã</p>
<p>ï¼1ï¼ç§é¥ï¼skï¼</p>
<p>éæºçæä¸ä¸ªç­å¤é¡¹å¼s(x)âR<sub>q</sub>ï¼ç³»æ°ä»ä¸º0æ1ï¼å¦s(x) = 1 + x<sup>2</sup> + x<sup>5</sup>ï¼ï¼ç§é¥å°±æ¯s(x)ã</p>
<p>ï¼2ï¼å¬é¥ï¼pkï¼</p>
<p>éæºçæå¤é¡¹å¼a(x)âR<sub>q</sub>ï¼çæå°å¸æ°åªå£°å¤é¡¹å¼e(x)âR<sub>q</sub>ï¼è®¡ç®b(x) = -a(x)s(x) + e(x) (mod q)ï¼å¬é¥æ¯å¤é¡¹å¼å¯¹pk = (b(x), a(x))ï¼å¯å¬å¼ä¼ æ­ãè¿éçåªå£°e(x)è®©æ»å»èæ æ³ä»å¬é¥å¯¹ä¸­æ¢å¤ç§é¥s(x)ï¼ç®çæ¯è§£å³âå¬é¥æ¬èº«çå®å¨æ§âã</p>
<p>ï¼3ï¼éçº¿æ§åå¯é¥ï¼rlkï¼</p>
<p>å¯æä¹æ³ä¼å¯¼è´å¯æä»â2é¡¹å¤é¡¹å¼âè¨èä¸ºâ3é¡¹å¤é¡¹å¼âï¼åç»­è¿ç®æçéª¤éãéçº¿æ§åå¯é¥ç¨äºå°è¨èåçå¯æåç¼©å2é¡¹ï¼çæé»è¾ä¸å¬é¥ç±»ä¼¼ï¼æ¬è´¨æ¯ä¸ç»æ©å±çRLWEå¤é¡¹å¼å¯¹ã</p>
<h2>2.3 å å¯</h2>
<p>å°ææå¤é¡¹å¼è½¬ä¸ºå¯æå¤é¡¹å¼ï¼BFVçå¯ææ¯R<sub>q</sub>ä¸­ç2é¡¹å¤é¡¹å¼å¯¹ct = (c<sub>0</sub>(x), c<sub>1</sub>(x))ï¼å å¯è¿ç¨åä¸¤æ­¥ï¼</p>
<p>ï¼1ï¼ææç¼ç ï¼å°æ´æ°ææmç¼ç ä¸ºææå¤é¡¹å¼m(x)âR<sub>t</sub>ï¼</p>
<p>ï¼2ï¼æ·»å åªå£°ä¸æ··æ·ï¼</p>
<p>éæºçæä¸¤ä¸ªå°åªå£°å¤é¡¹å¼e<sub>0</sub>(x),e<sub>1</sub>(x)âR<sub>q</sub>ï¼éæºçæä¸ä¸ªâæ©ç å¤é¡¹å¼âu(x)âR<sub>q</sub>ï¼ç³»æ°ä¸º0/1ï¼ï¼è®¡ç®å¯æï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/465567/202601/465567-20260122101343624-1971179879.png" alt="image" width="506" height="72" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<p>æ ¸å¿è®¾è®¡ï¼å¯æä¸­åå«ææä¿¡æ¯m(x)ï¼ä½è¢«åªå£°e<sub>0</sub>/e<sub>1</sub>åæ©ç u(x)æ··æ·ï¼åªæç§é¥è½å»é¤æ··æ·ååªå£°ãè¯¥æ­¥éª¤ä¸­çæ©ç å¤é¡¹å¼u(x)ååªå£°å¤é¡¹å¼e<sub>0</sub>(x),e<sub>1</sub>(x)æ¯ä¸¤å¥ç¬ç«çå®å¨æºå¶ï¼å®ä»¬è§£å³çæ¯å®å¨ä¸åçé®é¢ï¼ä¸è½äºç¸æ¿ä»£ï¼å¦ä¸å¾ï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/465567/202601/465567-20260122145538684-995418377.png" alt="image" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<p>u(x)éè¿éæºç¼©æ¾å®ç°å¬é¥åææé´çéåºå®çº¿æ§å³ç³»ï¼åªå£°éè¿âè¿ä¼¼âè¿ä¸æ­¥æç ´å®ä»¬ä¹é´ç²¾ç¡®çä»£æ°å³ç³»ï¼ä½¿å¾æ»å»èæ æ³ä»è¿ä¼¼å¼ä¸­è¿åç²¾ç¡®ææã</p>
<h2>2.4 åæè¿ç®</h2>
<p>è¿æ­¥çæ ¸å¿æ¯ï¼å¯æè¿ç®=å¤é¡¹å¼ç¯è¿ç®ï¼BFVæ¯æç§å¯&amp;å¯æï¼Ct&amp;Ctï¼åå¯æ&amp;ææï¼Ct&amp;Ptï¼çå åä¹è¿ç®ï¼ææè¿ç®é½å¨å¤é¡¹å¼ç¯R<sub>q</sub>ä¸­è¿è¡ï¼ä¸æ éå¯é¥ã</p>
<p><img src="https://img2024.cnblogs.com/blog/465567/202601/465567-20260122102234951-828568152.png" alt="image" width="925" height="252" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<p>è¿ç®åçå¯æä»ç¶æ¯åæ³çRLWEå¯æï¼å¯ç»§ç»­åä¸åç»­è¿ç®ââè¿å°±æ¯ãåææ§ãçä½ç°ã</p>
<h2>2.5 è§£å¯</h2>
<p>è§£å¯æ¯å å¯çéè¿ç®ï¼æ ¸å¿æ¯å»é¤åªå£°ãè¿åææå¤é¡¹å¼ï¼æ­¥éª¤å¦ä¸ï¼</p>
<p>ï¼1ï¼å¯æèå</p>
<p>ç¨ç§é¥s(x)è®¡ç®èåå¤é¡¹å¼ï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/465567/202601/465567-20260122102616840-333286614.png" alt="image" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<p>ä»£å¥å å¯å¬å¼å¯æ¨å¯¼ï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/465567/202601/465567-20260122102653366-486423113.png" alt="image" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<p>ï¼2ï¼åªå£°å»é¤</p>
<p>ç±äºæ»åªå£°e<sub>total</sub>&lt;q/(2t)ï¼å¯éè¿âèå¥+æ¨¡è¿ç®âè¿åææï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/465567/202601/465567-20260122102808245-1880527419.png" alt="image" loading="lazy" style="display: block; margin-left: auto; margin-right: auto">ï¼3ï¼ææè§£ç </p>
<p>å°è§£å¯åçå¤é¡¹å¼m(x)è½¬æ¢åæ´æ°ï¼åæ´æ°åå¸¸æ°é¡¹ï¼æ¹éå å¯åææç³»æ°ï¼ã</p>
<p>è§£å¯æåæ¡ä»¶ï¼æ»åªå£°e<sub>total</sub>&lt;q/(2t)ï¼è¥è¿ç®æ¬¡æ°è¿å¤å¯¼è´åªå£°çç¸ï¼èå¥åæ æ³è¿åææï¼åä¼è§£å¯å¤±è´¥ââè¿æ¯BFVâå±æ¬¡æ§âçæ¬è´¨ï¼è¿ç®æ·±åº¦æéã</p>
<h2>2.6 pythonç¤ºä¾</h2>
<p>ä»¥ä¸æ¯ä¸ä¸ªå®æ´çpythonç¤ºä¾ç¨åºï¼</p>
<div class="cnblogs_code"><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" id="code_img_closed_09b97ffc-eef3-46ba-bb50-d1e4cf620627" class="code_img_closed"><img src="https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" id="code_img_opened_09b97ffc-eef3-46ba-bb50-d1e4cf620627" class="code_img_opened" style="display: none">
<div id="cnblogs_code_open_09b97ffc-eef3-46ba-bb50-d1e4cf620627" class="cnblogs_code_hide">
<pre><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> numpy as np
</span><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> random

</span><span style="color: rgba(0, 0, 255, 1)">class</span><span style="color: rgba(0, 0, 0, 1)"> PolynomialRing:
    </span><span style="color: rgba(0, 0, 255, 1)">def</span> <span style="color: rgba(128, 0, 128, 1)">__init__</span><span style="color: rgba(0, 0, 0, 1)">(self, n, modulus):
        self.n </span>=<span style="color: rgba(0, 0, 0, 1)"> n
        self.modulus </span>=<span style="color: rgba(0, 0, 0, 1)"> modulus
        self.phi </span>= np.zeros(n + 1, dtype=<span style="color: rgba(0, 0, 0, 1)">int)
        self.phi[0] </span>= 1<span style="color: rgba(0, 0, 0, 1)">
        self.phi[n] </span>= 1

    <span style="color: rgba(0, 0, 255, 1)">def</span><span style="color: rgba(0, 0, 0, 1)"> poly_add(self, a, b):
        result </span>= np.zeros(self.n, dtype=<span style="color: rgba(0, 0, 0, 1)">int)
        </span><span style="color: rgba(0, 0, 255, 1)">for</span> i <span style="color: rgba(0, 0, 255, 1)">in</span><span style="color: rgba(0, 0, 0, 1)"> range(self.n):
            result[i] </span>= (a[i] + b[i]) %<span style="color: rgba(0, 0, 0, 1)"> self.modulus
        </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> result

    </span><span style="color: rgba(0, 0, 255, 1)">def</span><span style="color: rgba(0, 0, 0, 1)"> poly_mul(self, a, b):
        result </span>= np.zeros(2 * self.n - 1, dtype=<span style="color: rgba(0, 0, 0, 1)">int)
        </span><span style="color: rgba(0, 0, 255, 1)">for</span> i <span style="color: rgba(0, 0, 255, 1)">in</span><span style="color: rgba(0, 0, 0, 1)"> range(self.n):
            </span><span style="color: rgba(0, 0, 255, 1)">for</span> j <span style="color: rgba(0, 0, 255, 1)">in</span><span style="color: rgba(0, 0, 0, 1)"> range(self.n):
                result[i </span>+ j] = (result[i + j] + a[i] * b[j]) %<span style="color: rgba(0, 0, 0, 1)"> self.modulus
        </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> self.poly_mod(result)

    </span><span style="color: rgba(0, 0, 255, 1)">def</span><span style="color: rgba(0, 0, 0, 1)"> poly_mod(self, poly):
        result </span>=<span style="color: rgba(0, 0, 0, 1)"> poly.copy()
        </span><span style="color: rgba(0, 0, 255, 1)">for</span> i <span style="color: rgba(0, 0, 255, 1)">in</span> range(len(result) - 1, self.n - 1, -1<span style="color: rgba(0, 0, 0, 1)">):
            </span><span style="color: rgba(0, 0, 255, 1)">if</span> result[i] !=<span style="color: rgba(0, 0, 0, 1)"> 0:
                coeff </span>=<span style="color: rgba(0, 0, 0, 1)"> result[i]
                result[i] </span>=<span style="color: rgba(0, 0, 0, 1)"> 0
                idx </span>= i -<span style="color: rgba(0, 0, 0, 1)"> self.n
                </span><span style="color: rgba(0, 0, 255, 1)">if</span> idx &lt;<span style="color: rgba(0, 0, 0, 1)"> len(result):
                    result[idx] </span>= (result[idx] - coeff) %<span style="color: rgba(0, 0, 0, 1)"> self.modulus
        result </span>=<span style="color: rgba(0, 0, 0, 1)"> result[:self.n]
        </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> result

    </span><span style="color: rgba(0, 0, 255, 1)">def</span><span style="color: rgba(0, 0, 0, 1)"> poly_sub(self, a, b):
        result </span>= np.zeros(self.n, dtype=<span style="color: rgba(0, 0, 0, 1)">int)
        </span><span style="color: rgba(0, 0, 255, 1)">for</span> i <span style="color: rgba(0, 0, 255, 1)">in</span><span style="color: rgba(0, 0, 0, 1)"> range(self.n):
            result[i] </span>= (a[i] - b[i]) %<span style="color: rgba(0, 0, 0, 1)"> self.modulus
        </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> result

    </span><span style="color: rgba(0, 0, 255, 1)">def</span><span style="color: rgba(0, 0, 0, 1)"> poly_scale(self, a, scalar):
        result </span>= np.zeros(self.n, dtype=<span style="color: rgba(0, 0, 0, 1)">int)
        </span><span style="color: rgba(0, 0, 255, 1)">for</span> i <span style="color: rgba(0, 0, 255, 1)">in</span><span style="color: rgba(0, 0, 0, 1)"> range(self.n):
            result[i] </span>= (a[i] * scalar) %<span style="color: rgba(0, 0, 0, 1)"> self.modulus
        </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> result

    </span><span style="color: rgba(0, 0, 255, 1)">def</span><span style="color: rgba(0, 0, 0, 1)"> random_poly(self):
        </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> np.random.randint(0, self.modulus, self.n)

    </span><span style="color: rgba(0, 0, 255, 1)">def</span><span style="color: rgba(0, 0, 0, 1)"> binary_poly(self):
        </span><span style="color: rgba(0, 0, 255, 1)">return</span> np.random.randint(0, 2<span style="color: rgba(0, 0, 0, 1)">, self.n)

    </span><span style="color: rgba(0, 0, 255, 1)">def</span> small_poly(self, bound=3<span style="color: rgba(0, 0, 0, 1)">):
        </span><span style="color: rgba(0, 0, 255, 1)">return</span> np.random.randint(-bound, bound + 1<span style="color: rgba(0, 0, 0, 1)">, self.n)

</span><span style="color: rgba(0, 0, 255, 1)">class</span><span style="color: rgba(0, 0, 0, 1)"> BFV:
    </span><span style="color: rgba(0, 0, 255, 1)">def</span> <span style="color: rgba(128, 0, 128, 1)">__init__</span>(self, n=256, q=1048576, t=256<span style="color: rgba(0, 0, 0, 1)">):
        self.n </span>=<span style="color: rgba(0, 0, 0, 1)"> n
        self.q </span>=<span style="color: rgba(0, 0, 0, 1)"> q
        self.t </span>=<span style="color: rgba(0, 0, 0, 1)"> t
        self.ring </span>=<span style="color: rgba(0, 0, 0, 1)"> PolynomialRing(n, q)
        self.plaintext_ring </span>=<span style="color: rgba(0, 0, 0, 1)"> PolynomialRing(n, t)
        self.delta </span>= q //<span style="color: rgba(0, 0, 0, 1)"> t

    </span><span style="color: rgba(0, 0, 255, 1)">def</span><span style="color: rgba(0, 0, 0, 1)"> keygen(self):
        </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> äº§çå¯é¥</span>
        s =<span style="color: rgba(0, 0, 0, 1)"> self.ring.binary_poly()
        </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> ææå¤é¡¹å¼</span>
        a =<span style="color: rgba(0, 0, 0, 1)"> self.ring.random_poly()
        </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> éæºå¤é¡¹å¼</span>
        e =<span style="color: rgba(0, 0, 0, 1)"> self.ring.small_poly()
        a_s </span>=<span style="color: rgba(0, 0, 0, 1)"> self.ring.poly_mul(a, s)
        </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> ååºå¤é¡¹å¼</span>
        pk0 =<span style="color: rgba(0, 0, 0, 1)"> self.ring.poly_sub(e, a_s)
        </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> å¬é¥</span>
        pk =<span style="color: rgba(0, 0, 0, 1)"> [pk0, a]
        sk </span>=<span style="color: rgba(0, 0, 0, 1)"> s
        </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> pk, sk

    </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> ç¼ç ææ</span>
    <span style="color: rgba(0, 0, 255, 1)">def</span><span style="color: rgba(0, 0, 0, 1)"> encode(self, message):
        </span><span style="color: rgba(0, 0, 255, 1)">if</span><span style="color: rgba(0, 0, 0, 1)"> isinstance(message, int):
            </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> åæ´æ°ç¼ç </span>
            m = np.zeros(self.n, dtype=<span style="color: rgba(0, 0, 0, 1)">int)
            m[0] </span>= message %<span style="color: rgba(0, 0, 0, 1)"> self.t
        </span><span style="color: rgba(0, 0, 255, 1)">else</span><span style="color: rgba(0, 0, 0, 1)">:
            </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> æ¹éç¼ç </span>
            m = np.array(message, dtype=int) %<span style="color: rgba(0, 0, 0, 1)"> self.t
        </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> m

    </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> ä½¿ç¨å¬é¥å å¯</span>
    <span style="color: rgba(0, 0, 255, 1)">def</span><span style="color: rgba(0, 0, 0, 1)"> encrypt(self, pk, message):
        </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> å¯¹ææè¿è¡ç¼ç </span>
        m =<span style="color: rgba(0, 0, 0, 1)"> self.encode(message)
        </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> å¯¹ææç¼ç ç»æè¿è¡æ¾å¤§</span>
        m_scaled =<span style="color: rgba(0, 0, 0, 1)"> self.ring.poly_scale(m, self.delta)
        </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)">print("m_scaled: {}".format(m_scaled))</span>
        
        <span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> çææ©ç å¤é¡¹å¼</span>
        u =<span style="color: rgba(0, 0, 0, 1)"> self.ring.binary_poly()
        </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> äº§çä¸¤ä¸ªå°åªå£°å¤é¡¹å¼</span>
        e1 =<span style="color: rgba(0, 0, 0, 1)"> self.ring.small_poly()
        e2 </span>=<span style="color: rgba(0, 0, 0, 1)"> self.ring.small_poly()
        
        pk0_u </span>=<span style="color: rgba(0, 0, 0, 1)"> self.ring.poly_mul(pk[0], u)
        pk1_u </span>= self.ring.poly_mul(pk[1<span style="color: rgba(0, 0, 0, 1)">], u)
        
        </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> çæå¯æc0</span>
        c0 =<span style="color: rgba(0, 0, 0, 1)"> self.ring.poly_add(pk0_u, e1)
        c0 </span>=<span style="color: rgba(0, 0, 0, 1)"> self.ring.poly_add(c0, m_scaled)
        </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> çæå¯æc1</span>
        c1 =<span style="color: rgba(0, 0, 0, 1)"> self.ring.poly_add(pk1_u, e2)
        
        </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> è¿åå¯æ</span>
        <span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> [c0, c1]

    </span><span style="color: rgba(0, 0, 255, 1)">def</span><span style="color: rgba(0, 0, 0, 1)"> decrypt(self, sk, ciphertext):
        c0, c1 </span>=<span style="color: rgba(0, 0, 0, 1)"> ciphertext
        s_c1 </span>=<span style="color: rgba(0, 0, 0, 1)"> self.ring.poly_mul(sk, c1)
        decrypted </span>=<span style="color: rgba(0, 0, 0, 1)"> self.ring.poly_add(c0, s_c1)
        
        result </span>= np.zeros(self.n, dtype=<span style="color: rgba(0, 0, 0, 1)">int)
        </span><span style="color: rgba(0, 0, 255, 1)">for</span> i <span style="color: rgba(0, 0, 255, 1)">in</span><span style="color: rgba(0, 0, 0, 1)"> range(self.n):
            result[i] </span>= round(decrypted[i] * self.t / self.q) %<span style="color: rgba(0, 0, 0, 1)"> self.t
        
        </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> result

    </span><span style="color: rgba(0, 0, 255, 1)">def</span><span style="color: rgba(0, 0, 0, 1)"> add(self, c1, c2):
        c0 </span>=<span style="color: rgba(0, 0, 0, 1)"> self.ring.poly_add(c1[0], c2[0])
        c1 </span>= self.ring.poly_add(c1[1], c2[1<span style="color: rgba(0, 0, 0, 1)">])
        </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> [c0, c1]

</span><span style="color: rgba(0, 0, 255, 1)">def</span><span style="color: rgba(0, 0, 0, 1)"> main():
    </span><span style="color: rgba(0, 0, 255, 1)">print</span>(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">=== BFV åæå å¯æ¹æ¡æ¼ç¤º ===\n</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
    
    bfv </span>= BFV(n=256, q=1048576, t=256<span style="color: rgba(0, 0, 0, 1)">)
    
    </span><span style="color: rgba(0, 0, 255, 1)">print</span>(f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">åæ°è®¾ç½®:</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
    </span><span style="color: rgba(0, 0, 255, 1)">print</span>(f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">  å¤é¡¹å¼æ¬¡æ° n = {bfv.n}</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
    </span><span style="color: rgba(0, 0, 255, 1)">print</span>(f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">  å¯ææ¨¡æ° q = {bfv.q}</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
    </span><span style="color: rgba(0, 0, 255, 1)">print</span>(f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">  æææ¨¡æ° t = {bfv.t}</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
    </span><span style="color: rgba(0, 0, 255, 1)">print</span>(f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">  ç¼©æ¾å å­ Î = {bfv.delta}\n</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
    
    pk, sk </span>=<span style="color: rgba(0, 0, 0, 1)"> bfv.keygen()
    </span><span style="color: rgba(0, 0, 255, 1)">print</span>(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">å¯é¥çæå®æ</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
    </span><span style="color: rgba(0, 0, 255, 1)">print</span>(f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ç§é¥ s å5ä¸ªç³»æ°: {sk[:5]}...\n</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
    </span><span style="color: rgba(0, 0, 255, 1)">print</span><span style="color: rgba(0, 0, 0, 1)">(sk)
    
    m1 </span>= 42<span style="color: rgba(0, 0, 0, 1)">
    m2 </span>= 17
    <span style="color: rgba(0, 0, 255, 1)">print</span>(f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ææ m1 = {m1}</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
    </span><span style="color: rgba(0, 0, 255, 1)">print</span>(f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ææ m2 = {m2}\n</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
    
    c1 </span>=<span style="color: rgba(0, 0, 0, 1)"> bfv.encrypt(pk, m1)
    c2 </span>=<span style="color: rgba(0, 0, 0, 1)"> bfv.encrypt(pk, m2)
    </span><span style="color: rgba(0, 0, 255, 1)">print</span>(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">å å¯å®æ</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
    </span><span style="color: rgba(0, 0, 255, 1)">print</span>(f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">å¯æ c1[0] å5ä¸ªç³»æ°: {c1[0][:5]}...</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
    </span><span style="color: rgba(0, 0, 255, 1)">print</span>(f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">å¯æ c1[1] å5ä¸ªç³»æ°: {c1[1][:5]}...\n</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
    </span><span style="color: rgba(0, 0, 255, 1)">print</span>(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">å¯æc1 {}</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">.format(c1))
    
    d1 </span>=<span style="color: rgba(0, 0, 0, 1)"> bfv.decrypt(sk, c1)
    d2 </span>=<span style="color: rgba(0, 0, 0, 1)"> bfv.decrypt(sk, c2)
    </span><span style="color: rgba(0, 0, 255, 1)">print</span>(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">è§£å¯å®æ</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
    </span><span style="color: rgba(0, 0, 255, 1)">print</span>(f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">è§£å¯ç»æ d1 = {d1[0]}</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
    </span><span style="color: rgba(0, 0, 255, 1)">print</span>(f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">è§£å¯ç»æ d2 = {d2[0]}\n</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
    
    </span><span style="color: rgba(0, 0, 255, 1)">print</span>(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">=== åæå æ³æ¼ç¤º ===</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
    c_sum </span>=<span style="color: rgba(0, 0, 0, 1)"> bfv.add(c1, c2)
    d_sum </span>=<span style="color: rgba(0, 0, 0, 1)"> bfv.decrypt(sk, c_sum)
    expected_sum </span>= (m1 + m2) %<span style="color: rgba(0, 0, 0, 1)"> bfv.t
    </span><span style="color: rgba(0, 0, 255, 1)">print</span>(f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">å¯æåæå æ³: c1 + c2</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
    </span><span style="color: rgba(0, 0, 255, 1)">print</span>(f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">è§£å¯ç»æ: {d_sum[0]}</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
    </span><span style="color: rgba(0, 0, 255, 1)">print</span>(f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ææç»æ: {expected_sum}</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
    </span><span style="color: rgba(0, 0, 255, 1)">print</span>(f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">éªè¯: {'æå' if d_sum[0] == expected_sum else 'å¤±è´¥'}\n</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
    
    </span><span style="color: rgba(0, 0, 255, 1)">print</span>(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">=== å¤é¡¹å¼æææ¼ç¤º ===</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
    m_poly </span>= np.array([1, 2, 3, 4, 5] + [0] * 251, dtype=<span style="color: rgba(0, 0, 0, 1)">int)
    c_poly </span>=<span style="color: rgba(0, 0, 0, 1)"> bfv.encrypt(pk, m_poly)
    d_poly </span>=<span style="color: rgba(0, 0, 0, 1)"> bfv.decrypt(sk, c_poly)
    </span><span style="color: rgba(0, 0, 255, 1)">print</span>(f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">å¤é¡¹å¼ææå5ä¸ªç³»æ°: {m_poly[:5]}</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
    </span><span style="color: rgba(0, 0, 255, 1)">print</span>(f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">è§£å¯ç»æå5ä¸ªç³»æ°: {d_poly[:5]}</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
    </span><span style="color: rgba(0, 0, 255, 1)">print</span>(f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">éªè¯: {'æå' if np.array_equal(d_poly[:5], m_poly[:5]) else 'å¤±è´¥'}</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)

</span><span style="color: rgba(0, 0, 255, 1)">if</span> <span style="color: rgba(128, 0, 128, 1)">__name__</span> == <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">__main__</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">:
    main()</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<h1>3 SEALä½¿ç¨</h1>
<h2>3.1 æºç ç¼è¯</h2>
<p>è¿éä»ç®åä»ç»ä¸Windowsä¸ä½¿ç¨VS2022ç¯å¢è¿è¡ç¼è¯ï¼ä¸è½½æºç å¹¶å®è£cmakeï¼è¿è¡VS2022å®è£èåä¸çâDeveloper Command Prompt for VS 2022âå½ä»¤è¡ï¼æ§è¡å½ä»¤è¿è¡éç½®ï¼</p>
<div class="cnblogs_code">
<pre>cmake -S . -B build -G <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">Visual Studio 17 2022</span><span style="color: rgba(128, 0, 0, 1)">"</span> -A x64 -DCMAKE_INSTALL_PREFIX=./<span style="color: rgba(0, 0, 255, 1)">out</span></pre>
</div>
<p>è¿éç¼è¯çæ¯64ä½çæ¬ï¼å¹¶å°å®è£ç®å½è®¾ç½®ä¸ºå½åç®å½ä¸çoutæä»¶å¤¹ï¼éç½®å®æååæ§è¡ä»¥ä¸å½ä»¤è¿è¡ç¼è¯</p>
<div class="cnblogs_code">
<pre>cmake --build build --<span style="color: rgba(0, 0, 0, 1)">config Release    #ç¼è¯Releaseçæ¬
cmake </span>--build build --config Debug      #ç¼è¯Debugçæ¬</pre>
</div>
<p>ç¼è¯å®æåä¼çæseal-4.1.libåºæä»¶ï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/465567/202601/465567-20260122113702648-1311816022.png" alt="image" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<p>ç¶åæ§è¡ä»¥ä¸å½ä»¤è¿è¡å®è£ï¼</p>
<div class="cnblogs_code">
<pre>cmake --install build</pre>
</div>
<p>outä¸includeä¸­æ¯å¤´æä»¶ï¼libä¸­æ¯éæåºæä»¶ï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/465567/202601/465567-20260122114032047-1402497300.png" alt="image" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<h2>3.2 ç¤ºä¾ç¨åº</h2>
<p>ä½¿ç¨VS2022åå»ºç©ºé¡¹ç®ï¼å¹¶æ·»å demo.cppæä»¶ï¼åå®¹å¦ä¸ï¼</p>
<div class="cnblogs_code"><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" id="code_img_closed_1771d7b9-7319-4893-9ce5-5347e3e25b4a" class="code_img_closed"><img src="https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" id="code_img_opened_1771d7b9-7319-4893-9ce5-5347e3e25b4a" class="code_img_opened" style="display: none">
<div id="cnblogs_code_open_1771d7b9-7319-4893-9ce5-5347e3e25b4a" class="cnblogs_code_hide">
<pre><span style="color: rgba(0, 128, 128, 1)"> 1</span> #include &lt;iostream&gt;
<span style="color: rgba(0, 128, 128, 1)"> 2</span> #include &lt;SEAL/SEAL.h&gt;
<span style="color: rgba(0, 128, 128, 1)"> 3</span> 
<span style="color: rgba(0, 128, 128, 1)"> 4</span> <span style="color: rgba(0, 0, 255, 1)">using</span> <span style="color: rgba(0, 0, 255, 1)">namespace</span><span style="color: rgba(0, 0, 0, 1)"> std;
</span><span style="color: rgba(0, 128, 128, 1)"> 5</span> <span style="color: rgba(0, 0, 255, 1)">using</span> <span style="color: rgba(0, 0, 255, 1)">namespace</span><span style="color: rgba(0, 0, 0, 1)"> seal;
</span><span style="color: rgba(0, 128, 128, 1)"> 6</span> 
<span style="color: rgba(0, 128, 128, 1)"> 7</span> <span style="color: rgba(0, 0, 255, 1)">int</span><span style="color: rgba(0, 0, 0, 1)"> main() {
</span><span style="color: rgba(0, 128, 128, 1)"> 8</span>     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æ­¥éª¤ 1ï¼éç½®å å¯åæ°ï¼BFV æ¹æ¡ï¼</span>
<span style="color: rgba(0, 128, 128, 1)"> 9</span> <span style="color: rgba(0, 0, 0, 1)">    EncryptionParameters parms(scheme_type::bfv);
</span><span style="color: rgba(0, 128, 128, 1)">10</span>     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> å¤é¡¹å¼æ¨¡æ°ï¼4096ï¼2çå¹æ¬¡ï¼</span>
<span style="color: rgba(0, 128, 128, 1)">11</span>     size_t poly_modulus_degree = <span style="color: rgba(128, 0, 128, 1)">4096</span><span style="color: rgba(0, 0, 0, 1)">;
</span><span style="color: rgba(0, 128, 128, 1)">12</span> <span style="color: rgba(0, 0, 0, 1)">    parms.set_poly_modulus_degree(poly_modulus_degree);
</span><span style="color: rgba(0, 128, 128, 1)">13</span>     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æææ¨¡æ°ï¼æ¯ææ¹éè¿ç®ï¼åå¼èå´ 2^20</span>
<span style="color: rgba(0, 128, 128, 1)">14</span>     parms.set_plain_modulus(PlainModulus::Batching(poly_modulus_degree, <span style="color: rgba(128, 0, 128, 1)">20</span><span style="color: rgba(0, 0, 0, 1)">));
</span><span style="color: rgba(0, 128, 128, 1)">15</span>     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> ç³»æ°æ¨¡æ°ï¼ä½¿ç¨ BFV é»è®¤åæ°</span>
<span style="color: rgba(0, 128, 128, 1)">16</span> <span style="color: rgba(0, 0, 0, 1)">    parms.set_coeff_modulus(CoeffModulus::BFVDefault(poly_modulus_degree));
</span><span style="color: rgba(0, 128, 128, 1)">17</span> 
<span style="color: rgba(0, 128, 128, 1)">18</span>     cout &lt;&lt; <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">æææ¨¡æ° t = </span><span style="color: rgba(128, 0, 0, 1)">"</span> &lt;&lt; parms.plain_modulus().value() &lt;&lt;<span style="color: rgba(0, 0, 0, 1)"> endl;
</span><span style="color: rgba(0, 128, 128, 1)">19</span>     cout &lt;&lt; <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">æææ¨¡æ° t æ¯ç¹æ° = </span><span style="color: rgba(128, 0, 0, 1)">"</span> &lt;&lt; parms.plain_modulus().bit_count() &lt;&lt;<span style="color: rgba(0, 0, 0, 1)"> endl;
</span><span style="color: rgba(0, 128, 128, 1)">20</span>     cout &lt;&lt; <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">t mod 2N = </span><span style="color: rgba(128, 0, 0, 1)">"</span> &lt;&lt; (parms.plain_modulus().value() % (<span style="color: rgba(128, 0, 128, 1)">2</span> * poly_modulus_degree)) &lt;&lt;<span style="color: rgba(0, 0, 0, 1)"> endl;
</span><span style="color: rgba(0, 128, 128, 1)">21</span> 
<span style="color: rgba(0, 128, 128, 1)">22</span>     vector&lt;Modulus&gt; coeff_mods =<span style="color: rgba(0, 0, 0, 1)"> CoeffModulus::BFVDefault(poly_modulus_degree);
</span><span style="color: rgba(0, 128, 128, 1)">23</span> 
<span style="color: rgba(0, 128, 128, 1)">24</span>     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 3. ç³»æ°æ¨¡æ° qï¼å¤ç´ æ°ä¹ç§¯ï¼</span>
<span style="color: rgba(0, 128, 128, 1)">25</span>     cout &lt;&lt; <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">\nç³»æ°æ¨¡æ° q çææï¼ç´ æ°åè¡¨ï¼ï¼</span><span style="color: rgba(128, 0, 0, 1)">"</span> &lt;&lt;<span style="color: rgba(0, 0, 0, 1)"> endl;
</span><span style="color: rgba(0, 128, 128, 1)">26</span>     <span style="color: rgba(0, 0, 255, 1)">int</span> total_bits = <span style="color: rgba(128, 0, 128, 1)">0</span><span style="color: rgba(0, 0, 0, 1)">;
</span><span style="color: rgba(0, 128, 128, 1)">27</span>     <span style="color: rgba(0, 0, 255, 1)">for</span> (size_t i = <span style="color: rgba(128, 0, 128, 1)">0</span>; i &lt; coeff_mods.size(); i++<span style="color: rgba(0, 0, 0, 1)">) {
</span><span style="color: rgba(0, 128, 128, 1)">28</span>         cout &lt;&lt; <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ç¬¬</span><span style="color: rgba(128, 0, 0, 1)">"</span> &lt;&lt; i + <span style="color: rgba(128, 0, 128, 1)">1</span> &lt;&lt; <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ä¸ªç´ æ°ï¼</span><span style="color: rgba(128, 0, 0, 1)">"</span> &lt;&lt;<span style="color: rgba(0, 0, 0, 1)"> coeff_mods[i].value()
</span><span style="color: rgba(0, 128, 128, 1)">29</span>             &lt;&lt; <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ï¼æ¯ç¹æ°ï¼</span><span style="color: rgba(128, 0, 0, 1)">"</span> &lt;&lt; coeff_mods[i].bit_count() &lt;&lt; <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ï¼</span><span style="color: rgba(128, 0, 0, 1)">"</span> &lt;&lt;<span style="color: rgba(0, 0, 0, 1)"> endl;
</span><span style="color: rgba(0, 128, 128, 1)">30</span>         total_bits +=<span style="color: rgba(0, 0, 0, 1)"> coeff_mods[i].bit_count();
</span><span style="color: rgba(0, 128, 128, 1)">31</span> <span style="color: rgba(0, 0, 0, 1)">    }
</span><span style="color: rgba(0, 128, 128, 1)">32</span>     cout &lt;&lt; <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ç³»æ°æ¨¡æ°æ»æ¯ç¹æ° = </span><span style="color: rgba(128, 0, 0, 1)">"</span> &lt;&lt; total_bits &lt;&lt;<span style="color: rgba(0, 0, 0, 1)"> endl;
</span><span style="color: rgba(0, 128, 128, 1)">33</span> 
<span style="color: rgba(0, 128, 128, 1)">34</span>     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æ­¥éª¤ 2ï¼åå»ºå å¯ä¸ä¸æï¼éªè¯åæ°åæ³æ§</span>
<span style="color: rgba(0, 128, 128, 1)">35</span> <span style="color: rgba(0, 0, 0, 1)">    SEALContext context(parms);
</span><span style="color: rgba(0, 128, 128, 1)">36</span>     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æå°ä¸ä¸æä¿¡æ¯ï¼å¯éï¼æ¥çåæ°éç½®ï¼</span>
<span style="color: rgba(0, 128, 128, 1)">37</span>     cout &lt;&lt; <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">Context created successfully, scheme type: BFV</span><span style="color: rgba(128, 0, 0, 1)">"</span> &lt;&lt;<span style="color: rgba(0, 0, 0, 1)"> endl;
</span><span style="color: rgba(0, 128, 128, 1)">38</span> 
<span style="color: rgba(0, 128, 128, 1)">39</span>     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æ­¥éª¤ 3ï¼çæå¯é¥ï¼éé SEAL 4.1 APIï¼æ ¸å¿ä¿®æ¹é¨åï¼</span>
<span style="color: rgba(0, 128, 128, 1)">40</span> <span style="color: rgba(0, 0, 0, 1)">    KeyGenerator keygen(context);
</span><span style="color: rgba(0, 128, 128, 1)">41</span>     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 4.1 çæ¬ï¼éè¿ create_public_key() çæå¬é¥ï¼æ¿ä»£å public_key()ï¼</span>
<span style="color: rgba(0, 128, 128, 1)">42</span> <span style="color: rgba(0, 0, 0, 1)">    PublicKey public_key;
</span><span style="color: rgba(0, 128, 128, 1)">43</span> <span style="color: rgba(0, 0, 0, 1)">    keygen.create_public_key(public_key);
</span><span style="color: rgba(0, 128, 128, 1)">44</span>     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 4.1 çæ¬ï¼ç´æ¥éè¿æåå½æ°è·åç§é¥ï¼è¯¥æ¥å£æªåæ´ï¼</span>
<span style="color: rgba(0, 128, 128, 1)">45</span>     SecretKey secret_key =<span style="color: rgba(0, 0, 0, 1)"> keygen.secret_key();
</span><span style="color: rgba(0, 128, 128, 1)">46</span>     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 4.1 çæ¬ï¼éè¿ create_relin_keys() çæè¯ä¼°å¯é¥ï¼æ¿ä»£å relin_keys()ï¼</span>
<span style="color: rgba(0, 128, 128, 1)">47</span> <span style="color: rgba(0, 0, 0, 1)">    RelinKeys relin_keys;
</span><span style="color: rgba(0, 128, 128, 1)">48</span> <span style="color: rgba(0, 0, 0, 1)">    keygen.create_relin_keys(relin_keys);
</span><span style="color: rgba(0, 128, 128, 1)">49</span> 
<span style="color: rgba(0, 128, 128, 1)">50</span>     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æ­¥éª¤ 4ï¼åå§åå å¯å¨ãè§£å¯å¨ãè¯ä¼°å¨</span>
<span style="color: rgba(0, 128, 128, 1)">51</span> <span style="color: rgba(0, 0, 0, 1)">    Encryptor encryptor(context, public_key);
</span><span style="color: rgba(0, 128, 128, 1)">52</span> <span style="color: rgba(0, 0, 0, 1)">    Decryptor decryptor(context, secret_key);
</span><span style="color: rgba(0, 128, 128, 1)">53</span> <span style="color: rgba(0, 0, 0, 1)">    Evaluator evaluator(context);
</span><span style="color: rgba(0, 128, 128, 1)">54</span> 
<span style="color: rgba(0, 128, 128, 1)">55</span>     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æ­¥éª¤ 5ï¼ææåå¤ï¼ä¸¤ä¸ªæ´æ°ï¼</span>
<span style="color: rgba(0, 128, 128, 1)">56</span>     Plaintext plain1(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">123</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
</span><span style="color: rgba(0, 128, 128, 1)">57</span>     Plaintext plain2(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">456</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
</span><span style="color: rgba(0, 128, 128, 1)">58</span>     cout &lt;&lt; <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">Original plaintext 1: </span><span style="color: rgba(128, 0, 0, 1)">"</span> &lt;&lt; plain1.to_string() &lt;&lt;<span style="color: rgba(0, 0, 0, 1)"> endl;
</span><span style="color: rgba(0, 128, 128, 1)">59</span>     cout &lt;&lt; <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">Original plaintext 2: </span><span style="color: rgba(128, 0, 0, 1)">"</span> &lt;&lt; plain2.to_string() &lt;&lt;<span style="color: rgba(0, 0, 0, 1)"> endl;
</span><span style="color: rgba(0, 128, 128, 1)">60</span> 
<span style="color: rgba(0, 128, 128, 1)">61</span>     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æ­¥éª¤ 6ï¼å å¯ææä¸ºå¯æ</span>
<span style="color: rgba(0, 128, 128, 1)">62</span> <span style="color: rgba(0, 0, 0, 1)">    Ciphertext cipher1, cipher2;
</span><span style="color: rgba(0, 128, 128, 1)">63</span> <span style="color: rgba(0, 0, 0, 1)">    encryptor.encrypt(plain1, cipher1);
</span><span style="color: rgba(0, 128, 128, 1)">64</span> <span style="color: rgba(0, 0, 0, 1)">    encryptor.encrypt(plain2, cipher2);
</span><span style="color: rgba(0, 128, 128, 1)">65</span>     cout &lt;&lt; <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">Plaintext encrypted to ciphertext successfully</span><span style="color: rgba(128, 0, 0, 1)">"</span> &lt;&lt;<span style="color: rgba(0, 0, 0, 1)"> endl;
</span><span style="color: rgba(0, 128, 128, 1)">66</span> 
<span style="color: rgba(0, 128, 128, 1)">67</span>     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æ­¥éª¤ 7ï¼å¯æåæè¿ç®ï¼å æ³ + ä¹æ³ï¼
</span><span style="color: rgba(0, 128, 128, 1)">68</span>     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> å¯æå æ³</span>
<span style="color: rgba(0, 128, 128, 1)">69</span> <span style="color: rgba(0, 0, 0, 1)">    Ciphertext cipher_add;
</span><span style="color: rgba(0, 128, 128, 1)">70</span> <span style="color: rgba(0, 0, 0, 1)">    evaluator.add(cipher1, cipher2, cipher_add);
</span><span style="color: rgba(0, 128, 128, 1)">71</span>     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> å¯æä¹æ³ + éçº¿æ§åï¼åå°å¯æå¤§å°ï¼</span>
<span style="color: rgba(0, 128, 128, 1)">72</span> <span style="color: rgba(0, 0, 0, 1)">    Ciphertext cipher_mult;
</span><span style="color: rgba(0, 128, 128, 1)">73</span> <span style="color: rgba(0, 0, 0, 1)">    evaluator.multiply(cipher1, cipher2, cipher_mult);
</span><span style="color: rgba(0, 128, 128, 1)">74</span> <span style="color: rgba(0, 0, 0, 1)">    evaluator.relinearize_inplace(cipher_mult, relin_keys);
</span><span style="color: rgba(0, 128, 128, 1)">75</span> 
<span style="color: rgba(0, 128, 128, 1)">76</span>     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æ­¥éª¤ 8ï¼è§£å¯å¯æï¼éªè¯ç»æ</span>
<span style="color: rgba(0, 128, 128, 1)">77</span> <span style="color: rgba(0, 0, 0, 1)">    Plaintext plain_add, plain_mult;
</span><span style="color: rgba(0, 128, 128, 1)">78</span> <span style="color: rgba(0, 0, 0, 1)">    decryptor.decrypt(cipher_add, plain_add);
</span><span style="color: rgba(0, 128, 128, 1)">79</span> <span style="color: rgba(0, 0, 0, 1)">    decryptor.decrypt(cipher_mult, plain_mult);
</span><span style="color: rgba(0, 128, 128, 1)">80</span>     cout &lt;&lt; <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">Ciphertext add result: </span><span style="color: rgba(128, 0, 0, 1)">"</span> &lt;&lt; plain_add.to_string() &lt;&lt;<span style="color: rgba(0, 0, 0, 1)"> endl;
</span><span style="color: rgba(0, 128, 128, 1)">81</span>     cout &lt;&lt; <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">Ciphertext multiply result: </span><span style="color: rgba(128, 0, 0, 1)">"</span> &lt;&lt; plain_mult.to_string() &lt;&lt;<span style="color: rgba(0, 0, 0, 1)"> endl;
</span><span style="color: rgba(0, 128, 128, 1)">82</span>     
<span style="color: rgba(0, 128, 128, 1)">83</span>     <span style="color: rgba(0, 0, 255, 1)">return</span> <span style="color: rgba(128, 0, 128, 1)">0</span><span style="color: rgba(0, 0, 0, 1)">;
</span><span style="color: rgba(0, 128, 128, 1)">84</span> }</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>å°ä¹é´äº§ççoutæä»¶å¤¹ä¸çincludeålibæ·è´å°é¡¹ç®æä»¶å¤¹ä¸ï¼éç½®é¡¹ç®çC/C++ç¼è¯åå«å¤´æä»¶è·¯å¾ï¼åºæä»¶è·¯å¾ä»¥åè¾å¥åºï¼å³å¯è¿è¡ç¼è¯ã</p>
<p><img src="https://img2024.cnblogs.com/blog/465567/202601/465567-20260122114406545-2054417852.png" alt="image" width="593" height="434" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<p>ç¼è¯å®æåè¿è¡ç¨åºï¼è¾åºå¦ä¸ï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/465567/202601/465567-20260122114732024-1409765149.png" alt="image" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<p>å¨è¯¥ç¤ºä¾ç¨åºä¸­ï¼å¤é¡¹å¼æ¨¡æ°Næ¯4096ï¼æææ¨¡æ°tæ¯1032193ï¼ä½å®½ä¸º20bitsï¼ç³»æ°æ¨¡æ°qæ¯3ä¸ªç´ æ°çä¹ç§¯68719403009*68719230977*137438822401=0x1ffff4400622fecd904df7f92001ï¼ä½å®½æ¯109bitsï¼ç¤ºä¾ä¸­æ¼ç¤ºäº0x123å0x456çå æ³åä¹æ³è¿è¡ï¼å¯è§å å¯è¿ç®åçè§£å¯ç»æåæªå å¯è¿ç®çç»æå®å¨ä¸è´ã</p>
<p>&nbsp;</p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.008333333333333333" data-date-updated="2026-01-22 16:02">2026-01-22 15:50</span>&nbsp;
<a href="https://www.cnblogs.com/zhaoweiwei">weiwei22844</a>&nbsp;
éè¯»(<span id="post_view_count">3</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19510487);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19510487', targetLink: 'https://www.cnblogs.com/zhaoweiwei/p/19510487/bfv', title: 'SEALå¨åæå å¯BFVæ¹æ¡å¥é¨è¯¦è§£' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ç»æåå¼ï¼ä¸ä¼å¤§æ¨¡åå æççæ³æ¸¸æï¼äººç±»èçç«ä¸è¶³10%ï¼ ]]></title>
    <link>https://www.cnblogs.com/greywen/p/19512202</link>
    <guid>3cc1d48c9fd49e79bc4a58faecc2125b</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/greywen/p/19512202" title="åå¸äº 2026-01-22 08:29">
    <span role="heading" aria-level="2">ç»æåå¼ï¼ä¸ä¼å¤§æ¨¡åå æççæ³æ¸¸æï¼äººç±»èçç«ä¸è¶³10%ï¼</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<h1>åºäº LLM + Next.js çåå¼å®æçæ³æ¸¸æ</h1>
<p><strong>æè¦</strong>ï¼å½ä½ ä»¥ä¸ºèªå·±å¨åéæºæ°çæå¨ç©æ¸¸ææ¶ï¼å¯¹é¢ç AI æ­£å¨éè¯»ä½ ææçåå²åºæ³è®°å½ï¼å¹¶åäºä¸ç¯å³äºä½ å¿çç¶æçå°ä½æãæ¬æå¸¦ä½ æè§£è¿ä¸ªåºäº Next.js 16 + Tailwind v4 + LLM çâè¿åº¦è®¾è®¡â+âæ²¡å¥ææ¯å«éâ+âæé£ä¹ç¹ææâé¡¹ç®ã</p>
<p>ð <strong>åç»èæ¿ä»¬ä½éª:ï¼å·ä½è§åææå°±è½ç©ï¼ï¼</strong></p>
<p>ä¼åå°åï¼<a href="https://rps.anhejin.cn" target="_blank" rel="noopener nofollow">https://rps.anhejin.cn</a></p>
<p>ææ¡ä»¶çï¼<a href="https://rps-eta-ten.vercel.app" target="_blank" rel="noopener nofollow">https://rps-eta-ten.vercel.app<br></a></p>
<p><img alt="image" width="752" height="423" loading="lazy" data-src="https://img2024.cnblogs.com/blog/809672/202601/809672-20260121154520537-280291882.png" class="lazyload"></p>
<hr>
<p>æè¿é²çæ²¡äºï¼çªç¶æ³è¿ç¨AIåç¹ä»£ç ãä½ä¸ºä¸åè¦æâç®åéæ±å¤æåâå»å¨ DNA éçèåç«¯ï¼æå³å®æ¿æç®åçâåªåç³å¤´å¸âå¼åã</p>
<p>å¨è¿ä¸ª AI æ»¡å¤©é£çæ¶ä»£ï¼è¿å¨ç¨ <code>Math.random()</code> åå¯¹æé»è¾æªåå¤ªæ²¡è¿½æ±äºãäºæ¯ï¼æåºäºææ°çææ¯æ ï¼Next.js 16 + React 19ï¼ï¼æ¥å¥äº OpenAIç­ä¸ä¼å¤§æ¨¡åï¼æåºäºä¸ä¸ªä¼âè¯»å¿âãä¼å²è®½ï¼çè³æåå¼è®ºççæ³æ¸¸æã</p>
<h2>ä¸ºä»ä¹æ¯åªåç³å¤´å¸ï¼</h2>
<p>å«ç¬ï¼åªåç³å¤´å¸å¶å®æ¯ä¸ä¸ªæä½³çåå¼è®ºæ¨¡åã</p>
<ul>
<li><strong>æ°æ</strong>ï¼å®å¨éæºï¼Chaosï¼ã</li>
<li><strong>æ®éäºº</strong>ï¼èµ¢äºä¿æï¼è¾äºåæï¼Win-Stay, Lose-Shiftï¼ã</li>
<li><strong>é«æ</strong>ï¼é¢å¤ä½ çé¢å¤ã</li>










</ul>
<p>æçç®æ æ¯ï¼<strong>æå»ºä¸ä¸ªè½çç©¿ä½ å¿çç AIï¼å¹¶ä¸ç¨ç®åæåæ²¿çåç«¯ææ¯æ æå®è·èµ·æ¥ã</strong></p>
<h2>ææ¯éåï¼è¿å°±å«âæé¸¡ç¨çåâ</h2>
<p>ä¸ºäºéå¾ä¸è¿ä¸ªâé«æºåâAIï¼æå¨ææ¯æ ä¸ç´æ¥ææ»¡ï¼å¨é¨éç¨äºç®åï¼2025-2026ï¼çææ°ç¨³å®çï¼</p>
<ol>
<li><strong>Next.js 16.1 (App Router)</strong>ï¼æå¡ç«¯ç»ä»¶ï¼RSCï¼å¤çæ ¸å¿é»è¾ï¼éè AI ç Promptï¼ä¿è¯ä½ æ²¡æ³éè¿ F12 å·çç­æ¡ã</li>
<li><strong>React 19</strong>ï¼äº«åææ°ç Hooks åå¹¶åç¹æ§ã</li>
<li><strong>Tailwind CSS v4</strong>ï¼å¯¹ï¼å°±æ¯é£ä¸ªä¸ç¨éç½®æå»ºå·¥å·ãæ§è½èµ·é£ç v4 çæ¬ãå³é®æ¯AIåæ¬¢ç¨è¿ä¸ª</li>
<li><strong>SQLite + LibSQL</strong>ï¼è½»éçº§æ°æ®åºï¼ç¨æ¥è®°ä»ââåä¸ï¼è®°å½ä½ çèè´æ°æ®ã</li>










</ol>
<h2>æ ¸å¿ç©æ³ï¼AI æ¯æä¹âè¯»å¿âçï¼</h2>
<p>è¿ä¸ªé¡¹ç®çæ ¸å¿ä¸å¨äº UI æå¤ç«ï¼è½ç¶ Tailwind 4 ç¡®å®å¾æ¶¦ï¼ï¼èå¨äº <code>/lib/ai-service.ts</code> éçé£æ®µé»è¾ã</p>
<p>ä¼ ç»çæ¸¸æ AI å¾å¾æ¯é¢è®¾å¥½ç <code>if-else</code>ãä½å¨æçè®¾è®¡éï¼æ¯ä¸è½®æ¸¸æï¼æé½ä¼æä½ å¨è¿ä¸ª Session éçææåå²è®°å½æåï¼åè®²æäºä¸æ ·åç» LLMï¼å¤§è¯­è¨æ¨¡åï¼ï¼</p>
<pre><code class="language-typescript">
// lib/ai-service.ts

// æå»ºæ¸¸æåå²æè¿°
const historyDescription = history.length &gt; 0
  ? history.map((h) =&gt;
      `ç¬¬${h.round}è½®: ç©å®¶åº${translateChoice(h.player_choice)}, 
       AIåº${translateChoice(h.ai_choice)}, 
       ç»æ: ${translateResult(h.result)}`
    ).join("\n")
  : "è¿æ¯ç¬¬ä¸è½®ï¼æ²¡æåå²è®°å½ã";

// ...åéç» LLM
const response = await client.chat.completions.create({
  messages: [
    { role: "system", content: systemPrompt },
    { role: "user", content: userPrompt }, // è¿éåå«äº historyDescription
  ],
  // ...
});
</code></pre>
<blockquote>
<p>System: ä½ æ¯ä¸ä¸ªçæ³é«æï¼ä½ çå¯¹ææ¯ä¸ä¸ªæ®éäººç±»ã<br>
User: åå è½®æåµå¦ä¸ï¼ç¬¬1è½®ç©å®¶åºåªåï¼ä½ åºå¸ï¼è¾ï¼ï¼ç¬¬2è½®ç©å®¶åºç³å¤´ï¼ä½ åºå¸ï¼èµ¢ï¼ãç°å¨æ¯ç¬¬3è½®ï¼è¯·åæç©å®¶çå¿çï¼å¹¶ç»åºä½ çåºæ³ã</p>












</blockquote>
<p><strong>ä¸ä»å¦æ­¤ï¼æç» AI è®¾å®äºä¸¤ç§æ¨¡å¼ï¼</strong></p>
<ol>
<li><strong>ç­ç¥æ¨¡å¼ï¼Strategyï¼</strong>ï¼éä½æ¨¡åç <code>temperature</code>ï¼éæºæ§ï¼ï¼è®©å®è¿è¡ä¸¥å¯çé»è¾æ¨çãæ¯å¦å®ä¼åæï¼âç©å®¶ä¸ä¸æè¾äºï¼æ ¹æ®å¿çå­¦ï¼è¿æä»å¤§æ¦çä¼åºåå¶æä¸ä¸æçææ°ï¼æä»¥æé¢å¤ä»â¦â¦â</li>
<li><strong>æ··æ²æ¨¡å¼ï¼Chaosï¼</strong>ï¼æé« <code>temperature</code>ï¼è®© AI å½»åºæ¾é£èªæï¼ä¸»æä¸ä¸ªä¹±æ³ææ­»èå¸åã</li>












</ol>
<h2>ä¼ééçº§ï¼å½ GPT èå¹²ç¼ºå¤±æ¶</h2>
<p>ä½ä¸ºèå¨æ ï¼å¿é¡»è¦èèä¸ç§æåµï¼<strong>å¦æ API æäºï¼æèååºè¶æ¶äºæä¹åï¼</strong></p>
<p>é¾éè®©ç¨æ·å¹²ç­çè½¬ååï¼ç»å¯¹ä¸è¡ã</p>
<p>æå¨åç«¯å®ç°äºä¸å¥åºäºä¼ ç»ç»è®¡å­¦ç<strong>æ¬å°ç®æ³</strong>ä½ä¸ºâå¤èâãå¦æ LLM å¨è§å®æ¶é´åæ²¡æååºï¼ç³»ç»ä¼æ ç¼åæ¢å°æ¬å°é»è¾ãè¿ä¸ªæ¬å°é»è¾ä¸ç¹ä¹ä¸å¼±ï¼å®åç½®äºç»å¸çç­ç¥åºï¼ä»£ç å¨ <code>lib/game.ts</code>ï¼ï¼</p>
<pre><code class="language-typescript">
// lib/game.ts éçå¿çå­¦åå¼é»è¾

// 1. å¦æç©å®¶ä¸è½®è¾äºï¼å¾åäºåºè½åå¶AIä¸ä¸æçéé¡¹ (Win-Stay, Lose-Shiftçåç§)
if (lastResult === 'ai_win') {
  const lastAIChoice = lastRound.ai_choice as Choice;
  // é¢æµç©å®¶ä¼åºåå¶æä¸ä¸ä¸æçç
  const predictedPlayerChoice = whatBeatsAI[lastAIChoice];
  // é£æå°±é¢å¤ä½ çé¢å¤
  return counterMoves[predictedPlayerChoice];
}

// 2. å¦æç©å®¶ä¸è½®èµ¢äºï¼å¯è½ç»§ç»­ç¨åä¸æ
if (lastResult === 'player_win') {
  // ç©å®¶å¯è½ç»§ç»­ç¨åä¸æï¼ç´æ¥åå¶å®
  return counterMoves[lastPlayerChoice];
}
</code></pre>
<p>è¿äºç­ç¥åæ¬ï¼</p>
<ul>
<li><strong>é¢çåæ</strong>ï¼å¦æä½ ä¸ç´åºç³å¤´ï¼å®å°±ä¼ç¯çåºå¸ã</li>
<li><strong>åå¶è¿è</strong>ï¼å¦æä½ èµ¢äºï¼å®ä¼åè®¾ä½ ä¼ç»§ç»­åºä¸æ ·çï¼ç´æ¥åå¶ä½ ã</li>
</ul>
<p>å¨ä»£ç å®ç°ä¸ï¼è¿åªæ¯ä¸ä¸ªç®åç <code>try-catch</code> éçº§ï¼ä½å¯¹ç¨æ·ä½éªæ¥è¯´æ¯è´¨çé£è·ãç¨æ·æ ¹æ¬æè§ä¸å° AI æçº¿äºï¼åªä¼æè§âè¿å®¶ä¼æä¹åé£æ ¼äºï¼â</p>
<h2>å¨æ ä½éªï¼Next.js App Router çä¸æ»</h2>
<p>å¨ Next.js 16 ä¸­ï¼ååç«¯çè¾¹çåå¾éå¸¸æ¨¡ç³ï¼è¤ä¹ï¼ãæ¬é¡¹ç®ä½¿ç¨äº App Router ç Route Handlers æ¥å¤çæ¸¸æé»è¾ã</p>
<p>åç«¯ç»ä»¶è°ç¨åç«¯æ¥å£å°±åè°ç¨æ¬å°å½æ°ä¸æ ·èªç¶ï¼</p>
<pre><code class="language-typescript">
// src/app/game/[id]/page.tsx
const playRound = useCallback(async (choice: Choice | null, timeout: boolean = false) =&gt; {
    // ...
    const res = await fetch('/api/game/play', {
        method: 'POST',
        body: JSON.stringify({ /*...*/ }),
    });
    // ...
}, []);
</code></pre>
<p>èå¨æå¡ç«¯ (<code>src/app/api/game/play/route.ts</code>)ï¼æä»¬å®æäºå®æ´çä¸å¡é­ç¯ï¼</p>
<pre><code class="language-typescript">
// src/app/api/game/play/route.ts
export async function POST(request: NextRequest) {
    // 1. èº«ä»½æ ¡éªä¸æ°æ®åºè¯»å
    const { sessionId, playerChoice } = await request.json();
    const baseSession = await db.execute(/*...*/);

    // 2. è°ç¨ AI (å¸¦è¶æ¶éçº§)
    // å¦æ API ååºå¤ªæ¢ï¼è¿éä¼èªå¨åæ¢å°æ¬å°é»è¾
    const aiChoiceResult = await Promise.race([
        getAIChoiceFromAPI(aiConfig, history, difficulty),
        timeoutPromise // è®¾å®çè¶æ¶æ¶é´
    ]);

    // 3. å¤å®èè´ &amp; åå¥æ°æ®åº
    const result = determineWinner(playerChoice, aiChoiceResult.choice);
    // ...
    
    return NextResponse.json({ /*...*/ });
}
</code></pre>
<p>è¿ä¸å¥æµç¨è¡äºæµæ°´ï¼ç±»åå®å¨è½ç¶ä¸å¦ Server Actions æè´ï¼ä½éè¿å±äº«ç±»åå®ä¹ï¼Shared Typesï¼ï¼ä¾ç¶è½ä¿è¯ååç«¯çä¸è´æ§ãä¸ç¨åç¹çç Swaggerï¼ä¸ç¨æå¤æç Reduxï¼ä¸ææ¢­ã</p>
<h2>å®éä¸æï¼ç±äºå¤ªä¼å²è®½å¯¼è´ä¸æ³ç©äº</h2>
<p>ä¸ºäºå¢å è¶£å³æ§ï¼æè®© AI ä¸ä»è¾åºâç³å¤´/åªå/å¸âï¼è¿è¦è¾åºä¸æ®µ <strong>Reasoningï¼æ¨çè¿ç¨ï¼</strong> å <strong>Commentï¼èµåå²è®½ï¼</strong>ã</p>
<p>å½ä½ è¾ææ¯èµæ¶ï¼ä½ å¯è½ä¼çå°è¿æ ·çç»ç®è¯­ï¼<br>
<em>âæçä½ ç¬¬ä¸æç¹è±«äºå¾ä¹åºäºåªåï¼æå°±ç¥éä½ æ¯ä¸ªä¿å®çäººãä¸ä¸æå«è¿ä¹ææ¾äºï¼äººç±»ãâ</em></p>
<p>è¯´å®è¯ï¼ä»£ç åå®åæèªå·±æµè¯äºå æï¼èçå±ç¶åªæ 40% å·¦å³ãççå±å¹ä¸ AI çå²è®½ï¼æå³ä½¿ä½ä¸ºå¼åèä¹ä¸ç¦æçï¼è¿ç©æå¿æ¯ä¸æ¯çææè¯ï¼</p>
<h2>ä½éªå°å</h2>
<p>è½è¯´ä»£ç æ²¡ä»ä¹æ ¸å¿ç§æï¼ä½å¸¦æ¥çåå¼ä½éªç¡®å®å¾æè¶£ãæå·²ç»æé¡¹ç®é¨ç½²ä¸å»äºï¼æ¬¢è¿æ¥ææï¼æèè¢«èï¼ï¼</p>
<p>ð <strong>å¨çº¿ä½éª</strong></p>
<p>ä¼åå°åï¼<a href="https://rps.anhejin.cn" target="_blank" rel="noopener nofollow">https://rps.anhejin.cn</a></p>
<p>ææ¡ä»¶çï¼<a href="https://rps-eta-ten.vercel.app" target="_blank" rel="noopener nofollow">https://rps-eta-ten.vercel.app<br></a></p>
<h2>æ»ç»</h2>
<p>è¿ä¸ªé¡¹ç®è¯æäºä¸ä»¶äºï¼<strong>ææ¯æ¯å°å·çï¼ä½éè¿ç®åçåæç»åï¼å¯ä»¥åé åºææ¸©åº¦ï¼çè³æç¹ç«æï¼çäº¤äºä½éªã</strong> Next.js 16 å React 19 çç»åè®©å¨æ å¼åçé¨æ§è¿ä¸æ­¥éä½ï¼è®©æä»¬ææ´å¤ç²¾åå»å³æ³¨âç©æ³âæ¬èº«ï¼èä¸æ¯è¢«æå»ºéç½®æç£¨ã</p>
<p>å¦æä½ å¯¹æºç æå´è¶£ï¼æèæ³æ¹æ¹ Prompt æ AI è°ææâè®¨å¥½åäººæ ¼âï¼æ¬¢è¿å» <a href="https://github.com/greywen/rps" rel="noopener nofollow">GitHub</a> æä»£ç ã</p>
<hr>
<p><em>æ³¨ï¼</em></p>
<ol>
<li>æ¬æä»ä¾ææ¯äº¤æµï¼ç©æ¸¸æè¾ç» AI è¯·å¿ç¨æ³å¤´å»ææ¾ç¤ºå¨ï¼å¼åèæ¦ä¸è´è´£ã</li>
<li>è¿åªæ¯ä¸ä¸ªå¨±ä¹å°æ¸¸æï¼ç»æå·æéæºæ§ï¼ä¸ä»£è¡¨ä»»ä½AIå¤§æ¨¡åççå®è½åã</li>
<li>æ¸¸æç»æä»ä¾å¨±ä¹ï¼ä¸åºç¨äºè¯ä¼°ææ¯è¾AIæ¨¡åçå®éæ§è½ã</li>
<li>ç½ç«ä¸æ¶éãå­å¨æåäº«ä»»ä½ä¸ªäººä¿¡æ¯æç¨æ·æ°æ®ã</li>












</ol>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-22 08:30">2026-01-22 08:29</span>&nbsp;
<a href="https://www.cnblogs.com/greywen">æè¿å¶å®</a>&nbsp;
éè¯»(<span id="post_view_count">311</span>)&nbsp;
è¯è®º(<span id="post_comment_count">5</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19512202);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19512202', targetLink: 'https://www.cnblogs.com/greywen/p/19512202', title: 'ç»æåå¼ï¼ä¸ä¼å¤§æ¨¡åå æççæ³æ¸¸æï¼äººç±»èçç«ä¸è¶³10%ï¼' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ AspNetCoreå¼åç¬è®°ï¼WebApié¡¹ç®éæä¼ä¸å¾®ä¿¡åå¬ä¼å· ]]></title>
    <link>https://www.cnblogs.com/deali/p/19514332</link>
    <guid>848fcc3ce933b2c8fe4c8934bbd61bfa</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/deali/p/19514332" title="åå¸äº 2026-01-21 23:16">
    <span role="heading" aria-level="2">AspNetCoreå¼åç¬è®°ï¼WebApié¡¹ç®éæä¼ä¸å¾®ä¿¡åå¬ä¼å·</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="åè¨">åè¨</h2>
<p>å¾ä¹æ²¡åæç« äºï¼ç°å¨æäºAIï¼å¶å®å·²ç»ä¸æä¹éè¦åæç« ï¼åæ­£ä¸æå°±é®AIåã</p>
<p>ä¸è¿AIæ»æ¯æç²åºçï¼å°±æ¯å¦å½åçå¾®ä¿¡å¼åã</p>
<p>å¾®ä¿¡çææ¡£æ¯å¬è®¤ççï¼èä¸ç»å¸¸æåªåªæ¹æ¥å£åä¸æ´æ°ææ¡£ï¼æä»¥AIå¯¹å¾®ä¿¡å¼åçAPIå¶å®ä¸æä¹çæï¼ç»å¸¸ç»åºä¸äºéè¯¯çåå¤ã</p>
<p>æ¬æè®°å½ä¸ä¸æè¿æä½¿ç¨ C# WebApi é¡¹ç®æ¥å¥ä¼ä¸å¾®ä¿¡åå¬ä¼å·çè¿ç¨ï¼ä¸»è¦æ¯ç¨å°èªå¨åå¤åè½ã</p>
<h2 id="åç½®å·¥ä½">åç½®å·¥ä½</h2>
<h3 id="ä¾èµåº">ä¾èµåº</h3>
<p>æç¨å°äº <strong>SKIT.FlurlHttpClient.Wechat</strong> è¿ä¸ªç³»åçåºï¼<a href="https://github.com/fudiwei/DotNetCore.SKIT.FlurlHttpClient.Wechat" target="_blank" rel="noopener nofollow">https://github.com/fudiwei/DotNetCore.SKIT.FlurlHttpClient.Wechat</a></p>
<p>åæ¬æ³ç´æ¥ç¨ Flurl å¯¹æ¥çï¼æ¯ç«ç°å¨æéæäºé¤å­ï¼AIï¼ï¼çå¥é½æ¯éå­ï¼å¥é½æ³é è½®å­ã</p>
<p>ä¸è¿æäºä¸ä¸æçæ¶èå¤¹ï¼åç°æè¿ä¸ªé¡¹ç®ï¼å°è£äºå¾®ä¿¡çå¤§é¨åæ¥å£ï¼é£è¿è¦å¥èªè¡è½¦ï¼ç´æ¥ç¨å°±å®äºå¿äºã</p>
<p>å¶ä¸­ï¼</p>
<ul>
<li>ä¼ä¸å¾®ä¿¡ï¼SKIT.FlurlHttpClient.Wechat.Work</li>
<li>å¬ä¼å·ï¼SKIT.FlurlHttpClient.Wechat.Api</li>
</ul>
<h3 id="å¾®ä¿¡éç½®ä¿¡æ¯">å¾®ä¿¡éç½®ä¿¡æ¯</h3>
<p>éè¦åå¤è¿äºéç½®ä¿¡æ¯ï¼</p>
<p>ä¼ä¸å¾®ä¿¡ï¼</p>
<pre><code class="language-c#">public class WechatWorkOptions {
    public string CorpId { get; set; } = string.Empty;
    // åºç¨ID
    public int AgentId { get; set; }
    // åºç¨å¯é¥
    public string Secret { get; set; } = string.Empty;
    // åè° Token
    public string CallbackToken { get; set; } = string.Empty;
    // åè° EncodingAESKey
    public string CallbackEncodingAESKey { get; set; } = string.Empty;
}
</code></pre>
<p>å¬ä¼å·ï¼</p>
<pre><code class="language-c#">public class WechatApiClientOptions {
    public string AppId { get; set; } = string.Empty;
    public string AppSecret { get; set; } = string.Empty;
    public string CallbackToken { get; set; } = string.Empty;
    public string CallbackEncodingAESKey { get; set; } = string.Empty;
}
</code></pre>
<h3 id="æ³¨åæå¡">æ³¨åæå¡</h3>
<pre><code class="language-c#">// ä¼ä¸å¾®ä¿¡
builder.Services.AddSingleton&lt;WechatWorkClient&gt;(sp =&gt; {
    var options = sp.GetRequiredService&lt;IOptions&lt;WechatWorkOptions&gt;&gt;().Value;
    return WechatWorkClientBuilder.Create(options).Build();
});

// å¬ä¼å·
builder.Services.AddSingleton&lt;WechatApiClient&gt;(sp =&gt; {
    var options = sp.GetRequiredService&lt;IOptions&lt;WechatMpOptions&gt;&gt;().Value;
    return WechatApiClientBuilder.Create(options).Build();
});
</code></pre>
<p>åå¤å·¥ä½å°±æå®äºã</p>
<h2 id="ç®¡çtoken">ç®¡çtoken</h2>
<p>å¾®ä¿¡çæ¥å£é½éè¦ç¨ AccessToken æè½è°ç¨ï¼ä½å¾®ä¿¡åä¸æ³å¼åèæ¯æ¬¡é½å»è¯·æ±è·åtokenï¼æä»¥åªè½è·åä¸æ¬¡ç¶åèªå·±ä¿å­äºã</p>
<p>C# å¯ä»¥ç¨ IMemoryCache ç»ä»¶ï¼å¾æ¹ä¾¿çç®¡çè¿äºä¸´æ¶å­å¨çæ°æ®ï¼Djangoæ¡æ¶ä¹æåç½®çcacheæºå¶ï¼å¶ä»è¯­è¨æ¡æ¶å¯ä»¥ç¨Redisè¿ç±»NoSQLæ°æ®åºæ¥å­å¨ãæ¯è¿äºï¼æ¬æè¿æ¯ä»ç»C#çã</p>
<p>æç¨ä¸ä¸ª <code>WechatWorkTokenService</code> æå¡æ¥ç®¡çä¼ä¸å¾®ä¿¡çtokenï¼å¬ä¼å·ãå°ç¨åºè¿ç§ä¹æ¯åçï¼</p>
<pre><code class="language-c#">public class WechatWorkTokenService(
    WechatWorkClient client,
    IMemoryCache cache,
    IOptions&lt;WechatWorkOptions&gt; options
) : IWechatWorkTokenService {
    private const string CacheKey = "WechatWorkAccessToken";

    // ç¨äºå¹¶åæ§å¶ï¼é²æ­¢ç¬é´é«å¹¶åå¯¼è´å¤æ¬¡è¯·æ± Token æ¥å£
    private static readonly SemaphoreSlim Semaphore = new SemaphoreSlim(1, 1);

    /// &lt;summary&gt;
    /// è·å AccessToken
    /// &lt;/summary&gt;
    public async Task&lt;string&gt; GetAccessTokenAsync(CancellationToken cancellationToken = default) {
        // 1. å°è¯ä»ç¼å­è·å
        if (cache.TryGetValue(CacheKey, out string? accessToken) &amp;&amp; !string.IsNullOrEmpty(accessToken)) {
            return accessToken;
        }

        // 2. ç¼å­æªå½ä¸­ï¼å éè¯·æ±
        await Semaphore.WaitAsync(cancellationToken);
        try {
            // åéæ£æ¥ï¼é²æ­¢æéç­å¾ççº¿ç¨åæ¬¡è¯·æ±
            if (cache.TryGetValue(CacheKey, out accessToken) &amp;&amp; !string.IsNullOrEmpty(accessToken)) {
                return accessToken;
            }

            // 3. è°ç¨æ¥å£è·å Token
            var request = new CgibinGetTokenRequest();
            var response = await client.ExecuteCgibinGetTokenAsync(request, cancellationToken);

            if (!response.IsSuccessful()) {
                throw new Exception($"è·å AccessToken å¤±è´¥: {response.ErrorMessage} (Code: {response.ErrorCode})");
            }

            accessToken = response.AccessToken;

            // 4. è®¾ç½®ç¼å­
            // æå 5 åéè¿æï¼ç¡®ä¿å¨è¿æåå·æ°
            // å¦æ ExpiresIn å°äº 300 ç§ï¼åè®¾ä¸ºä¸åæ¶é´
            var expirySeconds = response.ExpiresIn &gt; 300 ? response.ExpiresIn - 300 : response.ExpiresIn / 2;
            var cacheEntryOptions = new MemoryCacheEntryOptions()
                .SetAbsoluteExpiration(TimeSpan.FromSeconds(expirySeconds));

            cache.Set(CacheKey, accessToken, cacheEntryOptions);

            return accessToken;
        }
        finally {
            Semaphore.Release();
        }
    }
}
</code></pre>
<h2 id="ä¼ä¸å¾®ä¿¡">ä¼ä¸å¾®ä¿¡</h2>
<p>ä¼ä¸å¾®ä¿¡çéå¶æ¯è¾å°ï¼å¯ä»¥ä¸»å¨ç»ç¨æ·åä¿¡æ¯ï¼æä»¥å¯ä»¥ææ¥æ¶ååéä¿¡æ¯åå¼ï¼ä¾å¦è°ç¨LLMå¤çåå¤çæ¶åï¼ä¼æ¯è¾æ¢ï¼å¯ä»¥æåå¤æ¾å°å¼æ­¥ä»»å¡éåéå»å®ç°ã</p>
<h3 id="éªè¯åè°">éªè¯åè°</h3>
<p>ç´æ¥ä¸æ¥å£ä»£ç ã</p>
<p>å¨éç½®ä¼ä¸å¾®ä¿¡åºç¨URLçæ¶åï¼å¾®ä¿¡æå¡å¨ä¼åéä¸ä¸ªGETè¯·æ±å°éç½®çURLè¿è¡éªè¯ï¼åç«¯ç¨åºéè¦éªè¯ç­¾åï¼è§£å¯åæåå®¹å¤è¯»ç»å¾®ä¿¡æå¡å¨ã</p>
<p>ä¸é¢è¿ä¸ªæ¥å£å°±å®ç°äºè¿ä¸ªéªè¯æ¹æ³ã</p>
<p>è¿æ ·å®ç°ä¹åå¡«å <code>https://example.com/api/wechat/work/callback</code> è¿ä¸ªå°åå°±å¥½äºã</p>
<pre><code class="language-c#">[ApiController]
[AllowAnonymous]
[Route("api/wechat/work/callback")]
public class WechatWorkController(
    WechatWorkClient client,
    IBackgroundTaskQueue queue,
    ILogger&lt;WechatWorkController&gt; logger
) : ControllerBase {
    /// &lt;summary&gt;
    /// åè°éªè¯ (GET)
    /// &lt;/summary&gt;
    [HttpGet]
    public IActionResult Echo(
        [FromQuery(Name = "msg_signature")] string msgSignature,
        [FromQuery(Name = "timestamp")] string timestamp,
        [FromQuery(Name = "nonce")] string nonce,
        [FromQuery(Name = "echostr")] string echoStr
    ) {
        // éªè¯ç­¾å
        var verifyResult = client.VerifyEventSignatureForEcho(
            timestamp, nonce, echoStr, msgSignature, out string? replyEcho
        );

        if (verifyResult.Result) {
            logger.LogInformation("Echo verification successful. ReplyEcho: {ReplyEcho}", replyEcho);
            return Content(replyEcho ?? string.Empty);
        }

        logger.LogWarning("Echo verification failed. Error: {Error}", verifyResult.Error?.Message);
        return BadRequest($"Verify signature failed: {verifyResult.Error?.Message}");
    }
}
</code></pre>
<h3 id="æ¥æ¶ä¿¡æ¯">æ¥æ¶ä¿¡æ¯</h3>
<p>æ¥æ¶ä¿¡æ¯åä¸é¢çéªè¯é½æ¯ä¸ä¸ªURLï¼åºå«æ¯æ¥æ¶ä¿¡æ¯æ¶ï¼å¾®ä¿¡æå¡å¨ä¼åURLåPOSTè¯·æ±ã</p>
<p>ä»£ç éæè¯¦ç»æ³¨éäºï¼åºè¯¥ä¸ç¨è§£éå¤ªå¤ã</p>
<pre><code class="language-c#">/// &lt;summary&gt;
/// æ¥æ¶æ¶æ¯ (POST)
/// &lt;/summary&gt;
[HttpPost]
public async Task&lt;IActionResult&gt; Callback(
    [FromQuery(Name = "msg_signature")] string msgSignature,
    [FromQuery(Name = "timestamp")] string timestamp,
    [FromQuery(Name = "nonce")] string nonce
) {
    // å¿é¡»è¯»ååå§ Request Body æµï¼èä¸è½ä½¿ç¨ [FromBody] ç»å®
    // åå ï¼
    // 1. å¾®ä¿¡ç­¾åéªè¯ä¾èµäºåå§è¯·æ±ä½ï¼ä»»ä½ç©ºæ ¼ãæ¢è¡ç¬¦çå·®å¼é½ä¼å¯¼è´ç­¾åæ ¡éªå¤±è´¥
    // 2. æ¨éåå®¹éå¸¸æ¯å å¯ç XMLï¼éè¦åè·ååå§å­ç¬¦ä¸²ä¼ ç» SDK è¿è¡è§£å¯
    using var reader = new StreamReader(Request.Body);
    var xml = await reader.ReadToEndAsync();

    logger.LogDebug("Callback Body (Length: {Length}): {Xml}", xml.Length, xml);

    // 1. éªè¯ç­¾å
    // è½ç¶ DeserializeEventFromXml åé¨å¯è½ä¼åå«è§£å¯è¿ç¨ï¼ä½æ¾å¼éªè¯ç­¾åæ¯æ´å®å¨çåæ³
    var verifyResult = client.VerifyEventSignatureFromXml(timestamp, nonce, xml, msgSignature);
    if (!verifyResult.Result) {
        logger.LogWarning("Callback signature verification failed. Error: {Error}", verifyResult.Error?.Message);
        return BadRequest($"Verify signature failed: {verifyResult.Error?.Message}");
    }

    // 2. ä½¿ç¨ SKIT åºæä¾çæ©å±æ¹æ³èªå¨è§£å¯å¹¶ååºåå
    // æ³¨æï¼éè¦å¨ WechatWorkClientOptions ä¸­éç½® PushToken å PushEncodingAESKey
    WechatWorkEvent wechatEvent;
    try {
        wechatEvent = client.DeserializeEventFromXml(xml);
        logger.LogInformation("Callback deserialized successfully. MessageType: {MessageType}, FromUser: {FromUser}, ToUser: {ToUser}", wechatEvent.MessageType, wechatEvent.FromUserName, wechatEvent.ToUserName);
    } catch (Exception ex) {
        // ååºååå¤±è´¥ï¼éå¸¸æ¯å ä¸ºç­¾åéªè¯å¤±è´¥æè§£å¯å¤±è´¥ï¼
        logger.LogError(ex, "Callback deserialization failed.");
        return BadRequest($"Deserialization failed: {ex.Message}");
    }

    // å¤çé»è¾
    if (string.Equals(wechatEvent.MessageType, "TEXT", StringComparison.OrdinalIgnoreCase)) {
        // åæ¬¡ååºååä¸ºå·ä½çææ¬æ¶æ¯äºä»¶ä»¥è·å Content
        var textEvent = client.DeserializeEventFromXml&lt;TextMessageEvent&gt;(xml);
        if (textEvent != null &amp;&amp; !string.IsNullOrEmpty(textEvent.Content) &amp;&amp;
            !string.IsNullOrEmpty(textEvent.FromUserName)) {
            logger.LogInformation("Processing TEXT message from {FromUser}: {Content}", textEvent.FromUserName, textEvent.Content);
            await ProcessTextMessageAsync(textEvent.FromUserName, textEvent.Content);
        }
    }
    else if (string.Equals(wechatEvent.MessageType, "IMAGE", StringComparison.OrdinalIgnoreCase)) {
        var imageEvent = client.DeserializeEventFromXml&lt;ImageMessageEvent&gt;(xml);
        if (imageEvent != null &amp;&amp; !string.IsNullOrEmpty(imageEvent.MediaId) &amp;&amp;
            !string.IsNullOrEmpty(imageEvent.FromUserName)) {
            logger.LogInformation("Processing IMAGE message from {FromUser}: {MediaId}", imageEvent.FromUserName, imageEvent.MediaId);
            await ProcessImageMessageAsync(imageEvent.FromUserName, imageEvent.MediaId);
        }
    }
    else {
        logger.LogInformation("Ignored message type: {MessageType}", wechatEvent.MessageType);
    }

    return Ok("success");
}

</code></pre>
<h3 id="å¼æ­¥å¤çä¿¡æ¯">å¼æ­¥å¤çä¿¡æ¯</h3>
<p>å ä¸ºä¼ä¸å¾®ä¿¡å¯ä»¥ä¸»å¨ç»ç¨æ·åä¿¡æ¯ï¼æä»¥å¯ä»¥ææ¥æ¶ååéä¿¡æ¯åå¼ï¼ä¾å¦è°ç¨LLMå¤çåå¤çæ¶åï¼ä¼æ¯è¾æ¢ï¼å¯ä»¥æåå¤æ¾å°å¼æ­¥ä»»å¡éåéå»å®ç°ã</p>
<h4 id="ææ¬ä¿¡æ¯">ææ¬ä¿¡æ¯</h4>
<p>çº¯ææ¬å¤çèµ·æ¥è¿æ¯æ¯è¾ç®åçã</p>
<pre><code class="language-c#">/// &lt;summary&gt;
/// å¼æ­¥å¤çææ¬æ¶æ¯
/// &lt;/summary&gt;
private async Task ProcessTextMessageAsync(string toUser, string content) {
    await queue.QueueBackgroundWorkItemAsync(async (serviceProvider, token) =&gt; {
        // å¨åå°ä»»å¡ä¸­è§£æ Scoped æå¡
        var chatBot = serviceProvider.GetRequiredService&lt;IChatBotService&gt;();
        var logger = serviceProvider.GetRequiredService&lt;ILogger&lt;WechatWorkController&gt;&gt;();

        try {
            logger.LogInformation("Processing background task for user {ToUser}", toUser);

            // 1. è°ç¨ ChatBot è·ååå¤
            string reply = await chatBot.ProcessMessageAsync(content);

            // 2. åéåå¤
            var accessToken = await _tokenService.GetAccessTokenAsync();
            var request = new CgibinMessageSendRequest {
                AccessToken = accessToken,
                AgentId = _agentId,
                ToUserIdList = [toUser],
                MessageType = "text",
                MessageContentAsText = new CgibinMessageSendRequest.Types.TextMessage {
                    Content = content
                }
            };
            var response = await _client.ExecuteCgibinMessageSendAsync(request);
            if (!response.IsSuccessful()){
                throw new Exception($"åéä¼ä¸å¾®ä¿¡æ¶æ¯å¤±è´¥: {response.ErrorMessage} (Code: {response.ErrorCode})");
            }

            logger.LogInformation("Reply sent to {ToUser}: {ReplyContent}", toUser, reply);
        } catch (Exception ex) {
            logger.LogError(ex, "Failed to process message for {ToUser}", toUser);
        }
    });
}
</code></pre>
<h4 id="å¾çä¿¡æ¯">å¾çä¿¡æ¯</h4>
<p>å¾çéº»ç¦ä¸ç¹ï¼å¾®ä¿¡ä¸ä¼ç´æ¥æå¾çæ°æ®åæ¥ï¼èæ¯æäºä¸ª mediaIdï¼è¦æä»¬æå¨å»ä¸è½½ã</p>
<p>C# è¿éè¿æ¯æ¹ä¾¿çï¼ç´æ¥æå¾çä¸è½½æ¾å°åå­éäº¤ç»ç¬¬ä¸æ¹æå¡å¤çï¼å¦OCRï¼ï¼ç¶ååæç»æååºæ¥ã</p>
<pre><code class="language-c#">/// &lt;summary&gt;
/// å¼æ­¥å¤çå¾çæ¶æ¯
/// &lt;/summary&gt;
private async Task ProcessImageMessageAsync(string toUser, string mediaId) {
    await queue.QueueBackgroundWorkItemAsync(async (serviceProvider, token) =&gt; {
        var chatBot = serviceProvider.GetRequiredService&lt;IChatBotService&gt;();
        var wechatService = serviceProvider.GetRequiredService&lt;IWechatWorkService&gt;();
        var tokenService = serviceProvider.GetRequiredService&lt;IWechatWorkTokenService&gt;();
        var logger = serviceProvider.GetRequiredService&lt;ILogger&lt;WechatWorkController&gt;&gt;();
        var wechatClient = serviceProvider.GetRequiredService&lt;WechatWorkClient&gt;();

        try {
            logger.LogInformation("Processing background image task for user {ToUser}", toUser);

            // 1. Download Image
            var accessToken = await tokenService.GetAccessTokenAsync(token);
            var request = new CgibinMediaGetRequest {
                AccessToken = accessToken,
                MediaId = mediaId
            };
            var resp = await wechatClient.ExecuteCgibinMediaGetAsync(request, cancellationToken: token);

            if (!resp.IsSuccessful()) {
                logger.LogError("Failed to download image: {Error}", resp.ErrorMessage);
                await wechatService.SendTextMessageAsync(toUser, "æ±æ­ï¼æ æ³è·åå¾çåå®¹ã");
                return;
            }

            var bytes = resp.GetRawBytes();
            var mimeType = "image/jpeg";
            if (bytes.Length &gt; 0 &amp;&amp; bytes[0] == 0x89 &amp;&amp; bytes[1] == 0x50 &amp;&amp; bytes[2] == 0x4E &amp;&amp; bytes[3] == 0x47) {
                mimeType = "image/png";
            }

            var items = new ChatMessageContentItemCollection {
                new ImageContent(bytes, mimeType)
            };

            // 2. Call ChatBot
            var chatMessage = new ChatMessageContent(AuthorRole.User, items);
            var reply = await chatBot.ProcessMessageAsync(chatMessage);

            // 3. Send Reply
            await wechatService.SendTextMessageAsync(toUser, reply);

            logger.LogInformation("Reply sent to {ToUser}", toUser);
        } catch (Exception ex) {
            logger.LogError(ex, "Failed to process image message for {ToUser}", toUser);
        }
    });
}
</code></pre>
<h2 id="å¬ä¼å·">å¬ä¼å·</h2>
<p>å¥½ï¼ä¼ä¸å¾®ä¿¡æå®äºãæ¥ä¸æ¥ççå¬ä¼å·ã</p>
<p>å¬ä¼å·åä¼ä¸å¾®ä¿¡ä¸ä¸æ ·ï¼æ æ³ä¸»å¨åä¿¡æ¯ï¼æä»¥å¨æ¶å°ç¨æ·ä¿¡æ¯æ¶ï¼è¦è¿åXMLæ ¼å¼çç¸åºï¼ä½ä¸ºåå¤åå®¹ï¼5ç§åå¿é¡»åå¤ã</p>
<p>éªè¯åè°è¿éå°±ä¸éå¤äºï¼åä¼ä¸å¾®ä¿¡æ¯ä¸æ ·çã</p>
<pre><code class="language-c#">/// &lt;summary&gt;
/// æ¥æ¶æ¶æ¯ (POST)
/// &lt;/summary&gt;
[HttpPost]
public async Task&lt;IActionResult&gt; Callback(
    [FromQuery(Name = "msg_signature")] string? msgSignature,
    [FromQuery(Name = "signature")] string? signature,
    [FromQuery(Name = "timestamp")] string timestamp,
    [FromQuery(Name = "nonce")] string nonce,
    [FromQuery(Name = "encrypt_type")] string? encryptType
) {
    using var reader = new StreamReader(Request.Body);
    var xml = await reader.ReadToEndAsync();

    _logger.LogDebug("Callback Body (Length: {Length}): {Xml}", xml.Length, xml);

    // 1. éªè¯ç­¾å
    // å¦ææ¯å®å¨æ¨¡å¼ (encryptType == "aes")ï¼ä½¿ç¨ VerifyEventSignatureFromXml (éè¦ msg_signature)
    // å¦ææ¯æææ¨¡å¼ï¼SDK åé¨ DeserializeEventFromXml ä¹ä¼åä¸äºæ ¡éªï¼ä½éå¸¸æææ¨¡å¼ç­¾åæ ¡éªä½¿ç¨ signature (VerifyEventSignatureForEcho logic)
    // è¿éä¸»è¦å¤çå®å¨æ¨¡å¼ï¼å ä¸ºæææ¨¡å¼ä¸éå¸¸ä¸éè¦å¤æçè§£å¯éªè¯
    if (string.Equals(encryptType, "aes", StringComparison.OrdinalIgnoreCase)) {
        if (string.IsNullOrEmpty(msgSignature)) {
            return BadRequest("msg_signature is required for aes encryption");
        }

        var verifyResult = _client.VerifyEventSignatureFromXml(timestamp, nonce, xml, msgSignature);
        if (!verifyResult.Result) {
            _logger.LogWarning("Callback signature verification failed. Error: {Error}", verifyResult.Error?.Message);
            return BadRequest($"Verify signature failed: {verifyResult.Error?.Message}");
        }
    }
    else {
        // æææ¨¡å¼ï¼å¯ä»¥ä½¿ç¨ signature éªè¯ (å¯é)
        // var verifyResult = _client.VerifyEventSignatureForEcho(timestamp, nonce, signature);
    }

    // 2. ä½¿ç¨ SKIT åºèªå¨è§£å¯å¹¶ååºåå
    WechatApiEvent wechatEvent;
    try {
        wechatEvent = _client.DeserializeEventFromXml(xml);
        _logger.LogInformation("Callback deserialized successfully. MessageType: {MessageType}, FromUser: {FromUser}, ToUser: {ToUser}",
                               wechatEvent.MessageType, wechatEvent.FromUserName, wechatEvent.ToUserName);
    } catch (Exception ex) {
        _logger.LogError(ex, "Callback deserialization failed.");
        return BadRequest($"Deserialization failed: {ex.Message}");
    }

    switch (wechatEvent.MessageType?.ToLower()) {
        case "text":
            var textEvent = _client.DeserializeEventFromXml&lt;TextMessageEvent&gt;(xml);
            if (!string.IsNullOrEmpty(textEvent.Content) &amp;&amp;
                !string.IsNullOrEmpty(textEvent.FromUserName)) {
                _logger.LogInformation("Processing TEXT message from {FromUser}: {Content}", textEvent.FromUserName, textEvent.Content);

                var isSafetyMode = string.Equals(encryptType, "aes", StringComparison.OrdinalIgnoreCase);

                var textReply = new TextMessageReply {
                    ToUserName = textEvent.FromUserName,
                    FromUserName = textEvent.ToUserName,
                    MessageType = "text",
                    Content = "è¿éæ¯åå¤ç»ç¨æ·çåå®¹",
                    CreateTimestamp = DateTimeOffset.Now.ToUnixTimeSeconds()
                };

                var replyXml = _client.SerializeEventToXml(textReply, isSafetyMode);
                return Content(replyXml, "application/xml");
            }
            break;

        default:
            _logger.LogInformation("Ignored message type: {MessageType}", wechatEvent.MessageType);
            break;
    }

    return Ok("success");
}
</code></pre>
<p>å¯ä»¥çå°ä»£ç éå¤æ­æ¯ text ç±»ååï¼æé äº TextMessageReply ç±»åçæ°æ®ï¼ç¶åè°ç¨ SKIT.FlurlHttpClient.Wechat åºæä¾ç XML åºååæ¹æ³ã</p>
<p>è¿ä¸ªåºå°è£äºç´æ¥åºååè¢«å¨åå¤äºä»¶çæ©å±æ¹æ³ï¼é»è®¤ä¼åºååä¸ºå®å¨æ¨¡å¼ã</p>
<h2 id="æ¥å¥ç»å½">æ¥å¥ç»å½</h2>
<p>å¾®ä¿¡ç»å½åå¤§é¨åç¬¬ä¸æ¹åç¹è®¤è¯æµç¨å·®ä¸å¤ï¼å·²ç»åè¿å¥½å¤æ¬¡äºã</p>
<p>ä¸åèµè¿°è¿ä¸ªæµç¨ï¼æå´è¶£çåå­¦å¯ä»¥çè¿ç¯æç« : <a href="https://blog.deali.cn/p/django-taro-wechat-work-login" target="_blank" rel="noopener nofollow">Django+Taroé¡¹ç®å®ç°ä¼ä¸å¾®ä¿¡ç»å½</a></p>
<p>æ¬æ¬¡ææ²¡ææ¥å¥ç»å½ï¼èæ¯ç¨äºå¦ä¸ç§æ¹å¼å®ç°å¾®ä¿¡åå¹³å°ç¨æ·çå³èï¼å°±æ¯å¹³å°ä¸çæä¸ä¸ªkeyï¼è®©ç¨æ·å¨å¾®ä¿¡åéï¼æè§è¿æºæææçï¼å¦è¾è¹å¾ã</p>
<p>æä»¥è¿éæ¬è¿ä¸ä¸æä¹ååçåç¹è®¤è¯é¡¹ç®éçä»£ç å§ï¼è¯¦æå¯ä»¥çè¿ç¯æç« : <a href="https://blog.deali.cn/p/almost-abandoned-project-open-source" target="_blank" rel="noopener nofollow">IdentityServerLiteé¡¹ç®åè¿æçå¼æºè®¡å</a></p>
<pre><code class="language-c#">/// &lt;summary&gt;
/// ä¼ä¸å¾®ä¿¡ç»å½ - ä½¿ç¨åè°ç code ç»å½
/// &lt;/summary&gt;
/// &lt;param name="code"&gt;&lt;/param&gt;
/// &lt;param name="state"&gt;ä¸äºè®©å¾®ä¿¡è½¬åä¼ ç»åç«¯çåæ°ï¼è¿éæ¯åç¹è®¤è¯é¡¹ç®çsession_id&lt;/param&gt;
[HttpGet("wecom/login")]
public async Task&lt;IActionResult&gt; WecomLogin(string code, string? state = null) {
    logger.LogInformation("ä¼ä¸å¾®ä¿¡ç»å½ï¼code: {code}, state: {state}, crop: {cropTag}", code, state, cropTag);

    if (string.IsNullOrWhiteSpace(state)) {
        return BadRequest(new ApiResponse { Message = "ä¼ä¸å¾®ä¿¡ç»å½ç state ä¸ºç©ºï¼æ æ³è·å session" });
    }

    var session = await authService.GetSession(state);
    if (session == null) {
        return NotFound(new ApiResponse { Message = $"session {state} ä¸å­å¨ï¼" });
    }

    var userInfo = await wecomService.GetUserInfo(code);
    if (userInfo == null) {
        return BadRequest(new ApiResponse { Message = "è·å userinfo éè¯¯ï¼" });
    }

    if (userInfo.Errcode != 0) {
        return BadRequest(new ApiResponse { Message = $"è·åç¨æ·ä¿¡æ¯å¤±è´¥ï¼ä¼å¾®éè¯¯ä¿¡æ¯: {userInfo.Errmsg}" });
    }

    var wechatUser = await wecomService.GetUser(userInfo.Userid);
    if (wechatUser == null) {
        return BadRequest(new ApiResponse { Message = "è·å user éè¯¯ï¼" });
    }

    var user = await userRepo.Where(a =&gt; a.PhoneNumber == wechatUser.Userid).FirstAsync();
    // ç¨æ·ä¸å­å¨çè¯ï¼èªå¨åå»ºç¨æ·
    if (user == null) {
        user = await accountService.CreateUser(
            await accountService.GenerateUsername(wechatUser.Name),
            wechatUser.Userid,
            wechatUser.Name
        );

        logger.LogInformation("ç¨æ· {Phone} ä¸å­å¨ï¼å·²åå»ºæ°ç¨æ· {UserId}", 
                              wechatUser.Userid, user.Id);
        // return NotFound(new ApiResponse { Message = $"ç¨æ· {wechatUser.Userid} ä¸å­å¨ï¼" });
    }

    try {
        var url = await authService.LoginSessionAndGetUri(session, user, true);
        logger.LogInformation("ä¼ä¸å¾®ä¿¡ç»å½æåï¼è·³è½¬å°é¾æ¥: {url}", url);
        return Redirect(url);
    }
    catch (Exception ex) {
        ex.ToExceptionless().Submit();
        return Problem($"ä¼ä¸å¾®ä¿¡ç»å½å¤±è´¥: LoginSessionAndGetUri å¤±è´¥ - {ex.Message}");
    }
}
</code></pre>
<h2 id="å°ç»">å°ç»</h2>
<p>å¤§æ¦å°±æ¯è¿äºäºï¼å¾ç¹çï¼ä¸è¿è¿æºå¥½ç¨çï¼è¿äºä»£ç åå®åå ä¹æ¯ä¸æ¬¡å°±å¯¹æ¥éè¿ï¼æ³èµ·æ¥ä»¥ååå¤è°è¯çç»åï¼æå¹ï¼æ¥å­ä¹æ¯å¥½èµ·æ¥äºåï¼ð</p>
<p>å¦ä¸ç¹æå¹ï¼Semantic Kernelçå¥½ç¨ï¼æç¨äºå¤ªä¹langchainï¼åºè¯¥æ©ç¹ä¸semantic kernelçã</p>

</div>
<div id="MySignature" role="contentinfo">
    å¾®ä¿¡å¬ä¼å·ï¼ãç¨åºè®¾è®¡å®éªå®¤ã
ä¸æ³¨äºäºèç½ç­é¨æ°ææ¯æ¢ç´¢ä¸å¢éææ·å¼åå®è·µï¼åæ¬æ¶æè®¾è®¡ãæºå¨å­¦ä¹ ä¸æ°æ®åæç®æ³ãç§»å¨ç«¯å¼åãLinuxãWebååç«¯å¼åç­ï¼æ¬¢è¿ä¸èµ·æ¢è®¨ææ¯ï¼åäº«å­¦ä¹ å®è·µç»éªã
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-21 23:17">2026-01-21 23:16</span>&nbsp;
<a href="https://www.cnblogs.com/deali">ç¨åºè®¾è®¡å®éªå®¤</a>&nbsp;
éè¯»(<span id="post_view_count">179</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19514332);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19514332', targetLink: 'https://www.cnblogs.com/deali/p/19514332', title: 'AspNetCoreå¼åç¬è®°ï¼WebApié¡¹ç®éæä¼ä¸å¾®ä¿¡åå¬ä¼å·' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ C#/.NET/.NET Coreææ¯åæ²¿å¨å | ç¬¬ 66 æï¼2026å¹´1.12-1.18ï¼ ]]></title>
    <link>https://www.cnblogs.com/Can-daydayup/p/19514257</link>
    <guid>43cc051e1f51aec6369a1bb55a7de8d7</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/Can-daydayup/p/19514257" title="åå¸äº 2026-01-21 22:41">
    <span role="heading" aria-level="2">C#/.NET/.NET Coreææ¯åæ²¿å¨å | ç¬¬ 66 æï¼2026å¹´1.12-1.18ï¼</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p><img src="https://img2024.cnblogs.com/blog/1336199/202509/1336199-20250922202742912-411034871.png" alt="image" loading="lazy"></p>
<h2 data-tool="mdniceç¼è¾å¨"><span>åè¨</span></h2>
<p data-tool="mdniceç¼è¾å¨"><span>C#/.NET/.NET Coreææ¯åæ²¿å¨åï¼ä½ çæ¯å¨ææ¯æåéï¼è®°å½ãè¿½è¸ªC#/.NET/.NET Coreé¢åãçæçæ¯å¨ææ°ãæå®ç¨ãææä»·å¼çææ¯æç« ãç¤¾åºå¨æãä¼è´¨é¡¹ç®åå­¦ä¹ èµæºç­ãè®©ä½ æ¶å»ç«å¨ææ¯åæ²¿ï¼å©åææ¯æé¿ä¸è§éæå®½ã</span></p>
<blockquote>
<p><span>æ¬¢è¿æç¨¿ãæ¨èæèªèä¼è´¨æç« ãé¡¹ç®ãå­¦ä¹ èµæºç­ã</span></p>
</blockquote>
<ul class="list-paddingleft-1">
<li><strong>ðææ¯åæ²¿å¨åGiteeå¼æºå°åï¼</strong><a href="https://gitee.com/ysgdaydayup/DotNetGuide/blob/main/docs/DotNet/DotNetWeekly.md" target="_blank" rel="noopener nofollow"><span>https://gitee.com/ysgdaydayup/DotNetGuide/blob/main/docs/DotNet/DotNetWeekly.md</span></a></li>
<li><strong>ð°ææ¯åæ²¿å¨åGitHubå¼æºå°åï¼</strong><a href="https://github.com/YSGStudyHards/DotNetGuide/blob/main/docs/DotNet/DotNetWeekly.md" target="_blank" rel="noopener nofollow"><span>https://github.com/YSGStudyHards/DotNetGuide/blob/main/docs/DotNet/DotNetWeekly.md</span></a></li>
</ul>
<h2 data-tool="mdniceç¼è¾å¨"><span>å¦ä½ç¨ .NET MAUI æå»º Android å°é¨ä»¶</span></h2>
<ul class="list-paddingleft-1">
<li><strong>æç« ç®ä»ï¼</strong><span>&nbsp;æ¬åå®¢å°ä»ç»ä¹åå³äº iOS å°é¨ä»¶çäºå¨å°é¨ä»¶ç Android é¨åãAndroid éå¸¸æ´å®½æ¾ï¼ä½æ´ç®åï¼ä½ å¯ä»¥ç´æ¥å¨ Visual Studio éç .NET MAUI é¡¹ç®éæå»ºææåå®¹ãå¤ææ§æºäºä¼å¤å¯ç¨çä»»å¡éé¡¹ä»¥åéè¦èèè¾æ§çå®åçæ¬ãå°±å iOS å°é¨ä»¶åå®¢éä¸æ ·ï¼è¿ä¹ä¸æ¯ä¸æ­¥æ­¥çæç¨ãç¸åï¼å®çªåºæ¾ç¤ºäºä½ å¨æå»º Android å°é¨ä»¶æ¶éå¸¸éå°éç¢çé¡ºåºä¸­æå¤§ä¸æéè¦çé¨åãå®ä»åå»ºä¸ä¸ªç®åçéæå°é¨ä»¶å¼å§ï¼éæ­¥åå±æå¯éç½®ãå®å¨äº¤äºçå°é¨ä»¶ã</span></li>
<li><strong>æç« å°åï¼</strong><span>&nbsp;https://devblogs.microsoft.com/dotnet/how-to-build-android-widgets-with-dotnet-maui/</span></li>
</ul>
<h2 data-tool="mdniceç¼è¾å¨"><span>.NET å .NET Framework 2026 å¹´ 1 ææå¡åå¸æ´æ°</span></h2>
<ul class="list-paddingleft-1">
<li><strong>æç« ç®ä»ï¼</strong><span>&nbsp;æ¬¢è¿æ¥å°æä»¬ 2026 å¹´ 1 æçèå.NET æå¡æ´æ°ãè®©æä»¬è¿å¥.NET å.NET Framework çææ°çæ¬ï¼è¿éç®è¦ä»ç»ä¸ä¸æä»¬æå¡çæ¬ä¸­çæ°åå®¹ã</span></li>
<li><strong>æç« å°åï¼</strong><span>&nbsp;https://devblogs.microsoft.com/dotnet/dotnet-and-dotnet-framework-january-2026-servicing-updates/</span></li>
</ul>
<h2 data-tool="mdniceç¼è¾å¨"><span>å¦ä½ä¸æ­¥æ­¥å° ASP.NET MVC åçº§ä¸º.NET</span></h2>
<ul class="list-paddingleft-1">
<li><strong>æç« ç®ä»ï¼</strong><span>&nbsp;å° ASP.NET MVC åºç¨ä».NET Framework åçº§å°ç°ä»£.NET å¹¶ä¸æ¯ç®åççæ¬æåãæ­¤æ¬¡è¿ç§»ä»£è¡¨äºè¿è¡æ¶ãæç®¡æ¨¡åãéç½®ç³»ç»ãä¾èµæ³¨å¥å HTTP æµæ°´çº¿æ¶æçè½¬åãè®¸å¤å¢éä½ä¼°äºè¿ä¸ç¹ï¼æå®å½ä½æ åçæ¡æ¶åçº§ï¼ç»æå¨æµç¨åææåç°ä»ä»¬åºç¨ä¸­çæ ¸å¿åè®¾å·²ç»ä¸åæç«ãå¥½æ¶æ¯æ¯ï¼Microsoft æä¾äºæç¡®çæå¯¼åæ¨¡å¼ï¼ä½¿å¾æ­£ç¡®æä½æ¶è¿ç§»è¿ç¨å¯é¢æµãæ¬æä»ç»äºä¸ä¸ªå®ç¨çéæ­¥ç­ç¥ï¼å¦ä½å°åºäº.NET Framework æå»ºç ASP.NET MVC 5 åºç¨è¿ç§»å°è¿è¡å¨ç°ä»£.NET ä¸ç ASP.NET Coreï¼åæ¶æå¤§éåº¦å°åå°é£é©ååæºæ¶é´ã</span></li>
<li><strong>æç« å°åï¼</strong><span>&nbsp;https://www.cnblogs.com/powertoolsteam/p/19486260</span></li>
</ul>
<h2 data-tool="mdniceç¼è¾å¨"><span>ä½¿ç¨ MCP C# SDK å®ç° MCP Tool</span></h2>
<ul class="list-paddingleft-1">
<li><strong>æç« ç®ä»ï¼</strong><span>&nbsp;<span>MCPæ¯ç±Anthropicåå»ºçä¸ä¸ªå¼æ¾åè®® ç°å¨æå®æ¹ C# SDK äºï¼å®æ¹ C# SDK ç±åæ¥ç mcpdotnet åå±èæ¥ï¼åºäº Microsoft.Extensions.AI å®ç°ï¼æªæ­¢åæç« çæ¶åï¼2025-4-1ï¼ç®åææ°çæ¬æ¶ 0.1.0-preview 4 äºï¼è¿ä¸çæ¬ä¸­å¢å äº ModelContextProtocol.AspNetCore NuGet åï¼ä½¿å¾å®ç°åºäº ASP.NET Core SSE ç Mcp Server æ´å ç®åäºï¼ä¹åççæ¬ä¸­éè¦å°ç¤ºä¾ä¸­çæ©å±æ·è´å°èªå·±é¡¹ç®ä¸­å»ï¼æäºè¿ä¸ª NuGet åä¹åå°±ä¸éè¦äºï¼McpServer ç®åä¸»è¦çä¸¤ç§å®ç°æ¹å¼æ¯ Stdio(æ åè¾å¥è¾åº) å SSEï¼Server Sent Event)ï¼æ°çè§èéæåºäºåºäº Http çæ¯æï¼ç®åææ¶è¿æªæ¯æ</span></span></li>
<li><strong>æç« å°åï¼</strong><span>&nbsp;https://mp.weixin.qq.com/s/JSIbOo17zcQrcuCLVWN4XQ</span></li>
</ul>
<h2 data-tool="mdniceç¼è¾å¨"><span>ä¸æ¬¾ä¸ä¸º WinUI XAML è®¾è®¡çå¿«éååè®¾è®¡å·¥å·ï¼çæçä»£ç å¯è½»æ¾å¤å¶å°Visual Studioä¸­ï¼</span></h2>
<ul class="list-paddingleft-1">
<li><strong>æç« ç®ä»ï¼</strong><span>&nbsp;XAML Studio æ¯ä¸æ¬¾ä¸ä¸º WinUI XAML è®¾è®¡çå¿«éååè®¾è®¡å·¥å·ï¼åºäº C# å¼æºï¼MIT licenseï¼ï¼çæçä»£ç å¯è½»æ¾å¤å¶å° Visual Studio ä¸­çåºç¨ä¸­ãXAML Studio è®©ä½ å®æ¶é¢è§ XAML ä»£ç ï¼å¹¶ä¸ç»æäºå¨ï¼å°±åå®å¨ä½ èªå·±çåºç¨ä¸­è¿è¡ä¸æ ·ã</span></li>
<li><strong>æç« å°åï¼</strong><span>&nbsp;https://mp.weixin.qq.com/s/Kf_MrpoC-I7UbhmUNLusow</span></li>
</ul>
<p><img src="https://img2024.cnblogs.com/blog/1336199/202601/1336199-20260121223934530-1265321004.png" alt="image" loading="lazy"></p>
<h2 data-tool="mdniceç¼è¾å¨"><span>ä¸ä¸ªè´åäºä¸º C# ç¨åºåæä¾æ´ä½³çç¼ç ä½éªåæçç Visual Studio æ©å±æä»¶</span></h2>
<ul class="list-paddingleft-1">
<li><strong>æç« ç®ä»ï¼</strong><span>&nbsp;Codist æ¯ä¸ä¸ªä½¿ç¨ .NET ç¼åãå¼æºåè´¹ç Visual Studio æ©å±æä»¶ï¼è´åäºä¸º C# ç¨åºåæä¾æ´å¥½çç¼ç¨ä½éªåçäº§æçãå®ä¸ä»å¼ºåäºè¯­æ³é«äº®ãå¿«éä¿¡æ¯æç¤ºãå¯¼èªæ ãæ»å¨æ¡åæ¾ç¤ºè´¨éï¼è¿éæäºèªå¨çæ¬å·æ´æ°ãæ¬å·èªå¨è¡¥å¨ãæ¯æé«çº§ç¼è¾åè½çæºè½å·¥å·æ ãä»£ç åæç­åè½ã</span></li>
<li><strong>æç« å°åï¼</strong><span>&nbsp;https://mp.weixin.qq.com/s/UWuCIY4Q5PJeNClrQWPGEw</span></li>
</ul>
<p><img src="https://img2024.cnblogs.com/blog/1336199/202601/1336199-20260121223949797-1643034810.png" alt="image" loading="lazy"></p>
<h2 data-tool="mdniceç¼è¾å¨"><span>åºäºNetCorePal Cloud FrameworkçDDDæ¶æç®¡çç³»ç»å®è·µ</span></h2>
<ul class="list-paddingleft-1">
<li><strong>æç« ç®ä»ï¼</strong><span>&nbsp;åæ®µæ¶é´å¨åä¸ä¸ªç®¡çç³»ç»çé¡¹ç®ï¼æ³å°è¯ä¸ä¸DDDæ¶æå¨å®éé¡¹ç®ä¸­çåºç¨ãç»è¿ä¸çªè°ç ï¼æç»éæ©äºNetCorePal Cloud Frameworkä½ä¸ºåºç¡æ¡æ¶ï¼ç»å.NET 10åVue 3æ­å»ºäºä¸å¥å®æ´çååç«¯åç¦»æ¶æãä»å¤©å°±æ³åå¤§å®¶åäº«ä¸ä¸è¿ä¸ªé¡¹ç®çæ¶æè®¾è®¡åææ¯éåï¼å¸æè½ç»æ­£å¨åç±»ä¼¼é¡¹ç®çæåä¸äºåèã</span></li>
<li><strong>æç« å°åï¼</strong><span>&nbsp;https://www.cnblogs.com/aishangyipiyema/p/19499381</span></li>
</ul>
<p data-tool="mdniceç¼è¾å¨"><span>æ´ä¸ªé¡¹ç®éç¨äºç»å¸çä¸å±æ¶æï¼è¿ä¸ªç»æåºè¯¥å¾å¤åDDDçæåé½æ¯è¾çæãä¸å±ä¹é´çä¾èµå³ç³»æ¯ååçï¼Webå±ä¾èµInfrastructureå±ï¼Infrastructureå±ä¾èµDomainå±ï¼Domainå±ä½ä¸ºæ ¸å¿ï¼ä¸ä¾èµä»»ä½å¶ä»å±ã</span></p>
<pre data-tool="mdniceç¼è¾å¨"><span data-cacheurl="" data-remoteid="" data-lazy-bgimg="https://mmbiz.qpic.cn/mmbiz_svg/9M0PhLTmTIfuVAHk1VdR5Zy00peKjgKQop1xdzcbwGiazUm1vmFujDDTxuk3JCRRGDP5bg6J2zgkvSQ5oF2ySuOZRRbcmAQDn/640?wx_fmt=svg&amp;from=appmsg" data-fail="0"><code><span>Ncp.Admin<br><span>âââ Domainï¼é¢åå±ï¼<br><span>â &nbsp; âââ AggregatesModelï¼èåæ¨¡åï¼<br><span>â &nbsp; âââ DomainEventsï¼é¢åäºä»¶ï¼<br><span>âââ Infrastructureï¼åºç¡è®¾æ½å±ï¼<br><span>â &nbsp; âââ EntityConfigurationsï¼å®ä½éç½®ï¼<br><span>â &nbsp; âââ Repositoriesï¼ä»å¨å®ç°ï¼<br><span>âââ Webï¼è¡¨ç°å±ï¼<br><span>&nbsp; &nbsp; âââ Applicationï¼åºç¨æå¡å±ï¼<br><span>&nbsp; &nbsp; â &nbsp; âââ Commandsï¼å½ä»¤ï¼<br><span>&nbsp; &nbsp; â &nbsp; âââ Queriesï¼æ¥è¯¢ï¼<br><span>&nbsp; &nbsp; â &nbsp; âââ DomainEventHandlersï¼é¢åäºä»¶å¤çå¨ï¼<br><span>&nbsp; &nbsp; âââ Endpointsï¼APIç«¯ç¹ï¼<br></span></span></span></span></span></span></span></span></span></span></span></span></span></code></span></pre>
<h2 data-tool="mdniceç¼è¾å¨"><span>WPF ä½¿ç¨ <span>HLSL + Clip å®ç°é«äº®æ­è¯åç§ææ</span></span></h2>
<ul class="list-paddingleft-1">
<li><strong>æç« ç®ä»ï¼</strong><span>&nbsp;æè¿å¨æä¸ä¸ªLyricify Liteç±»ä¼¼ç©ï¼åæ¬ä½¿ç¨æ¸åç»å·å®ç°æ­è¯é«äº®ï¼ä½æ¯åç°è§è§ææä¸<span>Apple Musicç¸å»çè¿ï¼åçº¯ä½¿ç¨ç½è²æ¸åç»å·ç¼ºä¹âé«äº®âçåç§æè§ï¼èApple Musicçæ­è¯é«äº®åæ´åæ¯æåçº¿æå°å¨æ­è¯ä¸ï¼å½¢æä¸ç§æåçååææã</span></span></li>
<li><strong>æç« å°åï¼</strong><span>&nbsp;https://www.cnblogs.com/TwilightLemon/p/19497125</span></li>
</ul>
<p><img src="https://img2024.cnblogs.com/blog/1336199/202601/1336199-20260121224009988-596818876.png" alt="image" loading="lazy"></p>
<h2 data-tool="mdniceç¼è¾å¨"><span>åºäº.NETåC<a class="wx_topic_link" data-topic="1">#æå»ºåä¼IoTç©æ¨¡åæ¹æ¡</a></span></h2>
<ul class="list-paddingleft-1">
<li><strong>æç« ç®ä»ï¼</strong><span>&nbsp;æ¬æä¸»è¦ä»ç»åºäº.NETåC<a class="wx_topic_link" data-topic="1">#æå»ºåä¼IoTç©æ¨¡åçæ¹æ¡</a>ã</span></li>
<li><strong>æç« å°åï¼</strong><span>&nbsp;https://www.cnblogs.com/tianqing/p/19490649</span></li>
</ul>
<h2 data-tool="mdniceç¼è¾å¨"><span>ä¸æè·ä¸ªåï¼.NET 10 å¤§æ´æ°è®¡ç®å¯¹éµ Javaï¼ç»æä»¤äººæå¤</span></h2>
<ul class="list-paddingleft-1">
<li><strong>æç« ç®ä»ï¼</strong><span>&nbsp;æå¯¹æ°å¼è®¡ç®çæ§å¿µï¼æ¥èªåä¸­æ¶ä»£çé¾ç¼­ç»çç½å§ãé£æ¶ç©ãä¼å¥ãï¼æè®©æçè¿·çä¸æ¯ææªçè£å¤ï¼èæ¯è§è²é¢æ¿éé£æ¡é¿é¿çç»éªå¼ãççæ°å­ä¸æ­è·³å¨ãç´¯ç§¯ï¼æç»âå®âä¸å£°åçº§ï¼é£ç§ç®åçæ°å¼é©±å¨æ´ä¸ªä¸çè¿è½¬çæè§ï¼å®å¨å¤ªå¥å¦äºã</span></li>
<li><strong>æç« å°åï¼</strong><span>&nbsp;https://www.cnblogs.com/sdcb/p/19484525/20261113-big-integer-dotnet-10-vs-java</span></li>
</ul>
<p><img src="https://img2024.cnblogs.com/blog/1336199/202601/1336199-20260121224026142-562470130.png" alt="image" loading="lazy"></p>
<h2 data-tool="mdniceç¼è¾å¨"><span>.NET Aspire æ¦è¿°</span></h2>
<ul class="list-paddingleft-1">
<li><strong>æç« ç®ä»ï¼</strong><span>&nbsp;.NET Aspire æ¯ Microsoft å¨ Build 2024 ä¸æ¨åºçä¸ä¸ªå¼æºæ¡æ¶ï¼æ¨å¨ç®åä½¿ç¨ .NET 8 åæ´é«çæ¬åå»ºåå¸å¼äºåçåºç¨çæµç¨ãå®éè¿æä¾ä¸å¥å·¥å·ãæ¨¡æ¿åæä½³å®è·µï¼è®©å¼åèè½å¤æ´ä¸æ³¨äºä¸å¡é»è¾èéåºç¡è®¾æ½çæ­å»ºãæ¬æå°è¯¦ç»ä»ç» .NET Aspire çæ ¸å¿åè½ãä¼å¿ä»¥åå¦ä½å¿«éä¸æä½¿ç¨è¿ä¸åæ°æ¡æ¶ã</span></li>
<li><strong>æç« å°åï¼</strong><span>&nbsp;https://www.cnblogs.com/powertoolsteam/p/19477015</span></li>
</ul>
<h2 data-tool="mdniceç¼è¾å¨"><span>æ»ç»å½çº³.NET 10 ä¸­ Minimal APIs ä¸»è¦åºç¨åºæ¯</span></h2>
<ul class="list-paddingleft-1">
<li><strong>æç« ç®ä»ï¼</strong><span>&nbsp;æ¬æä¸»è¦æ»ç»å½çº³.NET 10 ä¸­ Minimal APIs ä¸»è¦åºç¨åºæ¯ã</span></li>
<li><strong>æç« å°åï¼</strong><span>&nbsp;https://www.cnblogs.com/tianqing/p/19467531</span></li>
</ul>
<h2 data-tool="mdniceç¼è¾å¨"><span>C# 14 ä¸­çæ°å¢åè½</span></h2>
<ul class="list-paddingleft-1">
<li><strong>æç« ç®ä»ï¼</strong><span>&nbsp;C# 14 å¼å¥äºå¤é¡¹éè¦æ´æ°ï¼ä»¥ä¸æ¯ä¸»è¦åè½çè¯¦ç»è¯´æã</span></li>
<li><strong>æç« å°åï¼</strong><span>&nbsp;https://www.cnblogs.com/net-kevin-li/p/19476883</span></li>
</ul>
<h2 data-tool="mdniceç¼è¾å¨"><span>è·¨è¶ææ¯é¸¿æ²ï¼Aspire èµè½ JavaScript ä¸ Node.js å¼åèçæ·±åº¦çæèå</span></h2>
<ul class="list-paddingleft-1">
<li><strong>æç« ç®ä»ï¼</strong><span>&nbsp;å¨äºåçåºç¨å¼åçæ¼è¿åç¨ä¸­ï¼ææ¯æ çå¼ææ§å§ç»æ¯ä¸ä¸ªæ ¸å¿ç¹å¾ãé¿æä»¥æ¥ï¼ä¼ä¸çº§åºç¨å¼åå¾å¾åç°åºâåæ¨¡ITâçç¹å¾ï¼åç«¯æå¡ä¾èµäº.NET çæç³»ç»çå¼ºç±»åãé«æ§è½åä¼ä¸çº§ç¨³å¥æ§ï¼èåç«¯äº¤äºä¸é¨åå¾®æå¡åå¹¿æ³éç¨ JavaScript/TypeScript çæç³»ç»ççµæ´»æ§ä¸åºå¤§ç¤¾åºèµæºãè¿ç§å¤è¯­è¨ï¼Polyglotï¼æ¶æè½ç¶å¨åè½ä¸äºè¡¥ï¼ä½å¨å¼åè¿ç»´ï¼DevOpsï¼çâåå¾ªç¯ï¼Inner Loopï¼âä¸­å´å¶é äºæ¾èçæ©æ¦ãå¼åèå¸¸å¸¸éè¦å¨ Visual Studio çè°è¯å¨ãå¤æç Docker Compose YAML æä»¶ãæ£ä¹±ç Shell èæ¬ä»¥åæå¨ç»´æ¤ç .env ç¯å¢åéæä»¶ä¹é´é¢ç¹åæ¢ã</span></li>
<li><strong>æç« å°åï¼</strong><span>&nbsp;https://www.cnblogs.com/shanyou/p/19474912</span></li>
</ul>
<h2 data-tool="mdniceç¼è¾å¨"><span>.NET ç£çç®¡ç-ææ¯æ¹æ¡éå</span></h2>
<ul class="list-paddingleft-1">
<li><strong>æç« ç®ä»ï¼</strong><span>&nbsp;å¨å®¶åº­ä»¥åä¼ä¸åºæ¯ä¸çç½ç»ç£çäº§åï¼ä½¿ç¨Iscsiåéè¦å¯¹ç£çè¿è¡ç®¡çãä¸åWindowsçæ¬ãå®è£ç¬¬ä¸æ¹è½¯ä»¶ï¼å¯¼è´æ¯ä¸ªCç«¯ç¨æ·çè¿è¡ç¯å¢ä¸åï¼å¯¹ç£ççç®¡çå¸¦æ¥ä¸å®çä½¿ç¨å¹²æ°ï¼æ¬æä»ç»ä¸ç£çç®¡ççå ç§æ¹æ¡ä»¥åå­å¨çä¸äºé®é¢ã</span></li>
<li><strong>æç« å°åï¼</strong><span>&nbsp;https://www.cnblogs.com/kybs0/p/19473484</span></li>
</ul>
</div>
<div id="MySignature" role="contentinfo">
    <blockquote>
<p style="font-family:YouYuan;font-size: 16px;margin: 0 auto 0.01em auto;"><span style="font-size: 17px; ">ä½èåç§°ï¼</span><a href="https://www.cnblogs.com/Can-daydayup/" target="_blank">è¿½éæ¶åè</a></p>
<p style="font-family:YouYuan;font-size: 16px;margin: 0 auto 0.01em auto;"><span style="font-size: 17px; ">ä½èç®ä»ï¼</span>ä¸ä¸ªç­ç±ç¼ç¨ãåäºåäº«ãåæ¬¢å­¦ä¹ ãæ¢ç´¢ãå°è¯æ°äºç©åæ°ææ¯çå¨æ è½¯ä»¶å·¥ç¨å¸ã</p>
<p style="font-family:YouYuan;font-size: 16px;margin: 0 auto 0.01em auto;">
æ¬æçæå½ä½èååå®¢å­å±æï¼æ¬¢è¿è½¬è½½ï¼ä½æªç»ä½èåæå¿é¡»ä¿çæ­¤æ®µå£°æï¼ä¸å¨æç« é¡µé¢ææ¾ä½ç½®ç»åºåæé¾æ¥ï¼å¦åä¿çè¿½ç©¶æ³å¾è´£ä»»çæå©ãå¦æè¯¥ç¯æç« å¯¹æ¨æå¸®å©çè¯ï¼å¯ä»¥ç¹ä¸ä¸å³ä¸è§ç<a onclick="votePost(cb_entryId,'Digg')" href="javascript:void(0)" style="color:red;">ãâ¥æ¨èâ¥ã</a>ï¼å¸æè½å¤æç»­çä¸ºå¤§å®¶å¸¦æ¥å¥½çææ¯æç« ï¼æä¸­å¯è½å­å¨æè¿°ä¸æ­£ç¡®çå°æ¹ï¼æ¬¢è¿ææ­£æè¡¥åï¼ä¸èææ¿ã
</p>
</blockquote>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-21 22:41">2026-01-21 22:41</span>&nbsp;
<a href="https://www.cnblogs.com/Can-daydayup">è¿½éæ¶åè</a>&nbsp;
éè¯»(<span id="post_view_count">256</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19514257);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19514257', targetLink: 'https://www.cnblogs.com/Can-daydayup/p/19514257', title: 'C#/.NET/.NET Coreææ¯åæ²¿å¨å | ç¬¬ 66 æï¼2026å¹´1.12-1.18ï¼' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ä¸ä¸ªå°æå·§è½»æ¾æåDashåºç¨debugæç ]]></title>
    <link>https://www.cnblogs.com/feffery/p/19513359</link>
    <guid>aa07d9423259730de983c7bc586a2fc4</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/feffery/p/19513359" title="åå¸äº 2026-01-21 17:53">
    <span role="heading" aria-level="2">ä¸ä¸ªå°æå·§è½»æ¾æåDashåºç¨debugæç</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<center style="font-size: 18px; font-weight: bold; padding-top: 40px">æ´å¤Dashåºç¨å¼åå¹²è´§ç¥è¯ãæ¡ä¾ï¼æ¬¢è¿å³æ³¨âç©è½¬Dashâå¾®ä¿¡å¬ä¼å·ð</center>
<p><img src="https://img2024.cnblogs.com/blog/1344061/202507/1344061-20250703190053776-1837084116.png" alt="image" loading="lazy"></p>
<h1 id="1-ç®ä»">1 ç®ä»</h1>
<p>å¤§å®¶å¥½ææ¯è´¹èå¸ã<code>Dash</code>ä½ä¸ºåºäº<code>Python</code>è¿è¡<em>å¨æ åºç¨å¼å</em>çæµè¡æ¡æ¶ï¼å·æå¼ºå¤§ç<em>å¯ä¼¸ç¼©æ§</em>ââè¿æå³çå¨åä¸å¥åºäº<strong>ç»ä»¶+åè°å½æ°</strong>çä»£ç ç»ç»æ¹å¼ä¸ï¼ä½¿ç¨<code>Dash</code>å¯ä»¥è½»æ¾è¦çä»å°åç®ååºç¨ï¼å°å¤§åå¤æåºç¨ï¼åç§å¤æç¨åº¦çåºç¨å¼åä»»å¡ãè¿ä¹æ¯<code>Dash</code>å¨ä¸çèå´åï¼è¢«ä¼å¤çå¤§å¬å¸ç¨äºæç»­å¼å<em>ä¼ä¸çº§</em>æ°æ®åºç¨çåå ä¹ä¸ã</p>
<center><img src="https://img2024.cnblogs.com/blog/1344061/202509/1344061-20250910154430584-1965899431.png" width="50%"></center>
<p>èéçæå¼åç<code>Dash</code>åºç¨åè½æ¥çå¢é¿ï¼æä»¬åéè¦å­¦ä¹ å¦ä½å¨åºç¨å¼åè¿ç¨ä¸­ï¼æ´<strong>é«æåç¡®</strong>ç<em>è°è¯åºç¨åè½é»è¾</em>ï¼<em>å®ä½å¼å¸¸é®é¢æå¨</em>ã</p>
<p>ä»å¤©çæç« ä¸­ï¼æä»¬å°±æ¥ä¸èµ·å­¦ä¹ æ°çæ¬<code>Dash</code>ï¼&gt;=3.4.0çæ¬ï¼ä¸­å¢å çä¸äºåè½ç¹æ§ï¼å¸®å©æä»¬æ´ç²¾åå¿«éçå®ä½å¸¸è§åè°å½æ°å¼åé®é¢ã</p>
<h1 id="2-å¨åè°å¾ä¸­ç¨hiddenåhide_all_callbacksåæ°èç¦åè°å½æ°">2 å¨åè°å¾ä¸­ç¨hiddenåhide_all_callbacksåæ°èç¦åè°å½æ°</h1>
<p>è½ç¶æä¹åå¨<em>å¬ä¼å·</em>ã<em>ç©è½¬Dashç¥è¯æç</em>ç­å¹³å°åå¸çæç« åè¯¾ç¨ä¸­ï¼å¹¶æ²¡æä¸é¨åè¿ä»ç»ï¼ä½å¾å¤åå­¦åºè¯¥å¯¹ç±»ä¼¼ä¸é¢ççé¢æå°è±¡ï¼æä»¬å¨<code>Dash</code>åºç¨å¼åé¶æ®µï¼ä¸º<code>app.run()</code>è®¾ç½®<code>debug=True</code>å¼å¯<em>å¼åè°è¯æ¨¡å¼</em>åï¼éè¿ç¹å»å³ä¸è§å¼åæ¨¡å¼å·¥å·æ¡ä¸­ç<strong>Callbacks</strong>æé®ï¼å¯ä»¥å±å¼ä¸å¥å¯äº¤äºç<strong>æåå¾</strong>ï¼æä»¬å¯ä»¥å°å¶ç§°ä½<strong>åè°å¾</strong>ã</p>
<center><img src="https://img2024.cnblogs.com/blog/1344061/202601/1344061-20260121175038215-1907019957.png"></center>
<p>é»è®¤æåµä¸ï¼å®è®°å½å¹¶åç°å½å<code>Dash</code>åºç¨ä¸­å¨é¨çåè°å½æ°ç¼æå³ç³»ï¼è¿å¯¹äº<strong>å°å</strong>ç<code>Dash</code>åºç¨å¾ç´è§æäºï¼å ä¸ºå¾ä¸­ç<em>èç¹</em>å<em>è¾¹</em>æ¯è¾å°ãä½æ¯å¯¹äºé¡µé¢ä¼å¤ãåè½é»è¾ä¼å¤çä¸­å¤§å<code>Dash</code>åºç¨æ¥è¯´ï¼å½ä½ æå¼åè°å¾æ¶ï¼çå°çå¯è½æ¯ä¸é¢è¿æ ·åºå¤§å¤æçæ¯è±¡ï¼</p>
<center><img src="https://img2024.cnblogs.com/blog/1344061/202601/1344061-20260121175040979-568062826.png"></center>
<p>ðè¿ç§æåµä¸æä»¬å¤§æ¦çä¼å½åä»ä¹é½æ²¡çè§ï¼é»é»çå³é­åè°å¾é¢æ¿ããã</p>
<center><img src="https://img2024.cnblogs.com/blog/1344061/202601/1344061-20260121175055369-1439370721.jpg"></center>
<p>é£ä¹ææ²¡æåæ³å¨è¿ä¸ª<em>åè°å¾</em>ä¸­é»è®¤<em>ä¸å±ç¤ºå¨é¨</em>ç<em>åè°å³ç³»</em>ï¼åªéå¯¹ç®åå³æ³¨çé¨ååè°å½æ°è¿è¡å±ç¤ºå¢ï¼</p>
<p>æçåå¼ï¼æçï¼é¦åæä»¬ç´æ¥å°<code>Dash</code>åçº§å°<code>&gt;=3.4.0</code>çæ¬ï¼</p>
<pre><code class="language-bash">pip install dash -U
</code></pre>
<p>ä»¥å®ç°âæ¼æ¥ä¸¤ä¸ªè¾å¥æ¡åå®¹âçç®ååºç¨åè½ä¸ºä¾ï¼</p>
<pre><code class="language-python">import dash
from dash import html
import feffery_antd_components as fac
from dash.dependencies import Input, Output
from feffery_dash_utils.style_utils import style

app = dash.Dash(__name__, suppress_callback_exceptions=True)

app.layout = html.Div(
    [
        fac.AntdSpace(
            [
                fac.AntdInput(id="input1", placeholder="è¯·è¾å¥åå®¹"),
                fac.AntdInput(id="input2", placeholder="è¯·è¾å¥åå®¹"),
                fac.AntdText(id="output-texxt"),
            ]
        )
    ],
    style=style(padding=50),
)

@app.callback(
    Output("output-text", "children"),
    Input("input1", "value"),
    Input("input2", "value"),
)
def combine_inputs(input1, input2):
    """æ¼æ¥è¾å¥çåå®¹"""
    return "æ¼æ¥ç»æï¼" + (input1 or "") + (input2 or "")

if __name__ == "__main__":
    app.run(debug=True)
</code></pre>
<p>å¨ä¸é¢çç¤ºä¾ä»£ç ä¸­ï¼æä»¬<strong>âä¸å°å¿â</strong>å°æç¨äº<em>æ¾ç¤ºæ¼æ¥åå®¹ç»æ</em>çç»ä»¶<code>id</code>åæ°åæäº<code>output-texxt</code>ð¤¯ï¼è¿ä¹æ¯æ¯è¾å¸¸è§çå¯¼è´åè°å½æ°ä¸çæçåå ä¹ä¸ï¼</p>
<center><img src="https://img2024.cnblogs.com/blog/1344061/202601/1344061-20260121175057590-225038268.png"></center>
<p>è¿ç§æåµä¸ï¼å½æä»¬å¨æµè§å¨ä¸­åç°ç¸å³åè½æ²¡æå¦æè¿ä½æ¶ï¼</p>
<center><img src="https://img2024.cnblogs.com/blog/1344061/202601/1344061-20260121175059670-668077126.gif"></center>
<p>å°±å¯ä»¥<strong>ä¼åèè</strong>éè¿<em>åè°å¾</em>æ¥çå¯¹åºåè°å½æ°çæ§è¡æåµï¼å¯ä»¥çå°è½ç¶æä»¬å¨ç¸å³è¾å¥æ¡éè¾å¥äºä¸äºåå®¹ï¼ä½å¯¹åºçåè°å½æ°ä¸æ¬¡é½æ²¡æ§è¡ï¼<code>count 0</code>ï¼ï¼</p>
<center><img src="https://img2024.cnblogs.com/blog/1344061/202601/1344061-20260121175104165-1673715625.gif"></center>
<p>è¿ç§æåµä¸ï¼æä»¬<strong>é¦å</strong>å°±å¯ä»¥æ³å°æ¯ä¸æ¯å¯¹åºåè°å½æ°ä¸­æ<code>Output</code>è§è²ç<code>id</code>ï¼ä¸å¯¹åºç»ä»¶å®ä¹ç<code>id</code>åæ°ä¸ä¸æ ·ï¼ç»è¿ä¿®æ­£ï¼åè½æ­£ç¡®è¿ä½çæåµä¸ï¼å¨åè°å¾ç»æä¸­å°±å¯ä»¥çå°è¯¥åè°å½æ°<em>æ§è¡äºå¤å°æ¬¡</em>ã<em>æ§è¡èæ¶</em>ç­æç¨çä¿¡æ¯ï¼</p>
<center><img src="https://img2024.cnblogs.com/blog/1344061/202601/1344061-20260121175106405-386111932.gif"></center>
<p>æ­¤æ¶ï¼æä»¬åèæ³å°ä¸æä¸­å±ç¤ºè¿çï¼å¯¹åºä¸­å¤§å<code>Dash</code>åºç¨ç<strong>éå¸¸åºæ</strong>çåè°å¾ï¼åå¦ä¸é¢è¿ä¸ªåè°å½æ°<code>debug</code>çåºæ¯åºç°å¨ç±»ä¼¼è§æ¨¡çåºç¨ä¸­ï¼æä»¬å°±å¯ä»¥åºäº<code>Dash&gt;=3.4.0</code>çæ¬ï¼é¦åå¨<code>app.run()</code>ä¸­è®¾ç½®<code>hide_all_callbacks=True</code>ï¼è¿å°å¨åè°å¾ä¸­å¼ºå¶éèææçåè°å½æ°ï¼</p>
<center><img src="https://img2024.cnblogs.com/blog/1344061/202601/1344061-20260121175111240-318613727.png"></center>
<p>ç¶ååä¸ºå¯¹åºçåè°å½æ°<code>callback()</code>ä¸­è®¾ç½®<code>hidden=False</code>ï¼</p>
<center><img src="https://img2024.cnblogs.com/blog/1344061/202601/1344061-20260121175113131-149325016.png"></center>
<p>è¿å°ä»¥<em>æ´é«çä¼åçº§</em>ï¼å¨åè°å¾ä¸­<strong>å¼ºå¶å±ç¤º</strong>å½ååè°å½æ°å³ç³»ï¼è¿æ ·æ è®ºæ¯åå¤æç<code>Dash</code>åºç¨ï¼æä»¬é½å¯ä»¥å¨<em>åè°å¾</em>ä¸­åª<strong>èç¦</strong>äºæä»¬å³æ³¨çé£äºåè°å½æ°ï¼å¤§å¹åº¦æååºç¨åè½è°è¯æçðï¼</p>
<center><img src="https://img2024.cnblogs.com/blog/1344061/202601/1344061-20260121175114783-1832623334.png"></center>
<p>å¤§å®¶å¯ä»¥å¨æ¥å¸¸å¼å<code>Dash</code>åºç¨çè¿ç¨ä¸­ï¼å¤å¤å©ç¨ä»å¤©ä»ç»çæå·§ï¼å¼ååºæ´ç¨³å¥çåºç¨ðª~</p>
<hr>
<p>æ´å¤æå³<code>Dash</code>åºç¨å¼åçå¹²è´§åå®¹ï¼æ¬¢è¿æç»­å³æ³¨æä»¬â¤ï¸</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.001388888888888889" data-date-updated="2026-01-21 17:55">2026-01-21 17:53</span>&nbsp;
<a href="https://www.cnblogs.com/feffery">è´¹å¼é</a>&nbsp;
éè¯»(<span id="post_view_count">101</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19513359);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19513359', targetLink: 'https://www.cnblogs.com/feffery/p/19513359', title: 'ä¸ä¸ªå°æå·§è½»æ¾æåDashåºç¨debugæç' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ãè¯ãVisual Studio 2026 æ¥äºï¼æ´å¿«ãæ´æºè½ï¼æ·±åèç¨æ·çåç± ]]></title>
    <link>https://www.cnblogs.com/MeteorSeed/p/19505675</link>
    <guid>f7742a0943332fe3409dad9643ef78f2</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/MeteorSeed/p/19505675" title="åå¸äº 2026-01-22 13:48">
    <span role="heading" aria-level="2">ãè¯ãVisual Studio 2026 æ¥äºï¼æ´å¿«ãæ´æºè½ï¼æ·±åèç¨æ·çåç±</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p><span>ããæä»¬éå¸¸æ¿å¨å°å®£å¸ï¼Visual Studio 2026 ç°å·²æ­£å¼åå¸ï¼è¿ä¸å»æ¯æä»¬ä¸æ¨æºæå±åçææãæ¨çåé¦å¯¹æ¬æ¬¡çæ¬çå¡é ä½ç¨è¶è¿äºä»¥å¾ä»»ä½ä¸æ¬¡ãèª 2025 å¹´ 9 ææ¨åº Insiders ééä»¥æ¥ï¼ä¸è½½å¹¶æµè¯è¯¥é¢è§ççå¼åèæ°éåä¸äº Visual Studio åå²æ°é«ã</span></p>
<p><span>ããå¨æ­¤æ¬¡çæ¬åå¸åçä¸å¹´éï¼æä»¬ä¿®å¤äºè¶è¿ 5000 ä¸ªä½ ä»¬åé¦çç¨åºç¼ºé·ï¼å¹¶å®ç°äº300é¡¹åè½éæ±ãè¿æ¯æä»¬æå²ä»¥æ¥å®æéæå¤çä¸æ¬¡ï¼èæä»¬æååå¼å§ï¼</span></p>
<p><span>ããæ­¤æ¬¡åå¸åå«å¤é¡¹æ§è½æ¹è¿ãéæ°è®¾è®¡çç¨æ·ä½éªä»¥åäººå·¥æºè½é©±å¨å¼åæ¹é¢çéå¤§é£è·ï¼æ¨å¨å¸®å©å¼åèä¸æ³¨äºçæ­£éè¦çäºæï¼åæ°ãå¦ä»ï¼æ¯ä¸æ¬¡ç¹å»ãæ¯ä¸æ¬¡æé®åæ¯ä¸æ¬¡ç¼è¯é½æ´å æµçãå¿«éä¸ç´è§ ââ è®©æ¨è½å¤ä»¥åææªæçéåº¦å°æ³æ³è½¬åä¸ºä»£ç ã</span></p>
<p><span>ããæ¨æ¯å¦æè¿é£ç§å å¡é¡¿èææ­å·¥ä½èå¥çæ²®ä¸§æï¼æä»¬å·²åªåè®©è¿ç§æåµæä¸ºè¿å»ãæéçæ§è½æå³çå¯å¨éåº¦æ¾èæåï¼ç¨æ·çé¢çååºä¹æä¸ºæµçï¼å ä¹è®©æ¨æè§ä¸å°å®çå­å¨ãæ°çå°å¡é¡¿åå°äº 50% ä»¥ä¸ï¼å³ä¾¿å¨å¤§åé¡¹ç®ä¸­ï¼ä¹è½è®©è¿æ¬¾ IDE ç»äººä¸ç§è½»å·§ãæµççä½¿ç¨ä½éªãæ è®ºæ¨æ¯å¨å¤çä¼ä¸çº§è§æ¨¡çä»£ç ä»åºï¼è¿æ¯å¨å°åä»£ç åºä¸è¿è¡ä¿®æ¹ï¼è¿é½ä¸ºé«æå®æå·¥ä½æ ç«äºæ°çæ åã</span></p>
<p><span><img src="https://img2024.cnblogs.com/blog/270073/202601/270073-20260120112431903-1129042177.webp" alt="1" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></span></p>
<p><span>ããä½è¿ä¸ä»ä»æ¯ä¸ºäºæ´å¿«å°å è½½è§£å³æ¹æ¡ãå¨å è½½åå®¹æ¶ï¼UI ä¹è½ä¿ææ´é«çååºæ§ãäºå®ä¸ï¼é£äºä»¤äººç¦æ¼çç¨æ·çé¢å»ç»ç°è±¡å·²ç»åå°äºä¸åä»¥ä¸ã</span></p>
<p><span><img src="https://img2024.cnblogs.com/blog/270073/202601/270073-20260120112442788-477888352.webp" alt="2" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></span></p>
<p><span>ããç»è®¡æ°æ®åºç¶ä¸éï¼ä½çæ­£éè¦çæ¯å®éä½¿ç¨èµ·æ¥çæåãè¿æ¬¾éæå¼åç¯å¢è¿è¡å¾æ´å¿«ãæ´æµçï¼ååºä¹æ´è¿éãè¿æ¯é£äºæ°å­å¾å¾æ æ³ä½ç°çã</span></p>
<blockquote>
<p>ããâåï¼æååæå¼äºä¸ä¸ªåå« 100 å¤ä¸ªé¡¹ç®çè§£å³æ¹æ¡ï¼ç®ç´ä¸æ¢ç¸ä¿¡å®å¯å¨å¹¶åå¤å°±ç»ªçéåº¦è¿ä¹å¿«ï¼å¹²å¾å¥½ï¼Visual Studio å¢éï¼â</p>
<p>ããââ Steve Smithï¼NimblePros é¦å¸­è½¯ä»¶æ¶æå¸</p>
</blockquote>
<p><span>ããVisual Studio 2026 æ¯åçæ¯æäººå·¥æºè½çï¼ä½¿å¶æä¸ºä¸çä¸é¦ä¸ªæºè½ IDEãè¿å¹¶ä¸æå³çè¦æ¹åæ¨çå·¥ä½æ¹å¼ï¼èæ¯æå³çå¨æå³é®çæ¶å»ä¸ºæ¨æä¾æºè½æ¯æãå½æ¨å¨è°è¯æ£æé®é¢ãåææ§è½æå¯¹åºç¨ç¨åºè¿è¡ç°ä»£åæ¹é æ¶ï¼äººå·¥æºè½ä¼ä»å¥ï¼åå°é»ç¢å¹¶åç°æç¨çè§è§£ï¼å¸®å©æ¨å¨ä¸ä¸­æ­å·¥ä½æµç¨çæåµä¸æ´å¿«å°æ¨è¿å·¥ä½ãå®çä½ç¨æ¯æåæ¨æ©å·²ä¿¡èµçå·¥ä½æ¹å¼ï¼èéåä»£å®ä»¬ã</span></p>
<p><span>ããæ­¤çæ¬è¿å¸¦æ¥äºæ°ç C# å C++ æºè½ä½ï¼ä¸ä¸ºé£äºæ¯å¤©é½éè¦ç²¾ååº¦åéåº¦çä¸ä¸å¼åèè®¾è®¡ãè¿äºåè½æ©å±äºæ¨çè½åèå´ï¼åæ¶åä¸ä¼å¢å å¤ææ§ï¼è®©æ¨å¨æ´ç­æ¶é´åå®ææ´å¤å·¥ä½çåæ¶ï¼ä»è½ä¿æææ§ãVisual Studio 2026 å¹¶éä¸ºäºäººå·¥æºè½èéç¨äººå·¥æºè½ï¼èæ¯æ¨èµä»¥å®æå·¥ä½çå·¥å·çèªç¶æ¼è¿ï¼åæ¶è¿è½æé«æ¨çå·¥ä½æçã</span></p>
<p><span>ããè¿ç§åå±ä¸ºæ¾ç»çä¼¼é¥ä¸å¯åçå¯è½æ§æå¼äºå¤§é¨ï¼å°äººå·¥æºè½èªç¶å°èå¥æ¨çæ¥å¸¸æµç¨ä¸­ãGitHub Copilot å·²è¿éæä¸º Visual Studio ä¸­ä½¿ç¨æå¹¿æ³çåè½ä¹ä¸ï¼èµ¢å¾äºæ¯å¤©é½ä¾èµå®çå¼åèä»¬çèµèªã</span></p>
<blockquote>
<p><span><span>ããâVisual Studio ä¸­ç&nbsp;<span><span>Profiler Agent&nbsp;<span><span>ç«å³çªåºæ¾ç¤ºäºç¶é¢ï¼å¹¶æå¯¼æå®ç°äºæ´å¿«ãæ´ç®æ´çæ§è½ ââ å°±åæä¸ä¸ªåç½®çæ§è½æç»ä¸æ ·ãâ</span></span></span></span></span></span></p>
<p><span><span>ããââ Roberto Perezï¼Redis é«çº§å¨çè§£å³æ¹æ¡æ¶æå¸</span></span></p>
</blockquote>
<p><span>ããå½æ¨ä¸æ´å¤©é½å¨ä½¿ç¨ Visual Studio æ¶ï¼æ¯ä¸æ¬¡äº¤äºé½è³å³éè¦ãæä»¬å¨åä»¥èµ´å®åæ ¸å¿åè½ ââ åå°æä½é»ç¢ãä¿®å¤é£äºç»å¾®çâå°éº»ç¦âï¼å¹¶ä¼åæ¨çå·¥ä½æµç¨ãæ­¤æ¬¡åå¸å¼å¥äºçµæ´»çæ°è®¾ç½®ç³»ç»ãç²¾ç¾çç°ä»£å UI éæ°è®¾è®¡ï¼ä»¥åæ°ç¾é¡¹åºå±æ¹è¿ï¼ä»åæ¹é¢æåäºè¿æ¬¾éæå¼åç¯å¢çä½¿ç¨ä½éªã</span></p>
<p><span><img src="https://img2024.cnblogs.com/blog/270073/202601/270073-20260120112521981-360736084.webp" alt="3" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></span></p>
<p><span>ããå¨è¿å» 12 ä¸ªæéï¼æ¨çåé¦å¸®å©æä»¬ä¿®å¤äº 5000 å¤ä¸ªç¨åºç¼ºé·ï¼å¹¶æ°å¢äº 300 å¤é¡¹åè½éæ±ãè¿æ¯æä»¬ä¸º Visual Studio éå¤§çæ¬åå¸æåçæå¤§è§æ¨¡æ¨è¿ï¼èä¸è¿ä¸å¿å¤´è¿å¨æç»­å¢å¼ºãåå©äººå·¥æºè½é©±å¨çå·¥å·ï¼æä»¬è¯å«åè§£å³é®é¢çéåº¦ä¸æ­å å¿«ï¼å æ­¤è½å¤ä»¥åææªæçéåº¦æ¨åºæ¹è¿ã</span></p>
<blockquote>
<p><span><span>ããâææåæ¬¢ Visual Studio 2026 çå°æ¹æ¯å®çæ§è½ä»¥åæ¸æ°æå¿«ç UI ââ èå¯¹ Mermaid å¾è¡¨çæ¯ææ´æ¯é¦ä¸æ·»è±ãâ</span></span></p>
<p><span><span>ããââ Erik Ejlskov Jensen, Context&amp; A/S</span></span></p>
</blockquote>
<p><span>ããææ£çæ¯ï¼Visual Studio 2026 ä¸æ¨å¨ Visual Studio 2022 ä¸­åå»ºçé¡¹ç®åæ©å±å®å¨å¼å®¹ãæ¨å¯ä»¥ç´æ¥æå¼ç°æçè§£å³æ¹æ¡å¹¶ç«å³å¼å§ç¼ç ï¼æ éè¿ç§»æ­¥éª¤ï¼ä¹ä¸ä¼ææå¤æåµãæ¨éç±çæææ©å±ä¹é½è½ä½¿ç¨ï¼å æ­¤æ¨çå·¥ä½åºãå·¥å·åé¡¹ç®è½å¤æ ç¼è¿æ¸¡ï¼è®©è¿æ¬¾éæå¼åç¯å¢ä»é¦æ¬¡å¯å¨èµ·å°±ç»æ¨ä¸ç§çæäº²åçæè§ã</span></p>
<p><span>ããå¦ä»æè¶è¿ 4000 ä¸ªå¯ä¸ Visual Studio 2022 å¼å®¹çæ©å±ï¼å®ä»¬ä¹é½è½å¨ Visual Studio 2026 ä¸è¿è¡ãæ¨å¯ä»¥å®å¿åçº§ï¼èä¸æ¨çè®¾ç½®ä¼ä¸å¦æ¢å¾å°ç¨³å®åçæã</span></p>
<blockquote>
<p><span><span>ãã&nbsp;âä» Visual Studio 2022 è·åæ©å±æ çæ¯ä¸å¤§ä¼å¿ï¼æå¯ä»¥ç«å³å¼å§ä½¿ç¨&nbsp;<span data-pm-slice="1 1 [&quot;para&quot;,{&quot;tagName&quot;:&quot;p&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;text-align: left;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;}]"><span>Visual Studio<span><span>&nbsp;2026äºãâ</span></span></span></span></span></span></p>
<p><span><span>ããââ Didier Donnerï¼Aspen Technology é¦å¸­è½¯ä»¶å·¥ç¨å¸</span></span></p>
</blockquote>
<p><span>&nbsp; &nbsp; ããæ­¤å¤ï¼åå© GitHub Copilot çåºç¨ç°ä»£ååè½ï¼åçº§å° .NET 10 åææ°ç C++ æå»ºå·¥å·çè¿ç¨å¾å°äºå éï¼å¹¶ä¸æä¸ä¸ç¥è¯æä¾æå¯¼ï¼å æ­¤æ¨è½å¤ååå©ç¨ææææ°çæ§è½å¢å¼ºååè½ãGitHub Copilot æ°ç C++ åè½ç°å·²å¨ Private Preview ä¸­æ¨åºã</span></p>
<p><span>&nbsp; &nbsp; ããé¿æä»¥æ¥ï¼æ´æ° Visual Studio æå³çæ¨è¿å¿é¡»åçº§æ¨ç .NET å C++ æå»ºå·¥å·ï¼å ä¸ºå®ä»¬ä¸è¿ä¸ª IDE ç´§å¯ç¸è¿ãè¿å¾å¾ä¼å¸¦æ¥ä¸å°éº»ç¦ï¼å ä¸ºæ¨å¯è½æ³è¦ææ°çåè½åæ¼æ´ä¿®å¤ï¼ä½æ´æ°å¯è½ä¼å¹²æ°æ¨ç°æçé¡¹ç®ï¼æèè¿«ä½¿æ¨è¿è¡å°æªåå¤å¥½çå·¥å·é¾åæ´ã</span></p>
<p><span>&nbsp; &nbsp; ããVisual Studio 2026 æ¹åäºè¿ä¸åãç°å¨ï¼è¯¥ IDE ä¸å¶æå»ºå·¥å·è§£è¦ï¼å æ­¤æ¨å¯ä»¥éæ¶æ´æ° Visual Studio æ¬èº«ï¼èä¸ä¼å½±åæ¨ç .NET æ C++ ç¼è¯å¨ãæ´æ£çæ¯ï¼æ¨å°è·å¾æ¯æèªå¨æ´æ°ï¼è¿äºæ´æ°ä¼ä¸ºæ¨ç IDE å¸¦æ¥æ°åè½ãè®¾è®¡è°æ´åçäº§åæåï¼åæ¶è½è®©æ¨çå·¥å·é¾å¨æ¨éè¦çæ¶é´åä¿æç¨³å®ã</span></p>
<p><span>&nbsp; &nbsp; ããå¦ææ¨åæ¬¢æ¯å¶ä»äººåè¯ç¨æ°åè½ï¼é£ä¹ Insiders ééå¾éåæ¨ãè¯¥ééä¼æ¶å°é¢ç¹çæ´æ°ï¼è®©æ¨è½å¤è¯ä¼°ææ°åè½ï¼ä¸ä¸ä¼å½±åæ¨çä¸»è¦è®¾ç½®ï¼å ä¸ºå®å¯ä»¥ä¸ç¨³å®çä¸åå®è£ãè®¸å¤äººå·²ç»å¨ä½¿ç¨å®æ¥ä¿ææ´æ°ãå å¥ Insidersï¼çåä½éªææææ°åè½å§ã</span></p>
<p><span>&nbsp; &nbsp; ããå¥½å¥å¨è¿ä¸ªæ°çæ¬ä¸­è¿è½åç°ä»ä¹ï¼æ¥çåå¸è¯´æä»¥è·åå®æ´è¯¦æã</span></p>
<p><span>&nbsp; &nbsp; ããç°å¨å°±ä¸è½½ Visual Studio 2026ï¼å¹¶åå¾ Visual Studio å¼åèç¤¾åºï¼åäº«åªäºåè½è¿è¡è¯å¥½ãæ¨æ­£å¨åå»ºçåå®¹ï¼æèæä»¬å¯ä»¥å¨åªäºæ¹é¢å ä»¥æ¹è¿ãæä»¬å¨å¾å¬ã</span></p>
<h1><span><span>æ¥ä¸æ¥ä¼åçä»ä¹</span></span></h1>
<p><span>ããå¦ææ¨æ¯ Visual Studio è®¢éèï¼åªéç»å½ Visual Studio 2026ï¼æ¨çè®¸å¯è¯å°±ä¼èªå¨æ¿æ´»ã</span></p>
<p><span>ããä½¿ç¨äº§åå¯é¥çè®¢éèå¯ä»¥éæ¶å¨ my.visualstudio.comä¸ æ¾åè¿äºå¯é¥ã</span></p>
<p><span>ããå¯¹äºæ³è¦è´­ä¹°ç¬ç«ä¸ä¸çè®¸å¯è¯çå¼åèèè¨ï¼Visual Studio 2026 å°äº 2025 å¹´ 12 æ 1 æ¥èµ·å¨å¾®è½¯åºç¨ååºä¸çº¿ã</span></p>
<p><span>ããéå¸¸æè°¢æä»¬çåæµç¨æ·å MVPï¼æ¯æ¨ä»¬è®©è¿æ¬¡åå¸åå¾æä¹éå¡ãè®©æä»¬ç»§ç»­æºæå±åç¼ç çæªæ¥ã</span></p>
<p><span>ããæçææ¿ä¹æï¼</span></p>
<p><span>ããââ Visual Studio å¢é</span></p>
<p><span>&nbsp;</span></p>
<p><span>åæé¾æ¥ï¼<span>https://devblogs.microsoft.com/visualstudio/visual-studio-2026-is-here-faster-smarter-and-a-hit-with-early-adopters/</span></span></p>
<p><span><span><img src="https://img2024.cnblogs.com/blog/270073/202508/270073-20250825145337681-1658462272.png" alt="me" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></span></span></p>
<p>&nbsp;</p>
</div>
<div id="MySignature" role="contentinfo">
    <blockquote>
<p><strong>ä½èï¼</strong><a href="http://www.cnblogs.com/MeteorSeed">MeteorSeed</a></p>
<p><strong>æå¸ææ¨åæ¬¢è¿ç¯åæï¼å¹¶ä¸å¦æ¢å¾å°æè°¢æ¨éè¯»å¹¶ä¸æåååäºåäº«æçåæã</strong></p>
<p><strong>è½¬è½½è¯·æ³¨æåºå¤ã</strong></p>
</blockquote>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-22 13:48">2026-01-22 13:48</span>&nbsp;
<a href="https://www.cnblogs.com/MeteorSeed">MeteorSeed</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19505675);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19505675', targetLink: 'https://www.cnblogs.com/MeteorSeed/p/19505675', title: 'ãè¯ãVisual Studio 2026 æ¥äºï¼æ´å¿«ãæ´æºè½ï¼æ·±åèç¨æ·çåç±' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ åç«¯éªä¿®ï¼ä¸ç¨Viteä¹ä¸ç¨Webpackï¼æReactæåHTMLæ¶ä»£çåå·¥ç¨åå®è·µ ]]></title>
    <link>https://www.cnblogs.com/deali/p/19516127</link>
    <guid>e1bcdc201753f9a3cdd2406dc72c3913</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/deali/p/19516127" title="åå¸äº 2026-01-22 11:21">
    <span role="heading" aria-level="2">åç«¯éªä¿®ï¼ä¸ç¨Viteä¹ä¸ç¨Webpackï¼æReactæåHTMLæ¶ä»£çåå·¥ç¨åå®è·µ</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="åè¨">åè¨</h2>
<p>æè¿ä¸ç´å¿äºè£ä¿®åå¼åæ°äº§åï¼æç« é½æ²¡æ¶é´æ´æ°ï¼å¿«éè¿­ä»£çåæå°±æ¯æ¶ææ²¡æè·ä¸åè½å¢é¿çæ­¥ä¼ï¼ç°å¨ééæè±ç¦»ææ§çæè§ï¼æè¿å å¤©ä¹æè¿åº¦æ¾æ¢ä¸æ¥ï¼æèä¸ä¸æ´ä½çè§åã</p>
<p>ä¹é¡ºä¾¿æ´çä¸ä¸ç¬è®°ï¼æ²¡æè¾åºå¿éå¾ä¸è¸å®ð¤£</p>
<p>å¥½äºï¼è¯´åæ­£é¢ï¼ä¸ºä»ä¹æ é¢å«âåç«¯éªä¿®âå¢ï¼å¨åç«¯é«åº¦å·¥ç¨åçä»å¤©ï¼åç§å·¥å·å±åºä¸ç©·ï¼å¤§å®¶é½å¨è¯´å«æ´æ°äºï¼å­¦ä¸å¨äºï¼æç´æ¥åå¶éèè¡ï¼</p>
<ul>
<li>ä¸ç¨ Vite</li>
<li>ä¸ç¨ Webpack</li>
<li>ä¸è· dev server</li>
<li>ä¸æ HMR</li>
<li>ä¸ç»´æ¤ node_modules</li>
</ul>
<p><strong>ç´æ¥å¨ HTML æä»¶éå¼å¥ React åçé¢ï¼</strong></p>
<p>è¿å¬èµ·æ¥å¾å 2025 å¹´è¿å¨ç¨ Dreamweaver åç½é¡µåååð¤£</p>
<p>æ¬æè®°å½ä¸æ¬¡å¯ä»¥ç§°ä¹ä¸ºãåç«¯éªä¿®ãçåå·¥ç¨åå¼åå®è·µã</p>
<h2 id="ç¬¬ä¸é¶æ®µ-runtime-jsx">ç¬¬ä¸é¶æ®µ Runtime JSX</h2>
<p>ä¸å¼å§ï¼æç¨çæ¯æåå§ãä¹æâç¦»ç»åéâç React ç¨æ³ã</p>
<pre><code class="language-html">&lt;script src="react.development.js"&gt;&lt;/script&gt;
&lt;script src="react-dom.development.js"&gt;&lt;/script&gt;
&lt;script src="babel.min.js"&gt;&lt;/script&gt;

&lt;script type="text/babel"&gt;
  function App() {
    return &lt;h1&gt;Hello World&lt;/h1&gt;;
  }
&lt;/script&gt;
</code></pre>
<p>ç¹ç¹å¾ææ¾ï¼</p>
<ul>
<li>ä¸éè¦ Node</li>
<li>ä¸éè¦ npm / pnpm</li>
<li>æå¼æµè§å¨å°±è½å React</li>
<li>JSX ç± <code>babel-standalone</code> å¨æµè§å¨éå®æ¶ç¼è¯</li>
</ul>
<p>ä½ å«è¯´ï¼å¶å®è¿ç§æ¹æ³åèµ·æ¥è¿æºç½çï¼é</p>
<ul>
<li>å¿æºè´ææä½</li>
<li>æ²¡æå·¥å·é¾ç¦è</li>
<li>HTML å³å¥å£ï¼æè§å³æå¾</li>
</ul>
<p>ä½ç¼ºç¹ä¹å¾ææ¾ï¼</p>
<ul>
<li>åç§ä¾èµä½ç§¯å·¨å¤§ï¼å¨è¾å MB</li>
<li>JSX runtime ç¼è¯ææ¢</li>
<li>é¡µé¢ä¸å¤æï¼å è½½æ¶é´èç¼å¯è§å°ä¸å</li>
</ul>
<p>æè¿ä¸ªç®åçappï¼æ¬å°å è½½é½è¦ååéçæ¶é´ð¤£</p>
<p>å¶å®è¿ç§ç¨æ³ï¼æ¯ <strong>React å®æ¹æ©æ Demo + æå­¦çº§ç¨æ³</strong>ï¼åæ¥è¢«å®æ¹æç¡®æ æ³¨ä¸ºï¼<code>Not recommended for production</code></p>
<p>æä¹åä¹åè¿ä¸ç¯æç« ä»ç»ï¼<a href="https://blog.deali.cn/p/integrate-react-jsx-in-html" target="_blank" rel="noopener nofollow">å¨HTMLä¸­å¼å¥ReactåJSX</a></p>
<p>å®è·µä¹è¯æäºï¼è¿ç§æ¹å¼åªè½å½æ¬å°demoæµè¯ä¸ä¸ï¼æ ¹æ¬ä¸è½ä½ä¸ºproductionåå¸ã</p>
<h2 id="ç¬¬äºé¶æ®µ">ç¬¬äºé¶æ®µ</h2>
<blockquote>
<p>gulp + babelï¼æåªè¦ JSX ç¼è¯</p>
</blockquote>
<p>æéæ©äºä¸ä¸ªå¨ä»å¤©çæ¥éå¸¸âå¤å¤âçå·¥å·ï¼<strong>gulp</strong>ã</p>
<p>è¿ä¸ªå·¥å·è½ç¶ç®åï¼ä½éå¸¸å¥½ç¨ï¼æä¸ç´éå¸¸åæ¬¢è¿ä¸ªå·¥å·ï¼å¯ä»¥å¨æçå¾å¤é¡¹ç®éçå° gulp çèº«å½±ï¼</p>
<ul>
<li><a href="https://blog.deali.cn/p/asp-net-core-npm-gulp-frontend-static-files" target="_blank" rel="noopener nofollow">AspNetCoreå¼åç¬è®°ï¼ä½¿ç¨NPMågulpç®¡çåç«¯éææä»¶</a></li>
<li><a href="https://blog.deali.cn/p/django-npm-gulp-frontend-resources" target="_blank" rel="noopener nofollow">Djangoé¡¹ç®å¼å¥NPMågulpç®¡çåç«¯èµæº</a></li>
<li><a href="http://blog.deali.cn/p/simple-alpinejs-abandon-webpack" target="_blank" rel="noopener nofollow">è¿çå½çï¼ä½¿ç¨ Alpine.js å¼åäº¤äºå¼ web åºç¨ï¼æå¼ node_modules å webpack å§ï¼</a></li>
</ul>
<p>ç¨æ³æ¯è¿æ ·çï¼</p>
<p>æ jsx ç»ä»¶æç§é¡ºåºï¼æ¾ç¤ºæ·»å å°å¾å¤ççåè¡¨é</p>
<pre><code class="language-js">const jsxComponents = [
  "Alert.jsx",
  "Toast.jsx",
  "Login.jsx",
  "Register.jsx",
  "ChatView.jsx",
  "DetailView.jsx",
  "App.jsx"
];
</code></pre>
<p>ææ¾å¼äºèªå¨ä¾èµåæï¼è¿å¨ç°ä»£åç«¯éå ä¹æ¯âåç½ªâãð</p>
<p>ä½å¨ä¸ä¸ªè¾¹çæ¸æ°ãè§æ¨¡å¯æ§çé¡¹ç®éï¼å®åèæ¯æå¯æ§çæ¹å¼ã</p>
<p>gulp å¨è¿éåäºç®åçå ä¸ªäºæï¼</p>
<ul>
<li>JSX â JS</li>
<li>å¤æä»¶ â ä¸ä¸ª bundle</li>
<li>åç¼©</li>
</ul>
<pre><code class="language-js">gulp.task("concat:jsx", () =&gt; {
    return gulp.src(jsxComponents, { base: "." })
        .pipe(babel({
        presets: ["@babel/preset-env", "@babel/preset-react"]
    }))
        .pipe(concat("dist/js/app.bundle.js"))
        .pipe(terser()) // Use terser for minification
        .pipe(gulp.dest(paths.root));
});
</code></pre>
<p>æ²¡æ loaderï¼æ²¡æ plugin å°ç±ï¼æ²¡æéç½®äºç¸ææ¶ã</p>
<p>æç»äº§ç©åªæä¸ä¸ªï¼<code>dist/js/app.bundle.js</code></p>
<h2 id="æç»å½¢æ">æç»å½¢æ</h2>
<p>æå»ºå®æåï¼æ´ä¸ªåºç¨çå¥å£æ¯ä¸ä¸ªæå¶æ´ç´ ç HTML æä»¶ã</p>
<pre><code class="language-html">&lt;script src="lib/react/react.production.min.js"&gt;&lt;/script&gt;
&lt;script src="lib/react-dom/react-dom.production.min.js"&gt;&lt;/script&gt;
&lt;script src="lib/axios/axios.min.js"&gt;&lt;/script&gt;
&lt;script src="dist/js/app.bundle.js"&gt;&lt;/script&gt;
</code></pre>
<p>å ä¸ªæéå¸¸åæ¬¢çç¹ï¼</p>
<ul>
<li>
<p>ææä¾èµé½æ¯æ¾å¼ç</p>
</li>
<li>
<p>React ä¸éè¦ JSX æè½è¿è¡</p>
</li>
<li>
<p>æµè§å¨ç¼å­æ¯æèªå·±æ§å¶ç</p>
<pre><code class="language-html">&lt;script&gt;
    (function () {
        const scripts = [
            "dist/js/app.bundle.js",
        ];
        const v = new Date().getTime();
        scripts.forEach(src =&gt; {
            document.write(`&lt;script src="${src}?v=${v}"&gt;&lt;\/script&gt;`);
        });
    })();
&lt;/script&gt;
</code></pre>
</li>
</ul>
<h2 id="ä¸ºä»ä¹">ä¸ºä»ä¹ï¼</h2>
<p>è¿ä¹åçèµ·å å¶å®å¾ç®åï¼æçåç«¯éè¦ä¸ä¸ªç®åçäº¤äºé¡µé¢ï¼èææ¢ä¸æ³åå»ºä¸ä¸ªæ°ç Next.js/Vite åç«¯é¡¹ç®æ¥åï¼ä¹ä¸æ³ç¨åç«¯æ¨¡æ¿æ¸²æ+HTMX/Alpine.js è¿ç§æ¹æ¡ã</p>
<ul>
<li>
<p>åèçé®é¢æ¯<strong>ææ¬</strong>ï¼</p>
<p>ä¸ºäºä¸ä¸ªåè½è¾¹çéå¸¸æ¸æ°çé¡µé¢ï¼å¼å¥ä¸æ´å¥åç«¯å·¥ç¨ä½ç³»ï¼æå³çè¦é¢å¤ç»´æ¤ä¸ä»½é¡¹ç®ç»æãä¸å¥æå»ºéç½®ãä»¥åä¸æ´æ¡å·¥å·é¾çå½å¨æãè¿ç§ææ¬ï¼å¯¹è¿ä¸ªéæ±æ¥è¯´æ¯<strong>è¿åº¦ç</strong>ã</p>
</li>
<li>
<p>åèçé®é¢åå¨<strong>è¡¨è¾¾è½å</strong>ï¼</p>
<p>åç«¯æ¨¡æ¿æ¸²æéå HTMX æ Alpine.js ç¡®å®è½»éï¼ä½å½é¡µé¢å¼å§åºç°è¾å¤æçç¶ææµè½¬ãç»ä»¶å¤ç¨åé»è¾ç»åæ¶ï¼æå¾å¿«å°±ä¼å¼å§âæå¨æ¨¡æä¸ä¸ªç»ä»¶ç³»ç»âãä¸å¶å¨æ¨¡æ¿è¯­æ³åæä»¤éç»æ¥ç»å»ï¼ä¸å¦ç´æ¥ä½¿ç¨ä¸ä¸ªæå·²ç»éå¸¸çæãå¿æºæ¨¡åä¹è¶³å¤ç¨³å®çç»ä»¶åºï¼Reactçæï¼ã</p>
</li>
</ul>
<p>äºæ¯é®é¢å°±åæäºï¼</p>
<blockquote>
<p><strong>æè½ä¸è½åªä½¿ç¨ React çâè¡¨è¾¾è½åâï¼èä¸å¼å¥å®èåçæ´å¥å·¥ç¨åä½ç³»ï¼</strong></p>
</blockquote>
<p>è¿æ­£æ¯è¿å¥âåç«¯éªä¿®âæ¹æ¡çåºåç¹ã</p>
<h2 id="ä»·å¼">ä»·å¼</h2>
<p>è¿å¥âåç«¯éªä¿®âæ¹æ¡è§£å³äºä»ä¹ï¼</p>
<p>ç¨ä¸å¥è¯æ»ç»ï¼å¦ä½å¨ä¸å¼å¥é¢å¤å·¥ç¨å¤æåº¦çåæä¸ï¼è·å¾ä¸ä¸ªè¶³å¤èéçäº¤äºå±ã</p>
<p>å·ä½æ¥è¯´ï¼è¿ä¸ªæ¹æ¡åå°äºå ä»¶äºï¼</p>
<ul>
<li>ä¸éè¦åç¬ç»´æ¤ä¸ä¸ªåç«¯é¡¹ç®</li>
<li>ä¸éè¦ dev serverãHMR åå¤æçæå»ºéç½®</li>
<li>ä¸éè¦ä¸ºä¸ä¸ªå°é¡µé¢æ¿ææ´å¥åç«¯å·¥ç¨çé¿æææ¬</li>
<li>ä½ä¾ç¶å¯ä»¥ï¼
<ul>
<li>ä½¿ç¨ç»ä»¶åæç»´</li>
<li>ç®¡çæ¸æ°çç¶æåäº¤äºé»è¾</li>
<li>ååºç»ææ¸æ¥ãå¯ç»´æ¤ç UI ä»£ç </li>
</ul>
</li>
</ul>
<p>è¿ä¸æ¯å¨è¿½æ±æè½»éï¼èæ¯å¨è¿½æ±ï¼<strong>å¤æåº¦ä¸éæ±è§æ¨¡ä¹é´çå¹éã</strong></p>
<p>å½éæ±è¶³å¤ç®åæ¶ï¼å·¥ç¨åæ¬èº«å°±åºè¯¥æ¯å¯ä»¥è¢«æè§£ãè¢«åå¶ãçè³è¢«æç»çã</p>
<h2 id="åè">åè</h2>
<h3 id="-æå¾å°ç">ð æå¾å°ç</h3>
<ul>
<li>æä½çå¿æºè´æ</li>
<li>æç¨³å®çæå»ºè¿ç¨</li>
<li>æ è¿è¡æ¶æå»ºä¾èµ</li>
<li>éå¸¸éåï¼
<ul>
<li>Admin ç³»ç»</li>
<li>AI æ§å¶å°</li>
<li>åé¨å·¥å·</li>
<li>WebView / åµå¥é¡µé¢</li>
</ul>
</li>
</ul>
<h3 id="-æä¸»å¨æ¾å¼ç">â æä¸»å¨æ¾å¼ç</h3>
<ul>
<li>HMR</li>
<li>èªå¨ code splitting</li>
<li>TypeScript å¨é¾è·¯</li>
<li>çææä»¶çº¢å©</li>
</ul>
<h2 id="å°ç»">å°ç»</h2>
<p>æåçäºæå¶å®å¾ç®åï¼æå¤æåº¦ä¸å±ä¸å±ææï¼ç´å°åªå©ä¸ä¸å¡çæ­£éè¦çé£ä¸å±ã</p>
<p>æä¸æ¨èææäººè¿æ ·åï¼ä½æä¼ç»§ç»­åä¸äºåå·¥ç¨åçå°è¯ï¼å¨AIæ¶ä»£åå¶éèè¡ä¹ï¼è¿æºæææçð</p>

</div>
<div id="MySignature" role="contentinfo">
    å¾®ä¿¡å¬ä¼å·ï¼ãç¨åºè®¾è®¡å®éªå®¤ã
ä¸æ³¨äºäºèç½ç­é¨æ°ææ¯æ¢ç´¢ä¸å¢éææ·å¼åå®è·µï¼åæ¬æ¶æè®¾è®¡ãæºå¨å­¦ä¹ ä¸æ°æ®åæç®æ³ãç§»å¨ç«¯å¼åãLinuxãWebååç«¯å¼åç­ï¼æ¬¢è¿ä¸èµ·æ¢è®¨ææ¯ï¼åäº«å­¦ä¹ å®è·µç»éªã
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-22 11:22">2026-01-22 11:21</span>&nbsp;
<a href="https://www.cnblogs.com/deali">ç¨åºè®¾è®¡å®éªå®¤</a>&nbsp;
éè¯»(<span id="post_view_count">139</span>)&nbsp;
è¯è®º(<span id="post_comment_count">3</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19516127);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19516127', targetLink: 'https://www.cnblogs.com/deali/p/19516127', title: 'åç«¯éªä¿®ï¼ä¸ç¨Viteä¹ä¸ç¨Webpackï¼æReactæåHTMLæ¶ä»£çåå·¥ç¨åå®è·µ' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ æçâPythonæµ·é¾âè¯çäºä¸æéèå­µåºçå´æ¯ç²¾çµ ]]></title>
    <link>https://www.cnblogs.com/lixingqiu/p/19516100</link>
    <guid>d0489042c049b1f1955d55c9a4aede30</guid>
    <description>
    <![CDATA[ 
	<h1 class="postTitle"><a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/lixingqiu/p/19516100" title="åå¸äº 2026-01-22 11:17">
    <span role="heading" aria-level="2">æçâPythonæµ·é¾âè¯çäºä¸æéèå­µåºçå´æ¯ç²¾çµ</span>
    

</a>
</h1>
	<div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p>æ¶ååæº¯å°2010å¹´ï¼é£æ¯ä¸ä¸ªåæ»¡æ¢ç´¢ä¸æ±ç¥çå¹´ä»½ãå¨æ­¤ä¹åï¼ææ²æµ¸äºä½¿ç¨Visual Basicè¯­è¨å¼å3Då°æ¸¸æï¼é£ç§å¨ä»£ç çä¸çéåé åºå¥å¦èæåºæ¯çæè§ï¼è®©æä¹æ­¤ä¸ç²ãå½æ¶ï¼æèªè®¤ä¸ºBasicå·²ç»æ¯ç¸å½ç®åçè®¡ç®æºè¯­è¨äºï¼ç¶èï¼åå¿æ·±å¤å´å§ç»æä¸ªçé®ï¼æ¯å¦å­å¨ä¸ç§æ¯Basicæ´éåå°å¿ç¼ç¨çä¸ç¨è®¡ç®æºè¯­è¨å¢ï¼</p>
<p>å¸¦çè¿ä¸ªçé®ï¼æå¼å§å¨ç½ç»ä¸å¹¿æ³æå¯»ãåå¤«ä¸è´æå¿äººï¼æç»äºåç°äºScratch 1.4çãè¿åªæ¥èªç¾å½éº»ççå·¥çâå°ç«åªâï¼ç¬é´å¸å¼äºæçç®åï¼ä»æ­¤æä¾¿æ·±æ·±ç±ä¸äºå®ã2013å¹´ï¼ææ£çå¯¹å°å¿ç¼ç¨æè²çç­æï¼æå¼è®¾äºå°å¿ç¼ç¨å¹è®­ç­ãå°äº2015å¹´ï¼æåå°Pythonçº³å¥æå­¦ä½ç³»ï¼å¸æè½ä¸ºå­¦çä»¬å¸¦æ¥æ´ä¸°å¯çç¼ç¨ä½éªãç»è¿å å¹´çæå­¦å®è·µï¼å°2018å¹´æ¶ï¼æå·²ç»èªå·±ç¼åäºè¾å¤çéå°å¹´Pythonæå­¦èµæã</p>
<p>å¨è¿ä¸ªè¿ç¨ä¸­ï¼æéæ¸åç°Pythonçå°æµ·é¾åè½å­å¨ä¸å®çå±éæ§ãä¸ºäºæ·±å¥æ¢ç©¶å¶åçï¼ææå¼äºå®çturtle.pyæºä»£ç æä»¶ï¼ä»ç»ç ç©¶å¶ä¸­çå¥¥ç§ãä»2019å¹´å¼å§ï¼æåºäºPython turtleæ¨¡åï¼è¸ä¸äºå¼åPythonç²¾çµæ¨¡åçå¾ç¨ãPythonç²¾çµæ¨¡åçæ ¸å¿æ¯è®¾è®¡äºä¸ä¸ªåä¸ºSpriteçç±»ï¼è¿ä¸åæ°å¤§å¤§å¢å äºæµ·é¾çåè½ï¼ä¾å¦å®ç°äºåç´ çº§å«çç¢°ææ£æµç­ãå¦ä»ï¼ææäººé½å¯ä»¥éè¿ç®åçå½ä»¤âpip install spritesâæ¥å®è£å¹¶ä½¿ç¨è¿ä¸ªå¼ºå¤§çPythonç²¾çµæ¨¡åã</p>
<p>è¿å å¹´ï¼æå°ä¸»è¦ç²¾åæå¥å°ä¿¡æ¯å­¦å¥¥èµçæå­¦ä¸­ãæ¯æ¥é½å¨âè¦æå¥æ³âåç§é¾é¢ï¼åæ±ä¸ºå­¦çæ¾å°æ´ææçå­¦ä¹ æ¹æ³ã2025å¹´8æï¼æåç­ç»æï¼æåå¼å§æèä¸ä¸ªæ°çé®é¢ï¼å¦æC++çå¥é¨æå­¦è½å¤åPython turtleä¸æ ·ç®åææï¼é£æ çä¼ç»ä¸­å½ææå°å¹´å¸¦æ¥ç¦é³ã</p>
<p>ä¸ºäºå®ç°è¿ä¸ªç®æ ï¼æå¨GitHubä¸å¹¿æ³å¯»æ¾åäººçç ç©¶ææï¼ä¸è½½äºè®¸å¤ç¨Cè¯­è¨æèC++å¼åçç±»turtleåºãå¶ä¸­ï¼æå°çç«C++åºéèªå¸¦çCè¯­è¨æµ·é¾ä½å¾ï¼è¿æGoCç­ç¸å³åºãæè¿ç¹æè´­ä¹°äºç¸å³ä¹¦ç±ï¼åå¤ææä¸­å°å­¦çï¼çè³ä¹°äºä¸æ¬å°å¿3ç»´C++ç¼ç¨ä¹¦ãç¶èï¼ç»è¿æ·±å¥ç ç©¶åå¯¹æ¯ï¼ææç»å¹¶æ²¡æéæ©ä½¿ç¨å®ä»¬ï¼è¿èåæçå¤æ¹é¢çåå ã</p>
<p>å°±æ¿å°çç«C++åºéèªå¸¦çCè¯­è¨æµ·é¾ä½å¾æ¥è¯´ï¼å¶ä½èæ¾ç¶æ²¡æPythonå°å¿ç¼ç¨æè²çç»åãææ¾å°è¯èç³»ä½èï¼å¸æä»è½å°éé¢çå½ä»¤æ¹æç±»ä¼¼Python turtleçé£æ ¼ï¼ä½èèå°ä¸è½æ»æ¯éº»ç¦ä»äººï¼åæ¥ä¹å°±æ²¡æåç»§ç»­èç³»ãèGoCè¿ä¸ªåºï¼éé¢çå½ä»¤ä¹æ²¡ææ¿æ¥èªPython turtleãä¸ºäºæ¹ä¾¿å¿ç«¥è¾å¥å­ç¬¦ï¼å®å°å½ä»¤è®¾è®¡æä¸ä¸ªå­ç¬¦æä¸¤ä¸ªå­ç¬¦ï¼æ¯å¦pen.oæèpen.ooä¹ç±»çãå¶å½ä»¤ç¸å¯¹è¾å°ï¼åè½ä¹ä¸å¤ä¸°å¯ï¼èä¸ä¸»è¦æ¯å¨çº¿ä½¿ç¨ï¼ä½èè³ä»ä¼¼ä¹é½æ²¡æå¼åèªå·±çç¼è¾å¨ãä»¥åæä½¿ç¨è¿å®çç¦»çº¿çï¼è¿éè¦åå©notepad++ãä»æ¬è´¨ä¸è®²ï¼å®æ´åæ¯ä¸ºä¸æ»ä¿¡æ¯å­¦å¥¥èµè®¾è®¡çåç½®è¯¾ç¨å·¥å·ãç½ä¸æäººå»ºè®®ä¸ãäºå¹´çº§çå­¦çå°±å¼å§å­¦ä¹ GoCï¼ä½å¦æä¸æç®ä¸æ»ä¿¡å¥¥èµï¼å¶å®å¯ä»¥ä¸å¿å­¦ä¹ ãä¸ºä»ä¹å¢ï¼</p>
<p>ä»å¤§èåè²çè§åº¦æ¥çï¼ä¸ãäºå¹´çº§çå­¦çï¼ä»ä»¬çå¤§èå°å¤äºåè²é¶æ®µãç§å­¦ç ç©¶è¡¨æï¼è¿ä¸ªé¶æ®µçå­©å­ï¼å¤§èçåé¢å¶ç®è´¨å°æªå®å¨æçï¼æ½è±¡æç»´è½åç¸å¯¹è¾å¼±ãè½ç¶æäºå­©å­å¯è½å¨æ©æå°±å±ç°åºäºè¾å¼ºçå­¦ä¹ è½ååå¤©èµï¼å¦ææç»ç¼åç¬å°ï¼è½è¯å«åºè¿äºèå­ï¼è®©ä»ä»¬å°è¯å­¦ä¹ GoCä¹æªå°ä¸å¯ãä½ç°å®æåµæ¯ï¼ä¸å¯è½æ¯ä¸ªå°å­¦çé½å¾å»ä¸æ»ä¿¡æ¯å­¦å¥¥èµï¼æ¯ç«ä¿¡å¥¥èµçç«äºååæ¿çï¼å®å°±æ¯å­¦é¸ä»¬çæåºãèä¸ï¼å¯¹äºæ®éå­¦çèè¨ï¼ä»ä»¬çå°å¿ç¼ç¨å­¦ä¹ ç»ååºè¯¥æ¯ä¸°å¯å¤å½©çï¼ä¸åºå±éäºC++ç¼ç¨ãå ä¸ºå­¦ä¹ ç¼ç¨çæ¬è´¨å¹¶éä»ä»ææ¡æç§è®¡ç®æºè¯­è¨ï¼èæ¯å¹å»é»è¾æç»´ãåé åç­å¤æ¹é¢çè½åãæäºäººå¤§èåè²ç¸å¯¹è¿ç¼ä¸äºï¼å¦æç¡¬è¦ä»ä»¬å¨ä½å¹´çº§å°±å¼å§å­¦ä¹ C++ï¼å¾å¯è½ä¼éå¾å¶åï¼å°±æ¯æèå©é¿ãæ ¹æ®ç¥ç»ç§å­¦çç ç©¶ï¼å¿ç«¥å¨ä¸­ä½å¹´çº§é¶æ®µï¼å½¢è±¡æç»´æ´ä¸ºæ´»è·ï¼æ­¤æ¶å­¦ä¹ å¾å½¢åç¼ç¨æ´å ç¬¦åä»ä»¬çè®¤ç¥åå±è§å¾ãç­å°ä»ä»¬å¹´é¾ç¨å¤§ï¼å¿æºæ´å æçï¼åå»å­¦ä¹ C++ä¹ä¸è¿ãå¤§èéè¦å¾å°å¤æ¹é¢çåºæ¿ï¼æè½å¾å°ååçé»ç¼ååå±ãå°±åä¸é¢ç§å­ï¼éè¦å¨éå®çç¯å¢ä¸­ï¼ç»åä¸åçå»åæ»å»ï¼æè½èå£®æé¿ãæç»ï¼æäºå­¦çå°äºé«ä¸­é¶æ®µï¼éçå¤§èçè¿ä¸æ­¥åè²åç¥è¯çç§¯ç´¯ï¼ä¼çªç¶å¼çªï¼å¨å­¦ä¹ ç¼ç¨ç­æ¹é¢åå¾æ´å¤§çè¿æ­¥ã</p>
<p>é£ä¹ï¼é¢å¯¹ç»å¤§å¤æ°çæ®éå­¦çç¾¤ä½ï¼ä»ä»¬çå­¦ä¹ è·¯å¾éå¸¸æ¯ä¸ãäºå¹´çº§å­¦ä¹ å¾å½¢åç¼ç¨ï¼ä¸ãåå¹´çº§å­¦ä¹ Pythonç¼ç¨ï¼å°äºä¸å®é¶æ®µååå­¦ä¹ C++ç¼ç¨ãå¨è¿ç§æåµä¸ï¼æ¯å¦å­å¨ä¸ç§éå¯¹æ®éå­¦çï¼è½å¤å®ç¾è¡æ¥è¿ä¸è¯¾ç¨ä½ç³»çC++è¯¾ç¨å¢ï¼æ®æäºè§£ï¼è¿æ ·çè¯¾ç¨ç¸å¯¹æ¯è¾å°ï¼å³ä¾¿æï¼å¯è½ä¹ä¸å¬å¼æèéè¦æ¶è´¹ãæ¯ç«ä¸­å½å°åå¹¿éï¼å¾å¤äºææä¹é¾ä»¥å¨é¢ç¥æãä½ä¸ç®¡ææ ·ï¼æå³å®èªå·±å¨æ°å¼åä¸ä¸ªï¼æ­£æè°âéçªé¶çªä¸å¦èªå·±èçªâã</p>
<p>å¨å¼åè¿ç¨ä¸­ï¼é¦åé¢ä¸´çå°±æ¯éæ©åéçåºæ¥ä½ä¸ºåºç¡ãå¦æè®©æçC++åºåºäºOpenGLï¼è½ç¶å¯è¡ï¼ä½æéè¦åè±è´¹å¤§éæ¶é´å»å­¦ä¹ å®ï¼è¿å¯¹äºææ¥è¯´ï¼å­¦ä¹ ææ¬è¿é«ãäºæ¯ï¼ææ¾å°äºæ¾ç»ç¨è¿çeasyXï¼å¹¶ç¨å®å¼ååºäºåå½¢åºãç¶èï¼å¨ä½¿ç¨è¿ç¨ä¸­ï¼æåç°å¾å¤åºå±çä¸è¥¿ææ æ³ææ§ï¼æ å¥ä¹ä¸åªè½æ¾å¼ãæ¥çï¼æååç°äºraylibï¼å®åºäºSDL2ï¼æ¥å£ä¼å¤ï¼å°è£å¾è¾ä¸ºå¤æãéåï¼ææ³¨æå°äºSFMLï¼è¿æ¯ä¸ä¸ªå¾ä¸éçåºï¼ä½èèå°å®å·²ç»å°è£äºå¾å¤åå®¹ï¼ææ³è¦ææ¡æ´å¤åºå±ææ¯ï¼æç»è¿æ¯å¼ç¨äºå®ãæåï¼æéæ©äºå·¥ä¸çº§å«çSDL2åºãè¿ä¸ªåºåè½ç¸å¯¹è¾å°ï¼ä½ä¹æå³çæèªå·±çå¼åèªç±åº¦æ´å¤§ï¼å¯¹åºå±çææ§åæ´å¼ºã</p>
<p>æä»¥ï¼ç°å¨ççæ¬æ¯åºäºSDL2åºå¼åçãæåï¼æå°å¶å½åä¸ºC++ Spritesåºï¼åæ¥åæ­£å¼å½åä¸ºC++ç²¾çµåºãå¨å¼åè¿ç¨ä¸­ï¼æä¸æ­å°è¿è¡ä¿®æ¹åè°è¯ï¼åªä¸ºè®©æ®éç¨æ·è½å¤æ´å¥½å°ä¸æä½¿ç¨ãä¸ºäºè®©è¿ä¸ªåºæ´å å®åï¼æè¿ä¸­éå¼åäºpxC++ç¼è¾å¨ï¼è¿æ¯ä¸é¨ä¸ºC++ç²¾çµåºéèº«æé çç¼è¾å¨ãåæ¶ï¼æè¿å¼åäºDevC++5.11åçº§åï¼ä½¿DevC++5.11è½å¤æ¯æC++ç²¾çµåºï¼ä»èè®©å®æ´å¥½å°èå¥å°ä¸»æµçä¸­å°å­¦çC++æå­¦çæä¸­ã</p>
<p>ç°å¨çC++ç²¾çµåºï¼æ¯è¾å®ç¾å°ç»§æ¿äºPython turtleçè¡èãä¸ä»å¦æ­¤ï¼æè¿éå¯¹Python turtleå­å¨çä¸è¶³ä¹å¤è¿è¡äºæ¹è¿ä¸ä¼åãä¾å¦ï¼æç²¾å¿è®¾è®¡äºfillå½ä»¤ï¼è§è²éè¿ä½¿ç¨fillå½ä»¤ï¼å°±å¯ä»¥å¨å°é­åºåè¿è¡æ´ªæ°´å¡«åãå¨è®¾å®ç»ç¬é¢è²æ¹é¢ï¼ä¸ä»è½å¤è®©è§è²çç»ç¬é¢è²å½ä»¤æ¥åå­ç¬¦ä¸²ä½ä¸ºåæ°ï¼è¿è½æ¥å1ä¸ªæ´æ°æå¤ä¸ªæ´æ°ä½ä¸ºåæ°ãè¿æ¯å ä¸ºæå¯¹pencolorå½ä»¤è¿è¡äºå¤æ¬¡éè½½ï¼ä½¿å¶å·ææ´é«ççµæ´»æ§åèªç±åº¦ã</p>
<p>æ­¤å¤ï¼æè¿ä¸ºè§è²çç»ç¬å¢æ·»äºè®¸å¤å®ç¨çæ¹æ³ãæ¯å¦ï¼è®¾è®¡äºè®¾å®é´å½±åº¦çpenshadeæ¹æ³ï¼ä»¥åè®¾å®é¢è²é¥±ååº¦çpensatæ¹æ³åè®¾å®é¢è²æåº¦çpenvalueæ¹æ³ãåæ¥åè¿ä¸æ­¥è®¾è®¡äºç´æ¥è®¾å®é¢è²çHueãSaturationåValueçpenhsvæ¹æ³ï¼è¿æä¿®æ¹é¢è²éæåº¦çpenalphaæ¹æ³ãä¸ä»å¦æ­¤ï¼è¿ä¸ºè§è²è®¾è®¡äºè´å¡å°æ²çº¿ä¸æ ·æ¡æ²çº¿ç­æ¹æ³ãè¿äºç²¾å¿è®¾è®¡çè®¾å®ï¼å¯¹äºå®¡ç¾è½åå¼ºçç¾æ¯çæ¥è¯´ï¼æ çæä¾äºæå¤§çä¾¿å©ï¼ä½¿ä»ä»¬è½å¤æ´å è½»æ¾å°åä½åºå·æèºæ¯ææçå¾å½¢ã</p>
<p>ç°å¨æä»¬æçå°çâC++ç²¾çµåºâï¼æ¬è´¨ä¸æ¯åºäºlogoè®¡ç®æºè¯­è¨ç¼ç¨æè²çå¿µå¨C++ä¸ççå»¶ä¼¸å¹¶ææè¶è¶ãå®åé´äºPython turtleç®æ´çAPIï¼å¹¶éå¯¹æè²åºæ¯è¿è¡äºæ·±å¥ä¼åãè¿æ ·ä¸æ¥ï¼å­¦çä»¬å°±è½å¤å¨ä¸ä¸ªæ´å¼ºå¤§ãæ´æ¥è¿å·¥ä¸æ åçè¯­è¨ç¯å¢ä¸­ï¼ååä½éªå°âæµ·é¾ä½å¾âçä¹è¶£ä¸æºæ§ãæä»¬å¯ä»¥æPython turtleåC++ç²¾çµåºæ¯ä½æ¯äº²åå¼ï¼æ è®ºåå­¦ä¹ åªä¸ä¸ªï¼åå»å­¦ä¹ å¦ä¸ä¸ªï¼é½ä¼æä¸ç§âä¼¼æ¾ç¸è¯çå½æ¥âççææï¼è¿å°±æ¯æè°çâååèµè½âãå ä¸ºç¼ç¨çä¸çå¨åºå±æ¬æ¥å°±æ¯ç¸éçï¼å½ææå®ä»¬çå¤è§ä¹è®¾è®¡å¾ç¸ä¼¼çæ¶åï¼è¯·ä¸è¦æå°æè®¶ï¼</p>
<p>æ´å¼å¾ä¸æçæ¯ï¼ç±äºC++ç²¾çµåºæ¯åºäºSDL2åºè¿è¡å¼åçï¼å®è¿è½å¤å®ç¾èå¥SDL2åºçå½ä»¤ï¼ä¸ºå­¦çæä¾æ´æ·±å¥çç¼ç¨å­¦ä¹ æºä¼ãæ³è±¡ä¸ä¸ï¼SDL2åºå¨åè¡åä¸ä¸­çå¹¿æ³åºç¨åºæ¯ï¼C++ç²¾çµåºæ çä¸ºå­¦ççæªæ¥å­¦ä¹ åèä¸åå±èµäºäºå¶ä»ç±»C++ turtleåºæ æ³æ¯æçä¼å¿ã</p>
<p>&nbsp;</p>
</div>
<div class="clear"></div>

	<div class="postDesc">posted on 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-22 11:17">2026-01-22 11:17</span>&nbsp;
<a href="https://www.cnblogs.com/lixingqiu">æå´ç</a>&nbsp;
éè¯»(<span id="post_view_count">124</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19516100);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19516100', targetLink: 'https://www.cnblogs.com/lixingqiu/p/19516100', title: 'æçâPythonæµ·é¾âè¯çäºä¸æéèå­µåºçå´æ¯ç²¾çµ' })">ä¸¾æ¥</a>
</div>
 ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ Qtæå·§ç¬è®°(ä¸)ï¼QSpinBoxæ°å¼å¾®è°æ¡ç»ä»¶ç¬è®° ]]></title>
    <link>https://www.cnblogs.com/GeophysicsWorker/p/19516012</link>
    <guid>7b62a6fec4f1ed661665e8130ccec777</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/GeophysicsWorker/p/19516012" title="åå¸äº 2026-01-22 11:05">
    <span role="heading" aria-level="2">Qtæå·§ç¬è®°(ä¸)ï¼QSpinBoxæ°å¼å¾®è°æ¡ç»ä»¶ç¬è®°</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        QSpinBoxæ¯Qtæ¡æ¶ä¸­çä¸ä¸ªé¨ä»¶(Widget)ï¼ç¨äºæä¾ä¸ä¸ªæ¹ä¾¿ç¨æ·è¾å¥æ´æ°å¼ççé¢åç´ ãå®éå¸¸ä»¥å¾®è°æ¡(QSpinBox)çå½¢å¼å±ç¤ºï¼ç¨æ·å¯ä»¥éè¿å¾®è°æ¡ä¸çæé®ææå¨è¾å¥æ¥å¢å æåå°æ´æ°å¼ãå¨å®éä½¿ç¨ä¸­è¯¥æ§ä»¶ä¸»è¦ç¨äºæ´åææµ®ç¹çè®¡æ°æ¾ç¤ºï¼ä¸æ®éçLineEditç»ä»¶ä¸åï¼è¯¥ç»ä»¶å¯ä»¥å¨ååå¢å ç¹æ®ç¬¦å·å¹¶æä¾äºä¸ä¸å¹åº¦çè°æ´æé®ï¼çµæ´»æ§æ´å¼ºã
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>â        Qtæ¯ä¸ä¸ªè·¨å¹³å°C++å¾å½¢çé¢å¼ååºï¼å©ç¨Qtå¯ä»¥å¿«éå¼åè·¨å¹³å°çªä½åºç¨ç¨åºï¼å¨Qtä¸­æä»¬å¯ä»¥éè¿ææ½çæ¹å¼å°ä¸åç»ä»¶æ¾å°æå®çä½ç½®ï¼å®ç°å¾å½¢åå¼åæå¤§çæ¹ä¾¿äºå¼åæçï¼æ¬ç¬è®°å°éç¹ä»ç»QSpinBoxæ°å¼å¾®è°ç»ä»¶çå¸¸ç¨æ¹æ³åçµæ´»åºç¨ã</p>
<p>â       QSpinBoxæ¯Qtæ¡æ¶ä¸­çä¸ä¸ªé¨ä»¶(Widget)ï¼ç¨äºæä¾ä¸ä¸ªæ¹ä¾¿ç¨æ·è¾å¥æ´æ°å¼ççé¢åç´ ãå®éå¸¸ä»¥å¾®è°æ¡(QSpinBox)çå½¢å¼å±ç¤ºï¼ç¨æ·å¯ä»¥éè¿å¾®è°æ¡ä¸çæé®ææå¨è¾å¥æ¥å¢å æåå°æ´æ°å¼ãå¨å®éä½¿ç¨ä¸­è¯¥æ§ä»¶ä¸»è¦ç¨äºæ´åææµ®ç¹çè®¡æ°æ¾ç¤ºï¼ä¸æ®éçLineEditç»ä»¶ä¸åï¼è¯¥ç»ä»¶å¯ä»¥å¨ååå¢å ç¹æ®ç¬¦å·å¹¶æä¾äºä¸ä¸å¹åº¦çè°æ´æé®ï¼çµæ´»æ§æ´å¼ºãå¶ä½¿ç¨åºæ¯ï¼</p>
<ul>
<li>
<p><strong>æ°å¼è¾å¥</strong>ï¼éç¨äºéè¦ç¨æ·è¾å¥æ´æ°å¼çåºæ¯ï¼å¦è®¾ç½®è®¡ç®åæ°ãè°æ´æ°éç­ã</p>
</li>
<li>
<p><strong>è°æ´åæ°</strong>ï¼å¨éè¦è¿è¡å¾®å°è°æ´çå°æ¹ï¼æä¾ç´è§çå¢åæé®ã</p>
</li>
<li>
<p><strong>éå¶è¾å¥èå´</strong>ï¼å½éè¦ç¡®ä¿ç¨æ·è¾å¥å¨ä¸å®èå´åæ¶ï¼å¯ä»¥è®¾ç½®åæ°çæå¤§å¼åæå°å¼ï¼</p>
</li>
<li>
<p><strong>åªè¯»å±ç¤º</strong>ï¼å¯ä»¥ç¨äºåªè¯»å±ç¤ºæä¸ªæ°å¼ï¼ä¸åè®¸ç¨æ·ä¿®æ¹ã</p>
<p>ä»¥ä¸æ¯QSpinBoxç±»çä¸äºå¸¸ç¨æ¹æ³APIï¼è¯´æå¹¶æ¦è¿°æè¡¨æ ¼ï¼</p>
<table>
<thead>
<tr>
<th>æ¹æ³API</th>
<th>æ è¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>QSpinBox(QWidget *parent = nullptr)</code></td>
<td>æé å½æ°ï¼åå»ºä¸ä¸ªæ´æ°å¾®è°æ¡ã</td>
</tr>
<tr>
<td><code>int value() const</code></td>
<td>è·åå½åå¾®è°æ¡ä¸­çæ´æ°å¼ã</td>
</tr>
<tr>
<td><code>void setValue(int value)</code></td>
<td>è®¾ç½®å¾®è°æ¡çæ´æ°å¼ã</td>
</tr>
<tr>
<td><code>int minimum() const</code></td>
<td>è·åå¾®è°æ¡çæå°å¼ã</td>
</tr>
<tr>
<td><code>void setMinimum(int min)</code></td>
<td>è®¾ç½®å¾®è°æ¡çæå°å¼ã</td>
</tr>
<tr>
<td><code>int maximum() const</code></td>
<td>è·åå¾®è°æ¡çæå¤§å¼ã</td>
</tr>
<tr>
<td><code>void setMaximum(int max)</code></td>
<td>è®¾ç½®å¾®è°æ¡çæå¤§å¼ã</td>
</tr>
<tr>
<td><code>int singleStep() const</code></td>
<td>è·ååæ­¥æ­¥è¿å¼ï¼å³å¾®è°æ¡å¨æ¯æ¬¡å¢åæä½æ¶çååéã</td>
</tr>
<tr>
<td><code>void setSingleStep(int step)</code></td>
<td>è®¾ç½®åæ­¥æ­¥è¿å¼ã</td>
</tr>
<tr>
<td><code>int prefix() const</code></td>
<td>è·ååç¼ï¼æ¾ç¤ºå¨å¼ä¹åçææ¬ï¼ã</td>
</tr>
<tr>
<td><code>void setPrefix(const QString &amp;prefix)</code></td>
<td>è®¾ç½®åç¼ã</td>
</tr>
<tr>
<td><code>int suffix() const</code></td>
<td>è·ååç¼ï¼æ¾ç¤ºå¨å¼ä¹åçææ¬ï¼ã</td>
</tr>
<tr>
<td><code>QString cleanText() const</code></td>
<td>è·åææ¬è¡¨ç¤ºçå¹²åå¼ï¼å³ä¸åå«åç¼ååç¼ççº¯ææ¬å¼ã</td>
</tr>
<tr>
<td><code>bool wrapping() const</code></td>
<td>æ£æ¥å¾®è°æ¡æ¯å¦å¯ç¨äºå¾ªç¯ï¼å³å¨è¾¾å°æå¤§ææå°å¼æ¶æ¯å¦ç»åã</td>
</tr>
<tr>
<td><code>void setWrapping(bool on)</code></td>
<td>å¯ç¨æç¦ç¨å¾®è°æ¡çå¾ªç¯ã</td>
</tr>
<tr>
<td><code>void stepUp()</code></td>
<td>å°å¾®è°æ¡çå¼å¢å ä¸ä¸ªåæ­¥æ­¥è¿å¼</td>
</tr>
<tr>
<td><code>void stepDown()</code></td>
<td>å°å¾®è°æ¡çå¼åå°ä¸ä¸ªåæ­¥æ­¥è¿å¼ã</td>
</tr>
<tr>
<td><code>void setAccelerated(bool on)</code></td>
<td>å¯ç¨æç¦ç¨å éï¼å³æä½ä¸ä¸ç®­å¤´æ¶å¼çååéåº¦æ¯å¦éæ¸å å¿«ã</td>
</tr>
<tr>
<td><code>bool isAccelerated() const</code></td>
<td>æ£æ¥æ¯å¦å¯ç¨äºå éã</td>
</tr>
<tr>
<td><code>void setReadOnly(bool ro)</code></td>
<td>è®¾ç½®å¾®è°æ¡ä¸ºåªè¯»æ¨¡å¼ï¼ç¦æ­¢ç¨æ·ç¼è¾å¼ã</td>
</tr>
<tr>
<td><code>bool isReadOnly() const</code></td>
<td>æ£æ¥å¾®è°æ¡æ¯å¦ä¸ºåªè¯»æ¨¡å¼ã</td>
</tr>
<tr>
<td><code>void setAlignment(Qt::Alignment align)</code></td>
<td>è®¾ç½®å¾®è°æ¡ä¸­ææ¬çå¯¹é½æ¹å¼ã</td>
</tr>
<tr>
<td><code>Qt::Alignment alignment() const</code></td>
<td>è·åå¾®è°æ¡ä¸­ææ¬çå¯¹é½æ¹å¼ã</td>
</tr>
<tr>
<td><code>void setButtonSymbols(QAbstractSpinBox::ButtonSymbols bs)</code></td>
<td>è®¾ç½®å¢åæé®çæ¾ç¤ºæ¹å¼ã</td>
</tr>
<tr>
<td><code>QAbstractSpinBox::ButtonSymbols buttonSymbols() const</code></td>
<td>è·åå¢åæé®çæ¾ç¤ºæ¹å¼ã</td>
</tr>
</tbody>
</table>
<p>è¿äºæ¹æ³æ¶µçäºQSpinBoxç±»ä¸­ä¸äºå¸¸ç¨çè®¾ç½®åè·åæ´æ°å¾®è°æ¡å±æ§çåè½ãå¶ä¿¡å·é¨å</p>
<table>
<thead>
<tr>
<th>ä¿¡å·å£°æ</th>
<th>ä¿¡å·è¯´æ</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>void textChanged(const QString &amp;text)</code></td>
<td>å¾®è°æ¡çææ¬åçæ¹åæ¶ä¼è§¦åï¼åæ°<code>QString</code>å¸¦æåç¼ååç¼</td>
</tr>
<tr>
<td><code>void valueChanged(int i)</code></td>
<td>å¾®è°æ¡çâ½æ¬åâ½£æ¹åæ¶ä¼è§¦åï¼åæ° intï¼è¡¨ç¤ºå½åçæ°å¼</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>æ¥ä¸æ¥å°ç¨ä¸ä¸ªç®åçæ¡ä¾å±ç¤ºå¦ä½ä½¿ç¨ QSpinBoxç»ä»¶ï¼è¯¥ç»ä»¶æä¸¤ä¸ªçæ¬ï¼QSpinBoxç¨äºå±ç¤ºåç²¾åº¦æµ®ç¹æ°ï¼è<code>QDoubleSpinBox()</code> åå¯ä»¥å±ç¤ºç²¾åº¦æ´é«çæ°å¼ï¼éè¦æ³¨æçæ¯ï¼è¯¥ç»ä»¶æä¸¤ä¸ªç¹æ®åæ°ï¼å½ä½¿ç¨setPrefix() æ¶å¯ä»¥æå®å¨åæ¹å å¥ç¹æ®ç¬¦å·ï¼èä½¿ç¨ setSuffix() æ¶åå¯ä»¥å¨åæ¹è¿½å ç¹æ®ç¬¦å·ï¼æä»¬å°±å¯ä»¥åæ¹è¿½å ä¸ºä¾ã</p>
<p>ä»¥ä¸æ¯ä¸ä¸ªä½¿ç¨ QSpinBox ç C++ Qt ç¤ºä¾ï¼å±ç¤ºäºå¦ä½åå»ºæ§ä»¶ãè®¾ç½®å±æ§å¹¶è¿æ¥ä¿¡å·ï¼</p>
<pre><code class="language-C++">#include &lt;QApplication&gt;
#include &lt;QWidget&gt;
#include &lt;QSpinBox&gt;
#include &lt;QVBoxLayout&gt;
#include &lt;QDebug&gt;

class MainWindow : public QWidget {
    Q_OBJECT
public:
    MainWindow() {
        QSpinBox *spinBox = new QSpinBox(this);
        spinBox-&gt;setRange(0, 100);      // è®¾ç½®èå´ 0-100
        spinBox-&gt;setValue(10);          // è®¾ç½®åå§å¼
        spinBox-&gt;setSingleStep(5);      // è®¾ç½®æ­¥é¿ä¸º 5

        // è¿æ¥å¼æ¹åä¿¡å·å°æ§½å½æ°
        connect(spinBox, QOverload&lt;int&gt;::of(&amp;QSpinBox::valueChanged),
                this, &amp;MainWindow::onValueChanged);

        QVBoxLayout *layout = new QVBoxLayout(this);
        layout-&gt;addWidget(spinBox);
    }

public slots:
    void onValueChanged(int value) {
        qDebug() &lt;&lt; "Spin box value changed to:" &lt;&lt; value;
    }
};

int main(int argc, char *argv[]) {
    QApplication app(argc, argv);
    MainWindow window;
    window.show();
    return app.exec();
}

</code></pre>
<h3 id="åèèµæ">åèèµæï¼</h3>
<p><a href="https://cloud.tencent.com/developer/article/2370336" target="_blank" rel="noopener nofollow">C++ Qtå¼åï¼SpinBoxæ°å¼å¾®è°æ¡ç»ä»¶-è¾è®¯äºå¼åèç¤¾åº-è¾è®¯äº</a></p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-22 11:05">2026-01-22 11:05</span>&nbsp;
<a href="https://www.cnblogs.com/GeophysicsWorker">GeoFXR</a>&nbsp;
éè¯»(<span id="post_view_count">34</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19516012);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19516012', targetLink: 'https://www.cnblogs.com/GeophysicsWorker/p/19516012', title: 'Qtæå·§ç¬è®°(ä¸)ï¼QSpinBoxæ°å¼å¾®è°æ¡ç»ä»¶ç¬è®°' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
        </channel>
        </rss>