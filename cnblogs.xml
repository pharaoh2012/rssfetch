<?xml version="1.0" encoding="UTF-8" ?>
    <rss version="2.0">
    <channel>
        <title><![CDATA[ ä¸»é¡µ - åå®¢å­ ]]></title>
        <link><![CDATA[ https://www.cnblogs.com/ ]]></link>
        <lastBuildDate>2026-01-14T20:17:18.106Z</lastBuildDate>
        <description><![CDATA[
        ä¸»é¡µ - åå®¢å­ RSS
    ]]></description>
        <language>zh-cn</language>
        <item>
    <title><![CDATA[ Flinkæºç éè¯»ï¼JobManagerçHAæºå¶ ]]></title>
    <link>https://www.cnblogs.com/Jackeyzhe/p/19484622</link>
    <guid>426abbc2dbe37130daba894a07fe9ee8</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/Jackeyzhe/p/19484622" title="åå¸äº 2026-01-14 23:45">
    <span role="heading" aria-level="2">Flinkæºç éè¯»ï¼JobManagerçHAæºå¶</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        <img src="https://img2024.cnblogs.com/blog/1828322/202601/1828322-20260114234320282-1778052120.png" alt="Flinkæºç éè¯»ï¼JobManagerçHAæºå¶" class="desc_img">
        JobManager å¨ Flink éç¾¤ä¸­åæ¥çéè¦çä½ç¨ï¼åæ¬ä»»å¡è°åº¦åèµæºç®¡çç­å·¥ä½ãå¦æ JobManager å®æºï¼é£ä¹æ´ä¸ªéç¾¤çä»»å¡é½å°å¤±è´¥ãä¸ºäºè§£å³ JobManager çåç¹é®é¢ï¼Flink ä¹è®¾è®¡äº HA æºå¶æ¥ä¿éæ´ä¸ªéç¾¤çç¨³å®æ§ã
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>JobManager å¨ Flink éç¾¤ä¸­åæ¥çéè¦çä½ç¨ï¼åæ¬ä»»å¡è°åº¦åèµæºç®¡çç­å·¥ä½ãå¦æ JobManager å®æºï¼é£ä¹æ´ä¸ªéç¾¤çä»»å¡é½å°å¤±è´¥ãä¸ºäºè§£å³ JobManager çåç¹é®é¢ï¼Flink ä¹è®¾è®¡äº HA æºå¶æ¥ä¿éæ´ä¸ªéç¾¤çç¨³å®æ§ã</p>
<h3 id="åºæ¬æ¦å¿µ">åºæ¬æ¦å¿µ</h3>
<p>å¨ JobManager å¯å¨æ¶ï¼è°ç¨ <code>HighAvailabilityServicesUtils.createHighAvailabilityServices</code> æ¥åå»º HA æå¡ï¼HA ä¾èµçæå¡é½è¢«å°è£å¨ HighAvailabilityServices ä¸­ãå½å Flink åé¨æ¯æä¸¤ç§é«å¯ç¨æ¨¡å¼ï¼åå«æ¯ ZooKeeper å KUBERNETESã</p>
<pre><code class="language-java">case ZOOKEEPER:
    return createZooKeeperHaServices(configuration, executor, fatalErrorHandler);
case KUBERNETES:
    return createCustomHAServices(
            "org.apache.flink.kubernetes.highavailability.KubernetesHaServicesFactory",
            configuration,
            executor);
</code></pre>
<p>HighAvailabilityServices ä¸­æä¾çå³é®ç»ä»¶åæ¬ï¼</p>
<ul>
<li>
<p>LeaderRetrievalServiceï¼æå¡åç°ï¼ç¨äºè·åå½å leader çå°åãç®åç¨å°æå¡åç°çç»ä»¶æ ResourceManagerãDispatcherãJobManagerãClusterRestEndpointã</p>
</li>
<li>
<p>LeaderElectionï¼éä¸¾æå¡ï¼ä»å¤ä¸ªåéèä¸­éåºä¸ä¸ªä½ä¸º leaderãç¨å°éä¸¾æå¡çåæ ·æ¯ ResourceManagerãDispatcherãJobManagerãClusterRestEndpoint è¿åä¸ªã</p>
</li>
<li>
<p>CheckpointRecoveryFactoryï¼Checkpoint æ¢å¤ç»ä»¶çå·¥åç±»ï¼æä¾äºåå»º CompletedCheckpointStore å CheckpointIDCounter çæ¹æ³ãCompletedCheckpointStore æ¯ç¨äºå­å¨å·²å®æç checkpoint çåä¿¡æ¯ï¼CheckpointIDCounter æ¯ç¨äºçæ checkpoint IDã</p>
</li>
<li>
<p>ExecutionPlanStoreï¼ç¨äºå­å¨æ§è¡è®¡åã</p>
</li>
<li>
<p>JobResultStoreï¼ç¨äºå­å¨ä½ä¸ç»æï¼è¿éæä¸¤ç§ç¶æï¼ä¸ç§æ¯ dirtyï¼è¡¨ç¤ºä½ä¸æ²¡æè¢«å®å¨æ¸çï¼å¦ä¸ç§æ¯ cleanï¼è¡¨ç¤ºä½ä¸æ¸çå·¥ä½å·²ç»æ§è¡å®æäºã</p>
</li>
<li>
<p>BlobStoreï¼å­å¨ä½ä¸è¿è¡æé´çä¸äºäºè¿å¶æä»¶ã</p>
</li>
</ul>
<h4 id="éä¸¾æå¡">éä¸¾æå¡</h4>
<p>Flink çéä¸¾æ¯ä¾é  LeaderElection å LeaderContender éåå®æçãLeaderElection æ¯ LeaderElectionService çä»£çæ¥å£ï¼æä¾äºæ³¨ååéèãç¡®è®¤ leader å å¤æ­åéèæ¯å¦æ¯ leader ä¸ä¸ªæ¥å£ãLeaderContender åæ¯ç¨æ¥è¡¨ç¤ºåéèå¯¹è±¡ãå½ä¸ä¸ª LeaderContender å½é leader åï¼LeaderElectionService ä¼ä¸ºå¶çæä¸ä¸ª leaderSessionIdï¼LeaderContender ä¼è°ç¨ confirmLeadershipAsync åå¸èªå·±çå°åãéä¸¾æå¡çå·ä½å®ç°å¨ LeaderElectionDriver æ¥å£ä¸­ã</p>
<h4 id="æå¡åç°">æå¡åç°</h4>
<p>æå¡åç°çä½ç¨æ¯è·ååç»ä»¶ç leader å°åãæå¡åç°ä¾èµ LeaderRetrievalService å LeaderRetrievalListenerãLeaderRetrievalService å¯ä»¥å¯å¨ä¸ä¸ªçå¬ï¼å½ææ°ç leader å½éæ¶ï¼ä¼è°ç¨ LeaderRetrievalListener ç notifyLeaderAddress æ¹æ³ã</p>
<h4 id="ä¿¡æ¯ä¿å­">ä¿¡æ¯ä¿å­</h4>
<p>å½ leader åçåæ¢æ¶ï¼æ°ç leader éè¦è·åå°æ§ leader å­å¨çä¿¡æ¯ï¼è¿å°±éè¦æ§ leader æè¿äºä¿¡æ¯å­å¨ä¸ä¸ªå¬å±çå­å¨ä¸ãå®å¯ä»¥æ¯ ZooKeeper æ Kubernetes çå­å¨ï¼ä¹å¯ä»¥æ¯åå¸å¼æä»¶ç³»ç»çå­å¨ã</p>
<h3 id="åºäº-zookeeper-ç-ha">åºäº ZooKeeper ç HA</h3>
<h4 id="éä¸¾æå¡-1">éä¸¾æå¡</h4>
<p>åé¢æä»¬æå°äºéä¸¾æå¡ä¸»è¦ä¾èµ LeaderElection å LeaderContender éåå®æãæä»¬å°±ä»¥ JobManager ä¸ºä¾ï¼çä¸ä¸æºé ZooKeeper çéä¸¾æµç¨çå·ä½å®ç°ã</p>
<p><img alt="ZKLeaderElection" loading="lazy" data-src="https://res.cloudinary.com/dxydgihag/image/upload/v1767924499/Blog/flink/20/ZKLeaderElection.png" class="lazyload"></p>
<p>å¾ä¸­ JobMasterServiceLeadershipRunner æ¯ LeaderContender çå®ç°ç±»ãå¨å¯å¨æå¡æ¶ï¼ä¼å LeaderElection æ³¨åèªå·±çä¿¡æ¯ï¼å®éæ§è¡èæ¯ DefaultLeaderElectionServiceãå®ååå»ºäº LeaderElectionDriverï¼ç¶åå° LeaderContender ä¿å­å¨ leaderContenderRegistry ä¸­ãéä¸¾çæ ¸å¿é»è¾å°è£å¨ LeaderElectionDriver ä¸­ã</p>
<p>å¨åå»º LeaderElectionDriver æ¶ï¼ä¼åå»º LeaderLatch å¯¹è±¡å TreeCache å¯¹è±¡ï¼ LeaderLatch å°è£äºä¸ ZooKeeper å³èçåè°ï¼ä¼æ¥æ¶ä¸ä¸ª LeaderElectionDriver ä½ä¸ºçå¬ãTreeCache ä¸»è¦ç¨äºçå¬ ZooKeeper ä¸­ leader èç¹çåæ´ã</p>
<pre><code class="language-java">public ZooKeeperLeaderElectionDriver(
        CuratorFramework curatorFramework, LeaderElectionDriver.Listener leaderElectionListener)
        throws Exception {
    ...
    this.leaderLatch = new LeaderLatch(curatorFramework, ZooKeeperUtils.getLeaderLatchPath());
    this.treeCache =
            ZooKeeperUtils.createTreeCache(
                    curatorFramework,
                    "/",
                    new ZooKeeperLeaderElectionDriver.ConnectionInfoNodeSelector());

    treeCache
            .getListenable()
            .addListener(
                    (client, event) -&gt; {
                        switch (event.getType()) {
                            case NODE_ADDED:
                            case NODE_UPDATED:
                                Preconditions.checkNotNull(
                                        event.getData(),
                                        "The ZooKeeper event data must not be null.");
                                handleChangedLeaderInformation(event.getData());
                                break;
                            case NODE_REMOVED:
                                Preconditions.checkNotNull(
                                        event.getData(),
                                        "The ZooKeeper event data must not be null.");
                                handleRemovedLeaderInformation(event.getData().getPath());
                                break;
                        }
                    });

    leaderLatch.addListener(this);
    ...
    leaderLatch.start();
    treeCache.start();
}
</code></pre>
<p>æä»¬è¿å¥å° LeaderLatch ç start æ¹æ³ãå®çåé¨æ¯å¨ ZooKeeper ä¸åå»º latch-xxx èç¹ãxxx æ¯å½å LeaderLatch ç IDï¼å®ç± ZooKeeper çæï¼ID æå°çå½é Leaderã</p>
<pre><code class="language-java">private void checkLeadership(List&lt;String&gt; children) throws Exception {
    if (this.debugCheckLeaderShipLatch != null) {
        this.debugCheckLeaderShipLatch.await();
    }

    String localOurPath = (String)this.ourPath.get();
    List&lt;String&gt; sortedChildren = LockInternals.getSortedChildren("latch-", sorter, children);
    int ourIndex = localOurPath != null ? sortedChildren.indexOf(ZKPaths.getNodeFromPath(localOurPath)) : -1;
    this.log.debug("checkLeadership with id: {}, ourPath: {}, children: {}", new Object[]{this.id, localOurPath, sortedChildren});
    if (ourIndex &lt; 0) {
        this.log.error("Can't find our node. Resetting. Index: " + ourIndex);
        this.reset();
    } else if (ourIndex == 0) {
        this.lastPathIsLeader.set(localOurPath);
        this.setLeadership(true);
    } else {
        this.setLeadership(false);
        String watchPath = (String)sortedChildren.get(ourIndex - 1);
        Watcher watcher = new Watcher() {
            public void process(WatchedEvent event) {
                if (LeaderLatch.this.state.get() == LeaderLatch.State.STARTED &amp;&amp; event.getType() == EventType.NodeDeleted) {
                    try {
                        LeaderLatch.this.getChildren();
                    } catch (Exception ex) {
                        ThreadUtils.checkInterrupted(ex);
                        LeaderLatch.this.log.error("An error occurred checking the leadership.", ex);
                    }
                }

            }
        };
        BackgroundCallback callback = new BackgroundCallback() {
            public void processResult(CuratorFramework client, CuratorEvent event) throws Exception {
                if (event.getResultCode() == Code.NONODE.intValue()) {
                    LeaderLatch.this.getChildren();
                }

            }
        };
        ((ErrorListenerPathable)((BackgroundPathable)this.client.getData().usingWatcher(watcher)).inBackground(callback)).forPath(ZKPaths.makePath(this.latchPath, watchPath));
    }

}
</code></pre>
<p>å½é Leader åï¼ä¼åè° LeaderElectionDriver ç isLeader æ¹æ³ï¼å¦ææªå½éï¼åç»§ç»­çå¬ latch èç¹çåæ´ãisLeader ä¼ç»§ç»­åè° LeaderElection ç onGrantLeadership æ¹æ³ï¼æ¥çè°ç¨ LeaderContender ç grantLeadershipãè¿æ¶ä¼å¯å¨ JobMaster æå¡ï¼ç¶åè°ç¨ LeaderElection ç confirmLeadershipAsync æ¥ç¡®è®¤å½éæåãç¡®è®¤çè¿ç¨æ¯ç± LeaderElectionDriver æ¥æ§è¡çãä¸»è¦ä½ç¨æ¯æå½å leader çä¿¡æ¯ååå° ZooKeeper ç connection_info èç¹ã</p>
<pre><code class="language-java">public void publishLeaderInformation(String componentId, LeaderInformation leaderInformation) {
    Preconditions.checkState(running.get());

    if (!leaderLatch.hasLeadership()) {
        return;
    }

    final String connectionInformationPath =
            ZooKeeperUtils.generateConnectionInformationPath(componentId);

    LOG.debug(
            "Write leader information {} for component '{}' to {}.",
            leaderInformation,
            componentId,
            ZooKeeperUtils.generateZookeeperPath(
                    curatorFramework.getNamespace(), connectionInformationPath));

    try {
        ZooKeeperUtils.writeLeaderInformationToZooKeeper(
                leaderInformation,
                curatorFramework,
                leaderLatch::hasLeadership,
                connectionInformationPath);
    } catch (Exception e) {
        leaderElectionListener.onError(e);
    }
}
</code></pre>
<h4 id="æå¡åç°-1">æå¡åç°</h4>
<p>æ¢³çå®éä¸¾æå¡çæºç åï¼æä»¬åæ¥çä¸ä¸æå¡åç°çè¿ç¨ãæä»¬ä»¥ TaskManager è·å JobManager ç leader ä¸ºä¾ã</p>
<p><img alt="ZKLeaderRetrieval" loading="lazy" data-src="https://res.cloudinary.com/dxydgihag/image/upload/v1767929447/Blog/flink/20/ZKLeaderRetrieval.png" class="lazyload"></p>
<p>å½æä»¬å¾ TaskManager æ·»å ä»»å¡æ¶ï¼ä¼è°ç¨ JobLeaderService ç addJob æ¹æ³ãè¿éä¼åè·å LeaderRetrievalï¼ç¶åè°ç¨ start æ¹æ³æ³¨å LeaderRetrievalListener çå¬ï¼å¹¶åå»º LeaderRetrievalDriverãå¨ LeaderRetrievalDriver ä¸­ä¸»è¦æ¯å ZooKeeper æ³¨å connection_info èç¹çåæ´ã</p>
<p>å¦æåçåæ´ï¼ZooKeeper ä¼åè° <code>LeaderRetrievalDriver.retrieveLeaderInformationFromZooKeeper</code> æ¹æ³ãæä»¬ä» ZooKeeper è·åå° leader çå°åå sessionId åï¼å°±åè° <code>LeaderRetrievalService.notifyLeaderAddress</code> æ¹æ³ãæç»è°ç¨å° JobLeaderService ç notifyLeaderAddress æ¹æ³ï¼è¿ä¸ªæ¹æ³ä¸­å°±æ¯æ­å¼ä¸æ§ leader çè¿æ¥ï¼å¢å ä¸æ° leader çè¿æ¥ã</p>
<h4 id="ä¿¡æ¯ä¿å­-1">ä¿¡æ¯ä¿å­</h4>
<p>æåæä»¬åæ¥çä¿¡æ¯ä¿å­ç¸å³çæºç ãå¨ JobManager å®æä¸æ¬¡ Checkpoint æ¶ï¼ä¼æ§è¡ <code>CheckpointCoordinator.completePendingCheckpoint</code> æ¹æ³ï¼è·éè°ç¨é¾è·¯å¯ä»¥æ¾å° <code>ZooKeeperStateHandleStore.addAndLock</code> æ¹æ³ï¼è¿éä¼æç¶æåå¥å°æä»¶ç³»ç»ä¸­ï¼ç¶åææä»¶è·¯å¾ä¿å­å¨ ZooKeeper ä¸­ã</p>
<pre><code class="language-java">public RetrievableStateHandle&lt;T&gt; addAndLock(String pathInZooKeeper, T state)
        throws PossibleInconsistentStateException, Exception {
    checkNotNull(pathInZooKeeper, "Path in ZooKeeper");
    checkNotNull(state, "State");
    final String path = normalizePath(pathInZooKeeper);
    final Optional&lt;Stat&gt; maybeStat = getStat(path);

    if (maybeStat.isPresent()) {
        if (isNotMarkedForDeletion(maybeStat.get())) {
            throw new AlreadyExistException(
                    String.format("ZooKeeper node %s already exists.", path));
        }

        Preconditions.checkState(
                releaseAndTryRemove(path),
                "The state is marked for deletion and, therefore, should be deletable.");
    }

    final RetrievableStateHandle&lt;T&gt; storeHandle = storage.store(state);
    final byte[] serializedStoreHandle = serializeOrDiscard(storeHandle);
    try {
        writeStoreHandleTransactionally(path, serializedStoreHandle);
        return storeHandle;
    } catch (KeeperException.NodeExistsException e) {
        // Transactions are not idempotent in the curator version we're currently using, so it
        // is actually possible that we've re-tried a transaction that has already succeeded.
        // We've ensured that the node hasn't been present prior executing the transaction, so
        // we can assume that this is a result of the retry mechanism.
        return storeHandle;
    } catch (Exception e) {
        if (indicatesPossiblyInconsistentState(e)) {
            throw new PossibleInconsistentStateException(e);
        }
        // In case of any other failure, discard the state and rethrow the exception.
        storeHandle.discardState();
        throw e;
    }
}
</code></pre>
<p>è³æ­¤ï¼åºäº ZooKeeper ç HA é»è¾æä»¬å°±æ¢³çå®äºãä» 1.12 çæ¬å¼å§ï¼Flink è¿æ¯æäº Kubernetes é«å¯ç¨ï¼ä¸é¢æä»¬åæ¥ä¸ä¸å®æ¯å¦ä½å®ç°çã</p>
<h3 id="åºäº-kubernetes-ç-ha">åºäº Kubernetes ç HA</h3>
<h4 id="éä¸¾æå¡-2">éä¸¾æå¡</h4>
<p>éè¿åé¢çå­¦ä¹ ï¼æä»¬å·²ç»äºè§£å°ï¼éä¸¾çä¸»è¦é»è¾æ¯å¨ LeaderElectionDriver ä¸­ï¼å æ­¤ï¼æä»¬ç´æ¥æ¥ç KubernetesLeaderElectionDriver çé»è¾å³å¯ãåå»º KubernetesLeaderElectionDriver æ¶ï¼åå»ºå¹¶å¯å¨äº KubernetesLeaderElectorãè¿ä¸ªç±»ä¼¼äº ZooKeeper é»è¾ä¸­ LeaderLatchï¼ä¼è· Kubernetes åºå±çéä¸¾é»è¾äº¤äºï¼åæ¶æ³¨åçå¬ã</p>
<pre><code class="language-java">public KubernetesLeaderElector(
        NamespacedKubernetesClient kubernetesClient,
        KubernetesLeaderElectionConfiguration leaderConfig,
        LeaderCallbackHandler leaderCallbackHandler,
        ExecutorService executorService) {
    this.kubernetesClient = kubernetesClient;
    this.leaderElectionConfig =
            new LeaderElectionConfigBuilder()
                    .withName(leaderConfig.getConfigMapName())
                    .withLeaseDuration(leaderConfig.getLeaseDuration())
                    .withLock(
                            new ConfigMapLock(
                                    new ObjectMetaBuilder()
                                            .withNamespace(kubernetesClient.getNamespace())
                                            .withName(leaderConfig.getConfigMapName())
                                            // Labels will be used to clean up the ha related
                                            // ConfigMaps.
                                            .withLabels(
                                                    KubernetesUtils.getConfigMapLabels(
                                                            leaderConfig.getClusterId()))
                                            .build(),
                                    leaderConfig.getLockIdentity()))
                    .withRenewDeadline(leaderConfig.getRenewDeadline())
                    .withRetryPeriod(leaderConfig.getRetryPeriod())
                    .withReleaseOnCancel(true)
                    .withLeaderCallbacks(
                            new LeaderCallbacks(
                                    leaderCallbackHandler::isLeader,
                                    leaderCallbackHandler::notLeader,
                                    newLeader -&gt;
                                            LOG.info(
                                                    "New leader elected {} for {}.",
                                                    newLeader,
                                                    leaderConfig.getConfigMapName())))
                    .build();
    this.executorService = executorService;

    LOG.info(
            "Create KubernetesLeaderElector on lock {}.",
            leaderElectionConfig.getLock().describe());
}
</code></pre>
<p>éä¸¾æååï¼ä¼åè° <code>LeaderElectionListener.onGrantLeadership</code> æ¹æ³ãåç»­çè°ç¨é¾è·¯è¿æ¯ä¼è°ç¨å° <code>KubernetesLeaderElectionDriver.publishLeaderInformation</code> æ¹æ³ãè¿ä¸ªæ¹æ³æ¯æ leader ä¿¡æ¯åå° Kubernetes ç configMap ä¸­ã</p>
<pre><code class="language-java">public void publishLeaderInformation(String componentId, LeaderInformation leaderInformation) {
    Preconditions.checkState(running.get());

    try {
        kubeClient
                .checkAndUpdateConfigMap(
                        configMapName,
                        updateConfigMapWithLeaderInformation(componentId, leaderInformation))
                .get();
    } catch (InterruptedException | ExecutionException e) {
        leaderElectionListener.onError(e);
    }

    LOG.debug(
            "Successfully wrote leader information {} for leader {} into the config map {}.",
            leaderInformation,
            componentId,
            configMapName);
}
</code></pre>
<h4 id="æå¡åç°-2">æå¡åç°</h4>
<p>æå¡åç°çé»è¾å¨ KubernetesLeaderRetrievalDriver ç±»ä¸­ï¼å¨åå»ºæ¶ï¼ä¼å°åé¨ç±» ConfigMapCallbackHandlerImpl æ³¨åä¸ºçå¬åè°ç±»ã</p>
<p>å½ configMap ææ°å¢æåæ´åï¼ä¼åè° <code>LeaderRetrievalService.notifyLeaderAddress</code> æ¹æ³ã</p>
<pre><code class="language-java">private class ConfigMapCallbackHandlerImpl
        implements FlinkKubeClient.WatchCallbackHandler&lt;KubernetesConfigMap&gt; {

    @Override
    public void onAdded(List&lt;KubernetesConfigMap&gt; configMaps) {
        // The ConfigMap is created by KubernetesLeaderElectionDriver with
        // empty data. We don't really need to process anything unless the retriever was started
        // after the leader election has already succeeded.
        final KubernetesConfigMap configMap = getOnlyConfigMap(configMaps, configMapName);
        final LeaderInformation leaderInformation = leaderInformationExtractor.apply(configMap);
        if (!leaderInformation.isEmpty()) {
            leaderRetrievalEventHandler.notifyLeaderAddress(leaderInformation);
        }
    }

    @Override
    public void onModified(List&lt;KubernetesConfigMap&gt; configMaps) {
        final KubernetesConfigMap configMap = getOnlyConfigMap(configMaps, configMapName);
        leaderRetrievalEventHandler.notifyLeaderAddress(
                leaderInformationExtractor.apply(configMap));
    }
    ...
}
</code></pre>
<h4 id="ä¿¡æ¯ä¿å­-2">ä¿¡æ¯ä¿å­</h4>
<p>ä¿¡æ¯ä¿å­çé»è¾å ZooKeeper ä¹éå¸¸ç±»ä¼¼ãå³åæ state ä¿å­å¨æä»¶ç³»ç»ï¼ç¶åæå­å¨è·¯å¾åå° Kubernetes åå° configMap ä¸­ãå·ä½å¯ä»¥ç <code>KubernetesStateHandleStore.addAndLock</code> æ¹æ³ã</p>
<h3 id="æ»ç»">æ»ç»</h3>
<p>æ¬ææä»¬ä¸èµ·æ¢³çäº Flink ä¸­ JobManager ç HA æºå¶ç¸å³æºç ãç®å Flink æ¯æ ZooKeeper å Kubernetes ä¸¤ç§å®ç°ãå¨æ¢³çè¿ç¨ä¸­ï¼æä»¬ä»¥ JobManager ä¸ºä¾ï¼å¶ä»å ä¸ªç¨å°é«å¯ç¨çæå¡çéä¸¾é»è¾ä¹æ¯ä¸æ ·çã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-14 23:46">2026-01-14 23:45</span>&nbsp;
<a href="https://www.cnblogs.com/Jackeyzhe">Jackeyzhe</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19484622);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19484622', targetLink: 'https://www.cnblogs.com/Jackeyzhe/p/19484622', title: 'Flinkæºç éè¯»ï¼JobManagerçHAæºå¶' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ å°ç½å­¦AIå¼å01ï¼åå»ºç¬¬ä¸ä¸ªç¤ºä¾Agent ]]></title>
    <link>https://www.cnblogs.com/jyzhao/p/19484508/xiao-bai-xueai-kai-fa01-chuang-jian-di-yi-ge-shi-l</link>
    <guid>445f0dafcb9d3942e311ecccb283a175</guid>
    <description>
    <![CDATA[ 
    <a name="top"></a>
    <h2><a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/jyzhao/p/19484508/xiao-bai-xueai-kai-fa01-chuang-jian-di-yi-ge-shi-l" title="åå¸äº 2026-01-14 23:43">
    <span role="heading" aria-level="2">å°ç½å­¦AIå¼å01ï¼åå»ºç¬¬ä¸ä¸ªç¤ºä¾Agent</span>
    

</a>
</h2>
    <small>
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-14 23:43">2026-01-14 23:43</span>&nbsp;
<a href="https://www.cnblogs.com/jyzhao">AlfredZhao</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19484508);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19484508', targetLink: 'https://www.cnblogs.com/jyzhao/p/19484508/xiao-bai-xueai-kai-fa01-chuang-jian-di-yi-ge-shi-l', title: 'å°ç½å­¦AIå¼å01ï¼åå»ºç¬¬ä¸ä¸ªç¤ºä¾Agent' })">ä¸¾æ¥</a>
</small>
    <div class="entry">
        <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>å¨ LangChain å¼åä¸­ï¼æä»¬çæ ¸å¿å·¥ä½æ¯å Promptï¼æç¤ºè¯ï¼ã</p>
<p>é¤æ­¤ä¹å¤ï¼è¿éè¦äºè§£ä¸pythonåºç¡ï¼ç®åäºè§£å³å¯ï¼ä¸éè¦ç³»ç»å­¦ä¹ ï¼è¿å°±æ¯AIæ¶ä»£å¯¹ææ¯ç±å¥½èççº¢å©ã</p>
<h2 id="01--æå»ºç¬ç«çpythonç¯å¢">01 | æå»ºç¬ç«çpythonç¯å¢</h2>
<p>ä½¿ç¨minicondaæå»ºç¬ç«çpythonç¯å¢ã</p>
<p>å®æ¹ç½ç«ï¼<a href="https://www.anaconda.com/" target="_blank" rel="noopener nofollow">https://www.anaconda.com/</a></p>
<p>éæ©éåä½ çï¼æè¿éç´æ¥éæ©å¾å½¢åå®è£çMinicondaï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/635610/202601/635610-20260114224646258-840865368.jpg" alt="" loading="lazy"></p>
<p>ä¸è½½åå®è£ï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/635610/202601/635610-20260114224646142-163182582.jpg" alt="" loading="lazy"></p>
<p>å³é­å¹¶éæ°æå¼ç»ç«¯ãæ­¤æ¶ä½ ä¼çå°å½ä»¤è¡åé¢å¤äºä¸ª (base)ï¼è¿è¯´æ Conda å·²ç»æ¥ç®¡äºç¯å¢ã</p>
<p>ç¶ååå»º Python 3.12 ä¸å±å­¦ä¹ ç¯å¢ï¼</p>
<pre><code class="language-BASH"># åå»ºç¯å¢å¹¶æå® Python çæ¬
conda create -n lc python=3.12 -y

# æ¿æ´»ç¯å¢
conda activate lc
</code></pre>
<p>Tipsï¼å¦æåå»ºç¯å¢ï¼éå°è®©åææå¡/æ¡æ¬¾ä¹ç±»ï¼ç´æ¥ææç¤ºå½ä»¤æ§è¡åæå³å¯ã</p>
<p>åé¢æµè¯ä¸ååè½çpythonç¨åºè¯å®åä¸äºå¼ç¨åç§ç±»åçåï¼æä»¬ç»ä¸æ¾å° requirements.txt ä¸­ï¼åç»­æ°ç¯å¢ä¹å¯ä»¥ç´æ¥ä¸é®å®è£éè¦å¼å¥çç¸å³åã</p>
<pre><code class="language-BASH">pip install -r requirements.txt
</code></pre>
<p>å®æç»´æ¤requirements.txtæä»¶ï¼</p>
<pre><code class="language-BASH">langchain
langchain-openai
python-dotenv
</code></pre>
<h2 id="02--åå»ºç¬¬ä¸ä¸ªç¤ºä¾agent">02 | åå»ºç¬¬ä¸ä¸ªç¤ºä¾Agent</h2>
<p>è¿éä»¿ç§LangChainå®æ¹ææ¡£ï¼æå»ºä¸ä¸ªç®åçAgentã</p>
<ul>
<li><a href="https://docs.langchain.com/oss/python/langchain/quickstart" target="_blank" rel="noopener nofollow">https://docs.langchain.com/oss/python/langchain/quickstart</a></li>
</ul>
<p>å ä¸ºç¬èææ¶æ²¡æClaudeæ¨¡åå¯ç¨ï¼æä»¥æ¿æ¢ä¸ºå½åçæ¨¡åï¼å¨æä»¬å­¦ä¹ æµè¯é¶æ®µï¼åºæ¬æ¯æ²¡å¥å½±åçã</p>
<p>vi basic.py</p>
<pre><code class="language-python">import os
from dotenv import load_dotenv
from langchain.agents import create_agent
from langchain_openai import ChatOpenAI
from langchain.tools import tool

# å è½½ .env æä»¶ä¸­ç SILICONFLOW_API_KEY
load_dotenv()

# 1. å®ä¹å·¥å·ï¼å¿é¡»è¦åæ¸æ°ç Docstringï¼å½æ°æ³¨éï¼
@tool
def get_weather(city: str) -&gt; str:
    """è·åæå®åå¸çå®æ¶å¤©æ°æåµã"""
    return f"{city} çå¤©æ°æ»æ¯é´é¨è¿è¿ï¼"

# 2. åå§å SiliconFlow æ¨¡å
llm = ChatOpenAI(
    model="deepseek-ai/DeepSeek-V3", 
    api_key=os.getenv("SILICONFLOW_API_KEY"),
    base_url="https://api.siliconflow.cn/v1",
    temperature=0.1
)

# 3. åå»º Agent
agent = create_agent(
    model=llm,
    tools=[get_weather],
    system_prompt="ä½ æ¯ä¸ä¸ªä¹äºå©äººçå¤©æ°å©æã"
)

# 4. è¿è¡
if __name__ == "__main__":
    response = agent.invoke(
        {"messages": [{"role": "user", "content": "åäº¬å¤©æ°æä¹æ ·ï¼"}]}
    )
    # æå°æåä¸æ¡æ¶æ¯ï¼AI çåç­ï¼
    print(response["messages"][-1].content)
</code></pre>
<h2 id="03--å¢å¼ºè¿ä¸ªç¤ºä¾agent">03 | å¢å¼ºè¿ä¸ªç¤ºä¾Agent</h2>
<p>æ±åå¹¶ç¨å¾®æ¹é ä¸å®æ¹çç¤ºä¾ï¼ä½¿å¶éç¨äºæä»¬çæµè¯ç¯å¢ï¼</p>
<p>vi enhance.py</p>
<pre><code class="language-PYTHON">import os
from dataclasses import dataclass
from dotenv import load_dotenv

from langchain_openai import ChatOpenAI
from langchain.agents import create_agent
from langchain.tools import tool, ToolRuntime
from langgraph.checkpoint.memory import InMemorySaver
from langchain.agents.structured_output import ToolStrategy

load_dotenv()

# 1. å®ä¹ç³»ç»æç¤ºè¯ï¼è¦æ± AI åä¸ªâè°é³æ¢âä¸å®¶ï¼
SYSTEM_PROMPT = """ä½ æ¯ä¸ä½ä¸ä¸çèµæ·±å¤©æ°é¢æ¥åï¼è¯´è¯æå¶å¹½é»ï¼ç¹å«åæ¬¢è®²âè°é³æ¢âã

ä½ ææä½¿ç¨ä»¥ä¸ä¸¤ä¸ªå·¥å·ï¼
- get_weather_for_location: è·åç¹å®åå¸çå¤©æ°ã
- get_user_location: è·åå½åç¨æ·çæå¨å°ã

å¦æç¨æ·è¯¢é®å¤©æ°ï¼è¯·å¡å¿ç¡®è®¤å°ç¹ãå¦æç¨æ·è¯´çæ¯âæè¿å¿âæâæè¿éâï¼è¯·è°ç¨ get_user_location è·åä»ä»¬çä½ç½®ã"""

# 2. å®ä¹ä¸ä¸æç»æï¼å­å¨ç¨æ·ä¿¡æ¯ï¼
@dataclass
class Context:
    """èªå®ä¹è¿è¡æ¶ä¸ä¸æã"""
    user_id: str

# 3. å®ä¹å·¥å·
@tool
def get_weather_for_location(city: str) -&gt; str:
    """è·åæå®åå¸çå¤©æ°æåµã"""
    return f"{city} çå¤©æ°æ»æ¯é³åç¿çï¼"

@tool
def get_user_location(runtime: ToolRuntime[Context]) -&gt; str:
    """æ ¹æ®ç¨æ· ID è·åå¶å°çä½ç½®ã"""
    user_id = runtime.context.user_id
    # æ¨¡ææ°æ®åºï¼ç¨æ· 1 å¨åäº¬ï¼å¶ä»å¨ç æµ·
    return "åäº¬" if user_id == "1" else "ç æµ·"

# 4. éç½®ä½ çæ¨¡å (SiliconFlow)
model = ChatOpenAI(
    model="deepseek-ai/DeepSeek-V3",
    api_key=os.getenv("SILICONFLOW_API_KEY"),
    base_url="https://api.siliconflow.cn/v1",
    temperature=0.7  # ç¨å¾®æé«éæºæ§ï¼è®©è°é³æ¢æ´æåæ
)

# 5. å®ä¹ååºæ ¼å¼ï¼æ±åå­æ®µæè¿°ï¼è®© AI æç½å¡«ä»ä¹ï¼
@dataclass
class ResponseFormat:
    """Agent çç»æååå¤æ ¼å¼ã"""
    # å¹½é»çè°é³æ¢åå¤
    punny_response: str
    # ä»»ä½å³äºå¤©æ°çæè¶£ä¿¡æ¯ï¼å¦ææçè¯ï¼
    weather_conditions: str | None = None

# 6. è®¾ç½®è®°å¿å­å¨
checkpointer = InMemorySaver()

# 7. åå»º Agent
agent = create_agent(
    model=model,
    system_prompt=SYSTEM_PROMPT,
    tools=[get_user_location, get_weather_for_location],
    context_schema=Context,
    response_format=ToolStrategy(ResponseFormat),
    checkpointer=checkpointer
)

# --- è¿è¡æµè¯ ---

# è®¾ç½®ä¼è¯ ID
config = {"configurable": {"thread_id": "test_user_001"}}

# ç¬¬ä¸æ¬¡æé®
print("--- ç¬¬ä¸æ¬¡å¯¹è¯ ---")
response = agent.invoke(
    {"messages": [{"role": "user", "content": "å¤é¢å¤©æ°æä¹æ ·ï¼"}]},
    config=config,
    context=Context(user_id="1")
)

# è®¿é®ç»æåç»æ
res = response['structured_response']
print(f"AI: {res.punny_response}")
print(f"è¯¦æ: {res.weather_conditions}")

print("\n--- ç¬¬äºæ¬¡å¯¹è¯ï¼æµè¯è®°å¿ï¼ ---")
# ç¬¬äºæ¬¡æé®
response = agent.invoke(
    {"messages": [{"role": "user", "content": "è°¢è°¢ä½ ï¼æå¨åªéï¼"}]},
    config=config,
    context=Context(user_id="1")
)

res = response['structured_response']
print(f"AI: {res.punny_response}")
</code></pre>
<p>è¿æ®µç¤ºä¾ä»£ç çæ ¸å¿é»è¾æ¯ï¼</p>
<p><strong>ç¬¬ä¸æ¬¡å¯¹è¯ï¼</strong></p>
<p>ç¨æ·é®ï¼âå¤é¢å¤©æ°æä¹æ ·ï¼âï¼æ²¡è¯´å°ç¹ï¼ã<br>
AI æèï¼ç³»ç»æç¤ºè¯åè¯æï¼å¦æå°ç¹ä¸æï¼åå»æ¥ç¨æ·å¨åªã<br>
å¨ä½ï¼AI è°ç¨ get_user_location -&gt; å¾å°âåäº¬â -&gt; è°ç¨ get_weather_for_location -&gt; å¾å°å¤©æ°ã<br>
åå¤ï¼æ ¹æ® ResponseFormat ååºä¸ä¸ªè°é³æ¢ã</p>
<p><strong>ç¬¬äºæ¬¡å¯¹è¯ï¼</strong></p>
<p>ç¨æ·é®ï¼âè°¢è°¢ä½ ï¼æå¨åªéï¼â<br>
AI æèï¼ç±äºæ thread_id å checkpointerï¼AI è®°å¾ä¸ä¸æ¬¡æ¥è¯¢çç»æã<br>
å¨ä½ï¼å®ä¸éè¦åæ¬¡æ¥å·¥å·ï¼ç´æ¥ä»è®°å¿éæåä¿¡æ¯å¹¶åå¤ã</p>
<p>ç¶åæå·¥å°ä»£ç ä¸­ç user_id æ¹ä¸º2ï¼åæ¬¡è¿è¡ï¼å°±ä¼æ ¹æ®å·¥å· <code>get_user_location</code> ä¸­çç¤ºä¾é»è¾ï¼å¾å°å°ç¹ä¸ºâç æµ·âï¼ä¸¤æ¬¡æ§è¡çææåèå¦ä¸ï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/635610/202601/635610-20260114224646132-69223909.jpg" alt="" loading="lazy"></p>
<p>è¯¥æ®µç¤ºä¾ä»£ç è½ç¶ç®åï¼ä½å¶å®å·²ç»è½å±ç°åºä¸ä¸ªä¼ä¸çº§ AI æºè½ä½ï¼Agentï¼çç¼©å½±ãå®æ¶µçäºç°ä»£ AI å¼åä¸­ææ ¸å¿çä¸ä¸ªæ¯æ±ï¼å·¥å·è°ç¨ï¼Tool Useï¼ãä¸ä¸æè®°å¿ï¼Memoryï¼ãä»¥åç»æåè¾åºï¼Structured Outputï¼ã</p>

</div>
<div id="MySignature" role="contentinfo">
    <a href="https://www.cnblogs.com/jyzhao/" target="_blank">AlfredZhao</a>Â©çæææãä»Oracleèµ·èªï¼é¢ç¥ç²¾å½©çITææ¯ãã<br>
è½¬è½½è¯·æ³¨æåæé¾æ¥ï¼<a href="https://www.cnblogs.com/jyzhao/p/19484508/xiao-bai-xueai-kai-fa01-chuang-jian-di-yi-ge-shi-l" target="_blank">https://www.cnblogs.com/jyzhao/p/19484508/xiao-bai-xueai-kai-fa01-chuang-jian-di-yi-ge-shi-l</a>
<hr>
<div style="text-align:center; margin-top:30px;">
  <p style="font-size:14px;color:#555;">
    ð æè°¢éè¯»ï¼æ¬¢è¿å³æ³¨æçå¬ä¼å· <b>ãèµµéå®ã</b>
  </p>
  <img src="https://images.cnblogs.com/cnblogs_com/jyzhao/824234/o_250208075013_qrcode-zjy.jpg" width="160" style="border:1px solid #ddd;border-radius:8px;">
</div>
</div>
<div class="clear"></div>

        <div class="clear"></div>
        
</div>
    <ul class="postmetadata">
        <vc:categories-tags blog-app="jyzhao" blog-id="186567" post-id="19484508"></vc:categories-tags>
    </ul>
 ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ Claude Code æä½³å®è·µç 8 æ¡é»éæ³å ]]></title>
    <link>https://www.cnblogs.com/didispace/p/19484090</link>
    <guid>3b877ccb5da5ed512523a6abc76d9854</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/didispace/p/19484090" title="åå¸äº 2026-01-14 19:53">
    <span role="heading" aria-level="2">Claude Code æä½³å®è·µç 8 æ¡é»éæ³å</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>ä¸ºä»ä¹åæ ·æ¯è°ç¨ Claudeï¼æçäººè½ååºå·¥ä¸çº§ä»£ç ï¼èæçäººåªæ¯å¨ä¸æ­å ç§¯âææ¯åºâï¼ ä»å¤©åäº«ä¸ä½æ¥æ 7 å¹´ AmazonãDisney å¤§åç»éªãç°ä»»åä¸å¬å¸ CTO åäº«çå®ææåãä»æ Claude Code å½ä½æ¯æ¥ä¸»åå·¥å·ï¼å¹¶æ»ç»åºäºä¸å¥é«é¶ç©å®¶æåãä»âåæèåæ²å­âçæ¶æéå¾ï¼å°è®© AI ç§æä½ ç CLAUDE.md æ·±åº¦éç½®ï¼å¨æ¯é¿åæåãå¦æä½ æ³è®© AI çæ­£æä¸ºä½ ççäº§åé£è½®ï¼è¿ç¯æç« ç»å¯¹å¼å¾æ¶èåå¤è¯»ï¼</p>
<p><img alt="f02adbeb1a8c005df0134224ed8c0d1b.png" loading="lazy" data-src="https://img2024.cnblogs.com/blog/626506/202601/626506-20260114195205678-715088109.png" class="lazyload"></p>
<p>ä¸é¢æ¯å¯¹è¿ç¯æç« çæ»ç»è§£è¯»ï¼å¦æå¯¹åææå´è¶£ä¹å¯ä»¥æ³è¿éæ¥çï¼<a href="https://x.com/eyad_khrais/status/2010076957938188661" target="_blank" rel="noopener nofollow">ãThe complete claude code tutorial ã</a></p>
<h2 id="æ³åä¸åæèåè¾å¥è®¡åæ¨¡å¼æ¯ä½ æå¼ºå¤§çæ­¦å¨">æ³åä¸ï¼åæèï¼åè¾å¥ï¼è®¡åæ¨¡å¼æ¯ä½ æå¼ºå¤§çæ­¦å¨ã</h2>
<p>å¤§å¤æ°äººè®¤ä¸ºä½¿ç¨AIå·¥å·çç¬¬ä¸æ­¥å°±æ¯ç´æ¥å¼å§è¾å¥æç¤ºè¯ãè¿æ¯ä½ è½ç¯ä¸çæå¤§éè¯¯ä¹ä¸ãçæ­£è³å³éè¦ä¸å¿é¡»ååçç¬¬ä¸æ­¥æ¯ââæèåè®¡åã</p>
<p>æ100%çç»éªè¡¨æï¼ä½¿ç¨âè®¡åæ¨¡å¼âï¼è¿æä¸¤æ¬¡ Shift+Tab é®è¿å¥ï¼å¾å°çè¾åºï¼è¿èäºç´æ¥æ»æ»ä¸ç»å°è¾å¥æ³æ³ãè¿ç§å·®è·æ¯ååæ§çã</p>
<p>å½ç¶ï¼å¯¹äºä¸äºç»éªä¸è¶³çå·¥ç¨å¸æ¥è¯´ï¼è¿å¯è½è¯´èµ·æ¥å®¹æåèµ·æ¥é¾ãå¯¹æ­¤ï¼ææä¸¤æ¡å»ºè®®ï¼</p>
<ol>
<li>å¼å§å­¦ä¹ ã å³ä½¿æ¯æ¬¡åªå­¦ä¸ç¹ï¼ä¹å¿é¡»å¼å§ç§¯ç´¯ãå¦æä½ æ°¸è¿ä¸ææ¡è§åè½åï¼ä½ å°±æ¯å¨ç»èªå·±è®¾ç½®éç¢ã</li>
<li>ä¸AIæ·±åº¦äº¤æµã åClaudeè¿è¡ä¸åºæ·±å¥çãååçå¯¹è¯ãè¯¦ç»æè¿°ä½ æ³æå»ºä»ä¹ï¼è¯¢é®å®å¨ç³»ç»è®¾è®¡ä¸æä»ä¹ä¸åçéæ©ï¼æç»å±åç¡®å®ä¸ä¸ªæ¹æ¡ãä½ åAIåºè¯¥äºç¸æé®ï¼èä¸æ¯åè¡éã</li>
</ol>
<h2 id="æ³åäºclaudemdä¸æ¯ææ¡£èæ¯aiçå¤§è">æ³åäºï¼CLAUDE.mdä¸æ¯ææ¡£ï¼èæ¯AIçå¤§èã</h2>
<p>CLAUDE.mdæ¯ä¸ä¸ªæå¶éè¦ä½å¸¸è¢«è¯¯ç¨çéç½®æä»¶ãå¨ä½ æ¯æ¬¡å¯å¨ä¼è¯æ¶ï¼Claudeé½ä¼é¦åè¯»åå®ãå¤§å¤æ°äººè¦ä¹å®å¨å¿½ç¥å®ï¼è¦ä¹ç¨ä¸äºåå¾ä¿¡æ¯å¡«æ»¡å®ï¼ç»æåèè®©Claudeçè¡¨ç°æ´ç³ã</p>
<p>è¦åå¥½ä¸ä¸ªCLAUDE.mdï¼è¯·éµå¾ªä»¥ä¸åä¸ªå³é®æ³åï¼</p>
<ul>
<li>ä¿æç®ç­ï¼ Claudeä¸æ¬¡åªè½å¯é å°éµå¾ªå¤§çº¦150-200æ¡æä»¤ï¼èç³»ç»æç¤ºæ¬èº«å·²ç»å ç¨äºå¤§çº¦50æ¡ãä½ çæ¯ä¸æ¡æ°æä»¤é½å¨äºå¤ºå®çæ³¨æåãå¦æä½ çCLAUDE.mdåå¾åæ¬å°è¯´ï¼Claudeå°±ä¼å¼å§éæºå¿½ç¥æäºåå®¹ã</li>
<li>ä¸æ³¨äºé¡¹ç®ç¹æ§ï¼ ä¸è¦åè¯å®ä»ä¹æ¯âç»ä»¶âæä»¶å¤¹ï¼å®æ©å°±ç¥éäºãä½ åºè¯¥åè¯å®ä½ é¡¹ç®éé£äºâå¥æªâçä¸è¥¿ï¼æ¯å¦ä½ ç¹æçbashå½ä»¤æå·¥ä½æµç¨ã</li>
<li>è§£éâä¸ºä»ä¹âï¼èä¸ä»æ¯âåä»ä¹âï¼ å½ä½ ç»åºæä»¤èåçåå æ¶ï¼Claudeè½æ´å¥½å°çè§£æå¾å¹¶ååºæ´ä¼çå¤æ­ãåªè¯´âä½¿ç¨TypeScriptä¸¥æ ¼æ¨¡å¼âæ¯å¯ä»¥çï¼ä½è¯´âä½¿ç¨TypeScriptä¸¥æ ¼æ¨¡å¼ï¼å ä¸ºæä»¬æ¾å éå¼anyç±»åå¯¼è´è¿çäº§ç¯å¢çbugâææä¼å¥½å¾å¤ã</li>
<li>æç»­æ´æ°ï¼ CLAUDE.mdåºè¯¥æ¯ä¸ä»½âæ´»ææ¡£âãå½ä½ å·¥ä½æ¶ï¼å¯ä»¥æ # é®å¿«éå°å½åæä»¤æ·»å å°æä»¶ä¸­ãæ¯å½ä½ åç°èªå·±ç¬¬äºæ¬¡çº æ­£Claudeåä¸ä¸ªé®é¢æ¶ï¼è¿å°±æ¯ä¸ä¸ªæç¡®çä¿¡å·ï¼è¿æ¡è§ååºè¯¥è¢«åå¥CLAUDE.mdã</li>
</ul>
<p>ä¸ä¸ªç³ç³ç CLAUDE.md è¯»èµ·æ¥åæ¯ç»æ°åå·¥åçå¥èææ¡£ãèä¸ä¸ªä¼ç§ç CLAUDE.md è¯»èµ·æ¥åæ¯ä½ ä¸ºæå¤©ä¼å¤±å¿çèªå·±çä¸çæ ¸å¿ç¬è®°ã</p>
<h2 id="æ³åä¸200kä¸ä¸ææ¯çèçé·é±å«æè¿å»">æ³åä¸ï¼200kä¸ä¸ææ¯çèçé·é±ï¼å«æè¿å»ã</h2>
<p>è¿æ¯ä¸ä¸ªåç´è§çäºå®ï¼æ¨¡åæ§è½çä¸éè¿å¨ä¸ä¸æçªå£è¢«å®å¨å¡«æ»¡ä¹åå°±å¼å§äºï¼éå¸¸å¨ä½¿ç¨çè¾¾å°20-40%æ¶å°±ä¼åºç°ææ¾çè¡°åã</p>
<p>è¿å°±æ¯ä¸ºä»ä¹ææ¶åå³ä½¿ä½ åç¼©äºä¸ä¸æï¼ä½¿ç¨ /compact å½ä»¤ï¼ï¼Claudeä»ç¶ä¼ç»åºç³ç³çè¾åºãå ä¸ºå¨åç¼©ä¹åï¼æ¨¡åçæ§è½å°±å·²ç»éåäºã</p>
<p>ä»¥ä¸æ¯ææç®¡çä¸ä¸æçå ä¸ªå®ç¨ç­ç¥ï¼</p>
<ul>
<li>ååå¯¹è¯èå´ (Scope your conversations): æ¯ä¸ªåè½æä»»å¡ä½¿ç¨ä¸ä¸ªç¬ç«çå¯¹è¯ãä¸è¦å¨åä¸ä¸ªå¯¹è¯éæ¢æå»ºè®¤è¯ç³»ç»åéææ°æ®åºå±ã</li>
<li>ä½¿ç¨å¤é¨è®°å¿ (Use external memory): å¯¹äºå¤æçä»»å¡ï¼è®©Claudeå°è®¡ååè¿åº¦åå¥å SCRATCHPAD.md è¿æ ·çå¤é¨æä»¶ä¸­ãè¿æ ·ç¬¬äºå¤©ä½ åæ¥æ¶ï¼Claudeå¯ä»¥è¯»åæä»¶ï¼ä»ä¸æ¬¡ä¸­æ­çå°æ¹ç»§ç»­ã</li>
<li>âå¤å¶-ç²è´´âéç½®æ³ (The copy-paste reset): å½ä¸ä¸æåå¾èè¿æ¶ï¼å¤å¶å¯¹è¯ä¸­çå³é®ä¿¡æ¯ï¼è¿è¡ /compact å /clear æ¸ç©ºä¸ä¸æï¼ç¶ååªææéè¦çä¿¡æ¯ç²è´´åæ¥ãä¸ä¸ªæ¸ç½çä¸ä¸æè¿èäºéåçä¸ä¸æã</li>
<li>ææ­æ¸ç©º (Know when to clear): å¦æä¸ä¸ªå¯¹è¯å·²ç»åç¦»äºè½¨éï¼ç´æ¥ç¨ /clear éæ°å¼å§ãè¿å ä¹æ»æ¯æ¯è¯å¾çº æ­£ä¸ä¸ªæ··ä¹±çå¯¹è¯è¦å¥½ã</li>
</ul>
<p>è®°ä½è¿ä¸ªå¿æºæ¨¡åï¼Claudeæ¯æ ç¶æçãé¤äºä½ æç¡®ç»å®çä¸è¥¿ï¼æ¯ä¸ªå¯¹è¯é½æ¯ä»é¶å¼å§ãè¯·æ®æ­¤è§åã</p>
<h2 id="æ³ååæ¶æå³å®ä¸åè§åæ å¯æ¿ä»£">æ³ååï¼æ¶æå³å®ä¸åï¼è§åæ å¯æ¿ä»£ã</h2>
<p>æ¶æè³å³éè¦ï¼å°¤å¶æ¯å¨è½¯ä»¶å·¥ç¨ä¸­ãå¦æä½ ä¸åæèç»æï¼AIçæçä»£ç å°±ä¼æå·¨å¤§çâèªç±åæ¥âç©ºé´ï¼èè¿æ°æ°æ¯é®é¢çæ ¹æºãä½ ä¸è½è·³è¿è§åã</p>
<p>æ¯è¾ä¸ä¸è¿ä¸¤ç§æé®æ¹å¼çå¤©å£¤ä¹å«ï¼æ¨¡ç³çè¯·æ±æ¯âç»æå»ºä¸ä¸ªè®¤è¯ç³»ç»âï¼èä¸ä¸ªç»è¿è§åçãå·ä½çè¯·æ±æ¯âä½¿ç¨ç°æçUseræ¨¡åæå»ºçµå­é®ä»¶/å¯ç è®¤è¯åè½ï¼å°sessionå­å¨å¨Redisä¸­å¹¶è®¾ç½®24å°æ¶è¿æï¼å¹¶æ·»å ä¸­é´ä»¶ä¿æ¤/api/protectedä¸çææè·¯ç±ãâ</p>
<p>åèç»äºAIè¿å¤çèªç±ï¼ç»æå¯è½æ¯æ··ä¹±çãåèç»äºå®ä¸ä¸ªæ¸æ°çèå¾ï¼ç»æä¼ç²¾åå¾å¤ãè±5åéè¿è¡æ¶æè§åï¼å¯ä»¥ä¸ºä½ çä¸åç»­æ°å°æ¶çè°è¯æ¶é´ã</p>
<h2 id="æ³åäºåæ­¢æ±æ¨æ¨¡åç³ç³çè¾åºæºäºä½ ç³ç³çè¾å¥">æ³åäºï¼åæ­¢æ±æ¨æ¨¡åï¼ç³ç³çè¾åºæºäºä½ ç³ç³çè¾å¥ã</h2>
<p>å½å¾å°ä¸çæ³çç»ææ¶ï¼äººä»¬çç¬¬ä¸ååºå¾å¾æ¯æ±æ¨æ¨¡åãä½ç°å®æ¯æ®é·çï¼å«åæªæ¨¡åäºãå¦æä½ ç¨Opus 4.5è¿å¾ä¸å°å¥½ç»æï¼é®é¢åºå¨ä½ èº«ä¸ï¼èä¸æ¯AIãä½ çè¾å¥åæç¤ºæ¹å¼çéäºï¼å¥å·ã</p>
<p>æ³è¦æåè¾åºè´¨éï¼åè¦æåä½ çè¾å¥è´¨éï¼</p>
<ul>
<li>å·ä½è¯´æä½ æ³è¦ä»ä¹ (Be specific about what you want)ï¼ ä½ çæä»¤è¶æ¸æ°ãè¶å·ä½ï¼ç»æå°±è¶å¥½ã</li>
<li>åè¯å®ä¸è¦åä»ä¹ (Tell it what NOT to do)ï¼ Claude 4.5å°¤å¶æè¿åº¦è®¾è®¡çå¾åãå¦æä½ æ³è¦ä¸ä¸ªç®çº¦çæ¹æ¡ï¼å°±æç¡®åè¯å®ï¼âä¿æç®åï¼ä¸è¦æ·»å ææ²¡è¦æ±çæ½è±¡ï¼å¦æå¯è½çè¯ï¼åªç¨ä¸ä¸ªæä»¶ãâ</li>
<li>æä¾âä¸ºä»ä¹âçèæ¯ (Give it context about why)ï¼ åè¯å®âè¿ä¸ªåè½éè¦å¨æ¯ä¸ªè¯·æ±ä¸è¿è¡ï¼æä»¥æ§è½è³å³éè¦âï¼æèâè¿åªæ¯ä¸ä¸ªååï¼ç¨å®å°±æâï¼è¿äºçº¦æä¼å½»åºæ¹åæ¨¡åè§£å³é®é¢çæè·¯ã</li>
</ul>
<p>ä¸ä¸ªä¸å®¶çº§çå·¥ä½æµæ¯ï¼ç¨Opusè¿è¡è§ååæ¶æè®¾è®¡ï¼ç¶ååæ¢å°Sonnetè¿è¡å·ä½å®ç°ã Opusæ´æé¿å¤ææ¨çï¼èSonnetæ´å¿«ãæ´ä¾¿å®ï¼éå¸¸éåæ§è¡æç¡®çä»»å¡ãå½ç¶ï¼å¦æä½ æ¯éè¿APIæéä»è´¹ï¼ç¨Opusåæ¯ä¸è¡ä»£ç ï¼é£ä½ å¯è½å¾èèåæä¸ä¸ªè¾äºã</p>
<p>è®°ä½è¿ä¸ªççï¼å¦æä½ çè¾åºå¾ç³ç³ï¼é£æ¯å ä¸ºä½ çè¾å¥å¾ç³ç³ãæ²¡ææ·å¾å¯èµ°ã</p>
<h2 id="æ³åå­åäºå®éªéç½®å³å®ä½ çä¸é">æ³åå­ï¼åäºå®éªï¼éç½®å³å®ä½ çä¸éã</h2>
<p>Claudeæ¥æä¸ä¸ªæå¶ä¸°å¯çåè½çæç³»ç»ï¼MCPæå¡å¨ãHooksãèªå®ä¹ææ å½ä»¤ãsettings.jsonéç½®ç­ç­ãä½ ä¸éè¦å¨é¨ææ¡ï¼ä½ä½ åºè¯¥å»å°è¯åå®éªã</p>
<ul>
<li>MCP (Model Context Protocol): è®©Claudeè¿æ¥å°å¤é¨æå¡ï¼å¦SlackãGitHubãæ°æ®åºãå¦æä½ åç°èªå·±æ»æ¯å¨å¤å¶ç²è´´ä¿¡æ¯ï¼å¾å¯è½æMCPæå¡å¨è½å¸®ä½ èªå¨åã</li>
<li>Hooks: è®©ä»£ç å¨Claudeä¿®æ¹ååèªå¨è¿è¡ãæ³è®©Prettieræ ¼å¼åæ¯ä¸ªæä»¶ï¼ç¨Hookãæ³å¨æ¯æ¬¡ç¼è¾åè¿è¡ç±»åæ£æ¥ï¼ç¨Hookãè¿è½ç«å³æè·é®é¢ã</li>
<li>èªå®ä¹ææ å½ä»¤: æä½ éå¤ä½¿ç¨çæç¤ºè¯æåæå½ä»¤ãå¨.claude/commandsæä»¶å¤¹éåå»ºmarkdownæä»¶ï¼ç¶åä½ å°±å¯ä»¥ç¨/commandnameæ¥è¿è¡å®ä»¬ã</li>
</ul>
<p>è¿äºæ¨¡åæ¯å¨é½å¨è¿æ­¥ãä¸ä¸ªæåè¡ä¸éçåè½ï¼ç°å¨å¯è½å·²ç»å¯ä»¥äºãä¿æå¥½å¥å¿ï¼ä¸æ­éæ°æµè¯ã</p>
<h2 id="æ³åä¸å½ä½ è¢«å¡ä½æ¶åæ­¢å¼ºæ¨æ¹åæ¹æ³">æ³åä¸ï¼å½ä½ è¢«å¡ä½æ¶ï¼åæ­¢å¼ºæ¨ï¼æ¹åæ¹æ³ã</h2>
<p>ææ¶Claudeä¼é·å¥ä¸ä¸ªå¾ªç¯ï¼å°è¯ãå¤±è´¥ãåå°è¯ãåå¤±è´¥ãå¨è¿ç§æåµä¸ï¼äººçæ¬è½æ¯ç»§ç»­è§£éãæä¾æ´å¤æä»¤ãä½æ´å¥½çåæ³æ¯å½»åºæ¹åä½ çæ¹æ³ã</p>
<ul>
<li>æ¸ç©ºå¯¹è¯ (Clear the conversation)ï¼ ç´¯ç§¯çä¸ä¸æå¯è½æ­£å¨è¿·æå®ï¼ä¸ä¸ªå¨æ°çå¼å§å¯ä»¥è§£å³é®é¢ã</li>
<li>ç®åä»»å¡ (Simplify the task)ï¼ å¦æä¸ä¸ªå¤æä»»å¡è®©Claudeä¸¾æ­¥ç»´è°ï¼æå®åè§£ææ´å°çé¨åãé¡ºä¾¿è¯´ä¸å¥ï¼å¦æClaudeå¤çå¤æä»»å¡å¾ååï¼è¿éå¸¸æå³çä½ çåå§è®¡åå°±ä¸å¤ååã</li>
<li>å±ç¤ºèéåç¥ (Show instead of tell)ï¼ å¦æClaudeä¸ç´æ æ³çè§£ï¼äº²æåä¸ä¸ªæå°åçæ­£ç¡®ç¤ºä¾ï¼ç¶ååè¯å®ï¼âçï¼æç»è¾åºåºè¯¥åè¿æ ·ãç°å¨æè¿ä¸ªæ¨¡å¼åºç¨å°å¶ä»é¨åãâ</li>
<li>éæé®é¢ (Be creative)ï¼ æ¢ä¸ä¸ªè§åº¦æ¥æè¿°ä½ çé®é¢ãææ¶åä½ æåçè¡¨è¿°æ¹å¼å¯è½ä¸ç¬¦åClaudeçâæç»´æ¨¡åâã</li>
</ul>
<p>å¦æä½ åç°èªå·±å·²ç»éå¤è§£éäºä¸éï¼æ¯æ¶åæ¹åç­ç¥äºã</p>
<h2 id="æ³åå«è¶è¶èå¤©æ¨¡å¼æå»ºèªå¨åç³»ç»">æ³åå«ï¼è¶è¶èå¤©æ¨¡å¼ï¼æå»ºèªå¨åç³»ç»ã</h2>
<p>çæ­£ä»Claudeä¸­è·å¾å·¨å¤§ä»·å¼çäººï¼å¹¶ä¸ä»ä»æå®å½ä½ä¸ä¸ªäº¤äºå¼å·¥å·ãä»ä»¬æ­£å¨æå»ºä»¥Claudeä¸ºæ ¸å¿ç»ä»¶çèªå¨åç³»ç»ã</p>
<p>éè¿ -p æ å¿ï¼ä½ å¯ä»¥å¨æ å¤´æ¨¡å¼ï¼headless modeï¼ä¸è¿è¡Claudeãè¿æå³çä½ å¯ä»¥ç¼åèæ¬ï¼å°å®çè¾åºéè¿ç®¡éä¼ éç»å¶ä»å·¥å·ï¼ä¸bashå½ä»¤é¾æ¥ï¼å¹¶å°å¶éæå°èªå¨åå·¥ä½æµä¸­ã</p>
<p>ä¼ä¸æ­£å¨ç¨è¿ç§æ¹å¼å®ç°èªå¨åçä»£ç å®¡æ¥ï¼PR reviewï¼ãæ¯æå·¥åååºãæ¥å¿è®°å½åææ¡£æ´æ°ãææè¿äºé½æ¯å¯è®°å½ãå¯å®¡è®¡çï¼å¹¶ä¸éçæ¶é´çæ¨ç§»ä¸æ­æ¹è¿ã</p>
<p>è¿å°±å½¢æäºä¸ä¸ªå¼ºå¤§çé£è½®æåºï¼Claudeç¯äºä¸ä¸ªéè¯¯ï¼ä½ å®¡æ¥æ¥å¿ï¼ç¶åæ¹è¿CLAUDE.mdæç¸å³å·¥å·ï¼ä¸ä¸æ¬¡Claudeå°±ä¼åå¾æ´å¥½ãè¿ç§æ¹è¿æ¯å¤åå¼çãå¦æä½ åªå¨äº¤äºæ¨¡å¼ä¸ä½¿ç¨Claudeï¼ä½ æ­£å¨éå¤±å®çæ­£çä»·å¼ã</p>
<h2 id="ç»è¯­ä½ çaiä½ çè´£ä»»">ç»è¯­ï¼ä½ çAIï¼ä½ çè´£ä»»</h2>
<p>çæ­£ææ¡åClaudeè¿æ ·çAIå¼åå·¥å·ï¼å³é®å¨äºæç»´æ¨¡å¼çè½¬åââä»ä¸ä¸ªç®åçæä»¤ååºèï¼è½¬åä¸ºä¸ä¸ª meticulous çè§åèãéç½®èåç³»ç»æå»ºèãä½ ä¸æ¯å¨åå®èå¤©ï¼ä½ æ¯å¨ç¼ç¨å®ã</p>
<p>æåï¼çç»ä½ ä¸ä¸ªé®é¢æèï¼ å¦æä½ ä¸æClaudeå½ä½èå¤©æºå¨äººï¼èæ¯çä½ä¸ä¸ªå¯ç¼ç¨çå¢éæåï¼ä½ æåä¼èªå¨åå·¥ä½æµç¨çåªä¸ªé¨åï¼</p>
<p>æ´å¤å³äºAI Codingçåå®¹å¯å³æ³¨æç<a href="https://didispace.com" target="_blank" rel="noopener nofollow">åå®¢</a>è·åæç»­æ´æ°ã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-14 19:53">2026-01-14 19:53</span>&nbsp;
<a href="https://www.cnblogs.com/didispace">ç¨åºç¿DD</a>&nbsp;
éè¯»(<span id="post_view_count">67</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19484090);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19484090', targetLink: 'https://www.cnblogs.com/didispace/p/19484090', title: 'Claude Code æä½³å®è·µç 8 æ¡é»éæ³å' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ é«å¾·å°å¾å®ç°å®æ¶è½¨è¿¹å±ç¤º ]]></title>
    <link>https://www.cnblogs.com/lijinhuaboke/p/19457121</link>
    <guid>8488ade48bc039f063c2243a2424896b</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/lijinhuaboke/p/19457121" title="åå¸äº 2026-01-14 14:35">
    <span role="heading" aria-level="2">é«å¾·å°å¾å®ç°å®æ¶è½¨è¿¹å±ç¤º</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="vue3--é«å¾·å°å¾amap-å®ç°å¹³æ»çå®æ¶è½¨è¿¹åæ¾ä¸è¿½è¸ª">Vue3 + é«å¾·å°å¾(AMap) å®ç°å¹³æ»çå®æ¶è½¨è¿¹åæ¾ä¸è¿½è¸ª</h1>
<h2 id="åè¨">åè¨</h2>
<p>å¨ç©èç½ãç©æµçæ§æå®é²è°åº¦ç³»ç»ä¸­ï¼å®æ¶å±ç¤ºè®¾å¤ï¼å¦æ äººæºãè½¦è¾ãæç¯ï¼çç§»å¨è½¨è¿¹æ¯ä¸ä¸ªå¸¸è§éæ±ãå¦æä»ä»æ¯ç®åçæ´æ°æ è®°ç¹ä½ç½®ï¼è§è§ä¸ä¼åºç°âè·³åâç°è±¡ï¼ä½éªå¾ä¸æµçã</p>
<p>æ¬æå°åäº«å¦ä½å¨ <strong>Vue 3</strong> é¡¹ç®ä¸­ï¼å©ç¨ <strong>é«å¾·å°å¾ (AMap) JS API</strong> å®ç°æ¯è¾ä¸æ»çå®æ¶è½¨ææã</p>
<h2 id="æ ¸å¿çç¹">æ ¸å¿çç¹</h2>
<ol>
<li><strong>å¹³æ»ç§»å¨</strong>ï¼ç¹ä½æ´æ°æ¶ï¼Marker éè¦ä»æ§ä½ç½®å¹³æ»è¿æ¸¡å°æ°ä½ç½®ï¼èä¸æ¯ç¬é´è·³è¿å»ã</li>
<li><strong>è½¨è¿¹è·é</strong>ï¼éç Marker çç§»å¨ï¼è½¨è¿¹çº¿ï¼Polylineï¼éè¦å®æ¶âçé¿âï¼ç´§è·å¨ Marker åé¢ã</li>
<li><strong>å¢éæ´æ°</strong>ï¼åç«¯éå¸¸è¿åå®æ´çåå²è·¯å¾æå½åç¶æï¼åç«¯éè¦è®¡ç®åºâæ°å¢çè·¯å¾æ®µâè¿è¡å¨ç»æ­æ¾ã</li>
</ol>
<h2 id="å®ç°é»è¾è§£æ">å®ç°é»è¾è§£æ</h2>
<p>æ ¸å¿æ¯å©ç¨é«å¾·å°å¾ API çè½¨è¿¹åæ¾åè½ãè½ç¶å®æ¹ææ¡£æä¾äºåºç¡çè½¨è¿¹åæ¾ç¤ºä¾ï¼åèï¼<a href="https://lbs.amap.com/demo/javascript-api-v2/example/marker/replaying-historical-running-data" target="_blank" rel="noopener nofollow">è½¨è¿¹åæ¾ç¤ºä¾</a>ï¼ï¼ä½å®æ¹ç¤ºä¾éå¸¸æ¯ä¸æ¬¡æ§å è½½å®æ´è·¯å¾ï¼ä¾å¦ï¼åè·åå®æ´ç»çº¬åº¦æ°ç»ï¼æ¸²æåºæµèè²èæ¯çº¿ï¼åè®©å°è½¦æ²¿çè·¯å¾è·å¹¶ç»åºæµç»¿è²è½¨è¿¹ï¼ã</p>
<p><strong>æä»¬çä¸å¡åºæ¯ä¸å®æ¹ç¤ºä¾çä¸»è¦åºå«å¨äºï¼</strong><br>
æä»¬çè·¯å¾æ°æ®æ¯<strong>å®æ¶å¢éæ´æ°</strong>çãåç«¯å¹¶æ²¡æä¸å¼å§å°±æ¿å°å®æ´çè·¯å¾ï¼èæ¯éè¿ WebSocket æè½®è¯¢å®æ¶è·ååç«¯è¿åçææ°è·¯å¾æ°æ®ãå æ­¤ï¼æä»¬éè¦èªè¡è®¾è®¡é»è¾ï¼è®¡ç®åºæ¯æ¬¡æ´æ°çâå¢éçæ®µâï¼å¹¶è®© Marker å¹³æ»å°èµ°å®è¿ä¸æ®µã</p>
<h3 id="æ ¸å¿æè·¯">æ ¸å¿æè·¯ï¼</h3>
<ol>
<li>
<p><strong>ååç«¯æ°æ®çº¦å®</strong>ï¼</p>
<ul>
<li>çæ³æåµä¸ï¼åç«¯æå¥½ç´æ¥è¿åâå¢éè·¯å¾âï¼å³ä¸ä¸æ¬¡ä½ç½®å°å½åä½ç½®çåæ éåï¼ã</li>
<li>ä½å¨å®éé¡¹ç®ä¸­ï¼æ¯å¦æ¬æ¡ä¾ï¼ï¼åç«¯æ¥å£è¿åçæ¯<strong>å½åæ¶å»çå®æ´ç´¯ç§¯è·¯å¾</strong>ãå æ­¤ï¼åç«¯éè¦èªè¡æ¯å¯¹ç¼å­çâä¸ä¸æ¬¡è·¯å¾âåâææ°è·¯å¾âï¼è®¡ç®åºå¢éé¨åã</li>
</ul>
</li>
<li>
<p><strong>ç¶æç®¡ç (ç¼å­å®ä¾)</strong>ï¼</p>
<ul>
<li>ä½¿ç¨ <code>Map</code> æ°æ®ç»ææ¥ç¼å­æ¯ä¸ªè®¾å¤ï¼å¦æ äººæºãæç¯ï¼ç <code>Marker</code>ï¼å¾æ ï¼å <code>Polyline</code>ï¼è½¨è¿¹çº¿ï¼å®ä¾ã</li>
<li>ç¡®ä¿æ¯ä¸ªè®¾å¤ ID å¯¹åºå¯ä¸çå°å¾å®ä¾ï¼é¿åæ°æ®å·æ°æ¶éå¤åå»ºå¯¼è´åå­æ³æ¼æéªçã</li>
</ul>
</li>
<li>
<p><strong>è®¡ç®å¢éè·¯å¾</strong>ï¼</p>
<ul>
<li>å½æ°æ°æ®å°è¾¾æ¶ï¼éè¿å¯¹æ¯æ°æ§è·¯å¾é¿åº¦ï¼æªååº<strong>æ°å¢çè·¯å¾æ®µ</strong>ã</li>
<li>è¿æ®µæ°å¢è·¯å¾å°±æ¯ Marker æ¥ä¸æ¥éè¦âå¹³æ»ç§»å¨âçè½¨è¿¹ã</li>
</ul>
</li>
<li>
<p><strong>å¹³æ»å¨ç» (<code>moveAlong</code>)</strong>ï¼</p>
<ul>
<li>è°ç¨é«å¾·å°å¾ç <code>marker.moveAlong()</code> æ¹æ³ï¼è®© Marker æ²¿çæ°å¢è·¯å¾å¹³æ»ç§»å¨ï¼èä¸æ¯ç¬é´è·³åã</li>
</ul>
</li>
<li>
<p><strong>å®æ¶ç»å¶è½¨è¿¹ (<code>moving</code> äºä»¶)</strong>ï¼</p>
<ul>
<li>çå¬ Marker ç <code>moving</code> äºä»¶ãå¨ç§»å¨è¿ç¨ä¸­ï¼å®æ¶æ´æ°è½¨è¿¹çº¿ï¼Polylineï¼çè·¯å¾ï¼ä»èå®ç°âè¾¹èµ°è¾¹ç»âçææã</li>
<li><strong>å³é®ç¹</strong>ï¼ä¸ºä»ä¹è¦å¨ <code>moving</code> äºä»¶ä¸­æ´æ°æ»è½¨è¿¹ï¼èä¸æ¯å¨å¨ç»ç»æ (<code>moveend</code>) åæ´æ°ï¼
<ul>
<li>è¿æ¯ä¸ºäºé²æ­¢æ°æ®æ¨éé¢çè¿å¿«ãå¦æç­å°å¨ç»ç»æåæ´æ°ï¼å¯è½ä¼åºç°âæ°çæ°æ®æ¨éæ¥äºï¼ä½ä¸ä¸æ¬¡å¨ç»è¿æ²¡ç»æï¼å¯¼è´è½¨è¿¹æ°æ®ä¸¢å¤±æè¡æ¥ä¸ä¸âçé®é¢ãå¨ <code>moving</code> è¿ç¨ä¸­å®æ¶å° <code>passedPath</code>ï¼å·²èµ°è¿çè·¯å¾ï¼æ¼æ¥å°æ»è½¨è¿¹ä¸­ï¼æ¯æç¨³å¦¥çæ¹å¼ã</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>å¨ç»ç»ææ¸ç</strong>ï¼</p>
<ul>
<li>å¨ç»ç»ææ¶ (<code>moveend</code>)ï¼æ¸çä¸´æ¶ç»å¶çè¾å©çº¿ï¼ç§»é¤çå¬å¨ï¼é²æ­¢åå­æ³æ¼ã</li>
</ul>
</li>
</ol>
<hr>
<h3 id="ä»£ç è¯¦è§£">ä»£ç è¯¦è§£</h3>
<h4 id="1-ç¶æç®¡çä¸åå§å">1. ç¶æç®¡çä¸åå§å</h4>
<p>æä»¬ä½¿ç¨ <code>Map</code> æ¥ç®¡çå°å¾ä¸ç Marker å Polyline å®ä¾ã</p>
<pre><code class="language-javascript">// å­å¨ Marker å®ä¾ (Key: è®¾å¤ID, Value: AMap.Marker)
const uavMarkers = ref(new Map());
// å­å¨è½¨è¿¹çº¿ Polyline å®ä¾ (Key: è®¾å¤ID, Value: AMap.Polyline)
const uavPaths = ref(new Map());
</code></pre>
<h4 id="2-æ ¸å¿å¤çå½æ°-refreshtemppoint">2. æ ¸å¿å¤çå½æ° <code>refreshTempPoint</code></h4>
<p>è¿ä¸ªå½æ°è´è´£å¤çåæ¡è®¾å¤æ°æ®çæ´æ°é»è¾ã</p>
<pre><code class="language-javascript">// å·æ°è®¾å¤ç¹ä½ä¸è½¨è¿¹
// item: åç«¯è¿åçè®¾å¤æ°æ®å¯¹è±¡
// position: å½åææ°çåæ ç¹
// type: æ´æ°ç±»åï¼'init' ä¸ºåå§åï¼å¶ä»ä¸ºå¢éæ´æ°ï¼
const refreshTempPoint = async (item, position, type, marker, tempOverlay, pathOverlay) =&gt; {
  // 1. æ¸çä¸ä¸è½®çä¸´æ¶è¦çç©ï¼å¦ä¸´æ¶è·¯çº¿ãè·ç¦»ææ¬ï¼
  tempOverlay?.clearOverlays();

  if (item.coordinatesLine) {
    const coordinatesLine = JSON.parse(item.coordinatesLine); // è§£æåç«¯è¿åçå®æ´è·¯å¾æ°ç»

    // --- A. åå§åèµ·ç¹ Marker ---
    let tempMarker = tempUavMarkers.value.get(item.id);
    if (!tempMarker) {
      // å¦ææ¯ç¬¬ä¸æ¬¡åºç°ï¼æ¸²æèµ·ç¹
      tempMarker = renderPoint(coordinatesLine[0], item, "", pathOverlay);
      tempUavMarkers.value.set(item.id, tempMarker);
    }

    // --- B. è·åæåå»ºåå²è½¨è¿¹çº¿ (Polyline) ---
    let polyline = uavPaths.value.get(item.id);
    if (!polyline) {
      polyline = trajectoryLine(item, pathOverlay); // åå»ºæ°ççº¿å®ä¾
      uavPaths.value.set(item.id, polyline);
    }

    // è·åå½åå°å¾ä¸å·²æçè·¯å¾ï¼ç¼å­çæ§è·¯å¾ï¼
    const existingPath = polyline.getPath() || [];

    if (type != "init") {
      // --- C. å¢éæ´æ°é»è¾ ---
      
      // 1. è®¡ç®å¢éè·¯å¾ï¼ä»å·²æè·¯å¾çæåä¸ä¸ªç¹å¼å§æªåï¼ç´å°ææ°è·¯å¾çæ«å°¾
      const newPathSegment = coordinatesLine.slice(
        existingPath.length ? existingPath.length - 1 : 0
      );

      // 2. åå»ºä¸æ¡ä¸´æ¶çâéå½¢âçº¿æ®µï¼ç¨äºè¾å©è®¡ç®æå±ç¤ºï¼è§éæ±èå®ï¼
      const newPolyline = trajectoryLine(item, tempOverlay);

      // 3. å¦æææ°å¢è·¯å¾ï¼å¼å§å¨ç»
      if (newPathSegment &amp;&amp; newPathSegment.length &gt; 0) {
        
        // çå¬ç§»å¨è¿ç¨
        marker.on("moving", function (e) {
          // e.passedPath æ¯ Marker å¨å½åå¨ç»çæ®µä¸­å·²ç»èµ°è¿çè·¯å¾
          newPolyline.setPath(e.passedPath);
          
          // [å³é®] å®æ¶å°èµ°è¿çè·¯å¾æ¼æ¥å°åå²æ»è½¨è¿¹ä¸­
          // è¿æ ·å³ä½¿ WebSocket æ¨éé¢çå¾å¿«ï¼ä¹è½ä¿è¯è½¨è¿¹æ°æ®çè¿ç»­æ§
          polyline.setPath([...existingPath, ...e.passedPath]);
        });

        // å¼å§å¹³æ»ç§»å¨
        marker.moveAlong(newPathSegment, {
          duration: 1000,    // å¨ç»æ¶é¿ï¼éæ ¹æ® WebSocket æ¨éé¢çè°æ´
          autoRotation: true, // è½¦å¤´èªå¨å¯¹åè·¯å¾æ¹å
        });

        // çå¬ç§»å¨ç»æ
        marker.on("moveend", function () {
          // å¨ç»ç»æï¼æ¸çä¸´æ¶è¦çç©
          tempOverlay?.clearOverlays();
          
          // æ´æ°è·ç¦»ææ¬ç­ä¿¡æ¯
          if (item.distance) {
            renderText(
              coordinatesLine[Math.ceil(coordinatesLine.length - 2)],
              `${item.distance}ç±³`,
              tempOverlay
            );
          }
          
          // ç§»é¤çå¬å¨ï¼é²æ­¢éå¤ç»å®
          marker.off("moveend");
        });
      } else {
        // å¦ææ²¡ææ°å¢è·¯å¾ï¼ä½ç½®æ²¡åï¼ï¼ä»æ´æ°æå­ä¿¡æ¯
        if (item.distance) {
          renderText(..., `${item.distance}ç±³`, tempOverlay);
        }
      }

    } else {
      // --- D. åå§åé»è¾ ---
      // å¦ææ¯åå§åå è½½ï¼ç´æ¥è®¾ç½®å®æ´è·¯å¾ï¼ä¸è¿è¡å¨ç»åæ¾
      if (item.distance) {
         renderText(..., `${item.distance}ç±³`, tempOverlay);
      }
      polyline.setPath(coordinatesLine);
    }
  } else {
    // --- E. æ è½¨è¿¹æ°æ®æ¶çéçº§å¤ç ---
    // å¦æåç«¯æ²¡æè¿åè·¯å¾æ°æ®ï¼ç´æ¥è·³åå°ææ°ä½ç½®
    marker.setPosition(position);
    
    // æ¸çç¸å³çè½¨è¿¹å®ä¾åç¼å­
    let tempMarker = tempUavMarkers.value.get(item.id);
    if (tempMarker) {
      tempMarker.setMap(null);
      pathOverlay &amp;&amp; pathOverlay.removeOverlay(tempMarker);
      tempUavMarkers.value.delete(item.id);
    }
    
    let polyline = uavPaths.value.get(item.id);
    if (polyline) {
      polyline.setMap(null);
      pathOverlay &amp;&amp; pathOverlay.removeOverlay(polyline);
      uavPaths.value.delete(item.id);
    }
  }
};
</code></pre>
<p>}<br>
};</p>
<pre><code class="language-javascript">
// æ äººæºåæç¯è½¨è¿¹ææ¶
const refreshAirMap = async (type, data) =&gt; {
  const res = await getUavElement();
  // console.log("æ äººæºæ°æ®", res.result);
  res.result.map(async (item) =&gt; {
    // data.map(async (item) =&gt; {
    if (item.type == "1") {
      let position = JSON.parse(item.coordinates);
      // è·åæåå»ºæ äººæºæ è®°
      let marker = uavMarkers.value.get(item.id);
      if (!marker) {
        // åå»ºæ äººæºãæç¯ç¹ä½ã
        marker = renderPoint(position, item, "", overlayGroups.value);
        uavMarkers.value.set(item.id, marker);
      }else{
        
        if (item.elementType == "2") {
          // å·²æç¹ä½ä¸æ¯æç¯ç¹ä½å°±æ´æ°çµé
          marker.setLabel({
            content: `&lt;div class="marker-label-container"&gt;
              &lt;div class="info-name"&gt;${item.name}&lt;/div&gt;
              &lt;div class="icon-placeholder"&gt;&lt;/div&gt;
              ${batteryHtml(item)}
            &lt;/div&gt;`,
            offset: new AMaps.value.Pixel(0, 0),
            direction: "center",
          });
        }
      }

      if (item.elementType == "1") {
        // æ äººæºè½¨è¿¹
        refreshTempPoint(
          item,
          position,
          type,
          marker,
          pathOverlayGroups.value,
          pathsStartPointOverlayGroups.value
        );
      } else if (item.elementType == "2") {
        // æç¯è½¨è¿¹
        refreshTempPoint(
          item,
          position,
          type,
          marker,
          rescuePathsOverlayGroups.value,
          rescueOverlayGroups.value
        );
      }
      // è½¨è¿¹é¨åï¼å¤æ­æ¯å¦æè½¨è¿¹
    }
  });
  // });
};
</code></pre>
<p>è¯´æä¸ä¸å¦ï¼æçé¡¹ç®ä¸­è¿éè¦å®ç°å¶ä»åè½åæ¯æç¯çµéå±ç¤ºï¼ç¹å»æé®å¯éèæ äººæºè½¨è¿¹ï¼ç¹å»æé®å¯éèæç¯è½¨è¿¹ï¼æ äººæºåæç¯è½¨è¿¹èµ·å§ç¹ä¹éè¦å±ç¤ºä¸ä¸ªç¹ä½å¾æ ï¼è½¨è¿¹çº¿ä¸æ¾ç¤ºè·ç¦»ï¼è¿èèäºç¬¬ä¸æ¬¡è¿å¥é¡¹ç®ï¼å¦æ è½¨è¿¹å°±åªæ´æ°ç¹ä½åæ ç­ç­è¿äºï¼æ å³çè½¨è¿¹å±ç¤ºé»è¾çåä½è§ä¼èç·ç¥è¿å°±å¥½ï¼è¿ç¯æç« ä¸»è¦æ¯åäº«ä¸ä¸å®æ¶è½¨è¿¹å®ç°çé»è¾ï¼æè½¨è¿¹ç¸å³é»è¾æ½åºæ¥éæ°åä¸ä»½ä»£ç ï¼æå«éº»ç¦å»å»ã</p>
<h2 id="æ»ç»">æ»ç»</h2>
<p>éè¿ç»å å¢éè·¯å¾è®¡ç®<code>moveAlong</code> è½¨è¿¹åæ¾ ä»¥å <code>moving</code> äºä»¶çå¬ï¼æä»¬å®ç°äºä¸ä¸ªé«æ§è½ä¸è§è§æµççå®æ¶è½¨è¿¹è¿½è¸ªåè½ãè¿ç§æ¹æ¡ç¹å«éåæ äººæºå·¡èªãè½¦è¾å®æ¶å®ä½ç­éè¦é«é¢æ´æ°ä½ç½®çåºæ¯ã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.003472222222222222" data-date-updated="2026-01-14 14:40">2026-01-14 14:35</span>&nbsp;
<a href="https://www.cnblogs.com/lijinhuaboke">æ­¤é¢å·®ç£ã</a>&nbsp;
éè¯»(<span id="post_view_count">325</span>)&nbsp;
è¯è®º(<span id="post_comment_count">3</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19457121);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19457121', targetLink: 'https://www.cnblogs.com/lijinhuaboke/p/19457121', title: 'é«å¾·å°å¾å®ç°å®æ¶è½¨è¿¹å±ç¤º' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ `i` å `e` ååå¼åçè¡æ¡ï¼å½ AI çâçº éçâéä¸ NexusContract çâç§å¦éâ ]]></title>
    <link>https://www.cnblogs.com/jieky/p/19481961</link>
    <guid>bf5ee1a0d5dcb0f2779bc7907a128f9b</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/jieky/p/19481961" title="åå¸äº 2026-01-14 14:19">
    <span role="heading" aria-level="2">`i` å `e` ååå¼åçè¡æ¡ï¼å½ AI çâçº éçâéä¸ NexusContract çâç§å¦éâ</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        å¨å¯¹æ¥æå¤´é¨æ¯ä»ç½å³æ¶ï¼æé­éäºä¸æ¬¡å®ç¾çâéç»´æå»âãå®æ¹ææ¡£éä¸ä¸ªæ `ei` åæ `ie` çè±è¯­è¯­æ³éè¯¯ï¼éªè¿äº AI çè¯­æ³æ£æ¥ï¼ä¹éªè¿äºæçèç¼ Reviewãæ¬æå°æ¢è®¨ NexusContract å¦ä½éè¿**åæ°æ®éç¦»**æºå¶ï¼å¨æ··ä¹±çéçæ¥å£ä¸ç°ä»£åçæ´æ´ä»£ç ä¹é´å»ºç«ä¸éé²çº¿ã
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="i-å-e-ååå¼åçè¡æ¡å½-ai-ççº éçéä¸-nexuscontract-çç§å¦é"><code>i</code> å <code>e</code> ååå¼åçè¡æ¡ï¼å½ AI çâçº éçâéä¸ NexusContract çâç§å¦éâ</h1>
<blockquote>
<p><strong>æè¦</strong>ï¼å¨å¯¹æ¥æå¤´é¨æ¯ä»ç½å³æ¶ï¼æé­éäºä¸æ¬¡å®ç¾çâéç»´æå»âãå®æ¹ææ¡£éä¸ä¸ªæ <code>ei</code> åæ <code>ie</code> çè±è¯­è¯­æ³éè¯¯ï¼éªè¿äº AI çè¯­æ³æ£æ¥ï¼ä¹éªè¿äºæçèç¼ Reviewãæ¬æå°æ¢è®¨ NexusContract å¦ä½éè¿<strong>åæ°æ®éç¦»</strong>æºå¶ï¼å¨æ··ä¹±çéçæ¥å£ä¸ç°ä»£åçæ´æ´ä»£ç ä¹é´å»ºç«ä¸éé²çº¿ã</p>
</blockquote>
<h2 id="1-è¯¡å¼ç-parameter_missing">1. è¯¡å¼ç <code>PARAMETER_MISSING</code></h2>
<p>æäºåçå¨ä¸ä¹åï¼æä»¬æ­£å¨éæåé¨çä¸ä¸ªè¿è¡äºå å¹´çèæ§æ¯ä»ç½å³ã</p>
<p>ä¸ºäºæé«éææçï¼æææ§çææ¡£æªå¾åç»äº AIï¼æç¥åå¤§æ¨¡åï¼ï¼è®©å®å¸®æçæç¬¦å NexusContract è§èç C# DTOï¼æ°æ®ä¼ è¾å¯¹è±¡ï¼ãAI çè¡¨ç°å ªç§°å®ç¾ï¼ç¬é´ååºäºç»ææ¸æ°çä»£ç ï¼</p>
<pre><code class="language-csharp">public string ReceiverId { get; set; } // æ¶æ¬¾æ¹ID

</code></pre>
<p>ä»£ç ççæ²¡æ¯çï¼å½åä¹è§èãææ»¡æä¿¡å¿å°å¯å¨æå¡ï¼å¼å§<strong>æ¬å°èè°</strong>ã</p>
<p><strong>ç»æï¼æ¥å£æ­»æ´»ä¸éã</strong></p>
<p>ä¸æ¸¸ç½å³ä¸ç´è¿åå·å°å°çéè¯¯ï¼<code>PARAMETER_MISSING</code>ã</p>
<p>è¿å°±å¾éªé¨äºã<br>
ææäºæ­ç¹ï¼æ°æ®å¨ï¼<br>
æäºåï¼JSON å­æ®µä¹æï¼<br>
æèç¼æ£æ¥äºä¸éï¼<code>ReceiverId</code> æ¼åç»å¯¹æ²¡é®é¢ï¼<br>
æåè®© AI æ£æ¥äºä¸éä»£ç ï¼å®ä¹ä¿¡èªæ¦æ¦å°è¯´æ²¡æè¯­æ³éè¯¯ã</p>
<p><strong>æ´æ´ä¸¤ä¸ªå°æ¶ï¼æå°±å¡å¨è¿ä¸ªè«åå¶å¦çéè¯¯ä¸ï¼çè³å¼å§æçæ¯ä¸æ¯ HTTP åè®®å¤´çé®é¢ï¼æèæ¯ JSON åºåååºç Bugã</strong></p>
<p>ç´å°æå®å¨æ²¡æäºï¼åæ¬¡æå¼é£ä»½ææ¡£ï¼å¼ºè¿«èªå·±ä¸ä¸ªå­æ¯ä¸ä¸ªå­æ¯å°è·æçä»£ç æ¯å¯¹æ¶ï¼ææåç°äºä¸ä¸ªä»¤äººçªæ¯çç»èï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/45234/202601/45234-20260114141433336-590884100.png" alt="image" loading="lazy"></p>
<p><strong>ææ¡£éåçå­æ®µåï¼æ¯ <code>recieverId</code>ã</strong></p>
<p>æ³¨æå°äºåï¼<strong><code>i</code> å <code>e</code> ååäºï¼</strong></p>
<p>æ­£ç¡®çè±è¯­åè¯æ¯ <code>Receiver</code>ï¼c åé¢æ¥ eiï¼ï¼ä½ææ¡£éåæäº <code>Reciever</code>ï¼ieï¼ãè¿ç§âé¿å¾æåâçéè¯¯ï¼æå¶å®¹æåçè§éè§ã</p>
<p>é£ä¸å»æç®ç´æ³æé®çï¼<strong>AI å¤ªâèªæâäºã</strong> å®è¯å«åºè¿æ¯âæ¶æ¬¾æ¹âçææï¼åç°äºè¿ä¸ªè¯­æ³éè¯¯ï¼äºæ¯<strong>å¥½å¿å°å¨çæä»£ç æ¶å¸®ææå®âæ¹å¯¹âäº</strong>ãèæï¼ä½ä¸ºä¸ä¸ªæ­£å¸¸çäººç±»ç¨åºåï¼å¤§èä¹èªå¨è¿æ»¤äºè¿ä¸ªæ¼åéè¯¯ã</p>
<p>å¨éçç³»ç»çéæä¸­ï¼<strong>âåå²çéè¯¯âå¾å¾æ¯âæ­£ç¡®çè¯­æ³âæ´éè¦</strong>ã</p>
<h2 id="2-æ¶æçåå»ä»£ç æ´çä¸è®èç°å®">2. æ¶æçåå»ï¼ä»£ç æ´çä¸è®èç°å®</h2>
<p>é¢å¯¹è¿ç§åºæ¯ï¼ä¼ ç»åæ³éå¸¸æä¸¤ç§ï¼</p>
<ol>
<li><strong>åæµåæ±¡æ´¾ï¼</strong> ç´æ¥æ C# å±æ§åä¹åéã</li>
</ol>
<pre><code class="language-csharp">public string RecieverId { get; set; } // ççå°±é¾åï¼é¼æ­»å¼ºè¿«ç

</code></pre>
<p>è¿æä¸ªå·¨å¤§çéæ£ï¼æ°æ¥çåäºæèåæ¥ç»´æ¤ç AIï¼çå°è¿ä¸ªâéè¯¯æ¼åâï¼å¾æå¯è½ä¼é¡ºææå®âä¿®å¤âææ­£ç¡®ç <code>ReceiverId</code>ï¼ç¶å<strong>ç °ï¼ç³»ç»åæäºã</strong><br>
2. <strong>æå¨æ å°æ´¾ï¼</strong> å¨ä¸å¡ä»£ç éæå¨å <code>json["recieverId"] = request.ReceiverId</code>ã<br>
è¿ä¼å¯¼è´ä¸å¡é»è¾éåæ¥çå¤§éçå­ç¬¦ä¸²ç¡¬ç¼ç ï¼ç»´æ¤ææ¬æé«ã</p>
<p><strong>NexusContract çå²å­¦æ¯ï¼</strong> æä»¬æ¹åä¸äºå¤é¨ä¸ççâæç²âæ¼åï¼ä½æä»¬å¯ä»¥éè¿æ¶æææ®µï¼ä¸è®©è¿äºâèä¸è¥¿âæ±¡ææä»¬çæ ¸å¿ä»£ç ã</p>
<p>æä»¬éç¨äº <strong>[ApiField]</strong> ç¹æ§æ¥å®ç° <strong>ç©çéç¦»</strong>ï¼</p>
<pre><code class="language-csharp">[ApiOperation("payment.gateway.pay", HttpVerb.POST)]
public class PaymentRequest : IApiRequest
{
    // ç»å¯¹æ¹ççï¼å¿é¡»éï¼ï¼æ å°å°é£ä¸ªæ ie ååçèå­æ®µ
    [ApiField("recieverId", IsRequired = true)]
    
    // ç»èªå·±ççï¼å¿é¡»å¯¹ï¼ï¼ä¿æåé¨é¢åè¯­è¨ççº¯æ´æ§
    public string ReceiverId { get; set; }
}

</code></pre>
<p>è¿ä¸ä»æ¯ç®åçéå½åï¼è¿æ¯ <strong>è¯­ä¹è§£è¦ (Semantic Decoupling)</strong>ã</p>
<ul>
<li><strong>å±æ§å (Property):</strong> æå¡äºåé¨é»è¾ï¼ä½¿ç¨ <strong>Ubiquitous Language (éç¨è¯­è¨)</strong>ï¼å¿é¡»æ­£ç¡®ãå¯è¯»ã</li>
<li><strong>ç¹æ§å (Attribute):</strong> æå¡äºå¤é¨å¥çº¦ï¼æ¯å¯¹åå²äºå®ç <strong>å¿«ç§</strong>ï¼å¿é¡»çå®ãåªææ¯éçã</li>
</ul>
<h2 id="3-æ·±åº¦è§£å¯nexuscontractcore-çé»ç">3. æ·±åº¦è§£å¯ï¼NexusContract.Core çé»ç</h2>
<p>è¿æ¶ä½ å¯è½ä¼é®ï¼<em>âå¸é¢ä¸å¾å¤ JSON åºé½æ <code>JsonProperty</code>ï¼è¿æä»ä¹ç¨å¥çï¼â</em></p>
<p>åºå«å¨äº <strong>å¤çæ¶æº</strong> å <strong>ç¡®å®æ§</strong>ã</p>
<p>NexusContract å¨ <strong>ç³»ç»å¯å¨ (Startup)</strong> æ¶ï¼ä¼æ§è¡ä¸ä¸ª <strong>[å³ç­ A-301] åæ°æ®å·å» (Metadata Freezing)</strong> æµç¨ã</p>
<p>è½ç¶æ¡æ¶å¨å¯å¨æ¶æ æ³ç¥éå¤é¨æ¥å£å°åºå« <code>recieverId</code> è¿æ¯ <code>receiverId</code>ï¼é¤éæä»¬æ Schema æä»¶ï¼ï¼ä½å®åäºä¸ä»¶æ´éè¦çäºï¼<strong>ç¡®ç«å¥çº¦çç»å¯¹æå¨</strong>ã</p>
<h3 id="æ ¸å¿ä»£ç å±ç¤º">æ ¸å¿ä»£ç å±ç¤º</h3>
<pre><code class="language-csharp">// Copyright (c) 2026 NexusContract. All rights reserved.

using System.Collections.Concurrent;
using System.Reflection;
using NexusContract.Abstractions.Exceptions;

namespace NexusContract.Core.Reflection
{
    /// &lt;summary&gt;
    /// ãå³ç­ A-301ãNexusContractMetadataRegistryï¼å¥çº¦åæ°æ®æ³¨åè¡¨ï¼
    /// 
    /// æ ¸å¿èè½ï¼
    /// 1. åç°ï¼Discoveryï¼ï¼å¯å¨æ¶æ«æææå¥çº¦ç±»ç Attribute ç»æ
    /// 2. éªè¯ï¼Validationï¼ï¼æ§è¡ ContractValidator ç¡®ä¿åé¨çº¦æï¼å¦ Getter/Setter å®æ´æ§ï¼
    /// 3. å»ç»ï¼Freezingï¼ï¼å°åå°ç»æè½¬ä¸ºä¸å¯åå¯¹è±¡ï¼è¿è¡æé¶åå°æè
    /// &lt;/summary&gt;
    public sealed class NexusContractMetadataRegistry
    {
        // åä¾æ¨¡å¼ï¼ç¡®ä¿å¨å±å¯ä¸æ³¨åè¡¨
        private static readonly Lazy&lt;NexusContractMetadataRegistry&gt; _instance = new(() =&gt; new NexusContractMetadataRegistry());
        public static NexusContractMetadataRegistry Instance =&gt; _instance.Value;

        // ãå³ç­ A-302ãæ ¸å¿å·å»åº
        // Key: å¥çº¦ç±»å, Value: é¢ç¼è¯å¥½çåæ°æ®ï¼åå« Expression Tree å§æï¼
        private readonly ConcurrentDictionary&lt;Type, ContractMetadata&gt; _cache = new();

        private NexusContractMetadataRegistry() { }

        /// &lt;summary&gt;
        /// ãå³ç­ A-308ãå¯å¨æä½æ£ï¼Startup Health Checkï¼
        /// è¿ä¸æ¯ç®åçå è½½ï¼èæ¯ä¸æ¬¡å¨éçâCTæ«æâã
        /// ç¡®ä¿ææå¥çº¦å¨ç©çä¸æ¯åæ³çï¼ä¾å¦é²æ­¢ Attribute éå¤å®ä¹ï¼ã
        /// &lt;/summary&gt;
        public DiagnosticReport Preload(IEnumerable&lt;Type&gt; types)
        {
            var globalReport = new DiagnosticReport();

            foreach (var type in types)
            {
                // 1. éæéªè¯ï¼å­æ®µæ¼åãAttribute å²çªç­ï¼
                var perTypeReport = new DiagnosticReport();
                ContractValidator.Validate(type, perTypeReport);

                // 2. å¦æéªè¯éè¿ï¼æå»ºä¸å¯ååæ°æ®
                if (!perTypeReport.HasErrors)
                {
                    try 
                    {
                        var metadata = BuildMetadata(type, perTypeReport);
                        _cache.TryAdd(type, metadata); // å»ç»å¥åº
                    }
                    catch (Exception ex)
                    {
                        perTypeReport.AddCritical(type.Name, $"Metadata freeze failed: {ex.Message}");
                    }
                }
                globalReport.Merge(perTypeReport);
            }
            return globalReport; // è¿åä½æ£æ¥å
        }

        /// &lt;summary&gt;
        /// æå»ºåæ°æ®æ ¸å¿æµï¼å®¡è®¡ -&gt; ç¼è¯ -&gt; å°è£
        /// &lt;/summary&gt;
        private ContractMetadata BuildMetadata(Type type, DiagnosticReport report)
        {
            // ... (çç¥é¨åä»£ç ) ...

            // ãå³ç­ A-309ãå¯ç¨ Expression Tree é¢ç¼è¯ï¼çæ­£é¶åå°ï¼
            // å°åå°è¯»åè½¬æ¢ä¸ºå¼ºç±»åå§æï¼æ§è½æå 10 å
            var projector = ContractMetadataCompiler.CompileProjector(type, propertyMetadatas);
            var hydrator = ContractMetadataCompiler.CompileHydrator(type, propertyMetadatas);

            return new ContractMetadata(type, opAttr, propertyMetadatas.AsReadOnly(), projector, hydrator);
        }
    }
}

</code></pre>
<h3 id="ææ¯åçè§£è¯»">ææ¯åçè§£è¯»</h3>
<p><strong>ä¸ºä»ä¹è¿å¯¹ææ¥ Bug å¾æç¨ï¼</strong></p>
<p>è½ç¶ <code>PARAMETER_MISSING</code> æ¯å¨è¿è¡æ¶æ¥åºæ¥çï¼ä½ NexusContract çæºå¶ä¿è¯äº<strong>ä¿®å¤çå»ä»·æ§ä¸ç¡®å®æ§</strong>ã</p>
<ol>
<li><strong>Expression Tree é¢ç¼è¯ï¼</strong><br>
ä¸æ¦æä»¬å¨ Attribute éæåå­ä¿®æ­£ä¸º <code>[ApiField("recieverId")]</code>ï¼æ¡æ¶å¨ä¸æ¬¡å¯å¨æ¶ï¼ä¼éè¿ <strong>Expression Tree</strong> æè¿ä¸ªæ å°å³ç³»ç¼è¯æé«æç Delegateã<br>
è¿æå³çï¼å³ä½¿ä¸ºäºå¼å®¹èæ¥å£èå äº Attributeï¼<strong>è¿è¡æ¶æ§è½ä¾ç¶ç­åäºæåä»£ç </strong>ï¼å®å¨æ²¡æåå°çé¢å¤å¼éã</li>
<li><strong>å¥çº¦çæ¾å¼åï¼</strong><br>
è¿ç§åæ³å¼ºè¿«å¼åèå»ç¡®è®¤æ¯ä¸ä¸ªå­æ®µçæ å°å³ç³»ãä»£ç éç <code>[ApiField]</code> å°±åä¸ä¸ªä¸ªè­¦ç¤ºçï¼æ¶å»æéçåæ¥èï¼<strong>âæ³¨æï¼è¿éæä¸ªåï¼å«å¨ï¼â</strong></li>
</ol>
<h2 id="4-ç»è¯­">4. ç»è¯­</h2>
<p>ä»¥åæä»¬æ AI çç¼ä»£ç ï¼å¹»è§ï¼ï¼ç°å¨æä»¬æ AI <strong>ä»£ç åå¾å¤ªå¯¹</strong>ã</p>
<p>é¢å¯¹æèãæé¶è¡ãææ¯ä»é£äºåå å¹´åçâèå¤çº§âæ¥å£ï¼AI è¿ç§æ¿çæ´¥è¯å¸å½æ åçâé«æçâæ ¹æ¬æ°´åä¸æãå®ä¸ç¥é <code>recieverId</code> å¨è¿éä¸æ¯æ¼åéè¯¯ï¼å®æ¯<strong>æ³å¾</strong>ï¼æ¯<strong>ä¸å¯å¨æçå¥çº¦</strong>ã</p>
<p>è¿å°±æ¯ä¸ºä»ä¹æä»¬éè¦ NexusContract ââ <strong>å®åè®¸æä»¬å¨ä»£ç éä¼éå°âæé¹¿ä¸ºé©¬âï¼å¹¶ç¨æåºå±çææ¯ææ®µï¼åæ°æ®å·å»ï¼ï¼å°è¿ä»½âè®èçç°å®âé«æ§è½å°å°è£èµ·æ¥ã</strong></p>
<hr>

</div>
<div id="MySignature" role="contentinfo">
    <p>______________________________________<br>çæ´»ï¼è¦ç¨å£äººçè¸æé¢å¯¹ï¼ç¨ç§å­¦çæ¹æ³æ¯éï¼ <br>&nbsp; &nbsp; &nbsp; &nbsp; ç¨çå¸çå¾¡è³å»èï¼ç¨æ¸æ´çç©ºæ°æ´èºï¼ <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ç¨å°çªçæè§å»ç¡ï¼ç¨å¤ªé³çç­æçæ°´ã<br>______________________________________</p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-14 14:20">2026-01-14 14:19</span>&nbsp;
<a href="https://www.cnblogs.com/jieky">æ¶å¤±è</a>&nbsp;
éè¯»(<span id="post_view_count">199</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19481961);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19481961', targetLink: 'https://www.cnblogs.com/jieky/p/19481961', title: '`i` å `e` ååå¼åçè¡æ¡ï¼å½ AI çâçº éçâéä¸ NexusContract çâç§å¦éâ' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ FastAPIæ°æ®åºå®æï¼ä»SQLAlchemyåçå°é«æè¿æ¥ç®¡çï¼åå«æ§è½ç¶é¢ ]]></title>
    <link>https://www.cnblogs.com/ymtianyu/p/19480142</link>
    <guid>892bf7ce5a51f210f2ad0f395f81101e</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/ymtianyu/p/19480142" title="åå¸äº 2026-01-14 11:13">
    <span role="heading" aria-level="2">FastAPIæ°æ®åºå®æï¼ä»SQLAlchemyåçå°é«æè¿æ¥ç®¡çï¼åå«æ§è½ç¶é¢</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        æ¬æä»FastAPIå¼åä¸­æ°æ®åºæä½çå¸¸è§çç¹åå¥ï¼æ·±å¥æµåºå°è§£æäºSQLAlchemyçæ ¸å¿åçï¼å¹¶éè¿ä¸ä¸ªå®æ´çSQLiteæä½å®ä¾ï¼æ¼ç¤ºäºå¦ä½æå»ºé«æãå¥å£®çæ°æ®åºè¿æ¥ä¸å­åæ¹æ¡ãéç¹åæäºè¿æ¥æ± æºå¶ä¸ä¾èµæ³¨å¥çæä½³å®è·µï¼æ¨å¨å¸®å©å¼åèååºæ§è½æ´ä¼ãæ´æç»´æ¤çWeb APIã
    </div>
<div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p>ä½ æ¯å¦ä¹æ¾è¢«Web APIä¸­æä¹±æ ç« çæ°æ®åºè¿æ¥ä»£ç æå¾ç¦å¤´çé¢ï¼æ§è½ä¸ä¸å»ï¼Bugå´ä¸å°ã</p>
<p>è¯æ³å¨ä¸ä¸ªä¸­åé¡¹ç®ä¸­ï¼åæä¸ºäºå¾å¿«ï¼æ¯ä¸ªè¯·æ±é½æ°å»ºæ°æ®åºè¿æ¥ï¼ç»æå¨å¹¶åæµè¯æ¶ï¼APIååºæ¶é´ä»50msé£åå°2ç§ä»¥ä¸ï¼æ°æ®åºè¿æ¥æ°ç¬é´ææ»¡ï¼æå¡ç´æ¥éªå´©ãè¿ç»ä¸æ¯ä¸ªä¾ï¼<strong style="color: rgba(186, 55, 42, 1)">ä½æçæ°æ®åºè¿æ¥ç®¡çï¼æ¯Webåºç¨ä¸­æå¸¸è§å´ä¹æå®¹æè¢«å¿½è§çæ§è½ææä¹ä¸ã</strong></p>
<p>ä»å¤©ï¼æä»¬å°±ä»¥FastAPI + SQLite + SQLAlchemyè¿å¥è½»éä¸å¼ºå¤§çç»åä¸ºä¾ï¼å½»åºè®²æ¸æ¥å¦ä½é«æãä¼éå°æä½æ°æ®åºã</p>
<h2>ð¯ ä¸ãæ ¸å¿å°å¢ï¼æä»¬å°åºå¨è§£å³ä»ä¹é®é¢ï¼</h2>
<p>å¨Webå¼åä¸­ï¼æ°æ®åºæä½çä¼¼ç®åï¼æ éâè¿æ¥ãæ§è¡ãå³é­âãä½ä¸æ¦æ¾å°é«å¹¶åãé¿çå½å¨æçWebæå¡å¨ç¯å¢ä¸­ï¼é®é¢å°±å¤æäºï¼</p>
<div>
<p>- ð¢ <strong>æ§è½ç¶é¢</strong>ï¼é¢ç¹åå»ºåéæ¯æ°æ®åºè¿æ¥å¼éå·¨å¤§ã</p>
<p>- ð¥ <strong>èµæºèå°½</strong>ï¼è¿æ¥ä¸åæ¶éæ¾ï¼å¯¼è´è¿æ¥æ± èå°½ï¼æå¡ä¸å¯ç¨ã</p>
<p>- ð¤¯ <strong>ä»£ç æ··ä¹±</strong>ï¼ä¸å¡é»è¾åæ°æ®åºè¿æ¥ä»£ç çº ç¼ ä¸æ¸ï¼é¾ä»¥ç»´æ¤åæµè¯ã</p>
<p>- ð <strong>å¹¶åéæ£</strong>ï¼å¨å¤çº¿ç¨/å¼æ­¥ç¯å¢ä¸ï¼è¿æ¥å±äº«å¯è½å¼åæ°æ®éä¹±ã</p>
</div>
<p>FastAPIçå¼æ­¥ç¹æ§è®©äºæåå¾æ´âå¾®å¦âãç´æ¥ç¨ä¼ ç»çåæ­¥æ°æ®åºé©±å¨ï¼å¦<code style="color: rgba(186, 55, 42, 1)">sqlite3</code>æ¨¡åï¼ä¼é»å¡æ´ä¸ªäºä»¶å¾ªç¯ï¼<strong style="color: rgba(186, 55, 42, 1)">å¼æ­¥ä¼å¿è¡ç¶æ å­</strong>ãå æ­¤ï¼æä»¬éè¦ä¸ä¸ªæ¢è½ç®¡çè¿æ¥çå½å¨æï¼åè½ä¸å¼æ­¥æ¡æ¶åå¥½åä½çè§£å³æ¹æ¡ã</p>
<h2>ð§  äºãåçéè§ï¼SQLAlchemyï¼ä¸åªæ¯ORM</h2>
<p>å¾å¤äººæSQLAlchemyç­åäºä¸æ¬¾ORMï¼å¯¹è±¡å³ç³»æ å°ï¼å·¥å·ãè¿æ²¡éï¼ä½å®çæ ¸å¿ä»·å¼è¿ä¸æ­¢äºæ­¤ãä½ å¯ä»¥æå®çè§£ä¸ºä¸ä¸ª<strong style="color: rgba(186, 55, 42, 1)">å¼ºå¤§çâæ°æ®åºè¿æ¥ä¸æ¥è¯¢æå»ºå·¥åâ</strong>ã</p>
<p>æ³è±¡ä¸ä¸é¤åçåå¨ï¼</p>
<div>
<p>- ð ï¸ <strong>å¼æï¼Engineï¼</strong>ï¼é¤åçâä¸­å¤®å¨æ¿âãå®æ¯æ°æ®åºè¿æ¥çå·¥ååè¿æ¥æ± çææèãä½ éç½®å¥½ä¸æ¬¡ï¼æ°æ®åºå°åãè¿æ¥åæ°ãæ± å¤§å°ï¼ï¼æ´ä¸ªåºç¨é½ä»è¿éâåç¨âè¿æ¥ãå®æ¯å¨å±çãééçº§çã</p>
<p>- ð§¾ <strong>ä¼è¯ï¼Sessionï¼</strong>ï¼å¨å¸æä¸­çâè®¢åç¯®âãä¸ä¸ªSessionä»£è¡¨ä¸ä¸ªç¬ç«çæ°æ®åºæä½âå·¥ä½ååâãå®ä»Engineè·åä¸ä¸ªç©çè¿æ¥ï¼ç®¡çä¸ç³»åç¸å³çå¢å æ¹æ¥ï¼å¹¶å¨å®æåâå½è¿âè¿æ¥ãå®æ¯å±é¨çãè½»éçº§çï¼<strong style="color: rgba(186, 55, 42, 1)">å¹¶ä¸ç»å¯¹ä¸åºè¯¥è·¨è¯·æ±å±äº«</strong>ã</p>
<p>- ð <strong>ORMï¼Declarative Baseï¼</strong>ï¼æ ååçâèè°±âãå®å®ä¹äºæ°æ®æ¨¡åï¼è¡¨ç»æï¼åä¸å¡å¯¹è±¡ï¼Pythonç±»ï¼çæ å°å³ç³»ï¼è®©ä½ è½ç¨é¢åå¯¹è±¡çæ¹å¼æä½æ°æ®åºã</p>
</div>
<p><strong style="color: rgba(186, 55, 42, 1)">å³é®ç»è®ºï¼é«æ§è½å­åçæ ¸å¿ï¼å¨äºæ­£ç¡®ç®¡çEngineåSessionççå½å¨æã</strong> Engineéå¸¸åºç¨å¯å¨æ¶åå»ºï¼å³é­æ¶éæ¯ãèSessionå¿é¡»<strong style="color: rgba(186, 55, 42, 1)">âå³ç¨å³åï¼ç¨å®å³å³â</strong>ï¼ä¸æ¯ä¸ªè¯·æ±ç¬ç«ã</p>
<h2>âï¸ ä¸ãå®ææ¼ç»ï¼ä¸æ­¥æå»ºé«ææ°æ®å±</h2>
<p>çè®ºè¯´åå¤ï¼ä¸å¦ä»£ç æ¥å¾å®å¨ãä¸é¢æä»¬ä¸æ­¥æ­¥æ­å»ºä¸ä¸ªå¯ç¨çæ¡æ¶ã</p>
<h3>ç¬¬ä¸æ­¥ï¼åå»ºæ ¸å¿å¼æä¸æ¨¡å</h3>
<p>æä»¬ååå»ºæ°æ®åºè¿æ¥çæ ¸å¿ï¼Engineï¼åæ°æ®æ¨¡åçåºç±»ã</p>
<pre class="highlighter-hljs" style="background-color: rgba(246, 248, 250, 1); padding: 15px; border-radius: 5px; overflow-x: auto"><code># database.py
from sqlalchemy import create_engine
from sqlalchemy.ext.declarative import declarative_base
from sqlalchemy.orm import sessionmaker
import os

# å®ä¹æ°æ®åºæä»¶è·¯å¾
SQLALCHEMY_DATABASE_URL = f"sqlite:///./test.db"

# åå»ºå¼æ (æ ¸å¿)
# `connect_args={"check_same_thread": False}` å¯¹äºSQLiteå¤çº¿ç¨æ¯å¿é¡»ç
# `echo=True` å¼åæ¶å¼å¯ï¼å¯ä»¥æ¥ççæçSQLï¼çäº§ç¯å¢è¯·å³é­
# `pool_pre_ping=True` è¿æ¥æ± ååºè¿æ¥åè¿è¡å¥åº·æ£æ¥ï¼é¿åä½¿ç¨å¤±æè¿æ¥
engine = create_engine(
    SQLALCHEMY_DATABASE_URL,
    connect_args={"check_same_thread": False},
    echo=False, # çäº§ç¯å¢è®¾ä¸ºFalse
    pool_pre_ping=True,
    pool_size=5, # è¿æ¥æ± å¤§å°
    max_overflow=10 # åè®¸è¶åºpool_sizeçä¸´æ¶è¿æ¥æ°
)

# åå»ºä¼è¯å·¥åï¼ç»å®å°å¼æ
# `autocommit=False, autoflush=False` æ¯æ¨èè®¾ç½®ï¼ä¾¿äºäºå¡æ§å¶
SessionLocal = sessionmaker(autocommit=False, autoflush=False, bind=engine)

# å£°ææ§åºç±»ï¼æææ¨¡åç±»é½å°ç»§æ¿èªæ­¤
Base = declarative_base()</code></pre>
<h3>ç¬¬äºæ­¥ï¼å®ä¹æ°æ®æ¨¡åä¸ä¾èµæ³¨å¥</h3>
<p>æ¥çï¼æä»¬å®ä¹ä¸ä¸ªç¨æ·æ¨¡åï¼å¹¶åå»ºä¸ä¸ªè·åæ°æ®åºä¼è¯çFastAPIä¾èµé¡¹ãè¿æ¯å®ç°â<span style="color: rgba(186, 55, 42, 1)">è¯·æ±çº§å«Session</span>âçå³é®ï¼</p>
<pre class="highlighter-hljs" style="background-color: rgba(246, 248, 250, 1); padding: 15px; border-radius: 5px; overflow-x: auto"><code># models.py
from sqlalchemy import Column, Integer, String
from database import Base

class User(Base):
    __tablename__ = "users"
    id = Column(Integer, primary_key=True, index=True)
    username = Column(String, unique=True, index=True, nullable=False)
    email = Column(String, unique=True, index=True)

# åå»ºè¡¨ï¼éå¸¸å¨åºç¨å¯å¨æ¶è°ç¨ä¸æ¬¡ï¼
# Base.metadata.create_all(bind=engine)

# dependencies.py
from database import SessionLocal
from fastapi import Depends
from typing import Generator

def get_db() -&gt; Generator:
    """
    æ°æ®åºä¼è¯ä¾èµé¡¹ã
    æ¯ä¸ªè¯·æ±è·åä¸ä¸ªç¬ç«Sessionï¼è¯·æ±ç»æåç¡®ä¿å³é­ã
    """
    db = SessionLocal()
    try:
        yield db # å°dbæ³¨å¥å°è·¯ç±å½æ°ä¸­
    finally:
        db.close() # æ è®ºè¯·æ±æåä¸å¦ï¼æç»é½ä¼å³é­ä¼è¯</code></pre>
<h3>ç¬¬ä¸æ­¥ï¼å¨è·¯ç±ä¸­å®ç°CRUD</h3>
<p>ç°å¨ï¼æä»¬å¯ä»¥å¨APIè·¯ç±ä¸­æå¿«å°ä½¿ç¨æ°æ®åºäºãæ³¨æç<code style="color: rgba(186, 55, 42, 1)">db: Session = Depends(get_db)</code>è¿è¡é­æ³ã</p>
<pre class="highlighter-hljs" style="background-color: rgba(246, 248, 250, 1); padding: 15px; border-radius: 5px; overflow-x: auto"><code># main.py
from fastapi import FastAPI, Depends, HTTPException
from sqlalchemy.orm import Session
from pydantic import BaseModel
from typing import List
from models import User
from dependencies import get_db

app = FastAPI()

# Pydanticæ¨¡åï¼ç¨äºè¯·æ±/ååºéªè¯
class UserCreate(BaseModel):
    username: str
    email: str

class UserResponse(BaseModel):
    id: int
    username: str
    email: str

    class Config:
        orm_mode = True # åè®¸ä»ORMå¯¹è±¡è½¬æ¢

@app.post("/users/", response_model=UserResponse)
def create_user(user: UserCreate, db: Session = Depends(get_db)):
    # æ£æ¥ç¨æ·åæ¯å¦å·²å­å¨
    db_user = db.query(User).filter(User.username == user.username).first()
    if db_user:
        raise HTTPException(status_code=400, detail="Username already registered")
    # åå»ºORMå¯¹è±¡
    db_user = User(username=user.username, email=user.email)
    # æ·»å å°ä¼è¯
    db.add(db_user)
    # æäº¤äºå¡
    db.commit()
    # å·æ°ï¼ä½¿å¯¹è±¡è·å¾æ°æ®åºçæçIDç­æ°æ®
    db.refresh(db_user)
    return db_user

@app.get("/users/", response_model=List[UserResponse])
def read_users(skip: int = 0, limit: int = 10, db: Session = Depends(get_db)):
    users = db.query(User).offset(skip).limit(limit).all()
    return users</code></pre>
<h2>ð¨ åãæ³¨æäºé¡¹ä¸è¿é¶æè</h2>
<p>æ­åä½ ï¼ä¸ä¸ªç»ææ¸æ°ãè¿æ¥é«æçæ°æ®å±å·²ç»æ­å»ºå®æãä½å¨æå¥çäº§åï¼è¯·å¡å¿çæä»¥ä¸å ç¹ï¼</p>
<div>
<p>1. <strong style="color: rgba(186, 55, 42, 1)">è¿æ¥æ± éç½®æ¯èºæ¯</strong>ï¼<code style="color: rgba(186, 55, 42, 1)">pool_size</code>å<code style="color: rgba(186, 55, 42, 1)">max_overflow</code>æ²¡æé¶å¼¹ãè®¾ç½®å¤ªå°ï¼é«å¹¶åæ¶è¯·æ±æéï¼è®¾ç½®å¤ªå¤§ï¼æµªè´¹èµæºçè³æå®æ°æ®åºãéè¦æ ¹æ®å®éè´è½½ååæµè¯è°æ´ã</p>
<p>2. <strong style="color: rgba(186, 55, 42, 1)">Sessionççå½å¨æå°±æ¯äºå¡ççå½å¨æ</strong>ãä¸ä¸ªå¤æçä¸å¡æä½åºè¯¥å¨åä¸ä¸ªSessionä¸­å®æï¼ä»¥ä¿è¯äºå¡ä¸è´æ§ãä¸è¦å¨ä¸åè¯·æ±é´å±äº«Sessionã</p>
<p>3. <strong style="color: rgba(186, 55, 42, 1)">å¼æ­¥æ°æ®åºé©±å¨</strong>ï¼å¯¹äºè¿½æ±æè´æ§è½æåçå¼æ­¥æ°æ®åºï¼å¦PostgreSQLï¼ï¼èèä½¿ç¨<code style="color: rgba(186, 55, 42, 1)">asyncpg</code> + <code style="color: rgba(186, 55, 42, 1)">SQLAlchemy 1.4+</code>çå¼æ­¥æ¨¡å¼ãè¿æ¶ï¼EngineåSessioné½éè¦æ¢æå¼æ­¥çæ¬ï¼<code style="color: rgba(186, 55, 42, 1)">AsyncEngine</code>, <code style="color: rgba(186, 55, 42, 1)">AsyncSession</code>ï¼ï¼ä¾èµé¡¹ä¹è¦ç¨<code style="color: rgba(186, 55, 42, 1)">async with</code>ç®¡çã</p>
<p>4. <strong style="color: rgba(186, 55, 42, 1)">ä¸è¦å¨çäº§ç¯å¢ä½¿ç¨SQLite</strong>ï¼é¤éæ¯æå°è§æ¨¡åºç¨ï¼ãSQLiteå¨é«å¹¶ååå¥ãåå¸å¼é¨ç½²æ¹é¢æå¤©ç¶éå¶ãå®éå¸¸éåååå¼åãæµè¯åå°ååªè¯»åºç¨ã</p>
</div>
<p>ååä¸ä¸ï¼<strong style="color: rgba(186, 55, 42, 1)">æä»¬åå©SQLAlchemyï¼ä¸ä»ä»æ¯åæ´å°çSQLï¼æ´æ¯å¼å¥äºä¸å¥æçãå¯æ§çæ°æ®åºè®¿é®æ¨¡å¼ã</strong>å®å°ä½çº§çè¿æ¥ç®¡çãäºå¡æ§å¶æ½è±¡åºæ¥ï¼è®©æä»¬è½æ´ä¸æ³¨äºä¸å¡é»è¾æ¬èº«ãèFastAPIçä¾èµæ³¨å¥ç³»ç»ï¼å®ç¾å°å°è¿å¥æ¨¡å¼æ´åå°è¯·æ±çå½å¨æä¸­ï¼å®ç°äºèµæºç®¡ççèªå¨åä¸ä¼éåã</p>
<hr style="border: none; height: 1px; background: linear-gradient(90deg, rgba(0, 0, 0, 0), rgba(52, 152, 219, 1), rgba(0, 0, 0, 0)); margin: 40px 0">
<p style="text-align: center">---<strong>åå¨æå</strong>---<br>å¸æè¿ä»½æ»ç»è½å¸®ä½ é¿å¼ä¸äºåãå¦æè§å¾æç¨ï¼ä¸å¦¨ç¹ä¸ª èµð æ æ¶èâ­ æ è®°ä¸ä¸ï¼æ¹ä¾¿éæ¶åé¡¾ãä¹æ¬¢è¿å³æ³¨æï¼åç»­ä¸ºä½ å¸¦æ¥æ´å¤ç±»ä¼¼çå®æè§£æãæä»»ä½çé®ææ³æ³ï¼æä»¬è¯è®ºåºè§ï¼ä¸èµ·äº¤æµå¼åä¸­çåç§å¿å¾ä¸é®é¢ã</p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-14 11:13">2026-01-14 11:13</span>&nbsp;
<a href="https://www.cnblogs.com/ymtianyu">ä¸åç¨åºåªå</a>&nbsp;
éè¯»(<span id="post_view_count">135</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19480142);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19480142', targetLink: 'https://www.cnblogs.com/ymtianyu/p/19480142', title: 'FastAPIæ°æ®åºå®æï¼ä»SQLAlchemyåçå°é«æè¿æ¥ç®¡çï¼åå«æ§è½ç¶é¢' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ æ°çä¸å¹´ï¼åç»åå®¢å­çå¤§å®¶ï¼ä¹åç»èªå·± ]]></title>
    <link>https://www.cnblogs.com/zxlh1529/p/19480754</link>
    <guid>8605ea59d1806e0890e523aeadae853c</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/zxlh1529/p/19480754" title="åå¸äº 2026-01-14 11:12">
    <span role="heading" aria-level="2">æ°çä¸å¹´ï¼åç»åå®¢å­çå¤§å®¶ï¼ä¹åç»èªå·±</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>2026 å¹´ï¼å·²ç»è¿å»åä¸ªæï¼æ¬æ¥å¹´åå¹´åæ³æ¾ä¸äºææ¯ç¹æ¥ä½ä¸ºé¦ç¯åè¡¨ï¼åé¢çäºçï¼æ³äºæ³ï¼æ²¡æ¾å°å¥½çç¹ï¼å½ç¶è¿ä¹æå ä¸ºæçææ¯è½åé®é¢ï¼æ·±çè°ä¸äºï¼æµçåè§å¾å¼ä¹æ å³ï¼å·²ç»æå¤ªå¤å¤§ä½¬åäºï¼å¾å¤åæ·±æå°±å¾åå½å»è¯´ 0110 äºã</p>
<p>æ°å¹´åå¼å§ï¼æ¶é´çº¿å·²ç»è¢«åç§é¢æµå æ»¡äºãé©¬æ¯ååå¤§é¢è¨ï¼é»éä¸æ¶¨çé¢æµï¼å¸æè¯è®ºåºå¤§ä½¬è·æè¯´å¥æ¶åä¼æï¼ã</p>
<p>æäººé¢æµææ¯è¶å¿ï¼æäººé¢æµè¡ä¸èµ°åï¼ä¹æäººè¯å¾ç¨å å¥è¯å¾ååºæªæ¥å å¹´çç­æ¡ãé¢æµæ¬èº«å¹¶ä¸ç½è§ï¼çè³å·²ç»æäºä¸ç§âæ°å¹´ä»ªå¼âã</p>
<p>ä½ææ³å¨æ°å¹´çç¬¬ä¸ç¯åå®¢éï¼å»æä¸è°è¿äºï¼éä¾¿è¯´è¯´ï¼ä¹æ¯ç¬¬ä¸æ¬¡ä¸åææ¯äºï¼ä»¥åå¨å­¦æ ¡å¤§ä¸è¿ä¸é¨æäºä¸ªå¬ä¼å·åææç±»çåååååååðã</p>
<hr>
<h2 id="å³äºèå¥">å³äºèå¥</h2>
<p>è¿å»ä¸å¹´ï¼æææ¾æåå°ä¸ç§ååï¼<br>
ä¿¡æ¯å¨å éï¼è§ç¹å¨åç¼©ï¼ç»è®ºå¨åç½®ã</p>
<p>å¾å¤åå®¹å·²ç»ä¸åè¯å¾âè§£éâï¼èæ¯ç´æ¥ç»åºæåº¦ï¼<br>
<strong>ä¸åè®¨è®ºè¿ç¨ï¼èæ¯åªä¿çç»æã</strong></p>
<p>å¨è¿æ ·çç¯å¢ä¸ï¼æ¢ä¸æ¥åèæäºä¸ç§éè¦å»æåæçéæ©ã</p>
<p>ååå®¢ä¹æ¯ã<br>
å®ä¸æ¯æå¿«çè¡¨è¾¾æ¹å¼ï¼ä¹ä¸æ¯æå®¹æè·å¾åé¦çæ¹å¼ï¼ä½å®è®©æä¿çäºä¸ç¹<strong>å®æ´æèçèå¥</strong>ââèä¸æ¯è¢«æ¨çèµ°ã</p>
<hr>
<h2 id="å³äºä¸ç¡®å®æ§">å³äºä¸ç¡®å®æ§</h2>
<p>é¢æµæµè¡ï¼æ¬è´¨ä¸æ¯æä»¬å¯¹ä¸ç¡®å®æ§çææã</p>
<p>ä½æ¯ä¸åè¿ä¸å¹´å¤å·¥ä½ä¹åè®©æè¶æ¥è¶æ¸æ¥ï¼<br>
<strong>ä¸ç¡®å®æ§ä¸æ¯é®é¢æ¬èº«ï¼å®æ¯ç¯å¢çå¸¸æã</strong></p>
<p>çæ­£æä»·å¼çè½åï¼å¹¶ä¸æ¯âçå¯¹æªæ¥âï¼èæ¯ï¼</p>
<ul>
<li>å½åè®¾å¤±ææ¶ï¼è½å¦åæ¶è°æ´</li>
<li>å½è·¯å¾ååæ¶ï¼æ¯å¦ä»ç¶å·å¤éæ©ç©ºé´</li>
<li>å½ç­æ¡ä¸å­å¨æ¶ï¼æ¯å¦è¿è½ç»§ç»­åè¿</li>
</ul>
<p>ææ¯æ ä¼åï¼æ¡æ¶ä¼åï¼èå¼ä¼åã<br>
ä½é¢å¯¹ååæ¶çå¤æ­ååä¿®æ­£è½åï¼å¾å°è¢«è¶å¿æ¬èº«æ·æ±°ã</p>
<hr>
<h2 id="å³äºé¿æä¸»ä¹">å³äºé¿æä¸»ä¹</h2>
<p>å¦æè¯´æä»ä¹ä¸è¥¿å¨ææ¯ä¸çéåå¾è¶æ¥è¶ç¨ç¼ºï¼é£ä¸å®ä¸æ¯ä¿¡æ¯ï¼èæ¯<strong>æç»­æ§</strong>ã</p>
<p>æç»­å­¦ä¹ ä¸é¾ï¼æç»­è¾åºä¸é¾ï¼<br>
é¾çæ¯å¨æ²¡ææå£°ãæ²¡æç­ç¹ãæ²¡æâæ­£ç¡®ç­æ¡âçæåµä¸ï¼ä¾ç¶æ¿æç»§ç»­ã</p>
<p>ååå®¢å¯¹ææ¥è¯´ï¼æ´åæ¯ä¸ç§é¿æè¡ä¸ºï¼</p>
<ul>
<li>ä¸è¿½ç­ç¹</li>
<li>ä¸å»æå¶é ç»è®º</li>
<li>ä¸æ¥çè¯æä»ä¹</li>
</ul>
<p>å å¹´åååå¤´çï¼å®å¯è½å¹¶ä¸è½è¯´ææâå¤åè¿âï¼ä½è³å°è½è¯ææ<strong>æ²¡æå®å¨è¢«ç­æåªå£°å¸¦èµ°</strong>ï¼ä¹æ¯æå­¦ä¹ çççï¼åè¿å¤´è½å¤ææ¦å²ç¬ä¸ä¸æ­¤æ¶çæã</p>
<hr>
<h2 id="å³äºè¾¹ç">å³äºè¾¹ç</h2>
<p>ææ¯å¾éè¦ï¼ä½ææ¯ä¸æ¯å¨é¨ã</p>
<p>å½ææé®é¢é½è¢«åè£æâæçé®é¢ââæé¿é®é¢ââè·¯çº¿éæ©é®é¢âæ¶ï¼åèå®¹æå¿½ç¥ä¸äºæ´åºç¡çä¸è¥¿ï¼</p>
<ul>
<li>ä½ æ¯å¦è¿è½ä¿æä¸æ³¨</li>
<li>ä½ æ¯å¦è¿è½äº«åè§£å³é®é¢çè¿ç¨</li>
<li>ä½ æ¯å¦è¿ç¥éèªå·±ä¸ºä»ä¹èµ°å¨è¿æ¡è·¯ä¸</li>
<li>ä½ æ¯å¦è¿ç­ç±çæ´»</li>
</ul>
<p>ç»ææ¯çè¾¹çï¼å¶å®ä¹æ¯å¨ç»èªå·±çç©ºé´ã</p>
<hr>
<h2 id="æå">æå</h2>
<p>è¿åä¸ªå³äºä¸ä¼ç»åºç­æ¡ï¼ä¹æ²¡æåºå®ç­æ¡ï¼ç¯å¹å¾ç­ï¼äººçå¾é¿ï¼å¹¶ä¸è½å¯¥å¯¥æ¦æ¬ã</p>
<p>å®æ´åæ¯ä¸æ¬¡å»æçåé¡¿ã</p>
<p>æ°çä¸å¹´ï¼æä¾ç¶ä¼åä»£ç ãåæ¶æãåå·¥ç¨å®è·µãåçæ´»ãåææï¼<br>
ä½å¨è¿äºä¹åï¼æå¸æèªå·±è½è®°ä½ï¼</p>
<ul>
<li>èå¥æ¯éåº¦éè¦</li>
<li>éåºæ¯é¢æµéè¦</li>
<li>æç»­æ¯çåéè¦</li>
<li>è¾¹çæ¯æ éæ©å¼ éè¦</li>
</ul>
<p>æ°å¹´ç¬¬ä¸ç¯ï¼åç»èªå·±ï¼ä¹åç»ä»ç¶æ¿ææ¢æ¢è¯»å®æ¯ä¸ç¯åå®¢çäººã</p>
<p>å¸ææ¥ä¸æ¥çä½ ï¼ç­ç±ææ¯ï¼ä¹ç­ç±çæ´»ï¼ç­ç±è¿å¾çä½ ï¼ç°å¨çä½ ï¼æªæ¥çä½ ï¼ä¸ç®¡åçä»ä¹ã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.001388888888888889" data-date-updated="2026-01-14 11:14">2026-01-14 11:12</span>&nbsp;
<a href="https://www.cnblogs.com/zxlh1529">å¹¼å¿å­ææ¯å®¶</a>&nbsp;
éè¯»(<span id="post_view_count">784</span>)&nbsp;
è¯è®º(<span id="post_comment_count">2</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19480754);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19480754', targetLink: 'https://www.cnblogs.com/zxlh1529/p/19480754', title: 'æ°çä¸å¹´ï¼åç»åå®¢å­çå¤§å®¶ï¼ä¹åç»èªå·±' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ PHP 8.5 åçº§çå­æåï¼é¿ååæ¨ä¸¤ç¹åæ»çæ£æ¥æ¸å ]]></title>
    <link>https://www.cnblogs.com/catchadmin/p/19479967</link>
    <guid>d088b37c914c481da8416f6e7c9f37ca</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/catchadmin/p/19479967" title="åå¸äº 2026-01-14 07:43">
    <span role="heading" aria-level="2">PHP 8.5 åçº§çå­æåï¼é¿ååæ¨ä¸¤ç¹åæ»çæ£æ¥æ¸å</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="php-85-åçº§çå­æåé¿ååæ¨ä¸¤ç¹åæ»çæ£æ¥æ¸å">PHP 8.5 åçº§çå­æåï¼é¿ååæ¨ä¸¤ç¹åæ»çæ£æ¥æ¸å</h1>
<h2 id="åçº§-php-ä¸é¾è¢«åæé¾">åçº§ PHP ä¸é¾ï¼è¢«åæé¾</h2>
<p>ä¸æåæ¯åé£ç§"ä½ æ°¸è¿ä¸æ³èµ¶å·¥"çå·¥ä½çå¥½æ¶æºï¼è¿è¡æ¶åçº§ã</p>
<p>å¤§å¤æ° PHP 8.x å°çæ¬åçº§å¾é¡ºå©ï¼ä½"é¡ºå©"ä¸ç­äº"é¶é£é©"ãçæ­£çé®é¢éå¸¸æ¥èªï¼</p>
<ul>
<li>éèçå¹³å°çº¦æï¼æ©å±ãç³»ç»åºãSAPIï¼ï¼</li>
<li>è½ç¼è¯ä½è¡ä¸ºä¸åçä¾èµï¼</li>
<li>è¢«å¿½ç¥å¤å¹´çè­¦å/å¼ç¨çªç¶æ·¹æ²¡æ¥å¿ï¼</li>
<li>åè®¾åæ»"å¾ç®å"çä¸çº¿è®¡åï¼å®éä¸å¾å°ç®åï¼ã</li>
</ul>
<p>è¿ç¯æç« ä¾§éå®æãæä¸ä¼éæ°è®² PHP 8.5 çæ°ç¹æ§ï¼æ¯å¦ç®¡éæä½ç¬¦æ URI å¤çãæ°ç¹æ§åªä¼ä½ä¸ºå¼å®¹æ§æ£æ¥ç¹ç®åæåãç®æ æ¯åæå¹´äººä¸æ ·åå¸ PHP 8.5ï¼æè®¡åãæé²æ¤ãæçæ§ãæçæ­£è½ç¨çåæ»è·¯å¾ã</p>
<p>PHP 8.5 çç¨³å®çäº 2025 å¹´ 11 æ 20 æ¥åå¸ï¼éµå¾ªæ­£å¸¸ç PHP æ¯æå¨æã</p>
<p><a href="https://catchadmin.com/post/2026-01/php85-upgrade-survival-guide-checklist" target="_blank" rel="noopener nofollow">åæ PHP 8.5 åçº§çå­æåï¼é¿ååæ¨ä¸¤ç¹åæ»çæ£æ¥æ¸å</a></p>
<h2 id="ç¡®å®ç®æ çæ¬å®ä¹åé¨æ¯æç­ç¥">ç¡®å®ç®æ çæ¬ï¼å®ä¹åé¨æ¯æç­ç¥</h2>
<p>å¨å¨ CI æ Composer ä¹åï¼ååç­ä¸ä¸ªé®é¢ï¼</p>
<p><strong>å¨ä½ çç»ç»éï¼è¿æ¬¡åçº§"å®æ"æå³çä»ä¹ï¼</strong></p>
<h3 id="ç¡®å®ç®æ åæªæ­¢æ¥æ">ç¡®å®ç®æ åæªæ­¢æ¥æ</h3>
<p>PHP åæ¯æä¸¤å¹´çæ´»è·æ¯æï¼ç¶åæ¯ä¸¤å¹´çå®å¨ä¿®å¤ã</p>
<p>å®æ¹æ¯æè¡¨ï¼</p>
<ul>
<li>PHP 8.5ï¼2025 å¹´ 11 æ 20 æ¥åå§åå¸</li>
<li>æ´»è·æ¯æè³ 2027 å¹´ 12 æ 31 æ¥</li>
<li>å®å¨æ¯æè³ 2029 å¹´ 12 æ 31 æ¥</li>
</ul>
<p>æ¯æçªå£å¾å®½è£ââä½ä½ çåé¨æªæ­¢æ¥æéå¸¸ç±ä»¥ä¸å ç´ é©±å¨ï¼</p>
<ul>
<li>åè§è¦æ±ï¼</li>
<li>æç®¡éå / åºç¡å®¹å¨ï¼</li>
<li>æ¡æ¶æ¯æçªå£ï¼</li>
<li>åçå¨"ä»å®å¨ä¿®å¤"é¶æ®µçææ¬ã</li>
</ul>
<h3 id="å®ä¹èå´åçº§å¸¸å¸¸å¨è¿éæ å£°å¤±è´¥">å®ä¹èå´ï¼åçº§å¸¸å¸¸å¨è¿éæ å£°å¤±è´¥ï¼</h3>
<p>åä¸ä»ä¹åå«ãä»ä¹ä¸åå«ï¼</p>
<p><strong>åå«ï¼</strong></p>
<ul>
<li>è¿è¡æ¶çæ¬åçº§ï¼FPM/CLIï¼ï¼</li>
<li>Composer ä¾èµè°æ´ï¼</li>
<li>CI ç©éµæ´æ°ï¼</li>
<li>çäº§ç¯å¢ä¸çº¿ç­ç¥ï¼</li>
<li>åçº§åéªè¯ã</li>
</ul>
<p><strong>ä¸åå«ï¼é¤éä½ æç¡®å è¿å»ï¼ï¼</strong></p>
<ul>
<li>éæä»£ç ä»¥ä½¿ç¨ PHP 8.5 æ°ç¹æ§ï¼</li>
<li>ä¸ PHP 8.5 æ å³çä¸»è¦æ¡æ¶åçº§ï¼</li>
<li>"é¡ºææ¹"çéåã</li>
</ul>
<p>å¦æä¸å®ä¹èå´ï¼"åçº§"ä¼åæ"éå"ï¼ç¶åå°±ä¼åæ»ã</p>
<h3 id="æåå³å®å¼å®¹æ§ç­ç¥">æåå³å®å¼å®¹æ§ç­ç¥</h3>
<p>å¦æä»£ç åºéè¦å¨æ§ç PHP å 8.5 ä¸åæ¶è¿è¡ä¸æ®µæ¶é´ï¼</p>
<ul>
<li>ç¨ CI å¼ºå¶åçæ¬å¼å®¹ï¼</li>
<li>å¨çäº§ç¯å¢åå° 8.5 ä¹åï¼ä¸è¦åå¹¶ 8.5 ä¸å±è¯­æ³ï¼æ¯å¦ <code>|&gt;</code>ï¼ã</li>
</ul>
<p>å¦æåç¡¬åæ¢ï¼</p>
<ul>
<li>ç¡®ä¿ä¸çº¿/åæ»æ¹æ¡ä¸æ ä¸å¤±ï¼</li>
<li>æ¥ååè½åæ¯å¯è½æ´æ©å¼å§ä½¿ç¨ 8.5 ä¸å±è¯­æ³ã</li>
</ul>
<h2 id="åå§å®¡è®¡å½å-phpæ©å±åä¾èµçº¦æ">åå§å®¡è®¡ï¼å½å PHPãæ©å±åä¾èµçº¦æ</h2>
<p>å¤§å¤æ°"PHP åçº§"bug ä¸æ¯è¯­è¨ bugï¼èæ¯ç¯å¢ä¸å¹éã</p>
<h3 id="å¿«ç§å®éè¿è¡çè¿è¡æ¶">å¿«ç§å®éè¿è¡çè¿è¡æ¶</h3>
<p>å¨çäº§ç¯å¢è¿è¡è¿äºå½ä»¤ï¼ä¸æ¯ä½ çç¬è®°æ¬ï¼</p>
<pre><code class="language-bash">php -v
php -m
php --ini
php -i | head -n 50
</code></pre>
<p>å¦æç¨ PHP-FPMï¼è¿è¦æè·ï¼</p>
<ul>
<li>FPM pool éç½®ï¼</li>
<li>ini è¦çï¼</li>
<li>ä¼ ç» FPM çç¯å¢åéï¼</li>
<li>opcache/JIT è®¾ç½®ï¼è¿äºå¨ä¸åç¯å¢å¯è½ä¸åï¼ã</li>
</ul>
<h3 id="åå»ºå¯å¤ç¨çå¹³å°å¿«ç§èæ¬">åå»ºå¯å¤ç¨ç"å¹³å°å¿«ç§"èæ¬</h3>
<p>æè¿æ ·ä¸ä¸ªèæ¬æ¾å° <code>tools/php-platform-snapshot.php</code>ï¼å¨æ¯ä¸ªç¯å¢ï¼å¼å/é¢å/çäº§ï¼è¿è¡ãæäº¤èæ¬æ¬èº«ï¼ä¸è¦è®©å®æä¸ºå£å£ç¸ä¼ çç¥è¯ã</p>
<pre><code class="language-php">&lt;?php
declare(strict_types=1);
function ext_version(string $ext): ?string {
    $v = phpversion($ext);
    return $v === false ? null : $v;
}
$snapshot = [
    'php_version' =&gt; PHP_VERSION,
    'php_version_id' =&gt; PHP_VERSION_ID,
    'sapi' =&gt; PHP_SAPI,
    'os' =&gt; PHP_OS_FAMILY . ' ' . php_uname('r'),
    'ini_loaded' =&gt; php_ini_loaded_file(),
    'ini_scanned' =&gt; php_ini_scanned_files(),
    'extensions' =&gt; [],
];
$exts = get_loaded_extensions();
sort($exts);
foreach ($exts as $ext) {
    $snapshot['extensions'][$ext] = ext_version($ext);
}
echo json_encode($snapshot, JSON_PRETTY_PRINT | JSON_UNESCAPED_SLASHES) . PHP_EOL;
</code></pre>
<p>è¿è½ç»ä½ ä¸¤ä¸ªæç¨çä¸è¥¿ï¼</p>
<ul>
<li>æµè¯ 8.5 æ¶å¯ä»¥ diff ç"ä»ä¹åäº"è®°å½ï¼</li>
<li>å¿«éåç°"é¢åè½è·çäº§ä¸è½è·"é®é¢çæ¹æ³ââå¾å¾æ¯çäº§å¤äºä¸ä¸ªæ©å±æ ini ä¸åã</li>
</ul>
<h3 id="çç¹-composer-å¹³å°è¦æ±">çç¹ Composer å¹³å°è¦æ±</h3>
<p>Composer æä½ ç PHP è¿è¡æ¶åæ©å±å½ä½"å¹³å°å"ï¼ä¾èµå¯ä»¥ require å®ä»¬ã</p>
<p>æç¨çå½ä»¤ï¼</p>
<pre><code class="language-bash">composer show --platform
composer check-platform-reqs
</code></pre>
<ul>
<li><code>composer show --platform</code> ååº Composer çå°çå¹³å°åã</li>
<li><code>composer check-platform-reqs</code> éªè¯ä½ ççå®æå¡å¨æ¯å¦æ»¡è¶³å·²å®è£åç PHP/ext è¦æ±ï¼å®ä¼ææå¿½ç¥ <code>config.platform</code>ï¼ã</li>
</ul>
<p>è¿æ¯å¨é¨ç½²ååç°"çäº§ç¼º ext-intl"æå¿«çæ¹æ³ã</p>
<h2 id="æå»º-ci-ç©éµå¨æ§ç-php-å-85-ä¸è¿è¡æµè¯æè­¦åå½ä¿¡å·">æå»º CI ç©éµï¼å¨æ§ç PHP å 8.5 ä¸è¿è¡æµè¯ï¼æè­¦åå½ä¿¡å·ï¼</h2>
<p>CI æ¯è®©åçº§åå¾å¯é¢æµçå°æ¹ã</p>
<h3 id="è§åå¨çäº§ç¨³å®è¿è¡-85-ä¹åä¿çæ§è¿è¡æ¶å¨-ci-ä¸­">è§åï¼å¨çäº§ç¨³å®è¿è¡ 8.5 ä¹åï¼ä¿çæ§è¿è¡æ¶å¨ CI ä¸­</h3>
<p>å³ä½¿ä½ è®¡åç¡¬åæ¢ï¼ç­æçéå æä¹è½å¸®ä½ é¿å"æä»¬å¨çäº§åå¤å¥½ä¹ååå¹¶äº 8.5 ä¸å±ä»£ç "ã</p>
<h3 id="github-actions-ç©éµç¤ºä¾æ§ç-php--php-85">GitHub Actions ç©éµç¤ºä¾ï¼æ§ç PHP + PHP 8.5ï¼</h3>
<p>å¦æç¨ GitHub Actionsï¼shivammathur/setup-php æ¯æç´æ¥æå® <code>'8.5'</code>ã</p>
<pre><code class="language-yaml">name: CI
on:
  push:
  pull_request:
jobs:
  tests:
    runs-on: ubuntu-latest
    strategy:
      fail-fast: false
      matrix:
        php: ['8.3', '8.5'] # è°æ´ä¸ºä½ çå½åçæ¬ + ç®æ çæ¬
    steps:
      - uses: actions/checkout@v4
      - name: Setup PHP
        uses: shivammathur/setup-php@v2
        with:
          php-version: ${{ matrix.php }}
          tools: composer:v2
          coverage: none
      - name: Install dependencies
        run: composer install --no-interaction --prefer-dist
      - name: Run tests
        run: vendor/bin/phpunit
</code></pre>
<h3 id="åºåéè¯¯è­¦ååå¼ç¨">åºå"éè¯¯"ã"è­¦å"å"å¼ç¨"</h3>
<p>ä¸è¦ç«å»æææä¸è¥¿é½å½å¤±è´¥ãååç±»ï¼</p>
<ul>
<li><strong>è§£æéè¯¯ / è´å½éè¯¯</strong>ï¼é»æ­¢åçº§ã</li>
<li><strong>è¡ä¸ºåæ´</strong>ï¼éå¸¸éè¦æµè¯ + ä»£ç ä¿®å¤ã</li>
<li><strong>å¼ç¨</strong>ï¼ä¸ä¸å®é»æ­¢åçº§ï¼ä½å®ä»¬é¢ç¤ºæªæ¥ä¼åââèä¸å¯è½å¾å¿«æ·¹æ²¡æ¥å¿ã</li>
</ul>
<p>PHPUnit æ¬èº«å°±åºå outcomesï¼failed/erroredï¼å issuesï¼warningsãrisky tests ç­ï¼ã</p>
<p>ä¸ä¸ªå®ç¨çåçº§ç­ç¥ï¼</p>
<ul>
<li>å³ä½¿å­å¨å¼ç¨ï¼ä¹è®©æµè¯å¨ 8.5 ä¸éè¿ï¼</li>
<li>ä½å ä¸ä¸ªåç¬ç CI job æ¥ç»è®¡å¼ç¨æ°éå¹¶å¼ºå¶æ§è¡é¢ç®ï¼æ¯å¦"å¼ç¨ä¸è½è¶è¿ N æ¡"ï¼ã</li>
</ul>
<p>è¿éå¸¸æ¯ä¸å¤ä¹é´æå¼"ä»»ä½å¼ç¨é½å¤±è´¥"æ´ç°å®ã</p>
<h2 id="å¼ç¨åè¡ä¸ºåæ´åå¤çæéä¸æ ·åç±»èéå½éæ">å¼ç¨åè¡ä¸ºåæ´ï¼åå¤çæéä¸æ ·åç±»ï¼èéå½éæ</h2>
<p>PHP 8.5 æ°å¢äºä¸æ¹å¼ç¨ç¹æ§åå ä¸ªå¯è½è®©äººæå¤çä¸å¼å®¹åæ´ãå®æ¹è¿ç§»æåå¯¹æ­¤æè¯¦ç»è¯´æã</p>
<h3 id="ä¸ä¸ªææçåç±»å·¥ä½æµ">ä¸ä¸ªææçåç±»å·¥ä½æµ</h3>
<ol>
<li>
<p><strong>æ´é²</strong>ï¼å¨ CI åé¢åç¯å¢å¯ç¨ E_ALLã</p>
</li>
<li>
<p><strong>åç»</strong>ï¼ææ¶æ¯ç­¾åèç±»ï¼ç¸åæä»¶/è¡/æ¶æ¯ï¼ã</p>
</li>
<li>
<p><strong>æåº</strong>ï¼æé£é©ä¼åï¼</p>
<ul>
<li>å®å¨ç¸å³ï¼</li>
<li>è¿è¡æ¶æ­£ç¡®æ§ï¼</li>
<li>æ¥å¿é / è¿ç»´åªé³ï¼</li>
<li>æªæ¥ç ´åå¯è½æ§ã</li>
</ul>
</li>
<li>
<p><strong>ä¿®å¤</strong>ï¼æå°çå®å¨åæ´ã</p>
</li>
<li>
<p><strong>é²æ­¢åå½</strong>ï¼æ·»å éå¯¹æ§æµè¯æéæè§åã</p>
</li>
</ol>
<h3 id="å°å¤é½ä¼ååºæ¥çå¸¸è§å¼ç¨">å°å¤é½ä¼ååºæ¥çå¸¸è§å¼ç¨</h3>
<p>è¿äºæ¯è®©å¢éè¯´"ç­ç­ï¼è¿ä»¥åå±ç¶åè®¸ï¼"çé®é¢ï¼</p>
<p><strong>éè§èçç±»åè½¬æ¢åç§°å·²å¼ç¨</strong>ï¼<code>(boolean)</code>ã<code>(integer)</code>ã<code>(double)</code>ã<code>(binary)</code> â ç¨ <code>(bool)</code>ã<code>(int)</code>ã<code>(float)</code>ã<code>(string)</code>ã</p>
<p>å¿«éæç´¢ï¼</p>
<ul>
<li>grep æ <code>\(integer\)</code> / <code>\(boolean\)</code> ç­ï¼</li>
<li>åºç¨ codemodï¼æ Rectorââåé¢ä¼è®²ï¼ã</li>
</ul>
<p><strong>case è¯­å¥ç¨åå·ç»å°¾å·²å¼ç¨</strong>ï¼ç¨ <code>:</code>ï¼ã</p>
<p>è¿å¸¸åºç°å¨"ä¸ç´è½è·"çè switch åéã</p>
<p><strong>ç¨ null ä½ä¸ºæ°ç»åç§»ï¼æå¨ array_key_exists ä¸­ï¼å·²å¼ç¨</strong>ï¼PHP å»ºè®®ç¨ç©ºå­ç¬¦ä¸²ä»£æ¿ã</p>
<p>è¿éå¸¸æåè¾å¥è§èå bugââä¿®æ ¹æ¬åå ï¼ä¸åªæ¯ä¿®è­¦åã</p>
<p><strong>éå¢éæ°å­å­ç¬¦ä¸²å·²å¼ç¨</strong>ï¼ç¨ <code>str_increment()</code> ä»£æ¿ã</p>
<p>å¦æä½ æä»£ç ç¨ <code>$s++</code> åå­æ¯éå¢ï¼ä¼çå°è¿ä¸ªã</p>
<p><strong>åå¼å·æä½ç¬¦å·²å¼ç¨</strong>ï¼å®æ¯ shell_exec çå«åï¼ã</p>
<p>å³ä½¿ä½ æ¥åå®å¨é£é©ï¼ä¹ä¸æ³è®©å¼ç¨è­¦åé£æ´æ·¹æ²¡çäº§æ¥å¿ã</p>
<p><strong><code>__sleep()</code> å <code>__wakeup()</code> è½¯å¼ç¨</strong>ï¼ä¼åç¨ <code>__serialize()</code> / <code>__unserialize()</code>ï¼æå¨è¿æ¸¡æåæ¶æ¯æä¸¤èï¼ã</p>
<h3 id="è¿ç»´ç¸å³çå¼ç¨æ©å±iniç©ºæä½å½æ°">è¿ç»´ç¸å³çå¼ç¨ï¼æ©å±ãiniã"ç©ºæä½"å½æ°ï¼</h3>
<p>æäºå¼ç¨æ¯"ä½ ä¸åéè¦è¿ä¸ªäº"ï¼ä½ä»å¯è½è®©ä½ æªæä¸åï¼</p>
<ul>
<li><code>curl_close()</code> å <code>curl_share_close()</code> å·²å¼ç¨ï¼å ä¸ºå¥æä¼èªå¨éæ¾ã</li>
<li><code>imagedestroy()</code> å·²å¼ç¨ï¼å ä¸º GdImage ä¼èªå¨éæ¾ã</li>
<li><code>finfo_close()</code> å·²å¼ç¨ï¼å ä¸º finfo å¯¹è±¡ä¼èªå¨éæ¾ã</li>
<li><code>MHASH_*</code> å¸¸éå·²å¼ç¨ã</li>
<li>PDO <code>"uri:"</code> DSN scheme å å®å¨åå å·²å¼ç¨ã</li>
</ul>
<p>å¦æä½ è¿ç»´å¤§ååºç¨ï¼è¿äºå¾éè¦ï¼å ä¸ºå®ä»¬å¯è½ï¼</p>
<ul>
<li>æ¥å¿çç¸ï¼åªé³ï¼ï¼</li>
<li>æ©ççæ­£çéè¯¯ï¼</li>
<li>ææç¤ºå¼å¾å®¡æ¥çå®å¨ææè¡ä¸ºï¼è¿ç¨ URI ç PDO DSNï¼ã</li>
</ul>
<h3 id="å¼å¾å°½æ©æ£æ¥çä¸å¼å®¹åæ´">å¼å¾å°½æ©æ£æ¥çä¸å¼å®¹åæ´</h3>
<p>æ¥èªå®æ¹åè¡¨ï¼</p>
<ul>
<li><code>class_alias()</code> ä¸è½åç¨ "array" æ "callable" ä½ä¸ºå«åã</li>
<li>å¯¹è±¡å°å¸å°çæ¾æ£æ¯è¾è¢«ç»ä¸ä¸ºä¸ <code>(bool)$object</code> è¡ä¸ºä¸è´ã</li>
<li>Trait å¨ç¶ç±»ä¹åç»å®ï¼å¾®å¦çè¡ä¸ºåæ´ï¼ã</li>
<li>æäº attribute ç®æ éªè¯éè¯¯ç°å¨å¨ç¼è¯æåçï¼æéé¡¹å¯ä»¥å»¶è¿ï¼ã</li>
</ul>
<p>ä½ å¯è½æ°¸è¿ä¸ä¼éå°è¿äºãä½å¦æéå°ï¼ä½ å¸æå®ä»¬å¨ CI ç«å»å¤±è´¥ââèä¸æ¯å¨çäº§ç¯å¢ã</p>
<h2 id="composer-ç­ç¥lock-æä»¶å¹³å°è¦æ±ååé¶æ®µæ´æ°">Composer ç­ç¥ï¼lock æä»¶ãå¹³å°è¦æ±ååé¶æ®µæ´æ°</h2>
<p>ä¾èµç®¡çæ¯åçº§åºé®é¢çå°æ¹ã</p>
<h3 id="çè§£-composer-å¨æ£æ¥ä»ä¹">çè§£ Composer å¨æ£æ¥ä»ä¹</h3>
<p>Composer æå½å PHP çæ¬å»ºæ¨¡ä¸ºå¹³å°åï¼<code>php</code>ï¼ï¼å¹¶æ®æ­¤æ£æ¥ä½ çä¾èµã</p>
<p>æä»¥ä½ æä¸¤ä¸ªç¸å³çé®é¢ï¼</p>
<ol>
<li>"æçä¾èµå¾è½å¨ PHP 8.5 ä¸è§£æåï¼"</li>
<li>"æççäº§ç¯å¢ççæ»¡è¶³è§£æåºçä¾èµå¾åï¼"</li>
</ol>
<h3 id="åé¶æ®µæ´æ°ä¾èµä¸è¦ä¸æ¬¡æ§æå®">åé¶æ®µæ´æ°ä¾èµï¼ä¸è¦"ä¸æ¬¡æ§æå®"ï¼</h3>
<p>ä¸ä¸ªå®ç¨çåé¶æ®µæ¹æ³ï¼</p>
<p><strong>é¶æ®µ Aï¼ä¸æ¹åè¿è¡æ¶ï¼è§£æä¾èµ</strong></p>
<ul>
<li>å¨å½å PHP çæ¬ä¸æ´æ°ä¾èµï¼å¦æå¯è½ï¼ã</li>
<li>ç®æ ï¼åå°åæ¶åºç°çæªç¥æ°ã</li>
</ul>
<p><strong>é¶æ®µ Bï¼åè®¾å¨ PHP 8.5 ä¸è§£æä¾èµ</strong></p>
<ul>
<li>å¨ <code>composer.json</code> ä¸­ç¨ <code>config.platform.php</code> æ¨¡æ PHP 8.5 è¿è¡ä¾èµè§£æï¼ä¸´æ¶çï¼å¨åæ¯ä¸ï¼ã</li>
<li>ç¶åå¯æ§å°è¿è¡ <code>composer update</code>ã</li>
</ul>
<p><strong>é¶æ®µ Cï¼å¨çå® PHP 8.5 è¿è¡æ¶ä¸å®è£</strong></p>
<ul>
<li>å¨ CI/é¢åç¯å¢ççå® 8.5 ä¸è¿è¡å®æ´æµè¯å¥ä»¶ã</li>
</ul>
<h3 id="æ­£ç¡®ä½¿ç¨-composer-çå¹³å°æ£æ¥">æ­£ç¡®ä½¿ç¨ Composer çå¹³å°æ£æ¥</h3>
<ul>
<li><code>platform-check</code> æ§å¶å¨ Composer ç autoloader bootstrap ä¸­çæ <code>platform_check.php</code>ã</li>
<li><code>composer check-platform-reqs</code> éªè¯çå®è¿è¡æ¶æ¯å¦å¹éå·²å®è£åçè¦æ±ã</li>
</ul>
<p>æ¢å¥è¯è¯´ï¼</p>
<ul>
<li>ç¨ <code>config.platform</code> æ¥æ¨¡æåè§£æã</li>
<li>ç¨ <code>check-platform-reqs</code> æ¥ç¡®ä¿çäº§å®éå¼å®¹ã</li>
</ul>
<h3 id="åçº§æé´ä¼åå¤ä½¿ç¨çå®å¨æ´æ°å½ä»¤">åçº§æé´ä¼åå¤ä½¿ç¨çå®å¨æ´æ°å½ä»¤</h3>
<p>å¸¸è§æ¨¡å¼ï¼</p>
<pre><code class="language-bash"># ä¿å®å°æ´æ°ä¾èµ
composer update --no-interaction --with-all-dependencies

# ä¸¥æ ¼æ lock æä»¶å®è£
composer install --no-interaction --prefer-dist
</code></pre>
<p>å¦æéè¦è¿½æ¥ä¸ä¸ªæé®é¢çåï¼</p>
<ul>
<li>æ¾å¼æ´æ°å®ï¼å ä¾èµï¼ï¼</li>
<li>å¨ CI çä¸¤ä¸ªè¿è¡æ¶ä¸éæ°è¿è¡ã</li>
</ul>
<p>é¿åæ"å¿½ç¥å¹³å°è¦æ±"å½æè§£å³æ¹æ¡ãå®è½è®©ä½ æ¬å°è±å°ï¼ä½ä¸æ¯è¿ç§»ç­ç¥ã</p>
<h2 id="é¨ç½²åæ·»å å¯è§æµæ§è¿æ ·ä½ è½è¯æåçº§æ¯å¥åº·ç">é¨ç½²åæ·»å å¯è§æµæ§ï¼è¿æ ·ä½ è½è¯æåçº§æ¯å¥åº·çï¼</h2>
<p>å¦æä¸è½åº¦éï¼å°±ä¼äºè®ºã</p>
<h3 id="åºçº¿åå¥åº·çå«ä¹">åºçº¿å"å¥åº·"çå«ä¹</h3>
<p>å¨é¨ç½² PHP 8.5 ä¹åï¼æè·ï¼</p>
<ul>
<li>éè¯¯çï¼HTTP 5xx + æªæè·å¼å¸¸ï¼ï¼</li>
<li>æ¢è¯·æ±çï¼p95/p99ï¼ï¼</li>
<li>åå­ä½¿ç¨è¶å¿ï¼FPM workerï¼ï¼</li>
<li>éåå»¶è¿ï¼å¦æä½ è· workerï¼ï¼</li>
<li>æ¥å¿éï¼å°¤å¶æ¯è­¦å/å¼ç¨ï¼ã</li>
</ul>
<h3 id="ä¸´æ¶å¢å æ¥å¿ä¿¡å·ä½ä¸è¦è®©æ¥å¿åæåå¾åº">ä¸´æ¶å¢å æ¥å¿ä¿¡å·ï¼ä½ä¸è¦è®©æ¥å¿åæåå¾åºï¼</h3>
<p>å¨åçº§çªå£æé´ï¼å ä¸ä¸ªç­æç"åçº§è§è§"æ¯åççï¼</p>
<ul>
<li>å¨è¿ç¨å¯å¨æ¶è®°å½ PHP çæ¬ï¼FPM/CLI workerï¼ï¼</li>
<li>ç»éè¯¯æä¸è¿è¡æ¶æ ç­¾ï¼æ§ç vs 8.5ï¼ï¼</li>
<li>æç«¯ç¹/worker ç±»åç»è®¡å¼ç¨æ°éã</li>
</ul>
<p>å¨ PHP ä¸­ï¼ä½ å¯ä»¥å¨åç«¯æ§å¶å¨ï¼ææ¡æ¶ bootstrapï¼éä¸ºé¢åç¯å¢æ·»å ä¸ä¸ªæå°çéè¯¯å¤çå¨ï¼</p>
<pre><code class="language-php">set_error_handler(static function (int $severity, string $message, string $file, int $line): bool {
    if (!(error_reporting() &amp; $severity)) {
        return false;
    }
    // ç¤ºä¾ï¼æå¼ç¨/è­¦åè·¯ç±å°ä¸ç¨ logger channel
    if ($severity === E_DEPRECATED || $severity === E_USER_DEPRECATED) {
        error_log("[DEPRECATED] {$message} in {$file}:{$line}");
        return true; // å·²å¤ç
    }
    return false; // è®©æ­£å¸¸å¤çå¨è¿è¡
});
</code></pre>
<p>ä¿æä¸´æ¶æ§ãç®æ æ¯ä¸çº¿æé´çæ¸æ°åº¦ï¼ä¸æ¯ä¸ä¸ªæ°¸ä¹çèªå®ä¹éè¯¯æ¡æ¶ã</p>
<h3 id="ç¡®ä¿ç»è¿å¤çå¨çè­¦åä¸ä¼è®©ä½ æªæä¸å">ç¡®ä¿"ç»è¿å¤çå¨çè­¦å"ä¸ä¼è®©ä½ æªæä¸å</h3>
<p>PHP 8.5 å¼ç¨äºå¨ç¨æ·è¾åºå¤çå¨åé¨äº§çè¾åºçè¡ä¸ºï¼å¹¶æåºè­¦åä¼ç»è¿å¤çå¨ä»¥ç¡®ä¿å¯è§æ§ã</p>
<p>å¦æä½ åèªå®ä¹è¾åºç¼å²çéªæä½ï¼å¨é¢åç¯å¢ç¨çå®æµéæ¨¡å¼æµè¯å®ä»¬ã</p>
<h2 id="ä¸çº¿ç­ç¥éä¸éæèç»¿é¨ç½²å ä¸å®éè½ç¨çåæ»">ä¸çº¿ç­ç¥ï¼éä¸éæèç»¿é¨ç½²ï¼å ä¸å®éè½ç¨çåæ»</h2>
<p>è¿æ¯è¿ç»´åçº§æè´¥çå³é®ã</p>
<h3 id="éä¸éåºç¡æå°å¯è¡çå®å¨ä¸çº¿">éä¸éåºç¡ï¼æå°å¯è¡çå®å¨ä¸çº¿ï¼</h3>
<ol>
<li>åæ PHP 8.5 é¨ç½²å°å°æ¯ä¾çæµéã</li>
<li>å¯¹æ¯éè¯¯çåå»¶è¿ä¸åºçº¿ã</li>
<li>ä¿æéä¸éè¶³å¤é¿çæ¶é´ä»¥è¦ççå®ä¸å¡æµç¨ï¼ä¸åªæ¯å¥åº·æ£æ¥ï¼ã</li>
</ol>
<p>å®ç°åå³äºä½ çææ¯æ ï¼</p>
<ul>
<li>è´è½½åè¡¡å¨åé¢çä¸¤ä¸ª FPM poolï¼</li>
<li>Kubernetes deployment å æéè·¯ç±ï¼</li>
<li>ä¸¤ä¸ª ASG / ä¸¤ä¸ª service å æ¸è¿æµéåæ¢ã</li>
</ul>
<h3 id="èç»¿é¨ç½²éåå¤§çç¸å¼ç»ç»">èç»¿é¨ç½²éå"å¤§çç¸"å¼ç»ç»</h3>
<p>å¦æä½ çç»ç»åå¥½ç¡¬åæ¢ï¼</p>
<ul>
<li>ä¿ææ°æ§ç¯å¢é½å¨çº¿ï¼</li>
<li>åæ¢æµéï¼</li>
<li>ä¿ææ§ç¯å¢ç­å¤ä»¥ä¾¿å¿«éåæ»ã</li>
</ul>
<h3 id="åæ»è®¡åå¿é¡»åå«ä¾èµåç¼å­">åæ»è®¡åå¿é¡»åå«ä¾èµåç¼å­</h3>
<p>åæ»ä¸åªæ¯"æåæ§ç PHP äºè¿å¶"ã</p>
<p>åæ»ç°å®æ§æ£æ¥æ¸åï¼</p>
<ul>
<li>ä¿çä¹åçå®¹å¨éåï¼æåï¼ã</li>
<li>ä¿çä¹åç <code>composer.lock</code> å¶åã</li>
<li>ç¥éåæ¢è¿è¡æ¶æ¶ opcache/APCu ææ¡æ¶ç¼å­æ¯å¦éè¦æ¸çã</li>
<li>ç¡®ä¿æ°æ®åºè¿ç§»æ¯ååå¼å®¹çï¼ææç¡®æé¤å¨åçº§èå´å¤ï¼ã</li>
</ul>
<p>å¦æåæ»éè¦ä¸ä¸ªäººåä¸ä»½ wiki é¡µé¢ï¼å¨ååä¸å®ä¼å¤±è´¥ã</p>
<h2 id="åçº§åæ£æ¥æ¸ååéªè¯æ­£ç¡®æ§åéªè¯æ§è½ç¶åæ¸ç">åçº§åæ£æ¥æ¸åï¼åéªè¯æ­£ç¡®æ§ï¼åéªè¯æ§è½ï¼ç¶åæ¸ç</h2>
<p>ä¸æ¦ PHP 8.5 å¼å§æå¡çå®æµéï¼ä½ çå·¥ä½è¿æ²¡å®ãç°å¨è¿å¥"éªè¯åç¨³å®"æ¨¡å¼ã</p>
<h3 id="å³æ¶æ£æ¥ç¬¬ä¸å°æ¶">å³æ¶æ£æ¥ï¼ç¬¬ä¸å°æ¶ï¼</h3>
<ul>
<li>æ«æéè¯¯æ¥å¿æ¥æ¾æ°çè´å½éè¯¯/å¼å¸¸ã</li>
<li>è§å¯æ¥å¿éæ¯å¦çªç¶å¢é¿ï¼éå¸¸æ¯å¼ç¨ï¼ã</li>
<li>å¨çäº§ä¸»æºä¸éªè¯ <code>composer check-platform-reqs</code>ã</li>
<li>ç¨åææ£æ¥éªè¯æ ¸å¿æµç¨ï¼ç»å½ãç»è´¦ãä¸ä¼ ãå®æ¶ä»»å¡ç«¯ç¹ï¼ã</li>
</ul>
<h3 id="é¦æ¥æ£æ¥">é¦æ¥æ£æ¥</h3>
<ul>
<li>å¯¹æ¯ p95/p99 å»¶è¿ä¸åºçº¿ã</li>
<li>æ£æ¥åå­ä½¿ç¨ï¼
<ul>
<li>FPM worker RSS å¢é¿ï¼</li>
<li>worker åæ¶é¢çï¼</li>
<li>éå worker åå­æ³æ¼ã</li>
</ul>
</li>
<li>éªè¯åå°ä»»å¡ï¼
<ul>
<li>worker å¨æ°è¿è¡æ¶ä¸å·²éå¯ï¼</li>
<li>æ²¡æ"å¡ä½"çéåï¼</li>
<li>æ²¡æéé»å¤±è´¥ã</li>
</ul>
</li>
</ul>
<h3 id="é¦å¨æ¸ç">é¦å¨æ¸ç</h3>
<ul>
<li>ç§»é¤ä½ ä¸ºä¸çº¿è§è§æ·»å çä¸´æ¶é¢å¤æ¥å¿ã</li>
<li>æé«é¢å¼ç¨è½¬æè·è¸ªçå·¥åå¹¶éæ­¥æ¶ç­ã</li>
<li>åæ¬¡æ¶ç´§ CIï¼
<ul>
<li>æé«å¼ç¨çæ åï¼</li>
<li>ç¡®è®¤ç¨³å®åä»ç©éµä¸­ç§»é¤æ§ PHP çæ¬ã</li>
</ul>
</li>
</ul>
<h2 id="å³äº-php-85-ç¹æ§çå¿«éå¼å®¹æ§è¯´æä¸å±å¼æç¨">å³äº PHP 8.5 ç¹æ§çå¿«éå¼å®¹æ§è¯´æï¼ä¸å±å¼æç¨ï¼</h2>
<p>PHP 8.5 å¼å¥äºæ°çè¯­è¨åè¿è¡æ¶ç¹æ§ï¼å¦ç®¡éæä½ç¬¦ãURI æ©å±ãclone-with ç­ã</p>
<p>åçº§æé´ä¸éè¦éç¨å®ä»¬ãä½ä½ åºè¯¥ï¼</p>
<ul>
<li>ç¡®ä¿ä½ ç linter/formatter è¯å« PHP 8.5 è¯­æ³ï¼</li>
<li>ç¡®ä¿ CI å¨ PHP 8.5 ä¸è¿è¡åååå¹¶ä»»ä½ 8.5 ä¸å±è¯­æ³ï¼</li>
<li>æç¹æ§éç¨åè¿è¡æ¶è¿ç§»åå¼ï¼èå´æ§å¶ï¼ã</li>
</ul>
<h2 id="ç»è®ºæåçº§å½é¨ç½²æ¥å¯¹å¾å°±ä¼é¡ºå©">ç»è®ºï¼æåçº§å½é¨ç½²æ¥å¯¹å¾ï¼å°±ä¼é¡ºå©</h2>
<p>åçº§å° PHP 8.5 éå¸¸ä¸æ¯"éå"é®é¢ãæ¯çºªå¾é®é¢ï¼</p>
<ul>
<li>å®ä¹èå´ï¼</li>
<li>å®¡è®¡çå®å¹³å°ï¼</li>
<li>è¿è¡ CI ç©éµï¼</li>
<li>ç³»ç»å°åç±»å¼ç¨åä¸å¼å®¹ï¼</li>
<li>ææè¯å°ç®¡çä¾èµï¼</li>
<li>ä¸çº¿åæ·»å å¯è§æµæ§ï¼</li>
<li>å¸¦çç­ç¥ååæ»è·¯å¾é¨ç½²ï¼</li>
<li>åæ¢åéªè¯åç¨³å®ã</li>
</ul>
<p>å¦æä½ éµå¾ªè¿ä¸ªé¡ºåºï¼PHP åçº§å°±ä¸åå¯æââå®åªæ¯å¦ä¸ä¸ªå¸¸è§çè¿ç»´åæ´ã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.002777777777777778" data-date-updated="2026-01-14 07:47">2026-01-14 07:43</span>&nbsp;
<a href="https://www.cnblogs.com/catchadmin">JaguarJack</a>&nbsp;
éè¯»(<span id="post_view_count">138</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19479967);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19479967', targetLink: 'https://www.cnblogs.com/catchadmin/p/19479967', title: 'PHP 8.5 åçº§çå­æåï¼é¿ååæ¨ä¸¤ç¹åæ»çæ£æ¥æ¸å' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ LangChainãLangFlowãLangGraphï¼ä¸æè®²æ¸ä¸å¤§ LLM æ¡æ¶çå®ä½ä¸å·®å¼ ]]></title>
    <link>https://www.cnblogs.com/jyzhao/p/19479470/langchainlangflowlanggraph-yi-wen-jiang-qing-san-d</link>
    <guid>88c9b78cc1ca2c9bde876d7c031b53cb</guid>
    <description>
    <![CDATA[ 
    <a name="top"></a>
    <h2><a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/jyzhao/p/19479470/langchainlangflowlanggraph-yi-wen-jiang-qing-san-d" title="åå¸äº 2026-01-13 23:25">
    <span role="heading" aria-level="2">LangChainãLangFlowãLangGraphï¼ä¸æè®²æ¸ä¸å¤§ LLM æ¡æ¶çå®ä½ä¸å·®å¼</span>
    

</a>
</h2>
    <small>
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-13 23:25">2026-01-13 23:25</span>&nbsp;
<a href="https://www.cnblogs.com/jyzhao">AlfredZhao</a>&nbsp;
éè¯»(<span id="post_view_count">314</span>)&nbsp;
è¯è®º(<span id="post_comment_count">1</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19479470);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19479470', targetLink: 'https://www.cnblogs.com/jyzhao/p/19479470/langchainlangflowlanggraph-yi-wen-jiang-qing-san-d', title: 'LangChainãLangFlowãLangGraphï¼ä¸æè®²æ¸ä¸å¤§ LLM æ¡æ¶çå®ä½ä¸å·®å¼' })">ä¸¾æ¥</a>
</small>
    <div class="entry">
        <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>éçå¤§æ¨¡åï¼LLMï¼è¿å¥å·¥ç¨åè½å°é¶æ®µï¼<strong>âå¦ä½ææ¨¡ååæçæ­£å¯ç¨çåºç¨â</strong> æäºå¾å¤ä»ä¸èç»ä¸å¼çé®é¢ã<br>
å´ç»è¿ä¸ªç®æ ï¼ç¤¾åºééæ¸å½¢æäºä¸æ¹æççå¼æºæ¡æ¶ï¼å¶ä¸­è¢«è®¨è®ºæå¤çå°±æ¯ <strong>LangChainãLangFlowãLangGraph</strong>ã</p>
<p>å®ä»¬åå­ç¸ä¼¼ï¼ä½<strong>è§£å³çé®é¢å¹¶ä¸ç¸å</strong>ãæ¬æç¬èå°åºäºå®æ¹ææ¡£ä¸å¼æºå®è·µï¼ä»<strong>å®ä½ãè½åãä½¿ç¨åºæ¯åå·®å¼</strong>å ä¸ªè§åº¦ï¼å¸®ä½ ä¸æ¬¡æ§çæ¸ã</p>
<hr>
<h2 id="01--langchainllm-åºç¨çåºç¡è®¾æ½å±">01 | LangChainï¼LLM åºç¨çâåºç¡è®¾æ½å±â</h2>
<h3 id="-langchain-æ¯ä»ä¹">â  LangChain æ¯ä»ä¹ï¼</h3>
<p>LangChain æ¯ä¸ä¸ª<strong>ç¨äºæå»º LLM åºç¨çéç¨æ¡æ¶</strong>ï¼æ ¸å¿ç®æ åªæä¸å¥è¯ï¼</p>
<blockquote>
<p>æãå¤§æ¨¡å + å¤é¨å·¥å· + æ°æ®æº + Promptãç³»ç»åå°ç»ç»èµ·æ¥ã</p>
</blockquote>
<p>å®å¹¶ä¸æ¯ä¸ä¸ªâäº§åâï¼èæ¯ä¸å¥ <strong>å¼åèå¼åç»ä»¶åº</strong>ã</p>
<hr>
<h3 id="-langchain-è§£å³ä»ä¹é®é¢">â¡ LangChain è§£å³ä»ä¹é®é¢ï¼</h3>
<p>å¨æ²¡æ LangChain ä¹åï¼å¼åèéå¸¸éè¦èªå·±å¤çï¼</p>
<ul>
<li>Prompt æ¼æ¥</li>
<li>æ¨¡åè°ç¨</li>
<li>ä¸ä¸æç®¡ç</li>
<li>å·¥å·è°ç¨ï¼SQLãæç´¢ãAPIï¼</li>
<li>RAGï¼æ£ç´¢å¢å¼ºçæï¼</li>
</ul>
<p>LangChain æè¿äºæ½è±¡æäºæ åç»ä»¶ï¼ä¾å¦ï¼</p>
<ul>
<li>LLM / ChatModel</li>
<li>PromptTemplate</li>
<li>Chain</li>
<li>Tool / Agent</li>
<li>Memory</li>
</ul>
<hr>
<h3 id="-å¸ååºç¨åºæ¯">â¢ å¸ååºç¨åºæ¯</h3>
<ul>
<li>RAG é®ç­ç³»ç»</li>
<li>NL2SQL</li>
<li>AI å©æ / Copilot</li>
<li>å·¥å·å Agent</li>
</ul>
<p><strong>ä¸å¥è¯æ»ç»</strong>ï¼<br>
<strong>LangChain = å LLM åºç¨çâåç«¯å¼åæ¡æ¶â</strong></p>
<hr>
<h2 id="02--langflowlangchain-çå¯è§åä½ä»£ç å¥å£">02 | LangFlowï¼LangChain çå¯è§åâä½ä»£ç å¥å£â</h2>
<h3 id="-langflow-æ¯ä»ä¹">â  LangFlow æ¯ä»ä¹ï¼</h3>
<p>LangFlow æ¯ä¸ä¸ª <strong>åºäº LangChain çå¯è§åç¼æå·¥å·</strong>ã</p>
<p>ä½ å¯ä»¥çè§£ä¸ºï¼</p>
<blockquote>
<p>ç¨âææ½æµç¨å¾âçæ¹å¼æ¥æ­ LangChain åºç¨ã</p>
</blockquote>
<p>å®æ¬è´¨ä¸æ¯ï¼</p>
<ul>
<li>åç«¯å¯è§å</li>
<li>åç«¯ä»ç¶è¿è¡ LangChain é»è¾</li>
</ul>
<hr>
<h3 id="-langflow-çæ ¸å¿ä»·å¼">â¡ LangFlow çæ ¸å¿ä»·å¼</h3>
<p>LangFlow å¹¶æ²¡æå¼å¥æ°çæ¨¡åè½åï¼å®çä¼å¿å¨äºï¼</p>
<ul>
<li><strong>éä½å­¦ä¹ é¨æ§</strong></li>
<li>å¿«éååéªè¯</li>
<li>Prompt / Chain å¯è§åè°è¯</li>
</ul>
<p>å¯¹ä¸çæ Python æåæ¥è§¦ LLM çäººéå¸¸åå¥½ã</p>
<hr>
<h3 id="-å¸ååºç¨åºæ¯-1">â¢ å¸ååºç¨åºæ¯</h3>
<ul>
<li>äº§åç»ç / å¨è¯¢é¡¾é®å Demo</li>
<li>Prompt è°ä¼ä¸æµç¨éªè¯</li>
<li>æå­¦ä¸åäº«æ¼ç¤º</li>
<li>å°å PoC é¡¹ç®</li>
</ul>
<p><strong>ä¸å¥è¯æ»ç»</strong>ï¼<br>
<strong>LangFlow = LangChain çâå¯è§åæä½å°â</strong></p>
<hr>
<h2 id="03--langgraphä¸ºå¤æ-agent-èççç¶ææºæ¡æ¶">03 | LangGraphï¼ä¸ºå¤æ Agent èççâç¶ææºæ¡æ¶â</h2>
<h3 id="-langgraph-æ¯ä»ä¹">â  LangGraph æ¯ä»ä¹ï¼</h3>
<p>LangGraph æ¯ LangChain å®æ¹æ¨åºçä¸ä¸ª<strong>æ°æ¡æ¶</strong>ï¼ä¸é¨è§£å³ä¸ä¸ªé®é¢ï¼</p>
<blockquote>
<p>å½ Agent é»è¾åå¤æï¼Chain å·²ç»ä¸å¤ç¨äºï¼æä¹åï¼</p>
</blockquote>
<p>LangGraph å¼å¥çæ¯ï¼</p>
<ul>
<li><strong>Graphï¼å¾ï¼</strong></li>
<li><strong>Stateï¼ç¶æï¼</strong></li>
<li><strong>èç¹ + è¾¹ + å¾ªç¯</strong></li>
</ul>
<p>æ¬è´¨ä¸æ¯ï¼<br>
<strong>æ LLM Agent å½æä¸ä¸ªâæç¶æçå·¥ä½æµ/ç¶ææºâæ¥å»ºæ¨¡</strong>ã</p>
<hr>
<h3 id="-langgraph-ä¸ºä»ä¹åºç°">â¡ LangGraph ä¸ºä»ä¹åºç°ï¼</h3>
<p>å¨çå®é¡¹ç®ä¸­ï¼Agent å¾å¾éè¦ï¼</p>
<ul>
<li>å¤è½®å³ç­</li>
<li>æ¡ä»¶åæ¯</li>
<li>åé / éè¯</li>
<li>äººå·¥ä»å¥ï¼Human-in-the-loopï¼</li>
</ul>
<p>è¿äºç¨ä¼ ç» Chain éå¸¸å«æ­ï¼è LangGraph å¤©ç¶æ¯æï¼</p>
<ul>
<li>å¾ªç¯</li>
<li>åæ¯</li>
<li>å¹¶è¡</li>
<li>å¯æ¢å¤æ§è¡</li>
</ul>
<hr>
<h3 id="-å¸ååºç¨åºæ¯-2">â¢ å¸ååºç¨åºæ¯</h3>
<ul>
<li>å¤ Agent åä½ç³»ç»</li>
<li>å¤æä¸å¡æµç¨èªå¨å</li>
<li>é¿ä»»å¡ AI å©æ</li>
<li>éè¦âå¯æ§è¡ä¸ºâçæºè½ä½</li>
</ul>
<p><strong>ä¸å¥è¯æ»ç»</strong>ï¼<br>
<strong>LangGraph = é¢åå¤æ Agent çâæµç¨ä¸ç¶ææ§å¶å±â</strong></p>
<hr>
<h2 id="04--ä¸èæ ¸å¿å·®å¼ä¸å¾è¯»æ">04 | ä¸èæ ¸å¿å·®å¼ä¸å¾è¯»æ</h2>
<table>
<thead>
<tr>
<th>ç»´åº¦</th>
<th>LangChain</th>
<th>LangFlow</th>
<th>LangGraph</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ ¸å¿å®ä½</td>
<td>LLM åºç¨æ¡æ¶</td>
<td>å¯è§åç¼æå·¥å·</td>
<td>Agent ç¶ææºæ¡æ¶</td>
</tr>
<tr>
<td>æ½è±¡æ¨¡å</td>
<td>Chain / Agent</td>
<td>Flow</td>
<td>Graph / State</td>
</tr>
<tr>
<td>ä½¿ç¨æ¹å¼</td>
<td>åä»£ç </td>
<td>ææµç¨</td>
<td>åå¾ç»æä»£ç </td>
</tr>
<tr>
<td>éåäººç¾¤</td>
<td>å·¥ç¨å¸</td>
<td>åå­¦è / äº§å</td>
<td>é«çº§å·¥ç¨å¸</td>
</tr>
<tr>
<td>å¤æé»è¾</td>
<td>ä¸è¬</td>
<td>ä¸è¬</td>
<td>éå¸¸å¼º</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="05--åºè¯¥å¦ä½éæ©">05 | åºè¯¥å¦ä½éæ©ï¼</h2>
<p>ç¬èç»ä½ ä¸ä¸ª<strong>ä¸è¸©åçéæ©å»ºè®®</strong>ï¼</p>
<ul>
<li><strong>æ³ç³»ç»å LLM åºç¨</strong> â åå­¦ <strong>LangChain</strong></li>
<li><strong>æ³å¿«éåº Demo / å­¦æ¦å¿µ</strong> â ç¨ <strong>LangFlow</strong></li>
<li><strong>Agent é»è¾å¼å§åå¤æ</strong> â ä¸ <strong>LangGraph</strong></li>
</ul>
<p>ç°å®é¡¹ç®ä¸­ï¼<strong>ä¸èæ¯å¯ä»¥ç»åä½¿ç¨ç</strong>ï¼</p>
<blockquote>
<p>LangFlow ç»æµç¨ â LangChain è½ä»£ç  â LangGraph æ§å¤ææ§å¶</p>
</blockquote>
<hr>
<h2 id="06--åå¨æå">06 | åå¨æå</h2>
<p>LangChain çæçæ¼è¿ï¼æ¬è´¨ä¸åæ äºä¸ä»¶äºï¼</p>
<blockquote>
<p>LLM åºç¨ï¼æ­£å¨ä»âPrompt å·¥ç¨âï¼èµ°åçæ­£çè½¯ä»¶å·¥ç¨ã</p>
</blockquote>
<p>çè§£è¿ä¸èçè¾¹çï¼æ¯æ­»è®° API æ´éè¦ã<br>
å¦æä½ æ­£å¨å <strong>RAGãNL2SQLãAI Agent</strong>ï¼è¿å¥è®¤ç¥å ä¹æ¯ç»ä¸å¼çåºç¡ã</p>
<p>å¸æè¿ç¯æç« ï¼è½å¸®ä½ å°èµ°ä¸äºå¼¯è·¯ã</p>

</div>
<div id="MySignature" role="contentinfo">
    <a href="https://www.cnblogs.com/jyzhao/" target="_blank">AlfredZhao</a>Â©çæææãä»Oracleèµ·èªï¼é¢ç¥ç²¾å½©çITææ¯ãã<br>
è½¬è½½è¯·æ³¨æåæé¾æ¥ï¼<a href="https://www.cnblogs.com/jyzhao/p/19479470/langchainlangflowlanggraph-yi-wen-jiang-qing-san-d" target="_blank">https://www.cnblogs.com/jyzhao/p/19479470/langchainlangflowlanggraph-yi-wen-jiang-qing-san-d</a>
<hr>
<div style="text-align:center; margin-top:30px;">
  <p style="font-size:14px;color:#555;">
    ð æè°¢éè¯»ï¼æ¬¢è¿å³æ³¨æçå¬ä¼å· <b>ãèµµéå®ã</b>
  </p>
  <img src="https://images.cnblogs.com/cnblogs_com/jyzhao/824234/o_250208075013_qrcode-zjy.jpg" width="160" style="border:1px solid #ddd;border-radius:8px;">
</div>
</div>
<div class="clear"></div>

        <div class="clear"></div>
        
</div>
    <ul class="postmetadata">
        <vc:categories-tags blog-app="jyzhao" blog-id="186567" post-id="19479470"></vc:categories-tags>
    </ul>
 ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨äºï¼èªç¶è¯­è¨å¤ç  ç¬¬ä¸å¨ï¼å¾ªç¯ç¥ç»ç½ç» ï¼ä¸ï¼åå RNN ä¸æ·±å± RNN ]]></title>
    <link>https://www.cnblogs.com/Goblinscholar/p/19479253</link>
    <guid>837c20fdbd1f629c1bd95d615a2a784e</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/Goblinscholar/p/19479253" title="åå¸äº 2026-01-13 22:37">
    <span role="heading" aria-level="2">å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨äºï¼èªç¶è¯­è¨å¤ç  ç¬¬ä¸å¨ï¼å¾ªç¯ç¥ç»ç½ç» ï¼ä¸ï¼åå RNN ä¸æ·±å± RNN</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>æ­¤åç±»ç¨äºè®°å½å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨çå­¦ä¹ ç¬è®°ã<br>
è¯¾ç¨ç¸å³ä¿¡æ¯é¾æ¥å¦ä¸ï¼</p>
<ol>
<li>åè¯¾ç¨è§é¢é¾æ¥ï¼<a href="https://www.bilibili.com/video/BV1FT4y1E74V?buvid=XU762317353676D786954061C192FE625463B&amp;from_spmid=playlist.playlist-detail.0.0&amp;is_story_h5=false&amp;mid=zqernykrmpf7XfIorMR%2FnA%3D%3D&amp;plat_id=116&amp;share_from=ugc&amp;share_medium=android&amp;share_plat=android&amp;share_session_id=ce0bc526-db69-428a-962e-c65ed8c267bc&amp;share_source=COPY&amp;share_tag=s_i&amp;spmid=united.player-video-detail.0.0&amp;timestamp=1713085655&amp;unique_k=DfBgvFW&amp;up_id=8654113&amp;vd_source=e035e9878d32f414b4354b839a4c31a4" target="_blank" rel="noopener nofollow">[åè¯­å­å¹]å´æ©è¾¾æ·±åº¦å­¦ä¹ deeplearning.ai</a></li>
<li>githubè¯¾ç¨èµæï¼å«è¯¾ä»¶ä¸ç¬è®°:<a href="https://github.com/robbertliu/deeplearning.ai-andrewNG" target="_blank" rel="noopener nofollow">å´æ©è¾¾æ·±åº¦å­¦ä¹ æå­¦èµæ</a></li>
<li>è¯¾ç¨éå¥ç»ä¹ ï¼ä¸­è±ï¼ä¸ç­æ¡ï¼<a href="https://blog.csdn.net/u013733326/article/details/79827273" target="_blank" rel="noopener nofollow">å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾åä¹ é¢ä¸ç­æ¡</a></li>
</ol>
<p>æ¬ç¯ä¸ºç¬¬äºè¯¾çç¬¬ä¸å¨åå®¹ï¼<a href="https://www.bilibili.com/video/BV1FT4y1E74V?spm_id_from=333.788.videopod.episodes&amp;vd_source=e035e9878d32f414b4354b839a4c31a4&amp;p=161" target="_blank" rel="noopener nofollow">1.11</a>å°<a href="https://www.bilibili.com/video/BV1FT4y1E74V?spm_id_from=333.788.videopod.episodes&amp;vd_source=e035e9878d32f414b4354b839a4c31a4&amp;p=162" target="_blank" rel="noopener nofollow">1.12</a>çåå®¹ï¼åæ¶ä¹æ¯æ¬å¨çè®ºé¨åçæåä¸ç¯ã</p>
<hr>
<p>æ¬å¨ä¸ºç¬¬äºè¯¾çç¬¬ä¸å¨åå®¹ï¼ä¸ CV ç¸å¯¹åºçï¼è¿ä¸è¯¾ææåå®¹çä¸­å¿åªæä¸ä¸ªï¼<strong>èªç¶è¯­è¨å¤çï¼Natural Language Processingï¼NLPï¼</strong>ã<br>
åºç¨å¨æ·±åº¦å­¦ä¹ éï¼å®æ¯ä¸é¨ç¨æ¥è¿è¡<strong>ææ¬ä¸åºåä¿¡æ¯å»ºæ¨¡</strong>çæ¨¡ååææ¯ï¼æ¬è´¨ä¸æ¯å¨å¨è¿æ¥ç½ç»ä¸ç»è®¡è¯­è¨æ¨¡ååºç¡ä¸çä¸æ¬¡âç»æåç¹åâï¼ä¹æ¯äººå·¥æºè½ä¸­<strong>æè´´è¿äººç±»æç»´è¡¨è¾¾æ¹å¼</strong>çéè¦ç ç©¶æ¹åä¹ä¸ã<br>
<strong>è¿ä¸æ´èè¯¾åæ ·æ¶åå¤§ééè¦åå¤æ¶åçåå®¹ï¼æ¨ªè·¨æºå¨å­¦ä¹ ãæ¦çç»è®¡ãçº¿æ§ä»£æ°ä»¥åè¯­è¨å­¦ç´è§ã</strong><br>
è¯­è¨ä¸åå¾åé£æ ·âç´è§å¯è§âï¼æ´å¤æ¯æ½è±¡ç¬¦å·ä¸ä¸ä¸æå³ç³»çç»åï¼å æ­¤<strong>çè§£é¨æ§åèæ´é«</strong>ã<br>
å æ­¤ï¼æåæ ·ä¼å°½éè¡¥è¶³å¿è¦çèæ¯ç¥è¯ï¼å°½å¯è½ç¨æ¯å»åå®ä¾éä½çè§£é¾åº¦ã<br>
æ¬ç¯çåå®¹å³äº<strong>åå RNN ä¸æ·±å± RNN</strong>ï¼æ¯å¯¹åºç¡ RNN ç»æçä¸äºè¡¥åã</p>
<h1 id="1-åå-rnnbidirectional-rnn">1. åå RNNï¼Bidirectional RNNï¼</h1>
<p>å¨åé¢å¯¹ <strong><a href="https://www.cnblogs.com/Goblinscholar/p/19449622" target="_blank">RNN</a>ã<a href="https://www.cnblogs.com/Goblinscholar/p/19463351" target="_blank">GRU</a> ä¸ <a href="https://www.cnblogs.com/Goblinscholar/p/19474433" target="_blank">LSTM</a></strong> çè®¨è®ºä¸­ï¼æä»¬å§ç»é»è®¤äºä¸ä¸ªåæï¼<strong>åºååªè½æ²¿æ¶é´è½´ååå±å¼ï¼æ¨¡åå¨å½åæ¶å»åªè½å©ç¨å·²ç»åºç°çåå²ä¿¡æ¯ã</strong></p>
<p>è¿ç§è®¾å®å¨ä¸äºç®åä»»å¡ä¸­æ¯åççï¼ä½å¨å¤§é<strong>åºåçè§£ä¸æ æ³¨ä»»å¡</strong>ä¸­ï¼å´éèçä¸ä¸ªç»ææ§éå¶ï¼  <strong>å½åæ¶å»çè¯­ä¹æç¶æï¼å¾å¾åæ¶ä¾èµäºè¿å»åæªæ¥çä¸ä¸æä¿¡æ¯ã</strong><br>
ä¸¾ä¸ªè¯¾ç¨éçä¾å­ï¼<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260113211513804-150472822.png" alt="image.png" loading="lazy"><br>
äºæ¯ï¼é®é¢åºç°äºï¼<strong>å¦ææªæ¥ä¿¡æ¯ææ¯å¤å®å½åç¶æçéè¦ä¾æ®ï¼è¯¥æä¹åï¼</strong></p>
<p>æ­£æ¯å¨è¿æ ·çèæ¯ä¸ï¼<strong>åå RNNï¼Bidirectional Recurrent Neural Networksï¼</strong> è¢«æåºã<br>
æ©å¨ <strong>1997 å¹´</strong>ï¼<strong><a href="https://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&amp;arnumber=650093" target="_blank" rel="noopener nofollow">Bidirectional Recurrent Neural Networks</a></strong> è¿ç¯è®ºæä¸­å°±æåºï¼å¯¹äºåºåæ æ³¨ä¸æ´ä½çè§£ä»»å¡ï¼ä»ä¾èµè¿å»ä¸ä¸æä¼é æä¿¡æ¯å©ç¨ä¸çåå¤©ä¸è¶³ï¼å æ­¤æå¿è¦å¨æ¨¡åç»æå±é¢<strong>åæ¶å»ºæ¨¡æ­£åä¸ååçæ¶é´ä¾èµå³ç³»</strong>ã</p>
<p>éè¦å¼ºè°çæ¯ï¼åå RNN å¹¶ä¸æ¯ä¸ç§æ°çå¾ªç¯ååè®¾è®¡ã<br>
å®å¹¶ä¸æ¹å RNNãLSTM æ GRU åé¨çè®¡ç®å½¢å¼ï¼èæ¯éè¿å¨æ¶é´ç»´åº¦ä¸å¼å¥<strong>ååä¸ååä¸¤æ¡ç¬ç«çç¶æä¼ æ­é¾è·¯</strong>ï¼ä½¿æ¨¡åå¨æ¯ä¸ä¸ªæ¶é´æ­¥é½è½å¤èå<strong>åå²ä¸æªæ¥çä¸ä¸æä¿¡æ¯</strong>ã</p>
<p>ä¹æ­£å ä¸ºè¿ç§âç»æç¬ç«äºååâçç¹æ§ï¼åå RNN å¯ä»¥èªç¶å°ä¸ LSTMãGRU ç»åï¼å½¢æ <strong>Bi-LSTMãBi-GRU</strong>ï¼æä¸ºæåä¸ä¸æå»ºæ¨¡è½åçæ åéç½®ã</p>
<p>å®çå®ç°é»è¾å¹¶ä¸å¤æï¼è¿éå¼ç¨ä¸å¼ æ¯è¾æ¸æ°ææçä¼ æ­å¾ï¼ï¼<a href="https://medium.com/@fraidoonomarzai99/bidirectional-rnn-in-depth-1efd32c3cf46" target="_blank" rel="noopener nofollow">åºå¤</a>ï¼<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260113211514563-1603287401.png" alt="image.png" loading="lazy"><br>
è¿æ ·ï¼ä½ å°±ä¼åç°ï¼åä¸åºåè¢« <strong>æ­£åï¼èè²ï¼</strong> å <strong>ååï¼ç»¿è²ï¼</strong> ä¸¤æ¡ RNN åæ¶å»ºæ¨¡ï¼æ¯ä¸ªæ¶é´æ­¥ <span class="math inline">\(t\)</span> é½è½âçå°âæ­£åçåå²ä¸ä¸æåååçæªæ¥ä¸ä¸æï¼æç»è¾åº <span class="math inline">\(\hat y^{\langle t\rangle}\)</span> ç±ä¸¤ä¸ªæ¹åçä¿¡æ¯å±åå³å®ã</p>
<p></p><div class="math display">\[h^{(t)}
=
\operatorname{concat}\!\left(
\overrightarrow{{h}^{(t)}},
\overleftarrow{{h}^{(t)}}
\right)
\quad \text{or} \quad
\overrightarrow{{h}^{(t)}} + \overleftarrow{{h}^{(t)}}
\]</div><p></p><p>å¨å®è·µä¸­ï¼åå RNN æ´å¸¸éç¨<strong>æ¼æ¥æ¹å¼</strong>ä¿çæ¥èªä¸¤ä¸ªæ¶é´æ¹åçå®æ´ä¿¡æ¯ï¼è<strong>éåç´ ç¸å </strong>åæ¯ä¸ç§æ´ç´§åãä½è¡¨è¾¾è½ååéçæä¸­éæ©ã</p>
<p>æåï¼åæä¸ªæ¯æ¹ï¼æåºåæ¯ä½ä¸åº§<strong>è¦å»ºçæ¡¥</strong>ï¼åå RNN å°±åæ¯ä¸¤éå·¥äººä»ä¸¤ä¾§åæ¶æ½å·¥å¹¶ä¸æ­äº¤æµè¿åº¦ï¼ç¡®ä¿ç²¾åï¼ä½åæ¶ï¼æ½å·¥éä¼ç¿»åï¼æ´ä½ææ¬ä¹éä¹ä¸åã<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260113211553645-1826290875.png" alt="image.png" loading="lazy"></p>
<h1 id="2-æ·±å±-rnn">2. æ·±å± RNN</h1>
<p>æ·±å± RNN çæ¦å¿µåæ ·ä¸é¾çè§£ã<br>
å¨æå¼å§å¼å¥ <strong><a href="https://www.cnblogs.com/Goblinscholar/p/19449622" target="_blank">å¾ªç¯ç¥ç»ç½ç»</a></strong> æ¶ï¼æä»¬è¯´æè¿ï¼é»è®¤ä½¿ç¨<strong>åå± RNN</strong> æ¥è¿è¡æ¼ç¤ºï¼<br>
å¨æ¯ä¸ä¸ªæ¶é´æ­¥ <span class="math inline">\(t\)</span>ï¼è¾å¥ <span class="math inline">\(x^{(t)}\)</span> ç»è¿ä¸æ¬¡å¾ªç¯è®¡ç®ï¼å¾å°å¯¹åºçéèç¶æ <span class="math inline">\(a^{(t)}\)</span>ï¼å¹¶æ²¿æ¶é´è½´ä¸æ­ä¼ éã</p>
<p>ä½ä»æ¨¡åè¡¨è¾¾è½åçè§åº¦æ¥çï¼è¿ç§ç»æå­å¨éå¶ï¼<strong>æ¯ä¸ªæ¶é´æ­¥åé¨ï¼åªè¿è¡äºä¸æ¬¡éçº¿æ§åæ¢ã</strong><br>
è¿æå³çï¼æ è®ºåºåæ¬èº«æå¤å¤æï¼å¨âåä¸æ¶å»âå¯¹è¾å¥ä¿¡æ¯çå¤çæ·±åº¦é½æ¯æéçã<br>
å°è¿éï¼å°±åä¹åçå¨è¿æ¥ãå·ç§¯ç½ç»ç¸éäºï¼<br>
<strong>å¦ææä»¬å¸ææ¨¡åå¨æ¯ä¸ä¸ªæ¶é´æ­¥ä¸ï¼ä¹å·å¤ç±»ä¼¼æ·±åº¦åé¦ç½ç»ãå·ç§¯ç½ç»é£æ ·çå±çº§è¡¨è¾¾è½åï¼è¯¥æä¹åï¼</strong><br>
ç­æ¡èªç¶å°±æ¯ï¼<strong>å¨æ¶é´ç»´åº¦ä¹å¤ï¼åå¼å¥å±çº§ç»´åº¦ã</strong></p>
<p>å¨æ·±å± RNN ä¸­ï¼å¾ªç¯ç»æä¸ååªæä¸å±ï¼èæ¯<strong>å¨åä¸æ¶é´æ­¥ä¸å å å¤å± RNN åå</strong>ã<br>
å®çä¼ æ­å¾æ¯è¿æ ·çï¼<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260113211513339-2004923823.png" alt="image.png" loading="lazy"><br>
å³äºæ·±åº¦çé»è¾åä¹åé½æ¯ç¸åçï¼æ·±å± RNN éè¿å¨åä¸æ¶é´æ­¥ä¸çå å ï¼è®©æ¨¡åå¯ä»¥è¿è¡æ´å¤æçéçº¿æ§åæ¢ï¼<strong>å¢å¼ºäºå¶è¡¨è¾¾è½å</strong>ãä½åæ ·ä¹ä¼å¢å è®¡ç®ææ¬ï¼<strong>å¸¦æ¥æ¢¯åº¦é®é¢ä¸è¿æåé£é©</strong>ï¼è¿äºé½æ¯æä»¬çèçå¸¸è°äºã</p>
<p>äºæ­¤åæ¶ï¼ååå RNN ç±»ä¼¼ï¼<strong>æ·±å±ç»æåæ ·ç¬ç«äºå·ä½çå¾ªç¯ååè®¾è®¡</strong>ã  èä¸å¨å·¥ç¨å®è·µä¸­ï¼<strong>æ·±åº¦ãæ¹åæ§åé¨æ§æºå¶å¾å¾æ¯å¯ä»¥åæ¶å å ç</strong>ï¼ä¾å¦ï¼</p>
<ul>
<li>å¤å± Bi-LSTM</li>
<li>å¤å± Bi-GRU</li>
</ul>
<p>æä»¬æåä¸ªç»ä»¶ç»åæåæ°ï¼ä¾¿å½¢æäºæ·±åº¦å­¦ä¹  NLP ä¸­çº·ç¹å¤æçè¯¸å¤æ¨¡åã</p>
<p>æåï¼å¦æç»§ç»­æ²¿ç¨åé¢çæ¯å»ï¼<br>
<strong>åå RNN</strong> åæ¯ä»æ¡¥çä¸¤ç«¯åæ¶æ½å·¥ã<br>
é£ä¹ <strong>æ·±å± RNN</strong> æ´åæ¯ï¼ æ¯ä¸ä¸ªæ½å·¥ç¹ä¸ï¼ä¸åªæ¯éºä¸å±è·¯é¢ï¼èæ¯<strong>ä¸å±å±æå°åºãå ç»æãåéºè¡¨å±ã</strong> è¿æ ·ç»ææ´ç¨³ãè¡¨è¾¾æ´å¼ºï¼ä½æ½å·¥æµç¨æ´å¤æï¼ææ¬åè®­ç»é¾åº¦ä¹éä¹ä¸åã<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260113211517590-653078512.png" alt="image.png" loading="lazy"></p>
<h1 id="3æ»ç»">3.æ»ç»</h1>
<table>
<thead>
<tr>
<th>æ¦å¿µ</th>
<th>åç</th>
<th>æ¯å»</th>
</tr>
</thead>
<tbody>
<tr>
<td>åå RNNï¼Bidirectional RNNï¼</td>
<td>å¨æ¶é´ç»´åº¦ä¸å¼å¥<strong>æ­£ååååä¸¤æ¡ç¬ç«ç¶æé¾è·¯</strong>ï¼æ¯ä¸ªæ¶é´æ­¥åæ¶å©ç¨è¿å»åæªæ¥ä¸ä¸æä¿¡æ¯ãéç¨äºåºåæ æ³¨ä¸æ´ä½çè§£ä»»å¡ãå¯ä»¥ä¸ RNN/LSTM/GRU ç»åï¼å½¢æ Bi-RNNãBi-LSTMãBi-GRUã</td>
<td>åºåæ¯ä½æ¡¥ï¼ä¸¤éå·¥äººä»ä¸¤ç«¯åæ¶æ½å·¥å¹¶äº¤æµè¿åº¦ï¼ç¡®ä¿ç²¾åï¼ä½æ½å·¥éä¼ç¿»åï¼ææ¬å¢å ã</td>
</tr>
<tr>
<td>æ·±å± RNNï¼Deep RNNï¼</td>
<td>å¨åä¸æ¶é´æ­¥ä¸<strong>å å å¤å± RNN åå</strong>ï¼å¢å æ¯ä¸ªæ¶é´æ­¥åé¨çéçº¿æ§è¡¨è¾¾è½åï¼ä»èå¢å¼ºæ¨¡åçè¡¨ç¤ºè½åãå¯ä¸é¨æ§æºå¶åååç»æå å ï¼å½¢æå¤å± Bi-LSTMãBi-GRU ç­ã</td>
<td>æ¯ä¸ªæ½å·¥ç¹ä¸ä¸æ¯åªéºä¸å±è·¯é¢ï¼èæ¯<strong>ä¸å±å±æå°åºãå ç»æãåéºè¡¨å±</strong>ï¼ç»ææ´ç¨³ãè¡¨è¾¾æ´å¼ºï¼ä½æ½å·¥æµç¨å¤æï¼ææ¬åè®­ç»é¾åº¦å¢å ã</td>
</tr>
</tbody>
</table>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-13 22:37">2026-01-13 22:37</span>&nbsp;
<a href="https://www.cnblogs.com/Goblinscholar">å¥å¸æå­¦è</a>&nbsp;
éè¯»(<span id="post_view_count">86</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19479253);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19479253', targetLink: 'https://www.cnblogs.com/Goblinscholar/p/19479253', title: 'å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨äºï¼èªç¶è¯­è¨å¤ç  ç¬¬ä¸å¨ï¼å¾ªç¯ç¥ç»ç½ç» ï¼ä¸ï¼åå RNN ä¸æ·±å± RNN' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
        </channel>
        </rss>