<?xml version="1.0" encoding="UTF-8" ?>
    <rss version="2.0">
    <channel>
        <title><![CDATA[ ä¸»é¡µ - åå®¢å­ ]]></title>
        <link><![CDATA[ https://www.cnblogs.com/ ]]></link>
        <lastBuildDate>2026-01-19T16:24:34.588Z</lastBuildDate>
        <description><![CDATA[
        ä¸»é¡µ - åå®¢å­ RSS
    ]]></description>
        <language>zh-cn</language>
        <item>
    <title><![CDATA[ unityæ§è½ä¼å-å®éå¼åä¸­éè¦æ³¨æçç¹ ]]></title>
    <link>https://www.cnblogs.com/pipicfan/p/19503936</link>
    <guid>6a1ed8bf94a8c71916718dc35bfc0126</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/pipicfan/p/19503936" title="åå¸äº 2026-01-19 22:55">
    <span role="heading" aria-level="2">unityæ§è½ä¼å-å®éå¼åä¸­éè¦æ³¨æçç¹</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p><strong>unityæ§è½ä¼å-å®éå¼åä¸­éè¦æ³¨æçç¹</strong></p>
<p><a id="heading_0"></a><strong>æ§è½ä¼åå»ºè®®</strong></p>
<p>å¨è¿è¡ä¸é¢ä¼åä¹åï¼å»ºè®®åä½¿ç¨ <strong>Unity Profiler</strong> å®ä½çå®çç¶é¢ã</p>
<p><strong>ä¼åæ ¸å¿ååï¼</strong></p>
<p><strong>è½ç¼å­çå°±ç¼å­</strong>ï¼åéãç»ä»¶ãæè´¨ï¼ã</p>
<p><strong>è½ä¸æ´æ°å°±ä¸æ´æ°</strong>ï¼éä½ update é¢çï¼ä½¿ç¨äºä»¶é©±å¨æCoroutineï¼ã</p>
<p><strong>é¿åå¨å¾ªç¯ä¸­åéåå­</strong>ï¼åå° new å³é®å­ï¼ä½¿ç¨å¯¹è±¡æ± ï¼ã</p>
<p><a id="heading_1"></a><strong>1.å¤ææ°å­¦è®¡ç®ï¼æ¯å¦meshé¡¶ç¹æ°æ®çåå»ºï¼å¤§å°åå½ä¸åå±æ§é½éå¸¸èè´¹ CPUï¼é½æ¶åè®¡ç®å¹³æ¹æ ¹ï¼</strong></p>
<p>å¯ä»¥ä½¿ç¨å¯¹è±¡æ± æ¥ç©ºé´æ¢æ¶é´å¤çï¼æ¶åå¼æ ¹å·çç¨å¹³æ¹æ¯è¾</p>
<p><img src="https://img2024.cnblogs.com/blog/357310/202601/357310-20260119225507554-1515541958.png"></p>
<p><a id="heading_2"></a><strong>2.shaderçåæ¹å¤ç</strong></p>
<p><img src="https://img2024.cnblogs.com/blog/357310/202601/357310-20260119230139424-582581237.png"></p>
<p><img src="https://img2024.cnblogs.com/blog/357310/202601/357310-20260119230139503-1658596290.png"></p>
<p><a id="heading_3"></a><strong>3.ä¸äºListï¼Vectorä¸è¦ç¨éåï¼èæ¯æå®å®çå¤§å°</strong></p>
<p><img src="https://img2024.cnblogs.com/blog/357310/202601/357310-20260119230139380-946016432.png"></p>
<p><a id="heading_4"></a><strong>4.ä¸è¦åupdateéé¢å»å¤§éè°ç¨Componentï¼æ°æå®¹æå¿½ç¥éè¦ï¼</strong></p>
<p><img src="https://img2024.cnblogs.com/blog/357310/202601/357310-20260119225506870-1113031628.png"></p>
<p><a id="heading_5"></a><strong>5.ä¼åå­ç¬¦ä¸²å¯¹æ¯</strong></p>
<p><img src="https://img2024.cnblogs.com/blog/357310/202601/357310-20260119230139483-820107562.png"></p>
<p><img src="https://img2024.cnblogs.com/blog/357310/202601/357310-20260119230139441-648476313.png"></p>
<p><a id="heading_6"></a><strong>6.å¸¸éçå­ç¬¦ä¸²åæç±»çæååé</strong></p>
<p><img src="https://img2024.cnblogs.com/blog/357310/202601/357310-20260119225506734-1746349249.png"></p>
<p><a id="heading_7"></a><strong>7.è£åªå¼æï¼å»æé³é¢</strong></p>
<p><img src="https://img2024.cnblogs.com/blog/357310/202601/357310-20260119225507500-1539839110.png"></p>
<p><a id="heading_8"></a><strong>8.è£åªå¼æï¼å»æç©çï¼æ³¨ææ­¤æ¶åæ¬åå´çé½ä¸è½ä½¿ç¨</strong></p>
<p><img src="https://img2024.cnblogs.com/blog/357310/202601/357310-20260119230139347-1887459637.png"></p>
<p><a id="heading_9"></a><strong>9.åºå®å¸§çï¼åå°å¸§ç</strong></p>
<p><img src="https://img2024.cnblogs.com/blog/357310/202601/357310-20260119230139518-121341222.png"></p>
<p><a id="heading_10"></a><strong>10.é¿åä½¿ç¨æç®±è£ç®±</strong></p>
<p>å¨C#ä¸­ï¼è£ç®±ï¼Boxingï¼åæç®±ï¼Unboxingï¼æ¯æå¼ç±»åä¸å¼ç¨ç±»åä¹é´çè½¬æ¢ãè£ç®±æ¯å°å¼ç±»åè½¬æ¢ä¸ºå¯¹è±¡ç±»åï¼éå¸¸æ¯å°å¼ç±»ååè£å¨å ä¸ï¼ï¼èæç®±åæ¯ä»å¯¹è±¡ç±»åè¿åä¸ºå¼ç±»åã</p>
<p><a id="heading_11"></a><strong>è£ç®±ï¼Boxingï¼å¼é</strong></p>
<p><strong>åå­åé</strong>ï¼</p>
<p>è£ç®±è¿ç¨ä¸­ï¼ä¼å¨å ä¸åéåå­æ¥å­å¨å¼ç±»åçæ°æ®ãå åå­çåééå¸¸æ¯æ åå­çåéæ¢ï¼å ä¸ºå åå­éè¦å¤çåå¾åæ¶ï¼Garbage Collectionï¼ï¼èä¸å åå­åéæ¶åæ´å¤çç®¡çæä½ã</p>
<p><strong>æ°æ®å¤å¶</strong>ï¼</p>
<p>è£ç®±éè¦å°å¼ç±»åçæ°æ®ä»æ ä¸å¤å¶å°æ°åéçå å¯¹è±¡ä¸­ãè¿æ¶åå°æ°æ®çå¤å¶æä½ï¼å¢å äºé¢å¤çå¼éã</p>
<p><strong>åå¾åæ¶</strong>ï¼</p>
<p>è£ç®±äº§ççå å¯¹è±¡æç»ä¼ç±åå¾åæ¶å¨ï¼GCï¼åæ¶ãåå¾åæ¶æ¯ä¸ä¸ªèæ¶çè¿ç¨ï¼ä¼å½±ååºç¨ç¨åºçæ§è½ã</p>
<p><a id="heading_12"></a><strong>æç®±ï¼Unboxingï¼å¼é</strong></p>
<p><strong>ç±»åæ£æ¥</strong>ï¼</p>
<p>æç®±è¿ç¨ä¸­ï¼éè¦è¿è¡ç±»åæ£æ¥ï¼ä»¥ç¡®ä¿å¯¹è±¡ç¡®å®æ¯é¢æçå¼ç±»åãè¿æ¶åå°è¿è¡æ¶çç±»ååæ°æ®è®¿é®åæ£æ¥ï¼å¢å äºå¼éã</p>
<p><strong>æ°æ®å¤å¶</strong>ï¼</p>
<p>æç®±éè¦å°å ä¸çæ°æ®å¤å¶åæ ä¸ãè¿åæ ·æ¶åæ°æ®çå¤å¶æä½ï¼å¸¦æ¥äºé¢å¤çæ§è½å¼éã</p>
<p><a id="heading_13"></a><strong>é¿åè£ç®±åæç®±çæ¹æ³</strong></p>
<p><strong>ä½¿ç¨æ³å</strong>ï¼æ³åå¯ä»¥åå°è£ç®±åæç®±çéè¦ï¼å ä¸ºæ³åå¯ä»¥å¨ç¼è¯æ¶ç¡®å®ç±»åï¼èä¸éè¦å¨è¿è¡æ¶è¿è¡ç±»åè½¬æ¢ï¼ä½æ¯æ³åå¸¦æ¥å¦ä¸ä¸ªé®é¢ï¼å³è½¬æ¢ä¸ºil2cppçæ¶åï¼ä»£ç ä¼è¨èï¼è¿ä¸ªåé¢å¯ä»¥åè¯´</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> ä½¿ç¨æ³åé¿åè£ç®±åæç®±</span>
List&lt;intnumbers = <span style="color: rgba(0, 0, 255, 1)">new</span> List&lt;<span style="color: rgba(0, 0, 255, 1)">int</span><span style="color: rgba(0, 0, 0, 1)">();
numbers.Add(</span><span style="color: rgba(128, 0, 128, 1)">42</span><span style="color: rgba(0, 0, 0, 1)">);
</span><span style="color: rgba(0, 0, 255, 1)">int</span> number = numbers[<span style="color: rgba(128, 0, 128, 1)">0</span>];</pre>
</div>
<p>&nbsp;</p>
<br>
<p><strong>é¿åé¢ç¹çå¼ç±»åå°å¼ç¨ç±»åçè½¬æ¢</strong>ï¼å¨è®¾è®¡ç¨åºæ¶ï¼å°½éåå°å¼ç±»åä¸å¼ç¨ç±»åä¹é´çè½¬æ¢ãå¦æå¯è½ï¼å°½éä½¿ç¨å¼ç±»åæ¬èº«æ¥è¿è¡è®¡ç®åå¤çã</p>
<p><strong>ä½¿ç¨structèä¸æ¯ç±»</strong>ï¼å¨æäºæåµä¸ï¼å¯ä»¥ä½¿ç¨structæ¥ä»£æ¿ç±»ï¼å ä¸ºstructæ¯å¼ç±»åï¼ä¸éè¦è£ç®±åæç®±ã</p>
<p><strong>é¿åæ¥å£è°ç¨</strong>ï¼æ¥å£è°ç¨éå¸¸éè¦è£ç®±ï¼ç¹å«æ¯å¨æ¥å£æ¥åå¼ç±»ååæ°æ¶ãå°½éé¿åå¨æ¥å£æ¹æ³ä¸­ä½¿ç¨å¼ç±»ååæ°</p>
<p><a id="heading_14"></a><strong>11.GameObject.Instantiate  å SetParent</strong></p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 128, 128, 1)"> 1</span> <span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">class</span><span style="color: rgba(0, 0, 0, 1)"> ESDRoadEdgePool
</span><span style="color: rgba(0, 128, 128, 1)"> 2</span> <span style="color: rgba(0, 0, 0, 1)">{
</span><span style="color: rgba(0, 128, 128, 1)"> 3</span>     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">public int amountToPool = 100; </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æ± ä¸­å¯¹è±¡çæ°é </span>
<span style="color: rgba(0, 128, 128, 1)"> 4</span>     <span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">int</span> amountToPool = <span style="color: rgba(128, 0, 128, 1)">25</span><span style="color: rgba(0, 0, 0, 1)">;
</span><span style="color: rgba(0, 128, 128, 1)"> 5</span>     
<span style="color: rgba(0, 128, 128, 1)"> 6</span>     pooledObjects = <span style="color: rgba(0, 0, 255, 1)">new</span> List&lt;GameObject&gt;<span style="color: rgba(0, 0, 0, 1)">();
</span><span style="color: rgba(0, 128, 128, 1)"> 7</span> 
<span style="color: rgba(0, 128, 128, 1)"> 8</span>     <span style="color: rgba(0, 0, 255, 1)">for</span> (<span style="color: rgba(0, 0, 255, 1)">int</span> i = <span style="color: rgba(128, 0, 128, 1)">0</span>; i &lt; amountToPool; i++<span style="color: rgba(0, 0, 0, 1)">)
</span><span style="color: rgba(0, 128, 128, 1)"> 9</span> <span style="color: rgba(0, 0, 0, 1)">    {
</span><span style="color: rgba(0, 128, 128, 1)">10</span>         GameObject obj = Instantiate(objectToPool); <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> å®ä¾åå¯ä»¥ç¼©å</span>
<span style="color: rgba(0, 128, 128, 1)">11</span>         obj.SetActive(<span style="color: rgba(0, 0, 255, 1)">false</span>);                       <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> å¯ä»¥é¢åè®¾ç½®é¢å¶ä½çactiveSelf</span>
<span style="color: rgba(0, 128, 128, 1)">12</span>         obj.transform.parent = <span style="color: rgba(0, 0, 255, 1)">this</span>.transform;      <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> å¯ä»¥åå¹¶å°Instantiateä¸­</span>
<span style="color: rgba(0, 128, 128, 1)">13</span> <span style="color: rgba(0, 0, 0, 1)">        pooledObjects.Add(obj);
</span><span style="color: rgba(0, 128, 128, 1)">14</span>         
<span style="color: rgba(0, 128, 128, 1)">15</span>            
<span style="color: rgba(0, 128, 128, 1)">16</span>         GameObject obj =<span style="color: rgba(0, 0, 0, 1)"> Instantiate(objectToPool, transform);
</span><span style="color: rgba(0, 128, 128, 1)">17</span> <span style="color: rgba(0, 0, 0, 1)">        pooledObjects.Add(obj);
</span><span style="color: rgba(0, 128, 128, 1)">18</span> <span style="color: rgba(0, 0, 0, 1)">    }
</span><span style="color: rgba(0, 128, 128, 1)">19</span> }</pre>
</div>
<p>&nbsp;</p>
<p><a id="heading_15"></a><strong>12.åµå¥å¾ªç¯ä¸­new Vector3ç­</strong></p>
<div class="cnblogs_Highlighter">
<pre class="brush:csharp;gutter:true;">ã</pre>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 128, 128, 1)"> 1</span> <span style="color: rgba(0, 0, 255, 1)">for</span>(<span style="color: rgba(0, 0, 255, 1)">int</span> i = <span style="color: rgba(128, 0, 128, 1)">0</span>; i &lt; count; i++<span style="color: rgba(0, 0, 0, 1)">)
</span><span style="color: rgba(0, 128, 128, 1)"> 2</span> <span style="color: rgba(0, 0, 0, 1)">{
</span><span style="color: rgba(0, 128, 128, 1)"> 3</span> <span style="color: rgba(0, 0, 0, 1)">    ...
</span><span style="color: rgba(0, 128, 128, 1)"> 4</span>     Vector2 p1l_uv = <span style="color: rgba(0, 0, 255, 1)">new</span> Vector2(offest.x, uvStart /<span style="color: rgba(0, 0, 0, 1)"> 10f);
</span><span style="color: rgba(0, 128, 128, 1)"> 5</span>     Vector2 p1r_uv = <span style="color: rgba(0, 0, 255, 1)">new</span> Vector2(offest.y, uvStart /<span style="color: rgba(0, 0, 0, 1)"> 10f);
</span><span style="color: rgba(0, 128, 128, 1)"> 6</span>     Vector2 p2l_uv = <span style="color: rgba(0, 0, 255, 1)">new</span> Vector2(offest.x, (uvStart + distance) / <span style="color: rgba(128, 0, 128, 1)">10</span><span style="color: rgba(0, 0, 0, 1)">);
</span><span style="color: rgba(0, 128, 128, 1)"> 7</span>     Vector2 p2r_uv = <span style="color: rgba(0, 0, 255, 1)">new</span> Vector2(offest.y, (uvStart + distance) / <span style="color: rgba(128, 0, 128, 1)">10</span><span style="color: rgba(0, 0, 0, 1)">);
</span><span style="color: rgba(0, 128, 128, 1)"> 8</span> <span style="color: rgba(0, 0, 0, 1)">    ...
</span><span style="color: rgba(0, 128, 128, 1)"> 9</span> <span style="color: rgba(0, 0, 0, 1)">}
</span><span style="color: rgba(0, 128, 128, 1)">10</span> 
<span style="color: rgba(0, 128, 128, 1)">11</span> <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> å¯ä»¥å°å¯¹è±¡åå»ºæªå°å¾ªç¯å¤è¿è¡å¤ç¨</span>
<span style="color: rgba(0, 128, 128, 1)">12</span> 
<span style="color: rgba(0, 128, 128, 1)">13</span> Vector2 p1l_uv = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> Vector2();
</span><span style="color: rgba(0, 128, 128, 1)">14</span> Vector2 p1r_uv = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> Vector2();
</span><span style="color: rgba(0, 128, 128, 1)">15</span> Vector2 p2l_uv = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> Vector2();
</span><span style="color: rgba(0, 128, 128, 1)">16</span> Vector2 p2r_uv = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> Vector2();
</span><span style="color: rgba(0, 128, 128, 1)">17</span> 
<span style="color: rgba(0, 128, 128, 1)">18</span> <span style="color: rgba(0, 0, 255, 1)">for</span>(<span style="color: rgba(0, 0, 255, 1)">int</span> i = <span style="color: rgba(128, 0, 128, 1)">0</span>; i &lt; count; i++<span style="color: rgba(0, 0, 0, 1)">)
</span><span style="color: rgba(0, 128, 128, 1)">19</span> <span style="color: rgba(0, 0, 0, 1)">{
</span><span style="color: rgba(0, 128, 128, 1)">20</span> <span style="color: rgba(0, 0, 0, 1)">    ...
</span><span style="color: rgba(0, 128, 128, 1)">21</span>     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> åæ¶å¯ä»¥ä½¿ç¨Vector3.Setæ¥ä¸æ¬¡æ§å¯¹åéçæ¯ä¸ªåéè¿è¡èµå¼</span>
<span style="color: rgba(0, 128, 128, 1)">22</span>     p1l_uv.Set(offest.x, uvStart /<span style="color: rgba(0, 0, 0, 1)"> 10f);
</span><span style="color: rgba(0, 128, 128, 1)">23</span>     p1r_uv.Set(offest.y, uvStart /<span style="color: rgba(0, 0, 0, 1)"> 10f);
</span><span style="color: rgba(0, 128, 128, 1)">24</span>     p2l_uv.Set(offest.x, (uvStart + distance) / <span style="color: rgba(128, 0, 128, 1)">10</span><span style="color: rgba(0, 0, 0, 1)">);
</span><span style="color: rgba(0, 128, 128, 1)">25</span>     p2r_uv.Set(offest.y, (uvStart + distance) / <span style="color: rgba(128, 0, 128, 1)">10</span><span style="color: rgba(0, 0, 0, 1)">);
</span><span style="color: rgba(0, 128, 128, 1)">26</span> <span style="color: rgba(0, 0, 0, 1)">    ...
</span><span style="color: rgba(0, 128, 128, 1)">27</span> }</pre>
</div>
<p>&nbsp;</p>
</div>
<p><a id="heading_16"></a><strong>13.æ¯å¸§å¾ªç¯è°ç¨çè®¡ç®é»è¾ï¼å¯ä»¥ä½¿ç¨å¯¹è±¡æ± æ¿ä»£</strong></p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 128, 128, 1)"> 1</span> <span style="color: rgba(0, 0, 255, 1)">for</span> (<span style="color: rgba(0, 0, 255, 1)">int</span> i = <span style="color: rgba(128, 0, 128, 1)">0</span>; i &lt; len - <span style="color: rgba(128, 0, 128, 1)">1</span>; i++<span style="color: rgba(0, 0, 0, 1)">)
</span><span style="color: rgba(0, 128, 128, 1)"> 2</span> <span style="color: rgba(0, 0, 0, 1)">{
</span><span style="color: rgba(0, 128, 128, 1)"> 3</span> <span style="color: rgba(0, 0, 0, 1)">    ...
</span><span style="color: rgba(0, 128, 128, 1)"> 4</span>     SquareCell cell = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> SquareCell();
</span><span style="color: rgba(0, 128, 128, 1)"> 5</span> <span style="color: rgba(0, 0, 0, 1)">    ...
</span><span style="color: rgba(0, 128, 128, 1)"> 6</span> <span style="color: rgba(0, 0, 0, 1)"> }
</span><span style="color: rgba(0, 128, 128, 1)"> 7</span>  
<span style="color: rgba(0, 128, 128, 1)"> 8</span>  <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> å å¥å¯¹è±¡æ± </span>
<span style="color: rgba(0, 128, 128, 1)"> 9</span>  <span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">class</span><span style="color: rgba(0, 0, 0, 1)"> SquareCellPool
</span><span style="color: rgba(0, 128, 128, 1)">10</span> <span style="color: rgba(0, 0, 0, 1)"> {
</span><span style="color: rgba(0, 128, 128, 1)">11</span>     <span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">static</span><span style="color: rgba(0, 0, 0, 1)"> SquareCell Allocate()
</span><span style="color: rgba(0, 128, 128, 1)">12</span> <span style="color: rgba(0, 0, 0, 1)">    {
</span><span style="color: rgba(0, 128, 128, 1)">13</span>         <span style="color: rgba(0, 0, 255, 1)">if</span> (pool.TryDequeue(<span style="color: rgba(0, 0, 255, 1)">out</span> <span style="color: rgba(0, 0, 255, 1)">var</span><span style="color: rgba(0, 0, 0, 1)"> cell))
</span><span style="color: rgba(0, 128, 128, 1)">14</span> <span style="color: rgba(0, 0, 0, 1)">        {
</span><span style="color: rgba(0, 128, 128, 1)">15</span>             totalCount--<span style="color: rgba(0, 0, 0, 1)">;
</span><span style="color: rgba(0, 128, 128, 1)">16</span>             <span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> cell;
</span><span style="color: rgba(0, 128, 128, 1)">17</span> <span style="color: rgba(0, 0, 0, 1)">        }
</span><span style="color: rgba(0, 128, 128, 1)">18</span>     
<span style="color: rgba(0, 128, 128, 1)">19</span>         <span style="color: rgba(0, 0, 255, 1)">for</span> (<span style="color: rgba(0, 0, 255, 1)">int</span> i = <span style="color: rgba(128, 0, 128, 1)">0</span>; i &lt; poolInterval; i++<span style="color: rgba(0, 0, 0, 1)">)
</span><span style="color: rgba(0, 128, 128, 1)">20</span> <span style="color: rgba(0, 0, 0, 1)">        {
</span><span style="color: rgba(0, 128, 128, 1)">21</span>             SquareCell newCell = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> SquareCell();
</span><span style="color: rgba(0, 128, 128, 1)">22</span> <span style="color: rgba(0, 0, 0, 1)">            pool.Enqueue(newCell);
</span><span style="color: rgba(0, 128, 128, 1)">23</span>             totalCount++<span style="color: rgba(0, 0, 0, 1)">;
</span><span style="color: rgba(0, 128, 128, 1)">24</span> <span style="color: rgba(0, 0, 0, 1)">        }
</span><span style="color: rgba(0, 128, 128, 1)">25</span>     
<span style="color: rgba(0, 128, 128, 1)">26</span>         <span style="color: rgba(0, 0, 255, 1)">if</span> (totalCount &gt; <span style="color: rgba(128, 0, 128, 1)">65535</span><span style="color: rgba(0, 0, 0, 1)">)
</span><span style="color: rgba(0, 128, 128, 1)">27</span> <span style="color: rgba(0, 0, 0, 1)">        {
</span><span style="color: rgba(0, 128, 128, 1)">28</span>             Debug.LogError(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">Pool Out of Count!</span><span style="color: rgba(128, 0, 0, 1)">"</span> +<span style="color: rgba(0, 0, 0, 1)"> totalCount);
</span><span style="color: rgba(0, 128, 128, 1)">29</span>             <span style="color: rgba(0, 0, 255, 1)">return</span> <span style="color: rgba(0, 0, 255, 1)">null</span><span style="color: rgba(0, 0, 0, 1)">;
</span><span style="color: rgba(0, 128, 128, 1)">30</span> <span style="color: rgba(0, 0, 0, 1)">        }
</span><span style="color: rgba(0, 128, 128, 1)">31</span>         cell =<span style="color: rgba(0, 0, 0, 1)"> pool.Dequeue();
</span><span style="color: rgba(0, 128, 128, 1)">32</span>         totalCount--<span style="color: rgba(0, 0, 0, 1)">;
</span><span style="color: rgba(0, 128, 128, 1)">33</span>         <span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> cell;
</span><span style="color: rgba(0, 128, 128, 1)">34</span> <span style="color: rgba(0, 0, 0, 1)">    }
</span><span style="color: rgba(0, 128, 128, 1)">35</span>  }</pre>
</div>
<p>&nbsp;</p>
<br>
<p><a id="heading_17"></a><strong>14.Shaderä¸­å¤çé»è¾è½ä¸ä½¿ç¨é«ç²¾åº¦å¯ä»¥ä½¿ç¨ä½ç²¾åº¦ç</strong></p>
<p><img src="https://img2024.cnblogs.com/blog/357310/202601/357310-20260119225508259-375921676.png"></p>
<p><img src="https://img2024.cnblogs.com/blog/357310/202601/357310-20260119225507827-2125826982.png"></p>
<p><a id="heading_18"></a><strong>15.é¿å Camera.main</strong></p>
<p>å¨ Unity ä¸­ï¼Camera.main å®éä¸æ¯è°ç¨äº GameObject.FindWithTag("MainCamera")ï¼è¿æ¯ä¸ä¸ªéå¸¸èæ¶çæä½</p>
<p><img src="https://img2024.cnblogs.com/blog/357310/202601/357310-20260119225502907-593523569.png"></p>
<p>åç°unityææ¡£éé¢,è¿åå¶å®ä¹æ¯åäºç¼å­gameobject</p>
<p><img src="https://img2024.cnblogs.com/blog/357310/202601/357310-20260119225506505-1590491376.jpg"></p>
<p>ä½æ¯ç¼å­è¯å®è¿æ¯æå¿«ç,å ä¸ºgameobjectä¹æå¼é</p>
<p><strong>æ¬ææ¡£ä¼éç»­è¡¥åæ´æ°ï¼ä¼åæ æ­¢å¢</strong></p>
</div>
<div id="MySignature" role="contentinfo">
    æèªè±ª ææ¯ä¸åè½¯ä»¶å·¥ç¨å¸ã
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.004861111111111111" data-date-updated="2026-01-19 23:02">2026-01-19 22:55</span>&nbsp;
<a href="https://www.cnblogs.com/pipicfan">pipicfan</a>&nbsp;
éè¯»(<span id="post_view_count">3</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19503936);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19503936', targetLink: 'https://www.cnblogs.com/pipicfan/p/19503936', title: 'unityæ§è½ä¼å-å®éå¼åä¸­éè¦æ³¨æçç¹' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ DeploySharp å¨é¢æ¯æ YOLO26 ç³»åï¼å©åå¼åèå¿«éé¨ç½²è½å°åºç¨ ]]></title>
    <link>https://www.cnblogs.com/guojin-blogs/p/19503930</link>
    <guid>6040d6e8c484fd1a8328096051f44c9f</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/guojin-blogs/p/19503930" title="åå¸äº 2026-01-19 22:47">
    <span role="heading" aria-level="2">DeploySharp å¨é¢æ¯æ YOLO26 ç³»åï¼å©åå¼åèå¿«éé¨ç½²è½å°åºç¨</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        <img src="https://img2024.cnblogs.com/blog/2933426/202601/2933426-20260119224728680-943487144.png" alt="DeploySharp å¨é¢æ¯æ YOLO26 ç³»åï¼å©åå¼åèå¿«éé¨ç½²è½å°åºç¨" class="desc_img">
        DeploySharpæ¯ä¸ä¸ªä¸ä¸ºC#å¼åèè®¾è®¡çè·¨å¹³å°æ¨¡åé¨ç½²æ¡æ¶ï¼å¨é¢æ¯æYOLOv26ç³»åæ¨¡åï¼åæ¬ç®æ æ£æµãå®ä¾åå²ãå§¿æä¼°è®¡åæè½¬æ¡æ£æµãè¯¥æ¡æ¶æä¾å¤å¼ææ¯æ(OpenVINO/ONNX Runtime/TensorRT)ãä¸¤ç§å¾åå¤çåºéæ©(ImageSharp/OpenCvSharp)ä»¥åè·¨å¹³å°è¿è¡æ¶å¼å®¹æ§ãéè¿æ¨¡ååæ¶æåNuGetåçæï¼å¼åèå¯ä»¥å¿«éé¨ç½²YOLOv26æ¨¡åï¼å®ç°ä»æ¨¡åå è½½å°æ¨çæ§è¡çç«¯å°ç«¯è§£å³æ¹æ¡ãé¡¹ç®å¼æºä¸æ¯æå¤ç§ç¡¬ä»¶è®¾å¤ï¼ä¸ºè®¡ç®æºè§è§åºç¨è½å°æä¾é«æå·¥å·ã
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="deploysharp-å¨é¢æ¯æ-yolo26-ç³»åå©åå¼åèå¿«éé¨ç½²è½å°åºç¨">DeploySharp å¨é¢æ¯æ YOLO26 ç³»åï¼å©åå¼åèå¿«éé¨ç½²è½å°åºç¨</h1>
<h2 id="ä¸deploysharp-ç®ä»">ä¸ãDeploySharp ç®ä»</h2>
<p>DeploySharp æ¯ä¸ä¸ªä¸ä¸º C# å¼åèè®¾è®¡çè·¨å¹³å°æ¨¡åé¨ç½²æ¡æ¶ï¼æ¨å¨æä¾ä»æ¨¡åå è½½ãéç½®ç®¡çå°æ¨çæ§è¡çç«¯å°ç«¯è§£å³æ¹æ¡ãè¯¥é¡¹ç®ç± æ¤é¢ç®ç®è¾å¼åå¹¶å¼æºï¼éµå¾ª Apache 2.0 è®¸å¯åè®®ï¼ç®åå¨ GitHub ä¸è·å¾äºå¹¿æ³å³æ³¨ã</p>
<p>DeploySharp éç¨äºæ¸æ°çæ¨¡ååæ¶æè®¾è®¡ï¼</p>
<ul>
<li><strong>æ ¹å½åç©ºé´</strong>ï¼<code>DeploySharp</code> ä½ä¸ºç»ä¸å¥å£ï¼éææ¨¡åå è½½ãæ¨çæ§è¡ç­æ ¸å¿åè½</li>
<li><strong>å­å½åç©ºé´</strong>ï¼éè¿ <code>DeploySharp.Engine</code>ã<code>DeploySharp.Data</code>ã<code>DeploySharp.Model</code> ç­å­å½åç©ºé´å®ç°æ¨¡åååå±</li>
<li><strong>æ³åè®¾è®¡</strong>ï¼å³é®ç±»éç¨æ³åè®¾è®¡ï¼æ¯æå¾åå¤çãåç±»ãæ£æµç­å¤ä»»å¡æ åæ°æ®äº¤äº</li>
</ul>
<p><strong>é¡¹ç®å°å</strong>ï¼</p>
<pre><code>https://github.com/guojin-yan/DeploySharp.git
</code></pre>
<h3 id="1-å¤å¼ææ¯æ">1. å¤å¼ææ¯æ</h3>
<p>DeploySharp åçæ¯æä¸ç§ä¸»æµæ¨çå¼æï¼</p>
<table>
<thead>
<tr>
<th>æ¨çå¼æ</th>
<th>ç¶æ</th>
<th>æ¯æè®¾å¤</th>
<th>æ§è½ç¹ç¹</th>
</tr>
</thead>
<tbody>
<tr>
<td>OpenVINO</td>
<td>å®æ</td>
<td>CPUãGPU0(éæ¾)ãGPU1(ç¬æ¾)ãNPU</td>
<td>Intel ç¡¬ä»¶ä¼å</td>
</tr>
<tr>
<td>ONNX Runtime</td>
<td>å®æ</td>
<td>CPUãGPU(CUDA/DML)</td>
<td>è·¨å¹³å°å¼å®¹æ§å¥½</td>
</tr>
<tr>
<td>TensorRT</td>
<td>å®æ</td>
<td>GPU(TensorRT)</td>
<td>NVIDIA GPU æè´æ§è½</td>
</tr>
</tbody>
</table>
<h3 id="2-å¾åå¤çæ¯æ">2. å¾åå¤çæ¯æ</h3>
<p>æ¡æ¶æä¾äºä¸¤ç§å¾åå¤çåºçéæ©ï¼</p>
<table>
<thead>
<tr>
<th>å¾åå¤çåº</th>
<th>ç¹ç¹</th>
<th>éç¨åºæ¯</th>
</tr>
</thead>
<tbody>
<tr>
<td>ImageSharp</td>
<td>çº¯ C# å®ç°ï¼è·¨å¹³å°å¼å®¹æ§å¥½ï¼æ åçä¾èµ</td>
<td>è·¨å¹³å°åºç¨ãWeb åºç¨</td>
</tr>
<tr>
<td>OpenCvSharp</td>
<td>OpenCV ç C# å°è£ï¼åè½å¼ºå¤§ï¼æ§è½ä¼å¼</td>
<td>æ¡é¢åºç¨ãé«æ§è½åºæ¯</td>
</tr>
</tbody>
</table>
<h3 id="3-è·¨å¹³å°è¿è¡æ¶æ¯æ">3. è·¨å¹³å°è¿è¡æ¶æ¯æ</h3>
<p>DeploySharp å¼å®¹äºå¹¿æ³ç .NET è¿è¡æ¶ç¯å¢ï¼</p>
<ul>
<li>.NET Framework 4.8 / 4.8.1</li>
<li>.NET Core 3.1</li>
<li>.NET 5.0</li>
<li>.NET 6.0</li>
<li>.NET 7.0</li>
<li>.NET 8.0</li>
<li>.NET 9.0</li>
<li>.NET 10.0</li>
</ul>
<h3 id="4-nuget-åçæ">4. NuGet åçæ</h3>
<h4 id="41-æ ¸å¿å">4.1 æ ¸å¿å</h4>
<table>
<thead>
<tr>
<th>åå</th>
<th>æè¿°</th>
<th>NuGet é¾æ¥</th>
</tr>
</thead>
<tbody>
<tr>
<td>JYPPX.DeploySharp</td>
<td>DeploySharp API æ ¸å¿åº</td>
<td><a href="https://www.nuget.org/packages/JYPPX.DeploySharp/" target="_blank" rel="noopener nofollow"><img alt="NuGet" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2933426/202601/2933426-20260119224218431-401814297.svg" class="lazyload"></a></td>
</tr>
</tbody>
</table>
<p><strong>æ ¸å¿ååè½</strong>ï¼</p>
<ul>
<li>æ¨çå¼ææ½è±¡æ¥å£</li>
<li>æ°æ®ç»æå®ä¹</li>
<li>æ¨¡åéç½®åºç±»</li>
<li>æ§è½åæå·¥å·</li>
<li>æ¥å¿ç³»ç»</li>
<li>å¯è§ååºç¡åè½</li>
</ul>
<h4 id="42-å¾åå¤çæ©å±å">4.2 å¾åå¤çæ©å±å</h4>
<table>
<thead>
<tr>
<th>åå</th>
<th>æè¿°</th>
<th>NuGet é¾æ¥</th>
</tr>
</thead>
<tbody>
<tr>
<td>JYPPX.DeploySharp.ImageSharp</td>
<td>ä½¿ç¨ ImageSharp çå¾åå¤çæ©å±</td>
<td><a href="https://www.nuget.org/packages/JYPPX.DeploySharp.ImageSharp/" target="_blank" rel="noopener nofollow"><img alt="NuGet" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2933426/202601/2933426-20260119224218358-1487507805.svg" class="lazyload"></a></td>
</tr>
<tr>
<td>JYPPX.DeploySharp.OpenCvSharp</td>
<td>ä½¿ç¨ OpenCvSharp çå¾åå¤çæ©å±</td>
<td><a href="https://www.nuget.org/packages/JYPPX.DeploySharp.OpenCvSharp/" target="_blank" rel="noopener nofollow"><img alt="NuGet" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2933426/202601/2933426-20260119224218283-1019493165.svg" class="lazyload"></a></td>
</tr>
</tbody>
</table>
<p><strong>æ©å±ååè½</strong>ï¼</p>
<ul>
<li>å¾åå è½½åä¿å­</li>
<li>å¾åé¢å¤çå®ç°</li>
<li>å¯è§ååè½å®ç°</li>
<li>æ¹éå¤çæ¯æ</li>
</ul>
<h3 id="5--æ¨¡åæ¯æåè¡¨">5.  æ¨¡åæ¯æåè¡¨</h3>
<p>æªè³ç®åï¼DeploySharp å·²ç»å®æäºä»¥ä¸æ¨¡åçå°è£ï¼æ´å¤æ¨¡åæç»­æ´æ°ä¸­ï¼</p>
<table>
<thead>
<tr>
<th style="text-align: center">Model Name</th>
<th style="text-align: center">Model Type</th>
<th style="text-align: center">OpenVINO</th>
<th style="text-align: center">ONNX Runtime</th>
<th style="text-align: center">TensorRT</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center"><strong>YOLOv5</strong></td>
<td style="text-align: center">Detection</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
<tr>
<td style="text-align: center"><strong>YOLOv5</strong></td>
<td style="text-align: center">Segmentation</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
<tr>
<td style="text-align: center"><strong>YOLOv6</strong></td>
<td style="text-align: center">Detection</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
<tr>
<td style="text-align: center"><strong>YOLOv7</strong></td>
<td style="text-align: center">Detection</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
<tr>
<td style="text-align: center"><strong>YOLOv8</strong></td>
<td style="text-align: center">Detection</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
<tr>
<td style="text-align: center"><strong>YOLOv8</strong></td>
<td style="text-align: center">Segmentation</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
<tr>
<td style="text-align: center"><strong>YOLOv8</strong></td>
<td style="text-align: center">Pose</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
<tr>
<td style="text-align: center"><strong>YOLOv8</strong></td>
<td style="text-align: center">Oriented Bounding Boxes</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
<tr>
<td style="text-align: center"><strong>YOLOv9</strong></td>
<td style="text-align: center">Detection</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
<tr>
<td style="text-align: center"><strong>YOLOv9</strong></td>
<td style="text-align: center">Segmentation</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
<tr>
<td style="text-align: center"><strong>YOLOv10</strong></td>
<td style="text-align: center">Detection</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
<tr>
<td style="text-align: center"><strong>YOLOv11</strong></td>
<td style="text-align: center">Detection</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
<tr>
<td style="text-align: center"><strong>YOLOv11</strong></td>
<td style="text-align: center">Segmentation</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
<tr>
<td style="text-align: center"><strong>YOLOv11</strong></td>
<td style="text-align: center">Pose</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
<tr>
<td style="text-align: center"><strong>YOLOv11</strong></td>
<td style="text-align: center">Oriented Bounding Boxes</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
<tr>
<td style="text-align: center"><strong>YOLOv12</strong></td>
<td style="text-align: center">Detection</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
<tr>
<td style="text-align: center"><strong>Anomalib</strong></td>
<td style="text-align: center">Segmentation</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
<tr>
<td style="text-align: center"><strong>PP-YOLOE</strong></td>
<td style="text-align: center">Detection</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
<tr>
<td style="text-align: center"><strong>DEIMv2</strong></td>
<td style="text-align: center">Detection</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
<tr>
<td style="text-align: center"><strong>RFDETR</strong></td>
<td style="text-align: center">Detection</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
<tr>
<td style="text-align: center"><strong>RFDETR</strong></td>
<td style="text-align: center">Segmentation</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
<tr>
<td style="text-align: center"><strong>RTDETR</strong></td>
<td style="text-align: center">Detection</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
<tr>
<td style="text-align: center"><strong>YOLO26</strong></td>
<td style="text-align: center">Detection</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
<tr>
<td style="text-align: center"><strong>YOLO26</strong></td>
<td style="text-align: center">Segmentation</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
<tr>
<td style="text-align: center"><strong>YOLO26</strong></td>
<td style="text-align: center">Pose</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
<tr>
<td style="text-align: center"><strong>YOLO26</strong></td>
<td style="text-align: center">Oriented Bounding Boxes</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
<td style="text-align: center">â</td>
</tr>
</tbody>
</table>
<h2 id="äºdeploysharp-å¯¹-yolov26-çå¨é¢æ¯æ">äºãDeploySharp å¯¹ YOLOv26 çå¨é¢æ¯æ</h2>
<p>DeploySharp æ¡æ¶ä¸º YOLOv26 ç³»åæ¨¡åæä¾äºå¨æ¹ä½çæ¯æï¼æ¶µçäºç®æ æ£æµãå®ä¾åå²ãå§¿æä¼°è®¡åæè½¬æ¡æ£æµåç§ä¸»è¦ä»»å¡ç±»åã</p>
<h3 id="21-æ¯æç-yolov26-æ¨¡åç±»å">2.1 æ¯æç YOLOv26 æ¨¡åç±»å</h3>
<table>
<thead>
<tr>
<th>æ¨¡åç±»å</th>
<th>åè½æè¿°</th>
<th>æä¸¾å¼</th>
<th>éç½®ç±»</th>
</tr>
</thead>
<tbody>
<tr>
<td>YOLOv26Det</td>
<td>ç®æ æ£æµ</td>
<td><code>ModelType.YOLOv26Det</code></td>
<td><code>Yolov26DetConfig</code></td>
</tr>
<tr>
<td>YOLOv26Seg</td>
<td>å®ä¾åå²</td>
<td><code>ModelType.YOLOv26Seg</code></td>
<td><code>Yolov26SegConfig</code></td>
</tr>
<tr>
<td>YOLOv26Pose</td>
<td>äººä½å§¿æä¼°è®¡</td>
<td><code>ModelType.YOLOv26Pose</code></td>
<td><code>Yolov26PoseConfig</code></td>
</tr>
<tr>
<td>YOLOv26Obb</td>
<td>æè½¬æ¡æ£æµ</td>
<td><code>ModelType.YOLOv26Obb</code></td>
<td><code>Yolov26ObbConfig</code></td>
</tr>
</tbody>
</table>
<h3 id="22-æ¶æè®¾è®¡">2.2 æ¶æè®¾è®¡</h3>
<p>DeploySharp ä¸º YOLOv26 æä¾äºä¸å±æ¶æè®¾è®¡ï¼</p>
<h4 id="æ¥å£å±-iyolov26xxxmodel">æ¥å£å± (IYolov26XxxModel)</h4>
<p>å¨æ ¸å¿åº <code>DeploySharp</code> ä¸­å®ä¹äºç»ä¸çæ¥å£ï¼</p>
<pre><code class="language-csharp">// YOLOv26 æ£æµæ¥å£
// IYolov26DetModel ç»§æ¿èª IYolov10DetModel
// è¿ç§è®¾è®¡ä½¿å¾ YOLOv26 å¯ä»¥å¤ç¨ YOLOv10 çæçå®ç°
public abstract class IYolov26DetModel : IYolov10DetModel
{
    /// &lt;summary&gt;
    /// æé å½æ°ï¼æ¥æ¶æ¨¡åéç½®
    /// &lt;/summary&gt;
    /// &lt;param name="config"&gt;YOLOv26 æ£æµæ¨¡åéç½®å¯¹è±¡&lt;/param&gt;
    public IYolov26DetModel(Yolov26DetConfig config) : base(config)
    {
        // ä½¿ç¨æ¥å¿ç³»ç»è®°å½æ¨¡ååå§åä¿¡æ¯
        MyLogger.Log.Info($"Initializing {this.GetType().Name}, Config:\n{config}");
    }
}
</code></pre>
<h4 id="éç½®å±-yolov26xxxconfig">éç½®å± (Yolov26XxxConfig)</h4>
<p>æ¯ç§æ¨¡åç±»åé½æå¯¹åºçéç½®ç±»ï¼æä¾çµæ´»çåæ°è®¾ç½®ï¼</p>
<pre><code class="language-csharp">// YOLOv26 æ£æµéç½®ç±»
// ç»§æ¿èª Yolov10DetConfigï¼å¤ç¨ YOLOv10 çæçéç½®
public class Yolov26DetConfig : Yolov10DetConfig
{
    /// &lt;summary&gt;
    /// é»è®¤æé å½æ°
    /// &lt;/summary&gt;
    public Yolov26DetConfig() { }

    /// &lt;summary&gt;
    /// å¸¦æ¨¡åè·¯å¾çæé å½æ°
    /// èªå¨è®¾ç½®åççé»è®¤åæ°
    /// &lt;/summary&gt;
    /// &lt;param name="modelPath"&gt;æ¨¡åæä»¶è·¯å¾&lt;/param&gt;
    public Yolov26DetConfig(string modelPath)
    {
		...
    }
}
</code></pre>
<h4 id="å®ç°å±-yolov26xxxmodel">å®ç°å± (Yolov26XxxModel)</h4>
<p>åå«æä¾ ImageSharp å OpenCvSharp ä¸¤ç§å®ç°ï¼å¼åèå¯ä»¥æ ¹æ®éæ±éæ©ã</p>
<h3 id="23-ç±»ç»§æ¿å³ç³»å¾">2.3 ç±»ç»§æ¿å³ç³»å¾</h3>
<pre><code>YoloDetConfig (åºç±»)
    âââ Yolov8DetConfig
    âââ Yolov10DetConfig
    âââ Yolov26DetConfig (ç»§æ¿èª Yolov10DetConfig)

YoloModel (åºç±»)
    âââ Yolov8DetModel
    âââ Yolov10DetModel
    âââ Yolov26DetModel (ç»§æ¿èª Yolov10DetModel)
</code></pre>
<p>è¿ç§ç»§æ¿è®¾è®¡çä¼å¿ï¼</p>
<ol>
<li><strong>ä»£ç å¤ç¨</strong>ï¼YOLOv26 å¯ä»¥å¤ç¨ YOLOv10 çæçå®ç°</li>
<li><strong>ä¸è´æ§</strong>ï¼ä¿æä¸å¶ä» YOLO çæ¬ç API ä¸è´æ§</li>
<li><strong>æç»´æ¤</strong>ï¼å±äº«çä»£ç é»è¾éä¸­ç®¡ç</li>
</ol>
<h2 id="ä¸yolov26-ç®æ æ£æµä»£ç å®ç°">ä¸ãYOLOv26 ç®æ æ£æµä»£ç å®ç°</h2>
<h3 id="31-ä½¿ç¨-imagesharp-ä½ä¸ºå¾åå¤çåº--tensorrt-æ¨çåç«¯">3.1 ä½¿ç¨ ImageSharp ä½ä¸ºå¾åå¤çåº + TensorRT æ¨çåç«¯</h3>
<h4 id="1nuget-åå®è£">ï¼1ï¼NuGet åå®è£</h4>
<p>ä½¿ç¨ ImageSharp ä½ä¸ºå¾åå¤çåºãTensorRT ä½ä¸ºæ¨çåç«¯æ¶ï¼éè¦å®è£ä»¥ä¸æ ¸å¿åï¼</p>
<p><strong>DeploySharp åºç¡åºåæ©å±åº</strong>ï¼</p>
<pre><code>JYPPX.DeploySharp
JYPPX.DeploySharp.ImageSharp
</code></pre>
<p><strong>TensorRT Runtime åº</strong>ï¼</p>
<pre><code>JYPPX.TensorRT.CSharp.API.runtime.win-x64.cuda11
æ
JYPPX.TensorRT.CSharp.API.runtime.win-x64.cuda12
</code></pre>
<p><strong>æ³¨æ</strong>ï¼TensorRT Runtime åºççæ¬éæ ¹æ®æ¬å°è®¾å¤å®è£ç CUDA çæ¬è¿è¡éæ©ã</p>
<h4 id="2ä»£ç å®ç°">ï¼2ï¼ä»£ç å®ç°</h4>
<p>ä»¥ä¸ä»£ç å¯ç´æ¥å¤å¶è¿è¡ï¼</p>
<pre><code class="language-csharp">using DeploySharp.Model;       // å¼å¥æ¨¡åç¸å³å®ä¹
using DeploySharp.Data;        // å¼å¥æ°æ®å¤çç¸å³
using DeploySharp.Engine;      // å¼å¥æ¨çå¼ææ ¸å¿
using DeploySharp;             // å¼å¥ DeploySharp ä¸»åº
using SixLabors.ImageSharp;    // ImageSharp å¾åå¤çåº
using SixLabors.ImageSharp.PixelFormats; // ImageSharp åç´ æ ¼å¼

namespace DeploySharp.ImageSharp.Demo
{
    /// &lt;summary&gt;
    /// YOLO26ç®æ æ£æµæ¼ç¤ºç±»
    /// è¯¥ç±»å±ç¤ºäºå¦ä½å è½½ TensorRT å¼ææä»¶ï¼å¯¹å¾åè¿è¡æ¨çå¹¶å¯è§åç»æã
    /// &lt;/summary&gt;
    public class YOLOv26DetDemo
    {
        public static void Run()
        {
            // ==========================================
            // 1. è·¯å¾éç½®
            // ==========================================
            
            // æ¨¡åä¸è½½æç¤ºï¼æ¨¡ååæµè¯å¾çå¯ä»¥åå¾QQç¾¤(945057948)ä¸è½½
            // è®¾ç½® .engine æä»¶è·¯å¾ã
            // æ³¨æï¼TensorRT ç .engine æä»¶æ¯ç¡¬ä»¶ç¸å³çï¼å³å¨ RTX 3090 ä¸çæç engine éå¸¸ä¸è½å¨ RTX 4090 ä¸è¿è¡ã
            string modelPath = @"D:\Program Files\TensorRT-10.13.0.35-cu11\bin\yolo26s.engine";
            
            // è®¾ç½®å¾æ¨ççå¾çè·¯å¾
            string imagePath = @"E:\Data\image\bus.jpg";
            // ==========================================
            // 2. æ¨¡åéç½®åå§å
            // ==========================================
            
            // åå»º  YOLO26 çéç½®å¯¹è±¡ï¼ä¼ å¥æ¨¡åè·¯å¾
            Yolov26DetConfig config = new Yolov26DetConfig(modelPath);
            
            // è®¾ç½®æå¤§æ¹å¤çå¤§å°ã
            // å³ä½¿åªæ¨çä¸å¼ å¾çï¼è®¾ç½®éå½ç BatchSize ææ¶ä¹è½å©ç¨ GPU å¹¶è¡è½åã
            // æ­¤å¤è®¾ä¸º 2 è¡¨ç¤ºå¼æåé¨æå¤§å¯ä»¥ä¸æ¬¡å¤ç 2 å¼ å¾ï¼ä½è¦é¦åä¿è¯æ¨¡åæ¯æã
            config.MaxBatchSize = 2;
            
            // æ¾å¼æå®æ¨çåç«¯ä¸º TensorRTã
            // DeploySharp æ¯æå¤ç§åç«¯ï¼å¦ ONNX Runtime, OpenVINO ç­ï¼ï¼è¿éå¼ºå¶ä½¿ç¨ TensorRT ä»¥è·å¾æä½³æ§è½ã
            config.SetTargetInferenceBackend(InferenceBackend.TensorRT);
            // ==========================================
            // 3. ç±»å«å­å¸å®ä¹
            // ==========================================
            
            // COCO æ°æ®éç 80 ä¸ªç±»å«åç§°åè¡¨
            // YOLO æ¨¡åéå¸¸è¾åºçæ¯ç±»å«çç´¢å¼ï¼0-79ï¼ï¼æä»¬éè¦å°å¶æ å°ä¸ºäººç±»å¯è¯»çå­ç¬¦ä¸²ã
            List&lt;string&gt; d = new List&lt;string&gt; { "person", "bicycle", "car", "motorcycle", "airplane", "bus",
                "train", "truck", "boat", "traffic light", "fire hydrant", "stop sign", "parking meter", "bench",
                "bird", "cat", "dog", "horse", "sheep", "cow", "elephant", "bear", "zebra", "giraffe", "backpack",
                "umbrella", "handbag", "tie", "suitcase", "frisbee", "skis", "snowboard", "sports ball", "kite",
                "baseball bat", "baseball glove", "skateboard", "surfboard", "tennis racket", "bottle", "wine glass",
                "cup", "fork", "knife", "spoon", "bowl", "banana", "apple", "sandwich", "orange", "broccoli", "carrot",
                "hot dog", "pizza", "donut", "cake", "chair", "couch", "potted plant", "bed", "dining table", "toilet",
                "tv", "laptop", "mouse", "remote", "keyboard", "cell phone", "microwave", "oven", "toaster", "sink",
                "refrigerator", "book", "clock", "vase", "scissors", "teddy bear", "hair drier", "toothbrush" };
            // å°åè¡¨è½¬æ¢ä¸ºå­å¸ï¼Key ä¸ºç´¢å¼ï¼Value ä¸ºç±»å«åç§°
            Dictionary&lt;int, string&gt; CategoryDict = new Dictionary&lt;int, string&gt;();
            for (int i = 0; i &lt; d.Count; i++)
            {
                CategoryDict[i] = d[i];
            }
            
            // å°ç±»å«å­å¸èµå¼ç»éç½®å¯¹è±¡ï¼ç¨äºåç»­ç»æè§£æ
            config.CategoryDict = CategoryDict;
            // ==========================================
            // 4. æ¨¡åå®ä¾å
            // ==========================================
            
            // æ ¹æ®éç½®åå§åæ£æµå¨æ¨¡åã
            // æ­¤æ­¥éª¤ä¼å è½½ engine æä»¶å°åå­ï¼å¹¶åå§å GPU ä¸ä¸æã
            Yolov26DetModel model = new Yolov26DetModel(config);
            
            // ä½¿ç¨ SixLabors.ImageSharp å è½½å¾çã
            // Image.Load ä¼èªå¨æ ¹æ®æä»¶æ©å±åè§£ç å¾çã
            var img = Image.Load(imagePath);
            // ==========================================
            // 5. æ¨¡åæ¨çä¸æ§è½æµè¯
            // ==========================================
            
            // æ§è¡ç¬¬ä¸æ¬¡æ¨çã
            // æ³¨æï¼TensorRT çé¦æ¬¡æ¨çéå¸¸åå« Kernel åå§åç­å¼éï¼éåº¦ä¼æ¯åç»­æ¨çæ¢ã
            DetResult[] result = model.Predict(img);
            
            // æ§è¡ç¬¬äºæ¬¡æ¨çã
            // è¿æ¬¡æ¨ççæ¶é´æ´è½ä»£è¡¨æ¨¡åå¨å®éåºæ¯ä¸­çå¹³åæ¨çéåº¦ã
            result = model.Predict(img);
            
            // æ§è¡ç¬¬ä¸æ¬¡æ¨çï¼å¯éï¼ï¼ç¨äºè¿ä¸æ­¥åå¹³åå¼æç¡®ä¿ç¨³å®æ§ã
            result = model.Predict(img);
            
            // æå°æ¨çæ§è½åæè®°å½ã
            // è¿éå¸¸ä¼è¾åºé¢å¤çãæ¨çãåç«¯å¤çåé¶æ®µçèæ¶ï¼æ¯«ç§çº§ï¼ã
            model.ModelInferenceProfiler.PrintAllRecords();
            
            // åå§åä¸ä¸ªåè¡¨ï¼è½ç¶æ¬ä¾æªç´æ¥ä½¿ç¨ï¼ä½å¨å¤çå¤å¾ç»ææ¶å¯è½ä¼ç¨å°ã
            List&lt;Image&lt;Rgb24&gt;&gt; resultsMat = new List&lt;Image&lt;Rgb24&gt;&gt;();
            // ==========================================
            // 6. ç»æå¯è§åä¸ä¿å­
            // ==========================================
            
            // å°æ¨çç»æç»å¶å¨åå¾ä¸ã
            // Visualize.DrawDetResult ä¼æ ¹æ® DetResult ä¸­çåæ åç½®ä¿¡åº¦ç»æ¡åæå­ã
            // éè¦å° img å¼ºå¶è½¬æ¢ä¸º Image&lt;Rgb24&gt;ï¼å ä¸º DrawDetResult éå¸¸éè¦ç¹å®çåç´ æ ¼å¼ã
            var resultImg = Visualize.DrawDetResult(result, (Image&lt;Rgb24&gt;)img, new VisualizeOptions(1.0f));
            // ä¿å­å¸¦ææ£æµæ¡çå¾çå°å½åç®å½ä¸ã
            // æä»¶ååå«éç½®çæ¨¡åç±»åï¼ä¾¿äºåºåä¸åæ¨¡åçç»æã
            resultImg.Save(@$"./result_{config.ModelType}.jpg");
        }
    }
}
</code></pre>
<h4 id="3ä»£ç è¯¦è§£">ï¼3ï¼ä»£ç è¯¦è§£</h4>
<ol>
<li>
<p><strong>éç½®æ¨¡ååæ°</strong>ï¼</p>
<pre><code class="language-csharp">Yolov26DetConfig config = new Yolov26DetConfig(modelPath);
config.MaxBatchSize = 2;
config.SetTargetInferenceBackend(InferenceBackend.TensorRT);
</code></pre>
<ul>
<li>åå»ºéç½®å¯¹è±¡ï¼ä½¿ç¨ TensorRT å¼æè¿è¡æ¨ç</li>
<li>è®¾ç½®æå¤§æ¹éå¤§å°ä¸º 2ï¼æ¯ææå¤ 2 å¼ å¾ççæ¹éæ¨ç</li>
</ul>
</li>
<li>
<p><strong>åå»ºæ¨¡åå®ä¾</strong>ï¼</p>
<pre><code class="language-csharp">Yolov26DetModel model = new Yolov26DetModel(config);
</code></pre>
<p>æ¨¡åå®ä¾åæ¶ä¼èªå¨å è½½ .engine æä»¶å¹¶åå§å TensorRT å¼æã</p>
</li>
<li>
<p><strong>æ§è¡æ¨ç</strong>ï¼</p>
<pre><code class="language-csharp">DetResult[] result = model.Predict(img);
</code></pre>
<p><code>Predict()</code> æ¹æ³è¿åæ£æµç»ææ°ç»ï¼æ¯ä¸ªåç´ åå«è¾¹çæ¡ãç½®ä¿¡åº¦åç±»å«ä¿¡æ¯ã</p>
</li>
<li>
<p><strong>æ§è½åæ</strong>ï¼</p>
<pre><code class="language-csharp">model.ModelInferenceProfiler.PrintAllRecords();
</code></pre>
<p>æå°è¯¦ç»çæ§è½ç»è®¡ï¼åæ¬é¢å¤çãæ¨çãåå¤çåé¶æ®µçèæ¶ã</p>
</li>
</ol>
<h4 id="4ç»æå±ç¤º">ï¼4ï¼ç»æå±ç¤º</h4>
<p>æ§å¶å°æå°è¾åºï¼</p>
<p><img alt="image-20260116231024791" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2933426/202601/2933426-20260119224216033-1151573796.png" class="lazyload"></p>
<p>æ¨çç»æå¾çï¼</p>
<p><img alt="result_YOLOv26Det" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2933426/202601/2933426-20260119224216113-1777698764.jpg" class="lazyload"></p>
<h3 id="32-ä½¿ç¨-opencvsharpåå¾åå¤çåºonnx-runtimeæ¨çåç«¯">3.2 ä½¿ç¨ OpenCvSharpåå¾åå¤çåº+ONNX Runtimeæ¨çåç«¯</h3>
<h4 id="1nuget-åå®è£-1">ï¼1ï¼NuGet åå®è£</h4>
<p>ä½¿ç¨ OpenCvSharp ä½ä¸ºå¾åå¤çåºãONNX Runtime ä½ä¸ºæ¨çåç«¯æ¶ï¼éè¦å®è£ä»¥ä¸æ ¸å¿åï¼</p>
<p><strong>DeploySharp åºç¡åºåæ©å±åº</strong>ï¼</p>
<pre><code>JYPPX.DeploySharp
JYPPX.DeploySharp.OpenCvSharp
</code></pre>
<p><strong>OpenCvSharp Runtime åº</strong>ï¼</p>
<pre><code>OpenCvSharp4.runtime.win
</code></pre>
<p><strong>å¯éå éå</strong>ï¼ONNX Runtime æ¯æå¤ç§æ¨çå éæ¹å¼ï¼é¤é»è®¤ CPU å éå¤ï¼å¯æ ¹æ®éæ±å®è£ä»¥ä¸ NuGet åï¼</p>
<table>
<thead>
<tr>
<th>å éæ¹å¼</th>
<th>NuGet åå</th>
</tr>
</thead>
<tbody>
<tr>
<td>OpenVINO å é</td>
<td>Intel.ML.OnnxRuntime.OpenVino</td>
</tr>
<tr>
<td>DirectML å é</td>
<td>Microsoft.AI.DirectML</td>
</tr>
<tr>
<td>CUDA å é</td>
<td>Microsoft.ML.OnnxRuntime.Gpu</td>
</tr>
</tbody>
</table>
<p>æ´å¤å éæ¹å¼è¯·åè ONNX Runtime å®æ¹ææ¡£ãæ¬èä»¥ DirectML ä¸ºä¾è¿è¡æ¼ç¤ºã</p>
<h4 id="2ä»£ç å®ç°-1">ï¼2ï¼ä»£ç å®ç°</h4>
<p>æ¨çä»£ç å¦ä¸æç¤ºï¼å¯ç´æ¥å¤å¶è¿è¡ï¼</p>
<pre><code class="language-csharp">using OpenCvSharp;            // å¼å¥ OpenCvSharpï¼ç¨äºå¾åçè¯»åãæ¾ç¤ºåç©éµæä½
using DeploySharp.Model;      // å¼å¥æ¨¡åå®ä¹åéç½®ç±»
using DeploySharp.Data;       // å¼å¥æ°æ®å¤çç¸å³çç±»
using DeploySharp.Engine;     // å¼å¥æ¨çå¼ææ ¸å¿æ¥å£åæä¸¾
using DeploySharp;            // å¼å¥ DeploySharp ä¸»åºåå¯è§åå·¥å·
namespace DeploySharp.OpenCvSharp.Demo
{
    /// &lt;summary&gt;
    ///  YOLO26 ç®æ æ£æµæ¼ç¤º (åºäº ONNX Runtime + OpenCvSharp)
    /// æ¬ç¤ºä¾å±ç¤ºäºå¦ä½å è½½ ONNX æ¨¡åï¼å¹¶éç½®ä½¿ç¨ DirectML å¨ GPU ä¸è¿è¡æ¨çã
    /// &lt;/summary&gt;
    public class Yolov26DetDemo
    {
        public static void Run()
        {
            // ==========================================
            // 1. è·¯å¾éç½®
            // ==========================================
            
            // æ¨¡åä¸è½½æç¤ºï¼æ¨¡ååæµè¯å¾çå¯ä»¥åå¾QQç¾¤(945057948)ä¸è½½
            // æ³¨æï¼æ­¤å¤å è½½çæ¯æ åç .onnx æ¨¡åæä»¶ï¼èä¸æ¯ TensorRT ç .engine æä»¶ã
            // ONNX æ¨¡åå·æè¯å¥½çè·¨å¹³å°ç¹æ§ã
            string modelPath = @"E:\Model\yolov28\yolo26s.onnx";
            
            // è®¾ç½®å¾æ£æµçå¾çè·¯å¾
            string imagePath = @"E:\Data\image\bus.jpg";
            // ==========================================
            // 2. æ¨¡åéç½®ä¸æ¨çåç«¯è®¾ç½®
            // ==========================================
            
            // åå»º  YOLO26 çéç½®å¯¹è±¡ï¼ä¼ å¥æ¨¡åè·¯å¾
            Yolov26DetConfig config = new Yolov26DetConfig(modelPath);
            
            // [å³é®æ­¥éª¤] è®¾ç½®æ¨çåç«¯ä¸º ONNX Runtimeã
            // è¿æå³çæ¨¡åå°éè¿ ONNX Runtime è¿è¡å è½½åæ§è¡ï¼èä¸æ¯ TensorRTã
            config.SetTargetInferenceBackend(InferenceBackend.OnnxRuntime);
            
            // è®¾ç½®ç®æ è®¾å¤ç±»åä¸º GPU 0ã
            // è¿æ¯ä¸ä¸ªé»è¾è®¾å®ï¼å·ä½æ§è¡åå³äº ONNX Runtime çæä¾ç¨åºã
            config.SetTargetDeviceType(DeviceType.GPU0);
            
            // [å³é®æ­¥éª¤] è®¾ç½® ONNX Runtime çå·ä½æ§è¡æä¾ç¨åºä¸º DML (DirectML)ã
            // DirectML æ¯ Windows ä¸çé«æ§è½ç¡¬ä»¶å éæ¥å£ï¼æ¯æ AMDãNVIDIA å Intel æ¾å¡ã
            // å¦æä¸å è¿ä¸è¡ï¼ONNX Runtime å¯è½é»è®¤ä½¿ç¨ CPU è¿è¡æ¨çï¼éåº¦è¾æ¢ã
            config.SetTargetOnnxRuntimeDeviceType(OnnxRuntimeDeviceType.DML);
            // ==========================================
            // 3. ç±»å«å­å¸å®ä¹ (COCO 80ç±»)
            // ==========================================
            
            // å®ä¹ COCO æ°æ®éç 80 ä¸ªç±»å«åç§°
            // è¿äºåç§°å°ç¨äºå¨ç»æå¯è§åæ¶æ æ³¨æ£æµå°çç©ä½
            List&lt;string&gt; d = new List&lt;string&gt; { "person", "bicycle", "car", "motorcycle", "airplane", "bus",
                "train", "truck", "boat", "traffic light", "fire hydrant", "stop sign", "parking meter", "bench",
                "bird", "cat", "dog", "horse", "sheep", "cow", "elephant", "bear", "zebra", "giraffe", "backpack",
                "umbrella", "handbag", "tie", "suitcase", "frisbee", "skis", "snowboard", "sports ball", "kite",
                "baseball bat", "baseball glove", "skateboard", "surfboard", "tennis racket", "bottle", "wine glass",
                "cup", "fork", "knife", "spoon", "bowl", "banana", "apple", "sandwich", "orange", "broccoli", "carrot",
                "hot dog", "pizza", "donut", "cake", "chair", "couch", "potted plant", "bed", "dining table", "toilet",
                "tv", "laptop", "mouse", "remote", "keyboard", "cell phone", "microwave", "oven", "toaster", "sink",
                "refrigerator", "book", "clock", "vase", "scissors", "teddy bear", "hair drier", "toothbrush" };
            // æå»º&lt;ç´¢å¼, ç±»å«å&gt;å­å¸
            Dictionary&lt;int, string&gt; CategoryDict = new Dictionary&lt;int, string&gt;();
            for (int i = 0; i &lt; d.Count; i++)
            {
                CategoryDict[i] = d[i];
            }
            
            // å°ç±»å«å­å¸èµå¼ç»éç½®å¯¹è±¡
            config.CategoryDict = CategoryDict;
            // ==========================================
            // 4. æ¨¡ååå§å
            // ==========================================
            
            // å®ä¾åæ¨¡åï¼ä¼ å¥éç½®ã
            // æ­¤æ¶ DeploySharp ä¼æ ¹æ®éç½®å è½½ ONNX æ¨¡åï¼å¹¶åå§å DirectML ä¼è¯ã
            Yolov26DetModel model = new Yolov26DetModel(config);
            
            // ä½¿ç¨ OpenCvSharp è¯»åå¾çå° Mat å¯¹è±¡ä¸­
            // Mat æ¯ OpenCV ä¸­ç¨äºå­å¨å¾åæ°æ®çæ ¸å¿ç©éµç»æ
            Mat img = Cv2.ImRead(imagePath);
            // ==========================================
            // 5. æ¨¡åæ¨ç (é¢ç­ä¸æµè¯)
            // ==========================================
            
            // æ§è¡å¤æ¬¡æ¨çã
            // ç¬¬ä¸æ¬¡æ¨çéå¸¸åå«æ¨¡åå è½½ãåå­åéç­åå§åå¼éï¼èæ¶è¾é¿ã
            Result[] result = model.Predict(img);
            
            // åç»­æ¨çç¨äºæµè¯ç¨³å®çæ¨çéåº¦ã
            result = model.Predict(img);
            result = model.Predict(img);
            result = model.Predict(img);
            
            // æå°æ§è½åæè®°å½ã
            // è¿å°è¾åºæ¨çè¿ç¨ä¸­åé¶æ®µï¼å¦é¢å¤çãæ¨çæ§è¡ãåå¤çï¼çèæ¶ç»è®¡ã
            model.ModelInferenceProfiler.PrintAllRecords();
            
            // åå§ååè¡¨ï¼ç¨äºå­å¨å¤çåçå¾åï¼æ¬ä¾ä¸»è¦ç¨äºæ¼ç¤ºï¼
            List&lt;Mat&gt; resultsMat = new List&lt;Mat&gt;();
            // ==========================================
            // 6. ç»æå¯è§åä¸æ¾ç¤º
            // ==========================================
            
            // è°ç¨å¯è§åå·¥å·ï¼å°æ£æµæ¡ï¼ç©å½¢æ¡ï¼åç±»å«æ ç­¾ç»å¶å¨åå¾ä¸ã
            // VisualizeOptions(1.0f) å¯è½æå®äºç¼©æ¾æ¯ä¾æå­ä½å¤§å°ç­åæ°ã
            var resultImg = Visualize.DrawDetResult(result, img, new VisualizeOptions(1.0f));
            
            // å°ç»å¶å¥½çå¾åå å¥åè¡¨
            resultsMat.Add(resultImg);
            
            // ä½¿ç¨ OpenCV ççªå£æ¾ç¤ºç»æå¾åã
            // "image" æ¯çªå£çæ é¢ã
            Cv2.ImShow("image", resultImg);
            
            // ç­å¾æé®è¾å¥ã
            // åæ° 0 è¡¨ç¤ºæ éæç­å¾ï¼ç´å°ç¨æ·æä¸é®çä»»æé®ã
            // è¿æ¯ä¸ºäºé²æ­¢æ§å¶å°ç¨åºæ§è¡å®æ¯åçªå£ç«å³éªéã
            Cv2.WaitKey();
        }
    
    }
}
</code></pre>
<h4 id="3ä»£ç è¯¦è§£-1">ï¼3ï¼ä»£ç è¯¦è§£</h4>
<p>ä¸è¿°ä»£ç ä¸ 3.1 èçä»£ç ç»æåºæ¬ç¸ä¼¼ï¼ä¸»è¦åºå«å¨äºæ¨çåç«¯çéç½®ï¼</p>
<ol>
<li>
<p><strong>è®¾ç½®æ¨çåç«¯ä¸º ONNX Runtime</strong>ï¼</p>
<pre><code class="language-csharp">config.SetTargetInferenceBackend(InferenceBackend.OnnxRuntime);
</code></pre>
</li>
<li>
<p><strong>è®¾ç½®æ¨çè®¾å¤ä¸º GPU</strong>ï¼æ­¤å¤ä½¿ç¨ç¬æ¾è®¾å¤ï¼ï¼</p>
<pre><code class="language-csharp">config.SetTargetDeviceType(DeviceType.GPU0);
</code></pre>
</li>
<li>
<p><strong>éç½® DirectML å é</strong>ï¼DirectML æ¯ Windows ä¸çé«æ§è½ç¡¬ä»¶å éæ¥å£ï¼æ¯æ AMDãNVIDIA å Intel æ¾å¡ï¼ä½¿ç¨ç®åä¸æ éå¤æéç½®ã</p>
<pre><code class="language-csharp">config.SetTargetOnnxRuntimeDeviceType(OnnxRuntimeDeviceType.DML);
</code></pre>
</li>
</ol>
<h4 id="4ç»æå±ç¤º-1">ï¼4ï¼ç»æå±ç¤º</h4>
<p>æ§å¶å°è¾åºå¦ä¸ãä½¿ç¨ DirectML è°ç¨æ¾å¡å éï¼è½å¨éåº¦ä¸ä¸ TensorRT ç¸æ¯ææå·®è·ï¼ä½å¶éç½®ç®åãæ éå¤æè®¾ç½®çä¼å¿ä¾ç¶ææ¾ï¼éåå¿«éå¼åéªè¯ã</p>
<p><img alt="image-20260116221718516" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2933426/202601/2933426-20260119224216095-1465134082.png" class="lazyload"></p>
<h3 id="33-ä½¿ç¨-opencvsharp-ä½ä¸ºå¾åå¤çåº--openvino-æ¨çåç«¯">3.3 ä½¿ç¨ OpenCvSharp ä½ä¸ºå¾åå¤çåº + OpenVINO æ¨çåç«¯</h3>
<h4 id="1nuget-åå®è£-2">ï¼1ï¼NuGet åå®è£</h4>
<p>ä½¿ç¨ OpenCvSharp ä½ä¸ºå¾åå¤çåºãOpenVINO ä½ä¸ºæ¨çåç«¯æ¶ï¼éè¦å®è£ä»¥ä¸æ ¸å¿åï¼</p>
<p><strong>DeploySharp åºç¡åºåæ©å±åº</strong>ï¼</p>
<pre><code>JYPPX.DeploySharp
JYPPX.DeploySharp.OpenCvSharp
</code></pre>
<p><strong>Runtime åº</strong>ï¼</p>
<pre><code>OpenCvSharp4.runtime.win
OpenVINO.runtime.win
</code></pre>
<h4 id="2ä»£ç å®ç°-2">ï¼2ï¼ä»£ç å®ç°</h4>
<p>æ¨çä»£ç å¦ä¸æç¤ºï¼å¯ç´æ¥å¤å¶è¿è¡ï¼</p>
<pre><code class="language-csharp">using OpenCvSharp;            // å¼å¥ OpenCvSharpï¼ç¨äºå¾åçè¯»åãæ¾ç¤ºåç©éµæä½
using DeploySharp.Model;      // å¼å¥æ¨¡åå®ä¹åéç½®ç±»
using DeploySharp.Data;       // å¼å¥æ°æ®å¤çç¸å³çç±»
using DeploySharp.Engine;     // å¼å¥æ¨çå¼ææ ¸å¿æ¥å£åæä¸¾
using DeploySharp;            // å¼å¥ DeploySharp ä¸»åºåå¯è§åå·¥å·
namespace DeploySharp.OpenCvSharp.Demo
{
    /// &lt;summary&gt;
    ///  YOLO26 ç®æ æ£æµæ¼ç¤º (åºäºOpenVINO  + OpenCvSharp)
    /// &lt;/summary&gt;
    public class Yolov26DetDemo
    {
        public static void Run()
        {
            // ==========================================
            // 1. è·¯å¾éç½®
            // ==========================================
            
            // æ¨¡åä¸è½½æç¤ºï¼æ¨¡ååæµè¯å¾çå¯ä»¥åå¾QQç¾¤(945057948)ä¸è½½
            // æ³¨æï¼æ­¤å¤å è½½çæ¯æ åç .onnx æ¨¡åæä»¶ï¼èä¸æ¯ TensorRT ç .engine æä»¶ã
            // ONNX æ¨¡åå·æè¯å¥½çè·¨å¹³å°ç¹æ§ã
            string modelPath = @"E:\Model\yolov28\yolo26s.onnx";
            
            // è®¾ç½®å¾æ£æµçå¾çè·¯å¾
            string imagePath = @"E:\Data\image\bus.jpg";
            // ==========================================
            // 2. æ¨¡åéç½®
            // ==========================================
            
            // åå»º YOLO26Det çéç½®å¯¹è±¡ï¼ä¼ å¥æ¨¡åè·¯å¾
            Yolov26DetConfig config = new Yolov26DetConfig(modelPath);
            
            // ==========================================
            // 3. ç±»å«å­å¸å®ä¹ (COCO 80ç±»)
            // ==========================================
            
            // å®ä¹ COCO æ°æ®éç 80 ä¸ªç±»å«åç§°
            // è¿äºåç§°å°ç¨äºå¨ç»æå¯è§åæ¶æ æ³¨æ£æµå°çç©ä½
            List&lt;string&gt; d = new List&lt;string&gt; { "person", "bicycle", "car", "motorcycle", "airplane", "bus",
                "train", "truck", "boat", "traffic light", "fire hydrant", "stop sign", "parking meter", "bench",
                "bird", "cat", "dog", "horse", "sheep", "cow", "elephant", "bear", "zebra", "giraffe", "backpack",
                "umbrella", "handbag", "tie", "suitcase", "frisbee", "skis", "snowboard", "sports ball", "kite",
                "baseball bat", "baseball glove", "skateboard", "surfboard", "tennis racket", "bottle", "wine glass",
                "cup", "fork", "knife", "spoon", "bowl", "banana", "apple", "sandwich", "orange", "broccoli", "carrot",
                "hot dog", "pizza", "donut", "cake", "chair", "couch", "potted plant", "bed", "dining table", "toilet",
                "tv", "laptop", "mouse", "remote", "keyboard", "cell phone", "microwave", "oven", "toaster", "sink",
                "refrigerator", "book", "clock", "vase", "scissors", "teddy bear", "hair drier", "toothbrush" };
            // æå»º&lt;ç´¢å¼, ç±»å«å&gt;å­å¸
            Dictionary&lt;int, string&gt; CategoryDict = new Dictionary&lt;int, string&gt;();
            for (int i = 0; i &lt; d.Count; i++)
            {
                CategoryDict[i] = d[i];
            }
            
            // å°ç±»å«å­å¸èµå¼ç»éç½®å¯¹è±¡
            config.CategoryDict = CategoryDict;
            // ==========================================
            // 4. æ¨¡ååå§å
            // ==========================================
            
            // å®ä¾åæ¨¡åï¼ä¼ å¥éç½®ã
            // æ­¤æ¶ DeploySharp ä¼æ ¹æ®éç½®å è½½ ONNX æ¨¡åï¼å¹¶åå§å DirectML ä¼è¯ã
            Yolov26DetModel model = new Yolov26DetModel(config);
            
            // ä½¿ç¨ OpenCvSharp è¯»åå¾çå° Mat å¯¹è±¡ä¸­
            // Mat æ¯ OpenCV ä¸­ç¨äºå­å¨å¾åæ°æ®çæ ¸å¿ç©éµç»æ
            Mat img = Cv2.ImRead(imagePath);
            // ==========================================
            // 5. æ¨¡åæ¨ç (é¢ç­ä¸æµè¯)
            // ==========================================
            
            // æ§è¡å¤æ¬¡æ¨çã
            // ç¬¬ä¸æ¬¡æ¨çéå¸¸åå«æ¨¡åå è½½ãåå­åéç­åå§åå¼éï¼èæ¶è¾é¿ã
            Result[] result = model.Predict(img);
            
            // åç»­æ¨çç¨äºæµè¯ç¨³å®çæ¨çéåº¦ã
            result = model.Predict(img);
            result = model.Predict(img);
            result = model.Predict(img);
            
            // æå°æ§è½åæè®°å½ã
            // è¿å°è¾åºæ¨çè¿ç¨ä¸­åé¶æ®µï¼å¦é¢å¤çãæ¨çæ§è¡ãåå¤çï¼çèæ¶ç»è®¡ã
            model.ModelInferenceProfiler.PrintAllRecords();
            
            // åå§ååè¡¨ï¼ç¨äºå­å¨å¤çåçå¾åï¼æ¬ä¾ä¸»è¦ç¨äºæ¼ç¤ºï¼
            List&lt;Mat&gt; resultsMat = new List&lt;Mat&gt;();
            // ==========================================
            // 6. ç»æå¯è§åä¸æ¾ç¤º
            // ==========================================
            
            // è°ç¨å¯è§åå·¥å·ï¼å°æ£æµæ¡ï¼ç©å½¢æ¡ï¼åç±»å«æ ç­¾ç»å¶å¨åå¾ä¸ã
            // VisualizeOptions(1.0f) å¯è½æå®äºç¼©æ¾æ¯ä¾æå­ä½å¤§å°ç­åæ°ã
            var resultImg = Visualize.DrawDetResult(result, img, new VisualizeOptions(1.0f));
            
            // å°ç»å¶å¥½çå¾åå å¥åè¡¨
            resultsMat.Add(resultImg);
            
            // ä½¿ç¨ OpenCV ççªå£æ¾ç¤ºç»æå¾åã
            // "image" æ¯çªå£çæ é¢ã
            Cv2.ImShow("image", resultImg);
            
            // ç­å¾æé®è¾å¥ã
            // åæ° 0 è¡¨ç¤ºæ éæç­å¾ï¼ç´å°ç¨æ·æä¸é®çä»»æé®ã
            // è¿æ¯ä¸ºäºé²æ­¢æ§å¶å°ç¨åºæ§è¡å®æ¯åçªå£ç«å³éªéã
            Cv2.WaitKey();
        }
    
    }
}
</code></pre>
<h4 id="3ä»£ç è¯¦è§£-2">ï¼3ï¼ä»£ç è¯¦è§£</h4>
<p>ä¸è¿°ä»£ç ä¸ 3.2 èçä»£ç ç»æåºæ¬ç¸ä¼¼ãä½¿ç¨ OpenVINO ä½ä¸ºæ¨çåç«¯æ¶ï¼éå¸¸æ éé¢å¤è®¾ç½®ï¼å ä¸º DeploySharp é»è®¤æ¯æ OpenVINOã</p>
<p>è¥è®¾å¤éå¤è±ç¹å°çéææ¾å¡ãç¬ç«æ¾å¡æ NPUï¼å¯éè¿ä»¥ä¸ä»£ç æå®æ¨çè®¾å¤ä»¥è·å¾æ´å¥½çæ§è½ï¼</p>
<pre><code class="language-csharp">config.SetTargetInferenceBackend(InferenceBackend.OpenVINO);
config.SetTargetDeviceType(DeviceType.GPU0);   // è®¾ç½®è®¾å¤ä¸ºéæ¾
// æ
config.SetTargetDeviceType(DeviceType.GPU1);  // è®¾ç½®æ¨çè®¾å¤ä¸ºç¬ç«æ¾å¡
// æ
config.SetTargetDeviceType(DeviceType.NPU);  // è®¾ç½®æ¨çè®¾å¤ä¸º NPU
</code></pre>
<h4 id="4ç»æå±ç¤º-2">ï¼4ï¼ç»æå±ç¤º</h4>
<p>æ§å¶å°è¾åºå¦ä¸ãä½¿ç¨ OpenVINO å¨ CPU ä¸è¿è¡æ¨çæ¶ï¼è½å è®¾å¤éå¶æ¨çéåº¦æéï¼ä½ OpenVINO å·²æ¯ CPU ç¯å¢ä¸æ¨çéåº¦æå¿«çå·¥å·ä¹ä¸ï¼ä¸éç½®ç®åï¼å¨é¢æ¯æè±ç¹å°å¨ç³»è®¾å¤ï¼æ¬¢è¿å¼åèä½¿ç¨ã</p>
<p><img alt="image-20260116223936848" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2933426/202601/2933426-20260119224216075-1452741264.png" class="lazyload"></p>
<h2 id="åyolov26-å®ä¾åå²">åãYOLOv26 å®ä¾åå²</h2>
<h3 id="41-ä»£ç ä½¿ç¨ç¤ºä¾">4.1 ä»£ç ä½¿ç¨ç¤ºä¾</h3>
<pre><code class="language-csharp">using OpenCvSharp;            // å¼å¥ OpenCvSharpï¼ç¨äºå¾åè¯»åãæ¾ç¤ºåç©éµæä½
using DeploySharp.Model;      // å¼å¥æ¨¡åéç½®ç¸å³çç±»
using DeploySharp.Data;       // å¼å¥æ°æ®ç»æå®ä¹ç¸å³çç±»
using DeploySharp.Engine;     // å¼å¥æ¨çå¼ææ ¸å¿æ¥å£
using DeploySharp;            // å¼å¥ DeploySharp ä¸»åºåå¯è§åå·¥å·

namespace DeploySharp.OpenCvSharp.Demo
{
    /// &lt;summary&gt;
    /// YOLO26Seg å®ä¾åå²æ¼ç¤ºç±»
    /// æ¬ç¤ºä¾å±ç¤ºå¦ä½å è½½ TensorRT å¼ææä»¶ï¼å¯¹å¾åè¿è¡å®ä¾åå²æ¨çï¼å¹¶å°æ©ç ç»å¶å¨åå¾ä¸ã
    /// &lt;/summary&gt;
    public class Yolov26SegDemo
    {
        public static void Run()
        {
            // ==========================================
            // 1. è·¯å¾éç½®
            // ==========================================
            
            // æ¨¡åä¸è½½æç¤ºï¼æ¨¡ååæµè¯å¾çå¯ä»¥åå¾QQç¾¤(945057948)ä¸è½½
            // è®¾ç½® TensorRT å¼ææä»¶è·¯å¾ã
            // æ³¨æï¼è¿éä½¿ç¨çæ¯ .engine æä»¶ï¼å®æ¯éå¯¹ç¹å® GPU å TensorRT çæ¬ç¼è¯çã
            // æä»¶åä¸­ç '-seg' è¡¨ç¤ºè¿æ¯ä¸ä¸ªå¸¦æåå²å¤´çå®ä¾åå²æ¨¡åã
            string modelPath = @"D:\Program Files\TensorRT-10.13.0.35-cu11\bin\yolo26s-seg.engine";
            
            // è®¾ç½®å¾æ¨ççå¾çè·¯å¾
            string imagePath = @"E:\Data\image\bus.jpg";


            // ==========================================
            // 2. æ¨¡åéç½®ä¸åå§å
            // ==========================================
            
            // åå»º YOLO26Seg (å®ä¾åå²) çéç½®å¯¹è±¡ï¼ä¼ å¥æ¨¡åè·¯å¾
            Yolov26SegConfig config = new Yolov26SegConfig(modelPath);
            
            // [å³é®è®¾ç½®] æå®æ¨çåç«¯ä¸º TensorRTã
            // å©ç¨ TensorRT å¯ä»¥å¨ NVIDIA GPU ä¸è·å¾æé«çæ¨çéåº¦ã
            config.SetTargetInferenceBackend(InferenceBackend.TensorRT);
            
            // å®ä¾åæ¨¡åã
            // æ­¤æ¶ä¼å è½½å¼ææä»¶ï¼åå§å GPU æ¾å­ä¸ä¸æã
            Yolov26SegModel model = new Yolov26SegModel(config);


            // ==========================================
            // 3. å¾åå è½½
            // ==========================================
            
            // ä½¿ç¨ OpenCvSharp è¯»åå¾çã
            // img æ¯ä¸ä¸ª Mat å¯¹è±¡ï¼åå«äºå¾åçåç´ æ°æ®ã
            Mat img = Cv2.ImRead(imagePath);


            // ==========================================
            // 4. æ¨¡åæ¨ç (é¢ç­ä¸æ§è½æµè¯)
            // ==========================================
            
            // æ§è¡ç¬¬ä¸æ¬¡æ¨çã
            // é¦æ¬¡è¿è¡éå¸¸åå«æ¨¡åå è½½ãæ¾å­åéç­å¼éï¼èæ¶è¾é¿ã
            var result = model.Predict(img);
            
            // æ§è¡åç»­å¤æ¬¡æ¨çã
            // è¿æ¯ä¸ºäºæé¤åå§åå¼éï¼æµè¯æ¨¡åå¨ç¨³å®ç¶æä¸çæ¨çéåº¦ã
            result = model.Predict(img);
            result = model.Predict(img);
            result = model.Predict(img);
            
            // æå°æ¨çæ§è½åæè®°å½ã
            // è¿å°è¾åºé¢å¤çãæ¨çè®¡ç®ãåå¤çï¼åæ¬æ©ç çæï¼åé¶æ®µçèæ¶ã
            model.ModelInferenceProfiler.PrintAllRecords();


            // ==========================================
            // 5. ç»æå¯è§å
            // ==========================================
            
            // è°ç¨å¯è§åå·¥å·ï¼ç»å¶åå²ç»æã
            // æ³¨æè¿éä½¿ç¨çæ¯ DrawSegResult (ç»å¶åå²ç»æ)ï¼èä¸æ¯ DrawDetResult (ç»å¶æ£æµæ¡)ã
            // è¯¥å½æ°ä¼å°æ£æµå°çç©ä½æ¡ãç±»å«æ ç­¾ä»¥åå½©è²çåéææ©ç ç»å¶å¨åå¾ä¸ã
            var resultImg = Visualize.DrawSegResult(result, img, new VisualizeOptions(1.0f));
            
            // ä½¿ç¨ OpenCV çªå£æ¾ç¤ºæ¸²æåçç»æå¾åã
            Cv2.ImShow("image", resultImg);
            
            // ç­å¾æé®è¾å¥ï¼é²æ­¢çªå£éªéã
            Cv2.WaitKey();
        }
    }
}

</code></pre>
<h3 id="42-ä»£ç è¯¦è§£">4.2 ä»£ç è¯¦è§£</h3>
<ol>
<li>
<p><strong>åå»ºåå²éç½®</strong>ï¼</p>
<pre><code class="language-csharp">Yolov26SegConfig config = new Yolov26SegConfig(modelPath);
config.SetTargetInferenceBackend(InferenceBackend.TensorRT);
</code></pre>
<p><code>Yolov26SegConfig</code> æ¯ YOLOv26 åå²æ¨¡åçéç½®ç±»ã</p>
</li>
<li>
<p><strong>æ§è¡åå²æ¨ç</strong>ï¼</p>
<pre><code class="language-csharp">var result = model.Predict(img);
</code></pre>
<p>åå²æ¨çè¿å <code>SegResult[]</code> æ°ç»ï¼æ¯ä¸ªåç´ åå«è¾¹çæ¡ãç½®ä¿¡åº¦ãç±»å«ååå²æ©ç ã</p>
</li>
<li>
<p><strong>å¯è§ååå²ç»æ</strong>ï¼</p>
<pre><code class="language-csharp">var resultImg = Visualize.DrawSegResult(result, img, new VisualizeOptions(1.0f));
</code></pre>
<p><code>DrawSegResult</code> ä¼ä¸ºæ¯ä¸ªæ£æµå°çå¯¹è±¡ç»å¶ä¸åé¢è²çæ©ç ï¼å å å¨åå¾ä¸ã</p>
</li>
</ol>
<h3 id="43-åå²ç»æå±ç¤º">4.3 åå²ç»æå±ç¤º</h3>
<h4 id="æ§å¶å°è¾åº">æ§å¶å°è¾åº</h4>
<p>ä»¥ä¸ä¸å¼ æªå¾åå«å±ç¤ºäºå¨ TensorRT GPUãONNX Runtime(DirectML) GPUãOpenVINO CPU è®¾å¤ä¸çæ¨çæ§è½ãä¸åå¼æåæä¼å¿ï¼å¼åèå¯æ ¹æ®èªèº«ç¡¬ä»¶ç¯å¢éæ©æéåçæ¹æ¡ã</p>
<p><strong>TensorRT GPUï¼</strong></p>
<p><img alt="image-20260116231515663" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2933426/202601/2933426-20260119224216136-1621920571.png" class="lazyload"></p>
<p><strong>ONNX Runtime (DirectML) GPUï¼</strong></p>
<p><img alt="image-20260116231805014" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2933426/202601/2933426-20260119224216083-1971673963.png" class="lazyload"></p>
<p><strong>OpenVINO CPUï¼</strong></p>
<p><img alt="image-20260116231630904" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2933426/202601/2933426-20260119224216090-1735473904.png" class="lazyload"></p>
<h4 id="æ¨çç»æç»å¶">æ¨çç»æç»å¶</h4>
<p>ä¸å¾ä¸ºå®æ¹é¢è®­ç»æ¨¡åå¯¼åºåçæ¨çç»æç¤ºä¾ï¼</p>
<p><img alt="image-20260116231431298" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2933426/202601/2933426-20260119224216155-703981459.png" class="lazyload"></p>
<h2 id="äºyolov26-äººä½å§¿æä¼°è®¡">äºãYOLOv26 äººä½å§¿æä¼°è®¡</h2>
<h3 id="51-åè½ä»ç»">5.1 åè½ä»ç»</h3>
<p>YOLO26 Pose æ¨¡åç¨äºæ£æµäººä½å³é®ç¹ï¼éå¸¸æ¯æ 17 ä¸ªå³é®ç¹ï¼å¤´é¨ãé¢é¨ãè©èãæèãæèãèé¨ãèçãèè¸ç­ï¼ã</p>
<p><strong>å³é®ç¹å®ä¹</strong>ï¼COCO æ ¼å¼ï¼ï¼</p>
<table>
<thead>
<tr>
<th>å³é®ç¹</th>
<th>åç§°</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>nose</td>
<td>é¼»å­</td>
</tr>
<tr>
<td>1</td>
<td>left_eye</td>
<td>å·¦ç¼</td>
</tr>
<tr>
<td>2</td>
<td>right_eye</td>
<td>å³ç¼</td>
</tr>
<tr>
<td>3</td>
<td>left_ear</td>
<td>å·¦è³</td>
</tr>
<tr>
<td>4</td>
<td>right_ear</td>
<td>å³è³</td>
</tr>
<tr>
<td>5</td>
<td>left_shoulder</td>
<td>å·¦è©</td>
</tr>
<tr>
<td>6</td>
<td>right_shoulder</td>
<td>å³è©</td>
</tr>
<tr>
<td>7</td>
<td>left_elbow</td>
<td>å·¦è</td>
</tr>
<tr>
<td>8</td>
<td>right_elbow</td>
<td>å³è</td>
</tr>
<tr>
<td>9</td>
<td>left_wrist</td>
<td>å·¦è</td>
</tr>
<tr>
<td>10</td>
<td>right_wrist</td>
<td>å³è</td>
</tr>
<tr>
<td>11</td>
<td>left_hip</td>
<td>å·¦é«</td>
</tr>
<tr>
<td>12</td>
<td>right_hip</td>
<td>å³é«</td>
</tr>
<tr>
<td>13</td>
<td>left_knee</td>
<td>å·¦è</td>
</tr>
<tr>
<td>14</td>
<td>right_knee</td>
<td>å³è</td>
</tr>
<tr>
<td>15</td>
<td>left_ankle</td>
<td>å·¦è¸</td>
</tr>
<tr>
<td>16</td>
<td>right_ankle</td>
<td>å³è¸</td>
</tr>
</tbody>
</table>
<h3 id="52-ä»£ç ä½¿ç¨ç¤ºä¾">5.2 ä»£ç ä½¿ç¨ç¤ºä¾</h3>
<pre><code class="language-csharp">using OpenCvSharp;            // å¼å¥ OpenCvSharpï¼ç¨äºå¾åçè¯»åãæ¾ç¤ºåç©éµæä½
using DeploySharp.Model;      // å¼å¥æ¨¡åå®ä¹åéç½®ç±»
using DeploySharp.Data;       // å¼å¥æ°æ®ç»æç¸å³çç±»
using DeploySharp.Engine;     // å¼å¥æ¨çå¼ææ ¸å¿æ¥å£
using DeploySharp;            // å¼å¥ DeploySharp ä¸»åºåå¯è§åå·¥å·
using System;                 // å¼å¥ System å½åç©ºé´ä»¥ä½¿ç¨ Console

namespace DeploySharp.OpenCvSharp.Demo
{
    /// &lt;summary&gt;
    /// YOLO26Pose å§¿æä¼°è®¡æ¼ç¤ºç±»
    /// æ¬ç¤ºä¾å±ç¤ºäºå¦ä½å è½½ ONNX æ¨¡åè¿è¡äººä½å³é®ç¹æ£æµï¼å¹¶å¯è§åéª¨éª¼è¿æ¥ã
    /// &lt;/summary&gt;
    public class Yolov26PoseDemo
    {
        public static void Run()
        {
            // ==========================================
            // 1. è·¯å¾éç½®
            // ==========================================
            
            // æ¨¡åä¸è½½æç¤ºï¼æ¨¡ååæµè¯å¾çå¯ä»¥åå¾QQç¾¤(945057948)ä¸è½½
            // è®¾ç½® ONNX æ¨¡åæä»¶è·¯å¾ã
            // '-pose' åç¼è¡¨ç¤ºè¿æ¯ä¸ä¸ªä¸é¨ç¨äºå§¿æä¼°è®¡ï¼å³é®ç¹æ£æµï¼çæ¨¡åã
            string modelPath = @"E:\Model\yolov28\yolo26s-pose.onnx";
            
            // è®¾ç½®å¾æ¨ççå¾çè·¯å¾
            string imagePath = @"E:\Data\image\demo_9.jpg";


            // ==========================================
            // 2. æ¨¡åéç½®ä¸åå§å
            // ==========================================
            
            // åå»º YOLO26Pose (å§¿æä¼°è®¡) çéç½®å¯¹è±¡ï¼ä¼ å¥æ¨¡åè·¯å¾
            Yolov26PoseConfig config = new Yolov26PoseConfig(modelPath);
            
            // [å³é®è®¾ç½®] è®¾ç½®æ¨çåç«¯ä¸º ONNX Runtimeã
            // è¿ä½¿å¾æ¨¡åå¯ä»¥è·¨å¹³å°è¿è¡ï¼ä¸ä»éäº NVIDIA GPUï¼åå³äº ONNX Runtime çå®è£æä¾ç¨åºï¼ã
            config.SetTargetInferenceBackend(InferenceBackend.OnnxRuntime);
            
            // å®ä¾åå§¿æä¼°è®¡æ¨¡åã
            // æ¨¡åå è½½æ¶ä¼è§£æ ONNX å¾ç»æï¼åå¤å¥½è¾å¥è¾åºèç¹ã
            Yolov26PoseModel model = new Yolov26PoseModel(config);


            // ==========================================
            // 3. å¾åå è½½
            // ==========================================
            
            // ä½¿ç¨ OpenCvSharp è¯»åå¾çã
            Mat img = Cv2.ImRead(imagePath);


            // ==========================================
            // 4. æ¨¡åæ¨çä¸ç»ææ¥ç
            // ==========================================
            
            // æ§è¡æ¨çã
            // ç¬¬ä¸æ¬¡æ¨çéå¸¸è¾æ¢ï¼åå«åå§åå¼éã
            var result = model.Predict(img);
            
            // æ§è¡å¤æ¬¡æ¨çä»¥æµè¯ç¨³å®ç¶æä¸çæ§è½ã
            result = model.Predict(img);
            result = model.Predict(img);
            result = model.Predict(img);
            
            // æå°ç¬¬ä¸ä¸ªç»æçè¯¦ç»ä¿¡æ¯å°æ§å¶å°ã
            // å§¿æä¼°è®¡ç Result å¯¹è±¡éå¸¸åå«æ£æµæ¡ä¿¡æ¯ä»¥åä¸ä¸ªå³é®ç¹æ°ç»ã
            // è¿ä¸è¡æå©äºå¼åèè°è¯ï¼æ¥çæ¨¡åè¾åºçåå§æ°æ®ç»æã
            Console.WriteLine(result[0].ToString());
            
            // æå°æ§è½åæè®°å½ï¼æ¥çåé¶æ®µèæ¶ã
            model.ModelInferenceProfiler.PrintAllRecords();


            // ==========================================
            // 5. ç»æå¯è§å
            // ==========================================
            
            // è°ç¨å¯è§åå·¥å·ï¼ç»å¶å§¿æä¼°è®¡ç»æã
            // æ³¨æè¿éä½¿ç¨çæ¯ DrawPosesï¼å®ä¼èªå¨å°è¯å«åºçå³é®ç¹ï¼å¦ç¼çãè©èãèé¨ç­ï¼
            // ç¨åç¹æ åºï¼å¹¶æ ¹æ®äººä½ç»æè¿æ¥æéª¨æ¶ã
            // VisualizeOptions(1.0f) å¯è½æå®äºç»å¶æ¶ççº¿æ¡ç²ç»æå­ä½ç¼©æ¾æ¯ä¾ã
            var resultImg = Visualize.DrawPoses(result, img, new VisualizeOptions(1.0f));
            
            // æ¾ç¤ºç»æå¾åã
            Cv2.ImShow("image", resultImg);
            
            // ç­å¾æé®ï¼é²æ­¢çªå£éªéã
            Cv2.WaitKey();
        }
    }
}

</code></pre>
<h3 id="53-ä»£ç è¯¦è§£">5.3 ä»£ç è¯¦è§£</h3>
<ol>
<li>
<p><strong>åå»ºå§¿æä¼°è®¡éç½®</strong>ï¼</p>
<pre><code class="language-csharp">Yolov26PoseConfig config = new Yolov26PoseConfig(modelPath);
config.SetTargetInferenceBackend(InferenceBackend.OnnxRuntime);
</code></pre>
<p><code>Yolov26PoseConfig</code> æ¯ YOLOv26 å§¿æä¼°è®¡æ¨¡åçéç½®ç±»ã</p>
</li>
<li>
<p><strong>æ§è¡å§¿æä¼°è®¡æ¨ç</strong>ï¼</p>
<pre><code class="language-csharp">var result = model.Predict(img);
</code></pre>
<p>å§¿æä¼°è®¡æ¨çè¿å <code>KeyPointResult[]</code> æ°ç»ï¼æ¯ä¸ªåç´ åå«äººä½è¾¹çæ¡ãç½®ä¿¡åº¦å 17 ä¸ªå³é®ç¹åæ ã</p>
</li>
<li>
<p><strong>å¯è§åå§¿æä¼°è®¡ç»æ</strong>ï¼</p>
<pre><code class="language-csharp">var resultImg = Visualize.DrawPoses(result, img, new VisualizeOptions(1.0f));
</code></pre>
<p><code>DrawPoses</code> ä¼ç»å¶äººä½éª¨æ¶ï¼è¿æ¥å³é®ç¹ï¼åå³é®ç¹æ è®°ã</p>
</li>
</ol>
<h3 id="54-ç»æå±ç¤º">5.4 ç»æå±ç¤º</h3>
<h4 id="æ§å¶å°è¾åº-1">æ§å¶å°è¾åº</h4>
<p>ä»¥ä¸æªå¾å±ç¤ºäºå¨ ONNX Runtime CPU è®¾å¤ä¸çæ¨çæ§è½ï¼</p>
<p><img alt="image-20260116232926313" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2933426/202601/2933426-20260119224216086-1934712350.png" class="lazyload"></p>
<h4 id="æ¨çç»æç»å¶-1">æ¨çç»æç»å¶</h4>
<p>ä¸å¾ä¸ºå®æ¹é¢è®­ç»æ¨¡åå¯¼åºåçæ¨çç»æç¤ºä¾ï¼</p>
<p><img alt="image-20260116232942723" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2933426/202601/2933426-20260119224216045-652558304.png" class="lazyload"></p>
<h2 id="å­yolov26-æè½¬æ¡æ£æµ">å­ãYOLOv26 æè½¬æ¡æ£æµ</h2>
<p>YOLOv26 OBB (Oriented Bounding Box) æ¨¡åç¨äºæ£æµæè½¬ç©ä½ï¼çæå¸¦ææè½¬è§åº¦çè¾¹çæ¡ãè¿å¯¹äºæ£æµèªç©ºå½±åä¸­çå»ºç­ç©ãé¥æå¾åä¸­çè½¦è¾ç­åºæ¯éå¸¸éè¦ã</p>
<h3 id="61-ä»£ç ä½¿ç¨ç¤ºä¾">6.1 ä»£ç ä½¿ç¨ç¤ºä¾</h3>
<p>ä»¥ä¸ä»£ç æ¼ç¤ºå¦ä½ä½¿ç¨ TensorRT å¼æè¿è¡æè½¬ç®æ æ£æµï¼</p>
<pre><code class="language-csharp">using OpenCvSharp;            // å¼å¥ OpenCvSharpï¼ç¨äºå¾åè¯»åãæ¾ç¤ºåç»å¾
using DeploySharp.Model;      // å¼å¥æ¨¡åéç½®ç¸å³çç±»
using DeploySharp.Data;       // å¼å¥æ°æ®ç»æå®ä¹ç¸å³çç±»
using DeploySharp.Engine;     // å¼å¥æ¨çå¼ææ ¸å¿æ¥å£
using DeploySharp;            // å¼å¥ DeploySharp ä¸»åºåå¯è§åå·¥å·
namespace DeploySharp.OpenCvSharp.Demo
{
    /// &lt;summary&gt;
    /// YOLOv26 OBB æè½¬ç®æ æ£æµæ¼ç¤ºç±»
    /// æ¬ç¤ºä¾å±ç¤ºå¦ä½å è½½ TensorRT å¼ææä»¶ï¼å¯¹å¾åè¿è¡æè½¬ç®æ æ£æµï¼å¹¶ç»å¶æè½¬æ¡ã
    /// &lt;/summary&gt;
    public class Yolov26ObbDemo
    {
        public static void Run()
        {
            // ==========================================
            // 1. è·¯å¾éç½®
            // ==========================================
            
            // æ¨¡åä¸è½½æç¤ºï¼æ¨¡ååæµè¯å¾çå¯ä»¥åå¾ QQ ç¾¤ï¼945057948ï¼ä¸è½½
            // '-obb' è¡¨ç¤ºè¯¥æ¨¡åç¨äºè¾åºæè½¬è¾¹çæ¡
            string modelPath = @"D:\Program Files\TensorRT-10.13.0.35-cu11\bin\yolo26s-obb.engine";
            
            // è®¾ç½®å¾æ¨ççå¾çè·¯å¾
            // plane.png æ¯æè½¬ç®æ æ£æµçç»å¸æµè¯å¾ï¼é£æºåæºåªéå¸¸åå«åç§è§åº¦çé£æºï¼ã
            string imagePath = @"E:\Data\image\plane.png";
            // ==========================================
            // 2. æ¨¡åéç½®ä¸åå§å
            // ==========================================
            
            // åå»º YOLOv26 OBB (æè½¬ç®æ æ£æµ) çéç½®å¯¹è±¡ï¼ä¼ å¥æ¨¡åè·¯å¾
            Yolov26ObbConfig config = new Yolov26ObbConfig(modelPath);
            
            // [å³é®è®¾ç½®] æå®æ¨çåç«¯ä¸º TensorRTã
            // è¿å°è°ç¨ NVIDIA GPU è¿è¡é«æ§è½è®¡ç®ã
            // æ³¨æï¼å ä¸ºä½¿ç¨çæ¯ .engine æä»¶ï¼æä»¥å¿é¡»éæ© TensorRT åç«¯ã
            config.SetTargetInferenceBackend(InferenceBackend.TensorRT);
            
            // å®ä¾åæè½¬ç®æ æ£æµæ¨¡åã
            Yolov26ObbModel model = new Yolov26ObbModel(config);
            // ==========================================
            // 3. å¾åå è½½
            // ==========================================
            
            // ä½¿ç¨ OpenCvSharp è¯»åå¾çã
            Mat img = Cv2.ImRead(imagePath);
            // ==========================================
            // 4. æ¨¡åæ¨ç
            // ==========================================
            
            // æ§è¡æ¨çã
            var result = model.Predict(img);
            
     
            // å¦æéè¦æµè¯çº¯æ¨çéåº¦ï¼æé¤åå§åå¼éï¼ï¼å¯ä»¥åæ¶æ³¨éè¿è¡å¤æ¬¡å¾ªç¯ã
            result = model.Predict(img);
            result = model.Predict(img);
            result = model.Predict(img);
            
            // æå°æ§è½åæè®°å½ã
            // è¿å°æ¾ç¤ºé¢å¤çãTensorRT æ¨çãåå¤çï¼åå« OBB è§£ç ï¼çèæ¶ã
            model.ModelInferenceProfiler.PrintAllRecords();
            // ==========================================
            // 5. ç»æå¯è§å
            // ==========================================
            
            // è°ç¨å¯è§åå·¥å·ï¼ç»å¶æè½¬æ£æµç»æã
            // DrawObbResult ä¼æ ¹æ®æ£æµå°ç x, y, w, h å angle (è§åº¦) ç»å¶æè½¬ç©å½¢ã
            var resultImg = Visualize.DrawObbResult(result, img, new VisualizeOptions(1.0f));
            
            // [å¯é] è°æ´å¾çå¤§å°ä»¥éåºå±å¹
            // èªæå¾éå¸¸åè¾¨çå¾å¤§ï¼å¯ä»¥ç¼©å°æ¾ç¤ºã
            //Cv2.Resize(resultImg, resultImg, new Size(resultImg.Width / 4, resultImg.Height / 4));
            
            // æ¾ç¤ºç»æå¾åã
            Cv2.ImShow("image", resultImg);
            
            // ç­å¾æé®ï¼é²æ­¢çªå£éªéã
            Cv2.WaitKey();
        }
    }
}
</code></pre>
<h3 id="62-ä»£ç è¯¦è§£">6.2 ä»£ç è¯¦è§£</h3>
<ol>
<li>
<p><strong>åå»ºæè½¬æ¡æ£æµéç½®</strong>ï¼</p>
<pre><code class="language-csharp">Yolov26ObbConfig config = new Yolov26ObbConfig(modelPath);
config.SetTargetInferenceBackend(InferenceBackend.TensorRT);
</code></pre>
<p><code>Yolov26ObbConfig</code> æ¯ YOLOv26 æè½¬æ¡æ£æµæ¨¡åçéç½®ç±»ã</p>
</li>
<li>
<p><strong>æ§è¡æè½¬æ¡æ£æµæ¨ç</strong>ï¼</p>
<pre><code class="language-csharp">ObbResult[] result = model.Predict(img);
</code></pre>
<p>æè½¬æ¡æ£æµæ¨çè¿å <code>ObbResult[]</code> æ°ç»ï¼æ¯ä¸ªåç´ åå«ä¸­å¿ç¹ãå®½åº¦ãé«åº¦ãæè½¬è§åº¦åç±»å«ä¿¡æ¯ã</p>
</li>
<li>
<p><strong>å¯è§åæè½¬æ¡æ£æµç»æ</strong>ï¼</p>
<pre><code class="language-csharp">var resultImg = Visualize.DrawObbResult(result, img, new VisualizeOptions(1.0f));
</code></pre>
<p><code>DrawObbResult</code> ä¼ç»å¶æè½¬çè¾¹çæ¡ï¼åè¾¹å½¢ï¼ï¼èä¸æ¯æ®éçè½´å¯¹é½ç©å½¢ã</p>
</li>
</ol>
<h3 id="63-æè½¬æ¡æ£æµç»æå±ç¤º">6.3 æè½¬æ¡æ£æµç»æå±ç¤º</h3>
<h4 id="æ§å¶å°è¾åº-2">æ§å¶å°è¾åº</h4>
<p>ä»¥ä¸æªå¾å±ç¤ºäºå¨ TensorRT GPU è®¾å¤ä¸çæ¨çæ§è½ï¼</p>
<p><img alt="image-20260116233931296" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2933426/202601/2933426-20260119224216069-834053624.png" class="lazyload"></p>
<h4 id="æ¨çç»æç»å¶-2">æ¨çç»æç»å¶</h4>
<p>ä¸å¾ä¸ºå®æ¹é¢è®­ç»æ¨¡åå¯¼åºåçæ¨çç»æç¤ºä¾ï¼</p>
<p><img alt="image-20260116233543902" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2933426/202601/2933426-20260119224216106-230750162.png" class="lazyload"></p>
<h2 id="ä¸è·¨å¼ææ¯æ">ä¸ãè·¨å¼ææ¯æ</h2>
<p>DeploySharp åçæ¯æ OpenVINOãONNX RuntimeãTensorRT ä¸å¤§ä¸»æµæ¨çå¼æï¼ä¸ºå¼åèå¨ CPUãGPUãNPU ç­ä¸åç¡¬ä»¶è®¾å¤ä¸é¨ç½²æ¨¡åæä¾äºæå¨é¢çè§£å³æ¹æ¡ãéæç YOLOv26 ç³»åé»è®¤æ¯ææææ¨çå¼æï¼å¼åèå¯æ ¹æ®å®éç¡¬ä»¶ç¯å¢éæ©æä¼çæ¨çæ¹æ¡ã</p>
<h3 id="71-å¼ææ§è½å¯¹æ¯">7.1 å¼ææ§è½å¯¹æ¯</h3>
<table>
<thead>
<tr>
<th>å¼æ</th>
<th>ä¼å¿</th>
<th>éç¨åºæ¯</th>
<th>æ§è½ç¹ç¹</th>
</tr>
</thead>
<tbody>
<tr>
<td>OpenVINO</td>
<td>Intel ç¡¬ä»¶ä¼åï¼æ¯æå¤ç§è®¾å¤ï¼CPUãGPU0ãGPU1ãNPUï¼</td>
<td>Intel CPUãIntel GPUãNPU</td>
<td>Intel ç¡¬ä»¶å é</td>
</tr>
<tr>
<td>ONNX Runtime</td>
<td>å¹¿æ³æ¯æï¼è·¨å¹³å°ï¼å¼å®¹æ§å¥½</td>
<td>CPUãGPU(CUDA/DML)ãç§»å¨ç«¯</td>
<td>å¹³è¡¡æ§è½ä¸å¼å®¹æ§</td>
</tr>
<tr>
<td>TensorRT</td>
<td>NVIDIA GPU æè´æ§è½ï¼ç»è¿ä¸é¨ä¼å</td>
<td>NVIDIA GPU é«æ§è½åºæ¯</td>
<td>æä½³ GPU æ§è½</td>
</tr>
</tbody>
</table>
<h3 id="72-å¼æéæ©å»ºè®®">7.2 å¼æéæ©å»ºè®®</h3>
<p>æ ¹æ®ç¡¬ä»¶ç¯å¢ååºç¨åºæ¯éæ©åéçæ¨çå¼æï¼</p>
<table>
<thead>
<tr>
<th>ç¡¬ä»¶ç¯å¢</th>
<th>æ¨èå¼æ</th>
<th>è¯´æ</th>
</tr>
</thead>
<tbody>
<tr>
<td>Intel CPU/GPU</td>
<td>OpenVINO</td>
<td>Intel ç¡¬ä»¶ä¼åï¼æ§è½æä½³</td>
</tr>
<tr>
<td>NVIDIA GPU</td>
<td>TensorRT</td>
<td>æè´æ§è½ï¼éåé«é¢æ¨ç</td>
</tr>
<tr>
<td>NVIDIA GPU (éè¦çµæ´»æ§)</td>
<td>ONNX Runtime (CUDA)</td>
<td>å¼å®¹æ§å¥½ï¼æäºåæ¢</td>
</tr>
<tr>
<td>éç¨ CPU</td>
<td>ONNX Runtime</td>
<td>è·¨å¹³å°å¼å®¹æ§å¥½</td>
</tr>
</tbody>
</table>
<h3 id="73-å¼æåæ¢ç¤ºä¾">7.3 å¼æåæ¢ç¤ºä¾</h3>
<pre><code class="language-csharp">// åæ¢å° OpenVINO
config.SetTargetInferenceBackend(InferenceBackend.OpenVINO);
config.TargetDeviceType = DeviceType.CPU;

// åæ¢å° ONNX Runtime (CUDA)
config.SetTargetInferenceBackend(InferenceBackend.OnnxRuntime);
config.TargetDeviceType = DeviceType.GPU;

// åæ¢å° TensorRT
config.SetTargetInferenceBackend(InferenceBackend.TensorRT);
config.TargetDeviceType = DeviceType.GPU;
</code></pre>
<p><strong>æ³¨æ</strong>ï¼åæ¢æ¨çå¼æå¯è½éè¦éæ°å è½½æ¨¡åï¼å»ºè®®å¨åºç¨å¯å¨æ¶ç¡®å®ä½¿ç¨çå¼æã</p>
<h2 id="å«æ§è½ä¼åå»ºè®®">å«ãæ§è½ä¼åå»ºè®®</h2>
<h3 id="81-é¢ç­æºå¶">8.1 é¢ç­æºå¶</h3>
<p>é¦æ¬¡æ¨çéå¸¸è¾æ¢ï¼å ä¸ºéè¦å è½½æ¨¡åãåå§åæ¨çå¼æãç¼è¯è®¡ç®å¾ç­ãå»ºè®®æ§è¡å æ¬¡é¢ç­æ¨çã</p>
<pre><code class="language-csharp">// é¢ç­æ¨¡åï¼æ§è¡ 3 æ¬¡æ¨çï¼
for (int i = 0; i &lt; 3; i++)
{
    model.Predict(img);
}

// å®éæ¨ç
var result = model.Predict(img);
</code></pre>
<h3 id="82-æ¹éæ¨ç">8.2 æ¹éæ¨ç</h3>
<p>å¯¹äºå¤§éå¾åï¼ä½¿ç¨æ¹éæ¨çå¯ä»¥æé«ååéï¼åææ¯æ¨¡åæ¯æå¤ Batch Sizeã</p>
<pre><code class="language-csharp">// è®¾ç½®æ¹éå¤§å°ä¸º 4
config.InferBatch = 4;

// åå¤æ¹éå¾å
var imageList = new List&lt;Image&lt;Rgb24&gt;&gt;();
imageList.Add(Image.Load&lt;Rgb24&gt;(@"path1.jpg"));
imageList.Add(Image.Load&lt;Rgb24&gt;(@"path2.jpg"));
imageList.Add(Image.Load&lt;Rgb24&gt;(@"path3.jpg"));
imageList.Add(Image.Load&lt;Rgb24&gt;(@"path4.jpg"));

// æ§è¡æ¹éæ¨ç
var results = model.Predict(imageList);
</code></pre>
<h3 id="83-è®¾å¤éæ©">8.3 è®¾å¤éæ©</h3>
<p>æ ¹æ®ç¡¬ä»¶éæ©æä¼è®¾å¤ï¼</p>
<pre><code class="language-csharp">// Intel ç¯å¢ï¼ä½¿ç¨ OpenVINO
config.SetTargetInferenceBackend(InferenceBackend.OpenVINO);

// NVIDIA ç¯å¢ï¼ä½¿ç¨ TensorRT æ ONNX Runtime (CUDA)
config.SetTargetInferenceBackend(InferenceBackend.TensorRT);
config.TargetDeviceType = DeviceType.GPU;
</code></pre>
<h2 id="ä¹æ»ç»">ä¹ãæ»ç»</h2>
<p>DeploySharp å¯¹ YOLOv26 ç³»åæä¾äºå¨é¢èæ·±å¥çæ¯æï¼åæ¬ï¼</p>
<ol>
<li><strong>åç§ä»»å¡ç±»åå¨è¦ç</strong>ï¼æ£æµãåå²ãå§¿æä¼°è®¡ãæè½¬æ¡æ£æµ</li>
<li><strong>åå¾åå¤çåºæ¯æ</strong>ï¼ImageSharp å OpenCvSharp</li>
<li><strong>ä¸æ¨çå¼æå¼å®¹</strong>ï¼OpenVINOãONNX RuntimeãTensorRT</li>
<li><strong>å®åçéç½®ç³»ç»</strong>ï¼çµæ´»çåæ°è®¾ç½®</li>
<li><strong>è¯¦ç»çæ§è½åæ</strong>ï¼åç½®æ§è½åæå¨</li>
<li><strong>ä¸°å¯çå¯è§åéé¡¹</strong>ï¼æ¯æå¤ç§ç»æå±ç¤ºæ¹å¼</li>
</ol>
<p>YOLOv26 çç®åçè¾åºæ ¼å¼åä¼åçæ¶æï¼ç»å DeploySharp çå°è£åä¼åï¼ä½¿å¾å¼åèå¯ä»¥è½»æ¾å°å° YOLOv26 éæå°åç§ C# åºç¨ä¸­ï¼æå»ºé«æãåç¡®çè®¡ç®æºè§è§è§£å³æ¹æ¡ã</p>
<p>éç YOLO ç³»åçæç»­åå±ï¼DeploySharp ä¹å°æç»­è·è¿ï¼ä¸ºå¼åèæä¾ææ°æ¨¡åçæ¯æãæå¾ YOLOv26 åæªæ¥çæ¬çæ´å¤åæ°åçªç ´ã</p>
<h2 id="ææ¯æ¯æ">ææ¯æ¯æ</h2>
<p>å¦æé®é¢æå»ºè®®ï¼æ¬¢è¿éè¿ä»¥ä¸æ¹å¼äº¤æµï¼</p>
<ul>
<li>ð§ <strong>GitHub Issues</strong>ï¼å¨é¡¹ç®ä»åºæ Issue æ Pull Request</li>
<li>ð¬ <strong>QQ äº¤æµç¾¤</strong>ï¼å å¥ <strong>945057948</strong>ï¼åå¤æ´æ¹ä¾¿æ´å¿«å¦</li>
</ul>
<p><img alt="QQç¾¤äºç»´ç " loading="lazy" data-src="https://img2024.cnblogs.com/blog/2933426/202601/2933426-20260119224216068-1852063019.png" class="lazyload"></p>
<hr>
<p><em>ä½èï¼Guojin Yan</em><br>
<em>çæ¬ï¼0.0.6.1</em><br>
<em>æåæ´æ°ï¼2026å¹´1æ</em></p>
<hr>
<p><strong>ãæç« å£°æã</strong></p>
<p>æ¬æä¸»è¦åå®¹åºäºä½èçç ç©¶ä¸å®è·µï¼é¨åè¡¨è¿°åå©AIå·¥å·è¿è¡äºè¾å©ä¼åãç±äºææ¯å±éæ§ï¼æä¸­å¯è½å­å¨éè¯¯æçæ¼ä¹å¤ï¼æ³è¯·åä½è¯»èæ¹è¯ææ­£ãå¦æåå®¹æ æä¸­ä¾µç¯äºæ¨çæçï¼è¯·åæ¶éè¿å¬ä¼å·åå°ä¸æä»¬èç³»ï¼æä»¬å°ç¬¬ä¸æ¶é´æ ¸å®å¹¶å¦¥åå¤çãæè°¢æ¨ççè§£ä¸æ¯æï¼</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-19 22:48">2026-01-19 22:47</span>&nbsp;
<a href="https://www.cnblogs.com/guojin-blogs">æ¤é¢ç®ç®è¾</a>&nbsp;
éè¯»(<span id="post_view_count">10</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19503930);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19503930', targetLink: 'https://www.cnblogs.com/guojin-blogs/p/19503930', title: 'DeploySharp å¨é¢æ¯æ YOLO26 ç³»åï¼å©åå¼åèå¿«éé¨ç½²è½å°åºç¨' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ OpenSpec åè½è¯¦è§£ï¼5 åéææ AI ç¼ç¨ç"è§èé©±å¨"æ ¸å¿ ]]></title>
    <link>https://www.cnblogs.com/zh94/p/19503921</link>
    <guid>e8fcc84f8c0e30b61c41f84da4b92ba9</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/zh94/p/19503921" title="åå¸äº 2026-01-19 22:41">
    <span role="heading" aria-level="2">OpenSpec åè½è¯¦è§£ï¼5 åéææ AI ç¼ç¨ç"è§èé©±å¨"æ ¸å¿</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>ä¸ºä»ä¹ææ¶åè®© AI åèµ·ææ¡"æ¶çµæ¶ä¸çµ"ï¼</p>
<p>åä¸¤å¤©ææåçäºæåç<a href="https://mp.weixin.qq.com/s/CJPCsYoQOo5Ib1Q8f0IZBA" target="_blank" rel="noopener nofollow">ãå¦ä½ç¨ AI + OpenSpec é©±å¨å¢éè¿­ä»£å¼åã</a>åï¼é®æä¸ä¸ªå¾æè¶£çé®é¢ï¼</p>
<p>"ä¸ºä»ä¹ææ¶åæè®© AI åèµ· OpenSpec ææ¡ï¼æ¶çµæ¶ä¸çµï¼"</p>
<p>å¶å®è¿ä¸ªé®é¢å¾ç®åï¼ç­æ¡å°±èå¨ OpenSpec çå·¥ä½åçä¸­ã</p>
<p>ä»å¤©è¿ç¯æç« ï¼5 åéçæ¶é´å¸®ä½ å¿«éäºè§£ OpenSpec çæ ¸å¿åçââå®ç©¶ç«æ¯å¦ä½è®© AI"å¬è¯"å°æç§è§èæ¥å·¥ä½çã</p>
<h2 id="2-å¿«éè®¤è¯-openspec">2 å¿«éè®¤è¯ OpenSpec</h2>
<p>OpenSpec æ¯ä¸ä¸ªè§èé©±å¨å¼åå·¥å·ï¼æ ¸å¿çå¿µæå¶ç®åï¼</p>
<p>âè®© AI æç¡®ç¥é"ç¥è¯å¨åªãå¦ä½ç¨ãä¸ºä»ä¹è¿æ ·åâ</p>
<p>å®ç½ï¼<a href="https://openspec.dev/" target="_blank" rel="noopener nofollow">https://openspec.dev/</a></p>
<h3 id="21-å®è£ä¸åå§å">2.1 å®è£ä¸åå§å</h3>
<pre><code class="language-bash"># å¨å±å®è£ OpenSpec
npm install -g @fission-ai/openspec@latest
# å¨é¡¹ç®ç®å½ä¸åå§å
cd /path/to/your-project
openspec init
</code></pre>
<p>åå§åæ¶ï¼OpenSpec ä¼æç¤ºä½ éæ©ä½¿ç¨ç AI å·¥å·ï¼Claude CodeãCursorãTraeãQoder ç­ï¼ã</p>
<h2 id="3-openspec-å¦ä½æai-å·¥ä½">3 OpenSpec å¦ä½"æ"AI å·¥ä½ï¼</h2>
<p>OpenSpec çæ ¸å¿æºå¶ï¼æ¯éè¿ä¸å¥è§èæ³¨å¥ç³»ç»ï¼è®© AI å¨æ¯æ¬¡å¯¹è¯åå"å­¦ä¹ "é¡¹ç®è§èã</p>
<h3 id="31-ä¸å-ai-å·¥å·çåå§åå·®å¼">3.1 ä¸å AI å·¥å·çåå§åå·®å¼</h3>
<p>æ ¹æ®ä½ ä½¿ç¨ç AI å·¥å·ä¸åï¼OpenSpec ä¼çæä¸åçç®å½ç»æãè¿èåçè®¾è®¡çå¿µæ¯ï¼æå¤§éåº¦å°ééåå·¥å·çç¹æ§ã</p>
<h3 id="32--åºæ¯-1claude-code">3.2 ð åºæ¯ 1ï¼Claude Code</h3>
<p>Claude Code å¨æ§è¡äº OpenSpec Init åçç®å½ç»æå¦ä¸ï¼</p>
<pre><code>.claude/
âââ commands/
â   âââ openspec/      
â       âââ apply.md   
â       âââ archive.md 
â       âââ proposal.md
âââ AGENTS.md          
âââ CLAUDE.md          
</code></pre>
<p>commands/openspec è¿ä¸ªç®å½å®ä¹äºä¸ä¸ªä¸åçå½ä»¤ï¼æ¯ä¸ªå½ä»¤æä»¶ä¸­æåçæç¤ºè¯ï¼é½æ¯ AI å¨æ§è¡è¯¥å½ä»¤æ¶éè¦åèç"è§è"ãä¸è¿°ä¸ä¸ªå½ä»¤åå«æ¯ï¼</p>
<ul>
<li>apply.mdï¼è¡¨ç¤ºæ§è¡å·²æ¹åçåæ´</li>
<li>archive.mdï¼å½æ¡£å·²å®æçåæ´</li>
<li>proposal.mdï¼åèµ·æ°åæ´ææ¡</li>
</ul>
<p>å½æä»¬éè¦åèµ·æ°çææ¡æ¶ï¼å¯ä»¥ç´æ¥ä½¿ç¨ï¼<code>/openspec:proposal</code> å°±å¯ä»¥è§¦åè¯¥æä»¤ï¼æ­¤æ¶ AI å°±ä¼æ ¹æ® proposal.md ä¸­æå®ä¹çè§èï¼æ¥åå»ºä¸ä¸ªæ°çåæ´ææ¡ã</p>
<p><strong>æ ¸å¿æä»¶è§£è¯»ï¼AGENTS.md</strong></p>
<p>è¿ä¸ªæä»¶æ¯ Claude Code æ¯æ¬¡å¯¹è¯æ¶ç"ç¬¬ä¸è¯¾"ï¼åå®¹å¦ä¸ï¼</p>
<pre><code>&lt;!-- OPENSPEC:START --&gt;
# OpenSpec è¯´æ
è¿äºæä»¤æ¯éå¯¹åä¸æ¬é¡¹ç®çäººå·¥æºè½å©æã
å½è¯·æ±ä¸­åå«ä»¥ä¸åå®¹æ¶ï¼è¯·å¡å¿æå¼ `@/openspec/AGENTS.md`ï¼
- æåè§åæææ¡ï¼å¦ææ¡ãè§èãåæ´ãè®¡åç­å­ç¼ï¼
- å¼å¥æ°åè½ãéå¤§åæ´ãæ¶æè°æ´æéå¤§çæ§è½/å®å¨å·¥ä½
- å¬èµ·æ¥å«ç³ä¸æ¸ï¼ä¸å¨ç¼ç åéè¦æå¨è§è
ä½¿ç¨ `@/openspec/AGENTS.md` æ¥å­¦ä¹ ï¼
- å¦ä½åå»ºååºç¨åæ´ææ¡
- è§èæ ¼å¼åçº¦å®
- é¡¹ç®ç»æåæå
ä¿çæ­¤æç®¡åï¼ä»¥ä¾¿"openspec update"å¯ä»¥å·æ°æä»¤ã
&lt;!-- OPENSPEC:END --&gt;
</code></pre>
<p><strong>å·¥ä½åçï¼</strong></p>
<ol>
<li>Claude Code å¯å¨æ¶èªå¨è¯»å AGENTS.md</li>
<li>å¤æ­ç¨æ·è¯·æ±æ¯å¦è§¦"ææ¡/åæ´"ç­å³é®è¯</li>
<li>å¦æè§¦åï¼èªå¨å è½½ openspec/AGENTS.md ä¸­çè¯¦ç»è§è</li>
<li>AI æç§è§èæ§è¡ä»»å¡</li>
</ol>
<h3 id="33--åºæ¯-2traeå­èè·³å¨">3.3 ð åºæ¯ 2ï¼Traeï¼å­èè·³å¨ï¼</h3>
<p>OpenSpec å¨åå§åæ¶å¯éæ©çAI å·¥å·ä¸­æ¯ä¸æ¯æ Trae çï¼ä½æ¯å¾å¤æåæ¯åºäº Trae å¨å¼åã</p>
<p>æä»¥å¯¹äºä½¿ç¨ Trae çæåï¼æä»¬å¨æ§è¡ OpenSpec Init çæ¶åï¼å¯ä»¥éæ©æåä¸ä¸ªéé¡¹ Other Tools (éç¨äº VsCode ç­ï¼</p>
<p>æ­¤æ¶åå§ååçç®å½ç»æå¦ä¸ï¼</p>
<pre><code>é¡¹ç®æ ¹ç®å½/
âââ AGENT.md           # é¡¹ç®çº§è§èï¼éæå¨éç½®ï¼
âââ openspec/
    âââ AGENTS.md      # OpenSpec è¯¦ç»è§è
    âââ project.md     # é¡¹ç®ç¥è¯åº
    âââ specs/         # å·²å®ç°è½åè§è
    âââ changes/       # åæ´ææ¡
</code></pre>
<p><strong>å³é®å·®å¼ï¼éè¦æå¨éç½®</strong></p>
<p>ä¸ Claude Code ä¸åï¼èçæ¬ç Trae ä¸ä¼èªå¨è¯»å AGENT.mdãæ­¤æ¶ä½ éè¦æå¨å°è§èåå®¹æ·»å å° Trae ç"é¡¹ç®è§å"ä¸­ã</p>
<p>ä½æ¯å¯¹äºTrae 2026 å¹´ 1 æä»½ææ°çä¸æ¬¡çæ¬åæ´ä¸­ï¼ä¹å·²ç»å¼å®¹äºè¯»å AGENT.md æä»¶ä½ä¸ºé¡¹ç®è§åæ¥ä½¿ç¨ã</p>
<p>æä»¥ä½¿ç¨èçæ¬ Trae çæåéè¦åºäºä¸è¿°æ­¥éª¤è¿è¡éç½®ï¼</p>
<ol>
<li>æå¼ Trae çé¡¹ç®è®¾ç½®</li>
<li>æ¾å°"é¡¹ç®è§å"éç½®</li>
<li>å° AGENT.md çåå®¹ç²è´´è¿å»</li>
<li>ä¿å­åï¼Trae æ¯æ¬¡å¯¹è¯é½ä¼å è½½è¯¥è§å</li>
</ol>
<p>éç½®å®æåï¼Trae çå·¥ä½æµç¨ä¸ Claude Code ç±»ä¼¼ï¼</p>
<ol>
<li>æ¯æ¬¡å¯¹è¯èªå¨å è½½é¡¹ç®è§å</li>
<li>å¤æ­æ¯å¦è§¦å OpenSpec è§è</li>
<li>æ ¹æ®è§èæ§è¡å¯¹åºä»»å¡</li>
</ol>
<h2 id="3-openspec-è§èæ ¸å¿è¦ç¹">3 OpenSpec è§èæ ¸å¿è¦ç¹</h2>
<p>æ è®ºä½¿ç¨åªç§ AI å·¥å·ï¼OpenSpec çæ ¸å¿å·¥ä½æµé½æ¯ä¸è´çãçè§£è¿å¥è§èï¼ä½ å°±è½æ´å¥½å°ä¸ AI åä½ã</p>
<p><strong>ä¸é¶æ®µå·¥ä½æµï¼</strong></p>
<pre><code>é¶æ®µ1ï¼åå»ºåæ´ï¼Proposalï¼
    â
é¶æ®µ2ï¼å®ç°åæ´ï¼Applyï¼
    â
é¶æ®µ3ï¼å½æ¡£åæ´ï¼Archiveï¼
</code></pre>
<p><strong>ä½æ¶å¿é¡»åå»ºææ¡ï¼</strong></p>
<table>
<thead>
<tr>
<th>åºæ¯</th>
<th>æ¯å¦éè¦ææ¡</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ°å¢åè½æè½å</td>
<td>â å¿é¡»</td>
</tr>
<tr>
<td>ç ´åæ§åæ´ï¼API/Schemaï¼</td>
<td>â å¿é¡»</td>
</tr>
<tr>
<td>æ¶æææ¨¡å¼è°æ´</td>
<td>â å¿é¡»</td>
</tr>
<tr>
<td>Bug ä¿®å¤ï¼æ¢å¤æ¢æè¡ä¸ºï¼</td>
<td>â è·³è¿</td>
</tr>
<tr>
<td>æ¼åãæ ¼å¼ãæ³¨éä¿®æ­£</td>
<td>â è·³è¿</td>
</tr>
<tr>
<td>éç ´åæ§ä¾èµåçº§</td>
<td>â è·³è¿</td>
</tr>
</tbody>
</table>
<p><strong>å¸¸ç¨å½ä»¤ï¼</strong></p>
<pre><code class="language-bash">openspec list              # ååºææåæ´
openspec list --specs      # ååºææè§è
openspec validate &lt;id&gt;     # æ ¡éªåæ´
openspec archive &lt;id&gt;      # å½æ¡£åæ´
</code></pre>
<p>ð¡ å°è´´å£«ï¼ä½ä¸ºäººç±»å¼åèï¼ä½ æ éè®°å¿è¿äºå½ä»¤ãAI ä¼èªå¨æ§è¡ç¸åºçæä½æ¥æ£æ¥åç®¡çåæ´ææ¡ãä½ åªéè¦çè§£è¿å¥è§èçå·¥ä½æµç¨ï¼å°±è½ä¸ AI éåæ é´ã</p>
<p><strong>openspec/project.md çä½ç¨</strong></p>
<p>è¿ä¸ªæä»¶æ¯é¡¹ç®ç"ç¥è¯åº"ï¼ç¨äºå­æ¾ï¼</p>
<ul>
<li>é¡¹ç®ç®æ åèæ¯</li>
<li>æ ¸å¿ä¸å¡æ¯è¯­</li>
<li>ææ¯æ è¯´æ</li>
<li>è¯¦ç»ææ¡£ç´¢å¼</li>
</ul>
<h2 id="4-å¸¸è§é®é¢è§£ç­">4 å¸¸è§é®é¢è§£ç­</h2>
<h3 id="41-q1ä¸ºä»ä¹ææ¶å-ai-ä¸è§¦å-openspec-è§è">4.1 Q1ï¼ä¸ºä»ä¹ææ¶å AI ä¸è§¦å OpenSpec è§èï¼</h3>
<p>Aï¼è¿éå¸¸æ¯å ä¸ºè§¦åæ¡ä»¶æªè¢«æ»¡è¶³ã</p>
<p>OpenSpec çè§¦åæºå¶åºäºå³é®è¯å¹éï¼å¦"ææ¡"ã"åæ´"ã"è§è"ç­ï¼ãå¦æä½ çè¯·æ±ä¸åå«è¿äºå³é®è¯ï¼AI åä¸ä¼å è½½ OpenSpec è§èã</p>
<p><strong>è§£å³æ¹æ¡ï¼</strong></p>
<ol>
<li>æç¡®ä½¿ç¨è§¦åè¯ï¼"å¸®æåå»ºä¸ä¸ªåæ´ææ¡"</li>
<li>ç´æ¥æå®æä»¶ï¼"åéè¯» openspec/project.md ååç­"</li>
<li>ä½¿ç¨ææ å½ä»¤ï¼<code>/openspec:proposal</code>ï¼å¦æå·¥å·æ¯æï¼</li>
</ol>
<h3 id="52-q2projectmd-ä¸­çä¸å¡ç¥è¯ä»ä¹æ¶åçæ">5.2 Q2ï¼project.md ä¸­çä¸å¡ç¥è¯ä»ä¹æ¶åçæï¼</h3>
<p>Aï¼åªæè§¦å OpenSpec è§èåæä¼è¯»åã</p>
<p>è¿æ¯ä¸ä¸ªéè¦çè®¾è®¡æè¡¡ï¼</p>
<table>
<thead>
<tr>
<th>ç¥è¯ç±»å</th>
<th>å­æ¾ä½ç½®</th>
<th>è§¦åæ¡ä»¶</th>
</tr>
</thead>
<tbody>
<tr>
<td>éç¨å¼åè§è</td>
<td>/AGENTS.md</td>
<td>æ¯æ¬¡å¯¹è¯èªå¨å è½½</td>
</tr>
<tr>
<td>OpenSpec å·¥ä½æµ</td>
<td>openspec/AGENTS.md</td>
<td>è§¦åå³é®è¯åå è½½</td>
</tr>
<tr>
<td>ä¸å¡ä¸ä¸æ</td>
<td>openspec/project.md</td>
<td>éè¿è§èç´¢å¼é´æ¥å è½½</td>
</tr>
</tbody>
</table>
<p><strong>å®è·µå»ºè®®ï¼</strong></p>
<ul>
<li>å°éç¨è§åï¼å¦é¡¹ç®ç»æãç¼ç é£æ ¼ï¼æ¾å¨ /AGENTS.md ä¸­</li>
<li>å°ä¸å¡ç¥è¯ç´¢å¼ä¹åå¨ /AGENTS.md ä¸­ï¼ä¾¿äºæ¥å¸¸å¯¹è¯è§¦å</li>
<li>æèå¨å¯¹è¯ä¸­æç¡®è¦æ± AI åéè¯»ç¹å®ææ¡£</li>
</ul>
<h3 id="53-q3å¦ä½è®©-ai-èªå¨æ£ç´¢ç¸å³èæ¯ç¥è¯">5.3 Q3ï¼å¦ä½è®© AI èªå¨æ£ç´¢ç¸å³èæ¯ç¥è¯ï¼</h3>
<p>Aï¼è¿æ¯ OpenSpec çè¿åæ¹åã</p>
<p>ç®åæä½³å®è·µæ¯ï¼</p>
<ol>
<li>å¨ /AGENTS.md ä¸­å»ºç«ä¸å¡ç¥è¯ç´¢å¼</li>
<li>éç¨ææ¡æ¹å¼è®¨è®ºä¸å¡é»è¾ï¼èªå¨è§¦åè§èï¼</li>
<li>å¯¹è¯ä¸­æç¡®æå®ï¼"åéè¯» docs/xxx.md ååç­"</li>
</ol>
<h2 id="6-äºæ»ç»openspec-çæ ¸å¿ä»·å¼">6 äºãæ»ç»ï¼OpenSpec çæ ¸å¿ä»·å¼</h2>
<p>åå°å¼ç¯çé®é¢ï¼ä¸ºä»ä¹ææ¶åè®© AI åèµ·ææ¡"æ¶çµæ¶ä¸çµ"ï¼</p>
<p>ç­æ¡ç°å¨å¾æ¸æ¥äºï¼</p>
<ol>
<li><strong>è§¦åæºå¶</strong>ï¼AI éè¦è¯å«å°ç¹å®å³é®è¯æä¼å è½½ OpenSpec è§è</li>
<li><strong>å·¥å·å·®å¼</strong>ï¼ä¸å AI å·¥å·å¯¹è§èæä»¶çæ¯æç¨åº¦ä¸å</li>
<li><strong>ç¥è¯åå±</strong>ï¼ä¸å¡ç¥è¯ä¸å¼åè§èéè¦åçåå±å­æ¾</li>
</ol>
<p>OpenSpec çæ ¸å¿ä»·å¼å¨äºï¼éè¿"è§èæ³¨å¥"è®© AI ä»"é¡¹ç®å°ç½"æé¿ä¸º"çæä¸å¡çå¼åä¼ä¼´"ã</p>
<p>å®ä¸æ¯é¶å¼¹ï¼ä½å½ä½ çè§£äºå®çå·¥ä½åçåï¼å°±è½è®© AI å¨å¢éåä½ä¸­åæ¥çæ­£çä½ç¨ã</p>
<p>å½ç¶ï¼å¨æéè¦çæ¶åï¼æä»¬ä¹å¯ä»¥ä¿®æ¹ OpenSpec åå§åæ¶æçæçä¸ç³»å.mdæä»¶ï¼ç´æ¥åæ´è§èï¼ä½¿å¶æ´å ç¬¦åä¼ä¸åçä¸å¡æµç¨ã</p>
<h2 id="æ¬¢è¿æ¥å¸¸äº¤æµ">æ¬¢è¿æ¥å¸¸äº¤æµ</h2>
<p>AI é©±å¨å¢éå¼åæ¯è¿ä¸ªæ¶ä»£çæ°å½é¢ï¼æ¬¢è¿å¤§å®¶å å¾®ä¿¡äºç¸äº¤æµå¿å¾ã</p>
<p>ð æ³è¦è¿ç¾¤çæåï¼æ«ç æ¶å¤æ³¨ âAIå®éªç¾¤âï¼çå°æ¶æ¯åä¼ç¬¬ä¸æ¶é´æä½ è¿ç¾¤ã</p>
<p>ç¾¤å®ä½ï¼AIå·¥å·ææ/å®æç»éªäºå©</p>
<p>ç¾¤è§åï¼ä¸æ°´ç¾¤ãä¸å¹¿åãå¹²è´§ä¼å</p>
<p>æ¬¢è¿è®¿é®è¯¥é¾æ¥è·åç¾¤ä¿¡æ¯ï¼<a href="https://zhaozhihao.com/archives/KRMxDLo4" target="_blank" rel="noopener nofollow">https://zhaozhihao.com/archives/KRMxDLo4</a></p>
<p>å¥½æç« å¼å¾è¢«æ´å¤äººçè§ï¼æ¢ç¶çå°è¿éäºï¼éæç¹ä¸ªèµðåå³æ³¨ï¼å¹¶è½¬åç»æ´å¤çæåå§ï¼æè°¢ã</p>
<blockquote>
<p>ä½èï¼æ°å­çå½è´¾åæ¯ãå¾®ä¿¡ï¼x_h886688</p>
</blockquote>
<p>å¬ä¼å·åæå°åï¼<a href="https://mp.weixin.qq.com/s/wyUdxh2T_M30YfAPlv0QSQ" target="_blank" rel="noopener nofollow">OpenSpec åè½è¯¦è§£ï¼5 åéææ AI ç¼ç¨ç"è§èé©±å¨"æ ¸å¿</a></p>

</div>
<div id="MySignature" role="contentinfo">
    <br>
<fieldset style="padding: 10px; margin: 10px; background-color: #fff; width: 850px; border: 1px solid black; font-size: blod">
<p><span style="color: black">çæå£°æ</span></p>
<hr style="color: black">
<p><span style="color: black">ä½èï¼éå¬é</span></p>
<p><span style="color: black">åºå¤ï¼</span><a style="color: black" href="https://www.cnblogs.com/zh94/" target="_blank">éå¬éçææ¯åå®¢--https://www.cnblogs.com/zh94/</a></p>
<p><span style="color: black">æ¨çæ¯ææ¯å¯¹åä¸»æå¤§çé¼å±ï¼æè°¢æ¨çè®¤çéè¯»ã</span></p>
<p><span style="color: black">æ¬æçæå½ä½èææï¼æ¬¢è¿è½¬è½½ï¼ä½æªç»ä½èåæå¿é¡»ä¿çæ­¤æ®µå£°æï¼ä¸å¨æç« é¡µé¢ææ¾ä½ç½®ç»åºåæè¿æ¥ï¼å¦åä¿çä»»ä½è¿½ç©¶æ³å¾è´£ä»»çæå©ã</span></p>
</fieldset>

<div style="padding: 10px; margin: 10px; background-color: #fff; width: 850px; border: 0px solid black; font-size: blod">
     <img src="https://images.cnblogs.com/cnblogs_com/zh94/1586631/o_211225012748_weixin_saoma.png">&nbsp;&nbsp;&nbsp;&nbsp;<img src="https://images.cnblogs.com/cnblogs_com/zh94/1586631/o_211225012748_weixin_saoma.png">
</div>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-19 22:41">2026-01-19 22:41</span>&nbsp;
<a href="https://www.cnblogs.com/zh94">éå¬é</a>&nbsp;
éè¯»(<span id="post_view_count">7</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19503921);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19503921', targetLink: 'https://www.cnblogs.com/zh94/p/19503921', title: 'OpenSpec åè½è¯¦è§£ï¼5 åéææ AI ç¼ç¨ç&amp;quot;è§èé©±å¨&amp;quot;æ ¸å¿' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨äºï¼èªç¶è¯­è¨å¤ç  ç¬¬äºå¨ï¼è¯åµå¥ï¼äºï¼è¯åµå¥æ¨¡ååç ]]></title>
    <link>https://www.cnblogs.com/Goblinscholar/p/19503620</link>
    <guid>51a18bd2704cdccd189bbf21e0747ad0</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/Goblinscholar/p/19503620" title="åå¸äº 2026-01-19 20:35">
    <span role="heading" aria-level="2">å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨äºï¼èªç¶è¯­è¨å¤ç  ç¬¬äºå¨ï¼è¯åµå¥ï¼äºï¼è¯åµå¥æ¨¡ååç</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>æ­¤åç±»ç¨äºè®°å½å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨çå­¦ä¹ ç¬è®°ã<br>
è¯¾ç¨ç¸å³ä¿¡æ¯é¾æ¥å¦ä¸ï¼</p>
<ol>
<li>åè¯¾ç¨è§é¢é¾æ¥ï¼<a href="https://www.bilibili.com/video/BV1FT4y1E74V?buvid=XU762317353676D786954061C192FE625463B&amp;from_spmid=playlist.playlist-detail.0.0&amp;is_story_h5=false&amp;mid=zqernykrmpf7XfIorMR%2FnA%3D%3D&amp;plat_id=116&amp;share_from=ugc&amp;share_medium=android&amp;share_plat=android&amp;share_session_id=ce0bc526-db69-428a-962e-c65ed8c267bc&amp;share_source=COPY&amp;share_tag=s_i&amp;spmid=united.player-video-detail.0.0&amp;timestamp=1713085655&amp;unique_k=DfBgvFW&amp;up_id=8654113&amp;vd_source=e035e9878d32f414b4354b839a4c31a4" target="_blank" rel="noopener nofollow">[åè¯­å­å¹]å´æ©è¾¾æ·±åº¦å­¦ä¹ deeplearning.ai</a></li>
<li>githubè¯¾ç¨èµæï¼å«è¯¾ä»¶ä¸ç¬è®°:<a href="https://github.com/robbertliu/deeplearning.ai-andrewNG" target="_blank" rel="noopener nofollow">å´æ©è¾¾æ·±åº¦å­¦ä¹ æå­¦èµæ</a></li>
<li>è¯¾ç¨éå¥ç»ä¹ ï¼ä¸­è±ï¼ä¸ç­æ¡ï¼<a href="https://blog.csdn.net/u013733326/article/details/79827273" target="_blank" rel="noopener nofollow">å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾åä¹ é¢ä¸ç­æ¡</a></li>
</ol>
<p>æ¬ç¯ä¸ºç¬¬äºè¯¾çç¬¬äºå¨åå®¹ï¼<a href="https://www.bilibili.com/video/BV1FT4y1E74V?spm_id_from=333.788.videopod.episodes&amp;vd_source=e035e9878d32f414b4354b839a4c31a4&amp;p=166" target="_blank" rel="noopener nofollow">2.4</a>å°<a href="https://www.bilibili.com/video/BV1FT4y1E74V?spm_id_from=333.788.videopod.episodes&amp;vd_source=e035e9878d32f414b4354b839a4c31a4&amp;p=167" target="_blank" rel="noopener nofollow">2.5</a>çåå®¹ä»¥åä¸äºç¸å³ç¥è¯çè¡¥åã</p>
<hr>
<p>æ¬å¨ä¸ºç¬¬äºè¯¾çç¬¬äºå¨åå®¹ï¼ä¸ CV ç¸å¯¹åºçï¼è¿ä¸è¯¾ææåå®¹çä¸­å¿åªæä¸ä¸ªï¼<strong>èªç¶è¯­è¨å¤çï¼Natural Language Processingï¼NLPï¼</strong>ã<br>
åºç¨å¨æ·±åº¦å­¦ä¹ éï¼å®æ¯ä¸é¨ç¨æ¥è¿è¡<strong>ææ¬ä¸åºåä¿¡æ¯å»ºæ¨¡</strong>çæ¨¡ååææ¯ï¼æ¬è´¨ä¸æ¯å¨å¨è¿æ¥ç½ç»ä¸ç»è®¡è¯­è¨æ¨¡ååºç¡ä¸çä¸æ¬¡âç»æåç¹åâï¼ä¹æ¯äººå·¥æºè½ä¸­<strong>æè´´è¿äººç±»æç»´è¡¨è¾¾æ¹å¼</strong>çéè¦ç ç©¶æ¹åä¹ä¸ã<br>
<strong>è¿ä¸æ´èè¯¾åæ ·æ¶åå¤§ééè¦åå¤æ¶åçåå®¹ï¼æ¨ªè·¨æºå¨å­¦ä¹ ãæ¦çç»è®¡ãçº¿æ§ä»£æ°ä»¥åè¯­è¨å­¦ç´è§ã</strong><br>
è¯­è¨ä¸åå¾åé£æ ·âç´è§å¯è§âï¼æ´å¤æ¯æ½è±¡ç¬¦å·ä¸ä¸ä¸æå³ç³»çç»åï¼å æ­¤<strong>çè§£é¨æ§åèæ´é«</strong>ã<br>
å æ­¤ï¼æåæ ·ä¼å°½éè¡¥è¶³å¿è¦çèæ¯ç¥è¯ï¼å°½å¯è½ç¨æ¯å»åå®ä¾éä½çè§£é¾åº¦ã<br>
æ¬å¨çåå®¹å³äºè¯åµå¥ï¼æ¯ä¸ç§<strong>ç¸å¯¹äºç¬ç­ç¼ç ï¼æ´è½ä¿çè¯­ä¹ä¿¡æ¯çææ¬ç¼ç æ¹å¼</strong>ãéè¿è¯åµå¥ï¼æ¨¡åä¸ååªæ¯âè®°ä½âè¯æ¬èº«ï¼èæ¯è½å¤<strong>åºäºè¯­ä¹å³ç³»è¿è¡æ³å</strong>ï¼å¨ä¸å®ç¨åº¦ä¸å®ç°ç±»ä¼¼â<strong>ä¸¾ä¸åä¸</strong>âçææãè¯åµå¥æ¯ NLP é¢åä¸­æéè¦çåºç¡ææ¯ä¹ä¸ã</p>
<p>æ¬ç¯çåå®¹å³äº<strong>è¯åµå¥æ¨¡ååç</strong>ï¼æ¯äºè§£åºç¡åå®¹åçä¸ä¸æ­¥å¼å¥ã</p>
<h1 id="1-è¯åµå¥ç©éµ">1. è¯åµå¥ç©éµ</h1>
<p>å¨<a href="https://www.cnblogs.com/Goblinscholar/p/19494158" target="_blank">ä¸ä¸ç¯</a>ä¸­ï¼æä»¬ç¥ééè¿è¯åµå¥å¯ä»¥å®ç°è¯æ±çç¹å¾åè¡¨ç¤ºï¼è¿ç§åºåä¿¡æ¯ç¼ç æ¹å¼ç¸æ¯ç¬ç­ç¼ç ä¸ä»èçº¦äºå­å¨åæ¶é´ææ¬ï¼èä¸å¯ä»¥éåè¯æ±çè¯­ä¹æ¥æåæ¨¡åæ§è½ã<br>
é£ä¹è¦å¦ä½è®­ç»ä¸ä¸ªå¯ä»¥è¾åºå¯¹è¯æ±åéç¼ç çè¯åµå¥æ¨¡åå¢ï¼<br>
å®éä¸ï¼è¯åµå¥æ¨¡åçåçåæä»¬ä¹åä»ç»è¿ç<a href="https://www.cnblogs.com/Goblinscholar/p/19423276" target="_blank">å¾åé£æ ¼è½¬æ¢</a>æäºç±»ä¼¼ï¼å°±åå¶é¦åè¦éæºåå§åç®æ å¾åä¸æ ·ï¼è¯åµå¥æ¨¡åçç¬¬ä¸æ­¥ï¼å¹¶ä¸æ¯âçè§£è¯­ä¹âï¼èæ¯<strong>åç»æ¯ä¸ªè¯ä¸ä¸ªå¯ä»¥è¢«å­¦ä¹ çæ°å¼è½½ä½</strong>ã<br>
å·ä½æ¥è¯´æ¯è¿æ ·çï¼<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260119203403821-212247932.png" alt="image" loading="lazy"></p>
<p>å¦å¾æç¤ºï¼åè®¾æä»¬çè¯è¡¨å¤§å°ä¸º <span class="math inline">\(|V|\)</span>ï¼è¯åéç»´åº¦è®¾ä¸º <span class="math inline">\(d\)</span>ï¼é£ä¹è¯åµå¥æ¬è´¨ä¸å°±æ¯ä¸ä¸ªç©éµï¼æ¯ä¸è¡å¯¹åºè¯è¡¨ä¸­çä¸ä¸ªè¯ï¼æä»¬ç§°ä¹ä¸º<strong>è¯åµå¥ç©éµ</strong>ã</p>
<p></p><div class="math display">\[\mathbf{E}
=
\begin{bmatrix}
v_{1,1} &amp; v_{1,2} &amp; v_{1,3} &amp; \cdots &amp; v_{1,d} \\
v_{2,1} &amp; v_{2,2} &amp; v_{2,3} &amp; \cdots &amp; v_{2,d} \\
v_{3,1} &amp; v_{3,2} &amp; v_{3,3} &amp; \cdots &amp; v_{3,d} \\
\vdots  &amp; \vdots  &amp; \vdots  &amp; \ddots &amp; \vdots  \\
v_{|V|,1} &amp; v_{|V|,2} &amp; v_{|V|,3} &amp; \cdots &amp; v_{|V|,d}
\end{bmatrix}
\]</div><p></p><p>è¿ééè¦å¼ºè°çæ¯ï¼å¨è¯¾ç¨ä¸­ï¼å´æ©è¾¾èå¸å¸¸å¨è¯åµå¥ç©éµä¸­ä½¿ç¨ååéæ¥è¡¨ç¤ºè¯åéï¼ä»¥å¹éç©éµä¹æ³ççº¦å®ãä½å¨å®éå·¥ç¨ä»£ç ä¸­ï¼éå¸¸è§ä½è¡åéï¼ç©éµè¡å¯¹åºè¯åéï¼ã<strong>è¿åªæ¯çº¦å®é®é¢</strong>ï¼åå³äºå®ç°æ¹å¼ï¼æå­¦ä¸­ååéä¾¿äºå¬å¼æ¨å¯¼ï¼ä»£ç ä¸­è¡åéæ´é«æãäºè§£åï¼æ ¹æ®åºæ¯éæ©å³å¯ã<br>
åå°æ­£é¢ï¼å¨æ¨¡ååå§åé¶æ®µï¼è¯åµå¥ç©éµ<strong>å¹¶ä¸åå«ä»»ä½è¯­ä¹ä¿¡æ¯</strong>ï¼éå¸¸éç¨éæºåå§åï¼æèæä»åå¼ä¸º 0 çæ­£æåå¸ã<br>
æä»¬ä¹åå°±è¯´è¿ï¼è¯åéå¹¶ä¸æ¯æä»¬æå·¥è®¾å®çï¼èæ¯å¨æ¨¡åå­¦ä¹ å¾å°çï¼å¨æä»¬å®æè¯åµå¥ç©éµçåå§ååï¼<strong>è¯åµå¥æ¨¡åçç®çå°±æ¯ä¸æ­ä¼ æ­åä¼åè¯åµå¥ç©éµï¼å¾å°å¯¹è¯­ä¹ç¼ç åççè¯åé</strong>ï¼ä»èè¿è¡ä¸ä¸æ­¥åºç¨ã</p>
<p>å°è¿éå°±ä¼åç°ï¼å­¦ä¹ è¯åµå¥ç©éµçè¿ç¨åå¾åé£æ ¼è½¬æ¢çè¿ç¨éå¸¸ç¸ä¼¼ï¼ä¸å¼å§æ¯éæºåªå£°ï¼ä½å¨æå¤±å½æ°ççº¦æä¸ï¼éæ­¥å­¦ä¹ å¾å°ç»æåãææä¹çç»æã</p>
<p>å¨å®æè¯åµå¥ç©éµçåå§ååï¼<strong>æ¨¡åè®­ç»çæ ¸å¿ä»»å¡å°±æ¯è®¾è®¡åççä¸ä¸æé¢æµç®æ ï¼è®©ç©éµä¸­æ¯ä¸è¡ï¼è¯åéï¼éæ­¥è°æ´ä½ç½®ï¼ä»èæºå¸¦è¯­ä¹ä¿¡æ¯ã</strong></p>
<h1 id="2-æ©æè¯åµå¥æ¨¡å">2. æ©æè¯åµå¥æ¨¡å</h1>
<p>å¨ 2003 å¹´ï¼ä¸ç¯è®ºæ <a href="https://www.jmlr.org/papers/volume3/bengio03a/bengio03a.pdf" target="_blank" rel="noopener nofollow">A Neural Probabilistic Language Model</a>ï¼é¦æ¬¡å±ç¤ºäºä¸ä¸ªç¥ç»ç½ç»è¯­è¨æ¨¡åï¼å®ä¸ä»é¢æµä¸ä¸ä¸ªè¯çæ¦çåå¸ï¼è¿éè¿ä¸ä¸ªåµå¥å±å°è¯ç´¢å¼æ å°ä¸ºå®å¼åéãè¿äºåéæä¸ºäºè¯çç¨ å¯è¡¨ç¤ºï¼ä¹å°±æ¯æä»¬ä»å¤©æè¯´ç<strong>è¯åµå¥ï¼word embeddingsï¼</strong>ã<br>
å°½ç®¡å½æ¶è®ºæä¸­å¹¶æ²¡æç´æ¥ä½¿ç¨âword embeddingâè¿ä¸ªæ¯è¯­ï¼ä½å¶æ ¸å¿ææ³ï¼<strong>éè¿ç¥ç»ç½ç»å­¦ä¹ è¯çåå¸å¼åéè¡¨ç¤º</strong>ââæ­£æ¯ç°ä»£è¯åµå¥æ¨¡åççè®ºæºå¤´ã</p>
<h2 id="21-è¯åµå¥æ¨¡ååç">2.1 è¯åµå¥æ¨¡ååç</h2>
<p>è¿ä¸é¨åæä»¬å±å¼ä¸ä¸ï¼ç¨æ©æçæ¨¡åä»ç»ä¸ä¸æç»å¸çä¸ç±»è¯åµå¥æ¨¡åï¼<strong>é¢æµåè¯åµå¥æ¨¡å</strong>çåºæ¬é»è¾ï¼<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260119202257923-2120601282.png" alt="image.png" loading="lazy"><br>
å¾ä¸­ç®è¦æè¿°äºè¯¥æ¨¡åçä¼ æ­é»è¾ï¼è¡¥åä¸äºç»èå¦ä¸ï¼</p>
<ol>
<li><strong>åµå¥å±ï¼Embedding Layerï¼</strong>ï¼å¨å¾ä¸­çå·¦åé¨åï¼å®æçæ¯<strong>å­å¨è¯åµå¥ç©éµåæ ¹æ®ç´¢å¼æ¥æ¾æºå¶æåè¯åé</strong>çå·¥ä½ï¼æä»¬ç§°å®æè¿é¨ååå®¹çç»æä¸º<strong>åµå¥å±</strong>ã</li>
<li><strong>çªå£å¤§å° <span class="math inline">\(t\)</span></strong>ï¼è¿æ¯ä¸ä¸ªè¶åæ°ï¼å½é¢æµåºåä¸­ç¬¬ <span class="math inline">\(n\)</span> ä¸ªè¯æ±æ¶ï¼æä»¬ä½¿ç¨å¶ä¹å <span class="math inline">\(t\)</span> ä¸ªè¯æ±ä½ä¸ºåºåä¿¡æ¯ã<strong>å¨ç°ä»£ï¼åæå¦æä¸è¶³ <span class="math inline">\(t\)</span> ä¸ªï¼åä¼ä½¿ç¨ç¹æ®ç¬¦å·å¡«åã</strong></li>
<li><strong>èåæ´æ°</strong>ï¼å¨ååä¼ æ­è¿ç¨ä¸­ï¼<strong>åµå¥å±åç½ç»çå¶ä»åæ°åæ¶æ´æ°</strong>ãè¿æå³çæ¯æ¬¡çå°è®­ç»æ ·æ¬ï¼åµå¥ç©éµä¸­æ¶åç<strong>è¯åéä¼åç½ç»åæ°ä¸èµ·æ²¿æ¢¯åº¦æ¹åè°æ´</strong>ï¼ä½¿å¶æ´æå©äºä¸ä¸ä¸ªè¯çé¢æµã</li>
</ol>
<p>é£è¯åéå·ä½æ¯æä¹æ´æ°æ¥å­¦ä¹ è¯­ä¹çå¢ï¼æä»¬å±å¼è¯´è¯´ï¼</p>
<h2 id="22-è¯åéçè¯­ä¹å­¦ä¹ ">2.2 è¯åéçè¯­ä¹å­¦ä¹ </h2>
<p>ä¸¾ä¸ªä¾å­æ¥çè§£ä¸ä¸è¯åéçæ´æ°é»è¾ï¼<br>
åè®¾è®­ç»è¯­æä¸­åºç°äºè®¸å¤å³äºæ°´æçå¥å­ï¼æ¯å¦ï¼</p>
<pre><code>I like to eat apple.
She bought a banana yesterday.
Orange juice is tasty.
</code></pre>
<p>ç°å¨ï¼æ¨¡åçä»»å¡æ¯<strong>æ ¹æ®ä¸ä¸æé¢æµä¸ä¸ä¸ªè¯</strong>ãå½çå°å¥å­ <code>"I like to eat apple"</code> æ¶ï¼æ¨¡åä¼é¢æµä¸ä¸ä¸ªè¯å¯è½æ¯ <code>"apple"</code>ã<br>
è¿æ¶ï¼ååä¼ æ­æ¶ï¼æ¨¡åä¼è°æ´ <strong>âappleâå¯¹åºçè¯åé</strong>ä»¥åä¸ä¸æä¸­å¶ä»è¯çåéï¼ä½¿å¾ç½ç»æ´å®¹ææ­£ç¡®é¢æµ <code>"apple"</code>ã</p>
<p>åçï¼å½è®­ç»æ ·æ¬ä¸­åºç° <code>"banana"</code> æ <code>"orange"</code> æ¶ï¼è¿äºè¯çåéä¹ä¼å ä¸ºç¸ä¼¼çä¸ä¸æèè¢«è°æ´å°<strong>ç¸äºé è¿çä½ç½®</strong>ï¼<code>"apple"</code>, <code>"banana"</code>, <code>"orange"</code> <strong>è¿äºåç±»åçè¯å¸¸åºç°å¨ç±»ä¼¼çä¸ä¸æ</strong>ï¼å¦ eatãjuiceãlike ç­ï¼<br>
æç»æ¨¡åéè¿æ¢¯åº¦æ´æ°ï¼è®©è¿äºè¯åéå¨åéç©ºé´ä¸­<strong>å½¼æ­¤é è¿</strong>ï¼ä»èèªç¶ææå°è¯­ä¹ç¸ä¼¼æ§ã</p>
<p>è¿æ ·çææå°±æ¯ï¼å³ä½¿æ¨¡åä»æªæ¾å¼åç¥âå®ä»¬é½æ¯æ°´æâï¼è¯åéä¹ä¼å ä¸ºä¸ä¸ææ¨¡å¼ç¸ä¼¼èèªå¨èéå¨ä¸èµ·ï¼å½¢æ<strong>è¯­ä¹ç°ï¼semantic clusterï¼</strong>ï¼å³åéç©ºé´ä¸­ï¼è¯­ä¹ç¸è¿çè¯èªç¶èå¨ä¸èµ·å½¢æçç¾¤ä½ã<br>
è¿æ¶ï¼é¢å¯¹ä¸é¢è¿ä¸¤å¥è¯ï¼</p>
<pre><code>è®­ç»ï¼I like orange juice.
æµè¯ï¼I love apple _____. 
</code></pre>
<p>æ¨¡åå³ä½¿<strong>æ²¡è§è¿æµè¯è¯­å¥ï¼ä¹å¯ä»¥éè¿<code>"love å like"</code>ã<code>"apple å orange"</code> å¨åéç©ºé´çè·ç¦»ç¸è¿å¾å°æ´å¯é çç­æ¡ï¼ä»èæé«æ¨¡åæ§è½ã</strong></p>
<p>ç¨ä¸å¥è¯æ»ç»ä¸ä¸ï¼<strong>åç±»åçè¯æ±å¾å¾åºç°å¨ç¸ä¼¼çä¸ä¸æä¸­ï¼å æ­¤å¨æ´æ°åæ´å ç¸ä¼¼ï¼æç»å¨åéç©ºé´ä¸­å½¢æè¯­ä¹ç°ï¼æå¤§å¢å¼ºäºæ¨¡åçæ³åè½åã</strong></p>
<p>ä½ ä¼åç°ï¼<strong>å¨è¯åµå¥æ¨¡åä¸­ï¼è¯åéçè¯­ä¹ç»æå¹¶ä¸æ¯æ¾å¼æç»æ¨¡åçï¼èæ¯å¨ä¸ä¸æé¢æµä»»å¡ä¸­èªç¶èç¶å­¦å°çï¼æ¨¡åå¹¶æ²¡æä¸é¨å»âè®­ç»åéç¼ç âï¼èæ¯å¨é¢æµä¸­è®©ç¸ä¼¼çè¯ä¸æ­é è¿ã</strong><br>
åæ ·æ¯å¯¹æ°æ®è¿è¡ç¼ç ï¼è¯åµå¥åæä»¬ä¹åä»ç»ç<a href="https://www.cnblogs.com/Goblinscholar/p/19418306" target="_blank">äººè¸è¯å«</a>åææä¸åã</p>
<p>å½ç¶ï¼æ¢ç¶æ¯æ©ææ¨¡åï¼èªç¶æå¼å¾ä¼åçå°æ¹ï¼æä»¬ç»§ç»­ï¼</p>
<h2 id="23-æ©æè¯åµå¥æ¨¡åçå±é">2.3 æ©æè¯åµå¥æ¨¡åçå±é</h2>
<p>å°½ç®¡ A Neural Probabilistic Language Model æåæåºäºéè¿ç¥ç»ç½ç»å­¦ä¹ è¯åéçæè·¯ï¼ä½ä½ä¸ºæ©ææ¨¡åï¼å®å¨å®éåºç¨åçè®ºä¸å­å¨ä¸äºææ¾çå±éæ§ï¼</p>
<table>
<thead>
<tr>
<th>å±éç±»å«</th>
<th>å·ä½è¯´æ</th>
<th>å½±å</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>è®¡ç®å¼éå¤§</strong></td>
<td>è¾å¥æ¯ <span class="math inline">\(t\)</span> ä¸ªè¯ç¬ç­åéæ¼æ¥ï¼è¾åºæ¯è¯è¡¨å¤§å° <span class="math inline">\(V\)</span> ç softmax</td>
<td>è¯è¡¨å¤§æ¶è®¡ç®éé«ï¼è®­ç»é¢æµéåº¦æ¢</td>
</tr>
<tr>
<td><strong>ä¸ä¸æçªå£åºå®</strong></td>
<td>æ¯æ¬¡é¢æµåªä½¿ç¨å <span class="math inline">\(t\)</span> ä¸ªè¯</td>
<td>æ æ³ææé¿è·ç¦»ä¾èµï¼è¯­ä¹å»ºæ¨¡åé</td>
</tr>
<tr>
<td><strong>æ¢¯åº¦æ´æ°æçä½</strong></td>
<td>åµå¥ç©éµåç½ç»åæ°åæ¶æ´æ°ï¼æ¯ä¸ªæ ·æ¬åªæ¶åé¨åè¯åé</td>
<td>æ¶ææ¢ï¼ä½é¢è¯åéè´¨éä¸ç¨³å®</td>
</tr>
<tr>
<td><strong>æ²¡ææ¾å¼å»ºæ¨¡è¯­ä¹è§å¾</strong></td>
<td>è¯­ä¹ç¸ä¼¼æ§å®å¨ä¾èµä¸ä¸æå±ç°</td>
<td>ç¨æè¯æä½é¢è¯åéè´¨éå·®ï¼æ³åè½åæéï¼æ æ³å¤çå¤ä¹è¯</td>
</tr>
</tbody>
</table>
<p>å æ­¤ï¼ä¸ºäºè§£å³è¿äºé®é¢ï¼èªç¶æäººåææ°çææ¯åæ¨¡åï¼æä»¬å¨ä¹åå ç¯å°±æ¥è¯¦ç»ä»ç»è¿äºåå®¹ã</p>
<h1 id="3-æ»ç»">3. æ»ç»</h1>
<table>
<thead>
<tr>
<th>æ¦å¿µ</th>
<th>åç</th>
<th>æ¯å»</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>è¯åµå¥ç©éµï¼Embedding Matrixï¼</strong></td>
<td>å°è¯è¡¨ä¸­æ¯ä¸ªè¯æ å°ä¸ºå¯å­¦ä¹ çç¨ å¯åéï¼ç©éµè¡ï¼æåï¼å¯¹åºè¯åéãåå§åéæºææ­£æåå¸ï¼éè¿æ¢¯åº¦æ´æ°å­¦ä¹ è¯­ä¹ä¿¡æ¯ã</td>
<td>ç±»ä¼¼å¾åé£æ ¼è½¬æ¢ä¸­çâéæºåªå£°å¾åâï¼éæ­¥å¨è®­ç»ä¸­å½¢æç»æåå¾åã</td>
</tr>
<tr>
<td><strong>åµå¥å±ï¼Embedding Layerï¼</strong></td>
<td>å­å¨è¯åµå¥ç©éµå¹¶æä¾ç´¢å¼æ¥æ¾åè½ï¼å°è¯ç´¢å¼æ å°ä¸ºè¯åéã</td>
<td>å°±åä¸æ¬âè¯åéå­å¸âï¼æ ¹æ®ç´¢å¼ç´æ¥æ¥å°å¯¹åºçåéã</td>
</tr>
<tr>
<td><strong>ä¸ä¸æé¢æµè®­ç»</strong></td>
<td>å©ç¨å <span class="math inline">\(t\)</span> ä¸ªè¯é¢æµä¸ä¸ä¸ªè¯ï¼éè¿ååä¼ æ­æ´æ°åµå¥ç©éµåç½ç»åæ°ï¼ä½¿è¯­ä¹ç¸ä¼¼çè¯åéé è¿ã</td>
<td>å¥½æ¯è®©æ°´æç±»è¯ï¼apple, banana, orangeï¼å¨åéç©ºé´éèªç¶èæä¸ç°ï¼éè¿ç¸ä¼¼ä¸ä¸æå­¦ä¹ å®ä»¬çå³ç³»ã</td>
</tr>
<tr>
<td><strong>è¯­ä¹ç°ï¼Semantic Clusterï¼</strong></td>
<td>å¨åéç©ºé´ä¸­ï¼è¯­ä¹ç¸è¿çè¯èªç¶èéï¼ææè¯æ±ä¹é´çè¯­ä¹å³ç³»ã</td>
<td>è¯åéåæåä¸æ ·ï¼å¸¸å¨åä¸åå­ï¼ä¸ä¸æï¼åºç°å°±é è¿å¨ä¸èµ·ã</td>
</tr>
<tr>
<td><strong>æ©æè¯åµå¥æ¨¡åå±é</strong></td>
<td>è®¡ç®å¼éå¤§ï¼softmax over å¤§è¯è¡¨ï¼ä¸ä¸æçªå£åºå®ã æ¢¯åº¦æ´æ°æçä½ ãæ æ¾å¼è¯­ä¹å»ºæ¨¡ï¼å¦å¤ä¹è¯ï¼ã</td>
<td>æ¨¡ååèå¼æ¼å­æ¸¸æï¼æçä½ä¸åªè½çå°å±é¨ä¿¡æ¯ï¼é¾ä»¥ææè¿è·ç¦»æå¤æè§å¾ã</td>
</tr>
</tbody>
</table>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.041666666666666664" data-date-updated="2026-01-19 21:35">2026-01-19 20:35</span>&nbsp;
<a href="https://www.cnblogs.com/Goblinscholar">å¥å¸æå­¦è</a>&nbsp;
éè¯»(<span id="post_view_count">16</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19503620);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19503620', targetLink: 'https://www.cnblogs.com/Goblinscholar/p/19503620', title: 'å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨äºï¼èªç¶è¯­è¨å¤ç  ç¬¬äºå¨ï¼è¯åµå¥ï¼äºï¼è¯åµå¥æ¨¡ååç' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ä½¿ç¨ AI ç¼ç¨å·¥å·çä¸ç¹å®è·µä½ä¼ï¼ä¸ºä»ä¹è¦åå°å¯¹è¯è½®æ¬¡ãä¸æ¬¡æéæ±è¯´æ¸æ¥ ]]></title>
    <link>https://www.cnblogs.com/YpEng-Codeme/p/19503631</link>
    <guid>1da4d3af9b24c856cf268384e7bc1b0e</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/YpEng-Codeme/p/19503631" title="åå¸äº 2026-01-19 20:25">
    <span role="heading" aria-level="2">ä½¿ç¨ AI ç¼ç¨å·¥å·çä¸ç¹å®è·µä½ä¼ï¼ä¸ºä»ä¹è¦åå°å¯¹è¯è½®æ¬¡ãä¸æ¬¡æéæ±è¯´æ¸æ¥</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        å¨ä½¿ç¨ CursorãChatGPT ç­ AI ç¼ç¨å·¥å·çè¿ç¨ä¸­ï¼æéæ¸æè¯å°ï¼
ç¸æ¯å¤è½®å¯¹è¯ä¸æ­ä¿®è¡¥éæ±ï¼ç¨æ´å°çå¯¹è¯è½®æ¬¡ä¸æ¬¡æ§æè¿°æ¸æ¥æ ¸å¿éæ±ï¼
åèæ´å®¹æå¾å°ç¬¦åé¢æçå®ç°ã
æ¬æç»åå®éä½¿ç¨ç»éªï¼åæäºå¯¹è¯è½®æ¬¡è¿å¤å¯¼è´ç»æåç¦»çåå ï¼
ä»¥åå¨ä»ä¹æåµä¸åºå½éæ°ç¼è¾é®é¢èä¸æ¯ç»§ç»­å¯¹è¯ä¿®è¡¥ã
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="ä½¿ç¨-ai-ç¼ç¨å·¥å·çä¸ç¹å®è·µä½ä¼ä¸ºä»ä¹è¦åå°å¯¹è¯è½®æ¬¡ä¸æ¬¡æéæ±è¯´æ¸æ¥">ä½¿ç¨ AI ç¼ç¨å·¥å·çä¸ç¹å®è·µä½ä¼ï¼ä¸ºä»ä¹è¦åå°å¯¹è¯è½®æ¬¡ãä¸æ¬¡æéæ±è¯´æ¸æ¥</h1>
<h2 id="ä¸èæ¯">ä¸ãèæ¯</h2>
<p>éç CursorãCopilotãChatGPT ç­ AI ç¼ç¨å·¥å·å¨æ¥å¸¸å¼åä¸­çæ®åï¼<br>
è¶æ¥è¶å¤çå¼åèå¼å§å°è¯ç¨ AI æ¥å®æï¼</p>
<ul>
<li>åä¸ªåè½æ¨¡å</li>
<li>å°åç³»ç»åå</li>
<li>éå¤æ§ææ¨¡æ¿åä»£ç </li>
</ul>
<p>æèªå·±å¨å®éä½¿ç¨è¿äºå·¥å·çè¿ç¨ä¸­ï¼ä¹éæ¸å½¢æäºä¸äºä½¿ç¨ä¹ æ¯ã<br>
å¶ä¸­<strong>æéè¦çä¸ç¹ä½ä¼æ¯ï¼</strong></p>
<blockquote>
<p><strong>å¨è®© AI åä»£ç æ¶ï¼åºå°½éåå°å¯¹è¯è½®æ¬¡ï¼ç¨å°½å¯è½æ¸æ°ãå®æ´çæè¿°ä¸æ¬¡æ§è¯´ææ ¸å¿éæ±ã</strong></p>
</blockquote>
<p>è¿ç¯æç« ä¸»è¦è®°å½æå¨å®è·µä¸­æ»ç»åºçåå ãç»éªä»¥åéç¨è¾¹çã</p>
<hr>
<h2 id="äºå¸¸è§çéè¯¯ä½¿ç¨æ¹å¼">äºãå¸¸è§çéè¯¯ä½¿ç¨æ¹å¼</h2>
<p>å¨åå¼å§ä½¿ç¨ AI ç¼ç¨å·¥å·æ¶ï¼æï¼ä»¥åèº«è¾¹ä¸å°åäºï¼é½ä¼ä¸æè¯éç¨ç±»ä¼¼ä¸é¢çæ¹å¼ï¼</p>
<ol>
<li>åæè¿°ä¸ä¸ªæ¯è¾æ¨¡ç³çéæ±</li>
<li>ç AI çæçä»£ç </li>
<li>åç°ä¸ç¬¦åé¢æ</li>
<li>ç»§ç»­å¨å½åå¯¹è¯ä¸­è¡¥åæä¿®æ¹éæ±</li>
<li>éå¤ä¸è¿°è¿ç¨</li>
</ol>
<p>è¿ç§æ¹å¼å¨<strong>ç®åé®é¢</strong>ä¸éå¸¸æ²¡ä»ä¹é®é¢ï¼<br>
ä½å¨ä»¥ä¸åºæ¯ä¸­ï¼å¾å®¹æåºç°åå·®ï¼</p>
<ul>
<li>æ¨¡åä¹é´å­å¨å³è</li>
<li>åè½æååä¾èµå³ç³»</li>
<li>æè¾å¤éå«çº¦æï¼æ§è½ãæ©å±æ§ãç»æç­ï¼</li>
</ul>
<p>æç»ç»æå¾å¾æ¯ï¼</p>
<blockquote>
<p><strong>ä»£ç è¶æ¥è¶âè¡¥ä¸åâï¼æ´ä½å®ç°éæ¸åç¦»æåçç®æ ã</strong></p>
</blockquote>
<hr>
<h2 id="ä¸ä¸ºä»ä¹å¯¹è¯è½®æ¬¡è¶å¤ç»æè¶å®¹æåç¦»">ä¸ãä¸ºä»ä¹å¯¹è¯è½®æ¬¡è¶å¤ï¼ç»æè¶å®¹æåç¦»ï¼</h2>
<h3 id="31-æ¨¡åçè§£æ¯ä¸ä¸æé©±å¨ç">3.1 æ¨¡åçè§£æ¯âä¸ä¸æé©±å¨âç</h3>
<p>AI æ¨¡åå¹¶ä¸æ¯åäººä¸æ ·âå§ç»è®°å¾æåçç®æ âï¼èæ¯ï¼</p>
<ul>
<li>åºäºå½åä¸ä¸æè¿è¡æ¦çæ¨æ­</li>
<li>æ´å¾åäºæ»¡è¶³<strong>æè¿ä¸è½®å¯¹è¯ä¸­çæ¾å¼è¦æ±</strong></li>
</ul>
<p>å½æä»¬ä¸æ­è¿½å æ°æä»¤æ¶ï¼</p>
<ul>
<li>æ°éæ±å¯è½ä¸æ§éæ±å­å¨éæ§å²çª</li>
<li>æ¨¡åä¼å°è¯âå±é¨ä¿®è¡¥âï¼èä¸æ¯æ´ä½éæ</li>
</ul>
<p>ä¹èä¹ä¹ï¼æåçè®¾è®¡ç®æ å°±ä¼è¢«éæ¸ç¨éã</p>
<hr>
<h3 id="32-äººå¨è¡¥åéæ±æ¶å¾å¾æ¯å±é¨è§è§">3.2 äººå¨è¡¥åéæ±æ¶ï¼å¾å¾æ¯âå±é¨è§è§â</h3>
<p>å¨å¤è½®å¯¹è¯ä¸­ï¼äººéå¸¸æ¯å¨<strong>éå¯¹å½åä¸æ»¡æçç¹è¿è¡ä¿®æ­£</strong>ï¼ä¾å¦ï¼</p>
<ul>
<li>âè¿éè½ä¸è½æ¢æå¼æ­¥ï¼â</li>
<li>âè¿ä¸ªå­æ®µæä¸æ³è¦äºâ</li>
<li>âè¿ä¸ªå½æ°åå ä¸ä¸ªåæ°â</li>
</ul>
<p>ä½é®é¢å¨äºï¼</p>
<ul>
<li>è¿äºä¿®æ¹<strong>å¯è½å½±åå¶å®æ¨¡å</strong></li>
<li>AI å¹¶ä¸ç¥éä½ æ¯å¦æ¥åè¿å¸¦åå</li>
<li>ä½ èªå·±ä¹æªå¿å¨å½ä¸èèå°äºææå½±å</li>
</ul>
<p>æç»å°±ä¼åºç°ï¼</p>
<ul>
<li>åè½è½è·</li>
<li>ç»æå´è¶æ¥è¶å¥æª</li>
</ul>
<hr>
<h3 id="33-æ¨¡åéå¶--é®é¢æè§£æ¹å¼çå å æåº">3.3 æ¨¡åéå¶ + é®é¢æè§£æ¹å¼çå å æåº</h3>
<p>åç¦»é¢æï¼å¾å¾ä¸æ¯åä¸åå é æçï¼èæ¯ï¼</p>
<ul>
<li>æ¨¡åå¨é¿å¯¹è¯ä¸­çæ½è±¡è½åä¸é</li>
<li>äººå¨æé®æ¶éæ¸åæâä¿® bug å¼æé®â</li>
<li>ç¼ºä¹ä¸æ¬¡âå¨å±è§è§âçéæ°æ ¡å</li>
</ul>
<p>è¿ä¸ç¹å å å¨ä¸èµ·ï¼å°±å¾å®¹æè®©ç»æèµ°åã</p>
<hr>
<h2 id="åæ´æ¨èçä½¿ç¨æ¹å¼å°è½®æ¬¡--é«è´¨éè¾å¥">åãæ´æ¨èçä½¿ç¨æ¹å¼ï¼å°è½®æ¬¡ + é«è´¨éè¾å¥</h2>
<h3 id="41-ä¸æ¬¡æ§æè¿°æ¸æ¥æ ¸å¿éæ±">4.1 ä¸æ¬¡æ§æè¿°æ¸æ¥âæ ¸å¿éæ±â</h3>
<p>è¿éè¯´çâä¸æ¬¡æ§âï¼å¹¶ä¸æ¯è¦æ±æææç»èé½åæ­»ï¼èæ¯è³å°è¦è¯´ææ¸æ¥ï¼</p>
<ul>
<li>è¿ä¸ªæ¨¡å/ç³»ç»<strong>è¦è§£å³ä»ä¹é®é¢</strong></li>
<li>æåªäºæ ¸å¿åè½</li>
<li>åè½ä¹é´æ¯å¦æå³è</li>
<li>åªäºç¹æ¯<strong>ä¸è½éææ¹å¨ççº¦æ</strong></li>
</ul>
<p>ç¤ºä¾æè·¯ï¼</p>
<pre><code class="language-text">æè¦å®ç°ä¸ä¸ª XXX ç³»ç»ï¼ä¸»è¦åå« A / B / C ä¸ä¸ªåè½ã
å¶ä¸­ï¼
- A å B ä¹é´å­å¨ä¾èµå³ç³»
- C çå®ç°ä¸è½å½±å A çè°ç¨æ¹å¼
- æ§è½ä¼åçº§é«äºä»£ç ç®æ´æ§
</code></pre>
<hr>
<h3 id="42-æ¥åéæ ¸å¿é®é¢çéæ­¥ä¼å">4.2 æ¥åâéæ ¸å¿é®é¢âçéæ­¥ä¼å</h3>
<p>å¨ä¸æ¬¡é«è´¨éæè¿°åï¼AI çæçç»æéå¸¸ä¼ï¼</p>
<ul>
<li>æ ¸å¿ç»æåºæ¬æ­£ç¡®</li>
<li>åè½é»è¾å¤§ä½ç¬¦åé¢æ</li>
<li>ç»èä¸å­å¨ä¸äºå°é®é¢</li>
</ul>
<p>è¿äºå°é®é¢éå¸¸åæ¬ï¼</p>
<ul>
<li>å½åä¸å¤ä¼é</li>
<li>å±é¨ä»£ç ä¸å¤ç®æ´</li>
<li>æ ·å¼æç¾è§é®é¢</li>
</ul>
<p>ð <strong>è¿äºé®é¢æ¯éåéè¿âå°éè¿½å å¯¹è¯âæ¥ä¼åçã</strong></p>
<hr>
<h2 id="äºä»ä¹æ¶ååºè¯¥åæ­¢å¯¹è¯éæ°ç¼è¾é®é¢">äºãä»ä¹æ¶ååºè¯¥âåæ­¢å¯¹è¯ï¼éæ°ç¼è¾é®é¢âï¼</h2>
<p>è¿æ¯ä¸ä¸ªéå¸¸å³é®çå¤æ­ç¹ã</p>
<h3 id="51-æç¡®åºè¯¥éæ¥çä¸äºä¿¡å·">5.1 æç¡®åºè¯¥éæ¥çä¸äºä¿¡å·</h3>
<p>å¦æåºç°ä»¥ä¸æåµä¹ä¸ï¼<strong>å¼ºçå»ºè®®éæ°ç¼è¾éæ±ï¼èä¸æ¯ç»§ç»­å¯¹è¯ä¿®è¡¥</strong>ï¼</p>
<ul>
<li>æ°éæ±ä¼å½±åå¤ä¸ªå·²æåè½</li>
<li>ä¿®æ¹ä¸ä¸ªåè½ï¼ä¼è¿å¸¦å½±åå¶å®æ¨¡å</li>
<li>ä½ åç°èªå·±å¨âæè¡¥ä¸âèä¸æ¯å¨è®¾è®¡</li>
<li>ä½ å·²ç»å¾é¾ç¨ä¸å¥è¯è¯´æå½åä»£ç ç»æ</li>
</ul>
<p>æ­¤æ¶ç»§ç»­å¯¹è¯ï¼å¤§æ¦çåªä¼è®©é®é¢æ´å¤æã</p>
<hr>
<h3 id="52-æ­£ç¡®çåæ³">5.2 æ­£ç¡®çåæ³</h3>
<p>æ´å¥½çæ¹å¼æ¯ï¼</p>
<ol>
<li>åæ­¢å½åå¯¹è¯</li>
<li>åé¡¾å½åä»£ç åçå®éæ±</li>
<li>å¨<strong>æ°çå¯¹è¯ä¸­éæ°æ´çæè¿°</strong></li>
<li>æä¹åæ´é²åºçç¼ºé·æç¡®åè¿å»</li>
</ol>
<p>ä¾å¦ï¼</p>
<pre><code class="language-text">å¨ä¹åçå®ç°ä¸­ï¼æåç° A å B çè®¾è®¡å­å¨è¦åé®é¢ã
è¿æ¬¡å¸æï¼
- æç¡®æå A / B çèè´£
- ä¿è¯åç»­æ©å± C åè½æ¶ä¸éè¦ä¿®æ¹ A
</code></pre>
<hr>
<h2 id="å­å³äºä¸æ¬¡æ§æè¿°åçµæ´»è°æ´çå¹³è¡¡">å­ãå³äºâä¸æ¬¡æ§æè¿°âåâçµæ´»è°æ´âçå¹³è¡¡</h2>
<p>éè¦å¼ºè°çæ¯ï¼</p>
<blockquote>
<p><strong>åå°å¯¹è¯è½®æ¬¡ â  ä¸æ¬¡æ§æä¸ååå°æè´å®ç¾</strong></p>
</blockquote>
<p>æ´åççå¹³è¡¡æ¯ï¼</p>
<ul>
<li>æ ¸å¿è®¾è®¡ãå³é®çº¦æï¼ä¸æ¬¡è¯´ææ¸æ¥</li>
<li>éæ ¸å¿ç»èãä½éªä¼åï¼åè®¸å°éè°æ´</li>
<li>ç»ææ§ç¼ºé·ãç³»ç»æ§é®é¢ï¼ç´æ¥éæ¥</li>
</ul>
<p>æ AI å½æä¸ä¸ªï¼</p>
<blockquote>
<p><strong>æ§è¡è½åå¾å¼ºï¼ä½ä¸å·å¤å¨å±èªçè½åçå©æ</strong></p>
</blockquote>
<p>èä¸æ¯ä¸ä¸ªä¼èªå¨âå¸®ä½ çº åâçé«çº§å·¥ç¨å¸ã</p>
<hr>
<h2 id="ä¸æ»ç»">ä¸ãæ»ç»</h2>
<p>ç»åèªå·±çå®éä½¿ç¨ç»éªï¼æç®åå½¢æçç»è®ºæ¯ï¼</p>
<ol>
<li>AI ç¼ç¨å·¥å·éå¸¸ä¾èµè¾å¥è´¨é</li>
<li>å¯¹è¯è½®æ¬¡è¶å¤ï¼è¶å®¹æåç¦»æåç®æ </li>
<li>æ ¸å¿é®é¢åºä¸æ¬¡æ§æè¿°æ¸æ¥</li>
<li>ç»ææ§é®é¢ä¸è¦éè¿âè¡¥ä¸å¼å¯¹è¯âä¿®å¤</li>
<li>éæ°ç¼è¾é®é¢ï¼å¾å¾æ¯ç»§ç»­å¯¹è¯æ´é«æ</li>
</ol>
<p>åç»­æä¹ä¼ç»åå·ä½æ¡ä¾ï¼åæ¬éè¯¯ç¤ºèåæ­£ç¡®ç¤ºèï¼è¿ä¸æ­¥è¡¥åè¯´æã</p>
<hr>
<blockquote>
<p><strong>è¿ç¯æç« å¹¶ä¸æ¯å¦å®å¤è½®å¯¹è¯çä»·å¼ï¼èæ¯å¸æå¨åéçåºæ¯ä¸ï¼ç¨æ´åççæ¹å¼ä½¿ç¨ AIã</strong></p>
</blockquote>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-19 20:26">2026-01-19 20:25</span>&nbsp;
<a href="https://www.cnblogs.com/YpEng-Codeme">YounGp_oo</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19503631);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19503631', targetLink: 'https://www.cnblogs.com/YpEng-Codeme/p/19503631', title: 'ä½¿ç¨ AI ç¼ç¨å·¥å·çä¸ç¹å®è·µä½ä¼ï¼ä¸ºä»ä¹è¦åå°å¯¹è¯è½®æ¬¡ãä¸æ¬¡æéæ±è¯´æ¸æ¥' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ WebDatasetä½¿ç¨æåï¼æå»ºé«ææ·±åº¦å­¦ä¹ æ°æ®ç®¡é ]]></title>
    <link>https://www.cnblogs.com/aurora-zzm/p/19503592/webdataset_usage</link>
    <guid>872fb46da917430f3bbb05c343847e17</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/aurora-zzm/p/19503592/webdataset_usage" title="åå¸äº 2026-01-19 20:04">
    <span role="heading" aria-level="2">WebDatasetä½¿ç¨æåï¼æå»ºé«ææ·±åº¦å­¦ä¹ æ°æ®ç®¡é</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<blockquote>
<p>å¨æ·±åº¦å­¦ä¹ é¡¹ç®å®è·µä¸­ï¼æ°æ®å è½½å¾å¾æä¸ºéå¶è®­ç»éåº¦çå³é®ç¶é¢ãå½æ°æ®éè§æ¨¡è¾¾å°æ°ç¾ä¸çè³æ°åäº¿æ ·æ¬æ¶ï¼ä¼ ç»çæä»¶ç³»ç»éæºè®¿é®æ¹å¼ä¼å¯¼è´I/Oæçæ¥å§ä¸éï¼è®©æè´µçGPUèµæºå¤äºé²ç½®ç­å¾ç¶æãWebDatasetéè¿<strong>æµå¼å¤ç</strong>å<strong>é¡ºåºè¯»å</strong>çè®¾è®¡çå¿µï¼å¯ä»¥æå¤§æåæ°æ®å è½½æ§è½ã</p>
</blockquote>
<h2 id="ä»ä¹æ¯webdataset">ä»ä¹æ¯WebDatasetï¼</h2>
<p>WebDatasetæ¯ä¸ä¸ªåºäºTARå½æ¡£æ ¼å¼çæ·±åº¦å­¦ä¹ æ°æ®å è½½åºï¼ä¸ä¸ºå¤çè¶å¤§è§æ¨¡æ°æ®éèè®¾è®¡ãå¶æ ¸å¿ææ³æ¯å°<strong>å¤§éå°æä»¶æåæè¾å¤§çTARæä»¶</strong>ï¼éè¿é¡ºåºè¯»åæ¿ä»£éæºè®¿é®ï¼æå¤§æåI/Oæçã</p>
<p>æ¬è´¨ä¸ï¼<em><strong>wdsæ ¼å¼æä»¶å°±æ¯éµå¾ªäºé¢å¤çº¦å®çtaræä»¶ï¼å¹¶ä¸ä¸è¬ä¸åç¼©ï¼ä½¿å¾å¯ä»¥å®ç°æµå¼è¯»åã</strong></em></p>
<h3 id="ä¸ä¼ ç»æ¹å¼çå¯¹æ¯">ä¸ä¼ ç»æ¹å¼çå¯¹æ¯</h3>
<table>
<thead>
<tr>
<th>ç¹æ§</th>
<th>ä¼ ç»æä»¶ç³»ç»</th>
<th>WebDataset</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>è®¿é®æ¨¡å¼</strong></td>
<td>éæºè®¿é®ï¼é«å»¶è¿</td>
<td>é¡ºåºè¯»åï¼é«åå</td>
</tr>
<tr>
<td><strong>å­å¨æç</strong></td>
<td>æä»¶ç³»ç»åæ°æ®å¼éå¤§</td>
<td>TARå®¹å¨åå°åæ°æ®</td>
</tr>
<tr>
<td><strong>åå¸å¼æ¯æ</strong></td>
<td>éè¦å¤æåè°æºå¶</td>
<td>å¤©ç¶æ¯æåçåæ°æ®å¹¶è¡</td>
</tr>
<tr>
<td><strong>ç½ç»ä¼ è¾</strong></td>
<td>å°æä»¶ä¼ è¾æçä½</td>
<td>å¤§æä»¶æµå¼ä¼ è¾</td>
</tr>
<tr>
<td><strong>ä½¿ç¨ä¾¿æ·æ§</strong></td>
<td>éè¦è§£ååé¢å¤ç</td>
<td>ç´æ¥è¯»åï¼æ éè§£å</td>
</tr>
</tbody>
</table>
<h2 id="webdatasetçæ ¸å¿åç">WebDatasetçæ ¸å¿åç</h2>
<h3 id="é¡ºåºè¯»åçä¼å¿">é¡ºåºè¯»åçä¼å¿</h3>
<p>ä¼ ç»æ·±åº¦å­¦ä¹ æ°æ®éç±æ°ç¾ä¸ä¸ªå°æä»¶ç»æï¼è®­ç»æ¶éè¦éæºè®¿é®è¿äºæä»¶ãæºæ¢°ç¡¬ççéæºè¯»åéåº¦éå¸¸åªæé¡ºåºè¯»åç1/100ï¼å³ä½¿åºæç¡¬çä¹å­å¨ææ¾å·®è·ãWebDatasetéè¿å°ç¸å³æä»¶æåæTARå½æ¡£ï¼å°éæºI/Oè½¬æ¢ä¸ºé¡ºåºI/Oï¼ååå©ç¨ç°ä»£å­å¨ç³»ç»çååè½åã</p>
<h3 id="åçæºå¶">åçæºå¶</h3>
<p>WebDatasetå°å¤§æ°æ®éåå²ä¸ºå¤ä¸ªTARæä»¶ï¼åçï¼ï¼æ¯ä¸ªåçåå«æ°åä¸ªæ ·æ¬ãè¿ç§è®¾è®¡å¸¦æ¥å¤éå¥½å¤ï¼</p>
<ul>
<li><strong>å¹¶è¡å è½½</strong>ï¼ä¸ååçå¯ç±ä¸åå·¥ä½è¿ç¨å¹¶è¡è¯»å</li>
<li><strong>åå¸å¼è®­ç»</strong>ï¼æ¯ä¸ªè®­ç»èç¹å¯å¤çä¸åçåçå­é</li>
<li><strong>å®¹éæ§</strong>ï¼åä¸ªåçæåä¸å½±åæ´ä¸ªæ°æ®é</li>
</ul>
<h3 id="æ ·æ¬ç»ç»è§è">æ ·æ¬ç»ç»è§è</h3>
<p>WebDatasetéµå¾ªä¸¥æ ¼çå½åçº¦å®ï¼<em><strong>åä¸æ ·æ¬çæææä»¶å±äº«ç¸åçåç¼keyï¼éè¿æ©å±ååºåæ°æ®ç±»åã</strong></em></p>
<blockquote>
<p>åç¼keyï¼taræä»¶åé¨ï¼æä¸ªæä»¶çè·¯å¾çç¬¬ä¸ä¸ªå¥ç¹ä¹åçé¨å</p>
</blockquote>
<p>æä»¶å¯ä»¥æå¤ä¸ªåç¼ï¼çè³æ²¡æåç¼ï¼è¿æ ·å¨å­å¸ä¸­çé®å°±æ¯ç©ºå­ç¬¦ï¼ï¼èä¸ç¸ååç¼keyçï¼åä¸æ ·æ¬ä¸­çï¼æä»¶æ°éå¯ä»¥ä¸åºå®ã<br>
ç¤ºä¾TARæä»¶åå®¹ç»æï¼</p>
<pre><code>images17/image194.left.jpg  
images17/image194.right.jpg  
images17/image194.json  
images17/image12.left.jpg  
images17/image12.json  
images3/image14  
</code></pre>
<p>è¯»åä¹åï¼ä¼å¾å°åè¿æ ·çå­å¸</p>
<pre><code class="language-python">[
{ â__key__â: âimages17/image194â, âleft.jpgâ: bâ...â, âright.jpgâ: bâ...â, âjsonâ: bâ...â}  
{ â__key__â: âimages17/image12â, âleft.jpgâ: bâ...â, âjsonâ: bâ...â}  
{ â__key__â: âimages3/image14â, ââ: bââ}  
]
</code></pre>
<h2 id="åå»ºwebdatasetæ ¼å¼æ°æ®é">åå»ºWebDatasetæ ¼å¼æ°æ®é</h2>
<h3 id="ä½¿ç¨tarwriter-api">ä½¿ç¨TarWriter API</h3>
<pre><code class="language-python">import webdataset as wds
import json

def create_webdataset(output_path, samples):
    """åå»ºWebDatasetæ ¼å¼æ°æ®é"""
    with wds.TarWriter(output_path) as sink:
        for i, (image_data, label, metadata) in enumerate(samples):
            sink.write({
                "__key__": f"sample{i:06d}",      # æ ·æ¬å¯ä¸æ è¯
                "jpg": image_data,               # å¾åæ°æ®ï¼å­èæ ¼å¼ï¼
                "cls": str(label).encode(),      # ç±»å«æ ç­¾
                "json": json.dumps(metadata).encode()  # åæ°æ®
            })
</code></pre>
<h2 id="è¯»ååå¤çwebdatasetæ°æ®é">è¯»ååå¤çWebDatasetæ°æ®é</h2>
<h3 id="åºç¡æ°æ®ç®¡é">åºç¡æ°æ®ç®¡é</h3>
<pre><code class="language-python">import webdataset as wds
import torch
from torchvision import transforms

# å®ä¹æ°æ®é¢å¤ç
preprocess = transforms.Compose([
    transforms.RandomResizedCrop(224),
    transforms.RandomHorizontalFlip(),
    transforms.ToTensor(),
    transforms.Normalize(mean=[0.485, 0.456, 0.406], 
                         std=[0.229, 0.224, 0.225])
])

# åå»ºWebDatasetæ°æ®ç®¡é
dataset = (wds.WebDataset("dataset-{000000..000099}.tar")  # 100ä¸ªåç
    .shuffle(1000)                    # æ ·æ¬çº§æä¹±
    .decode("pil")                    # è§£ç ä¸ºPILå¾å
    .to_tuple("jpg", "cls")           # æåå¾ååæ ç­¾
    .map_tuple(preprocess, lambda x: int(x))  # åºç¨é¢å¤ç
    .batched(32)                      # æ¹å¤ç
	)

# åå»ºDataLoader
dataloader = torch.utils.data.DataLoader(
    dataset, 
    batch_size=None,  # æ¹å¤çå·²å¨ç®¡éä¸­å®æ
    num_workers=4
)
</code></pre>
<h3 id="é«çº§æ°æ®å¤çæå·§">é«çº§æ°æ®å¤çæå·§</h3>
<p>WebDatasetæ¯æå¤æçæ°æ®å¤çç®¡éï¼åæ¬å¤æ¨¡ææ°æ®èååå¨æå¢å¼ºï¼</p>
<pre><code class="language-python">def create_advanced_pipeline():
    """åå»ºé«çº§æ°æ®å¤çç®¡é"""
    
    # å¾åå¢å¼º
    image_augmentation = transforms.Compose([
        transforms.RandomChoice([
            transforms.ColorJitter(brightness=0.2, contrast=0.2),
            transforms.GaussianBlur(3),
            transforms.RandomAffine(degrees=15, scale=(0.9, 1.1))
        ]),
        transforms.RandomHorizontalFlip(),
    ])
    
    # ææ¬é¢å¤ç
    def text_preprocessing(text_bytes):
        text = text_bytes.decode("utf-8").lower().strip()
        # åºç¨ææ¬æ¸æ´ååè¯é»è¾
        return text
    
    dataset = (wds.WebDataset("multimodal-{000000..000050}.tar")
        .shuffle(5000)  # å¤§ç¼å²åºæé«éæºæ§
        .decode("pil", handler=wds.warn_and_continue)  # éè¯¯å¤ç
        .rename(image="jpg;png;jpeg", text="txt;json", caption="caption;text")
        .map_dict(  # å¯¹ä¸åå­æ®µåºç¨ä¸åå¤ç
            image=image_augmentation,
            text=text_preprocessing,
            caption=text_preprocessing
        )
        .to_tuple("image", "text", "caption")  # å¤æ¨¡æè¾åº
        .batched(16, partial=False)  # ç²¾ç¡®æ¹å¤§å°æ§å¶
    )
    
    return dataset
</code></pre>
<h2 id="åå¸å¼è®­ç»éæ">åå¸å¼è®­ç»éæ</h2>
<h3 id="åæºå¤gpuè®­ç»">åæºå¤GPUè®­ç»</h3>
<pre><code class="language-python">import webdataset as wds
import torch.distributed as dist

def setup_distributed_training():
    """è®¾ç½®åå¸å¼è®­ç»ç¯å¢"""
    
    # åå§åè¿ç¨ç»
    dist.init_process_group(backend="nccl")
    local_rank = int(os.environ["LOCAL_RANK"])
    world_size = dist.get_world_size()
    
    # æ ¹æ®rankéç½®è®¾å¤
    torch.cuda.set_device(local_rank)
    
    return local_rank, world_size

def create_distributed_loader(url_pattern, batch_size=32):
    """åå»ºåå¸å¼æ°æ®å è½½å¨"""
    
    local_rank, world_size = setup_distributed_training()
    
    dataset = (wds.WebDataset(
            url_pattern, 
            resampled=True,  # å¯ç¨ééæ ·ä»¥æ¯ææ éæ°æ®æµ
            nodesplitter=wds.split_by_node,
            splitter=wds.split_by_worker
        )
        .shuffle(1000)
        .decode("pil")
        .to_tuple("jpg", "cls")
        .batched(batch_size)
    )
    
    loader = wds.WebLoader(
        dataset,
        batch_size=None,
        num_workers=4,
        shuffle=False  # æä¹±å·²å¨æ°æ®ç®¡éä¸­å¤ç
    )
    
    # è®¾ç½®epoché¿åº¦
    loader = loader.with_epoch(10000)  # æ¯ä¸ªepochå¤ç10000ä¸ªæ¹æ¬¡
    
    return loader
</code></pre>
<h3 id="å¤èç¹è®­ç»éç½®">å¤èç¹è®­ç»éç½®</h3>
<p>å¯¹äºè·¨å¤ä¸ªæå¡å¨çè®­ç»ä»»å¡ï¼WebDatasetæä¾å®æ´çå¤èç¹æ¯æï¼</p>
<pre><code class="language-python">def multi_node_training_setup():
    """å¤èç¹è®­ç»éç½®"""
    
    dataset = (wds.WebDataset("dataset-{000000..012345}.tar")
        .shuffle(10000)
        .decode("torchrgb")  # ç´æ¥è§£ç ä¸ºPyTorchå¼ é
        .split_by_node  # èªå¨æèç¹åå²æ°æ®
        .split_by_worker  # æå·¥ä½è¿ç¨åå²
        .to_tuple("image", "label")
        .batched(64)
    )
    
    # ä½¿ç¨WebLoaderä¼åæ§è½
    loader = wds.WebLoader(
        dataset,
        batch_size=None,
        num_workers=8,
        persistent_workers=True  # ä¿æå·¥ä½è¿ç¨æ´»è·
    )
    
    return loader
</code></pre>
<h2 id="æ§è½ä¼åæä½³å®è·µ">æ§è½ä¼åæä½³å®è·µ</h2>
<h3 id="åçç­ç¥ä¼å">åçç­ç¥ä¼å</h3>
<p>åçå¤§å°å¯¹æ§è½ææ¾èå½±åï¼å»ºè®®æ ¹æ®å­å¨ç±»åéæ©ï¼</p>
<ul>
<li><strong>æ¬å°ç¡¬ç</strong>ï¼256MB-1GB/åç</li>
<li><strong>ç½ç»å­å¨</strong>ï¼1-4GB/åç</li>
<li><strong>äºå¯¹è±¡å­å¨</strong>ï¼4-16GB/åç</li>
</ul>
<pre><code class="language-python">def optimize_shard_size(base_url, target_size_mb=1024):
    """æ ¹æ®ç®æ å¤§å°ä¼ååçç­ç¥"""
    # è®¡ç®æ ·æ¬å¹³åå¤§å°
    sample_size = estimate_average_sample_size()
    samples_per_shard = (target_size_mb * 1024 * 1024) // sample_size
    
    return f"{base_url}-{{000000..999999}}.tar", samples_per_shard
</code></pre>
<h3 id="ç¼å­ç­ç¥">ç¼å­ç­ç¥</h3>
<p>å¯¹äºè¿ç¨æ°æ®éï¼ä½¿ç¨ç¼å­å¯ä»¥æ¾èåå°ç½ç»ä¼ è¾ï¼</p>
<pre><code class="language-python">dataset = (wds.WebDataset("https://example.com/dataset-{000000..000999}.tar")
    .cache_dir("./cache")  # æ¬å°ç¼å­ç®å½
    .cache_size(10 * 1024 ** 3)  # 10GBç¼å­å¤§å°
    .shuffle(10000)
    .decode("pil")
)
</code></pre>
<h3 id="åå­ä¼åæå·§">åå­ä¼åæå·§</h3>
<p>å¤çè¶å¤§å¾åæè§é¢æ¶ï¼ä½¿ç¨æµå¼è§£ç é¿ååå­æº¢åºï¼</p>
<pre><code class="language-python">def streamed_video_processing():
    """æµå¼è§é¢å¤çé¿ååå­æº¢åº"""
    
    dataset = (wds.WebDataset("video-dataset.tar")
        .shuffle(100)
        .decode("rgb8", handler=wds.ignore_and_continue)  # æµå¼è§£ç 
        .map(video_frame_sampling)  # å¸§éæ ·
        .slice(0, 100)  # éå¶åºåé¿åº¦
        .batched(1)  # è§é¢æ¹å¤çå¤§å°ä¸º1
    )
    
    return dataset
</code></pre>
<h2 id="æéæé¤ä¸è°è¯">æéæé¤ä¸è°è¯</h2>
<h3 id="å¸¸è§é®é¢è§£å³">å¸¸è§é®é¢è§£å³</h3>
<ol>
<li><strong>åå­ä¸è¶³</strong>ï¼åå°æ¹å¤§å°æä½¿ç¨æµå¼è§£ç </li>
<li><strong>æ°æ®å è½½æ¢</strong>ï¼å¢å åçå¤§å°æè°æ´å·¥ä½è¿ç¨æ°</li>
<li><strong>æ ·æ¬ä¸å¹é</strong>ï¼æ£æ¥TARæä»¶ä¸­åä¸æ ·æ¬çæä»¶å½åä¸è´æ§</li>
</ol>
<h3 id="è°è¯æå·§">è°è¯æå·§</h3>
<pre><code class="language-python"># å¯ç¨è¯¦ç»æ¥å¿
import os
os.environ["WDS_VERBOSE_CACHE"] = "1"
os.environ["GOPEN_VERBOSE"] = "1"

# æ£æ¥æ°æ®æ ·æ¬
dataset = wds.WebDataset("dataset.tar")
for sample in dataset.take(5):  # åªåå5ä¸ªæ ·æ¬
    print("Sample keys:", list(sample.keys()))
    for key, value in sample.items():
        print(f"{key}: {type(value)}, size: {len(value) if hasattr(value, '__len__') else 'N/A'}")
</code></pre>
<h2 id="éæºè¯»å">éæºè¯»å</h2>
<p>è½ç¶wdsæ ¼å¼æ¯ä¸ºäºæµå¼è¯»åèè®¾è®¡çï¼éæºè¯»åæäºè¿èå¶ä½¿ç¨çå¿µï¼ä½æ¯åªè½æµå¼è¯»åä¹æäºä¸æ¹ä¾¿ãæ¯å¦å½æ³éæºæ¥æ¾ç¬¬nä¸ªæ ·æ¬ï¼æ¯å¦bad caseï¼æ¶ï¼éæºè¯»åè¿æ¯æ´å æ¹ä¾¿å¿«æ·ã<br>
å¨å®è£å®æ¹çwebdataset pythonåºæ¶ï¼è¿ä¼åæ­¥å®è£ wids è¿ä¸ªåºï¼ä¼å¯ä»¥å¸®å©wdsæ ¼å¼æ°æ®éå®ç°éæºè¯»åã<a href="https://www.bing.com/ck/a?!&amp;&amp;p=8c306290ed0a41aeda3ad41f03f82846e4e663c8ea4b25152258d8546b6dc558JmltdHM9MTc2ODc4MDgwMA&amp;ptn=3&amp;ver=2&amp;hsh=4&amp;fclid=18e4bf87-a076-62ee-3329-aa52a19c6398&amp;u=a1aHR0cHM6Ly9weXBpLm9yZy9wcm9qZWN0L3dpZHMv&amp;ntb=1" target="_blank" rel="noopener nofollow">wids Â· PyPI</a> ä¸­ç»åºäºä¸ä¸ªDEMO.</p>
<p>ä½æ¯å¦æå¯ä»¥è·åæ ·æ¬æå¨taræä»¶è·¯å¾åkeyï¼ç´æ¥åºäºwebdatasetçæ¥å£è¯»åä¹ä¸ä¼å¾æ¢ï¼ä¸åºè¯¥ä½¿ç¨widsï¼å¦å¤ï¼æåç°widsçç¸å³èµæå¾å°ï¼ï¼å¾ä¹é½ä¸æ´æ°äºï¼å®æ¹å¥½åä¹ä¸å¨æè¿ä¸ªåè½ï¼æèªå·±å°è¯äºä¸ä¸æè§æä¹ä¸å¤§ã</p>
<h2 id="ç»è®º">ç»è®º</h2>
<p>WebDatasetéè¿åæ°çæµå¼æ°æ®å è½½èå¼ï¼å½»åºè§£å³äºå¤§è§æ¨¡æ·±åº¦å­¦ä¹ è®­ç»ä¸­çæ°æ®I/Oç¶é¢ãå¶æ ¸å¿ä¼å¿å¨äºï¼</p>
<ol>
<li><strong>åè¶æ§è½</strong>ï¼é¡ºåºè¯»åç¸æ¯éæºè®¿é®å¸¦æ¥3-10åçæ§è½æå</li>
<li><strong>åå¸å¼åå¥½</strong>ï¼å¤©ç¶æ¯æå¤èç¹ãå¤GPUè®­ç»åºæ¯</li>
<li><strong>çµæ´»æ§</strong>ï¼æ¯æä»»ææ°æ®ç±»ååå¤æçå¤æ¨¡æåºæ¯</li>
<li><strong>æç¨æ§</strong>ï¼ä¸PyTorchçææ ç¼éæï¼APIè®¾è®¡ç®æ´ç´è§</li>
</ol>
<p>éçæ·±åº¦å­¦ä¹ æ°æ®éè§æ¨¡çä¸æ­å¢é¿ï¼WebDatasetå·²æä¸ºå¤çTBçº§çè³PBçº§æ°æ®çæ åå·¥å·ãææ¡WebDatasetçä½¿ç¨æå·§ï¼å¯¹äºæå»ºé«æãå¯æ©å±çæ·±åº¦å­¦ä¹ ç³»ç»è³å³éè¦ã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-19 20:05">2026-01-19 20:04</span>&nbsp;
<a href="https://www.cnblogs.com/aurora-zzm">ä¸èæ±æ¹</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19503592);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19503592', targetLink: 'https://www.cnblogs.com/aurora-zzm/p/19503592/webdataset_usage', title: 'WebDatasetä½¿ç¨æåï¼æå»ºé«ææ·±åº¦å­¦ä¹ æ°æ®ç®¡é' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ AIæ°æå¥é¨ï¼10åéç¨Spring AIæé ä½ çç¬¬ä¸ä¸ªæºè½å¿çå¨è¯¢å¸ ]]></title>
    <link>https://www.cnblogs.com/freshman118/p/19503473</link>
    <guid>0a4c5e4039bd9a9318b3e105d4f5df5e</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/freshman118/p/19503473" title="åå¸äº 2026-01-19 18:57">
    <span role="heading" aria-level="2">AIæ°æå¥é¨ï¼10åéç¨Spring AIæé ä½ çç¬¬ä¸ä¸ªæºè½å¿çå¨è¯¢å¸</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>å¤§å®¶å¥½ï¼ææ¯ä½ ä»¬ç AI ææ¯åå¯¼ãä»å¤©å¸¦æ¥ä¸ç¯è¶çº§å®ç¨ç Spring AI ä¸ææç¨ï¼ä¸ä¸ºé¶åºç¡ç AI ç±å¥½èè®¾è®¡ãæ éé«æ·±ææ¯èæ¯ï¼åªé 10 åéï¼ä½ å°±è½åå»ºä¸ä¸ªè½å¯¹è¯çæºè½ä½ï¼</p>
<h2 id="ä»ä¹æ¯-spring-ai">ä»ä¹æ¯ Spring AIï¼</h2>
<p>Spring AI æ¯ Spring çæä¸­ç¨äºç®å AI åºç¨å¼åçæ¡æ¶ï¼è®©å¼åèè½è½»æ¾éæå¤§è¯­è¨æ¨¡åãä»å¤©ç Demo å°åºäºé¿éäºç DashScope å¹³å°ï¼åå»ºä¸ä¸ªä¸ä¸çå¿çå¨è¯¢å¸æºè½ä½ã</p>
<h2 id="ç¯å¢åå¤">ç¯å¢åå¤</h2>
<p>é¦åï¼æä»¬éè¦åå»ºä¸ä¸ª Spring é¡¹ç®ãæ¨èä½¿ç¨ IDEA å¼åå·¥å·ï¼</p>
<ol>
<li>æå¼ IDEAï¼éæ©æ°å»º Spring é¡¹ç®</li>
</ol>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1463469/202601/1463469-20260119183448837-976143561.png" class="lazyload"></p>
<ol>
<li>è®¾ç½® Spring Boot çæ¬ä»¥åä¾èµ</li>
</ol>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1463469/202601/1463469-20260119183448708-1298325751.png" class="lazyload"></p>
<ol>
<li>é¡¹ç®åå»ºæååï¼è¿å¥ä¸ä¸æ­¥</li>
</ol>
<h2 id="æ·»å å³é®ä¾èµ">æ·»å å³é®ä¾èµ</h2>
<p>å¨é¡¹ç®ç pom.xml æä»¶ä¸­ï¼æ·»å ä»¥ä¸ä¸¤ä¸ªæ ¸å¿ä¾èµï¼</p>
<pre><code class="language-xml">&lt;dependency&gt;
    &lt;groupId&gt;com.alibaba.cloud.ai&lt;/groupId&gt;
    &lt;artifactId&gt;spring-ai-alibaba-agent-framework&lt;/artifactId&gt;
    &lt;version&gt;1.1.0.0-M5&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.alibaba.cloud.ai&lt;/groupId&gt;
    &lt;artifactId&gt;spring-ai-alibaba-starter-dashscope&lt;/artifactId&gt;
    &lt;version&gt;1.1.0.0-M5&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<p>è¿ä¸¤ä¸ªä¾èµåå«æä¾äºæºè½ä½æ¡æ¶å DashScope æ¨¡åçæ¯æã</p>
<h2 id="ç¼åæ ¸å¿ä»£ç ">ç¼åæ ¸å¿ä»£ç </h2>
<p>å¨ com.jackson.aiagent åä¸åå»º AgentExample.java æä»¶ï¼</p>
<pre><code class="language-java">package com.jackson.aiagent;

// å¯¼å¥å¿è¦çç±»
public class AgentExample {
    public static void main(String[] args) throws Exception {
        // 1. åå»ºæ¨¡åå®ä¾ï¼è®°å¾æ¿æ¢æä½ èªå·±çAPI Keyï¼
        DashScopeApi dashScopeApi = DashScopeApi.builder()
                .apiKey("sk-309xxxxxxxxxxxxxxxxxxxxxxxx")
                .build();
        ChatModel chatModel = DashScopeChatModel.builder()
                .dashScopeApi(dashScopeApi)
                .build();

        // 2. åå»ºæºè½ä½è§è²
        ReactAgent agent = ReactAgent.builder()
                .name("æºè½å¿çå¨è¯¢å¸")
                .model(chatModel)
                .instruction("ä½ æ¯ä¸å10å¹´ç»éªçèµæ·±å¿çå¨è¯¢å¸.")
                .build();

        // 3. ä¸æºè½ä½å¯¹è¯
        var response = agent.call("æéçæäºä»ä¹çç¶ï¼è¯¥å¦ä½ç¼è§£ï¼");
        System.out.println(response.getText());
    }
}
</code></pre>
<h2 id="è¿è¡ä½ çç¬¬ä¸ä¸ª-ai-æºè½ä½">è¿è¡ä½ çç¬¬ä¸ä¸ª AI æºè½ä½</h2>
<p>ä»£ç ç¼åå®æåï¼ç´æ¥è¿è¡ main æ¹æ³ãä½ ä¼çå°æ§å¶å°è¾åºç±»ä¼¼ä»¥ä¸åå®¹ï¼</p>
<p><img alt="" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1463469/202601/1463469-20260119183448703-1412029219.png" class="lazyload"></p>
<h2 id="ææ¯è¦ç¹è§£æ">ææ¯è¦ç¹è§£æ</h2>
<ul>
<li>â<strong>API Key éç½®</strong>âï¼éè¦å° DashScope å¹³å°ç³è¯·èªå·±ç API Key</li>
<li>â<strong>æºè½ä½å®å¶</strong>âï¼éè¿ instruction åæ°å®ä¹æºè½ä½çä¸ä¸èæ¯</li>
<li>â<strong>å¯¹è¯äº¤äº</strong>âï¼ä½¿ç¨ call æ¹æ³å³å¯ä¸æºè½ä½è¿è¡å¯¹è¯</li>
</ul>
<h2 id="æå±æè·¯">æå±æè·¯</h2>
<p>è¿ä¸ª Demo è½ç¶ç®åï¼ä½å·²ç»åå«äº AI æºè½ä½çæ ¸å¿è¦ç´ ãä½ å¯ä»¥å°è¯ï¼</p>
<ul>
<li>æ´æ¢ä¸åçä¸ä¸è§è²ï¼å¦æ³å¾é¡¾é®ãç¼ç¨å©æç­ï¼</li>
<li>è®¾è®¡æ´å¤æçå¯¹è¯æµç¨</li>
<li>éæå° Web åºç¨ä¸­æä¾å¨çº¿æå¡</li>
</ul>
<h2 id="æ»ç»">æ»ç»</h2>
<p>éè¿è¿ä¸ªæç¨ï¼æä»¬è§è¯äº Spring AI çå¼ºå¤§ä¹å¤ââç¨æç®çä»£ç å®ç°æºè½å¯¹è¯åè½ãä½ä¸º AI æ°æï¼è¿æ¯ä¸ä¸ªå®ç¾çèµ·ç¹ãæªæ¥ä½ å¯ä»¥å¨æ­¤åºç¡ä¸æ¢ç´¢æ´å¤æç AI åºç¨åºæ¯ã</p>
<p><strong>å¨æè¯è¯å§ï¼</strong> å¨è¯è®ºåºåäº«ä½ çç¬¬ä¸ä¸ªæºè½ä½ä½åï¼éå°é®é¢éæ¶æé®å¦~</p>
<hr>
<p><em>æ¬æåºäºææ¯ææ¡£æ´çï¼éå AI å¥é¨å­¦ä¹ ãå®éå¼åä¸­è¯·åèå®æ¹ææ°ææ¡£ã</em></p>
<p>_Reference: _https://github.com/alibaba/spring-ai-alibaba</p>

</div>
<div id="MySignature" role="contentinfo">
    <p>æ¬ææ¥èªåå®¢å­ï¼ä½èï¼<a href="https://www.cnblogs.com/freshman118/" target="_blank">90åå°éèå¸</a>ï¼è½¬è½½è¯·æ³¨æåæé¾æ¥ï¼<a href="https://www.cnblogs.com/freshman118/p/19503473" target="_blank">https://www.cnblogs.com/freshman118/p/19503473</a></p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-19 18:57">2026-01-19 18:57</span>&nbsp;
<a href="https://www.cnblogs.com/freshman118">90åå°éèå¸</a>&nbsp;
éè¯»(<span id="post_view_count">36</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19503473);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19503473', targetLink: 'https://www.cnblogs.com/freshman118/p/19503473', title: 'AIæ°æå¥é¨ï¼10åéç¨Spring AIæé ä½ çç¬¬ä¸ä¸ªæºè½å¿çå¨è¯¢å¸' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ [python] python-docx-templateæ¨¡æ¿åWordææ¡£çææå ]]></title>
    <link>https://www.cnblogs.com/luohenyueji/p/19503461</link>
    <guid>9916d943f68805f7e3422cd64ba6a3e5</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/luohenyueji/p/19503461" title="åå¸äº 2026-01-19 18:51">
    <span role="heading" aria-level="2">[python] python-docx-templateæ¨¡æ¿åWordææ¡£çææå</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>python-docxåºçæ ¸å¿åè½æ¯ç¨åºååå»ºå¨æ°çWordææ¡£ï¼ä½å¨åºäºå·²ææ¨¡æ¿æ¿æ¢å¶é¨ååå®¹æ¶ï¼å¶æä½ä¼éå¸¸ç¹çãç¨æ·éè¦åè§£æææ¡£ç»æãå®ä½å·ä½ä½ç½®ãæå¨æ¿æ¢åå®¹ï¼å¹¶ç»´æ¤åææ ¼å¼ä¸å¸å±ï¼å¯¼è´å¼åæçè¾ä½ãç¸å³ä½¿ç¨æ¹æ³å¯åèï¼<a href="https://www.cnblogs.com/luohenyueji/p/19479110" target="_blank">åºäºpython-docxåºçWordææ¡£èªå¨å¤çå¨è§£</a>ã</p>
<p>python-docx-templateæ­£æ¯ä¸ºè§£å³è¿ä¸çç¹èè®¾è®¡çãå®åé´Jinja2æ¨¡æ¿å¼æçæè·¯ï¼åè®¸å¨Wordææ¡£ä¸­ç´æ¥æå¥ç±»ä¼¼<code>{{variable}}</code>çå ä½ç¬¦ï¼éåä»ç¨å è¡ä»£ç å³å¯å®ææ°æ®å¡«åï¼æ éå³å¿åºå±ææ¡£ç»æï¼å®ç¾ééåºäºæ¨¡æ¿ä¿®æ¹ææ¡£çåºæ¯ã</p>
<p><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/%5Bpython%5D%20python-docx-template%E6%A8%A1%E6%9D%BF%E5%8C%96Word%E6%96%87%E6%A1%A3%E7%94%9F%E6%88%90%E6%8C%87%E5%8C%97/imgs/1.jpg" alt="" loading="lazy"></p>
<p>python-docx-templateåºäºpython-docxå®ç°ææ¡£è¯»ååè½ï¼å¹¶åå©jinja2æä¾çµæ´»çæ¨¡æ¿æ ç­¾æ¯æï¼å¶è®¾è®¡æè·¯å¦ä¸ï¼</p>
<ol>
<li>
<p>ç¨Wordå¶ä½æ¨¡æ¿<br>
å¨Microsoft Wordä¸­èªç±è®¾è®¡ææ¡£æ ¼å¼ï¼å¦æå¥å¾çãè®¾ç½®é¡µçé¡µèãè°æ´è¡¨æ ¼æ ·å¼ï¼ååå©ç¨Wordå¼ºå¤§çæçåè½ã</p>
</li>
<li>
<p>æå¥æ¨¡æ¿åé<br>
å¨éè¦å¨æåå®¹çä½ç½®ï¼ç´æ¥è¾å¥Jinja2é£æ ¼çæ ç­¾ï¼ä¾å¦<code>{{company_name}}</code>æ<code>{%for item in list%}</code>ã</p>
</li>
<li>
<p>ä¿å­ä¸ºæ¨¡æ¿æä»¶<br>
å°ææ¡£ä¿å­ä¸ºæ®éç.docxæä»¶ï¼è¯¥æä»¶å³æä¸ºå¯å¤ç¨çæ¨¡æ¿ã</p>
</li>
<li>
<p>ç¨Pythonæ¹éçæ<br>
å è½½æ¨¡æ¿å¹¶ä¼ å¥å­å¸æå¯¹è±¡ï¼python-docx-templateä¼èªå¨æ¿æ¢æ ç­¾ï¼çææç»ææ¡£ã</p>
</li>
</ol>
<p>python-docx-templateçå®æ¹ä»£ç ä»åºå°åä¸ºï¼<a href="https://github.com/elapouya/python-docx-template" target="_blank" rel="noopener nofollow">python-docx-template</a>ï¼è¯¦ç»ææ¡£å¯åéï¼<a href="https://docxtpl.readthedocs.io/" target="_blank" rel="noopener nofollow">python-docx-template doc</a>ãæ¬æä½¿ç¨çpython-docx-templateçæ¬ä¸º0.20.2ï¼å®è£å½ä»¤å¦ä¸ï¼</p>
<blockquote>
<p>pip install docxtpl</p>
</blockquote>
<p>å¶ä¸­ï¼docxtplæ¯python-docx-templateåºçæ­£å¼åååç§°ï¼äºèæä»£åä¸å·¥å·ã</p>
<p></p><div class="toc"><div class="toc-container-header">ç®å½</div><ul><li><a href="#1-ä½¿ç¨è¯´æ" rel="noopener nofollow">1 ä½¿ç¨è¯´æ</a><ul><li><a href="#11-æ ¸å¿æ¦å¿µ" rel="noopener nofollow">1.1 æ ¸å¿æ¦å¿µ</a><ul><li><a href="#111-æ ç­¾è¯´æ" rel="noopener nofollow">1.1.1 æ ç­¾è¯´æ</a></li><li><a href="#112-å¸¸è§åç´ " rel="noopener nofollow">1.1.2 å¸¸è§åç´ </a></li></ul></li><li><a href="#12-å¤æåç´ " rel="noopener nofollow">1.2 å¤æåç´ </a><ul><li><a href="#121-å¯ææ¬" rel="noopener nofollow">1.2.1 å¯ææ¬</a></li><li><a href="#122-å¯ææ¬æ®µè½" rel="noopener nofollow">1.2.2 å¯ææ¬æ®µè½</a></li><li><a href="#123-æµ®å¨å¯¹è±¡" rel="noopener nofollow">1.2.3 æµ®å¨å¯¹è±¡</a></li><li><a href="#124-å­ææ¡£" rel="noopener nofollow">1.2.4 å­ææ¡£</a></li></ul></li><li><a href="#13-è¡¥åæä½" rel="noopener nofollow">1.3 è¡¥åæä½</a><ul><li><a href="#131-è½¬ä¹æä½" rel="noopener nofollow">1.3.1 è½¬ä¹æä½</a></li><li><a href="#132-è·åæªå®ä¹åé" rel="noopener nofollow">1.3.2 è·åæªå®ä¹åé</a></li><li><a href="#133-jinjaèªå®ä¹è¿æ»¤å¨" rel="noopener nofollow">1.3.3 Jinjaèªå®ä¹è¿æ»¤å¨</a></li><li><a href="#134-microsoft-word-2016ç¹æ®è¡ä¸ºè¯´æ" rel="noopener nofollow">1.3.4 Microsoft Word 2016ç¹æ®è¡ä¸ºè¯´æ</a></li></ul></li></ul></li><li><a href="#2-åè" rel="noopener nofollow">2 åè</a></li></ul></div><p></p>
<h1 id="1-ä½¿ç¨è¯´æ">1 ä½¿ç¨è¯´æ</h1>
<h2 id="11-æ ¸å¿æ¦å¿µ">1.1 æ ¸å¿æ¦å¿µ</h2>
<h3 id="111-æ ç­¾è¯´æ">1.1.1 æ ç­¾è¯´æ</h3>
<p>python-docx-templateåè®¸å¨Wordææ¡£ä¸­ä½¿ç¨Jinja2æ ç­¾åè¿æ»¤å¨ãä½ä¸ºç¡®ä¿å¶å¨Wordä¸­æ­£å¸¸è¿ä½ï¼ééµå¾ªè¥å¹²éå¶ã</p>
<p>å¸¸è§Jinja2æ ç­¾ä»è½å¨åä¸æ®µè½åä¸åä¸ææ¬è¿è¡ä¸­ä½¿ç¨ï¼è¥éæ§å¶æ®µè½ãè¡¨æ ¼è¡æåå«æ ·å¼çå®æ´ææ¬è¿è¡ï¼åå¿é¡»ä½¿ç¨åç»­ç« èä»ç»çå¤æåç´ æ ç­¾è¯­æ³ã</p>
<p>ä¸¾ä¾èè¨ï¼è¥åå»ºä¸ä¸ªææå­ç¬¦æ ·å¼ç¸åçæ®µè½ï¼Wordåé¨åªä¼çæä¸ä¸ªææ¬è¿è¡å¯¹è±¡ãä½è¥å¨è¯¥æ®µè½ä¸­å°é¨åæå­è®¾ç½®ä¸ºå ç²ï¼Wordä¼å°åæææ¬è¿è¡æåä¸ºä¸ä¸ªç¬ç«é¨åï¼åå«å¯¹åºæ®éæ ·å¼ãå ç²æ ·å¼åæ¢å¤åçæ®éæ ·å¼ã</p>
<p><strong>æ ç­¾</strong></p>
<p>è¥è¦å¯¹æ®µè½ãè¡¨æ ¼è¡ãè¡¨æ ¼åä»¥åææ¬æ®µè¿è¡ç®¡çï¼éä½¿ç¨ä»¥ä¸ä¸ç¨è¯­æ³ï¼</p>
<ul>
<li>æ®µè½æ ç­¾ï¼<code>{%p jinja2_tag %}</code></li>
<li>è¡¨æ ¼è¡æ ç­¾ï¼<code>{%tr jinja2_tag %}</code></li>
<li>è¡¨æ ¼åæ ç­¾ï¼<code>{%tc jinja2_tag %}</code></li>
<li>ææ¬æ®µæ ç­¾ï¼<code>{%r jinja2_tag %}</code></li>
</ul>
<p>è¿äºä»¥<code>{% %}</code>åè£¹çåå®¹æ¯Jinja2æ¨¡æ¿è¯­æ³æ ç­¾ï¼å¼æä¼è¯å«å¹¶æ§è¡å¶ä¸­çé»è¾ãä¸ä¸ªå®æ´çæ¨¡æ¿æ ç­¾åºæ¬ç»æå¦ä¸ï¼</p>
<pre><code>{% æä»¤å³é®å­ åæ°/æ¡ä»¶ %}  // èµ·å§æ ç­¾
åå®¹                      // è¢«æ ç­¾æ§å¶çææ¬
{% ç»æå³é®å­ %}          // ç»ææ ç­¾
</code></pre>
<p>éè¿æ­¤ç±»æ ç­¾ï¼python-docx-templateå¯èªå¨å°æ åJinja2æ ç­¾ï¼å³å»é¤åç¼<code>p</code>ã<code>tr</code>ã<code>tc</code>ã<code>r</code>åçåå®¹ï¼ç²¾ç¡®åµå¥å°ææ¡£XMLæºç çç¸åºä½ç½®ã</p>
<p><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/%5Bpython%5D%20python-docx-template%E6%A8%A1%E6%9D%BF%E5%8C%96Word%E6%96%87%E6%A1%A3%E7%94%9F%E6%88%90%E6%8C%87%E5%8C%97/imgs/2.jpg" alt="" loading="lazy"></p>
<p>åè®¾æ¨¡æ¿åå®¹å¦ä¸ï¼</p>
<pre><code>{%p if display_paragraph %}
ä¸æ®µæå¤æ®µææ¬åå®¹
{%p endif %}
</code></pre>
<p>æ è®ºdisplay_paragraphåéåå¼å¦ä½ï¼é¦å°¾ä¸¤ä¸ªåå«<code>{%p ... %}</code>æ ç­¾çæ®µè½ï¼é½ä¸ä¼åºç°å¨æç»çæçdocxææ¡£ä¸­ã<br>
åªæå½display_paragraphçå¼ä¸ºTrueæ¶ï¼ä»¥ä¸åå®¹æä¼è¢«ä¿çå¨çæçææ¡£éï¼</p>
<pre><code>ä¸æ®µæå¤æ®µææ¬åå®¹
</code></pre>
<p>å¯¹äºæ¨¡æ¿éçæ ç­¾æ ¼å¼ééµå¾ªå¦ä¸è¦æ±ï¼å¦åæ æ³çææ­£ç¡®ç»æï¼</p>
<ul>
<li>èµ·å§æ ç­¾åéç¬¦åå¿é¡»å ç©ºæ ¼ï¼ç»ææ ç­¾åéç¬¦åå¿é¡»å ç©ºæ ¼ï¼
<ul>
<li>éè¯¯ç¤ºä¾ï¼<pre><code>{%if something%}
{%pif display_paragraph%}
</code></pre>
</li>
<li>æ­£ç¡®ç¤ºä¾ï¼<pre><code>{% if something %}
{%p if display_paragraph %}
</code></pre>
</li>
</ul>
</li>
<li>åä¸æ®µè½ãè¡ãåæææ¬æ®µåï¼ç¦æ­¢è¿ç»­ä½¿ç¨æ ç­¾åéç¬¦ï¼
<ul>
<li>éè¯¯ç¤ºä¾ï¼<pre><code>{%p{%tr{%tc{%r
</code></pre>
</li>
</ul>
</li>
<li>æ ç­¾ä¸åå®¹ä¸å¯åå¨åä¸è¡ï¼éæ¢è¡æçï¼
<ul>
<li>éè¯¯ç¤ºä¾ï¼<pre><code>{%p if display_paragraph %}Here is my paragraph {%p endif %}
</code></pre>
</li>
<li>æ­£ç¡®ç¤ºä¾ï¼<pre><code>{%p if display_paragraph %}
Here is my paragraph
{%p endif %}
</code></pre>
</li>
</ul>
</li>
</ul>
<h3 id="112-å¸¸è§åç´ ">1.1.2 å¸¸è§åç´ </h3>
<p><strong>æ¾ç¤ºåé</strong></p>
<p>Jinja2æ¨¡æ¿éï¼å¯ä»¥ç¨åå¤§æ¬å·æ¥æ¾ç¤ºåéï¼</p>
<pre><code>{{ &lt;åéå&gt; }}
</code></pre>
<p>å¦æåéæ¯æ®éå­ç¬¦ä¸²ï¼å­ç¬¦ä¸²éçç¹æ®ç¬¦å·ä¼èªå¨è½¬æ¢æå¯¹åºçæ ¼å¼ï¼</p>
<ul>
<li><code>\n</code> â æ¢è¡</li>
<li><code>\a</code> â åæ®µ</li>
<li><code>\t</code> â å¶è¡¨ç¬¦ï¼æä¸ä¸ Tab é®çææï¼</li>
<li><code>\f</code> â åé¡µç¬¦</li>
</ul>
<p>å¦æåéæ¯å¯ææ¬ï¼RichTextï¼å¯¹è±¡ï¼å¿é¡»å¨åéååå ä¸ä¸ª<code>r</code>ï¼æç¡®è¡¨ç¤ºè¦æ¸²æè¿ä¸ªå¯ææ¬åå®¹ï¼</p>
<pre><code>{{r &lt;åéå&gt; }}
</code></pre>
<p>æ³¨æï¼<code>r</code>è¦ç´§è·å¨å·¦å¤§æ¬å·çåé¢ã</p>
<p>æ­¤å¤ï¼åéåä¸­ç¦æ­¢ç´æ¥ä½¿ç¨<code>&lt;</code>,<code>&gt;</code>, <code>&amp;</code>è¿ç±»å­ç¬¦ï¼é¤éç¨äºè½¬ä¹è¯­æ³ã</p>
<p><strong>æ³¨é</strong></p>
<p>å¯ä»¥å¨æ¨¡æ¿ä¸­æ·»å ç±»Jinja2é£æ ¼çæ³¨éï¼æ³¨éä¸ä¼è¢«æ¸²æå°æç»æä»¶ï¼</p>
<pre><code>{#p è¿æ¯ä¸ä¸ªæ®µè½ç±»åçæ³¨é #}
{#tr è¿æ¯ä¸ä¸ªè¡¨æ ¼è¡ç±»åçæ³¨é #}
{#tc è¿æ¯ä¸ä¸ªè¡¨æ ¼ååæ ¼ç±»åçæ³¨é #}
</code></pre>
<p>å¨æ§è¡å¦ä¸ä»£ç å¯¹æ¨¡æ¿æä»¶è¿è¡æ¸²ææä½æ¶ï¼æ¨¡æ¿ä¸­åæçæææ³¨éä¿¡æ¯åä¼è¢«æ¸é¤ï¼ä¸ä¼ä¿çå¨æç»çæ¸²æç»æä¸­ï¼</p>
<pre><code class="language-python"># https://github.com/elapouya/python-docx-template/blob/master/tests/comments.py
from docxtpl import DocxTemplate
import os

# data: https://github.com/elapouya/python-docx-template/blob/master/tests/templates/comments_tpl.docx
tpl = DocxTemplate("templates/comments_tpl.docx")

tpl.render({})
os.makedirs("output",exist_ok=True)
tpl.save("output/comments.docx")
</code></pre>
<p><strong>ææ¬çæåä¸åå¹¶</strong></p>
<p>è¥åå«Jinja2æ ç­¾çææ¬è¿é¿ï¼ä¼å¯¼è´å¯è¯»æ§ä¸éï¼ä¾å¦ï¼</p>
<pre><code>æçæ¿å­ä½äº{% if living_in_town %}åå¸åºå{% else %}ä¹¡æå°åº{% endif %}ï¼æéå¸¸åæ¬¢å®ã
</code></pre>
<p>åå©<code>{%-</code>è¯­æ³ï¼å¯å°Jinja2æ ç­¾ä¸ä¸ä¸è¡åå®¹åå¹¶ï¼åæ¶åå©<code>-%}</code>è¯­æ³ï¼å¯å°Jinja2æ ç­¾ä¸ä¸ä¸è¡åå®¹åå¹¶ãæ­¤æ¶å¯ä½¿ç¨åè½¦é®ï¼Enterï¼æShift+Enterå¯¹ææ¬è¿è¡æåæçï¼åéè¿ä¸è¿°çæ ç­¾è¯­æ³å°æååçåå®¹åå¹¶ä¸ºä¸ä¸ªæ´ä½ï¼ç¤ºä¾å¦ä¸ï¼</p>
<pre><code>æçæ¿å­ä½äº
{%- if living_in_town -%}
åå¸åºå
{%- else -%}
ä¹¡æå°åº
{%- endif -%}
ï¼æéå¸¸åæ¬¢å®ã
</code></pre>
<p>æ¸²æä»£ç å¦ä¸ï¼</p>
<pre><code class="language-python">from docxtpl import DocxTemplate
tpl = DocxTemplate("template.docx")
context = {"living_in_town": True}

tpl.render(context)
tpl.save("output/output.docx")
</code></pre>
<p><strong>è¡¨æ ¼</strong></p>
<p>å¯ä»¥ä½¿ç¨<code>colspan</code>æ ç­¾å®ç°è¡¨æ ¼ååæ ¼çæ°´å¹³åå¹¶ï¼</p>
<pre><code>{% colspan &lt;var&gt; %}
</code></pre>
<p><code>&lt;var&gt;</code>å¿é¡»ä¸ºæ´æ°ï¼ç¨äºæå®éè¦åå¹¶çåæ°ãä¹å¯éè¿Jinja2æ¨¡æ¿å¼æèªå¨è®¡ç®ï¼å¦åç½®è¿æ»¤å¨countéè¿ç®¡éç¬¦|æ¥æ¶col_labelsï¼ç¨äºç»è®¡å¶åç´ æ°éï¼</p>
<pre><code>{% colspan col_labels|count %}
</code></pre>
<p>ä»¥ä¸ç¤ºä¾å±ç¤ºäºå¦ä½å©ç¨<code>colspan</code>æ ç­¾ã<code>tr</code>å<code>tc</code>æ ç­¾å¨æå¡«åä¸ä¸ªè¡¨æ ¼ï¼</p>
<pre><code class="language-python"># https://github.com/elapouya/python-docx-template/blob/master/tests/dynamic_table.py
from docxtpl import DocxTemplate
import os
# data: https://github.com/elapouya/python-docx-template/blob/master/tests/templates/dynamic_table_tpl.docx
tpl = DocxTemplate("templates/dynamic_table_tpl.docx")

context = {
    "col_labels": ["fruit", "vegetable", "stone", "thing"],
    "tbl_contents": [
        {"label": "yellow", "cols": ["banana", "capsicum", "pyrite", "taxi"]},
        {"label": "red", "cols": ["apple", "tomato", "cinnabar", "doubledecker"]},
        {"label": "green", "cols": ["guava", "cucumber", "aventurine", "card"]},
    ],
}

tpl.render(context)
os.makedirs("output",exist_ok=True)
tpl.save("output/dynamic_table.docx")
</code></pre>
<p>ä¹å¯ä»¥å¨forå¾ªç¯ä¸­å®ç°ååæ ¼æ°´å¹³åå¹¶ï¼</p>
<pre><code>{% hm %}
</code></pre>
<p>ä»¥ä¸ä»£ç å±ç¤ºäºå¦ä½å©ç¨<code>hm</code>æ ç­¾å®ç°ååæ ¼æ°´å¹³åå¹¶ï¼</p>
<pre><code class="language-python"># https://github.com/elapouya/python-docx-template/blob/master/tests/horizontal_merge.py
from docxtpl import DocxTemplate
import os
# data: https://github.com/elapouya/python-docx-template/blob/master/tests/templates/horizontal_merge_tpl.docx
tpl = DocxTemplate("templates/horizontal_merge_tpl.docx")
tpl.render({})
os.makedirs("output",exist_ok=True)
tpl.save("output/horizontal_merge.docx")
</code></pre>
<p>æ­¤å¤ï¼è¿å¯ä»¥å¨forå¾ªç¯ä¸­å®ç°ååæ ¼åç´åå¹¶ï¼</p>
<pre><code>{% vm %}
</code></pre>
<p>ä»¥ä¸ç¤ºä¾å±ç¤ºäºå¦ä½å®ç°è¡¨æ ¼ååæ ¼çåç´åå¹¶ææï¼</p>
<pre><code class="language-python"># https://github.com/elapouya/python-docx-template/blob/master/tests/vertical_merge.py
from docxtpl import DocxTemplate

# data: https://github.com/elapouya/python-docx-template/blob/master/tests/templates/vertical_merge_tpl.docx
tpl = DocxTemplate("templates/vertical_merge_tpl.docx")

context = {
    "items": [
        {"desc": "Python interpreters", "qty": 2, "price": "FREE"},
        {"desc": "Django projects", "qty": 5403, "price": "FREE"},
        {"desc": "Guido", "qty": 1, "price": "100,000,000.00"},
    ],
    "total_price": "100,000,000.00",
    "category": "Book",
}

tpl.render(context)
tpl.save("output/vertical_merge.docx")
</code></pre>
<p>è¥éè¦ä¿®æ¹è¡¨æ ¼ååæ ¼çèæ¯è²ï¼å¿é¡»å°ä»¥ä¸æ ç­¾æ¾ç½®å¨ååæ ¼åå®¹çæå¼å¤´ä½ç½®ï¼</p>
<pre><code>{% cellbg &lt;var&gt; %}
</code></pre>
<p><code>&lt;var&gt;</code>å¿é¡»å¡«åé¢è²çåå­è¿å¶ç¼ç ï¼ä¸æ éåå«äºå·ï¼#ï¼ã</p>
<h2 id="12-å¤æåç´ ">1.2 å¤æåç´ </h2>
<p><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/%5Bpython%5D%20python-docx-template%E6%A8%A1%E6%9D%BF%E5%8C%96Word%E6%96%87%E6%A1%A3%E7%94%9F%E6%88%90%E6%8C%87%E5%8C%97/imgs/3.jpg" alt="" loading="lazy"></p>
<h3 id="121-å¯ææ¬">1.2.1 å¯ææ¬</h3>
<p>å¯ææ¬ï¼Rich Textï¼æ¯ç¸å¯¹äºçº¯ææ¬ï¼Plain Textï¼èè¨çä¸ç§ææ¬æ ¼å¼ãå®ä¸ä»åå«æå­åå®¹ï¼è¿æ¯æä¸ºæå­æ·»å åç§æ ¼å¼å±æ§åå¤åªä½åç´ ï¼ä»èåç°åºæ´ä¸ºä¸°å¯çè§è§ææãè¿ç§æ ¼å¼çç¼è¾åå¤çä¹å¯ä»¥éè¿å¨Microsoft Wordè½¯ä»¶ä¸­é¢åå®ä¹å­ç¬¦æ ·å¼æ¥å®ç°ã</p>
<p>å¨python-docx-templateä¸­ä½¿ç¨å¯ææ¬çæ­¥éª¤å¦ä¸ï¼</p>
<ol>
<li>å¨Wordæ¨¡æ¿ä¸­ï¼ä¸ºå¯ææ¬å®ä¹ä¸ä¸ªå ä½ç¬¦ãä¾å¦ï¼ä½¿ç¨<code>{{r rich_text_var}}</code>ï¼å¶ä¸­çrè¡¨ç¤ºå¯ææ¬ã</li>
<li>å¨Pythonä»£ç ä¸­ï¼å©ç¨RichTextç±»æå»ºå¸¦ææ ¼å¼çææ¬åå®¹ã</li>
<li>æ¸²ææ¨¡æ¿æ¶ï¼å ä½ç¬¦ä¼è¢«æ¿æ¢ä¸ºå¯ææ¬åå®¹ï¼å¹¶ä¿çææå·²å®ä¹çæ ¼å¼æ ·å¼ã</li>
</ol>
<p>å¨ä»£ç ä¸­ä½¿ç¨RichTextç±»æ¶ï¼è¿å¯éè¿ä»¥ä¸æ è®°æ§å¶ææ¬æ ¼å¼ï¼</p>
<ul>
<li>æ¢è¡ï¼<code>\n</code>ï¼</li>
<li>æ¢æ®µï¼<code>\a</code>ï¼</li>
<li>åé¡µï¼<code>\f</code>ã</li>
</ul>
<p>ä»¥ä¸ä¸ºçæå¯ææ¬Wordææ¡£çç¤ºä¾ï¼</p>
<pre><code class="language-python"># https://github.com/elapouya/python-docx-template/blob/master/tests/richtext.py
from docxtpl import DocxTemplate, RichText

# data: https://github.com/elapouya/python-docx-template/blob/master/tests/templates/richtext_tpl.docx
tpl = DocxTemplate("templates/richtext_tpl.docx")

rt = RichText()

# åå¯ææ¬å¯¹è±¡ä¸­æ·»å åå®¹ï¼ä¾æ¬¡æ¼ç¤ºä¸åçææ¬æ ¼å¼è®¾ç½®
rt.add("a rich text", style="myrichtextstyle")  # ä½¿ç¨èªå®ä¹æ ·å¼
rt.add(" with ")                                
rt.add("some italic", italic=True)              # æä½ææ¬
rt.add(" and ")
rt.add("some violet", color="#ff00ff")          # ç´«è²ææ¬ï¼åå­è¿å¶é¢è²ç ï¼
rt.add(" and ")
rt.add("some striked", strike=True)             # å é¤çº¿ææ¬
rt.add(" and ")
rt.add("some Highlighted", highlight="#ffff00") # é»è²é«äº®ææ¬
rt.add(" and ")
rt.add("some small", size=14)                   # å°å­å·ææ¬ï¼14ç£ï¼
rt.add(" or ")
rt.add("big", size=60)                          # å¤§å­å·ææ¬ï¼60ç£ï¼
rt.add(" text.")
rt.add("\nYou can add an hyperlink, here to ")
# æ·»å å¸¦è¶é¾æ¥çææ¬ï¼build_url_id ç¨äºåå»ºURLæ è¯å¹¶å³èå°æå®é¾æ¥
rt.add("bing", url_id=tpl.build_url_id("http://bing.com"))
rt.add("\nEt voilÃ  ! ")
# æ¼ç¤ºæ¢è¡ç¬¦ææ
rt.add("\n1st line")
rt.add("\n2nd line")
rt.add("\n3rd line")
# \a ç¨äºåå»ºæ°æ®µè½
rt.add("\aA new paragraph : &lt;cool&gt;\a")
# \f ç¨äºæå¥åé¡µç¬¦
rt.add("--- A page break here (see next page) ---\f")

# å¾ªç¯æ¼ç¤ºä¸åç±»åçä¸åçº¿æ ·å¼
for ul in [
    "single",       # åä¸åçº¿
    "double",       # åä¸åçº¿
    "thick",        # ç²ä¸åçº¿
    "dotted",       # ç¹ä¸åçº¿
    "dash",         # ç­åçº¿ä¸åçº¿
    "dotDash",      # ç¹åçº¿ä¸åçº¿
    "dotDotDash",   # åç¹åçº¿ä¸åçº¿
    "wave",         # æ³¢æµªçº¿ä¸åçº¿
]:
    rt.add("\nUnderline : " + ul + " \n", underline=ul)

# æ¼ç¤ºä¸åå­ä½çè®¾ç½®
rt.add("\nFonts :\n", underline=True)
rt.add("Arial\n", font="Arial")                
rt.add("Courier New\n", font="Courier New")    
rt.add("Times New Roman\n", font="Times New Roman") 

# æ¼ç¤ºä¸æ åä¸æ ææ¬
rt.add("\n\nHere some")
rt.add("superscript", superscript=True)        # ä¸æ ææ¬
rt.add(" and some")
rt.add("subscript", subscript=True)            # ä¸æ ææ¬

# åå»ºä¸ä¸ªæ°çå¯ææ¬å¯¹è±¡ï¼å¹¶å°ä¹ååå»ºçrtå¯¹è±¡åµå¥å¶ä¸­ï¼å®ç°å¯ææ¬åµå¥
rt_embedded = RichText("an example of ")
rt_embedded.add(rt)

# æå»ºæ¸²æä¸ä¸æï¼å°åµå¥çå¯ææ¬å¯¹è±¡èµå¼ç»æ¨¡æ¿ä¸­ç "example" åé
context = {
    "example": rt_embedded,
}

# å°ä¸ä¸ææ°æ®æ¸²æå°Wordæ¨¡æ¿ä¸­
tpl.render(context)
# ä¿å­æ¸²æåçWordææ¡£å°æå®è·¯å¾
tpl.save("output/richtext.docx")
</code></pre>
<h3 id="122-å¯ææ¬æ®µè½">1.2.2 å¯ææ¬æ®µè½</h3>
<p>è¥è¦ç²¾ç»æ§å¶åä¸ªæ®µè½çæ ·å¼ï¼å¯å¨ä»£ç ä¸­ä½¿ç¨<code>RichTextParagraph()</code>æ<code>RP()</code>å¯¹è±¡ãæ­¤å¯¹è±¡ééè¿<code>{{p &lt;var&gt; }}</code>è¯­æ³æ·»å è³æ¨¡æ¿ãç¤ºä¾ä»£ç å¦ä¸ï¼</p>
<pre><code class="language-python"># https://github.com/elapouya/python-docx-template/blob/master/tests/richtextparagraph.py
from docxtpl import DocxTemplate, RichText, RichTextParagraph

# data: https://github.com/elapouya/python-docx-template/blob/master/tests/templates/richtext_paragraph_tpl.docx
tpl = DocxTemplate("templates/richtext_paragraph_tpl.docx")

# åå»ºå¯ææ¬æ®µè½å¯¹è±¡ç»åä¸åæ ·å¼çæ®µè½
rtp = RichTextParagraph()
# åå»ºå¯ææ¬å¯¹è±¡ï¼ç¨äºè®¾ç½®ææ¬çå­ç¬¦æ ·å¼
rt = RichText()

# åå¯ææ¬æ®µè½ä¸­æ·»å ææ¬ï¼å¹¶æå®èªå®ä¹æ ·å¼myrichparastyle
rtp.add(
    "The rich text paragraph function allows paragraph styles to be added to text",
    parastyle="myrichparastyle",
)
# æ·»å ææ¬å¹¶ä½¿ç¨åç½®æ®µè½æ ·å¼IntenseQuote
rtp.add("Any built in paragraph style can be used", parastyle="IntenseQuote")
# æ·»å ææ¬å¹¶ä½¿ç¨èªå®ä¹æ ·å¼createdStyle
rtp.add(
    "or you can add your own, unlocking all style options", parastyle="createdStyle"
)
# æ·»å ææ¬å¹¶ä½¿ç¨é»è®¤æ®éæ®µè½æ ·å¼normal
rtp.add(
    "To use, just create a style in your template word doc with the formatting you want "
    "and call it in the code.",
    parastyle="normal",
)

# æ¼ç¤ºä¸ååè¡¨æ ·å¼çä½¿ç¨
rtp.add("This allows for the use of")
rtp.add("custom bullet\apoints", parastyle="SquareBullet")  # æ¹å½¢é¡¹ç®ç¬¦å·æ ·å¼
rtp.add("Numbered Bullet Points", parastyle="BasicNumbered")  # æ°å­ç¼å·æ ·å¼
rtp.add("and Alpha Bullet Points.", parastyle="alphaBracketNumbering")  # å­æ¯ç¼å·æ ·å¼

# æ¼ç¤ºææ¬å¯¹é½æ¹å¼çè®¾ç½®
rtp.add("You can", parastyle="normal")  # é»è®¤å·¦å¯¹é½
rtp.add("set the", parastyle="centerAlign")  # åºç¨èªå®ä¹æ ·å¼å±ä¸­å¯¹é½
rtp.add("text alignment", parastyle="rightAlign")  # åºç¨èªå®ä¹æ ·å¼å³å¯¹é½

# æ¼ç¤ºè¡é´è·æ ·å¼ï¼ç´§åè¡é´è·
rtp.add(
    "as well as the spacing between lines of text. Like this for example, "
    "this text has very tight spacing between the lines.\aIt also has no space between "
    "paragraphs of the same style.",
    parastyle="TightLineSpacing",
)
# æ¼ç¤ºè¡é´è·æ ·å¼ï¼å®½è¡é´è·
rtp.add(
    "Unlike this one, which has extra large spacing between lines for when you want to "
    "space things out a bit or just write a little less.",
    parastyle="WideLineSpacing",
)
# æ¼ç¤ºæ®µè½èæ¯è²æ ·å¼ï¼ç»¿è²èæ¯
rtp.add(
    "You can also set the background colour of a line.", parastyle="LineShadingGreen"
)

# æå»ºå¯ææ¬å­ç¬¦ä¸²ï¼æ¼ç¤ºå­ç¬¦çº§æ ·å¼
rt.add("This works with ")
rt.add("Rich ", bold=True)  # å ç²
rt.add("Text ", italic=True)  # æä½
rt.add("Strings", underline="single")  # åä¸åçº¿
rt.add(" too.")

# å°å¯ææ¬å¯¹è±¡æ·»å å°å¯ææ¬æ®µè½ä¸­ï¼å¹¶æå®æ¹å½¢é¡¹ç®ç¬¦å·æ ·å¼
rtp.add(rt, parastyle="SquareBullet")

# æå»ºæ¸²æä¸ä¸æï¼å°å¯ææ¬æ®µè½å¯¹è±¡ç»å®å°æ¨¡æ¿ä¸­çexampleåé
context = {
    "example": rtp,
}

# å°ä¸ä¸ææ°æ®æ¸²æå° Word æ¨¡æ¿ä¸­
tpl.render(context)
# ä¿å­æ¸²æåç Word ææ¡£å°æå®è·¯å¾
tpl.save("output/richtext_paragraph.docx")
</code></pre>
<h3 id="123-æµ®å¨å¯¹è±¡">1.2.3 æµ®å¨å¯¹è±¡</h3>
<p><strong>å¾çæå¥</strong></p>
<p>å¯å¨ææ¡£ä¸­å¨ææå¥åå¼ æå¤å¼ å¾çï¼å½åå·²æ¯æJPEGåPNGæ ¼å¼ãåªéå¨æ¨¡æ¿ä¸­ä½¿ç¨<code>{{ &lt;var&gt; }}</code>æ ¼å¼çæ ç­¾å³å¯ãå¾çåµå¥ä»£ç å¦ä¸ï¼</p>
<pre><code class="language-python">myimage = InlineImage(tpl, image_descriptor='test_files/python_logo.png', width=Mm(20), height=Mm(10))
</code></pre>
<p>ä½¿ç¨æ¶åºä¼ å¥æ¨¡æ¿å¯¹è±¡ä¸å¾çæä»¶è·¯å¾ï¼å®½é«ä¸ºå¯éåæ°ãå®½åº¦åé«åº¦ééè¿<code>Mm</code>ï¼æ¯«ç±³ï¼ã<code>Inches</code>ï¼è±å¯¸ï¼æ <code>Pt</code>ï¼ç£ï¼ç­ç±»è¿è¡åä½å®ä¹ãç¤ºä¾ä»£ç å¦ä¸ï¼</p>
<pre><code class="language-python"># https://github.com/elapouya/python-docx-template/blob/master/tests/inline_image.py
from docxtpl import DocxTemplate, InlineImage
from docx.shared import Mm
import jinja2
# data: https://github.com/elapouya/python-docx-template/blob/master/tests/templates/inline_image_tpl.docx
tpl = DocxTemplate("templates/inline_image_tpl.docx")

# å®ä¹æ¸²ææ¨¡æ¿æéçä¸ä¸ææ°æ®
context = {
    # åªè®¾ç½®å®½æèé«ï¼åå¾çèªéåºåå
    "myimage": InlineImage(tpl, "templates/python_logo.png", width=Mm(20)),
    # æå¨æå®å®½é«åº¦
    "myimageratio": InlineImage(
        tpl, "templates/python_jpeg.jpg", width=Mm(30), height=Mm(60)
    ),
    # å®ä¹å¾ç+æè¿°
    "frameworks": [
        {
            "image": InlineImage(tpl, "templates/django.png", height=Mm(10)),
            "desc": "The web framework for perfectionists with deadlines",
        },
        {
            "image": InlineImage(tpl, "templates/zope.png", height=Mm(10)),
            "desc": "Zope is a leading Open Source Application Server "
            "and Content Management Framework",
        },
        {
            "image": InlineImage(tpl, "templates/pyramid.png", height=Mm(10)),
            "desc": "Pyramid is a lightweight Python web framework aimed at taking "
            "small web apps into big web apps.",
        },
        {
            "image": InlineImage(tpl, "templates/bottle.png", height=Mm(10)),
            "desc": "Bottle is a fast, simple and lightweight WSGI micro web-framework "
            "for Python",
        },
        {
            "image": InlineImage(tpl, "templates/tornado.png", height=Mm(10)),
            "desc": "Tornado is a Python web framework and asynchronous networking "
            "library.",
        },
    ],
}

# autoescapeæ¯å¦å¼å¯èªå¨è½¬ä¹ï¼ææ¨¡æ¿åéä¸­çç¹æ®å­ç¬¦è½¬æ¢ææ å®³çHTMå®ä½
jinja_env = jinja2.Environment(autoescape=True)
# ä½¿ç¨ä¸ä¸ææ°æ®åèªå®ä¹çjinja2ç¯å¢æ¸²æWordæ¨¡æ¿
tpl.render(context, jinja_env)
tpl.save("output/inline_image.docx")
</code></pre>
<p><strong>æ¿æ¢ææ¡£ä¸­çå¾ç</strong></p>
<p>å¯å¯¹ææ¡£ä¸­çç°æå¾çè¿è¡æ¿æ¢ï¼å·ä½æä½å¦ä¸ï¼åå¨æ¨¡æ¿ä¸­æå¥ä¸å¼ å ä½å¾ï¼æå¸¸è§æµç¨æ¸²ææ¨¡æ¿ï¼ä¹ååå°å ä½å¾æ¿æ¢ä¸ºç®æ å¾çãè¯¥æ¹æ³æ¯ææ¹éå¤çææ¡£åçææåªä½æä»¶ï¼ä¸æ¿æ¢åçå¾çå°ç»´æåå ä½å¾ççºµæ¨ªæ¯ãå¨æ¨¡æ¿ä¸­æå¥å¾çæ¶ï¼åªéæå®æä»¶åå³å¯ãè¯¥æ¿æ¢æä½åæ¶å¯¹é¡µçãé¡µèåæ­£æåºåçæã</p>
<p>ä¾å¦ï¼æ¿æ¢å ä½å¾<code>dummy_header_pic.jpg</code>çè¯­æ³ç¤ºä¾å¦ä¸ï¼</p>
<pre><code class="language-python">tpl.replace_pic('dummy_header_pic.jpg', 'header_pic_i_want.jpg')
</code></pre>
<p>æ³¨æï¼å¨å°å¾çæå¨æå¥Wordæ¨¡æ¿æ¶ï¼æäºçæ¬çWordä¼èªå¨å¯¹å¶éå½åå¹¶å­å¨ãè¿å¯¼è´å¾çå¨docxæä»¶åçå®éæä»¶åä¸åæä»¶åå®å¨ä¸åï¼ä»èå¯è½å¼åæ¾ä¸å°å¾ççé®é¢ãè¥ä¸ç¡®å®å¾ççå·ä½ä½ç½®ï¼å¯å°docxæä»¶è§ä¸ºzipåç¼©åè¿è¡è§£åï¼éåå¨<code>word\document.xml</code>æä»¶ä¸­ï¼éè¿æ¥æ¾<code>pic:nvPicPr</code>èç¹æ¥å®ä½å¾çä¿¡æ¯ãå·ä½æ­¥éª¤å¯åèï¼<a href="https://blog.csdn.net/qq_42780731/article/details/106946284" target="_blank" rel="noopener nofollow">pythonä½¿ç¨docxtplåºå¯¹å¾çè¿è¡æ¿æ¢</a>ã</p>
<p>å¨æ¾å°ç®æ å¾çå¯¹åºç<code>pic:nvPicPr</code>èç¹åï¼å¶<code>name</code>å±æ§çå¼å³ä¸ºå¾çå¨ææ¡£ä¸­å®éå­å¨çæä»¶åãæ­¤å¤çæä»¶åå¯è½ä¸åå«å¾çæ ¼å¼åç¼ï¼æ¿æ¢å¾ççç¤ºä¾ä»£ç å¯è½å¦ä¸ï¼</p>
<pre><code class="language-python">tpl.replace_pic('Picture 1','header_pic_i_want.jpg')
</code></pre>
<h3 id="124-å­ææ¡£">1.2.4 å­ææ¡£</h3>
<p>æ¨¡æ¿åéå¯åå«å¤æçå­ææ¡£å¯¹è±¡ï¼ä¸è½éè¿python-docxçææ¡£æä½æ¹æ³ä»é¶æå»ºãå·ä½æ­¥éª¤ä¸ºï¼åä»æ¨¡æ¿å¯¹è±¡ä¸­è·åå­ææ¡£å¯¹è±¡ï¼åå°å¶å½ä½python-docxææ¡£å¯¹è±¡ä½¿ç¨ãè¯¥åè½éè¦å®è£é¢å¤ä¾èµï¼</p>
<blockquote>
<p>pip install "docxtpl[subdoc]"</p>
</blockquote>
<p>ä»¥ä¸ä»£ç å±ç¤ºäºå¦ä½åå»ºå­ææ¡£ï¼å¹¶å°è¯¥å­ææ¡£åµå¥å°ä¸»æ¨¡æ¿ä¸­ï¼æç»çæå¹¶ä¿å­æ°çææ¡£ï¼</p>
<pre><code class="language-python"># https://github.com/elapouya/python-docx-template/blob/master/tests/subdoc.py
from docxtpl import DocxTemplate
from docx.shared import Inches

# data: https://github.com/elapouya/python-docx-template/blob/master/tests/templates/subdoc_tpl.docx
# 1. å è½½Wordæ¨¡æ¿æä»¶ï¼æå®æ¨¡æ¿æä»¶è·¯å¾ï¼
tpl = DocxTemplate("templates/subdoc_tpl.docx")

# 2. åå»ºä¸ä¸ªæ°çå­ææ¡£å¯¹è±¡
sd = tpl.new_subdoc()

# 3. åä¸ææ¡£ä¸­æ·»å æ®µè½åå®¹
p = sd.add_paragraph("This is a sub-document inserted into a bigger one")
p = sd.add_paragraph("It has been ")
# ä¸ºææ¬çæ®µè®¾ç½®èªå®ä¹æ ·å¼
p.add_run("dynamically").style = "dynamic"
p.add_run(" generated with python by using ")
# ä¸ºææ¬çæ®µè®¾ç½®æä½æ ·å¼
p.add_run("python-docx").italic = True
p.add_run(" library")

# 4. åä¸ææ¡£æ·»å æ é¢
sd.add_heading("Heading, level 1", level=1)
# åä¸ææ¡£æ·»å å¸¦æ ·å¼çæ®µè½ï¼IntenseQuoteæ ·å¼ä¸ºåç½®æ ·å¼ï¼
sd.add_paragraph("This is an Intense quote", style="IntenseQuote")

# 5. åä¸ææ¡£æå¥å¾ç
sd.add_paragraph("A picture :")
sd.add_picture("templates/python_logo.png", width=Inches(1.25))

# 6. åä¸ææ¡£æå¥è¡¨æ ¼
sd.add_paragraph("A Table :")
# åå»ºè¡¨æ ¼ï¼åå§1è¡3åï¼ä½ä¸ºè¡¨å¤´ï¼
table = sd.add_table(rows=1, cols=3)
# è·åè¡¨å¤´ååæ ¼å¹¶è®¾ç½®åå®¹
hdr_cells = table.rows[0].cells
hdr_cells[0].text = "Qty"
hdr_cells[1].text = "Id"
hdr_cells[2].text = "Desc"

# å®ä¹è¡¨æ ¼æ°æ®
recordset = ((1, 101, "Spam"), (2, 42, "Eggs"), (3, 631, "Spam,spam, eggs, and ham"))
# å¾ªç¯æ·»å æ°æ®è¡å°è¡¨æ ¼
for item in recordset:
    row_cells = table.add_row().cells
    row_cells[0].text = str(item[0])  # æ°éï¼è½¬ä¸ºå­ç¬¦ä¸²ï¼
    row_cells[1].text = str(item[1])  # IDï¼è½¬ä¸ºå­ç¬¦ä¸²ï¼
    row_cells[2].text = item[2]       # æè¿°

context = {
    "mysubdoc": sd,
}

tpl.render(context)
tpl.save("output/subdoc.docx")
</code></pre>
<p>æ­¤å¤èªpython-docx-template V0.12.0çæ¬èµ·ï¼æ¯æå°å·²æç.docxæä»¶ä½ä¸ºå­ææ¡£è¿è¡åå¹¶ï¼å¦ä¸æç¤ºï¼</p>
<pre><code class="language-python"># https://github.com/elapouya/python-docx-template/blob/master/tests/merge_docx.py
from docxtpl import DocxTemplate

# data: https://github.com/elapouya/python-docx-template/blob/master/tests/templates
tpl = DocxTemplate("templates/merge_docx_master_tpl.docx")
sd = tpl.new_subdoc("templates/merge_docx_subdoc.docx")

context = {
    "mysubdoc": sd,
}

tpl.render(context)
tpl.save("output/merge_docx.docx")
</code></pre>
<h2 id="13-è¡¥åæä½">1.3 è¡¥åæä½</h2>
<p><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/%5Bpython%5D%20python-docx-template%E6%A8%A1%E6%9D%BF%E5%8C%96Word%E6%96%87%E6%A1%A3%E7%94%9F%E6%88%90%E6%8C%87%E5%8C%97/imgs/4.jpg" alt="" loading="lazy"></p>
<h3 id="131-è½¬ä¹æä½">1.3.1 è½¬ä¹æä½</h3>
<p>é»è®¤æåµä¸ï¼python-docx-templateä¸ä¼å¯¹åå®¹è¿è¡è½¬ä¹ãè¿æ¯å ä¸ºå¨ä½¿ç¨æ¨¡æ¿è¯­æ³ä¿®æ¹Wordææ¡£æ¶ï¼åºå±å®éä¸æ¯å¨å¤çXMLç»æï¼èå<code>&lt;</code>ã<code>&gt;</code> å<code>&amp;</code>è¿æ ·çå­ç¬¦å¨XMLä¸­å·æç¹æ®å«ä¹ï¼å¿é¡»ç»è¿è½¬ä¹æè½æ­£ç¡®æ¾ç¤ºãä»¥ä¸æä¾å ç§å®ç°è½¬ä¹çæ¹æ³ï¼</p>
<ol>
<li>
<p>ä¸ä¸æå®ä¹æ¶ä½¿ç¨<code>R()</code>åè£¹åå®¹ï¼æ¨¡æ¿ä¸­æ·»å <code>r</code>æ è®°ï¼</p>
<pre><code class="language-python">context = { 'var': R('my text') }
</code></pre>
<p>æ¨¡æ¿ä¸­åæ³ï¼<code>{{r &lt;var&gt; }}</code></p>
</li>
<li>
<p>ä¸ä¸æä¿æåå§å­ç¬¦ä¸²ï¼æ¨¡æ¿ä¸­ä½¿ç¨<code>|e</code>è¿æ»¤å¨ï¼</p>
<pre><code class="language-python">context = { 'var':'my text' }
</code></pre>
<p>æ¨¡æ¿ä¸­åæ³ï¼<code>{{ &lt;var&gt;|e }}</code></p>
</li>
<li>
<p>ä¸ä¸æä½¿ç¨<code>escape()</code>å½æ°å¤çåå®¹ï¼æ¨¡æ¿ç´æ¥å¼ç¨ï¼</p>
<pre><code class="language-python">context = { 'var': escape('my text') }
</code></pre>
<p>æ¨¡æ¿ä¸­åæ³ï¼<code>{{ &lt;var&gt; }}</code></p>
</li>
<li>
<p>è°ç¨<code>render</code>æ¹æ³æ¶å¯ç¨èªå¨è½¬ä¹ï¼é»è®¤å¼ä¸º<code>autoescape=False</code>ï¼</p>
<pre><code class="language-python">tpl.render(context, autoescape=True)
</code></pre>
</li>
</ol>
<p>å¨ææ¡£ä¸­æå¥ä»£ç æ¸åæ¶ï¼å¦æéè¦åæ¶è½¬ä¹ææ¬å¹¶å¤çæ¢è¡ç¬¦ï¼<code>\n</code>ï¼ãæ®µè½ç¬¦ï¼<code>\a</code>ï¼åæ¢é¡µç¬¦ï¼<code>\f</code>ï¼ï¼å¯ä»¥å¨Pythonä»£ç ä¸­ä½¿ç¨<code>Listing</code>ç±»ã</p>
<p>ä¾å¦ï¼</p>
<pre><code class="language-python">context = { 
    'mylisting': Listing('the listing\nwith\nsome\nlines \a and some paragraph \a and special chars : &lt;&gt;&amp;') 
}
</code></pre>
<p>å¨æ¨¡æ¿ä¸­ç´æ¥å¼ç¨å³å¯ï¼</p>
<pre><code>{{ mylisting }}
</code></pre>
<p>ä½¿ç¨<code>Listing()</code>è½å¤ä¿æå½åå­ç¬¦æ ·å¼ï¼é¤ééå°<code>\a</code>åéç¬¦ï¼å®ä¼å¨è¯¥ä½ç½®å¼å§ä¸ä¸ªæ°çæ®µè½ã</p>
<p>ä½¿ç¨ç¤ºä¾å¦ä¸ï¼</p>
<pre><code class="language-python"># https://github.com/elapouya/python-docx-template/blob/master/tests/escape.py
from docxtpl import DocxTemplate, R, Listing
# data: https://github.com/elapouya/python-docx-template/blob/master/tests/templates/escape_tpl.docx
tpl = DocxTemplate("templates/escape_tpl.docx")

context = {
    "myvar": R(
        '"less than" must be escaped : &lt;, this can be done with RichText() or R()'
    ),
    "myescvar": 'It can be escaped with a "|e" jinja filter in the template too : &lt; ',
    "nlnp": R(
        "Here is a multiple\nlines\nstring\aand some\aother\aparagraphs",
        color="#ff00ff",
    ),
    "mylisting": Listing("the listing\nwith\nsome\nlines\nand special chars : &lt;&gt;&amp; ..."),
    "page_break": R("\f"),
    "new_listing": """
This is a new listing
Here is a \t tab\a
Here is a page break : \f
That's it
""",
    "some_html": (
        "HTTP/1.1 200 OK\n"
        "Server: Apache-Coyote/1.1\n"
        "Cache-Control: no-store\n"
    ),
}

tpl.render(context)
tpl.save("output/escape.docx")
</code></pre>
<p>æ­¤å¤ï¼è¥éå¨æç»çæçWordææ¡£ä¸­æ¾ç¤ºç±Jinja2æ¸²æåçç¹æ®å­ç¬¦<code>%</code>ã<code>{</code>æ<code>}</code>ï¼å¯ä»¥ä½¿ç¨ä»¥ä¸æ¹å¼è¿è¡è½¬ä¹ï¼</p>
<ul>
<li>æ¾ç¤º<code>%%</code> â ä½¿ç¨<code>{_% %_}</code></li>
<li>æ¾ç¤º<code>{{ }}</code> â ä½¿ç¨<code>{_{ }_}</code></li>
</ul>
<h3 id="132-è·åæªå®ä¹åé">1.3.2 è·åæªå®ä¹åé</h3>
<p>è¦è·åæ¨¡æ¿æ¸²ææ¶æéçæªå®ä¹åéï¼å¯ä»¥æç§ä»¥ä¸æ­¥éª¤æä½ï¼</p>
<pre><code class="language-python">from docxtpl import DocxTemplate
tpl = DocxTemplate('template.docx')

context = {'name': 'å¼ ä¸', 'age': 30}
# æ³¨æï¼departmentåéæªå®ä¹

# æ£æµç¼ºå¤±åé
missing = tpl.get_undeclared_template_variables(context=context)
print(f"ç¼ºå¤±çåé: {missing}")

# è·åææåéï¼ä¸ä¼ contextï¼
all_vars = tpl.get_undeclared_template_variables()
print(f"æ¨¡æ¿ææåé: {all_vars}")
</code></pre>
<p>æ¨¡æ¿ææ¡£çåå®¹åå«ï¼</p>
<pre><code>å§åï¼{{name}}
å¹´é¾ï¼{{age}}
é¨é¨ï¼{{department}}
</code></pre>
<p>è¥æªä¼ é <code>context</code> åæ°ï¼è¯¥æ¹æ³å°è¿åæ¨¡æ¿ä¸­ææéè¦èµå¼çåéåçéåãæ­¤ç»æå¯ç¨äºåç¨æ·æç¤ºè¾å¥ï¼æåå¥æä»¶ä¾åç»­æå¨å¤çã</p>
<h3 id="133-jinjaèªå®ä¹è¿æ»¤å¨">1.3.3 Jinjaèªå®ä¹è¿æ»¤å¨</h3>
<p>Python-docx-templateçrenderæ¹æ³æ¯æä¸ä¸ªå¯éåæ°jinja_envï¼ä½ä¸ºå¶ç¬¬äºä¸ªåæ°ãéè¿ä¼ éèªå®ä¹çJinjaç¯å¢å¯¹è±¡ï¼å¯ä»¥å®ç°èªå®ä¹è¿æ»¤å¨çæ·»å ï¼ä»èçµæ´»æ©å±æ°æ®å¤çé»è¾ãä»¥ä¸ä¸ºå·ä½ç¤ºä¾ã</p>
<p>æ¨¡æ¿wordåå®¹å¦ä¸ï¼</p>
<pre><code>=== å§åå±ç¤ºå¯¹æ¯ ===
åå§åå­: {{ name }}
æ¹æ³A (Pythonå¤ç): {{ name_upper }}
æ¹æ³B (æ¨¡æ¿è¿æ»¤å¨): {{ name|upper }}
</code></pre>
<p>å¯¹åºçPythonæ¸²æä»£ç ï¼</p>
<pre><code class="language-python">from docxtpl import DocxTemplate
import jinja2

# åå¤æ°æ®
data = {'name': 'zhangsan'}

# Pythonä¸­å¤ç
data['name_upper'] = data['name'].upper()

# å®ä¹è¿æ»¤å¨
def my_upper(text):
    return text.upper()

doc = DocxTemplate("template.docx")

#åå»ºç¯å¢å¹¶æ³¨åè¿æ»¤å¨
env = jinja2.Environment()
env.filters['upper'] = my_upper 

doc.render(data, env) 
doc.save("output/compare.docx")
print(f"åå§æ°æ®: {data['name']}")
print(f"Pythonå¤çç»æ: {data['name_upper']}")
print(f"æ¨¡æ¿è¿æ»¤å¨ç»æ: {data['name'].upper()}")
</code></pre>
<h3 id="134-microsoft-word-2016ç¹æ®è¡ä¸ºè¯´æ">1.3.4 Microsoft Word 2016ç¹æ®è¡ä¸ºè¯´æ</h3>
<p>MS Word 2016ä¼å¿½ç¥ææ¡£ä¸­çå¶è¡¨ç¬¦ï¼è¿æ¯è¯¥çæ¬ç¹æçæåµãç±»ä¼¼LibreOfficeæWordPadç­å¶ä»ç¼è¾å·¥å·åæ æ­¤é®é¢ãåæ ·ï¼ä»¥Jinja2æ ç­¾å¼å¤´ä¸å¸¦æåå¯¼ç©ºæ ¼çè¡ï¼å¶ç©ºæ ¼ä¹ä¼è¢«å¿½ç¥ã</p>
<p>ä¸ºè§£å³ä¸è¿°é®é¢ï¼å¯ä½¿ç¨<code>RichText</code>è¿è¡å¤çï¼</p>
<pre><code class="language-python">tpl.render({
    'test_space_r': RichText('          '),
    'test_tabs_r': RichText(5 * '\t'),
})
</code></pre>
<p>å¨æ¨¡æ¿ä¸­ï¼éè¿<code>{{r ... }}</code>è¯­æ³è°ç¨ï¼</p>
<pre><code>{{r test_space_r}} ç©ºæ ¼å°è¢«ä¿ç
{{r test_tabs_r}} å¶è¡¨ç¬¦å°æ­£å¸¸æ¾ç¤º
</code></pre>
<h1 id="2-åè">2 åè</h1>
<ul>
<li><a href="https://www.cnblogs.com/luohenyueji/p/19479110" target="_blank">åºäºpython-docxåºçWordææ¡£èªå¨å¤çå¨è§£</a></li>
<li><a href="https://github.com/elapouya/python-docx-template" target="_blank" rel="noopener nofollow">python-docx-template</a></li>
<li><a href="https://docxtpl.readthedocs.io/" target="_blank" rel="noopener nofollow">python-docx-template doc</a></li>
<li><a href="https://blog.csdn.net/qq_42780731/article/details/106946284" target="_blank" rel="noopener nofollow">pythonä½¿ç¨docxtplåºå¯¹å¾çè¿è¡æ¿æ¢</a></li>
</ul>

</div>
<div id="MySignature" role="contentinfo">
    <p>æ¬ææ¥èªåå®¢å­ï¼ä½èï¼<a href="https://www.cnblogs.com/luohenyueji/" target="_blank">è½ççå¯å</a>ï¼è½¬è½½è¯·æ³¨æåæé¾æ¥ï¼<a href="https://www.cnblogs.com/luohenyueji/p/19503461" target="_blank">https://www.cnblogs.com/luohenyueji/p/19503461</a></p>

<div style="text-align:center">
    <img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/wechat/content/%E5%8A%A0%E6%B2%B9%E9%B8%AD.gif">
</div>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-19 18:51">2026-01-19 18:51</span>&nbsp;
<a href="https://www.cnblogs.com/luohenyueji">è½ççå¯å</a>&nbsp;
éè¯»(<span id="post_view_count">16</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19503461);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19503461', targetLink: 'https://www.cnblogs.com/luohenyueji/p/19503461', title: '[python] python-docx-templateæ¨¡æ¿åWordææ¡£çææå' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ MAFå¿«éå¥é¨ï¼12ï¼ä¸»å·¥ä½æµ+å­å·¥ä½æµ ]]></title>
    <link>https://www.cnblogs.com/edisontalk/p/-/quick-start-on-maf-chatper12</link>
    <guid>2134eb784a2097756d344a237e234a9b</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/edisontalk/p/-/quick-start-on-maf-chatper12" title="åå¸äº 2026-01-19 18:30">
    <span role="heading" aria-level="2">MAFå¿«éå¥é¨ï¼12ï¼ä¸»å·¥ä½æµ+å­å·¥ä½æµ</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        <img src="https://img2024.cnblogs.com/blog/381412/202601/381412-20260116201534655-550888663.png" alt="MAFå¿«éå¥é¨ï¼12ï¼ä¸»å·¥ä½æµ+å­å·¥ä½æµ" class="desc_img">
        å¨å®éä¸å¡åºæ¯ä¸­ï¼å¾å¾éè¦å¨ä¸»å·¥ä½æµä¸­æ ¹æ®å·¥åç±»åååæç§»äº¤å°ä¸åçæ ååå­æµç¨ä¸­è¿è¡åç»­å¤çãæ¬æä»ç»äºMAFä¸­ä¸»å·¥ä½æµ + å­å·¥ä½æµçå·¥ä½æ¨¡å¼ï¼æåéè¿ä¸ä¸ªä¼ä¸å®¢æä¸­å¿å¤çæè¯å·¥åçæ¡ä¾ä»ç»äºè¿ç§æ¨¡å¼çä»£ç å®ç°ã
    </div>
<div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p><span><span>å¤§å®¶å¥½ï¼ææ¯Edisonã</span></span></p>
<p><span><span>æè¿æä¸ç´å¨è·çå£æ°çã<a class="normal_text_link mp_article_text_link" href="https://mp.weixin.qq.com/s?__biz=MzA4NzQzNTg4Ng==&amp;mid=2651744458&amp;idx=1&amp;sn=139f7584e81aeecd0945133bdc2b4791&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="0" data-linktype="2" rel="noopener nofollow"><span>.NET+AIæºè½ä½å¼åè¿é¶</span></a><span>ãè¯¾ç¨å­¦ä¹ MAFå¼åå¤æºè½ä½å·¥ä½æµï¼æå¼ºçæ¨èä½ ä¹ä¸è½¦è·æä¸èµ·åºåï¼</span></span></span></p>
<p><span><a class="normal_text_link mp_article_text_link" href="https://www.cnblogs.com/edisontalk/p/-/quick-start-on-maf-chatper11" target="_blank" data-itemshowtype="0" data-linktype="2"><span>ä¸ä¸ç¯</span></a><span>ï¼æä»¬å­¦ä¹ äºMAFä¸­å¦ä½è¿è¡å¹¶è¡å·¥ä½æµ<span>ãæ¬ç¯ï¼æä»¬æ¥äºè§£ä¸å¨MAFä¸­å¦ä½å¼å¯ ä¸»å·¥ä½æµ + èªå·¥ä½æµ çæ¨¡å¼ï¼ç¸ä¿¡è¿ä¼æ¯å¤§å®¶å¯è½ä¼ç¢°å°çåºæ¯ã</span></span></span></p>
<h1><strong>1 å­å·¥ä½æµæ¨¡å¼ä»ç»</strong></h1>
<p><span><span><span><span data-pm-slice="0 0 []"><span><span>å¨å®éä¸å¡åºæ¯ä¸­ï¼å¾å¾éè¦å¨ä¸»å·¥ä½æµä¸­æ ¹æ®å·¥åç±»åååæç§»äº¤å°ä¸åçæ ååå­æµç¨ä¸­è¿è¡åç»­å¤ç<span>ã</span></span></span></span></span></span></span></p>
<p><span><span><span><span data-pm-slice="0 0 []"><span><span>å¨MAFä¸­ï¼æä»¬å¯ä»¥ä½¿ç¨ Sub-Worklfow æ¨¡å¼æ¥å®ç°è¿ä¸ªç®ç<span>ï¼å¦ä¸ä»£ç çæ®µæç¤ºã</span></span></span></span></span></span></span></p>
<p><span><span><span><span data-pm-slice="0 0 []"><span><span>é¦åï¼å°å­å·¥ä½æµè½¬æ¢ä¸ºä¸ä¸ªExecutorï¼</span></span></span></span></span></span></p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">var</span> logisticsSubExecutor =<span style="color: rgba(0, 0, 0, 1)"> 
  logisticsSubWorkflow.BindAsExecutor(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">LogisticsSubWorkflow</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
</span><span style="color: rgba(0, 0, 255, 1)">var</span> productQualitySubExecutor =<span style="color: rgba(0, 0, 0, 1)"> 
  productQualitySubWorkflow.BindAsExecutor(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ProductQualitySubWorkflow</span><span style="color: rgba(128, 0, 0, 1)">"</span>);</pre>
</div>
<p><span><span><span><span data-pm-slice="0 0 []"><span><span>ç¶åï¼æå»ºä¸»å·¥ä½æµå¹¶æ ¹æ®æ¡ä»¶è·¯ç±å°å­å·¥ä½æµExecutorï¼</span></span></span></span></span></span></p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">var</span> mainWorkflow = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> WorkflowBuilder(classifierExecutor)
    .AddEdge</span>&lt;ComplaintProcessingRecord&gt;<span style="color: rgba(0, 0, 0, 1)">(classifierExecutor, productQualitySubExecutor, 
        condition: record </span>=&gt; record.Category == <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">äº§åè´¨é</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
    .AddEdge</span>&lt;ComplaintProcessingRecord&gt;<span style="color: rgba(0, 0, 0, 1)">(classifierExecutor, logisticsSubExecutor, 
        condition: record </span>=&gt; record.Category == <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ç©æµé®é¢</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
    .AddEdge(productQualitySubExecutor, complianceExecutor)
    .AddEdge(logisticsSubExecutor, complianceExecutor)
    .AddEdge(complianceExecutor, sentimentExecutor)
    .WithOutputFrom(sentimentExecutor)
    .Build();</span></pre>
</div>
<p><span><span><span><span data-pm-slice="0 0 []"><span><span><span>è¿æ ·å°±å®ç°äºï¼<span><strong>ä¸»å·¥ä½æµè¿è¡åç±»è½¬åï¼èªå·¥ä½æµè¿è¡è¯¦ç»å¤ç</strong><span>ã</span></span></span></span></span></span></span></span></span></p>
<h1><strong>2 ä¸»å·¥ä½æµ+å­å·¥ä½æµå®éªæ¡ä¾</strong></h1>
<p><span><span><span><span data-pm-slice="0 0 []"><span><span><span><span><span><span>åè®¾æä»¬æ¯ä¸ä¸ªä¼ä¸çå®¢æä¸­å¿ï¼æ¯å¤©é½ä¼æ¶å°å¤§éçå·¥åï¼éè¦æ ¹æ®å·¥åç±»åï¼æ¯å¦æ¯ äº§åè´¨éè¯é¢ è¿æ¯ ç©æµè¯é¢ï¼ååå°ä¸åçæ ååå­æµç¨å»ååç»­å¤çï¼æåçæä¸ä¸ªç¨æ·åå¥½ ä¸ æ»¡è¶³åè§è¦æ± çåå¤ç»ç¨æ·ã</span></span></span></span></span></span></span></span></span></span></p>
<p><span><span><span><span data-pm-slice="0 0 []"><span><span><span><span><span><span><span>å æ­¤ï¼æä»¬çç®æ æ¯ï¼éç½®&nbsp;<span>1ä¸ªä¸»å·¥ä½æµ + 2ä¸ªå­å·¥ä½æµ<span>&nbsp;æ¥è¦çè¿ä¸ªéæ±ã</span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<h3><strong><span><span>2.1 å³é®ä¾èµåå¼å¥</span></span></strong></h3>
<p><span><span><span><span data-pm-slice="0 0 []"><span><span><span><span><span><span><span><span><span><span>å¨ä»å¤©çè¿ä¸ªæ¡ä¾ä¸­ï¼æä»¬ä»ç¶åå»ºäºä¸ä¸ª.NETæ§å¶å°åºç¨ç¨åºï¼å®è£äºä»¥ä¸NuGetåï¼</span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<ul class="list-paddingleft-1">
<li><span>Microsoft.Agents.AI.OpenAI</span></li>
<li><span>Microsoft.Agents.AI.Workflows</span></li>
<li><span>Microsoft.Extensions.AI.OpenAI</span></li>
</ul>
<h3><span><span>2.2 å®ä¹æ°æ®ä¼ è¾æ¨¡å</span></span></h3>
<p><span><span>é¦åï¼æä»¬å®ä¹ä¸ä¸å¨è¿ä¸ªå·¥ä½æµä¸­éè¦çæä¼ éçæ°æ®æ¨¡åï¼</span></span></p>
<p><span><span>æè¯æ°æ®æ¨¡å å å±äº«ç¶æ</span></span></p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">namespace</span><span style="color: rgba(0, 0, 0, 1)"> SubWorkflow.Models;
</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> å±äº«ç¶æï¼æè¯å¤çè®°å½ï¼åæ§è¡å¨ä¼æ´æ°æ­¤å¯¹è±¡ï¼</span>
<span style="color: rgba(0, 0, 255, 1)">internal</span> <span style="color: rgba(0, 0, 255, 1)">class</span><span style="color: rgba(0, 0, 0, 1)"> ComplaintProcessingRecord
{
    </span><span style="color: rgba(0, 0, 255, 1)">public</span> CustomerComplaint Original { <span style="color: rgba(0, 0, 255, 1)">get</span>; <span style="color: rgba(0, 0, 255, 1)">set</span><span style="color: rgba(0, 0, 0, 1)">; }
    </span><span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">string</span> Category { <span style="color: rgba(0, 0, 255, 1)">get</span>; <span style="color: rgba(0, 0, 255, 1)">set</span>; } = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">æªåç±»</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">;
    </span><span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">string</span> Handler { <span style="color: rgba(0, 0, 255, 1)">get</span>; <span style="color: rgba(0, 0, 255, 1)">set</span>; } = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">å¾åé</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">;
    </span><span style="color: rgba(0, 0, 255, 1)">public</span> List&lt;<span style="color: rgba(0, 0, 255, 1)">string</span>&gt; ProcessingSteps { <span style="color: rgba(0, 0, 255, 1)">get</span>; <span style="color: rgba(0, 0, 255, 1)">set</span>; } = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)">();
    </span><span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">string</span> AIGeneratedResponse { <span style="color: rgba(0, 0, 255, 1)">get</span>; <span style="color: rgba(0, 0, 255, 1)">set</span>; } = <span style="color: rgba(128, 0, 0, 1)">""</span><span style="color: rgba(0, 0, 0, 1)">;
    </span><span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">string</span> ComplianceStatus { <span style="color: rgba(0, 0, 255, 1)">get</span>; <span style="color: rgba(0, 0, 255, 1)">set</span>; } = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">å¾å®¡æ ¸</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">;
    </span><span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">string</span> SentimentScore { <span style="color: rgba(0, 0, 255, 1)">get</span>; <span style="color: rgba(0, 0, 255, 1)">set</span>; } = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">æªè¯ä¼°</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">;
}
</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æè¯æ°æ®æ¨¡å</span>
<span style="color: rgba(0, 0, 255, 1)">internal</span><span style="color: rgba(0, 0, 0, 1)"> record CustomerComplaint(
    </span><span style="color: rgba(0, 0, 255, 1)">string</span><span style="color: rgba(0, 0, 0, 1)"> OrderId,
    </span><span style="color: rgba(0, 0, 255, 1)">string</span><span style="color: rgba(0, 0, 0, 1)"> CustomerName,
    </span><span style="color: rgba(0, 0, 255, 1)">string</span><span style="color: rgba(0, 0, 0, 1)"> ComplaintText,
    DateTime SubmittedAt
);</span></pre>
</div>
<h3><span data-pm-slice="1 1 [&quot;para&quot;,{&quot;tagName&quot;:&quot;p&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;background-color: rgb(255, 255, 255);outline: 0px;visibility: visible;line-height: 1.75em;margin-top: 16px;margin-bottom: 16px;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;}]"><span>2.3 å®ä¹äº§åè´¨éå¤çå­å·¥ä½æµ</span></span></h3>
<p><strong><strong><span data-pm-slice="1 1 [&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;text-transform: none;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-align: left;line-height: 1.75em;margin-bottom: 8px;margin-top: 8px;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;node&quot;,{&quot;tagName&quot;:&quot;strong&quot;,&quot;attributes&quot;:{},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;}]"><span>ï¼1ï¼<span>é®é¢è¯ä¼°<span>ï¼</span></span></span></span></strong></strong><span data-pm-slice="1 1 [&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;text-transform: none;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-align: left;line-height: 1.75em;margin-bottom: 8px;margin-top: 8px;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;node&quot;,{&quot;tagName&quot;:&quot;strong&quot;,&quot;attributes&quot;:{},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;}]">å°è£äº§åè´¨éè¯ä¼°çé»è¾ï¼è¿éä»ä»åæ¼ç¤ºç¨æ å®éé»è¾ã</span></p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">internal</span> <span style="color: rgba(0, 0, 255, 1)">sealed</span> <span style="color: rgba(0, 0, 255, 1)">class</span> ProductEvaluationExecutor() : Executor&lt;ComplaintProcessingRecord, ComplaintProcessingRecord&gt;<span style="color: rgba(0, 0, 0, 1)">(nameof(ProductEvaluationExecutor))
{
    </span><span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">override</span> ValueTask&lt;ComplaintProcessingRecord&gt; HandleAsync(ComplaintProcessingRecord record, IWorkflowContext context, CancellationToken cancellationToken = <span style="color: rgba(0, 0, 255, 1)">default</span><span style="color: rgba(0, 0, 0, 1)">)
    {
        Console.WriteLine(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ð æ­£å¨è¯ä¼°äº§åè´¨éé®é¢...</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
        record.ProcessingSteps.Add(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">[äº§åè¯ä¼°] æ£æµå°å±å¹å¤è§ç¼ºé·ï¼ç¬¦åè´¨éé®é¢å®ä¹</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
        record.Handler </span>= <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">äº§åè´¨éå¢é</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">;
        </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> ValueTask.FromResult(record);
    }
}</span></pre>
</div>
<p><strong><span data-pm-slice="1 1 [&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;text-transform: none;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-align: left;line-height: 1.75em;margin-bottom: 8px;margin-top: 8px;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;node&quot;,{&quot;tagName&quot;:&quot;strong&quot;,&quot;attributes&quot;:{},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;}]"><span>ï¼2ï¼<span>é/æ¢è´§å¤å®<span>ï¼</span></span></span></span></strong><span data-pm-slice="1 1 [&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;text-transform: none;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-align: left;line-height: 1.75em;margin-bottom: 8px;margin-top: 8px;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;node&quot;,{&quot;tagName&quot;:&quot;strong&quot;,&quot;attributes&quot;:{},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;}]">è´è´£å¤å®æ¯éè´§ è¿æ¯ æ¢è´§ å¤çã</span></p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">internal</span> <span style="color: rgba(0, 0, 255, 1)">sealed</span> <span style="color: rgba(0, 0, 255, 1)">class</span> ReturnPolicyExecutor() : Executor&lt;ComplaintProcessingRecord, ComplaintProcessingRecord&gt;<span style="color: rgba(0, 0, 0, 1)">(nameof(ReturnPolicyExecutor))
{
    </span><span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">override</span> ValueTask&lt;ComplaintProcessingRecord&gt; HandleAsync(ComplaintProcessingRecord record, IWorkflowContext context, CancellationToken cancellationToken = <span style="color: rgba(0, 0, 255, 1)">default</span><span style="color: rgba(0, 0, 0, 1)">)
    {
        Console.WriteLine(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ð¦ å¤å®éæ¢è´§æ¿ç­...</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
        </span><span style="color: rgba(0, 0, 255, 1)">var</span> daysFromOrder = (DateTime.Now -<span style="color: rgba(0, 0, 0, 1)"> record.Original.SubmittedAt).Days;
        </span><span style="color: rgba(0, 0, 255, 1)">if</span> (daysFromOrder &lt;= <span style="color: rgba(128, 0, 128, 1)">7</span><span style="color: rgba(0, 0, 0, 1)">)
        {
            record.ProcessingSteps.Add(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">[éæ¢è´§å¤å®] ç¬¦å7å¤©æ çç±éè´§æ¿ç­ï¼æ¹åå¨é¢éæ¬¾</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
        }
        </span><span style="color: rgba(0, 0, 255, 1)">else</span><span style="color: rgba(0, 0, 0, 1)">
        {
            record.ProcessingSteps.Add(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">[éæ¢è´§å¤å®] è¶è¿éè´§æéï¼å»ºè®®æ¢è´§æé¨åè¡¥å¿</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
        }
        </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> ValueTask.FromResult(record);
    }
}</span></pre>
</div>
<p><span data-pm-slice="1 1 [&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;text-transform: none;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-align: left;line-height: 1.75em;margin-bottom: 8px;margin-top: 8px;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;node&quot;,{&quot;tagName&quot;:&quot;strong&quot;,&quot;attributes&quot;:{},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;}]"><strong><strong><span data-pm-slice="1 1 [&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;text-transform: none;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-align: left;line-height: 1.75em;margin-bottom: 8px;margin-top: 8px;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;node&quot;,{&quot;tagName&quot;:&quot;strong&quot;,&quot;attributes&quot;:{},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;}]"><span>ï¼3ï¼<span>AIåå¤<span>ï¼</span></span></span></span></strong></strong><span data-pm-slice="1 1 [&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;text-transform: none;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-align: left;line-height: 1.75em;margin-bottom: 8px;margin-top: 8px;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;node&quot;,{&quot;tagName&quot;:&quot;strong&quot;,&quot;attributes&quot;:{},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;}]">å¨æè¯åå®¹åå¤å®ç»æçåºç¡ä¸çæåå¥½çåå¤è¿åç»ç¨æ·ã</span></span></p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">internal</span> <span style="color: rgba(0, 0, 255, 1)">sealed</span> <span style="color: rgba(0, 0, 255, 1)">class</span> AIResponseGeneratorExecutor(IChatClient chatClient) : Executor&lt;ComplaintProcessingRecord, ComplaintProcessingRecord&gt;<span style="color: rgba(0, 0, 0, 1)">(nameof(AIResponseGeneratorExecutor))
{
    </span><span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">override</span> <span style="color: rgba(0, 0, 255, 1)">async</span> ValueTask&lt;ComplaintProcessingRecord&gt; HandleAsync(ComplaintProcessingRecord record, IWorkflowContext context, CancellationToken cancellationToken = <span style="color: rgba(0, 0, 255, 1)">default</span><span style="color: rgba(0, 0, 0, 1)">)
    {
        Console.WriteLine(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ð¤ AI æ­£å¨çæå®¢æ·åå¤...</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
        </span><span style="color: rgba(0, 0, 255, 1)">var</span> prompt = $<span style="color: rgba(128, 0, 0, 1)">@"</span><span style="color: rgba(128, 0, 0, 1)">ä½ æ¯ä¸ä¸çå®¢æä¸»ç®¡ãæ ¹æ®ä»¥ä¸æè¯å¤çä¿¡æ¯ï¼çæä¸å°æ­£å¼ãæåçå¿çå®¢æ·åå¤é®ä»¶ï¼150å­åï¼ï¼

å®¢æ·ï¼{record.Original.CustomerName}
è®¢åå·ï¼{record.Original.OrderId}
æè¯åå®¹ï¼{record.Original.ComplaintText}
å¤çæ­¥éª¤ï¼
{string.Join(</span><span style="color: rgba(128, 0, 0, 1)">"</span>\n<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">, record.ProcessingSteps)}</span>
<span style="color: rgba(0, 0, 0, 1)">
è¦æ±ï¼
</span><span style="color: rgba(128, 0, 128, 1)">1</span><span style="color: rgba(0, 0, 0, 1)">. è¡¨è¾¾æ­æåçè§£
</span><span style="color: rgba(128, 0, 128, 1)">2</span><span style="color: rgba(0, 0, 0, 1)">. è¯´æå¤çæ¹æ¡
</span><span style="color: rgba(128, 0, 128, 1)">3</span><span style="color: rgba(0, 0, 0, 1)">. æä¾åç»­èç³»æ¹å¼
</span><span style="color: rgba(128, 0, 128, 1)">4</span>. è¯­æ°çè¯ãä¸ä¸<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">;</span>

        <span style="color: rgba(0, 0, 255, 1)">var</span> response = <span style="color: rgba(0, 0, 255, 1)">await</span><span style="color: rgba(0, 0, 0, 1)"> chatClient.GetResponseAsync(prompt, cancellationToken: cancellationToken);
        record.AIGeneratedResponse </span>= response.Text ?? <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">AI çæå¤±è´¥</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">;
        record.ProcessingSteps.Add($</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">[AI åå¤] å·²çæå®¢æ·åå¤æ¨¡æ¿ï¼{record.AIGeneratedResponse.Length}å­ï¼</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
        </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> record;
    }
}</span></pre>
</div>
<p><span data-pm-slice="1 1 [&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; text-transform: none; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-align: left; line-height: 1.75em; margin-bottom: 8px; margin-top: 8px;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;node&quot;,{&quot;tagName&quot;:&quot;strong&quot;,&quot;attributes&quot;:{},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;node&quot;,{&quot;tagName&quot;:&quot;strong&quot;,&quot;attributes&quot;:{},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;}]">æåï¼æå»ºå­å·¥ä½æµå¹¶å°å¶è½¬æ¢ä¸ºä¸ä¸ªExecutorä»¥ä¾¿åç»­éæå°ä¸»å·¥ä½æµä¸­ï¼</span></p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">var</span> productEvalExecutor = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> ProductEvaluationExecutor();
</span><span style="color: rgba(0, 0, 255, 1)">var</span> returnPolicyExecutor = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> ReturnPolicyExecutor();
</span><span style="color: rgba(0, 0, 255, 1)">var</span> aiResponseExecutor = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> AIResponseGeneratorExecutor(chatClient);
</span><span style="color: rgba(0, 0, 255, 1)">var</span> productQualitySubWorkflow = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> WorkflowBuilder(productEvalExecutor)
    .AddEdge(productEvalExecutor, returnPolicyExecutor)
    .AddEdge(returnPolicyExecutor, aiResponseExecutor)
    .WithOutputFrom(aiResponseExecutor)
    .Build();
</span><span style="color: rgba(0, 0, 255, 1)">var</span> productQualitySubExecutor =<span style="color: rgba(0, 0, 0, 1)"> 
  productQualitySubWorkflow.BindAsExecutor(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ProductQualitySubWorkflow</span><span style="color: rgba(128, 0, 0, 1)">"</span>);</pre>
</div>
<h3 data-pm-slice="2 3 []"><span data-pm-slice="1 1 [&quot;para&quot;,{&quot;tagName&quot;:&quot;p&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;background-color: rgb(255, 255, 255);outline: 0px;visibility: visible;line-height: 1.75em;margin-top: 16px;margin-bottom: 16px;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;}]"><span>2.4 å®ä¹ç©æµé®é¢å¤çå­å·¥ä½æµ</span></span></h3>
<p><strong><strong><span data-pm-slice="1 1 [&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;text-transform: none;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-align: left;line-height: 1.75em;margin-bottom: 8px;margin-top: 8px;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;node&quot;,{&quot;tagName&quot;:&quot;strong&quot;,&quot;attributes&quot;:{},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;}]"><span>ï¼1ï¼<span>ç©æµè¿½è¸ª<span>ï¼</span></span></span></span></strong></strong><span data-pm-slice="1 1 [&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;text-transform: none;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-align: left;line-height: 1.75em;margin-bottom: 8px;margin-top: 8px;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;node&quot;,{&quot;tagName&quot;:&quot;strong&quot;,&quot;attributes&quot;:{},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;}]">å°è£ç©æµæ¥è¯¢é»è¾ï¼è¿éä»ä»åæ¼ç¤ºç¨æ å®éé»è¾ã</span></p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">internal</span> <span style="color: rgba(0, 0, 255, 1)">sealed</span> <span style="color: rgba(0, 0, 255, 1)">class</span> LogisticsTrackingExecutor() : Executor&lt;ComplaintProcessingRecord, ComplaintProcessingRecord&gt;<span style="color: rgba(0, 0, 0, 1)">(nameof(LogisticsTrackingExecutor))
{
    </span><span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">override</span> ValueTask&lt;ComplaintProcessingRecord&gt; HandleAsync(ComplaintProcessingRecord record, IWorkflowContext context, CancellationToken cancellationToken = <span style="color: rgba(0, 0, 255, 1)">default</span><span style="color: rgba(0, 0, 0, 1)">)
    {
        Console.WriteLine(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ð æ­£å¨æ¥è¯¢ç©æµä¿¡æ¯...</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
        record.ProcessingSteps.Add(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">[ç©æµè¿½è¸ª] åè£¹å¨ä¸­è½¬ç«æ»ç3å¤©ï¼å½åç¶æï¼è¿è¾ä¸­</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
        record.Handler </span>= <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ç©æµè¿è¥å¢é</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">;
        </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> ValueTask.FromResult(record);
    }
}</span></pre>
</div>
<p><strong data-pm-slice="3 2 [&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; text-transform: none; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-align: left; line-height: 1.75em; margin-bottom: 8px; margin-top: 8px;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;}]"><strong><span data-pm-slice="1 1 [&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;text-transform: none;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-align: left;line-height: 1.75em;margin-bottom: 8px;margin-top: 8px;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;node&quot;,{&quot;tagName&quot;:&quot;strong&quot;,&quot;attributes&quot;:{},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;}]"><span>ï¼2ï¼<span>å»¶è¿åæ<span>ï¼</span></span></span></span></strong></strong><span data-pm-slice="1 1 [&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;text-transform: none;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-align: left;line-height: 1.75em;margin-bottom: 8px;margin-top: 8px;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;node&quot;,{&quot;tagName&quot;:&quot;strong&quot;,&quot;attributes&quot;:{},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;}]">å°è£å»¶è¿åæé»è¾ï¼è¿éä»ä»åæ¼ç¤ºç¨æ å®éé»è¾ã</span></p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">internal</span> <span style="color: rgba(0, 0, 255, 1)">sealed</span> <span style="color: rgba(0, 0, 255, 1)">class</span> DelayAnalysisExecutor() : Executor&lt;ComplaintProcessingRecord, ComplaintProcessingRecord&gt;<span style="color: rgba(0, 0, 0, 1)">(nameof(DelayAnalysisExecutor))
{
    </span><span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">override</span> ValueTask&lt;ComplaintProcessingRecord&gt; HandleAsync(ComplaintProcessingRecord record, IWorkflowContext context, CancellationToken cancellationToken = <span style="color: rgba(0, 0, 255, 1)">default</span><span style="color: rgba(0, 0, 0, 1)">)
    {
        Console.WriteLine(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ð åæå»¶è¿åå ...</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
        record.ProcessingSteps.Add(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">[å»¶è¿åæ] å»¶è¿åå ï¼æ´é¨å¯¼è´éè·¯å°é­ï¼é¢è®¡2å¤©åæ¢å¤éé</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
        record.ProcessingSteps.Add(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">[è¡¥å¿æ¹æ¡] æä¾50åä¼æ å¸ + åè¿è´¹</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
        </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> ValueTask.FromResult(record);
    }
}</span></pre>
</div>
<p><span data-pm-slice="1 1 [&quot;para&quot;,{&quot;tagName&quot;:&quot;p&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;background-color: rgb(255, 255, 255); outline: 0px; visibility: visible; line-height: 1.75em; margin-top: 16px; margin-bottom: 16px;&quot;,&quot;data-pm-slice&quot;:&quot;2 3 []&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; text-transform: none; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-align: left; line-height: 1.75em; margin-bottom: 8px; margin-top: 8px;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;node&quot;,{&quot;tagName&quot;:&quot;strong&quot;,&quot;attributes&quot;:{},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;node&quot;,{&quot;tagName&quot;:&quot;strong&quot;,&quot;attributes&quot;:{},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;}]">æåï¼æå»ºå­å·¥ä½æµå¹¶å°å¶è½¬æ¢ä¸ºä¸ä¸ªExecutorä»¥ä¾¿åç»­éæå°ä¸»å·¥ä½æµä¸­ï¼</span></p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">var</span> logisticsTrackExecutor = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> LogisticsTrackingExecutor();
</span><span style="color: rgba(0, 0, 255, 1)">var</span> delayAnalysisExecutor = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> DelayAnalysisExecutor();
</span><span style="color: rgba(0, 0, 255, 1)">var</span> logisticsAIResponseExecutor = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> AIResponseGeneratorExecutor(chatClient);

</span><span style="color: rgba(0, 0, 255, 1)">var</span> logisticsSubWorkflow = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> WorkflowBuilder(logisticsTrackExecutor)
    .AddEdge(logisticsTrackExecutor, delayAnalysisExecutor)
    .AddEdge(delayAnalysisExecutor, logisticsAIResponseExecutor)
    .WithOutputFrom(logisticsAIResponseExecutor)
    .Build();
</span><span style="color: rgba(0, 0, 255, 1)">var</span> logisticsSubExecutor =<span style="color: rgba(0, 0, 0, 1)"> 
  logisticsSubWorkflow.BindAsExecutor(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">LogisticsSubWorkflow</span><span style="color: rgba(128, 0, 0, 1)">"</span>);</pre>
</div>
<h3><strong><span><span>2.5 æå»ºä¸»å·¥ä½æµ</span></span></strong></h3>
<p>ç°å¨å¼å§æå»ºä¸»å·¥ä½æµï¼</p>
<p>Step1: è·åChatClient</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">var</span> chatClient = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> OpenAIClient(
        </span><span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> ApiKeyCredential(openAIProvider.ApiKey),
        </span><span style="color: rgba(0, 0, 255, 1)">new</span> OpenAIClientOptions { Endpoint = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> Uri(openAIProvider.Endpoint) })
    .GetChatClient(openAIProvider.ModelId)
    .AsIChatClient();</span></pre>
</div>
<p>Step2: åå»ºå·¥ååç±»<span data-pm-slice="1 1 [&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;text-transform: none;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-align: left;line-height: 1.75em;margin-bottom: 16px;margin-top: 16px;&quot;,&quot;data-pm-slice&quot;:&quot;3 4 []&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;margin-top: 8px;margin-bottom: 8px;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;node&quot;,{&quot;tagName&quot;:&quot;strong&quot;,&quot;attributes&quot;:{},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;}]">Executor,&nbsp;</span>åè§å®¡æ ¸Executor ä»¥å æç»ªè¯ä¼°Executor</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 1. å·¥ååç±»æ§è¡å¨</span>
<span style="color: rgba(0, 0, 255, 1)">internal</span> <span style="color: rgba(0, 0, 255, 1)">sealed</span> <span style="color: rgba(0, 0, 255, 1)">class</span> ComplaintClassifierExecutor() : Executor&lt;ComplaintProcessingRecord, ComplaintProcessingRecord&gt;<span style="color: rgba(0, 0, 0, 1)">(nameof(ComplaintClassifierExecutor))
{
    </span><span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">override</span> ValueTask&lt;ComplaintProcessingRecord&gt; HandleAsync(ComplaintProcessingRecord record, IWorkflowContext context, CancellationToken cancellationToken = <span style="color: rgba(0, 0, 255, 1)">default</span><span style="color: rgba(0, 0, 0, 1)">)
    {
        Console.WriteLine(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ð·ï¸ æ­£å¨åç±»æè¯ç±»å...</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
        </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> ç®åè§ååç±»ï¼å®éå¯ç¨ AI åç±»ï¼</span>
        <span style="color: rgba(0, 0, 255, 1)">if</span> (record.Original.ComplaintText.Contains(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">åç</span><span style="color: rgba(128, 0, 0, 1)">"</span>) || record.Original.ComplaintText.Contains(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">è´¨é</span><span style="color: rgba(128, 0, 0, 1)">"</span>) || record.Original.ComplaintText.Contains(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">éè´§</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">))
        {
            record.Category </span>= <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">äº§åè´¨é</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">;
        }
        </span><span style="color: rgba(0, 0, 255, 1)">else</span> <span style="color: rgba(0, 0, 255, 1)">if</span> (record.Original.ComplaintText.Contains(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">å»¶è¿</span><span style="color: rgba(128, 0, 0, 1)">"</span>) || record.Original.ComplaintText.Contains(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ç©æµ</span><span style="color: rgba(128, 0, 0, 1)">"</span>) || record.Original.ComplaintText.Contains(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">éé</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">))
        {
            record.Category </span>= <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ç©æµé®é¢</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">;
        }
        </span><span style="color: rgba(0, 0, 255, 1)">else</span><span style="color: rgba(0, 0, 0, 1)">
        {
            record.Category </span>= <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">å¶ä»</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">;
        }
        record.ProcessingSteps.Add($</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">[åç±»å¨] æè¯ç±»åè¯å«ä¸ºï¼{record.Category}</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
        </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> ValueTask.FromResult(record);
    }
}

</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 2. åè§å®¡æ ¸æ§è¡å¨</span>
<span style="color: rgba(0, 0, 255, 1)">internal</span> <span style="color: rgba(0, 0, 255, 1)">sealed</span> <span style="color: rgba(0, 0, 255, 1)">class</span> ComplianceCheckExecutor() : Executor&lt;ComplaintProcessingRecord, ComplaintProcessingRecord&gt;<span style="color: rgba(0, 0, 0, 1)">(nameof(ComplianceCheckExecutor))
{
    </span><span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">override</span> ValueTask&lt;ComplaintProcessingRecord&gt; HandleAsync(ComplaintProcessingRecord record, IWorkflowContext context, CancellationToken cancellationToken = <span style="color: rgba(0, 0, 255, 1)">default</span><span style="color: rgba(0, 0, 0, 1)">)
    {
        Console.WriteLine(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ð¡ï¸ åè§å®¡æ ¸ä¸­...</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
        </span><span style="color: rgba(0, 0, 255, 1)">var</span> checks = <span style="color: rgba(0, 0, 255, 1)">new</span> List&lt;<span style="color: rgba(0, 0, 255, 1)">string</span>&gt;<span style="color: rgba(0, 0, 0, 1)">();
        </span><span style="color: rgba(0, 0, 255, 1)">if</span> (record.AIGeneratedResponse.Contains(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">æ­æ</span><span style="color: rgba(128, 0, 0, 1)">"</span>)) checks.Add(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">â åå«éæ­</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
        </span><span style="color: rgba(0, 0, 255, 1)">if</span> (record.AIGeneratedResponse.Length &lt;= <span style="color: rgba(128, 0, 128, 1)">300</span>) checks.Add(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">â å­æ°åè§</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
        </span><span style="color: rgba(0, 0, 255, 1)">if</span> (!record.AIGeneratedResponse.Contains(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">æ³å¾</span><span style="color: rgba(128, 0, 0, 1)">"</span>) &amp;&amp; !record.AIGeneratedResponse.Contains(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">è¯è®¼</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">))
            checks.Add(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">â æ æææ³å¾è¯æ±</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);

        record.ComplianceStatus </span>= checks.Count &gt;= <span style="color: rgba(128, 0, 128, 1)">2</span> ? <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">â å®¡æ ¸éè¿</span><span style="color: rgba(128, 0, 0, 1)">"</span> : <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">â ï¸ éäººå·¥å¤å®¡</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">;
        record.ProcessingSteps.Add($</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">[åè§å®¡æ ¸] {record.ComplianceStatus} - {string.Join(</span><span style="color: rgba(128, 0, 0, 1)">"</span>, <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">, checks)}</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
        </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> ValueTask.FromResult(record);
    }
}

</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 3. æç»ªè¯ä¼°æ§è¡å¨ï¼ä½¿ç¨ AIï¼</span>
<span style="color: rgba(0, 0, 255, 1)">internal</span> <span style="color: rgba(0, 0, 255, 1)">sealed</span> <span style="color: rgba(0, 0, 255, 1)">class</span> SentimentAnalysisExecutor(IChatClient chatClient) : Executor&lt;ComplaintProcessingRecord, ComplaintProcessingRecord&gt;<span style="color: rgba(0, 0, 0, 1)">(nameof(SentimentAnalysisExecutor))
{
    </span><span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">override</span> <span style="color: rgba(0, 0, 255, 1)">async</span> ValueTask&lt;ComplaintProcessingRecord&gt; HandleAsync(ComplaintProcessingRecord record, IWorkflowContext context, CancellationToken cancellationToken = <span style="color: rgba(0, 0, 255, 1)">default</span><span style="color: rgba(0, 0, 0, 1)">)
    {
        Console.WriteLine(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ð AI æç»ªè¯ä¼°ä¸­...</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
        </span><span style="color: rgba(0, 0, 255, 1)">var</span> prompt = $<span style="color: rgba(128, 0, 0, 1)">@"</span><span style="color: rgba(128, 0, 0, 1)">åæä»¥ä¸å®¢æåå¤çæç»ªåºè°ï¼ç¨ä¸ä¸ªè¯æ¦æ¬ï¼å¦ï¼åå¥½ãä¸ä¸ãå·æ·¡ãç­æï¼ï¼

{record.AIGeneratedResponse}

åªè¿åä¸ä¸ªè¯ï¼ä¸è¦è§£éã</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">;

        </span><span style="color: rgba(0, 0, 255, 1)">var</span> response = <span style="color: rgba(0, 0, 255, 1)">await</span><span style="color: rgba(0, 0, 0, 1)"> chatClient.GetResponseAsync(prompt, cancellationToken: cancellationToken);
        record.SentimentScore </span>= response.Text?.Trim() ?? <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ä¸­æ§</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">;
        record.ProcessingSteps.Add($</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">[æç»ªè¯ä¼°] AI è¯ä¼°è¯­æ°ä¸ºï¼{record.SentimentScore}</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
        </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> record;
    }
}</span></pre>
</div>
<p>NOTEï¼åé¢çå­å·¥ä½æµåçæäºAIåå¤ï¼è¿ééè¦å¯¹å¶è¿è¡åè§å®¡æ ¸ä»¥é²æ­¢ä¸åè§çåå¤å°ç¨æ·é£éã</p>
<p><span data-pm-slice="1 1 [&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;text-transform: none;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-align: left;line-height: 1.75em;margin-bottom: 8px;margin-top: 8px;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;node&quot;,{&quot;tagName&quot;:&quot;strong&quot;,&quot;attributes&quot;:{},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;}]">Step3: åå»ºä¸»å·¥ä½æµ</span></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">var</span> classifierExecutor = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> ComplaintClassifierExecutor();
</span><span style="color: rgba(0, 0, 255, 1)">var</span> complianceExecutor = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> ComplianceCheckExecutor();
</span><span style="color: rgba(0, 0, 255, 1)">var</span> sentimentExecutor = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> SentimentAnalysisExecutor(chatClient);

</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> ä¸»å·¥ä½æµï¼åç±» â æ¡ä»¶è·¯ç±å°å­æµç¨ â åè§ â æç»ª</span>
<span style="color: rgba(0, 0, 255, 1)">var</span> mainWorkflow = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> WorkflowBuilder(classifierExecutor)
    .AddEdge</span>&lt;ComplaintProcessingRecord&gt;<span style="color: rgba(0, 0, 0, 1)">(classifierExecutor, productQualitySubExecutor,
        condition: record </span>=&gt; record.Category == <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">äº§åè´¨é</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
    .AddEdge</span>&lt;ComplaintProcessingRecord&gt;<span style="color: rgba(0, 0, 0, 1)">(classifierExecutor, logisticsSubExecutor,
        condition: record </span>=&gt; record.Category == <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ç©æµé®é¢</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
    .AddEdge(productQualitySubExecutor, complianceExecutor)
    .AddEdge(logisticsSubExecutor, complianceExecutor)
    .AddEdge(complianceExecutor, sentimentExecutor)
    .WithOutputFrom(sentimentExecutor)
    .Build();
Console.OutputEncoding </span>=<span style="color: rgba(0, 0, 0, 1)"> Encoding.UTF8;
Console.WriteLine(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">â Main + Sub Workflow æå»ºå®æ</span><span style="color: rgba(128, 0, 0, 1)">"</span>);</pre>
</div>
<h3><span><span>2.6 æµè¯å·¥ä½æµ</span></span></h3>
<p><span><span>å®ä¹æè¯çå·¥ååå®¹å¦ä¸ï¼<span data-pm-slice="1 1 [&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;text-transform: none;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;text-align: left;line-height: 1.75em;margin-bottom: 16px;margin-top: 16px;&quot;,&quot;data-pm-slice&quot;:&quot;3 4 []&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;para&quot;,{&quot;tagName&quot;:&quot;p&quot;,&quot;attributes&quot;:{},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;}]"><span>è¿æ¯ä¸ä¸ª<span>äº§åè´¨éç¸å³<span>çæè¯ã</span></span></span></span></span></span></p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">var</span> processingRecord = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> ComplaintProcessingRecord 
{ 
    Original </span>= <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> CustomerComplaint(
        OrderId: </span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ORD-2025-8821</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">,
        CustomerName: </span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">å¼ åç</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">,
        ComplaintText: </span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">æ¶å°çææºå±å¹æææ¾åçï¼è¦æ±éè´§éæ¬¾</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">,
        SubmittedAt: DateTime.Now)
};</span></pre>
</div>
<p>éè¿Streamingæµå¼æ§è¡ï¼</p>
<div class="cnblogs_code">
<pre>Console.WriteLine(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ð å¼å§æ§è¡æè¯å¤çæµæ°´çº¿...</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
Console.WriteLine(</span><span style="color: rgba(0, 0, 255, 1)">new</span> <span style="color: rgba(0, 0, 255, 1)">string</span>(<span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(128, 0, 0, 1)">â</span><span style="color: rgba(128, 0, 0, 1)">'</span>, <span style="color: rgba(128, 0, 128, 1)">60</span><span style="color: rgba(0, 0, 0, 1)">));
</span><span style="color: rgba(0, 0, 255, 1)">await</span> <span style="color: rgba(0, 0, 255, 1)">using</span> (<span style="color: rgba(0, 0, 255, 1)">var</span> streaming = <span style="color: rgba(0, 0, 255, 1)">await</span><span style="color: rgba(0, 0, 0, 1)"> InProcessExecution.StreamAsync(mainWorkflow, processingRecord))
{
    </span><span style="color: rgba(0, 0, 255, 1)">await</span> <span style="color: rgba(0, 0, 255, 1)">foreach</span> (WorkflowEvent evt <span style="color: rgba(0, 0, 255, 1)">in</span><span style="color: rgba(0, 0, 0, 1)"> streaming.WatchStreamAsync())
    {
        </span><span style="color: rgba(0, 0, 255, 1)">switch</span><span style="color: rgba(0, 0, 0, 1)"> (evt)
        {
            </span><span style="color: rgba(0, 0, 255, 1)">case</span><span style="color: rgba(0, 0, 0, 1)"> ExecutorInvokedEvent started:
                Console.WriteLine($</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">\nð¹ {started.ExecutorId} å¼å§æ§è¡</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
                </span><span style="color: rgba(0, 0, 255, 1)">break</span><span style="color: rgba(0, 0, 0, 1)">;
            </span><span style="color: rgba(0, 0, 255, 1)">case</span> ExecutorCompletedEvent completed when completed.Data <span style="color: rgba(0, 0, 255, 1)">is</span><span style="color: rgba(0, 0, 0, 1)"> ComplaintProcessingRecord rec:
                Console.WriteLine($</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">   å±äº«ç¶ææ´æ° â å¤çæ­¥éª¤æ°ï¼{rec.ProcessingSteps.Count}</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
                </span><span style="color: rgba(0, 0, 255, 1)">break</span><span style="color: rgba(0, 0, 0, 1)">;
            </span><span style="color: rgba(0, 0, 255, 1)">case</span> WorkflowOutputEvent outputEvt when outputEvt.Data <span style="color: rgba(0, 0, 255, 1)">is</span><span style="color: rgba(0, 0, 0, 1)"> ComplaintProcessingRecord finalRecord:
                Console.WriteLine(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">\n</span><span style="color: rgba(128, 0, 0, 1)">"</span> + <span style="color: rgba(0, 0, 255, 1)">new</span> <span style="color: rgba(0, 0, 255, 1)">string</span>(<span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(128, 0, 0, 1)">â</span><span style="color: rgba(128, 0, 0, 1)">'</span>, <span style="color: rgba(128, 0, 128, 1)">60</span><span style="color: rgba(0, 0, 0, 1)">));
                Console.WriteLine(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ð æè¯å¤çå®æï¼æç»å¤çè®°å½:\n</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
                Console.WriteLine(JsonSerializer.Serialize(finalRecord));
                Console.WriteLine(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">\nð å¤çæ­¥éª¤è¯¦æï¼</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
                </span><span style="color: rgba(0, 0, 255, 1)">foreach</span> (<span style="color: rgba(0, 0, 255, 1)">var</span> step <span style="color: rgba(0, 0, 255, 1)">in</span><span style="color: rgba(0, 0, 0, 1)"> finalRecord.ProcessingSteps)
                {
                    Console.WriteLine($</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">  {step}</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
                }

                Console.WriteLine(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">\nð¬ AI çæçå®¢æ·åå¤ï¼</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">);
                Console.WriteLine(</span><span style="color: rgba(0, 0, 255, 1)">new</span> <span style="color: rgba(0, 0, 255, 1)">string</span>(<span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(128, 0, 0, 1)">â</span><span style="color: rgba(128, 0, 0, 1)">'</span>, <span style="color: rgba(128, 0, 128, 1)">60</span><span style="color: rgba(0, 0, 0, 1)">));
                Console.WriteLine(finalRecord.AIGeneratedResponse);
                Console.WriteLine(</span><span style="color: rgba(0, 0, 255, 1)">new</span> <span style="color: rgba(0, 0, 255, 1)">string</span>(<span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(128, 0, 0, 1)">â</span><span style="color: rgba(128, 0, 0, 1)">'</span>, <span style="color: rgba(128, 0, 128, 1)">60</span><span style="color: rgba(0, 0, 0, 1)">));
                </span><span style="color: rgba(0, 0, 255, 1)">break</span><span style="color: rgba(0, 0, 0, 1)">;
        }
    }
}</span></pre>
</div>
<p><span><span>æµè¯ç»æå¦ä¸å¾æç¤ºï¼</span></span></p>
<p><span><span>é¦åï¼å¯ä»¥éè¿çæ§æ¥å¿åç°åç¡®å°è¿å¥å°äºäº§åè´¨éå­æµç¨ï¼</span></span></p>
<p><img src="https://img2024.cnblogs.com/blog/381412/202601/381412-20260116201359984-901569605.png" alt="image" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<p><span>å¶æ¬¡ï¼æåç±AIçæçåå¤åå®¹ä¹å¾åå¥½ï¼åæ¶ä¹æ»¡è¶³åè§å®¡æ ¸çè¦æ±ï¼</span></p>
<p><img src="https://img2024.cnblogs.com/blog/381412/202601/381412-20260116201408277-1480451793.png" alt="image" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<h1><strong><span>3 å°ç»</span></strong></h1>
<p>æ¬æä»ç»äºMAFä¸­ä¸»å·¥ä½æµ + å­å·¥ä½æµçå·¥ä½æ¨¡å¼ï¼æåéè¿ä¸ä¸ªä¼ä¸å®¢æä¸­å¿å¤çæè¯å·¥åçæ¡ä¾ä»ç»äºè¿ç§æ¨¡å¼çä»£ç å®ç°ã</p>
<p><span><span>éè¦æ³¨æçæ¯ï¼</span></span></p>
<ul class="list-paddingleft-1">
<li><span><span>å»ºè®®æ¯ä¸ªå­å·¥ä½æµé½æ¯ç¨<span><strong>æ åç»ä¸</strong><span>çç¶ææ¨¡åï¼ä»¥ä¾¿å¨ä¸»å·¥ä½æµä¸­å¤ç¨ å ä¼ éã</span></span></span></span></li>
<li><span><span>å»ºè®®æ¯ä¸ªå­å·¥ä½æµåªä¿æ3~4ä¸ªæ­¥éª¤ï¼<span><strong>åä¸èè´£</strong><span>å¨å·¥ä½æµä¸­åæ ·éç¨ï¼</span></span></span></span></li>
</ul>
<p>ä¸ä¸ç¯ï¼æä»¬å°ç»§ç»­å­¦ä¹ MAFä¸­æºè½ä½çå ç§å¸¸è§ç¼ææ¨¡å¼ -&nbsp;é¡ºåºï¼å¹¶å å ç§»äº¤ã</p>
<h1>ç¤ºä¾æºç </h1>
<p>GitHub:&nbsp;<a href="https://github.com/EdisonTalk/MAFD" target="_blank" rel="noopener nofollow">https://github.com/EdisonTalk/MAFD</a></p>
<h1>åèèµæ</h1>
<p><span data-pm-slice="0 0 []"><span>å£æ°ï¼ã<a href="https://www.cnblogs.com/sheng-jie/p/19200934" target="_blank">.NET + AI æºè½ä½å¼åè¿é¶</a>ãï¼æ¨èææ°ï¼âââââï¼</span></span></p>
<p><span data-pm-slice="0 0 []"><span>Microsoft Learnï¼<span>ã<a href="https://learn.microsoft.com/en-us/agent-framework/overview/agent-framework-overview?wt.mc_id=MVP_397012" target="_blank" rel="noopener nofollow">Agent Framework Tutorials</a>ã</span></span></span></p>
<div><span data-pm-slice="0 0 []"><span>&nbsp;</span></span></div>
<p style="text-align: center"><img src="https://images.cnblogs.com/cnblogs_com/edisonchou/1647700/o_200902144330EdisonTalk-Footer.jpg" alt="" style="width: 65%; border: 1px solid rgba(221, 221, 221, 1); border-radius: 3px; box-shadow: 0 4px 8px rgba(3, 27, 78, 0.12)"></p>
<div id="Copyright">
<p>ä½èï¼<span style="text-decoration: underline">ç±è¿ªç</span></p>
<p>åºå¤ï¼<a title="from" href="https://edisontalk.cnblogs.com" target="_blank">https://edisontalk.cnblogs.com</a></p>
<p>æ¬æçæå½ä½èååå®¢å­å±æï¼æ¬¢è¿è½¬è½½ï¼ä½æªç»ä½èåæå¿é¡»ä¿çæ­¤æ®µå£°æï¼ä¸å¨æç« é¡µé¢ææ¾ä½ç½®ç»åºåæé¾æ¥ã</p>
</div>
</div>
<div id="MySignature" role="contentinfo">
    <div align="center"><a href="https://weibo.com/u/2068032061?s=6uyXnP" target="_blank"><img border="0" src="http://service.t.sina.com.cn/widget/qmd/2068032061/d643d182/10.png"></a></div>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-19 18:30">2026-01-19 18:30</span>&nbsp;
<a href="https://www.cnblogs.com/edisontalk">EdisonZhou</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19493917);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19493917', targetLink: 'https://www.cnblogs.com/edisontalk/p/-/quick-start-on-maf-chatper12', title: 'MAFå¿«éå¥é¨ï¼12ï¼ä¸»å·¥ä½æµ+å­å·¥ä½æµ' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ å¿«éææ¡Linuxå¯å¨è¿ç¨ï¼åçæ¥åèµä¸æ ·ç®å ]]></title>
    <link>https://www.cnblogs.com/LDdOps/p/19501725</link>
    <guid>d042e60aadea2ad509b30378e1e94fe1</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/LDdOps/p/19501725" title="åå¸äº 2026-01-19 14:59">
    <span role="heading" aria-level="2">å¿«éææ¡Linuxå¯å¨è¿ç¨ï¼åçæ¥åèµä¸æ ·ç®å</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>å¤§å®¶å¥½ï¼ææ¯åå¨å¨ï¼ä¸ä¸ªè´åäºè®©ç¢çåææ¯ç³»ç»æ§çè¿ç»´äººã</p>
<p>æ¯æ¬¡æä¸æå¡å¨çµæºï¼å°±åè§çä¸åºç²¾å¿ç¼æç<strong>å­æ£æ¥åèµ</strong>ââä»å·å°å°çç¡¬ä»¶å°çµå¨çå½ä»¤è¡çé¢ï¼æ¯ä¸æ£é½è³å³éè¦ãä»å¤©ï¼å±ä»¬å°±æè§£è¿åºâæ¯èµâï¼è®©ä½ å½»åºçæ¸Linuxçå¯å¨âé­æ³âã</p>
<h2 id="ä¸ä¸ºä»ä¹è¦çæè¿åºæ¥åèµ">ä¸ãä¸ºä»ä¹è¦çæè¿åºâæ¥åèµâï¼</h2>
<p>å ä¸ºå½æå¡å¨å¯å¨âææ£âæ¶ï¼ä½ éè¦ä¸ç¼çåºï¼</p>
<ul>
<li>ð« <strong>åªä¸æ£åºäºé®é¢</strong>ï¼æ¯ç¡¬ä»¶æ²¡åå¤å¥½ï¼å¼å¯¼ç¨åºè¿·è·¯äºï¼è¿æ¯æå¡å¯å¨âåµæ¶âäºï¼</li>
<li>ð§ <strong>è¯¥æ´¾è°å»ä¿®</strong>ï¼è¯¥éå¯ç¡¬ä»¶ãéè£å¼å¯¼ï¼è¿æ¯è°æ´æå¡éç½®ï¼</li>
<li>â¡ <strong>å¦ä½è®©ä¸æ¬¡è·æ´å¿«</strong>ï¼åªä¸ªç¯èæäºåè¿ï¼</li>
</ul>
<p>æåçï¼å°±æ¯æ¿å°äºç³»ç»åé¨çâèµäºè½¬æ­æâã</p>
<h2 id="äºå¨æ¯éè§å­æ£ç²¾å½©æ¥å">äºãå¨æ¯éè§ï¼å­æ£ç²¾å½©æ¥å</h2>
<p>å ä¸ºå½æå¡å¨å¯å¨âææ£âæ¶ï¼ä½ éè¦ä¸ç¼</p>
<h2 id="ä¸éæ£è¯¦è§£å³é®éæä¸ææ¯è¦ç¹">ä¸ãéæ£è¯¦è§£ï¼å³é®éæä¸ææ¯è¦ç¹</h2>
<h3 id="-ç¬¬ä¸æ£biosuefi--ç¡¬ä»¶æ£å½å">ð¯ ç¬¬ä¸æ£ï¼BIOS/UEFI ââ âç¡¬ä»¶æ£å½åâ</h3>
<p><strong>æ ¸å¿ä»»å¡</strong>ï¼ç¡®ä¿ææâè¿å¨åâï¼ç¡¬ä»¶ï¼ç¶æè¯å¥½ï¼å¹¶ç¡®å®ç¬¬ä¸ä½èµ·è·èã</p>
<p><strong>å·¥ä½ä¸ä»¶äº</strong>ï¼</p>
<ol>
<li><strong>ç¡¬ä»¶èªæ£ï¼POSTï¼</strong>ï¼å¿«éæ£æ¥CPUãåå­ç­æ ¸å¿é¨ä»¶ã</li>
<li><strong>è¯»åå¯å¨é¡ºåº</strong>ï¼æè®¾å®é¡ºåºï¼å¦ï¼ç¡¬çâUçâç½ç»ï¼å¯»æ¾å¯å¯å¨è®¾å¤ã</li>
<li><strong>äº¤æ¥æ§å¶æ</strong>ï¼å°æ¾å°çç¬¬ä¸ä¸ªå¯å¨è®¾å¤ç<strong>å512å­è</strong>ï¼MBRï¼æEFIç³»ç»ååºï¼äº¤ç»ä¸ä¸æ£ã</li>
</ol>
<h3 id="ï¸-ç¬¬äºæ£grub2--èµéå¼å¯¼å">ðºï¸ ç¬¬äºæ£ï¼GRUB2 ââ âèµéå¼å¯¼åâ</h3>
<p><strong>å®çè§è²</strong>ï¼ Grand Unified Bootloaderï¼å³<strong>ç³»ç»å¯å¨çå¯¼èªèå</strong>ã</p>
<p><strong>ä¸å¤§èè´£</strong>ï¼</p>
<ol>
<li><strong>æ¾ç¤ºèå</strong>ï¼è®©ä½ éæ©ä¸ååæ ¸çæ¬ææä½ç³»ç»ã</li>
<li><strong>å è½½åæ ¸</strong>ï¼æåæ ¸éåï¼<code>/boot/vmlinuz-çæ¬å·</code>ï¼è¯»å°åå­ã</li>
<li><strong>å è½½ initramfs</strong>ï¼æä¸´æ¶æ ¹æä»¶ç³»ç»ä¹åå¤å¥½ã</li>
</ol>
<p><strong>å³é®æä»¶ä¸æä½</strong>ï¼</p>
<ul>
<li><strong>éç½®æä»¶</strong>ï¼<code>/boot/grub2/grub.cfg</code>ï¼<strong>èªå¨çæ</strong>ï¼ä¸è¬å«ç´æ¥æ¹ï¼ã</li>
<li><strong>ç¨æ·éç½®</strong>ï¼ä¿®æ¹ <code>/etc/default/grub</code> åï¼<strong>å¿é¡»æ§è¡</strong>ä»¥ä¸å½ä»¤ä½¿éç½®çæï¼</li>
</ul>
<pre><code># éæ°çæGRUB2éç½®æä»¶
grub2-mkconfig -o /boot/grub2/grub.cfg
</code></pre>
<p><em>åæ°è§£é</em>ï¼<code>-o</code> æå®è¾åºæä»¶ãè¿æ­¥æä½<strong>è³å³éè¦</strong>ï¼å¦åä¿®æ¹ä¸ä¼çæã</p>
<h3 id="-ç¬¬ä¸æ£linuxåæ ¸--ç³»ç»å¤§è">ð§  ç¬¬ä¸æ£ï¼Linuxåæ ¸ ââ âç³»ç»å¤§èâ</h3>
<p><strong>åæ ¸çå¯å¨ä»»å¡</strong>ï¼</p>
<ol>
<li><strong>è§£åå¹¶åå§åèªå·±</strong>ã</li>
<li><strong>æ£æµå¹¶åå§åææç¡¬ä»¶</strong>ã</li>
<li><strong>æè½½ initramfs ä¸´æ¶æ ¹æä»¶ç³»ç»</strong>ã</li>
<li><strong>ä» initramfs æä¸­æ¥è¿âææ¥æâï¼åå¤æè½½çæ­£çæ ¹æä»¶ç³»ç»</strong>ã</li>
</ol>
<p><strong>éè¦æä»¶</strong>ï¼<code>/boot/vmlinuz-$(uname -r)</code></p>
<p><strong>æ¥çåæ ¸æ¶æ¯</strong>ï¼</p>
<pre><code># æ¥çæ¬æ¬¡å¯å¨çææåæ ¸æ¶æ¯ï¼éç¹çéè¯¯ï¼
dmesg -T --level=err,warn
</code></pre>
<p><em>åæ°è§£é</em>ï¼<code>-T</code> æ¾ç¤ºäººç±»å¯è¯»çæ¶é´æ³ï¼<code>--level=err,warn</code> åªæ¾ç¤ºéè¯¯åè­¦åä¿¡æ¯ï¼ä¾¿äºå¿«éå®ä½é®é¢ã</p>
<h3 id="-ç¬¬åæ£initramfs--å¨è½æ¥æå">ð ç¬¬åæ£ï¼initramfs ââ âå¨è½æ¥æåâ</h3>
<p><strong>å®æ¯ä»ä¹</strong>ï¼<strong>ä¸ä¸ªè¢«å è½½å°åå­éçä¸´æ¶æ ¹æä»¶ç³»ç»</strong>ã</p>
<p><strong>ä¸ºä»ä¹éè¦å®</strong>ï¼åæ ¸å¾âä¸ä¸âï¼å¾å¤äºä¸ä¼å¹²ï¼æ¯å¦ï¼</p>
<ul>
<li>è§£å¯è¢«å å¯çæ ¹ååºã</li>
<li>ç®¡çå¤æçLVMæRAIDå­å¨ã</li>
<li>å è½½ç¹æ®ç¡¬ä»¶ï¼å¦æäºç£çæ§å¶å¨ï¼çé©±å¨ã</li>
</ul>
<p><strong>å®çä½¿å½</strong>ï¼<strong>æå®è¿äºä¾èµ</strong>ï¼æâçæ­£çæ ¹æä»¶ç³»ç»âæè½½å¥½ï¼ç¶ååæèº«éï¼å°æ§å¶æäº¤ååæ ¸ã</p>
<h3 id="-ç¬¬äºæ£systemd--è¶çº§å¤§ç®¡å®¶">ð ç¬¬äºæ£ï¼systemd ââ âè¶çº§å¤§ç®¡å®¶â</h3>
<p><strong>ä¸å¥è¯</strong>ï¼ç°ä»£Linuxç³»ç»ç<strong>åå§åç³»ç»åç®¡å®¶</strong>ï¼è´è´£å¯å¨åç®¡çæææå¡ã</p>
<p><strong>å®ä¸ä»»å</strong>ï¼</p>
<ol>
<li>å¹¶è¡å¯å¨ææç³»ç»åæå¡è¿ç¨ï¼æä»¥æ¯èå¼ç<code>init</code>å¿«ï¼ã</li>
<li>ç®¡çç³»ç»æ¥å¿ãè®¾å¤ãæè½½ç¹ç­ã</li>
</ol>
<p><strong>ç®¡å®¶å¿å¤å½ä»¤</strong>ï¼</p>
<pre><code># 1. æ¥çå¯å¨èæ¶æ»è§
systemd-analyze
# è¾åºç¤ºä¾ï¼Startup finished in 2.3s (kernel) + 10.1s (userspace) = 12.4s
# 2. æ¥çåªä¸ªæå¡å¯å¨ææ¢ï¼æèæ¶æåºï¼
systemd-analyze blame --no-pager | head -5
</code></pre>
<p><em>åæ°è§£é</em>ï¼<code>blame</code> å­å½ä»¤ç¨äºåæåååçå¯å¨æ¶é´ï¼<code>--no-pager</code> è¡¨ç¤ºç´æ¥è¾åºå¨é¨ç»æï¼ä¸å¯ç¨åé¡µå¨ã</p>
<h3 id="-ç¬¬å­æ£ç»å½ç®¡çå¨--åå°æ¥å¾">ðª ç¬¬å­æ£ï¼ç»å½ç®¡çå¨ ââ âåå°æ¥å¾â</h3>
<p><strong>æåä¸æ­¥</strong>ï¼åç°ç»å½çé¢ï¼éªè¯èº«ä»½ï¼ä¸ºä½ å¯å¨çæçShellï¼å¦bashï¼ã</p>
<ul>
<li><strong>æå¡å¨å¸¸ç¨</strong>ï¼ææ¬ç»å½ï¼<code>getty</code>æå¡ï¼ã</li>
<li><strong>æ¡é¢å¸¸ç¨</strong>ï¼å¾å½¢ç»å½ï¼<code>gdm</code>, <code>lightdm</code>ç­ï¼ã</li>
</ul>
<p>è³æ­¤ï¼å­æ£æ¥åå®æï¼ç³»ç»å°±ç»ªï¼ç­å¾ä½ çå½ä»¤ï¼</p>
<hr>
<h2 id="åé®é¢è¯æ­å½æ¥åèµææ£æ¶">åãé®é¢è¯æ­ï¼å½æ¥åèµâææ£âæ¶</h2>
<h3 id="å¿«éå®ä½è¡¨">å¿«éå®ä½è¡¨</h3>
<table>
<thead>
<tr>
<th style="text-align: left">æéç°è±¡</th>
<th style="text-align: left">å¯è½âææ£âç¯è</th>
<th style="text-align: left">åæ­¥æ£æ¥å¨ä½</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left">éçµåæ¯«æ ååºï¼é»å±</td>
<td style="text-align: left"><strong>ç¬¬ä¸æ£ (BIOS/UEFI)æç¡¬ä»¶</strong></td>
<td style="text-align: left">æ£æ¥çµæºãè¿æ¥ï¼å¬ä¸»æ¿æç¤ºé³</td>
</tr>
<tr>
<td style="text-align: left">åºç°grub&gt;æGRUB rescue&gt;æç¤º</td>
<td style="text-align: left"><strong>ç¬¬äºæ£ (GRUB2)</strong></td>
<td style="text-align: left">å¼å¯¼æä»¶æåï¼éä½¿ç¨å®è£çä¿®å¤</td>
</tr>
<tr>
<td style="text-align: left">å±å¹å¡ä½ï¼æ¾ç¤ºKernel Panic</td>
<td style="text-align: left"><strong>ç¬¬ä¸æ£ (åæ ¸)</strong></td>
<td style="text-align: left">æ£æ¥dmesgè¾åºï¼å¸¸è§äºé©±å¨é®é¢</td>
</tr>
<tr>
<td style="text-align: left">å¡å¨ âStarting servicesâ¦â æææå¡å</td>
<td style="text-align: left"><strong>ç¬¬äºæ£ (systemd)</strong></td>
<td style="text-align: left">ä½¿ç¨journalctl -xeæ¥çè¯¥æå¡è¯¦ç»æ¥å¿</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="äºè®©æ¥åèµè·æ´å¿«å¯å¨ä¼åå°è´´å£«">äºãè®©æ¥åèµè·æ´å¿«ï¼å¯å¨ä¼åå°è´´å£«</h2>
<h3 id="1-æ¾åºæ¢ååçæå¡">1. æ¾åºâæ¢ååâçæå¡</h3>
<pre><code># æ¥çå¯å¨ææ¢ç5ä¸ªæå¡
systemd-analyze blame | head -5
</code></pre>
<h3 id="2-å³æä¸å¿è¦çèªå¨å¯å¨">2. å³æä¸å¿è¦çâèªå¨å¯å¨â</h3>
<pre><code># æ¥çææå¼æºèªå¯çæå¡
systemctl list-unit-files --state=enabled | grep service
# ç¦ç¨æä¸ªä¸å¿è¦æå¡ï¼ä¾å¦ï¼èçå¨æå¡å¨ä¸éå¸¸ä¸ç¨ï¼
sudo systemctl disable bluetooth.service
</code></pre>
<h3 id="3-åç¨æ¥å¿æ´å¯å¨å±">3. åç¨æ¥å¿ï¼æ´å¯å¨å±</h3>
<pre><code># æ¥çæ¬æ¬¡å¯å¨çæææ¥å¿
journalctl -b --no-pager | less
# åæ°è§£éï¼`-b` ä»éæ¬æ¬¡å¯å¨ï¼`--no-pager` ç´æ¥è¾åºï¼`less` ç¨äºåé¡µæµè§
</code></pre>
<h2 id="å­æ»ç»">å­ãæ»ç»</h2>
<p>Linuxå¯å¨ï¼æ¯ä¸åºåå·¥æç¡®çå­æ£æ¥åï¼</p>
<ol>
<li><strong>BIOS/UEFI</strong> æ£å½ç¡¬ä»¶ï¼éå®èµ·è·çã</li>
<li><strong>GRUB2</strong> æä¾èåï¼å è½½åæ ¸ä¸æ¥æåã</li>
<li><strong>åæ ¸</strong> é©±å¨ç¡¬ä»¶ï¼å¥ å®ç³»ç»åºç³ã</li>
<li><strong>initramfs</strong> æå®ä¾èµï¼æè½½çæ ¹ååºã</li>
<li><strong>systemd</strong> å¹¶è¡å¯å¨ï¼æèµ·æææå¡ã</li>
<li><strong>ç»å½ç®¡çå¨</strong> éªè¯èº«ä»½ï¼æ­åå¤§é©¾ã</li>
</ol>
<p>çè§£è¿ä¸ªè¿ç¨ï¼ä½ å°±æ¡ä½äºææ¥å¯å¨é®é¢çâå°å¾âãä¸æ¬¡æå¡å¨å¯å¨å¼å¸¸ï¼ä½ å°±è½ç²¾åå¤æ­é®é¢åºé´ï¼é«æè§£å³ã</p>
<hr>
<p>å³æ³¨ãåå¨å¨è¶£å³è¿ç»´ãï¼ç¨æè¶£çæ¹å¼ï¼åä¸æç¡¬æ ¸çææ¯ãå±ä»¬ä¸æè§ï¼</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-19 15:00">2026-01-19 14:59</span>&nbsp;
<a href="https://www.cnblogs.com/LDdOps">åå¨å¨è¶£å³è¿ç»´</a>&nbsp;
éè¯»(<span id="post_view_count">66</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19501725);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19501725', targetLink: 'https://www.cnblogs.com/LDdOps/p/19501725', title: 'å¿«éææ¡Linuxå¯å¨è¿ç¨ï¼åçæ¥åèµä¸æ ·ç®å' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
        </channel>
        </rss>