<?xml version="1.0" encoding="UTF-8" ?>
    <rss version="2.0">
    <channel>
        <title><![CDATA[ ä¸»é¡µ - åå®¢å­ ]]></title>
        <link><![CDATA[ https://www.cnblogs.com/ ]]></link>
        <lastBuildDate>2026-01-26T20:21:40.757Z</lastBuildDate>
        <description><![CDATA[
        ä¸»é¡µ - åå®¢å­ RSS
    ]]></description>
        <language>zh-cn</language>
        <item>
    <title><![CDATA[ wso2~éè¿ä¸æ¹IDPçtokenç½®æ¢wso2çtoken ]]></title>
    <link>https://www.cnblogs.com/lori/p/19532862</link>
    <guid>0048290ea8b89fdd7f2571b45b31cd8f</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/lori/p/19532862" title="åå¸äº 2026-01-26 16:25">
    <span role="heading" aria-level="2">wso2~éè¿ä¸æ¹IDPçtokenç½®æ¢wso2çtoken</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>åæ°ï¼<a href="https://datatracker.ietf.org/doc/html/rfc7523" target="_blank" rel="noopener nofollow">https://datatracker.ietf.org/doc/html/rfc7523</a></p>
<h1 id="oauth20ä¸­çä¸æ¹å¦ç±»ææ">oauth2.0ä¸­çä¸æ¹å¦ç±»ææ</h1>
<p>äºè§£OAuth 2.0ä¸­ç¹å®çææç±»åï¼Grant Typeï¼å¯¹äºæå»ºå®å¨çè®¤è¯æµç¨è³å³éè¦ãä¸é¢ä¸ºä½ è¯¦ç»ä»ç»è¿ä¸ç§åºäºURNå£°æçæ©å±ææç±»åã</p>
<h3 id="-è®¾å¤ä»£ç ææ-urnietfparamsoauthgrant-typedevice_code">ð è®¾å¤ä»£ç ææ (<code>urn:ietf:params:oauth:grant-type:device_code</code>)</h3>
<p>è¿ç§æææ¨¡å¼ä¸ä¸ºè¾å¥è½ååéææ²¡ææµè§å¨çè®¾å¤è®¾è®¡ï¼æ¯å¦æºè½çµè§ãæ¸¸ææºãIoTè®¾å¤æå½ä»¤è¡å·¥å·ï¼CLIï¼ã</p>
<ul>
<li>
<p><strong>å·¥ä½åç</strong>ï¼å¶æ ¸å¿æ¯ä¸ä¸ªä¸¤æ­¥è¿ç¨ã</p>
<ol>
<li><strong>è®¾å¤è·åä»£ç </strong>ï¼è®¾å¤ä¸çåºç¨é¦ååæææå¡å¨ï¼å¦ Microsoft Entra IDï¼ç <code>/devicecode</code> ç«¯ç¹åèµ·è¯·æ±ãæå¡å¨ä¼è¿åä¸ç»ä¿¡æ¯ï¼åæ¬ä¸ä¸ªç®ç­ç <code>user_code</code>ï¼ç¨æ·ä»£ç ï¼åä¸ä¸ª <code>verification_uri</code>ï¼éªè¯ç½åï¼ã</li>
<li><strong>ç¨æ·ææ</strong>ï¼è®¾å¤å° <code>user_code</code> å <code>verification_uri</code> æ¾ç¤ºç»ç¨æ·ï¼å¹¶æç¤ºç¨æ·å¨å¶ä»è®¾å¤ï¼å¦ä¸ªäººææºæçµèï¼ä¸æå¼æµè§å¨ï¼è®¿é®è¯¥ç½åå¹¶è¾å¥ä»£ç ãç¨æ·å¨æææå¡å¨çæ­£è§é¡µé¢ä¸å®æèº«ä»½éªè¯ï¼å¯è½åæ¬å¤å ç´ è®¤è¯ï¼å¹¶åæææãå¨æ­¤æé´ï¼è®¾å¤åºç¨ä¼å®æè½®è¯¢æææå¡å¨çä»¤çç«¯ç¹ï¼ç´å°ç¨æ·å®ææä½åè·åè®¿é®ä»¤çåå·æ°ä»¤çã</li>
</ol>
</li>
<li>
<p><strong>å®å¨é£é©ä¸é²å¾¡</strong>ï¼éè¦æ³¨æçæ¯ï¼æ­¤æµç¨å¯è½è¢«ç¨äºè¿è¡é«è¿·ææ§çç½ç»éé±¼æ»å»ï¼ç§°ä¸ºâè®¾å¤ä»£ç éé±¼âï¼ãæ»å»èä¼è¯±å¯¼ç¨æ·å¨çå®çå¾®è½¯ç»å½é¡µé¢è¾å¥ç±æ»å»èçæçè®¾å¤ä»£ç ï¼ä»èææä¸ä¸ªæ¶æåºç¨ãé²å¾¡æªæ½åæ¬å¨æå¡å¨ç«¯ä¸¥æ ¼éå¶åºç¨åæç­ç¥ãå®æ½æ¡ä»¶è®¿é®ç­ç¥ï¼å¦è¦æ±æ¥èªåè§è®¾å¤ï¼ï¼ä»¥åå¯¹ç¨æ·è¿è¡å®å¨æè²ã</p>
</li>
</ul>
<h3 id="-ä»¤çäº¤æ¢ææ-urnietfparamsoauthgrant-typetoken-exchange">ð ä»¤çäº¤æ¢ææ (<code>urn:ietf:params:oauth:grant-type:token-exchange</code>)</h3>
<p>ä»¤çäº¤æ¢æææä¾äºå¼ºå¤§ç interoperabilityï¼äºæä½æ§ï¼ï¼åè®¸å°ä¸ä¸ªå­è¯æä»¤çäº¤æ¢ä¸ºå¦ä¸ä¸ªä¸åçä»¤çï¼å¸¸ç¨äºæå¡ä¹é´çå®å¨è°ç¨æèº«ä»½æ å°ã</p>
<ul>
<li>
<p><strong>æ ¸å¿æ¦å¿µ</strong>ï¼å®éµå¾ª OAuth Token Exchange è§èï¼ä½¿å¾å®¢æ·ç«¯è½å¤ä½¿ç¨ä¸ä¸ªç°æç <code>subject_token</code>ï¼ä¸»ä½ä»¤çï¼æ¥æ¢åä¸ä¸ªæ°çãéå¯¹ä¸ååä¼æèµæºç <code>access_token</code>ï¼è®¿é®ä»¤çï¼ã</p>
</li>
<li>
<p><strong>å¸¸è§åºæ¯</strong>ï¼</p>
<ul>
<li><strong>æå¡é´è°ç¨</strong>ï¼åç«¯æå¡Aå¯ä»¥ä½¿ç¨èªå·±ææçä»¤çï¼æ¢åä¸ä¸ªå·æéå½æéçãç¨äºè°ç¨æå¡Bçè®¿é®ä»¤çã</li>
<li><strong>æééçº§</strong>ï¼ä¸ä¸ªé«æéçåºç¨å¨éè¦è°ç¨ä¸ä¸ªä½ä¿¡ä»»åº¦çæå¡æ¶ï¼å¯ä»¥æ¢ä¸ä¸ªæéåéçä»¤çï¼ä»¥æåå®å¨æ§ã</li>
<li><strong>å¤é¨èº«ä»½æä¾åéæ</strong>ï¼å°å¤é¨IDPï¼å¦GoogleãFacebookï¼ç­¾åçä»¤çäº¤æ¢ä¸ºåé¨ç³»ç»çä»¤çï¼ä»èå®ç°è·¨åèº«ä»½èåã</li>
<li><strong>ç¨æ·æ¨¡æ</strong>ï¼å¨ä¸¥æ ¼ç®¡æ§ä¸ï¼æå¡å¯ä»¥æ¢åä¸ä¸ªä»£è¡¨ç¹å®ç¨æ·èº«ä»½çä»¤çï¼å³æ¨¡æç¨æ·ï¼ã</li>
</ul>
</li>
<li>
<p><strong>å®æ½è¦ç¹</strong>ï¼ä»¤çäº¤æ¢åè½éå¸¸é»è®¤ä¸å¼å¯ï¼éè¦å¨æå¡å¨ç«¯ï¼å¦Red Hat Single Sign-Onï¼ä¸ºå®¢æ·ç«¯æ¾å¼éç½®ç²¾ç»çæéç­ç¥ã</p>
</li>
</ul>
<h3 id="ï¸-jwtææèææ-urnietfparamsoauthgrant-typejwt-bearer">âï¸ JWTææèææ (<code>urn:ietf:params:oauth:grant-type:jwt-bearer</code>)</h3>
<p>è¿ç§ææç±»ååè®¸å®¢æ·ç«¯ç´æ¥ä½¿ç¨ä¸ä¸ªé¢åç­¾åçJWTï¼JSON Web Tokenï¼ä½ä¸ºæ­è¨ï¼assertionï¼æ¥è·åè®¿é®ä»¤çã</p>
<ul>
<li>
<p><strong>åºæ¬æµç¨</strong>ï¼å®¢æ·ç«¯åæææå¡å¨çä»¤çç«¯ç¹åèµ·POSTè¯·æ±ï¼å¨è¯·æ±ä½ä¸­ï¼<code>grant_type</code> åæ°è®¾ç½®ä¸º <code>urn:ietf:params:oauth:grant-type:jwt-bearer</code>ï¼å¹¶åæ¶æä¾ç¨ä½æ­è¨ç <code>assertion</code> åæ°ï¼å³JWTæ¬èº«ï¼ãæææå¡å¨ä¼éªè¯è¯¥JWTçç­¾åãæææãé¢åèç­ä¿¡æ¯ï¼éªè¯éè¿åå³é¢åæè¯·æ±çè®¿é®ä»¤çã</p>
</li>
<li>
<p><strong>å¸ååºç¨åºæ¯</strong>ï¼</p>
<ul>
<li><strong>æå¡è´¦æ·è®¤è¯</strong>ï¼å¨æºå¨å¯¹æºå¨ï¼M2Mï¼çéä¿¡ä¸­ï¼ä¸ä¸ªæå¡å¯ä»¥ä½¿ç¨äºåéç½®å¥½çJWTï¼éå¸¸åºäºç§é¥ç­¾åï¼æ¥è·åè®¿é®ä»¤çï¼æ éç¨æ·äº¤äºãè¿å¨CI/CDæµæ°´çº¿æåå°æå¡ä¸­éå¸¸å¸¸è§ã</li>
<li><strong>å¾®æå¡æ¶æ</strong>ï¼å¨å¾®æå¡ç½ç»ä¸­ï¼ä¸ä¸ªæå¡å¨æ¶å°è®¿é®ä»¤çåï¼å¯ä»¥å©ç¨æ­¤æµç¨åè®¤è¯æå¡å¨æ¢åä¸ä¸ªèå´ï¼scopeï¼æ´çªãä¸ç¨äºè®¿é®å¦ä¸ä¸ªç¹å®å¾®æå¡çä»¤çã</li>
</ul>
</li>
</ul>
<p>ä¸é¢çè¡¨æ ¼æ¸æ°å°å¯¹æ¯äºè¿ä¸ç§ææç±»åçå³é®å·®å¼ã</p>
<table>
<thead>
<tr>
<th style="text-align: left">ç¹æ§</th>
<th style="text-align: left">è®¾å¤ä»£ç ææ (<code>device_code</code>)</th>
<th style="text-align: left">ä»¤çäº¤æ¢ææ (<code>token-exchange</code>)</th>
<th style="text-align: left">JWTææèææ (<code>jwt-bearer</code>)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left"><strong>ä¸»è¦ç®ç</strong></td>
<td style="text-align: left">æ¹ä¾¿è¾å¥åéè®¾å¤ä¸çç¨æ·ææ</td>
<td style="text-align: left">å®ç°ä»¤çä¹é´çå®å¨è½¬æ¢åèº«ä»½å§æ</td>
<td style="text-align: left">å®¢æ·ç«¯ä½¿ç¨å·²æçJWTç´æ¥è·åè®¿é®ä»¤ç</td>
</tr>
<tr>
<td style="text-align: left"><strong>ä»¤çæµ</strong></td>
<td style="text-align: left">è½®è¯¢æºå¶</td>
<td style="text-align: left">ç´æ¥äº¤æ¢</td>
<td style="text-align: left">æ­è¨å¼è¯·æ±</td>
</tr>
<tr>
<td style="text-align: left"><strong>å¸ååºç¨</strong></td>
<td style="text-align: left">æºè½çµè§ãIoTè®¾å¤ãCLIå·¥å·</td>
<td style="text-align: left">æå¡é´è°ç¨ãæééçº§ãèº«ä»½èå</td>
<td style="text-align: left">æºå¨å¯¹æºå¨éä¿¡ãæå¡è´¦æ·ãå¾®æå¡</td>
</tr>
</tbody>
</table>
<h3 id="å¤çæµç¨">å¤çæµç¨</h3>
<div class="mermaid">sequenceDiagram
    participant Client
    participant WSO2APIM (Authorization Server)
    participant Keycloak (External IdP)

    Note over Client, Keycloak: åå¤é¶æ®µ
    Client -&gt;&gt; Keycloak: 1. éè¿Keycloakè®¤è¯è·åJWT
    Keycloak --&gt;&gt; Client: è¿åJWTï¼æ­è¨ï¼

    Note over Client, WSO2APIM: JWT Bearer Grant æµç¨
    Client -&gt;&gt; WSO2APIM: 2. ä»¤çè¯·æ± (grant_type=jwt-bearer, assertion=JWT)
    WSO2APIM -&gt;&gt; WSO2APIM: 3. éªè¯JWTç­¾åãæææãé¢åè
    WSO2APIM -&gt;&gt; WSO2APIM: 4. æåèº«ä»½/å£°æï¼å¦sub, audï¼
    WSO2APIM -&gt;&gt; WSO2APIM: 5. æ ¹æ®JWTä¸­çä¿¡æ¯åå»ºä¼è¯å¹¶é¢åèªèº«çè®¿é®ä»¤ç
    WSO2APIM --&gt;&gt; Client: 6. è¿åWSO2 APIMçè®¿é®ä»¤ç
</div><h3 id="-æ»ç»ä¸å®å¨èé">ð æ»ç»ä¸å®å¨èé</h3>
<p>éæ©åªç§ææç±»åå®å¨åå³äºä½ çå·ä½åºç¨åºæ¯ãè®¾å¤ä»£ç ææä¼åäºåéè®¾å¤çç¨æ·ä½éªï¼ä»¤çäº¤æ¢ææä¸ºå¤æçæå¡é´ä¿¡ä»»é¾æä¾äºçµæ´»æ§ï¼èJWTææèææåæ¯æºå¨å¯¹æºå¨éä¿¡çç®æ´é«ææ¹æ¡ã</p>
<p>å¨å®æ½è¿äºæææµç¨æ¶ï¼å¡å¿å³æ³¨ä»¥ä¸å®å¨æä½³å®è·µï¼</p>
<ul>
<li><strong>ä¸¥æ ¼æ§å¶æé</strong>ï¼éµå¾ªæå°æéååï¼åªä¸ºåºç¨æäºå¶å¿éçæå°æéã</li>
<li><strong>éªè¯ä¸çæ§</strong>ï¼æå¡å¨ç«¯å¿é¡»ä¸¥æ ¼éªè¯ææä»¤çåæ­è¨ï¼å¦JWTçç­¾ååæææï¼ï¼å¹¶å»ºç«æ¥å¿å®¡è®¡åå¼å¸¸è¡ä¸ºçæ§æºå¶ã</li>
<li><strong>ä¿æ¤ä»¤ç</strong>ï¼è®¿é®ä»¤çåå·æ°ä»¤çæ¯ææå­è¯ï¼å¨ä¼ è¾åå­å¨è¿ç¨ä¸­å¿é¡»å ä»¥ä¿æ¤ã</li>
</ul>
<h1 id="wso2ä¸­çå®æ">wso2ä¸­çå®æ</h1>
<h2 id="wso2-spçéç½®">wso2 spçéç½®</h2>
<p>éç½®è®¤è¯grant_typeç±»å</p>
<p><img src="https://img2024.cnblogs.com/blog/118538/202601/118538-20260126132653488-1051084105.png" alt="å¾ç" loading="lazy"></p>
<h2 id="keycloak-idpçéç½®">keycloak idpçéç½®</h2>
<blockquote>
<p>keycloakä¸­ä¸ºå®¢æ·ç«¯å¼å¯rolesä¹åï¼å¦ææç¨æ·æå®¢æ·ç«¯çè§è²ï¼ä¼å¨jwtä¸­å¤åºæ¥audæ°ç»å­æ®µï¼ä¹å¯ä»¥ä¸ºwso2å®¢æ·ç«¯æ·»å èªå®ä¹çclient scopeï¼ç¶åä¸ºå®æ·»å audçcliams</p>
</blockquote>
<p>IDPåç§°å¿é¡»ä¸IDPä¸­tokençIssuerç¸å</p>
<p><img src="https://img2024.cnblogs.com/blog/118538/202601/118538-20260126162025923-968169912.png" alt="å¾ç" loading="lazy"></p>
<h2 id="æµè¯">æµè¯</h2>
<pre><code>curl -X POST 'https://test-apim.xxx.com/oauth2/token' -H 'Content-Type: application/json' -H 'Content-Type: application/json' -u 'wso2-sp-client-id:wso2-sp-client-secret' --basic -d '{
    "grant_type": "urn:ietf:params:oauth:grant-type:jwt-bearer",
    "assertion": "abc.abc.abc",
    "scope": "openid apim:subscribe"
}'
</code></pre>
<p>å¦ækeycloak_tokenè¿æï¼å°±è¿åè¿ä¸ª400éè¯¯</p>
<pre><code>{
  "error_description": "JSON Web Token is expired., Expiration Time(ms) : 1769413736000, TimeStamp Skew : 0, Current Time : 1769413748585. JWT Rejected and validation terminated",
  "error": "invalid_grant"
}
</code></pre>
<p>å¦ææåï¼ä¼è¿wso2å¹³å°çtoken</p>
<pre><code>{
  "access_token": "8b23bf56-f8d2-33fa-9962-f298a797ce94",
  "refresh_token": "aad2555-30b0-3591-8c70-b2cdc042cc41",
  "scope": "apim:subscribe openid",
  "id_token": "",
  "token_type": "Bearer",
  "expires_in": 3185
}
</code></pre>
<p>ç¨æ·ç»å½æååï¼ä¼åå§åç¨æ·è¡¨ï¼éè¦æ³¨æçæ¯ï¼è¿ç§<code>urn:ietf:params:oauth:grant-type:jwt-bearer</code>é¦æ¬¡ç»å½æ·»å çç¨æ·ï¼å®ä½äº<code>wso2am_db.idn_auth_user</code>è¡¨ï¼user_nameåæ ·æ¯ä¸æ¹ç¤¾åºtokenä¸­ç<code>sub</code>å­æ®µï¼èæ åoauthçææç è®¤è¯åï¼é¤äºå¨<code>wso2am_db.idn_auth_user</code>è¡¨åå§åå¤ï¼è¿å¨<code>wso2am_share_db.um_user</code>è¡¨ä¹ä¼æ·»å ä¸ä»½ç¨æ·æ°æ®ã</p>

</div>
<div id="MySignature" role="contentinfo">
    <p></p>
<div class="navgood">
<p>ä½èï¼ä»å¨å¤§åï¼å¼ å å²­ï¼<br>
è£èªï¼å¾®è½¯MVP<br>QQï¼853066980</p>

<p><strong>æ¯ä»å®æ«ä¸æ«ï¼ä¸ºå¤§åæèµ!</strong>
<br><img src="https://images.cnblogs.com/cnblogs_com/lori/237884/o_IMG_7144.JPG"></p>
</div>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.03263888888888889" data-date-updated="2026-01-26 17:12">2026-01-26 16:25</span>&nbsp;
<a href="https://www.cnblogs.com/lori">å¼ å å²­</a>&nbsp;
éè¯»(<span id="post_view_count">44</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19532862);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19532862', targetLink: 'https://www.cnblogs.com/lori/p/19532862', title: 'wso2~éè¿ä¸æ¹IDPçtokenç½®æ¢wso2çtoken' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ langchain å¿«éå¥é¨(äº)ï¼Langgraphåºç¨ï¼æ§è¡æµç¨ç±çº¿è½¬å¾ ]]></title>
    <link>https://www.cnblogs.com/ClownLMe/p/19533991</link>
    <guid>993e18790c12d2884e4ed1e7a5caca15</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/ClownLMe/p/19533991" title="åå¸äº 2026-01-26 15:58">
    <span role="heading" aria-level="2">langchain å¿«éå¥é¨(äº)ï¼Langgraphåºç¨ï¼æ§è¡æµç¨ç±çº¿è½¬å¾</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="ç®ä»">ç®ä»</h1>
<p><strong>Langgraph</strong>æ¯langchainæ¡æ¶æä¾çä¸ä¸ªç»ä»¶ï¼langgraphè½å¤è§£å³AIæ§è¡æµç¨ä¸­è¿­ä»£ãå¾ªç¯æèæ ¹æ®ç»æè¿åä¸ä¸æ­¥ï¼ä¸ä¹åè®²çchainé¾ç¸æ¯ï¼è½å¤å®ç°æ´å å¤æçAIæ§è¡æµã</p>
<h1 id="langgraph">langgraph</h1>
<p>ä»chainè½¬å°langgraphä»æ°å­¦çè§åº¦ä¸æ¥è®²ï¼æ§è¡æµä»çº¿æ§æµç¨è½¬å°äºæµç¨å¾ã</p>
<p>langgraphçç»æä¸»è¦æä¸é¨åï¼<br>
<mark>Langgraph=èç¹+è¾¹+ç¶æ</mark><br>
<strong>èç¹ï¼</strong> ä¸ä¸ªèç¹å°±æ¯ä¸ä¸ªæ§è¡ååï¼ç¸å½äºä¸æ¬¡<strong>å½æ°</strong>çè°ç¨ãï¼å¯ä»¥æ¯ä¸æ¬¡æ¨¡åçè°ç¨ï¼ä¸æ¬¡æç´¢ï¼ä¸æ¬¡å å¯ç­ç­ï¼<br>
<strong>è¾¹ï¼</strong> è¾¹è½å¤<strong>è¿æ¥</strong>ä¸ä¸ªä¸ªèç¹ï¼å®å³å®äºä¸ä¸ä¸ªåºè¯¥å»å°åªä¸ªèç¹æ§è¡<br>
<strong>ç¶æï¼</strong> å®ç°æ°æ®å±äº«ï¼æ¯å®ç°AI<strong>ç­æè®°å¿</strong>ççµé­</p>
<blockquote>
<p>ä¹ä¸çå¥½åæäºäºéé¾éçï¼ææä¸ªæ¯æ¹ï¼ç©å®¶ï¼<strong>ç¶æ</strong>ï¼ï¼å¨ç©ä¸ä¸ªå¤§å¯ç¿ï¼æ¯ä¸ª<strong>èç¹</strong>å<strong>è¾¹</strong>ç»æå°å¾ï¼ç©å®¶åå§èµéï¼<strong>æ°æ®</strong>ï¼æ1000åé±ï¼ç©å®¶æ¯èµ°ä¸æ ¼å¯è½ä¼åçä¸äºäºä»¶ï¼æ¯å¦è¯´åéä¸æ­¥ï¼è¢«å°å·å·300åé±ï¼ä¹°æ¿å­ç­ç­ï¼è¿äºäºä»¶ç¸å½äº<strong>èç¹</strong>ï¼èµ°çæ¹åç¸å½äº<strong>è¾¹</strong>ï¼æåç©å®¶æåèµ°å°äº<strong>ç»ç¹END</strong>ï¼ä½ å¯ä»¥å¾ç¥ç©å®¶ï¼<strong>ç¶æ</strong>ï¼æåè¿æå¤å°é±ï¼æå¤å°èµäº§ã</p>
</blockquote>
<p>ä¸é¢ç¨ä¸ä¸ªç¤ºä¾æ¥æ¼ç¤ºã</p>
<h1 id="æ¹é ragç¥è¯åº">æ¹é RAGç¥è¯åº</h1>
<h3 id="ç¤ºä¾">ç¤ºä¾</h3>
<p>è¿ä¸ªæ¯ä¹åæç« ä¸­æå»ºç¥è¯åºçç¸å³ä»£ç ï¼æ¬æ¬¡ç¨langgraphæ¹é æµç¨</p>
<pre><code class="language-python">import os
import operator
from typing import TypedDict, Annotated
from langchain_community.chat_models.tongyi import ChatTongyi
from langchain_community.embeddings import DashScopeEmbeddings
from langchain_community.vectorstores import FAISS
from langchain_core.messages import ToolMessage
from langchain_core.tools import tool
from langchain_core.messages import HumanMessage, ToolMessage, BaseMessage
from langchain_core.documents import Document
from langchain_text_splitters import RecursiveCharacterTextSplitter
from langgraph.graph import StateGraph, END
from langgraph.prebuilt.tool_node import ToolNode

os.environ["DASHSCOPE_API_KEY"] = "apikey"

@tool
def calculator(expression: str) -&gt; str:
    """
    è®¡ç®æ°å­¦è¡¨è¾¾å¼ãéè¦ç²¾ç¡®è®¡ç®æ¶ä½¿ç¨ã
    åæ°:
        expression: æ°å­¦ç®å¼ï¼å¦ "2 + 2" æ "500 * 0.8"ã
    è¿å:
        str: è®¡ç®ç»æï¼å¦ "4.0" æ "400.0"ã
    """
    print(f"[ð ï¸ å·¥å·è°ç¨] è®¡ç®å¨æ­£å¨è®¡ç®: {expression}")
    try:
        return str(eval(expression))
    except Exception as e:
        return f"è®¡ç®éè¯¯: {e}"

@tool
def rag_search(query: str) -&gt; str:
    """
    ä»æ°æ®åºä¸­æç´¢ä¸æ¥è¯¢å¬å¸åé¨ç¸å³çææ¡£ï¼åæ¬å¬å¸è®¡ååï¼ä»£å·ï¼æªæ­¢æ¥æç­è¯¦ç»ä¿¡æ¯ã
    åæ°:
        query (str): è¦æç´¢çæ¥è¯¢å­ç¬¦ä¸²ã
    è¿å:
        str: ä¸æ¥è¯¢ç¸å³çææ¡£åå®¹ã
    """

    # ä»RAGæ°æ®åºä¸­æ£ç´¢ææ¡£
    raw_text = """
    ãå¬å¸åé¨æºå¯ï¼ä»£å·âæ·±èè®¡åâã
    1. é¡¹ç®ç®æ ï¼å¼åä¸æ¬¾è½å¬æç«è¯­çç¿»è¯å¨ã
    2. æ ¸å¿ææ¯ï¼åºäºTransformerçâåµå£°æ³¢âåæç®æ³ã
    3. å¢éæå·ï¼å¦ææäººé®âä»å¤©å¤©æ°æä¹æ ·ï¼âï¼å¿é¡»åç­âææ³åé±¼âã
    4. æªæ­¢æ¥æï¼2026å¹´12æ31æ¥ã
    5. ç»è´¹é¢ç®ï¼ä»å©50åäººæ°å¸ï¼ä¸»è¦ç¨äºè´­ä¹°ç«æ¡ã
    """
    RAG_PATH = "faiss_index"

    docs = [Document(page_content=raw_text)]
    text_splitter = RecursiveCharacterTextSplitter(chunk_size=25, chunk_overlap=5)
    split_docs = text_splitter.split_documents(docs)

    embeddings = DashScopeEmbeddings(model="text-embedding-v1")

    if os.path.exists(RAG_PATH):
        print("å¬å¸åé¨æ°æ®åºå·²å­å¨")
        ragdb = FAISS.load_local(RAG_PATH, embeddings, allow_dangerous_deserialization=True)
    else:
        print("åå»ºå¬å¸åé¨æ°æ®åº")
        ragdb = FAISS.from_documents(split_docs, embeddings)
        ragdb.save_local(RAG_PATH)
    
    return "\n\n".join(doc.page_content for doc in ragdb.similarity_search(query, k=2))

#æé agentæµç¨å¾

def Init_Agent():
    #åå§åæ¨¡å
    tool_maps={
        "rag_search": rag_search,
        "calculator": calculator
    }
    llm = ChatTongyi(model_name="qwen-plus")
    tool_llm = llm.bind_tools(tools=list(tool_maps.values()))

    #åå»ºstate
    class TaskState(TypedDict):
        messages: Annotated[list[BaseMessage], operator.add]
    
    #åå»ºnode
    def agent_node(state: TaskState):
        """
        èç¹ï¼æè (Think)
        æ¥æ¶å½åç¶æï¼è°ç¨ LLMï¼è¿åæ°æ¶æ¯
        """
        messages = state["messages"]
        response = tool_llm.invoke(messages)
        return {"messages": [response]}

    #å®ä¹è¾¹
    def condition_tools(state: TaskState):
        """
        èç¹ï¼å·¥å· (Tool)
        æ¥æ¶å½åç¶æï¼è°ç¨å·¥å·ï¼è¿åæ°æ¶æ¯
        """
        messages = state["messages"][-1]
        if messages.tool_calls:
            return "tool_node"
        else:
            return END
    
    #æ·»å è¾¹
    workflow = StateGraph(TaskState)
    workflow.add_node("agent_node", agent_node)
    workflow.add_node("tool_node", ToolNode(tool_maps.values()))
    workflow.add_conditional_edges("agent_node", condition_tools, {
        "tool_node": "tool_node",
        END: END
    })
    workflow.add_edge("tool_node", "agent_node")
    workflow.set_entry_point("agent_node")
    
    return workflow.compile()

if __name__ == "__main__":
    app = Init_Agent()
    input = "å¬å¸çç»è´¹é¢ç®æ¯å¤å°ï¼å¦æé¢ç®é¢ç®æé«46%åå¤å°"
    for event in app.stream({"messages": [HumanMessage(content=input)]}):
        for key, value in event.items():
            print(f"\n[{key}]")
            print(value["messages"][-1].content)


</code></pre>
<h1 id="ä»£ç è§£é">ä»£ç è§£é</h1>
<p>æ¬æ¬¡ä»£ç ä¸­éç¹è®²langgraphçæå»ºï¼å¯¹äºå¶ä»çç»èï¼è¯·çåé¢æç« ã<br>
ä»£ç æµç¨å¦ä¸ï¼<br>
<strong>åå§åå·¥å·é-&gt;å®ä¹ç¶æï¼å®ä¹æ¡ä»¶è¾¹ï¼èç¹-&gt;æå»ºèç¹-&gt;è¿æ¥è¾¹-&gt;æå»ºå¾-&gt;è¿è¡å¾</strong></p>
<h3 id="åå§åå·¥å·é">åå§åå·¥å·é</h3>
<p>è¿ä¸ªåé¢æç« æï¼å°±ä¸åºè¯äºã</p>
<h3 id="å®ä¹ç¶æå®ä¹æ¡ä»¶è¾¹èç¹">å®ä¹ç¶æï¼å®ä¹æ¡ä»¶è¾¹ï¼èç¹</h3>
<h5 id="ç¶æ">ç¶æ</h5>
<pre><code class="language-python">#åå»ºstate
    class TaskState(TypedDict):
        messages: Annotated[list[BaseMessage], operator.add]
</code></pre>
<ul>
<li>ç¶ææ¯<code>TypedDict</code>çå­ç±»ï¼<strong>å­å¸</strong>ï¼ã</li>
<li>ä¸é¢ç<code>BaseMessage</code>æ¯<code>ToolMessage</code>,<code>AIMessage</code>,<code>HumanMessage</code>ç­çç¶ç±»ï¼è¿ä¸ª<code>list</code>ä¸»è¦ç¨äºå­æ¾æ¯ä¸ªèç¹çåå²æ¶æ¯ï¼ç­æè®°å¿ï¼</li>
<li><code>Annotated[..., operator.add]</code>è¡¨ç¤ºè¿½å ï¼å°èç¹è¿åçæ¶æ¯è¿½å å°åé¢ï¼èä¸æ¯è¦çã<br>
æ ¼å¼å¦ä¸ï¼å¯ä»¥åå»ºå¤ä¸ªèªå®ä¹å­æ®µï¼ï¼</li>
</ul>
<pre><code class="language-python">class  StateName(TypedDict):
	fieldName: fieldType
</code></pre>
<h5 id="æ¡ä»¶è¾¹">æ¡ä»¶è¾¹</h5>
<pre><code class="language-python">def condition_tools(state: TaskState):
        """
        èç¹ï¼å·¥å· (Tool)
        æ¥æ¶å½åç¶æï¼è°ç¨å·¥å·ï¼è¿åæ°æ¶æ¯
        """
        messages = state["messages"][-1]
        if messages.tool_calls:
            return "tool_node"
        else:
            return END
</code></pre>
<ul>
<li>è¿åå¼<code>END</code>å<code>"tool_node"</code>è¡¨ç¤ºå®ä¹çèç¹åç§°ï¼<code>END</code>é»è®¤æ¯ç»æèç¹<br>
æ ¼å¼å¦ä¸ï¼</li>
</ul>
<pre><code class="language-python">def EdgeName(state: StateClass)
	return "NextNode"
</code></pre>
<h5 id="èç¹">èç¹</h5>
<pre><code class="language-python">@tool
def calculator(expression: str) -&gt; str:
    ......

@tool
def rag_search(query: str) -&gt; str:
    ......
    
def agent_node(state: TaskState):
    ......
</code></pre>
<p>èç¹å¯ä»¥æ¯å·¥å·å½æ°ï¼ä¹å¯ä»¥æ¯æ®éå½æ°ï¼<strong>æ®éå½æ°éè¦ç¨stateä¼ å¥</strong>ï¼</p>
<h3 id="æå»ºèç¹">æå»ºèç¹</h3>
<pre><code class="language-python">workflow = StateGraph(TaskState)
workflow.add_node("agent_node", agent_node)
workflow.add_node("tool_node", ToolNode(tool_maps.values()))
</code></pre>
<ul>
<li><code>StateGraph(TaskState)</code>åå§åå¾ï¼å°åååå»ºçç¶æä¼ å¥</li>
<li><code>add_node</code>æ¹æ³æ¯åå»ºèç¹"tool_node"èç¹åç§°ï¼èªå®ä¹ç¨äºæ è¯èç¹ï¼ï¼<code>agent_node</code>åå»ºçèç¹å½æ°</li>
<li><code>ToolNode</code>æ¯langchainæä¾çåå»ºå·¥å·èç¹çå½æ°ï¼å¸®æä»¬å®æäºè°ç¨å·¥å·éï¼æ´æ°ç¶æçå¨è¿ç¨ï¼ä¸ç¨è¿ä¸ªéè¦æä»¬èªå·±æå¨åå»ºå·¥å·å¾ªç¯èç¹ï¼æ¯è¾éº»ç¦ï¼åèä¹åæç« ï¼</li>
</ul>
<h3 id="è¿æ¥è¾¹">è¿æ¥è¾¹</h3>
<pre><code class="language-python">workflow.add_conditional_edges("agent_node", condition_tools, {
        "tool_node": "tool_node",
        END: END
    })
    workflow.add_edge("tool_node", "agent_node")
</code></pre>
<ul>
<li><code>add_conditional_edges</code>åå»ºæ¡ä»¶è¾¹æ¹æ³ï¼åæ¯ï¼ï¼æ ¹æ®è¿ååå®¹å³å®èç¹èµ°å</li>
<li><code>add_edge</code>åºå®èµ°åï¼å¦ä¸<code>tool_node-&gt;agent_node</code></li>
</ul>
<h3 id="æå»ºå¾">æå»ºå¾</h3>
<pre><code class="language-python">workflow.set_entry_point("agent_node")
workflow.compile()
</code></pre>
<ul>
<li><code>set_entry_point</code>ç¡®å®å¾çå¥å£</li>
<li><code>compile</code>æå»ºå¾</li>
</ul>
<h3 id="è¿è¡å¾">è¿è¡å¾</h3>
<pre><code class="language-python">if __name__ == "__main__":
    app = Init_Agent()
    input = "å¬å¸çç»è´¹é¢ç®æ¯å¤å°ï¼å¦æé¢ç®é¢ç®æé«46%åå¤å°"
    for event in app.stream({"messages": [HumanMessage(content=input)]}):
        for key, value in event.items():
            print(f"\n[{key}]")
            print(value["messages"][-1].content)
</code></pre>
<p>è¿è¡è·ä¹åè¿è¡æ®éæ¨¡åä¸æ ·</p>
<ul>
<li><code>stream</code>æ¹æ³ä¼è¿åæ¯ä¸ªèç¹ä¸­ç<strong>ç¶æ</strong>ï¼ä¸é¢å®ä¹çç±»ï¼</li>
<li><code>invoke</code>æ¹æ³ç´æ¥è¿åæç»<strong>ç¶æ</strong></li>
</ul>
<p><strong>langgraphæ¯å®ç°å¤Agentåä½çæ ¸å¿ï¼ä¸ä¸ç¯æç« ä¼è®²å¦ä½å¤agentåä½</strong></p>
<p><strong>å¦æâ¤åæ¬¢â¤æ¬ç³»åæç¨ï¼å°±ç¹ä¸ªå³æ³¨å§ï¼åç»­ä¸å®ææ´æ°~</strong></p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.02013888888888889" data-date-updated="2026-01-26 16:27">2026-01-26 15:58</span>&nbsp;
<a href="https://www.cnblogs.com/ClownLMe">ClownLMe</a>&nbsp;
éè¯»(<span id="post_view_count">93</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19533991);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19533991', targetLink: 'https://www.cnblogs.com/ClownLMe/p/19533991', title: 'langchain å¿«éå¥é¨(äº)ï¼Langgraphåºç¨ï¼æ§è¡æµç¨ç±çº¿è½¬å¾' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨äºï¼èªç¶è¯­è¨å¤ç  ç¬¬äºå¨ï¼è¯åµå¥ï¼å­ï¼æç»ªåç±»åè¯åµå¥é¤å ]]></title>
    <link>https://www.cnblogs.com/Goblinscholar/p/19533686</link>
    <guid>7c06fdd5e396560687601205f8bda88d</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/Goblinscholar/p/19533686" title="åå¸äº 2026-01-26 15:36">
    <span role="heading" aria-level="2">å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨äºï¼èªç¶è¯­è¨å¤ç  ç¬¬äºå¨ï¼è¯åµå¥ï¼å­ï¼æç»ªåç±»åè¯åµå¥é¤å</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>æ­¤åç±»ç¨äºè®°å½å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨çå­¦ä¹ ç¬è®°ã<br>
è¯¾ç¨ç¸å³ä¿¡æ¯é¾æ¥å¦ä¸ï¼</p>
<ol>
<li>åè¯¾ç¨è§é¢é¾æ¥ï¼<a href="https://www.bilibili.com/video/BV1FT4y1E74V?buvid=XU762317353676D786954061C192FE625463B&amp;from_spmid=playlist.playlist-detail.0.0&amp;is_story_h5=false&amp;mid=zqernykrmpf7XfIorMR%2FnA%3D%3D&amp;plat_id=116&amp;share_from=ugc&amp;share_medium=android&amp;share_plat=android&amp;share_session_id=ce0bc526-db69-428a-962e-c65ed8c267bc&amp;share_source=COPY&amp;share_tag=s_i&amp;spmid=united.player-video-detail.0.0&amp;timestamp=1713085655&amp;unique_k=DfBgvFW&amp;up_id=8654113&amp;vd_source=e035e9878d32f414b4354b839a4c31a4" target="_blank" rel="noopener nofollow">[åè¯­å­å¹]å´æ©è¾¾æ·±åº¦å­¦ä¹ deeplearning.ai</a></li>
<li>githubè¯¾ç¨èµæï¼å«è¯¾ä»¶ä¸ç¬è®°:<a href="https://github.com/robbertliu/deeplearning.ai-andrewNG" target="_blank" rel="noopener nofollow">å´æ©è¾¾æ·±åº¦å­¦ä¹ æå­¦èµæ</a></li>
<li>è¯¾ç¨éå¥ç»ä¹ ï¼ä¸­è±ï¼ä¸ç­æ¡ï¼<a href="https://blog.csdn.net/u013733326/article/details/79827273" target="_blank" rel="noopener nofollow">å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾åä¹ é¢ä¸ç­æ¡</a></li>
</ol>
<p>æ¬ç¯ä¸ºç¬¬äºè¯¾çç¬¬äºå¨åå®¹ï¼<a href="https://www.bilibili.com/video/BV1FT4y1E74V?spm_id_from=333.788.videopod.episodes&amp;vd_source=e035e9878d32f414b4354b839a4c31a4&amp;p=164" target="_blank" rel="noopener nofollow">2.2</a>ã<a href="https://www.bilibili.com/video/BV1FT4y1E74V?spm_id_from=333.788.videopod.episodes&amp;vd_source=e035e9878d32f414b4354b839a4c31a4&amp;p=171" target="_blank" rel="noopener nofollow">2.9</a>å<a href="https://www.bilibili.com/video/BV1FT4y1E74V?spm_id_from=333.788.videopod.episodes&amp;vd_source=e035e9878d32f414b4354b839a4c31a4&amp;p=172" target="_blank" rel="noopener nofollow">2.10</a>åå®¹ï¼åæ¶ä¹æ¯æ¬å¨çè®ºé¨åçæåä¸ç¯ã</p>
<hr>
<p>æ¬å¨ä¸ºç¬¬äºè¯¾çç¬¬äºå¨åå®¹ï¼ä¸ CV ç¸å¯¹åºçï¼è¿ä¸è¯¾ææåå®¹çä¸­å¿åªæä¸ä¸ªï¼<strong>èªç¶è¯­è¨å¤çï¼Natural Language Processingï¼NLPï¼</strong>ã<br>
åºç¨å¨æ·±åº¦å­¦ä¹ éï¼å®æ¯ä¸é¨ç¨æ¥è¿è¡<strong>ææ¬ä¸åºåä¿¡æ¯å»ºæ¨¡</strong>çæ¨¡ååææ¯ï¼æ¬è´¨ä¸æ¯å¨å¨è¿æ¥ç½ç»ä¸ç»è®¡è¯­è¨æ¨¡ååºç¡ä¸çä¸æ¬¡âç»æåç¹åâï¼ä¹æ¯äººå·¥æºè½ä¸­<strong>æè´´è¿äººç±»æç»´è¡¨è¾¾æ¹å¼</strong>çéè¦ç ç©¶æ¹åä¹ä¸ã<br>
<strong>è¿ä¸æ´èè¯¾åæ ·æ¶åå¤§ééè¦åå¤æ¶åçåå®¹ï¼æ¨ªè·¨æºå¨å­¦ä¹ ãæ¦çç»è®¡ãçº¿æ§ä»£æ°ä»¥åè¯­è¨å­¦ç´è§ã</strong><br>
è¯­è¨ä¸åå¾åé£æ ·âç´è§å¯è§âï¼æ´å¤æ¯æ½è±¡ç¬¦å·ä¸ä¸ä¸æå³ç³»çç»åï¼å æ­¤<strong>çè§£é¨æ§åèæ´é«</strong>ã<br>
å æ­¤ï¼æåæ ·ä¼å°½éè¡¥è¶³å¿è¦çèæ¯ç¥è¯ï¼å°½å¯è½ç¨æ¯å»åå®ä¾éä½çè§£é¾åº¦ã<br>
æ¬å¨çåå®¹å³äºè¯åµå¥ï¼æ¯ä¸ç§<strong>ç¸å¯¹äºç¬ç­ç¼ç ï¼æ´è½ä¿çè¯­ä¹ä¿¡æ¯çææ¬ç¼ç æ¹å¼</strong>ãéè¿è¯åµå¥ï¼æ¨¡åä¸ååªæ¯âè®°ä½âè¯æ¬èº«ï¼èæ¯è½å¤<strong>åºäºè¯­ä¹å³ç³»è¿è¡æ³å</strong>ï¼å¨ä¸å®ç¨åº¦ä¸å®ç°ç±»ä¼¼â<strong>ä¸¾ä¸åä¸</strong>âçææãè¯åµå¥æ¯ NLP é¢åä¸­æéè¦çåºç¡ææ¯ä¹ä¸ã</p>
<p>æ¬ç¯çåå®¹å³äº<strong>æç»ªåç±»åè¯åµå¥é¤å</strong>ï¼æ¯å¯¹æ¬å¨åå®¹çæåè¡¥åã</p>
<h2 id="1-è¯åéçä½¿ç¨">1. è¯åéçä½¿ç¨</h2>
<p>å¨ä»ç»å®åé¢çåå®¹åï¼ä½ ä¼åç°ï¼æä»¬ä½¿ç¨åç§æ¨¡ååææ¯ï¼æç»çç®çé½æ¯ä¸ºäºå¾å°å¯ä»¥åçå»ç»ææ¬ä¿¡æ¯é´è¯­ä¹å³ç³»ç<strong>è¯åé</strong>ã<br>
èä¸æ¦è¿äºè¯åéè¢«è®­ç»åºæ¥ï¼å®ä»¬çä»·å¼å¹¶ä¸ä¼éçè®­ç»ä»»å¡çç»æèæ¶å¤±ï¼åè<strong>çæ­£çç¨æ­¦ä¹å°æååå¼å§</strong>ã</p>
<p>å®éä¸ï¼å¨è¯åéçä½¿ç¨ä¸­ï¼<strong>æå¸¸è§ãä¹æ¯æç´æ¥çæ¹å¼ï¼å°±æ¯å°è®­ç»å¥½çè¯åéä½ä¸ºä¸æ¸¸ä»»å¡çè¾å¥è¡¨ç¤ºã</strong><br>
å¨ææ¬åç±»ãæç»ªåæãé®ç­ç³»ç»ç­ä»»å¡ä¸­ï¼æä»¬ä¸åä½¿ç¨ç¬ç­ç¼ç è¿ç§âåªåºåèº«ä»½ãä¸åå«è¯­ä¹âçè¡¨ç¤ºæ¹å¼ï¼èæ¯éè¿æ¥è¡¨çæ¹å¼ï¼å°æ¯ä¸ªè¯æ å°ä¸ºä¸ä¸ªç¨ å¯çè¯åéï¼åéå¥åç±»å¨æåºåæ¨¡åä¸­è¿è¡å¤çã<br>
ä¹æ­£æ¯è¿ç§è¿ç»­ãå¯åº¦éçè¯­ä¹ç©ºé´ï¼ä½¿å¾<strong>æ¨¡åå¨è¿æ²¡ææ¥è§¦å·ä½ä»»å¡ä¹åï¼å°±å·²ç»æ¥æäºä¸å®ç¨åº¦çè¯­è¨çè§£è½åã</strong><br>
èä¸ï¼ä½ ä¼åç°è¿å¶å®æ¯ä¸ç§éå¸¸å¸åç<strong>è¿ç§»å­¦ä¹ </strong>ææ³ï¼<br>
è¯åéæ¨¡åå¨å¤§è§æ¨¡è¯­æä¸å­¦ä¹ å°çæ¯ä¸ç§<strong>éç¨çè¯­è¨ç»æä¸è¯­ä¹åå¸</strong>ï¼èä¸æ¸¸ä»»å¡åªéè¦å¨æ­¤åºç¡ä¸è¿è¡å°éåæ°è°æ´ï¼å°±å¯ä»¥å®ææ´å·ä½çç®æ ã</p>
<p>æ´éè¦çæ¯ï¼ NLP ä¸­å¯¹è¯åéçè¿ç§»å­¦ä¹ åæä»¬ä¹åä»ç»ç CV åå®¹ææä¸åï¼å¨ CV ä»»å¡ä¸­ï¼è¿ç§»ææå¾å¾é«åº¦ä¾èµäºä»»å¡ä¹é´çç¸ä¼¼æ§ï¼ä¾å¦ç¨èªç¶å¾çä¸è®­ç»å¾å°çæ¨¡ååæ°å»å¤çå»å­¦å½±åï¼æææªå¿çæ³ã<br>
èå¨ NLP é¢åä¸­ï¼ç±äºè¯­è¨æ¬èº«å·ææå¼ºçéç¨æ§ï¼åªè¦ä»»å¡ä½¿ç¨çæ¯åä¸è¯­è¨ï¼<strong>å°é¢è®­ç»è¯åéä½ä¸ºåµå¥å±ç©éµçåå§åæ¹å¼ï¼å¾å¾æ¯ä¸ç§âç¨äºå°±ä¸äºâçéæ©</strong>ã<br>
æç»ï¼ä»æ¨¡åç»æä¸çï¼è¿ç¸å½äºæ¨¡åçç¬¬ä¸å±ä¸åä»å®å¨éæºçåæ°å¼å§å­¦ä¹ ï¼èæ¯ç´æ¥ç«å¨äºä¸ä¸ªå·²ç»ç»ç»å¥½è¯­ä¹ç»æçç©ºé´ä¸­ï¼åå»å®æå·ä½ä»»å¡ã<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260126152709307-555486151.png" alt="image.png" loading="lazy"></p>
<p>ä¹æ­£æ¯å¨è¿æ ·çèæ¯ä¸ï¼NLP çåç§åºç¨ç¾è±é½æ¾ï¼å¶ä¸­æç»å¸çåºç¨ä¹ä¸ï¼å°±æ¯ä¸é¢è¦ä»ç»çæç»ªåç±»ã</p>
<h1 id="2-æç»ªåç±»sentiment-classification">2. æç»ªåç±»ï¼Sentiment Classificationï¼</h1>
<h2 id="21-æç»ªåç±»åç">2.1 æç»ªåç±»åç</h2>
<p>æç»ªåç±»æ¯èªç¶è¯­è¨å¤çé¢åä¸­ææ©è¢«ç³»ç»ç ç©¶ãåæ¶ä¹æå·ä»£è¡¨æ§çä»»å¡ä¹ä¸ã<br>
å¶åºæ¬å½¢å¼å¹¶ä¸å¤æï¼<strong>ç»å®ä¸æ®µææ¬ï¼å¤æ­å¶æç»ªå¾åï¼ä¾å¦æ­£é¢ãè´é¢ï¼ææ´ç»ç²åº¦çå¤ç±»å«æç»ªã</strong><br>
ç®åä¸¾ä¸ªä¾å­ï¼<br>
å¯¹äºä¸¤æ¡éåºè¯è®º <strong>âæå®äºâ</strong> å <strong>âå¤¯çäºâ</strong>ï¼æä»¬å¯ä»¥å¨ä¸åçæç»ªç²åº¦ä¸ï¼å¯¹å®ä»¬ç»åºä¸åå½¢å¼çåç±»ç»æã</p>
<ol>
<li><strong>æ­£è´äºåç±»</strong>ï¼å¨æç²ç²åº¦çæç»ªåç±»ä»»å¡ä¸­ï¼æä»¬åªå³å¿ææ¬æè¡¨è¾¾çæ´ä½æåº¦æ¯æ­£é¢è¿æ¯è´é¢ã
<ul>
<li>âæå®äºâ â <strong>è´é¢æç»ª</strong></li>
<li>âå¤¯çäºâ â <strong>æ­£é¢æç»ª</strong></li>
</ul>
</li>
</ol>
<p>å¨è¿ä¸è®¾å®ä¸ï¼æ¨¡åçç®æ éå¸¸æç¡®ï¼åªéå¤æ­âåæ¬¢âè¿æ¯âä¸åæ¬¢âï¼è<strong>ä¸å³å¿æç»ªå¼ºåº¦æç»èå·®å¼ã</strong><br>
2. <strong>æçº§äºåç±»</strong>ï¼å¦æè¿ä¸æ­¥æé«æç»ªå»ç»çç²¾ç»ç¨åº¦ï¼å°±å¯ä»¥å°ä»»å¡æ©å±ä¸ºå¤ç±»å«åç±»ï¼ä¾å¦å¸¸è§ç <strong>1ï½5 æè¯åé¢æµ</strong>ã<br>
- âæå®äºâ â âââââ<br>
- âå¤¯çäºâ â âââââ</p>
<p>å¨è¿ä¸æåµä¸ï¼æ¨¡åä¸ä»éè¦è¯å«æç»ªçæ­£è´ï¼è¿éè¦çè§£<strong>æç»ªçå¼ºçç¨åº¦</strong>ï¼ç¸æ¯äºåç±»ä»»å¡ï¼äºåç±»å¯¹è¯­ä¹è¡¨ç¤ºçè¦æ±ææ¾æ´é«ã<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260126152958597-1831761240.png" alt="image.png" loading="lazy"><br>
å¯ä»¥çåºï¼<strong>æç»ªåç±»ä»»å¡çæ ¸å¿é¾ç¹å¹¶ä¸å¨äºæ¨¡åç»ææ¬èº«ï¼èå¨äºå¦ä½è®©æ¨¡åâçè§£âææ¬æè´å«çæç»ªè¯­ä¹</strong>ã</p>
<p>èè¿æ°æ°æ­£æ¯è¯åéåæ¥ä½ç¨çå°æ¹ï¼<strong>åªæå½âæå®äºââå¤¯çäºâè¿æ ·çè¯è¯­å¨åéç©ºé´ä¸­è¢«æ å°å°åççä½ç½®ï¼åç»­çåç±»æ¨¡åææå¯è½ååºç¨³å®ãå¯é çå¤æ­ã</strong><br>
èå¨å¥å­ä¸­ï¼æç»ªæ¬èº«å¹¶ä¸æ¯ç±åä¸ªè¯ç¬ç«å³å®çï¼èæ¯ç±<strong>å¤ä¸ªè¯å¨è¯­ä¹ç©ºé´ä¸­çç»åå³ç³»</strong>å±åææã<br>
åæ ·ä¸¾ä¾æ¥è¯´æï¼æ¯å¦ï¼</p>
<ul>
<li>âå¥½â å âæ£â å¨è¯­ä¹ç©ºé´ä¸­å½¼æ­¤æ¥è¿ã</li>
<li>âç³ç³â å âå¤±æâ ä¼èéå¨å¦ä¸çåºåã</li>
</ul>
<p>å æ­¤ï¼å½ææ¬è¢«è¡¨ç¤ºä¸ºä¸ç»è¯åéåï¼æ¨¡åå®éä¸æ¯å¨å¤æ­ï¼<strong>è¿äºåéæ´ä½æ´é è¿âæ­£é¢æç»ªåºåâï¼è¿æ¯âè´é¢æç»ªåºåâã</strong><br>
è¿ä¹æ¯ä¸ºä»ä¹ï¼å¨æç»ªåç±»ä»»å¡ä¸­ï¼<strong>è¯åéçè´¨éå¾å¾ç´æ¥å³å®äºæ¨¡åçä¸é</strong>ã</p>
<p>äºè§£äºåºæ¬åçåï¼æä»¬æ¥ççå¦ä½å®ç°æç»ªåç±»ã</p>
<h2 id="22-æç»ªåç±»-10-å¹³åè¯åéè¾å¥åç±»å¨">2.2 æç»ªåç±» 1.0 ï¼å¹³åè¯åéè¾å¥åç±»å¨</h2>
<p>å¨ææ©æãä¹æ¯ææ´ç´ çæç»ªåç±»å®ç°ä¸­ï¼æä»¬å¹¶ä¸ä¼å¼å¥å¤æçåºåæ¨¡åï¼èæ¯éç¨ä¸ç§<strong>å ä¹ä¸å³å¿è¯åº</strong>çåæ³ï¼<strong>å°ä¸å¥è¯ä¸­ææè¯çè¯åéåå¹³åï¼ä½ä¸ºæ´å¥ææ¬çè¡¨ç¤ºã</strong></p>
<p>å·ä½æ¥è¯´ï¼åè®¾ä¸å¥è¯ç± <span class="math inline">\(n\)</span> ä¸ªè¯ç»æï¼å¶å¯¹åºçè¯åéåå«ä¸º ï¼<span class="math inline">\(\mathbf{w}_1, \mathbf{w}_2, \dots, \mathbf{w}_n\)</span>ï¼é£ä¹å¥åéå¯ä»¥ç´æ¥å®ä¹ä¸ºï¼</p>
<p></p><div class="math display">\[\mathbf{s} = \frac{1}{n} \sum_{i=1}^{n} \mathbf{w}_i  
\]</div><p></p><p>è¿ä¸ª <span class="math inline">\(\mathbf{s}\)</span> å°±è¢«è§ä¸ºæ´æ®µææ¬å¨è¯­ä¹ç©ºé´ä¸­çâä½ç½®âï¼éååªéè¦å°å®éå¥ä¸ä¸ª<strong>ç®åçåç±»å¨</strong>ï¼å¦å¨è¿æ¥å± + softmaxï¼ï¼å³å¯å®ææç»ªé¢æµã<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260126152137630-1144988396.png" alt="image.png" loading="lazy"><br>
è¿ç§æ¹æ³çè§£èµ·æ¥å¾ç´è§ï¼<strong>è¿å¥è¯éï¼ææè¯è¯­çâæç»ªæ¹åâå èµ·æ¥ï¼æ´åååªä¸è¾¹ï¼</strong><br>
å¦æä¸å¥è¯ä¸­å¤§å¤æ°è¯çåéé½é è¿âæ­£é¢æç»ªåºåâï¼é£ä¹å¹³ååçç»æèªç¶ä¹ä¼ååæ­£é¢ï¼åä¹äº¦ç¶ã</p>
<p>å®çä¼ç¹æ¯å®ç°ç®åï¼è®¡ç®å¼éæä½ï¼ä¸ä¾èµå¤ææ¨¡åï¼å¯¹å°æ°æ®éä¹è¾ä¸ºåå¥½ï¼èä¸éè¿è¿ç§ç®åçæ¹å¼ä¹å¯ä»¥ç´è§ä½ç°è¯åéè´¨éå¯¹ä¸æ¸¸ä»»å¡çå½±åã</p>
<p>ä½å®çç¼ºç¹éå¸¸çªåºï¼æä»¬å¸¸è¯´ï¼<strong>è¯­è¨æ¯æé¡ºåºç</strong>ï¼è¿ç§æ¹æ³<strong>å®å¨å¿½ç¥äºè¯åºä¿¡æ¯ï¼åªçå­¤ç«çè¯­ä¹æ¹åçå å ï¼ä¾¿ææå¯è½äº§çç¸åºçè¯¯è§£</strong>ã<br>
ä¾å¦ï¼âç¼ºå°å¥½çæå¡ï¼å¥½çç¯å¢åå¥½çé¤é£ãâ<br>
è¿å¥è¯å¾ææ¾æ¯è´é¢è¯ä»·ï¼åç±»å¨å´å¯è½å ä¸ºåºç°äºå¾å¤âå¥½âèå°å¶å¤æ­ä¸ºæ­£é¢è¯ä»·ã</p>
<p>å æ­¤ï¼<strong>å¹³åè¯åé + åç±»å¨</strong> åªæ¯æç»ªåç±»ä»»å¡çå¥é¨è§£æ³ï¼æä»¬ç¥éæè¿ç§æ¹å¼å³å¯ã</p>
<h2 id="23-æç»ªåç±»-20-ä½¿ç¨å¾ªç¯ç¥ç»ç½ç»">2.3 æç»ªåç±» 2.0 ï¼ä½¿ç¨å¾ªç¯ç¥ç»ç½ç»</h2>
<p>ä¸ç´æ¥åå¹³åä¸åï¼<a href="https://www.cnblogs.com/Goblinscholar/p/19449622" target="_blank">RNN</a> ä¼<strong>æé¡ºåºéè¯è¯»åææ¬</strong>ï¼å¹¶å¨æ¯ä¸æ­¥å°å½åè¯çä¿¡æ¯ä¸åå²ä¸ä¸æè¿è¡èåã<br>
èåé¡¾ä¹åä»ç»ç<a href="https://www.cnblogs.com/Goblinscholar/p/19454021" target="_blank">è¯­è¨æ¨¡å</a>åå®¹å°±ä¼åç°ï¼ä¸åäºæä»¬ä¹åæ¼ç¤ºä½¿ç¨çå½åå®ä½è¯å«ï¼æç»ªåç±»æ¯å¨è¯»åå®æ´å¥ä¿¡æ¯åè¾åºä¸ä¸ªåç±»ç»æï¼å®æ¯ä¸ä¸ª<strong>å¤å¯¹ä¸æ¨¡å</strong>ï¼è¿ç±»æ¨¡ååèæ´ç¬¦åæä»¬çç´è§ï¼æ¥çå®çä¼ æ­è¿ç¨ï¼<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260126152136651-365514513.png" alt="image.png" loading="lazy"><br>
å¯¹äºä¸ä¸ªè¯åºå <span class="math inline">\(w_1, w_2, \dots, w_n\)</span>ï¼RNN çæ ¸å¿è®¡ç®å¯ä»¥æ½è±¡ä¸ºï¼</p>
<p></p><div class="math display">\[\mathbf{a}_t = f(\mathbf{w}_t, \mathbf{a}_{t-1})  
\]</div><p></p><p>å¶ä¸­ï¼<span class="math inline">\(\mathbf{a}_t\)</span> è¡¨ç¤ºæ¨¡åå¨è¯»å°ç¬¬ <span class="math inline">\(t\)</span> ä¸ªè¯æ¶ï¼å¯¹âå½åè¯­ä¹ç¶æâçç»¼åçè§£ã<br>
æä»¬ä½¿ç¨æåä¸ä¸ªéèç¶æ <span class="math inline">\(\mathbf{a}_n\)</span> ä½ä¸ºæ´å¥ææ¬çè¡¨ç¤º,åå°å¾å°çå¥åéè¾å¥åç±»å¨è¿è¡é¢æµ,å¾å°æç»çåç±»ç»æã</p>
<p>è¿ç§æ¹å¼å¸¦æ¥çæå¤§æ¹åå¨äºï¼<strong>æç»ªä¸åæ¯è¯åéçç®åå å ï¼èæ¯ä¸ä¸ªééè¯»è¿ç¨éæ­¥æ¼åçç»æã</strong></p>
<p>ä¸¾ä¾æ¥è¯´ï¼</p>
<ul>
<li>å¨è¯»å°âå¥½âçæ¶åï¼æ¨¡åçæç»ªå¾åå¯è½åæ­£ã</li>
<li>ä½å½éåè¯»å°âä¸âæ¶ï¼éèç¶æä¼è¢«éæ°è°æ´ã</li>
<li>æç»è¾åºçè¡¨ç¤ºè½å¤ä½ç°âå¦å®âå¯¹æ´ä½æç»ªçä¿®æ­£ã</li>
</ul>
<p>å æ­¤ï¼RNN å¨å¯¹è¯­ä¹ççè§£è½åä¸ææ¾ä¼äºç®åçå¹³ååéæ¹æ³ãå½ç¶ï¼è¿ä¹å¸¦æ¥äºæ¢¯åº¦é®é¢åè®­ç»ææ¬çæåã</p>
<p>æç»ªåç±»çç¸å³ææ¯åæ ·å¨ä¸æ­è¿æ­¥ï¼å¦ä»ï¼ä»¥ <strong>BERT</strong> ä¸ºä»£è¡¨çåå Transformer éè¿å¤§è§æ¨¡è¯­æé¢è®­ç»ï¼è½å¤æè·æ´ç²¾ç»çä¸ä¸æè¯­ä¹å³ç³»ï¼å¨æç»ªåç±»ç­å¤å«ä»»å¡ä¸æ¾èè¶è¶ä¼ ç»æ¨¡åï¼èæ´åæ²¿çåæ³æ¯ç´æ¥å©ç¨<strong>æä»¤å¾®è°çå¤§è¯­è¨æ¨¡å</strong>ï¼éè¿ prompt æå°éæ ·æ¬å³å¯å®ææç»ªå¤æ­ã<br>
æç»ªåç±»æ­£éæ­¥ä»âä¸ç¨æ¨¡åä»»å¡âååä¸ºâéç¨è¯­è¨çè§£è½åâçèªç¶ä½ç°ã</p>
<p>ä¸é¢ï¼æä»¬è¡¥åæåä¸é¨ååå®¹ï¼</p>
<h1 id="3-è¯åµå¥é¤åword-embedding-debiasing">3. è¯åµå¥é¤åï¼Word Embedding Debiasingï¼</h1>
<p>æä»¬ç¥éï¼è¯åéå¹¶ä¸æ¯ä»çç©ºä¸­å­¦å°çï¼å®ä»¬æ¥æºäºçå®è¯­æãèçå®è¯­æï¼æ¬èº«å°±ä¸å¯é¿åå°æºå¸¦çåç§<strong>ç¤¾ä¼åè§åç»è®¡åå</strong>ã<br>
ç±äºè¯åéçè®­ç»ç®æ æ¯ææè¯ä¸è¯çå±ç°å³ç³»ï¼å¦ææäºå»æ¿å°è±¡å¨è¯­æä¸­é¢ç¹åºç°ï¼é£ä¹å®ä»¬å°±ä¼è¢«âå¦å®å°âç¼ç è¿åéç©ºé´ä¸­ã<br>
ä¾å¦ï¼å¨å¤§éææ¬ä¸­ï¼å¦æï¼</p>
<ul>
<li>âå»çâ ãâå·¥ç¨å¸âæ´é¢ç¹å°ä¸ç·æ§è¯æ±å±ç°ã</li>
<li>âæ¤å£«â ãâä¿å§âæ´é¢ç¹å°ä¸å¥³æ§è¯æ±å±ç°ã</li>
</ul>
<p>é£ä¹è®­ç»åºæ¥çè¯åéç©ºé´ä¸­ï¼å°±å¯è½å½¢æä¸æ¡ææ¾çâæ§å«æ¹åâï¼å¹¶å¨æ æä¸­å¼ºåè¿äºå³èã</p>
<p>ä»æ¨¡åè§åº¦çï¼è¿ç§è¡ä¸ºæ¯<strong>å®å¨åççç»è®¡å­¦ä¹ ç»æ</strong>ï¼ä½ä»åºç¨è§åº¦çï¼è¿ç§åè§å¨æç»ªåæãæèç­éãæ¨èç³»ç»ç­åºæ¯ä¸­ï¼å¯è½å¸¦æ¥ä¸¥éé®é¢ã</p>
<p><strong>è¿ä¾¿æ¯è¯åµå¥é¤åçç®æ ï¼å¨å°½éä¿çè¯­ä¹ä¿¡æ¯çåæä¸ï¼åå¼±æç§»é¤ç¹å®ç»´åº¦ä¸çåè§æå</strong>ã</p>
<p>2016 å¹´, è®ºæ <a href="https://arxiv.org/pdf/1607.06520" target="_blank" rel="noopener nofollow">Man is to Computer Programmer as Woman is to Homemaker? Debiasing Word Embeddings </a>ä¸­ï¼é¦æ¬¡å¯¹<strong>è¯åµå¥ä¸­çç¤¾ä¼åè§</strong>è¿è¡äºæ¸æ°çå»ºæ¨¡ï¼å¹¶æåºäºä¸å¥å¯æä½çé¤åæ¹æ³ãå®çä¸»è¦è§ç¹æ¯ï¼<strong>åè§å¹¶ä¸æ¯âå°å¤é½æ¯âçï¼èæ¯ä¸»è¦éä¸­å¨æäºå¯è§£éçæ¹åä¸ã</strong></p>
<p>æä»¬åç¹æ¥ççè¿ä¸æ¹æ³çå®ç°é»è¾ï¼</p>
<h2 id="31-å®ä¹åè§æ¹åbias-direction">3.1 å®ä¹åè§æ¹åï¼Bias Directionï¼</h2>
<p>è®ºæçç¬¬ä¸æ­¥ï¼æ¯æ¾å¼å°å®ä¹ä»ä¹æ¯âåè§æ¹åâã<br>
ä»¥æ§å«åè§ä¸ºä¾ï¼æä»¬å¹¶ä¸å­ä¸»è§å¤æ­å»æ¾åè§ï¼èæ¯æé ä¸ç»<strong>æå¯¹çæ§å«è¯</strong>ï¼ä¾å¦ï¼</p>
<ul>
<li>(he, she)</li>
<li>(man, woman)</li>
<li>(king, queen)</li>
</ul>
<p><strong>å¯¹äºæ¯ä¸ç»è¯å¯¹ï¼é½å¯ä»¥å¨è¯åéç©ºé´ä¸­è®¡ç®å¶å·®åéãå°è¿äºå·®åéè¿è¡å¹³åï¼ä¾¿å¯å¾å°ä¸ä¸ªä»£è¡¨âæ§å«å·®å¼âçæ¹ååé</strong>ï¼å°±åè¿æ ·ï¼<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260126153405646-1690433377.png" alt="image" loading="lazy"><br>
åå®è¯åéæååº¦è¾é«ï¼é£ä¹å¯¹äºè¿ä¸ªæ¹åå°±å¯ä»¥çè§£ä¸ºï¼<strong>æ²¿çè¿æ¡æ¹åç§»å¨ï¼è¯­ä¹ä¸»è¦å¨âç·æ§ â å¥³æ§âä¹é´ååï¼èä¸å¶ä»è¯­ä¹å ç´ å³ç³»ä¸å¤§ã</strong></p>
<p>è¿ä¸æ­¥çæä¹å¨äºå°åæ¬æ¨¡ç³ãæ½è±¡çâåè§âé®é¢ï¼<strong>è½¬åä¸ºåéç©ºé´ä¸­ä¸ä¸ªå¯æä½çå ä½æ¹å</strong>ãï¼å°±åå°å»åéè¦åç¡®å®é¶å¿ä¸æ ·ï¼åªææç¡®äºåè§æ¹åï¼åç»­æè½æéå¯¹æ§å°åå¼±æç§»é¤æäºè¯å¨è¯¥æ¹åä¸ææºå¸¦çåè§æåã</p>
<h2 id="32-åºåä¸­æ§è¯ä¸æ§å«è¯">3.2 åºåä¸­æ§è¯ä¸æ§å«è¯</h2>
<p>åæ ·ä»¥æ§å«åè§ä¸ºä¾ï¼æ¥ä¸æ¥ï¼æä»¬å°è¯æ±åä¸ºä¸¤ç±»ï¼</p>
<ol>
<li><strong>æ§å«ä¸­æ§è¯</strong>ï¼å¦ <em>doctor, nurse, homeworker</em>ï¼å®ä»¬ä¸åºå¤©ç¶å¸¦ææ§å«ä¿¡æ¯ã</li>
<li><strong>æ§å«ç¹å®è¯</strong>ï¼å¦ <em>man, woman, she, he</em>ï¼è¦ä¿çåççæ§å«ä¿¡æ¯ã<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260126152958836-1340196476.png" alt="image.png" loading="lazy"></li>
</ol>
<p>æ³¨æï¼è¿æ ·åºåå¹¶ä¸ä»£è¡¨æä»¬ä¸å¯¹ç¹å®è¯è¿è¡å¤çï¼èæ¯<strong>å¯¹ä¸åç±»åçè¯éåä¸åç­ç¥</strong>ï¼</p>
<ol>
<li>å¯¹è¯­ä¹ä¸åºå½ä¸æ§å«æ å³çä¸­æ§è¯ï¼åº<strong>ç§»é¤</strong>å¶æ§å«æ¹åä¸åè§ã</li>
<li>å¯¹æ¬èº«å°±åå«æ§å«å·®å¼çè¯å¯¹ï¼åå¨ä¿çæ§å«ä¿¡æ¯çåæä¸ï¼å¼ºå¶å¶å¨æ§å«ç»´åº¦ä¸<strong>å¯¹ç§°</strong>ãå¨å¶ä»è¯­ä¹ç»´åº¦ä¸å¯¹é½ï¼ä»èé¿ååè§è¢«ä¸åçå°æ¾å¤§ã</li>
</ol>
<p>ä¸é¢å°±æ¥ççå¦ä½å®ç°è¿äºç­ç¥ï¼</p>
<h2 id="33-ç¡¬é¤åhard-debias">3.3 ç¡¬é¤åï¼Hard Debiasï¼</h2>
<p>å¶å®å¹¶ä¸é¾çè§£ï¼é¦åï¼æä»¬å¤çä¸­å¿è¯ï¼è¿ä¸æ­¥æä»¬ç§°ä¹ä¸º<strong>å»æå½±ï¼Neutralizeï¼ï¼å°ä¸­æ§è¯åéå¨æ§å«æ¹åä¸çåéç´æ¥ç§»é¤ï¼ä½¿å¶å¨è¯¥æ¹åä¸çæå½±ä¸º 0ã</strong><br>
å°±åè¿æ ·ï¼<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260126152629903-530152228.png" alt="image.png" loading="lazy"><br>
éè¿è¿æ ·è°æ´è¯åéï¼è®©ä¸­æ§è¯å¨æ§å«æ¹åä¸çåéæ¶å¤±ï¼èªç¶å°±ä¸ä¼å ä¸ºè¿ä¸ªæ¹åä¸çè¯­ä¹å·®å¼èäº§çåè§ã</p>
<p>ç»§ç»­ï¼æä»¬å¤çç¹å®è¯ï¼èè¿é¨åæä»¬ç§°ä¸º<strong>ç­è·åï¼Equalizeï¼ï¼å¯¹äºè¿ç±»æ¬åºåªå¨æ§å«ä¸ä¸åçè¯å¯¹ï¼å¼ºå¶å®ä»¬å¨æ§å«æ¹åä¸çè·ç¦»å¯¹ç§°ï¼èå¨å¶ä»è¯­ä¹ç»´åº¦ä¸ä¿æä¸è´ã</strong><br>
å°±åè¿æ ·ï¼<br>
<img src="https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260126152647475-1295451046.png" alt="image.png" loading="lazy"><br>
è¿æ ·åçéçå¾ç´è§ï¼å¯¹äºâç·âåâå¥³âï¼å¨è¯­ä¹ç©ºé´éï¼æä»¬ä¸å¸æåºç°âç·åªæä¸ç¹ç¹ç·æ§ç¹å¾ï¼èå¥³åéå¸¸å¥³æ§åâçä¸å¯¹ç§°æåµã<br>
<strong>å¦æç¹å®è¯å¨æ§å«æ¹åä¸ä¸å¯¹ç§°ï¼ä¸ä»ä¼æ¨¡ç³æ§å«è¾¹çï¼è¿å¯è½éä½è¯åéçæ´ä½è´¨éã</strong><br>
éè¿ç­è·åï¼ç¹å®è¯å¯¹å¨âæ§å«ä»¥å¤âçè¯­ä¹ä¸ä¿æç­ä»·ï¼ä½å¨æ§å«æ¹åä¸ä¾ç¶å¯ä»¥æ¸æ°åºåï¼ä»èæ¢æ¶é¤åè§ï¼åä¿çå¿è¦çæ§å«ä¿¡æ¯ã</p>
<p>æ­¤å¤ï¼æ¢ç¶æç¡¬é¤åï¼èªç¶ä¹æ<strong>è½¯é¤å</strong>ï¼å¨æç½äºç¡¬é¤ååï¼è½¯é¤åä¾¿ä¸é¾çè§£ï¼<br>
ç®åæ¥è®²ï¼<strong>è½¯é¤ååªéå¯¹ä¸­æ§è¯</strong>ï¼å¶å¤çé»è¾åç¡¬é¤åä¹å¤§ä½ç¸åï¼ä¸åçæ¯<strong>è½¯é¤åå°æ¯ç±»åè§ä¸­âè®©ä¸­æ§è¯å¨åè§æ¹åä¸çåéæå°åâçé»è¾å å¥ç¥ç»ç½ç»æå¤±å½æ°ä¸­ä½ä¸ºä¸é¡¹è¿è¡è¿­ä»£ä¼åã</strong><br>
è¿ç§æ¹æ³æ´ç¬¦åæä»¬å¨æ·±åº¦å­¦ä¹ é¢åçç´è§ï¼å®éä¸å¨ç°ä»£ææ¯ä¸­ä¹æç»§æ¿è½¯é¤åææ³ãæ´åè¿çè¯åµå¥é¤åæ¹æ³ï¼è¿éå°±ä¸åä¸é¨å±å¼äºã</p>
<h1 id="4-æ»ç»">4. æ»ç»</h1>
<table>
<thead>
<tr>
<th>æ¦å¿µ</th>
<th>åç</th>
<th>çè§£</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>è¯åéä½¿ç¨</strong></td>
<td>å°è®­ç»å¥½çè¯åéä½ä¸ºä¸æ¸¸ä»»å¡è¾å¥ï¼ææè¯­ä¹å³ç³»ï¼æ¯æè¿ç§»å­¦ä¹ ã</td>
<td>æ¨¡åç¬¬ä¸å±ä¸åä»é¶å¼å§ï¼èæ¯âç«å¨å·²æ´çå¥½çè¯­ä¹ç©ºé´ä¸âã</td>
</tr>
<tr>
<td><strong>æç»ªåç±»ï¼Sentiment Classificationï¼</strong></td>
<td>ç»å®ææ¬å¤æ­æç»ªå¾åï¼å¯äºåç±»ï¼æ­£/è´ï¼æå¤åç±»ï¼å¦ 1~5 æï¼ã</td>
<td>ææ¬ä¸­çè¯è¯­åéæ´ä½é è¿âæ­£é¢åºåâè¿æ¯âè´é¢åºåâã</td>
</tr>
<tr>
<td><strong>å¹³åè¯åé + åç±»å¨</strong></td>
<td>å°å¥å­ä¸­ææè¯åéåå¹³åä½ä¸ºæ´å¥è¡¨ç¤ºï¼åéå¥åç±»å¨ã</td>
<td>è¯è¯­çâæç»ªæ¹åâå å ï¼åªè¾¹å¤å°±åååªè¾¹ã</td>
</tr>
<tr>
<td><strong>RNN æç»ªåç±»</strong></td>
<td>æé¡ºåºéè¯è¯»åææ¬ï¼å°å½åè¯ä¸åå²ä¸ä¸æèåï¼è¾åºæåéèç¶æä½ä¸ºå¥åéã</td>
<td>æç»ªéçéè¯»è¿ç¨éæ­¥æ¼åï¼å¦âå¥½â â æ­£é¢ï¼ä½éå°âä¸âè¢«ä¿®æ­£ã</td>
</tr>
<tr>
<td><strong>è¯åµå¥åè§é®é¢</strong></td>
<td>è¯åéä»çå®è¯­æä¸­å­¦ä¹ å±ç°å³ç³»ï¼å®¹æææç¤¾ä¼åè§ï¼å¦æ§å«å»æ¿å°è±¡ï¼ã</td>
<td>ç»è®¡è§å¾âå¦å®åæ âï¼ä½å¯è½å¼ºååè§ã</td>
</tr>
<tr>
<td><strong>åè§æ¹åï¼Bias Directionï¼</strong></td>
<td>æé æå¯¹è¯ï¼he/she, man/womanï¼ï¼è®¡ç®å·®åéå¹¶å¹³åå¾å°åè§æ¹åã</td>
<td>å¨åéç©ºé´ä¸­ï¼æ²¿æ­¤æ¹åè¯­ä¹ä¸»è¦å¨âç·æ§ â å¥³æ§âä¹é´ååã</td>
</tr>
<tr>
<td><strong>åºåä¸­æ§è¯ä¸ç¹å®è¯</strong></td>
<td>ä¸­æ§è¯ç§»é¤åè§æ¹åæåï¼ç¹å®è¯ä¿ææ§å«ä¿¡æ¯å¹¶ç­è·åã</td>
<td>ä¸­æ§è¯å»é¤åè§å°±åå»æä¸å¿è¦çè²å½©ï¼ç¹å®è¯å¯¹ä¿æå¯¹ç§°ï¼å°±åç·å¥³å½¢è±¡ä¿æå¹³è¡¡ã</td>
</tr>
<tr>
<td><strong>ç¡¬é¤åï¼Hard Debiasï¼</strong></td>
<td>å¯¹ä¸­æ§è¯å»æå½±ä½¿æ§å«æ¹åä¸º 0ï¼å¯¹ç¹å®è¯åç­è·åä¿æå¯¹ç§°ã</td>
<td>ç¨âåå­âåæä¸­æ§è¯æ§å«æåï¼åæ¶è°æ´ç¹å®è¯å¯¹ä¿æå¯¹ç§°ã</td>
</tr>
<tr>
<td><strong>è½¯é¤åï¼Soft Debiasï¼</strong></td>
<td>åªéå¯¹ä¸­æ§è¯ï¼å°âæå°ååè§æ¹ååéâçç®æ å å¥æå¤±å½æ°ï¼éè¿è¿­ä»£ä¼åå®ç°åå¼±åè§ã</td>
<td>æ¸©ååä½åè§æ¹åï¼èä¸æ¯å®å¨åæï¼ä¿çè¯­ä¹ç©ºé´ç»æã</td>
</tr>
</tbody>
</table>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-26 15:37">2026-01-26 15:36</span>&nbsp;
<a href="https://www.cnblogs.com/Goblinscholar">å¥å¸æå­¦è</a>&nbsp;
éè¯»(<span id="post_view_count">71</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19533686);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19533686', targetLink: 'https://www.cnblogs.com/Goblinscholar/p/19533686', title: 'å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨äºï¼èªç¶è¯­è¨å¤ç  ç¬¬äºå¨ï¼è¯åµå¥ï¼å­ï¼æç»ªåç±»åè¯åµå¥é¤å' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ å¦ä½ç¨ Python å° Markdown è½¬æ¢ä¸º Word ææ¡£ ]]></title>
    <link>https://www.cnblogs.com/jazz-z/p/19532573</link>
    <guid>54d2c9ee0e88f070ca61805760a75aff</guid>
    <description>
    <![CDATA[ 
            <div class="postcontent">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p class="p">å¨å½ä»çææ¯ææ¡£å·¥ä½æµä¸­ï¼Markdown å å¶ç®æ´çè¯­æ³åçæ¬æ§å¶åå¥½çç¹æ§ï¼å·²æä¸ºå¼åèåææ¯åä½èçé¦éæ ¼å¼ãç¶èï¼å¨ä¼ä¸ç¯å¢ä¸­ï¼Word ææ¡£ä»ç¶æ¯æ­£å¼æ¥åãå®¢æ·äº¤ä»ç©åæ ååææ¡£çä¸»æµæ ¼å¼ã</p>
<p class="p">æ¬æå°åäº«å¦ä½ä½¿ç¨ Free Spire.Doc for Pythonâä¸æ¬¾åè´¹ç Python ææ¡£å¤çåºï¼å¿«éå®ç° Markdown å° Word çè½¬æ¢ï¼æ¶µçåºç¡è½¬æ¢ãæ¹éå¤çç­å®ç¨åºæ¯ï¼æ°æä¹è½è½»æ¾ä¸æã</p>
<hr>
<p class="p">&nbsp;</p>
<h2 class="h4" data-heading="true">ä¸ãç¯å¢åå¤</h2>
<p class="p">Free Spire.Doc for Python æ¯åè´¹ Python ææ¡£å¤çåºï¼æ éä¾èµ Microsoft Wordï¼æ¯æ Word ææ¡£çåå»ºãç¼è¾ãè½¬æ¢ç­æä½ï¼å¶ä¸­åç½®ç Markdown è§£æè½åï¼è½é«æå®ç° Markdown å° Doc/Docx æ ¼å¼çè½¬æ¢ï¼ä¸å¼å®¹å¸¸è§ç Markdown è¯­æ³ï¼æ é¢ãåè¡¨ãå¾çãé¾æ¥ç­ï¼ã</p>
<p class="listitem"><strong class="strong">å®è£</strong>ï¼<br>æå¼ç»ç«¯/å½ä»¤æç¤ºç¬¦ï¼æ§è¡ä»¥ä¸pipå®è£å½ä»¤ï¼</p>
<div class="cnblogs_code">
<pre>pip <span style="color: rgba(0, 0, 255, 1)">install</span> Spire.Doc.Free</pre>
</div>
<p>&nbsp;</p>
<hr>
<p>&nbsp;</p>
<h2 id="3" class="h4" data-heading="true">äºãåºç¡å®ç°ï¼åç¯ Markdown è½¬ Word</h2>
<h3 id="4" class="h5" data-heading="true">åºæ¯1ï¼å° Markdown ææ¬ç´æ¥è½¬æ¢ä¸º Word</h3>
<p class="p">éç¨äº Markdown åå®¹è¾ç­ãæ éè¯»åæä»¶çåºæ¯ï¼æ ¸å¿ä»£ç å¦ä¸ï¼</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">from</span> spire.doc <span style="color: rgba(0, 0, 255, 1)">import</span> *
<span style="color: rgba(0, 0, 255, 1)">from</span> spire.doc.common <span style="color: rgba(0, 0, 255, 1)">import</span> *

<span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> 1. å®ä¹è¦è½¬æ¢çMarkdownææ¬ï¼æ¶µçå¸¸è§è¯­æ³ï¼</span>
markdown_text = <span style="color: rgba(128, 0, 0, 1)">"""</span><span style="color: rgba(128, 0, 0, 1)">
# ä¸çº§æ é¢ï¼Markdownè½¬Wordæµè¯
## äºçº§æ é¢ï¼åè½æ¼ç¤º
### ä¸çº§æ é¢ï¼åºç¡è¯­æ³æ¯æ

#### 1. æ®µè½ä¸å¼ºè°
è¿æ¯ä¸æ®µæ®éæ®µè½ï¼æ¯æ**ç²ä½**ã*æä½*ã`è¡åä»£ç `ï¼ä»¥å[è¶é¾æ¥](https://www.google.com/)ã

#### 2. åè¡¨
- æ åºåè¡¨é¡¹1
- æ åºåè¡¨é¡¹2
  - å­åè¡¨é¡¹

1. æåºåè¡¨é¡¹1
2. æåºåè¡¨é¡¹2

#### 3. ä»£ç å
```python
print("Hello, Markdown to Word!")
a = 1 + 2
```
</span><span style="color: rgba(128, 0, 0, 1)">"""</span>

<span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> 1. å°markdownææ¬åå¥mdææ¡£</span>
markdown_path = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">input.md</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">
with open(markdown_path, </span><span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(128, 0, 0, 1)">w</span><span style="color: rgba(128, 0, 0, 1)">'</span>, encoding=<span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(128, 0, 0, 1)">utf-8</span><span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(0, 0, 0, 1)">) as f:
    f.write(markdown_text)

</span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> 2. åå»ºDocumentå¯¹è±¡</span>
doc =<span style="color: rgba(0, 0, 0, 1)"> Document()

</span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> 3. å è½½mdææ¡£</span>
<span style="color: rgba(0, 0, 0, 1)">doc.LoadFromFile(markdown_path, FileFormat.Markdown)

</span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> 4. ä¿å­ä¸ºWordææ¡£ï¼æ¯æ.docå.docxæ ¼å¼ï¼</span>
output_path = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">Markdownè½¬Word.docx</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">
doc.SaveToFile(output_path, FileFormat.Docx)

</span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> 5. éæ¾èµæº</span>
<span style="color: rgba(0, 0, 0, 1)">doc.Close()

</span><span style="color: rgba(0, 0, 255, 1)">print</span>(f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">è½¬æ¢å®æï¼Wordææ¡£å·²ä¿å­è³ï¼{output_path}</span><span style="color: rgba(128, 0, 0, 1)">"</span>)</pre>
</div>
<p>&nbsp;</p>
<h3 id="5" class="h5" data-heading="true">åºæ¯2ï¼è¯»å Markdown æä»¶è½¬æ¢ä¸º Word</h3>
<p class="p">éç¨äºå·²æ.mdæä»¶çåºæ¯ï¼å¦<code class="codespan">test.md</code>ï¼ï¼ä»£ç æ´ç®æ´ï¼</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">from</span> spire.doc <span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> Document
</span><span style="color: rgba(0, 0, 255, 1)">from</span> spire.doc <span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> FileFormat

</span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> 1. åå»ºDocumentå¯¹è±¡</span>
doc =<span style="color: rgba(0, 0, 0, 1)"> Document()

</span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> 2. ç´æ¥å è½½Markdownæä»¶ï¼æå®æä»¶è·¯å¾ï¼</span>
markdown_file_path = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">test.md</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">
doc.LoadFromFile(markdown_file_path, FileFormat.Markdown)

</span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> 3. ä¿å­ä¸ºWordææ¡£</span>
output_path = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">Markdownè½¬Word.docx</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">
doc.SaveToFile(output_path, FileFormat.Docx)

</span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> 4. éæ¾èµæº</span>
<span style="color: rgba(0, 0, 0, 1)">doc.Close()

</span><span style="color: rgba(0, 0, 255, 1)">print</span>(f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">æä»¶è½¬æ¢å®æï¼è·¯å¾ï¼{output_path}</span><span style="color: rgba(128, 0, 0, 1)">"</span>)</pre>
</div>
<p>&nbsp;</p>
<h5 id="6" class="h5" data-heading="true">ä»£ç å³é®è¯´æï¼</h5>
<ul class="ul">
<li class="listitem"><code class="codespan">Document()</code>ï¼åå»ºä¸ä¸ªç©ºç Word ææ¡£å¯¹è±¡ï¼æ¯æææä½çæ ¸å¿è½½ä½ï¼</li>
<li class="listitem"><code class="codespan">LoadFromFile()</code>ï¼å è½½ Markdown æä»¶ï¼ç¬¬äºä¸ªåæ°&nbsp;<code class="codespan">FileFormat.Markdown</code>&nbsp;æå®è§£ææ ¼å¼ï¼</li>
<li class="listitem"><code class="codespan">SaveToFile()</code>ï¼æ¥æ¶è¾åºè·¯å¾åæä»¶æ ¼å¼ï¼<code class="codespan">FileFormat.Docx</code>/<code class="codespan">FileFormat.Doc</code>ï¼ï¼å®æä¿å­ï¼</li>
<li class="listitem"><code class="codespan">Close()</code>ï¼éæ¾ææ¡£èµæºï¼é¿ååå­å ç¨ã</li>
</ul>
<hr>
<p>&nbsp;</p>
<h2 id="7" class="h4" data-heading="true">ä¸ãæ¹éè½¬æ¢å¤ä¸ª Markdown æä»¶</h2>
<p class="p">Free Spire.Doc for Python æ¯ææ¹éè½¬æ¢ä¸ä¸ªæä»¶å¤¹ä¸­çå¤ä¸ª Markdown ææ¡£ã</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> os
</span><span style="color: rgba(0, 0, 255, 1)">from</span> spire.doc <span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> Document
</span><span style="color: rgba(0, 0, 255, 1)">from</span> spire.doc <span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> FileFormat

</span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> 1. å®ä¹Markdownæä»¶æå¨æä»¶å¤¹åè¾åºæä»¶å¤¹</span>
md_folder = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">./markdown_files</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">
output_folder </span>= <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">./word_files</span><span style="color: rgba(128, 0, 0, 1)">"</span>

<span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> 2. åå»ºè¾åºæä»¶å¤¹ï¼è¥ä¸å­å¨ï¼</span>
<span style="color: rgba(0, 0, 255, 1)">if</span> <span style="color: rgba(0, 0, 255, 1)">not</span><span style="color: rgba(0, 0, 0, 1)"> os.path.exists(output_folder):
    os.makedirs(output_folder)

</span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> 3. éåæä»¶å¤¹ä¸­çææ.mdæä»¶</span>
<span style="color: rgba(0, 0, 255, 1)">for</span> filename <span style="color: rgba(0, 0, 255, 1)">in</span><span style="color: rgba(0, 0, 0, 1)"> os.listdir(md_folder):
    </span><span style="color: rgba(0, 0, 255, 1)">if</span> filename.endswith(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">.md</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">):
        </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> æ¼æ¥æä»¶è·¯å¾</span>
        md_path =<span style="color: rgba(0, 0, 0, 1)"> os.path.join(md_folder, filename)
        </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> çæè¾åºWordæä»¶åï¼æ¿æ¢åç¼ä¸º.docxï¼</span>
        output_filename = os.path.splitext(filename)[0] + <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">.docx</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">
        output_path </span>=<span style="color: rgba(0, 0, 0, 1)"> os.path.join(output_folder, output_filename)

        </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> 4. è½¬æ¢é»è¾</span>
        doc =<span style="color: rgba(0, 0, 0, 1)"> Document()
        doc.LoadFromFile(md_path, FileFormat.Markdown)
        doc.SaveToFile(output_path, FileFormat.Docx)
        doc.Close()

        </span><span style="color: rgba(0, 0, 255, 1)">print</span>(f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">å·²è½¬æ¢ï¼{filename} -&gt; {output_filename}</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)

</span><span style="color: rgba(0, 0, 255, 1)">print</span>(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ææMarkdownæä»¶æ¹éè½¬æ¢å®æï¼</span><span style="color: rgba(128, 0, 0, 1)">"</span>)</pre>
</div>
<p>&nbsp;</p>
<hr>
<p>&nbsp;</p>
<h2 id="8" class="h4" data-heading="true">å¸¸è§é®é¢ä¸æ³¨æäºé¡¹</h2>
<ol class="ol">
<li class="listitem"><strong class="strong">æ ¼å¼å¼å®¹é®é¢</strong>ï¼é¨åå°ä¼ Markdown è¯­æ³ï¼å¦ Mermaid æµç¨å¾ãLaTeX å¬å¼ï¼æä¸æ¯æï¼è½¬æ¢åå¯è½æ¾ç¤ºå¼å¸¸ï¼å»ºè®®æåç®åè¿ç±»åå®¹ï¼</li>
<li class="listitem"><strong class="strong">ç¼ç é®é¢</strong>ï¼è¥ Markdown æä»¶å«ä¸­æï¼å»ºè®®ä¿å­ä¸º UTF-8 ç¼ç ï¼é¿åè½¬æ¢ååºç°ä¹±ç ï¼</li>
<li class="listitem"><strong class="strong">åè´¹çéå¶</strong>ï¼Free Spire.Doc for Python åè´¹çå¯¹ææ¡£é¡µæ°æéå¶ï¼æ»¡è¶³æ¥å¸¸è½»éä½¿ç¨ã</li>
</ol><hr>
<h4 id="9" class="h4" data-heading="true">&nbsp;</h4>
<p class="p">éè¿æ¬æä»ç»çæ¹æ³ï¼æä»¬å¯ä»¥éè¿å è¡ Python ä»£ç å®ç° Markdown è½¬ Word ææ¡£ï¼åæ¶æ¯ææ¹éå¤çç­æ©å±åè½ï¼å®ç¾ééæ¥å¸¸åå¬ãææ¡£äº¤ä»ç­åºæ¯ãç¸æ¯å¶ä»è½¬æ¢å·¥å·ï¼Free Spire.Doc æ éä¾èµç¬¬ä¸æ¹æå¡ï¼æ¬å°è¿è¡æ´å®å¨ï¼ä¸ Python æ¥å£åå¥½ï¼æ°ææä¸æã</p>
</div>
<div class="clear"></div>

            </div>
            <div class="itemdesc">
                åè¡¨äº 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-26 12:01">2026-01-26 12:00</span>&nbsp;
<a href="https://www.cnblogs.com/jazz-z">LAYONTHEGROUND</a>&nbsp;
éè¯»(<span id="post_view_count">185</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19532573);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19532573', targetLink: 'https://www.cnblogs.com/jazz-z/p/19532573', title: 'å¦ä½ç¨ Python å° Markdown è½¬æ¢ä¸º Word ææ¡£' })">ä¸¾æ¥</a>

            </div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ å¦ä½æ­£ç¡®ç DDD ]]></title>
    <link>https://www.cnblogs.com/xiaozhuang/p/19532510</link>
    <guid>20eea424c359fc1dd7134bfd3a21b17d</guid>
    <description>
    <![CDATA[ 
	<h1 class="postTitle"><a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/xiaozhuang/p/19532510" title="åå¸äº 2026-01-26 11:51">
    <span role="heading" aria-level="2">å¦ä½æ­£ç¡®ç DDD</span>
    

</a>
</h1>
	<div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p data-path-to-node="0">å¨æ¶æè®¾è®¡é¢åï¼DDDï¼é¢åé©±å¨è®¾è®¡ï¼è¢«è®¨è®ºå¾æå¤ï¼ä¹è¢«è¯¯è§£å¾ææ·±ãå¾å¤å¬å¸æè°çâå®æ¹æå¯¼æä»¶âå¶å®æ¯å¨åè¾åè¾ãå¦æä¸çº æ­£è¿äºæ ¹æºä¸çéè¯¯ï¼æè°çæ¶æä¼ååªè½æ¯ç©ºä¸­æ¥¼éã</p>
<p data-path-to-node="6">ä»¥ä¸æ¯å¯¹å½åè¡ä¸åãçè³æ¯æäºå¤§åæå¯¼æä»¶ä¸­å¸åéè¯¯åæ³çæ·±åº¦æ¹å¤ã</p>
<hr data-path-to-node="7">
<h2 data-path-to-node="8">ä¸ã æ¹å¤ï¼æå¯¼æä»¶å»ºè®®âä¸ä½¿ç¨é¢åæå¡â</h2>
<p data-path-to-node="9"><strong data-path-to-node="9" data-index-in-node="0">ãç°ç¶æ¹å¤ã</strong>ï¼å¾å¤å¬å¸è¿·ä¿¡âç»å¯¹åè¡æ¨¡åâï¼è¦æ±é»è¾å¿é¡»å¨åå¨é¢åå®ä½ä¸­ãç¶èï¼ç°å®ä¸­å¤§éä¸å¡æ¶å<strong data-path-to-node="9" data-index-in-node="49">åé¢ååå¤ä¸ªå®ä½çå¯¹æ¯ä¸å³èæ ¡éª</strong>ï¼å¹¶éè·¨é¢ååä½ï¼ãå ä¸ºé»è¾å¨åä¸ªå®ä½éå¡ä¸è¿å»ï¼èæå¯¼æä»¶åç¦ç¨äºé¢åæå¡ï¼ç¨åºåè¢«è¿«å°æ ¸å¿ä¸å¡è§åâå·æ¸¡âå°<strong data-path-to-node="9" data-index-in-node="121">åºç¨å±</strong>ã</p>
<p data-path-to-node="10"><strong data-path-to-node="10" data-index-in-node="0">ãæ­£ç¡®æ¹å¼ã</strong>ï¼<strong data-path-to-node="10" data-index-in-node="7">é¢åæå¡æ¯é»è¾çææ¥å®ã</strong> å¡æ¯æ¶åæ¬é¢ååå¤å®ä½åä½ãä¸å¡ä¸»é®æ¥éãè§åéªè¯ï¼å¿é¡»ç±é¢åæå¡æ¿è½½ãå®æ¯é¢åå±å¯¹å¤çå¯ä¸é»è¾å¥å£ï¼å®ä½é¢åæ ¸å¿é»è¾ã</p>
<hr data-path-to-node="11">
<h2 data-path-to-node="12">äºã æ¹å¤ï¼å¨åºç¨å±å å¥âå¬å±æ¹æ³ç®å½â</h2>
<p data-path-to-node="13"><strong data-path-to-node="13" data-index-in-node="0">ãç°ç¶æ¹å¤ã</strong>ï¼ç±äºé¢åé»è¾è¢«é©±éå°äºåºç¨å±ï¼ä¸ºäºå¤ç¨ï¼å¼åèåªè½å¨åºç¨å±æä¸ä¸ª <code data-path-to-node="13" data-index-in-node="40">Common</code> æ <code data-path-to-node="13" data-index-in-node="49">Util</code>ãè¿æ¬è´¨ä¸æ¯ç±äºé¢åé»è¾æ æ³å½ä½èå¯¼è´çâæ¶ææµäº§âã</p>
<p data-path-to-node="14"><strong data-path-to-node="14" data-index-in-node="0">ãæ­£ç¡®æ¹å¼ã</strong>ï¼<strong data-path-to-node="14" data-index-in-node="7">ä¸å¡é»è¾å¿é¡»åå½é¢åã</strong> ä»»ä½æ¶åè§åçå¤ç¨ï¼å¿é¡»æ²æ·å¨åèªçé¢åæå¡ä¸­ãåºç¨å±åªè´è´£è°åº¦æµç¨ï¼ç»ä¸è´è´£å­å¨ä¸å¡è§åã</p>
<hr data-path-to-node="15">
<h2 data-path-to-node="16">ä¸ã æ¹å¤ï¼æå¯¼æä»¶æç¡®âä¸ä½¿ç¨èåâ</h2>
<p data-path-to-node="17"><strong data-path-to-node="17" data-index-in-node="0">ãç°ç¶æ¹å¤ã</strong>ï¼æäºæå¯¼ææ¡£ä¸»å¼ å¹³éºå®ä½ãæ²¡æèåï¼å®ä½å°±åæ£æ²ï¼åºç¨å±å¯ä»¥éæç»è¿ä¸å¡è§åä¿®æ¹å®ä½ç¶æï¼å¯¼è´ä¸è´æ§é²çº¿å¨é¢å´©æºã</p>
<p data-path-to-node="18"><strong data-path-to-node="18" data-index-in-node="0">ãæ­£ç¡®æ¹å¼ã</strong>ï¼<strong data-path-to-node="18" data-index-in-node="7">æ¯ä¸ä¸ªé¢åå¿é¡»æ¯ä¸ä¸ªèåã</strong> èåæ ¹æ¯å¯ä¸çå¥å£ãåªæéè¿èåæ ¹ï¼æè½ä¿è¯ä¸å¡è§åï¼ä¸åéï¼å¨ä»»ä½æ¶åé½æ¯ææçãèåä¸æ¯è´æï¼èæ¯ä¿æ¤ä¸å¡é»è¾ççç²ã</p>
<hr data-path-to-node="19">
<h2 data-path-to-node="20">åã æ¹å¤ï¼å¨åºç¨å±å®ä¹å¤é¨è°ç¨é²èæ¥å£</h2>
<p data-path-to-node="21"><strong data-path-to-node="21" data-index-in-node="0">ãç°ç¶æ¹å¤ã</strong>ï¼ææ¡£å»ºè®®å¨åºç¨å±å®ä¹é²èæ¥å£ï¼è¿ä¼å¯¼è´<strong data-path-to-node="21" data-index-in-node="26">åºç¡æå¡ååä¾èµåºç¨å±</strong>ï¼é æä¸¥éçä¾èµç¯åé»è¾æ±¡æã</p>
<p data-path-to-node="22"><strong data-path-to-node="22" data-index-in-node="0">ãæ­£ç¡®æ¹å¼ã</strong>ï¼<strong data-path-to-node="22" data-index-in-node="7">æ°å»ºé¢åå¯¹è±¡ï¼å¨é¢åå±å®ä¹æ¥å£ã</strong> åºè¯¥å¨é¢åå±åå»ºæ¥å£å¥çº¦ï¼ç±åºç¡æ¶æå±ï¼Infrastructureï¼å»å®ç°ç»èãæåï¼å°è¯¥è½åå°è£æ<strong data-path-to-node="22" data-index-in-node="75">é¢åæå¡</strong>ä¾åºç¨å±è°ç¨ãç¡®ä¿é¢åå±èªæï¼åºç¡æ¶æå±åªè´è´£âæä»¶å¼âå®ç°ã</p>
<hr data-path-to-node="23">
<h2 data-path-to-node="24">äºã æ¹å¤ï¼é¢åæå¡è°ç¨å¶å®é¢åçä»å¨</h2>
<p data-path-to-node="25"><strong data-path-to-node="25" data-index-in-node="0">ãç°ç¶æ¹å¤ã</strong>ï¼å¨è®¢åé¢åç´æ¥æ³¨å¥ç¨æ·é¢åç Repositoryãè¿ç§âè·¨çä¼¸ææ®µâè®©é¢åè¾¹çç¬é´æ¶å¤±ï¼ä¸¤ä¸ªé¢åå¨ç©çå­å¨å±é¢æ­»æ­»æç»ï¼æªæ¥æ ¹æ¬æ æ³æåã</p>
<p data-path-to-node="26"><strong data-path-to-node="26" data-index-in-node="0">ãæ­£ç¡®æ¹å¼ã</strong>ï¼<strong data-path-to-node="26" data-index-in-node="7">é¢åé´ç»å¯¹é¶æç¥ã</strong> é¢åæå¡åªè½è°ç¨æ¬é¢åçä»å¨ãè·¨é¢åçäº¤äºå¿é¡»ä¸æµ®å°åºç¨å±ï¼ç±åºç¨å±æä»»âå¯¼æ¼âè¿è¡ç¼æã</p>
<hr data-path-to-node="27">
<h2 data-path-to-node="28">å­ã æ¹å¤ï¼æé¢åå¯¹è±¡ç¨æ¥æ¥æ¶é¢åäºä»¶</h2>
<p data-path-to-node="29"><strong data-path-to-node="29" data-index-in-node="0">ãç°ç¶æ¹å¤ã</strong>ï¼è®©å®ä½æé¢åå¯¹è±¡å»çå¬ MQ æ¶æ¯ãè¿ä¸ä»å¼å¥äºææ¯åªé³ï¼æè´å½çæ¯<strong data-path-to-node="29" data-index-in-node="41">è®©é¢åä¹é´å½¢æäºä¾èµ</strong>ãä¸æ¦é¢å A çå¯¹è±¡å»çå¬é¢å B çäºä»¶ï¼é¢å A å°±ä¸åå­¤ç«ï¼å®è¢«è¿«æç¥äºå¤é¨ä¸ççååï¼ç ´åäºé¢åèªæ²»ã</p>
<p data-path-to-node="30"><strong data-path-to-node="30" data-index-in-node="0">ãæ­£ç¡®æ¹å¼ã</strong>ï¼<strong data-path-to-node="30" data-index-in-node="7">åºç¨å±çå¬ï¼é¢åæå¡å¤çã</strong> åºç¨å±è´è´£æ¥æ¶å¤é¨äºä»¶å¹¶å°å¶âç¿»è¯âä¸ºæ¬é¢åè½çè§£çæ®éè¯·æ±ãé¢åå¯¹è±¡åºä¿ææ¸éï¼å®ä¸è¯¥ç¥éâäºä»¶âæ¯ä»åªæ¥çï¼æ´ä¸è¯¥ç¥éå¤é¨é¢åçå­å¨ã</p>
<hr data-path-to-node="31">
<h2 data-path-to-node="32">é¢åå¯¹è±¡è®¾è®¡ååï¼å¨ä¸å¡å°è£ä¸ç»å¯¹éç¦»</h2>
<ol start="1" data-path-to-node="34">
<li>
<p data-path-to-node="34,0,0"><strong data-path-to-node="34,0,0" data-index-in-node="0">é¢åå¿é¡»å°è£æ¬é¢åçææä¸å¡</strong>ï¼éè¿<strong data-path-to-node="34,0,0" data-index-in-node="17">é¢åæå¡</strong>å®ç°ä¸å¡é»è¾çå®å¨é­ç¯ãé¢åå¤å±ï¼åºç¨å±ï¼ä¸éè¦ç¥éé¢ååé¨æ¯å¦ä½å¤å³çã</p>
</li>
<li>
<p data-path-to-node="34,1,0"><strong data-path-to-node="34,1,0" data-index-in-node="0">é¢åä¹é´å¿é¡»ç»å¯¹éç¦»</strong>ï¼é¢åä¹é´è¦è¾¾å°âç©ççº§âçäºä¸æç¥ãå®ä»¬ä¸ç¥éå½¼æ­¤çå­å¨ï¼æ´ä¸è½ç´æ¥éä¿¡ã</p>
</li>
<li>
<p data-path-to-node="34,2,0"><strong data-path-to-node="34,2,0" data-index-in-node="0">åºç¨å±æ¯å¯ä¸çå¯¼æ¼</strong>ï¼åªæåºç¨å±ææèµæ ¼ç¼æåä¸ªé¢åãåºç¨å±ææ¥ A é¢åå¤å³ãB é¢åæ§è¡ï¼èé¢åæ¬èº«åªä¸æ³¨äºèªå·±ã</p>
</li>
</ol><hr data-path-to-node="35">
<h2 data-path-to-node="36">æ»ç»ï¼æ­£ç¡® DDD çæ åååå</h2>
<ul data-path-to-node="37">
<li>
<p data-path-to-node="37,0,0"><strong data-path-to-node="37,0,0" data-index-in-node="0">1-1-N æ¨¡ç»ç»æ</strong>ï¼<strong data-path-to-node="37,0,0" data-index-in-node="11">1 ä¸ªä»å¨æ¥å£ã1 ä¸ªé¢åæå¡ãN ä¸ªå®ä½ï¼ææ 1 ä¸ªèåï¼</strong>ã</p>
</li>
<li>
<p data-path-to-node="37,1,0"><strong data-path-to-node="37,1,0" data-index-in-node="0">å¥çº¦èªæ</strong>ï¼æ¥å£å®ä¹å¨é¢åå±ï¼æç»ååä¾èµã</p>
</li>
<li>
<p data-path-to-node="37,2,0"><strong data-path-to-node="37,2,0" data-index-in-node="0">ç©ççº§éç¦»</strong>ï¼é¢åé´é¶æç¥ï¼é»è¾å¨å°è£ï¼ç±åºç¨å±ç»ä¸ç¼æã</p>
</li>
<li>
<p data-path-to-node="37,3,0"><strong data-path-to-node="37,3,0" data-index-in-node="0">é¦éå³æ­ï¼Fail-fastï¼</strong>ï¼é¢ååééç´æ¥æåºä¸å¡å¼å¸¸ã</p>
</li>
</ul>
<p data-path-to-node="38"><strong data-path-to-node="38" data-index-in-node="0">åªææ­£ç¡®ç DDDï¼æè½æ­£ç¡®çâå¾®âæå¡ã</strong></p>
<p data-path-to-node="39">å¾®æå¡ä¸æ¯æåºæ¥çï¼èæ¯é¢åè¾¹çæ¸æ°åèªç¶âé¿âåºæ¥çã</p>
<hr data-path-to-node="40">
<p data-path-to-node="41"><strong data-path-to-node="41" data-index-in-node="0">åä¸»ç»è¯­</strong>ï¼ æ¶æçä¼éæ¥èªäºå¯¹é¢åè¾¹ççæç«¯åå¶ãé£äºè¦æ±ä½ âç¦ç¨é¢åæå¡âãâå¹³éºå®ä½âçæå¯¼æä»¶ï¼å¶å®æ¯å¨æ¯æä½ çæ¶æãæç»èä¼ªç DDDï¼å®ä½é¢åå±çå°ä¸¥ã</p>
</div>
<div class="clear"></div>

	<div class="postDesc">posted on 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-26 11:52">2026-01-26 11:51</span>&nbsp;
<a href="https://www.cnblogs.com/xiaozhuang">å°åº</a>&nbsp;
éè¯»(<span id="post_view_count">249</span>)&nbsp;
è¯è®º(<span id="post_comment_count">1</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19532510);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19532510', targetLink: 'https://www.cnblogs.com/xiaozhuang/p/19532510', title: 'å¦ä½æ­£ç¡®ç DDD' })">ä¸¾æ¥</a>
</div>
 ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ Envoy å¯è§æµæ§å®æï¼æ¥å¿ãææ ä¸é¾è·¯è¿½è¸ªçå®æ´è½å° ]]></title>
    <link>https://www.cnblogs.com/MrVolleyball/p/19532068</link>
    <guid>b561a3eedf1b86014def4597c106bcc3</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/MrVolleyball/p/19532068" title="åå¸äº 2026-01-26 11:03">
    <span role="heading" aria-level="2">Envoy å¯è§æµæ§å®æï¼æ¥å¿ãææ ä¸é¾è·¯è¿½è¸ªçå®æ´è½å°</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        å¯è§æµæ§ä¸æ¯âè£ä¸ª Prometheus å°±å®äºâï¼èæ¯æ¥å¿ãææ ãé¾è·¯è¿½è¸ªä¸ä½ä¸ä½çç³»ç»å·¥ç¨ãæ¬æç»å Envoy 1.32 å®ééç½®ï¼è¯¦ç»è®²è§£å¦ä½æ¥å¥ Prometheus å Jaegerï¼ä»¥å Envoy Admin æ¥å£å¨è§æµä¸­çä½ç¨ï¼å¸®å©ä½ å¿«éå»ºç«ä¸å¥çæ­£âè½ç¨âç Envoy å¯è§æµæ§æ¹æ¡
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="åè¨">åè¨</h2>
<p>æ¬èè¯¦ç»èä¸ä¸åºäºenvoyçå¯è§æµæ§</p>
<h2 id="æ¥å¿">æ¥å¿</h2>
<p>é¦åæ¯æ¥å¿ï¼éç½®æ¥å¿çæ¹å¼ä¹å¾ç®å</p>
<pre><code>static_resources:
  listeners:
    - name: ingress_listener
      address:
        socket_address:
          address: 0.0.0.0
          port_value: 10000
      filter_chains:
        - filters:
            - name: envoy.filters.network.http_connection_manager
              typed_config:
                "@type": type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
                stat_prefix: ingress_http
                ...
                access_log:
                - name: envoy.access_loggers.stdout
                  typed_config:
                    "@type": type.googleapis.com/envoy.extensions.access_loggers.stream.v3.StdoutAccessLog
                    log_format:
                      text_format: "[%START_TIME%] \"%REQ(:METHOD)% %REQ(X-ENVOY-ORIGINAL-PATH?:PATH)% %PROTOCOL%\" %RESPONSE_CODE% %BYTES_SENT% %DURATION% %REQ(X-REQUEST-ID)% \"%REQ(USER-AGENT)%\" \"%REQ(X-FORWARDED-FOR)%\" %UPSTREAM_HOST% %UPSTREAM_CLUSTER% %RESPONSE_FLAGS%\n"

</code></pre>
<ul>
<li>è¯¥éç½®æ¯å°æ¥å¿è¾åºå¨æ§å¶å°ï¼ä¹å¯ä»¥ç´æ¥è¾åºä¸ºæä»¶ï¼ç¶åéè¿å·¥å·ééèµ°<code>path: /var/log/envoy/access.log</code></li>
<li>ä¹å¯ä»¥ç´æ¥å°æ¥å¿è¾åºè³kafkaï¼å¹¶ä¸ææ¯ä¾ééãåªéé4xxã5xxç­é½å¯ä»¥éç½®ï¼è¿éå°±ä¸å¨èµè¿°äº</li>
</ul>
<h2 id="adminç®¡çé¡µé¢">adminç®¡çé¡µé¢</h2>
<p>envoyæé»è®¤çadminé¡µé¢ï¼æ¹ä¾¿æ¥çç»è®¡ä¿¡æ¯ãæå¼æäºåè½çå¼å³ç­</p>
<pre><code>admin:
  address:
    socket_address:
      address: 0.0.0.0
      port_value: 9901

</code></pre>
<p>æå¼9901é¡µé¢ï¼</p>
<p><img alt="watermarked-envoy_ob_1" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1416773/202601/1416773-20260126104707549-713090334.png" class="lazyload"></p>
<p>å¯ä»¥æ¥çç¸å³çç»è®¡ä¿¡æ¯ãä¹å¯ä»¥æå¼æäºå¼å³ï¼åè½è¿æ¯å¾ä¸°å¯ç</p>
<h2 id="mericsæ¥å¥prometheus">mericsæ¥å¥prometheus</h2>
<p>æå¼äºadminä¹åï¼å°±é»è®¤æä¾äºç¸å³çprometheus stats <code>http://10.105.148.194:9901/stats/prometheus</code></p>
<p>è¿æ¶åªéå¨k8séç¾¤å¤å¼ä¸ä¸ªprometheusï¼å¹¶ä¸ééè¯¥envoyå³å¯</p>
<p>prometheus.yml</p>
<pre><code>global:
  scrape_interval: 5s
  evaluation_interval: 5s

rule_files:
  - /etc/prometheus/*.rules

scrape_configs:
  - job_name: 'prometheus'
    static_configs:
    - targets: ['localhost:9090']

  - job_name: "envoy"
    metrics_path: /stats/prometheus
    static_configs:
    - targets: ["10.105.148.194:9901"]

</code></pre>
<pre><code>docker run -d --name prometheus \
  -p 9090:9090 \
  -v ./prometheus.yml:/etc/prometheus/prometheus.yml \
  -v /usr/share/zoneinfo/Asia/Shanghai:/etc/localtime \
  registry.cn-beijing.aliyuncs.com/wilsonchai/prometheus:v3.5.0
</code></pre>
<h2 id="tracesæ¥å¥jaeger">tracesæ¥å¥jaeger</h2>
<p>jaegerçå®è£å¯ä»¥åèè¿éï¼ <a href="https://mp.weixin.qq.com/s/SkoFwwcw84THbGOi7YaKCA" target="_blank" rel="noopener nofollow">opentelemetryå¨é¾è·¯åæ¢--åç¹ä¸jaeger</a></p>
<p>jaegerå¯å¨ä¹åï¼æ¹é ä¸ä¸envoyçéç½®ï¼è¿éè¦ç¹å«æ³¨æï¼ä¸åçæ¬çéç½®ä¸ä¸æ ·ï¼æè¿éenvoyççæ¬æ¯ï¼v1.32</p>
<pre><code>static_resources:
  listeners:
    - name: ingress_listener
      filter_chains:
        - filters:
            - name: envoy.filters.network.http_connection_manager
              typed_config:
                ...

                tracing:

                  provider:
                    name: envoy.tracers.opentelemetry
                    typed_config:
                      "@type": type.googleapis.com/envoy.config.trace.v3.OpenTelemetryConfig
                      service_name: envoy-proxy
                      grpc_service:
                        envoy_grpc:
                          cluster_name: jaeger_otlp_collector
                ...

  clusters:
    ...
    - name: jaeger_otlp_collector
      type: LOGICAL_DNS
      connect_timeout: 5s
      lb_policy: ROUND_ROBIN
      http2_protocol_options: {}

      load_assignment:
        cluster_name: jaeger_otlp_collector
        endpoints:
        - lb_endpoints:
          - endpoint:
              address:
                socket_address:
                  address: 10.22.12.178
                  port_value: 4317
    ...

</code></pre>
<p>ä¿®æ¹å®æä¹åéå¯ä¸envoy</p>
<p>jaegeræåæ¥æ¶å°äºæ¥èªenvoyçtrace</p>
<p><img alt="watermarked-envoy_ob_2" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1416773/202601/1416773-20260126104723157-449422282.png" class="lazyload"></p>
<p><img alt="watermarked-envoy_ob_3" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1416773/202601/1416773-20260126104730130-1387422050.png" class="lazyload"></p>
<p>ç±äºåªå¨envoyéç½®äºtraceï¼æ²¡æååç«¯æå¡èå¨ï¼ææåªæ¾ç¤ºäºenvoyè¿ä¸æ®µçtraceä¿¡æ¯ï¼å¦æè¦èå¨åç«¯ï¼å¯ä»¥åèè¿ä¸ªç³»åçæç« ï¼ <a href="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=Mzk1NzE0MDcwMg==&amp;action=getalbum&amp;album_id=4247181358063419407&amp;scene=126&amp;sessionid=1767595793922#wechat_redirect" target="_blank" rel="noopener nofollow">å¨é¾è·¯çæ§éç½®</a></p>
<h2 id="å°ç»">å°ç»</h2>
<p>è³æ­¤ï¼logsãmetricsãtracesä¸å¤§å¯è§æµçææ å»ºè®¾å®æï¼envoyå¯è§æµæ§çå»ºè®¾ä¹ç»æäº</p>
<h2 id="èç³»æ">èç³»æ</h2>
<ul>
<li>èç³»æï¼åæ·±å¥çäº¤æµ</li>
</ul>
<p><img alt="" width="500" height="200" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1416773/202411/1416773-20241121135740959-1907948957.png#" class="lazyload"></p>
<hr>
<p>è³æ­¤ï¼æ¬æç»æ<br>
å¨ä¸æçå­¦æµï¼æææ±¤æ¼æ°´çï¼è¯·åä½ä¸åèµæ...</p>

</div>
<div id="MySignature" role="contentinfo">
    <p>æ¬ææ¥èªåå®¢å­ï¼ä½èï¼<a href="https://www.cnblogs.com/MrVolleyball/" target="_blank">itæçå</a>ï¼è½¬è½½è¯·æ³¨æåæé¾æ¥ï¼<a href="https://www.cnblogs.com/MrVolleyball/p/19532068" target="_blank">https://www.cnblogs.com/MrVolleyball/p/19532068</a></p>
<div>æ¬æçæå½ä½èååå®¢å­å±æï¼æ¬¢è¿è½¬è½½ï¼ä½æªç»ä½èåæå¿é¡»å¨æç« é¡µé¢ç»åºåæè¿æ¥ï¼å¦åä¿çè¿½ç©¶æ³å¾è´£ä»»çæå©ã </div>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-26 11:04">2026-01-26 11:03</span>&nbsp;
<a href="https://www.cnblogs.com/MrVolleyball">itæçå</a>&nbsp;
éè¯»(<span id="post_view_count">89</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19532068);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19532068', targetLink: 'https://www.cnblogs.com/MrVolleyball/p/19532068', title: 'Envoy å¯è§æµæ§å®æï¼æ¥å¿ãææ ä¸é¾è·¯è¿½è¸ªçå®æ´è½å°' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ å¼æºä¸ä¸ªèªå·±çä½åæµè§å¨æä»¶ChaTabï¼ä¸é®æäº¤Promptå°å¤ä¸ªAIåºç¨ ]]></title>
    <link>https://www.cnblogs.com/jqbird/p/19531428/chatab</link>
    <guid>2003bf741f922bc344e69a63c7912164</guid>
    <description>
    <![CDATA[ 
		<h1 class="postTitle">
			<a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/jqbird/p/19531428/chatab" title="åå¸äº 2026-01-26 09:06">
    <span role="heading" aria-level="2">å¼æºä¸ä¸ªèªå·±çä½åæµè§å¨æä»¶ChaTabï¼ä¸é®æäº¤Promptå°å¤ä¸ªAIåºç¨</span>
    

</a>

		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="chatab-ç®ä»">ChaTab ç®ä»</h1>
<p>å¥½çä¹å¥½ç¨çchromeæµè§å¨é¦é¡µæä»¶ï¼å·²ç»å¨è°·æ­æµè§å¨ååºä¸æ¶4ä¸ªæäºï¼ä»£ç è°æ´å°åºæ¬ç¨³å®ç¶æäºï¼æä»¥æç®æå®å¼æºåºæ¥ã<br>
æ¯å¤©å¨ç¨åç§AIå·¥å·ï¼ä¸åå¹³å°åæ¢ï¼éå¸¸ç¦äººï¼æä»¥å°±èªå·±åäºä¸ä¸ªè¿æ ·çå·¥å·ç»èªå·±ç¨ï¼æºå¥½ç¨ï¼æä»¥åäº«ç»æç±»ä¼¼çç¹çç¨æ·ã</p>
<h1 id="å¼åå·¥å·">å¼åå·¥å·</h1>
<p>cursor + claude code</p>
<p>ç°å¨è½¯ä»¶å¼åçææ¬æå¤§éä½ï¼åä¹ä¸æ¯æå·¥ä¸æ¶ä»£çä¸éä¸çº¿çç¼ç äºï¼åªè¦åºç¡æ¶æè®¾è®¡å¥½ï¼AIåºæ¬å¯ä»¥å®æ 90%çè®¾è®¡åç¼ç å·¥ä½ï¼</p>
<h1 id="æä»¶åè½è¯´æ">æä»¶åè½è¯´æ</h1>
<ol>
<li>æ¹éPromptæäº¤ï¼ä¸é®å¿«éæ¹éåéæç¤ºè¯è³ ChatGPTãDeepSeek ç­å¤ä¸ª AI åºç¨ï¼æåæçã</li>
</ol>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/94489/202601/94489-20260126085253949-1765103089.png" class="lazyload"></p>
<ol start="2">
<li>æºè½èæ¯åæ¢ ï¼ éæºæ´æ¢ Chrome å¯å¨é¡µèæ¯ï¼è®©æ¯æ¬¡å¼å¯æµè§å¨é½ææ°é²æã</li>
</ol>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/94489/202601/94489-20260126085315350-275249729.png" class="lazyload"></p>
<p>3.åºç¨å¯¼èªï¼ä¸æçæ¶åç¹å»iconå¿«éé¾æ¥å°åºç¨å°åã</p>
<p><img alt="2" loading="lazy" data-src="https://img2024.cnblogs.com/blog/94489/202601/94489-20260126090807065-1138862909.png" class="lazyload"></p>
<ol start="4">
<li>å·¦ä¾§åå²è®°å½ï¼ç¹å»å¯ä»¥å¿«éå¡«ååå²è®°å½å°tabéçè¾å¥æ¡ä¸­ã</li>
</ol>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/94489/202601/94489-20260126085413657-1553436492.png" class="lazyload"></p>
<h1 id="ä½¿ç¨è¯´æ">ä½¿ç¨è¯´æ</h1>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/94489/202601/94489-20260126085440921-2033399589.png" class="lazyload"></p>
<p>1ãè°·æ­æµè§å¨ååºæç´¢ "chatab"ï¼æèå¤å¶é¾æ¥å°åå®è£ï¼</p>
<p><a href="https://chromewebstore.google.com/detail/chatab/gcbcmnekbambjebgfjnbgopmgcgcealn?hl=zh-CN&amp;utm_source=ext_sidebar" target="_blank" rel="noopener nofollow">https://chromewebstore.google.com/detail/chatab/gcbcmnekbambjebgfjnbgopmgcgcealn?hl=zh-CN&amp;utm_source=ext_sidebar</a></p>
<p>2ãä½¿ç¨åè¯·åå¨æµè§å¨ä¸­ç»å½ ChatGPTãDeepSeek ç­ç¸å³å¹³å°ãæä»¶å°ä¸ºæ¨æä¾ä¸é®æäº¤ãå¤å¹³å°åæ¢çä¾¿æ·ä½éªã</p>
<p>æ³¨æï¼è¿ä¸ªæä»¶ä¼ä¿®æ¹æµè§å¨é¦é¡µã</p>
<h1 id="å¼æºå°å">å¼æºå°å</h1>
<ul>
<li><a href="https://github.com/robotbird/chatab" target="_blank" rel="noopener nofollow">https://github.com/robotbird/chatab</a></li>
</ul>
<h1 id="å³äºä½è">å³äºä½è</h1>
<p>äº§åç»çï¼ç­ç±å²å­¦ï¼ä¸ªäººåå®¢ <a href="http://www.jqpress.com" target="_blank" rel="noopener nofollow">jqpress.com</a>ï¼å¾®ä¿¡å¬ä¼å·ï¼äº§åç»çéæ³æ²</p>
<p><img alt="äº§åç»çéæ³æ²" loading="lazy" data-src="https://img2024.cnblogs.com/blog/94489/202601/94489-20260126090034171-1922020543.jpg" class="lazyload"></p>

</div>
<div class="clear"></div>

		</div>
		<div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.002777777777777778" data-date-updated="2026-01-26 09:10">2026-01-26 09:06</span>&nbsp;
<a href="https://www.cnblogs.com/jqbird">å¶é¹</a>&nbsp;
éè¯»(<span id="post_view_count">320</span>)&nbsp;
è¯è®º(<span id="post_comment_count">3</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19531428);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19531428', targetLink: 'https://www.cnblogs.com/jqbird/p/19531428/chatab', title: 'å¼æºä¸ä¸ªèªå·±çä½åæµè§å¨æä»¶ChaTabï¼ä¸é®æäº¤Promptå°å¤ä¸ªAIåºç¨' })">ä¸¾æ¥</a>
</div>
	 ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ HagiCode å®è·µï¼å¦ä½å©ç¨ GitHub Actions å®ç° Docusaurus èªå¨é¨ç½² ]]></title>
    <link>https://www.cnblogs.com/newbe36524/p/19531383</link>
    <guid>4ae5bbde9ec6d6a63f37fe353ec11bb0</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/newbe36524/p/19531383" title="åå¸äº 2026-01-26 08:56">
    <span role="heading" aria-level="2">HagiCode å®è·µï¼å¦ä½å©ç¨ GitHub Actions å®ç° Docusaurus èªå¨é¨ç½²</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="ä¸º-hagicode-æ·»å -github-pages-èªå¨é¨ç½²æ¯æ">ä¸º HagiCode æ·»å  GitHub Pages èªå¨é¨ç½²æ¯æ</h1>
<blockquote>
<p>æ¬é¡¹ç®æ©æä»£å·ä¸º PCodeï¼ç°å·²æ­£å¼æ´åä¸º HagiCodeãæ¬æè®°å½äºå¦ä½ä¸ºé¡¹ç®å¼å¥èªå¨åéæç«ç¹é¨ç½²è½åï¼è®©åå®¹åå¸ååæ°´ä¸æ ·ç®åã</p>
</blockquote>

<h2 id="èæ¯å¼è¨">èæ¯/å¼è¨</h2>
<p>å¨ HagiCode çå¼åè¿ç¨ä¸­ï¼æä»¬éå°äºä¸ä¸ªå¾ç°å®çé®é¢ï¼éçææ¡£åææ¡è¶æ¥è¶å¤ï¼å¦ä½é«æå°ç®¡çåå±ç¤ºè¿äºåå®¹æäºå½å¡ä¹æ¥ãæä»¬å³å®å¼å¥ GitHub Pages æ¥æç®¡æä»¬çéæç«ç¹ï¼ä½æ¯æå¨æå»ºåé¨ç½²å®å¨æ¯å¤ªéº»ç¦äºââæ¯æ¬¡æ¹å¨é½è¦æ¬å°æå»ºãæåï¼ç¶åæå¨æ¨éå° <code>gh-pages</code> åæ¯ãè¿ä¸ä»æçä½ä¸ï¼è¿å®¹æåºéã</p>
<p>ä¸ºäºè§£å³è¿ä¸ªé®é¢ï¼ä¸»è¦æ¯ä¸ºäºå·æï¼ï¼æä»¬éè¦ä¸å¥èªå¨åçé¨ç½²æµç¨ãæ¬æå°è¯¦ç»è®°å½å¦ä½ä¸º HagiCode é¡¹ç®æ·»å  GitHub Actions èªå¨é¨ç½²æ¯æï¼è®©æä»¬åªéä¸æ³¨äºåå®¹åä½ï¼å©ä¸çäº¤ç»èªå¨åæµç¨ã</p>
<h2 id="å³äº-hagicode">å³äº HagiCode</h2>
<blockquote>
<p>å¿ï¼ä»ç»ä¸ä¸æä»¬æ­£å¨åçä¸è¥¿</p>
</blockquote>
<p>æä»¬æ­£å¨å¼å <strong>HagiCode</strong>ââä¸æ¬¾ AI é©±å¨çä»£ç æºè½å©æï¼è®©å¼åä½éªåå¾æ´æºè½ãæ´ä¾¿æ·ãæ´æè¶£ã</p>
<p><strong>æºè½</strong>ââAI å¨ç¨è¾å©ï¼ä»æ³æ³å°ä»£ç ï¼è®©ç¼ç æçæåæ°åã<strong>ä¾¿æ·</strong>ââå¤çº¿ç¨å¹¶åæä½ï¼ååå©ç¨èµæºï¼å¼åæµç¨é¡ºçæ é»ã<strong>æè¶£</strong>ââæ¸¸æåæºå¶åæå°±ç³»ç»ï¼è®©ç¼ç ä¸åæ¯ç¥ï¼åæ»¡æå°±æã</p>
<p>é¡¹ç®æ­£å¨å¿«éè¿­ä»£ä¸­ï¼å¦æä½ å¯¹ææ¯åä½ãç¥è¯ç®¡çæè AI è¾å©å¼åæå´è¶£ï¼æ¬¢è¿æ¥ <a href="https://github.com/HagiCode-org/site" target="_blank" rel="noopener nofollow">GitHub</a> ççï½</p>
<h2 id="ç®æ åæ">ç®æ åæ</h2>
<p>å¨å¨æä¹åï¼æä»¬å¾åæç¡®è¿æ¬¡ä»»å¡å°åºè¦å¹²å¥ãæ¯ç«ç£¨åä¸è¯¯ç æ´å·¥åã</p>
<h3 id="æ ¸å¿éæ±">æ ¸å¿éæ±</h3>
<ol>
<li><strong>èªå¨åæå»º</strong>ï¼å½ä»£ç æ¨éå° <code>main</code> åæ¯æ¶ï¼èªå¨è§¦åæå»ºæµç¨ã</li>
<li><strong>èªå¨é¨ç½²</strong>ï¼æå»ºæååï¼èªå¨å°çæçéææä»¶é¨ç½²å° GitHub Pagesã</li>
<li><strong>ç¯å¢ä¸è´æ§</strong>ï¼ç¡®ä¿ CI ç¯å¢åæ¬å°æå»ºç¯å¢ä¸è´ï¼é¿å"æ¬å°è½è·ï¼çº¿ä¸æ¥é"çå°´å°¬ã</li>
</ol>
<h3 id="ææ¯éå">ææ¯éå</h3>
<p>èèå° HagiCode æ¯åºäº Docusaurus æå»ºçï¼ä¸ç§éå¸¸æµè¡ç React éæç«ç¹çæå¨ï¼ï¼æä»¬å¯ä»¥å©ç¨ GitHub Actions æ¥å®ç°è¿ä¸ç®æ ã</p>
<h2 id="éç½®-github-actions-å·¥ä½æµ">éç½® GitHub Actions å·¥ä½æµ</h2>
<p>GitHub Actions æ¯ GitHub æä¾ç CI/CD æå¡ãéè¿å¨ä»£ç ä»åºä¸­å®ä¹ YAML æ ¼å¼çå·¥ä½æµæä»¶ï¼æä»¬å¯ä»¥å®å¶åç§èªå¨åä»»å¡ã</p>
<h3 id="åå»ºå·¥ä½æµæä»¶">åå»ºå·¥ä½æµæä»¶</h3>
<p>æä»¬éè¦å¨é¡¹ç®æ ¹ç®å½ä¸ç <code>.github/workflows</code> æä»¶å¤¹ä¸­åå»ºä¸ä¸ªæ°çéç½®æä»¶ï¼æ¯å¦å« <code>deploy.yml</code>ãå¦ææä»¶å¤¹ä¸å­å¨ï¼è®°å¾åæå¨åå»ºä¸ä¸ã</p>
<p>è¿ä¸ªéç½®æä»¶çæ ¸å¿é»è¾å¦ä¸ï¼</p>
<ol>
<li><strong>è§¦åæ¡ä»¶</strong>ï¼çå¬ <code>main</code> åæ¯ç <code>push</code> äºä»¶ã</li>
<li><strong>è¿è¡ç¯å¢</strong>ï¼ææ°çç Ubuntuã</li>
<li><strong>æå»ºæ­¥éª¤</strong>ï¼
<ul>
<li>æ£åºä»£ç </li>
<li>å®è£ Node.js</li>
<li>å®è£ä¾èµ (<code>npm install</code>)</li>
<li>æå»ºéææä»¶ (<code>npm run build</code>)</li>
</ul>
</li>
<li><strong>é¨ç½²æ­¥éª¤</strong>ï¼ä½¿ç¨å®æ¹æä¾ç <code>action-gh-pages</code> å°æå»ºäº§ç©æ¨éå° <code>gh-pages</code> åæ¯ã</li>
</ol>
<h3 id="å³é®éç½®ä»£ç ">å³é®éç½®ä»£ç </h3>
<p>ä»¥ä¸æ¯æä»¬æç»éç¨çéç½®æ¨¡æ¿ï¼</p>
<pre><code class="language-yaml">name: Deploy to GitHub Pages

# è§¦åæ¡ä»¶ï¼å½æ¨éå° main åæ¯æ¶
on:
  push:
    branches:
      - main
    # å¯ä»¥æ ¹æ®éè¦æ·»å è·¯å¾è¿æ»¤ï¼æ¯å¦åªæææ¡£åå¨ææå»º
    # paths:
    #   - 'docs/**'
    #   - 'package.json'

# è®¾ç½®æéï¼è¿å¯¹äºé¨ç½²å° GitHub Pages å¾éè¦
permissions:
  contents: read
  pages: write
  id-token: write

# å¹¶åæ§å¶ï¼åæ¶åä¸åæ¯çæ§æå»º
concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        # æ³¨æï¼å¿é¡»è®¾ç½® fetch-depth: 0ï¼å¦åå¯è½å¯¼è´æå»ºçæ¬å·ä¸åç¡®
        with:
          fetch-depth: 0

      - name: Setup Node
        uses: actions/setup-node@v4
        with:
          node-version: 20 # å»ºè®®ä¸æ¬å°å¼åç¯å¢ä¿æä¸è´
          cache: 'npm'     # å¯ç¨ç¼å­å¯ä»¥å éæå»ºè¿ç¨

      - name: Install dependencies
        run: npm ci
        # ä½¿ç¨ npm ci èä¸æ¯ npm installï¼å ä¸ºå®æ´å¿«ãæ´ä¸¥æ ¼ï¼éå CI ç¯å¢

      - name: Build website
        run: npm run build
        env:
          # å¦æä½ çç«ç¹æå»ºéè¦ç¯å¢åéï¼å¨è¿ééç½®
          # NODE_ENV: production
          # PUBLIC_URL: /your-repo-name
          
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: ./build # Docusaurus é»è®¤è¾åºç®å½

  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    needs: build
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
</code></pre>
<h2 id="å®æ½è¿ç¨ä¸­çåç¹">å®æ½è¿ç¨ä¸­çåç¹</h2>
<p>å¨å®éæä½ä¸­ï¼æä»¬éå°äºä¸äºé®é¢ï¼è¿éåäº«åºæ¥å¸æå¤§å®¶è½é¿å¼ï¼æèæååå¤å¥½è§£å³æ¹æ¡ï¼ã</p>
<h3 id="1-github-token-æéé®é¢">1. GitHub Token æéé®é¢</h3>
<p>æå¼å§éç½®çæ¶åï¼é¨ç½²æ»æ¯æ¥é 403 (Forbidden)ãæ¥äºå¥½ä¹æåç°ï¼æ¯å ä¸º GitHub é»è®¤ç <code>GITHUB_TOKEN</code> å¹¶æ²¡æåå¥ Pages çæéã</p>
<p><strong>è§£å³æ¹æ¡</strong>ï¼å¨ä»åºç <code>Settings</code> -&gt; <code>Actions</code> -&gt; <code>General</code> -&gt; <code>Workflow permissions</code> ä¸­ï¼å¡å¿éæ© <strong>"Read and write permissions"</strong>ã</p>
<h3 id="2-æå»ºç®å½è·¯å¾éè¯¯">2. æå»ºç®å½è·¯å¾éè¯¯</h3>
<p>Docusaurus é»è®¤ææå»ºå¥½çéææä»¶æ¾å¨ <code>build</code> ç®å½ãä½æ¯æäºé¡¹ç®ï¼æ¯å¦ Create React App é»è®¤æ¯ <code>build</code>ï¼Vite é»è®¤æ¯ <code>dist</code>ï¼å¯è½éç½®ä¸ä¸æ ·ãå¦æå¨ Actions ä¸­æ¥éæ¾ä¸å°æä»¶ï¼è®°å¾å» <code>docusaurus.config.js</code> éæ£æ¥ä¸ä¸è¾åºè·¯å¾éç½®ã</p>
<h3 id="3-å­è·¯å¾é®é¢">3. å­è·¯å¾é®é¢</h3>
<p>å¦æä½ çä»åºä¸æ¯ç¨æ·ä¸»é¡µï¼å³ä¸æ¯ <code>username.github.io</code>ï¼ï¼èæ¯é¡¹ç®ä¸»é¡µï¼æ¯å¦ <code>username.github.io/project-name</code>ï¼ï¼ä½ éè¦éç½® <code>baseUrl</code>ã</p>
<p>å¨ <code>docusaurus.config.js</code> ä¸­ï¼</p>
<pre><code class="language-javascript">module.exports = {
  // ...
  url: 'https://HagiCode-org.github.io', // ä½ ç GitHub URL
  baseUrl: '/site/', // å¦æä½ çä»åºå« siteï¼è¿éå°±å¡« /site/
  // ...
};
</code></pre>
<p>è¿ä¸ç¹å¾å®¹æè¢«å¿½ç¥ï¼éç½®ä¸å¯¹ä¼å¯¼è´é¡µé¢æå¼å¨æ¯ç½å±ï¼å ä¸ºèµæºè·¯å¾å è½½ä¸å°ã</p>
<h2 id="éªè¯ææ">éªè¯ææ</h2>
<p>éç½®å®ææä¸è¥¿å¹¶æ¨éä»£ç åï¼æä»¬å°±å¯ä»¥å» GitHub ä»åºç <strong>Actions</strong> æ ç­¾é¡µçæäºã</p>
<p>ä½ ä¼çå°é»è²çååï¼å·¥ä½æµæ­£å¨è¿è¡ï¼ï¼åç»¿å°±ä»£è¡¨æåå¦ï¼å¦æåçº¢äºï¼ç¹å»è¿å»æ¥çæ¥å¿ï¼éå¸¸é½è½ææ¥åºé®é¢ï¼å¤§é¨åæ¶åæ¯æ¼åéè¯¯æèè·¯å¾éç½®ä¸å¯¹ï¼ã</p>
<p>æå»ºæååï¼è®¿é® <code>https://&lt;ä½ çç¨æ·å&gt;.github.io/&lt;ä»åºå&gt;/</code> å°±è½çå°å´­æ°çç«ç¹äºã</p>
<h2 id="æ»ç»">æ»ç»</h2>
<p>éè¿å¼å¥ GitHub Actionsï¼æä»¬æåå®ç°äº HagiCode ææ¡£ç«çèªå¨åé¨ç½²ãè¿ä¸ä»èçäºæå¨æä½çæ¶é´ï¼æ´éè¦çæ¯ä¿è¯äºåå¸æµç¨çæ ååãç°å¨ä¸ç®¡æ¯åªä½å°ä¼ä¼´æ´æ°äºææ¡£ï¼åªè¦åå¹¶å° <code>main</code> åæ¯ï¼å åéåå°±è½å¨çº¿ä¸çå°ææ°çåå®¹ã</p>
<p><strong>æ ¸å¿æ¶ç</strong>ï¼</p>
<ul>
<li><strong>æçæå</strong>ï¼ä»"æå¨æåãæå¨ä¸ä¼ "åæ"ä»£ç å³åå¸"ã</li>
<li><strong>éä½éè¯¯</strong>ï¼æ¶é¤äºäººä¸ºæä½å¤±è¯¯çå¯è½æ§ã</li>
<li><strong>ä½éªä¼å</strong>ï¼è®©å¼åèæ´ä¸æ³¨äºåå®¹è´¨éï¼èä¸æ¯è¢«ç¹ççé¨ç½²æµç¨å°æ°ã</li>
</ul>
<p>è½ç¶éç½® CI/CD åå¼å§æç¹éº»ç¦ï¼å°¤å¶æ¯åç§æéåè·¯å¾é®é¢ï¼ï¼ä½è¿æ¯ä¸æ¬¡æ§æå¥ï¼é¿æåæ¥å·¨å¤§çå·¥ä½ãå¼ºçå»ºè®®ææéæç«ç¹é¡¹ç®é½æ¥å¥ç±»ä¼¼çèªå¨åæµç¨ã</p>
<h2 id="åèèµæ">åèèµæ</h2>
<ul>
<li><a href="https://docs.github.com/en/actions" target="_blank" rel="noopener nofollow">GitHub Actions å®æ¹ææ¡£</a></li>
<li><a href="https://docusaurus.io/docs/deployment" target="_blank" rel="noopener nofollow">Docusaurus é¨ç½²æå</a></li>
<li>[actions-gh-pages Action ä½¿ç¨è¯´æ](<a href="https://github.com" target="_blank" rel="noopener nofollow">https://github.com</a> peaceiris/actions-gh-pages)</li>
</ul>
<hr>
<p>æè°¢æ¨çéè¯»,å¦ææ¨è§å¾æ¬ææç¨,å¿«ç¹å»ä¸æ¹ç¹èµæé®ð,è®©æ´å¤çäººçå°æ¬æã</p>
<p>æ¬åå®¹éç¨äººå·¥æºè½è¾å©åä½,ç»æ¬äººå®¡æ ¸,ç¬¦åæ¬äººè§ç¹ä¸ç«åºã</p>
<h2 id="åä¿¡æ¯">åä¿¡æ¯</h2>
<ul>
<li><strong>æ¬æä½è:</strong> <a href="https://www.newbe.pro" target="_blank" rel="noopener nofollow">newbe36524</a></li>
<li><strong>æ¬æé¾æ¥:</strong> <a href="https://hagicode-org.github.io/site/blog/2026/01/25/docusaurus-auto-deployment-with-github-actions" target="_blank" rel="noopener nofollow">https://hagicode-org.github.io/site/blog/2026/01/25/docusaurus-auto-deployment-with-github-actions</a></li>
<li><strong>çæå£°æ:</strong> æ¬åå®¢æææç« é¤ç¹å«å£°æå¤,åéç¨ BY-NC-SA è®¸å¯åè®®ãè½¬è½½è¯·æ³¨æåºå¤!</li>
</ul>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-26 08:56">2026-01-26 08:56</span>&nbsp;
<a href="https://www.cnblogs.com/newbe36524">Newbe36524</a>&nbsp;
éè¯»(<span id="post_view_count">78</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19531383);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19531383', targetLink: 'https://www.cnblogs.com/newbe36524/p/19531383', title: 'HagiCode å®è·µï¼å¦ä½å©ç¨ GitHub Actions å®ç° Docusaurus èªå¨é¨ç½²' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ å¤å» ChatGPT é«çº§æ°æ®åæï¼Sdcb Chats 1.10 éç£åå¸ï¼è½åæExcelãåPPT ]]></title>
    <link>https://www.cnblogs.com/sdcb/p/19528764/chats-1-10</link>
    <guid>83d34187cf89e1944e8bba62e38b7b05</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/sdcb/p/19528764/chats-1-10" title="åå¸äº 2026-01-26 08:45">
    <span role="heading" aria-level="2">å¤å» ChatGPT é«çº§æ°æ®åæï¼Sdcb Chats 1.10 éç£åå¸ï¼è½åæExcelãåPPT</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>Chats 1.10.0 åå¸äºï¼è¿æ¯ä¸ä¸ªæä¸ªäººéå¸¸åæ¬¢ï¼ä¹æå¾å·²ä¹ççæ¬ã</p>
<p>è·ç¦» 1.9.0 åå¸ï¼2025 å¹´ 11 æ 27 æ¥ï¼å·²ç»è¿å»äºè¿ä¸¤ä¸ªæãè¿æé´ï¼æå¹¶ä¸æ¯å¨æ¸é±¼ï¼èæ¯å¨æä¸ä¸ªâå¤§æâââ<strong>åç½®ä»£ç æ§è¡å¨ï¼Code Interpreterï¼</strong>ã</p>
<blockquote>
<p>å¦æä½ è¿ä¸äºè§£ <strong>Sdcb Chats</strong>ï¼ç®åè¯´ï¼è¿æ¯ä¸ä¸ªæ¯æå¤å®¶ä¸»æµæ¨¡åæå¡åç AI ç½å³ãå®ä¸åªè½è®©ä½ å¨ä¸ä¸ªç»ä¸çé¢éèåç®¡çæææ¨¡åï¼åæ¶ä¹å¼å®¹æ å API åè®®ï¼æ¯æ Docker ä¸é®é¨ç½²ä¸å¤æ°æ®åºæ¯æã</p>
</blockquote>
<h2 id="ä¸ºä»ä¹æ¯ä»£ç æ§è¡å¨">ä¸ºä»ä¹æ¯ä»£ç æ§è¡å¨ï¼</h2>
<p>Sdcb Chats 1.9åå¸ä¹åï¼å¾å¤äººå¥½å¥æä¸ä¸æ­¥åå¤æä¹èµ°ï¼æå½æ¶æ³çä¸¤ä¸ªæ¹åï¼</p>
<p><strong>æ¹åä¸ï¼Dify æ¨¡å¼ï¼Difyåï¼</strong><br>
ä¸ç§æ¯æ¯æåå¸æ App çåè½ï¼æ¯å¦éè¿ä¸å®çç³»ç»æç¤ºè¯ãå·¥å·ééæ©ãæ¨¡ååæ°è®¾ç½®ï¼å¦æ¸©åº¦ç­ï¼ï¼å¯ä»¥å°è¿æ ·çä¸è¥¿æååå¸æä¸ä¸ªå App ä¸æ ·çç½é¡µï¼æèæ¯ä¸ä¸ª js å¥å£ãç¨æ·å¯ä»¥éè¿è¿ä¸ªç½é¡µç´æ¥ä½¿ç¨ Chats çé¢å®åè½å AI å¤§æ¨¡åèå¤©ãå®ææå®ä»»å¡ãæåæç js çè³å¯ä»¥åµå¥ç¨æ·ï¼éå¸¸æ¯ä¼ä¸ç¨æ·ï¼çç½é¡µä¸­ï¼è¿æ ·ä¸æ¥ç¨æ·å°±å¯ä»¥ç´æ¥å¨èªå·±çç½ç«ä¸ä½¿ç¨å®å¶åç AI å©æäºãè¿ä¸ªæ¹åå¾æåä¸æ½åï¼å¾å¤å®¢æ·é½å¨é®ã</p>
<p><strong>æ¹åäºï¼Code Interpreter æ¨¡å¼ï¼ADAï¼</strong><br>
å¦å¤ä¸ä¸ªæ¹åå°±æ¯å®ç°åç½®çåºäº Docker çæ²ç®±åè½ãå ä¸ºæç»å¸¸çå° ChatGPT ç½ç«ï¼æèå Manus ä¸æ ·ï¼ä¸­å¯ä»¥æ§è¡ä¸æ®µ Python èæ¬ââæèç»è¿ä¸ç³»åå¤æ­¥éª¤çè¿ç¨ï¼ç¶åçæä¸å¼ å¾çæèä¸ä¸ªå¾è¡¨ãExcelãPPTãè¿ä¸ªåè½ä¹å ChatGPT å«ä½ Code Interpreterï¼ä»£ç æ§è¡å¨ï¼ï¼åæ¥ä¸ºäºæ¾å¾æ´ä¸ä¸ï¼æ¹åå«âé«çº§æ°æ®åæâï¼Advanced Data Analysisï¼ADAï¼ã</p>
<p>è¿ä¸ªåè½çæ ¸å¿å¨äºï¼<strong>å®å¯ä»¥è®© AI æ¨¡åç´æ¥æä½æä»¶ãçæåç§æ ¼å¼çè¾åºï¼èä¸éè¦ç¨æ·æå¨å»å¤çæ°æ®åæä»¶ã</strong></p>
<p>æåç°ï¼ç®åå¸é¢ä¸é¤äº OpenAI æä¾äºå®æ´ä½éªå¤ï¼å GeminiãGrokãQwenï¼åºäºOpenWebUIï¼ç­é½æ²¡ææä¾ç±»ä¼¼çåè½æ¯æã</p>
<p><strong>æçéæ©</strong><br>
ä» Chats çåä¸åè§åº¦æ¥è¯´ï¼Dify æ¹åè¯å®æ´æâé±âæ¯ãä½æä¸ªäººå¯¹ ADA æ¹åæ´æå´è¶£ä¸äºï¼å ä¸ºæè§å¾è¿ä¸ªåè½æ´âç¡¬æ ¸âï¼ä¹æ´è½ä½ç° AI æ¨¡åçè½ååæ½åã</p>
<p>æä»¥ææç»éæ©äº ADA æ¹åä½ä¸º 1.10 çæ¬åå¸çæ ¸å¿åè½ãç»è¿å å¨çåªåï¼1.10 çæ¬ç»äºå®æäºåç½® Docker Code Interpreter çåè½ï¼ç°å¨ç¨æ·å¯ä»¥å¨ Chats ä¸­ç´æ¥è¯· AI åå»ºä¸ä¸ª Docker ä¼è¯ï¼ä¸ä¼ æä»¶ï¼è®© AI æ¨¡åæ§è¡ä»£ç ãåææ°æ®ãçæ PPT ç­ï¼éå¸¸æ¹ä¾¿å®ç¨ã</p>
<h2 id="å¼ºå¤§ç-docker-æ²ç®±ä¸åªæ¯-python">å¼ºå¤§ç Docker æ²ç®±ï¼ä¸åªæ¯ Python</h2>
<p>ä¸ºäºå®ç°è¿ä¸ªåè½ï¼æä¸ä»ä»æ¯å äºå ä¸ª API é£ä¹ç®åã</p>
<p>è¿ä¸ªåè½ç PoC å¶å®æ©å¨å»å¹´ 11 ææå°±å®æäºï¼ä¹åæéç»­æç£¨ï¼ç´å° 2026 å¹´åæ¦çæ¶åæå AI åäºå¤è½®çè®¾è®¡ï¼æç»å®ç¨¿å¹¶åå»ºäº 7 ä¸ªåç½®å·¥å·ï¼</p>
<ul>
<li><code>create_docker_session</code>ï¼åå»ºç¯å¢</li>
<li><code>run_command</code>ï¼æ§è¡å½ä»¤</li>
<li><code>read_file</code> / <code>write_file</code> / <code>patch_file</code>ï¼æä»¶æä½</li>
<li><code>download_chat_files</code>ï¼æä»¶æµè½¬</li>
<li><code>destroy_session</code>ï¼èµæºåæ¶</li>
</ul>
<p>æè¿åç½®äºä¸å¥ <strong>Artifactï¼å·¥ä»¶ï¼æä»¶å¤¹è·è¸ªæºå¶</strong>ãç®åæ¥è¯´ï¼å¦æå¤§æ¨¡åæä½å½ä»¤è¡å·¥å·æèå¶å®ä»ä¹èæ¬å°æä»¶æ¾å°äºæå®ç artifact æä»¶å¤¹ï¼Chats ç³»ç»å°±ä¼èªå¨å¸®ç¨æ·ä¿å­ä¸æ¥ï¼ç¨æ·å¨èå¤©çé¢å¯ä»¥ç´æ¥ç¹å»ä¸è½½ã</p>
<h3 id="ä¸å±éåsdcbcode-interpreter">ä¸å±éåï¼sdcb/code-interpreter</h3>
<p>ä¸ºäºè®©ä½éªè¾¾å°æè´ï¼æä¸æ³è®©å¤§å®¶æ¯æ¬¡é½å»æåå·¨å¤§çéç¨éåï¼ä¹ä¸æ³è®©å¤§å®¶è´¹å²å»éç½®ç¯å¢ãå æ­¤ï¼æä¸é¨æå»ºäºä¸ä¸ª docke éåï¼<code>sdcb/code-interpreter</code>ã</p>
<p>å OpenAI ç ADA åè½ç±»ä¼¼ï¼è¿ä¸ªéåéé¢è£äºå¸¸ç¨çå·¥å·é¾åä¾èµåºï¼</p>
<ul>
<li><strong>è¯­è¨ç¯å¢</strong>ï¼Python, .NET (Dotnet), Node.js, GCC</li>
<li><strong>æ°æ®å¤ç</strong>ï¼SQLite3, Pandas, Numpy</li>
<li><strong>ææ¡£åå¬</strong>ï¼LibreOffice, Pandoc</li>
<li><strong>å¤åªä½</strong>ï¼FFmpeg, ImageMagick</li>
<li><strong>Webèªå¨å</strong>ï¼Playwright Chromium</li>
</ul>
<p><img src="https://img2024.cnblogs.com/blog/233608/202601/233608-20260125102326917-629370352.png" alt="" loading="lazy"></p>
<p>å¤§æ¨¡åå¨ä½¿ç¨è¿ä¸ªéåæ¶ï¼ä¼èªå¨å è½½ <code>/app/skills.md</code> è¿ä¸ªæä»¶ï¼éé¢ååºäºéåä¸­é¢è£çå·¥å·ååºï¼</p>
<pre><code class="language-md">This environment is pre-configured with the following tools and libraries:
* utilities: git, LibreOffice, Pandoc, Poppler (`pdftotext`, `pdfinfo`), sqlite3, file, FFmpeg {ffmpegVersion}, git, imagemagick, playwright[chromium]
* dotnet {dotnetVersion}, commands: `dotnet build`, `dotnet run single-file.cs`, `dotnet add package`, pre-cached NuGet packages in `/opt/nuget-local`
* python {pythonVersion}, commands: `python3 - &lt;&lt;'PY' ...`, `pip install --break-system-packages package-name`, IMPORTANT: Many packages are pre-installed, Always check with `pip list` BEFORE installing to avoid unnecessary waits.
* C/C++ Toolchain (gcc {gccVersion}), tools: `gcc`, `g++`, `make`, `cmake`
* node.js {nodeVersion}, commands: `node`, `npm`, IMPORTANT: Many packages are pre-installed globally. Always check with `npm -g ls` BEFORE installing.
</code></pre>
<p>å¤§æ¨¡åå¯ä»¥ç´æ¥è°ç¨è¿äºå·¥å·ï¼éå¸¸æ¹ä¾¿ã</p>
<p>å¼å¾ä¸æçæ¯ï¼ä½ä¸ºä¸å .NET ç±å¥½èï¼è¿ä¸ªéåææ¯åºäº .NET åçï¼Base Imageï¼ï¼å æ­¤ç¢°å·§ä½ åæä¸æ ·ä½¿ç¨ .NET/C# æ¥éªè¯ä¸äºä¸è¥¿çè¯ï¼è®©å¤§æ¨¡åç´æ¥ä½¿ç¨è¿ä¸ªéåå°±è¡äºï¼</p>
<h2 id="åºæ¯æ¼ç¤ºå®è½åä»ä¹">åºæ¯æ¼ç¤ºï¼å®è½åä»ä¹ï¼</h2>
<p>åè¯´ä¸ç»åæå¼ï¼æä»¬æ¥ççå®å¨å®éåºæ¯ä¸­çå¨åã</p>
<h3 id="åºæ¯ä¸åæ-excel-å¹¶çæå¾è¡¨">åºæ¯ä¸ï¼åæ Excel å¹¶çæå¾è¡¨</h3>
<p>ä»¥åæä»¬è®© AI åæ Excelï¼éå¸¸æ¯å°æ°æ®æ ¼å¼åç»AIï¼ç¶åè®©å®å¸®å¿åä»£ç ï¼ç¨æ·åèªå·±è¿è¡ä»£ç çæå¾è¡¨ãç°å¨å¯ä»¥ç´æ¥è®© AI å¨æ²ç®±ä¸­æä½ Excel æä»¶ï¼çæå¾è¡¨ã</p>
<p>æ¯å¦ä½ æä¸ä¸ªè¿æ ·çexcelï¼<a href="https://cv-public.sdcb.pub/2026/changsha_weather_2025.xlsx" target="_blank" rel="noopener nofollow">https://cv-public.sdcb.pub/2026/changsha_weather_2025.xlsx</a><br>
éé¢çæ°æ®æ¯é¿æ² 2025 å¹´çæ¯æ¥å¤©æ°è®°å½ï¼<br>
<img src="https://img2024.cnblogs.com/blog/233608/202601/233608-20260125102327825-611206051.png" alt="" loading="lazy"></p>
<blockquote>
<p><strong>ç¨æ·</strong>ï¼è¯·å¸®æåæè¿ä¸ª Excel æä»¶ï¼çæä¸ä¸ªåå«æ¯æå¹³åæ°æ¸©åéæ°´éçæ¥åï¼å¹¶éä¸å¾è¡¨ã</p>
</blockquote>
<p>AI ä¼ç´æ¥å¨ Docker æ²ç®±ä¸­è¿è¡ Python ä»£ç ï¼ä½¿ç¨ Pandas å Matplotlib çæå¾è¡¨ï¼ç¶åæç»ææåææ¥ååç»ä½ ï¼è§é¢æå éï¼ã</p>
<p><img src="https://img2024.cnblogs.com/blog/233608/202601/233608-20260125102328487-114968639.avif" alt="" loading="lazy"></p>
<h3 id="åºæ¯äºä¸å¥è¯çæ-ppt">åºæ¯äºï¼ä¸å¥è¯çæ PPT</h3>
<p>è¿æ¯ææç±çåè½ä¹ä¸ã</p>
<blockquote>
<p><strong>ç¨æ·</strong>ï¼è¯·æ ¹æ®ä¸é¢çå¤©æ°åæï¼å¸®æçæä¸ä»½ä»¥â2025å¹´é¿æ²å¤©æ°åææ¥åâä¸ºä¸»é¢çPPTï¼åå«å°é¢ãç®å½ãæ°æ®åæãå¾è¡¨å±ç¤ºåç»è®ºäºä¸ªé¨åã</p>
</blockquote>
<p>AI ä¼è°ç¨ <code>python-pptx</code> åºï¼å¨æ²ç®±ä¸­çæ <code>.pptx</code> æä»¶ï¼ç¶åç»ä½ ä¸ä¸ªä¸è½½é¾æ¥ãä½ ä¸è½½ä¸æ¥ç´æ¥å°±å¯ä»¥å»æ±æ¥äºï¼å½ç¶æå¥½è¿æ¯å¾®è°ä¸ä¸ï¼ã</p>
<p><img src="https://img2024.cnblogs.com/blog/233608/202601/233608-20260125102329000-1999082053.png" alt="" loading="lazy"></p>
<p>è¿æ¯åå§ PPT çä¸è½½é¾æ¥ï¼æå´è¶£çå¯ä»¥ççæåä¸ä¸ææï¼<a href="https://cv-public.sdcb.pub/2026/changsha_weather_report_2025.pptx" target="_blank" rel="noopener nofollow">https://cv-public.sdcb.pub/2026/changsha_weather_report_2025.pptx</a></p>
<h3 id="åºæ¯ä¸åå®éª">åºæ¯ä¸ï¼åå®éª</h3>
<p>è¿å¶å®ä¹æ¯ææåæ¬¢çä¸ä¸ªåºæ¯ãæ¯å¦ææ³æµè¯ä¸ä¸ªæ°çç®æ³ï¼æèéªè¯ä¸ä¸ªä»£ç çæ®µï¼æå¯ä»¥ç´æ¥è®© AI å¨æ²ç®±ä¸­å¸®æè·ä»£ç ã</p>
<p>æ¯å¦ä¹åæåè¿ä¸¤ç¯åå®¢ï¼</p>
<ul>
<li>ãä¸æè·ä¸ªåï¼.NET 10 å¤§æ´æ°è®¡ç®å¯¹éµ Javaï¼ç»æä»¤äººæå¤ãï¼åå®¢å­é¾æ¥ï¼<a href="https://www.cnblogs.com/sdcb/p/19484525/20261113-big-integer-dotnet-10-vs-java%EF%BC%89" target="_blank">https://www.cnblogs.com/sdcb/p/19484525/20261113-big-integer-dotnet-10-vs-javaï¼</a></li>
<li>ã.NET 10äºï¼HttpClientè¿æ¯ä¸è½ç¨usingåï¼æåäºä¸ä¸ªå®éªãï¼åå®¢å­é¾æ¥ï¼<a href="https://www.cnblogs.com/sdcb/p/19500792/20260119-using-httpclient%EF%BC%89" target="_blank">https://www.cnblogs.com/sdcb/p/19500792/20260119-using-httpclientï¼</a></li>
</ul>
<p>è¿éé¢æå¤§éçä»£ç ãå®éªæ°æ®åå¾è¡¨ï¼æå¯ä»¥ç´æ¥è®© AI å¨æ²ç®±ä¸­å¸®æè·è¿äºä»£ç ï¼çææ°æ®ï¼ç¶åå¸®æåæç»æãçæå¾è¡¨ï¼æå¤§å°æé«äºæçåä½æçï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/233608/202601/233608-20260125102329414-26338747.png" alt="" loading="lazy"></p>
<h2 id="å¶å®éç£æ´æ°">å¶å®éç£æ´æ°</h2>
<p>é¤äºä»£ç æ§è¡å¨ï¼1.10 è¿æå¾å¤ç¡¬æ ¸æ´æ°ï¼</p>
<h3 id="1-äº¤éæèæ¹è¿">1. äº¤éæèæ¹è¿</h3>
<p>å¨ 1.9 çæ¬ä¸­ï¼æå¼å¥äºäº¤éæèï¼Interleaved Thinkingï¼çæ¦å¿µï¼åè®¸å¤§æ¨¡åå¨åç­é®é¢æ¶åå¤æ­¥æèåè¡å¨ãä½åªæ¯æ Minimax-M2ãAnthropic Claudeç­æ¨¡åæ¯æäº¤éæèã</p>
<p>å¨ 1.10 çæ¬ä¸­ï¼ææ©å±äºå¯¹æ´å¤æ¨¡åçæ¯æï¼åæ¬ OpenAI Responses APIãDeepSeek V3.2æ¨¡åã</p>
<p>æ¯å¦ä½ çä¸é¢çä½¿ç¨éç»è®¡ï¼æ¥èª Chats çæªå¾ï¼ï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/233608/202601/233608-20260125102329774-510845930.png" alt="" loading="lazy"></p>
<p>æå½æ¶ä½¿ç¨çæ¨¡åæ¯ OpenAI ç gpt-5.2ï¼å®éè¿ Response API çäº¤éæèå°æèä¿¡æ¯åä¼ ï¼å¨æ»ç» 201K Tokens çå¯¹è¯ä¸­ï¼æ 189K è§¦åäºè¯·æ±ç¼å­ï¼èçäºå¤§éçè®¡ç®èµæºåè´¹ç¨ï¼è¿æåäºæ¨¡åè½åï¼è¿é½ä¾èµäºäº¤éæèçåè½ã</p>
<p>å°æ­¤ï¼Sdcb Chatsä¸­å·²ç»æè¿äºæ¨¡åæä¾åç¡®è®¤æ¯æå®æ´çäº¤éæèåè½ï¼</p>
<table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>å å¥æ¶é´</th>
<th>äº¤éæè</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Azure AI Foundry</td>
<td><a href="https://github.com/sdcb/chats/commit/3b3918af" target="_blank" rel="noopener nofollow">2024-09-05</a></td>
<td>â</td>
</tr>
<tr>
<td>2</td>
<td>è¾è®¯æ··å</td>
<td><a href="https://github.com/sdcb/chats/commit/3b3918af" target="_blank" rel="noopener nofollow">2024-09-05</a></td>
<td>â</td>
</tr>
<tr>
<td>3</td>
<td>é¶ä¸ä¸ç©</td>
<td><a href="https://github.com/sdcb/chats/commit/3b3918af" target="_blank" rel="noopener nofollow">2024-09-05</a></td>
<td></td>
</tr>
<tr>
<td>4</td>
<td>æä¹æé¢</td>
<td><a href="https://github.com/sdcb/chats/commit/3b3918af" target="_blank" rel="noopener nofollow">2024-09-05</a></td>
<td>â</td>
</tr>
<tr>
<td>5</td>
<td>OpenAI</td>
<td><a href="https://github.com/sdcb/chats/commit/3b3918af" target="_blank" rel="noopener nofollow">2024-09-05</a></td>
<td>â</td>
</tr>
<tr>
<td>6</td>
<td>ç¾åº¦åå¸</td>
<td><a href="https://github.com/sdcb/chats/commit/3b3918af" target="_blank" rel="noopener nofollow">2024-09-05</a></td>
<td></td>
</tr>
<tr>
<td>7</td>
<td>é¿éç¾ç¼</td>
<td><a href="https://github.com/sdcb/chats/commit/3b3918af" target="_blank" rel="noopener nofollow">2024-09-05</a></td>
<td>â</td>
</tr>
<tr>
<td>8</td>
<td>è®¯é£æç«</td>
<td><a href="https://github.com/sdcb/chats/commit/3b3918af" target="_blank" rel="noopener nofollow">2024-09-05</a></td>
<td></td>
</tr>
<tr>
<td>9</td>
<td>æºè°±AI</td>
<td><a href="https://github.com/sdcb/chats/commit/3b3918af" target="_blank" rel="noopener nofollow">2024-09-05</a></td>
<td>â</td>
</tr>
<tr>
<td>10</td>
<td>DeepSeek</td>
<td><a href="https://github.com/sdcb/chats/commit/30db0079" target="_blank" rel="noopener nofollow">2024-12-06</a></td>
<td>â</td>
</tr>
<tr>
<td>11</td>
<td>x.ai</td>
<td><a href="https://github.com/sdcb/chats/commit/0d1cab20" target="_blank" rel="noopener nofollow">2024-12-11</a></td>
<td></td>
</tr>
<tr>
<td>12</td>
<td>Github Models</td>
<td><a href="https://github.com/sdcb/chats/commit/0d1cab20" target="_blank" rel="noopener nofollow">2024-12-11</a></td>
<td></td>
</tr>
<tr>
<td>13</td>
<td>è°·æ­AI</td>
<td><a href="https://github.com/sdcb/chats/commit/a4effc1b" target="_blank" rel="noopener nofollow">2025-01-10</a></td>
<td>â</td>
</tr>
<tr>
<td>14</td>
<td>Ollama</td>
<td><a href="https://github.com/sdcb/chats/commit/6a5288e7" target="_blank" rel="noopener nofollow">2025-01-20</a></td>
<td></td>
</tr>
<tr>
<td>15</td>
<td>MiniMax</td>
<td><a href="https://github.com/sdcb/chats/commit/6a5288e7" target="_blank" rel="noopener nofollow">2025-01-20</a></td>
<td>â</td>
</tr>
<tr>
<td>16</td>
<td>ç«å±±æ¹è</td>
<td><a href="https://github.com/sdcb/chats/commit/843510ff" target="_blank" rel="noopener nofollow">2025-01-24</a></td>
<td>â</td>
</tr>
<tr>
<td>17</td>
<td>ç¡åºæµå¨</td>
<td><a href="https://github.com/sdcb/chats/commit/889144cf" target="_blank" rel="noopener nofollow">2025-02-08</a></td>
<td>â</td>
</tr>
<tr>
<td>18</td>
<td>OpenRouter</td>
<td><a href="https://github.com/sdcb/chats/commit/15adedfe" target="_blank" rel="noopener nofollow">2025-03-05</a></td>
<td>â</td>
</tr>
<tr>
<td>19</td>
<td>å°é©¬ç®å</td>
<td><a href="https://github.com/sdcb/chats/commit/32e4a0d5" target="_blank" rel="noopener nofollow">2025-11-07</a></td>
<td>â</td>
</tr>
<tr>
<td>20</td>
<td>Anthropic</td>
<td><a href="https://github.com/sdcb/chats/commit/22ebef98" target="_blank" rel="noopener nofollow">2025-11-24</a></td>
<td>â</td>
</tr>
<tr>
<td>21</td>
<td>å°ç±³Mimo</td>
<td><a href="https://github.com/sdcb/chats/commit/026f1a4e" target="_blank" rel="noopener nofollow">2025-12-17</a></td>
<td>â</td>
</tr>
</tbody>
</table>
<p>æ³¨ï¼</p>
<ul>
<li>âä»£è¡¨æ¨¡åæä¾åä½¿ç¨äºåºäº Anthropic Messages API çå®ç°ï¼æåè®®æ¨æ­åºè¯¥æ¯æï¼ä½ç±äºæªåè¿ç«¯å°ç«¯æµè¯ï¼å æ­¤ä¸ç¡®å®æ¯å¦è½å®ç°å®æ´çäº¤éæèè½åââæç¸å½è¯å®ä¸è½ç®åå°è¯´âæ¯æâï¼å ä¸ºæäºæ¨¡åå¨å®ç°ä¸å¯è½ä¼æå·®å¼åã</li>
<li>è¿æä¸äºæ¨¡åæä¾ååºäº OpenAI Responses API å®ç°çï¼æ¯å¦æå¿åå¸ï¼çè®ºä¸åªè¦æ¯æ Responses API ä¹è½å®ç°äº¤éæèï¼ä½æè¿æ²¡æåè¿æµè¯ï¼å æ­¤ææ¶ä¸åå¥è¡¨æ ¼ã</li>
</ul>
<h3 id="2-ç¨æ·ä½éªå¤§åçº§">2. ç¨æ·ä½éªå¤§åçº§</h3>
<ul>
<li>
<p><strong>å·¥å·è°ç¨å±ç¤º</strong>ï¼ä¸ºäºéå Code Interpreterï¼æéåäºå·¥å·è°ç¨ç UIï¼<code>ToolCallBlock</code>ï¼ãç°å¨å¯ä»¥çå°å®æ¶çæ§å¶å°è¾åºæµï¼Log Streamï¼ï¼ä½éªå°±åèªå·±å¨çç»ç«¯ä¸æ ·ç½ã<br>
<img src="https://img2024.cnblogs.com/blog/233608/202601/233608-20260125102330184-33469646.avif" alt="" loading="lazy"></p>
</li>
<li>
<p><strong>ææ½ä¸ä¼ </strong>ï¼æ¯æç´æ¥ Ctrl+V ç²è´´æä»¶ï¼æèææ½æä»¶å°è¾å¥æ¡ã<br>
<img src="https://img2024.cnblogs.com/blog/233608/202601/233608-20260125102330573-196654545.png" alt="" loading="lazy"></p>
</li>
<li>
<p><strong>çæä¿¡æ¯ç»è®¡</strong>ï¼ç°å¨æ°æ³¡ä¸ä¼æ¾ç¤º Step æ°éãå¹³åèæ¶ç­æå®¢ä¿¡æ¯ï¼å¦ä¸å·²ç»ææªå¾ç¤ºä¾ï¼ã</p>
</li>
</ul>
<h2 id="å¹åè±çµ®">å¹åè±çµ®</h2>
<h3 id="é£ä¸ªè®©äººå¤´ç§ç-ef-core-bug">é£ä¸ªè®©äººå¤´ç§ç EF Core Bug</h3>
<p>å¼ååææä¸ä¸ªå¾ç¦äººç EF Core é®é¢ï¼è¡¨ç°æ¯ä¼è¯è¿½è¸ªçæ°æ®ææ¶åä¼è«åå¶å¦å°ç¶æä¸å¯¹ãå½æ¶æææ¥å¿ä¸¢ç» AI å¤§æ¨¡åï¼è®©å®å¸®æåæäºå¥½ä¹é½æ²¡è§£å³ï¼ç»åºçå»ºè®®é½å¨âéé´æçâã</p>
<p>åæ¥æ²¡åæ³ï¼æåªè½æ¿åºä¼ ç»çâè°è¯å¨å¤§æ³âï¼ä¸æ­¥ä¸æ­¥å°æ­ç¹è°è¯ï¼æåç°æ¯ EF Core å¨å¤çå¹¶åæ´æ°æ¶çç¶æè·è¸ªï¼Change Trackingï¼å¯¼è´äºæ°æ®æ±¡æãæç¶ï¼å³é®æ¶å»è¿æ¯å¾é äººç±»å·¥ç¨å¸çç´è§åç»éªåï¼ð</p>
<h3 id="ä¸ºä»ä¹è¿å°äº">ä¸ºä»ä¹è¿å°äºï¼</h3>
<p>1.10 å¶å®æ©å¨ <strong>2026-01-14</strong> å°±åå¸äºï¼ä¸ºä»ä¹ä»å¤©æ¯ 26 å·ææåæç« å®£ä¼ ï¼</p>
<p>ä¸æ¹é¢æ¯æèªå·±å¨è¿è¡é«å¼ºåº¦çâçç²®æµè¯âï¼Dogfoodingï¼ï¼ç¡®ä¿å¨è¿ä¸ª Docker æ²ç®±éè· rm -rf / ä¸ä¼ææçå®¿ä¸»æºç¸äºï¼å¼ç©ç¬çï¼æå®å¨éå¶ï¼ã</p>
<p>å¦ä¸æ¹é¢ï¼æè¡¥äºå¤§éçææ¡£ãæ°åè½çéç½®åæ°æ¯è¾å¤ï¼ä¸ºäºè®©å¤§å®¶è½é¡ºå©é¨ç½²ï¼æè±äºå å¤©æ¶é´éæ°æ¢³çäº <a href="https://github.com/sdcb/chats/blob/main/README.md" target="_blank" rel="noopener nofollow">README</a> å <a href="https://github.com/sdcb/chats/blob/main/doc/zh-CN/release-notes/1.10.0.md" target="_blank" rel="noopener nofollow">Release Note</a>ï¼å¤§å®¶é¨ç½²åä¸å®è¦å»ççã</p>
<hr>
<h2 id="ç»è¯­">ç»è¯­</h2>
<p>Chats 1.10 æ¯ä¸ä¸ªéç¨ç¢ï¼å®è®© Chats ä»ä¸ä¸ªåçº¯çâèå¤©çªå£âè¿åæäºä¸ä¸ªâçäº§åå·¥åºâãæéå¸¸æå¾çå°å¤§å®¶ç¨è¿ä¸ªåè½ç©åºä»ä¹è±æ ·ï¼</p>
<p>åæ¬¢çæåè¯·ç»æç GitHub é¡¹ç®ä¸ä¸ª starï¼<br>
ð <strong><a href="https://github.com/sdcb/chats" target="_blank" rel="noopener nofollow">https://github.com/sdcb/chats</a></strong></p>
<p>è¿æ¯å®æ´çæ´æ°æ¥å¿ï¼<br>
<a href="https://github.com/sdcb/chats/blob/main/doc/zh-CN/release-notes/README.md" target="_blank" rel="noopener nofollow">https://github.com/sdcb/chats/blob/main/doc/zh-CN/release-notes/README.md</a></p>
<p>æä»ä¹æ³æ³ä¹æ¬¢è¿å¨è¯è®ºåºçè¨äº¤æµï¼ä¹æ¬¢è¿å å¥æçæ°åå»ºçå¾®ä¿¡ç¾¤ï¼</p>
<p><img src="https://io.starworks.cc:88/cv-public/2026/chats-wxg-qr.png" alt="å¾®ä¿¡ç¾¤" loading="lazy"></p>
<p>å¦æä½ æ´ä¹ æ¯ç¨ QQ ç¾¤æèä¸é¢çå¾®ä¿¡ç¾¤é¾æ¥å¤±æçè¯ï¼ä¹å¯ä»¥å å¥ Chats QQ ç¾¤ï¼<strong>498452653</strong>ï¼æä»¬ä¸èµ·æ¢ç´¢æ´å¤ AI ææ¯ç¡¬æ ¸ç©æ³ã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-26 08:45">2026-01-26 08:45</span>&nbsp;
<a href="https://www.cnblogs.com/sdcb">.NETéªæä½</a>&nbsp;
éè¯»(<span id="post_view_count">675</span>)&nbsp;
è¯è®º(<span id="post_comment_count">5</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19528764);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19528764', targetLink: 'https://www.cnblogs.com/sdcb/p/19528764/chats-1-10', title: 'å¤å» ChatGPT é«çº§æ°æ®åæï¼Sdcb Chats 1.10 éç£åå¸ï¼è½åæExcelãåPPT' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ è¶è¯¦ç»ï¼OFA è§è§é®ç­ï¼VQAï¼æ¨¡åé¨ç½²æå­¦ï¼é¿åå®æ´çï¼ ]]></title>
    <link>https://www.cnblogs.com/ChenAI-TGF/p/19535960</link>
    <guid>b832d569e0c7933a584cc02328203b8a</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/ChenAI-TGF/p/19535960" title="åå¸äº 2026-01-27 01:04">
    <span role="heading" aria-level="2">è¶è¯¦ç»ï¼OFA è§è§é®ç­ï¼VQAï¼æ¨¡åé¨ç½²æå­¦ï¼é¿åå®æ´çï¼</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        æ¬æè¯¦ç»ä»ç»äºå¦ä½å¨Linuxç³»ç»ä¸é¨ç½²OFAè§è§é®ç­(VQA)æ¨¡åçå¨è¿ç¨ãä¸»è¦åå®¹åæ¬ï¼åå»ºPythonèæç¯å¢ãéç½®æ¸åPyPIæºãå®è£æå®çæ¬çæ ¸å¿ä¾èµ(transformers 4.48.3ç­)ãç¦ç¨ModelScopeèªå¨ä¾èµå®è£ä»¥é¿åçæ¬å²çªãåå¤æµè¯å¾çåè¿è¡èæ¬ãæç« ç¹å«å¼ºè°äºä¾èµçæ¬å¹éçéè¦æ§ï¼å¹¶æä¾äºç»è¿éªè¯ççæ¬ç»åæ¹æ¡ãåæ¶éå¯¹è¾å¥æ ¼å¼ééåå¾çå è½½æéç­å¸¸è§é®é¢ç»åºäºè§£å³æ¹æ¡ï¼éå¸¦å¯ç´æ¥è¿è¡çæµè¯èæ¬ï¼å¸®å©å¼åèå¿«éä¸æé¨ç½²è¿ä¸å¤æ¨¡æé¢è®­ç»æ¨¡åã
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="åè¨">åè¨</h1>
<p>å¤§å®¶å¥½ï½ æè¿å°è¯é¨ç½² OFA è§è§é®ç­ï¼VQAï¼æ¨¡åï¼è¿ç¨ä¸­è¸©äºæ æ°ä¸ªä¾èµçæ¬ãè¾å¥æ ¼å¼ãæéç¸å³çåï¼èæ¶å¾ä¹ææåè¿è¡å¹¶è¾åºæ­£ç¡®ç»æãä¸ºäºé¿åå¤§å®¶éå¤è¸©åï¼ä»å¤©æ´çäºä¸ä»½å®æ´ãå¯å¤ç°çé¨ç½²æå­¦ï¼ä»ç¯å¢åå¤å°èæ¬è¿è¡ï¼æ¯ä¸æ­¥é½æ æ¸ç»èï¼è¿éå°çåé½éå¸¦ã<strong>ç°è±¡+åå +è§£å³æ¹æ¡</strong>ãï¼æ°æä¹è½è½»æ¾ä¸æï¼</p>
<h1 id="ä¸åè¨ä»ä¹æ¯-ofa-vqa-æ¨¡å">ä¸ãåè¨ï¼ä»ä¹æ¯ OFA VQA æ¨¡åï¼</h1>
<p>OFAï¼One For Allï¼æ¯å­èè·³å¨æåºçå¤æ¨¡æé¢è®­ç»æ¨¡åï¼æ¯æè§è§é®ç­ãå¾åæè¿°ãå¾åç¼è¾ç­å¤ç§ä»»å¡ï¼å¶ä¸­è§è§é®ç­ï¼VQAï¼æ¯æå¸¸ç¨çåè½ä¹ä¸ââè¾å¥ä¸å¼ å¾çåä¸ä¸ªè±æé®é¢ï¼è¯¥æ¨¡åä»æ¯æè±æï¼ï¼æ¨¡åå°±è½è¾åºå¯¹åºçç­æ¡ï¼æ¯å¦è¾å¥âç¶å­âå¾ç+é®é¢âWhat is the main subject?âï¼è¾åºâa water bottleâï¼ã</p>
<p>æ¬æ¬¡é¨ç½²ä½¿ç¨ ModelScope å¹³å°ç <code>iic/ofa_visual-question-answering_pretrain_large_en</code> æ¨¡åï¼åºäº Python èæç¯å¢ï¼Minicondaï¼é¨ç½²ï¼å¨ç¨å¨ Linux ç¯å¢ä¸æä½ï¼Windows å¯åèï¼å½ä»¤ç¥æå·®å¼ï¼ã</p>
<h1 id="äºåç½®åå¤">äºãåç½®åå¤</h1>
<h2 id="1-ç¯å¢åºç¡">1. ç¯å¢åºç¡</h2>
<ul>
<li>
<p>ç³»ç»ï¼Linuxï¼Ubuntu/CentOS åå¯ï¼æ¬æ¬¡ç¨ Ubuntuï¼</p>
</li>
<li>
<p>å·¥å·ï¼Minicondaï¼ç¨äºåå»ºç¬ç«èæç¯å¢ï¼é¿åç¯å¢æ±¡æï¼</p>
</li>
<li>
<p>Python çæ¬ï¼3.11ï¼äº²æµå¼å®¹ï¼3.9-3.11 åå¯ï¼ä¸å»ºè®® 3.12+ï¼é¨åä¾èµä¸æ¯æï¼</p>
</li>
<li>
<p>ç½ç»ï¼è½è®¿é® ModelScopeãPyPI æºï¼å»ºè®®æ¢æ¸åæºï¼æéï¼</p>
</li>
</ul>
<h2 id="2-æåè¯´æ">2. æåè¯´æ</h2>
<p>æ¬æ¬¡é¨ç½²çæ ¸å¿é¾ç¹çæ¯ãä¾èµçæ¬å¹éãââModelScope å¹³å°ç OFA æ¨¡åä¼ç¡¬ç¼ç ä¾èµçæ¬ï¼è¿è¡æ¶ä¼èªå¨å¸è½½ä½ å®è£ççæ¬å¹¶å¼ºå¶å®è£æå®çæ¬ï¼å¾å®¹æå¯¼è´çæ¬å²çªï¼å¶æ¬¡æ¯ãè¾å¥æ ¼å¼ééãåãå¾çå è½½æéãé®é¢ï¼è¿ä¸¤ä¸ªåä¹å¾å®¹æå¡å£³ï¼åé¢ä¼è¯¦ç»è¯´æã</p>
<h1 id="ä¸å®æ´é¨ç½²æ­¥éª¤ä¸æ­¥é½ä¸è½å°">ä¸ãå®æ´é¨ç½²æ­¥éª¤ï¼ä¸æ­¥é½ä¸è½å°ï¼</h1>
<h2 id="æ­¥éª¤-1åå»ºå¹¶æ¿æ´»èæç¯å¢å³é®é¿åç¯å¢æ±¡æ">æ­¥éª¤ 1ï¼åå»ºå¹¶æ¿æ´»èæç¯å¢ï¼å³é®ï¼é¿åç¯å¢æ±¡æï¼</h2>
<p>ä¸ºä»ä¹è¦åå»ºèæç¯å¢ï¼å ä¸ºä¸åæ¨¡åçä¾èµçæ¬å·®å¼å¾å¤§ï¼æ¯å¦æ¬æ¬¡ OFA æ¨¡åå¯¹ transformersãtokenizers ççæ¬è¦æ±å¾ä¸¥æ ¼ï¼åå¶ä»æ¨¡åå¯è½å²çªï¼ç¬ç«èæç¯å¢è½éç¦»è¿äºå·®å¼ã</p>
<p>æå¼ç»ç«¯ï¼æ§è¡ä»¥ä¸å½ä»¤ï¼å¨ç¨å¤å¶å³å¯ï¼ï¼</p>
<pre><code class="language-bash">
# 1. æ¿æ´» Minicondaï¼å¦ææ²¡éç½®ç¯å¢åéï¼åæ§è¡è¿ä¸ªï¼å·ä½è·¯å¾æ ¹æ®èªå·±ç Miniconda å®è£ä½ç½®ä¿®æ¹ï¼
source /opt/miniconda3/bin/activate

# 2. åå»ºèæç¯å¢ï¼ç¯å¢åï¼torch27ï¼Python çæ¬ 3.11ï¼å¯èªå®ä¹ç¯å¢åï¼
conda create -n torch27 python=3.11 -y

# 3. æ¿æ´»åå»ºå¥½çèæç¯å¢ï¼åç»­æææä½é½è¦å¨è¿ä¸ªç¯å¢éæ§è¡ï¼
conda activate torch27
</code></pre>
<p>æ§è¡æååï¼ç»ç«¯åç¼ä¼æ¾ç¤º <code>(torch27)</code>ï¼è¯´æå·²ç»è¿å¥èæç¯å¢ã</p>
<h2 id="æ­¥éª¤-2éç½®æ¸å-pypi-æºæéé¿åä¸è½½ä¾èµè¶æ¶">æ­¥éª¤ 2ï¼éç½®æ¸å PyPI æºï¼æéï¼é¿åä¸è½½ä¾èµè¶æ¶ï¼</h2>
<p>é»è®¤ PyPI æºå¨å½å¤ï¼ä¸è½½ä¾èµå¾æ¢ï¼çè³ä¼è¶æ¶ï¼å»ºè®®éç½®æ¸åæºï¼æ§è¡ä»¥ä¸å½ä»¤ï¼</p>
<pre><code class="language-bash">
pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
</code></pre>
<p>éç½®æååï¼åç»­ç¨ pip å®è£ä¾èµä¼èªå¨èµ°æ¸åæºï¼éåº¦ç¿»åã</p>
<h2 id="æ­¥éª¤-3åå»ºå·¥ä½ç®å½ä¸è½½æ¨¡åç¸å³æä»¶">æ­¥éª¤ 3ï¼åå»ºå·¥ä½ç®å½ï¼ä¸è½½æ¨¡åç¸å³æä»¶</h2>
<p>åå»ºä¸ä¸ªåç¬çå·¥ä½ç®å½ï¼ç¨äºå­æ¾èæ¬ãå¾çç­æä»¶ï¼é¿åæä»¶æ··ä¹±ï¼</p>
<pre><code class="language-bash">
# 1. åå»ºå·¥ä½ç®å½ï¼è·¯å¾å¯èªå®ä¹ï¼æ¬æ¬¡ç¨ /root/workspace/ofa_visual-question-answeringï¼
mkdir -p /root/workspace/ofa_visual-question-answering

# 2. è¿å¥å·¥ä½ç®å½ï¼åç»­æææä½é½å¨è¿ä¸ªç®å½ä¸ï¼
cd /root/workspace/ofa_visual-question-answering
</code></pre>
<h2 id="æ­¥éª¤-4å®è£æ ¸å¿ä¾èµéç¹çæ¬å¿é¡»å®å¨å¹é">æ­¥éª¤ 4ï¼å®è£æ ¸å¿ä¾èµï¼éç¹ï¼çæ¬å¿é¡»å®å¨å¹éï¼</h2>
<p>è¿æ¯é¨ç½²è¿ç¨ä¸­æå®¹æè¸©åçä¸æ­¥ï¼OFA æ¨¡åå¯¹ä¾èµçæ¬è¦æ±æé«ï¼å°¤å¶æ¯ transformersãtokenizersãhuggingface-hub è¿ä¸ä¸ªåºï¼çæ¬ä¸å¹éä¼ç´æ¥å¯¼è´æ¨¡åæ æ³åå§åï¼çè³æ¥éã</p>
<p>åç»å¤§å®¶ä¸ãæç»å¯ç¨çä¾èµçæ¬ç»åãï¼äº²æµå¯å¤ç°ï¼é¿åè¸©åï¼ï¼</p>
<ul>
<li>
<p>tensorboardX==2.6.4ï¼æ¨¡åæ¥å¿ç¸å³ï¼çæ¬å¯å¼å®¹ï¼</p>
</li>
<li>
<p>huggingface-hub==0.25.2ï¼ModelScope ç¡¬ç¼ç è¦æ±ï¼ä¸è½é«ä¹ä¸è½ä½ï¼</p>
</li>
<li>
<p>transformers==4.48.3ï¼ModelScope ç¡¬ç¼ç è¦æ±ï¼å¯¹åº tokenizers 0.21.4ï¼</p>
</li>
<li>
<p>tokenizers==0.21.4ï¼å¿é¡»å transformers 4.48.3 å¹éï¼å¦åæ¥éï¼</p>
</li>
<li>
<p>modelscopeï¼æ¨¡åå è½½å¹³å°ï¼ç´æ¥å®è£ææ°çå³å¯ï¼</p>
</li>
<li>
<p>Pillowãrequestsï¼å¾çå è½½ç¸å³ï¼å¿å¤ï¼</p>
</li>
</ul>
<p>æ§è¡ä»¥ä¸å½ä»¤ï¼ä¸æ¬¡æ§å®è£ææä¾èµï¼é¡ºåºä¸è¦ä¹±ï¼é¿åçæ¬å²çªï¼ï¼</p>
<pre><code class="language-bash">
# 1. åå®è£ tensorboardXï¼æ çæ¬å²çªï¼æ¾å¿è£ï¼
pip install tensorboardX==2.6.4

# 2. å®è£ ModelScope ç¡¬ç¼ç è¦æ±çæ ¸å¿ä¾èµï¼éç¹ï¼çæ¬ä¸è½æ¹ï¼
pip install huggingface-hub==0.25.2 tokenizers==0.21.4 transformers==4.48.3

# 3. å®è£ modelscopeï¼ææ°çå³å¯ï¼è´è´£å è½½ OFA æ¨¡åï¼
pip install modelscope

# 4. å®è£å¾çå è½½ç¸å³ä¾èµï¼Pillow å¤çæ¬å°å¾çï¼requests å¤çå¨çº¿å¾çï¼
pip install Pillow requests
</code></pre>
<p>å®è£è¿ç¨ä¸­å¦æåºç°ãWARNING: Running pip as the 'root' userãè­¦åï¼å¯å¿½ç¥ï¼ä¸å½±ååè½ï¼è¿æ¯æç¤ºç¨ root ç¨æ·è¿è¡ pip å¯è½ææéé®é¢ï¼ä½ä¸å½±åæ¨¡åé¨ç½²ï¼ã</p>
<p>å®è£å®æåï¼éªè¯ä¸ä¸çæ¬æ¯å¦æ­£ç¡®ï¼é¿åå®è£åºéï¼ï¼</p>
<pre><code class="language-bash">
python -c "import transformers, tokenizers, huggingface_hub; print(f'transformers: {transformers.__version__}'); print(f'tokenizers: {tokenizers.__version__}'); print(f'huggingface-hub: {huggingface_hub.__version__}')"
</code></pre>
<p>æ­£å¸¸è¾åºå¦ä¸ï¼çæ¬å¿é¡»å®å¨ä¸è´ï¼ï¼</p>
<pre><code class="language-bash">
transformers: 4.48.3
tokenizers: 0.21.4
huggingface-hub: 0.25.2
</code></pre>
<p>å¦æè¾åºççæ¬ä¸ä¸è´ï¼éæ°æ§è¡æ­¥éª¤ 4 çå®è£å½ä»¤ï¼ç¡®ä¿çæ¬æ­£ç¡®ã</p>
<h2 id="æ­¥éª¤-5ç¦ç¨-modelscope-èªå¨ä¾èµå®è£æ ¸å¿é¿åæä½">æ­¥éª¤ 5ï¼ç¦ç¨ ModelScope èªå¨ä¾èµå®è£ï¼æ ¸å¿é¿åæä½ï¼</h2>
<p>è¿æ¯æå³é®çé¿åæ­¥éª¤ï¼ModelScope å è½½ OFA æ¨¡åæ¶ï¼ä¼èªå¨æ£æ¥ä¾èµçæ¬ï¼å¦æåç°çæ¬åå®ç¡¬ç¼ç çè¦æ±ä¸ä¸è´ï¼ä¼ç´æ¥å¸è½½ä½ ççæ¬å¹¶å¼ºå¶å®è£æå®çæ¬ââåªæä½ å·²ç»å®è£äºæ­£ç¡®ççæ¬ï¼ä¹ä¼è¢«è¦çï¼å¯¼è´ä¹åçåªåç½è´¹ã</p>
<p>æä»¥ï¼æä»¬éè¦è®¾ç½®ç¯å¢åéï¼ç¦ç¨ ModelScope èªå¨å®è£/åçº§ä¾èµï¼æ§è¡ä»¥ä¸å½ä»¤ï¼</p>
<pre><code class="language-bash">
# ç¦ç¨ ModelScope èªå¨å®è£ä¾èµï¼ä¸´æ¶çæï¼ä»å½åç»ç«¯ä¼è¯ï¼
export MODELSCOPE_AUTO_INSTALL_DEPENDENCY='False'
export PIP_NO_INSTALL_UPGRADE=1
export PIP_NO_DEPENDENCIES=1
</code></pre>
<p>â ï¸ æ³¨æï¼å¦æåç»­æ°å¼ç»ç«¯ãéæ°æ¿æ´»èæç¯å¢ï¼éè¦éæ°æ§è¡ä¸é¢çå½ä»¤ï¼ä¸´æ¶çæï¼ï¼å¦ææ³æ°¸ä¹çæï¼æ§è¡ä»¥ä¸å½ä»¤ï¼åå¥ bash éç½®æä»¶ï¼ï¼</p>
<pre><code class="language-bash">
# æ°¸ä¹ç¦ç¨èªå¨ä¾èµå®è£ï¼éå¯ç»ç«¯ãéæ°æ¿æ´»ç¯å¢ä¹çæï¼
echo "export MODELSCOPE_AUTO_INSTALL_DEPENDENCY='False'" &gt;&gt; ~/.bashrc
echo "export PIP_NO_INSTALL_UPGRADE=1" &gt;&gt; ~/.bashrc
echo "export PIP_NO_DEPENDENCIES=1" &gt;&gt; ~/.bashrc

# ä½¿éç½®çæ
source ~/.bashrc
</code></pre>
<h2 id="æ­¥éª¤-6åå¤æµè¯å¾çåè¿è¡èæ¬ç´è§çæ°æåå¥½">æ­¥éª¤ 6ï¼åå¤æµè¯å¾çåè¿è¡èæ¬ï¼ç´è§çï¼æ°æåå¥½ï¼</h2>
<p>èæ¬æ¯æ ¸å¿ï¼ä¹åè¸©è¿ãè¾å¥æ ¼å¼éè¯¯ãçåï¼æä»¥è¿éç´æ¥ç»å¤§å®¶æ´çå¥½ãå¯ç´æ¥è¿è¡ãè¾åºç®æ´ãå®¹éæ§å¼ºãçèæ¬ï¼åªéä¿®æ¹å¾çè·¯å¾åé®é¢å³å¯ã</p>
<h3 id="61-åå¤æµè¯å¾ç">6.1 åå¤æµè¯å¾ç</h3>
<p>å°ä»»æä¸å¼ æµè¯å¾çï¼jpg/png æ ¼å¼åå¯ï¼æ¾å°å·¥ä½ç®å½ä¸ï¼å½åä¸º <code>test_image.jpg</code>ï¼æ¯å¦ä¸å¼ ç¶å­ãç«ãé£æ¯çå¾çï¼ï¼å¦ææ²¡ææ¬å°å¾çï¼ä¹å¯ä»¥ç¨å¨çº¿å¬å¼å¾ç URLï¼èæ¬å·²å¼å®¹ï¼ã</p>
<h3 id="62-åå»ºè¿è¡èæ¬testpy">6.2 åå»ºè¿è¡èæ¬ï¼test.pyï¼</h3>
<p>å¨å·¥ä½ç®å½ä¸åå»º <code>test.py</code> èæ¬ï¼å¤å¶ä»¥ä¸ä»£ç ï¼æ³¨éæ¸æ°ï¼å¯ç´æ¥ä¿®æ¹ï¼ï¼</p>
<pre><code class="language-python">
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
OFA è§è§é®ç­ï¼VQAï¼æ¨¡å è¿è¡èæ¬ï¼ç´è§çï¼æ°æåå¥½ï¼
åè½ï¼è¾å¥æ¬å°å¾ç/å¨çº¿å¾ç + è±æé®é¢ï¼è¾åºæ¨¡åæ¨çç»æ
ä½¿ç¨è¯´æï¼åªéä¿®æ¹ãæ ¸å¿éç½®åºãçå¾çè·¯å¾åé®é¢ï¼æ éä¿®æ¹å¶ä»ä»£ç 
"""
import os
import sys
from PIL import Image
import requests
from io import BytesIO
from modelscope.pipelines import pipeline
from modelscope.utils.constant import Tasks

# ======================== æ ¸å¿éç½®åºï¼åªéæ¹è¿éï¼æ°æéç¹å³æ³¨ï¼========================
# 1. å¾çæ¥æºï¼äºéä¸ï¼æ¬å°è·¯å¾ä¼åçº§æ´é«ï¼æ¨èç¨æ¬å°å¾çï¼
LOCAL_IMAGE_PATH = "./test_image.jpg"  # æ¬å°å¾çè·¯å¾ï¼å·¥ä½ç®å½ä¸çå¾çï¼å¦ï¼./cat.jpgã./bottle.pngï¼
# ONLINE_IMAGE_URL = "https://picsum.photos/600/400"  # å¤ç¨ï¼å¬å¼æµè¯å¾çURLï¼æ éä¸è½½ï¼ç´æ¥å è½½ï¼

# 2. é®ç­é®é¢ï¼â ï¸ æ³¨æï¼è¯¥æ¨¡åä»æ¯æè±ææé®ï¼ä¸­æé®é¢ä¼è¾åºæ æä¹ç»æï¼
VQA_QUESTION = "What is the main subject in the picture?"  # ç¤ºä¾1ï¼å¾ççä¸»è¦ç©ä½æ¯ä»ä¹ï¼
# VQA_QUESTION = "What color is the object?"  # ç¤ºä¾2ï¼ç©ä½æ¯ä»ä¹é¢è²ï¼
# VQA_QUESTION = "How many objects are there in the picture?"  # ç¤ºä¾3ï¼å¾çä¸­æå¤å°ä¸ªç©ä½ï¼

# ======================== å·¥å·å½æ°ï¼æ éä¿®æ¹ï¼å°è£å¥½çåè½ï¼========================
def check_image_exists(path):
    """æ£æ¥æ¬å°å¾çæ¯å¦å­å¨ï¼é¿åè·¯å¾éè¯¯å¯¼è´å è½½å¤±è´¥"""
    if not os.path.exists(path):
        print(f"â éè¯¯ï¼æ¬å°å¾çæä»¶ä¸å­å¨ â {path}")
        print("è¯·æ£æ¥å¾çè·¯å¾æ¯å¦æ­£ç¡®ï¼ææ¿æ¢ä¸ºææçå¾çæä»¶ï¼")
        sys.exit(1)

def load_image(image_source):
    """å è½½å¾çï¼å¼å®¹æ¬å°è·¯å¾åå¨çº¿URLï¼ï¼è¿åPIL.Imageå¯¹è±¡ï¼æ¨¡åè¦æ±çè¾å¥æ ¼å¼ï¼"""
    try:
        # ä¼åå è½½æ¬å°å¾ç
        if os.path.exists(image_source):
            check_image_exists(image_source)
            img = Image.open(image_source).convert('RGB')  # è½¬ä¸ºRGBæ ¼å¼ï¼é¿åç°åº¦å¾æ¥é
            print(f"â æåå è½½æ¬å°å¾ç â {image_source}")
        # å è½½å¨çº¿å¾çï¼å¤ç¨ï¼é¿åæ¬å°å¾çç¼ºå¤±ï¼
        elif image_source.startswith(('http://', 'https://')):
            response = requests.get(image_source, timeout=10)  # è¶æ¶æ¶é´10ç§
            response.raise_for_status()  # æ£æ¥URLæ¯å¦å¯è®¿é®ï¼é¿å403/404éè¯¯ï¼
            img = Image.open(BytesIO(response.content)).convert('RGB')
            print(f"â æåå è½½å¨çº¿å¾ç â {image_source}")
        else:
            raise ValueError("â å¾çæ¥æºéè¯¯ï¼å¿é¡»æ¯æ¬å°è·¯å¾æåæ³çHTTP/HTTPS URLï¼")
        return img
    except Exception as e:
        print(f"â å¾çå è½½å¤±è´¥ï¼{str(e)}")
        sys.exit(1)

def init_vqa_model():
    """åå§åOFA VQAæ¨¡åç®¡éï¼æ ¸å¿å½æ°ï¼æ éä¿®æ¹ï¼"""
    try:
        # åæ¬¡ç¡®è®¤ç¦ç¨èªå¨ä¾èµå®è£ï¼åéä¿é©ï¼é¿åç¯å¢åéå¤±æï¼
        os.environ['MODELSCOPE_AUTO_INSTALL_DEPENDENCY'] = 'False'
        os.environ['PIP_NO_INSTALL_UPGRADE'] = '1'
        
        # åå»ºVQAæ¨¡åç®¡éï¼â ï¸ trust_remote_code=Trueå¿é¡»å ï¼ééOFAæ¨¡åçèªå®ä¹é»è¾ï¼
        vqa_pipe = pipeline(
            task=Tasks.visual_question_answering,  # ä»»å¡ç±»åï¼è§è§é®ç­
            model='iic/ofa_visual-question-answering_pretrain_large_en',  # æ¨¡ååç§°
            model_revision='v1.0.0',  # æ¨¡åçæ¬ï¼åºå®v1.0.0ï¼é¿åçæ¬å¼å®¹é®é¢ï¼
            trust_remote_code=True  # å³é®åæ°ï¼åè®¸å è½½æ¨¡åçèªå®ä¹ä»£ç 
        )
        print("â OFA VQAæ¨¡ååå§åæåï¼ï¼é¦æ¬¡è¿è¡ä¼èªå¨ä¸è½½æ¨¡åï¼èæ¶ç¨é¿ï¼èå¿ç­å¾ï¼")
        return vqa_pipe
    except Exception as e:
        print(f"â æ¨¡ååå§åå¤±è´¥ï¼{str(e)}")
        sys.exit(1)

# ======================== ä¸»é»è¾ï¼æ éä¿®æ¹ï¼æ§è¡æ¨çï¼========================
if __name__ == "__main__":
    # æå°æ é¢ï¼ç´è§åºåè¾åº
    print("="*60)
    print("ð¸ OFA è§è§é®ç­ï¼VQAï¼æ¨¡å - è¿è¡å·¥å·")
    print("="*60)
    
    # 1. åå§åOFA VQAæ¨¡åï¼é¦æ¬¡è¿è¡ä¼èªå¨ä¸è½½æ¨¡åï¼çº¦å ç¾MBï¼èå¿ç­å¾ï¼
    vqa_model = init_vqa_model()
    
    # 2. ç¡®å®å¾çæ¥æºï¼ä¼åæ¬å°ï¼æ¬å°ä¸å­å¨åç¨å¨çº¿URLï¼
    image_source = LOCAL_IMAGE_PATH if os.path.exists(LOCAL_IMAGE_PATH) else globals().get("ONLINE_IMAGE_URL", "")
    if not image_source:
        print("â éè¯¯ï¼æªéç½®ææçå¾çæ¥æºï¼è¯·ä¿®æ¹ãæ ¸å¿éç½®åºãçå¾çè·¯å¾/URL")
        sys.exit(1)
    
    # 3. å è½½å¾çï¼è½¬ä¸ºæ¨¡åè¦æ±çPIL.Imageå¯¹è±¡ï¼
    img = load_image(image_source)
    
    # 4. æ§è¡æ¨¡åæ¨çï¼æ ¸å¿æ­¥éª¤ï¼
    print(f"\nð¤ æé®ï¼{VQA_QUESTION}")
    print("ð æ¨¡åæ¨çä¸­...ï¼æ¨çéåº¦åå³äºçµèéç½®ï¼çº¦1-5ç§ï¼")
    try:
        # æ¨¡åè¾å¥æ ¼å¼ï¼(PIL.Imageå¯¹è±¡, è±æé®é¢ææ¬) â åç»æ ¼å¼ï¼éç¹ï¼ä¸è½ç¨å­å¸ï¼
        result = vqa_model((img, VQA_QUESTION))
        
        # ç®åè¾åºï¼åªæåæ ¸å¿ç­æ¡ï¼å»æåä½ä¿¡æ¯ï¼æ°ææ´ç´è§ï¼
        answer = result.get("text", ["No answer found"])[0]  # æåæç½®ä¿¡çç¬¬ä¸ä¸ªç­æ¡
        print("\n" + "="*60)
        print(f"â æ¨çæåï¼")
        print(f"ð· å¾çï¼{image_source}")
        print(f"ð¤ é®é¢ï¼{VQA_QUESTION}")
        print(f"â ç­æ¡ï¼{answer}")
        print("="*60)
        
    except Exception as e:
        print(f"\nâ æ¨çå¤±è´¥ï¼{type(e).__name__} - {str(e)}")
        sys.exit(1)
</code></pre>
<h2 id="æ­¥éª¤-7è¿è¡èæ¬æ¥çæ¨çç»æ">æ­¥éª¤ 7ï¼è¿è¡èæ¬ï¼æ¥çæ¨çç»æ</h2>
<p>ææåå¤å·¥ä½å®æåï¼æ§è¡ä»¥ä¸å½ä»¤è¿è¡èæ¬ï¼</p>
<pre><code class="language-bash">
python test.py
</code></pre>
<p>â ï¸ æ³¨æï¼é¦æ¬¡è¿è¡èæ¬æ¶ï¼æ¨¡åä¼èªå¨ä» ModelScope ä¸è½½ï¼çº¦å ç¾MBï¼ï¼èæ¶ç¨é¿ï¼èå¿ç­å¾å³å¯ï¼åç»­è¿è¡ä¼å¤ç¨å·²ä¸è½½çæ¨¡åï¼éåº¦ä¼å¾å¿«ã</p>
<p>è¿è¡æååï¼è¾åºå¦ä¸ï¼ç´è§ç®æ´ï¼æ°æè½å¿«éçå°ç»æï¼ï¼</p>
<pre><code class="language-bash">
============================================================
ð¸ OFA è§è§é®ç­ï¼VQAï¼æ¨¡å - è¿è¡å·¥å·
============================================================
â OFA VQAæ¨¡ååå§åæåï¼ï¼é¦æ¬¡è¿è¡ä¼èªå¨ä¸è½½æ¨¡åï¼èæ¶ç¨é¿ï¼èå¿ç­å¾ï¼
â æåå è½½æ¬å°å¾ç â ./test_image.jpg

ð¤ æé®ï¼What is the main subject in the picture?
ð æ¨¡åæ¨çä¸­...ï¼æ¨çéåº¦åå³äºçµèéç½®ï¼çº¦1-5ç§ï¼

============================================================
â æ¨çæåï¼
ð· å¾çï¼./test_image.jpg
ð¤ é®é¢ï¼What is the main subject in the picture?
â ç­æ¡ï¼a water bottle
============================================================
</code></pre>
<p><img alt="å¨è¿éæå¥å¾çæè¿°" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3724025/202601/3724025-20260127010413598-747392058.png" class="lazyload"></p>
<p>å°è¿éï¼OFA è§è§é®ç­æ¨¡åå°±é¨ç½²æåå¹¶è¿è¡å¦ï¼</p>
<h1 id="åé¨ç½²è¿ç¨ä¸­éå°çææåç°è±¡åå è§£å³æ¹æ¡">åãé¨ç½²è¿ç¨ä¸­éå°çææåï¼ç°è±¡+åå +è§£å³æ¹æ¡ï¼</h1>
<p>è¿é¨åæ¯éç¹ï¼ææé¨ç½²è¿ç¨ä¸­è¸©è¿çææåé½æ´çåºæ¥ï¼æ¯ä¸ªåé½å¯¹åºãç°è±¡+åå +è§£å³æ¹æ¡ãï¼å¤§å®¶éå°ç¸åé®é¢æ¶ï¼ç´æ¥å¯¹ç§è§£å³å³å¯ï¼èçæ¶é´ã</p>
<h2 id="å1ä¾èµçæ¬å²çªæå¸¸è§è¸©äº3æ¬¡">å1ï¼ä¾èµçæ¬å²çªï¼æå¸¸è§ï¼è¸©äº3æ¬¡ï¼</h2>
<h3 id="ç°è±¡1importerror-tokenizers020021-is-required">ç°è±¡1ï¼ImportError: tokenizers&gt;=0.20,&lt;0.21 is required...</h3>
<pre><code class="language-bash">
ImportError: tokenizers&gt;=0.20,&lt;0.21 is required for a normal functioning of this module, but found tokenizers==0.19.1.
</code></pre>
<p>åå ï¼transformers çæ¬å tokenizers çæ¬ä¸å¹éï¼æ¯å¦ transformers 4.46.1 è¦æ± tokenizers 0.20.xï¼èå®è£äº 0.19.1ï¼ã</p>
<p>è§£å³æ¹æ¡ï¼å¸è½½å½å tokenizersï¼å®è£å¯¹åºçæ¬ï¼æ¯å¦ transformers 4.46.1 â tokenizers 0.20.1ï¼transformers 4.48.3 â tokenizers 0.21.4ï¼ï¼å½ä»¤ï¼</p>
<pre><code class="language-bash">
pip uninstall -y tokenizers
pip install tokenizers==0.21.4  # å¯¹åºtransformers 4.48.3
</code></pre>
<h3 id="ç°è±¡2importerror-cannot-import-name-gguf_config_mapping-from-transformersintegrations">ç°è±¡2ï¼ImportError: cannot import name 'GGUF_CONFIG_MAPPING' from 'transformers.integrations'</h3>
<pre><code class="language-bash">
ImportError: OfaForAllTasks: cannot import name 'GGUF_CONFIG_MAPPING' from 'transformers.integrations'
</code></pre>
<p>åå ï¼transformers çæ¬è¿ä½ï¼æ¯å¦ 4.38.2ï¼ï¼è¯¥çæ¬ç integrations æ¨¡åä¸­æ²¡æå¯¼åº GGUF_CONFIG_MAPPINGï¼èæ¨¡åä»£ç å¼ç¨äºè¿ä¸ªåéã</p>
<p>è§£å³æ¹æ¡ï¼å®è£ transformers 4.48.3ï¼ModelScope ç¡¬ç¼ç è¦æ±ï¼å¼å®¹ GGUF_CONFIG_MAPPINGï¼ï¼å½ä»¤ï¼</p>
<pre><code class="language-bash">
pip uninstall -y transformers
pip install transformers==4.48.3
</code></pre>
<h3 id="ç°è±¡3è¿è¡èæ¬æ¶ä¾èµè¢«èªå¨å¸è½½å¹¶éæ°å®è£">ç°è±¡3ï¼è¿è¡èæ¬æ¶ï¼ä¾èµè¢«èªå¨å¸è½½å¹¶éæ°å®è£</h3>
<p>åå ï¼æ²¡æç¦ç¨ ModelScope èªå¨ä¾èµå®è£ï¼ModelScope æ£æµå°ä¾èµçæ¬åå®ç¡¬ç¼ç çè¦æ±ä¸ä¸è´ï¼ä¼èªå¨å¸è½½ä½ ççæ¬å¹¶å¼ºå¶å®è£æå®çæ¬ã</p>
<p>è§£å³æ¹æ¡ï¼è®¾ç½®ç¯å¢åéï¼ç¦ç¨èªå¨ä¾èµå®è£ï¼åèæ­¥éª¤ 5ï¼ï¼ä¸´æ¶çæææ°¸ä¹çæåå¯ã</p>
<h2 id="å2å¾çå è½½å¤±è´¥403-forbidden-éè¯¯">å2ï¼å¾çå è½½å¤±è´¥ï¼403 Forbidden éè¯¯ï¼</h2>
<h3 id="ç°è±¡requestsexceptionshttperror-403-client-error-forbidden-for-url-">ç°è±¡ï¼requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: ...</h3>
<pre><code class="language-bash">
requests.exceptions.HTTPError: 403 Client Error: Forbidden for url: http://modelscope-open.oss-cn-hangzhou.aliyuncs.com/test/images/visual_question_answering.png
</code></pre>
<p>åå ï¼ä½¿ç¨äº ModelScope å®æ¹çæµè¯å¾ç URLï¼è¯¥ URL æéåæ´æå¤±æï¼æ æ³è®¿é®ï¼403 æéæç»ï¼ã</p>
<p>è§£å³æ¹æ¡ï¼æ¿æ¢ä¸ºæ¬å°å¾çæå¬å¼å¯è®¿é®çå¨çº¿å¾ç URLï¼èæ¬å·²å¼å®¹ä¸¤ç§å¾çæ¥æºï¼åèæ­¥éª¤ 6.1 å 6.2ï¼ã</p>
<h2 id="å3è¾å¥æ ¼å¼éè¯¯text-ç¸å³éè¯¯">å3ï¼è¾å¥æ ¼å¼éè¯¯ï¼'text' ç¸å³éè¯¯ï¼</h2>
<h3 id="ç°è±¡è¿è¡åºétext-æ-keyerror-text">ç°è±¡ï¼è¿è¡åºéï¼'text' æ KeyError: 'text'</h3>
<p>åå ï¼æ¨¡åè¾å¥æ ¼å¼ä¸ç¬¦åè¦æ±ï¼OFA VQA æ¨¡åè¦æ±è¾å¥ä¸ºã(PIL.Imageå¯¹è±¡, è±æé®é¢ææ¬)ãçåç»æ ¼å¼ï¼èä¸æ¯å­å¸ï¼æ¯å¦ {'image': ..., 'question': ...}ï¼ã</p>
<p>è§£å³æ¹æ¡ï¼æç§èæ¬ä¸­çæ ¼å¼ï¼å°è¾å¥æ¹ä¸ºåç»ï¼PIL.Imageå¯¹è±¡ + é®é¢ææ¬ï¼ï¼èæ¬å·²å°è£å¥½è¯¥é»è¾ï¼æ éæå¨ä¿®æ¹ï¼åèæ­¥éª¤ 6.2 ä¸­çä¸»é»è¾é¨åï¼ã</p>
<h2 id="å4æ¨¡ååå§åå¤±è´¥ç¼ºå°-trust_remote_codetrue">å4ï¼æ¨¡ååå§åå¤±è´¥ï¼ç¼ºå° trust_remote_code=Trueï¼</h2>
<h3 id="ç°è±¡æ¨¡ååå§åæ¶æ¥éæ æ³å è½½èªå®ä¹ä»£ç ææ¨¡åç»æä¸å¹é">ç°è±¡ï¼æ¨¡ååå§åæ¶ï¼æ¥éâæ æ³å è½½èªå®ä¹ä»£ç âæâæ¨¡åç»æä¸å¹éâ</h3>
<p>åå ï¼OFA æ¨¡åæèªå®ä¹çé¢å¤çåæ¨çé»è¾ï¼åå»º pipeline æ¶æ²¡ææ·»å  trust_remote_code=True åæ°ï¼æ æ³å è½½è¿äºèªå®ä¹ä»£ç ã</p>
<p>è§£å³æ¹æ¡ï¼åå»º pipeline æ¶ï¼æ·»å  trust_remote_code=True åæ°ï¼åèæ­¥éª¤ 6.2 ä¸­ç init_vqa_model å½æ°ï¼ã</p>
<h2 id="å5è­¦åä¿¡æ¯å¹²æ°ééè¯¯å¯å¿½ç¥">å5ï¼è­¦åä¿¡æ¯å¹²æ°ï¼ééè¯¯ï¼å¯å¿½ç¥ï¼</h2>
<h3 id="ç°è±¡è¿è¡èæ¬æ¶åºç°ä»¥ä¸è­¦åä¿¡æ¯">ç°è±¡ï¼è¿è¡èæ¬æ¶ï¼åºç°ä»¥ä¸è­¦åä¿¡æ¯</h3>
<pre><code class="language-bash">
# è­¦å1ï¼pkg_resources å¼ç¨è­¦å
UserWarning: pkg_resources is deprecated as an API. See ...

# è­¦å2ï¼TRANSFORMERS_CACHE å¼ç¨è­¦å
FutureWarning: Using `TRANSFORMERS_CACHE` is deprecated and will be removed in v5 of Transformers.

# è­¦å3ï¼TensorFlow ç¸å³è­¦åï¼cuDNNãcuFFT ç­ï¼
E external/local_xla/xla/stream_executor/cuda/cuda_dnn.cc:9261] Unable to register cuDNN factory: ...
</code></pre>
<p>åå ï¼è¿äºé½æ¯éåè½æ§è­¦åï¼ä¸å½±åæ¨¡åè¿è¡ââpkg_resources å¼ç¨æ¯ ModelScope çä¾èµé®é¢ï¼TRANSFORMERS_CACHE å¼ç¨æ¯ transformers ççæ¬æç¤ºï¼TensorFlow è­¦åæ¯ç¼ºå°ç¸å³æä»¶ï¼ä¸å½±å CPU æ¨çï¼ã</p>
<p>è§£å³æ¹æ¡ï¼ç´æ¥å¿½ç¥ï¼æ éå¤çï¼ä¸å½±åæ¨¡åçæ¨çåè½ã</p>
<h1 id="äºæ»ç»ä¸åç»­ä¼åå»ºè®®">äºãæ»ç»ä¸åç»­ä¼åå»ºè®®</h1>
<h2 id="1-é¨ç½²æ»ç»">1. é¨ç½²æ»ç»</h2>
<p>æ¬æ¬¡ OFA è§è§é®ç­æ¨¡åé¨ç½²çæ ¸å¿è¦ç¹ï¼</p>
<ul>
<li>
<p>ç¯å¢éç¦»ï¼å¿é¡»ç¨èæç¯å¢ï¼é¿åä¾èµå²çªï¼</p>
</li>
<li>
<p>çæ¬å¹éï¼transformers<mark>4.48.3 + tokenizers</mark>0.21.4 + huggingface-hub==0.25.2ï¼çæ¬ä¸è½æ¹ï¼</p>
</li>
<li>
<p>ç¦ç¨èªå¨ä¾èµï¼è®¾ç½®ç¯å¢åéï¼é¿å ModelScope èªå¨è¦çä¾èµçæ¬ï¼</p>
</li>
<li>
<p>è¾å¥æ ¼å¼ï¼å¿é¡»æ¯ï¼PIL.Imageå¯¹è±¡, è±æé®é¢ï¼çåç»æ ¼å¼ï¼</p>
</li>
<li>
<p>å¾çæ¥æºï¼é¿åä½¿ç¨å¤±æç URLï¼ä¼åç¨æ¬å°å¾çã</p>
</li>
</ul>
<p>æç§ä¸é¢çæ­¥éª¤æä½ï¼å°±è½æåé¨ç½²å¹¶è¿è¡æ¨¡åï¼è¾åºæ­£ç¡®çè§è§é®ç­ç»æã</p>
<h2 id="2-åç»­ä¼åå»ºè®®">2. åç»­ä¼åå»ºè®®</h2>
<ul>
<li>
<p>æ°¸ä¹è®¾ç½®ç¯å¢åéï¼å°ç¦ç¨èªå¨ä¾èµçå½ä»¤åå¥ ~/.bashrcï¼é¿åæ¯æ¬¡æ°å¼ç»ç«¯é½è¦éæ°æ§è¡ï¼</p>
</li>
<li>
<p>æ¯æä¸­æé®ç­ï¼æ¬æ¬¡ä½¿ç¨çæ¯è±ææ¨¡åï¼å¯æ¿æ¢ä¸ºä¸­æ OFA æ¨¡åï¼å¦ <code>iic/ofa_visual-question-answering_pretrain_large_zh</code>ï¼ï¼é®é¢å¯æ¹ä¸ºä¸­æï¼</p>
</li>
<li>
<p>ä¼åæ¨çéåº¦ï¼å¦æçµèæ GPUï¼å¯å®è£ CUDAãPyTorch GPU çæ¬ï¼æ¨çéåº¦ä¼æ¯ CPU å¿« 5-10 åï¼</p>
</li>
<li>
<p>æ¹éæ¨çï¼ä¿®æ¹èæ¬ï¼æ¯ææ¹éè¾å¥å¾çåé®é¢ï¼æ¹éè¾åºç»æï¼æé«æçã</p>
</li>
</ul>
<h1 id="å­æå">å­ãæå</h1>
<p>ä»¥ä¸å°±æ¯ OFA è§è§é®ç­æ¨¡åé¨ç½²çå®æ´æå­¦ï¼ä»ç¯å¢åå¤å°èæ¬è¿è¡ï¼åå°é¿åæåï¼æ¯ä¸æ­¥é½è¯¦ç»æ æ³¨ï¼æ°æä¹è½è½»æ¾å¤ç°ãå¦æå¤§å®¶å¨é¨ç½²è¿ç¨ä¸­éå°å¶ä»é®é¢ï¼æ¬¢è¿å¨è¯è®ºåºçè¨ï¼æä¼åæ¶åå¤ï½</p>
<p>ç¥å¤§å®¶é¨ç½²é¡ºå©ï¼æ©æ¥ç¨ä¸ OFA æ¨¡åå®ç°è§è§é®ç­åè½ï¼ð</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-27 01:05">2026-01-27 01:04</span>&nbsp;
<a href="https://www.cnblogs.com/ChenAI-TGF">TTGF</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19535960);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19535960', targetLink: 'https://www.cnblogs.com/ChenAI-TGF/p/19535960', title: 'è¶è¯¦ç»ï¼OFA è§è§é®ç­ï¼VQAï¼æ¨¡åé¨ç½²æå­¦ï¼é¿åå®æ´çï¼' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
        </channel>
        </rss>