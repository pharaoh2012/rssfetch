<?xml version="1.0" encoding="UTF-8" ?>
    <rss version="2.0">
    <channel>
        <title><![CDATA[ ä¸»é¡µ - åå®¢å­ ]]></title>
        <link><![CDATA[ https://www.cnblogs.com/ ]]></link>
        <lastBuildDate>2026-01-31T08:25:15.260Z</lastBuildDate>
        <description><![CDATA[
        ä¸»é¡µ - åå®¢å­ RSS
    ]]></description>
        <language>zh-cn</language>
        <item>
    <title><![CDATA[ å¼æºèªå»ºï¼GPT åæ¢ç©ºé´éº»ç¦ï¼ä¸ä»¶å¸®ä½ æå® ]]></title>
    <link>https://www.cnblogs.com/qxnm/p/19558462</link>
    <guid>df675c3287b85fd34c6b27a67bacb736</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/qxnm/p/19558462" title="åå¸äº 2026-01-31 16:23">
    <span role="heading" aria-level="2">å¼æºèªå»ºï¼GPT åæ¢ç©ºé´éº»ç¦ï¼ä¸ä»¶å¸®ä½ æå®</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p style="font-size: 0; line-height: 0; margin: 0">&nbsp;</p>
<section style="text-align: left; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 16px">
<blockquote style="text-align: left; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 16px; font-style: italic; padding: 1em 1em 1em 2em; border-left: 4px solid rgba(0, 152, 116, 1); border-radius: 6px; color: rgba(0, 0, 0, 0.6); background: rgba(247, 247, 247, 1); margin-bottom: 1em; border-bottom: 0.2px solid rgba(0, 0, 0, 0.04); border-top: 0.2px solid rgba(0, 0, 0, 0.04); border-right: 0.2px solid rgba(0, 0, 0, 0.04); margin-top: 0">
<p style="text-align: left; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 1em; display: block; letter-spacing: 0.1em; color: rgba(63, 63, 63, 1)">å­æ° 497ï¼éè¯»å¤§çº¦é 3 åé</p>
</blockquote>
<p style="text-align: left; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 16px; margin: 1.5em 8px; letter-spacing: 0.1em; color: rgba(63, 63, 63, 1)">è¿å å¤©ç»æå¿çï¼æè¿åäºä¸ä¸ªCodexçTEAM è´¦å·ç®¡çå·¥å·ç´æ¥å¨æ¬å°è¿è¡<br>å¤§æ¦æ¯ä¸é¢è¿æ ·èäºå å¤©ï¼è½éåcodex cliä½¿ç¨<br>æç®åè¿æä¸äºbugåä¸å¥½ç¨çå°æ¹ï¼åé¢ä¼éæ­¥ä¼ååºæ¥</p>
<p style="text-align: left; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 16px; margin: 1.5em 8px; letter-spacing: 0.1em; color: rgba(63, 63, 63, 1)">é¡¹ç®è¿æ¥ï¼éè¦çä½¬åå¸æè½è´¡ç®ä¸ä¸ªstart<br><span style="text-align: left; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 16px; color: rgba(87, 107, 149, 1)">hongshungao/Codex-Manager: ä¸ä¸ªCodex cli è´¦å·ç®¡çä¸åæ¢å·¥å·ãä¸º Codex cliæä¾æ¬å°å·æ± ç®¡çèªå¨åæ¢ã<sup>[1]</sup></span></p>
<h2 id="0" style="text-align: center; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 20.8px; display: table; padding: 0.3em 1.2em; margin: 4em auto 2em; color: rgba(255, 255, 255, 1); background: rgba(0, 152, 116, 1); font-weight: bold; border-radius: 8px 24px; box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06)" data-heading="true">ReadMe</h2>
<p style="text-align: left; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 16px; margin: 1.5em 8px; letter-spacing: 0.1em; color: rgba(63, 63, 63, 1)">æ¬å°æ¡é¢ç«¯ + æå¡è¿ç¨ç Codex è´¦å·æ± ç®¡çå¨ï¼ç¨äºç»ä¸ç®¡çè´¦å·ãç¨éä¸å¹³å° Keyï¼å¹¶æä¾æ¬å°ç½å³ä¸æå¡è½åã</p>
<h2 id="1" style="text-align: center; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 20.8px; display: table; padding: 0.3em 1.2em; margin: 4em auto 2em; color: rgba(255, 255, 255, 1); background: rgba(0, 152, 116, 1); font-weight: bold; border-radius: 8px 24px; box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06)" data-heading="true">é¡¹ç®ç®ä»</h2>
<ul style="text-align: left; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 16px; list-style: none; padding-left: 1.5em; margin-left: 0; color: rgba(63, 63, 63, 1)">
<li style="text-align: left; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 16px; display: block; margin: 0.5em 8px; color: rgba(63, 63, 63, 1)">â¢ æ¡é¢ç«¯ï¼Tauriï¼è´è´£è´¦å·ç®¡çãç¨éå±ç¤ºãææç»å½ä¸å¹³å° Key éç½®</li>
<li style="text-align: left; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 16px; display: block; margin: 0.5em 8px; color: rgba(63, 63, 63, 1)">â¢ æå¡ç«¯ï¼Rustï¼æä¾æ¬å° RPC + Gatewayï¼æ¯æç¨éå·æ°ãè´¦å·è½®è¯¢ä¸é´æè½¬å</li>
<li style="text-align: left; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 16px; display: block; margin: 0.5em 8px; color: rgba(63, 63, 63, 1)">â¢ æ¯ææå¨è§£æ OAuth åè°é¾æ¥ï¼é¿åç«¯å£å²çªæåè°å¤±è´¥</li>
</ul>
<h2 id="2" style="text-align: center; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 20.8px; display: table; padding: 0.3em 1.2em; margin: 4em auto 2em; color: rgba(255, 255, 255, 1); background: rgba(0, 152, 116, 1); font-weight: bold; border-radius: 8px 24px; box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06)" data-heading="true">åè½äº®ç¹</h2>
<ul style="text-align: left; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 16px; list-style: none; padding-left: 1.5em; margin-left: 0; color: rgba(63, 63, 63, 1)">
<li style="text-align: left; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 16px; display: block; margin: 0.5em 8px; color: rgba(63, 63, 63, 1)">â¢ è´¦å·æ± ç®¡çï¼åç»/æ ç­¾/æåº/å¤æ³¨</li>
<li style="text-align: left; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 16px; display: block; margin: 0.5em 8px; color: rgba(63, 63, 63, 1)">â¢ ç¨éå±ç¤ºï¼5 å°æ¶ + 7 æ¥ç¨éå¿«ç§</li>
<li style="text-align: left; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 16px; display: block; margin: 0.5em 8px; color: rgba(63, 63, 63, 1)">â¢ ææç»å½ï¼æµè§å¨ææ + æå¨åè°è§£æ</li>
<li style="text-align: left; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 16px; display: block; margin: 0.5em 8px; color: rgba(63, 63, 63, 1)">â¢ å¹³å° Keyï¼çæ/ç¦ç¨/å é¤</li>
<li style="text-align: left; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 16px; display: block; margin: 0.5em 8px; color: rgba(63, 63, 63, 1)">â¢ æ¬å°æå¡ï¼èªå¨å¯å¨ãå¯èªå®ä¹ç«¯å£</li>
<li style="text-align: left; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 16px; display: block; margin: 0.5em 8px; color: rgba(63, 63, 63, 1)">â¢ ç½å³è½åï¼ä¸ºæ¬å° CLI/å·¥å·æä¾ç»ä¸å¥å£</li>
</ul>
<h2 id="3" style="text-align: center; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 20.8px; display: table; padding: 0.3em 1.2em; margin: 4em auto 2em; color: rgba(255, 255, 255, 1); background: rgba(0, 152, 116, 1); font-weight: bold; border-radius: 8px 24px; box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06)" data-heading="true">ææ¯æ </h2>
<ul style="text-align: left; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 16px; list-style: none; padding-left: 1.5em; margin-left: 0; color: rgba(63, 63, 63, 1)">
<li style="text-align: left; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 16px; display: block; margin: 0.5em 8px; color: rgba(63, 63, 63, 1)">â¢ åç«¯ï¼Vite + åç JS + èªå®ä¹ UI</li>
<li style="text-align: left; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 16px; display: block; margin: 0.5em 8px; color: rgba(63, 63, 63, 1)">â¢ æ¡é¢ç«¯ï¼Tauri (Rust)</li>
<li style="text-align: left; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 16px; display: block; margin: 0.5em 8px; color: rgba(63, 63, 63, 1)">â¢ æå¡ç«¯ï¼Rustï¼æ¬å° HTTP/RPC + Gatewayï¼</li>
</ul>
<h2 id="4" style="text-align: center; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 20.8px; display: table; padding: 0.3em 1.2em; margin: 4em auto 2em; color: rgba(255, 255, 255, 1); background: rgba(0, 152, 116, 1); font-weight: bold; border-radius: 8px 24px; box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06)" data-heading="true">ç®å½ç»æ</h2>
<pre class="language-plaintext highlighter-hljs" data-dark-theme="true"><code>.
ââ&nbsp;apps/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;åç«¯ä¸&nbsp;Tauri&nbsp;æ¡é¢ç«¯
â&nbsp;&nbsp;ââ&nbsp;src/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;åç«¯æºç 
â&nbsp;&nbsp;ââ&nbsp;src-tauri/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Tauri&nbsp;ç«¯æºç 
â&nbsp;&nbsp;ââ&nbsp;dist/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;åç«¯æå»ºäº§ç©
ââ&nbsp;crates/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Rust&nbsp;æ ¸å¿ä¸æå¡ç«¯
â&nbsp;&nbsp;ââ&nbsp;gpttools-core
â&nbsp;&nbsp;ââ&nbsp;gpttools-service
ââ&nbsp;portable/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;ä¾¿æºçè¾åºç®å½
ââ&nbsp;rebuild.ps1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;æåèæ¬
ââ&nbsp;README.md</code></pre>
<h2 id="5" style="text-align: center; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 20.8px; display: table; padding: 0.3em 1.2em; margin: 4em auto 2em; color: rgba(255, 255, 255, 1); background: rgba(0, 152, 116, 1); font-weight: bold; border-radius: 8px 24px; box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06)" data-heading="true">å¿«éå¼å§</h2>
<ol style="text-align: left; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 16px; padding-left: 1.5em; margin-left: 0; color: rgba(63, 63, 63, 1)">
<li style="text-align: left; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 16px; display: block; margin: 0.5em 8px; color: rgba(63, 63, 63, 1)">1. å¯å¨æ¡é¢ç«¯åï¼ç¹å»âå¯å¨æå¡â</li>
<li style="text-align: left; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 16px; display: block; margin: 0.5em 8px; color: rgba(63, 63, 63, 1)">2. è¿å¥âè´¦å·ç®¡çâæ·»å è´¦å·å¹¶å®æææ</li>
<li style="text-align: left; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 16px; display: block; margin: 0.5em 8px; color: rgba(63, 63, 63, 1)">3. éè¦æ¶ç²è´´åè°é¾æ¥å®ææå¨è§£æ</li>
<li style="text-align: left; line-height: 1.75; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &quot;PingFang SC&quot;, Cambria, Cochin, Georgia, Times, &quot;Times New Roman&quot;, serif; font-size: 16px; display: block; margin: 0.5em 8px; color: rgba(63, 63, 63, 1)">4. å·æ°ç¨éï¼æ£æ¥ç¶æä¸éé¢</li>
</ol>
</section>
<p style="font-size: 0; line-height: 0; margin: 0">&nbsp;</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-31 16:24">2026-01-31 16:23</span>&nbsp;
<a href="https://www.cnblogs.com/qxnm">é«å®é¡º</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19558462);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19558462', targetLink: 'https://www.cnblogs.com/qxnm/p/19558462', title: 'å¼æºèªå»ºï¼GPT åæ¢ç©ºé´éº»ç¦ï¼ä¸ä»¶å¸®ä½ æå®' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ç¡¬æ ¸ç§æ®ï¼ä¸ºä½å°ç±³ä»»å¤©å å°æ Rootï¼æ­ç§æä½ç³»ç»ä»å¯å¨å°âå¤ºæâçåºå±æ¸¸æ ]]></title>
    <link>https://www.cnblogs.com/kaiux/p/19558207</link>
    <guid>1f8458a46456c1b5b1dbb35bcbc43e92</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/kaiux/p/19558207" title="åå¸äº 2026-01-31 15:40">
    <span role="heading" aria-level="2">ç¡¬æ ¸ç§æ®ï¼ä¸ºä½å°ç±³ä»»å¤©å å°æ Rootï¼æ­ç§æä½ç³»ç»ä»å¯å¨å°âå¤ºæâçåºå±æ¸¸æ</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        <img src="https://img2024.cnblogs.com/blog/1158182/202601/1158182-20260131154106142-1968484472.png" alt="ç¡¬æ ¸ç§æ®ï¼ä¸ºä½å°ç±³ä»»å¤©å å°æ Rootï¼æ­ç§æä½ç³»ç»ä»å¯å¨å°âå¤ºæâçåºå±æ¸¸æ" class="desc_img">
        å°ç±³éBLãä»»å¤©å åç ´è§£ï¼ååå¨æä»ä¹ï¼æ¬æç¡¬æ ¸æè§£ä»å¼æºå°âå¤ºæâçåºå±é»è¾ãç©¿è¶UEFIæåäº¤æ¥ï¼æ­ç§Ring0ç©çé²çº¿ä¸Rootæ¬è´¨ï¼æ·±åº¦åæSwitchç¡¬ç ´çâçµåæéæ³¨å¥âåçãå¸¦ä½ æ·±å¥å¾®è§ä¸çï¼çæè¿åºè¯çæ·±å¤çä¿¡ä»»é¾æ»é²æã
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>æè¿æºåæç­é¹çä¸¤ä»¶äºï¼ä¸æ¯å°ç±³å½»åºæ¶ç´§äº Bootloader è§£éæéï¼äºæ¯ä»»å¤©å åèµ·è¯äºå ä¸ªå Switch ç ´è§£è¯ççåå®¶ã</p>
<p>å¾å¤åå¼å¯è½ä¼è§å¾ï¼âæè±é±ä¹°çç¡¬ä»¶ï¼å­ä»ä¹ä¸è®©æå®å¨æ§å¶ï¼â</p>
<p>ä½å¨ååçé»è¾éï¼<strong>ä¸æ¦ä½ æ¿å°äºæé«æéï¼ä½ å°±æç ´äºæä»¬è¾è¦å»ºç«çâåä¸å´å¢âã</strong></p>
<p>ä¸ºäºçæè¿åºå³äºâæ§å¶æâçæäºï¼æä»¬ä¸éè¦å»åæ¯ç¥çãæä½ç³»ç»å¯¼è®ºãï¼åªéè¦æè§è§ç¼©å°å°çº³ç§çº§å«ï¼ççå½ä½ æä¸çµæºé®çé£ä¸æå¿å¨é­çç¬é´ï¼è®¡ç®æºåé¨å°åºä¸æ¼äºä¸åºææ ·çâæåäº¤æ¥âã</p>
<h2 id="ä¸è®èæ¶ä»£çå°å¾">ä¸ãè®èæ¶ä»£çå°å¾</h2>
<p>å¨ CPU ååéæ¥çé£ä¸å»ï¼å®é¢å¯¹çæ¯ä¸çæ¼é»çå­å¨èåââç¡¬çãè¦æåºå¤§çæä½ç³»ç»è£è¿èå­ï¼åå­ï¼éï¼é¦åå¾æä¸å¼ å°å¾ã</p>
<p><strong>1. MBRï¼ä¸ä¸ä»£çèå°å¾</strong></p>
<p>å¨ä»¥åï¼æä»¬ä½¿ç¨çæ¯ <strong>MBR (Master Boot Record)</strong>ãå®çæ ·å­éå¸¸å¯é¸ï¼åªå æ®ç¡¬çæå¼å¤´ç <strong>512 å­è</strong>ã</p>
<p>åªæä½ ç°å¨çç¡¬çæ 10TBï¼MBR ä¹åªæè¿ç¹å°çãè¿å°±å¯¼è´äºå®åå¤©ä¸è¶³ï¼å ä¸ºè®°å½å°åçç©ºé´å¤ªå°ï¼å®æå¤§åªè½è¯å« <strong>2TB</strong> çç¡¬çï¼èä¸æå¤åªè½å <strong>4 ä¸ªä¸»ååº</strong>ãå®å°±åä¸æ¬åªæä¸é¡µç®å½çèæ§ç¬è®°æ¬ï¼æ¢åä¸ä¸å¤ªå¤ä¸è¥¿ï¼ä¹æå¼ä¸äºéå¾å¤§åå¸çè·¯ã</p>
<p><strong>2. GPTï¼æ°ä¸ççå¨æ¯å¯¼èª</strong></p>
<p>ç°å¨ççµèå ä¹é½æ é <strong>UEFI</strong> å¯å¨ï¼ä¸ä¹æ­éçæ¯ <strong>GPT (GUID Partition Table)</strong> ååºè¡¨ã</p>
<p>å®çä¼å¿æ¾èæè§ï¼å½»åºæç ´äºå®¹éåååºæ°éçéå¶ï¼æ³åå¤å°å°±åå¤å°ãæ´éè¦çæ¯å®å·å¤äº<strong>å®¹ç¾æºå¶</strong>ââMBR åäºï¼æ´åç¡¬ççæ°æ®å¯è½å°±è¯»ä¸åºæ¥äºï¼ä½ GPT èªæå°å¨ç¡¬ççâè½¦å¤´âåâè½¦å°¾âåå­äºä¸ä»½ï¼åäºè¿è½æã</p>
<p>ä¸ºäºç§é¡¾é£äºèæ§çè½¯ä»¶ï¼ç°å¨ç GPT ç¡¬çè¿ä¼å¨å¼å¤´ä¿çä¸ä¸ªâåè£ç MBRâãå®çå¯ä¸ä½ç¨å°±æ¯åè¯èè½¯ä»¶ï¼âè¿åç¡¬çå·²ç»æä¸»äºï¼å«ä¹±å¨ãâ</p>
<p><img src="https://img2024.cnblogs.com/blog/1158182/202601/1158182-20260131153816610-848754645.jpg" alt="mbrvsgpt" loading="lazy"></p>
<h2 id="äºç¬¬ä¸æ£ç«ç¬æ">äºãç¬¬ä¸æ£ç«ç¬æ</h2>
<p>å½ä½ æä¸çµæºé®ï¼çµæµæ¶å¥ä¸»æ¿ï¼CPU åçç¬¬ä¸ä»¶äºæ¯âç¡¬ç¼ç âåæ­»çï¼å¼ºå¶è¯»åä¸æ®µâç»å¯¹æå¨âçä»£ç ã</p>
<p>è¿éä½çç¡¬ä»¶ççµé­ââ<strong>åºä»¶ (Firmware)</strong>ãä¸è¿ï¼æ ¹æ®è®¾å¤ç±»åçä¸åï¼è¿éçç®¡å®¶ä¹åä¸ºä¸¤æ´¾ã</p>
<p><strong>1. PC ççç®¡å®¶ï¼ä» BIOS å° UEFI</strong></p>
<p>å¨æ¼«é¿ç PC åå±å²ä¸­ï¼ç®¡å®¶æ¢äºä¸å±ã</p>
<ul>
<li><strong>èç®¡å®¶å« BIOS</strong>ãå®æ¯ä¸ªå®æ§æ´¾ï¼åªæ 16 ä½æ±ç¼è¯­è¨ï¼åªè½åæ¿å°è¯»åç¡¬çå¤´é¨ç MBRï¼å¹²æ´»æ¢ä¸æçä½ã</li>
<li><strong>æ°ç®¡å®¶å« UEFI</strong>ãå®æ¬è´¨ä¸å·²ç»æ¯ä¸ä¸ª<strong>å¾®åæä½ç³»ç»</strong>äºãå®è½è¯»ææä»¶ç³»ç»ï¼æ¯å¦ FAT32ï¼ï¼è½ç´æ¥è¿è¡åç¼ä¸º <code>.efi</code> çå¯æ§è¡ç¨åºï¼çè³è½èç½ãè¿ä¹æ¯ä¸ºä»ä¹ç°å¨ç BIOS çé¢è½ç¨é¼ æ ãè½æªå¾ï¼çè³åå¾è±éè¡å¨çåå ã</li>
</ul>
<p><img src="https://img2024.cnblogs.com/blog/1158182/202601/1158182-20260131153830288-1861685661.jpg" alt="bios" loading="lazy"></p>
<p><strong>2. åµå¥å¼ççç®¡å®¶ï¼BootROM</strong></p>
<p>å¯¹äº<strong>å°ç±³ææº</strong>æ <strong>Switch</strong> è¿ç§åµå¥å¼è®¾å¤ï¼éå¸¸æ¯ ARM æ¶æï¼ï¼è½ç¶å®ä»¬æ²¡æåçµèé£æ ·å¯ä»¥æ <code>Del</code> é®è¿å¥çå¾å½¢å UEFI çé¢ï¼ä½æ ¸å¿é»è¾æ¯ä¸æ ·çã</p>
<p>å®ä»¬ä¾é çæ¯è¯çåºåæ¶å°±å¨åé¨ç§å½æ­»çä¸å°æ®µä»£ç ââ<strong>BootROM</strong>ãå®æ¯ç¡¬ä»¶èéåæ§è¡çç¬¬ä¸æ®µä»£ç ï¼æ¯ä»»ä½è½¯ä»¶é½æ©ï¼ä¸æ æ³è¢«ä¿®æ¹ãå®çèè´£åä¸èç¥å£ï¼åå§åæåºæ¬çç¡¬ä»¶ï¼ç¶åå»å¯»æ¾å¹¶éªè¯ä¸ä¸æ£æ¥åèã</p>
<h2 id="ä¸çµæ´»çä¸­é´äºº">ä¸ãçµæ´»çä¸­é´äºº</h2>
<p>å½ UEFI æ BootROM èªæ£å®ç¡¬ä»¶ï¼åå¤ææåç§»äº¤ç»æä½ç³»ç»æ¶ï¼å®ä¸ä¼ç´æ¥å¤é Windows æ Linux çåæ ¸ï¼èæ¯åå¤éä¸ä½ä¸­é´äººââ<strong>Bootloader</strong>ï¼å¨ Linux PC ä¸çééå¸¸æ¯ GRUBï¼å¨å®å/ææºä¸çééå¸¸æ¯ U-Boot æååèªç ç Bootloaderï¼ã</p>
<p><strong>ä¸ºä»ä¹è¦ç»ä¸åï¼ä¸è½ç´æ¥å è½½åæ ¸åï¼</strong></p>
<p>åå å¨äºæä½ç³»ç»åæ ¸ï¼Kernelï¼å¤ªâå¨è´µâäºï¼</p>
<ol>
<li>å®å¯è½éè¦ç¹æ®çå¯å¨åæ°ï¼æ¯å¦ä½ éè¦è¿å¥å®å¨æ¨¡å¼ï¼æèå¼å¯è°è¯ï¼ã</li>
<li>å®å¯è½èººå¨åºä»¶è¯»ä¸æçæä»¶ç³»ç»éï¼æ¯å¦ Linux ç Ext4 æ ¼å¼ï¼UEFI åçå¯è½åªè®¤ FATï¼ã</li>
<li>ä½ å¯è½å®è£äºåç³»ç»ï¼éè¦æäººæ¥é®ä½ å°åºè¿åªä¸ä¸ªã</li>
</ol>
<p>æä»¥ï¼Bootloader å°±åæ¯ä¸ä¸ªä¸ä¸çâé¢è·¯äººâãå®è´è´£æåæ ¸æä»¶ï¼<code>vmlinuz</code>ï¼ååå§åæä»¶ç³»ç»ï¼<code>initrd</code>ï¼æ¬è¿å°åå­éï¼ä¸ååå¤å°±ç»ªåï¼æ§è¡ä¸ä¸ªä¿¡ä»°ä¹è·ï¼Jump æä»¤ï¼ï¼å° CPU çæ§å¶æå½»åºç§»äº¤ç»åæ ¸ã</p>
<p><img src="https://img2024.cnblogs.com/blog/1158182/202601/1158182-20260131153843749-1017464152.jpg" alt="bootloader" loading="lazy"></p>
<h2 id="åé¶çº§æ£®ä¸¥">åãé¶çº§æ£®ä¸¥</h2>
<p>åæ ¸ï¼Kernelï¼ä¸æ¦æ¥ç®¡äº CPUï¼åçç¬¬ä¸ä»¶äºå°±æ¯å©ç¨ CPU çç¡¬ä»¶ç¹æ§ï¼å»ºç«èµ·æ£®ä¸¥çç­çº§å¶åº¦ãè¿æ¯ç³»ç»å®å¨çåºç³ã</p>
<p><strong>1. æ¶å¤±ç Ring 1 å Ring 2</strong></p>
<p>Intel x86 æ¶æå¨è®¾è®¡ä¹åï¼å¶å®å®ä¹äº 4 ä¸ªç¹æçº§ï¼<strong>Ring 0</strong>ï¼åæ ¸ï¼æé«æéï¼ã<strong>Ring 1 &amp; 2</strong>ï¼åæ¬ç»é©±å¨ï¼ã<strong>Ring 3</strong>ï¼åºç¨ç¨åºï¼æä½æéï¼ã</p>
<p><strong>ä½å¨ç°ä»£æä½ç³»ç»ï¼Windows/Linuxï¼ä¸­ï¼Ring 1 å Ring 2 å ä¹è¢«åºå¼äºï¼åªå©ä¸äºä¸¤æååç Ring 0 å Ring 3ã</strong></p>
<p>è¿ææ ¸å¿çåå æ¯<strong>ç§»æ¤æ§ï¼Portabilityï¼</strong>ãå½å¹´ç Linux å Windows NT ä¸ºäºè½è·å¨ä¸åç CPU æ¶æä¸ï¼æ¯å¦ MIPSãARMï¼ï¼éå°äºä¸ä¸ªå¤§é¾é¢ï¼å¾å¤é x86 ç RISC æ¶æç¡¬ä»¶è®¾è®¡ä¸éå¸¸ç²¾ç®ï¼<strong>åªæ¯æä¸¤ä¸ªå±çº§</strong>ï¼åæ ¸æ Kernel Mode åç¨æ·æ User Modeï¼ãä¸ºäºä¿è¯ä»£ç éç¨ï¼æä½ç³»ç»è®¾è®¡èç´¢æ§å³å®ï¼âå¥½ï¼é£æä»¬ä¹åªç¨ä¸¤å±ï¼æä¸­é´çç æãâ</p>
<p><strong>2. ç©çå±é¢çé²çº¿</strong></p>
<p>ç°å¨ç CPU åé¨ï¼æä¸ä¸ª <strong>CS å¯å­å¨</strong> æç¡®è®°å½äºå½åçèº«ä»½ï¼</p>
<ul>
<li><strong>0 (ä¸å¸æ¨¡å¼)</strong>ï¼ä½ å¯ä»¥æ§è¡æææä»¤ï¼å¼å³ä¸­æ­ãè¯»åä»»æåå­ãç´æ¥æä½ç¡¬ç IOã</li>
<li><strong>3 (å¹³æ°æ¨¡å¼)</strong>ï¼ä½ åªè½åæ°å­¦è¿ç®ï¼ä¸¥ç¦ç´æ¥è§¦ç¢°ç¡¬ä»¶ã</li>
</ul>
<p>å¦æä½ ç Appï¼è¿è¡å¨ Ring 3ï¼è¯å¾æ§è¡ä¸æ¡âè¯»åç¡¬çâçæ±ç¼æä»¤ï¼CPU ç¡¬ä»¶å¨è§£ç é¶æ®µå°±ä¼åç°ï¼âä½ åªæ 3 çº§æéï¼å´æ³æ§è¡ 0 çº§æä»¤ï¼â äºæ¯ç´æ¥æåºå¼å¸¸ï¼åæ ¸æè·åä¼ç´æ¥æè¿ä¸ª App ææââè¿å°±æ¯ç¨åº<strong>å´©æºï¼Crashï¼</strong>çæ¬è´¨ã</p>
<p><strong>3. å¯ä¸çééï¼Syscall</strong></p>
<p>é£å¹³æ°ï¼Appï¼æ³åäºï¼æ¯å¦è¯»æä»¶ãèç½ï¼æä¹åï¼å¿é¡»å»æ²è¡é¨çé¼ââè¿å«<strong>ç³»ç»è°ç¨ï¼Syscallï¼</strong>ã</p>
<ol>
<li>App æ§è¡ <code>SYSCALL</code> æä»¤ã</li>
<li>CPU ç¬é´åæ¢å° Ring 0ï¼è·³è½¬å°åæ ¸é¢è®¾å¥½çä»£ç ä½ç½®ã</li>
<li><strong>æ¢æ ï¼Stack Switchingï¼</strong>ï¼è¿æ¯å³é®ä¸æ­¥ï¼CPU ä¼èªå¨ææ æéä»âç¨æ·æ âåæ¢å°âåæ ¸æ âãè¿æ¯ä¸ºäºé²æ­¢é»å®¢å¨æ éåé·ï¼ç¡®ä¿åæ ¸å¨ä¸ä¸ªç»å¯¹å¹²åçç¯å¢ä¸å·¥ä½ã</li>
<li>åæ ¸æ¿ä½ åå®äºï¼æç»ææ·åç¨æ·åå­ï¼ç¶åéå Ring 3ã</li>
</ol>
<p><img src="https://img2024.cnblogs.com/blog/1158182/202601/1158182-20260131153901587-891608174.jpg" alt="rings" loading="lazy"></p>
<h2 id="äºçåç¾ç´ç">äºãçåç¾ç´ç</h2>
<p>è¿æ¯å¾å¤ææ¯ç±å¥½èæå®¹æææ··çå°æ¹ï¼<strong>âæææº Root äºï¼æ¯ä¸æ¯å°±æå³çæç App è¿è¡å¨ Ring 0 äºï¼â</strong></p>
<p><strong>ç­æ¡æ¯ï¼NOãå³ä½¿ä½  Root äºï¼ä½ ç App ä¾ç¶è¿è¡å¨ Ring 3ã</strong></p>
<p><strong>1. Root åªæ¯ä¸ä¸ªâéè¡è¯â</strong></p>
<p>æä»¬éè¦åºåä¸¤ä¸ªæ¦å¿µï¼</p>
<ul>
<li><strong>Root (User ID = 0)</strong>ï¼è¿æ¯<strong>è½¯ä»¶å±é¢</strong>çæ¦å¿µãå®åªæ¯ Linux ç³»ç»éçä¸æ¡ç¨æ·è®°å½ãå®çæåå¨äºï¼<strong>åæ ¸è¢«è®¾è®¡ä¸ºâæ æ¡ä»¶å¬ä» Root ç¨æ·çè¯·æ±âã</strong></li>
<li><strong>Ring 0</strong>ï¼è¿æ¯<strong>ç¡¬ä»¶å±é¢</strong>çæ¦å¿µãåªæåæ ¸ä»£ç æ¬èº«è¿è¡å¨è¿éã</li>
</ul>
<p><strong>2. çå¸ä¸å½å­æ</strong></p>
<p>å½ä½ è·åäº Root æéï¼è¿è¡ä¸ä¸ªå½ä»¤ <code>rm -rf /</code>ï¼å åºè·è·¯ï¼æ¶ï¼è¿ç¨æ¯è¿æ ·çï¼</p>
<ol>
<li><strong>Root ç¨æ·</strong> åèµ·å é¤æä»¶çè¯·æ±ã</li>
<li><strong>åæ ¸</strong> æ£æ¥åèµ·èï¼åï¼æ¯ ID ä¸º 0 çå¤§å¥åãè½ç¶å é¤ç³»ç»æä»¶å¾å±é©ï¼ä½æ¢ç¶å¤§å¥è¯´äºï¼æå°±ç§åã</li>
<li><strong>åæ ¸ï¼Ring 0ï¼</strong> é©±å¨ç¡¬çç£å¤´ï¼ç©çæ¦é¤æ°æ®ã</li>
</ol>
<p><strong>æ»ç»ä¸ä¸</strong>ï¼Root ç¨æ·å°±åæ¯æ¿çâå£æ¨âçé¦å·®å¤§è£ï¼ä½ä»æ¬èº«è¿æ¯ä¸ªäººï¼è¿è¡å¨ Ring 3ï¼ï¼è Ring 0 ææ¯é£ä¸ªçæ­£æåå¨æçå½å­æã<strong>Root æ¿å°äºæé«è¡æ¿æï¼ä½æ²¡ææ¿å°æé«ç©çæ§è¡æã</strong></p>
<p><img src="https://img2024.cnblogs.com/blog/1158182/202601/1158182-20260131153913727-1769032851.jpg" alt="rootvsring" loading="lazy"></p>
<h2 id="å­æç ´æ·é">å­ãæç ´æ·é</h2>
<p>çè§£äºä¸é¢çâä¿¡ä»»é¾âåâæéå¢âï¼æä»¬ç»äºå¯ä»¥çæé»å®¢æ¯å¦ä½ä¸æ­¥æ­¥æ»ç ´ç³»ç»çãè¿ä¸ªè¿ç¨ï¼æ¬è´¨ä¸å°±æ¯ä¸åºç²¾å¯çå¤ç§ææ¯ã</p>
<p><strong>1. æå¼å°æ¡ï¼ææºè§£é BL (Bootloader)</strong></p>
<p>æ­£å¸¸çææºå¯å¨é¾æ¡æ¯ä¸¥ä¸åç¼çï¼<strong>BootROM (ç¡¬ä»¶)</strong> â <strong>éªè¯ Bootloader ç­¾å</strong> â <strong>éªè¯ Kernel (ç³»ç»åæ ¸) ç­¾å</strong>ã</p>
<p>æè°ç <strong>BL é</strong>ï¼å°±æ¯ååè®© Bootloader ä¸¥æ ¼æ¥éªä¸ä¸çº§ï¼Kernelï¼æ¯ä¸æ¯å®æ¹ååçãå¦ææ¯å®æ¹çï¼æ¾è¡ï¼å¦æè¢«äººå¨è¿æèï¼æ¯å¦ä¸ºäº Rootï¼ï¼æç»å¯å¨ã</p>
<p>è<strong>è§£é BL</strong>ï¼å°±æ¯ç¨å®æ¹ç»çå·¥å·ï¼æèå©ç¨æ¼æ´ï¼ï¼ç» Bootloader ä¸è¾¾ä¸éæä»¤ï¼âå«æ¥ç­¾åäºï¼ä¸ç®¡æå·è¿å»ä»ä¹çä¸å«ç³çåæ ¸ï¼ä½ é½ç»æè·ãâ</p>
<p><em>æ³¨æä»£ä»·ï¼è§£é BL è½ç¶è®©ä½ è·å¾äºèªç±ï¼ä½ä¹<strong>ç ´åäºå®æ´çä¿¡ä»»é¾</strong>ï¼Android Verified Bootï¼ãæ­¤æ¶ï¼ç³»ç»éç TEEï¼å¯ä¿¡æ§è¡ç¯å¢ï¼ä¼æç¥å°ç¯å¢ä¸å®å¨ï¼ä»èå¯¼è´é¶è¡ App éªéãå¾®ä¿¡/æ¯ä»å®æçº¹æ¯ä»å¤±æç­åæã</em></p>
<p><strong>2. æ¤å¥åè¢ï¼ä»è§£éå°è·å Root çå¨è¿ç¨</strong></p>
<p>å¾å¤å°ç½ä»¥ä¸ºè§£äº BL å°±èªå¨ Root äºï¼å¶å®ä¸æ¯ãè§£éåªæ¯æå¼äºå¤§é¨ï¼æ¿é´ï¼ç³»ç»ï¼è¿æ¯ç©ºçãè¦æ¿å° Rootï¼å¿é¡»è¿è¡ä¸åº<strong>âå¨å®ç§»æ¤â</strong>ã</p>
<p>ä»¥ Android ä¸ææµè¡ç Magisk ä¸ºä¾ï¼å®çæ ¸å¿é­æ³å«å <strong>"Systemless"ï¼ä¸è§¦å¨ System ååºï¼</strong>ï¼æ åæµç¨æ¯ï¼</p>
<ol>
<li><strong>æåå¨å®</strong>ï¼ä»å®æ¹å·æºåéæååº <strong><code>boot.img</code></strong>ã</li>
<li><strong>ææ¯æ¹é </strong>ï¼Magisk ä¼åçæ¯ä¸æ ·ï¼æèªå·±çæ ¸å¿ä»£ç ï¼<code>su</code> æä»¶åå®æ¤è¿ç¨ï¼<strong>æ³¨å¥</strong> å°è¿ä¸ªéåéï¼èå®å¨ä¸å»ä¿®æ¹åæ¬ç System ååºã</li>
<li><strong>ç§»æ¤ææ¯</strong>ï¼å ä¸ºä½ ä¹å<strong>è§£éäº BL</strong>ï¼Bootloader çå°è¿ä¸ªè¢«ç¯¡æ¹è¿çéåï¼è½ç¶ç­¾åä¸å¯¹ï¼ä½å®è¸è¸è©ï¼âåæ­£ä½ è§£éäºï¼ä½ å¼å¿å°±å¥½âï¼ç¶åæå®å·è¿äºç¡¬çã</li>
<li><strong>å¤ºè</strong>ï¼ææºéå¯ï¼åæ ¸å è½½ãMagisk çå®æ¤è¿ç¨éä¹å¯å¨ï¼æ¥ç®¡äºæéç®¡çã</li>
</ol>
<p><img src="https://img2024.cnblogs.com/blog/1158182/202601/1158182-20260131153926524-1349870764.jpg" alt="å·æº" loading="lazy"></p>
<p><strong>3. ç»æç ´è§£ï¼Switch ä¸è¯çç¡¬ç ´</strong></p>
<p>å¦æè¯´ææº Root è¿æ¯è½¯ä»¶å±é¢çåå¼ï¼é£ä¹ Switch çç ´è§£å°±æ¯ç©çå±é¢çæ´åç¾å­¦ãSwitch ç ´è§£çæ ¸å¿å¨åéå¸¸æ´ç´ ï¼<strong>å ä¸ºç©·ï¼ä¸æ³ä¹°æ¸¸æï¼æä»¥å¿é¡»ç»è¿æ¸¸æç­¾åéªè¯ã</strong></p>
<p><strong>(1) ä¸å¤æ¶ä»£çâè½¯ç ´â</strong></p>
<p>ææ©çä¸æ¹ Switchï¼2018 å¹´ååºåï¼ï¼è¯çï¼Tegra X1ï¼éç <strong>BootROM</strong> ä»£ç åæ«äºãé»å®¢ä¸ä»éè¦ç¨ä¸æ ¹åå½¢é<strong>ç­æ¥æææ»è½¨</strong>è¿å¥ RCMï¼æ¢å¤ï¼æ¨¡å¼ï¼è¿éè¦éå<strong>çµèææ³¨å¥å¨éè¿ USB æ¥å£åéä¸æ®µ Payload</strong>ï¼å©ç¨ç¼å²åºæº¢åºæ¼æ´æ¬ºéª CPUãè¿å±äºâèå¤©ç·èµé¥­åâï¼ä»»å¤©å é¤äºåºæ°ç¡¬ä»¶ï¼è½¯ä»¶å±é¢æ ¹æ¬ä¿®è¡¥ä¸äºã</p>
<p><strong>(2) ç°ä»£çâç¡¬ç ´â (Modchip è¯çç ´è§£)</strong></p>
<p>ä»»å¤©å åæ¥ä¿®å¤äºæ¼æ´ãç°å¨çç ´è§£å¿é¡»<strong>ææº</strong>ï¼å¨ä¸»æ¿ä¸æå¶ç²¾ç»å°<strong>çæ¥ä¸é¢ç¬¬ä¸æ¹è¯ç</strong>ãè¿ç©æçåçå« <strong>âçµåæéæ³¨å¥â (Voltage Glitching)</strong>ã</p>
<ul>
<li><strong>ãåçã</strong> Switch å¯å¨æ¶ï¼CPU ä¼è¯»åå®æ¹ Bootloader å¹¶è¿è¡ç­¾åæ ¡éªã</li>
<li><strong>ãæ»å»ã</strong> çå¨ä¸»æ¿ä¸çç ´è§£è¯çåçå»æä¸æ ·ï¼æ­»æ­»ç¯ç CPUãå½ CPU åå¤æ§è¡âæ ¡éªç­¾åâè¿ä¸è¡ä»£ç ç<strong>çº³ç§çº§ç¬é´</strong>ï¼ç ´è§£è¯ççªç¶<strong>æä½ CPU çæ ¸å¿çµå (VCC)</strong>ã</li>
<li><strong>ãç»æã</strong> çµåéª¤éå¯¼è´ CPU å°±åè¢«çµå»äºä¸ä¸ï¼èå­âæµâäºé£ä¹ä¸ç¬é´ãå®åå¥½<strong>è·³è¿äºæ ¡éªæä»¤</strong>ï¼æèå°å¯å­å¨éæ ¡éªå¤±è´¥ç <code>False</code> éè¯¯å°è¯»æäº <code>True</code>ã</li>
</ul>
<p>è¿å°±å¥½æ¯ä¿å®æ¦ä½ä½ è¦æ¥èº«ä»½è¯ï¼ä½ æ²¡å¸¦ãä½å¨ä¿å®å¼ å´é®ä½ âèº«ä»½è¯å¢ï¼âçä¸ç¬é´ï¼ä½ çªç¶å¨ä»è³è¾¹æ²äºä¸è®°é£ãä¿å®èå­ä¸çç©ºç½ï¼ä¸æè¯å°æææï¼âè¡è¡è¡ï¼è¿å»å§ãâ</p>
<p><strong>(3) é¸ å é¹å·¢ï¼Atmosphere (å¤§æ°å±)</strong></p>
<p>æ¢ç¶éè¿âçµå»âä¿å®æ··è¿äºå¤§é¨ï¼æä»¬å°±ä¸å è½½ä»»å¤©å å®æ¹ç³»ç»äºï¼èæ¯å è½½ <strong>Atmosphere</strong>ãå®æ¬è´¨ä¸æ¯ä¸ä¸ª<strong>å®å¶ç Bootloader + ç³»ç»è¡¥ä¸é</strong>ãå®æ¥ç®¡äºå¯å¨æµç¨ï¼å¹¶ä¸å¨åå­ä¸­å®æ¶ä¿®æ¹ä»»å¤©å ç OSï¼æ¬ºéªç³»ç»è¯´ï¼âè¿å¼ ççå¡æ¯éè¿éªè¯çâã</p>
<p><img src="https://img2024.cnblogs.com/blog/1158182/202601/1158182-20260131153938657-967507878.jpg" alt="switch" loading="lazy"></p>
<h2 id="ä¸ç«é¼ æ¸¸æ">ä¸ãç«é¼ æ¸¸æ</h2>
<p>Root æåäºï¼å¹¶ä¸ä»£è¡¨ä½ å¯ä»¥é«ææ å¿§ãäºå®ä¸ï¼è¿ææ¯ä½ å App å¼ååï¼å°¤å¶æ¯é¶è¡ãæ¸¸æï¼ä¹é´âç«é¼ æ¸¸æâçå¼å§ã</p>
<p><strong>1. App æ¯æä¹åç°ä½  Root çï¼</strong></p>
<p>App ä¹æ¯è¿è¡å¨ Ring 3 çå¹³æ°ï¼å®ä¸è½ç´æ¥é® CPU âææ¯ä¸æ¯è¢« Root äºâãä½å®æå¾å¤é´æ¥ææ®µï¼</p>
<ul>
<li><strong>æ¥æ·å£ï¼æä»¶æ«æï¼</strong>ï¼App ä¼å·å·æ«æä½ ç <code>/bin</code> æ <code>/sbin</code> ç®å½ï¼ççææ²¡æ <code>su</code> è¿ä¸ªæä»¶ï¼æèææ²¡æå®è£ <code>Magisk Manager</code> è¿ä¸ª Appã</li>
<li><strong>æçµè¯é®å®¶é¿ï¼Play Integrity APIï¼</strong>ï¼è¿æ¯æç çä¸æãApp ä¼åèµ·ä¸ä¸ªè¯·æ±ï¼éè¿ Google çæå¡å»è¯¢é®ä½ çåºå±ç¡¬ä»¶ãGoogle ä¼æ£æ¥ä½ ç Bootloader ç¶æãå¦æä½ è§£éäºï¼ç¡¬ä»¶å±é¢ç <strong>TEE (å¯ä¿¡æ§è¡ç¯å¢)</strong> å°±ä¼èå®äº¤å¾ï¼âæ¯çï¼æçå¤§é¨è¢«æå¼äºãâ</li>
</ul>
<p><strong>2. Magisk çéèº«æ¯ï¼å½åç©ºé´éç¦» (Namespace Isolation)</strong></p>
<p>æ¢ç¶ App ä¼æ¥æä»¶ï¼é£æä»¬å¨å®æ¥æ¿çæ¶åï¼æè¿ç¦åèèµ·æ¥ä¸å°±å¥½äºï¼è¿å°±æ¯ Magisk Hideï¼ç°å¨è¿åä¸º Zygisk/Shamikoï¼çæ ¸å¿åçã</p>
<p>Linux åæ ¸æä¸ä¸ªå¼ºå¤§çåè½å« <strong>Mount Namespace</strong>ãå®å¯ä»¥è®©æ¯ä¸ªè¿ç¨çå°å®å¨ä¸åçæä»¶ç³»ç»è§å¾ã</p>
<ul>
<li><strong>å¹³æ¶</strong>ï¼ä½ çæä»¶ç³»ç»éç¡®å®æ Root ç¸å³çæä»¶ã</li>
<li><strong>å½ä½ æå¼é¶è¡ App æ¶</strong>ï¼Magisk ä¼ç«å»æ¦æªè¿ä¸ªå¯å¨è¿ç¨ï¼ä¸ºè¿ä¸ªé¶è¡ App åç¬åå»ºä¸ä¸ªâå¹³è¡å®å®âã</li>
<li><strong>å¨é£ä¸ªå®å®é</strong>ï¼Magisk ä¼å©ç¨ <code>unmount</code> æä»¤ï¼æ <code>su</code> æä»¶ãMagisk ç¸å³çæ¨¡åå¨é¨âå¸è½½âæã</li>
<li><strong>ç»æ</strong>ï¼é¶è¡ App çå¼ç¼ï¼çå°çæ¯ä¸ä¸ªå¹²å¹²ååãä»¿ä½ä»æªè¢« Root è¿çå®æ¹ç³»ç»ãå®æ»¡æå°ç¹ç¹å¤´ï¼è®©ä½ éè¿äºã</li>
</ul>
<p><strong>3. éé«ä¸å°ºï¼é­é«ä¸ä¸</strong></p>
<p>ç°å¨ï¼è¿åºæäºå·²ç»è¿åå°äº<strong>ç¡¬ä»¶å±é¢</strong>ã</p>
<p>å <strong>KernelSU</strong> è¿ç§æ°ä¸ä»£ Root æ¹æ¡ï¼ç´æ¥æèªå·±èè¿äºåæ ¸éï¼Ring 0ï¼ï¼è®©è¿è¡å¨ Ring 3 ç App æ ¹æ¬æ ä»æ¥èµ·ãè App åååå¼å§èåææºååï¼è¯å¾éè¿<strong>ç¡¬ä»¶å¯é¥è¯æ (Key Attestation)</strong> è®©ä½ å¨è§£é Bootloader çé£ä¸å»èµ·ï¼å°±æ°¸è¿å¤±å»éè¿âå®å¨éªè¯âçèµæ ¼ã</p>
<p>åªè¦ä½ ä¸ºäºèªç±è§£å¼äºéï¼ä½ å°±æ³¨å®è¦ä¸ç´å¨è¿ä¸ªç«é¼ æ¸¸æééè¿ä¸æ­çâä¼ªè£âçå­ä¸å»ã</p>
<h2 id="å«æ»ç»å¿æºæ¨¡å">å«ãæ»ç»ï¼å¿æºæ¨¡å</h2>
<p>çå®å¨æï¼ä½ åºè¯¥å¨èæµ·éå»ºç«èµ·è¿æ ·ä¸å¼ å¾ï¼</p>
<ol>
<li><strong>å°å¾ (MBR ä¸ GPT)</strong>ï¼å³å®äºå°çæä¹åã</li>
<li><strong>æ¥å (BootROM/UEFI â Bootloader â Kernel)</strong>ï¼æ¯ä¸åºä»ç¡¬ä»¶å°è½¯ä»¶çä¿¡ä»»æ¥åèµã</li>
<li><strong>é«å¢ (Ring 0 vs Ring 3)</strong>ï¼æ¯ä¸ºäºé²æ­¢å¹³æ°ï¼Appï¼çæç¡¬ä»¶ã</li>
<li><strong>Root</strong>ï¼æ¯ Ring 3 ä¸çéççå¸ï¼ä»å¯ä»¥å½ä»¤ Ring 0 åäºï¼ä½ä»èªå·±ä¾ç¶å¨å¢å¤ã</li>
<li><strong>ç ´è§£</strong>ï¼æ è®ºæ¯ Root ææºè¿æ¯ç ´è§£ Switchï¼æ¬è´¨é½æ¯æ³æ¹è®¾æ³<strong>ææ­ä¿¡ä»»é¾çä¼ é</strong>ã</li>
<li><strong>æ»é²</strong>ï¼Root ä¹åï¼æ¯ä¸åºå©ç¨âå¹³è¡å®å®âï¼Namespaceï¼æ¬ºéª App çç«é¼ æ¸¸æã</li>
</ol>


</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.0006944444444444445" data-date-updated="2026-01-31 15:41">2026-01-31 15:40</span>&nbsp;
<a href="https://www.cnblogs.com/kaiux">å¿µé£é¶å£¹</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19558207);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19558207', targetLink: 'https://www.cnblogs.com/kaiux/p/19558207', title: 'ç¡¬æ ¸ç§æ®ï¼ä¸ºä½å°ç±³ä»»å¤©å å°æ Rootï¼æ­ç§æä½ç³»ç»ä»å¯å¨å°âå¤ºæâçåºå±æ¸¸æ' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ AAæ¸¸æèæ¬è§èï¼AA Game Scriptï¼ ]]></title>
    <link>https://www.cnblogs.com/ygluu/p/19550578</link>
    <guid>3dc6a89d73963f4dc5f2c02995f3bc3c</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/ygluu/p/19550578" title="åå¸äº 2026-01-31 15:21">
    <span role="heading" aria-level="2">AAæ¸¸æèæ¬è§èï¼AA Game Scriptï¼</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<font color="#002FA5">
<h2 id="1-åè¿°">1 åè¿°</h2>
<p>ä¸­æåï¼AAæ¸¸æèæ¬ï¼å½åæ ä»»ä½å«ä¹ä»æ¯æ è¯ç¬¦ï¼<br>
è±æåï¼AA Game Script<br>
ç®  ç§°ï¼AAèæ¬ï¼AAGSï¼<br>
ä½  èï¼ygluuï¼ç å®¢ï¼<br>
WeChat: 48092788</p>
<p><strong>AAèæ¬æ¨ä¸ºï¼ä¸ºæ¸¸ææä¾ä¸ç§æ´å ç®åèåçµæ´»çéç½®æ¹å¼</strong>ã</p>
<p><strong>æ³¨</strong>ï¼<br>
1ãæ¬äººå¨å¶ä»åæä¸­æå°çæ°æ®åï¼å¨æ¬æä¸­ç»ç§°ä¸ºåéåï¼ä¸¤èç­æ<br>
2ãæ¬æäº¦æ¯æ¬äººè¿å»åå®¢ç¥è¯ç¹çç³»ç»åæ»ç»ï¼ç¸å³åèè§éå½3ï¼<br>
3ãæä½èè§è¯æéï¼å¦æé·åçº¯å±å·§åï¼è¯·çè¨å¿å ä¹</p>
<p>éå¾ æ¡ä»¶ç³»ç»åçï¼<br>
<img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3509144/202509/3509144-20250929195853996-308910414.png" class="lazyload"></p>
<h2 id="2-on-doæ¨¡å">2 ON-DOæ¨¡å</h2>
<p>å¨æ¸¸æå¼åå½ä¸­ï¼å¤æ°ç­åéç½®éæ±ä¸å¤ä¹ï¼å½ä»ä¹æ¡ä»¶æ»¡è¶³æ¶åä»ä¹äºæï¼èæ¸¸ææä»ç¬æçæ°æ®å½¢æä»èé å°±äºä¸ç§æ¢å®æ¨¡å¼ï¼æä»¥æ¬æå°è¿ç§æ¨¡å¼æ½è±¡ä¸ºON-DOæ¨¡åã<br>
<strong>ON-DOæ¨¡åæ¦å¿µè¯æ±</strong>ï¼</p>
<blockquote style="color: rgba(102, 102, 102, 1); border-left-color: rgba(255, 102, 0, 1)">
Onï¼å¨æç§æ¡ä»¶è¾¾æçæ¶å<br>
Doï¼åä»ä¹äºæ<br>
<br>
Condï¼æ¡ä»¶è¡¨è¾¾å¼ï¼å¦ï¼(A&gt;10)&amp;(B&lt;0)<br>
Actï¼å¨ä½è¡¨è¾¾å¼ï¼å¦ï¼A+11;B-10<br>
</blockquote>
<p><strong>ON-DOæ¨¡åä¸æ­¥éª¤</strong>ï¼<br>
1ãå®ä¹åé<br>
2ãå®åæ¡ä»¶å½æ°åç¼åæ¡ä»¶è¡¨è¾¾å¼<br>
3ãå®åå¨ä½å½æ°åç¼åå¨ä½è¡¨è¾¾å¼</p>
<h2 id="3-æ¡ä»¶è¡¨è¾¾å¼è§è">3 æ¡ä»¶è¡¨è¾¾å¼è§è</h2>
<p><strong>ååè¿ç®</strong>ï¼+ - * /<br>
<strong>æ¯è¾è¿ç®</strong>ï¼&gt; =&gt; = &lt; &lt;=<br>
<strong>é»è¾è¿ç®</strong>ï¼&amp; | and or<br>
<strong>ä¼åçº§</strong>ï¼( )<br>
<strong>åé</strong>: è§éå½åéè¡¨<br>
<strong>å½æ°</strong>: è§éå½å½æ°åº<br>
<strong>å¸¸é</strong>ï¼abc 123 ...<br>
<strong>æ¶èå¨ä½</strong>(åå·)ï¼-<br>
æ³¨ï¼åå·è¡¨ç¤ºè½å¤æ£åæå®çç©åææ°æ®ï¼å¦ï¼ç©å®¶ç­çº§&gt;=10 &amp; å¥åºå·-10 &amp; éå¸-20</p>
<p><strong>ç¤ºä¾</strong>ï¼</p>
<blockquote style="color: rgba(102, 102, 102, 1); border-left-color: rgba(255, 102, 0, 1)">
ç¤ºä¾1ï¼æ¥æ&gt;=2023-01-01 &amp; æ¶é´&gt;18:00:00 &amp; äºä»¶(è¿å¥å°å¾) &amp; å°å¾(åç§°ï¼è±å±±)<br>
ç¤ºä¾2ï¼ç­çº§&gt;=10 &amp; éå¸-10 &amp; ä¸å±±å¡-20<br>
ç¤ºä¾3ï¼ç­çº§&gt;=20 &amp; (éå¸-30 | ä¸å±±å¡-30)<br>
ç¤ºä¾4ï¼å½åå°å¾=è±å±± &amp; ææ¶ç¬&gt;=100<br>
</blockquote>
<h2 id="4-å¨ä½è¡¨è¾¾å¼è§è">4 å¨ä½è¡¨è¾¾å¼è§è</h2>
<p><strong>ååè¿ç®</strong>ï¼+ - * /<br>
<strong>ç´¯è®¡è¿ç®</strong>ï¼+ - * / += -= *= /=<br>
<strong>èµå¼</strong>(ç­äºå·æåå·åå¯)ï¼= :<br>
<strong>åéç¬¦</strong>(åå·)ï¼;<br>
<strong>ä¼åçº§</strong>ï¼( )<br>
<strong>å½æ°</strong>ï¼è§éå½å½æ°åº</p>
<p><strong>ç¤ºä¾</strong>:</p>
<blockquote style="color: rgba(102, 102, 102, 1); border-left-color: rgba(255, 102, 0, 1)">
ç¤ºä¾1ï¼æ»å»+100;é²å¾¡+20<br>
ç¤ºä¾2: éå¸+20;çµè+20<br>
ç¤ºä¾3ï¼æ¶è(éå¸:100,é¶å¸:200);è·³è½¬(åå¤©é¨,103,304) // å½æ°åæ°è§èç±å½æ°å®ä¹<br>
ç¤ºä¾4ï¼å¥å±(éå¸:100,é¶å¸:200);å¥å±(1001) // å¥å±åéçéç½®ID<br>
ç¤ºä¾6: åå¼=188;äºä»¶(åå¼) // è®¾ç½®åå¼åéï¼è§¦ååå¼äºä»¶<br>
ç¤ºä¾6: å°å¾=Map.Name;æªç©=Mon.Name;æªç©ç±»å=çº¢æª;äºä»¶(ææª) // è®¾ç½®ææªæ°æ®ï¼è§¦åææªäºä»¶<br>
</blockquote>
<h2 id="5-æµç¨æ§å¶è¡¨è¾¾å¼è§èæ´»å¨ç³»ç»è®¾è®¡è§è">5 æµç¨æ§å¶è¡¨è¾¾å¼è§èï¼æ´»å¨ç³»ç»è®¾è®¡è§èï¼</h2>
<p>æµç¨æ§å¶æ¯ON-DOè¡¨è¾¾å¼å¯¹ç»åçææ¬æä»¶ï¼å¦ï¼ctrl.aaï¼é»è®¤éå¯¹æ§è¡ãON-ORåDO-ORè¡¨è¾¾å¼å¯¹æ¯æå³ç³»ï¼ä¸¤å¯¹æå¤å¯¹æ¶è¡¨ç¤ºä»»æä¸å¯¹æ»¡è¶³å³å¯ï¼åå¯¹åè¿æ¯ä¸å³ç³»ã<br>
ç¤ºä¾ï¼æ´»å¨è¡¨è¾¾å¼</p>
<blockquote style="color: rgba(102, 102, 102, 1); border-left-color: rgba(255, 102, 0, 1)">
Nameï¼æ¯æ¥BOSS
<p>ON: æ¶é´&gt;=18:25<br>
DO:<br>
åå»ºå°å¾(è±å±±, å®å¨å°å¾=1)  // å°å¾è®¾ç½®ä¸ºéææç¶æ<br>
å·æª(å·¨å½, x, y, z)<br>
å¥å£å¾æ (è±å±±); è·é©¬ç¯(å·¨å½åºæ¥æ£ä¹±äºï¼å¿«æ¥å»æå®å§ï¼)<br>
èå¤©(ä¸çé¢é, å·¨å½åºæ¥æ£ä¹±äºï¼å¿«æ¥å»æå®å§ï¼)</p>
<p>ON: æ¶é´&gt;=18:30<br>
DO:<br>
å°å¾åé(è±å±±, å®å¨å°å¾=0)  // 18:30å¼å§ææ<br>
è·é©¬ç¯(å·¨å½åºæ¥æ£ä¹±äºï¼å¿«æ¥å»æå®å§ï¼)<br>
èå¤©(ä¸çé¢é, å·¨å½åºæ¥æ£ä¹±äºï¼å¿«æ¥å»æå®å§ï¼)</p>
<p>// å¦æè¶æ¶å<br>
ON-OR: æ¶é´&gt;=19:00<br>
DO-OR: GOTO(æ¸åº)</p>
<p>// å¦ææ­»äº¡å<br>
ON-OR: æ­»äº¡æªç©=å·¨å½<br>
DO-OR: å¥å±(éå¸:100,è¯æ°´1000);GOTO(æ¸åº)</p>
<p>Labelï¼æ¸åº<br>
// labelä¹åæ æ¡ä»¶çå¯ä»¥ä¸åè¡¨è¾¾å¼, ä¹å¯ä»¥ä¸åON:<br>
ON:<br>
DO: æ¸åº()</p>
</blockquote>
<h2 id="7-å»æçº¿ç³»ç»è®¾è®¡è§è">7 å»æçº¿ç³»ç»è®¾è®¡è§è</h2>
<p>äºå®ä¸ä»»å¡ç³»ç»æ¯æ¯è¾å¤æçå»æçº¿ç³»ç»ï¼å»æçº¿æä¸ä¸ªç¹å¾æ¯éçº§åé¶ï¼ä¸å»æçº¿ä¸è¬æå±æ§å æï¼ä¸çº¿éç®ï¼åç©åå¥å±ï¼ä¸æ¬¡æ§ï¼ã<br>
ç¨ä¸¤å¯¹ONâDOè¡¨è¾¾å¼åä¸ä¸ªå±æ§å æè¡¨è¾¾å¼æè¿°ï¼ç¨æ¨¡åå+âç­çº§âä½ä¸ºç­çº§åéï¼æ¯æ¬¡åçº§åèªå¢ï¼å¦ä¸è¡¨æç¤ºï¼<br>
<img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3509144/202601/3509144-20260131145846276-1004224871.png" class="lazyload"></p>
<h2 id="8-åéå®ä¹è§è">8 åéå®ä¹è§è</h2>
<p>åéè¡¨ï¼var.xlsx<br>
<img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3509144/202601/3509144-20260129194836230-1131129095.png" class="lazyload"></p>
<p><strong>CfgId</strong> : åéIDï¼å¦æä¸å¡«åä½¿ç¨CfgNameè®¡ç®CRC64ï¼ç¢°æåæç¤ºæ¹å<br>
<strong>CfgName</strong> : åéåï¼ç¨äºéç½®æè¿°ï¼å¨å±å¯ä¸<br>
<strong>ShowName</strong> : æ¾ç¤ºåï¼ç¨äºUIç­ï¼ä¸å¡«é»è®¤ç­äºCfgName<br>
<strong>Reset</strong> : éç½®å¨æï¼ä¸åå0è¡¨ç¤ºä¸éç½®ï¼1ï¼æ¯æ¥éç½®ï¼2ï¼æ¯å¨éç½®ï¼3ï¼æ¯æéç½®ï¼4ï¼æ¯å¹´éç½®<br>
<strong>Valid</strong> : æææï¼ä¸å¡«è¡¨ç¤ºæ°¸ä¹ææï¼å¦â10æ1~10æ7æ¥âè¡¨ç¤ºæ¯å¹´å½åºææ<br>
<strong>Cond</strong> ï¼æ¡ä»¶è¡¨è¾¾å¼ï¼éç©ºåç³»ç»ä¼ä¾æ®æ¡ä»¶æ§è¡Actå¨ä½è¡¨è¾¾å¼<br>
<strong>Act</strong> : å¨ä½è¡¨è¾¾å¼<br>
<strong>Init</strong> : åå§å¼ï¼é»è®¤0ï¼æ´å½¢å¼ææ<br>
<strong>Min</strong> : æå°å¼ï¼é»è®¤0ï¼æ´å½¢å¼ææ<br>
<strong>Max</strong> : æå¤§å¼ï¼é»è®¤int64çæå¤§å¼ï¼æ´å½¢å¼ææ</p>
<p><strong>æ³¨</strong>ï¼<br>
åéç±»åæstringãint64ãobjï¼æ éå®ä¹è®¾å®ï¼ä»¥æåä¸æ¬¡èµå¼çç±»åä¸ºåã</p>
<h2 id="9-å½æ°å®ä¹è§è">9 å½æ°å®ä¹è§è</h2>
<p>å½æ°å(åæ°1,åæ°2,..)<br>
<strong>æ³¨æ</strong>ï¼<br>
1ãææå½æ°é»è®¤è¿åint64ï¼0è¡¨ç¤ºå¤±è´¥ï¼ç­äºå¸å°å¼çfalse<br>
2ãå½æ°åæ°è§èç±åå½æ°å®ä¹</p>
<h2 id="10-éç½®è¡¨è§è">10 éç½®è¡¨è§è</h2>
<h3 id="åºç¡å­æ®µç±»å">åºç¡å­æ®µç±»åï¼</h3>
<p><strong>int</strong> : 64ä½æç¬¦å·æ´å½¢<br>
<strong>bool</strong> : å¸å°å<br>
<strong>string</strong> : å­ç¬¦ä¸²å<br>
<strong>Cond</strong> : æ¡ä»¶è¡¨è¾¾å¼<br>
<strong>Act</strong> : å¨ä½è¡¨è¾¾å¼</p>
<h3 id="å®¹å¨å­æ®µç±»å">å®¹å¨å­æ®µç±»åï¼</h3>
<p><strong>arr</strong> : æ°ç», ç±»åç±ç¬¬ä¸ä¸ªåç´ çåºç¡å­æ®µç±»åå³å®ï¼å¯èªåµå¥ï¼å¦ï¼{{1,3},{3,4}}<br>
<strong>map</strong> : åå¸è¡¨key-valueé®å¼å¯¹ï¼keyç±»åå¯ä¸ºintåstringï¼valueç±»åä½åºæ¬å­æ®µç±»åï¼å¯èªåµå¥ååµå¥arrï¼å¦ï¼{{a=1,b=2},{a=A,b=B},{a=3,b={1,2,3,4}}}</p>
<h3 id="éç¨å­æ®µå">éç¨å­æ®µåï¼</h3>
<p><strong>CfgId</strong> : intï¼éç½®IDï¼å¨å±å¯ä¸ï¼int64å¯è§åå¥½åè¡¨çIDåæ®µèå´ï¼è¡¨åèªå¢ï¼ä¸å¡«åç³»ç»é»è®¤ä½¿ç¨CfgNameå­æ®µçcrc64å¼ï¼ç¢°æåæç¤ºæ¹å<br>
å¦æéè¦åç»è®¾ç½®çï¼æ¯1ä¸ä¸ä¸ªIDæ®µï¼å¦2ç»IDï¼1000010000ï¼3ç»IDï¼100001000010000,  å³å¯æ ¹æ®åç»ä¿¡æ¯è·åéç½®åå®¹<br>
<strong>CfgName</strong> : stringï¼éç½®åï¼å¨å±å¯ä¸ï¼å¿å¡«ï¼å­ç¬¦ä¸²å<br>
<strong>CfgType</strong> : intï¼éç½®ç±»åï¼å¦ï¼è¯æãè´§å¸ãæ­¦å¨ãæè£ãçº¢æªã<br>
<strong>CfgFlag</strong> ï¼intï¼éç½®æ å¿ï¼å³CfgTypeçç»å<br>
<strong>ShowName</strong> : stringï¼æ¾ç¤ºåç§°ï¼ç¨äºUIå¤å½è¯­è¨ç­ï¼ä¸å¡«åé»è®¤ä½¿ç¨CfgNameï¼å¦æå¤å½è¯­è¨ä½¿ç¨â/âåé<br>
<strong>Prop</strong> : mapï¼è¯¥éç½®å¯¹è±¡å·æçèªèº«å±æ§ï¼å¦å°å¾è¡¨ï¼{å¯ç©¿äºº=false,å¯ç©¿æª=false}<br>
<strong>Attr</strong> : mapï¼æ¥æèè·å¾çå±æ§å æï¼å¦ç©åè¡¨ï¼{é²å¾¡+100,æ»å»+200}<br>
<strong>Cond</strong> : Condï¼æ¡ä»¶è¡¨ç¤ºå¼<br>
<strong>Act</strong> : Actï¼å¨ä½è¡¨è¾¾å¼ï¼æ¡ä»¶è¾¾æåæ§è¡<br>
<strong>ActAtrr</strong> : Actï¼å±æ§å æå­æ®µï¼æ¯æ¬¡ä¸çº¿è·ååå¹¶<br>
<strong>ActOnce</strong> : Actï¼åæ¬¡æ§è¡çå¨ä½è¡¨è¾¾å¼ï¼æ¡ä»¶è¾¾æçæ¶åä»æ§è¡ä¸æ¬¡ç</p>
<p>ç¤ºä¾ï¼<br>
<img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3509144/202601/3509144-20260131151904912-626225154.png" class="lazyload"></p>
<h2 id="11-ç³»ç»æ¯æ">11 ç³»ç»æ¯æ</h2>
<p>AAèæ¬çç³»ç»æ¯æå®ç°åçåèéå½5ãä¸ç©çIDãä¸äºçäºä»¶ãä¸äººçæ°æ®ãã<br>
å¦æä½ çæ¸¸ææ¯ç¨Luaæ¥å®ç°ä¸å¡é»è¾çï¼å¯ä»¥å¨è®¾è®¡æä½¿ç¨å·¥å·å°AAèæ¬çéç½®è¡¨ææ¥å£è§èç¿»è¯æluaèæ¬ï¼åèéå½5 data-eçluaé¨åï¼ã<br>
å¦æä½ çæ¸¸ææ¯ç¨é«çº§è¯­è¨å¼åçï¼å¯ä»¥æ ¹æ®åéå®ä¹å¨ç³»ç»å¯å¨æ¶è§£ææä½¿ç¨IDç¬¦å·è¯å«çç¨åºå¯¹è±¡ï¼åèéå½5 data-eçgolangé¨åï¼ã</p>
<h2 id="éå½1-åéåº">éå½1 åéåº</h2>
<p>â¢æ¶é´<br>
â¢æ¥æ<br>
â¢æ¶é´æ¥æ<br>
â¢å¹´<br>
â¢æ<br>
â¢æ¥<br>
â¢å¤©<br>
â¢ææ<br>
â¢æ¶<br>
â¢å<br>
â¢ç§<br>
â¢å°å¾ // å½åæå¨å°å¾<br>
â¢X // å½åä½ç½®Xåæ <br>
â¢Y // å½åä½ç½®Yåæ <br>
â¢Z // å½åä½ç½®Zåæ <br>
â¢åå¼ // å½ååå¼åéï¼äº¦å³æåä¸æ¬¡åå¼</p>
<p>å¯èªè¡è¡¥åå®åä¸­...</p>
<h2 id="éå½2-äºä»¶åº">éå½2 äºä»¶åº</h2>
<p>â¢å¹´ // æ¶é´ä¿¡æ¯æ¹å<br>
â¢æ<br>
â¢æ¥<br>
â¢å¤©<br>
â¢ææ<br>
â¢æ¶<br>
â¢å<br>
â¢ç§<br>
â¢ä¸çº¿<br>
â¢ä¸çº¿<br>
â¢æ­çº¿<br>
â¢è¿å¥å°å¾<br>
â¢ç¦»å¼å°å¾<br>
â¢æ­»äº¡ // è¢«å¯¹æææ­»<br>
â¢ææ­» // ååææ­»ä¸ä¸ªå¯¹æ<br>
â¢å¤æ´»<br>
â¢èµ°<br>
â¢è·<br>
â¢è·³<br>
â¢é£<br>
â¢è·¯è¿ // ä»å¯¹æ¹xè·ç¦»èµ°è¿<br>
â¢ç¢°ãå¯¹è¯ // ç¢°å°å¯¹æ¹ãå¯¹è¯<br>
â¢è¸©ãç©¿ // è¸©å°æç©¿è¿å¯¹æ¹</p>
<p>å¯èªè¡è¡¥åå®åä¸­...</p>
<h2 id="éå½3-æ¡ä»¶å½æ°åº">éå½3 æ¡ä»¶å½æ°åº</h2>
<p>â¢äºä»¶(A,B,...) // å¤æ­äºä»¶æ¯å¦åå«æåå¼<br>
â¢æ¶è(A:100,B:200,...)<br>
â¢å¯¹æ¹(åå­, ä¼å°é­)ãå¯¹æ¹(ç±»å, æªç©) // å¤æ­PKå¯¹æ¹æå®çåéæ¯å¦ç­äºé¢æå¼<br>
â¢å°å¾(åå­, åå¤©é¨)ãå°å¾(ç±»å, å¤©ç) // å¤æ­å°å¾æå®çåéæ¯å¦ç­äºé¢æå¼</p>
<p>å¯èªè¡è¡¥åå®åä¸­...</p>
<h2 id="éå½4-å¨ä½å½æ°åº">éå½4 å¨ä½å½æ°åº</h2>
<p>â¢äºä»¶(A,B,...) // ä¾æ¬¡è§¦åæåäºä»¶<br>
â¢æ¶è(A:100,B:200,...)<br>
â¢å¥å±(A:100,B:200,...)ãå¥å±(10003) // è°ç¨IDæå®çå¥å±åè®¾å®å®ç°<br>
â¢å·æª(ä¼å°é­,1,203,235)ãå·æª(80001) // è°ç¨IDæå®çå¸æªè®¾å®å®ç°<br>
â¢è·³è½¬(åå¤©é¨,304,208)ãè·³è½¬(åå¤©é¨,304,208,10)// æå®èå´éæº<br>
â¢å¤æ´»(åå¤©é¨,304,208)ãå¤æ´»() // åå°å¤æ´»<br>
â¢èµ°(304,256) // ç±åç¹å°ç®æ ç¹<br>
â¢è·(304,256)<br>
â¢è·³(304,256)<br>
â¢é£(304,256,503) // ç±åç¹å°ç®æ 3Dç¹</p>
<p>å¯èªè¡è¡¥åå®åä¸­...</p>
<h2 id="éå½-5-ç¸å³åèé¾æ¥">éå½ 5 ç¸å³åèé¾æ¥</h2>
<p>æ¸¸æé«åº¦å¯éç½®åï¼ä¸ï¼éç¨æ°æ®å¼æ(data-e)åå¶å¨æ¨¡ååæ¸¸æå¼åä¸­çåºç¨ææ³å¾è§£<br>
<a href="https://blog.csdn.net/guestcode/article/details/139897257" target="_blank" rel="noopener nofollow">https://blog.csdn.net/guestcode/article/details/139897257</a></p>
<p>æ¸¸æé«åº¦å¯éç½®åï¼äºï¼ç¨âæ¨¡åæ½è±¡âåè§£æ¸¸æç­ååç¨åºåçæ±æ¹æ©æ¨<br>
<a href="https://blog.csdn.net/guestcode/article/details/139897783" target="_blank" rel="noopener nofollow">https://blog.csdn.net/guestcode/article/details/139897783</a></p>
<p>æ¸¸æå·¥åï¼AIï¼AIGC/ChatGPTï¼ä¸æµç¨å¼æ¸¸æå¼å<br>
<a href="https://blog.csdn.net/guestcode/article/details/139898182" target="_blank" rel="noopener nofollow">https://blog.csdn.net/guestcode/article/details/139898182</a></p>
<p>æµè°æ°å­¦æ¨¡åå¨UGC/AIGCæ¸¸ææ°å¼éç½®è°åä¸­çåºç¨(AIæºè½ä½)<br>
<a href="https://blog.csdn.net/guestcode/article/details/140398630" target="_blank" rel="noopener nofollow">https://blog.csdn.net/guestcode/article/details/140398630</a></p>
<p>ãæ°æ®ä¸­å°æç¥ãå¯éç½®åæ°å­¦å»ºæ¨¡çåºç¨æ¡ä¾å¾è§£<br>
<a href="https://blog.csdn.net/guestcode/article/details/127469191" target="_blank" rel="noopener nofollow">https://blog.csdn.net/guestcode/article/details/127469191</a></p>
<p>ãå¾è§£ãAIGCæ¶ä»£çæ¸¸ææ½è±¡è®¾è®¡ï¼ä¸ç©çIDãä¸äºçäºä»¶ãä¸äººçæ°æ®<br>
<a href="https://www.cnblogs.com/ygluu/p/19117836" target="_blank">https://www.cnblogs.com/ygluu/p/19117836</a></p>
<p>æ³¨ï¼ä¸è¿°é¾æ¥ä¸­æç¸å³çä»ç«ä»åé¾æ¥æå¸å­</p>
</font>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-31 15:22">2026-01-31 15:21</span>&nbsp;
<a href="https://www.cnblogs.com/ygluu">ç å®¢-ygluu</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19550578);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19550578', targetLink: 'https://www.cnblogs.com/ygluu/p/19550578', title: 'AAæ¸¸æèæ¬è§èï¼AA Game Scriptï¼' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ä»¥è±åäºä¸ºä¾ä»ç»éç¾¤äºæå¡å¨çä½¿ç¨ ]]></title>
    <link>https://www.cnblogs.com/RunfarAI/p/19555772</link>
    <guid>eb48dec12e5abadac865291ff2654342</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/RunfarAI/p/19555772" title="åå¸äº 2026-01-30 21:23">
    <span role="heading" aria-level="2">ä»¥è±åäºä¸ºä¾ä»ç»éç¾¤äºæå¡å¨çä½¿ç¨</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p></p><div class="toc"><div class="toc-container-header">ç®å½</div><ul><li><a href="#åºæ¬å³ç³»" rel="noopener nofollow">åºæ¬å³ç³»</a></li><li><a href="#å¼åæºä½¿ç¨" rel="noopener nofollow">å¼åæºä½¿ç¨</a></li><li><a href="#å¼åç¯å¢ç" rel="noopener nofollow">å¼åç¯å¢ç</a></li><li><a href="#ç¯å¢éç½®" rel="noopener nofollow">ç¯å¢éç½®</a><ul><li><a href="#æ´æ¹condaçç¯å¢å­æ¾ä½ç½®" rel="noopener nofollow">æ´æ¹condaçç¯å¢å­æ¾ä½ç½®</a></li><li><a href="#æ´æ¹pipç¼å­çå­æ¾ä½ç½®" rel="noopener nofollow">æ´æ¹pipç¼å­çå­æ¾ä½ç½®</a></li></ul></li><li><a href="#å±äº«å­å¨å·" rel="noopener nofollow">å±äº«å­å¨å·</a></li><li><a href="#éè¿huggingface_cliä¸è½½æ¨¡ååæ°æ®é" rel="noopener nofollow">éè¿huggingface_cliä¸è½½æ¨¡ååæ°æ®é</a></li><li><a href="#å éè®¿é®" rel="noopener nofollow">å éè®¿é®</a><ul><li><a href="#hfdaria2" rel="noopener nofollow">hfd+aria2</a></li><li><a href="#ä¸æ­¥å°ä½è±åäºåç½®å éæå¡" rel="noopener nofollow">ä¸æ­¥å°ä½ââè±åäºåç½®å éæå¡</a></li></ul></li></ul></div><p></p>
<h1 id="åºæ¬å³ç³»">åºæ¬å³ç³»</h1>
<p>éç¾¤ä¸ç®¡ççå¤ä¸ªå¼åæºï¼å¼åæºæ¯ç¨æ·ä½¿ç¨è®¡ç®èµæºçåºæ¬åä½ãæ¯ä¸ªéç¾¤æèªå·±çå±äº«å­å¨å·ãåå­å¨å·ä»¥åå¯¹è±¡å­å¨å·ãä¸åéç¾¤çå­å¨ä¸å±äº«ã</p>
<p>å±äº«å­å¨å·ä¸è¬å­æ¾æ°æ®éä¹ç±»çå¤§åè®­ç»æ°æ®ï¼å¯æè½½å°å¤ä¸ªå¼åæºï¼åå­å¨ä¸è¬åªæè½½å°ä¸ä¸ªå¼åæºãå¯¹è±¡å­å¨ä¸»è¦æ¯å­æµ·ééç»æåæ°æ®ï¼å¦å¾çãé³é¢ãè§é¢ãææ¬ç­ã</p>
<h1 id="å¼åæºä½¿ç¨">å¼åæºä½¿ç¨</h1>
<p>ä»ç»ä¸¤ç§å¸¸ç¨çä½¿ç¨æ¹å¼ãæ¹å¼ä¸ï¼å¼æºåä½¿ç¨å¼åæºèªå¸¦çJupyterï¼å³ç¹å»JupyterLabãå¨JupyterLabéå¯ä»¥éè¿è¿ä¸ªæé®ä¸ä¼ æä»¶ï¼</p>
<p><img src="https://yunhdan.github.io/assets/yingboyun1.png" alt="" loading="lazy"></p>
<p>ç¶åçº¢æ¡å·¦è¾¹çæé®æ¯åå»ºæ°çç®å½ï¼çº¢æ¡å³è¾¹æ¯å·æ°ï¼èè²å å·æ¯æå¼æ°çJupyteré¡µé¢ã</p>
<p>æ¹å¼äºï¼ç¨ssh+VSCodeè¿æ¥ãå¨VSCodeæç´¢å¦ä¸ä¸¤ä¸ªæä»¶ï¼</p>
<p><img src="https://yunhdan.github.io/assets/yingboyun2.png" alt="" loading="lazy"></p>
<p><img src="https://yunhdan.github.io/assets/yingboyun3.png" alt="" loading="lazy"></p>
<p>å®è£å®æ¯åéå¯VSCodeï¼ç¹å»å·¦ä¾§çè¿ç¨èµæºç®¡çå¨æå¼sshæå¡å¨éæ©æ ï¼</p>
<p><img src="https://yunhdan.github.io/assets/yingboyun4.png" alt="" loading="lazy"></p>
<p>ç¹ä¸­å å·ï¼å¢å è¿ç¨æå¡å¨ï¼</p>
<p><img src="https://yunhdan.github.io/assets/yingboyun5.png" alt="" loading="lazy"></p>
<p>æå¼è±åäºçå¼åæºé¡µé¢ï¼ç¹å»å¼åæºçè¿ç¨è¿æ¥ï¼å¤å¶ç»éæ¹å¼å½ä»¤ï¼<br>
<img src="https://yunhdan.github.io/assets/yingboyun6.png" alt="" loading="lazy"></p>
<p>ç²è´´å°å¼¹çªï¼<br>
<img src="https://yunhdan.github.io/assets/yingboyun7.png" alt="" loading="lazy"></p>
<p>éæ©è¦æ´æ°çsshéç½®æä»¶ï¼æ²¡æå°±èªå·±åå»ºä¸ä¸ªï¼</p>
<p><img src="https://yunhdan.github.io/assets/yingboyun8.png" alt="" loading="lazy"></p>
<p>å¨å¼¹åºçéç½®é¡µé¢ä¸­éç½®sshï¼</p>
<p><img src="https://yunhdan.github.io/assets/yingboyun9.png" alt="" loading="lazy"></p>
<p>Hostæ¯è¿ç¨æå¡å¨åå­ï¼å¯ä»¥èªå·±åãåå¦æä»¬å¤å¶çsshç»å½æ¹å¼æ¯ï¼<code>ssh -p 39000 root@ssh-cn-huabei1.ebcloud.com</code>ï¼é£ä¹HostNameå°±æ¯@åé¢çåå®¹ï¼Portæ¯ssh - påé¢çæ°å­ï¼Useræ¯@åé¢çrootã</p>
<p>ä¿å­åéåºï¼ç¹å»ç®­å¤´è¿å¥è¿æ¥ï¼</p>
<p><img src="https://yunhdan.github.io/assets/yingboyun10.png" alt="" loading="lazy"></p>
<p>ä¼è¦æ±éæ©è¿ç¨å¹³å°ç±»åï¼éæ©Linuxï¼ç¶åä¼å¼¹åºææçº¹ï¼ç¹å»ç»§ç»­åè¿å¥å¯ç è¾å¥ï¼å¤å¶è±åäºå¼åæºè¿ç¨è¿æ¥çç»å½å¯ç ç¶åç²è´´è¿å»å³å¯è¿æ¥ï¼</p>
<p><img src="https://yunhdan.github.io/assets/yingboyun12.png" alt="" loading="lazy"></p>
<h1 id="å¼åç¯å¢ç">å¼åç¯å¢ç</h1>
<p>ç³»ç»çé»è®¤æè½½å°rootç®å½ï¼è¿å¥rootç®å½ä¼çå°miniconda3å·²ç»å®è£å¥½ï¼ä¹åconda createçèæç¯å¢ä¼å®è£å°miniconda3/envsä¸­ï¼pipçç¼å­ä¹å¨rootç®å½ä¸ã</p>
<p>ç¶èç³»ç»çåªæ30Gï¼å°æ¥åå»ºæ´å¤èæç¯å¢æ¶ï¼è¿ç¹ç©ºé´æ¯è¯å®ä¸å¤çãå æ­¤æ¨èå°pipç¼å­ä»¥åèæç¯å¢çä½ç½®æ´æ¹å°å¶ä»å°æ¹ã</p>
<p>æä»¬å¨è±åäºå¼ä¸ä¸ªåå­å¨å·ï¼ä¸é¨æ¾ç½®ç¯å¢ï¼</p>
<p><img src="https://yunhdan.github.io/assets/yingboyun11.png" alt="" loading="lazy"></p>
<p>å­å¨ç©ºé´å¯ä»¥åå¤§äºï¼æ¯å¦64Gã128Gãç¶åå°å¼åæºä¸­æ´æ¹å®ä¾éç½®ï¼ä¸æ»å°å­å¨éç½®ï¼å¨åå­å¨å·ä¸­æè½½ä½ æ°å¼çå­å¨å·ï¼ç¶åæè½½è·¯å¾èªå®ï¼ä¹åå¨è¿ä¸ªè·¯å¾æ¾ä¸è¥¿å°±ç¸å½äºæ¾å°è¿ä¸ªæ°çã</p>
<blockquote>
<p>ä¸ºä»ä¹è¦å¼ä¸ä¸ªæ°çæ¾ç¯å¢å·²ç»è®²æ¸æ¥äºãé£ä¹ä¸ºä»ä¹éæ©åå­å¨å·èä¸æ¯å±äº«å­å¨å·æ¾ç½®ç¯å¢ï¼è¿æ¯å ä¸ºä¸ä¸ªåå­å¨å·åªè½æè½½å°ä¸ä¸ªå¼åæºï¼ä¹å°±æ¯è¯´å¦æä½ æè¿ä¸ªæ°çæè½½å°ä½ çå¼åæºï¼é£ä¹å¶ä»å¼åæºå°±æ æ³åè®¿é®è¿ä¸ªççæ°æ®ï¼å°±è½å¤é¿åäºç¯å¢è¢«å¶ä»å¼åæºå é¤çæåµï¼èä¸åè®¸äºä¸åçå¼åæºæä¸åçèæç¯å¢åã</p>
</blockquote>
<blockquote>
<p>å¦æå·²ç»å¼è¿ä¸ä¸ªç¯å¢çï¼è¿æç©ºé´çè¯ï¼é£å°±ä¸ç¨åå¼äºï¼è¿éæ¯éå¯¹æ°åå»ºæºå¨çã</p>
</blockquote>
<h1 id="ç¯å¢éç½®">ç¯å¢éç½®</h1>
<h2 id="æ´æ¹condaçç¯å¢å­æ¾ä½ç½®">æ´æ¹condaçç¯å¢å­æ¾ä½ç½®</h2>
<p>è¿å¥æ ¹ç®å½ä¸çcondaç®å½ï¼éå¸¸å«miniconda3æèanaconda3ï¼ï¼å¨è¯¥çº§ç®å½ä¸æ¾å°<code>.condarc</code>è¿ä¸ªæä»¶ï¼æ·»å å¦ä¸åå®¹ï¼</p>
<pre><code class="language-raw">envs_dirs:
  - /data/envs
</code></pre>
<p>/data/envsæ¯ä½ èªå®ä¹çå­æ¾èæç¯å¢çä½ç½®ï¼ä¸è¬æ¯å¨åé¢æ°ççæè½½è·¯å¾ä¸ãä¿å­åï¼ä»¥ååå»ºèæç¯å¢å°±è½èªå¨å¨è¿ä¸ªç®å½ä¸åå»ºäºãåæ¶ï¼ä½ å¯ä»¥æèæç¯å¢envç®å½ç§»å¨å°è¿ä¸ªèªå®ä¹çä½ç½®ï¼condaä¹ä¼è¯å«å°èæç¯å¢ã</p>
<p>è¿æ ·ï¼å¤ä¸ªèæç¯å¢å°±ä¼å®è£å°åå­å¨å·ä¸­ï¼é¿åäºç³»ç»ççèè¿ã</p>
<h2 id="æ´æ¹pipç¼å­çå­æ¾ä½ç½®">æ´æ¹pipç¼å­çå­æ¾ä½ç½®</h2>
<p>pipçç¼å­æ¯å¨å±çï¼ä¹å°±æ¯è¯´ææçèæç¯å¢çpipç¼å­é½å°å­æ¾å°ä¸ä¸ªå°æ¹ï¼ä¸è¬é»è®¤å­æ¾å°æ ¹ç®å½rootä¸ç<code>.cache</code>ç®å½ä¸ãè¿æ¶å¯ä»¥éè¿å¦ä¸å½ä»¤æ´æ¹pipç¼å­çå­æ¾ä½ç½®ï¼</p>
<pre><code class="language-bash">pip config set global.cache-dir "/home/your_path"
</code></pre>
<p>æèè¿å¥æ ¹ç®å½ä¸ç<code>.config/pip</code>ç®å½ï¼æ¾å°pip.confæä»¶ï¼æå¼å¯ä»¥åç°æå¦ä¸åå®¹ï¼</p>
<pre><code class="language-raw">[global]
cache-dir = /data/pip_cache
</code></pre>
<p>å¨cache-dirå­æ®µæ´æ¹ä¸ºèªå®ä¹çè·¯å¾ä½ç½®å³å¯ã</p>
<p>å¦æä½ æ³æ¢å¤é»è®¤è®¾ç½®ï¼å¯ä»¥ä½¿ç¨ä»¥ä¸å½ä»¤ï¼</p>
<pre><code class="language-bash">pip config unset global.cache-dir
</code></pre>
<blockquote>
<p>åæ ·ï¼å¦æä¹åå·²ç»æ´æ¹è¿äºéç½®çå¼åæºï¼å°±æ²¡å¿è¦åæ´æ¹äºã</p>
</blockquote>
<h1 id="å±äº«å­å¨å·">å±äº«å­å¨å·</h1>
<p>ç¡®ä¿ä½ çå¼åæºåå¥½äºå±äº«å­å¨å·çæè½½ï¼æå¼å¼åæºçå®ä¾éç½®ï¼ä¸æ»å°å­å¨éç½®ï¼</p>
<p><img src="https://yunhdan.github.io/assets/yingboyun13.png" alt="" loading="lazy"></p>
<p>æ·»å å±äº«å­å¨å·åï¼ä¸ºå¶å®ä¹æè½½è·¯å¾ï¼è¿æ ·ä¹åä»£ç åæ°æ®éå¯ä»¥æ¾å°å¼åæºçè¿ä¸ªè·¯å¾ä¸ã</p>
<p>å³äºå±äº«å­å¨å·ï¼å»ºè®®æ¯ä¸ªäººç¨èªå·±çæ¼é³åæ¥å½åèªå·±çæä»¶å¤¹ï¼ç¶åå¨è¿ä¸ªèªå·±çæä»¶å¤¹ä¸æ¾èªå·±çæ°æ®ï¼è¿æ ·ä¾¿äºæ¥æ¾ï¼é²æ­¢å²çªã</p>
<h1 id="éè¿huggingface_cliä¸è½½æ¨¡ååæ°æ®é">éè¿huggingface_cliä¸è½½æ¨¡ååæ°æ®é</h1>
<p>é¤äºç´æ¥å°ç½é¡µç«¯ç¹å»ä¸è½½æé®ä¹å¤ï¼è¿å¯ä»¥å¨ç»ç«¯ç¨å½ä»¤è¡çæ¹å¼ä¸è½½æ°æ®éåæ¨¡åã</p>
<p>é¦ååºè¯¥å®è£huggingface_hubå·¥å·ï¼</p>
<pre><code class="language-bash">pip install -U huggingface_hub
</code></pre>
<p>huggingface-cliå·²ç»å¼ç¨ï¼huggingface-cliå·²ç»æ´æ°ä¸ºhfå½ä»¤ãå³äºhfå½ä»¤æåªäºååï¼å¯ä»¥èèå­¦ä¹ è¿ç¯æç« ï¼<a href="https://zhuanlan.zhihu.com/p/663712983?s_r=0%E3%80%82" target="_blank" rel="noopener nofollow">https://zhuanlan.zhihu.com/p/663712983?s_r=0ã</a></p>
<p>å¨Windowsï¼ä½ å¯ä»¥ä¾æ¬¡æ§è¡ï¼</p>
<pre><code class="language-bash">$env:HF_ENDPOINT = "https://hf-mirror.com"
hf download --resume-download [model name] --local-dir [save location]
</code></pre>
<p>å¨æ¬å·åæ¿æ¢ä¸ºå·ä½çåå®¹ãmodel nameæ¯huggingfaceæä¸ªä»åºå·ä½çåå­ï¼æ¯å¦ä¸é¢ç<code>ShengbinYue/DISC-Law-SFT</code>ãsave locationåæ¯ä¿å­å°æ¬å°çç®å½åã</p>
<p><img src="https://yunhdan.github.io/assets/huggingface1.png" alt="" loading="lazy"></p>
<p>ä¸è½½æ°æ®éçå½ä»¤åæ¯å¨åé¢ä¸è½½æ¨¡åçå½ä»¤å¢å <code>--repo-type dataset</code>åæ°ãå¨Linuxå¹³å°ï¼ä½ å¯ä»¥èèææ§è¡<code>$env:HF_ENDPOINT = "https://hf-mirror.com</code>æ¢ææ§è¡ï¼</p>
<pre><code class="language-bash">export HF_ENDPOINT="https://hf-mirror.com"
</code></pre>
<blockquote>
<p>$env:HF_ENDPOINT = "<a href="https://hf-mirror.com" target="_blank" rel="noopener nofollow">https://hf-mirror.com</a>" å export HF_ENDPOINT="<a href="https://hf-mirror.com" target="_blank" rel="noopener nofollow">https://hf-mirror.com</a>" çç®çå°±æ¯å¨äºè§£å³å½åè®¿é®huggingfaceæå¡å¨å¤±è´¥çé®é¢ãè®¾ç½®è¿å½ä»¤å°±æ¯æä¾ä¸ä¸ªéåä»¥ä¾¿æ´å¿«å°è®¿é®ï¼è¿ä¸ªæ¯å®æ¹çéåï¼éåº¦å¿«ã</p>
</blockquote>
<h1 id="å éè®¿é®">å éè®¿é®</h1>
<p>å¦æä½ åç°ä¸é¢çæ¹æ³ä¸è½½éåº¦è¿æ¯å¾æ¢ï¼ä½ å¯ä»¥åèä¸é¢çåæ³ã</p>
<h2 id="hfdaria2">hfd+aria2</h2>
<p>é¦åä¸è½½hfdåaria2cï¼</p>
<pre><code class="language-bash">wget https://hf-mirror.com/hfd/hfd.sh
chmod a+x hfd.sh

sudo apt-get install aria2
sudo apt-get install git-lfs
</code></pre>
<p>hfdè¿ç©æé»è®¤å®è£å°å½åè·¯å¾ä¸ã</p>
<p>è®¾ç½®ç¯å¢åéï¼</p>
<pre><code class="language-bash">export HF_ENDPOINT=https://hf-mirror.com
</code></pre>
<p>ä¸è½½æ¨¡å/æ°æ®éï¼</p>
<pre><code class="language-bash">./hfd.sh [model/datasets] --tool aria2c -x 8
</code></pre>
<h2 id="ä¸æ­¥å°ä½è±åäºåç½®å éæå¡">ä¸æ­¥å°ä½ââè±åäºåç½®å éæå¡</h2>
<p>ç¡®ä¿å®è£å¥½äºhfdåaria2cï¼æ²¡æå°±çä¸é¢åå®è£å¥½ã</p>
<p>æ­¤æ¶<strong>ä¸</strong>è®¾ç½®ç¯å¢åé<code>export HF_ENDPOINT=https://hf-mirror.com</code>ãå¨ç»ç«¯è¾å¥å½ä»¤ï¼</p>
<pre><code class="language-bash">source /public/bin/network_accelerate
</code></pre>
<p>è¿ä¸ªå½ä»¤å¯ä»¥å¨å½åç»ç«¯æå¼è±åäºçå éæå¡ï¼æ¯æè®¿é®githubãhuggingfaceãwandbç­ã</p>
<p>åæ¶å éçå½ä»¤å¯åèï¼</p>
<pre><code class="language-bash">source /public/bin/network_accelerate_stop
</code></pre>
<p>è®¾ç½®äºå éåï¼åè¾å¥ä¸è½½å½ä»¤ï¼</p>
<pre><code class="language-bash">./hfd.sh [model/datasets] --tool aria2c -x 8
</code></pre>


</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.14097222222222222" data-date-updated="2026-01-31 00:46">2026-01-30 21:23</span>&nbsp;
<a href="https://www.cnblogs.com/RunfarAI">RunfarAI</a>&nbsp;
éè¯»(<span id="post_view_count">30</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19555772);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19555772', targetLink: 'https://www.cnblogs.com/RunfarAI/p/19555772', title: 'ä»¥è±åäºä¸ºä¾ä»ç»éç¾¤äºæå¡å¨çä½¿ç¨' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ stable_baseline3 å¿«éå¥é¨(äº): è®­ç»èªå®ä¹æ¸¸æï¼æå»ºGymnasiumè®­ç»ç¯å¢ ]]></title>
    <link>https://www.cnblogs.com/ClownLMe/p/19554865</link>
    <guid>78f29ec24110c2d477419772f0dccc34</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/ClownLMe/p/19554865" title="åå¸äº 2026-01-30 17:46">
    <span role="heading" aria-level="2">stable_baseline3 å¿«éå¥é¨(äº): è®­ç»èªå®ä¹æ¸¸æï¼æå»ºGymnasiumè®­ç»ç¯å¢</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="ç®ä»">ç®ä»</h1>
<p><strong>Gymnasium</strong> ä¸ºå¼ºåå­¦ä¹ æä¾äºä¸ä¸ªæ ååçAPIï¼å®å®ä¹äº Agent åºè¯¥å¦ä½è§å¯ä¸çãå¦ä½ååºå¨ä½ä»¥åå¦ä½è·å¾å¥å±ï¼ä¸ç®¡æ¯æ¸¸æï¼è¿æ¯å·¥ä¸è®¾å¤ï¼åªéè¦æ»¡è¶³<code>Gymnasium</code>æ åé½è½ä½¿ç¨åä¸å¥ä»£ç è¿è¡è®­ç»ã</p>
<h1 id="è®¤è¯gymnasium">è®¤è¯Gymnasium</h1>
<p>ä½¿ç¨<code>stable_baseline3</code>åªéè¦å®ä¹å¥½<code>Gymnasium</code>ç¯å¢ï¼å³æ³¨è®­ç»çå¥å±æºå¶ï¼å°éç¹æ¾å¨ä¸å¡çå¼åä¸èä¸æ¯å¤æçç®æ³ã</p>
<p><strong>Gymnasium</strong>æä¾äºå ä¸ªæ ¸å¿çapiï¼</p>
<table>
<thead>
<tr>
<th><strong>æ¹æ³</strong></th>
<th><strong>åè½</strong></th>
<th><strong>è¿åå¼</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>reset()</code></strong></td>
<td>å°ç¯å¢éç½®ä¸ºåå§ç¶æï¼å¼å§æ°ååã</td>
<td><code>obs, info</code></td>
</tr>
<tr>
<td><strong><code>step(action)</code></strong></td>
<td>ç¯å¢ååæ¨è¿ä¸æ­¥ï¼æ§è¡å¨ä½ã</td>
<td><code>obs, reward, terminated, truncated, info</code></td>
</tr>
<tr>
<td><strong><code>render()</code></strong></td>
<td>å¯è§åç¯å¢ï¼æ ¹æ® <code>render_mode</code> æ¸²æå¾åæå¼¹åºçªå£ï¼ã</td>
<td>è§éç½®èå®ï¼éå¸¸æ æä¸º <code>np.array</code>ï¼</td>
</tr>
<tr>
<td><strong><code>close()</code></strong></td>
<td>éæ¾ç¯å¢èµæºï¼å³é­çªå£ãæ¸çåå­ï¼ã</td>
<td>æ </td>
</tr>
</tbody>
</table>
<p>å¶ä¸­çåä¸ªè¿åå¼çå«ä¹ï¼</p>
<ul>
<li><strong><code>observation</code> (Object)</strong>: å½åç¶æçæè¿°ãä¾å¦æäººï¼ç©å®¶çä½ç½®ï¼ç©å®¶çç¶æç­</li>
<li><strong><code>reward</code> (Float)</strong>: ä¸ä¸æ­¥å¨ä½è·å¾çå¥å±</li>
<li><strong><code>terminated</code> (Bool)</strong>: æ¯å¦ç±äº<strong>ä»»å¡é»è¾</strong>ç»æãä¾å¦ï¼å°è¾¾ç»ç¹ãæè¿å²©æµç­</li>
<li><strong><code>truncated</code> (Bool)</strong>: æ¯å¦ç±äº<strong>å¤é¨éå¶</strong>ç»æãä¾å¦ï¼è¾¾å°æå¤§æ­¥æ° 500 æ­¥</li>
<li><strong><code>info</code> (Dict)</strong>: è¾å©è¯æ­ä¿¡æ¯ï¼æ¨¡åè®­ç»éå¸¸ä¸ç¨ï¼ç¨äºç¨æ·èªå®ä¹è°è¯æè®°å½é¢å¤ç»è®¡ã</li>
</ul>
<h1 id="æå¨æå»ºç¯å¢">æå¨æå»ºç¯å¢</h1>
<h3 id="æ¡ä¾">æ¡ä¾</h3>
<p>æ¡ä¾æè¿°ï¼å©ç¨pygameæå»ºä¸ä¸ªç®åçæ¸¸æï¼èº²é¿æè½æ¹åï¼å©ç¨æå»ºçå¥å±æºå¶ï¼è¿è¡å¼ºåå­¦ä¹ ã</p>
<pre><code class="language-python">import gymnasium as gym
from gymnasium import spaces
import numpy as np
import pygame
import random
import cv2
import os
from stable_baselines3 import PPO
from stable_baselines3.common.callbacks import CheckpointCallback
from stable_baselines3.common.env_checker import check_env

class MyEnv(gym.Env):
    def __init__(self, render_mode=None):
        super(MyEnv, self).__init__()

        #åå§ååæ°
        self.width = 400
        self.height = 300
        self.player_size = 30
        self.enemy_size = 30
        self.render_mode = render_mode

        self.action_space = spaces.Discrete(3)

        self.observation_space = spaces.Box(
            low=0, high=255, shape=(84, 84, 3), dtype=np.uint8
        )

        pygame.init()
        if self.render_mode == "human":
            self.screen = pygame.display.set_mode((self.width, self.height))
        
        self.canvas = pygame.Surface((self.width, self.height))
        self.font = pygame.font.SysFont("monospace", 15)

    def reset(self, seed=None, options=None):
        super().reset(seed=seed)

        self.player_x = self.width // 2 - self.player_size // 2
        self.player_y = self.height - self.player_size - 10
        self.enemies = []
        self.score = 0
        self.frame_count = 0

        self.current_speed = 5
        self.spawn_rate = 30

        return self._get_obs(), {}

    def step(self, action):
        reward = 0
        terminated = False
        truncated = False

        move_speed = 8
        if action == 1 and self.player_x &gt; 0: # 
            self.player_x -= move_speed
            reward -= 0.05

        if action == 2 and self.player_x &lt; self.width - self.player_size:
            self.player_x += move_speed
            reward -= 0.05

        self.frame_count += 1

        level = self.score // 5
        self.current_speed = 5 + level
        self.spawn_rate = 30 - level * 2
        spawn_rate = max(10, 30 - level)

        if self.frame_count &gt;= spawn_rate:
            self.frame_count = 0
            enemy_x = random.randint(0, self.width - self.enemy_size)
            self.enemies.append([enemy_x, 0]) # [x, y]

        for enemy in self.enemies:
            enemy[1] += self.current_speed
            
            player_rect = pygame.Rect(self.player_x, self.player_y, self.player_size, self.player_size)
            enemy_rect = pygame.Rect(enemy[0], enemy[1], self.enemy_size, self.enemy_size)
            
            if player_rect.colliderect(enemy_rect):
                reward = -10 
                terminated = True

            elif enemy[1] &gt; self.height:
                self.enemies.remove(enemy)
                self.score += 1
                reward = 1 
        
        if not terminated:
            if self.score &gt; 100:
                reward += 0.01
            reward += 0.01

        obs = self._get_obs()

        if self.render_mode == "human":
            self._render_window()

        return obs, reward, terminated, truncated, {}

    def _get_obs(self):
        self.canvas.fill((0, 0, 0))
        pygame.draw.rect(self.canvas, (50, 150, 255), (self.player_x, self.player_y, self.player_size, self.player_size))
        
        for enemy in self.enemies:
            pygame.draw.rect(self.canvas, (255, 50, 50), (enemy[0], enemy[1], self.enemy_size, self.enemy_size))

        img_array = pygame.surfarray.array3d(self.canvas)
        img_array = np.transpose(img_array, (1, 0, 2))
        obs = cv2.resize(img_array, (84, 84), interpolation=cv2.INTER_AREA)

        return obs.astype(np.uint8)

    def _render_window(self):
        self.screen.blit(self.canvas, (0, 0))
        text = self.font.render(f"Score: {self.score}", True, (255, 255, 255))
        self.screen.blit(text, (10, 10))
        pygame.display.flip()

        for event in pygame.event.get():
            if event.type == pygame.QUIT:
                pygame.quit()

def train():
    log_dir = "logs/DodgeGame"
    os.makedirs(log_dir, exist_ok=True)

    env = MyEnv()
    check_env(env)
    print("ç¯å¢æ£æ¥éè¿...")

    model_path = "models/dodge_ai.zip"
    if not os.path.exists(model_path):
        print("ð æªåç°æ§æ¨¡åï¼ä»å¤´å¼å§è®­ç»...")
        model = PPO(
            "CnnPolicy", 
            env, 
            verbose=1,
            tensorboard_log=log_dir,
            learning_rate=0.0001,
            n_steps=4096,
            batch_size=256,
            device="cuda")
        reset_timesteps = True
    else:
        print("åç°æ§æ¨¡åï¼å è½½å¹¶ç»§ç»­è®­ç»...")
        model = PPO.load(
            model_path, 
            env=env,      
            device="cuda",
            custom_objects={"learning_rate": 0.0001, "n_steps": 4096, "batch_size": 256}
        )
        reset_timesteps = False
   
    print("å¼å§è®­ç»...")

    model.learn(
        total_timesteps=50000,
        reset_num_timesteps=reset_timesteps
    )

    model.save("models/dodge_ai")
    print("æ¨¡åå·²ä¿å­ï¼")
    env.close()

def prodict():
    env = MyEnv(render_mode="human")
    model = PPO.load("models/dodge_ai", env=env, device="cuda")
    obs, _ = env.reset()

    while True:
        action, _states = model.predict(obs, deterministic=True)

        obs, reward, terminated, truncated, info = env.step(action)

        if terminated or truncated:
            obs, _ = env.reset()
        
        pygame.time.Clock().tick(30)

if __name__ == "__main__":
    train()

    prodict()

</code></pre>
<h3 id="ä»£ç è§£æ">ä»£ç è§£æ</h3>
<p>ä»£ç æµç¨å¦ä¸ï¼<br>
<strong>æå»ºæ¸¸æç¯å¢-&gt;è®­ç»æ¨¡å-&gt;æ¨¡åé¢æµ</strong><br>
æ¬ç¯éç¹è®²æ<strong>å»ºæ¸¸æç¯å¢</strong>ï¼å¶ä¸­ç<code>pygame</code>ç¸å³ä»£ç ç®ç¥ï¼å¦å¤ä¸¤ä¸ªæµç¨åèä¹åæç« ã</p>
<h4 id="æå»ºæ¸¸æç¯å¢">æå»ºæ¸¸æç¯å¢</h4>
<h5 id="åå§åç±»">åå§åç±»</h5>
<p>è¯¥ç±»ç»§æ¿<code>gym.Env</code>ç±»</p>
<pre><code class="language-python">class MyEnv(gym.Env):
</code></pre>
<h5 id="æé å½æ°__init__">æé å½æ°__init__</h5>
<pre><code class="language-python">def __init__(self, render_mode=None):
        super(MyEnv, self).__init__()

        #åå§ååæ°
        self.width = 400
        self.height = 300
        self.player_size = 30
        self.enemy_size = 30
        self.render_mode = render_mode

        self.action_space = spaces.Discrete(3)

        self.observation_space = spaces.Box(
            low=0, high=255, shape=(84, 84, 3), dtype=np.uint8
        )

        pygame.init()
        if self.render_mode == "human":
            self.screen = pygame.display.set_mode((self.width, self.height))
        
        self.canvas = pygame.Surface((self.width, self.height))
        self.font = pygame.font.SysFont("monospace", 15)
</code></pre>
<p>å¨æé å½æ°ä¸­ï¼æä»¬ä¸»è¦å®æçæ¯å£°æè®­ç»çç»´åº¦ï¼åè¾å¥ï¼</p>
<ul>
<li>è¾å¥ï¼<code>self.action_space = spaces.Discrete(3)</code>å¶ä¸­ç<code>self.action_space</code>æ¯<strong>åºå®åç§°çç¶ç±»åé</strong>ã<code>spaces.Discrete(3)</code>å£°æè¾å¥çæ°éï¼ä¾å¦ï¼<code>åå·¦ åå³ å ä¸å¨</code>3ä¸ªè¾å¥ã</li>
<li>è§æµç»´åº¦ï¼<code>self.observation_space</code>ä¹æ¯<strong>åºå®åç§°çç¶ç±»åé</strong>ã<code>spaces.Box</code>å£°æè§æµç»´åº¦ã</li>
</ul>
<pre><code class="language-python">self.observation_space = spaces.Box(
    low=0, high=255, shape=(84, 84, 3), dtype=np.uint8
)
</code></pre>
<ol>
<li><code>low</code>ï¼è§æµåæ°çæå°å¼</li>
<li><code>high</code>ï¼è§æµåæ°çæå¤§å¼</li>
<li><code>shape</code>ï¼å£°æç»´åº¦ãä¾å¦ï¼è§æµå¾ç<code>shape(é«ï¼å®½ï¼RGB)</code>ï¼è§æµä¸ä¸ªå¹³é¢ï¼<code>shape(é«,å®½)</code></li>
<li><code>dtype</code>ï¼æ¯ä¸ªåéç±»åï¼è¿éé<code>np.uint8</code>è½å¤èçè®­ç»ææ¬ï¼é»è®¤æ¯æµ®ç¹åçã</li>
</ol>
<h5 id="ä»»å¡éç½®-reset">ä»»å¡éç½® reset</h5>
<p>ç¸å½äºåå§åæ¸¸æç¶æï¼æ¸¸æçéæ°å¼å§ãè¿åçæ¯<strong>è§æµå¼</strong>å<strong>ç¶æä¿¡æ¯ï¼ç¨äºè°è¯æ¥å¿ï¼</strong></p>
<pre><code class="language-python">def reset(self, seed=None, options=None):
        super().reset(seed=seed)

        self.player_x = self.width // 2 - self.player_size // 2
        self.player_y = self.height - self.player_size - 10
        self.enemies = []
        self.score = 0
        self.frame_count = 0

        self.current_speed = 5
        self.spawn_rate = 30

        return self._get_obs(), {}
</code></pre>
<p><strong>è§æµå¼ <code>_get_obs</code>ï¼</strong><br>
éè¿<code>pygame</code>ç»åºçç»é¢ï¼ç¶åç¨<code>opencv</code>è¿è¡ç®åå¤çï¼</p>
<ol>
<li>è½¬æ¢åæ è½´ï¼ç±äº<code>opencv</code>åæ xyè½´è·<code>pygame</code>çxyæ¯é¢ åçï¼</li>
<li>å°ç»é¢ç¼©æ¾å°<code>84 * 84</code>ï¼å¯ä»¥æé«è®­ç»æçï¼</li>
</ol>
<pre><code class="language-python">def _get_obs(self):
        self.canvas.fill((0, 0, 0))
        pygame.draw.rect(self.canvas, (50, 150, 255), (self.player_x, self.player_y, self.player_size, self.player_size))
        
        for enemy in self.enemies:
            pygame.draw.rect(self.canvas, (255, 50, 50), (enemy[0], enemy[1], self.enemy_size, self.enemy_size))

        img_array = pygame.surfarray.array3d(self.canvas)
        img_array = np.transpose(img_array, (1, 0, 2))
        obs = cv2.resize(img_array, (84, 84), interpolation=cv2.INTER_AREA)

        return obs.astype(np.uint8)
</code></pre>
<h5 id="æ­¥-stepéè¦">æ­¥ stepï¼éè¦ï¼</h5>
<p>è¿ä¸ªå½æ°æ¯å¼ºåè®­ç»ç<strong>æ ¸å¿</strong>ï¼è§å®äºå¨<code>ä¸å¸§</code>æè<code>ä¸æ­¥</code>ï¼æä»¬ç»AIçåæ°ã<br>
<mark>åæ°çè®¾ç½®è³å³éè¦ï¼è¿ç´æ¥å³å®äºè®­ç»åºæ¥AIçè´¨é</mark><br>
æ ¹æ®ä¸é¢ä»£ç ï¼å¤§é¨åé½æ¯æ¸¸æé»è¾ï¼ï¼ä¸»è¦è®²è®¾ç½®<strong>å¥å±åæ°</strong>ï¼</p>
<ol>
<li>å¨AIè¿è¡ç§»å¨æ¶ æ©ç½ 0.05 å</li>
<li>å¨AIå­æ´»æ¶ å¥å± 0.01åï¼æ¸¸æåæ°å¤§äº100æ¶ å­æ´»å¥å± 0.02å</li>
<li>å¨éç¢ç©å®å¨ä¸è½æ¶ å¥å± 1 å</li>
<li>å¨ä¸éç¢ç©ç¢°ææ¶ æ©ç½ 10 å</li>
</ol>
<pre><code class="language-python">def step(self, action):
        reward = 0
        terminated = False
        truncated = False

        move_speed = 8
        if action == 1 and self.player_x &gt; 0: # 
            self.player_x -= move_speed
            reward -= 0.05

        if action == 2 and self.player_x &lt; self.width - self.player_size:
            self.player_x += move_speed
            reward -= 0.05

        self.frame_count += 1

        level = self.score // 5
        self.current_speed = 5 + level
        self.spawn_rate = 30 - level * 2
        spawn_rate = max(10, 30 - level)

        if self.frame_count &gt;= spawn_rate:
            self.frame_count = 0
            enemy_x = random.randint(0, self.width - self.enemy_size)
            self.enemies.append([enemy_x, 0]) # [x, y]

        for enemy in self.enemies:
            enemy[1] += self.current_speed
            
            player_rect = pygame.Rect(self.player_x, self.player_y, self.player_size, self.player_size)
            enemy_rect = pygame.Rect(enemy[0], enemy[1], self.enemy_size, self.enemy_size)
            
            if player_rect.colliderect(enemy_rect):
                reward = -10 
                terminated = True

            elif enemy[1] &gt; self.height:
                self.enemies.remove(enemy)
                self.score += 1
                reward = 1 
        
        if not terminated:
            if self.score &gt; 100:
                reward += 0.01
            reward += 0.01

        obs = self._get_obs()

        if self.render_mode == "human":
            self._render_window()

        return obs, reward, terminated, truncated, {}
</code></pre>
<h5 id="å±ç¤ºæ¸¸æç»é¢">å±ç¤ºæ¸¸æç»é¢</h5>
<p>ä¸é¢å®å¨æ¯<code>pygame</code>ä»£ç ï¼ç¨äºæ¾ç¤ºæ¸¸æç»é¢ï¼è¿éå°±ä¸è§£éäºã</p>
<pre><code class="language-python">def _render_window(self):
        self.screen.blit(self.canvas, (0, 0))
        text = self.font.render(f"Score: {self.score}", True, (255, 255, 255))
        self.screen.blit(text, (10, 10))
        pygame.display.flip()

        for event in pygame.event.get():
            if event.type == pygame.QUIT:
                pygame.quit()
</code></pre>
<p><strong>ä½ æåæä¸ºäºä¸åè°åä¾ äºï¼å¿«æ¥è¯è¯å§ï¼</strong></p>
<p><strong>å¦æâ¤åæ¬¢â¤æ¬ç³»åæç¨ï¼å°±ç¹ä¸ªå³æ³¨å§ï¼åç»­ä¸å®ææ´æ°~</strong></p>


</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.009027777777777777" data-date-updated="2026-01-30 17:59">2026-01-30 17:46</span>&nbsp;
<a href="https://www.cnblogs.com/ClownLMe">ClownLMe</a>&nbsp;
éè¯»(<span id="post_view_count">36</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19554865);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19554865', targetLink: 'https://www.cnblogs.com/ClownLMe/p/19554865', title: 'stable_baseline3 å¿«éå¥é¨(äº): è®­ç»èªå®ä¹æ¸¸æï¼æå»ºGymnasiumè®­ç»ç¯å¢' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ èåå·¡æ£ï¼æ¨èä¸ä¸ªrediså¥åº·æ£æ¥å·¥å· ]]></title>
    <link>https://www.cnblogs.com/sdts/p/19554639</link>
    <guid>c9be0521046485337a8b0c284feba534</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/sdts/p/19554639" title="åå¸äº 2026-01-30 17:05">
    <span role="heading" aria-level="2">èåå·¡æ£ï¼æ¨èä¸ä¸ªrediså¥åº·æ£æ¥å·¥å·</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        redisåå­åæå·¥å·rdrï¼æ¯æredis7+
    </div>
<div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p>é©¬ä¸æ¥èï¼åä½åå­¦é½å®æèåå·¡æ£äºåï¼ä»å¤©ç»å¤§å®¶æ¨èä¸ä¸ªredisåå­åæå·¥å·</p>
<p>RDR(redis data Reveal)æ¯ä¸ä¸ªç¨äºç¦»çº¿åæ redis rdb æä»¶çå·¥å·ãéè¿å®ï¼å¯ä»¥å¿«éåç°å®ä¾ä¸­çbigkeyï¼å¸®å©æ¨ææ¡Keyå¨åå­ä¸­çå ç¨ååå¸æåµãå¾ç¥åªäºkeyå¨æ éå¢é¿ç­ãè½ä¸ºæ¨çä¼åæä½æä¾æ°æ®æ¯æï¼å¸®å©æ¨é¿åå Keyå¾æï¼å¯¼è´éç¾¤åå­åå¸ä¸åï¼å¼åçåå­ä¸è¶³ãæ§è½ä¸éç­é®é¢ã</p>
<p>å·¥å·å¼æºå°åï¼<a title="https://github.com/919927181/rdr" href="https://github.com/919927181/rdr" target="_blank" rel="noopener nofollow">https://github.com/919927181/rdr</a></p>
<p dir="auto"><strong>1ãåè½</strong></p>
<ul dir="auto">
<li>ç»è®¡ä¿¡æ¯å±ç¤ºï¼command:showï¼ï¼ä»¥ç½é¡µå½¢å¼å±ç¤ºRDBæä»¶çç»è®¡æ¥åï¼ä¾å¦ Top 300 å¤§Keyåè¡¨ãkeyååç¼ç»è®¡åæç­ï¼ã</li>
<li>ç»è®¡ä¿¡æ¯ä¿å­(command:dump2file)ï¼é¤äºå¨çº¿ç½é¡µå±ç¤ºå¤ï¼è¿å¯ä»¥å°ç»è®¡ä¿¡æ¯ä¿å­å°æä»¶ã</li>
<li>è·åæækeyï¼command:keysï¼ï¼ä»RDBæä»¶ä¸­è§£æåºå¨é¨é®åä»¥åå±æ§ä¿¡æ¯ï¼æ°æ®ç±»åãåå­å¤§å°ãåç´ æ°éãè¿ææ¶é´ãæå±dbç­ï¼ï¼ä¿å­å°æä»¶ï¼ä»¥ä¾¿èªè¡åæã</li>
</ul>
<p dir="auto">å¤æ³¨ï¼å¦ææ³ç¥ééåç±»ä¸­æå¤§åç´ æ¯è°ï¼åä¿å­å°æä»¶ï¼LargestKeys&gt;FieldOfLargestElemå­æ®µå°±æ¯ã</p>
<p dir="auto"><strong>2ãç¹ç¹</strong></p>
<ul dir="auto">
<li>å®å¨æ æ°ï¼åæè¿ç¨å®å¨å¨ RDB å¤ä»½æä»¶ä¸è¿è¡ï¼å¯¹çº¿ä¸Rediså®ä¾é¶å½±åã</li>
<li>ä½¿ç¨æ¹ä¾¿ï¼æä¾äºlinuxåwindowsä¸çå¯æ§è¡æä»¶ï¼ä¸éè¦å®è£ï¼ä¸é®çæåå­å¥åº·æ¥åï¼å¨çº¿å¾å½¢åå±ç¤ºæ´ç´è§ã</li>
<li>é«æè§£æï¼RDRç±golangå®ç°ï¼è§£æéåº¦æ¯è¾å¿«ï¼ä¸ä¸ª10Gçrdbæä»¶ï¼ç¨æ¶ä¸å°4åéã</li>
<li>ç»æç²¾åï¼ç»æåæ çæ¯RDBå¿«ç§çææ¶å»çç²¾ç¡®ç¶æã</li>
<li>åºä¸è§£çï¼æ·±å¥RDBæä»¶ç»æä¸LRUåæ°æ®åçï¼ç¹å¦ä¸ºç¼å­åäºä¸æ¬¡ç²¾åçâæ ¸ç£å±æ¯âæ£æ¥ã</li>
</ul>
<p>&nbsp; æ¯æredis7+ï¼<strong>æ¯æredis7+</strong>ï¼æ¯æredis rdb æä»¶çæ¬ä¸º 1 &lt;= version &lt;= 12</p>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/756800/202601/756800-20260130170327513-161975020.png" class="lazyload"></p>
<p>&nbsp;</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.03125" data-date-updated="2026-01-30 17:50">2026-01-30 17:05</span>&nbsp;
<a href="https://www.cnblogs.com/sdts">æ³°å±±æå·¥</a>&nbsp;
éè¯»(<span id="post_view_count">170</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19554639);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19554639', targetLink: 'https://www.cnblogs.com/sdts/p/19554639', title: 'èåå·¡æ£ï¼æ¨èä¸ä¸ªrediså¥åº·æ£æ¥å·¥å·' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ 2å¤©ï¼æç¨å½æ°è®¡ç®Â AgentRunÂ çæ¹ä¸å¯èµåæåç¼é ]]></title>
    <link>https://www.cnblogs.com/Serverless/p/19554481</link>
    <guid>899b433308122bba45e517ba670acb74</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/Serverless/p/19554481" title="åå¸äº 2026-01-30 16:47">
    <span role="heading" aria-level="2">2å¤©ï¼æç¨å½æ°è®¡ç®&nbsp;AgentRun&nbsp;çæ¹ä¸å¯èµåæåç¼é</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="èæ¯">èæ¯</h1>
<p>ä¸å¹´åï¼æè´­å¥äº Meta Ray-ban ç¼éï¼Meta å¯¹äºç¼éæ¬ä½çå¼åå App æ´æ°å¾å¿«ï¼ä½ç±äºæ²¡æä¸­ææ¯æåå¼æ¾çSDK å¯¼è´å¯¹å½åç¨æ·éå¸¸ä¸åå¥½ã2025 å¹´ 11 æï¼Meta ç»äºæ¾åºäº Device Access Toolkit è®©ç¤¾åºçå°äºç¹ææï¼åä¸¤å¤©é GitHub å·å°äºåä¸º<a href="https://github.com/Turbo1123/turbometa-rayban-ai/blob/main/README_EN.md" target="_blank" rel="noopener nofollow">turbometa-rayban-ai</a> å¼æºé¡¹ç®ï¼é¡¹ç®ä½èå¼åäºç´è¿ä¸­æ App + ç¾ç¼ APIï¼å®ç°äºå ä¸ªæ¯ææè¶£åè½ï¼ä¾å¦ä¸­æå¤æ¨¡æå¯¹è¯ãå¡è·¯éæ£æµç­ï¼ã</p>
<p>è·¯é½éºå¥½äºï¼è½æªæµãè½ä¼ å¾ãè½æ AI äº¤äºãçç Repo éçè°ç¨ä»£ç ï¼ä¼¼ä¹å ä¸ä¸ªæå¡ç«¯çåè½ä¸æ¯ä»ä¹é¾äºï¼æ­£å¥½åæ®µæ¶é´å·ç­è§é¢ï¼çå°æå°äº¤è­¦éå¤äºé£ç§âé»ç§æç¼éâï¼çä¸ç¼è½¦çå°±è½è¯å«æ¯ä¸æ¯è¿ç« è½¦ï¼ç§æç¬é´åæäººé´çç«ãå½æ¶æå°±å¨æ³ï¼è¿ç©æå¿è½ç¶çèµ·æ¥é«å¤§ä¸ï¼ä½æ ¸å¿é»è¾ä¸å°±æ¯ <strong>OCR + æ¥åº + è§åå¤æ­</strong> åï¼</p>
<table>
<thead>
<tr>
<th>åç°ç AI ç¼é -ï¼ ï¼ï¼ï¼ï¼ï¼-&gt; äº¤è­¦ Copilot</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2123714/202601/2123714-20260130164610958-318257557.png" class="lazyload"></td>
<td><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2123714/202601/2123714-20260130164610682-565240293.png" class="lazyload"></td>
</tr>
</tbody>
</table>
<p>æ¢ç¶æäº turbometa-rayban-ai è§£å³äºæ ·æ¿é´é®é¢ï¼æåç¥æä¸äº Agent æ¶æï¼<strong>è½ä¸è½ç¨é¿éäºå½æ°è®¡ç® AgentRunåè½ï¼æè¿ä¸ªååç»âHackâåºæ¥ï¼</strong></p>
<h1 id="ç«¯ç®¡äºååæ¡æ¶">âç«¯ç®¡äºâååæ¡æ¶</h1>
<p>é¦åæä»¬æ¥æ¢³çä¸ä¸ªæ´ä½æ¶æå¾ï¼ç¼éæ¬èº«ç®åæéï¼æä»¥æä»¬çç­ç¥æ¯ï¼<strong>ç«¯ä¾§åªè´è´£çï¼äºç«¯è´è´£æ³ä¸å¤çã</strong> æè®¾è®¡äºç»å¸ç <strong>âç«¯-ç®¡-äºâ</strong> ä¸å±æ¶æï¼</p>
<p>1.<strong>ç«¯ (Client)</strong>ï¼<strong>AI ç¼é + iOS App</strong>ãè´è´£âæ½å¸§âåâä¼ å¾âï¼åä¸ä¸ªæ æçä¼ è¾æºå¨ã</p>
<p>2.<strong>è (Brain)</strong>ï¼<strong>é¿éäºå½æ°è®¡ç® AgentRun</strong>ãè´è´£æèâä»å¤©æ¯åå·è¿æ¯åå·ï¼âãâè¿è½¦æ¯ä¸æ¯VIPï¼âã</p>
<p>3.<strong>æ (Tools)</strong>ï¼<strong>é¿éäº FC - å½æ°å·¥å·</strong>ãè´è´£èæ´»ç´¯æ´»ï¼æ¯å¦æ¥æ°æ®åºãåæ¥å¿ã</p>
<p>æ´ä½çæ°æ®æµåå¦ä¸ï¼</p>
<ul>
<li>ç (See): ç¼éçå°è½¦ç -&gt; èçä¼ è¾ -&gt; iOS Appã</li>
<li>(Upload): iOS App æ½å¸§ -&gt; HTTP POST -&gt; é¿éäºå½æ°è®¡ç®FCã</li>
<li>æ³ (Think): FC æ³¨å¥æ¥æè§å -&gt; AgentRun æè -&gt; å³å®æ¥åºã</li>
<li>æ¥ (Action): AgentRun è°åº¦ FC å·¥å· -&gt; è¯»åæ°æ®åº -&gt; è¿åç»æã</li>
<li>è¯´ (Speak): AgentRun çæäººæ§ååå¤è¯-&gt; FC è¿å -&gt; iOS è½¬è¯­é³ -&gt; ç¼éæ­æ¾ï¼è§åä¸­ï¼ææªå®ç°ï¼ã</li>
</ul>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2123714/202601/2123714-20260130164610631-576074820.png" class="lazyload"></p>
<h1 id="å¨æè®©æ³æ³ç§è¿ç°å®">å¨æï¼è®©æ³æ³ç§è¿ç°å®</h1>
<h2 id="å®¢æ·ç«¯å¼å">å®¢æ·ç«¯å¼å</h2>
<p>å¨æä»¬çæ¶æè®¾è®¡ä¸­ï¼iOS å®¢æ·ç«¯çè§è²è¢«è®¾è®¡ä¸ºä¸ä¸ª âåå¶çä¸­ç»§âãæä»¬ä¸å¸æææºæä¸ºè®¡ç®ç¶é¢ï¼å æ­¤ç«¯ä¾§åªè´è´£ I/Oï¼ä¸è´è´£ AI æ¨çï¼è¿å¥é»è¾ç¡®ä¿äºç«¯ä¾§çæè´è½»éåãç±äºå®¢æ·ç«¯å¼åä¸æ¯éç¹ï¼æä»¥æç´æ¥åºäº turbometa é¡¹ç®ç¨ Vibe Coding + XCode ç¼è¯ç¼åäºä¸ä¸ªè½¬ååè½ã</p>
<table>
<thead>
<tr>
<th>æ¶æå¾</th>
<th>æ ¸å¿æ¶æä¸æµç¨é»è¾</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2123714/202601/2123714-20260130164610693-796978833.png" class="lazyload"></td>
<td>âé¾è·¯å»ºç«ï¼App éè¿ turbometa åè®®æ SDK ä¸ç¼éå»ºç«èç/Wi-Fi é«éééï¼å®æ¶è·åæåå¤´çç»é¢æ°æ®ãâæ½å¸§ï¼æä»¬ä¸ä¸ä¼ è¿ç»­è§é¢æµï¼èæ¯æ¯é 1~2 ç§æªåä¸å¸§ç»é¢ãç´æ¥è°VLæ¨¡åä¼°è®¡åä¸æ¶ãâäºç«¯äº¤äºï¼å°ç­éåºçé«æ¸å¾çè¿è¡ Base64 ç¼ç ï¼æåå½åæ¶é´æ³ï¼ç¨äº Agent å¤æ­ååå·ï¼å GPSï¼ä½ç½®ï¼ ä¿¡æ¯ï¼åé HTTP POST è¯·æ±ç´è¿é¿éäº FC ç½å³ãâç¼éæ­æ¾ï¼ä¸æ¦æ¶å°äºç«¯ Agent è¿åç JSON æä»¤ï¼ä¾å¦ {"text": "åå·éè¡ï¼æ¦æª"}ï¼ï¼App ç«å³è°ç¨ iOS åçç TTS å¼æåæè¯­é³ï¼é³é¢æµä¼èªå¨è·¯ç±åç¼éçå¼æ¾å¼æ¬å£°å¨æ­æ¾ã</td>
</tr>
</tbody>
</table>
<h2 id="æå¡ç«¯å¼å">æå¡ç«¯å¼å</h2>
<p>æå¡ç«¯æ 4 ä¸ªç»ä»¶ï¼å¨é¨éè¿é¿éäºå½æ°è®¡ç®ï¼FC æå»ºï¼ï¼åå«æ¯ï¼</p>
<ul>
<li>
<p>æ¥å¥ç¹ï¼è´è´£é´æå¹¶å¤çå®¢æ·ç«¯è°ç¨ãContext æ³¨å¥ï¼è®¡ç®âä»å¤©æ¯åå·è¿æ¯åå·âï¼å°è¿ä¸ªç¯å¢ä¿¡æ¯ï¼Contextï¼å¡å¥ Promptï¼åä¼ ç» Agentã</p>
</li>
<li>
<p>AgentRunï¼æ ¸å¿å³ç­èãå®ä¸ç¢°æ°æ®åºï¼åªè´è´£âæ³âãå¤æ­ï¼âè½¦çæ¯åå·ï¼ä»å¤©æ¯åå·ï¼è¿è§äº -&gt; åºè¯¥è°ç¨æ¥ç½ååå·¥å·ãâ</p>
<ul>
<li>FunModelï¼AgentRun èåæ¨¡åï¼ï¼éè¿é¿éäºç¾ç¼APIãè°ç¨ Qwen æ¨¡åã</li>
</ul>
</li>
<li>
<p>å·¥å·ï¼FC Toolsï¼ï¼è¿æ¥ RDS (MySQL) æ¥ç½ååï¼è¿æ¥ SLS åè¿ç« æ¥å¿ã</p>
<ul>
<li>log_traffic_allï¼æè½¦çãæ¶é´ç­ä¿¡æ¯è®°å½ä¸æ¥</li>
<li>query_historyï¼éè¿è½¦çæ¥è¯¢åå²åºï¼è¿å» 7 å¤©ã30 å¤©æ¯å¦æåºç°</li>
<li>check_whitelistï¼æ¥è¯¢è½¦çæ¯å¦å¨æ¥å¤ç½ååä¸­</li>
<li>log_illegalï¼è®°å½æ¥å¿ï¼åå°å¤ç</li>
</ul>
</li>
<li>
<p>å­å¨å±ï¼</p>
<ul>
<li>é¿éäºæ¥å¿æå¡ï¼SLSï¼ï¼ç¨äºå­å¨è®°å½æ°æ®ï¼å¼ç®±å³ç¨ï¼å ä¹æ ä½¿ç¨ææ¬</li>
<li>é¿éäº RDSï¼Mysqlï¼ï¼ç¨æ¥å­å¨æ¥å¤ç½åå</li>
</ul>
</li>
</ul>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2123714/202601/2123714-20260130164610716-1159880316.png" class="lazyload"></p>
<h3 id="21-å½æ°è®¡ç®-agentrun">2.1 å½æ°è®¡ç® AgentRun</h3>
<p>å®ä¹âå¤§èâçé»è¾ (Prompt Engineering)æä»¬æ²¡æåå¤æç Python é»è¾å¤æ­ååå·ï¼èæ¯åäºä¸æ®µ <strong>Prompt</strong>ãå¨ AgentRun éï¼èªç¶è¯­è¨å°±æ¯ä»£ç ã</p>
<p><strong>System Prompt æ ¸å¿çæ®µï¼</strong></p>
<pre><code class="language-plaintext">ä½ æ¯ä¸ä¸ªæºè½äº¤éç®¡æ§ Agentã
å½åæ¥æä¿¡æ¯ï¼{{current_date_info}} (ç±ç½å³æ³¨å¥ï¼ä¾å¦ï¼ä»å¤©æ¯1å·ï¼åå·)

å¤çæµç¨ï¼
1. å¿é¡»æ§è¡ï¼åè°ç¨ `log_traffic_all` è®°å½æµæ°´ã
2. è§åå¤æ­ï¼
   - åå·æ¥ä»åè®¸å°¾å·åæ°éè¡ï¼åå·æ¥ä»åè®¸å°¾å·åæ°ã
   - å¦ææ»¡è¶³ï¼ç´æ¥âæ¾è¡âã
3. è¿è§å¤çï¼
   - è¿åååå·è§åæ¶ï¼å«æ¥çå¼ç½åï¼
   - åè°ç¨ `check_whitelist` æ¥ç½ååã
   - å¦ææ²¡æ¥å¤ï¼åè°ç¨ `query_plate_history` æ¥æ¥æ¯ä¸æ¯æ¯ç¯ã
   - æåçæç®ç­åå¤ã
</code></pre>
<p>é»è¾çèµ·æ¥å¾ç®åï¼å¦æèæ¿æå¤©è¯´âå¨ä¸æ¹ä¸ºå°¾å· 3 éè¡âï¼æåªéè¦æ¹ Promptï¼ä¸ç¨éæ°é¨ç½²ä»£ç ã</p>
<h3 id="22-fc-toolæé æè">2.2 FC Toolï¼æé âæèâ</h3>
<p>Agent åèªæä¹æ æ³ç´æ¥è¿æ°æ®åºãæä»¬ç¨ <strong>FC (Python Runtime)</strong> å°è£äºå ä¸ªåå­è½åå·¥å·ã</p>
<p>è¿éçä»£ç æ ¸å¿æ¯ âåªåæ§è¡ï¼ä¸å¸¦èå­âã</p>
<pre><code class="language-plaintext"># tools.py (é¨ç½²å¨ FC ä¸)
def handler(event, context):
    # AgentRun ä¼æè¦è°ç¨çå½æ°åä¼ è¿æ¥
    tool_name = json.loads(event).get('function')
    
    if tool_name == 'check_whitelist':
        # çº¯ç²¹ç SQL æ¥è¯¢
        return db.query("SELECT count(*) FROM whitelist WHERE plate=%s", plate)
        
    elif tool_name == 'log_illegal_notice':
        # åå¥ SLS æ¥å¿æå¡ï¼çè³æè¿ç« ç§çå­è¿å»
        return sls.put_log(plate, image_base64, "violation")
        
    # ... å¶ä»å·¥å·
</code></pre>
<p>æä»¬æè¿ä¸ª FC å½æ°ç»å®å° AgentRun çå·¥å·åè¡¨éï¼å¹¶å¨ AgentRun ä¸­éä¸ï¼Agent æ¥æäºæä½çå®ä¸ççè½åã</p>
<h3 id="23è¿æ¥å®¢æ·ç«¯-the-gateway">2.3è¿æ¥å®¢æ·ç«¯ (The Gateway)</h3>
<p>æåï¼æä»¬éè¦ä¸ä¸ª HTTP å¥å£æ¥æ¥æ¶ iOS ä¼ æ¥çç§çï¼å¹¶æâå½åæ¥æâåè¯ Agentã</p>
<pre><code class="language-plaintext"># main.py (å¥å£ç½å³)
def handler(event, context):
    # 1. ç®ä¸ä¸ä»å¤©æ¯åå·è¿æ¯åå·
    is_odd = (datetime.now().day % 2 != 0)
    date_context = f"ä»å¤©æ¯{'åå·' if is_odd else 'åå·'}"
    
    # 2. ç»è£ Promptï¼æå¾çåæ¥æä¸èµ·ä¸¢ç» Agent
    prompt = f"{date_context}ï¼è¯·å¤çè¿å¼ å¾çéçè½¦ï¼{image_url}"
    
    # 3. è°ç¨ AgentRun æ¥å£
    reply = call_agent_run(prompt)
    
    # 4. è¿åç»æ
    return {"voice_feedback": reply}
</code></pre>
<h1 id="çµé­æ·é®å°é¢å¤§åè¿æ¯éç»´æå»">çµé­æ·é®ï¼å°é¢å¤§åï¼è¿æ¯éç»´æå»ï¼</h1>
<p>å¯è½å¾å¤äººå¨é®ï¼è¿ä¹å°ä¸ä¸ªåºç¨ï¼åå¹´åé½å·²ç»å¨å¨å½éºå¼äºï¼æå¿è¦åç¨ Agentæ¶æ + å½æ°è®¡ç®ï¼FaaSï¼ é ä¸éè½®å­åï¼æ³äºæ³è¿çæç¹åºå«ï¼</p>
<h2 id="æ·é®ä¸å è¡-if-elseæå®çäºä¸ºä»ä¹ç¨-agent-æ¶æ">æ·é®ä¸ï¼å è¡ if-elseæå®çäºï¼ä¸ºä»ä¹ç¨ Agent æ¶æï¼</h2>
<p>ä½ å¯è½ä¼é®ï¼âä¸å°±æ¯æ¥ä¸ªè½¦çåï¼æå¨ Python éåå è¡ <code>if-else</code> ä¸ä¹ä¸æ ·è·ï¼â</p>
<p>è¿å°±å°äºæ¬é¡¹ç®çç²¾é«æå¨ãç¨ AgentRunï¼Agent æ¶æï¼åä»£ä¼ ç»åç«¯é»è¾ï¼ä¸ä»ä»æ¯ä¸ºäºè¹­ AI çç­åº¦ï¼èæ¯ä¸ºäºè§£å³ç°å®ä¸çä¸­ <strong>âéæ±æ»å¨åâåâæ°æ®æ»æ¯ä¸å®ç¾â</strong> è¿ä¸¤ä¸ªæ­»ç©´ãç¸æ¯äºä¼ ç»ç¡¬ç¼ç ï¼Hard-codingï¼ï¼Agent æ¹æ¡å±ç°äºéç»´æå»è¬çä¼å¿ï¼</p>
<h3 id="é»è¾è§£è¦prompt-å³ä¸å¡">é»è¾è§£è¦ï¼Prompt å³ä¸å¡</h3>
<p>å¨ä¼ ç»å¼åä¸­ï¼ä¸å¡é»è¾æ¯âçæ­»âå¨ä»£ç éçãä¸æ¦äº¤è§ä»âååå·éè¡âåæâå¨äºå°¾å· 4 å 9 éè¡âï¼ä½ å¾ä¿®æ¹ä»£ç ãéæ°æµè¯ãéæ°é¨ç½²ä¸çº¿ã</p>
<p>èå¨ Agent æ¶æä¸­ï¼<strong>ä»£ç åªè´è´£âè½åâï¼æ¥åºãåæ¥å¿ï¼ï¼Prompt è´è´£âé»è¾âãä¸¾ä¸ªä¾å­ï¼è§åçªåï¼ï¼</strong> æå¤©çªç¶è¦ä¸¥æ¥âç®å¡è½¦âï¼ç¦æ­¢ç®å¡è¿å¥ã</p>
<ul>
<li><strong>ä¼ ç»åæ³</strong>ï¼æ¹ä»£ç ï¼å ä¸ä¸ª <code>if vehicle_type == 'pickup'</code>ï¼éæ°åçã</li>
<li><strong>Agent åæ³</strong>ï¼åªéå¨åå° System Prompt éå ä¸å¥è¯ââ<em>âæ³¨æï¼ä»ç°å¨èµ·ï¼ææç®å¡è½¦ä¸å¾æ¦æªãâ</em> Agent ä¼èªå¨è°ç¨ OCR è¯å«è½¦åï¼å¦æ VLM æ¯æï¼å¹¶æ§è¡æ¦æªé»è¾ï¼ä»£ç ä¸è¡ä¸ç¨å¨ã</li>
</ul>
<h3 id="å¨æç¼æçé±åé«æ">å¨æç¼æï¼çé±åé«æ</h3>
<p>ä¼ ç»ä»£ç éå¸¸æ¯âæµæ°´çº¿âå¼çï¼å OCR -&gt; åæ¥åº -&gt; åè®°æ¥å¿ãä¸ç®¡éä¸éè¦ï¼æµç¨é½è¦èµ°ä¸éã</p>
<p>Agent æ¥æ âèªä¸»å³ç­æâï¼å®ç¥éä»ä¹æ¶åè¯¥çäºï¼ä»ä¹æ¶åè¯¥æ·±ç©¶ãä¾å¦ï¼<strong>æ¥äºä¸è¾è½¦ï¼ä½ OCR è¯å«ç»ææ¯ä¸ä¸²ä¹±ç ï¼å¯è½æ¯æ å¶é®æ¡ï¼ã</strong></p>
<ul>
<li><strong>ä¼ ç»åæ³</strong>ï¼æ¿çä¹±ç å»æ°æ®åº <code>SELECT * FROM ...</code>ï¼æµªè´¹ä¸æ¬¡æ°æ®åºæ¥è¯¢ï¼æåæ¥éã</li>
<li><strong>Agent åæ³</strong>ï¼Agent çå°ä¹±ç ä¼æèï¼<em>âè¿æ¾ç¶ä¸æ¯ä¸ä¸ªææçè½¦çæ ¼å¼ï¼æ¥åºä¹æ¯æµªè´¹æ¶é´ãâ</em> å®ä¼<strong>è·³è¿</strong>æ¥åºå·¥å·ï¼ç´æ¥åé¦ï¼âè½¦çæ¨¡ç³ï¼è¯·éæãâ ââ <strong>å®æå¾âæ­¢æâã</strong></li>
</ul>
<h3 id="è¯­ä¹çº§æ©å±">è¯­ä¹çº§æ©å±</h3>
<p>Agent å¯ä»¥çè§£å¤æçãéç»æåçæä»¤ãæ¯å¦ï¼ä½ æ³æ¾ä¸è¾ç¹å®çè½¦ï¼ä½å¿äºè½¦çï¼åªè®°å¾æ¯âçº¢è²çå®é©¬âã</p>
<ul>
<li><strong>Agent åæ³</strong>ï¼ä½ å¯ä»¥ç´æ¥å¯¹ç¼éè¯´ï¼âå¸®æçæä¸ä¸çº¢è²çå®é©¬ãâ Agent ä¼å°âçº¢è²å®é©¬âè¿ä¸ªç¹å¾å å¥å°å®ç<strong>ç­æè®°å¿</strong>ä¸­ãå½åç»­å¾çæµä¸­åºç°çº¢è²è½¦èº«+å®é©¬æ æ¶ï¼åªæä½ æ²¡åä¸é¨çâé¢è²è¯å«ä»£ç âï¼Agent (å¦ææ¯å¤æ¨¡æ) ä¹è½çè§£å¹¶è§¦åè­¦æ¥ã</li>
</ul>
<p>æ»ç»ä¸ä¸ï¼ä¼ ç»ç¨åºæ¯ âä½ è®©å®å¹²å¥å®å¹²å¥â<strong>ï¼å°±ç®åé¢æ¯åä¹å¾ä¸è·³ï¼æåºå¼å¸¸äººå·¥å¤çï¼ï¼Agent æ¶ææ¯</strong>âä½ åè¯å®ç®æ ï¼å®èªå·±æ¾è·¯âï¼éå°åå®ç¥éç»è¿å»ï¼çè³è¿è½å¸®ä½ å¡«ä¸ï¼ãå¯¹äºåäº¤è­¦æ§æ³è¿æ ·åæ»¡åæ°åéæ åæåµçåºæ¯ï¼Agent ææ¯é£ä¸ªæèªæçâå¯é©¾âã</p>
<h2 id="æ·é®äºä¸ºä»ä¹é-faas">æ·é®äºï¼ä¸ºä»ä¹é FaaSï¼</h2>
<p>å¨è®¾è®¡è¿å¥ç³»ç»æ¶ï¼ææ¯«ä¸ç¹è±«å°éæ©äº <strong>é¿éäºå½æ°è®¡ç® (FC)</strong> ä½ä¸ºåç«¯è¿è¡æ¶ãè¿ä¸ä»ä»æ¯å ä¸ºææå¾ç»´æ¤æå¡å¨ï¼æ´æ¯å ä¸ºå¨ <strong>Agent + IoT</strong> è¿ç§åºæ¯ä¸ï¼Serverless ç®ç´æ¯âå¤©éä¹å­âã</p>
<h3 id="æè´çæ é¨èºæ¯">æè´çâæ é¨âèºæ¯</h3>
<p>äº¤éåºæ¯çæµéæ¯æå¶ä¸ååçãæ©æé«å³°è½¦æ°´é©¬é¾ï¼åå¤ä¸æ´é¬¼å½±é½æ²¡ä¸ä¸ªã</p>
<ul>
<li><strong>ä¼ ç»æå¡å¨</strong>ï¼ä½ å¾æ<strong>æé«å³°</strong>çéç½®ä¹°æºå¨ãåå¤æ²¡è½¦æ¶ï¼CPU å¨ç©ºè½¬ï¼ä½ çé±å¨çç§ã</li>
<li><strong>FaaS æ¨¡å¼</strong>ï¼<strong>æè½¦æ¥æå¹²æ´»ï¼æ²¡è½¦æ¥å°±ç¡è§ã</strong></li>
</ul>
<p>å½ç¼éæ²¡ä¼ ç§çæ¶ï¼å®ä¾ç¼©å®¹å° 0ï¼<strong>ä¸åé±ä¸æ£</strong>ãå½æ©é«å³°çªç¶æ¥äº 100 è¾è½¦ï¼FC ç¬é´æèµ· 100 ä¸ªå®ä¾å¹¶è¡å¤çãè¿ç§âç¨å®å³èµ°âçç¹æ§ï¼å¯¹äºæè¿ç§é±åä¸é¼çå¼åèæ¥è¯´ï¼ç®ç´æ¯æå½ç¨»èã</p>
<h3 id="tools-as-functions">Tools as Functions</h3>
<p>å¨ Agent æ¶æä¸­ï¼å¤§æ¨¡åéè¦è°ç¨åç§ Toolsï¼å·¥å·ï¼ã ä½ ä»ç»æ³ä¸ä¸ï¼<strong>ä¸ä¸ª Tool çå®ä¹ï¼æ¯ä¸æ¯å¤©çå°±é¿å¾åä¸ä¸ª Functionï¼</strong></p>
<ul>
<li><strong>Tool å®ä¹</strong>ï¼è¾å¥è½¦ç -&gt; æ¥åº -&gt; è¾åºç»æã</li>
<li><strong>FaaS å®ä¹</strong>ï¼Event Trigger -&gt; Python Handler -&gt; Return JSONã</li>
</ul>
<p>è¿ä¸¤èæ¯ <strong>1:1 å®ç¾æ å°</strong>çãæä¸éè¦å¨ä¸ä¸ªåºå¤§ç Spring Boot æ Django é¡¹ç®éåä¸å æ¥å£ï¼æåªéè¦åä¸ä¸ªä¸ª<strong>ç¬ç«ãåå­å</strong>çå°å½æ°ï¼<code>check_whitelist</code>ã<code>log_to_sls</code>ã Agent æ³ç¨åªä¸ªï¼å°±å¤éåªä¸ªãè¿ç§ç±»<strong>å¾®æå¡å</strong>çæ¶æï¼è®©ç» AI å¢å æ°æè½åå¾å¼å¸¸ç®åââåä¸ªæ°å½æ°ï¼ä¸æè½½ï¼æå®ã</p>
<h3 id="è¶æ°´-çåé">âè¶æ°´â çåé</h3>
<p>AgentRun åªæ¯å¤§èï¼æ°æ®é½å¨äºäº§åéï¼RDS, SLS, OSSï¼ãFaaS å°±åæ¯å¼ºåè¶æ°´ï¼å®<strong>åçéæ</strong>äºé¿éäºçåç§ SDKã</p>
<ul>
<li>ä½ æ³å­ç§çï¼FC å è¡ä»£ç è½¬å­ OSSã</li>
<li>ä½ æ³è®°æ¥å¿ï¼FC åçå¯¹æ¥ SLSã</li>
<li>ä½ æ³åéç¥ï¼FC è§¦åç­ä¿¡ç½å³ã</li>
</ul>
<p><strong>FaaS å±è½äºåºå±åºç¡è®¾æ½çå¤ææ§</strong>ï¼è®©æè½ä¸æ³¨äºåé£å è¡æ ¸å¿çâè¶æ°´ä»£ç âï¼èä¸æ¯å»æè¾æ°æ®åºè¿æ¥æ± æèç½ç»éç½®ãï»¿å¦æè¯´ AgentRun æ¯æè¯·æ¥ç âå¤©æææ¥å®â<strong>ï¼é£ FaaS å°±æ¯ä¸æ¯</strong>âç¹ç§é¨éâââå¹³æ¶éèº«ä¸è±é±ï¼ä¸å£°ä»¤ä¸ï¼ååä¸é©¬ï¼ä½¿å½å¿è¾¾ã</p>
<h1 id="åå¨æå">åå¨æå</h1>
<p>åå© Vibe Codingãäºè®¡ç®äº§åãå GitHub å¼æºé¡¹ç®ï¼ä¸ä¸ªä»æªåè¿ IOS å°ç½è§£éäº Meta Ray-Ban ç¼éçå¼åï¼æå»ºäºä¸ä¸ª âç«¯-ç®¡-äºâ ååçæºè½ååï¼ç¼éè´è´£ç¬¬ä¸è§è§ééï¼iOS App è´è´£æ½å¸§ä¸­ç»§ï¼äºç«¯ AgentRun åå½âå¤§èâè¿è¡æå¾çè§£ä¸å³ç­ï¼ææ¥ FC å½æ° å®ææ¥åºãè¿ç« è®°å½ç­å®æã2å¤©é¶ç¢æ¶é´ï¼æä¸å¯æ¶è´¹çº§ç¼éåå¼ºé­æ¹æâäº¤è­¦å¯é©¾âï¼ï¼</p>
<p>å½ç¶ Demo åªæ¯å¨ Mock æ°æ®ä¸åå¼ºè·éï¼ç¦» Production è¿æ¯æå¾å¤§è·ç¦»ï¼è¿æå¾å¤ä¼åçå°æ¹ï¼æ¯å¦ï¼</p>
<ul>
<li>ç«¯ä¾§åè´ï¼å¨ iOS ç«¯å¼å¥è§è§ç®æ³æ£æµç»é¢æ¸æ°åº¦ï¼æ¨¡ç³å¸§ç´æ¥ä¸¢å¼ï¼å¤§å¹èç 5G ä¸ä¼ æµéã</li>
<li>éæ¬æéï¼å¨ FC é¨ç½² GPU ç OCRå°æ¨¡å åé¢å¤çï¼åªå°æååçâè½¦çææ¬âä¼ ç» Agentï¼å° Token æ¶èéä½ 90%ï¼éåº¦æåä¸åãå¯ä»¥åå© Redis ç¼å­ï¼æé»è¿ï¼ä¾å¦ 1 åéåï¼è½¦çå»éï¼åå°éå¤æ°æ®åè°ç¨ã</li>
<li>å®åä½éªï¼å¼å¥ å¨é¾è·¯æµå¼äº¤äº (Streaming TTS)ï¼è®© AI è¾¹æ³è¾¹è¯´ï¼å°è¯­é³åé¦çç­å¾æåè³æ¯«ç§çº§ã</li>
</ul>
<p>å¨å¼åçè¿ç¨ä¸­ï¼ä¹åç°ä½ä¸ºå¾®æå¡ãAgent åºç¨è°è¯å·¥å·ãæ³¨åå·¥å·å Debug ä¹æ¯æºæè¾çï¼ç¸å³å»ºè®®ä¹æ­£å¨æ´çåé¦ç»äº§åæ¹ãç­åæ¹ä½éªå®ååï¼æä¹è®¡åæé¡¹ç®æåæä¸ä¸ª Demo é¡¹ç®ä¸æ¶ï¼è®©æ´å¤äººæ¥ä½éªâç§æçäººé´çç«âã</p>
<h2 id="æä¸­æåäº§ååé¡¹ç®">æä¸­æåäº§ååé¡¹ç®</h2>
<ol>
<li>é¿éäºå½æ°è®¡ç® FCï¼<a href="https://www.aliyun.com/product/fc" target="_blank" rel="noopener nofollow">https://www.aliyun.com/product/fc</a></li>
<li>å½æ°è®¡ç® AgentRunï¼ <a href="https://www.aliyun.com/product/fc/agentrun" target="_blank" rel="noopener nofollow">https://www.aliyun.com/product/fc/agentrun</a></li>
<li>é¿éäºç¾ç¼å¤§æ¨¡åæå¡ (Bailian)ï¼ <a href="https://www.aliyun.com/product/bailian" target="_blank" rel="noopener nofollow">https://www.aliyun.com/product/bailian</a></li>
<li>é¿éäºæ¥å¿æå¡ (SLS)ï¼ <a href="https://www.aliyun.com/product/sls" target="_blank" rel="noopener nofollow">https://www.aliyun.com/product/sls</a></li>
<li>é¿éäºå³ç³»åæ°æ®åº (RDS for MySQL)ï¼ <a href="https://www.aliyun.com/product/rds/mysql" target="_blank" rel="noopener nofollow">https://www.aliyun.com/product/rds/mysql</a></li>
<li>é¿éäºå¯¹è±¡å­å¨ (OSS)ï¼ <a href="https://www.aliyun.com/product/oss" target="_blank" rel="noopener nofollow">https://www.aliyun.com/product/oss</a></li>
<li>é¿éäºäºæ°æ®åº Redisï¼ <a href="https://www.aliyun.com/product/kvstore" target="_blank" rel="noopener nofollow">https://www.aliyun.com/product/kvstore</a></li>
<li>turbometa-rayban-ai Githubé¡¹ç®ï¼<a href="https://github.com/Turbo1123/turbometa-rayban-ai/blob/main/README_EN.md" target="_blank" rel="noopener nofollow">https://github.com/Turbo1123/turbometa-rayban-ai/blob/main/README_EN.md</a></li>
</ol>


</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-30 16:48">2026-01-30 16:47</span>&nbsp;
<a href="https://www.cnblogs.com/Serverless">Serverlessç¤¾åº</a>&nbsp;
éè¯»(<span id="post_view_count">86</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19554481);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19554481', targetLink: 'https://www.cnblogs.com/Serverless/p/19554481', title: '2å¤©ï¼æç¨å½æ°è®¡ç®&amp;#160;AgentRun&amp;#160;çæ¹ä¸å¯èµåæåç¼é' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ æ°æ®âæ¾å¾®éâï¼èç¾¤å¾è®©æ¯ä¸ªæ°æ®ç¹é½åå£° ]]></title>
    <link>https://www.cnblogs.com/wang_yb/p/19557785</link>
    <guid>4254e035ab252d6c7896e93e09119a14</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/wang_yb/p/19557785" title="åå¸äº 2026-01-31 14:22">
    <span role="heading" aria-level="2">æ°æ®âæ¾å¾®éâï¼èç¾¤å¾è®©æ¯ä¸ªæ°æ®ç¹é½åå£°</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>æ³è±¡ä¸ä¸å¤æ¥çè±ä¸ä¸­ï¼æç¾¤çèèå´ç»çè±æµå¿ç¢å°é£èãæ¯åªèèé½æ¯ä¸ä¸ªç¬ç«çæ°æ®ç¹ï¼å®ä»¬æ¢ä¿æç¾¤ä½èéçå½¢æï¼åä¸ä¼å®å¨éå å¨ä¸èµ·ã</p>
<p>è¿å°±æ¯<strong>èç¾¤å¾</strong>ï¼<code>Swarm Plot</code>ï¼ç<strong>æ ¸å¿çå¿µ</strong>ââå¨æéçç©ºé´åå±ç¤ºæææ°æ®ç¹ï¼è®©æ¯ä¸ªç¹é½è½è¢«æ¸æ°çè§ã</p>
<p><strong>èç¾¤å¾</strong>æ¯ä¸ç§ç¹æ®çæ°æ®å¯è§åå¾è¡¨ï¼å®å°åç±»æ°æ®ä¸æ°å¼æ°æ®ç»åèµ·æ¥ï¼å±ç¤ºæ°æ®çåå¸æåµã</p>
<p>ä¸ä¼ ç»çæ¡å½¢å¾æç®±çº¿å¾ä¸åï¼èç¾¤å¾ä¸è¿è¡ä»»ä½æ°æ®èåï¼èæ¯å±ç¤ºæ¯ä¸ä¸ªåå§æ°æ®ç¹ï¼é¿åäºä¿¡æ¯ä¸¢å¤±ã</p>
<h1 id="1-èç¾¤å¾æ ¸å¿ç¹ç¹">1. èç¾¤å¾æ ¸å¿ç¹ç¹</h1>
<p><strong>èç¾¤å¾</strong>æå·§å¦çå°æ¹å¨äºå®çå¸å±ç®æ³ã</p>
<p>å½å¤ä¸ªæ°æ®ç¹å·æç¸ä¼¼æ°å¼æ¶ï¼å®ä»¬ä¸ä¼ç®åå°éå å¨ä¸èµ·ï¼èæ¯åæâææ¥åâä¸æ ·ï¼å¨åç´æ¹åï¼ææ°´å¹³æ¹åï¼ä¸è½»å¾®åç§»ï¼å½¢æä¸ä¸ªç±»ä¼¼èç¾¤çåå¸ã</p>
<p>æ¯å¦ï¼ä¸é¢æ¯<strong>åä¸ç»æ°æ®</strong>å¨<strong>æ£ç¹å¾</strong>å<strong>èç¾¤å¾</strong>ä¸­å±ç¤ºçææã</p>

<p><img src="https://img2024.cnblogs.com/blog/83005/202601/83005-20260131142128895-781019092.png" alt="" loading="lazy"></p>
<p>ä»ä¸­å¯ä»¥çåºèç¾¤å¾çæ ¸å¿ç¹ç¹æï¼</p>
<ol>
<li><strong>ç»ä¸éå </strong>ï¼ å®éè¿ç®æ³æ£æµæ°æ®ç¹çéå æåµï¼ä¸æ¦åç°ä¸¤ä¸ªç¹æ°å¼ç¸è¿ï¼å°±ä¼èªå¨æå®ä»¬åæ°´å¹³æ¹åæ¨å¼ã</li>
<li><strong>ä¿çåå¸å½¢æ</strong>ï¼ æ£å¼åçå½¢ç¶ï¼å¤©ç¶å½¢æäºä¸ç§ç±»ä¼¼âå°æç´âæâå±±å³°âçè½®å»ï¼ç´è§å°å±ç¤ºäºæ°æ®çå¯åº¦ã</li>
<li><strong>åæ°è°æ´</strong>ï¼ æä»¬å¯ä»¥è°æ´ç¹çå¤§å°ï¼marker sizeï¼åæåçç´§å¯ç¨åº¦ãç¹è¶å¤§ï¼è§è§å²å»åè¶å¼ºï¼ä½éè¦çæ°´å¹³ç©ºé´ä¹è¶å¤ã</li>
</ol>
<h1 id="2-èç¾¤å¾-vs-æ¡å½¢å¾ä»æè¦å°ç»è">2. èç¾¤å¾ vs. æ¡å½¢å¾ï¼ä»æè¦å°ç»è</h1>
<p><strong>æ¡å½¢å¾</strong>å°±åæ¯ä¸ä»½æ°æ®æè¦æ¥åï¼å®åè¯æä»¬æ¯ä¸ªç±»å«çå¹³åå¼ææ»è®¡å¼ï¼ä½éèäºæ°æ®åé¨çåå¸ç»èã</p>
<p>è<strong>èç¾¤å¾</strong>ååæ¯ä¸æ¬¡æ°æ®ç¹çå¨åå¤§ä¼ï¼æ¯ä¸ªæ°æ®ç¹é½æåè¨çæºä¼ã</p>
<p>ä¸é¢éå¯¹åä¸ç»æ°æ®ï¼æä»¬åå«ç»å¶äº<strong>æ¡å½¢å¾</strong>ã<strong>ç®±çº¿å¾</strong>å<strong>èç¾¤å¾</strong>ï¼ä¸èµ·æ¥æåä¸ä¸å®ä»¬ä¹é´ä¸åçå±ç¤ºææã</p>
<pre><code class="language-python"># çæç¤ºä¾æ°æ®
np.random.seed(123)
categories = ["äº§åA", "äº§åB", "äº§åC", "äº§åD"]
data_comparison = []
for category in categories:
    n_points = 40
    if category == "äº§åA":
        values = np.random.normal(75, 8, n_points)
    elif category == "äº§åB":
        values = np.random.normal(82, 12, n_points)
    elif category == "äº§åC":
        values = np.random.normal(65, 5, n_points)
    else:  # äº§åD
        # åå»ºä¸ä¸ªåå³°åå¸
        values1 = np.random.normal(55, 6, n_points // 2)
        values2 = np.random.normal(85, 7, n_points // 2)
        values = np.concatenate([values1, values2])

    for value in values:
        data_comparison.append({"äº§å": category, "ç¨æ·è¯å": value})

# 1. æ¡å½¢å¾ï¼å¹³åå¼ï¼
means = []
for category in categories:
    cat_data = [d["ç¨æ·è¯å"] for d in data_comparison if d["äº§å"] == category]
    means.append(np.mean(cat_data))

bars = axes[0].bar(
    categories, means, color=["#1f77b4", "#ff7f0e", "#2ca02c", "#d62728"]
)


# å¨æ¡å½¢ä¸æ æ³¨å¹³åå¼
# çç¥...

# 2. ç®±çº¿å¾
box_data = []
for category in categories:
    cat_data = [d["ç¨æ·è¯å"] for d in data_comparison if d["äº§å"] == category]
    box_data.append(cat_data)

boxplot = axes[1].boxplot(
    box_data, tick_labels=categories, patch_artist=True, boxprops=dict(facecolor="lightblue")
)
# çç¥...

# 3. èç¾¤å¾
data_df = pd.DataFrame(data_comparison)
sns.swarmplot(
    x="äº§å",
    y="ç¨æ·è¯å",
    hue="äº§å",
    data=data_df,
    ax=axes[2],
    size=5,
    palette="Set2",
    edgecolor="black",
    linewidth=0.5,
)
# çç¥...

plt.tight_layout()
plt.show()

</code></pre>

<p><img src="https://img2024.cnblogs.com/blog/83005/202601/83005-20260131142128894-2129735776.png" alt="" loading="lazy"></p>
<p>ç»å¶èç¾¤å¾å¯ä»¥ç¨<code>seaborn</code>è¿ä¸ªåºä¸­ç<code>swarmplot</code>å½æ°ã</p>
<p>ä»ä¸é¢çå¯¹æ¯å¯ä»¥çåºï¼</p>
<ul>
<li><strong>æ¡å½¢å¾</strong>åè¯æä»¬äº§åDçå¹³ååçº¦ä¸º70å</li>
<li><strong>ç®±çº¿å¾</strong>æç¤ºäº§åDçæ°æ®åå¸èå´å¾å¹¿</li>
<li>ä½åªæ<strong>èç¾¤å¾</strong>æ¸æ°å°æ­ç¤ºäºäº§åDå®éä¸æä¸¤ä¸ªææ¾çç¨æ·ç¾¤ä½ï¼ä¸ä¸ªä½è¯åç¾¤ä½åä¸ä¸ªé«è¯åç¾¤ä½</li>
</ul>
<h1 id="3-èç¾¤å¾-vs-æ£ç¹å¾ä»æ··ä¹±å°æåº">3. èç¾¤å¾ vs. æ£ç¹å¾ï¼ä»æ··ä¹±å°æåº</h1>
<p>ä¼ ç»<strong>æ£ç¹å¾</strong>å¨å¤çåç±»æ°æ®æ¶ï¼å¸¸å¸¸å¯¼è´æ°æ®ç¹å¤§ééå ï¼å½¢æ"é»å¢"ï¼æä»¬æ æ³çæ¸æ°æ®ç¹ççå®åå¸ã</p>
<p><strong>èç¾¤å¾</strong>éè¿æºè½å¸å±ç®æ³è§£å³äºè¿ä¸ªé®é¢ã</p>
<p>ä¸é¢æé ä¸ä¸ªä¸åå¯åº¦çæ°æ®ï¼ççèç¾¤å¾åæ£ç¹å¾çå±ç¤ºææã</p>
<pre><code class="language-python"># æ¯è¾æ£ç¹å¾ä¸èç¾¤å¾çè§è§ææ
fig, axes = plt.subplots(1, 2, figsize=(14, 6))

# çæå·æä¸åå¯åº¦çæ°æ®
np.random.seed(42)
density_data = []
categories = ["ä½å¯åº¦", "ä¸­ç­å¯åº¦", "é«å¯åº¦"]
for i, category in enumerate(categories):
    n_points = 20 + i * 30  # ä¸åå¯åº¦
    if category == "ä½å¯åº¦":
        values = np.random.normal(50, 15, n_points)
    elif category == "ä¸­ç­å¯åº¦":
        values = np.random.normal(50, 8, n_points)
    else:  # é«å¯åº¦
        values = np.random.normal(50, 4, n_points)

    for value in values:
        density_data.append({"ç±»å«": category, "æ°å¼": value})

# å·¦ä¾§ï¼ä¼ ç»æ£ç¹å¾
for i, category in enumerate(categories):
    cat_data = [d["æ°å¼"] for d in density_data if d["ç±»å«"] == category]
    x_positions = np.full(len(cat_data), i)
    axes[0].scatter(x_positions, cat_data, alpha=0.6, s=60, label=category)

#çç¥...

# å³ä¾§ï¼èç¾¤å¾
density_data_df = pd.DataFrame(density_data)
sns.swarmplot(
    x="ç±»å«",
    y="æ°å¼",
    hue="ç±»å«",
    data=density_data_df,
    ax=axes[1],
    size=6,
    palette="coolwarm",
    edgecolor="black",
    linewidth=0.5,
)
#çç¥...

plt.tight_layout()
plt.show()
</code></pre>

<p><img src="https://img2024.cnblogs.com/blog/83005/202601/83005-20260131142128896-1164818687.png" alt="" loading="lazy"></p>
<p><strong>èç¾¤å¾</strong>è§£å³äº <strong>âéå ï¼Overplottingï¼â</strong> çé®é¢ãå¨æ°æ®ééä¸­ï¼å ç¾å°å åä¸ªç¹ï¼æ¶ï¼å®æ¯å±ç¤ºåå¸å¯åº¦çæä½³éæ©ã</p>
<h1 id="4-èç¾¤å¾çéç¨åºæ¯">4. èç¾¤å¾çéç¨åºæ¯</h1>
<p><strong>èç¾¤å¾</strong>å¹¶ä¸æ¯ä¸ºäºåä»£<strong>æ¡å½¢å¾</strong>æ<strong>æ£ç¹å¾</strong>ï¼å®æèªå·±çéç¨åºæ¯åå±éæ§ã</p>
<p>éåä½¿ç¨<strong>èç¾¤å¾</strong>çåºæ¯ï¼</p>
<ul>
<li>æ ·æ¬ééä¸­ï¼éå¸¸å°äºå ç¾ä¸ªç¹ï¼æ¶ï¼å±ç¤ºå®æ´æ°æ®åå¸</li>
<li>éè¦åæ¶çå°æ´ä½è¶å¿åä¸ªä½æ°æ®ç¹</li>
<li>æ°æ®æå¤ä¸ªåç±»åéï¼éè¦æ¯è¾ä¸åç±»å«åå¸</li>
<li>å¸æåç°å¼å¸¸å¼æç¹æ®æ¨¡å¼ï¼å¦åå³°åå¸ï¼</li>
</ul>
<p><font style="color: rgba(15, 17, 21, 1)"></font></p>
<p><strong>èç¾¤å¾</strong>ç<strong>å±éæ§</strong>ä¸»è¦æï¼</p>
<ol>
<li>å¤§æ°æ®éå¯è½å¯¼è´å¾è¡¨è¿äºæ¥æ¤</li>
<li>å¯¹äºéå¸¸å¤§è§æ¨¡æ°æ®ï¼ç®±çº¿å¾æå°æç´å¾å¯è½æ´åé</li>
<li>ç²¾ç¡®çæ°å¼æ¯è¾ä¸å¦æ¡å½¢å¾ç´è§</li>
</ol>
<h1 id="5-æ»ç»">5. æ»ç»</h1>
<p><strong>èç¾¤å¾</strong>å°±åæ°æ®å¯è§åé¢åç"æ¾å¾®é"ï¼å®è®©æä»¬æ¢è½è§å¯å°æ°æ®çæ´ä½åå¸å½¢æï¼åè½çå°æ¯ä¸ä¸ªæ°æ®ç¹çå·ä½ä½ç½®ã</p>
<p>ä¸åªè½æ¾ç¤ºæè¦ä¿¡æ¯ç<strong>æ¡å½¢å¾</strong>åå®¹æäº§çéå ç<strong>æ£ç¹å¾</strong>ç¸æ¯ï¼<strong>èç¾¤å¾</strong>å¨æ¾ç¤ºä¸­å°åæ°æ®éçå®æ´åå¸ä¿¡æ¯æ¹é¢å·æç¬ç¹ä¼å¿ã</p>
<p>å¨æ°æ®å¯è§åå®è·µä¸­ï¼éæ©æ­£ç¡®çå¾è¡¨ç±»åå°±åéæ©æ­£ç¡®çå·¥å·ä¸æ ·éè¦ã</p>
<p>å½ä¸ä¸æ¬¡ä½ éè¦å±ç¤ºåç±»æ°æ®çåå¸æ¶ï¼ä¸å¦¨å°è¯ä¸ä¸èç¾¤å¾ï¼å®å¯è½ä¼æ­ç¤ºåºä½ ä»æªæ³¨æå°çæ°æ®ç§å¯ã</p>
<p>æä¸­çå®æ´ä»£ç å±äº«å¨ï¼<a href="https://url11.ctfile.com/f/45455611-8639900394-9a109f?p=6872" target="_blank" rel="noopener nofollow">èç¾¤å¾.ipynb</a> (è®¿é®å¯ç : 6872)</p>


</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-31 14:22">2026-01-31 14:22</span>&nbsp;
<a href="https://www.cnblogs.com/wang_yb">wang_yb</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19557785);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19557785', targetLink: 'https://www.cnblogs.com/wang_yb/p/19557785', title: 'æ°æ®âæ¾å¾®éâï¼èç¾¤å¾è®©æ¯ä¸ªæ°æ®ç¹é½åå£°' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ C++ å°è£ C FFI æ¥å£æä½³å®è·µï¼ä»¥ Hugging Face Tokenizer ä¸ºä¾ ]]></title>
    <link>https://www.cnblogs.com/charlee44/p/19557586</link>
    <guid>e4fd64102f9d44c52c02fa3a99c6b27d</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/charlee44/p/19557586" title="åå¸äº 2026-01-31 13:36">
    <span role="heading" aria-level="2">C++ å°è£ C FFI æ¥å£æä½³å®è·µï¼ä»¥ Hugging Face Tokenizer ä¸ºä¾</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        è¯¦ç»ä»ç»äºå¦ä½éè¿ Rust ç C FFI å°è£ Hugging Face tokenizersï¼å¹¶å¨ C++ ä¸­å©ç¨ RAII åæºè½æéå®ç°å®å¨ãç®æ´ãé«æçèµæºç®¡çï¼æç»éµå¾ªç°ä»£ C++ çâé¶æ³åâå®æå·¥ä¸çº§å°è£ã
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="1-å¼å¥">1. å¼å¥</h1>
<p>å¨ç°ä»£ AI å·¥ç¨ä¸­ï¼Hugging Face ç tokenizers åºå·²æä¸ºåè¯å¨çäºå®æ åãä¸è¿ Hugging Face ç tokenizers æ¯ç¨ Rust æ¥å®ç°çï¼å®æ¹åªæä¾äº python å node çç»å®å®ç°ãè¦å®ç°ä¸ Hugging Face tokenizers ç¸åçè¡ä¸ºï¼æå¥½çåæ³å°±æ¯èªå·±å°è£ Hugging Face tokenizers ç C ç»å®ï¼ä»èå¯ä»¥è¢« C++ / C# / Java è¿äºé«çº§ç¼ç¨è¯­è¨è°ç¨ã</p>
<h1 id="2-å°è£-c-æ¥å£">2. å°è£ C æ¥å£</h1>
<p>é¦åè¦è¯´æçæ¯ï¼è¦åçä¸æ¯å®æ´çå°è£ Hugging Face tokenizers ç C ç FFIï¼Foreign Function Interfaceï¼æ¥å£ï¼èæ¯å°è£èªå·±éè¦çæ¥å£å°±å¯ä»¥äºãæ¯å¦æ§è¡åè¯æ¥å£åè®¡ç®Tokençæ¥å£ï¼</p>
<pre><code class="language-rust">use std::ffi::CStr;
use std::os::raw::c_char;
use tokenizers::{PaddingParams, Tokenizer, TruncationParams};

// === 1. å®ä¹ C å¼å®¹çè¿åç»æä½ ===
#[repr(C)]
pub struct TokenizerResult {
    pub input_ids: *mut i64,
    pub attention_mask: *mut i64,
    pub token_type_ids: *mut i64,
    pub length: u64,
}

// === 2. åé¨ç¶æï¼åè£ Tokenizer ===
struct TokenizerHandle {
    tokenizer: Tokenizer,     // ç¨äº encodeï¼å¸¦ paddingï¼
    raw_tokenizer: Tokenizer, // ç¨äº countï¼æ  paddingï¼
}

// === 3. è¾å©å½æ°ï¼å° Rust Vec è½¬ä¸º C å¯æ¥æçæé ===
fn vec_to_c_ptr(vec: Vec&lt;i64&gt;) -&gt; *mut i64 {
    let mut boxed = vec.into_boxed_slice();
    let ptr = boxed.as_mut_ptr();
    std::mem::forget(boxed); // é²æ­¢ Rust èªå¨éæ¾
    ptr
}

// === 4. åå»º tokenizer ===
#[unsafe(no_mangle)] // ç¦ç¨ name manglingï¼è®© C è½æ¾å°ç¬¦å·
pub extern "C" fn tokenizer_create(tokenizer_json_path: *const c_char) -&gt; *mut std::ffi::c_void {
    if tokenizer_json_path.is_null() {
        return std::ptr::null_mut();
    }

    let path_cstr = unsafe { CStr::from_ptr(tokenizer_json_path) };
    let path_str = match path_cstr.to_str() {
        Ok(s) =&gt; s,
        Err(_) =&gt; return std::ptr::null_mut(),
    };

    let mut tokenizer = match Tokenizer::from_file(path_str) {
        Ok(t) =&gt; t,
        Err(_) =&gt; return std::ptr::null_mut(),
    };

    // è®¾ç½® padding/truncation å° 512ï¼BGE é»è®¤ï¼
    tokenizer.with_padding(Some(PaddingParams {
        strategy: tokenizers::PaddingStrategy::Fixed(512),
        ..Default::default()
    }));

    if tokenizer
        .with_truncation(Some(TruncationParams {
            max_length: 512,
            ..Default::default()
        }))
        .is_err()
    {
        return std::ptr::null_mut();
    }

    let mut raw_tokenizer = tokenizer.clone();
    raw_tokenizer.with_padding(None);
    raw_tokenizer.with_truncation(None).ok();

    let handle = TokenizerHandle {
        tokenizer,
        raw_tokenizer,
    };
    Box::into_raw(Box::new(handle)) as *mut std::ffi::c_void
}

//è®¡ç®å¥å­token
#[unsafe(no_mangle)] // ç¦ç¨ name manglingï¼è®© C è½æ¾å°ç¬¦å·
pub extern "C" fn tokenizer_count(handle: *mut std::ffi::c_void, text: *const c_char) -&gt; u64 {
    if handle.is_null() || text.is_null() {
        return 0;
    }

    let handle_ref = unsafe { &amp;*(handle as *mut TokenizerHandle) };

    let text_cstr = unsafe { CStr::from_ptr(text) };
    let text_str = match text_cstr.to_str() {
        Ok(s) =&gt; s,
        Err(_) =&gt; return 0,
    };

    match handle_ref.raw_tokenizer.encode(text_str, true) {
        Ok(encoding) =&gt; encoding.len() as u64,
        Err(_) =&gt; 0,
    }
}

// === 5. éæ¯ tokenizer ===
#[unsafe(no_mangle)]
pub extern "C" fn tokenizer_destroy(handle: *mut std::ffi::c_void) {
    if !handle.is_null() {
        unsafe {
            let _ = Box::from_raw(handle as *mut TokenizerHandle);
            // Drop èªå¨è°ç¨
        }
    }
}

// === 6. æ§è¡åè¯ ===
#[unsafe(no_mangle)]
pub extern "C" fn tokenizer_encode(
    handle: *mut std::ffi::c_void,
    text: *const c_char,
) -&gt; TokenizerResult {
    let default_result = TokenizerResult {
        input_ids: std::ptr::null_mut(),
        attention_mask: std::ptr::null_mut(),
        token_type_ids: std::ptr::null_mut(),
        length: 0,
    };

    if handle.is_null() || text.is_null() {
        return default_result;
    }

    let handle_ref = unsafe { &amp;*(handle as *mut TokenizerHandle) };

    let text_cstr = unsafe { CStr::from_ptr(text) };
    let text_str = match text_cstr.to_str() {
        Ok(s) =&gt; s,
        Err(_) =&gt; return default_result,
    };

    let encoding = match handle_ref.tokenizer.encode(text_str, true) {
        Ok(e) =&gt; e,
        Err(_) =&gt; return default_result,
    };

    let input_ids: Vec&lt;i64&gt; = encoding.get_ids().iter().map(|&amp;x| x as i64).collect();
    let attention_mask: Vec&lt;i64&gt; = encoding
        .get_attention_mask()
        .iter()
        .map(|&amp;x| x as i64)
        .collect();
    let token_type_ids: Vec&lt;i64&gt; = encoding.get_type_ids().iter().map(|&amp;x| x as i64).collect();
    // BGE ä¸éè¦ï¼ä½ C++ ä»£ç ä¼ äº
    // let token_type_ids: Vec&lt;u32&gt; = vec![0u32; input_ids.len()];

    let len = input_ids.len(); // åºè¯¥æ¯ 512ï¼ä½æ´éç¨

    TokenizerResult {
        input_ids: vec_to_c_ptr(input_ids),
        attention_mask: vec_to_c_ptr(attention_mask),
        token_type_ids: vec_to_c_ptr(token_type_ids),
        length: len as u64,
    }
}

// === 7. éæ¾ç»æåå­ ===
#[unsafe(no_mangle)]
pub extern "C" fn tokenizer_result_free(result: TokenizerResult) {
    if !result.input_ids.is_null() {
        unsafe {
            let _ = Vec::from_raw_parts(
                result.input_ids,
                result.length as usize,
                result.length as usize,
            );
        }
    }

    if !result.attention_mask.is_null() {
        unsafe {
            let _ = Vec::from_raw_parts(
                result.attention_mask,
                result.length as usize,
                result.length as usize,
            );
        }
    }

    if !result.token_type_ids.is_null() {
        unsafe {
            let _ = Vec::from_raw_parts(
                result.token_type_ids,
                result.length as usize,
                result.length as usize,
            );
        }
    }
}
</code></pre>
<p>å¯¹åºç C æ¥å£å¦ä¸ï¼</p>
<pre><code class="language-c">// tokenizer_result.h
#pragma once

struct TokenizerResult {
  int64_t* input_ids;
  int64_t* attention_mask;
  int64_t* token_type_ids;
  uint64_t length;
};

#ifdef __cplusplus
static_assert(std::is_standard_layout_v&lt;TokenizerResult&gt; &amp;&amp;
                  std::is_trivially_copyable_v&lt;TokenizerResult&gt;,
              "TokenizerResult must be C ABI compatible");
#endif
</code></pre>
<pre><code class="language-c">// hf_tokenizer_ffi.h
#pragma once

#include &lt;stdint.h&gt;

#include "tokenizer_result.h"

#ifdef __cplusplus
extern "C" {
#endif

void* tokenizer_create(const char* tokenizer_json_path);
void tokenizer_destroy(void* handle);
TokenizerResult tokenizer_encode(void* handle, const char* text);
uint64_t tokenizer_count(void* handle, const char* text);
void tokenizer_result_free(TokenizerResult result);

#ifdef __cplusplus
}
#endif
</code></pre>
<p>å·ä½çå°è£ç»èç¬èå°±ä¸å¤è¯´äºï¼å ä¸ºä¸æ¬æçä¸»é¢æ å³ãä¸è¿å¯ä»¥ç¨ç¨äºè§£ä¸ä¸å¶ä¸­çåçï¼ä¹å°±æ¯è¯´ï¼æä½ç³»ç»å¤§å¤æ°æ¯ç± C å®ç°çï¼æèæä¾äº C çæ¥å£ãå æ­¤ï¼ç»å¤§å¤æ°æ¯ C é«çº§çç¼ç¨è¯­è¨é½æä¾äºä¸ C äº¤äºçè½åï¼å½ç¶åææ¯å¿é¡»å¾æç§ C å¾è§èç»ç»æ°æ®åå°è£æ¥å£ãæ¯å¦è¿éç<code>struct TokenizerResult</code>å°±æ¯ä¸ä¸ªå¼å®¹ C çç»æä½ï¼<code>#[unsafe(no_mangle)]</code>åè¡¨æè¿æ¯ä¸ä¸ª C è¯­è¨å½¢å¼çå½æ°æ¥å£ã</p>
<h1 id="3-ç»å¸-c-å°è£">3. ç»å¸ C++ å°è£</h1>
<p>å¦ä¸æ¥å£æ¯ä¸ä¸ªæ åç C é£æ ¼å¼çæ¥å£ï¼å°åè¯å¨å°è£æä¸ä¸ª Handle ï¼ä¹å°±æ¯ä¿ç§°çå¥æãèåç»­å·ä½çåè¯æä½å°±éè¿è¿ä¸ªå¥ææ¥è¿è¡ï¼åæ¬æåå¯¹èµæºçéæ¾ãå¨ C++ ä¸­ï¼å½ç¶ä¹å¯ä»¥ç´æ¥ä½¿ç¨è¿ç§å½¢å¼çæ¥å£ï¼ä¸è¿è¿æ ·å°±éè¦éµå¾ª C çèµæºæ§å¶è§åï¼èµæºç³è¯·åéæ¾å¿é¡»æå¯¹åºç°ââæ¯å¦è¿éç <code>tokenizer_create</code> å <code>tokenizer_destroy</code>ã</p>
<h2 id="31-raii-æºå¶">3.1 RAII æºå¶</h2>
<p>ä¸è¿è¿æ ·å°±ä¼æä¸ä¸ªé®é¢ï¼è¿ç¨å¼çæµç¨ä¸­å¾é¾ä¿è¯ <code>tokenizer_create</code> å <code>tokenizer_destroy</code> è½å¤æå¯¹è°ç¨ï¼ä¾å¦ï¼</p>
<pre><code class="language-c">tokenizer_create()

if(...){
    return;
}

tokenizer_destroy()
</code></pre>
<p>åªè¦å¨ <code>tokenizer_create</code> å <code>tokenizer_destroy</code> ä¹é´åºç°åæ¯ï¼ç¨åºæåè¿åï¼å°±ä¼å¯¼è´èµæºæ²¡æéæ¾èåå­æ³æ¼ãä¸ºäºé¿åè¿ä¸ªé®é¢ï¼å°±éè¦å¨æ¯æ¬¡ <code>return</code> ä¹åï¼é½è°ç¨ <code>tokenizer_destroy()</code>ââè¿å½ç¶æ¯éå¸¸ä¸ä¼éçï¼æ¢å®¹æå¿æåæ¯åä½ä»£ç ã</p>
<p>ä¸ºäºè§£å³è¿ç§èµæºç®¡çé¾é¢ï¼C++ æä¾äºä¸ç§å¼ºå¤§èä¼éçæºå¶ï¼RAIIï¼Resource Acquisition Is Initializationï¼èµæºè·åå³åå§åï¼ãå®çæ ¸å¿ææ³æ¯ï¼å°èµæºççå½å¨æç»å®å°å¯¹è±¡ççå½å¨æä¸ãå·ä½æ¥è¯´ï¼å°±æ¯å©ç¨é¢åå¯¹è±¡çææ³ï¼å°èµæºæ§å¶çè¡ä¸ºå°è£æä¸ä¸ªç±»å¯¹è±¡ï¼å¹¶ä¸ä¿è¯èµæºå¨å¯¹è±¡æé å½æ°ä¸­è·åï¼å¨ææå½æ°ä¸­èªå¨éæ¾ãç±äº C++ ä¸­æ å¯¹è±¡å¨ç¦»å¼ä½ç¨åæ¶ä¼èªå¨è°ç¨ææå½æ°ï¼å¨ç¦»å¼ä½ç¨åæ¶ä¼èªå¨è°ç¨ææå½æ°ãå æ­¤è¿äºèµæºæ»æ¯å¯ä»¥è¢«æ­£ç¡®éæ¾ï¼ä»æ ¹æ¬ä¸æç»åå­æ³æ¼æèµæºæ³é²ãä¾å¦ï¼</p>
<pre><code class="language-cpp">Tokenizer tokenizer;

//...æä½

if(...){
    return;
}

//...æ´å¤æä½
</code></pre>
<h2 id="32-æ·è´è¯­ä¹">3.2 æ·è´è¯­ä¹</h2>
<p>å¤ä¹ ä¸ä¸ C++ é¢åå¯¹è±¡è®¾è®¡çç»å¸äºæ³åï¼Rule of Fiveï¼ï¼å¦æä¸ä¸ªç±»èªå®ä¹äºä»¥ä¸ä»»æä¸ä¸ªå½æ°ï¼</p>
<ol>
<li>ææå½æ°ï¼Destructorï¼</li>
<li>æ·è´æé å½æ°ï¼Copy Constructorï¼</li>
<li>æ·è´èµå¼è¿ç®ç¬¦ï¼Copy Assignment Operatorï¼</li>
<li>ç§»å¨æé å½æ°ï¼Move Constructorï¼</li>
<li>ç§»å¨èµå¼è¿ç®ç¬¦ï¼Move Assignment Operatorï¼</li>
</ol>
<p>é£ä¹å¤§æ¦çä¹éè¦èªå®ä¹å¦å¤åä¸ªå½æ°ï¼æèæ¾å¼ = default / = delete æ¥æ§å¶è¡ä¸ºãå¾å¤ C++ ç¨åºåå¹¶ä¸çè§£ç§»å¨è¯­ä¹ï¼ä½è¿å¹¶æ²¡æå³ç³»ï¼æä»¬å¯ä»¥ååå®ä¸å®ä¹ç§»å¨æé å½æ°åç§»å¨èµå¼è¿ç®ç¬¦ï¼æèæ¾å¼ = defaultï¼ï¼æ­¤æ¶ç§»å¨æä½å°±ä¼éåä¸ºæ·è´è¯­ä¹çè¡ä¸ºã</p>
<p>èå³äºæ·è´è¯­ä¹ï¼ç»å¤§å¤æ° C++ ç¨åºååºè¯¥é½ç¥éè¿ä¸ªé®é¢ï¼å½å¨ç±»å¯¹è±¡ä¸­ç®¡çèµæºæ¶ï¼ç¼è¯å¨çæçé»è®¤æ·è´è¡ä¸ºæ¯âæµæ·è´âï¼å¯è½å¯¼è´åééæ¾ãåå­æ³æ¼ç­é®é¢ï¼å æ­¤éè¦èªå®ä¹æ·è´æé å½æ°åæ·è´èµå¼è¿ç®ç¬¦æ¥å®ç°âæ·±æ·è´âçè¡ä¸ºãå æ­¤ï¼è¿ä¸ªé¾æ¡å°±å¾æç¡®äºï¼å ä¸ºç±»ä¸­éè¦å®ä¹ææå½æ°ï¼æä»¥éè¦åæ¶å®ä¹æ·è´æé å½æ°åæ·è´èµå¼è¿ç®ç¬¦ã</p>
<h2 id="33-ç§»å¨è¯­ä¹">3.3 ç§»å¨è¯­ä¹</h2>
<p>è¿ä¸æ­¥è®¨è®ºï¼åæ­£ç§»å¨è¯­ä¹å¯ä»¥é»è®¤ï¼é£ä¹æ¯ä¸æ¯åªç¨å®ä¹æ·è´è¯­ä¹å°±è¡äºå¢ï¼è¿ä¸ªè¦çèµæºçå®ä¹ï¼å¦æåªæ¯ç®¡çåå­èµæºï¼é£ä¹è¿æ ·åæ¯æ²¡æé®é¢çï¼è³å°æ¯å®å¨çãä½æ¯èµæºç®¡çä¸ä»ä»æçæ¯åå­èµæºï¼è¿å¯ä»¥æ¯ä¸äºæä»¶å¥æãç½ç»è¿æ¥ç­ç­ãè¿äºèµæºå¾å¾æ¯ç¬å æ§çï¼è¿è¡æ·±æ·è´å¾å¾ä¼åºç°é®é¢ãå æ­¤å°±åºç°äº C++ 11 å¼å§è§å®çç§»å¨è¯­ä¹ï¼å¯ä»¥å®å¨å¾å®ç°âæµæ·è´âçè¡ä¸ºãåæ¶è¿å¯ä»¥è§£å³âæ·±æ·è´âçæ§è½é®é¢ã</p>
<p>åºäºä»¥ä¸çææ³ï¼ç¬èå°è£çåè¯å¨å¯¹è±¡å¦ä¸ï¼</p>
<pre><code class="language-cpp">// HfTokenizer.h
#pragma once

#include &lt;string&gt;

#include "hf_tokenizer_ffi.h"

namespace hf {
class Tokenizer {
 public:
  explicit Tokenizer(const std::string&amp; path);

  // ææå½æ°
  ~Tokenizer() noexcept;

  // ç¦æ­¢æ·è´
  Tokenizer(const Tokenizer&amp;) = delete;
  Tokenizer&amp; operator=(const Tokenizer&amp;) = delete;

  // ç§»å¨è¯­ä¹
  Tokenizer(Tokenizer&amp;&amp; rhs) noexcept;
  Tokenizer&amp; operator=(Tokenizer&amp;&amp; rhs) noexcept;

  // å¶ä»æ¥å£æ¹æ³
  // TokenizerResult Encode(const char* text) const;
  // uint64_t Count(const char* text) const;

 private:
  void* handle;  // æ¥èª tokenizer_create çæé
};

}  // namespace hf
</code></pre>
<pre><code class="language-cpp">// HfTokenizer.cpp
#include "HfTokenizer.h"

#include &lt;iostream&gt;

namespace hf {
Tokenizer::Tokenizer(const std::string&amp; path)
    : handle(tokenizer_create(path.c_str())) {
  if (!handle) {
    throw std::runtime_error("Failed to create tokenizer from " + path);
  }
}

Tokenizer::~Tokenizer() noexcept {
  if (handle) {
    tokenizer_destroy(handle);
  }
}

// ç§»å¨è¯­ä¹
Tokenizer::Tokenizer(Tokenizer&amp;&amp; rhs) noexcept : handle(rhs.handle) {
  rhs.handle = nullptr;
}

Tokenizer&amp; Tokenizer::operator=(Tokenizer&amp;&amp; rhs) noexcept {
  if (this != &amp;rhs) {
    if (handle) {
      tokenizer_destroy(handle);
    }
    handle = rhs.handle;
    rhs.handle = nullptr;
  }
  return *this;
}

}  // namespace hf
</code></pre>
<p>å¦åæè¿°ï¼å ä¸ºå°è£çæ¯ä¸ä¸ªå¥æï¼ä¸ºäºé¿åèµæºæ§å¶çéº»ç¦ï¼å°±ç¦æ­¢ææ·è´è¯­ä¹ï¼</p>
<pre><code class="language-cpp">// ç¦æ­¢æ·è´
Tokenizer(const Tokenizer&amp;) = delete;
Tokenizer&amp; operator=(const Tokenizer&amp;) = delete;
</code></pre>
<p>è¿è¡<code>()</code>æ·è´æé æè<code>=</code>èµå¼æé çèµ·æ¥ä¼¼ä¹å¾ç®åï¼å¶å®å¨ä»£ç å±å±åµå¥ä¹åï¼å°±å¯è½å¾é¾åæåºæ¯ä¸æ¯è°ç¨äºé»è®¤çæ·è´çè¡ä¸ºï¼æ¯å¦å½æ°ä¼ åãå®¹å¨æä½ç­ç­ãå½ç¶æ·±æ·è´çå®ç°ä¹ä¸æ¯æ§è½æä¼ï¼å æ­¤å¹²èå°±ç´æ¥å é¤ææ·è´æé å½æ°åæ·è´èµå¼è¿ç®ç¬¦ã</p>
<p>æ²¡ææ·è´è¯­ä¹ï¼é£ä¹å°±éè¦ç§»å¨è¯­ä¹æ¥è¿è¡ä¼ éå¯¹è±¡äºãå¶å®ç§»å¨è¯­ä¹æ²¡é£ä¹é¾ï¼æä»¬åªè¦ææ¡ä½ä¸ç¹ï¼ç§»å¨è¯­ä¹çç®çæ¯å®å¨å°å®ç°âæµæ·è´âãä»¥ç§»å¨èµå¼è¿ç®ç¬¦çå®ç°æ¥è¯´ï¼å¦æè¦å®ç°å¦ä¸ç§»å¨èµå¼ï¼</p>
<pre><code class="language-cpp">Tokenizer A();
Tokenizer B();
B = std::move(A);
</code></pre>
<p>å°±éè¦ä»¥ä¸çè¡ä¸ºï¼</p>
<ol>
<li>éæ¾æBç®¡ççèµæºã</li>
<li>å°Aä¸­çæåâæµæ·è´âå°Bä¸­ï¼è®©Bæ¥ç®¡Açèµæºã</li>
<li>å°Aä¸­æååå§åã</li>
</ol>
<p>å·ä½å®ç°å°±æ¯å¦ä¸æç¤ºï¼</p>
<pre><code class="language-cpp">Tokenizer&amp; Tokenizer::operator=(Tokenizer&amp;&amp; rhs) noexcept {
  if (this != &amp;rhs) {
    if (handle) {
      tokenizer_destroy(handle);
    }
    handle = rhs.handle;
    rhs.handle = nullptr;
  }
  return *this;
}
</code></pre>
<p>ç§»å¨æé å½æ°å°±æ´å ç®åäºï¼å ä¸ºBå¯¹è±¡å¨ç§»å¨æé ä¹åæåå¹¶æ²¡æåå§åï¼</p>
<pre><code class="language-cpp">Tokenizer A();
Tokenizer B(std::move(A));
</code></pre>
<p>å æ­¤å¯ä»¥çç¥æéæ¾èªèº«èµæºçæ­¥éª¤ï¼å·ä½å®ç°ä¹å°±æ¯å¦ä¸æç¤ºï¼</p>
<pre><code class="language-cpp">Tokenizer::Tokenizer(Tokenizer&amp;&amp; rhs) noexcept : handle(rhs.handle) {
  rhs.handle = nullptr;
}
</code></pre>
<p>æåè¿æä¸ä¸ªé®é¢ï¼Aéè¿ç§»å¨è¯­ä¹è½¬ç§»å°Bäºï¼Aè¿è½ä½¿ç¨åï¼ä¸è½ä¹æ²¡å¿è¦ä½¿ç¨Aäºï¼æ è®ºæ¯Aå¯¹è±¡åBå¯¹è±¡å¶å®æ¯ä¸ä¸ªæ å¯¹è±¡ï¼å½ç¶åé¨ç®¡ççæ°æ®æåå¯è½æ¾å¨å ä¸ï¼ï¼æèè¯´æ¯ä¸ä¸ªå¼å¯¹è±¡ï¼è¿è·å¼ç¨å¯¹è±¡æèå°åå¯¹è±¡å®å¨ä¸åãç§»å¨è¯­ä¹çæ¬è´¨æ¯å¯¹è±¡æææçè½¬ç§»ï¼è½¬ç§»ä¹ååå¯¹è±¡ä¸­èµæºæææå°±ä¸å­å¨äºï¼å³ä½¿å¼ºè¡è®¿é®ï¼è¦ä¹è®¿é®ä¸å°ï¼è¦ä¹ä¼ç¨åºå´©æºã</p>
<h1 id="4-é«çº§-c-å°è£">4. é«çº§ C++ å°è£</h1>
<h2 id="41-é¶æ³å">4.1 é¶æ³å</h2>
<p>ä½¿ç¨ RAII æºå¶ + ç»å¸äºæ³åæ¥è®¾è®¡ä¸ä¸ªç±»å¯¹è±¡ï¼è¿æä¸ä¸ªä¼ç¹ï¼å°±æ¯ä½¿ç¨è¿ä¸ªç±»å¯¹è±¡ä½ä¸ºæ°æ®æåçç±»ï¼å°±ä¸ç¨åæ¾å¼å®ç°ææå½æ°ãä¸ç¨æ¾å¼å®ç°ææå½æ°ï¼ä¹å°±æå³çä¸ç¨å®ç°æ·è´è¯­ä¹åç§»å¨è¯­ä¹ï¼å®å¨å¯ä»¥ä¾èµç±»å¯¹è±¡æ·è´åç§»å¨çé»è®¤è¡ä¸ºãä¸¾ä¾æ¥è¯´ï¼ä¸ä¸ª<code>MyResource</code>å¯¹è±¡ï¼ç®¡ççä¸æ®µåå­ buffer ï¼å®çç±»å®ä¹ä¸ºï¼</p>
<pre><code class="language-cpp">class MyResource {
public:
    // æé ï¼ç³è¯·èµæº
    MyResource() {
        data = new int[100];
    }

    // ææï¼éæ¾èµæº
    ~MyResource() {
        delete[] data;
    }

    // æ·è´æé ï¼æ·±æ·è´
    MyResource(const MyResource&amp; other) {
        data = new int[100];
        copy(other.data, other.data + 100, data);
    }

    // æ·è´èµå¼
    MyResource&amp; operator=(const MyResource&amp; other) {
        if (this != &amp;other) {
            delete[] data;
            data = new int[100];
            copy(other.data, other.data + 100, data);
        }
        return *this;
    }

    // ç§»å¨æé ï¼æ¥ç®¡èµæº
    MyResource(MyResource&amp;&amp; other) noexcept {
        data = other.data;
        other.data = nullptr;
    }

    // ç§»å¨èµå¼
    MyResource&amp; operator=(MyResource&amp;&amp; other) noexcept {
        if (this != &amp;other) {
            delete[] data;
            data = other.data;
            other.data = nullptr;
        }
        return *this;
    }

private:
    int* data = nullptr;
};
</code></pre>
<p>ä½æ¯å¦ææä½¿ç¨ std å®¹å¨<code>vector</code> ï¼ç¸åºçä»£ç å°±å¯ä»¥ç®åä¸ºï¼</p>
<pre><code class="language-cpp">#include &lt;vector&gt;

class MyResource {
public:
    // æé ï¼èªå¨åéåå­
    MyResource() : data(100) {}  // vector&lt;int&gt; èªå¨åå§åä¸º 100 ä¸ªåç´ 

    // â æ éæ¾å¼å®ä¹ææå½æ°
    // â æ éèªå®ä¹æ·è´æé  / æ·è´èµå¼
    // â æ éèªå®ä¹ç§»å¨æé  / ç§»å¨èµå¼

    // ç¼è¯å¨èªå¨çæççæ¬å·²æ­£ç¡®ãé«æãå¼å¸¸å®å¨

private:
    std::vector&lt;int&gt; data;  // RAII èªå¨ç®¡çåå­
};
</code></pre>
<p>è¿ä¸æ¯å ä¸º <code>vector</code> ä½¿ç¨äºä»ä¹é­æ³ï¼èæ¯ <code>vector</code> æ¬èº«å°±æ¯ä½¿ç¨äº RAII æºå¶ + ç»å¸äºæ³åæ¥è®¾è®¡çä¸ä¸ªæ¨¡æ¿ç±»å¯¹è±¡ï¼å¨ <code>MyResource</code> å¯¹è±¡è¿è¡æ·è´æèç§»å¨çæ¶åï¼ä½ä¸ºæ°æ®æåï¼<code>std::vector&lt;int&gt; data</code>ä¹ä¼éååæ ·çæ·è´æèç§»å¨çè¡ä¸ºï¼å¹¶ä¸é»è®¤çãç±ç¼è¯å¨èªå¨çæççæ¬å°±å¯ä»¥æ­£ç¡®å¤çã</p>
<p>ä»¥ä¸è¿ä¸ªææ³ï¼å°±æ¯ç°ä»£ C++ æ´æ¨èç<strong>é¶æ³åï¼Rule of Zeroï¼</strong>ï¼å°½éä¸è¦æå¨ç®¡çèµæºï¼èæ¯ä½¿ç¨ RAII ç±»åè®©ç¼è¯å¨èªå¨çæææç¹æ®æåå½æ°ãèè¿ä¸ª RAII ç±»åï¼å¯ä»¥æ¯ std çä»»ä½å®¹å¨å¯¹è±¡ãæºè½æéï¼ä¹å¯ä»¥æ¯èªå·±æç§äºæ³åå®ç°çç±»å¯¹è±¡ã</p>
<h2 id="42-æºè½æé">4.2 æºè½æé</h2>
<p>åå°æ¬æå¼å¥çé®é¢ï¼å¦ææçåè¯å¨å®ç°ä¸ååæ·è´è¯­ä¹åç§»å¨è¯­ä¹æä¹åå¢ï¼æ¯ç«é½æ¯æ ·æ¿ä»£ç ï¼åä¸å¥½è¿å®¹æåºé®é¢ãæ­¤æ¶æä»¬å°±å¯ä»¥ä½¿ç¨æºè½æé <code>unique_ptr</code> ãå¸¸è§æä¹ä¸ï¼æä»¬é½ç¥éæºè½æéå¯ä»¥å¨æ²¡æä»»ä½å¶ä»å¯¹è±¡å¼ç¨çæåµä¸èªå¨ <code>delete</code> ï¼å¶å®æºè½æéè¿å¯ä»¥èªå®ä¹èµæºçéæ¾è¡ä¸ºï¼</p>
<pre><code class="language-cpp">#pragma once

#include &lt;memory&gt;
#include &lt;string&gt;

namespace hf {
class Tokenizer {
 public:
  explicit Tokenizer(const std::string&amp; path);

  // ç¼è¯å¨èªå¨çæï¼
  // - ææå½æ°
  // - ç§»å¨æé  / ç§»å¨èµå¼
  // - ç¦æ­¢æ·è´ï¼å ä¸º unique_ptr ä¸å¯æ·è´ï¼

 private:
  std::unique_ptr&lt;void, void (*)(void*)&gt; handle;
};

}  // namespace hf
</code></pre>
<pre><code class="language-cpp">#include "HfTokenizer.h"

#include &lt;stdexcept&gt;

#include "hf_tokenizer_ffi.h"

namespace hf {

static void HandleDeleter(void* handle) noexcept {
  if (handle) {
    tokenizer_destroy(handle);
  }
}

Tokenizer::Tokenizer(const std::string&amp; path)
    : handle(tokenizer_create(path.c_str()), HandleDeleter) {
  if (!handle) {
    throw std::runtime_error("Failed to create tokenizer from " + path);
  }
}

}  // namespace hf
</code></pre>
<p>å¦ä¸å®ç°æç¤ºï¼å½æ° <code>HandleDeleter</code> å°±æ¯ <code>std::unique_ptr&lt;void, void (*)(void*)&gt; handle</code> çèªå®ä¹ææè¡ä¸ºï¼å¨ç±»å¯¹è±¡ææçæ¶åå°±ä¼èªå¨è°ç¨è¿ä¸ªå½æ°éæ¾èµæºãæ¢ç¶èµæºè¢«æºè½æç®¡äºï¼é£ä¹èªç¶å°±ä¸ç¨åææå½æ°ï¼ææå½æ°ä¸ç¨åï¼é£ä¹æ·è´æé å½æ°ãæ·è´èµå¼è¿ç®ç¬¦ãç§»å¨æé å½æ°ä»¥åç§»å¨èµå¼è¿ç®ç¬¦é½å¯ä»¥ä¸ç¨å®ç°ï¼å¨é¨å¯ä»¥ä¾èµç¼è¯å¨èªå¨çæãå½ç¶ï¼ç±äº <code>unique_ptr</code> åªè½ç§»å¨ä¸è½æ·è´ï¼<code>Tokenizer</code>ä¹å°±åªè½ç§»å¨ä¸è½æ·è´ã</p>
<h1 id="5-æ»ç»">5. æ»ç»</h1>
<p>æåï¼ç¬èå°±ç»åº C++ å°è£ C FFI æ¥å£çå®æ´å®ç°ï¼å¦ä¸æç¤ºï¼</p>
<pre><code class="language-cpp">// HfTokenizer.h
#pragma once

#include &lt;memory&gt;
#include &lt;string&gt;

#include "tokenizer_result.h"

namespace hf {
class Tokenizer {
 public:
  explicit Tokenizer(const std::string&amp; path);

  // ç¼è¯å¨èªå¨çæï¼
  // - ææå½æ°ï¼è°ç¨ Deleterï¼
  // - ç§»å¨æé  / ç§»å¨èµå¼
  // - ç¦æ­¢æ·è´ï¼å ä¸º unique_ptr ä¸å¯æ·è´ï¼

  // å¶ä»æ¥å£æ¹æ³
  uint64_t Count(const std::string&amp; text) const;

  // åéå
  using ResultPtr =
      std::unique_ptr&lt;TokenizerResult, void (*)(TokenizerResult*)&gt;;
  ResultPtr Encode(const std::string&amp; text) const;

 private:
  std::unique_ptr&lt;void, void (*)(void*)&gt; handle;
};

}  // namespace hf
</code></pre>
<pre><code class="language-cpp">// HfTokenizer.cpp
#include "HfTokenizer.h"

#include &lt;stdexcept&gt;

#include "hf_tokenizer_ffi.h"

namespace hf {

static void HandleDeleter(void* handle) noexcept {
  if (handle) {
    tokenizer_destroy(handle);
  }
}

static void ResultDeleter(TokenizerResult* p) noexcept {
  if (p) {
    tokenizer_result_free(*p);
    delete p;
  }
}

Tokenizer::Tokenizer(const std::string&amp; path)
    : handle(tokenizer_create(path.c_str()), HandleDeleter) {
  if (!handle) {
    throw std::runtime_error("Failed to create tokenizer from " + path);
  }
}

uint64_t Tokenizer::Count(const std::string&amp; text) const {
  return tokenizer_count(handle.get(), text.c_str());
}

Tokenizer::ResultPtr Tokenizer::Encode(const std::string&amp; text) const {
  auto result = std::make_unique&lt;TokenizerResult&gt;(
      tokenizer_encode(handle.get(), text.c_str()));
  return {result.release(), ResultDeleter};
};

}  // namespace hf
</code></pre>
<p>ä¸ä»æ¯å¥æï¼è¿ä¼ éçæ°æ®å¯¹è±¡ç¬èé½æç®¡ç»æºè½æéï¼ä»èé¿åå¤§éåç¹æ®æåå½æ°è¿äºæ ·æ¿ä»£ç ãä¸å¾ä¸è¯´ï¼RAII çè®¾è®¡æè·¯éå¸¸ç²¾å¦ï¼åæ¶ä¿è¯äºå®å¨æ§ä¸ç®æ´æ§ï¼ç»äººä¸ç§åå½ç¼ç¨åå§ç¶æçæè§ãæè°âå¤§éè³ç®âï¼ä¸æ¯ä»£ç è¶ç¹å¤å°±è¶å®å¨ï¼ä¹ä¸æ¯ä»£ç è¶æ½è±¡å°±è¶åå®³ï¼çæ­£å¥½çä»£ç ï¼æ¯å¨æ­£ç¡®æ§ãå¯ç»´æ¤æ§ä¸ç®æ´æ§ä¹é´åå¾å¹³è¡¡ï¼è®©èµæºç®¡çå¦å¼å¸è¬èªç¶ï¼èéè´æã</p>


</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-31 13:37">2026-01-31 13:36</span>&nbsp;
<a href="https://www.cnblogs.com/charlee44">charlee44</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19557586);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19557586', targetLink: 'https://www.cnblogs.com/charlee44/p/19557586', title: 'C++ å°è£ C FFI æ¥å£æä½³å®è·µï¼ä»¥ Hugging Face Tokenizer ä¸ºä¾' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ä¸å¤©ä¸ä¸ªPythonåºï¼markupsafe - è®©ä½ çå­ç¬¦ä¸²å®å¨åä¼é ]]></title>
    <link>https://www.cnblogs.com/min2k/p/19557576</link>
    <guid>b5d8d6dffd7117a832883be25718ef4f</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/min2k/p/19557576" title="åå¸äº 2026-01-31 13:31">
    <span role="heading" aria-level="2">ä¸å¤©ä¸ä¸ªPythonåºï¼markupsafe - è®©ä½ çå­ç¬¦ä¸²å®å¨åä¼é</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="markupsafe---è®©ä½ çå­ç¬¦ä¸²å®å¨åä¼é">markupsafe - è®©ä½ çå­ç¬¦ä¸²å®å¨åä¼é</h1>
<h2 id="ä¸ä»ä¹æ¯markupsafe">ä¸ãä»ä¹æ¯markupsafeï¼</h2>
<p><strong>markupsafe</strong> æ¯ä¸ä¸ªç¨äºå¤çæ è®°è¯­è¨ï¼å¦HTMLãXMLï¼å­ç¬¦ä¸²ç Python åºã<br>
å®å¯ä»¥å¸®å©ä½ ï¼</p>
<ul>
<li><strong>å®å¨å°è½¬ä¹å­ç¬¦ä¸²</strong>ï¼é²æ­¢è·¨ç«èæ¬ï¼XSSï¼æ»å»ï¼ç¹å«æ¯å½ä½ éè¦å°ç¨æ·è¾å¥æ¾ç¤ºå¨ç½é¡µä¸æ¶ã</li>
<li><strong>æ è®°å®å¨å­ç¬¦ä¸²</strong>ï¼å°ç»è¿è½¬ä¹æä¿¡ä»»çå­ç¬¦ä¸²æ è®°ä¸ºâå®å¨âï¼é¿åéå¤è½¬ä¹ï¼æé«æçã</li>
<li><strong>æ¨¡æ¿å¼æéæ</strong>ï¼å¨åJinja2è¿æ ·çæ¨¡æ¿å¼æä¸­ï¼markupsafeæ®æ¼äºæ ¸å¿è§è²ï¼ç¡®ä¿æ¸²æçHTMLåå®¹æ¯å®å¨çã</li>
</ul>
<h2 id="äºåºç¨åºæ¯">äºãåºç¨åºæ¯</h2>
<p><strong>markupsafe</strong> å¹¿æ³åºç¨äºä»¥ä¸å®éåºæ¯ï¼</p>
<ul>
<li><strong>Webå¼åæ¡æ¶</strong>: å¨FlaskãJinja2ç­Webæ¡æ¶ä¸­ï¼ç¨äºèªå¨è½¬ä¹æ¨¡æ¿æ¸²æçè¾åºï¼é²æ­¢æ³¨å¥æ»å»ã</li>
<li><strong>ç¨æ·çæåå®¹</strong>: å½ä½ çç½ç«åè®¸ç¨æ·è¾å¥å¹¶æ¾ç¤ºåå®¹æ¶ï¼å¦è¯è®ºãè®ºåå¸å­ï¼ï¼markupsafeè½ç¡®ä¿è¿äºåå®¹å¨æ¾ç¤ºæ¶æ¯å®å¨çã</li>
<li><strong>æå»ºå¨æHTML/XML</strong>: å¨ç¨åºä¸­å¨æçæHTMLæXMLçæ®µæ¶ï¼éè¦ç¡®ä¿æææå¥çæ°æ®é½ç»è¿äºæ­£ç¡®çè½¬ä¹ã</li>
</ul>
<h2 id="ä¸å¦ä½å®è£">ä¸ãå¦ä½å®è£</h2>
<ol>
<li>ä½¿ç¨ pip å®è£</li>
</ol>
<pre><code class="language-bash">pip install markupsafe

# å¦æå®è£æ¢çè¯ï¼æ¨èä½¿ç¨å½åéåæº
pip install markupsafe -i https://www.python64.cn/pypi/simple/
</code></pre>
<ol start="2">
<li>ä½¿ç¨ <a href="https://www.min2k.com/tools/python-run/" target="_blank" rel="noopener nofollow">PythonRun</a> å¨çº¿è¿è¡ä»£ç ï¼æ éæ¬å°å®è£ï¼</li>
</ol>
<h2 id="åç¤ºä¾ä»£ç ">åãç¤ºä¾ä»£ç </h2>
<p>è½¬ä¹ç¨æ·è¾å¥ä»¥é²æ­¢XSSæ»å»</p>
<pre><code class="language-python">from markupsafe import escape, Markup

# ç¨æ·è¾å¥ï¼å¯è½åå«æ¶æèæ¬
user_input_raw = "&lt;script&gt;alert('æ¨è¢«æ»å»äºï¼')&lt;/script&gt;"
is_admin = True # åè®¾æä¸ä¸ªæ¡ä»¶å¤æ­ç¨æ·æ¯å¦æ¯ç®¡çå

# ä½¿ç¨escapeè½¬ä¹ç¨æ·è¾å¥
safe_output = escape(user_input_raw)

# æå°è½¬ä¹åçç»æ
print(f"è½¬ä¹åçåå®¹: {safe_output}")

# åè®¾æä¸äºä¿¡ä»»çHTMLåå®¹ï¼æä»¬ä¸å¸æå®è¢«è½¬ä¹
trusted_html = Markup("&lt;b&gt;è¿æ¯å ç²çææ¬&lt;/b&gt;")

# å¦ææ¯ç®¡çåï¼åç´æ¥æ¾ç¤ºåå§è¾å¥ï¼è¿éä»ä¸ºæ¼ç¤ºï¼å®éåºç¨éæå¶è°¨æï¼
if is_admin:
    print(f"ç®¡çåæ¾ç¤ºï¼å±é©ï¼ï¼ï¼{user_input_raw}")
else:
    # å¦åæ¾ç¤ºå®å¨çåå®¹
    print(f"æ®éç¨æ·æ¾ç¤ºï¼å®å¨ï¼ï¼ï¼{safe_output}")

# ç»åä½¿ç¨ï¼Markupæ è®°çåå®¹ä¸ä¼è¢«äºæ¬¡è½¬ä¹
formatted_output = Markup(f"&lt;p&gt;Hello, {safe_output}!&lt;/p&gt;")
print(f"ç»ååçå®å¨HTML: {formatted_output}")

# æ£æ¥æ¯å¦æ¯Markupå®ä¾
if isinstance(formatted_output, Markup):
    print("formatted_output æ¯ä¸ä¸ª Markup å®ä¾ï¼å·²è¢«æ è®°ä¸ºå®å¨ã")
else:
    print("formatted_output ä¸æ¯ Markup å®ä¾ã")
</code></pre>
<p>ä½¿ç¨ <a href="https://www.min2k.com/tools/python-run/?code=from%20markupsafe%20import%20escape%2C%20Markup%0A%0A%23%20%E7%94%A8%E6%88%B7%E8%BE%93%E5%85%A5%EF%BC%8C%E5%8F%AF%E8%83%BD%E5%8C%85%E5%90%AB%E6%81%B6%E6%84%8F%E8%84%9A%E6%9C%AC%0Auser_input_raw%20%3D%20%22%3Cscript%3Ealert%28'%E6%82%A8%E8%A2%AB%E6%94%BB%E5%87%BB%E4%BA%86%EF%BC%81'%29%3C%2Fscript%3E%22%0Ais_admin%20%3D%20True%20%23%20%E5%81%87%E8%AE%BE%E6%9C%89%E4%B8%80%E4%B8%AA%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD%E7%94%A8%E6%88%B7%E6%98%AF%E5%90%A6%E6%98%AF%E7%AE%A1%E7%90%86%E5%91%98%0A%0A%23%20%E4%BD%BF%E7%94%A8escape%E8%BD%AC%E4%B9%89%E7%94%A8%E6%88%B7%E8%BE%93%E5%85%A5%0Asafe_output%20%3D%20escape%28user_input_raw%29%0A%0A%23%20%E6%89%93%E5%8D%B0%E8%BD%AC%E4%B9%89%E5%90%8E%E7%9A%84%E7%BB%93%E6%9E%9C%0Aprint%28f%22%E8%BD%AC%E4%B9%89%E5%90%8E%E7%9A%84%E5%86%85%E5%AE%B9%3A%20%7Bsafe_output%7D%22%29%0A%0A%23%20%E5%81%87%E8%AE%BE%E6%9C%89%E4%B8%80%E4%BA%9B%E4%BF%A1%E4%BB%BB%E7%9A%84HTML%E5%86%85%E5%AE%B9%EF%BC%8C%E6%88%91%E4%BB%AC%E4%B8%8D%E5%B8%8C%E6%9C%9B%E5%AE%83%E8%A2%AB%E8%BD%AC%E4%B9%89%0Atrusted_html%20%3D%20Markup%28%22%3Cb%3E%E8%BF%99%E6%98%AF%E5%8A%A0%E7%B2%97%E7%9A%84%E6%96%87%E6%9C%AC%3C%2Fb%3E%22%29%0A%0A%23%20%E5%A6%82%E6%9E%9C%E6%98%AF%E7%AE%A1%E7%90%86%E5%91%98%EF%BC%8C%E5%88%99%E7%9B%B4%E6%8E%A5%E6%98%BE%E7%A4%BA%E5%8E%9F%E5%A7%8B%E8%BE%93%E5%85%A5%EF%BC%88%E8%BF%99%E9%87%8C%E4%BB%85%E4%B8%BA%E6%BC%94%E7%A4%BA%EF%BC%8C%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8%E9%9C%80%E6%9E%81%E5%85%B6%E8%B0%A8%E6%85%8E%EF%BC%89%0Aif%20is_admin%3A%0A%20%20%20%20print%28f%22%E7%AE%A1%E7%90%86%E5%91%98%E6%98%BE%E7%A4%BA%EF%BC%88%E5%8D%B1%E9%99%A9%EF%BC%81%EF%BC%89%EF%BC%9A%7Buser_input_raw%7D%22%29%0Aelse%3A%0A%20%20%20%20%23%20%E5%90%A6%E5%88%99%E6%98%BE%E7%A4%BA%E5%AE%89%E5%85%A8%E7%9A%84%E5%86%85%E5%AE%B9%0A%20%20%20%20print%28f%22%E6%99%AE%E9%80%9A%E7%94%A8%E6%88%B7%E6%98%BE%E7%A4%BA%EF%BC%88%E5%AE%89%E5%85%A8%EF%BC%81%EF%BC%89%EF%BC%9A%7Bsafe_output%7D%22%29%0A%0A%23%20%E7%BB%93%E5%90%88%E4%BD%BF%E7%94%A8%EF%BC%8CMarkup%E6%A0%87%E8%AE%B0%E7%9A%84%E5%86%85%E5%AE%B9%E4%B8%8D%E4%BC%9A%E8%A2%AB%E4%BA%8C%E6%AC%A1%E8%BD%AC%E4%B9%89%0Aformatted_output%20%3D%20Markup%28f%22%3Cp%3EHello%2C%20%7Bsafe_output%7D!%3C%2Fp%3E%22%29%0Aprint%28f%22%E7%BB%84%E5%90%88%E5%90%8E%E7%9A%84%E5%AE%89%E5%85%A8HTML%3A%20%7Bformatted_output%7D%22%29%0A%0A%23%20%E6%A3%80%E6%9F%A5%E6%98%AF%E5%90%A6%E6%98%AFMarkup%E5%AE%9E%E4%BE%8B%0Aif%20isinstance%28formatted_output%2C%20Markup%29%3A%0A%20%20%20%20print%28%22formatted_output%20%E6%98%AF%E4%B8%80%E4%B8%AA%20Markup%20%E5%AE%9E%E4%BE%8B%EF%BC%8C%E5%B7%B2%E8%A2%AB%E6%A0%87%E8%AE%B0%E4%B8%BA%E5%AE%89%E5%85%A8%E3%80%82%22%29%0Aelse%3A%0A%20%20%20%20print%28%22formatted_output%20%E4%B8%8D%E6%98%AF%20Markup%20%E5%AE%9E%E4%BE%8B%E3%80%82%22%29" target="_blank" rel="noopener nofollow">PythonRun</a> å¨çº¿è¿è¡è¿æ®µä»£ç ï¼ç»æå¦ä¸ï¼</p>
<pre><code class="language-text">è½¬ä¹åçåå®¹: &amp;lt;script&amp;gt;alert(&amp;#39;æ¨è¢«æ»å»äºï¼&amp;#39;)&amp;lt;/script&amp;gt;
ç®¡çåæ¾ç¤ºï¼å±é©ï¼ï¼ï¼&lt;script&gt;alert('æ¨è¢«æ»å»äºï¼')&lt;/script&gt;
ç»ååçå®å¨HTML: &lt;p&gt;Hello, &amp;lt;script&amp;gt;alert(&amp;#39;æ¨è¢«æ»å»äºï¼&amp;#39;)&amp;lt;/script&amp;gt;!&lt;/p&gt;
formatted_output æ¯ä¸ä¸ª Markup å®ä¾ï¼å·²è¢«æ è®°ä¸ºå®å¨ã
</code></pre>
<p>ä½¿ç¨ <a href="https://www.min2k.com/tools/mermaid/?code=flowchart%20TB%0A%20%20A%5B%E5%BC%80%E5%A7%8B%5D%20--%3E%20B%7B%E8%8E%B7%E5%8F%96%E7%94%A8%E6%88%B7%E8%BE%93%E5%85%A5%E5%92%8C%E7%AE%A1%E7%90%86%E5%91%98%E7%8A%B6%E6%80%81%7D%3B%0A%20%20B%20--%3E%20C%5B%E4%BD%BF%E7%94%A8escape%E8%BD%AC%E4%B9%89%E7%94%A8%E6%88%B7%E8%BE%93%E5%85%A5%5D%3B%0A%20%20C%20--%3E%20D%5B%E6%89%93%E5%8D%B0%E8%BD%AC%E4%B9%89%E5%90%8E%E7%9A%84%E5%86%85%E5%AE%B9%5D%3B%0A%20%20D%20--%3E%20E%7B%E5%A6%82%E6%9E%9C%20isAdmin%20%E4%B8%BA%20True%3F%7D%3B%0A%20%20E%20--%20%E6%98%AF%20--%3E%20F%5B%E6%89%93%E5%8D%B0%E5%8E%9F%E5%A7%8B%E7%94%A8%E6%88%B7%E8%BE%93%E5%85%A5%20%28%E5%8D%B1%E9%99%A9%29%5D%3B%0A%20%20E%20--%20%E5%90%A6%20--%3E%20G%5B%E6%89%93%E5%8D%B0%E5%AE%89%E5%85%A8%E7%9A%84%E7%94%A8%E6%88%B7%E8%BE%93%E5%85%A5%5D%3B%0A%20%20F%20--%3E%20H%5B%E5%88%9B%E5%BB%BA%E5%AE%89%E5%85%A8%E7%9A%84%20Markup%20%E5%AE%9E%E4%BE%8B%5D%3B%0A%20%20G%20--%3E%20H%3B%0A%20%20H%20--%3E%20I%5B%E6%89%93%E5%8D%B0%E7%BB%84%E5%90%88%E5%90%8E%E7%9A%84%E5%AE%89%E5%85%A8HTML%5D%3B%0A%20%20I%20--%3E%20J%7B%E6%A3%80%E6%9F%A5%20formatted_output%20%E6%98%AF%E5%90%A6%E4%B8%BA%20Markup%20%E5%AE%9E%E4%BE%8B%3F%7D%3B%0A%20%20J%20--%20%E6%98%AF%20--%3E%20K%5B%E6%89%93%E5%8D%B0%E6%98%AF%20Markup%20%E5%AE%9E%E4%BE%8B%5D%3B%0A%20%20J%20--%20%E5%90%A6%20--%3E%20L%5B%E6%89%93%E5%8D%B0%E4%B8%8D%E6%98%AF%20Markup%20%E5%AE%9E%E4%BE%8B%5D%3B%0A%20%20K%20--%3E%20M%5B%E7%BB%93%E6%9D%9F%5D%3B%0A%20%20L%20--%3E%20M%3B" target="_blank" rel="noopener nofollow">MermaidGo</a> ç»å¶ç¤ºä¾ä»£ç çæµç¨å¾ï¼ç»æå¦ä¸ï¼</p>
<p><img alt="MermerGoçmarkupsafeæµç¨å¾" loading="lazy" data-src="https://img2024.cnblogs.com/blog/70894/202601/70894-20260131132929581-1245770167.jpg" class="lazyload"></p>
<h2 id="äºå­¦ä¹ èµæº">äºãå­¦ä¹ èµæº</h2>
<ol>
<li>å¼æºé¡¹ç®ï¼<a href="https://github.com/pallets/markupsafe" target="_blank" rel="noopener nofollow">markupsafe</a></li>
<li>ä¸­æèªè¿°ï¼<a href="https://www.python64.cn/readme/markupsafe/" target="_blank" rel="noopener nofollow">REMDME</a></li>
<li>å¨çº¿è¿è¡ï¼<a href="https://www.min2k.com/tools/python-run/" target="_blank" rel="noopener nofollow">PythonRun</a></li>
</ol>
<blockquote>
<p>å¦æè¿ç¯æç« å¯¹ä½ æå¸®å©ï¼æ¬¢è¿ç¹èµãæ¶èãè½¬åï¼<br>
å­¦ä¹ è¿ç¨ä¸­æä»»ä½é®é¢ï¼æ¬¢è¿å¨è¯è®ºåºçè¨äº¤æµï½</p>
</blockquote>


</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2026-01-31 13:32">2026-01-31 13:31</span>&nbsp;
<a href="https://www.cnblogs.com/min2k">æç¼ç¨</a>&nbsp;
éè¯»(<span id="post_view_count">0</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19557576);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19557576', targetLink: 'https://www.cnblogs.com/min2k/p/19557576', title: 'ä¸å¤©ä¸ä¸ªPythonåºï¼markupsafe - è®©ä½ çå­ç¬¦ä¸²å®å¨åä¼é' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
        </channel>
        </rss>