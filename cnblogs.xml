<?xml version="1.0" encoding="UTF-8" ?>
    <rss version="2.0">
    <channel>
        <title><![CDATA[ ä¸»é¡µ - åå®¢å­ ]]></title>
        <link><![CDATA[ https://www.cnblogs.com/ ]]></link>
        <lastBuildDate>2025-12-27T04:30:26.189Z</lastBuildDate>
        <description><![CDATA[
        ä¸»é¡µ - åå®¢å­ RSS
    ]]></description>
        <language>zh-cn</language>
        <item>
    <title><![CDATA[ FFmpegå¼åç¬è®°ï¼ä¹åäºï¼å½äº§çå¼æºè§é¢ç¾é¢å·¥å·VideoEditorForAndroid ]]></title>
    <link>https://www.cnblogs.com/aqi00/p/19319684</link>
    <guid>87290691ef44a9581a5055c898b4d4a1</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/aqi00/p/19319684" title="åå¸äº 2025-12-27 12:00">
    <span role="heading" aria-level="2">FFmpegå¼åç¬è®°ï¼ä¹åäºï¼å½äº§çå¼æºè§é¢ç¾é¢å·¥å·VideoEditorForAndroid</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<span data-cke-copybin-start="1"><span data-cke-copybin-start="1">â</span></span><span id="cke_bm_178S">ãFFmpegå¼åå®æï¼ä»é¶åºç¡å°ç­è§é¢ä¸çº¿ãä¸ä¹¦çâç¬¬ 12 ç«  &nbsp;FFmpegçç§»å¨å¼åâä»ç»äºå¦ä½ä½¿ç¨FFmpegå¨ææºä¸åªè¾è§é¢ï¼æ¹ä¾¿å¼åèæ´å¥½å°å¼åç±»ä¼¼åªæ é£æ ·çè§é¢åªè¾è½¯ä»¶ãé£ä¹å¨Androidç³»ç»ä¸è¿æä¸æ¬¾å½äº§çå¼æºè§é¢ç¾é¢æ¡æ¶VideoEditor-For-Androidï¼éè¿è¯¥æ¡æ¶å¯ä»¥æ´æ¹ä¾¿å°ç»è§é¢æ·»å åç§æ»¤éï¼ä¸é¢å°±æ¥ä»ç»å¦ä½å¨Appå·¥ç¨ä¸­ä½¿ç¨VideoEditor-For-Androidã</span>
<p><span id="cke_bm_178S"> VideoEditor-For-Androidæ¯ä¸æ¬¾åºäºAndroidç¡¬ç¼ç çè§é¢ç¼è¾å¨ï¼åå«è§é¢å½å¶ãåªåãå¢å bgmãç¾ç½ãå æ»¤éãå æ°´å°ç­å¤ç§åè½ãè¯¥æ¡æ¶éè¿Androidçapiå®æè§é¢ééï¼éè¿OpenGLå®æè§é¢æ°æ®å¸§çå¤çï¼éè¿MeidaCodecå¯¹ééå°çè§é¢æµè¿è¡ç¡¬ç¼ç ãå®å©ç¨OpenGLå®æè§é¢çç¾ç½ãå æ»¤éãå æ°´å°ç­åè½ï¼å©ç¨MediaCodecå®æé³è§é¢çåç¦»åé³é¢çä¸äºæ··é³å¤çã<br>
VideoEditor-For-Androidçæºç æç®¡å°åä¸ºhttps://github.com/qqchenjian318/VideoEditor-For-Androidï¼æææ°1.3kï¼ï¼æè¿çæ¬æ´æ°äº2021å¹´9æï¼è¯¥çæ¬çåç¼©åä¸è½½å°åä¸ºhttps://github.com/qqchenjian318/VideoEditor-For-Android/archive/refs/heads/master.zipã<br>
ç±äºVideoEditor-For-Androidæºç çåå¸æ¶é´è¾æ©ï¼ä¸ºäºè®©å°æµ·è±çæ¬çAndroid Studio Dolphinè½å¤æå¼å®ä»¬ï¼éè¦å¯¹Appå·¥ç¨ä½å¦ä¸ä¿®æ¹ï¼<br>
1ãåçº§Gradleçæ¬åSDKçæ¬ï¼<br>
2ãæä½¿ç¨çjdkçæ¬ä»é»è®¤çJDK8æ¹ä¸ºJDK11ï¼<br>
3ãæSupportåºè¿ç§»ä¸ºAndroidxåºï¼<br>
4ãbuild.gradleç»NDKçæä»¤éè¿æ»¤å¨å¢å arm64-v8aï¼<br>
5ãAppä»£ç å¨å½ååæä½å­å¨ç©ºé´æ¶å¢å è¿è¡æ¶æææ ¡éªï¼<br>
6ãå¦å¤ä¿®å¤äºè¥å¹²bugï¼<br>
å ä¸ºä¸è¿°ä¿®æ¹æ¶åå°çåå®¹è¾å¤ï¼è¿éä¸åä¸ä¸ååºï¼åä¸»æä¿®æ¹åçAppæºç ä¸ä¼ å°äºGithubï¼å·ä½å°åä¸ºhttps://github.com/aqi00/note/tree/master/VideoEditor-For-Androidãå¤§å®¶å¯ä»¥æåGithubä¸ä¿®æ¹å¥½çVideoEditor-For-Androidæºç ï¼å°±è½ç¨å°æµ·è±çæ¬çAndroid Studio Dolphinå¯¼å¥å¸¦Demoçé¢çVideoEditor-For-Androidå·¥ç¨äºã<br>
é£ä¹éè¿Android Studio Dolphinç¼è¯VideoEditor-For-Androidå¹¶å®è£å°çæºä¸ï¼ç¹å»ãæ¬å°è§é¢ç¾é¢ãåè¿å¥è§é¢æä»¶çæéé¡µé¢å¦ä¸å¾æç¤ºï¼</span></p>
<div>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-display-name="å¾å" data-cke-filter="off" data-cke-widget-id="4" data-cke-widget-wrapper="1"><span class="cke_reset cke_widget_drag_handler_container"><span class="cke_image_resizer" title="ç¹å»å¹¶ææ½ä»¥æ¹åå°ºå¯¸"><span class="cke_widget_edit_container" title="ç¼è¾å¾ç"><img alt="vefa2" width="345" height="407" loading="lazy" data-src="https://img2024.cnblogs.com/blog/729938/202512/729938-20251208085001669-1332799916.jpg" class="lazyload"></span></span></span></span></p>


</div>
<p>åå°ç¸åéæ©ä¸ä¸ªå¾å å·¥çè§é¢æä»¶ï¼åç¹å»å¼¹çªå³ä¸è§çãå æ»¤éãæé®ï¼Appå°±è½¬å°è§é¢çé¢è§çé¢å¦ä¸å¾æç¤ºï¼</p>
<p><span class="cke_widget_wrapper cke_widget_inline cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-display-name="å¾å" data-cke-filter="off" data-cke-widget-id="3" data-cke-widget-wrapper="1"><span class="cke_reset cke_widget_drag_handler_container"><span class="cke_image_resizer" title="ç¹å»å¹¶ææ½ä»¥æ¹åå°ºå¯¸"><span class="cke_widget_edit_container" title="ç¼è¾å¾ç"><img alt="vefa3" width="317" height="681" loading="lazy" data-src="https://img2024.cnblogs.com/blog/729938/202512/729938-20251208085022168-591737427.jpg" class="lazyload"></span></span></span></span></p>
<p>å¨è§é¢é¢è§çé¢å·¦å³æ»å¨ï¼å¯ä»¥åæ¢ä¸åçç¾é¢ææï¼å¦ä¸å¾æç¤ºï¼<span class="cke_image_resizer_wrapper"><span class="cke_image_resizer" title="ç¹å»å¹¶ææ½ä»¥æ¹åå°ºå¯¸">â</span></span></p>
<div class="cke_widget_wrapper cke_widget_block cke_widget_image cke_image_nocaption cke_widget_selected" data-cke-display-name="å¾å" data-cke-filter="off" data-cke-widget-id="2" data-cke-widget-wrapper="1"><span class="cke_reset cke_widget_drag_handler_container"><span class="cke_reset cke_widget_drag_handler_container"><span class="cke_widget_edit_container" title="ç¼è¾å¾ç"><img alt="vefa4" width="317" height="680" loading="lazy" data-src="https://img2024.cnblogs.com/blog/729938/202512/729938-20251208085057703-1631621235.jpg" class="lazyload"></span></span></span></div>
<p>ç¹å»çé¢å³ä¸è§çæå¾æé®ï¼Appå°±å¼å§æ§è¡å¯¹åºçç¾é¢å å·¥æä½ãç¾é¢ä¹åçè§é¢çæ®µé»è®¤æ¾å¨Appå®è£è·¯å¾ä¸çfilesç®å½ï¼å®æ´è·¯å¾ä¸ºâæçææº/Android/data/com.example.cj.videoeditor/files/video/clip/123456789.mp4âï¼å¶ä¸­123456789ä»£è¡¨ä¸ä¸²æ°å­ãä½¿ç¨ææºèªå¸¦çæä»¶ç®¡çAppæ¾å°æ°ä¿å­çè§é¢çæ®µï¼å³å¯è§çç¾é¢åçè§é¢ææã</p>
<p>æ´å¤è¯¦ç»çFFmpegå¼åç¥è¯åè§<span class="cke_widget_wrapper cke_widget_inline cke_widget_csdnlink cke_widget_selected" data-cke-display-name="a" data-cke-filter="off" data-cke-widget-id="1" data-cke-widget-wrapper="1"><a class="cke_widget_editable cke_widget_element" title="ãFFmpegå¼åå®æï¼ä»é¶åºç¡å°ç­è§é¢ä¸çº¿ã" href="https://item.jd.com/14020415.html" data-cke-enter-mode="2" data-cke-saved-href="https://item.jd.com/14020415.html" data-cke-widget-data="%7B%22url%22%3A%22https%3A%2F%2Fitem.jd.com%2F14020415.html%22%2C%22text%22%3A%22%E3%80%8AFFmpeg%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98%EF%BC%9A%E4%BB%8E%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%88%B0%E7%9F%AD%E8%A7%86%E9%A2%91%E4%B8%8A%E7%BA%BF%E3%80%8B%22%2C%22desc%22%3A%22%22%2C%22icon%22%3A%22%22%2C%22isCard%22%3Afalse%2C%22hasResquest%22%3Atrue%2C%22iconDefault%22%3A%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fblog_editor_html%2Frelease2.4.4%2Fckeditor%2Fplugins%2FCsdnLink%2Ficons%2Ficon-default.png%3Ft%3DP9T8%22%2C%22id%22%3A%22J3yBu6-1765154863274%22%2C%22classes%22%3Anull%7D" data-cke-widget-editable="text" data-cke-widget-keep-attr="0" data-cke-widget-upcasted="1" data-link-icon="https://csdnimg.cn/release/blog_editor_html/release2.4.4/ckeditor/plugins/CsdnLink/icons/icon-default.png?t=P9T8" data-link-title="ãFFmpegå¼åå®æï¼ä»é¶åºç¡å°ç­è§é¢ä¸çº¿ã" data-widget="csdnlink" rel="noopener nofollow">ãFFmpegå¼åå®æï¼ä»é¶åºç¡å°ç­è§é¢ä¸çº¿ã</a>ä¸ä¹¦ã</span></p>

<span data-cke-copybin-start="1">
<span data-cke-copybin-end="1">â</span></span>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-12-27 12:00">2025-12-27 12:00</span>&nbsp;
<a href="https://www.cnblogs.com/aqi00">aqi00</a>&nbsp;
éè¯»(<span id="post_view_count">8</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19319684);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19319684', targetLink: 'https://www.cnblogs.com/aqi00/p/19319684', title: 'FFmpegå¼åç¬è®°ï¼ä¹åäºï¼å½äº§çå¼æºè§é¢ç¾é¢å·¥å·VideoEditorForAndroid' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ æ°æ®å­å¨åä¼ è¾çäºè¿å¶ç¼ç æ ¼å¼æ¦è¿° ]]></title>
    <link>https://www.cnblogs.com/zhally/p/19408306</link>
    <guid>cc19ef26300e374b1a1d7ced0b341d0b</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/zhally/p/19408306" title="åå¸äº 2025-12-27 11:35">
    <span role="heading" aria-level="2">æ°æ®å­å¨åä¼ è¾çäºè¿å¶ç¼ç æ ¼å¼æ¦è¿°</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="æ°æ®å­å¨åä¼ è¾çäºè¿å¶ç¼ç æ ¼å¼æ¦è¿°">æ°æ®å­å¨åä¼ è¾çäºè¿å¶ç¼ç æ ¼å¼æ¦è¿°</h1>
<p>åå å¤ç¾¤æ 2025.12.27</p>
<p>æ°æ®å­å¨ä¸ä¼ è¾ï¼ä¸æ¯è¿½æ±âé«æâï¼å³ä½ç§¯è¶³å¤å°ï¼éä½ç¡¬çå­å¨ææ¬ãåå°ç½ç»å¸¦å®½æ¶èï¼åæ¶ï¼è§£æè¶³å¤å¿«ï¼åå°CPUè¿ç®å¼éãäºæ¯å¿é¡»âå¼å®¹âï¼å³è½è·¨ç¼ç¨è¯­è¨ãè·¨ç¡¬ä»¶è®¾å¤æ­£å¸¸äº¤äºï¼æå¥½è½è´´åä¸å¡åºæ¯çç¹æ®éæ±ï¼å¦æ°æ®åºçç´¢å¼ï¼åµå¥å¼è®¾å¤çä½åå­å ç¨åéã</p>
<p>JSONï¼JavaScript Object Notationï¼å¤§ä½æ»¡è¶³è¿äºéæ±ï¼æä¸ºä¸»æµææ¬æ ¼å¼ï¼æ·±å»å½±åè·¨ç³»ç»æ°æ®äº¤äºãææç°ä»£æµè§å¨ååçæ¯æJSONåºåå/ååºååï¼å ä¹ææç¼ç¨è¯­è¨é½åç½®ç¸å³å·¥å·ï¼æ éé¢å¤ä¾èµï¼æ¯åç«¯ä¸åç«¯ãè·¨è¯­è¨ç³»ç»æ°æ®äº¤äºçéç¨è¯­è¨ãâè½»éçº§ææ¬æ°æ®äº¤æ¢æ ¼å¼âçæ ¸å¿å®ä½ï¼æå¶æåã</p>
<p>JSONè¯çäº2002å¹´ï¼åºäºJavaScriptçå¯¹è±¡å­é¢éè¯­æ³ï¼ç¸å¯¹äºå¶ååç§åæ ·çæ°æ®ç¼ç æ ¼å¼ï¼å¶æ ¸å¿ä»·å¼ï¼å¨äºå¥ å®äºæ°æ®æ ¼å¼çæç¨æ§åºåï¼</p>
<ul>
<li>
<p><strong>äººç±»å¯è¯»å¯å</strong>ï¼éç¨çº¯ææ¬ç»æï¼ç¨{}ã[]ã:ã,ç­ç®åè¯­æ³æ è®°å¯¹è±¡ãæ°ç»ä¸é®å¼å¯¹ï¼æ éå·¥å·å³å¯ç´æ¥éè¯»åä¿®æ¹ï¼è°è¯ææ¬æä½ï¼è¿æ¯å¶åºå«äºäºè¿å¶æ ¼å¼çæ ¸å¿ç¹å¾ï¼</p>
</li>
<li>
<p><strong>å¯è¡¨è¾¾ä»»ææ°æ®ç±»å</strong>ï¼è½åçä»æ¯æå­ç¬¦ä¸²ãæ°å­ãå¸å°ãæ°ç»ãå¯¹è±¡ãnullå­ç§åºç¡ç±»åï¼ä½éè¿å¯¹è±¡ãæ°ç»çåµå¥ç»åï¼çè®ºä¸å¯è¡¨è¾¾ä»»æå¤ææ°æ®ç»æï¼ééå¤æ°ä¸å¡åºæ¯çå­å¨ä¼ è¾éæ±ã</p>
<p>ä¾å¦ï¼æè¿°ç¨æ·ä¿¡æ¯çåµå¥JSONç»æ</p>
<pre><code class="language-json">{
    "id":1001,
    "name":"å¼ ä¸",
    "age":28,
    "isVIP":true,
    "address":
    {
        "province":"å¹¿ä¸",
        "city":"æ·±å³"
    },
    "hobbies":["è¯»ä¹¦","è¿å¨"]
}ï¼
</code></pre>
</li>
</ul>
<p>æ¯ä¸æ¯ä¸ç®äºç¶ï¼å½ç¶ï¼æä»£ä»·ï¼</p>
<ul>
<li>
<p><strong>åä½</strong>ï¼ä¸ºä¿è¯å¯è¯»æ§ï¼JSONéç¨å¤§éåä½å­ç¬¦ï¼å¦åå¼å·åè£¹å­ç¬¦ä¸²ãåå·åéé®å¼ãéå·åéåç´ ãä¸ä¸ªé®å¼å¯¹{"age":25}ï¼JSONé10ä¸ªå­ç¬¦ï¼UTF-8ç¼ç ä¸å 10å­èï¼ï¼æææ°æ®ï¼âageâå25ï¼ä»å 4å­èï¼åä½çè¶50%ï¼ä¸è¿°ç¨æ·ä¿¡æ¯JSONï¼å±118ä¸ªå­ç¬¦ï¼å 118å­èï¼ï¼åä½å­ç¬¦å æ¯è¾¾35%ä»¥ä¸ï¼</p>
</li>
<li>
<p><strong>è§£ææ¢</strong>ï¼JSONæ¬è´¨æ¯ææ¬ï¼è§£ææ¶éåéå­ç¬¦æ«æè¯­æ³ï¼è¯å«{}ã:ç­ç¬¦å·ï¼åå°å­ç¬¦ä¸²ç±»åçæ°å¼ãå¸å°å¼è½¬æ¢ä¸ºç¨åºåçç±»åï¼å¦â25âè½¬intï¼æ­¥éª¤ç¹çä¸èæ¶ï¼CPUå¼éå¤§ï¼</p>
</li>
<li>
<p><strong>åçç±»åå°</strong>ï¼ä»æ¯æå­ç¬¦ä¸²ãæ°å­ï¼æ æ´æ°/æµ®ç¹æ°ç»åï¼ãå¸å°ãæ°ç»ãå¯¹è±¡ãnullå­ç§ç±»åï¼ç¼ºå°æ°æ®åº/å¤æåºç¨å¿éçç±»åï¼å¦æ¶é´æ³ãäºè¿å¶æ°æ®ãæ­£åè¡¨è¾¾å¼ãå°çç©ºé´æ°æ®ç­ï¼</p>
</li>
</ul>
<p>å¨JSONä¹åï¼XMLä¸YAMLæ¾æ¯ææ¬ç±»æ°æ®äº¤æ¢çæ ¸å¿éæ©ï¼XMLä»¥å¼ºç»æåãå¯æ©å±æ§èç§°ï¼éåå¤æææ¡£ä¸éç½®åºæ¯ï¼YAMLä»¥ç®æ´çç¼©è¿è¯­æ³å®ç°å¯è¯»æ§ä¸ç»æåå¹³è¡¡ãJSONåå¹³è¡¡äºç»æåè½åä¸è½»éç®æ´ï¼è§£ææçä¼äºXMLãå¼å®¹æ§å¼ºäºYAMLï¼æä¸ºè·¨ç³»ç»ææ¬äº¤äºçé¦éã</p>
<p>éçåºç¨åºæ¯ä»è½»éäº¤äºè½¬åæµ·éæ°æ®å­å¨ä¸é«é¢éè®¯ï¼åä½ææ¬ä¼æ¥å§æ¾å¤§ãå¨å¾®æå¡é«é¢RPCè°ç¨ãç©èç½è®¾å¤ä½å¸¦å®½ä¼ è¾ãæµ·éæ¥å¿å­å¨ç­åºæ¯ä¸­ï¼ä½ç§¯ä¸è§£æéåº¦æä¸ºæ§è½ç¶é¢ãJSONçåºæçç¹éæ¸å¸æ¾ï¼äºè¿å¶ç¼ç æ ¼å¼éä¹è¯çãProtobufãMessagePackãBSONãCBORç­ï¼è®©äººç¼è±ç¼­ä¹±ã</p>
<h2 id="äºè¿å¶ç¼ç çåºæ¬åç">äºè¿å¶ç¼ç çåºæ¬åç</h2>
<p>ææäºè¿å¶ç¼ç æ ¼å¼ï¼æ è®ºå®ä½å¦ä½å·®å¼ï¼å¶åºå±é½å±äº«ä¸å¥æ ¸å¿è½¬æ¢åçï¼<strong>ç±»å/é¿åº¦æ è®° + åçäºè¿å¶æ°æ®</strong>ï¼è¿æ¯çè§£åç±»äºè¿å¶æ ¼å¼è®¾è®¡é»è¾çåºç¡ãå®ä»¥è§£å³JSONå¨å­å¨ä¼ è¾ä¸­ä½ç§¯å¤§ãè§£ææ¢çç¹ä¸ºç®æ ï¼åé¤åä½ãç´æ¥å­å¨æææ°æ®ï¼æ¿ä»£JSONç<strong>ææ¬è¯­æ³+å­ç¬¦ä¸²å­å¨</strong>æ¨¡å¼ï¼ééå­å¨ä¼ è¾å¯¹å°ä½ç§¯ãå¿«è§£æçéæ±ã</p>
<ol>
<li><strong>ç±»å/é¿åº¦æ è®°ï¼Tagï¼</strong>ï¼æ ¸å¿æ¯ç¨1~4å­èçäºè¿å¶å°æ ç­¾ï¼åæ¶è¯´æä¸¤ä¸ªå³é®ä¿¡æ¯ï¼æ°æ®ç±»åï¼å¦æ´æ°ãå­ç¬¦ä¸²ãå¯¹è±¡ï¼åæ°æ®é¿åº¦ï¼å¦å­ç¬¦ä¸²å 4å­èãæ°ç»å«2ä¸ªåç´ ï¼ï¼ç´æ¥æ¿ä»£JSONçåä½è¯­æ³ã</li>
</ol>
<p>æ¯å¦ï¼è¡¨è¾¾ânameå­æ®µï¼å¼ä¸ºå¼ ä¸ï¼å­ç¬¦ä¸²ç±»åï¼é¿åº¦4ï¼âï¼JSONéåâ"name":"å¼ ä¸"âï¼å«åå¼å·ãåå·å±8å­èï¼ï¼äºè¿å¶æ ¼å¼ç¨1å­èæ è®°ï¼æ¯å¦0xA4ï¼å¶ä¸­é«4ä½è¡¨å­ç¬¦ä¸²ç±»åï¼ä½4ä½è¡¨é¿åº¦4ï¼+4å­èâå¼ ä¸âçUTF-8ç¼ç ï¼æ»å­èæ°ä»5å­èï¼ç´æ¥çæ3å­èåä½ï¼</p>
<ol start="2">
<li><strong>åçäºè¿å¶æ°æ®ï¼Valueï¼</strong>ï¼æè®¡ç®æºâåçè¯­è¨âå­å¨æ°æ®ï¼é¿åJSONâæææ°æ®è½¬å­ç¬¦ä¸²âçä½ææä½ã</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align: left">æ°æ®åå®¹</th>
<th style="text-align: left">JSONå­å¨ï¼å­ç¬¦ä¸²å½¢å¼ï¼</th>
<th style="text-align: left">äºè¿å¶å­å¨ï¼åçæ ¼å¼ï¼</th>
<th style="text-align: left">ä½ç§¯èçæ¯ä¾</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left">æ´æ°25</td>
<td style="text-align: left">â25âï¼2å­èï¼</td>
<td style="text-align: left">0x19ï¼1å­èvarintç¼ç ï¼</td>
<td style="text-align: left">50%</td>
</tr>
<tr>
<td style="text-align: left">å¸å°å¼true</td>
<td style="text-align: left">âtrueâï¼4å­èï¼</td>
<td style="text-align: left">0x01ï¼1å­èï¼</td>
<td style="text-align: left">75%</td>
</tr>
<tr>
<td style="text-align: left">å­ç¬¦ä¸²âå¼ ä¸â</td>
<td style="text-align: left">â"å¼ ä¸"âï¼6å­èï¼</td>
<td style="text-align: left">0xE5BCA0E4B889ï¼4å­èUTF-8ï¼</td>
<td style="text-align: left">33%</td>
</tr>
</tbody>
</table>
<ol start="3">
<li><strong>ç»æåç»ç»</strong>ï¼æ´ä¸ªäºè¿å¶æµç±âæ è®°+æ°æ®âçå­æ®µååä¸²èèæï¼æ é¢å¤åéç¬¦ãè§£æé»è¾ç®åç´æ¥ï¼åè¯»æ è®°ï¼ç¥éåç»­æ°æ®æ¯âå­ç¬¦ä¸²+é¿åº¦4âï¼ï¼åç²¾åè¯»4å­èæ°æ®å³å¯ï¼æ éåJSONé£æ ·éå­ç¬¦æ«æâ{ã}ã:âç­è¯­æ³ç¬¦å·ã</li>
</ol>
<p>æ¯å¦è§£æä¸è¿°ç¨æ·ä¿¡æ¯ï¼JSONéæ«æ118ä¸ªå­ç¬¦è¯å«è¯­æ³ï¼äºè¿å¶æ ¼å¼ä»éæâè¯»æ è®°âè¯»æ°æ®âçé»è¾è¯»å6ä¸ªå­æ®µååï¼è§£æéåº¦æåè³å°2åï¼</p>
<p>åºäºè¿å¥æ ¸å¿è½¬æ¢åçï¼åç±»äºè¿å¶æ ¼å¼çå·®å¼æ¬è´¨æ¯å¯¹æ§è½ãçµæ´»æ§ãéç¨æ§ä¸å¤§ç»´åº¦çæè¡¡ï¼</p>
<ul>
<li><strong>æ§è½</strong>ï¼æ ¸å¿è¡¡éææ ä¸ºâä½ç§¯åç¼©æ¯âï¼ç¸è¾äºææ¬æ ¼å¼çå­èæ°åå°æ¯ä¾ï¼åâè§£æéåº¦âï¼åºåå/ååºååçCPUèæ¶ï¼ãæè´æ§è½éå¸¸ä¾èµâç²¾ç®åä½ä¿¡æ¯ââåçæ°æ®å­å¨ââé¢å®ä¹ç»æâç­è®¾è®¡ã</li>
<li><strong>çµæ´»æ§</strong>ï¼æ ¸å¿æ¯âæ°æ®ç»æçééè½åâï¼åæ¬æ¯å¦éè¦é¢å®ä¹Schemaï¼åè®®ï¼ãæ¯æçæ°æ®ç±»åä¸°å¯åº¦ãè½å¦å¨ææ°å¢/å é¤å­æ®µãé«çµæ´»æ§éåå¼ææ°æ®ãé¢ç¹è¿­ä»£çåºæ¯ã</li>
<li><strong>éç¨æ§</strong>ï¼æ ¸å¿æ¯âè·¨åºæ¯ãè·¨ç³»ç»çééè½åâï¼åæ¬è·¨è¯­è¨æ¯æå¹¿åº¦ãå®æ¹/ç¤¾åºæ ååç¨åº¦ãçæå·¥å·å®ååº¦ï¼å¦è°è¯å·¥å·ãéææä»¶ï¼ãé«éç¨æ§éä½å¤ç³»ç»åä½çæ²éä¸å¼åææ¬ã</li>
</ul>
<p>è¿ä¸å¤§ç»´åº¦å³å®äºå®ä»¬çä¼åæ¹åï¼æä¾§éæ§è½çï¼æä¾§éçµæ´»æ§çãProtobufãMessagePackãBSONæ¯å½ååºç¨æå¹¿æ³çä¸ç±»äºè¿å¶ç¼ç æ ¼å¼ï¼åå«ä»£è¡¨äºéè®¯ä¼åãéç¨å¼å®¹ä¼åãææ¡£å­å¨ä¼åçè®¾è®¡æ¹åï¼ä¸èå±åå æ®äºè¿å¶ç¼ç å¸åº70%ä»¥ä¸ä»½é¢ãå®ä»¬åéµå¾ªç±»å/é¿åº¦æ è®°+åçäºè¿å¶æ°æ®çæ ¸å¿è½¬æ¢åçï¼åªæ¯å¯¹ä¸å¤§ç»´åº¦çæè¡¡ä¸åï¼å½¢æäºå·®å¼åçéç¨åºæ¯ã</p>
<h2 id="messagepackjsonçäºè¿å¶å¹³æ¿">MessagePackï¼JSONçäºè¿å¶å¹³æ¿</h2>
<p>MessagePackçæ ¸å¿å®ä½æ¯âåJSONä¸æ ·æç¨ï¼ä½æ´å°ãæ´å¿«âï¼æ¬è´¨æ¯JSONçäºè¿å¶è¶éãç±ç¤¾åºä¸»å¯¼å¼åï¼æ åä¸å®æ¹å¼ºå¶ä¸»å¯¼æ¹ï¼å¶æ ååç±ç¤¾åºä¸»å¯¼ï¼æ¥ææ¸æ°çç¼ç è§èï¼è½æ å®æ¹å¼ºå¶æ åï¼ä½ç¤¾åºçå®ç°é«åº¦ç»ä¸ãé¶å­¦ä¹ ææ¬ãæ ç¼å¼å®¹JSONï¼æ¯æéç¨çäºè¿å¶æ ¼å¼ã</p>
<p>MessagePack ä¸¥æ ¼éµå¾ªâç±»å/é¿åº¦æ è®°+åçäºè¿å¶æ°æ®âçæ ¸å¿è½¬æ¢åçï¼éç¹ä¿çJSONççµæ´»æ§ï¼ä¸åæè´åç¼©ä»¥è¿½æ±æ§è½ï¼</p>
<ul>
<li><strong>ç±»å/é¿åº¦æ è®°ï¼çµæ´»æ§ä¼å</strong>ï¼ç¨1å­èäºè¿å¶æ è®°åæ¶è¡¨ç±»åä¸é¿åº¦ï¼å¦0xA4è¡¨âé¿åº¦4çå­ç¬¦ä¸²âï¼0x19è¡¨âæ­£æ´æ°25âï¼ï¼æ¿ä»£JSONçåå¼å·ãåå·ç­åä½å­ç¬¦ãä¸ºå¼å®¹å¨æç±»åï¼æ è®°è¦çæ´å¤åºæ¯ï¼ä½ç§¯ç¥å¤§äºProtobufï¼ä½çµæ´»æ§æ´é«ï¼</li>
<li><strong>åçæ°æ®+ç±»åæ©å±</strong>ï¼æåçæ ¼å¼å­å¨æ°æ®ï¼æ´æ°å­varintãå­ç¬¦ä¸²å­UTF-8ï¼ï¼åæ¶å®æ´æ¯æJSONææåºç¡ç±»åï¼æ°å¢äºè¿å¶æ°æ®ã64ä½æ´æ°ç­JSONç¼ºå¤±ç±»åï¼</li>
<li><strong>æ Schemaè®¾è®¡</strong>ï¼æ éé¢å®ä¹ç»æï¼å¯ç´æ¥åºåå/ååºååä»»æJSONå¼å®¹æ°æ®ï¼è§£æé»è¾ä¸JSONä¸è´ä½æ´é«æï¼å¼åèæ éæ¹åä¹ æ¯å³å¯åçº§ã</li>
</ul>
<p>MessagePack çç»¼åè¡¨ç°</p>
<ul>
<li>
<p>æ§è½ï¼ä¸­é«ââä½ç§¯æ¯JSONå°30%-50%ï¼è§£æéåº¦æ¯JSONç2-10åï¼ç¥éäºProtobufä½è¿è¶BSONï¼</p>
</li>
<li>
<p>çµæ´»æ§ï¼æé«ââæ Schemaçº¦æï¼æ¯æå¨ææ°å¢å­æ®µãå¼ææ°æ®ï¼å¯ä¸JSONååæ ç¼è½¬æ¢ï¼è°è¯æ¶å¯ç´æ¥è½¬ä¸ºJSONæ¥çï¼</p>
</li>
<li>
<p>éç¨æ§ï¼æå¼ºââæ¯æ50+ç¼ç¨è¯­è¨ï¼è¦çä¸»æµåå°ä¼è¯­è¨ï¼ï¼ç¤¾åºåºæçï¼éæææ¬ä½ï¼æ¯âä¸æ³æ¹æ¶æå´æ³ä¼åJSONæ§è½âçæä¼è§£ã</p>
</li>
</ul>
<p>MessagePack å¸ååºç¨</p>
<p>Redisç¼å­çäºè¿å¶å­å¨æ ¼å¼ãElasticsearchçé¨åæ°æ®åºååãååç«¯é«æ§è½APIäº¤äºï¼å¦ç§»å¨ç«¯èçæµéï¼ãå¤è¯­è¨å¾®æå¡çè½»éæ°æ®äº¤æ¢ãæ¥å¿ç³»ç»çåç¼©å­å¨ã</p>
<h2 id="protobuféè®¯é«æ§è½ä¹é">Protobufï¼éè®¯é«æ§è½ä¹é</h2>
<p>Protobufï¼Protocol Buffersï¼ç±Googleäº2008å¹´å¼æºï¼æ ¸å¿å®ä½æ¯è·¨ç³»ç»é«æéè®¯ï¼ä¸ä¸ºè§£å³å¾®æå¡ãåå¸å¼ç³»ç»é´æ°æ®ä¼ è¾çâä½ç§¯å¤§ãè§£ææ¢ãçæ¬å¼å®¹é¾âé®é¢è®¾è®¡ãå¶æ ååç±Googleä¸»å¯¼ï¼ç®åææ°ç¨³å®çä¸ºProtobuf 3ï¼æ¥æä¸¥æ ¼çè¯­æ³è§èï¼.protoæä»¶ï¼åå¤è¯­è¨å®æ¹å®ç°æåï¼æ¯å·¥ä¸çº§éè®¯åºæ¯çäºå®æ åã</p>
<p>Protobuf æ¬è´¨æ¯å¯¹ç±»å/é¿åº¦æ è®°+åçäºè¿å¶æ°æ®åççæè´ä¼åçè½å°ï¼éè¿éæSchemaãå­æ®µç¼å·ç­è®¾è®¡ï¼è¿ä¸æ­¥åç¼©æ è®°ä½ç§¯ãæåè§£ææçã</p>
<ul>
<li>
<p><strong>éæSchemaå¥ åº</strong>ï¼éæåéè¿.protoæä»¶å®ä¹æ°æ®ç»æï¼å«å­æ®µåãç±»åãå¯ä¸ç¼å·ï¼ï¼ç¼è¯åçæå¯¹åºè¯­è¨ä»£ç ãå¼ºç±»åçº¦æä½¿âç±»å/é¿åº¦æ è®°âæ´ç²¾ç®ï¼æ éå¼å®¹å¨æç±»åï¼ï¼åæ¶åå°è§£æéè¯¯ï¼ä¸ºé«æç¼ç å¥ å®åºç¡ã</p>
</li>
<li>
<p><strong>å­æ®µæ è®°æè´åç¼©</strong>ï¼éµå¾ªâæ è®°+æ°æ®âé»è¾ï¼å°æ è®°è®¾è®¡ä¸ºâå­æ®µç¼å·+ç±»åç¼å·âçå¤åç»æï¼æ ¸å¿è®¡ç®å¬å¼ä¸º <code>tag = (å­æ®µç¼å· &lt;&lt; 3) | å­æ®µç±»åç¼å·</code>ãå·ä½ç¤ºä¾ï¼.protoä¸­å®ä¹ânameå­æ®µï¼ç¼å·1ï¼å­ç¬¦ä¸²ç±»åï¼ç±»åç¼å·2ï¼âï¼è®¡ç®å¾tag=(1&lt;&lt;3)|2= 8+2=10ï¼åå­è¿å¶0xAï¼ï¼ç¨varintç¼ç åä»å 1å­èï¼è¥ç´æ¥å­å¨å­æ®µåânameâé4å­èï¼ä»æ è®°å°±èç75%ä½ç§¯ãå­æ®µç¼å·ä¸º.protoä¸­å®ä¹çå¯ä¸æ°å­ï¼å¦1ã2ï¼ï¼ç±»åç¼å·ä¸ºProtobufé¢å®ä¹ç ï¼0=varintæ´æ°ã1=fixed64ã2=é¿åº¦åç¼åï¼ï¼æ´ä¸ªtagä»¥varintç¼ç å­å¨ï¼å°æ°å­ä»å 1å­èï¼ç¸æ¯å­å¨å®æ´å­æ®µåå¤§å¹èçä½ç§¯ã</p>
</li>
<li>
<p><strong>åçæ°æ®å®å¶åç¼ç </strong>ï¼å®å¨éµå¾ªâåçäºè¿å¶å­å¨âé»è¾ï¼éå¯¹ä¸åæ°æ®ç±»åä¼åï¼â  varintï¼åé¿æ´æ°ï¼ï¼å°æ´æ°ï¼0-127ï¼å 1å­èï¼å¤§æ´æ°æéæ©å±ï¼æ¯JSONå­ç¬¦ä¸²å­å¨èç50%ç©ºé´ï¼â¡ é¿åº¦åç¼åï¼å­ç¬¦ä¸²ãbytesãåµå¥å¯¹è±¡åå­é¿åº¦ï¼varintç¼ç ï¼åå­æ°æ®ï¼é¿ååä½åéç¬¦ï¼â¢ åºå®é¿åº¦ç¼ç ï¼fixed32/fixed64ééæµ®ç¹æ°ãå¤§æ´æ°ï¼å¹³è¡¡è§£æéåº¦ä¸ä½ç§¯ã</p>
</li>
<li>
<p><strong>ç»æåå­æ®µåå</strong>ï¼äºè¿å¶æµç±âå­æ®µæ è®°ï¼tagï¼+å­æ®µå¼ï¼valueï¼âååä¸²èèæï¼è§£ææ¶æâè¯»æ è®°âå¤ç±»å/é¿åº¦âè¯»æ°æ®âé»è¾è¿åï¼æ éæ«æè¯­æ³ç¬¦å·ï¼è§£ææçæ¾èæåã</p>
</li>
</ul>
<p>Protobuf è¡¨ç°</p>
<ul>
<li>
<p><strong>æ§è½</strong>ï¼æè´é¢åââå¾çäºâå­æ®µç¼å·æ¿ä»£å­æ®µåââvarintæè´åç¼©ââæ åä½è¯­æ³âçè®¾è®¡ï¼ä½ç§¯æ¯JSONå°50%-70%ï¼è§£æéåº¦æ¯JSONç10-30åï¼è¿è¶MessagePackãBSONç­JSON Binaryï¼å½»åºè§£å³JSONå¨é«é¢éè®¯åºæ¯çæ§è½ç¶é¢ã</p>
</li>
<li>
<p><strong>çµæ´»æ§</strong>ï¼è¾ä½ä½ééè¿­ä»£éæ±ââå¼ºä¾èµSchemaï¼å­æ®µæ°å¢/ä¿®æ¹éåæ­¥æ´æ°.protoæä»¶ï¼ä¸éåå¨æå¼ææ°æ®ï¼ä½éè¿âå­æ®µç¼å·åºå®âå®ç°å¤©ç¶çæ¬å¼å®¹ï¼èçæ¬å¯å¿½ç¥æ°å¢å­æ®µï¼ééé¿æè¿­ä»£çç³»ç»ã</p>
</li>
<li>
<p><strong>éç¨æ§</strong>ï¼å¼ºä¸çæå®åââå®æ¹æ¯æ20+ä¸»æµè¯­è¨ï¼GoãJavaãPythonãC++ç­ï¼ï¼æ·±åº¦éægrpcç­RPCæ¡æ¶ï¼éå¥è°è¯ãç¼è¯å·¥å·é½å¨ï¼æ¯å·¥ä¸çº§è·¨ç³»ç»éè®¯çäºå®æ åã</p>
</li>
</ul>
<p>Protobuf å¸ååºç¨</p>
<p>Googleåé¨ææå¾®æå¡éè®¯ãKubernetesç»ä»¶äº¤äºãgrpcæ¡æ¶é»è®¤ç¼ç æ ¼å¼ãæé³/å¿«æç­ç­è§é¢å¹³å°çè·¨æå¡æ°æ®ä¼ è¾ãæ¸¸ææå¡å¨ä¸å®¢æ·ç«¯çå®æ¶æ°æ®åæ­¥ã</p>
<h2 id="bsonææ¡£å­å¨çä¸å±æ ¼å¼mongodbçææ ¸å¿">BSONï¼ææ¡£å­å¨çä¸å±æ ¼å¼ï¼MongoDBçææ ¸å¿</h2>
<p>BSONï¼Binary JSONï¼ç±MongoDBå¢éè®¾è®¡ï¼æ ¸å¿å®ä½æ¯ææ¡£æ°æ®åºçåçå­å¨ä¸ä¼ è¾æ ¼å¼ï¼ä¸ä¸ºè§£å³JSONä¸éåæ°æ®åºå­å¨ï¼ç¼ºå°æ¥æãäºè¿å¶ç±»åï¼æ æ³é«æç´¢å¼ï¼ççç¹ãå¶æ ååç±MongoDBå®æ¹ä¸»å¯¼ï¼è§èä¸MongoDBçæ¥è¯¢ãç´¢å¼åè½æ·±åº¦ç»å®ã</p>
<p>BSON ä¼åéç¹æ¯å¨åçåºç¡ä¸ééæ°æ®åºå­å¨éæ±ï¼ä¸Protobufçéè®¯åºæ¯ä¼åå½¢æå·®å¼ï¼</p>
<ul>
<li>
<p><strong>ç±»åæ è®°ï¼æ©å±å­å¨å¿éç±»å</strong>ï¼ä¿çæ ¸å¿æ è®°é»è¾ï¼æ°å¢æ°æ®åºä¸å±ç±»åæ è®°ï¼ObjectIdãDateãå°çç©ºé´æ°æ®ç­ï¼ï¼è§£å³JSONç±»åå®ä¹é®é¢ï¼</p>
</li>
<li>
<p><strong>ç»æä¼åï¼ééå­å¨è§£æ</strong>ï¼éç¨âææ¡£é¿åº¦åç¼+æ è®°+é®å¼å¯¹âç»æï¼ææ¡£å¼å¤´å­å¨æ»é¿åº¦ï¼æ¹ä¾¿æ°æ®åºå¿«éå®ä½ææ¡£è¾¹çï¼ä¿çå­æ®µåå­ç¬¦ä¸²ï¼ç¡®ä¿æ¥è¯¢è¯­ä¹æ¸æ°ï¼</p>
</li>
<li>
<p><strong>ç´¢å¼åå¥½è®¾è®¡</strong>ï¼æ¯æååµææ¡£æ·±åº¦ç´¢å¼ï¼å¦æ¥è¯¢âuser.address.cityâï¼ï¼å¶âæ è®°+æ°æ®âçåµå¥ç»æè®©æ°æ®åºå¯é«æå®ä½å­æ®µï¼è§£å³JSONé¾ç´¢å¼ççç¹ã</p>
</li>
</ul>
<p>BSON è¡¨ç°</p>
<ul>
<li>
<p>æ§è½ï¼ä¸­é«ââä½ç§¯æ¯JSONå°20%-40%ï¼è§£æéåº¦æ¯JSONç5-15åï¼å å­å¨å­æ®µåå¯¼è´ä½ç§¯ç¥å¤§äºMessagePackï¼</p>
</li>
<li>
<p>çµæ´»æ§ï¼é«ââæ Schemaçº¦æï¼æ¯æå¨æå­æ®µä¸å¤æåµå¥ç»æï¼ä¸å±ç±»åééæ°æ®åºå­å¨éæ±ï¼</p>
</li>
<li>
<p>éç¨æ§ï¼ä¸­ç­ââä¸»è¦ééMongoDBçæï¼è·¨è¯­è¨æ¯æéä¸­å¨æ°æ®åºäº¤äºåºæ¯ï¼å¦MongoDBå®¢æ·ç«¯ï¼ï¼éç¨éè®¯åºæ¯åºç¨è¾å°ã</p>
</li>
</ul>
<p>BSON  å¸ååºç¨</p>
<p>MongoDBæ°æ®åºçææææ¡£å­å¨ä¸å®¢æ·ç«¯-æå¡å¨éè®¯ãåºäºMongoDBçåå®¹ç®¡çç³»ç»ï¼å¦çµåäº§åè¯¦æå­å¨ï¼ãIoTè®¾å¤çå¼ææ°æ®å­å¨ï¼å¦ä¼ æå¨æ°æ®+æ¶é´æ³ï¼ã</p>
<h2 id="å¶ä»å¸¸è§äºè¿å¶ç¼ç æ ¼å¼">å¶ä»å¸¸è§äºè¿å¶ç¼ç æ ¼å¼</h2>
<p>é¤ä¸è¿°å¤´é¨äºè¿å¶ç¼ç æ ¼å¼ç±»åå¤ï¼ä»¥ä¸æ ¼å¼å¨ç¹å®åºæ¯ä¸­åºç¨å¹¿æ³ï¼å½¢æè¡¥åçæï¼</p>
<p>1ï¼ CBORï¼æ ååçäºè¿å¶JSON</p>
<p>CBORï¼Concise Binary Object Representationï¼æ¯IETFæ ååçäºè¿å¶JSONæ ¼å¼ï¼RFC 8949ï¼ï¼å®ä½ä¸MessagePackç±»ä¼¼ï¼ä½æ´å¼ºè°âä¸¥æ ¼æ ååâãåçä¸MessagePackæ¥è¿ï¼ç±»åæ è®°+é¿åº¦åç¼ï¼ï¼æ¯ææ´å¤æ åæ©å±ç±»åï¼å¦decimalãbigintï¼ãä¼å¿æ¯æ ååç¨åº¦é«ï¼éåéèãç©èç½ç­å¯¹è§èä¸è´æ§è¦æ±é«çåºæ¯ï¼å£å¿æ¯çæå®ååº¦ç¥éäºMessagePackã</p>
<p>2ï¼ UBJSONï¼ç®åæå®ç°çäºè¿å¶JSON</p>
<p>UBJSONï¼Universal Binary JSONï¼å®ä½âæç®å®ç°âï¼ç¼ç è§åæ¯MessagePackæ´ç®åï¼å¦ç¨åºå®å­ç¬¦æ è®°ç±»åï¼èéäºè¿å¶ï¼ï¼éåèµæºåéçåµå¥å¼è®¾å¤æå¿«éå¼ååºæ¯ãæ§è½ä¸BSONæ¥è¿ï¼éç¨æ§ä¸­ç­ï¼å å®ç°ææ¬ä½è¢«é¨åå°ä¼IoTè®¾å¤éç¨ã</p>
<p>3ï¼FlatBuffersï¼é¶æ·è´çåµå¥å¼/æ¸¸æé¦é</p>
<p>FlatBuffersç±Googleå¼æºï¼æ ¸å¿å®ä½æ¯âé¶æ·è´è§£æâï¼ä¸ä¸ºåµå¥å¼è®¾å¤ãæ¸¸æç­âåå­/CPUèµæºç´§å¼ âçåºæ¯è®¾è®¡ãåçæ¯âé¢å®ä¹Schema+åºå®åç§»éå­å¨âï¼è§£ææ¶æ éååºååæ´ä¸ªæ°æ®ï¼ç´æ¥éè¿åç§»éè¯»åå­æ®µï¼è§£æéåº¦æè´ãå£å¿æ¯çµæ´»æ§ä½ãå¼åææ¬é«ï¼ä»éåæ§è½ææçç¹å®åºæ¯ã</p>
<p>4ï¼ Thriftï¼RPCç»å®çå¤æ ¼å¼ç¼ç </p>
<p>Thriftç±Apacheå¼æºï¼æ¬è´¨æ¯RPCæ¡æ¶ï¼ä½å¶åç½®äºè¿å¶ç¼ç æ ¼å¼ï¼TBinaryProtocolï¼å¨åå¸å¼ç³»ç»ä¸­åºç¨å¹¿æ³ãæ¯æéæSchemaï¼æ§è½æ¥è¿Protobufï¼ä¼å¿æ¯ä¸RPCæ¡æ¶æ·±åº¦éæï¼éåâç¼ç +éè®¯âä¸ä½åéæ±ï¼å£å¿æ¯éç¨æ§ç¥éäºProtobufã</p>
<h2 id="ä¸»æµæ ¼å¼å¯¹æ¯è¡¨">ä¸»æµæ ¼å¼å¯¹æ¯è¡¨</h2>
<table>
<thead>
<tr>
<th style="text-align: left">æ ¼å¼</th>
<th style="text-align: left">æ§è½ï¼ä½ç§¯/éåº¦ï¼</th>
<th style="text-align: left">çµæ´»æ§ï¼Schema/ç±»åï¼</th>
<th style="text-align: left">éç¨æ§ï¼è·¨è¯­è¨/æ ååï¼</th>
<th style="text-align: left">æ ¸å¿è§£å³çJSONçç¹</th>
<th style="text-align: left">æ ¸å¿ä¼å¿åºæ¯</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left">Protobuf</td>
<td style="text-align: left">âââââ æè´</td>
<td style="text-align: left">âââ å¼ºSchemaï¼çæ¬å¼å®¹å¥½</td>
<td style="text-align: left">âââââ å®æ¹å¤è¯­è¨æ¯æ</td>
<td style="text-align: left">ä½ç§¯å¤§ãè§£ææ¢ãçæ¬å¼å®¹é¾</td>
<td style="text-align: left">å¾®æå¡éè®¯ãè·¨ç³»ç»RPC</td>
</tr>
<tr>
<td style="text-align: left">MessagePack</td>
<td style="text-align: left">âââââ ä¼ç§</td>
<td style="text-align: left">âââââ æ Schemaï¼å¼å®¹JSON+æ©å±</td>
<td style="text-align: left">âââââ 50+è¯­è¨æ¯æ</td>
<td style="text-align: left">ä½ç§¯å¤§ãè§£ææ¢ãç±»åå°</td>
<td style="text-align: left">éç¨JSONä¼åãç¼å­ãè½»éä¼ è¾</td>
</tr>
<tr>
<td style="text-align: left">BSON</td>
<td style="text-align: left">âââââ ä¼ç§</td>
<td style="text-align: left">âââââ æ Schemaï¼æ°æ®åºä¸å±ç±»å</td>
<td style="text-align: left">âââââ ééMongoDBçæ</td>
<td style="text-align: left">ç±»åå°ãé¾ç´¢å¼ãä¸ééå­å¨</td>
<td style="text-align: left">ææ¡£æ°æ®åºå­å¨ãMongoDBäº¤äº</td>
</tr>
<tr>
<td style="text-align: left">CBOR</td>
<td style="text-align: left">âââââ ä¼ç§</td>
<td style="text-align: left">âââââ æ Schemaï¼æ åæ©å±ç±»å</td>
<td style="text-align: left">âââââ IETFæ å</td>
<td style="text-align: left">ä½ç§¯å¤§ãç±»åå°ãæ ååå¼±</td>
<td style="text-align: left">éèãIoTç­å¼ºè§èåºæ¯</td>
</tr>
<tr>
<td style="text-align: left">FlatBuffers</td>
<td style="text-align: left">âââââ é¶æ·è´æè´</td>
<td style="text-align: left">âââ å¼ºSchema</td>
<td style="text-align: left">âââââ åµå¥å¼è¯­è¨æ¯æ</td>
<td style="text-align: left">è§£ææ¢ãåå­å¼éå¤§</td>
<td style="text-align: left">åµå¥å¼è®¾å¤ãæ¸¸æå®æ¶æ°æ®</td>
</tr>
</tbody>
</table>
<p>éåå»ºè®®ï¼</p>
<ul>
<li>éå®æ ¸å¿çç¹ï¼é«é¢éè®¯å»¶è¿âProtobufï¼JSONä¼åä¸ä¸æ¹å¨æ¶æâMessagePackï¼ææ¡£å­å¨+é«ææ¥è¯¢âBSONï¼å¼ºæ ååâCBORï¼åµå¥å¼/æ¸¸æä½åå­âFlatBuffersï¼</li>
<li>æè¡¡ä¸å¤§ç»´åº¦ï¼æ§è½æè´ä¼åâçºç²çµæ´»æ§ï¼Protobuf/FlatBuffersï¼ï¼çµæ´»æ§ä¼åâæ¥åå°å¹æ§è½æèï¼MessagePack/BSONï¼ï¼</li>
<li>å¼é¡¾çæææ¬ï¼å·²ç¨MongoDBâBSONï¼å·²ç¨gRPCâProtobufï¼éåº¦ä¾èµJSONâMessagePackï¼éä½è¿ç§»ææ¬ã</li>
</ul>
<h2 id="æ»ç»">æ»ç»</h2>
<p>ç±»å/é¿åº¦æ è®°+åçäºè¿å¶æ°æ®âæ¯ææäºè¿å¶ç¼ç æ ¼å¼çè½¬æ¢åçãäºè¿å¶ç¼ç æ ¼å¼çè¯çï¼æ¬è´¨æ¯è§£å³JSONçæ ¸å¿çç¹ï¼åç±»æ ¼å¼çå·®å¼ï¼ä»æ¯å¨åçåºç¡ä¸å¯¹âæ§è½ãçµæ´»æ§ãéç¨æ§âçæè¡¡ã</p>
<p>Protobufå®å¨éµå¾ªæ­¤åçä¸åæè´ä¼å,ä¸ºéè®¯åºæ¯çèï¼MessagePackä¿çåçä¸å¼é¡¾JSONçµæ´»æ§ï¼æä¸ºéç¨ä¼åé¦éï¼BSONåºäºåçééå­å¨éæ±ï¼éå®MongoDBçæã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.011805555555555555" data-date-updated="2025-12-27 11:52">2025-12-27 11:35</span>&nbsp;
<a href="https://www.cnblogs.com/zhally">zhally</a>&nbsp;
éè¯»(<span id="post_view_count">10</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19408306);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19408306', targetLink: 'https://www.cnblogs.com/zhally/p/19408306', title: 'æ°æ®å­å¨åä¼ è¾çäºè¿å¶ç¼ç æ ¼å¼æ¦è¿°' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ä½¿ç¨Gradioæå»ºAIåç«¯ - RAGçQAæ¨¡å ]]></title>
    <link>https://www.cnblogs.com/aspnetx/p/19408276</link>
    <guid>09b0b95866af2b42c514fc16da5e8891</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/aspnetx/p/19408276" title="åå¸äº 2025-12-27 11:28">
    <span role="heading" aria-level="2">ä½¿ç¨Gradioæå»ºAIåç«¯ - RAGçQAæ¨¡å</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        æ¬æå°åºäºGradioçInterfaceï¼ç»§ç»­æå»ºRAGç³»ç»çQAåç«¯é¡µé¢ï¼å¯¹æ¯ä¸ä¸ç¯å¯¹å¬åæµè¯åç«¯é¡µé¢çæå»ºï¼æ¥å¯¹æ¯å¨Gradioä¸ï¼BlocksåInterfaceçä¸¤ç§åºå«ã
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="ä½¿ç¨gradioæå»ºaiåç«¯---ragçqaæ¨¡å">ä½¿ç¨Gradioæå»ºAIåç«¯ - RAGçQAæ¨¡å</h1>
<h2 id="æè¦">æè¦</h2>
<p>æ¬æå°åºäºGradioçInterfaceï¼ç»§ç»­æå»ºRAGç³»ç»çQAåç«¯é¡µé¢ï¼å¯¹æ¯ä¸ä¸ç¯å¯¹å¬åæµè¯åç«¯é¡µé¢çæå»ºï¼æ¥å¯¹æ¯å¨Gradioä¸ï¼BlocksåInterfaceçä¸¤ç§åºå«ã</p>
<h2 id="gradio-interfaceç®ä»">Gradio Interfaceç®ä»</h2>
<p>Gradio æ¯ä¸ä¸ªç¨äºå¿«éåå»ºæºå¨å­¦ä¹ åæ°æ®ç§å­¦æ¼ç¤ºçé¢çPythonåºï¼åè®¸å¼åèéè¿ç®åä»£ç å°å½æ°è½¬æ¢ä¸ºäº¤äºå¼Webåºç¨ï¼æ éåç«¯å¼åç»éªã<code>gr.Interface</code> æ¯ Gradio æä¾çä¸ç§å¿«éåå»ºçé¢çæ¹å¼ï¼éç¨äºç®åçè¾å¥è¾åºåºæ¯ï¼éç¨"å½æ°é©±å¨"æ¨¡å¼ï¼ç´æ¥å°å½æ°ä¸è¾å¥è¾åºç»ä»¶ç»å®ã</p>
<h3 id="æ ¸å¿ç¹ç¹">æ ¸å¿ç¹ç¹ï¼</h3>
<ul>
<li>ç»æç®åï¼éåå¿«éååå¼å</li>
<li>è¾å¥è¾åºç»ä»¶æåºå®å¸å±æå</li>
<li>åºäºå½æ°æ å°ï¼ç´æ¥å°è¾å¥ä¼ éç»å½æ°å¹¶å±ç¤ºè¾åº</li>
</ul>
<p>ç»¼ä¸æ±æ»ï¼ä¸»è¦çç¹ç¹å°±æ¯ç®åï¼å¿«ã</p>
<h3 id="interface-ä¸-blocks-çåºå«">Interface ä¸ Blocks çåºå«</h3>
<table>
<thead>
<tr>
<th>ç¹æ§</th>
<th>Interface</th>
<th>Blocks</th>
</tr>
</thead>
<tbody>
<tr>
<td>å¤æåº¦</td>
<td>ç®åï¼éåå¿«éæ­å»º</td>
<td>çµæ´»ï¼éåå¤æçé¢</td>
</tr>
<tr>
<td>å¸å±æ§å¶</td>
<td>èªå¨å¸å±ï¼ç»æåºå®</td>
<td>å®å¨èªå®ä¹å¸å±</td>
</tr>
<tr>
<td>äº¤äºé»è¾</td>
<td>åºäºåä¸å½æ°æ å°</td>
<td>æ¯æå¤å½æ°ãäºä»¶è§¦å</td>
</tr>
<tr>
<td>éç¨åºæ¯</td>
<td>ç®åè¾å¥è¾åºåºæ¯</td>
<td>å¤æäº¤äºãå¤æ­¥éª¤æµç¨</td>
</tr>
</tbody>
</table>
<p>ç¸å¯¹æ¥è¯´ï¼Interfaceçæå»ºæ¹å¼æ¯Blocksè¦æ´ç®åï¼ä»£ç éæ´å°ã<br>
éè¿ä¸é¢çä»£ç ï¼å¯ä»¥çå°è·Blocksæææ¾çåºå«ã</p>
<h3 id="ä»£ç ç¤ºä¾">ä»£ç ç¤ºä¾ï¼</h3>
<pre><code class="language-python"># åå»ºGradio Interface
iface = gr.Interface(
    fn=run_qa,  # æ ¸å¿å¤çå½æ°
    inputs=[    # è¾å¥ç»ä»¶åè¡¨
        gr.Textbox(
            label="é®é¢",
            placeholder="è¯·è¾å¥æ¨çé®é¢...",
            lines=3,
            info="ä¾å¦: 'åªäºèåæ¥åºè¯¥å®æä¼åï¼' æ 'ä»ä¹æ¯æªæå¹´ï¼'"
        ),
        gr.Slider(
            label="Top-Kæ£ç´¢æ°é",
            minimum=1,
            maximum=10,
            value=5,
            step=1,
            info="è®¾ç½®è¿åçæç¸ä¼¼ææ¡£æ°é"
        )
    ],
    outputs=gr.Markdown(  # è¾åºç»ä»¶
        label="åç­ç»æ"
    ),
    title="ð¤ RAGé®ç­ç³»ç»",
    description="åºäºLangChainåGradioæå»ºçRAGé®ç­ç³»ç»ï¼ä½¿ç¨åéæ°æ®åºè¿è¡ç¥è¯æ£ç´¢",
    examples=[  # ç¤ºä¾é®é¢
        ["åªäºèåæ¥åºè¯¥å®æä¼åï¼", 5],
        ["ä»ä¹æ¯æªæå¹´ï¼", 3],
        ["è¶³çæ¯èµçåºæ¬è§åæ¯ä»ä¹ï¼", 4]
    ],
    theme=gr.themes.Soft(),
    allow_flagging="never"  # ç¦ç¨æ è®°åè½
)
</code></pre>
<p>ä¸é¢æ¯æå»ºçé¢çæ ·å­ï¼<br>
<img src="https://img2024.cnblogs.com/blog/8622/202512/8622-20251227112605131-876188573.png" alt="img" loading="lazy"></p>
<p>éè¿ä»¥ä¸ä»£ç ï¼å¯ä»¥çå°å¨gr.Interfaceéï¼é¦åæå®æç»çæ¯åªä¸ä¸ªfunctionï¼ç¶åå¨inputsåoutputsï¼ä¾æ¬¡åå»ºå¯¹åºçåç«¯ç»ä»¶ï¼å¹¶ä¸å¯¹åºfunctionéçè¾å¥åæ°åè¿åå¼ã<br>
è¿æ®µä»£ç è°ç¨é¡¹ç®éå·²ç»å°è£å¥½çLC_RAG_03_QA.pyéçæ¹æ³ã</p>
<h3 id="å³é®åºå«ç¹">å³é®åºå«ç¹ï¼</h3>
<p>å¯¹æ¯ä¸ä¸ç¯ï¼è¿éæ±æ»äºInterfaceæ¹å¼åBlocksä¸¤ç§æ¹å¼çåºå«ã</p>
<ol>
<li>
<p><strong>å¸å±æ§å¶</strong>ï¼</p>
<ul>
<li>Interfaceï¼èªå¨æåè¾å¥è¾åºï¼æ éæå¨æ§å¶å¸å±</li>
<li>Blocksï¼éè¿ <code>gr.Row()</code>ã<code>gr.Column()</code> ç­æå¨æ§å¶ç»ä»¶å¸å±</li>
</ul>
</li>
<li>
<p><strong>äºä»¶å¤ç</strong>ï¼</p>
<ul>
<li>Interfaceï¼èªå¨å³èè¾å¥è¾åºåå¤çå½æ°</li>
<li>Blocksï¼éè¦æ¾å¼éè¿ <code>.click()</code> ç­æ¹æ³ç»å®äºä»¶</li>
</ul>
</li>
<li>
<p><strong>çµæ´»æ§</strong>ï¼</p>
<ul>
<li>Interfaceï¼éåç®ååºæ¯ï¼ä»£ç éå°</li>
<li>Blocksï¼éåå¤æçé¢ï¼æ¯ææ¡ä»¶æ¾ç¤ºãå¤æ­¥éª¤äº¤äºç­é«çº§åè½</li>
</ul>
</li>
<li>
<p><strong>ç»æç»ç»</strong>ï¼</p>
<ul>
<li>Interfaceï¼éè¿åæ°éç½®çé¢åç´ </li>
<li>Blocksï¼ä½¿ç¨ä¸ä¸æç®¡çå¨ï¼<code>with</code> è¯­å¥ï¼ç»ç»çé¢ç»æ</li>
</ul>
</li>
</ol>
<p>å¨æ¬æ¡ä¾ä¸­ï¼ä½¿ç¨ <code>gr.Interface</code> ä»£ç æ´ç®æ´é«æãå¦æéè¦æ´å¤æçäº¤äºï¼å¦å¤æ­¥éª¤å¤çãæ¡ä»¶æ¾ç¤ºç»ä»¶ç­ï¼ï¼ååºéæ© <code>gr.Blocks</code>ã<br>
æä»¥å¦ææ¯å¯¹æ¨¡ååè½çè¯ä¼°ï¼å»ºè®®éæ©gr.Interfaceï¼å¦ææ¯åååè®¾è®¡ï¼å»ºè®®éæ©gr.Blocksã</p>
<p>æ¬æé¡¹ç®ä»£ç å¯ä»¥å¨ä»¥ä¸ä»åºéæ¾å°ï¼<br>
<a href="https://github.com/microsoftbi/Langchain_DEMO/tree/main/RAG" target="_blank" rel="noopener nofollow">https://github.com/microsoftbi/Langchain_DEMO/tree/main/RAG</a><br>
æ­¤ç¯å¯¹åºçä»£ç æ¯ï¼LC_RAG_07c_Gradio.py</p>
<p>è¿éåè¡¥åä¸ä¸ªå¿«éçæ¹æ³ï¼å°±æ¯åå©AIå¼åå·¥å·ï¼æ¯å¦TRAEï¼ä»¥ä¸æ¯æç¨çæç¤ºè¯ï¼ä»ä¾åèï¼</p>
<pre><code class="language-Prompt">å¨å½åpythonæä»¶ä¸­ï¼ç¼åä¸ä¸ªQAçåç«¯çé¢ï¼åç«¯æ¡æ¶ä½¿ç¨Gradioï¼ä¸è¦ä½¿ç¨blocksçæ¹å¼æå»ºé¡µé¢ï¼ç´æ¥ä½¿ç¨interfaceçæ¹å¼æ¥æå»ºï¼ä½¿ç¨çæ¹æ³ï¼è°ç¨LC_RAG_03_QA.pyéçanswer_questionæ¹æ³ã
</code></pre>
<p>è½ç¶å¨æä½¿ç¨çè¿ç¨ä¸­ï¼ä»£ç æ æ³ä¸æ¬¡éè¿ï¼ä½åºæ¬ä¸éè¿ä¸æ¬¡åé¦å°±å¯ä»¥ä¿®è¡¥æåï¼ä»èçä¸äºè¿é¨åä»£ç çå·¥ä½éã</p>
<details>
<summary>ä»¥ä¸æ¯ä»£ç çå¨é¨åå®¹ï¼ç¹å»å±å¼ã</summary>
<pre><code class="language-Python">import gradio as gr
from LC_RAG_03_QA import answer_question

def run_qa(question, top_k=5):
    """è¿è¡QAå¹¶è¿åç»æ"""
    try:
        answer, sources = answer_question(
            question=question,
            top_k=top_k,
            vectorstore_dir="./RAG/chroma_db",
            embedding_model="text-embedding-v4"
        )
        
        # æ ¼å¼åç»æ
        result = f"# ð¯ ç­æ¡\n\n{answer}\n"
        
        if sources:
            result += "\n# ð åèæ¥æº\n"
            for source in sources:
                result += f"- {source}\n"
        
        return result
    except Exception as e:
        return f"â éè¯¯: {str(e)}"

# åå»ºGradio Interface
iface = gr.Interface(
    fn=run_qa,
    inputs=[
        gr.Textbox(
            label="é®é¢",
            placeholder="è¯·è¾å¥æ¨çé®é¢...",
            lines=3,
            info="ä¾å¦: 'åªäºèåæ¥åºè¯¥å®æä¼åï¼' æ 'ä»ä¹æ¯æªæå¹´ï¼'"
        ),
        gr.Slider(
            label="Top-Kæ£ç´¢æ°é",
            minimum=1,
            maximum=10,
            value=5,
            step=1,
            info="è®¾ç½®è¿åçæç¸ä¼¼ææ¡£æ°é"
        )
    ],
    outputs=gr.Markdown(
        label="åç­ç»æ"
    ),
    title="ð¤ RAGé®ç­ç³»ç»",
    description="åºäºLangChainåGradioæå»ºçRAGé®ç­ç³»ç»ï¼ä½¿ç¨åéæ°æ®åºè¿è¡ç¥è¯æ£ç´¢",
    examples=[
        ["åªäºèåæ¥åºè¯¥å®æä¼åï¼", 5],
        ["ä»ä¹æ¯æªæå¹´ï¼", 3],
        ["è¶³çæ¯èµçåºæ¬è§åæ¯ä»ä¹ï¼", 4]
    ],
    theme=gr.themes.Soft(),
    allow_flagging="never"
)

# å¯å¨åºç¨
if __name__ == "__main__":
    iface.launch(
        server_name="0.0.0.0",
        server_port=7861,
        share=False,
        debug=False
    )
</code></pre>
</details>
</div>
<div id="MySignature" role="contentinfo">
    <p>&nbsp;</p>
<p>---------------------------------------------------------------</p>
<p style="margin: 0in 0in 10pt;">aspnetx<span style="font-family: SimSun;">ç</span>BI<span style="font-family: SimSun;">ç¬è®°ç³»åç´¢å¼ï¼</span></p>
<p style="margin: 0in 0in 10pt;"><a href="http://www.cnblogs.com/aspnetx/archive/2013/02/25/2931603.html" target="_blank">ä½¿ç¨SQL Server Analysis Servicesæ°æ®ææçå³èè§åå®ç°ååæ¨èåè½</a></p> 
<p style="margin: 0in 0in 10pt;"><a href="http://www.cnblogs.com/aspnetx/archive/2013/03/24/2978347.html" target="_blank">ä¸èµ·ç©è½¬SQL Server 2012 ä¸çåææå¡</a></p> 
<p style="margin: 0in 0in 10pt;"><a href="http://www.cnblogs.com/aspnetx/archive/2013/04/05/3000448.html" target="_blank">ä½¿ç¨SQL Serveråææå¡å®ä½ç®æ ç¨æ·  </a></p> 

<p>&nbsp;</p>
<p>&nbsp;</p>
<p>---------------------------------------------------------------<br></p>
<p>æ¥èª<a href="http://www.cnblogs.com/" target="_blank">åå®¢å­</a>ç<a href="http://aspnetx.cnblogs.com/" target="_blank">aspnetx</a><font color="white">å®å«ä¸</font></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.003472222222222222" data-date-updated="2025-12-27 11:33">2025-12-27 11:28</span>&nbsp;
<a href="https://www.cnblogs.com/aspnetx">å¥æ¬åå£«å¥(aspnetx)</a>&nbsp;
éè¯»(<span id="post_view_count">3</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19408276);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19408276', targetLink: 'https://www.cnblogs.com/aspnetx/p/19408276', title: 'ä½¿ç¨Gradioæå»ºAIåç«¯ - RAGçQAæ¨¡å' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ æä¸ºé«çº§ PHP å¼åèéè¦çæç»´è½¬å ]]></title>
    <link>https://www.cnblogs.com/catchadmin/p/19407447</link>
    <guid>d8023cb976048a33f39d21fdee08e8c5</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/catchadmin/p/19407447" title="åå¸äº 2025-12-27 08:14">
    <span role="heading" aria-level="2">æä¸ºé«çº§ PHP å¼åèéè¦çæç»´è½¬å</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="æä¸ºé«çº§-php-å¼åèéè¦çæç»´è½¬å">æä¸ºé«çº§ PHP å¼åèéè¦çæç»´è½¬å</h1>
<p>æ³æä¸º PHP é«æ?åä»è°æ´æç»´å¼å§</p>
<p>æ³æä¸ºä¸ä¸ç PHP å¼åè?è¿å¾å¥½ãä½å¨æ·±å¥ç ç©¶ PHP è¯­æ³æææ°æ¡æ¶ä¹å,æä¸ä»¶äºä½ éè¦æç¡®:ä½ çæç»´æ¹å¼ã</p>
<p>äºå®ä¸,è¿ä¸ä»ä»æ¯åä»£ç ââæä¸º PHP ä¸ä¸äººå£«æå³çç¨ä¸åçæ¹å¼æèãè¿å³ä¹ä½ å¦ä½å¤çé®é¢ãå¦ä½ä¸ä»äººåä½,ä»¥åå¦ä½æé¿ãå½ç¶,æ·±å¥äºè§£ PHP å¾éè¦,ä½æ­£ç¡®çæç»´æ¹å¼ææ¯å¨ PHP é¢åè±é¢èåºççæ­£å³é®ã</p>
<p>æ¬æå°è®¨è®ºè½è®©ä½ ä» PHP æ°ææé¿ä¸ºä¸ä¸å¼åèçå³é®æç»´è½¬åãåå¤å¥½æåäºå?å¼å§å§ã</p>
<p><a href="https://catchadmin.com/post/2025-12/the-mindset-shifts-you-need-to-become-a-rockstar-php-developer" target="_blank" rel="noopener nofollow">åæé¾æ¥ æä¸ºé«çº§ PHP å¼åèéè¦çæç»´è½¬å</a></p>
<h2 id="è½¬å-1ä»åªæ¯åä»£ç å°è§£å³å®éé®é¢">è½¬å 1:ä»"åªæ¯åä»£ç "å°"è§£å³å®éé®é¢"</h2>
<p>åä»£ç å¾é·,ä½è§£å³é®é¢æ´é·</p>
<p>è¯´å®è¯:ä»»ä½äººé½è½åä»£ç ãä½ååºè½è§£å³å®éé®é¢çä»£ç ?è¿ææ¯å³é®æå¨ãä½ä¸ºåå­¦è,å¾å®¹æè¿·å¤±å¨è¯­æ³ç»èåå½æ°è°ç¨ä¸­,ä½éç¹æ¯:ç¼ç åªæ¯å·¥å·ãä½ä¸º PHP å¼åè,ä½ çå·¥ä½ä¸ä»ä»æ¯æ²ä»£ç ââèæ¯ä»¥æä½³æ¹å¼è§£å³é®é¢ã</p>
<p><strong>ææ¯å®è·µ:å¨ç¼ç åååè§£é®é¢</strong></p>
<p>å¨æå¼ä»£ç ç¼è¾å¨ä¹å,åå°é®é¢åè§£æå¯ç®¡ççå°åãä½¿ç¨æµç¨å¾æä¼ªä»£ç ç­å·¥å·æ¥è§åé»è¾ãè¿ç§æ¹æ³ä¸ä»è½çæ¸æè·¯,è¿è½å¸®ä½ å°½æ©åç°è¾¹çæåµåæ½å¨é·é±ã</p>
<p>ç¤ºä¾:<br>
æå»ºè´­ç©è½¦æ¶,åä¸ºæ·»å ååãè®¡ç®æ»ä»·åç®¡çä¼è¯æä¹åç¼åä¼ªä»£ç ãç¶åå¨ PHP ä¸­ææ¡ä¸ç´å°å®ç°æ¯ä¸æ­¥ãä¾å¦:</p>
<pre><code class="language-php">// Pseudocode: Add item to cart
if (!isset($_SESSION['cart'])) {
    $_SESSION['cart'] = array();
}
array_push($_SESSION['cart'], $item);
</code></pre>
<p>è¿ç§ç»æåæ¹æ³å°ç¼ç è½¬åä¸ºè§£å³é®é¢,èä¸ä»ä»æ¯éæåä»£ç ã</p>
<h2 id="è½¬å-2ä»å¤å¶ç²è´´ç¼ç å°çè§£å¹¶ææ§ä½ çä»£ç ">è½¬å 2:ä»"å¤å¶ç²è´´ç¼ç "å°"çè§£å¹¶ææ§ä½ çä»£ç "</h2>
<p>å«åå·æå¤å¶ç²è´´äº(æä»¬é½ç»åè¿)</p>
<p>è¿å¾è¯±äºº,å¯¹å§?å¨ Stack Overflow ä¸æ¾å°å¿«éè§£å³æ¹æ¡,å¤å¶ç²è´´ä»£ç ,ç¶åæ¶å·¥ãä½ç°å®æ¯:è¿å¨ç­æåå¯è½ææ,ä½ä»é¿è¿æ¥çæ¯ç¾é¾ãå¦æä½ ä¸çè§£æ­£å¨ä½¿ç¨çä»£ç ,å°±ä¼éå°æ æ³ä¿®å¤çé®é¢ââæ´ç³çæ¯,ä½ ä¼éè¿å­¦ä¹ å¦ä½ç¼åçæ­£éåä½ çä»£ç çæºä¼ã</p>
<p><strong>ææ¯å®è·µ:éè¯»ææ¡£å¹¶å¨æ¬å°æµè¯</strong></p>
<p>ä¸è¦ç´æ¥å¤å¶ç²è´´,èæ¯åéè¯»ææ¡£ãè¿å¯¹çè§£å½æ°ååºçå·¥ä½åçè³å³éè¦ãä¸æ¦ææ¡äºæ¦å¿µ,å°±å¨éç¦»ç¯å¢ä¸­æµè¯å®(ä½¿ç¨ PHP FPM æ Xdebug ç­å·¥å·)æ¥è§å¯å®çè¡ä¸ºã</p>
<p>ç¤ºä¾:<br>
å¨ä½¿ç¨ç¬¬ä¸æ¹ API ä¹å,å½»åºéè¯»å¶ææ¡£ãå°è¯ç®åç curl è¯·æ±æ¥æ¥çæ°æ®æ ¼å¼ä»¥å PHP å¦ä½å¤çå®ãä¸è¦åªä¾èµæç¨ââèªå·±å¨æè¯è¯ãä»¥ä¸æ¯å¨ PHP ä¸­å API åèµ·è¯·æ±çå¿«éç¤ºä¾:</p>
<pre><code class="language-php">// Example: Using cURL to send a GET request
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, "https://api.example.com/data");
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
$response = curl_exec($ch);
curl_close($ch);
$data = json_decode($response, true);
print_r($data);
</code></pre>
<p>ç°å¨,ä½ çè§£äºè¯·æ±è¿ç¨ä»¥å API å¦ä½ååºã</p>
<h2 id="è½¬å-3ä»ç¬ç«å¼åå°å¢éåä½">è½¬å 3:ä»"ç¬ç«å¼å"å°"å¢éåä½"</h2>
<p>ä½ ä¸æ¯ä¸ä¸ªäººå¨ææ</p>
<p>æ¯ç,ç¬èªå®æå°é¡¹ç®ä¸å¼å§æè§å¾å¥½ãä½ä¸æ¦è¿å¥ä¸ä¸é¢å,ç¼ç å°±åæäºå¢éè¿å¨ãä½ä¸º PHP å¼åè,ä½ ç»å¸¸ä¼ä¸åç«¯å¼åèãæ°æ®åºç®¡çåãè®¾è®¡å¸,ææ¶çè³æ¯é¡¹ç®ç»çä¸èµ·å·¥ä½ãä½ ä¸åæ¯ä¸æ¯åäººåéââä½ æ¯æ´å¤§å¾æ¯çä¸é¨åã</p>
<p><strong>ææ¯å®è·µ:è®¤çä½¿ç¨çæ¬æ§å¶(Git)</strong></p>
<p>åä½æå³çå±äº«ä»£ç åè·è¸ªåæ´ãè¿å°±æ¯çæ¬æ§å¶çç¨æ­¦ä¹å°ãå­¦ä¹  Git å¹¶ä½¿ç¨ GitHub æ GitLab ç­å¹³å°å°ä½¿ä½ çä»£ç åä½é¡ºçé«æãä½¿ç¨ Git,ä½ å¯ä»¥è·è¸ªåæ´ãåéå°ä»¥åççæ¬,å¹¶åå¹¶å¤ä¸ªå¼åèçä»£ç èä¸ä¼æ··ä¹±ã</p>
<p>ç¤ºä¾:</p>
<pre><code class="language-bash"># Initialize a new Git repository
git init
# Add files to the staging area
git add .
# Commit changes with a message
git commit -m "Initial commit"
# Push changes to a remote repository
git push origin main
</code></pre>
<p>Git ä¸ä»éç¨äºå¤§åå¢éââå®å¯¹ä¸ªäººé¡¹ç®ä¹è³å³éè¦,å ä¸ºå®è½å¸®ä½ ææç®¡çåæ´ãä¸ä»äººåä½æ¶,æåè¯·æ±åä»£ç å®¡æ¥å¯¹äºç»´æ¤é«è´¨éä»£ç è³å³éè¦ã</p>
<h2 id="è½¬å-4ä»è¿½éæµè¡æ¡æ¶å°ææ¡åºç¡">è½¬å 4:ä»"è¿½éæµè¡æ¡æ¶"å°"ææ¡åºç¡"</h2>
<p>æ¡æ¶å¾æè¶£,ä½åºç¡ææ¯æ°¸æç</p>
<p>LaravelãSymfony å CodeIgniter ç­ PHP æ¡æ¶å¾æ£,ä½é®é¢æ¯:å¨æ·±å¥ç ç©¶ä»»ä½æ¡æ¶ä¹å,ä½ éè¦å¯¹ PHP æ¬èº«ææå®ççè§£ãå¨ä¸çè§£åºç¡çæåµä¸ç´æ¥è·³å¥æ¡æ¶,å°±åå¨å­¦ä¼èµ°è·¯ä¹åå°±æ³è·æ­¥ã</p>
<p><strong>ææ¯å®è·µ:ä»é¶å¼å§æå»ºé¡¹ç®</strong></p>
<p>å¨æ·±å¥ç ç©¶ Laravel ç­æ¡æ¶ä¹å,è±æ¶é´ä½¿ç¨çº¯ PHP ä»é¶å¼å§æå»ºä¸ä¸ªç®åé¡¹ç®ãä¾å¦,æå»ºä¸ä¸ªç®åç CRUD(åå»ºãè¯»åãæ´æ°ãå é¤)åºç¨,èä¸ä¾èµä»»ä½æ¡æ¶ãè¿å°å·©åºä½ å¯¹ä»¥ä¸åå®¹ççè§£:</p>
<ul>
<li>è·¯ç±</li>
<li>æ°æ®åºäº¤äº</li>
<li>ä¼è¯å¤ç</li>
<li>ç¨æ·è®¤è¯</li>
</ul>
<p>ç¤ºä¾:<br>
ä»¥ä¸æ¯å¦ä½ä½¿ç¨ PHP å MySQL è®¾ç½®åºæ¬ CRUD åºç¨:</p>
<ol>
<li>åå»ºæ°æ®åºè¡¨:</li>
</ol>
<pre><code class="language-sql">CREATE TABLE users (
  id INT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(100),
  email VARCHAR(100)
);
</code></pre>
<ol start="2">
<li>ä½¿ç¨ PHP æå¥æ°æ®:</li>
</ol>
<pre><code class="language-php">// Establish a connection
$conn = new mysqli("localhost", "username", "password", "database");
// Check for connection error
if ($conn-&gt;connect_error) {
    die("Connection failed: " . $conn-&gt;connect_error);
}
// Insert data
$sql = "INSERT INTO users (name, email) VALUES ('John Doe', 'john@example.com')";
if ($conn-&gt;query($sql) === TRUE) {
    echo "New record created successfully";
} else {
    echo "Error: " . $sql . "&lt;br&gt;" . $conn-&gt;error;
}
$conn-&gt;close();
</code></pre>
<p>å¨ä¸ä½¿ç¨æ¡æ¶çæåµä¸æå»ºé¡¹ç®å°è®©ä½ æ·±å¥çè§£åºå±å·¥ä½åç,è¿ä¼è®©ä½ å¨ä¹åä½¿ç¨ Laravel ç­æ¡æ¶æ¶æè§è½»æ¾è®¸å¤ã</p>
<h2 id="è½¬å-5ä»ä¸æ¬¡æ§å­¦ä¹ å°æç»­å­¦ä¹ ">è½¬å 5:ä»"ä¸æ¬¡æ§å­¦ä¹ "å°"æç»­å­¦ä¹ "</h2>
<p>å­¦ä¹ æ°¸æ æ­¢å¢</p>
<p>å¦æä½ è®¤ä¸ºå­¦å® PHP åå ä¸ªæ¡æ¶å°±"å®æ"äº,é£å°±åæ³æ³ãææ¯ä¸çåå±è¿é,ä½ä¸ºä¸ä¸å¼åè,ä½ éè¦è·ä¸æ­¥ä¼ãä¼ç§ç PHP å¼åèä¸ä»ä»æ¯ç¥éå¦ä½åä»£ç çäºº;èæ¯ä¸æ­è¿åãéåºå¹¶ä¿æå¥½å¥å¿çäººã</p>
<p><strong>ææ¯å®è·µ:å³æ³¨ PHP åæ´æ¥å¿ååå®¢</strong></p>
<p>åæ¶äºè§£ PHP çæ¬åæä½³å®è·µãè®¢éåå®¢,å³æ³¨ PHP ç¸å³æ°é»,å¹¶éè¯»æ¯ä¸ªæ°çæ¬åå¸çå®æ¹ PHP åæ´æ¥å¿ãäºè§£ PHP 8 ä¸­çæ°ç¹æ§(å¦ JIT åå±æ§)å°ä½¿ä½ çä»£ç ä¿æç°ä»£åé«æã</p>
<p>ç¤ºä¾:<br>
å¨ PHP 8 ä¸­,match è¡¨è¾¾å¼å¯ä»¥æä¸º switch-case çæ´ç®æ´æ¿ä»£æ¹æ¡ãå¦æä½ è¿æ²¡è¯è¿,ç°å¨å°±è¯è¯!</p>
<pre><code class="language-php">$fruit = 'apple';
echo match($fruit) {
    'apple' =&gt; 'It's an apple!',
    'banana' =&gt; 'It's a banana!',
    default =&gt; 'Unknown fruit',
};
</code></pre>
<p>è¿ç§æ°è¯­æ³æ´ç´§å,æ¶é¤äºå¤ä¸ª case è¯­å¥çéè¦ã</p>
<h2 id="è½¬å-6ä»å¿«éä¿®å¤å°é¿æè§£å³æ¹æ¡">è½¬å 6:ä»"å¿«éä¿®å¤"å°"é¿æè§£å³æ¹æ¡"</h2>
<p>ååºä½ ä¼å¼ä»¥ä¸ºè±ªçä»£ç (èä¸ä»ä»æ¯è½ç¨çä»£ç )</p>
<p>æä»¬é½ç»åè¿ãç´§è¿«çæªæ­¢æ¥æãåå,ä»¥åéä¾¿æ¼åç¹ä¸è¥¿çè¯±æãä½é®é¢æ¯:ç¼åå¿«éèç²ç³çä»£ç ç°å¨å¯è½å®æå·¥ä½,ä½ä»¥åä¼åå¬ä½ ãç³ç³çä»£ç ä¼å¯¼è´ bugãæ§è½é®é¢åå·¨å¤§çéº»ç¦ã</p>
<p><strong>ææ¯å®è·µ:ç¼åå¯æµè¯ãå¯æ©å±çä»£ç </strong></p>
<p>ç¡®ä¿ä»£ç ä¿ææ´æ´åå¯æ©å±çä¸ç§æ¹æ³æ¯ç¼åæµè¯ãä½¿ç¨ PHPUnit è¿è¡ååæµè¯æ¥éªè¯ä»£ç çæ¯ä¸ªé¨åæ¯å¦æé¢æå·¥ä½ã</p>
<p>ç¤ºä¾:<br>
ä»¥ä¸æ¯ä¸ä¸ªç®åç PHPUnit æµè¯,ç¨äºæµè¯è®¡ç®è´­ç©è½¦ä¸­ååæ»ä»·çæ¹æ³:</p>
<pre><code class="language-php">use PHPUnit\Framework\TestCase;
class ShoppingCartTest extends TestCase
{
    public function testTotalPrice()
    {
        $cart = new ShoppingCart();
        $cart-&gt;addItem('Apple', 1.50);
        $cart-&gt;addItem('Banana', 1.00);
        
        $this-&gt;assertEquals(2.50, $cart-&gt;getTotalPrice());
    }
}
</code></pre>
<p>ååæµè¯æå©äºå°½æ©åç° bug,å¹¶ç¡®ä¿å¨æ·»å æ°åè½æ¶,ç°æåè½ä¸ä¼åºé®é¢ã</p>
<h2 id="ç»è¯­è½¬åæç»´è®©ä½ ç-php-èä¸çæ¶¯è¾é£">ç»è¯­:è½¬åæç»´,è®©ä½ ç PHP èä¸çæ¶¯è¾é£</h2>
<p>æä¸º PHP ä¸ä¸äººå£«è¿ä¸æ­¢äºåä»£ç ââè¿å³ä¹åé®é¢è§£å³èä¸æ ·æèãæ·±å¥çè§£ä½ çå·¥å·ãä¸ä»äººåä½,ä»¥åè´åäºæç»­æé¿ãå¦æä½ ä»å¤©å¼å§è¿è¡è¿äºæç»´è½¬å,ä½ å°é¡ºå©æä¸ºä¸åæ¢æç PHP å¼åèã</p>
<p>æä»¥,ä¸æ¬¡åä¸æ¥ç¼ç æ¶,è®°ä½:è¿ä¸ä»ä»æ¯å®æå·¥ä½ââèæ¯ä»¥æ­£ç¡®çæ¹å¼ãä¸ä¸çæ¹å¼å»åãç¥ç¼ç æå¿«!</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.0020833333333333333" data-date-updated="2025-12-27 08:17">2025-12-27 08:14</span>&nbsp;
<a href="https://www.cnblogs.com/catchadmin">JaguarJack</a>&nbsp;
éè¯»(<span id="post_view_count">9</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19407447);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19407447', targetLink: 'https://www.cnblogs.com/catchadmin/p/19407447', title: 'æä¸ºé«çº§ PHP å¼åèéè¦çæç»´è½¬å' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ä¸æ¬¾ç±å­èè·³å¨æ¨åºç AI æç¤ºè¯çæåä¼åå·¥å·ï¼ä¸ºä½ æä¾æ´ç²¾åï¼ä¸ä¸ï¼å¯æç»­è¿­ä»£æç¤ºè¯ï¼ ]]></title>
    <link>https://www.cnblogs.com/Can-daydayup/p/19406862</link>
    <guid>786838dc055f034884f50ba768600dd0</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/Can-daydayup/p/19406862" title="åå¸äº 2025-12-26 23:11">
    <span role="heading" aria-level="2">ä¸æ¬¾ç±å­èè·³å¨æ¨åºç AI æç¤ºè¯çæåä¼åå·¥å·ï¼ä¸ºä½ æä¾æ´ç²¾åï¼ä¸ä¸ï¼å¯æç»­è¿­ä»£æç¤ºè¯ï¼</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<h2 data-tool="mdniceç¼è¾å¨"><span>åè¨</span></h2>
<p data-tool="mdniceç¼è¾å¨"><span>å¨AIææ¯è¿çåå±çå½ä¸ï¼é«æä¸ç²¾åçæç¤ºè¯æä¸ºä¸AIæ¨¡åææäº¤äºçå³é®ãä»å¤©å¤§å§ç»å¤§å®¶åäº«ä¸æ¬¾ç±å­èè·³å¨æ¨åºç AI æç¤ºè¯çæåä¼åå·¥å·ï¼ä¸ºä½ æä¾æ´ç²¾åï¼ä¸ä¸ï¼å¯æç»­è¿­ä»£æç¤ºè¯ï¼</span></p>
<p><img src="https://img2024.cnblogs.com/blog/1336199/202512/1336199-20251226230859325-1349637768.png" alt="image" loading="lazy"></p>
<h2 data-tool="mdniceç¼è¾å¨"><span>å·¥å·ä»ç»</span></h2>
<p data-tool="mdniceç¼è¾å¨"><span>PromptPilot æ¯ç±å­èè·³å¨æ¨åºçä¸æ¬¾ä¸æ³¨äº AI æç¤ºè¯ä¼åä¸æç¤ºè¯çæçå®ç¨å·¥å·ãè¯¥å·¥å·æ¨å¨å¸®å©ç¨æ·æ´é«æå°çæåä¼å AI æç¤ºè¯ï¼æåä¸ AI æ¨¡åçäº¤äºæçåè´¨éãéè¿ PromptPilotï¼ç¨æ·å¯ä»¥è½»æ¾å°åå»ºãè°è¯åç®¡çæç¤ºè¯ï¼ä»¥æ»¡è¶³å¤æ ·åçåºç¨åºæ¯éæ±ã</span></p>
<ul class="list-paddingleft-1">
<li><strong><span>å¨çº¿è®¿é®å°åï¼<span class="wx_text_underline">https://promptpilot.volcengine.com</span></span></strong></li>
</ul>
<p><img src="https://img2024.cnblogs.com/blog/1336199/202512/1336199-20251226230911909-2106687661.png" alt="image" loading="lazy"></p>
<h2 data-tool="mdniceç¼è¾å¨"><span>åºç¨åºæ¯</span></h2>
<ul class="list-paddingleft-1">
<li><strong>åå®¹åä½</strong><span>ï¼å¨èªåªä½ãå¹¿åãè¥éç­é¢åï¼PromptPilot å¯å¸®å©åä½èå¿«éçæå¸å¼äººçææ¡æç¤ºè¯ï¼æååå®¹è´¨éåå¸å¼åã</span></li>
<li><strong>æ°æ®åæ</strong><span>ï¼å¨æ°æ®åæåºæ¯ä¸­ï¼PromptPilot å¯è¾å©åæå¸çæç²¾åçæ¥è¯¢æç¤ºè¯ï¼æé«æ°æ®æ£ç´¢ååææçã</span></li>
<li><strong>å®¢æ·æå¡</strong><span>ï¼å¨å®¢æ·æå¡é¢åï¼PromptPilot å¯ç¨äºçæèªå¨ååå¤çæç¤ºè¯ï¼æåå®¢æ·ååºéåº¦åæ»¡æåº¦ã</span></li>
<li><strong>æè²è¡ä¸</strong><span>ï¼æå¸åå­¦çå¯å©ç¨ PromptPilot çææå­¦åå­¦ä¹ ç¸å³çæç¤ºè¯ï¼ä¿è¿ç¥è¯çææä¼ éåå­¦ä¹ ææçæåã</span></li>
</ul>
<h2 data-tool="mdniceç¼è¾å¨"><span>æç¤ºè¯çæ</span></h2>
<h3 data-tool="mdniceç¼è¾å¨"><span>ä»»å¡æè¿°ï¼</span></h3>
<pre data-tool="mdniceç¼è¾å¨"><span data-cacheurl="" data-remoteid="" data-lazy-bgimg="https://mmbiz.qpic.cn/mmbiz_svg/9M0PhLTmTIeLmnQLStMsiaPjDhdHyic2puibLWicEN1ayLPAiaJCD1cPS0kNT55lIP2QAtlOqdXic0zRsuaUSBfCv7cCz1iaBaeaJaJ/640?wx_fmt=svg&amp;from=appmsg" data-src="https://mmbiz.qpic.cn/mmbiz_svg/9M0PhLTmTIeLmnQLStMsiaPjDhdHyic2puibLWicEN1ayLPAiaJCD1cPS0kNT55lIP2QAtlOqdXic0zRsuaUSBfCv7cCz1iaBaeaJaJ/640?wx_fmt=svg&amp;from=appmsg#imgIndex=3" data-fail="0"><code><span>ç»æåä¸ä¸ªä¼ä¸ä¼ç§åå·¥è·å¥æè¨ã<br></span></code></span></pre>
<h3 data-tool="mdniceç¼è¾å¨"><span>çæåç Promptï¼</span></h3>
<p><img src="https://img2024.cnblogs.com/blog/1336199/202512/1336199-20251226230930602-605100114.png" alt="image" loading="lazy"></p>
<p>&nbsp;</p>
<pre data-tool="mdniceç¼è¾å¨"><span data-cacheurl="" data-remoteid="" data-lazy-bgimg="https://mmbiz.qpic.cn/mmbiz_svg/9M0PhLTmTIeLmnQLStMsiaPjDhdHyic2puibLWicEN1ayLPAiaJCD1cPS0kNT55lIP2QAtlOqdXic0zRsuaUSBfCv7cCz1iaBaeaJaJ/640?wx_fmt=svg&amp;from=appmsg" data-fail="0"><code># è·å¥æè¨åä½æå<br><br>## ä¸ãèº«ä»½è®¾å®<br><span>ä½ æ¯ä¼ä¸è¡æ¿é¨é¨çèµæ·±ææ¡ä¸åï¼è´è´£ä¸ºè·å¥åå·¥æ°åç¬¦åå¬å¸æåçæ­£å¼è·å¥æè¨ãæ ¸å¿èè´£æ¯ï¼ç»ååå·¥å²ä½ç¹æ§ä¸è´¡ç®äº®ç¹ï¼æé ææçæãé»è¾æ¸æ°ãè´´ååºæ¯çåè¨åå®¹ï¼å¸®å©åå·¥å¨é¢å¥ä»ªå¼ä¸å±ç°ä¸ä¸å½¢è±¡ä¸å¢éç²¾ç¥ã<br><br>## äºãåä½åå<br>### å¿åäºé¡¹<br><span>1. å¿é¡»åå«è·å¥åå·¥å§åãæè·å¥é¡¹å¨ç§°ãå¬å¸åç§°<br><span>2. å¿é¡»çªåºåå·¥å²ä½æ ¸å¿èè´£ä¸å³é®è´¡ç®æ°æ®<br><span>3. å¿é¡»ä½ç°å¯¹å¬å¸ãå¢éãå®¶äººçæè°¢å±æ¬¡<br><span>4. å¿é¡»åå«å¯¹æªæ¥å·¥ä½çæ¿è¯ºä¸å±æ<br><br>### çº¦ææ¡ä»¶<br><span>1. ç¦æ­¢ä½¿ç¨å¤¸å¼ ä¸å®çè¡¨è¿°ï¼ææè´¡ç®éåºäºæä¾çäºå®<br><span>2. ç¦æ­¢åºç°ææè¯æ±æä¸å½è¡¨è¿°<br><span>3. ç¦æ­¢éæ¼æå®çæè°¢å¯¹è±¡<br><span>4. ç¦æ­¢è¶è¿è§å®å­æ°éå¶<br><br>## ä¸ãåéè¯´æ<br><span>&lt;åå·¥å§å&gt;{{EMPLOYEE_NAME}}&lt;/åå·¥å§å&gt; - è·å¥åå·¥çå®æ´å§å<br><span>&lt;å¥é¡¹ç±»å&gt;{{AWARD_TYPE}}&lt;/å¥é¡¹ç±»å&gt; - å·ä½è·å¥åç§°ï¼å¦ï¼å¹´åº¦ä¼ç§åå·¥ãå­£åº¦åæ°ä¹æï¼<br><span>&lt;å¬å¸åç§°&gt;{{COMPANY_NAME}}&lt;/å¬å¸åç§°&gt; - åå·¥æå¨ä¼ä¸å¨ç§°<br><span>&lt;å·¥ä½èè´£&gt;{{WORK_DUTIES}}&lt;/å·¥ä½èè´£&gt; - åå·¥æ¥å¸¸å·¥ä½åå®¹æ¦è¿°<br><span>&lt;æ ¸å¿è´¡ç®&gt;{{KEY_CONTRIBUTIONS}}&lt;/æ ¸å¿è´¡ç®&gt; - åå·¥è·å¥çå³é®ä¸ç»©æçªåºè¡¨ç°<br><span>&lt;æè°¢å¯¹è±¡&gt;{{THANKS_OBJECTS}}&lt;/æè°¢å¯¹è±¡&gt; - éè¦ç¹å«è´è°¢çä¸ªäººæå¢é<br><br>## åãåä½æµç¨<br>### ç¬¬ä¸æ­¥ï¼åå®¹æ¶ææ­å»º<br><span>1. å¼åºé®åï¼ç¤¼è²æ§ç§°å¼å¨åºäººå<br><span>2. è·å¥è´è°¢ï¼è¡¨è¾¾è·å¥çè£å¹¸ä¸æ¿å¨å¿æ<br><span>3. å·¥ä½åé¡¾ï¼ç®è¿°å²ä½ä»·å¼ä¸æ ¸å¿è´¡ç®<br><span>4. ææ©ç¯èï¼åå±æ¬¡æè°¢å¬å¸ãå¢éãå®¶äºº<br><span>5. æªæ¥å±æï¼æ¿è¯ºæªæ¥å·¥ä½æ¹åä¸ç®æ <br><br>### ç¬¬äºæ­¥ï¼ç»èå¡«å<br><span>1. å° &lt;åå·¥å§å&gt;{{EMPLOYEE_NAME}}&lt;/åå·¥å§å&gt; èªç¶èå¥å¼åºä¸è½æ¬¾<br><span>2. åç¡®å¼ç¨ &lt;å¥é¡¹ç±»å&gt;{{AWARD_TYPE}}&lt;/å¥é¡¹ç±»å&gt; å¨ç§°<br><span>3. ç»å &lt;å·¥ä½èè´£&gt;{{WORK_DUTIES}}&lt;/å·¥ä½èè´£&gt; è¯´æå²ä½ä»·å¼<br><span>4. ç¨æ°æ®åè¯­è¨åç° &lt;æ ¸å¿è´¡ç®&gt;{{KEY_CONTRIBUTIONS}}&lt;/æ ¸å¿è´¡ç®&gt;<br><span>5. æéè¦æ§æåºæå &lt;æè°¢å¯¹è±¡&gt;{{THANKS_OBJECTS}}&lt;/æè°¢å¯¹è±¡&gt;<br><br>### ç¬¬ä¸æ­¥ï¼é£æ ¼æ¶¦è²<br><span>1. è¯­è¨é£æ ¼ï¼æ­£å¼ä¸­å¸¦ææ¸©åº¦ï¼é¿åè¿äºå£è¯­å<br><span>2. ææè¡¨è¾¾ï¼æ§å¶æç»ªå°ºåº¦ï¼ä¿æä¸ä¸å¾ä½<br><span>3. æ¶é´æ§å¶ï¼æ3åéåè¨é¿åº¦è°æ´åå®¹è¯¦ç¥ï¼çº¦500-600å­ï¼<br><br>## äºãè¾åºè§è<br>### åå®¹ç»æ<br><span>1. æ é¢ï¼[å¥é¡¹åç§°]è·å¥æè¨<br><span>2. ç§°å¼ï¼å°æ¬çåä½é¢å¯¼ãäº²ç±çåäºä»¬ï¼<br><span>3. æ­£æï¼æåä½æµç¨é¡ºåºå±å¼<br><span>4. è½æ¬¾ï¼[åå·¥å§å] [æ¥æ]<br><br>### æ ¼å¼è¦æ±<br><span>1. ä½¿ç¨æ åå®ä½åå·å­ï¼1.5åè¡è·<br><span>2. å³é®è´¡ç®é¨åå ç²æ¾ç¤º<br><span>3. æè°¢å¯¹è±¡åç¬åæ®µ<br><span>4. ç»å°¾é¨åéåå«å¯¹å¬å¸æªæ¥çç¾å¥½ç¥æ¿<br><br>### è´¨éæ å<br><span>1. ç¬¦åå¬å¸æåä»·å¼è§<br><span>2. çªåºä¸ªäººè´¡ç®åæ¶ä½ç°å¢éç²¾ç¥<br><span>3. é¿åç©ºè¯å¥è¯ï¼ç¨å·ä½äºä¾æ¯æ<br><span>4. è¯­è¨æµçï¼é»è¾æ¸æ°ï¼ææçæ<br><br>## å­ãåä½ç¤ºä¾<br><span>ï¼æ­¤å¤çç¥ç¤ºä¾åå®¹ï¼å®éåä½æ¶éæ ¹æ®åéå¡«åï¼<br><br><span>è¯·ä¸¥æ ¼æç§ä»¥ä¸è¦æ±ï¼ç»åæä¾çåéä¿¡æ¯ï¼åä½ä¸ç¯å®æ´çè·å¥æè¨ã<br><br></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></span></pre>
<h2 data-tool="mdniceç¼è¾å¨"><span>è°è¯ Prompt</span></h2>
<h3 data-tool="mdniceç¼è¾å¨"><span>ææ¬çè§£</span></h3>
<p><img src="https://img2024.cnblogs.com/blog/1336199/202512/1336199-20251226230958750-1911894887.png" alt="image" loading="lazy"></p>
<h3 data-tool="mdniceç¼è¾å¨"><span>è§è§çè§£</span></h3>
<p><img src="https://img2024.cnblogs.com/blog/1336199/202512/1336199-20251226231016417-194421412.png" alt="image" loading="lazy"></p>
<h3 data-tool="mdniceç¼è¾å¨"><span>å¤è½®å¯¹è¯</span></h3>
<p><img src="https://img2024.cnblogs.com/blog/1336199/202512/1336199-20251226231026956-1766318256.png" alt="image" loading="lazy"></p>
<h2 data-tool="mdniceç¼è¾å¨"><span>ä¼å Prompt</span></h2>
<p><img src="https://img2024.cnblogs.com/blog/1336199/202512/1336199-20251226231045050-1953776592.png" alt="image" loading="lazy"></p>
<p><img src="https://img2024.cnblogs.com/blog/1336199/202512/1336199-20251226231052086-1099494036.png" alt="image" loading="lazy"></p>
</div>
<div id="MySignature" role="contentinfo">
    <blockquote>
<p style="font-family:YouYuan;font-size: 16px;margin: 0 auto 0.01em auto;"><span style="font-size: 17px; ">ä½èåç§°ï¼</span><a href="https://www.cnblogs.com/Can-daydayup/" target="_blank">è¿½éæ¶åè</a></p>
<p style="font-family:YouYuan;font-size: 16px;margin: 0 auto 0.01em auto;"><span style="font-size: 17px; ">ä½èç®ä»ï¼</span>ä¸ä¸ªç­ç±ç¼ç¨ãåäºåäº«ãåæ¬¢å­¦ä¹ ãæ¢ç´¢ãå°è¯æ°äºç©åæ°ææ¯çå¨æ è½¯ä»¶å·¥ç¨å¸ã</p>
<p style="font-family:YouYuan;font-size: 16px;margin: 0 auto 0.01em auto;">
æ¬æçæå½ä½èååå®¢å­å±æï¼æ¬¢è¿è½¬è½½ï¼ä½æªç»ä½èåæå¿é¡»ä¿çæ­¤æ®µå£°æï¼ä¸å¨æç« é¡µé¢ææ¾ä½ç½®ç»åºåæé¾æ¥ï¼å¦åä¿çè¿½ç©¶æ³å¾è´£ä»»çæå©ãå¦æè¯¥ç¯æç« å¯¹æ¨æå¸®å©çè¯ï¼å¯ä»¥ç¹ä¸ä¸å³ä¸è§ç<a onclick="votePost(cb_entryId,'Digg')" href="javascript:void(0)" style="color:red;">ãâ¥æ¨èâ¥ã</a>ï¼å¸æè½å¤æç»­çä¸ºå¤§å®¶å¸¦æ¥å¥½çææ¯æç« ï¼æä¸­å¯è½å­å¨æè¿°ä¸æ­£ç¡®çå°æ¹ï¼æ¬¢è¿ææ­£æè¡¥åï¼ä¸èææ¿ã
</p>
</blockquote>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-12-26 23:12">2025-12-26 23:11</span>&nbsp;
<a href="https://www.cnblogs.com/Can-daydayup">è¿½éæ¶åè</a>&nbsp;
éè¯»(<span id="post_view_count">60</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19406862);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19406862', targetLink: 'https://www.cnblogs.com/Can-daydayup/p/19406862', title: 'ä¸æ¬¾ç±å­èè·³å¨æ¨åºç AI æç¤ºè¯çæåä¼åå·¥å·ï¼ä¸ºä½ æä¾æ´ç²¾åï¼ä¸ä¸ï¼å¯æç»­è¿­ä»£æç¤ºè¯ï¼' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ go-zero rest æºç å­¦ä¹ ç¬è®° ]]></title>
    <link>https://www.cnblogs.com/xingzheanan/p/19404672</link>
    <guid>ba8de70b2ecc7d66a93bd3cc1704a8d8</guid>
    <description>
    <![CDATA[ 
		<h1 class="postTitle">
			<a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/xingzheanan/p/19404672" title="åå¸äº 2025-12-26 22:19">
    <span role="heading" aria-level="2">go-zero rest æºç å­¦ä¹ ç¬è®°</span>
    

</a>

		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<hr>
<h1 id="æ¦è¿°">æ¦è¿°</h1>
<p><code>go-zero</code> åºäº <code>net/http</code> æ ååºå®ç°äºä¸å¥ <code>rest</code> web æ¡æ¶ãå¨ä½¿ç¨ <code>goctl</code> å¿«éå¼åçåæ¶ï¼ä¹éè¦äºè§£ <code>go-zero</code> åé¨åäºä»ä¹ãæ¬æç»å <a href="https://zeromicro.github.io/go-zero.dev/docs/component/rest" target="_blank" rel="noopener nofollow">go-zero rest</a>å­¦ä¹ å¶ä¸­çæºç ï¼åå¾åå°ç¥å¶æä»¥ç¶ã</p>
<h1 id="æºç ">æºç </h1>
<h2 id="æµç¨å¾">æµç¨å¾</h2>
<p><img alt="image" width="640" height="650" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1498760/202512/1498760-20251226221705436-349608438.png" class="lazyload"></p>
<p>å¨éè¯»æºç ä¹åï¼åçä¸æµç¨å¾æä¸ªå°è±¡ãä»æµç¨å¾å¤§è´å¯ä»¥çåºæ¥ï¼</p>
<ul>
<li>go-zero ä¼åå»ºè·¯ç±ç»ï¼å¶ä¸­æé¡ºåºæ³¨åäºå ç±» handlerï¼ä¸­é´ä»¶ï¼ï¼æåå¨ business handler å¤çä¸å¡é»è¾ã</li>
</ul>
<p>å¤§è´æä¸ªå°è±¡åå¼å§æºç èµ°è¯»ã</p>
<h2 id="æºç èµ°è¯»">æºç èµ°è¯»</h2>
<p>å¯å¨ api æå¡ï¼</p>
<pre><code class="language-go">func main() {  
    ...
    server := rest.MustNewServer(c.RestConf)  
    defer server.Stop()  
  
    ctx := svc.NewServiceContext(c)  
    handler.RegisterHandlers(server, ctx)  
  
    fmt.Printf("Starting server at %s:%d...\n", c.Host, c.Port)  
    server.Start()  
}
</code></pre>
<p>å¯å¨æå¡ä¸»è¦åäºä¸ä»¶äºï¼</p>
<ul>
<li>åå»ºæå¡ç«¯ server</li>
<li>æ³¨å handler å° server</li>
<li>å¯å¨æå¡ç«¯ server</li>
</ul>
<p>æé¡ºåºä»ç»ã</p>
<h3 id="åå»ºæå¡ç«¯-server">åå»ºæå¡ç«¯ server</h3>
<pre><code class="language-go">func MustNewServer(c RestConf, opts ...RunOption) *Server {  
    // NewServer åå»º server
    server, err := NewServer(c, opts...)  
    if err != nil {  
       logx.Must(err)  
    }  
  
    return server  
}

func NewServer(c RestConf, opts ...RunOption) (*Server, error) {
	// c.SetUp å¯å¨ Prometheusï¼tracing, profiling ç­æå¡
    if err := c.SetUp(); err != nil {  
       return nil, err  
    }  
  
    server := &amp;Server{  
       ngin:   newEngine(c),  
       router: router.NewRouter(),  
    }  
  
    ...
    return server, nil  
}
</code></pre>
<p>åå»º server å®éåå»ºçæ¯ server ç engine å routerã</p>
<p>engine ä¸»è¦ç»æå¦ä¸ï¼</p>
<pre><code class="language-go">type engine struct {  
    // server çéç½®
    conf   RestConf  
    routes []featuredRoutes  // ä¸å¡è·¯ç±
    // è°ç¨é¾
    chain                chain.Chain 
    // ä¸­é´ä»¶ 
    middlewares          []Middleware  
    ...
}

func newEngine(c RestConf) *engine {  
    svr := &amp;engine{  
       conf:    c,  
       timeout: time.Duration(c.Timeout) * time.Millisecond,  
    }
    ...
}
</code></pre>
<p>router ç»æå¦ä¸ï¼</p>
<pre><code class="language-go">func NewRouter() httpx.Router {  
    return &amp;patRouter{  
       trees: make(map[string]*search.Tree),  
    }  
}

type Router interface {  
    http.Handler  
    Handle(method, path string, handler http.Handler) error  
    SetNotFoundHandler(handler http.Handler)  
    SetNotAllowedHandler(handler http.Handler)  
}
</code></pre>
<p><code>patRouter</code> åå«è·¯ç±ä¿¡æ¯ï¼å¶å®ç°äº <code>Router</code> æ¥å£ã</p>
<p>åå»ºäº server åè¿éè¦æ³¨åè·¯ç± handler å° serverï¼è¿æ ·æå¡ç«¯æè½æ ¹æ®è·¯ç±æ¾å°å¯¹åºç handler å¤çã</p>
<h3 id="æ³¨åè·¯ç±-handler">æ³¨åè·¯ç± handler</h3>
<pre><code class="language-go">func RegisterHandlers(server *rest.Server, serverCtx *svc.ServiceContext) {  
    // server.AddRoutes æ³¨åè·¯ç± handler
    server.AddRoutes(  
       []rest.Route{  
          {  
             Method:  http.MethodGet,  
             Path:    "/ping",  
             Handler: pingHandler(serverCtx),  
          },  
       },  
    )
}

func (s *Server) AddRoutes(rs []Route, opts ...RouteOption) {  
    // èªå®ä¹çä¸å¡è·¯ç±å°è¢«å°è£å° featuredRoutes å¯¹è±¡
    r := featuredRoutes{  
       routes: rs,  
    }  
    for _, opt := range opts {  
       opt(&amp;r)  
    }  
    
    // å° featuredRoutes æ·»å å° Server.engine
    s.ngin.addRoutes(r)  
}

func (ng *engine) addRoutes(r featuredRoutes) {  
    ...
    // å®éæ¯å°è·¯ç±ç»æ·»å å° engine.routes ä¸­  
    ng.routes = append(ng.routes, r) 
}
</code></pre>
<p>ä¸å¡è·¯ç±æ³¨åå®ï¼æ¥ä¸æ¥å°è¿å¥å¯å¨ serverï¼è¿æ¯éè¦å³æ³¨çéç¹ã</p>
<h3 id="å¯å¨-server">å¯å¨ server</h3>
<pre><code class="language-go">func (s *Server) Start() {  
    // è°ç¨ Server.engine.start å¯å¨æå¡ç«¯ server
    handleError(s.ngin.start(s.router))  
}

func (ng *engine) start(router httpx.Router, opts ...StartOption) error {     // engine.bindRoutes ç»å®è·¯ç±å° router
    if err := ng.bindRoutes(router); err != nil {  
       return err  
    }  

    ...
    return internal.StartHttps(ng.conf.Host, ng.conf.Port, ng.conf.CertFile,  
       ng.conf.KeyFile, router, opts...)  
}

func (ng *engine) bindRoutes(router httpx.Router) error {  
    // engine.routes 
    for _, fr := range ng.routes {  
       // ç»å® rest.featuredRoutes 
       if err := ng.bindFeaturedRoutes(router, fr, metrics); err != nil { 
          return err  
       }  
    }  
  
    return nil  
}

func (ng *engine) bindFeaturedRoutes(router httpx.Router, fr featuredRoutes, metrics *stat.Metrics) error {  
    ...
    for _, route := range fr.routes {  
       if err := ng.bindRoute(fr, router, metrics, route, verifier); err != nil {  
          return err  
       }  
    }  
  
    return nil  
}

func (ng *engine) bindRoute(fr featuredRoutes, router httpx.Router, metrics *stat.Metrics,  
    route Route, verifier func(chain.Chain) chain.Chain) error {  
    // engine.chainï¼åå§åä¸º nil
    chn := ng.chain  
    if chn == nil {  
       // engine.buildChainWithNativeMiddlewares æ³¨åèªå¸¦ä¸­é´ä»¶å° engine.chain
       chn = ng.buildChainWithNativeMiddlewares(fr, route, metrics)  
    }  
  
    // æ·»å  AuthHandler å° engine.chain ä¸­
    chn = ng.appendAuthHandler(fr, chn, verifier)  
  
    // å°èªå®ä¹ä¸­é´ä»¶æ³¨åå° engine.chain
    for _, middleware := range ng.middlewares {  
       chn = chn.Append(convertMiddleware(middleware))  
    }  
    
    // engine.chain.ThenFunc å° handler ä¸²èæ handler
    handle := chn.ThenFunc(route.Handler)  
  
    return router.Handle(route.Method, route.Path, handle)  
}
</code></pre>
<p>å¯å¨ server çéç¹å¨ <code>engine.bindRoute</code>ã<br>
å¶ä¸­ï¼<code>engine.buildChainWithNativeMiddlewares</code> æ³¨å <code>go-zero</code> èªå¸¦ä¸­é´ä»¶ï¼</p>
<pre><code class="language-go">func (ng *engine) buildChainWithNativeMiddlewares(fr featuredRoutes, route Route,  
    metrics *stat.Metrics) chain.Chain {  
    chn := chain.New()
    ...
    // MaxConns ç¨äºå¹¶åæ§å¶
    if ng.conf.Middlewares.MaxConns {  
        chn = chn.Append(handler.MaxConnsHandler(ng.conf.MaxConns))  
    }  
    if ng.conf.Middlewares.Breaker {  
        chn = chn.Append(handler.BreakerHandler(route.Method, route.Path, metrics))  
    }
    ...
}
</code></pre>
<p>ç±»ä¼¼çï¼èªå®ä¹ä¸­é´ä»¶éè¿ <code>chn.Append(convertMiddleware(middleware))</code> æ³¨åå° <code>engine.chain</code> ä¸­ã</p>
<p>æ¥çè°ç¨ <code>chain.ThenFunc</code> ä¸²èä¸­é´ä»¶æ <code>handler</code>ï¼</p>
<pre><code class="language-go">func (c chain) ThenFunc(fn http.HandlerFunc) http.Handler {  
    ...
    return c.Then(fn)  
}

func (c chain) Then(h http.Handler) http.Handler {  
    if h == nil {  
       h = http.DefaultServeMux  
    }  
  
    // è¿æ®µä»£ç å¾æææï¼å®å°ææä¸­é´ä»¶æé¡ºåºä¸²èèµ·æ¥ç»æä¸ä¸ª handler
    // è°ç¨è¿ä¸ª handler å¤çæ¶ä¼ç»è¿åç»­ä¸ç³»åçä¸­é´ä»¶ï¼æç»å°ä¸å¡ handler å¤ç
    // å·ä½å¯åè https://github.com/zeromicro/go-zero/blob/master/rest/chain/chain.go#L81
    for i := range c.middlewares {  
       h = c.middlewares[len(c.middlewares)-1-i](h)  
    }  
  
    return h  
}
</code></pre>
<p>æåå°è¯¥ handler åè·¯ç±ä¿¡æ¯æ³¨åå° <code>router</code> ä¸­ï¼åç»­æå¡ç«¯æ ¹æ®è¯·æ±å¨ <code>router</code> ä¸­æ¥æ¾å¯¹åºç <code>handler</code> å¤çã</p>
<pre><code class="language-go">func (pr *patRouter) Handle(method, reqPath string, handler http.Handler) error {  
    ...
    
    tree, ok := pr.trees[method]  
    if ok {  
       return tree.Add(cleanPath, handler)  
    }  
  
    tree = search.NewTree()  
    pr.trees[method] = tree  
    return tree.Add(cleanPath, handler)  
}
</code></pre>
<p>è¯¦ç»æµç¨å¦ä¸å¾ï¼</p>
<p><img alt="image" width="661" height="570" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1498760/202512/1498760-20251226221741618-758878849.png" class="lazyload"></p>
<h1 id="å°ç»">å°ç»</h1>
<p>æ¬æä»ç»äº go-zero rest çæºç æ¯æä¹å¤çè¯·æ±çãä»æºç ä¹å¯ä»¥çåºæ¯ä¸ªè¯·æ±èåæ¯ä¸ç³»åä¸­é´ä»¶ handler å¨å¤çï¼å¹¶ä¸ server å¯å¨äº Prometheusï¼Trace ç­æå¡è´è´£çæ§ï¼é¾è·¯è¿½è¸ªç­ï¼ä½¿å¾å¼åå¾®æå¡æ¶åªéè¦å³æ³¨ä¸å¡é»è¾å³å¯ï¼éå¸¸æ¹ä¾¿ã</p>
<h1 id="åèèµæ">åèèµæ</h1>
<ul>
<li><a href="https://zeromicro.github.io/go-zero.dev/docs/component/rest" target="_blank" rel="noopener nofollow">go-zero rest</a></li>
<li><a href="https://refactoringguru.cn/design-patterns/chain-of-responsibility/go/example" target="_blank" rel="noopener nofollow">Go è´£ä»»é¾æ¨¡å¼</a></li>
</ul>
<hr>

</div>
<div id="MySignature" role="contentinfo">
    èå°çäºç©ºè°·ï¼ä¸ä»¥æ äººèä¸è³ã
</div>
<div class="clear"></div>

		</div>
		<div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-12-26 22:19">2025-12-26 22:19</span>&nbsp;
<a href="https://www.cnblogs.com/xingzheanan">è¡äºTroy</a>&nbsp;
éè¯»(<span id="post_view_count">27</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19404672);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19404672', targetLink: 'https://www.cnblogs.com/xingzheanan/p/19404672', title: 'go-zero rest æºç å­¦ä¹ ç¬è®°' })">ä¸¾æ¥</a>
</div>
	 ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ è¿å MCP éç¾¤åï¼Solon AI ï¼æ¯æ Java8+ï¼å¨è§£å³ MCP æå¡å¯æ©å±æ§ä¸çæ¢ç´¢ä¸å®è·µ ]]></title>
    <link>https://www.cnblogs.com/noear/p/19406655</link>
    <guid>c7638b7c639e9e6f5784bda5780cb3b3</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/noear/p/19406655" title="åå¸äº 2025-12-26 21:15">
    <span role="heading" aria-level="2">è¿å MCP éç¾¤åï¼Solon AI ï¼æ¯æ Java8+ï¼å¨è§£å³ MCP æå¡å¯æ©å±æ§ä¸çæ¢ç´¢ä¸å®è·µ</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        Solon AI v3.8æ¨åºSTREAMABLE_STATELESSééï¼è§£å³MCPæå¡éç¾¤åé¾é¢ãè¯¥æ ç¶æè®¾è®¡æ¾å¼ååè°ç¨åè½ï¼éç¨ç­é¾æ¥éè®¯ï¼å®ç°çæ­£çæ°´å¹³æ©å±è½åãåæ¶æ°å¢CompletableFutureåPublisherå¼æ­¥æ¯æï¼æåIOå¯éåä»»å¡å¤çæçã
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>éç Model Context Protocol (MCP) çå¿«éæ®åï¼å¼åèå·²ç»ä¸åæ»¡è¶³äºç®åçæ¬å° Stdio è¿ç¨éè®¯ãå¨çäº§ç¯å¢ä¸­ï¼å¦ä½æå»ºé«å¯ç¨ãå¯æ°´å¹³æ©å±ç MCP æå¡éç¾¤æä¸ºäºæ ¸å¿ææã</p>
<p>Solon AI å¨æè¿ç v3.8 çæ¬æ´æ°ä¸­ï¼éå¯¹ MCP æå¡éç¾¤åçç¹ï¼æ¨åºäºä¸ç³»åéç£ç¹æ§ï¼ç¹å«æ¯ STREAMABLE_STATELESSï¼æ ç¶ææµä¼ è¾ï¼ ééçå¼å¥ï¼ä¸º MCP è¿åäºåçéç¾¤æ¶ä»£éºå¹³äºéè·¯ã</p>
<h2 id="ä¸-mcp-éç¾¤åçæ¦è·¯èç¶æä¾èµ">ä¸ã MCP éç¾¤åçæ¦è·¯èï¼ç¶æä¾èµ</h2>
<p>ä¼ ç»ç MCP ä¼ è¾åè®®ï¼å¦ SSE ææ åç STREAMABLEï¼éå¸¸æ¯æç¶æçã</p>
<h3 id="1-ä¸ºä»ä¹æç¶æé¾ä»¥éç¾¤">1. ä¸ºä»ä¹âæç¶æâé¾ä»¥éç¾¤ï¼</h3>
<p>å¨ MCP åè®®ä¸­ï¼ä¸ºäºæ¯æååè°ç¨ï¼Server è°ç¨ Client çéæ ·è¯·æ± Samplingï¼æåè¯­åæ´éç¥ï¼Notificationsï¼ï¼Server å Client ä¹é´å¿é¡»å»ºç«é¿é¾æ¥ã</p>
<ul>
<li>è¿æ¥ç»å®ï¼Client çç­é¾æ¥è¯·æ±ï¼åéæä»¤ï¼å¿é¡»ä¸é¿é¾æ¥ï¼æ¥æ¶éç¥ï¼è·¯ç±å°åä¸å°æå¡å¨ã</li>
<li>è¿ç»´å¤æï¼å¨è´è½½åè¡¡å¨ï¼å¦ Nginxï¼ä¸ï¼å¿é¡»éç½® ip_hash æç²æ§ä¼è¯ï¼Sticky Sessionsï¼ï¼å¦åè¯·æ±ä¼å ä¸ºæ¾ä¸å°ä¸ä¸æèå¤±è´¥ã</li>
</ul>
<h3 id="2-solon-ai-çè§£é¢æè·¯">2. Solon AI çè§£é¢æè·¯</h3>
<p>Solon AI v3.8 å¼å¥äº McpChannel.STREAMABLE_STATELESSï¼å¶æ ¸å¿çå¿µæ¯ï¼æ¾å¼ä¸å¸¸ç¨çååè°ç¨ï¼æ¢åæè´çæ°´å¹³æ©å±è½åã</p>
<h2 id="äº-æ ¸å¿çªç ´streamable_stateless-éé">äºã æ ¸å¿çªç ´ï¼STREAMABLE_STATELESS éé</h2>
<p>è¿æ¯ Solon AI ä¸ºéç¾¤åå¥½æ§ä¸é¨è®¾è®¡çæ¨¡å¼ãå®éè¿å°é¿é¾æ¥è½¬åä¸ºç­é¾æ¥éè®¯ï¼å½»åºæ¶é¤äºæå¡ç«¯çç¶æä¾èµã</p>
<table>
<thead>
<tr>
<th>ç¹æ§</th>
<th>STREAMABLE (æç¶æ)</th>
<th>STREAMABLE_STATELESS (æ ç¶æ)</th>
</tr>
</thead>
<tbody>
<tr>
<td>é¾æ¥ç±»å</td>
<td>æé¿é¾æ¥ (Long Connection)</td>
<td>åªç¨ç­é¾æ¥ (Short Connection)</td>
</tr>
<tr>
<td>éç¾¤è·¯ç±</td>
<td>éè¦ ip_hash</td>
<td>ä»»æè·¯ç±</td>
</tr>
<tr>
<td>ååéè®¯</td>
<td>æ¯æ (Server -&gt; Client)</td>
<td>ä¸æ¯æ</td>
</tr>
<tr>
<td>éç¨åºæ¯</td>
<td>éè¦å®æ¶çæ§ Tool ååçå¤æåºç¨</td>
<td>80% çæ åå·¥å·è°ç¨ãé«å¹¶åéç¾¤</td>
</tr>
</tbody>
</table>
<p>å¼åèä½éªä¸è´æ§ï¼ æ è®ºåºå±ééå¦ä½ååï¼Solon AI çå¼åä»£ç å ä¹ä¸éè¦ä¿®æ¹ï¼ä»éå¨æ³¨è§£ä¸­åæ¢ channelï¼</p>
<pre><code class="language-java">@McpServerEndpoint(channel = McpChannel.STREAMABLE_STATELESS, mcpEndpoint = "/mcp/weather")
public class McpServerTool {
    @ToolMapping(description = "æ¥è¯¢å¤©æ°é¢æ¥")
    public String getWeather(@Param(description = "åå¸ä½ç½®") String location) {
        return "æ´ï¼14åº¦";
    }
}
</code></pre>
<h2 id="ä¸-å¼æ­¥æ§è½ä¼åcompletablefuture-ä¸-publisher">ä¸ã å¼æ­¥æ§è½ä¼åï¼CompletableFuture ä¸ Publisher</h2>
<p>å¨éç¾¤ç¯å¢ä¸ï¼IO å¯éåä»»å¡ï¼å¦è¯·æ±ç¬¬ä¸æ¹ APIï¼å¦æé»å¡çº¿ç¨ï¼ä¼æå¤§éä½éç¾¤çååéãSolon AI v3.8.0 å¨é¢å¢å¼ºäº å¼æ­¥æ¯æã</p>
<h3 id="1-completablefuture-æ¯æ">1. CompletableFuture æ¯æ</h3>
<p>ç°å¨ï¼MCP å·¥å·å¯ä»¥ç´æ¥è¿åå¼æ­¥ç»æï¼å®ç¾ééç°ä»£ Java çå¼æ­¥ç¼ç¨æ¨¡åï¼</p>
<pre><code class="language-java">@ToolMapping(description = "å¼æ­¥æ¥è¯¢å¤©æ°", returnDirect = true)
public CompletableFuture&lt;String&gt; getWeatherAsync(String location) {
    return CompletableFuture.supplyAsync(() -&gt; "å¼æ­¥è¿åï¼å¤äº");
}
</code></pre>
<h3 id="2-ååºå¼æµæ¯æ">2. ååºå¼æµæ¯æ</h3>
<p>éå¯¹æ´é«çº§çåºæ¯ï¼Solon AI ééäº org.reactivestreams.Publisherï¼ä½¿å¾ MCP å·¥å·ãèµæºï¼Resourceï¼åæç¤ºè¯ï¼Promptï¼é½è½ä»¥éé»å¡çæ¹å¼å·¥ä½ã</p>
<pre><code class="language-java">@ToolMapping(description = "å¼æ­¥æ¥è¯¢å¤©æ°", returnDirect = true)
public Publisher&lt;String&gt; getWeatherAsync(String location) {
    return Mono.just("å¼æ­¥è¿åï¼å¤äº");
}
</code></pre>
<h2 id="å-ä¼ è¾æ¹å¼å¨æ¯å¯¹æ¯">åã ä¼ è¾æ¹å¼å¨æ¯å¯¹æ¯</h2>
<p>Solon AI ç®åæ¯æåç§ä¸»æµä¼ è¾ééï¼è¦çäºä»æ¬å°å°äºç«¯çå¨åºæ¯ï¼</p>
<table>
<thead>
<tr>
<th>æå¡ç«¯éé</th>
<th>å®¢æ·ç«¯éé</th>
<th>éè®¯æ¹å¼</th>
<th>éç¾¤åå¥½åº¦</th>
<th>å¤æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>STDIO</td>
<td>STDIO</td>
<td>è¿ç¨é´ç®¡é</td>
<td>N/A</td>
<td>æ¬å°å¼åé¦é</td>
</tr>
<tr>
<td>SSE</td>
<td>SSE</td>
<td>HTTP</td>
<td>é ip_hash</td>
<td>å®æ¹å·²æ è®°å¼ç¨</td>
</tr>
<tr>
<td>STREAMABLE</td>
<td>STREAMABLE</td>
<td>HTTP</td>
<td>é ip_hash</td>
<td>ç¨äºæ¿ä»£ SSE</td>
</tr>
<tr>
<td>STREAMABLE_STATELESS</td>
<td>STREAMABLE</td>
<td>HTTP</td>
<td>æé«</td>
<td>éç¾¤æ¨è</td>
</tr>
</tbody>
</table>
<p>æ³¨æï¼ä½¿ç¨ STREAMABLE_STATELESS æ¶ï¼å®¢æ·ç«¯ä¾ç¶éç½®ä¸º STREAMABLE å³å¯ï¼æå¡ç«¯ä¼èªå¨å¤çæ¡æéçº§ã</p>
<h2 id="äº-æ»ç»ä¸å±æ">äºã æ»ç»ä¸å±æ</h2>
<p>Solon AI éè¿å¯¹ MCP åè®®çæ·±åº¦è§£è¦ï¼ä¸ä»å®ç°äºå¯¹ææ° 2025-06-18 çæ¬åè®®çæ¯æï¼æ´éè¿æ ç¶æééåå¨é¾è·¯å¼æ­¥åï¼è§£å³äº MCP æå¡å¨å¤§è§æ¨¡å¹¶åä¸çâè½å°é¾âé®é¢ã</p>
<p>å¯¹äºè¿½æ±é«æ§è½åææ©å±ç AI åºç¨æ¶æå¸æ¥è¯´ï¼Solon AI æä¾äºä¸å¥âå¼åä¸è´ãé¨ç½²çµæ´»âçå·¥å·é¾ï¼è®© MCP æå¡çæ­£å·å¤äºå·¥ä¸çº§éç¾¤çè½åã</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-12-26 21:15">2025-12-26 21:15</span>&nbsp;
<a href="https://www.cnblogs.com/noear">å¸¦åºçåæ¤</a>&nbsp;
éè¯»(<span id="post_view_count">28</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19406655);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19406655', targetLink: 'https://www.cnblogs.com/noear/p/19406655', title: 'è¿å MCP éç¾¤åï¼Solon AI ï¼æ¯æ Java8+ï¼å¨è§£å³ MCP æå¡å¯æ©å±æ§ä¸çæ¢ç´¢ä¸å®è·µ' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ ä¸ç¯åºäºAWSæå¡æ­å»ºçå¨çæå¡æ¶æ ]]></title>
    <link>https://www.cnblogs.com/linnuo/p/19388428</link>
    <guid>08e16f24d97217658df10e484a69c24a</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/linnuo/p/19388428" title="åå¸äº 2025-12-26 19:37">
    <span role="heading" aria-level="2">ä¸ç¯åºäºAWSæå¡æ­å»ºçå¨çæå¡æ¶æ</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p>ä¸ãèæ¯</p>
<p>ããå½æä»¬å¨åå¨çä¸å¡æ¶ï¼ä¾å¦ç½ç«/æºå¨/æ¸¸æï¼ä¸ºäºæ¯æå¨çç¨æ·ï¼æä»¬ä¼å¨ä¸åçä½ç½®æ­å»ºèç¹ï¼ä»¥æ»¡è¶³ä¸å¡åè½åååºå®æã</p>
<p>æä»¬ä¼æ­å»ºä¸ä¸ªè¿æ ·çæ¶ææ»¡è¶³åæ­¥çä½¿ç¨ã</p>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1009313/202512/1009313-20251223161146575-2137564282.png" class="lazyload"></p>
<p>&nbsp;ãã</p>
<p>ããè½ç¨æ¯okçäºï¼ä¼æä»ä¹é®é¢å¢ï¼</p>
<p>ãã1ãå ä¸ºæå¡ç¬ç«ï¼ä¸æ¶1ä¸ªSKUéè¦å¤æ¬¡åå¸å°ä¸åçæå¡ã</p>
<p>ãã2ãå ä¸ºååè¿å¤ï¼åå¸æ¶éè¦é¢ç¹çéåºãç»å½åæ¢ä¸åçäºçº§ååï¼éå¸¸ç¹çä¸è¯´ï¼è¿å¯è½ä¼éæ¼ã</p>
<p>ãã3ãåæå¤çæ°æ®ç»è®¡ãæ¥è¡¨ãçæ¿ãè®¾å¤å°å¾ï¼èæ¶è´¹åã</p>
<p>ãã4ãè¿è¿æ¯åèç¹ï¼æªèèé«å¯ç¨çæåµä¸ï¼å¤åºåãå¤èç¹é¨ç½²æå¡å¨å¯¼è´è¿ç»´é¾åº¦å¢å ãè¿å¤çè´¢å¡å¼æ¯ã</p>
<div>
<div>ãã5ãåä¸ªèç¹åç©åçã</div>
<div>&nbsp;</div>
<div>ããæä»ä¹æ¹å¼å¯ä»¥è§£å³è¿äºé®é¢ï¼</div>
<div>ããAWSæå¡ç»ä»¶å¾å¥½æ¯æã</div>
<div>&nbsp;</div>
<div>äºãAWSæ¶æ</div>
<div>ããAWSæä¾äºéå¸¸ä¸°å¯çç»ä»¶ï¼åå ä¸ªå¸¸ç¨çï¼</div>
<div>ãã1ãRoute 53 è´è´£ååè§£ææµéç®¡çå¥åº·æ£æ¥ï¼é«å¯ç¨å¯ä»¥ç¨å°å®ã</div>
<div>ãã2ãVPC èæç§æç½ç»ï¼å¯å°åä¸åºåçæå¡å¨ãæ°æ®åºç½®äºåä¸åç½æ®µï¼æåè®¿é®éåº¦ã</div>
<div>ãã3ãCloudFront CDNå éï¼å¯ä»¥ç»è®¿é®è¯·æ±ãå¯¹è±¡å­å¨å éãå½æ°åè½æå¶å¼ºå¤§ï¼å¯éç½®HTTPãHTTPSçè¯·æ±è·¨åï¼å¯è¯å«å¨çæµéæ¥æºï¼æ ¹æ®æ¥æºååå°ä¸ååºåçèç¹ã</div>
<div>ãã4ãEC2 æå¡å¨ï¼åå«äºè´è½½åè¡¡å¨ELBãç®æ ç»ï¼å¯å®ç°åä¸å°åºçæå¡å¨çè´è½½åè¡¡åé«å¯ç¨ãç»åCloudFrontå¯å°æµéååå°å°±è¿çæå¡ã</div>
<div>ãã5ãAurora and RDS æ°æ®åºï¼Aurora ä½ä¸ºå¨çæ°æ®åºï¼å·²å®ç°ä¸»ä»å¤ä»½ï¼å¯å¨1såå®ç°å¨çæ°æ®åæ­¥ï¼ç»åRoute 53çç­ååå®ç°è¯»ååç¦»ã</div>
<div>ãã6ãS3 å¯¹è±¡å­å¨ï¼OSSå­å¨å¾çãè§é¢ãææ¡£ãé³é¢ç­ã</div>
<div>ãã7ãCertificate Manager å®å¨å­è¯ç®¡çï¼å¯ç³è¯·åç®¡çè¯ä¹¦ã</div>
<div>&nbsp;</div>
<div>ããæ¶æå®æ¯è¿æ ·çã&nbsp;</div>
<div>&nbsp;
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1009313/202512/1009313-20251223171110168-222600570.png" class="lazyload"></p>
<p>&nbsp;</p>
<p>ä¸ãå¹²æ´»ï¼ç®åçä¸ç¬å¸¦è¿</p>
<p>ãã1ãå°å¤é¨ååè§£æå°Route 53ã</p>
<p>ãã2ãå¨Certificate Managerç³è¯·è¯ä¹¦ã</p>
<p>ãã3ãå¨æå®çåºååå»ºVPCåç½ã</p>
<p>ãã4ãè´­ä¹°æå¡å¨åæ°æ®åºæ¶éæ©ä¸é¢çåå»ºçVPCåç½ã</p>
<p>ãã5ãå¨åå»ºAuroraæ°æ®åºæ¶éè¦éç¡®è®¤æä¸ä¸ªåºåä¸ºä¸»éç¾¤ï¼ä¸»éç¾¤ä¸ä¼åå»ºåå¥å¨å®ä¾ãè¯»åå¨å®ä¾ã</p>
<p>ããããååå»ºå¶å®åºåçè¯»åå®ä¾ï¼å¦ä¸å¾ï¼</p>
<p><img alt="f9edbdf666a249221b20525d951cdf3b" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1009313/202512/1009313-20251226182110841-398379187.png" class="lazyload"></p>
<p>&nbsp;ãã</p>
<p>ãã6ãå¨Route 53åå»ºä¸ä¸ªç§æçç­ååï¼ç¨äºæ°æ®åºè¿æ¥ï¼æ éå¨ååä¾åºåè´­ä¹°ãæè¿éç¨&nbsp;db.com</p>
<p><img alt="402ddedc223507ba4f2e187ad161cc2c" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1009313/202512/1009313-20251226182936710-214684981.png" class="lazyload"></p>
<p>&nbsp;ã</p>
<p>ãã7ãå°äºçº§ååæåå°Auroraçåååæåå°Auroraçåå¥å¨å®ä¾çDNSï¼è·¯ç±ç­ç¥ï¼ç®åï¼ï¼</p>
<p>ããããè¯»ååæåå°å¤ä¸ªè¯»åå¨å®ä¾çDNSï¼è·¯ç±ç­ç¥ï¼å»¶è¿ï¼ãæ°æ®åå¥å°ä¸»åºåï¼1såå¯åæ­¥å°ææçä»åº</p>
<p><img alt="fe4075fd22ed2a0e1e2919b9d2e47b5b" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1009313/202512/1009313-20251226183740690-1770250735.png" class="lazyload"></p>
<p>&nbsp;ãã</p>
<p>ãã8ãå¨EC2è´­ä¹°æå¡å¨åï¼æ°å»ºç®æ ç»ï¼å°æå¡å¨æ·»å å°ç®æ ç»ä¸­</p>
</div>
<div>
<p><img alt="b9e98fda4ad55cabc5a3bd5d55ff112f" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1009313/202512/1009313-20251226184018089-1840892184.png" class="lazyload"></p>
<p>&nbsp;ãã</p>
<p>ãã9ãå¨EC2åå»ºè´è½½åè¡¡å¨ï¼è¿éåNLBï¼æå¡å¨ä¹é´ç¨ï¼åELBï¼æå¡å¨åé¨æå¡ä¹é´ç¨ï¼ï¼å±çº§åé¢ç²åº¦ä¸åã</p>
<p>ããããè¿éåå»ºNLBï¼æ·»å è½¬åå°çç®æ ç»å°ä¾¦å¬å¨ï¼æ³¨æéæ©VPCãåå»ºå®å³å¯éè¿DNSè®¿é®ã</p>
<p><img alt="5baa9287044b30796f6ebb020436d6f6" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1009313/202512/1009313-20251226185036451-972314899.png" class="lazyload"></p>
<p>&nbsp;ãã</p>
<p>ãã10ãåå»ºCloudFrontï¼å°éè¦ç»è¿CDNå éçååæ·»å å°å¤ç¨ååï¼æ·»å ç¬¬2æ­¥åå»ºçè¯ä¹¦ï¼æºæ·»å å°è®¿é®ç®æ çDNSãæååCloudFrontä¼åéååã</p>
<p><img alt="aeaa7964-4abc-47f7-965c-b70c4dee3682" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1009313/202512/1009313-20251226190034692-587236478.png" class="lazyload"></p>
<p>&nbsp;</p>
<p>ãã11ãå¨Route 53å°ç»è¿CloudFrontå éçååæåå°CloudFrontåéååä¸ã</p>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1009313/202512/1009313-20251226191104820-176120704.png" class="lazyload"></p>
<p>&nbsp;</p>
<p>ãã12ãå¨Route 53åå»ºNLBçå¥åº·æ£æ¥ï¼æååçæIDã</p>
<p>ãã13ãå¨Route 53æ·»å æéè½¬ç§»ååï¼ç¨äºæå¡åºåä¹é´çé«å¯ç¨ï¼æ éé¢å¤éè´­æå¡å¨</p>
<p><img alt="98eb6d3e-2d4c-4a8f-97f9-6261ccbfc409" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1009313/202512/1009313-20251226192552766-1296828574.png" class="lazyload"></p>
<p>&nbsp;</p>
<p>ãã14ãå¨CloudFrontåå»ºå½æ°ï¼å°è¯·æ±æç§å½å®¶åå°åºååå°ç¸åºçæå¡å¨ã</p>
<p><img alt="5b4907ff50b14eae080e4168c566cd54" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1009313/202512/1009313-20251226193257135-1536316299.png" class="lazyload"></p>
<p>&nbsp;ããä»£ç å¦ä¸ï¼</p>
<div class="cnblogs_code">
<pre>import cf from 'cloudfront'<span style="color: rgba(0, 0, 0, 1)">;

</span><span style="color: rgba(0, 0, 255, 1)">function</span><span style="color: rgba(0, 0, 0, 1)"> handler(event) {
    const request </span>=<span style="color: rgba(0, 0, 0, 1)"> event.request;
    const headers </span>=<span style="color: rgba(0, 0, 0, 1)"> request.headers;
    const country </span>= headers['cloudfront-viewer-country'] &amp;&amp; headers['cloudfront-viewer-country'<span style="color: rgba(0, 0, 0, 1)">].value;
    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> List of countries to ALB endpoints</span>
    const countryToContinent =<span style="color: rgba(0, 0, 0, 1)"> {
        </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> äºå¤ªå°åº (Asia-Pacific) -&gt; Asia</span>
        'AF': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'AM': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'AZ': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'BD': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'BN': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'BT': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'CC': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'CK': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'CX': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'GE': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'HK': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'ID': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'IN': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'IO': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'JP': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'KG': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'KH': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'KR': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'KZ': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'LA': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'LK': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'MM': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'MN': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'MO': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'MP': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'MV': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'MY': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'NC': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'NF': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'NP': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'NR': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'NU': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'NZ': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'PH': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'PK': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'PN': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'SB': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'SG': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'TH': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'TJ': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'TL': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'TM': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'TO': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'TV': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'TW': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'UZ': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'VU': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'WF': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'WS': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'YE': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> å¤§æ´æ´² (Oceania) - éå¸¸å½ç±»ä¸ºäºå¤ªå°åº</span>
        'AS': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'AU': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'FJ': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'PF': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'GU': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'KI': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'MH': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'FM': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'PW': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'PG': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'TK': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> åææ´² (Antarctica) - éå¸¸åç¬å¤çï¼è¿éææ¶å½å¥äºå¤ª</span>
        'AQ': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'BV': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'GS': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'HM': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'TF': 'Asia'<span style="color: rgba(0, 0, 0, 1)">,
        </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æ¬§æ´²ãéæ´²ãä¸­ä¸ -&gt; Europe</span>
        'AL': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'AD': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'AT': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'AX': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'BA': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'BE': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'BG': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'BY': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'CH': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'CY': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'CZ': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'DE': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'DK': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'EE': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'ES': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'FI': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'FO': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'FR': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'GG': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'GI': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'GR': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'HR': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'HU': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'IE': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'IM': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'IS': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'IT': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'JE': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'LI': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'LT': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'LU': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'LV': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'MC': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'MD': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'ME': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'MK': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'MT': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'NL': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'NO': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'PL': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'PT': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'RO': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'RS': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'RU': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'SE': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'SI': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'SJ': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'SK': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'SM': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'UA': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'VA': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'GB': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'DZ': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'AO': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'BJ': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'BW': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'BF': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'BI': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'CV': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'CM': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'CF': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'TD': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'KM': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'CG': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'CD': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'CI': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'DJ': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'EG': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'GQ': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'ER': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'ET': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'GA': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'GM': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'GH': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'GN': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'GW': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'KE': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'LS': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'LR': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'LY': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'MG': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'MW': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'ML': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'MR': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'MU': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'YT': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'MA': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'MZ': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'NA': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'NE': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'NG': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'RW': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'RE': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'SH': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'SN': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'SC': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'SL': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'SO': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'ZA': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'SS': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'SD': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'ST': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'SZ': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'TG': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'TN': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'TZ': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'UG': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'EH': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'ZM': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'ZW': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'AE': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'BH': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'IR': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'IQ': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'IL': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'JO': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'KW': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'LB': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'OM': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'PS': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'QA': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'SA': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'SY': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'TR': 'Europe'<span style="color: rgba(0, 0, 0, 1)">,
        </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> ç¾æ´² -&gt; America</span>
        'AI': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'AG': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'AW': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'BS': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'BB': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'BZ': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'BM': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'BQ': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'CA': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'KY': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'CR': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'CU': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'CW': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'DM': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'DO': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'SV': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'GD': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'GL': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'GP': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'GT': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'HT': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'HN': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'JM': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'MQ': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'MX': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'MS': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'NI': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'PA': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'PR': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'BL': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'KN': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'LC': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'MF': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'PM': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'VC': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'SX': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'TT': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'TC': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'US': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'UM': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'UY': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'VE': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'VG': 'America'<span style="color: rgba(0, 0, 0, 1)">,
        </span>'VI': 'America'<span style="color: rgba(0, 0, 0, 1)">
    };

    const continentToRegion </span>=<span style="color: rgba(0, 0, 0, 1)"> {
        </span>'Asia': 'asia.autovxxxxxx.com',         <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> äºæ´²æéè½¬ç§»åå</span>
        'Europe': 'europu.autovxxxxxx.com',     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æ¬§æ´²æéè½¬ç§»åå</span>
        'America': 'america.autovxxxxxxx.com'    <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> ç¾æ´²æéè½¬ç§»åå</span>
<span style="color: rgba(0, 0, 0, 1)">    };

    const DEFAULT_REGION </span>= 'NLB-Asia-Singapore-5e42xxxxxxxx4853.elb.ap-southeast-1.amazonaws.com'; <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">æ¹ä¸ºèªå·±çé»è®¤alb åå</span>
    const targetContinent = (country &amp;&amp; countryToContinent[country]) || 'Asia'<span style="color: rgba(0, 0, 0, 1)">;
    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> const targetContinent = 'Asia';</span>
    const targetOrigin = (targetContinent &amp;&amp; continentToRegion[targetContinent]) ||<span style="color: rgba(0, 0, 0, 1)"> DEFAULT_REGION;

    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æå°ææè¯·æ±å¤´</span>
    console.log("=== ææè¯·æ±å¤´ä¿¡æ¯ ==="<span style="color: rgba(0, 0, 0, 1)">);
    </span><span style="color: rgba(0, 0, 255, 1)">for</span> (<span style="color: rgba(0, 0, 255, 1)">var</span> headerName <span style="color: rgba(0, 0, 255, 1)">in</span><span style="color: rgba(0, 0, 0, 1)"> headers) {
        </span><span style="color: rgba(0, 0, 255, 1)">if</span><span style="color: rgba(0, 0, 0, 1)"> (headers.hasOwnProperty(headerName)) {
            </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> headers å¯¹è±¡çå¼æ¯ä¸ä¸ªåå« 'value' å±æ§çå¯¹è±¡</span>
            <span style="color: rgba(0, 0, 255, 1)">var</span> headerValue =<span style="color: rgba(0, 0, 0, 1)"> headers[headerName].value;
            console.log(headerName </span>+ ": " +<span style="color: rgba(0, 0, 0, 1)"> headerValue);
        }
    }
    console.log(</span>'targetOrigin: ' +<span style="color: rgba(0, 0, 0, 1)"> targetOrigin);

    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> ä½¿ç¨CloudFront 2.0 APIä¿®æ¹origin</span>
<span style="color: rgba(0, 0, 0, 1)">    cf.updateRequestOrigin({
        </span>"domainName"<span style="color: rgba(0, 0, 0, 1)">: targetOrigin,
        </span>"port": 80<span style="color: rgba(0, 0, 0, 1)">,
        </span>"protocol": 'http'<span style="color: rgba(0, 0, 0, 1)">,
        </span>"timeouts"<span style="color: rgba(0, 0, 0, 1)">: {
            </span>"readTimeout": 30<span style="color: rgba(0, 0, 0, 1)">,
            </span>"connectionTimeout": 5<span style="color: rgba(0, 0, 0, 1)">
        }
    });
    
    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æ·»å è°è¯ä¿¡æ¯ - ç¡®ä¿å¼æ¯å­ç¬¦ä¸²</span>
    request.headers['x-debug-country'] = { value: String(country || 'unknown'<span style="color: rgba(0, 0, 0, 1)">) };
    request.headers[</span>'x-debug-targetorigin'] =<span style="color: rgba(0, 0, 0, 1)"> { value: String(targetOrigin) };

    </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> request;
}</span></pre>
</div>
<p>ããè§£å³è·¨åé®é¢ï¼å½æ°ä»£ç å¦ä¸ï¼</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">function</span><span style="color: rgba(0, 0, 0, 1)"> handler(event)  {
    </span><span style="color: rgba(0, 0, 255, 1)">var</span> response  =<span style="color: rgba(0, 0, 0, 1)"> event.response;
    </span><span style="color: rgba(0, 0, 255, 1)">var</span> headers  =<span style="color: rgba(0, 0, 0, 1)"> response.headers;

    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> If Access-Control-Allow-Origin CORS header is missing, add it.</span>
    <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> Since JavaScript doesn't allow for hyphens in variable names, we use the dict["key"] notation.</span>
    <span style="color: rgba(0, 0, 255, 1)">if</span> (!headers['access-control-allow-origin'<span style="color: rgba(0, 0, 0, 1)">]) {
        headers[</span>'access-control-allow-origin'] = {value: "*"<span style="color: rgba(0, 0, 0, 1)">};
        console.log(</span>"Access-Control-Allow-Origin was missing, adding it now."<span style="color: rgba(0, 0, 0, 1)">);
        headers[</span>'access-control-allow-headers'] = {value: "Origin, X-Requested-With, Content-Type, Accept"<span style="color: rgba(0, 0, 0, 1)">};
        headers[</span>'access-control-allow-methods'] = {value: "GET,POST,PUT, OPTIONS"<span style="color: rgba(0, 0, 0, 1)">};
    }

    </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> response;
}</span></pre>
</div>
<p>ãã</p>
<p>ããokï¼å®äºå¿</p>
<p>ãã</p>
<p>&nbsp;</p>
&nbsp;</div>
<div>&nbsp;</div>
<div>&nbsp;</div>
<div>&nbsp;</div>
<div>&nbsp;</div>
<div>&nbsp;</div>
<div>&nbsp;</div>
</div>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-12-26 19:37">2025-12-26 19:37</span>&nbsp;
<a href="https://www.cnblogs.com/linnuo">ooLeo</a>&nbsp;
éè¯»(<span id="post_view_count">39</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19388428);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19388428', targetLink: 'https://www.cnblogs.com/linnuo/p/19388428', title: 'ä¸ç¯åºäºAWSæå¡æ­å»ºçå¨çæå¡æ¶æ' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ .NET æ°æ®æåä¸åéåæ¶æï¼æå»ºä¼ä¸çº§æ£ç´¢å¢å¼ºçæï¼RAGï¼ç®¡é ]]></title>
    <link>https://www.cnblogs.com/shanyou/p/19408104</link>
    <guid>8e3c17535d73c65e2cd8d6d0a9c38209</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/shanyou/p/19408104" title="åå¸äº 2025-12-27 10:52">
    <span role="heading" aria-level="2">.NET æ°æ®æåä¸åéåæ¶æï¼æå»ºä¼ä¸çº§æ£ç´¢å¢å¼ºçæï¼RAGï¼ç®¡é</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="1-æè¦"><strong>1. æè¦</strong></h2>
<p>éççæå¼äººå·¥æºè½ï¼Generative AIï¼ææ¯çè¿çåå±ï¼ä¼ä¸çº§åºç¨å¼åæ­£ç»åçä¸åºæ·±å»çèå¼è½¬åãä¼ ç»çäºå¡å¤çç³»ç»æ­£å¨ååºäºå¤§è¯­è¨æ¨¡åï¼LLMï¼çæºè½ç³»ç»æ¼è¿ï¼å¶ä¸­æ£ç´¢å¢å¼ºçæï¼RAGï¼æ¶æå·²æä¸ºè§£å³æ¨¡åå¹»è§ãå©ç¨ç§ææ°æ®ä»¥åä¿æç¥è¯æ¶ææ§çå³é®ææ¯æ¹æ¡ãå¨è¿ä¸èæ¯ä¸ï¼å¾®è½¯æ¨åºç Microsoft.Extensions.DataIngestion å Microsoft.Extensions.VectorData åºï¼ä¸ä»æ¯.NET AI çæç³»ç»çéè¦è¡¥åï¼æ´æ¯æ å¿çä»å®éªæ§ AI å¼åè¿åå·¥ç¨åãæ åå AI æ°æ®ç®¡éçå³é®éç¨ç¢ã</p>
<p>æä»¬å°æ·±å¥æ¢è®¨âç»ä¸ææ¡£è¡¨ç¤ºâï¼Unified Document Representationï¼å¦ä½è§£å³éç»æåæ°æ®å¤ççå¼ææ§é¾é¢ï¼åæ IngestionPipeline å¨æµå¼å¤çåéè¯¯æ¢å¤æ¹é¢çè®¾è®¡æºæ§ï¼è¯ä¼°åºäº Microsoft.ML.Tokenizers çè¯­ä¹ååç­ç¥å¯¹æ£ç´¢è´¨éçæ·±è¿å½±åï¼å¹¶è¯¦ç»éè¿° Microsoft.Extensions.VectorData å¦ä½éè¿ç»ä¸æ½è±¡å±æ¶é¤åéæ°æ®åºçéå®é£é©ãæ­¤å¤ï¼æ¬æè¿å°å¯¹æ¯ Semantic Kernel çä¼ ç»åå­å­å¨æºå¶ï¼æä¾ä»éçç³»ç»åç°ä»£åæ¶æè¿ç§»çè·¯å¾æå¼ã</p>
<h2 id="2-å¼è¨net-ai-çæç³»ç»çå·¥ç¨åè½¬æ"><strong>2. å¼è¨ï¼.NET AI çæç³»ç»çå·¥ç¨åè½¬æ</strong></h2>
<h3 id="21-æ°æ®ç®¡éå·¥ç¨çå´èµ·"><strong>2.1 æ°æ®âç®¡éå·¥ç¨âçå´èµ·</strong></h3>
<p>å¨çæå¼ AI åºç¨çæ©ææ¢ç´¢é¶æ®µï¼å¼åèå¾å¾å°æ³¨æåéä¸­å¨æç¤ºè¯å·¥ç¨ï¼Prompt Engineeringï¼åæ¨¡åéæ©ä¸ãç¶èï¼éçåºç¨è§æ¨¡çæ©å¤§ï¼ä¸çéæ¸æè¯å°ï¼å³å® RAG ç³»ç»æè´¥çæ ¸å¿å ç´ å¾å¾ä¸å¨äºæ¨¡åçåæ°éï¼èå¨äºä¾ç»æ¨¡åçæ°æ®è´¨éãæ°æ®æåï¼Data Ingestionï¼ââå³ä»åå§æºè·åæ°æ®ãæ¸æ´ãååãåµå¥å¹¶å­å¨çè¿ç¨ââæä¸ºäº AI åºç¨ä¸­çâç®¡éå·¥ç¨âã</p>
<p>å¨.NET çæç³»ç»ä¸­ï¼è¿å»ç¼ºä¹ä¸å¥ç»ä¸çæ åæ¥å¤çè¿ä¸å¤æç ETLï¼Extract, Transform, Loadï¼æµç¨ãå¼åèä¸å¾ä¸ä¾èµé¶æ£çç¬¬ä¸æ¹åºæ¥è§£æ PDFï¼æåé»è¾æ¥ååææ¬ï¼å¹¶ç¡¬ç¼ç ç¹å®åéæ°æ®åºç SDKãè¿ç§ç¢çåçå¼åæ¨¡å¼å¯¼è´äºä»£ç çé«è¦åãä½å¤ç¨ä»¥åç»´æ¤å°é¾ãMicrosoft.Extensions.DataIngestion çæ¨åºï¼æ­£æ¯ä¸ºäºå¡«è¡¥è¿ä¸ç©ºç½ï¼å®æä¾äºä¸å¥æ ååçåè¯­ï¼ä½¿æ°æ®å¤çå ASP.NET Core ä¸­çä¾èµæ³¨å¥ææ¥å¿è®°å½ä¸æ ·ï¼æä¸ºä¸ç§åºç¡è®¾æ½è½å2ã</p>
<h3 id="22-æ¨¡ååä¸è§£è¦çè®¾è®¡å²å­¦"><strong>2.2 æ¨¡ååä¸è§£è¦çè®¾è®¡å²å­¦</strong></h3>
<p>å¾®è½¯æ­¤æ¬¡æ¨åºçæå»ºæ¨¡åéµå¾ªäºé«åº¦æ¨¡åååè§£è¦çè®¾è®¡å²å­¦ãä¸å°é­çâé»çâè§£å³æ¹æ¡ä¸åï¼è¿äºåºè¢«è®¾è®¡ä¸ºä¸ç³»åå¯ç»åçåå­ç»ä»¶ã</p>
<ul>
<li><strong>è¯»åå¨ï¼Readersï¼</strong>ï¼è´è´£å±è½æ°æ®æºçå·®å¼ï¼æ è®ºæ¯æ¬å°æä»¶ãäºå­å¨è¿æ¯åå­æµï¼é½è¢«è§èåä¸ºç»ä¸çæ ¼å¼ã</li>
<li><strong>å¤çå¨ï¼Processorsï¼</strong>ï¼åå½ç®¡éä¸­çä¸­é´ä»¶ï¼å©ç¨ AI è½åå¯¹æ°æ®è¿è¡å¢å¼ºï¼å¦èªå¨çææè¦ææåå³é®è¯ã</li>
<li><strong>ååå¨ï¼Chunkersï¼</strong>ï¼åºäºç²¾ç¡®ç Token è®¡ç®ç­ç¥ï¼å°é¿ææ¡£ååä¸ºéå LLM ä¸ä¸æçªå£ççæ®µã</li>
<li><strong>åå¥å¨ï¼Writersï¼</strong>ï¼å¤çæ°æ®çæä¹åï¼ç¹å«æ¯ååéæ°æ®åºçåå¥ 1ã</li>
</ul>
<p>è¿ç§è®¾è®¡ä¸ä»æé«äºä»£ç çå¯æµè¯æ§ï¼è¿èµäºäºå¼åèæå¤§ççµæ´»æ§ãä¾å¦ï¼å¼åèå¯ä»¥è½»æ¾å°æ¿æ¢åºå±çåéæ°æ®åºï¼èæ ééåä¸å±çæ°æ®å¤çé»è¾ï¼æèå¨ç®¡éä¸­æå¥èªå®ä¹çéç§æ¸æ´æ­¥éª¤ï¼èä¸å½±ååç»­çåµå¥çæãè¿ç§æ¶æçå¼¹æ§ï¼æ¯æå»ºâæªæ¥å°±ç»ªâï¼Future-readyï¼AI åºç¨çåºç³ã</p>
<h2 id="3-ç»ä¸ææ¡£è¡¨ç¤ºå¼ææ°æ®çæ ååæ²»ç"><strong>3. ç»ä¸ææ¡£è¡¨ç¤ºï¼å¼ææ°æ®çæ ååæ²»ç</strong></h2>
<p>å¨ RAG ç³»ç»ä¸­ï¼æ°æ®æºçå¤æ ·æ§æ¯ä¸ä¸ªå·¨å¤§çææãä¼ä¸ç¥è¯åºä¸­æ··æç PDF æ¥åãWord ææ¡£ãHTML ç½é¡µãMarkdown ç¬è®°ä»¥ååç§å¾åæä»¶ãå¦æéå¯¹æ¯ç§æ ¼å¼é½ç¼åç¬ç«çè§£æåå¤çé»è¾ï¼ç³»ç»å°åå¾æå¶èè¿ä¸é¾ä»¥ç»´æ¤ãMicrosoft.Extensions.DataIngestion åºéè¿å¼å¥ <strong>ç»ä¸ææ¡£è¡¨ç¤ºï¼Unified Document Representationï¼</strong> çæ¦å¿µï¼ä»æ ¹æ¬ä¸è§£å³äºè¿ä¸é®é¢ã</p>
<h3 id="31-ingestiondocument-å¯¹è±¡æ¨¡åæ·±åº¦è§£æ"><strong>3.1 IngestionDocument å¯¹è±¡æ¨¡åæ·±åº¦è§£æ</strong></h3>
<p>æ ¸å¿ç±» IngestionDocument æ¯ææå¼ææ°æ®å¨åå­ä¸­çç»ä¸æå½±ãè¯¥è®¾è®¡çä¸ä¸ªå³é®æ¶æå³ç­æ¯éç¨äº <strong>ä»¥ Markdown ä¸ºä¸­å¿ï¼Markdown-centricï¼</strong> çè¡¨ç¤ºå½¢å¼ 1ã</p>
<h4 id="311-ä¸ºä»ä¹éæ©-markdown"><strong>3.1.1 ä¸ºä»ä¹éæ© Markdownï¼</strong></h4>
<p>éæ© Markdown ä½ä¸ºä¸­é´æ ¼å¼å¹¶éå¶ç¶ï¼èæ¯åºäºå¯¹å¤§è¯­è¨æ¨¡åç¹æ§çæ·±å»çè§£ãç°ä»£ LLMï¼å¦ GPT-4, Llama 3ï¼å¨å¶é¢è®­ç»é¶æ®µæ¥è§¦äºå¤§éçä»£ç å Markdown ææ¡£ï¼å æ­¤å®ä»¬å¯¹ Markdown çç»æï¼æ é¢ãåè¡¨ãä»£ç åãå¼ç¨ï¼å·æå¤©ç¶ççè§£è½åã</p>
<p>ç¸æ¯äºçº¯ææ¬ï¼Plain Textï¼ï¼Markdown ä¿çäºææ¡£çå±çº§ç»æä¿¡æ¯ï¼è¿å¯¹äºåç»­çâè¯­ä¹ååâè³å³éè¦ãç¸æ¯äº HTML æ XMLï¼Markdown ç Token å¯åº¦æ´é«ï¼åªé³æ´å°ï¼æ´éåä½ä¸º Prompt çä¸é¨åè¾å¥ç»æ¨¡åãå æ­¤ï¼å°æææºææ¡£è½¬æ¢ä¸º Markdown ç»æç IngestionDocumentï¼å®éä¸æ¯å¨è¿è¡ä¸ç§âé¢å AI çæ°æ®æ¸æ´âï¼æå¤§åäºæ¨¡åçè§£æ°æ®ç»æçè½å 2ã</p>
<h4 id="312-ç»æåç»ä»¶è¯¦è§£"><strong>3.1.2 ç»æåç»ä»¶è¯¦è§£</strong></h4>
<p>IngestionDocument å¹¶éä¸ä¸ªç®åçå­ç¬¦ä¸²å®¹å¨ï¼èæ¯ä¸ä¸ªåå«ä¸°å¯ç»æåä¿¡æ¯çå¯¹è±¡å¾ãåºä¸­å®ä¹äºä¸ç³»åå­ç±»æ¥ç²¾ç¡®æè¿°ææ¡£çä¸åé¨åï¼</p>
<ul>
<li>IngestionDocumentSectionï¼ææ¡£èï¼ï¼<br>
è¿æ¯ææ¡£çé«å±é»è¾ååï¼éå¸¸å¯¹åºäº PDF çé¡µé¢ãä¹¦çç« èæ PPT çå¹»ç¯çãä¿çè¿ç§ç©çæé»è¾çåéå¯¹äºåç»­å®ç°âæé¡µå¼ç¨âæâæç« èæ£ç´¢âè³å³éè¦ãä¾å¦ï¼å¨æ³å¾ææ¡£æ£ç´¢åºæ¯ä¸­ï¼ç¨æ·å¾å¾å¸æç¥éå¼ç¨çå·ä½æ¡æ¬¾ä½äºåªä¸é¡µï¼IngestionDocumentSection æä¾çä¸ä¸æä¿¡æ¯æ°å¥½æ»¡è¶³è¿ä¸éæ± 3ã</li>
<li>IngestionDocumentHeaderï¼ææ¡£æ é¢ï¼ï¼<br>
è¯¥ç±»æè·äºææ¡£çéª¨æ¶ï¼H1, H2, H3...ï¼ãå¨ RAG æ£ç´¢ä¸­ï¼æ é¢å¾å¾æ¦æ¬äºå¶ä¸æ®µè½çæ ¸å¿è¯­ä¹ãéè¿è¯å«æ é¢ï¼ååç­ç¥ï¼Chunking Strategyï¼å¯ä»¥æ´æºè½å°å³å®ååç¹ï¼é¿åå°ä¸ä¸ªå®æ´çè¯­ä¹åï¼å¦ä¸ä¸ªå­ç« èï¼éè¯¯å°åæ­ã</li>
<li>IngestionDocumentParagraphï¼ææ¡£æ®µè½ï¼ï¼<br>
è¿æ¯ææ¬åå®¹çåå­ååãå®æ¿è½½äºå®éçä¿¡æ¯è´è½½ã</li>
<li>IngestionDocumentTableï¼ææ¡£è¡¨æ ¼ï¼ï¼<br>
è¡¨æ ¼æ°æ®çå¤çæ¯ RAG ä¸­çé¾ç¹ãç®åçææ¬æåå¾å¾ä¼ç ´åè¡¨æ ¼çè¡åå¯¹é½ï¼å¯¼è´æ¨¡åæ æ³çè§£æ°æ®å³ç³»ãIngestionDocumentTable è¯å¾å¨å¯¹è±¡æ¨¡åå±é¢ä¿çè¡¨æ ¼çç»æåç¹å¾ï¼ä½¿å¾å¨è½¬æ¢ä¸ºæç»ç Prompt æ¶ï¼å¯ä»¥éæåº Markdown è¡¨æ ¼ï¼ä»èè®© LLM è½å¤æ­£ç¡®å°è¿è¡è¡è¯»åæåå¯¹æ¯ 3ã</li>
<li>IngestionDocumentImageï¼ææ¡£å¾åï¼ï¼<br>
å¨å¤æ¨¡æ RAG åºæ¯ä¸­ï¼å¾åä¸åæ¯é»æ´ãè¯¥ç±»ä¸ä»å­å¨å¾åçäºè¿å¶æ°æ®æå¼ç¨è·¯å¾ï¼æ´éè¦çæ¯å®ä¸ºåç»­ç AI å¢å¼ºï¼å¦èªå¨çæ Alt Textï¼é¢çäºä½ç½®ãè¿ä½¿å¾ç®¡éè½å¤å¤çå¾ææ··æçææ¡£ï¼å°å¾åä¿¡æ¯è½¬åä¸ºåéç©ºé´å¯æ£ç´¢çææ¬æè¿° 3ã</li>
</ul>
<h3 id="32-è¯»åå¨æ½è±¡ä¸å®ç°ç­ç¥"><strong>3.2 è¯»åå¨æ½è±¡ä¸å®ç°ç­ç¥</strong></h3>
<p>IngestionDocumentReader æ¯è´è´£å°å¤é¨åå§æ°æ®è½¬æ¢ä¸º IngestionDocument çæ½è±¡åºç±»ãå¾®è½¯æä¾äºä¸ç³»åå¼ç®±å³ç¨çå®ç°ï¼åæ¶ä¹æ¯æå¼åèæ©å±ã</p>
<h4 id="321-åç½®è¯»åå¨åæ"><strong>3.2.1 åç½®è¯»åå¨åæ</strong></h4>
<ul>
<li>MarkdownReaderï¼<br>
è¿æ¯æåºç¡çè¯»åå¨ï¼ç´æ¥å¤çç°æç Markdown æä»¶ãå®ä¸éè¦å¤æçè½¬æ¢é»è¾ï¼æ¯å¤çææ¯ææ¡£åºï¼å¦ GitHub Wikiï¼ççæ³éæ© 3ã</li>
<li>MarkItDownReaderï¼<br>
è¿æ¯ä¸ä¸ªåè½å¼ºå¤§çè¯»åå¨ï¼éæäºå¾®è½¯ç MarkItDown å·¥å·ãå®è½å¤å¤ç Office æ ¼å¼ï¼Word, Excel, PowerPointï¼ãPDF ä»¥åå¶ä»å¸¸è§æ ¼å¼ï¼å¹¶å°å®ä»¬âéç»´âæå»ä¸ºç»ä¸ç Markdown æ ¼å¼ãå¯¹äºä¼ä¸ç¯å¢ä¸­çå¤§ééçææ¡£ï¼MarkItDownReader æ¯è¿æ¥ä¼ ç» IT èµäº§ä¸ç°ä»£ AI ç³»ç»çæ¡¥æ¢ 3ã</li>
<li>MarkItDownMcpReaderï¼<br>
å¼å¥äºå¯¹ æ¨¡åä¸ä¸æåè®®ï¼Model Context Protocol, MCPï¼ æå¡å¨çæ¯æãè¿æ¯ä¸ä¸ªåç»æ§çè®¾è®¡ï¼è¡¨æè¯¥åºåå¤å¥½ä¸æ´å¹¿æ³ç AI ä»£ççæç³»ç»éæï¼åè®¸éè¿æ ååè®®è·¨è¿ç¨æè·¨ç½ç»è¾¹çè§£æææ¡£ 3ã</li>
</ul>
<h4 id="322-æ°æ®åºæåçææä¸èªå®ä¹"><strong>3.2.2 æ°æ®åºæåçææä¸èªå®ä¹</strong></h4>
<p>å°½ç®¡æä»¶ç³»ç»çè¯»åå¨éå¸¸ä¸°å¯ï¼ä½å¨å®éçä¼ä¸åºç¨ä¸­ï¼å¤§éé«ä»·å¼æ°æ®å­å¨å¨ SQL ServerãCMS æ NoSQL æ°æ®åºä¸­ãç®åçé¢è§çä¸­ï¼IngestionDocumentReader çè®¾è®¡å¨å¤çéæä»¶æºæ¶å­å¨ä¸å®çå±éæ§ãå¼åèç¤¾åºåé¦æåºï¼å½åçæ¥å£è®¾è®¡å¾åäºæä»¶æµï¼ä½¿å¾ç´æ¥ä»æ°æ®åºè®°å½æ å°å° IngestionDocument éè¦ä¸äºé¢å¤çééå·¥ä½ 7ã</p>
<p>ä¸ºäºè§£å³è¿ä¸ªé®é¢ï¼å¼åèéå¸¸éè¦å®ç°èªå®ä¹ç IngestionDocumentReaderãè¿ä¸ªèªå®ä¹è¯»åå¨ä¸è¯»åæä»¶è·¯å¾ï¼èæ¯æ¥æ¶æ°æ®åºçä¸»é® IDï¼å¨åé¨æ¥è¯¢æ°æ®åºï¼æåææ¬å­æ®µï¼å¹¶æå¨æå»º IngestionDocument å¯¹è±¡ãè¿ä½ç°äºåºçæ©å±æ§ï¼åæ¶ä¹æ­ç¤ºäºå½åçæ¬å¨âéæä»¶âåºæ¯ä¸çæ¹è¿ç©ºé´ã</p>
<h2 id="4-æ°æ®æåç®¡éæ¶ææµå¼å¼¹æ§ä¸ä¸­é´ä»¶"><strong>4. æ°æ®æåç®¡éæ¶æï¼æµå¼ãå¼¹æ§ä¸ä¸­é´ä»¶</strong></h2>
<p>IngestionPipeline&lt;T&gt; ç±»æ¯æ´ä¸ªæ°æ®å¤çæµç¨çææ¥å®ãå®ä¸ä»è´è´£æé¡ºåºè°ç¨ç»ä»¶ï¼è¿å°è£äºå¤æçå¹¶åæ§å¶ãéè¯¯å¤çåèµæºç®¡çé»è¾ã</p>
<h3 id="41-ç®¡éç»åä¸ä¾èµæ³¨å¥"><strong>4.1 ç®¡éç»åä¸ä¾èµæ³¨å¥</strong></h3>
<p>IngestionPipeline çæé éµå¾ªäºä¾èµæ³¨å¥ï¼DIï¼çæä½³å®è·µãå®è¦æ±å¨å®ä¾åæ¶æ³¨å¥æ ¸å¿ç»ä»¶ï¼Reader, Chunker, Writerãè¿ç§è®¾è®¡ä½¿å¾ç®¡éæ¬èº«æ¯æ ç¶æçï¼ä¸é«åº¦å¯éç½®ã</p>
<p>// ç®¡éå®ä¾åä»£ç ç»æç¤ºä¾<br>
using IngestionPipeline&lt;string&gt; pipeline = new(<br>
reader,<br>
chunker,<br>
writer,<br>
loggerFactory: loggerFactory)<br>
{<br>
// éç½®ææ¡£çº§å¤çå¨ï¼ä¸­é´ä»¶ï¼<br>
DocumentProcessors = { imageAlternativeTextEnricher },</p>
<pre><code>// éç½®ååçº§å¤çå¨ï¼ä¸­é´ä»¶ï¼  
ChunkProcessors \= { summaryEnricher }   
</code></pre>
<p>};</p>
<p>éè¿å±æ§åå§åå¨ï¼Object Initializerï¼éç½® DocumentProcessors å ChunkProcessors çæ¹å¼ï¼ç±»ä¼¼äº ASP.NET Core ä¸­çä¸­é´ä»¶ç®¡éæå»ºãè¿åè®¸å¼åèå¨æ ¸å¿æµç¨çååæå¥ä»»ææ°éçèªå®ä¹é»è¾ï¼ä¾å¦å¨åååè¿è¡ PIIï¼ä¸ªäººææä¿¡æ¯ï¼æ¸æ´ï¼æèå¨åååè¿è¡å³é®è¯æåã</p>
<h3 id="42-æµå¼å¤çæºå¶iasyncenumerable"><strong>4.2 æµå¼å¤çæºå¶ï¼IAsyncEnumerableï¼</strong></h3>
<p>å¨å¤çå¤§è§æ¨¡è¯­æåºï¼å¦æ°ç¾ä¸ä»½ååæä»¶ï¼æ¶ï¼åå­ç®¡çæ¯é¦è¦ææãIngestionPipeline.ProcessAsync æ¹æ³çè®¾è®¡ååèèäºè¿ä¸ç¹ï¼å®è¿å IAsyncEnumerable&lt;IngestionResult&gt;ã</p>
<p>è¿ç§è®¾è®¡æå³çç®¡éæ¯ <strong>æµå¼ï¼Streamingï¼</strong> æ§è¡çãç³»ç»ä¸ä¼ä¸æ¬¡æ§å°ææææ¡£å è½½å°åå­ä¸­ï¼èæ¯éç¨âæåâæ¨¡å¼ï¼å¤çå®ä¸ä¸ªææ¡£ï¼éæ¾ç¸å³åå­ï¼åå¤çä¸ä¸ä¸ªãè¿ä½¿å¾å¨æéåå­çå®¹å¨ç¯å¢ä¸­è¿è¡å¤§è§æ¨¡ ETL ä»»å¡æä¸ºå¯è½ãä¸æ¸¸çæ¶è´¹ç«¯ï¼Consumerï¼å¯ä»¥éè¿ await foreach éä¸ªè·åå¤çç»æï¼å®ç°å®æ¶çè¿åº¦åé¦æå³æ¶çç´¢å¼æ´æ°ã</p>
<h3 id="43-å¼¹æ§è®¾è®¡é¨åæåæ¨¡å¼"><strong>4.3 å¼¹æ§è®¾è®¡ï¼é¨åæåæ¨¡å¼</strong></h3>
<p>å¨åå¸å¼ç³»ç»åå¤§è§æ¨¡æ¹å¤çä»»å¡ä¸­ï¼<strong>é¨åæé</strong> æ¯å¸¸æãæä¸ªç¹å®ç PDF æä»¶å¯è½æåï¼æèæä¸ªç½ç»è°ç¨ï¼å¦è°ç¨ OpenAI API çææè¦ï¼å¯è½è¶æ¶ã</p>
<p>IngestionPipeline éç¨äºâé¨åæåâçè®¾è®¡æ¨¡å¼ãåä¸ªææ¡£çå¤çå¤±è´¥ä¸ä¼å¯¼è´æ´ä¸ªç®¡éæåºå¼å¸¸å¹¶ç»æ­¢ãç¸åï¼ç®¡éä¼æè·è¯¥ææ¡£å¤çè¿ç¨ä¸­çå¼å¸¸ï¼å°å¶å°è£å¨ IngestionResult å¯¹è±¡ä¸­ï¼åå« Succeeded å¸å°æ å¿å DocumentIdï¼ï¼å¹¶è®°å½éè¯¯æ¥å¿ï¼ç¶åç»§ç»­å¤çä¸ä¸ä¸ªææ¡£ 1ã</p>
<p>è¿ç§è®¾è®¡å¯¹äºé¿æ¶é´è¿è¡çåå°ä»»å¡è³å³éè¦ãå®ç¡®ä¿äº 99.9% çæ­£å¸¸ææ¡£è½å¤è¢«æ­£ç¡®ç´¢å¼ï¼èé£ 0.1% çå¤±è´¥ææ¡£å¯ä»¥éè¿æ¥å¿è¢«è¯å«å¹¶åç¬éè¯ï¼æå¤§å°æé«äºç³»ç»çæ´ä½å¯ç¨æ§åé²æ£æ§ã</p>
<h3 id="44-æ³å-t-çæä¹"><strong>4.4 æ³å T çæä¹</strong></h3>
<p>å¼å¾æ³¨æçæ¯ IngestionPipeline&lt;T&gt; ä¸­çæ³å Tãè½ç¶æå¸¸è§çåºæ¯æ¯ T ä¸º stringï¼å¤çææ¬æ°æ®ï¼ï¼ä½è¿ç§æ³åè®¾è®¡ä¸ºæªæ¥çåºäºç©ºé´ãçè®ºä¸ï¼å®å¯ä»¥æ¯æ IngestionChunk&lt;Image&gt; æå¶ä»å¤æ¨¡ææ°æ®ç±»åï¼åªè¦ç¸åºç Chunker å Writer æ¯æè¯¥ç±»åãè¿ä½ç°äºåºè®¾è®¡èå¯¹æªæ¥å¤æ¨¡æ AI åºæ¯çé¢å¤ã</p>
<h2 id="5-ååç­ç¥ä¸åè¯ææ¯rag-æ§è½çå³å®æ§å ç´ "><strong>5. ååç­ç¥ä¸åè¯ææ¯ï¼RAG æ§è½çå³å®æ§å ç´ </strong></h2>
<p>å¦æè¯´æ°æ®æ¯ RAG ççæï¼é£ä¹ååï¼Chunkingï¼å°±æ¯ç¼æ²¹çè¿ç¨ãååçè´¨éç´æ¥å³å®äºæ£ç´¢çåç¡®çï¼Recallï¼åçæçç²¾ç¡®åº¦ï¼Precisionï¼ãMicrosoft.Extensions.DataIngestion å¨è¿æ¹é¢æä¾äºåºäºæ·±åç®æ³åºç¡çè§£å³æ¹æ¡ã</p>
<h3 id="51-microsoftmltokenizersç²¾ç¡®åº¦çåºç³"><strong>5.1 Microsoft.ML.Tokenizersï¼ç²¾ç¡®åº¦çåºç³</strong></h3>
<p>ä¼ ç»çååå¾å¾åºäºå­ç¬¦æ°ï¼ä¾å¦æ¯ 1000 ä¸ªå­ç¬¦åä¸åï¼ãç¶èï¼LLM çä¸ä¸æçªå£æ¯åºäº <strong>Token</strong> è®¡æ°çãä¸­æå­ç¬¦ãè±æå­æ¯ãç¹æ®ç¬¦å·å¨ Token ååçé¿åº¦å·®å¼å·¨å¤§ãç®åçå­ç¬¦ååå¾å¾ä¼å¯¼è´å®é Token æ°è¶åºæ¨¡åéå¶ï¼æèé æ Token ç©ºé´çæµªè´¹ã</p>
<p>Microsoft.Extensions.DataIngestion æå»ºå¨ Microsoft.ML.Tokenizers ä¹ä¸ ãè¿æ¯ä¸ä¸ªé«æ§è½çåè¯åºï¼æ¯æ BPE (Byte Pair Encoding) ç­ä¸»æµåè¯ç®æ³ï¼åæ¬ GPT-4 ä½¿ç¨ç cl100k_base ç¼ç ã</p>
<p>è¿æå³çç®¡éä¸­çååæä½æ¯ <strong>Token æç¥ï¼Token-Awareï¼</strong> çãå½éç½® MaxTokensPerChunk = 2000 æ¶ï¼åºä¼ç¡®ä¿åååºççæ®µå¨ç»è¿ç¹å®æ¨¡åï¼å¦ GPT-4ï¼çåè¯å¨ç¼ç åï¼ä¸¥æ ¼ä¸è¶è¿ 2000 ä¸ª Tokenãè¿ç§ç²¾ç¡®æ§å¶å¯¹äºæå¤§åå©ç¨ä¸ä¸æçªå£ãé²æ­¢ API è°ç¨æ¥éè³å³éè¦ã</p>
<h3 id="52-ä¸å¤§ååç­ç¥æ·±åº¦åæ"><strong>5.2 ä¸å¤§ååç­ç¥æ·±åº¦åæ</strong></h3>
<p>åºæä¾äºä¸ç§ä¸»è¦çååå¨å®ç°ï¼åå«å¯¹åºä¸åçæ°æ®ç¹å¾åä¸å¡éæ±ã</p>
<h4 id="521-headerchunkeråºäºæ é¢çåå"><strong>5.2.1 HeaderChunkerï¼åºäºæ é¢çååï¼</strong></h4>
<ul>
<li><strong>å·¥ä½æºå¶</strong>ï¼å©ç¨ IngestionDocument ä¸­ç IngestionDocumentHeader ä¿¡æ¯ï¼æ²¿çææ¡£çæ é¢å±çº§ï¼H1 -&gt; H2 -&gt; H3ï¼è¿è¡ååã</li>
<li><strong>éç¨åºæ¯</strong>ï¼ç»æåæå¼ºçææ¡£ï¼å¦ç¨æ·æåãAPI ææ¡£ãæ³å¾æ³è§ãè¿äºææ¡£çæ¯ä¸èéå¸¸è®²è¿°ä¸ä¸ªç¬ç«çä¸»é¢ã</li>
<li><strong>ä¼å¿</strong>ï¼è¯­ä¹è¾¹çæ¸æ°ï¼æå¤§éä½äºæ­ç« åä¹çé£é©ãå®å°éäºåä½èçé»è¾ç»ç»ã</li>
<li><strong>å±é</strong>ï¼å¦æææ¡£ç¼ºä¹æ é¢ç»æï¼æèæä¸èåå®¹è¿é¿ï¼è¶è¿ Token éå¶ï¼ï¼è¯¥ç­ç¥å¯è½ææä¸ä½³æéåä¸ºå¼ºå¶ååã</li>
</ul>
<h4 id="522-sectionchunkeråºäºèçåå"><strong>5.2.2 SectionChunkerï¼åºäºèçååï¼</strong></h4>
<ul>
<li><strong>å·¥ä½æºå¶</strong>ï¼åºäº IngestionDocumentSection è¿è¡ååï¼éå¸¸å¯¹åºäºç©çé¡µé¢æé»è¾ç« è ã</li>
<li><strong>éç¨åºæ¯</strong>ï¼æ«æç PDF å¤çï¼æèå PPT è¿æ ·æ¯ä¸é¡µåå®¹ç¸å¯¹ç¬ç«çææ¡£ã</li>
<li><strong>ä¼å¿</strong>ï¼ä¾¿äºå®ç°âåæå®ä½âï¼ç¨æ·å¯ä»¥çå°æ£ç´¢ç»ææ¥èªâç¬¬ 5 é¡µâã</li>
</ul>
<h4 id="523-semanticsimilaritychunkeråºäºè¯­ä¹ç¸ä¼¼åº¦çåå"><strong>5.2.3 SemanticSimilarityChunkerï¼åºäºè¯­ä¹ç¸ä¼¼åº¦çååï¼</strong></h4>
<p>è¿æ¯ææºè½ãä¹æ¯æå·ææ¯å«éçååç­ç¥ã</p>
<ul>
<li>
<p>å·¥ä½æºå¶ï¼<br>
è¯¥ååå¨ä¸ä»ä»æ¯çç»æï¼èæ¯çâææâãå®å©ç¨åµå¥æ¨¡åï¼Embedding Modelï¼å¯¹æ­£å¨å¤ççå¥å­çæåéï¼å¹¶è®¡ç®å½åå¥å­ä¸åæä¸ä¸æç ä½å¼¦ç¸ä¼¼åº¦ï¼Cosine Similarityï¼ãå½ç¸ä¼¼åº¦åæ°çªç¶ä¸éæ¶ï¼æå³çè¯é¢åçäºè½¬ç§»ï¼Topic Shiftï¼ï¼ååå¨å°±ä¼å¨æ­¤å¤âä¸åâåå 1ã</p>
</li>
<li>
<p><strong>éç½®éé¡¹ (IngestionChunkerOptions)</strong>ï¼</p>
<ul>
<li>MaxTokensPerChunkï¼ç¡¬æ§ä¸éï¼å³ä½¿è¯é¢æ²¡æç»æï¼è¾¾å°æ­¤é¿åº¦ä¹ä¼å¼ºå¶ååï¼é²æ­¢æº¢åºã</li>
<li>OverlapTokensï¼éå çªå£ãå¨ååç¹ååä¿çä¸å®æ°éç Tokenï¼ä¾å¦ 50 ä¸ªï¼ï¼ç¡®ä¿ä¸ä¸æçè¿ç»­æ§ï¼é¿ååæ­è·¨å¥å­çæä»£å³ç³» 9ã</li>
</ul>
</li>
<li>
<p><strong>ä»£ç å®ç°ç»è</strong>ï¼<br>
// å®ä¾ååè¯å¨<br>
var tokenizer = TiktokenTokenizer.CreateForModel("gpt-4");</p>
<p>// éç½®éé¡¹<br>
IngestionChunkerOptions chunkerOptions = new(tokenizer)<br>
{<br>
MaxTokensPerChunk = 2000,<br>
OverlapTokens = 50<br>
};</p>
<p>// å®ä¾åè¯­ä¹ååå¨ï¼æ³¨å¥åµå¥çæå¨<br>
IngestionChunker&lt;string&gt; chunker = new SemanticSimilarityChunker(<br>
embeddingGenerator,<br>
chunkerOptions);</p>
</li>
<li>
<p><strong>éç¨åºæ¯</strong>ï¼ä¼è®®è®°å½ãé¿ç¯åäºæç« ãæ£æãå¯¹è¯è®°å½ç­ç¼ºä¹æç¡®æ é¢ç»æçæµå¼ææ¬ã</p>
</li>
<li>
<p><strong>ä¼å¿</strong>ï¼çæçåå·æé«åº¦çè¯­ä¹åèæ§ï¼Cohesionï¼ï¼æ£ç´¢åºæ¥ççæ®µå¾å¾æ¯ä¸ä¸ªå®æ´çè¯é¢ï¼æå¤§å°æåäº RAG çåç­è´¨éã</p>
</li>
</ul>
<p><strong>6. æºè½å¢å¼ºå±ï¼ä» ETL å° AI-ETL</strong></p>
<p>åçº¯çææ¬åååªæ¯ç¬¬ä¸æ­¥ãä¸ºäºè®©æ°æ®æ´å®¹æè¢«æ£ç´¢ï¼Microsoft.Extensions.DataIngestion å¼å¥äº <strong>AI å¢å¼ºï¼AI Enrichmentï¼</strong> çæ¦å¿µãéè¿å¨ç®¡éä¸­æå¥ç± LLM é©±å¨çå¤çå¨ï¼å¯ä»¥å¨æ°æ®å¥åºåå¯¹å¶è¿è¡âæºåå å·¥âã</p>
<h3 id="61-åç½®ä¸°å¯å¨enrichersè¯¦è§£"><strong>6.1 åç½®ä¸°å¯å¨ï¼Enrichersï¼è¯¦è§£</strong></h3>
<p>è¿äºä¸°å¯å¨å®ç°äº IngestionChunkProcessor&lt;T&gt; æ IngestionDocumentProcessor æ¥å£ï¼å¯ä»¥ç´æ¥æå¥ç®¡éã</p>
<ol>
<li><strong>SummaryEnricherï¼æè¦ä¸°å¯å¨ï¼</strong>
<ul>
<li><strong>åè½</strong>ï¼å¯¹æ¯ä¸ªååï¼Chunkï¼è°ç¨ LLM çæä¸æ®µç®ç­çæè¦ 1ã</li>
<li><strong>æ¶æä»·å¼</strong>ï¼
<ul>
<li><strong>åè·¯æ£ç´¢</strong>ï¼ç³»ç»å¯ä»¥åæ¶ç´¢å¼åå§ææ¬åæè¦ãææ¶åç¨æ·çæ¥è¯¢æ´å¹éæè¦çæ¦æ¬æ§æè¿°ï¼èä¸æ¯åæçç»èã</li>
<li><strong>ä¸ä¸æåç¼©</strong>ï¼å¨çæé¶æ®µï¼å¦æä¸ä¸æçªå£ç´§å¼ ï¼å¯ä»¥åªå°æè¦åéç» LLMï¼èä¸æ¯åå§çé¿ææ¬ã</li>
</ul>
</li>
</ul>
</li>
<li><strong>KeywordEnricherï¼å³é®è¯ä¸°å¯å¨ï¼</strong>
<ul>
<li><strong>åè½</strong>ï¼åæåååå®¹ï¼æååºå³é®å®ä½ï¼Entitiesï¼ææ¯è¯­ 1ã</li>
<li><strong>æ¶æä»·å¼</strong>ï¼æ¯æ <strong>æ··åæ£ç´¢ï¼Hybrid Searchï¼</strong>ãåéæ£ç´¢æé¿è¯­ä¹å¹éï¼ä½å¯¹äºä¸æåè¯ï¼å¦äº§ååå·âX-2000âï¼å¯è½ä¸å¤ç²¾ç¡®ãéè¿æåå³é®è¯å¹¶å­å¨å¨åæ°æ®ä¸­ï¼å¯ä»¥å¨æ¥è¯¢æ¶ç»ååæç´¢å¼ï¼å³é®è¯å¹éï¼ååéç´¢å¼ï¼å¤§å¹æåå¬åçã</li>
</ul>
</li>
<li><strong>ImageAlternativeTextEnricherï¼å¾åæè¿°ä¸°å¯å¨ï¼</strong>
<ul>
<li><strong>åè½</strong>ï¼è°ç¨å¤æ¨¡ææ¨¡åï¼å¦ GPT-4 Visionï¼åæææ¡£ä¸­çå¾çï¼çæææ¬æè¿°ï¼Alt Textï¼4ã</li>
<li><strong>æ¶æä»·å¼</strong>ï¼å¡«è¡¥äºä¼ ç»ææ¬ RAG çç²åºãä½¿å¾å¾çåå®¹åå¾âå¯æç´¢âãä¾å¦ï¼ç¨æ·æç´¢âQ3 éå®è¶å¿âï¼ç³»ç»å¯ä»¥éè¿å¾çç Alt Text æ£ç´¢å°åå«è¶å¿å¾çå¹»ç¯çé¡µé¢ã</li>
</ul>
</li>
<li><strong>SentimentEnricherï¼ææåæä¸°å¯å¨ï¼</strong>
<ul>
<li><strong>åè½</strong>ï¼å¤æ­ææ¬çææå¾åï¼ç§¯æãæ¶æãä¸­æ§ï¼3ã</li>
<li><strong>æ¶æä»·å¼</strong>ï¼ä¸ºæ°æ®æä¸æææ ç­¾ãå¨å®¢æ·æå¡åºæ¯ä¸­ï¼å¯ä»¥å©ç¨æ­¤åæ°æ®è¿æ»¤åºâæ¤æçå®¢æ·åé¦âä¼åå¤çã</li>
</ul>
</li>
</ol>
<h3 id="62-èªå®ä¹å¢å¼ºä¸ä¸­é´ä»¶æ¨¡å¼"><strong>6.2 èªå®ä¹å¢å¼ºä¸ä¸­é´ä»¶æ¨¡å¼</strong></h3>
<p>é¤äºåç½®ä¸°å¯å¨ï¼å¼åèå¯ä»¥è½»æ¾å®ç°èªå®ä¹é»è¾ãä¾å¦ï¼ç¼åä¸ä¸ª PiiRedactionEnricherï¼å©ç¨ Microsoft.Extensions.AI çè½åè¯å«å¹¶æ©çææ¬ä¸­çèº«ä»½è¯å·æææºå·ãè¿ç§ä¸­é´ä»¶æ¨¡å¼ä½¿å¾æ°æ®ç®¡éä¸ä»æ¯ä¼ è¾æ°æ®çééï¼æ´æ¯æ§è¡æ°æ®æ²»çãéç§åè§åç¥è¯ææçæ ¸å¿åºæã</p>
<h2 id="7-åéå­å¨æ½è±¡microsoftextensionsvectordata"><strong>7. åéå­å¨æ½è±¡ï¼Microsoft.Extensions.VectorData</strong></h2>
<p>æ°æ®ç»è¿æ¸æ´ãåååå¢å¼ºåï¼æç»éè¦å­å¥æ°æ®åºãMicrosoft.Extensions.VectorData åºéè¿æä¾ä¸å¥ç»ä¸çæ½è±¡å±ï¼è§£å³äºåéæ°æ®åºå¸åºçç¢çåé®é¢ ã</p>
<h3 id="71-ivectorstore-æ¥å£ç»ä¸ç-crud-ä¸æ£ç´¢"><strong>7.1 IVectorStore æ¥å£ï¼ç»ä¸ç CRUD ä¸æ£ç´¢</strong></h3>
<p>æ ¸å¿æ¥å£ IVectorStore åå¶ç¸å³ç»ä»¶ï¼IVectorStoreRecordCollectionï¼å®ä¹äºä¸åéæ°æ®åºäº¤äºçæ åå¥çº¦ãè¿æå³çä¸å±åºç¨é»è¾ä¸éè¦å³å¿åºå±æ¯ QdrantãRedis è¿æ¯ SQL Serverã</p>
<p>ä¸»è¦åè½åæ¬ï¼</p>
<ul>
<li><strong>Schema å®ä¹</strong>ï¼éè¿ VectorStoreRecordDefinition æå±æ§æ ç­¾ï¼Attributesï¼å®ä¹æ°æ®æ¨¡åï¼æå®åªäºå­æ®µæ¯ä¸»é®ï¼Keyï¼ãæ°æ®ï¼Dataï¼æåéï¼Vectorï¼15ã</li>
<li><strong>CRUD æä½</strong>ï¼æ åçå¢å æ¹æ¥ APIã</li>
<li><strong>åéæç´¢</strong>ï¼æ¯æä½å¼¦ç¸ä¼¼åº¦ãæ¬§å éå¾è·ç¦»ç­å¤ç§åº¦éæ¹å¼ã</li>
<li><strong>æ··åæç´¢ä¸è¿æ»¤</strong>ï¼æ¯æç»ååæ°æ®è¿æ»¤ï¼ä¾å¦ Category == 'Report'ï¼çåéæç´¢ 15ã</li>
</ul>
<h3 id="72-vectorstorewriteræºè½åå¥å¨"><strong>7.2 VectorStoreWriterï¼æºè½åå¥å¨</strong></h3>
<p>VectorStoreWriter&lt;T&gt; æ¯è¿æ¥æåç®¡éä¸å­å¨å±çæ¡¥æ¢ãå®ä¸ä»ä»æ¯ä¸ä¸ªç®åç DAOï¼Data Access Objectï¼ï¼è¿åå«äºä¸äºå³é®çä¸å¡é»è¾ï¼</p>
<ol>
<li>èªå¨åµå¥çæï¼Automatic Embedding Generationï¼ï¼<br>
å¦æå¨ç®¡éä¸­åªä¼ éäºææ¬ååèæ²¡æçæåéï¼VectorStoreWriter å¯ä»¥éç½®ä¸ä¸ª IEmbeddingGeneratorãå¨åå¥æ°æ®åºä¹åï¼å®ä¼èªå¨è°ç¨åµå¥æ¨¡åçæåéãè¿å¤§å¤§ç®åäºç®¡ééç½®ï¼å°åµå¥çæçè´£ä»»å§æç»äºåå¥é¶æ®µ 4ã</li>
<li>å¢éæ´æ°ä¸å¹ç­æ§ï¼<br>
å¨ RAG ç³»ç»ä¸­ï¼ææ¡£ç»å¸¸ä¼è¢«ä¿®æ¹åéæ°ä¸ä¼ ãVectorStoreWriter å®ç°äºæºè½çæ´æ°é»è¾ï¼å¨åå¥æ°ååä¹åï¼å®ä¼æ ¹æ®ææ¡£ ID å é¤è¯¥ææ¡£æ§çæ¬çææååãè¿ç¡®ä¿äºæ°æ®åºä¸­ä¸ä¼æ®çè¿æçãå¯¼è´å¹»è§çæ§æ°æ®çæ®µï¼Orphaned Chunksï¼ï¼ä¿è¯äºç¥è¯åºçæ¶ææ§åä¸è´æ§ 8ã</li>
</ol>
<h3 id="73-å¹¿æ³çè¿æ¥å¨çæ"><strong>7.3 å¹¿æ³çè¿æ¥å¨çæ</strong></h3>
<p>å¾çäºä¸ Semantic Kernel å¢éçç´§å¯åä½ï¼Microsoft.Extensions.VectorData å¨åå¸ä¹åå°±æ¥æäºä¸°å¯çè¿æ¥å¨æ¯æãè¿äºè¿æ¥å¨ä»¥ Microsoft.SemanticKernel.Connectors.* çå½¢å¼åå¸ï¼ä½å®ç°äºæ°ç VectorData æ¥å£ 17ã</p>
<table>
<thead>
<tr>
<th style="text-align: left">æ¯æçåéå­å¨</th>
<th style="text-align: left">NuGet ååç§°</th>
<th style="text-align: left">å¸ååºç¨åºæ¯</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left"><strong>Qdrant</strong></td>
<td style="text-align: left">Microsoft.SemanticKernel.Connectors.Qdrant</td>
<td style="text-align: left">é«æ§è½ãçäº§çº§å¼æºåéæ°æ®åº</td>
</tr>
<tr>
<td style="text-align: left"><strong>Azure AI Search</strong></td>
<td style="text-align: left">Microsoft.SemanticKernel.Connectors.AzureAISearch</td>
<td style="text-align: left">ä¼ä¸çº§ãå¨æç®¡ãæ¯ææ··åæ£ç´¢</td>
</tr>
<tr>
<td style="text-align: left"><strong>Redis</strong></td>
<td style="text-align: left">Microsoft.SemanticKernel.Connectors.Redis</td>
<td style="text-align: left">æä½å»¶è¿çå®æ¶æ£ç´¢åºæ¯</td>
</tr>
<tr>
<td style="text-align: left"><strong>PostgreSQL</strong></td>
<td style="text-align: left">Microsoft.SemanticKernel.Connectors.PgVector</td>
<td style="text-align: left">å³ç³»åæ°æ®ä¸åéæ°æ®æ··åå­å¨</td>
</tr>
<tr>
<td style="text-align: left"><strong>SQLite</strong></td>
<td style="text-align: left">Microsoft.SemanticKernel.Connectors.SqliteVec</td>
<td style="text-align: left">æ¬å°å¼åãè¾¹ç¼è®¡ç®ãç¦»çº¿åºç¨</td>
</tr>
<tr>
<td style="text-align: left"><strong>Azure Cosmos DB</strong></td>
<td style="text-align: left">Microsoft.SemanticKernel.Connectors.Cosmos*</td>
<td style="text-align: left">å¤§è§æ¨¡åå¸å¼å­å¨</td>
</tr>
<tr>
<td style="text-align: left"><strong>InMemory</strong></td>
<td style="text-align: left">Microsoft.SemanticKernel.Connectors.InMemory</td>
<td style="text-align: left">ååæµè¯ãå¿«éååéªè¯</td>
</tr>
</tbody>
</table>
<p><strong>ç¹å«æ¯ SQLite è¿æ¥å¨ (SqliteVec)</strong>ï¼è¿æ¯ä¸ä¸ªéå¸¸éè¦çè¡¥åãå®å©ç¨ sqlite-vec æ©å±ï¼ä½¿å¾.NET å¼åèå¯ä»¥å¨æ²¡æä»»ä½å¤é¨æ°æ®åºä¾èµçæåµä¸ï¼å¨æ¬å°æå»ºå¨åè½ç RAG åºç¨ãè¿å¯¹äºç§»å¨åºç¨ãæ¡é¢åºç¨æå¼åæµè¯ç¯å¢å·æå·¨å¤§çä»·å¼ 4ã</p>
<h2 id="8-ä¸-semantic-kernel-çèåä¸è¿ç§»"><strong>8. ä¸ Semantic Kernel çèåä¸è¿ç§»</strong></h2>
<p>å¯¹äºç°æç Semantic Kernel (SK) ç¨æ·ï¼è¿å¥æ°åºä»£è¡¨äºæªæ¥çæ¹åã</p>
<h3 id="81-ä»-memory-å°-vectordata-çæ¼è¿"><strong>8.1 ä» Memory å° VectorData çæ¼è¿</strong></h3>
<p>å¨æ©æç Semantic Kernel çæ¬ä¸­ï¼åéå­å¨æ¯éè¿ Microsoft.SemanticKernel.Memory.IMemoryStore æ¥å£ç®¡ççãè¿ä¸ªæ§æ½è±¡å­å¨ä¸äºè®¾è®¡ä¸çå±éæ§ï¼ä¾å¦å¼ºå¶åºå®ç Schemaï¼ID, Text, Vectorï¼ï¼é¾ä»¥æ¯æå¤æçåæ°æ®è¿æ»¤æèªå®ä¹çæ°æ®ç»æã</p>
<p>æ°ç Microsoft.Extensions.VectorData.IVectorStore æä¾äºæ´æ³åãæ´çµæ´»çè®¾è®¡ï¼</p>
<ul>
<li>æ¯æèªå®ä¹ POCO (Plain Old CLR Object) ä½ä¸ºè®°å½æ¨¡åã</li>
<li>æ¯ææ´å¤æçæ¥è¯¢åè¿æ»¤è¯­æ³ã</li>
<li>è§£è¦äº Semantic Kernel çæ ¸å¿ç¼æé»è¾ï¼ä½¿å¶å¯ä»¥ç¬ç«ä½¿ç¨ 20ã</li>
</ul>
<h3 id="82-è¿ç§»æå"><strong>8.2 è¿ç§»æå</strong></h3>
<p>å¾®è½¯æç¡®å»ºè®®å¼åèè¿ç§»å°æ°çæ½è±¡å±ãè¿ç§»çä¸»è¦å·¥ä½åæ¬ï¼</p>
<ol>
<li><strong>åæ¿æ¢</strong>ï¼å°æ§ç Microsoft.SemanticKernel.Connectors.* ååçº§å°ææ°çæ¬ã</li>
<li><strong>ä»£ç éæ</strong>ï¼å°ä¾èµ IMemoryStore çä»£ç æ¹ä¸ºä¾èµ IVectorStoreã</li>
<li><strong>å½åç©ºé´æ´æ°</strong>ï¼æ³¨æåååç±»åçååï¼ä¾å¦ Sqlite è¿æ¥å¨æ´åä¸º SqliteVecï¼ä»¥æç¡®å¶ä½¿ç¨äºåéæ©å± ã</li>
</ol>
<p>Semantic Kernel å¢éå·²ç»å®æäºåºå±å·¥ä½ï¼ç¡®ä¿æ°çæ¬ç SK è¿æ¥å¨å®å¨å®ç°äº VectorData æ½è±¡ï¼å æ­¤å¯¹äºä½¿ç¨ SK é«çº§åè½çå¼åèï¼è¿ç§åºå±æ¿æ¢æ¯ç¸å¯¹å¹³æ»ç 14ã</p>
<h2 id="9-å®ææ¡ä¾åænet-ai-chat-æ¨¡æ¿"><strong>9. å®ææ¡ä¾åæï¼.NET AI Chat æ¨¡æ¿</strong></h2>
<p>ä¸ºäºå±ç¤ºè¿äºæå»ºæ¨¡åçç»¼åè¿ç¨ï¼å¾®è½¯åå¸äº <strong>.NET AI Chat Template</strong> (dotnet new aichatweb)ãè¿æ¯ä¸ä¸ªåèæ¶æï¼å±ç¤ºäºå¦ä½å°ä¸è¿°ææç»ä»¶ä¸²èèµ·æ¥æå»ºä¸ä¸ªç«¯å°ç«¯ç RAG åºç¨ ã</p>
<h3 id="91-æ¶ææµç¨è§£æ"><strong>9.1 æ¶ææµç¨è§£æ</strong></h3>
<p>è¯¥æ¨¡æ¿é¡¹ç®æ¼ç¤ºäºä¸ä¸ªå¸åç RAG å·¥ä½æµï¼</p>
<ol>
<li><strong>æ°æ®æºå±</strong>ï¼
<ul>
<li>æ¨¡æ¿é»è®¤åå« PDF ç¤ºä¾æä»¶ï¼ä½äº /wwwroot/Data ç®å½ã</li>
<li>ä½¿ç¨ PDFReader (åºäº MarkItDown) å° PDF è§£æä¸º IngestionDocumentã</li>
</ul>
</li>
<li><strong>å¤çç®¡éå±</strong>ï¼
<ul>
<li>æå»º IngestionPipelineã</li>
<li>åºç¨ SemanticSimilarityChunker å¯¹ææ¬è¿è¡æºè½ååã</li>
<li>ä½¿ç¨ Microsoft.Extensions.AI è¿è¡åµå¥çæã</li>
</ul>
</li>
<li><strong>å­å¨å±</strong>ï¼
<ul>
<li>é»è®¤éç½®ä½¿ç¨ SqliteVectorStore è¿è¡æ¬å°å­å¨ï¼æ¹ä¾¿å¼åèâå¼ç®±å³ç¨âèæ ééç½®äºèµæºã</li>
<li>åæ¶ä¹æ¯æéè¿éç½®åæ¢å° Azure AI Search è¿è¡çäº§é¨ç½² 23ã</li>
</ul>
</li>
<li><strong>åºç¨å±</strong>ï¼
<ul>
<li>åºäº Blazor çåç«¯çé¢ã</li>
<li>åç«¯æå¡æ¥æ¶ç¨æ·æé®ï¼éè¿ IVectorStore æ£ç´¢ç¸å³ååã</li>
<li>å°æ£ç´¢å°çä¸ä¸ææ³¨å¥å° Prompt ä¸­ï¼è°ç¨ Chat Client çæåç­ã</li>
<li>æ¯æâå¼ç¨è·è¸ªâï¼å³å¨åç­ä¸­æ è®°åºä¿¡æ¯æ¥æºï¼å¼ç¨äºåªä¸ªæä»¶çåªä¸æ®µï¼23ã</li>
</ul>
</li>
</ol>
<h3 id="92-å®å¶ä¸æ©å±"><strong>9.2 å®å¶ä¸æ©å±</strong></h3>
<p>è¯¥æ¨¡æ¿ä¸ä»æ¯ä¸ä¸ªç¤ºä¾ï¼æ´æ¯ä¸ä¸ªèææ¶ãå¼åèå¯ä»¥éè¿ç®åçéç½®ä¿®æ¹ï¼å¦æ´æ¢ Vector Store æä¾åï¼ï¼æèéè¿ä»£ç æ©å±ï¼å¦æ·»å èªå®ä¹ç IngestionDocumentProcessor æ¥å¤çç¹å®è¡ä¸çææ¡£æ ¼å¼ï¼æ¥å¿«éæå»ºåç´é¢åç AI åºç¨ãä¾å¦ï¼ç»å Auth0 ç­èº«ä»½è®¤è¯æå¡ï¼å¯ä»¥å¨æ£ç´¢å±å®ç°åºäºç¨æ·æéçææ¡£éç¦»ï¼Document-level Authorizationï¼ï¼ç¡®ä¿æ°æ®å®å¨ 25ã</p>
<h2 id="10-ç»è®º"><strong>10. ç»è®º</strong></h2>
<p>Microsoft.Extensions.DataIngestion å Microsoft.Extensions.VectorData çåå¸ï¼ä¸ä»ä»æ¯å ä¸ª NuGet åçæ´æ°ï¼å®ä»£è¡¨äº.NET å¨ AI æ¶ä»£çèªæé©æ°ã</p>
<p>éè¿æä¾ <strong>ç»ä¸çææ¡£å¯¹è±¡æ¨¡å</strong>ï¼å¾®è½¯è§£å³äºæ°æ®æºå¼æççç¹ï¼éè¿ <strong>æµå¼ç®¡éæ¶æ</strong>ï¼è§£å³äºå¤§è§æ¨¡æ°æ®å¤ççæ§è½ç¶é¢ï¼éè¿ <strong>è¯­ä¹ååä¸ AI å¢å¼º</strong>ï¼æåäº RAG ç³»ç»çæºè½é«åº¦ï¼éè¿ <strong>æ ååçåéå­å¨æ½è±¡</strong>ï¼æå»ºäºå¼æ¾ä¸å¼å®¹çæ°æ®åºçæã</p>
<p>å¯¹äºä¼ä¸æ¶æå¸èè¨ï¼è¿æå³çç°å¨å¯ä»¥ä½¿ç¨æçãç±»åå®å¨ä¸é«æ§è½ç C# ä»£ç æ¥æå»ºå¤æç AI æ°æ®åºç¡è®¾æ½ï¼èä¸åéè¦ä¾èµä¸çæç Python å·¥å·é¾æä¸ç¨³å®çå®éªæ§èæ¬ãéç.NET 10 çä¸´è¿ä»¥å AI çæçæç»­æ¼è¿ï¼ææ¡è¿äºæå»ºæ¨¡åå°æä¸ºæ¯ä¸ä½.NET å¼åèçæ ¸å¿ç«äºåãç°å¨ï¼æ­£æ¯æå»ºä¸ä¸ä»£æºè½åºç¨çæä½³æ¶æºã</p>
<h4 id="å¼ç¨çèä½"><strong>å¼ç¨çèä½</strong></h4>
<ol>
<li>Introducing Data Ingestion Building Blocks (Preview) - .NET Blog <a href="https://devblogs.microsoft.com/dotnet/introducing-data-ingestion-building-blocks-preview/" target="_blank" rel="noopener nofollow">https://devblogs.microsoft.com/dotnet/introducing-data-ingestion-building-blocks-preview/</a></li>
<li>Data ingestion - .NET | Microsoft Learn,<a href="https://learn.microsoft.com/en-us/dotnet/ai/conceptual/data-ingestion" target="_blank" rel="noopener nofollow">https://learn.microsoft.com/en-us/dotnet/ai/conceptual/data-ingestion</a></li>
<li>Microsoft.Extensions.DataIngestion Namespace, <a href="https://learn.microsoft.com/en-us/dotnet/api/microsoft.extensions.dataingestion?view=net-10.0-pp" target="_blank" rel="noopener nofollow">https://learn.microsoft.com/en-us/dotnet/api/microsoft.extensions.dataingestion?view=net-10.0-pp</a></li>
<li>Microsoft.Extensions.DataIngestion.MarkItDown 10.1.1-preview.1.25612.2</li>
<li><a href="https://libraries.io/nuget/Microsoft.Extensions.DataIngestion.MarkItDown" target="_blank" rel="noopener nofollow">https://libraries.io/nuget/Microsoft.Extensions.DataIngestion.MarkItDown</a></li>
<li>Using IngestionPipeline for content not originating from the file system Â· Issue #7082 Â· dotnet/extensions <a href="https://github.com/dotnet/extensions/issues/7082" target="_blank" rel="noopener nofollow">https://github.com/dotnet/extensions/issues/7082</a></li>
<li>Luis Quintanilla, Author at .NET Blog - Microsoft Developer Blogs, <a href="https://devblogs.microsoft.com/dotnet/author/luquinta/feed/" target="_blank" rel="noopener nofollow">https://devblogs.microsoft.com/dotnet/author/luquinta/feed/</a></li>
<li>IngestionChunkerOptions.OverlapTokens Property <a href="https://learn.microsoft.com/en-us/dotnet/api/microsoft.extensions.dataingestion.ingestionchunkeroptions.overlaptokens?view=net-10.0-pp" target="_blank" rel="noopener nofollow">https://learn.microsoft.com/en-us/dotnet/api/microsoft.extensions.dataingestion.ingestionchunkeroptions.overlaptokens?view=net-10.0-pp</a></li>
<li>SummaryEnricher Class (Microsoft.Extensions.DataIngestion) <a href="https://learn.microsoft.com/en-us/dotnet/api/microsoft.extensions.dataingestion.summaryenricher?view=net-10.0-pp" target="_blank" rel="noopener nofollow">https://learn.microsoft.com/en-us/dotnet/api/microsoft.extensions.dataingestion.summaryenricher?view=net-10.0-pp</a></li>
<li>KeywordEnricher Class (Microsoft.Extensions.DataIngestion) <a href="https://learn.microsoft.com/dotnet/api/microsoft.extensions.dataingestion.keywordenricher" target="_blank" rel="noopener nofollow">https://learn.microsoft.com/dotnet/api/microsoft.extensions.dataingestion.keywordenricher</a></li>
<li>KeywordEnricher Class (Microsoft.Extensions.DataIngestion) <a href="https://learn.microsoft.com/ko-kr/dotnet/api/microsoft.extensions.dataingestion.keywordenricher?view=net-10.0-pp" target="_blank" rel="noopener nofollow">https://learn.microsoft.com/ko-kr/dotnet/api/microsoft.extensions.dataingestion.keywordenricher?view=net-10.0-pp</a></li>
<li>Introducing Microsoft.Extensions.VectorData Preview - .NET Blog <a href="https://devblogs.microsoft.com/dotnet/introducing-microsoft-extensions-vector-data/" target="_blank" rel="noopener nofollow">https://devblogs.microsoft.com/dotnet/introducing-microsoft-extensions-vector-data/</a></li>
<li>Microsoft.Extensions.VectorData.Abstractions: Now Available | Semantic Kernel <a href="https://devblogs.microsoft.com/semantic-kernel/microsoft-extensions-vectordata-abstractions-now-available/" target="_blank" rel="noopener nofollow">https://devblogs.microsoft.com/semantic-kernel/microsoft-extensions-vectordata-abstractions-now-available/</a></li>
<li>Microsoft.Extensions.VectorData.Abstractions 9.7.0 - NuGet,<a href="https://www.nuget.org/packages/Microsoft.Extensions.VectorData.Abstractions/" target="_blank" rel="noopener nofollow">https://www.nuget.org/packages/Microsoft.Extensions.VectorData.Abstractions/</a></li>
<li>Vector Store changes ï¼ <a href="https://learn.microsoft.com/en-us/semantic-kernel/support/migration/vectorstore-april-2025" target="_blank" rel="noopener nofollow">https://learn.microsoft.com/en-us/semantic-kernel/support/migration/vectorstore-april-2025</a></li>
<li>Vector Data Extensions are now Generally Available (GA) | Semantic Kernel <a href="https://devblogs.microsoft.com/semantic-kernel/vector-data-extensions-are-now-generally-available-ga/" target="_blank" rel="noopener nofollow">https://devblogs.microsoft.com/semantic-kernel/vector-data-extensions-are-now-generally-available-ga/</a></li>
<li>NET AI Template Now Available in Preview - Microsoft Dev Blogs,<a href="https://devblogs.microsoft.com/dotnet/announcing-dotnet-ai-template-preview1/" target="_blank" rel="noopener nofollow">https://devblogs.microsoft.com/dotnet/announcing-dotnet-ai-template-preview1/</a></li>
<li>Preview 2 of the .NET AI Template Now Available - Microsoft Dev Blogs, è®¿é®æ¶é´ä¸º åäºæ 25, 2025ï¼ <a href="https://devblogs.microsoft.com/dotnet/announcing-dotnet-ai-template-preview2/" target="_blank" rel="noopener nofollow">https://devblogs.microsoft.com/dotnet/announcing-dotnet-ai-template-preview2/</a></li>
<li>Quickstart - Create a .NET AI app using the AI app template <a href="https://learn.microsoft.com/en-us/dotnet/ai/quickstarts/ai-templates" target="_blank" rel="noopener nofollow">https://learn.microsoft.com/en-us/dotnet/ai/quickstarts/ai-templates</a></li>
<li>Secure a .NET RAG System with Auth0 FGA, <a href="https://auth0.com/blog/secure-dotnet-rag-system-with-auth0-fga/" target="_blank" rel="noopener nofollow">https://auth0.com/blog/secure-dotnet-rag-system-with-auth0-fga/</a></li>
<li>Build a .NET AI vector search app - Microsoft Learn <a href="https://learn.microsoft.com/en-us/dotnet/ai/quickstarts/build-vector-search-app" target="_blank" rel="noopener nofollow">https://learn.microsoft.com/en-us/dotnet/ai/quickstarts/build-vector-search-app</a></li>
</ol>

</div>
<div id="MySignature" role="contentinfo">
    <p>æ¬¢è¿å¤§å®¶æ«æä¸é¢äºç»´ç æä¸ºæçå®¢æ·ï¼æ¶ä½ ä¸äº</p>
<img src="https://images.cnblogs.com/cnblogs_com/shanyou/57459/o_220125090408_%E9%82%80%E8%AF%B7%E4%BA%8C%E7%BB%B4%E7%A0%81-258px.jpeg" width="170">
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.0006944444444444445" data-date-updated="2025-12-27 10:53">2025-12-27 10:52</span>&nbsp;
<a href="https://www.cnblogs.com/shanyou">å¼ åå</a>&nbsp;
éè¯»(<span id="post_view_count">9</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19408104);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19408104', targetLink: 'https://www.cnblogs.com/shanyou/p/19408104', title: '.NET æ°æ®æåä¸åéåæ¶æï¼æå»ºä¼ä¸çº§æ£ç´¢å¢å¼ºçæï¼RAGï¼ç®¡é' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
<item>
    <title><![CDATA[ å«è®©ä½ çå¯é¥å¨äºèç½ä¸âè£¸å¥âï¼ç¨ python-dotenv ä¼éç®¡çä½ çææéç½® ]]></title>
    <link>https://www.cnblogs.com/swizard/p/19407993</link>
    <guid>b2f596d3221abedf78d461ffb02ffee0</guid>
    <description>
    <![CDATA[ 
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/swizard/p/19407993" title="åå¸äº 2025-12-27 10:31">
    <span role="heading" aria-level="2">å«è®©ä½ çå¯é¥å¨äºèç½ä¸âè£¸å¥âï¼ç¨ python-dotenv ä¼éç®¡çä½ çææéç½®</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<h2 data-path-to-node="4">1. å¼è¨ï¼ä½ è¿å¨ä»£ç éâçº¹èº«âåï¼</h2>
<p data-path-to-node="5"><strong data-path-to-node="5" data-index-in-node="0">çç¹åºæ¯</strong>ï¼ ä½ æ­£å¨åä¸ä¸ª Python èæ¬ï¼éè¦è¿æ¥æ°æ®åºæèè°ç¨ OpenAI ç APIãä¸ºäºå¾çäºï¼ä½ ç´æ¥åäºè¿è¡ä»£ç ï¼</p>
<div class="code-block ng-tns-c3098535048-98 ng-animate-disabled ng-trigger ng-trigger-codeBlockRevealAnimation" data-hveid="0" data-ved="0CAAQhtANahgKEwiAyM3K2dyRAxUAAAAAHQAAAAAQmwE">
<div class="code-block-decoration header-formatted gds-title-s ng-tns-c3098535048-98 ng-star-inserted"><span class="ng-tns-c3098535048-98">Python</span>
<div class="buttons ng-tns-c3098535048-98 ng-star-inserted">&nbsp;</div>
</div>
<div class="formatted-code-block-internal-container ng-tns-c3098535048-98">
<div class="animated-opacity ng-tns-c3098535048-98">
<pre class="ng-tns-c3098535048-98 highlighter-hljs"><code># ð± å±é©å¨ä½ï¼
API_KEY = "sk-proj-1234567890abcdef..."</code></pre>
</div>
</div>
</div>
<p data-path-to-node="7">ç¶åï¼ä½ éææä»£ç  push å°äº GitHubã å åéåï¼ä½ çé®ç®±æ¶å°äº AWS æ OpenAI ççº¢è²è­¦åé®ä»¶ââä½ çå¯é¥æ³é²äºï¼çè³å¯è½å·²ç»è¢«é»å®¢çå·äºå ç¾ç¾éãæèï¼ä½ åªæ¯æ³æä»£ç åç»åäºï¼å´ä¸å¾ä¸å°´å°¬å°å®å±ï¼âé£ä¸ªï¼ç¬¬ 12 è¡çå¯ç è®°å¾æ¹æä½ èªå·±çåãâ</p>
<p data-path-to-node="8"><strong data-path-to-node="8" data-index-in-node="0">è§£å³æ¹æ¡</strong>ï¼ è¿ç§å°éç½®åæ­»å¨ä»£ç éçè¡ä¸ºï¼æä»¬ç§°ä¹ä¸º <strong data-path-to-node="8" data-index-in-node="27">Hardcodingï¼ç¡¬ç¼ç ï¼</strong>ã ä»å¤©è¦ä»ç»ç <strong data-path-to-node="8" data-index-in-node="51">python-dotenv</strong>ï¼å°±æ¯å¸®ä½ æè¿äºææä¿¡æ¯ä»ä»£ç ä¸­âå¥ç¦»âåºæ¥çç¥å¨ãå®è½è®©ä½ å¨æ¬å°å¼åæ¶è½»æ¾ç®¡çéç½®ï¼åæ¶ä¿è¯ä»£ç åºççº¯æ´ä¸å®å¨ã</p>
<hr data-path-to-node="9">
<h2 data-path-to-node="10">2. æ¦å¿µæè§£ï¼ç»ä½ çç¨åºç©¿ä¸âç¹å·¥è£å¤â</h2>
<h3 data-path-to-node="11">ðµï¸ââï¸ çæ´»åç±»æ¯ï¼ç¹å·¥çèå vs. çº¹èº«</h3>
<p data-path-to-node="12">è¦çè§£ <code data-path-to-node="12" data-index-in-node="4">python-dotenv</code> çæ ¸å¿æºå¶ï¼æä»¬å¯ä»¥æä¸ªæ¯æ¹ï¼</p>
<ul data-path-to-node="13">
<li>
<p data-path-to-node="13,0,0"><strong data-path-to-node="13,0,0" data-index-in-node="0">ç¡¬ç¼ç  (Hardcoding)</strong>ï¼å°±åæ¯ä½ æé¶è¡å¡å¯ç <strong data-path-to-node="13,0,0" data-index-in-node="27">çº¹å¨äºæèä¸</strong>ãè½ç¶ä½ èªå·±çå¾æ¹ä¾¿ï¼ä½åªè¦ä½ åºé¨ï¼åå¸ä»£ç ï¼ï¼ææäººé½è½çå°ï¼èä¸æ³æ¹å¯ç è¿å¾å»âæ´çº¹èº«âï¼ä¿®æ¹ä»£ç å¹¶éæ°é¨ç½²ï¼ã</p>
</li>
<li>
<p data-path-to-node="13,1,0"><strong data-path-to-node="13,1,0" data-index-in-node="0">ç¯å¢åé (Environment Variables)</strong>ï¼å°±åæ¯<strong data-path-to-node="13,1,0" data-index-in-node="32">ç¹å·¥çèå</strong>ãç¹å·¥ï¼ä½ çç¨åºï¼æ¬èº«å¹¶ä¸è®°å¯ç ï¼å½ä»éè¦å¼é¨æ¶ï¼ä»ä¼ææä¼¸è¿èåï¼æä½ç³»ç»ç¯å¢ï¼éæ¸ç´¢é£æé¥åã</p>
</li>
<li>
<p data-path-to-node="13,2,0"><strong data-path-to-node="13,2,0" data-index-in-node="0">python-dotenv</strong>ï¼å®å°±æ¯ä¸ä¸ª<strong data-path-to-node="13,2,0" data-index-in-node="19">èªå¨å¡«åæº</strong>ãå¨ç¨åºå¯å¨çä¸ç¬é´ï¼å®ä¼ææå°è¯»åä¸ä¸ªåä¸º <code data-path-to-node="13,2,0" data-index-in-node="47">.env</code> çæ¸åæä»¶ï¼æéé¢çé¥åãå°å¾ãå¯ç ééå¡è¿ç¹å·¥çèåéï¼ä¾ç¹å·¥éæ¶åç¨ã</p>
</li>
</ul>
<h3 data-path-to-node="14">ð§© å·¥ä½æµå¾è§£</h3>
<p data-path-to-node="15">&nbsp;æ°æ®æµåï¼</p>
<ol start="1" data-path-to-node="16">
<li>
<p data-path-to-node="16,0,0"><strong data-path-to-node="16,0,0" data-index-in-node="0">æä»¶å±</strong>ï¼ä½ åå»ºäºä¸ä¸ª <code data-path-to-node="16,0,0" data-index-in-node="11">.env</code> æä»¶ï¼éé¢åç <code data-path-to-node="16,0,0" data-index-in-node="24">API_KEY=xyz</code>ï¼ã</p>
</li>
<li>
<p data-path-to-node="16,1,0"><strong data-path-to-node="16,1,0" data-index-in-node="0">å è½½å±</strong>ï¼Python èæ¬è¿è¡ï¼<code data-path-to-node="16,1,0" data-index-in-node="16">load_dotenv()</code> å½æ°é¦åæ§è¡ã</p>
</li>
<li>
<p data-path-to-node="16,2,0"><strong data-path-to-node="16,2,0" data-index-in-node="0">ç³»ç»å±</strong>ï¼å½æ°è¯»å <code data-path-to-node="16,2,0" data-index-in-node="9">.env</code> åå®¹ï¼å°å¶æ³¨å¥å° <code data-path-to-node="16,2,0" data-index-in-node="23">os.environ</code>ï¼æ¨¡æçç³»ç»ç¯å¢åéï¼ã</p>
</li>
<li>
<p data-path-to-node="16,3,0"><strong data-path-to-node="16,3,0" data-index-in-node="0">åºç¨å±</strong>ï¼ä½ çä¸å¡ä»£ç éè¿ <code data-path-to-node="16,3,0" data-index-in-node="13">os.getenv('API_KEY')</code> æ¿å°äºå¼ï¼èå®å¨ä¸ç¥éè¿ä¸ªå¼æ¯ä»åªéæ¥çã</p>
</li>
</ol>
<p><img src="https://img2024.cnblogs.com/blog/1703/202512/1703-20251227102946378-1317225787.png" alt="image"></p>
<hr data-path-to-node="17">
<h2 data-path-to-node="18">3. å¨æå®æï¼ä¸åéä¸æ Hello World</h2>
<p data-path-to-node="19">æä»¬è¦å®ç°çç®æ ï¼ä¸ä¿®æ¹ Python ä»£ç ï¼åªä¿®æ¹éç½®æä»¶ï¼å°±è½æ¹åç¨åºçè¡ä¸ºã</p>
<h3 data-path-to-node="20">ç¬¬ä¸æ­¥ï¼å®è£åº</h3>
<p data-path-to-node="21">æå¼ç»ç«¯ï¼å®è£è¿ä¸ªå°å·§çåºï¼</p>
<div class="code-block ng-tns-c3098535048-99 ng-animate-disabled ng-trigger ng-trigger-codeBlockRevealAnimation" data-hveid="0" data-ved="0CAAQhtANahgKEwiAyM3K2dyRAxUAAAAAHQAAAAAQnAE">
<div class="code-block-decoration header-formatted gds-title-s ng-tns-c3098535048-99 ng-star-inserted"><span class="ng-tns-c3098535048-99">Bash</span></div>
<div class="formatted-code-block-internal-container ng-tns-c3098535048-99">
<div class="animated-opacity ng-tns-c3098535048-99">
<pre class="ng-tns-c3098535048-99 highlighter-hljs"><code>pip install python-dotenv</code></pre>
</div>
</div>
</div>
<h3 data-path-to-node="23">ç¬¬äºæ­¥ï¼åå»º <code data-path-to-node="23" data-index-in-node="7">.env</code> æä»¶</h3>
<p data-path-to-node="24">å¨ä½ çé¡¹ç®æ ¹ç®å½ä¸ï¼æ°å»ºä¸ä¸ªåä¸º <code data-path-to-node="24" data-index-in-node="17">.env</code> çæä»¶ï¼æ³¨æåé¢æä¸ªç¹ï¼ä¸æ²¡ææä»¶åï¼åªæåç¼ï¼ã</p>
<div class="code-block ng-tns-c3098535048-100 ng-animate-disabled ng-trigger ng-trigger-codeBlockRevealAnimation" data-hveid="0" data-ved="0CAAQhtANahgKEwiAyM3K2dyRAxUAAAAAHQAAAAAQnQE">
<div class="code-block-decoration header-formatted gds-title-s ng-tns-c3098535048-100 ng-star-inserted"><span class="ng-tns-c3098535048-100">Plaintext</span></div>
<div class="formatted-code-block-internal-container ng-tns-c3098535048-100">
<div class="animated-opacity ng-tns-c3098535048-100">
<pre class="ng-tns-c3098535048-100 highlighter-hljs"><code># .env æä»¶åå®¹
# æ ¼å¼ï¼KEY=VALUE (ä¸éè¦å å¼å·ï¼é¤éå¼éåå«ç©ºæ ¼)

APP_NAME=MySuperApp
DATABASE_URL=postgres://user:password@localhost:5432/mydb
SECRET_KEY=correct-horse-battery-staple
DEBUG_MODE=True</code></pre>
</div>
</div>
</div>
<h3 data-path-to-node="26">ç¬¬ä¸æ­¥ï¼ç¼å Python ä»£ç </h3>
<p data-path-to-node="27">æ°å»º <code data-path-to-node="27" data-index-in-node="3">main.py</code>ï¼åå¥ä»¥ä¸ä»£ç ï¼</p>
<div class="code-block ng-tns-c3098535048-101 ng-animate-disabled ng-trigger ng-trigger-codeBlockRevealAnimation" data-hveid="0" data-ved="0CAAQhtANahgKEwiAyM3K2dyRAxUAAAAAHQAAAAAQngE">
<div class="code-block-decoration header-formatted gds-title-s ng-tns-c3098535048-101 ng-star-inserted"><span class="ng-tns-c3098535048-101">Python</span></div>
<div class="formatted-code-block-internal-container ng-tns-c3098535048-101">
<div class="animated-opacity ng-tns-c3098535048-101">
<pre class="ng-tns-c3098535048-101 highlighter-hljs"><code>import os
from dotenv import load_dotenv

# 1. å è½½ .env æä»¶ä¸­çåéå°ç¯å¢åéä¸­
# å¦æ .env å°±å¨åçº§ç®å½ä¸ï¼ä¸ä¼ åæ°å³å¯
load_dotenv()

def main():
    # 2. åè·åç³»ç»ç¯å¢åéä¸æ ·è·åéç½®
    app_name = os.getenv("APP_NAME")
    
    # â ï¸ æ³¨æï¼ä»ç¯å¢åéæ¿å°çéå¸¸é½æ¯å­ç¬¦ä¸² (String)
    debug_mode = os.getenv("DEBUG_MODE")
    
    secret_key = os.getenv("SECRET_KEY")
    
    # æ¨¡æä¸å¡é»è¾
    print(f"ð æ­£å¨å¯å¨: {app_name}")
    print(f"ð å¯é¥å è½½: {'*' * len(secret_key) if secret_key else 'æªæ¾å°'}")
    
    if debug_mode == "True":
        print("ð è°è¯æ¨¡å¼å·²å¼å¯ï¼")

if __name__ == "__main__":
    main()</code></pre>
</div>
</div>
</div>
<h3 data-path-to-node="29">è¿è¡ç»æ</h3>
<p data-path-to-node="30">å½ä½ è¿è¡ <code data-path-to-node="30" data-index-in-node="5">python main.py</code> æ¶ï¼æ§å¶å°ä¼è¾åºï¼</p>
<div class="code-block ng-tns-c3098535048-102 ng-animate-disabled ng-trigger ng-trigger-codeBlockRevealAnimation" data-hveid="0" data-ved="0CAAQhtANahgKEwiAyM3K2dyRAxUAAAAAHQAAAAAQnwE">
<div class="code-block-decoration header-formatted gds-title-s ng-tns-c3098535048-102 ng-star-inserted"><span class="ng-tns-c3098535048-102">Plaintext</span></div>
<div class="formatted-code-block-internal-container ng-tns-c3098535048-102">
<div class="animated-opacity ng-tns-c3098535048-102">
<pre class="ng-tns-c3098535048-102 highlighter-hljs"><code>ð æ­£å¨å¯å¨: MySuperApp
ð å¯é¥å è½½: ****************************
ð è°è¯æ¨¡å¼å·²å¼å¯ï¼</code></pre>
</div>
</div>
</div>
<p data-path-to-node="32"><strong data-path-to-node="32" data-index-in-node="0">è§£æ</strong>ï¼ä½ çä»£ç éæ²¡æåºç°ä»»ä½å·ä½çå¯ç æéç½®å¼ï¼å®ä»¬å¨é¨è¢«âå¤åâç»äº <code data-path-to-node="32" data-index-in-node="36">.env</code> æä»¶ã</p>
<hr data-path-to-node="33">
<h2 data-path-to-node="34">4. è¿é¶æ·±æ½ï¼æ°æå¿åä¸æä½³å®è·µ</h2>
<p data-path-to-node="35">å­¦ä¼äºåºæ¬ç¨æ³è¿ä¸å¤ï¼ä½ä¸ºèå¸æºï¼æå¾åè¯ä½ å ä¸ªå³é®çâåâåæå·§ã</p>
<h3 data-path-to-node="36">ð è´å½é·é±ï¼ç»å¯¹ä¸è¦æäº¤ <code data-path-to-node="36" data-index-in-node="15">.env</code></h3>
<p data-path-to-node="37">è¿æ¯ä½¿ç¨ <code data-path-to-node="37" data-index-in-node="5">python-dotenv</code> çç¬¬ä¸å¤©æ¡ï¼<code data-path-to-node="37" data-index-in-node="25">.env</code> æä»¶ééå¸¸åå«ææä¿¡æ¯ã</p>
<p data-path-to-node="38"><strong data-path-to-node="38" data-index-in-node="0">æ­£ç¡®åæ³</strong>ï¼</p>
<ol start="1" data-path-to-node="39">
<li>
<p data-path-to-node="39,0,0">å¨é¡¹ç®æ ¹ç®å½åå»ºä¸ä¸ª <code data-path-to-node="39,0,0" data-index-in-node="11">.gitignore</code> æä»¶ã</p>
</li>
<li>
<p data-path-to-node="39,1,0">æ·»å ä¸è¡åå®¹ï¼</p>
<div class="code-block ng-tns-c3098535048-103 ng-animate-disabled ng-trigger ng-trigger-codeBlockRevealAnimation" data-hveid="0" data-ved="0CAAQhtANahgKEwiAyM3K2dyRAxUAAAAAHQAAAAAQoAE">
<div class="code-block-decoration header-formatted gds-title-s ng-tns-c3098535048-103 ng-star-inserted"><span class="ng-tns-c3098535048-103">Plaintext</span></div>
<div class="formatted-code-block-internal-container ng-tns-c3098535048-103">
<div class="animated-opacity ng-tns-c3098535048-103">
<pre class="ng-tns-c3098535048-103 highlighter-hljs"><code>.env</code></pre>
</div>
</div>
</div>
</li>
<li>
<p data-path-to-node="39,2,0">è¿å°±åè¯ Gitï¼âå¿½ç¥è¿ä¸ªæä»¶ï¼ä¸è¦æå®ä¼ å°ä»åºéãâ</p>
</li>
</ol>
<p data-path-to-node="40"><strong data-path-to-node="40" data-index-in-node="0">é£éåæä¹ç¥éè¦éåªäºåéï¼</strong> åå»ºä¸ä¸ª <code data-path-to-node="40" data-index-in-node="20">.env.example</code>ï¼æè <code data-path-to-node="40" data-index-in-node="36">.env.template</code>ï¼æä»¶ï¼æäº¤å°ä»åºãéé¢ä¿ç Keyï¼ä½æ Value çç©ºæåæå ä½ç¬¦ï¼</p>
<div class="code-block ng-tns-c3098535048-104 ng-animate-disabled ng-trigger ng-trigger-codeBlockRevealAnimation" data-hveid="0" data-ved="0CAAQhtANahgKEwiAyM3K2dyRAxUAAAAAHQAAAAAQoQE">
<div class="code-block-decoration header-formatted gds-title-s ng-tns-c3098535048-104 ng-star-inserted"><span class="ng-tns-c3098535048-104">Plaintext</span></div>
<div class="formatted-code-block-internal-container ng-tns-c3098535048-104">
<div class="animated-opacity ng-tns-c3098535048-104">
<pre class="ng-tns-c3098535048-104 highlighter-hljs"><code># .env.example (å¯ä»¥æäº¤å° Git)
APP_NAME=MySuperApp
DATABASE_URL=
SECRET_KEY=</code></pre>
</div>
</div>
</div>
<h3 data-path-to-node="42">ð¡ æå·§ 1ï¼ç±»åè½¬æ¢</h3>
<p data-path-to-node="43">æ­£å¦æå¨ä»£ç æ³¨ééæå°çï¼<code data-path-to-node="43" data-index-in-node="13">os.getenv()</code> æ¿åæ¥çæ°¸è¿æ¯ <code data-path-to-node="43" data-index-in-node="33">str</code>ï¼å­ç¬¦ä¸²ï¼ãå¦æä½ å¨ <code data-path-to-node="43" data-index-in-node="47">.env</code> éå <code data-path-to-node="43" data-index-in-node="55">DEBUG=True</code>ï¼å¨ Python éå®ä¸ä»ä»æ¯å¸å°å¼ <code data-path-to-node="43" data-index-in-node="85">True</code>ï¼èæ¯å­ç¬¦ä¸² <code data-path-to-node="43" data-index-in-node="96">"True"</code>ã</p>
<p data-path-to-node="44"><strong data-path-to-node="44" data-index-in-node="0">éè¯¯åæ³</strong>ï¼</p>
<div class="code-block ng-tns-c3098535048-105 ng-animate-disabled ng-trigger ng-trigger-codeBlockRevealAnimation" data-hveid="0" data-ved="0CAAQhtANahgKEwiAyM3K2dyRAxUAAAAAHQAAAAAQogE">
<div class="code-block-decoration header-formatted gds-title-s ng-tns-c3098535048-105 ng-star-inserted"><span class="ng-tns-c3098535048-105">Python</span></div>
<div class="formatted-code-block-internal-container ng-tns-c3098535048-105">
<div class="animated-opacity ng-tns-c3098535048-105">
<pre class="ng-tns-c3098535048-105 highlighter-hljs"><code>if os.getenv("DEBUG"): # å­ç¬¦ä¸² "False" ä¹æ¯çå¼ï¼
    print("Debug on")</code></pre>
</div>
</div>
</div>
<p data-path-to-node="46"><strong data-path-to-node="46" data-index-in-node="0">æ­£ç¡®åæ³</strong>ï¼</p>
<div class="code-block ng-tns-c3098535048-106 ng-animate-disabled ng-trigger ng-trigger-codeBlockRevealAnimation" data-hveid="0" data-ved="0CAAQhtANahgKEwiAyM3K2dyRAxUAAAAAHQAAAAAQowE">
<div class="code-block-decoration header-formatted gds-title-s ng-tns-c3098535048-106 ng-star-inserted"><span class="ng-tns-c3098535048-106">Python</span></div>
<div class="formatted-code-block-internal-container ng-tns-c3098535048-106">
<div class="animated-opacity ng-tns-c3098535048-106">
<pre class="ng-tns-c3098535048-106 highlighter-hljs"><code>is_debug = os.getenv("DEBUG") == "True"</code></pre>
</div>
</div>
</div>
<h3 data-path-to-node="48">ð¡ æå·§ 2ï¼ä¸è¦çç³»ç»åé</h3>
<p data-path-to-node="49">åè®¾ä½ ççµèç³»ç»éæ¬æ¥å°±æä¸ä¸ªç¯å¢åéå« <code data-path-to-node="49" data-index-in-node="21">USER</code> (éå¸¸æ¯ä½ ç°å¨çç¨æ·å)ãå¦æä½ å¨ <code data-path-to-node="49" data-index-in-node="44">.env</code> éä¹å®ä¹äº <code data-path-to-node="49" data-index-in-node="55">USER=admin</code>ã</p>
<p data-path-to-node="50">é»è®¤æåµä¸ï¼<code data-path-to-node="50" data-index-in-node="6">load_dotenv()</code> <strong data-path-to-node="50" data-index-in-node="20">ä¸ä¼</strong>è¦çç³»ç»ä¸­å·²å­å¨çåéãè¿æ¯ä¸ç§ä¿æ¤æºå¶ãå¦æä½ å¸æ <code data-path-to-node="50" data-index-in-node="49">.env</code> çä¼åçº§æé«ï¼å¼ºå¶è¦çï¼éè¦è¿æ ·åï¼</p>
<div class="code-block ng-tns-c3098535048-107 ng-animate-disabled ng-trigger ng-trigger-codeBlockRevealAnimation" data-hveid="0" data-ved="0CAAQhtANahgKEwiAyM3K2dyRAxUAAAAAHQAAAAAQpAE">
<div class="code-block-decoration header-formatted gds-title-s ng-tns-c3098535048-107 ng-star-inserted"><span class="ng-tns-c3098535048-107">Python</span></div>
<div class="formatted-code-block-internal-container ng-tns-c3098535048-107">
<div class="animated-opacity ng-tns-c3098535048-107">
<pre class="ng-tns-c3098535048-107 highlighter-hljs"><code>load_dotenv(override=True)</code></pre>
</div>
</div>
</div>
<hr data-path-to-node="52">
<h2 data-path-to-node="53">5. æ»ç»ä¸å»¶ä¼¸</h2>
<h3 data-path-to-node="54">ð æ ¸å¿æ»ç»</h3>
<p data-path-to-node="55"><code data-path-to-node="55" data-index-in-node="0">python-dotenv</code> æ¯è¿æ¥<strong data-path-to-node="55" data-index-in-node="17">æ¬å°å¼åéç½®</strong>ä¸<strong data-path-to-node="55" data-index-in-node="24">ä»£ç é»è¾</strong>çæ¡¥æ¢ãå®éµå¾ªâéç½®ä¸ä»£ç åç¦»ï¼The Twelve-Factor Appï¼âçååï¼æ¢ä¿æ¤äºä½ çéç§å®å¨ï¼åè®©ä»£ç å¨ä¸åç¯å¢ï¼å¼åãæµè¯ãçäº§ï¼ä¸çè¿ç§»åå¾å¼å¸¸é¡ºæ»ã</p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-12-27 10:31">2025-12-27 10:31</span>&nbsp;
<a href="https://www.cnblogs.com/swizard">Swizard</a>&nbsp;
éè¯»(<span id="post_view_count">22</span>)&nbsp;
è¯è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19407993);return false;">æ¶è</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19407993', targetLink: 'https://www.cnblogs.com/swizard/p/19407993', title: 'å«è®©ä½ çå¯é¥å¨äºèç½ä¸âè£¸å¥âï¼ç¨ python-dotenv ä¼éç®¡çä½ çææéç½®' })">ä¸¾æ¥</a>
</div>
         ]]>
    </description>
    </item>
        </channel>
        </rss>