{
  "title": "ä¸»é¡µ - åšå®¢å›­",
  "link": "https://www.cnblogs.com/",
  "description": "ä¸»é¡µ - åšå®¢å›­ RSS",
  "entries": [
    {
      "title": "Flinkæºç é˜…è¯»ï¼šJobManagerçš„HAæœºåˆ¶",
      "link": "https://www.cnblogs.com/Jackeyzhe/p/19484622",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/Jackeyzhe/p/19484622\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-14 23:45\">\n    <span>Flinkæºç é˜…è¯»ï¼šJobManagerçš„HAæœºåˆ¶</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                    <div id=\"cnblogs_post_description\" style=\"display: none;\">\n        <img alt=\"Flinkæºç é˜…è¯»ï¼šJobManagerçš„HAæœºåˆ¶\" class=\"desc_img\" src=\"https://img2024.cnblogs.com/blog/1828322/202601/1828322-20260114234320282-1778052120.png\" />\n        JobManager åœ¨ Flink é›†ç¾¤ä¸­å‘æŒ¥ç€é‡è¦çš„ä½œç”¨ï¼ŒåŒ…æ‹¬ä»»åŠ¡è°ƒåº¦å’Œèµ„æºç®¡ç†ç­‰å·¥ä½œã€‚å¦‚æœ JobManager å®•æœºï¼Œé‚£ä¹ˆæ•´ä¸ªé›†ç¾¤çš„ä»»åŠ¡éƒ½å°†å¤±è´¥ã€‚ä¸ºäº†è§£å†³ JobManager çš„å•ç‚¹é—®é¢˜ï¼ŒFlink ä¹Ÿè®¾è®¡äº† HA æœºåˆ¶æ¥ä¿éšœæ•´ä¸ªé›†ç¾¤çš„ç¨³å®šæ€§ã€‚\n    </div>\n<div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<p>JobManager åœ¨ Flink é›†ç¾¤ä¸­å‘æŒ¥ç€é‡è¦çš„ä½œç”¨ï¼ŒåŒ…æ‹¬ä»»åŠ¡è°ƒåº¦å’Œèµ„æºç®¡ç†ç­‰å·¥ä½œã€‚å¦‚æœ JobManager å®•æœºï¼Œé‚£ä¹ˆæ•´ä¸ªé›†ç¾¤çš„ä»»åŠ¡éƒ½å°†å¤±è´¥ã€‚ä¸ºäº†è§£å†³ JobManager çš„å•ç‚¹é—®é¢˜ï¼ŒFlink ä¹Ÿè®¾è®¡äº† HA æœºåˆ¶æ¥ä¿éšœæ•´ä¸ªé›†ç¾¤çš„ç¨³å®šæ€§ã€‚</p>\n<h3 id=\"åŸºæœ¬æ¦‚å¿µ\">åŸºæœ¬æ¦‚å¿µ</h3>\n<p>åœ¨ JobManager å¯åŠ¨æ—¶ï¼Œè°ƒç”¨ <code>HighAvailabilityServicesUtils.createHighAvailabilityServices</code> æ¥åˆ›å»º HA æœåŠ¡ï¼ŒHA ä¾èµ–çš„æœåŠ¡éƒ½è¢«å°è£…åœ¨ HighAvailabilityServices ä¸­ã€‚å½“å‰ Flink å†…éƒ¨æ”¯æŒä¸¤ç§é«˜å¯ç”¨æ¨¡å¼ï¼Œåˆ†åˆ«æ˜¯ ZooKeeper å’Œ KUBERNETESã€‚</p>\n<pre><code class=\"language-java\">case ZOOKEEPER:\n    return createZooKeeperHaServices(configuration, executor, fatalErrorHandler);\ncase KUBERNETES:\n    return createCustomHAServices(\n            \"org.apache.flink.kubernetes.highavailability.KubernetesHaServicesFactory\",\n            configuration,\n            executor);\n</code></pre>\n<p>HighAvailabilityServices ä¸­æä¾›çš„å…³é”®ç»„ä»¶åŒ…æ‹¬ï¼š</p>\n<ul>\n<li>\n<p>LeaderRetrievalServiceï¼šæœåŠ¡å‘ç°ï¼Œç”¨äºè·å–å½“å‰ leader çš„åœ°å€ã€‚ç›®å‰ç”¨åˆ°æœåŠ¡å‘ç°çš„ç»„ä»¶æœ‰ ResourceManagerã€Dispatcherã€JobManagerã€ClusterRestEndpointã€‚</p>\n</li>\n<li>\n<p>LeaderElectionï¼šé€‰ä¸¾æœåŠ¡ï¼Œä»å¤šä¸ªå€™é€‰è€…ä¸­é€‰å‡ºä¸€ä¸ªä½œä¸º leaderã€‚ç”¨åˆ°é€‰ä¸¾æœåŠ¡çš„åŒæ ·æ˜¯ ResourceManagerã€Dispatcherã€JobManagerã€ClusterRestEndpoint è¿™å››ä¸ªã€‚</p>\n</li>\n<li>\n<p>CheckpointRecoveryFactoryï¼šCheckpoint æ¢å¤ç»„ä»¶çš„å·¥å‚ç±»ï¼Œæä¾›äº†åˆ›å»º CompletedCheckpointStore å’Œ CheckpointIDCounter çš„æ–¹æ³•ã€‚CompletedCheckpointStore æ˜¯ç”¨äºå­˜å‚¨å·²å®Œæˆçš„ checkpoint çš„å…ƒä¿¡æ¯ï¼ŒCheckpointIDCounter æ˜¯ç”¨äºç”Ÿæˆ checkpoint IDã€‚</p>\n</li>\n<li>\n<p>ExecutionPlanStoreï¼šç”¨äºå­˜å‚¨æ‰§è¡Œè®¡åˆ’ã€‚</p>\n</li>\n<li>\n<p>JobResultStoreï¼šç”¨äºå­˜å‚¨ä½œä¸šç»“æœï¼Œè¿™é‡Œæœ‰ä¸¤ç§çŠ¶æ€ï¼Œä¸€ç§æ˜¯ dirtyï¼Œè¡¨ç¤ºä½œä¸šæ²¡æœ‰è¢«å®Œå…¨æ¸…ç†ï¼Œå¦ä¸€ç§æ˜¯ cleanï¼Œè¡¨ç¤ºä½œä¸šæ¸…ç†å·¥ä½œå·²ç»æ‰§è¡Œå®Œæˆäº†ã€‚</p>\n</li>\n<li>\n<p>BlobStoreï¼šå­˜å‚¨ä½œä¸šè¿è¡ŒæœŸé—´çš„ä¸€äº›äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p>\n</li>\n</ul>\n<h4 id=\"é€‰ä¸¾æœåŠ¡\">é€‰ä¸¾æœåŠ¡</h4>\n<p>Flink çš„é€‰ä¸¾æ˜¯ä¾é  LeaderElection å’Œ LeaderContender é…åˆå®Œæˆçš„ã€‚LeaderElection æ˜¯ LeaderElectionService çš„ä»£ç†æ¥å£ï¼Œæä¾›äº†æ³¨å†Œå€™é€‰è€…ã€ç¡®è®¤ leader å’Œ åˆ¤æ–­å€™é€‰è€…æ˜¯å¦æ˜¯ leader ä¸‰ä¸ªæ¥å£ã€‚LeaderContender åˆ™æ˜¯ç”¨æ¥è¡¨ç¤ºå€™é€‰è€…å¯¹è±¡ã€‚å½“ä¸€ä¸ª LeaderContender å½“é€‰ leader åï¼ŒLeaderElectionService ä¼šä¸ºå…¶ç”Ÿæˆä¸€ä¸ª leaderSessionIdï¼ŒLeaderContender ä¼šè°ƒç”¨ confirmLeadershipAsync å‘å¸ƒè‡ªå·±çš„åœ°å€ã€‚é€‰ä¸¾æœåŠ¡çš„å…·ä½“å®ç°åœ¨ LeaderElectionDriver æ¥å£ä¸­ã€‚</p>\n<h4 id=\"æœåŠ¡å‘ç°\">æœåŠ¡å‘ç°</h4>\n<p>æœåŠ¡å‘ç°çš„ä½œç”¨æ˜¯è·å–å„ç»„ä»¶çš„ leader åœ°å€ã€‚æœåŠ¡å‘ç°ä¾èµ– LeaderRetrievalService å’Œ LeaderRetrievalListenerã€‚LeaderRetrievalService å¯ä»¥å¯åŠ¨ä¸€ä¸ªç›‘å¬ï¼Œå½“æœ‰æ–°çš„ leader å½“é€‰æ—¶ï¼Œä¼šè°ƒç”¨ LeaderRetrievalListener çš„ notifyLeaderAddress æ–¹æ³•ã€‚</p>\n<h4 id=\"ä¿¡æ¯ä¿å­˜\">ä¿¡æ¯ä¿å­˜</h4>\n<p>å½“ leader å‘ç”Ÿåˆ‡æ¢æ—¶ï¼Œæ–°çš„ leader éœ€è¦è·å–åˆ°æ—§ leader å­˜å‚¨çš„ä¿¡æ¯ï¼Œè¿™å°±éœ€è¦æ—§ leader æŠŠè¿™äº›ä¿¡æ¯å­˜åœ¨ä¸€ä¸ªå…¬å…±çš„å­˜å‚¨ä¸Šã€‚å®ƒå¯ä»¥æ˜¯ ZooKeeper æˆ– Kubernetes çš„å­˜å‚¨ï¼Œä¹Ÿå¯ä»¥æ˜¯åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿçš„å­˜å‚¨ã€‚</p>\n<h3 id=\"åŸºäº-zookeeper-çš„-ha\">åŸºäº ZooKeeper çš„ HA</h3>\n<h4 id=\"é€‰ä¸¾æœåŠ¡-1\">é€‰ä¸¾æœåŠ¡</h4>\n<p>å‰é¢æˆ‘ä»¬æåˆ°äº†é€‰ä¸¾æœåŠ¡ä¸»è¦ä¾èµ– LeaderElection å’Œ LeaderContender é…åˆå®Œæˆã€‚æˆ‘ä»¬å°±ä»¥ JobManager ä¸ºä¾‹ï¼Œçœ‹ä¸€ä¸‹æœºé‡ ZooKeeper çš„é€‰ä¸¾æµç¨‹çš„å…·ä½“å®ç°ã€‚</p>\n<p><img alt=\"ZKLeaderElection\" class=\"lazyload\" /></p>\n<p>å›¾ä¸­ JobMasterServiceLeadershipRunner æ˜¯ LeaderContender çš„å®ç°ç±»ã€‚åœ¨å¯åŠ¨æœåŠ¡æ—¶ï¼Œä¼šå‘ LeaderElection æ³¨å†Œè‡ªå·±çš„ä¿¡æ¯ï¼Œå®é™…æ‰§è¡Œè€…æ˜¯ DefaultLeaderElectionServiceã€‚å®ƒå…ˆåˆ›å»ºäº† LeaderElectionDriverï¼Œç„¶åå°† LeaderContender ä¿å­˜åœ¨ leaderContenderRegistry ä¸­ã€‚é€‰ä¸¾çš„æ ¸å¿ƒé€»è¾‘å°è£…åœ¨ LeaderElectionDriver ä¸­ã€‚</p>\n<p>åœ¨åˆ›å»º LeaderElectionDriver æ—¶ï¼Œä¼šåˆ›å»º LeaderLatch å¯¹è±¡å’Œ TreeCache å¯¹è±¡ï¼Œ LeaderLatch å°è£…äº†ä¸ ZooKeeper å…³è”çš„å›è°ƒï¼Œä¼šæ¥æ”¶ä¸€ä¸ª LeaderElectionDriver ä½œä¸ºç›‘å¬ã€‚TreeCache ä¸»è¦ç”¨äºç›‘å¬ ZooKeeper ä¸­ leader èŠ‚ç‚¹çš„å˜æ›´ã€‚</p>\n<pre><code class=\"language-java\">public ZooKeeperLeaderElectionDriver(\n        CuratorFramework curatorFramework, LeaderElectionDriver.Listener leaderElectionListener)\n        throws Exception {\n    ...\n    this.leaderLatch = new LeaderLatch(curatorFramework, ZooKeeperUtils.getLeaderLatchPath());\n    this.treeCache =\n            ZooKeeperUtils.createTreeCache(\n                    curatorFramework,\n                    \"/\",\n                    new ZooKeeperLeaderElectionDriver.ConnectionInfoNodeSelector());\n\n    treeCache\n            .getListenable()\n            .addListener(\n                    (client, event) -&gt; {\n                        switch (event.getType()) {\n                            case NODE_ADDED:\n                            case NODE_UPDATED:\n                                Preconditions.checkNotNull(\n                                        event.getData(),\n                                        \"The ZooKeeper event data must not be null.\");\n                                handleChangedLeaderInformation(event.getData());\n                                break;\n                            case NODE_REMOVED:\n                                Preconditions.checkNotNull(\n                                        event.getData(),\n                                        \"The ZooKeeper event data must not be null.\");\n                                handleRemovedLeaderInformation(event.getData().getPath());\n                                break;\n                        }\n                    });\n\n    leaderLatch.addListener(this);\n    ...\n    leaderLatch.start();\n    treeCache.start();\n}\n</code></pre>\n<p>æˆ‘ä»¬è¿›å…¥åˆ° LeaderLatch çš„ start æ–¹æ³•ã€‚å®ƒçš„å†…éƒ¨æ˜¯åœ¨ ZooKeeper ä¸Šåˆ›å»º latch-xxx èŠ‚ç‚¹ã€‚xxx æ˜¯å½“å‰ LeaderLatch çš„ IDï¼Œå®ƒç”± ZooKeeper ç”Ÿæˆï¼ŒID æœ€å°çš„å½“é€‰ Leaderã€‚</p>\n<pre><code class=\"language-java\">private void checkLeadership(List&lt;String&gt; children) throws Exception {\n    if (this.debugCheckLeaderShipLatch != null) {\n        this.debugCheckLeaderShipLatch.await();\n    }\n\n    String localOurPath = (String)this.ourPath.get();\n    List&lt;String&gt; sortedChildren = LockInternals.getSortedChildren(\"latch-\", sorter, children);\n    int ourIndex = localOurPath != null ? sortedChildren.indexOf(ZKPaths.getNodeFromPath(localOurPath)) : -1;\n    this.log.debug(\"checkLeadership with id: {}, ourPath: {}, children: {}\", new Object[]{this.id, localOurPath, sortedChildren});\n    if (ourIndex &lt; 0) {\n        this.log.error(\"Can't find our node. Resetting. Index: \" + ourIndex);\n        this.reset();\n    } else if (ourIndex == 0) {\n        this.lastPathIsLeader.set(localOurPath);\n        this.setLeadership(true);\n    } else {\n        this.setLeadership(false);\n        String watchPath = (String)sortedChildren.get(ourIndex - 1);\n        Watcher watcher = new Watcher() {\n            public void process(WatchedEvent event) {\n                if (LeaderLatch.this.state.get() == LeaderLatch.State.STARTED &amp;&amp; event.getType() == EventType.NodeDeleted) {\n                    try {\n                        LeaderLatch.this.getChildren();\n                    } catch (Exception ex) {\n                        ThreadUtils.checkInterrupted(ex);\n                        LeaderLatch.this.log.error(\"An error occurred checking the leadership.\", ex);\n                    }\n                }\n\n            }\n        };\n        BackgroundCallback callback = new BackgroundCallback() {\n            public void processResult(CuratorFramework client, CuratorEvent event) throws Exception {\n                if (event.getResultCode() == Code.NONODE.intValue()) {\n                    LeaderLatch.this.getChildren();\n                }\n\n            }\n        };\n        ((ErrorListenerPathable)((BackgroundPathable)this.client.getData().usingWatcher(watcher)).inBackground(callback)).forPath(ZKPaths.makePath(this.latchPath, watchPath));\n    }\n\n}\n</code></pre>\n<p>å½“é€‰ Leader åï¼Œä¼šå›è°ƒ LeaderElectionDriver çš„ isLeader æ–¹æ³•ï¼Œå¦‚æœæœªå½“é€‰ï¼Œåˆ™ç»§ç»­ç›‘å¬ latch èŠ‚ç‚¹çš„å˜æ›´ã€‚isLeader ä¼šç»§ç»­å›è°ƒ LeaderElection çš„ onGrantLeadership æ–¹æ³•ï¼Œæ¥ç€è°ƒç”¨ LeaderContender çš„ grantLeadershipã€‚è¿™æ—¶ä¼šå¯åŠ¨ JobMaster æœåŠ¡ï¼Œç„¶åè°ƒç”¨ LeaderElection çš„ confirmLeadershipAsync æ¥ç¡®è®¤å½“é€‰æˆåŠŸã€‚ç¡®è®¤çš„è¿‡ç¨‹æ˜¯ç”± LeaderElectionDriver æ¥æ‰§è¡Œçš„ã€‚ä¸»è¦ä½œç”¨æ˜¯æŠŠå½“å‰ leader çš„ä¿¡æ¯å†™å›åˆ° ZooKeeper çš„ connection_info èŠ‚ç‚¹ã€‚</p>\n<pre><code class=\"language-java\">public void publishLeaderInformation(String componentId, LeaderInformation leaderInformation) {\n    Preconditions.checkState(running.get());\n\n    if (!leaderLatch.hasLeadership()) {\n        return;\n    }\n\n    final String connectionInformationPath =\n            ZooKeeperUtils.generateConnectionInformationPath(componentId);\n\n    LOG.debug(\n            \"Write leader information {} for component '{}' to {}.\",\n            leaderInformation,\n            componentId,\n            ZooKeeperUtils.generateZookeeperPath(\n                    curatorFramework.getNamespace(), connectionInformationPath));\n\n    try {\n        ZooKeeperUtils.writeLeaderInformationToZooKeeper(\n                leaderInformation,\n                curatorFramework,\n                leaderLatch::hasLeadership,\n                connectionInformationPath);\n    } catch (Exception e) {\n        leaderElectionListener.onError(e);\n    }\n}\n</code></pre>\n<h4 id=\"æœåŠ¡å‘ç°-1\">æœåŠ¡å‘ç°</h4>\n<p>æ¢³ç†å®Œé€‰ä¸¾æœåŠ¡çš„æºç åï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹æœåŠ¡å‘ç°çš„è¿‡ç¨‹ã€‚æˆ‘ä»¬ä»¥ TaskManager è·å– JobManager çš„ leader ä¸ºä¾‹ã€‚</p>\n<p><img alt=\"ZKLeaderRetrieval\" class=\"lazyload\" /></p>\n<p>å½“æˆ‘ä»¬å¾€ TaskManager æ·»åŠ ä»»åŠ¡æ—¶ï¼Œä¼šè°ƒç”¨ JobLeaderService çš„ addJob æ–¹æ³•ã€‚è¿™é‡Œä¼šå…ˆè·å– LeaderRetrievalï¼Œç„¶åè°ƒç”¨ start æ–¹æ³•æ³¨å†Œ LeaderRetrievalListener ç›‘å¬ï¼Œå¹¶åˆ›å»º LeaderRetrievalDriverã€‚åœ¨ LeaderRetrievalDriver ä¸­ä¸»è¦æ˜¯å‘ ZooKeeper æ³¨å†Œ connection_info èŠ‚ç‚¹çš„å˜æ›´ã€‚</p>\n<p>å¦‚æœå‘ç”Ÿå˜æ›´ï¼ŒZooKeeper ä¼šå›è°ƒ <code>LeaderRetrievalDriver.retrieveLeaderInformationFromZooKeeper</code> æ–¹æ³•ã€‚æˆ‘ä»¬ä» ZooKeeper è·å–åˆ° leader çš„åœ°å€å’Œ sessionId åï¼Œå°±å›è°ƒ <code>LeaderRetrievalService.notifyLeaderAddress</code> æ–¹æ³•ã€‚æœ€ç»ˆè°ƒç”¨åˆ° JobLeaderService çš„ notifyLeaderAddress æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¸­å°±æ˜¯æ–­å¼€ä¸æ—§ leader çš„è¿æ¥ï¼Œå¢åŠ ä¸æ–° leader çš„è¿æ¥ã€‚</p>\n<h4 id=\"ä¿¡æ¯ä¿å­˜-1\">ä¿¡æ¯ä¿å­˜</h4>\n<p>æœ€åæˆ‘ä»¬å†æ¥çœ‹ä¿¡æ¯ä¿å­˜ç›¸å…³çš„æºç ã€‚åœ¨ JobManager å®Œæˆä¸€æ¬¡ Checkpoint æ—¶ï¼Œä¼šæ‰§è¡Œ <code>CheckpointCoordinator.completePendingCheckpoint</code> æ–¹æ³•ï¼Œè·Ÿéšè°ƒç”¨é“¾è·¯å¯ä»¥æ‰¾åˆ° <code>ZooKeeperStateHandleStore.addAndLock</code> æ–¹æ³•ï¼Œè¿™é‡Œä¼šæŠŠçŠ¶æ€å†™å…¥åˆ°æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œç„¶åæŠŠæ–‡ä»¶è·¯å¾„ä¿å­˜åœ¨ ZooKeeper ä¸­ã€‚</p>\n<pre><code class=\"language-java\">public RetrievableStateHandle&lt;T&gt; addAndLock(String pathInZooKeeper, T state)\n        throws PossibleInconsistentStateException, Exception {\n    checkNotNull(pathInZooKeeper, \"Path in ZooKeeper\");\n    checkNotNull(state, \"State\");\n    final String path = normalizePath(pathInZooKeeper);\n    final Optional&lt;Stat&gt; maybeStat = getStat(path);\n\n    if (maybeStat.isPresent()) {\n        if (isNotMarkedForDeletion(maybeStat.get())) {\n            throw new AlreadyExistException(\n                    String.format(\"ZooKeeper node %s already exists.\", path));\n        }\n\n        Preconditions.checkState(\n                releaseAndTryRemove(path),\n                \"The state is marked for deletion and, therefore, should be deletable.\");\n    }\n\n    final RetrievableStateHandle&lt;T&gt; storeHandle = storage.store(state);\n    final byte[] serializedStoreHandle = serializeOrDiscard(storeHandle);\n    try {\n        writeStoreHandleTransactionally(path, serializedStoreHandle);\n        return storeHandle;\n    } catch (KeeperException.NodeExistsException e) {\n        // Transactions are not idempotent in the curator version we're currently using, so it\n        // is actually possible that we've re-tried a transaction that has already succeeded.\n        // We've ensured that the node hasn't been present prior executing the transaction, so\n        // we can assume that this is a result of the retry mechanism.\n        return storeHandle;\n    } catch (Exception e) {\n        if (indicatesPossiblyInconsistentState(e)) {\n            throw new PossibleInconsistentStateException(e);\n        }\n        // In case of any other failure, discard the state and rethrow the exception.\n        storeHandle.discardState();\n        throw e;\n    }\n}\n</code></pre>\n<p>è‡³æ­¤ï¼ŒåŸºäº ZooKeeper çš„ HA é€»è¾‘æˆ‘ä»¬å°±æ¢³ç†å®Œäº†ã€‚ä» 1.12 ç‰ˆæœ¬å¼€å§‹ï¼ŒFlink è¿˜æ”¯æŒäº† Kubernetes é«˜å¯ç”¨ï¼Œä¸‹é¢æˆ‘ä»¬å†æ¥ä¸€ä¸‹å®ƒæ˜¯å¦‚ä½•å®ç°çš„ã€‚</p>\n<h3 id=\"åŸºäº-kubernetes-çš„-ha\">åŸºäº Kubernetes çš„ HA</h3>\n<h4 id=\"é€‰ä¸¾æœåŠ¡-2\">é€‰ä¸¾æœåŠ¡</h4>\n<p>é€šè¿‡å‰é¢çš„å­¦ä¹ ï¼Œæˆ‘ä»¬å·²ç»äº†è§£åˆ°ï¼Œé€‰ä¸¾çš„ä¸»è¦é€»è¾‘æ˜¯åœ¨ LeaderElectionDriver ä¸­ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬ç›´æ¥æ¥çœ‹ KubernetesLeaderElectionDriver çš„é€»è¾‘å³å¯ã€‚åˆ›å»º KubernetesLeaderElectionDriver æ—¶ï¼Œåˆ›å»ºå¹¶å¯åŠ¨äº† KubernetesLeaderElectorã€‚è¿™ä¸ªç±»ä¼¼äº ZooKeeper é€»è¾‘ä¸­ LeaderLatchï¼Œä¼šè·Ÿ Kubernetes åº•å±‚çš„é€‰ä¸¾é€»è¾‘äº¤äº’ï¼ŒåŒæ—¶æ³¨å†Œç›‘å¬ã€‚</p>\n<pre><code class=\"language-java\">public KubernetesLeaderElector(\n        NamespacedKubernetesClient kubernetesClient,\n        KubernetesLeaderElectionConfiguration leaderConfig,\n        LeaderCallbackHandler leaderCallbackHandler,\n        ExecutorService executorService) {\n    this.kubernetesClient = kubernetesClient;\n    this.leaderElectionConfig =\n            new LeaderElectionConfigBuilder()\n                    .withName(leaderConfig.getConfigMapName())\n                    .withLeaseDuration(leaderConfig.getLeaseDuration())\n                    .withLock(\n                            new ConfigMapLock(\n                                    new ObjectMetaBuilder()\n                                            .withNamespace(kubernetesClient.getNamespace())\n                                            .withName(leaderConfig.getConfigMapName())\n                                            // Labels will be used to clean up the ha related\n                                            // ConfigMaps.\n                                            .withLabels(\n                                                    KubernetesUtils.getConfigMapLabels(\n                                                            leaderConfig.getClusterId()))\n                                            .build(),\n                                    leaderConfig.getLockIdentity()))\n                    .withRenewDeadline(leaderConfig.getRenewDeadline())\n                    .withRetryPeriod(leaderConfig.getRetryPeriod())\n                    .withReleaseOnCancel(true)\n                    .withLeaderCallbacks(\n                            new LeaderCallbacks(\n                                    leaderCallbackHandler::isLeader,\n                                    leaderCallbackHandler::notLeader,\n                                    newLeader -&gt;\n                                            LOG.info(\n                                                    \"New leader elected {} for {}.\",\n                                                    newLeader,\n                                                    leaderConfig.getConfigMapName())))\n                    .build();\n    this.executorService = executorService;\n\n    LOG.info(\n            \"Create KubernetesLeaderElector on lock {}.\",\n            leaderElectionConfig.getLock().describe());\n}\n</code></pre>\n<p>é€‰ä¸¾æˆåŠŸåï¼Œä¼šå›è°ƒ <code>LeaderElectionListener.onGrantLeadership</code> æ–¹æ³•ã€‚åç»­çš„è°ƒç”¨é“¾è·¯è¿˜æ˜¯ä¼šè°ƒç”¨åˆ° <code>KubernetesLeaderElectionDriver.publishLeaderInformation</code> æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•æ˜¯æŠŠ leader ä¿¡æ¯å†™åˆ° Kubernetes çš„ configMap ä¸­ã€‚</p>\n<pre><code class=\"language-java\">public void publishLeaderInformation(String componentId, LeaderInformation leaderInformation) {\n    Preconditions.checkState(running.get());\n\n    try {\n        kubeClient\n                .checkAndUpdateConfigMap(\n                        configMapName,\n                        updateConfigMapWithLeaderInformation(componentId, leaderInformation))\n                .get();\n    } catch (InterruptedException | ExecutionException e) {\n        leaderElectionListener.onError(e);\n    }\n\n    LOG.debug(\n            \"Successfully wrote leader information {} for leader {} into the config map {}.\",\n            leaderInformation,\n            componentId,\n            configMapName);\n}\n</code></pre>\n<h4 id=\"æœåŠ¡å‘ç°-2\">æœåŠ¡å‘ç°</h4>\n<p>æœåŠ¡å‘ç°çš„é€»è¾‘åœ¨ KubernetesLeaderRetrievalDriver ç±»ä¸­ï¼Œåœ¨åˆ›å»ºæ—¶ï¼Œä¼šå°†å†…éƒ¨ç±» ConfigMapCallbackHandlerImpl æ³¨å†Œä¸ºç›‘å¬å›è°ƒç±»ã€‚</p>\n<p>å½“ configMap æœ‰æ–°å¢æˆ–å˜æ›´åï¼Œä¼šå›è°ƒ <code>LeaderRetrievalService.notifyLeaderAddress</code> æ–¹æ³•ã€‚</p>\n<pre><code class=\"language-java\">private class ConfigMapCallbackHandlerImpl\n        implements FlinkKubeClient.WatchCallbackHandler&lt;KubernetesConfigMap&gt; {\n\n    @Override\n    public void onAdded(List&lt;KubernetesConfigMap&gt; configMaps) {\n        // The ConfigMap is created by KubernetesLeaderElectionDriver with\n        // empty data. We don't really need to process anything unless the retriever was started\n        // after the leader election has already succeeded.\n        final KubernetesConfigMap configMap = getOnlyConfigMap(configMaps, configMapName);\n        final LeaderInformation leaderInformation = leaderInformationExtractor.apply(configMap);\n        if (!leaderInformation.isEmpty()) {\n            leaderRetrievalEventHandler.notifyLeaderAddress(leaderInformation);\n        }\n    }\n\n    @Override\n    public void onModified(List&lt;KubernetesConfigMap&gt; configMaps) {\n        final KubernetesConfigMap configMap = getOnlyConfigMap(configMaps, configMapName);\n        leaderRetrievalEventHandler.notifyLeaderAddress(\n                leaderInformationExtractor.apply(configMap));\n    }\n    ...\n}\n</code></pre>\n<h4 id=\"ä¿¡æ¯ä¿å­˜-2\">ä¿¡æ¯ä¿å­˜</h4>\n<p>ä¿¡æ¯ä¿å­˜çš„é€»è¾‘å’Œ ZooKeeper ä¹Ÿéå¸¸ç±»ä¼¼ã€‚å³å…ˆæŠŠ state ä¿å­˜åœ¨æ–‡ä»¶ç³»ç»Ÿï¼Œç„¶åæŠŠå­˜å‚¨è·¯å¾„å†™åˆ° Kubernetes å†™åˆ° configMap ä¸­ã€‚å…·ä½“å¯ä»¥çœ‹ <code>KubernetesStateHandleStore.addAndLock</code> æ–¹æ³•ã€‚</p>\n<h3 id=\"æ€»ç»“\">æ€»ç»“</h3>\n<p>æœ¬æ–‡æˆ‘ä»¬ä¸€èµ·æ¢³ç†äº† Flink ä¸­ JobManager çš„ HA æœºåˆ¶ç›¸å…³æºç ã€‚ç›®å‰ Flink æ”¯æŒ ZooKeeper å’Œ Kubernetes ä¸¤ç§å®ç°ã€‚åœ¨æ¢³ç†è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä»¥ JobManager ä¸ºä¾‹ï¼Œå…¶ä»–å‡ ä¸ªç”¨åˆ°é«˜å¯ç”¨çš„æœåŠ¡çš„é€‰ä¸¾é€»è¾‘ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚</p>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-14 23:45</span>&nbsp;\n<a href=\"https://www.cnblogs.com/Jackeyzhe\">Jackeyzhe</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">0</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "å°ç™½å­¦AIå¼€å‘01ï¼šåˆ›å»ºç¬¬ä¸€ä¸ªç¤ºä¾‹Agent",
      "link": "https://www.cnblogs.com/jyzhao/p/19484508/xiao-bai-xueai-kai-fa01-chuang-jian-di-yi-ge-shi-l",
      "published": "",
      "description": "<a name=\"top\"></a>\n    <h2><a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/jyzhao/p/19484508/xiao-bai-xueai-kai-fa01-chuang-jian-di-yi-ge-shi-l\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-14 23:43\">\n    <span>å°ç™½å­¦AIå¼€å‘01ï¼šåˆ›å»ºç¬¬ä¸€ä¸ªç¤ºä¾‹Agent</span>\n    \n\n</a>\n</h2>\n    <small>\n<span id=\"post-date\">2026-01-14 23:43</span>&nbsp;\n<a href=\"https://www.cnblogs.com/jyzhao\">AlfredZhao</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">0</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</small>\n    <div class=\"entry\">\n        <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<p>åœ¨ LangChain å¼€å‘ä¸­ï¼Œæˆ‘ä»¬çš„æ ¸å¿ƒå·¥ä½œæ˜¯å†™ Promptï¼ˆæç¤ºè¯ï¼‰ã€‚</p>\n<p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜éœ€è¦äº†è§£ä¸‹pythonåŸºç¡€ï¼Œç®€å•äº†è§£å³å¯ï¼Œä¸éœ€è¦ç³»ç»Ÿå­¦ä¹ ï¼Œè¿™å°±æ˜¯AIæ—¶ä»£å¯¹æŠ€æœ¯çˆ±å¥½è€…çš„çº¢åˆ©ã€‚</p>\n<h2 id=\"01--æ„å»ºç‹¬ç«‹çš„pythonç¯å¢ƒ\">01 | æ„å»ºç‹¬ç«‹çš„pythonç¯å¢ƒ</h2>\n<p>ä½¿ç”¨minicondaæ„å»ºç‹¬ç«‹çš„pythonç¯å¢ƒã€‚</p>\n<p>å®˜æ–¹ç½‘ç«™ï¼š<a href=\"https://www.anaconda.com/\" rel=\"noopener nofollow\" target=\"_blank\">https://www.anaconda.com/</a></p>\n<p>é€‰æ‹©é€‚åˆä½ çš„ï¼Œæˆ‘è¿™é‡Œç›´æ¥é€‰æ‹©å›¾å½¢åŒ–å®‰è£…çš„Minicondaï¼š</p>\n<p><img alt=\"\" src=\"https://img2024.cnblogs.com/blog/635610/202601/635610-20260114224646258-840865368.jpg\" /></p>\n<p>ä¸‹è½½åå®‰è£…ï¼š</p>\n<p><img alt=\"\" src=\"https://img2024.cnblogs.com/blog/635610/202601/635610-20260114224646142-163182582.jpg\" /></p>\n<p>å…³é—­å¹¶é‡æ–°æ‰“å¼€ç»ˆç«¯ã€‚æ­¤æ—¶ä½ ä¼šçœ‹åˆ°å‘½ä»¤è¡Œå‰é¢å¤šäº†ä¸ª (base)ï¼Œè¿™è¯´æ˜ Conda å·²ç»æ¥ç®¡äº†ç¯å¢ƒã€‚</p>\n<p>ç„¶ååˆ›å»º Python 3.12 ä¸“å±å­¦ä¹ ç¯å¢ƒï¼š</p>\n<pre><code class=\"language-BASH\"># åˆ›å»ºç¯å¢ƒå¹¶æŒ‡å®š Python ç‰ˆæœ¬\nconda create -n lc python=3.12 -y\n\n# æ¿€æ´»ç¯å¢ƒ\nconda activate lc\n</code></pre>\n<p>Tipsï¼šå¦‚æœåˆ›å»ºç¯å¢ƒï¼Œé‡åˆ°è®©åŒæ„æœåŠ¡/æ¡æ¬¾ä¹‹ç±»ï¼Œç›´æ¥æŒ‰æç¤ºå‘½ä»¤æ‰§è¡ŒåŒæ„å³å¯ã€‚</p>\n<p>åé¢æµ‹è¯•ä¸åŒåŠŸèƒ½çš„pythonç¨‹åºè‚¯å®šå…ä¸äº†å¼•ç”¨å„ç§ç±»å‹çš„åŒ…ï¼Œæˆ‘ä»¬ç»Ÿä¸€æ”¾åˆ° requirements.txt ä¸­ï¼Œåç»­æ–°ç¯å¢ƒä¹Ÿå¯ä»¥ç›´æ¥ä¸€é”®å®‰è£…éœ€è¦å¼•å…¥çš„ç›¸å…³åŒ…ã€‚</p>\n<pre><code class=\"language-BASH\">pip install -r requirements.txt\n</code></pre>\n<p>å®šæœŸç»´æŠ¤requirements.txtæ–‡ä»¶ï¼š</p>\n<pre><code class=\"language-BASH\">langchain\nlangchain-openai\npython-dotenv\n</code></pre>\n<h2 id=\"02--åˆ›å»ºç¬¬ä¸€ä¸ªç¤ºä¾‹agent\">02 | åˆ›å»ºç¬¬ä¸€ä¸ªç¤ºä¾‹Agent</h2>\n<p>è¿™é‡Œä»¿ç…§LangChainå®˜æ–¹æ–‡æ¡£ï¼Œæ„å»ºä¸€ä¸ªç®€å•çš„Agentã€‚</p>\n<ul>\n<li><a href=\"https://docs.langchain.com/oss/python/langchain/quickstart\" rel=\"noopener nofollow\" target=\"_blank\">https://docs.langchain.com/oss/python/langchain/quickstart</a></li>\n</ul>\n<p>å› ä¸ºç¬”è€…æš‚æ—¶æ²¡æœ‰Claudeæ¨¡å‹å¯ç”¨ï¼Œæ‰€ä»¥æ›¿æ¢ä¸ºå›½å†…çš„æ¨¡å‹ï¼Œåœ¨æˆ‘ä»¬å­¦ä¹ æµ‹è¯•é˜¶æ®µï¼ŒåŸºæœ¬æ˜¯æ²¡å•¥å½±å“çš„ã€‚</p>\n<p>vi basic.py</p>\n<pre><code class=\"language-python\">import os\nfrom dotenv import load_dotenv\nfrom langchain.agents import create_agent\nfrom langchain_openai import ChatOpenAI\nfrom langchain.tools import tool\n\n# åŠ è½½ .env æ–‡ä»¶ä¸­çš„ SILICONFLOW_API_KEY\nload_dotenv()\n\n# 1. å®šä¹‰å·¥å…·ï¼šå¿…é¡»è¦å†™æ¸…æ™°çš„ Docstringï¼ˆå‡½æ•°æ³¨é‡Šï¼‰\n@tool\ndef get_weather(city: str) -&gt; str:\n    \"\"\"è·å–æŒ‡å®šåŸå¸‚çš„å®æ—¶å¤©æ°”æƒ…å†µã€‚\"\"\"\n    return f\"{city} çš„å¤©æ°”æ€»æ˜¯é˜´é›¨è¿è¿ï¼\"\n\n# 2. åˆå§‹åŒ– SiliconFlow æ¨¡å‹\nllm = ChatOpenAI(\n    model=\"deepseek-ai/DeepSeek-V3\", \n    api_key=os.getenv(\"SILICONFLOW_API_KEY\"),\n    base_url=\"https://api.siliconflow.cn/v1\",\n    temperature=0.1\n)\n\n# 3. åˆ›å»º Agent\nagent = create_agent(\n    model=llm,\n    tools=[get_weather],\n    system_prompt=\"ä½ æ˜¯ä¸€ä¸ªä¹äºåŠ©äººçš„å¤©æ°”åŠ©æ‰‹ã€‚\"\n)\n\n# 4. è¿è¡Œ\nif __name__ == \"__main__\":\n    response = agent.invoke(\n        {\"messages\": [{\"role\": \"user\", \"content\": \"åŒ—äº¬å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ\"}]}\n    )\n    # æ‰“å°æœ€åä¸€æ¡æ¶ˆæ¯ï¼ˆAI çš„å›ç­”ï¼‰\n    print(response[\"messages\"][-1].content)\n</code></pre>\n<h2 id=\"03--å¢å¼ºè¿™ä¸ªç¤ºä¾‹agent\">03 | å¢å¼ºè¿™ä¸ªç¤ºä¾‹Agent</h2>\n<p>æ±‰åŒ–å¹¶ç¨å¾®æ”¹é€ ä¸‹å®˜æ–¹çš„ç¤ºä¾‹ï¼Œä½¿å…¶é€‚ç”¨äºæˆ‘ä»¬çš„æµ‹è¯•ç¯å¢ƒï¼š</p>\n<p>vi enhance.py</p>\n<pre><code class=\"language-PYTHON\">import os\nfrom dataclasses import dataclass\nfrom dotenv import load_dotenv\n\nfrom langchain_openai import ChatOpenAI\nfrom langchain.agents import create_agent\nfrom langchain.tools import tool, ToolRuntime\nfrom langgraph.checkpoint.memory import InMemorySaver\nfrom langchain.agents.structured_output import ToolStrategy\n\nload_dotenv()\n\n# 1. å®šä¹‰ç³»ç»Ÿæç¤ºè¯ï¼ˆè¦æ±‚ AI åšä¸ªâ€œè°éŸ³æ¢—â€ä¸“å®¶ï¼‰\nSYSTEM_PROMPT = \"\"\"ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„èµ„æ·±å¤©æ°”é¢„æŠ¥å‘˜ï¼Œè¯´è¯æå…¶å¹½é»˜ï¼Œç‰¹åˆ«å–œæ¬¢è®²â€œè°éŸ³æ¢—â€ã€‚\n\nä½ æœ‰æƒä½¿ç”¨ä»¥ä¸‹ä¸¤ä¸ªå·¥å…·ï¼š\n- get_weather_for_location: è·å–ç‰¹å®šåŸå¸‚çš„å¤©æ°”ã€‚\n- get_user_location: è·å–å½“å‰ç”¨æˆ·çš„æ‰€åœ¨åœ°ã€‚\n\nå¦‚æœç”¨æˆ·è¯¢é—®å¤©æ°”ï¼Œè¯·åŠ¡å¿…ç¡®è®¤åœ°ç‚¹ã€‚å¦‚æœç”¨æˆ·è¯´çš„æ˜¯â€œæˆ‘è¿™å„¿â€æˆ–â€œæˆ‘è¿™é‡Œâ€ï¼Œè¯·è°ƒç”¨ get_user_location è·å–ä»–ä»¬çš„ä½ç½®ã€‚\"\"\"\n\n# 2. å®šä¹‰ä¸Šä¸‹æ–‡ç»“æ„ï¼ˆå­˜å‚¨ç”¨æˆ·ä¿¡æ¯ï¼‰\n@dataclass\nclass Context:\n    \"\"\"è‡ªå®šä¹‰è¿è¡Œæ—¶ä¸Šä¸‹æ–‡ã€‚\"\"\"\n    user_id: str\n\n# 3. å®šä¹‰å·¥å…·\n@tool\ndef get_weather_for_location(city: str) -&gt; str:\n    \"\"\"è·å–æŒ‡å®šåŸå¸‚çš„å¤©æ°”æƒ…å†µã€‚\"\"\"\n    return f\"{city} çš„å¤©æ°”æ€»æ˜¯é˜³å…‰ç¿çƒ‚ï¼\"\n\n@tool\ndef get_user_location(runtime: ToolRuntime[Context]) -&gt; str:\n    \"\"\"æ ¹æ®ç”¨æˆ· ID è·å–å…¶åœ°ç†ä½ç½®ã€‚\"\"\"\n    user_id = runtime.context.user_id\n    # æ¨¡æ‹Ÿæ•°æ®åº“ï¼šç”¨æˆ· 1 åœ¨åŒ—äº¬ï¼Œå…¶ä»–åœ¨ç æµ·\n    return \"åŒ—äº¬\" if user_id == \"1\" else \"ç æµ·\"\n\n# 4. é…ç½®ä½ çš„æ¨¡å‹ (SiliconFlow)\nmodel = ChatOpenAI(\n    model=\"deepseek-ai/DeepSeek-V3\",\n    api_key=os.getenv(\"SILICONFLOW_API_KEY\"),\n    base_url=\"https://api.siliconflow.cn/v1\",\n    temperature=0.7  # ç¨å¾®æé«˜éšæœºæ€§ï¼Œè®©è°éŸ³æ¢—æ›´æœ‰åˆ›æ„\n)\n\n# 5. å®šä¹‰å“åº”æ ¼å¼ï¼ˆæ±‰åŒ–å­—æ®µæè¿°ï¼Œè®© AI æ˜ç™½å¡«ä»€ä¹ˆï¼‰\n@dataclass\nclass ResponseFormat:\n    \"\"\"Agent çš„ç»“æ„åŒ–å›å¤æ ¼å¼ã€‚\"\"\"\n    # å¹½é»˜çš„è°éŸ³æ¢—å›å¤\n    punny_response: str\n    # ä»»ä½•å…³äºå¤©æ°”çš„æœ‰è¶£ä¿¡æ¯ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰\n    weather_conditions: str | None = None\n\n# 6. è®¾ç½®è®°å¿†å­˜å‚¨\ncheckpointer = InMemorySaver()\n\n# 7. åˆ›å»º Agent\nagent = create_agent(\n    model=model,\n    system_prompt=SYSTEM_PROMPT,\n    tools=[get_user_location, get_weather_for_location],\n    context_schema=Context,\n    response_format=ToolStrategy(ResponseFormat),\n    checkpointer=checkpointer\n)\n\n# --- è¿è¡Œæµ‹è¯• ---\n\n# è®¾ç½®ä¼šè¯ ID\nconfig = {\"configurable\": {\"thread_id\": \"test_user_001\"}}\n\n# ç¬¬ä¸€æ¬¡æé—®\nprint(\"--- ç¬¬ä¸€æ¬¡å¯¹è¯ ---\")\nresponse = agent.invoke(\n    {\"messages\": [{\"role\": \"user\", \"content\": \"å¤–é¢å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ\"}]},\n    config=config,\n    context=Context(user_id=\"1\")\n)\n\n# è®¿é—®ç»“æ„åŒ–ç»“æœ\nres = response['structured_response']\nprint(f\"AI: {res.punny_response}\")\nprint(f\"è¯¦æƒ…: {res.weather_conditions}\")\n\nprint(\"\\n--- ç¬¬äºŒæ¬¡å¯¹è¯ï¼ˆæµ‹è¯•è®°å¿†ï¼‰ ---\")\n# ç¬¬äºŒæ¬¡æé—®\nresponse = agent.invoke(\n    {\"messages\": [{\"role\": \"user\", \"content\": \"è°¢è°¢ä½ ï¼æˆ‘åœ¨å“ªé‡Œï¼Ÿ\"}]},\n    config=config,\n    context=Context(user_id=\"1\")\n)\n\nres = response['structured_response']\nprint(f\"AI: {res.punny_response}\")\n</code></pre>\n<p>è¿™æ®µç¤ºä¾‹ä»£ç çš„æ ¸å¿ƒé€»è¾‘æ˜¯ï¼š</p>\n<p><strong>ç¬¬ä¸€æ¬¡å¯¹è¯ï¼š</strong></p>\n<p>ç”¨æˆ·é—®ï¼šâ€œå¤–é¢å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿâ€ï¼ˆæ²¡è¯´åœ°ç‚¹ï¼‰ã€‚<br />\nAI æ€è€ƒï¼šç³»ç»Ÿæç¤ºè¯å‘Šè¯‰æˆ‘ï¼Œå¦‚æœåœ°ç‚¹ä¸æ˜ï¼Œå…ˆå»æŸ¥ç”¨æˆ·åœ¨å“ªã€‚<br />\nåŠ¨ä½œï¼šAI è°ƒç”¨ get_user_location -&gt; å¾—åˆ°â€œåŒ—äº¬â€ -&gt; è°ƒç”¨ get_weather_for_location -&gt; å¾—åˆ°å¤©æ°”ã€‚<br />\nå›å¤ï¼šæ ¹æ® ResponseFormat åå‡ºä¸€ä¸ªè°éŸ³æ¢—ã€‚</p>\n<p><strong>ç¬¬äºŒæ¬¡å¯¹è¯ï¼š</strong></p>\n<p>ç”¨æˆ·é—®ï¼šâ€œè°¢è°¢ä½ ï¼æˆ‘åœ¨å“ªé‡Œï¼Ÿâ€<br />\nAI æ€è€ƒï¼šç”±äºæœ‰ thread_id å’Œ checkpointerï¼ŒAI è®°å¾—ä¸Šä¸€æ¬¡æŸ¥è¯¢çš„ç»“æœã€‚<br />\nåŠ¨ä½œï¼šå®ƒä¸éœ€è¦å†æ¬¡æŸ¥å·¥å…·ï¼Œç›´æ¥ä»è®°å¿†é‡Œæå–ä¿¡æ¯å¹¶å›å¤ã€‚</p>\n<p>ç„¶åæ‰‹å·¥å°†ä»£ç ä¸­çš„ user_id æ”¹ä¸º2ï¼Œå†æ¬¡è¿è¡Œï¼Œå°±ä¼šæ ¹æ®å·¥å…· <code>get_user_location</code> ä¸­çš„ç¤ºä¾‹é€»è¾‘ï¼Œå¾—åˆ°åœ°ç‚¹ä¸ºâ€ç æµ·â€œï¼Œä¸¤æ¬¡æ‰§è¡Œçš„æ•ˆæœå‚è€ƒå¦‚ä¸‹ï¼š</p>\n<p><img alt=\"\" src=\"https://img2024.cnblogs.com/blog/635610/202601/635610-20260114224646132-69223909.jpg\" /></p>\n<p>è¯¥æ®µç¤ºä¾‹ä»£ç è™½ç„¶ç®€å•ï¼Œä½†å…¶å®å·²ç»èƒ½å±•ç°å‡ºä¸€ä¸ªä¼ä¸šçº§ AI æ™ºèƒ½ä½“ï¼ˆAgentï¼‰çš„ç¼©å½±ã€‚å®ƒæ¶µç›–äº†ç°ä»£ AI å¼€å‘ä¸­æœ€æ ¸å¿ƒçš„ä¸‰ä¸ªæ”¯æŸ±ï¼šå·¥å…·è°ƒç”¨ï¼ˆTool Useï¼‰ã€ä¸Šä¸‹æ–‡è®°å¿†ï¼ˆMemoryï¼‰ã€ä»¥åŠç»“æ„åŒ–è¾“å‡ºï¼ˆStructured Outputï¼‰ã€‚</p>\n\n</div>\n<div id=\"MySignature\">\n    <a href=\"https://www.cnblogs.com/jyzhao/\" target=\"_blank\">AlfredZhao</a>Â©ç‰ˆæƒæ‰€æœ‰ã€Œä»Oracleèµ·èˆªï¼Œé¢†ç•¥ç²¾å½©çš„ITæŠ€æœ¯ã€‚ã€<br />\nè½¬è½½è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼š<a href=\"https://www.cnblogs.com/jyzhao/p/19484508/xiao-bai-xueai-kai-fa01-chuang-jian-di-yi-ge-shi-l\" target=\"_blank\">https://www.cnblogs.com/jyzhao/p/19484508/xiao-bai-xueai-kai-fa01-chuang-jian-di-yi-ge-shi-l</a>\n<hr />\n<div style=\"text-align: center; margin-top: 30px;\">\n  <p style=\"font-size: 14px; color: #555;\">\n    ğŸ‘‹ æ„Ÿè°¢é˜…è¯»ï¼Œæ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å· <b>ã€Œèµµé–å®‡ã€</b>\n  </p>\n  <img src=\"https://images.cnblogs.com/cnblogs_com/jyzhao/824234/o_250208075013_qrcode-zjy.jpg\" style=\"border: 1px solid #ddd; border-radius: 8px;\" width=\"160\" />\n</div>\n</div>\n<div class=\"clear\"></div>\n\n        <div class=\"clear\"></div>\n        \n</div>\n    <ul class=\"postmetadata\">\n        \n    </ul>"
    },
    {
      "title": "Claude Code æœ€ä½³å®è·µçš„ 8 æ¡é»„é‡‘æ³•åˆ™",
      "link": "https://www.cnblogs.com/didispace/p/19484090",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/didispace/p/19484090\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-14 19:53\">\n    <span>Claude Code æœ€ä½³å®è·µçš„ 8 æ¡é»„é‡‘æ³•åˆ™</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<p>ä¸ºä»€ä¹ˆåŒæ ·æ˜¯è°ƒç”¨ Claudeï¼Œæœ‰çš„äººèƒ½å†™å‡ºå·¥ä¸šçº§ä»£ç ï¼Œè€Œæœ‰çš„äººåªæ˜¯åœ¨ä¸æ–­å †ç§¯â€œæŠ€æœ¯å€ºâ€ï¼Ÿ ä»Šå¤©åˆ†äº«ä¸€ä½æ‹¥æœ‰ 7 å¹´ Amazonã€Disney å¤§å‚ç»éªŒã€ç°ä»»åˆ›ä¸šå…¬å¸ CTO åˆ†äº«çš„å®æˆ˜æŒ‡å—ã€‚ä»–æŠŠ Claude Code å½“ä½œæ¯æ—¥ä¸»åŠ›å·¥å…·ï¼Œå¹¶æ€»ç»“å‡ºäº†ä¸€å¥—é«˜é˜¶ç©å®¶æ‰‹å†Œã€‚ä»â€œå…ˆæ€è€ƒåæ•²å­—â€çš„æ¶æ„é“å¾‹ï¼Œåˆ°è®© AI ç§’æ‡‚ä½ çš„ CLAUDE.md æ·±åº¦é…ç½®ï¼Œå…¨æ˜¯é¿å‘æŒ‡å—ã€‚å¦‚æœä½ æƒ³è®© AI çœŸæ­£æˆä¸ºä½ çš„ç”Ÿäº§åŠ›é£è½®ï¼Œè¿™ç¯‡æ–‡ç« ç»å¯¹å€¼å¾—æ”¶è—åå¤è¯»ï¼</p>\n<p><img alt=\"f02adbeb1a8c005df0134224ed8c0d1b.png\" class=\"lazyload\" /></p>\n<p>ä¸‹é¢æ˜¯å¯¹è¿™ç¯‡æ–‡ç« çš„æ€»ç»“è§£è¯»ï¼Œå¦‚æœå¯¹åŸæ–‡æ„Ÿå…´è¶£ä¹Ÿå¯ä»¥æˆ³è¿™é‡ŒæŸ¥çœ‹ï¼š<a href=\"https://x.com/eyad_khrais/status/2010076957938188661\" rel=\"noopener nofollow\" target=\"_blank\">ã€ŠThe complete claude code tutorial ã€‹</a></p>\n<h2 id=\"æ³•åˆ™ä¸€å…ˆæ€è€ƒå†è¾“å…¥è®¡åˆ’æ¨¡å¼æ˜¯ä½ æœ€å¼ºå¤§çš„æ­¦å™¨\">æ³•åˆ™ä¸€ï¼šå…ˆæ€è€ƒï¼Œå†è¾“å…¥ï¼šè®¡åˆ’æ¨¡å¼æ˜¯ä½ æœ€å¼ºå¤§çš„æ­¦å™¨ã€‚</h2>\n<p>å¤§å¤šæ•°äººè®¤ä¸ºä½¿ç”¨AIå·¥å…·çš„ç¬¬ä¸€æ­¥å°±æ˜¯ç›´æ¥å¼€å§‹è¾“å…¥æç¤ºè¯ã€‚è¿™æ˜¯ä½ èƒ½çŠ¯ä¸‹çš„æœ€å¤§é”™è¯¯ä¹‹ä¸€ã€‚çœŸæ­£è‡³å…³é‡è¦ä¸”å¿…é¡»å…ˆåšçš„ç¬¬ä¸€æ­¥æ˜¯â€”â€”æ€è€ƒå’Œè®¡åˆ’ã€‚</p>\n<p>æˆ‘100%çš„ç»éªŒè¡¨æ˜ï¼Œä½¿ç”¨â€œè®¡åˆ’æ¨¡å¼â€ï¼ˆè¿æŒ‰ä¸¤æ¬¡ Shift+Tab é”®è¿›å…¥ï¼‰å¾—åˆ°çš„è¾“å‡ºï¼Œè¿œèƒœäºç›´æ¥æ»”æ»”ä¸ç»åœ°è¾“å…¥æƒ³æ³•ã€‚è¿™ç§å·®è·æ˜¯å‹å€’æ€§çš„ã€‚</p>\n<p>å½“ç„¶ï¼Œå¯¹äºä¸€äº›ç»éªŒä¸è¶³çš„å·¥ç¨‹å¸ˆæ¥è¯´ï¼Œè¿™å¯èƒ½è¯´èµ·æ¥å®¹æ˜“åšèµ·æ¥éš¾ã€‚å¯¹æ­¤ï¼Œæˆ‘æœ‰ä¸¤æ¡å»ºè®®ï¼š</p>\n<ol>\n<li>å¼€å§‹å­¦ä¹ ã€‚ å³ä½¿æ¯æ¬¡åªå­¦ä¸€ç‚¹ï¼Œä¹Ÿå¿…é¡»å¼€å§‹ç§¯ç´¯ã€‚å¦‚æœä½ æ°¸è¿œä¸æŒæ¡è§„åˆ’èƒ½åŠ›ï¼Œä½ å°±æ˜¯åœ¨ç»™è‡ªå·±è®¾ç½®éšœç¢ã€‚</li>\n<li>ä¸AIæ·±åº¦äº¤æµã€‚ å’ŒClaudeè¿›è¡Œä¸€åœºæ·±å…¥çš„ã€åŒå‘çš„å¯¹è¯ã€‚è¯¦ç»†æè¿°ä½ æƒ³æ„å»ºä»€ä¹ˆï¼Œè¯¢é—®å®ƒåœ¨ç³»ç»Ÿè®¾è®¡ä¸Šæœ‰ä»€ä¹ˆä¸åŒçš„é€‰æ‹©ï¼Œæœ€ç»ˆå…±åŒç¡®å®šä¸€ä¸ªæ–¹æ¡ˆã€‚ä½ å’ŒAIåº”è¯¥äº’ç›¸æé—®ï¼Œè€Œä¸æ˜¯å•è¡Œé“ã€‚</li>\n</ol>\n<h2 id=\"æ³•åˆ™äºŒclaudemdä¸æ˜¯æ–‡æ¡£è€Œæ˜¯aiçš„å¤§è„‘\">æ³•åˆ™äºŒï¼šCLAUDE.mdä¸æ˜¯æ–‡æ¡£ï¼Œè€Œæ˜¯AIçš„å¤§è„‘ã€‚</h2>\n<p>CLAUDE.mdæ˜¯ä¸€ä¸ªæå…¶é‡è¦ä½†å¸¸è¢«è¯¯ç”¨çš„é…ç½®æ–‡ä»¶ã€‚åœ¨ä½ æ¯æ¬¡å¯åŠ¨ä¼šè¯æ—¶ï¼ŒClaudeéƒ½ä¼šé¦–å…ˆè¯»å–å®ƒã€‚å¤§å¤šæ•°äººè¦ä¹ˆå®Œå…¨å¿½ç•¥å®ƒï¼Œè¦ä¹ˆç”¨ä¸€äº›åƒåœ¾ä¿¡æ¯å¡«æ»¡å®ƒï¼Œç»“æœåè€Œè®©Claudeçš„è¡¨ç°æ›´ç³Ÿã€‚</p>\n<p>è¦å†™å¥½ä¸€ä¸ªCLAUDE.mdï¼Œè¯·éµå¾ªä»¥ä¸‹å››ä¸ªå…³é”®æ³•åˆ™ï¼š</p>\n<ul>\n<li>ä¿æŒç®€çŸ­ï¼š Claudeä¸€æ¬¡åªèƒ½å¯é åœ°éµå¾ªå¤§çº¦150-200æ¡æŒ‡ä»¤ï¼Œè€Œç³»ç»Ÿæç¤ºæœ¬èº«å·²ç»å ç”¨äº†å¤§çº¦50æ¡ã€‚ä½ çš„æ¯ä¸€æ¡æ–°æŒ‡ä»¤éƒ½åœ¨äº‰å¤ºå®ƒçš„æ³¨æ„åŠ›ã€‚å¦‚æœä½ çš„CLAUDE.mdå†™å¾—åƒæœ¬å°è¯´ï¼ŒClaudeå°±ä¼šå¼€å§‹éšæœºå¿½ç•¥æŸäº›å†…å®¹ã€‚</li>\n<li>ä¸“æ³¨äºé¡¹ç›®ç‰¹æ€§ï¼š ä¸è¦å‘Šè¯‰å®ƒä»€ä¹ˆæ˜¯â€œç»„ä»¶â€æ–‡ä»¶å¤¹ï¼Œå®ƒæ—©å°±çŸ¥é“äº†ã€‚ä½ åº”è¯¥å‘Šè¯‰å®ƒä½ é¡¹ç›®é‡Œé‚£äº›â€œå¥‡æ€ªâ€çš„ä¸œè¥¿ï¼Œæ¯”å¦‚ä½ ç‰¹æœ‰çš„bashå‘½ä»¤æˆ–å·¥ä½œæµç¨‹ã€‚</li>\n<li>è§£é‡Šâ€œä¸ºä»€ä¹ˆâ€ï¼Œè€Œä¸ä»…æ˜¯â€œåšä»€ä¹ˆâ€ï¼š å½“ä½ ç»™å‡ºæŒ‡ä»¤èƒŒåçš„åŸå› æ—¶ï¼ŒClaudeèƒ½æ›´å¥½åœ°ç†è§£æ„å›¾å¹¶åšå‡ºæ›´ä¼˜çš„åˆ¤æ–­ã€‚åªè¯´â€œä½¿ç”¨TypeScriptä¸¥æ ¼æ¨¡å¼â€æ˜¯å¯ä»¥çš„ï¼Œä½†è¯´â€œä½¿ç”¨TypeScriptä¸¥æ ¼æ¨¡å¼ï¼Œå› ä¸ºæˆ‘ä»¬æ›¾å› éšå¼anyç±»å‹å¯¼è‡´è¿‡ç”Ÿäº§ç¯å¢ƒçš„bugâ€æ•ˆæœä¼šå¥½å¾—å¤šã€‚</li>\n<li>æŒç»­æ›´æ–°ï¼š CLAUDE.mdåº”è¯¥æ˜¯ä¸€ä»½â€œæ´»æ–‡æ¡£â€ã€‚å½“ä½ å·¥ä½œæ—¶ï¼Œå¯ä»¥æŒ‰ # é”®å¿«é€Ÿå°†å½“å‰æŒ‡ä»¤æ·»åŠ åˆ°æ–‡ä»¶ä¸­ã€‚æ¯å½“ä½ å‘ç°è‡ªå·±ç¬¬äºŒæ¬¡çº æ­£ClaudeåŒä¸€ä¸ªé—®é¢˜æ—¶ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªæ˜ç¡®çš„ä¿¡å·ï¼šè¿™æ¡è§„åˆ™åº”è¯¥è¢«å†™å…¥CLAUDE.mdã€‚</li>\n</ul>\n<p>ä¸€ä¸ªç³Ÿç³•çš„ CLAUDE.md è¯»èµ·æ¥åƒæ˜¯ç»™æ–°å‘˜å·¥å†™çš„å…¥èŒæ–‡æ¡£ã€‚è€Œä¸€ä¸ªä¼˜ç§€çš„ CLAUDE.md è¯»èµ·æ¥åƒæ˜¯ä½ ä¸ºæ˜å¤©ä¼šå¤±å¿†çš„è‡ªå·±ç•™ä¸‹çš„æ ¸å¿ƒç¬”è®°ã€‚</p>\n<h2 id=\"æ³•åˆ™ä¸‰200kä¸Šä¸‹æ–‡æ˜¯ç”œèœœçš„é™·é˜±åˆ«æ‰è¿›å»\">æ³•åˆ™ä¸‰ï¼š200kä¸Šä¸‹æ–‡æ˜¯ç”œèœœçš„é™·é˜±ï¼Œåˆ«æ‰è¿›å»ã€‚</h2>\n<p>è¿™æ˜¯ä¸€ä¸ªåç›´è§‰çš„äº‹å®ï¼šæ¨¡å‹æ€§èƒ½çš„ä¸‹é™è¿œåœ¨ä¸Šä¸‹æ–‡çª—å£è¢«å®Œå…¨å¡«æ»¡ä¹‹å‰å°±å¼€å§‹äº†ï¼Œé€šå¸¸åœ¨ä½¿ç”¨ç‡è¾¾åˆ°20-40%æ—¶å°±ä¼šå‡ºç°æ˜æ˜¾çš„è¡°å‡ã€‚</p>\n<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæœ‰æ—¶å€™å³ä½¿ä½ å‹ç¼©äº†ä¸Šä¸‹æ–‡ï¼ˆä½¿ç”¨ /compact å‘½ä»¤ï¼‰ï¼ŒClaudeä»ç„¶ä¼šç»™å‡ºç³Ÿç³•çš„è¾“å‡ºã€‚å› ä¸ºåœ¨å‹ç¼©ä¹‹å‰ï¼Œæ¨¡å‹çš„æ€§èƒ½å°±å·²ç»é€€åŒ–äº†ã€‚</p>\n<p>ä»¥ä¸‹æ˜¯æœ‰æ•ˆç®¡ç†ä¸Šä¸‹æ–‡çš„å‡ ä¸ªå®ç”¨ç­–ç•¥ï¼š</p>\n<ul>\n<li>åˆ’åˆ†å¯¹è¯èŒƒå›´ (Scope your conversations): æ¯ä¸ªåŠŸèƒ½æˆ–ä»»åŠ¡ä½¿ç”¨ä¸€ä¸ªç‹¬ç«‹çš„å¯¹è¯ã€‚ä¸è¦åœ¨åŒä¸€ä¸ªå¯¹è¯é‡Œæ—¢æ„å»ºè®¤è¯ç³»ç»Ÿåˆé‡æ„æ•°æ®åº“å±‚ã€‚</li>\n<li>ä½¿ç”¨å¤–éƒ¨è®°å¿† (Use external memory): å¯¹äºå¤æ‚çš„ä»»åŠ¡ï¼Œè®©Claudeå°†è®¡åˆ’å’Œè¿›åº¦å†™å…¥åƒ SCRATCHPAD.md è¿™æ ·çš„å¤–éƒ¨æ–‡ä»¶ä¸­ã€‚è¿™æ ·ç¬¬äºŒå¤©ä½ å›æ¥æ—¶ï¼ŒClaudeå¯ä»¥è¯»å–æ–‡ä»¶ï¼Œä»ä¸Šæ¬¡ä¸­æ–­çš„åœ°æ–¹ç»§ç»­ã€‚</li>\n<li>â€œå¤åˆ¶-ç²˜è´´â€é‡ç½®æ³• (The copy-paste reset): å½“ä¸Šä¸‹æ–‡å˜å¾—è‡ƒè‚¿æ—¶ï¼Œå¤åˆ¶å¯¹è¯ä¸­çš„å…³é”®ä¿¡æ¯ï¼Œè¿è¡Œ /compact å’Œ /clear æ¸…ç©ºä¸Šä¸‹æ–‡ï¼Œç„¶ååªæŠŠæœ€é‡è¦çš„ä¿¡æ¯ç²˜è´´å›æ¥ã€‚ä¸€ä¸ªæ¸…çˆ½çš„ä¸Šä¸‹æ–‡è¿œèƒœäºé€€åŒ–çš„ä¸Šä¸‹æ–‡ã€‚</li>\n<li>æœæ–­æ¸…ç©º (Know when to clear): å¦‚æœä¸€ä¸ªå¯¹è¯å·²ç»åç¦»äº†è½¨é“ï¼Œç›´æ¥ç”¨ /clear é‡æ–°å¼€å§‹ã€‚è¿™å‡ ä¹æ€»æ˜¯æ¯”è¯•å›¾çº æ­£ä¸€ä¸ªæ··ä¹±çš„å¯¹è¯è¦å¥½ã€‚</li>\n</ul>\n<p>è®°ä½è¿™ä¸ªå¿ƒæ™ºæ¨¡å‹ï¼šClaudeæ˜¯æ— çŠ¶æ€çš„ã€‚é™¤äº†ä½ æ˜ç¡®ç»™å®ƒçš„ä¸œè¥¿ï¼Œæ¯ä¸ªå¯¹è¯éƒ½æ˜¯ä»é›¶å¼€å§‹ã€‚è¯·æ®æ­¤è§„åˆ’ã€‚</p>\n<h2 id=\"æ³•åˆ™å››æ¶æ„å†³å®šä¸€åˆ‡è§„åˆ’æ— å¯æ›¿ä»£\">æ³•åˆ™å››ï¼šæ¶æ„å†³å®šä¸€åˆ‡ï¼Œè§„åˆ’æ— å¯æ›¿ä»£ã€‚</h2>\n<p>æ¶æ„è‡³å…³é‡è¦ï¼Œå°¤å…¶æ˜¯åœ¨è½¯ä»¶å·¥ç¨‹ä¸­ã€‚å¦‚æœä½ ä¸å…ˆæ€è€ƒç»“æ„ï¼ŒAIç”Ÿæˆçš„ä»£ç å°±ä¼šæœ‰å·¨å¤§çš„â€œè‡ªç”±å‘æŒ¥â€ç©ºé—´ï¼Œè€Œè¿™æ°æ°æ˜¯é—®é¢˜çš„æ ¹æºã€‚ä½ ä¸èƒ½è·³è¿‡è§„åˆ’ã€‚</p>\n<p>æ¯”è¾ƒä¸€ä¸‹è¿™ä¸¤ç§æé—®æ–¹å¼çš„å¤©å£¤ä¹‹åˆ«ï¼šæ¨¡ç³Šçš„è¯·æ±‚æ˜¯â€œç»™æˆ‘å»ºä¸€ä¸ªè®¤è¯ç³»ç»Ÿâ€ï¼Œè€Œä¸€ä¸ªç»è¿‡è§„åˆ’çš„ã€å…·ä½“çš„è¯·æ±‚æ˜¯â€œä½¿ç”¨ç°æœ‰çš„Useræ¨¡å‹æ„å»ºç”µå­é‚®ä»¶/å¯†ç è®¤è¯åŠŸèƒ½ï¼Œå°†sessionå­˜å‚¨åœ¨Redisä¸­å¹¶è®¾ç½®24å°æ—¶è¿‡æœŸï¼Œå¹¶æ·»åŠ ä¸­é—´ä»¶ä¿æŠ¤/api/protectedä¸‹çš„æ‰€æœ‰è·¯ç”±ã€‚â€</p>\n<p>å‰è€…ç»™äº†AIè¿‡å¤šçš„è‡ªç”±ï¼Œç»“æœå¯èƒ½æ˜¯æ··ä¹±çš„ã€‚åè€…ç»™äº†å®ƒä¸€ä¸ªæ¸…æ™°çš„è“å›¾ï¼Œç»“æœä¼šç²¾å‡†å¾—å¤šã€‚èŠ±5åˆ†é’Ÿè¿›è¡Œæ¶æ„è§„åˆ’ï¼Œå¯ä»¥ä¸ºä½ çœä¸‹åç»­æ•°å°æ—¶çš„è°ƒè¯•æ—¶é—´ã€‚</p>\n<h2 id=\"æ³•åˆ™äº”åœæ­¢æŠ±æ€¨æ¨¡å‹ç³Ÿç³•çš„è¾“å‡ºæºäºä½ ç³Ÿç³•çš„è¾“å…¥\">æ³•åˆ™äº”ï¼šåœæ­¢æŠ±æ€¨æ¨¡å‹ï¼Œç³Ÿç³•çš„è¾“å‡ºæºäºä½ ç³Ÿç³•çš„è¾“å…¥ã€‚</h2>\n<p>å½“å¾—åˆ°ä¸ç†æƒ³çš„ç»“æœæ—¶ï¼Œäººä»¬çš„ç¬¬ä¸€ååº”å¾€å¾€æ˜¯æŠ±æ€¨æ¨¡å‹ã€‚ä½†ç°å®æ˜¯æ®‹é…·çš„ï¼šåˆ«å†æ€ªæ¨¡å‹äº†ã€‚å¦‚æœä½ ç”¨Opus 4.5è¿˜å¾—ä¸åˆ°å¥½ç»“æœï¼Œé—®é¢˜å‡ºåœ¨ä½ èº«ä¸Šï¼Œè€Œä¸æ˜¯AIã€‚ä½ çš„è¾“å…¥å’Œæç¤ºæ–¹å¼çƒ‚é€äº†ï¼Œå¥å·ã€‚</p>\n<p>æƒ³è¦æå‡è¾“å‡ºè´¨é‡ï¼Œå…ˆè¦æå‡ä½ çš„è¾“å…¥è´¨é‡ï¼š</p>\n<ul>\n<li>å…·ä½“è¯´æ˜ä½ æƒ³è¦ä»€ä¹ˆ (Be specific about what you want)ï¼š ä½ çš„æŒ‡ä»¤è¶Šæ¸…æ™°ã€è¶Šå…·ä½“ï¼Œç»“æœå°±è¶Šå¥½ã€‚</li>\n<li>å‘Šè¯‰å®ƒä¸è¦åšä»€ä¹ˆ (Tell it what NOT to do)ï¼š Claude 4.5å°¤å…¶æœ‰è¿‡åº¦è®¾è®¡çš„å€¾å‘ã€‚å¦‚æœä½ æƒ³è¦ä¸€ä¸ªç®€çº¦çš„æ–¹æ¡ˆï¼Œå°±æ˜ç¡®å‘Šè¯‰å®ƒï¼šâ€œä¿æŒç®€å•ï¼Œä¸è¦æ·»åŠ æˆ‘æ²¡è¦æ±‚çš„æŠ½è±¡ï¼Œå¦‚æœå¯èƒ½çš„è¯ï¼Œåªç”¨ä¸€ä¸ªæ–‡ä»¶ã€‚â€</li>\n<li>æä¾›â€œä¸ºä»€ä¹ˆâ€çš„èƒŒæ™¯ (Give it context about why)ï¼š å‘Šè¯‰å®ƒâ€œè¿™ä¸ªåŠŸèƒ½éœ€è¦åœ¨æ¯ä¸ªè¯·æ±‚ä¸Šè¿è¡Œï¼Œæ‰€ä»¥æ€§èƒ½è‡³å…³é‡è¦â€ï¼Œæˆ–è€…â€œè¿™åªæ˜¯ä¸€ä¸ªåŸå‹ï¼Œç”¨å®Œå°±æ‰”â€ï¼Œè¿™äº›çº¦æŸä¼šå½»åº•æ”¹å˜æ¨¡å‹è§£å†³é—®é¢˜çš„æ€è·¯ã€‚</li>\n</ul>\n<p>ä¸€ä¸ªä¸“å®¶çº§çš„å·¥ä½œæµæ˜¯ï¼šç”¨Opusè¿›è¡Œè§„åˆ’å’Œæ¶æ„è®¾è®¡ï¼Œç„¶ååˆ‡æ¢åˆ°Sonnetè¿›è¡Œå…·ä½“å®ç°ã€‚ Opusæ›´æ“…é•¿å¤æ‚æ¨ç†ï¼Œè€ŒSonnetæ›´å¿«ã€æ›´ä¾¿å®œï¼Œéå¸¸é€‚åˆæ‰§è¡Œæ˜ç¡®çš„ä»»åŠ¡ã€‚å½“ç„¶ï¼Œå¦‚æœä½ æ˜¯é€šè¿‡APIæŒ‰é‡ä»˜è´¹ï¼Œç”¨Opuså†™æ¯ä¸€è¡Œä»£ç ï¼Œé‚£ä½ å¯èƒ½å¾—è€ƒè™‘å–æ‰ä¸€ä¸ªè‚¾äº†ã€‚</p>\n<p>è®°ä½è¿™ä¸ªçœŸç†ï¼šå¦‚æœä½ çš„è¾“å‡ºå¾ˆç³Ÿç³•ï¼Œé‚£æ˜¯å› ä¸ºä½ çš„è¾“å…¥å¾ˆç³Ÿç³•ã€‚æ²¡æœ‰æ·å¾„å¯èµ°ã€‚</p>\n<h2 id=\"æ³•åˆ™å…­å‹‡äºå®éªŒé…ç½®å†³å®šä½ çš„ä¸Šé™\">æ³•åˆ™å…­ï¼šå‹‡äºå®éªŒï¼Œé…ç½®å†³å®šä½ çš„ä¸Šé™ã€‚</h2>\n<p>Claudeæ‹¥æœ‰ä¸€ä¸ªæå…¶ä¸°å¯Œçš„åŠŸèƒ½ç”Ÿæ€ç³»ç»Ÿï¼šMCPæœåŠ¡å™¨ã€Hooksã€è‡ªå®šä¹‰æ–œæ å‘½ä»¤ã€settings.jsoné…ç½®ç­‰ç­‰ã€‚ä½ ä¸éœ€è¦å…¨éƒ¨æŒæ¡ï¼Œä½†ä½ åº”è¯¥å»å°è¯•å’Œå®éªŒã€‚</p>\n<ul>\n<li>MCP (Model Context Protocol): è®©Claudeè¿æ¥åˆ°å¤–éƒ¨æœåŠ¡ï¼Œå¦‚Slackã€GitHubã€æ•°æ®åº“ã€‚å¦‚æœä½ å‘ç°è‡ªå·±æ€»æ˜¯åœ¨å¤åˆ¶ç²˜è´´ä¿¡æ¯ï¼Œå¾ˆå¯èƒ½æœ‰MCPæœåŠ¡å™¨èƒ½å¸®ä½ è‡ªåŠ¨åŒ–ã€‚</li>\n<li>Hooks: è®©ä»£ç åœ¨Claudeä¿®æ”¹å‰åè‡ªåŠ¨è¿è¡Œã€‚æƒ³è®©Prettieræ ¼å¼åŒ–æ¯ä¸ªæ–‡ä»¶ï¼Ÿç”¨Hookã€‚æƒ³åœ¨æ¯æ¬¡ç¼–è¾‘åè¿›è¡Œç±»å‹æ£€æŸ¥ï¼Ÿç”¨Hookã€‚è¿™èƒ½ç«‹å³æ•è·é—®é¢˜ã€‚</li>\n<li>è‡ªå®šä¹‰æ–œæ å‘½ä»¤: æŠŠä½ é‡å¤ä½¿ç”¨çš„æç¤ºè¯æ‰“åŒ…æˆå‘½ä»¤ã€‚åœ¨.claude/commandsæ–‡ä»¶å¤¹é‡Œåˆ›å»ºmarkdownæ–‡ä»¶ï¼Œç„¶åä½ å°±å¯ä»¥ç”¨/commandnameæ¥è¿è¡Œå®ƒä»¬ã€‚</li>\n</ul>\n<p>è¿™äº›æ¨¡å‹æ¯å‘¨éƒ½åœ¨è¿›æ­¥ã€‚ä¸€ä¸ªæœˆå‰è¡Œä¸é€šçš„åŠŸèƒ½ï¼Œç°åœ¨å¯èƒ½å·²ç»å¯ä»¥äº†ã€‚ä¿æŒå¥½å¥‡å¿ƒï¼Œä¸æ–­é‡æ–°æµ‹è¯•ã€‚</p>\n<h2 id=\"æ³•åˆ™ä¸ƒå½“ä½ è¢«å¡ä½æ—¶åœæ­¢å¼ºæ¨æ”¹å˜æ–¹æ³•\">æ³•åˆ™ä¸ƒï¼šå½“ä½ è¢«å¡ä½æ—¶ï¼Œåœæ­¢å¼ºæ¨ï¼Œæ”¹å˜æ–¹æ³•ã€‚</h2>\n<p>æœ‰æ—¶Claudeä¼šé™·å…¥ä¸€ä¸ªå¾ªç¯ï¼šå°è¯•ã€å¤±è´¥ã€å†å°è¯•ã€å†å¤±è´¥ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œäººçš„æœ¬èƒ½æ˜¯ç»§ç»­è§£é‡Šã€æä¾›æ›´å¤šæŒ‡ä»¤ã€‚ä½†æ›´å¥½çš„åšæ³•æ˜¯å½»åº•æ”¹å˜ä½ çš„æ–¹æ³•ã€‚</p>\n<ul>\n<li>æ¸…ç©ºå¯¹è¯ (Clear the conversation)ï¼š ç´¯ç§¯çš„ä¸Šä¸‹æ–‡å¯èƒ½æ­£åœ¨è¿·æƒ‘å®ƒï¼Œä¸€ä¸ªå…¨æ–°çš„å¼€å§‹å¯ä»¥è§£å†³é—®é¢˜ã€‚</li>\n<li>ç®€åŒ–ä»»åŠ¡ (Simplify the task)ï¼š å¦‚æœä¸€ä¸ªå¤æ‚ä»»åŠ¡è®©Claudeä¸¾æ­¥ç»´è‰°ï¼ŒæŠŠå®ƒåˆ†è§£æˆæ›´å°çš„éƒ¨åˆ†ã€‚é¡ºä¾¿è¯´ä¸€å¥ï¼Œå¦‚æœClaudeå¤„ç†å¤æ‚ä»»åŠ¡å¾ˆåƒåŠ›ï¼Œè¿™é€šå¸¸æ„å‘³ç€ä½ çš„åˆå§‹è®¡åˆ’å°±ä¸å¤Ÿå……åˆ†ã€‚</li>\n<li>å±•ç¤ºè€Œéå‘ŠçŸ¥ (Show instead of tell)ï¼š å¦‚æœClaudeä¸€ç›´æ— æ³•ç†è§£ï¼Œäº²æ‰‹å†™ä¸€ä¸ªæœ€å°åŒ–çš„æ­£ç¡®ç¤ºä¾‹ï¼Œç„¶åå‘Šè¯‰å®ƒï¼šâ€œçœ‹ï¼Œæœ€ç»ˆè¾“å‡ºåº”è¯¥åƒè¿™æ ·ã€‚ç°åœ¨æŠŠè¿™ä¸ªæ¨¡å¼åº”ç”¨åˆ°å…¶ä»–éƒ¨åˆ†ã€‚â€</li>\n<li>é‡æ„é—®é¢˜ (Be creative)ï¼š æ¢ä¸€ä¸ªè§’åº¦æ¥æè¿°ä½ çš„é—®é¢˜ã€‚æœ‰æ—¶å€™ä½ æœ€åˆçš„è¡¨è¿°æ–¹å¼å¯èƒ½ä¸ç¬¦åˆClaudeçš„â€œæ€ç»´æ¨¡å‹â€ã€‚</li>\n</ul>\n<p>å¦‚æœä½ å‘ç°è‡ªå·±å·²ç»é‡å¤è§£é‡Šäº†ä¸‰éï¼Œæ˜¯æ—¶å€™æ”¹å˜ç­–ç•¥äº†ã€‚</p>\n<h2 id=\"æ³•åˆ™å…«è¶…è¶ŠèŠå¤©æ¨¡å¼æ„å»ºè‡ªåŠ¨åŒ–ç³»ç»Ÿ\">æ³•åˆ™å…«ï¼šè¶…è¶ŠèŠå¤©æ¨¡å¼ï¼Œæ„å»ºè‡ªåŠ¨åŒ–ç³»ç»Ÿã€‚</h2>\n<p>çœŸæ­£ä»Claudeä¸­è·å¾—å·¨å¤§ä»·å€¼çš„äººï¼Œå¹¶ä¸ä»…ä»…æŠŠå®ƒå½“ä½œä¸€ä¸ªäº¤äº’å¼å·¥å…·ã€‚ä»–ä»¬æ­£åœ¨æ„å»ºä»¥Claudeä¸ºæ ¸å¿ƒç»„ä»¶çš„è‡ªåŠ¨åŒ–ç³»ç»Ÿã€‚</p>\n<p>é€šè¿‡ -p æ ‡å¿—ï¼Œä½ å¯ä»¥åœ¨æ— å¤´æ¨¡å¼ï¼ˆheadless modeï¼‰ä¸‹è¿è¡ŒClaudeã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥ç¼–å†™è„šæœ¬ï¼Œå°†å®ƒçš„è¾“å‡ºé€šè¿‡ç®¡é“ä¼ é€’ç»™å…¶ä»–å·¥å…·ï¼Œä¸bashå‘½ä»¤é“¾æ¥ï¼Œå¹¶å°†å…¶é›†æˆåˆ°è‡ªåŠ¨åŒ–å·¥ä½œæµä¸­ã€‚</p>\n<p>ä¼ä¸šæ­£åœ¨ç”¨è¿™ç§æ–¹å¼å®ç°è‡ªåŠ¨åŒ–çš„ä»£ç å®¡æŸ¥ï¼ˆPR reviewï¼‰ã€æ”¯æŒå·¥å•å“åº”ã€æ—¥å¿—è®°å½•å’Œæ–‡æ¡£æ›´æ–°ã€‚æ‰€æœ‰è¿™äº›éƒ½æ˜¯å¯è®°å½•ã€å¯å®¡è®¡çš„ï¼Œå¹¶ä¸”éšç€æ—¶é—´çš„æ¨ç§»ä¸æ–­æ”¹è¿›ã€‚</p>\n<p>è¿™å°±å½¢æˆäº†ä¸€ä¸ªå¼ºå¤§çš„é£è½®æ•ˆåº”ï¼šClaudeçŠ¯äº†ä¸€ä¸ªé”™è¯¯ï¼Œä½ å®¡æŸ¥æ—¥å¿—ï¼Œç„¶åæ”¹è¿›CLAUDE.mdæˆ–ç›¸å…³å·¥å…·ï¼Œä¸‹ä¸€æ¬¡Claudeå°±ä¼šåšå¾—æ›´å¥½ã€‚è¿™ç§æ”¹è¿›æ˜¯å¤åˆå¼çš„ã€‚å¦‚æœä½ åªåœ¨äº¤äº’æ¨¡å¼ä¸‹ä½¿ç”¨Claudeï¼Œä½ æ­£åœ¨é”™å¤±å®ƒçœŸæ­£çš„ä»·å€¼ã€‚</p>\n<h2 id=\"ç»“è¯­ä½ çš„aiä½ çš„è´£ä»»\">ç»“è¯­ï¼šä½ çš„AIï¼Œä½ çš„è´£ä»»</h2>\n<p>çœŸæ­£æŒæ¡åƒClaudeè¿™æ ·çš„AIå¼€å‘å·¥å…·ï¼Œå…³é”®åœ¨äºæ€ç»´æ¨¡å¼çš„è½¬å˜â€”â€”ä»ä¸€ä¸ªç®€å•çš„æŒ‡ä»¤å‘å‡ºè€…ï¼Œè½¬å˜ä¸ºä¸€ä¸ª meticulous çš„è§„åˆ’è€…ã€é…ç½®è€…å’Œç³»ç»Ÿæ„å»ºè€…ã€‚ä½ ä¸æ˜¯åœ¨å’Œå®ƒèŠå¤©ï¼Œä½ æ˜¯åœ¨ç¼–ç¨‹å®ƒã€‚</p>\n<p>æœ€åï¼Œç•™ç»™ä½ ä¸€ä¸ªé—®é¢˜æ€è€ƒï¼š å¦‚æœä½ ä¸æŠŠClaudeå½“ä½œèŠå¤©æœºå™¨äººï¼Œè€Œæ˜¯çœ‹ä½œä¸€ä¸ªå¯ç¼–ç¨‹çš„å›¢é˜Ÿæˆå‘˜ï¼Œä½ æœ€å…ˆä¼šè‡ªåŠ¨åŒ–å·¥ä½œæµç¨‹çš„å“ªä¸ªéƒ¨åˆ†ï¼Ÿ</p>\n<p>æ›´å¤šå…³äºAI Codingçš„å†…å®¹å¯å…³æ³¨æˆ‘çš„<a href=\"https://didispace.com\" rel=\"noopener nofollow\" target=\"_blank\">åšå®¢</a>è·å–æŒç»­æ›´æ–°ã€‚</p>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-14 19:53</span>&nbsp;\n<a href=\"https://www.cnblogs.com/didispace\">ç¨‹åºçŒ¿DD</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">67</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "é«˜å¾·åœ°å›¾å®ç°å®æ—¶è½¨è¿¹å±•ç¤º",
      "link": "https://www.cnblogs.com/lijinhuaboke/p/19457121",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/lijinhuaboke/p/19457121\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-14 14:35\">\n    <span>é«˜å¾·åœ°å›¾å®ç°å®æ—¶è½¨è¿¹å±•ç¤º</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h1 id=\"vue3--é«˜å¾·åœ°å›¾amap-å®ç°å¹³æ»‘çš„å®æ—¶è½¨è¿¹å›æ”¾ä¸è¿½è¸ª\">Vue3 + é«˜å¾·åœ°å›¾(AMap) å®ç°å¹³æ»‘çš„å®æ—¶è½¨è¿¹å›æ”¾ä¸è¿½è¸ª</h1>\n<h2 id=\"å‰è¨€\">å‰è¨€</h2>\n<p>åœ¨ç‰©è”ç½‘ã€ç‰©æµç›‘æ§æˆ–å®‰é˜²è°ƒåº¦ç³»ç»Ÿä¸­ï¼Œå®æ—¶å±•ç¤ºè®¾å¤‡ï¼ˆå¦‚æ— äººæœºã€è½¦è¾†ã€æ‰‹ç¯ï¼‰çš„ç§»åŠ¨è½¨è¿¹æ˜¯ä¸€ä¸ªå¸¸è§éœ€æ±‚ã€‚å¦‚æœä»…ä»…æ˜¯ç®€å•çš„æ›´æ–°æ ‡è®°ç‚¹ä½ç½®ï¼Œè§†è§‰ä¸Šä¼šå‡ºç°â€œè·³å˜â€ç°è±¡ï¼Œä½“éªŒå¾ˆä¸æµç•…ã€‚</p>\n<p>æœ¬æ–‡å°†åˆ†äº«å¦‚ä½•åœ¨ <strong>Vue 3</strong> é¡¹ç›®ä¸­ï¼Œåˆ©ç”¨ <strong>é«˜å¾·åœ°å›¾ (AMap) JS API</strong> å®ç°æ¯”è¾ƒä¸æ»‘çš„å®æ—¶è½¨æ•ˆæœã€‚</p>\n<h2 id=\"æ ¸å¿ƒç—›ç‚¹\">æ ¸å¿ƒç—›ç‚¹</h2>\n<ol>\n<li><strong>å¹³æ»‘ç§»åŠ¨</strong>ï¼šç‚¹ä½æ›´æ–°æ—¶ï¼ŒMarker éœ€è¦ä»æ—§ä½ç½®å¹³æ»‘è¿‡æ¸¡åˆ°æ–°ä½ç½®ï¼Œè€Œä¸æ˜¯ç¬é—´è·³è¿‡å»ã€‚</li>\n<li><strong>è½¨è¿¹è·Ÿéš</strong>ï¼šéšç€ Marker çš„ç§»åŠ¨ï¼Œè½¨è¿¹çº¿ï¼ˆPolylineï¼‰éœ€è¦å®æ—¶â€œç”Ÿé•¿â€ï¼Œç´§è·Ÿåœ¨ Marker åé¢ã€‚</li>\n<li><strong>å¢é‡æ›´æ–°</strong>ï¼šåç«¯é€šå¸¸è¿”å›å®Œæ•´çš„å†å²è·¯å¾„æˆ–å½“å‰çŠ¶æ€ï¼Œå‰ç«¯éœ€è¦è®¡ç®—å‡ºâ€œæ–°å¢çš„è·¯å¾„æ®µâ€è¿›è¡ŒåŠ¨ç”»æ’­æ”¾ã€‚</li>\n</ol>\n<h2 id=\"å®ç°é€»è¾‘è§£æ\">å®ç°é€»è¾‘è§£æ</h2>\n<p>æ ¸å¿ƒæ˜¯åˆ©ç”¨é«˜å¾·åœ°å›¾ API çš„è½¨è¿¹å›æ”¾åŠŸèƒ½ã€‚è™½ç„¶å®˜æ–¹æ–‡æ¡£æä¾›äº†åŸºç¡€çš„è½¨è¿¹å›æ”¾ç¤ºä¾‹ï¼ˆå‚è€ƒï¼š<a href=\"https://lbs.amap.com/demo/javascript-api-v2/example/marker/replaying-historical-running-data\" rel=\"noopener nofollow\" target=\"_blank\">è½¨è¿¹å›æ”¾ç¤ºä¾‹</a>ï¼‰ï¼Œä½†å®˜æ–¹ç¤ºä¾‹é€šå¸¸æ˜¯ä¸€æ¬¡æ€§åŠ è½½å®Œæ•´è·¯å¾„ï¼ˆä¾‹å¦‚ï¼šå…ˆè·å–å®Œæ•´ç»çº¬åº¦æ•°ç»„ï¼Œæ¸²æŸ“å‡ºæµ…è“è‰²èƒŒæ™¯çº¿ï¼Œå†è®©å°è½¦æ²¿ç€è·¯å¾„è·‘å¹¶ç”»å‡ºæµ…ç»¿è‰²è½¨è¿¹ï¼‰ã€‚</p>\n<p><strong>æˆ‘ä»¬çš„ä¸šåŠ¡åœºæ™¯ä¸å®˜æ–¹ç¤ºä¾‹çš„ä¸»è¦åŒºåˆ«åœ¨äºï¼š</strong><br />\næˆ‘ä»¬çš„è·¯å¾„æ•°æ®æ˜¯<strong>å®æ—¶å¢é‡æ›´æ–°</strong>çš„ã€‚å‰ç«¯å¹¶æ²¡æœ‰ä¸€å¼€å§‹å°±æ‹¿åˆ°å®Œæ•´çš„è·¯å¾„ï¼Œè€Œæ˜¯é€šè¿‡ WebSocket æˆ–è½®è¯¢å®æ—¶è·å–åç«¯è¿”å›çš„æœ€æ–°è·¯å¾„æ•°æ®ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦è‡ªè¡Œè®¾è®¡é€»è¾‘ï¼Œè®¡ç®—å‡ºæ¯æ¬¡æ›´æ–°çš„â€œå¢é‡ç‰‡æ®µâ€ï¼Œå¹¶è®© Marker å¹³æ»‘åœ°èµ°å®Œè¿™ä¸€æ®µã€‚</p>\n<h3 id=\"æ ¸å¿ƒæ€è·¯\">æ ¸å¿ƒæ€è·¯ï¼š</h3>\n<ol>\n<li>\n<p><strong>å‰åç«¯æ•°æ®çº¦å®š</strong>ï¼š</p>\n<ul>\n<li>ç†æƒ³æƒ…å†µä¸‹ï¼Œåç«¯æœ€å¥½ç›´æ¥è¿”å›â€œå¢é‡è·¯å¾„â€ï¼ˆå³ä¸Šä¸€æ¬¡ä½ç½®åˆ°å½“å‰ä½ç½®çš„åæ ‡é›†åˆï¼‰ã€‚</li>\n<li>ä½†åœ¨å®é™…é¡¹ç›®ä¸­ï¼ˆæ¯”å¦‚æœ¬æ¡ˆä¾‹ï¼‰ï¼Œåç«¯æ¥å£è¿”å›çš„æ˜¯<strong>å½“å‰æ—¶åˆ»çš„å®Œæ•´ç´¯ç§¯è·¯å¾„</strong>ã€‚å› æ­¤ï¼Œå‰ç«¯éœ€è¦è‡ªè¡Œæ¯”å¯¹ç¼“å­˜çš„â€œä¸Šä¸€æ¬¡è·¯å¾„â€å’Œâ€œæœ€æ–°è·¯å¾„â€ï¼Œè®¡ç®—å‡ºå¢é‡éƒ¨åˆ†ã€‚</li>\n</ul>\n</li>\n<li>\n<p><strong>çŠ¶æ€ç®¡ç† (ç¼“å­˜å®ä¾‹)</strong>ï¼š</p>\n<ul>\n<li>ä½¿ç”¨ <code>Map</code> æ•°æ®ç»“æ„æ¥ç¼“å­˜æ¯ä¸ªè®¾å¤‡ï¼ˆå¦‚æ— äººæœºã€æ‰‹ç¯ï¼‰çš„ <code>Marker</code>ï¼ˆå›¾æ ‡ï¼‰å’Œ <code>Polyline</code>ï¼ˆè½¨è¿¹çº¿ï¼‰å®ä¾‹ã€‚</li>\n<li>ç¡®ä¿æ¯ä¸ªè®¾å¤‡ ID å¯¹åº”å”¯ä¸€çš„åœ°å›¾å®ä¾‹ï¼Œé¿å…æ•°æ®åˆ·æ–°æ—¶é‡å¤åˆ›å»ºå¯¼è‡´å†…å­˜æ³„æ¼æˆ–é—ªçƒã€‚</li>\n</ul>\n</li>\n<li>\n<p><strong>è®¡ç®—å¢é‡è·¯å¾„</strong>ï¼š</p>\n<ul>\n<li>å½“æ–°æ•°æ®åˆ°è¾¾æ—¶ï¼Œé€šè¿‡å¯¹æ¯”æ–°æ—§è·¯å¾„é•¿åº¦ï¼Œæˆªå–å‡º<strong>æ–°å¢çš„è·¯å¾„æ®µ</strong>ã€‚</li>\n<li>è¿™æ®µæ–°å¢è·¯å¾„å°±æ˜¯ Marker æ¥ä¸‹æ¥éœ€è¦â€œå¹³æ»‘ç§»åŠ¨â€çš„è½¨è¿¹ã€‚</li>\n</ul>\n</li>\n<li>\n<p><strong>å¹³æ»‘åŠ¨ç”» (<code>moveAlong</code>)</strong>ï¼š</p>\n<ul>\n<li>è°ƒç”¨é«˜å¾·åœ°å›¾çš„ <code>marker.moveAlong()</code> æ–¹æ³•ï¼Œè®© Marker æ²¿ç€æ–°å¢è·¯å¾„å¹³æ»‘ç§»åŠ¨ï¼Œè€Œä¸æ˜¯ç¬é—´è·³å˜ã€‚</li>\n</ul>\n</li>\n<li>\n<p><strong>å®æ—¶ç»˜åˆ¶è½¨è¿¹ (<code>moving</code> äº‹ä»¶)</strong>ï¼š</p>\n<ul>\n<li>ç›‘å¬ Marker çš„ <code>moving</code> äº‹ä»¶ã€‚åœ¨ç§»åŠ¨è¿‡ç¨‹ä¸­ï¼Œå®æ—¶æ›´æ–°è½¨è¿¹çº¿ï¼ˆPolylineï¼‰çš„è·¯å¾„ï¼Œä»è€Œå®ç°â€œè¾¹èµ°è¾¹ç”»â€çš„æ•ˆæœã€‚</li>\n<li><strong>å…³é”®ç‚¹</strong>ï¼šä¸ºä»€ä¹ˆè¦åœ¨ <code>moving</code> äº‹ä»¶ä¸­æ›´æ–°æ€»è½¨è¿¹ï¼Œè€Œä¸æ˜¯åœ¨åŠ¨ç”»ç»“æŸ (<code>moveend</code>) åæ›´æ–°ï¼Ÿ\n<ul>\n<li>è¿™æ˜¯ä¸ºäº†é˜²æ­¢æ•°æ®æ¨é€é¢‘ç‡è¿‡å¿«ã€‚å¦‚æœç­‰åˆ°åŠ¨ç”»ç»“æŸå†æ›´æ–°ï¼Œå¯èƒ½ä¼šå‡ºç°â€œæ–°çš„æ•°æ®æ¨é€æ¥äº†ï¼Œä½†ä¸Šä¸€æ¬¡åŠ¨ç”»è¿˜æ²¡ç»“æŸï¼Œå¯¼è‡´è½¨è¿¹æ•°æ®ä¸¢å¤±æˆ–è¡”æ¥ä¸ä¸Šâ€çš„é—®é¢˜ã€‚åœ¨ <code>moving</code> è¿‡ç¨‹ä¸­å®æ—¶å°† <code>passedPath</code>ï¼ˆå·²èµ°è¿‡çš„è·¯å¾„ï¼‰æ‹¼æ¥åˆ°æ€»è½¨è¿¹ä¸­ï¼Œæ˜¯æœ€ç¨³å¦¥çš„æ–¹å¼ã€‚</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>åŠ¨ç”»ç»“æŸæ¸…ç†</strong>ï¼š</p>\n<ul>\n<li>åŠ¨ç”»ç»“æŸæ—¶ (<code>moveend</code>)ï¼Œæ¸…ç†ä¸´æ—¶ç»˜åˆ¶çš„è¾…åŠ©çº¿ï¼Œç§»é™¤ç›‘å¬å™¨ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼ã€‚</li>\n</ul>\n</li>\n</ol>\n<hr />\n<h3 id=\"ä»£ç è¯¦è§£\">ä»£ç è¯¦è§£</h3>\n<h4 id=\"1-çŠ¶æ€ç®¡ç†ä¸åˆå§‹åŒ–\">1. çŠ¶æ€ç®¡ç†ä¸åˆå§‹åŒ–</h4>\n<p>æˆ‘ä»¬ä½¿ç”¨ <code>Map</code> æ¥ç®¡ç†åœ°å›¾ä¸Šçš„ Marker å’Œ Polyline å®ä¾‹ã€‚</p>\n<pre><code class=\"language-javascript\">// å­˜å‚¨ Marker å®ä¾‹ (Key: è®¾å¤‡ID, Value: AMap.Marker)\nconst uavMarkers = ref(new Map());\n// å­˜å‚¨è½¨è¿¹çº¿ Polyline å®ä¾‹ (Key: è®¾å¤‡ID, Value: AMap.Polyline)\nconst uavPaths = ref(new Map());\n</code></pre>\n<h4 id=\"2-æ ¸å¿ƒå¤„ç†å‡½æ•°-refreshtemppoint\">2. æ ¸å¿ƒå¤„ç†å‡½æ•° <code>refreshTempPoint</code></h4>\n<p>è¿™ä¸ªå‡½æ•°è´Ÿè´£å¤„ç†å•æ¡è®¾å¤‡æ•°æ®çš„æ›´æ–°é€»è¾‘ã€‚</p>\n<pre><code class=\"language-javascript\">// åˆ·æ–°è®¾å¤‡ç‚¹ä½ä¸è½¨è¿¹\n// item: åç«¯è¿”å›çš„è®¾å¤‡æ•°æ®å¯¹è±¡\n// position: å½“å‰æœ€æ–°çš„åæ ‡ç‚¹\n// type: æ›´æ–°ç±»å‹ï¼ˆ'init' ä¸ºåˆå§‹åŒ–ï¼Œå…¶ä»–ä¸ºå¢é‡æ›´æ–°ï¼‰\nconst refreshTempPoint = async (item, position, type, marker, tempOverlay, pathOverlay) =&gt; {\n  // 1. æ¸…ç†ä¸Šä¸€è½®çš„ä¸´æ—¶è¦†ç›–ç‰©ï¼ˆå¦‚ä¸´æ—¶è·¯çº¿ã€è·ç¦»æ–‡æœ¬ï¼‰\n  tempOverlay?.clearOverlays();\n\n  if (item.coordinatesLine) {\n    const coordinatesLine = JSON.parse(item.coordinatesLine); // è§£æåç«¯è¿”å›çš„å®Œæ•´è·¯å¾„æ•°ç»„\n\n    // --- A. åˆå§‹åŒ–èµ·ç‚¹ Marker ---\n    let tempMarker = tempUavMarkers.value.get(item.id);\n    if (!tempMarker) {\n      // å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡å‡ºç°ï¼Œæ¸²æŸ“èµ·ç‚¹\n      tempMarker = renderPoint(coordinatesLine[0], item, \"\", pathOverlay);\n      tempUavMarkers.value.set(item.id, tempMarker);\n    }\n\n    // --- B. è·å–æˆ–åˆ›å»ºå†å²è½¨è¿¹çº¿ (Polyline) ---\n    let polyline = uavPaths.value.get(item.id);\n    if (!polyline) {\n      polyline = trajectoryLine(item, pathOverlay); // åˆ›å»ºæ–°çš„çº¿å®ä¾‹\n      uavPaths.value.set(item.id, polyline);\n    }\n\n    // è·å–å½“å‰åœ°å›¾ä¸Šå·²æœ‰çš„è·¯å¾„ï¼ˆç¼“å­˜çš„æ—§è·¯å¾„ï¼‰\n    const existingPath = polyline.getPath() || [];\n\n    if (type != \"init\") {\n      // --- C. å¢é‡æ›´æ–°é€»è¾‘ ---\n      \n      // 1. è®¡ç®—å¢é‡è·¯å¾„ï¼šä»å·²æœ‰è·¯å¾„çš„æœ€åä¸€ä¸ªç‚¹å¼€å§‹æˆªå–ï¼Œç›´åˆ°æœ€æ–°è·¯å¾„çš„æœ«å°¾\n      const newPathSegment = coordinatesLine.slice(\n        existingPath.length ? existingPath.length - 1 : 0\n      );\n\n      // 2. åˆ›å»ºä¸€æ¡ä¸´æ—¶çš„â€œéšå½¢â€çº¿æ®µï¼Œç”¨äºè¾…åŠ©è®¡ç®—æˆ–å±•ç¤ºï¼ˆè§†éœ€æ±‚è€Œå®šï¼‰\n      const newPolyline = trajectoryLine(item, tempOverlay);\n\n      // 3. å¦‚æœæœ‰æ–°å¢è·¯å¾„ï¼Œå¼€å§‹åŠ¨ç”»\n      if (newPathSegment &amp;&amp; newPathSegment.length &gt; 0) {\n        \n        // ç›‘å¬ç§»åŠ¨è¿‡ç¨‹\n        marker.on(\"moving\", function (e) {\n          // e.passedPath æ˜¯ Marker åœ¨å½“å‰åŠ¨ç”»ç‰‡æ®µä¸­å·²ç»èµ°è¿‡çš„è·¯å¾„\n          newPolyline.setPath(e.passedPath);\n          \n          // [å…³é”®] å®æ—¶å°†èµ°è¿‡çš„è·¯å¾„æ‹¼æ¥åˆ°å†å²æ€»è½¨è¿¹ä¸­\n          // è¿™æ ·å³ä½¿ WebSocket æ¨é€é¢‘ç‡å¾ˆå¿«ï¼Œä¹Ÿèƒ½ä¿è¯è½¨è¿¹æ•°æ®çš„è¿ç»­æ€§\n          polyline.setPath([...existingPath, ...e.passedPath]);\n        });\n\n        // å¼€å§‹å¹³æ»‘ç§»åŠ¨\n        marker.moveAlong(newPathSegment, {\n          duration: 1000,    // åŠ¨ç”»æ—¶é•¿ï¼Œéœ€æ ¹æ® WebSocket æ¨é€é¢‘ç‡è°ƒæ•´\n          autoRotation: true, // è½¦å¤´è‡ªåŠ¨å¯¹å‡†è·¯å¾„æ–¹å‘\n        });\n\n        // ç›‘å¬ç§»åŠ¨ç»“æŸ\n        marker.on(\"moveend\", function () {\n          // åŠ¨ç”»ç»“æŸï¼Œæ¸…ç†ä¸´æ—¶è¦†ç›–ç‰©\n          tempOverlay?.clearOverlays();\n          \n          // æ›´æ–°è·ç¦»æ–‡æœ¬ç­‰ä¿¡æ¯\n          if (item.distance) {\n            renderText(\n              coordinatesLine[Math.ceil(coordinatesLine.length - 2)],\n              `${item.distance}ç±³`,\n              tempOverlay\n            );\n          }\n          \n          // ç§»é™¤ç›‘å¬å™¨ï¼Œé˜²æ­¢é‡å¤ç»‘å®š\n          marker.off(\"moveend\");\n        });\n      } else {\n        // å¦‚æœæ²¡æœ‰æ–°å¢è·¯å¾„ï¼ˆä½ç½®æ²¡å˜ï¼‰ï¼Œä»…æ›´æ–°æ–‡å­—ä¿¡æ¯\n        if (item.distance) {\n          renderText(..., `${item.distance}ç±³`, tempOverlay);\n        }\n      }\n\n    } else {\n      // --- D. åˆå§‹åŒ–é€»è¾‘ ---\n      // å¦‚æœæ˜¯åˆå§‹åŒ–åŠ è½½ï¼Œç›´æ¥è®¾ç½®å®Œæ•´è·¯å¾„ï¼Œä¸è¿›è¡ŒåŠ¨ç”»å›æ”¾\n      if (item.distance) {\n         renderText(..., `${item.distance}ç±³`, tempOverlay);\n      }\n      polyline.setPath(coordinatesLine);\n    }\n  } else {\n    // --- E. æ— è½¨è¿¹æ•°æ®æ—¶çš„é™çº§å¤„ç† ---\n    // å¦‚æœåç«¯æ²¡æœ‰è¿”å›è·¯å¾„æ•°æ®ï¼Œç›´æ¥è·³å˜åˆ°æœ€æ–°ä½ç½®\n    marker.setPosition(position);\n    \n    // æ¸…ç†ç›¸å…³çš„è½¨è¿¹å®ä¾‹å’Œç¼“å­˜\n    let tempMarker = tempUavMarkers.value.get(item.id);\n    if (tempMarker) {\n      tempMarker.setMap(null);\n      pathOverlay &amp;&amp; pathOverlay.removeOverlay(tempMarker);\n      tempUavMarkers.value.delete(item.id);\n    }\n    \n    let polyline = uavPaths.value.get(item.id);\n    if (polyline) {\n      polyline.setMap(null);\n      pathOverlay &amp;&amp; pathOverlay.removeOverlay(polyline);\n      uavPaths.value.delete(item.id);\n    }\n  }\n};\n</code></pre>\n<p>}<br />\n};</p>\n<pre><code class=\"language-javascript\">\n// æ— äººæœºå’Œæ‰‹ç¯è½¨è¿¹æš‚æ—¶\nconst refreshAirMap = async (type, data) =&gt; {\n  const res = await getUavElement();\n  // console.log(\"æ— äººæœºæ•°æ®\", res.result);\n  res.result.map(async (item) =&gt; {\n    // data.map(async (item) =&gt; {\n    if (item.type == \"1\") {\n      let position = JSON.parse(item.coordinates);\n      // è·å–æˆ–åˆ›å»ºæ— äººæœºæ ‡è®°\n      let marker = uavMarkers.value.get(item.id);\n      if (!marker) {\n        // åˆ›å»ºæ— äººæœºã€æ‰‹ç¯ç‚¹ä½ã€‚\n        marker = renderPoint(position, item, \"\", overlayGroups.value);\n        uavMarkers.value.set(item.id, marker);\n      }else{\n        \n        if (item.elementType == \"2\") {\n          // å·²æœ‰ç‚¹ä½ä¸”æ˜¯æ‰‹ç¯ç‚¹ä½å°±æ›´æ–°ç”µé‡\n          marker.setLabel({\n            content: `&lt;div class=\"marker-label-container\"&gt;\n              &lt;div class=\"info-name\"&gt;${item.name}&lt;/div&gt;\n              &lt;div class=\"icon-placeholder\"&gt;&lt;/div&gt;\n              ${batteryHtml(item)}\n            &lt;/div&gt;`,\n            offset: new AMaps.value.Pixel(0, 0),\n            direction: \"center\",\n          });\n        }\n      }\n\n      if (item.elementType == \"1\") {\n        // æ— äººæœºè½¨è¿¹\n        refreshTempPoint(\n          item,\n          position,\n          type,\n          marker,\n          pathOverlayGroups.value,\n          pathsStartPointOverlayGroups.value\n        );\n      } else if (item.elementType == \"2\") {\n        // æ‰‹ç¯è½¨è¿¹\n        refreshTempPoint(\n          item,\n          position,\n          type,\n          marker,\n          rescuePathsOverlayGroups.value,\n          rescueOverlayGroups.value\n        );\n      }\n      // è½¨è¿¹éƒ¨åˆ†ï¼Œåˆ¤æ–­æ˜¯å¦æœ‰è½¨è¿¹\n    }\n  });\n  // });\n};\n</code></pre>\n<p>è¯´æ˜ä¸€ä¸‹å“¦ï¼Œæˆ‘çš„é¡¹ç›®ä¸­è¿˜éœ€è¦å®ç°å…¶ä»–åŠŸèƒ½åƒæ˜¯æ‰‹ç¯ç”µé‡å±•ç¤ºï¼Œç‚¹å‡»æŒ‰é’®å¯éšè—æ— äººæœºè½¨è¿¹ï¼Œç‚¹å‡»æŒ‰é’®å¯éšè—æ‰‹ç¯è½¨è¿¹ï¼Œæ— äººæœºå’Œæ‰‹ç¯è½¨è¿¹èµ·å§‹ç‚¹ä¹Ÿéœ€è¦å±•ç¤ºä¸€ä¸ªç‚¹ä½å›¾æ ‡ï¼Œè½¨è¿¹çº¿ä¸Šæ˜¾ç¤ºè·ç¦»ï¼Œè¿˜è€ƒè™‘äº†ç¬¬ä¸€æ¬¡è¿›å…¥é¡¹ç›®ï¼Œå¦‚æ— è½¨è¿¹å°±åªæ›´æ–°ç‚¹ä½åæ ‡ç­‰ç­‰è¿™äº›ï¼Œæ— å…³çš„è½¨è¿¹å±•ç¤ºé€»è¾‘çš„å„ä½è§‚ä¼—è€çˆ·ç•¥è¿‡å°±å¥½ï¼Œè¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯åˆ†äº«ä¸€ä¸‹å®æ—¶è½¨è¿¹å®ç°çš„é€»è¾‘ï¼ŒæŠŠè½¨è¿¹ç›¸å…³é€»è¾‘æŠ½å‡ºæ¥é‡æ–°å†™ä¸€ä»½ä»£ç ï¼Œæˆ‘å«Œéº»çƒ¦å˜»å˜»ã€‚</p>\n<h2 id=\"æ€»ç»“\">æ€»ç»“</h2>\n<p>é€šè¿‡ç»“åˆ å¢é‡è·¯å¾„è®¡ç®—<code>moveAlong</code> è½¨è¿¹å›æ”¾ ä»¥åŠ <code>moving</code> äº‹ä»¶ç›‘å¬ï¼Œæˆ‘ä»¬å®ç°äº†ä¸€ä¸ªé«˜æ€§èƒ½ä¸”è§†è§‰æµç•…çš„å®æ—¶è½¨è¿¹è¿½è¸ªåŠŸèƒ½ã€‚è¿™ç§æ–¹æ¡ˆç‰¹åˆ«é€‚åˆæ— äººæœºå·¡èˆªã€è½¦è¾†å®æ—¶å®šä½ç­‰éœ€è¦é«˜é¢‘æ›´æ–°ä½ç½®çš„åœºæ™¯ã€‚</p>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-14 14:35</span>&nbsp;\n<a href=\"https://www.cnblogs.com/lijinhuaboke\">æ­¤é¢œå·®çŸ£ã€‚</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">325</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">3</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "`i` å’Œ `e` å†™åå¼•å‘çš„è¡€æ¡ˆï¼šå½“ AI çš„â€œçº é”™ç™–â€é‡ä¸Š NexusContract çš„â€œç…§å¦–é•œâ€",
      "link": "https://www.cnblogs.com/jieky/p/19481961",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/jieky/p/19481961\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-14 14:19\">\n    <span>`i` å’Œ `e` å†™åå¼•å‘çš„è¡€æ¡ˆï¼šå½“ AI çš„â€œçº é”™ç™–â€é‡ä¸Š NexusContract çš„â€œç…§å¦–é•œâ€</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                    <div id=\"cnblogs_post_description\" style=\"display: none;\">\n        \n        åœ¨å¯¹æ¥æŸå¤´éƒ¨æ”¯ä»˜ç½‘å…³æ—¶ï¼Œæˆ‘é­é‡äº†ä¸€æ¬¡å®Œç¾çš„â€œé™ç»´æ‰“å‡»â€ã€‚å®˜æ–¹æ–‡æ¡£é‡Œä¸€ä¸ªæŠŠ `ei` å†™æˆ `ie` çš„è‹±è¯­è¯­æ³•é”™è¯¯ï¼Œéª—è¿‡äº† AI çš„è¯­æ³•æ£€æŸ¥ï¼Œä¹Ÿéª—è¿‡äº†æˆ‘çš„è‚‰çœ¼ Reviewã€‚æœ¬æ–‡å°†æ¢è®¨ NexusContract å¦‚ä½•é€šè¿‡**å…ƒæ•°æ®éš”ç¦»**æœºåˆ¶ï¼Œåœ¨æ··ä¹±çš„é—ç•™æ¥å£ä¸ç°ä»£åŒ–çš„æ•´æ´ä»£ç ä¹‹é—´å»ºç«‹ä¸€é“é˜²çº¿ã€‚\n    </div>\n<div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h1 id=\"i-å’Œ-e-å†™åå¼•å‘çš„è¡€æ¡ˆå½“-ai-çš„çº é”™ç™–é‡ä¸Š-nexuscontract-çš„ç…§å¦–é•œ\"><code>i</code> å’Œ <code>e</code> å†™åå¼•å‘çš„è¡€æ¡ˆï¼šå½“ AI çš„â€œçº é”™ç™–â€é‡ä¸Š NexusContract çš„â€œç…§å¦–é•œâ€</h1>\n<blockquote>\n<p><strong>æ‘˜è¦</strong>ï¼šåœ¨å¯¹æ¥æŸå¤´éƒ¨æ”¯ä»˜ç½‘å…³æ—¶ï¼Œæˆ‘é­é‡äº†ä¸€æ¬¡å®Œç¾çš„â€œé™ç»´æ‰“å‡»â€ã€‚å®˜æ–¹æ–‡æ¡£é‡Œä¸€ä¸ªæŠŠ <code>ei</code> å†™æˆ <code>ie</code> çš„è‹±è¯­è¯­æ³•é”™è¯¯ï¼Œéª—è¿‡äº† AI çš„è¯­æ³•æ£€æŸ¥ï¼Œä¹Ÿéª—è¿‡äº†æˆ‘çš„è‚‰çœ¼ Reviewã€‚æœ¬æ–‡å°†æ¢è®¨ NexusContract å¦‚ä½•é€šè¿‡<strong>å…ƒæ•°æ®éš”ç¦»</strong>æœºåˆ¶ï¼Œåœ¨æ··ä¹±çš„é—ç•™æ¥å£ä¸ç°ä»£åŒ–çš„æ•´æ´ä»£ç ä¹‹é—´å»ºç«‹ä¸€é“é˜²çº¿ã€‚</p>\n</blockquote>\n<h2 id=\"1-è¯¡å¼‚çš„-parameter_missing\">1. è¯¡å¼‚çš„ <code>PARAMETER_MISSING</code></h2>\n<p>æ•…äº‹å‘ç”Ÿåœ¨ä¸ä¹…å‰ï¼Œæˆ‘ä»¬æ­£åœ¨é‡æ„å†…éƒ¨çš„ä¸€ä¸ªè¿è¡Œäº†å‡ å¹´çš„è€æ—§æ”¯ä»˜ç½‘å…³ã€‚</p>\n<p>ä¸ºäº†æé«˜é‡æ„æ•ˆç‡ï¼Œæˆ‘æŠŠæ—§çš„æ–‡æ¡£æˆªå›¾å–‚ç»™äº† AIï¼ˆæŸçŸ¥åå¤§æ¨¡å‹ï¼‰ï¼Œè®©å®ƒå¸®æˆ‘ç”Ÿæˆç¬¦åˆ NexusContract è§„èŒƒçš„ C# DTOï¼ˆæ•°æ®ä¼ è¾“å¯¹è±¡ï¼‰ã€‚AI çš„è¡¨ç°å ªç§°å®Œç¾ï¼Œç¬é—´åå‡ºäº†ç»“æ„æ¸…æ™°çš„ä»£ç ï¼š</p>\n<pre><code class=\"language-csharp\">public string ReceiverId { get; set; } // æ”¶æ¬¾æ–¹ID\n\n</code></pre>\n<p>ä»£ç çœ‹ç€æ²¡æ¯›ç—…ï¼Œå‘½åä¹Ÿè§„èŒƒã€‚æˆ‘æ»¡æ€€ä¿¡å¿ƒåœ°å¯åŠ¨æœåŠ¡ï¼Œå¼€å§‹<strong>æœ¬åœ°è”è°ƒ</strong>ã€‚</p>\n<p><strong>ç»“æœï¼Œæ¥å£æ­»æ´»ä¸é€šã€‚</strong></p>\n<p>ä¸Šæ¸¸ç½‘å…³ä¸€ç›´è¿”å›å†·å†°å†°çš„é”™è¯¯ï¼š<code>PARAMETER_MISSING</code>ã€‚</p>\n<p>è¿™å°±å¾ˆé‚ªé—¨äº†ã€‚<br />\næˆ‘æ‰“äº†æ–­ç‚¹ï¼Œæ•°æ®åœ¨ï¼›<br />\næŠ“äº†åŒ…ï¼ŒJSON å­—æ®µä¹Ÿæœ‰ï¼›<br />\næˆ‘è‚‰çœ¼æ£€æŸ¥äº†ä¸‰éï¼Œ<code>ReceiverId</code> æ‹¼å†™ç»å¯¹æ²¡é—®é¢˜ï¼›<br />\næˆ‘åˆè®© AI æ£€æŸ¥äº†ä¸€éä»£ç ï¼Œå®ƒä¹Ÿä¿¡èª“æ—¦æ—¦åœ°è¯´æ²¡æœ‰è¯­æ³•é”™è¯¯ã€‚</p>\n<p><strong>æ•´æ•´ä¸¤ä¸ªå°æ—¶ï¼Œæˆ‘å°±å¡åœ¨è¿™ä¸ªè«åå…¶å¦™çš„é”™è¯¯ä¸Šï¼Œç”šè‡³å¼€å§‹æ€€ç–‘æ˜¯ä¸æ˜¯ HTTP åè®®å¤´çš„é—®é¢˜ï¼Œæˆ–è€…æ˜¯ JSON åºåˆ—åŒ–åº“çš„ Bugã€‚</strong></p>\n<p>ç›´åˆ°æˆ‘å®åœ¨æ²¡æ‹›äº†ï¼Œå†æ¬¡æ‰“å¼€é‚£ä»½æ–‡æ¡£ï¼Œå¼ºè¿«è‡ªå·±ä¸€ä¸ªå­—æ¯ä¸€ä¸ªå­—æ¯åœ°è·Ÿæˆ‘çš„ä»£ç æ¯”å¯¹æ—¶ï¼Œæˆ‘æ‰å‘ç°äº†ä¸€ä¸ªä»¤äººçª’æ¯çš„ç»†èŠ‚ï¼š</p>\n<p><img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/45234/202601/45234-20260114141433336-590884100.png\" /></p>\n<p><strong>æ–‡æ¡£é‡Œå†™çš„å­—æ®µåï¼Œæ˜¯ <code>recieverId</code>ã€‚</strong></p>\n<p>æ³¨æ„åˆ°äº†å—ï¼Ÿ<strong><code>i</code> å’Œ <code>e</code> å†™åäº†ï¼</strong></p>\n<p>æ­£ç¡®çš„è‹±è¯­å•è¯æ˜¯ <code>Receiver</code>ï¼ˆc åé¢æ¥ eiï¼‰ï¼Œä½†æ–‡æ¡£é‡Œå†™æˆäº† <code>Reciever</code>ï¼ˆieï¼‰ã€‚è¿™ç§â€œé•¿å¾—æåƒâ€çš„é”™è¯¯ï¼Œæå…¶å®¹æ˜“å‘ç”Ÿè§†é”™è§‰ã€‚</p>\n<p>é‚£ä¸€åˆ»æˆ‘ç®€ç›´æƒ³æ‘”é”®ç›˜ï¼š<strong>AI å¤ªâ€œèªæ˜â€äº†ã€‚</strong> å®ƒè¯†åˆ«å‡ºè¿™æ˜¯â€œæ”¶æ¬¾æ–¹â€çš„æ„æ€ï¼Œå‘ç°äº†è¿™ä¸ªè¯­æ³•é”™è¯¯ï¼Œäºæ˜¯<strong>å¥½å¿ƒåœ°åœ¨ç”Ÿæˆä»£ç æ—¶å¸®æˆ‘æŠŠå®ƒâ€œæ”¹å¯¹â€äº†</strong>ã€‚è€Œæˆ‘ï¼Œä½œä¸ºä¸€ä¸ªæ­£å¸¸çš„äººç±»ç¨‹åºå‘˜ï¼Œå¤§è„‘ä¹Ÿè‡ªåŠ¨è¿‡æ»¤äº†è¿™ä¸ªæ‹¼å†™é”™è¯¯ã€‚</p>\n<p>åœ¨é—ç•™ç³»ç»Ÿçš„é›†æˆä¸­ï¼Œ<strong>â€œå†å²çš„é”™è¯¯â€å¾€å¾€æ¯”â€œæ­£ç¡®çš„è¯­æ³•â€æ›´é‡è¦</strong>ã€‚</p>\n<h2 id=\"2-æ¶æ„çš„åå‡»ä»£ç æ´ç™–ä¸è‚®è„ç°å®\">2. æ¶æ„çš„åå‡»ï¼šä»£ç æ´ç™–ä¸è‚®è„ç°å®</h2>\n<p>é¢å¯¹è¿™ç§åœºæ™¯ï¼Œä¼ ç»Ÿåšæ³•é€šå¸¸æœ‰ä¸¤ç§ï¼š</p>\n<ol>\n<li><strong>åŒæµåˆæ±¡æ´¾ï¼š</strong> ç›´æ¥æŠŠ C# å±æ€§åä¹Ÿå†™é”™ã€‚</li>\n</ol>\n<pre><code class=\"language-csharp\">public string RecieverId { get; set; } // çœ‹ç€å°±éš¾å—ï¼Œé€¼æ­»å¼ºè¿«ç—‡\n\n</code></pre>\n<p>è¿™æœ‰ä¸ªå·¨å¤§çš„éšæ‚£ï¼šæ–°æ¥çš„åŒäº‹æˆ–è€…åæ¥ç»´æŠ¤çš„ AIï¼Œçœ‹åˆ°è¿™ä¸ªâ€œé”™è¯¯æ‹¼å†™â€ï¼Œå¾ˆæœ‰å¯èƒ½ä¼šé¡ºæ‰‹æŠŠå®ƒâ€œä¿®å¤â€æˆæ­£ç¡®çš„ <code>ReceiverId</code>ï¼Œç„¶å<strong>ç °ï¼ç³»ç»ŸåˆæŒ‚äº†ã€‚</strong><br />\n2. <strong>æ‰‹åŠ¨æ˜ å°„æ´¾ï¼š</strong> åœ¨ä¸šåŠ¡ä»£ç é‡Œæ‰‹åŠ¨å†™ <code>json[\"recieverId\"] = request.ReceiverId</code>ã€‚<br />\nè¿™ä¼šå¯¼è‡´ä¸šåŠ¡é€»è¾‘é‡Œå……æ–¥ç€å¤§é‡çš„å­—ç¬¦ä¸²ç¡¬ç¼–ç ï¼Œç»´æŠ¤æˆæœ¬æé«˜ã€‚</p>\n<p><strong>NexusContract çš„å“²å­¦æ˜¯ï¼š</strong> æˆ‘ä»¬æ”¹å˜ä¸äº†å¤–éƒ¨ä¸–ç•Œçš„â€œæ–‡ç›²â€æ‹¼å†™ï¼Œä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡æ¶æ„æ‰‹æ®µï¼Œä¸è®©è¿™äº›â€œè„ä¸œè¥¿â€æ±¡æŸ“æˆ‘ä»¬çš„æ ¸å¿ƒä»£ç ã€‚</p>\n<p>æˆ‘ä»¬é‡‡ç”¨äº† <strong>[ApiField]</strong> ç‰¹æ€§æ¥å®ç° <strong>ç‰©ç†éš”ç¦»</strong>ï¼š</p>\n<pre><code class=\"language-csharp\">[ApiOperation(\"payment.gateway.pay\", HttpVerb.POST)]\npublic class PaymentRequest : IApiRequest\n{\n    // ç»™å¯¹æ–¹çœ‹çš„ï¼ˆå¿…é¡»é”™ï¼‰ï¼šæ˜ å°„åˆ°é‚£ä¸ªæŠŠ ie å†™åçš„è„å­—æ®µ\n    [ApiField(\"recieverId\", IsRequired = true)]\n    \n    // ç»™è‡ªå·±çœ‹çš„ï¼ˆå¿…é¡»å¯¹ï¼‰ï¼šä¿æŒå†…éƒ¨é¢†åŸŸè¯­è¨€çš„çº¯æ´æ€§\n    public string ReceiverId { get; set; }\n}\n\n</code></pre>\n<p>è¿™ä¸ä»…æ˜¯ç®€å•çš„é‡å‘½åï¼Œè¿™æ˜¯ <strong>è¯­ä¹‰è§£è€¦ (Semantic Decoupling)</strong>ã€‚</p>\n<ul>\n<li><strong>å±æ€§å (Property):</strong> æœåŠ¡äºå†…éƒ¨é€»è¾‘ï¼Œä½¿ç”¨ <strong>Ubiquitous Language (é€šç”¨è¯­è¨€)</strong>ï¼Œå¿…é¡»æ­£ç¡®ã€å¯è¯»ã€‚</li>\n<li><strong>ç‰¹æ€§å (Attribute):</strong> æœåŠ¡äºå¤–éƒ¨å¥‘çº¦ï¼Œæ˜¯å¯¹å†å²äº‹å®çš„ <strong>å¿«ç…§</strong>ï¼Œå¿…é¡»çœŸå®ã€å“ªæ€•æ˜¯é”™çš„ã€‚</li>\n</ul>\n<h2 id=\"3-æ·±åº¦è§£å¯†nexuscontractcore-çš„é»‘ç›’\">3. æ·±åº¦è§£å¯†ï¼šNexusContract.Core çš„é»‘ç›’</h2>\n<p>è¿™æ—¶ä½ å¯èƒ½ä¼šé—®ï¼š<em>â€œå¸‚é¢ä¸Šå¾ˆå¤š JSON åº“éƒ½æœ‰ <code>JsonProperty</code>ï¼Œè¿™æœ‰ä»€ä¹ˆç¨€å¥‡çš„ï¼Ÿâ€</em></p>\n<p>åŒºåˆ«åœ¨äº <strong>å¤„ç†æ—¶æœº</strong> å’Œ <strong>ç¡®å®šæ€§</strong>ã€‚</p>\n<p>NexusContract åœ¨ <strong>ç³»ç»Ÿå¯åŠ¨ (Startup)</strong> æ—¶ï¼Œä¼šæ‰§è¡Œä¸€ä¸ª <strong>[å†³ç­– A-301] å…ƒæ•°æ®å†·å†» (Metadata Freezing)</strong> æµç¨‹ã€‚</p>\n<p>è™½ç„¶æ¡†æ¶åœ¨å¯åŠ¨æ—¶æ— æ³•çŸ¥é“å¤–éƒ¨æ¥å£åˆ°åº•å« <code>recieverId</code> è¿˜æ˜¯ <code>receiverId</code>ï¼ˆé™¤éæˆ‘ä»¬æœ‰ Schema æ–‡ä»¶ï¼‰ï¼Œä½†å®ƒåšäº†ä¸€ä»¶æ›´é‡è¦çš„äº‹ï¼š<strong>ç¡®ç«‹å¥‘çº¦çš„ç»å¯¹æƒå¨</strong>ã€‚</p>\n<h3 id=\"æ ¸å¿ƒä»£ç å±•ç¤º\">æ ¸å¿ƒä»£ç å±•ç¤º</h3>\n<pre><code class=\"language-csharp\">// Copyright (c) 2026 NexusContract. All rights reserved.\n\nusing System.Collections.Concurrent;\nusing System.Reflection;\nusing NexusContract.Abstractions.Exceptions;\n\nnamespace NexusContract.Core.Reflection\n{\n    /// &lt;summary&gt;\n    /// ã€å†³ç­– A-301ã€‘NexusContractMetadataRegistryï¼ˆå¥‘çº¦å…ƒæ•°æ®æ³¨å†Œè¡¨ï¼‰\n    /// \n    /// æ ¸å¿ƒèŒèƒ½ï¼š\n    /// 1. å‘ç°ï¼ˆDiscoveryï¼‰ï¼šå¯åŠ¨æ—¶æ‰«ææ‰€æœ‰å¥‘çº¦ç±»çš„ Attribute ç»“æ„\n    /// 2. éªŒè¯ï¼ˆValidationï¼‰ï¼šæ‰§è¡Œ ContractValidator ç¡®ä¿å†…éƒ¨çº¦æŸï¼ˆå¦‚ Getter/Setter å®Œæ•´æ€§ï¼‰\n    /// 3. å†»ç»“ï¼ˆFreezingï¼‰ï¼šå°†åå°„ç»“æœè½¬ä¸ºä¸å¯å˜å¯¹è±¡ï¼Œè¿è¡ŒæœŸé›¶åå°„æŸè€—\n    /// &lt;/summary&gt;\n    public sealed class NexusContractMetadataRegistry\n    {\n        // å•ä¾‹æ¨¡å¼ï¼šç¡®ä¿å…¨å±€å”¯ä¸€æ³¨å†Œè¡¨\n        private static readonly Lazy&lt;NexusContractMetadataRegistry&gt; _instance = new(() =&gt; new NexusContractMetadataRegistry());\n        public static NexusContractMetadataRegistry Instance =&gt; _instance.Value;\n\n        // ã€å†³ç­– A-302ã€‘æ ¸å¿ƒå†·å†»åº“\n        // Key: å¥‘çº¦ç±»å‹, Value: é¢„ç¼–è¯‘å¥½çš„å…ƒæ•°æ®ï¼ˆåŒ…å« Expression Tree å§”æ‰˜ï¼‰\n        private readonly ConcurrentDictionary&lt;Type, ContractMetadata&gt; _cache = new();\n\n        private NexusContractMetadataRegistry() { }\n\n        /// &lt;summary&gt;\n        /// ã€å†³ç­– A-308ã€‘å¯åŠ¨æœŸä½“æ£€ï¼ˆStartup Health Checkï¼‰\n        /// è¿™ä¸æ˜¯ç®€å•çš„åŠ è½½ï¼Œè€Œæ˜¯ä¸€æ¬¡å…¨é‡çš„â€œCTæ‰«æâ€ã€‚\n        /// ç¡®ä¿æ‰€æœ‰å¥‘çº¦åœ¨ç‰©ç†ä¸Šæ˜¯åˆæ³•çš„ï¼ˆä¾‹å¦‚é˜²æ­¢ Attribute é‡å¤å®šä¹‰ï¼‰ã€‚\n        /// &lt;/summary&gt;\n        public DiagnosticReport Preload(IEnumerable&lt;Type&gt; types)\n        {\n            var globalReport = new DiagnosticReport();\n\n            foreach (var type in types)\n            {\n                // 1. é™æ€éªŒè¯ï¼ˆå­—æ®µæ‹¼å†™ã€Attribute å†²çªç­‰ï¼‰\n                var perTypeReport = new DiagnosticReport();\n                ContractValidator.Validate(type, perTypeReport);\n\n                // 2. å¦‚æœéªŒè¯é€šè¿‡ï¼Œæ„å»ºä¸å¯å˜å…ƒæ•°æ®\n                if (!perTypeReport.HasErrors)\n                {\n                    try \n                    {\n                        var metadata = BuildMetadata(type, perTypeReport);\n                        _cache.TryAdd(type, metadata); // å†»ç»“å…¥åº“\n                    }\n                    catch (Exception ex)\n                    {\n                        perTypeReport.AddCritical(type.Name, $\"Metadata freeze failed: {ex.Message}\");\n                    }\n                }\n                globalReport.Merge(perTypeReport);\n            }\n            return globalReport; // è¿”å›ä½“æ£€æŠ¥å‘Š\n        }\n\n        /// &lt;summary&gt;\n        /// æ„å»ºå…ƒæ•°æ®æ ¸å¿ƒæµï¼šå®¡è®¡ -&gt; ç¼–è¯‘ -&gt; å°è£…\n        /// &lt;/summary&gt;\n        private ContractMetadata BuildMetadata(Type type, DiagnosticReport report)\n        {\n            // ... (çœç•¥éƒ¨åˆ†ä»£ç ) ...\n\n            // ã€å†³ç­– A-309ã€‘å¯ç”¨ Expression Tree é¢„ç¼–è¯‘ï¼ˆçœŸæ­£é›¶åå°„ï¼‰\n            // å°†åå°„è¯»å†™è½¬æ¢ä¸ºå¼ºç±»å‹å§”æ‰˜ï¼Œæ€§èƒ½æå‡ 10 å€\n            var projector = ContractMetadataCompiler.CompileProjector(type, propertyMetadatas);\n            var hydrator = ContractMetadataCompiler.CompileHydrator(type, propertyMetadatas);\n\n            return new ContractMetadata(type, opAttr, propertyMetadatas.AsReadOnly(), projector, hydrator);\n        }\n    }\n}\n\n</code></pre>\n<h3 id=\"æŠ€æœ¯åŸç†è§£è¯»\">æŠ€æœ¯åŸç†è§£è¯»</h3>\n<p><strong>ä¸ºä»€ä¹ˆè¿™å¯¹æ’æŸ¥ Bug å¾ˆæœ‰ç”¨ï¼Ÿ</strong></p>\n<p>è™½ç„¶ <code>PARAMETER_MISSING</code> æ˜¯åœ¨è¿è¡Œæ—¶æŠ¥å‡ºæ¥çš„ï¼Œä½† NexusContract çš„æœºåˆ¶ä¿è¯äº†<strong>ä¿®å¤çš„å»‰ä»·æ€§ä¸ç¡®å®šæ€§</strong>ã€‚</p>\n<ol>\n<li><strong>Expression Tree é¢„ç¼–è¯‘ï¼š</strong><br />\nä¸€æ—¦æˆ‘ä»¬åœ¨ Attribute é‡ŒæŠŠåå­—ä¿®æ­£ä¸º <code>[ApiField(\"recieverId\")]</code>ï¼Œæ¡†æ¶åœ¨ä¸‹æ¬¡å¯åŠ¨æ—¶ï¼Œä¼šé€šè¿‡ <strong>Expression Tree</strong> æŠŠè¿™ä¸ªæ˜ å°„å…³ç³»ç¼–è¯‘æˆé«˜æ•ˆçš„ Delegateã€‚<br />\nè¿™æ„å‘³ç€ï¼šå³ä½¿ä¸ºäº†å…¼å®¹è€æ¥å£è€ŒåŠ äº† Attributeï¼Œ<strong>è¿è¡Œæ—¶æ€§èƒ½ä¾ç„¶ç­‰åŒäºæ‰‹å†™ä»£ç </strong>ï¼Œå®Œå…¨æ²¡æœ‰åå°„çš„é¢å¤–å¼€é”€ã€‚</li>\n<li><strong>å¥‘çº¦çš„æ˜¾å¼åŒ–ï¼š</strong><br />\nè¿™ç§å†™æ³•å¼ºè¿«å¼€å‘è€…å»ç¡®è®¤æ¯ä¸€ä¸ªå­—æ®µçš„æ˜ å°„å…³ç³»ã€‚ä»£ç é‡Œçš„ <code>[ApiField]</code> å°±åƒä¸€ä¸ªä¸ªè­¦ç¤ºç‰Œï¼Œæ—¶åˆ»æé†’ç€åæ¥è€…ï¼š<strong>â€œæ³¨æ„ï¼Œè¿™é‡Œæœ‰ä¸ªå‘ï¼Œåˆ«åŠ¨ï¼â€</strong></li>\n</ol>\n<h2 id=\"4-ç»“è¯­\">4. ç»“è¯­</h2>\n<p>ä»¥å‰æˆ‘ä»¬æ€• AI çç¼–ä»£ç ï¼ˆå¹»è§‰ï¼‰ï¼Œç°åœ¨æˆ‘ä»¬æ€• AI <strong>ä»£ç å†™å¾—å¤ªå¯¹</strong>ã€‚</p>\n<p>é¢å¯¹æŸè”ã€æŸé“¶è¡Œã€æŸæ”¯ä»˜é‚£äº›åå‡ å¹´å‰çš„â€œè€ƒå¤çº§â€æ¥å£ï¼ŒAI è¿™ç§æ‹¿ç‰›æ´¥è¯å…¸å½“æ ‡å‡†çš„â€œé«˜æç”Ÿâ€æ ¹æœ¬æ°´åœŸä¸æœã€‚å®ƒä¸çŸ¥é“ <code>recieverId</code> åœ¨è¿™é‡Œä¸æ˜¯æ‹¼å†™é”™è¯¯ï¼Œå®ƒæ˜¯<strong>æ³•å¾‹</strong>ï¼Œæ˜¯<strong>ä¸å¯åŠ¨æ‘‡çš„å¥‘çº¦</strong>ã€‚</p>\n<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ NexusContract â€”â€” <strong>å®ƒå…è®¸æˆ‘ä»¬åœ¨ä»£ç é‡Œä¼˜é›…åœ°â€œæŒ‡é¹¿ä¸ºé©¬â€ï¼Œå¹¶ç”¨æœ€åº•å±‚çš„æŠ€æœ¯æ‰‹æ®µï¼ˆå…ƒæ•°æ®å†·å†»ï¼‰ï¼Œå°†è¿™ä»½â€œè‚®è„çš„ç°å®â€é«˜æ€§èƒ½åœ°å°è£…èµ·æ¥ã€‚</strong></p>\n<hr />\n\n</div>\n<div id=\"MySignature\">\n    <p>______________________________________<br />ç”Ÿæ´»ï¼Œè¦ç”¨åœ£äººçš„èƒ¸æ€€é¢å¯¹ï¼Œç”¨ç§‘å­¦çš„æ–¹æ³•æ”¯é…ï¼Œ <br />&nbsp; &nbsp; &nbsp; &nbsp; ç”¨çš‡å¸çš„å¾¡è†³å…»èƒƒï¼Œç”¨æ¸…æ´çš„ç©ºæ°”æ´—è‚ºï¼Œ <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ç”¨å°çŒªçš„æ„Ÿè§‰å»ç¡ï¼Œç”¨å¤ªé˜³çš„çƒ­æƒ…çŒæ°´ã€‚<br />______________________________________</p>\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-14 14:19</span>&nbsp;\n<a href=\"https://www.cnblogs.com/jieky\">æ¶ˆå¤±è€…</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">199</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "FastAPIæ•°æ®åº“å®æˆ˜ï¼šä»SQLAlchemyåŸç†åˆ°é«˜æ•ˆè¿æ¥ç®¡ç†ï¼Œå‘Šåˆ«æ€§èƒ½ç“¶é¢ˆ",
      "link": "https://www.cnblogs.com/ymtianyu/p/19480142",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/ymtianyu/p/19480142\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-14 11:13\">\n    <span>FastAPIæ•°æ®åº“å®æˆ˜ï¼šä»SQLAlchemyåŸç†åˆ°é«˜æ•ˆè¿æ¥ç®¡ç†ï¼Œå‘Šåˆ«æ€§èƒ½ç“¶é¢ˆ</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                    <div id=\"cnblogs_post_description\" style=\"display: none;\">\n        \n        æœ¬æ–‡ä»FastAPIå¼€å‘ä¸­æ•°æ®åº“æ“ä½œçš„å¸¸è§ç—›ç‚¹åˆ‡å…¥ï¼Œæ·±å…¥æµ…å‡ºåœ°è§£æäº†SQLAlchemyçš„æ ¸å¿ƒåŸç†ï¼Œå¹¶é€šè¿‡ä¸€ä¸ªå®Œæ•´çš„SQLiteæ“ä½œå®ä¾‹ï¼Œæ¼”ç¤ºäº†å¦‚ä½•æ„å»ºé«˜æ•ˆã€å¥å£®çš„æ•°æ®åº“è¿æ¥ä¸å­˜å–æ–¹æ¡ˆã€‚é‡ç‚¹å‰–æäº†è¿æ¥æ± æœºåˆ¶ä¸ä¾èµ–æ³¨å…¥çš„æœ€ä½³å®è·µï¼Œæ—¨åœ¨å¸®åŠ©å¼€å‘è€…å†™å‡ºæ€§èƒ½æ›´ä¼˜ã€æ›´æ˜“ç»´æŠ¤çš„Web APIã€‚\n    </div>\n<div class=\"blogpost-body blogpost-body-html\" id=\"cnblogs_post_body\">\n<p>ä½ æ˜¯å¦ä¹Ÿæ›¾è¢«Web APIä¸­æ‚ä¹±æ— ç« çš„æ•°æ®åº“è¿æ¥ä»£ç æå¾—ç„¦å¤´çƒ‚é¢ï¼Ÿæ€§èƒ½ä¸Šä¸å»ï¼ŒBugå´ä¸å°‘ã€‚</p>\n<p>è¯•æƒ³åœ¨ä¸€ä¸ªä¸­å‹é¡¹ç›®ä¸­ï¼ŒåˆæœŸä¸ºäº†å›¾å¿«ï¼Œæ¯ä¸ªè¯·æ±‚éƒ½æ–°å»ºæ•°æ®åº“è¿æ¥ï¼Œç»“æœåœ¨å¹¶å‘æµ‹è¯•æ—¶ï¼ŒAPIå“åº”æ—¶é—´ä»50msé£™å‡åˆ°2ç§’ä»¥ä¸Šï¼Œæ•°æ®åº“è¿æ¥æ•°ç¬é—´æ‰“æ»¡ï¼ŒæœåŠ¡ç›´æ¥é›ªå´©ã€‚è¿™ç»ä¸æ˜¯ä¸ªä¾‹ï¼Œ<strong style=\"color: rgba(186, 55, 42, 1);\">ä½æ•ˆçš„æ•°æ®åº“è¿æ¥ç®¡ç†ï¼Œæ˜¯Webåº”ç”¨ä¸­æœ€å¸¸è§å´ä¹Ÿæœ€å®¹æ˜“è¢«å¿½è§†çš„æ€§èƒ½æ€æ‰‹ä¹‹ä¸€ã€‚</strong></p>\n<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°±ä»¥FastAPI + SQLite + SQLAlchemyè¿™å¥—è½»é‡ä¸”å¼ºå¤§çš„ç»„åˆä¸ºä¾‹ï¼Œå½»åº•è®²æ¸…æ¥šå¦‚ä½•é«˜æ•ˆã€ä¼˜é›…åœ°æ“ä½œæ•°æ®åº“ã€‚</p>\n<h2>ğŸ¯ ä¸€ã€æ ¸å¿ƒå›°å¢ƒï¼šæˆ‘ä»¬åˆ°åº•åœ¨è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h2>\n<p>åœ¨Webå¼€å‘ä¸­ï¼Œæ•°æ®åº“æ“ä½œçœ‹ä¼¼ç®€å•ï¼Œæ— éâ€œè¿æ¥ã€æ‰§è¡Œã€å…³é—­â€ã€‚ä½†ä¸€æ—¦æ”¾åˆ°é«˜å¹¶å‘ã€é•¿ç”Ÿå‘½å‘¨æœŸçš„WebæœåŠ¡å™¨ç¯å¢ƒä¸­ï¼Œé—®é¢˜å°±å¤æ‚äº†ï¼š</p>\n<div>\n<p>- ğŸ¢ <strong>æ€§èƒ½ç“¶é¢ˆ</strong>ï¼šé¢‘ç¹åˆ›å»ºå’Œé”€æ¯æ•°æ®åº“è¿æ¥å¼€é”€å·¨å¤§ã€‚</p>\n<p>- ğŸ’¥ <strong>èµ„æºè€—å°½</strong>ï¼šè¿æ¥ä¸åŠæ—¶é‡Šæ”¾ï¼Œå¯¼è‡´è¿æ¥æ± è€—å°½ï¼ŒæœåŠ¡ä¸å¯ç”¨ã€‚</p>\n<p>- ğŸ¤¯ <strong>ä»£ç æ··ä¹±</strong>ï¼šä¸šåŠ¡é€»è¾‘å’Œæ•°æ®åº“è¿æ¥ä»£ç çº ç¼ ä¸æ¸…ï¼Œéš¾ä»¥ç»´æŠ¤å’Œæµ‹è¯•ã€‚</p>\n<p>- ğŸ”€ <strong>å¹¶å‘éšæ‚£</strong>ï¼šåœ¨å¤šçº¿ç¨‹/å¼‚æ­¥ç¯å¢ƒä¸‹ï¼Œè¿æ¥å…±äº«å¯èƒ½å¼•å‘æ•°æ®é”™ä¹±ã€‚</p>\n</div>\n<p>FastAPIçš„å¼‚æ­¥ç‰¹æ€§è®©äº‹æƒ…å˜å¾—æ›´â€œå¾®å¦™â€ã€‚ç›´æ¥ç”¨ä¼ ç»Ÿçš„åŒæ­¥æ•°æ®åº“é©±åŠ¨ï¼ˆå¦‚<code style=\"color: rgba(186, 55, 42, 1);\">sqlite3</code>æ¨¡å—ï¼‰ä¼šé˜»å¡æ•´ä¸ªäº‹ä»¶å¾ªç¯ï¼Œ<strong style=\"color: rgba(186, 55, 42, 1);\">å¼‚æ­¥ä¼˜åŠ¿è¡ç„¶æ— å­˜</strong>ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ—¢èƒ½ç®¡ç†è¿æ¥ç”Ÿå‘½å‘¨æœŸï¼Œåˆèƒ½ä¸å¼‚æ­¥æ¡†æ¶å‹å¥½åä½œçš„è§£å†³æ–¹æ¡ˆã€‚</p>\n<h2>ğŸ§  äºŒã€åŸç†é€è§†ï¼šSQLAlchemyï¼Œä¸åªæ˜¯ORM</h2>\n<p>å¾ˆå¤šäººæŠŠSQLAlchemyç­‰åŒäºä¸€æ¬¾ORMï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰å·¥å…·ã€‚è¿™æ²¡é”™ï¼Œä½†å®ƒçš„æ ¸å¿ƒä»·å€¼è¿œä¸æ­¢äºæ­¤ã€‚ä½ å¯ä»¥æŠŠå®ƒç†è§£ä¸ºä¸€ä¸ª<strong style=\"color: rgba(186, 55, 42, 1);\">å¼ºå¤§çš„â€œæ•°æ®åº“è¿æ¥ä¸æŸ¥è¯¢æ„å»ºå·¥å‚â€</strong>ã€‚</p>\n<p>æƒ³è±¡ä¸€ä¸‹é¤å…çš„åå¨ï¼š</p>\n<div>\n<p>- ğŸ› ï¸ <strong>å¼•æ“ï¼ˆEngineï¼‰</strong>ï¼šé¤å…çš„â€œä¸­å¤®å¨æˆ¿â€ã€‚å®ƒæ˜¯æ•°æ®åº“è¿æ¥çš„å·¥å‚å’Œè¿æ¥æ± çš„æŒæœ‰è€…ã€‚ä½ é…ç½®å¥½ä¸€æ¬¡ï¼ˆæ•°æ®åº“åœ°å€ã€è¿æ¥å‚æ•°ã€æ± å¤§å°ï¼‰ï¼Œæ•´ä¸ªåº”ç”¨éƒ½ä»è¿™é‡Œâ€œå–ç”¨â€è¿æ¥ã€‚å®ƒæ˜¯å…¨å±€çš„ã€é‡é‡çº§çš„ã€‚</p>\n<p>- ğŸ§¾ <strong>ä¼šè¯ï¼ˆSessionï¼‰</strong>ï¼šå¨å¸ˆæ‰‹ä¸­çš„â€œè®¢å•ç¯®â€ã€‚ä¸€ä¸ªSessionä»£è¡¨ä¸€ä¸ªç‹¬ç«‹çš„æ•°æ®åº“æ“ä½œâ€œå·¥ä½œå•å…ƒâ€ã€‚å®ƒä»Engineè·å–ä¸€ä¸ªç‰©ç†è¿æ¥ï¼Œç®¡ç†ä¸€ç³»åˆ—ç›¸å…³çš„å¢åˆ æ”¹æŸ¥ï¼Œå¹¶åœ¨å®Œæˆåâ€œå½’è¿˜â€è¿æ¥ã€‚å®ƒæ˜¯å±€éƒ¨çš„ã€è½»é‡çº§çš„ï¼Œ<strong style=\"color: rgba(186, 55, 42, 1);\">å¹¶ä¸”ç»å¯¹ä¸åº”è¯¥è·¨è¯·æ±‚å…±äº«</strong>ã€‚</p>\n<p>- ğŸ <strong>ORMï¼ˆDeclarative Baseï¼‰</strong>ï¼šæ ‡å‡†åŒ–çš„â€œèœè°±â€ã€‚å®ƒå®šä¹‰äº†æ•°æ®æ¨¡å‹ï¼ˆè¡¨ç»“æ„ï¼‰å’Œä¸šåŠ¡å¯¹è±¡ï¼ˆPythonç±»ï¼‰çš„æ˜ å°„å…³ç³»ï¼Œè®©ä½ èƒ½ç”¨é¢å‘å¯¹è±¡çš„æ–¹å¼æ“ä½œæ•°æ®åº“ã€‚</p>\n</div>\n<p><strong style=\"color: rgba(186, 55, 42, 1);\">å…³é”®ç»“è®ºï¼šé«˜æ€§èƒ½å­˜å–çš„æ ¸å¿ƒï¼Œåœ¨äºæ­£ç¡®ç®¡ç†Engineå’ŒSessionçš„ç”Ÿå‘½å‘¨æœŸã€‚</strong> Engineé€šå¸¸åº”ç”¨å¯åŠ¨æ—¶åˆ›å»ºï¼Œå…³é—­æ—¶é”€æ¯ã€‚è€ŒSessionå¿…é¡»<strong style=\"color: rgba(186, 55, 42, 1);\">â€œå³ç”¨å³åˆ›ï¼Œç”¨å®Œå³å…³â€</strong>ï¼Œä¸”æ¯ä¸ªè¯·æ±‚ç‹¬ç«‹ã€‚</p>\n<h2>âš™ï¸ ä¸‰ã€å®æˆ˜æ¼”ç»ƒï¼šä¸‰æ­¥æ„å»ºé«˜æ•ˆæ•°æ®å±‚</h2>\n<p>ç†è®ºè¯´å†å¤šï¼Œä¸å¦‚ä»£ç æ¥å¾—å®åœ¨ã€‚ä¸‹é¢æˆ‘ä»¬ä¸€æ­¥æ­¥æ­å»ºä¸€ä¸ªå¯ç”¨çš„æ¡†æ¶ã€‚</p>\n<h3>ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºæ ¸å¿ƒå¼•æ“ä¸æ¨¡å‹</h3>\n<p>æˆ‘ä»¬å…ˆåˆ›å»ºæ•°æ®åº“è¿æ¥çš„æ ¸å¿ƒï¼ˆEngineï¼‰å’Œæ•°æ®æ¨¡å‹çš„åŸºç±»ã€‚</p>\n<pre class=\"highlighter-hljs\" style=\"background-color: rgba(246, 248, 250, 1); padding: 15px; border-radius: 5px;\"><code># database.py\nfrom sqlalchemy import create_engine\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy.orm import sessionmaker\nimport os\n\n# å®šä¹‰æ•°æ®åº“æ–‡ä»¶è·¯å¾„\nSQLALCHEMY_DATABASE_URL = f\"sqlite:///./test.db\"\n\n# åˆ›å»ºå¼•æ“ (æ ¸å¿ƒ)\n# `connect_args={\"check_same_thread\": False}` å¯¹äºSQLiteå¤šçº¿ç¨‹æ˜¯å¿…é¡»çš„\n# `echo=True` å¼€å‘æ—¶å¼€å¯ï¼Œå¯ä»¥æŸ¥çœ‹ç”Ÿæˆçš„SQLï¼Œç”Ÿäº§ç¯å¢ƒè¯·å…³é—­\n# `pool_pre_ping=True` è¿æ¥æ± å–å‡ºè¿æ¥å‰è¿›è¡Œå¥åº·æ£€æŸ¥ï¼Œé¿å…ä½¿ç”¨å¤±æ•ˆè¿æ¥\nengine = create_engine(\n    SQLALCHEMY_DATABASE_URL,\n    connect_args={\"check_same_thread\": False},\n    echo=False, # ç”Ÿäº§ç¯å¢ƒè®¾ä¸ºFalse\n    pool_pre_ping=True,\n    pool_size=5, # è¿æ¥æ± å¤§å°\n    max_overflow=10 # å…è®¸è¶…å‡ºpool_sizeçš„ä¸´æ—¶è¿æ¥æ•°\n)\n\n# åˆ›å»ºä¼šè¯å·¥å‚ï¼Œç»‘å®šåˆ°å¼•æ“\n# `autocommit=False, autoflush=False` æ˜¯æ¨èè®¾ç½®ï¼Œä¾¿äºäº‹åŠ¡æ§åˆ¶\nSessionLocal = sessionmaker(autocommit=False, autoflush=False, bind=engine)\n\n# å£°æ˜æ€§åŸºç±»ï¼Œæ‰€æœ‰æ¨¡å‹ç±»éƒ½å°†ç»§æ‰¿è‡ªæ­¤\nBase = declarative_base()</code></pre>\n<h3>ç¬¬äºŒæ­¥ï¼šå®šä¹‰æ•°æ®æ¨¡å‹ä¸ä¾èµ–æ³¨å…¥</h3>\n<p>æ¥ç€ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªç”¨æˆ·æ¨¡å‹ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªè·å–æ•°æ®åº“ä¼šè¯çš„FastAPIä¾èµ–é¡¹ã€‚è¿™æ˜¯å®ç°â€œ<span style=\"color: rgba(186, 55, 42, 1);\">è¯·æ±‚çº§åˆ«Session</span>â€çš„å…³é”®ï¼</p>\n<pre class=\"highlighter-hljs\" style=\"background-color: rgba(246, 248, 250, 1); padding: 15px; border-radius: 5px;\"><code># models.py\nfrom sqlalchemy import Column, Integer, String\nfrom database import Base\n\nclass User(Base):\n    __tablename__ = \"users\"\n    id = Column(Integer, primary_key=True, index=True)\n    username = Column(String, unique=True, index=True, nullable=False)\n    email = Column(String, unique=True, index=True)\n\n# åˆ›å»ºè¡¨ï¼ˆé€šå¸¸åœ¨åº”ç”¨å¯åŠ¨æ—¶è°ƒç”¨ä¸€æ¬¡ï¼‰\n# Base.metadata.create_all(bind=engine)\n\n# dependencies.py\nfrom database import SessionLocal\nfrom fastapi import Depends\nfrom typing import Generator\n\ndef get_db() -&gt; Generator:\n    \"\"\"\n    æ•°æ®åº“ä¼šè¯ä¾èµ–é¡¹ã€‚\n    æ¯ä¸ªè¯·æ±‚è·å–ä¸€ä¸ªç‹¬ç«‹Sessionï¼Œè¯·æ±‚ç»“æŸåç¡®ä¿å…³é—­ã€‚\n    \"\"\"\n    db = SessionLocal()\n    try:\n        yield db # å°†dbæ³¨å…¥åˆ°è·¯ç”±å‡½æ•°ä¸­\n    finally:\n        db.close() # æ— è®ºè¯·æ±‚æˆåŠŸä¸å¦ï¼Œæœ€ç»ˆéƒ½ä¼šå…³é—­ä¼šè¯</code></pre>\n<h3>ç¬¬ä¸‰æ­¥ï¼šåœ¨è·¯ç”±ä¸­å®ç°CRUD</h3>\n<p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨APIè·¯ç”±ä¸­æ„‰å¿«åœ°ä½¿ç”¨æ•°æ®åº“äº†ã€‚æ³¨æ„çœ‹<code style=\"color: rgba(186, 55, 42, 1);\">db: Session = Depends(get_db)</code>è¿™è¡Œé­”æ³•ã€‚</p>\n<pre class=\"highlighter-hljs\" style=\"background-color: rgba(246, 248, 250, 1); padding: 15px; border-radius: 5px;\"><code># main.py\nfrom fastapi import FastAPI, Depends, HTTPException\nfrom sqlalchemy.orm import Session\nfrom pydantic import BaseModel\nfrom typing import List\nfrom models import User\nfrom dependencies import get_db\n\napp = FastAPI()\n\n# Pydanticæ¨¡å‹ï¼Œç”¨äºè¯·æ±‚/å“åº”éªŒè¯\nclass UserCreate(BaseModel):\n    username: str\n    email: str\n\nclass UserResponse(BaseModel):\n    id: int\n    username: str\n    email: str\n\n    class Config:\n        orm_mode = True # å…è®¸ä»ORMå¯¹è±¡è½¬æ¢\n\n@app.post(\"/users/\", response_model=UserResponse)\ndef create_user(user: UserCreate, db: Session = Depends(get_db)):\n    # æ£€æŸ¥ç”¨æˆ·åæ˜¯å¦å·²å­˜åœ¨\n    db_user = db.query(User).filter(User.username == user.username).first()\n    if db_user:\n        raise HTTPException(status_code=400, detail=\"Username already registered\")\n    # åˆ›å»ºORMå¯¹è±¡\n    db_user = User(username=user.username, email=user.email)\n    # æ·»åŠ åˆ°ä¼šè¯\n    db.add(db_user)\n    # æäº¤äº‹åŠ¡\n    db.commit()\n    # åˆ·æ–°ï¼Œä½¿å¯¹è±¡è·å¾—æ•°æ®åº“ç”Ÿæˆçš„IDç­‰æ•°æ®\n    db.refresh(db_user)\n    return db_user\n\n@app.get(\"/users/\", response_model=List[UserResponse])\ndef read_users(skip: int = 0, limit: int = 10, db: Session = Depends(get_db)):\n    users = db.query(User).offset(skip).limit(limit).all()\n    return users</code></pre>\n<h2>ğŸš¨ å››ã€æ³¨æ„äº‹é¡¹ä¸è¿›é˜¶æ€è€ƒ</h2>\n<p>æ­å–œä½ ï¼Œä¸€ä¸ªç»“æ„æ¸…æ™°ã€è¿æ¥é«˜æ•ˆçš„æ•°æ®å±‚å·²ç»æ­å»ºå®Œæˆã€‚ä½†åœ¨æŠ•å…¥ç”Ÿäº§å‰ï¼Œè¯·åŠ¡å¿…ç•™æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p>\n<div>\n<p>1. <strong style=\"color: rgba(186, 55, 42, 1);\">è¿æ¥æ± é…ç½®æ˜¯è‰ºæœ¯</strong>ï¼š<code style=\"color: rgba(186, 55, 42, 1);\">pool_size</code>å’Œ<code style=\"color: rgba(186, 55, 42, 1);\">max_overflow</code>æ²¡æœ‰é“¶å¼¹ã€‚è®¾ç½®å¤ªå°ï¼Œé«˜å¹¶å‘æ—¶è¯·æ±‚æ’é˜Ÿï¼›è®¾ç½®å¤ªå¤§ï¼Œæµªè´¹èµ„æºç”šè‡³æ‹–å®æ•°æ®åº“ã€‚éœ€è¦æ ¹æ®å®é™…è´Ÿè½½å‹åŠ›æµ‹è¯•è°ƒæ•´ã€‚</p>\n<p>2. <strong style=\"color: rgba(186, 55, 42, 1);\">Sessionçš„ç”Ÿå‘½å‘¨æœŸå°±æ˜¯äº‹åŠ¡çš„ç”Ÿå‘½å‘¨æœŸ</strong>ã€‚ä¸€ä¸ªå¤æ‚çš„ä¸šåŠ¡æ“ä½œåº”è¯¥åœ¨åŒä¸€ä¸ªSessionä¸­å®Œæˆï¼Œä»¥ä¿è¯äº‹åŠ¡ä¸€è‡´æ€§ã€‚ä¸è¦åœ¨ä¸åŒè¯·æ±‚é—´å…±äº«Sessionã€‚</p>\n<p>3. <strong style=\"color: rgba(186, 55, 42, 1);\">å¼‚æ­¥æ•°æ®åº“é©±åŠ¨</strong>ï¼šå¯¹äºè¿½æ±‚æè‡´æ€§èƒ½æˆ–åŸç”Ÿå¼‚æ­¥æ•°æ®åº“ï¼ˆå¦‚PostgreSQLï¼‰ï¼Œè€ƒè™‘ä½¿ç”¨<code style=\"color: rgba(186, 55, 42, 1);\">asyncpg</code> + <code style=\"color: rgba(186, 55, 42, 1);\">SQLAlchemy 1.4+</code>çš„å¼‚æ­¥æ¨¡å¼ã€‚è¿™æ—¶ï¼ŒEngineå’ŒSessionéƒ½éœ€è¦æ¢æˆå¼‚æ­¥ç‰ˆæœ¬ï¼ˆ<code style=\"color: rgba(186, 55, 42, 1);\">AsyncEngine</code>, <code style=\"color: rgba(186, 55, 42, 1);\">AsyncSession</code>ï¼‰ï¼Œä¾èµ–é¡¹ä¹Ÿè¦ç”¨<code style=\"color: rgba(186, 55, 42, 1);\">async with</code>ç®¡ç†ã€‚</p>\n<p>4. <strong style=\"color: rgba(186, 55, 42, 1);\">ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨SQLite</strong>ï¼ˆé™¤éæ˜¯æå°è§„æ¨¡åº”ç”¨ï¼‰ã€‚SQLiteåœ¨é«˜å¹¶å‘å†™å…¥ã€åˆ†å¸ƒå¼éƒ¨ç½²æ–¹é¢æœ‰å¤©ç„¶é™åˆ¶ã€‚å®ƒéå¸¸é€‚åˆåŸå‹å¼€å‘ã€æµ‹è¯•å’Œå°å‹åªè¯»åº”ç”¨ã€‚</p>\n</div>\n<p>å‡åä¸€ä¸‹ï¼š<strong style=\"color: rgba(186, 55, 42, 1);\">æˆ‘ä»¬å€ŸåŠ©SQLAlchemyï¼Œä¸ä»…ä»…æ˜¯å†™æ›´å°‘çš„SQLï¼Œæ›´æ˜¯å¼•å…¥äº†ä¸€å¥—æˆç†Ÿã€å¯æ§çš„æ•°æ®åº“è®¿é—®æ¨¡å¼ã€‚</strong>å®ƒå°†ä½çº§çš„è¿æ¥ç®¡ç†ã€äº‹åŠ¡æ§åˆ¶æŠ½è±¡å‡ºæ¥ï¼Œè®©æˆ‘ä»¬èƒ½æ›´ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘æœ¬èº«ã€‚è€ŒFastAPIçš„ä¾èµ–æ³¨å…¥ç³»ç»Ÿï¼Œå®Œç¾åœ°å°†è¿™å¥—æ¨¡å¼æ•´åˆåˆ°è¯·æ±‚ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œå®ç°äº†èµ„æºç®¡ç†çš„è‡ªåŠ¨åŒ–ä¸ä¼˜é›…åŒ–ã€‚</p>\n<hr />\n<p style=\"text-align: center;\">---<strong>å†™åœ¨æœ€å</strong>---<br />å¸Œæœ›è¿™ä»½æ€»ç»“èƒ½å¸®ä½ é¿å¼€ä¸€äº›å‘ã€‚å¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œä¸å¦¨ç‚¹ä¸ª èµğŸ‘ æˆ– æ”¶è—â­ æ ‡è®°ä¸€ä¸‹ï¼Œæ–¹ä¾¿éšæ—¶å›é¡¾ã€‚ä¹Ÿæ¬¢è¿å…³æ³¨æˆ‘ï¼Œåç»­ä¸ºä½ å¸¦æ¥æ›´å¤šç±»ä¼¼çš„å®æˆ˜è§£æã€‚æœ‰ä»»ä½•ç–‘é—®æˆ–æƒ³æ³•ï¼Œæˆ‘ä»¬è¯„è®ºåŒºè§ï¼Œä¸€èµ·äº¤æµå¼€å‘ä¸­çš„å„ç§å¿ƒå¾—ä¸é—®é¢˜ã€‚</p>\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-14 11:13</span>&nbsp;\n<a href=\"https://www.cnblogs.com/ymtianyu\">ä¸€åç¨‹åºåª›å‘€</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">135</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "æ–°çš„ä¸€å¹´ï¼Œå†™ç»™åšå®¢å›­çš„å¤§å®¶ï¼Œä¹Ÿå†™ç»™è‡ªå·±",
      "link": "https://www.cnblogs.com/zxlh1529/p/19480754",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/zxlh1529/p/19480754\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-14 11:12\">\n    <span>æ–°çš„ä¸€å¹´ï¼Œå†™ç»™åšå®¢å›­çš„å¤§å®¶ï¼Œä¹Ÿå†™ç»™è‡ªå·±</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<p>2026 å¹´ï¼Œå·²ç»è¿‡å»åŠä¸ªæœˆï¼Œæœ¬æ¥å¹´å‰å¹´åæƒ³æ‰¾ä¸€äº›æŠ€æœ¯ç‚¹æ¥ä½œä¸ºé¦–ç¯‡å‘è¡¨ï¼Œåé¢çœ‹äº†çœ‹ï¼Œæƒ³äº†æƒ³ï¼Œæ²¡æ‰¾åˆ°å¥½çš„ç‚¹ï¼Œå½“ç„¶è¿™ä¹Ÿæœ‰å› ä¸ºæˆ‘çš„æŠ€æœ¯èƒ½åŠ›é—®é¢˜ï¼Œæ·±çš„è°ˆä¸äº†ï¼Œæµ…çš„åˆè§‰å¾—åš¼ä¹‹æ— å‘³ï¼Œå·²ç»æœ‰å¤ªå¤šå¤§ä½¬å‘äº†ï¼Œå¾ˆå¤šå†æ·±æŒ–å°±å¾—å›å½’å»è¯´ 0110 äº†ã€‚</p>\n<p>æ–°å¹´åˆšå¼€å§‹ï¼Œæ—¶é—´çº¿å·²ç»è¢«å„ç§é¢„æµ‹å æ»¡äº†ã€‚é©¬æ–¯å…‹å››å¤§é¢„è¨€ï¼Œé»„é‡‘ä¸Šæ¶¨çš„é¢„æµ‹ï¼ˆå¸Œæœ›è¯„è®ºåŒºå¤§ä½¬è·Ÿæˆ‘è¯´å•¥æ—¶å€™ä¼šæ‰ï¼‰ã€‚</p>\n<p>æœ‰äººé¢„æµ‹æŠ€æœ¯è¶‹åŠ¿ï¼Œæœ‰äººé¢„æµ‹è¡Œä¸šèµ°å‘ï¼Œä¹Ÿæœ‰äººè¯•å›¾ç”¨å‡ å¥è¯å‹¾å‹’å‡ºæœªæ¥å‡ å¹´çš„ç­”æ¡ˆã€‚é¢„æµ‹æœ¬èº«å¹¶ä¸ç½•è§ï¼Œç”šè‡³å·²ç»æˆäº†ä¸€ç§â€œæ–°å¹´ä»ªå¼â€ã€‚</p>\n<p>ä½†æˆ‘æƒ³åœ¨æ–°å¹´çš„ç¬¬ä¸€ç¯‡åšå®¢é‡Œï¼Œåˆ»æ„ä¸è°ˆè¿™äº›ï¼Œéšä¾¿è¯´è¯´ï¼Œä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡ä¸å†™æŠ€æœ¯äº†ï¼Œä»¥å‰åœ¨å­¦æ ¡å¤§ä¸€è¿˜ä¸“é—¨æäº†ä¸ªå…¬ä¼—å·å†™æƒ…æ„Ÿç±»çš„å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆğŸ˜€ã€‚</p>\n<hr />\n<h2 id=\"å…³äºèŠ‚å¥\">å…³äºèŠ‚å¥</h2>\n<p>è¿‡å»ä¸€å¹´ï¼Œæˆ‘æ˜æ˜¾æ„Ÿå—åˆ°ä¸€ç§å˜åŒ–ï¼š<br />\nä¿¡æ¯åœ¨åŠ é€Ÿï¼Œè§‚ç‚¹åœ¨å‹ç¼©ï¼Œç»“è®ºåœ¨å‰ç½®ã€‚</p>\n<p>å¾ˆå¤šå†…å®¹å·²ç»ä¸å†è¯•å›¾â€œè§£é‡Šâ€ï¼Œè€Œæ˜¯ç›´æ¥ç»™å‡ºæ€åº¦ï¼›<br />\n<strong>ä¸å†è®¨è®ºè¿‡ç¨‹ï¼Œè€Œæ˜¯åªä¿ç•™ç»“æœã€‚</strong></p>\n<p>åœ¨è¿™æ ·çš„ç¯å¢ƒä¸‹ï¼Œæ…¢ä¸‹æ¥åè€Œæˆäº†ä¸€ç§éœ€è¦åˆ»æ„åšæŒçš„é€‰æ‹©ã€‚</p>\n<p>å†™åšå®¢ä¹Ÿæ˜¯ã€‚<br />\nå®ƒä¸æ˜¯æœ€å¿«çš„è¡¨è¾¾æ–¹å¼ï¼Œä¹Ÿä¸æ˜¯æœ€å®¹æ˜“è·å¾—åé¦ˆçš„æ–¹å¼ï¼Œä½†å®ƒè®©æˆ‘ä¿ç•™äº†ä¸€ç‚¹<strong>å®Œæ•´æ€è€ƒçš„èŠ‚å¥</strong>â€”â€”è€Œä¸æ˜¯è¢«æ¨ç€èµ°ã€‚</p>\n<hr />\n<h2 id=\"å…³äºä¸ç¡®å®šæ€§\">å…³äºä¸ç¡®å®šæ€§</h2>\n<p>é¢„æµ‹æµè¡Œï¼Œæœ¬è´¨ä¸Šæ˜¯æˆ‘ä»¬å¯¹ä¸ç¡®å®šæ€§çš„æŠ—æ‹’ã€‚</p>\n<p>ä½†æ¯•ä¸šåè¿™ä¸€å¹´å¤šå·¥ä½œä¹‹åè®©æˆ‘è¶Šæ¥è¶Šæ¸…æ¥šï¼š<br />\n<strong>ä¸ç¡®å®šæ€§ä¸æ˜¯é—®é¢˜æœ¬èº«ï¼Œå®ƒæ˜¯ç¯å¢ƒçš„å¸¸æ€ã€‚</strong></p>\n<p>çœŸæ­£æœ‰ä»·å€¼çš„èƒ½åŠ›ï¼Œå¹¶ä¸æ˜¯â€œçŒœå¯¹æœªæ¥â€ï¼Œè€Œæ˜¯ï¼š</p>\n<ul>\n<li>å½“å‡è®¾å¤±æ•ˆæ—¶ï¼Œèƒ½å¦åŠæ—¶è°ƒæ•´</li>\n<li>å½“è·¯å¾„å˜åŒ–æ—¶ï¼Œæ˜¯å¦ä»ç„¶å…·å¤‡é€‰æ‹©ç©ºé—´</li>\n<li>å½“ç­”æ¡ˆä¸å­˜åœ¨æ—¶ï¼Œæ˜¯å¦è¿˜èƒ½ç»§ç»­å‰è¿›</li>\n</ul>\n<p>æŠ€æœ¯æ ˆä¼šå˜ï¼Œæ¡†æ¶ä¼šå˜ï¼ŒèŒƒå¼ä¼šå˜ã€‚<br />\nä½†é¢å¯¹å˜åŒ–æ—¶çš„åˆ¤æ–­åŠ›å’Œä¿®æ­£èƒ½åŠ›ï¼Œå¾ˆå°‘è¢«è¶‹åŠ¿æœ¬èº«æ·˜æ±°ã€‚</p>\n<hr />\n<h2 id=\"å…³äºé•¿æœŸä¸»ä¹‰\">å…³äºé•¿æœŸä¸»ä¹‰</h2>\n<p>å¦‚æœè¯´æœ‰ä»€ä¹ˆä¸œè¥¿åœ¨æŠ€æœ¯ä¸–ç•Œé‡Œå˜å¾—è¶Šæ¥è¶Šç¨€ç¼ºï¼Œé‚£ä¸€å®šä¸æ˜¯ä¿¡æ¯ï¼Œè€Œæ˜¯<strong>æŒç»­æ€§</strong>ã€‚</p>\n<p>æŒç»­å­¦ä¹ ä¸éš¾ï¼ŒæŒç»­è¾“å‡ºä¸éš¾ï¼Œ<br />\néš¾çš„æ˜¯åœ¨æ²¡æœ‰æŒå£°ã€æ²¡æœ‰çƒ­ç‚¹ã€æ²¡æœ‰â€œæ­£ç¡®ç­”æ¡ˆâ€çš„æƒ…å†µä¸‹ï¼Œä¾ç„¶æ„¿æ„ç»§ç»­ã€‚</p>\n<p>å†™åšå®¢å¯¹æˆ‘æ¥è¯´ï¼Œæ›´åƒæ˜¯ä¸€ç§é•¿æœŸè¡Œä¸ºï¼š</p>\n<ul>\n<li>ä¸è¿½çƒ­ç‚¹</li>\n<li>ä¸åˆ»æ„åˆ¶é€ ç»“è®º</li>\n<li>ä¸æ€¥ç€è¯æ˜ä»€ä¹ˆ</li>\n</ul>\n<p>å‡ å¹´åå†å›å¤´çœ‹ï¼Œå®ƒå¯èƒ½å¹¶ä¸èƒ½è¯´æ˜æˆ‘â€œå¤šå…ˆè¿›â€ï¼Œä½†è‡³å°‘èƒ½è¯æ˜æˆ‘<strong>æ²¡æœ‰å®Œå…¨è¢«çŸ­æœŸå™ªå£°å¸¦èµ°</strong>ï¼Œä¹Ÿæ˜¯æˆ‘å­¦ä¹ çš„ç•™ç—•ï¼Œå›è¿‡å¤´èƒ½å¤Ÿæ„Ÿæ¦‚å˜²ç¬‘ä¸€ä¸‹æ­¤æ—¶çš„æˆ‘ã€‚</p>\n<hr />\n<h2 id=\"å…³äºè¾¹ç•Œ\">å…³äºè¾¹ç•Œ</h2>\n<p>æŠ€æœ¯å¾ˆé‡è¦ï¼Œä½†æŠ€æœ¯ä¸æ˜¯å…¨éƒ¨ã€‚</p>\n<p>å½“æ‰€æœ‰é—®é¢˜éƒ½è¢«åŒ…è£…æˆâ€œæ•ˆç‡é—®é¢˜â€â€œæˆé•¿é—®é¢˜â€â€œè·¯çº¿é€‰æ‹©é—®é¢˜â€æ—¶ï¼Œåè€Œå®¹æ˜“å¿½ç•¥ä¸€äº›æ›´åŸºç¡€çš„ä¸œè¥¿ï¼š</p>\n<ul>\n<li>ä½ æ˜¯å¦è¿˜èƒ½ä¿æŒä¸“æ³¨</li>\n<li>ä½ æ˜¯å¦è¿˜èƒ½äº«å—è§£å†³é—®é¢˜çš„è¿‡ç¨‹</li>\n<li>ä½ æ˜¯å¦è¿˜çŸ¥é“è‡ªå·±ä¸ºä»€ä¹ˆèµ°åœ¨è¿™æ¡è·¯ä¸Š</li>\n<li>ä½ æ˜¯å¦è¿˜çƒ­çˆ±ç”Ÿæ´»</li>\n</ul>\n<p>ç»™æŠ€æœ¯ç•™è¾¹ç•Œï¼Œå…¶å®ä¹Ÿæ˜¯åœ¨ç»™è‡ªå·±ç•™ç©ºé—´ã€‚</p>\n<hr />\n<h2 id=\"æœ€å\">æœ€å</h2>\n<p>è¿™å››ä¸ªå…³äºä¸ä¼šç»™å‡ºç­”æ¡ˆï¼Œä¹Ÿæ²¡æœ‰å›ºå®šç­”æ¡ˆï¼Œç¯‡å¹…å¾ˆçŸ­ï¼Œäººç”Ÿå¾ˆé•¿ï¼Œå¹¶ä¸èƒ½å¯¥å¯¥æ¦‚æ‹¬ã€‚</p>\n<p>å®ƒæ›´åƒæ˜¯ä¸€æ¬¡åˆ»æ„çš„åœé¡¿ã€‚</p>\n<p>æ–°çš„ä¸€å¹´ï¼Œæˆ‘ä¾ç„¶ä¼šå†™ä»£ç ã€å†™æ¶æ„ã€å†™å·¥ç¨‹å®è·µã€å†™ç”Ÿæ´»ã€å†™æ„Ÿæ‚Ÿï¼›<br />\nä½†åœ¨è¿™äº›ä¹‹å‰ï¼Œæˆ‘å¸Œæœ›è‡ªå·±èƒ½è®°ä½ï¼š</p>\n<ul>\n<li>èŠ‚å¥æ¯”é€Ÿåº¦é‡è¦</li>\n<li>é€‚åº”æ¯”é¢„æµ‹é‡è¦</li>\n<li>æŒç»­æ¯”çˆ†å‘é‡è¦</li>\n<li>è¾¹ç•Œæ¯”æ— é™æ‰©å¼ é‡è¦</li>\n</ul>\n<p>æ–°å¹´ç¬¬ä¸€ç¯‡ï¼Œå†™ç»™è‡ªå·±ï¼Œä¹Ÿå†™ç»™ä»ç„¶æ„¿æ„æ…¢æ…¢è¯»å®Œæ¯ä¸€ç¯‡åšå®¢çš„äººã€‚</p>\n<p>å¸Œæœ›æ¥ä¸‹æ¥çš„ä½ ï¼Œçƒ­çˆ±æŠ€æœ¯ï¼Œä¹Ÿçƒ­çˆ±ç”Ÿæ´»ï¼Œçƒ­çˆ±è¿‡å¾€çš„ä½ ï¼Œç°åœ¨çš„ä½ ï¼Œæœªæ¥çš„ä½ ï¼Œä¸ç®¡å‘ç”Ÿä»€ä¹ˆã€‚</p>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-14 11:12</span>&nbsp;\n<a href=\"https://www.cnblogs.com/zxlh1529\">å¹¼å„¿å›­æŠ€æœ¯å®¶</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">784</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">2</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "PHP 8.5 å‡çº§ç”Ÿå­˜æŒ‡å—ï¼šé¿å…å‡Œæ™¨ä¸¤ç‚¹å›æ»šçš„æ£€æŸ¥æ¸…å•",
      "link": "https://www.cnblogs.com/catchadmin/p/19479967",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/catchadmin/p/19479967\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-14 07:43\">\n    <span>PHP 8.5 å‡çº§ç”Ÿå­˜æŒ‡å—ï¼šé¿å…å‡Œæ™¨ä¸¤ç‚¹å›æ»šçš„æ£€æŸ¥æ¸…å•</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h1 id=\"php-85-å‡çº§ç”Ÿå­˜æŒ‡å—é¿å…å‡Œæ™¨ä¸¤ç‚¹å›æ»šçš„æ£€æŸ¥æ¸…å•\">PHP 8.5 å‡çº§ç”Ÿå­˜æŒ‡å—ï¼šé¿å…å‡Œæ™¨ä¸¤ç‚¹å›æ»šçš„æ£€æŸ¥æ¸…å•</h1>\n<h2 id=\"å‡çº§-php-ä¸éš¾è¢«å‘æ‰éš¾\">å‡çº§ PHP ä¸éš¾ï¼Œè¢«å‘æ‰éš¾</h2>\n<p>ä¸€æœˆåˆæ˜¯åšé‚£ç§\"ä½ æ°¸è¿œä¸æƒ³èµ¶å·¥\"çš„å·¥ä½œçš„å¥½æ—¶æœºï¼šè¿è¡Œæ—¶å‡çº§ã€‚</p>\n<p>å¤§å¤šæ•° PHP 8.x å°ç‰ˆæœ¬å‡çº§å¾ˆé¡ºåˆ©ï¼Œä½†\"é¡ºåˆ©\"ä¸ç­‰äº\"é›¶é£é™©\"ã€‚çœŸæ­£çš„é—®é¢˜é€šå¸¸æ¥è‡ªï¼š</p>\n<ul>\n<li>éšè—çš„å¹³å°çº¦æŸï¼ˆæ‰©å±•ã€ç³»ç»Ÿåº“ã€SAPIï¼‰ï¼Œ</li>\n<li>èƒ½ç¼–è¯‘ä½†è¡Œä¸ºä¸åŒçš„ä¾èµ–ï¼Œ</li>\n<li>è¢«å¿½ç•¥å¤šå¹´çš„è­¦å‘Š/å¼ƒç”¨çªç„¶æ·¹æ²¡æ—¥å¿—ï¼Œ</li>\n<li>å‡è®¾å›æ»š\"å¾ˆç®€å•\"çš„ä¸Šçº¿è®¡åˆ’ï¼ˆå®é™…ä¸Šå¾ˆå°‘ç®€å•ï¼‰ã€‚</li>\n</ul>\n<p>è¿™ç¯‡æ–‡ç« ä¾§é‡å®æ“ã€‚æˆ‘ä¸ä¼šé‡æ–°è®² PHP 8.5 çš„æ–°ç‰¹æ€§ï¼Œæ¯”å¦‚ç®¡é“æ“ä½œç¬¦æˆ– URI å¤„ç†ã€‚æ–°ç‰¹æ€§åªä¼šä½œä¸ºå…¼å®¹æ€§æ£€æŸ¥ç‚¹ç®€å•æåŠã€‚ç›®æ ‡æ˜¯åƒæˆå¹´äººä¸€æ ·å‘å¸ƒ PHP 8.5ï¼šæœ‰è®¡åˆ’ã€æœ‰é˜²æŠ¤ã€æœ‰ç›‘æ§ã€æœ‰çœŸæ­£èƒ½ç”¨çš„å›æ»šè·¯å¾„ã€‚</p>\n<p>PHP 8.5 çš„ç¨³å®šç‰ˆäº 2025 å¹´ 11 æœˆ 20 æ—¥å‘å¸ƒï¼Œéµå¾ªæ­£å¸¸çš„ PHP æ”¯æŒå‘¨æœŸã€‚</p>\n<p><a href=\"https://catchadmin.com/post/2026-01/php85-upgrade-survival-guide-checklist\" rel=\"noopener nofollow\" target=\"_blank\">åŸæ–‡ PHP 8.5 å‡çº§ç”Ÿå­˜æŒ‡å—ï¼šé¿å…å‡Œæ™¨ä¸¤ç‚¹å›æ»šçš„æ£€æŸ¥æ¸…å•</a></p>\n<h2 id=\"ç¡®å®šç›®æ ‡ç‰ˆæœ¬å®šä¹‰å†…éƒ¨æ”¯æŒç­–ç•¥\">ç¡®å®šç›®æ ‡ç‰ˆæœ¬ï¼Œå®šä¹‰å†…éƒ¨æ”¯æŒç­–ç•¥</h2>\n<p>åœ¨åŠ¨ CI æˆ– Composer ä¹‹å‰ï¼Œå…ˆå›ç­”ä¸€ä¸ªé—®é¢˜ï¼š</p>\n<p><strong>åœ¨ä½ çš„ç»„ç»‡é‡Œï¼Œè¿™æ¬¡å‡çº§\"å®Œæˆ\"æ„å‘³ç€ä»€ä¹ˆï¼Ÿ</strong></p>\n<h3 id=\"ç¡®å®šç›®æ ‡å’Œæˆªæ­¢æ—¥æœŸ\">ç¡®å®šç›®æ ‡å’Œæˆªæ­¢æ—¥æœŸ</h3>\n<p>PHP åˆ†æ”¯æœ‰ä¸¤å¹´çš„æ´»è·ƒæ”¯æŒï¼Œç„¶åæ˜¯ä¸¤å¹´çš„å®‰å…¨ä¿®å¤ã€‚</p>\n<p>å®˜æ–¹æ”¯æŒè¡¨ï¼š</p>\n<ul>\n<li>PHP 8.5ï¼š2025 å¹´ 11 æœˆ 20 æ—¥åˆå§‹å‘å¸ƒ</li>\n<li>æ´»è·ƒæ”¯æŒè‡³ 2027 å¹´ 12 æœˆ 31 æ—¥</li>\n<li>å®‰å…¨æ”¯æŒè‡³ 2029 å¹´ 12 æœˆ 31 æ—¥</li>\n</ul>\n<p>æ”¯æŒçª—å£å¾ˆå®½è£•â€”â€”ä½†ä½ çš„å†…éƒ¨æˆªæ­¢æ—¥æœŸé€šå¸¸ç”±ä»¥ä¸‹å› ç´ é©±åŠ¨ï¼š</p>\n<ul>\n<li>åˆè§„è¦æ±‚ï¼Œ</li>\n<li>æ‰˜ç®¡é•œåƒ / åŸºç¡€å®¹å™¨ï¼Œ</li>\n<li>æ¡†æ¶æ”¯æŒçª—å£ï¼Œ</li>\n<li>åœç•™åœ¨\"ä»…å®‰å…¨ä¿®å¤\"é˜¶æ®µçš„æˆæœ¬ã€‚</li>\n</ul>\n<h3 id=\"å®šä¹‰èŒƒå›´å‡çº§å¸¸å¸¸åœ¨è¿™é‡Œæ— å£°å¤±è´¥\">å®šä¹‰èŒƒå›´ï¼ˆå‡çº§å¸¸å¸¸åœ¨è¿™é‡Œæ— å£°å¤±è´¥ï¼‰</h3>\n<p>å†™ä¸‹ä»€ä¹ˆåŒ…å«ã€ä»€ä¹ˆä¸åŒ…å«ï¼š</p>\n<p><strong>åŒ…å«ï¼š</strong></p>\n<ul>\n<li>è¿è¡Œæ—¶ç‰ˆæœ¬å‡çº§ï¼ˆFPM/CLIï¼‰ï¼Œ</li>\n<li>Composer ä¾èµ–è°ƒæ•´ï¼Œ</li>\n<li>CI çŸ©é˜µæ›´æ–°ï¼Œ</li>\n<li>ç”Ÿäº§ç¯å¢ƒä¸Šçº¿ç­–ç•¥ï¼Œ</li>\n<li>å‡çº§åéªŒè¯ã€‚</li>\n</ul>\n<p><strong>ä¸åŒ…å«ï¼ˆé™¤éä½ æ˜ç¡®åŠ è¿›å»ï¼‰ï¼š</strong></p>\n<ul>\n<li>é‡æ„ä»£ç ä»¥ä½¿ç”¨ PHP 8.5 æ–°ç‰¹æ€§ï¼Œ</li>\n<li>ä¸ PHP 8.5 æ— å…³çš„ä¸»è¦æ¡†æ¶å‡çº§ï¼Œ</li>\n<li>\"é¡ºæ‰‹æ”¹\"çš„é‡å†™ã€‚</li>\n</ul>\n<p>å¦‚æœä¸å®šä¹‰èŒƒå›´ï¼Œ\"å‡çº§\"ä¼šå˜æˆ\"é‡å†™\"ï¼Œç„¶åå°±ä¼šåœæ»ã€‚</p>\n<h3 id=\"æå‰å†³å®šå…¼å®¹æ€§ç­–ç•¥\">æå‰å†³å®šå…¼å®¹æ€§ç­–ç•¥</h3>\n<p>å¦‚æœä»£ç åº“éœ€è¦åœ¨æ—§ç‰ˆ PHP å’Œ 8.5 ä¸ŠåŒæ—¶è¿è¡Œä¸€æ®µæ—¶é—´ï¼š</p>\n<ul>\n<li>ç”¨ CI å¼ºåˆ¶åŒç‰ˆæœ¬å…¼å®¹ï¼Œ</li>\n<li>åœ¨ç”Ÿäº§ç¯å¢ƒåˆ‡åˆ° 8.5 ä¹‹å‰ï¼Œä¸è¦åˆå¹¶ 8.5 ä¸“å±è¯­æ³•ï¼ˆæ¯”å¦‚ <code>|&gt;</code>ï¼‰ã€‚</li>\n</ul>\n<p>å¦‚æœåšç¡¬åˆ‡æ¢ï¼š</p>\n<ul>\n<li>ç¡®ä¿ä¸Šçº¿/å›æ»šæ–¹æ¡ˆä¸‡æ— ä¸€å¤±ï¼Œ</li>\n<li>æ¥å—åŠŸèƒ½åˆ†æ”¯å¯èƒ½æ›´æ—©å¼€å§‹ä½¿ç”¨ 8.5 ä¸“å±è¯­æ³•ã€‚</li>\n</ul>\n<h2 id=\"åˆå§‹å®¡è®¡å½“å‰-phpæ‰©å±•å’Œä¾èµ–çº¦æŸ\">åˆå§‹å®¡è®¡ï¼šå½“å‰ PHPã€æ‰©å±•å’Œä¾èµ–çº¦æŸ</h2>\n<p>å¤§å¤šæ•°\"PHP å‡çº§\"bug ä¸æ˜¯è¯­è¨€ bugï¼Œè€Œæ˜¯ç¯å¢ƒä¸åŒ¹é…ã€‚</p>\n<h3 id=\"å¿«ç…§å®é™…è¿è¡Œçš„è¿è¡Œæ—¶\">å¿«ç…§å®é™…è¿è¡Œçš„è¿è¡Œæ—¶</h3>\n<p>åœ¨ç”Ÿäº§ç¯å¢ƒè¿è¡Œè¿™äº›å‘½ä»¤ï¼Œä¸æ˜¯ä½ çš„ç¬”è®°æœ¬ï¼š</p>\n<pre><code class=\"language-bash\">php -v\nphp -m\nphp --ini\nphp -i | head -n 50\n</code></pre>\n<p>å¦‚æœç”¨ PHP-FPMï¼Œè¿˜è¦æ•è·ï¼š</p>\n<ul>\n<li>FPM pool é…ç½®ï¼Œ</li>\n<li>ini è¦†ç›–ï¼Œ</li>\n<li>ä¼ ç»™ FPM çš„ç¯å¢ƒå˜é‡ï¼Œ</li>\n<li>opcache/JIT è®¾ç½®ï¼ˆè¿™äº›åœ¨ä¸åŒç¯å¢ƒå¯èƒ½ä¸åŒï¼‰ã€‚</li>\n</ul>\n<h3 id=\"åˆ›å»ºå¯å¤ç”¨çš„å¹³å°å¿«ç…§è„šæœ¬\">åˆ›å»ºå¯å¤ç”¨çš„\"å¹³å°å¿«ç…§\"è„šæœ¬</h3>\n<p>æŠŠè¿™æ ·ä¸€ä¸ªè„šæœ¬æ”¾åˆ° <code>tools/php-platform-snapshot.php</code>ï¼Œåœ¨æ¯ä¸ªç¯å¢ƒï¼ˆå¼€å‘/é¢„å‘/ç”Ÿäº§ï¼‰è¿è¡Œã€‚æäº¤è„šæœ¬æœ¬èº«ï¼Œä¸è¦è®©å®ƒæˆä¸ºå£å£ç›¸ä¼ çš„çŸ¥è¯†ã€‚</p>\n<pre><code class=\"language-php\">&lt;?php\ndeclare(strict_types=1);\nfunction ext_version(string $ext): ?string {\n    $v = phpversion($ext);\n    return $v === false ? null : $v;\n}\n$snapshot = [\n    'php_version' =&gt; PHP_VERSION,\n    'php_version_id' =&gt; PHP_VERSION_ID,\n    'sapi' =&gt; PHP_SAPI,\n    'os' =&gt; PHP_OS_FAMILY . ' ' . php_uname('r'),\n    'ini_loaded' =&gt; php_ini_loaded_file(),\n    'ini_scanned' =&gt; php_ini_scanned_files(),\n    'extensions' =&gt; [],\n];\n$exts = get_loaded_extensions();\nsort($exts);\nforeach ($exts as $ext) {\n    $snapshot['extensions'][$ext] = ext_version($ext);\n}\necho json_encode($snapshot, JSON_PRETTY_PRINT | JSON_UNESCAPED_SLASHES) . PHP_EOL;\n</code></pre>\n<p>è¿™èƒ½ç»™ä½ ä¸¤ä¸ªæœ‰ç”¨çš„ä¸œè¥¿ï¼š</p>\n<ul>\n<li>æµ‹è¯• 8.5 æ—¶å¯ä»¥ diff çš„\"ä»€ä¹ˆå˜äº†\"è®°å½•ï¼Œ</li>\n<li>å¿«é€Ÿå‘ç°\"é¢„å‘èƒ½è·‘ç”Ÿäº§ä¸èƒ½è·‘\"é—®é¢˜çš„æ–¹æ³•â€”â€”å¾€å¾€æ˜¯ç”Ÿäº§å¤šäº†ä¸€ä¸ªæ‰©å±•æˆ– ini ä¸åŒã€‚</li>\n</ul>\n<h3 id=\"ç›˜ç‚¹-composer-å¹³å°è¦æ±‚\">ç›˜ç‚¹ Composer å¹³å°è¦æ±‚</h3>\n<p>Composer æŠŠä½ çš„ PHP è¿è¡Œæ—¶å’Œæ‰©å±•å½“ä½œ\"å¹³å°åŒ…\"ï¼Œä¾èµ–å¯ä»¥ require å®ƒä»¬ã€‚</p>\n<p>æœ‰ç”¨çš„å‘½ä»¤ï¼š</p>\n<pre><code class=\"language-bash\">composer show --platform\ncomposer check-platform-reqs\n</code></pre>\n<ul>\n<li><code>composer show --platform</code> åˆ—å‡º Composer çœ‹åˆ°çš„å¹³å°åŒ…ã€‚</li>\n<li><code>composer check-platform-reqs</code> éªŒè¯ä½ çš„çœŸå®æœåŠ¡å™¨æ˜¯å¦æ»¡è¶³å·²å®‰è£…åŒ…çš„ PHP/ext è¦æ±‚ï¼ˆå®ƒä¼šæ•…æ„å¿½ç•¥ <code>config.platform</code>ï¼‰ã€‚</li>\n</ul>\n<p>è¿™æ˜¯åœ¨éƒ¨ç½²å‰å‘ç°\"ç”Ÿäº§ç¼º ext-intl\"æœ€å¿«çš„æ–¹æ³•ã€‚</p>\n<h2 id=\"æ„å»º-ci-çŸ©é˜µåœ¨æ—§ç‰ˆ-php-å’Œ-85-ä¸Šè¿è¡Œæµ‹è¯•æŠŠè­¦å‘Šå½“ä¿¡å·\">æ„å»º CI çŸ©é˜µï¼šåœ¨æ—§ç‰ˆ PHP å’Œ 8.5 ä¸Šè¿è¡Œæµ‹è¯•ï¼ˆæŠŠè­¦å‘Šå½“ä¿¡å·ï¼‰</h2>\n<p>CI æ˜¯è®©å‡çº§å˜å¾—å¯é¢„æµ‹çš„åœ°æ–¹ã€‚</p>\n<h3 id=\"è§„åˆ™åœ¨ç”Ÿäº§ç¨³å®šè¿è¡Œ-85-ä¹‹å‰ä¿ç•™æ—§è¿è¡Œæ—¶åœ¨-ci-ä¸­\">è§„åˆ™ï¼šåœ¨ç”Ÿäº§ç¨³å®šè¿è¡Œ 8.5 ä¹‹å‰ï¼Œä¿ç•™æ—§è¿è¡Œæ—¶åœ¨ CI ä¸­</h3>\n<p>å³ä½¿ä½ è®¡åˆ’ç¡¬åˆ‡æ¢ï¼ŒçŸ­æš‚çš„é‡å æœŸä¹Ÿèƒ½å¸®ä½ é¿å…\"æˆ‘ä»¬åœ¨ç”Ÿäº§å‡†å¤‡å¥½ä¹‹å‰åˆå¹¶äº† 8.5 ä¸“å±ä»£ç \"ã€‚</p>\n<h3 id=\"github-actions-çŸ©é˜µç¤ºä¾‹æ—§ç‰ˆ-php--php-85\">GitHub Actions çŸ©é˜µç¤ºä¾‹ï¼ˆæ—§ç‰ˆ PHP + PHP 8.5ï¼‰</h3>\n<p>å¦‚æœç”¨ GitHub Actionsï¼Œshivammathur/setup-php æ”¯æŒç›´æ¥æŒ‡å®š <code>'8.5'</code>ã€‚</p>\n<pre><code class=\"language-yaml\">name: CI\non:\n  push:\n  pull_request:\njobs:\n  tests:\n    runs-on: ubuntu-latest\n    strategy:\n      fail-fast: false\n      matrix:\n        php: ['8.3', '8.5'] # è°ƒæ•´ä¸ºä½ çš„å½“å‰ç‰ˆæœ¬ + ç›®æ ‡ç‰ˆæœ¬\n    steps:\n      - uses: actions/checkout@v4\n      - name: Setup PHP\n        uses: shivammathur/setup-php@v2\n        with:\n          php-version: ${{ matrix.php }}\n          tools: composer:v2\n          coverage: none\n      - name: Install dependencies\n        run: composer install --no-interaction --prefer-dist\n      - name: Run tests\n        run: vendor/bin/phpunit\n</code></pre>\n<h3 id=\"åŒºåˆ†é”™è¯¯è­¦å‘Šå’Œå¼ƒç”¨\">åŒºåˆ†\"é”™è¯¯\"ã€\"è­¦å‘Š\"å’Œ\"å¼ƒç”¨\"</h3>\n<p>ä¸è¦ç«‹åˆ»æŠŠæ‰€æœ‰ä¸œè¥¿éƒ½å½“å¤±è´¥ã€‚å…ˆåˆ†ç±»ï¼š</p>\n<ul>\n<li><strong>è§£æé”™è¯¯ / è‡´å‘½é”™è¯¯</strong>ï¼šé˜»æ­¢å‡çº§ã€‚</li>\n<li><strong>è¡Œä¸ºå˜æ›´</strong>ï¼šé€šå¸¸éœ€è¦æµ‹è¯• + ä»£ç ä¿®å¤ã€‚</li>\n<li><strong>å¼ƒç”¨</strong>ï¼šä¸ä¸€å®šé˜»æ­¢å‡çº§ï¼Œä½†å®ƒä»¬é¢„ç¤ºæœªæ¥ä¼šåâ€”â€”è€Œä¸”å¯èƒ½å¾ˆå¿«æ·¹æ²¡æ—¥å¿—ã€‚</li>\n</ul>\n<p>PHPUnit æœ¬èº«å°±åŒºåˆ† outcomesï¼ˆfailed/erroredï¼‰å’Œ issuesï¼ˆwarningsã€risky tests ç­‰ï¼‰ã€‚</p>\n<p>ä¸€ä¸ªå®ç”¨çš„å‡çº§ç­–ç•¥ï¼š</p>\n<ul>\n<li>å³ä½¿å­˜åœ¨å¼ƒç”¨ï¼Œä¹Ÿè®©æµ‹è¯•åœ¨ 8.5 ä¸Šé€šè¿‡ï¼Œ</li>\n<li>ä½†åŠ ä¸€ä¸ªå•ç‹¬çš„ CI job æ¥ç»Ÿè®¡å¼ƒç”¨æ•°é‡å¹¶å¼ºåˆ¶æ‰§è¡Œé¢„ç®—ï¼ˆæ¯”å¦‚\"å¼ƒç”¨ä¸èƒ½è¶…è¿‡ N æ¡\"ï¼‰ã€‚</li>\n</ul>\n<p>è¿™é€šå¸¸æ¯”ä¸€å¤œä¹‹é—´æ‰“å¼€\"ä»»ä½•å¼ƒç”¨éƒ½å¤±è´¥\"æ›´ç°å®ã€‚</p>\n<h2 id=\"å¼ƒç”¨å’Œè¡Œä¸ºå˜æ›´åƒå¤„ç†æ•…éšœä¸€æ ·åˆ†ç±»è€Œéå½“é‡æ„\">å¼ƒç”¨å’Œè¡Œä¸ºå˜æ›´ï¼šåƒå¤„ç†æ•…éšœä¸€æ ·åˆ†ç±»ï¼Œè€Œéå½“é‡æ„</h2>\n<p>PHP 8.5 æ–°å¢äº†ä¸€æ‰¹å¼ƒç”¨ç‰¹æ€§å’Œå‡ ä¸ªå¯èƒ½è®©äººæ„å¤–çš„ä¸å…¼å®¹å˜æ›´ã€‚å®˜æ–¹è¿ç§»æŒ‡å—å¯¹æ­¤æœ‰è¯¦ç»†è¯´æ˜ã€‚</p>\n<h3 id=\"ä¸€ä¸ªæœ‰æ•ˆçš„åˆ†ç±»å·¥ä½œæµ\">ä¸€ä¸ªæœ‰æ•ˆçš„åˆ†ç±»å·¥ä½œæµ</h3>\n<ol>\n<li>\n<p><strong>æš´éœ²</strong>ï¼šåœ¨ CI å’Œé¢„å‘ç¯å¢ƒå¯ç”¨ E_ALLã€‚</p>\n</li>\n<li>\n<p><strong>åˆ†ç»„</strong>ï¼šæŒ‰æ¶ˆæ¯ç­¾åèšç±»ï¼ˆç›¸åŒæ–‡ä»¶/è¡Œ/æ¶ˆæ¯ï¼‰ã€‚</p>\n</li>\n<li>\n<p><strong>æ’åº</strong>ï¼šæŒ‰é£é™©ä¼˜å…ˆï¼š</p>\n<ul>\n<li>å®‰å…¨ç›¸å…³ï¼Œ</li>\n<li>è¿è¡Œæ—¶æ­£ç¡®æ€§ï¼Œ</li>\n<li>æ—¥å¿—é‡ / è¿ç»´å™ªéŸ³ï¼Œ</li>\n<li>æœªæ¥ç ´åå¯èƒ½æ€§ã€‚</li>\n</ul>\n</li>\n<li>\n<p><strong>ä¿®å¤</strong>ï¼šæœ€å°çš„å®‰å…¨å˜æ›´ã€‚</p>\n</li>\n<li>\n<p><strong>é˜²æ­¢å›å½’</strong>ï¼šæ·»åŠ é’ˆå¯¹æ€§æµ‹è¯•æˆ–é™æ€è§„åˆ™ã€‚</p>\n</li>\n</ol>\n<h3 id=\"åˆ°å¤„éƒ½ä¼šå†’å‡ºæ¥çš„å¸¸è§å¼ƒç”¨\">åˆ°å¤„éƒ½ä¼šå†’å‡ºæ¥çš„å¸¸è§å¼ƒç”¨</h3>\n<p>è¿™äº›æ˜¯è®©å›¢é˜Ÿè¯´\"ç­‰ç­‰ï¼Œè¿™ä»¥å‰å±…ç„¶å…è®¸ï¼Ÿ\"çš„é—®é¢˜ï¼š</p>\n<p><strong>éè§„èŒƒçš„ç±»å‹è½¬æ¢åç§°å·²å¼ƒç”¨</strong>ï¼š<code>(boolean)</code>ã€<code>(integer)</code>ã€<code>(double)</code>ã€<code>(binary)</code> â†’ ç”¨ <code>(bool)</code>ã€<code>(int)</code>ã€<code>(float)</code>ã€<code>(string)</code>ã€‚</p>\n<p>å¿«é€Ÿæœç´¢ï¼š</p>\n<ul>\n<li>grep æœ <code>\\(integer\\)</code> / <code>\\(boolean\\)</code> ç­‰ï¼Œ</li>\n<li>åº”ç”¨ codemodï¼ˆæˆ– Rectorâ€”â€”åé¢ä¼šè®²ï¼‰ã€‚</li>\n</ul>\n<p><strong>case è¯­å¥ç”¨åˆ†å·ç»“å°¾å·²å¼ƒç”¨</strong>ï¼ˆç”¨ <code>:</code>ï¼‰ã€‚</p>\n<p>è¿™å¸¸å‡ºç°åœ¨\"ä¸€ç›´èƒ½è·‘\"çš„è€ switch å—é‡Œã€‚</p>\n<p><strong>ç”¨ null ä½œä¸ºæ•°ç»„åç§»ï¼ˆæˆ–åœ¨ array_key_exists ä¸­ï¼‰å·²å¼ƒç”¨</strong>ï¼›PHP å»ºè®®ç”¨ç©ºå­—ç¬¦ä¸²ä»£æ›¿ã€‚</p>\n<p>è¿™é€šå¸¸æŒ‡å‘è¾“å…¥è§„èŒƒåŒ– bugâ€”â€”ä¿®æ ¹æœ¬åŸå› ï¼Œä¸åªæ˜¯ä¿®è­¦å‘Šã€‚</p>\n<p><strong>é€’å¢éæ•°å­—å­—ç¬¦ä¸²å·²å¼ƒç”¨</strong>ï¼›ç”¨ <code>str_increment()</code> ä»£æ›¿ã€‚</p>\n<p>å¦‚æœä½ æœ‰ä»£ç ç”¨ <code>$s++</code> åšå­—æ¯é€’å¢ï¼Œä¼šçœ‹åˆ°è¿™ä¸ªã€‚</p>\n<p><strong>åå¼•å·æ“ä½œç¬¦å·²å¼ƒç”¨</strong>ï¼ˆå®ƒæ˜¯ shell_exec çš„åˆ«åï¼‰ã€‚</p>\n<p>å³ä½¿ä½ æ¥å—å®‰å…¨é£é™©ï¼Œä¹Ÿä¸æƒ³è®©å¼ƒç”¨è­¦å‘Šé£æš´æ·¹æ²¡ç”Ÿäº§æ—¥å¿—ã€‚</p>\n<p><strong><code>__sleep()</code> å’Œ <code>__wakeup()</code> è½¯å¼ƒç”¨</strong>ï¼›ä¼˜å…ˆç”¨ <code>__serialize()</code> / <code>__unserialize()</code>ï¼ˆæˆ–åœ¨è¿‡æ¸¡æœŸåŒæ—¶æ”¯æŒä¸¤è€…ï¼‰ã€‚</p>\n<h3 id=\"è¿ç»´ç›¸å…³çš„å¼ƒç”¨æ‰©å±•iniç©ºæ“ä½œå‡½æ•°\">è¿ç»´ç›¸å…³çš„å¼ƒç”¨ï¼ˆæ‰©å±•ã€iniã€\"ç©ºæ“ä½œ\"å‡½æ•°ï¼‰</h3>\n<p>æœ‰äº›å¼ƒç”¨æ˜¯\"ä½ ä¸å†éœ€è¦è¿™ä¸ªäº†\"ï¼Œä½†ä»å¯èƒ½è®©ä½ æªæ‰‹ä¸åŠï¼š</p>\n<ul>\n<li><code>curl_close()</code> å’Œ <code>curl_share_close()</code> å·²å¼ƒç”¨ï¼Œå› ä¸ºå¥æŸ„ä¼šè‡ªåŠ¨é‡Šæ”¾ã€‚</li>\n<li><code>imagedestroy()</code> å·²å¼ƒç”¨ï¼Œå› ä¸º GdImage ä¼šè‡ªåŠ¨é‡Šæ”¾ã€‚</li>\n<li><code>finfo_close()</code> å·²å¼ƒç”¨ï¼Œå› ä¸º finfo å¯¹è±¡ä¼šè‡ªåŠ¨é‡Šæ”¾ã€‚</li>\n<li><code>MHASH_*</code> å¸¸é‡å·²å¼ƒç”¨ã€‚</li>\n<li>PDO <code>\"uri:\"</code> DSN scheme å› å®‰å…¨åŸå› å·²å¼ƒç”¨ã€‚</li>\n</ul>\n<p>å¦‚æœä½ è¿ç»´å¤§å‹åº”ç”¨ï¼Œè¿™äº›å¾ˆé‡è¦ï¼Œå› ä¸ºå®ƒä»¬å¯èƒ½ï¼š</p>\n<ul>\n<li>æ—¥å¿—çˆ†ç‚¸ï¼ˆå™ªéŸ³ï¼‰ï¼Œ</li>\n<li>æ©ç›–çœŸæ­£çš„é”™è¯¯ï¼Œ</li>\n<li>æˆ–æŒ‡ç¤ºå€¼å¾—å®¡æŸ¥çš„å®‰å…¨æ•æ„Ÿè¡Œä¸ºï¼ˆè¿œç¨‹ URI çš„ PDO DSNï¼‰ã€‚</li>\n</ul>\n<h3 id=\"å€¼å¾—å°½æ—©æ£€æŸ¥çš„ä¸å…¼å®¹å˜æ›´\">å€¼å¾—å°½æ—©æ£€æŸ¥çš„ä¸å…¼å®¹å˜æ›´</h3>\n<p>æ¥è‡ªå®˜æ–¹åˆ—è¡¨ï¼š</p>\n<ul>\n<li><code>class_alias()</code> ä¸èƒ½å†ç”¨ \"array\" æˆ– \"callable\" ä½œä¸ºåˆ«åã€‚</li>\n<li>å¯¹è±¡åˆ°å¸ƒå°”çš„æ¾æ•£æ¯”è¾ƒè¢«ç»Ÿä¸€ä¸ºä¸ <code>(bool)$object</code> è¡Œä¸ºä¸€è‡´ã€‚</li>\n<li>Trait åœ¨çˆ¶ç±»ä¹‹å‰ç»‘å®šï¼ˆå¾®å¦™çš„è¡Œä¸ºå˜æ›´ï¼‰ã€‚</li>\n<li>æŸäº› attribute ç›®æ ‡éªŒè¯é”™è¯¯ç°åœ¨åœ¨ç¼–è¯‘æœŸå‘ç”Ÿï¼ˆæœ‰é€‰é¡¹å¯ä»¥å»¶è¿Ÿï¼‰ã€‚</li>\n</ul>\n<p>ä½ å¯èƒ½æ°¸è¿œä¸ä¼šé‡åˆ°è¿™äº›ã€‚ä½†å¦‚æœé‡åˆ°ï¼Œä½ å¸Œæœ›å®ƒä»¬åœ¨ CI ç«‹åˆ»å¤±è´¥â€”â€”è€Œä¸æ˜¯åœ¨ç”Ÿäº§ç¯å¢ƒã€‚</p>\n<h2 id=\"composer-ç­–ç•¥lock-æ–‡ä»¶å¹³å°è¦æ±‚å’Œåˆ†é˜¶æ®µæ›´æ–°\">Composer ç­–ç•¥ï¼šlock æ–‡ä»¶ã€å¹³å°è¦æ±‚å’Œåˆ†é˜¶æ®µæ›´æ–°</h2>\n<p>ä¾èµ–ç®¡ç†æ˜¯å‡çº§å‡ºé—®é¢˜çš„åœ°æ–¹ã€‚</p>\n<h3 id=\"ç†è§£-composer-åœ¨æ£€æŸ¥ä»€ä¹ˆ\">ç†è§£ Composer åœ¨æ£€æŸ¥ä»€ä¹ˆ</h3>\n<p>Composer æŠŠå½“å‰ PHP ç‰ˆæœ¬å»ºæ¨¡ä¸ºå¹³å°åŒ…ï¼ˆ<code>php</code>ï¼‰ï¼Œå¹¶æ®æ­¤æ£€æŸ¥ä½ çš„ä¾èµ–ã€‚</p>\n<p>æ‰€ä»¥ä½ æœ‰ä¸¤ä¸ªç›¸å…³çš„é—®é¢˜ï¼š</p>\n<ol>\n<li>\"æˆ‘çš„ä¾èµ–å›¾èƒ½åœ¨ PHP 8.5 ä¸Šè§£æå—ï¼Ÿ\"</li>\n<li>\"æˆ‘çš„ç”Ÿäº§ç¯å¢ƒçœŸçš„æ»¡è¶³è§£æå‡ºçš„ä¾èµ–å›¾å—ï¼Ÿ\"</li>\n</ol>\n<h3 id=\"åˆ†é˜¶æ®µæ›´æ–°ä¾èµ–ä¸è¦ä¸€æ¬¡æ€§æå®š\">åˆ†é˜¶æ®µæ›´æ–°ä¾èµ–ï¼ˆä¸è¦\"ä¸€æ¬¡æ€§æå®š\"ï¼‰</h3>\n<p>ä¸€ä¸ªå®ç”¨çš„åˆ†é˜¶æ®µæ–¹æ³•ï¼š</p>\n<p><strong>é˜¶æ®µ Aï¼šä¸æ”¹å˜è¿è¡Œæ—¶ï¼Œè§£æä¾èµ–</strong></p>\n<ul>\n<li>åœ¨å½“å‰ PHP ç‰ˆæœ¬ä¸Šæ›´æ–°ä¾èµ–ï¼ˆå¦‚æœå¯èƒ½ï¼‰ã€‚</li>\n<li>ç›®æ ‡ï¼šå‡å°‘åŒæ—¶å‡ºç°çš„æœªçŸ¥æ•°ã€‚</li>\n</ul>\n<p><strong>é˜¶æ®µ Bï¼šå‡è®¾åœ¨ PHP 8.5 ä¸Šè§£æä¾èµ–</strong></p>\n<ul>\n<li>åœ¨ <code>composer.json</code> ä¸­ç”¨ <code>config.platform.php</code> æ¨¡æ‹Ÿ PHP 8.5 è¿›è¡Œä¾èµ–è§£æï¼ˆä¸´æ—¶çš„ï¼Œåœ¨åˆ†æ”¯ä¸Šï¼‰ã€‚</li>\n<li>ç„¶åå¯æ§åœ°è¿è¡Œ <code>composer update</code>ã€‚</li>\n</ul>\n<p><strong>é˜¶æ®µ Cï¼šåœ¨çœŸå® PHP 8.5 è¿è¡Œæ—¶ä¸Šå®‰è£…</strong></p>\n<ul>\n<li>åœ¨ CI/é¢„å‘ç¯å¢ƒçš„çœŸå® 8.5 ä¸Šè¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶ã€‚</li>\n</ul>\n<h3 id=\"æ­£ç¡®ä½¿ç”¨-composer-çš„å¹³å°æ£€æŸ¥\">æ­£ç¡®ä½¿ç”¨ Composer çš„å¹³å°æ£€æŸ¥</h3>\n<ul>\n<li><code>platform-check</code> æ§åˆ¶åœ¨ Composer çš„ autoloader bootstrap ä¸­ç”Ÿæˆ <code>platform_check.php</code>ã€‚</li>\n<li><code>composer check-platform-reqs</code> éªŒè¯çœŸå®è¿è¡Œæ—¶æ˜¯å¦åŒ¹é…å·²å®‰è£…åŒ…çš„è¦æ±‚ã€‚</li>\n</ul>\n<p>æ¢å¥è¯è¯´ï¼š</p>\n<ul>\n<li>ç”¨ <code>config.platform</code> æ¥æ¨¡æ‹Ÿå’Œè§£æã€‚</li>\n<li>ç”¨ <code>check-platform-reqs</code> æ¥ç¡®ä¿ç”Ÿäº§å®é™…å…¼å®¹ã€‚</li>\n</ul>\n<h3 id=\"å‡çº§æœŸé—´ä¼šåå¤ä½¿ç”¨çš„å®‰å…¨æ›´æ–°å‘½ä»¤\">å‡çº§æœŸé—´ä¼šåå¤ä½¿ç”¨çš„å®‰å…¨æ›´æ–°å‘½ä»¤</h3>\n<p>å¸¸è§æ¨¡å¼ï¼š</p>\n<pre><code class=\"language-bash\"># ä¿å®ˆåœ°æ›´æ–°ä¾èµ–\ncomposer update --no-interaction --with-all-dependencies\n\n# ä¸¥æ ¼æŒ‰ lock æ–‡ä»¶å®‰è£…\ncomposer install --no-interaction --prefer-dist\n</code></pre>\n<p>å¦‚æœéœ€è¦è¿½æŸ¥ä¸€ä¸ªæœ‰é—®é¢˜çš„åŒ…ï¼š</p>\n<ul>\n<li>æ˜¾å¼æ›´æ–°å®ƒï¼ˆåŠ ä¾èµ–ï¼‰ï¼Œ</li>\n<li>åœ¨ CI çš„ä¸¤ä¸ªè¿è¡Œæ—¶ä¸Šé‡æ–°è¿è¡Œã€‚</li>\n</ul>\n<p>é¿å…æŠŠ\"å¿½ç•¥å¹³å°è¦æ±‚\"å½“æˆè§£å†³æ–¹æ¡ˆã€‚å®ƒèƒ½è®©ä½ æœ¬åœ°è„±å›°ï¼Œä½†ä¸æ˜¯è¿ç§»ç­–ç•¥ã€‚</p>\n<h2 id=\"éƒ¨ç½²å‰æ·»åŠ å¯è§‚æµ‹æ€§è¿™æ ·ä½ èƒ½è¯æ˜å‡çº§æ˜¯å¥åº·çš„\">éƒ¨ç½²å‰æ·»åŠ å¯è§‚æµ‹æ€§ï¼ˆè¿™æ ·ä½ èƒ½è¯æ˜å‡çº§æ˜¯å¥åº·çš„ï¼‰</h2>\n<p>å¦‚æœä¸èƒ½åº¦é‡ï¼Œå°±ä¼šäº‰è®ºã€‚</p>\n<h3 id=\"åŸºçº¿åŒ–å¥åº·çš„å«ä¹‰\">åŸºçº¿åŒ–\"å¥åº·\"çš„å«ä¹‰</h3>\n<p>åœ¨éƒ¨ç½² PHP 8.5 ä¹‹å‰ï¼Œæ•è·ï¼š</p>\n<ul>\n<li>é”™è¯¯ç‡ï¼ˆHTTP 5xx + æœªæ•è·å¼‚å¸¸ï¼‰ï¼Œ</li>\n<li>æ…¢è¯·æ±‚ç‡ï¼ˆp95/p99ï¼‰ï¼Œ</li>\n<li>å†…å­˜ä½¿ç”¨è¶‹åŠ¿ï¼ˆFPM workerï¼‰ï¼Œ</li>\n<li>é˜Ÿåˆ—å»¶è¿Ÿï¼ˆå¦‚æœä½ è·‘ workerï¼‰ï¼Œ</li>\n<li>æ—¥å¿—é‡ï¼ˆå°¤å…¶æ˜¯è­¦å‘Š/å¼ƒç”¨ï¼‰ã€‚</li>\n</ul>\n<h3 id=\"ä¸´æ—¶å¢åŠ æ—¥å¿—ä¿¡å·ä½†ä¸è¦è®©æ—¥å¿—å˜æˆåƒåœ¾åœº\">ä¸´æ—¶å¢åŠ æ—¥å¿—ä¿¡å·ï¼ˆä½†ä¸è¦è®©æ—¥å¿—å˜æˆåƒåœ¾åœºï¼‰</h3>\n<p>åœ¨å‡çº§çª—å£æœŸé—´ï¼ŒåŠ ä¸€ä¸ªçŸ­æœŸçš„\"å‡çº§è§†è§’\"æ˜¯åˆç†çš„ï¼š</p>\n<ul>\n<li>åœ¨è¿›ç¨‹å¯åŠ¨æ—¶è®°å½• PHP ç‰ˆæœ¬ï¼ˆFPM/CLI workerï¼‰ï¼Œ</li>\n<li>ç»™é”™è¯¯æ‰“ä¸Šè¿è¡Œæ—¶æ ‡ç­¾ï¼ˆæ—§ç‰ˆ vs 8.5ï¼‰ï¼Œ</li>\n<li>æŒ‰ç«¯ç‚¹/worker ç±»å‹ç»Ÿè®¡å¼ƒç”¨æ•°é‡ã€‚</li>\n</ul>\n<p>åœ¨ PHP ä¸­ï¼Œä½ å¯ä»¥åœ¨å‰ç«¯æ§åˆ¶å™¨ï¼ˆæˆ–æ¡†æ¶ bootstrapï¼‰é‡Œä¸ºé¢„å‘ç¯å¢ƒæ·»åŠ ä¸€ä¸ªæœ€å°çš„é”™è¯¯å¤„ç†å™¨ï¼š</p>\n<pre><code class=\"language-php\">set_error_handler(static function (int $severity, string $message, string $file, int $line): bool {\n    if (!(error_reporting() &amp; $severity)) {\n        return false;\n    }\n    // ç¤ºä¾‹ï¼šæŠŠå¼ƒç”¨/è­¦å‘Šè·¯ç”±åˆ°ä¸“ç”¨ logger channel\n    if ($severity === E_DEPRECATED || $severity === E_USER_DEPRECATED) {\n        error_log(\"[DEPRECATED] {$message} in {$file}:{$line}\");\n        return true; // å·²å¤„ç†\n    }\n    return false; // è®©æ­£å¸¸å¤„ç†å™¨è¿è¡Œ\n});\n</code></pre>\n<p>ä¿æŒä¸´æ—¶æ€§ã€‚ç›®æ ‡æ˜¯ä¸Šçº¿æœŸé—´çš„æ¸…æ™°åº¦ï¼Œä¸æ˜¯ä¸€ä¸ªæ°¸ä¹…çš„è‡ªå®šä¹‰é”™è¯¯æ¡†æ¶ã€‚</p>\n<h3 id=\"ç¡®ä¿ç»•è¿‡å¤„ç†å™¨çš„è­¦å‘Šä¸ä¼šè®©ä½ æªæ‰‹ä¸åŠ\">ç¡®ä¿\"ç»•è¿‡å¤„ç†å™¨çš„è­¦å‘Š\"ä¸ä¼šè®©ä½ æªæ‰‹ä¸åŠ</h3>\n<p>PHP 8.5 å¼ƒç”¨äº†åœ¨ç”¨æˆ·è¾“å‡ºå¤„ç†å™¨å†…éƒ¨äº§ç”Ÿè¾“å‡ºçš„è¡Œä¸ºï¼Œå¹¶æŒ‡å‡ºè­¦å‘Šä¼šç»•è¿‡å¤„ç†å™¨ä»¥ç¡®ä¿å¯è§æ€§ã€‚</p>\n<p>å¦‚æœä½ åšè‡ªå®šä¹‰è¾“å‡ºç¼“å†²çš„éªšæ“ä½œï¼Œåœ¨é¢„å‘ç¯å¢ƒç”¨çœŸå®æµé‡æ¨¡å¼æµ‹è¯•å®ƒä»¬ã€‚</p>\n<h2 id=\"ä¸Šçº¿ç­–ç•¥é‡‘ä¸é›€æˆ–è“ç»¿éƒ¨ç½²åŠ ä¸Šå®é™…èƒ½ç”¨çš„å›æ»š\">ä¸Šçº¿ç­–ç•¥ï¼šé‡‘ä¸é›€æˆ–è“ç»¿éƒ¨ç½²ï¼ŒåŠ ä¸Šå®é™…èƒ½ç”¨çš„å›æ»š</h2>\n<p>è¿™æ˜¯è¿ç»´å‡çº§æˆè´¥çš„å…³é”®ã€‚</p>\n<h3 id=\"é‡‘ä¸é›€åŸºç¡€æœ€å°å¯è¡Œçš„å®‰å…¨ä¸Šçº¿\">é‡‘ä¸é›€åŸºç¡€ï¼ˆæœ€å°å¯è¡Œçš„å®‰å…¨ä¸Šçº¿ï¼‰</h3>\n<ol>\n<li>å…ˆæŠŠ PHP 8.5 éƒ¨ç½²åˆ°å°æ¯”ä¾‹çš„æµé‡ã€‚</li>\n<li>å¯¹æ¯”é”™è¯¯ç‡å’Œå»¶è¿Ÿä¸åŸºçº¿ã€‚</li>\n<li>ä¿æŒé‡‘ä¸é›€è¶³å¤Ÿé•¿çš„æ—¶é—´ä»¥è¦†ç›–çœŸå®ä¸šåŠ¡æµç¨‹ï¼ˆä¸åªæ˜¯å¥åº·æ£€æŸ¥ï¼‰ã€‚</li>\n</ol>\n<p>å®ç°å–å†³äºä½ çš„æŠ€æœ¯æ ˆï¼š</p>\n<ul>\n<li>è´Ÿè½½å‡è¡¡å™¨åé¢çš„ä¸¤ä¸ª FPM poolï¼Œ</li>\n<li>Kubernetes deployment åŠ æƒé‡è·¯ç”±ï¼Œ</li>\n<li>ä¸¤ä¸ª ASG / ä¸¤ä¸ª service åŠ æ¸è¿›æµé‡åˆ‡æ¢ã€‚</li>\n</ul>\n<h3 id=\"è“ç»¿éƒ¨ç½²é€‚åˆå¤§çˆ†ç‚¸å¼ç»„ç»‡\">è“ç»¿éƒ¨ç½²é€‚åˆ\"å¤§çˆ†ç‚¸\"å¼ç»„ç»‡</h3>\n<p>å¦‚æœä½ çš„ç»„ç»‡åå¥½ç¡¬åˆ‡æ¢ï¼š</p>\n<ul>\n<li>ä¿æŒæ–°æ—§ç¯å¢ƒéƒ½åœ¨çº¿ï¼Œ</li>\n<li>åˆ‡æ¢æµé‡ï¼Œ</li>\n<li>ä¿æŒæ—§ç¯å¢ƒçƒ­å¤‡ä»¥ä¾¿å¿«é€Ÿå›æ»šã€‚</li>\n</ul>\n<h3 id=\"å›æ»šè®¡åˆ’å¿…é¡»åŒ…å«ä¾èµ–å’Œç¼“å­˜\">å›æ»šè®¡åˆ’å¿…é¡»åŒ…å«ä¾èµ–å’Œç¼“å­˜</h3>\n<p>å›æ»šä¸åªæ˜¯\"æŒ‡å›æ—§çš„ PHP äºŒè¿›åˆ¶\"ã€‚</p>\n<p>å›æ»šç°å®æ€§æ£€æŸ¥æ¸…å•ï¼š</p>\n<ul>\n<li>ä¿ç•™ä¹‹å‰çš„å®¹å™¨é•œåƒï¼ˆæˆ–åŒ…ï¼‰ã€‚</li>\n<li>ä¿ç•™ä¹‹å‰çš„ <code>composer.lock</code> åˆ¶å“ã€‚</li>\n<li>çŸ¥é“åˆ‡æ¢è¿è¡Œæ—¶æ—¶ opcache/APCu æˆ–æ¡†æ¶ç¼“å­˜æ˜¯å¦éœ€è¦æ¸…ç†ã€‚</li>\n<li>ç¡®ä¿æ•°æ®åº“è¿ç§»æ˜¯å‘åå…¼å®¹çš„ï¼ˆæˆ–æ˜ç¡®æ’é™¤åœ¨å‡çº§èŒƒå›´å¤–ï¼‰ã€‚</li>\n</ul>\n<p>å¦‚æœå›æ»šéœ€è¦ä¸‰ä¸ªäººå’Œä¸€ä»½ wiki é¡µé¢ï¼Œåœ¨å‹åŠ›ä¸‹å®ƒä¼šå¤±è´¥ã€‚</p>\n<h2 id=\"å‡çº§åæ£€æŸ¥æ¸…å•å…ˆéªŒè¯æ­£ç¡®æ€§å†éªŒè¯æ€§èƒ½ç„¶åæ¸…ç†\">å‡çº§åæ£€æŸ¥æ¸…å•ï¼šå…ˆéªŒè¯æ­£ç¡®æ€§ï¼Œå†éªŒè¯æ€§èƒ½ï¼Œç„¶åæ¸…ç†</h2>\n<p>ä¸€æ—¦ PHP 8.5 å¼€å§‹æœåŠ¡çœŸå®æµé‡ï¼Œä½ çš„å·¥ä½œè¿˜æ²¡å®Œã€‚ç°åœ¨è¿›å…¥\"éªŒè¯å’Œç¨³å®š\"æ¨¡å¼ã€‚</p>\n<h3 id=\"å³æ—¶æ£€æŸ¥ç¬¬ä¸€å°æ—¶\">å³æ—¶æ£€æŸ¥ï¼ˆç¬¬ä¸€å°æ—¶ï¼‰</h3>\n<ul>\n<li>æ‰«æé”™è¯¯æ—¥å¿—æŸ¥æ‰¾æ–°çš„è‡´å‘½é”™è¯¯/å¼‚å¸¸ã€‚</li>\n<li>è§‚å¯Ÿæ—¥å¿—é‡æ˜¯å¦çªç„¶å¢é•¿ï¼ˆé€šå¸¸æ˜¯å¼ƒç”¨ï¼‰ã€‚</li>\n<li>åœ¨ç”Ÿäº§ä¸»æœºä¸ŠéªŒè¯ <code>composer check-platform-reqs</code>ã€‚</li>\n<li>ç”¨åˆæˆæ£€æŸ¥éªŒè¯æ ¸å¿ƒæµç¨‹ï¼ˆç™»å½•ã€ç»“è´¦ã€ä¸Šä¼ ã€å®šæ—¶ä»»åŠ¡ç«¯ç‚¹ï¼‰ã€‚</li>\n</ul>\n<h3 id=\"é¦–æ—¥æ£€æŸ¥\">é¦–æ—¥æ£€æŸ¥</h3>\n<ul>\n<li>å¯¹æ¯” p95/p99 å»¶è¿Ÿä¸åŸºçº¿ã€‚</li>\n<li>æ£€æŸ¥å†…å­˜ä½¿ç”¨ï¼š\n<ul>\n<li>FPM worker RSS å¢é•¿ï¼Œ</li>\n<li>worker å›æ”¶é¢‘ç‡ï¼Œ</li>\n<li>é˜Ÿåˆ— worker å†…å­˜æ³„æ¼ã€‚</li>\n</ul>\n</li>\n<li>éªŒè¯åå°ä»»åŠ¡ï¼š\n<ul>\n<li>worker åœ¨æ–°è¿è¡Œæ—¶ä¸Šå·²é‡å¯ï¼Œ</li>\n<li>æ²¡æœ‰\"å¡ä½\"çš„é˜Ÿåˆ—ï¼Œ</li>\n<li>æ²¡æœ‰é™é»˜å¤±è´¥ã€‚</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"é¦–å‘¨æ¸…ç†\">é¦–å‘¨æ¸…ç†</h3>\n<ul>\n<li>ç§»é™¤ä½ ä¸ºä¸Šçº¿è§†è§’æ·»åŠ çš„ä¸´æ—¶é¢å¤–æ—¥å¿—ã€‚</li>\n<li>æŠŠé«˜é¢‘å¼ƒç”¨è½¬æˆè·Ÿè¸ªçš„å·¥å•å¹¶é€æ­¥æ¶ˆç­ã€‚</li>\n<li>å†æ¬¡æ”¶ç´§ CIï¼š\n<ul>\n<li>æé«˜å¼ƒç”¨çš„æ ‡å‡†ï¼Œ</li>\n<li>ç¡®è®¤ç¨³å®šåä»çŸ©é˜µä¸­ç§»é™¤æ—§ PHP ç‰ˆæœ¬ã€‚</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"å…³äº-php-85-ç‰¹æ€§çš„å¿«é€Ÿå…¼å®¹æ€§è¯´æ˜ä¸å±•å¼€æ•™ç¨‹\">å…³äº PHP 8.5 ç‰¹æ€§çš„å¿«é€Ÿå…¼å®¹æ€§è¯´æ˜ï¼ˆä¸å±•å¼€æ•™ç¨‹ï¼‰</h2>\n<p>PHP 8.5 å¼•å…¥äº†æ–°çš„è¯­è¨€å’Œè¿è¡Œæ—¶ç‰¹æ€§ï¼Œå¦‚ç®¡é“æ“ä½œç¬¦ã€URI æ‰©å±•ã€clone-with ç­‰ã€‚</p>\n<p>å‡çº§æœŸé—´ä¸éœ€è¦é‡‡ç”¨å®ƒä»¬ã€‚ä½†ä½ åº”è¯¥ï¼š</p>\n<ul>\n<li>ç¡®ä¿ä½ çš„ linter/formatter è¯†åˆ« PHP 8.5 è¯­æ³•ï¼Œ</li>\n<li>ç¡®ä¿ CI åœ¨ PHP 8.5 ä¸Šè¿è¡Œåå†åˆå¹¶ä»»ä½• 8.5 ä¸“å±è¯­æ³•ï¼Œ</li>\n<li>æŠŠç‰¹æ€§é‡‡ç”¨å’Œè¿è¡Œæ—¶è¿ç§»åˆ†å¼€ï¼ˆèŒƒå›´æ§åˆ¶ï¼‰ã€‚</li>\n</ul>\n<h2 id=\"ç»“è®ºæŠŠå‡çº§å½“éƒ¨ç½²æ¥å¯¹å¾…å°±ä¼šé¡ºåˆ©\">ç»“è®ºï¼šæŠŠå‡çº§å½“éƒ¨ç½²æ¥å¯¹å¾…ï¼Œå°±ä¼šé¡ºåˆ©</h2>\n<p>å‡çº§åˆ° PHP 8.5 é€šå¸¸ä¸æ˜¯\"é‡å†™\"é—®é¢˜ã€‚æ˜¯çºªå¾‹é—®é¢˜ï¼š</p>\n<ul>\n<li>å®šä¹‰èŒƒå›´ï¼Œ</li>\n<li>å®¡è®¡çœŸå®å¹³å°ï¼Œ</li>\n<li>è¿è¡Œ CI çŸ©é˜µï¼Œ</li>\n<li>ç³»ç»Ÿåœ°åˆ†ç±»å¼ƒç”¨å’Œä¸å…¼å®¹ï¼Œ</li>\n<li>æœ‰æ„è¯†åœ°ç®¡ç†ä¾èµ–ï¼Œ</li>\n<li>ä¸Šçº¿å‰æ·»åŠ å¯è§‚æµ‹æ€§ï¼Œ</li>\n<li>å¸¦ç€ç­–ç•¥å’Œå›æ»šè·¯å¾„éƒ¨ç½²ï¼Œ</li>\n<li>åˆ‡æ¢åéªŒè¯å’Œç¨³å®šã€‚</li>\n</ul>\n<p>å¦‚æœä½ éµå¾ªè¿™ä¸ªé¡ºåºï¼ŒPHP å‡çº§å°±ä¸å†å¯æ€•â€”â€”å®ƒåªæ˜¯å¦ä¸€ä¸ªå¸¸è§„çš„è¿ç»´å˜æ›´ã€‚</p>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-14 07:43</span>&nbsp;\n<a href=\"https://www.cnblogs.com/catchadmin\">JaguarJack</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">138</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "LangChainã€LangFlowã€LangGraphï¼šä¸€æ–‡è®²æ¸…ä¸‰å¤§ LLM æ¡†æ¶çš„å®šä½ä¸å·®å¼‚",
      "link": "https://www.cnblogs.com/jyzhao/p/19479470/langchainlangflowlanggraph-yi-wen-jiang-qing-san-d",
      "published": "",
      "description": "<a name=\"top\"></a>\n    <h2><a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/jyzhao/p/19479470/langchainlangflowlanggraph-yi-wen-jiang-qing-san-d\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-13 23:25\">\n    <span>LangChainã€LangFlowã€LangGraphï¼šä¸€æ–‡è®²æ¸…ä¸‰å¤§ LLM æ¡†æ¶çš„å®šä½ä¸å·®å¼‚</span>\n    \n\n</a>\n</h2>\n    <small>\n<span id=\"post-date\">2026-01-13 23:25</span>&nbsp;\n<a href=\"https://www.cnblogs.com/jyzhao\">AlfredZhao</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">314</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">1</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</small>\n    <div class=\"entry\">\n        <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<p>éšç€å¤§æ¨¡å‹ï¼ˆLLMï¼‰è¿›å…¥å·¥ç¨‹åŒ–è½åœ°é˜¶æ®µï¼Œ<strong>â€œå¦‚ä½•æŠŠæ¨¡å‹å˜æˆçœŸæ­£å¯ç”¨çš„åº”ç”¨â€</strong> æˆäº†å¾ˆå¤šä»ä¸šè€…ç»•ä¸å¼€çš„é—®é¢˜ã€‚<br />\nå›´ç»•è¿™ä¸ªç›®æ ‡ï¼Œç¤¾åŒºé‡Œé€æ¸å½¢æˆäº†ä¸€æ‰¹æˆç†Ÿçš„å¼€æºæ¡†æ¶ï¼Œå…¶ä¸­è¢«è®¨è®ºæœ€å¤šçš„å°±æ˜¯ <strong>LangChainã€LangFlowã€LangGraph</strong>ã€‚</p>\n<p>å®ƒä»¬åå­—ç›¸ä¼¼ï¼Œä½†<strong>è§£å†³çš„é—®é¢˜å¹¶ä¸ç›¸åŒ</strong>ã€‚æœ¬æ–‡ç¬”è€…å°†åŸºäºå®˜æ–¹æ–‡æ¡£ä¸å¼€æºå®è·µï¼Œä»<strong>å®šä½ã€èƒ½åŠ›ã€ä½¿ç”¨åœºæ™¯å’Œå·®å¼‚</strong>å‡ ä¸ªè§’åº¦ï¼Œå¸®ä½ ä¸€æ¬¡æ€§ç†æ¸…ã€‚</p>\n<hr />\n<h2 id=\"01--langchainllm-åº”ç”¨çš„åŸºç¡€è®¾æ–½å±‚\">01 | LangChainï¼šLLM åº”ç”¨çš„â€œåŸºç¡€è®¾æ–½å±‚â€</h2>\n<h3 id=\"-langchain-æ˜¯ä»€ä¹ˆ\">â‘  LangChain æ˜¯ä»€ä¹ˆï¼Ÿ</h3>\n<p>LangChain æ˜¯ä¸€ä¸ª<strong>ç”¨äºæ„å»º LLM åº”ç”¨çš„é€šç”¨æ¡†æ¶</strong>ï¼Œæ ¸å¿ƒç›®æ ‡åªæœ‰ä¸€å¥è¯ï¼š</p>\n<blockquote>\n<p>æŠŠã€Œå¤§æ¨¡å‹ + å¤–éƒ¨å·¥å…· + æ•°æ®æº + Promptã€ç³»ç»ŸåŒ–åœ°ç»„ç»‡èµ·æ¥ã€‚</p>\n</blockquote>\n<p>å®ƒå¹¶ä¸æ˜¯ä¸€ä¸ªâ€œäº§å“â€ï¼Œè€Œæ˜¯ä¸€å¥— <strong>å¼€å‘èŒƒå¼å’Œç»„ä»¶åº“</strong>ã€‚</p>\n<hr />\n<h3 id=\"-langchain-è§£å†³ä»€ä¹ˆé—®é¢˜\">â‘¡ LangChain è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h3>\n<p>åœ¨æ²¡æœ‰ LangChain ä¹‹å‰ï¼Œå¼€å‘è€…é€šå¸¸éœ€è¦è‡ªå·±å¤„ç†ï¼š</p>\n<ul>\n<li>Prompt æ‹¼æ¥</li>\n<li>æ¨¡å‹è°ƒç”¨</li>\n<li>ä¸Šä¸‹æ–‡ç®¡ç†</li>\n<li>å·¥å…·è°ƒç”¨ï¼ˆSQLã€æœç´¢ã€APIï¼‰</li>\n<li>RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰</li>\n</ul>\n<p>LangChain æŠŠè¿™äº›æŠ½è±¡æˆäº†æ ‡å‡†ç»„ä»¶ï¼Œä¾‹å¦‚ï¼š</p>\n<ul>\n<li>LLM / ChatModel</li>\n<li>PromptTemplate</li>\n<li>Chain</li>\n<li>Tool / Agent</li>\n<li>Memory</li>\n</ul>\n<hr />\n<h3 id=\"-å…¸å‹åº”ç”¨åœºæ™¯\">â‘¢ å…¸å‹åº”ç”¨åœºæ™¯</h3>\n<ul>\n<li>RAG é—®ç­”ç³»ç»Ÿ</li>\n<li>NL2SQL</li>\n<li>AI åŠ©æ‰‹ / Copilot</li>\n<li>å·¥å…·å‹ Agent</li>\n</ul>\n<p><strong>ä¸€å¥è¯æ€»ç»“</strong>ï¼š<br />\n<strong>LangChain = å†™ LLM åº”ç”¨çš„â€œåç«¯å¼€å‘æ¡†æ¶â€</strong></p>\n<hr />\n<h2 id=\"02--langflowlangchain-çš„å¯è§†åŒ–ä½ä»£ç å…¥å£\">02 | LangFlowï¼šLangChain çš„å¯è§†åŒ–â€œä½ä»£ç å…¥å£â€</h2>\n<h3 id=\"-langflow-æ˜¯ä»€ä¹ˆ\">â‘  LangFlow æ˜¯ä»€ä¹ˆï¼Ÿ</h3>\n<p>LangFlow æ˜¯ä¸€ä¸ª <strong>åŸºäº LangChain çš„å¯è§†åŒ–ç¼–æ’å·¥å…·</strong>ã€‚</p>\n<p>ä½ å¯ä»¥ç†è§£ä¸ºï¼š</p>\n<blockquote>\n<p>ç”¨â€œæ‹–æ‹½æµç¨‹å›¾â€çš„æ–¹å¼æ¥æ­ LangChain åº”ç”¨ã€‚</p>\n</blockquote>\n<p>å®ƒæœ¬è´¨ä¸Šæ˜¯ï¼š</p>\n<ul>\n<li>å‰ç«¯å¯è§†åŒ–</li>\n<li>åç«¯ä»ç„¶è¿è¡Œ LangChain é€»è¾‘</li>\n</ul>\n<hr />\n<h3 id=\"-langflow-çš„æ ¸å¿ƒä»·å€¼\">â‘¡ LangFlow çš„æ ¸å¿ƒä»·å€¼</h3>\n<p>LangFlow å¹¶æ²¡æœ‰å¼•å…¥æ–°çš„æ¨¡å‹èƒ½åŠ›ï¼Œå®ƒçš„ä¼˜åŠ¿åœ¨äºï¼š</p>\n<ul>\n<li><strong>é™ä½å­¦ä¹ é—¨æ§›</strong></li>\n<li>å¿«é€ŸåŸå‹éªŒè¯</li>\n<li>Prompt / Chain å¯è§†åŒ–è°ƒè¯•</li>\n</ul>\n<p>å¯¹ä¸ç†Ÿæ‚‰ Python æˆ–åˆšæ¥è§¦ LLM çš„äººéå¸¸å‹å¥½ã€‚</p>\n<hr />\n<h3 id=\"-å…¸å‹åº”ç”¨åœºæ™¯-1\">â‘¢ å…¸å‹åº”ç”¨åœºæ™¯</h3>\n<ul>\n<li>äº§å“ç»ç† / å’¨è¯¢é¡¾é—®åš Demo</li>\n<li>Prompt è°ƒä¼˜ä¸æµç¨‹éªŒè¯</li>\n<li>æ•™å­¦ä¸åˆ†äº«æ¼”ç¤º</li>\n<li>å°å‹ PoC é¡¹ç›®</li>\n</ul>\n<p><strong>ä¸€å¥è¯æ€»ç»“</strong>ï¼š<br />\n<strong>LangFlow = LangChain çš„â€œå¯è§†åŒ–æ“ä½œå°â€</strong></p>\n<hr />\n<h2 id=\"03--langgraphä¸ºå¤æ‚-agent-è€Œç”Ÿçš„çŠ¶æ€æœºæ¡†æ¶\">03 | LangGraphï¼šä¸ºå¤æ‚ Agent è€Œç”Ÿçš„â€œçŠ¶æ€æœºæ¡†æ¶â€</h2>\n<h3 id=\"-langgraph-æ˜¯ä»€ä¹ˆ\">â‘  LangGraph æ˜¯ä»€ä¹ˆï¼Ÿ</h3>\n<p>LangGraph æ˜¯ LangChain å®˜æ–¹æ¨å‡ºçš„ä¸€ä¸ª<strong>æ–°æ¡†æ¶</strong>ï¼Œä¸“é—¨è§£å†³ä¸€ä¸ªé—®é¢˜ï¼š</p>\n<blockquote>\n<p>å½“ Agent é€»è¾‘å˜å¤æ‚ï¼ŒChain å·²ç»ä¸å¤Ÿç”¨äº†ï¼Œæ€ä¹ˆåŠï¼Ÿ</p>\n</blockquote>\n<p>LangGraph å¼•å…¥çš„æ˜¯ï¼š</p>\n<ul>\n<li><strong>Graphï¼ˆå›¾ï¼‰</strong></li>\n<li><strong>Stateï¼ˆçŠ¶æ€ï¼‰</strong></li>\n<li><strong>èŠ‚ç‚¹ + è¾¹ + å¾ªç¯</strong></li>\n</ul>\n<p>æœ¬è´¨ä¸Šæ˜¯ï¼š<br />\n<strong>æŠŠ LLM Agent å½“æˆä¸€ä¸ªâ€œæœ‰çŠ¶æ€çš„å·¥ä½œæµ/çŠ¶æ€æœºâ€æ¥å»ºæ¨¡</strong>ã€‚</p>\n<hr />\n<h3 id=\"-langgraph-ä¸ºä»€ä¹ˆå‡ºç°\">â‘¡ LangGraph ä¸ºä»€ä¹ˆå‡ºç°ï¼Ÿ</h3>\n<p>åœ¨çœŸå®é¡¹ç›®ä¸­ï¼ŒAgent å¾€å¾€éœ€è¦ï¼š</p>\n<ul>\n<li>å¤šè½®å†³ç­–</li>\n<li>æ¡ä»¶åˆ†æ”¯</li>\n<li>å›é€€ / é‡è¯•</li>\n<li>äººå·¥ä»‹å…¥ï¼ˆHuman-in-the-loopï¼‰</li>\n</ul>\n<p>è¿™äº›ç”¨ä¼ ç»Ÿ Chain éå¸¸åˆ«æ‰­ï¼Œè€Œ LangGraph å¤©ç„¶æ”¯æŒï¼š</p>\n<ul>\n<li>å¾ªç¯</li>\n<li>åˆ†æ”¯</li>\n<li>å¹¶è¡Œ</li>\n<li>å¯æ¢å¤æ‰§è¡Œ</li>\n</ul>\n<hr />\n<h3 id=\"-å…¸å‹åº”ç”¨åœºæ™¯-2\">â‘¢ å…¸å‹åº”ç”¨åœºæ™¯</h3>\n<ul>\n<li>å¤š Agent åä½œç³»ç»Ÿ</li>\n<li>å¤æ‚ä¸šåŠ¡æµç¨‹è‡ªåŠ¨åŒ–</li>\n<li>é•¿ä»»åŠ¡ AI åŠ©æ‰‹</li>\n<li>éœ€è¦â€œå¯æ§è¡Œä¸ºâ€çš„æ™ºèƒ½ä½“</li>\n</ul>\n<p><strong>ä¸€å¥è¯æ€»ç»“</strong>ï¼š<br />\n<strong>LangGraph = é¢å‘å¤æ‚ Agent çš„â€œæµç¨‹ä¸çŠ¶æ€æ§åˆ¶å±‚â€</strong></p>\n<hr />\n<h2 id=\"04--ä¸‰è€…æ ¸å¿ƒå·®å¼‚ä¸€å›¾è¯»æ‡‚\">04 | ä¸‰è€…æ ¸å¿ƒå·®å¼‚ä¸€å›¾è¯»æ‡‚</h2>\n<table>\n<thead>\n<tr>\n<th>ç»´åº¦</th>\n<th>LangChain</th>\n<th>LangFlow</th>\n<th>LangGraph</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>æ ¸å¿ƒå®šä½</td>\n<td>LLM åº”ç”¨æ¡†æ¶</td>\n<td>å¯è§†åŒ–ç¼–æ’å·¥å…·</td>\n<td>Agent çŠ¶æ€æœºæ¡†æ¶</td>\n</tr>\n<tr>\n<td>æŠ½è±¡æ¨¡å‹</td>\n<td>Chain / Agent</td>\n<td>Flow</td>\n<td>Graph / State</td>\n</tr>\n<tr>\n<td>ä½¿ç”¨æ–¹å¼</td>\n<td>å†™ä»£ç </td>\n<td>æ‹–æµç¨‹</td>\n<td>å†™å›¾ç»“æ„ä»£ç </td>\n</tr>\n<tr>\n<td>é€‚åˆäººç¾¤</td>\n<td>å·¥ç¨‹å¸ˆ</td>\n<td>åˆå­¦è€… / äº§å“</td>\n<td>é«˜çº§å·¥ç¨‹å¸ˆ</td>\n</tr>\n<tr>\n<td>å¤æ‚é€»è¾‘</td>\n<td>ä¸€èˆ¬</td>\n<td>ä¸€èˆ¬</td>\n<td>éå¸¸å¼º</td>\n</tr>\n</tbody>\n</table>\n<hr />\n<h2 id=\"05--åº”è¯¥å¦‚ä½•é€‰æ‹©\">05 | åº”è¯¥å¦‚ä½•é€‰æ‹©ï¼Ÿ</h2>\n<p>ç¬”è€…ç»™ä½ ä¸€ä¸ª<strong>ä¸è¸©å‘çš„é€‰æ‹©å»ºè®®</strong>ï¼š</p>\n<ul>\n<li><strong>æƒ³ç³»ç»Ÿåš LLM åº”ç”¨</strong> â†’ å…ˆå­¦ <strong>LangChain</strong></li>\n<li><strong>æƒ³å¿«é€Ÿå‡º Demo / å­¦æ¦‚å¿µ</strong> â†’ ç”¨ <strong>LangFlow</strong></li>\n<li><strong>Agent é€»è¾‘å¼€å§‹å˜å¤æ‚</strong> â†’ ä¸Š <strong>LangGraph</strong></li>\n</ul>\n<p>ç°å®é¡¹ç›®ä¸­ï¼Œ<strong>ä¸‰è€…æ˜¯å¯ä»¥ç»„åˆä½¿ç”¨çš„</strong>ï¼š</p>\n<blockquote>\n<p>LangFlow ç”»æµç¨‹ â†’ LangChain è½ä»£ç  â†’ LangGraph æ§å¤æ‚æ§åˆ¶</p>\n</blockquote>\n<hr />\n<h2 id=\"06--å†™åœ¨æœ€å\">06 | å†™åœ¨æœ€å</h2>\n<p>LangChain ç”Ÿæ€çš„æ¼”è¿›ï¼Œæœ¬è´¨ä¸Šåæ˜ äº†ä¸€ä»¶äº‹ï¼š</p>\n<blockquote>\n<p>LLM åº”ç”¨ï¼Œæ­£åœ¨ä»â€œPrompt å·¥ç¨‹â€ï¼Œèµ°å‘çœŸæ­£çš„è½¯ä»¶å·¥ç¨‹ã€‚</p>\n</blockquote>\n<p>ç†è§£è¿™ä¸‰è€…çš„è¾¹ç•Œï¼Œæ¯”æ­»è®° API æ›´é‡è¦ã€‚<br />\nå¦‚æœä½ æ­£åœ¨åš <strong>RAGã€NL2SQLã€AI Agent</strong>ï¼Œè¿™å¥—è®¤çŸ¥å‡ ä¹æ˜¯ç»•ä¸å¼€çš„åŸºç¡€ã€‚</p>\n<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« ï¼Œèƒ½å¸®ä½ å°‘èµ°ä¸€äº›å¼¯è·¯ã€‚</p>\n\n</div>\n<div id=\"MySignature\">\n    <a href=\"https://www.cnblogs.com/jyzhao/\" target=\"_blank\">AlfredZhao</a>Â©ç‰ˆæƒæ‰€æœ‰ã€Œä»Oracleèµ·èˆªï¼Œé¢†ç•¥ç²¾å½©çš„ITæŠ€æœ¯ã€‚ã€<br />\nè½¬è½½è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼š<a href=\"https://www.cnblogs.com/jyzhao/p/19479470/langchainlangflowlanggraph-yi-wen-jiang-qing-san-d\" target=\"_blank\">https://www.cnblogs.com/jyzhao/p/19479470/langchainlangflowlanggraph-yi-wen-jiang-qing-san-d</a>\n<hr />\n<div style=\"text-align: center; margin-top: 30px;\">\n  <p style=\"font-size: 14px; color: #555;\">\n    ğŸ‘‹ æ„Ÿè°¢é˜…è¯»ï¼Œæ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å· <b>ã€Œèµµé–å®‡ã€</b>\n  </p>\n  <img src=\"https://images.cnblogs.com/cnblogs_com/jyzhao/824234/o_250208075013_qrcode-zjy.jpg\" style=\"border: 1px solid #ddd; border-radius: 8px;\" width=\"160\" />\n</div>\n</div>\n<div class=\"clear\"></div>\n\n        <div class=\"clear\"></div>\n        \n</div>\n    <ul class=\"postmetadata\">\n        \n    </ul>"
    },
    {
      "title": "å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨‹äº”ï¼šè‡ªç„¶è¯­è¨€å¤„ç†  ç¬¬ä¸€å‘¨ï¼šå¾ªç¯ç¥ç»ç½‘ç»œ ï¼ˆä¸ƒï¼‰åŒå‘ RNN ä¸æ·±å±‚ RNN",
      "link": "https://www.cnblogs.com/Goblinscholar/p/19479253",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/Goblinscholar/p/19479253\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-13 22:37\">\n    <span>å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨‹äº”ï¼šè‡ªç„¶è¯­è¨€å¤„ç†  ç¬¬ä¸€å‘¨ï¼šå¾ªç¯ç¥ç»ç½‘ç»œ ï¼ˆä¸ƒï¼‰åŒå‘ RNN ä¸æ·±å±‚ RNN</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<p>æ­¤åˆ†ç±»ç”¨äºè®°å½•å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨‹çš„å­¦ä¹ ç¬”è®°ã€‚<br />\nè¯¾ç¨‹ç›¸å…³ä¿¡æ¯é“¾æ¥å¦‚ä¸‹ï¼š</p>\n<ol>\n<li>åŸè¯¾ç¨‹è§†é¢‘é“¾æ¥ï¼š<a href=\"https://www.bilibili.com/video/BV1FT4y1E74V?buvid=XU762317353676D786954061C192FE625463B&amp;from_spmid=playlist.playlist-detail.0.0&amp;is_story_h5=false&amp;mid=zqernykrmpf7XfIorMR%2FnA%3D%3D&amp;plat_id=116&amp;share_from=ugc&amp;share_medium=android&amp;share_plat=android&amp;share_session_id=ce0bc526-db69-428a-962e-c65ed8c267bc&amp;share_source=COPY&amp;share_tag=s_i&amp;spmid=united.player-video-detail.0.0&amp;timestamp=1713085655&amp;unique_k=DfBgvFW&amp;up_id=8654113&amp;vd_source=e035e9878d32f414b4354b839a4c31a4\" rel=\"noopener nofollow\" target=\"_blank\">[åŒè¯­å­—å¹•]å´æ©è¾¾æ·±åº¦å­¦ä¹ deeplearning.ai</a></li>\n<li>githubè¯¾ç¨‹èµ„æ–™ï¼Œå«è¯¾ä»¶ä¸ç¬”è®°:<a href=\"https://github.com/robbertliu/deeplearning.ai-andrewNG\" rel=\"noopener nofollow\" target=\"_blank\">å´æ©è¾¾æ·±åº¦å­¦ä¹ æ•™å­¦èµ„æ–™</a></li>\n<li>è¯¾ç¨‹é…å¥—ç»ƒä¹ ï¼ˆä¸­è‹±ï¼‰ä¸ç­”æ¡ˆï¼š<a href=\"https://blog.csdn.net/u013733326/article/details/79827273\" rel=\"noopener nofollow\" target=\"_blank\">å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾åä¹ é¢˜ä¸ç­”æ¡ˆ</a></li>\n</ol>\n<p>æœ¬ç¯‡ä¸ºç¬¬äº”è¯¾çš„ç¬¬ä¸€å‘¨å†…å®¹ï¼Œ<a href=\"https://www.bilibili.com/video/BV1FT4y1E74V?spm_id_from=333.788.videopod.episodes&amp;vd_source=e035e9878d32f414b4354b839a4c31a4&amp;p=161\" rel=\"noopener nofollow\" target=\"_blank\">1.11</a>åˆ°<a href=\"https://www.bilibili.com/video/BV1FT4y1E74V?spm_id_from=333.788.videopod.episodes&amp;vd_source=e035e9878d32f414b4354b839a4c31a4&amp;p=162\" rel=\"noopener nofollow\" target=\"_blank\">1.12</a>çš„å†…å®¹ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æœ¬å‘¨ç†è®ºéƒ¨åˆ†çš„æœ€åä¸€ç¯‡ã€‚</p>\n<hr />\n<p>æœ¬å‘¨ä¸ºç¬¬äº”è¯¾çš„ç¬¬ä¸€å‘¨å†…å®¹ï¼Œä¸ CV ç›¸å¯¹åº”çš„ï¼Œè¿™ä¸€è¯¾æ‰€æœ‰å†…å®¹çš„ä¸­å¿ƒåªæœ‰ä¸€ä¸ªï¼š<strong>è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNatural Language Processingï¼ŒNLPï¼‰</strong>ã€‚<br />\nåº”ç”¨åœ¨æ·±åº¦å­¦ä¹ é‡Œï¼Œå®ƒæ˜¯ä¸“é—¨ç”¨æ¥è¿›è¡Œ<strong>æ–‡æœ¬ä¸åºåˆ—ä¿¡æ¯å»ºæ¨¡</strong>çš„æ¨¡å‹å’ŒæŠ€æœ¯ï¼Œæœ¬è´¨ä¸Šæ˜¯åœ¨å…¨è¿æ¥ç½‘ç»œä¸ç»Ÿè®¡è¯­è¨€æ¨¡å‹åŸºç¡€ä¸Šçš„ä¸€æ¬¡â€œç»“æ„åŒ–ç‰¹åŒ–â€ï¼Œä¹Ÿæ˜¯äººå·¥æ™ºèƒ½ä¸­<strong>æœ€è´´è¿‘äººç±»æ€ç»´è¡¨è¾¾æ–¹å¼</strong>çš„é‡è¦ç ”ç©¶æ–¹å‘ä¹‹ä¸€ã€‚<br />\n<strong>è¿™ä¸€æ•´èŠ‚è¯¾åŒæ ·æ¶‰åŠå¤§é‡éœ€è¦åå¤æ¶ˆåŒ–çš„å†…å®¹ï¼Œæ¨ªè·¨æœºå™¨å­¦ä¹ ã€æ¦‚ç‡ç»Ÿè®¡ã€çº¿æ€§ä»£æ•°ä»¥åŠè¯­è¨€å­¦ç›´è§‰ã€‚</strong><br />\nè¯­è¨€ä¸åƒå›¾åƒé‚£æ ·â€œç›´è§‚å¯è§â€ï¼Œæ›´å¤šæ˜¯æŠ½è±¡ç¬¦å·ä¸ä¸Šä¸‹æ–‡å…³ç³»çš„ç»„åˆï¼Œå› æ­¤<strong>ç†è§£é—¨æ§›åè€Œæ›´é«˜</strong>ã€‚<br />\nå› æ­¤ï¼Œæˆ‘åŒæ ·ä¼šå°½é‡è¡¥è¶³å¿…è¦çš„èƒŒæ™¯çŸ¥è¯†ï¼Œå°½å¯èƒ½ç”¨æ¯”å–»å’Œå®ä¾‹é™ä½ç†è§£éš¾åº¦ã€‚<br />\næœ¬ç¯‡çš„å†…å®¹å…³äº<strong>åŒå‘ RNN ä¸æ·±å±‚ RNN</strong>ï¼Œæ˜¯å¯¹åŸºç¡€ RNN ç»“æ„çš„ä¸€äº›è¡¥å……ã€‚</p>\n<h1 id=\"1-åŒå‘-rnnbidirectional-rnn\">1. åŒå‘ RNNï¼ˆBidirectional RNNï¼‰</h1>\n<p>åœ¨å‰é¢å¯¹ <strong><a href=\"https://www.cnblogs.com/Goblinscholar/p/19449622\" target=\"_blank\">RNN</a>ã€<a href=\"https://www.cnblogs.com/Goblinscholar/p/19463351\" target=\"_blank\">GRU</a> ä¸ <a href=\"https://www.cnblogs.com/Goblinscholar/p/19474433\" target=\"_blank\">LSTM</a></strong> çš„è®¨è®ºä¸­ï¼Œæˆ‘ä»¬å§‹ç»ˆé»˜è®¤äº†ä¸€ä¸ªå‰æï¼š<strong>åºåˆ—åªèƒ½æ²¿æ—¶é—´è½´å•å‘å±•å¼€ï¼Œæ¨¡å‹åœ¨å½“å‰æ—¶åˆ»åªèƒ½åˆ©ç”¨å·²ç»å‡ºç°çš„å†å²ä¿¡æ¯ã€‚</strong></p>\n<p>è¿™ç§è®¾å®šåœ¨ä¸€äº›ç®€å•ä»»åŠ¡ä¸­æ˜¯åˆç†çš„ï¼Œä½†åœ¨å¤§é‡<strong>åºåˆ—ç†è§£ä¸æ ‡æ³¨ä»»åŠ¡</strong>ä¸­ï¼Œå´éšè—ç€ä¸€ä¸ªç»“æ„æ€§é™åˆ¶ï¼š  <strong>å½“å‰æ—¶åˆ»çš„è¯­ä¹‰æˆ–çŠ¶æ€ï¼Œå¾€å¾€åŒæ—¶ä¾èµ–äºè¿‡å»å’Œæœªæ¥çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚</strong><br />\nä¸¾ä¸ªè¯¾ç¨‹é‡Œçš„ä¾‹å­ï¼š<br />\n<img alt=\"image.png\" src=\"https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260113211513804-150472822.png\" /><br />\näºæ˜¯ï¼Œé—®é¢˜å‡ºç°äº†ï¼š<strong>å¦‚æœæœªæ¥ä¿¡æ¯æ‰æ˜¯åˆ¤å®šå½“å‰çŠ¶æ€çš„é‡è¦ä¾æ®ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ</strong></p>\n<p>æ­£æ˜¯åœ¨è¿™æ ·çš„èƒŒæ™¯ä¸‹ï¼Œ<strong>åŒå‘ RNNï¼ˆBidirectional Recurrent Neural Networksï¼‰</strong> è¢«æå‡ºã€‚<br />\næ—©åœ¨ <strong>1997 å¹´</strong>ï¼Œ<strong><a href=\"https://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&amp;arnumber=650093\" rel=\"noopener nofollow\" target=\"_blank\">Bidirectional Recurrent Neural Networks</a></strong> è¿™ç¯‡è®ºæ–‡ä¸­å°±æŒ‡å‡ºï¼šå¯¹äºåºåˆ—æ ‡æ³¨ä¸æ•´ä½“ç†è§£ä»»åŠ¡ï¼Œä»…ä¾èµ–è¿‡å»ä¸Šä¸‹æ–‡ä¼šé€ æˆä¿¡æ¯åˆ©ç”¨ä¸Šçš„å…ˆå¤©ä¸è¶³ï¼Œå› æ­¤æœ‰å¿…è¦åœ¨æ¨¡å‹ç»“æ„å±‚é¢<strong>åŒæ—¶å»ºæ¨¡æ­£å‘ä¸åå‘çš„æ—¶é—´ä¾èµ–å…³ç³»</strong>ã€‚</p>\n<p>éœ€è¦å¼ºè°ƒçš„æ˜¯ï¼ŒåŒå‘ RNN å¹¶ä¸æ˜¯ä¸€ç§æ–°çš„å¾ªç¯å•å…ƒè®¾è®¡ã€‚<br />\nå®ƒå¹¶ä¸æ”¹å˜ RNNã€LSTM æˆ– GRU å†…éƒ¨çš„è®¡ç®—å½¢å¼ï¼Œè€Œæ˜¯é€šè¿‡åœ¨æ—¶é—´ç»´åº¦ä¸Šå¼•å…¥<strong>å‰å‘ä¸åå‘ä¸¤æ¡ç‹¬ç«‹çš„çŠ¶æ€ä¼ æ’­é“¾è·¯</strong>ï¼Œä½¿æ¨¡å‹åœ¨æ¯ä¸€ä¸ªæ—¶é—´æ­¥éƒ½èƒ½å¤Ÿèåˆ<strong>å†å²ä¸æœªæ¥çš„ä¸Šä¸‹æ–‡ä¿¡æ¯</strong>ã€‚</p>\n<p>ä¹Ÿæ­£å› ä¸ºè¿™ç§â€œç»“æ„ç‹¬ç«‹äºå•å…ƒâ€çš„ç‰¹æ€§ï¼ŒåŒå‘ RNN å¯ä»¥è‡ªç„¶åœ°ä¸ LSTMã€GRU ç»“åˆï¼Œå½¢æˆ <strong>Bi-LSTMã€Bi-GRU</strong>ï¼Œæˆä¸ºæå‡ä¸Šä¸‹æ–‡å»ºæ¨¡èƒ½åŠ›çš„æ ‡å‡†é…ç½®ã€‚</p>\n<p>å®ƒçš„å®ç°é€»è¾‘å¹¶ä¸å¤æ‚ï¼Œè¿™é‡Œå¼•ç”¨ä¸€å¼ æ¯”è¾ƒæ¸…æ™°æ˜“æ‡‚çš„ä¼ æ’­å›¾ï¼šï¼ˆ<a href=\"https://medium.com/@fraidoonomarzai99/bidirectional-rnn-in-depth-1efd32c3cf46\" rel=\"noopener nofollow\" target=\"_blank\">å‡ºå¤„</a>ï¼‰<br />\n<img alt=\"image.png\" src=\"https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260113211514563-1603287401.png\" /><br />\nè¿™æ ·ï¼Œä½ å°±ä¼šå‘ç°ï¼ŒåŒä¸€åºåˆ—è¢« <strong>æ­£å‘ï¼ˆè“è‰²ï¼‰</strong> å’Œ <strong>åå‘ï¼ˆç»¿è‰²ï¼‰</strong> ä¸¤æ¡ RNN åŒæ—¶å»ºæ¨¡ï¼Œæ¯ä¸ªæ—¶é—´æ­¥ <span class=\"math inline\">\\(t\\)</span> éƒ½èƒ½â€œçœ‹åˆ°â€æ­£å‘çš„å†å²ä¸Šä¸‹æ–‡å’Œåå‘çš„æœªæ¥ä¸Šä¸‹æ–‡ï¼Œæœ€ç»ˆè¾“å‡º <span class=\"math inline\">\\(\\hat y^{\\langle t\\rangle}\\)</span> ç”±ä¸¤ä¸ªæ–¹å‘çš„ä¿¡æ¯å…±åŒå†³å®šã€‚</p>\n<p></p><div class=\"math display\">\\[h^{(t)}\n=\n\\operatorname{concat}\\!\\left(\n\\overrightarrow{{h}^{(t)}},\n\\overleftarrow{{h}^{(t)}}\n\\right)\n\\quad \\text{or} \\quad\n\\overrightarrow{{h}^{(t)}} + \\overleftarrow{{h}^{(t)}}\n\\]</div><p></p><p>åœ¨å®è·µä¸­ï¼ŒåŒå‘ RNN æ›´å¸¸é‡‡ç”¨<strong>æ‹¼æ¥æ–¹å¼</strong>ä¿ç•™æ¥è‡ªä¸¤ä¸ªæ—¶é—´æ–¹å‘çš„å®Œæ•´ä¿¡æ¯ï¼Œè€Œ<strong>é€å…ƒç´ ç›¸åŠ </strong>åˆ™æ˜¯ä¸€ç§æ›´ç´§å‡‘ã€ä½†è¡¨è¾¾èƒ½åŠ›å—é™çš„æŠ˜ä¸­é€‰æ‹©ã€‚</p>\n<p>æœ€åï¼Œå†æ‰“ä¸ªæ¯”æ–¹ï¼šæŠŠåºåˆ—æ¯”ä½œä¸€åº§<strong>è¦å»ºçš„æ¡¥</strong>ï¼ŒåŒå‘ RNN å°±åƒæ˜¯ä¸¤é˜Ÿå·¥äººä»ä¸¤ä¾§åŒæ—¶æ–½å·¥å¹¶ä¸æ–­äº¤æµè¿›åº¦ï¼Œç¡®ä¿ç²¾å‡†ï¼Œä½†åŒæ—¶ï¼Œæ–½å·¥é˜Ÿä¼ç¿»å€ï¼Œæ•´ä½“æˆæœ¬ä¹Ÿéšä¹‹ä¸Šå‡ã€‚<br />\n<img alt=\"image.png\" src=\"https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260113211553645-1826290875.png\" /></p>\n<h1 id=\"2-æ·±å±‚-rnn\">2. æ·±å±‚ RNN</h1>\n<p>æ·±å±‚ RNN çš„æ¦‚å¿µåŒæ ·ä¸éš¾ç†è§£ã€‚<br />\nåœ¨æœ€å¼€å§‹å¼•å…¥ <strong><a href=\"https://www.cnblogs.com/Goblinscholar/p/19449622\" target=\"_blank\">å¾ªç¯ç¥ç»ç½‘ç»œ</a></strong> æ—¶ï¼Œæˆ‘ä»¬è¯´æ˜è¿‡ï¼Œé»˜è®¤ä½¿ç”¨<strong>å•å±‚ RNN</strong> æ¥è¿›è¡Œæ¼”ç¤ºï¼š<br />\nåœ¨æ¯ä¸€ä¸ªæ—¶é—´æ­¥ <span class=\"math inline\">\\(t\\)</span>ï¼Œè¾“å…¥ <span class=\"math inline\">\\(x^{(t)}\\)</span> ç»è¿‡ä¸€æ¬¡å¾ªç¯è®¡ç®—ï¼Œå¾—åˆ°å¯¹åº”çš„éšè—çŠ¶æ€ <span class=\"math inline\">\\(a^{(t)}\\)</span>ï¼Œå¹¶æ²¿æ—¶é—´è½´ä¸æ–­ä¼ é€’ã€‚</p>\n<p>ä½†ä»æ¨¡å‹è¡¨è¾¾èƒ½åŠ›çš„è§’åº¦æ¥çœ‹ï¼Œè¿™ç§ç»“æ„å­˜åœ¨é™åˆ¶ï¼š<strong>æ¯ä¸ªæ—¶é—´æ­¥å†…éƒ¨ï¼Œåªè¿›è¡Œäº†ä¸€æ¬¡éçº¿æ€§å˜æ¢ã€‚</strong><br />\nè¿™æ„å‘³ç€ï¼Œæ— è®ºåºåˆ—æœ¬èº«æœ‰å¤šå¤æ‚ï¼Œåœ¨â€œåŒä¸€æ—¶åˆ»â€å¯¹è¾“å…¥ä¿¡æ¯çš„å¤„ç†æ·±åº¦éƒ½æ˜¯æœ‰é™çš„ã€‚<br />\nåˆ°è¿™é‡Œï¼Œå°±å’Œä¹‹å‰çš„å…¨è¿æ¥ã€å·ç§¯ç½‘ç»œç›¸é€šäº†ï¼š<br />\n<strong>å¦‚æœæˆ‘ä»¬å¸Œæœ›æ¨¡å‹åœ¨æ¯ä¸€ä¸ªæ—¶é—´æ­¥ä¸Šï¼Œä¹Ÿå…·å¤‡ç±»ä¼¼æ·±åº¦å‰é¦ˆç½‘ç»œã€å·ç§¯ç½‘ç»œé‚£æ ·çš„å±‚çº§è¡¨è¾¾èƒ½åŠ›ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ</strong><br />\nç­”æ¡ˆè‡ªç„¶å°±æ˜¯ï¼š<strong>åœ¨æ—¶é—´ç»´åº¦ä¹‹å¤–ï¼Œå†å¼•å…¥å±‚çº§ç»´åº¦ã€‚</strong></p>\n<p>åœ¨æ·±å±‚ RNN ä¸­ï¼Œå¾ªç¯ç»“æ„ä¸å†åªæœ‰ä¸€å±‚ï¼Œè€Œæ˜¯<strong>åœ¨åŒä¸€æ—¶é—´æ­¥ä¸Šå †å å¤šå±‚ RNN å•å…ƒ</strong>ã€‚<br />\nå®ƒçš„ä¼ æ’­å›¾æ˜¯è¿™æ ·çš„ï¼š<br />\n<img alt=\"image.png\" src=\"https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260113211513339-2004923823.png\" /><br />\nå…³äºæ·±åº¦çš„é€»è¾‘å’Œä¹‹å‰éƒ½æ˜¯ç›¸åŒçš„ï¼Œæ·±å±‚ RNN é€šè¿‡åœ¨åŒä¸€æ—¶é—´æ­¥ä¸Šçš„å †å ï¼Œè®©æ¨¡å‹å¯ä»¥è¿›è¡Œæ›´å¤æ‚çš„éçº¿æ€§å˜æ¢ï¼Œ<strong>å¢å¼ºäº†å…¶è¡¨è¾¾èƒ½åŠ›</strong>ã€‚ä½†åŒæ ·ä¹Ÿä¼šå¢åŠ è®¡ç®—æˆæœ¬ï¼Œ<strong>å¸¦æ¥æ¢¯åº¦é—®é¢˜ä¸è¿‡æ‹Ÿåˆé£é™©</strong>ï¼Œè¿™äº›éƒ½æ˜¯æˆ‘ä»¬çš„è€ç”Ÿå¸¸è°ˆäº†ã€‚</p>\n<p>äºæ­¤åŒæ—¶ï¼Œå’ŒåŒå‘ RNN ç±»ä¼¼ï¼Œ<strong>æ·±å±‚ç»“æ„åŒæ ·ç‹¬ç«‹äºå…·ä½“çš„å¾ªç¯å•å…ƒè®¾è®¡</strong>ã€‚  è€Œä¸”åœ¨å·¥ç¨‹å®è·µä¸­ï¼Œ<strong>æ·±åº¦ã€æ–¹å‘æ€§å’Œé—¨æ§æœºåˆ¶å¾€å¾€æ˜¯å¯ä»¥åŒæ—¶å åŠ çš„</strong>ï¼Œä¾‹å¦‚ï¼š</p>\n<ul>\n<li>å¤šå±‚ Bi-LSTM</li>\n<li>å¤šå±‚ Bi-GRU</li>\n</ul>\n<p>æˆ‘ä»¬æŠŠå„ä¸ªç»„ä»¶ç»„åˆæˆ–åˆ›æ–°ï¼Œä¾¿å½¢æˆäº†æ·±åº¦å­¦ä¹  NLP ä¸­çº·ç¹å¤æ‚çš„è¯¸å¤šæ¨¡å‹ã€‚</p>\n<p>æœ€åï¼Œå¦‚æœç»§ç»­æ²¿ç”¨å‰é¢çš„æ¯”å–»ï¼š<br />\n<strong>åŒå‘ RNN</strong> åƒæ˜¯ä»æ¡¥çš„ä¸¤ç«¯åŒæ—¶æ–½å·¥ã€‚<br />\né‚£ä¹ˆ <strong>æ·±å±‚ RNN</strong> æ›´åƒæ˜¯ï¼š æ¯ä¸€ä¸ªæ–½å·¥ç‚¹ä¸Šï¼Œä¸åªæ˜¯é“ºä¸€å±‚è·¯é¢ï¼Œè€Œæ˜¯<strong>ä¸€å±‚å±‚æ‰“åœ°åŸºã€åŠ ç»“æ„ã€å†é“ºè¡¨å±‚ã€‚</strong> è¿™æ ·ç»“æ„æ›´ç¨³ã€è¡¨è¾¾æ›´å¼ºï¼Œä½†æ–½å·¥æµç¨‹æ›´å¤æ‚ï¼Œæˆæœ¬å’Œè®­ç»ƒéš¾åº¦ä¹Ÿéšä¹‹ä¸Šå‡ã€‚<br />\n<img alt=\"image.png\" src=\"https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260113211517590-653078512.png\" /></p>\n<h1 id=\"3æ€»ç»“\">3.æ€»ç»“</h1>\n<table>\n<thead>\n<tr>\n<th>æ¦‚å¿µ</th>\n<th>åŸç†</th>\n<th>æ¯”å–»</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>åŒå‘ RNNï¼ˆBidirectional RNNï¼‰</td>\n<td>åœ¨æ—¶é—´ç»´åº¦ä¸Šå¼•å…¥<strong>æ­£å‘å’Œåå‘ä¸¤æ¡ç‹¬ç«‹çŠ¶æ€é“¾è·¯</strong>ï¼Œæ¯ä¸ªæ—¶é—´æ­¥åŒæ—¶åˆ©ç”¨è¿‡å»å’Œæœªæ¥ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚é€‚ç”¨äºåºåˆ—æ ‡æ³¨ä¸æ•´ä½“ç†è§£ä»»åŠ¡ã€‚å¯ä»¥ä¸ RNN/LSTM/GRU ç»“åˆï¼Œå½¢æˆ Bi-RNNã€Bi-LSTMã€Bi-GRUã€‚</td>\n<td>åºåˆ—æ¯”ä½œæ¡¥ï¼Œä¸¤é˜Ÿå·¥äººä»ä¸¤ç«¯åŒæ—¶æ–½å·¥å¹¶äº¤æµè¿›åº¦ï¼Œç¡®ä¿ç²¾å‡†ï¼Œä½†æ–½å·¥é˜Ÿä¼ç¿»å€ï¼Œæˆæœ¬å¢åŠ ã€‚</td>\n</tr>\n<tr>\n<td>æ·±å±‚ RNNï¼ˆDeep RNNï¼‰</td>\n<td>åœ¨åŒä¸€æ—¶é—´æ­¥ä¸Š<strong>å †å å¤šå±‚ RNN å•å…ƒ</strong>ï¼Œå¢åŠ æ¯ä¸ªæ—¶é—´æ­¥å†…éƒ¨çš„éçº¿æ€§è¡¨è¾¾èƒ½åŠ›ï¼Œä»è€Œå¢å¼ºæ¨¡å‹çš„è¡¨ç¤ºèƒ½åŠ›ã€‚å¯ä¸é—¨æ§æœºåˆ¶å’ŒåŒå‘ç»“æ„å åŠ ï¼Œå½¢æˆå¤šå±‚ Bi-LSTMã€Bi-GRU ç­‰ã€‚</td>\n<td>æ¯ä¸ªæ–½å·¥ç‚¹ä¸Šä¸æ˜¯åªé“ºä¸€å±‚è·¯é¢ï¼Œè€Œæ˜¯<strong>ä¸€å±‚å±‚æ‰“åœ°åŸºã€åŠ ç»“æ„ã€å†é“ºè¡¨å±‚</strong>ï¼Œç»“æ„æ›´ç¨³ã€è¡¨è¾¾æ›´å¼ºï¼Œä½†æ–½å·¥æµç¨‹å¤æ‚ï¼Œæˆæœ¬å’Œè®­ç»ƒéš¾åº¦å¢åŠ ã€‚</td>\n</tr>\n</tbody>\n</table>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-13 22:37</span>&nbsp;\n<a href=\"https://www.cnblogs.com/Goblinscholar\">å“¥å¸ƒæ—å­¦è€…</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">86</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    }
  ]
}