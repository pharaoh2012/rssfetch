{
  "title": "ä¸»é¡µ - åšå®¢å›­",
  "link": "https://www.cnblogs.com/",
  "description": "ä¸»é¡µ - åšå®¢å›­ RSS",
  "entries": [
    {
      "title": "SpringBooté¡¹ç›®çš„å›½é™…åŒ–æµç¨‹",
      "link": "https://www.cnblogs.com/Marktowin/p/19511993",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/Marktowin/p/19511993\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-21 15:15\">\n    <span>SpringBooté¡¹ç›®çš„å›½é™…åŒ–æµç¨‹</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body blogpost-body-html\" id=\"cnblogs_post_body\">\n<p dir=\"auto\">åœ¨ Spring Boot é¡¹ç›®å·²ç»å¼€å‘å®Œæˆåï¼Œæƒ³è¦å®ç°å›½é™…åŒ–ï¼ˆi18nï¼‰ï¼Œè®©æ‰€æœ‰æç¤ºä¿¡æ¯ï¼ˆåç«¯è¿”å›çš„é”™è¯¯æ¶ˆæ¯ã€æˆåŠŸæ¶ˆæ¯ã€å¼‚å¸¸ä¿¡æ¯ã€æšä¸¾æè¿°ç­‰ï¼‰æ”¯æŒå¤šè¯­è¨€ï¼Œå¤„ç†æµç¨‹å¦‚ä¸‹ï¼š</p>\n<h3 dir=\"auto\">1. åˆ›å»ºå›½é™…åŒ–èµ„æºæ–‡ä»¶ï¼ˆmessages.propertiesï¼‰</h3>\n<p dir=\"auto\">åœ¨ src/main/resources ç›®å½•ä¸‹ï¼ˆæ–°å»º i18n å­ç›®å½•ï¼‰ï¼Œåˆ›å»ºä»¥ä¸‹æ–‡ä»¶ï¼š</p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 128, 1);\">1</span> src/main/resources/\n<span style=\"color: rgba(0, 128, 128, 1);\">2</span> â””â”€â”€ i18n/\n<span style=\"color: rgba(0, 128, 128, 1);\">3</span> <span style=\"color: rgba(0, 0, 0, 1);\">    â”œâ”€â”€ messages.properties           # é»˜è®¤è¯­è¨€ï¼ˆé€šå¸¸æ˜¯ä¸­æ–‡æˆ–è‹±æ–‡ï¼‰\n</span><span style=\"color: rgba(0, 128, 128, 1);\">4</span> <span style=\"color: rgba(0, 0, 0, 1);\">    â”œâ”€â”€ messages_zh_CN.properties     # ç®€ä½“ä¸­æ–‡\n</span><span style=\"color: rgba(0, 128, 128, 1);\">5</span> <span style=\"color: rgba(0, 0, 0, 1);\">    â”œâ”€â”€ messages_en_US.properties     # ç¾å¼è‹±æ–‡\n</span><span style=\"color: rgba(0, 128, 128, 1);\">6</span> <span style=\"color: rgba(0, 0, 0, 1);\">    â”œâ”€â”€ messages_zh_TW.properties     # ç¹ä½“ä¸­æ–‡ï¼ˆå¯é€‰ï¼‰\n</span><span style=\"color: rgba(0, 128, 128, 1);\">7</span>     â””â”€â”€ messages_ja.properties        # æ—¥è¯­ï¼ˆå¯é€‰ï¼‰</pre>\n</div>\n<p dir=\"auto\">messages.propertiesï¼ˆä¸­æ–‡ç¤ºä¾‹ï¼‰ï¼š</p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 128, 1);\">1</span> <span style=\"color: rgba(0, 0, 0, 1);\"># é€šç”¨æç¤º\n</span><span style=\"color: rgba(0, 128, 128, 1);\">2</span> success=<span style=\"color: rgba(0, 0, 0, 1);\">æ“ä½œæˆåŠŸ\n</span><span style=\"color: rgba(0, 128, 128, 1);\">3</span> error.system=<span style=\"color: rgba(0, 0, 0, 1);\">ç³»ç»Ÿå¼‚å¸¸ï¼Œè¯·ç¨åé‡è¯•\n</span><span style=\"color: rgba(0, 128, 128, 1);\">4</span> error.notfound=<span style=\"color: rgba(0, 0, 0, 1);\">èµ„æºä¸å­˜åœ¨\n</span><span style=\"color: rgba(0, 128, 128, 1);\">5</span> \n<span style=\"color: rgba(0, 128, 128, 1);\">6</span> <span style=\"color: rgba(0, 0, 0, 1);\"># ä¸šåŠ¡æç¤º\n</span><span style=\"color: rgba(0, 128, 128, 1);\">7</span> user.login.success=<span style=\"color: rgba(0, 0, 0, 1);\">ç™»å½•æˆåŠŸ\n</span><span style=\"color: rgba(0, 128, 128, 1);\">8</span> user.login.fail=<span style=\"color: rgba(0, 0, 0, 1);\">ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯\n</span><span style=\"color: rgba(0, 128, 128, 1);\">9</span> user.notfound=ç”¨æˆ·ä¸å­˜åœ¨</pre>\n</div>\n<p dir=\"auto\">messages_en_US.propertiesï¼ˆè‹±æ–‡ç¤ºä¾‹ï¼‰ï¼š</p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 128, 1);\">1</span> success=<span style=\"color: rgba(0, 0, 0, 1);\">Operation successful\n</span><span style=\"color: rgba(0, 128, 128, 1);\">2</span> error.system=System error, please <span style=\"color: rgba(0, 0, 255, 1);\">try</span><span style=\"color: rgba(0, 0, 0, 1);\"> again later\n</span><span style=\"color: rgba(0, 128, 128, 1);\">3</span> error.notfound=<span style=\"color: rgba(0, 0, 0, 1);\">Resource not found\n</span><span style=\"color: rgba(0, 128, 128, 1);\">4</span> \n<span style=\"color: rgba(0, 128, 128, 1);\">5</span> user.login.success=<span style=\"color: rgba(0, 0, 0, 1);\">Login successful\n</span><span style=\"color: rgba(0, 128, 128, 1);\">6</span> user.login.fail=<span style=\"color: rgba(0, 0, 0, 1);\">Username or password is incorrect\n</span><span style=\"color: rgba(0, 128, 128, 1);\">7</span> user.notfound=User not found</pre>\n</div>\n<p dir=\"auto\"><strong>æ³¨æ„</strong>ï¼š</p>\n<ul dir=\"auto\">\n<li>æ–‡ä»¶åå¿…é¡»ä»¥ messages å¼€å¤´ï¼ˆSpring Boot é»˜è®¤æŸ¥æ‰¾è§„åˆ™ï¼‰ã€‚</li>\n<li>æ‰€æœ‰æç¤ºç»Ÿä¸€æ”¾åœ¨ i18n ç›®å½•ä¸‹ï¼Œæ–¹ä¾¿ç®¡ç†ã€‚</li>\n</ul>\n<h3 dir=\"auto\">2. é…ç½® application.ymlï¼ˆæˆ– application.propertiesï¼‰</h3>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 128, 1);\">1</span> <span style=\"color: rgba(0, 0, 0, 1);\"># application.yml\n</span><span style=\"color: rgba(0, 128, 128, 1);\">2</span> <span style=\"color: rgba(0, 0, 0, 1);\">spring:\n</span><span style=\"color: rgba(0, 128, 128, 1);\">3</span> <span style=\"color: rgba(0, 0, 0, 1);\">  messages:\n</span><span style=\"color: rgba(0, 128, 128, 1);\">4</span>     basename: i18n/<span style=\"color: rgba(0, 0, 0, 1);\">messages          # èµ„æºæ–‡ä»¶åŸºç¡€åï¼ˆæ”¯æŒé€šé…ç¬¦ï¼‰\n</span><span style=\"color: rgba(0, 128, 128, 1);\">5</span>     encoding: UTF-8                 # å¿…é¡»æ˜¯ UTF-8\n<span style=\"color: rgba(0, 128, 128, 1);\">6</span>     fallback-to-system-locale: <span style=\"color: rgba(0, 0, 255, 1);\">false</span> # æ¨èè®¾ç½®ä¸º <span style=\"color: rgba(0, 0, 255, 1);\">false</span><span style=\"color: rgba(0, 0, 0, 1);\">ï¼ˆæ‰¾ä¸åˆ°å¯¹åº”è¯­è¨€æ—¶ä¸å›é€€åˆ°ç³»ç»Ÿé»˜è®¤Localeï¼‰\n</span><span style=\"color: rgba(0, 128, 128, 1);\">7</span>     use-code-as-<span style=\"color: rgba(0, 0, 255, 1);\">default</span>-message: <span style=\"color: rgba(0, 0, 255, 1);\">true</span> # æ‰¾ä¸åˆ°keyæ—¶ç›´æ¥è¿”å›codeï¼ˆè°ƒè¯•æ–¹ä¾¿ï¼Œä¸Šçº¿å¯æ”¹ä¸ºfalseï¼‰</pre>\n</div>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 128, 1);\">1</span> <span style=\"color: rgba(0, 0, 0, 1);\">#  properties\n</span><span style=\"color: rgba(0, 128, 128, 1);\">2</span> spring.messages.basename=i18n/<span style=\"color: rgba(0, 0, 0, 1);\">messages\n</span><span style=\"color: rgba(0, 128, 128, 1);\">3</span> spring.messages.encoding=UTF-8\n<span style=\"color: rgba(0, 128, 128, 1);\">4</span> spring.messages.fallback-to-system-locale=<span style=\"color: rgba(0, 0, 255, 1);\">false</span>\n<span style=\"color: rgba(0, 128, 128, 1);\">5</span> spring.messages.use-code-as-<span style=\"color: rgba(0, 0, 255, 1);\">default</span>-message=<span style=\"color: rgba(0, 0, 255, 1);\">true</span></pre>\n</div>\n<h3 dir=\"auto\">3. è‡ªå®šä¹‰ LocaleResolver å’Œ LocaleChangeInterceptorï¼ˆæ”¯æŒå‰ç«¯ä¼ å‚åˆ‡æ¢è¯­è¨€ï¼‰</h3>\n<p dir=\"auto\">Spring Boot é»˜è®¤ä½¿ç”¨ <strong>AcceptHeaderLocaleResolver</strong>ï¼ˆæ ¹æ®è¯·æ±‚å¤´ Accept-Language è‡ªåŠ¨è¯†åˆ«ï¼‰ï¼Œç”Ÿäº§ç¯å¢ƒé€šå¸¸è¿˜éœ€è¦æ”¯æŒé€šè¿‡å‚æ•°æˆ– cookie åˆ‡æ¢è¯­è¨€ã€‚</p>\n<p dir=\"auto\">ä½¿ç”¨ SessionLocaleResolver + LocaleChangeInterceptorï¼š</p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 128, 1);\"> 1</span> <span style=\"color: rgba(0, 0, 0, 1);\">@Configuration\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 2</span> <span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">class</span> LocaleConfig <span style=\"color: rgba(0, 0, 255, 1);\">implements</span><span style=\"color: rgba(0, 0, 0, 1);\"> WebMvcConfigurer {\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 3</span> \n<span style=\"color: rgba(0, 128, 128, 1);\"> 4</span>     <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> é»˜è®¤è¯­è¨€</span>\n<span style=\"color: rgba(0, 128, 128, 1);\"> 5</span> <span style=\"color: rgba(0, 0, 0, 1);\">    @Bean\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 6</span>     <span style=\"color: rgba(0, 0, 255, 1);\">public</span><span style=\"color: rgba(0, 0, 0, 1);\"> LocaleResolver localeResolver() {\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 7</span>         SessionLocaleResolver localeResolver = <span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> SessionLocaleResolver();\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 8</span>         localeResolver.setDefaultLocale(Locale.SIMPLIFIED_CHINESE); <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> é»˜è®¤ç®€ä½“ä¸­æ–‡</span>\n<span style=\"color: rgba(0, 128, 128, 1);\"> 9</span>         <span style=\"color: rgba(0, 0, 255, 1);\">return</span><span style=\"color: rgba(0, 0, 0, 1);\"> localeResolver;\n</span><span style=\"color: rgba(0, 128, 128, 1);\">10</span> <span style=\"color: rgba(0, 0, 0, 1);\">    }\n</span><span style=\"color: rgba(0, 128, 128, 1);\">11</span> \n<span style=\"color: rgba(0, 128, 128, 1);\">12</span>     <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ‹¦æˆªå™¨ï¼šæ”¯æŒ ?lang=zh_CN æˆ– ?lang=en_US åˆ‡æ¢è¯­è¨€</span>\n<span style=\"color: rgba(0, 128, 128, 1);\">13</span> <span style=\"color: rgba(0, 0, 0, 1);\">    @Bean\n</span><span style=\"color: rgba(0, 128, 128, 1);\">14</span>     <span style=\"color: rgba(0, 0, 255, 1);\">public</span><span style=\"color: rgba(0, 0, 0, 1);\"> LocaleChangeInterceptor localeChangeInterceptor() {\n</span><span style=\"color: rgba(0, 128, 128, 1);\">15</span>         LocaleChangeInterceptor lci = <span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> LocaleChangeInterceptor();\n</span><span style=\"color: rgba(0, 128, 128, 1);\">16</span>         lci.setParamName(\"lang\"); <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> å‰ç«¯ä¼ å‚å</span>\n<span style=\"color: rgba(0, 128, 128, 1);\">17</span>         <span style=\"color: rgba(0, 0, 255, 1);\">return</span><span style=\"color: rgba(0, 0, 0, 1);\"> lci;\n</span><span style=\"color: rgba(0, 128, 128, 1);\">18</span> <span style=\"color: rgba(0, 0, 0, 1);\">    }\n</span><span style=\"color: rgba(0, 128, 128, 1);\">19</span> \n<span style=\"color: rgba(0, 128, 128, 1);\">20</span> <span style=\"color: rgba(0, 0, 0, 1);\">    @Override\n</span><span style=\"color: rgba(0, 128, 128, 1);\">21</span>     <span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">void</span><span style=\"color: rgba(0, 0, 0, 1);\"> addInterceptors(InterceptorRegistry registry) {\n</span><span style=\"color: rgba(0, 128, 128, 1);\">22</span> <span style=\"color: rgba(0, 0, 0, 1);\">        registry.addInterceptor(localeChangeInterceptor());\n</span><span style=\"color: rgba(0, 128, 128, 1);\">23</span> <span style=\"color: rgba(0, 0, 0, 1);\">    }\n</span><span style=\"color: rgba(0, 128, 128, 1);\">24</span> }</pre>\n</div>\n<p dir=\"auto\">è‹¥ä¼˜å…ˆä»è¯·æ±‚å¤´è¯†åˆ«ï¼Œå†æ”¯æŒå‚æ•°åˆ‡æ¢ï¼Œå¯ä»¥è‡ªå®šä¹‰ LocaleResolverï¼ˆæ›´çµæ´»ï¼‰ã€‚</p>\n<h3 dir=\"auto\">4. åœ¨ä»£ç ä¸­ä½¿ç”¨ MessageSource è·å–å›½é™…åŒ–æ¶ˆæ¯</h3>\n<h4 dir=\"auto\">æ–¹å¼ä¸€ï¼šæ³¨å…¥ MessageSource</h4>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 128, 1);\"> 1</span> <span style=\"color: rgba(0, 0, 0, 1);\">@RestController\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 2</span> @RequestMapping(\"/api\"<span style=\"color: rgba(0, 0, 0, 1);\">)\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 3</span> <span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">class</span><span style=\"color: rgba(0, 0, 0, 1);\"> UserController {\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 4</span> \n<span style=\"color: rgba(0, 128, 128, 1);\"> 5</span> <span style=\"color: rgba(0, 0, 0, 1);\">    @Autowired\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 6</span>     <span style=\"color: rgba(0, 0, 255, 1);\">private</span><span style=\"color: rgba(0, 0, 0, 1);\"> MessageSource messageSource;\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 7</span> \n<span style=\"color: rgba(0, 128, 128, 1);\"> 8</span>     @GetMapping(\"/test\"<span style=\"color: rgba(0, 0, 0, 1);\">)\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 9</span>     <span style=\"color: rgba(0, 0, 255, 1);\">public</span> ResponseEntity&lt;String&gt; test(Locale locale) { <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> Locale å¯é€‰ä»å‚æ•°æ³¨å…¥\n</span><span style=\"color: rgba(0, 128, 128, 1);\">10</span>         <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ–¹å¼1ï¼šç›´æ¥ä½¿ç”¨ locale å‚æ•°</span>\n<span style=\"color: rgba(0, 128, 128, 1);\">11</span>         String msg = messageSource.getMessage(\"user.login.success\", <span style=\"color: rgba(0, 0, 255, 1);\">null</span><span style=\"color: rgba(0, 0, 0, 1);\">, locale);\n</span><span style=\"color: rgba(0, 128, 128, 1);\">12</span> \n<span style=\"color: rgba(0, 128, 128, 1);\">13</span>         <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ–¹å¼2ï¼šä» LocaleContextHolder è·å–å½“å‰è¯­è¨€ï¼ˆæ¨èï¼ï¼‰</span>\n<span style=\"color: rgba(0, 128, 128, 1);\">14</span>         String msg2 = messageSource.getMessage(\"user.login.success\", <span style=\"color: rgba(0, 0, 255, 1);\">null</span><span style=\"color: rgba(0, 0, 0, 1);\">, LocaleContextHolder.getLocale());\n</span><span style=\"color: rgba(0, 128, 128, 1);\">15</span> \n<span style=\"color: rgba(0, 128, 128, 1);\">16</span>         <span style=\"color: rgba(0, 0, 255, 1);\">return</span><span style=\"color: rgba(0, 0, 0, 1);\"> ResponseEntity.ok(msg2);\n</span><span style=\"color: rgba(0, 128, 128, 1);\">17</span> <span style=\"color: rgba(0, 0, 0, 1);\">    }\n</span><span style=\"color: rgba(0, 128, 128, 1);\">18</span> }</pre>\n</div>\n<h4 dir=\"auto\">æ–¹å¼äºŒï¼šç»Ÿä¸€å°è£…å·¥å…·ç±»</h4>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 128, 1);\"> 1</span> <span style=\"color: rgba(0, 0, 0, 1);\">@Component\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 2</span> <span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">class</span><span style=\"color: rgba(0, 0, 0, 1);\"> MessageUtils {\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 3</span> \n<span style=\"color: rgba(0, 128, 128, 1);\"> 4</span>     <span style=\"color: rgba(0, 0, 255, 1);\">private</span> <span style=\"color: rgba(0, 0, 255, 1);\">static</span><span style=\"color: rgba(0, 0, 0, 1);\"> MessageSource messageSource;\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 5</span> \n<span style=\"color: rgba(0, 128, 128, 1);\"> 6</span> <span style=\"color: rgba(0, 0, 0, 1);\">    @Autowired\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 7</span>     <span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">void</span><span style=\"color: rgba(0, 0, 0, 1);\"> setMessageSource(MessageSource messageSource) {\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 8</span>         MessageUtils.messageSource =<span style=\"color: rgba(0, 0, 0, 1);\"> messageSource;\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 9</span> <span style=\"color: rgba(0, 0, 0, 1);\">    }\n</span><span style=\"color: rgba(0, 128, 128, 1);\">10</span> \n<span style=\"color: rgba(0, 128, 128, 1);\">11</span>     <span style=\"color: rgba(0, 128, 0, 1);\">/**</span>\n<span style=\"color: rgba(0, 128, 128, 1);\">12</span> <span style=\"color: rgba(0, 128, 0, 1);\">     * è·å–å›½é™…åŒ–æ¶ˆæ¯\n</span><span style=\"color: rgba(0, 128, 128, 1);\">13</span>      <span style=\"color: rgba(0, 128, 0, 1);\">*/</span>\n<span style=\"color: rgba(0, 128, 128, 1);\">14</span>     <span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">static</span><span style=\"color: rgba(0, 0, 0, 1);\"> String getMessage(String code, Object... args) {\n</span><span style=\"color: rgba(0, 128, 128, 1);\">15</span>         <span style=\"color: rgba(0, 0, 255, 1);\">return</span><span style=\"color: rgba(0, 0, 0, 1);\"> messageSource.getMessage(code, args, LocaleContextHolder.getLocale());\n</span><span style=\"color: rgba(0, 128, 128, 1);\">16</span> <span style=\"color: rgba(0, 0, 0, 1);\">    }\n</span><span style=\"color: rgba(0, 128, 128, 1);\">17</span> \n<span style=\"color: rgba(0, 128, 128, 1);\">18</span>     <span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">static</span><span style=\"color: rgba(0, 0, 0, 1);\"> String getMessage(String code) {\n</span><span style=\"color: rgba(0, 128, 128, 1);\">19</span>         <span style=\"color: rgba(0, 0, 255, 1);\">return</span> getMessage(code, (Object) <span style=\"color: rgba(0, 0, 255, 1);\">null</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n</span><span style=\"color: rgba(0, 128, 128, 1);\">20</span> <span style=\"color: rgba(0, 0, 0, 1);\">    }\n</span><span style=\"color: rgba(0, 128, 128, 1);\">21</span> }</pre>\n</div>\n<p dir=\"auto\">ä½¿ç”¨æ–¹å¼ï¼š</p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 128, 1);\">1</span> <span style=\"color: rgba(0, 0, 255, 1);\">throw</span> <span style=\"color: rgba(0, 0, 255, 1);\">new</span> BusinessException(MessageUtils.getMessage(\"user.notfound\"<span style=\"color: rgba(0, 0, 0, 1);\">));\n</span><span style=\"color: rgba(0, 128, 128, 1);\">2</span> <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æˆ–</span>\n<span style=\"color: rgba(0, 128, 128, 1);\">3</span> <span style=\"color: rgba(0, 0, 255, 1);\">return</span> Result.error(MessageUtils.getMessage(\"error.system\"));</pre>\n</div>\n<h3 dir=\"auto\">5. å…¨å±€å¼‚å¸¸å¤„ç†ä¸­ä½¿ç”¨å›½é™…åŒ–</h3>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 128, 1);\"> 1</span> <span style=\"color: rgba(0, 0, 0, 1);\">@RestControllerAdvice\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 2</span> <span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">class</span><span style=\"color: rgba(0, 0, 0, 1);\"> GlobalExceptionHandler {\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 3</span> \n<span style=\"color: rgba(0, 128, 128, 1);\"> 4</span>     @ExceptionHandler(BusinessException.<span style=\"color: rgba(0, 0, 255, 1);\">class</span><span style=\"color: rgba(0, 0, 0, 1);\">)\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 5</span>     <span style=\"color: rgba(0, 0, 255, 1);\">public</span> Result&lt;?&gt;<span style=\"color: rgba(0, 0, 0, 1);\"> handleBusinessException(BusinessException e) {\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 6</span>         <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> å‡è®¾ BusinessException é‡Œé¢å­˜äº† messageCode</span>\n<span style=\"color: rgba(0, 128, 128, 1);\"> 7</span>         String message =<span style=\"color: rgba(0, 0, 0, 1);\"> MessageUtils.getMessage(e.getCode(), e.getArgs());\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 8</span>         <span style=\"color: rgba(0, 0, 255, 1);\">return</span><span style=\"color: rgba(0, 0, 0, 1);\"> Result.error(message);\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 9</span> <span style=\"color: rgba(0, 0, 0, 1);\">    }\n</span><span style=\"color: rgba(0, 128, 128, 1);\">10</span> \n<span style=\"color: rgba(0, 128, 128, 1);\">11</span>     @ExceptionHandler(Exception.<span style=\"color: rgba(0, 0, 255, 1);\">class</span><span style=\"color: rgba(0, 0, 0, 1);\">)\n</span><span style=\"color: rgba(0, 128, 128, 1);\">12</span>     <span style=\"color: rgba(0, 0, 255, 1);\">public</span> Result&lt;?&gt;<span style=\"color: rgba(0, 0, 0, 1);\"> handleException(Exception e) {\n</span><span style=\"color: rgba(0, 128, 128, 1);\">13</span>         <span style=\"color: rgba(0, 0, 255, 1);\">return</span> Result.error(MessageUtils.getMessage(\"error.system\"<span style=\"color: rgba(0, 0, 0, 1);\">));\n</span><span style=\"color: rgba(0, 128, 128, 1);\">14</span> <span style=\"color: rgba(0, 0, 0, 1);\">    }\n</span><span style=\"color: rgba(0, 128, 128, 1);\">15</span> }</pre>\n</div>\n<h3 dir=\"auto\">6. æ”¯æŒå‚æ•°å ä½ç¬¦</h3>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 128, 1);\">1</span> <span style=\"color: rgba(0, 0, 0, 1);\"># messages.properties\n</span><span style=\"color: rgba(0, 128, 128, 1);\">2</span> user.age.limit=å¹´é¾„å¿…é¡»åœ¨ {0} åˆ° {1} å²ä¹‹é—´</pre>\n</div>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 128, 1);\">1</span> String msg = MessageUtils.getMessage(\"user.age.limit\", 18, 60<span style=\"color: rgba(0, 0, 0, 1);\">);\n</span><span style=\"color: rgba(0, 128, 128, 1);\">2</span> <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> è¾“å‡ºï¼šå¹´é¾„å¿…é¡»åœ¨ 18 åˆ° 60 å²ä¹‹é—´</span></pre>\n</div>\n<h3 dir=\"auto\">7. å¸¸è§æœ€ä½³å®è·µæ€»ç»“</h3>\n<table style=\"height: 317px; width: 579px;\">\n<thead>\n<tr><th>å¤„ç†ç‚¹</th><th>å¤„ç†æ–¹å¼</th></tr>\n</thead>\n<tbody>\n<tr>\n<td>èµ„æºæ–‡ä»¶ä½ç½®</td>\n<td><code>src/main/resources/i18n/messages_*.properties</code></td>\n</tr>\n<tr>\n<td>é»˜è®¤è¯­è¨€</td>\n<td>ç®€ä½“ä¸­æ–‡ï¼ˆ<code>Locale.SIMPLIFIED_CHINESE</code>ï¼‰</td>\n</tr>\n<tr>\n<td>è¯­è¨€åˆ‡æ¢æ–¹å¼</td>\n<td>è¯·æ±‚å¤´ <code>Accept-Language</code> + <code>?lang=zh_CN</code></td>\n</tr>\n<tr>\n<td>æ¶ˆæ¯è·å–æ–¹å¼</td>\n<td>ä¼˜å…ˆä½¿ç”¨ <code>LocaleContextHolder.getLocale()</code></td>\n</tr>\n<tr>\n<td>å·¥å…·ç±»</td>\n<td>å°è£… <code>MessageUtils</code> ç»Ÿä¸€è·å–</td>\n</tr>\n<tr>\n<td>å¼‚å¸¸æ¶ˆæ¯</td>\n<td>å…¨éƒ¨ä½¿ç”¨ code + MessageUtils è·å–</td>\n</tr>\n<tr>\n<td>æ‰¾ä¸åˆ°key</td>\n<td>å»ºè®® <code>use-code-as-default-message=false</code></td>\n</tr>\n<tr>\n<td>ç¼–ç </td>\n<td>å¿…é¡» <code>UTF-8</code></td>\n</tr>\n</tbody>\n</table>\n<p dir=\"auto\">&nbsp;</p>\n<h3 dir=\"auto\">8. æµ‹è¯•æ–¹æ³•</h3>\n<ul dir=\"auto\">\n<li>æµè§ˆå™¨å¼€å‘è€…å·¥å…· â†’ Network â†’ ä¿®æ”¹è¯·æ±‚å¤´ Accept-Language: en-US,en;q=0.9</li>\n<li>æˆ–ç›´æ¥åœ¨ URL ååŠ  ?lang=en_US</li>\n</ul>\n<p dir=\"auto\">å®Œæˆä»¥ä¸Šæ­¥éª¤ï¼Œä½ çš„ Spring Boot é¡¹ç›®å°±å®ç°äº†æ ‡å‡†çš„å›½é™…åŒ–æ”¯æŒï¼Œæ‰€æœ‰æç¤ºä¿¡æ¯éƒ½å¯ä»¥æ ¹æ®ç”¨æˆ·è¯­è¨€è‡ªåŠ¨åˆ‡æ¢ã€‚</p>\n<p dir=\"auto\">&nbsp;</p>\n<p dir=\"auto\">&nbsp;</p>\n<p dir=\"auto\">&nbsp;</p>\n<p dir=\"auto\">&nbsp;</p>\n<p dir=\"auto\">&nbsp;</p>\n<p dir=\"auto\">&nbsp;</p>\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-21 15:15</span>&nbsp;\n<a href=\"https://www.cnblogs.com/Marktowin\">Marktowin</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">39</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "Dynamicâ€‘SQL2 æŸ¥è¯¢ç¯‡ï¼šMyBatis å¢å¼ºåˆ©å™¨ï¼Œè®© SQL åƒå†™ Java ä¸€æ ·ä¸æ»‘",
      "link": "https://www.cnblogs.com/pengweizhong/p/19511865",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/pengweizhong/p/19511865\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-21 14:43\">\n    <span>Dynamicâ€‘SQL2 æŸ¥è¯¢ç¯‡ï¼šMyBatis å¢å¼ºåˆ©å™¨ï¼Œè®© SQL åƒå†™ Java ä¸€æ ·ä¸æ»‘</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h1 id=\"dynamicsql2-æŸ¥è¯¢ç¯‡mybatis-å¢å¼ºåˆ©å™¨è®©-sql-åƒå†™-java-ä¸€æ ·ä¸æ»‘\">Dynamicâ€‘SQL2 æŸ¥è¯¢ç¯‡ï¼šMyBatis å¢å¼ºåˆ©å™¨ï¼Œè®© SQL åƒå†™ Java ä¸€æ ·ä¸æ»‘</h1>\n<blockquote>\n<p><strong>dynamicâ€‘sql2 çš„æŸ¥è¯¢èƒ½åŠ›è®¾è®¡ç›®æ ‡ï¼š</strong>   å†™ SQL è¦åƒå†™ Java ä¸€æ ·è‡ªç„¶ï¼›å¤æ‚æŸ¥è¯¢è¦åƒæ­ç§¯æœ¨ä¸€æ ·ç»„åˆï¼›ç»“æœæ˜ å°„è¦åƒæ“ä½œé›†åˆä¸€æ ·é¡ºæ»‘ã€‚</p>\n</blockquote>\n<p>æœ¬ç¯‡ç®€è¿°äº†ï¼š</p>\n<ul>\n<li>åŸºç¡€æŸ¥è¯¢</li>\n<li>ç»“æœæ˜ å°„</li>\n<li>åˆ†ç»„ / Map / åˆ†é¡µ</li>\n<li>Join / å­æŸ¥è¯¢ / JSON è¡¨</li>\n<li>åŠ¨æ€åˆ—å¼•ç”¨</li>\n<li>æ’åºä¸ SQL æ³¨å…¥é˜²å¾¡</li>\n<li>å¿½ç•¥åˆ—</li>\n<li>å‡½æ•°æŸ¥è¯¢</li>\n<li>æ­£åˆ™åŒ¹é…æ¡ä»¶</li>\n<li><strong>åŠ¨æ€åº“è¡¨åç§°ï¼ˆschema/tableï¼‰æœºåˆ¶</strong></li>\n<li><strong>åˆ†é¡µä½“ç³»ï¼ˆdynamicâ€‘sql2 / MyBatis / é€»è¾‘åˆ†é¡µï¼‰</strong></li>\n</ul>\n<h1 id=\"å¼•å…¥ä¾èµ–\">å¼•å…¥ä¾èµ–</h1>\n<blockquote>\n<p>æˆªæ­¢è‡³<code>2026-01-21</code>ï¼Œæœ€æ–°ç‰ˆæ˜¯<code>0.1.8</code>ï¼Œé¡¹ç›®åœ°å€ï¼š<a href=\"https://github.com/pengweizhong/dynamic-sql2\" rel=\"noopener nofollow\" target=\"_blank\">https://github.com/pengweizhong/dynamic-sql2</a></p>\n</blockquote>\n<pre><code class=\"language-xml\">        &lt;!-- Spring2.x --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.dynamic-sql&lt;/groupId&gt;\n            &lt;artifactId&gt;dynamic-sql2-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;0.1.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Spring3.x --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.dynamic-sql&lt;/groupId&gt;\n            &lt;artifactId&gt;dynamic-sql2-spring-boot3-starter&lt;/artifactId&gt;\n            &lt;version&gt;0.1.8&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>åœ¨<code>repository</code>å±‚æ³¨å…¥<code>SqlContext</code>  å¢åˆ æ”¹æŸ¥éƒ½å’Œæ­¤å¯¹è±¡äº¤äº’ï¼š</p>\n<pre><code class=\"language-java\">    @Resource\n    private SqlContext sqlContext;\n</code></pre>\n<h1 id=\"1-åŸºç¡€æŸ¥è¯¢ä¸ç»“æœæ˜ å°„\">1. åŸºç¡€æŸ¥è¯¢ä¸ç»“æœæ˜ å°„</h1>\n<h2 id=\"11-æŸ¥è¯¢åˆ—è¡¨\">1.1 æŸ¥è¯¢åˆ—è¡¨</h2>\n<pre><code class=\"language-java\">List&lt;Product&gt; list = sqlContext.select()\n        .allColumn()\n        .from(Product.class)\n        .fetch()\n        .toList();\n</code></pre>\n<h2 id=\"12-æŸ¥è¯¢å•åˆ—æ ‡é‡\">1.2 æŸ¥è¯¢å•åˆ—ï¼ˆæ ‡é‡ï¼‰</h2>\n<pre><code class=\"language-java\">LocalDate one = sqlContext.select()\n        .column(Product::getCreatedAt)\n        .from(Product.class)\n        .limit(1)\n        .fetch(LocalDate.class)\n        .toOne();\n</code></pre>\n<h2 id=\"13-æŸ¥è¯¢å•æ¡è®°å½•\">1.3 æŸ¥è¯¢å•æ¡è®°å½•</h2>\n<pre><code class=\"language-java\">Product product = sqlContext.select()\n        .allColumn()\n        .from(Product.class)\n        .where(c -&gt; c.andEqualTo(Product::getProductId, 7))\n        .fetch()\n        .toOne();\n</code></pre>\n<p>æˆ–ä½¿ç”¨ä¸»é”®å¿«æ·æ–¹å¼ï¼š</p>\n<pre><code class=\"language-java\">Product product2 = sqlContext.selectByPrimaryKey(Product.class, 7);\n</code></pre>\n<h1 id=\"2-tolist--toone--tomap--togroupingby\">2. toList / toOne / toMap / toGroupingBy</h1>\n<h2 id=\"21-åˆ†ç»„-togroupingby\">2.1 åˆ†ç»„ toGroupingBy</h2>\n<pre><code class=\"language-java\">Map&lt;Integer, HashSet&lt;String&gt;&gt; groupingBy = sqlContext.select()\n        .distinct()\n        .allColumn()\n        .from(User.class)\n        .fetch()\n        .toGroupingBy(\n                User::getUserId,\n                user -&gt; user.getName() + \"_hello\",\n                HashSet::new,\n                ConcurrentHashMap::new\n        );\n</code></pre>\n<h2 id=\"22-åˆ†ç»„å¸¦-dto\">2.2 åˆ†ç»„ï¼ˆå¸¦ DTOï¼‰</h2>\n<pre><code class=\"language-java\">LinkedHashMap&lt;String, HashSet&lt;Integer&gt;&gt; groupingBy = sqlContext.select()\n        .allColumn()\n        .from(User.class)\n        .limit(10)\n        .fetch(User.class)\n        .toGroupingBy(\n                User::getName,\n                User::getUserId,\n                HashSet::new,\n                LinkedHashMap::new\n        );\n</code></pre>\n<h2 id=\"23-tomapå«é‡å¤-key-å¤„ç†\">2.3 toMapï¼ˆå«é‡å¤ key å¤„ç†ï¼‰</h2>\n<pre><code class=\"language-java\">Map&lt;Integer, String&gt; map = sqlContext.select()\n        .distinct()\n        .allColumn()\n        .from(User.class)\n        .fetch()\n        .toMap(\n                user -&gt; 123,\n                user -&gt; user.getName() + \"_hello\"\n        );\n</code></pre>\n<p>é‡å¤ key ä¼šæŠ›å¼‚å¸¸ï¼Œå¯è‡ªå®šä¹‰åˆå¹¶ç­–ç•¥ï¼š</p>\n<pre><code class=\"language-java\">.toMap(\n    ProductView::getProductName,\n    v -&gt; v,\n    (v1, v2) -&gt; v1\n);\n</code></pre>\n<h1 id=\"3-join--å­æŸ¥è¯¢--json-è¡¨\">3. Join / å­æŸ¥è¯¢ / JSON è¡¨</h1>\n<h2 id=\"31-å¤šçº§-join--åˆ«å-è‡ªå…³è”\">3.1 å¤šçº§ join + åˆ«å ï¼ˆè‡ªå…³è”ï¼‰</h2>\n<pre><code class=\"language-java\">List&lt;Map&lt;String, Object&gt;&gt; list = sqlContext.select()\n        .column(\"d1\", DepartmentEntity::getId, \"l5Id\")\n        .column(\"d2\", DepartmentEntity::getId, \"l4Id\")\n        .column(\"d3\", DepartmentEntity::getId, \"l3Id\")\n        .column(\"d4\", DepartmentEntity::getId, \"l2Id\")\n        .column(\"d5\", DepartmentEntity::getId, \"l1Id\")\n        .from(DepartmentEntity.class, \"d1\")\n        .leftJoin(DepartmentEntity.class, \"d2\", c -&gt; c.andEqualTo(new Column(\"d1\",\"id\"), new Column(\"d2\",\"parent_id\")))\n        .leftJoin(DepartmentEntity.class, \"d3\", c -&gt; c.andEqualTo(new Column(\"d2\",\"id\"), new Column(\"d3\",\"parent_id\")))\n        .leftJoin(DepartmentEntity.class, \"d4\", c -&gt; c.andEqualTo(new Column(\"d3\",\"id\"), new Column(\"d4\",\"parent_id\")))\n        .leftJoin(DepartmentEntity.class, \"d5\", c -&gt; c.andEqualTo(new Column(\"d4\",\"id\"), new Column(\"d5\",\"parent_id\")))\n        .where(c -&gt; c.andIn(DepartmentEntity::getId, Arrays.asList(1,2,3)))\n        .fetchOriginalMap()\n        .toList();\n</code></pre>\n<h2 id=\"32-å­æŸ¥è¯¢-join\">3.2 å­æŸ¥è¯¢ join</h2>\n<pre><code class=\"language-java\">List&lt;Map&lt;String, Object&gt;&gt; list = sqlContext.select()\n        .allColumn(Product.class)\n        .from(Product.class)\n        .innerJoin(\n                select -&gt; select.allColumn(Product.class)\n                        .from(Category.class)\n                        .join(Product.class, on -&gt; on.andEqualTo(Category::getCategoryId, Product::getCategoryId))\n                        .where(c -&gt; c.andLessThanOrEqualTo(Category::getCategoryId, 10)),\n                \"t\",\n                on -&gt; on.andEqualTo(Product::getProductId, bindAlias(\"t\", Product::getProductId))\n        )\n        .fetchOriginalMap()\n        .toList();\n</code></pre>\n<h2 id=\"33-json-è¡¨å±•å¼€jsontable\">3.3 JSON è¡¨å±•å¼€ï¼ˆJsonTableï¼‰</h2>\n<pre><code class=\"language-java\">List&lt;Object&gt; list = sqlContext.select()\n        .column(\"o\", Order::getOrderId)\n        .column(\"jt\", Product::getProductName)\n        .from(Order.class, \"o\")\n        .join(() -&gt; new JsonTable(\n                        \"o\",\n                        Order::getOrderDetails,\n                        \"$.items[*]\",\n                        JsonColumn.builder()\n                                .column(\"product_name\")\n                                .dataType(\"VARCHAR(150)\")\n                                .jsonPath(\"$.product\")\n                                .build()\n                ),\n                \"jt\",\n                null\n        )\n        .fetch()\n        .toList();\n</code></pre>\n<h1 id=\"4-åŠ¨æ€åˆ—å¼•ç”¨-columnreference\">4. åŠ¨æ€åˆ—å¼•ç”¨ ColumnReference</h1>\n<pre><code class=\"language-java\">List&lt;Product&gt; list = sqlContext.select()\n        .column(Product::getProductId)\n        .columnReference(columnReference())\n        .from(Product.class)\n        .fetch()\n        .toList();\n</code></pre>\n<pre><code class=\"language-java\">AbstractColumnReference columnReference() {\n    return ColumnReference.withColumns()\n            .column(Product::getProductId)\n            .columnReference(columnReference2())\n            .column(Product::getProductName);\n}\n</code></pre>\n<h1 id=\"5-æ’åºä¸-sql-æ³¨å…¥é˜²å¾¡\">5. æ’åºä¸ SQL æ³¨å…¥é˜²å¾¡</h1>\n<h2 id=\"51-é“¾å¼æ’åº\">5.1 é“¾å¼æ’åº</h2>\n<pre><code class=\"language-java\">List&lt;User&gt; list = sqlContext.select()\n        .allColumn()\n        .from(User.class, \"u\")\n        .orderBy(true, sortField, SortOrder.DESC)\n        .thenOrderBy(false, User::getUserId)\n        .thenOrderBy(true, User::getName)\n        .fetch()\n        .toList();\n</code></pre>\n<h2 id=\"52-order-by-æ³¨å…¥æµ‹è¯•\">5.2 ORDER BY æ³¨å…¥æµ‹è¯•</h2>\n<pre><code class=\"language-java\">sqlContext.select()\n        .allColumn()\n        .from(User.class)\n        .orderBy(\"user_id; drop table users; --\", SortOrder.DESC)\n        .fetch()\n        .toList();\n</code></pre>\n<p>æ¡†æ¶ä¼šæ‹’ç»éæ³•å­—æ®µåï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼Œé¿å…æ³¨å…¥ã€‚</p>\n<h1 id=\"6-å¿½ç•¥åˆ—-ignorecolumn\">6. å¿½ç•¥åˆ— ignoreColumn</h1>\n<pre><code class=\"language-java\">List&lt;?&gt; list = sqlContext.select()\n        .allColumn()\n        .ignoreColumn(TempUserEntity::getName)\n        .ignoreColumn(TempDeptEntity::getName)\n        .from(TempUserEntity.class)\n        .join(TempDeptEntity.class, on -&gt; on.andEqualTo(TempUserEntity::getId, TempDeptEntity::getId))\n        .fetch()\n        .toList();\n</code></pre>\n<h1 id=\"7-æ—¥æœŸå‡½æ•°-dateformat--now\">7. æ—¥æœŸå‡½æ•° DateFormat / Now</h1>\n<pre><code class=\"language-java\">YearMonth yearMonth = sqlContext.select()\n        .column(new DateFormat(new Now(), \"%Y-%m\"))\n        .from(Dual.class)\n        .fetch(YearMonth.class)\n        .toOne();\n</code></pre>\n<h1 id=\"8-æ­£åˆ™åŒ¹é…-andmatchesæ‰©å±•ç‚¹\">8. æ­£åˆ™åŒ¹é… andMatchesï¼ˆæ‰©å±•ç‚¹ï¼‰</h1>\n<pre><code class=\"language-java\">List&lt;User&gt; list = sqlContext.select()\n        .allColumn()\n        .from(User.class)\n        .where(c -&gt; c.andMatches(User::getEmail, \".*@gmail\\\\.com\"))\n        .fetch()\n        .toList();\n</code></pre>\n<h1 id=\"9-åŠ¨æ€åº“è¡¨åç§°schematable\">9. åŠ¨æ€åº“è¡¨åç§°ï¼ˆschema/tableï¼‰</h1>\n<p><code>dynamicâ€‘sql2</code> çš„ <code>@Table</code> æ”¯æŒå ä½ç¬¦è§£æï¼Œå¯åŠ¨æ€ï¼š</p>\n<ul>\n<li>schema</li>\n<li>table</li>\n<li>alias</li>\n<li>dataSourceName</li>\n</ul>\n<h2 id=\"91-åŠ¨æ€-schema\">9.1 åŠ¨æ€ schema</h2>\n<p>ä»0.1.8èµ·ï¼Œè‡ªå®šä¹‰å€¼åº“è¡¨è§£æå™¨ï¼Œè¿™åœ¨åŒä¸€å®ä¾‹ç›¸ä¼¼ä¸šåŠ¡ä¸‹è·¨åº“æ—¶ä¸åŒçš„å‘½ä»¤åº“è¡¨å‘½åè§„åˆ™æ—¶éå¸¸æœ‰ç”¨ï¼Œä¸ä¼šå½±å“æŸ¥è¯¢é€Ÿåº¦ã€‚</p>\n<pre><code class=\"language-java\">@Table(schema = \"${tenant.schema:user_center}\", name = \"t_user\")\n</code></pre>\n<p>é…ç½®ï¼š</p>\n<pre><code class=\"language-properties\">tenant.schema = tenant_001\n</code></pre>\n<p>SQLæ•ˆæœç‰‡æ®µï¼š</p>\n<pre><code class=\"language-sql\">FROM tenant_001.t_user\n</code></pre>\n<h2 id=\"92-åŠ¨æ€è¡¨åå«é»˜è®¤å€¼\">9.2 åŠ¨æ€è¡¨åï¼ˆå«é»˜è®¤å€¼ï¼‰</h2>\n<pre><code class=\"language-java\">@Table(name = \"${tenant.table.user:t_user}\")\n</code></pre>\n<h2 id=\"93-åŠ¨æ€æ•°æ®æºæœ€é«˜ä¼˜å…ˆçº§\">9.3 åŠ¨æ€æ•°æ®æºï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰</h2>\n<pre><code class=\"language-java\">@Table(dataSourceName = \"ds_user\")\n</code></pre>\n<h2 id=\"94-å…¨å±€alias\">9.4 å…¨å±€alias</h2>\n<pre><code class=\"language-java\">@Table(name = \"t_user\", alias = \"u\")\n</code></pre>\n<h1 id=\"10-åˆ†é¡µä½“ç³»pagehelper\">10. åˆ†é¡µä½“ç³»ï¼ˆPageHelperï¼‰</h1>\n<p><code>dynamic-sql2</code>å†…ç½®äº†åˆ†é¡µæ”¯æŒçš„æŸ¥è¯¢</p>\n<h2 id=\"101-dynamicsql2-åˆ†é¡µ\">10.1 dynamicâ€‘sql2 åˆ†é¡µ</h2>\n<pre><code class=\"language-java\">PageInfo&lt;List&lt;User&gt;&gt; pageInfo = PageHelper.of(1, 10)\n        .selectPage(() -&gt; sqlContext.select()\n                .allColumn()\n                .from(User.class)\n                .fetch()\n                .toList());\n</code></pre>\n<h2 id=\"102-mybatis-åˆ†é¡µ\">10.2 MyBatis åˆ†é¡µ</h2>\n<pre><code class=\"language-java\">PageInfo&lt;List&lt;User&gt;&gt; pageInfo = PageHelper.ofMybatis(1, 10)\n        .selectPage(() -&gt; sqlContext.select()\n                .allColumn()\n                .from(User.class)\n                .fetch()\n                .toList());\n</code></pre>\n<p>Dynamic-SQL2æ”¯æŒmybatisçš„åˆ†é¡µï¼Œä½†æ˜¯éœ€è¦å¼•å…¥æ‹“å±•åŒ…ï¼š</p>\n<pre><code class=\"language-xml\">&lt;!-- Source: https://mvnrepository.com/artifact/com.dynamic-sql/dynamic-sql2-extension --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.dynamic-sql&lt;/groupId&gt;\n    &lt;artifactId&gt;dynamic-sql2-extension&lt;/artifactId&gt;\n    &lt;version&gt;0.1.6&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>è¯¥æ‹“å±•åŒ…é™¤äº†æ”¯æŒMybatisåˆ†é¡µå¤–ï¼Œå’Œå…¶æ˜ å°„è§„åˆ™ä¹Ÿæ˜¯å®Œå…¨å…¼å®¹ã€‚</p>\n<h2 id=\"103-applywhereå®éªŒæ€§\">10.3 applyWhereï¼ˆå®éªŒæ€§ï¼‰</h2>\n<p>è¯¥åœºæ™¯æœ‰æ—¶ä¼šé‡åˆ°ç±»ä¼¼æƒ…å†µï¼šæœ‰çš„ä¾èµ–jaræœ‰è‡ªå·±ç‹¬ç«‹çš„é€»è¾‘ä½“ç³»ï¼Œä½†æ˜¯åˆæƒ³ä¿®æ”¹å…¶å†…éƒ¨SQLï¼Œåœ¨ä¸æ”¹å˜å†…éƒ¨é€»è¾‘çš„æƒ…å†µä¸‹ï¼Œåœ¨å¤–éƒ¨å°è¯•ä¿®æ”¹SQLè¯­å¥ã€‚ç›®å‰åªæ˜¯å®éªŒé˜¶æ®µï¼Œæœ‰è¶³å¤Ÿçš„åœºæ™¯åœºæ™¯æ”¯æ’‘å’Œæ›´å¤šçš„æµ‹è¯•åï¼Œæ‰ä¼šReleaseè¯¥ç‰¹æ€§ã€‚</p>\n<pre><code class=\"language-java\">PageInfo&lt;List&lt;User&gt;&gt; pageInfo = PageHelper.of(1, 3)\n        .applyWhere(c -&gt; c.andGreaterThanOrEqualTo(User::getAge, 18))\n        .selectPage(\n    \t\t\t//å‡è®¾è¿™æ˜¯æ— æ³•ä¿®æ”¹/ä¸å…è®¸æ›´æ”¹çš„å†…éƒ¨SQLï¼Œé€šå¸¸æ˜¯jarçš„å½¢å¼æä¾›\n    \t\t\t() -&gt; sqlContext.select()\n                .allColumn()\n                .from(User.class)\n                .fetch()\n                .toList());\n</code></pre>\n<h2 id=\"104-é€»è¾‘åˆ†é¡µé›†åˆå†…å­˜åˆ†é¡µ\">10.4 é€»è¾‘åˆ†é¡µï¼ˆé›†åˆå†…å­˜åˆ†é¡µï¼‰</h2>\n<pre><code class=\"language-java\">PageInfo&lt;List&lt;Integer&gt;&gt; pageInfo = PageHelper.ofLogic(2, 3)\n        .selectPage(Arrays.asList(1,2,3,4,5,6,7));\n</code></pre>\n<h1 id=\"11-åˆ†é¡µ--åŠ¨æ€åº“è¡¨åç§°ç¤ºä¾‹\">11. åˆ†é¡µ + åŠ¨æ€åº“è¡¨åç§°ç¤ºä¾‹</h1>\n<pre><code class=\"language-java\">@Table(\n    schema = \"${tenant.schema:user_center}\",\n    name = \"${tenant.table.user:t_user}\",\n    alias = \"u\"\n)\npublic class User {}\n</code></pre>\n<p>åˆ†é¡µæŸ¥è¯¢ï¼š</p>\n<pre><code class=\"language-java\">PageInfo&lt;List&lt;User&gt;&gt; pageInfo = PageHelper.of(1, 10)\n        .selectPage(() -&gt; sqlContext.select()\n                .allColumn()\n                .from(User.class)\n                .fetch()\n                .toList());\n</code></pre>\n<p>æœ€ç»ˆ SQLï¼š</p>\n<pre><code class=\"language-java\">SELECT u.* \nFROM tenant_001.user_2025 u \nLIMIT 10 OFFSET 0\n</code></pre>\n<h1 id=\"æ‹“å±•\">æ‹“å±•</h1>\n<h2 id=\"è‡ªå®šä¹‰å‡½æ•°\">è‡ªå®šä¹‰å‡½æ•°</h2>\n<p>å¯¹äº<code>Dynamic-SQL2</code>æ²¡æœ‰æä¾›çš„å‡½æ•°ï¼Œå¦‚ä½•è‡ªå®šä¹‰å‘¢ï¼Ÿéå¸¸ç®€å•ï¼Œç»§æ‰¿<code>ColumnFunctionDecorator</code>æŠ½è±¡ç±»é‡å†™<code>getFunctionToString</code>æ–¹æ³•å³å¯ï¼Œç„¶åä»£ç ä¸­å°±å¯ä»¥å¼•ç”¨äº†ã€‚</p>\n<p>æ¯”å¦‚å·²å­˜åœ¨çš„<code>max</code>å‡½æ•°ä¸ºä¾‹ï¼š</p>\n<pre><code class=\"language-java\">/*\n * Copyright (c) 2024 PengWeizhong. All Rights Reserved.\n *\n * This source code is licensed under the MIT License.\n * You may obtain a copy of the License at:\n * https://opensource.org/licenses/MIT\n *\n * See the LICENSE file in the project root for more information.\n */\npackage com.dynamic.sql.core.column.function.windows.aggregate;\n\n\nimport com.dynamic.sql.core.FieldFn;\nimport com.dynamic.sql.core.Version;\nimport com.dynamic.sql.core.column.function.AbstractColumFunction;\nimport com.dynamic.sql.core.column.function.ColumnFunctionDecorator;\nimport com.dynamic.sql.core.column.function.windows.WindowsFunction;\nimport com.dynamic.sql.enums.SqlDialect;\nimport com.dynamic.sql.utils.ExceptionUtils;\nimport com.dynamic.sql.model.TableAliasMapping;\n\nimport java.util.Map;\n\n\npublic class Max extends ColumnFunctionDecorator implements AggregateFunction, WindowsFunction {\n\n    public Max(AbstractColumFunction delegateFunction) {\n        super(delegateFunction);\n    }\n\n    public &lt;T, F&gt; Max(FieldFn&lt;T, F&gt; fn) {\n        super(fn);\n    }\n\n    public &lt;T, F&gt; Max(String tableAlias, FieldFn&lt;T, F&gt; fn) {\n        super(tableAlias, fn);\n    }\n\n    @Override\n    public String getFunctionToString(SqlDialect sqlDialect, Version version, Map&lt;String, TableAliasMapping&gt; aliasTableMap) throws UnsupportedOperationException {\n        if (sqlDialect == SqlDialect.ORACLE) {\n            return \"MAX(\" + delegateFunction.getFunctionToString(sqlDialect, version, aliasTableMap) + \")\".concat(appendArithmeticSql(sqlDialect, version));\n        }\n        if (sqlDialect == SqlDialect.MYSQL) {\n            return \"max(\" + delegateFunction.getFunctionToString(sqlDialect, version, aliasTableMap) + \")\".concat(appendArithmeticSql(sqlDialect, version));\n        }\n        throw ExceptionUtils.unsupportedFunctionException(\"max\", sqlDialect);\n    }\n}\n\n</code></pre>\n<p>ä¹‹ååœ¨ä»£ç ä¸­ç›´æ¥å¼•ç”¨è¯¥ç±»ï¼š</p>\n<pre><code class=\"language-java\">    @Test\n    void testMax() {\n        Integer max = sqlContext.select()\n                .column(new Max(Product::getProductId))\n                .from(Product.class)\n                .fetch(Integer.class)\n                .toOne();\n        System.out.println(max);\n    }\n</code></pre>\n<p>æ‰“å°çš„SQL</p>\n<pre><code class=\"language-log\">2026-01-21 13:27:03 [main] DEBUG com.dynamic.sql.core.database.SqlDebugger - dataSource --&gt;     Preparing: select max(`p`.`product_id`) as productId from `dynamic_sql2`.`products` as `p`\n2026-01-21 13:27:03 [main] DEBUG com.dynamic.sql.core.database.SqlDebugger - dataSource --&gt;    Parameters: \n2026-01-21 13:27:03 [main] DEBUG com.dynamic.sql.core.database.SqlDebugger - dataSource &lt;--         Total: 1\n</code></pre>\n<p><code>AggregateFunction</code>å’Œ<code>WindowsFunction</code>æ ‡è¯†å‡½æ•°çš„åˆ†ç±»ï¼Œå› ä¸ºæœ‰äº›åœºæ™¯ä¸‹å‡½æ•°åµŒå¥—ä½¿ç”¨æ—¶ï¼Œä¼šè¦æ±‚æ˜¯çª—å£å‡½æ•°æˆ–å¿…é¡»æ˜¯å­—ç¬¦ä¸²å‡½æ•°ï¼Œå› æ­¤å£°æ˜ç±»å‹æ›´åŠ ç¬¦åˆå¼€å‘è§„èŒƒï¼Œå¦‚æœè‡ªå®šä¹‰çš„è¯ï¼Œå¯ä»¥ä¸ç”¨å…³å¿ƒå…·ä½“çš„å‡½æ•°åˆ†ç±»ï¼Œç›´æ¥ç»§æ‰¿<code>ColumnFunctionDecorator</code>å³å¯ã€‚</p>\n<p>ç›®å‰å®šä¹‰çš„å‡½æ•°åˆ†ç±»æ¥å£ï¼š</p>\n<ul>\n<li>AggregateFunction ï¼š èšåˆå‡½æ•°</li>\n<li>ScalarFunction ï¼š æ ‡é‡å‡½æ•°</li>\n</ul>\n<p><code>Max</code>å‡½æ•°ä¾èµ–çš„å…¨éƒ¨ä½“ç³»å¦‚å›¾æ‰€ç¤ºï¼š</p>\n<p><img alt=\"image-20260121140818596\" class=\"lazyload\" /></p>\n<h2 id=\"å›½äº§æ•°æ®åº“\">å›½äº§æ•°æ®åº“</h2>\n<p>å¯¹äºå›½äº§æ•°æ®åº“ï¼Œé€šå¸¸éƒ½ä¼šæ”¯æŒå’Œå…¼å®¹mysqlè¯­æ³•ï¼Œå› æ­¤é€šå¸¸ä¸ç”¨å¤ªæ‹…å¿ƒä¸å…¼å®¹çš„é—®é¢˜ã€‚ä½†æ˜¯<code>dynamic-sql2</code>å¯åŠ¨æ—¶ä¼šæ£€æµ‹å—æ”¯æŒçš„æ•°æ®åº“ï¼Œå¯¹äºä¸æ”¯æŒçš„æ•°æ®åº“ä¼šæ”¯æŒæŠ¥é”™ï¼Œåªè¦ä½ ç¡®è®¤å½“å‰æ‰€ä½¿ç”¨çš„æ•°æ®åº“æä¾›å•†å…¼å®¹<code>Mysql</code>ï¼Œé‚£ä¹ˆå°±å¯ä»¥å®Œå…¨ä½¿ç”¨<code>dynamic-sql2</code>ï¼</p>\n<h2 id=\"æ¨èä¸€æ¬¾å¥½ç”¨çš„-idea-mybatis-æ’ä»¶\">æ¨èä¸€æ¬¾å¥½ç”¨çš„ IDEA Mybatis æ’ä»¶</h2>\n<p>æœ€å–œæ¬¢çš„ç‰¹æ€§ä¹‹ä¸€æ˜¯åœ¨æ§åˆ¶å°å¯ä»¥å°†æ‰“å°çš„SQLç›´æ¥åˆå¹¶ä¸ºå¯æ‰§è¡Œçš„SQLè¯­å¥ï¼Œåœ¨å¼€å‘ç¯å¢ƒä¸­ç‰¹åˆ«æœ‰ç”¨ï¼</p>\n<p>æ’ä»¶ä¸»é¡µï¼š<a href=\"https://plugins.jetbrains.com/plugin/9837-mybatiscodehelperpro\" rel=\"noopener nofollow\" target=\"_blank\">https://plugins.jetbrains.com/plugin/9837-mybatiscodehelperpro</a></p>\n<p><img alt=\"image-20260121141250521\" class=\"lazyload\" /></p>\n<h1 id=\"-å®Œç»“æ’’èŠ±æ¬¢è¿åæ§½\">ğŸ‰ å®Œç»“æ’’èŠ±ï¼Œæ¬¢è¿åæ§½ğŸ‰</h1>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-21 14:43</span>&nbsp;\n<a href=\"https://www.cnblogs.com/pengweizhong\">pengweizhong</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">1</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "ä¸¤å¤©çƒ§æ‰200ç¾å…ƒï¼æˆ‘AIå¤§æ¨¡å‹ç½‘å…³ç»ˆäºæ”¯æŒäº†Claudeæ¨¡å‹",
      "link": "https://www.cnblogs.com/sdcb/p/19508169/20260120-chats-190",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/sdcb/p/19508169/20260120-chats-190\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-21 08:45\">\n    <span>ä¸¤å¤©çƒ§æ‰200ç¾å…ƒï¼æˆ‘AIå¤§æ¨¡å‹ç½‘å…³ç»ˆäºæ”¯æŒäº†Claudeæ¨¡å‹</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<p>è¿™æ˜¯ä¸€ä¸ªå…³äºâ€œçœŸé‡‘ç™½é“¶â€çš„å¼€å‘æ•…äº‹ã€‚</p>\n<p>Chats 1.9.0 å‘å¸ƒäº 2025 å¹´ 11 æœˆ 27 æ—¥ï¼Œè·ç¦»ä¸Šä¸€ä¸ªç‰ˆæœ¬å‘å¸ƒä»…è¿‡å»äº†ä¸åˆ°ä¸€ä¸ªæœˆã€‚ä½†å¯¹ Chats æ¥è¯´ï¼Œè¿™å´æ˜¯ä¸€ä¸ªé‡Œç¨‹ç¢‘å¼çš„ç‰ˆæœ¬ï¼š<strong>æˆ‘ä»¬ä¸ä»…å…¨é¢æ”¯æŒäº† Anthropicï¼ˆClaudeï¼‰æ¨¡å‹ï¼Œè¿˜é¡ºå¸¦æŠŠ .NET 10 ç»™å‡äº†ï¼Œç”šè‡³è¿˜æå‡ºäº†ä¸€å¥—èƒ½åœ¨ Chats é‡Œâ€œå€Ÿå£³â€è·‘ Claude Code çš„ API å…¼å®¹å±‚ã€‚</strong></p>\n<p>è€Œåœ¨è¿™ä¸€åˆ‡çš„èƒŒåï¼Œæ˜¯ä¸€å¼ è®©æˆ‘â€œè‚‰ç—›â€çš„ Azure è´¦å•ã€‚</p>\n<hr />\n<h2 id=\"ä¸€åˆ‡æºäºå¾®è½¯ä¸-anthropic-è”æ‰‹\">ä¸€åˆ‡æºäºâ€œå¾®è½¯ä¸ Anthropic è”æ‰‹â€</h2>\n<p>äº‹æƒ…è¦ä» 2025 å¹´ 11 æœˆ 19 æ—¥è¯´èµ·ã€‚é‚£å¤©ï¼Œå¾®è½¯ä¸ Anthropic è¾¾æˆåˆä½œï¼Œå®£å¸ƒå°†åœ¨ Azure å¹³å°ä¸Šæä¾› Anthropic çš„ Claude å¤§æ¨¡å‹æœåŠ¡ã€‚è¿™æ„å‘³ç€å¼€å‘è€…å’Œä¼ä¸šç”¨æˆ·å¯ä»¥é€šè¿‡ Azure äº‘æœåŠ¡è®¿é—® Claude æ¨¡å‹ã€‚</p>\n<p>ä½œä¸ºä¸€åå¾®è½¯ MVPï¼Œæˆ‘æœ¬ä»¥ä¸º Claude æ¨¡å‹å¯¹ MVP é¢åº¦æ¥è¯´æ˜¯å¯ä»¥ä½¿ç”¨çš„ï¼Œå› ä¸ºæ ¹æ®ä»¥å¾€çš„ç»éªŒï¼Œå¦‚æœæ²¡æœ‰èµ„æ ¼ä½¿ç”¨æŸé¡¹æœåŠ¡ï¼Œé€šå¸¸ä¼šç›´æ¥åœ¨æ§åˆ¶å°é‡Œæç¤ºâ€œæ— æƒé™â€æˆ–â€œæ— æ³•å¯ç”¨â€ï¼Œè€Œä¸æ˜¯ç›´æ¥å…è®¸ä½¿ç”¨ç„¶åäº§ç”Ÿé«˜é¢è´¹ç”¨ï¼Œä½†æˆ‘å¤§æ„äº†ã€‚</p>\n<p>å› æ­¤æˆ‘ç¬¬ä¸€æ—¶é—´å°±æƒ³åˆ°äº†å°† Claude æ¨¡å‹é›†æˆåˆ°æˆ‘è‡ªå·±çš„é¡¹ç›®ä¸­â€”â€”<strong>Sdcb Chats</strong>ã€‚</p>\n<p>å½“æ—¶ä¸ºäº†ç¡®ä¿ Anthropic Messages API å·¥ä½œæ­£å¸¸ä¸”ç¨³å®šï¼Œæˆ‘åšäº†å¤§é‡çš„æµ‹è¯•ã€‚ä¸ºäº†éªŒè¯å…¼å®¹æ€§ï¼Œæˆ‘ç”šè‡³è¿˜â€œç«™èµ·æ¥è¹¬â€ï¼Œç›´æ¥æ¥å…¥äº† Anthropic å®˜æ–¹çš„å‘½ä»¤è¡Œå·¥å…· <code>Claude Code</code> æ¥è·‘ Opus æ¨¡å‹ã€‚</p>\n<p>ç»“æœâ€¦â€¦çŸ­çŸ­ 2 å¤©æ—¶é—´ï¼Œæˆ‘åœ¨ Azure ä¸Šè·‘ Claude æ¨¡å‹çš„ API è°ƒç”¨è´¹ç”¨å°±é«˜è¾¾ <strong>192.95 ç¾å…ƒ</strong>ï¼</p>\n<p><img alt=\"\" src=\"https://img2024.cnblogs.com/blog/233608/202601/233608-20260120172700464-1622754976.png\" /></p>\n<p>å½“æ—¶çœ‹åˆ°è´¦å•æ•´ä¸ªäººéƒ½æ˜¯è’™çš„ã€‚ä¸è¿‡å¥½åœ¨â€œæ°ªé‡‘â€æ²¡æœ‰ç™½è´¹ï¼Œæœ€ç»ˆæˆ‘æˆåŠŸå°† Claude æ¨¡å‹å®Œç¾é›†æˆåˆ°äº† Sdcb Chats ä¸­ã€‚ç°åœ¨ï¼Œå¤§å®¶å¯ä»¥åœ¨ Chats ä¸­æ„‰å¿«åœ°ä½¿ç”¨ Claude æ¨¡å‹äº†ï¼</p>\n<hr />\n<h2 id=\"190-çš„æ ¸å¿ƒanthropic-å…¨é¢è½åœ°\">1.9.0 çš„æ ¸å¿ƒï¼šAnthropic å…¨é¢è½åœ°</h2>\n<p>åœ¨ 1.9.0 ä¹‹å‰ï¼ŒChats å¯¹ Claude çš„æ”¯æŒåªèƒ½è¯´æ˜¯â€œèƒ½ç”¨â€ï¼Œå› ä¸ºå¹¶æ²¡æœ‰åŸç”Ÿæ”¯æŒ Anthropic Messages APIï¼Œéœ€è¦é€šè¿‡ OpenAI å…¼å®¹æ¥å£è½¬è¯‘â€”â€”è€Œ OpenAI Chat Completions å…¼å®¹æ¥å£å¹¶ä¸æ”¯æŒ Extended Thinkingã€‚ä½†è¿™ä¸€æ¬¡ï¼Œæˆ‘æ˜¯<strong>åŸç”Ÿæ”¯æŒ</strong>ã€‚</p>\n<h3 id=\"åŸç”Ÿ-httpclient-å®ç°ä¸-thinking-æ”¯æŒ\">åŸç”Ÿ HttpClient å®ç°ä¸ Thinking æ”¯æŒ</h3>\n<p>ä¸ºäº†è¿½æ±‚æè‡´çš„æ€§èƒ½å’Œå¯æ§æ€§ï¼Œæˆ‘é‡å†™äº† Chats çš„åº•å±‚è°ƒç”¨é€»è¾‘ã€‚</p>\n<p>åŸæœ¬ Anthropic æä¾›äº†<a href=\"https://github.com/anthropics/anthropic-sdk-csharp\" rel=\"noopener nofollow\" target=\"_blank\">Anthropic C# API Library</a>ï¼Œæˆ‘ä¸€å¼€å§‹ä½¿ç”¨äº†è¿™ä¸ª SDKï¼Œä½†å‘ç°é‡Œé¢çš„éªŒè¯é€»è¾‘æœ‰ç‚¹å¤ªè¿‡åˆ†äº†ï¼Œè¿æ¨¡å‹åç§°éƒ½è¦éªŒè¯ï¼ˆæŠ¥é”™è¯´ï¼š<code>AnthropicInvalidDataException: Data did not match any variant of RawMessageStreamEvent</code>ï¼‰ã€‚åœ¨æˆ‘å¼€å‘çš„æ—¶å€™ï¼ŒOpus æ¨¡å‹è¿˜æ²¡å‘å¸ƒ 4.5 ç‰ˆæœ¬ï¼Œæˆ‘ä½¿ç”¨è¿™ä¸ª SDK è¿è‡ªå®¶çš„ Claude 4.5 Opus éƒ½æŠ¥é”™ï¼Œç¬‘æ­»ï¼æ›´ä¸è¦æç”¨è¿™ä¸ª SDK è¿æ¥å›½äº§çš„ MiniMax/GLM/DeepSeek v3.2 äº†ï¼Œè¿™ç§æ“ä½œéå¸¸â€œAnthropicâ€ï¼ˆè¿™ä¸ªé—®é¢˜ç›´åˆ° <strong>2026-01-14</strong> å‘å¸ƒçš„ <code>12.2.0</code> ç‰ˆæœ¬ä¸­æ‰è§£å†³ï¼ï¼‰ã€‚</p>\n<p><img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/233608/202601/233608-20260120214334386-1499186789.png\" /></p>\n<p>å› æ­¤æˆ‘çš„ <code>Git</code> æäº¤è®°å½•é‡Œå¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä¸€å¼€å§‹æ˜¯å‡†å¤‡èµ° SDK åš Anthropic æ”¯æŒçš„ï¼Œä½†æœ€ç»ˆåˆæ”¾å¼ƒäº†ï¼Œè½¬è€Œåœ¨ä»£ç ä¸­ç”¨åŸç”Ÿ <code>HttpClient</code> æ‰‹æ’¸äº†ä¸€ä¸ªè¿‘ 1000 è¡Œçš„ <code>AnthropicChatService</code>ã€‚</p>\n<p><img alt=\"\" src=\"https://img2024.cnblogs.com/blog/233608/202601/233608-20260120172700992-1302091122.png\" /></p>\n<p>è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿ</p>\n<ol>\n<li>\n<p><strong>å®Œæ•´æ”¯æŒ Thinkingï¼ˆæ€ç»´é“¾ï¼‰</strong>ï¼šClaude æ¨¡å‹çš„ Thinking å¯ä»¥åƒåœ¨å®˜æ–¹ç½‘é¡µç‰ˆé‚£æ ·å±•ç¤ºï¼Œæ”¯æŒæµå¼è¾“å‡ºï¼Œâ€œæ€è€ƒâ€ä¸â€œå›ç­”â€åˆ†ç¦»ã€‚ä¸ºæ­¤æˆ‘åœ¨æ•°æ®åº“ä¸­ä¸“é—¨æ–°å¢äº† <code>StepContentThink</code> è¡¨ï¼Œç”¨äºç‹¬ç«‹å­˜å‚¨æ€ç»´å†…å®¹ã€‚</p>\n<p><img alt=\"\" src=\"https://img2024.cnblogs.com/blog/233608/202601/233608-20260120172701332-89257932.png\" /></p>\n</li>\n<li>\n<p><strong>Signatureï¼ˆç­¾åï¼‰éªŒè¯</strong>ï¼šChats ç°åœ¨èƒ½æ­£ç¡®å¤„ç†å’Œå­˜å‚¨ Claude çš„æ€ç»´ç­¾åï¼ˆSignatureï¼‰ï¼Œç¡®ä¿è¯æ®é“¾å®Œæ•´ã€‚</p>\n</li>\n<li>\n<p><strong>Vision Link ä¼˜åŒ–</strong>ï¼šé»˜è®¤ä½¿ç”¨ URL è€Œé Base64 ä¼ å›¾ï¼Œå¤§å¹…èŠ‚çœå¸¦å®½å’Œ Tokenã€‚</p>\n</li>\n</ol>\n<p>åŒæ—¶ï¼Œæˆ‘è¿˜å¼•å…¥äº† <code>MaxThinkingBudget</code>ï¼ˆæ¨¡å‹çº§ï¼‰å’Œ <code>ThinkingBudget</code>ï¼ˆä¼šè¯çº§ï¼‰é…ç½®ï¼Œé˜²æ­¢ä½ çš„ Token å†åƒæˆ‘ä¸€æ ·â€œä¸çŸ¥ä¸è§‰â€åœ°çƒ§å®Œã€‚</p>\n<hr />\n<h2 id=\"å€Ÿå£³ä¸Šä½anthropic-messages-api-å…¼å®¹\">â€œå€Ÿå£³ä¸Šä½â€ï¼šAnthropic Messages API å…¼å®¹</h2>\n<p>è¿™ä¸€æ¡å¯èƒ½æ¯”åŸç”Ÿæ”¯æŒæ›´ç¡¬æ ¸ã€‚</p>\n<p>Chats 1.9.0 <strong>åå‘å®ç°</strong>äº† Anthropic çš„å®˜æ–¹ API åè®®ï¼ˆ<code>/v1/messages</code>ï¼‰ã€‚æˆ‘åœ¨ <code>src/BE/web/Controllers/Api/AnthropicCompatible/AnthropicMessagesController.cs</code> ä¸­å®Œæ•´å¤åˆ»äº† Anthropic çš„æ¥å£è§„èŒƒã€‚è¿™æ„å‘³ç€ Chats ä¸ä»…æ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œå®ƒæœ¬èº«ä¹Ÿå˜æˆäº†ä¸€ä¸ª<strong>æ ‡å‡†çš„ Anthropic API æœåŠ¡ç«¯</strong>ã€‚</p>\n<p><strong>ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšï¼Ÿ</strong></p>\n<p>å› ä¸ºç°åœ¨æœ‰å¾ˆå¤šä¼˜ç§€çš„å·¥å…·ï¼ˆæ¯”å¦‚ Cursorã€Claude Codeã€å„ç§ AI æ’ä»¶ï¼‰åªæ”¯æŒ Anthropic åŸç”Ÿåè®®ã€‚ä¸ºäº†æ”¯æŒå®˜æ–¹çš„ <code>claude-code</code> å‘½ä»¤è¡Œå·¥å…·ï¼ˆå¦‚åŠ¨å›¾ï¼Œåå°å¯ä»¥å®æ—¶è¿½è¸ª Claude Code çš„ä½¿ç”¨ä¿¡æ¯ï¼‰ï¼š</p>\n<p><img alt=\"\" src=\"https://img2024.cnblogs.com/blog/233608/202601/233608-20260120172701746-1289382319.avif\" /></p>\n<p>æˆ‘ç”šè‡³ä¸“é—¨ä¿®å¤äº† System Prompt çš„è§£æé€»è¾‘ï¼ŒåŒæ—¶ï¼Œæˆ‘è¿˜å¼•å…¥äº† <code>MaxThinkingBudget</code>ï¼ˆæ¨¡å‹çº§ï¼‰å’Œ <code>ThinkingBudget</code>ï¼ˆä¼šè¯çº§ï¼‰é…ç½®ï¼Œä»¥åŠ <strong>Prompt Cache Token</strong> çš„è®¡è´¹æ”¯æŒï¼ˆCommit <code>85a1c2a6</code>ï¼‰ï¼Œé˜²æ­¢ä½ çš„ Token å†åƒæˆ‘ä¸€æ ·â€œä¸çŸ¥ä¸è§‰â€åœ°çƒ§å®Œã€‚</p>\n<p>æ—¢ç„¶ Chats å·²ç»å˜æˆäº†ä¸€ä¸ªå¼ºå¤§çš„ API ç½‘å…³ï¼Œé‚£ä¹ˆé…å¥—çš„å¼€å‘è€…ä½“éªŒå¿…é¡»è·Ÿä¸Šã€‚</p>\n<p>1.9.0 æ–°å¢äº† <strong>Build</strong> æ¨¡å—ï¼ŒåŒ…å«ä¸‰ä¸ªæ ¸å¿ƒé¡µé¢ï¼š</p>\n<ul>\n<li><strong>API Keys</strong>ï¼šæ›´å®‰å…¨çš„å¯†é’¥ç®¡ç†ï¼Œæ”¯æŒè¿‡æœŸæ—¶é—´ã€å¤‡æ³¨ï¼Œè¿˜èƒ½çœ‹åˆ°å¯†é’¥æ©ç ã€‚</li>\n<li><strong>Docs</strong>ï¼šä¸€ç«™å¼æ–‡æ¡£ï¼Œåˆ—å‡ºäº†æ‰€æœ‰å…¼å®¹ OpenAI å’Œ Anthropic çš„ API ç«¯ç‚¹ï¼ˆæ”¯æŒä¸€é”®å¤åˆ¶ï¼‰ã€‚</li>\n<li><strong>Usage</strong>ï¼šæŒ‰ API Key ç»´åº¦çš„ç”¨é‡ç»Ÿè®¡ï¼Œè°ç”¨äº†å¤šå°‘ Tokenï¼Œä¸€ç›®äº†ç„¶ã€‚</li>\n</ul>\n<p><img alt=\"\" src=\"https://img2024.cnblogs.com/blog/233608/202601/233608-20260120172702273-280531674.png\" /></p>\n<hr />\n<h2 id=\"è§†è§‰ç”Ÿäº§åŠ›openai-å›¾åƒ-api-ä¸-net-10\">è§†è§‰ç”Ÿäº§åŠ›ï¼šOpenAI å›¾åƒ API ä¸ .NET 10</h2>\n<p>é™¤äº†å¤§è¯­è¨€æ¨¡å‹ï¼Œ1.9.0 è¿˜è¡¥é½äº†è§†è§‰èƒ½åŠ›ï¼š</p>\n<ul>\n<li>å®ç°äº†æ ‡å‡†çš„ OpenAI å›¾åƒç”Ÿæˆï¼ˆ<code>/v1/images/generations</code>ï¼‰å’Œç¼–è¾‘ï¼ˆ<code>/v1/images/edits</code>ï¼‰APIã€‚</li>\n<li>é…åˆå‰ç«¯çš„ <strong>ChatInput åŠ¨ç”»ä¼˜åŒ–</strong>ï¼Œç°åœ¨çš„å›¾ç‰‡ç”Ÿæˆä½“éªŒæ›´åŠ æµç•…ã€‚</li>\n</ul>\n<p><img alt=\"\" src=\"https://img2024.cnblogs.com/blog/233608/202601/233608-20260120172702911-1941831639.png\" /></p>\n<p>æœ€åï¼Œä½œä¸ºä¸€ä¸ª .NET ä¿¡ä»°ç²‰ï¼ŒChats 1.9.0 å·²ç»<strong>å…¨çº¿å‡çº§åˆ°äº† .NET 10</strong>ã€‚è™½ç„¶ç”¨æˆ·æ„ŸçŸ¥ä¸å¼ºï¼Œä½†è¿™å¸¦æ¥äº†æ›´å¥½çš„æ€§èƒ½å’Œæ›´ç°ä»£çš„åº•å±‚è®¾æ–½ï¼Œä¸ºæœªæ¥çš„é•¿è¿œå‘å±•æ‰“ä¸‹äº†åŸºç¡€ã€‚</p>\n<hr />\n<h2 id=\"ç»“è¯­ä¸ºäº†æ›´è‡ªç”±çš„-ai-ç½‘å…³\">ç»“è¯­ï¼šä¸ºäº†æ›´è‡ªç”±çš„ AI ç½‘å…³</h2>\n<p>ä» 1.7 çš„ MCP è½åœ°ï¼Œåˆ° 1.9 çš„ Anthropic åŸç”Ÿæ”¯æŒä¸ API å…¼å®¹ï¼ŒChats æ­£åœ¨ä¸€æ­¥æ­¥ä»ä¸€ä¸ªâ€œèŠå¤©ç½‘é¡µâ€è¿›åŒ–æˆä¸€ä¸ª<strong>çœŸæ­£é€šç”¨çš„ AI åŸºç¡€è®¾æ–½</strong>ã€‚</p>\n<p>é‚£ä¸ª 200 ç¾å…ƒçš„è´¦å•è™½ç„¶è®©äººå¿ƒç—›ï¼Œä½†å®ƒæ¢æ¥äº† Chats å¯¹ Claude çš„å®Œç¾æ”¯æŒï¼Œä»¥åŠé‚£æ®µâ€œä¸ºäº†æµ‹è¯•è€Œç–¯ç‹‚è°ƒç”¨â€çš„æ¿€æƒ…æ—¶å…‰ï¼Œæˆ‘è§‰å¾—â€”â€”å€¼äº†ï¼</p>\n<p>å¦å¤–ç›¸ä¿¡æˆ‘ï¼Œæˆ‘åšäº†ä¸€åˆ‡åŠªåŠ›å°è¯•è”ç³»å¾®è½¯å’Œ Anthropicï¼Œäº‰å–æŠŠé‚£ 200 ç¾å…ƒçš„è´¹ç”¨ç»™è¦å›æ¥ï¼Œä½†ä»–ä»¬äº’ç›¸æ¨è¯¿ï¼Œä¹Ÿæ²¡è¯´æ˜¯ç”¨æˆ·è‡ªå·±çš„è¡Œä¸ºæˆ–è€…å¹³å°è´£ä»»ï¼Œåªæ˜¯äº’ç›¸è¯´è¿™æ˜¯å¯¹æ–¹ï¼ˆå¾®è½¯/Anthropicï¼‰çš„è´£ä»»ï¼Œæ‰€ä»¥æœ€åä¹Ÿå°±ä¸äº†äº†ä¹‹äº†ã€‚</p>\n<p>æ„Ÿè°¢é˜…è¯»ï¼å–œæ¬¢çš„æœ‹å‹è¯·ç»™æˆ‘çš„ GitHub é¡¹ç›®ä¸€ä¸ª starï¼š<a href=\"https://github.com/sdcb/chats\" rel=\"noopener nofollow\" target=\"_blank\">https://github.com/sdcb/chats</a></p>\n<p>è¿™æ˜¯å®Œæ•´çš„æ›´æ–°æ—¥å¿—ï¼š<a href=\"https://github.com/sdcb/chats/blob/main/doc/zh-CN/release-notes/README.md\" rel=\"noopener nofollow\" target=\"_blank\">https://github.com/sdcb/chats/blob/main/doc/zh-CN/release-notes/README.md</a></p>\n<p>æœ‰ä»€ä¹ˆæƒ³æ³•ä¹Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€äº¤æµï¼Œä¹Ÿæ¬¢è¿åŠ å…¥æˆ‘çš„æ–°åˆ›å»ºçš„å¾®ä¿¡ç¾¤ï¼š</p>\n<p><img alt=\"\" src=\"https://io.starworks.cc:88/cv-public/2026/chats-wxg-qr.png\" /></p>\n<p>å¦‚æœä½ æ›´ä¹ æƒ¯ç”¨ QQ çš„è¯ï¼Œä¹Ÿå¯ä»¥åŠ å…¥ Chats QQ ç¾¤ï¼š498452653ï¼Œæˆ‘ä»¬ä¸€èµ·æ¢ç´¢æ›´å¤š AI æŠ€æœ¯ç¡¬æ ¸ç©æ³•ã€‚</p>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-21 08:45</span>&nbsp;\n<a href=\"https://www.cnblogs.com/sdcb\">.NETéªšæ“ä½œ</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">629</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">1</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "ä¸ºä»€ä¹ˆ IO æµé€šå¸¸åªèƒ½è¢«è¯»å–ä¸€æ¬¡",
      "link": "https://www.cnblogs.com/yanshajiuzhou/p/19508716",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/yanshajiuzhou/p/19508716\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-20 20:22\">\n    <span>ä¸ºä»€ä¹ˆ IO æµé€šå¸¸åªèƒ½è¢«è¯»å–ä¸€æ¬¡</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                    <div id=\"cnblogs_post_description\" style=\"display: none;\">\n        \n        IO æµåªèƒ½è¯»å–ä¸€æ¬¡ï¼Œæ˜¯ ç²¾å¿ƒè®¾è®¡çš„ï¼Œè´´åˆæ“ä½œç³»ç»Ÿæ–‡ä»¶ / ç½‘ç»œ IO çš„ \"é¡ºåºæ¶ˆè´¹\"&nbsp;ç‰¹æ€§ï¼Œä¿æŒå’Œåº•å±‚ç³»ç»Ÿçš„ä¸€è‡´æ€§ã€‚\n    </div>\n<div class=\"blogpost-body blogpost-body-html\" id=\"cnblogs_post_body\">\n<p>ä»Šå¤©æˆ‘ä»¬æ¥ä¸€èµ·æ¢è®¨ä¸‹&nbsp;ä¸ºä»€ä¹ˆ<strong> IO æµ</strong>é€šå¸¸åªèƒ½è¢«è¯»å–ä¸€æ¬¡ï¼Ÿ</p>\n<p>æˆ‘ä¸ºä»€ä¹ˆä¼šå‘å‡ºè¿™ä¸ªç–‘é—®å‘¢ï¼Ÿæ˜¯å› ä¸ºæˆ‘ç ”ç©¶Webå¼€å‘ä¸­çš„ä¸€ä¸ªé—®é¢˜æ—¶ï¼ŒHTTPè¯·æ±‚ä½“åœ¨ <strong>Filterï¼ˆè¿‡æ»¤å™¨ï¼‰</strong>å¤„è¢«è¯»å–äº†ä¹‹åï¼Œåœ¨ Controllerï¼ˆæ§åˆ¶å±‚ï¼‰å°±è¯»ä¸åˆ°å€¼äº†ï¼Œä½¿ç”¨ @RequestBody çš„æ—¶å€™ã€‚</p>\n<p>æ— è®ºæ˜¯å­—èŠ‚æµï¼ˆInputStream / OutputStreamï¼‰è¿˜æ˜¯å­—ç¬¦æµï¼ˆReader / Writerï¼‰ï¼Œæ‰€æœ‰åŸºäºæµçš„è¯»å–æ“ä½œéƒ½ä¼šç»´æŠ¤ä¸€ä¸ª <strong>\"ä½ç½®æŒ‡é’ˆ\"</strong>ã€‚</p>\n<ul>\n<li>åˆå§‹çŠ¶æ€ä¸‹ï¼ŒæŒ‡é’ˆæŒ‡å‘æµçš„èµ·å§‹ä½ç½®<strong>ï¼ˆposition = 0ï¼‰</strong>ï¼›</li>\n<li>æ¯æ¬¡è°ƒç”¨ <strong>read() / read(byte[]) / read(char[])</strong> ç­‰è¯»å–æ–¹æ³•æ—¶ï¼ŒæŒ‡é’ˆä¼šå‘åç§»åŠ¨å¯¹åº”å­—èŠ‚æ•°ï¼›</li>\n<li>å½“æŒ‡é’ˆç§»åŠ¨åˆ°æµçš„æœ«å°¾ï¼ˆæ²¡æœ‰æ›´å¤šæ•°æ®ï¼‰ï¼Œread() æ–¹æ³•ä¼šè¿”å› <strong>-1</strong>ï¼Œè¡¨ç¤ºæµè¯»å–å®Œæ¯•ï¼›</li>\n<li>æŒ‡é’ˆç§»åŠ¨åä¸ä¼šè‡ªåŠ¨å›é€€ï¼Œä¹Ÿæ— æ³•åå‘ç§»åŠ¨ï¼ˆé™¤éæµæ˜¾å¼æ”¯æŒé‡ç½®ï¼‰ï¼Œå› æ­¤å†æ¬¡è¯»å–åªèƒ½å¾—åˆ° <strong>-1</strong>ã€‚</li>\n</ul>\n<p><strong>ç±»æ¯”</strong>ï¼š<strong>IO æµ</strong>çš„è¯»å–è¿‡ç¨‹ï¼Œå°±åƒç”¨ <strong>ç£å¸¦æ’­æ”¾å™¨å¬ç£å¸¦</strong> â€”â€” ç£å¤´ï¼ˆå¯¹åº”æµçš„ä½ç½®æŒ‡é’ˆï¼‰ä»ç£å¸¦å¼€å¤´ï¼ˆæŒ‡é’ˆ 0ï¼‰å¼€å§‹ç§»åŠ¨ï¼Œæ¯è¯»ä¸€ä¸ªå­—èŠ‚ / å­—ç¬¦ï¼Œç£å¤´å°±å¾€åèµ°ä¸€æ­¥ï¼›å½“ç£å¤´èµ°åˆ°ç£å¸¦æœ«å°¾ï¼Œå†ç»§ç»­æ’­æ”¾ï¼ˆè¯»å–ï¼‰å°±åªèƒ½å¬åˆ° \"æ²™æ²™å£°\"ï¼ˆæµè¿”å› <strong>-1</strong>ï¼‰ï¼Œå¹¶ä¸”ç£å¤´ä¸ä¼šè‡ªåŠ¨å›åˆ°å¼€å¤´ã€‚</p>\n<p>å½“ç„¶ï¼Œ<strong>ä¸æ˜¯æ‰€æœ‰æµéƒ½åªèƒ½è¯»ä¸€æ¬¡</strong>ï¼Œ<strong>åŸºäºå†…å­˜çš„æµ</strong>ï¼ˆå¦‚ <strong>ByteArrayInputStream / CharArrayReader</strong>ï¼‰æ”¯æŒé‡ç½®æŒ‡é’ˆï¼Œå› ä¸ºå®ƒä»¬çš„æ•°æ®æºæ˜¯å†…å­˜ä¸­çš„æ•°ç»„ï¼ˆ<strong>æ•°æ®ä¸ä¼šæ¶ˆå¤±</strong>ï¼‰ï¼Œå¯ä»¥é€šè¿‡ <strong>mark()</strong> å’Œ <strong>reset()&nbsp;</strong>æ–¹æ³•å°†æŒ‡é’ˆ <strong>æ¢å¤</strong> åˆ°æ ‡è®°ä½ç½®ã€‚</p>\n<p>éœ€è¦æ³¨æ„ï¼š</p>\n<ul>\n<li>è°ƒç”¨ <strong>reset()&nbsp;</strong>å‰å¿…é¡»å…ˆè°ƒç”¨ <strong>mark(int readlimit)</strong>ï¼›</li>\n<li>ä¸æ˜¯æ‰€æœ‰æµéƒ½æ”¯æŒ <strong>mark() / reset()</strong>ï¼Œå¯ä»¥é€šè¿‡ <strong>inputStream.markSupported()</strong> æ¥è¿›è¡Œåˆ¤æ–­ã€‚</li>\n</ul>\n<p><strong>ä½¿ç”¨ mark() å’Œ reset() æ–¹æ³•ï¼š</strong></p>\n<pre class=\"language-java highlighter-hljs\"><code>// ä»…é€‚ç”¨äºæ”¯æŒmarkçš„æµ\npublic void processWithMark(InputStream input) throws IOException {\n    if (!input.markSupported()) {\n        throw new IOException(\"Mark not supported\");\n    }\n    \n    // æ ‡è®°å½“å‰ä½ç½®ï¼Œå‚æ•°100è¡¨ç¤ºæœ€å¤šå¯å›é€€100å­—èŠ‚\n    input.mark(100);\n    \n    // ç¬¬ä¸€æ¬¡è¯»å–\n    byte[] firstRead = new byte[50];\n    input.read(firstRead);\n    System.out.println(\"First read: \" + new String(firstRead));\n    \n    // é‡ç½®åˆ°æ ‡è®°ä½ç½®\n    input.reset();\n    \n    // ç¬¬äºŒæ¬¡è¯»å–ï¼ˆç›¸åŒå†…å®¹ï¼‰\n    byte[] secondRead = new byte[50];\n    input.read(secondRead);\n    System.out.println(\"Second read: \" + new String(secondRead));\n}</code></pre>\n<p>ä½¿ç”¨ <strong>åŒ…è£…ç±»</strong> è§£å†³ä¸Šæ–‡æˆ‘ä»¬æåˆ°çš„&nbsp;<strong>HTTPè¯·æ±‚ä½“å¤šæ¬¡è¯»å– </strong>çš„é—®é¢˜ï¼š</p>\n<pre class=\"language-java highlighter-hljs\"><code>public class MyRequestWrapper extends HttpServletRequestWrapper {\n    private final byte[] body; // ç¼“å­˜è¯·æ±‚ä½“çš„å­—èŠ‚æ•°ç»„\n\n    public MyRequestWrapper(HttpServletRequest request) throws IOException {\n        super(request);\n        // å…³é”®æ­¥éª¤ï¼šåœ¨æ„é€ æ—¶ä¸€æ¬¡æ€§è¯»å–å¹¶å­˜å‚¨åŸå§‹è¯·æ±‚æµ\n        body = StreamUtils.copyToByteArray(request.getInputStream());\n    }\n\n    // æä¾›ä¸€ä¸ªä¾¿æ·æ–¹æ³•ï¼Œç”¨äºåœ¨è¿‡æ»¤å™¨ä¸­è·å–è¯·æ±‚ä½“å†…å®¹ï¼ˆä¾‹å¦‚è®°å½•æ—¥å¿—ï¼‰\n    // ä½¿ç”¨æ—¶ï¼Œç›´æ¥è°ƒç”¨ getBodyString() å³å¯\n    public String getBodyString() throws UnsupportedEncodingException {\n        return new String(body, this.getCharacterEncoding());\n    }\n\n    @Override\n    public ServletInputStream getInputStream() throws IOException {\n        // æ¯æ¬¡è°ƒç”¨éƒ½è¿”å›ä¸€ä¸ªåŸºäºç¼“å­˜æ•°æ®çš„æ–°æµ\n        ByteArrayInputStream bais = new ByteArrayInputStream(body);\n        return new ServletInputStream() {\n            @Override\n            public int read() {\n                return bais.read();\n            }\n\n            @Override\n            public boolean isFinished() {\n                return bais.available() == 0;\n            }\n\n            @Override\n            public boolean isReady() {\n                return true;\n            }\n\n            @Override\n            public void setReadListener(ReadListener readListener) {\n                // æ— éœ€å®ç°\n            }\n        };\n    }\n\n    @Override\n    public BufferedReader getReader() throws IOException {\n        return new BufferedReader(new InputStreamReader(this.getInputStream(), this.getCharacterEncoding()));\n    }\n}</code></pre>\n<p>ç„¶ååœ¨ <strong>è¿‡æ»¤å™¨</strong> å¤„åŒ…è£…è¯·æ±‚ï¼š</p>\n<pre class=\"language-java highlighter-hljs\"><code>@Slf4j\n@Configuration\npublic class RequestCachingFilterConfig {\n\n    @Bean\n    public FilterRegistrationBean requestCachingFilter() {\n        FilterRegistrationBean registrationBean = new FilterRegistrationBean();\n\n        // æ ¸å¿ƒï¼šåˆ›å»ºè¿‡æ»¤å™¨ï¼ŒåŒ…è£…è¯·æ±‚ä¸º ContentCachingRequestWrapper\n        registrationBean.setFilter(new OncePerRequestFilter() {\n            @Override\n            protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n                    throws ServletException, IOException {\n                // 1. ä»…åŒ…è£… HTTP è¯·æ±‚ï¼ˆæ’é™¤ WebSocket ç­‰ï¼‰\n                if (request instanceof HttpServletRequest &amp;&amp; !(request instanceof ContentCachingRequestWrapper)) {\n                    log.info(\"==========è¿›å…¥requestCachingFilter========\");\n                    // 2. åŒ…è£…è¯·æ±‚ï¼ˆè‡ªåŠ¨ç¼“å­˜è¯·æ±‚ä½“ï¼‰\n                    MyRequestWrapper wrappedRequest = new MyRequestWrapper(request);\n                    filterChain.doFilter(wrappedRequest, response); // ä¼ é€’åŒ…è£…åçš„è¯·æ±‚\n                } else {\n                    filterChain.doFilter(request, response); // æ— éœ€åŒ…è£…ï¼Œç›´æ¥æ”¾è¡Œ\n                }\n            }\n        });\n\n        // 3. é…ç½®æ‹¦æˆªæ‰€æœ‰è¯·æ±‚ï¼ˆå¯æ ¹æ®éœ€æ±‚è°ƒæ•´ URL æ¨¡å¼ï¼‰\n        registrationBean.addUrlPatterns(\"/*\");\n        registrationBean.setOrder(1); // ä¼˜å…ˆçº§æœ€é«˜ï¼Œç¡®ä¿å…ˆäºå…¶ä»–è¿‡æ»¤å™¨æ‰§è¡Œ\n        registrationBean.setName(\"requestCachingFilter\");\n        return registrationBean;\n    }\n}</code></pre>\n<p><strong>IO æµ</strong>åªèƒ½è¯»å–ä¸€æ¬¡ï¼Œæ˜¯ <strong>ç²¾å¿ƒè®¾è®¡çš„</strong>ï¼Œè´´åˆæ“ä½œç³»ç»Ÿæ–‡ä»¶ / ç½‘ç»œ IO çš„ <strong>\"é¡ºåºæ¶ˆè´¹\"</strong>&nbsp;ç‰¹æ€§ï¼Œä¿æŒå’Œåº•å±‚ç³»ç»Ÿçš„ä¸€è‡´æ€§ã€‚</p>\n<p style=\"text-align: right;\"><span style=\"color: rgba(53, 152, 219, 1);\">å¤–åœ¨å½¢å¼è¶Šç®€å•çš„ä¸œè¥¿ï¼Œæ™ºæ…§å«é‡è¶Šé«˜ï¼Œå› ä¸ºå®ƒå·²ç»ä¸å†ä¾èµ–å½¢å¼ï¼Œå¿…é¡»ä¾é æ™ºæ…§ã€‚-- çƒŸæ²™ä¹æ´²</span></p>\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-20 20:22</span>&nbsp;\n<a href=\"https://www.cnblogs.com/yanshajiuzhou\">çƒŸæ²™ä¹æ´²</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">171</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "å‘Šåˆ« throw exceptionï¼ä¸ºä»€ä¹ˆ Result<T> æ‰æ˜¯ä¸šåŠ¡é€»è¾‘çš„æ­£ç¡®é€‰æ‹©",
      "link": "https://www.cnblogs.com/diamondhusky/p/19508626",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/diamondhusky/p/19508626\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-20 19:40\">\n    <span>å‘Šåˆ« throw exceptionï¼ä¸ºä»€ä¹ˆ Result&lt;T&gt; æ‰æ˜¯ä¸šåŠ¡é€»è¾‘çš„æ­£ç¡®é€‰æ‹©</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<p></p><div class=\"toc\"><div class=\"toc-container-header\">ç›®å½•</div><ul><li><a href=\"#å¼•è¨€ä¸€ä¸ªæ™®éå­˜åœ¨çš„åå‘³é“\" rel=\"noopener nofollow\">å¼•è¨€ï¼šä¸€ä¸ªæ™®éå­˜åœ¨çš„â€œåå‘³é“â€</a></li><li><a href=\"#ä¸€å¼‚å¸¸çš„åŸç½ª--æˆ‘ä»¬ä¸€ç›´åœ¨æ»¥ç”¨å®ƒ\" rel=\"noopener nofollow\">ä¸€ã€å¼‚å¸¸çš„â€œåŸç½ªâ€ â€”â€” æˆ‘ä»¬ä¸€ç›´åœ¨æ»¥ç”¨å®ƒ</a><ul><li><a href=\"#11-å¼‚å¸¸çš„æœ¬è´¨æ˜¯ä»€ä¹ˆ\" rel=\"noopener nofollow\">1.1 å¼‚å¸¸çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ</a></li><li><a href=\"#12-ä¸šåŠ¡é€»è¾‘--å¼‚å¸¸æƒ…å†µ\" rel=\"noopener nofollow\">1.2 ä¸šåŠ¡é€»è¾‘ â‰  å¼‚å¸¸æƒ…å†µ</a></li></ul></li><li><a href=\"#äºŒresultä¸šåŠ¡é€»è¾‘çš„ä¼˜é›…é™çº§\" rel=\"noopener nofollow\">äºŒã€Resultâ€”â€”ä¸šåŠ¡é€»è¾‘çš„\"ä¼˜é›…é™çº§\"</a><ul><li><a href=\"#21-ä»€ä¹ˆæ˜¯result\" rel=\"noopener nofollow\">2.1 ä»€ä¹ˆæ˜¯Resultï¼Ÿ</a></li><li><a href=\"#22-å¦‚ä½•æ­£ç¡®ä½¿ç”¨result\" rel=\"noopener nofollow\">2.2 å¦‚ä½•æ­£ç¡®ä½¿ç”¨Resultï¼Ÿ</a></li></ul></li><li><a href=\"#ä¸‰æ€§èƒ½å¯¹å†³--å‡ è¿‘ç¢¾å‹çš„æ€§èƒ½å·®è·\" rel=\"noopener nofollow\">ä¸‰ã€æ€§èƒ½å¯¹å†³ â€”â€” å‡ è¿‘ç¢¾å‹çš„æ€§èƒ½å·®è·</a><ul><li><a href=\"#31-éƒ¨åˆ†æµ‹è¯•ä»£ç \" rel=\"noopener nofollow\">3.1 éƒ¨åˆ†æµ‹è¯•ä»£ç </a></li><li><a href=\"#32-æµ‹è¯•ç»“æœè§¦ç›®æƒŠå¿ƒ\" rel=\"noopener nofollow\">3.2 æµ‹è¯•ç»“æœï¼šè§¦ç›®æƒŠå¿ƒ</a></li><li><a href=\"#33-å¹¶å‘åœºæ™¯ä¸‹æ€§èƒ½å·®è·ä¾æ—§ä¸å¿ç›´è§†\" rel=\"noopener nofollow\">3.3 å¹¶å‘åœºæ™¯ä¸‹ï¼šæ€§èƒ½å·®è·ä¾æ—§ä¸å¿ç›´è§†</a></li></ul></li><li><a href=\"#å››ä¸ºä»€ä¹ˆå¼‚å¸¸åœ¨ä¸šåŠ¡åœºæ™¯ä¸‹å¦‚æ­¤æ˜‚è´µ\" rel=\"noopener nofollow\">å››ã€ä¸ºä»€ä¹ˆå¼‚å¸¸åœ¨ä¸šåŠ¡åœºæ™¯ä¸‹å¦‚æ­¤\"æ˜‚è´µ\"ï¼Ÿ</a><ul><li><a href=\"#41-clrå¼‚å¸¸æœºåˆ¶çš„åº•å±‚åŸç†\" rel=\"noopener nofollow\">4.1 CLRå¼‚å¸¸æœºåˆ¶çš„åº•å±‚åŸç†</a><ul><li><a href=\"#411-å¼‚å¸¸å¯¹è±¡çš„æ„é€ è¿‡ç¨‹\" rel=\"noopener nofollow\">4.1.1 å¼‚å¸¸å¯¹è±¡çš„æ„é€ è¿‡ç¨‹</a></li><li><a href=\"#412-å †æ ˆè·Ÿè¸ªçš„çœŸå®ä»£ä»·\" rel=\"noopener nofollow\">4.1.2 å †æ ˆè·Ÿè¸ªçš„çœŸå®ä»£ä»·</a></li><li><a href=\"#413-jitå’Œaotç¼–è¯‘å¯¹å¼‚å¸¸çš„å½±å“\" rel=\"noopener nofollow\">4.1.3 JITå’ŒAOTç¼–è¯‘å¯¹å¼‚å¸¸çš„å½±å“</a></li></ul></li><li><a href=\"#42-å¼‚å¸¸å¤„ç†çš„å†…å­˜åˆ†é…ç»†èŠ‚\" rel=\"noopener nofollow\">4.2 å¼‚å¸¸å¤„ç†çš„å†…å­˜åˆ†é…ç»†èŠ‚</a><ul><li><a href=\"#421-å¼‚å¸¸å¯¹è±¡çš„å†…å­˜å¸ƒå±€\" rel=\"noopener nofollow\">4.2.1 å¼‚å¸¸å¯¹è±¡çš„å†…å­˜å¸ƒå±€</a></li><li><a href=\"#422-gcçš„å½±å“\" rel=\"noopener nofollow\">4.2.2 GCçš„å½±å“</a></li></ul></li><li><a href=\"#43-cpuçº§åˆ«çš„æ€§èƒ½å½±å“\" rel=\"noopener nofollow\">4.3 CPUçº§åˆ«çš„æ€§èƒ½å½±å“</a><ul><li><a href=\"#431-ç°ä»£cpuçš„å¼‚å¸¸å¤„ç†å¼€é”€\" rel=\"noopener nofollow\">4.3.1 ç°ä»£CPUçš„å¼‚å¸¸å¤„ç†å¼€é”€</a></li><li><a href=\"#432-å¯¹æ¯”æ­£å¸¸è¿”å›å’Œå¼‚å¸¸è¿”å›\" rel=\"noopener nofollow\">4.3.2 å¯¹æ¯”æ­£å¸¸è¿”å›å’Œå¼‚å¸¸è¿”å›</a></li></ul></li><li><a href=\"#44-å¯¹æ¯”å…¶ä»–ç¼–ç¨‹è¯­è¨€\" rel=\"noopener nofollow\">4.4 å¯¹æ¯”å…¶ä»–ç¼–ç¨‹è¯­è¨€</a><ul><li><a href=\"#441-javaçš„å¼‚å¸¸æœºåˆ¶\" rel=\"noopener nofollow\">4.4.1 Javaçš„å¼‚å¸¸æœºåˆ¶</a></li><li><a href=\"#442-goçš„é”™è¯¯å¤„ç†å“²å­¦\" rel=\"noopener nofollow\">4.4.2 Goçš„é”™è¯¯å¤„ç†å“²å­¦</a></li><li><a href=\"#443-rustçš„resultç±»å‹\" rel=\"noopener nofollow\">4.4.3 Rustçš„Resultç±»å‹</a></li><li><a href=\"#444-cçš„é”™è¯¯å¤„ç†\" rel=\"noopener nofollow\">4.4.4 C++çš„é”™è¯¯å¤„ç†</a></li></ul></li><li><a href=\"#45-net-coreçš„æ”¹è¿›å’Œå±€é™\" rel=\"noopener nofollow\">4.5 .NET Coreçš„æ”¹è¿›å’Œå±€é™</a></li></ul></li><li><a href=\"#äº”resultçš„è¿›é˜¶ä¼˜åŠ¿\" rel=\"noopener nofollow\">äº”ã€Resultçš„è¿›é˜¶ä¼˜åŠ¿</a><ul><li><a href=\"#51-ä¸°å¯Œçš„é”™è¯¯ä¿¡æ¯\" rel=\"noopener nofollow\">5.1 ä¸°å¯Œçš„é”™è¯¯ä¿¡æ¯</a></li><li><a href=\"#52-å‡½æ•°å¼ç¼–ç¨‹æ”¯æŒ\" rel=\"noopener nofollow\">5.2 å‡½æ•°å¼ç¼–ç¨‹æ”¯æŒ</a></li><li><a href=\"#53-æ›´å¥½çš„apiè®¾è®¡\" rel=\"noopener nofollow\">5.3 æ›´å¥½çš„APIè®¾è®¡</a></li></ul></li><li><a href=\"#å…­-resultæ¨¡å¼çš„ä¸€äº›å¼Šç«¯\" rel=\"noopener nofollow\">å…­ã€ Resultæ¨¡å¼çš„ä¸€äº›å¼Šç«¯</a><ul><li><a href=\"#61-ifåœ°ç‹±é—®é¢˜æ¡ä»¶åˆ¤æ–­æ³›æ»¥\" rel=\"noopener nofollow\">6.1 \"ifåœ°ç‹±\"é—®é¢˜ï¼ˆæ¡ä»¶åˆ¤æ–­æ³›æ»¥ï¼‰</a></li><li><a href=\"#62-å€¼ç±»å‹structvs-å¼•ç”¨ç±»å‹classçš„ä¸¤éš¾é€‰æ‹©\" rel=\"noopener nofollow\">6.2 å€¼ç±»å‹ï¼ˆstructï¼‰vs å¼•ç”¨ç±»å‹ï¼ˆclassï¼‰çš„ä¸¤éš¾é€‰æ‹©</a></li><li><a href=\"#63-å¼‚æ­¥ç¼–ç¨‹çš„å¤æ‚æ€§\" rel=\"noopener nofollow\">6.3 å¼‚æ­¥ç¼–ç¨‹çš„å¤æ‚æ€§</a></li><li><a href=\"#64-ç±»å‹ç³»ç»Ÿå†—é•¿\" rel=\"noopener nofollow\">6.4 ç±»å‹ç³»ç»Ÿå†—é•¿</a></li><li><a href=\"#65-å…¶ä»–é—®é¢˜\" rel=\"noopener nofollow\">6.5 å…¶ä»–é—®é¢˜</a></li></ul></li><li><a href=\"#ä¸ƒå¸¸è§é—®é¢˜ä¸ç­”ç–‘\" rel=\"noopener nofollow\">ä¸ƒã€å¸¸è§é—®é¢˜ä¸ç­”ç–‘</a></li><li><a href=\"#å…«æ€»ç»“\" rel=\"noopener nofollow\">å…«ã€æ€»ç»“</a></li></ul></div><p></p>\n<h1 id=\"å¼•è¨€ä¸€ä¸ªæ™®éå­˜åœ¨çš„åå‘³é“\">å¼•è¨€ï¼šä¸€ä¸ªæ™®éå­˜åœ¨çš„â€œåå‘³é“â€</h1>\n<p>å¦‚æœä½ åœ¨C#é¡¹ç›®ä¸­çœ‹åˆ°è¿™æ ·çš„ä»£ç ï¼Œä¸€å®šä¸ä¼šæ„Ÿåˆ°é™Œç”Ÿï¼š</p>\n<pre><code class=\"language-csharp\">public User Login(string username, string password)\n{\n    var user = FindUser(username);\n    if (user == null)\n        throw new Exception(\"ç”¨æˆ·ä¸å­˜åœ¨\");  // âŒ ç†Ÿæ‚‰çš„æ¨¡å¼\n    \n    if (!VerifyPassword(user, password))\n        throw new Exception(\"å¯†ç é”™è¯¯\");    // âŒ å¦ä¸€ä¸ªç†Ÿæ‚‰çš„æ¨¡å¼\n    \n    return user;\n}\n</code></pre>\n<p>è¿™ç§ä½¿ç”¨å¼‚å¸¸æ¥å¤„ç†ä¸šåŠ¡é€»è¾‘çš„åšæ³•ï¼Œå‡ ä¹æˆäº†C#å¼€å‘çš„â€œæ ‡å‡†èŒƒå¼â€ã€‚<br />\nå¯æ˜¯ï¼Œ<strong>ä»æ¥å¦‚æ­¤ï¼Œä¾¿æ˜¯å¯¹çš„ä¹ˆï¼Ÿ</strong></p>\n<h1 id=\"ä¸€å¼‚å¸¸çš„åŸç½ª--æˆ‘ä»¬ä¸€ç›´åœ¨æ»¥ç”¨å®ƒ\">ä¸€ã€å¼‚å¸¸çš„â€œåŸç½ªâ€ â€”â€” æˆ‘ä»¬ä¸€ç›´åœ¨æ»¥ç”¨å®ƒ</h1>\n<h2 id=\"11-å¼‚å¸¸çš„æœ¬è´¨æ˜¯ä»€ä¹ˆ\">1.1 å¼‚å¸¸çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ</h2>\n<p>é¦–å…ˆï¼Œæˆ‘ä»¬è¦æ˜ç™½C#è¯­è¨€é‡Œçš„å¼‚å¸¸ï¼ˆExceptionï¼‰çš„è®¾è®¡åˆè¡·ï¼š</p>\n<pre><code class=\"language-csharp\">// è¿™äº›æ‰æ˜¯å¼‚å¸¸çœŸæ­£çš„ä½¿ç”¨åœºæ™¯ï¼š\npublic void ReadFile(string path)\n{\n    if (string.IsNullOrEmpty(path))\n        throw new ArgumentNullException(nameof(path));  // âœ… å‚æ•°æ£€æŸ¥\n    \n    if (!File.Exists(path))\n        throw new FileNotFoundException($\"æ–‡ä»¶ä¸å­˜åœ¨: {path}\");  // âœ… ç³»ç»Ÿé”™è¯¯\n    \n    // å°è¯•è¯»å–æ–‡ä»¶ï¼Œå¯èƒ½æŠ›å‡ºIOExceptionç­‰\n    var content = File.ReadAllText(path);\n}\n</code></pre>\n<p>å¼‚å¸¸æ˜¯ä¸ºçœŸæ­£çš„\"å¼‚å¸¸æƒ…å†µ\"è®¾è®¡çš„ï¼Œæ¯”å¦‚ï¼š</p>\n<ul>\n<li>ç³»ç»Ÿèµ„æºä¸å¯ç”¨ï¼ˆæ–‡ä»¶ä¸å­˜åœ¨ã€æ•°æ®åº“è¿æ¥å¤±è´¥ï¼‰</li>\n<li>ç¨‹åºçŠ¶æ€å¼‚å¸¸ï¼ˆç©ºæŒ‡é’ˆã€æ•°ç»„è¶Šç•Œï¼‰</li>\n<li>å‚æ•°éªŒè¯å¤±è´¥ï¼ˆå‰ç½®æ¡ä»¶ä¸æ»¡è¶³ï¼‰</li>\n</ul>\n<h2 id=\"12-ä¸šåŠ¡é€»è¾‘--å¼‚å¸¸æƒ…å†µ\">1.2 ä¸šåŠ¡é€»è¾‘ â‰  å¼‚å¸¸æƒ…å†µ</h2>\n<p>ä¸šåŠ¡é”™è¯¯ï¼ˆç”¨æˆ·ä¸å­˜åœ¨ã€å¯†ç é”™è¯¯ã€ä½™é¢ä¸è¶³ï¼‰æ˜¯<strong>å¯é¢„è§çš„æ­£å¸¸ä¸šåŠ¡æµç¨‹</strong>ï¼Œè€Œä¸æ˜¯å¼‚å¸¸æƒ…å†µã€‚<br />\næŠŠä¸šåŠ¡é”™è¯¯ç”¨å¼‚å¸¸å¤„ç†ï¼Œå°±åƒï¼š</p>\n<ul>\n<li>ç”¨\"åœ°éœ‡è­¦æŠ¥\"æ¥å¤„ç†\"å®¶é‡Œæ²¡ç±³äº†\"</li>\n<li>ç”¨\"æ¶ˆé˜²è½¦\"æ¥è¿é€\"å¿«é€’åŒ…è£¹\"</li>\n<li>ç”¨\"æ‰‹æœ¯å®¤\"æ¥å¤„ç†\"æ„Ÿå†’å‘çƒ§\"</li>\n</ul>\n<p>è¿™æ˜¯å¯¹å¼‚å¸¸æœºåˆ¶çš„ä¸¥é‡æ»¥ç”¨ï¼</p>\n<h1 id=\"äºŒresultä¸šåŠ¡é€»è¾‘çš„ä¼˜é›…é™çº§\">äºŒã€Resultâ€”â€”ä¸šåŠ¡é€»è¾‘çš„\"ä¼˜é›…é™çº§\"</h1>\n<h2 id=\"21-ä»€ä¹ˆæ˜¯result\">2.1 ä»€ä¹ˆæ˜¯Resultï¼Ÿ</h2>\n<p>ä¸€ä¸ªç®€å•ï¼Œå…·å¤‡åŸºæœ¬åŠŸèƒ½çš„Resultç±»å¦‚ä¸‹ï¼š</p>\n<pre><code class=\"language-csharp\">public class Result&lt;T&gt;\n{\n    public bool Success { get; }\n    public T? Value { get; }\n    public string? Error { get; }\n    \n    private Result(T value) { Success = true; Value = value; Error = null; }\n    private Result(string error) { Success = false; Value = default; Error = error; }\n    \n    public static Result&lt;T&gt; Ok(T value) =&gt; new(value);\n    public static Result&lt;T&gt; Fail(string error) =&gt; new(error);\n}\n</code></pre>\n<h2 id=\"22-å¦‚ä½•æ­£ç¡®ä½¿ç”¨result\">2.2 å¦‚ä½•æ­£ç¡®ä½¿ç”¨Resultï¼Ÿ</h2>\n<pre><code class=\"language-csharp\">public Result&lt;User&gt; Login(string username, string password)\n{\n    if (string.IsNullOrEmpty(username))\n        return Result&lt;User&gt;.Fail(\"ç”¨æˆ·åä¸èƒ½ä¸ºç©º\");  // âœ… æ˜ç¡®è¿”å›ä¸šåŠ¡é”™è¯¯\n    \n    if (string.IsNullOrEmpty(password))\n        return Result&lt;User&gt;.Fail(\"å¯†ç ä¸èƒ½ä¸ºç©º\");    // âœ… æ˜ç¡®è¿”å›ä¸šåŠ¡é”™è¯¯\n    \n    var user = FindUser(username);\n    if (user == null)\n        return Result&lt;User&gt;.Fail(\"ç”¨æˆ·ä¸å­˜åœ¨\");      // âœ… æ˜ç¡®è¿”å›ä¸šåŠ¡é”™è¯¯\n    \n    if (!VerifyPassword(user, password))\n        return Result&lt;User&gt;.Fail(\"å¯†ç é”™è¯¯\");        // âœ… æ˜ç¡®è¿”å›ä¸šåŠ¡é”™è¯¯\n    \n    return Result&lt;User&gt;.Ok(user);                   // âœ… æ˜ç¡®è¿”å›æˆåŠŸ\n}\n</code></pre>\n<h1 id=\"ä¸‰æ€§èƒ½å¯¹å†³--å‡ è¿‘ç¢¾å‹çš„æ€§èƒ½å·®è·\">ä¸‰ã€æ€§èƒ½å¯¹å†³ â€”â€” å‡ è¿‘ç¢¾å‹çš„æ€§èƒ½å·®è·</h1>\n<h2 id=\"31-éƒ¨åˆ†æµ‹è¯•ä»£ç \">3.1 éƒ¨åˆ†æµ‹è¯•ä»£ç </h2>\n<p>é¡¹ç›®ç¯å¢ƒï¼š</p>\n<pre><code>&lt;Project Sdk=\"Microsoft.NET.Sdk\"&gt;\n\t&lt;PropertyGroup&gt;\n\t\t&lt;OutputType&gt;Exe&lt;/OutputType&gt;\n\t\t&lt;TargetFramework&gt;net8.0&lt;/TargetFramework&gt;\n\t\t&lt;ImplicitUsings&gt;enable&lt;/ImplicitUsings&gt;\n\t\t&lt;Nullable&gt;enable&lt;/Nullable&gt;\n\t\t&lt;LangVersion&gt;latest&lt;/LangVersion&gt;\n\t&lt;/PropertyGroup&gt;\n&lt;/Project&gt;\n</code></pre>\n<p>éƒ¨åˆ†æµ‹è¯•ä»£ç ï¼š</p>\n<pre><code class=\"language-csharp\"> public class LoginService\n {\n     private readonly Dictionary&lt;string, User&gt; _users = new()\n     {\n         [\"valid_user\"] = new User { Id = 1, Username = \"valid_user\" }\n     };\n\n    \n     public User LoginWithException(string username, string password)\n     {\n         if (!_users.TryGetValue(username, out var user))\n             throw new BusinessException(\"ç”¨æˆ·ä¸å­˜åœ¨\");\n\n         if (password != \"correct_password\")\n             throw new BusinessException(\"å¯†ç é”™è¯¯\");\n\n         return user;\n     }\n\n    \n     public Result&lt;User&gt; LoginWithResult(string username, string password)\n     {\n         if (!_users.TryGetValue(username, out var user))\n             return Result&lt;User&gt;.Fail(\"ç”¨æˆ·ä¸å­˜åœ¨\");\n\n         if (password != \"correct_password\")\n             return Result&lt;User&gt;.Fail(\"å¯†ç é”™è¯¯\");\n\n         return Result&lt;User&gt;.Ok(user);\n     }\n }\n</code></pre>\n<pre><code class=\"language-csharp\">public class PerformanceTester\n{\n    private readonly LoginService _service = new();\n    private readonly Random _random = new(42);\n\n    public void RunAllTests(int iterations = 1000000)\n    {\n        Console.WriteLine($\"æ€§èƒ½å¯¹æ¯”æµ‹è¯• - è¿­ä»£æ¬¡æ•°: {iterations:N0}\");\n        Console.WriteLine(\"=\".PadRight(60, '='));\n\n        // æµ‹è¯•1ï¼šæˆåŠŸè·¯å¾„ï¼ˆæ­£å¸¸æƒ…å†µï¼‰\n        TestSuccessPath(iterations);\n\n        // æµ‹è¯•2ï¼šå¤±è´¥è·¯å¾„ï¼ˆé”™è¯¯æƒ…å†µï¼‰\n        TestErrorPath(iterations);\n\n        // æµ‹è¯•3ï¼šæ··åˆè·¯å¾„ï¼ˆ30%æˆåŠŸç‡ï¼‰\n        TestMixedPath(iterations, 0.3);\n    }\n\n    private void TestSuccessPath(int iterations)\n    {\n        Console.WriteLine(\"\\næµ‹è¯•1ï¼šæˆåŠŸè·¯å¾„ï¼ˆ100%æˆåŠŸï¼‰\");\n\n        // å¼‚å¸¸æ–¹å¼\n        var exceptionTime = Measure(() =&gt;\n        {\n            try\n            {\n                _service.LoginWithException(\"valid_user\", \"correct_password\");\n            }\n            catch\n            {\n                // ä¸åº”è¯¥å‘ç”Ÿ\n            }\n        }, iterations, \"å¼‚å¸¸æ–¹å¼\");\n\n        // Resultæ–¹å¼\n        var resultTime = Measure(() =&gt;\n        {\n            var result = _service.LoginWithResult(\"valid_user\", \"correct_password\");\n            if (!result.Success)\n            {\n                // ä¸åº”è¯¥å‘ç”Ÿ\n            }\n        }, iterations, \"Resultæ–¹å¼\");\n\n        PrintComparison(exceptionTime, resultTime);\n    }\n\n    private void TestErrorPath(int iterations)\n    {\n        Console.WriteLine(\"\\næµ‹è¯•2ï¼šå¤±è´¥è·¯å¾„ï¼ˆ100%å¤±è´¥ï¼‰\");\n\n        // å¼‚å¸¸æ–¹å¼\n        var exceptionTime = Measure(() =&gt;\n        {\n            try\n            {\n                _service.LoginWithException(\"invalid_user\", \"wrong_password\");\n            }\n            catch (BusinessException)\n            {\n                // é¢„æœŸå¼‚å¸¸\n            }\n        }, iterations, \"å¼‚å¸¸æ–¹å¼\");\n\n        // Resultæ–¹å¼\n        var resultTime = Measure(() =&gt;\n        {\n            var result = _service.LoginWithResult(\"invalid_user\", \"wrong_password\");\n            if (result.Success)\n            {\n                // ä¸åº”è¯¥å‘ç”Ÿ\n            }\n        }, iterations, \"Resultæ–¹å¼\");\n\n        PrintComparison(exceptionTime, resultTime);\n    }\n\n    private void TestMixedPath(int iterations, double successRate)\n    {\n        Console.WriteLine($\"\\næµ‹è¯•3ï¼šæ··åˆè·¯å¾„ï¼ˆ{successRate:P0}æˆåŠŸç‡ï¼‰\");\n\n        // å‡†å¤‡æµ‹è¯•æ•°æ®\n        var testData = new (string user, string pwd, bool shouldSucceed)[iterations];\n        for (int i = 0; i &lt; iterations; i++)\n        {\n            testData[i] = _random.NextDouble() &lt; successRate\n                ? (\"valid_user\", \"correct_password\", true)   // æˆåŠŸ\n                : (\"invalid_user\", \"wrong_password\", false); // å¤±è´¥\n        }\n\n        // å¼‚å¸¸æ–¹å¼\n        var exceptionTime = MeasureMixed(testData, true, \"å¼‚å¸¸æ–¹å¼\");\n\n        // Resultæ–¹å¼\n        var resultTime = MeasureMixed(testData, false, \"Resultæ–¹å¼\");\n\n        PrintComparison(exceptionTime, resultTime);\n    }\n\n    private static long Measure(Action action, int iterations, string testName)\n    {\n        // é¢„çƒ­\n        for (int i = 0; i &lt; 1000; i++) action();\n\n        GC.Collect();\n        GC.WaitForPendingFinalizers();\n        GC.Collect();\n\n        var sw = Stopwatch.StartNew();\n        for (int i = 0; i &lt; iterations; i++)\n        {\n            action();\n        }\n        sw.Stop();\n\n        var opsPerSecond = iterations / (sw.ElapsedMilliseconds / 1000.0);\n        Console.WriteLine($\"  {testName}: {sw.ElapsedMilliseconds,8}ms ({opsPerSecond,12:N0} ops/s)\");\n\n        return sw.ElapsedMilliseconds;\n    }\n\n    private long MeasureMixed(\n        (string user, string pwd, bool shouldSucceed)[] testData,\n        bool useException,\n        string testName)\n    {\n        // é¢„çƒ­\n        for (int i = 0; i &lt; Math.Min(1000, testData.Length); i++)\n        {\n            var (user, pwd, _) = testData[i];\n            if (useException)\n            {\n                try\n                {\n                    _service.LoginWithException(user, pwd);\n                }\n                catch { }\n            }\n            else\n            {\n                _service.LoginWithResult(user, pwd);\n            }\n        }\n\n        GC.Collect();\n        GC.WaitForPendingFinalizers();\n        GC.Collect();\n\n        var sw = Stopwatch.StartNew();\n\n        if (useException)\n        {\n            for (int i = 0; i &lt; testData.Length; i++)\n            {\n                var (user, pwd, _) = testData[i];\n                try\n                {\n                    _service.LoginWithException(user, pwd);\n                }\n                catch { }\n            }\n        }\n        else\n        {\n            for (int i = 0; i &lt; testData.Length; i++)\n            {\n                var (user, pwd, _) = testData[i];\n                _service.LoginWithResult(user, pwd);\n            }\n        }\n\n        sw.Stop();\n\n        var opsPerSecond = testData.Length / (sw.ElapsedMilliseconds / 1000.0);\n        Console.WriteLine($\"  {testName}: {sw.ElapsedMilliseconds,8}ms ({opsPerSecond,12:N0} ops/s)\");\n\n        return sw.ElapsedMilliseconds;\n    }\n\n    private static void PrintComparison(long exceptionTime, long resultTime)\n    {\n        var speedup = exceptionTime / (double)resultTime;\n        var improvement = (exceptionTime - resultTime) * 100.0 / exceptionTime;\n\n        if (speedup &gt; 1)\n        {\n            Console.WriteLine($\"Resultæ¯”Exceptionå¿« {speedup:F1}xï¼Œæ€§èƒ½æå‡ {improvement:F1}%\");\n        }\n        else\n        {\n            Console.WriteLine($\"å·®å¼‚ä¸å¤§: {speedup:F2}x\");\n        }\n    }\n}\n</code></pre>\n<h2 id=\"32-æµ‹è¯•ç»“æœè§¦ç›®æƒŠå¿ƒ\">3.2 æµ‹è¯•ç»“æœï¼šè§¦ç›®æƒŠå¿ƒ</h2>\n<p>å…ˆä¸Šå›¾ï¼Œçœ‹æµ‹è¯•ç»“æœ(<strong>åŸºäºRELEASEæ¨¡å¼ç¼–è¯‘</strong>)ï¼š</p>\n<p><img alt=\"image\" class=\"lazyload\" /></p>\n<h2 id=\"33-å¹¶å‘åœºæ™¯ä¸‹æ€§èƒ½å·®è·ä¾æ—§ä¸å¿ç›´è§†\">3.3 å¹¶å‘åœºæ™¯ä¸‹ï¼šæ€§èƒ½å·®è·ä¾æ—§ä¸å¿ç›´è§†</h2>\n<p>å¹¶å‘æµ‹è¯•æ ¸å¿ƒä»£ç ï¼š</p>\n<pre><code class=\"language-csharp\">/// &lt;summary&gt;\n/// // å¹¶å‘æµ‹è¯•ç»“æœç±»\n/// &lt;/summary&gt;\npublic class ConcurrentTestResult\n{\n    public int Concurrency { get; set; }\n    public long ExceptionTime { get; set; }\n    public long ResultTime { get; set; }\n    public double ExceptionOpsPerSecond { get; set; }\n    public double ResultOpsPerSecond { get; set; }\n}\n\n\n/// &lt;summary&gt;\n/// å¹¶å‘æµ‹è¯•å™¨\n/// &lt;/summary&gt;\npublic class ConcurrentPerformanceTester\n{\n    private readonly LoginService _service = new();\n    private readonly Random _random = new(42);\n\n    private readonly double _errorRate = 0.3;\n\n\n    public async Task RunConcurrentTests(int totalIterations = 1000000)\n    {\n        Console.WriteLine(\"\\nå¹¶å‘æ€§èƒ½æµ‹è¯• - æ€»è¿­ä»£æ¬¡æ•°: {0:N0} - é”™è¯¯ç‡ï¼š{1:P0}\", totalIterations, _errorRate);\n        Console.WriteLine(\"=\".PadRight(60, '='));\n\n        var concurrencyLevels = new[] { 4, 8, 16, 32, 64, 128, 256 };\n\n        foreach (var concurrency in concurrencyLevels)\n        {\n            Console.WriteLine($\"\\nå¹¶å‘æ•°: {concurrency}\");\n\n            // é¢„çƒ­\n            await Warmup(concurrency);\n\n            // å¼‚å¸¸æ–¹å¼å¹¶å‘æµ‹è¯•ï¼ˆ30%é”™è¯¯ç‡æ¨¡æ‹ŸçœŸå®åœºæ™¯ï¼‰\n            var exceptionTime = await RunConcurrentExceptionTest(\n                concurrency,\n                totalIterations,\n                errorRate: _errorRate\n            );\n\n            // Resultæ–¹å¼å¹¶å‘æµ‹è¯•\n            var resultTime = await RunConcurrentResultTest(\n                concurrency,\n                totalIterations,\n                errorRate: _errorRate\n            );\n\n            var exceptionOps = totalIterations / (exceptionTime / 1000.0);\n            var resultOps = totalIterations / (resultTime / 1000.0);\n            var speedup = exceptionTime / (double)resultTime;\n\n            Console.WriteLine($\"  å¼‚å¸¸: {exceptionTime,5}ms ({exceptionOps,8:N0} ops/s)\");\n            Console.WriteLine($\"  Result: {resultTime,5}ms ({resultOps,8:N0} ops/s)\");\n            Console.WriteLine($\"  Resultå¿« {speedup:F1}x\");\n        }\n    }\n\n    /// &lt;summary&gt;\n    /// å¹¶å‘å¼‚å¸¸æµ‹è¯•\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"concurrency\"&gt;&lt;/param&gt;\n    /// &lt;param name=\"totalIterations\"&gt;&lt;/param&gt;\n    /// &lt;param name=\"errorRate\"&gt;&lt;/param&gt;\n    /// &lt;returns&gt;&lt;/returns&gt;\n    private async Task&lt;long&gt; RunConcurrentExceptionTest(\n        int concurrency,\n        int totalIterations,\n        double errorRate)\n    {\n        var iterationsPerTask = totalIterations / concurrency;\n        var tasks = new Task[concurrency];\n\n        var sw = Stopwatch.StartNew();\n\n        for (int i = 0; i &lt; concurrency; i++)\n        {\n            // æ¯ä¸ªä»»åŠ¡ä½¿ç”¨è‡ªå·±çš„éšæœºå®ä¾‹ï¼Œé¿å…ç«äº‰\n            var taskRandom = new Random(_random.Next());\n            tasks[i] = Task.Run(() =&gt;\n            {\n                for (int j = 0; j &lt; iterationsPerTask; j++)\n                {\n                    // ä¸ºæ¯æ¬¡è¿­ä»£ç”Ÿæˆæµ‹è¯•æ•°æ®ï¼Œé¿å…ç´¢å¼•é—®é¢˜\n                    var (user, pwd) = GenerateTestDataForIteration(taskRandom, errorRate);\n                    try\n                    {\n                        _service.LoginWithException(user, pwd);\n                    }\n                    catch (BusinessException)\n                    {\n                        // é¢„æœŸå¼‚å¸¸\n                    }\n                }\n            });\n        }\n\n        await Task.WhenAll(tasks);\n        sw.Stop();\n\n        return sw.ElapsedMilliseconds;\n    }\n\n    /// &lt;summary&gt;\n    /// å¹¶å‘Resultæµ‹è¯•\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"concurrency\"&gt;&lt;/param&gt;\n    /// &lt;param name=\"totalIterations\"&gt;&lt;/param&gt;\n    /// &lt;param name=\"errorRate\"&gt;&lt;/param&gt;\n    /// &lt;returns&gt;&lt;/returns&gt;\n    private async Task&lt;long&gt; RunConcurrentResultTest(\n        int concurrency,\n        int totalIterations,\n        double errorRate)\n    {\n        var iterationsPerTask = totalIterations / concurrency;\n        var tasks = new Task[concurrency];\n\n        var sw = Stopwatch.StartNew();\n\n        for (int i = 0; i &lt; concurrency; i++)\n        {\n            var taskRandom = new Random(_random.Next());\n            tasks[i] = Task.Run(() =&gt;\n            {\n                for (int j = 0; j &lt; iterationsPerTask; j++)\n                {\n                    var (user, pwd) = GenerateTestDataForIteration(taskRandom, errorRate);\n                    var result = _service.LoginWithResult(user, pwd);\n                    // ä¸éœ€è¦é¢å¤–å¤„ç†ï¼ŒResultå·²ç»åŒ…å«äº†æˆåŠŸ/å¤±è´¥çŠ¶æ€\n                }\n            });\n        }\n\n        await Task.WhenAll(tasks);\n        sw.Stop();\n\n        return sw.ElapsedMilliseconds;\n    }\n\n    /// &lt;summary&gt;\n    /// ä¸ºå•æ¬¡è¿­ä»£ç”Ÿæˆæµ‹è¯•æ•°æ®\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"random\"&gt;&lt;/param&gt;\n    /// &lt;param name=\"errorRate\"&gt;&lt;/param&gt;\n    /// &lt;returns&gt;&lt;/returns&gt;\n    private static (string user, string pwd) GenerateTestDataForIteration(Random random, double errorRate)\n    {\n        if (random.NextDouble() &gt; errorRate)\n        {\n            // æˆåŠŸæ¡ˆä¾‹\n            return (\"valid_user\", \"correct_password\");\n        }\n        else\n        {\n            // å¤±è´¥æ¡ˆä¾‹ - éšæœºé€‰æ‹©å¤±è´¥ç±»å‹\n            if (random.Next(2) == 0)\n                return (\"invalid_user\", \"any_password\");  // ç”¨æˆ·ä¸å­˜åœ¨\n            else\n                return (\"valid_user\", \"wrong_password\");   // å¯†ç é”™è¯¯\n        }\n    }\n\n    /// &lt;summary&gt;\n    /// é¢„çƒ­\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"concurrency\"&gt;&lt;/param&gt;\n    /// &lt;param name=\"errorRate\"&gt;&lt;/param&gt;\n    /// &lt;returns&gt;&lt;/returns&gt;\n    private async Task Warmup(int concurrency, double errorRate = 0.3)\n    {\n        var warmupTasks = new Task[Math.Min(concurrency, 4)];\n\n        for (int i = 0; i &lt; warmupTasks.Length; i++)\n        {\n            warmupTasks[i] = Task.Run(() =&gt;\n            {\n                var taskRandom = new Random(_random.Next());\n                for (int j = 0; j &lt; 100; j++)\n                {\n                    var (user, pwd) = GenerateTestDataForIteration(taskRandom, errorRate);\n                    try\n                    {\n                        _service.LoginWithException(user, pwd);\n                    }\n                    catch { }\n\n                    _service.LoginWithResult(user, pwd);\n                }\n            });\n        }\n\n        await Task.WhenAll(warmupTasks);\n        GC.Collect();\n        GC.WaitForPendingFinalizers();\n        GC.Collect();\n    }\n}\n</code></pre>\n<p>å¹¶å‘æµ‹è¯•ç»“æœï¼š<br />\n<img alt=\"image\" class=\"lazyload\" /></p>\n<p>ä¸Šè¿°æµ‹è¯•å¯èƒ½å¹¶ä¸ä¸¥è°¨å’Œæƒå¨ï¼Œä½†æ˜¯æš´éœ²å‡ºæ¥çš„é—®é¢˜è¿˜æ˜¯éå¸¸æ˜æ˜¾çš„ï¼š</p>\n<ul>\n<li>åœ¨100%å¤±è´¥åœºæ™¯ä¸‹ï¼ŒResultæ¯”Exceptionå¿«äº†å·®ä¸å¤š200å€</li>\n<li>æ¥è¿‘å®é™…ä¸šåŠ¡åœºæ™¯çš„30%é”™è¯¯ç‡æƒ…å†µä¸‹ï¼ŒResultæ¯”Exceptionä¹Ÿå¿«äº†160å¤šå€</li>\n<li>å¹¶å‘åœºæ™¯ä¸‹ï¼Œæ€§èƒ½å·®è·ä¹Ÿæœ‰æ¥è¿‘ç™¾å€</li>\n</ul>\n<h1 id=\"å››ä¸ºä»€ä¹ˆå¼‚å¸¸åœ¨ä¸šåŠ¡åœºæ™¯ä¸‹å¦‚æ­¤æ˜‚è´µ\">å››ã€ä¸ºä»€ä¹ˆå¼‚å¸¸åœ¨ä¸šåŠ¡åœºæ™¯ä¸‹å¦‚æ­¤\"æ˜‚è´µ\"ï¼Ÿ</h1>\n<h2 id=\"41-clrå¼‚å¸¸æœºåˆ¶çš„åº•å±‚åŸç†\">4.1 CLRå¼‚å¸¸æœºåˆ¶çš„åº•å±‚åŸç†</h2>\n<h3 id=\"411-å¼‚å¸¸å¯¹è±¡çš„æ„é€ è¿‡ç¨‹\">4.1.1 å¼‚å¸¸å¯¹è±¡çš„æ„é€ è¿‡ç¨‹</h3>\n<p>å½“æˆ‘ä»¬åœ¨C#ä¸­æŠ›å‡ºå¼‚å¸¸æ—¶ï¼Œçœ‹ä¼¼ç®€å•çš„ä¸€è¡Œä»£ç ï¼ŒèƒŒåå´å‘ç”Ÿäº†å¤§é‡å¤æ‚çš„æ“ä½œï¼š</p>\n<pre><code class=\"language-csharp\">throw new BusinessException(\"ç”¨æˆ·ä¸å­˜åœ¨\");\n</code></pre>\n<p>è¿™ä¸ªæ“ä½œçš„å®é™…æ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼š</p>\n<pre><code class=\"language-csharp\">// ä¼ªä»£ç å±•ç¤ºå¼‚å¸¸æ„é€ çš„å®é™…å¼€é”€\npublic static Exception CreateException(string message)\n{\n    // 1. å †åˆ†é…ï¼šå¼‚å¸¸å¯¹è±¡æœ¬èº«ï¼ˆè‡³å°‘40-64å­—èŠ‚ï¼‰\n    var exception = RuntimeHelpers.AllocateException(typeof(BusinessException));\n    \n    // 2. å­—æ®µåˆå§‹åŒ–ï¼ˆè°ƒç”¨æ„é€ å‡½æ•°é“¾ï¼‰\n    exception._message = message;  // å­—ç¬¦ä¸²åˆ†é…\n    exception._stackTrace = null;\n    exception._innerException = null;\n    exception._helpURL = null;\n    exception._source = null;\n    \n    // 3. æ•è·è°ƒç”¨å †æ ˆï¼ˆæœ€æ˜‚è´µçš„éƒ¨åˆ†ï¼ï¼‰\n    exception.CaptureStackTrace();\n    \n    return exception;\n}\n\nprivate void CaptureStackTrace()\n{\n    // 4. è·å–å½“å‰çº¿ç¨‹çš„è°ƒç”¨å †æ ˆ\n    var frames = new StackFrame[64];  // åˆ†é…æ•°ç»„\n    var frameCount = StackTraceHelper.CaptureStackTrace(\n        frames, 0,  // èµ·å§‹ä½ç½®\n        false,      // æ˜¯å¦éœ€è¦æ–‡ä»¶ä¿¡æ¯\n        null);      // å¼‚å¸¸å¯¹è±¡æœ¬èº«\n    \n    // 5. æ ¼å¼åŒ–æˆå­—ç¬¦ä¸²ï¼ˆå¯èƒ½æ¶‰åŠå¤§é‡å­—ç¬¦ä¸²æ“ä½œï¼‰\n    this._stackTrace = FormatStackTrace(frames, frameCount);\n}\n</code></pre>\n<h3 id=\"412-å †æ ˆè·Ÿè¸ªçš„çœŸå®ä»£ä»·\">4.1.2 å †æ ˆè·Ÿè¸ªçš„çœŸå®ä»£ä»·</h3>\n<p>è®©æˆ‘ä»¬æ·±å…¥çœ‹çœ‹<code>CaptureStackTrace</code>åˆ°åº•åšäº†ä»€ä¹ˆï¼š</p>\n<pre><code class=\"language-csharp\">// Windowsä¸Šçš„å®é™…å®ç°ï¼ˆç®€åŒ–ï¼‰\ninternal static unsafe int CaptureStackTrace(\n    StackFrame[] frames, \n    int startIndex,\n    bool needFileInfo,\n    Exception exception)\n{\n    // 1. è°ƒç”¨ç³»ç»ŸAPIè·å–å½“å‰çº¿ç¨‹çš„ä¸Šä¸‹æ–‡\n    CONTEXT context;\n    RtlCaptureContext(&amp;context);\n    \n    // 2. éå†è°ƒç”¨å †æ ˆï¼ˆæ€§èƒ½æ€æ‰‹ï¼ï¼‰\n    STACKFRAME64 stackFrame = new STACKFRAME64();\n    while (StackWalk64(\n        IMAGE_FILE_MACHINE_AMD64,\n        GetCurrentProcess(),\n        GetCurrentThread(),\n        &amp;stackFrame,\n        &amp;context,\n        null,\n        SymFunctionTableAccess64,\n        SymGetModuleBase64,\n        null))\n    {\n        // 3. è§£ææ¯ä¸ªæ ˆå¸§çš„ä¿¡æ¯\n        frames[frameCount++] = new StackFrame(\n            stackFrame.AddrPC.Offset,\n            needFileInfo ? GetSourceInfo(stackFrame) : null);\n        \n        if (frameCount &gt;= frames.Length) break;\n    }\n    \n    return frameCount;\n}\n</code></pre>\n<p>å…³é”®ç‚¹ï¼š</p>\n<ul>\n<li>æ¯ä¸ªthrowæ“ä½œéƒ½è¦éå†æ•´ä¸ªè°ƒç”¨å †æ ˆ</li>\n<li>å †æ ˆéå†æ¶‰åŠå¤šä¸ªç³»ç»Ÿè°ƒç”¨å’Œå†…å­˜è®¿é—®</li>\n<li>éœ€è¦å°†å†…å­˜åœ°å€è§£æä¸ºæ–¹æ³•åã€æ–‡ä»¶åã€è¡Œå·ç­‰</li>\n<li>åœ¨Releaseæ¨¡å¼ä¸‹ï¼ŒJITä¼˜åŒ–å¯èƒ½ä¼šå½±å“å †æ ˆä¿¡æ¯</li>\n</ul>\n<h3 id=\"413-jitå’Œaotç¼–è¯‘å¯¹å¼‚å¸¸çš„å½±å“\">4.1.3 JITå’ŒAOTç¼–è¯‘å¯¹å¼‚å¸¸çš„å½±å“</h3>\n<pre><code class=\"language-csharp\">// è€ƒè™‘ä»¥ä¸‹ä»£ç \npublic int Process(int value)\n{\n    try\n    {\n        return ProcessValue(value);  // å¯èƒ½æŠ›å‡ºå¼‚å¸¸\n    }\n    catch (Exception)\n    {\n        return -1;\n    }\n}\n\n// JITç¼–è¯‘å™¨éœ€è¦ç”Ÿæˆï¼š\n// 1. æ­£å¸¸æ‰§è¡Œè·¯å¾„çš„ä»£ç \n// 2. å¼‚å¸¸å¤„ç†è¡¨ï¼ˆEHè¡¨ï¼‰\n// 3. å †æ ˆå±•å¼€ä»£ç \n// 4. finallyå—æ‰§è¡Œé€»è¾‘ï¼ˆå¦‚æœæœ‰ï¼‰\n</code></pre>\n<p>EHè¡¨çš„ç»“æ„ï¼š</p>\n<pre><code>Method Exception Handling Table:\nStart   Length  Handler Type    Class           Filter\n0x0000  0x0020  0x0030  CLAUSE  Exception       null\n</code></pre>\n<p>æ¯ä¸ªtry-catchå—éƒ½ä¼šåœ¨æ–¹æ³•çš„å…ƒæ•°æ®ä¸­æ·»åŠ EHè¡¨æ¡ç›®ï¼Œå¢åŠ æ–¹æ³•å¤§å°å’ŒåŠ è½½æ—¶é—´ã€‚</p>\n<h2 id=\"42-å¼‚å¸¸å¤„ç†çš„å†…å­˜åˆ†é…ç»†èŠ‚\">4.2 å¼‚å¸¸å¤„ç†çš„å†…å­˜åˆ†é…ç»†èŠ‚</h2>\n<h3 id=\"421-å¼‚å¸¸å¯¹è±¡çš„å†…å­˜å¸ƒå±€\">4.2.1 å¼‚å¸¸å¯¹è±¡çš„å†…å­˜å¸ƒå±€</h3>\n<pre><code class=\"language-csharp\">// Exceptionç±»çš„ç®€åŒ–å†…å­˜å¸ƒå±€\nclass Exception\n{\n    // å¯¹è±¡å¤´ï¼ˆ8-16å­—èŠ‚ï¼‰\n    MethodTable* _methodTable;  // 8å­—èŠ‚\n    // åŒæ­¥å—ç´¢å¼•ï¼ˆå¯é€‰ï¼‰\n    \n    // å®ä¾‹å­—æ®µ\n    string _message;           // 8å­—èŠ‚ï¼ˆå¼•ç”¨ï¼‰\n    IDictionary _data;         // 8å­—èŠ‚ï¼ˆé€šå¸¸ä¸ºnullï¼‰\n    Exception _innerException; // 8å­—èŠ‚\n    string _helpURL;          // 8å­—èŠ‚\n    string _source;           // 8å­—èŠ‚\n    string _stackTrace;       // 8å­—èŠ‚ï¼ˆå­—ç¬¦ä¸²ï¼Œå®é™…åˆ†é…æ›´å¤§ï¼‰\n    object _stackTraceString; // 8å­—èŠ‚ï¼ˆå¯èƒ½ä¸åŒæ ¼å¼ï¼‰\n    object _remoteStackTrace; // 8å­—èŠ‚\n    int _remoteStackIndex;    // 4å­—èŠ‚\n    int _HResult;             // 4å­—èŠ‚\n    \n    // æ€»å…±ï¼šè‡³å°‘80å­—èŠ‚ï¼ˆ64ä½ç³»ç»Ÿï¼‰\n    // åŠ ä¸Šå­—ç¬¦ä¸²å†…å®¹ï¼šå¯èƒ½æ•°ç™¾åˆ°æ•°åƒå­—èŠ‚\n}\n</code></pre>\n<h3 id=\"422-gcçš„å½±å“\">4.2.2 GCçš„å½±å“</h3>\n<pre><code class=\"language-csharp\">// é«˜é¢‘æŠ›å‡ºå¼‚å¸¸ä¼šæ˜¾è‘—å½±å“GC\npublic void TestExceptionGC()\n{\n    var list = new List&lt;Exception&gt;();\n    \n    for (int i = 0; i &lt; 10000; i++)\n    {\n        try\n        {\n            throw new Exception($\"Error {i}\");\n        }\n        catch (Exception ex)\n        {\n            list.Add(ex);  // å¤§é‡å¯¹è±¡è¿›å…¥ç¬¬0ä»£å †\n        }\n    }\n}\n\n</code></pre>\n<p>ä¸Šè¿°ä»£ç ä¼šå¯¼è‡´:</p>\n<ul>\n<li>è§¦å‘é¢‘ç¹çš„Gen0 GC</li>\n<li>å¦‚æœexè¢«é•¿æ—¶é—´å¼•ç”¨ï¼Œå¯èƒ½è¿›å…¥Gen1/Gen2</li>\n<li>å¢åŠ GCæš‚åœæ—¶é—´</li>\n<li>é™ä½ç¼“å­˜å±€éƒ¨æ€§</li>\n</ul>\n<h2 id=\"43-cpuçº§åˆ«çš„æ€§èƒ½å½±å“\">4.3 CPUçº§åˆ«çš„æ€§èƒ½å½±å“</h2>\n<h3 id=\"431-ç°ä»£cpuçš„å¼‚å¸¸å¤„ç†å¼€é”€\">4.3.1 ç°ä»£CPUçš„å¼‚å¸¸å¤„ç†å¼€é”€</h3>\n<pre><code class=\"language-assembly\">; x64æ±‡ç¼–å±‚é¢çš„å¼‚å¸¸å¤„ç†\n; æ­£å¸¸è·¯å¾„ï¼š\nprocess_value:\n    mov eax, [rcx]      ; åŠ è½½å€¼\n    add eax, 100        ; è®¡ç®—\n    ret                 ; è¿”å›\n    \n; å¼‚å¸¸è·¯å¾„ï¼š\nthrow_exception:\n    ; 1. ä¿å­˜æ‰€æœ‰å¯„å­˜å™¨åˆ°å †æ ˆ\n    push rbx\n    push rbp\n    push r12\n    push r13\n    push r14\n    push r15\n    sub rsp, 28h        ; åˆ†é…å †æ ˆç©ºé—´\n    \n    ; 2. è°ƒç”¨å¼‚å¸¸æ„é€ å‡½æ•°\n    call Exception..ctor\n    \n    ; 3. è®¾ç½®SEHï¼ˆç»“æ„åŒ–å¼‚å¸¸å¤„ç†ï¼‰\n    mov [rsp+20h], rcx  ; ä¿å­˜å¼‚å¸¸å¯¹è±¡\n    call __CxxThrowException@8\n    \n    ; 4. æ¸…ç†å †æ ˆ\n    add rsp, 28h\n    pop r15\n    pop r14\n    pop r13\n    pop r12\n    pop rbp\n    pop rbx\n</code></pre>\n<p>CPUå±‚é¢çš„é—®é¢˜:</p>\n<ul>\n<li><strong>åˆ†æ”¯é¢„æµ‹å¤±è´¥</strong>ï¼šå¼‚å¸¸è·¯å¾„å¾ˆå°‘æ‰§è¡Œï¼ŒCPUåˆ†æ”¯é¢„æµ‹å™¨éš¾ä»¥ä¼˜åŒ–</li>\n<li><strong>ç¼“å­˜å¤±æ•ˆ</strong>ï¼šå¼‚å¸¸å¤„ç†ä»£ç é€šå¸¸ä¸åœ¨æŒ‡ä»¤ç¼“å­˜ä¸­</li>\n<li><strong>æµæ°´çº¿åœé¡¿</strong>ï¼šå¼‚å¸¸å¤„ç†éœ€è¦ä¿å­˜/æ¢å¤å¤§é‡å¯„å­˜å™¨çŠ¶æ€</li>\n<li><strong>å†…å­˜è®¿é—®æ¨¡å¼å·®</strong>ï¼šEHè¡¨æŸ¥æ‰¾å¯¼è‡´éšæœºå†…å­˜è®¿é—®</li>\n</ul>\n<h3 id=\"432-å¯¹æ¯”æ­£å¸¸è¿”å›å’Œå¼‚å¸¸è¿”å›\">4.3.2 å¯¹æ¯”æ­£å¸¸è¿”å›å’Œå¼‚å¸¸è¿”å›</h3>\n<pre><code class=\"language-csharp\">// Result&lt;T&gt;çš„æ­£å¸¸è¿”å›è·¯å¾„\nreturn Result&lt;User&gt;.Fail(\"ç”¨æˆ·ä¸å­˜åœ¨\");\n// æ±‡ç¼–ï¼š\n; 1. æ„é€ Resultå¯¹è±¡ï¼ˆå¯èƒ½åœ¨æ ˆä¸Šï¼‰\n; 2. è®¾ç½®Success=false\n; 3. è®¾ç½®Errorå­—æ®µ\n; 4. è¿”å›ï¼ˆæ™®é€šretæŒ‡ä»¤ï¼‰\n\n// å¼‚å¸¸è¿”å›è·¯å¾„\nthrow new BusinessException(\"ç”¨æˆ·ä¸å­˜åœ¨\");\n// æ±‡ç¼–ï¼š\n; 1. å †åˆ†é…å¼‚å¸¸å¯¹è±¡\n; 2. æ•è·å †æ ˆè·Ÿè¸ª\n; 3. è®¾ç½®SEHå¸§\n; 4. è°ƒç”¨kernel32!RaiseException\n; 5. å †æ ˆå±•å¼€\n; 6. æŸ¥æ‰¾catchå—\n; 7. æ‰§è¡Œcatchå—ä»£ç \n</code></pre>\n<h2 id=\"44-å¯¹æ¯”å…¶ä»–ç¼–ç¨‹è¯­è¨€\">4.4 å¯¹æ¯”å…¶ä»–ç¼–ç¨‹è¯­è¨€</h2>\n<h3 id=\"441-javaçš„å¼‚å¸¸æœºåˆ¶\">4.4.1 Javaçš„å¼‚å¸¸æœºåˆ¶</h3>\n<pre><code class=\"language-java\">// Javaçš„å¼‚å¸¸ä½¿ç”¨çœ‹èµ·æ¥å’ŒC#ç›¸ä¼¼\npublic User login(String username, String password) \n    throws UserNotFoundException, InvalidPasswordException\n{\n    User user = findUser(username);\n    if (user == null) {\n        throw new UserNotFoundException(\"ç”¨æˆ·ä¸å­˜åœ¨\");\n    }\n    if (!verifyPassword(user, password)) {\n        throw new InvalidPasswordException(\"å¯†ç é”™è¯¯\");\n    }\n    return user;\n}\n</code></pre>\n<p>Javaå¼‚å¸¸çš„ç‰¹ç‚¹ï¼š<br />\n1.æ£€æŸ¥å‹å¼‚å¸¸ï¼ˆChecked Exceptionï¼‰ï¼šå¼ºåˆ¶å¤„ç†æˆ–å£°æ˜<br />\n2.æ€§èƒ½å¼€é”€ä¸C#ç±»ä¼¼ï¼šåŒæ ·éœ€è¦æ•è·å †æ ˆè·Ÿè¸ª<br />\n3.JVMçš„ä¼˜åŒ–ï¼šHotSpot JVMæœ‰æ›´æˆç†Ÿçš„å¼‚å¸¸ä¼˜åŒ–:</p>\n<ul>\n<li>å†…è”ç¼“å­˜ï¼ˆInline Cacheï¼‰</li>\n<li>æ ˆä¸Šæ›¿æ¢ï¼ˆOn-Stack Replacementï¼‰</li>\n<li>ä½†ä¸šåŠ¡å¼‚å¸¸ä»ç„¶æ˜‚è´µ</li>\n</ul>\n<p><strong>é‡è¦åŒºåˆ«ï¼š</strong></p>\n<pre><code class=\"language-java\">// Java 14+å¼•å…¥äº†Recordsï¼Œä½†å¼‚å¸¸å¼€é”€ä¾æ—§\npublic record Result&lt;T&gt;(T value, String error) {\n    public boolean isSuccess() { return error == null; }\n}\n\n// Javaç¤¾åŒºä¹Ÿåœ¨è½¬å‘Resultæ¨¡å¼ï¼Œç‰¹åˆ«æ˜¯å“åº”å¼ç¼–ç¨‹\npublic Mono&lt;User&gt; login(String username, String password) {\n    return Mono.fromCallable(() -&gt; findUser(username))\n        .switchIfEmpty(Mono.error(new UserNotFoundException()))\n        .filter(user -&gt; verifyPassword(user, password))\n        .switchIfEmpty(Mono.error(new InvalidPasswordException()));\n}\n</code></pre>\n<h3 id=\"442-goçš„é”™è¯¯å¤„ç†å“²å­¦\">4.4.2 Goçš„é”™è¯¯å¤„ç†å“²å­¦</h3>\n<pre><code class=\"language-go\">// Goçš„é”™è¯¯å¤„ç†ï¼šæ˜¾å¼è¿”å›é”™è¯¯\nfunc Login(username, password string) (*User, error) {\n    user, err := findUser(username)\n    if err != nil {\n        return nil, fmt.Errorf(\"æŸ¥æ‰¾ç”¨æˆ·å¤±è´¥: %w\", err)\n    }\n    \n    if !verifyPassword(user, password) {\n        return nil, errors.New(\"å¯†ç é”™è¯¯\")\n    }\n    \n    return user, nil\n}\n\n// è°ƒç”¨æ–¹å¿…é¡»æ˜¾å¼å¤„ç†é”™è¯¯\nuser, err := Login(\"test\", \"123\")\nif err != nil {\n    // å¤„ç†é”™è¯¯\n    switch {\n    case strings.Contains(err.Error(), \"å¯†ç é”™è¯¯\"):\n        // ç‰¹å®šå¤„ç†\n    default:\n        // é€šç”¨å¤„ç†\n    }\n}\n</code></pre>\n<p>Goçš„è®¾è®¡é€‰æ‹©ï¼š</p>\n<ul>\n<li><strong>æ²¡æœ‰å¼‚å¸¸æœºåˆ¶</strong>ï¼šåªæœ‰é”™è¯¯è¿”å›å€¼</li>\n<li><strong>é”™è¯¯æ˜¯å€¼ï¼ˆerrors are valuesï¼‰</strong>ï¼šå¯ä»¥åƒæ™®é€šå€¼ä¸€æ ·ä¼ é€’</li>\n<li><strong>å¼ºåˆ¶æ˜¾å¼å¤„ç†</strong>ï¼šæ— æ³•å¿½ç•¥é”™è¯¯ï¼ˆé™¤éä½¿ç”¨_ï¼‰</li>\n<li><strong>é›¶æˆæœ¬æŠ½è±¡</strong>ï¼šé”™è¯¯å¤„ç†å‡ ä¹æ²¡æœ‰è¿è¡Œæ—¶å¼€é”€</li>\n</ul>\n<p>Goçš„é”™è¯¯æ€§èƒ½ä¼˜åŠ¿:</p>\n<pre><code class=\"language-go\">// Goçš„errors.Newå®é™…ä¸Šå¾ˆç®€å•\nfunc New(text string) error {\n    return &amp;errorString{text}\n}\n\ntype errorString struct {\n    s string\n}\n\nfunc (e *errorString) Error() string {\n    return e.s\n}\n\n// æ²¡æœ‰å †æ ˆè·Ÿè¸ªï¼Œæ²¡æœ‰å¤æ‚æ„é€ \n// åªæ˜¯ä¸€ä¸ªåŒ…å«å­—ç¬¦ä¸²çš„ç»“æ„ä½“\n</code></pre>\n<h3 id=\"443-rustçš„resultç±»å‹\">4.4.3 Rustçš„Resultç±»å‹</h3>\n<pre><code class=\"language-rust\">// Rustçš„é”™è¯¯å¤„ç†ï¼šåŸºäºæšä¸¾çš„Result\nfn login(username: &amp;str, password: &amp;str) -&gt; Result&lt;User, LoginError&gt; {\n    let user = find_user(username)?;  // ?æ“ä½œç¬¦è‡ªåŠ¨ä¼ æ’­é”™è¯¯\n    \n    if !verify_password(&amp;user, password) {\n        return Err(LoginError::InvalidPassword);\n    }\n    \n    Ok(user)\n}\n\n// é”™è¯¯ç±»å‹å®šä¹‰\n#[derive(Debug)]\nenum LoginError {\n    UserNotFound,\n    InvalidPassword,\n    DatabaseError(DbError),\n}\n\n// ä½¿ç”¨matchå¤„ç†\nmatch login(\"test\", \"123\") {\n    Ok(user) =&gt; println!(\"æ¬¢è¿ {}\", user.name),\n    Err(LoginError::UserNotFound) =&gt; println!(\"ç”¨æˆ·ä¸å­˜åœ¨\"),\n    Err(LoginError::InvalidPassword) =&gt; println!(\"å¯†ç é”™è¯¯\"),\n    Err(e) =&gt; println!(\"å…¶ä»–é”™è¯¯: {:?}\", e),\n}\n</code></pre>\n<p>Rustçš„è®¾è®¡ç‰¹ç‚¹:</p>\n<ul>\n<li>é›¶æˆæœ¬æŠ½è±¡ï¼šResultåœ¨è¿è¡Œæ—¶é€šå¸¸æ˜¯æ™®é€šæšä¸¾</li>\n<li>æ¨¡å¼åŒ¹é…ï¼šç¼–è¯‘å™¨ç¡®ä¿æ‰€æœ‰æƒ…å†µéƒ½è¢«å¤„ç†</li>\n<li>é”™è¯¯ä¼ æ’­è¿ç®—ç¬¦ï¼ˆ?ï¼‰ï¼šç®€åŒ–é”™è¯¯ä¼ æ’­</li>\n<li>ä¸°å¯Œçš„é”™è¯¯åº“ï¼šanyhowã€thiserrorç­‰</li>\n</ul>\n<p>Rustçš„æ€§èƒ½ä¼˜åŠ¿ï¼š</p>\n<pre><code>ç¼–è¯‘åçš„Resulté€šå¸¸ä¼˜åŒ–ä¸ºï¼š\n1.æˆåŠŸï¼šå­˜å‚¨User\n2.å¤±è´¥ï¼šå­˜å‚¨é”™è¯¯ç ï¼ˆé€šå¸¸æ˜¯æ•´æ•°ï¼‰\n3.æ²¡æœ‰å †åˆ†é…ï¼Œæ²¡æœ‰è™šå‡½æ•°è°ƒç”¨\n</code></pre>\n<h3 id=\"444-cçš„é”™è¯¯å¤„ç†\">4.4.4 C++çš„é”™è¯¯å¤„ç†</h3>\n<pre><code class=\"language-cpp\">// C++çš„å¤šç§é”™è¯¯å¤„ç†æ–¹å¼\n\n// 1. å¼‚å¸¸ï¼ˆç±»ä¼¼C#/Javaï¼‰\nUser login(const std::string&amp; username, const std::string&amp; password) {\n    auto user = find_user(username);\n    if (!user) {\n        throw UserNotFoundException(\"ç”¨æˆ·ä¸å­˜åœ¨\");\n    }\n    if (!verify_password(*user, password)) {\n        throw InvalidPasswordException(\"å¯†ç é”™è¯¯\");\n    }\n    return *user;\n}\n\n// 2. é”™è¯¯ç ï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰\nint login(const std::string&amp; username, \n          const std::string&amp; password,\n          User&amp; out_user) {\n    User user;\n    int err = find_user(username, user);\n    if (err != 0) return err;\n    \n    if (!verify_password(user, password)) {\n        return ERROR_INVALID_PASSWORD;\n    }\n    \n    out_user = user;\n    return 0;  // æˆåŠŸ\n}\n\n// 3. std::expectedï¼ˆC++23ï¼‰\nstd::expected&lt;User, Error&gt; login(const std::string&amp; username,\n                                 const std::string&amp; password) {\n    auto user = find_user(username);\n    if (!user) {\n        return std::unexpected(Error::UserNotFound);\n    }\n    if (!verify_password(*user, password)) {\n        return std::unexpected(Error::InvalidPassword);\n    }\n    return *user;\n}\n</code></pre>\n<p>C++çš„é€‰æ‹©ï¼š</p>\n<ul>\n<li>æ¸¸æˆå’ŒåµŒå…¥å¼ï¼šé€šå¸¸ç¦ç”¨å¼‚å¸¸ï¼Œä½¿ç”¨é”™è¯¯ç </li>\n<li>æ€§èƒ½æ•æ„Ÿåº”ç”¨ï¼šé¿å…å¼‚å¸¸ï¼Œå› ä¸ºé›¶å¼€é”€åŸåˆ™</li>\n<li>ç°ä»£C++ï¼šå€¾å‘äºstd::expectedç­‰ç±»å‹å®‰å…¨æ–¹æ¡ˆ</li>\n</ul>\n<h2 id=\"45-net-coreçš„æ”¹è¿›å’Œå±€é™\">4.5 .NET Coreçš„æ”¹è¿›å’Œå±€é™</h2>\n<p>.Net 8.0ç‰ˆæœ¬ï¼Œå®˜æ–¹å›¢é˜Ÿé’ˆå¯¹å¼‚å¸¸å¤„ç†è¿™å—è¿›è¡Œäº†å¤§å¹…çš„ä¼˜åŒ–ï¼ŒåŒ…æ‹¬é¢„åˆ†é…å¼‚å¸¸å¯¹è±¡ï¼ˆPREallocated Exceptionï¼‰ã€å»¶è¿Ÿå †æ ˆè·Ÿè¸ªç”Ÿæˆï¼ˆLazy Stack Traceï¼‰ã€å †æ ˆè·Ÿè¸ªç¼“å­˜å’Œå¤ç”¨ã€æ–°çš„å †æ ˆè·Ÿè¸ªç®—æ³•ç­‰å¤šç§æ‰‹æ®µï¼ŒåŒæ—¶ä¹Ÿå¯¹JITå’ŒRunTimeè¿›è¡Œäº†é’ˆå¯¹æ€§ä¼˜åŒ–ã€‚ä½†æ˜¯ç›®å‰æ¥çœ‹ï¼Œä¾æ—§è¿˜æœ‰å¾ˆå¤§çš„æå‡ç©ºé—´ã€‚<br />\nè¯¦æƒ…è¯·è§å®˜æ–¹å›¢é˜Ÿçš„åšå®¢ï¼š<a href=\"https://devblogs.microsoft.com/dotnet/performance-improvements-in-net-8/#exception-handling\" rel=\"noopener nofollow\" target=\"_blank\">https://devblogs.microsoft.com/dotnet/performance-improvements-in-net-8/#exception-handling</a></p>\n<pre><code class=\"language-csharp\">// .NET 8.0 å¯¹å‚æ•°å¼‚å¸¸çš„ç‰¹æ®Šä¼˜åŒ–\npublic void ValidateUser(string username, int age)\n{\n    // è¿™äº›è°ƒç”¨åœ¨ .NET 8.0 ä¸­éå¸¸é«˜æ•ˆ\n    ArgumentNullException.ThrowIfNull(username);\n    ArgumentOutOfRangeException.ThrowIfNegative(age);\n    ArgumentException.ThrowIfNullOrEmpty(username);\n    \n    // ä½†æ³¨æ„ï¼šä¸šåŠ¡å¼‚å¸¸ä¸åœ¨æ­¤ä¼˜åŒ–èŒƒå›´å†…ï¼\n    if (!IsValidUsername(username))\n        throw new BusinessException(\"æ— æ•ˆç”¨æˆ·å\"); // ä»£ä»·ä»ç„¶æ˜‚è´µ\n}\n</code></pre>\n<h1 id=\"äº”resultçš„è¿›é˜¶ä¼˜åŠ¿\">äº”ã€Resultçš„è¿›é˜¶ä¼˜åŠ¿</h1>\n<h2 id=\"51-ä¸°å¯Œçš„é”™è¯¯ä¿¡æ¯\">5.1 ä¸°å¯Œçš„é”™è¯¯ä¿¡æ¯</h2>\n<pre><code class=\"language-csharp\">public class Result&lt;T&gt;\n{\n    public bool Success { get; }\n    public T? Value { get; }\n    public string ErrorCode { get; }    // é”™è¯¯ä»£ç \n    public string ErrorMessage { get; } // é”™è¯¯æ¶ˆæ¯\n    public Dictionary&lt;string, object&gt; Metadata { get; } // é™„åŠ ä¿¡æ¯\n}\n\n// ä½¿ç”¨ï¼š\nvar result = Login(\"test\", \"wrong\");\nif (!result.Success)\n{\n    switch (result.ErrorCode)\n    {\n        case \"USER_NOT_FOUND\":\n            // ç”¨æˆ·ä¸å­˜åœ¨ï¼Œè·³è½¬æ³¨å†Œé¡µé¢\n            break;\n        case \"INVALID_PASSWORD\":\n            // å¯†ç é”™è¯¯ï¼Œæ˜¾ç¤ºæç¤º\n            break;\n        case \"ACCOUNT_LOCKED\":\n            // è´¦æˆ·é”å®šï¼Œæ˜¾ç¤ºé”å®šæ—¶é—´\n            var lockTime = result.Metadata[\"LockUntil\"];\n            break;\n    }\n}\n</code></pre>\n<h2 id=\"52-å‡½æ•°å¼ç¼–ç¨‹æ”¯æŒ\">5.2 å‡½æ•°å¼ç¼–ç¨‹æ”¯æŒ</h2>\n<pre><code class=\"language-csharp\">// Map - è½¬æ¢æˆåŠŸçš„å€¼\nvar userResult = GetUser(123);\nvar userName = userResult.Map(user =&gt; user.Name.ToUpper());\n\n// Bind - é“¾å¼æ“ä½œ\nvar orderResult = GetUser(123)\n    .Bind(user =&gt; GetOrder(user.CurrentOrderId))\n    .Bind(order =&gt; ValidateOrder(order));\n\n// Match - æ¨¡å¼åŒ¹é…\nvar message = loginResult.Match(\n    success: user =&gt; $\"æ¬¢è¿å›æ¥ï¼Œ{user.Name}!\",\n    failure: error =&gt; $\"ç™»å½•å¤±è´¥: {error.Message}\"\n);\n</code></pre>\n<h2 id=\"53-æ›´å¥½çš„apiè®¾è®¡\">5.3 æ›´å¥½çš„APIè®¾è®¡</h2>\n<pre><code class=\"language-csharp\">// Web APIä¸­çš„ä½¿ç”¨\n[HttpPost(\"login\")]\npublic IActionResult Login([FromBody] LoginRequest request)\n{\n    var result = _authService.Login(request);\n    \n    return result.Match&lt;IActionResult&gt;(\n        success: user =&gt; Ok(new { success = true, user }),\n        failure: error =&gt; BadRequest(new { \n            success = false, \n            errorCode = error.Code,\n            message = error.Message \n        })\n    );\n}\n\n// å®¢æˆ·ç«¯è·å¾—æ¸…æ™°çš„å“åº”ï¼š\n// æˆåŠŸ: { success: true, user: { ... } }\n// å¤±è´¥: { success: false, errorCode: \"INVALID_PASSWORD\", message: \"å¯†ç é”™è¯¯\" }\n</code></pre>\n<h1 id=\"å…­-resultæ¨¡å¼çš„ä¸€äº›å¼Šç«¯\">å…­ã€ Resultæ¨¡å¼çš„ä¸€äº›å¼Šç«¯</h1>\n<h2 id=\"61-ifåœ°ç‹±é—®é¢˜æ¡ä»¶åˆ¤æ–­æ³›æ»¥\">6.1 \"ifåœ°ç‹±\"é—®é¢˜ï¼ˆæ¡ä»¶åˆ¤æ–­æ³›æ»¥ï¼‰</h2>\n<p>æœ€å¸¸è¢«è¯Ÿç—…çš„é—®é¢˜ï¼Œå°±æ˜¯ä»£ç ä¸­å……æ–¥å¤§é‡çš„ if (!result.Success) æ£€æŸ¥ã€‚</p>\n<pre><code class=\"language-csharp\">// \"ifåœ°ç‹±\"çš„å…¸å‹ä¾‹å­\npublic Result&lt;Order&gt; ProcessOrder(int userId, OrderRequest request)\n{\n    var userResult = GetUser(userId);\n    if (!userResult.Success)\n        return Result&lt;Order&gt;.Fail(userResult.Error);\n    \n    var validationResult = ValidateOrder(request);\n    if (!validationResult.Success)\n        return Result&lt;Order&gt;.Fail(validationResult.Error);\n    \n    var inventoryResult = CheckInventory(request.Items);\n    if (!inventoryResult.Success)  \n        return Result&lt;Order&gt;.Fail(inventoryResult.Error);\n    \n    var paymentResult = ProcessPayment(userResult.Value, request);\n    if (!paymentResult.Success)\n        return Result&lt;Order&gt;.Fail(paymentResult.Error);\n    \n    // ... æ›´å¤šæ£€æŸ¥\n}\n</code></pre>\n<p>è¿™ä¸ªé—®é¢˜ï¼Œä½¿ç”¨å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³å¯ä»¥å·§å¦™è§£å†³ï¼Œè¿™ä¸€å—JAVAåšçš„çœŸå¿ƒæŒºä¸é”™çš„ã€‚</p>\n<pre><code class=\"language-csharp\">// ä½¿ç”¨ Railway-Oriented Programming\npublic Result&lt;Order&gt; ProcessOrder(int userId, OrderRequest request)\n{\n    return GetUser(userId)\n        .Bind(user =&gt; ValidateOrder(request)\n            .Bind(validated =&gt; CheckInventory(request.Items)\n                .Bind(inventory =&gt; ProcessPayment(user, request)\n                    .Map(payment =&gt; CreateOrder(user, validated, payment)))));\n}\n\n// æˆ–è€…ä½¿ç”¨æ‰©å±•æ–¹æ³•\npublic Result&lt;Order&gt; ProcessOrder(int userId, OrderRequest request)\n{\n    return GetUser(userId)\n        .Then(user =&gt; ValidateOrder(request))\n        .Then(validated =&gt; CheckInventory(request.Items))\n        .Then(inventory =&gt; ProcessPayment(user, request))\n        .Map(payment =&gt; CreateOrder(user, validated, payment));\n}\n</code></pre>\n<h2 id=\"62-å€¼ç±»å‹structvs-å¼•ç”¨ç±»å‹classçš„ä¸¤éš¾é€‰æ‹©\">6.2 å€¼ç±»å‹ï¼ˆstructï¼‰vs å¼•ç”¨ç±»å‹ï¼ˆclassï¼‰çš„ä¸¤éš¾é€‰æ‹©</h2>\n<pre><code class=\"language-csharp\">public readonly struct Result&lt;T&gt;  // å€¼ç±»å‹\n{\n    private readonly T? _value;\n    private readonly string? _error;\n    \n    // é—®é¢˜1ï¼šTæ˜¯å¼•ç”¨ç±»å‹æ—¶ï¼Œstructå­˜å‚¨çš„æ˜¯å¼•ç”¨\n    // é—®é¢˜2ï¼šstructå¤åˆ¶å¼€é”€ï¼ˆå¦‚æœTæ˜¯å¤§å¯¹è±¡ï¼‰\n    // é—®é¢˜3ï¼šè£…ç®±/æ‹†ç®±å¼€é”€\n    // é—®é¢˜4ï¼šä¸èƒ½ä¸ºnullï¼Œéœ€è¦é¢å¤–çŠ¶æ€æ ‡è®°\n}\n\npublic class Result&lt;T&gt;  // å¼•ç”¨ç±»å‹\n{\n    // é—®é¢˜ï¼šæ¯ä¸ªResultéƒ½æ˜¯å †åˆ†é…ï¼Œå¢åŠ GCå‹åŠ›\n    // å³ä½¿æˆåŠŸæƒ…å†µä¹Ÿè¦åˆ†é…å¯¹è±¡\n}\n\n</code></pre>\n<p>æŠ˜ä¸­æ–¹æ¡ˆï¼šé’ˆå¯¹å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹åˆ†åˆ«ä¼˜åŒ–ï¼Œé’ˆå¯¹é€šç”¨çš„Resultå¯¹è±¡è¿›è¡Œç¼“å­˜å’Œå¤ç”¨ã€‚</p>\n<pre><code class=\"language-csharp\">/// &lt;summary&gt;\n/// ç»“æœåŸºç±»\n/// &lt;/summary&gt;\n/// &lt;typeparam name=\"T\"&gt;&lt;/typeparam&gt;\npublic abstract class Result&lt;T&gt;\n{\n    /// &lt;summary&gt;\n    /// æ˜¯å¦æˆåŠŸ\n    /// &lt;/summary&gt;\n    public abstract bool IsSuccess { get; }\n    /// &lt;summary&gt;\n    /// å…·ä½“è¿”å›å€¼ï¼ˆæˆåŠŸæ—¶æœ‰æ•ˆï¼‰\n    /// &lt;/summary&gt;\n    public abstract T? Value { get; }\n    /// &lt;summary&gt;\n    /// é”™è¯¯ç \n    /// &lt;/summary&gt;\n    public abstract string? ErrorCode { get; }\n    /// &lt;summary&gt;\n    /// é”™è¯¯ä¿¡æ¯\n    /// &lt;/summary&gt;\n    public abstract string? ErrorMessage { get; }\n  \n    // ç¼“å­˜å•ä¾‹æˆåŠŸï¼ˆä»…é’ˆå¯¹ default(T)ï¼‰\n    private static readonly ConcurrentDictionary&lt;Type, Result&lt;T&gt;&gt; _successCache = new();\n    //åªæŒ‰ errorCode ç¼“å­˜ï¼ˆé¿å…æŒ‰ message æ— é™å¢é•¿ï¼‰\n    private static readonly ConcurrentDictionary&lt;string, Result&lt;T&gt;&gt; _errorCache = new();  \n} \n\n/// &lt;summary&gt;\n/// ä»…ç”¨äºæ€§èƒ½å…³é”®è·¯å¾„ï¼Œä¸å­˜å‚¨å¤§å¯¹è±¡\n/// &lt;/summary&gt;\n/// &lt;typeparam name=\"T\"&gt;&lt;/typeparam&gt;\npublic readonly ref struct ValueResult&lt;T&gt; where T : struct\n{\n  //çœç•¥\n}\n\n /// &lt;summary&gt;\n /// å¼•ç”¨ç±»å‹ç»“æœï¼Œä»…ç”¨äºæ€§èƒ½å…³é”®è·¯å¾„\n /// &lt;/summary&gt;\n /// &lt;typeparam name=\"T\"&gt;&lt;/typeparam&gt;\n public readonly ref struct RefResult&lt;T&gt; where T : class\n{\n //çœç•¥\n}\n</code></pre>\n<h2 id=\"63-å¼‚æ­¥ç¼–ç¨‹çš„å¤æ‚æ€§\">6.3 å¼‚æ­¥ç¼–ç¨‹çš„å¤æ‚æ€§</h2>\n<p>åœ¨å¼‚æ­¥ç¼–ç¨‹ä¸­ï¼Œå¯èƒ½æ¯ä¸ªå¼‚æ­¥æ“ä½œéƒ½éœ€è¦å¤„ç†Resultï¼Œè¿™ä¹Ÿå¤§å¤§å¢åŠ äº†ä»£ç å¤æ‚åº¦ï¼Œå…¶å®ä¹Ÿå±äºä¸Šé¢è¯´çš„â€œif åœ°ç‹±â€èŒƒç•´ã€‚</p>\n<pre><code class=\"language-csharp\">public async Task&lt;Result&lt;User&gt;&gt; LoginAsync(string username, string password)\n{\n    // æ¯ä¸ªå¼‚æ­¥æ“ä½œéƒ½éœ€è¦å¤„ç†Result\n    var userResult = await FindUserAsync(username);\n    if (!userResult.Success)\n        return Result&lt;User&gt;.Fail(userResult.Error);\n    \n    var validationResult = await ValidatePasswordAsync(userResult.Value, password);\n    if (!validationResult.Success)\n        return Result&lt;User&gt;.Fail(validationResult.Error);\n    \n    return Result&lt;User&gt;.Ok(userResult.Value);\n}\n\n// å¯¹æ¯”å¼‚å¸¸ç‰ˆæœ¬ï¼š\npublic async Task&lt;User&gt; LoginAsync(string username, string password)\n{\n    var user = await FindUserAsync(username);  // æŠ›å¼‚å¸¸åˆ™ç›´æ¥ä¸­æ–­åç»­é€»è¾‘\n    await ValidatePasswordAsync(user, password); // æŠ›å¼‚å¸¸åˆ™ç›´æ¥ä¸­æ–­åç»­é€»è¾‘\n    return user;\n}\n</code></pre>\n<h2 id=\"64-ç±»å‹ç³»ç»Ÿå†—é•¿\">6.4 ç±»å‹ç³»ç»Ÿå†—é•¿</h2>\n<p>æ¯ä¸€ä¸ªæ¥å£æ–¹æ³•éƒ½è¦åŒ…è£¹Result,å†åŠ ä¸Šå¼‚æ­¥çš„Task,åˆ†é¡µè¯·æ±‚ç»“æœæ¨¡å‹PagedResultï¼Œå†åŠ ä¸Šç‚¹å…¶ä»–ä¸œè¥¿ï¼Œå°±ä¼šå‡ºç°ä»¤äººå¤´çš®å‘éº»çš„æ³›å‹å‚æ•°çˆ†ç‚¸&lt;&lt;&lt;&lt;&gt;&gt;&gt;&gt;ã€‚<br />\nä¸‹é¢çš„ä»£ç ï¼Œæ˜¯é¡¹ç›®é‡Œé¢çš„çœŸå®ä»£ç </p>\n<pre><code class=\"language-csharp\">     /// &lt;summary&gt;\n    /// å‘˜å·¥ä¸šåŠ¡æœåŠ¡æ¥å£\n    /// &lt;/summary&gt;\n    public interface IEmployeeService\n    {\n        Task&lt;Result&lt;long&gt;&gt; CreateAsync(CreateEmployeeDto dto);\n        Task&lt;Result&lt;EmployeeDto&gt;&gt; GetByIdAsync(long id);\n        Task&lt;Result&gt; UpdateAsync(UpdateEmployeeDto dto);\n        Task&lt;Result&gt; DeleteAsync(long id);\n        Task&lt;Result&lt;PagedResult&lt;EmployeeDto&gt;&gt;&gt; GetPageListAsync(EmployeePageListDto dto);\n        Task&lt;Result&lt;List&lt;EmployeeDto&gt;&gt;&gt; GetListAsync(string? keyword = null);\n        Task&lt;Result&lt;Dictionary&lt;string,long&gt;&gt;&gt; GetEmployeeAliases(List&lt;long&gt;? employeeIds = null, bool includeShowName = true);\n    }\n</code></pre>\n<h2 id=\"65-å…¶ä»–é—®é¢˜\">6.5 å…¶ä»–é—®é¢˜</h2>\n<p>å½“ç„¶ï¼Œè¿™ç§æ¨¡å¼è¿˜æœ‰ä¸€äº›å…¶ä»–çš„é—®é¢˜ï¼Œæ¯”å¦‚å›¢é˜Ÿæˆå‘˜çš„æ¥å—åº¦ï¼Œå›¢é˜Ÿå­¦ä¹ æˆæœ¬ï¼Œä¸ç°æœ‰ä»£ç /ç”Ÿæ€çš„å…¼å®¹æ€§ï¼Œä¸ç¬¬ä¸‰æ–¹åŒ…çš„å…¼å®¹æ€§ç­‰ï¼Œè¿™é‡Œå°±ä¸ä¸€ä¸€è¯´æ˜äº†ã€‚</p>\n<h1 id=\"ä¸ƒå¸¸è§é—®é¢˜ä¸ç­”ç–‘\">ä¸ƒã€å¸¸è§é—®é¢˜ä¸ç­”ç–‘</h1>\n<p><strong>Qï¼šå¼‚å¸¸ä¸æ˜¯æ›´æ–¹ä¾¿å—ï¼Ÿä¸€è¡Œä»£ç å°±èƒ½ä¸­æ–­æµç¨‹</strong><br />\nAï¼šæ–¹ä¾¿ä¸ç­‰äºæ­£ç¡®ã€‚gotoè¯­å¥ä¹Ÿå¾ˆ\"æ–¹ä¾¿\"ï¼Œä½†ç°ä»£ç¼–ç¨‹ä¸­æˆ‘ä»¬é¿å…ä½¿ç”¨å®ƒã€‚å¼‚å¸¸åœ¨ä¸šåŠ¡é€»è¾‘ä¸­å°±æ˜¯\"è¿œç¨‹goto\"ï¼Œç ´åäº†ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p>\n<p><strong>Qï¼šResultéœ€è¦æ›´å¤šçš„ifåˆ¤æ–­ï¼Œä»£ç æ›´å†—é•¿</strong></p>\n<pre><code class=\"language-csharp\">// ç®€æ´çš„å¤„ç†æ–¹å¼\nvar result = Login(\"test\", \"123\");\nif (!result.Success) return result;\n\n// æˆ–è€…ä½¿ç”¨æ¨¡å¼åŒ¹é…\nvar message = result switch\n{\n    { Success: true, Value: var user } =&gt; $\"æ¬¢è¿ {user.Name}\",\n    { Error: var error } =&gt; $\"é”™è¯¯: {error}\",\n    _ =&gt; \"æœªçŸ¥çŠ¶æ€\"\n};\n</code></pre>\n<p><strong>Qï¼šæˆ‘ä»¬çš„é¡¹ç›®å¾ˆå°ï¼Œæ€§èƒ½å½±å“ä¸å¤§</strong><br />\nA:å³ä½¿ä¸è€ƒè™‘æ€§èƒ½ï¼Œä»ä»£ç è´¨é‡å’Œç»´æŠ¤æ€§è§’åº¦ï¼ŒResultä¹Ÿæ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚å¥½çš„ä¹ æƒ¯åº”è¯¥ä»é¡¹ç›®åˆæœŸå°±å¼€å§‹åŸ¹å…»ã€‚</p>\n<h1 id=\"å…«æ€»ç»“\">å…«ã€æ€»ç»“</h1>\n<p>Result ä¸æ˜¯é“¶å¼¹ï¼Œå®ƒæœ‰å®ƒé€‚ç”¨çš„åœºæ™¯ï¼Œä¹Ÿæœ‰ç›¸åº”çš„ä¸€äº›å¼Šç«¯ã€‚é€‰æ‹©çš„å…³é”®ä¸åœ¨äºå“ªä¸ª\"æ›´å¥½\"ï¼Œè€Œåœ¨äºå“ªä¸ª\"æ›´é€‚åˆ\"å½“å‰çš„åœºæ™¯å’Œçº¦æŸã€‚æ˜æ™ºçš„å·¥ç¨‹å¸ˆä¼šæ ¹æ®å…·ä½“æƒ…å†µåšå‡ºå¹³è¡¡çš„é€‰æ‹©ã€‚<br />\né€‚åˆä½¿ç”¨ Result çš„åœºæ™¯ï¼š</p>\n<ul>\n<li>é«˜é¢‘å¤±è´¥çš„æ ¡éªŒé€»è¾‘ï¼ˆè¡¨å•éªŒè¯ã€ä¸šåŠ¡è§„åˆ™æ£€æŸ¥ï¼‰</li>\n<li>éœ€è¦æ˜ç¡®é”™è¯¯åˆ†ç±»çš„ä¸šåŠ¡æµç¨‹</li>\n<li>APIè¾¹ç•Œï¼ˆéœ€è¦ç»“æ„åŒ–é”™è¯¯å“åº”ï¼‰</li>\n<li>ä¸å¤–éƒ¨ç³»ç»Ÿäº¤äº’ï¼ˆéœ€è¦å¤„ç†å„ç§å¤±è´¥æ¨¡å¼ï¼‰</li>\n<li>éœ€è¦ç»„åˆçš„å¤æ‚ä¸šåŠ¡é€»è¾‘</li>\n</ul>\n<p>ä»ç„¶é€‚åˆä½¿ç”¨å¼‚å¸¸çš„åœºæ™¯ï¼š</p>\n<ul>\n<li>çœŸæ­£çš„ç³»ç»Ÿæ•…éšœï¼ˆå†…å­˜ä¸è¶³ã€æ•°æ®åº“å´©æºƒï¼‰</li>\n<li>ç¨‹åºçŠ¶æ€å¼‚å¸¸ï¼ˆç©ºå¼•ç”¨ã€ç´¢å¼•è¶Šç•Œï¼‰</li>\n<li>ä¸æ»¡è¶³å‰ç½®æ¡ä»¶ï¼ˆæ— æ•ˆå‚æ•°ï¼‰</li>\n<li>å¼€å‘é˜¶æ®µçš„æ–­è¨€æ£€æŸ¥</li>\n<li>æä½å¤±è´¥ç‡çš„æ“ä½œ</li>\n</ul>\n<p>å…³é”®å»ºè®®ï¼š</p>\n<ul>\n<li>ä¸è¦å…¨ç›˜æ›¿æ¢ï¼šResultå’Œå¼‚å¸¸å„æœ‰é€‚ç”¨åœºæ™¯</li>\n<li>åˆ†å±‚è®¾è®¡ï¼šä¸åŒæ¶æ„å±‚ä½¿ç”¨ä¸åŒç­–ç•¥</li>\n<li>å›¢é˜Ÿå…±è¯†ï¼šå»ºç«‹æ˜ç¡®çš„è§„èŒƒå’Œè¾¹ç•Œ</li>\n<li>æ¸è¿›é‡‡ç”¨ï¼šä»æ ¸å¿ƒä¸šåŠ¡å¼€å§‹ï¼Œé€æ­¥æ‰©å±•</li>\n<li>ç›‘æ§åé¦ˆï¼šé€šè¿‡æ—¥å¿—å’Œç›‘æ§éªŒè¯é€‰æ‹©</li>\n</ul>\n<p>æœ€ç»ˆåŸåˆ™ï¼š</p>\n<ul>\n<li>å¼‚å¸¸ï¼šç”¨äº\"ä¸åº”è¯¥å‘ç”Ÿ\"çš„äº‹æƒ…</li>\n<li>Resultï¼šç”¨äº\"å¯èƒ½å‘ç”Ÿä½†éœ€è¦å¤„ç†\"çš„äº‹æƒ…</li>\n</ul>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-20 19:40</span>&nbsp;\n<a href=\"https://www.cnblogs.com/diamondhusky\">å‘†èŒå“ˆå£«å¥‡</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">406</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">5</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "å¹²è´§æ»¡æ»¡ï¼šRedis åˆ†å¸ƒå¼é”å¿…é¿çš„ 8 å¤§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ",
      "link": "https://www.cnblogs.com/sun-10387834/p/19493006",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/sun-10387834/p/19493006\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-20 19:23\">\n    <span>å¹²è´§æ»¡æ»¡ï¼šRedis åˆ†å¸ƒå¼é”å¿…é¿çš„ 8 å¤§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<p>åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼ŒRedis åˆ†å¸ƒå¼é”è™½èƒ½é«˜æ•ˆè§£å†³è·¨æœåŠ¡å¹¶å‘å†²çªï¼Œä½†å®é™…è½åœ°æ—¶ç¨ä¸æ³¨æ„å°±ä¼šè¸©å‘â€”â€”å°åˆ°æ•°æ®ä¸ä¸€è‡´ï¼Œå¤§åˆ°æœåŠ¡é›ªå´©ï¼Œè¿™äº›é—®é¢˜å¤šæºäºå¯¹ Redis ç‰¹æ€§ã€åˆ†å¸ƒå¼åœºæ™¯å¤æ‚æ€§çš„è€ƒè™‘ä¸å‘¨ã€‚ä¹‹å‰å¼€å‘ç”µå•†åº“å­˜å’Œè®¢å•ç³»ç»Ÿæ—¶ï¼Œå°±å› å¿½è§†äº†é”è¿‡æœŸã€è„‘è£‚ç­‰é—®é¢˜ï¼Œå…ˆåå‡ºç°è¿‡è¶…å–ã€é”å¤±æ•ˆç­‰æ•…éšœã€‚ä»Šå¤©ç»“åˆç”Ÿäº§å®æˆ˜ç»éªŒï¼Œæ¢³ç† Redis å®ç°åˆ†å¸ƒå¼é”æ—¶æœ€æ˜“é‡åˆ°çš„ 8 å¤§é—®é¢˜ï¼Œé€ä¸€æ‹†è§£æˆå› ã€è¡¨ç°åŠæ ¹æ²»æ–¹æ¡ˆï¼Œå¸®å¤§å®¶é¿å¼€è¿™äº›â€œéšå½¢ç‚¸å¼¹â€ã€‚</p>\n<p>å…ˆæ˜ç¡®å‰æï¼šåˆ†å¸ƒå¼é”çš„æ ¸å¿ƒæ˜¯â€œäº’æ–¥æ€§â€ï¼Œä½†åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹ï¼Œç½‘ç»œå»¶è¿Ÿã€æœåŠ¡å®•æœºã€Redis é›†ç¾¤åŒæ­¥å»¶è¿Ÿç­‰å› ç´ ï¼Œéƒ½ä¼šç ´åé”çš„ç¨³å®šæ€§ã€‚æ‰€æœ‰é—®é¢˜çš„æœ¬è´¨ï¼Œè¦ä¹ˆæ˜¯â€œåŸå­æ€§ç¼ºå¤±â€ï¼Œè¦ä¹ˆæ˜¯â€œé«˜å¯ç”¨è€ƒè™‘ä¸è¶³â€ï¼Œè¦ä¹ˆæ˜¯â€œä¸šåŠ¡ä¸é”æœºåˆ¶ä¸åŒ¹é…â€ã€‚</p>\n<h2 id=\"ä¸€æ ¸å¿ƒé—®é¢˜åŠè§£å†³æ–¹æ¡ˆæŒ‰è¸©å‘é¢‘ç‡æ’åº\">ä¸€ã€æ ¸å¿ƒé—®é¢˜åŠè§£å†³æ–¹æ¡ˆï¼ˆæŒ‰è¸©å‘é¢‘ç‡æ’åºï¼‰</h2>\n<h3 id=\"é—®é¢˜-1è¯¯åˆ ä»–äººæŒæœ‰é”æœ€åŸºç¡€ä¹Ÿæœ€æ˜“çŠ¯çš„æ¼æ´\">é—®é¢˜ 1ï¼šè¯¯åˆ ä»–äººæŒæœ‰é”â€”â€”æœ€åŸºç¡€ä¹Ÿæœ€æ˜“çŠ¯çš„æ¼æ´</h3>\n<p><strong>æˆå› </strong>ï¼šé‡Šæ”¾é”æ—¶æœªåšèº«ä»½æ ¡éªŒï¼Œç›´æ¥æ‰§è¡Œ DEL å‘½ä»¤åˆ é™¤é”®ã€‚å…¸å‹åœºæ™¯ï¼šæœåŠ¡ A æŒæœ‰é”åï¼Œä¸šåŠ¡é€»è¾‘è€—æ—¶è¶…è¿‡é”è¿‡æœŸæ—¶é—´ï¼Œé”è¢«è‡ªåŠ¨é‡Šæ”¾ï¼›æœåŠ¡ B è¶æœºåŠ é”æˆåŠŸï¼Œæ­¤æ—¶æœåŠ¡ A æ‰§è¡Œå®Œä¸šåŠ¡ï¼Œç›´æ¥ DEL é”å°±ä¼šè¯¯åˆ æœåŠ¡ B æŒæœ‰çš„é”ï¼Œå¯¼è‡´äº’æ–¥æ€§å¤±æ•ˆã€‚</p>\n<p><strong>è¡¨ç°</strong>ï¼šå¤šä¸ªæœåŠ¡å®ä¾‹åŒæ—¶æŒæœ‰åŒä¸€æŠŠé”ï¼Œæ“ä½œåŒä¸€èµ„æºï¼Œå‡ºç°æ•°æ®ä¸ä¸€è‡´ï¼ˆå¦‚è¶…å–ã€é‡å¤è®¢å•ï¼‰ã€‚</p>\n<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šåŠ é”æ—¶å­˜å…¥å…¨å±€å”¯ä¸€çš„éšæœºå€¼ï¼ˆå¦‚ UUID+çº¿ç¨‹ IDï¼‰ä½œä¸º valueï¼Œé‡Šæ”¾é”å‰å…ˆéªŒè¯ value æ˜¯å¦ä¸è‡ªèº«æŒæœ‰ä¸€è‡´ï¼Œä¸€è‡´æ‰é‡Šæ”¾ã€‚å…³é”®æ˜¯ç”¨ Lua è„šæœ¬ä¿è¯â€œéªŒè¯+åˆ é™¤â€çš„åŸå­æ€§ï¼Œé¿å…éªŒè¯åé”è¿‡æœŸè¢«ä»–äººæŒæœ‰ã€‚</p>\n<pre><code class=\"language-lua\">-- å®‰å…¨é‡Šæ”¾é”çš„ Lua è„šæœ¬\nif redis.call('get', KEYS[1]) == ARGV[1] then\n    return redis.call('del', KEYS[1])\nelse\n    return 0\nend\n</code></pre>\n<p>æ³¨æ„ï¼šä¸¥ç¦æ‹†åˆ†â€œéªŒè¯â€å’Œâ€œåˆ é™¤â€ä¸ºä¸¤æ­¥æ“ä½œï¼Œå¦åˆ™ä»å­˜åœ¨å¹¶å‘æ¼æ´ã€‚</p>\n<h3 id=\"é—®é¢˜-2é”è¿‡æœŸæå‰é‡Šæ”¾ä¸šåŠ¡æœªåšå®Œé”å·²å¤±æ•ˆ\">é—®é¢˜ 2ï¼šé”è¿‡æœŸæå‰é‡Šæ”¾â€”â€”ä¸šåŠ¡æœªåšå®Œé”å·²å¤±æ•ˆ</h3>\n<p><strong>æˆå› </strong>ï¼šé”çš„è¿‡æœŸæ—¶é—´è®¾ç½®è¿‡çŸ­ï¼Œè€Œä¸šåŠ¡é€»è¾‘æ‰§è¡Œè€—æ—¶è¿‡é•¿ï¼Œå¯¼è‡´é”åœ¨ä¸šåŠ¡å®Œæˆå‰å°±è‡ªåŠ¨è¿‡æœŸé‡Šæ”¾ï¼Œå…¶ä»–æœåŠ¡å¯è¶æœºåŠ é”ï¼Œå¼•å‘å¹¶å‘å†²çªã€‚æ¯”å¦‚é”è®¾ä¸º 30 ç§’è¿‡æœŸï¼Œä½†æ•°æ®åº“å¤æ‚æŸ¥è¯¢ã€ç¬¬ä¸‰æ–¹æ¥å£è°ƒç”¨è€—æ—¶ 40 ç§’ï¼Œå°±ä¼šå‡ºç°é”æå‰å¤±æ•ˆã€‚</p>\n<p><strong>è¡¨ç°</strong>ï¼šä¸šåŠ¡æ‰§è¡Œä¸­é”è¢«é‡Šæ”¾ï¼Œå¤šä¸ªæœåŠ¡åŒæ—¶æ“ä½œèµ„æºï¼Œå‡ºç°æ•°æ®é”™è¯¯ï¼Œä¸”é—®é¢˜å…·æœ‰éšæœºæ€§ï¼ˆå–å†³äºä¸šåŠ¡è€—æ—¶æ˜¯å¦è¶…è¿‡è¿‡æœŸæ—¶é—´ï¼‰ã€‚</p>\n<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šå¼•å…¥â€œé”ç»­çº¦ï¼ˆWatch Dogï¼‰â€æœºåˆ¶ã€‚æœåŠ¡æˆåŠŸåŠ é”åï¼Œå¯åŠ¨åå°å®ˆæŠ¤çº¿ç¨‹ï¼Œæ¯éš”é”è¿‡æœŸæ—¶é—´çš„ 1/3 ï¼ˆå¦‚ 10 ç§’ï¼‰æ£€æŸ¥é”æ˜¯å¦ä»è¢«è‡ªèº«æŒæœ‰ï¼Œè‹¥æŒæœ‰åˆ™å»¶é•¿é”çš„è¿‡æœŸæ—¶é—´ï¼ˆé‡ç½®ä¸º 30 ç§’ï¼‰ï¼Œç›´åˆ°ä¸šåŠ¡å®Œæˆä¸»åŠ¨é‡Šæ”¾é”ã€‚</p>\n<p>å®é™…å¼€å‘ä¸­æ— éœ€æ‰‹åŠ¨å®ç°ï¼ŒRedisson æ¡†æ¶å†…ç½® Watch Dog æœºåˆ¶ï¼ŒåŠ é”åè‡ªåŠ¨ç»­çº¦ï¼Œå½»åº•è§£å†³é”æå‰é‡Šæ”¾é—®é¢˜ã€‚</p>\n<h3 id=\"é—®é¢˜-3redis-å•ç‚¹æ•…éšœé”æœåŠ¡æ•´ä½“ä¸å¯ç”¨\">é—®é¢˜ 3ï¼šRedis å•ç‚¹æ•…éšœâ€”â€”é”æœåŠ¡æ•´ä½“ä¸å¯ç”¨</h3>\n<p><strong>æˆå› </strong>ï¼šRedis é‡‡ç”¨å•ç‚¹éƒ¨ç½²ï¼Œå½“ Redis æœåŠ¡å®•æœºï¼ˆå¦‚è¿›ç¨‹å´©æºƒã€æœåŠ¡å™¨æ–­ç”µï¼‰ï¼Œæ‰€æœ‰åˆ†å¸ƒå¼é”çš„åŠ é”ã€é‡Šæ”¾æ“ä½œéƒ½ä¼šå¤±è´¥ï¼Œå¯¼è‡´åˆ†å¸ƒå¼ç³»ç»Ÿçš„å¹¶å‘æ§åˆ¶æœºåˆ¶å´©æºƒï¼Œæ— æ³•æ­£å¸¸å¤„ç†èµ„æºç«äº‰ã€‚</p>\n<p><strong>è¡¨ç°</strong>ï¼šæ‰€æœ‰ä¾èµ–åˆ†å¸ƒå¼é”çš„ä¸šåŠ¡æ¥å£æŠ¥é”™ï¼Œæ— æ³•æ‰§è¡Œï¼ˆå¦‚åº“å­˜æ‰£å‡ã€è®¢å•åˆ›å»ºæ¥å£ï¼‰ï¼Œç”šè‡³å¼•å‘æœåŠ¡é›ªå´©ã€‚</p>\n<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šé‡‡ç”¨ Redis é«˜å¯ç”¨é›†ç¾¤éƒ¨ç½²ï¼Œä¸¤ç§ä¸»æµæ–¹æ¡ˆæŒ‰éœ€é€‰æ‹©ï¼š</p>\n<ol>\n<li>\n<p><strong>ä¸»ä»å¤åˆ¶ + å“¨å…µæ¨¡å¼</strong>ï¼šéƒ¨ç½² 1 ä¸»å¤šä» Redis é›†ç¾¤ï¼Œå“¨å…µå®æ—¶ç›‘æ§ä¸»èŠ‚ç‚¹çŠ¶æ€ï¼Œä¸»èŠ‚ç‚¹å®•æœºæ—¶è‡ªåŠ¨å°†ä»èŠ‚ç‚¹åˆ‡æ¢ä¸ºä¸»èŠ‚ç‚¹ï¼Œä¿è¯ Redis æœåŠ¡è¿ç»­æ€§ã€‚ç¼ºç‚¹æ˜¯å­˜åœ¨â€œè„‘è£‚â€é£é™©ï¼ˆä¸»ä»æ•°æ®åŒæ­¥å»¶è¿Ÿå¯¼è‡´é”ä¸¢å¤±ï¼‰ï¼Œé€‚åˆå¯¹ä¸€è‡´æ€§è¦æ±‚ä¸€èˆ¬çš„åœºæ™¯ã€‚</p>\n</li>\n<li>\n<p><strong>Redlock ç®—æ³•</strong>ï¼šå‘è‡³å°‘ 3 ä¸ªç‹¬ç«‹çš„ Redis ä¸»èŠ‚ç‚¹å‘èµ·åŠ é”è¯·æ±‚ï¼Œä»…å½“è¶…è¿‡åŠæ•°èŠ‚ç‚¹åŠ é”æˆåŠŸï¼Œä¸”æ€»è€—æ—¶ä¸è¶…è¿‡è¶…æ—¶æ—¶é—´ï¼Œæ‰ç®—åŠ é”æˆåŠŸã€‚å³ä½¿éƒ¨åˆ†èŠ‚ç‚¹å®•æœºï¼Œåªè¦å¤šæ•°èŠ‚ç‚¹æ­£å¸¸ï¼Œé”æœåŠ¡å°±å¯ç”¨ï¼Œå½»åº•é¿å…å•ç‚¹æ•…éšœå’Œè„‘è£‚é—®é¢˜ï¼Œé€‚åˆé«˜ä¸€è‡´æ€§åœºæ™¯ã€‚Redisson å·²å†…ç½® Redlock å®ç°ï¼Œå¼€ç®±å³ç”¨ï¼Œä»¥ä¸‹æ˜¯å®Œæ•´å®æˆ˜é…ç½®ä¸ä»£ç ï¼š</p>\n</li>\n</ol>\n<h4 id=\"1-å¤šç»„ç‹¬ç«‹-redis-èŠ‚ç‚¹é…ç½®yml\">1. å¤šç»„ç‹¬ç«‹ Redis èŠ‚ç‚¹é…ç½®ï¼ˆYMLï¼‰</h4>\n<p>Redlock è¦æ±‚èŠ‚ç‚¹ç‰©ç†ç‹¬ç«‹ï¼ˆé¿å…åŒä¸€æœºæˆ¿æ•…éšœç‰µè¿å¤šç»„èŠ‚ç‚¹ï¼‰ï¼Œæ¯ç»„èŠ‚ç‚¹å¯å•ç‹¬éƒ¨ç½²ä¸»ä»+å“¨å…µæå‡å¯ç”¨æ€§ï¼Œ3 ç»„èŠ‚ç‚¹å®Œæ•´é…ç½®å¦‚ä¸‹ï¼š</p>\n<pre><code class=\"language-yaml\">spring:\n  redis:\n    # Redlock ä¸“ç”¨å¤šç»„ç‹¬ç«‹èŠ‚ç‚¹é…ç½®\n    redlock:\n      # ç¬¬ä¸€ç»„èŠ‚ç‚¹ï¼ˆå¯éƒ¨ç½²ä¸»ä»+å“¨å…µï¼‰\n      node1:\n        host: 192.168.1.101\n        port: 6379\n        password: 123456\n        database: 0\n        timeout: 5000  # è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰\n      # ç¬¬äºŒç»„èŠ‚ç‚¹ï¼ˆç‹¬ç«‹æœåŠ¡å™¨ï¼Œä¸ç¬¬ä¸€ç»„æ— å…³è”ï¼‰\n      node2:\n        host: 192.168.1.102\n        port: 6379\n        password: 123456\n        database: 0\n        timeout: 5000\n      # ç¬¬ä¸‰ç»„èŠ‚ç‚¹ï¼ˆç‹¬ç«‹æœåŠ¡å™¨ï¼Œå»ºè®®è·¨æœºæˆ¿ï¼‰\n      node3:\n        host: 192.168.1.103\n        port: 6379\n        password: 123456\n        database: 0\n        timeout: 5000\n</code></pre>\n<h4 id=\"2-redisson-å®¢æˆ·ç«¯é…ç½®å¤šèŠ‚ç‚¹å®ä¾‹åŒ–\">2. Redisson å®¢æˆ·ç«¯é…ç½®ï¼ˆå¤šèŠ‚ç‚¹å®ä¾‹åŒ–ï¼‰</h4>\n<p>é€šè¿‡é…ç½®ç±»è¯»å– YML ä¿¡æ¯ï¼Œåˆ›å»ºå¯¹åº” RedissonClient å®ä¾‹ï¼Œä¿è¯æ¯ç»„èŠ‚ç‚¹ç‹¬ç«‹è¿æ¥ï¼š</p>\n<pre><code class=\"language-java\">@Configuration\npublic class RedissonRedlockConfig {\n\n    // ç¬¬ä¸€ç»„ Redlock èŠ‚ç‚¹å®¢æˆ·ç«¯\n    @Bean(name = \"redlockClient1\")\n    public RedissonClient redlockClient1(\n            @Value(\"${spring.redis.redlock.node1.host}\") String host,\n            @Value(\"${spring.redis.redlock.node1.port}\") int port,\n            @Value(\"${spring.redis.redlock.node1.password}\") String password,\n            @Value(\"${spring.redis.redlock.node1.database}\") int database,\n            @Value(\"${spring.redis.redlock.node1.timeout}\") int timeout) {\n        Config config = new Config();\n        // å•èŠ‚ç‚¹æ¨¡å¼ï¼ˆè‹¥ä¸ºé›†ç¾¤ï¼Œå¯æ”¹ç”¨ useSentinelServers é…ç½®å“¨å…µï¼‰\n        config.useSingleServer()\n                .setAddress(\"redis://\" + host + \":\" + port)\n                .setPassword(password)\n                .setDatabase(database)\n                .setTimeout(timeout);\n        return Redisson.create(config);\n    }\n\n    // ç¬¬äºŒç»„ Redlock èŠ‚ç‚¹å®¢æˆ·ç«¯\n    @Bean(name = \"redlockClient2\")\n    public RedissonClient redlockClient2(\n            @Value(\"${spring.redis.redlock.node2.host}\") String host,\n            @Value(\"${spring.redis.redlock.node2.port}\") int port,\n            @Value(\"${spring.redis.redlock.node2.password}\") String password,\n            @Value(\"${spring.redis.redlock.node2.database}\") int database,\n            @Value(\"${spring.redis.redlock.node2.timeout}\") int timeout) {\n        Config config = new Config();\n        config.useSingleServer()\n                .setAddress(\"redis://\" + host + \":\" + port)\n                .setPassword(password)\n                .setDatabase(database)\n                .setTimeout(timeout);\n        return Redisson.create(config);\n    }\n\n    // ç¬¬ä¸‰ç»„ Redlock èŠ‚ç‚¹å®¢æˆ·ç«¯\n    @Bean(name = \"redlockClient3\")\n    public RedissonClient redlockClient3(\n            @Value(\"${spring.redis.redlock.node3.host}\") String host,\n            @Value(\"${spring.redis.redlock.node3.port}\") int port,\n            @Value(\"${spring.redis.redlock.node3.password}\") String password,\n            @Value(\"${spring.redis.redlock.node3.database}\") int database,\n            @Value(\"${spring.redis.redlock.node3.timeout}\") int timeout) {\n        Config config = new Config();\n        config.useSingleServer()\n                .setAddress(\"redis://\" + host + \":\" + port)\n                .setPassword(password)\n                .setDatabase(database)\n                .setTimeout(timeout);\n        return Redisson.create(config);\n    }\n}\n</code></pre>\n<h4 id=\"3-redlock-åŠ é”é‡Šæ”¾é”ä¸šåŠ¡ä»£ç \">3. Redlock åŠ é”/é‡Šæ”¾é”ä¸šåŠ¡ä»£ç </h4>\n<p>é€šè¿‡ RedissonRedLock ç»„åˆå¤šèŠ‚ç‚¹é”ï¼Œè‡ªåŠ¨è§¦å‘æŠ•ç¥¨é€»è¾‘ï¼Œå…¼å®¹æ™®é€šé”ç”¨æ³•ï¼Œå†…ç½® Watch Dog ç»­çº¦ï¼š</p>\n<pre><code class=\"language-java\">@Service\npublic class StockService {\n\n    @Autowired\n    @Qualifier(\"redlockClient1\")\n    private RedissonClient redlockClient1;\n\n    @Autowired\n    @Qualifier(\"redlockClient2\")\n    private RedissonClient redlockClient2;\n\n    @Autowired\n    @Qualifier(\"redlockClient3\")\n    private RedissonClient redlockClient3;\n\n    @Autowired\n    private StockMapper stockMapper;\n\n    public void deductStock(Long productId) {\n        // 1. ç”Ÿæˆç»Ÿä¸€é”Keyï¼Œè·å–å¤šèŠ‚ç‚¹é”å¯¹è±¡\n        String lockKey = \"lock:stock:\" + productId;\n        RLock lock1 = redlockClient1.getLock(lockKey);\n        RLock lock2 = redlockClient2.getLock(lockKey);\n        RLock lock3 = redlockClient3.getLock(lockKey);\n\n        // 2. ç»„åˆä¸ºRedlocké”ï¼Œè§¦å‘å¤šèŠ‚ç‚¹æŠ•ç¥¨\n        RedissonRedLock redLock = new RedissonRedLock(lock1, lock2, lock3);\n\n        try {\n            // 3. åŠ é”ï¼š1ç§’å†…ç­‰å¾…èŠ‚ç‚¹å“åº”ï¼Œé”è¿‡æœŸæ—¶é—´30ç§’ï¼ˆå†…ç½®ç»­çº¦ï¼‰\n            boolean locked = redLock.tryLock(1000, 30000, TimeUnit.MILLISECONDS);\n            if (locked) {\n                // 4. æ ¸å¿ƒä¸šåŠ¡ï¼šåº“å­˜æ‰£å‡ï¼ˆä»…ä¿ç•™é”å†…å¿…è¦æ“ä½œï¼‰\n                Stock stock = stockMapper.selectById(productId);\n                if (stock != null &amp;&amp; stock.getCount() &gt; 0) {\n                    stock.setCount(stock.getCount() - 1);\n                    stockMapper.updateById(stock);\n                }\n            } else {\n                // åŠ é”å¤±è´¥å…œåº•\n                throw new RuntimeException(\"ç³»ç»Ÿç¹å¿™ï¼Œè¯·ç¨åå†è¯•\");\n            }\n        } catch (InterruptedException e) {\n            Thread.currentThread().interrupt();\n            throw new RuntimeException(\"æ“ä½œè¢«ä¸­æ–­ï¼Œè¯·é‡è¯•\");\n        } finally {\n            // 5. å®‰å…¨é‡Šæ”¾é”ï¼šä»…å½“å‰çº¿ç¨‹æŒæœ‰é”æ—¶æ‰§è¡Œ\n            if (redLock.isHeldByCurrentThread()) {\n                redLock.unlock();\n            }\n        }\n    }\n}\n</code></pre>\n<p>å…³é”®è¯´æ˜ï¼šâ‘  å¤šç»„èŠ‚ç‚¹éœ€ç‰©ç†éš”ç¦»ï¼Œè·¨æœºæˆ¿éƒ¨ç½²å¯æå‡å®¹é”™ï¼›â‘¡ 3 ç»„èŠ‚ç‚¹æœ€å¤šå…è®¸ 1 ç»„æ•…éšœï¼Œè¶…è¿‡åŠæ•°èŠ‚ç‚¹åŠ é”æˆåŠŸå³ç”Ÿæ•ˆï¼›â‘¢ é‡Šæ”¾é”æ—¶è‡ªåŠ¨åŒæ­¥æ¸…ç†æ‰€æœ‰èŠ‚ç‚¹é”æ•°æ®ï¼Œæ— éœ€æ‰‹åŠ¨åè°ƒã€‚</p>\n<h3 id=\"é—®é¢˜-4é”æ— æ³•é‡å…¥åµŒå¥—ä¸šåŠ¡æ­»é”\">é—®é¢˜ 4ï¼šé”æ— æ³•é‡å…¥â€”â€”åµŒå¥—ä¸šåŠ¡æ­»é”</h3>\n<p><strong>æˆå› </strong>ï¼šåŸºç¡€å®ç°çš„é”ä¸æ”¯æŒé‡å…¥ï¼Œå³åŒä¸€æœåŠ¡çš„åŒä¸€çº¿ç¨‹åœ¨æŒæœ‰é”çš„æƒ…å†µä¸‹ï¼Œå†æ¬¡è¯·æ±‚åŠ åŒä¸€æŠŠé”ä¼šå¤±è´¥ã€‚å…¸å‹åœºæ™¯ï¼šæœåŠ¡ A åŠ é”åï¼Œæ‰§è¡Œçš„æ–¹æ³•ä¸­åˆè°ƒç”¨äº†å¦ä¸€ä¸ªéœ€è¦åŠ åŒä¸€æŠŠé”çš„æ–¹æ³•ï¼Œç¬¬äºŒæ¬¡åŠ é”å¤±è´¥ï¼Œå¯¼è‡´çº¿ç¨‹é˜»å¡ï¼Œå¼•å‘æ­»é”ã€‚</p>\n<p><strong>è¡¨ç°</strong>ï¼šä¸šåŠ¡çº¿ç¨‹é˜»å¡ï¼Œæ¥å£è¶…æ—¶æ— å“åº”ï¼Œæ’æŸ¥åå‘ç°æ˜¯åŒä¸€çº¿ç¨‹é‡å¤åŠ é”è¢«æ‹’ã€‚</p>\n<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šå®ç°å¯é‡å…¥é”æœºåˆ¶ã€‚é”çš„ value å­˜å‚¨â€œå”¯ä¸€æ ‡è¯† + é‡å…¥æ¬¡æ•°â€ï¼Œç¬¬ä¸€æ¬¡åŠ é”æ—¶å­˜å…¥æ ‡è¯†å’Œæ¬¡æ•° 1ï¼›åŒä¸€çº¿ç¨‹å†æ¬¡åŠ é”æ—¶ï¼ŒéªŒè¯æ ‡è¯†ä¸€è‡´ï¼Œå°†æ¬¡æ•°åŠ  1ï¼›é‡Šæ”¾é”æ—¶ï¼Œæ¬¡æ•°å‡ 1ï¼Œç›´åˆ°æ¬¡æ•°ä¸º 0 æ‰åˆ é™¤é”®å½»åº•é‡Šæ”¾é”ã€‚</p>\n<p>æ‰‹åŠ¨å®ç°é€»è¾‘å¤æ‚ï¼Œæ¨èä½¿ç”¨ Redisson çš„ RLock æ¥å£ï¼Œå¤©ç„¶æ”¯æŒå¯é‡å…¥ï¼Œç”¨æ³•ä¸æœ¬åœ° synchronized é”ä¸€è‡´ï¼Œæ— éœ€é¢å¤–å¼€å‘ã€‚</p>\n<h3 id=\"é—®é¢˜-5ä¸»ä»åˆ‡æ¢é”ä¸¢å¤±è„‘è£‚é›†ç¾¤ç¯å¢ƒä¸‹çš„éšå½¢å‘\">é—®é¢˜ 5ï¼šä¸»ä»åˆ‡æ¢é”ä¸¢å¤±ï¼ˆè„‘è£‚ï¼‰â€”â€”é›†ç¾¤ç¯å¢ƒä¸‹çš„éšå½¢å‘</h3>\n<p><strong>æˆå› </strong>ï¼šRedis ä¸»ä»é›†ç¾¤ä¸­ï¼Œä¸»èŠ‚ç‚¹å­˜å‚¨é”æ•°æ®åï¼Œå°šæœªåŒæ­¥åˆ°ä»èŠ‚ç‚¹å°±å®•æœºï¼›å“¨å…µå°†ä»èŠ‚ç‚¹åˆ‡æ¢ä¸ºä¸»èŠ‚ç‚¹ï¼Œæ–°ä¸»èŠ‚ç‚¹æ— è¯¥é”æ•°æ®ï¼Œå…¶ä»–æœåŠ¡å¯é‡æ–°åŠ é”ï¼Œå¯¼è‡´åŸé”å¤±æ•ˆï¼Œå‡ºç°å¤šä¸ªæœåŠ¡æŒæœ‰é”çš„æƒ…å†µã€‚è¿™æ˜¯ä¸»ä» + å“¨å…µæ¨¡å¼çš„å›ºæœ‰é£é™©ã€‚</p>\n<p><strong>è¡¨ç°</strong>ï¼šä¸»ä»åˆ‡æ¢åï¼ŒåŸæŒæœ‰é”çš„æœåŠ¡ä»åœ¨æ‰§è¡Œä¸šåŠ¡ï¼Œæ–°æœåŠ¡å´èƒ½åŠ é”æˆåŠŸï¼Œå¼•å‘æ•°æ®å†²çªï¼Œä¸”é—®é¢˜éš¾ä»¥å¤ç°ï¼ˆä»…å‘ç”Ÿåœ¨ä¸»ä»åˆ‡æ¢ç¬é—´ï¼‰ã€‚</p>\n<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>\n<ul>\n<li>\n<p>ä½ä¸€è‡´æ€§åœºæ™¯ï¼šå¼€å¯ Redis ä¸»ä»åŒæ­¥çš„â€œæŒä¹…åŒ– + ç­‰å¾…åŒæ­¥ç¡®è®¤â€ï¼Œä¸»èŠ‚ç‚¹å†™å…¥é”æ•°æ®åï¼Œç­‰å¾…è‡³å°‘ 1 ä¸ªä»èŠ‚ç‚¹åŒæ­¥å®Œæˆå†è¿”å›åŠ é”æˆåŠŸï¼Œé™ä½é”ä¸¢å¤±æ¦‚ç‡ï¼ˆä»æ— æ³•å®Œå…¨é¿å…ï¼‰ã€‚</p>\n</li>\n<li>\n<p>é«˜ä¸€è‡´æ€§åœºæ™¯ï¼šæ”¾å¼ƒä¸»ä» + å“¨å…µæ¨¡å¼ï¼Œæ”¹ç”¨ Redlock ç®—æ³•ï¼Œé€šè¿‡å¤šä¸»èŠ‚ç‚¹æŠ•ç¥¨æœºåˆ¶ï¼Œä»æ ¹æºä¸Šè§£å†³è„‘è£‚å¯¼è‡´çš„é”ä¸¢å¤±é—®é¢˜ã€‚</p>\n</li>\n</ul>\n<h3 id=\"é—®é¢˜-6åŠ é”å¤±è´¥æ— é‡è¯•ç­–ç•¥ä¸šåŠ¡å¶å‘å¤±è´¥\">é—®é¢˜ 6ï¼šåŠ é”å¤±è´¥æ— é‡è¯•ç­–ç•¥â€”â€”ä¸šåŠ¡å¶å‘å¤±è´¥</h3>\n<p><strong>æˆå› </strong>ï¼šåŠ é”æ—¶ä»…å°è¯•ä¸€æ¬¡ï¼Œè‹¥å› ç½‘ç»œæ³¢åŠ¨ã€Redis ä¸´æ—¶ç¹å¿™å¯¼è‡´åŠ é”å¤±è´¥ï¼Œç›´æ¥æŠ›å‡ºå¼‚å¸¸ï¼Œå¯¼è‡´ä¸šåŠ¡æ‰§è¡Œå¤±è´¥ã€‚åˆ†å¸ƒå¼ç¯å¢ƒä¸­ï¼Œç½‘ç»œæŠ–åŠ¨ã€Redis ç¬æ—¶å‹åŠ›å¤§æ˜¯å¸¸è§æƒ…å†µï¼Œæ— é‡è¯•ç­–ç•¥ä¼šæ”¾å¤§è¿™ç±»é—®é¢˜çš„å½±å“ã€‚</p>\n<p><strong>è¡¨ç°</strong>ï¼šéƒ¨åˆ†ç”¨æˆ·æ“ä½œå¤±è´¥ï¼ˆå¦‚æäº¤è®¢å•æç¤ºâ€œç³»ç»Ÿç¹å¿™â€ï¼‰ï¼Œé‡è¯•åå¯æˆåŠŸï¼Œé—®é¢˜å…·æœ‰éšæœºæ€§ã€‚</p>\n<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šå®ç°å¸¦é™åˆ¶çš„é‡è¯•æœºåˆ¶ï¼ŒåŠ é”å¤±è´¥åï¼Œé—´éš”ä¸€å®šæ—¶é—´ï¼ˆå¦‚ 100msï¼‰é‡è¯•ï¼ŒåŒæ—¶è®¾ç½®æœ€å¤§é‡è¯•æ¬¡æ•°ï¼ˆå¦‚ 3 æ¬¡ï¼‰å’Œæ€»è¶…æ—¶æ—¶é—´ï¼ˆå¦‚ 1 ç§’ï¼‰ï¼Œé¿å…æ— é™é‡è¯•å¯¼è‡´ Redis å‹åŠ›è¿‡å¤§ï¼Œä¹Ÿèƒ½æå‡åŠ é”æˆåŠŸç‡ã€‚</p>\n<pre><code class=\"language-java\">// å¸¦é‡è¯•çš„åŠ é”é€»è¾‘ï¼ˆSpring Data Redis ç¤ºä¾‹ï¼‰\npublic boolean lockWithRetry(String key, String value, long expireMs, int maxRetry, long retryIntervalMs) {\n    for (int i = 0; i &lt; maxRetry; i++) {\n        Boolean result = redisTemplate.opsForValue().setIfAbsent(key, value, expireMs, TimeUnit.MILLISECONDS);\n        if (Boolean.TRUE.equals(result)) {\n            return true;\n        }\n        try {\n            Thread.sleep(retryIntervalMs);\n        } catch (InterruptedException e) {\n            Thread.currentThread().interrupt();\n            return false;\n        }\n    }\n    return false;\n}\n</code></pre>\n<h3 id=\"é—®é¢˜-7é•¿æ—¶é—´æŒæœ‰é”ç³»ç»Ÿå¹¶å‘é‡éª¤é™\">é—®é¢˜ 7ï¼šé•¿æ—¶é—´æŒæœ‰é”â€”â€”ç³»ç»Ÿå¹¶å‘é‡éª¤é™</h3>\n<p><strong>æˆå› </strong>ï¼šåœ¨é”çš„èŒƒå›´å†…æ‰§è¡Œè€—æ—¶æ“ä½œï¼ˆå¦‚å¤æ‚æ•°æ®åº“æŸ¥è¯¢ã€ç¬¬ä¸‰æ–¹æ¥å£è°ƒç”¨ã€å¤§é‡æ•°æ®å¤„ç†ï¼‰ï¼Œå¯¼è‡´é”æŒæœ‰æ—¶é—´è¿‡é•¿ï¼Œå…¶ä»–æœåŠ¡è¯·æ±‚è¯¥é”æ—¶è¢«é•¿æ—¶é—´é˜»å¡ï¼Œç³»ç»Ÿååé‡å¤§å¹…ä¸‹é™ã€‚</p>\n<p><strong>è¡¨ç°</strong>ï¼šä¾èµ–è¯¥é”çš„æ¥å£å“åº”æ—¶é—´å˜é•¿ï¼Œå¹¶å‘é‡ä¸Šä¸å»ï¼Œç›‘æ§æ˜¾ç¤ºå¤§é‡çº¿ç¨‹é˜»å¡åœ¨åŠ é”ç¯èŠ‚ã€‚</p>\n<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>\n<ul>\n<li>\n<p>ç²¾ç®€é”å†…ä¸šåŠ¡ï¼šä»…å°†â€œèµ„æºç«äº‰æ ¸å¿ƒé€»è¾‘â€ï¼ˆå¦‚åº“å­˜æ‰£å‡ã€è®¢å•çŠ¶æ€ä¿®æ”¹ï¼‰æ”¾å…¥é”å†…ï¼Œéæ ¸å¿ƒé€»è¾‘ï¼ˆå¦‚æ—¥å¿—è®°å½•ã€æ¶ˆæ¯æ¨é€ï¼‰ç§»è‡³é”å¤–æ‰§è¡Œã€‚</p>\n</li>\n<li>\n<p>å¼‚æ­¥åŒ–å¤„ç†ï¼šè‹¥é”å†…å¿…é¡»æ‰§è¡Œè€—æ—¶æ“ä½œï¼Œå°†å…¶å¼‚æ­¥åŒ–ï¼ˆå¦‚ç”¨çº¿ç¨‹æ± ã€æ¶ˆæ¯é˜Ÿåˆ—ï¼‰ï¼Œç¼©çŸ­é”æŒæœ‰æ—¶é—´ã€‚</p>\n</li>\n<li>\n<p>è®¾ç½®é”æŒæœ‰è¶…æ—¶é¢„è­¦ï¼šé€šè¿‡ç›‘æ§å·¥å…·ç»Ÿè®¡é”æŒæœ‰æ—¶é—´ï¼Œè¶…è¿‡é˜ˆå€¼ï¼ˆå¦‚ 20 ç§’ï¼‰æ—¶å‘Šè­¦ï¼ŒåŠæ—¶æ’æŸ¥è€—æ—¶ä¸šåŠ¡ã€‚</p>\n</li>\n</ul>\n<h3 id=\"é—®é¢˜-8é”-key-è®¾è®¡ä¸å½“é”ç²’åº¦é—®é¢˜å¼•å‘å¹¶å‘ç“¶é¢ˆ\">é—®é¢˜ 8ï¼šé” key è®¾è®¡ä¸å½“â€”â€”é”ç²’åº¦é—®é¢˜å¼•å‘å¹¶å‘ç“¶é¢ˆ</h3>\n<p><strong>æˆå› </strong>ï¼šé” key ç²’åº¦å¤ªç²—ï¼ˆå¦‚ç”¨â€œlock:stockâ€ä½œä¸ºæ‰€æœ‰å•†å“çš„åº“å­˜é”ï¼‰ï¼Œå¯¼è‡´æ‰€æœ‰å•†å“çš„åº“å­˜æ“ä½œéƒ½äº’æ–¥ï¼Œå³ä½¿æ“ä½œä¸åŒå•†å“ï¼Œä¹Ÿéœ€æ’é˜Ÿç­‰å¾…é”é‡Šæ”¾ï¼Œå½»åº•ä¸§å¤±åˆ†å¸ƒå¼ç³»ç»Ÿçš„å¹¶å‘ä¼˜åŠ¿ã€‚</p>\n<p><strong>è¡¨ç°</strong>ï¼šç³»ç»Ÿå¹¶å‘é‡æä½ï¼Œä¸åŒå•†å“çš„åº“å­˜æ‰£å‡è¯·æ±‚ä¸²è¡Œæ‰§è¡Œï¼Œæ¥å£ååé‡è¿œä½äºé¢„æœŸã€‚</p>\n<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šç²¾ç»†åŒ–è®¾è®¡é” keyï¼ŒæŒ‰å…·ä½“èµ„æºæ ‡è¯†æ‹†åˆ†é”ã€‚æ¯”å¦‚åº“å­˜é”ï¼Œç”¨â€œlock:stock:1001â€ï¼ˆ1001 ä¸ºå•†å“ IDï¼‰ä½œä¸ºé” keyï¼Œä»…å¯¹åŒä¸€å•†å“çš„åº“å­˜æ“ä½œäº’æ–¥ï¼Œä¸åŒå•†å“å¯å¹¶è¡Œå¤„ç†ï¼Œå¤§å¹…æå‡å¹¶å‘é‡ã€‚</p>\n<p>å»¶ä¼¸ï¼šé«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œå¯è¿›ä¸€æ­¥ç”¨â€œåˆ†æ®µé”â€æ‹†åˆ†èµ„æºï¼ˆå¦‚å°†å•†å“ ID å“ˆå¸Œåˆ° 10 ä¸ªåˆ†æ®µï¼Œé” key ä¸ºâ€œlock:stock:segment:1â€ï¼‰ï¼ŒåŒä¸€åˆ†æ®µäº’æ–¥ï¼Œä¸åŒåˆ†æ®µå¹¶è¡Œï¼Œè¿›ä¸€æ­¥æå‡å¹¶å‘èƒ½åŠ›ã€‚</p>\n<h3 id=\"é—®é¢˜-9ç½‘ç»œåˆ†åŒºå¯¼è‡´é”çŠ¶æ€ä¸ä¸€è‡´æç«¯åœºæ™¯ä¸‹çš„éšæ‚£\">é—®é¢˜ 9ï¼šç½‘ç»œåˆ†åŒºå¯¼è‡´é”çŠ¶æ€ä¸ä¸€è‡´â€”â€”æç«¯åœºæ™¯ä¸‹çš„éšæ‚£</h3>\n<p><strong>æˆå› </strong>ï¼šåˆ†å¸ƒå¼ç¯å¢ƒä¸­å‡ºç°ç½‘ç»œåˆ†åŒºï¼ŒæŒæœ‰é”çš„æœåŠ¡ä¸ Redis é›†ç¾¤éš”ç¦»ï¼Œæ— æ³•ä¸»åŠ¨é‡Šæ”¾é”ï¼Œä¹Ÿæ— æ³•æ¥æ”¶é”ç»­çº¦ä¿¡å·ï¼›é”è¿‡æœŸåï¼Œå…¶ä»–æœåŠ¡åŠ é”æˆåŠŸï¼›ç½‘ç»œæ¢å¤åï¼ŒåŸæŒæœ‰é”çš„æœåŠ¡è¯¯ä»¥ä¸ºé”ä»æœ‰æ•ˆï¼Œç»§ç»­æ“ä½œèµ„æºï¼Œå¯¼è‡´æ•°æ®å†²çªã€‚</p>\n<p><strong>è¡¨ç°</strong>ï¼šæç«¯ç½‘ç»œå¼‚å¸¸åï¼Œå‡ºç°æ•°æ®ä¸ä¸€è‡´ï¼Œä¸”é—®é¢˜éš¾ä»¥æ’æŸ¥ï¼ˆä¸ç½‘ç»œåˆ†åŒºæ—¶é—´ã€é”è¿‡æœŸæ—¶é—´å¼ºç›¸å…³ï¼‰ã€‚</p>\n<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>\n<ul>\n<li>\n<p>å¼•å…¥ä¸šåŠ¡æ ¡éªŒæœºåˆ¶ï¼šæ“ä½œèµ„æºå‰ï¼Œå†æ¬¡æ ¡éªŒèµ„æºçŠ¶æ€ï¼ˆå¦‚æ‰£å‡åº“å­˜å‰ï¼Œæ£€æŸ¥åº“å­˜æ˜¯å¦ä¸é¢„æœŸä¸€è‡´ï¼‰ï¼Œé¿å…åŸºäºè¿‡æœŸé”çš„æ— æ•ˆæ“ä½œã€‚</p>\n</li>\n<li>\n<p>ç¼©çŸ­é”è¿‡æœŸæ—¶é—´ï¼šç»“åˆ Watch Dog æœºåˆ¶ï¼Œå°†åŸºç¡€è¿‡æœŸæ—¶é—´è®¾çŸ­ï¼ˆå¦‚ 10 ç§’ï¼‰ï¼Œå‡å°‘ç½‘ç»œåˆ†åŒºå¯¼è‡´çš„é”çŠ¶æ€ä¸ä¸€è‡´çª—å£ã€‚</p>\n</li>\n<li>\n<p>ä½¿ç”¨ Redlock ç®—æ³•ï¼šå¤šä¸»èŠ‚ç‚¹æŠ•ç¥¨æœºåˆ¶ï¼Œå¯é™ä½ç½‘ç»œåˆ†åŒºå¯¹é”çŠ¶æ€çš„å½±å“ï¼Œæå‡ä¸€è‡´æ€§ã€‚</p>\n</li>\n</ul>\n<h2 id=\"äºŒç”Ÿäº§é¿å‘æ€»ç»“\">äºŒã€ç”Ÿäº§é¿å‘æ€»ç»“</h2>\n<p>Redis åˆ†å¸ƒå¼é”çš„é—®é¢˜ï¼Œå¤§å¤šä¸æ˜¯ Redis æœ¬èº«çš„ç¼ºé™·ï¼Œè€Œæ˜¯å¯¹åˆ†å¸ƒå¼åœºæ™¯çš„å¤æ‚æ€§è€ƒè™‘ä¸è¶³ã€‚ç»“åˆå®æˆ˜ç»éªŒï¼Œæ€»ç»“ 3 ä¸ªæ ¸å¿ƒé¿å‘åŸåˆ™ï¼š</p>\n<ol>\n<li>\n<p>ä¼˜å…ˆä½¿ç”¨æˆç†Ÿæ¡†æ¶ï¼šæ”¾å¼ƒæ‰‹åŠ¨å®ç°åˆ†å¸ƒå¼é”ï¼ŒRedisson å·²å°è£…è§£å†³ä¸Šè¿°æ‰€æœ‰é—®é¢˜ï¼Œå¼€ç®±å³ç”¨ï¼Œç¨³å®šæ€§è¿œé«˜äºè‡ªå®šä¹‰å®ç°ã€‚</p>\n</li>\n<li>\n<p>åŒ¹é…ä¸šåŠ¡åœºæ™¯é€‰å‹ï¼šé«˜ä¸€è‡´æ€§ã€é«˜å¯ç”¨åœºæ™¯ç”¨ Redlock ç®—æ³•ï¼›ä¸€èˆ¬åœºæ™¯ç”¨ä¸»ä» + å“¨å…µæ¨¡å¼ï¼›æ ¹æ®å¹¶å‘é‡è®¾è®¡é”ç²’åº¦ï¼ˆç²¾ç»†åŒ–/åˆ†æ®µé”ï¼‰ã€‚</p>\n</li>\n<li>\n<p>å®Œå–„ç›‘æ§ä¸å…œåº•ï¼šç›‘æ§é”æŒæœ‰æ—¶é—´ã€åŠ é”æˆåŠŸç‡ã€Redis é›†ç¾¤çŠ¶æ€ï¼Œè®¾ç½®å‘Šè­¦é˜ˆå€¼ï¼›åŠ é”å¤±è´¥ã€é”è¿‡æœŸç­‰åœºæ™¯ï¼Œéœ€æœ‰ä¸šåŠ¡å…œåº•ç­–ç•¥ï¼ˆé‡è¯•ã€è¿”å›å‹å¥½æç¤ºã€é˜Ÿåˆ—ç¼“å­˜ï¼‰ã€‚</p>\n</li>\n</ol>\n<p>æ€»ä¹‹ï¼ŒRedis åˆ†å¸ƒå¼é”çš„æ ¸å¿ƒæ˜¯â€œå…¼é¡¾äº’æ–¥æ€§ä¸é«˜å¯ç”¨â€ï¼Œé¿å¼€ä¸Šè¿°é—®é¢˜åï¼Œæ‰èƒ½çœŸæ­£æˆä¸ºåˆ†å¸ƒå¼ç³»ç»Ÿè§£å†³å¹¶å‘å†²çªçš„åˆ©å™¨ï¼Œè€Œéç³»ç»Ÿçš„æ–°ç“¶é¢ˆã€‚</p>\n\n</div>\n<div id=\"MySignature\">\n    \n<p>â¤ï¸ å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œè¯·ç‚¹èµæ”¯æŒï¼ ğŸ‘ åŒæ—¶æ¬¢è¿å…³æ³¨æˆ‘çš„åšå®¢ï¼Œè·å–æ›´å¤šç²¾å½©å†…å®¹ï¼</p>\n\n<p>æœ¬æ–‡æ¥è‡ªåšå®¢å›­ï¼Œä½œè€…ï¼š<a href=\"https://www.cnblogs.com/sun-10387834/\" target=\"_blank\">ä½›ç¥–è®©æˆ‘æ¥å·¡å±±</a>ï¼Œè½¬è½½è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼š<a href=\"https://www.cnblogs.com/sun-10387834/p/19493006\" target=\"_blank\">https://www.cnblogs.com/sun-10387834/p/19493006</a></p>\n\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-20 19:23</span>&nbsp;\n<a href=\"https://www.cnblogs.com/sun-10387834\">ä½›ç¥–è®©æˆ‘æ¥å·¡å±±</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">162</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "åä¸ºäº‘å‘å¸ƒCodeArts Doerä»£ç æ™ºèƒ½ä½“ä¸ªäººç‰ˆï¼šä¸€é”®å¼€å¯ä½ çš„ç¼–ç è‡ªåŠ¨é©¾é©¶æ¨¡å¼",
      "link": "https://www.cnblogs.com/huaweiyun/p/19508288",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/huaweiyun/p/19508288\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-20 18:34\">\n    <span>åä¸ºäº‘å‘å¸ƒCodeArts Doerä»£ç æ™ºèƒ½ä½“ä¸ªäººç‰ˆï¼šä¸€é”®å¼€å¯ä½ çš„ç¼–ç è‡ªåŠ¨é©¾é©¶æ¨¡å¼</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body blogpost-body-html\" id=\"cnblogs_post_body\">\n<div align=\"center\" style=\"text-align: left;\">2026å¹´1æœˆ16æ—¥ï¼Œåä¸ºäº‘æ­£å¼å‘å¸ƒCodeArts Doerä»£ç æ™ºèƒ½ä½“ã€‚è¿™æ¬¾æ·±åº¦èåˆAIåŸç”Ÿèƒ½åŠ›çš„æ™ºèƒ½ç¼–ç äº§å“ï¼Œé›†æˆäº†AI IDEã€Code Agentã€Codebaseä»£ç ä»“æ·±åº¦ç†è§£ç­‰æ ¸å¿ƒèƒ½åŠ›ï¼Œæ›´æ‡‚ç ”å‘éœ€æ±‚ã€ç²¾é€šç¼–ç ã€å–„ç”¨ç™¾å™¨ï¼Œä¸ºå¼€å‘è€…å¸¦æ¥ç„•æ–°ç ”å‘ä½“éªŒã€‚</div>\n<div style=\"text-align: left;\">&nbsp;<img alt=\"\" class=\"lazyload\" /></div>\n<p>æœ¬æ¬¡å‘å¸ƒçš„ä¸‰å¤§æ–°å“ç‰¹æ€§ï¼š AI IDEã€Code Agentã€Codebase</p>\n<p><strong>AI IDE</strong><strong>ï¼šåŸç”Ÿæ™ºèƒ½ï¼Œç„•æ–°å¼€å‘ä½“éªŒ</strong></p>\n<p>AI IDEä»¥AIåŸç”Ÿä¸ºèµ·ç‚¹ï¼Œå°†ç¼–ç èƒ½åŠ›ä¸æ™ºèƒ½ä½“æ·±åº¦èåˆï¼Œä¸ºå¼€å‘è€…å¸¦æ¥æ›´è‡ªç„¶çš„å¼€å‘å·¥ä½œæµï¼šä»éœ€æ±‚æè¿°åˆ°ä»»åŠ¡æ‹†è§£ï¼Œä»æ¥å£è®¾è®¡åˆ°ä»£ç è½åœ°ï¼Œåœ¨IDEå†…å³å¯å®Œæˆé—­ç¯ã€‚åŒæ—¶ï¼ŒAI IDEå†…ç½®ä¸“å®¶æŠ€èƒ½ä¸ç²¾é€‰å·¥å…·ï¼Œå½¢æˆâ€œäºº+AI+å·¥å…·â€çš„ååŒå¼€å‘å¹³å°ï¼šå¼€å‘è€…ä¸“æ³¨ä¸šåŠ¡åˆ¤æ–­ä¸å…³é”®å†³ç­–ï¼ŒAI IDEè´Ÿè´£é«˜é¢‘ã€é‡å¤ã€æ˜“é—æ¼çš„å·¥ç¨‹åŒ–å·¥ä½œï¼Œè®©ä½“éªŒä»â€œå¤šå¼€çª—å£æ‰¾å·¥å…·â€å‡çº§ä¸ºâ€œåœ¨ä¸€ä¸ªå·¥ä½œå°é‡Œå®Œæˆäº¤ä»˜â€ã€‚</p>\n<p>&nbsp;<img alt=\"\" class=\"lazyload\" /></p>\n<p><strong>Code Agent</strong><strong>ï¼šå·¦æ‰‹ç¼–ç è‡ªç”±ï¼Œå³æ‰‹è§„èŒƒé«˜æ•ˆ</strong></p>\n<p>CodeArts Doerä»£ç æ™ºèƒ½ä½“æä¾›ä¸¤ç§é¢å‘ä¸åŒé˜¶æ®µä¸è¯‰æ±‚çš„å¼€å‘æ¨¡å¼ï¼š</p>\n<p>æ¢ç´¢æ¨¡å¼ï¼šæ›´å¼ºè°ƒäººæœºååŒä¸åˆ›é€ åŠ›ã€‚ä½ å¯ä»¥ç”¨è‡ªç„¶è¯­è¨€æè¿°éœ€æ±‚ç›®æ ‡ï¼Œè®©CodeArts Doerä»£ç æ™ºèƒ½ä½“ä¸ºä½ è§„åˆ’å¹¶åˆ†è§£é¡¹ç›®ä»»åŠ¡ï¼Œç”Ÿæˆé¡¹ç›®çº§ä»£ç ã€è¿›è¡ŒAgentçŸ¥è¯†å¢å¼ºã€ä»£ç ç»­å†™ï¼Œå¹¶åœ¨å¤šè½®å¯¹è¯ä¸­æŒç»­è¿­ä»£ï¼ŒæŠŠâ€œæƒ³æ³•â€å¿«é€Ÿæ¨è¿›åˆ°â€œå¯è¿è¡Œâ€ã€‚</p>\n<p>è§„èŒƒæ¨¡å¼ï¼šæ›´å¼ºè°ƒè´¨é‡ã€å®‰å…¨ä¸ä¸€è‡´æ€§ã€‚è§„èŒƒé©±åŠ¨å¼€å‘ï¼Œè®©ä»£ç éµä»æ ‡å‡†æµç¨‹ç”Ÿæˆã€‚åœ¨ç”Ÿæˆä¸ä¿®æ”¹ä»£ç è¿‡ç¨‹ä¸­å¯¹é½è§„èŒƒï¼Œæå‡ä»£ç çš„å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§ï¼ŒåŒæ—¶åœ¨å…³é”®ç‚¹è¿›è¡Œå®‰å…¨ä¸è´¨é‡æ ¡éªŒï¼Œå¸®åŠ©å›¢é˜ŸæŠŠâ€œå¿«â€å»ºç«‹åœ¨â€œç¨³â€çš„åŸºç¡€ä¸Šã€‚</p>\n<p><img alt=\"\" class=\"lazyload\" /></p>\n<p><strong>Codebase</strong><strong>ï¼šä»£ç ä»“æ·±åº¦ç†è§£ï¼Œæœ€æ‡‚ä½ çš„AIç¼–ç ä¸“å®¶</strong></p>\n<p>çœŸæ­£é€‚ç”¨äºç”Ÿäº§ç¯å¢ƒçš„AIç¼–ç ï¼Œå…³é”®åœ¨äºâ€œç†è§£ä½ çš„é¡¹ç›®â€ã€‚Codebaseæ”¯æŒç™¾ä¸‡è¡Œçº§ä»£ç ç´¢å¼•ã€çŸ¥è¯†å›¾è°±æ„å»ºã€æ–‡æ¡£ç”Ÿæˆä¸æ¼”åŒ–å†å²çŸ¥è¯†æ²‰æ·€ï¼Œå‡†ç¡®ç†è§£ä»£ç ä»“ç»“æ„ã€ä¾èµ–å…³ç³»ä¸ä¸šåŠ¡è¾¹ç•Œï¼ŒåŒ–èº«æˆä¸€ä½ä¸“å±çš„ä»£ç çŸ¥è¯†ä¸“å®¶ï¼Œå¸®åŠ©æ–°æˆå‘˜å¿«é€Ÿä¸Šæ‰‹ã€è€æˆå‘˜å¿«é€Ÿå®šä½ã€‚åŒæ—¶ï¼Œå‡†ç¡®æ£€ç´¢èƒ½åŠ›è®©AIæ›´å¿«æ‰¾åˆ°ä½ çœŸæ­£éœ€è¦çš„å‡½æ•°ã€æ¥å£ä¸å®ç°ç»†èŠ‚ï¼Œå‡å°‘â€œçœ‹ä¼¼æ­£ç¡®ã€å®åˆ™ä¸é€‚é…â€çš„ç”Ÿæˆå†…å®¹ï¼Œè®©æ¯ä¸€æ¬¡å»ºè®®éƒ½æ›´è´´è¿‘é¡¹ç›®ç°å®ã€‚</p>\n<p>&nbsp;<img alt=\"\" class=\"lazyload\" /></p>\n<p><strong>å¤šç§ç”¨æˆ·åœºæ™¯ï¼šè®©ç ”å‘ä»â€œäººåŠ›ä¸»å¯¼â€èµ°å‘â€œäººæœºå…±åˆ›â€</strong></p>\n<p>CodeArts Doerä»£ç æ™ºèƒ½ä½“å·²åœ¨é¡¹ç›®çº§ä»£ç ç”Ÿæˆã€AgentçŸ¥è¯†å¢å¼ºã€ä»£ç ç»­å†™ã€ç ”å‘çŸ¥è¯†é—®ç­”ã€å•å…ƒæµ‹è¯•ç”Ÿæˆç­‰åœºæ™¯å®ç°å¼€å‘è€…æ•ˆç‡æå‡ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒä¸°å¯Œå·¥å…·ç”Ÿæ€ï¼ŒåŠ©åŠ›é«˜æ•ˆå¼€å‘ä¸ä¸ªæ€§åŒ–å®šåˆ¶ã€‚</p>\n<p>ç›®å‰ï¼ŒCodeArts Doerä»£ç æ™ºèƒ½ä½“ä¸ªäººç‰ˆå·²ç»æ­£å¼å‘å¸ƒï¼Œé¢å‘å¹¿å¤§å¼€å‘è€…å¼€æ”¾å…è´¹ä½“éªŒã€‚è®©AIçœŸæ­£èµ°è¿›å·¥ç¨‹ã€èµ°è¿›æµç¨‹ã€èµ°è¿›äº¤ä»˜â€”â€”ä»ä»Šå¤©èµ·ï¼Œå¼€å¯ä½ çš„ç¼–ç è‡ªåŠ¨é©¾é©¶æ¨¡å¼ã€‚</p>\n<p>ä½“éªŒCodeArts Doerä»£ç æ™ºèƒ½ä½“ï¼š<a href=\"https://developer.huaweicloud.com/signup/78745481cafb4d79bf62096f6770c72e?channelCode=hcdg\" rel=\"noopener nofollow\" target=\"_blank\">https://developer.huaweicloud.com/signup/78745481cafb4d79bf62096f6770c72e?channelCode=hcdg</a></p>\n<p>&nbsp;</p>\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-20 18:34</span>&nbsp;\n<a href=\"https://www.cnblogs.com/huaweiyun\">åä¸ºäº‘å¼€å‘è€…è”ç›Ÿ</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">150</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "JavaScriptæµç¨‹æ§åˆ¶ï¼šä»æ··ä¹±æ¡ä»¶åˆ°ä¼˜é›…éå†ï¼Œä¸€æ¬¡è®²æ¸…å¦‚ä½•è®©ä»£ç å¬è¯",
      "link": "https://www.cnblogs.com/ymtianyu/p/19511690",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/ymtianyu/p/19511690\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-21 14:15\">\n    <span>JavaScriptæµç¨‹æ§åˆ¶ï¼šä»æ··ä¹±æ¡ä»¶åˆ°ä¼˜é›…éå†ï¼Œä¸€æ¬¡è®²æ¸…å¦‚ä½•è®©ä»£ç å¬è¯</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                    <div id=\"cnblogs_post_description\" style=\"display: none;\">\n        \n        JavaScriptæµç¨‹æ§åˆ¶æ˜¯ç¼–ç¨‹çš„åŸºçŸ³ï¼Œä½†é¢å¯¹æ¡ä»¶åˆ†æ”¯ã€å¤šé‡å¾ªç¯å’ŒDOMæ“ä½œæ—¶ï¼Œä»£ç ææ˜“å˜å¾—å†—é•¿æ··ä¹±ã€‚æœ¬æ–‡å°†ä»å®é™…å¼€å‘ç—›ç‚¹å‡ºå‘ï¼Œç”¨ç”Ÿæ´»åŒ–æ¯”å–»å˜æ¸…if/elseã€forã€whileç­‰æ ¸å¿ƒæ¦‚å¿µï¼Œå¹¶é€šè¿‡â€œè·å–å¹¶éå†æ‰€æœ‰DOMå…ƒç´ ä¿®æ”¹æ ·å¼â€çš„ç»å…¸åœºæ™¯ï¼Œæ‰‹æŠŠæ‰‹æ¼”ç¤ºå¦‚ä½•å°†æŠ½è±¡è¯­æ³•è½¬åŒ–ä¸ºæ•´æ´ã€é«˜æ•ˆçš„å®æˆ˜ä»£ç ï¼Œå¸®åŠ©ä½ å»ºç«‹æ¸…æ™°å¯é çš„é€»è¾‘æ§åˆ¶æ€ç»´ã€‚\n    </div>\n<div class=\"blogpost-body blogpost-body-html\" id=\"cnblogs_post_body\">\n<p>ä½ æœ‰æ²¡æœ‰å†™è¿‡é‚£ç§â€œæŒ‰ä¸‹æŒ‰é’®åï¼Œä¸€å †<code style=\"color: rgba(186, 55, 42, 1);\">if else</code>å¥—ç€<code style=\"color: rgba(186, 55, 42, 1);\">for</code>å¾ªç¯ï¼Œæœ€åè‡ªå·±éƒ½ç»•æ™•äº†â€çš„ä»£ç ï¼ŸğŸ¯</p>\n<p>ä¸€ä¸ªçœŸå®çš„æ•°æ®ï¼šåœ¨reviewæ–°æ‰‹å¼€å‘è€…çš„ä»£ç æ—¶ï¼Œè¶…è¿‡70%çš„é€»è¾‘é”™è¯¯å’Œæ€§èƒ½é—®é¢˜ï¼Œéƒ½æºäº<span style=\"color: rgba(186, 55, 42, 1);\"><strong>ä¸æ¸…æ™°æˆ–é”™è¯¯çš„æµç¨‹æ§åˆ¶</strong></span>ã€‚æ¯”å¦‚ï¼Œæœ¬æƒ³ç»™é¡µé¢æ‰€æœ‰æŒ‰é’®æ¢ä¸ªé¢œè‰²ï¼Œå´å› ä¸ºå¾ªç¯æ²¡å†™å¥½ï¼Œè¦ä¹ˆæ¼äº†å‡ ä¸ªï¼Œè¦ä¹ˆæµè§ˆå™¨å¡æ­»äº†ã€‚</p>\n<p>ä»Šå¤©ï¼Œå’±ä»¬ä¸èŠæ·±å¥¥çš„ç†è®ºï¼Œå°±åƒè€æœ‹å‹èŠå¤©ä¸€æ ·ï¼Œæˆ‘æŠŠè¿™äº›å¹´æ‘¸çˆ¬æ»šæ‰“æ€»ç»“çš„<span style=\"color: rgba(186, 55, 42, 1);\"><strong>JSæµç¨‹æ§åˆ¶å¿ƒæ³•</strong></span>å’Œ<span style=\"color: rgba(186, 55, 42, 1);\"><strong>DOMéå†çš„å®æˆ˜å¥—è·¯</strong></span>äº¤ç»™ä½ ã€‚å­¦å®Œä½ å°±èƒ½å†™å‡ºæ›´æ¸…æ™°ã€æ›´å¥å£®çš„ä»£ç ã€‚</p>\n<h2>ğŸ“– æ ¸å¿ƒæ‘˜è¦ï¼šè¿™ç¯‡æ–‡ç« èƒ½å¸®ä½ </h2>\n<div>\n<p>ğŸ‘‰ 1. å½»åº•ææ‡‚æ¡ä»¶åˆ†æ”¯ä¸å¾ªç¯çš„é€‚ç”¨åœºæ™¯ï¼Œå‘Šåˆ«é€‰æ‹©å›°éš¾ã€‚</p>\n<p>ğŸ‘‰ 2. æŒæ¡éå†DOMé›†åˆä¿®æ”¹å±æ€§çš„æ ‡å‡†å§¿åŠ¿ä¸æ€§èƒ½çªé—¨ã€‚</p>\n<p>ğŸ‘‰ 3. è¯†åˆ«æµç¨‹æ§åˆ¶ä¸­çš„å¸¸è§â€œå‘â€ï¼Œå¹¶å­¦ä¼šå¦‚ä½•ä¼˜é›…åœ°ç»•è¿‡å»ã€‚</p>\n</div>\n<h2>ğŸš€ ä¸»è¦å†…å®¹è„‰ç»œ</h2>\n<div>\n<p>ğŸ¯ ä¸€ã€ç—›ç‚¹ï¼šä¸ºä»€ä¹ˆä½ çš„ä»£ç æ€»æ˜¯â€œå¤±æ§â€ï¼Ÿ</p>\n<p>ğŸ¯ äºŒã€æ ¸å¿ƒï¼šè®©é€»è¾‘å˜æ¸…æ™°çš„â€œå¯¼èˆªä»ªâ€â€”â€”æµç¨‹æ§åˆ¶å…¨è§£</p>\n<p>ğŸ¯ ä¸‰ã€å®æˆ˜ï¼šç”¨å¾ªç¯å¾æœDOMï¼Œæ‰¹é‡ä¿®æ”¹å…ƒç´ å±æ€§</p>\n<p>ğŸ¯ å››ã€é¿å‘ä¸å‡åï¼šå†™å‡ºæ›´ä¸“ä¸šçš„ä»£ç </p>\n</div>\n<h2>ä¸€ã€ç—›ç‚¹ï¼šä¸ºä»€ä¹ˆä½ çš„ä»£ç æ€»æ˜¯â€œå¤±æ§â€ï¼Ÿ</h2>\n<p>æƒ³è±¡ä¸€ä¸ªåœºæ™¯ï¼šäº§å“ç»ç†è¦æ±‚ï¼Œâ€œç”¨æˆ·æ»šåŠ¨åˆ°é¡µé¢åº•éƒ¨æ—¶ï¼Œå¦‚æœå·²ç»ç™»å½•ï¼Œå°±åŠ è½½Aæ¨¡å—æ•°æ®ï¼›å¦‚æœæœªç™»å½•ï¼Œå¼¹å‡ºç™»å½•æ¡†ï¼›ä½†å¦‚æœæ˜¯VIPç”¨æˆ·ï¼Œä¸è®ºæ˜¯å¦ç™»å½•éƒ½ç›´æ¥åŠ è½½Aå’ŒBæ¨¡å—â€¦â€¦â€</p>\n<p>å¦‚æœä½ ä¸‹æ„è¯†åœ°å¼€å§‹å†™ä¸€è¿ä¸²çš„<code style=\"color: rgba(186, 55, 42, 1);\">if...else if...else</code>ï¼Œé‚£ä¹ˆæ­å–œï¼Œä½ æ­£åœ¨åˆ¶é€ ä¸€é¢—åä¸ºâ€œ<strong style=\"color: rgba(186, 55, 42, 1);\">é¢æ¡ä»£ç </strong>â€çš„å®šæ—¶ç‚¸å¼¹ã€‚è¿™ç§ä»£ç ä¸ä»…éš¾è¯»ã€éš¾æ”¹ï¼Œå‡ ä¸ªæœˆåä½ è‡ªå·±éƒ½çœ‹ä¸æ‡‚ã€‚</p>\n<p><strong>é—®é¢˜çš„æ ¸å¿ƒ</strong>åœ¨äºï¼Œæˆ‘ä»¬æ²¡æœ‰æŠŠæµç¨‹æ§åˆ¶è¯­å¥å½“ä½œâ€œ<strong>å¯¼èˆªä»ª</strong>â€æ¥è§„åˆ’é€»è¾‘è·¯å¾„ï¼Œè€Œæ˜¯å½“æˆäº†â€œ<strong>è¡¥ä¸</strong>â€å“ªé‡Œéœ€è¦è´´å“ªé‡Œã€‚</p>\n<h2>äºŒã€æ ¸å¿ƒï¼šè®©é€»è¾‘å˜æ¸…æ™°çš„â€œå¯¼èˆªä»ªâ€â€”â€”æµç¨‹æ§åˆ¶å…¨è§£</h2>\n<p>æµç¨‹æ§åˆ¶æ— éä¸¤ä»¶äº‹ï¼š<strong style=\"color: rgba(186, 55, 42, 1);\">æ ¹æ®ä¸åŒæƒ…å†µèµ°ä¸åŒçš„è·¯ï¼ˆåˆ†æ”¯ï¼‰</strong>ï¼Œå’Œ<strong style=\"color: rgba(186, 55, 42, 1);\">é‡å¤åšä¸€äº›äº‹æƒ…ç›´åˆ°æ»¡è¶³æ¡ä»¶ï¼ˆå¾ªç¯ï¼‰</strong>ã€‚</p>\n<h3>ğŸ”€ æ¡ä»¶åˆ†æ”¯ï¼šä½ çš„ä»£ç å†³ç­–å±‚</h3>\n<div>\n<p>- <code style=\"color: rgba(186, 55, 42, 1);\">if</code>ï¼š â€œå¦‚æœ...å°±...â€ï¼ˆå•è½¦é“ï¼‰</p>\n<pre class=\"language-javascript highlighter-hljs\"><code>if (isRaining) {\n    takeUmbrella();\n}</code></pre>\n<p>- <code style=\"color: rgba(186, 55, 42, 1);\">if...else</code>ï¼šâ€œå¦‚æœ...å°±...å¦åˆ™...â€ï¼ˆå²”è·¯å£äºŒé€‰ä¸€ï¼‰</p>\n<pre class=\"language-javascript highlighter-hljs\"><code>if (score &gt;= 60) {\n    console.log(\"åŠæ ¼\");\n} else {\n    console.log(\"ä¸åŠæ ¼\");\n}</code></pre>\n<p>- <code style=\"color: rgba(186, 55, 42, 1);\">else if</code>ï¼šâ€œå¦‚æœ...å°±...æˆ–è€…å¦‚æœ...å°±...å¦åˆ™...â€ï¼ˆå¤šå²”è·¯å£ï¼‰</p>\n<pre class=\"language-javascript highlighter-hljs\"><code>if (hour &lt; 12) {\n    console.log(\"ä¸Šåˆå¥½\");\n} else if (hour &lt; 18) {\n    console.log(\"ä¸‹åˆå¥½\");\n} else {\n    console.log(\"æ™šä¸Šå¥½\");\n}</code></pre>\n<p><strong style=\"color: rgba(186, 55, 42, 1);\">å…³é”®è­¦å‘Š</strong>ï¼šå½“åˆ†æ”¯è¶…è¿‡3å±‚ï¼Œå°±è¯¥è€ƒè™‘ç”¨<code style=\"color: rgba(186, 55, 42, 1);\">switch</code>è¯­å¥æˆ–â€œç­–ç•¥æ¨¡å¼â€é‡æ„äº†ï¼Œä¿æŒä»£ç æ‰å¹³ã€‚</p>\n</div>\n<h3>ğŸ”„ å¾ªç¯ï¼šä¸çŸ¥ç–²å€¦çš„é‡å¤åŠ³åŠ¨è€…</h3>\n<p>å¾ªç¯çš„å…³é”®æ˜¯<strong>çŸ¥é“èµ·ç‚¹ã€ç»ˆç‚¹å’Œæ­¥é•¿</strong>ã€‚</p>\n<div>\n<p>1. <code style=\"color: rgba(186, 55, 42, 1);\">for</code>å¾ªç¯ï¼š<strong>å½“ä½ çŸ¥é“è¦å¾ªç¯å¤šå°‘æ¬¡æ—¶</strong>ï¼Œæ¯”å¦‚éå†æ•°ç»„ã€‚</p>\n<pre class=\"language-javascript highlighter-hljs\"><code>for (let i = 0; i &lt; 5; i++) {\n    console.log('è¿™æ˜¯ç¬¬ ${i} æ¬¡å¾ªç¯');\n}\n// ç»“æ„ï¼šåˆå§‹åŒ–ï¼›æ¡ä»¶ï¼›å¢é‡</code></pre>\n<p>2. <code style=\"color: rgba(186, 55, 42, 1);\">while</code>å¾ªç¯ï¼š<strong>å½“ä½ ä¸ç¡®å®šæ¬¡æ•°ï¼Œä½†çŸ¥é“æ»¡è¶³æŸä¸ªæ¡ä»¶å°±è¦ç»§ç»­æ—¶</strong>ã€‚</p>\n<pre class=\"language-javascript highlighter-hljs\"><code>let stack = [1, 2, 3];\nwhile (stack.length &gt; 0) { // åªè¦æ ˆä¸ä¸ºç©ºå°±ç»§ç»­\n    console.log(stack.pop());\n}</code></pre>\n<p>3. <code style=\"color: rgba(186, 55, 42, 1);\">for...of</code> (ç”¨äºæ•°ç»„ç­‰å¯è¿­ä»£å¯¹è±¡) å’Œ <code style=\"color: rgba(186, 55, 42, 1);\">for...in</code> (ç”¨äºå¯¹è±¡å±æ€§)ï¼š<strong>è®©ä½ æ‘†è„±ç´¢å¼•ï¼Œç›´æ¥æ‹¿åˆ°å€¼</strong>ã€‚</p>\n<pre class=\"language-javascript highlighter-hljs\"><code>// for...of éå†æ•°ç»„å€¼\nlet colors = ['red', 'green', 'blue'];\nfor (let color of colors) {\n    console.log(color); // ç›´æ¥è¾“å‡º 'red', 'green', 'blue'\n}\n\n// for...in éå†å¯¹è±¡é”®å\nlet obj = {a: 1, b: 2};\nfor (let key in obj) {\n    console.log(key, obj[key]); // è¾“å‡º 'a' 1, 'b' 2\n}</code></pre>\n<p><strong style=\"color: rgba(186, 55, 42, 1);\">é‡è¦åŒºåˆ«</strong>ï¼šéå†æ•°ç»„ï¼Œ99%çš„æƒ…å†µç”¨<code style=\"color: rgba(186, 55, 42, 1);\">for...of</code>æˆ–<code style=\"color: rgba(186, 55, 42, 1);\">forEach</code>æ–¹æ³•æ›´å¥½ã€‚<code style=\"color: rgba(186, 55, 42, 1);\">for...in</code>æ˜¯ä¸ºå¯¹è±¡è®¾è®¡çš„ï¼Œéå†æ•°ç»„å¯èƒ½ä¼šå¸¦æ¥æ„å¤–ç»“æœã€‚</p>\n</div>\n<h3>â¸ï¸ å¾ªç¯æ§åˆ¶ï¼šbreakã€continue ä¸ return</h3>\n<div>\n<p>- <code style=\"color: rgba(186, 55, 42, 1);\">break</code>ï¼šåƒâ€œç´§æ€¥åœæ­¢â€æŒ‰é’®ï¼Œ<strong>ç«‹å³è·³å‡ºæ•´ä¸ªå¾ªç¯</strong>ã€‚</p>\n<p>- <code style=\"color: rgba(186, 55, 42, 1);\">continue</code>ï¼šåƒâ€œè·³è¿‡è¿™ä¸€æ›²â€ï¼Œ<strong>è·³è¿‡å½“å‰è½®æ¬¡ï¼Œç›´æ¥è¿›å…¥ä¸‹ä¸€è½®å¾ªç¯</strong>ã€‚</p>\n<p>- <code style=\"color: rgba(186, 55, 42, 1);\">return</code>ï¼šåœ¨å‡½æ•°é‡Œç”¨ï¼Œ<strong>ç›´æ¥ç»“æŸå‡½æ•°ï¼Œå¾ªç¯è‡ªç„¶ä¹Ÿåœäº†</strong>ã€‚</p>\n<pre class=\"highlighter-hljs\" style=\"background-color: rgba(246, 248, 250, 1); padding: 15px; border-radius: 5px;\"><code>for (let i = 0; i &lt; 10; i++) {\n    if (i === 3) continue; // è·³è¿‡i=3è¿™æ¬¡\n    if (i === 7) break;    // i=7æ—¶å½»åº•ç»ˆæ­¢å¾ªç¯\n    console.log(i); // è¾“å‡º: 0, 1, 2, 4, 5, 6\n}</code></pre>\n</div>\n<h2>ä¸‰ã€å®æˆ˜ï¼šç”¨å¾ªç¯å¾æœDOMï¼Œæ‰¹é‡ä¿®æ”¹å…ƒç´ å±æ€§</h2>\n<p>ç†è®ºè¯´ä¸€åƒé“ä¸€ä¸‡ï¼Œä¸å¦‚ä¸€è¡Œä»£ç ã€‚å‰ç«¯æœ€å¸¸è§çš„å¾ªç¯åœºæ™¯ä¹‹ä¸€ï¼š<strong>è·å–ä¸€å †DOMå…ƒç´ ï¼Œç„¶åå¯¹å®ƒä»¬åšç‚¹ä»€ä¹ˆäº‹</strong>ã€‚</p>\n<p><strong>åœºæ™¯</strong>ï¼šæŠŠé¡µé¢ä¸Šæ‰€æœ‰ç±»åä¸º<span style=\"color: rgba(186, 55, 42, 1);\"><code>.old-style</code></span>çš„æ®µè½æ–‡å­—æ”¹æˆç°è‰²ï¼Œå¹¶åŠ ä¸Šåˆ é™¤çº¿ã€‚</p>\n<pre class=\"highlighter-hljs\" style=\"background-color: rgba(246, 248, 250, 1); padding: 15px; border-radius: 5px;\"><code>// 1. è·å–å…ƒç´ é›†åˆï¼ˆè¿™æ˜¯ä¸€ä¸ªHTMLCollectionï¼Œç±»ä¼¼æ•°ç»„ï¼‰\nconst oldParagraphs = document.getElementsByClassName('old-style');\n\n// 2. éå†å¹¶ä¿®æ”¹ï¼ˆç»å…¸forå¾ªç¯ï¼‰\nfor (let i = 0; i &lt; oldParagraphs.length; i++) {\n    oldParagraphs[i].style.color = '#999';\n    oldParagraphs[i].style.textDecoration = 'line-through';\n}\n\n// 3. æ›´ç°ä»£çš„å†™æ³•ï¼ˆå°†é›†åˆè½¬ä¸ºçœŸæ•°ç»„åä½¿ç”¨forEachï¼‰\n// Array.from(oldParagraphs).forEach(p =&gt; {\n//   p.style.color = '#999';\n//   p.style.textDecoration = 'line-through';\n// });\n\n// 4. æˆ–è€…ç›´æ¥ç”¨for...ofï¼ˆæ¨èï¼ï¼‰\n// for (let p of oldParagraphs) {\n//   p.style.color = '#999';\n//   p.style.textDecoration = 'line-through';\n// }</code></pre>\n<p><strong style=\"color: rgba(186, 55, 42, 1);\">ä¸ºä»€ä¹ˆæ¨èfor...ofï¼Ÿ</strong> ç®€æ´ï¼Œä¸æ˜“å‡ºé”™ï¼ˆæ²¡æœ‰ç´¢å¼•<span style=\"color: rgba(186, 55, 42, 1);\"><code>i</code></span>è¶Šç•Œé—®é¢˜ï¼‰ï¼Œä¸”èƒ½å¾ˆå¥½åœ°å¤„ç†å„ç§é›†åˆï¼ˆHTMLCollection, NodeListç­‰ï¼‰ã€‚</p>\n<h2>å››ã€é¿å‘ä¸å‡åï¼šå†™å‡ºæ›´ä¸“ä¸šçš„ä»£ç </h2>\n<div>\n<p><strong>ğŸ•³ï¸ å¸¸è§å‘ç‚¹ï¼š</strong></p>\n<div>\n<p>1. <strong>å¾ªç¯ä¸­ä¿®æ”¹æ•°ç»„é•¿åº¦</strong>ï¼šåœ¨<code style=\"color: rgba(186, 55, 42, 1);\">for</code>å¾ªç¯é‡Œå¢åˆ æ•°ç»„å…ƒç´ ï¼Œä¼šå¯¼è‡´ç´¢å¼•é”™ä¹±ã€‚è§£å†³æ–¹æ¡ˆï¼šå¯ä»¥<strong>ä»åå¾€å‰å¾ªç¯</strong>ï¼Œæˆ–å…ˆæ”¶é›†è¦æ“ä½œçš„å…ƒç´ ã€‚</p>\n<p>2. <strong>è¯¯ç”¨<code style=\"color: rgba(186, 55, 42, 1);\">for...in</code>éå†æ•°ç»„</strong>ï¼šå®ƒå¯èƒ½ä¼šéå†åˆ°æ•°ç»„çš„è‡ªå®šä¹‰å±æ€§æˆ–åŸå‹é“¾ä¸Šçš„æ–¹æ³•ã€‚ç‰¢è®°ï¼š<strong>éå†æ•°ç»„ï¼Œç”¨<code style=\"color: rgba(186, 55, 42, 1);\">for...of</code>æˆ–<code style=\"color: rgba(186, 55, 42, 1);\">forEach</code></strong>ã€‚</p>\n<p>3. <strong>æ— é™å¾ªç¯</strong>ï¼š<code style=\"color: rgba(186, 55, 42, 1);\">while</code>å¾ªç¯æ¡ä»¶æ°¸è¿œä¸ºçœŸï¼Œæˆ–è€…<code style=\"color: rgba(186, 55, 42, 1);\">for</code>å¾ªç¯å¿˜äº†å†™å¢é‡ï¼Œæµè§ˆå™¨ä¼šå¡æ­»ã€‚åŠ¡å¿…æ£€æŸ¥å¾ªç¯ç»ˆæ­¢æ¡ä»¶ï¼</p>\n</div>\n<p><strong>ğŸš€ è¿›é˜¶æ€è€ƒï¼š</strong></p>\n<div>\n<p>1. <strong>æ¡ä»¶åˆ†æ”¯ä¼˜åŒ–</strong>ï¼šå¤šç”¨ä¸‰å…ƒè¡¨è¾¾å¼<span style=\"color: rgba(186, 55, 42, 1);\"><code>? :</code></span>å¤„ç†ç®€å•é€»è¾‘ï¼›ç”¨<code style=\"color: rgba(186, 55, 42, 1);\">switch</code>æˆ–å¯¹è±¡æ˜ å°„(<span style=\"color: rgba(186, 55, 42, 1);\"><code>{key: function}</code></span>)æ›¿ä»£å¤æ‚çš„<code style=\"color: rgba(186, 55, 42, 1);\">if-else</code>é“¾ã€‚</p>\n<p>2. <strong>å¾ªç¯çš„æ€§èƒ½</strong>ï¼šåœ¨è¶…å¤§è§„æ¨¡æ•°æ®éå†æ—¶ï¼Œç»å…¸çš„<code style=\"color: rgba(186, 55, 42, 1);\">for</code>å¾ªç¯ï¼ˆæ­£åºæˆ–å€’åºï¼‰é€šå¸¸æ€§èƒ½æœ€ä¼˜ã€‚ä½†å¯¹äºæ—¥å¸¸çš„DOMæ“ä½œï¼Œæ€§èƒ½å·®å¼‚å¾®ä¹å…¶å¾®ï¼Œ<strong>ä»£ç å¯è¯»æ€§ä¼˜å…ˆ</strong>ã€‚</p>\n<p>3. <strong>å‡½æ•°å¼ç¼–ç¨‹æ€ç»´</strong>ï¼šæ•°ç»„çš„<code style=\"color: rgba(186, 55, 42, 1);\">forEach</code>ã€<code style=\"color: rgba(186, 55, 42, 1);\">map</code>ã€<code style=\"color: rgba(186, 55, 42, 1);\">filter</code>ç­‰æ–¹æ³•ï¼Œèƒ½è®©éå†å’Œè½¬æ¢æ•°æ®çš„æ„å›¾æ›´æ˜ç¡®ï¼Œå‡å°‘å‰¯ä½œç”¨ã€‚</p>\n</div>\n</div>\n<h2>ğŸ’ æœ€åæ€»ç»“</h2>\n<p>æµç¨‹æ§åˆ¶ä¸æ˜¯æ­»è®°ç¡¬èƒŒçš„è¯­æ³•ï¼Œè€Œæ˜¯ä¸€ç§<strong style=\"color: rgba(186, 55, 42, 1);\">è§„åˆ’ä»£ç æ‰§è¡Œè·¯å¾„çš„æ€ç»´</strong>ã€‚é¢å¯¹å¤æ‚é€»è¾‘æ—¶ï¼Œå…ˆ<strong>ç†æ¸…è„‰ç»œ</strong>ï¼Œå†é€‰æ‹©åˆé€‚çš„â€œå¯¼èˆªä»ªâ€ï¼ˆåˆ†æ”¯æˆ–å¾ªç¯ï¼‰ã€‚åœ¨DOMæ“ä½œç­‰æ—¥å¸¸ä»»åŠ¡ä¸­ï¼Œ<code style=\"color: rgba(186, 55, 42, 1);\">for...of</code>å’Œ<code style=\"color: rgba(186, 55, 42, 1);\">forEach</code>æ˜¯ä½ çš„å¥½å¸®æ‰‹ã€‚</p>\n<p>è®°ä½ï¼Œæœ€å¥½çš„ä»£ç ä¸æ˜¯æœ€èªæ˜çš„ï¼Œè€Œæ˜¯<strong style=\"color: rgba(186, 55, 42, 1);\">æœ€å®¹æ˜“è¢«ä¸‹ä¸€ä¸ªå¼€å‘è€…ï¼ˆåŒ…æ‹¬å…­ä¸ªæœˆåçš„ä½ ï¼‰ç†è§£çš„ä»£ç </strong>ã€‚</p>\n<hr />\n<p style=\"text-align: center;\">---<strong>å†™åœ¨æœ€å</strong>---<br />å¸Œæœ›è¿™ä»½æ€»ç»“èƒ½å¸®ä½ é¿å¼€ä¸€äº›å‘ã€‚å¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œä¸å¦¨ç‚¹ä¸ª èµğŸ‘ æˆ– æ”¶è—â­ æ ‡è®°ä¸€ä¸‹ï¼Œæ–¹ä¾¿éšæ—¶å›é¡¾ã€‚ä¹Ÿæ¬¢è¿å…³æ³¨æˆ‘ï¼Œåç»­ä¸ºä½ å¸¦æ¥æ›´å¤šç±»ä¼¼çš„å®æˆ˜è§£æã€‚æœ‰ä»»ä½•ç–‘é—®æˆ–æƒ³æ³•ï¼Œæˆ‘ä»¬è¯„è®ºåŒºè§ï¼Œä¸€èµ·äº¤æµå¼€å‘ä¸­çš„å„ç§å¿ƒå¾—ä¸é—®é¢˜ã€‚</p>\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-21 14:15</span>&nbsp;\n<a href=\"https://www.cnblogs.com/ymtianyu\">ä¸€åç¨‹åºåª›å‘€</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">0</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "éšé©¬å°”å¯å¤«é“¾æ¨¡å‹ åŸºç¡€æ¦‚å¿µ",
      "link": "https://www.cnblogs.com/zhongzhengli/p/19511673",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/zhongzhengli/p/19511673\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-21 14:14\">\n    <span>éšé©¬å°”å¯å¤«é“¾æ¨¡å‹ åŸºç¡€æ¦‚å¿µ</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h2 id=\"éšé©¬å°”å¯å¤«é“¾æ¨¡å‹-åŸºç¡€æ¦‚å¿µ\">éšé©¬å°”å¯å¤«é“¾æ¨¡å‹ åŸºç¡€æ¦‚å¿µ</h2>\n<blockquote>\n<p>ä¸»è¦å‚è€ƒï¼š</p>\n<p>ä¹¦ç±ï¼šã€Šç»Ÿè®¡å­¦ä¹ æ–¹æ³•ï¼ˆç¬¬äºŒç‰ˆï¼‰ã€‹</p>\n<p>è§†é¢‘ï¼š<a href=\"https://www.bilibili.com/video/BV1tu411j7bx/?spm_id_from=333.337.search-card.all.click&amp;vd_source=3c58a56884ef40ab5aa99f8a00685d85\" rel=\"noopener nofollow\" target=\"_blank\">ä»€ä¹ˆæ˜¯HMMéšé©¬å°”å¯å¤«æ¨¡å‹ï¼Œè‡ªç„¶è¯­è¨€å¤„ç†ä¸­çš„æœ€åŸºç¡€ç®—æ³•ä¹‹ä¸€</a></p>\n</blockquote>\n<p>éšé©¬å°”å¯å¤«é“¾æ¨¡å‹ Hidden Markov Model (HMM)</p>\n<p>å®šä¹‰ï¼šéšé©¬å°”å¯å¤«é“¾æ¨¡å‹æ˜¯å…³äº<strong>æ—¶åºçš„æ¦‚ç‡æ¨¡å‹</strong>ï¼Œæè¿°ç”±ä¸€ä¸ªéšè—çš„é©¬å°”å¯å¤«é“¾éšæœºç”Ÿæˆä¸å¯è§‚æµ‹çš„çŠ¶æ€éšæœºåºåˆ—ï¼Œå†ç”±å„ä¸ªçŠ¶æ€ç”Ÿæˆä¸€ä¸ªè§‚æµ‹ä»è€Œäº§ç”Ÿè§‚æµ‹éšæœºåºåˆ—çš„è¿‡ç¨‹ã€‚</p>\n<h4 id=\"ç›´è§‚ç†è§£---æ·éª°å­\">ç›´è§‚ç†è§£ - æ·éª°å­</h4>\n<p>ä¸ºäº†æ›´å¥½çš„ç†è§£ï¼Œæˆ‘ä»¬ä¸¾ <strong>æ·éª°å­</strong> çš„ä¾‹å­è¿›è¡Œç›´è§‚çš„è®²è§£ã€‚</p>\n<img alt=\"image-20260121131133881\" src=\"https://lzz-mac-1340752507.cos.ap-shanghai.myqcloud.com/lzz/image-20260121131133881.png\" />\n<blockquote>\n<p>æˆ‘ä»¬ä¸€å…±æœ‰3ä¸ªéª°å­ï¼Œåˆ†åˆ«æ˜¯æ­£æ–¹ä½“ï¼ˆ6ä¸ªé¢ ä¸ºD6ï¼‰,æ­£å››é¢ä½“ï¼ˆå››ä¸ªé¢ ä¸ºD4ï¼‰ï¼Œæ­£å…«é¢ä½“ï¼ˆ8ä¸ªé¢ ä¸ºD8ï¼‰</p>\n<p>åŒæ—¶ï¼Œæˆ‘ä»¬ <strong>è’™ç€çœ¼ç›</strong> ä»è¿™ä¸‰ä¸ªéª°å­ä¸­è¿›è¡Œ<strong>éšæœºé€‰æ‹©</strong>ï¼ˆå‡è®¾å„ä¸ªéª°å­çš„æ‰‹æ„Ÿæ— å·®åˆ«ï¼‰ï¼Œè¿›è€Œç»“æœå¯èƒ½æ˜¯1-8ä¸­çš„ä»»æ„ä¸€ä¸ªã€‚</p>\n</blockquote>\n<p>æˆ‘ä»¬è¿›è¡Œ <strong>é‡å¤</strong> <strong>éšæœºçš„é€‰æ‹©éª°å­</strong>ï¼Œä¸æ–­çš„æŠ›æ·ï¼Œç„¶åå¯ä»¥å¾—åˆ°ä¸€ä¸ªéšæœºçš„ å¯è§çŠ¶æ€ç»ƒï¼š<img alt=\"image-20260121131630703\" src=\"https://lzz-mac-1340752507.cos.ap-shanghai.myqcloud.com/lzz/image-20260121131630703.png\" /></p>\n<p>æ³¨æ„ï¼šè¿™ä¸ªå¯è§çŠ¶æ€é“¾å°±æ˜¯æˆ‘ä»¬æŠ›æ·éª°å­çš„ç»“æœï¼Œæˆ‘ä»¬å› ä¸ºæ˜¯æ— æ³•çœ‹åˆ°éª°å­ï¼Œæ‰€ä»¥æˆ‘ä»¬å¹¶ä¸çŸ¥é“é€‰æ‹©çš„æ˜¯å“ªä¸ªéª°å­è¿›è¡ŒæŠ›æ·çš„ã€‚</p>\n<p>è¿›è€Œæˆ‘ä»¬æ¯æ¬¡æŠ›æ·çš„éª°å­éƒ½æ˜¯éšè—çš„ï¼Œæˆ‘ä»¬å¹¶ä¸çŸ¥é“ã€‚</p>\n<img alt=\"image-20260121131955748\" src=\"https://lzz-mac-1340752507.cos.ap-shanghai.myqcloud.com/lzz/image-20260121131955748.png\" />\n<p>å°±å¦‚ä¸Šå›¾æ‰€ç¤ºï¼ŒD6-D8-D8-...... æ˜¯æˆ‘ä»¬çœ‹ä¸åˆ°çš„æŠ›æ·é¡ºåºçš„éª°å­ç¼–å·åºåˆ—ã€‚æˆ‘ä»¬ç§°ä¸º <strong>éšå«çŠ¶æ€é“¾</strong>ã€‚</p>\n<p><img alt=\"image-20260121132646479\" src=\"https://lzz-mac-1340752507.cos.ap-shanghai.myqcloud.com/lzz/image-20260121132646479.png\" /></p>\n<p>â€‹\t\t\t\t\t<font color=\"red\"><strong>éšé©¬å°”å¯å¤«æ¨¡å‹ = å¯è§çŠ¶æ€é“¾ + éšå«çŠ¶æ€é“¾</strong></font></p>\n<p>å›å½’åˆ°å®šä¹‰ä¸­ï¼Œå¯ä»¥è¡¨ç¤ºä¸ºï¼š</p>\n<p><img alt=\"image-20260121133005696\" src=\"https://lzz-mac-1340752507.cos.ap-shanghai.myqcloud.com/lzz/image-20260121133005696.png\" /></p>\n<blockquote>\n<p>åˆšæ‰çš„éª°å­åºåˆ—å°±æ˜¯çŠ¶æ€åºåˆ—</p>\n<p>éª°å­æ·å‡ºçš„æ•°å­—å°±æ˜¯æ•°å­—åºåˆ—</p>\n</blockquote>\n<p>è‹¥æœ‰tä¸ªæ—¶åˆ»ï¼Œtå¯ä»¥è¡¨ç¤ºä¸ºç¬¬å‡ æ¬¡æ·éª°å­ã€‚</p>\n<p><img alt=\"image-20260121133244325\" src=\"https://lzz-mac-1340752507.cos.ap-shanghai.myqcloud.com/lzz/image-20260121133244325.png\" /></p>\n<p><strong>çŠ¶æ€åºåˆ—æ˜¯éšè—çš„ï¼Œæ— æ³•è¢«è§‚æµ‹åˆ°ï¼Œå› æ­¤çŠ¶æ€å˜é‡æ˜¯ä¸€ä¸ªéšå˜é‡ã€‚</strong></p>\n<p>å„ä¸ªéšå«çŠ¶æ€ä¹‹é—´ä¼šè¿›è¡Œè½¬æ¢ï¼Œå­˜åœ¨ç€å¯¹åº”çš„è½¬æ¢æ¦‚ç‡ã€‚</p>\n<p>åœ¨ æ·éª°å­çš„æ—¶å€™å› ä¸ºæˆ‘ä»¬æ˜¯å¯é‡å¤éšæœºæŒ‘é€‰çš„éª°å­ï¼Œé‚£ä¹ˆæ¯ä¸ªéª°å­é€‰ä¸­çš„æ¦‚ç‡éƒ½æ˜¯1/3ã€‚</p>\n<blockquote>\n<img alt=\"image-20260121133721531\" src=\"https://lzz-mac-1340752507.cos.ap-shanghai.myqcloud.com/lzz/image-20260121133721531.png\" />\n</blockquote>\n<p>åŒæ—¶éšå«çŠ¶æ€ä¼šè¾“å‡ºå¯è§çŠ¶æ€ï¼Œéšå«çŠ¶æ€ä¸å¯è§çŠ¶æ€ä¹‹é—´æœ‰ä¸€ä¸ªè¾“å‡ºæ¦‚ç‡ï¼Œä¸åŒçš„éšå«çŠ¶æ€åˆ°å¯è§çŠ¶æ€çš„æ¦‚ç‡å¯èƒ½ä¸åŒã€‚</p>\n<blockquote>\n<p>ä¾‹å¦‚ä¸åŒéª°å­ä¸­çš„æœ‰ä¸åŒçš„é¢æ•°ä¼šå¯¼è‡´é€‰ä¸­çš„æ¦‚ç‡ä¸åŒ</p>\n<p>æ­£å…­é¢ä½“ï¼Œé€‰ä¸­ä¸€ä¸ªæ•°å­—çš„æ¦‚ç‡æ˜¯1/6ï¼Œè€Œæ­£å››é¢ä½“é€‰ä¸­ä¸€ä¸ªæ•°å­—çš„æ¦‚ç‡æ˜¯1/4ã€‚</p>\n<img alt=\"image-20260121134048886\" src=\"https://lzz-mac-1340752507.cos.ap-shanghai.myqcloud.com/lzz/image-20260121134048886.png\" />\n</blockquote>\n<h4 id=\"éšé©¬å°”å¯å¤«é“¾æ¨¡å‹çš„æ•°å­¦è¡¨ç¤º\">éšé©¬å°”å¯å¤«é“¾æ¨¡å‹çš„æ•°å­¦è¡¨ç¤º</h4>\n<blockquote>\n<p>åŸºç¡€è¡¨ç¤ºï¼š</p>\n<p>éšå«çŠ¶æ€ Q</p>\n<p>è§‚æµ‹ç»“æœ V</p>\n<p>çŠ¶æ€è½¬ç§»æ¦‚ç‡çŸ©é˜µ A</p>\n<p>è§‚æµ‹æ¦‚ç‡çŸ©é˜µ B</p>\n<p>åˆå§‹çŠ¶æ€æ¦‚ç‡å‘é‡ $$\\pi$$</p>\n</blockquote>\n<h5 id=\"éšå«çŠ¶æ€-q--è§‚æµ‹ç»“æœ-v\">éšå«çŠ¶æ€ Q &amp;&amp; è§‚æµ‹ç»“æœ V</h5>\n<img alt=\"image-20260121134959614\" src=\"https://lzz-mac-1340752507.cos.ap-shanghai.myqcloud.com/lzz/image-20260121134959614.png\" />\n<p>éšå«çŠ¶æ€QåŒ…å«äº†q1åˆ°qnçš„nç§çŠ¶æ€ï¼Œè§‚æµ‹ç»“æœVåŒ…å«äº†v1åˆ°vmçš„mç§å¯èƒ½çš„ç»“æœã€‚</p>\n<blockquote>\n<p>åœ¨æ·éª°å­ä¸­ q1è¡¨ç¤ºçš„æ˜¯å…­é¢ä½“ï¼Œq2è¡¨ç¤ºçš„æ˜¯å››é¢ä½“ï¼Œq3è¡¨ç¤ºçš„æ˜¯å…«é¢ä½“ã€‚</p>\n<p>v1åˆ°v8åˆ†åˆ«è¡¨ç¤ºçš„æ˜¯æ•°å­—1åˆ°8ã€‚</p>\n</blockquote>\n<h5 id=\"çŠ¶æ€è½¬ç§»æ¦‚ç‡çŸ©é˜µ-a\">çŠ¶æ€è½¬ç§»æ¦‚ç‡çŸ©é˜µ A</h5>\n<p><img alt=\"image-20260121135329021\" src=\"https://lzz-mac-1340752507.cos.ap-shanghai.myqcloud.com/lzz/image-20260121135329021.png\" /></p>\n<blockquote>\n<p></p><div class=\"math display\">\\[a_{ij}$$è¡¨ç¤ºä»çŠ¶æ€$q_i$è½¬ç§»åˆ°çŠ¶æ€$q_j$çš„æ¦‚ç‡ã€‚\n\n$$a_{ij}$$ = åœ¨$s_t$ç­‰äº$q_i$çš„æ¡ä»¶ä¸‹$s_{t+1}$ç­‰äº$q_j$çš„æ¦‚ç‡\n\\]</div><p></p></blockquote>\n<p>ä¾‹å¦‚ï¼šä¸‰ä¸ªéª°å­ï¼Œé€‰æ‹©ä»»æ„ä¸€ä¸ªéª°å­çš„æ¦‚ç‡éƒ½æ˜¯1/3ï¼Œè¿›è€Œ çŠ¶æ€è½¬ç§»æ¦‚ç‡çŸ©é˜µA å¦‚ä¸‹ï¼š</p>\n<p><img alt=\"image-20260121135821377\" src=\"https://lzz-mac-1340752507.cos.ap-shanghai.myqcloud.com/lzz/image-20260121135821377.png\" /></p>\n<h5 id=\"è§‚æµ‹æ¦‚ç‡çŸ©é˜µ-b\">è§‚æµ‹æ¦‚ç‡çŸ©é˜µ B</h5>\n<p>ç”±äºæ¯ä¸€ä¸ªçŠ¶æ€qéƒ½å¯ä»¥è¾“å‡ºä¸€ä¸ªè§‚æµ‹ç»“æœvï¼Œå› æ­¤Bæ˜¯ä¸€ä¸ª n*m çš„çŸ©é˜µã€‚</p>\n<p><img alt=\"image-20260121140143799\" src=\"https://lzz-mac-1340752507.cos.ap-shanghai.myqcloud.com/lzz/image-20260121140143799.png\" /></p>\n<p>ä¾‹å¦‚ï¼›åœ¨æ·éª°å­çš„æ—¶å€™ï¼Œæ ¹æ®ä¸‰ä¸ªéª°å­çš„è¾“å‡ºï¼Œå¯ä»¥å¾—åˆ°ä¸€ä¸ª3ä¹˜8çš„æ¦‚ç‡çŸ©é˜µã€‚</p>\n<p><img alt=\"image-20260121140249719\" src=\"https://lzz-mac-1340752507.cos.ap-shanghai.myqcloud.com/lzz/image-20260121140249719.png\" /></p>\n<blockquote>\n<p>ç¬¬ä¸€è¡Œæ˜¯è¡¨ç¤ºå…­é¢éª°å­çš„è¾“å‡ºæ¦‚ç‡</p>\n<p>ç¬¬äºŒè¡Œæ˜¯å››é¢éª°å­çš„è¾“å‡ºæ¦‚ç‡</p>\n<p>ç¬¬ä¸‰è¡Œæ˜¯å…«é¢éª°å­çš„è¾“å‡ºæ¦‚ç‡</p>\n</blockquote>\n<h5 id=\"åˆå§‹çŠ¶æ€æ¦‚ç‡å‘é‡-pi\">åˆå§‹çŠ¶æ€æ¦‚ç‡å‘é‡ $$\\pi$$</h5>\n<p><img alt=\"image-20260121140558632\" src=\"https://lzz-mac-1340752507.cos.ap-shanghai.myqcloud.com/lzz/image-20260121140558632.png\" /></p>\n<blockquote>\n<p>ä¾‹å¦‚ï¼Œæ·éª°å­çš„æ—¶å€™ä¸‰ç§éª°å­çš„åˆå§‹æ¦‚ç‡éƒ½æ˜¯1/3ï¼ˆçº¦ä¸º0.33ï¼‰ã€‚</p>\n</blockquote>\n<h5 id=\"æ€»ç»“\">æ€»ç»“</h5>\n<p><span class=\"math inline\">\\(\\pi\\)</span>å’ŒAç¡®å®šäº†éšè—çš„é©¬å°”å¯å¤«é“¾ï¼Œå¦‚ä½•ç”Ÿå­˜ä¸å¯è§‚æµ‹çš„çŠ¶æ€åºåˆ—s</p>\n<p>Bç¡®å®šäº†å¦‚ä½•ä»éšè—çŠ¶æ€äº§ç”Ÿè§‚æµ‹åºåˆ—o</p>\n<p><img alt=\"image-20260121140923634\" src=\"https://lzz-mac-1340752507.cos.ap-shanghai.myqcloud.com/lzz/image-20260121140923634.png\" /></p>\n<p>éšé©¬å°”å¯å¤«æ¨¡å‹ç”±A B <span class=\"math inline\">\\(\\pi\\)</span> å…±åŒå†³å®šã€‚</p>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-21 14:14</span>&nbsp;\n<a href=\"https://www.cnblogs.com/zhongzhengli\">è™¾é¥ºçˆ±ä¸‹æ£‹</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">0</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "[Docker 20.10.7] å¦‚ä½•ä½¿ç”¨kylin isoæ–‡ä»¶æ„å»ºå‡ºdockeré•œåƒ",
      "link": "https://www.cnblogs.com/cc-notes/p/19461000",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/cc-notes/p/19461000\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-21 13:53\">\n    <span>[Docker 20.10.7] å¦‚ä½•ä½¿ç”¨kylin isoæ–‡ä»¶æ„å»ºå‡ºdockeré•œåƒ</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                    <div id=\"cnblogs_post_description\" style=\"display: none;\">\n        \n        æœ¬æ–‡è¯¦ç»†ä»‹ç»å¦‚ä½•ä½¿ç”¨kylin v10 isoæ–‡ä»¶æ„å»ºå‡ºdockeré•œåƒ\n    </div>\n<div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h1 id=\"1-å‰è¨€\">1. å‰è¨€</h1>\n<p>æœ¬æ–‡è¯¦ç»†ä»‹ç»å¦‚ä½•ä½¿ç”¨ kylin v10 iso æ–‡ä»¶æ„å»ºå‡º docker imageï¼Œdocker ç‰ˆæœ¬ä¸º 20.10.7ã€‚</p>\n<h1 id=\"2-æ„å»º-yum-ç¦»çº¿æº\">2. æ„å»º yum ç¦»çº¿æº</h1>\n<h2 id=\"21-æŒ‚è½½-iso-æ–‡ä»¶\">2.1. æŒ‚è½½ ISO æ–‡ä»¶</h2>\n<pre><code class=\"language-bash\">mount Kylin-Server-V10-GFB-Release-030-ARM64.iso /media\n</code></pre>\n<h2 id=\"22-æ·»åŠ ç¦»çº¿-repo-æ–‡ä»¶\">2.2. æ·»åŠ ç¦»çº¿ repo æ–‡ä»¶</h2>\n<p>åœ¨<code>/etc/yum.repos.d/</code>ä¸‹åˆ›å»º<code>kylin-local.repo</code>ï¼Œå¹¶æ·»åŠ å¦‚ä¸‹å†…å®¹</p>\n<pre><code class=\"language-ini\">[kylin-local]\nname = Kylin Local\nbaseurl = file:///media/\ngpgcheck = 0\nenabled = 1\n</code></pre>\n<h2 id=\"23-ç”Ÿæˆå…ƒæ•°æ®ç¼“å­˜\">2.3. ç”Ÿæˆå…ƒæ•°æ®ç¼“å­˜</h2>\n<pre><code class=\"language-bash\">dnf clean all &amp;&amp; dnf makecache\n</code></pre>\n<h1 id=\"3-æ„å»ºç³»ç»Ÿç¯å¢ƒ\">3. æ„å»ºç³»ç»Ÿç¯å¢ƒ</h1>\n<h2 id=\"31-åˆ›å»ºç³»ç»Ÿå®‰è£…ç›®å½•\">3.1. åˆ›å»ºç³»ç»Ÿå®‰è£…ç›®å½•</h2>\n<pre><code class=\"language-bash\">mkdir -p /opt/kylin-minimal\n</code></pre>\n<h2 id=\"32-å®‰è£…æœ€å°ç³»ç»Ÿ\">3.2. å®‰è£…æœ€å°ç³»ç»Ÿ</h2>\n<pre><code class=\"language-bash\">dnf groupinstall \"Minimal\" --installroot /opt/kylin-minimal\n</code></pre>\n<h2 id=\"33-éªŒè¯ç³»ç»Ÿç¯å¢ƒ\">3.3. éªŒè¯ç³»ç»Ÿç¯å¢ƒ</h2>\n<p>æ‰§è¡Œ<code>chroot /opt/kylin-minimal</code>å‘½ä»¤è¿›å…¥æœ€å°ç³»ç»Ÿçš„æ ¹ç›®å½•ï¼Œæ‰§è¡Œ<code>ll</code>å‘½ä»¤æŸ¥çœ‹ç›®å½•ç»“æ„ã€‚</p>\n<pre><code class=\"language-bash\">[root@node0 /]# ll\ntotal 16\nlrwxrwxrwx  1 root root    7 Apr  2  2021 bin -&gt; usr/bin\ndr-xr-xr-x  7 root root 4096 Jan  3 08:58 boot\ndrwxr-xr-x  2 root root   42 Jan  3 08:57 dev\ndrwxr-xr-x 88 root root 8192 Jan  3 08:58 etc\ndrwxr-xr-x  2 root root    6 Apr  2  2021 home\nlrwxrwxrwx  1 root root    7 Apr  2  2021 lib -&gt; usr/lib\nlrwxrwxrwx  1 root root    9 Apr  2  2021 lib64 -&gt; usr/lib64\ndrwxr-xr-x  2 root root    6 Apr  2  2021 media\ndrwxr-xr-x  2 root root    6 Apr  2  2021 mnt\ndrwxr-xr-x  2 root root    6 Apr  2  2021 opt\ndr-xr-xr-x  2 root root    6 Apr  2  2021 proc\ndr-xr-x---  2 root root  140 Jan  3 08:59 root\ndrwxr-xr-x 16 root root  281 Jan  3 08:56 run\nlrwxrwxrwx  1 root root    8 Apr  2  2021 sbin -&gt; usr/sbin\ndrwxr-xr-x  2 root root    6 Apr  2  2021 srv\ndr-xr-xr-x  2 root root    6 Apr  2  2021 sys\ndrwxrwxrwt  2 root root    6 Jan  3 08:58 tmp\ndrwxr-xr-x 12 root root  192 Jan  3 08:55 usr\ndrwxr-xr-x 19 root root  332 Jan  3 08:56 var\n</code></pre>\n<p>å¦‚æœæ˜¾ç¤ºä»¥ä¸Šç›®å½•ç»“æ„ï¼Œåˆ™è¯´æ˜æœ€å°ç³»ç»Ÿç¯å¢ƒå®‰è£…æˆåŠŸã€‚</p>\n<h1 id=\"4-æ„å»º-docker-é•œåƒ\">4. æ„å»º docker é•œåƒ</h1>\n<h2 id=\"41-æ‰“åŒ…ç³»ç»Ÿå®‰è£…ç›®å½•\">4.1. æ‰“åŒ…ç³»ç»Ÿå®‰è£…ç›®å½•</h2>\n<pre><code class=\"language-bash\">tar -C /opt/kylin-minimal -cvpf /opt/kylin-minimal.tar .\n</code></pre>\n<h2 id=\"42-åˆ›å»ºé•œåƒ\">4.2. åˆ›å»ºé•œåƒ</h2>\n<pre><code class=\"language-bash\">cat /opt/kylin-minimal.tar | docker import - kylin-minimal:v10\n</code></pre>\n<p>æ ¹æ®å®˜æ–¹æ–‡æ¡£ä»‹ç»ï¼Œä»é›¶æ„å»ºé•œåƒåªæœ‰ 2 ç§æ–¹å¼ï¼š<code>FROM scratch</code>å’Œ<code>using tar</code>ã€‚<code>FROM scratch</code>æ˜¯æ„å»ºä¸€ä¸ªç©ºç™½çš„é•œåƒï¼Œæ²¡æœ‰ä»»ä½•å†…å®¹ã€‚è€Œ<code>using tar</code>æ˜¯åŸºäº tar åŒ…æ„å»ºçš„é•œåƒã€‚ä¸Šè¿°å‘½ä»¤æ˜¯ä» kylin-minimal tar åŒ…æ„å»º docker é•œåƒã€‚é•œåƒåç§°ä¸º<code>kylin-minimal</code>ï¼Œæ ‡ç­¾ä¸º<code>v10</code>ã€‚</p>\n<h2 id=\"43-æŸ¥çœ‹é•œåƒ\">4.3. æŸ¥çœ‹é•œåƒ</h2>\n<pre><code class=\"language-bash\">docker images ls -a\n--------------------\nREPOSITORY          TAG       IMAGE ID       CREATED      SIZE\nkylin-minimal       v10       4746e82d9656   1 days ago   2.0GB\n</code></pre>\n<h1 id=\"5-å‚è€ƒèµ„æ–™\">5. å‚è€ƒèµ„æ–™</h1>\n<ul>\n<li><a href=\"https://docs.docker.com/build/building/base-images/\" rel=\"noopener nofollow\" target=\"_blank\">https://docs.docker.com/build/building/base-images/</a></li>\n</ul>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-21 13:53</span>&nbsp;\n<a href=\"https://www.cnblogs.com/cc-notes\">CCåœ¨è®¤çœŸåšç¬”è®°</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">0</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    }
  ]
}