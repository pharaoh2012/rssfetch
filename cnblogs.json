{
  "title": "ä¸»é¡µ - åšå®¢å›­",
  "link": "https://www.cnblogs.com/",
  "description": "ä¸»é¡µ - åšå®¢å›­ RSS",
  "entries": [
    {
      "title": "Flinkæºç é˜…è¯»ï¼šTaskæ•°æ®äº¤äº’",
      "link": "https://www.cnblogs.com/Jackeyzhe/p/19463278",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/Jackeyzhe/p/19463278\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-09 20:11\">\n    <span>Flinkæºç é˜…è¯»ï¼šTaskæ•°æ®äº¤äº’</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                    <div id=\"cnblogs_post_description\" style=\"display: none;\">\n        <img alt=\"Flinkæºç é˜…è¯»ï¼šTaskæ•°æ®äº¤äº’\" class=\"desc_img\" src=\"https://img2024.cnblogs.com/blog/1828322/202601/1828322-20260109201055245-933532869.png\" />\n        ç»è¿‡å‰é¢çš„å­¦ä¹ ï¼ŒFlink çš„å‡ ä¸ªæ ¸å¿ƒæ¦‚å¿µç›¸å…³çš„æºç å®ç°æˆ‘ä»¬å·²ç»äº†è§£äº†ã€‚æœ¬æ–‡æˆ‘ä»¬æ¥æ¢³ç† Task çš„æ•°æ®äº¤äº’ç›¸å…³çš„æºç ã€‚\n    </div>\n<div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<p>ç»è¿‡å‰é¢çš„å­¦ä¹ ï¼ŒFlink çš„å‡ ä¸ªæ ¸å¿ƒæ¦‚å¿µç›¸å…³çš„æºç å®ç°æˆ‘ä»¬å·²ç»äº†è§£äº†ã€‚æœ¬æ–‡æˆ‘ä»¬æ¥æ¢³ç† Task çš„æ•°æ®äº¤äº’ç›¸å…³çš„æºç ã€‚</p>\n<h3 id=\"æ•°æ®è¾“å‡º\">æ•°æ®è¾“å‡º</h3>\n<p>è¯ä¸å¤šè¯´ï¼Œæˆ‘ä»¬ç›´æ¥è¿›å…¥æ­£é¢˜ã€‚é¦–å…ˆæ¥çœ‹ Task çš„æ•°æ®è¾“å‡ºï¼Œåœ¨è¿›å…¥æµç¨‹ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆä»‹ç»å‡ ä¸ªåŸºæœ¬æ¦‚å¿µã€‚</p>\n<h4 id=\"åŸºæœ¬æ¦‚å¿µ\">åŸºæœ¬æ¦‚å¿µ</h4>\n<ul>\n<li>\n<p>RecordWriterOutputï¼šå®ƒæ˜¯ Output æ¥å£çš„ä¸€ä¸ªå…·ä½“å®ç°ç±»ï¼Œåº•å±‚ä½¿ç”¨ RecordWriter æ¥å‘é€æ•°æ®ã€‚</p>\n</li>\n<li>\n<p>RecordWriterï¼šæ•°æ®å†™å…¥çš„æ‰§è¡Œè€…ï¼Œè´Ÿè´£å°†æ•°æ®å†™åˆ° ResultPartitionã€‚</p>\n</li>\n<li>\n<p>ResultPartition å’Œ ResultSubpartitionï¼šResultPartition æ˜¯ ExecutionGraph ä¸­ä¸€ä¸ªèŠ‚ç‚¹çš„è¾“å‡ºç»“æœï¼Œä¸‹æ¸¸çš„æ¯ä¸ªéœ€è¦ä»å½“å‰ ResultPartition æ¶ˆè´¹æ•°æ®çš„ Task éƒ½ä¼šæœ‰ä¸€ä¸ª ResultSubpartitionã€‚</p>\n</li>\n<li>\n<p>ChannelSelectorï¼šç”¨æ¥å†³å®šä¸€ä¸ª Record è¦è¢«å†™åˆ°å“ªä¸ª Subpartition ä¸­ã€‚</p>\n</li>\n<li>\n<p>LocalBufferPoolï¼šç”¨æ¥ç®¡ç† Buffer çš„ç¼“å†²æ± ã€‚åœ¨ä»‹ç»åå‹çš„åŸç†æ—¶ï¼Œæˆ‘ä»¬æåˆ°è¿‡ã€‚</p>\n</li>\n</ul>\n<p>å¯¹è¿™äº›åŸºæœ¬æ¦‚å¿µæœ‰äº†ä¸€å®šçš„äº†è§£ä¹‹åï¼Œæˆ‘ä»¬æ¥çœ‹æ•°æ®è¾“å‡ºçš„å…·ä½“æµç¨‹ã€‚</p>\n<h4 id=\"æ‰§è¡Œæµç¨‹\">æ‰§è¡Œæµç¨‹</h4>\n<p>æˆ‘ä»¬ä»¥ map ä¸ºä¾‹ï¼Œçœ‹ä¸€ä¸‹æ•°æ®çš„è¾“å‡ºè¿‡ç¨‹ã€‚</p>\n<p><img alt=\"DataOutput\" class=\"lazyload\" /></p>\n<p>åœ¨ <code>StreamMap.processElement</code> æ–¹æ³•ä¸­ï¼Œè°ƒç”¨å®Œ map æ–¹æ³•ä¹‹åï¼Œå°±ä¼šè°ƒç”¨ <code>output.collect</code> æ–¹æ³•å°†æ•°æ®è¾“å‡ºï¼Œè¿™é‡Œçš„ output å°±æ˜¯ RecordWriterOutputã€‚åœ¨ RecordWriterOutput ä¸­ï¼Œä¼šè°ƒç”¨ RecordWriter çš„ emit æ–¹æ³•ã€‚</p>\n<pre><code class=\"language-java\">private &lt;X&gt; void pushToRecordWriter(StreamRecord&lt;X&gt; record) {\n    serializationDelegate.setInstance(record);\n\n    try {\n        recordWriter.emit(serializationDelegate);\n    } catch (IOException e) {\n        throw new UncheckedIOException(e.getMessage(), e);\n    }\n}\n</code></pre>\n<p>è¿™é‡Œçš„ serializationDelegate æ˜¯ç”¨æ¥å¯¹ record è¿›è¡Œåºåˆ—åŒ–çš„ã€‚RecordWriter æœ‰ä¸¤ä¸ªå®ç°ç±»ï¼Œä¸€ä¸ªæ˜¯ ChannelSelectorRecordWriterï¼Œå¦ä¸€ä¸ªæ˜¯ BroadcastRecordWriterã€‚ChannelSelectorRecordWriter éœ€è¦å…ˆè°ƒç”¨ ChannelSelector é€‰æ‹©å¯¹åº”çš„ subparitionï¼Œç„¶åè¿›è¡Œå†™å…¥ã€‚BroadcastRecordWriter åˆ™æ˜¯å†™åˆ°æ‰€æœ‰çš„ subparitionã€‚</p>\n<p>æ¥ä¸‹æ¥å°±æ˜¯è°ƒç”¨ <code>BufferWritingResultPartition.emitRecord</code> æ¥å†™å…¥æ•°æ®ã€‚</p>\n<pre><code class=\"language-java\">public void emitRecord(ByteBuffer record, int targetSubpartition) throws IOException {\n    totalWrittenBytes += record.remaining();\n\n    BufferBuilder buffer = appendUnicastDataForNewRecord(record, targetSubpartition);\n\n    while (record.hasRemaining()) {\n        // full buffer, partial record\n        finishUnicastBufferBuilder(targetSubpartition);\n        buffer = appendUnicastDataForRecordContinuation(record, targetSubpartition);\n    }\n\n    if (buffer.isFull()) {\n        // full buffer, full record\n        finishUnicastBufferBuilder(targetSubpartition);\n    }\n\n    // partial buffer, full record\n}\n</code></pre>\n<p>è¿™é‡ŒæŠŠ record å†™å…¥åˆ° buffer ä¸­ï¼Œå¦‚æœ buffer ä¸å¤Ÿï¼Œåˆ™ä¼šä» LocalBufferPool ä¸­ç”³è¯·æ–°çš„ bufferï¼Œç”³è¯·åˆ°ä¹‹åå°±ä¼šç»§ç»­å†™å…¥ã€‚ä¸‹é¢æ˜¯å…·ä½“çš„ç”³è¯·è¿‡ç¨‹ã€‚</p>\n<pre><code class=\"language-java\">private MemorySegment requestMemorySegment(int targetChannel) {\n    MemorySegment segment = null;\n    synchronized (availableMemorySegments) {\n        checkDestroyed();\n\n        if (!availableMemorySegments.isEmpty()) {\n            segment = availableMemorySegments.poll();\n        } else if (isRequestedSizeReached()) {\n            // Only when the buffer request reaches the upper limit(i.e. current pool size),\n            // requests an overdraft buffer.\n            segment = requestOverdraftMemorySegmentFromGlobal();\n        }\n\n        if (segment == null) {\n            return null;\n        }\n\n        if (targetChannel != UNKNOWN_CHANNEL) {\n            if (++subpartitionBuffersCount[targetChannel] == maxBuffersPerChannel) {\n                unavailableSubpartitionsCount++;\n            }\n        }\n\n        checkAndUpdateAvailability();\n    }\n    return segment;\n}\n</code></pre>\n<p>å¦‚æœæœ‰å¯ç”¨å†…å­˜ï¼Œå°±ç›´æ¥ä»é˜Ÿåˆ—ä¸­å‡ºé˜Ÿã€‚å¦‚æœè¾¾åˆ°äº†æœ¬åœ° BufferPool çš„ä¸Šé™ï¼Œå°±ä»å…¨å±€çš„ NetworkBufferPool ä¸­ç”³è¯·ï¼Œç”³è¯·ä¸åˆ°å°±ä¼šé˜»å¡å†™å…¥è¿‡ç¨‹ï¼Œç­‰å¾…ç”³è¯·ã€‚æœ€åè¿˜ä¼šæ£€æŸ¥å¹¶æ›´æ–°å¯ç”¨å†…å­˜çŠ¶æ€ã€‚</p>\n<p>æœ‰äº†å¯ç”¨çš„ buffer ä¹‹åï¼Œå°±ä¼šè°ƒç”¨ addToSubpartitionï¼Œæœ€ç»ˆæ•°æ®å­˜å‚¨åœ¨ PipelinedSubpartition çš„ buffers é˜Ÿåˆ—ä¸­ã€‚</p>\n<pre><code class=\"language-java\">private void addToSubpartition(\n        BufferBuilder buffer,\n        int targetSubpartition,\n        int partialRecordLength,\n        int minDesirableBufferSize)\n        throws IOException {\n    int desirableBufferSize =\n            subpartitions[targetSubpartition].add(\n                    buffer.createBufferConsumerFromBeginning(), partialRecordLength);\n\n    resizeBuffer(buffer, desirableBufferSize, minDesirableBufferSize);\n}\n</code></pre>\n<h3 id=\"æ•°æ®è¾“å…¥\">æ•°æ®è¾“å…¥</h3>\n<p>çœ‹å®Œäº†æ•°æ®è¾“å‡ºçš„è¿‡ç¨‹ä¹‹åï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹æ•°æ®è¾“å…¥çš„è¿‡ç¨‹ã€‚é¦–å…ˆè¿˜æ˜¯äº†è§£å‡ ä¸ªåŸºæœ¬æ¦‚å¿µã€‚</p>\n<h4 id=\"åŸºæœ¬æ¦‚å¿µ-1\">åŸºæœ¬æ¦‚å¿µ</h4>\n<ul>\n<li>\n<p>InputGateï¼šInputGate æ˜¯å¯¹è¾“å…¥çš„å°è£…ï¼Œä¸ JobGraph ä¸­çš„ JobEdge ä¸€ä¸€å¯¹åº”ï¼Œæ¯ä¸ª InputGate æ¶ˆè´¹ä¸Šæ¸¸ä¸€ä¸ªæˆ–å¤šä¸ª Resultpartitionã€‚</p>\n</li>\n<li>\n<p>InputChannelï¼šInputChannel æ˜¯å’Œ ExecutionGraph ä¸­çš„ ExecutionEdge ä¸€ä¸€å¯¹åº”çš„ã€‚æ¯ä¸ª InputChannel æ¥æ”¶ä¸€ä¸ª ResultSubpartition çš„è¾“å‡ºï¼ŒInputChannel ä¸»è¦å…³æ³¨ LocalInputChannel å’Œ RemoteInputChannel ä¸¤ç§å®ç°ã€‚</p>\n</li>\n</ul>\n<h4 id=\"æ‰§è¡Œæµç¨‹-1\">æ‰§è¡Œæµç¨‹</h4>\n<p>äº†è§£äº†å…·ä½“æ¦‚å¿µä¹‹åï¼Œæˆ‘ä»¬å†çœ‹æ•°æ®è¾“å…¥çš„å…·ä½“æµç¨‹ã€‚</p>\n<p><img alt=\"RecordInput\" class=\"lazyload\" /></p>\n<p>æ•°æ®è¾“å…¥çš„å…¥å£æ˜¯ <code>StreamTask.processInput</code> æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¸­ä¸»è¦æ˜¯è°ƒç”¨ <code>inputProcessor.processInput</code> æ–¹æ³•ï¼Œæˆ‘ä»¬ä»¥ StreamOneInputProcessor ä¸ºä¾‹ã€‚è¿™ä¸ªæ–¹æ³•å°±æ˜¯è°ƒç”¨ <code>input.emitNext</code> æ–¹æ³•ã€‚</p>\n<pre><code class=\"language-java\">public DataInputStatus emitNext(DataOutput&lt;T&gt; output) throws Exception {\n\n    while (true) {\n        // get the stream element from the deserializer\n        if (currentRecordDeserializer != null) {\n            RecordDeserializer.DeserializationResult result;\n            try {\n                result = currentRecordDeserializer.getNextRecord(deserializationDelegate);\n            } catch (IOException e) {\n                throw new IOException(\n                        String.format(\"Can't get next record for channel %s\", lastChannel), e);\n            }\n            if (result.isBufferConsumed()) {\n                currentRecordDeserializer = null;\n            }\n\n            if (result.isFullRecord()) {\n                final boolean breakBatchEmitting =\n                        processElement(deserializationDelegate.getInstance(), output);\n                if (canEmitBatchOfRecords.check() &amp;&amp; !breakBatchEmitting) {\n                    continue;\n                }\n                return DataInputStatus.MORE_AVAILABLE;\n            }\n        }\n\n        Optional&lt;BufferOrEvent&gt; bufferOrEvent = checkpointedInputGate.pollNext();\n        if (bufferOrEvent.isPresent()) {\n            // return to the mailbox after receiving a checkpoint barrier to avoid processing of\n            // data after the barrier before checkpoint is performed for unaligned checkpoint\n            // mode\n            if (bufferOrEvent.get().isBuffer()) {\n                processBuffer(bufferOrEvent.get());\n            } else {\n                DataInputStatus status = processEvent(bufferOrEvent.get(), output);\n                if (status == DataInputStatus.MORE_AVAILABLE &amp;&amp; canEmitBatchOfRecords.check()) {\n                    continue;\n                }\n                return status;\n            }\n        } else {\n            if (checkpointedInputGate.isFinished()) {\n                checkState(\n                        checkpointedInputGate.getAvailableFuture().isDone(),\n                        \"Finished BarrierHandler should be available\");\n                return DataInputStatus.END_OF_INPUT;\n            }\n            return DataInputStatus.NOTHING_AVAILABLE;\n        }\n    }\n}\n</code></pre>\n<p>è¿™é‡Œæ˜¯è°ƒç”¨ <code>checkpointedInputGate.pollNext</code> æ¥è·å–è¾“å…¥çš„æ•°æ®ã€‚å®ƒçš„å†…éƒ¨å°±æ˜¯è°ƒç”¨ InputGate çš„ pollNext æ–¹æ³•æ¥è·å–æ•°æ®ã€‚å½“è·å–åˆ°å®Œæ•´æ•°æ®ä¹‹åï¼Œå°±ä¼šè°ƒç”¨ processElement æ¥å¤„ç†æ•°æ®ã€‚</p>\n<p>æˆ‘ä»¬ä»¥ SingleInputGate ä¸ºä¾‹çœ‹ InputGate çš„ pollNext æ–¹æ³•ã€‚å®ƒçš„å†…éƒ¨è°ƒç”¨é“¾è·¯å¯ç”¨ä¸€ç›´è¿½è¸ªåˆ° readBufferFromInputChannel æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å†…ä¼šè°ƒç”¨ <code>inputChannel.getNextBuffer</code>ï¼Œè¿™é‡Œäº¤ç»™ InputChannel æ¥å…·ä½“æ‰§è¡Œæ•°æ®è¯»å–ã€‚</p>\n<pre><code class=\"language-java\">public Optional&lt;BufferAndAvailability&gt; getNextBuffer() throws IOException {\n    checkError();\n\n    if (!toBeConsumedBuffers.isEmpty()) {\n        return getBufferAndAvailability(toBeConsumedBuffers.removeFirst());\n    }\n\n    ResultSubpartitionView subpartitionView = this.subpartitionView;\n    if (subpartitionView == null) {\n        // There is a possible race condition between writing a EndOfPartitionEvent (1) and\n        // flushing (3) the Local\n        // channel on the sender side, and reading EndOfPartitionEvent (2) and processing flush\n        // notification (4). When\n        // they happen in that order (1 - 2 - 3 - 4), flush notification can re-enqueue\n        // LocalInputChannel after (or\n        // during) it was released during reading the EndOfPartitionEvent (2).\n        if (isReleased) {\n            return Optional.empty();\n        }\n\n        // this can happen if the request for the partition was triggered asynchronously\n        // by the time trigger\n        // would be good to avoid that, by guaranteeing that the requestPartition() and\n        // getNextBuffer() always come from the same thread\n        // we could do that by letting the timer insert a special \"requesting channel\" into the\n        // input gate's queue\n        subpartitionView = checkAndWaitForSubpartitionView();\n    }\n\n    BufferAndBacklog next = subpartitionView.getNextBuffer();\n    // ignore the empty buffer directly\n    while (next != null &amp;&amp; next.buffer().readableBytes() == 0) {\n        next.buffer().recycleBuffer();\n        next = subpartitionView.getNextBuffer();\n        numBuffersIn.inc();\n    }\n\n    if (next == null) {\n        if (subpartitionView.isReleased()) {\n            throw new CancelTaskException(\n                    \"Consumed partition \" + subpartitionView + \" has been released.\");\n        } else {\n            return Optional.empty();\n        }\n    }\n\n    Buffer buffer = next.buffer();\n\n    if (buffer instanceof FullyFilledBuffer) {\n        List&lt;Buffer&gt; partialBuffers = ((FullyFilledBuffer) buffer).getPartialBuffers();\n        int seq = next.getSequenceNumber();\n        for (Buffer partialBuffer : partialBuffers) {\n            toBeConsumedBuffers.add(\n                    new BufferAndBacklog(\n                            partialBuffer,\n                            next.buffersInBacklog(),\n                            buffer.getDataType(),\n                            seq++));\n        }\n\n        return getBufferAndAvailability(toBeConsumedBuffers.removeFirst());\n    }\n\n    return getBufferAndAvailability(next);\n}\n</code></pre>\n<p>æˆ‘ä»¬å…ˆæ¥çœ‹ LocalInputChannelï¼Œå…ˆè·å–åˆ°äº† subpartitionViewï¼Œå¹¶è°ƒç”¨ getNextBufferï¼Œè¿™é‡Œå…¶å®å°±æ˜¯ä» PipelinedSubpartition çš„ buffers é˜Ÿåˆ—ä¸­è¯»å–æ•°æ®ã€‚</p>\n<p>RemoteInputChannel åˆ™éœ€è¦ä» receivedBuffers ä¸­è¯»å–æ•°æ®ï¼Œè¿™ä¸ªé˜Ÿåˆ—çš„æ•°æ®å°±æ˜¯æ¶ˆè´¹ä¸Šæ¸¸æ•°æ®åä¿å­˜çš„ã€‚</p>\n<p>è‡³æ­¤ï¼ŒFlink ä¸­ Task çš„æ•°æ®è¾“å…¥å’Œè¾“å‡ºè¿‡ç¨‹çš„æºç å°±æ¢³ç†å®Œäº†ï¼Œæ›´åŠ åº•å±‚çš„ Netty ç›¸å…³ä»£ç æˆ‘ä»¬åœ¨åé¢ç»§ç»­æ¢³ç†ã€‚</p>\n<h3 id=\"æ€»ç»“\">æ€»ç»“</h3>\n<p>æœ€åç®€å•æ€»ç»“ä¸€ä¸‹ï¼Œæœ¬æ–‡æˆ‘ä»¬æ¢³ç†äº† Task çš„æ•°æ®è¾“å‡ºå’Œè¾“å…¥çš„è¿‡ç¨‹ã€‚è¾“å‡ºè¿‡ç¨‹ä¸»è¦æ˜¯åˆ©ç”¨ RecordWriter å°†æ•°æ®å†™å…¥åˆ° Buffer ä¸­ï¼Œè¾“å…¥è¿‡ç¨‹åˆ™æ˜¯åˆ©ç”¨ InputChannel ä» Buffer æ¶ˆè´¹çš„è¿‡ç¨‹ã€‚å¦‚æœä½ çš„ Flink ä»»åŠ¡æ•°æ®é‡ç‰¹åˆ«å¤§ï¼Œå¹¶ä¸”æ²¡ä»€ä¹ˆå¤æ‚çš„é€»è¾‘ï¼Œå¯ä»¥è€ƒè™‘é€‚å½“è°ƒæ•´ localBufferPool çš„å¤§å°æ¥è°ƒä¼˜ä»»åŠ¡çš„ååã€‚</p>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-09 20:11</span>&nbsp;\n<a href=\"https://www.cnblogs.com/Jackeyzhe\">Jackeyzhe</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">0</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "å…¬ä¼—å·æ¨èæœºåˆ¶æ•´ç†ï¼šç§‘æŠ€å·æ€ä¹ˆæŠŠç¤¾äº¤æµé‡åšèµ·æ¥",
      "link": "https://www.cnblogs.com/reachteam/p/19463233",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/reachteam/p/19463233\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-09 19:39\">\n    <span>å…¬ä¼—å·æ¨èæœºåˆ¶æ•´ç†ï¼šç§‘æŠ€å·æ€ä¹ˆæŠŠç¤¾äº¤æµé‡åšèµ·æ¥</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body blogpost-body-html\" id=\"cnblogs_post_body\">\n<h1>01 èƒŒæ™¯</h1>\n<p><span>æœ€è¿‘æˆ‘ä»¬è½¯ä»¶å›¢é˜Ÿå‚åŠ äº†ä¸€ä¸ªé«˜æ ¡å…³äºå…¬ä¼—å·è¿è¥çš„åˆ†äº«ï¼Œå¬å®ŒæŒºæœ‰å¯å‘ï¼Œæ‰€ä»¥æŠŠé‡ç‚¹æ•´ç†æˆä¸€ç¯‡ç¬”è®°ï¼Œå‘å‡ºæ¥ç»™å¤§å®¶å‚è€ƒã€‚</span></p>\n<p><span>ä» 2023 å¹´å¼€å§‹ï¼Œå…¬ä¼—å·çš„åˆ†å‘ä¸å†åªæ˜¯è®¢é˜…æ¨é€é‚£ä¸€å¥—äº†ï¼Œç°åœ¨æ›´åƒæ˜¯ç¤¾äº¤ä¿¡å· + ç®—æ³•æ¨èä¸€èµ·åœ¨å‘åŠ›ã€‚æœ‰æ•°æ®æåˆ°ï¼Œ2025 å¹´æŸç§‘æŠ€/è½¯ä»¶å°å·é€šè¿‡ç¤¾äº¤æ¨èæ‹¿åˆ°çš„æµé‡å æ¯”å·²ç»åˆ° 45.9%ï¼Œç”šè‡³è¶…è¿‡äº†ä¼ ç»Ÿè®¢é˜…æ¨é€ã€‚</span></p>\n<p><span>æ‰€ä»¥è¿™ç¯‡æ–‡ç« æƒ³è§£å†³çš„å°±ä¸€ä»¶äº‹ï¼š</span></p>\n<p><span>ç§‘æŠ€å·åˆ°åº•è¦æ€ä¹ˆå†™ï¼Œæ‰èƒ½æ›´å®¹æ˜“è¢«æ¨èï¼Œä¹Ÿæ›´å®¹æ˜“è¢«è½¬å‘ã€‚</span></p>\n<p><span>ä¸‹é¢æŒ‰ 6 ä¸ªæ–¹å‘è®²æ¸…æ¥šï¼šæŠ€æœ¯é€»è¾‘ã€å…³é”®æŒ‡æ ‡ã€åˆ†å‘æµç¨‹ã€è´¦å·å·®å¼‚ã€æ¼”è¿›å˜åŒ–ã€æ¡ˆä¾‹å’Œå¯æ“ä½œå»ºè®®ã€‚</span></p>\n<h2><span>02 æ¨èç³»ç»Ÿå¤§æ¦‚æ€ä¹ˆè·‘</span></h2>\n<h3><span>2.1 ä¸‰ç±»ä¿¡å·æœ€é‡è¦</span></h3>\n<p><span>2025 å¹´ä¹‹åï¼Œå…¬ä¼—å·çš„æ¨èæ›´å¼ºè°ƒä¸‰ç±»ä¿¡å·ä¸€èµ·çœ‹ï¼š</span></p>\n<p><span>1. ç¤¾äº¤å…³ç³»ï¼šæœ‹å‹çœ‹è¿‡ã€è½¬å‘ã€åœ¨çœ‹ç­‰</span></p>\n<p><span>2. å…´è¶£æ ‡ç­¾ï¼šä½ æ˜¯ä»€ä¹ˆäººç¾¤ï¼Œå†…å®¹æ˜¯ä»€ä¹ˆä¸»é¢˜</span></p>\n<p><span>3. è¡Œä¸ºæ•°æ®ï¼šç‚¹å‡»ã€åœç•™ã€å®Œè¯»ã€æ»‘åŠ¨é€Ÿåº¦ã€ç‚¹èµå‘ç”Ÿåœ¨ä»€ä¹ˆæ—¶å€™</span></p>\n<p><span>ç³»ç»Ÿä¼šå…ˆä»å†…å®¹é‡Œæå–å…³é”®è¯ï¼Œå†ç»“åˆç”¨æˆ·è¡Œä¸ºæ›´æ–°ç”»åƒï¼Œæœ€åå†³å®šç»™è°æ›´å¤šæ›å…‰ã€‚å¯ä»¥æŠŠå®ƒç†è§£æˆä¸€ä¸ªå¾ªç¯ï¼šå…ˆæ›å…‰ä¸€å°æ³¢ï¼Œçœ‹åé¦ˆï¼Œå†å†³å®šè¦ä¸è¦ç»§ç»­ç»™é‡ã€‚</span></p>\n<p><span>å¦å¤–æœ‰ä¸€ç‚¹å¾ˆå…³é”®ï¼Œæ–‡ç« å‘å‡ºå»ä¹‹åé€šå¸¸ 1 åˆ° 3 åˆ†é’Ÿå†…å°±ä¼šåšä¸€è½®è´¨é‡è¯„ä¼°ï¼Œä¸»é¢˜ä»·å€¼ã€é€»è¾‘ç»“æ„ã€åŸåˆ›æ€§ã€ä»¥åŠ AI ç”Ÿæˆç—•è¿¹è¿™äº›éƒ½ä¼šè¢«ç»¼åˆåˆ¤æ–­ã€‚</span></p>\n<h3><span>2.2 æŒ‡æ ‡æƒé‡é•¿ä»€ä¹ˆæ ·</span></h3>\n<p><span>å…ˆæŠŠå¤§ç›˜æ”¾åœ¨è¿™ã€‚æ•°å­—æ˜¯ç ”ç©¶æ•´ç†å£å¾„ï¼Œå¤§å®¶çœ‹è¶‹åŠ¿å’Œé‡ç‚¹å°±è¡Œã€‚</span></p>\n<p><span>è¡¨ 1ï¼šå…¬ä¼—å·ç®—æ³•æ ¸å¿ƒæƒé‡åˆ†é…</span></p>\n<table>\n<thead>\n<tr><th><span>æƒé‡ç»´åº¦</span></th><th><span>å…·ä½“æŒ‡æ ‡</span></th><th><span>æƒé‡å æ¯”</span></th><th><span>å…³é”®é˜ˆå€¼ï¼ˆç¤ºä¾‹ï¼‰</span></th></tr>\n</thead>\n<tbody>\n<tr>\n<td><span>ç¤¾äº¤ä¼ æ’­ç³»æ•°</span></td>\n<td><span>å¥½å‹æ¨èç‡ã€è½¬å‘åˆ°æœ‹å‹åœˆ/ç¤¾ç¾¤æ¬¡æ•°ã€è·¨åœˆå±‚ä¼ æ’­æ·±åº¦</span></td>\n<td><span>35%</span></td>\n<td><span>ç¤¾äº¤æ¨èæµé‡å æ¯” â‰¥ 45%</span></td>\n</tr>\n<tr>\n<td><span>å†…å®¹è´¨é‡å› å­</span></td>\n<td><span>å®Œè¯»ç‡ï¼ˆâ‰¥65%ï¼‰ã€å¹³å‡é˜…è¯»æ—¶é•¿ï¼ˆâ‰¥2 åˆ†é’Ÿï¼‰ã€åŸåˆ›åº¦ï¼ˆ3 å€æƒé‡ï¼‰</span></td>\n<td><span>30%</span></td>\n<td><span>å®Œè¯»ç‡ â‰¥ 50%</span></td>\n</tr>\n<tr>\n<td><span>ç”¨æˆ·è¡Œä¸ºç”»åƒ</span></td>\n<td><span>ç‚¹å‡»ç‡ã€æ»‘åŠ¨é€Ÿåº¦ã€ç‚¹èµæ—¶é—´ç‚¹ç­‰å¾®è§‚è¡Œä¸º</span></td>\n<td><span>20%</span></td>\n<td><span>ç‚¹å‡»ç‡ â‰¥ 15%</span></td>\n</tr>\n<tr>\n<td><span>è´¦å·ä¿¡èª‰ä½“ç³»</span></td>\n<td><span>æ›´æ–°é¢‘ç‡ã€è¿è§„è®°å½•ã€ç”¨æˆ·æŠ•è¯‰ç‡</span></td>\n<td><span>10%</span></td>\n<td><span>æ—¥æ›´å¯æå‡ 300% åˆå§‹æ¨è</span></td>\n</tr>\n<tr>\n<td><span>å®æ—¶æµé‡åšå¼ˆ</span></td>\n<td><span>15 åˆ†é’ŸåŠ¨æ€è°ƒæ•´</span></td>\n<td><span>5%</span></td>\n<td><span>å†·å¯åŠ¨æœŸç‚¹å‡»ç‡ &gt; 8%</span></td>\n</tr>\n</tbody>\n</table>\n<p><span>å¦å¤–è¿˜æœ‰ä¸€ç»„å¸¸è§æ‹†åˆ†å£å¾„ï¼šæ‰“å¼€ç‡å¤§æ¦‚å  40%ï¼Œäº’åŠ¨ç‡ï¼ˆèµ/åœ¨çœ‹/æ”¶è—ï¼‰å  30%ï¼Œåˆ†äº«ç‡å  20%ï¼Œå®Œè¯»ç‡å  10%ã€‚</span></p>\n<p><span>æé†’ä¸¤ç‚¹ï¼š</span></p>\n<p><span>1. åŸåˆ›çš„æ¨èæƒé‡ä¼šæ›´é«˜ï¼ˆç ”ç©¶å£å¾„é‡Œæåˆ°æ˜¯è½¬è½½çš„ 3 å€ï¼‰</span></p>\n<p><span>2. è®¤è¯ç±»å‹ä¹Ÿä¼šå½±å“æƒé‡ï¼ˆæ”¿åºœ &gt; åª’ä½“ &gt; ä¼ä¸š &gt; ä¸ªä½“ï¼‰ï¼Œè®¤è¯è´¦å·åœ¨æœç´¢é‡Œæ›´å®¹æ˜“æ‹¿åˆ°é å‰æ›å…‰</span></p>\n<h3><span>2.3 è¿™å‡ å¹´åˆ†å‘æ€ä¹ˆå˜äº†</span></h3>\n<p><span>ç®€å•æŒ‰é˜¶æ®µæ‹ä¸€ä¸‹ï¼š</span></p>\n<p><span>1. 2013 åˆ° 2017ï¼šè®¢é˜…ä¸ºä¸»ï¼Œå…³æ³¨å°±èƒ½æ”¶åˆ°</span></p>\n<p><span>2. 2017 åˆ° 2020ï¼šå¼€å§‹å¼•å…¥ç¤¾äº¤æ¨èï¼Œçœ‹ä¸€çœ‹ç­‰å…¥å£å‡ºç°</span></p>\n<p><span>3. 2020 åˆ° 2023ï¼šç®—æ³•æ¨èé€æ­¥å˜å¼ºï¼Œå¼€å§‹æ¨èæœªå…³æ³¨å†…å®¹</span></p>\n<p><span>4. 2023 è‡³ä»Šï¼šç¤¾äº¤ + ç®—æ³•åŒé©±åŠ¨æ›´æ˜æ˜¾ï¼Œæœ‹å‹ç›¸å…³å…¥å£çš„æƒé‡å˜é«˜</span></p>\n<h2><span>03 æµé‡æ± èµ›é©¬ï¼šæ–‡ç« ä¸ºå•¥ä¼šçªç„¶çˆ†</span></h2>\n<h3><span>3.1 å†·å¯åŠ¨é‚£ä¸€å…³å¾ˆå…³é”®</span></h3>\n<p><span>æ–‡ç« å‘å‡ºå»ä¹‹åï¼Œé€šå¸¸ä¼šå…ˆæ‹¿åˆ°ä¸€å°æ³¢æµ‹è¯•æ›å…‰ï¼ˆæ¯”å¦‚ 500 åˆ° 1000 æ¬¡ï¼‰ï¼Œç³»ç»Ÿä¸»è¦çœ‹ä¸‰é¡¹ï¼šç‚¹å‡»ç‡ã€å®Œè¯»ç‡ã€äº’åŠ¨ç‡ã€‚</span></p>\n<p><span>ç ”ç©¶é‡Œç»™äº†ä¸€äº›å¸¸è§é˜ˆå€¼åšå‚è€ƒï¼š</span></p>\n<p><span>1. å†·å¯åŠ¨æœŸï¼ˆ0 åˆ° 24 å°æ—¶ï¼‰ç‚¹å‡»ç‡è¦èƒ½åˆ° 8% ä»¥ä¸Šï¼Œæ›´å¯èƒ½è¿›ä¸‹ä¸€å±‚</span></p>\n<p><span>2. è¿›å…¥çˆ†å‘æœŸåï¼Œå®Œè¯»ç‡æœ€å¥½èƒ½ç»´æŒ 55% ä»¥ä¸Šï¼Œäº’åŠ¨ç‡ 3% ä»¥ä¸Š</span></p>\n<h3><span>3.2 å¤šè½®æ¨èä¸æ˜¯ä¸€æ¬¡æ€§ç»™å®Œ</span></h3>\n<p><span>é€šè¿‡ç¬¬ä¸€è½®æµ‹è¯•åï¼Œä¼šæœ‰äºŒæ¬¡ã€ä¸‰æ¬¡ç”šè‡³æ›´å¤šè½®çš„æ¨èï¼Œæ¯ä¸€è½®æ›å…‰é‡ä¼šå˜å¤§ã€‚</span></p>\n<p><span>å¦å¤–ç³»ç»Ÿä¼šæŒ‰ 15 åˆ†é’Ÿä¸€è½®åŠ¨æ€è°ƒæ•´æµé‡ï¼Œæ‰€ä»¥åŒä¸€ç¯‡æ–‡ç« çš„æ•°æ®ä¼šä¸€ç›´å˜åŒ–ã€‚é˜…è¯»é‡åˆ° 1 ä¸‡è¿™ä¸ªé‡çº§åï¼Œæœ‰æ—¶è¿˜ä¼šè§¦å‘äººå·¥å®¡æ ¸ã€‚</span></p>\n<h3><span>3.3 ç¤¾äº¤æ‰©æ•£ä¼šå¸¦æ¥æ”¾å¤§</span></h3>\n<p><span>å½“ç”¨æˆ·ç‚¹åœ¨çœ‹æˆ–è€…è½¬å‘ï¼Œæ–‡ç« å°±ä¼šæ²¿ç€ç¤¾äº¤ç½‘ç»œæ‰©æ•£ã€‚æœ‰è´¦å·çš„æ•°æ®é‡Œï¼Œæœ‹å‹ç›¸å…³å…¥å£è´¡çŒ®çš„é˜…è¯»é‡èƒ½åˆ° 45.9%ã€‚</span></p>\n<p><span>æ¯”è¾ƒå®¹æ˜“è§¦å‘åˆ†äº«çš„åŸå› ä¸€èˆ¬æ˜¯è¿™ä¸‰ç±»ï¼š</span></p>\n<p><span>1. å†…å®¹æœ¬èº«æœ‰ç¤¾äº¤ä»·å€¼ï¼ˆå…±é¸£ã€å®ç”¨ã€è¯é¢˜æ€§ï¼‰</span></p>\n<p><span>2. æ–‡ä¸­å†™æ¸…æ¥šåˆ†äº«åŠ¨æœºï¼ˆæ¯”å¦‚è½¬ç»™åŒäº‹ã€è½¬ç»™åŒå­¦ã€è½¬ç»™ç¾¤é‡Œè°ï¼‰</span></p>\n<p><span>3. å†…å®¹é€‚é…åˆ†äº«åœºæ™¯ï¼ˆå·¥ä½œç¾¤ã€åŒå­¦ç¾¤ã€è¡Œä¸šç¾¤èƒ½ç”¨å¾—ä¸Šï¼‰</span></p>\n<h3><span>3.4 å…¬åŸŸå…¥å£ä¹Ÿå¾ˆé‡è¦</span></h3>\n<p><span>è¡¨ 2ï¼šå…¬ä¼—å·ä¸»è¦æµé‡æ¥æºåˆ†å¸ƒ</span></p>\n<table>\n<thead>\n<tr><th><span>æµé‡æ¥æº</span></th><th><span>å æ¯”</span></th><th><span>ç‰¹ç‚¹</span></th></tr>\n</thead>\n<tbody>\n<tr>\n<td><span>æ¨èæµé‡</span></td>\n<td><span>54.5%</span></td>\n<td><span>ç®—æ³•æ¨èä¸ºä¸»</span></td>\n</tr>\n<tr>\n<td><span>å…¬ä¼—å·æ¶ˆæ¯</span></td>\n<td><span>16.52%</span></td>\n<td><span>è®¢é˜…ç”¨æˆ·</span></td>\n</tr>\n<tr>\n<td><span>å…¬ä¼—å·ä¸»é¡µ</span></td>\n<td><span>13.17%</span></td>\n<td><span>ä¸»åŠ¨è®¿é—®</span></td>\n</tr>\n<tr>\n<td><span>æœä¸€æœ</span></td>\n<td><span>10.44%</span></td>\n<td><span>ç²¾å‡†æœç´¢</span></td>\n</tr>\n<tr>\n<td><span>èŠå¤©ä¼šè¯</span></td>\n<td><span>2.88%</span></td>\n<td><span>ç§åŸŸåˆ†äº«</span></td>\n</tr>\n<tr>\n<td><span>æœ‹å‹åœˆ</span></td>\n<td><span>0.96%</span></td>\n<td><span>æœ‹å‹åœˆåˆ†äº«</span></td>\n</tr>\n<tr>\n<td><span>æœ‹å‹æ¨è</span></td>\n<td><span>0.12%</span></td>\n<td><span>å¥½å‹ç›´æ¥æ¨è</span></td>\n</tr>\n</tbody>\n</table>\n<p><span>è¡¥å……ä¸¤ç‚¹ï¼š</span></p>\n<p><span>1. çœ‹ä¸€çœ‹æ˜¯å¾ˆé‡è¦çš„å…¬åŸŸå…¥å£ï¼Œçˆ†æ¬¾é‡Œçœ‹ä¸€çœ‹å æ¯”èƒ½åˆ° 60% åˆ° 70%</span></p>\n<p><span>2. æœä¸€æœå æ¯”å¤§æ¦‚ 10.44%ï¼Œæ ‡é¢˜å…³é”®è¯åšå¾—å¥½ï¼Œæœç´¢æµé‡å æ¯”ä¹Ÿå¯èƒ½å¾ˆå¯è§‚</span></p>\n<h2><span>04 ä¸åŒè´¦å·çš„å·®å¼‚</span></h2>\n<h3><span>4.1 è®¤è¯å’Œè´¦å·ä¿¡èª‰</span></h3>\n<p><span>è®¤è¯ç±»å‹ä¼šå½±å“æƒé‡å’Œä¿¡ä»»ï¼ˆæ”¿åºœ &gt; åª’ä½“ &gt; ä¼ä¸š &gt; ä¸ªä½“ï¼‰ã€‚</span></p>\n<p><span>åŒæ—¶ä¹Ÿä¼šçœ‹è¿™äº›ï¼šæ³¨å†Œæ—¶é—´ã€è¿è§„è®°å½•ã€ç²‰ä¸æ´»è·ƒåº¦ï¼ˆå¸¸è¯»ç”¨æˆ·ï¼‰ã€æ›´æ–°é¢‘ç‡ï¼ˆå‘æ–‡å¤šä¸”åŸåˆ›å æ¯”é«˜æ›´å ä¼˜ï¼‰ã€‚</span></p>\n<h3><span>4.2 æ–°å·å’Œè€å·ä¸ä¸€æ ·</span></h3>\n<p><span>æ–°å·ä¸€èˆ¬ä¼šæœ‰è§‚å¯ŸæœŸï¼ŒåˆæœŸæ›å…‰å¯èƒ½æ¯”è¾ƒå°ï¼Œå¹³å°ä¼šå…ˆåˆ¤æ–­ä½ æ˜¯ä¸æ˜¯ç¨³å®šçš„æ­£å¸¸åˆ›ä½œè€…ï¼Œæ ‡ç­¾æ¸…ä¸æ¸…æ™°ï¼Œå†…å®¹åˆä¸åˆè§„ã€‚</span></p>\n<p><span>è€å·å› ä¸ºç”»åƒç§¯ç´¯æ›´å®Œæ•´ï¼Œæ¨èæ›´å®¹æ˜“ç²¾å‡†ï¼Œä½†é•¿æœŸä¸æ´»è·ƒæˆ–è€…è´¨é‡ä¸‹æ»‘ä¹Ÿå¯èƒ½è¢«é™æƒã€‚</span></p>\n<h3><span>4.3 å‚ç›´é¢†åŸŸæ›´åƒé¦™ï¼Œä½†åˆ«ä¹±è·‘</span></h3>\n<p><span>ç§‘æŠ€ã€æ•™è‚²ç­‰å‚ç›´é¢†åŸŸåœ¨å“ç±»é‡Œå¯èƒ½æ›´å®¹æ˜“æ‹¿åˆ°å€¾æ–œï¼Œä½†å‰ææ˜¯å®šä½è¶³å¤Ÿç»†ï¼Œå†…å®¹æŒç»­å‚ç›´è¾“å‡ºï¼Œå¹¶ä¸”ç”¨åˆé›†ã€æ ‡ç­¾ç­‰æ–¹å¼å¼ºåŒ–è¯†åˆ«ã€‚</span></p>\n<h2><span>05 ç§‘æŠ€å·æ€ä¹ˆåšæ›´å®¹æ˜“èµ·é‡</span></h2>\n<p><span>æˆ‘æ›´å»ºè®®æŠŠæŒ‡æ ‡å½“æˆé—¨æ§›ï¼Œè€Œä¸æ˜¯å½“ KPIã€‚</span></p>\n<h3><span>5.1 æ ‡é¢˜å…ˆæŠŠç‚¹å‡»ç‡é¡¶èµ·æ¥</span></h3>\n<p><span>æ ‡é¢˜å¯ä»¥ç”¨ä¸€ä¸ªæ¯”è¾ƒç¨³çš„ç»“æ„ï¼šç—›ç‚¹åœºæ™¯ + æ•°æ®èƒŒä¹¦ + æƒ…ç»ªå…±é¸£ã€‚</span></p>\n<p><span>ç¤ºä¾‹ï¼ˆæŒ‰ä½ ä»¬è´¦å·æ–¹å‘æ›¿æ¢å³å¯ï¼‰ï¼š</span></p>\n<p><span>1. æˆ‘æŠŠç”µè„‘å˜å¿«äº†ï¼Œ3 ä¸ª Windows è®¾ç½®ç«‹åˆ»è§æ•ˆ</span></p>\n<p><span>2. åˆ«å†è¢«é’“é±¼äº†ï¼Œæ ¡å›­/ä¼ä¸šé‚®ç®±æœ€å¸¸è§çš„ 5 ç§è¯ˆéª—</span></p>\n<p><span>3. ä» 0 åˆ° 1ï¼Œç”¨ 10 åˆ†é’Ÿæ­å¥½ä¸€ä¸ªè‡ªåŠ¨åŒ–æŠ¥è¡¨æµç¨‹</span></p>\n<h3><span>5.2 å†…å®¹ç»“æ„è¦ç…§é¡¾å®Œè¯»</span></h3>\n<p><span>ä¸€ä¸ªæ¯”è¾ƒå¥½ç”¨çš„å†™æ³•æ˜¯ï¼šå¼€å¤´ç›´æ¥ç»™ç»“è®ºï¼Œä¸­é—´ä¿æŒä¿¡æ¯å¯†åº¦ï¼ˆå¤§æ¦‚æ¯ 300 å­—ä¸€ä¸ªå…³é”®ç‚¹ï¼‰ï¼Œç»“å°¾ç»™è¡ŒåŠ¨å»ºè®®æˆ–æé—®ï¼Œå¼•å¯¼è¯„è®º/æ”¶è—/è½¬å‘ã€‚</span></p>\n<h3><span>5.3 åŸåˆ›æ˜¯åº•ç›˜</span></h3>\n<p><span>ç ”ç©¶é‡Œæåˆ°åŸåˆ›åº¦å»ºè®®å¤§äº 70%ã€‚å¦‚æœç”¨ AI åšè¾…åŠ©ï¼Œä¹Ÿå»ºè®®æŠŠæ¯”ä¾‹å’Œç”¨é€”è¯´æ¸…æ¥šï¼Œé¿å…è¢«ç³»ç»Ÿè¯¯åˆ¤æˆä½è´¨ã€‚</span></p>\n<h3><span>5.4 æŠŠå¯è½¬å‘å†™è¿›æ­£æ–‡</span></h3>\n<p><span>æ–‡ç«  25% / 50% / 75% çš„ä½ç½®ï¼Œå¯ä»¥é¡ºæ‰‹åŠ ä¸€å¥è¯ï¼Œå‘Šè¯‰è¯»è€…è¿™æ®µé€‚åˆè½¬ç»™è°ã€‚</span></p>\n<p><span>æ¯”å¦‚ï¼šè¿™ä»½æ’æŸ¥æ¸…å•è½¬ç»™ IT åŒäº‹/åŒå­¦ï¼›è¿™æ®µè®¾ç½®è½¬åˆ°ç¾¤é‡Œï¼Œå¤§å®¶å°‘è¸©å‘ã€‚</span></p>\n<h3><span>5.5 å‘å‡ºå»åçš„ 2 å°æ—¶åˆ«æµªè´¹</span></h3>\n<p><span>å†·å¯åŠ¨æ•°æ®å¾ˆå…³é”®ï¼Œå»ºè®®å‘æ–‡åé©¬ä¸Šç”¨ç§å­ç”¨æˆ·æ‰©æ•£ä¸€æ³¢ï¼ˆç¤¾ç¾¤ã€åŒäº‹ç¾¤ã€åŒå­¦ç¾¤ï¼‰ï¼Œå…ˆæŠŠç‚¹å‡»ã€å®Œè¯»ã€äº’åŠ¨è·‘èµ·æ¥ã€‚</span></p>\n<h3><span>5.6 æ¯å‘¨å°±ç›¯ 3 ä¸ªæŒ‡æ ‡</span></h3>\n<p><span>1. ç¤¾äº¤æ¨èæµé‡å æ¯”ï¼ˆç›®æ ‡å€¼å¯å‚è€ƒ 45%ï¼‰</span></p>\n<p><span>2. èœå•æ ç‚¹å‡»é‡ï¼ˆèƒ½çœ‹å‡ºäº’åŠ¨æ·±åº¦ï¼‰</span></p>\n<p><span>3. 48 å°æ—¶äº’åŠ¨ç‡ï¼ˆèƒ½çœ‹å‡ºå†…å®¹å³æ—¶å½±å“åŠ›ï¼‰</span></p>\n<p><span>å¦å¤–æ ‡é¢˜ã€å°é¢ã€å¼€å¤´æ®µè½éƒ½å¯ä»¥åšå°èŒƒå›´ A/B æµ‹è¯•ï¼Œæ‰¾æœ€åˆé€‚çš„ç»„åˆã€‚</span></p>\n<h2><span>06 æ¡ˆä¾‹ç»™æˆ‘ä»¬çš„æç¤º</span></h2>\n<p><span>è¿™é‡Œåˆ—å‡ ä¸ªç ”ç©¶é‡Œçš„å…¸å‹ç°è±¡ï¼Œä¸»è¦çœ‹è§„å¾‹ï¼š</span></p>\n<p><span>1. æœ‰æ–‡ç« é˜…è¯» 48 ä¸‡ï¼Œçœ‹ä¸€çœ‹è´¡çŒ® 60%</span></p>\n<p><span>2. æœ‰æ–°å·ç²‰ä¸ä¸å¤šï¼Œå•ç¯‡ 10 ä¸‡+ï¼Œçœ‹ä¸€çœ‹è´¡çŒ® 98%</span></p>\n<p><span>3. æœ‰ç—…æ¯’ä¼ æ’­æ¡ˆä¾‹ï¼Œç¬¬ 1 å¤© 500+ï¼Œç¬¬ 2 å¤© 1 ä¸‡+ï¼Œç¬¬ 3 å¤©æœ‹å‹åœˆåˆ·å±</span></p>\n<p><span>å…±åŒç‚¹å…¶å®å¾ˆæœ´ç´ ï¼šå†·å¯åŠ¨è¿‡å…³ï¼Œç¤¾äº¤æ‰©æ•£è¢«ç‚¹ç‡ƒï¼Œå†…å®¹è´¨é‡èƒ½æ’‘ä½å®Œè¯»å’Œäº’åŠ¨ã€‚</span></p>\n<h2><span>07 é£é™©å’Œåˆè§„åˆ«è¸©å‘</span></h2>\n<p><span>å¸¸è§è¯¯åŒºï¼š</span></p>\n<p><span>1. è¿½çƒ­ç‚¹ä½†å’Œå®šä½ä¸æ­ï¼Œå®¹æ˜“ç™½å¿™</span></p>\n<p><span>2. ä¾èµ–åˆ·é‡ï¼Œå¹³å°æœ‰æ— æ•ˆæµé‡æ’æŸ¥ï¼Œé£é™©å¾ˆé«˜</span></p>\n<p><span>3. åªè¦æ›å…‰ä¸è¦è´¨é‡ï¼Œå®Œè¯»ç‡æ‰å¾—å¾ˆå¿«ï¼Œæ¨èä¹Ÿä¼šå¾ˆå¿«åœ</span></p>\n<p><span>åˆè§„æ–¹é¢ï¼š</span></p>\n<p><span>1. åŸåˆ›åº¦å°½é‡åšåˆ° 70% ä»¥ä¸Š</span></p>\n<p><span>2. æ ‡é¢˜å’Œæ­£æ–‡åšæ•æ„Ÿè¯æ‰«æï¼Œå°‘ç”¨ç»å¯¹åŒ–ã€å¤¸å¤§åŒ–è¡¨è¿°</span></p>\n<p><span>3. å›¾ç‰‡ç´ ææ³¨æ„ç‰ˆæƒï¼Œç”¨ CC0 ç«™ç‚¹æˆ–è€…åˆè§„äºŒåˆ›</span></p>\n<h2><span>08 æ€»ç»“</span></h2>\n<p><span>ä¸€å¥è¯æ€»ç»“ï¼šå…¬ä¼—å·ç°åœ¨æ˜¯ç¤¾äº¤ä¿¡å· + ç®—æ³•æ¨èä¸€èµ·åœ¨è·‘ï¼Œç§‘æŠ€å·æƒ³èµ·é‡ï¼Œæ ¸å¿ƒè¿˜æ˜¯ä¸‰ä»¶äº‹ï¼šå†·å¯åŠ¨æ•°æ®è¿‡å…³ã€å†…å®¹æ›´å®¹æ˜“è¢«è½¬å‘ã€é•¿æœŸåšæŒåŸåˆ›å’Œå‚ç›´ã€‚</span></p>\n<p><span>å¦‚æœä½ åªæƒ³å…ˆåšæœ€å°æ”¹åŠ¨ï¼Œå»ºè®®ä»è¿™ 3 ä¸ªå¼€å§‹ï¼š</span></p>\n<p><span>1. å‘æ–‡å 0 åˆ° 2 å°æ—¶ï¼ŒæŠŠç‚¹å‡»ç‡ã€å®Œè¯»ç‡ã€äº’åŠ¨ç‡å…ˆè·‘èµ·æ¥</span></p>\n<p><span>2. æŠŠæ¸…å•ã€æ­¥éª¤ã€æ’é”™æµç¨‹å†™å¾—æ›´å¯æˆªå›¾è½¬å‘ï¼Œé¡ºæ‰‹å†™æ¸…æ¥šè½¬ç»™è°</span></p>\n<p><span>3. è¿ç»­åšä¸€ä¸ªç»†åˆ†æ–¹å‘ï¼ˆæ¯”å¦‚æ ¡å›­ç½‘ç»œå®‰å…¨ã€ç³»ç»Ÿä½¿ç”¨æŒ‡å—ã€åŠå…¬æ•ˆç‡ï¼‰ï¼Œè®©æ ‡ç­¾ç¨³å®šä¸‹æ¥</span></p>\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-09 19:39</span>&nbsp;\n<a href=\"https://www.cnblogs.com/reachteam\">H5å¼€å‘æŠ€æœ¯</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">3</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "MAFå¿«é€Ÿå…¥é—¨ï¼ˆ11ï¼‰å¹¶è¡Œå·¥ä½œæµ",
      "link": "https://www.cnblogs.com/edisontalk/p/-/quick-start-on-maf-chatper11",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/edisontalk/p/-/quick-start-on-maf-chatper11\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-09 18:30\">\n    <span>MAFå¿«é€Ÿå…¥é—¨ï¼ˆ11ï¼‰å¹¶è¡Œå·¥ä½œæµ</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                    <div id=\"cnblogs_post_description\" style=\"display: none;\">\n        <img alt=\"MAFå¿«é€Ÿå…¥é—¨ï¼ˆ11ï¼‰å¹¶è¡Œå·¥ä½œæµ\" class=\"desc_img\" src=\"https://img2024.cnblogs.com/blog/381412/202601/381412-20260104201029946-1112217715.png\" />\n        åœ¨å®é™…ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œå¾€å¾€éœ€è¦åœ¨å·¥ä½œæµä¸­è®©å¤šä¸ªAgentåŒæ—¶è¿è¡Œå†é€šè¿‡èšåˆç»“æœåšåšä¸€äº›æ•°æ®åˆ†ææˆ–å†³ç­–å‘ˆç°ï¼Œè¿™æ—¶å°±éœ€è¦å¹¶è¡Œæ‰§è¡Œæœºåˆ¶ã€‚æœ¬æ–‡ä»‹ç»äº†MAFä¸­å¹¶è¡Œå·¥ä½œæµä»¥åŠå¦‚ä½•å®ç°â€œFan-Out/Fan-Inâ€çš„å·¥ä½œæ¨¡å¼ï¼Œæœ€åé€šè¿‡ä¸€ä¸ªè·¨å¢ƒç”µå•†ä»·æ ¼æŸ¥è¯¢æ™ºèƒ½å®šä»·çš„æ¡ˆä¾‹ä»‹ç»äº†è¿™ç§æ¨¡å¼çš„ä»£ç å®ç°ã€‚\n    </div>\n<div class=\"blogpost-body blogpost-body-html\" id=\"cnblogs_post_body\">\n<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯Edisonã€‚</p>\n<p>æœ€è¿‘æˆ‘ä¸€ç›´åœ¨è·Ÿç€åœ£æ°çš„ã€Š<a class=\"normal_text_link mp_article_text_link\" href=\"https://www.cnblogs.com/sheng-jie/p/19200934\" target=\"_blank\">.NET+AIæ™ºèƒ½ä½“å¼€å‘è¿›é˜¶</a>ã€‹è¯¾ç¨‹å­¦ä¹ MAFçš„å¼€å‘æŠ€å·§ï¼Œæˆ‘å¼ºçƒˆæ¨èä½ ä¹Ÿä¸Šè½¦è·Ÿæˆ‘ä¸€èµ·å‡ºå‘ï¼</p>\n<p><a class=\"normal_text_link mp_article_text_link\" href=\"https://www.cnblogs.com/edisontalk/p/-/quick-start-on-maf-chatper10\" target=\"_blank\">ä¸Šä¸€ç¯‡</a>ï¼Œ<span>æˆ‘ä»¬å­¦ä¹ äº†MAFä¸­å¦‚ä½•è¿›è¡Œå¾ªç¯ï¼ˆloopï¼‰è·¯ç”±<span>ã€‚æœ¬ç¯‡ï¼Œæˆ‘ä»¬æ¥äº†è§£ä¸‹åœ¨MAFä¸­å¦‚ä½•å¹¶è¡Œæ‰§è¡Œï¼ˆfan-out/fan-inï¼‰çš„å·¥ä½œæµã€‚</span></span></p>\n<h1><strong>1 å¹¶è¡Œæ‰§è¡Œæ¨¡å¼</strong></h1>\n<p><span><span><span>åœ¨å®é™…ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œå¾€å¾€éœ€è¦åœ¨å·¥ä½œæµä¸­è®©å¤šä¸ªAgentåŒæ—¶è¿è¡Œå†é€šè¿‡èšåˆç»“æœåšåšä¸€äº›æ•°æ®åˆ†ææˆ–å†³ç­–å‘ˆç°ï¼Œè¿™æ—¶å°±éœ€è¦å¹¶è¡Œæ‰§è¡Œæœºåˆ¶<span>ã€‚</span></span></span></span></p>\n<p><span><span><span>åœ¨MAFä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Fan-Out/Fan-In æ¨¡å¼æ¥å®ç°è¿™ä¸ªç›®çš„<span>ï¼Œå¦‚ä¸‹ä»£ç ç‰‡æ®µæ‰€ç¤ºï¼š</span></span></span></span></p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">var</span> workflow = <span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> WorkflowBuilder(startExecutor)\n    .AddFanOutEdge(startExecutor, [amazonExecutor, ebayExecutor, shopeeExecutor])\n    .AddFanInEdge([amazonExecutor, ebayExecutor, shopeeExecutor], strategyExecutor)\n    .WithOutputFrom(strategyExecutor)\n    .Build();</span></pre>\n</div>\n<p><span><span><span><span><span><span><span>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬é€šè¿‡MAFçš„ AddFanOutEdge å’Œ AddFanInEdge æ¥å®ç°äº†å¹¶è¡Œæ‰§è¡Œçš„ç›®çš„ï¼Œæœ€åé€šè¿‡ä¸€ä¸ªè‡ªå®šä¹‰çš„æ‰§è¡Œå™¨æ¥åšèšåˆã€‚</span></span></span></span></span></span></span></p>\n<p><span><span><span><span><span><span><span>æ ¸å¿ƒæ¦‚å¿µè¡¥å……ï¼š</span></span></span></span></span></span></span></p>\n<ul>\n<li><span><span><span><span><span><span><span>Fan-Out Edge =&gt; å¹¶å‘æ‰§è¡Œè¾¹</span></span></span></span></span></span></span></li>\n<li><span><span><span><span><span><span><span>Fan-In Edge =&gt; æ±‡èšè¾¹</span></span></span></span></span></span></span></li>\n</ul>\n<h1><strong>2 å¹¶è¡Œå·¥ä½œæµå®éªŒæ¡ˆä¾‹</strong></h1>\n<p><span><span><span><span><span><span><span><span>å‡è®¾æˆ‘ä»¬æ˜¯ä¸€ä¸ªè·¨å¢ƒç”µå•†å›¢é˜Ÿï¼Œæƒ³è¦å®æ—¶ç›‘æ§åŒä¸€ä¸ªå•†å“åœ¨å¤šä¸ªç”µå•†å¹³å°ï¼ˆå¦‚äºšé©¬é€Šã€eBayã€Shopeeç­‰ï¼‰çš„å®šä»·ç­–ç•¥ï¼Œåœ¨æ£€æµ‹åˆ°ç«äº‰å¯¹æ‰‹é™ä»·æ—¶å¿«é€Ÿåšå‡ºå“åº”å†³ç­–ã€‚</span></span></span></span></span></span></span></span></p>\n<p><span><span><span><span><span><span><span><span><span>å› æ­¤ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯ï¼šé…ç½®ä¸€ä¸ª&nbsp;<span>Fan-Out + Fan-In<span>&nbsp;å·¥ä½œæµï¼Œå®ç°ä¸€æ¬¡æŸ¥è¯¢ã€å¹¶è¡ŒæŠ“å–ã€æ™ºèƒ½å†³ç­–çš„ä¼ä¸šçº§æ¨¡å¼ã€‚</span></span></span></span></span></span></span></span></span></span></span></p>\n<h3><strong><span><span>2.1 å…³é”®ä¾èµ–åŒ…å¼•å…¥</span></span></strong></h3>\n<p><span><span><span><span><span><span><span><span><span><span><span><span>åœ¨ä»Šå¤©çš„è¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬ä»ç„¶åˆ›å»ºäº†ä¸€ä¸ª.NETæ§åˆ¶å°åº”ç”¨ç¨‹åºï¼Œå®‰è£…äº†ä»¥ä¸‹NuGetåŒ…ï¼š</span></span></span></span></span></span></span></span></span></span></span></span></p>\n<ul class=\"list-paddingleft-1\">\n<li><span>Microsoft.Agents.AI.OpenAI</span></li>\n<li><span>Microsoft.Agents.AI.Workflows</span></li>\n<li><span>Microsoft.Extensions.AI.OpenAI</span></li>\n</ul>\n<h3><span><span>2.2 å®šä¹‰æ•°æ®ä¼ è¾“æ¨¡å‹</span></span></h3>\n<p><span><span>é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸‹åœ¨è¿™ä¸ªå·¥ä½œæµä¸­éœ€è¦ç”Ÿæˆä¼ é€’çš„æ•°æ®æ¨¡å‹ï¼š</span></span></p>\n<p><span><span>PriceQueryDto ï¼šä»·æ ¼æŸ¥è¯¢æ¨¡å‹DTO</span></span></p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">internal</span> <span style=\"color: rgba(0, 0, 255, 1);\">class</span><span style=\"color: rgba(0, 0, 0, 1);\"> PriceQueryDto\n{\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">string</span> ProductId { <span style=\"color: rgba(0, 0, 255, 1);\">get</span>; <span style=\"color: rgba(0, 0, 255, 1);\">private</span> <span style=\"color: rgba(0, 0, 255, 1);\">set</span><span style=\"color: rgba(0, 0, 0, 1);\">; }\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">string</span> ProductName { <span style=\"color: rgba(0, 0, 255, 1);\">get</span>; <span style=\"color: rgba(0, 0, 255, 1);\">private</span> <span style=\"color: rgba(0, 0, 255, 1);\">set</span><span style=\"color: rgba(0, 0, 0, 1);\">; }\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">string</span> TargetRegion { <span style=\"color: rgba(0, 0, 255, 1);\">get</span>; <span style=\"color: rgba(0, 0, 255, 1);\">private</span> <span style=\"color: rgba(0, 0, 255, 1);\">set</span><span style=\"color: rgba(0, 0, 0, 1);\">; }\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> PriceQueryDto(<span style=\"color: rgba(0, 0, 255, 1);\">string</span> productId, <span style=\"color: rgba(0, 0, 255, 1);\">string</span> productName, <span style=\"color: rgba(0, 0, 255, 1);\">string</span><span style=\"color: rgba(0, 0, 0, 1);\"> targetRegion)\n    {\n        ProductId </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> productId;\n        ProductName </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> productName;\n        TargetRegion </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> targetRegion;\n    }\n}</span></pre>\n</div>\n<h3><span><span>2.3 å®šä¹‰Agents&amp;Executors</span></span></h3>\n<p><span><strong>ï¼ˆ1ï¼‰ä»·æ ¼æŸ¥è¯¢ï¼š</strong>å°è£…å„å¤§ç”µå•†å¹³å°çš„ä»·æ ¼æŸ¥è¯¢é€»è¾‘ï¼Œæ¨¡æ‹Ÿå…¶APIå“åº”ï¼Œä»…ä»…åšæ¼”ç¤ºç”¨æ— å®é™…é€»è¾‘</span>ï¼š</p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">internal</span> <span style=\"color: rgba(0, 0, 255, 1);\">sealed</span> <span style=\"color: rgba(0, 0, 255, 1);\">class</span> PlatformPriceExecutor : Executor&lt;ChatMessage&gt;<span style=\"color: rgba(0, 0, 0, 1);\">\n{\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">private</span> <span style=\"color: rgba(0, 0, 255, 1);\">readonly</span> <span style=\"color: rgba(0, 0, 255, 1);\">string</span><span style=\"color: rgba(0, 0, 0, 1);\"> _instructions;\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">private</span> <span style=\"color: rgba(0, 0, 255, 1);\">readonly</span><span style=\"color: rgba(0, 0, 0, 1);\"> IChatClient _chatClient;\n\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> PlatformPriceExecutor(<span style=\"color: rgba(0, 0, 255, 1);\">string</span> id, IChatClient chatClient, <span style=\"color: rgba(0, 0, 255, 1);\">string</span><span style=\"color: rgba(0, 0, 0, 1);\"> platformInstructions)\n        : </span><span style=\"color: rgba(0, 0, 255, 1);\">base</span><span style=\"color: rgba(0, 0, 0, 1);\">(id)\n    {\n        _chatClient </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> chatClient;\n        _instructions </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> platformInstructions;\n    }\n\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">override</span> <span style=\"color: rgba(0, 0, 255, 1);\">async</span> ValueTask HandleAsync(ChatMessage message, IWorkflowContext context, CancellationToken cancellationToken = <span style=\"color: rgba(0, 0, 255, 1);\">default</span><span style=\"color: rgba(0, 0, 0, 1);\">)\n    {\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">var</span> messages = <span style=\"color: rgba(0, 0, 255, 1);\">new</span> List&lt;ChatMessage&gt;<span style=\"color: rgba(0, 0, 0, 1);\">\n        {\n            </span><span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\">(ChatRole.System, _instructions),\n            message\n        };\n\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">var</span> response = <span style=\"color: rgba(0, 0, 255, 1);\">await</span><span style=\"color: rgba(0, 0, 0, 1);\"> _chatClient.GetResponseAsync(messages, cancellationToken: cancellationToken);\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">var</span> replyMessage = <span style=\"color: rgba(0, 0, 255, 1);\">new</span> ChatMessage(ChatRole.Assistant, response.Text ?? <span style=\"color: rgba(0, 0, 255, 1);\">string</span><span style=\"color: rgba(0, 0, 0, 1);\">.Empty)\n        {\n            AuthorName </span>= <span style=\"color: rgba(0, 0, 255, 1);\">this</span><span style=\"color: rgba(0, 0, 0, 1);\">.Id\n        };\n\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">await</span><span style=\"color: rgba(0, 0, 0, 1);\"> context.SendMessageAsync(replyMessage, cancellationToken: cancellationToken);\n        Console.WriteLine($</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">âœ… {this.Id} å®ŒæˆæŸ¥è¯¢</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n    }\n}</span></pre>\n</div>\n<p><strong><span><span>ï¼ˆ2ï¼‰<span>å¹¿æ’­æŸ¥è¯¢è¯·æ±‚æ‰§è¡Œå™¨<span>ï¼š</span></span></span></span></strong><span>è´Ÿè´£å¹¿æ’­ä»·æ ¼æŸ¥è¯¢è¯·æ±‚åˆ°å„å¤§ç”µå•†å¹³å°å¹¶å‘æ”¾TurnTokenã€‚</span></p>\n<p><span>NOTEï¼šåªæœ‰å‘æ”¾äº†TurnTokenæ‰èƒ½çœŸæ­£å¼€å¯æ‰§è¡Œåç»­LLMèŠ‚ç‚¹ï¼</span></p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">internal</span> <span style=\"color: rgba(0, 0, 255, 1);\">sealed</span> <span style=\"color: rgba(0, 0, 255, 1);\">class</span> PriceQueryStartExecutor() : Executor&lt;PriceQueryDto&gt;<span style=\"color: rgba(0, 0, 0, 1);\">(nameof(PriceQueryStartExecutor))\n{\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">override</span> <span style=\"color: rgba(0, 0, 255, 1);\">async</span> ValueTask HandleAsync(PriceQueryDto query, IWorkflowContext context, CancellationToken cancellationToken = <span style=\"color: rgba(0, 0, 255, 1);\">default</span><span style=\"color: rgba(0, 0, 0, 1);\">)\n    {\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">var</span> userPrompt = $<span style=\"color: rgba(128, 0, 0, 1);\">@\"</span><span style=\"color: rgba(128, 0, 0, 1);\">å•†å“ID: {query.ProductId}\nå•†å“åç§°: {query.ProductName}\nç›®æ ‡åŒºåŸŸ: {query.TargetRegion}\n\nè¯·æŸ¥è¯¢è¯¥å•†å“åœ¨ä½ çš„å¹³å°ä¸Šçš„å½“å‰ä»·æ ¼ã€åº“å­˜çŠ¶æ€å’Œé…é€ä¿¡æ¯ã€‚</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">;\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">await</span> context.SendMessageAsync(<span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> ChatMessage(ChatRole.User, userPrompt), cancellationToken: cancellationToken);\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">await</span> context.SendMessageAsync(<span style=\"color: rgba(0, 0, 255, 1);\">new</span> TurnToken(emitEvents: <span style=\"color: rgba(0, 0, 255, 1);\">true</span><span style=\"color: rgba(0, 0, 0, 1);\">), cancellationToken: cancellationToken);\n\n        Console.WriteLine(</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">ğŸ“¡ Fan-out ä»·æ ¼æŸ¥è¯¢å¹¿æ’­å·²å‘é€</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n    }\n}</span></pre>\n</div>\n<p><strong><strong><span><span>ï¼ˆ3ï¼‰<span>å®šä»·èšåˆ<span>ï¼š</span></span></span></span></strong></strong><span>æ¨¡æ‹Ÿæ”¶é›†åˆ°æ‰€æœ‰å¹³å°çš„å®šä»·ä¹‹åæ‰§è¡Œçš„æ•°æ®èšåˆæ“ä½œã€‚</span></p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">internal</span> <span style=\"color: rgba(0, 0, 255, 1);\">sealed</span> <span style=\"color: rgba(0, 0, 255, 1);\">class</span> PricingStrategyExecutor : Executor&lt;ChatMessage&gt;<span style=\"color: rgba(0, 0, 0, 1);\">\n{\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">private</span> <span style=\"color: rgba(0, 0, 255, 1);\">readonly</span> List&lt;ChatMessage&gt; _messages =<span style=\"color: rgba(0, 0, 0, 1);\"> [];\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">private</span> <span style=\"color: rgba(0, 0, 255, 1);\">readonly</span> <span style=\"color: rgba(0, 0, 255, 1);\">int</span><span style=\"color: rgba(0, 0, 0, 1);\"> _targetCount;\n\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> PricingStrategyExecutor(<span style=\"color: rgba(0, 0, 255, 1);\">int</span> targetCount) : <span style=\"color: rgba(0, 0, 255, 1);\">base</span><span style=\"color: rgba(0, 0, 0, 1);\">(nameof(PricingStrategyExecutor))\n    {\n        _targetCount </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> targetCount;\n    }\n\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">override</span> <span style=\"color: rgba(0, 0, 255, 1);\">async</span> ValueTask HandleAsync(ChatMessage message, IWorkflowContext context, CancellationToken cancellationToken = <span style=\"color: rgba(0, 0, 255, 1);\">default</span><span style=\"color: rgba(0, 0, 0, 1);\">)\n    {\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">this</span><span style=\"color: rgba(0, 0, 0, 1);\">._messages.Add(message);\n        Console.WriteLine($</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">ğŸ“Š å·²æ”¶é›† {_messages.Count}/{_targetCount} ä¸ªå¹³å°æ•°æ® - æ¥è‡ª {message.AuthorName}</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">if</span> (<span style=\"color: rgba(0, 0, 255, 1);\">this</span>._messages.Count == <span style=\"color: rgba(0, 0, 255, 1);\">this</span><span style=\"color: rgba(0, 0, 0, 1);\">._targetCount)\n        {\n            </span><span style=\"color: rgba(0, 0, 255, 1);\">var</span> platformData = <span style=\"color: rgba(0, 0, 255, 1);\">string</span>.Join(<span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">\\n</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span>, <span style=\"color: rgba(0, 0, 255, 1);\">this</span>._messages.Select(m =&gt; $<span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">â€¢ {m.AuthorName}: {m.Text}</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">));\n            </span><span style=\"color: rgba(0, 0, 255, 1);\">var</span> strategyReport = $<span style=\"color: rgba(128, 0, 0, 1);\">@\"</span><span style=\"color: rgba(128, 0, 0, 1);\">â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ“Š å¤šå¹³å°ä»·æ ¼æ±‡æ€»ï¼ˆå…± {this._messages.Count} ä¸ªå¹³å°ï¼‰\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n{platformData}\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ’¡ æ™ºèƒ½å®šä»·å»ºè®®\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nåŸºäºä»¥ä¸Šæ•°æ®ï¼Œå»ºè®®åˆ†æç«äº‰å¯¹æ‰‹ä»·æ ¼åŒºé—´ï¼Œåˆ¶å®šå·®å¼‚åŒ–å®šä»·ç­–ç•¥ã€‚\nè€ƒè™‘å› ç´ ï¼šåº“å­˜å‹åŠ›ã€é…é€æˆæœ¬ã€å¹³å°ä½£é‡‘ç‡ã€ç›®æ ‡åˆ©æ¶¦ç‡ã€‚</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">;\n\n            </span><span style=\"color: rgba(0, 0, 255, 1);\">await</span><span style=\"color: rgba(0, 0, 0, 1);\"> context.YieldOutputAsync(strategyReport, cancellationToken);\n\n            Console.WriteLine(</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">âœ¨ Fan-in å®šä»·ç­–ç•¥ç”Ÿæˆå®Œæˆ</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n        }\n    }\n}</span></pre>\n</div>\n<h3>2.4 æ„å»ºå·¥ä½œæµ</h3>\n<p>ç°åœ¨ä¸‡äº‹ä¿±å¤‡ï¼Œåªæ¬ ä¸€ä¸ªWorkflowï¼Œç°åœ¨Let's do it!</p>\n<p>Step1: è·å–ChatClient</p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">var</span> chatClient = <span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> OpenAIClient(\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> ApiKeyCredential(openAIProvider.ApiKey),\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">new</span> OpenAIClientOptions { Endpoint = <span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> Uri(openAIProvider.Endpoint) })\n    .GetChatClient(openAIProvider.ModelId)\n    .AsIChatClient();</span></pre>\n</div>\n<p>Step2: å®ä¾‹åŒ–è‡ªå®šä¹‰Agent &amp; Executors</p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">var</span> amazonExecutor = <span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> PlatformPriceExecutor(\n    </span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">AmazonPriceAgent</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">,\n    chatClient,\n    </span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">ä½ æ˜¯Amazonå¹³å°ä»·æ ¼æŸ¥è¯¢Agentã€‚è¿”å›æ ¼å¼ï¼šä»·æ ¼=$XXXï¼Œåº“å­˜çŠ¶æ€=å……è¶³/ç´§å¼ ï¼Œé…é€è¯´æ˜=Primeä¼šå‘˜å…è¿è´¹/æ ‡å‡†é…é€ã€‚</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">\n);\n</span><span style=\"color: rgba(0, 0, 255, 1);\">var</span> ebayExecutor = <span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> PlatformPriceExecutor(\n    </span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">eBayPriceAgent</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">,\n    chatClient,\n    </span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">ä½ æ˜¯eBayå¹³å°ä»·æ ¼æŸ¥è¯¢Agentã€‚è¿”å›æ ¼å¼ï¼šä»·æ ¼=$XXXï¼Œå•†å“çŠ¶æ€=å…¨æ–°/äºŒæ‰‹XXæ–°ï¼Œè¿è´¹è¯´æ˜=åŒ…é‚®/ä¹°å®¶æ‰¿æ‹…ã€‚</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">\n);\n</span><span style=\"color: rgba(0, 0, 255, 1);\">var</span> shopeeExecutor = <span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> PlatformPriceExecutor(\n    </span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">ShopeePriceAgent</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">,\n    chatClient,\n    </span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">ä½ æ˜¯Shopeeå¹³å°ä»·æ ¼æŸ¥è¯¢Agentã€‚è¿”å›æ ¼å¼ï¼šä»·æ ¼=$XXXï¼ˆå«ç¨ï¼‰ï¼ŒåŒºåŸŸ=ä¸œå—äºš/å°æ¹¾ï¼Œä¿ƒé”€ä¿¡æ¯=æ»¡å‡æ´»åŠ¨/æ— ã€‚</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">\n);\n</span><span style=\"color: rgba(0, 0, 255, 1);\">var</span> startExecutor = <span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> PriceQueryStartExecutor();\n</span><span style=\"color: rgba(0, 0, 255, 1);\">var</span> strategyExecutor = <span style=\"color: rgba(0, 0, 255, 1);\">new</span> PricingStrategyExecutor(<span style=\"color: rgba(128, 0, 128, 1);\">3</span>);</pre>\n</div>\n<p>Step3: åˆ›å»ºå¹¶è¡Œæ‰§è¡Œå·¥ä½œæµ</p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">var</span> workflow = <span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> WorkflowBuilder(startExecutor)\n        .AddFanOutEdge(startExecutor, [amazonExecutor, ebayExecutor, shopeeExecutor])\n        .AddFanInEdge([amazonExecutor, ebayExecutor, shopeeExecutor], strategyExecutor)\n        .WithOutputFrom(strategyExecutor)\n        .Build();\nConsole.OutputEncoding </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> Encoding.UTF8;\nConsole.WriteLine(</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">âœ… Loop Workflow æ„å»ºå®Œæˆ</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span>);</pre>\n</div>\n<h3><span><span>2.5 æµ‹è¯•å·¥ä½œæµ</span></span></h3>\n<p><span><span>å®šä¹‰æŸ¥è¯¢çš„å•†å“æ˜¯IPhone15ï¼š</span></span></p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">var</span> priceQuery = <span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> PriceQueryDto(\n    productId: </span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">IPHONE15-PRO-256</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">,\n    productName: </span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">iPhone 15 Pro 256GB</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">,\n    targetRegion: </span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">US</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">\n);</span></pre>\n</div>\n<p><span><span>é€šè¿‡Streamingæµå¼æ‰§è¡Œï¼š</span></span></p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">await</span> <span style=\"color: rgba(0, 0, 255, 1);\">using</span> (<span style=\"color: rgba(0, 0, 255, 1);\">var</span> run = <span style=\"color: rgba(0, 0, 255, 1);\">await</span><span style=\"color: rgba(0, 0, 0, 1);\"> InProcessExecution.StreamAsync(workflow, priceQuery))\n{\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">await</span> <span style=\"color: rgba(0, 0, 255, 1);\">foreach</span> (<span style=\"color: rgba(0, 0, 255, 1);\">var</span> evt <span style=\"color: rgba(0, 0, 255, 1);\">in</span><span style=\"color: rgba(0, 0, 0, 1);\"> run.WatchStreamAsync())\n    {\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">switch</span><span style=\"color: rgba(0, 0, 0, 1);\"> (evt)\n        {\n            </span><span style=\"color: rgba(0, 0, 255, 1);\">case</span><span style=\"color: rgba(0, 0, 0, 1);\"> ExecutorInvokedEvent started:\n                Console.WriteLine($</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">ğŸš€ {started.ExecutorId} å¼€å§‹è¿è¡Œ</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n                </span><span style=\"color: rgba(0, 0, 255, 1);\">break</span><span style=\"color: rgba(0, 0, 0, 1);\">;\n            </span><span style=\"color: rgba(0, 0, 255, 1);\">case</span><span style=\"color: rgba(0, 0, 0, 1);\"> ExecutorCompletedEvent completed:\n                Console.WriteLine($</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">âœ… {completed.ExecutorId} ç»“æŸè¿è¡Œ</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n                </span><span style=\"color: rgba(0, 0, 255, 1);\">break</span><span style=\"color: rgba(0, 0, 0, 1);\">;\n            </span><span style=\"color: rgba(0, 0, 255, 1);\">case</span><span style=\"color: rgba(0, 0, 0, 1);\"> WorkflowOutputEvent outputEvent:\n                Console.WriteLine(</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">ğŸ‰ Fan-in æ±‡æ€»è¾“å‡ºï¼š</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n                Console.WriteLine($</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">{outputEvent.Data}</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n                </span><span style=\"color: rgba(0, 0, 255, 1);\">break</span><span style=\"color: rgba(0, 0, 0, 1);\">;\n            </span><span style=\"color: rgba(0, 0, 255, 1);\">case</span><span style=\"color: rgba(0, 0, 0, 1);\"> WorkflowErrorEvent errorEvent:\n                Console.WriteLine(</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">âœ¨ æ”¶åˆ° Workflow Error Eventï¼š</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n                Console.WriteLine($</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">{errorEvent.Data}</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n                </span><span style=\"color: rgba(0, 0, 255, 1);\">break</span><span style=\"color: rgba(0, 0, 0, 1);\">;\n        }\n    }\n}</span></pre>\n</div>\n<p>æµ‹è¯•ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>\n<p><img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/381412/202601/381412-20260104200929287-1279437489.png\" style=\"display: block; margin-left: auto; margin-right: auto;\" /></p>\n<p>å¯ä»¥çœ‹è§ï¼Œç»è¿‡å¹¶è¡Œæ‰§è¡Œä»·æ ¼æŸ¥è¯¢åï¼Œç”±èšåˆæ‰§è¡Œå™¨è¿›è¡Œäº†ä»·æ ¼æ±‡æ€»å¹¶å‘é€ç»™LLMè¿›è¡Œäº†æœ€ç»ˆçš„å®šä»·å»ºè®®ã€‚</p>\n<h1><strong><span>3 å°ç»“</span></strong></h1>\n<p>æœ¬æ–‡ä»‹ç»äº†MAFä¸­å¹¶è¡Œå·¥ä½œæµä»¥åŠå¦‚ä½•å®ç°â€œFan-Out/Fan-In<span><span><span>â€çš„å·¥ä½œæ¨¡å¼ï¼Œæœ€åé€šè¿‡ä¸€ä¸ªè·¨å¢ƒç”µå•†ä»·æ ¼æŸ¥è¯¢æ™ºèƒ½å®šä»·çš„æ¡ˆä¾‹ä»‹ç»äº†è¿™ç§æ¨¡å¼çš„ä»£ç å®ç°ã€‚</span></span></span></p>\n<p>ä¸‹ä¸€ç¯‡ï¼Œæˆ‘ä»¬å°†ç»§ç»­å­¦ä¹ MAFä¸­å·¥ä½œæµçš„å¤šé€‰è·¯ç”±å·¥ä½œæµã€‚</p>\n<h1>ç¤ºä¾‹æºç </h1>\n<p>GitHub:&nbsp;<a href=\"https://github.com/EdisonTalk/MAFD\" rel=\"noopener nofollow\" target=\"_blank\">https://github.com/EdisonTalk/MAFD</a></p>\n<h1>å‚è€ƒèµ„æ–™</h1>\n<p><span><span>åœ£æ°ï¼Œã€Š<a href=\"https://www.cnblogs.com/sheng-jie/p/19200934\" target=\"_blank\">.NET + AI æ™ºèƒ½ä½“å¼€å‘è¿›é˜¶</a>ã€‹ï¼ˆæ¨èæŒ‡æ•°ï¼šâ˜…â˜…â˜…â˜…â˜…ï¼‰</span></span></p>\n<p><span><span>Microsoft Learnï¼Œ<span>ã€Š<a href=\"https://learn.microsoft.com/en-us/agent-framework/overview/agent-framework-overview?wt.mc_id=MVP_397012\" rel=\"noopener nofollow\" target=\"_blank\">Agent Framework Tutorials</a>ã€‹</span></span></span></p>\n<div><span><span>&nbsp;</span></span></div>\n<p style=\"text-align: center;\"><img alt=\"\" src=\"https://images.cnblogs.com/cnblogs_com/edisonchou/1647700/o_200902144330EdisonTalk-Footer.jpg\" /></p>\n<div id=\"Copyright\">\n<p>ä½œè€…ï¼š<span style=\"text-decoration: underline;\">çˆ±è¿ªç”Ÿ</span></p>\n<p>å‡ºå¤„ï¼š<a href=\"https://edisontalk.cnblogs.com\" target=\"_blank\" title=\"from\">https://edisontalk.cnblogs.com</a></p>\n<p>æœ¬æ–‡ç‰ˆæƒå½’ä½œè€…å’Œåšå®¢å›­å…±æœ‰ï¼Œæ¬¢è¿è½¬è½½ï¼Œä½†æœªç»ä½œè€…åŒæ„å¿…é¡»ä¿ç•™æ­¤æ®µå£°æ˜ï¼Œä¸”åœ¨æ–‡ç« é¡µé¢æ˜æ˜¾ä½ç½®ç»™å‡ºåŸæ–‡é“¾æ¥ã€‚</p>\n</div>\n</div>\n<div id=\"MySignature\">\n    <div align=\"center\"><a href=\"https://weibo.com/u/2068032061?s=6uyXnP\" target=\"_blank\"><img border=\"0\" src=\"http://service.t.sina.com.cn/widget/qmd/2068032061/d643d182/10.png\" /></a></div>\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-09 18:30</span>&nbsp;\n<a href=\"https://www.cnblogs.com/edisontalk\">EdisonZhou</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">9</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "EF Coreè‡ªå®šä¹‰æ˜ å°„PostgreSQLåŸç”Ÿå‡½æ•°",
      "link": "https://www.cnblogs.com/netry/p/19452236/efcore_jsonb_extract_path_text_in_postgredb",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/netry/p/19452236/efcore_jsonb_extract_path_text_in_postgredb\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-09 15:09\">\n    <span>EF Coreè‡ªå®šä¹‰æ˜ å°„PostgreSQLåŸç”Ÿå‡½æ•°</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h1 id=\"èƒŒæ™¯\">èƒŒæ™¯</h1>\n<p>åœ¨ ASP.NET Core åº”ç”¨å¼€å‘ä¸­ï¼Œä½¿ç”¨ PostgreSQLçš„<code>jsonb</code>ç±»å‹å­˜å‚¨å¤šè¯­è¨€æ•°æ®æ˜¯ä¸€ç§å¸¸è§çš„æ–¹æ¡ˆã€‚è¿™ç§æ–¹å¼ç›¸æ¯”ä¼ ç»Ÿçš„å¤šåˆ—å­˜å‚¨æˆ–ç‹¬ç«‹ç¿»è¯‘è¡¨ï¼Œåœ¨æ¨¡å¼å®šä¹‰ä¸Šæ›´åŠ çµæ´»ã€‚</p>\n<p>ä¾‹å¦‚ï¼Œå¯¹äºä¸€ä¸ªåŒ…å«å¤šè¯­è¨€ç®€ä»‹çš„â€œè‰ºæœ¯å®¶â€å®ä½“ï¼Œæˆ‘ä»¬é€šå¸¸å¦‚ä¸‹å®šä¹‰ï¼š</p>\n<pre class=\"language-cs\"><code class=\"language-cs\">public class ArtistEntity \n{\n    public int Id { get; set; }\n\n    // ä½¿ç”¨ jsonb å­˜å‚¨å¤šè¯­è¨€å­—å…¸ï¼šKey=è¯­è¨€ä»£ç (en, zh-CN), Value=å†…å®¹\n    [Column(TypeName = \"jsonb\")] \n    public Dictionary&lt;string, string&gt; Biography { get; set; } = [];\n}</code></pre><h1 id=\"æ€§èƒ½è€ƒé‡\">æ€§èƒ½è€ƒé‡</h1>\n<p>è™½ç„¶å­˜å‚¨æ–¹ä¾¿ï¼Œä½†åœ¨è¯»å–æ—¶ä¼šé¢ä¸´æµé‡å’Œæ€§èƒ½é—®é¢˜ã€‚åœ¨å¤§å¤šæ•°ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œå‰ç«¯ä»…éœ€è¦å±•ç¤ºå½“å‰ç”¨æˆ·è¯­è¨€ï¼ˆå¦‚è‹±è¯­ï¼‰çš„å†…å®¹ã€‚å¦‚æœç›´æ¥æŸ¥è¯¢å®ä½“ï¼ŒEF Coreä¼šå°†åŒ…å«æ‰€æœ‰è¯­è¨€çš„JSONBå¯¹è±¡å®Œæ•´åŠ è½½åˆ°å†…å­˜ä¸­ã€‚å¯¹äºåŒ…å«å‡ åç§è¯­è¨€çš„é•¿æ–‡æœ¬å­—æ®µï¼Œè¿™ä¸ä»…æµªè´¹æ•°æ®åº“ I/Oï¼Œä¹Ÿå¢åŠ äº†ç½‘ç»œä¼ è¾“å¼€é”€ã€‚</p>\n<p>å°è¯•ä½¿ç”¨EF Coreçš„å­—å…¸ç´¢å¼•å™¨è¯­æ³•ï¼š</p>\n<pre class=\"language-cs\"><code class=\"language-cs\">// æœŸæœ›ç”Ÿæˆçš„ SQL æ˜¯ç›´æ¥å–å€¼\nvar bio = context.Artists.Select(x =&gt; x.Biography[\"en\"]).FirstOrDefault();</code></pre><p>æ ¹æ® <a href=\"https://www.npgsql.org/efcore/mapping/json.html?tabs=data-annotations%2Ccomplex-types%2Cjsondocument\" rel=\"noopener nofollow\" target=\"_blank\" title=\"Npgsql EF Core Provider\">Npgsql EF Core Provider</a> æ–‡æ¡£ï¼Œè™½ç„¶ Provider æä¾›äº†å¦‚<code>EF.Functions.JsonContains</code>ã€<code>EF.Functions.JsonExists</code>ç­‰ä¸°å¯Œçš„ JSONB æ“ä½œå‡½æ•°ï¼Œä½†åœ¨å¤„ç† Dictionary ç´¢å¼•å™¨çš„æŠ•å½±ç¿»è¯‘æ—¶ä»å­˜åœ¨å±€é™æ€§ã€‚åœ¨æŸäº›å¤æ‚çš„ Select æŠ•å½±ä¸­ï¼Œå®ƒå¯èƒ½æ— æ³•ç”Ÿæˆæœ€ä¼˜çš„<code> -&gt;&gt;</code> æ“ä½œç¬¦ï¼Œæˆ–è€…å¯¼è‡´æŸ¥è¯¢åœ¨å®¢æˆ·ç«¯æ±‚å€¼ã€‚</p>\n<p>ç›®å‰Npgsqlçš„<code>EF.Functions</code>ä¸­å¹¶æ²¡æœ‰ç›´æ¥å¯¹åº”<code>jsonb_extract_path_text</code>çš„æ–¹æ³•ï¼Œè€Œè¿™ä¸ªåŸç”Ÿå‡½æ•°æ°æ°æ˜¯è§£å†³æ­¤ç±»éœ€æ±‚æœ€ç›´æ¥çš„æ–¹å¼ã€‚å®ƒèƒ½åœ¨æ•°æ®åº“æœåŠ¡ç«¯å®Œæˆè§£æï¼Œä»…è¿”å›æŒ‡å®šè·¯å¾„çš„æ–‡æœ¬å€¼ã€‚</p>\n<h1 id=\"ä»€ä¹ˆæ˜¯-jsonb_extract_path_text\">ä»€ä¹ˆæ˜¯ jsonb_extract_path_textï¼Ÿ</h1>\n<p><code>jsonb_extract_path_text</code>æ˜¯PostgreSQLçš„åŸç”Ÿå‡½æ•°ï¼ˆç­‰åŒäºæ“ä½œç¬¦ <code>#&gt;&gt;</code>ï¼‰ï¼Œä¸“é—¨ç”¨äºä» JSON æ•°æ®ä¸­æ ¹æ®è·¯å¾„æå–æ–‡æœ¬ã€‚</p>\n<p>ç›¸æ¯”äºç›´æ¥è¿”å› JSON å¯¹è±¡ï¼Œå®ƒèƒ½ç›´æ¥è¿”å›çº¯æ–‡æœ¬ï¼ˆtext ç±»å‹ï¼‰ï¼Œéå¸¸é€‚åˆæå–å¤šè¯­è¨€å­—å…¸ä¸­çš„å•ä¸€è¯­è¨€å€¼ã€‚<br />\nå‡è®¾æ•°æ®åº“é‡Œçš„ <code>Biography</code> å­—æ®µå­˜å‚¨å¦‚ä¸‹ JSONï¼š</p>\n<pre><code>{\n  \"en\": \"Hello World\",\n  \"zh-CN\": \"ä½ å¥½ä¸–ç•Œ\",\n  \"fr\": \"Bonjour le monde\"\n}\n</code></pre>\n<p>å¦‚æœæˆ‘ä»¬åªæƒ³è·å–ä¸­æ–‡ç®€ä»‹ï¼š</p>\n<pre><code>-- ä½¿ç”¨å‡½æ•°æå– 'zh-CN' é”®çš„å€¼\nSELECT jsonb_extract_path_text(\"Biography\", 'zh-CN') \nFROM \"Artists\";\n\n-- ç»“æœä»…è¿”å›å­—ç¬¦ä¸²ï¼š \"ä½ å¥½ä¸–ç•Œ\"\n</code></pre>\n<p>è¿™ç§å¤„ç†æ–¹å¼å®Œå…¨åœ¨æ•°æ®åº“ç«¯å®Œæˆï¼Œä¼ è¾“åˆ°åº”ç”¨å±‚çš„åªæœ‰è¿™4ä¸ªå­—ç¬¦ï¼Œè€Œä¸æ˜¯åŒ…å«è‹±æ–‡å’Œæ³•æ–‡çš„å®Œæ•´JSON å¯¹è±¡ã€‚</p>\n<h1 id=\"è§£å†³æ–¹æ¡ˆæ˜ å°„è‡ªå®šä¹‰å‡½æ•°\">è§£å†³æ–¹æ¡ˆï¼šæ˜ å°„è‡ªå®šä¹‰å‡½æ•°</h1>\n<p>ä¸ºäº†åœ¨EF Coreä¸­ä½¿ç”¨<code>jsonb_extract_path_text</code>ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è‡ªå®šä¹‰å‡½æ•°æ˜ å°„æ¥å®ç°ã€‚</p>\n<h3 id=\"ä»€ä¹ˆæ˜¯-ef-coreè‡ªå®šä¹‰å‡½æ•°\">ä»€ä¹ˆæ˜¯ EF Coreè‡ªå®šä¹‰å‡½æ•°ï¼Ÿ</h3>\n<p>EF Core çš„è‡ªå®šä¹‰å‡½æ•°æ˜ å°„ï¼ˆUser-defined function mappingï¼‰å…è®¸å¼€å‘è€… C#æ–¹æ³•ç›´æ¥æ˜ å°„åˆ°æ•°æ®åº“ä¸­çš„ SQL å‡½æ•°ã€‚åœ¨ LINQ æŸ¥è¯¢ä¸­ä½¿ç”¨è¿™äº›è¢«æ˜ å°„çš„ C# æ–¹æ³•æ—¶ï¼ŒEF Coreä¸ä¼šåœ¨å®¢æˆ·ç«¯æ‰§è¡Œå®ƒä»¬ï¼Œè€Œæ˜¯å°†å®ƒä»¬â€œç¿»è¯‘â€æˆå¯¹åº”çš„ SQL ç‰‡æ®µå‘é€ç»™æ•°æ®åº“æ‰§è¡Œã€‚è¿™å°±åƒæ˜¯ç»™äº†ä½ ä¸€æŠŠé’¥åŒ™ï¼Œè®©ä½ èƒ½å¤Ÿä» C# ä»£ç ä¸­ç›´æ¥è°ƒç”¨æ•°æ®åº“ç‰¹æœ‰çš„ã€å¼ºå¤§çš„åŸç”Ÿèƒ½åŠ›ï¼ˆå¦‚ PostgreSQL çš„ JSON å¤„ç†ã€GIS åœ°ç†ä¿¡æ¯è®¡ç®—ç­‰ï¼‰ï¼Œè€Œæ— éœ€ç¼–å†™åŸç”Ÿçš„ SQL å­—ç¬¦ä¸²ã€‚</p>\n<h3 id=\"1-å®šä¹‰å‡½æ•°å­˜æ ¹\">1. å®šä¹‰å‡½æ•°å­˜æ ¹</h3>\n<p>åœ¨ C# ä¸­å®šä¹‰ä¸€ä¸ªé™æ€æ–¹æ³•ä½œä¸ºå­˜æ ¹ï¼ˆStubï¼‰ï¼Œç”¨äºå‘Šè¯‰ EF Core å³ä½¿ç¿»è¯‘ SQLã€‚</p>\n<pre class=\"language-cs\"><code class=\"language-cs\">public static class DbFunctionsExtensions\n{\n    // æ­¤æ–¹æ³•ä»…ç”¨äº EF Core æŸ¥è¯¢æ˜ å°„ï¼Œå®¢æˆ·ç«¯è°ƒç”¨æ—¶æŠ›å‡ºå¼‚å¸¸\n    public static string JsonExtractPathText(this Dictionary&lt;string, string&gt; json, string key)\n    {\n        throw new NotSupportedException(\"æ­¤æ–¹æ³•ä»…ç”¨äº EF Core æŸ¥è¯¢æ˜ å°„ï¼Œä¸å¯åœ¨å®¢æˆ·ç«¯æ‰§è¡Œã€‚\");\n    }\n}</code></pre><h3 id=\"2-é…ç½®æ¨¡å‹æ˜ å°„\">2. é…ç½®æ¨¡å‹æ˜ å°„</h3>\n<p>åœ¨ <code>OnModelCreating</code> ä¸­é€šè¿‡ Fluent API è¿›è¡Œæ˜ å°„å…³ç³»é…ç½®,  <code>HasDbFunction</code> å°†å…¶æ˜ å°„åˆ°æ•°æ®åº“å‡½æ•° <code>jsonb_extract_path_text</code>ã€‚</p>\n<pre class=\"language-cs\"><code class=\"language-cs\">protected override void OnModelCreating(ModelBuilder modelBuilder)\n{\n    modelBuilder.HasDbFunction(typeof(DbFunctionsExtensions)\n            .GetMethod(nameof(DbFunctionsExtensions.JsonExtractPathText),\n                [typeof(Dictionary&lt;string, string&gt;), typeof(string)])!)\n        .HasName(\"jsonb_extract_path_text\")\n        .IsBuiltIn();\n}</code></pre><p>æˆ–è€…ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>[DbFunction] </code>ç‰¹æ€§ç›´æ¥é…ç½®æ˜ å°„å…³ç³»ï¼Œè¿™æ ·ä»£ç æ›´åŠ ç´§å‡‘ã€‚</p>\n<pre class=\"language-cs\"><code class=\"language-cs\">using Microsoft.EntityFrameworkCore;\n\npublic static class DbFunctionsExtensions\n{\n    // æ˜ å°„åˆ° PostgreSQL çš„å†…ç½®å‡½æ•° jsonb_extract_path_text\n    [DbFunction(\"jsonb_extract_path_text\", IsBuiltIn = true)]\n    public static string JsonExtractPathText(this Dictionary&lt;string, string&gt; json, string key)\n    {\n       throw new NotSupportedException(\"æ­¤æ–¹æ³•ä»…ç”¨äº EF Core æŸ¥è¯¢æ˜ å°„ï¼Œä¸å¯åœ¨å®¢æˆ·ç«¯æ‰§è¡Œã€‚\");\n    }\n}</code></pre><h3 id=\"3-ä½¿ç”¨ç¤ºä¾‹\">3. ä½¿ç”¨ç¤ºä¾‹</h3>\n<p>é…ç½®å®Œæˆåï¼Œå¯ä»¥åœ¨ LINQ æŸ¥è¯¢ä¸­ç›´æ¥è°ƒç”¨è¯¥æ‰©å±•æ–¹æ³•ï¼š</p>\n<pre class=\"language-cs\"><code class=\"language-cs\">var query = db.Artists\n    .Select(entity =&gt; new \n    {\n        Id = entity.Id,\n        // æ•°æ®åº“ä»…è¿”å›å½“å‰è¯­è¨€çš„æ–‡æœ¬\n        Bio = entity.Biography.JsonExtractPathText(CultureInfo.CurrentUICulture.Name)\n    });</code></pre><p>ç”Ÿæˆçš„ SQL å°†è°ƒç”¨åŸç”Ÿ<code>jsonb_extract_path_text</code>å‡½æ•°ï¼Œé¿å…äº†å…¨é‡ä¼ è¾“ JSON æ•°æ®ã€‚<br />\n<img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1181943/202601/1181943-20260107143638710-1533499015.png\" /></p>\n<h2 id=\"ç´¢å¼•ä¼˜åŒ–ç­–ç•¥\">ç´¢å¼•ä¼˜åŒ–ç­–ç•¥</h2>\n<p>é’ˆå¯¹ JSONB å­—æ®µçš„æŸ¥è¯¢ä¼˜åŒ–ï¼Œéœ€è¦æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©åˆé€‚çš„ç´¢å¼•ç±»å‹ã€‚</p>\n<ol>\n<li>GIN ç´¢å¼•ï¼šé€‚ç”¨äºâ€œåŒ…å«â€ç±»æŸ¥è¯¢ï¼ˆå¦‚ Biography æ˜¯å¦åŒ…å« en é”®ï¼‰ã€‚</li>\n</ol>\n<pre><code>builder.Entity&lt;ArtistEntity&gt;()\n    .HasIndex(x =&gt; x.Biography)\n    .HasMethod(\"gin\");\n</code></pre>\n<ol start=\"2\">\n<li>å‡½æ•°ç´¢å¼• (B-Tree)ï¼šå¦‚æœä¸šåŠ¡ä¸­å­˜åœ¨å¤§é‡åŸºäºç‰¹å®šè¯­è¨€ï¼ˆå¦‚è‹±æ–‡åç§°ï¼‰çš„ç²¾ç¡®æŸ¥æ‰¾æˆ–æ’åºéœ€æ±‚ï¼ŒGIN ç´¢å¼•æ•ˆç‡è¾ƒä½ã€‚æ­¤æ—¶åº”é’ˆå¯¹çƒ­ç‚¹è¯­è¨€åˆ›å»ºå‡½æ•°ç´¢å¼•ï¼š</li>\n</ol>\n<pre><code>-- é’ˆå¯¹è‹±è¯­å†…å®¹å»ºç«‹ B-Tree ç´¢å¼•\nCREATE INDEX idx_artist_bio_en ON \"Artists\" (( \"Biography\" -&gt;&gt; 'en' ));\n</code></pre>\n<h2 id=\"é€‚ç”¨åœºæ™¯ä¸å±€é™æ€§\">é€‚ç”¨åœºæ™¯ä¸å±€é™æ€§</h2>\n<p>è™½ç„¶é€šè¿‡ <code>jsonb_extract_path_text</code> å¯ä»¥å‡å°‘ç½‘ç»œä¼ è¾“ï¼Œä½†è¿™å¹¶ä¸æ˜¯æ‰€æœ‰åœºæ™¯ä¸‹çš„ä¸‡èƒ½è§£ã€‚</p>\n<ul>\n<li>\n<p>é«˜å¹¶å‘è¯»å–ï¼šå³ä¾¿å‡å°‘äº†ä¼ è¾“é‡ï¼Œè§£æ JSONB åœ¨æ•°æ®åº“å±‚é¢ä¾ç„¶æœ‰ CPU å¼€é”€ã€‚å¦‚æœé¢ä¸´æé«˜å¹¶å‘çš„è¯»å–è¯·æ±‚ï¼ˆå¦‚é¦–é¡µçƒ­é—¨åˆ—è¡¨ï¼‰ï¼Œé¢‘ç¹è®©æ•°æ®åº“è§£æ JSON å¹¶ä¸æ˜¯æœ€ä¼˜è§£ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåº”å½“å¼•å…¥åº”ç”¨å±‚ç¼“å­˜ï¼ˆå¦‚ Redisï¼‰æˆ–ä½¿ç”¨ä¸“é—¨çš„æœç´¢å¼•æ“ï¼ˆå¦‚ Elasticsearchï¼‰ã€‚</p>\n</li>\n<li>\n<p>æ•°æ®ç»“æ„å¤æ‚åº¦ï¼šæ­¤æ–¹æ³•æœ€é€‚åˆæ‰å¹³çš„ Key-Value ç»“æ„ã€‚å¦‚æœ JSON ç»“æ„éå¸¸å¤æ‚ä¸”åµŒå¥—æ·±ï¼Œç»´æŠ¤è·¯å¾„æ˜ å°„ä¼šå˜å¾—å›°éš¾ã€‚</p>\n</li>\n<li>\n<p>æ•°æ®åº“è´Ÿè½½ï¼šå°†æ•°æ®å¤„ç†é€»è¾‘ä¸‹æ¨åˆ°æ•°æ®åº“è™½ç„¶æ–¹ä¾¿ï¼Œä½†ä¼šå¢åŠ æ•°æ®åº“ CPU è´Ÿè½½ã€‚åœ¨æ•°æ®åº“èµ„æºå·²æ˜¯ç“¶é¢ˆçš„ç³»ç»Ÿä¸­ï¼Œéœ€è°¨æ…ä½¿ç”¨ã€‚</p>\n</li>\n</ul>\n<p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬åœ¨ä¿æŒå¼€å‘ä¾¿åˆ©æ€§çš„åŒæ—¶ï¼Œé€šè¿‡åˆ©ç”¨æ•°æ®åº“åŸç”Ÿèƒ½åŠ›ï¼Œè§£å†³äº†ä¸€ä¸ªå…·ä½“çš„æ€§èƒ½é—®é¢˜ã€‚å¼€å‘è€…åº”æ ¹æ®å®é™…çš„æ•°æ®é‡çº§å’Œè®¿é—®æ¨¡å¼ï¼Œå†³å®šæ˜¯é‡‡ç”¨æ­¤ç›´è¿æ–¹æ¡ˆè¿˜æ˜¯å¼•å…¥æ›´å¤æ‚çš„ç¼“å­˜æ¶æ„ã€‚</p>\n<h1 id=\"å‚è€ƒé“¾æ¥\">å‚è€ƒé“¾æ¥</h1>\n<ul>\n<li><a href=\"https://learn.microsoft.com/en-us/ef/core/querying/user-defined-function-mapping\" rel=\"noopener nofollow\" target=\"_blank\">https://learn.microsoft.com/en-us/ef/core/querying/user-defined-function-mapping</a></li>\n<li><a href=\"https://github.com/npgsql/efcore.pg/issues/2703\" rel=\"noopener nofollow\" target=\"_blank\">https://github.com/npgsql/efcore.pg/issues/2703</a></li>\n</ul>\n\n</div>\n<div id=\"MySignature\">\n    \n\n  \n  <div id=\"MySignature1\" style=\"color: 0; font-size: small;\">\n            <p>\n          ä½œè€…ï¼š \n          <a href=\"https://www.cnblogs.com/netry/\"></a><a href=\"https://www.cnblogs.com/netry/\" target=\"_blank\">é©¬è¡Œç©ºçš„åšå®¢</a>\n      </p>\n      <p>\n          å‡ºå¤„ï¼š\n          <a href=\"https://www.cnblogs.com/netry/p/19452236/efcore_jsonb_extract_path_text_in_postgredb\" target=\"_blank\">https://www.cnblogs.com/netry/p/19452236/efcore_jsonb_extract_path_text_in_postgredb</a>\n      </p>\n       \n \n      <p>\n          æœ¬æ–‡ç‰ˆæƒå½’ä½œè€…å’Œåšå®¢å›­å…±æœ‰ï¼Œæ¬¢è¿è½¬è½½ï¼Œä½†æœªç»ä½œè€…åŒæ„å¿…é¡»ä¿ç•™æ­¤æ®µå£°æ˜ï¼Œä¸”åœ¨æ–‡ç« é¡µé¢æ˜æ˜¾ä½ç½®ç»™å‡ºåŸæ–‡é“¾æ¥ã€‚\n      </p>\n  </div>\n\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-09 15:09</span>&nbsp;\n<a href=\"https://www.cnblogs.com/netry\">é©¬è¡Œç©ºçš„åšå®¢</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">75</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "51å•ç‰‡æœº_æŒ‰é”®æ£€æµ‹",
      "link": "https://www.cnblogs.com/WIRO/p/19461450",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n\t\t\t<a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/WIRO/p/19461450\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-09 14:49\">\n    <span>51å•ç‰‡æœº_æŒ‰é”®æ£€æµ‹</span>\n    \n\n</a>\n\n\t\t</h1>\n\t\t<div class=\"clear\"></div>\n\t\t<div class=\"postBody\">\n\t\t\t<div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h1 id=\"51å•ç‰‡æœº_æŒ‰é”®æ£€æµ‹\">51å•ç‰‡æœº_æŒ‰é”®æ£€æµ‹</h1>\n<h2 id=\"ä¸€ç‹¬ç«‹æŒ‰é”®ä»‹ç»\">ä¸€ã€ç‹¬ç«‹æŒ‰é”®ä»‹ç»</h2>\n<p>è½»è§¦æŒ‰é”®ç›¸å½“äºæ˜¯ä¸€ç§ç”µå­å¼€å…³</p>\n<p>æŒ‰ä¸‹æ—¶å¼€å…³æ¥é€šï¼Œæ¾å¼€æ—¶å¼€å…³æ–­å¼€ï¼Œå®ç°åŸç†æ˜¯é€šè¿‡è½»è§¦æŒ‰é”®å†…éƒ¨çš„é‡‘å±å¼¹ç‰‡å—åŠ›å¼¹åŠ¨æ¥å®ç°æ¥é€šå’Œæ–­å¼€</p>\n<p><img alt=\"image-20260109110408710\" src=\"https://img2024.cnblogs.com/blog/3732387/202601/3732387-20260109144754276-1163410502.png\" /></p>\n<p><img alt=\"image-20260109110503289\" src=\"https://img2024.cnblogs.com/blog/3732387/202601/3732387-20260109144754526-1860924412.png\" /></p>\n<p>ç”±äºæœºæ¢°ç‚¹çš„å¼¹æ€§ä½œç”¨ï¼ŒæŒ‰é”®å¼€å…³åœ¨é—­åˆæ—¶ä¸ä¼šé©¬ä¸Šç¨³å®šçš„æ¥é€šï¼Œåœ¨æ–­å¼€æ—¶ä¹Ÿä¸ä¼šä¸€ä¸‹å­æ–­å¼€ã€‚å› è€Œåœ¨é—­åˆå’Œæ–­å¼€çš„ç¬é—´å‡ä¼´éšç€ä¸€è¿ä¸²çš„æŠ–åŠ¨ã€‚æŠ–åŠ¨æ—¶é—´çš„é•¿çŸ­ç”±æŒ‰é”®çš„æœºæ¢°ç‰¹æ€§å†³å®šï¼Œä¸€èˆ¬ä¸º5msåˆ°10msã€‚</p>\n<p>æŒ‰é”®ç¨³å®šé—­åˆæ—¶é—´çš„é•¿çŸ­ç”±æ“ä½œäººå‘˜çš„æŒ‰é”®åŠ¨ä½œå†³å®šï¼Œä¸€èˆ¬ä¸ºé›¶ç‚¹å‡ ç§’è‡³æ•°ç§’ã€‚æŒ‰é”®æŠ–åŠ¨ä¼šå¼•èµ·æŒ‰é”®è¢«è¯¯è¯»å¤šæ¬¡ã€‚ä¸ºäº†ç¡®ä¿CPUå¯¹æŒ‰é”®çš„ä¾æ¬¡é—­åˆä»…ä½œä¸€æ¬¡å¤„ç†ï¼Œå¿…é¡»åŠæ—¶è¿›è¡Œæ¶ˆæŠ–ã€‚</p>\n<p>æŒ‰é”®æ¶ˆæŠ–æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯ç¡¬ä»¶æ¶ˆæŠ–ï¼Œå¦ä¸€ç§æ˜¯è½¯ä»¶æ¶ˆæŠ–ã€‚ä¸ºäº†ä½¿ç”µè·¯æ›´åŠ ç®€å•ï¼Œé€šå¸¸é‡‡ç”¨è½¯ä»¶æ¶ˆæŠ–ã€‚</p>\n<p>è½¯ä»¶æ¶ˆæŠ–ä¸€èˆ¬æ¥è¯´ä¸€ä¸ªç®€å•çš„æŒ‰é”®æ¶ˆæŠ–å°±æ˜¯å…ˆè¯»å–æŒ‰é”®çš„çŠ¶æ€ï¼Œå¦‚æœå¾—åˆ°æŒ‰é”®æŒ‰ä¸‹ä¹‹åï¼Œå»¶æ—¶10msï¼Œå†æ¬¡è¯»å–æŒ‰é”®çŠ¶æ€ï¼Œå¦‚æœæŒ‰é”®è¿˜æ˜¯æŒ‰ä¸‹çŠ¶æ€ï¼Œé‚£ä¹ˆè¯´æ˜æŒ‰é”®å·²ç»æŒ‰ä¸‹ã€‚å…¶ä¸­çš„å»¶æ—¶10mså°±æ˜¯è½¯ä»¶æ¶ˆæŠ–å¤„ç†ã€‚</p>\n<p>å¸¸ç”¨çš„è½¯ä»¶å»æŠ–åŠ¨æ–¹æ³•ï¼š</p>\n<ol>\n<li>å…ˆè®¾ç½®IOå£ä¸ºé«˜ç”µå¹³ï¼Œç”±äºå¼€å‘æ¿IOæœ‰ä¸Šæ‹‰ç”µé˜»ï¼Œé»˜è®¤IOä¸ºé«˜ç”µå¹³ï¼›</li>\n<li>è¯»å–IOå£ç”µå¹³ç¡®è®¤æ˜¯å¦æœ‰æŒ‰é”®æŒ‰ä¸‹ï¼›</li>\n<li>å¦‚æœæœ‰IOç”µå¹³ä¸ºä½ç”µå¹³åï¼Œå»¶æ—¶å‡ ä¸ªæ¯«ç§’ï¼›</li>\n<li>å†è¯»å–è¯¥IOç”µå¹³ï¼Œå¦‚æœä»ä¸ºä½ç”µå¹³ï¼Œè¯´æ˜æŒ‰é”®æŒ‰ä¸‹ï¼›</li>\n<li>æ‰§è¡Œç›¸åº”æŒ‰é”®çš„ç¨‹åºï¼›</li>\n</ol>\n<h2 id=\"äºŒç‹¬ç«‹æŒ‰é”®æ£€æµ‹åŸç†\">äºŒã€ç‹¬ç«‹æŒ‰é”®æ£€æµ‹åŸç†</h2>\n<p>ç‹¬ç«‹æŒ‰é”®ç”µè·¯æ„æˆæ˜¯ç”±å„ä¸ªæŒ‰é”®çš„ä¸€ä¸ªç®¡è„šè¿æ¥åœ¨ä¸€èµ·æ¥åœ°ï¼ŒæŒ‰é”®å…¶å®ƒå¼•è„šåˆ†åˆ«æ¥åˆ°å•ç‰‡æœºIOå£ã€‚</p>\n<p>å•ç‰‡æœºçš„IOå£æ—¢å¯ä½œä¸ºè¾“å‡ºä¹Ÿå¯ä½œä¸ºè¾“å…¥ä½¿ç”¨ï¼Œå½“æ£€æµ‹æŒ‰é”®æ—¶ç”¨çš„æ˜¯å®ƒçš„è¾“å…¥åŠŸèƒ½ï¼Œç‹¬ç«‹æŒ‰é”®çš„ä¸€ç«¯æ¥åœ°ï¼Œå¦ä¸€ç«¯ä¸å•ç‰‡æœºçš„æŸä¸ªIOå£ç›¸è¿ï¼Œå¼€å§‹æ—¶å…ˆç»™IOå£èµ‹ä¸€é«˜ç”µå¹³ï¼Œç„¶åè®©å•ç‰‡æœºä¸æ–­æ£€æµ‹è¯¥IOå£æ˜¯å¦å˜ä¸ºä½ç”µå¹³ï¼Œå½“æŒ‰é”®é—­åˆæ—¶ï¼Œç›¸å½“äºè¯¥IOå£é€šè¿‡æŒ‰é”®ä¸åœ°ç›¸è¿ï¼Œå˜æˆä½ç”µå¹³ï¼Œç¨‹åºä¸€æ—¦æ£€æµ‹åˆ°IOå£å˜ä¸ºä½ç”µå¹³åˆ™è¯´æ˜æŒ‰é”®è¢«æŒ‰ä¸‹ï¼Œç„¶åæ‰§è¡Œç›¸åº”çš„æŒ‡ä»¤ã€‚</p>\n<p><img alt=\"image-20260109110908433\" src=\"https://img2024.cnblogs.com/blog/3732387/202601/3732387-20260109144754146-1606670533.png\" /></p>\n<h2 id=\"ä¸‰ç‹¬ç«‹æŒ‰é”®åº”ç”¨å®è·µ\">ä¸‰ã€ç‹¬ç«‹æŒ‰é”®åº”ç”¨å®è·µ</h2>\n<h3 id=\"1å®ç°æŒ‰é”®æ§åˆ¶ledåŠŸèƒ½\">1ï¼‰å®ç°æŒ‰é”®æ§åˆ¶LEDåŠŸèƒ½</h3>\n<pre><code class=\"language-c\">#include &lt;REGX52.H&gt;\n#include \"Delay.h\"\n\n/**\n * ä¸»å‡½æ•°\n */\nvoid main()\n{\n\twhile(1)\n\t{\n\t\tif(P3_1 == 0)  \t\t\t  // å¦‚æœK1æŒ‰é”®æŒ‰ä¸‹ï¼Œåˆ™ä¸ºä½ç”µå¹³\n\t\t{\n\t\t\tDelay(20);\t\t\t  // å»¶æ—¶æ¶ˆæŠ–\n\t\t\twhile(P3_1 == 0);\t  // æ¾æ‰‹æ£€æµ‹\n\t\t\tDelay(20);\t\t\t  // å»¶æ—¶æ¶ˆæŠ–\n\t\t\n\t\t\tP2_0 = ~P2_0;\t\t  // LED1 å–å\n\t\t}\n\t}\n}\n</code></pre>\n<p>è¿™æ®µä»£ç ä¾æ—§å­˜åœ¨ä¸çµæ•çš„æƒ…å†µï¼Œä¸‹é¢æ˜¯æ”¹è¿›ï¼š</p>\n<pre><code class=\"language-c\">#include &lt;REGX52.H&gt;\n#include \"Delay.h\"\n\nvoid main()\n{\n    while(1)\n    {\n        if(P3_1 == 0)              // æ£€æµ‹æŒ‰é”®æ˜¯å¦æŒ‰ä¸‹\n        {\n            Delay(10);             // å»¶æ—¶æ¶ˆæŠ–\n            if(P3_1 == 0)          // å†æ¬¡ç¡®è®¤æŒ‰é”®ç¡®å®æŒ‰ä¸‹\n            {\n                P2_0 = ~P2_0;      // æ‰§è¡ŒLEDå–å\n                \n                // ç­‰å¾…æŒ‰é”®é‡Šæ”¾ï¼Œé¿å…è¿æŒ‰\n                while(P3_1 == 0);  // ç­‰å¾…æŒ‰é”®æ¾å¼€\n            }\n        }\n    }\n}\n</code></pre>\n<h3 id=\"2æŒ‰é”®æ§åˆ¶ledç¯äºŒè¿›åˆ¶æ˜¾ç¤º\">2ï¼‰æŒ‰é”®æ§åˆ¶LEDç¯äºŒè¿›åˆ¶æ˜¾ç¤º</h3>\n<pre><code class=\"language-c\">#include &lt;REGX52.H&gt;\n#include \"Delay.h\"\n\nvoid main()\n{\n\tunsigned char LEDNum=0;\n\twhile(1)\n\t{\n\t\tif(P3_1==0)\t\t\t\t\t//å¦‚æœK1æŒ‰é”®æŒ‰ä¸‹\n\t\t{\n\t\t\tDelay(10);\t\t\t\t//å»¶æ—¶æ¶ˆæŠ–\n\t\t\tif(P3_1==0)\n\t\t\t{\n\t\t\t  LEDNum++;\t\t\t\t//å˜é‡è‡ªå¢\n\t\t\t  P2=~LEDNum;\t\t\t//å˜é‡å–åè¾“å‡ºç»™LED\n\t\t\t\twhile(P3_1==0);\t    //æ¾æ‰‹æ£€æµ‹\n\t\t\t}\n\t\t}\n\t}\n}\n\n//  å®ç°åŸç†ï¼š\n//  +000  LEDNum 0000 0000  \tå–å â€”&gt;  1111 1111\n//  +001  LEDNum 0000 0001  \tå–å â€”&gt;  1111 1110\n//  +002  LEDNum 0000 0010  \tå–å â€”&gt;  1111 1101\n//  +003  LEDNum 0000 0011  \tå–å â€”&gt;  1111 1100\n//  Â·Â·Â·\n//  +255  LEDNum 1111 1111  \tå–å â€”&gt;  0000 0000\n//  +256  æº¢å‡º -&gt; LEDNum 0000 0000  é‡æ–°å¼€å§‹è®¡æ•°\n</code></pre>\n<h3 id=\"3æŒ‰é”®å®ç°ledå·¦å³ç§»åŠ¨\">3ï¼‰æŒ‰é”®å®ç°LEDå·¦å³ç§»åŠ¨</h3>\n<pre><code class=\"language-c\">#include &lt;REGX52.H&gt;\n#include \"Delay.h\"\n\nunsigned char LEDNum;\n\nvoid main()\n{\n\tP2=~0x01;\t\t\t\t\t//ä¸Šç”µé»˜è®¤LED1ç‚¹äº® 0000 0001 å–å -&gt; 1111 1110\n\twhile(1)\n\t{\n\t\tif(P3_0==0)\t\t\t    //å¦‚æœK1æŒ‰é”®æŒ‰ä¸‹ï¼Œå³ç§»\n\t\t{ \n\t\t\tDelay(20);\n\t\t\twhile(P3_0==0);\n\t\t\tDelay(20);\n\t\t\t\n\t\t\tLEDNum++;\t\t\t //LEDNumè‡ªå¢\n\t\t\tif(LEDNum&gt;=8)\t\t //é™åˆ¶LEDNumè‡ªå¢èŒƒå›´\n\t\t\t\tLEDNum=0;\n\t\t\tP2=~(0x01&lt;&lt;LEDNum);\t //LEDçš„ç¬¬LEDNumä½ç‚¹äº®\n\t\t}\n\t\tif(P3_1==0)\t\t\t\t //å¦‚æœK2æŒ‰é”®æŒ‰ä¸‹ï¼Œå·¦ç§»\n\t\t{\n\t\t\tDelay(20);\n\t\t\twhile(P3_1==0);\n\t\t\tDelay(20);\n\t\t\t\n\t\t\tif(LEDNum==0)\t\t //LEDNumå‡åˆ°0åå˜ä¸º7\n\t\t\t\tLEDNum=7;\n\t\t\telse\t\t\t\t //LEDNumæœªå‡åˆ°0ï¼Œè‡ªå‡\n\t\t\t\tLEDNum--;\n\t\t\tP2=~(0x01&lt;&lt;LEDNum);  //LEDçš„ç¬¬LEDNumä½ç‚¹äº®\n\t\t}\n\t}\n}\n</code></pre>\n<p><code>P2=~(0x01&lt;&lt;LEDNum);</code>  å®ç°åŸç†å¦‚ä¸‹ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>LEDNum</th>\n<th>0x01 &lt;&lt; LEDNum (äºŒè¿›åˆ¶)</th>\n<th>å–åå (äºŒè¿›åˆ¶)</th>\n<th>æ•ˆæœè¯´æ˜</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0</td>\n<td><code>0000 0001</code></td>\n<td><code>1111 1110</code></td>\n<td>LED0äº®ï¼Œå…¶ä»–ç­</td>\n</tr>\n<tr>\n<td>1</td>\n<td><code>0000 0010</code></td>\n<td><code>1111 1101</code></td>\n<td>LED1äº®ï¼Œå…¶ä»–ç­</td>\n</tr>\n<tr>\n<td>2</td>\n<td><code>0000 0100</code></td>\n<td><code>1111 1011</code></td>\n<td>LED2äº®ï¼Œå…¶ä»–ç­</td>\n</tr>\n<tr>\n<td>3</td>\n<td><code>0000 1000</code></td>\n<td><code>1111 0111</code></td>\n<td>LED3äº®ï¼Œå…¶ä»–ç­</td>\n</tr>\n<tr>\n<td>4</td>\n<td><code>0001 0000</code></td>\n<td><code>1110 1111</code></td>\n<td>LED4äº®ï¼Œå…¶ä»–ç­</td>\n</tr>\n<tr>\n<td>5</td>\n<td><code>0010 0000</code></td>\n<td><code>1101 1111</code></td>\n<td>LED5äº®ï¼Œå…¶ä»–ç­</td>\n</tr>\n<tr>\n<td>6</td>\n<td><code>0100 0000</code></td>\n<td><code>1011 1111</code></td>\n<td>LED6äº®ï¼Œå…¶ä»–ç­</td>\n</tr>\n<tr>\n<td>7</td>\n<td><code>1000 0000</code></td>\n<td><code>0111 1111</code></td>\n<td>LED7äº®ï¼Œå…¶ä»–ç­</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"å››çŸ©é˜µæŒ‰é”®\">å››ã€çŸ©é˜µæŒ‰é”®</h2>\n<p>ç‹¬ç«‹é”®ç›˜ä¸å•ç‰‡æœºè¿æ¥æ—¶ï¼Œæ¯ä¸€ä¸ªæŒ‰é”®éƒ½éœ€è¦å•ç‰‡æœºçš„ä¸€ä¸ªI/Oå£ã€‚è‹¥æŸå•ç‰‡æœºç³»ç»Ÿéœ€è¦è¾ƒå¤šæŒ‰é”®ï¼Œå¦‚æœç”¨ç‹¬ç«‹æŒ‰é”®ä¾¿ä¼šå ç”¨è¿‡å¤šçš„I/Oå£èµ„æºã€‚</p>\n<p>å½“ç”¨åˆ°å¤šä¸ªæŒ‰é”®æ—¶ï¼Œä¸ºäº†å‡å°‘I/Oå£å¼•è„šï¼Œå¼•å…¥äº†çŸ©é˜µæŒ‰é”®ã€‚æ¯”å¦‚4*4çŸ©é˜µé”®ç›˜ã€‚</p>\n<p>å¯¹äº4*4çŸ©é˜µé”®ç›˜ï¼Œå¼€å‘æ¿ä¸Šé€šå¸¸å°†16ä¸ªæŒ‰é”®æ’æˆ4è¡Œ4åˆ—ã€‚ç¬¬ä¸€è¡Œå°†æ¯ä¸ªæŒ‰é”®çš„ä¸€ç«¯è¿æ¥åœ¨ä¸€èµ·æ„æˆè¡Œçº¿ï¼Œç¬¬ä¸€åˆ—å°†æ¯ä¸ªæŒ‰é”®çš„å¦ä¸€ç«¯è¿æ¥åœ¨ä¸€èµ·æ„æˆåˆ—çº¿ï¼Œè¿™æ ·ä¾¿ä¸€å…±æœ‰4è¡Œ4åˆ—å…±8æ ¹çº¿ã€‚å°†è¿™8æ ¹çº¿è¿æ¥åˆ°å•ç‰‡æœºçš„8ä¸ªI/Oå£ä¸Šï¼Œé€šè¿‡ç¨‹åºæ‰«æé”®ç›˜å¯ä»¥æ£€æµ‹16ä¸ªé”®ã€‚</p>\n<p>æ— è®ºæ˜¯ç‹¬ç«‹é”®ç›˜è¿˜æ˜¯çŸ©é˜µé”®ç›˜ï¼Œå•ç‰‡æœºæ£€æµ‹å…¶æ˜¯å¦è¢«æŒ‰ä¸‹çš„ä¾æ®éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå³æ£€æµ‹ä¸è¯¥é”®å¯¹åº”çš„I/Oå£æ˜¯å¦ä¸ºä½ç”µå¹³ã€‚ç‹¬ç«‹é”®ç›˜æœ‰ä¸€ç«¯å›ºå®šä¸ºä½ç”µå¹³è€ŒçŸ©é˜µé”®ç›˜ä¸¤ç«¯éƒ½ä¸å•ç‰‡æœºI/Oå£ç›¸è¿ï¼Œåœ¨æ£€æµ‹æ—¶éœ€ç¼–ç¨‹é€šè¿‡å•ç‰‡æœºI/Oå£é€å‡ºä½ç”µå¹³ã€‚æ£€æµ‹æ–¹æ³•æœ€å¸¸ç”¨çš„æ˜¯è¡Œåˆ—æ‰«æå’Œçº¿ç¿»è½¬æ³•ã€‚</p>\n<ul>\n<li>è¡Œåˆ—æ‰«ææ³•æ£€æµ‹æ—¶ï¼Œå…ˆé€ä¸€åˆ—ä¸ºä½ç”µå¹³ï¼Œå…¶ä½™å‡ åˆ—å…¨ä¸ºé«˜ç”µå¹³ï¼Œæ­¤æ—¶ç¡®å®šåˆ—æ•°ï¼›ç„¶åç«‹å³è½®æµæ£€æµ‹ä¸€æ¬¡å„è¡Œæ˜¯å¦æœ‰ä½ç”µå¹³ï¼Œè‹¥æ£€æµ‹åˆ°æŸä¸€è¡Œä¸ºä½ç”µå¹³ï¼Œæ­¤æ—¶ç¡®å®šäº†è¡Œæ•°ï¼Œä¾¿å¯ä»¥ç¡®è®¤å½“å‰è¢«æŒ‰ä¸‹çš„é”®æ˜¯å“ªä¸€è¡Œå“ªä¸€åˆ—çš„ã€‚ç”¨åŒæ ·æ–¹æ³•è½®æµé€å„åˆ—ä¸€æ¬¡ä½ç”µå¹³ï¼Œå†è½®æµæ£€æµ‹ä¸€æ¬¡å„è¡Œæ˜¯å¦å˜ä¸ºä½ç”µå¹³ï¼Œè¿™æ ·å³å¯æ£€æµ‹å®Œæ‰€æœ‰çš„æŒ‰é”®ï¼Œå½“æœ‰æŒ‰é”®è¢«æŒ‰ä¸‹æ—¶ä¾¿å¯åˆ¤æ–­å‡ºæŒ‰ä¸‹çš„é”®æ˜¯å“ªä¸€ä¸ªé”®ã€‚</li>\n<li>çº¿ç¿»è½¬æ³•æ£€æµ‹æ—¶ï¼Œå°±æ˜¯ä½¿æ‰€æœ‰è¡Œçº¿ä¸ºä½ç”µå¹³æ—¶ï¼Œæ£€æµ‹æ‰€æœ‰åˆ—çº¿æ˜¯å¦æœ‰ä½ç”µå¹³ï¼Œå¦‚æœæœ‰ï¼Œå°±è®°å½•åˆ—çº¿å€¼ï¼›ç„¶åå†ç¿»è½¬ï¼Œä½¿æ‰€æœ‰åˆ—çº¿éƒ½ä¸ºä½ç”µå¹³ï¼Œæ£€æµ‹æ‰€æœ‰è¡Œçº¿çš„å€¼ã€‚ç”±äºæœ‰æŒ‰é”®æŒ‰ä¸‹ï¼Œè¡Œçº¿çš„å€¼ä¹Ÿä¼šæœ‰å˜åŒ–ï¼Œè®°å½•è¡Œçº¿çš„å€¼ï¼Œä»è€Œå°±å¯ä»¥æ£€æµ‹åˆ°å…¨éƒ¨æŒ‰é”®ã€‚</li>\n</ul>\n<p><strong>çŸ©é˜µæŒ‰é”®ä¹Ÿéœ€è¦æŒ‰é”®æ¶ˆæŠ–ã€‚</strong></p>\n<p><img alt=\"image-20260109120836392\" src=\"https://img2024.cnblogs.com/blog/3732387/202601/3732387-20260109144754496-78745305.png\" /></p>\n<p><img alt=\"image-20260109121508035\" src=\"https://img2024.cnblogs.com/blog/3732387/202601/3732387-20260109144754398-1331883375.png\" /></p>\n<p><img alt=\"image-20260109123822715\" src=\"https://img2024.cnblogs.com/blog/3732387/202601/3732387-20260109144754445-1533630463.png\" /></p>\n<p>ä»¥ç¬¬ä¸€åˆ—ä»£ç ä½œä¸ºç¤ºä¾‹ï¼Œç®€å•ä»‹ç»ä¸‹ <strong>é€åˆ—æ‰«æ</strong> çš„æ£€æµ‹åŸç†ï¼š</p>\n<p><img alt=\"image-20260109124004422\" src=\"https://img2024.cnblogs.com/blog/3732387/202601/3732387-20260109144754216-452685151.png\" /></p>\n<ul>\n<li><code>P1=0xFF;</code> æŠŠæ‰€æœ‰æŒ‰é”®ç«¯å£ç½®ä¸ºé«˜ç”µå¹³ï¼Œä¹Ÿå°±æ˜¯å…³é—­æ‰€æœ‰æŒ‰é”®</li>\n<li><code>P1_3=0;</code>  å°†ç¬¬ä¸€åˆ—æŒ‰é”®ç½®ä¸ºä½ç”µå¹³ï¼Œå…¶ä»–æŒ‰é”®ä¾æ—§ä¸ºé«˜ç”µå¹³ï¼ˆå…³é—­çŠ¶æ€ï¼‰</li>\n<li>ä½¿ç”¨  <code>Ifåˆ¤æ–­</code>  æ£€æµ‹è¡ŒæŒ‰é”®ï¼Œå¦‚æœæŸä¸€è¡Œä¸ºä½ç”µå¹³ï¼Œå°±è¿”å› <code>KeyNumber</code> ç¼–å·</li>\n</ul>\n<p>å…¶ä»–3åˆ—æŒ‰é”®çš„æ£€æµ‹åŸç†åŒä¸Š</p>\n<h2 id=\"äº”çŸ©é˜µæŒ‰é”®åº”ç”¨å®è·µ\">äº”ã€çŸ©é˜µæŒ‰é”®åº”ç”¨å®è·µ</h2>\n<h3 id=\"1å®ç°lcd1602æ˜¾ç¤ºæŒ‰é”®ç¼–å·\">1ï¼‰å®ç°LCD1602æ˜¾ç¤ºæŒ‰é”®ç¼–å·</h3>\n<p>main.c</p>\n<pre><code class=\"language-c\">#include &lt;REGX52.H&gt;\n#include \"Delay.h\"\t\t  //åŒ…å«Delayå¤´æ–‡ä»¶\n#include \"LCD1602.h\"\t  //åŒ…å«LCD1602å¤´æ–‡ä»¶\n#include \"MatrixKey.h\"\t  //åŒ…å«çŸ©é˜µé”®ç›˜å¤´æ–‡ä»¶\n\nunsigned char KeyNum;\n\nvoid main()\n{\n\tLCD_Init();\t\t\t\t\t\t\t          //LCDåˆå§‹åŒ–\n\tLCD_ShowString(1,1,\"MatrixKey:\");\t          //LCDæ˜¾ç¤ºå­—ç¬¦ä¸²\n\twhile(1)\n\t{\n\t\tKeyNum=MatrixKey();\t\t\t\t          //è·å–çŸ©é˜µé”®ç›˜é”®ç \n\t\tif(KeyNum)\t\t\t\t\t\t          //å¦‚æœæœ‰æŒ‰é”®æŒ‰ä¸‹\n\t\t{\n\t\t\tLCD_ShowNum(2,1,KeyNum,2);\t          //LCDæ˜¾ç¤ºé”®ç \n\t\t}\n\t}\n}\n</code></pre>\n<p>Delay.c</p>\n<pre><code class=\"language-c\">\nvoid Delay(unsigned int xms)\n{\n\tunsigned char i, j;\n\twhile(xms--)\n\t{\n\t\ti = 2;\n\t\tj = 239;\n\t\tdo\n\t\t{\n\t\t\twhile (--j);\n\t\t} while (--i);\n\t}\n}\n</code></pre>\n<p>Delay.h</p>\n<pre><code class=\"language-c\">#ifndef __DELAY_H__\n#define __DELAY_H__\n\nvoid Delay(unsigned int xms);\n\n#endif\n\n</code></pre>\n<p>LCD1602.c</p>\n<pre><code class=\"language-c\">#include &lt;REGX52.H&gt;\n\n//å¼•è„šé…ç½®ï¼š\nsbit LCD_RS=P2^6;\nsbit LCD_RW=P2^5;\nsbit LCD_EN=P2^7;\n#define LCD_DataPort P0\n\n//å‡½æ•°å®šä¹‰ï¼š\n/**\n  * @brief  LCD1602å»¶æ—¶å‡½æ•°ï¼Œ12MHzè°ƒç”¨å¯å»¶æ—¶1ms\n  * @param  æ— \n  * @retval æ— \n  */\nvoid LCD_Delay()\n{\n\tunsigned char i, j;\n\n\ti = 2;\n\tj = 239;\n\tdo\n\t{\n\t\twhile (--j);\n\t} while (--i);\n}\n\n/**\n  * @brief  LCD1602å†™å‘½ä»¤\n  * @param  Command è¦å†™å…¥çš„å‘½ä»¤\n  * @retval æ— \n  */\nvoid LCD_WriteCommand(unsigned char Command)\n{\n\tLCD_RS=0;\n\tLCD_RW=0;\n\tLCD_DataPort=Command;\n\tLCD_EN=1;\n\tLCD_Delay();\n\tLCD_EN=0;\n\tLCD_Delay();\n}\n\n/**\n  * @brief  LCD1602å†™æ•°æ®\n  * @param  Data è¦å†™å…¥çš„æ•°æ®\n  * @retval æ— \n  */\nvoid LCD_WriteData(unsigned char Data)\n{\n\tLCD_RS=1;\n\tLCD_RW=0;\n\tLCD_DataPort=Data;\n\tLCD_EN=1;\n\tLCD_Delay();\n\tLCD_EN=0;\n\tLCD_Delay();\n}\n\n/**\n  * @brief  LCD1602è®¾ç½®å…‰æ ‡ä½ç½®\n  * @param  Line è¡Œä½ç½®ï¼ŒèŒƒå›´ï¼š1~2\n  * @param  Column åˆ—ä½ç½®ï¼ŒèŒƒå›´ï¼š1~16\n  * @retval æ— \n  */\nvoid LCD_SetCursor(unsigned char Line,unsigned char Column)\n{\n\tif(Line==1)\n\t{\n\t\tLCD_WriteCommand(0x80|(Column-1));\n\t}\n\telse if(Line==2)\n\t{\n\t\tLCD_WriteCommand(0x80|(Column-1+0x40));\n\t}\n}\n\n/**\n  * @brief  LCD1602åˆå§‹åŒ–å‡½æ•°\n  * @param  æ— \n  * @retval æ— \n  */\nvoid LCD_Init()\n{\n\tLCD_WriteCommand(0x38);//å…«ä½æ•°æ®æ¥å£ï¼Œä¸¤è¡Œæ˜¾ç¤ºï¼Œ5*7ç‚¹é˜µ\n\tLCD_WriteCommand(0x0c);//æ˜¾ç¤ºå¼€ï¼Œå…‰æ ‡å…³ï¼Œé—ªçƒå…³\n\tLCD_WriteCommand(0x06);//æ•°æ®è¯»å†™æ“ä½œåï¼Œå…‰æ ‡è‡ªåŠ¨åŠ ä¸€ï¼Œç”»é¢ä¸åŠ¨\n\tLCD_WriteCommand(0x01);//å…‰æ ‡å¤ä½ï¼Œæ¸…å±\n}\n\n/**\n  * @brief  åœ¨LCD1602æŒ‡å®šä½ç½®ä¸Šæ˜¾ç¤ºä¸€ä¸ªå­—ç¬¦\n  * @param  Line è¡Œä½ç½®ï¼ŒèŒƒå›´ï¼š1~2\n  * @param  Column åˆ—ä½ç½®ï¼ŒèŒƒå›´ï¼š1~16\n  * @param  Char è¦æ˜¾ç¤ºçš„å­—ç¬¦\n  * @retval æ— \n  */\nvoid LCD_ShowChar(unsigned char Line,unsigned char Column,char Char)\n{\n\tLCD_SetCursor(Line,Column);\n\tLCD_WriteData(Char);\n}\n\n/**\n  * @brief  åœ¨LCD1602æŒ‡å®šä½ç½®å¼€å§‹æ˜¾ç¤ºæ‰€ç»™å­—ç¬¦ä¸²\n  * @param  Line èµ·å§‹è¡Œä½ç½®ï¼ŒèŒƒå›´ï¼š1~2\n  * @param  Column èµ·å§‹åˆ—ä½ç½®ï¼ŒèŒƒå›´ï¼š1~16\n  * @param  String è¦æ˜¾ç¤ºçš„å­—ç¬¦ä¸²\n  * @retval æ— \n  */\nvoid LCD_ShowString(unsigned char Line,unsigned char Column,char *String)\n{\n\tunsigned char i;\n\tLCD_SetCursor(Line,Column);\n\tfor(i=0;String[i]!='\\0';i++)\n\t{\n\t\tLCD_WriteData(String[i]);\n\t}\n}\n\n/**\n  * @brief  è¿”å›å€¼=Xçš„Yæ¬¡æ–¹\n  */\nint LCD_Pow(int X,int Y)\n{\n\tunsigned char i;\n\tint Result=1;\n\tfor(i=0;i&lt;Y;i++)\n\t{\n\t\tResult*=X;\n\t}\n\treturn Result;\n}\n\n/**\n  * @brief  åœ¨LCD1602æŒ‡å®šä½ç½®å¼€å§‹æ˜¾ç¤ºæ‰€ç»™æ•°å­—\n  * @param  Line èµ·å§‹è¡Œä½ç½®ï¼ŒèŒƒå›´ï¼š1~2\n  * @param  Column èµ·å§‹åˆ—ä½ç½®ï¼ŒèŒƒå›´ï¼š1~16\n  * @param  Number è¦æ˜¾ç¤ºçš„æ•°å­—ï¼ŒèŒƒå›´ï¼š0~65535\n  * @param  Length è¦æ˜¾ç¤ºæ•°å­—çš„é•¿åº¦ï¼ŒèŒƒå›´ï¼š1~5\n  * @retval æ— \n  */\nvoid LCD_ShowNum(unsigned char Line,unsigned char Column,unsigned int Number,unsigned char Length)\n{\n\tunsigned char i;\n\tLCD_SetCursor(Line,Column);\n\tfor(i=Length;i&gt;0;i--)\n\t{\n\t\tLCD_WriteData(Number/LCD_Pow(10,i-1)%10+'0');\n\t}\n}\n\n/**\n  * @brief  åœ¨LCD1602æŒ‡å®šä½ç½®å¼€å§‹ä»¥æœ‰ç¬¦å·åè¿›åˆ¶æ˜¾ç¤ºæ‰€ç»™æ•°å­—\n  * @param  Line èµ·å§‹è¡Œä½ç½®ï¼ŒèŒƒå›´ï¼š1~2\n  * @param  Column èµ·å§‹åˆ—ä½ç½®ï¼ŒèŒƒå›´ï¼š1~16\n  * @param  Number è¦æ˜¾ç¤ºçš„æ•°å­—ï¼ŒèŒƒå›´ï¼š-32768~32767\n  * @param  Length è¦æ˜¾ç¤ºæ•°å­—çš„é•¿åº¦ï¼ŒèŒƒå›´ï¼š1~5\n  * @retval æ— \n  */\nvoid LCD_ShowSignedNum(unsigned char Line,unsigned char Column,int Number,unsigned char Length)\n{\n\tunsigned char i;\n\tunsigned int Number1;\n\tLCD_SetCursor(Line,Column);\n\tif(Number&gt;=0)\n\t{\n\t\tLCD_WriteData('+');\n\t\tNumber1=Number;\n\t}\n\telse\n\t{\n\t\tLCD_WriteData('-');\n\t\tNumber1=-Number;\n\t}\n\tfor(i=Length;i&gt;0;i--)\n\t{\n\t\tLCD_WriteData(Number1/LCD_Pow(10,i-1)%10+'0');\n\t}\n}\n\n/**\n  * @brief  åœ¨LCD1602æŒ‡å®šä½ç½®å¼€å§‹ä»¥åå…­è¿›åˆ¶æ˜¾ç¤ºæ‰€ç»™æ•°å­—\n  * @param  Line èµ·å§‹è¡Œä½ç½®ï¼ŒèŒƒå›´ï¼š1~2\n  * @param  Column èµ·å§‹åˆ—ä½ç½®ï¼ŒèŒƒå›´ï¼š1~16\n  * @param  Number è¦æ˜¾ç¤ºçš„æ•°å­—ï¼ŒèŒƒå›´ï¼š0~0xFFFF\n  * @param  Length è¦æ˜¾ç¤ºæ•°å­—çš„é•¿åº¦ï¼ŒèŒƒå›´ï¼š1~4\n  * @retval æ— \n  */\nvoid LCD_ShowHexNum(unsigned char Line,unsigned char Column,unsigned int Number,unsigned char Length)\n{\n\tunsigned char i,SingleNumber;\n\tLCD_SetCursor(Line,Column);\n\tfor(i=Length;i&gt;0;i--)\n\t{\n\t\tSingleNumber=Number/LCD_Pow(16,i-1)%16;\n\t\tif(SingleNumber&lt;10)\n\t\t{\n\t\t\tLCD_WriteData(SingleNumber+'0');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tLCD_WriteData(SingleNumber-10+'A');\n\t\t}\n\t}\n}\n\n/**\n  * @brief  åœ¨LCD1602æŒ‡å®šä½ç½®å¼€å§‹ä»¥äºŒè¿›åˆ¶æ˜¾ç¤ºæ‰€ç»™æ•°å­—\n  * @param  Line èµ·å§‹è¡Œä½ç½®ï¼ŒèŒƒå›´ï¼š1~2\n  * @param  Column èµ·å§‹åˆ—ä½ç½®ï¼ŒèŒƒå›´ï¼š1~16\n  * @param  Number è¦æ˜¾ç¤ºçš„æ•°å­—ï¼ŒèŒƒå›´ï¼š0~1111 1111 1111 1111\n  * @param  Length è¦æ˜¾ç¤ºæ•°å­—çš„é•¿åº¦ï¼ŒèŒƒå›´ï¼š1~16\n  * @retval æ— \n  */\nvoid LCD_ShowBinNum(unsigned char Line,unsigned char Column,unsigned int Number,unsigned char Length)\n{\n\tunsigned char i;\n\tLCD_SetCursor(Line,Column);\n\tfor(i=Length;i&gt;0;i--)\n\t{\n\t\tLCD_WriteData(Number/LCD_Pow(2,i-1)%2+'0');\n\t}\n}\n</code></pre>\n<p>LCD1602.h</p>\n<pre><code class=\"language-c\">#ifndef __LCD1602_H__\n#define __LCD1602_H__\n\n//ç”¨æˆ·è°ƒç”¨å‡½æ•°ï¼š\nvoid LCD_Init();\nvoid LCD_ShowChar(unsigned char Line,unsigned char Column,char Char);\nvoid LCD_ShowString(unsigned char Line,unsigned char Column,char *String);\nvoid LCD_ShowNum(unsigned char Line,unsigned char Column,unsigned int Number,unsigned char Length);\nvoid LCD_ShowSignedNum(unsigned char Line,unsigned char Column,int Number,unsigned char Length);\nvoid LCD_ShowHexNum(unsigned char Line,unsigned char Column,unsigned int Number,unsigned char Length);\nvoid LCD_ShowBinNum(unsigned char Line,unsigned char Column,unsigned int Number,unsigned char Length);\n\n#endif\n\n</code></pre>\n<p>MatrixKey.c</p>\n<pre><code class=\"language-c\">#include &lt;REGX52.H&gt;\n#include \"Delay.h\"\n\n/**\n  * @brief  çŸ©é˜µé”®ç›˜è¯»å–æŒ‰é”®é”®ç \n  * @param  æ— \n  * @retval KeyNumber æŒ‰ä¸‹æŒ‰é”®çš„é”®ç å€¼\n\t\t\tå¦‚æœæŒ‰é”®æŒ‰ä¸‹ä¸æ”¾ï¼Œç¨‹åºä¼šåœç•™åœ¨æ­¤å‡½æ•°ï¼Œæ¾æ‰‹çš„ä¸€ç¬é—´ï¼Œè¿”å›æŒ‰é”®é”®ç ï¼Œæ²¡æœ‰æŒ‰é”®æŒ‰ä¸‹æ—¶ï¼Œè¿”å›0\n  */\nunsigned char MatrixKey()\n{\n\tunsigned char KeyNumber=0;\n\t\n\tP1=0xFF;  // 1111 1111 å…¨éƒ¨ç½®é«˜ç”µå¹³ï¼Œæ²¡æœ‰æŒ‰é”®æŒ‰ä¸‹\n\tP1_3=0;   // æ£€æµ‹ç¬¬ä¸€åˆ—\n\tif(P1_7==0){Delay(20);while(P1_7==0);Delay(20);KeyNumber=1;}\n\tif(P1_6==0){Delay(20);while(P1_6==0);Delay(20);KeyNumber=5;}\n\tif(P1_5==0){Delay(20);while(P1_5==0);Delay(20);KeyNumber=9;}\n\tif(P1_4==0){Delay(20);while(P1_4==0);Delay(20);KeyNumber=13;}\n\t\n\tP1=0xFF;  // 1111 1111 å…¨éƒ¨ç½®é«˜ç”µå¹³ï¼Œæ²¡æœ‰æŒ‰é”®æŒ‰ä¸‹\n\tP1_2=0;   // æ£€æµ‹ç¬¬äºŒåˆ—\n\tif(P1_7==0){Delay(20);while(P1_7==0);Delay(20);KeyNumber=2;}\n\tif(P1_6==0){Delay(20);while(P1_6==0);Delay(20);KeyNumber=6;}\n\tif(P1_5==0){Delay(20);while(P1_5==0);Delay(20);KeyNumber=10;}\n\tif(P1_4==0){Delay(20);while(P1_4==0);Delay(20);KeyNumber=14;}\n\t\n\tP1=0xFF;  // 1111 1111 å…¨éƒ¨ç½®é«˜ç”µå¹³ï¼Œæ²¡æœ‰æŒ‰é”®æŒ‰ä¸‹\n\tP1_1=0;   // æ£€æµ‹ç¬¬ä¸‰åˆ—\n\tif(P1_7==0){Delay(20);while(P1_7==0);Delay(20);KeyNumber=3;}\n\tif(P1_6==0){Delay(20);while(P1_6==0);Delay(20);KeyNumber=7;}\n\tif(P1_5==0){Delay(20);while(P1_5==0);Delay(20);KeyNumber=11;}\n\tif(P1_4==0){Delay(20);while(P1_4==0);Delay(20);KeyNumber=15;}\n\t\n\tP1=0xFF;  // 1111 1111 å…¨éƒ¨ç½®é«˜ç”µå¹³ï¼Œæ²¡æœ‰æŒ‰é”®æŒ‰ä¸‹\n\tP1_0=0;   // æ£€æµ‹ç¬¬å››åˆ—\n\tif(P1_7==0){Delay(20);while(P1_7==0);Delay(20);KeyNumber=4;}\n\tif(P1_6==0){Delay(20);while(P1_6==0);Delay(20);KeyNumber=8;}\n\tif(P1_5==0){Delay(20);while(P1_5==0);Delay(20);KeyNumber=12;}\n\tif(P1_4==0){Delay(20);while(P1_4==0);Delay(20);KeyNumber=16;}\n\t\n\treturn KeyNumber;\n}\n</code></pre>\n<p>MatrixKey.h</p>\n<pre><code class=\"language-c\">#ifndef __MATRIXKEY_H__\n#define __MATRIXKEY_H__\n\nunsigned char MatrixKey();\n\n#endif\n\n</code></pre>\n<h3 id=\"2ä½¿ç”¨çŸ©é˜µé”®ç›˜å®ç°å¯†ç é”åŠŸèƒ½\">2ï¼‰ä½¿ç”¨çŸ©é˜µé”®ç›˜å®ç°å¯†ç é”åŠŸèƒ½</h3>\n<p>åªéœ€è¦ä¿®æ”¹main.c ,å…¶ä½™ä»£ç åŒä¸Š</p>\n<pre><code class=\"language-c\">#include &lt;REGX52.H&gt;\n#include \"Delay.h\"\n#include \"LCD1602.h\"\n#include \"MatrixKey.h\"\n\nunsigned char KeyNum;\nunsigned int Password,Count;\n\nvoid main()\n{\n\tLCD_Init();\n\tLCD_ShowString(1,1,\"Password:\");\n\twhile(1)\n\t{\n\t\tKeyNum=MatrixKey();\n\t\tif(KeyNum)\n\t\t{\n\t\t\tif(KeyNum&lt;=10)\t                      //å¦‚æœS1~S10æŒ‰é”®æŒ‰ä¸‹ï¼Œè¾“å…¥å¯†ç \n\t\t\t{                                    \n\t\t\t\tif(Count&lt;4)\t                       //å¦‚æœè¾“å…¥æ¬¡æ•°å°äº4\n\t\t\t\t{                                  \n\t\t\t\t\tPassword*=10;\t\t\t\t   //å¯†ç å·¦ç§»ä¸€ä½\n\t\t\t\t\tPassword+=KeyNum%10;\t\t   //è·å–ä¸€ä½å¯†ç \n\t\t\t\t\tCount++;\t                   //è®¡æ¬¡åŠ ä¸€\n\t\t\t\t}\n\t\t\t\tLCD_ShowNum(2,1,Password,4);\t   //æ›´æ–°æ˜¾ç¤º\n\t\t\t}                                    \n\t\t\tif(KeyNum==11)\t                       //å¦‚æœS11æŒ‰é”®æŒ‰ä¸‹ï¼Œç¡®è®¤\n\t\t\t{                                    \n\t\t\t\tif(Password==2345)\t               //å¦‚æœå¯†ç ç­‰äºæ­£ç¡®å¯†ç \n\t\t\t\t{                                  \n\t\t\t\t\tLCD_ShowString(1,14,\"OK \");\t   //æ˜¾ç¤ºOK\n\t\t\t\t\tPassword=0;\t\t               //å¯†ç æ¸…é›¶\n\t\t\t\t\tCount=0;\t\t               //è®¡æ¬¡æ¸…é›¶\n\t\t\t\t\tLCD_ShowNum(2,1,Password,4);   //æ›´æ–°æ˜¾ç¤º\n\t\t\t\t}\n\t\t\t\telse\t\t\t\t               //å¦åˆ™\n\t\t\t\t{\n\t\t\t\t\tLCD_ShowString(1,14,\"ERR\");\t   //æ˜¾ç¤ºERR\n\t\t\t\t\tPassword=0;\t\t               //å¯†ç æ¸…é›¶\n\t\t\t\t\tCount=0;\t\t               //è®¡æ¬¡æ¸…é›¶\n\t\t\t\t\tLCD_ShowNum(2,1,Password,4);   //æ›´æ–°æ˜¾ç¤º\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(KeyNum==12)\t                       //å¦‚æœS12æŒ‰é”®æŒ‰ä¸‹ï¼Œå–æ¶ˆ\n\t\t\t{\n\t\t\t\tPassword=0;\t\t                   //å¯†ç æ¸…é›¶\n\t\t\t\tCount=0;\t\t                   //è®¡æ¬¡æ¸…é›¶\n\t\t\t\tLCD_ShowNum(2,1,Password,4);\t   //æ›´æ–°æ˜¾ç¤º\n\t\t\t}\n\t\t}\n\t}\n}\n</code></pre>\n<p><code>Password*=10;\t\t\t\t   //å¯†ç å·¦ç§»ä¸€ä½</code></p>\n<p><code>Password+=KeyNum%10;\t\t   //è·å–ä¸€ä½å¯†ç  </code></p>\n<p><strong>å›¾è¡¨ï¼šæŒ‰é”®åºåˆ— 5 â†’ 6 â†’ 3 â†’ 8 çš„å¤„ç†è¿‡ç¨‹</strong></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align: left;\">æŒ‰é”®</th>\n<th style=\"text-align: left;\">è¿ç®—å‰ Password</th>\n<th style=\"text-align: left;\">Password Ã— 10</th>\n<th style=\"text-align: left;\">KeyNum % 10</th>\n<th style=\"text-align: left;\">è¿ç®—å Password</th>\n<th style=\"text-align: left;\">è§£é‡Š</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">5</td>\n<td style=\"text-align: left;\">0</td>\n<td style=\"text-align: left;\">0 Ã— 10 = 0</td>\n<td style=\"text-align: left;\">5 % 10 = 5</td>\n<td style=\"text-align: left;\"><strong>5</strong></td>\n<td style=\"text-align: left;\">ç¬¬ä¸€ä¸ªæ•°å­—ç›´æ¥å­˜å…¥</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">6</td>\n<td style=\"text-align: left;\">5</td>\n<td style=\"text-align: left;\">5 Ã— 10 = 50</td>\n<td style=\"text-align: left;\">6 % 10 = 6</td>\n<td style=\"text-align: left;\"><strong>56</strong></td>\n<td style=\"text-align: left;\">5ç§»åˆ°åä½ï¼Œ6æ”¾åœ¨ä¸ªä½</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">3</td>\n<td style=\"text-align: left;\">56</td>\n<td style=\"text-align: left;\">56 Ã— 10 = 560</td>\n<td style=\"text-align: left;\">3 % 10 = 3</td>\n<td style=\"text-align: left;\"><strong>563</strong></td>\n<td style=\"text-align: left;\">56å˜ä¸º560ï¼Œ3æ”¾åœ¨ä¸ªä½</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">8</td>\n<td style=\"text-align: left;\">563</td>\n<td style=\"text-align: left;\">563 Ã— 10 = 5630</td>\n<td style=\"text-align: left;\">8 % 10 = 8</td>\n<td style=\"text-align: left;\"><strong>5638</strong></td>\n<td style=\"text-align: left;\">563å˜ä¸º5630ï¼Œ8æ”¾åœ¨ä¸ªä½</td>\n</tr>\n</tbody>\n</table>\n\n</div>\n<div class=\"clear\"></div>\n\n\t\t</div>\n\t\t<div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-09 14:49</span>&nbsp;\n<a href=\"https://www.cnblogs.com/WIRO\">Q&amp;25</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">12</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "å°ç™½ä¹Ÿèƒ½çœ‹æ‡‚çš„LLM-RLç®—æ³•ï¼šPPO/DPO/GRPO/GSPO",
      "link": "https://www.cnblogs.com/aifrontiers/p/19461279",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/aifrontiers/p/19461279\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-09 14:29\">\n    <span>å°ç™½ä¹Ÿèƒ½çœ‹æ‡‚çš„LLM-RLç®—æ³•ï¼šPPO/DPO/GRPO/GSPO</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<p>åŸæ–‡: <a href=\"https://mp.weixin.qq.com/s/9KT9LrMTXDGHSvGFrQhRkg\" rel=\"noopener nofollow\" target=\"_blank\">https://mp.weixin.qq.com/s/9KT9LrMTXDGHSvGFrQhRkg</a></p>\n<p><strong>LLM-RLå¾€æœŸæ–‡ç« æ¨è</strong></p>\n<p><a href=\"https://mp.weixin.qq.com/s/cx3qY42Lp0L3RaSOgsH77A\" rel=\"noopener nofollow\" target=\"_blank\">å°ç™½ä¹Ÿèƒ½çœ‹æ‡‚çš„RL-PPO</a></p>\n<p><a href=\"https://mp.weixin.qq.com/s/nfN0dWT3ZfDuW7ZGfaG6dA\" rel=\"noopener nofollow\" target=\"_blank\">æ”¶è—ï¼å¼ºåŒ–å­¦ä¹ ä»å…¥é—¨åˆ°å°ç¥ï¼š5 æœ¬ç»å…¸æ•™æ + 8 å¤§å®æˆ˜é¡¹ç›® + 7ä¸ªå…è´¹è§†é¢‘ï¼Œä¸€ç«™å¼æå®š</a></p>\n<p><a href=\"https://mp.weixin.qq.com/s/4_6CBXMJhqmiYKSzsAXncg\" rel=\"noopener nofollow\" target=\"_blank\">å°ç™½ä¹Ÿèƒ½çœ‹æ‡‚çš„RLHFï¼šåŸºç¡€ç¯‡</a></p>\n<p><a href=\"https://mp.weixin.qq.com/s/8O7W8--x14-b1d3M9IS_3w\" rel=\"noopener nofollow\" target=\"_blank\">å°ç™½ä¹Ÿèƒ½çœ‹æ‡‚çš„RLHF-PPOï¼šåŸç†ç¯‡</a></p>\n<p>å¼ºåŒ–å­¦ä¹  (RL, Reinforcement Learning) å·²æˆä¸ºå¤§æ¨¡å‹åè®­ç»ƒçš„å…³é”®ç¯èŠ‚ï¼Œåœ¨å‰å‡ ç¯‡ä¸­ï¼Œæˆ‘ä»¬å¯¹LLM-RLä¸­æœ€åŸºç¡€ã€æœ€æ ¸å¿ƒçš„PPOç®—æ³•åšäº†è¯¦ç»†çš„æ‹†è§£ï¼Œæœ‰éœ€è¦çš„å¯ä»¥ç‚¹å‡»ä¸Šé¢é“¾æ¥é˜…è¯»ï¼Œæœ¬ç¯‡å°†ä»‹ç»å…¶ä»–ä¸»æµçš„LLM-RLç®—æ³•ã€‚è¯»å®Œè¿™ç¯‡åï¼Œä½ ä¼šå‘ç°ï¼Œä¸ç®¡æ˜¯å“ªç§LLM-RLç®—æ³•ï¼Œæœ¬è´¨éƒ½æ˜¯å°†äººç±»åå¥½èå…¥åˆ°å¤§æ¨¡å‹ä¸­ï¼Œå·®å¼‚ç‚¹åœ¨äºä»¥ä½•ç§æ–¹å¼/æ›´é«˜æ•ˆåœ°æŒ–æ˜åå¥½æ•°æ®çš„ä»·å€¼ã€å¦‚ä½•åœ¨é™ä½ç®—åŠ›èµ„æºéœ€æ±‚ä¸‹ä¿è¯æ¨¡å‹æ€§èƒ½ã€å¦‚ä½•æé«˜ç®—æ³•ç¨³å®šæ€§ã€‚</p>\n<p>åœ¨ä»‹ç»LLM-RLå„ç±»ç­–ç•¥ç®—æ³•å‰ï¼Œæˆ‘ä»¬å°†å…ˆè§£é‡Šä¸€äº›åŸºæœ¬æ¦‚å¿µï¼Œæ¶µç›–å¼ºåŒ–å­¦ä¹ ç†è§£ã€ä»·å€¼å‡½æ•°ã€NLPä¸­çš„å¼ºåŒ–å­¦ä¹ ã€‚ éšåï¼Œä»‹ç»RLHFçš„èµ·æºã€è®¾è®¡æ€è·¯ã€å¦‚ä½•ä¸å¤§æ¨¡å‹RLHFç®—æ³•å…³è”çš„ã€‚å†å¯¹LLM-RLä¸»æµçš„ï¼ˆDPOã€GRPOã€GSPOï¼‰ç­–ç•¥ä¼˜åŒ–ç®—æ³•è¿›è¡Œç»†è‡´è®²è§£ï¼Œå¦‚å„ä¸ªç®—æ³•åŸç†ã€è®­ç»ƒè¿‡ç¨‹ã€ä¼˜ç¼ºç‚¹ç­‰ã€‚ä¸ºäº†èƒ½å¤Ÿæ›´å¥½åœ°å¯¹æ¯”å„ä¸ªç®—æ³•ï¼Œä¹Ÿä¼šæå¸¦ä»‹ç»ä¸‹PPOç®—æ³•ã€‚</p>\n<h1 id=\"1-åŸºæœ¬æ¦‚å¿µ\">1 åŸºæœ¬æ¦‚å¿µ</h1>\n<h2 id=\"11-å¼ºåŒ–å­¦ä¹ ç†è§£\">1.1 å¼ºåŒ–å­¦ä¹ ç†è§£</h2>\n<p><img alt=\"\" class=\"lazyload\" /></p>\n<p>å¼ºåŒ–å­¦ä¹ å…³é”®åœ¨äºã€Œ<strong>å¼ºåŒ–</strong>ã€è¿™ä¸ªè¯ï¼Œç®€å•ç†è§£å°±æ˜¯ã€Œ<strong>ç”¨åé¦ˆå¼ºåŒ–è¡Œä¸º</strong>ã€ï¼Œå³ç”¨å¥–æƒ©è§„åˆ™è®©æ™ºèƒ½ä½“è‡ªå·±åœ¨è¯•é”™ä¸­ç­›é€‰å‡ºæœ‰æ•ˆè¡Œä¸ºï¼Œå†é€šè¿‡é‡å¤åé¦ˆæŠŠè¿™äº›è¡Œä¸ºå·©å›ºæˆæœ€ä¼˜ç­–ç•¥ï¼Œæœ¬è´¨å°±æ˜¯ã€Œ<strong>å¥–æƒ©é©±åŠ¨çš„è¡Œä¸ºç­›é€‰ä¸å·©å›º</strong>ã€ï¼Œå’±ä»¬ç»“åˆä¹‹<strong>è®­ç»ƒå°ç‹—åä¸‹</strong>çš„ä¾‹å­é€è¯è§£é‡Šä¸‹è¿™å¥è¯ã€‚</p>\n<ul>\n<li>\n<p><strong>å¥–æƒ©é©±åŠ¨</strong>ï¼šRLæ•´ä¸ªå­¦ä¹ è¿‡ç¨‹çš„æ ¸å¿ƒåŠ¨åŠ›æ¥è‡ª<strong>å¥–åŠ±</strong> å’Œ <strong>æƒ©ç½š/æ— å¥–åŠ±</strong>çš„å³æ—¶åé¦ˆï¼Œæ¯”å¦‚å°ç‹—åšå¯¹<strong>åä¸‹</strong>å°±ç»™é›¶é£Ÿï¼ˆå¥–åŠ±ï¼‰ï¼Œæ²¡åšå¯¹å°±ä¸ç»™é›¶é£Ÿï¼ˆæ— å¥–åŠ±ï¼‰ï¼Œå°ç‹—çš„è¡Œä¸ºé€‰æ‹©å®Œå…¨ç”±è¿™ç§åé¦ˆé©±åŠ¨ã€‚</p>\n</li>\n<li>\n<p><strong>è¡Œä¸ºç­›é€‰</strong>ï¼šæ™ºèƒ½ä½“ï¼ˆå°ç‹—ï¼‰ä¼šåœ¨åŠ¨ä½œç©ºé—´é‡Œä¸æ–­å°è¯•ä¸åŒè¡Œä¸ºï¼Œè€Œå¥–æƒ©å°±åƒä¸€ä¸ªç­›é€‰å™¨ï¼Œ<strong>è¢«å¥–åŠ±çš„è¡Œä¸ºä¼šè¢«ä¿ç•™ï¼Œè¢«æƒ©ç½š/æ— å¥–åŠ±çš„è¡Œä¸ºä¼šè¢«æ·˜æ±°</strong>ã€‚æ¯”å¦‚å°ç‹—ä¸€å¼€å§‹å¯èƒ½å°è¯•è¹¦è·³ã€è¶´ç€ã€æ‘‡å°¾å·´ç­‰åŠ¨ä½œï¼Œè¿™äº›åŠ¨ä½œéƒ½æ²¡å¾—åˆ°é›¶é£Ÿï¼Œå°±ä¼šæ…¢æ…¢è¢«ç­›é€‰æ‰ï¼›åªæœ‰<strong>åä¸‹</strong>è¿™ä¸ªåŠ¨ä½œèƒ½æ‹¿åˆ°é›¶é£Ÿï¼Œå°±ä¼šè¢«ç­›é€‰å‡ºæ¥ã€‚</p>\n</li>\n<li>\n<p><strong>è¡Œä¸ºå·©å›º</strong>ï¼šè¢«ç­›é€‰å‡ºæ¥çš„æœ‰æ•ˆè¡Œä¸ºï¼Œä¼šåœ¨ä¸€æ¬¡æ¬¡é‡å¤çš„ã€Œ<strong>è¡Œä¸ºâ€”å¥–åŠ±</strong>ã€å¾ªç¯ä¸­è¢«å¼ºåŒ–ï¼Œæœ€ç»ˆå˜æˆç¨³å®šçš„æ¡ä»¶åå°„ã€‚æ¯”å¦‚å°ç‹—æ¯æ¬¡åšåä¸‹éƒ½èƒ½æ‹¿åˆ°é›¶é£Ÿï¼Œé‡å¤æ¬¡æ•°å¤šäº†ï¼Œå®ƒå°±ä¼šæŠŠ<strong>å¬åˆ°æŒ‡ä»¤â†’åä¸‹</strong>è¿™ä¸ªè¡Œä¸ºå›ºå®šä¸‹æ¥ï¼Œå½¢æˆç¨³å®šçš„æŠ€èƒ½ã€‚</p>\n</li>\n</ul>\n<p>ç®€å•æ¥è¯´ï¼Œã€Œ<strong>å¼ºåŒ–</strong>ã€ä¸æ˜¯å¢å¼ºèƒ½åŠ›ï¼Œè€Œæ˜¯å¼ºåŒ–ã€Œ<strong>åŠ¨ä½œ - å¥–åŠ±ä¹‹é—´</strong>ã€çš„å…³è”ï¼Œè®©æ™ºèƒ½ä½“æ…¢æ…¢è®°ä½<strong>åšä»€ä¹ˆèƒ½æ‹¿åˆ°å¥½å¤„ï¼Œåšä»€ä¹ˆä¼šåƒäº</strong>ã€‚å°±åƒè®­ç»ƒå°ç‹—æ—¶ï¼Œä½ ä¸ç”¨å¼ºè¡Œæ°å®ƒçš„è…¿è®©å®ƒåä¸‹ï¼Œåªéœ€è¦ç”¨é›¶é£Ÿçš„å¥–æƒ©ï¼Œè®©å®ƒè‡ªå·±æ‚Ÿå‡º<strong>åä¸‹=æœ‰åƒçš„</strong>è¿™ä¸ªè§„å¾‹ï¼Œæœ€åå½¢æˆç¨³å®šçš„è¡Œä¸ºä¹ æƒ¯ã€‚</p>\n<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç»§ç»­ä»¥<strong>è®­ç»ƒå°ç‹—åä¸‹ä¸ºä¾‹ï¼Œ</strong>ç†è§£ä¸‹å¼ºåŒ–å­¦ä¹ çš„å…³é”®è¦ç´ ã€å­¦ä¹ è¿‡ç¨‹ã€‚</p>\n<p>å¼ºåŒ–å­¦ä¹ çš„2ä¸ªæ ¸å¿ƒè§’è‰²ï¼š</p>\n<ul>\n<li>\n<p><strong>æ™ºèƒ½ä½“ï¼ˆAgentï¼‰</strong>ï¼šè¦å­¦ä¹ <strong>åä¸‹</strong>æŠ€èƒ½çš„<strong>å°ç‹—</strong></p>\n</li>\n<li>\n<p><strong>ç¯å¢ƒï¼ˆEnvironmentï¼‰</strong>ï¼šå°ç‹—æ‰€å¤„çš„è®­ç»ƒåœºæ™¯ï¼ˆæ¯”å¦‚å®¶é‡Œçš„å®¢å…ã€æˆ·å¤–çš„é™¢å­ç­‰ï¼‰</p>\n</li>\n</ul>\n<p>å¼ºåŒ–å­¦ä¹ çš„3ä¸ªå…³é”®è¦ç´ ï¼š</p>\n<ul>\n<li>\n<p><strong>çŠ¶æ€ç©ºé—´</strong> <span class=\"math inline\">\\(S\\)</span>ï¼šè®­ç»ƒç¯å¢ƒä¸­æ‰€æœ‰å¯èƒ½å‡ºç°çš„åœºæ™¯é›†åˆã€‚æ¯”å¦‚å°ç‹—å¯èƒ½ç«™ç€/è¶´ç€/å¯¹ç€ç©å…·å«ï¼Œä¹Ÿå¯èƒ½èº«è¾¹æœ‰é™Œç”Ÿäººç»è¿‡ï¼Œè¿™äº›ä¸åŒçš„çŠ¶æ€éƒ½å±äºçŠ¶æ€ç©ºé—´</p>\n</li>\n<li>\n<p><strong>åŠ¨ä½œç©ºé—´</strong> <span class=\"math inline\">\\(A\\)</span>ï¼šå°ç‹—èƒ½åšå‡ºçš„æ‰€æœ‰åŠ¨ä½œé›†åˆã€‚æ¯”å¦‚å°ç‹—å¯ä»¥ç«™ç€ä¸åŠ¨ã€è¶´ç€ä¼‘æ¯ã€æ‘‡å°¾å·´ã€è·³è·ƒã€åä¸‹ï¼Œè¿™äº›éƒ½æ˜¯å®ƒåŠ¨ä½œç©ºé—´é‡Œçš„å†…å®¹</p>\n</li>\n<li>\n<p><strong>å¥–åŠ±</strong> <span class=\"math inline\">\\(R\\)</span>ï¼šå°ç‹—å¤„äºæŸä¸ªçŠ¶æ€ã€åšå‡ºæŸä¸ªåŠ¨ä½œæ—¶ï¼Œç»™å‡ºçš„å³æ—¶åé¦ˆã€‚æ¯”å¦‚å°ç‹—åšå‡º<strong>åä¸‹</strong>åŠ¨ä½œæ—¶ï¼Œç»™å®ƒä¸€å—é›¶é£Ÿï¼›å¦‚æœå°ç‹—ä¹±è¹¦ä¹±è·³ä¸é…åˆï¼Œå°±ä¸ç»™é›¶é£Ÿç”šè‡³è½»å£°åˆ¶æ­¢ã€‚</p>\n</li>\n</ul>\n<p>é‚£å°ç‹—ï¼ˆæ™ºèƒ½ä½“ï¼‰å’Œè®­ç»ƒç¯å¢ƒæ˜¯æ€ä¹ˆäº’åŠ¨çš„ï¼Œæœ€ç»ˆå­¦ä¼šåä¸‹çš„å‘¢ï¼Ÿæˆ‘ä»¬ä»¥è®­ç»ƒä¸­ <span class=\"math inline\">\\(t\\)</span>æ—¶åˆ»çš„äº’åŠ¨è¿‡ç¨‹ä¸ºä¾‹ï¼š</p>\n<ul>\n<li>\n<p>å½“å‰çŠ¶æ€<span class=\"math inline\">\\(S\\_t\\)</span>ï¼šå°ç‹—æ­£ç«™åœ¨å®¢å…é‡Œçœ‹ç€ä½ ï¼Œæ­¤æ—¶å®ƒè¿˜æ²¡åšå‡ºç›®æ ‡åŠ¨ä½œï¼Œæ‰€ä»¥æ²¡æ‹¿åˆ°å¥–åŠ±ï¼Œå³æ—¶å¥–åŠ±<span class=\"math inline\">\\(R\\_t\\)</span>= 0</p>\n</li>\n<li>\n<p>å°ç‹—çš„åŠ¨ä½œ<span class=\"math inline\">\\(A\\_t\\)</span>ï¼šä½ å‘å‡º<strong>åä¸‹</strong>çš„æŒ‡ä»¤åï¼Œå°ç‹—å¯èƒ½åšå‡ºå„ç§ååº”ï¼Œæ¯”å¦‚è¹¦è·³ã€å¯èƒ½è¶´ç€ï¼Œä¹Ÿå¯èƒ½å¶ç„¶åšå‡º<strong>åä¸‹</strong>çš„åŠ¨ä½œï¼›</p>\n</li>\n<li>\n<p>æ–°çŠ¶æ€ <span class=\"math inline\">\\(S\\_{t+1}\\)</span>ä¸æ–°åé¦ˆä¸<span class=\"math inline\">\\(R\\_{t+1}\\)</span>ï¼šå¦‚æœå°ç‹—åˆšæ‰åšçš„åŠ¨ä½œ<span class=\"math inline\">\\(A\\_t\\)</span>=åä¸‹ï¼Œè®­ç»ƒçŠ¶æ€å°±å˜æˆ<strong>å°ç‹—å¤„äºåä¸‹çŠ¶æ€</strong><span class=\"math inline\">\\(S\\_{t+1}\\)</span>ï¼Œä¸»äººç«‹åˆ»ç»™å®ƒä¸€å—é›¶é£Ÿä½œä¸ºå¥–åŠ±<span class=\"math inline\">\\(R\\_{t+1}\\)</span>=2 çš„æ­£å‘å¥–åŠ±ï¼›å¦‚æœå°ç‹—åšçš„æ˜¯å…¶ä»–åŠ¨ä½œï¼Œ<span class=\"math inline\">\\(S\\_{t+1}\\)</span>å¯èƒ½å˜æˆå°ç‹—è¶´ç€æˆ–å°ç‹—è¹¦è·³ï¼Œä¸»äººä¸ç»™é›¶é£Ÿ<span class=\"math inline\">\\(R_{t+1}\\)</span>=0ã€‚</p>\n</li>\n</ul>\n<p>è¿™æ ·çš„äº’åŠ¨ä¼šä¸€æ¬¡æ¬¡é‡å¤ï¼šä¸»äººåå¤å‘å‡ºæŒ‡ä»¤ï¼Œå°ç‹—åœ¨ä¸åŒçŠ¶æ€ä¸‹å°è¯•ä¸åŒåŠ¨ä½œï¼Œå¹¶æ ¹æ®æ˜¯å¦æ‹¿åˆ°é›¶é£Ÿï¼ˆå¥–åŠ±ï¼‰æ€»ç»“ç»éªŒã€‚æœ€ç»ˆï¼Œå°ç‹—ï¼ˆæ™ºèƒ½ä½“ï¼‰å°±ä¼šå­¦åˆ°ä¸€å¥—æœ€ä¼˜ç©æ³•ï¼šå½“æ¥æ”¶åˆ°<strong>åä¸‹</strong>æŒ‡ä»¤æ—¶ï¼Œç«‹åˆ»åšå‡º<strong>åä¸‹</strong>åŠ¨ä½œï¼Œä»¥æ­¤ç¨³å®šæ‹¿åˆ°é›¶é£Ÿå¥–åŠ±ï¼Œè¿™å°±æ˜¯å¼ºåŒ–å­¦ä¹ çš„æ ¸å¿ƒé€»è¾‘ã€‚</p>\n<h2 id=\"12-ä»·å€¼å‡½æ•°\">1.2 ä»·å€¼å‡½æ•°</h2>\n<p>å‰é¢æåˆ°çš„<strong>å³æ—¶å¥–åŠ±</strong><span class=\"math inline\">\\(R\\_t\\)</span>ï¼Œåªåæ˜ äº†å½“å‰çŠ¶æ€<span class=\"math inline\">\\(S\\_t\\)</span>çš„æ”¶ç›Šï¼Œå¿½ç•¥äº†å½“å‰çŠ¶æ€å’ŒåŠ¨ä½œå¯¹æœªæ¥æ”¶ç›Šçš„å½±å“ã€‚æ›´åˆç†çš„è®¡ç®—æ–¹å¼ï¼Œéœ€è¦å…¼é¡¾<strong>å³æ—¶æ”¶ç›Š</strong>å’Œ<strong>æœªæ¥æ”¶ç›Š</strong>ï¼Œå…¬å¼å¦‚ä¸‹ï¼š</p>\n<p></p><div class=\"math display\">\\[V\\_t = R_t + \\gamma V_{t+1}\n\\]</div><p></p><p>å…¶ä¸­ï¼š</p>\n<ul>\n<li>\n<p><span class=\"math inline\">\\(V_t\\)</span>ï¼š<span class=\"math inline\">\\(t\\)</span>æ—¶åˆ»çš„æ€»æ”¶ç›Šï¼ˆåŒ…å«å³æ—¶å’Œæœªæ¥æ”¶ç›Šï¼‰</p>\n</li>\n<li>\n<p><span class=\"math inline\">\\(R_t\\)</span>ï¼š<span class=\"math inline\">\\(t\\)</span>æ—¶åˆ»çš„å³æ—¶æ”¶ç›Š</p>\n</li>\n<li>\n<p><span class=\"math inline\">\\(V_{t+1}\\)</span>ï¼š <span class=\"math inline\">\\(t+1\\)</span>æ—¶åˆ»çš„æ€»æ”¶ç›Šï¼Œå¯¹ <span class=\"math inline\">\\(t\\)</span>æ—¶åˆ»è€Œè¨€å±äºæœªæ¥æ”¶ç›Š</p>\n</li>\n<li>\n<p><span class=\"math inline\">\\(\\gamma\\)</span>ï¼šæŠ˜æ‰£å› å­ï¼Œç”¨æ¥è°ƒèŠ‚æœªæ¥æ”¶ç›Šåœ¨å½“å‰æ€»æ”¶ç›Šä¸­çš„æƒé‡</p>\n</li>\n</ul>\n<p>æ­¤å¤„ä¸å±•å¼€å¼ºåŒ–å­¦ä¹ ä»·å€¼å‡½æ•°çš„å‡è®¾ä¸æ¨å¯¼ï¼Œä»…æä¾›ç®€åŒ–ç»“è®ºï¼Œæ–¹ä¾¿è¯»è€…èšç„¦äºæ›´å¥½çš„ç†è§£å„ç±»ç®—æ³•ç­–ç•¥çš„å…·ä½“åšæ³•å’Œç›´è§‰ç†è§£ã€‚</p>\n<h2 id=\"13-nlpä¸­çš„å¼ºåŒ–å­¦ä¹ \">1.3 NLPä¸­çš„å¼ºåŒ–å­¦ä¹ </h2>\n<p>å¯¹åº”åˆ°<span class=\"math inline\">\\(NLP\\)</span> ä¸‹ï¼Œå¤§è¯­è¨€æ¨¡å‹å°±æ˜¯æ™ºèƒ½ä½“ï¼Œè¾“å…¥çš„æç¤ºè¯ <span class=\"math inline\">\\(prompt\\)</span> å°±å¯¹åº”çŠ¶æ€ <span class=\"math inline\">\\(S\\)</span>ï¼Œè¾“å‡ºä¸‹ä¸€ä¸ª<span class=\"math inline\">\\(token\\)</span> å°±æ˜¯åŠ¨ä½œ <span class=\"math inline\">\\(A\\)</span>ï¼Œå¯¹ <span class=\"math inline\">\\(prompt+response\\)</span> è¿›è¡Œæ‰“åˆ†å°±æ˜¯å¥–åŠ± <span class=\"math inline\">\\(R\\)</span>ï¼Œæ•´ä½“ç›®æ ‡å°±æ˜¯ç»™å®š<span class=\"math inline\">\\(prompt\\)</span>ï¼Œè°ƒæ•´ç­–ç•¥æ¨¡å‹ï¼Œç”Ÿæˆç¬¦åˆäººç±»å–œå¥½çš„<span class=\"math inline\">\\(response\\)</span>ã€‚</p>\n<h1 id=\"2-rlhfçš„èµ·æº\">2 RLHFçš„èµ·æº</h1>\n<p>è®ºæ–‡æ ‡é¢˜ï¼šDeep Reinforcement Learning from Human Preferences</p>\n<p>è®ºæ–‡åœ°å€ï¼š<a href=\"https://arxiv.org/pdf/1706.03741\" rel=\"noopener nofollow\" target=\"_blank\">https://arxiv.org/pdf/1706.03741</a></p>\n<p><img alt=\"\" class=\"lazyload\" /></p>\n<p>è¿™ç¯‡å‘è¡¨äº2017å¹´NIPSçš„è®ºæ–‡æ˜¯å¼ºåŒ–å­¦ä¹ é¢†åŸŸçš„å¼€åˆ›æ€§æˆæœï¼Œå…¶æ ¸å¿ƒè®¾è®¡ç›´æ¥å¥ å®šäº†å¤§æ¨¡å‹RLHFçš„æŠ€æœ¯åŸºç¡€ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹è¿™ç¯‡è®ºæ–‡åˆ°åº•åšå‡ºäº†å“ªäº›å¼€åˆ›æ–°å·¥ä½œã€ä»¥åŠå¦‚ä½•å¯¹RLHFå¸¦æ¥å¯å‘çš„ã€‚</p>\n<h2 id=\"21-æ–‡ç« çš„æ ¸å¿ƒé—®é¢˜åˆ›æ–°ä¸æ–¹æ³•\">2.1 æ–‡ç« çš„æ ¸å¿ƒï¼šé—®é¢˜ã€åˆ›æ–°ä¸æ–¹æ³•</h2>\n<ul>\n<li>\n<p><strong>è§£å†³çš„é—®é¢˜</strong>ï¼šä¼ ç»Ÿå¼ºåŒ–å­¦ä¹ çš„æ ¸å¿ƒæ€è·¯æ˜¯ä¸ºä»»åŠ¡æ‰‹å·¥è®¾è®¡æ˜ç¡®å¥–åŠ±å‡½æ•°ï¼Œç”¨ä»¥å¼•å¯¼æ™ºèƒ½ä½“å­¦ä¹ ã€‚è¿™ç§æ¨¡å¼å¯¹äºç®€å•çš„åº”ç”¨åœºæ™¯è¿˜è¡Œï¼Œä¸€æ—¦æ¶‰åŠå¤æ‚åœºæ™¯ï¼Œå¦‚æœºå™¨äººæ§åˆ¶ã€æ¸¸æˆï¼Œä¼šé¢ä¸´å¥–åŠ±å‡½æ•°éš¾ä»¥ç²¾å‡†å®šä¹‰ã€å¥–åŠ±è®¾è®¡è¿èƒŒäººç±»çœŸå®éœ€æ±‚çš„é—®é¢˜ï¼Œç›´æ¥å½±å“æ˜¯æ™ºèƒ½ä½“è¡Œä¸ºä¸äººç±»åå¥½ä¸¥é‡é”™ä½ï¼Œæ¯”å¦‚æœºå™¨äººä¸ºé€‚é…ç®€å•å¥–åŠ±è§„åˆ™ä¼šå‡ºç°è·›è¡Œå¼è¡Œèµ°ï¼Œæ™ºèƒ½é©¾é©¶æ™ºèƒ½ä½“ä¸ºè¿½æ±‚å¾—åˆ†å¥–åŠ±è€Œå¿½è§†äººç±»æ›´çœ‹é‡çš„å¹³ç¨³é©¾é©¶ä½“éªŒã€‚</p>\n</li>\n<li>\n<p><strong>æ ¸å¿ƒåˆ›æ–°</strong>ï¼šèˆå¼ƒæ‰‹å·¥è®¾è®¡å¥–åŠ±ï¼Œæå‡ºã€Œ<strong>ç”¨äººç±»åå¥½åé¦ˆé©±åŠ¨å¼ºåŒ–å­¦ä¹ </strong>ã€ï¼Œæ— éœ€çœŸå®å¥–åŠ±å‡½æ•°å°±å¯ä»¥è®©æ™ºèƒ½ä½“å¯¹é½äººç±»éœ€æ±‚ï¼Œå¤§å¹…é™ä½äººç±»ç›‘ç£æˆæœ¬ã€‚</p>\n</li>\n<li>\n<p><strong>å…³é”®æ–¹æ³•</strong>ï¼šæ„å»ºã€Œ<strong>åå¥½æ”¶é›†â†’å¥–åŠ±å»ºæ¨¡â†’ç­–ç•¥ä¼˜åŒ–</strong>ã€ä¸‰é˜¶æ®µé—­ç¯ã€‚â‘  åå¥½æ”¶é›†ï¼šè®©éä¸“å®¶å¯¹æ¯”1-2ç§’çŸ­è½¨è¿¹ç‰‡æ®µï¼ˆå¦‚æœºå™¨äººåç©ºç¿»æˆè´¥ç‰‡æ®µï¼‰ï¼Œå¿«é€Ÿç»™å‡ºåå¥½åˆ¤æ–­ï¼›â‘¡ å¥–åŠ±å»ºæ¨¡ï¼šç”¨Bradley-Terryæ¨¡å‹è®­ç»ƒå¥–åŠ±æ¨¡å‹ï¼Œæ‹Ÿåˆäººç±»åå¥½èƒŒåçš„éšæ€§è§„åˆ™ï¼›â‘¢ ç­–ç•¥ä¼˜åŒ–ï¼šé€šè¿‡A2Cï¼ˆæ¸¸æˆåœºæ™¯ï¼‰ã€TRPOï¼ˆæœºå™¨äººåœºæ™¯ï¼‰ç®—æ³•ï¼Œç»“åˆæ‹Ÿåˆçš„å¥–åŠ±æ¨¡å‹æŒç»­æ›´æ–°ç­–ç•¥ã€‚</p>\n</li>\n</ul>\n<h2 id=\"22-æ–¹æ³•æ•ˆæœ\">2.2 æ–¹æ³•æ•ˆæœ</h2>\n<p>è®ºæ–‡åœ¨å¤šä¸ªåœºæ™¯éªŒè¯äº†æ‰€ææ–¹æ³•çš„æœ‰æ•ˆæ€§ï¼šâ‘  MuJoCoæœºå™¨äººä»»åŠ¡ï¼ˆ8é¡¹ï¼‰ï¼šä»…700æ¡äººç±»æŸ¥è¯¢ï¼Œæ€§èƒ½å°±æ¥è¿‘æ‰‹å·¥å¥–åŠ±æ–¹æ¡ˆï¼Œ1400æ¡æŸ¥è¯¢å®ç°åè¶…ï¼›â‘¡ Atariæ¸¸æˆï¼ˆ7é¡¹ï¼‰ï¼š5500æ¡æŸ¥è¯¢è®©å¤šæ•°ä»»åŠ¡æ€§èƒ½æ˜¾è‘—æå‡ï¼›â‘¢ å¯è®­ç»ƒnovelè¡Œä¸ºï¼š1å°æ—¶å†…æ•™ä¼šæœºå™¨äººè¿ç»­åç©ºç¿»ç­‰äººç±»éš¾ä»¥æ¼”ç¤ºçš„åŠ¨ä½œã€‚æ ¸å¿ƒäº®ç‚¹æ˜¯ä»…éœ€ä¸åˆ°1%çš„ç¯å¢ƒäº¤äº’åé¦ˆï¼Œå°±èƒ½è¾¾åˆ°ç”šè‡³è¶…è¶Šä¼ ç»Ÿæ–¹æ³•ã€‚</p>\n<h2 id=\"23-å¯¹å¤§æ¨¡å‹rlhfçš„å¯å‘\">2.3 å¯¹å¤§æ¨¡å‹RLHFçš„å¯å‘</h2>\n<p>è®ºæ–‡çš„æ ¸å¿ƒæ€æƒ³ä¸è®¾è®¡ï¼Œè¢«RLHFå®Œæ•´ç»§æ‰¿å¹¶é€‚é…æ–‡æœ¬åœºæ™¯ï¼ˆåæ–‡ä¼šç»™å‡ºè¯¦ç»†è§£è¯»ï¼‰ï¼Œæˆä¸ºå…¶æ ¸å¿ƒæŠ€æœ¯æ¡†æ¶ï¼š</p>\n<ul>\n<li>\n<p><strong>æ ¸å¿ƒé€»è¾‘å¤ç”¨</strong>ï¼šRLHFç›´æ¥å€Ÿé‰´ã€Œ<strong>ç”¨äººç±»åå¥½æ›¿ä»£æ‰‹å·¥å¥–åŠ±</strong>ã€çš„æ€è·¯ï¼Œè§£å†³å¤§æ¨¡å‹å¯¹è¯è¿è´¯æ€§ã€ç¤¼è²Œæ€§ç­‰éš¾ä»¥é‡åŒ–çš„é—®é¢˜ï¼Œé¿å…å¤§æ¨¡å‹æ— æ³•å¯¹é½äººç±»åå¥½ã€‚</p>\n</li>\n<li>\n<p><strong>ä¸‰æ­¥æµç¨‹ç…§æŠ„</strong>ï¼šè®©æ ‡æ³¨å‘˜å¿«é€Ÿå¯¹æ¯”ä¸¤æ¡æ–‡æœ¬ï¼Œé€‰å‡ºäººç±»åå¥½ï¼Œè®­ç»ƒæ¨¡å‹å­¦ä¼šæ€ä¹ˆç»™æ–‡æœ¬æ‰“åˆ†ï¼Œå°†äººç±»åå¥½æ‰“åˆ†èåˆåˆ°PPOç®—æ³•ä¸­ä¼˜åŒ–å¤§æ¨¡å‹å‚æ•°</p>\n</li>\n<li>\n<p><strong>å…³é”®çªç ´çš„æ”¯æ’‘</strong>ï¼šå¤§æ¨¡å‹æ–‡æœ¬ä»»åŠ¡ç»´åº¦æé«˜ï¼Œå…¨é‡æ ‡æ³¨ä¸ç°å®ï¼Œå¾—ç›Šäºè®ºæ–‡éªŒè¯çš„ã€Œ<strong>å°‘é‡åé¦ˆå³å¯é©±åŠ¨æ¨¡å‹ä¼˜åŒ–</strong>ã€ï¼ŒRLHFä»…ç”¨æ•°ä¸‡æ¡åå¥½æ•°æ®å°±å®ç°äº†é—®ç­”è´¨é‡è·ƒå‡ã€‚</p>\n</li>\n</ul>\n<p>ä»ä¸Šé¢çš„æè¿°å¯ä»¥çœ‹å‡ºï¼Œè®ºæ–‡æå‡ºçš„ã€Œ<strong>å¥–åŠ±éš¾å®šä¹‰</strong>ã€ã€ã€Œ<strong>ä¸‰é˜¶æ®µé—­ç¯</strong>ã€ã€ã€Œ<strong>ä½æˆæœ¬åé¦ˆ</strong>ã€æ„æˆäº†RLHFçš„æŠ€æœ¯åŸºçŸ³ï¼Œå¯å‘äº†OpenAIçš„ç ”å‘äººå‘˜å°†ã€Œ<strong>æ™ºèƒ½ä½“å¯¹é½äººç±»åå¥½</strong>ã€è¿™ä¸€æƒ³æ³•ï¼Œä»æœºå™¨äººã€æ¸¸æˆé¢†åŸŸæˆåŠŸè¿ç§»è‡³å¤§æ¨¡å‹ï¼Œæˆä¸ºChatGPTä¸€å¤œçˆ†ç«çš„é‡è¦åŸå› ã€‚</p>\n<h1 id=\"3-rlhf-ppo\">3 RLHF-PPO</h1>\n<p>è®ºæ–‡æ ‡é¢˜ï¼šTraining language models to follow instructions with human feedback è®ºæ–‡åœ°å€ï¼š <a href=\"https://arxiv.org/pdf/2203.02155\" rel=\"noopener nofollow\" target=\"_blank\">https://arxiv.org/pdf/2203.02155</a></p>\n<p>PPOï¼ˆProximal Policy Optimizationï¼‰ç®—æ³•æ˜¯ InstructGPT æ¨¡å‹å®ç°äººç±»åé¦ˆå¼ºåŒ–å­¦ä¹ ï¼ˆRLHFï¼‰çš„æ ¸å¿ƒï¼Œæ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡çº¦æŸç­–ç•¥æ›´æ–°å¹…åº¦ï¼Œåœ¨ä¿è¯è®­ç»ƒç¨³å®šæ€§çš„å‰æä¸‹ï¼Œæœ€å¤§åŒ–äººç±»åå¥½å¯¼å‘çš„å¥–åŠ±ï¼ŒåŒæ—¶é¿å…ç­–ç•¥è¿‡åº¦åç¦»åˆå§‹ç›‘ç£æ¨¡å‹ã€‚</p>\n<h2 id=\"31-rlhf-ppoçš„å››å¤§æ¨¡å‹\">3.1 RLHF-PPOçš„å››å¤§æ¨¡å‹</h2>\n<p>ç›¸æ¯”ä¼ ç»ŸPPOç®—æ³•ï¼ŒRLHF-PPOæ¨¡å‹æ¶æ„æ›´ä¸ºå¤æ‚ï¼Œä¸€å…±åŒ…å«4ä¸ªæ¨¡å‹ï¼Œæ¯”ä¼ ç»ŸPPOå¤šå‡ºäº†<strong>å‚è€ƒæ¨¡å‹ï¼ˆReference Modelï¼‰</strong> å’Œ<strong>å¥–åŠ±æ¨¡å‹ï¼ˆReward Modelï¼‰</strong>ã€‚</p>\n<p>**å››å¤§æ¨¡å‹ä½œç”¨å’Œå‚æ•°åˆå§‹åŒ–ï¼š</p>\n<ul>\n<li>\n<p><strong>Actor Model</strong> <span class=\"math inline\">\\(\\pi_{\\theta}\\)</span> ï¼šç”¨SFTåçš„æ¨¡å‹ä½œä¸ºåˆå§‹æ¨¡å‹ï¼Œé€šè¿‡PPOè®­ç»ƒè°ƒæ•´å‚æ•°ï¼Œå¾—åˆ°æœ€ç»ˆçš„æ¨¡å‹ï¼Œä½¿å…¶ç”Ÿæˆçš„å›ç­”æ›´ç¬¦åˆäººç±»åå¥½ï¼Œ<strong>å‚æ•°å¯å˜</strong>ã€‚</p>\n</li>\n<li>\n<p><strong>Reference Model</strong> <span class=\"math inline\">\\(\\pi_{base}\\)</span>ï¼šSFTåçš„æ¨¡å‹ï¼Œç”¨äºé™åˆ¶Actor Modelä¸è¦åç¦»Reference Modelå¤ªè¿œï¼Œ<strong>å‚æ•°å†»ç»“</strong>ã€‚</p>\n</li>\n<li>\n<p><strong>Reward Model</strong> <span class=\"math inline\">\\(r\\_{\\theta}\\)</span>ï¼šå¯¹æ¨¡å‹å›ç­”æ‰“åˆ†ï¼Œè¡¨ç¤ºè´´åˆäººç±»åå¥½çš„ç¨‹åº¦ï¼Œè®­ç»ƒå®Œåï¼Œåœ¨PPOä¸­æ˜¯<strong>å‚æ•°å†»ç»“</strong>çš„ã€‚</p>\n</li>\n<li>\n<p><strong>Critic Model</strong> <span class=\"math inline\">\\(V_{t}\\)</span>ï¼šç”¨äºé¢„æµ‹æœŸæœ›æ€»æ”¶ç›Šï¼Œä¸ºä¼˜åŠ¿å‡½æ•° <span class=\"math inline\">\\(A_{t}\\)</span>æä¾›åŸºçº¿ï¼Œä½¿ç­–ç•¥æ›´æ–°æ›´ç¨³å®šï¼Œ<strong>å‚æ•°å¯å˜</strong>ã€‚</p>\n</li>\n</ul>\n<h2 id=\"32-rlhf-ppoçš„è®­ç»ƒè¿‡ç¨‹\">3.2 RLHF-PPOçš„è®­ç»ƒè¿‡ç¨‹</h2>\n<p><img alt=\"\" class=\"lazyload\" /></p>\n<p>æˆ‘ä»¬å›é¡¾ä¸€ä¸‹RLHFé‡Œçš„æ•´ä½“æµç¨‹ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼š</p>\n<p>Step 1ï¼šæ”¶é›†æ¼”ç¤ºæ•°æ®ï¼Œè®­ç»ƒç›‘ç£ç­–ç•¥ï¼ˆSFTï¼‰</p>\n<p>Step 2ï¼šæ”¶é›†å¯¹æ¯”æ•°æ®ï¼Œè®­ç»ƒå¥–åŠ±æ¨¡å‹ï¼ˆRMï¼‰</p>\n<p>Step 3ï¼šç”¨å¼ºåŒ–å­¦ä¹ ï¼ˆPPOï¼‰ä¼˜åŒ–ç­–ç•¥æ¨¡å‹</p>\n<p>æ•´ä¸ªæµç¨‹çš„æ ¸å¿ƒæ˜¯<strong>ç”¨äººç±»åå¥½æ•°æ®ï¼ˆæ¼”ç¤ºã€æ’åºï¼‰æŒ‡å¯¼æ¨¡å‹è®­ç»ƒ</strong>ï¼Œæœ€ç»ˆè®©å¤§æ¨¡å‹è¾“å‡ºæ—¢æœ‰ç”¨ã€åˆç¬¦åˆäººç±»æ„å›¾çš„å†…å®¹ã€‚</p>\n<p>ä¸‹é¢ï¼Œé‡ç‚¹è®¨è®ºPPOç®—æ³•çš„è®­ç»ƒè¿‡ç¨‹</p>\n<h3 id=\"ç»éªŒæ•°æ®æ”¶é›†\">ç»éªŒæ•°æ®æ”¶é›†</h3>\n<ul>\n<li>\n<p>å°†ä¸€ä¸ªbatchçš„promptå–‚ç»™å½“å‰çš„Actoræ¨¡å‹<span class=\"math inline\">\\(\\pi_{\\theta}\\)</span>ï¼Œç”Ÿæˆå¯¹åº”çš„å“åº”åºåˆ—response</p>\n</li>\n<li>\n<p>å¯¹äºå“åº”åºåˆ—çš„æ¯ä¸ªtokenï¼Œè®¡ç®—ä»¥ä¸‹ä¸­é—´å˜é‡ï¼š</p>\n<ul>\n<li>\n<p>Actoræ¨¡å‹çš„å¯¹æ•°æ¦‚ç‡<span class=\"math inline\">\\(log(\\pi_\\theta(a_t | s_t))\\)</span></p>\n</li>\n<li>\n<p>Referenceæ¨¡å‹çš„å¯¹æ•°æ¦‚ç‡<span class=\"math inline\">\\(log(\\pi_{base}(a_t | s_t))\\)</span></p>\n</li>\n<li>\n<p>Criticæ¨¡å‹æ ¹æ®å½“å‰çŠ¶æ€ <span class=\"math inline\">\\(s\\_t\\)</span>çš„ä»·å€¼ä¼°è®¡ $V_t $</p>\n</li>\n<li>\n<p>è®¡ç®—æ¯ä¸ªtokençš„KLæ•£åº¦<span class=\"math inline\">\\(kl = log(\\pi_\\theta(a_t | s_t)) - log(\\pi_{base}(a_t | s_t)) = log \\frac {\\pi_\\theta(a_t | s_t)}{\\pi_{base}(a_t | s_t)}\\)</span></p>\n</li>\n<li>\n<p>è‹¥è¯¥tokenä½äºåºåˆ—çš„æœ€åä¸€ä¸ªï¼Œé€šè¿‡Reward Model è®¡ç®—äººç±»åå¥½åˆ†æ•°<span class=\"math inline\">\\(r_{\\theta}\\)</span></p>\n</li>\n<li>\n<p>ç»“åˆ Reward Model è®¡ç®—äººç±»åå¥½åˆ†æ•°<span class=\"math inline\">\\(r_{\\theta}\\)</span>ï¼ˆåªåœ¨æœ€åä¸€æ­¥ï¼‰å’Œ æ¯ä¸ªtoken çš„ KL æƒ©ç½š ï¼Œè®¡ç®—å‡ºæ¯ä¸ªtokençš„æœ€ç»ˆå³æ—¶å¥–åŠ±ä¿¡å· $R_t $ï¼Œä»¥deepspeed-chatçš„RLHFä¸ºä¾‹ï¼Œ $R_t $çš„è®¡ç®—å¦‚ä¸‹</p>\n</li>\n</ul>\n<p>$$\\begin{align} R_t = \\begin{cases} -kl\\_ctl *(log\\frac{\\pi_\\theta(a_t | s_t)}{\\pi_{base}(a_t | s_t)}), &amp;\\text t\\not =T \\\\ -kl\\_ctl *(log\\frac{\\pi_\\theta(a_t | s_t)}{\\pi_{base}(a_t | s_t)}) + r_\\theta, &amp;\\text t=T \\end{cases} \\end{align}$$</p>\n<ul>\n<li>ä½¿ç”¨æœ€ç»ˆå³æ—¶å¥–åŠ±ä¿¡å· $R_t $å’ŒCriticæ¨¡å‹çš„ä»·å€¼ä¼°è®¡ $V_t $ï¼Œé€šè¿‡ GAE (Generalized Advantage Estimation) æ–¹æ³•è®¡ç®—æ¯ä¸ª token çš„ä¼˜åŠ¿ <span class=\"math inline\">\\(Adv_t\\)</span>ï¼Œè®¡ç®—å¦‚ä¸‹</li>\n</ul>\n</li>\n</ul>\n<p></p><div class=\"math display\">\\[\\begin{align} \\delta_t = R_t + \\gamma*V_{t+1} - V_t \\\\ Adv_t = \\delta_t + \\gamma* \\lambda*Adv_{t+1} \\end{align}\n\\]</div><p></p><p>å°†å‰é¢æ”¶é›†åˆ°çš„ç»éªŒæ•°æ®ï¼ˆpromptã€<span class=\"math inline\">\\(log(\\pi_\\theta(a_t | s_t))\\)</span>ã€<span class=\"math inline\">\\(log(\\pi_{base}(a_t | s_t))\\)</span> ã€<span class=\"math inline\">\\(Adv_t\\)</span>ã€...ï¼‰æ„æˆæ‰¹æ¬¡ï¼Œæ”¾åˆ°ç»éªŒæ± ä¸­</p>\n<p>å¦‚æœå¯¹ä¸Šè¿°è®¡ç®—è¿‡ç¨‹æœ‰ç–‘æƒ‘ï¼Œå¯ä»¥å›çœ‹<a href=\"https://mp.weixin.qq.com/s/8O7W8--x14-b1d3M9IS_3w\" rel=\"noopener nofollow\" target=\"_blank\">å°ç™½ä¹Ÿèƒ½çœ‹æ‡‚çš„RLHF-PPOï¼šåŸç†ç¯‡</a>ï¼Œæ–‡ç« æœ‰è¯¦ç»†è§£è¯»ã€‚</p>\n<h3 id=\"æ¨¡å‹å‚æ•°æ›´æ–°\">æ¨¡å‹å‚æ•°æ›´æ–°</h3>\n<ul>\n<li>\n<p>å¾ªç¯epochsæ¬¡</p>\n<ul>\n<li>\n<p>å¯¹ç»éªŒæ± çš„æ¯ä¸ªbatchæ•°æ®</p>\n<ul>\n<li>\n<p>Actor Modelå‚æ•°æ›´æ–°ï¼š PPOæ›´æ–°æ¨¡å‹ <span class=\"math inline\">\\(\\pi_{\\theta}\\)</span> å‚æ•°ï¼Œè¿™é‡Œä¸ºäº†é˜²æ­¢ç­–ç•¥æ¨¡å‹ <span class=\"math inline\">\\(\\pi_{\\theta}\\)</span> è¿‡åº¦åç¦»å‚è€ƒæ¨¡å‹ <span class=\"math inline\">\\(\\pi_{base}\\)</span> ï¼Œæœ‰ä¸¤ç§å½¢å¼ä¿è¯æ¨¡å‹åœ¨æœ‰é™çš„ç©ºé—´é‡Œå¾®è°ƒå‚æ•°ï¼Œä¸€ç§æ˜¯å¼•å…¥PPO-KLæ•£åº¦ï¼Œ</p>\n<p>$$\\begin{align} L^{PPO-KL}(\\theta) = E_{\\tau \\sim {\\pi_{base}}}^t [\\frac{\\pi_\\theta(a_t | s_t)}{\\pi_{base}(a_t | s_t)} A_{t} - \\beta D_{KL}(\\pi_{base}(.|x_t) || \\pi_{\\theta}(.|x_t))] \\end {align}$$</p>\n<p>å¦ä¸€ç§PPO-CLIPæ¯”è¾ƒç›´æ¥ï¼Œåœ¨ç›®æ ‡å‡½æ•°ä¸­ï¼Œé™åˆ¶æ–°æ—§æ¨¡å‹çš„å·®è·åœ¨çº¦å®šçš„åŒºé—´å†…ï¼š</p>\n<p>$$\\begin{align} L^{PPO-CLIP}(\\theta) = E_{\\tau \\sim {\\pi_{base}}}^t [min( \\frac{\\pi_\\theta(a_t | s_t)}{\\pi_{base}(a_t | s_t)} A_{t},  \\ clip(\\frac{\\pi_\\theta(a_t | s_t)}{\\pi_{base}(a_t | s_t)}, 1-\\varepsilon,1+\\varepsilon)A_{t})] \\end {align}$$</p>\n</li>\n<li>\n<p>Critic Modelå‚æ•°æ›´æ–°ï¼š$$\\begin{align} L^{Critic}({\\phi}) &amp;= E_t [(R_t + \\gamma V_{t+1} - V_t)^2] \\end {align}$$</p>\n<p><span class=\"math inline\">\\(V\\_{t}\\)</span>: Criticæ¨¡å‹å¯¹ <span class=\"math inline\">\\(t\\)</span>æ—¶åˆ»æ”¶ç›Šçš„é¢„ä¼°ï¼Œå³æœªæ¥å’Œå³æ—¶æ”¶ç›Šçš„æ•´ä½“é¢„ä¼°</p>\n<p>$ R_t + \\gamma*V_{t+1}<span class=\"math inline\">\\(: è®¡ç®—å¾—åˆ°çš„å³æ—¶æ”¶ç›Š\\)</span>R_{t}$ ,<span class=\"math inline\">\\(\\gamma*V_{t+1}\\)</span> ä¸ºCriticæ¨¡å‹é¢„æµ‹å‡º <span class=\"math inline\">\\(t+1\\)</span>æ—¶åˆ»ä¹‹åçš„æŠ˜æŸæ”¶ç›Š</p>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"æ¨¡å‹å‚æ•°åŒæ­¥\">æ¨¡å‹å‚æ•°åŒæ­¥</h3>\n<ul>\n<li>\n<p><strong>ç­–ç•¥å‚æ•°æ›´æ–°</strong>ï¼šå®Œæˆç»éªŒæ± çš„æ•°æ®è®­ç»ƒè¿­ä»£åï¼Œç”¨æ–°è®­ç»ƒå¾—åˆ°çš„Actoræ¨¡å‹å‚æ•°ã€Criticæ¨¡å‹å‚æ•°æ›¿æ¢æ—§çš„æ¨¡å‹å‚æ•°ã€‚</p>\n</li>\n<li>\n<p><strong>ä¸¢å¼ƒæ—§æ•°æ®</strong>ï¼šå› è¿™æ‰¹æ•°æ®æ˜¯ç”¨æ—§ç­–ç•¥æ¨¡å‹æ”¶é›†çš„ï¼Œä¸ç°æœ‰çš„æ–°ç­–ç•¥æ¨¡å‹åå·®è¾ƒå¤§ï¼Œé‡è¦æ€§é‡‡æ ·çš„å‡è®¾ä¸å†å‡†ç¡®ï¼Œæ‰€ä»¥å¿…é¡»ä¸¢å¼ƒå½“å‰è¿™æ‰¹æ•°æ®ã€‚</p>\n</li>\n<li>\n<p><strong>å¾ªç¯è®­ç»ƒæµç¨‹</strong>ï¼šå›åˆ°æ•°æ®æ”¶é›†é˜¶æ®µï¼Œç”¨æ›´æ–°åçš„ç­–ç•¥æ¨¡å‹ä¸ç¯å¢ƒé‡æ–°äº¤äº’ï¼Œé‡‡é›†å…¨æ–°çš„æ•°æ®ï¼›ä¹‹åé‡å¤æ•´ä¸ªè®­ç»ƒæµç¨‹ï¼Œç›´åˆ°ç­–ç•¥æ€§èƒ½ç¨³å®šæ”¶æ•›ï¼Œæˆ–è¾¾åˆ°é¢„è®¾çš„è®­ç»ƒæ­¥æ•°ã€‚</p>\n</li>\n</ul>\n<p>ä»¥ä¸Šå°±æ˜¯PPOç®—æ³•è®­ç»ƒå…¨æµç¨‹çš„è¯´æ˜ï¼Œæ ¸å¿ƒç¯èŠ‚åŒ…æ‹¬ï¼šç»éªŒæ•°æ®æ”¶é›†ã€æ¨¡å‹å‚æ•°æ›´æ–°å’Œæ¨¡å‹å‚æ•°åŒæ­¥</p>\n<h2 id=\"33-rlhf-ppoçš„ä¼˜ç¼ºç‚¹\">3.3 RLHF-PPOçš„ä¼˜ç¼ºç‚¹</h2>\n<p><strong>ä¼˜ç‚¹</strong>ï¼šâ‘  ç¨³å®šæ€§å¼ºï¼šé è£å‰ª/KLæƒ©ç½šé™åˆ¶ç­–ç•¥æ›´æ–°å¹…ï¼Œé™ä½å´©åé£é™©ï¼Œæ˜“æ”¶æ•›ï¼›â‘¡ æ˜“è½åœ°ï¼šæ— éœ€TRPOçš„äºŒé˜¶è®¡ç®—ï¼Œç”¨Adamä¼˜åŒ–å™¨å³å¯ï¼›æ ¸å¿ƒè¶…å‚æ•°ï¼ˆå¦‚clipç³»æ•°ã€GAEå‚æ•°ï¼‰æ˜“è°ƒè¯•</p>\n<p><strong>ç¼ºç‚¹</strong>ï¼šâ‘  è®­ç»ƒæˆæœ¬é«˜ï¼šæ¶‰åŠ4ä¸ªæ¨¡å‹çš„è¿ç®—/æ›´æ–°ï¼Œæ˜¯åç»­æ”¹è¿›é‡ç‚¹ï¼›â‘¡ æ¢¯åº¦ä¿¡æ¯æµªè´¹ï¼šclipæœºåˆ¶ä¼šæˆªæ–­å¤§é‡æ¢¯åº¦ï¼Œæ‹–æ…¢è®­ç»ƒã€é™åˆ¶ç­–ç•¥ç²¾ç»†åº¦ï¼›â‘¢ æ ·æœ¬åˆ©ç”¨ç‡ä½ï¼šæœ¬è´¨æ˜¯on-policyæ¶æ„ï¼Œç­–ç•¥åŒæ­¥é˜¶æ®µéœ€ä¸¢å¼ƒæ—§æ•°æ®ï¼Œæ–°æ¨¡å‹æ¯æ¬¡æ”¶é›†æ•°æ®éƒ½ä¼šå¸¦æ¥ç®—åŠ›ã€æ—¶é—´æˆæœ¬ã€‚</p>\n<h1 id=\"4-dpo\">4 DPO</h1>\n<p>è®ºæ–‡æ ‡é¢˜ï¼šDirect Preference Optimization: Your Language Model is Secretly a Reward Model è®ºæ–‡åœ°å€ï¼š<a href=\"https://arxiv.org/pdf/2305.18290\" rel=\"noopener nofollow\" target=\"_blank\">https://arxiv.org/pdf/2305.18290</a></p>\n<p><img alt=\"\" class=\"lazyload\" /></p>\n<p>å¦‚å‰æ–‡æ‰€è¿°ï¼ŒPPOç®—æ³•è™½è¢«è¯å®æœ‰æ•ˆï¼Œä½†ä¹Ÿæš´éœ²è¯¸å¤šç—›ç‚¹ã€‚å¦‚éœ€åŒæ—¶ç»´æŠ¤å’Œè¿è¡Œå››ä¸ªæ¨¡å‹ï¼Œå¯¹è®¡ç®—èµ„æºå’Œæ˜¾å­˜çš„è¦æ±‚æé«˜ï¼›è®­ç»ƒè¿‡ç¨‹è¿˜ä¼´éšå¼ºåŒ–å­¦ä¹ ï¼ˆRLï¼‰å¸¸è§çš„ä¸ç¨³å®šæ€§é—®é¢˜ï¼›ä¸€æ¬¡å®Œæ•´çš„PPOè®­ç»ƒï¼Œè¦†ç›–å¤šä¸ªç¯èŠ‚ï¼Œè°ƒä¼˜çš„éš¾åº¦è¾ƒå¤§ã€‚</p>\n<p>èƒ½å¦æ‰¾åˆ°ä¸€ç§æ–¹æ³•ï¼Œç»•è¿‡æ˜¾å¼è®­ç»ƒå¥–åŠ±æ¨¡å‹å’Œå¤æ‚çš„å¼ºåŒ–å­¦ä¹ ç¯èŠ‚ï¼ŒåŸºäºäººç±»åå¥½æ•°æ®ç›´æ¥ä¼˜åŒ–ç­–ç•¥æ¨¡å‹å‘¢ï¼Ÿ</p>\n<p>DPOæ­£æ˜¯åœ¨è¿™ä¸€èƒŒæ™¯ä¸‹è¯ç”Ÿçš„åˆ›æ–°æ–¹æ³•ï¼Œç”±æ–¯å¦ç¦å¤§å­¦ç ”ç©¶å›¢é˜Ÿæå‡ºã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯æ‘’å¼ƒã€Œ<strong>å…ˆè®­ç»ƒå¥–åŠ±æ¨¡å‹ï¼Œå†ç”¨RLä¼˜åŒ–ç­–ç•¥</strong>ã€çš„ä¸¤æ­¥æµç¨‹ï¼Œç›´æ¥å°†äººç±»åå¥½æ•°æ®è½¬åŒ–ä¸ºå¯¹ç­–ç•¥å‚æ•°çš„äºŒåˆ†ç±»æŸå¤±ä¼˜åŒ–ï¼Œå¤§å¹…ç®€åŒ–äº†è®­ç»ƒé“¾è·¯ã€‚</p>\n<h2 id=\"41-dpoç®—æ³•çš„åŸç†\">4.1 DPOç®—æ³•çš„åŸç†</h2>\n<p>DPO çš„å…³é”®ç†è®ºæ”¯æ’‘åœ¨äºäººç±»åå¥½æ•°æ®é‡Œéšè—çš„å¥–åŠ±è§„åˆ™ï¼Œè€Œé’ˆå¯¹è¿™ä¸ªè§„åˆ™ï¼Œå­˜åœ¨ä¸€ä¸ª<strong>æœ€ä¼˜ç­–ç•¥</strong> <span class=\"math inline\">\\(\\pi^*\\)</span>ï¼Œ</p>\n<p>æ—¢èƒ½è®©æ¨¡å‹è·å¾—çš„æœŸæœ›å¥–åŠ±å°½å¯èƒ½é«˜ï¼Œåˆèƒ½æ§åˆ¶ç­–ç•¥æ¨¡å‹<span class=\"math inline\">\\(\\pi_\\theta\\)</span>å’Œå‚è€ƒæ¨¡å‹ <span class=\"math inline\">\\(\\pi_{ref}\\)</span>ä¹‹é—´çš„å·®å¼‚åœ¨åˆç†çš„èŒƒå›´å†…ã€‚</p>\n<p>è®ºæ–‡è¿›ä¸€æ­¥è¯æ˜äº†ï¼Œè¿™ä¸ªæœ€ä¼˜ç­–ç•¥ <span class=\"math inline\">\\(\\pi^*\\)</span>ã€å‚è€ƒç­–ç•¥æ¨¡å‹ <span class=\"math inline\">\\(\\pi_{ref}\\)</span>ä»¥åŠåå¥½æ•°æ®é‡Œè—ç€çš„å¥–åŠ±å‡½æ•°<span class=\"math inline\">\\(r_{\\theta}\\)</span> ï¼Œä¸‰è€…ä¹‹é—´æœ‰æ˜ç¡®çš„æ•°å­¦å…³ç³»ï¼Œè¯¦ç»†çš„æ¨å¯¼è¿‡ç¨‹è§è®ºæ–‡ã€‚è¿™æ„å‘³ç€ï¼Œä¸ç”¨å•ç‹¬è®­ç»ƒä¸€ä¸ªå¥–åŠ±æ¨¡å‹ï¼Œç›´æ¥æ‹¿åå¥½æ•°æ®å°±èƒ½ä¼˜åŒ–ç­–ç•¥æ¨¡å‹ã€‚</p>\n<p>å…·ä½“æ¥è¯´ï¼ŒDPO è®©æ­£åœ¨è®­ç»ƒçš„æ¨¡å‹<span class=\"math inline\">\\(\\pi_\\theta\\)</span>ï¼Œåœ¨é¢å¯¹åŒä¸€ä¸ªè¾“å…¥æç¤º <span class=\"math inline\">\\(x\\)</span>æ—¶ï¼Œç”Ÿæˆäººç±»åå¥½çš„å›ç­”<span class=\"math inline\">\\(y_w\\)</span>ï¼Œè€Œä¸æ˜¯è¢«å¦å®šçš„å›ç­”<span class=\"math inline\">\\(y_l\\)</span>ã€‚å¯¹åº”çš„æŸå¤±å‡½æ•°å®šä¹‰å¦‚ä¸‹ï¼š</p>\n<p></p><div class=\"math display\">\\[\\begin{align} L_{DPO}(\\pi_\\theta, \\pi_{ref}) = -E_{(x, y_w, y_l) \\sim {D}}[log(\\sigma(\\beta * (log\\frac{\\pi_\\theta(y_w | x)}{\\pi_{ref}(y_w | x)} - log\\frac{\\pi_\\theta(y_l | x)}{\\pi_{ref}(y_l | x)})))] \\end {align}\n\\]</div><p></p><p>æˆ‘ä»¬æ¥æ‹†è§£è¿™ä¸ªå…¬å¼çš„å‡ ä¸ªå…³é”®éƒ¨åˆ†ï¼š</p>\n<ul>\n<li>\n<p><strong>æ•°æ®æ¥æº</strong> <span class=\"math inline\">\\(D\\)</span> : æ˜¯äººç±»æ ‡æ³¨çš„åå¥½æ•°æ®é›†ï¼Œæ¯ä¸ªæ ·æœ¬æ˜¯ \"æç¤º <span class=\"math inline\">\\(x\\)</span> + æ›´ä¼˜å›ç­”<span class=\"math inline\">\\(y_w\\)</span> + è¾ƒå·®å›ç­”<span class=\"math inline\">\\(y\\_l\\)</span>\" çš„ç»„åˆ</p>\n</li>\n<li>\n<p><strong>æ¦‚ç‡æ¯”çš„æ¯”è¾ƒ</strong>:</p>\n<ul>\n<li>\n<p><span class=\"math inline\">\\(log\\frac{\\pi_\\theta(y_w | x)}{\\pi_{ref}(y_w | x)}\\)</span>ï¼šåæ˜ å½“å‰æ¨¡å‹<span class=\"math inline\">\\(\\pi_\\theta\\)</span>ç›¸æ¯”å‚è€ƒæ¨¡å‹<span class=\"math inline\">\\(\\pi_{ref}\\)</span>å€¾å‘äºç”Ÿæˆä¼˜è´¨å›ç­”<span class=\"math inline\">\\(y_w\\)</span>çš„ç¨‹åº¦ï¼Œè¿™ä¸ªå€¼è¶Šå¤§è¶Šå¥½</p>\n</li>\n<li>\n<p><span class=\"math inline\">\\(log\\frac{\\pi_\\theta(y_l | x)}{\\pi_{ref}(y_l | x)}\\)</span>ï¼šåæ˜ å½“å‰æ¨¡å‹<span class=\"math inline\">\\(\\pi_\\theta\\)</span>ç›¸æ¯”å‚è€ƒæ¨¡å‹<span class=\"math inline\">\\(\\pi_{ref}\\)</span>å€¾å‘äºç”Ÿæˆå·®å›ç­”<span class=\"math inline\">\\(y_l\\)</span>çš„ç¨‹åº¦ï¼Œè¿™ä¸ªå€¼è¶Šå°è¶Šå¥½</p>\n</li>\n<li>\n<p>è¿™ä¸¤ä¸ªæ¦‚ç‡æ¯”çš„å·®å€¼ï¼Œå°±æ˜¯æ¨¡å‹å­¦åˆ°çš„<strong>ä¼˜è´¨å›ç­”æ¯”å·®å›ç­”å¥½å¤šå°‘</strong>çš„ä¿¡å·ï¼Œä¸¤è€…ç›¸å·®è¶Šå¤§ï¼Œè¯´æ˜æ¨¡å‹è¶Šèƒ½åŒºåˆ†å¥½åï¼Œå¹¶ä¸”è¶Šåçˆ±å¥½çš„å›ç­”ï¼Œç›¸å½“äºæŠŠåå¥½è½¬åŒ–æˆäº†éšå¼å¥–åŠ±ã€‚</p>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>è°ƒæ§å› å­</strong> <span class=\"math inline\">\\(\\beta\\)</span>ï¼šç”¨æ¥æ§åˆ¶<span class=\"math inline\">\\(\\pi_\\theta\\)</span>å’Œ<span class=\"math inline\">\\(\\pi_{ref}\\)</span>çš„åç¦»ç¨‹åº¦ï¼Œ<span class=\"math inline\">\\(\\beta\\)</span>è¶Šå¤§ï¼Œè¡¨æ˜æ¨¡å‹éœ€è¦æ›´æ˜æ˜¾çš„åå¥½å·®å¼‚ï¼Œæ‰ä¼šè®¤å®šä¸€ä¸ªå›ç­”æ¯”å¦ä¸€ä¸ªå¥½ã€‚</p>\n</li>\n<li>\n<p><strong>æŸå¤±çš„ä½œç”¨</strong>ï¼š<span class=\"math inline\">\\(Sigmoid\\)</span>æŠŠå¥–åŠ±ä¿¡å·è½¬æˆæ›´ä¼˜å›ç­”çš„æ¦‚ç‡ï¼Œå†ç”¨è´Ÿå¯¹æ•°ä¼¼ç„¶æŸå¤±æ¥è®­ç»ƒï¼Œæœ¬è´¨æ˜¯è®©æ¨¡å‹å°½å¯èƒ½å‡†ç¡®åœ°åŒºåˆ†å¥½å›ç­”å’Œå·®å›ç­”ã€‚</p>\n</li>\n</ul>\n<h2 id=\"42-dpoçš„è®­ç»ƒè¿‡ç¨‹\">4.2 DPOçš„è®­ç»ƒè¿‡ç¨‹</h2>\n<p><strong>æ•°æ®å‡†å¤‡</strong>ï¼šæ”¶é›†äººç±»åå¥½æ•°æ®é›† (<span class=\"math inline\">\\(x, y_w, y_l\\)</span>)</p>\n<p><strong>æ¨¡å‹åˆå§‹åŒ–</strong>ï¼š</p>\n<ul>\n<li>\n<p><strong>Actor Model</strong> <span class=\"math inline\">\\(\\pi_{\\theta}\\)</span> ï¼šç”¨SFTåçš„æ¨¡å‹ä½œä¸ºåˆå§‹æ¨¡å‹ï¼Œ<strong>å‚æ•°å¯å˜</strong>ã€‚</p>\n</li>\n<li>\n<p><strong>Reference Model</strong> <span class=\"math inline\">\\(\\pi_{ref}\\)</span>ï¼šSFTåçš„æ¨¡å‹ï¼Œ<strong>å‚æ•°å†»ç»“</strong>ã€‚</p>\n</li>\n</ul>\n<p><strong>è®­ç»ƒè¿‡ç¨‹</strong>ï¼š</p>\n<ul>\n<li>\n<p>å¾ªç¯epochsæ¬¡</p>\n<ul>\n<li>\n<p>ä» æ•°æ®é›†<span class=\"math inline\">\\(D\\)</span>ä¸­æŠ½å– (<span class=\"math inline\">\\(x, y_w, y_l\\)</span>) batchæ•°æ®</p>\n<ul>\n<li>\n<p>å¯¹äºæ¯ä¸ªæ ·æœ¬ï¼Œè®¡ç®—å…¬å¼ï¼ˆ7ï¼‰ä¸­çš„ä¸­é—´å˜é‡å€¼ <span class=\"math inline\">\\(\\pi_\\theta(y_w | x)\\)</span>ã€<span class=\"math inline\">\\(\\pi_{ref}(y_w | x)\\)</span>ã€<span class=\"math inline\">\\(\\pi_\\theta(y_l | x)\\)</span>ã€<span class=\"math inline\">\\(\\pi_{ref}(y_w | x)\\)</span>åŠå…¶å¯¹æ•°æ¦‚ç‡ã€‚é€šå¸¸æ˜¯è®¡ç®—åºåˆ—çš„æ€»å¯¹æ•°æ¦‚ç‡ï¼Œ <span class=\"math inline\">\\(log \\pi_theta(y | x) = \\sum_t log \\pi_\\theta(token_t | x, y_{&lt;t})\\)</span></p>\n</li>\n<li>\n<p>ä»£å…¥ DPO æŸå¤±å‡½æ•°å…¬å¼ï¼Œè®¡ç®—æŸå¤±ï¼Œä½¿ç”¨æ¢¯åº¦ä¸‹é™æ›´æ–° <span class=\"math inline\">\\(\\pi_{\\theta}\\)</span> çš„å‚æ•°ã€‚</p>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>é‡å¤æ­¤è¿‡ç¨‹ï¼Œç›´åˆ°æ¨¡å‹æ”¶æ•›æˆ–è¾¾åˆ°é¢„å®šè®­ç»ƒæ­¥æ•°ã€‚</p>\n</li>\n</ul>\n<h2 id=\"43-dpoçš„ä¼˜ç¼ºç‚¹\">4.3 DPOçš„ä¼˜ç¼ºç‚¹</h2>\n<p><strong>ä¼˜ç‚¹</strong>ï¼šâ‘  è®­ç»ƒé“¾è·¯æç®€åŒ–ï¼šç›´æ¥ä»åå¥½æ•°æ®é‡Œæå–éšå¼çš„å¥–åŠ±ä¿¡æ¯ï¼Œæ²¡æœ‰å¤æ‚çš„æ•°æ®é‡‡æ ·è¿‡ç¨‹ï¼Œçœæ‰äº†è®­ç»ƒå¥–åŠ±æ¨¡å‹ã€ä»·å€¼å‡½æ•°çš„æ­¥éª¤ã€‚â‘¡ èµ„æºå ç”¨å°‘ï¼šä»…æœ‰å‚è€ƒæ¨¡å‹å’Œç­–ç•¥æ¨¡å‹ï¼Œæ˜¾å­˜å’Œè®¡ç®—èµ„æºçš„æ¶ˆè€—å¤§å¹…é™ä½ï¼Œè®­ç»ƒä¹Ÿæ›´ç¨³å®šã€æ›´å®¹æ˜“è½åœ°ã€‚</p>\n<p><strong>ç¼ºç‚¹</strong>ï¼šâ‘  ä¾èµ–å¤§é‡é«˜è´¨é‡äºŒå…ƒåå¥½æ•°æ®ï¼šè™½ç„¶å¯ä»¥å€ŸåŠ©å¼€æº LLM ç”Ÿæˆä¼˜è´¨æ•°æ®ï¼Œä½†æ•°æ®æ”¶é›†ä»æœ‰éš¾åº¦ï¼›â‘¡ é€‚é…åœºæ™¯è¾ƒå±€é™ï¼šå› é«˜åº¦ä¾èµ–åå¥½æ•°æ®ï¼Œéš¾ä»¥è¦†ç›–å¤æ‚æ¨ç†ä»»åŠ¡ï¼Œèƒ½åŠ›ä¸Šé™ä¸åŠ PPOï¼Œä»…èƒœåœ¨æµç¨‹ç®€å•ã€è®­ç»ƒæˆæœ¬ä½ã€‚</p>\n<h1 id=\"5-grpo\">5 GRPO</h1>\n<p>è®ºæ–‡æ ‡é¢˜ï¼šDeepSeekMath: Pushing the Limits of Mathematical Reasoning in Open Language Models</p>\n<p>è®ºæ–‡åœ°å€ï¼š<a href=\"https://arxiv.org/pdf/2402.03300\" rel=\"noopener nofollow\" target=\"_blank\">https://arxiv.org/pdf/2402.03300</a></p>\n<p><img alt=\"\" class=\"lazyload\" /></p>\n<p>DeepSeekå›¢é˜Ÿå‘ç°ï¼ŒPPOç®—æ³•ä¸­Criticæ¨¡å‹ï¼Œå‚æ•°è§„æ¨¡ä¸Actoræ¨¡å‹ç›¸å½“ï¼Œæ˜¾è‘—å¢åŠ äº†LLMè®­ç»ƒçš„å†…å­˜å ç”¨ä¸è®¡ç®—æˆæœ¬ï¼›æ›´å…³é”®çš„æ˜¯ï¼Œå¾ˆå¤šLLMä»»åŠ¡ï¼ˆå¦‚æ•°å­¦æ¨ç†ã€ä»£ç ç”Ÿæˆç­‰ï¼‰ï¼‰å¥–åŠ±ä¿¡å·ç¨€ç–ï¼ˆä»…åºåˆ—æœ«å°¾ç”±RMç»™å‡ºå¥–åŠ±ï¼‰ï¼Œå¯¼è‡´è®­ç»ƒèƒ½ç²¾å‡†ä¼°è®¡æ¯ä¸ªtokenä»·å€¼çš„Criticæ¨¡å‹å¼‚å¸¸å›°éš¾ã€‚</p>\n<p>Criticæ¨¡å‹çš„æ ¸å¿ƒä½œç”¨æ˜¯ä¸ºä¼˜åŠ¿å‡½æ•°è®¡ç®—æä¾›åŸºçº¿ä»¥é™ä½æ–¹å·®ï¼Œèƒ½å¦ç”¨æ›´é«˜æ•ˆæ–¹å¼æ›¿ä»£Criticå®ç°è¯¥ç›®æ ‡å‘¢ï¼Ÿä¸ºæ­¤ï¼ŒDeepSeekå›¢é˜Ÿæå‡ºGRPOï¼ˆGroup Relative Policy Optimizationï¼‰ç®—æ³•ï¼Œçªç ´äº†å¯¹Criticæ¨¡å‹çš„ä¾èµ–ï¼Œä¸ºç­–ç•¥æ¨¡å‹çš„é«˜æ•ˆä¼˜åŒ–å¼€è¾Ÿäº†æ–°è·¯å¾„ã€‚</p>\n<h2 id=\"51-grpoçš„åŸç†\">5.1 GRPOçš„åŸç†</h2>\n<p>GRPOå–æ¶ˆäº†PPOä¸­ç”¨äºä¼°è®¡ä»·å€¼çš„Criticæ¨¡å‹ï¼Œé€šè¿‡åŒä¸€Promptä¸‹çš„ç¾¤ä½“ä¿¡æ¯æ¥æ„é€ åŸºçº¿ã€‚å³ï¼Œé’ˆå¯¹å•ä¸ª Promptï¼Œè®©ç­–ç•¥æ¨¡å‹ç”Ÿæˆ <span class=\"math inline\">\\(G\\)</span> ä¸ªä¸åŒè¾“å‡º <span class=\"math inline\">\\({\\{o_1, o_2, ..., o_G\\}}\\)</span>ï¼Œç”¨å¥–åŠ±æ¨¡å‹ç»™æ¯ä¸ªè¾“å‡ºæ‰“åˆ† <span class=\"math inline\">\\(r={\\{r_1, r_2, ..., r_G\\}}\\)</span>ï¼Œè®¡ç®—è¿™ç»„å¥–åŠ±çš„å‡å€¼ä¸æ ‡å‡†å·®ï¼Œå†å°†æ¯ä¸ªè¾“å‡ºçš„åŸå§‹å¥–åŠ±å½’ä¸€åŒ–ï¼Œå¾—åˆ°ä¼˜åŠ¿</p>\n<p></p><div class=\"math display\">\\[\\begin{align} \\hat{A}_{i,t} = \\widetilde{r}_i = \\frac{r_i - mean(r)}{std(r)} \\end{align}\n\\]</div><p></p><p>ç”±ä¸Šå¼å¾—åˆ°åæ˜ ç¾¤ç»„ç›¸å¯¹å¥½åçš„åˆ†æ•°ï¼Œä»¥æ­¤æ›¿ä»£ Critic æä¾›çš„ä¼˜åŠ¿åŸºçº¿ã€‚</p>\n<p>ç”±æ­¤çœ‹å‡ºï¼ŒGRPOçš„è®­ç»ƒä»…éœ€ä¸‰ä¸ªæ¨¡å‹ï¼š</p>\n<ul>\n<li>\n<p><strong>ç­–ç•¥æ¨¡å‹</strong> <span class=\"math inline\">\\(\\\\pi_{\\theta}\\)</span> ï¼šç”±SFTæ¨¡å‹åˆå§‹åŒ–ï¼Œæ ¹æ®ç»„å†…ç›¸å¯¹å¥–åŠ±åŠ¨æ€æ›´æ–°å‚æ•°ï¼Œå‚æ•°å˜åŒ–</p>\n</li>\n<li>\n<p><strong>å‚è€ƒæ¨¡å‹</strong> <span class=\"math inline\">\\(\\pi_{ref}\\)</span>ï¼šå†»ç»“å‚æ•°çš„SFTï¼Œå‚æ•°ä¸å˜</p>\n</li>\n<li>\n<p><strong>å¥–åŠ±æ¨¡å‹</strong> <span class=\"math inline\">\\(r\\_{\\theta}\\)</span>ï¼šç”¨äºè¯„ä¼°ç”Ÿæˆçš„å®Œæ•´å“åº”åºåˆ—çš„è´¨é‡ï¼Œä¸ºç­–ç•¥æ¨¡å‹æä¾›ä¼˜åŒ–æ–¹å‘ï¼Œå†»ç»“å‚æ•°</p>\n</li>\n</ul>\n<p>GRPOç®—æ³•æ²¿ç”¨ PPO çš„ clip é˜¶æ®µç»“æ„ï¼Œä¼˜åŠ¿ä¼°è®¡è¢«æ›¿æ¢ä¸ºç»„å†…å½’ä¸€åŒ–å¥–åŠ±ï¼š</p>\n<p></p><div class=\"math display\">\\[\\begin{align}\nJ_{GPRO}(\\theta) = E[q\\sim P(Q), {o_i} \\sim \\pi_{\\theta_{old}(O|q)}] \n\\frac{1}{G} \\sum_{i=1}^G \\frac{1}{|o_i|} \\sum_{t=1}^{|o_i|} {\\{min [ratio_t *\\hat{A}_{i,t}, clip(ratio_t, 1-\\varepsilon, 1+\\varepsilon)\\}}*\\hat{A}_{i,t}] - \\beta D_{KL}[\\pi_\\theta || \\pi_{ref}]\\}\n\n\\end {align}\\]</div><p></p><p>å¼ï¼ˆ9ï¼‰çš„ä¸­é—´å˜é‡æ‹†è§£å¦‚ä¸‹ï¼š</p>\n<ul>\n<li>\n<p>$\\hat{A}_{i,t} $ ç”±å…¬å¼ï¼ˆ8ï¼‰ç»™å‡ºï¼Œä½œç”¨äºåºåˆ—ä¸­æ¯ä¸€ä¸ª tokenï¼Œå°±æ˜¯è¯´ï¼Œæ‰€æœ‰ token å…±äº«åŒä¸€ä¸ªä¼˜åŠ¿</p>\n</li>\n<li>\n<p><span class=\"math inline\">\\(ratio_t=\\frac{\\pi_\\theta(o_{i,t} |q, o_{i,&lt;t})}{\\pi_{old}(o_{i,t} |q, o_{i,&lt;t})}\\)</span>, ï¼Œå³æ–°æ—§ç­–ç•¥å¯¹åŒä¸€åŠ¨ä½œçš„æ¦‚ç‡æ¯”</p>\n</li>\n<li>\n<p><span class=\"math inline\">\\(\\beta D_{KL}[\\pi_\\theta || \\pi_{ref}]\\)</span>ï¼Œçº¦æŸ ç­–ç•¥æ¨¡å‹ä¸è¦åç¦»å‚è€ƒæ¨¡å‹å¤ªè¿œ</p>\n</li>\n</ul>\n<h2 id=\"52-grpoçš„è®­ç»ƒè¿‡ç¨‹\">5.2 GRPOçš„è®­ç»ƒè¿‡ç¨‹</h2>\n<p><img alt=\"\" class=\"lazyload\" /></p>\n<ul>\n<li>\n<p><strong>è¾“å…¥é¡¹</strong>ï¼šåˆå§‹ç­–ç•¥æ¨¡å‹ <span class=\"math inline\">\\(\\pi_{\\theta_{init}}\\)</span> ã€å¥–åŠ±æ¨¡å‹ <span class=\"math inline\">\\(r_{\\theta}\\)</span>ã€ä»»åŠ¡æç¤ºé›† <span class=\"math inline\">\\(D\\)</span>ï¼Œä»¥åŠè¶…å‚æ•° <span class=\"math inline\">\\(\\varepsilon\\)</span>,<span class=\"math inline\">\\(\\beta\\)</span>ï¼ˆæ§åˆ¶è®­ç»ƒç¨³å®šæ€§ã€æ›´æ–°æ­¥é•¿ç­‰ï¼‰ã€‚</p>\n</li>\n<li>\n<p><strong>å¤–å±‚å¾ªç¯ï¼Œæ€»è¿­ä»£è½®æ¬¡</strong> <span class=\"math inline\">\\(I\\)</span></p>\n<p>æ¯ä¸€è½®å¤–å±‚å¾ªç¯åŒ…å«ä»¥ä¸‹æ“ä½œï¼š</p>\n<ul>\n<li>\n<p>å¤åˆ¶å½“å‰ç­–ç•¥æ¨¡å‹<span class=\"math inline\">\\(\\pi_{\\theta}\\)</span>çš„å‚æ•°å¹¶å†»ç»“ï¼Œå°†å…¶ä½œä¸ºå‚è€ƒæ¨¡å‹<span class=\"math inline\">\\(\\pi_{ref}\\)</span></p>\n</li>\n<li>\n<p>è¿›å…¥å†…å±‚å¾ªç¯ï¼ˆæ­¥é•¿<span class=\"math inline\">\\(M\\)</span>ï¼‰ï¼Œæ‰§è¡Œç­–ç•¥çš„æ›´æ–°</p>\n<ul>\n<li>\n<p>é‡‡æ ·ä»»åŠ¡ä¸æ—§ç­–ç•¥ï¼šä»ä»»åŠ¡æç¤ºé›† <span class=\"math inline\">\\(D\\)</span>ä¸­é‡‡æ ·ä¸€ä¸ªæ‰¹æ¬¡ <span class=\"math inline\">\\(D_b\\)</span>, å°†å½“å‰ç­–ç•¥æ¨¡å‹<span class=\"math inline\">\\(\\pi_{\\theta}\\)</span>æš‚å­˜ä¸ºæ—§ç­–ç•¥ <span class=\"math inline\">\\(\\pi_{\\theta_{old}}\\)</span>ï¼ˆç”¨äºåç»­ç”Ÿæˆå€™é€‰è¾“å‡ºï¼‰</p>\n</li>\n<li>\n<p>ç”Ÿæˆå€™é€‰è¾“å‡ºå¹¶è®¡ç®—å¥–åŠ±ï¼šå¯¹æ‰¹æ¬¡ä¸­æ¯ä¸ªä»»åŠ¡qï¼Œç”¨æ—§ç­–ç•¥æ—§ç­–ç•¥ <span class=\"math inline\">\\(\\pi_{\\theta_{old}}\\)</span>ç”ŸæˆGä¸ªå€™é€‰è¾“å‡º <span class=\"math inline\">\\({\\{o_1, o_2, ..., o_G\\}}\\)</span>ï¼Œç”¨å¥–åŠ±æ¨¡å‹ $$r_{\\theta}$$ä¸ºæ¯ä¸ªå€™é€‰è¾“å‡ºè®¡ç®—å¥–åŠ± <span class=\"math inline\">\\({\\{r_1, r_2, ..., r_G\\}}\\)</span></p>\n</li>\n<li>\n<p>è®¡ç®—ç»„ç›¸å¯¹ä¼˜åŠ¿ï¼š ç”±å…¬å¼ï¼ˆ8ï¼‰è®¡ç®—ç¾¤ç»„ç›¸å¯¹ä¼˜åŠ¿ $\\hat{A}_{i,t} $</p>\n</li>\n<li>\n<p>ä¼˜åŒ–ç­–ç•¥æ¨¡å‹ï¼šå…¬å¼ï¼ˆ9)ï¼ˆ10ï¼‰çš„æ¢¯åº¦æ›´æ–°ç­–ç•¥æ¨¡å‹<span class=\"math inline\">\\(\\pi_{\\theta}\\)</span>çš„å‚æ•°</p>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"53-grpoç®—æ³•çš„ä¼˜ç¼ºç‚¹\">5.3 GRPOç®—æ³•çš„ä¼˜ç¼ºç‚¹</h2>\n<p><strong>ä¼˜ç‚¹</strong>ï¼šâ‘  ç¨³å®šæ€§æ›´å¼ºï¼šæ— éœ€ä¾èµ–ä»·å€¼å‡½æ•°ï¼Œåªè¦å¥–åŠ±æ¨¡å‹èƒ½ç›¸å¯¹åˆ¤æ–­ç¾¤ä½“å†…ç­–ç•¥ä¼˜åŠ£ï¼Œé™ä½å¯¹ä»·å€¼ä¼°è®¡ç²¾åº¦çš„ä¾èµ–é™ä½å¯¹ä»·å€¼ä¼°è®¡ç²¾åº¦çš„ä¾èµ–ï¼Œæå‡ç®—æ³•ç¨³å®šæ€§ï¼›â‘¡ è®­ç»ƒæˆæœ¬æ›´ä½ï¼šæ²¡æœ‰äº†Critic æ¨¡å‹ï¼Œæ˜¾å­˜å ç”¨å‡å°‘å¤§å¹…é™ä½ï¼Œç›¸åŒç¡¬ä»¶å¯è®­ç»ƒæ›´å¤§æ¨¡å‹æˆ–æ›´å¤§batchï¼›â‘¢ æ˜“å®ç°ä¸”é€‚é…å¹¶è¡Œï¼šç»„å†…å„ç­–ç•¥å¯ç‹¬ç«‹ä¸ç¯å¢ƒäº¤äº’ã€æ”¶é›†æ•°æ®ï¼Œä¾¿äºåˆ©ç”¨åˆ†å¸ƒå¼æ¡†æ¶å®ç°å¹¶è¡Œè®­ç»ƒåŠ é€Ÿã€‚</p>\n<p><strong>ç¼ºç‚¹</strong>ï¼šâ‘ å­˜åœ¨å›ºæœ‰åå·®ï¼šå½’ä¸€åŒ–æ˜“åå¥½çŸ­ç­”æ¡ˆæˆ–å†—é•¿é”™è¯¯è¾“å‡ºï¼Œä¸”æ ‡å‡†å·®å½’ä¸€åŒ–ä½¿æ¨¡å‹ä¼˜å…ˆä¼˜åŒ–ç®€å•é—®é¢˜ï¼ˆå¥–åŠ±ç¨³å®šï¼‰ï¼Œå¿½è§†éš¾é¢˜ï¼ˆå¥–åŠ±æ³¢åŠ¨å¤§ï¼‰ ï¼›â‘¡ ç›®æ ‡ä¸ä¸€è‡´é—®é¢˜ï¼šå¥–åŠ±å‡½æ•°é’ˆå¯¹å®Œæ•´åºåˆ—æ‰“åˆ†ï¼ˆéœ€ç­‰å¾…å®Œæ•´å›ç­”ï¼‰ï¼Œè€ŒGRPOä¼˜åŒ–ç›®æ ‡çš„é‡è¦æ€§é‡‡æ ·åŸºäºtokençº§åˆ«è®¡ç®—æŸå¤±ï¼Œä¸¤è€…ç›®æ ‡å­˜åœ¨åå·®ï¼›â‘¢ é«˜æ–¹å·®å’Œä¸ç¨³å®šé—®é¢˜ï¼šGRPO åœ¨ token çº§åˆ«è®¡ç®—é‡è¦æ€§é‡‡æ ·æƒé‡ï¼Œå•ä¸ªtokenåªè¢«é‡‡æ ·ä¸€æ¬¡ï¼Œéš¾ä»¥æ ¡æ­£åç¦»åŸå§‹ç­–ç•¥çš„ token åˆ†å¸ƒï¼Œæ˜“å¼•å…¥é«˜æ–¹å·®å™ªå£°ï¼Œå¯¼è‡´æ¢¯åº¦ä¼°è®¡ä¸ç¨³å®šã€‚</p>\n<h1 id=\"6-gspo\">6 GSPO</h1>\n<p>è®ºæ–‡æ ‡é¢˜ï¼šGroup Sequence Policy Optimization</p>\n<p>è®ºæ–‡åœ°å€ï¼š<a href=\"https://arxiv.org/pdf/2507.18071\" rel=\"noopener nofollow\" target=\"_blank\">https://arxiv.org/pdf/2507.18071</a></p>\n<p><img alt=\"\" class=\"lazyload\" /></p>\n<p>GSPO(Group Sequence Policy Optimizationï¼Œç»„åºåˆ—ç­–ç•¥ä¼˜åŒ–)æ—¨åœ¨è§£å†³GRPOä¸­è®­ç»ƒè¿‡ç¨‹ä¸­å­˜åœ¨çš„å›ºæœ‰åå·®ã€ç›®æ ‡ä¸ä¸€è‡´ã€é«˜æ–¹å·®å’Œä¸ç¨³å®šçš„é—®é¢˜ã€‚GSPOå°†RLä¸­é‡è¦æ€§é‡‡æ ·çš„å•ä½ä»ä»¤ç‰Œçº§åˆ«æå‡è‡³æ•´ä¸ªåºåˆ—çº§åˆ«ï¼Œåˆå¼•å…¥äº†åºåˆ—é•¿åº¦å½’ä¸€åŒ–ï¼Œ ç¡®ä¿ä¸åŒé•¿åº¦çš„é—®é¢˜äº«æœ‰å…¬å¹³çš„ä¼˜åŒ–å°ºåº¦ï¼Œä»æ ¹æºè§£å†³è®­ç»ƒç¨³å®šæ€§é—®é¢˜ï¼Œå®Œç¾é€‚é… MoE äº†æ¶æ„ã€‚</p>\n<h2 id=\"61-gspoçš„åŸç†å’Œè®­ç»ƒè¿‡ç¨‹\">6.1 GSPOçš„åŸç†å’Œè®­ç»ƒè¿‡ç¨‹</h2>\n<p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹GRPOå’ŒGSPOçš„ç›®æ ‡å‡½æ•°</p>\n<ul>\n<li>GRPOç›®æ ‡å‡½æ•°</li>\n</ul>\n<p><img alt=\"image\" class=\"lazyload\" /></p>\n<p>å…¶ä¸­ï¼Œ<span class=\"math inline\">\\(ratio_t=\\frac{\\pi_\\theta(o_{i,t} |q, o_{i,&lt;t})}{\\pi_{old}(o_{i,t} |q, o_{i,&lt;t})}\\)</span></p>\n<ul>\n<li>GSPOç›®æ ‡å‡½æ•°</li>\n</ul>\n<p></p><div class=\"math display\">\\[ \\begin{align}\nJ_{GSPO}(\\theta) = E[x\\sim D, {\\{y_i}\\}_{i=1}^G \\sim \\pi_{\\theta_{old}(.|x)}] [\n\\frac{1}{G} \\sum_{i=1}^G min (s_i(\\theta) *\\hat{A}_i, clip(s_i(\\theta), 1-\\varepsilon, 1+\\varepsilon)*\\hat{A}_i)]\n\n\\end {align} \\]</div><p></p><p>å…¶ä¸­ï¼Œ<span class=\"math inline\">\\(s_i(\\theta)=(\\frac{\\pi_\\theta(y_i |x)}{\\pi_{old}(y_i |x)}) ^{(\\frac{1}{|y_i|})} = exp(\\frac{1}{|y_i|} \\sum_{t=1}^{|y_i|}log\\frac{\\pi_\\theta(y_{i,t} |x, y_{i,&lt;t})}{\\pi_{old}(y_{i,t} |x, y_{i,&lt;t})})\\)</span> ï¼Œ<span class=\"math inline\">\\(|y_i|\\)</span>æ˜¯å“åº”<span class=\"math inline\">\\(y_i\\)</span> çš„é•¿åº¦ï¼Œé•¿åº¦å½’ä¸€ åŒ–æ˜¯å…³é”®ï¼Œç¡®ä¿ä¸åŒé•¿åº¦åºåˆ—çš„é‡è¦æ€§æ¯”ç‡å…·æœ‰å¯æ¯”æ€§ï¼Œé˜²æ­¢æ¯”ç‡å› åºåˆ—è¿‡é•¿è€Œå‰§çƒˆæ³¢åŠ¨ã€‚æ³¨æ„ï¼Œè®ºæ–‡é‡Œä¸ºäº†ç®€åŒ–ï¼Œåœ¨å…¬å¼ï¼ˆ11ï¼‰ä¸­æ²¡æœ‰åŠ KLï¼Œå®é™…åº”ç”¨ä¸­æ˜¯æœ‰ç”¨KLçš„ã€‚</p>\n<p>é€šè¿‡å¯¹æ¯”GRPOä¸GSPOçš„æ ¸å¿ƒå…¬å¼ï¼Œèƒ½æ¸…æ™°çœ‹å‡ºä¸¤è€…åœ¨é‡è¦æ€§é‡‡æ ·å•ä½ä¸è®¡ç®—é€»è¾‘ä¸Šçš„å…³é”®å·®å¼‚ã€‚</p>\n<p>å…ˆçœ‹GRPOçš„ç›®æ ‡å‡½æ•°ï¼Œå…¶åŠ æƒä¼˜åŠ¿çš„è®¡ç®—æ ¸å¿ƒèšç„¦äº<strong>tokençº§åˆ«</strong>çš„ï¼Œå¦‚<span class=\"math inline\">\\(ratio_t=\\frac{\\pi_\\theta(o_{i,t} |q, o_{i,&lt;t})}{\\pi_{old}(o_{i,t} |q, o_{i,&lt;t})}\\)</span>, æ‰€ç¤ºï¼Œé’ˆå¯¹ç¬¬ <span class=\"math inline\">\\(i\\)</span>ä¸ªåºåˆ—ä¸­çš„ç¬¬<span class=\"math inline\">\\(t\\)</span>ä¸ªtokenè¿›è¡Œè¿ç®—ã€‚</p>\n<p>ä¸¾ä¸ªç›´è§‚ä¾‹å­ï¼Œè‹¥ä¸€ä¸ªç»„åŒ…å«5æ¡æ ·æœ¬åºåˆ—ï¼Œæ¯æ¡åºåˆ—æœ‰20ä¸ªtokenï¼ŒGRPOéœ€è¦ä¸ºè¿™5æ¡åºåˆ—çš„æ¯ä¸€ä¸ªtokenåˆ†åˆ«è®¡ç®—åŠ æƒä¼˜åŠ¿ã€‚</p>\n<p>ä¸¤æ¬¡å¹³å‡æ“ä½œï¼šå†…å±‚å…ˆå¯¹å•æ¡åºåˆ—çš„20ä¸ªtokenå–å¹³å‡ï¼Œå¤–å±‚å†å¯¹5æ¡ä¸åŒåºåˆ—å–å¹³å‡ï¼Œ<strong>æœ¬è´¨å°±æ˜¯ç®—æœ¯å¹³å‡</strong>ï¼Œæœ€ç»ˆå¾—åˆ°æ¢¯åº¦æ›´æ–°çš„æœ‰æ•ˆä¿¡å·ã€‚</p>\n<p>å†çœ‹GSPOçš„ç›®æ ‡å‡½æ•°ï¼Œä»å…¬å¼<span class=\"math inline\">\\(s_i(\\theta)=(\\frac{\\pi_\\theta(y_i |x)}{\\pi_{old}(y_i |x)}) ^{(\\frac{1}{|y_i|})} = exp(\\frac{1}{|y_i|} \\sum_{t=1}^{|y_i|}log\\frac{\\pi_\\theta(y_{i,t} |x, y_{i,&lt;t})}{\\pi_{old}(y_{i,t} |x, y_{i,&lt;t})})\\)</span>, å¯ä»¥çœ‹å‡ºï¼Œå…¶åŠ æƒä¼˜åŠ¿çš„è®¡ç®—å•ä½ç›´æ¥å‡çº§ä¸º<strong>åºåˆ—çº§åˆ«ï¼Œ</strong>å†…å±‚å¹³å‡ç”±ç®—æœ¯å¹³å‡æœ¬å˜ä¸ºäº†å‡ ä½•å¹³å‡ï¼Œå¤–å±‚çš„è®¡ç®—é€»è¾‘ä¾ç„¶ä¸å˜ã€‚</p>\n<p>GSPOçš„è®­ç»ƒè¿‡ç¨‹å’ŒGRPOåŸºæœ¬ä¸€è‡´ï¼Œå·®åˆ«åœ¨äºç›®æ ‡å‡½æ•°ä¸­é‡è¦æ€§é‡‡æ ·è®¡ç®—é€»è¾‘ï¼Œè¿™é‡Œä¸åšè¿‡å¤šè§£é‡Šã€‚</p>\n<h2 id=\"62-gspoçš„ä¼˜ç¼ºç‚¹\">6.2 GSPOçš„ä¼˜ç¼ºç‚¹</h2>\n<p><strong>ä¼˜ç‚¹</strong>ï¼šâ‘  æå‡è®­ç»ƒç¨³å®šæ€§ï¼šGRPO åœ¨ token çº§è¿›è¡Œé‡è¦æ€§é‡‡æ ·æ—¶ï¼Œè‹¥æŸæ—¶é—´æ­¥ç”Ÿæˆé”™è¯¯ tokenï¼Œæ­¤æ—¶ä¼˜åŠ¿ä¸º <span class=\"math inline\">\\(A\\_t &lt;0\\)</span>ï¼Œæ—§ç­–ç•¥ç”Ÿæˆè¯¥ token çš„æ¦‚ç‡æä½ï¼ˆå¦‚<span class=\"math inline\">\\(1e^{-8}\\)</span>ï¼‰ï¼Œæ–°ç­–ç•¥ç”Ÿæˆæ¦‚ç‡å³ä½¿ä»…ä¸º 0.001ï¼Œé‡è¦æ€§æ¯”å€¼ä¹Ÿä¼šé£™å‡è‡³ <span class=\"math inline\">\\(10^5\\)</span>ï¼Œé€šè¿‡å…¬å¼(9) (10)å‘ç°ï¼Œåœ¨<span class=\"math inline\">\\(A_t &lt;0\\)</span>æƒ…å†µä¸‹ï¼Œè¿™ä¹ˆå¤§çš„é‡è¦æ€§æ¯”å€¼ä¸ä¼šè¢«è£å‰ªï¼Œè¿›è€Œé€ æˆæŸå¤±å‡½æ•°çš„å¤§æ³¢åŠ¨ï¼Œå™ªå£°ä¼šä¸æ–­ç´¯ç§¯ï¼Œç”šè‡³æ¨¡å‹ä¼šè®­å´©ã€‚è€Œ GSPO ä»¥åºåˆ—ä¸ºå•ä½è®¡ç®—é‡è¦æ€§é‡‡æ ·æ¯”å€¼ï¼Œå³ä¾¿ä¸ªåˆ« tokençš„é‡è¦æ€§æ¯”å€¼é£™å‡ï¼Œç»è¿‡å‡ ä½•å¹³å‡å(ç»è¿‡Logè¿ç®—ã€ç®—æœ¯å¹³å‡ã€æŒ‡æ•°è¿ç®—)ï¼Œä¹Ÿä¼šè¢«å¹³æ»‘ï¼Œä¸ä¼šé€ æˆæ¯”å€¼çš„å¤§å¹…æ³¢åŠ¨ï¼Œä»è€Œé¿å…äº†æŸå¤±å‡½æ•°çš„éœ‡è¡ï¼Œä¿éšœäº†è®­ç»ƒç¨³å®šæ€§ï¼›â‘¡ é€‚é… MoE æ¶æ„æ¨¡å‹ï¼šGRPO é‡‡ç”¨ token çº§é‡è¦æ€§é‡‡æ ·ï¼Œéœ€ä¾èµ–è·¯ç”±é‡æ”¾ç­‰æŠ€å·§æ‰èƒ½ç¨³å®šè®­ç»ƒï¼›è€Œ GSPO åŸºäºåºåˆ—çº§è®¡ç®—é‡è¦æ€§é‡‡æ ·ï¼Œæ— éœ€è¿™ç±»å¤æ‚æ“ä½œå³å¯å®ç° MoE æ¨¡å‹çš„ç¨³å®šè®­ç»ƒï¼Œå¤§å¹…ç®€åŒ–äº†è®­ç»ƒæµç¨‹ï¼ŒåŒæ—¶é‡Šæ”¾äº† MoE æ¨¡å‹çš„æ½œåŠ›ã€‚</p>\n<p><strong>ç¼ºç‚¹</strong>ï¼šâ‘  è®¡ç®—å¤æ‚åº¦å‡é«˜ï¼šç›¸æ¯” GRPO çš„ token çº§é‡è¦æ€§é‡‡æ ·ï¼ŒGSPO åˆ‡æ¢ä¸ºåºåˆ—çº§è®¡ç®—åï¼Œç®—æ³•çš„å®ç°éš¾åº¦ä¸è®¡ç®—æˆæœ¬æœ‰æ‰€å¢åŠ ã€‚</p>\n<h1 id=\"7-å‚è€ƒèµ„æ–™\">7 å‚è€ƒèµ„æ–™</h1>\n<p><a href=\"https://zhuanlan.zhihu.com/p/1932791271363154917\" rel=\"noopener nofollow\" target=\"_blank\">https://zhuanlan.zhihu.com/p/1932791271363154917</a></p>\n<p><a href=\"https://mp.weixin.qq.com/s/gSUw8bXraKy0RzVU_Crwcw\" rel=\"noopener nofollow\" target=\"_blank\">https://mp.weixin.qq.com/s/gSUw8bXraKy0RzVU_Crwcw</a></p>\n<p><a href=\"https://arxiv.org/pdf/1706.03741\" rel=\"noopener nofollow\" target=\"_blank\">https://arxiv.org/pdf/1706.03741</a></p>\n<p><a href=\"https://arxiv.org/pdf/2305.18290\" rel=\"noopener nofollow\" target=\"_blank\">https://arxiv.org/pdf/2305.18290</a></p>\n<p><a href=\"https://arxiv.org/pdf/2402.03300\" rel=\"noopener nofollow\" target=\"_blank\">https://arxiv.org/pdf/2402.03300</a></p>\n<p><a href=\"https://arxiv.org/pdf/2507.18071\" rel=\"noopener nofollow\" target=\"_blank\">https://arxiv.org/pdf/2507.18071</a></p>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-09 14:29</span>&nbsp;\n<a href=\"https://www.cnblogs.com/aifrontiers\">AI-Frontiers</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">33</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "å¹²æ‰ Claude Codeï¼Œè¿™ä¸ªå¼€æº AI ç¼–ç¨‹å·¥å…·æ€ç–¯äº†ï¼Ÿ",
      "link": "https://www.cnblogs.com/yupi/p/19460549",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/yupi/p/19460549\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-09 11:30\">\n    <span>å¹²æ‰ Claude Codeï¼Œè¿™ä¸ªå¼€æº AI ç¼–ç¨‹å·¥å…·æ€ç–¯äº†ï¼Ÿ</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                    <div id=\"cnblogs_post_description\" style=\"display: none;\">\n        <img alt=\"å¹²æ‰ Claude Codeï¼Œè¿™ä¸ªå¼€æº AI ç¼–ç¨‹å·¥å…·æ€ç–¯äº†ï¼Ÿ\" class=\"desc_img\" src=\"https://img2024.cnblogs.com/blog/2225420/202601/2225420-20260109111409828-677596839.png\" />\n        æœ€è¿‘æˆ‘èº«è¾¹å¾ˆå¤šç¨‹åºå‘˜æœ‹å‹å¼€å§‹ä» Claude Code è½¬å‘äº†å¦ä¸€ä¸ªå·¥å…·ï¼Œæ­£æ˜¯çªç„¶å¤§ç«çš„å¼€æºé¡¹ç›® OpenCodeã€‚\n    </div>\n<div class=\"blogpost-body blogpost-body-html\" id=\"cnblogs_post_body\">\n<p class=\"md-end-block md-heading\"><span class=\"md-plain\">å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ç¨‹åºå‘˜é±¼çš®ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">Claude Code ä¸€ç›´æ˜¯å¤§å®¶å…¬è®¤çš„ AI ç¼–ç¨‹å‘½ä»¤è¡Œå·¥å…· Top 1ï¼Œåœ¨ AI å’Œç¨‹åºå‘˜åœˆå­é‡Œå‡ ä¹æ˜¯ç¥ä¸€èˆ¬çš„å­˜åœ¨ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä½†æ˜¯ï¼Œè¿™ç‹—ç©æ„å„¿å¯¹ä¸­å›½ç”¨æˆ·å¯ä¸å¤ªå‹å¥½â€¦â€¦</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">é¦–å…ˆï¼Œå¦‚æœä½ æƒ³è¦ä½¿ç”¨ Claude Codeï¼Œå°±å¿…é¡»è¦æœ‰ç‰¹æ®Šçš„ç½‘ç»œ + å®˜æ–¹è´¦å·ï¼Œå¦åˆ™å°±ä¼šçœ‹åˆ°ä¸€ç‰‡çº¢ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æ­¤å¤–ï¼Œ2025 å¹´ 9 æœˆï¼ŒAnthropic å…¬å¸ä¸çŸ¥é“æŠ½ä»€ä¹ˆé£ï¼Œçªç„¶å®£å¸ƒ <span class=\"md-pair-s \"><strong>å…¨é¢ç¦æ­¢ä¸­å›½æ§è‚¡ä¼ä¸šä½¿ç”¨ Claude æœåŠ¡</strong><span class=\"md-plain\">ï¼Œä¸ä»…åŒ…æ‹¬ä¸­å›½å¤§é™†ä¼ä¸šï¼Œè¿æµ·å¤–ä¸­èµ„æ§è‚¡è¶…è¿‡ 50% çš„å…¬å¸éƒ½åœ¨å°ç¦èŒƒå›´å†…ï¼</span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç”šè‡³ Anthropic è¿˜ç‰¹åˆ«ç‚¹åäº†ä¸­å›½ï¼ŒæŠŠå’±ä»¬ç§°ä¸º <span class=\"md-pair-s \"><strong>æ•Œå¯¹å›½å®¶</strong><span class=\"md-plain\">ï¼</span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å¤©ä¸‹è‹¦ Claude Code ä¹…çŸ£ï¼</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä½†æ˜¯æœ€è¿‘æˆ‘èº«è¾¹å¾ˆå¤šç¨‹åºå‘˜æœ‹å‹å¼€å§‹ä» Claude Code è½¬å‘äº†å¦ä¸€ä¸ªå·¥å…·ï¼Œæ­£æ˜¯çªç„¶å¤§ç«çš„å¼€æºé¡¹ç›® OpenCodeã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è¿™ç©æ„åªç”¨äº†åŠå¹´çš„æ—¶é—´ï¼Œå°±åœ¨ GitHub ä¸Šæ¶¨åˆ°äº† 5.2w Starï¼</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è¿™æ˜¯ä¸ªä»€ä¹ˆæ¦‚å¿µï¼Ÿæ¯”æˆ‘åœ¨ GitHub ä¸Šå¼€æºçš„å‡ åä¸ªé¡¹ç›®çš„æ€»å’ŒåŠ èµ·æ¥éƒ½å¤šï¼æ…•äº†æ…•äº†â€¦â€¦</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">OpenCode åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿå‡­ä»€ä¹ˆè¿™ä¹ˆç«ï¼Ÿ</span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<h2 class=\"md-end-block md-heading\"><span class=\"md-plain\">å•¥æ˜¯ OpenCodeï¼Ÿ</span></h2>\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://opencode.ai/\" rel=\"noopener nofollow\"><span class=\"md-plain\">OpenCode</span></a><span class=\"md-plain\"> æ˜¯ä¸€æ¬¾ 100% å¼€æºçš„ AI ç¼–ç¨‹å‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ä»¥åœ¨ <span class=\"md-pair-s \"><strong>ç»ˆç«¯ã€IDEã€ç”šè‡³æ¡Œé¢åº”ç”¨</strong><span class=\"md-plain\"> ä¸­ä½¿ç”¨ã€‚</span></span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä½ å¯èƒ½ä¼šé—®ï¼šè¿™ç©æ„å„¿è·Ÿ Claude Code æœ‰å•¥åŒºåˆ«ï¼Ÿ</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è¯•è¯•ä¸å°±çŸ¥é“äº†ï¼Ÿ</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æ¥ä¸‹æ¥æˆ‘å¸¦å¤§å®¶å®æ“ä¸€ä¸‹ï¼Œä»é›¶å¼€å§‹å®‰è£…ã€é…ç½®ã€åˆ°å®é™…å†™ä»£ç ï¼Œä¸€æ¡é¾™æœåŠ¡~</span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<h2 class=\"md-end-block md-heading\"><span class=\"md-plain\">ä» 0 å¼€å§‹ä¸Šæ‰‹ OpenCode</span></h2>\n<h3 class=\"md-end-block md-heading\"><span class=\"md-plain\">1ã€å®‰è£…è¿è¡Œ OpenCode</span></h3>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç›´æ¥è¿›å…¥ OpenCode å®˜ç½‘ï¼Œå¤åˆ¶ä¸€è¡Œå‘½ä»¤ï¼š</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å‘½ä»¤å¦‚ä¸‹ï¼š</span></p>\n<pre class=\"md-fences md-end-block ty-contain-cm modeLoaded\"><span><span class=\"cm-builtin\">curl&nbsp;<span class=\"cm-attribute\">-fsSL&nbsp;https://opencode.ai/install |&nbsp;<span class=\"cm-builtin\">bash</span></span></span></span></pre>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç„¶ååœ¨ç»ˆç«¯ä¸­æ‰§è¡Œï¼Œå°±å¯ä»¥å®Œæˆå®‰è£…äº†ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å®‰è£…å®Œæˆä¹‹åï¼Œè¾“å…¥ <span class=\"md-pair-s\"><code>opencode</code><span class=\"md-plain\"> è¿›å…¥ç¨‹åºï¼Œæ¥ä¸‹æ¥ä½ å°±å¯ä»¥æ„‰å¿«åœ°ä½¿ç”¨äº†~</span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å…ˆæ¥ä¸ªç»å…¸çš„ Hello Worldï¼ŒAI æˆåŠŸç»™å‡ºäº†å›å¤ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æ­å–œï¼Œåˆ°è¿™é‡Œä½ å·²ç»æŒæ¡äº† OpenCode çš„ 70% äº†ã€‚</span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<h3 class=\"md-end-block md-heading\"><span class=\"md-plain\">2ã€é€‰æ‹©æ¨¡å¼å’Œæ¨¡å‹</span></h3>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">OpenCode æ”¯æŒ 2 ç§æ¨¡å¼ï¼Œé»˜è®¤æ˜¯ Build æ¨¡å¼ï¼Œç”¨æ¥æ„å»ºåº”ç”¨ã€ç”Ÿæˆä»£ç ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æŒ‰ä¸€ä¸‹ Tab é”®ï¼Œå°±å¯ä»¥åˆ‡æ¢åˆ° Plan æ¨¡å¼ï¼Œç”¨äºç”Ÿæˆæ‰§è¡Œè®¡åˆ’ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æŒ‰ä¸€ä¸‹ <span class=\"md-pair-s\"><code>Ctrl + p</code><span class=\"md-plain\"> é”®ï¼Œå¯ä»¥æ‰“å¼€å‘½ä»¤é¢æ¿ï¼Œé‡Œé¢æœ‰å‡ åä¸ªå†…ç½®å‘½ä»¤ã€‚æˆ‘ä»¬å…ˆæ¥è¯•ç€åˆ‡æ¢ä¸€ä¸‹å¤§æ¨¡å‹ï¼š</span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">é»˜è®¤æä¾›äº† 4 ä¸ªå…è´¹æ¨¡å‹ï¼š</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å¥½å®¶ä¼™ï¼Œè¿æ™ºè°±æœ€æ–°çš„ GLM-4.7 ç«Ÿç„¶ä¹Ÿå…è´¹ï¼Ÿé‚£æˆ‘çš„ Coding Plan å¥—é¤ä¸æ˜¯ç™½å¼€äº†ï¼Ÿ</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">é™¤äº†å…è´¹çš„æ¨¡å‹å¤–ï¼ŒOpenCode æ”¯æŒè¶…å¤šçš„ AI æ¨¡å‹ï¼Œä½ å¯ä»¥è‡ªç”±é€‰æ‹©ï¼š</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">é€‰ä¸­æ¨¡å‹åï¼Œé…ç½®è‡ªå·±çš„ API Key å°±å¥½äº†ï¼š</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å¦‚æœä½ ä¹‹å‰æœ‰ <span class=\"md-pair-s \"><strong>Claude Pro/Max è®¢é˜…è´¦å·</strong><span class=\"md-plain\">ï¼Œå¯ä»¥ç›´æ¥ç™»å½•ä½¿ç”¨ï¼Œæ— ç¼ä» Claude Code è¿ç§»è¿‡æ¥ã€‚</span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<h3 class=\"md-end-block md-heading\"><span class=\"md-plain\">3ã€å¿«æ·æŒ‡ä»¤</span></h3>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">OpenCode æ”¯æŒæ–œæ å‘½ä»¤ï¼Œè¾“å…¥ <span class=\"md-pair-s\"><code>/</code><span class=\"md-plain\">ï¼Œèƒ½çœ‹åˆ°å¾ˆå¤šæ“ä½œï¼Œæ¯”å¦‚æŸ¥çœ‹æ¨¡å‹åˆ—è¡¨ã€æŸ¥çœ‹ Agentsã€ç®¡ç† MCPã€åˆ‡æ¢ä¸»é¢˜ç­‰ç­‰ï¼š</span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æ”¯æŒå‡ åä¸ªä¸åŒçš„ä¸»é¢˜ï¼Œé¢œå€¼éƒ½æŒºé«˜çš„ï¼Œä»è¿™ç‚¹ä¹Ÿèƒ½çœ‹å‡ºæ¥ OpenCode å¾ˆæ³¨é‡ç”¨æˆ·çš„ä½“éªŒï¼š</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è¾“å…¥ <span class=\"md-pair-s\"><code>@</code><span class=\"md-plain\"> å¯ä»¥å¿«é€Ÿå…³è”ç›®å½•æ–‡ä»¶ï¼Œç»™ AI æ·»åŠ ä¸Šä¸‹æ–‡ï¼š </span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<h3 class=\"md-end-block md-heading\"><span class=\"md-plain\">4ã€äº¤äº’ä½“éªŒ</span></h3>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç›¸æ¯”äº Claude Codeï¼ŒOpenCode çœŸæ˜¯æŠŠå‘½ä»¤è¡Œçš„äº¤äº’ä½“éªŒæ‹‰æ»¡äº†ï¼Œç”šè‡³æˆ‘è§‰å¾—å®ƒæ˜¯ä¸€ä¸ªä¼ªè£…æˆå‘½ä»¤è¡Œçš„æ¡Œé¢åº”ç”¨ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä½ å¯ä»¥ç‚¹å‡»æŸæ¡æ¶ˆæ¯ï¼Œç„¶åä¼šå¼¹å‡ºä¸€ä¸ªæ¶ˆæ¯åŠ¨ä½œæ¡†ï¼Œä½ å¯ä»¥æ’¤å›æ¶ˆæ¯å’Œ AI çš„å›å¤ï¼Œä¹Ÿå¯ä»¥å¤åˆ¶ã€æˆ–è€…åŸºäºå½“å‰å¯¹è¯æ–°å¼€ä¸€ä¸ªå¯¹è¯æ¡†ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä½ å¯ä»¥é€šè¿‡é¼ æ ‡ä¸Šä¸‹æ»šåŠ¨æ¥åˆ‡æ¢é€‰å•ï¼Œå¹¶ä¸”å¯ä»¥ç›´æ¥é€šè¿‡é¼ æ ‡ç‚¹å‡»è¿›å…¥ä¸‹ä¸€æ­¥ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä½ å¯ä»¥æŒ‰ <span class=\"md-pair-s\"><code>Ctrl + p</code><span class=\"md-plain\"> é”®æ‰“å¼€å‘½ä»¤é¢æ¿ï¼Œç„¶åå¼€å¯ä¾§è¾¹æ ï¼š</span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç„¶åç•Œé¢å°±å˜æˆäº†è¿™æ ·ï¼Œä½ ç®¡è¿™å«å‘½ä»¤è¡Œï¼Ÿ</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<h3 class=\"md-end-block md-heading\"><span class=\"md-plain\">5ã€LSP æ”¯æŒ</span></h3>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç»†å¿ƒçš„ä½ ä¸€å®šçœ‹åˆ°äº†ï¼Œå³è¾¹çš„ä¾§è¾¹æ æœ‰ä¸ª <span class=\"md-pair-s\"><code>LSP</code><span class=\"md-plain\">ï¼Œè¿™æ˜¯ä»€ä¹ˆé¬¼ä¸œè¥¿ï¼Ÿè€è‰²æ‰¹ï¼Ÿ</span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">LSPï¼ˆLanguage Server Protocol è¯­è¨€æœåŠ¡å™¨åè®®ï¼‰æ˜¯å¾®è½¯å¼€å‘çš„ä¸€ç§é€šä¿¡åè®®ï¼Œç”¨äºè®©ä»£ç ç¼–è¾‘å™¨å’Œè¯­è¨€æœåŠ¡å™¨ä¹‹é—´è¿›è¡Œé€šä¿¡ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç®€å•æ¥è¯´ï¼Œ<span class=\"md-pair-s \"><strong>LSP å°±æ˜¯è®©ç¼–è¾‘å™¨çœ‹æ‡‚ä»£ç çš„æŠ€æœ¯ã€‚</strong></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æ¯”å¦‚ä½ åœ¨ VS Code é‡Œå†™ä»£ç ï¼Œè¾“å…¥ <span class=\"md-pair-s\"><code>console.</code><span class=\"md-plain\"> å®ƒä¼šè‡ªåŠ¨æç¤º <span class=\"md-pair-s\"><code>log</code><span class=\"md-plain\">ã€ç‚¹å‡»å‡½æ•°åèƒ½è·³è½¬åˆ°ä»£ç å®šä¹‰ã€å†™é”™ä»£ç ä¼šç”»çº¢çº¿æé†’ã€‚è¿™äº›ä»£ç ç¼–è¾‘å™¨çš„åŠŸèƒ½ï¼ŒèƒŒåéƒ½æ˜¯ LSP åœ¨å¹²æ´»ã€‚</span></span></span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">OpenCode æ”¯æŒ LSPï¼Œæ„å‘³ç€ AI èƒ½çœŸæ­£ç†è§£ä½ çš„ä»£ç ç»“æ„ï¼Œè€Œä¸æ˜¯æŠŠä»£ç å½“æ™®é€šæ–‡å­—ççŒœï¼Œæ”¹èµ·æ¥æ›´ç²¾å‡†ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æ¯”å¦‚æˆ‘è®© AI ä»‹ç»æˆ‘çš„ AI ç­”é¢˜å¹³å°é¡¹ç›®ä¸­æœ€æœ‰ä»·å€¼çš„ä»£ç ï¼ŒLSP å°±æ´¾ä¸Šç”¨åœºäº†ã€‚å®ƒèƒ½å¸® AI å¿«é€Ÿå®šä½æŸæ®µä»£ç åœ¨å“ªé‡Œè¢«è°ƒç”¨ã€å¼•ç”¨äº†å“ªäº›å˜é‡ï¼Œè€Œä¸æ˜¯è®© AI å‚»å‚»åœ°å…¨å±€æœç´¢æ–‡æœ¬ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<h3 class=\"md-end-block md-heading\"><span class=\"md-plain\">6ã€å›åˆ°ä¹‹å‰çš„ä¼šè¯</span></h3>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å¦‚æœä½ ä¸å°å¿ƒå…³é—­äº† OpenCodeï¼Œä¸ç”¨æ‹…å¿ƒï¼Œå¯ä»¥æ‰“å¼€å‘½ä»¤é¢æ¿ï¼Œé€‰ä¸­ â€œSwitch sessionâ€ åˆ‡æ¢ä¼šè¯ï¼š</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å°±èƒ½å›åˆ°ä¹‹å‰çš„èŠå¤©äº†ï¼š</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<h2 class=\"md-end-block md-heading\"><span class=\"md-plain\">æ¡Œé¢ç‰ˆ OpenCode</span></h2>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å³ä½¿ OpenCode æ”¯æŒäº†è¿™ä¹ˆå¤šæ”¹è¿›ç”¨æˆ·ä½“éªŒçš„äº¤äº’ï¼Œä½†æˆ‘ä¼°è®¡å¤§å¤šæ•°åŒå­¦è¿˜æ˜¯ä¸å–œæ¬¢å°é»‘æ¡†çš„ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æ²¡å…³ç³»ï¼ŒOpenCode è¿˜æä¾›äº†æ¡Œé¢åº”ç”¨ç‰ˆæœ¬ï¼macOSã€Windowsã€Linux å…¨ç«¯æ”¯æŒï¼Œè¿™æ˜¯çœŸçš„è¦å·æ­» Claude Code çš„èŠ‚å¥å•Šâ€¦â€¦</span></p>\n<blockquote>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æŒ‡è·¯ï¼š<span class=\"md-link md-pair-s\"><a href=\"https://opencode.ai/download\" rel=\"noopener nofollow\">https://opencode.ai/download</a></span></span></p>\n</blockquote>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä¸è¿‡å½“æˆ‘æ€€ç€æ»¡è…”çƒ­è¡€å®‰è£…å¹¶æ‰“å¼€å®ƒæ—¶ï¼Œç«Ÿç„¶æŠ¥é”™äº†ï¼</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç»è¿‡ä¸€ç•ªæ’æŸ¥ï¼Œå‘ç°åŸæ¥æ˜¯æˆ‘å¼€äº†ä»£ç†ï¼Œå…³é—­ä¹‹åå°±æ­£å¸¸è¿è¡Œäº†ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä½†æ˜¯ç”¨æƒ¯äº† Cursorï¼Œè¿™ä¸ªäº¤äº’ä½“éªŒçœŸçš„æœ‰ç‚¹æ•·è¡äº†ï¼Œä¸æ¨èå¤§å®¶ä½¿ç”¨ã€‚</span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<h2 class=\"md-end-block md-heading\"><span class=\"md-plain\">OpenCode æ‰©å±•èƒ½åŠ›</span></h2>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘è§‰å¾— OpenCode åœ¨å‰ç«¯ç”¨æˆ·ä½“éªŒä¸Šå…¨æ–¹é¢ç¢¾å‹ Claude Codeï¼Œè€Œä¸” OpenCode å®Œå…¨å…¼å®¹ Claude Code çš„ Skills ç³»ç»Ÿï¼</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">Skills æ˜¯ä¸€ç§ç»™ AI å‡†å¤‡çš„èƒ½åŠ›æ‰©å±•åŒ…ã€‚ä½ å¯ä»¥æŠŠå®ƒç†è§£æˆç»™æ–°åŒäº‹å‡†å¤‡çš„å·¥ä½œäº¤æ¥æ–‡æ¡£ï¼Œé‡Œé¢åŒ…å«ä»»åŠ¡æ‰§è¡Œæ–¹æ³•ã€å·¥å…·ä½¿ç”¨è¯´æ˜ã€æ¨¡æ¿ç´ æç­‰ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æ¯”å¦‚ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ª <span class=\"md-pair-s\"><code>å…¬å¸ä»£ç è§„èŒƒ Skill</code><span class=\"md-plain\">ï¼ŒæŠŠä»£ç é£æ ¼ã€å‘½åè§„åˆ™ã€æ³¨é‡Šè¦æ±‚ç­‰å†™è¿›å»ã€‚ä¹‹å Claude Code ç”Ÿæˆçš„ä»£ç å°±ä¼šè‡ªåŠ¨éµå¾ªè¿™äº›è§„èŒƒï¼Œä¸ç”¨æ¯æ¬¡éƒ½é‡å¤è¯´æ˜ã€‚</span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼ŒOpenCode ä¼šè‡ªåŠ¨æœç´¢è¿™äº›ä½ç½®çš„ Skillsï¼š</span></p>\n<ul class=\"ul-list\">\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-pair-s\"><code>.opencode/skill/&lt;name&gt;/SKILL.md</code><span class=\"md-plain\">ï¼ˆé¡¹ç›®ç›®å½•ï¼‰</span></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-pair-s\"><code>~/.config/opencode/skill/&lt;name&gt;/SKILL.md</code><span class=\"md-plain\">ï¼ˆç”¨æˆ·ç›®å½•ï¼‰</span></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-pair-s\"><code>.claude/skills/&lt;name&gt;/SKILL.md</code><span class=\"md-plain\">ï¼ˆClaude Code å…¼å®¹ï¼‰</span></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-pair-s\"><code>~/.claude/skills/&lt;name&gt;/SKILL.md</code><span class=\"md-plain\">ï¼ˆClaude Code å…¼å®¹ï¼‰</span></span></p>\n</li>\n</ul>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½ ä¹‹å‰ç»™ Claude Code åˆ›å»ºè¿‡è‡ªå®šä¹‰ Skillsï¼Œç›´æ¥æ‹¿è¿‡æ¥å°±èƒ½ç”¨ï¼åˆæ˜¯æ— ç¼è¿ç§»ã€‚</span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<h2 class=\"md-end-block md-heading\"><span class=\"md-plain\">Oh My OpenCode å¼€æŒ‚æ’ä»¶</span></h2>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å¦‚æœä½ è§‰å¾— OpenCode è¿˜ä¸å¤Ÿå¼ºï¼Œå¯ä»¥è¯•è¯• <span class=\"md-pair-s\"><code>Oh My OpenCode</code><span class=\"md-plain\"> è¿™ä¸ªå¼€æºçš„ OpenCode å¢å¼ºæ’ä»¶ï¼Œå·²ç» 1w Star äº†ã€‚</span></span></span></p>\n<blockquote>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">é¡¹ç›®åœ°å€ï¼š<span class=\"md-link md-pair-s\"><a href=\"https://github.com/code-yeongyu/oh-my-opencode\" rel=\"noopener nofollow\">https://github.com/code-yeongyu/oh-my-opencode</a></span></span></p>\n</blockquote>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è¿™ä¸ªæ’ä»¶æœ‰å¤šç‰›ï¼Ÿçœ‹çœ‹ç”¨æˆ·è¯„ä»·ï¼š</span></p>\n<blockquote>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">\"It made me cancel my Cursor subscription.\"ï¼ˆå®ƒè®©æˆ‘å–æ¶ˆäº† Cursor è®¢é˜…ï¼‰</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">\"Knocked out 8000 eslint warnings with Oh My Opencode, just in a day\"ï¼ˆä¸€å¤©å†…ç”¨å®ƒè§£å†³äº† 8000 ä¸ª eslint è­¦å‘Šï¼‰</span></p>\n</blockquote>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">Oh My OpenCode çš„æ ¸å¿ƒåŠŸèƒ½æ˜¯å¼•å…¥äº†ä¸€ä¸ªå« <span class=\"md-pair-s \"><strong>Sisyphus</strong><span class=\"md-plain\"> çš„æ™ºèƒ½ä½“ç¼–æ’ç³»ç»Ÿã€‚</span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æˆ‘ç‰¹åœ°å»æœäº†ä¸€ä¸‹ï¼š</span></p>\n<blockquote>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è¥¿è¥¿å¼—æ–¯ï¼ˆSisyphusï¼‰æ˜¯å¤å¸Œè…Šç¥è¯ä¸­ä¸€ä½å› æ¬ºéª—ä¼—ç¥ã€æŒ‘æˆ˜æƒå¨è€Œè¢«è¯¸ç¥æƒ©ç½šçš„å›½ç‹ï¼Œä»–çš„æƒ©ç½šæ˜¯æ°¸æ— æ­¢å¢ƒåœ°å°†ä¸€å—å·¨çŸ³æ¨ä¸Šå±±é¡¶ï¼Œè€ŒçŸ³å¤´ä¸€åˆ°å±±é¡¶ä¾¿ä¼šæ»šè½ï¼Œå¦‚æ­¤å‘¨è€Œå¤å§‹ï¼Œè±¡å¾ç€å¾’åŠ³æ— åŠŸã€æ°¸æ— ä¼‘æ­¢çš„ä»»åŠ¡ï¼Œä¹Ÿä»£è¡¨ç€ä¸€ç§å¯¹è’è¯å‘½è¿çš„æŠ—äº‰ç²¾ç¥ã€‚</span></p>\n</blockquote>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è¿™ä¸ªç³»ç»Ÿå¯ä»¥ï¼š</span></p>\n<ol class=\"ol-list\" start=\"\">\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å¹¶è¡Œè°ƒåº¦å¤šä¸ª AI æ¨¡å‹ï¼šæ¯”å¦‚è®© GPT debug çš„åŒæ—¶è®© Gemini å†™å‰ç«¯</span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è‡ªåŠ¨ä»»åŠ¡ç®¡ç†ï¼šä¸å®Œæˆä»»åŠ¡ä¸è®©åœï¼Œåƒè¥¿è¥¿å¼—æ–¯æ¨çŸ³å¤´ä¸€æ ·é”²è€Œä¸èˆ</span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æ™ºèƒ½ä»£ç å®¡æŸ¥ï¼šè‡ªåŠ¨æ£€æµ‹å¹¶æ¸…ç† AI ç”Ÿæˆçš„å†—ä½™æ³¨é‡Š</span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">LSP æ·±åº¦é›†æˆï¼šæä¾›é‡å‘½åã€è·³è½¬å®šä¹‰ç­‰ IDE çº§åŠŸèƒ½</span></p>\n</li>\n</ol>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç®€å•æ¥è¯´ï¼ŒSisyphus å°±æ˜¯ä¸€ä¸ª AI ç›‘å·¥ï¼Œå®ƒèƒ½åŒæ—¶æŒ‡æŒ¥å¤šä¸ª AI æ¨¡å‹å¹²æ´»ï¼Œè¿˜ä¼šç›¯ç€å®ƒä»¬æŠŠä»»åŠ¡åšå®Œã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è™½ç„¶å®˜æ–¹è¯´ç”¨ä¸€è¡Œå‘½ä»¤å°±èƒ½å®Œæˆå®‰è£…ï¼Œä½†æˆ‘å»ºè®®ä½ å…ˆå®‰è£… bunï¼Œå†æ‰§è¡Œ npx æ¥å®‰è£…ï¼Œå¦åˆ™å¯èƒ½ä¼šæŠ¥é”™ã€‚</span></p>\n<pre class=\"md-fences md-end-block ty-contain-cm modeLoaded\"><span><span class=\"cm-builtin\">npm&nbsp;install bun&nbsp;<span class=\"cm-attribute\">-g<br /><span>npx oh-my-opencode install</span></span></span></span></pre>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å®‰è£…è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šé—®ä½ æœ‰æ²¡æœ‰æŸäº›æ¨¡å‹çš„è®¢é˜…ï¼Œæˆ‘åæ­£å•¥éƒ½æ²¡æœ‰ï¼Œä¸€ç›´é€‰ \"No\" å°±è¡Œäº†ï¼š</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å®‰è£…å®Œæˆåï¼Œå†æ¬¡è¿›å…¥ OpenCodeï¼Œä¹‹ååªéœ€è¦åœ¨ä½ çš„æç¤ºè¯é‡ŒåŠ ä¸Š <span class=\"md-pair-s\"><code>ultrawork</code><span class=\"md-plain\">ï¼ˆæˆ– <span class=\"md-pair-s\"><code>ulw</code><span class=\"md-plain\">ï¼‰è¿™ä¸ªå¼€æŒ‚å’’è¯­ï¼Œå°±èƒ½æ¿€æ´»å…¨éƒ¨å¢å¼ºåŠŸèƒ½ã€‚è‡ªåŠ¨è°ƒåº¦å¤šä¸ª AI æ¨¡å‹åŒæ—¶å·¥ä½œã€æ·±åº¦æ¢ç´¢ä»£ç åº“ã€é”²è€Œä¸èˆåœ°æ‰§è¡Œã€‚</span></span></span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä¸‹é¢æˆ‘ä»¬è¯•è¯•çœ‹ï¼Œæ­£å¥½æ¥éªŒè¯ä¸€ä¸‹ OpenCode åšé¡¹ç›®çš„èƒ½åŠ›å¦‚ä½•ï¼Ÿèƒ½ä¸èƒ½æŠŠ Claude Code ä¸€è„šè¸¹é£ï¼Ÿ</span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<h2 class=\"md-end-block md-heading\"><span class=\"md-plain\">å®æˆ˜é¡¹ç›® - ç”¨ OpenCode åšä¸ª AI å¥åº·åŠ©æ‰‹</span></h2>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æœ€è¿‘èš‚èšé›†å›¢çš„ <span class=\"md-pair-s\"><code>èš‚èšé˜¿ç¦</code><span class=\"md-plain\"> AI å¥åº·åŠ©æ‰‹ç«äº†ï¼Œåœ°é“å£ã€å…¬å¸æ¥¼ä¸‹çš„ç”µè§†å¹¿å‘Šä¸­éšå¤„å¯è§ä½•ç‚…è€å¸ˆçš„èº«å½±ã€‚</span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è™½ç„¶æˆ‘è¿˜æ²¡æœ‰ç”¨è¿‡å®ƒï¼Œä½†æ˜¯å¬è¯´å®ƒå¯ä»¥é€šè¿‡æ‹çš®è‚¤ã€æ‹æŠ¥å‘Šæä¾› AI åˆè¯Šï¼Œè¿˜èƒ½æ™ºèƒ½å›ç­”åŒ»å­¦ç§‘æ™®å’Œæ²»ç–—å»ºè®®ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">é‚£æˆ‘ä»¬ä¹Ÿæ¥åšä¸ªç±»ä¼¼çš„å¥åº·å°åŠ©æ‰‹ç½‘ç«™å§ï¼</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å‰æœ‰èš‚èšé˜¿ç¦ï¼Œä»Šæœ‰é±¼çš®é˜¿å¤ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å…ˆåˆ†æä¸€ä¸‹ï¼Œæˆ‘ä»¬è¦åšçš„æ˜¯åŒ…å«å‰ç«¯ + åç«¯çš„å…¨æ ˆé¡¹ç›®ï¼Œè€Œä¸”åç«¯è¿˜éœ€è¦è°ƒç”¨ AI å¤§æ¨¡å‹æ¥ç”Ÿæˆå†…å®¹ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è¿™é‡Œæˆ‘é€‰æ‹©ç”¨ <span class=\"md-pair-s \"><strong>Vercel AI Gateway</strong><span class=\"md-plain\"> æ¥å®ç° AI èƒ½åŠ›ï¼Œè¿™æ˜¯ä¸€æ¬¾ç®€å•æ˜“ç”¨çš„ AI ç½‘å…³ã€‚</span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä»€ä¹ˆæ˜¯ AI ç½‘å…³ï¼Ÿ</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç®€å•æ¥è¯´ï¼Œå®ƒå°±åƒæ˜¯ç«è½¦ç«™çš„æ£€ç¥¨å£ï¼Œä½ çš„åº”ç”¨å‘æ¥çš„è¯·æ±‚å…ˆç»è¿‡ç½‘å…³ï¼Œç½‘å…³å¸®ä½ å¤„ç†è®¤è¯ã€é™æµã€ç›‘æ§ç­‰ä¸€ç³»åˆ—å¤æ‚çš„æ“ä½œï¼Œç„¶åæŠŠè¯·æ±‚è½¬å‘ç»™ AI å¤§æ¨¡å‹ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è€Œä¸” Vercel AI Gateway æ”¯æŒå¯¹æ¥ 500 å¤šä¸ªå¤§æ¨¡å‹ï¼Œè¿˜æœ‰å…è´¹é¢åº¦ï¼Œéå¸¸é€‚åˆå­¦ä¹ å’Œå°é¡¹ç›®ã€‚</span></p>\n<blockquote>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æŒ‡è·¯ï¼š<span class=\"md-link md-pair-s\"><a href=\"https://vercel.com/ai-gateway\" rel=\"noopener nofollow\">https://vercel.com/ai-gateway</a></span></span></p>\n</blockquote>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">1ï¼‰é¦–å…ˆä½ éœ€è¦æ³¨å†Œç™»å½• Vercelï¼Œç„¶ååœ¨æ§åˆ¶å°åˆ›å»º API Keyï¼Œæ³¨æ„ä¸è¦æ³„éœ²å“¦ï¼š</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">2ï¼‰å¯åŠ¨ OpenCodeï¼Œåˆ‡æ¢æ¨¡å‹åˆ°ç¼–ç¨‹èƒ½åŠ›å¾ˆå¼ºã€å¹¶ä¸”å…è´¹çš„ GLM-4.7ï¼Œç„¶åè¾“å…¥è¿™æ®µæç¤ºè¯ï¼š</span></p>\n<pre class=\"md-fences md-end-block ty-contain-cm modeLoaded\"><span>ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„ç¨‹åºå‘˜ï¼Œè¯·å¸®æˆ‘å¼€å‘ã€Šæ¯æ—¥å¥åº·å°åŠ©æ‰‹ã€‹ç½‘ç«™ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡å’Œ AI èŠå¤©æ¥è®°å½•å’Œç®¡ç†æ¯æ—¥å¥åº·çŠ¶æ€ã€‚<br /><span><span>â€‹<br /><span><span class=\" cm-header cm-header2\">## å¼€å‘è¦æ±‚<br /><span><span>â€‹<br /><span><span class=\"cm-block-start cm-variable-2\">1.&nbsp;<span class=\"cm-variable-2\">éœ€è¦åŒ…å«å®Œæ•´çš„å‰ç«¯å’Œåç«¯ï¼Œåç«¯ä½¿ç”¨ Node.js<br /><span><span class=\"cm-block-start cm-variable-2\">2.&nbsp;<span class=\"cm-variable-2\">ä½¿ç”¨ Vercel çš„ AI Gateway å®ç° AI èƒ½åŠ›ï¼Œéœ€è¦å…ˆé€šè¿‡å®˜æ–¹æ–‡æ¡£æ¥è·å–ç”¨æ³•ï¼šhttps://vercel.com/docs/ai-gateway/getting-started<br /><span><span class=\"cm-block-start cm-variable-2\">3.&nbsp;<span class=\"cm-variable-2\">ä»¥å®Œæˆæ ¸å¿ƒåŠŸèƒ½ä¸ºç›®æ ‡ï¼Œç¡®ä¿é¡¹ç›®å¯ä»¥æ­£å¸¸è¿è¡Œ<br /><span><span class=\"cm-block-start cm-variable-2\">4.&nbsp;<span class=\"cm-variable-2\">æ•´ä½“ç½‘ç«™ç•Œé¢é‡‡ç”¨æ¸…æ–°çš„ç»¿è‰²å¥åº·é£æ ¼ï¼Œå“åº”å¼é€‚é…å„ç§å°ºå¯¸çš„è®¾å¤‡<br /><span><span class=\"cm-block-start cm-variable-2\">5.&nbsp;<span class=\"cm-variable-2\">AI éœ€è¦ä¸»åŠ¨è¯¢é—®ç”¨æˆ·çš„å¥åº·çŠ¶å†µï¼Œæ¯”å¦‚ç¡çœ ã€è¿åŠ¨ã€é¥®é£Ÿç­‰</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç‚¹å‡»å‘é€åï¼ŒOpenCode ä¼šè‡ªåŠ¨ä½¿ç”¨ç½‘é¡µæŠ“å–å·¥å…·è¯»å– Vercel AI Gateway çš„å®˜æ–¹æ–‡æ¡£ï¼Œå­¦ä¹ æœ€æ–°çš„ç”¨æ³•ï¼š</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å¤§æ¦‚ 5 åˆ†é’Ÿå·¦å³ï¼ŒAI å°±å®Œæˆäº†å…¨éƒ¨ä»£ç çš„ç”Ÿæˆï¼Œå¹¶ä¸”è‡ªåŠ¨å®‰è£…äº†ä¾èµ–ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">3ï¼‰æˆ‘ç›´æ¥æŠŠä¹‹å‰æ‹¿åˆ°çš„ Vercel çš„ API Key æä¾›ç»™ AIï¼Œè®©å®ƒå¸®æˆ‘å¯åŠ¨é¡¹ç›®ï¼š</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">4ï¼‰å¯åŠ¨é¡¹ç›®æˆåŠŸåï¼Œæ‰“å¼€æµè§ˆå™¨è®¿é—® <span class=\"md-pair-s\"><code>localhost:3000</code><span class=\"md-plain\">ï¼Œæµ‹è¯•ä¸€ä¸‹æ•ˆæœã€‚</span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç»“æœæŠ¥é”™äº†ï¼æ— æ³•è°ƒç”¨ AIã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å¯èƒ½æ˜¯ AI å¯¹ Vercel AI Gateway æ–‡æ¡£çš„ç†è§£ä¸åˆ°ä½ï¼Œå¯¼è‡´å†™é”™äº†è°ƒç”¨ AI çš„ä»£ç ã€‚äºæ˜¯æˆ‘å†æ¬¡æŠŠæ–‡æ¡£è¾“å…¥ç»™ AIï¼Œè®©å®ƒå†æˆ˜ä¸€æ¬¡ï¼š</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç»“æœåˆæŠ¥é”™äº†ï¼Œæ˜æ˜æˆ‘å·²ç»ç»™ AI æä¾›äº† API Keyï¼Œç³»ç»Ÿè¿˜æ˜¯æŠ¥é”™ â€œç¼ºå°‘ API Keyâ€ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">äºæ˜¯æˆ‘åˆè°ƒäº†ä¸€æ¬¡ AIï¼Œå‘Šè¯‰å®ƒ â€œè¿™ä¸ª key æˆ‘ä¹‹å‰å·²ç»æä¾›ç»™ä½ äº†â€ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç»è¿‡å¤§æ¦‚ 5 æ¬¡å·¦å³çš„æŠ¥é”™å’Œä¿®å¤ï¼Œä»ç„¶ä¸èƒ½æ­£å¸¸ä½¿ç”¨ï¼æˆ‘éº»äº†å•Šâ€¦â€¦</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">äºæ˜¯ï¼Œæˆ‘æœ‰ä¸€ä¸ªé¬¼ç‚¹å­ï¼šæ—¢ç„¶è¦è·Ÿ Claude Code æ¯”è¾ƒï¼Œé‚£æˆ‘ä¸å¦¨å°è¯•ç”¨ Claude Code ä¿®å¤è¿™ä¸ª OpenCode è§£å†³ä¸äº†çš„é—®é¢˜ï¼Ÿ</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è¯•è¯•çœ‹ï¼è¾“å…¥æç¤ºè¯ï¼š</span></p>\n<pre class=\"md-fences md-end-block ty-contain-cm modeLoaded\"><span>ç°åœ¨é¡¹ç›®åç«¯ AI åŠŸèƒ½ä¸å¯ç”¨<br /><span>è¯·å‚è€ƒ https://vercel.com/docs/ai-gateway/getting-started æ–‡æ¡£<br /><span>å¸®æˆ‘ä¿®å¤åç«¯ï¼Œç¡®ä¿é¡¹ç›®èƒ½æ­£å¸¸è¿è¡Œ</span></span></span></pre>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">Claude Code æˆåŠŸä¿®å¤äº†é—®é¢˜ï¼Œç»ˆäºèƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨äº†ï¼š</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ğŸ’¡ æ³¨æ„ï¼Œå¦‚æœä½ é‡åˆ°äº†è°ƒç”¨ AI ç½‘ç»œè¶…æ—¶çš„é—®é¢˜ï¼Œå¯ä»¥è®© AI æŠŠè°ƒç”¨çš„ baseURL æ”¹ä¸º <span class=\"md-link md-pair-s\"><a href=\"https://ai-gateway.vercel.sh/v1\" rel=\"noopener nofollow\">https://ai-gateway.vercel.sh/v1</a></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä¹‹å‰ç±»ä¼¼çš„ä»»åŠ¡æˆ‘ç”¨ Claude Code / Cursor + GLMï¼Œä¸åˆ° 10 åˆ†é’Ÿå°±æå®šäº†ã€‚è¿™æ¬¡ç«Ÿç„¶èŠ±äº† 20 åˆ†é’Ÿå·¦å³ï¼Œè¿˜è¦ç»è¿‡æ¥å›æ‹‰æ‰¯ï¼Œæ‰èƒ½æ­£å¸¸ä½¿ç”¨ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è¿™è®©æˆ‘ä¸å¾—ä¸æ€€ç–‘ OpenCode çš„èƒ½åŠ›äº†ã€‚è€Œä¸”æ„Ÿè§‰ GLM å¤§æ¨¡å‹åœ¨ OpenCode ä¸­å¥½åƒå˜ç¬¨äº†ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯æˆ‘çš„é”™è§‰â€¦â€¦ </span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä¸è¡Œï¼Œå¤§å®¶æŠŠ OpenCode å¹å¾—è¿™ä¹ˆç‰›æ‰¹ï¼Œæˆ‘å¾—å†è¯•è¯•ï¼Œä¸€å®šæ˜¯æˆ‘ç”¨æ³•çš„é—®é¢˜ï¼</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<h3 class=\"md-end-block md-heading\"><span class=\"md-plain\">Ultrawork æ¨¡å¼</span></h3>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è¿˜è®°å¾—å‰é¢æåˆ°çš„ <span class=\"md-pair-s\"><code>ultrawork</code><span class=\"md-plain\">ï¼ˆæˆ– <span class=\"md-pair-s\"><code>ulw</code><span class=\"md-plain\">ï¼‰å¼€æŒ‚å’’è¯­ä¹ˆï¼Ÿæèµ·ï¼</span></span></span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è¿›å…¥æˆ˜æ–—çŠ¶æ€äº†ï¼š</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å¯ä»¥æŸ¥çœ‹å­ä»£ç†è¿è¡Œè¯¦æƒ…ï¼Œå…ˆæŒ‰ <span class=\"md-pair-s\"><code>Ctrl + x</code><span class=\"md-plain\"> é”®ï¼Œå†æŒ‰æ–¹å‘é”®æ¥æŸ¥çœ‹ä¸åŒçš„ä»£ç†ã€‚</span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è€Œä¸”å½“åå°ä»»åŠ¡å®Œæˆæ—¶ï¼Œä¼šæœ‰ä¸€ä¸ªæç¤ºã€‚å¯ä»¥çœ‹åˆ° â€œç ”ç©¶ Vercel AI SDK å¯¹è¯æ¨¡å¼â€ çš„ä»»åŠ¡å·²ç»å®Œæˆã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä¸è¿‡ä½ çŒœæ€ä¹ˆç€ï¼Ÿæˆ‘ç­‰äº†å°†è¿‘ 10 åˆ†é’Ÿï¼Œä»»åŠ¡è¿˜æ²¡ç»“æŸâ€¦â€¦</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">çœ‹çœ‹è¿™ä¸ªä»»åŠ¡åˆ—è¡¨ï¼Œéœ€è¦è¿™ä¹ˆå¤æ‚å—ï¼Ÿè¿æ•°æ®åº“éƒ½ç»™æˆ‘å¹²å‡ºæ¥äº†ï¼Ÿ</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img alt=\"=\" class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æˆ‘å·²ç»æ²¡è€å¿ƒç­‰ä¸‹å»äº†ï¼Œæ¯ç­å§ï¼</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">çœ‹æ¥è¿™ç§ä¸ç®—å¤ªå¤æ‚çš„å·¥ä½œå¹¶ä¸èƒ½å‘æŒ¥å‡ºå¤šä»£ç†çš„ä¼˜åŠ¿ã€‚å°±åƒä½ åªæ˜¯è¦æ‰“å°ä¸€å¼ çº¸ï¼Œæ²¡å¿…è¦å‘åŠ¨å…¨å…¬å¸çš„äººï¼Œæœ‰çš„ç ”ç©¶æ‰“å°çš„çº¸å¼ ç±»å‹ã€æœ‰çš„ç ”ç©¶æ‰“å°æœºçš„çŠ¶æ€ã€æœ‰çš„ç ”ç©¶æ€ä¹ˆæ‰“å°å§¿åŠ¿æ›´ä¼˜é›…ã€‚</span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<h2 class=\"md-end-block md-heading\"><span class=\"md-plain\">æœ€å</span></h2>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç»è¿‡ä¸Šè¿°ç®€å•çš„æµ‹è¯•ï¼Œæˆ‘æš‚æ—¶å¯¹ OpenCode ä¿æŒè§‚æœ›çŠ¶æ€ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å‰ç«¯åšçš„ç¡®å®å¾ˆä¸é”™ï¼Œä½†åç«¯çš„èƒ½åŠ›æ„Ÿè§‰è·Ÿ Claude Code è¿˜æœ‰å·®è·ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å¦‚æœåªæ˜¯è¿½æ±‚å‰ç«¯ä½¿ç”¨æ–¹ä¾¿ï¼Œé‚£æˆ‘ä¸ºä»€ä¹ˆä¸ç”¨ Cursorï¼Ÿ</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä¸è¿‡ OpenCode çš„æˆåŠŸè¯´æ˜äº†ä¸€ä¸ªé“ç†ï¼š<span class=\"md-pair-s \"><strong>è°ç¦»ç”¨æˆ·è¿‘ã€è°èƒ½å‘ç°ç—›ç‚¹ï¼Œè°å°±æœ‰è¶…è¶Šå·¨å¤´çš„æœºä¼šã€‚</strong></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">Claude Code ç¡®å®å¾ˆå¼ºï¼Œä½†å®ƒå¯¹ä¸­å›½ç”¨æˆ·çš„å°ç¦ï¼Œç»™äº†å¼€æºç¤¾åŒºä¸€ä¸ªç»ä½³çš„æœºä¼šã€‚OpenCode æŠ“ä½äº†è¿™ä¸ªç—›ç‚¹ï¼Œç”¨æ›´å¼€æ”¾çš„æ–¹å¼èµ¢å¾—äº†ç”¨æˆ·çš„å¿ƒã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è™½ç„¶æ•ˆæœæœ‰å¾…æé«˜ï¼Œä½†æ¯•ç«Ÿ OpenCode å®Œå…¨å¼€æºå…è´¹ï¼Œå¯¹äºå–œæ¬¢æŠ˜è…¾çš„ç¨‹åºå‘˜æ¥è¯´ï¼Œå¯å®šåˆ¶æ€§æ›´å¼ºã€‚ä½ ç”šè‡³å¯ä»¥ fork ä¸€ä»½è‡ªå·±é­”æ”¹ï¼Œæƒ³æ€ä¹ˆç©å°±æ€ä¹ˆç©ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">OKï¼Œå°±èŠåˆ°è¿™é‡Œã€‚ä½ ç”¨è¿‡ OpenCode å—ï¼Ÿæ¬¢è¿è¯„è®ºåŒºèŠèŠä½ çš„ä½“éªŒ~</span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<h2 class=\"md-end-block md-heading\"><span class=\"md-plain\">æ›´å¤šç¼–ç¨‹å­¦ä¹ èµ„æº</span></h2>\n<ul class=\"ul-list\">\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/course\" rel=\"noopener nofollow\"><span class=\"md-plain\">Javaå‰ç«¯ç¨‹åºå‘˜å¿…åšé¡¹ç›®å®æˆ˜æ•™ç¨‹+æ¯•è®¾ç½‘ç«™</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/\" rel=\"noopener nofollow\"><span class=\"md-plain\">ç¨‹åºå‘˜å…è´¹ç¼–ç¨‹å­¦ä¹ äº¤æµç¤¾åŒºï¼ˆè‡ªå­¦å¿…å¤‡ï¼‰</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/course/cv\" rel=\"noopener nofollow\"><span class=\"md-plain\">ç¨‹åºå‘˜ä¿å§†çº§æ±‚èŒå†™ç®€å†æŒ‡å—ï¼ˆæ‰¾å·¥ä½œå¿…å¤‡ï¼‰</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.mianshiya.com/\" rel=\"noopener nofollow\"><span class=\"md-plain\">ç¨‹åºå‘˜å…è´¹é¢è¯•åˆ·é¢˜ç½‘ç«™å·¥å…·ï¼ˆæ‰¾å·¥ä½œå¿…å¤‡ï¼‰</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/post/1640584449888772098\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°Javaé›¶åŸºç¡€å…¥é—¨å­¦ä¹ è·¯çº¿ + Javaæ•™ç¨‹</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/post/1640586673306091521\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°Pythoné›¶åŸºç¡€å…¥é—¨å­¦ä¹ è·¯çº¿ + Pythonæ•™ç¨‹</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/post/1640586014108303362\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°å‰ç«¯é›¶åŸºç¡€å…¥é—¨å­¦ä¹ è·¯çº¿ + å‰ç«¯æ•™ç¨‹</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/post/1640586867363954689\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°æ•°æ®ç»“æ„å’Œç®—æ³•é›¶åŸºç¡€å…¥é—¨å­¦ä¹ è·¯çº¿ + ç®—æ³•æ•™ç¨‹</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/post/1644279832026075138\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°C++é›¶åŸºç¡€å…¥é—¨å­¦ä¹ è·¯çº¿ã€C++æ•™ç¨‹</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/post/1641797333479903234\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°æ•°æ®åº“é›¶åŸºç¡€å…¥é—¨å­¦ä¹ è·¯çº¿ + æ•°æ®åº“æ•™ç¨‹</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/post/1640589994284695553\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°Redisé›¶åŸºç¡€å…¥é—¨å­¦ä¹ è·¯çº¿ + Redisæ•™ç¨‹</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/post/1641035880439271426\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°è®¡ç®—æœºåŸºç¡€å…¥é—¨å­¦ä¹ è·¯çº¿ + è®¡ç®—æœºåŸºç¡€æ•™ç¨‹</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/post/1641366118197153793\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°å°ç¨‹åºå…¥é—¨å­¦ä¹ è·¯çº¿ + å°ç¨‹åºå¼€å‘æ•™ç¨‹</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"http://sqlmother.yupi.icu/\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°SQLé›¶åŸºç¡€å…¥é—¨å­¦ä¹ è·¯çº¿ + SQLæ•™ç¨‹</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/post/1640586295529324545\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°Linuxé›¶åŸºç¡€å…¥é—¨å­¦ä¹ è·¯çº¿ + Linuxæ•™ç¨‹</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/post/1640588753362108417\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°Git/GitHubé›¶åŸºç¡€å…¥é—¨å­¦ä¹ è·¯çº¿ + Gitæ•™ç¨‹</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/post/1640587909942099969\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°æ“ä½œç³»ç»Ÿé›¶åŸºç¡€å…¥é—¨å­¦ä¹ è·¯çº¿ + æ“ä½œç³»ç»Ÿæ•™ç¨‹</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/post/1640588119619551233\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°è®¡ç®—æœºç½‘ç»œé›¶åŸºç¡€å…¥é—¨å­¦ä¹ è·¯çº¿ + è®¡ç®—æœºç½‘ç»œæ•™ç¨‹</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/post/1640588392073150465\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°è®¾è®¡æ¨¡å¼é›¶åŸºç¡€å…¥é—¨å­¦ä¹ è·¯çº¿ + è®¾è®¡æ¨¡å¼æ•™ç¨‹</span></a></span></p>\n</li>\n<li class=\"md-list-item md-focus-container\">\n<p class=\"md-end-block md-p md-focus\"><span class=\"md-meta-i-c md-link md-expand\"><a href=\"https://www.code-nav.cn/post/1640648711119892481\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°è½¯ä»¶å·¥ç¨‹é›¶åŸºç¡€å…¥é—¨å­¦ä¹ è·¯çº¿ + è½¯ä»¶å·¥ç¨‹æ•™ç¨‹</span></a></span></p>\n</li>\n</ul>\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-09 11:30</span>&nbsp;\n<a href=\"https://www.cnblogs.com/yupi\">ç¨‹åºå‘˜é±¼çš®</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">883</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">1</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "çº¿ç¨‹æ± å’Œé«˜å¹¶å‘",
      "link": "https://www.cnblogs.com/philry/p/19359433",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/philry/p/19359433\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-09 09:14\">\n    <span>çº¿ç¨‹æ± å’Œé«˜å¹¶å‘</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body blogpost-body-html\" id=\"cnblogs_post_body\">\n<div>\n<div><strong><span style=\"font-size: 18px;\">å¤šçº¿ç¨‹</span></strong></div>\n<div><strong><span style=\"font-size: 16px;\">Javaåˆ›å»ºçº¿ç¨‹çš„å‡ ç§æ–¹å¼æœ‰å“ªäº›ï¼Ÿ</span></strong></div>\n<div>å¸¸è§æœ‰ä»¥ä¸‹äº”ç§æ–¹å¼åˆ›å»ºä½¿ç”¨å¤šçº¿ç¨‹ï¼š</div>\n<div><strong>1ï¼‰å®ç°&nbsp;Runnable&nbsp;æ¥å£ï¼š</strong></div>\n<ul>\n<li>\n<div>å®ç°&nbsp;Runnable&nbsp;æ¥å£çš„&nbsp;run()&nbsp;æ–¹æ³•ï¼Œä½¿ç”¨&nbsp;Thread&nbsp;ç±»çš„æ„é€ å‡½æ•°ä¼ å…¥&nbsp;Runnable&nbsp;å¯¹è±¡ï¼Œè°ƒç”¨&nbsp;start()&nbsp;æ–¹æ³•å¯åŠ¨çº¿ç¨‹ã€‚</div>\n</li>\n<li>\n<div>ä¾‹å­ï¼šThread thread = new Thread(new MyRunnable()); thread.start();</div>\n</li>\n</ul>\n<div><strong>2ï¼‰ç»§æ‰¿&nbsp;Thread&nbsp;ç±»ï¼š</strong></div>\n<ul>\n<li>\n<div>ç»§æ‰¿&nbsp;Thread&nbsp;ç±»å¹¶é‡å†™&nbsp;run()&nbsp;æ–¹æ³•ï¼Œç›´æ¥åˆ›å»º&nbsp;Thread&nbsp;å­ç±»å¯¹è±¡å¹¶è°ƒç”¨&nbsp;start()&nbsp;æ–¹æ³•å¯åŠ¨çº¿ç¨‹ã€‚</div>\n</li>\n<li>\n<div>ä¾‹å­ï¼šMyThread thread = new MyThread(); thread.start();</div>\n</li>\n</ul>\n<div><strong>3ï¼‰ä½¿ç”¨&nbsp;Callable&nbsp;å’Œ&nbsp;FutureTaskï¼š</strong></div>\n<ul>\n<li>\n<div>å®ç°&nbsp;Callable&nbsp;æ¥å£çš„&nbsp;call()&nbsp;æ–¹æ³•ï¼Œä½¿ç”¨&nbsp;FutureTask&nbsp;åŒ…è£…&nbsp;Callable&nbsp;å¯¹è±¡ï¼Œå†é€šè¿‡&nbsp;Thread&nbsp;å¯åŠ¨ã€‚</div>\n</li>\n<li>\n<div>ä¾‹å­ï¼šFutureTask&lt;Integer&gt; task = new FutureTask&lt;&gt;(new MyCallable()); Thread thread = new Thread(task); thread.start();</div>\n</li>\n</ul>\n<div><strong>4ï¼‰ä½¿ç”¨çº¿ç¨‹æ± ï¼ˆExecutorServiceï¼‰ï¼š</strong></div>\n<ul>\n<li>\n<div>é€šè¿‡&nbsp;ExecutorService&nbsp;æäº¤&nbsp;Runnable&nbsp;æˆ–&nbsp;Callable&nbsp;ä»»åŠ¡ï¼Œä¸ç›´æ¥åˆ›å»ºå’Œç®¡ç†çº¿ç¨‹ï¼Œé€‚åˆç®¡ç†å¤§é‡å¹¶å‘ä»»åŠ¡ã€‚</div>\n</li>\n<li>\n<div>ä¾‹å­ï¼šExecutorService executor = Executors.newFixedThreadPool(10); executor.submit(new MyRunnable());</div>\n</li>\n</ul>\n<div><strong>5ï¼‰CompletableFutureï¼ˆæœ¬è´¨ä¹Ÿæ˜¯çº¿ç¨‹æ± ï¼Œé»˜è®¤ forkjoinpoolï¼‰ï¼š</strong></div>\n<ul>\n<li>\n<div>Java 8 å¼•å…¥çš„åŠŸèƒ½ï¼Œéå¸¸æ–¹ä¾¿åœ°è¿›è¡Œå¼‚æ­¥ä»»åŠ¡è°ƒç”¨ï¼Œä¸”é€šè¿‡&nbsp;thenApplyã€thenAccept&nbsp;ç­‰æ–¹æ³•å¯ä»¥è½»æ¾å¤„ç†å¼‚æ­¥ä»»åŠ¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚</div>\n</li>\n<li>\n<div>CompletableFuture&lt;Void&gt; future1 = CompletableFuture.runAsync(() -&gt; {});</div>\n</li>\n</ul>\n<div>\n<div>&nbsp;</div>\n<div><strong><span style=\"font-size: 18px;\">çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸåŠäº”ç§çŠ¶æ€</span></strong></div>\n<div><img class=\"lazyload\" width=\"476\" /></div>\n<h3>&nbsp;</h3>\n<h3>1ã€New(åˆå§‹åŒ–çŠ¶æ€)</h3>\n<div>&nbsp;&nbsp; &nbsp;ç”¨newè¯­å¥åˆ›å»ºçš„çº¿ç¨‹å¤„äºæ–°å»ºçŠ¶æ€ï¼Œæ­¤æ—¶å®ƒå’Œå…¶ä»–Javaå¯¹è±¡ä¸€æ ·ï¼Œä»…ä»…åœ¨å †åŒºä¸­è¢«åˆ†é…äº†å†…å­˜ã€‚å¦‚ï¼šThread t = new MyThread();</div>\n<div>2ã€Runnable(å°±ç»ªçŠ¶æ€)</div>\n<div>&nbsp;&nbsp; &nbsp;å½“è°ƒç”¨çº¿ç¨‹å¯¹è±¡çš„start()æ–¹æ³•ï¼Œçº¿ç¨‹å³è¿›å…¥å°±ç»ªçŠ¶æ€ã€‚å¤„äºå°±ç»ªçŠ¶æ€çš„çº¿ç¨‹ï¼Œåªæ˜¯è¯´æ˜æ­¤çº¿ç¨‹å·²ç»åšå¥½äº†å‡†å¤‡ï¼ŒJavaè™šæ‹Ÿæœºä¼šä¸ºå®ƒåˆ›å»ºæ–¹æ³•è°ƒç”¨æ ˆå’Œç¨‹åºè®¡æ•°å™¨ã€‚å¤„äºè¿™ä¸ªçŠ¶æ€çš„çº¿ç¨‹ä½äºå¯è¿è¡Œæ± ä¸­ï¼Œç­‰å¾…è·å¾—CPUçš„ä½¿ç”¨æƒï¼Œå¹¶ä¸æ˜¯è¯´æ‰§è¡Œäº†start()æ­¤çº¿ç¨‹ç«‹å³å°±ä¼šæ‰§è¡Œã€‚</div>\n<h3>3ã€Running(è¿è¡ŒçŠ¶æ€)</h3>\n<div>&nbsp;&nbsp; &nbsp;å½“å°±ç»ªçŠ¶æ€ä¸­çš„çº¿ç¨‹è·å¾—äº†CUPæ‰§è¡Œèµ„æºï¼Œæ‰§è¡Œrun()ä¸­çš„ä»£ç ï¼Œè¿™æ ·çš„çº¿ç¨‹æˆ‘ä»¬ç§°ä¸ºè¿è¡ŒçŠ¶æ€çš„çº¿ç¨‹ã€‚</div>\n<div>4ã€Blocked(é˜»å¡çŠ¶æ€)</div>\n<div>&nbsp; &nbsp; å¤„äºè¿è¡Œä¸­çš„çº¿ç¨‹ï¼Œç”±äºæŸç§åŸå› æ”¾å¼ƒå¯¹cpuçš„ä½¿ç”¨æƒï¼Œå¤„äºé˜»å¡çŠ¶æ€ï¼Œç›´åˆ°å…¶è¿›å…¥å°±ç»ªçŠ¶æ€ï¼Œæ‰æœ‰æœºä¼šå†æ¬¡è¢«cpuè°ƒç”¨è¿›å…¥è¿è¡ŒçŠ¶æ€ã€‚</div>\n<div>æ ¹æ®é˜»å¡åŸå› ä¸åŒï¼Œé˜»å¡åˆ†ä¸ºä¸‰ç§ï¼š</div>\n<div>ç­‰å¾…é˜»å¡ï¼šè¿è¡ŒçŠ¶æ€ä¸­çš„çº¿ç¨‹æ‰§è¡Œwaitæ–¹æ³•ï¼Œè¿›å…¥ç­‰å¾…é˜Ÿåˆ—ï¼Œç­‰å¾…é˜»å¡ï¼›Javaè™šæ‹Ÿæœºå°±ä¼šæŠŠçº¿ç¨‹æ”¾åˆ°è¿™ä¸ªå¯¹è±¡çš„ç­‰å¾…æ± ä¸­ï¼›</div>\n<div>åŒæ­¥é˜»å¡ï¼šçº¿ç¨‹è·å–åŒæ­¥é”å¤±è´¥ï¼ˆå› ä¸ºé”è¢«å…¶ä»–çº¿ç¨‹å ç”¨ï¼‰ï¼ŒJavaè™šæ‹Ÿæœºå°±ä¼šæŠŠè¿™ä¸ªçº¿ç¨‹æ”¾åˆ°è¿™ä¸ªå¯¹è±¡çš„é”æ± ä¸­ï¼›</div>\n<div>å…¶ä»–é˜»å¡ï¼šé€šè¿‡è°ƒç”¨sleepæ–¹æ³•æˆ–è€…joinæ–¹æ³•æˆ–è€…å‘å‡ºI/Oè¯·æ±‚æ—¶ï¼Œçº¿ç¨‹ä¼šè¿›å…¥é˜»å¡çŠ¶æ€ï¼Œå½“sleep()çŠ¶æ€è¶…æ—¶ï¼Œæˆ–è€…join()ç­‰å¾…çº¿ç¨‹ç»ˆæ­¢æˆ–è€…è¶…æ—¶ï¼Œæˆ–è€…I/Oå¤„ç†å®Œæ¯•ï¼Œçº¿ç¨‹é‡æ–°è½¬å…¥å°±ç»ªçŠ¶æ€ï¼›</div>\n<h3>5ã€Terminatedï¼ˆç»ˆæ­¢çŠ¶æ€)</h3>\n<div>\n<div>\n<div>&nbsp;&nbsp; &nbsp;æ­£å¸¸ç»“æŸï¼Œçº¿ç¨‹æ‰§è¡Œå®Œ</div>\n<div>&nbsp;&nbsp; &nbsp;å¼‚å¸¸é€€å‡º</div>\n</div>\n</div>\n<div>\n<div>\n<div>&nbsp;&nbsp; &nbsp;å¼‚å¸¸é€€å‡ºï¼Œé™¤äº†ç¨‹åºæœ‰é—®é¢˜å¯¼è‡´çš„å¼‚å¸¸çš„é€€å‡ºï¼Œè¿˜å¯ä»¥ä½¿ç”¨å…±äº«å˜é‡çš„æ–¹å¼ï¼ˆå®šä¹‰ä¸ªbooleanæ ‡è¯†ç­‰ï¼‰é€€å‡ºï¼Œæˆ–è€…Interruptä¸­æ–­çº¿ç¨‹,æŠ›å‡ºå¼‚å¸¸ï¼Œæ•è·å¼‚å¸¸breakï¼Œè·³å‡ºå¾ªç¯çŠ¶æ€ï¼›</div>\n<div>&nbsp;&nbsp; &nbsp;è°ƒç”¨stop()ï¼Œä¼šé€ æˆæ­»é”ï¼Œçº¿ç¨‹ä¸å®‰å…¨ï¼Œä¸å»ºè®®ä½¿ç”¨</div>\n<div>&nbsp;</div>\n<div><strong><span style=\"font-size: 18px;\">çº¿ç¨‹åŸºæœ¬æ–¹æ³•</span></strong></div>\n<div>1ã€çº¿ç¨‹ç­‰å¾…ï¼ˆwaitï¼‰</div>\n<div>&nbsp; &nbsp;&nbsp;è°ƒç”¨è¯¥æ–¹æ³•ï¼Œçº¿ç¨‹è¿›å…¥waitingçŠ¶æ€ï¼Œåªæœ‰ç­‰å¾…å¦å¤–çš„çº¿ç¨‹é€šçŸ¥æˆ–è¢«ä¸­æ–­æ‰ä¼šè¿”å›ï¼Œè°ƒç”¨wait()åï¼Œä¼šé‡Šæ”¾å¯¹è±¡é”ï¼Œå› ä¸ºwaitæ–¹æ³•ä¸€èˆ¬ç”¨åœ¨åŒæ­¥æ–¹æ³•æˆ–è€…åŒæ­¥ä»£ç å—ä¸­ã€‚</div>\n<div>2ã€çº¿ç¨‹ç¡çœ ï¼ˆsleepï¼‰</div>\n<div>å¼ºè¿«ä¸€çº¿ç¨‹ç¡ Næ¯«ç§’ï¼Œsleepä¸ä¼šé‡Šæ”¾å½“å‰é”ï¼Œå¯¼è‡´çº¿ç¨‹è¿›å…¥Timed-watingçŠ¶æ€ã€‚</div>\n<div>3ã€çº¿ç¨‹è®©æ­¥ï¼ˆyieldï¼‰</div>\n<div>&nbsp; &nbsp; yeildä¼šä½¿å½“å‰çº¿ç¨‹è®©å‡ºcpuæ‰§è¡Œæ—¶é—´ç‰‡ï¼Œä¸å…¶ä»–çº¿ç¨‹ä¸€èµ·é‡æ–°ç«äº‰cpuæ—¶é—´ç‰‡ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¼˜å…ˆçº§é«˜çš„å…ˆå¾—åˆ°ï¼Œä½†ä¹Ÿä¸ä¸€å®šï¼Œæœ‰çš„ç³»ç»Ÿå¯¹ä¼˜å…ˆçº§ä¸æ•æ„Ÿã€‚</div>\n<div>4ã€çº¿ç¨‹ä¸­æ–­ï¼ˆinterruptï¼‰</div>\n<div>&nbsp; &nbsp; åœ¨runå†…éƒ¨æ ¹æ®thread.isIterrupted() å®‰å…¨ç»ˆæ­¢çº¿ç¨‹ã€‚è°ƒç”¨ä¸€ä¸ªçº¿ç¨‹çš„interrupt() æ–¹æ³•ä¸­æ–­ä¸€ä¸ªçº¿ç¨‹ï¼Œå¹¶ä¸æ˜¯å¼ºè¡Œå…³é—­è¿™ä¸ªçº¿ç¨‹ï¼Œä»…ä»…æ˜¯æ”¹å˜äº†å†…éƒ¨ç»´æŠ¤çš„ä¸­æ–­æ ‡è¯†ä½ï¼Œæ˜¯çº¿ç¨‹å›ºæœ‰çš„ä¸€ä¸ªæ ‡è¯†ä½ã€‚å¯ä»¥è°ƒç”¨staticæ–¹æ³•isIterrupted() åˆ¤å®šå½“å‰çº¿ç¨‹æ˜¯å¦å¤„äºä¸­æ–­çŠ¶æ€ï¼š</div>\n<div>&nbsp; &nbsp; 1ï¼‰å¦‚æœä¸€ä¸ªæ­£å¸¸çº¿ç¨‹ï¼Œè°ƒç”¨interrupt() ï¼Œæ˜¯ä¸èƒ½è¢«æ‰“æ–­çš„ï¼Œæ‰“å°ä¸­æ–­æ ‡å¿—ä½ç½®ä¸ºtrue</div>\n<div>&nbsp; &nbsp; 2ï¼‰å¦‚æœä¸€ä¸ªsleepæˆ–è€…waitçš„çº¿ç¨‹ï¼Œè°ƒç”¨interrupt() ï¼Œæ–¹æ³•åˆ™æŠ›å‡ºInterruptedException( InterruptedExceptionè¡¨ç¤ºä¸€ä¸ªé˜»å¡è¢«ä¸­æ–­äº†)ï¼Œçº¿ç¨‹çš„ä¸­æ–­æ ‡å¿—ä½ä¼šè¢«å¤ä½æˆfalseï¼›ç›¸å½“äºç”¨å¼‚å¸¸å“åº”äº†è¿™ä¸ªä¸­æ–­ï¼Œæ‰€ä»¥é‡Šæ”¾ä¸­æ–­æ ‡å¿—ä½ã€‚</div>\n<div>5ã€joinï¼ˆç­‰å¾…å…¶ä»–çº¿ç¨‹ç»ˆæ­¢ï¼‰</div>\n<div>&nbsp; &nbsp; å½“å‰çº¿ç¨‹è°ƒç”¨joinï¼ˆï¼‰ï¼Œåˆ™çº¿ç¨‹è½¬ä¸ºé˜»å¡çŠ¶æ€ï¼Œegï¼šAçº¿ç¨‹ä¸­æ’å…¥äº†B.join()ï¼Œåˆ™Bå…ˆæ‰§è¡Œï¼Œæ‰§è¡Œå®Œï¼ŒAçº¿ç¨‹ç»§ç»­æ‰§è¡Œï¼›å¸¸è§çš„æ˜¯ä¸»çº¿ç¨‹ç”Ÿæˆå¹¶å¯åŠ¨äº†å­çº¿ç¨‹ï¼Œéœ€è¦ç”¨åˆ°å­çº¿ç¨‹è¿”å›ç»“æœçš„åœºæ™¯ï¼›</div>\n<div>6ã€çº¿ç¨‹å”¤é†’ï¼ˆnotifyï¼‰</div>\n<div>&nbsp; &nbsp; Objectç±»ä¸­çš„notifyå”¤é†’åœ¨æ­¤å¯¹è±¡ç›‘è§†å™¨ä¸Šç­‰å¾…çš„å•ä¸ªçº¿ç¨‹ï¼›</div>\n<div>&nbsp; &nbsp; notifyAllå”¤é†’åœ¨æ­¤å¯¹è±¡ç›‘è§†å™¨ä¸Šç­‰å¾…çš„æ‰€æœ‰çº¿ç¨‹ï¼›</div>\n<div>7ã€å…¶ä»–å¸¸ç”¨æ–¹æ³•</div>\n</div>\n<table><colgroup><col /><col /></colgroup>\n<tbody>\n<tr>\n<td>\n<div>æ–¹æ³•åŠŸèƒ½</div>\n</td>\n<td>\n<div>æ–¹æ³•å</div>\n</td>\n</tr>\n<tr>\n<td>\n<div>&nbsp;åˆ¤æ–­ä¸€ä¸ªçº¿ç¨‹æ˜¯å¦å­˜æ´»ï¼›</div>\n</td>\n<td>\n<div>isAlive()&nbsp;&nbsp;</div>\n</td>\n</tr>\n<tr>\n<td>\n<div>ç¨‹åºä¸­æ´»è·ƒçš„çº¿ç¨‹æ•°ï¼›</div>\n</td>\n<td>\n<div>activeCount()&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;</div>\n</td>\n</tr>\n<tr>\n<td>\n<div>å¾—åˆ°å½“å‰çº¿ç¨‹ï¼›</div>\n</td>\n<td>\n<div>currentThread()&nbsp;&nbsp; &nbsp;</div>\n</td>\n</tr>\n<tr>\n<td>\n<div>è®¾ç½®ä¸€ä¸ªçº¿ç¨‹çš„ä¼˜å…ˆçº§ï¼›</div>\n</td>\n<td>\n<div>setPriority()&nbsp; &nbsp;</div>\n</td>\n</tr>\n<tr>\n<td>\n<div>è·å–ä¸€ä¸ªçº¿ç¨‹çš„ä¼˜å…ˆçº§ï¼›</div>\n</td>\n<td>\n<div>getPriority()&nbsp;&nbsp; &nbsp;&nbsp;</div>\n</td>\n</tr>\n<tr>\n<td>\n<div>çº¿ç¨‹æ˜¯å¦ä¸ºå®ˆæŠ¤çº¿ç¨‹ï¼›</div>\n</td>\n<td>\n<div>isDaemon()&nbsp;&nbsp; &nbsp;&nbsp;</div>\n</td>\n</tr>\n</tbody>\n</table>\n<div>&nbsp;</div>\n</div>\n</div>\n<div>&nbsp;</div>\n<div>&nbsp;</div>\n<div><strong><span style=\"font-size: 18px;\">çº¿ç¨‹æ± </span></strong></div>\n<div>çº¿ç¨‹æ± çš„åŸºæœ¬æ¦‚å¿µæ˜¯ï¼Œåœ¨åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶åˆ›å»ºä¸€å®šæ•°é‡çš„çº¿ç¨‹ï¼Œå¹¶å°†å®ƒä»¬ä¿å­˜åœ¨çº¿ç¨‹æ± ä¸­ã€‚å½“éœ€è¦æ‰§è¡Œä»»åŠ¡æ—¶ï¼Œä»çº¿ç¨‹æ± ä¸­è·å–ä¸€ä¸ªç©ºé—²çš„çº¿ç¨‹ï¼Œå°†ä»»åŠ¡åˆ†é…ç»™è¯¥çº¿ç¨‹æ‰§è¡Œã€‚å½“ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åï¼Œçº¿ç¨‹å°†è¿”å›åˆ°çº¿ç¨‹æ± ï¼Œå¯ä»¥è¢«å…¶ä»–ä»»åŠ¡å¤ç”¨ã€‚</div>\n<div>çº¿ç¨‹æ± åˆ›å»ºæœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯Executorsä½¿ç”¨é»˜è®¤æ–¹æ³•åˆ›å»ºï¼Œå¦ä¸€ç§æ˜¯é€šè¿‡ThreadPoolExecutorè‡ªå®šä¹‰ï¼Œä¸æ¨èå‰è€…æ˜¯å› ä¸ºå‰è€…çš„é…ç½®å¾ˆå¤šéƒ½æ˜¯å–å¾—integerå¾—æœ€å¤§å€¼ï¼Œå¾ˆå®¹æ˜“é€ æˆOOMã€‚</div>\n<div>å·¥ä½œä¸­å°±æ˜¯éœ€è¦ä»¥new ThreadPoolExecutorçš„æ–¹å¼åˆ›å»ºçº¿ç¨‹æ± çš„ï¼Œå…¶ä½™çš„ä¸å®‰å…¨ã€‚&nbsp; &nbsp;&nbsp;</div>\n<div>\n<div><img class=\"lazyload\" width=\"692\" /></div>\n</div>\n<div>ä½¿ç”¨çº¿ç¨‹æ± çš„ä¸€èˆ¬æ­¥éª¤å¦‚ä¸‹ï¼š&nbsp;</div>\n<div>\n<div>1ã€åˆ›å»ºçº¿ç¨‹æ± ï¼šä½¿ç”¨ThreadPoolExecutorç±»æ¥åˆ›å»ºçº¿ç¨‹æ± ã€‚</div>\n<div>&nbsp;&nbsp; &nbsp;ExecutorService executor = Executors.newFixedThreadPool(5); // åˆ›å»ºå›ºå®šå¤§å°çš„çº¿ç¨‹æ± &nbsp;</div>\n</div>\n<div>\n<div>2ã€æäº¤ä»»åŠ¡ï¼šå°†ä»»åŠ¡æäº¤ç»™çº¿ç¨‹æ± ã€‚</div>\n<div>&nbsp;&nbsp; &nbsp;executor.execute(new MyRunnable()); // æäº¤Runnableä»»åŠ¡</div>\n<div>&nbsp;&nbsp; &nbsp;Future&lt;String&gt; future = executor.submit(new MyCallable()); // æäº¤Callableä»»åŠ¡ï¼Œå¹¶è¿”å›Futureå¯¹è±¡</div>\n</div>\n<div>\n<div>3ã€å…³é—­çº¿ç¨‹æ± ï¼šåœ¨ä¸å†éœ€è¦çº¿ç¨‹æ± æ—¶ï¼Œéœ€è¦è°ƒç”¨shutdown()æ–¹æ³•æ¥å…³é—­çº¿ç¨‹æ± ã€‚è¿™å°†åœæ­¢æ¥å—æ–°ä»»åŠ¡ï¼Œå¹¶é€æ¸å…³é—­çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹ã€‚</div>\n<div>&nbsp;&nbsp; &nbsp;executor.shutdown();</div>\n</div>\n<div>\n<div>&nbsp;&nbsp; &nbsp;<strong><span style=\"font-size: 16px;\">çº¿ç¨‹æ± æ ¸å¿ƒæ¦‚å¿µï¼š</span></strong></div>\n</div>\n<div>ã€€&nbsp;&nbsp;int &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;corePoolSizeã€€ã€€ã€€&nbsp;&nbsp; æ ¸å¿ƒçº¿ç¨‹æ•°</div>\n<div>ã€€ã€€int &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;maximumPoolSizeã€€æœ€å¤§çº¿ç¨‹æ•°</div>\n<div>ã€€ã€€long&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;keepAliveTimeã€€ã€€&nbsp; &nbsp;ç©ºé—²çº¿ç¨‹æœ€å¤§å­˜æ´»æ—¶é—´</div>\n<div>ã€€ã€€TimeUnit &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; unitã€€ã€€ã€€ã€€ã€€ã€€&nbsp; &nbsp; &nbsp; &nbsp;æ—¶é—´å•ä½ï¼Œmï¼Œhï¼Œd</div>\n<div>ã€€ã€€BlockingQueue&lt;Runnable&gt; workQueueã€€ã€€&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;é˜»å¡ä»»åŠ¡é˜Ÿåˆ—</div>\n<div>ã€€ã€€ThreadFactory &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; threadFactoryã€€ã€€&nbsp; &nbsp; åˆ›å»ºçº¿ç¨‹å·¥å‚</div>\n<div>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; RejectedExecutionHandler &nbsp;&nbsp; handlerã€€ã€€&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;æ‹’ç»ç­–ç•¥</div>\n<h3>ThreadPoolExecutorå‚æ•°è¯¦è§£</h3>\n<div>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢çš„åœºæ™¯ç†è§£ThreadPoolExecutorä¸­çš„å„ä¸ªå‚æ•°;</div>\n<div>aå®¢æˆ·(ä»»åŠ¡)å»é“¶è¡Œ(çº¿ç¨‹æ± )åŠç†ä¸šåŠ¡,ä½†é“¶è¡Œåˆšå¼€å§‹è¥ä¸š,çª—å£æœåŠ¡å‘˜è¿˜æœªå°±ä½(ç›¸å½“äºçº¿ç¨‹æ± ä¸­åˆå§‹çº¿ç¨‹æ•°é‡ä¸º0),</div>\n<div>äºæ˜¯ç»ç†(çº¿ç¨‹æ± ç®¡ç†è€…)å°±å®‰æ’1å·å·¥ä½œäººå‘˜(åˆ›å»º1å·çº¿ç¨‹æ‰§è¡Œä»»åŠ¡)æ¥å¾…aå®¢æˆ·(åˆ›å»ºçº¿ç¨‹);</div>\n<div>åœ¨aå®¢æˆ·ä¸šåŠ¡è¿˜æ²¡åŠå®Œæ—¶,bå®¢æˆ·(ä»»åŠ¡)åˆæ¥äº†,äºæ˜¯ç»ç†(çº¿ç¨‹æ± ç®¡ç†è€…)å°±å®‰æ’2å·å·¥ä½œäººå‘˜(åˆ›å»º2å·çº¿ç¨‹æ‰§è¡Œä»»åŠ¡)æ¥å¾…bå®¢æˆ·(åˆåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„çº¿ç¨‹);å‡è®¾è¯¥é“¶è¡Œæ€»å…±å°±2ä¸ªçª—å£(æ ¸å¿ƒçº¿ç¨‹æ•°é‡æ˜¯2);</div>\n<div>ç´§æ¥ç€åœ¨a,bå®¢æˆ·éƒ½æ²¡æœ‰ç»“æŸçš„æƒ…å†µä¸‹cå®¢æˆ·æ¥äº†,äºæ˜¯ç»ç†(çº¿ç¨‹æ± ç®¡ç†è€…)å°±å®‰æ’cå®¢æˆ·å…ˆååˆ°é“¶è¡Œå¤§å…çš„åº§ä½ä¸Š(ç©ºä½ç›¸å½“äºæ˜¯ä»»åŠ¡é˜Ÿåˆ—)ç­‰å€™,</div>\n<div>å¹¶å‘ŠçŸ¥ä»–: å¦‚æœ1ã€2å·å·¥ä½œäººå‘˜ç©ºå‡º,cå°±å¯ä»¥å‰å»åŠç†ä¸šåŠ¡;</div>\n<div>æ­¤æ—¶då®¢æˆ·åˆåˆ°äº†é“¶è¡Œ,(å·¥ä½œäººå‘˜éƒ½åœ¨å¿™,å¤§å…åº§ä½ä¹Ÿæ»¡äº†)äºæ˜¯ç»ç†èµ¶ç´§å®‰æ’ä¸´æ—¶å·¥(æ–°åˆ›å»ºçš„çº¿ç¨‹)åœ¨å¤§å ‚ç«™ç€,æ‰‹æŒpadè®¾å¤‡ç»™då®¢æˆ·åŠç†ä¸šåŠ¡;</div>\n<div>å‡å¦‚å‰é¢çš„ä¸šåŠ¡éƒ½æ²¡æœ‰ç»“æŸçš„æ—¶å€™eå®¢æˆ·åˆæ¥äº†,æ­¤æ—¶æ­£å¼å·¥ä½œäººå‘˜éƒ½ä¸Šäº†,ä¸´æ—¶å·¥ä¹Ÿä¸Šäº†,åº§ä½ä¹Ÿæ»¡äº†(ä¸´æ—¶å·¥åŠ æ­£å¼å‘˜å·¥çš„æ€»æ•°é‡å°±æ˜¯æœ€å¤§çº¿ç¨‹æ•°),äºæ˜¯ç»ç†åªèƒ½æŒ‰ã€Šè¶…å‡ºé“¶è¡Œæœ€å¤§æ¥å¾…èƒ½åŠ›å¤„ç†åŠæ³•ã€‹(é¥±å’Œå¤„ç†æœºåˆ¶)æ‹’æ¥æ¥å¾…eå®¢æˆ·;</div>\n<div>æœ€å,è¿›æ¥åŠä¸šåŠ¡çš„äººå°‘äº†,å¤§å…çš„ä¸´æ—¶å·¥ç©ºé—²æ—¶é—´ä¹Ÿè¶…è¿‡äº†1ä¸ªå°æ—¶(æœ€å¤§ç©ºé—²æ—¶é—´),ç»ç†å°±ä¼šè®©è¿™éƒ¨åˆ†ç©ºé—²çš„å‘˜å·¥äººä¸‹ç­.(é”€æ¯çº¿ç¨‹)</div>\n<div>ä½†æ˜¯ä¸ºäº†ä¿è¯é“¶è¡Œé“¶è¡Œæ­£å¸¸å·¥ä½œ(æœ‰ä¸€ä¸ªallowCoreThreadTimeoutå˜é‡æ§åˆ¶æ˜¯å¦å…è®¸é”€æ¯æ ¸å¿ƒçº¿ç¨‹,é»˜è®¤false),å³ä½¿æ­£å¼å·¥é—²ç€,ä¹Ÿä¸å¾—æå‰ä¸‹ç­,æ‰€ä»¥1ã€2å·å·¥ä½œäººå‘˜ç»§ç»­å¾…ç€(æ± å†…ä¿æŒæ ¸å¿ƒçº¿ç¨‹æ•°é‡);</div>\n<div>2ã€è¯¦ç»†è§£é‡Š</div>\n<div>ã€€ã€€1)ã€&nbsp;æ ¸å¿ƒçº¿ç¨‹æ•°</div>\n<div>ã€€ã€€ã€€ã€€å½“çº¿ç¨‹æ˜¯IOå¯†é›†å‹æ—¶ï¼Œä¸»è¦æ¶ˆè€—ç£ç›˜çš„è¯»å†™æ€§èƒ½ï¼Œå¯ä»¥è®¾ç½®ä¸º2*nï¼Œnä¸ºå½“å‰æœåŠ¡å™¨æ ¸æ•°ï¼ˆæ¯”å¦‚8æ ¸16Gçš„æœåŠ¡å™¨è®¾ç½®ä¸º16ï¼ŒRuntime.getRuntime().availableProcessors()è·å–ï¼‰</div>\n<div>ã€€ã€€ã€€ã€€å½“çº¿ç¨‹æ˜¯CPUå¯†é›†å‹æ—¶ï¼Œä¸»è¦æ¶ˆè€—cpuæ€§èƒ½ï¼Œè®¾ç½®ä¸ºn+1</div>\n<div>ã€€ã€€2)ã€æœ€å¤§çº¿ç¨‹æ•°</div>\n<div>ã€€ã€€ã€€ã€€å½“æ ¸å¿ƒçº¿ç¨‹æ ¸æ¶ˆæ¯é˜Ÿåˆ—éƒ½æ»¡äº†ä¹‹åæ‰ä¼šå»åˆ›å»ºæœ€å¤§çº¿ç¨‹ï¼Œç›´åˆ°è¾¾åˆ°æœ€å¤§çº¿ç¨‹æ•°ï¼Œä¹‹åçš„çº¿ç¨‹å°±ä¼šæ‰§è¡Œæ‹’ç»ç­–ç•¥</div>\n<div>ã€€ã€€3)ã€&nbsp;é˜»å¡æ¶ˆæ¯é˜Ÿåˆ—</div>\n<div>ã€€ã€€ã€€ã€€ArrayBlockingQueueï¼šåŸºäºæ•°ç»„çš„å…ˆè¿›å…ˆå‡ºé˜Ÿåˆ—ï¼Œæ­¤é˜Ÿåˆ—åˆ›å»ºæ—¶å¿…é¡»æŒ‡å®šå¤§å°ï¼Œè¯»å†™ç”¨ä¸€æŠŠé”ï¼Œæ€§èƒ½è¾ƒå·®ï¼›</div>\n<div>ã€€ã€€ã€€ã€€LinkedBlockingQueueï¼šåŸºäºé“¾è¡¨çš„å…ˆè¿›å…ˆå‡ºé˜Ÿåˆ—ï¼Œå¦‚æœåˆ›å»ºæ—¶æ²¡æœ‰æŒ‡å®šæ­¤é˜Ÿåˆ—å¤§å°ï¼Œåˆ™é»˜è®¤ä¸ºInteger.MAX_VALUEï¼›ä¸€èˆ¬æ˜¯ç”¨è¿™ä¸ªï¼ŒæŒ‡å®šäº†å¤§å°åˆ™é™åˆ¶å…·ä½“å¤§å°ï¼Œå†™æ ¸è¯»åˆ†ä¸¤æŠŠé”è¿›è¡Œæ“ä½œï¼Œæ‰€ä»¥æ€§èƒ½è¾ƒå¥½</div>\n<div>ã€€ã€€ã€€ã€€synchronousQueueï¼šè¿™ä¸ªé˜Ÿåˆ—æ¯”è¾ƒç‰¹æ®Šï¼Œå®ƒä¸ä¼šä¿å­˜æäº¤çš„ä»»åŠ¡ï¼Œè€Œæ˜¯å°†ç›´æ¥æ–°å»ºä¸€ä¸ªçº¿ç¨‹æ¥æ‰§è¡Œæ–°æ¥çš„ä»»åŠ¡ã€‚</div>\n<div>ã€€ã€€ã€€ã€€æ³¨æ„ï¼šå½“æ ¸å¿ƒçº¿ç¨‹æ•°æ»¡äº†ä¹‹åï¼Œæ–°çº¿ç¨‹ä¼šå…ˆå­˜å‚¨åœ¨æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œå½“æ¶ˆæ¯é˜Ÿåˆ—ä¹Ÿæ»¡äº†ä¹‹åæ‰ä¼šå»åˆ›å»ºæœ€å¤§çº¿ç¨‹ï¼Œç›´åˆ°è¾¾åˆ°æœ€å¤§çº¿ç¨‹æ•°ï¼Œä¹‹åçš„çº¿ç¨‹å°±ä¼šæ‰§è¡Œæ‹’ç»ç­–ç•¥</div>\n<div>ã€€ã€€4)ã€&nbsp;çº¿ç¨‹å·¥å‚</div>\n<div>ã€€ã€€ã€€ã€€åˆ›å»ºçº¿ç¨‹çš„ç±»ï¼Œå¯ä»¥ç”¨é»˜è®¤å·¥å‚ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰çº¿ç¨‹å·¥å‚å®ç°&nbsp;implements ThreadFactoryç±»ï¼Œå®ç°newThreadæ–¹æ³•ï¼Œè‡ªå®šä¹‰å·¥å‚çš„è¯å¯ä»¥è®¾ç½®çº¿ç¨‹åæˆ–è€…å®šä¹‰è¾…åŠ©çº¿ç¨‹</div>\n<div>ã€€ã€€5)ã€æ‹’ç»ç­–ç•¥</div>\n<div>ã€€ã€€ã€€ã€€ThreadPoolExecutor.AbortPolicy:ä¸¢å¼ƒä»»åŠ¡å¹¶æŠ›å‡ºRejectedExecutionExceptionå¼‚å¸¸ã€‚</div>\n<div>ã€€ã€€ã€€ã€€ThreadPoolExecutor.DiscardPolicyï¼šä¸¢å¼ƒä»»åŠ¡ï¼Œä½†æ˜¯ä¸æŠ›å‡ºå¼‚å¸¸ã€‚</div>\n<div>ã€€ã€€ã€€ã€€ThreadPoolExecutor.DiscardOldestPolicyï¼šä¸¢å¼ƒé˜Ÿåˆ—æœ€å‰é¢çš„ä»»åŠ¡ï¼Œç„¶åé‡æ–°æäº¤è¢«æ‹’ç»çš„ä»»åŠ¡</div>\n<div>ã€€ã€€ã€€ã€€ThreadPoolExecutor.CallerRunsPolicyï¼šç”±è°ƒç”¨çº¿ç¨‹ï¼ˆæäº¤ä»»åŠ¡çš„çº¿ç¨‹ï¼‰å¤„ç†è¯¥ä»»åŠ¡</div>\n<div>&nbsp;</div>\n<div><strong>çº¿ç¨‹æ± çš„ä¸»è¦ä¼˜ç‚¹åŒ…æ‹¬ï¼š</strong></div>\n<div>1ã€é‡ç”¨çº¿ç¨‹ï¼šçº¿ç¨‹æ± ä¼šåœ¨å†…éƒ¨ç»´æŠ¤ä¸€ç»„å¯é‡ç”¨çš„çº¿ç¨‹ï¼Œé¿å…äº†é¢‘ç¹åœ°åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹çš„å¼€é”€ï¼Œæé«˜äº†çº¿ç¨‹çš„åˆ©ç”¨ç‡ã€‚</div>\n<div>2ã€æ§åˆ¶å¹¶å‘åº¦ï¼šçº¿ç¨‹æ± å¯ä»¥é™åˆ¶å¹¶å‘æ‰§è¡Œçš„çº¿ç¨‹æ•°é‡ï¼Œé˜²æ­¢ç³»ç»Ÿè¿‡è½½ã€‚é€šè¿‡è°ƒæ•´çº¿ç¨‹æ± çš„å¤§å°ï¼Œå¯ä»¥æ§åˆ¶å¹¶å‘åº¦ï¼Œé¿å…èµ„æºæ¶ˆè€—è¿‡å¤§ã€‚</div>\n<div>3ã€æä¾›çº¿ç¨‹ç®¡ç†å’Œç›‘æ§ï¼šçº¿ç¨‹æ± æä¾›äº†ä¸€äº›ç®¡ç†å’Œç›‘æ§æœºåˆ¶ï¼Œä¾‹å¦‚çº¿ç¨‹æ± çš„åˆ›å»ºã€é”€æ¯ã€çº¿ç¨‹çŠ¶æ€çš„ç›‘æ§ç­‰ï¼Œæ–¹ä¾¿å¼€å‘äººå‘˜è¿›è¡Œçº¿ç¨‹çš„ç®¡ç†å’Œè°ƒè¯•ã€‚</div>\n<div>4ã€æä¾›ä»»åŠ¡é˜Ÿåˆ—ï¼šçº¿ç¨‹æ± é€šå¸¸ä¼šä½¿ç”¨ä»»åŠ¡é˜Ÿåˆ—æ¥å­˜å‚¨å¾…æ‰§è¡Œçš„ä»»åŠ¡ï¼Œè¿™æ ·å¯ä»¥å®ç°ä»»åŠ¡çš„ç¼“å†²å’Œè°ƒåº¦ã€‚</div>\n<div>&nbsp;</div>\n<div><strong>çº¿ç¨‹æ± çš„ä¸€äº›ç¼ºç‚¹åŒ…æ‹¬ï¼š</strong></div>\n<div>1ã€éœ€è¦åˆç†é…ç½®ï¼šçº¿ç¨‹æ± çš„æ€§èƒ½å’Œæ•ˆæœå—åˆ°é…ç½®å‚æ•°çš„å½±å“ï¼Œéœ€è¦æ ¹æ®å…·ä½“çš„åº”ç”¨åœºæ™¯å’Œç¡¬ä»¶ç¯å¢ƒæ¥åˆç†é…ç½®çº¿ç¨‹æ± çš„å¤§å°ã€ä»»åŠ¡é˜Ÿåˆ—çš„å¤§å°ç­‰å‚æ•°ã€‚</div>\n<div>2ã€å¯èƒ½å¼•å‘èµ„æºæ³„éœ²ï¼šå¦‚æœçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹é•¿æ—¶é—´é—²ç½®è€Œä¸è¢«ä½¿ç”¨ï¼Œå¯èƒ½ä¼šå¯¼è‡´èµ„æºçš„æµªè´¹å’Œæ³„éœ²ã€‚</div>\n<div>3ã€å¯èƒ½å¼•å‘æ­»é”ï¼šåœ¨ä½¿ç”¨çº¿ç¨‹æ± æ—¶ï¼Œå¦‚æœä»»åŠ¡ä¹‹é—´å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œå¯èƒ½ä¼šå¼•å‘æ­»é”é—®é¢˜ï¼Œéœ€è¦é¢å¤–çš„æ³¨æ„å’Œå¤„ç†ã€‚</div>\n<div>&nbsp;</div>\n<div>\n<div>\n<div>\n<div><strong><span style=\"font-size: 16px;\">é‡ç‚¹é¢è¯•é—®é¢˜</span></strong></div>\n<div>1ã€sleepå’Œwaitçš„åŒºåˆ«ï¼š</div>\n<div>&nbsp; &nbsp; 1)ã€sleepå±äºThreadç±»ï¼Œè®©å‡ºcpuï¼Œä½†æ˜¯ç›‘æ§çŠ¶æ€ä¾ç„¶ä¿æŒè€…ï¼ŒæŒ‡å®šæ—¶é—´åˆ°äº†ï¼Œå°±ä¼šæ¢å¤è¿è¡Œï¼›</div>\n<div>&nbsp; &nbsp; 2)ã€waitå±äºObjectç±»æ–¹æ³•ï¼Œé‡Šæ”¾å¯¹è±¡é”ï¼Œè¿›å…¥ç­‰å¾…é”å®šæ± ï¼Œéœ€è¦notify()æ‰èƒ½é‡æ–°è¿›å…¥è¿è¡ŒçŠ¶æ€ï¼›</div>\n<div>2ã€wait()ã€notify() é‡Šæ”¾é”é—®é¢˜ï¼š</div>\n<div>&nbsp; &nbsp; 1)ã€wait()ä¼šç«‹åˆ»é‡Šæ”¾synchronized(obj)ä¸­çš„objé”,ä»¥ä¾¿å…¶ä»–çº¿ç¨‹å¯ä»¥æ‰§è¡Œobj.notify()</div>\n<div>&nbsp; &nbsp; <span>2)ã€</span>ä½†æ˜¯notify()ä¸ä¼šç«‹åˆ»ç«‹åˆ»é‡Šæ”¾sycronized(obj)ä¸­çš„objé”,å¿…é¡»è¦ç­‰notify()æ‰€åœ¨çº¿ç¨‹æ‰§è¡Œå®Œsynchronized(obj)å—ä¸­çš„æ‰€æœ‰ä»£ç æ‰ä¼šé‡Šæ”¾è¿™æŠŠé”.yield(),sleep()ä¸ä¼šé‡Šæ”¾é”ã€‚</div>\n<div>&nbsp;</div>\n<div><span style=\"font-size: 15px;\"><strong>å¼‚æ­¥çº¿ç¨‹é—´æ•°æ®åŒæ­¥ä¼ é€’çš„å››ç§æ–¹å¼</strong></span></div>\n<div>æ‰‹åŠ¨è®¾ç½®ã€çº¿ç¨‹æ± è®¾ç½®TaskDecoratorã€ä½¿ç”¨InheritableThreadLocalã€ä½¿ç”¨TransmittableThreadLocal</div>\n<div>ä¸»çº¿ç¨‹</div>\n</div>\n</div>\n<div>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> @description ç”¨æˆ·ä¸Šä¸‹æ–‡ä¿¡æ¯</span>\n<span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">class</span><span style=\"color: rgba(0, 0, 0, 1);\"> OauthContext {\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">private</span> <span style=\"color: rgba(0, 0, 255, 1);\">static</span>  <span style=\"color: rgba(0, 0, 255, 1);\">final</span>  ThreadLocal&lt;LoginVal&gt; loginValThreadLocal=<span style=\"color: rgba(0, 0, 255, 1);\">new</span> ThreadLocal&lt;&gt;<span style=\"color: rgba(0, 0, 0, 1);\">();\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">static</span><span style=\"color: rgba(0, 0, 0, 1);\">  LoginVal get(){\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">return</span><span style=\"color: rgba(0, 0, 0, 1);\"> loginValThreadLocal.get();\n    }\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">static</span> <span style=\"color: rgba(0, 0, 255, 1);\">void</span><span style=\"color: rgba(0, 0, 0, 1);\"> set(LoginVal loginVal){\n        loginValThreadLocal.set(loginVal);\n    }\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">static</span> <span style=\"color: rgba(0, 0, 255, 1);\">void</span><span style=\"color: rgba(0, 0, 0, 1);\"> clear(){\n        loginValThreadLocal.remove();\n    }\n}</span></pre>\n</div>\n<p>&nbsp;</p>\n</div>\n<div>1ã€æ‰‹åŠ¨è®¾ç½®</div>\n<div>æ¯æ‰§è¡Œä¸€æ¬¡å¼‚æ­¥çº¿ç¨‹éƒ½è¦åˆ†ä¸ºä¸¤æ­¥ï¼š</div>\n<div>&nbsp; &nbsp; 1)ã€è·å–çˆ¶çº¿ç¨‹çš„å€¼</div>\n<div>&nbsp; &nbsp; 2)ã€å°†å€¼è®¾ç½®åˆ°å­çº¿ç¨‹ï¼Œè¾¾åˆ°å¤ç”¨ï¼Œ ä»£ç å¦‚ä¸‹ï¼š</div>\n<div>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">void</span><span style=\"color: rgba(0, 0, 0, 1);\"> handlerAsync() {\n        LoginVal loginVal </span>= OauthContext.get();  <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\">1. è·å–çˆ¶çº¿ç¨‹çš„loginVal</span>\n        log.info(\"çˆ¶çº¿ç¨‹çš„å€¼ï¼š{}\"<span style=\"color: rgba(0, 0, 0, 1);\">,OauthContext.get());\n        CompletableFuture.runAsync(()</span>-&gt;<span style=\"color: rgba(0, 0, 0, 1);\">{\n           OauthContext.set(loginVal);   </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\">2. è®¾ç½®å­çº¿ç¨‹çš„å€¼ï¼Œå¤ç”¨</span>\n           log.info(\"å­çº¿ç¨‹çš„å€¼ï¼š{}\"<span style=\"color: rgba(0, 0, 0, 1);\">,OauthContext.get());\n        });\n    }</span></pre>\n</div>\n<p>&nbsp;</p>\n</div>\n<div><strong>2ã€çº¿ç¨‹æ± è®¾ç½®TaskDecorator</strong></div>\n<div>TaskDecoratoræ˜¯ä¸€ä¸ªæ‰§è¡Œå›è°ƒæ–¹æ³•çš„æ¥å£ï¼Œä¸»è¦åº”ç”¨äºä¼ é€’ä¸Šä¸‹æ–‡ï¼Œæˆ–è€…æä¾›ä»»åŠ¡çš„ç›‘æ§/ç»Ÿè®¡ä¿¡æ¯ã€‚</div>\n<div>é¦–å…ˆéœ€è¦å»å®ç°å®ƒï¼Œä»£ç å¦‚ä¸‹ï¼š</div>\n</div>\n<div>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> @description ä¸Šä¸‹æ–‡è£…é¥°å™¨</span>\n<span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">class</span> ContextTaskDecorator <span style=\"color: rgba(0, 0, 255, 1);\">implements</span><span style=\"color: rgba(0, 0, 0, 1);\"> TaskDecorator {\n    @Override\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span><span style=\"color: rgba(0, 0, 0, 1);\"> Runnable decorate(Runnable runnable) {\n        LoginVal loginVal </span>= OauthContext.get();  <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\">è·å–çˆ¶çº¿ç¨‹çš„loginVal</span>\n        <span style=\"color: rgba(0, 0, 255, 1);\">return</span> () -&gt;<span style=\"color: rgba(0, 0, 0, 1);\"> {\n            </span><span style=\"color: rgba(0, 0, 255, 1);\">try</span><span style=\"color: rgba(0, 0, 0, 1);\"> {\n                OauthContext.set(loginVal);  </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> å°†ä¸»çº¿ç¨‹çš„è¯·æ±‚ä¿¡æ¯ï¼Œè®¾ç½®åˆ°å­çº¿ç¨‹ä¸­</span>\n                runnable.run();  <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ‰§è¡Œå­çº¿ç¨‹</span>\n            } <span style=\"color: rgba(0, 0, 255, 1);\">finally</span><span style=\"color: rgba(0, 0, 0, 1);\"> {\n                OauthContext.clear();  </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> çº¿ç¨‹ç»“æŸï¼Œæ¸…ç©ºè¿™äº›ä¿¡æ¯ï¼Œå¦åˆ™å¯èƒ½é€ æˆå†…å­˜æ³„æ¼</span>\n<span style=\"color: rgba(0, 0, 0, 1);\">            }\n        };\n    }\n}</span></pre>\n</div>\n<p>è¿™é‡Œæˆ‘åªæ˜¯è®¾ç½®äº†LoginValï¼Œå®é™…å¼€å‘ä¸­å…¶ä»–çš„å…±äº«æ•°æ®ï¼Œæ¯”å¦‚SecurityContextï¼ŒRequestAttributes....</p>\n</div>\n<div>\n<div>TaskDecoratoréœ€è¦ç»“åˆçº¿ç¨‹æ± ä½¿ç”¨ï¼Œå®é™…å¼€å‘ä¸­å¼‚æ­¥çº¿ç¨‹å»ºè®®ä½¿ç”¨çº¿ç¨‹æ± ï¼Œåªéœ€è¦åœ¨å¯¹åº”çš„çº¿ç¨‹æ± é…ç½®ä¸€ä¸‹ï¼Œä»£ç å¦‚ä¸‹ï¼š</div>\n</div>\n<div>\n<div class=\"cnblogs_code\">\n<pre>@Bean(\"taskExecutor\"<span style=\"color: rgba(0, 0, 0, 1);\">)\n</span><span style=\"color: rgba(0, 0, 255, 1);\">public</span><span style=\"color: rgba(0, 0, 0, 1);\"> ThreadPoolTaskExecutor taskExecutor() {\n        ThreadPoolTaskExecutor poolTaskExecutor </span>= <span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> ThreadPoolTaskExecutor();\n        poolTaskExecutor.setCorePoolSize(xx);\n        poolTaskExecutor.setMaxPoolSize(xx);\n        poolTaskExecutor.setKeepAliveSeconds(xx);   </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> è®¾ç½®çº¿ç¨‹æ´»è·ƒæ—¶é—´ï¼ˆç§’ï¼‰</span>\n        poolTaskExecutor.setQueueCapacity(xx);  <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> è®¾ç½®é˜Ÿåˆ—å®¹é‡</span>\n        poolTaskExecutor.setTaskDecorator(<span style=\"color: rgba(0, 0, 255, 1);\">new</span> ContextTaskDecorator()); <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\">è®¾ç½®TaskDecoratorï¼Œç”¨äºè§£å†³çˆ¶å­çº¿ç¨‹é—´çš„æ•°æ®å¤ç”¨</span>\n        poolTaskExecutor.setRejectedExecutionHandler(<span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> ThreadPoolExecutor.CallerRunsPolicy());\n        poolTaskExecutor.setWaitForTasksToCompleteOnShutdown(</span><span style=\"color: rgba(0, 0, 255, 1);\">true</span>);  <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> ç­‰å¾…æ‰€æœ‰ä»»åŠ¡ç»“æŸåå†å…³é—­çº¿ç¨‹æ± </span>\n        <span style=\"color: rgba(0, 0, 255, 1);\">return</span><span style=\"color: rgba(0, 0, 0, 1);\"> poolTaskExecutor;\n    }</span></pre>\n</div>\n<p>æ­¤æ—¶ä¸šåŠ¡ä»£ç å°±ä¸éœ€è¦å»è®¾ç½®å­çº¿ç¨‹çš„å€¼ï¼Œç›´æ¥ä½¿ç”¨å³å¯ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n</div>\n<div>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">void</span><span style=\"color: rgba(0, 0, 0, 1);\"> handlerAsync() {\n        log.info(</span>\"çˆ¶çº¿ç¨‹çš„ç”¨æˆ·ä¿¡æ¯ï¼š{}\"<span style=\"color: rgba(0, 0, 0, 1);\">, OauthContext.get());\n        </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\">æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ï¼Œéœ€è¦æŒ‡å®šçš„çº¿ç¨‹æ± </span>\n        CompletableFuture.runAsync(()-&amp;gt; log.info(\"å­çº¿ç¨‹çš„ç”¨æˆ·ä¿¡æ¯ï¼š{}\"<span style=\"color: rgba(0, 0, 0, 1);\">, OauthContext.get()),taskExecutor);\n    }</span></pre>\n</div>\n<p>è¿™é‡Œä½¿ç”¨çš„æ˜¯CompletableFutureæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ï¼Œä½¿ç”¨@Asyncè¿™ä¸ªæ³¨è§£åŒæ ·æ˜¯å¯è¡Œçš„ã€‚</p>\n</div>\n<div>\n<div>æ³¨æ„ï¼šæ— è®ºä½¿ç”¨ä½•ç§æ–¹å¼ï¼Œéƒ½éœ€è¦æŒ‡å®šçº¿ç¨‹æ± </div>\n<div>&nbsp;</div>\n</div>\n<div><strong><span style=\"font-size: 14px;\">3ã€ä½¿ç”¨InheritableThreadLocal</span></strong></div>\n<div>è¿™ç§æ–¹æ¡ˆä¸å»ºè®®ä½¿ç”¨ï¼ŒInheritableThreadLocalè™½ç„¶èƒ½å¤Ÿå®ç°çˆ¶å­çº¿ç¨‹é—´çš„å¤ç”¨ï¼Œä½†æ˜¯åœ¨çº¿ç¨‹æ± ä¸­ä½¿ç”¨ä¼šå­˜åœ¨å¤ç”¨çš„é—®é¢˜ï¼Œè¿™ç§æ–¹æ¡ˆä½¿ç”¨ä¹Ÿæ˜¯éå¸¸ç®€å•ï¼Œç›´æ¥ç”¨InheritableThreadLocalæ›¿æ¢ThreadLocalå³å¯ï¼Œä»£ç å¦‚ä¸‹ï¼š</div>\n<div>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> @description ç”¨æˆ·ä¸Šä¸‹æ–‡ä¿¡æ¯</span>\n<span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">class</span><span style=\"color: rgba(0, 0, 0, 1);\"> OauthContext {\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">private</span> <span style=\"color: rgba(0, 0, 255, 1);\">static</span>  <span style=\"color: rgba(0, 0, 255, 1);\">final</span>  InheritableThreadLocal&lt;LoginVal&gt; loginValThreadLocal=<span style=\"color: rgba(0, 0, 255, 1);\">new</span> InheritableThreadLocal&lt;&gt;<span style=\"color: rgba(0, 0, 0, 1);\">();\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">static</span><span style=\"color: rgba(0, 0, 0, 1);\">  LoginVal get(){\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">return</span><span style=\"color: rgba(0, 0, 0, 1);\"> loginValThreadLocal.get();\n    }\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">static</span> <span style=\"color: rgba(0, 0, 255, 1);\">void</span><span style=\"color: rgba(0, 0, 0, 1);\"> set(LoginVal loginVal){\n        loginValThreadLocal.set(loginVal);\n    }\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">static</span> <span style=\"color: rgba(0, 0, 255, 1);\">void</span><span style=\"color: rgba(0, 0, 0, 1);\"> clear(){\n        loginValThreadLocal.remove();\n    }\n}</span></pre>\n</div>\n<p>&nbsp;</p>\n</div>\n<div><strong><span style=\"font-size: 15px;\">4ã€ä½¿ç”¨TransmittableThreadLocal</span></strong></div>\n<div><span>TransmittableThreadLocalæ˜¯é˜¿é‡Œå¼€æºçš„å·¥å…·ï¼Œå¼¥è¡¥äº†InheritableThreadLocalçš„ç¼ºé™·ï¼Œåœ¨ä½¿ç”¨çº¿ç¨‹æ± ç­‰ä¼šæ± åŒ–å¤ç”¨çº¿ç¨‹çš„æ‰§è¡Œç»„ä»¶æƒ…å†µä¸‹ï¼Œæä¾›ThreadLocalå€¼çš„ä¼ é€’åŠŸèƒ½ï¼Œè§£å†³å¼‚æ­¥æ‰§è¡Œæ—¶ä¸Šä¸‹æ–‡ä¼ é€’çš„é—®é¢˜ã€‚</span></div>\n<div>&nbsp;</div>\n<div><strong>TransmittableThreadLocalåŸç†</strong></div>\n<div><span>TransimittableThreadLocalç»§æ‰¿äºInheritableThreadLocalï¼Œå¹¶å®ç°TtlCopieræ¥å£ï¼Œå®ƒé‡Œé¢åªæœ‰ä¸€ä¸ªcopyæ–¹æ³•ã€‚æ‰€ä»¥ä¸»è¦æ˜¯å¯¹InheritableThreadLocalçš„æ‰©å±•ã€‚</span></div>\n<div>\n<div><span>åœ¨TransimittableThreadLocalä¸­æ·»åŠ holderå±æ€§ã€‚è¿™ä¸ªå±æ€§çš„ä½œç”¨å°±æ˜¯è¢«æ ‡è®°ä¸ºå…·å¤‡çº¿ç¨‹ä¼ é€’èµ„æ ¼çš„å¯¹è±¡éƒ½ä¼šè¢«æ·»åŠ åˆ°è¿™ä¸ªå¯¹è±¡ä¸­ã€‚</span></div>\n<div>è¦æ ‡è®°ä¸€ä¸ªç±»ï¼Œå¯ä»¥ç»™è¿™ä¸ªç±»æ–°å¢ä¸€ä¸ªTypeå­—æ®µï¼Œè¿˜æœ‰ä¸€ä¸ªæ–¹æ³•å°±æ˜¯å°†å…·å¤‡è¿™ç§ç±»å‹çš„çš„å¯¹è±¡éƒ½æ·»åŠ åˆ°ä¸€ä¸ªé™æ€å…¨å±€é›†åˆä¸­ï¼Œä¹‹åä½¿ç”¨æ—¶ï¼Œè¿™ä¸ªé›†åˆé‡Œçš„æ‰€æœ‰å€¼éƒ½å…·å¤‡è¿™ä¸ªæ ‡è®°ã€‚</div>\n<div>åº”ç”¨ä»£ç æ˜¯é€šè¿‡TtlExecutorså·¥å…·ç±»å¯¹çº¿ç¨‹æ± å¯¹è±¡è¿›è¡ŒåŒ…è£…ã€‚å·¥å…·ç±»åªæ˜¯ç®€å•çš„åˆ¤æ–­ï¼Œè¾“å…¥çš„çº¿ç¨‹æ± æ˜¯å¦å·²ç»è¢«åŒ…è£…è¿‡ã€éç©ºæ ¡éªŒç­‰ï¼Œç„¶åè¿”å›åŒ…è£…ç±»ExecutorServiceTtlWrapperã€‚æ ¹æ®ä¸åŒçš„çº¿ç¨‹æ± ç±»å‹ï¼Œæœ‰ä¸åŒå’Œçš„åŒ…è£…ç±»ã€‚</div>\n<div>è¿›å…¥åŒ…è£…ç±»ExecutorServiceTtlWrapperã€‚å¯ä»¥æ³¨æ„åˆ°ä¸è®ºæ˜¯é€šè¿‡ExecutorServiceTtlWrapper#submitæ–¹æ³•æˆ–è€…æ˜¯ExecutorTtlWrapper#executeæ–¹æ³•ï¼Œéƒ½ä¼šå°†çº¿ç¨‹å¯¹è±¡åŒ…è£…æˆTtlCallableæˆ–è€…TtlRunnableï¼Œç”¨äºåœ¨çœŸæ­£æ‰§è¡Œrunæ–¹æ³•å‰åšä¸€äº›ä¸šåŠ¡é€»è¾‘ã€‚</div>\n</div>\n<div><span>æ‰€ä»¥ï¼Œé‡ç‚¹çš„æ ¸å¿ƒé€»è¾‘åº”è¯¥æ˜¯åœ¨TtlCallable#call()æˆ–è€…TtlRunnable#run()ä¸­ã€‚ä»¥ä¸‹ä»¥TtlCallableä¸ºä¾‹ï¼ŒTtlRunnableåŒç†ç±»ä¼¼ã€‚</span></div>\n<div><span>æ€»çš„æ¥è¯´åœ¨åˆ›å»ºTtlCallableå¯¹è±¡æ˜¯ï¼Œè°ƒç”¨capture()æ–¹æ³•æ•è·è°ƒç”¨æ–¹çš„æœ¬åœ°çº¿ç¨‹å˜é‡ï¼Œåœ¨call()æ‰§è¡Œæ—¶ï¼Œå°†æ•è·åˆ°çš„çº¿ç¨‹å˜é‡ï¼Œæ›¿æ¢åˆ°çº¿ç¨‹æ± æ‰€å¯¹åº”è·å–åˆ°çš„çº¿ç¨‹çš„æœ¬åœ°å˜é‡ä¸­ï¼Œå¹¶ä¸”åœ¨æ‰§è¡Œå®Œæˆä¹‹åï¼Œå°†å…¶æœ¬åœ°å˜é‡æ¢å¤åˆ°è°ƒç”¨ä¹‹å‰ã€‚</span></div>\n<div><span>&nbsp;</span></div>\n<div>&nbsp;</div>\n<div><strong><span style=\"font-size: 18px;\">é«˜å¹¶å‘</span></strong></div>\n<div><img class=\"lazyload\" width=\"361\" /></div>\n<div><strong><span style=\"font-size: 16px;\">é«˜å¹¶å‘ç³»ç»Ÿç³»ç»ŸæŒ‡æ ‡</span></strong></div>\n<div><span>1ã€QPSï¼ˆQueries Per Second</span>ï¼‰</div>\n<div>QPS æ˜¯æ¯ç§’è¯·æ±‚æ•°ï¼Œæ˜¯è¡¡é‡ä¿¡æ¯ç³»ç»Ÿåœ¨ä¸€ç§’é’Ÿå†…æ¥æ”¶åˆ°çš„æœç´¢æµé‡çš„ä¸€ç§å¸¸è§åº¦é‡æŒ‡æ ‡ï¼Œè¢«å¹¿æ³›åº”ç”¨åœ¨ä»»ä½•è¯·æ±‚-å“åº”çš„ç³»ç»Ÿä¸­ã€‚å¯¹äºé«˜å¹¶å‘çš„ç³»ç»Ÿï¼Œå¿…é¡»è¦å…³æ³¨ QPSï¼Œè¿™æ ·ä½ æ‰èƒ½æŒ‡å¯¼ä½ çš„ç³»ç»Ÿä½•æ—¶éœ€è¦è¿›è¡Œæ‰©å®¹ã€‚</div>\n<div>2ã€TPSï¼ˆTransactions Per Secondï¼‰</div>\n<div>TPS æ˜¯æ¯ç§’çš„äº‹åŠ¡æ•°é‡ï¼Œæ˜¯è½¯ä»¶æµ‹è¯•ç»“æœçš„æµ‹é‡å•ä½ï¼Œä¸€ä¸ªäº‹åŠ¡æ˜¯æŒ‡ä¸€ä¸ªå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ç„¶åæœåŠ¡å™¨åšå‡ºå“åº”çš„è¿‡ç¨‹ã€‚å®¢æˆ·ç«¯åœ¨å‘é€è¯·æ±‚æ—¶å¼€å§‹è®¡æ—¶ï¼Œæ”¶åˆ°æœåŠ¡å™¨å“åº”åç»“æŸè®¡æ—¶ï¼Œç”¨æ¥è®¡ç®—ä½¿ç”¨çš„æ—¶é—´å’Œå®Œæˆçš„äº‹åŠ¡ä¸ªæ•°ã€‚</div>\n<div>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;QPS VS TPS</div>\n<div>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;QPS åŸºæœ¬å¯ä»¥ç†è§£ä¸ºç±»ä¼¼äº TPSï¼Œä½†ä¸åŒçš„æ˜¯ï¼Œå¯¹äºä¸€ä¸ªé¡µé¢çš„ä¸€æ¬¡è®¿é—®ï¼Œå½¢æˆä¸€ä¸ª TPSï¼Œä½†ä¸€æ¬¡é¡µé¢è¯·æ±‚ï¼Œå¯èƒ½ä¼šäº§ç”Ÿå¤šæ¬¡å¯¹æœåŠ¡å™¨çš„è¯·æ±‚ï¼Œå°±æ˜¯è¯´ä¼šæœ‰å¤šä¸ª QPSã€‚</div>\n<div>3ã€RTï¼ˆResponse-timeï¼‰</div>\n<div>RT å³å“åº”æ—¶é—´ï¼Œæ˜¯æŒ‡ä¸€ä¸ªè¯·æ±‚ä»å¼€å§‹åˆ°æœ€åæ”¶åˆ°å“åº”æ•°æ®ç»“æœæ‰€èŠ±è´¹çš„æ€»æ—¶é—´ï¼Œå®ƒçš„æ•°å€¼å¤§å°ç›´æ¥ååº”äº†ç³»ç»Ÿçš„å¿«æ…¢ã€‚</div>\n<div>4ã€å¹¶å‘æ•°</div>\n<div><span>å¹¶å‘æ•°æ˜¯æŒ‡ç³»ç»ŸåŒæ—¶èƒ½å¤„ç†çš„è¯·æ±‚æ•°é‡ï¼Œè¿™ä¸ªæŒ‡æ ‡ååº”äº†ç³»ç»Ÿçš„è´Ÿè½½èƒ½åŠ›ã€‚å¹¶å‘æ„å‘³ç€å¯ä»¥åŒæ—¶è¿›è¡Œå¤šä¸ªå¤„ç†ï¼Œå¹¶å‘åœ¨ç°ä»£ç¼–ç¨‹ä¸­æ— å¤„ä¸åœ¨ã€‚</span></div>\n<div>5ã€ååé‡</div>\n<div>ç³»ç»Ÿçš„ååé‡å’Œå¤„ç†å¯¹ CPU çš„æ¶ˆè€—ã€å¤–éƒ¨æ¥å£ã€IO ç­‰å¤šä¸ªå› ç´ ç´§å¯†ç›¸å…³ï¼Œå•ä¸ªå¤„ç†è¯·æ±‚å¯¹ CPU æ¶ˆè€—è¶Šé«˜ï¼Œå¤–éƒ¨ç³»ç»Ÿæ¥å£ã€IO é€Ÿåº¦è¶Šæ…¢ï¼Œç³»ç»Ÿçš„ååèƒ½åŠ›è¶Šä½ï¼Œåä¹‹è¶Šé«˜ã€‚ç³»ç»Ÿååé‡æœ‰å‡ ä¸ªé‡è¦æŒ‡æ ‡å‚æ•°ï¼šQPS/TPSã€å¹¶å‘æ•°ã€å“åº”æ—¶é—´ã€‚</div>\n<div><span style=\"font-family: Arial;\">&nbsp;</span></div>\n<div>\n<div>&nbsp;&nbsp; &nbsp;QPS/TPSï¼šæ¯ç§’è¯·æ±‚/äº‹åŠ¡æ•°é‡ã€‚</div>\n<div>&nbsp;&nbsp; &nbsp;å¹¶å‘æ•°ï¼š ç³»ç»ŸåŒæ—¶å¤„ç†çš„è¯·æ±‚/äº‹åŠ¡æ•°ã€‚</div>\n<div>&nbsp;&nbsp; &nbsp;å“åº”æ—¶é—´ï¼š ä¸€èˆ¬å–è¯·æ±‚å¹³å‡å“åº”æ—¶é—´ã€‚</div>\n<div>ç†è§£äº†ä¸Šé¢ä¸‰ä¸ªæŒ‡æ ‡çš„æ„ä¹‰ä¹‹åï¼Œå°±èƒ½æ¨ç®—å‡ºå®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼š</div>\n<div>QPS(TPS) = å¹¶å‘æ•°/å¹³å‡å“åº”æ—¶é—´</div>\n<div>å¹¶å‘æ•° = QPS*å¹³å‡å“åº”æ—¶é—´</div>\n<div>&nbsp;</div>\n<div><strong><span style=\"font-size: 18px;\">å®é™…ä¸¾ä¾‹</span></strong></div>\n<div>æŸå®ç›´æ’­ä¸šåŠ¡è¦æ±‚é¢„ä¼°è®¡ç®—å¯¹åº”çš„å„ä¸ªæŒ‡æ ‡ã€‚æ­£å¸¸åœ¨è¿›è¡Œæµé‡ä¼°ç®—çš„æ—¶å€™ï¼Œä¼šé‡‡ç”¨äºŒå…«å®šå¾‹ï¼Œå¦‚æœæ¯å¤© 80% çš„è®¿é—®é›†ä¸­åœ¨ 20% çš„æ—¶é—´æ®µé‡Œï¼Œé‚£è¿™ä¸ª 20% çš„æ—¶é—´å°±è¢«ç§°ä¸ºå³°å€¼æ—¶é—´ã€‚</div>\n<div>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>å³°å€¼æ—¶é—´çš„ QPS = ï¼ˆæ€» PV æ•° * 80%ï¼‰/ï¼ˆæ¯å¤©ç§’æ•° * 20%ï¼‰</span></div>\n<div>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>éœ€è¦çš„æœºå™¨æ•°é‡ = å³°å€¼æ—¶é—´çš„ QPS / å•å°æœºå™¨çš„ QPS</span></div>\n<div>æ¯å¤©300w PV çš„åœ¨å•å°æœºå™¨ä¸Šï¼Œè¿™å°æœºå™¨éœ€è¦å¤šå°‘QPSï¼Ÿ</div>\n<div>&nbsp; &nbsp;&nbsp;( 3000000 * 0.8 ) / (86400 * 0.2 ) = 139 (QPS)</div>\n<div>å¦‚æœä¸€å°æœºå™¨çš„QPSæ˜¯58ï¼Œéœ€è¦å‡ å°æœºå™¨æ¥æ”¯æŒï¼Ÿ</div>\n<div>&nbsp; &nbsp;&nbsp;139 / 58 = 3</div>\n<div>é«˜å¹¶å‘ç³»ç»Ÿçš„ç›®æ ‡ä»ç³»ç»Ÿå±‚é¢çœ‹ï¼Œæœ‰é«˜æ€§èƒ½ã€é«˜å¯ç”¨å’Œé«˜æ‰©å±•ä¸‰ä¸ªç›®æ ‡</div>\n</div>\n<div>&nbsp;</div>\n<div><strong><span style=\"font-size: 18px;\">é«˜å¹¶å‘è§£å†³æ–¹æ¡ˆ</span></strong></div>\n<div><span>ä½¿ç”¨åˆ†å¸ƒå¼å¾®æœåŠ¡æ¶æ„æ¨¡å¼ã€é›†ç¾¤éƒ¨ç½²ä¸è´Ÿè½½å‡è¡¡ã€ç”¨åˆ†å¸ƒå¼ç¼“å­˜ã€ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ã€åˆ†åº“åˆ†è¡¨ã€è¯»å†™åˆ†ç¦»ã€é™æµå’Œç†”æ–­ã€åŠ¨é™åˆ†ç¦»ã€ä½¿ç”¨åˆ†å¸ƒå¼æ•°æ®åº“ã€æ•°æ®åº“ä¼˜åŒ–ã€‚</span></div>\n<div><strong>1ã€ä½¿ç”¨åˆ†å¸ƒå¼å¾®æœåŠ¡æ¶æ„æ¨¡å¼</strong></div>\n<div>å°†ä¸€ä¸ªç³»ç»Ÿæ‹†åˆ†ä¸ºå¤šä¸ªå­ç³»ç»Ÿã€‚&nbsp;å¾®æœåŠ¡æ¶æ„æ‹†åˆ†ï¼Œæœ€å¸¸è§çš„å°±æ˜¯Spring Cloud å’ŒSpring Cloud Alibabaã€‚ç„¶åæ¯ä¸ªç³»ç»Ÿè¿ä¸€ä¸ªæ•°æ®åº“ï¼Œè¿™æ ·æœ¬æ¥å°±ä¸€ä¸ªåº“ï¼Œç°åœ¨å¤šä¸ªæ•°æ®åº“ï¼Œè¿™æ ·å°±å¯ä»¥æŠ—é«˜å¹¶å‘ã€‚</div>\n<div><strong>2ã€é›†ç¾¤éƒ¨ç½²ä¸è´Ÿè½½å‡è¡¡</strong></div>\n<div>å°†ç³»ç»Ÿéƒ¨ç½²åœ¨å¤šå°æœåŠ¡å™¨ä¸Šï¼Œé€šç”¨è´Ÿè½½å‡è¡¡å°†ç”¨æˆ·è¯·æ±‚å‡åŒ€åœ°åˆ†å‘åˆ°å„ä¸ªæœåŠ¡å™¨è¿›è¡Œå¤„ç†ï¼Œ åˆ†æ‹…å•å°æœåŠ¡å™¨çš„å‹åŠ›ï¼Œè¿™ç§æ–¹å¼å¯ä»¥é€šè¿‡æ·»åŠ æ–°çš„æœåŠ¡å™¨æˆ–è€…æœåŠ¡èŠ‚ç‚¹æ¥æé«˜ç³»ç»Ÿçš„æ•´ä½“å¤„ç†èƒ½åŠ›ï¼Œ æé«˜ç³»ç»Ÿçš„å¹¶å‘å¤„ç†èƒ½åŠ›å’Œæ•´ä½“æ€§èƒ½ã€‚</div>\n<div>è´Ÿè½½å‡è¡¡ï¼ˆLoad Balancingï¼‰æ˜¯ä¸€ç§åˆ†å¸ƒå¼ç³»ç»Ÿæ¶æ„ä¸­çš„æŠ€æœ¯ï¼Œç”¨äºå°†ç½‘ç»œè¯·æ±‚æˆ–ä»»åŠ¡åˆ†æ•£åˆ°å¤šä¸ªæœåŠ¡å™¨æˆ–èµ„æºä¸Šã€‚</div>\n<div>æ¯”å¦‚ï¼šå½“ç³»ç»Ÿé¢ä¸´å¤§é‡ç”¨æˆ·è®¿é—®ï¼Œè´Ÿè½½è¿‡é«˜çš„æ—¶å€™ï¼Œé€šå¸¸ä¼šä½¿ç”¨å¢åŠ æœåŠ¡å™¨æ•°é‡æ¥è¿›è¡Œæ¨ªå‘æ‰©å±•æ¥æé«˜æ•´ä¸ªç³»ç»Ÿçš„å¤„ç†èƒ½åŠ›ã€‚</div>\n<div>è´Ÿè½½å‡è¡¡å¯ä»¥åœ¨ä¸åŒçš„å±‚æ¬¡ä¸Šå®ç°ï¼ŒåŒ…æ‹¬ï¼š</div>\n<div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;ç¡¬ä»¶è´Ÿè½½å‡è¡¡å™¨ï¼š&nbsp;ä½¿ç”¨ä¸“é—¨çš„ç¡¬ä»¶è®¾å¤‡æ¥å®ç°è´Ÿè½½å‡è¡¡ï¼Œå¦‚ç¡¬ä»¶è´Ÿè½½å‡è¡¡å™¨ã€‚</div>\n<div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;è½¯ä»¶è´Ÿè½½å‡è¡¡å™¨ï¼š&nbsp;åœ¨åº”ç”¨å±‚æˆ–ç½‘ç»œå±‚ä½¿ç”¨è½¯ä»¶æ¥å®ç°è´Ÿè½½å‡è¡¡ï¼Œå¦‚åå‘ä»£ç†æœåŠ¡å™¨ã€è´Ÿè½½å‡è¡¡ç®—æ³•ã€‚</div>\n<div>åœ¨è´Ÿè½½å‡è¡¡çš„è®¾è®¡ä¸­ï¼Œæœ‰å‡ ç§å¸¸è§çš„è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼š</div>\n<div>&nbsp; &nbsp;&nbsp;1ã€è½®è¯¢ï¼ˆRound Robinï¼‰ï¼š&nbsp;å°†è¯·æ±‚ä¾æ¬¡åˆ†é…ç»™æœåŠ¡å™¨åˆ—è¡¨ä¸­çš„æ¯ä¸ªæœåŠ¡å™¨ï¼Œæ¯æ¬¡è¯·æ±‚åç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªæœåŠ¡å™¨ã€‚é€‚ç”¨äºæœåŠ¡å™¨æ€§èƒ½ç›¸è¿‘çš„æƒ…å†µã€‚</div>\n<div>&nbsp; &nbsp; &nbsp; 2ã€åŠ æƒè½®è¯¢ï¼ˆWeighted Round Robinï¼‰ï¼š&nbsp;ç±»ä¼¼äºè½®è¯¢ï¼Œä½†æ¯ä¸ªæœåŠ¡å™¨æœ‰ä¸åŒçš„æƒé‡ï¼Œå¯ä»¥æ ¹æ®æœåŠ¡å™¨æ€§èƒ½è°ƒæ•´æƒé‡ã€‚</div>\n<div>&nbsp; &nbsp; &nbsp; 3ã€æœ€å°‘è¿æ¥ï¼ˆLeast Connectionsï¼‰ï¼š&nbsp;å°†è¯·æ±‚åˆ†é…ç»™å½“å‰è¿æ¥æ•°æœ€å°‘çš„æœåŠ¡å™¨ï¼Œä»¥ç¡®ä¿è´Ÿè½½å‡è¡¡ã€‚é€‚ç”¨äºé•¿è¿æ¥çš„æƒ…å†µã€‚</div>\n<div>&nbsp; &nbsp; &nbsp; 4ã€åŠ æƒæœ€å°‘è¿æ¥ï¼ˆWeighted Least Connectionsï¼‰ï¼š&nbsp;ç±»ä¼¼äºæœ€å°‘è¿æ¥ï¼Œä½†æ¯ä¸ªæœåŠ¡å™¨æœ‰ä¸åŒçš„æƒé‡ï¼Œå¯ä»¥æ ¹æ®æœåŠ¡å™¨æ€§èƒ½è°ƒæ•´æƒé‡ã€‚</div>\n<div>&nbsp; &nbsp; &nbsp; 5ã€éšæœºï¼ˆRandomï¼‰ï¼š&nbsp;éšæœºé€‰æ‹©ä¸€ä¸ªæœåŠ¡å™¨æ¥å¤„ç†è¯·æ±‚ï¼Œé€‚ç”¨äºç®€å•çš„è´Ÿè½½å‡è¡¡éœ€æ±‚ã€‚</div>\n<div>&nbsp; &nbsp; &nbsp; 6ã€IP å“ˆå¸Œï¼ˆIP Hashï¼‰ï¼š&nbsp;æ ¹æ®å®¢æˆ·ç«¯ IP åœ°å€çš„å“ˆå¸Œå€¼æ¥é€‰æ‹©æœåŠ¡å™¨ï¼Œå¯ä»¥ç¡®ä¿åŒä¸€å®¢æˆ·ç«¯çš„è¯·æ±‚å§‹ç»ˆå‘é€åˆ°åŒä¸€æœåŠ¡å™¨ã€‚</div>\n<div><strong>3ã€åˆ†å¸ƒå¼ç¼“å­˜</strong></div>\n<div>å¤§éƒ¨åˆ†çš„é«˜å¹¶å‘åœºæ™¯ï¼Œéƒ½æ˜¯è¯»å¤šå†™å°‘ï¼Œé‚£ä½ å®Œå…¨å¯ä»¥åœ¨æ•°æ®åº“å’Œç¼“å­˜é‡Œéƒ½å†™ä¸€ä»½ï¼Œç„¶åè¯»çš„æ—¶å€™å¤§é‡èµ°ç¼“å­˜ä¸å°±å¾—äº†ã€‚æ¯•ç«Ÿäººå®¶redisè½»è½»æ¾æ¾å•æœºå‡ ä¸‡çš„å¹¶å‘å•Šã€‚æ²¡é—®é¢˜çš„ã€‚æ‰€ä»¥ä½ å¯ä»¥è€ƒçš„è™‘è€ƒè™‘ä½ çš„é¡¹ç›®é‡Œï¼Œé‚£äº›æ‰¿è½½ä¸»è¦è¯·æ±‚è¯»åœºæ™¯ï¼Œæ€ä¹ˆç”¨ç¼“å­˜æ¥æŠ—é«˜å¹¶å‘ã€‚ï¼ˆç¼“å­˜ä½ ä¹Ÿå¯ä»¥è€ƒè™‘é›†ç¾¤ï¼Œä¸è¿‡å‰æå°±æ˜¯ä½ çš„æœåŠ¡å™¨å¾—æ”¯æŒæ€ä¹ˆå¤šé«˜è´Ÿè·çš„ä¸­é—´ä»¶ã€‚ä¿—è¯è¯´æ²¡æœ‰ä»»ä½•äº‹ç‰©åŠ ä¸€å±‚è§£å†³ä¸äº†çš„ï¼Œå¦‚æœä¸€å±‚ä¸è¡Œï¼Œå°±åœ¨åŠ ä¸€å±‚è§£å†³ï¼‰</div>\n<div>\n<div>ä¸€äº›å¸¸è§çš„åˆ†å¸ƒå¼ç¼“å­˜ç³»ç»ŸåŒ…æ‹¬ï¼šï¼›</div>\n<div>&nbsp;&nbsp; &nbsp;1)ã€Redisï¼š&nbsp;Redis æ˜¯ä¸€ç§åŸºäºå†…å­˜çš„é”®å€¼å­˜å‚¨ç³»ç»Ÿï¼Œæ”¯æŒå¤šç§æ•°æ®ç»“æ„ï¼Œå¦‚å­—ç¬¦ä¸²ã€å“ˆå¸Œã€åˆ—è¡¨ç­‰ï¼Œé€‚ç”¨äºå¿«é€Ÿè¯»å–å’Œå†™å…¥åœºæ™¯ã€‚&nbsp;&nbsp;</div>\n<div>&nbsp;&nbsp; &nbsp;2)ã€Memcachedï¼š&nbsp;Memcached ä¹Ÿæ˜¯ä¸€ç§åŸºäºå†…å­˜çš„é”®å€¼å­˜å‚¨ç³»ç»Ÿï¼Œé€‚ç”¨äºåˆ†å¸ƒå¼ç¼“å­˜å’Œç¼“å­˜å…±äº«ã€‚</div>\n<div>&nbsp; &nbsp; 3)ã€Hazelcastï¼š&nbsp;Hazelcast æ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼æ•°æ®å­˜å‚¨å’Œè®¡ç®—å¹³å°ï¼Œæ”¯æŒåˆ†å¸ƒå¼ç¼“å­˜ã€åˆ†å¸ƒå¼è®¡ç®—ç­‰ã€‚</div>\n<div>&nbsp; &nbsp; 4)ã€Couchbaseï¼š&nbsp;Couchbase æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç¼“å­˜å’Œæ•°æ®åº“ç³»ç»Ÿï¼Œç»“åˆäº†ç¼“å­˜å’Œæ–‡æ¡£å­˜å‚¨çš„åŠŸèƒ½ã€‚</div>\n<div>&nbsp; &nbsp; 5)ã€Ehcacheï¼š&nbsp;Ehcache æ˜¯ä¸€ä¸ª Java ç¼“å­˜åº“ï¼Œå¯ä»¥ä½œä¸ºæœ¬åœ°ç¼“å­˜æˆ–åˆ†å¸ƒå¼ç¼“å­˜ä½¿ç”¨ã€‚</div>\n<div>å½“ç„¶ï¼Œè¿™é‡Œä½¿ç”¨æœ€å¤šçš„è¿˜æ˜¯Redisã€‚</div>\n</div>\n<div><strong>4ã€MQ(æ¶ˆæ¯é˜Ÿåˆ—)</strong></div>\n<div>å¯èƒ½ä½ è¿˜æ˜¯ä¼šå‡ºç°é«˜å¹¶å‘å†™çš„åœºæ™¯ï¼Œæ¯”å¦‚è¯´ä¸€ä¸ªä¸šåŠ¡æ“ä½œé‡Œè¦é¢‘ç¹ææ•°æ®åº“å‡ åæ¬¡ï¼Œå¢åˆ æ”¹å¢åˆ æ”¹ï¼Œç–¯äº†ã€‚é‚£é«˜å¹¶å‘ç»å¯¹ææŒ‚ä½ çš„ç³»ç»Ÿï¼Œäººå®¶æ˜¯ç¼“å­˜ä½ è¦æ˜¯ç”¨redisæ¥æ‰¿è½½å†™é‚£è‚¯å®šä¸è¡Œï¼Œæ•°æ®éšæ—¶å°±è¢«LRU(æ·˜æ±°æ‰æœ€ä¸ç»å¸¸ä½¿ç”¨çš„)äº†ï¼Œæ•°æ®æ ¼å¼è¿˜æ— æ¯”ç®€å•ï¼Œæ²¡æœ‰äº‹åŠ¡æ”¯æŒã€‚æ‰€ä»¥è¯¥ç”¨mysqlè¿˜å¾—ç”¨mysqlå•Šã€‚é‚£ä½ å’‹åŠï¼Ÿç”¨MQå§ï¼Œå¤§é‡çš„å†™è¯·æ±‚çŒå…¥MQé‡Œï¼Œæ’é˜Ÿæ…¢æ…¢ç©å„¿ï¼Œåè¾¹ç³»ç»Ÿæ¶ˆè´¹åæ…¢æ…¢å†™ï¼Œæ§åˆ¶åœ¨mysqlæ‰¿è½½èŒƒå›´ä¹‹å†…ã€‚æ‰€ä»¥ä½ å¾—è€ƒè™‘è€ƒè™‘ä½ çš„é¡¹ç›®é‡Œï¼Œé‚£äº›æ‰¿è½½å¤æ‚å†™ä¸šåŠ¡é€»è¾‘çš„åœºæ™¯é‡Œï¼Œå¦‚ä½•ç”¨MQæ¥å¼‚æ­¥å†™ï¼Œæå‡å¹¶å‘æ€§ã€‚MQå•æœºæŠ—å‡ ä¸‡å¹¶å‘ä¹Ÿæ˜¯okçš„ã€‚ï¼ˆè¿™ä¸ªæ˜¯æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡æ¥ç”¨çš„ï¼Œä¸€èˆ¬ä¸­å°å‹é¡¹ç›®ç”¨rabbitmqå°±å¤Ÿäº†ï¼Œå»ºè®®æ—¥å¿—ç”¨kafkaï¼Œè¿™æ ·æ—¥å¿—çš„æ•°é‡å¤šå°±å¯ä»¥å¾ˆå¥½çš„è§£å†³ï¼‰</div>\n<div>&nbsp;</div>\n<div><strong>5ã€åˆ†åº“åˆ†è¡¨</strong></div>\n<div>å¯èƒ½åˆ°äº†æœ€åæ•°æ®åº“å±‚é¢è¿˜æ˜¯å…ä¸äº†æŠ—é«˜å¹¶å‘çš„è¦æ±‚ï¼Œå¥½å§ï¼Œé‚£ä¹ˆå°±å°†ä¸€ä¸ªæ•°æ®åº“æ‹†åˆ†ä¸ºå¤šä¸ªåº“ï¼Œå¤šä¸ªåº“æ¥æŠ—æ›´é«˜çš„å¹¶å‘ï¼›ç„¶åå°†ä¸€ä¸ªè¡¨æ‹†åˆ†ä¸ºå¤šä¸ªè¡¨ï¼Œæ¯ä¸ªè¡¨çš„æ•°æ®é‡ä¿æŒå°‘ä¸€ç‚¹ï¼Œæé«˜sqlè·‘çš„æ€§èƒ½ã€‚ï¼ˆè¿™ä¸ªå‰æä½ çš„æœåŠ¡å™¨å¾—æ”¯æŒï¼Œä¸ç„¶å¼„å¾—åä¸½èŠ±å“¨ï¼‰</div>\n<div>1.ä»€ä¹ˆæ˜¯åˆ†åº“åˆ†è¡¨ï¼Ÿ</div>\n<div>1.1 åˆ†åº“</div>\n<div>\n<div>åˆ†åº“æ˜¯æŒ‡åœ¨è¡¨æ•°é‡ä¸å˜çš„æƒ…å†µä¸‹å¯¹åº“è¿›è¡Œåˆ‡åˆ†ã€‚</div>\n<div>ä¸¾ä¾‹ï¼šå¦‚ä¸‹å›¾ï¼Œæ•°æ®åº“A ä¸­å­˜æ”¾äº† user å’Œ order ä¸¤å¼ è¡¨ï¼Œå°†ä¸¤å¼ è¡¨åˆ‡åˆ†åˆ°ä¸¤ä¸ªæ•°æ®åº“ä¸­ï¼Œuserè¡¨æ”¾åˆ° database Aï¼Œorderè¡¨æ”¾åˆ° database B</div>\n<div>1.2 åˆ†è¡¨</div>\n<div>åˆ†è¡¨æ˜¯æŒ‡åœ¨åº“æ•°é‡ä¸å˜çš„æƒ…å†µä¸‹å¯¹è¡¨è¿›è¡Œåˆ‡åˆ†ã€‚</div>\n<div>ä¸¾ä¾‹ï¼šå¦‚ä¸‹å›¾ï¼Œæ•°æ®åº“ A ä¸­å­˜æ”¾äº† userè¡¨ï¼Œå°† userè¡¨åˆ‡åˆ†æˆ user1 å’Œ user2 ä¸¤å¼ è¡¨å¹¶æ”¾åˆ° database Aä¸­ã€‚</div>\n<div>1.3 åˆ†åº“åˆ†è¡¨</div>\n<div>åˆ†åº“åˆ†è¡¨æ˜¯æŒ‡åº“å’Œè¡¨éƒ½åˆ‡åˆ†ï¼Œæ•°é‡éƒ½å‘ç”Ÿå˜åŒ–ã€‚</div>\n<div>ä¸¾ä¾‹ï¼šå¦‚ä¸‹å›¾ï¼Œæ•°æ®åº“ A ä¸­å­˜æ”¾äº† userè¡¨ï¼Œå°† userè¡¨åˆ‡åˆ†æˆ user1ã€user2ã€user3ã€user4 å››å¼ è¡¨ï¼Œuser1 å’Œ user2 æ”¾åˆ° database Aä¸­ï¼Œuser3 å’Œ user4 æ”¾åˆ° database B ä¸­ã€‚</div>\n<div>2. å¦‚ä½•åˆ‡åˆ†åº“å’Œè¡¨ï¼Ÿ</div>\n<div><span>ä¸»æµçš„åˆ‡åˆ†æ–¹å¼æœ‰ 3ç§ï¼šæ°´å¹³åˆ‡åˆ†ã€å‚ç›´åˆ‡åˆ†å’Œæ··åˆåˆ‡åˆ†ã€‚</span></div>\n<div>2.1 æ°´å¹³åˆ‡åˆ†</div>\n<div>æ°´å¹³åˆ‡åˆ†åŒ…å«æ°´å¹³åˆ†åº“å’Œæ°´å¹³åˆ†è¡¨ã€‚</div>\n<div>2.1.1 æ°´å¹³åˆ†è¡¨</div>\n<div><span>æ°´å¹³åˆ†è¡¨æŒ‡çš„è¡¨ç»“æ„ä¸å˜ï¼Œå°†å•è¡¨æ•°æ®åˆ‡åˆ†æˆå¤šè¡¨ã€‚åˆ‡åˆ†åçš„ç»“æœï¼šæ¯ä¸ªè¡¨çš„ç»“æ„ä¸€æ ·ï¼Œæ•°æ®ä¸ä¸€æ ·ï¼Œæ‰€æœ‰è¡¨çš„æ•°æ®å¹¶é›†ä¸ºå…¨é‡æ•°æ®ã€‚</span></div>\n<div>ä¸¾ä¾‹ï¼šå¦‚ä¸‹å›¾ï¼Œorderè¡¨ï¼ŒæŒ‰ç…§ oder_id çš„æ•°æ®èŒƒå›´æ°´å¹³åˆ‡åˆ†åå˜æˆäº† order1 å’Œ order2 è¡¨ï¼Œä¸¤ä¸ªè¡¨çš„ç»“æ„ä¸€æ ·ï¼Œæ•°æ®ä¸åŒã€‚</div>\n<div>2.1.2 æ°´å¹³åˆ†åº“</div>\n<div><span>æ°´å¹³åˆ†åº“æ˜¯æŒ‡ï¼Œå°†è¡¨æ°´å¹³åˆ‡åˆ†ååˆ†åˆ°ä¸åŒçš„æ•°æ®åº“ï¼Œä½¿å¾—æ¯ä¸ªåº“å…·æœ‰ç›¸åŒçš„è¡¨ï¼Œè¡¨ä¸­çš„æ•°æ®ä¸ç›¸åŒï¼Œæ°´å¹³åˆ†åº“ä¸€èˆ¬æ˜¯ä¼´éšæ°´å¹³åˆ†è¡¨ã€‚</span></div>\n<div>ä¸¾ä¾‹ï¼šå¦‚ä¸‹å›¾ï¼Œorder è¡¨ï¼Œæ°´å¹³åˆ‡åˆ†åï¼Œåˆ†åˆ° database A å’Œ database B ä¸­ï¼Œè¿™æ ·åŸæ¥ä¸€ä¸ªåº“å°±è¢«æ‹†åˆ†æˆ 2ä¸ªåº“ã€‚</div>\n<div>2.2 å‚ç›´åˆ‡åˆ†</div>\n<div>å‚ç›´åˆ‡åˆ†åŒ…å«å‚ç›´åˆ†åº“å’Œå‚ç›´åˆ†è¡¨ã€‚</div>\n<div>2.2.1 å‚ç›´åˆ†è¡¨</div>\n<div><span>å‚ç›´åˆ†è¡¨æŒ‡å°†å­˜åœ¨ä¸€å¼ è¡¨ä¸­çš„å­—æ®µåˆ‡åˆ†åˆ°å¤šå¼ è¡¨ã€‚åˆ‡åˆ†åçš„ç»“æœï¼šæ¯ä¸ªè¡¨çš„ç»“æ„ä¸ä¸€æ ·ï¼Œæ•°æ®ä¹Ÿä¸ä¸€æ ·ï¼Œæ‰€æœ‰è¡¨çš„å­—æ®µå¹¶é›†æ˜¯åŸè¡¨çš„å­—æ®µã€‚</span></div>\n<div>ä¸¾ä¾‹ï¼šå¦‚ä¸‹å›¾ï¼Œorder è¡¨ï¼Œæ ¹æ®å­—æ®µå‚ç›´åˆ‡åˆ†ï¼Œåˆ‡åˆ†å order_baseè¡¨åŒ…å«ä¸€éƒ¨åˆ†å­—æ®µçš„æ•°æ® å’Œ order_infoè¡¨åŒ…å«å¦ä¸€éƒ¨åˆ†å­—æ®µçš„æ•°æ®ã€‚</div>\n<div>2.2.2 å‚ç›´åˆ†åº“</div>\n<div>å‚ç›´åˆ†åº“æŒ‡çš„æ˜¯ï¼Œå°†å•ä¸ªåº“ä¸­çš„è¡¨åˆ†åˆ°å¤šä¸ªåº“ï¼Œæ¯ä¸ªåº“åŒ…å«çš„è¡¨ä¸ä¸€æ ·ã€‚</div>\n<div>ä¸¾ä¾‹ï¼šå¦‚ä¸‹å›¾ï¼Œdatabase A ä¸­çš„ order è¡¨ å’Œ userè¡¨ï¼Œå‚ç›´åˆ†åº“ä¸º database A åŒ…å« orderè¡¨ï¼Œdatabase B åŒ…å« user è¡¨ã€‚</div>\n<div>2.3 æ··åˆåˆ‡åˆ†</div>\n<div>æ··åˆåˆ‡åˆ†å…¶å®å°±æ˜¯æ°´å¹³åˆ‡åˆ†å’Œå‚ç›´åˆ‡åˆ†çš„ç»„åˆ</div>\n</div>\n<div><strong>6ã€è¯»å†™åˆ†ç¦»</strong></div>\n<div>è¿™ä¸ªå°±æ˜¯è¯´å¤§éƒ¨åˆ†æ—¶å€™æ•°æ®åº“å¯èƒ½ä¹Ÿæ˜¯è¯»å¤šå†™å°‘ï¼Œæ²¡å¿…è¦æ‰€æœ‰è¯·æ±‚éƒ½é›†ä¸­åœ¨ä¸€ä¸ªåº“ä¸Šå§ï¼Œå¯ä»¥æä¸ªä¸»ä»æ¶æ„ï¼Œä¸»åº“å†™å…¥ï¼Œä»åº“è¯»å–ï¼Œæä¸€ä¸ªè¯»å†™åˆ†ç¦»ã€‚è¯»æµé‡å¤ªå¤šçš„æ—¶å€™ï¼Œè¿˜å¯ä»¥åŠ æ›´å¤šçš„ä»åº“ã€‚</div>\n<div><strong>&nbsp;</strong></div>\n<div><strong>7ã€é™æµå’Œç†”æ–­</strong></div>\n<div>é™æµï¼ˆRate Limitingï¼‰å’Œç†”æ–­ï¼ˆCircuit Breakingï¼‰æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å¸¸ç”¨çš„ä¸¤ç§æµé‡æ§åˆ¶å’Œå®¹é”™æœºåˆ¶ã€‚</div>\n<div>å¹¶å‘é‡é«˜çš„æƒ…å†µä¸‹ï¼Œåˆ©ç”¨SpringCloudçš„Hystrixç»„ä»¶(ç›‘æ§å’Œç†”æ–­å™¨)è¿›è¡Œé™æµç†”æ–­å¤„ç†ï¼Œ é¦–å…ˆä¿æŠ¤æ ¸å¿ƒç³»ç»Ÿçš„å®‰å…¨æ€§ï¼Œ</div>\n<div><img class=\"lazyload\" width=\"382\" /></div>\n<div>&nbsp;</div>\n<div><strong>8ã€åŠ¨é™åˆ†ç¦»</strong></div>\n<div>å°†cssã€htmlã€jpgã€&nbsp;js&nbsp;ç­‰&nbsp;é™æ€æ–‡ä»¶å’ŒåŠ¨æ€é¡µé¢åŒºåˆ†å¼€</div>\n<div>&nbsp;</div>\n<div><strong>9ã€ä½¿ç”¨åˆ†å¸ƒå¼æ•°æ®åº“</strong></div>\n<div>åˆ†å¸ƒå¼æ•°æ®åº“æ˜¯ä¸€ç§æ•°æ®åº“ç³»ç»Ÿï¼Œå°†æ•°æ®åˆ†æ•£å­˜å‚¨åœ¨å¤šä¸ªç‰©ç†èŠ‚ç‚¹æˆ–æœåŠ¡å™¨ä¸Šï¼Œä»¥æé«˜ç³»ç»Ÿçš„æ€§èƒ½ã€å¯æ‰©å±•æ€§å’Œå¯ç”¨æ€§ã€‚</div>\n<div>\n<div>åˆ†å¸ƒå¼æ•°æ®åº“åˆ†ç±»ï¼š</div>\n<div>1.åˆ†å¸ƒå¼å…³ç³»å‹æ•°æ®åº“</div>\n<div>è¿™ç±»æ•°æ®åº“å°†å…³ç³»å‹æ•°æ®åº“çš„ç‰¹æ€§ä¸åˆ†å¸ƒå¼ç³»ç»Ÿçš„ä¼˜åŠ¿ç›¸ç»“åˆï¼Œæä¾›äº†æ”¯æŒSQLæŸ¥è¯¢å’Œäº‹åŠ¡çš„èƒ½åŠ›ã€‚</div>\n<div>ä¸€äº›ä¾‹å­åŒ…æ‹¬ï¼šGoogle Cloud Spannerã€TiDBä¸€ç§å…¨çƒåˆ†å¸ƒå¼çš„å…³ç³»å‹æ•°æ®åº“ï¼Œæä¾›äº†å¼ºä¸€è‡´æ€§å’Œæ°´å¹³æ‰©å±•èƒ½åŠ›ã€‚</div>\n<div>2.åˆ†å¸ƒå¼åˆ—å¼æ•°æ®åº“</div>\n<div>è¿™ç±»æ•°æ®åº“ä»¥åˆ—å¼å­˜å‚¨æ–¹å¼å­˜å‚¨æ•°æ®ï¼Œé€‚ç”¨äºå¤§è§„æ¨¡åˆ†æå’ŒæŸ¥è¯¢éœ€æ±‚ã€‚</div>\n<div>Apache Cassandraï¼šä¸€ä¸ªåˆ†å¸ƒå¼çš„NoSQLæ•°æ®åº“ï¼Œé€‚ç”¨äºé«˜å¯ç”¨æ€§å’Œå¯æ‰©å±•æ€§çš„åœºæ™¯ã€‚</div>\n<div>HBaseï¼šä¸€ä¸ªåŸºäºHadoopçš„åˆ†å¸ƒå¼åˆ—å¼æ•°æ®åº“ï¼Œé€‚ç”¨äºå¤§æ•°æ®å­˜å‚¨å’Œå®æ—¶æŸ¥è¯¢ã€‚</div>\n<div><span>3.</span>åˆ†å¸ƒå¼æ–‡æ¡£æ•°æ®åº“</div>\n<div>è¿™ç±»æ•°æ®åº“ä»¥æ–‡æ¡£ä¸ºå•ä½å­˜å‚¨æ•°æ®ï¼Œé€‚ç”¨äºåŠç»“æ„åŒ–æ•°æ®ã€‚</div>\n<div>MongoDBï¼šä¸€ä¸ªé¢å‘æ–‡æ¡£çš„NoSQLæ•°æ®åº“ï¼Œæ”¯æŒåˆ†å¸ƒå¼éƒ¨ç½²å’Œæ°´å¹³æ‰©å±•ã€‚</div>\n<div>Couchbaseï¼šä¸€ä¸ªåˆ†å¸ƒå¼NoSQLæ•°æ®åº“ï¼Œæ”¯æŒæ–‡æ¡£å’Œé”®å€¼æ•°æ®æ¨¡å‹ã€‚</div>\n<div>ä½¿ç”¨åˆ†å¸ƒå¼æ•°æ®åº“ç³»ç»Ÿï¼Œå¦‚åˆ†å¸ƒå¼ NoSQL æ•°æ®åº“ï¼Œæ¥æé«˜æ•°æ®å­˜å‚¨å’ŒæŸ¥è¯¢çš„å¹¶å‘å¤„ç†èƒ½åŠ›ã€‚</div>\n<div><strong>10ã€æ•°æ®åº“ä¼˜åŒ–</strong></div>\n<div>ä¼˜åŒ–æ•°æ®åº“çš„è®¾è®¡ã€ç´¢å¼•ã€æŸ¥è¯¢è¯­å¥ç­‰ï¼Œæé«˜æ•°æ®åº“çš„è¯»å†™æ€§èƒ½ã€‚</div>\n<div>ç»¼åˆè¿ç”¨ä¸Šè¿°é«˜å¹¶å‘æ¶æ„è§£å†³æ–¹æ¡ˆï¼Œéƒ½å¯ä»¥æ„å»ºå‡ºå…·æœ‰é«˜æ€§èƒ½ã€é«˜å¯ç”¨å’Œå¯æ‰©å±•æ€§çš„ç³»ç»Ÿï¼Œæ»¡è¶³å¤§é‡å¹¶å‘è¯·æ±‚çš„éœ€æ±‚ã€‚</div>\n</div>\n</div>\n<div>&nbsp;</div>\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-09 09:14</span>&nbsp;\n<a href=\"https://www.cnblogs.com/philry\">å¤§èŠ’æœ2ç‚¹0</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">139</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">1</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "GISä¸­çš„â€œé«˜åº¦â€åˆ°åº•æŒ‡ä»€ä¹ˆï¼Ÿä¸€æ–‡å˜æ¸…æ­£é«˜ã€æ­£å¸¸é«˜ä¸å¤§åœ°é«˜çš„åŒºåˆ«",
      "link": "https://www.cnblogs.com/charlee44/p/19458808",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/charlee44/p/19458808\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-08 21:56\">\n    <span>GISä¸­çš„â€œé«˜åº¦â€åˆ°åº•æŒ‡ä»€ä¹ˆï¼Ÿä¸€æ–‡å˜æ¸…æ­£é«˜ã€æ­£å¸¸é«˜ä¸å¤§åœ°é«˜çš„åŒºåˆ«</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                    <div id=\"cnblogs_post_description\" style=\"display: none;\">\n        \n        æ·±å…¥è§£æ GIS ä¸­é«˜ç¨‹å‚è€ƒç³»ç»Ÿçš„æ ¸å¿ƒæ¦‚å¿µâ€”â€”å¤§åœ°æ°´å‡†é¢ã€ä¼¼å¤§åœ°æ°´å‡†é¢ä¸å‚è€ƒæ¤­çƒé¢çš„å…³ç³»ï¼Œå˜æ¸…æ­£é«˜ã€æ­£å¸¸é«˜ä¸å¤§åœ°é«˜çš„åŒºåˆ«åŠè½¬æ¢æ–¹æ³•ï¼Œå¹¶ä»‹ç»æˆ‘å›½é«˜ç¨‹åŸºå‡†ä¸å…¨çƒé‡åŠ›æ¨¡å‹ã€‚\n    </div>\n<div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<blockquote>\n<p><strong>èŠ‚é€‰è‡ªã€ŠGISåŸºç¡€åŸç†ä¸æŠ€æœ¯å®è·µã€‹ç¬¬2ç«  åœ°ç†ç©ºé—´å‚è€ƒç³»ç»Ÿ</strong><br />\nä½œè€…åŸåˆ›å†…å®¹ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>\n</blockquote>\n<p><img alt=\"GISåŸºç¡€åŸç†ä¸æŠ€æœ¯å®è·µ\" class=\"lazyload\" /></p>\n<h2 id=\"23-é«˜ç¨‹å‚è€ƒç³»ç»Ÿ\">2.3 é«˜ç¨‹å‚è€ƒç³»ç»Ÿ</h2>\n<p>ä½¿ç”¨ç»åº¦å’Œçº¬åº¦è¡¨ç¤ºçš„åœ°ç†åæ ‡ç³»æ˜¯ä¸€ç§æ°´å¹³åæ ‡ç³»ç»Ÿï¼ˆè¿™é‡Œçš„æ°´å¹³åæ ‡ç³»ç»Ÿå¹¶ä¸è¡¨ç¤ºå…¶å°±æ˜¯å¹³é¢åæ ‡ç³»çš„æ„æ€ï¼Œæ›´å‡†ç¡®çš„å«ä¹‰æ˜¯å…¶è¡¨è¾¾äº†ä¸‰ç»´ç©ºé—´åæ ‡ç³»çš„ä¸¤ä¸ªç»´åº¦ï¼‰ï¼Œç¼ºå°‘å¯¹äºç¬¬ä¸‰ç»´åº¦ä¹Ÿå°±æ˜¯é«˜ç¨‹çš„å‚è€ƒï¼Œä¹Ÿå°±æ˜¯æœ¬èŠ‚æˆ‘ä»¬è¦ä»‹ç»çš„ï¼šé«˜ç¨‹å‚è€ƒç³»ç»Ÿã€‚é«˜ç¨‹å‚è€ƒç³»ç»Ÿæ˜¯ä¸€ç§å‚ç›´åæ ‡ç³»ã€‚</p>\n<h3 id=\"231-å¤§åœ°æ°´å‡†é¢\">2.3.1 å¤§åœ°æ°´å‡†é¢</h3>\n<p>æˆ‘ä»¬çŸ¥é“ï¼Œå‚è€ƒæ¤­çƒä½“æ˜¯å¯¹åœ°çƒè¡¨é¢çš„ä¸€ç§é€¼è¿‘ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå‚è€ƒæ¤­çƒä½“æ˜¯ç”¨å–œé©¬æ‹‰é›…å±±æ‰€åœ¨çš„é«˜åº¦è¿›è¡Œé€¼è¿‘ï¼Œè¿˜æ˜¯ä»¥é©¬é‡Œäºšçº³æµ·æ²Ÿçš„é«˜åº¦è¿›è¡Œé€¼è¿‘ï¼Ÿç­”æ¡ˆè‚¯å®šéƒ½ä¸æ˜¯ã€‚å…¶å®ï¼Œè¿™å…¶ä¸­è¿˜éšè—äº†å¦ä¸€ä¸ªé€¼åœ°çƒè‡ªç„¶è¡¨é¢çš„å‚è€ƒé¢ï¼Œé‚£å°±æ˜¯æœ¬èŠ‚æˆ‘ä»¬è¦è®²çš„â€”â€”å¤§åœ°æ°´å‡†é¢ï¼ˆGeoidï¼‰ã€‚</p>\n<p>åœ°ç†åæ ‡ç³»çš„ç¬¬ä¸‰ç»´åº¦é€šå¸¸ä½¿ç”¨æµ·æ‹”é«˜åº¦ï¼ˆElevationï¼‰ï¼Œè€Œä¸æ˜¯åˆ°çƒå¿ƒçš„è·ç¦»ã€‚ç„¶è€Œé—®é¢˜åœ¨äºï¼Œé«˜åº¦çš„å€¼æ˜¯ä¸€ä¸ªç›¸å¯¹é‡ï¼Œéœ€è¦ä¸€ä¸ªèµ·ç®—ç‚¹ã€‚å¹¶ä¸”ï¼Œè¿™ä¸ªé«˜åº¦å¿…é¡»æ²¿ç€é‡åŠ›æ–¹å‘ï¼ˆé“…é”¤æ–¹å‘ï¼‰æ‰æœ‰ç‰©ç†æ„ä¹‰ï¼ˆæƒ³ä¸€æƒ³ä¸ºä»€ä¹ˆå»ºç­‘ç‰©æ€»æ˜¯è¦ä¿®çš„ä¸åœ°é¢å‚ç›´ï¼‰ã€‚æˆ‘ä»¬è¯´åˆ°â€œæµ·æ‹”â€è¿™ä¸ªåè¯ï¼Œå°±ä¼šè”æƒ³åˆ°é«˜åº¦çš„å€¼åº”è¯¥æ˜¯ä¸€ä¸ªç›®æ ‡åœ°ç‰©è·ç¦»æµ·å¹³é¢çš„é«˜å·®ã€‚äº‹å®ä¹Ÿç¡®å®å¦‚æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¸€ä¸ªå¹³å‡æµ·å¹³é¢ä½œä¸ºé«˜ç¨‹çš„èµ·ç®—ç‚¹ï¼Œå¹¶ä¸”å‡è®¾è¿™ä¸ªæµ·å¹³é¢å®Œå…¨é™æ­¢ï¼Œå¹¶ä¸”å»¶ä¼¸åˆ°æ‰€æœ‰å¤§é™†ä¸‹éƒ¨ï¼Œç”Ÿæˆäº†ä¸€ä¸ªå¯†é—­çš„æ›²é¢â€”â€”è¿™ä¸ªæ›²é¢å°±æ˜¯å¤§åœ°æ°´å‡†é¢ã€‚</p>\n<p>ä¸å‚è€ƒæ¤­çƒé¢ä¸åŒçš„æ˜¯ï¼Œå‚è€ƒæ¤­çƒé¢æ˜¯æ•°å­¦æ¨¡å‹å¾—åˆ°çš„ï¼Œå¤„å¤„å¹³æ»‘ä¸”å¹³æ•´ï¼›è€Œå¤§åœ°æ°´å‡†é¢è™½ç„¶å¹³æ»‘ä½†ä¸å¹³æ•´ï¼Œæ˜¯ä¸€ä¸ªä¸è§„åˆ™ä½†è¿ç»­çš„é—­åˆæ›²é¢ã€‚è¿™å…¶ä¸­çš„åŸå› åœ¨äºï¼Œåœ°çƒè´¨é‡åˆ†å¸ƒä¸å‡åŒ€ï¼Œé€ æˆåœ°çƒçš„å¼•åŠ›åœºä¹Ÿæ˜¯åˆ†å¸ƒä¸å‡çš„ã€‚å‡è®¾åœ°çƒçƒä½“å®Œå…¨è¢«æ°´è¦†ç›–ï¼Œæ°´çš„é«˜åº¦ä¹Ÿä¸ä¼šæ˜¯å®Œå…¨ä¸€æ ·ï¼šåœ¨åœ°çƒå±€éƒ¨å¯†åº¦æ›´å¤§çš„åœ°æ–¹ï¼Œåœ°çƒæ–½åŠ çš„å¼•åŠ›å°±ä¼šè¶Šå¤§ï¼Œé€ æˆæ°´ä½è¶Šé«˜ã€‚æ¢å¥è¯è¯´ï¼Œå¤§åœ°æ°´å‡†é¢æ˜¯ä¸€ä¸ªé‡åŠ›ç­‰åŠ¿é¢ï¼Œé‡åŠ›æ–¹å‘ï¼ˆé“…å‚æ–¹å‘ï¼‰åœ¨å…¶ä»»ä½•åœ°æ–¹éƒ½ä¸å…¶è¡¨é¢å‚ç›´ï¼›ç”±äºè´¨é‡ï¼ˆå¼•åŠ›ï¼‰ä¸å‡ï¼Œæ¯ä¸ªä½ç½®çš„é“…å‚æ–¹å‘ä¸ä¸€æ ·ï¼Œç»“æœå°±æ˜¯å¤§åœ°æ°´å‡†é¢å¹¶ä¸å¹³æ•´ã€‚å¦‚ä¸‹å›¾2.8æ‰€ç¤ºã€‚</p>\n<p><img alt=\"å›¾2.8 å¤§åœ°æ°´å‡†é¢ä¸æ—‹è½¬æ¤­çƒä½“\" class=\"lazyload\" /></p>\n<h3 id=\"232-ä¸‰çº§é€¼è¿‘\">2.3.2 ä¸‰çº§é€¼è¿‘</h3>\n<p>ç°åœ¨æˆ‘ä»¬å·²ç»æœ‰äº†å¤§åœ°æ°´å‡†é¢ã€å‚è€ƒæ¤­çƒé¢å’Œå¤§åœ°åŸºå‡†é¢ã€‚é‚£ä¹ˆå®ƒä»¬çš„å…³ç³»æ˜¯å¦‚ä½•å‘¢ï¼Ÿç®€å•æ¥è¯´ï¼Œå®ƒä»¬å…±åŒç»„æˆäº†å¯¹åœ°çƒè‡ªç„¶è¡¨é¢çš„ä¸‰çº§é€¼è¿‘ã€‚</p>\n<ul>\n<li>å¤§åœ°æ°´å‡†é¢æ˜¯å¯¹åœ°çƒè‡ªç„¶è¡¨é¢çš„ç¬¬ä¸€çº§é€¼è¿‘ã€‚å¤§åœ°æ°´å‡†é¢é€šè¿‡é‡åŠ›ç­‰åŠ¿ï¼Œç¡®å®šäº†ä¸€ä¸ªé«˜ç¨‹èµ·ç®—é¢ï¼Œå®ƒè¿œæ¯”åœ°çƒè‡ªç„¶è¡¨é¢å¹³æ•´å¾—å¤šï¼Œä½†æ˜¯ä¸æ˜¯å®Œå…¨å¹³æ•´ã€‚åœ°çƒè‡ªç„¶è¡¨é¢å…·æœ‰ä»ç ç©†æœ—ç›å³°ï¼ˆ+8800ç±³ï¼‰åˆ°é©¬é‡Œäºšçº³æµ·æ²Ÿï¼ˆ-11,000ç±³ï¼‰çš„é«˜å·®ï¼Œä½†å¤§åœ°æ°´å‡†é¢ä¸å‚è€ƒæ¤­çƒé¢çš„åå·®èŒƒå›´ä¸è¶…è¿‡200mï¼ˆä»+85ç±³çš„å†°å²›åˆ°-106ç±³çš„å°åº¦å—éƒ¨ï¼‰ã€‚</li>\n<li>å‚è€ƒæ¤­çƒé¢æ˜¯å¯¹åœ°çƒè‡ªç„¶è¡¨é¢çš„ç¬¬äºŒçº§é€¼è¿‘ã€‚åœ°çƒè‡ªç„¶è¡¨é¢å’Œå¤§åœ°æ°´å‡†é¢éƒ½æ˜¯ä¸è§„åˆ™çš„æ›²é¢ï¼Œæ— æ³•é€šè¿‡æ•°å­¦æ¨¡å‹å¯¹å…¶è¿›è¡Œè¡¨è¾¾ï¼Œè¿™ä¹Ÿæ„å‘³ç€éš¾ä»¥å¯¹å…¶è¿›è¡Œæµ‹ç®—å’Œåˆ†æã€‚é€šè¿‡å°†å¤§åœ°æ°´å‡†é¢æ‹Ÿåˆæˆä¸€ä¸ªæ—‹è½¬æ¤­çƒä½“ï¼Œä½¿æˆ‘ä»¬å¯ä»¥å¯¹åœ°çƒè‡ªç„¶è¡¨é¢è¿›è¡Œç©ºé—´å‡ ä½•è®¡ç®—ã€‚å‚è€ƒæ¤­çƒé¢æ˜¯æµ‹é‡è®¡ç®—çš„åŸºå‡†é¢ã€‚</li>\n<li>å¤§åœ°åŸºå‡†é¢æ˜¯å¯¹åœ°çƒè‡ªç„¶è¡¨é¢çš„ç¬¬ä¸‰æé€¼è¿‘ã€‚å‚è€ƒæ¤­çƒä½“æ˜¯å¯¹åœ°çƒçƒä½“çš„æŠ½è±¡ï¼Œä½†å¤§åœ°åŸºå‡†é¢è§£å†³çš„æ˜¯è¿™ä¸ªå‚è€ƒæ¤­çƒä½“å¦‚ä½•æ‘†æ”¾çš„é—®é¢˜ï¼šå¤§åœ°åŸºå‡†é¢è¦ä¹ˆä¸åœ°çƒè‡ªç„¶è¡¨é¢çš„å±€éƒ¨åŒºåŸŸå…·æœ‰è¾ƒå¥½çš„é‡åˆåº¦ï¼Œä»¥ä¾¿è§£å†³å±€éƒ¨åŒºåŸŸç²¾åº¦çš„é—®é¢˜ï¼›è¦ä¹ˆè®©æ¤­çƒä½“ä¸­å¿ƒä½äºåœ°çƒè´¨å¿ƒï¼Œä»¥ä¾¿å…·æœ‰å…¨çƒèŒƒå›´å¯ä½¿ç”¨çš„ä¾¿æ·æ€§ã€‚</li>\n</ul>\n<h3 id=\"233-é«˜ç¨‹ç³»ç»Ÿ\">2.3.3 é«˜ç¨‹ç³»ç»Ÿ</h3>\n<h4 id=\"1-ä¼¼å¤§åœ°æ°´å‡†é¢\">1 ä¼¼å¤§åœ°æ°´å‡†é¢</h4>\n<p>å¦‚å‰æ‰€è¿°ï¼Œå¤§åœ°æ°´å‡†é¢ç¡®å®šäº†é«˜ç¨‹çš„èµ·ç®—é¢ã€‚é‚£ä¹ˆï¼Œåœ°çƒè¡¨é¢ä¸Šä¸€ç‚¹åˆ°å¤§åœ°æ°´å‡†é¢å¿…ç„¶æœ‰ä¸€ä¸ªé«˜åº¦ï¼Œè¿™ä¸ªé«˜åº¦å°±æ˜¯æ­£é«˜ï¼ˆOrthometric Heightï¼‰ã€‚æ­£é«˜å°±æ˜¯æˆ‘ä»¬é€šå¸¸æ„ä¹‰ä¸Šæ‰€è¯´çš„æµ·æ‹”æˆ–è€…æµ·æ‹”é«˜åº¦ï¼Œä¹Ÿå«åšé«˜ç¨‹ï¼ˆElevationï¼‰ã€‚è¿™ä¸ªé«˜ç¨‹ç³»ç»Ÿå°±æ˜¯æ­£é«˜ç³»ç»Ÿã€‚</p>\n<p>ç„¶è€Œï¼Œå¤§åœ°æ°´å‡†é¢çš„é—®é¢˜æ˜¯å…¶ä»…ä»…åªæ˜¯ä¸€ä¸ªç†æƒ³åŒ–çš„æ¨¡å‹ï¼Œæ˜¯ä¸èƒ½å‡†ç¡®æµ‹é‡çš„ã€‚å®¢è§‚åœ°è¯´ï¼Œå¤§åœ°æ°´å‡†é¢æ‰€å‡æƒ³çš„å¤§é™†ä¸‹éƒ¨çš„æµ·å¹³é¢æ— æ³•è¢«é‡æµ‹ï¼Œæ²¡æœ‰ç°å®æ„ä¹‰ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±å¼•å…¥äº†ä¸€ä¸ªæ•°å­¦è¾…åŠ©é¢ï¼šä¼¼å¤§åœ°æ°´å‡†é¢ï¼ˆQuasi-geoidï¼‰ã€‚ä¼¼å¤§åœ°æ°´å‡†é¢é‡‡ç”¨å¹³å‡æ­£å¸¸é‡åŠ›å€¼æ¥æ‹Ÿåˆæ°´å‡†é¢æ›²çº¿ï¼ˆå¤§åœ°æŸä¸€ç‚¹çš„é‡åŠ›å€¼æ— æ³•ç²¾ç¡®æ±‚å–ï¼‰ï¼Œå¯¼è‡´ä¸¤è€…åœ¨æµ·æ´‹ä¸Šå®Œå…¨é‡åˆï¼Œåœ¨å¤§é™†ä¸Šæœ‰2 ~ 4ç±³çš„å¾®å°å·®å¼‚ã€‚å¦‚æœä¸èƒ½ç†è§£ä¸è¦ç´§ï¼Œæˆ‘ä»¬å¯ä»¥å®šæ€§çš„ç†è§£ï¼šä¼¼å¤§åœ°æ°´å‡†é¢æ˜¯å¯¹å¤§åœ°æ°´å‡†é¢çš„æ•°å­¦è¿‘ä¼¼ï¼Œä¼¼å¤§åœ°æ°´å‡†é¢å¯ä»¥ç²¾ç¡®æ±‚å¾—ï¼Œå¤§åœ°æ°´å‡†é¢ä¸å¯ä»¥ç²¾ç¡®æ±‚å¾—ã€‚</p>\n<p>åŒæ ·çš„ï¼Œåœ°çƒè¡¨é¢ä¸Šä¸€ç‚¹åˆ°ä¼¼å¤§åœ°æ°´å‡†é¢ä¹Ÿæœ‰ä¸€ä¸ªé«˜åº¦ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªé«˜åº¦å«åšæ­£å¸¸é«˜ï¼ˆNormal heightï¼‰ï¼Œå…¶é«˜ç¨‹å°±æ˜¯æ­£å¸¸é«˜ç³»ç»Ÿã€‚æ­£å› ä¸ºä¼¼å¤§åœ°æ°´å‡†é¢æ˜¯å¤§åœ°æ°´å‡†é¢å¾—è¿‘ä¼¼ä¸”å¯æ±‚å–ï¼Œæ‰€ä»¥ä¸€èˆ¬ä½¿ç”¨æ­£å¸¸é«˜æ¥æ›¿ä»£æ­£é«˜ï¼Œæ­£å¸¸é«˜ç³»ç»Ÿç»“æœä¹Ÿå¯ä»¥ç§°ä¸ºæµ·æ‹”é«˜åº¦ã€‚æˆ‘å›½ç›®å‰é‡‡ç”¨çš„æ³•å®šé«˜ç¨‹ç³»ç»Ÿå°±æ˜¯æ­£å¸¸é«˜ç³»ç»Ÿã€‚</p>\n<p>æ­£é«˜å’Œæ­£å¸¸é«˜ï¼Œå¤§åœ°æ°´å‡†é¢å’Œä¼¼å¤§åœ°æ°´å‡†é¢çš„ç¤ºæ„å›¾å¦‚ä¸‹å›¾2.9æ‰€ç¤ºï¼š</p>\n<p><img alt=\"å›¾2.9 æ­£é«˜ã€æ­£å¸¸é«˜ä¸å¤§åœ°é«˜\" class=\"lazyload\" /></p>\n<h4 id=\"2-é«˜ç¨‹ç³»ç»Ÿ\">2 é«˜ç¨‹ç³»ç»Ÿ</h4>\n<p>å¦‚å›¾2.9ä¸­æ‰€ç¤ºï¼Œé™¤äº†æ­£é«˜ç³»ç»Ÿå’Œæ­£å¸¸é«˜ç³»ç»Ÿï¼Œè¿˜æœ‰ä¸€ç±»å¸¸ç”¨çš„é«˜ç¨‹ç³»ç»Ÿå°±æ˜¯å¤§åœ°é«˜ç³»ç»Ÿã€‚æ‰€è°“å¤§åœ°é«˜ï¼ŒæŒ‡çš„æ˜¯ä»¥å‚è€ƒæ¤­çƒé¢ä¸ºåŸºå‡†é¢çš„é«˜ç¨‹ç³»ç»Ÿï¼Œå…¶å€¼æ˜¯åœ°é¢ä¸Šä¸€ç‚¹æ²¿è¯¥ç‚¹çš„æ¤­çƒé¢æ³•çº¿åˆ°å‚è€ƒæ¤­çƒé¢çš„è·ç¦»ã€‚å¤§åœ°é«˜ä¹Ÿç§°ä¸ºæ¤­çƒé«˜ã€‚</p>\n<p>è™½ç„¶æˆ‘ä»¬ä¸€èˆ¬é‡‡ç”¨çš„é«˜ç¨‹ç³»ç»Ÿæ˜¯æ­£å¸¸é«˜ç³»ç»Ÿï¼Œä½†åœ¨å®é™…çš„ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæœ‰çš„æ—¶å€™çŸ¥é“æ­£å¸¸é«˜éœ€è¦è®¡ç®—å¤§åœ°é«˜ï¼Œæœ‰çš„æ—¶å€™åˆéœ€è¦é€šè¿‡å¤§åœ°é«˜æ¥è®¡ç®—æ­£å¸¸é«˜ã€‚ä¸€ä¸ªå¾ˆå…¸å‹çš„ä¾‹å­å°±æ˜¯ï¼ŒGPSï¼ˆGlobal Positioning Systemï¼Œå…¨çƒå®šä½ç³»ç»Ÿï¼‰è·å–çš„é«˜ç¨‹ä¸€èˆ¬æ˜¯å¤§åœ°é«˜ï¼Œé‚£ä¹ˆå¦‚ä½•å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„æ­£å¸¸é«˜å‘¢ï¼Ÿ</p>\n<p>å¦‚ä¸‹è¡¨2.4æ‰€è¿°ï¼Œå¯¹äºé«˜ç¨‹ç³»ç»Ÿä¸­å˜é‡ï¼Œæˆ‘ä»¬æœ‰å¦‚ä¸‹å®šä¹‰ï¼š</p>\n\n<table>\n<thead>\n<tr>\n<th style=\"text-align: center;\">ç¬¦å·</th>\n<th style=\"text-align: center;\">åç§°</th>\n<th style=\"text-align: center;\">å«ä¹‰</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\"><span class=\"math inline\">\\(H_n\\)</span></td>\n<td style=\"text-align: center;\">æ­£å¸¸é«˜ï¼ˆNormal Heightï¼‰</td>\n<td style=\"text-align: center;\">åœ°é¢ä¸Šä¸€ç‚¹æ²¿é‡åŠ›æ–¹å‘åˆ°ä¼¼å¤§åœ°æ°´å‡†é¢çš„è·ç¦»</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\"><span class=\"math inline\">\\(H_o\\)</span></td>\n<td style=\"text-align: center;\">æ­£é«˜ ï¼ˆOrthometric Heightï¼‰</td>\n<td style=\"text-align: center;\">åœ°é¢ä¸Šä¸€ç‚¹æ²¿é‡åŠ›æ–¹å‘åˆ°å¤§åœ°æ°´å‡†é¢çš„è·ç¦»</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\"><span class=\"math inline\">\\(H_g\\)</span></td>\n<td style=\"text-align: center;\">å¤§åœ°é«˜ï¼ˆGeodetic Heightï¼‰</td>\n<td style=\"text-align: center;\">åœ°é¢ä¸Šä¸€ç‚¹æ²¿æ¤­çƒé¢æ³•çº¿æ–¹å‘åˆ°å‚è€ƒæ¤­çƒé¢çš„è·ç¦»</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\"><span class=\"math inline\">\\(\\zeta\\)</span></td>\n<td style=\"text-align: center;\">é«˜ç¨‹å¼‚å¸¸ï¼ˆHeight Anomalyï¼‰</td>\n<td style=\"text-align: center;\">ä¼¼å¤§åœ°æ°´å‡†é¢åˆ°å‚è€ƒæ¤­çƒé¢çš„è·ç¦»</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\"><span class=\"math inline\">\\(N\\)</span></td>\n<td style=\"text-align: center;\">å¤§åœ°æ°´å‡†é¢å·®è·ï¼ˆGeoid Undulationï¼‰</td>\n<td style=\"text-align: center;\">å¤§åœ°æ°´å‡†é¢åˆ°å‚è€ƒæ¤­çƒé¢çš„è·ç¦»</td>\n</tr>\n</tbody>\n</table>\n<p>å°†å®ƒä»¬åœ¨ç¤ºæ„å›¾ä¸­æ ‡è¯†ï¼Œå¦‚ä¸‹å›¾2.10æ‰€ç¤ºï¼š<br />\n<img alt=\"å›¾2.10 æ­£é«˜ã€æ­£å¸¸é«˜ä¸å¤§åœ°é«˜\" class=\"lazyload\" /></p>\n<p>æ ¹æ®å›¾ç¤ºå¾ˆæ˜¾ç„¶å¯ä»¥å¾—åˆ°å¦‚ä¸‹å…¬å¼ï¼š</p>\n<p></p><div class=\"math display\">\\[H_g = H_n + \\zeta \\tag{2.6}\n\\]</div><p></p><p></p><div class=\"math display\">\\[H_g = H_o + N \\tag{2.7}\n\\]</div><p></p><p>å›åˆ°ä¹‹å‰æåˆ°çš„é—®é¢˜ï¼ŒGPSè·å–çš„é«˜ç¨‹ä¸ºå¤§åœ°é«˜<span class=\"math inline\">\\(H_g\\)</span>ï¼Œé‚£ä¹ˆå†é€šè¿‡å¤§åœ°æµ‹é‡çš„æ–¹æ³•ï¼Œå¯ä»¥ç²¾ç¡®ç¡®å®šé«˜ç¨‹å¼‚å¸¸<span class=\"math inline\">\\(\\zeta\\)</span>ï¼Œæ ¹æ®å…¬å¼2.6ï¼Œå¤§åœ°é«˜å‡å»é«˜ç¨‹å¼‚å¸¸å°±å¯ä»¥å¾—åˆ°æ­£å¸¸é«˜<span class=\"math inline\">\\(H_n\\)</span>ï¼Œæ­£å¸¸é«˜å¯ä»¥ç”¨æ¥ä»£æ›¿æ­£é«˜ï¼Œæ­£é«˜å³æœ€å¸¸ç”¨çš„æµ·æ‹”é«˜åº¦ã€‚åœ¨å®é™…çš„åº”ç”¨ä¸­ï¼Œæœ‰æ—¶éœ€è¦å¤§åœ°é«˜ï¼Œæœ‰æ—¶éœ€è¦æ­£å¸¸é«˜ï¼Œå¯æ ¹æ®ä¸Šè¿°å…¬å¼çµæ´»è½¬æ¢ã€‚</p>\n<h4 id=\"3-é«˜ç¨‹åŸºå‡†\">3 é«˜ç¨‹åŸºå‡†</h4>\n<p>å¦‚2.3.1èŠ‚æ‰€è¿°ï¼Œå¤§åœ°æ°´å‡†é¢ä½¿ç”¨ä¸€ä¸ªå‡æƒ³çš„å¹³å‡æµ·å¹³é¢ä½œä¸ºé«˜ç¨‹èµ·ç‚¹ï¼ˆåŸºå‡†ï¼‰ï¼Œè¿™ä¸ªå¹³å‡æµ·é¢å¯ä»¥é€šè¿‡åœ¨å„åœ°çš„éªŒæ½®ç«™è§‚æµ‹ã€è®¡ç®—ã€ç»¼åˆå¾—åˆ°ã€‚æˆ‘å›½æ ¹æ®å®é™…çš„è§‚æµ‹ç»“æœä¹‹ä¸Šï¼Œå»ºç«‹å¤šä¸ªé«˜ç¨‹åŸºå‡†é¢ï¼Œå…¶ä¸­æœ€å¸¸ç”¨çš„ä¸¤ä¸ªå›½å®¶é«˜ç¨‹åŸºå‡†æ˜¯ï¼š</p>\n<ul>\n<li>1956é»„æµ·é«˜ç¨‹åŸºå‡†ï¼Œæ°´å‡†åŸç‚¹é«˜ç¨‹72.289ç±³ã€‚</li>\n<li>1985å›½å®¶é«˜ç¨‹åŸºå‡†ï¼Œæ°´å‡†åŸç‚¹é«˜ç¨‹72.260ç±³ã€‚</li>\n</ul>\n<p>ç›®å‰ï¼Œ1985å›½å®¶é«˜ç¨‹åŸºå‡†å·²ç»å…¨éƒ¨æ›¿ä»£1956é»„æµ·é«˜ç¨‹åŸºå‡†ï¼Œä¹‹å‰æ‰€æœ‰ä½¿ç”¨1956é»„æµ·é«˜ç¨‹åŸºå‡†çš„é«˜ç¨‹ç»“æœéƒ½éœ€è¦é€šè¿‡ä¸‹å¼2.8è¿›è¡Œè½¬æ¢ï¼š</p>\n<p></p><div class=\"math display\">\\[H_{85} = H_{56} - 0.029\n\\]</div><p></p><p>æ­¤å¤–ï¼Œå›½é™…ä¸Šé€šç”¨çš„è¿˜æœ‰ç¾å›½å›½å®¶åœ°ç†ç©ºé—´æƒ…æŠ¥å±€ï¼ˆNational Geospatial-Intelligence Agencyï¼ŒNGAï¼‰å‘å¸ƒçš„EGMï¼ˆEarth Gravitational Modelsï¼Œåœ°çƒé‡åŠ›æ¨¡å‹ï¼‰å¤§åœ°æ°´å‡†é¢ã€‚è¿™ä¸ªå¤§åœ°æ°´å‡†é¢æ¨¡å‹æ˜¯ç»¼åˆåˆ©ç”¨ç°æœ‰å…¨çƒå¤§é‡é‡åŠ›æ•°æ®è®¡ç®—å‡ºæ¥çš„ï¼Œé€‚ç”¨äºå…¨çƒèŒƒå›´ã€‚ç›®å‰å·²ç»å‘å¸ƒäº†EGM84ã€EGM96ã€EGM2008å’ŒEGM2020å››ä¸ªç‰ˆæœ¬ã€‚</p>\n<hr />\n<p>æœ¬æ–‡èŠ‚é€‰è‡ªä½œè€…æ–°ä¹¦ã€ŠGISåŸºç¡€åŸç†ä¸æŠ€æœ¯å®è·µã€‹ç¬¬2ç« ã€‚ä¹¦ä¸­ç³»ç»Ÿè®²è§£ GIS æ ¸å¿ƒç†è®ºä¸å¤šè¯­è¨€å®æˆ˜ï¼Œé€‚åˆå¼€å‘è€…ä¸é«˜æ ¡å¸ˆç”Ÿã€‚</p>\n<p>ğŸ“š <strong>é…å¥—èµ„æºå¼€æº</strong>ï¼š<a href=\"https://github.com/fafa1899/GISBasic\" rel=\"noopener nofollow\" target=\"_blank\">GitHub</a> | <a href=\"https://gitcode.com/charlee44/GISBasic\" rel=\"noopener nofollow\" target=\"_blank\">GitCode</a></p>\n<p>ğŸ›’ <strong>æ”¯æŒæ­£ç‰ˆ</strong>ï¼š<a href=\"https://item.jd.com/14603137.html\" rel=\"noopener nofollow\" target=\"_blank\">äº¬ä¸œ</a>ï½œ<a href=\"https://product.dangdang.com/29988568.html\" rel=\"noopener nofollow\" target=\"_blank\">å½“å½“</a></p>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-08 21:56</span>&nbsp;\n<a href=\"https://www.cnblogs.com/charlee44\">charlee44</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">167</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨‹äº”ï¼šè‡ªç„¶è¯­è¨€å¤„ç†  ç¬¬ä¸€å‘¨ï¼šå¾ªç¯ç¥ç»ç½‘ç»œ ï¼ˆå››ï¼‰RNN ä¸­çš„æ¢¯åº¦ç°è±¡",
      "link": "https://www.cnblogs.com/Goblinscholar/p/19458774",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/Goblinscholar/p/19458774\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-08 21:37\">\n    <span>å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨‹äº”ï¼šè‡ªç„¶è¯­è¨€å¤„ç†  ç¬¬ä¸€å‘¨ï¼šå¾ªç¯ç¥ç»ç½‘ç»œ ï¼ˆå››ï¼‰RNN ä¸­çš„æ¢¯åº¦ç°è±¡</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<p>æ­¤åˆ†ç±»ç”¨äºè®°å½•å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨‹çš„å­¦ä¹ ç¬”è®°ã€‚<br />\nè¯¾ç¨‹ç›¸å…³ä¿¡æ¯é“¾æ¥å¦‚ä¸‹ï¼š</p>\n<ol>\n<li>åŸè¯¾ç¨‹è§†é¢‘é“¾æ¥ï¼š<a href=\"https://www.bilibili.com/video/BV1FT4y1E74V?buvid=XU762317353676D786954061C192FE625463B&amp;from_spmid=playlist.playlist-detail.0.0&amp;is_story_h5=false&amp;mid=zqernykrmpf7XfIorMR%2FnA%3D%3D&amp;plat_id=116&amp;share_from=ugc&amp;share_medium=android&amp;share_plat=android&amp;share_session_id=ce0bc526-db69-428a-962e-c65ed8c267bc&amp;share_source=COPY&amp;share_tag=s_i&amp;spmid=united.player-video-detail.0.0&amp;timestamp=1713085655&amp;unique_k=DfBgvFW&amp;up_id=8654113&amp;vd_source=e035e9878d32f414b4354b839a4c31a4\" rel=\"noopener nofollow\" target=\"_blank\">[åŒè¯­å­—å¹•]å´æ©è¾¾æ·±åº¦å­¦ä¹ deeplearning.ai</a></li>\n<li>githubè¯¾ç¨‹èµ„æ–™ï¼Œå«è¯¾ä»¶ä¸ç¬”è®°:<a href=\"https://github.com/robbertliu/deeplearning.ai-andrewNG\" rel=\"noopener nofollow\" target=\"_blank\">å´æ©è¾¾æ·±åº¦å­¦ä¹ æ•™å­¦èµ„æ–™</a></li>\n<li>è¯¾ç¨‹é…å¥—ç»ƒä¹ ï¼ˆä¸­è‹±ï¼‰ä¸ç­”æ¡ˆï¼š<a href=\"https://blog.csdn.net/u013733326/article/details/79827273\" rel=\"noopener nofollow\" target=\"_blank\">å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾åä¹ é¢˜ä¸ç­”æ¡ˆ</a></li>\n</ol>\n<p>æœ¬ç¯‡ä¸ºç¬¬äº”è¯¾çš„ç¬¬ä¸€å‘¨å†…å®¹ï¼Œ<a href=\"https://www.bilibili.com/video/BV1FT4y1E74V?spm_id_from=333.788.videopod.episodes&amp;vd_source=e035e9878d32f414b4354b839a4c31a4&amp;p=158\" rel=\"noopener nofollow\" target=\"_blank\">1.8</a>çš„å†…å®¹ä»¥åŠä¸€äº›ç›¸å…³åŸºç¡€çš„è¡¥å……ã€‚</p>\n<hr />\n<p>æœ¬å‘¨ä¸ºç¬¬äº”è¯¾çš„ç¬¬ä¸€å‘¨å†…å®¹ï¼Œä¸ CV ç›¸å¯¹åº”çš„ï¼Œè¿™ä¸€è¯¾æ‰€æœ‰å†…å®¹çš„ä¸­å¿ƒåªæœ‰ä¸€ä¸ªï¼š<strong>è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNatural Language Processingï¼ŒNLPï¼‰</strong>ã€‚<br />\nåº”ç”¨åœ¨æ·±åº¦å­¦ä¹ é‡Œï¼Œå®ƒæ˜¯ä¸“é—¨ç”¨æ¥è¿›è¡Œ<strong>æ–‡æœ¬ä¸åºåˆ—ä¿¡æ¯å»ºæ¨¡</strong>çš„æ¨¡å‹å’ŒæŠ€æœ¯ï¼Œæœ¬è´¨ä¸Šæ˜¯åœ¨å…¨è¿æ¥ç½‘ç»œä¸ç»Ÿè®¡è¯­è¨€æ¨¡å‹åŸºç¡€ä¸Šçš„ä¸€æ¬¡â€œç»“æ„åŒ–ç‰¹åŒ–â€ï¼Œä¹Ÿæ˜¯äººå·¥æ™ºèƒ½ä¸­<strong>æœ€è´´è¿‘äººç±»æ€ç»´è¡¨è¾¾æ–¹å¼</strong>çš„é‡è¦ç ”ç©¶æ–¹å‘ä¹‹ä¸€ã€‚<br />\n<strong>è¿™ä¸€æ•´èŠ‚è¯¾åŒæ ·æ¶‰åŠå¤§é‡éœ€è¦åå¤æ¶ˆåŒ–çš„å†…å®¹ï¼Œæ¨ªè·¨æœºå™¨å­¦ä¹ ã€æ¦‚ç‡ç»Ÿè®¡ã€çº¿æ€§ä»£æ•°ä»¥åŠè¯­è¨€å­¦ç›´è§‰ã€‚</strong><br />\nè¯­è¨€ä¸åƒå›¾åƒé‚£æ ·â€œç›´è§‚å¯è§â€ï¼Œæ›´å¤šæ˜¯æŠ½è±¡ç¬¦å·ä¸ä¸Šä¸‹æ–‡å…³ç³»çš„ç»„åˆï¼Œå› æ­¤<strong>ç†è§£é—¨æ§›åè€Œæ›´é«˜</strong>ã€‚<br />\nå› æ­¤ï¼Œæˆ‘åŒæ ·ä¼šå°½é‡è¡¥è¶³å¿…è¦çš„èƒŒæ™¯çŸ¥è¯†ï¼Œå°½å¯èƒ½ç”¨æ¯”å–»å’Œå®ä¾‹é™ä½ç†è§£éš¾åº¦ã€‚<br />\næœ¬ç¯‡çš„å†…å®¹å…³äº<strong>RNN ä¸­çš„æ¢¯åº¦ç°è±¡</strong>ï¼Œæ˜¯å¯¹ RNN ä¸­å­˜åœ¨çš„é—®é¢˜çš„é˜è¿°ï¼Œä¹Ÿæ˜¯å¯¹ä¹‹åçš„é—¨æ§æœºåˆ¶çš„å¼•å…¥å†…å®¹ã€‚</p>\n<h1 id=\"1-rnn-ä¸­çš„æ¢¯åº¦ç°è±¡\">1. RNN ä¸­çš„æ¢¯åº¦ç°è±¡</h1>\n<p>åœ¨å¾ˆä¹…ä¹‹å‰ï¼Œæˆ‘ä»¬å°±ä»‹ç»è¿‡æ·±åº¦å­¦ä¹ è®­ç»ƒä¸­çš„<a href=\"https://www.cnblogs.com/Goblinscholar/p/19190303\" target=\"_blank\">æ¢¯åº¦ç°è±¡</a>ï¼Œè¿™ç§æƒ…å†µä¸»è¦å‡ºç°åœ¨æ·±å±‚ç¥ç»ç½‘ç»œä¸­ï¼Œåœ¨åå‘ä¼ æ’­ä¸­éšç€å±‚å±‚çš„æ¢¯åº¦è®¡ç®—å¯¼è‡´æ¢¯åº¦è¿‡å¤§æˆ–è¿‡å°ï¼Œä»è€Œå‡ºç°æ¢¯åº¦çˆ†ç‚¸æˆ–è€…æ¢¯åº¦æ¶ˆå¤±ï¼Œå¯¼è‡´ç½‘ç»œæ— æ³•è®­ç»ƒã€‚<br />\nè€Œåœ¨ RNN ä¸­ï¼Œå³ä½¿æ˜¯æˆ‘ä»¬æ¼”ç¤ºè¿‡çš„å•å±‚ RNN ï¼Œä¹Ÿå¯èƒ½äº§ç”Ÿæ¢¯åº¦ç°è±¡ï¼Œè€Œä¸”è¿™ä¸€é—®é¢˜ä¼šæ˜¾å¾—<strong>æ›´åŠ éšè”½ï¼Œå´ä¹Ÿæ›´åŠ ä¸¥é‡</strong>ï¼Œå…¶åŸå› å°±åœ¨äº RNN çš„<strong>æ—¶é—´åå‘ä¼ æ’­</strong>ç‰¹æ€§ã€‚</p>\n<h2 id=\"11-rnn-çš„æ·±åº¦\">1.1 RNN çš„æ·±åº¦</h2>\n<p>é¦–å…ˆï¼Œæˆ‘ä»¬çŸ¥é“ï¼š<strong>RNN çš„â€œæ·±åº¦â€å¹¶ä¸ä½“ç°åœ¨ç©ºé—´ç»“æ„ä¸Šï¼Œè€Œæ˜¯ä½“ç°åœ¨æ—¶é—´ç»´åº¦ä¸Šã€‚</strong><br />\nå› æ­¤ï¼Œè™½ç„¶æˆ‘ä»¬ç”»å‡ºæ¥çš„ RNN çœ‹èµ·æ¥åªæœ‰ä¸€å±‚ï¼Œä½†åœ¨è®­ç»ƒæ—¶ï¼ŒRNN ä¼šåœ¨æ—¶é—´ç»´åº¦ä¸Šè¢«â€œå±•å¼€â€ä¸ºä¸€ä¸ª<strong>å…±äº«å‚æ•°çš„æ·±å±‚ç½‘ç»œ</strong>ï¼Œå°±åƒè¿™æ ·ï¼š<br />\n<img alt=\"image.png\" src=\"https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260108213552905-491823195.png\" /></p>\n<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœåºåˆ—é•¿åº¦ä¸º <span class=\"math inline\">\\(T\\)</span>ï¼Œé‚£ä¹ˆåœ¨åå‘ä¼ æ’­æ—¶ï¼Œæ¢¯åº¦å°±éœ€è¦æ²¿ç€æ—¶é—´è½´ï¼Œä»ç¬¬ <span class=\"math inline\">\\(T\\)</span> ä¸ªæ—¶åˆ»ä¸€è·¯åä¼ å›ç¬¬ <span class=\"math inline\">\\(1\\)</span> ä¸ªæ—¶åˆ»ã€‚<br />\néœ€è¦è¯´æ˜çš„æ˜¯ï¼Œè¿™é‡Œæ—¶é—´å±•å¼€çš„é•¿åº¦ <span class=\"math inline\">\\(T\\)</span> æŒ‡çš„æ˜¯ <strong>RNN åœ¨æ—¶é—´ç»´åº¦ä¸Šçš„é€’æ¨æ­¥æ•°</strong>ï¼Œåœ¨æˆ‘ä»¬ä»‹ç»çš„åŸºç¡€ RNN åœºæ™¯ä¸‹ï¼Œé€šå¸¸ç­‰åŒäºè¾“å…¥åºåˆ—çš„é•¿åº¦ <span class=\"math inline\">\\(T_x\\)</span>ï¼Œè€Œéç”Ÿæˆåºåˆ—çš„é•¿åº¦ <span class=\"math inline\">\\(T_y\\)</span>ã€‚<br />\næœ€ç»ˆï¼Œä»æ•ˆæœä¸Šçœ‹ï¼Œè¿™ç›¸å½“äºï¼š  <strong>åŒä¸€ç»„æƒé‡çŸ©é˜µè¢«åå¤ç›¸ä¹˜äº† <span class=\"math inline\">\\(T\\)</span> æ¬¡ã€‚</strong></p>\n<p>å› æ­¤ï¼Œåœ¨ RNN ä¸­ï¼Œæˆ‘ä»¬åŒæ ·æœ‰å¿…è¦äº†è§£è®­ç»ƒä¸­å‡ºç°æ¢¯åº¦ç°è±¡çš„å¤„ç†æ–¹æ³•ã€‚</p>\n<h2 id=\"12-æ¢¯åº¦çˆ†ç‚¸çš„å¤„ç†æ¢¯åº¦è£å‰ªgradient-clipping\">1.2 æ¢¯åº¦çˆ†ç‚¸çš„å¤„ç†ï¼šæ¢¯åº¦è£å‰ªï¼ˆGradient Clippingï¼‰</h2>\n<p>åœ¨ RNN çš„æ¢¯åº¦é—®é¢˜ä¸­ï¼Œ<strong>æ¢¯åº¦çˆ†ç‚¸é€šå¸¸æ˜¯æœ€å…ˆã€ä¹Ÿæ˜¯æœ€å®¹æ˜“è¢«è§‚å¯Ÿåˆ°çš„ç°è±¡</strong>ã€‚<br />\nå…¶è¡¨ç°éå¸¸ç›´è§‚ï¼šæŸå¤±å‡½æ•°åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å‰§çƒˆéœ‡è¡ï¼Œç”šè‡³ç›´æ¥å˜ä¸º NaNï¼Œå‚æ•°æ›´æ–°å®Œå…¨å¤±æ§ï¼Œæ¨¡å‹æ— æ³•ç»§ç»­è®­ç»ƒã€‚<br />\nä¸æ¢¯åº¦æ¶ˆå¤±ä¸åŒï¼Œæ¢¯åº¦çˆ†ç‚¸å¹¶ä¸æ˜¯â€œå­¦ä¸åˆ°â€ï¼Œè€Œæ˜¯ <strong>â€œå­¦å¾—å¤ªçŒ›â€</strong>ã€‚<br />\nå› æ­¤ï¼Œç›¸æ¯”æ¢¯åº¦æ¶ˆå¤±ï¼Œæ¢¯åº¦çˆ†ç‚¸é—®é¢˜æ›´å®¹æ˜“è¢«æ§åˆ¶å’Œç¼“è§£ã€‚è¿™å¾ˆå¥½ç†è§£ï¼šä¸œè¥¿å¤šäº†æˆ‘ä»¬å¯ä»¥æ‰”ï¼Œä½†å°‘äº†æˆ‘ä»¬ä¸èƒ½å‡­ç©ºåˆ›é€ å‡ºæ¥ã€‚<br />\nè€Œå…¶ä¸­ä¸€ç§æœ€å¸¸è§ã€ä¹Ÿæœ€ç›´æ¥çš„æ–¹æ³•ï¼Œå°±æ˜¯<strong>æ¢¯åº¦è£å‰ªï¼ˆGradient Clippingï¼‰</strong>ã€‚</p>\n<p>æ¢¯åº¦è£å‰ªçš„æ€æƒ³éå¸¸ç®€å•ï¼Œå¯ä»¥æ¦‚æ‹¬ä¸ºä¸€å¥è¯ï¼š</p>\n<blockquote>\n<p><strong>å½“æ¢¯åº¦è¿‡å¤§æ—¶ï¼Œä¸è®©å®ƒç»§ç»­æ”¾å¤§æ›´æ–°å¹…åº¦ã€‚</strong></p>\n</blockquote>\n<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¹¶ä¸è¯•å›¾æ”¹å˜æ¢¯åº¦çš„â€œæ–¹å‘â€ï¼Œè€Œåªæ˜¯<strong>é™åˆ¶æ¢¯åº¦çš„â€œå¤§å°â€</strong>ï¼Œä»è€Œé¿å…ä¸€æ¬¡å‚æ•°æ›´æ–°æ­¥é•¿è¿‡å¤§ï¼Œç ´åè®­ç»ƒç¨³å®šæ€§ã€‚</p>\n<p>å†æ‰“ä¸ªæ¯”æ–¹ï¼šåœ¨ä¸‹å¡éª‘è½¦æ—¶ï¼Œæˆ‘ä»¬çš„æ–¹å‘æ˜¯å¯¹çš„ï¼Œä½†é€Ÿåº¦å¤ªå¿«å®¹æ˜“æ‘”ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šè¿‡â€œåˆ¹è½¦â€æ¥æ§åˆ¶é£é™©ã€‚<br />\næ¢¯åº¦è£å‰ªï¼Œæœ¬è´¨ä¸Šå°±æ˜¯åå‘ä¼ æ’­é˜¶æ®µçš„â€œæ•°å€¼åˆ¹è½¦â€ã€‚</p>\n<p>åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œæœ€å¸¸è§çš„æ˜¯<strong>åŸºäºæ¢¯åº¦èŒƒæ•°ï¼ˆnormï¼‰çš„è£å‰ªæ–¹å¼</strong>ã€‚<br />\nè®¾æ‰€æœ‰å‚æ•°çš„æ¢¯åº¦æ‹¼æ¥æˆä¸€ä¸ªå‘é‡ <span class=\"math inline\">\\(g\\)</span>ï¼Œå…¶ <strong><span class=\"math inline\">\\(L_2\\)</span> èŒƒæ•°</strong>ä¸ºï¼š</p>\n<p></p><div class=\"math display\">\\[\\lVert g \\rVert_=\\sqrt{g_1^2 + g_2^2 + \\cdots + g_n^2}  \n\\]</div><p></p><p>æˆ‘ä»¬ç”¨ <strong><span class=\"math inline\">\\(L_2\\)</span> èŒƒæ•°</strong>è¡¡é‡æ¢¯åº¦çš„<strong>æ•´ä½“å¤§å°</strong>ï¼Œå®ƒåæ˜ çš„æ˜¯<strong>è¿™ä¸€æ¬¡åå‘ä¼ æ’­ä¸­ï¼Œå‚æ•°æ›´æ–°â€œæ€»ä½“æœ‰å¤šæ¿€è¿›â€</strong>ã€‚</p>\n<p>ä¸‹ä¸€æ­¥ï¼Œç»™å®šä¸€ä¸ª<strong>é˜ˆå€¼ <span class=\"math inline\">\\(c\\)</span></strong>ï¼Œæ¢¯åº¦è£å‰ªçš„è§„åˆ™æ˜¯ï¼š</p>\n<p></p><div class=\"math display\">\\[g =\n\\begin{cases}\ng, &amp; \\lVert g \\rVert \\le c \\\\\n\\dfrac{c}{\\lVert g \\rVert} \\, g, &amp; \\lVert g \\rVert &gt; c\n\\end{cases}\n\\]</div><p></p><p>ä¹Ÿå°±æ˜¯è¯´ï¼š</p>\n<ul>\n<li>å¦‚æœæ¢¯åº¦èŒƒæ•°åœ¨å¯æ¥å—èŒƒå›´å†…ï¼š<strong>ä¸åšä»»ä½•å¤„ç†ã€‚</strong></li>\n<li>å¦‚æœæ¢¯åº¦èŒƒæ•°è¶…è¿‡é˜ˆå€¼ï¼š<strong>æ•´ä½“ç¼©æ”¾ï¼Œä½¿å…¶èŒƒæ•°æ°å¥½ç­‰äº <span class=\"math inline\">\\(c\\)</span>ã€‚</strong></li>\n</ul>\n<p>è¿™æ ·æ“ä½œä¸‹æ¥ï¼Œä½ ä¼šå‘ç°ï¼š<strong>æ¢¯åº¦è£å‰ªå¹¶ä¸ä¼šæ”¹å˜æ¢¯åº¦å„åˆ†é‡ä¹‹é—´çš„ç›¸å¯¹æ¯”ä¾‹ï¼Œåªæ˜¯ç»Ÿä¸€ç¼©æ”¾å…¶å¤§å°åˆ°åˆé€‚ç¨‹åº¦ã€‚</strong></p>\n<p>è¿™æ ·ï¼Œåœ¨åå‘ä¼ æ’­ä¸­ï¼Œæ¢¯åº¦è£å‰ªå°±ä¼š<strong>é˜»æ–­â€œæŒ‡æ•°çº§æ”¾å¤§â€çš„æœ€åæƒ…å†µ</strong>ï¼Œ ä¿è¯å‚æ•°æ›´æ–°å§‹ç»ˆå¤„åœ¨ä¸€ä¸ªç¨³å®šåŒºé—´ï¼Œä»è€Œè®©è®­ç»ƒè¿‡ç¨‹â€œè‡³å°‘å¯ä»¥ç»§ç»­è¿›è¡Œä¸‹å»â€ã€‚<br />\n<img alt=\"image.png\" src=\"https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260108213603856-931372748.png\" /><br />\nè¦å¼ºè°ƒçš„æ˜¯ï¼šåœ¨å®é™…è®­ç»ƒä¸­æ—¶ï¼Œ<strong>æ¢¯åº¦è£å‰ªå‡ ä¹æ˜¯é»˜è®¤é…ç½®</strong>ï¼Œè€Œä¸æ˜¯å¯é€‰æŠ€å·§ã€‚</p>\n<p>ä½†æ˜¯ï¼Œæ¢¯åº¦è£å‰ªä¹Ÿæœ‰å…¶å±€é™æ€§ï¼š<strong>æ¢¯åº¦è£å‰ªåªèƒ½ç¼“è§£æ¢¯åº¦çˆ†ç‚¸ï¼Œæ— æ³•è§£å†³æ¢¯åº¦æ¶ˆå¤±ã€‚</strong><br />\nåŸå› å¾ˆç®€å•ï¼š</p>\n<ul>\n<li>æ¢¯åº¦çˆ†ç‚¸æ˜¯â€œæ•°å€¼è¿‡å¤§â€çš„é—®é¢˜ â†’ å¯ä»¥å¼ºè¡Œå‹ç¼©</li>\n<li>æ¢¯åº¦æ¶ˆå¤±æ˜¯â€œä¿¡å·æœ¬èº«æ¥è¿‘äº 0â€ â†’ è£å‰ªæ— èƒ½ä¸ºåŠ›</li>\n</ul>\n<p>å› æ­¤ï¼Œå¯¹äºæ¢¯åº¦æ¶ˆå¤±è¿™ä¸€æ›´å¸¸è§ä¹Ÿæ›´éš¾ç¼“è§£çš„æ¢¯åº¦ç°è±¡ï¼Œæˆ‘ä»¬éœ€è¦åˆ«çš„è§£å†³æ–¹æ¡ˆï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬ä¸‹é¢è¦è®¨è®ºçš„ä¸»è¦å†…å®¹ã€‚</p>\n<h1 id=\"2-rnn-ä¸­çš„æ¢¯åº¦æ¶ˆå¤±é•¿è·ç¦»ä¾èµ–é—®é¢˜\">2. RNN ä¸­çš„æ¢¯åº¦æ¶ˆå¤±ï¼šé•¿è·ç¦»ä¾èµ–é—®é¢˜</h1>\n<p>æˆ‘ä»¬çŸ¥é“ï¼Œ<a href=\"https://www.cnblogs.com/Goblinscholar/p/19449622\" target=\"_blank\">RNN</a> æ“…é•¿å¤„ç†åºåˆ—æ•°æ®ï¼Œå¹¶èƒ½å¤Ÿé€æ­¥ç§¯ç´¯å†å²ä¿¡æ¯ã€‚ç„¶è€Œï¼Œåœ¨é•¿åºåˆ—è®­ç»ƒä¸­ï¼Œæ¢¯åº¦æ¶ˆå¤±ä¼šè®©æ—©æœŸæ—¶é—´æ­¥çš„å½±å“è¢«é€æ¸â€œæŠ¹æ‰â€ï¼Œè¿™å°±å¯¼è‡´äº†è‘—åçš„ <strong>é•¿è·ç¦»ä¾èµ–é—®é¢˜</strong>ï¼šæ¨¡å‹éš¾ä»¥æ•æ‰åºåˆ—ä¸­ç›¸éš”è¾ƒè¿œçš„ä¿¡æ¯ã€‚<br />\næˆ‘ä»¬ç”¨ä¹‹å‰çš„åå‘ä¼ æ’­ä¾‹å­æ¥æ¼”ç¤ºä¸€ä¸‹è¿™ä¸ªé—®é¢˜ï¼š<br />\n<img alt=\"image.png\" src=\"https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260108213553401-1851089098.png\" /><br />\næ³¨æ„æˆ‘ä»¬æ ‡çº¢çš„å­—ä½“ï¼š<strong>å½“åºåˆ—è¿‡é•¿æ—¶ï¼Œä¸ç»“å°¾è·ç¦»å¾ˆè¿œçš„æœ€åˆå‡ æ­¥ä¿¡æ¯å¾ˆéš¾å®ç°æœ‰æ•ˆæ›´æ–°ã€‚å› æ­¤æ¢¯åº¦å·²ç»åœ¨å±‚å±‚è¿ä¹˜ä¸­æ‰€å‰©æ— å‡ äº†ã€‚</strong><br />\nè¿™æ ·å¸¦æ¥çš„åæœæ˜¯ä»€ä¹ˆï¼Ÿæ¥çœ‹çœ‹ï¼š<br />\n<img alt=\"image.png\" src=\"https://img2024.cnblogs.com/blog/3708248/202601/3708248-20260108213555854-2054969424.png\" /></p>\n<p>è¿™å°±æ˜¯ RNN ä¸­çš„æ¢¯åº¦æ¶ˆå¤±ç°è±¡ï¼Œ<strong>å®ƒç›´æ¥å¯¼è‡´ RNN éš¾ä»¥æ•æ‰åºåˆ—ä¸­ç›¸éš”è¾ƒè¿œçš„ä¾èµ–å…³ç³»</strong>ï¼Œæ˜¾ç„¶ï¼Œè¿™å¯¹æ¨¡å‹æ€§èƒ½çš„å½±å“æ˜¯å·¨å¤§çš„ã€‚</p>\n<p>é‚£ä¹ˆå¦‚ä½•ç¼“è§£ RNN ä¸­çš„æ¢¯åº¦æ¶ˆå¤±ç°è±¡ï¼Ÿ<br />\nä½ å¯èƒ½æƒ³åˆ°äº†æˆ‘ä»¬ä¹‹å‰ä»‹ç»è¿‡çš„<a href=\"https://www.cnblogs.com/Goblinscholar/p/19359236\" target=\"_blank\">æ®‹å·®ç½‘ç»œ</a>ï¼Œå³é€šè¿‡åœ¨ RNN ä¸­å¼•å…¥<strong>æ®‹å·®è¿æ¥</strong>ï¼Œä¸ºæ¢¯åº¦æä¾›äº†ä¸€æ¡ç›´æ¥ä¼ é€’çš„é€šè·¯ï¼Œå¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šç¼“è§£æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ï¼Œä½¿æ·±å±‚æˆ–é•¿åºåˆ—çš„è®­ç»ƒæ›´åŠ ç¨³å®šã€‚è¿™çš„ç¡®æ˜¯ä¸€ç§å¯è¡Œçš„æ”¹è¿›æ–¹æ¡ˆã€‚ä½†æ®‹å·®è·¯å¾„è™½ç„¶æä¾›äº†æ¢¯åº¦ç›´é€šé€šé“ï¼Œä½†<strong>æ— æ³•è¿›è¡Œä¿¡æ¯é€‰æ‹©æ€§æ§åˆ¶</strong>ï¼Œå¯¹äºéå¸¸é•¿åºåˆ—ä»ç„¶å­˜åœ¨æ¢¯åº¦è¡°å‡ã€‚<br />\nå› æ­¤ï¼Œåœ¨ RNN ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ç§æ›´å¥½çš„æŠ€æœ¯ï¼š<strong>é—¨æ§æœºåˆ¶</strong>ï¼Œè¿™æ˜¯åœ¨å®é™…å®éªŒå’Œéƒ¨ç½²ä¸­æˆ‘ä»¬æ›´å¸¸ä½¿ç”¨çš„æ–¹æ³•ï¼Œå®ƒä¸ä»…èƒ½ä¿æŒæ¢¯åº¦ç¨³å®šä¼ é€’ï¼Œè¿˜èƒ½æ™ºèƒ½æ§åˆ¶ä¿¡æ¯æµã€‚<br />\nå…¶åŸç†è¾ƒä¸ºå¤æ‚ï¼Œæˆ‘ä»¬ç»è¿‡æœ¬ç¯‡çš„å¼•ç”¨ï¼Œåœ¨ä¸‹ä¸€ç¯‡æ¥è¯¦ç»†å±•å¼€å®ƒã€‚</p>\n<h1 id=\"3-æ€»ç»“\">3. æ€»ç»“</h1>\n<table>\n<thead>\n<tr>\n<th>æ¦‚å¿µ</th>\n<th>åŸç†</th>\n<th>æ¯”å–»</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>æ¢¯åº¦ç°è±¡ï¼ˆGradient Phenomenaï¼‰</strong></td>\n<td>åœ¨æ·±å±‚ç½‘ç»œæˆ– RNN çš„åå‘ä¼ æ’­ä¸­ï¼Œæ¢¯åº¦å¯èƒ½è¿‡å¤§æˆ–è¿‡å°ï¼Œå¯¼è‡´è®­ç»ƒä¸ç¨³å®šï¼Œå³æ¢¯åº¦çˆ†ç‚¸æˆ–æ¢¯åº¦æ¶ˆå¤±</td>\n<td>å°±åƒæ°´æµç®¡é“ï¼Œå¦‚æœæ°´å‹è¿‡å¤§ç®¡é“çˆ†è£‚ï¼Œæ°´å‹è¿‡å°åˆæ— æ³•è¾“é€æ°´</td>\n</tr>\n<tr>\n<td><strong>RNN çš„â€œæ·±åº¦â€</strong></td>\n<td>RNN åœ¨æ—¶é—´ç»´åº¦ä¸Šå±•å¼€ä¸ºå…±äº«å‚æ•°çš„æ·±å±‚ç½‘ç»œï¼Œæ¢¯åº¦éœ€è¦æ²¿æ—¶é—´è½´åå‘ä¼ æ’­ï¼Œè¿ç»­ä¹˜ä»¥æƒé‡çŸ©é˜µ <span class=\"math inline\">\\(T\\)</span> æ¬¡</td>\n<td>å¥½æ¯”ä¸€ä¸ªæ¥åŠ›èµ›ï¼Œæ¯ä¸€æ£’éƒ½å¿…é¡»ä¼ é€’èƒ½é‡ï¼Œæ¥åŠ›æ£’è¶Šå¤šï¼Œæ€»èƒ½é‡æŸè€—è¶Šå¤§</td>\n</tr>\n<tr>\n<td><strong>æ¢¯åº¦è£å‰ªï¼ˆGradient Clippingï¼‰</strong></td>\n<td>å½“æ¢¯åº¦èŒƒæ•°è¶…è¿‡é˜ˆå€¼ <span class=\"math inline\">\\(c\\)</span> æ—¶ï¼Œå¯¹æ¢¯åº¦æ•´ä½“ç¼©æ”¾ï¼Œä½¿å…¶èŒƒæ•°ç­‰äº <span class=\"math inline\">\\(c\\)</span>ï¼›ä¸æ”¹å˜æ¢¯åº¦æ–¹å‘ï¼Œåªè°ƒæ•´å¤§å°</td>\n<td>å°±åƒç»™è¿‡å¿«ä¸‹å¡çš„è½¦è£…åˆ¹è½¦ï¼Œä¿æŒå®‰å…¨é€Ÿåº¦</td>\n</tr>\n<tr>\n<td><strong>RNN çš„é•¿è·ç¦»ä¾èµ–é—®é¢˜</strong></td>\n<td>æ¢¯åº¦åœ¨å±‚å±‚è¿ä¹˜æˆ–é•¿åºåˆ—åå‘ä¼ æ’­ä¸­é€æ¸è¶‹è¿‘ 0ï¼Œæ—©æœŸæ—¶é—´æ­¥çš„å½±å“è¢«â€œæŠ¹æ‰â€ï¼Œå¯¼è‡´é•¿è·ç¦»ä¾èµ–éš¾ä»¥å­¦ä¹ </td>\n<td>åƒä¼ è¯æ¸¸æˆï¼Œä¿¡æ¯ç»è¿‡å¤ªå¤šäººï¼Œæœ€å¼€å§‹çš„è¯æ…¢æ…¢è¢«æ¨¡ç³Šç”šè‡³å¿˜æ‰</td>\n</tr>\n</tbody>\n</table>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-08 21:37</span>&nbsp;\n<a href=\"https://www.cnblogs.com/Goblinscholar\">å“¥å¸ƒæ—å­¦è€…</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">143</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    }
  ]
}