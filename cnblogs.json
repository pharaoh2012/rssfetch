{
  "title": "ä¸»é¡µ - åšå®¢å›­",
  "link": "https://www.cnblogs.com/",
  "description": "ä¸»é¡µ - åšå®¢å›­ RSS",
  "entries": [
    {
      "title": "Volcano v1.14 é‡ç£…å‘å¸ƒï¼è¿ˆå‘ AI ç»Ÿä¸€è°ƒåº¦æ–°çºªå…ƒ",
      "link": "https://www.cnblogs.com/huaweiyun/p/19612682",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/huaweiyun/p/19612682\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-02-13 16:35\">\n    <span>Volcano v1.14 é‡ç£…å‘å¸ƒï¼è¿ˆå‘ AI ç»Ÿä¸€è°ƒåº¦æ–°çºªå…ƒ</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body blogpost-body-html\" id=\"cnblogs_post_body\">\n<p>æœ¬æ–‡åˆ†äº«è‡ªåä¸ºäº‘ç¤¾åŒºã€Š<a href=\"https://bbs.huaweicloud.com/blogs/474065?utm_source=zhihu&amp;utm_medium=bbs-ex&amp;utm_campaign=other&amp;utm_content=content\" rel=\"noopener nofollow\" target=\"_blank\">Volcano v1.14 é‡ç£…å‘å¸ƒï¼è¿ˆå‘ AI ç»Ÿä¸€è°ƒåº¦æ–°çºªå…ƒ</a>ã€‹</p>\n<p>åŒ—äº¬æ—¶é—´2026å¹´1æœˆï¼Œ<strong>Volcano</strong>[1] v1.14 æ­£å¼å‘å¸ƒã€‚éšç€ AI ä¸šåŠ¡å½¢æ€ä»å•ä¸€çš„ç¦»çº¿è®­ç»ƒå‘åœ¨çº¿æ¨ç†ã€Agent æ™ºèƒ½ä½“ç­‰å¤šå…ƒåŒ–åœºæ™¯å»¶ä¼¸ï¼Œè°ƒåº¦ç³»ç»Ÿé¢ä¸´ç€å‰æ‰€æœªæœ‰çš„æŒ‘æˆ˜ã€‚<strong>v1.14</strong>[2] é€šè¿‡æ¶æ„çº§çš„åˆ›æ–°ï¼Œåœ¨ä¿æŒå¤§è§„æ¨¡æ‰¹é‡è®¡ç®—ä¼˜åŠ¿çš„åŒæ—¶ï¼Œè¡¥é½äº†å¯¹å»¶è¿Ÿæ•æ„Ÿå‹ä¸šåŠ¡çš„è°ƒåº¦çŸ­æ¿ï¼Œå‘ç€ <strong>â€œAIè®­æ¨ã€RLã€Agentå…¨åœºæ™¯ç»Ÿä¸€è°ƒåº¦å¹³å°â€</strong> çš„ç›®æ ‡è¿ˆå‡ºäº†åšå®ä¸€æ­¥ã€‚</p>\n<p><img alt=\"download\" class=\"lazyload\" /></p>\n<h1><span class=\"prefix\"><span class=\"content\"><strong>ç‰ˆæœ¬äº®ç‚¹</strong></span></span></h1>\n<p>v1.14.0 ç‰ˆæœ¬å¸¦æ¥ä»¥ä¸‹é‡ç£…æ›´æ–°ï¼š</p>\n<p><strong>ç»Ÿä¸€è°ƒåº¦å¹³å°æ¶æ„</strong></p>\n<ul>\n<li>å¤šè°ƒåº¦å™¨æ¶æ„å‡çº§ï¼šåŠ¨æ€èŠ‚ç‚¹åˆ†ç‰‡æœºåˆ¶ (Alpha)</li>\n<li>AI Agent å·¥ä½œè´Ÿè½½æé€Ÿè°ƒåº¦èƒ½åŠ› (Alpha)</li>\n</ul>\n<p><strong>ç½‘ç»œæ‹“æ‰‘æ„ŸçŸ¥è°ƒåº¦å¢å¼º</strong></p>\n<ul>\n<li>HyperNode çº§ Binpack ç­–ç•¥</li>\n<li>SubGroup çº§ç²¾ç»†åŒ–æ‹“æ‰‘æ„ŸçŸ¥</li>\n<li>PodGroup ä¸ SubGroup å¤šå±‚çº§ Gang Scheduling</li>\n<li>Volcano Job åˆ†åŒºæ”¯æŒ</li>\n</ul>\n<p><strong>æ··éƒ¨èƒ½åŠ›å¢å¼º</strong></p>\n<ul>\n<li>å…¨é¢æ”¯æŒé€šç”¨æ“ä½œç³»ç»Ÿï¼ˆUbuntuã€CentOS ç­‰ï¼‰</li>\n<li>Cgroup V2 å…¨é¢é€‚é…</li>\n<li>CPU åŠ¨æ€å‹åˆ¶</li>\n<li>åŸºäº Cgroup V2 çš„å†…å­˜ QoS</li>\n<li>æ”¯æŒ CPU Burst</li>\n<li>æ”¯æŒ systemd driver è‡ªåŠ¨æ£€æµ‹</li>\n</ul>\n<p><strong>å¼‚æ„ç¡¬ä»¶æ”¯æŒ</strong></p>\n<ul>\n<li>æ˜‡è…¾ vNPU è°ƒåº¦ï¼ˆæ”¯æŒ MindCluster å’Œ HAMi æ¨¡å¼ï¼‰</li>\n</ul>\n<p><strong>Volcano Global å¢å¼º</strong></p>\n<ul>\n<li>HyperJob å¤šé›†ç¾¤ä½œä¸šè‡ªåŠ¨æ‹†åˆ†</li>\n<li>æ•°æ®æ„ŸçŸ¥å¤šé›†ç¾¤è°ƒåº¦</li>\n</ul>\n<p><strong>Volcano Dashboard å¢å¼º</strong></p>\n<ul>\n<li>PodGroup å…¨æ™¯å¯è§†åŒ–</li>\n<li>Job / Queue å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†</li>\n</ul>\n<h2><span class=\"prefix\"><span class=\"content\"><strong>å¤šè°ƒåº¦å™¨æ¶æ„å‡çº§ï¼šåŠ¨æ€èŠ‚ç‚¹åˆ†ç‰‡æœºåˆ¶ (Alpha)</strong></span></span></h2>\n<p>éšç€ Volcano æ‰¿è½½çš„å·¥ä½œè´Ÿè½½ç±»å‹æ—¥ç›Šä¸°å¯Œã€è§„æ¨¡æŒç»­æ‰©å¤§ï¼Œå•ä¸€è°ƒåº¦å™¨æ¶æ„é€æ¸æ˜¾éœ²ç“¶é¢ˆã€‚æ‰¹é‡è®­ç»ƒã€AI Agentã€å¾®æœåŠ¡ç­‰ä¸åŒç±»å‹çš„å·¥ä½œè´Ÿè½½ï¼Œå¯¹è°ƒåº¦æ—¶å»¶ã€èµ„æºåˆ©ç”¨æ¨¡å¼çš„è¯‰æ±‚å„ä¸ç›¸åŒã€‚å•è°ƒåº¦å™¨éš¾ä»¥å…¼é¡¾ï¼Œè€Œé™æ€èµ„æºåˆ’åˆ†åˆä¼šé€ æˆåˆ©ç”¨ç‡ä½ä¸‹ã€‚<br />\næ–°å¼•å…¥çš„ Sharding Controller æ„å»ºäº†ä¸€å¥—å¯æ‰©å±•çš„å¤šè°ƒåº¦å™¨æ¶æ„ï¼Œèƒ½å¤Ÿæ ¹æ®é›†ç¾¤å®æ—¶çŠ¶æ€ï¼Œä¸ºæ¯ä¸ªè°ƒåº¦å™¨åŠ¨æ€è®¡ç®—å€™é€‰èŠ‚ç‚¹æ± ã€‚ä¸ä¼ ç»Ÿçš„é™æ€åˆ†åŒºä¸åŒï¼ŒSharding Controller é‡‡ç”¨åŠ¨æ€è®¡ç®—çš„æ–¹å¼åˆ’åˆ†èµ„æºï¼Œè€Œéå¼ºåˆ¶ç¡¬éš”ç¦»ã€‚è¿™ç§çµæ´»æœºåˆ¶è®© Volcano çœŸæ­£æˆä¸º\"ä¸€ä¸ªå¹³å°è°ƒåº¦æ‰€æœ‰è´Ÿè½½\"çš„ç»Ÿä¸€è°ƒåº¦å¹³å°ï¼ŒåŒæ—¶ä¿æŒé«˜ååã€ä½æ—¶å»¶ã€‚<br />\n</p>\n<p><strong>æ ¸å¿ƒèƒ½åŠ›</strong>ï¼š</p>\n<ul>\n<li><strong>åŠ¨æ€åˆ†ç‰‡ç­–ç•¥</strong>ï¼šæ”¯æŒå¤šç§ç­–ç•¥æ¥è®¡ç®—åŠ¨æ€å€™é€‰èŠ‚ç‚¹æ± ã€‚å½“å‰ç‰ˆæœ¬ç‡å…ˆæ”¯æŒåŸºäº CPU åˆ©ç”¨ç‡çš„åˆ†ç‰‡ç­–ç•¥ï¼Œå¹¶é‡‡ç”¨äº†å¯æ‰©å±•çš„æ¶æ„è®¾è®¡ï¼Œä»¥ä¾¿æœªæ¥è½»æ¾é›†æˆæ›´å¤šåˆ†ç‰‡ç®—æ³•ã€‚</li>\n<li><strong>èŠ‚ç‚¹æ± åŒ–ç®¡ç†</strong>ï¼šå¼•å…¥ NodeShard CRDï¼Œä¸ºç‰¹å®šè°ƒåº¦å™¨ç®¡ç†ä¸“å±çš„åŠ¨æ€å€™é€‰èŠ‚ç‚¹æ± ã€‚</li>\n<li><strong>æ”¯æŒå¤§è§„æ¨¡é›†ç¾¤</strong>ï¼šé€šè¿‡åœ¨å¤šä¸ªè°ƒåº¦å™¨ä¹‹é—´çµæ´»åˆ†é…è´Ÿè½½ï¼Œå¤©ç„¶é€‚é…å¤§è§„æ¨¡é›†ç¾¤åœºæ™¯ã€‚</li>\n<li><strong>å¤šè°ƒåº¦å™¨ååŒ</strong>ï¼šæ”¯æŒå¤šç§è°ƒåº¦å™¨ç»„åˆçš„æ— ç¼åä½œã€‚æ— è®ºæ˜¯éƒ¨ç½²å¤šä¸ª Batch Scheduler è¿›è¡Œè´Ÿè½½åˆ†æ‹…ï¼Œè¿˜æ˜¯æ··åˆéƒ¨ç½² Agent Scheduler ä¸ Batch Scheduler ä»¥åº”å¯¹ä¸åŒä¸šåŠ¡éœ€æ±‚ï¼Œéƒ½èƒ½çµæ´»é€‚é…ã€‚</li>\n\n</ul>\n<p>é…ç½®ç¤ºä¾‹ï¼š</p>\n<div class=\"cnblogs_Highlighter\">\n<pre class=\"brush:csharp;gutter:true;\"># Sharding Controller å¯åŠ¨å‚æ•°\n--scheduler-configs=\"volcano:volcano:0.0:0.6:false:2:100,agent-scheduler:agent:0.7:1.0:true:2:100\"\n--shard-sync-period=60s\n--enable-node-event-trigger=true\n\n# å‚æ•°æ ¼å¼: name:type:min_util:max_util:prefer_warmup:min_nodes:max_nodes</pre>\n</div>\n<p>ç›¸å…³ PRï¼šhttps://github.com/volcano-sh/volcano/pull/4777<br />\nè®¾è®¡æ–‡æ¡£ï¼š<strong>Sharding Controller Design</strong>[3]<br />\næ„Ÿè°¢ç¤¾åŒºå¼€å‘è€…ï¼š@ssfffss, @Haoran, @qi-min</p>\n<h2><span class=\"prefix\"><span class=\"content\"><strong>AI Agent å·¥ä½œè´Ÿè½½æé€Ÿè°ƒåº¦ (Alpha)</strong></span></span></h2>\n<p>AI Agent ç±»ä¸šåŠ¡å¯¹æ—¶å»¶æåº¦æ•æ„Ÿï¼Œä»»åŠ¡åˆ›å»ºé¢‘ç¹ä¸”ç”Ÿå‘½å‘¨æœŸçŸ­ï¼Œå¯¹è°ƒåº¦å™¨çš„å“åº”é€Ÿåº¦å’Œååé‡æå‡ºäº†ä¸¥è‹›è¦æ±‚ã€‚åŸç”Ÿ Volcano Batch Scheduler ä¸“ä¸ºæ‰¹é‡è®¡ç®—è®¾è®¡ï¼ŒæŒ‰å›ºå®šå‘¨æœŸå¤„ç† Podï¼Œéš¾ä»¥æ»¡è¶³ Agent åœºæ™¯çš„æ¯«ç§’çº§å“åº”éœ€æ±‚ã€‚<br />\nä¸ºæ‰“é€ å…¼å®¹æ‰¹é‡è®¡ç®—ä¸å»¶è¿Ÿæ•æ„Ÿå‹ä¸šåŠ¡çš„ç»Ÿä¸€è°ƒåº¦å¹³å°ï¼Œv1.14 å¼•å…¥äº†ä¸“ç”¨çš„ <strong>Agent Scheduler</strong>ã€‚å®ƒé€šè¿‡ Sharding Controller ä¸æ‰¹é‡è°ƒåº¦å™¨ååŒå·¥ä½œï¼Œå„å¸å…¶èŒåˆæ— ç¼é…åˆï¼ŒçœŸæ­£å®ç°\"ä¸€ä¸ªå¹³å°ã€å¤šç§è´Ÿè½½\"ã€‚<br />\n</p>\n<p><strong>æ ¸å¿ƒèƒ½åŠ›</strong>ï¼š</p>\n<ul>\n<li><strong>æé€Ÿè°ƒåº¦é€šé“</strong>ï¼šä¸“ä¸ºå»¶è¿Ÿæ•æ„Ÿå‹è´Ÿè½½ï¼ˆå¦‚ AI Agentï¼‰æ‰“é€ çš„ç‹¬ç«‹è°ƒåº¦å™¨ï¼Œæä¾›æè‡´å“åº”é€Ÿåº¦ã€‚</li>\n<li><strong>å¤š Worker å¹¶è¡Œå¤„ç†</strong>ï¼šé‡‡ç”¨å¤š Worker å¹¶å‘æ¶ˆè´¹è°ƒåº¦é˜Ÿåˆ—çš„æ¶æ„ï¼Œå¤§å¹…æå‡è°ƒåº¦ååé‡ã€‚</li>\n<li><strong>ä¹è§‚å¹¶å‘æ§åˆ¶</strong>ï¼šå¼•å…¥ Conflict-Aware Binder æœºåˆ¶ï¼Œåœ¨å®é™…ç»‘å®šå‰é¢„å…ˆè§£å†³å†²çªï¼Œå‡å°‘æ— æ•ˆæ“ä½œã€‚</li>\n<li><strong>å¢å¼ºå‹è°ƒåº¦é˜Ÿåˆ—</strong>ï¼šä¼˜åŒ–é˜Ÿåˆ—æœºåˆ¶ï¼Œæ”¯æŒç´§æ€¥ä»»åŠ¡é‡è¯•ï¼Œç¡®ä¿å…³é”®ä»»åŠ¡ä¸é˜»å¡ã€‚</li>\n<li><strong>ç»Ÿä¸€å¹³å°èåˆ</strong>ï¼šé€šè¿‡ Sharding Controller ä¸æ‰¹é‡è°ƒåº¦å™¨æ— ç¼åä½œï¼Œå…±äº«é›†ç¾¤èµ„æºã€‚</li>\n\n</ul>\n<p>ç›¸å…³ PRï¼š</p>\n<p>https://github.com/volcano-sh/volcano/pull/4804,<br />\nhttps://github.com/volcano-sh/volcano/pull/4801,<br />\nhttps://github.com/volcano-sh/volcano/pull/4805<br />\nè®¾è®¡æ–‡æ¡£ï¼š<strong>Agent Scheduler Design</strong>[4]<br />\næ„Ÿè°¢ç¤¾åŒºå¼€å‘è€…ï¼š@qi-min, @JesseStutler, @handan-yxh</p>\n<h2><span class=\"prefix\"><span class=\"content\"><strong>ç½‘ç»œæ‹“æ‰‘æ„ŸçŸ¥è°ƒåº¦å¢å¼º</strong></span></span></h2>\n<p>Volcano v1.14.0 å¯¹ç½‘ç»œæ‹“æ‰‘æ„ŸçŸ¥è°ƒåº¦è¿›è¡Œäº†è¿›ä¸€æ­¥å¢å¼ºï¼Œæ»¡è¶³åˆ†å¸ƒå¼å·¥ä½œè´Ÿè½½ï¼ˆåŒ…æ‹¬ LLM è®­ç»ƒã€æ¨ç†ã€HPC å’Œå…¶ä»–ç½‘ç»œå¯†é›†å‹åº”ç”¨ï¼‰æ—¥ç›Šå¢é•¿çš„éœ€æ±‚ã€‚<br />\n</p>\n<p><strong>æ ¸å¿ƒå¢å¼º</strong>ï¼š</p>\n<ul>\n<li><strong>SubGroup çº§ç²¾ç»†åŒ–æ‹“æ‰‘æ„ŸçŸ¥</strong>ï¼šæ”¯æŒåœ¨ SubGroup / Partition ç²’åº¦è®¾ç½®ç½‘ç»œæ‹“æ‰‘çº¦æŸï¼Œè°ƒåº¦é¢—ç²’åº¦æ›´ç²¾ç»†ã€‚</li>\n<li><strong>çµæ´»çš„ç½‘ç»œå±‚çº§çº¦æŸ</strong>ï¼šæ–°å¢ highestTierNameï¼Œæ”¯æŒæŒ‰åç§°æŒ‡å®šå…è®¸è·¨è¶Šçš„æœ€é«˜ç½‘ç»œå±‚çº§ã€‚</li>\n<li><strong>å¤šå±‚çº§ Gang Scheduling</strong>ï¼šåŒæ—¶æ”¯æŒ PodGroup çº§åˆ«å’Œ SubGroup çº§åˆ«çš„ Gang Schedulingï¼Œç¡®ä¿åˆ†å¸ƒå¼ä»»åŠ¡çš„æ•´ä½“æ€§ã€‚</li>\n<li><strong>Volcano Job åˆ†åŒº</strong>ï¼šæ”¯æŒå°† Job æ‹†åˆ†ä¸ºå¤šä¸ªåˆ†åŒºï¼ˆPartitionï¼‰ï¼Œä¾¿äºç®¡ç† TP/PP/DP ç­‰å¹¶è¡Œç­–ç•¥ï¼Œå¹¶ä¼˜åŒ–ç½‘ç»œäº²å’Œæ€§ã€‚</li>\n<li><strong>HyperNode çº§ Binpacking</strong>ï¼šåœ¨ HyperNodeï¼ˆå¦‚äº¤æ¢æœºã€æœºæ¶ï¼‰å±‚çº§è¿›è¡Œèµ„æºè£…ç®±ï¼Œå‡å°‘ç½‘ç»œç¢ç‰‡ï¼Œæå‡é€šä¿¡æ•ˆç‡ã€‚</li>\n\n</ul>\n<p>é…ç½®ç¤ºä¾‹ - Volcano Jobï¼š</p>\n<div class=\"cnblogs_Highlighter\">\n<pre class=\"brush:csharp;gutter:true;\">apiVersion: batch.volcano.sh/v1alpha1\nkind: Job\nmetadata:\nname: llm-training-job\nspec:\nnetworkTopology:\nmode: hard\nhighestTierAllowed: 2 # æ•´ä¸ª Job æœ€å¤šè·¨è¶Š Tier 2 HyperNode\ntasks:\n- name: trainer\nreplicas: 8\npartitionPolicy:\ntotalPartitions: 2 # æ‹†åˆ†ä¸º 2 ä¸ªåˆ†åŒº\npartitionSize: 4 # æ¯ä¸ªåˆ†åŒº 4 ä¸ª Pod\nminPartitions: 2 # è‡³å°‘éœ€è¦ 2 ä¸ªåˆ†åŒº\nnetworkTopology:\nmode: hard\nhighestTierAllowed: 1 # å•ä¸ªåˆ†åŒºå¿…é¡»åœ¨ Tier 1 å†…\ntemplate:\nspec:\ncontainers:\n- name: trainer\nimage: training-image:v1\nresources:\nrequests:\nnvidia.com/gpu: 8</pre>\n</div>\n<p>ç›¸å…³ PRï¼š</p>\n<p>https://github.com/volcano-sh/volcano/pull/4721,<br />\nhttps://github.com/volcano-sh/volcano/pull/4810,<br />\nhttps://github.com/volcano-sh/volcano/pull/4795,<br />\nhttps://github.com/volcano-sh/volcano/pull/4785,<br />\nhttps://github.com/volcano-sh/volcano/pull/4889</p>\n<p>è®¾è®¡æ–‡æ¡£ï¼š<strong>Network Topology Aware Scheduling</strong>[5]<br />\næ„Ÿè°¢ç¤¾åŒºå¼€å‘è€…ï¼š@ouyangshengjia, @3sunny, @zhaoqi, @wangyang0616, @MondayCha, @Tau721</p>\n<h2><span class=\"prefix\"><span class=\"content\"><strong>æ··éƒ¨èƒ½åŠ›å…¨é¢å‡çº§ï¼šæ”¯æŒé€šç”¨æ“ä½œç³»ç»Ÿ</strong></span></span></h2>\n<p>æœ¬æ¬¡å‘å¸ƒå¯¹ Volcano çš„æ··éƒ¨èƒ½åŠ›è¿›è¡Œäº†å…¨é¢æ”¹è¿›ï¼Œå…¶ä¸­ä¸€ä¸ªé‡è¦é‡Œç¨‹ç¢‘æ˜¯ï¼šVolcano æ··éƒ¨èƒ½åŠ›<strong>æ­£å¼æ”¯æŒé€šç”¨æ“ä½œç³»ç»Ÿ</strong>ï¼ˆUbuntuã€CentOS ç­‰ï¼‰ï¼Œä¸å†å±€é™äº OpenEulerã€‚è¿™æ„å‘³ç€æ›´å¤šç”¨æˆ·å¯ä»¥ä½¿ç”¨ Volcano Agent å®ç°åœ¨ç¦»çº¿æ··éƒ¨ï¼Œæå‡é›†ç¾¤æ•´ä½“èµ„æºåˆ©ç”¨ç‡ã€‚</p>\n<h3><span class=\"prefix\"><span class=\"content\"><strong>CPU åŠ¨æ€å‹åˆ¶ (CPU Suppression)</strong></span></span></h3>\n<p>åœ¨çº¿ä¸šåŠ¡æµé‡é€šå¸¸å…·æœ‰æ½®æ±ç‰¹æ€§ã€‚ä¸ºäº†åœ¨ä¿éšœåœ¨çº¿ä¸šåŠ¡ SLA çš„åŒæ—¶æœ€å¤§åŒ–èµ„æºåˆ©ç”¨ï¼Œç¦»çº¿ Pod çš„ CPU é…é¢éœ€è¦éšåœ¨çº¿ç”¨é‡åŠ¨æ€è°ƒæ•´ï¼šåœ¨çº¿ç”¨é‡é«˜æ—¶å‹åˆ¶ç¦»çº¿é…é¢ï¼Œç”¨é‡å›è½æ—¶é€æ­¥æ¢å¤ï¼Œå®ç°è‡ªé€‚åº”çš„èµ„æºåˆ†é…ã€‚</p>\n<p>æ ¸å¿ƒè®¾è®¡ï¼š</p>\n<ul>\n<li>æ ¹æ®èŠ‚ç‚¹å¯åˆ†é… CPU å’Œå®æ—¶ç”¨é‡ï¼ŒåŠ¨æ€è°ƒæ•´ BestEffort root cgroup çš„ CPU é…é¢ã€‚</li>\n<li>é‡‡ç”¨\"ç›‘æ§-äº‹ä»¶-å¤„ç†\"æ¶æ„ï¼Œå¹¶å®æ–½ä¿å®ˆæ›´æ–°ç­–ç•¥ï¼Œæœ‰æ•ˆæŠ‘åˆ¶æŠ–åŠ¨ã€‚</li>\n\n</ul>\n<p>é…ç½®ç¤ºä¾‹ï¼š</p>\n<div class=\"cnblogs_Highlighter\">\n<pre class=\"brush:csharp;gutter:true;\">cpuThrottlingConfig:\n\nenable: true\n\ncpuThrottlingThreshold: 80 # BE é…é¢ä¸Šé™ä¸ºå¯åˆ†é… CPU çš„ 80%\n\ncpuJitterLimitPercent: 1 # é…é¢å˜åŒ–è¶…è¿‡ 1% æ‰è§¦å‘æ›´æ–°\ncpuRecoverLimitPercent: 10 # å•æ¬¡æ¢å¤ä¸Šé™ 10%</pre>\n</div>\n<h3><span class=\"prefix\"><span class=\"content\"><strong>å†…å­˜ QoS (Cgroup V2)</strong></span></span></h3>\n<p>åŸºäº Cgroup V2 å®ç°æ··éƒ¨åœºæ™¯çš„å†…å­˜éš”ç¦»ã€‚æ–°å¢ ColocationConfiguration CRDï¼Œæ”¯æŒä¸ºæŒ‡å®šå·¥ä½œè´Ÿè½½é…ç½®å†…å­˜ QoS ç­–ç•¥ã€‚</p>\n<p>æ ¸å¿ƒèƒ½åŠ›ï¼š</p>\n<ul>\n<li><strong>New API</strong>ï¼šé€šè¿‡æ ‡ç­¾é€‰æ‹©å™¨å®šä¹‰å†…å­˜éš”ç¦»ç­–ç•¥çš„ ColocationConfiguration CRD</li>\n<li><strong>åŠ¨æ€è®¡ç®—</strong>ï¼š\n<ul>\n<li>memory.high = pod.limits.memory * highRatio %</li>\n<li>memory.low = pod.requests.memory * lowRatio %</li>\n<li>memory.min = pod.requests.memory * minRatio %</li>\n</ul>\n</li>\n<li><strong>ç»Ÿä¸€æ¥å£</strong>ï¼šå¯é æ£€æµ‹å’Œæ”¯æŒ Cgroup V2 ç¯å¢ƒ</li>\n</ul>\n<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>\n<div class=\"cnblogs_Highlighter\">\n<pre class=\"brush:csharp;gutter:true;\">apiVersion: config.volcano.sh/v1alpha1\n\nkind: ColocationConfiguration\n\nmetadata:\n\nname: colo-config1\n\nspec:\n\nselector:\n\n*matchLabels:*\n\n  *app: offline-test*\nmemoryQos:\n\n*highRatio: 100  \\# memory.high \\= memory.limits \\* 100%*\n\n*lowRatio: 50    \\# memory.low \\= memory.requests \\* 50%*  \n*minRatio: 0     \\# memory.min \\= memory.requests \\* 0%*</pre>\n</div>\n<h3><span class=\"prefix\"><span class=\"content\"><strong>CPU Burst ä¸ Cgroup V2 å…¨é¢æ”¯æŒ</strong></span></span></h3>\n<p>CPU Burst èƒ½åŠ›å·²æ‰©å±•è‡³é€šç”¨æ“ä½œç³»ç»Ÿã€‚åŒæ—¶ï¼ŒVolcano Agent ç°å·²å…¨é¢é€‚é… Cgroup V2 ç¯å¢ƒï¼Œæ”¯æŒè‡ªåŠ¨æ£€æµ‹ Cgroup ç‰ˆæœ¬åŠé©±åŠ¨ç±»å‹ï¼ˆå¦‚ systemd driverï¼‰ï¼Œæ— éœ€äººå·¥å¹²é¢„å³å¯åœ¨ç°ä»£ Linux å‘è¡Œç‰ˆä¸Šæ— ç¼è¿è¡Œã€‚</p>\n<p>ç›¸å…³ PRï¼š</p>\n<p>https://github.com/volcano-sh/volcano/pull/4632,</p>\n<p>https://github.com/volcano-sh/volcano/pull/4945,</p>\n<p>https://github.com/volcano-sh/volcano/pull/4913,</p>\n<p>https://github.com/volcano-sh/volcano/pull/4984</p>\n<p>è®¾è®¡æ–‡æ¡£ï¼š<strong>CPU Throttle Design</strong>[6], <strong>Agent Cgroup V2 Adaptation</strong>[7]</p>\n<p>æ„Ÿè°¢ç¤¾åŒºå¼€å‘è€…ï¼š@Haibara-Ai97, @JesseStutler, @ouyangshengjia</p>\n<h2><span class=\"prefix\"><span class=\"content\"><strong>æ˜‡è…¾ vNPU è°ƒåº¦</strong></span></span></h2>\n<p>v1.14 åŸç”Ÿé›†æˆäº†æ˜‡è…¾ vNPUï¼ˆè™šæ‹Ÿ NPUï¼‰è°ƒåº¦èƒ½åŠ›ï¼Œå®ç°æ˜‡è…¾ AI å¤„ç†å™¨åœ¨å¤šä¸ªå·¥ä½œè´Ÿè½½ä¹‹é—´çš„é«˜æ•ˆç®—åŠ›å¤ç”¨ã€‚æä¾›ä¸¤ç§æ¨¡å¼ï¼Œçµæ´»é€‚é…ä¸åŒéƒ¨ç½²åœºæ™¯ã€‚</p>\n<p><strong>æ”¯æŒæ¨¡å¼</strong>ï¼š</p>\n<p><strong>1. MindCluster æ¨¡å¼</strong></p>\n<ul>\n<li>é›†æˆè‡ª Ascend MindCluster è°ƒåº¦æ’ä»¶ï¼šhttps://gitcode.com/Ascend/mind-cluster\n<ul>\n<li>æ”¯æŒæ˜‡è…¾ 310P ç³»åˆ—çš„åŠ¨æ€è™šæ‹ŸåŒ–</li>\n</ul>\n</li>\n</ul>\n<p><strong>2. HAMi æ¨¡å¼</strong></p>\n<ul>\n<li>ç”± HAMi ç¤¾åŒºå¼€å‘\n<ul>\n<li>åŒæ—¶æ”¯æŒæ˜‡è…¾ 310 å’Œ 910 ç³»åˆ—</li>\n<li>æ”¯æŒå¼‚æ„æ˜‡è…¾é›†ç¾¤ï¼ˆ910Aã€910B2ã€910B3ã€310Pï¼‰</li>\n</ul>\n</li>\n</ul>\n<p>è°ƒåº¦å™¨é…ç½®ï¼š</p>\n<div class=\"cnblogs_Highlighter\">\n<pre class=\"brush:csharp;gutter:true;\"># MindCluster æ¨¡å¼\n\n- name: deviceshare\n\narguments:\n\n*deviceshare.AscendMindClusterVNPUEnable: true*\n# HAMi æ¨¡å¼\n\n- name: deviceshare\n\narguments:\n\n*deviceshare.AscendHAMiVNPUEnable: true*  \n*deviceshare.SchedulePolicy: binpack  \\# æˆ– spread*</pre>\n</div>\n<p>ç›¸å…³ PRï¼š</p>\n<p>https://github.com/volcano-sh/volcano/pull/4656,<br />\nhttps://github.com/volcano-sh/volcano/pull/4717<br />\nä½¿ç”¨æ–‡æ¡£ï¼š<strong>How to Use vNPU</strong>[8]<br />\næ„Ÿè°¢ç¤¾åŒºå¼€å‘è€…ï¼š@JackyTYang, @DSFans2014</p>\n<h2><span class=\"prefix\"><span class=\"content\"><strong>Volcano Global å¢å¼º</strong></span></span></h2>\n<p>Volcano Global v0.3.0 å¼•å…¥äº†ä¸¤ä¸ªé‡è¦åŠŸèƒ½ï¼Œé€šè¿‡åŸºäºè®¡ç®—èµ„æºå’Œæ•°æ®å±€éƒ¨æ€§çš„æ™ºèƒ½è°ƒåº¦ï¼Œæ˜¾è‘—æ‰©å±•äº† Volcano Global å¯¹ AI/ML å’Œå¤§æ•°æ®å·¥ä½œè´Ÿè½½çš„èƒ½åŠ›ã€‚</p>\n<h3><span class=\"prefix\"><span class=\"content\"><strong>HyperJobï¼šå¤šé›†ç¾¤ä½œä¸šè‡ªåŠ¨æ‹†åˆ†</strong></span></span></h3>\n<p>éšç€ AI è®­ç»ƒå·¥ä½œè´Ÿè½½è§„æ¨¡å’Œå¤æ‚æ€§çš„å¢é•¿ï¼Œä¼ä¸šè¶Šæ¥è¶Šé¢ä¸´è·¨å¤šä¸ªå¼‚æ„é›†ç¾¤ç®¡ç†å¤§è§„æ¨¡è®­ç»ƒä½œä¸šçš„æŒ‘æˆ˜ã€‚HyperJob æ˜¯æ„å»ºåœ¨ Volcano Job ä¹‹ä¸Šçš„æ›´é«˜çº§æŠ½è±¡ã€‚å®ƒç»„åˆå¤šä¸ª Volcano Job æ¨¡æ¿ï¼Œå°†è®­ç»ƒèƒ½åŠ›æ‰©å±•åˆ°å•é›†ç¾¤è¾¹ç•Œä¹‹å¤–ï¼ŒåŒæ—¶ä¿ç•™æ¯ä¸ªé›†ç¾¤å†…ç°æœ‰ Volcano Job çš„å…¨éƒ¨èƒ½åŠ›ã€‚</p>\n<p><strong>æ ¸å¿ƒèƒ½åŠ›</strong>ï¼š</p>\n<ul>\n<li><strong>Karmada æ·±åº¦é›†æˆ</strong>ï¼šè‡ªåŠ¨ç”Ÿæˆ PropagationPolicyï¼Œç²¾å‡†é…ç½®é›†ç¾¤äº²å’Œæ€§ä¸å‰¯æœ¬è°ƒåº¦ã€‚</li>\n<li><strong>çŠ¶æ€ç»Ÿä¸€èšåˆ</strong>ï¼šå°†å„é›†ç¾¤å­ä»»åŠ¡çŠ¶æ€æ±‡æ€»ä¸ºç»Ÿä¸€çš„ HyperJob çŠ¶æ€ï¼Œå…¨å±€å¯è§‚æµ‹ã€‚</li>\n<li><strong>è‡ªåŠ¨èµ„æºç”Ÿæˆ</strong>ï¼šæ ¹æ® ReplicatedJob å®šä¹‰è‡ªåŠ¨åˆ›å»º VCJob å’Œ PropagationPolicyã€‚</li>\n\n</ul>\n<p>HyperJob èµ„æºç¤ºä¾‹ï¼ˆè·¨ 2 ä¸ªé›†ç¾¤æ‹†åˆ†å¤§è§„æ¨¡è®­ç»ƒä½œä¸šï¼Œå…± 256 ä¸ª GPUï¼‰ï¼š</p>\n<div class=\"cnblogs_Highlighter\">\n<pre class=\"brush:csharp;gutter:true;\">apiVersion: training.volcano.sh/v1alpha1\n\nkind: HyperJob\n\nmetadata:\n\nname: llm-training\n\nspec:\n\nreplicatedJobs:\n\n- name: trainer\n\nreplicas: 2\n\ntemplateSpec:\n\n  tasks:\n\n  \\- name: worker\n\n    replicas: 128\n\n    template:\n\n      spec:\n\n        containers:\n\n        \\- name: trainer\n\n          image: training-image:v1\n\n          resources:\n\n            requests:  \n              nvidia.com/gpu: 1</pre>\n</div>\n<h3><span class=\"prefix\"><span class=\"content\"><strong>æ•°æ®æ„ŸçŸ¥è°ƒåº¦</strong></span></span></h3>\n<p>åœ¨ AI è®­ç»ƒå’Œå¤§æ•°æ®åˆ†æç­‰é«˜æ€§èƒ½è®¡ç®—åœºæ™¯ä¸­ï¼Œä»»åŠ¡æ‰§è¡Œä¸ä»…ä¾èµ–è®¡ç®—èµ„æºï¼Œè¿˜ä¸¥é‡ä¾èµ–æ•°æ®èµ„æºã€‚åœ¨å¤šé›†ç¾¤ç¯å¢ƒä¸­ï¼Œè°ƒåº¦å™¨å¯èƒ½ä¼šå°†ä»»åŠ¡åˆ†æ´¾åˆ°ä¸æ•°æ®æºç‰©ç†è·ç¦»è¾ƒè¿œçš„é›†ç¾¤ï¼Œå¯¼è‡´è·¨åœ°åŸŸå¸¦å®½æˆæœ¬è¿‡é«˜å’Œ I/O å»¶è¿Ÿè¿‡é«˜ã€‚</p>\n<p>æ•°æ®æ„ŸçŸ¥è°ƒåº¦æ¡†æ¶å¼•å…¥ <strong>DataDependencyController</strong>ï¼Œæ‰“é€šäº†é€»è¾‘æ•°æ®éœ€æ±‚ä¸ç‰©ç†é›†ç¾¤åˆ†å¸ƒçš„å£å’ã€‚é€šè¿‡å¤–éƒ¨æ’ä»¶ï¼ˆå¦‚ Amoroï¼‰å®æ—¶è·å–æ•°æ®åˆ†å¸ƒä¿¡æ¯ï¼Œè‡ªåŠ¨å°†è°ƒåº¦çº¦æŸæ³¨å…¥ Karmadaï¼Œå®ç°\"è®¡ç®—éšæ•°æ®è€ŒåŠ¨\"çš„å…¨è‡ªåŠ¨å·¥ä½œæµã€‚</p>\n<p><strong>æ ¸å¿ƒèƒ½åŠ›</strong>ï¼š</p>\n<ul>\n<li><strong>æ’ä»¶åŒ–æ¶æ„</strong>ï¼šå¯æ‰©å±•æ”¯æŒ Amoroã€Hiveã€S3 ç­‰å¤šç§æ•°æ®ç³»ç»Ÿã€‚</li>\n<li><strong>å£°æ˜å¼ API</strong>ï¼šDataSourceClaim / DataSource CRDï¼Œé‡‡ç”¨\"å£°æ˜-ç¼“å­˜\"æ¨¡å¼ã€‚</li>\n<li><strong>è‡ªåŠ¨äº²å’Œæ³¨å…¥</strong>ï¼šå°†æ•°æ®å±€éƒ¨æ€§è½¬åŒ–ä¸º ClusterAffinity çº¦æŸï¼Œæ³¨å…¥ ResourceBindingã€‚</li>\n</ul>\n<p>è¯¦è§ï¼š <strong>Volcano Global v0.3.0 Release Notes</strong>[9]<br />\næ„Ÿè°¢ç¤¾åŒºå¼€å‘è€…ï¼š@JesseStutler, @fx147, @Monokaix, @zhoujinyu, @anryko, @tanberBro</p>\n<h2><span class=\"prefix\"><span class=\"content\"><strong>Volcano Dashboard v0.2.0</strong></span></span></h2>\n<p>Volcano Dashboard v0.2.0 å¯¹èµ„æºç®¡ç†èƒ½åŠ›è¿›è¡Œäº†é‡å¤§å¢å¼ºï¼Œä½¿å¾—é€šè¿‡ Web ç•Œé¢ç®¡ç† Volcano èµ„æºæ›´åŠ ä¾¿æ·ã€‚<br />\n<strong>æ ¸å¿ƒå¢å¼º</strong>ï¼š</p>\n<ul>\n<li><strong>PodGroup å…¨æ™¯å¯è§†åŒ–</strong>ï¼šè·¨å‘½åç©ºé—´æŸ¥çœ‹ã€æœç´¢ã€è¿‡æ»¤ PodGroupï¼Œæ”¯æŒ YAML è¯­æ³•é«˜äº®ã€‚</li>\n<li><strong>Job ç”Ÿå‘½å‘¨æœŸç®¡ç†</strong>ï¼šç›´æ¥åœ¨ç•Œé¢åˆ›å»ºã€åˆ é™¤ Volcano Jobï¼Œæ“ä½œæ›´ä¾¿æ·ã€‚</li>\n<li><strong>Queue ç®¡ç†å¢å¼º</strong>ï¼šåœ¨çº¿ç¼–è¾‘ Queue é…é¢ã€æƒé‡ï¼Œæ”¯æŒ YAML ç›´æ¥ä¿®æ”¹ã€‚</li>\n<li><strong>å®‰å…¨åŠ å›º</strong>ï¼šé»˜è®¤é…ç½® SELinuxã€Seccompã€é root è¿è¡ŒåŠç¦æ­¢ææƒï¼Œä¿éšœç”Ÿäº§å®‰å…¨ã€‚</li>\n\n</ul>\n<p>è¯¦è§ï¼š <strong>Volcano Dashboard v0.2.0 Release Notes</strong>[10]<br />\næ„Ÿè°¢ç¤¾åŒºå¼€å‘è€…ï¼š@vzhou-p, @Shrutim1505, @JesseStutler, @karanBRAVO, @Sayan4444, @jayesh9747, @Alivestars24, @kuldeep, @Monokaix</p>\n<h2><span class=\"prefix\"><span class=\"content\"><strong>è°ƒåº¦å™¨ç¨³å®šæ€§ä¸æ€§èƒ½æå‡</strong></span></span></h2>\n<p><strong>Reclaim é‡æ„ä¸å¢å¼º</strong><br />\nå¯¹ Reclaim Action è¿›è¡Œäº†å…¨é¢é‡æ„ï¼Œå¹¶ä¿®å¤äº† Capacity Plugin ä¸­çš„å…³é”®é€»è¾‘é—®é¢˜ï¼Œå¤§å¹…æå‡å¤šç§Ÿæˆ·é›†ç¾¤èµ„æºå›æ”¶çš„å‡†ç¡®æ€§ã€ç¨³å®šæ€§å’Œæ€§èƒ½ã€‚<br />\nä¸»è¦æ”¹è¿›ï¼š</p>\n<ul>\n<li><strong>Reclaim Action é‡æ„</strong>ï¼šé‡æ„äº† reclaim å·¥ä½œæµï¼Œæé«˜ä»£ç å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§å’Œæµ‹è¯•è¦†ç›–ç‡ã€‚</li>\n<li><strong>å¢å¼ºçš„ Capacity Plugin é€»è¾‘</strong>ï¼šä¿®å¤äº† reclaimableFn å’Œ preemptiveFnï¼Œæ­£ç¡®å¤„ç†æ ‡é‡èµ„æºå¹¶é˜²æ­¢é”™è¯¯çš„æŠ¢å å†³ç­–ã€‚</li>\n<li><strong>ç¨³å®šæ€§æå‡</strong>ï¼šè§£å†³äº†èµ„æºè®¡ç®—ä¸­çš„è¾¹ç¼˜æƒ…å†µï¼Œé˜²æ­¢è°ƒåº¦æ­»å¾ªç¯å’Œè¯¯é©±é€ã€‚</li>\n\n</ul>\n<p>ç›¸å…³ PRï¼š</p>\n<p>https://github.com/volcano-sh/volcano/pull/4794,<br />\nhttps://github.com/volcano-sh/volcano/pull/4659,<br />\nhttps://github.com/volcano-sh/volcano/pull/4919<br />\næ„Ÿè°¢ç¤¾åŒºå¼€å‘è€…ï¼š@guoqinwill, @hajnalmt</p>\n<h2><span class=\"prefix\"><span class=\"content\"><strong>æ”¯æŒ Kubernetes 1.34</strong></span></span></h2>\n<p>Volcano ç‰ˆæœ¬ç´§è·Ÿ Kubernetes ç¤¾åŒºã€‚v1.14 å·²å…¨é¢æ”¯æŒæœ€æ–°çš„ Kubernetes v1.34ï¼Œå¹¶é€šè¿‡å®Œæ•´çš„å•å…ƒæµ‹è¯•å’Œ E2E æµ‹è¯•ä¿éšœåŠŸèƒ½ä¸ç¨³å®šæ€§ã€‚<br />\nç›¸å…³ PRï¼šhttps://github.com/volcano-sh/volcano/pull/4704<br />\næ„Ÿè°¢ç¤¾åŒºå¼€å‘è€…ï¼š@suyiiyii, @tunedev</p>\n<h1><span class=\"prefix\"><span class=\"content\"><strong>æ€»ç»“ï¼šVolcano v1.14.0 â€” AI æ—¶ä»£çš„ç»Ÿä¸€è°ƒåº¦å¹³å°</strong></span></span></h1>\n<p>Volcano v1.14 æ˜¯ä¸€ä¸ªé‡Œç¨‹ç¢‘å¼çš„ç‰ˆæœ¬ã€‚é€šè¿‡å¼•å…¥å¤šè°ƒåº¦å™¨æ¶æ„å’Œ Agent Schedulerï¼ŒVolcano æ­£å¼è¿ˆå…¥ç»Ÿä¸€è°ƒåº¦å¹³å°æ–°é˜¶æ®µï¼Œæ—¢èƒ½é«˜æ•ˆå¤„ç†æ‰¹é‡ AI è®­ç»ƒï¼Œåˆèƒ½æ»¡è¶³ AI Agent çš„æè‡´æ—¶å»¶è¦æ±‚ã€‚ç½‘ç»œæ‹“æ‰‘æ„ŸçŸ¥å¢å¼ºã€é€šç”¨æ“ä½œç³»ç»Ÿæ··éƒ¨æ”¯æŒã€æ˜‡è…¾ vNPU é›†æˆï¼Œè¿›ä¸€æ­¥å¤¯å®äº† Volcano åœ¨ AI åŸºç¡€è®¾æ–½é¢†åŸŸçš„é¢†å…ˆåœ°ä½ã€‚<br />\nåŒæ—¶ï¼ŒVolcano Global v0.3.0 é€šè¿‡ HyperJob å®ç°å¤§è§„æ¨¡åˆ†å¸ƒå¼è®­ç»ƒå’Œæ•°æ®æ„ŸçŸ¥è°ƒåº¦ï¼Œæ‰©å±•äº†å¤šé›†ç¾¤èƒ½åŠ›ã€‚Volcano Dashboard v0.2.0 é€šè¿‡å…¨é¢çš„èµ„æºç®¡ç†åŠŸèƒ½æ˜¾è‘—æ”¹å–„äº†ç”¨æˆ·ä½“éªŒã€‚</p>\n<p><strong>ç«‹å³ä½“éªŒ Volcano v1.14ï¼Œå…±å¯ AI æ—¶ä»£ç»Ÿä¸€è°ƒåº¦æ–°ç¯‡ç« ï¼</strong></p>\n<p><strong>v1.14.0 å‘å¸ƒåœ°å€ï¼š</strong>https://github.com/volcano-sh/volcano/releases/tag/v1.14.0<br />\n<strong>Volcano Global v0.3.0 å‘å¸ƒåœ°å€ï¼š</strong>https://github.com/volcano-sh/volcano-global/releases/tag/v0.3.0<br />\n<strong>Volcano Dashboard v0.2.0 å‘å¸ƒåœ°å€ï¼š</strong>https://github.com/volcano-sh/dashboard/releases/tag/v0.2.0</p>\n<h1><span class=\"prefix\"><span class=\"content\"><strong>è‡´   è°¢</strong></span></span></h1>\n<p>Volcano v1.14 ç”Ÿæ€ç‰ˆæœ¬ï¼ˆå« Volcano Global v0.3.0ã€Dashboard v0.2.0ï¼‰å…±æœ‰ 55 ä½ç¤¾åŒºè´¡çŒ®è€…å‚ä¸ã€‚è¡·å¿ƒæ„Ÿè°¢æ¯ä¸€ä½è´¡çŒ®è€…ï¼š</p>\n<table>\n<tbody>\n<tr><th>@3sunny</th><th>@3th4novo</th><th>@acsoto</th>\n</tr>\n<tr>\n<td>@Alivestars24</td>\n<td>@Aman-Cool</td>\n<td>@anryko</td>\n\n\n</tr>\n<tr>\n<td>@archlitchi</td>\n<td>@dafu-wu</td>\n<td>@DSFans2014</td>\n\n\n</tr>\n<tr>\n<td>@FAUST-BENCHOU</td>\n<td>@fengruotj</td>\n<td>@Freshwlnd</td>\n\n\n</tr>\n<tr>\n<td>@fx147</td>\n<td>@goyalpalak18</td>\n<td>@guoqinwill</td>\n\n\n</tr>\n<tr>\n<td>@Haibara-Ai97</td>\n<td>@hajnalmt</td>\n<td>@halcyon-r</td>\n\n\n</tr>\n<tr>\n<td>@handan-yxh</td>\n<td>@JackyTYang</td>\n<td>@jayesh9747</td>\n\n\n</tr>\n<tr>\n<td>@JesseStutler</td>\n<td>@jiahuat</td>\n<td>@karanBRAVO</td>\n\n\n</tr>\n<tr>\n<td>@kingeasternsun</td>\n<td>@kiritoxkiriko</td>\n<td>@kube-gopher</td>\n\n\n</tr>\n<tr>\n<td>@kuldeep</td>\n<td>@LiZhenCheng9527</td>\n<td>@medyagh</td>\n\n\n</tr>\n<tr>\n<td>@MondayCha</td>\n<td>@Monokaix</td>\n<td>@mvinchoo</td>\n\n\n</tr>\n<tr>\n<td>@neeraj542</td>\n<td>@nitindhiman314e</td>\n<td>@ouyangshengjia</td>\n\n\n</tr>\n<tr>\n<td>@PersistentJZH</td>\n<td>@qi-min</td>\n<td>@rhh777</td>\n\n\n</tr>\n<tr>\n<td>@ruanwenjun</td>\n<td>@RushabhMehta2005</td>\n<td>@sailorvii</td>\n\n\n</tr>\n<tr>\n<td>@Sayan4444</td>\n<td>@Shrutim1505</td>\n<td>@ssfffss</td>\n\n\n</tr>\n<tr>\n<td>@suyiiyii</td>\n<td>@tanberBro</td>\n<td>@Tau721</td>\n\n\n</tr>\n<tr>\n<td>@vzhou-p</td>\n<td>@wangyang0616</td>\n<td>@weapons97</td>\n\n\n</tr>\n<tr>\n<td>@Wonki4</td>\n<td>@zhaoqi612</td>\n<td>@zhengchenyu</td>\n\n\n</tr>\n<tr>\n<td>@zhoujinyu</td>\n<td>@zjj2wry</td>\n<td>&nbsp;</td>\n\n\n</tr>\n\n\n</tbody>\n\n\n</table>\n<p><strong>ç›¸å…³é“¾æ¥</strong></p>\n<p>[1] Volcano: <em>https://volcano.sh/en/</em><br />\n[2] Volcano v1.14.0: <em>https://github.com/volcano-sh/volcano/releases/tag/v1.14.0</em><br />\n[3] Sharding Controller Design: <em>https://github.com/volcano-sh/volcano/blob/v1.14.0/docs/design/sharding_controller.md</em><br />\n[4] Agent Scheduler Design: <em>https://github.com/volcano-sh/volcano/blob/v1.14.0/docs/design/agent-scheduler.md</em><br />\n[5] Network Topology Aware Scheduling: <em>https://github.com/volcano-sh/volcano/blob/v1.14.0/docs/design/Network%20Topology%20Aware%20Scheduling.md</em><br />\n[6] CPU Throttle Design: <em>https://github.com/volcano-sh/volcano/blob/v1.14.0/docs/design/cpu-throttle-design.md</em><br />\n[7] Agent Cgroup V2 Adaptation: <em>https://github.com/volcano-sh/volcano/blob/v1.14.0/docs/design/agent-cgroup-v2-adaptation.md</em><br />\n[8] How to Use vNPU: <em>https://github.com/volcano-sh/volcano/blob/v1.14.0/docs/user-guide/how_to_use_vnpu.md</em><br />\n[9] Volcano Global v0.3.0 Release Notes: <em>https://github.com/volcano-sh/volcano-global/releases/tag/v0.3.0</em><br />\n[10] Volcano Dashboard v0.2.0 Release Notes: <em>https://github.com/volcano-sh/dashboard/releases/tag/v0.2.0</em></p>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-02-13 16:35</span>&nbsp;\n<a href=\"https://www.cnblogs.com/huaweiyun\">åä¸ºäº‘å¼€å‘è€…è”ç›Ÿ</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">0</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "LLVMçš„æ··æ·†ä¹‹æ—…(å…­)-å­—ç¬¦ä¸²åŠ å¯†",
      "link": "https://www.cnblogs.com/ClownLMe/p/19612575",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/ClownLMe/p/19612575\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-02-13 16:11\">\n    <span>LLVMçš„æ··æ·†ä¹‹æ—…(å…­)-å­—ç¬¦ä¸²åŠ å¯†</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h1 id=\"ç®€ä»‹\">ç®€ä»‹</h1>\n<p>åœ¨ä¸Šä¸€ä¸ªæ•™å­¦ä¸­ï¼Œå­¦ä¹ äº†å¦‚ä½•å†™ä¸€ä¸ªLLVM Passç¤ºä¾‹æ¥è¿›è¡Œæ§åˆ¶æµå¹³å¦åŒ–ï¼Œè¿™ç¯‡æ–‡ç« ï¼Œæ¥å­¦ä¹ å¦‚ä½•äºŒåˆ©ç”¨LLVMå®ç°å­—ç¬¦ä¸²çš„åŠ å¯†ã€‚</p>\n<h1 id=\"æ¡ˆä¾‹\">æ¡ˆä¾‹</h1>\n<h3 id=\"éœ€è¦åŠ å¯†çš„å¯¹è±¡\">éœ€è¦åŠ å¯†çš„å¯¹è±¡</h3>\n<p>è¿™æ˜¯ä¸€ä¸ªç»å…¸çš„cè¯­è¨€æ ·ä¾‹ï¼Œç›®çš„æ˜¯è¾“å‡ºå­—ç¬¦ä¸²ï¼šhello world</p>\n<pre><code class=\"language-c\">#include &lt;stdio.h&gt;\n\nint main(){\n&nbsp; &nbsp; printf(\"hello world\\n\");\n&nbsp; &nbsp; return 0;\n}\n</code></pre>\n<h3 id=\"åŠ å¯†passç¼–å†™\">åŠ å¯†passç¼–å†™</h3>\n<p>ä¸‹é¢æ˜¯å®Œæ•´çš„passä»£ç ï¼š<br />\n<strong>ä»£ç çš„ç›®çš„æ˜¯ï¼šè®©å­—ç¬¦ä¸²åœ¨ç¼–è¯‘çš„è¿‡ç¨‹ä¸­è¿›è¡Œå¼‚æˆ–åŠ å¯†ï¼Œå¹¶ä¸”åœ¨è¿è¡Œçš„è¿‡ç¨‹ä¸­åŠ¨æ€è§£å¯†ã€‚</strong></p>\n<pre><code class=\"language-cpp\">#include \"llvm/Passes/PassBuilder.h\"\n#include \"llvm/Passes/PassPlugin.h\"\n#include \"llvm/Support/raw_ostream.h\"\n#include \"llvm/IR/Function.h\"\n#include \"llvm/IR/Instructions.h\"\n#include \"llvm/IR/IRBuilder.h\"\n#include \"llvm/IR/PassManager.h\"\n#include \"llvm/IR/GlobalVariable.h\"\n#include \"llvm/IR/Constants.h\"\n\nusing namespace llvm;\n\nnamespace{\n    struct mypass : public PassInfoMixin&lt;mypass&gt;{\n        const uint8_t KEY = 0x42;\n\n        Function *createDecryptFunc(Module *M){\n            LLVMContext &amp;Ctx = M-&gt;getContext();\n            std::vector&lt;Type*&gt; paramTypes = { PointerType::getUnqual(Ctx), Type::getInt32Ty(Ctx) };\n            FunctionType *funcType = FunctionType::get(Type::getVoidTy(Ctx),paramTypes,false);\n\n            Function *Func = Function::Create(funcType, GlobalValue::InternalLinkage, \"my_decrypt_func\", M);\n\n            Argument *ArgData = Func-&gt;getArg(0);\n            Argument *ArgLen  = Func-&gt;getArg(1);\n\n            BasicBlock *EntryBB = BasicBlock::Create(Ctx, \"entry\", Func);\n            BasicBlock *LoopCheckBB = BasicBlock::Create(Ctx, \"loop_check\", Func);\n            BasicBlock *LoopBodyBB  = BasicBlock::Create(Ctx, \"loop_body\", Func);\n            BasicBlock *ExitBB      = BasicBlock::Create(Ctx, \"exit\", Func);\n\n            IRBuilder&lt;&gt; builder(EntryBB);\n            builder.CreateBr(LoopCheckBB);\n            builder.SetInsertPoint(LoopCheckBB);\n\n            PHINode *LoopVar = builder.CreatePHI(Type::getInt32Ty(Ctx), 2, \"i\");\n            LoopVar-&gt;addIncoming(builder.getInt32(0), EntryBB); \n\n            Value *Cond = builder.CreateICmpSLT(LoopVar, ArgLen, \"cond\");\n            builder.CreateCondBr(Cond, LoopBodyBB, ExitBB);\n\n            builder.SetInsertPoint(LoopBodyBB);\n\n            Value *Ptr = builder.CreateInBoundsGEP(builder.getInt8Ty(), ArgData, LoopVar);\n            Value *ByteVal = builder.CreateLoad(builder.getInt8Ty(), Ptr);\n            Value *XorVal = builder.CreateXor(ByteVal, builder.getInt8(KEY));\n            builder.CreateStore(XorVal, Ptr);\n\n            Value *NextVar = builder.CreateAdd(LoopVar, builder.getInt32(1));\n            LoopVar-&gt;addIncoming(NextVar, LoopBodyBB);\n\n            builder.CreateBr(LoopCheckBB);\n            builder.SetInsertPoint(ExitBB);\n            builder.CreateRetVoid();\n\n            return Func;\n        }\n        PreservedAnalyses run(Module &amp;M, ModuleAnalysisManager &amp;AM){\n            errs() &lt;&lt; \"Running On-Demand String Encryption Pass...\\n\";\n            std::vector&lt;GlobalVariable*&gt; EncryptedGlobals;\n            for(GlobalVariable &amp;GV : M.globals()){\n                if (!GV.hasInitializer() || !GV.isConstant() || GV.getName().contains(\"llvm.\")) continue;\n\n                Constant *Init = GV.getInitializer();\n                ConstantDataArray* DataArray = dyn_cast&lt;ConstantDataArray&gt;(Init);\n\n                if(DataArray &amp;&amp; DataArray-&gt;isString()){\n                    StringRef OriginalString = DataArray-&gt;getAsString();\n\n                    if(OriginalString.size() &lt; 2) continue;\n\n                    errs() &lt;&lt; \"Encrypting string: \" &lt;&lt; OriginalString &lt;&lt; \"\\n\";\n                    std::string EncryptedStr = OriginalString.str();\n                    for(int i = 0; i &lt; EncryptedStr.size(); i++){\n                        EncryptedStr[i] ^= KEY;\n                    }\n\n                    Constant *NewInit = ConstantDataArray::getString(M.getContext(), EncryptedStr, false);\n                    GV.setInitializer(NewInit);\n                    GV.setConstant(false);\n                    \n                    EncryptedGlobals.push_back(&amp;GV);\n                }\n            }\n\n            if(EncryptedGlobals.empty()) return PreservedAnalyses::all();\n\n            Function *DecryptFunc = createDecryptFunc(&amp;M);\n\n            for(GlobalVariable *GV : EncryptedGlobals){\n                std::vector&lt;Instruction*&gt; user;\n                for(User *U: GV-&gt;users()){\n                    Instruction* ins = dyn_cast&lt;Instruction&gt;(U);\n                    if(ins-&gt;getFunction() == DecryptFunc) continue;\n                    user.push_back(ins);\n                }\n                \n                for(Instruction *ins : user){\n                    IRBuilder&lt;&gt; builder(ins);\n                    ConstantDataArray* DataArray = dyn_cast&lt;ConstantDataArray&gt;(GV-&gt;getInitializer());\n                    int len = DataArray-&gt;getNumElements();\n                    builder.CreateCall(DecryptFunc, {GV, builder.getInt32(len)});\n                }\n            }\n            return PreservedAnalyses::none();\n        }\n    };\n}\n\nextern \"C\" LLVM_ATTRIBUTE_WEAK ::llvm::PassPluginLibraryInfo\nllvmGetPassPluginInfo(){\n    return{\n        LLVM_PLUGIN_API_VERSION,\n        \"mypass\",\n        \"v0.1\",\n        [](PassBuilder &amp;PB){\n            PB.registerPipelineParsingCallback(\n                [](StringRef Name, ModulePassManager &amp;MPM, ArrayRef&lt;PassBuilder::PipelineElement&gt;){\n                    if(Name == \"mypass\"){\n                        MPM.addPass(mypass());\n                        return true;\n                    }\n                    return false;\n                }\n            );\n        }\n    };\n}\n</code></pre>\n<h3 id=\"ä»£ç è§£é‡Š\">ä»£ç è§£é‡Š</h3>\n<p>çœ‹åˆ°ä¸Šé¢çš„passä»£ç ï¼Œæˆ‘ä»¬ä¼šæ„Ÿåˆ°å¤´æ™•ç›®çœ©ï¼Œæ²¡å…³ç³»ï¼Œä¸‹é¢æˆ‘ä»¬ä¸€æ­¥æ­¥æ‹†è§£ã€‚<br />\nä¸Šé¢çš„ä»£ç åˆ†ä¸»è¦åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š</p>\n<ol>\n<li>æ„å»ºå¼‚æˆ–çš„è§£å¯†å‡½æ•°ï¼ˆ<code>createDecryptFunc</code>ï¼‰</li>\n<li>åŠ å¯†å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”å°†ä¸Šé¢æ„å»ºçš„è§£å¯†å‡½æ•°æ’å…¥ä»£ç ã€‚</li>\n</ol>\n<h3 id=\"cmakeliststxt\">CMakeLists.txt</h3>\n<p>ç¼–è¯‘å¯ä»¥ç›´æ¥ç”¨ä¸‹é¢çš„cmakeé…ç½®æ–‡ä»¶ï¼Œç¼–è¯‘è¿‡ç¨‹åœ¨ä¹‹å‰æ–‡ç« è¯¦ç»†è®²è§£</p>\n<pre><code class=\"language-python\">cmake_minimum_required(VERSION 4.1.1)\nproject(mypass) \n\nset(LLVM_DIR \"D:/LLVM/llvm-project/build/lib/cmake/llvm\")\nfind_package(LLVM REQUIRED CONFIG)\nlist(APPEND CMAKE_MODULE_PATH \"${LLVM_CMAKE_DIR}\")\ninclude(AddLLVM)\ninclude_directories(${LLVM_INCLUDE_DIRS})\nadd_definitions(${LLVM_DEFINITIONS})\nset(CMAKE_CXX_STANDARD 17)\nset(CMAKE_CXX_STANDARD_REQUIRED ON)\n\nadd_library(mypass MODULE mypass.cpp)\nset_target_properties(mypass PROPERTIES WINDOWS_EXPORT_ALL_SYMBOLS ON) \ntarget_link_libraries(mypass LLVMCore LLVMSupport)     \ntarget_compile_options(mypass PRIVATE /utf-8)#ç”¨ä¸­æ–‡\n</code></pre>\n<h1 id=\"ä½¿ç”¨æ•ˆæœå±•ç¤º\">ä½¿ç”¨æ•ˆæœå±•ç¤º</h1>\n<h3 id=\"ç¼–è¯‘å¹¶æ‰§è¡Œ\">ç¼–è¯‘å¹¶æ‰§è¡Œ</h3>\n<p>å›¾ç‰‡ä¸­å¯ä»¥çœ‹å‡ºï¼Œå¯ä»¥æ­£å¸¸è¿è¡Œ<br />\n<img alt=\"å‘½ä»¤è¿è¡Œ\" class=\"lazyload\" /></p>\n<h3 id=\"åç¼–è¯‘æŸ¥çœ‹åŒºåˆ«\">åç¼–è¯‘æŸ¥çœ‹åŒºåˆ«</h3>\n<h4 id=\"åŸå§‹testexe\">åŸå§‹test.exe</h4>\n<p><img alt=\"å­—ç¬¦ä¸²åŠ å¯†\" class=\"lazyload\" /></p>\n<h4 id=\"åŠ å¯†test_optexe\">åŠ å¯†test_opt.exe</h4>\n<p><img alt=\"åŸå§‹\" class=\"lazyload\" /></p>\n<p>æ ¹æ®ä¸Šé¢çš„å›¾ç‰‡ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œä¸Šé¢ä½¿ç”¨çš„passï¼ŒæˆåŠŸå°†HelloWorldåŠ å¯†äº†ã€‚</p>\n<p><strong>å¦‚æœâ¤å–œæ¬¢â¤æœ¬ç³»åˆ—æ•™ç¨‹ï¼Œå°±ç‚¹ä¸ªå…³æ³¨å§ï¼Œåç»­ä¸å®šæœŸæ›´æ–°~</strong></p>\n\n\n</div>\n<div id=\"MySignature\">\n    <p>æœ¬æ–‡æ¥è‡ªåšå®¢å›­ï¼Œä½œè€…ï¼š<a href=\"https://www.cnblogs.com/ClownLMe/\" target=\"_blank\">ClownLMe</a>ï¼Œè½¬è½½è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼š<a href=\"https://www.cnblogs.com/ClownLMe/p/19612575\" target=\"_blank\">https://www.cnblogs.com/ClownLMe/p/19612575</a></p>\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-02-13 16:11</span>&nbsp;\n<a href=\"https://www.cnblogs.com/ClownLMe\">ClownLMe</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">3</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "Admin.NETå¼€æºç‰ˆå¾®æœåŠ¡æ”¹é€ è®°å½•",
      "link": "https://www.cnblogs.com/shiningrise/p/19612443",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/shiningrise/p/19612443\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-02-13 15:44\">\n    <span>Admin.NETå¼€æºç‰ˆå¾®æœåŠ¡æ”¹é€ è®°å½•</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h1 id=\"adminnetå¼€æºç‰ˆå¾®æœåŠ¡æ”¹é€ è®°å½•\">Admin.NETå¼€æºç‰ˆå¾®æœåŠ¡æ”¹é€ è®°å½•</h1>\n<h2 id=\"å°†adminnetcoreé¡¹ç›®æ‹†åˆ†æˆä¸¤ä¸ªé¡¹ç›®adminnetcommonadminnetcore\">å°†Admin.NET.Coreé¡¹ç›®æ‹†åˆ†æˆä¸¤ä¸ªé¡¹ç›®ï¼šAdmin.NET.Commonï¼ŒAdmin.NET.Core</h2>\n<p>Admin.NET.Commonæ”¾åŸºç¡€å·¥å…·ç±»</p>\n<p>Admin.NET.Coreæ”¾æ¡†æ¶æ ¸å¿ƒç±»åº“</p>\n<h2 id=\"aspireappapphostä¸­çš„apphostcsé…ç½®\">AspireApp.AppHostä¸­çš„AppHost.csé…ç½®ï¼š</h2>\n<pre><code>using Aspire.Hosting;\nusing Aspire.Hosting.Dapr;\nusing AspireApp.AppHost;\n\nvar builder = DistributedApplication.CreateBuilder(args);\n\nvar postgresQL = builder.AddPostgres(\"postgresQL\")\n                        .WithImage(\"ankane/pgvector\")\n                        .WithImageTag(\"latest\")\n                        .WithLifetime(ContainerLifetime.Persistent)\n                        .WithHealthCheck()\n                        .WithPgWeb();\nvar postgres = postgresQL.AddDatabase(\"postgres\");\nvar postgres2 = postgresQL.AddDatabase(\"postgres2\");\n\n//var redis = builder.AddRedis(\"redis\").WithLifetime(ContainerLifetime.Persistent)\n//                    .WithHealthCheck()\n//                    .WithRedisCommander();\n\n// ä½¿ç”¨ RabbitMQ ä½œä¸º Pub/Sub ç»„ä»¶\n//var rabbitmq = builder.AddRabbitMQ(\"rabbitmq\")\n//                        .WithLifetime(ContainerLifetime.Persistent)\n//                        .WithHealthCheck()\n//                        .WithManagementPlugin();\n\n// 1. å®šä¹‰å…±äº«ç›®å½•çš„ç»å¯¹è·¯å¾„ï¼ˆå»ºè®®æŒ‡å‘ admin-net-core çš„å®é™…ç›®å½•æˆ–ç‹¬ç«‹çš„ shared ç›®å½•ï¼‰\nvar uploadPath = Path.GetFullPath(\"../Admin.NET/Admin.NET.Core/wwwroot/upload\");\n\n// ç¡®ä¿ç›®å½•å­˜åœ¨\nif (!Directory.Exists(uploadPath))\n{\n    Directory.CreateDirectory(uploadPath);\n}\n\n// Admin.NET.Core ä½¿ç”¨ Furion çš„ Knife4j UIï¼Œä¸ä½¿ç”¨ Aspire çš„ Swagger UI\nvar core = builder.AddProject&lt;Projects.Admin_NET_Core&gt;(\"admin-net-core\")\n    .WithReference(postgres)\n    .WaitFor(postgres)\n    .WithSwaggerUI();\n\nvar baseApi = builder.AddProject&lt;Projects.Base&gt;(\"base\")\n    .WithReference(postgres2)\n    .WithSwaggerUI()\n    .WithReference(core)\n    .WaitFor(postgres2)\n    .WaitFor(core);\n\nvar yarp = builder.AddProject&lt;Projects.AspireApp_Yarp&gt;(\"aspireapp-yarp\")\n    .WithEndpoint( port: 5008, scheme: \"http\", name: \"yarp-http\")    // æŒ‡å®šå”¯ä¸€åç§°\n    .WithEndpoint( port: 7008, scheme: \"https\", name: \"yarp-https\") // æŒ‡å®šå”¯ä¸€åç§°\n    .WithReference(core)\n    .WithReference(baseApi)\n    .WaitFor(core)\n    .WaitFor(baseApi);\n\n//var frontend = builder.AddNodeApp(\n//       \"frontend\",\n//       scriptPath: \"scripts/run-pnpm.cjs\",\n//       workingDirectory: \"../Web\",\n//       args: new[] { \"dev\" }\n//   )\n//   .WithReference(yarp)\n//   .WaitFor(yarp);\n\nbuilder.Build().Run();\n\n\n</code></pre>\n<h2 id=\"aipç½‘å…³aspireappyarp\">AIPç½‘å…³ï¼šAspireApp.Yarp</h2>\n<p>Program.cs</p>\n<pre><code>var builder = WebApplication.CreateBuilder(args);\n\nbuilder.AddServiceDefaults();\nbuilder.Services.AddReverseProxy()\n                .LoadFromConfig(builder.Configuration.GetSection(\"ReverseProxy\"))\n                .AddServiceDiscoveryDestinationResolver();\n\nvar app = builder.Build();\n\napp.MapDefaultEndpoints();\napp.MapReverseProxy();\n\napp.MapGet(\"/\", () =&gt; \"Hello World!\");\n\napp.Run();\n\n</code></pre>\n<p>appsettings.json</p>\n<pre><code>{\n  \"Logging\": {\n    \"LogLevel\": {\n      \"Default\": \"Information\",\n      \"Microsoft.AspNetCore\": \"Warning\"\n    }\n  },\n  \"AllowedHosts\": \"*\",\n  \"ReverseProxy\": {\n    \"Routes\": {\n      \"core\": {\n        \"ClusterId\": \"core\",\n        \"Match\": {\n          \"Path\": \"/core/{**remainder}\"\n        },\n        \"Transforms\": [\n          { \"PathRemovePrefix\": \"/core\" },\n          { \"PathPrefix\": \"/\" },\n          { \"RequestHeaderOriginalHost\": \"true\" }\n        ]\n      },\n      \"base\": {\n        \"ClusterId\": \"base\",\n        \"Match\": {\n          \"Path\": \"/base/{**remainder}\"\n        },\n        \"Transforms\": [\n          { \"PathRemovePrefix\": \"/base\" },\n          { \"PathPrefix\": \"/\" },\n          { \"RequestHeaderOriginalHost\": \"true\" }\n        ]\n      }\n    },\n    \"Clusters\": {\n      \"core\": {\n        \"Destinations\": {\n          \"base_destination\": {\n            \"Address\": \"http+https://admin-net-core\"\n          }\n        }\n      },\n      \"base\": {\n        \"Destinations\": {\n          \"base_destination\": {\n            \"Address\": \"http+https://base\"\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<h2 id=\"ä¸šåŠ¡é¡¹ç›®baseé¡¹ç›®è°ƒç”¨æ ¸å¿ƒé¡¹ç›®coreé¡¹ç›®çš„æ–¹æ³•\">ä¸šåŠ¡é¡¹ç›®(baseé¡¹ç›®)è°ƒç”¨æ ¸å¿ƒé¡¹ç›®(coreé¡¹ç›®ï¼‰çš„æ–¹æ³•</h2>\n<p>æˆ‘ä»¬ä½¿ç”¨Refitæ¥æœåŠ¡è°ƒç”¨</p>\n<p>åœ¨baseé¡¹ç›®ä¸­çš„Startup.csä¸­</p>\n<pre><code>        // æ³¨å†Œ JwtTokenHandler - ç”¨äºè‡ªåŠ¨æ·»åŠ  JWT Token åˆ° Refit è¯·æ±‚\n        services.AddTransient&lt;JwtTokenHandler&gt;();\n        \n        // é…ç½® Refit å®¢æˆ·ç«¯å¹¶æ·»åŠ  JWT Token å¤„ç†å™¨\n        //ç³»ç»Ÿé…ç½®\n        services.AddRefitClient&lt;IConfigService&gt;(refitSettings)\n               .ConfigureHttpClient(c =&gt; c.BaseAddress = new(\"https+http://admin-net-core\"))\n               .AddHttpMessageHandler&lt;JwtTokenHandler&gt;();\n        //ç³»ç»Ÿèœå•     \n        services.AddRefitClient&lt;IMenuService&gt;(refitSettings)\n               .ConfigureHttpClient(c =&gt; c.BaseAddress = new(\"https+http://admin-net-core\"))\n               .AddHttpMessageHandler&lt;JwtTokenHandler&gt;();\n        //ç»„ç»‡æœºæ„\n        services.AddRefitClient&lt;IOrgService&gt;(refitSettings)\n               .ConfigureHttpClient(c =&gt; c.BaseAddress = new(\"https+http://admin-net-core\"))\n               .AddHttpMessageHandler&lt;JwtTokenHandler&gt;();\n        //æ–‡ä»¶\n        services.AddRefitClient&lt;IFileService&gt;(refitSettings)\n               .ConfigureHttpClient(c =&gt; c.BaseAddress = new(\"https+http://admin-net-core\"))\n               .AddHttpMessageHandler&lt;JwtTokenHandler&gt;();\n\n        services.AddRefitClient&lt;ITest&gt;(refitSettings)\n            .ConfigureHttpClient(c =&gt; c.BaseAddress = new(\"https+http://apiservice\"))\n            .AddHttpMessageHandler&lt;JwtTokenHandler&gt;();\n</code></pre>\n<p>å…¶ä¸­æœ€é‡è¦çš„æƒé™æ¥å£è°ƒç”¨</p>\n<pre><code>using Refit;\nusing GetAttribute = Refit.GetAttribute;\nnamespace Base.Rest;\n\npublic interface IMenuService\n{\n    [Get(\"/api/sysMenu/getOwnBtnPermList\")]\n    Task&lt;List&lt;string&gt;&gt; GetOwnBtnPermList();\n\n    [Get(\"/api/sysMenu/getAllBtnPermList\")]\n    Task&lt;List&lt;string&gt;&gt; GetAllBtnPermList();\n}\n</code></pre>\n<p>ä¿®æ”¹baseé¡¹ç›®çš„æƒé™éªŒè¯æ–¹æ³•JwtHandler.cs</p>\n<p>IConfigService  IMenuService å°±æ˜¯æˆ‘ä»¬å®šä¹‰çš„Refitæ¥å£ï¼Œè¿™æ ·ï¼Œæ¯æ¬¡æƒé™éªŒè¯å°±ä¼šè°ƒç”¨coreé¡¹ç›®çš„APIæ¥å£</p>\n<pre><code>using Admin.NET.Core;\nusing Admin.NET.Core.Service;\nusing Base.Rest;\nusing Furion;\nusing Furion.Authorization;\nusing Furion.DataEncryption;\nusing Microsoft.AspNetCore.Authorization;\nusing Microsoft.AspNetCore.Http;\nusing System;\nusing System.Threading.Tasks;\n\nnamespace Admin.NET.Application;\n\npublic class JwtHandler : AppAuthorizeHandler\n{\n    private readonly SysCacheService _sysCacheService = App.GetRequiredService&lt;SysCacheService&gt;();\n    private readonly IConfigService _sysConfigService = App.GetRequiredService&lt;IConfigService&gt;();\n    private static readonly IMenuService SysMenuService = App.GetRequiredService&lt;IMenuService&gt;();\n\n    /// &lt;summary&gt;\n    /// è‡ªåŠ¨åˆ·æ–°Token\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"context\"&gt;&lt;/param&gt;\n    /// &lt;param name=\"httpContext\"&gt;&lt;/param&gt;\n    /// &lt;returns&gt;&lt;/returns&gt;\n    public override async Task HandleAsync(AuthorizationHandlerContext context, DefaultHttpContext httpContext)\n    {\n        // è‹¥å½“å‰è´¦å·å­˜åœ¨é»‘åå•ä¸­åˆ™æˆæƒå¤±è´¥\n        if (_sysCacheService.ExistKey($\"{CacheConst.KeyBlacklist}{context.User.FindFirst(ClaimConst.UserId)?.Value}\"))\n        {\n            context.Fail();\n            context.GetCurrentHttpContext().SignoutToSwagger();\n            return;\n        }\n\n        var tokenExpire = await _sysConfigService.GetTokenExpire();\n        var refreshTokenExpire = await _sysConfigService.GetRefreshTokenExpire();\n        if (JWTEncryption.AutoRefreshToken(context, context.GetCurrentHttpContext(), tokenExpire.Result, refreshTokenExpire.Result))\n        {\n            await AuthorizeHandleAsync(context);\n        }\n        else\n        {\n            context.Fail(); // æˆæƒå¤±è´¥\n            var currentHttpContext = context.GetCurrentHttpContext();\n            if (currentHttpContext == null) return;\n\n            // è·³è¿‡ç”±äº SignatureAuthentication å¼•å‘çš„å¤±è´¥\n            if (currentHttpContext.Items.ContainsKey(SignatureAuthenticationDefaults.AuthenticateFailMsgKey)) return;\n            currentHttpContext.SignoutToSwagger();\n        }\n    }\n\n    public override async Task&lt;bool&gt; PipelineAsync(AuthorizationHandlerContext context, DefaultHttpContext httpContext)\n    {\n        // å·²è‡ªåŠ¨éªŒè¯ Jwt Token æœ‰æ•ˆæ€§\n        return await CheckAuthorizeAsync(httpContext);\n    }\n\n    /// &lt;summary&gt;\n    /// æƒé™æ ¡éªŒæ ¸å¿ƒé€»è¾‘\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"httpContext\"&gt;&lt;/param&gt;\n    /// &lt;returns&gt;&lt;/returns&gt;\n    private static async Task&lt;bool&gt; CheckAuthorizeAsync(DefaultHttpContext httpContext)\n    {\n        // ç™»å½•æ¨¡å¼åˆ¤æ–­PCã€APP\n        if (App.User.FindFirst(ClaimConst.LoginMode)?.Value == ((int)LoginModeEnum.APP).ToString())\n            return true;\n\n        // æ’é™¤è¶…ç®¡\n        if (App.User.FindFirst(ClaimConst.AccountType)?.Value == ((int)AccountTypeEnum.SuperAdmin).ToString())\n            return true;\n\n        // è·¯ç”±åç§°\n        var routeName = httpContext.Request.Path.StartsWithSegments(\"/api\")\n            ? httpContext.Request.Path.Value![5..].Replace(\"/\", \":\")\n            : httpContext.Request.Path.Value![1..].Replace(\"/\", \":\");\n\n        // è·å–ç”¨æˆ·æ‹¥æœ‰æŒ‰é’®æƒé™é›†åˆ\n        var ownBtnPermList = await SysMenuService.GetOwnBtnPermList();\n        if (ownBtnPermList.Exists(u =&gt; routeName.Equals(u, StringComparison.CurrentCultureIgnoreCase)))\n            return true;\n\n        // è·å–ç³»ç»Ÿæ‰€æœ‰æŒ‰é’®æƒé™é›†åˆ\n        var allBtnPermList = await SysMenuService.GetAllBtnPermList();\n        return allBtnPermList.TrueForAll(u =&gt; !routeName.Equals(u, StringComparison.CurrentCultureIgnoreCase));\n    }\n}\n</code></pre>\n<h2 id=\"é¡¹ç›®åœ°å€\">é¡¹ç›®åœ°å€</h2>\n<p><a href=\"https://gitee.com/shiningrise/aspire-app\" rel=\"noopener nofollow\" target=\"_blank\">AspireApp: Admin.NETå¾®æœåŠ¡ç‰ˆ</a></p>\n<p><a href=\"https://gitee.com/zuohuaijun/Admin.NET\" rel=\"noopener nofollow\" target=\"_blank\">Admin.NET: ğŸ”¥ğŸ”¥ğŸ”¥ Admin.NET åŸºäº .NET8/10 (Furion/SqlSugar) å®ç°çš„é€šç”¨æƒé™å¼€å‘æ¡†æ¶ï¼Œå‰ç«¯é‡‡ç”¨ Vue3/Element-plusï¼Œä»£ç ç®€æ´ã€æ˜“æ‰©å±•ã€‚æ•´åˆæœ€æ–°æŠ€æœ¯ï¼Œæ¨¡å—æ’ä»¶å¼å¼€å‘ï¼Œå‰åç«¯åˆ†ç¦»ï¼Œå¼€ç®±å³ç”¨ã€‚é›†æˆå¤šç§Ÿæˆ·ã€ç¼“å­˜ã€æ•°æ®æ ¡éªŒã€é‰´æƒã€äº‹ä»¶æ€»çº¿ã€åŠ¨æ€APIã€é€šè®¯ã€è¿œç¨‹è¯·æ±‚ã€ä»»åŠ¡è°ƒåº¦ã€æ‰“å°ç­‰ä¼—å¤šé»‘ç§‘æŠ€ã€‚è®©å¼€å‘æ›´ç®€å•ã€æ›´é€šç”¨ã€æ›´æµè¡Œï¼</a></p>\n\n\n</div>\n<div id=\"MySignature\">\n    æ¬¢è¿å…‰ä¸´:<font size=\"3\"><font size=\"3\"><a href=\"http://shiningrise.cnblogs.com/\" target=\"_blank\"><font size=\"3\"><font size=\"3\">http://shiningrise.cnblogs.com</font></font></a><br /><br /></font></font>\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-02-13 15:44</span>&nbsp;\n<a href=\"https://www.cnblogs.com/shiningrise\">shiningrise</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">44</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "Nano-vLLM-Ascend(æŒç»­æ›´æ–°ä¸­)",
      "link": "https://www.cnblogs.com/linzm14/p/19611415",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/linzm14/p/19611415\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-02-13 11:38\">\n    <span>Nano-vLLM-Ascend(æŒç»­æ›´æ–°ä¸­)</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h2 id=\"nano-vllm-ascend\"><a href=\"https://github.com/linzm1007/nano-vllm-ascend\" rel=\"noopener nofollow\" target=\"_blank\">Nano-vLLM-Ascend</a></h2>\n<p>é¡¹ç›®é“¾æ¥ï¼š<a href=\"https://github.com/linzm1007/nano-vllm-ascend\" rel=\"noopener nofollow\" target=\"_blank\">https://github.com/linzm1007/nano-vllm-ascend</a><br />\nnano-vllmæ˜¯githubå¼€æºçš„ä¸€ä¸ªgpuæ¨ç†é¡¹ç›®ï¼ŒåŸºäºå¼€æºç‰ˆæœ¬å¼„çš„ä¸€ä¸ªascend npuç‰ˆæœ¬æ¨ç†å°demoï¼Œæ—¨åœ¨å¸®åŠ©åˆå­¦è€…äº†è§£æ¨ç†çš„æ•´ä½“æµç¨‹ï¼ŒåŒºåˆ«äºvllmï¼Œnano-vllmä½“é‡æ›´å°ï¼Œéº»é›€è™½å°äº”è„ä¿±å…¨ï¼Œæ›´æœ‰åŠ©äºåˆå­¦è€…å­¦ä¹ ï¼Œéå¸¸é€‚åˆç”¨äºç›¸å…³æ¦‚å¿µçš„ç†è§£ã€‚</p>\n<h2 id=\"æ¡†æ¶å±‚æµç¨‹å›¾\">æ¡†æ¶å±‚æµç¨‹å›¾</h2>\n<p><img alt=\"nona-vllmæ¡†æ¶\" class=\"lazyload\" /></p>\n<h2 id=\"æ¨¡å‹å±‚æµç¨‹å›¾\">æ¨¡å‹å±‚æµç¨‹å›¾</h2>\n<p><img alt=\"Qwen3-0.6B\" class=\"lazyload\" /></p>\n<h2 id=\"ç‰¹æ€§\">ç‰¹æ€§</h2>\n<ul>\n<li>ğŸ“– <strong>å¯è¯»ä»£ç åº“</strong> - æ ¸å¿ƒçº¦2428è¡ŒPythonä»£ç çš„æ¸…æ™°å®ç°</li>\n<li>âš¡ <strong>ä¼˜åŒ–å¥—ä»¶</strong> - å¼ é‡å¹¶è¡Œã€torchair Ascend IRå›¾ç¼–è¯‘å’Œå›¾ç¼“å­˜ã€èåˆç®—å­ã€å‰ç¼€ç¼“å­˜ç­‰</li>\n</ul>\n<ul>\n<li>[âœ…] å¾…å®Œæˆï¼šç›®å‰åªæ”¯æŒå•ç®—å­, npuå›¾æ¨¡å¼å®ç°</li>\n<li>[âœ…] æ”¯æŒCPUç¯å¢ƒè¿è¡Œï¼š<a href=\"https://github.com/linzm1007/nano-vllm-cpu\" rel=\"noopener nofollow\" target=\"_blank\">nano-vllm-cpu ä»£ç ä»“åº“</a></li>\n<li>[âœ…] æ€§èƒ½ä¼˜åŒ–</li>\n<li>[â³] æ”¯æŒæ¨¡å‹: Qwen3-0.6Bã€Qwen3-32Bã€Qwen2-0.5Bã€Qwen2.5-0.5Bã€Qwen2.5-0.5B-Instructã€Llama-3.2-1B-Instructã€Qwen3-30B-A3Bã€Qwen3-VL-2B-Instructã€MiniCPM4-0.5B</li>\n<li>[âœ…] æ”¯æŒä¸€ä¸ªmoeæ¨¡å‹:Qwen3-30B-A3B(æš‚æ—¶ä¸æ”¯æŒå…¥å›¾)</li>\n<li>[ğŸ“…] æ”¯æŒä¸€ä¸ªomniæ¨¡å‹</li>\n<li>[âœ…] æ”¯æŒä¸€ä¸ªvlæ¨¡å‹:Qwen3-VL-2B-Instruct(æš‚æ—¶ä¸æ”¯æŒå…¥å›¾)</li>\n<li>[âœ…] å®ç°page attention</li>\n<li>[ğŸ“…] å®ç°ä¸€ä¸ªè‡ªå®šä¹‰ç®—å­</li>\n<li>[ğŸ“…] æ”¯æŒåœ¨çº¿æ¨ç†</li>\n</ul>\n<p>torchairæ¥å£å‚è€ƒ <a href=\"https://www.hiascend.com/document/detail/zh/Pytorch/710/modthirdparty/torchairuseguide/torchair_00008.html\" rel=\"noopener nofollow\" target=\"_blank\">https://www.hiascend.com/document/detail/zh/Pytorch/710/modthirdparty/torchairuseguide/torchair_00008.html</a><br />\nèåˆç®—å­æ¥å£å‚è€ƒ <a href=\"https://www.hiascend.com/document/detail/zh/Pytorch/720/apiref/torchnpuCustomsapi/context/torch_npu-npu_fused_infer_attention_score_v2.md\" rel=\"noopener nofollow\" target=\"_blank\">https://www.hiascend.com/document/detail/zh/Pytorch/720/apiref/torchnpuCustomsapi/context/torch_npu-npu_fused_infer_attention_score_v2.md</a><br />\nattentionå®ç°å‚è€ƒ <a href=\"https://gitee.com/omniai/omniinfer/blob/master/omni/layers/attention/backend/attention.py\" rel=\"noopener nofollow\" target=\"_blank\">https://gitee.com/omniai/omniinfer/blob/master/omni/layers/attention/backend/attention.py</a>  forward_vanillaå‡½æ•°</p>\n<h2 id=\"æ”¯æŒçš„æ¨¡å‹\">æ”¯æŒçš„æ¨¡å‹</h2>\n<table>\n<thead>\n<tr>\n<th>æ¶æ„</th>\n<th>æ¨¡å‹</th>\n<th>ç¤ºä¾‹ HF æ¨¡å‹</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Qwen3ForCausalLM</td>\n<td>Qwen3-0.6B,Qwen3-32B</td>\n<td></td>\n</tr>\n<tr>\n<td>Qwen2ForCausalLM</td>\n<td>Qwen2-0.5B</td>\n<td></td>\n</tr>\n<tr>\n<td>LlamaForCausalLM</td>\n<td>Llama-3.2-1B-Instruct</td>\n<td></td>\n</tr>\n<tr>\n<td>Qwen3MoeForCausalLM</td>\n<td>Qwen3-30B-A3B</td>\n<td></td>\n</tr>\n<tr>\n<td>Qwen3VLForConditionalGeneration</td>\n<td>Qwen2.5-VL-3B-Instruct</td>\n<td></td>\n</tr>\n<tr>\n<td>MiniCPMForCausalLM</td>\n<td>MiniCPM4-0.5B</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"ä»£ç è¡Œæ•°\">ä»£ç è¡Œæ•°</h2>\n<p>ğŸ“Š æ€»ä½“æ•°æ®</p>\n<table>\n<thead>\n<tr>\n<th>èŒƒå›´</th>\n<th>æ–‡ä»¶æ•°</th>\n<th>æ€»è¡Œæ•°</th>\n<th>å æ¯”</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>nanovllm å…¨éƒ¨</td>\n<td>20 ä¸ª</td>\n<td>4,652 è¡Œ</td>\n<td>100%</td>\n</tr>\n<tr>\n<td>models ç›®å½•</td>\n<td>5 ä¸ª</td>\n<td>2,224 è¡Œ</td>\n<td>47.8%</td>\n</tr>\n<tr>\n<td>é™¤ models å¤–</td>\n<td>15 ä¸ª</td>\n<td>2,428 è¡Œ</td>\n<td>52.2%</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"æ¨ç†ä¼˜åŒ–æŠ€æœ¯å¤§çº²\">æ¨ç†ä¼˜åŒ–æŠ€æœ¯å¤§çº²</h2>\n<p>ğŸ“š <strong>å®Œæ•´æŠ€æœ¯æ–‡æ¡£</strong>ï¼š<a href=\"https://github.com/linzm1007/nano-vllm-ascend/blob/main/docs/inference_optimization_guide.md\" rel=\"noopener nofollow\" target=\"_blank\">LLM æ¨ç†ä¼˜åŒ–æŠ€æœ¯å¤§çº²</a></p>\n<p>æœ¬æ–‡æ¡£æ•´ç†äº† LLM æ¨ç†é¢†åŸŸçš„ <strong>20 å¤§ç±»å…³é”®æŠ€æœ¯</strong>ï¼Œåˆ†ä¸º 7 ä¸ªå±‚æ¬¡ï¼š</p>\n<h3 id=\"-æ ¸å¿ƒæŠ€æœ¯åŸºç¡€å¿…å¤‡\">ğŸ”¥ æ ¸å¿ƒæŠ€æœ¯ï¼ˆåŸºç¡€å¿…å¤‡ï¼‰</h3>\n<ul>\n<li><strong>KV Cache ç®¡ç†</strong>ï¼šPageAttentionã€Prefix Cachingã€KV Cache å‹ç¼©</li>\n<li><strong>Attention ä¼˜åŒ–</strong>ï¼šFlashAttentionã€GQA/MQAã€ç¨€ç–æ³¨æ„åŠ›</li>\n<li><strong>æ‰¹å¤„ç†ç­–ç•¥</strong>ï¼šContinuous Batchingã€Dynamic Batching</li>\n</ul>\n<h3 id=\"-æ€§èƒ½ä¼˜åŒ–è¿›é˜¶\">ğŸš€ æ€§èƒ½ä¼˜åŒ–ï¼ˆè¿›é˜¶ï¼‰</h3>\n<ul>\n<li><strong>é‡åŒ–æŠ€æœ¯</strong>ï¼šINT8/INT4/FP8ã€AWQã€GPTQã€GGUF</li>\n<li><strong>æŠ•æœºé‡‡æ ·</strong>ï¼šSpeculative Decodingã€Medusaã€Lookahead</li>\n<li><strong>è§£ç ä¼˜åŒ–</strong>ï¼šParallel Decodingã€Token Tree Verification</li>\n</ul>\n<h3 id=\"ï¸-ç³»ç»Ÿæ¶æ„\">ğŸ—ï¸ ç³»ç»Ÿæ¶æ„</h3>\n<ul>\n<li><strong>è°ƒåº¦ç­–ç•¥</strong>ï¼šFCFSã€SJFã€Priority-basedã€Preemption</li>\n<li><strong>å†…å­˜ä¼˜åŒ–</strong>ï¼šMemory Poolã€Swappingã€Offloading</li>\n<li><strong>å¹¶è¡Œç­–ç•¥</strong>ï¼šTensor/Pipeline/Expert/Sequence Parallelism</li>\n</ul>\n<h3 id=\"-ç‰¹æ®Šåœºæ™¯\">ğŸ§  ç‰¹æ®Šåœºæ™¯</h3>\n<ul>\n<li><strong>é•¿ä¸Šä¸‹æ–‡</strong>ï¼šRoPE Scalingã€StreamingLLMã€Ring Attention</li>\n<li><strong>å¤šæ¨¡æ€</strong>ï¼šVision-Languageã€Audio-Languageã€Unified Architecture</li>\n<li><strong>MoE ä¼˜åŒ–</strong>ï¼šExpert Routingã€Load Balancingã€All-to-All é€šä¿¡</li>\n</ul>\n<h3 id=\"-åº•å±‚ä¼˜åŒ–\">âš¡ åº•å±‚ä¼˜åŒ–</h3>\n<ul>\n<li><strong>å›¾ç¼–è¯‘</strong>ï¼šTorchAirã€TensorRT-LLMã€Torch.compile</li>\n<li><strong>ç®—å­èåˆ</strong>ï¼šQKV Fusionã€Custom CUDA/Triton Kernels</li>\n<li><strong>é€šä¿¡ä¼˜åŒ–</strong>ï¼šNCCL/HCCLã€RDMAã€GPUDirect</li>\n</ul>\n<h3 id=\"-è¯„ä¼°è§‚æµ‹\">ğŸ“Š è¯„ä¼°è§‚æµ‹</h3>\n<ul>\n<li><strong>æ€§èƒ½åˆ†æ</strong>ï¼šMemory/Compute Profilingã€Roofline Analysis</li>\n<li><strong>å…³é”®æŒ‡æ ‡</strong>ï¼šTTFTã€TPOTã€Throughputã€GPU Utilization</li>\n</ul>\n<h3 id=\"-å‰æ²¿è¶‹åŠ¿\">ğŸ”® å‰æ²¿è¶‹åŠ¿</h3>\n<ul>\n<li><strong>æ¨¡å‹æ¶æ„</strong>ï¼šMamba/RWKVã€Mixture of Depthsã€RetNet</li>\n<li><strong>æœåŠ¡åŒ–</strong>ï¼šDisaggregated Servingã€Elastic Scaling</li>\n<li><strong>æ–°å…´æ–¹å‘</strong>ï¼šæ¨ç†è’¸é¦ã€Early Exitã€Hardware-Aware NAS</li>\n</ul>\n<hr />\n<h2 id=\"attention\">Attention</h2>\n<h3 id=\"pageattention\">PageAttention</h3>\n<p><strong>PageAttention</strong> æ˜¯ vLLM çš„æ ¸å¿ƒåˆ›æ–°æŠ€æœ¯ï¼Œçµæ„Ÿæ¥è‡ªæ“ä½œç³»ç»Ÿçš„<strong>è™šæ‹Ÿå†…å­˜åˆ†é¡µæœºåˆ¶</strong>ï¼Œç”¨äºé«˜æ•ˆç®¡ç† LLM æ¨ç†ä¸­çš„ KV Cacheã€‚</p>\n<h4 id=\"æ ¸å¿ƒæ¦‚å¿µ\">æ ¸å¿ƒæ¦‚å¿µ</h4>\n<p>ä¼ ç»Ÿ KV Cache åˆ†é…æ–¹å¼ä¼šä¸ºæ¯ä¸ªåºåˆ—é¢„åˆ†é…æœ€å¤§å¯èƒ½é•¿åº¦çš„è¿ç»­å†…å­˜ï¼Œå¯¼è‡´ä¸¥é‡çš„å†…å­˜æµªè´¹å’Œç¢ç‰‡ã€‚PageAttention å€Ÿé‰´æ“ä½œç³»ç»Ÿåˆ†é¡µæ€æƒ³ï¼Œå°† KV Cache åˆ’åˆ†ä¸ºå›ºå®šå¤§å°çš„ blockï¼ŒæŒ‰éœ€åŠ¨æ€åˆ†é…ã€‚</p>\n<h4 id=\"å…³é”®æŠ€æœ¯ç‚¹\">å…³é”®æŠ€æœ¯ç‚¹</h4>\n<table>\n<thead>\n<tr>\n<th>æŠ€æœ¯</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>Block ç®¡ç†</strong></td>\n<td>å°† KV Cache åˆ’åˆ†ä¸ºå›ºå®šå¤§å°çš„ blockï¼ˆå¦‚ 16/32 tokensï¼‰ï¼Œæ¯ä¸ª block ç‹¬ç«‹åˆ†é…</td>\n</tr>\n<tr>\n<td><strong>Block Table</strong></td>\n<td>ç±»ä¼¼é¡µè¡¨çš„æ•°æ®ç»“æ„ï¼Œè®°å½•é€»è¾‘ token ä½ç½®åˆ°ç‰©ç† block çš„æ˜ å°„å…³ç³»</td>\n</tr>\n<tr>\n<td><strong>éè¿ç»­å­˜å‚¨</strong></td>\n<td>åŒä¸€åºåˆ—çš„ KV Cache å¯ä»¥åˆ†æ•£åœ¨å¤šä¸ªä¸è¿ç»­çš„ block ä¸­</td>\n</tr>\n<tr>\n<td><strong>å†…å­˜å…±äº«</strong></td>\n<td>å¹¶è¡Œè§£ç ï¼ˆå¦‚ beam searchï¼‰æ—¶å¯å…±äº« prompt çš„ KV cache</td>\n</tr>\n<tr>\n<td><strong>Copy-on-Write</strong></td>\n<td>å†™æ—¶å¤åˆ¶æœºåˆ¶ï¼Œä»…åœ¨éœ€è¦ä¿®æ”¹æ—¶æ‰å¤åˆ¶ block</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"å†…å­˜ä½¿ç”¨å¯¹æ¯”\">å†…å­˜ä½¿ç”¨å¯¹æ¯”</h4>\n<pre><code>ä¼ ç»Ÿæ–¹å¼ï¼š\n- åºåˆ—é•¿åº¦ 1000ï¼Œæœ€å¤§æ”¯æŒ 4096\n- å†…å­˜å ç”¨ï¼š4096 * hidden_size\n- æµªè´¹ç‡ï¼šçº¦ 75%\n\nPageAttentionï¼š\n- åºåˆ—é•¿åº¦ 1000ï¼Œblock_size=16\n- éœ€è¦ blockï¼š1000/16 = 63 ä¸ª\n- å®é™…åˆ†é…ï¼š63 * 16 = 1008 tokens\n- æµªè´¹ç‡ï¼šä»… 0.8%\n</code></pre>\n<h4 id=\"ä»£ç å®ç°\">ä»£ç å®ç°</h4>\n<pre><code class=\"language-python\"># nanovllm/layers/attention.py\n# Block Table æ˜ å°„\nblock_table = context.block_tables  # æ˜ å°„è¡¨\n\n# Slot Mapping - å°† token æ˜ å°„åˆ° block ä¸­çš„å…·ä½“ä½ç½®\n# slot_mapping æ ¼å¼ï¼š[block_idx, offset_in_block]\ncontext.slot_mapping\n\n# åˆ†é¡µå­˜å‚¨ KV Cache\ntorch_npu._npu_reshape_and_cache(\n    k, v,\n    k_cache.view(num_blocks, block_size, num_kv_heads, head_dim),\n    v_cache.view(num_blocks, block_size, num_kv_heads, head_dim),\n    slot_mapping.int()\n)\n</code></pre>\n<h4 id=\"ä¼˜åŠ¿\">ä¼˜åŠ¿</h4>\n<ol>\n<li><strong>å†…å­˜æ•ˆç‡</strong>ï¼šæŒ‰éœ€åˆ†é…ï¼Œæ— å†…éƒ¨ç¢ç‰‡</li>\n<li><strong>åŠ¨æ€æ‰©å±•</strong>ï¼šåºåˆ—å¢é•¿æ—¶åªéœ€åˆ†é…æ–° block</li>\n<li><strong>å†…å­˜å…±äº«</strong>ï¼šå¤šä¸ªåºåˆ—å¯å…±äº«ç›¸åŒçš„ prompt KV Cache</li>\n<li><strong>é«˜ååé‡</strong>ï¼šæ”¯æŒæ›´å¤§çš„ batch size</li>\n</ol>\n<h4 id=\"è¯¦ç»†å¯¹æ¯”\">è¯¦ç»†å¯¹æ¯”</h4>\n<p>ğŸ“„ <strong>è¯¦ç»†æŠ€æœ¯æ–‡æ¡£</strong>ï¼š<a href=\"https://github.com/linzm1007/nano-vllm-ascend/blob/main/docs/pageattention_comparison.md\" rel=\"noopener nofollow\" target=\"_blank\">HuggingFace Transformers æ—©æœŸå®ç°ä¸ PageAttention å¯¹æ¯”</a></p>\n<p>åŒ…å«ï¼š</p>\n<ul>\n<li>æ—©æœŸ Transformers ä»£ç å®ç°åˆ†æ</li>\n<li>å†…å­˜æµªè´¹çš„é‡åŒ–å¯¹æ¯”ï¼ˆ75% vs 6.25%ï¼‰</li>\n<li>ä¸åŒ batch size å’Œåºåˆ—é•¿åº¦çš„è¯¦ç»†å¯¹æ¯”è¡¨</li>\n<li>vLLM è®ºæ–‡æ•°æ®æ¥æºè¯´æ˜</li>\n<li>å®é™…ä»£ç ç¤ºä¾‹å’Œåœºæ™¯åˆ†æ</li>\n</ul>\n<hr />\n<h3 id=\"flashattention\">FlashAttention</h3>\n<p><strong>FlashAttention</strong> æ˜¯æ–¯å¦ç¦å¤§å­¦æå‡ºçš„ <strong>IO æ„ŸçŸ¥</strong> æ³¨æ„åŠ›ä¼˜åŒ–ç®—æ³•ï¼Œé€šè¿‡åˆ†å—è®¡ç®—å’Œå‡å°‘ HBMï¼ˆé«˜å¸¦å®½å†…å­˜ï¼‰è®¿é—®æ¥æå‡æ€§èƒ½ã€‚</p>\n<h4 id=\"æ ¸å¿ƒé—®é¢˜\">æ ¸å¿ƒé—®é¢˜</h4>\n<p>æ ‡å‡† Attention å®ç°éœ€è¦å­˜å‚¨ä¸­é—´ç»“æœï¼ˆæ³¨æ„åŠ›çŸ©é˜µï¼‰åˆ° HBMï¼Œå¯¼è‡´ï¼š</p>\n<ul>\n<li><strong>å†…å­˜ç“¶é¢ˆ</strong>ï¼šHBM å¸¦å®½è¿œä½äºè®¡ç®—é€Ÿåº¦</li>\n<li><strong>O(NÂ²) å†…å­˜</strong>ï¼šåºåˆ—é•¿åº¦çš„å¹³æ–¹çº§å†…å­˜å¢é•¿</li>\n<li><strong>å¤šæ¬¡æ•°æ®æ¬è¿</strong>ï¼šQã€Kã€V éœ€è¦å¤šæ¬¡è¯»å†™ HBM</li>\n</ul>\n<h4 id=\"æ ¸å¿ƒåˆ›æ–°\">æ ¸å¿ƒåˆ›æ–°</h4>\n<table>\n<thead>\n<tr>\n<th>æŠ€æœ¯</th>\n<th>åŸç†</th>\n<th>æ•ˆæœ</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>Tilingï¼ˆåˆ†å—ï¼‰</strong></td>\n<td>å°† Qã€Kã€V åˆ†å—åŠ è½½åˆ°é«˜é€Ÿ SRAM</td>\n<td>å‡å°‘ HBM è®¿é—®æ¬¡æ•°</td>\n</tr>\n<tr>\n<td><strong>Online Softmax</strong></td>\n<td>æµå¼è®¡ç®— softmaxï¼Œæ— éœ€å®Œæ•´æ³¨æ„åŠ›çŸ©é˜µ</td>\n<td>å†…å­˜é™è‡³ O(N)</td>\n</tr>\n<tr>\n<td><strong>Recomputation</strong></td>\n<td>åå‘ä¼ æ’­æ—¶é‡æ–°è®¡ç®—ä¸­é—´å€¼</td>\n<td>ç‰ºç‰²è®¡ç®—æ¢å†…å­˜</td>\n</tr>\n<tr>\n<td><strong>Kernel Fusion</strong></td>\n<td>å¤šä¸ªæ“ä½œèåˆä¸ºå•ä¸ª CUDA kernel</td>\n<td>å‡å°‘ kernel å¯åŠ¨å¼€é”€</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"å†…å­˜å±‚æ¬¡ç»“æ„å¯¹æ¯”\">å†…å­˜å±‚æ¬¡ç»“æ„å¯¹æ¯”</h4>\n<pre><code>GPU å†…å­˜å±‚æ¬¡ï¼š\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  HBM (High Bandwidth Memory)        â”‚  â† 1.5 TB/sï¼Œå®¹é‡å¤§ä½†é€Ÿåº¦æ…¢\nâ”‚  - å®¹é‡ï¼š40-80 GB                   â”‚  â† æ ‡å‡† Attention åœ¨æ­¤é¢‘ç¹è¯»å†™\nâ”‚  - å»¶è¿Ÿï¼šé«˜                         â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  SRAM (Static RAM / Shared Memory)  â”‚  â† 19 TB/sï¼Œå®¹é‡å°ä½†é€Ÿåº¦å¿«\nâ”‚  - å®¹é‡ï¼š~100 KB per SM             â”‚  â† FlashAttention ä¸»è¦åœ¨æ­¤è®¡ç®—\nâ”‚  - å»¶è¿Ÿï¼šæä½                       â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n</code></pre>\n<h4 id=\"è®¡ç®—æµç¨‹å¯¹æ¯”\">è®¡ç®—æµç¨‹å¯¹æ¯”</h4>\n<p><strong>æ ‡å‡† Attentionï¼š</strong></p>\n<pre><code>1. ä» HBM åŠ è½½ Q, K, V\n2. è®¡ç®— S = QK^T â†’ å†™å…¥ HBM\n3. è®¡ç®— P = softmax(S) â†’ å†™å…¥ HBM  \n4. è®¡ç®— O = PV â†’ å†™å…¥ HBM\nâŒ å¤šæ¬¡ HBM è¯»å†™ï¼Œå†…å­˜å ç”¨ O(NÂ²)\n</code></pre>\n<p><strong>FlashAttentionï¼š</strong></p>\n<pre><code>1. åˆ†å—åŠ è½½ Qáµ¢, Kâ±¼, Vâ±¼ åˆ° SRAM\n2. åœ¨ SRAM ä¸­è®¡ç®— softmax\n3. ç´¯åŠ ç»“æœåˆ°è¾“å‡º\n4. ä¸¢å¼ƒä¸­é—´ç»“æœï¼Œé‡å¤ç›´åˆ°å®Œæˆ\nâœ… ä»…éœ€ O(N) å†…å­˜ï¼Œå¤§å¹…å‡å°‘ HBM è®¿é—®\n</code></pre>\n<h4 id=\"ä»£ç å®ç°-1\">ä»£ç å®ç°</h4>\n<pre><code class=\"language-python\"># nanovllm/layers/attention_ori.py\nfrom flash_attn import (\n    flash_attn_varlen_func,      # Prefill é˜¶æ®µ\n    flash_attn_with_kvcache      # Decode é˜¶æ®µ\n)\n\n# Prefill - å¤„ç†å˜é•¿åºåˆ—ï¼Œæ”¯æŒ PageAttention\nflash_attn_varlen_func(\n    q, k, v,\n    max_seqlen_q=max_seqlen_q,\n    cu_seqlens_q=cu_seqlens_q,    # ç´¯è®¡é•¿åº¦æ”¯æŒå˜é•¿\n    causal=True,                  # å› æœæ©ç \n    block_table=block_table       # PageAttention block table\n)\n\n# Decode - å• token æ¨ç†ï¼Œå¤ç”¨åˆ†é¡µ KV Cache\nflash_attn_with_kvcache(\n    q.unsqueeze(1),               # [batch, 1, num_heads, head_dim]\n    k_cache, v_cache,             # åˆ†é¡µ KV ç¼“å­˜\n    cache_seqlens=context_lens,   # å®é™…åºåˆ—é•¿åº¦\n    block_table=block_table       # block table æ˜ å°„\n)\n</code></pre>\n<h4 id=\"æ€§èƒ½æ”¶ç›Š\">æ€§èƒ½æ”¶ç›Š</h4>\n<ul>\n<li><strong>å†…å­˜æ•ˆç‡</strong>ï¼šä» O(NÂ²) é™è‡³ O(N)</li>\n<li><strong>è®¡ç®—é€Ÿåº¦</strong>ï¼šA100 ä¸Šå¯è¾¾ <strong>2-4 å€</strong>åŠ é€Ÿ</li>\n<li><strong>åºåˆ—é•¿åº¦</strong>ï¼šæ”¯æŒæ›´é•¿çš„ä¸Šä¸‹æ–‡ï¼ˆå¦‚ 100K+ tokensï¼‰</li>\n</ul>\n<hr />\n<h3 id=\"ä¸‰ç§-attention-å®ç°å¯¹æ¯”\">ä¸‰ç§ Attention å®ç°å¯¹æ¯”</h3>\n<p>æœ¬é¡¹ç›®åŒ…å«ä¸‰ç§ Attention å®ç°ï¼Œé€‚ç”¨äºä¸åŒåœºæ™¯ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>ç‰¹æ€§</th>\n<th>attention_ori.py</th>\n<th>attention.py</th>\n<th>attention_torch_native.py</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>åº•å±‚å®ç°</strong></td>\n<td>Flash Attention åº“</td>\n<td>NPU åŸç”Ÿç®—å­</td>\n<td>PyTorch åŸç”Ÿ</td>\n</tr>\n<tr>\n<td><strong>é€‚ç”¨å¹³å°</strong></td>\n<td>CUDA GPU</td>\n<td>åä¸ºæ˜‡è…¾ NPU</td>\n<td>é€šç”¨ï¼ˆCPU/GPUï¼‰</td>\n</tr>\n<tr>\n<td><strong>æ€§èƒ½</strong></td>\n<td>â­â­â­â­â­</td>\n<td>â­â­â­â­â­</td>\n<td>â­â­</td>\n</tr>\n<tr>\n<td><strong>å¯è¯»æ€§</strong></td>\n<td>â­â­</td>\n<td>â­â­</td>\n<td>â­â­â­â­â­</td>\n</tr>\n<tr>\n<td><strong>ç”¨é€”</strong></td>\n<td>ç”Ÿäº§ç¯å¢ƒï¼ˆGPUï¼‰</td>\n<td>ç”Ÿäº§ç¯å¢ƒï¼ˆNPUï¼‰</td>\n<td>å­¦ä¹ è°ƒè¯•</td>\n</tr>\n</tbody>\n</table>\n<p><strong>é€‰æ‹©å»ºè®®ï¼š</strong></p>\n<ul>\n<li><strong>ç”Ÿäº§ç¯å¢ƒï¼ˆGPUï¼‰</strong>ï¼šä½¿ç”¨ <code>attention_ori.py</code>ï¼ˆFlash Attentionï¼‰</li>\n<li><strong>ç”Ÿäº§ç¯å¢ƒï¼ˆæ˜‡è…¾ NPUï¼‰</strong>ï¼šä½¿ç”¨ <code>attention.py</code>ï¼ˆNPU ç®—å­ï¼‰</li>\n<li><strong>å­¦ä¹ /è°ƒè¯•</strong>ï¼šä½¿ç”¨ <code>attention_torch_native.py</code>ï¼ˆæ˜“äºç†è§£ï¼‰</li>\n</ul>\n<h2 id=\"æ–‡æ¡£ç´¢å¼•\">æ–‡æ¡£ç´¢å¼•</h2>\n<p>æœ¬ç›®å½•åŒ…å«é¡¹ç›®å„æ¨¡å—çš„è¯¦ç»†æµç¨‹å›¾æ–‡æ¡£ï¼Œä½¿ç”¨ Mermaid è¯­æ³•ç»˜åˆ¶ã€‚</p>\n<h3 id=\"engine-æ¨¡å—æµç¨‹å›¾\">Engine æ¨¡å—æµç¨‹å›¾</h3>\n<table>\n<thead>\n<tr>\n<th>æ–‡æ¡£</th>\n<th>æè¿°</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"https://github.com/linzm1007/nano-vllm-ascend/blob/main/docs/engine/sequence_flowchart.md\" rel=\"noopener nofollow\" target=\"_blank\">docs/engine/sequence_flowchart.md</a></td>\n<td>Sequence åºåˆ—çŠ¶æ€ç®¡ç†æµç¨‹</td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/linzm1007/nano-vllm-ascend/blob/main/docs/engine/block_manager_flowchart.md\" rel=\"noopener nofollow\" target=\"_blank\">docs/engine/block_manager_flowchart.md</a></td>\n<td>BlockManager KVç¼“å­˜å—ç®¡ç†æµç¨‹</td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/linzm1007/nano-vllm-ascend/blob/main/docs/engine/scheduler_flowchart.md\" rel=\"noopener nofollow\" target=\"_blank\">docs/engine/scheduler_flowchart.md</a></td>\n<td>Scheduler è°ƒåº¦å™¨æµç¨‹</td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/linzm1007/nano-vllm-ascend/blob/main/docs/engine/model_runner_flowchart.md\" rel=\"noopener nofollow\" target=\"_blank\">docs/engine/model_runner_flowchart.md</a></td>\n<td>ModelRunner æ¨¡å‹è¿è¡Œå™¨æµç¨‹</td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/linzm1007/nano-vllm-ascend/blob/main/docs/engine/llm_engine_flowchart.md\" rel=\"noopener nofollow\" target=\"_blank\">docs/engine/llm_engine_flowchart.md</a></td>\n<td>LLMEngine ä¸»å¼•æ“æµç¨‹</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"layers-æ¨¡å—æµç¨‹å›¾\">Layers æ¨¡å—æµç¨‹å›¾</h3>\n<table>\n<thead>\n<tr>\n<th>æ–‡æ¡£</th>\n<th>æè¿°</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"https://github.com/linzm1007/nano-vllm-ascend/blob/main/docs/layers/linear_flowchart.md\" rel=\"noopener nofollow\" target=\"_blank\">docs/layers/linear_flowchart.md</a></td>\n<td>çº¿æ€§å±‚ä¸å¼ é‡å¹¶è¡Œç­–ç•¥</td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/linzm1007/nano-vllm-ascend/blob/main/docs/layers/attention_torch_native_flowchart.md\" rel=\"noopener nofollow\" target=\"_blank\">docs/layers/attention_torch_native_flowchart.md</a></td>\n<td>PyTorchåŸç”ŸAttentionå®ç°</td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/linzm1007/nano-vllm-ascend/blob/main/docs/layers/attention_flowchart.md\" rel=\"noopener nofollow\" target=\"_blank\">docs/layers/attention_flowchart.md</a></td>\n<td>NPUä¸“ç”¨Attentionå®ç°</td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/linzm1007/nano-vllm-ascend/blob/main/docs/layers/attention_ori_flowchart.md\" rel=\"noopener nofollow\" target=\"_blank\">docs/layers/attention_ori_flowchart.md</a></td>\n<td>Flash Attentionä¼˜åŒ–å®ç°</td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/linzm1007/nano-vllm-ascend/blob/main/docs/layers/sampler_flowchart.md\" rel=\"noopener nofollow\" target=\"_blank\">docs/layers/sampler_flowchart.md</a></td>\n<td>é‡‡æ ·å™¨ï¼ˆæ¸©åº¦é‡‡æ ·ï¼‰</td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/linzm1007/nano-vllm-ascend/blob/main/docs/layers/rotary_embedding_flowchart.md\" rel=\"noopener nofollow\" target=\"_blank\">docs/layers/rotary_embedding_flowchart.md</a></td>\n<td>RoPEä½ç½®ç¼–ç </td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/linzm1007/nano-vllm-ascend/blob/main/docs/layers/layernorm_flowchart.md\" rel=\"noopener nofollow\" target=\"_blank\">docs/layers/layernorm_flowchart.md</a></td>\n<td>RMSNormå½’ä¸€åŒ–å±‚</td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/linzm1007/nano-vllm-ascend/blob/main/docs/layers/embed_head_flowchart.md\" rel=\"noopener nofollow\" target=\"_blank\">docs/layers/embed_head_flowchart.md</a></td>\n<td>è¯åµŒå…¥ä¸LM Head</td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/linzm1007/nano-vllm-ascend/blob/main/docs/layers/activation_flowchart.md\" rel=\"noopener nofollow\" target=\"_blank\">docs/layers/activation_flowchart.md</a></td>\n<td>SwiGLUæ¿€æ´»å‡½æ•°</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"models-æ¨¡å—æµç¨‹å›¾\">Models æ¨¡å—æµç¨‹å›¾</h3>\n<table>\n<thead>\n<tr>\n<th>æ–‡æ¡£</th>\n<th>æè¿°</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"https://github.com/linzm1007/nano-vllm-ascend/blob/main/docs/models/llama_flowchart.md\" rel=\"noopener nofollow\" target=\"_blank\">docs/models/llama_flowchart.md</a></td>\n<td>Llamaæ¨¡å‹æ¶æ„</td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/linzm1007/nano-vllm-ascend/blob/main/docs/models/qwen3_flowchart.md\" rel=\"noopener nofollow\" target=\"_blank\">docs/models/qwen3_flowchart.md</a></td>\n<td>Qwen3æ¨¡å‹æ¶æ„</td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/linzm1007/nano-vllm-ascend/blob/main/docs/models/qwen3_vl_flowchart.md\" rel=\"noopener nofollow\" target=\"_blank\">docs/models/qwen3_vl_flowchart.md</a></td>\n<td>Qwen3-VLå¤šæ¨¡æ€æ¨¡å‹æ¶æ„</td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/linzm1007/nano-vllm-ascend/blob/main/docs/models/qwen3_moe_flowchart.md\" rel=\"noopener nofollow\" target=\"_blank\">docs/models/qwen3_moe_flowchart.md</a></td>\n<td>Qwen3-MoEç¨€ç–ä¸“å®¶æ¨¡å‹æ¶æ„</td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/linzm1007/nano-vllm-ascend/blob/main/docs/models/mini_cpm4_flowchart.md\" rel=\"noopener nofollow\" target=\"_blank\">docs/models/mini_cpm4_flowchart.md</a></td>\n<td>MiniCPM4æ¨¡å‹æ¶æ„</td>\n</tr>\n<tr>\n<td><a href=\"https://github.com/linzm1007/nano-vllm-ascend/blob/main/docs/models/models_map_flowchart.md\" rel=\"noopener nofollow\" target=\"_blank\">docs/models/models_map_flowchart.md</a></td>\n<td>æ¨¡å‹æ³¨å†Œæ˜ å°„å…³ç³»</td>\n</tr>\n</tbody>\n</table>\n<hr />\n<h2 id=\"benchæ•°æ®\">benchæ•°æ®</h2>\n<p>ä»…ä¾›å‚è€ƒï¼Œç¡¬è½¯æ¡ä»¶ä¸åŒï¼Œè·‘å‡ºçš„æ•°æ®ä¹Ÿä¼šæœ‰å·®å¼‚</p>\n<h4 id=\"ä¸åŒæ¨¡å‹å¯¹æ¯”\">ä¸åŒæ¨¡å‹å¯¹æ¯”</h4>\n<table>\n<thead>\n<tr>\n<th>model</th>\n<th>Output Tokens</th>\n<th>Time (s)</th>\n<th>Throughput (tokens/s)</th>\n<th>TP</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Qwen3-0.6B</td>\n<td>143,770</td>\n<td>36.82</td>\n<td>3904.20</td>\n<td>1</td>\n</tr>\n<tr>\n<td>Qwen2-0.5B</td>\n<td>143,770</td>\n<td>20.71</td>\n<td>6940.84</td>\n<td>1</td>\n</tr>\n<tr>\n<td>Qwen2.5-0.5B-Instruct</td>\n<td>143,770</td>\n<td>19.82</td>\n<td>7252.67</td>\n<td>1</td>\n</tr>\n<tr>\n<td>Llama-3.2-1B-Instruct</td>\n<td>143,770</td>\n<td>25.45</td>\n<td>5648.50</td>\n<td>1</td>\n</tr>\n<tr>\n<td>Qwen3-32B</td>\n<td>143,770</td>\n<td>206.69</td>\n<td>695.59</td>\n<td>2</td>\n</tr>\n<tr>\n<td>Qwen3-32B</td>\n<td>143,770</td>\n<td>119.86</td>\n<td>1199.50</td>\n<td>4</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"å…¶ä»–æ¡†æ¶å¯¹æ¯”2025-12-30\">å…¶ä»–æ¡†æ¶å¯¹æ¯”(2025-12-30)</h4>\n<p>vLLM Nano-vLLM æ•°æ®æ¥æº <a href=\"https://github.com/GeeeekExplorer/nano-vllm\" rel=\"noopener nofollow\" target=\"_blank\">https://github.com/GeeeekExplorer/nano-vllm</a></p>\n<table>\n<thead>\n<tr>\n<th>Inference Engine</th>\n<th>Output Tokens</th>\n<th>Time (s)</th>\n<th>Throughput (tokens/s)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>vLLM</td>\n<td>133,966</td>\n<td>98.37</td>\n<td>1361.84</td>\n</tr>\n<tr>\n<td>Nano-vLLM</td>\n<td>133,966</td>\n<td>93.41</td>\n<td>1434.13</td>\n</tr>\n<tr>\n<td>Nano-vLLM-Ascend python torchåŸç”Ÿå®ç°</td>\n<td>4805</td>\n<td>257.49</td>\n<td>18.66</td>\n</tr>\n<tr>\n<td>Nano-vLLM-Ascend èåˆç®—å­+å›¾ç¼–è¯‘bs=256</td>\n<td>133,966</td>\n<td>33.88</td>\n<td>3954.20</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"å›¾æ¨¡å¼ä¸åŒbså¯¹æ¯”2025-12-30\">å›¾æ¨¡å¼ä¸åŒbså¯¹æ¯”(2025-12-30)</h4>\n<table>\n<thead>\n<tr>\n<th>Batch Size</th>\n<th>Output Tokens</th>\n<th>Time (s)</th>\n<th>Throughput (tokens/s)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>bs=16</td>\n<td>133,966</td>\n<td>107.23</td>\n<td>1249.37</td>\n</tr>\n<tr>\n<td>bs=32</td>\n<td>133,966</td>\n<td>75.89</td>\n<td>1765.35</td>\n</tr>\n<tr>\n<td>bs=48</td>\n<td>133,966</td>\n<td>64.84</td>\n<td>2066.22</td>\n</tr>\n<tr>\n<td>bs=64</td>\n<td>133,966</td>\n<td>54.06</td>\n<td>2478.31</td>\n</tr>\n<tr>\n<td>bs=128</td>\n<td>133,966</td>\n<td>43.08</td>\n<td>3109.56</td>\n</tr>\n<tr>\n<td>bs=256</td>\n<td>133,966</td>\n<td>33.88</td>\n<td>3954.20</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"å•ç®—å­paddingå’Œnon-paddingå¯¹æ¯”2025-12-30\">å•ç®—å­Paddingå’ŒNon-paddingå¯¹æ¯”(2025-12-30)</h4>\n<p>bs=256</p>\n<table>\n<thead>\n<tr>\n<th>Prepare Strategy</th>\n<th>Output Tokens</th>\n<th>Time (s)</th>\n<th>Throughput (tokens/s)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Padding</td>\n<td>133,966</td>\n<td>158.46</td>\n<td>845.41</td>\n</tr>\n<tr>\n<td>Non-padding</td>\n<td>133,966</td>\n<td>152.14</td>\n<td>880.55</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"ç¯å¢ƒæ­å»ºå‚è€ƒvllm-ascend\">ç¯å¢ƒæ­å»ºï¼ˆå‚è€ƒvllm-ascendï¼‰</h2>\n<p><a href=\"https://docs.vllm.ai/projects/vllm-ascend-cn/zh-cn/latest/quick_start.html\" rel=\"noopener nofollow\" target=\"_blank\">https://docs.vllm.ai/projects/vllm-ascend-cn/zh-cn/latest/quick_start.html</a></p>\n<p>ubuntu</p>\n<pre><code># Update DEVICE according to your device (/dev/davinci[0-7])\nexport DEVICE=/dev/davinci0\n# Update the vllm-ascend image\n# Atlas A2:\n# export IMAGE=quay.io/ascend/vllm-ascend:v0.14.0rc1\n# Atlas A3:\n# export IMAGE=quay.io/ascend/vllm-ascend:v0.14.0rc1-a3\nexport IMAGE=quay.io/ascend/vllm-ascend:v0.14.0rc1\ndocker run --rm \\\n--name vllm-ascend \\\n--shm-size=1g \\\n--device $DEVICE \\\n--device /dev/davinci_manager \\\n--device /dev/devmm_svm \\\n--device /dev/hisi_hdc \\\n-v /usr/local/dcmi:/usr/local/dcmi \\\n-v /usr/local/bin/npu-smi:/usr/local/bin/npu-smi \\\n-v /usr/local/Ascend/driver/lib64/:/usr/local/Ascend/driver/lib64/ \\\n-v /usr/local/Ascend/driver/version.info:/usr/local/Ascend/driver/version.info \\\n-v /etc/ascend_install.info:/etc/ascend_install.info \\\n-v /root/.cache:/root/.cache \\\n-p 8000:8000 \\\n-it $IMAGE bash\n# Install curl\napt-get update -y &amp;&amp; apt-get install -y curl\n</code></pre>\n<h2 id=\"å®‰è£…ä¾èµ–\">å®‰è£…ä¾èµ–</h2>\n<pre><code class=\"language-bash\">pip install .\n</code></pre>\n<h2 id=\"æ¨¡å‹ä¸‹è½½\">æ¨¡å‹ä¸‹è½½</h2>\n<pre><code class=\"language-bash\">huggingface-cli download --resume-download Qwen/Qwen3-0.6B \\\n  --local-dir ~/huggingface/Qwen3-0.6B/ \\\n  --local-dir-use-symlinks False\n</code></pre>\n<h2 id=\"å¿«é€Ÿå¼€å§‹\">å¿«é€Ÿå¼€å§‹</h2>\n<p>è¯·å‚è§ example.py äº†è§£ç”¨æ³•ã€‚è¯¥ API ä¸ vLLM çš„æ¥å£åŸºæœ¬ä¸€è‡´ï¼Œä»…åœ¨ LLM.generate æ–¹æ³•ä¸Šå­˜åœ¨ä¸€äº›ç»†å¾®å·®å¼‚ï¼š</p>\n<pre><code class=\"language-python\">from nanovllm import LLM, SamplingParams\nllm = LLM(\"/YOUR/MODEL/PATH\", enforce_eager=True, tensor_parallel_size=1)\nsampling_params = SamplingParams(temperature=0.6, max_tokens=256)\nprompts = [\"Hello, Nano-vLLM.\"]\noutputs = llm.generate(prompts, sampling_params)\noutputs[0][\"text\"]\n</code></pre>\n<h2 id=\"exampleè¿è¡Œç»“æœ\">exampleè¿è¡Œç»“æœ</h2>\n<p><img alt=\"result-image\" class=\"lazyload\" /></p>\n<h2 id=\"benchç¯å¢ƒ\">benchç¯å¢ƒ</h2>\n<p>ä»…ä¾›å‚è€ƒ<br />\nascend-dmi -c #æŸ¥çœ‹</p>\n<ul>\n<li>ç¡¬ä»¶ç¯å¢ƒâ€‹ï¼š\n<ul>\n<li>1.æ˜¾å¡:A3 910C</li>\n<li>2.é©±åŠ¨ç‰ˆæœ¬:24.1.rc3.10</li>\n<li>3.å›ºä»¶ç‰ˆæœ¬:7.5.0.109.220</li>\n</ul>\n</li>\n<li>â€‹è½¯ä»¶ç¯å¢ƒâ€‹ï¼š\n<ul>\n<li>1.CANNåŒ… 8.3.RC1</li>\n<li>2.PTAç‰ˆæœ¬ï¼štorch-npu 2.5.1.post2+gitd7a85f8ï¼Œtorch 2.5.1</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"benchmark\">Benchmark</h2>\n<p>See <code>bench.py</code> for benchmark.</p>\n<p><strong>Test Configuration:</strong></p>\n<ul>\n<li>Model: Qwen3-0.6B</li>\n<li>Total Requests: 256 sequences</li>\n<li>Input Length: Randomly sampled between 100â€“1024 tokens</li>\n<li>Output Length: Randomly sampled between 100â€“1024 tokens</li>\n</ul>\n<p><strong>Performance Results:</strong><br />\nNano-vLLM-Ascend å®åœ¨å¤ªæ…¢äº†åªè·‘äº†10æ¡seq</p>\n<table>\n<thead>\n<tr>\n<th>Inference Engine</th>\n<th>Output Tokens</th>\n<th>Time (s)</th>\n<th>Throughput (tokens/s)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>vLLM</td>\n<td>133,966</td>\n<td>98.37</td>\n<td>1361.84</td>\n</tr>\n<tr>\n<td>Nano-vLLM</td>\n<td>133,966</td>\n<td>93.41</td>\n<td>1434.13</td>\n</tr>\n<tr>\n<td>Nano-vLLM-Ascend</td>\n<td>4805</td>\n<td>257.49</td>\n<td>18.66</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"qwen3-06b-layers\">qwen3-0.6B layers</h2>\n<pre><code class=\"language-angular2html\">ModuleList(\n  (0-27): 28 x Qwen3DecoderLayer(\n    (self_attn): Qwen3Attention(\n      (qkv_proj): QKVParallelLinear()\n      (o_proj): RowParallelLinear()\n      (rotary_emb): RotaryEmbedding()\n      (attn): Attention()\n      (q_norm): RMSNorm()\n      (k_norm): RMSNorm()\n    )\n    (mlp): Qwen3MLP(\n      (gate_up_proj): MergedColumnParallelLinear()\n      (down_proj): RowParallelLinear()\n      (act_fn): SiluAndMul()\n    )\n    (input_layernorm): RMSNorm()\n    (post_attention_layernorm): RMSNorm()\n  )\n)\n\n</code></pre>\n\n\n</div>\n<div id=\"MySignature\">\n    è“å¤©å’Œç™½äº‘æ˜¯æ ‡é…ã€‚\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-02-13 11:38</span>&nbsp;\n<a href=\"https://www.cnblogs.com/linzm14\">linzm14</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">15</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "çº¿ä¸ŠæœåŠ¡é‡å¯åï¼Œä»nacoså–ä¸åˆ°é…ç½®äº†ï¼Œæ€ä¹ˆå›äº‹",
      "link": "https://www.cnblogs.com/grey-wolf/p/19611093",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/grey-wolf/p/19611093\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-02-13 10:19\">\n    <span>çº¿ä¸ŠæœåŠ¡é‡å¯åï¼Œä»nacoså–ä¸åˆ°é…ç½®äº†ï¼Œæ€ä¹ˆå›äº‹</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h1 id=\"èƒŒæ™¯\">èƒŒæ™¯</h1>\n<p>å‰ä¸€é˜µï¼Œçº¿ä¸ŠæŸä¸ªæœåŠ¡å‡çº§ï¼Œå…¸å‹çš„spring bootåº”ç”¨ï¼Œå¼•å…¥äº†spring cloudï¼Œä¸»è¦æ˜¯ä¸ºäº†ä½¿ç”¨nacosæ¥ç»Ÿä¸€ç®¡ç†é…ç½®ã€‚</p>\n<p>å…¸å‹çš„bootstrap.ymlé…ç½®å¦‚ä¸‹ï¼ŒåŒ…å«äº†ç”¨æˆ·åå¯†ç ï¼š</p>\n<p><img alt=\"image-20260213093118522\" src=\"https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260213093118522.png\" /></p>\n<p>æœåŠ¡å¯åŠ¨æ—¶ï¼Œå°±ä¼šå»nacosè¯»å–é…ç½®ï¼Œè¯»å–é…ç½®å½“ç„¶è¦å…ˆç™»å½•ï¼Œè¿™é‡Œé…ç½®çš„ç”¨æˆ·åå¯†ç å°±æ˜¯ç™»å½•ç”¨çš„ã€‚</p>\n<p>æˆ‘ä»¬é‡åˆ°çš„é—®é¢˜æ˜¯ï¼Œçº¿ä¸Šé‚£ä¸ªæœåŠ¡ï¼Œä¸æ˜¯ç¬¬ä¸€æ¬¡ä¸Šçº¿ï¼Œä¸€ç›´è·‘å¾—å¥½å¥½çš„ï¼Œæœ¬æ¬¡æ›´æ–°ä¸»è¦æ˜¯æ›´æ–°äº†fat jarï¼Œæ”¹äº†ç‚¹ä¸šåŠ¡é€»è¾‘ï¼Œåƒbootstrap.ymlè¿™äº›æ²¡ä»»ä½•æ”¹åŠ¨ã€‚ç»“æœè¿ç»´åŒäº‹æ›¿æ¢äº†jaråŒ…åä¸€é‡å¯ï¼Œè¯´å¯åŠ¨ä¸äº†ï¼Œè¯´ä½ è¿™ä¸ªåŒ…æ˜¯ä¸æ˜¯æœ‰é—®é¢˜å•Šã€‚</p>\n<h1 id=\"å®šä½è¿‡ç¨‹\">å®šä½è¿‡ç¨‹</h1>\n<h2 id=\"æŠ“åŒ…\">æŠ“åŒ…</h2>\n<p>è¿‡å»è¿ç»´é‚£è¾¹çœ‹äº†ä¸‹ï¼Œå‘ç°æŠ¥é”™æ˜¯è¯´ä»€ä¹ˆæ•°æ®åº“è¿ä¸ä¸Šï¼Œipä¸€çœ‹ï¼Œæ˜¯å¼€å‘ç¯å¢ƒçš„æ•°æ®åº“ipï¼Œæˆ‘å°±æ„Ÿè§‰æ˜¯ä¸æ˜¯æ²¡å–åˆ°nacosé‡Œçš„é…ç½®ï¼Œæ‰€ä»¥ç”¨äº†é»˜è®¤çš„å¼€å‘ç¯å¢ƒé…ç½®äº†ï¼ˆfat jarä¸­æœ‰é»˜è®¤çš„å¼€å‘ç¯å¢ƒé…ç½®æ–‡ä»¶ï¼‰ã€‚</p>\n<p>æˆ‘å°±è¯´è¿™å¾—æŠ“ä¸ªåŒ…çœ‹çœ‹ï¼Œnacosçš„ç›‘å¬ç«¯å£æ˜¯8848ï¼Œä¸»è¦ç”¨äºç™»å½•ï¼Œè·å–tokenï¼›è¿˜æœ‰9849ï¼Œç”¨äºæœåŠ¡æ³¨å†Œã€é…ç½®æ‹‰å–ç­‰ã€‚</p>\n<pre><code class=\"language-shell\">tcpdump -i any tcp port 8848 or tcp port 9848 -w nacos.pcap\n</code></pre>\n<p>æŠŠåŒ…æŠ“ä¸‹æ¥ä¸€çœ‹ï¼Œå‘ç°ç¡®å®æ²¡æ‹‰å–åˆ°é…ç½®ï¼Œä½†æ˜¯ï¼ŒåŸå› æ˜¯ç™»å½•å°±å¤±è´¥äº†ã€‚</p>\n<p>æŠ¥æ–‡å¦‚ä¸‹ï¼š</p>\n<p><img alt=\"image-20260213093813785\" src=\"https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260213093813785.png\" /></p>\n<h2 id=\"ç½‘é¡µç«¯ç™»å½•\">ç½‘é¡µç«¯ç™»å½•</h2>\n<p>éš¾é“æ˜¯å¯†ç é”™äº†å—ï¼Œç„¶ååŒæ ·çš„ç”¨æˆ·å¯†ç ï¼Œåœ¨nacosç®¡ç†ç³»ç»Ÿé‚£é‡Œç™»å½•ï¼Œå‘ç°æ˜¯æ­£å¸¸çš„ã€‚è¿™ä¸ªç¡®å®æ˜¯å¾ˆå¥‡æ€ªï¼ŒF12çœ‹äº†ä¸‹ï¼Œçœ‹äº†æ¥å£ä¹Ÿæ˜¯ä¸Šé¢é‚£ä¸ªæ¥å£ã€‚</p>\n<p><img alt=\"image-20260213094323596\" src=\"https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260213094323596.png\" /></p>\n<p>å”¯ä¸€ä¸åŒçš„ä¹Ÿå°±æ˜¯å‚æ•°æºå¸¦æ–¹å¼æœ‰ä¸€ç‚¹å·®å¼‚ï¼š</p>\n<p><img alt=\"image-20260213094353557\" src=\"https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260213094353557.png\" /></p>\n<p>è¿™ä¸ªç½‘é¡µç«¯ï¼Œæ˜¯ç”¨æˆ·åã€å¯†ç éƒ½åœ¨formè¡¨å•çš„http bodyé‡Œã€‚è€Œapié‚£è¾¹ï¼Œæ˜¯usernameåœ¨urlé‡Œï¼Œå¯†ç åœ¨bodyé‡Œã€‚</p>\n<h2 id=\"æ‹‰äºº\">æ‹‰äºº</h2>\n<p>ç„¶åæˆ‘ä»¬å°±ç¡®è®¤æ˜¯nacos æœåŠ¡ç«¯æ„Ÿè§‰æœ‰ç‚¹é—®é¢˜ã€‚å¦å¤–ï¼Œæˆ‘ä»¬ä¹Ÿæ‰¾äº†å…¶ä»–ç±»ä¼¼çš„æœåŠ¡Aï¼ŒæŠŠé‚£ä¸ªæœåŠ¡Aç”¨çš„nacosç”¨æˆ·åã€å¯†ç æ‹¿è¿‡æ¥ï¼Œé…ç½®åˆ°æœ¬æœåŠ¡é‡Œï¼Œé‡å¯ï¼Œå‘ç°ç«Ÿç„¶ä¹ŸæŠ¥åŒæ ·çš„é”™è¯¯ã€‚</p>\n<p>ç„¶åå°±æ„Ÿè§‰æ˜¯nacosæœåŠ¡ç«¯å‡ºäº†é—®é¢˜ï¼Œæ‰¾åˆ°å¯¹åº”è´Ÿè´£çš„åŒäº‹ï¼Œä¸€èµ·æ¥çœ‹ã€‚æˆ‘ä»¬è¿˜æµ‹äº†ä¸‹ï¼ŒæŠŠæœåŠ¡Aè‡ªå·±é‡å¯äº†ä¸‹ï¼Œå‘ç°é‡å¯ä¹Ÿå¯åŠ¨ä¸èµ·æ¥äº†ï¼ŒåŒæ ·æ˜¯æç¤º403ï¼Œç”¨æˆ·æ‰¾ä¸åˆ°ã€‚</p>\n<p>æ¥ä¸‹æ¥ï¼Œç»§ç»­æµ‹è¯•ï¼Œå½“æ—¶æ˜¯æ€€ç–‘æ˜¯ä¸æ˜¯å¯†ç æœ‰ç‰¹æ®Šå­—ç¬¦å¯¼è‡´çš„ï¼Œç„¶ånacosè´Ÿè´£äººï¼ŒæŠŠæˆ‘ä»¬çš„ç”¨æˆ·çš„å¯†ç é‡ç½®äº†ä¸‹ï¼Œç„¶åæˆ‘ä»¬é‡è¯•ï¼Œå‘ç°å¯ä»¥äº†ã€‚</p>\n<p>æœ€ç»ˆçš„è§£å†³ï¼Œå°±æ˜¯é ï¼š</p>\n<p>æŠŠç”¨æˆ·çš„å¯†ç é‡ç½®ä¸€ä¸‹ï¼Œä¹Ÿå°±æ˜¯æ”¹ä¸€ä¸‹å¯†ç å°±å¥½äº†ï¼ˆä½†ä¸æ˜¯ç‰¹æ®Šå­—ç¬¦çš„é—®é¢˜ï¼Œæˆ‘ä»¬è¯•ç€æ”¹æˆäº†æœ‰ç‰¹æ®Šå­—ç¬¦çš„å¯†ç ï¼Œå‘ç°è¿˜æ˜¯å¯ä»¥æˆåŠŸå¯åŠ¨çš„ï¼‰ã€‚</p>\n<p>è¿™ä¸ªäº‹å½“æ—¶ä¹Ÿå°±äº†äº†ï¼Œæ²¡ç®¡äº†ã€‚</p>\n<h1 id=\"ç»§ç»­æ¢ç´¢\">ç»§ç»­æ¢ç´¢</h1>\n<h2 id=\"ç™»å½•æ¥å£\">ç™»å½•æ¥å£</h2>\n<p>ä»Šå¤©ç©ºäº†åï¼Œæ„Ÿè§‰è¿™ä¸ªäº‹æƒ…è¿˜æ˜¯æœ‰ç‚¹å¤æ€ªï¼Œä¸ºä»€ä¹ˆå¯†ç é‡ç½®åå°±å¥½äº†ï¼Œå½“æ—¶æˆ‘å°±æ€€ç–‘ï¼šnacosæœåŠ¡ç«¯å†…éƒ¨ä¼°è®¡æœ‰ç¼“å­˜ï¼Œå¯èƒ½æ˜¯ç¼“å­˜å‡ºé—®é¢˜äº†ï¼Œç„¶åé‡ç½®å¯†ç è¿™ä¸ªåŠ¨ä½œï¼Œå°±å¯¼è‡´ç¼“å­˜å˜å¾—æ­£å¸¸äº†ã€‚</p>\n<p>ç½‘ä¸Šæ²¡æ‰¾åˆ°ç‰¹åˆ«åŒ¹é…æˆ‘è¿™ä¸ªæ¡ˆä¾‹çš„ï¼Œç¿»äº†åŠå¤©ï¼Œçœ‹åˆ°æœ‰nacosæºç è§£æçš„ï¼Œäºæ˜¯æˆ‘å°±æƒ³ç€ä»£ç æ‹‰ä¸‹æ¥çœ‹ä¸€ä¸‹ç®—äº†ã€‚</p>\n<p>çº¿ä¸Šçš„nacosç‰ˆæœ¬ä¸ç¡®å®šï¼Œä½†åº”è¯¥æ˜¯2.2.2ï¼Œå› ä¸ºæˆ‘çœ‹äº†ä¸‹å¼€å‘ç¯å¢ƒå°±æ˜¯è¿™ä¸ªç‰ˆæœ¬ã€‚</p>\n<p>æ‰¾äº†å¯¹åº”çš„æºç ï¼š</p>\n<p><a href=\"https://github.com/alibaba/nacos/tree/2.2.2\" rel=\"noopener nofollow\" target=\"_blank\">https://github.com/alibaba/nacos/tree/2.2.2</a></p>\n<p><a href=\"https://github.com/alibaba/nacos/releases/tag/2.2.0\" rel=\"noopener nofollow\" target=\"_blank\">https://github.com/alibaba/nacos/releases/tag/2.2.0</a></p>\n<p>ç›´æ¥ä¸‹äº†ä¸ªzipåŒ…ï¼Œideaé‡Œæ‰“å¼€ã€‚</p>\n<p>å…¨å±€æœç´¢login\"ï¼Œå‘ç°å¦‚ä¸‹ä»£ç ï¼š</p>\n<p>com.alibaba.nacos.plugin.auth.impl.controller.UserController#login</p>\n<p><img alt=\"image-20260213095720124\" src=\"https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260213095720124.png\" /></p>\n<p><img alt=\"image-20260213095743794\" src=\"https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260213095743794.png\" /></p>\n<p>ç„¶åï¼Œè¿™é‡Œæœ‰ä¸ªæ ¹æ®ç”¨æˆ·åï¼ŒæŸ¥æ‰¾ç”¨æˆ·è¯¦ç»†ä¿¡æ¯çš„ï¼š</p>\n<p><img alt=\"image-20260213095803120\" src=\"https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260213095803120.png\" /></p>\n<p>ä¸‹é¢è¿™é‡Œï¼Œå…ˆæ˜¯å»ä¸€ä¸ªç¼“å­˜mapé‡ŒæŸ¥è¯¢ï¼Œå¦‚æœæ²¡å¼€å¯ä¸€ä¸ªcacheEnabledçš„å¼€å…³ï¼Œåˆ™ä¼šç»§ç»­å»æŸ¥æ•°æ®åº“ï¼Œä»¥æ•°æ®åº“çš„ä¸ºå‡†ï¼š</p>\n<pre><code class=\"language-java\">private Map&lt;String, User&gt; userMap = new ConcurrentHashMap&lt;&gt;();\n</code></pre>\n<p><img alt=\"image-20260213095851520\" src=\"https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260213095851520.png\" /></p>\n<p>æˆ‘çœ‹äº†ä¸‹ï¼Œæˆ‘ä»¬æœ¬åœ°å¼€å‘ç¯å¢ƒçš„å¼€å…³ï¼Œåæ­£æ˜¯é»˜è®¤æ‰“å¼€çš„ï¼Œæˆ‘ä¼°è®¡ï¼Œçº¿ä¸Šä¹Ÿæ˜¯è¿™æ ·ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ˜¯å…è®¸ç¼“å­˜çš„ï¼Œè¿™éƒ½å¹´æœ«äº†ï¼Œè¿ç»´æ”¾å‡äº†ï¼Œä¸æ‰“æ‰°äº†ã€‚</p>\n<p>å…·ä½“çš„ç¼“å­˜å¼€å…³æ˜¯è¿™ä¸ªï¼š</p>\n<pre><code class=\"language-java\">public static final String NACOS_CORE_AUTH_CACHING_ENABLED = \"nacos.core.auth.caching.enabled\";\n</code></pre>\n<p>é…ç½®æ–‡ä»¶ä¸­æ˜¯å¼€å¯çš„ï¼š</p>\n<pre><code class=\"language-shell\">[root@COMPASS-NACOS-1 nacos]# cat conf/application.properties |grep caching\n### Turn on/off caching of auth information. By turning on this switch, the update of auth information would have a 15 seconds delay.\nnacos.core.auth.caching.enabled=true\n</code></pre>\n<p>é‚£å°±æ˜¯äº†ï¼Œåº”è¯¥å°±æ˜¯ç¼“å­˜é‡Œçš„ç”¨æˆ·æ•°æ®æœ‰é—®é¢˜ã€‚</p>\n<p>é‚£ä¸ºå•¥ï¼Œé‡ç½®å¯†ç å°±å¥½äº†å‘¢ï¼Ÿ</p>\n<h2 id=\"ä¿®æ”¹å¯†ç æ¥å£\">ä¿®æ”¹å¯†ç æ¥å£</h2>\n<p>ä¿®æ”¹å¯†ç è¿™ä¸ªï¼Œæˆ‘ä»¬å½“æ—¶è¿˜æµ‹è¯•äº†ï¼Œè‡ªå·±æ”¹å¯†ç è¿˜ä¸è¡Œï¼Œå¿…é¡»æ˜¯nacosè´Ÿè´£äººé‚£ä¸ªç®¡ç†è´¦å·æ”¹äº†æ‰ç”Ÿæ•ˆçš„ã€‚</p>\n<p>å¦å¤–ï¼Œæˆ‘çœ‹äº†ä¸‹ï¼Œä¸Šé¢é‚£ä¸ªç™»å½•æ¥å£é‡Œï¼ŒæŸ¥ç”¨æˆ·çš„sqlå¦‚ä¸‹ï¼š</p>\n<pre><code class=\"language-java\">    public User findUserByUsername(String username) {\n        String sql = \"SELECT username,password FROM users WHERE username=? \";\n        return databaseOperate.queryOne(sql, new Object[] {username}, USER_ROW_MAPPER);\n    }\n</code></pre>\n<p>é‚£ä¿®æ”¹å¯†ç ï¼Œå…¨å±€æœä¸€ä¸‹<code>update users</code>ï¼š</p>\n<p><img alt=\"image-20260213100640175\" src=\"https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260213100640175.png\" /></p>\n<pre><code class=\"language-shell\">com.alibaba.nacos.plugin.auth.impl.controller.UserController#updateUser\n</code></pre>\n<p><img alt=\"image-20260213100822326\" src=\"https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260213100822326.png\" /></p>\n<p>æˆ‘ä»¬å‘ç°ï¼Œæ”¹å¯†ç çš„æ¥å£ï¼Œæœ´å®æ— åï¼Œå°±æ˜¯æ”¹ä¸‹æ•°æ®åº“ï¼Œæ²¡æ¶‰åŠåˆ°æ¸…ä¸‹ç¼“å­˜å•¥çš„ï¼š</p>\n<p><img alt=\"image-20260213100836452\" src=\"https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260213100836452.png\" /></p>\n<p>é‚£å°±ä»é‚£ä¸ªç¼“å­˜çš„mapç€æ‰‹ï¼Œçœ‹äº†ä¸‹ï¼š</p>\n<pre><code class=\"language-shell\">com.alibaba.nacos.plugin.auth.impl.users.NacosUserDetailsServiceImpl#reload\n</code></pre>\n<p>ç»“æœå‘ç°äº†ä¸€ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œè¿™é‡Œæ¯éš”15sæ‰§è¡Œä¸€æ¬¡ï¼Œä»æ•°æ®åº“åŠ è½½useræ•°æ®åˆ°ç¼“å­˜ï¼š</p>\n<p><img alt=\"image-20260213101021274\" src=\"https://dump-1252523945.cos.ap-shanghai.myqcloud.com/img/image-20260213101021274.png\" /></p>\n<p>é‚£å°±ç†è§£äº†ï¼Œæ”¹å¯†ç æ˜¯åªæ“ä½œæ•°æ®åº“ï¼›ç„¶åå®šæ—¶ä»»åŠ¡å»æ•°æ®åº“æŸ¥è¯¢æœ€æ–°æ•°æ®ï¼Œæ”¾åˆ°ç¼“å­˜é‡Œï¼Œè¿™æ ·å‘¢ï¼Œç¼“å­˜æ•°æ®å°±å’Œæ•°æ®åº“æ•°æ®ä¸€è‡´äº†ã€‚</p>\n<p>å¦ä¸€ä¸ªçŒœæµ‹ï¼šç¼“å­˜æ¯15ç§’ä»æ•°æ®åº“åŒæ­¥ï¼Œç¼“å­˜æ•°æ®æœ‰é—®é¢˜ï¼Œæ˜¯ä¸æ˜¯è¯´æ˜æœ‰é—®é¢˜çš„å¯èƒ½æ˜¯æ•°æ®åº“å‘¢ï¼Ÿä¹Ÿå°±æ˜¯è¯´ï¼Œæ•°æ®åº“é‡Œçš„ç”¨æˆ·æ•°æ®å‡ºäº†é—®é¢˜ï¼Œé€šè¿‡ä¿®æ”¹å¯†ç çš„æ–¹å¼æ‰æ­£å¸¸ï¼Œç„¶å15ç§’åï¼Œç¼“å­˜é‡Œæ•°æ®å˜å¾—æ­£å¸¸ã€‚</p>\n<p>è‡³äºæ•°æ®åº“æ•°æ®ä¸ºå•¥å‡ºäº†é—®é¢˜ï¼Œè¿™ä¸ªå°±ä¸å¥½æ‰¾äº†ï¼Œæœ¬ç¯‡å°±ä¸æ¢ç©¶äº†ã€‚</p>\n\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-02-13 10:19</span>&nbsp;\n<a href=\"https://www.cnblogs.com/grey-wolf\">ä¸‰å›½æ¢¦å›</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">129</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "MindIE è¸©å‘æ—¥è®°å’Œä¸€ä¸ªwebå°å·¥å…·",
      "link": "https://www.cnblogs.com/chumochen/p/19610004",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/chumochen/p/19610004\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-02-12 22:40\">\n    <span>MindIE è¸©å‘æ—¥è®°å’Œä¸€ä¸ªwebå°å·¥å…·</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h4 id=\"å¼•è¨€\">å¼•è¨€</h4>\n<p>æœ€è¿‘åœ¨æ˜‡è…¾ï¼ˆAscendï¼‰NPU ä¸Šéƒ¨ç½²å¤§æ¨¡å‹ï¼Œå®˜æ–¹ä¸»æ¨çš„æ¨ç†æ¡†æ¶æ˜¯ MindIEã€‚åŠŸèƒ½ç¡®å®å®Œæ•´ï¼Œæ–‡æ¡£ä¹Ÿå†™å¾—æŒºâ€œè§„èŒƒâ€ï¼Œä½†å®é™…ç”¨èµ·æ¥å´å­˜åœ¨ä¸å°‘â€œéšå½¢é—¨æ§›â€ã€‚</p>\n<h4 id=\"è¸©å‘æ€»ç»“\">è¸©å‘æ€»ç»“</h4>\n<p><strong>1.  Dockerå®¹å™¨æƒé™ä¸è¿›ç¨‹ç®¡ç†å‘</strong></p>\n<ul>\n<li>å¿…é¡»åŠ  --privileged å‚æ•°ï¼šå¦åˆ™å®¹å™¨é‡Œæ ¹æœ¬è®¿é—®ä¸åˆ°NPUè®¾å¤‡ï¼Œå¯åŠ¨å°±æŠ¥é”™ã€‚</li>\n<li>åƒµå°¸è¿›ç¨‹ï¼šä¸åŠ  --init çš„è¯ï¼Œæ¨ç†æœåŠ¡é€€å‡ºåï¼Œè¿›ç¨‹å›æ”¶ä¸äº†ï¼Œç›´æ¥å¯¼è‡´åç»­æ¨ç†æœåŠ¡å¯åŠ¨å¤±è´¥ï¼Œåªèƒ½æ‰‹åŠ¨æ€è¿›ç¨‹æˆ–é‡å¯å®¹å™¨æœåŠ¡ã€‚</li>\n</ul>\n<p><strong>2. åŠ¨æ€åº“æ‰¾ä¸åˆ°ï¼šlibcsec.so: not found</strong><br />\nå®¹å™¨ä¸­è¿›è¡Œæ¨ç†ä¼šå‡ºç°libcsec.soæ‰¾ä¸åˆ°çš„æƒ…å†µï¼Œéœ€è¦æ‰‹åŠ¨è®¾ç½® LD_LIBRARY_PATH æˆ–å†™å…¥ /etc/ld.so.conf.d/</p>\n<p><strong>3. å®¹å™¨ç§’é€€</strong><br />\nå®˜æ–¹é•œåƒæ²¡æœ‰å‰å°è¿›ç¨‹ï¼Œdocker run -d å¯åŠ¨åç«‹åˆ»é€€å‡ºï¼Œè¦ä¹ˆä¸´æ—¶ç”¨ tail -f /dev/null å ä½ï¼Œæˆ–è€…è‡ªå·±å°è£…å¯åŠ¨è„šæœ¬ã€‚</p>\n<p><strong>4. CANNé«˜ç‰ˆæœ¬é—®é¢˜</strong><br />\næœåŠ¡å™¨çš„NPUé©±åŠ¨å’ŒCANNçš„é«˜ç‰ˆæœ¬ä¸ä¸€å®šåŒ¹é…ï¼Œå¦‚æœå®‰è£…é«˜ç‰ˆæœ¬CANNä¼šå¯¼è‡´ç³»ç»Ÿå†…æ ¸ç‰ˆæœ¬å’ŒNPUé©±åŠ¨ç‰ˆæœ¬ä¸åŒ¹é…ï¼Œå¯¼è‡´NPUæ— æ³•è¯†åˆ«</p>\n<p><strong>5. æ¥å£å…¼å®¹é—®é¢˜ï¼š</strong><br />\nvllmå…¼å®¹OpenAIçš„æ¨ç†æ¥å£/v1/completionsï¼Œå³ä½¿å‚æ•°é…ç½®æ­£ç¡®ï¼Œä¹Ÿä¼šæç¤ºâ€œMessages token length must be in (0, 1048576], but got 0â€é”™è¯¯ã€‚è§£å†³æ–¹æ¡ˆæ˜¯åˆ‡æ¢ä¸ºå…¼å®¹TGI 0.9.4ç‰ˆæœ¬æ¥å£çš„/generateæ¥å£ã€‚</p>\n<p>è¿˜æœ‰ä¸€äº›å…¶ä»–çš„é—®é¢˜ï¼Œæ¯”å¦‚<br />\n1 . é…ç½®ä¸å¯è§ã€ä¸å¯æ”¹ï¼šæ‰€æœ‰é…ç½®æ–‡ä»¶æ·±è—å®¹å™¨å†…ï¼Œä¿®æ”¹éœ€é‡å»ºé•œåƒæˆ– exec è¿›å…¥ã€‚<br />\n2 . æœåŠ¡å¯åŠ¨ç¹çï¼šæ¯æ¬¡éƒ½è¦æ‰‹åŠ¨æ¿€æ´» CANN ç¯å¢ƒã€è®¾ç½®å˜é‡ã€‚<br />\n3 . ç¼ºä¹å¯è§†åŒ–æµ‹è¯•å·¥å…·ï¼šåªèƒ½é  curl è°ƒè¯•ã€‚<br />\n4 . éƒ¨ç½²æµç¨‹ä¸é€æ˜ï¼šæ—¥å¿—åˆ†æ•£ï¼Œé”™è¯¯ä¿¡æ¯éš¾å®šä½ã€‚</p>\n<p>è¸©å‘è¸©å¤šäº†ï¼Œäººä¹Ÿéº»äº†ã€‚åŠ ä¸Šåé¢è¦äº¤ç»™å®¢æˆ·ç”¨ï¼Œæ€»ä¸èƒ½æ¯æ¬¡éƒ½è®©äººå®¶å¼€ç»ˆç«¯æ•²å‘½ä»¤ã€‚<br />\näºæ˜¯å†™äº†ä¸ªçº¯ Web ç•Œé¢çš„ MindIE å°åŠ©æ‰‹ã€‚</p>\n<p>ä»“åº“åœ°å€ï¼š<a href=\"https://github.com/jclown/MyMindIEWebConsole\" rel=\"noopener nofollow\" target=\"_blank\">https://github.com/jclown/MyMindIEWebConsole</a><br />\n<img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1212315/202602/1212315-20260212223800963-1865678913.png\" /></p>\n<p><strong>1 å¯è§†åŒ–å‚æ•°é…ç½®</strong><br />\n<img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1212315/202602/1212315-20260212223656466-1398105072.png\" /></p>\n<p><strong>2 æ¨¡å‹ç®¡ç†å’Œéƒ¨ç½²</strong><br />\n<img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1212315/202602/1212315-20260212223713695-1347474859.png\" /></p>\n<p><strong>3 å¯¹è¯æµ‹è¯•ç•Œé¢</strong><br />\n<img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1212315/202602/1212315-20260212223737527-1308806231.png\" /></p>\n<p><strong>4 æ—¥å¿—ç›‘æµ‹</strong><br />\n<img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1212315/202602/1212315-20260212223724078-1950248665.png\" /></p>\n\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-02-12 22:40</span>&nbsp;\n<a href=\"https://www.cnblogs.com/chumochen\">å°‘å¹´çŸ¥æœ‰</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">42</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "ã€EF Coreã€‘å®ä½“è¿½è¸ªâ€”â€”Entryä¸­è®°å½•çš„æ•°æ®",
      "link": "https://www.cnblogs.com/tcjiaan/p/19601119",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/tcjiaan/p/19601119\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-02-12 22:23\">\n    <span>ã€EF Coreã€‘å®ä½“è¿½è¸ªâ€”â€”Entryä¸­è®°å½•çš„æ•°æ®</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body blogpost-body-html\" id=\"cnblogs_post_body\">\n<p>è¿™å›ç»ˆäºå¯ä»¥ Free äº†ï¼Œåˆšå¥½å¿«è¿‡å¹´äº†ï¼Œå·¥å‚çš„æœºå™¨ä¹Ÿå¾ˆäººæ€§åŒ–åœ°åäº†ï¼Œéœ€è¦ä¾›åº”å•†ç»´ä¿®ï¼Œä¸ç”¨æµ‹è¯•é¡¹ç›®äº†ã€‚æ‰€ä»¥è€å‘¨ä¹Ÿå›å®¶å¿«æ´»äº†å‡ å¤©ã€‚å…¶å®ä»–ä»¬è‡ªå·±æœ‰å¼€å‘å›¢é˜Ÿï¼Œå°æ”¹å°æµ‹çš„ä»–ä»¬å®Œå…¨å¯ä»¥è‡ªå·±å¼„ï¼Œéè¦æ‰¾è€å‘¨éº»çƒ¦ã€‚</p>\n<p>å’±ä»¬æ¥ç€ä¸Šæ¬¡çš„è¯é¢˜èŠï¼Œä¸Šæ¬¡è€å‘¨ç»™å¤§ä¼™ä¼´ä»¬èƒ¡è¯Œäº†ä¸€ç•ªæœ‰å…³å®ä½“çŠ¶æ€è¿½è¸ªçš„åŸºç¡€ã€‚è¿™ä¸€æ¬¡å’±ä»¬æŠŠæ³¨æ„åŠ›æ”¾åˆ°åä¸º EntityEntry çš„å¯¹è±¡ä¸Šã€‚å’¦ï¼Œè¿™åæ€ä¹ˆçœ‹ç€è¿™ä¹ˆå¥‡è‘©ï¼Ÿå’±ä»¬ä¸ç®¡å®ƒå¥‡ä¸å¥‡è‘©ï¼Œåªè¦çŸ¥é“å®ƒè´Ÿè´£ä¿å­˜å®ä½“å¯¹è±¡çš„å±æ€§å€¼å°±è¡Œäº†ã€‚</p>\n<p>æ¯•ç«Ÿå®ä½“ç±»é€šå¸¸å°±æ˜¯ä¸€ä¸ªæ™®é€šç±»ï¼ŒEF Core éœ€è¦çŠ¶æ€è¿½è¸ªåŠŸèƒ½ï¼Œæ€»ä¸èƒ½è®©å¼€å‘è€…è‡ªå·±å»è·Ÿè¸ªå§ï¼Œæ‰€ä»¥ï¼ŒEF å†…éƒ¨ä¼šç”¨å­—å…¸æ•°æ®ç»“æ„æ¥ä¿å­˜å®ä½“çš„å„ä¸ªå±æ€§çš„å€¼ã€‚å­—å…¸æ˜¯ä¸ªå¥½ä¸œè¥¿ï¼Œå•¥éƒ½èƒ½æ”¾ã€‚æœ‰æ—¶å€™åœ¨å†™ Web API æ—¶ï¼Œä¸€äº›è¿”å› JSON ç»“æ„æ˜¯åŠ¨æ€çš„ï¼Œä¸ºå®ƒä»¬éƒ½å®šä¹‰ä¸€ä¸ªç±»æ¥åºåˆ—åŒ–æ˜¯ä¸æ˜æ™ºçš„ï¼Œç›´æ¥æ‹¼è£… JSON æœ‰ç‚¹éº»çƒ¦ï¼Œè¿™æ—¶å€™ç”¨å­—å…¸å°±å¾ˆçˆ½ã€‚</p>\n<p>å½“å®ä½“ä»æ•°æ®åº“æŸ¥è¯¢å‡ºæ¥æ—¶ï¼ŒEF å…ˆä¸ºå®ä½“å¯¹è±¡åˆ›å»ºä¸€ä¸ªå¿«ç…§ï¼Œè¡¨æ˜å®ƒçš„åŸå§‹æ•°æ®ã€‚ç„¶åï¼Œå½“ä½ å¯¹å®ä½“è¿›è¡Œå„ç§æ”æ“ä½œä¹‹åï¼Œè°ƒç”¨ä¸€ä¸‹&nbsp;DetectChanges æ–¹æ³•ï¼Œå®ƒä¼šæ‰«æå®ä½“å¯¹è±¡å„ä¸ªå±æ€§çš„å€¼ï¼Œå¹¶å’Œå½“åˆåˆ›å»ºçš„å¿«ç…§æ¯”è¾ƒï¼Œä»¥ç¡®å®šå®ä½“æ˜¯å¦è¢«ä¿®æ”¹ï¼ˆæˆ–åˆ é™¤ï¼‰ã€‚</p>\n<p>ä¸ºäº†è®©åˆå­¦çš„å¤§ä¼™ä¼´ä»¬å¥½ç†è§£ï¼Œå’±ä»¬åšä¸ªå¯¹æ¯”å®éªŒã€‚</p>\n<p>å‡è®¾æœ‰è¿™ä¹ˆä¸ªå®ä½“ç±»ï¼Œå®ƒè¡¨ç¤ºä¸€æœ¬ä¹¦çš„ä¿¡æ¯ã€‚</p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">class</span><span style=\"color: rgba(0, 0, 0, 1);\"> Book\n{\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">int</span> BookId { <span style=\"color: rgba(0, 0, 255, 1);\">get</span>; <span style=\"color: rgba(0, 0, 255, 1);\">set</span><span style=\"color: rgba(0, 0, 0, 1);\">; }\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">string</span> Name { <span style=\"color: rgba(0, 0, 255, 1);\">get</span>; <span style=\"color: rgba(0, 0, 255, 1);\">set</span>; } = <span style=\"color: rgba(0, 0, 255, 1);\">null</span>!<span style=\"color: rgba(0, 0, 0, 1);\">;\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">string</span> ISBN { <span style=\"color: rgba(0, 0, 255, 1);\">get</span>; <span style=\"color: rgba(0, 0, 255, 1);\">set</span>; } = <span style=\"color: rgba(0, 0, 255, 1);\">null</span>!<span style=\"color: rgba(0, 0, 0, 1);\">;\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">string</span> Author { <span style=\"color: rgba(0, 0, 255, 1);\">get</span>; <span style=\"color: rgba(0, 0, 255, 1);\">set</span>; } = <span style=\"color: rgba(0, 0, 255, 1);\">null</span>!<span style=\"color: rgba(0, 0, 0, 1);\">;\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">int</span> PubYear {  <span style=\"color: rgba(0, 0, 255, 1);\">get</span>; <span style=\"color: rgba(0, 0, 255, 1);\">set</span><span style=\"color: rgba(0, 0, 0, 1);\">; }\n}</span></pre>\n</div>\n<p>ç„¶åæ˜¯å®ç°æ•°æ®åº“ä¸Šä¸‹æ–‡ã€‚</p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">class</span><span style=\"color: rgba(0, 0, 0, 1);\"> MyDb : DbContext\n{\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> DbSet&lt;Book&gt; Books { <span style=\"color: rgba(0, 0, 255, 1);\">get</span>; <span style=\"color: rgba(0, 0, 255, 1);\">set</span><span style=\"color: rgba(0, 0, 0, 1);\">; }\n\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">protected</span> <span style=\"color: rgba(0, 0, 255, 1);\">override</span> <span style=\"color: rgba(0, 0, 255, 1);\">void</span><span style=\"color: rgba(0, 0, 0, 1);\"> OnConfiguring(DbContextOptionsBuilder optionsBuilder)\n    {\n        optionsBuilder.UseSqlite(</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">data source=shop.db</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n    }\n\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">protected</span> <span style=\"color: rgba(0, 0, 255, 1);\">override</span> <span style=\"color: rgba(0, 0, 255, 1);\">void</span><span style=\"color: rgba(0, 0, 0, 1);\"> OnModelCreating(ModelBuilder modelBuilder)\n    {\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">var</span> bookEnt = modelBuilder.Entity&lt;Book&gt;<span style=\"color: rgba(0, 0, 0, 1);\">();\n        </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> ä¸»é”®åç§°</span>\n        bookEnt.HasKey(x =&gt; x.BookId).HasName(<span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">PK_Book</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n        </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> å­—ç¬¦ä¸²é•¿åº¦</span>\n        bookEnt.Property(a =&gt; a.Name).HasMaxLength(<span style=\"color: rgba(128, 0, 128, 1);\">65</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n        bookEnt.Property(b </span>=&gt; b.Author).HasMaxLength(<span style=\"color: rgba(128, 0, 128, 1);\">20</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n        bookEnt.Property(c </span>=&gt; c.ISBN).HasMaxLength(<span style=\"color: rgba(128, 0, 128, 1);\">15</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n        bookEnt.ToTable(</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">tb_Books</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span>, t =&gt;<span style=\"color: rgba(0, 0, 0, 1);\">\n        {\n            </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> çº¦æŸ</span>\n            t.HasCheckConstraint(<span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">CK_Pubyear</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span>, <span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">\\\"PubYear\\\" &gt;= 2020 AND \\\"PubYear\\\" &lt;= 2080</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n        });\n    }\n}</span></pre>\n</div>\n<p>ä¸Šé¢é‚£äº›éƒ½æ˜¯å¸¸è§„æ“ä½œäº†ï¼Œå¤§å®¶ç„ä¸¤çœ¼å°±è¡Œã€‚ä¸‹é¢ä»£ç åˆ›å»ºæ•°æ®åº“å¹¶æ’å…¥ä¸€æ¡æ•°æ®ã€‚</p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">using</span> MyDb context = <span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\">();\ncontext.Database.EnsureCreated();</span><span style=\"color: rgba(0, 0, 0, 1);\">\n\n        <span style=\"background-color: rgba(255, 255, 0, 1);\">Book bb </span></span><span style=\"background-color: rgba(255, 255, 0, 1);\">= <span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\">()\n</span></span>        <span style=\"background-color: rgba(255, 255, 0, 1);\"><span style=\"color: rgba(0, 0, 0, 1);\">{\n</span></span>            <span style=\"background-color: rgba(255, 255, 0, 1);\"><span style=\"color: rgba(0, 0, 0, 1);\">Name </span>= <span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">å›é­‚æœ¯</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">,\n</span></span>            <span style=\"background-color: rgba(255, 255, 0, 1);\"><span style=\"color: rgba(0, 0, 0, 1);\">Author </span>= <span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">è€å‘¨</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">,\n</span></span>            <span style=\"background-color: rgba(255, 255, 0, 1);\"><span style=\"color: rgba(0, 0, 0, 1);\">ISBN </span>= <span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">551269882</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">,\n</span></span>            <span style=\"background-color: rgba(255, 255, 0, 1);\"><span style=\"color: rgba(0, 0, 0, 1);\">PubYear </span>= <span style=\"color: rgba(128, 0, 128, 1);\">2028</span></span>\n        <span style=\"color: rgba(0, 0, 0, 1);\"><span style=\"background-color: rgba(255, 255, 0, 1);\">};</span>\ncontext.Books.Add(bb);\ncontext.SaveChanges();</span></pre>\n</div>\n<p>ä¸‹é¢é‡å¤´æˆæ¥äº†ã€‚å’±ä»¬ä»æ•°æ®åº“ä¸­æŸ¥è¯¢å‡ºè¿™æ¡è®°å½•ï¼Œç„¶åæ”¹å˜ PubYear å±æ€§çš„å€¼ã€‚</p>\n<div class=\"cnblogs_code\">\n<pre> <span style=\"color: rgba(0, 0, 255, 1);\">var</span> theBook =<span style=\"color: rgba(0, 0, 0, 1);\"> context.Books.FirstOrDefault();\n </span><span style=\"color: rgba(0, 0, 255, 1);\">if</span> (theBook == <span style=\"color: rgba(0, 0, 255, 1);\">null</span>) <span style=\"color: rgba(0, 0, 255, 1);\">return</span><span style=\"color: rgba(0, 0, 0, 1);\">;\n\n </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ‰“å°ä¸€æ¬¡è¿½è¸ª</span>\n<span style=\"color: rgba(0, 0, 0, 1);\"> Console.WriteLine(context.ChangeTracker.ToDebugString());\n </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ›´æ”¹å±æ€§</span>\n theBook.PubYear = <span style=\"color: rgba(128, 0, 128, 1);\">2030</span><span style=\"color: rgba(0, 0, 0, 1);\">;\n </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> å†æ‰“å°ä¸€æ¬¡</span>\n Console.WriteLine(context.ChangeTracker.ToDebugString());</pre>\n</div>\n<p>ChangeTracker.ToDebugString æ–¹æ³•æ–¹ä¾¿æµ‹è¯•ï¼Œå¯ä»¥ç›´æ¥è§‚å¯Ÿæ¡†æ¶å¯¹å®ä½“å¯¹è±¡çš„æ›´æ”¹è®°å½•ã€‚ä¸¤æ¬¡è°ƒç”¨çš„è¾“å‡ºå¦‚ä¸‹ï¼š</p>\n<div class=\"cnblogs_code\">\n<pre>Book {BookId: <span style=\"color: rgba(128, 0, 128, 1);\">1</span><span style=\"color: rgba(0, 0, 0, 1);\">} Unchanged\n    BookId: </span><span style=\"color: rgba(128, 0, 128, 1);\">1</span><span style=\"color: rgba(0, 0, 0, 1);\"> PK\n    Author: </span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(128, 0, 0, 1);\">è€å‘¨</span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(0, 0, 0, 1);\">\n    ISBN: </span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(128, 0, 0, 1);\">551269882</span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(0, 0, 0, 1);\">\n    Name: </span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(128, 0, 0, 1);\">å›é­‚æœ¯</span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(0, 0, 0, 1);\">\n    PubYear: </span><span style=\"color: rgba(128, 0, 128, 1);\">2028</span><span style=\"color: rgba(0, 0, 0, 1);\">\n\nBook {BookId: </span><span style=\"color: rgba(128, 0, 128, 1);\">1</span><span style=\"color: rgba(0, 0, 0, 1);\">} Unchanged\n    BookId: </span><span style=\"color: rgba(128, 0, 128, 1);\">1</span><span style=\"color: rgba(0, 0, 0, 1);\"> PK\n    Author: </span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(128, 0, 0, 1);\">è€å‘¨</span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(0, 0, 0, 1);\">\n    ISBN: </span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(128, 0, 0, 1);\">551269882</span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(0, 0, 0, 1);\">\n    Name: </span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(128, 0, 0, 1);\">å›é­‚æœ¯</span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(0, 0, 0, 1);\">\n    PubYear: </span><span style=\"color: rgba(128, 0, 128, 1);\">2030</span> Originally <span style=\"color: rgba(128, 0, 128, 1);\">2028</span></pre>\n</div>\n<p>å¾ˆæ˜æ˜¾ï¼ŒEF å¹¶ä¸çŸ¥é“å’±ä»¬ä¿®æ”¹äº†å®ä½“ï¼Œæ‰€ä»¥ï¼Œè°ƒç”¨ä¸€ä¸‹&nbsp;DetectChanges æ–¹æ³•ä¼šè§¦å‘ä¸€æ¬¡æ‰«æå’Œæ¯”è¾ƒã€‚</p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ‰“å°ä¸€æ¬¡è¿½è¸ª</span>\n<span style=\"color: rgba(0, 0, 0, 1);\">Console.WriteLine(context.ChangeTracker.ToDebugString());\n</span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ›´æ”¹å±æ€§</span>\ntheBook.PubYear = <span style=\"color: rgba(128, 0, 128, 1);\">2030</span><span style=\"color: rgba(0, 0, 0, 1);\">;\n<strong><span style=\"background-color: rgba(255, 255, 0, 1);\">context.ChangeTracker.DetectChanges()</span></strong>;\n</span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> å†æ‰“å°ä¸€æ¬¡</span>\nConsole.WriteLine(context.ChangeTracker.ToDebugString());</pre>\n</div>\n<p>è¿™æ¬¡ EF å°±çŸ¥é“å®ä½“è¢«ä¿®æ”¹äº†ã€‚</p>\n<div class=\"cnblogs_code\">\n<pre>Book {BookId: <span style=\"color: rgba(128, 0, 128, 1);\">1</span><span style=\"color: rgba(0, 0, 0, 1);\">} Unchanged\n    BookId: </span><span style=\"color: rgba(128, 0, 128, 1);\">1</span><span style=\"color: rgba(0, 0, 0, 1);\"> PK\n    Author: </span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(128, 0, 0, 1);\">è€å‘¨</span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(0, 0, 0, 1);\">\n    ISBN: </span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(128, 0, 0, 1);\">551269882</span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(0, 0, 0, 1);\">\n    Name: </span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(128, 0, 0, 1);\">å›é­‚æœ¯</span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(0, 0, 0, 1);\">\n    PubYear: </span><span style=\"color: rgba(128, 0, 128, 1);\">2028</span><span style=\"color: rgba(0, 0, 0, 1);\">\n\nBook {BookId: </span><span style=\"color: rgba(128, 0, 128, 1);\">1</span><span style=\"color: rgba(0, 0, 0, 1);\">} <span style=\"background-color: rgba(255, 255, 0, 1);\">Modified</span>\n    BookId: </span><span style=\"color: rgba(128, 0, 128, 1);\">1</span><span style=\"color: rgba(0, 0, 0, 1);\"> PK\n    Author: </span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(128, 0, 0, 1);\">è€å‘¨</span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(0, 0, 0, 1);\">\n    ISBN: </span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(128, 0, 0, 1);\">551269882</span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(0, 0, 0, 1);\">\n    Name: </span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(128, 0, 0, 1);\">å›é­‚æœ¯</span><span style=\"color: rgba(128, 0, 0, 1);\">'</span>\n    <span style=\"background-color: rgba(255, 255, 0, 1);\"><span style=\"color: rgba(0, 0, 0, 1);\">PubYear: </span><span style=\"color: rgba(128, 0, 128, 1);\">2030</span> Modified Originally <span style=\"color: rgba(128, 0, 128, 1);\">2028</span></span></pre>\n</div>\n<p>ç”±äº PubYear å±æ€§è¢«æ›´æ–°ï¼Œä½¿å¾—å®ä½“çš„çŠ¶æ€å˜æ›´ä¸º Modifiedã€‚</p>\n<p>é‚£ï¼Œä¸ºä»€ä¹ˆæˆ‘è°ƒç”¨ SaveChanges æ–¹æ³•æ—¶ EF èƒ½é¡ºåˆ©ç”Ÿæˆæ›´æ–° SQL å‘¢ï¼Œå› ä¸ºè¿™ä¸ªæ–¹æ³•ä¼šå…ˆ DetectChangesï¼Œå†æ ¹æ®å®ä½“çš„çŠ¶æ€æ¥ç”Ÿæˆæ›´æ–°è¯­å¥ã€‚</p>\n<p>ä½†æ˜¯ï¼Œå¦‚æœä½ åœ¨ä»£ç é‡Œé¢æŠŠ&nbsp;AutoDetectChangesEnabled å±æ€§è®¾ç½®ä¸º falseï¼Œé‚£ä¹ˆè°ƒç”¨ SaveChanges æ–¹æ³•æ˜¯ä¸ä¼šæ›´æ–°çš„ã€‚</p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">using</span> MyDb context = <span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\">();\n</span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ³¨æ„è¿™ä¸€è¡Œ</span>\ncontext.<strong><span style=\"background-color: rgba(255, 255, 0, 1);\">ChangeTracker.AutoDetectChangesEnabled = <span style=\"color: rgba(0, 0, 255, 1);\">false</span></span></strong><span style=\"color: rgba(0, 0, 0, 1);\">;\n\n</span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ‰¾å‡ºç¬¬ä¸€æ¡è®°å½•</span>\nBook onebook =<span style=\"color: rgba(0, 0, 0, 1);\"> context.Books.First();\n</span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ‰“å°ä¸€æ¬¡</span>\nConsole.WriteLine($<span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">{onebook.Name}, {onebook.PubYear}</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n</span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ”¹ä¸€ä¸‹å¹´ä»½</span>\nonebook.PubYear = <span style=\"color: rgba(128, 0, 128, 1);\">2031</span><span style=\"color: rgba(0, 0, 0, 1);\">;\n</span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æäº¤æ›´æ”¹</span>\n<span style=\"color: rgba(0, 0, 0, 1); background-color: rgba(0, 255, 0, 1);\">context.SaveChanges();\n</span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> å†æŸ¥è¯¢ä¸€æ¬¡</span>\nBook otherOne = context.Books.First(b =&gt; b.BookId ==<span style=\"color: rgba(0, 0, 0, 1);\"> onebook.BookId);\n\n</span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> å†æ¬¡æ‰“å°</span>\nConsole.WriteLine($<span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">{otherOne.Name}, {otherOne.PubYear}</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n</span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> çœ‹çœ‹å®ä½“è¿½è¸ªä¿¡æ¯</span>\nConsole.WriteLine(context.Entry(otherOne).DebugView.LongView);</pre>\n</div>\n<p>çœ‹çœ‹è°ƒè¯•ä¿¡æ¯ã€‚</p>\n<div class=\"cnblogs_code\">\n<pre>å›é­‚æœ¯, <span style=\"color: rgba(128, 0, 128, 1);\">2028</span><span style=\"color: rgba(0, 0, 0, 1);\">\nå›é­‚æœ¯, </span><span style=\"color: rgba(128, 0, 128, 1);\">2031</span><span style=\"color: rgba(0, 0, 0, 1);\">\nBook {BookId: </span><span style=\"color: rgba(128, 0, 128, 1);\">1</span><span style=\"color: rgba(0, 0, 0, 1);\">} <strong><span style=\"background-color: rgba(255, 0, 0, 1); color: rgba(255, 255, 255, 1);\">Unchanged</span></strong>\n    BookId: </span><span style=\"color: rgba(128, 0, 128, 1);\">1</span><span style=\"color: rgba(0, 0, 0, 1);\"> PK\n    Author: </span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(128, 0, 0, 1);\">è€å‘¨</span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(0, 0, 0, 1);\">\n    ISBN: </span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(128, 0, 0, 1);\">551269882</span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(0, 0, 0, 1);\">\n    Name: </span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(128, 0, 0, 1);\">å›é­‚æœ¯</span><span style=\"color: rgba(128, 0, 0, 1);\">'</span>\n    <span style=\"background-color: rgba(0, 255, 0, 1);\"><span style=\"color: rgba(0, 0, 0, 1);\">PubYear: </span><span style=\"color: rgba(128, 0, 128, 1);\">2031</span> Originally <span style=\"color: rgba(128, 0, 128, 1);\">2028</span></span></pre>\n</div>\n<p>è™½ç„¶ EF è¿½è¸ªåˆ° PubYear å±æ€§è¢«æ”¹ä¸º 2031ï¼Œä½†æ³¨æ„å®ƒç°åœ¨çš„çŠ¶æ€æ˜¯ Unchangedï¼Œæ‰€ä»¥ SaveChanges ä¸ä¼šæ›´æ–°æ•°æ®åº“ã€‚</p>\n<p>å¤§ä¼™ä¼´ä»¬ï¼Œè¿™é‡Œä½ åƒä¸‡åˆ«çŠ¯ç³Šæ¶‚ï¼ŒæŠŠæ¦‚å¿µææ··äº†ã€‚<span style=\"background-color: rgba(255, 0, 0, 1); font-size: 15px; color: rgba(255, 255, 255, 1);\"><strong>AutoDetectChangesEnabled å±æ€§è®¾ç½®ä¸º false åªè¡¨æ˜ EF åœ¨ SaveChanges æ–¹æ³•ä¸­ä¸ä¼šè‡ªåŠ¨æ‰«ææ£€æµ‹å®ä½“çš„çŠ¶æ€ï¼Œå¯äººå®¶æ²¡è¯´ä¸ä¼šè¿½è¸ªå®ä½“çš„å˜æ›´å“Ÿ</strong></span>ã€‚</p>\n<p>ä½ å¦‚æœåªæ˜¯æŸ¥è¯¢æ•°æ®ï¼Œä¸æ›´æ”¹æ•°æ®ï¼Œä¸éœ€è¦è¿½è¸ªå®ä½“çŠ¶æ€ï¼ˆä»¥æå‡ä¸å¤ªæ˜æ˜¾çš„æ€§èƒ½ï¼‰ï¼Œé‚£ä¹ˆä½ ä¸åº”è¯¥å…³é—­&nbsp;AutoDetectChangesEnabled å±æ€§ï¼Œè€Œåº”è¯¥è®¾ç½®&nbsp;QueryTrackingBehavior å±æ€§ã€‚</p>\n<div class=\"cnblogs_code\">\n<pre>context.ChangeTracker.QueryTrackingBehavior = <strong><span style=\"background-color: rgba(255, 255, 0, 1);\">QueryTrackingBehavior.NoTracking</span></strong>;</pre>\n</div>\n<p>ç¦ç”¨è¿½è¸ªåï¼Œæ›´æ–°æ•°æ®åº“å°±è·Ÿ Sugar ä¸€æ ·ï¼Œéœ€è¦ä½ å¼€æ‰‹åŠ¨æ¡£ã€‚ä½ åªéœ€è¦è°ƒç”¨ä¸€ä¸‹ Update æ–¹æ³•ï¼Œå°†å®ä½“çŠ¶æ€å˜ä¸º Modified å°±è¡Œï¼Œç¼ºç‚¹æ˜¯ç”Ÿæˆçš„ UPDATE è¯­å¥ä¼šæŠŠæ‰€æœ‰å­—æ®µéƒ½ SET ä¸€éã€‚</p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ‰¾å‡ºç¬¬ä¸€æ¡è®°å½•</span>\nBook onebook =<span style=\"color: rgba(0, 0, 0, 1);\"> context.Books.First();\n</span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ‰“å°ä¸€æ¬¡</span>\nConsole.WriteLine($<span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">{onebook.Name}, {onebook.PubYear}</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n\n</span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ”¹ä¸€ä¸‹å¹´ä»½</span>\nonebook.PubYear = <span style=\"color: rgba(128, 0, 128, 1);\">2024</span><span style=\"color: rgba(0, 0, 0, 1);\">;\n</span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ”¹å˜çŠ¶æ€</span>\n<span style=\"color: rgba(0, 0, 0, 1);\"><strong><span style=\"background-color: rgba(255, 255, 0, 1);\">context.Update(onebook)</span></strong>;\n\n</span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æäº¤æ›´æ”¹</span>\ncontext.SaveChanges();</pre>\n</div>\n<p>é‚£æœ‰æ²¡æœ‰æ–¹æ³•è®©ç”Ÿæˆçš„ UPDATE è¯­å¥åª SET è¢«æ”¹åŠ¨è¿‡çš„å­—æ®µå‘¢ï¼Ÿå¤§ä¼™ä¼´è‚¯å®šçŒœåˆ°ï¼Œè€å‘¨æ—¢ç„¶è¿™ä¹ˆå†™ï¼Œé‚£è¯´æ˜è‚¯å®šæœ‰çš„ã€‚ä½†è€å‘¨å¸Œæœ›ä½ ä¸è¦æ­»è®°æ–¹æ³•ï¼Œè€Œæ˜¯æ€è·¯ã€‚å’±ä»¬å¥½å¥½æƒ³ä¸€ä¸‹ï¼šEF æ˜¯ä¸æ˜¯åœ¨æŸ¥è¯¢å‡ºæ•°æ®åˆ°ä¸ºå®ä½“å»ºç«‹å¿«ç…§ï¼Œç„¶åè¿›è¡Œæ¯”è¾ƒï¼Œä»¥ç¡®å®šå“ªäº›å±æ€§ï¼ˆå­—æ®µï¼‰è¢«ä¿®æ”¹äº†ã€‚æ—¢ç„¶è¿™æ ·ï¼Œå’±ä»¬åœ¨æŸ¥è¯¢å®ä½“åï¼Œæ‰‹åŠ¨ç»™å®ƒå¼„ä¸ªå¿«ç…§ï¼Œç„¶åå†ä¿®æ”¹å±æ€§å€¼ï¼Œå†æäº¤æ›´æ–°ä¸å°±å®Œäº‹äº†å—ï¼Ÿå¥½ï¼Œæƒ³å¹²å°±å¹²ã€‚</p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ‰¾å‡ºç¬¬ä¸€æ¡è®°å½•</span>\nBook onebook =<span style=\"color: rgba(0, 0, 0, 1);\"> context.Books.First();\n\ncontext.Books.Attach(onebook);\n</span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> è®°å½•å¿«ç…§</span>\n<span style=\"color: rgba(0, 0, 0, 1);\"><strong><span style=\"background-color: rgba(255, 255, 0, 1);\">context.Entry(onebook).OriginalValues.SetValues(onebook)</span></strong>;\n\n</span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ”¹ä¸€ä¸‹å¹´ä»½</span>\nonebook.PubYear = <span style=\"color: rgba(128, 0, 128, 1);\">2021</span><span style=\"color: rgba(0, 0, 0, 1);\">;\n</span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ‰“å°ä¸€ä¸‹çŠ¶æ€ä¿¡æ¯</span>\n<span style=\"color: rgba(0, 0, 0, 1);\">Console.WriteLine(context.Entry(onebook).DebugView.LongView);\n\n</span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> ä¸¥é‡è­¦å‘Šï¼šå¦‚æœä½ æŠŠ AutoDetectChangesEnabled å±æ€§è®¾ç½®ä¸º falseï¼Œé‚£ä¸€å®šè¦è°ƒç”¨ä¸‹é¢è¿™ä¸€è¡Œä»¥æ‰«ææ›´æ”¹ï¼Œå¦åˆ™åªèƒ½æ›´æ–°ä¸ªæ¯›çº¿\n</span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> å¦‚æœä½ æ²¡æœ‰æ”¹åŠ¨ AutoDetectChangesEnabled å±æ€§ï¼Œå®ƒé»˜è®¤æ˜¯æ‰“å¼€çš„ï¼Œé‚£ä¸‹é¢è¿™è¡Œå¯ä»¥å¿½ç•¥\n</span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> context.ChangeTracker.DetectChanges();\n</span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æäº¤æ›´æ”¹</span>\n<span style=\"color: rgba(0, 0, 0, 1);\">context.SaveChanges();\n\n</span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> å†æŸ¥è¯¢ä¸€æ¬¡</span>\nBook otherOne = context.Books.First(b =&gt; b.BookId ==<span style=\"color: rgba(0, 0, 0, 1);\"> onebook.BookId);\n\n</span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> å†æ¬¡æ‰“å°çŠ¶æ€ä¿¡æ¯</span>\nConsole.WriteLine(context.Entry(otherOne).DebugView.LongView);</pre>\n</div>\n<p>ç»“æœå¦‚ä¸‹ï¼š</p>\n<div class=\"cnblogs_code\">\n<pre>Book {BookId: <span style=\"color: rgba(128, 0, 128, 1);\">1</span><span style=\"color: rgba(0, 0, 0, 1);\">} Modified\n    BookId: </span><span style=\"color: rgba(128, 0, 128, 1);\">1</span><span style=\"color: rgba(0, 0, 0, 1);\"> PK\n    Author: </span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(128, 0, 0, 1);\">è€å‘¨</span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(0, 0, 0, 1);\">\n    ISBN: </span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(128, 0, 0, 1);\">551269882</span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(0, 0, 0, 1);\">\n    Name: </span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(128, 0, 0, 1);\">å›é­‚æœ¯</span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(0, 0, 0, 1);\">\n    PubYear: </span><span style=\"color: rgba(128, 0, 128, 1);\">2021</span> <strong><span style=\"background-color: rgba(255, 255, 0, 1);\">Modified Originally <span style=\"color: rgba(128, 0, 128, 1);\">2025</span></span></strong><span style=\"color: rgba(0, 0, 0, 1);\">\nBook {BookId: </span><span style=\"color: rgba(128, 0, 128, 1);\">1</span><span style=\"color: rgba(0, 0, 0, 1);\">} Detached\n    BookId: </span><span style=\"color: rgba(128, 0, 128, 1);\">1</span><span style=\"color: rgba(0, 0, 0, 1);\"> PK\n    Author: </span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(128, 0, 0, 1);\">è€å‘¨</span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(0, 0, 0, 1);\">\n    ISBN: </span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(128, 0, 0, 1);\">551269882</span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(0, 0, 0, 1);\">\n    Name: </span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(128, 0, 0, 1);\">å›é­‚æœ¯</span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(0, 0, 0, 1);\">\n    PubYear: </span><span style=\"color: rgba(128, 0, 128, 1);\">2021</span></pre>\n</div>\n<p>ç”Ÿæˆçš„SQLè¯­å¥å¦‚ä¸‹ï¼š</p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">UPDATE</span> \"tb_Books\" <span style=\"background-color: rgba(255, 255, 0, 1);\"><span style=\"color: rgba(0, 0, 255, 1);\">SET</span> \"PubYear\" <span style=\"color: rgba(128, 128, 128, 1);\">=</span> <span style=\"color: rgba(0, 128, 0, 1);\">@p0</span></span>\n<span style=\"color: rgba(0, 0, 255, 1);\">WHERE</span> \"BookId\" <span style=\"color: rgba(128, 128, 128, 1);\">=</span> <span style=\"color: rgba(0, 128, 0, 1);\">@p1</span><span style=\"color: rgba(0, 0, 0, 1);\">\nRETURNING </span><span style=\"color: rgba(128, 0, 0, 1); font-weight: bold;\">1</span>;</pre>\n</div>\n<p>å› ä¸ºå’±ä»¬è®¾ç½®ä¸ºä¸è¿½è¸ªå®ä½“ï¼ˆQueryTrackingBehavior.NoTrackingï¼‰ï¼Œæ‰€ä»¥åœ¨æŸ¥è¯¢åï¼Œè¦ç”¨ Attach æ–¹æ³•æŠŠå®ä½“è¿æ¥åˆ°è¿½è¸ªå™¨ï¼Œå¹¶è®¾å®šçŠ¶æ€ä¸º Unchangedã€‚ç„¶åï¼Œcontext.Entry æ–¹æ³•è·å–åˆ° EntityEntry å¯¹è±¡ï¼ˆæœ¬æ–‡çš„ä¸»è§’å‡ºåœºäº†ï¼‰ï¼Œå†å¾€&nbsp;OriginalValues é‡Œé¢æ”¾ç‚¹åŸææ–™ï¼ˆç›®å‰æŸ¥è¯¢å‡ºæ¥çš„å€¼ï¼‰ï¼Œè¿™æ ·å¿«ç…§å°±å»ºç«‹äº†ã€‚å†ç„¶åï¼Œå¯ä»¥å¤§èƒ†åœ°ä¿®æ”¹å®ä½“äº†ï¼Œè¿™æ—¶å€™ EF èƒ½æ‰«æåˆ°æ›´æ”¹ã€‚ç”±äºå’±ä»¬è®¾ç½®çš„ä¸è¿½è¸ªï¼Œæ‰€ä»¥æ›´æ–°ä¹‹å EF åˆæŠŠå®ä½“ç»™ç”©äº†ï¼Œäºæ˜¯å®ä½“çŠ¶æ€åˆå˜å› Detachedã€‚</p>\n<p>è¯´ç®€å•ç‚¹ï¼Œåœ¨æ‰‹åŠ¨æ¡£è¿½è¸ªä¸‹ï¼Œå®ä½“çš„çŠ¶æ€ç»å†äº† Detached -&gt; Unchanged -&gt; Modified -&gt; Detached çš„ç”Ÿæ­»è½®å›ã€‚</p>\n<p>-----------------------------------------------------------------------------------------------------------------------------------------------------------</p>\n<p>Entry æ˜¯â€œè®°å½•â€çš„æ„æ€ï¼ŒEntityEntry æœ›æ–‡ç”Ÿä¹‰ä¸€ä¸‹å°±æ˜¯â€œå®ä½“è®°å½•â€ï¼Œå®ƒç»´æŠ¤ç€å®ä½“çš„çŠ¶æ€å’Œå„å±æ€§çš„å€¼ã€‚ä¸€å¥è¯æ–¯åŸºæ€»ç»“ï¼šå®ƒæ˜¯ä¸ºå®ä½“è¿½è¸ªï¼ˆè·Ÿè¸ªï¼‰æœåŠ¡çš„ï¼Œç®¡ç†ç€å®ä½“ç›¸å…³çš„æ•°æ®ã€‚</p>\n<p>åœ¨ 80% çš„ä½¿ç”¨åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬ä¸éœ€è¦ç”¨ Entry çš„ï¼Œèµ°å¸¸è§„æµç¨‹ï¼Œä»æ•°æ®åº“ä¸­æŸ¥è¯¢æ•°æ®ï¼Œè‡ªåŠ¨è¿½è¸ªï¼Œä¿®æ”¹åæäº¤å°±å®Œäº‹äº†ã€‚ä¸è¿‡ï¼Œåƒå½±å­å±æ€§è¿™ç§ä¸åœ¨å®ä½“ç±»ä¸­çš„æˆå‘˜ï¼Œä½ å’‹åŠï¼Ÿå½±å­å±æ€§çš„å…ƒæ•°æ®åœ¨æ•°æ®åº“æ¨¡å‹ä¸­ï¼Œè€Œå€¼æ˜¯ä¿å­˜åœ¨ EntityEntry ä¸­ã€‚ä¸‹é¢å’±ä»¬ç”¨ä¸€ä¸ªå®ä¾‹æ¥è¯´æ˜ã€‚</p>\n<p>å’±ä»¬å®šä¹‰ä¸€ä¸ªç”¨æˆ·å®ä½“ã€‚</p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">class</span><span style=\"color: rgba(0, 0, 0, 1);\"> User\n{\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">int</span> Id { <span style=\"color: rgba(0, 0, 255, 1);\">get</span>; <span style=\"color: rgba(0, 0, 255, 1);\">set</span><span style=\"color: rgba(0, 0, 0, 1);\">; }\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">string</span> Name { <span style=\"color: rgba(0, 0, 255, 1);\">get</span>; <span style=\"color: rgba(0, 0, 255, 1);\">set</span>; } = <span style=\"color: rgba(0, 0, 255, 1);\">string</span><span style=\"color: rgba(0, 0, 0, 1);\">.Empty;\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">string</span> LogName { <span style=\"color: rgba(0, 0, 255, 1);\">get</span>; <span style=\"color: rgba(0, 0, 255, 1);\">set</span>; } = <span style=\"color: rgba(0, 0, 255, 1);\">string</span><span style=\"color: rgba(0, 0, 0, 1);\">.Empty;\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">string</span>? Password {  <span style=\"color: rgba(0, 0, 255, 1);\">get</span>; <span style=\"color: rgba(0, 0, 255, 1);\">set</span><span style=\"color: rgba(0, 0, 0, 1);\">; }\n}</span></pre>\n</div>\n<p>ç„¶åæ˜¯å®ç°è‡ªå·±çš„æ•°æ®åº“ä¸Šä¸‹æ–‡ã€‚</p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">class</span><span style=\"color: rgba(0, 0, 0, 1);\"> AppContext : DbContext\n{\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> DbSet&lt;User&gt; Users { <span style=\"color: rgba(0, 0, 255, 1);\">get</span>; <span style=\"color: rgba(0, 0, 255, 1);\">set</span><span style=\"color: rgba(0, 0, 0, 1);\">; }\n\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">protected</span> <span style=\"color: rgba(0, 0, 255, 1);\">override</span> <span style=\"color: rgba(0, 0, 255, 1);\">void</span><span style=\"color: rgba(0, 0, 0, 1);\"> OnConfiguring(DbContextOptionsBuilder optionsBuilder)\n    {\n        optionsBuilder.UseSqlite(</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">data source=demo996.db</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">)</span><span style=\"color: rgba(0, 0, 0, 1);\">;\n    }\n\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">protected</span> <span style=\"color: rgba(0, 0, 255, 1);\">override</span> <span style=\"color: rgba(0, 0, 255, 1);\">void</span><span style=\"color: rgba(0, 0, 0, 1);\"> OnModelCreating(ModelBuilder modelBuilder)\n    {\n        EntityTypeBuilder</span>&lt;User&gt; entUser = modelBuilder.Entity&lt;User&gt;<span style=\"color: rgba(0, 0, 0, 1);\">();\n        </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> å¸¸è§„é…ç½®</span>\n        entUser.Property(x =&gt; x.Name).HasColumnName(<span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">u_name</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n        entUser.Property(w </span>=&gt; w.LogName).HasColumnName(<span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">log_name</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n        entUser.Property(t </span>=&gt; t.Password).HasColumnName(<span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">u_pwd</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n        entUser.Property(m </span>=&gt; m.Id).HasColumnName(<span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">u_id</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n        entUser.HasKey(x </span>=&gt; x.Id).HasName(<span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">PK_Userid</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n        </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> å½±å­å±æ€§</span>\n        <strong><span style=\"background-color: rgba(255, 255, 0, 1);\">entUser.Property&lt;DateTime?&gt;(<span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">LastLog</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span>).HasColumnName(<span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">_last_log</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span></span></strong><span style=\"color: rgba(0, 0, 0, 1);\"><strong><span style=\"background-color: rgba(255, 255, 0, 1);\">)</span></strong>;\n    }\n}</span></pre>\n</div>\n<p>User å®ä½“æœ‰ä¸€ä¸ªå½±å­å±æ€§ LastLogï¼Œè®°å½•ç”¨æˆ·ä¸Šä¸€æ¬¡ç™»å½•çš„æ—¶é—´ã€‚åœ¨å®ä½“ä¸­ä¸éœ€è¦ä½¿ç”¨ï¼Œæˆ–ä¸å¸Œæœ›è¢«è®¿é—®çš„å±æ€§ï¼Œåœ¨å»ºç«‹æ•°æ®åº“æ¨¡å‹æ—¶å¯ä»¥ä½œä¸ºå½±å­å±æ€§ã€‚</p>\n<p>åœ¨æŸ¥è¯¢è¡¨è¾¾å¼ä¸­å¯ä»¥ä½¿ç”¨ EF.Property æ–¹æ³•æ¥è·å–å½±å­å±æ€§çš„å€¼ï¼ŒEF ç±»ä¸­çš„æ–¹æ³•æˆå‘˜éƒ½ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œæ²¡æœ‰çœŸæ­£å®ç°ï¼Œè€Œæ˜¯é€šè¿‡è¡¨è¾¾å¼æ ‘æ¥ç¿»è¯‘å¤„ç†ã€‚å› æ­¤ï¼Œåœ¨éæŸ¥è¯¢è¯­å¥ä¸­è®¿é—®å½±å­å±æ€§ï¼Œæˆ–è¦ä¿®æ”¹å½±å­å±æ€§å°±ä¸èƒ½ä½¿ç”¨ EF ç±»äº†ã€‚å½±å­å±æ€§çš„å€¼ä¿å­˜åœ¨ Entry ä¸­ï¼Œå¯ä»¥ç”¨ä»¥ä¸‹ä»£ç æ¥è®¾ç½® LastLog å±æ€§çš„å€¼ã€‚</p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> å…ˆæŸ¥è¯¢å‡ºå®ä½“</span>\nUser? u = context.Users.FirstOrDefault(x =&gt; x.Name == <span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">Teto</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n</span><span style=\"color: rgba(0, 0, 255, 1);\">if</span> (u <span style=\"color: rgba(0, 0, 255, 1);\">is</span> <span style=\"color: rgba(0, 0, 255, 1);\">null</span><span style=\"color: rgba(0, 0, 0, 1);\">)\n{\n    Console.WriteLine(</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">ç”¨æˆ·ä¸å­˜åœ¨</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">return</span><span style=\"color: rgba(0, 0, 0, 1);\">;\n}\n</span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> é€šè¿‡ Entry ä¿®æ”¹å½±å­å±æ€§</span>\nDateTime theTime =<span style=\"color: rgba(0, 0, 0, 1);\"> DateTime.Now;\ncontext.<strong><span style=\"background-color: rgba(255, 255, 0, 1);\">Entry(u).Property(</span></strong></span><strong><span style=\"background-color: rgba(255, 255, 0, 1);\"><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">LastLog</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span>).CurrentValue =</span></strong><span style=\"color: rgba(0, 0, 0, 1);\"><strong><span style=\"background-color: rgba(255, 255, 0, 1);\"> theTime</span></strong>;\n</span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ‰“å°è¿½è¸ªä¿¡æ¯</span>\n<span style=\"color: rgba(0, 0, 0, 1);\">Console.WriteLine(context.ChangeTracker.DebugView.LongView);\n</span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æäº¤ä¿å­˜</span>\ncontext.SaveChanges();</pre>\n</div>\n<p>ç›´æ¥ä½¿ç”¨ Entry ä¿®æ”¹å±æ€§å€¼ä¼šè‡ªåŠ¨åº”ç”¨å®ä½“çš„çŠ¶æ€ã€‚User å®ä½“å˜ä¸º Modeified çŠ¶æ€ã€‚</p>\n<div class=\"cnblogs_code\">\n<pre>User {Id: <span style=\"color: rgba(128, 0, 128, 1);\">3</span><span style=\"color: rgba(0, 0, 0, 1);\">} <strong><span style=\"background-color: rgba(255, 255, 0, 1);\">Modified</span></strong>\n    Id: </span><span style=\"color: rgba(128, 0, 128, 1);\">3</span><span style=\"color: rgba(0, 0, 0, 1);\"> PK\n    LastLog: </span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(0, 128, 0, 1);\">2026/2/12 18:25:01</span><span style=\"color: rgba(128, 0, 0, 1);\">'</span> Modified Originally <span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(0, 128, 0, 1);\">2026/2/12 17:41:20</span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(0, 0, 0, 1);\">\n    LogName: </span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(0, 128, 0, 1);\">teto</span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(0, 0, 0, 1);\">\n    Name: </span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(0, 128, 0, 1);\">Teto</span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(0, 0, 0, 1);\">\n    Password: </span><span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(0, 128, 0, 1);\">balabala</span><span style=\"color: rgba(128, 0, 0, 1);\">'</span></pre>\n</div>\n<p>æƒ³éªŒè¯æ˜¯å¦æ›´æ–°æ•°æ®åº“ï¼Œå¯ä»¥æŸ¥è¯¢ä¸€éæ•´ä¸ªè¡¨ã€‚</p>\n<div class=\"cnblogs_code\">\n<pre>using(var context =<span style=\"color: rgba(0, 0, 0, 1);\"> new AppContext())\n{\n    Console.WriteLine(</span><span style=\"color: rgba(128, 128, 128, 1);\">\"</span><span style=\"color: rgba(128, 128, 128, 1);\">\\n------ æ‰€æœ‰ç”¨æˆ· ------\");</span>\n<span style=\"color: rgba(0, 0, 0, 1);\">    foreach(User usr in context.Users)\n    {\n        Console.WriteLine($</span><span style=\"color: rgba(128, 128, 128, 1);\">\"</span><span style=\"color: rgba(128, 128, 128, 1);\">\"\"</span>\n<span style=\"color: rgba(0, 0, 0, 1);\">            ç”¨æˆ·IDï¼š{usr.Id}\n            ç”¨æˆ·åï¼š{usr.Name}\n            ä¸Šæ¬¡ç™»å½•æ—¶é—´ï¼š{context.Entry(usr).Property(</span><span style=\"color: rgba(128, 128, 128, 1);\">\"</span><span style=\"color: rgba(128, 128, 128, 1);\">LastLog\").CurrentValue}</span>\n            <span style=\"color: rgba(128, 128, 128, 1);\">\"</span><span style=\"color: rgba(128, 128, 128, 1);\">\"\");</span>\n        Console.Write(<span style=\"color: rgba(128, 128, 128, 1);\">\"</span><span style=\"color: rgba(128, 128, 128, 1);\">\\n\");</span>\n<span style=\"color: rgba(0, 0, 0, 1);\">    }\n}</span></pre>\n</div>\n<div class=\"cnblogs_code\">\n<pre>------ æ‰€æœ‰ç”¨æˆ· ------<span style=\"color: rgba(0, 0, 0, 1);\">\nç”¨æˆ·IDï¼š</span><span style=\"color: rgba(128, 0, 128, 1);\">1</span><span style=\"color: rgba(0, 0, 0, 1);\">\nç”¨æˆ·åï¼šKaito\nä¸Šæ¬¡ç™»å½•æ—¶é—´ï¼š</span><span style=\"color: rgba(128, 0, 128, 1);\">2026</span>/<span style=\"color: rgba(128, 0, 128, 1);\">2</span>/<span style=\"color: rgba(128, 0, 128, 1);\">12</span> <span style=\"color: rgba(128, 0, 128, 1);\">17</span>:<span style=\"color: rgba(128, 0, 128, 1);\">40</span>:<span style=\"color: rgba(128, 0, 128, 1);\">45</span><span style=\"color: rgba(0, 0, 0, 1);\">\n\nç”¨æˆ·IDï¼š</span><span style=\"color: rgba(128, 0, 128, 1);\">2</span><span style=\"color: rgba(0, 0, 0, 1);\">\nç”¨æˆ·åï¼šGumi\nä¸Šæ¬¡ç™»å½•æ—¶é—´ï¼š</span><span style=\"color: rgba(128, 0, 128, 1);\">2026</span>/<span style=\"color: rgba(128, 0, 128, 1);\">2</span>/<span style=\"color: rgba(128, 0, 128, 1);\">12</span> <span style=\"color: rgba(128, 0, 128, 1);\">17</span>:<span style=\"color: rgba(128, 0, 128, 1);\">40</span>:<span style=\"color: rgba(128, 0, 128, 1);\">13</span><span style=\"color: rgba(0, 0, 0, 1);\">\n\nç”¨æˆ·IDï¼š</span><span style=\"color: rgba(128, 0, 128, 1);\">3</span><span style=\"color: rgba(0, 0, 0, 1);\">\nç”¨æˆ·åï¼šTeto\nä¸Šæ¬¡ç™»å½•æ—¶é—´ï¼š</span><span style=\"color: rgba(128, 0, 128, 1);\">2026</span>/<span style=\"color: rgba(128, 0, 128, 1);\">2</span>/<span style=\"color: rgba(128, 0, 128, 1);\">12</span> <span style=\"color: rgba(128, 0, 128, 1);\">18</span>:<span style=\"color: rgba(128, 0, 128, 1);\">25</span>:<span style=\"color: rgba(128, 0, 128, 1);\">01</span></pre>\n</div>\n<p>ä¸Šé¢çš„åšæ³•è¦å…ˆæŸ¥è¯¢ä¸€æ¬¡ï¼Œç„¶åæ›´æ–°ï¼Œå³æ•°æ®åº“å¾€è¿”ä¸¤å›ã€‚99.99965% çš„æƒ…å†µä¸‹ä¹Ÿæ²¡å•¥å½±å“çš„ï¼Œè€Œä¸”å¾ˆå¤šæ—¶å€™ç”¨æˆ·ç¼–è¾‘æ•°æ®æ—¶ç¡®å®å¾—å…ˆæŸ¥åæ”¹çš„ï¼Œæ¯•ç«Ÿç¼–è¾‘ç•Œé¢ä½ å¾—å…ˆæ˜¾ç¤ºç°æœ‰çš„æ•°æ®æ‰æ–¹ä¾¿ç”¨æˆ·å»ä¿®æ”¹ã€‚å¦‚æœä½ ä¸æƒ³ SELECT åªæƒ³ç›´æ¥ UPDATE ä¹Ÿå¯ä»¥çš„ã€‚</p>\n<div class=\"cnblogs_code\">\n<pre> <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> ç›´æ¥å®ä¾‹åŒ–\n </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> Id æ˜¯ä¸»é”®ï¼Œå¿…é¡»èµ‹å€¼ï¼Œæ˜ç¡®è¦æ›´æ–°çš„è®°å½•</span>\n User data = <span style=\"color: rgba(0, 0, 255, 1);\">new</span>() { <strong><span style=\"background-color: rgba(255, 255, 0, 1);\">Id = <span style=\"color: rgba(128, 0, 128, 1);\">2</span></span></strong><span style=\"color: rgba(0, 0, 0, 1);\"> };\n </span><span style=\"color: rgba(0, 0, 255, 1);\">var</span> entry =<span style=\"color: rgba(0, 0, 0, 1);\"> context.Entry(data);\n </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ ‡è®°å®ä½“çš„çŠ¶æ€ä¸ºå·²ä¿®æ”¹</span>\n entry.State =<span style=\"color: rgba(0, 0, 0, 1);\"><span style=\"background-color: rgba(0, 255, 0, 1);\"> EntityState.Modified</span>;\n </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> å…ˆæ”¹å˜å®ä½“çš„çŠ¶æ€å†å»æ”¹å˜æŸä¸ªå±æ€§çš„çŠ¶æ€\n </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> å› ä¸ºåœ¨è®¾ç½®å®ä½“ä¸º Modified æ—¶ä¼šæŠŠæ‰€æœ‰å±æ€§éƒ½è®¾ç½®ä¸º Modified\n </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> å…ˆè®¾ç½®å®ä½“å†è®¾ç½®å±æ€§æˆå‘˜å°±ä¸ä¼šè¢«è¦†ç›–</span>\n <span style=\"color: rgba(0, 0, 255, 1);\">foreach</span> (<span style=\"color: rgba(0, 0, 255, 1);\">var</span> p <span style=\"color: rgba(0, 0, 255, 1);\">in</span><span style=\"color: rgba(0, 0, 0, 1);\"> entry.Properties)\n {\n     </span><span style=\"color: rgba(0, 0, 255, 1);\">if</span> (p.Metadata.Name == <span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">LastLog</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">)\n     {\n         </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> åªä¿®æ”¹è¿™ä¸ªå±æ€§</span>\n         p.<span style=\"background-color: rgba(0, 255, 0, 1);\">IsModified = <span style=\"color: rgba(0, 0, 255, 1);\">true</span></span><span style=\"color: rgba(0, 0, 0, 1);\">;\n         p.CurrentValue </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> DateTime.Now;\n     }\n     </span><span style=\"color: rgba(0, 0, 255, 1);\">else</span><span style=\"color: rgba(0, 0, 0, 1);\">\n     {\n         </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> å…¶ä»–å±æ€§ä¸æ”¹ï¼Œæ ‡è®°ä¸ºéä¿®æ”¹çŠ¶æ€</span>\n         p.<span style=\"background-color: rgba(0, 255, 0, 1);\">IsModified = <span style=\"color: rgba(0, 0, 255, 1);\">false</span></span><span style=\"color: rgba(0, 0, 0, 1);\">;\n     }\n }\n\n </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ‰“å°è¿½è¸ªä¿¡æ¯</span>\n<span style=\"color: rgba(0, 0, 0, 1);\"> Console.WriteLine(context.ChangeTracker.DebugView.LongView);\n </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æäº¤ä¿å­˜</span>\n context.SaveChanges();</pre>\n</div>\n<p>åœ¨æ”¹å˜å®ä½“çŠ¶æ€æ—¶ï¼Œå…ˆè®¾ç½®æ•´ä¸ªå®ä½“ä¸º Modifiedï¼Œæ­¤æ—¶ç”±äºæ²¡æœ‰åˆå§‹å¿«ç…§åšæ¯”è¾ƒï¼Œå®ä½“çš„æ‰€æœ‰å±æ€§ï¼ˆä¸å«ä¸»é”®ï¼‰éƒ½è¢«æ ‡è®°ä¸º Modifiedï¼Œå¦‚æœè¿™æ ·æ›´æ–°æ•°æ®åº“çš„è¯ï¼Œä¼šæŠŠ Nameã€LogNameã€Password ç­‰å±æ€§éƒ½æ›´æ”¹ä¸º null äº†ã€‚æ‰€ä»¥ï¼Œå’±ä»¬åœ¨è®¾ç½®å®ä½“ä¸º Modified åï¼Œè¿˜è¦å¯¹å„ä¸ªå±æ€§åšåšæ‰‹è„šã€‚ç”¨ foreach æšä¸¾å„ä¸ªå±æ€§ï¼Œåªæœ‰ LastLog å±æ€§æ‰è®¾ç½®ä¸º Modifiedï¼Œå…¶ä»–çš„å±æ€§è®¾ç½®ä¸ºæœªæ›´æ”¹ï¼Œè¿™æ ·å‘é€åˆ°æ•°æ®åº“çš„ UPDATE è¯­å¥åªä¼š SET LastLog å±æ€§ã€‚</p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">UPDATE</span> \"Users\" <span style=\"color: rgba(0, 0, 255, 1);\">SET</span> \"_last_log\" <span style=\"color: rgba(128, 128, 128, 1);\">=</span> <span style=\"color: rgba(0, 128, 0, 1);\">@p0</span>\n<span style=\"color: rgba(0, 0, 255, 1);\">WHERE</span> \"u_id\" <span style=\"color: rgba(128, 128, 128, 1);\">=</span> <span style=\"color: rgba(0, 128, 0, 1);\">@p1</span><span style=\"color: rgba(0, 0, 0, 1);\">\nRETURNING </span><span style=\"color: rgba(128, 0, 0, 1); font-weight: bold;\">1</span>;</pre>\n</div>\n<p>ç”±äºå’±ä»¬è¦æ›´æ–°çš„æ˜¯å½±å­å±æ€§ï¼Œä¸èƒ½ä½¿ç”¨ ExecuteUpdate è¿™æ ·çš„ä¾¿æ·æ–¹æ³•ã€‚</p>\n<p>æœ¬æ–‡åˆ°æ­¤ç»“æŸã€‚</p>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-02-12 22:23</span>&nbsp;\n<a href=\"https://www.cnblogs.com/tcjiaan\">ä¸œé‚ªç‹¬å­¤</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">38</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "æˆ‘çš„17å²",
      "link": "https://www.cnblogs.com/jayzorn-ljz/p/19611417",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/jayzorn-ljz/p/19611417\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-02-13 13:46\">\n    <span>æˆ‘çš„17å²</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h1 id=\"æˆ‘çš„åä¸ƒå²\">æˆ‘çš„åä¸ƒå²</h1>\n<p><em>ä½ ä¸ºä»€ä¹ˆè¦æ€»ç»“è‡ªå·±ï¼Ÿä½ è¦å†™äº›ä»€ä¹ˆï¼Ÿä½ è¦æ€è€ƒä»€ä¹ˆï¼Ÿ</em></p>\n<hr />\n<h2 id=\"å’Œè‡ªå·±å¯¹è¯\">å’Œè‡ªå·±å¯¹è¯</h2>\n<p>è¿™æ˜¯ç¬¬å‡ æ¬¡æ€»ç»“è‡ªå·±äº†ï¼Ÿæ¯æ¬¡å›å¤´çœ‹ï¼Œæ€»è§‰å¾—æœ‰äº›ä¸œè¥¿æ²¡å†™é€ï¼Œæœ‰äº›è¯è¯´å¾—ä¸å¯¹ã€‚ä¸è¿‡ï¼Œit doesn't matter. åªè¦èƒ½ç•™ä¸‹ç‚¹æœ‰ç”¨çš„ï¼Œå°±å¤Ÿäº†ã€‚</p>\n<p>åä¸ƒå²äº†â€”â€”è™½ç„¶è¿˜æœ‰å››ä¸ªæœˆå°±åå…«äº†ã€‚ä½ æœ‰æ²¡æœ‰æ´»æˆè‡ªå·±æƒ³è¦çš„æ ·å­ï¼Ÿä½ ç°åœ¨å¼€å¿ƒå—ï¼Ÿèƒ½è€ƒä¸Š985ã€211å—ï¼Ÿå“ˆå“ˆã€‚è¯´æ¥æœ‰è¶£ï¼Œé•¿å¤§ä¹‹åï¼Œå±…ç„¶çœŸçš„èƒ½å›ç­”å°æ—¶å€™é—®è‡ªå·±çš„é‚£äº›é—®é¢˜ã€‚</p>\n<p>æ˜¯ï¼Œæˆ‘æ´»æˆäº†è‡ªå·±æƒ³è¦çš„æ ·å­ã€‚æˆ‘å¾ˆå¼€å¿ƒï¼Œä½†ä¸ç¡®å®šèƒ½ä¸èƒ½è€ƒä¸Š985ã€211ã€‚æˆ‘è€ƒè™‘å¤è¯»ï¼Œæƒ³è¯•è¯•ã€‚ç°åœ¨çš„æˆ‘ï¼Œå¾ˆå–œæ¬¢å­¦ä¹ ï¼Œå–œæ¬¢é˜…è¯»ï¼Œå°¤å…¶çˆ±è¯»é‚£äº›æ„Ÿæƒ…æ¿€çƒˆã€å†²ç ´ç‰¢ç¬¼ã€æƒ…æ„æµ“çƒˆã€æ„è•´æ·±æ²‰çš„ä¹¦ï¼Œæ¯”å¦‚ã€Šå¹³å‡¡çš„ä¸–ç•Œã€‹ã€Šç½ªä¸ç½šã€‹ã€Šå›´åŸã€‹ã€Šçº¦ç¿°Â·å…‹åˆ©æ–¯æœµå¤«ã€‹ã€Šè¾¹åŸã€‹ã€‚æˆ‘å–œæ¬¢æ²‰æµ¸è¿›å»ï¼Œä½“éªŒä»–ä»¬çš„ç”Ÿæ´»ï¼Œé‚£äº›ä¸æˆ‘ä¸åŒçš„ç”Ÿæ´»ã€‚æœ‰æ—¶ä¹Ÿè¯»è¯»å“²å­¦ã€‚æˆ‘è¿˜å–œæ¬¢å¼¹å‰ä»–ã€æ‘„å½±ã€æ—…è¡Œã€å†™æ—¥è®°ã€è¿åŠ¨å¥èº«ã€‚å¯¹äº†ï¼Œç¼–ç¨‹æˆ‘ä¹Ÿæ²¡æ”¾ä¸‹ã€‚</p>\n<p>ä½ çŸ¥é“å—ï¼Œæˆ‘å–œæ¬¢ä¸Šäº†ä¸€ä¸ªåŒæ ¡çš„å¥³å­©ã€‚å¥¹å¾ˆå¥½ï¼Œå¾ˆç¾ï¼Œå¸¦ç‚¹å¤©çœŸï¼Œå–œæ¬¢åƒå¥½åƒçš„ï¼Œå–œæ¬¢æ‹å¥½çœ‹çš„ç…§ç‰‡ã€‚æˆ‘å–œæ¬¢å¥¹ç”Ÿæ´»çš„æ ·å­ï¼Œä¹Ÿå–œæ¬¢å¥¹çš„é™ªä¼´ã€‚äººç”Ÿçš„è·¯ä¸Šï¼Œåˆé‡åˆ°ä¸€ä¸ªå¯çˆ±çš„åŒè·¯äººã€‚æ€»ä¹‹ï¼Œæˆ‘å¾ˆå–œæ¬¢å¥¹ã€‚</p>\n<p>ä¸çŸ¥é“ä»¥å‰çš„ä½ æ˜¯æ€ä¹ˆæƒ³çš„ã€‚é‚£ä¹ˆåŠŸåˆ©ï¼Œé‚£ä¹ˆçœ‹é‡æˆç»©ï¼Œå´ä¸æ•¢æ”¹æ–¹æ³•ï¼Œä¸æ•¢ç›´é¢å¤±è´¥ã€‚ä½ çœŸæ˜¯ä¸ªæ‡¦å¤«ã€‚</p>\n<p>ä½ è¿˜è®°å¾—å—ï¼Œé‚£ä¸ªå–œæ¬¢ä½ çš„å¥³å­©ï¼Œå¯¹ä½ çœŸçš„å¾ˆå¥½ã€‚å¯ä½ çŠ¯äº†å¾ˆä¸¥é‡çš„é”™ã€‚ä½ æ”¯é…å¥¹ï¼Œä½ è‡ªç§ï¼Œä½ æƒ³ä¸Šè¿›å´å¹²æ¶‰å¥¹çš„ç”Ÿæ´»ã€‚ä½ æƒ³å æœ‰å¥¹ï¼Œä½ ä¸çˆ±å¥¹â€”â€”ä½ åªæ˜¯æ»¡è¶³è‡ªå·±çš„è™šè£å¿ƒï¼Œæ»¡è¶³é‚£ç§æš§æ˜§çš„æˆå°±æ„Ÿã€‚ä½ ä»–å¦ˆå°±æ˜¯ä¸ªæ··è›‹ã€‚</p>\n<p>å¹¸å¥½å¥¹èµ°äº†ï¼Œç¦»ä½ è¶Šè¿œè¶Šå¥½ï¼Œä¸è‡³äºå†å—ä½ çš„æŠ˜ç£¨ã€‚</p>\n<p>è¿˜æœ‰ï¼Œä»¥å‰ä½ å°±æ˜¯ä¸ªâ€œå˜‰è±ªâ€ï¼Œä¸ºäº†è£…é€¼å­¦ç”µè„‘æŠ€æœ¯ã€‚ä¸è¿‡ï¼Œä½ ç¡®å®â€”â€”ç¡®å®æ˜¯æŠŠå®ƒå½“æˆäº†çƒ­çˆ±ã€‚æˆ‘å¾ˆé«˜å…´ä½ ä¸€ç›´æ²¡ä¸¢ã€‚å¯ä½ çš„æ€æƒ³å¤ªç‹­éš˜äº†ï¼Œæ˜¯ä¸ªå…¸å‹çš„â€œJunior geekâ€ã€‚åšç‚¹å°å·¥å…·å°±æ²¾æ²¾è‡ªå–œï¼Œé¢å¯¹å¤§å‹é¡¹ç›®ã€éœ€è¦ç³»ç»Ÿå­¦ä¹ è®¡ç®—æœºçŸ¥è¯†çš„æ—¶å€™ï¼Œåˆä¸æ•¢åŠ¨æ‰‹ã€‚ä¸è¿‡ï¼Œå¹¸äºä½ æ²¡ç¡¬æ¥ï¼Œä¸ç„¶è¿™é«˜ä¸­æ€•æ˜¯çœŸè¦åºŸäº†ã€‚</p>\n<p>æˆ‘ä»C++ä¹‹çˆ¶é‚£å„¿æ€»ç»“äº†å‡ æ¡ç»éªŒï¼ˆ<a href=\"https://www.bilibili.com/video/BV1jiZcYnEXe/?share_source=copy_web&amp;vd_source=2cc479c274bd7a9c44e39239f22b7ba6\" rel=\"noopener nofollow\" target=\"_blank\">C++åˆ›å§‹äººè®¿è°ˆã€ç¼–ç¨‹ç»éªŒæ•™è®­ã€è¡Œä¸šå‘å±•</a>ï¼‰ï¼Œå¸Œæœ›ä½ æ”¾åœ¨å¿ƒä¸Šï¼š</p>\n<ol>\n<li>ä¸è¦ç°åœ¨å°±ä¸“ä¸šåŒ–â€”â€”ä½ è¿˜ä¸ç¡®å®šä»¥ååšä»€ä¹ˆã€‚è½¦å¼€å¤ªå¿«ï¼Œè½¬ä¸äº†å¼¯ã€‚</li>\n<li>åˆ«æŠŠè‡ªå·±å¹»æƒ³æˆå­¤åƒ»çš„å¤©æ‰ã€‚æ²¡å¿…è¦ï¼Œä¹Ÿä¸å…·æ€§ä»·æ¯”ã€‚å­¦ä¼šäº¤æµï¼Œäººç±»æ˜¯ç¾¤å±…åŠ¨ç‰©ï¼Œåˆä½œæ˜¯æˆ‘ä»¬çˆ¬ä¸Šé£Ÿç‰©é“¾é¡¶ç«¯çš„æœ€å¤§ä¼˜åŠ¿ï¼Œåˆ«ä¸¢æ‰å®ƒã€‚</li>\n<li>å­¦å†å²ã€‚å¤«ä»¥é“œä¸ºé•œï¼Œå¯ä»¥æ­£è¡£å† ï¼›ä»¥å¤ä¸ºé•œï¼Œå¯ä»¥çŸ¥å…´æ›¿ï¼›ä»¥äººä¸ºé•œï¼Œå¯ä»¥æ˜å¾—å¤±ã€‚å­¦ä¼šæ²Ÿé€šã€‚æŠŠæŠ€æœ¯å½“æŒ¡ç®­ç‰Œã€è½»è§†äº¤æµçš„äººï¼Œå¿…æ­»æ— ç–‘ã€‚</li>\n<li>èŠ±æ—¶é—´å¹³è¡¡ç”Ÿæ´»ï¼Œä¸ºå°†æ¥åšå¥½å‡†å¤‡ã€‚</li>\n<li>å¹¿æ³›çš„å­¦ä¹ å’Œç»å†ï¼Œæ˜¯ä½ åœ¨æœºä¼šæ¥ä¸´æ—¶èƒ½æŠ“ä½å®ƒçš„å‰æã€‚åªå­¦æŠ€æœ¯ï¼Œå¿…æ­»æ— ç–‘ã€‚</li>\n</ol>\n<p>æœ€åï¼Œæˆ‘æƒ³è¯´ï¼Œå¯¹ä¸èµ·ã€‚</p>\n<p>æˆ‘æ²¡æœ‰å¥½å¥½å­¦é‚£äº›åº”è¯•çš„åŠŸè¯¾ï¼ŒæŠŠå¤ªå¤šæ—¶é—´èŠ±åœ¨ç¼–ç¨‹ä¸Šï¼ŒæŠŠä½ å¸¦è¿›äº†é™©å¢ƒã€‚æˆ‘ä»¬å¯èƒ½åªèƒ½è¯»ä¸ªå¤§ä¸“äº†â€¦â€¦ä½†åˆ«æ€•ã€‚æˆ‘ä¼šæŒ£æ‰çš„ï¼Œæˆ‘ä¼šå¸¦ä½ é—¯å‡ºå»ã€‚</p>\n<hr />\n<h2 id=\"æˆ‘æƒ³æ€ä¹ˆåš\">æˆ‘æƒ³æ€ä¹ˆåš</h2>\n<p>å¥½å•¦ï¼ŒèŠå¤©åˆ°æ­¤ä¸ºæ­¢ã€‚è¯´è¯´ç°åœ¨çš„ç”Ÿæ´»å’Œè®¡åˆ’å§ã€‚</p>\n<p>æˆ‘çš„ç›®æ ‡å¾ˆç®€å•ï¼šå…ˆè¿‡æœ¬ç§‘çº¿ï¼Œç„¶åå›æ¥å¤è¯»ï¼Œæœ€åå†²ä¸€å†²985ã€‚æˆ‘ç›¸ä¿¡æˆ‘å¯ä»¥ã€‚æˆ‘å·²åšå¥½èµ´æ­»çš„å‡†å¤‡ã€‚</p>\n<p>ç”Ÿæ´»å€’æ˜¯å¾ˆä¸°å¯Œã€‚æˆ‘ä¸å†åªæ²‰è¿·ç¼–ç¨‹ï¼Œä¹Ÿå¼€å§‹å¬æ­Œã€çœ‹ç”µå½±ã€é˜…è¯»ã€å†™ä½œã€å­¦ä¸“ä¸šè¯¾ã€ç©ã€Šæ­»äº¡ææµ…ã€‹ã€æ‘„å½±ã€æ•£æ­¥ã€å¥èº«ã€å’Œå–œæ¬¢çš„å¥³å­©èŠå¤©ã€‚</p>\n<p>è¿™æ—¶å€™è‚¯å®šæœ‰äººè´¨é—®ï¼šç¦»é«˜è€ƒåªå‰©ä¸€ç™¾å¤©ï¼Œä½ æ€ä¹ˆè¿˜æ•¢åšè¿™ä¹ˆå¤šè¯¾å¤–çš„äº‹ï¼Ÿ</p>\n<p>æˆ‘æƒ³è¯´ï¼Œè¿™æ˜¯ç­–ç•¥é—®é¢˜ã€‚ä½†è¿™å°±æ˜¯æˆ‘çš„ç”Ÿæ´»â€”â€”æˆ‘æƒ³åšï¼Œä¹Ÿä¼šåšã€‚å·¥ä½œæ—¥é‡Œï¼Œæˆ‘çš„å­¦ä¹ æ—¶é—´èƒ½å åˆ°æ¯å¤©çš„45.83%ï¼Œè™½ç„¶å¸¸å¸¸å› ä¸ºæƒ…ç»ªé—®é¢˜éª¤é™åˆ°33.3%ä¸åˆ°â€”â€”è¿™å¤§æ¦‚ä¹Ÿæ˜¯æˆç»©ä¸å¥½çš„åŸå› ä¹‹ä¸€ã€‚æ³•å®šä¼‘æ¯æ—¥å¯èƒ½åªå‰©22.92%ã€‚ä½†æ²¡å…³ç³»ï¼Œæˆ‘æœ‰èƒ½åŠ›æ”¯é…è‡ªå·±çš„ç”Ÿæ´»ï¼Œä¸è‡³äºè·Œå…¥æ·±æ¸Šã€‚</p>\n<hr />\n<h2 id=\"æ”¹å˜ä½ æœ€å¤§çš„æ˜¯å“ªä»¶äº‹\">æ”¹å˜ä½ æœ€å¤§çš„ï¼Œæ˜¯å“ªä»¶äº‹ï¼Ÿ</h2>\n<p>æˆ‘å¾ˆæ—©å°±å¼€å§‹æƒ³ï¼šæ€ä¹ˆè¾¾æˆç›®æ ‡ï¼Ÿæ€ä¹ˆåšï¼Ÿæ€ä¹ˆæ”¹å˜è‡ªå·±ï¼Ÿâ€”â€”æˆ‘æƒ³é•¿è¯çŸ­è¯´ã€‚</p>\n<p>é«˜ä¸€ï¼Œè€ƒä¸Šäº†å¸‚é‡ç‚¹ä¸­å­¦â€”â€”å¸‚ä¸€ä¸­ä¹‹åï¼Œæˆ‘åŠ å…¥äº†â€œçµåŠ¨è®¡ç®—æœºç¤¾â€ã€‚é«˜äºŒï¼Œæ ¸å¿ƒç¤¾å‘˜å’Œç¤¾é•¿è¢«é€‰æ‹”å‡ºæ¥ï¼Œç»„å»ºäº†ä¸€ä¸ªå«â€œç§‘åˆ›éƒ¨â€çš„å­¦ç”Ÿæœºæ„ï¼Œéš¶å±äºæ ¡å›¢å§”ä¼šã€‚å­¦æ ¡çš„å­¦ç”Ÿæœºæ„ä»¥â€œä¼šâ€”éƒ¨â€æ¶æ„è¿è¡Œï¼Œæœ‰å›¢å§”ä¼šã€å­¦ç”Ÿä¼šã€ç¤¾è”ç†äº‹ä¼šç­‰ï¼Œå„ä¼šä¸‹è®¾ä¸åŒéƒ¨é—¨ï¼Œæ¯”å¦‚å›¢å§”ä¼šä¸‹æœ‰ç»„ç»‡éƒ¨ï¼Œç¤¾è”ç†äº‹ä¼šæœ‰åª’ä½“åˆ¶ä½œéƒ¨ã€‚ç§‘åˆ›éƒ¨æ˜¯å­¦æ ¡äº”å¤§å­¦ç”Ÿéƒ¨é—¨ä¹‹ä¸€ï¼Œæ¥è§¦ç®¡ç†å±‚çš„æœºä¼šæŒºå¤šã€‚</p>\n<p>æˆ‘æ˜¯2026å±Šçš„ï¼Œç§‘åˆ›éƒ¨ç¬¬äºŒä»»éƒ¨é•¿ï¼Œä¹Ÿæ˜¯çµåŠ¨è®¡ç®—æœºç¤¾ä¸çŸ¥ç¬¬å‡ ä»»ç¤¾é•¿ã€‚å‰ä»»éƒ¨é•¿æ˜¯2025å±Šçš„å­¦é•¿ä»¬ã€‚ä»–ä»¬æŠ€æœ¯å¼ºã€çŸ¥è¯†å¹¿ã€æ€ç»´ä¹Ÿå‰å«ã€‚æˆ‘ä»ä»–ä»¬èº«ä¸Šå­¦åˆ°å¤ªå¤šâ€”â€”å› ä¸ºä»–ä»¬ï¼Œæˆ‘æ‰å¼€å§‹è¯»ä¹¦ã€é‡è§†å†å²ï¼Œå°è¯•é‚£äº›æˆ‘ä»æœªåšè¿‡ã€ç”šè‡³å®³æ€•åšçš„äº‹ã€‚ä»–ä»¬æ˜¯æˆ‘æœ€å¥½çš„è€å¸ˆã€‚æˆ‘æ„Ÿè°¢ä»–ä»¬ã€‚</p>\n<p>å…¶ä¸­æœ‰ä¸€ä½éƒ¨é•¿ï¼Œæˆ‘ç§°ä»–ä¸ºâ€œå­å†¯â€ã€‚å­å†¯ä¸ªå­ä¸é«˜ï¼Œçœ‹ç€æœ‰ç‚¹å‘†ã€‚æˆ‘å¯¹ä»–äº†è§£ä¸å¤šï¼Œå½¼æ­¤çš„å…³ç³»å¾ˆåƒå¸ˆç”Ÿâ€”â€”é‚£ç§ä¸­å¼å¸ˆç”Ÿã€‚</p>\n<p>2026å¹´1æœˆ24æ—¥é‚£æ™šï¼Œå­å†¯ä¸ºæˆ‘å¼€å¯¼äººç”Ÿã€‚æˆ‘é—®äº†å¾ˆå¤šï¼šä¸ºä»€ä¹ˆæˆ‘æ€»æ˜¯å¤±è´¥ï¼Ÿä¸ºä»€ä¹ˆæœ‰äº›äº‹ä¸èƒ½åšï¼Ÿä¸ºä»€ä¹ˆè¦æ´»åœ¨å½“ä¸‹ï¼Ÿä»–éƒ½ä¸€ä¸€ä½œç­”ã€‚é‚£ä¸€æ™šè¿‡åï¼Œæˆ‘è§‰å¾—äººç”Ÿå¥½åƒäº®èµ·äº†ä¸€ç‚¹å…‰ã€‚åæ¥ï¼Œæˆ‘ç…§ä»–çš„æ¨èè¯»äº†ã€Šè®¨åŒçš„å‹‡æ°”ã€‹ï¼Œå¿ƒé‡Œè±ç„¶å¼€æœ—ã€‚</p>\n<p>åŸæ¥ï¼Œæˆ‘å®³æ€•å¤±è´¥ï¼Œå®³æ€•å¤±å»ï¼›æˆ‘è¿½æ±‚åŠŸåˆ©ï¼Œè‡ªæˆ‘è®¤çŸ¥çŸ›ç›¾ï¼›æˆ‘ç¼ºçˆ±ï¼Œæ¸´æœ›é™ªä¼´ï¼›æˆ‘è¿‡åº¦åœ¨æ„ä»–äººè¯„ä»·ï¼Œåˆä¸æ•¢æ”¹å˜â€¦â€¦</p>\n<p>å¥½åœ¨ï¼Œæˆ‘èƒ½æ¥å—ï¼Œä¹Ÿç»ˆäºæ‰¿è®¤äº†ã€‚</p>\n<p>ä»é‚£æ—¶èµ·ï¼Œæˆ‘æ‰çœŸæ­£å¼€å§‹ç”Ÿæ´»â€”â€”æŠŠå‰é¢è¯´çš„é‚£äº›ï¼Œä¸€ä»¶ä¸€ä»¶ï¼Œåšäº†ä¸‹å»ã€‚</p>\n<h2 id=\"ç»™è‡ªå·±ç®€å•ç•™å¥è¯å§\">ç»™è‡ªå·±ç®€å•ç•™å¥è¯å§</h2>\n<p>å¸Œæœ›ä½ å°†æ¥èƒ½è€ƒä¸Š985ï¼Œçæƒœèº«è¾¹å–œæ¬¢çš„äººï¼Œå‹‡æ•¢çš„å»çˆ±ä½ çˆ±çš„äººï¼Œä¿æŒè‡ªå·±ç†æƒ³çš„ç”Ÿæ´»ï¼Œæ´»åœ¨å½“ä¸‹ã€‚</p>\n<p>æˆ‘æ‰åä¸ƒå²ã€‚æˆ‘æ¥å—ä¸–ç•Œçš„è€ƒéªŒï¼Œæˆ‘â€”â€”æƒ³ç»™è‡ªå·±æ¥ä¸ªç—›å¿«çš„æ´—ç¤¼ï¼</p>\n<hr />\n<p><em>çœŸæ­£çš„å…‰æ˜ç»ä¸æ˜¯æ°¸æ²¡æœ‰é»‘æš—çš„æ—¶é—´ï¼Œåªæ˜¯æ°¸ä¸è¢«é»‘æš—æ‰€æ©è”½ç½¢äº†ã€‚çœŸæ­£çš„è‹±é›„ç»ä¸æ˜¯æ°¸æ²¡æœ‰å‘ä¸‹çš„æƒ…æ“ï¼Œåªæ˜¯æ°¸ä¸è¢«å‘ä¸‹çš„æƒ…æ“æ‰€å±ˆæœç½¢äº†ã€‚</em><br />\n<em>æ‰€ä»¥åœ¨ä½ è¦æˆ˜èƒœå¤–æ¥çš„æ•Œäººä¹‹å‰ï¼Œå…ˆå¾—æˆ˜èƒœä½ å†…åœ¨çš„æ•Œäººï¼›ä½ ä¸å¿…å®³æ€•æ²‰æ²¦å •è½ï¼Œåªæ¶ˆä½ èƒ½ä¸æ–­åœ°è‡ªæ‹”ä¸æ›´æ–°......</em><br />\n<em>æˆ˜å£«å•Šï¼Œå½“ä½ çŸ¥é“ä¸–ç•Œä¸Šå—è‹¦çš„ä¸çŸ¥ä½ ä¸€ä¸ªæ—¶ï¼Œä½ å®šä¼šå‡å°‘ç—›æ¥šï¼Œè€Œä½ çš„å¸Œæœ›ä¹Ÿå°†æ°¸è¿œåœ¨ç»æœ›ä¸­å†ç”Ÿäº†ç½¢ï¼</em></p>\n<p>â€‹                                                                                                   â€”â€”å‚…é›·ä¸€ä¹ä¸‰ä¸ƒå¹´è¯‘ã€Šçº¦ç¿°å…‹åˆ©æ–¯æœµå¤«ã€‹æ—¶æ‰€çŒ®(èŠ‚é€‰)</p>\n\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-02-13 13:46</span>&nbsp;\n<a href=\"https://www.cnblogs.com/jayzorn-ljz\">JayZorn</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">110</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">8</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "æˆ‘çš„GISå®è·µä¸æ€è€ƒï¼šæ–°ä¹¦ã€ŠGISåŸºç¡€åŸç†ä¸æŠ€æœ¯å®è·µã€‹åˆ†äº«",
      "link": "https://www.cnblogs.com/charlee44/p/19611747",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/charlee44/p/19611747\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-02-13 13:27\">\n    <span>æˆ‘çš„GISå®è·µä¸æ€è€ƒï¼šæ–°ä¹¦ã€ŠGISåŸºç¡€åŸç†ä¸æŠ€æœ¯å®è·µã€‹åˆ†äº«</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                    <div id=\"cnblogs_post_description\" style=\"display: none;\">\n        \n        ä½œè€…ç»“åˆè‡ªèº«GISå¼€å‘ç»éªŒï¼Œåˆ†äº«èŒä¸šè·¯å¾„æ€è€ƒã€æ–°ä¹¦ã€ŠGISåŸºç¡€åŸç†ä¸æŠ€æœ¯å®è·µã€‹çš„å†™ä½œåˆè¡·ï¼Œå¹¶é™„ä¸Šå¤šç¯‡æŠ€æœ¯èŠ‚é€‰ä¸å¼€æºèµ„æºï¼Œå€¡å¯¼â€œåŸç†+å®è·µâ€èåˆçš„å­¦ä¹ æ–¹å¼ã€‚\n    </div>\n<div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h1 id=\"1-å¼•è¨€\">1. å¼•è¨€</h1>\n<p>ç»è¿‡å‡ å¹´çš„ç§¯ç´¯ä¸æ‰“ç£¨ï¼Œç¬”è€…çš„æ–°ä¹¦ã€ŠGISåŸºç¡€åŸç†ä¸æŠ€æœ¯å®è·µã€‹ç»ˆäºæ­£å¼å‡ºç‰ˆäº†ã€‚å…¶å®è°ˆä¸ä¸Šä»€ä¹ˆå®å¤§æ„ä¹‰ï¼Œåªæ˜¯æŠŠè¿™äº›å¹´åœ¨ GIS å¼€å‘ä¸­è¸©è¿‡çš„å‘ã€ç†æ¸…çš„æ€è·¯ã€å†™è¿‡çš„ä»£ç ï¼Œç³»ç»Ÿåœ°æ•´ç†å‡ºæ¥ã€‚è¶ç€æ–°ä¹¦é¢ä¸–ï¼Œä¹Ÿæƒ³å€Ÿæ­¤æœºä¼šå†åˆ†äº«ä¸€äº›ä½“ä¼šä¸æ€è€ƒã€‚</p>\n<p><img alt=\"GISåŸºç¡€åŸç†ä¸æŠ€æœ¯å®è·µ\" class=\"lazyload\" /></p>\n<h1 id=\"2-gisä¹‹è·¯\">2. GISä¹‹è·¯</h1>\n<p>GIS æ˜¯ä¸€æœ¬ç»¼åˆæ€§å¾ˆå¼ºçš„å­¦ç§‘ï¼Œæ‰€ä»¥å­¦ä¹  GIS ä»¥åä»ä¸šä¸ä¸€å®šæ˜¯èµ° GIS å¼€å‘è¿™æ¡è·¯ã€‚æ¯”å¦‚æ¯”è¾ƒç¨³å¦¥çš„å°±æ˜¯å»ä½“åˆ¶å†…ï¼Œå„çº§è‡ªç„¶èµ„æºå±€ã€æµ‹ç»˜é™¢ã€è§„åˆ’é™¢ã€æ°´åˆ©/äº¤é€š/ç¯ä¿ç­‰æ”¿åºœéƒ¨é—¨åŠä¸‹å±äº‹ä¸šå•ä½ç­‰ç­‰ã€‚ä»–ä»¬å¯èƒ½ä¸å†™ä»£ç ï¼Œä½†éœ€è¦ç†è§£ç©ºé—´æ•°æ®ã€ä¼šç”¨ä¸“ä¸šè½¯ä»¶ã€èƒ½å‚ä¸é¡¹ç›®è®¾è®¡æˆ–æˆæœå®¡æŸ¥ï¼Œå·¥ä½œç›¸å¯¹ç¨³å®šï¼Œä¹Ÿæ·±åº¦å‚ä¸å›½å®¶åŸºç¡€åœ°ç†ä¿¡æ¯ä½“ç³»å»ºè®¾ã€‚å½“ç„¶ï¼Œä½“åˆ¶å†…çš„å²—ä½ç±»å‹å¤šæ ·ï¼ŒèŒè´£ä¸èŠ‚å¥å„æœ‰ä¸åŒï¼Œå¹¶éä¸€æ¦‚è½»æ¾â€”â€”é€‚åˆä¸å¦ï¼Œç»ˆç©¶è¦çœ‹ä¸ªäººå¿—è¶£ä¸æ‰€é•¿ã€‚è€Œåœ¨è¿™æ ·çš„ç¯å¢ƒä¸­ï¼Œä¸“ä¸šèƒ½åŠ›å›ºç„¶æ˜¯åŸºç¡€ï¼Œä½†æ²Ÿé€šåä½œã€ç†è§£ç»„ç»‡è¿è¡Œé€»è¾‘ï¼Œå¾€å¾€ä¹Ÿå½±å“ç€é•¿è¿œçš„å‘å±•ç©ºé—´ã€‚</p>\n<p>ä½†æ˜¯ï¼Œå¦‚æœé€‰æ‹©ä½“åˆ¶å¤–çš„å‘å±•è·¯å¾„ï¼Œåš GIS å¼€å‘ä¼šæ˜¯ä¸€ä¸ªæ›´æœ‰å‘å±•ç©ºé—´çš„æ–¹å‘ã€‚å¦‚æœåªæ˜¯ä¼šç”¨ GIS è½¯ä»¶å¤„ç†æ•°æ®ã€å‡ºå›¾ï¼Œåœ¨ç°åœ¨è¿™ä¸ªè‡ªåŠ¨åŒ–è¶Šæ¥è¶Šæ™®åŠçš„ç¯å¢ƒä¸‹ï¼Œè¿™ç±»æŠ€èƒ½å…¶å®å¾ˆå®¹æ˜“è¢«æ›¿ä»£ï¼Œä¹Ÿå¾ˆéš¾å½¢æˆè‡ªå·±çš„ä¼˜åŠ¿ã€‚è¯´ç™½äº†ï¼Œè¿™æ›´å¤šæ˜¯ä¸€ç§æ‰§è¡Œæ€§çš„å·¥ä½œã€‚è€Œ GIS æœ¬èº«çš„åº”ç”¨é¢å…¶å®ä¸ç®—ç‰¹åˆ«å®½ï¼Œä½†å¦‚æœåŠ ä¸Šå¼€å‘èƒ½åŠ›ï¼Œæƒ…å†µå°±ä¸ä¸€æ ·äº†â€”â€”ä½ å¯ä»¥è‡ªå·±å†™å·¥å…·ã€æ”¹è¿›æµç¨‹ï¼Œç”šè‡³å‚ä¸åˆ°æ™ºæ…§åŸå¸‚ã€å®æ™¯ä¸‰ç»´ã€æ—¶ç©ºå¹³å°è¿™äº›å®é™…é¡¹ç›®ä¸­å»ã€‚ç°åœ¨ä¼šç¼–ç¨‹çš„äººç¡®å®ä¸å°‘ï¼Œä½†æ—¢æ‡‚ GIS çš„ä¸šåŠ¡é€»è¾‘ï¼Œåˆèƒ½æŠŠç©ºé—´æ•°æ®ã€åæ ‡ç³»ç»Ÿã€æœåŠ¡å‘å¸ƒè¿™äº›äº‹æƒ…ç”¨ä»£ç çœŸæ­£è·‘èµ·æ¥çš„äººæ‰å¹¶ä¸å¤šã€‚</p>\n<p>æ›´æ·±å…¥åœ°è¯´ï¼ŒGIS çœŸæ­£çš„ä»·å€¼ï¼Œä¸åœ¨äºå®ƒæœ¬èº«ï¼Œè€Œåœ¨äºå®ƒçš„â€œè¿æ¥æ€§â€â€”â€”å®ƒå¤©ç„¶å…·å¤‡ä¸å„ç§å‰æ²¿æŠ€æœ¯èåˆçš„èƒ½åŠ›ã€‚å•çº¯åšä¼ ç»Ÿçš„ GIS å·¥ä½œï¼Œæ— è®ºæ˜¯æ•°æ®å¤„ç†è¿˜æ˜¯åˆ¶å›¾åˆ†æï¼ŒèŒä¸šå‘å±•çš„å¤©èŠ±æ¿å¾€å¾€æ¯”è¾ƒæ˜æ˜¾ã€‚ä½†å‡ ä¹æ¯ä¸€æ¬¡æŠ€æœ¯æµªæ½®â€”â€”æ¯”å¦‚äººå·¥æ™ºèƒ½ã€é¥æ„Ÿè§£è¯‘ã€æ—¶ç©ºå¤§æ•°æ®ã€ç‰©è”ç½‘ã€ä½ç©ºç»æµã€æ•°å­—å­ªç”Ÿâ€”â€”éƒ½ç¦»ä¸å¼€å¯¹â€œä½ç½®â€å’Œâ€œç©ºé—´å…³ç³»â€çš„ç†è§£ï¼Œè€Œè¿™æ­£æ˜¯ GIS çš„æ ¸å¿ƒã€‚äº‹å®ä¸Šï¼Œä¸å°‘ä»äº‹è¿™äº›æ–°å…´é¢†åŸŸçš„å·¥ç¨‹å¸ˆæˆ–ç ”ç©¶äººå‘˜ï¼Œéƒ½æœ‰ GIS æˆ–åœ°ç†ä¿¡æ¯ç›¸å…³çš„èƒŒæ™¯ã€‚ä»–ä»¬ä¹‹æ‰€ä»¥èƒ½è„±é¢–è€Œå‡ºï¼Œå¾€å¾€ä¸æ˜¯å› ä¸ºåªæ‡‚ GISï¼Œè€Œæ˜¯æŠŠ GIS çš„ç©ºé—´æ€ç»´ï¼Œå’Œç¼–ç¨‹ã€ç®—æ³•ã€ç³»ç»Ÿæ¶æ„ç­‰åº•å±‚èƒ½åŠ›ç»“åˆèµ·æ¥ã€‚</p>\n<p>æ‰€ä»¥ï¼Œä¸å…¶æŠŠè‡ªå·±å±€é™åœ¨â€œGIS ä»ä¸šè€…â€çš„æ ‡ç­¾é‡Œï¼Œä¸å¦‚æ²‰ä¸‹å»ï¼Œå»æŒæ¡é‚£äº›æ”¯æ’‘ GIS åº”ç”¨çš„åŸºç¡€æŠ€æœ¯ï¼šåæ ‡ç³»ç»Ÿã€æ•°æ®ç»“æ„ã€æœåŠ¡æ¶æ„ã€å›¾å½¢æ¸²æŸ“ã€ç”šè‡³æ•°å­¦å’Œç®—æ³•ã€‚åªæœ‰è¿™æ ·ï¼Œæ‰èƒ½åœ¨æŠ€æœ¯å˜é©ä¸­çœŸæ­£ç«™ç¨³è„šè·Ÿï¼Œè€Œä¸æ˜¯è¢«å·¥å…·æ›¿ä»£ã€‚</p>\n<h1 id=\"3-ä¹¦ç±åºè¨€\">3. ä¹¦ç±åºè¨€</h1>\n<p>åœ°ç†ä¿¡æ¯ç³»ç»Ÿï¼ˆGeographic Information Systemï¼Œç®€ç§° GISï¼‰è‡ªè¯ç”Ÿä»¥æ¥ï¼Œå·²ä»ä¸€é—¨è¾¹ç¼˜æŠ€æœ¯é€æ­¥æˆé•¿ä¸ºæ”¯æ’‘ç°ä»£ç¤¾ä¼šç©ºé—´è®¤çŸ¥ä¸å†³ç­–çš„é‡è¦å·¥å…·ã€‚æ— è®ºæ˜¯åŸå¸‚è§„åˆ’ã€ç¯å¢ƒç›‘æµ‹ã€åº”æ€¥ç®¡ç†ï¼Œè¿˜æ˜¯å•†ä¸šé€‰å€ã€æ™ºæ…§äº¤é€šã€æ•°å­—å­ªç”Ÿï¼ŒGIS çš„èº«å½±æ— å¤„ä¸åœ¨ã€‚å®ƒä¸ä»…è¿æ¥äº†ç°å®ä¸–ç•Œçš„åœ°ç†ç©ºé—´ä¸æ•°å­—ä¸–ç•Œçš„æŠ½è±¡è¡¨è¾¾ï¼Œæ›´åœ¨äººå·¥æ™ºèƒ½ã€å¤§æ•°æ®ã€ç‰©è”ç½‘ç­‰æ–°å…´æŠ€æœ¯æµªæ½®ä¸­ä¸æ–­ç„•å‘æ–°çš„ç”Ÿå‘½åŠ›ã€‚</p>\n<p>å½“å‰ï¼ŒGIS è¡Œä¸šæ­£å¤„äºæ·±åˆ»å˜é©çš„å…³é”®é˜¶æ®µï¼šåœ¨å›½å®¶â€œä¿¡åˆ›â€æˆ˜ç•¥æ¨åŠ¨ä¸‹ï¼Œå›½äº§åŒ–æ›¿ä»£åŠ é€Ÿï¼Œè‡ªä¸»å¯æ§æŠ€æœ¯æ ˆæ—¥ç›Šæˆç†Ÿï¼›å®æ™¯ä¸‰ç»´ä¸­å›½å»ºè®¾å¸¦åŠ¨ä¸‰ç»´ GIS å¿«é€Ÿå‘å±•ï¼Œç©ºé—´è¡¨è¾¾ä»äºŒç»´è¿ˆå‘å…¨ç©ºé—´ç«‹ä½“åŒ–ï¼›äººå·¥æ™ºèƒ½ä¸ GIS æ·±åº¦èåˆï¼Œæ˜¾è‘—æå‡äº†é¥æ„Ÿè§£è¯‘ã€ç©ºé—´é¢„æµ‹ç­‰èƒ½åŠ›ï¼›åŒæ—¶ï¼Œäº‘åŸç”Ÿæ¶æ„çš„æ™®åŠæ­£æ¨åŠ¨ GIS æœåŠ¡å‘å¾®æœåŠ¡åŒ–ã€å¼¹æ€§ä¼¸ç¼©å’Œé«˜å¹¶å‘å…±äº«æ¼”è¿›ï¼ŒWebGIS ä¸ç©ºé—´æ•°æ®ä¸­å°é€æ­¥æˆä¸ºè¡Œä¸šåŸºç¡€è®¾æ–½ã€‚è¿™äº›è¶‹åŠ¿ä¸æ–­æ‹“å±• GIS çš„è¾¹ç•Œï¼Œä¹Ÿå¸¦æ¥å…¨æ–°çš„æœºé‡ä¸æŒ‘æˆ˜ã€‚</p>\n<p>ç„¶è€Œï¼Œå¯¹äºåˆå­¦è€…è€Œè¨€ï¼ŒGIS å¾€å¾€æ˜¾å¾—åºæ‚è€ŒæŠ½è±¡ã€‚å®ƒæ¨ªè·¨åœ°ç†å­¦ã€æµ‹ç»˜å­¦ã€é¥æ„Ÿã€è®¡ç®—æœºç§‘å­¦ã€æ•°æ®ç§‘å­¦ç­‰å¤šä¸ªå­¦ç§‘ï¼Œæ—¢æœ‰ä¸¥è°¨çš„æ•°å­¦åŸºç¡€ï¼Œåˆæœ‰å¤æ‚çš„å·¥ç¨‹å®ç°ï¼›æ—¢è¦ç†è§£åæ ‡ç³»ç»Ÿçš„ç†è®ºé€»è¾‘ï¼Œåˆè¦æŒæ¡æ•°æ®å¤„ç†ä¸å¯è§†åŒ–çš„å®æ“æŠ€èƒ½ã€‚è®¸å¤šäººåœ¨å­¦ä¹ è¿‡ç¨‹ä¸­å®¹æ˜“é™·å…¥â€œçŸ¥å…¶ç„¶ï¼Œä¸çŸ¥å…¶æ‰€ä»¥ç„¶â€çš„å›°å¢ƒâ€”â€”è®°ä½äº†æ“ä½œæ­¥éª¤ï¼Œå´éš¾ä»¥ç†è§£èƒŒåçš„åŸç†ï¼›å­¦ä¼šäº†è½¯ä»¶ä½¿ç”¨ï¼Œå´æ— æ³•åº”å¯¹çœŸå®åœºæ™¯ä¸­çš„å¤æ‚é—®é¢˜ã€‚</p>\n<p>æœ¬ä¹¦æ­£æ˜¯ä¸ºå¼¥åˆè¿™ä¸€é¸¿æ²Ÿè€Œå†™ã€‚ä½œä¸ºä½œè€…ï¼Œæˆ‘æ·±çŸ¥ç†è®ºè„±ç¦»å®è·µçš„æ— åŠ›ï¼Œä¹Ÿä½“ä¼šè¿‡é¢å¯¹æµ·é‡ GIS æ¦‚å¿µæ—¶çš„è¿·èŒ«ã€‚å› æ­¤ï¼Œæœ¬ä¹¦ä¸ä»¥å †ç Œæœ¯è¯­ä¸ºç›®æ ‡ï¼Œä¹Ÿä¸æ»¡è¶³äºå¯¹è½¯ä»¶åŠŸèƒ½çš„ç®€å•å¤è¿°ï¼Œè€Œæ˜¯åšæŒâ€œåŸç†ä¸ºåŸºã€å®è·µä¸ºæ¡¥â€çš„ç†å¿µï¼ŒåŠ›æ±‚åœ¨æ¸…æ™°é˜é‡Šæ ¸å¿ƒæ¦‚å¿µçš„åŒæ—¶ï¼Œé€šè¿‡å¤§é‡å¯è¿è¡Œã€å¯è°ƒè¯•ã€å¯æ‰©å±•çš„æŠ€æœ¯æ¡ˆä¾‹ï¼Œå¼•å¯¼è¯»è€…äº²æ‰‹æ„å»ºå¯¹ GIS çš„ç³»ç»Ÿæ€§ç†è§£ã€‚</p>\n<p>å…¨ä¹¦å›´ç»•ä¸€æ¡æ¸…æ™°çš„çŸ¥è¯†ä¸»çº¿å±•å¼€ï¼šä»ç©ºé—´å‚è€ƒç³»ç»Ÿè¿™ä¸€â€œåœ°ç†ä¸–ç•Œçš„è¯­è¨€â€å‡ºå‘ï¼Œä¾æ¬¡å‰–æçŸ¢é‡ã€æ …æ ¼ã€åœ°å½¢ä¸ä¸‰ç»´æ¨¡å‹å››ç§æ ¸å¿ƒæ•°æ®æ¨¡å‹çš„æœ¬è´¨ä¸åº”ç”¨ï¼›ç»§è€Œæ¢è®¨ç°ä»£ GIS å¦‚ä½•é€šè¿‡æœåŠ¡åŒ–æ–¹å¼å…±äº«æ•°æ®ï¼Œå¦‚ä½•é€šè¿‡å¯è§†åŒ–å‘ˆç°ä»·å€¼ï¼Œæœ€ç»ˆè½è„šäºç©ºé—´æŸ¥è¯¢ä¸åˆ†æè¿™ä¸€ GIS çš„çµé­‚æ‰€åœ¨ã€‚æ¯ä¸€ç« éƒ½é…æœ‰è¯¦å°½çš„ä»£ç å®ç°ï¼Œæ‰€æœ‰æ¡ˆä¾‹å‡æ‰˜ç®¡äºå¼€æºå¹³å°https://github.com/fafa1899/GISBasic ï¼‰ï¼Œé¼“åŠ±è¯»è€…è¾¹è¯»è¾¹åšï¼Œåœ¨å®è·µä¸­æ·±åŒ–è®¤çŸ¥ã€‚</p>\n<p>éœ€è¦å¦è¯šè¯´æ˜çš„æ˜¯ï¼Œç”±äºæˆä¹¦æ—¶é—´è¾ƒä¸ºç´§ä¿ƒï¼ŒåŠ ä¹‹æœ¬äººå­¦è¯†æœ‰é™ï¼Œä¹¦ä¸­éš¾å…å­˜åœ¨ç–æ¼ä¸ä¸è¶³ã€‚å°¤å…¶ç©ºé—´åˆ†æä¸æ™ºèƒ½åº”ç”¨è¿™ä¸€å—ï¼Œè™½æœ‰åˆæ­¥æ¶‰çŒï¼Œä½†æœªèƒ½æ·±å…¥å±•å¼€ï¼Œå®ä¸ºä¸€å¤§é—æ†¾ã€‚æœªæ¥ç‰ˆæœ¬ä¸­ï¼Œæˆ‘å°†å°½åŠ›è¡¥å……ç›¸å…³å†…å®¹ï¼Œä¹Ÿæ³è¯·å¹¿å¤§è¯»è€…ä¸åæŒ‡æ­£ï¼Œå…±åŒå®Œå–„è¿™æœ¬é¢å‘å®è·µçš„ GIS å…¥é—¨ä¹‹ä½œã€‚</p>\n<p>æ„¿ä½ åœ¨é˜…è¯»æœ¬ä¹¦çš„è¿‡ç¨‹ä¸­ï¼Œä¸ä»…èƒ½å­¦ä¼šâ€œæ€ä¹ˆåšâ€ï¼Œæ›´èƒ½é¢†æ‚Ÿâ€œä¸ºä»€ä¹ˆè¿™ä¹ˆåšâ€ï¼›ä¸ä»…æŒæ¡æŠ€æœ¯ï¼Œæ›´èƒ½å»ºç«‹èµ·å±äºè‡ªå·±çš„ GIS çŸ¥è¯†ä½“ç³»ã€‚å½“ä½ èƒ½å¤Ÿè‡ªå¦‚åœ°å°†åœ°ç†ç©ºé—´æ€ç»´åº”ç”¨äºå®é™…é—®é¢˜æ—¶ï¼Œä¾¿æ˜¯æœ¬ä¹¦æœ€å¤§çš„æˆåŠŸã€‚</p>\n<p>è°¨ä»¥æ­¤ä¹¦ï¼ŒçŒ®ç»™æ‰€æœ‰å¯¹åœ°ç†ä¸–ç•Œå……æ»¡å¥½å¥‡ã€æ„¿æ„åŠ¨æ‰‹æ¢ç´¢çš„ä½ ã€‚</p>\n<h1 id=\"4-å†…å®¹èŠ‚é€‰\">4. å†…å®¹èŠ‚é€‰</h1>\n<ol>\n<li><a href=\"https://charlee44.com/post.html?id=fd717a0e06a1402a90ea1a1c53320a92\" rel=\"noopener nofollow\" target=\"_blank\">GISä¸­çš„â€œé«˜åº¦â€åˆ°åº•æŒ‡ä»€ä¹ˆï¼Ÿä¸€æ–‡å˜æ¸…æ­£é«˜ã€æ­£å¸¸é«˜ä¸å¤§åœ°é«˜çš„åŒºåˆ«</a>ï¼šæ·±å…¥è§£æ GIS ä¸­é«˜ç¨‹å‚è€ƒç³»ç»Ÿçš„æ ¸å¿ƒæ¦‚å¿µâ€”â€”å¤§åœ°æ°´å‡†é¢ã€ä¼¼å¤§åœ°æ°´å‡†é¢ä¸å‚è€ƒæ¤­çƒé¢çš„å…³ç³»ï¼Œå˜æ¸…æ­£é«˜ã€æ­£å¸¸é«˜ä¸å¤§åœ°é«˜çš„åŒºåˆ«åŠè½¬æ¢æ–¹æ³•ï¼Œå¹¶ä»‹ç»æˆ‘å›½é«˜ç¨‹åŸºå‡†ä¸å…¨çƒé‡åŠ›æ¨¡å‹ã€‚</li>\n<li><a href=\"https://charlee44.com/post.html?id=51b4a939e17b4426acd704b11f0031df\" rel=\"noopener nofollow\" target=\"_blank\">GISå¼€å‘å¿…çŸ¥ï¼šWKT ä¸ EPSG å¦‚ä½•è¡¨è¾¾ç©ºé—´å‚è€ƒåæ ‡ç³»ï¼Ÿé™„ GDAL å®ç°</a>ï¼šæ·±å…¥è§£æ GIS ä¸­ç©ºé—´å‚è€ƒåæ ‡ç³»çš„æ ‡å‡†åŒ–è¡¨è¾¾æ–¹å¼â€”â€”WKT ä¸ EPSG ç¼–ç ï¼Œå¹¶é€šè¿‡ GDAL ä»£ç å®æˆ˜æ¼”ç¤ºå¦‚ä½•åˆ›å»ºä¸è¾“å‡ºåœ°ç†åæ ‡ç³»å’Œé«˜æ–¯-å…‹å•æ ¼æŠ•å½±åæ ‡ç³»ã€‚</li>\n<li><a href=\"https://charlee44.com/post.html?id=0494eaa683ad43ddbd4d87900b093050\" rel=\"noopener nofollow\" target=\"_blank\">ä»Shapefileåˆ°GeoJSONï¼šç”¨GDALå®ç°GISçŸ¢é‡æ•°æ®è¯»å†™ä¸ç©ºé—´åˆ†æ</a>ï¼šé€šè¿‡ GDAL/OGR å®ç°äº† GIS çŸ¢é‡æ•°æ®çš„å®Œæ•´å¤„ç†æµç¨‹â€”â€”ä» Shapefile è¯»å–ã€WGS84 åˆ° Web å¢¨å¡æ‰˜åæ ‡è½¬æ¢ï¼Œåˆ° GeoJSON å†™å…¥ï¼Œå¹¶æ¼”ç¤ºäº†ç‚¹ä¸å¤šè¾¹å½¢æ‹“æ‰‘å…³ç³»ï¼ˆå¦‚ Containsï¼‰çš„åˆ¤æ–­æ–¹æ³•ã€‚</li>\n<li><a href=\"https://charlee44.com/post.html?id=cad0147cbff74ad69e2c68c5203eb5f5\" rel=\"noopener nofollow\" target=\"_blank\">ä¸åªæ˜¯å›¾ç‰‡ï¼šæ·±å…¥ç†è§£ GIS æ …æ ¼æ•°æ®æœ¬è´¨ä¸ GDAL è¯»å†™å®æˆ˜</a>ï¼šæ·±å…¥å‰–æ GIS æ …æ ¼æ•°æ®çš„æœ¬è´¨â€”â€”å®ƒä¸åªæ˜¯æ™®é€šå›¾ç‰‡ï¼Œè¿˜èƒ½è¡¨ç¤ºé«˜ç¨‹ã€é™é›¨ã€åœŸåœ°ç±»å‹ç­‰ç©ºé—´ä¿¡æ¯ï¼Œå¹¶é€šè¿‡ GDAL æ¼”ç¤ºäº† GeoTIFF çš„è¯»å–ä¸åˆ›å»ºå®æˆ˜ã€‚</li>\n<li><a href=\"https://charlee44.com/post.html?id=120dc48f44be4395934acf73046ea1b2\" rel=\"noopener nofollow\" target=\"_blank\">ä»DEMåˆ°ç­‰é«˜çº¿ï¼šæ‰‹æ’•çŸ¢é‡ä¸æ …æ ¼ä¸¤ç§åœ°å½¢è¡¨è¾¾</a>ï¼šæ·±å…¥è§£æç­‰é«˜çº¿åœ°å½¢å›¾çš„çŸ¢é‡ä¸æ …æ ¼ä¸¤ç§ç”ŸæˆåŸç†ï¼Œå¹¶é€šè¿‡ C++ ä»£ç ä»é›¶å®ç° DEM åˆ°ç­‰é«˜çº¿çš„å®Œæ•´æµç¨‹ï¼Œæ­ç¤º GIS åœ°å½¢è¡¨è¾¾çš„æ ¸å¿ƒé€»è¾‘ã€‚</li>\n<li><a href=\"https://charlee44.com/post.html?id=8c60d37fd0f74da2a7190894971f8673\" rel=\"noopener nofollow\" target=\"_blank\">ä»DEMåˆ°ä¸‰ç»´åœ°å½¢ï¼šç”¨PLYã€OBJã€glTFæ„å»ºGISå¯è§†åŒ–æ¨¡å‹</a>ï¼šé€šè¿‡ä»DEMç”ŸæˆPLYç™½æ¨¡ã€OBJçº¹ç†æ¨¡å‹åˆ°glTFæ ‡å‡†èµ„äº§çš„å®Œæ•´ä»£ç ç¤ºä¾‹ï¼Œç³»ç»Ÿæ­ç¤ºäº†ä¸‰ç»´GISæ¨¡å‹æ„å»ºçš„æ ¸å¿ƒåŸç†ä¸æŠ€æœ¯æ¼”è¿›ã€‚</li>\n<li><a href=\"https://charlee44.com/post.html?id=411a16083323420d855655c1ec41d9a5\" rel=\"noopener nofollow\" target=\"_blank\">ä¸‰ç»´æ¨¡å‹ç“¦ç‰‡æœåŠ¡ä¸‰å‰‘å®¢ï¼š3D Tilesã€I3Sä¸S3Må…¨è§£æ</a>:ç³»ç»Ÿè§£æäº†ä¸‰ç»´GISä¸­ä¸‰å¤§ä¸»æµç“¦ç‰‡æ ‡å‡†â€”â€”Cesium 3D Tilesã€Esri I3S å’Œè¶…å›¾ S3M çš„æ ¸å¿ƒæœºåˆ¶ã€æ•°æ®ç»“æ„ä¸é€‚ç”¨åœºæ™¯ï¼Œæ¶µç›–ç“¦ç‰‡æ ‘ã€åŒ…å›´ä½“ã€å‡ ä½•è¯¯å·®ã€è¦ç´ åŒ–è®¾è®¡åŠæ ·å¼è¡¨è¾¾ç­‰å…³é”®æŠ€æœ¯ã€‚</li>\n<li><a href=\"https://charlee44.com/post.html?id=9a3aec3a04b54708a52f321784eb5152\" rel=\"noopener nofollow\" target=\"_blank\">GISå‰æ²¿æŠ€æœ¯</a>ï¼šæ¢è®¨äº†GISæŠ€æœ¯çš„æœ€æ–°å‰æ²¿å‘å±•æ–¹å‘åŠå…¶åº”ç”¨ä»·å€¼ï¼Œæ¶µç›–ä¸‰ç»´GISã€æ•°å­—å­ªç”Ÿã€äººå·¥æ™ºèƒ½ã€æ—¶ç©ºå¤§æ•°æ®äº‘å¹³å°ä»¥åŠä½ç©ºç»æµç­‰å¤šä¸ªé¢†åŸŸï¼›å±•ç¤ºäº†GISåœ¨æ™ºæ…§åŸå¸‚ã€è‡ªç„¶èµ„æºç®¡ç†ã€æ— äººæœºåº”ç”¨ç­‰æ–¹é¢çš„é‡è¦ä½œç”¨å’Œå¹¿é˜”å‰æ™¯ã€‚</li>\n<li><a href=\"https://charlee44.com/post.html?id=db441070211c496e9d2553af5b29e09e\" rel=\"noopener nofollow\" target=\"_blank\">åœ°å›¾æœåŠ¡å™¨GeoServerçš„å®‰è£…ä¸é…ç½®</a>ï¼šè¯¦ç»†ä»‹ç»äº†åœ°å›¾æœåŠ¡å™¨GeoServerçš„å®‰è£…ä¸é…ç½®è¿‡ç¨‹ã€‚</li>\n<li><a href=\"https://charlee44.com/post.html?id=003c0b5046da427dbca50ad300d8b62d\" rel=\"noopener nofollow\" target=\"_blank\">GeoServerå‘å¸ƒåœ°å›¾æœåŠ¡ï¼ˆWMSã€WFSï¼‰</a>ï¼šè¯¦ç»†è®ºè¿°äº†ä½¿ç”¨GeoServerå‘å¸ƒåœ°å›¾æœåŠ¡WMSå’ŒWFSçš„è¿‡ç¨‹ã€‚</li>\n<li><a href=\"https://charlee44.com/post.html?id=067f76316c76430c97c1440044c13f19\" rel=\"noopener nofollow\" target=\"_blank\">ç½‘ç»œåœ°å›¾æœåŠ¡ï¼ˆWMSï¼‰è¯¦è§£</a>ï¼šæ ¹æ®å…·ä½“å®ä¾‹è¯¦ç»†è®ºè¿°äº†GISä¸­ç½‘ç»œåœ°å›¾æœåŠ¡ï¼ˆWMSï¼‰çš„å†…å®¹ã€‚</li>\n<li><a href=\"https://charlee44.com/post.html?id=41fb5cab870c4f7c8760716671338826\" rel=\"noopener nofollow\" target=\"_blank\">ç½‘ç»œè¦ç´ æœåŠ¡ï¼ˆWFSï¼‰è¯¦è§£</a>ï¼šé€šè¿‡å®ä¾‹è¯¦ç»†ä»‹ç»äº†WebGISä¸­ç½‘ç»œè¦ç´ æœåŠ¡ï¼ˆWFSï¼‰çš„å…·ä½“å†…å®¹ã€‚</li>\n<li><a href=\"https://charlee44.com/post.html?id=bee53ec2f8bd4ce4a04c8f0abd277a14\" rel=\"noopener nofollow\" target=\"_blank\">å€¾æ–œå•ä½“åŒ–æ¨¡å‹æŠ€æœ¯å®ç°</a>ï¼šè¯¦ç»†ä»‹ç»äº†å€¾æ–œå•ä½“åŒ–æ¨¡å‹çš„å››ç§å®ç°æ€è·¯ã€‚</li>\n</ol>\n<hr />\n<blockquote>\n<p>æœ¬ä¹¦ã€Š<strong>GISåŸºç¡€åŸç†ä¸æŠ€æœ¯å®è·µ</strong>ã€‹å·²äº 2025 å¹´ 11 æœˆç”±åŒ—äº¬èˆªç©ºèˆªå¤©å¤§å­¦å‡ºç‰ˆç¤¾æ­£å¼å‡ºç‰ˆã€‚å…¨ä¹¦å…±åç« ï¼Œç³»ç»Ÿè¦†ç›–ç©ºé—´å‚è€ƒã€å››å¤§æ ¸å¿ƒæ•°æ®æ¨¡å‹ï¼ˆçŸ¢é‡/æ …æ ¼/åœ°å½¢/ä¸‰ç»´ï¼‰ã€åœ°ç†ä¿¡æ¯æœåŠ¡ã€å¯è§†åŒ–åŠç©ºé—´åˆ†æï¼Œå¹¶é…å¥— <strong>C++/Python/C#/Java/JavaScript å¤šè¯­è¨€ç¤ºä¾‹ä»£ç </strong>ï¼Œæ‰€æœ‰èµ„æºå¼€æºæ‰˜ç®¡äº GitHubã€‚</p>\n<p>ğŸ“˜ <strong>æ¬¢è¿æ„Ÿå…´è¶£çš„è¯»è€…é€šè¿‡ä»¥ä¸‹æ¸ é“äº†è§£æˆ–æ”¯æŒæ­£ç‰ˆ</strong>ï¼š<br />\nğŸ”— <a href=\"https://item.jd.com/14603137.html\" rel=\"noopener nofollow\" target=\"_blank\">äº¬ä¸œè´­ä¹°</a>ï½œ<a href=\"https://product.dangdang.com/29988568.html\" rel=\"noopener nofollow\" target=\"_blank\">å½“å½“è´­ä¹°</a><br />\nğŸ’» <strong>é…å¥—å¼€æºé¡¹ç›®</strong>ï¼š<a href=\"https://github.com/fafa1899/GISBasic\" rel=\"noopener nofollow\" target=\"_blank\">GitHub</a> | <a href=\"https://gitcode.com/charlee44/GISBasic\" rel=\"noopener nofollow\" target=\"_blank\">GitCode</a></p>\n</blockquote>\n\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-02-13 13:27</span>&nbsp;\n<a href=\"https://www.cnblogs.com/charlee44\">charlee44</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">7</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "AI Ã— åšå®¢å›­çš®è‚¤",
      "link": "https://www.cnblogs.com/guangzan/p/19609096",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/guangzan/p/19609096\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-02-13 10:56\">\n    <span>AI Ã— åšå®¢å›­çš®è‚¤</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h2 id=\"1-å‰è¨€\">1. å‰è¨€</h2>\n<p>åšå®¢å›­è‡ª 2004 å¹´ä¸Šçº¿ä»¥æ¥ï¼Œå‡­å€Ÿç€ç®€æ´çš„ç•Œé¢ã€æµ“åšçš„æŠ€æœ¯æ°›å›´æˆä¸ºäº†å›½å†…ç¨‹åºå‘˜çš„æ ¸å¿ƒåˆ›ä½œå¹³å°ä¹‹ä¸€ï¼Œè€Œçš®è‚¤å®šåˆ¶åˆ™æ˜¯åšå®¢å›­ç”¨æˆ·ä¸ªæ€§åŒ–è¡¨è¾¾çš„é‡è¦æ–¹å¼ã€‚ä»æ—©æœŸçš„çº¯ CSS æ ·å¼ä¿®æ”¹ï¼Œåˆ°åæ¥çš„ JS è„šæœ¬å¢å¼ºï¼Œåšå®¢å›­çš®è‚¤å¼€å‘çš„éœ€æ±‚ä¸æ–­å‡çº§ï¼Œä½†å¹³å°çš„åŸç”Ÿå¼€å‘æ¨¡å¼å´å§‹ç»ˆæ²¡æœ‰è·Ÿä¸Šå‰ç«¯æŠ€æœ¯çš„å‘å±•æ­¥ä¼ã€‚</p>\n<p>åœ¨å‰ç«¯å·¥ç¨‹åŒ–ã€ç°ä»£åŒ–æ¡†æ¶ï¼ˆReact/Vueï¼‰ã€å®ç”¨å‹ CSS æ¡†æ¶ï¼ˆTailwind CSSï¼‰æˆä¸ºè¡Œä¸šä¸»æµï¼Œä¸” AI å¤§æ¨¡å‹æ·±åº¦èå…¥å‰ç«¯å¼€å‘çš„ä»Šå¤©ï¼Œåšå®¢å›­åŸç”Ÿçš„â€œæµè§ˆå™¨ç«¯ä¿®æ”¹ CSS/JS ç‰‡æ®µâ€çš„å¼€å‘æ¨¡å¼æ˜¾å¾—æ ¼æ ¼ä¸å…¥ï¼šç”¨æˆ·åªèƒ½åœ¨æµè§ˆå™¨ä¸­æ£€æŸ¥å…ƒç´ ã€ä¿®æ”¹æ ·å¼ï¼Œæ²¡æœ‰çƒ­æ¨¡å—æ›¿æ¢ï¼ˆHMRï¼‰ã€æ²¡æœ‰ç±»å‹æ ¡éªŒã€æ²¡æœ‰æ‰“åŒ…ä¼˜åŒ–ã€æ²¡æœ‰æ¨¡å—åŒ–ï¼Œæ— æ³•äº«å—ç°ä»£å‰ç«¯ä¾¿åˆ©ã€‚æ›´è®© AI å¤§æ¨¡å‹æ— æ³•æœ‰æ•ˆæ¥å…¥â€”â€”AI éš¾ä»¥è¯»å–åšå®¢å›­çš„åŸç”Ÿæ¨¡æ¿ã€‚</p>\n<p>æ­£æ˜¯åœ¨è¿™æ ·çš„èƒŒæ™¯ä¸‹ï¼Œæˆ‘åˆ›å»ºäº† <strong>Tona</strong>ã€‚Tona æ˜¯åŸºäº Monorepo æ¶æ„æ‰“é€ çš„ä¸€å¥—å®Œæ•´çš„åšå®¢å›­çš®è‚¤å¼€å‘å·¥å…·é“¾ã€‚æœ¬æ–‡å°†ä»æŠ€æœ¯åº•å±‚åˆ°å®æˆ˜åº”ç”¨ï¼Œå…¨é¢ä»‹ç» Tona çš„è®¾è®¡ä¸å®ç°ï¼Œå¹¶ç»“åˆ AI å¤§æ¨¡å‹çš„èƒ½åŠ›ï¼Œæ‰“é€ ä¸€å¥— <strong>AI Ã— Tona Ã— åšå®¢å›­çš®è‚¤</strong>çš„ç°ä»£åŒ–å¼€å‘èŒƒå¼ï¼Œè®©æ¯ä¸€ä½å¼€å‘è€…éƒ½èƒ½å¿«é€Ÿå¼€å‘å‡ºé«˜è´¨é‡ã€å¯ç»´æŠ¤ã€ä¸ªæ€§åŒ–çš„åšå®¢å›­çš®è‚¤ï¼ŒåŒæ—¶äº«å— AI åä½œå¼€å‘çš„é«˜æ•ˆä¸ä¾¿æ·ã€‚</p>\n<h2 id=\"2-åšå®¢å›­çš®è‚¤å¼€å‘çš„ç—›ç‚¹\">2. åšå®¢å›­çš®è‚¤å¼€å‘çš„ç—›ç‚¹</h2>\n<p>åšå®¢å›­ä¸ºç”¨æˆ·æä¾›äº†<strong>é¡µé¢å®šåˆ¶ CSS</strong>ã€<strong>åšå®¢ä¾§è¾¹æ å…¬å‘Š</strong>ã€<strong>é¡µè„š HTML ä»£ç </strong>ã€<strong>è‡ªå®šä¹‰ JS è„šæœ¬</strong>ç­‰å…¥å£ï¼Œå…è®¸ç”¨æˆ·é€šè¿‡ç¼–å†™ CSS/JS/HTML ç‰‡æ®µå®ç°çš®è‚¤å®šåˆ¶ï¼Œä½†è¿™ç§å¼€å‘æ¨¡å¼å­˜åœ¨å…­å¤§æ ¸å¿ƒç—›ç‚¹ï¼Œä¸¥é‡åˆ¶çº¦äº†å¼€å‘æ•ˆç‡å’Œçš®è‚¤è´¨é‡ï¼š</p>\n<p><strong>ï¼ˆ1ï¼‰å¼€å‘ç¯å¢ƒç®€é™‹ï¼Œæ— ç°ä»£åŒ–å‰ç«¯å·¥ç¨‹åŒ–èƒ½åŠ›</strong></p>\n<p>åšå®¢å›­çš„çš®è‚¤å¼€å‘å®Œå…¨ä¾èµ–<strong>æµè§ˆå™¨ç«¯</strong>ï¼šå¼€å‘è€…éœ€è¦å…ˆåœ¨åšå®¢å›­åå°ç¼–è¾‘ä»£ç ï¼Œä¿å­˜ååˆ·æ–°é¡µé¢æŸ¥çœ‹æ•ˆæœï¼Œæ²¡æœ‰<strong>çƒ­æ›´æ–°ï¼ˆHMRï¼‰</strong> èƒ½åŠ›ï¼Œä¿®æ”¹ä¸€è¡Œæ ·å¼éœ€è¦ç­‰å¾…é¡µé¢é‡æ–°åŠ è½½ï¼›æ²¡æœ‰æ‰“åŒ…å·¥å…·ï¼Œæ— æ³•å¯¹ JS/CSS è¿›è¡Œå‹ç¼©ã€æ ‘æ‘‡ã€æŒ‰éœ€åŠ è½½ï¼›æ²¡æœ‰æ¨¡å—ç³»ç»Ÿï¼Œæ— æ³•ä½¿ç”¨ ES6+çš„<code>import/export</code>ï¼Œåªèƒ½é€šè¿‡å…¨å±€å˜é‡å®ç°ä»£ç å¤ç”¨ï¼Œä»£ç å†—ä½™ä¸”éš¾ä»¥ç»´æŠ¤ã€‚</p>\n<p><strong>ï¼ˆ2ï¼‰è°ƒè¯•éš¾åº¦å¤§ï¼Œæ— å®Œæ•´çš„è°ƒè¯•å·¥å…·é“¾</strong></p>\n<p>åšå®¢å›­çš„åŸç”Ÿä»£ç è¿è¡Œåœ¨å¹³å°çš„å…¨å±€ç¯å¢ƒä¸­ï¼Œå¼€å‘è€…åªèƒ½é€šè¿‡æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·è¿›è¡Œç®€å•çš„å…ƒç´ æ£€æŸ¥å’Œæ–­ç‚¹è°ƒè¯•ï¼Œæ— æ³•ä½¿ç”¨ Viteã€Webpack ç­‰å·¥å…·çš„è°ƒè¯•èƒ½åŠ›ï¼Œä¹Ÿæ— æ³•å¯¹ä»£ç è¿›è¡Œå•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ï¼›åŒæ—¶ï¼Œåšå®¢å›­çš„åŸç”Ÿ HTML æ¨¡æ¿ä¸å¯ä¿®æ”¹ï¼Œå¼€å‘è€…éœ€è¦åœ¨å·²æœ‰ DOM ç»“æ„ä¸Šè¿›è¡Œæ ·å¼è¦†ç›–å’Œ JS æ“ä½œï¼ŒDOM ç»“æ„çš„ä¸ç¡®å®šæ€§è¿›ä¸€æ­¥å¢åŠ äº†è°ƒè¯•éš¾åº¦ã€‚</p>\n<p><strong>ï¼ˆ3ï¼‰æŠ€æœ¯æ ˆå—é™ï¼Œæ— æ³•ä½¿ç”¨ç°ä»£åŒ–å‰ç«¯æ¡†æ¶ä¸å·¥å…·</strong></p>\n<p>åšå®¢å›­åŸç”Ÿå¼€å‘ä»…æ”¯æŒåŸç”Ÿ CSS/JS/HTMLï¼Œæ— æ³•ç›´æ¥ä½¿ç”¨ React/React/Vue ç­‰ç°ä»£åŒ–å‰ç«¯æ¡†æ¶ï¼Œä¹Ÿæ— æ³•ä½¿ç”¨ Tailwind CSSã€UnoCSS ç­‰å®ç”¨å‹ CSS æ¡†æ¶ï¼›å³ä½¿å¼€å‘è€…é€šè¿‡æ‰‹åŠ¨å¼•å…¥æ¡†æ¶ CDN åŒ…å®ç°äº†éƒ¨åˆ†åŠŸèƒ½ï¼Œä¹Ÿä¼šé¢ä¸´å…¨å±€å˜é‡å†²çªã€æ‰“åŒ…ä½“ç§¯è¿‡å¤§ã€æ€§èƒ½ä¸ä½³ç­‰é—®é¢˜ï¼Œæ— æ³•å‘æŒ¥ç°ä»£åŒ–å·¥å…·çš„çœŸæ­£ä»·å€¼ã€‚</p>\n<p><strong>ï¼ˆ4ï¼‰ä»£ç å¯ç»´æŠ¤æ€§å·®ï¼Œæ— æ¨¡å—åŒ–ä¸ç±»å‹å®‰å…¨</strong></p>\n<p>ç”±äºæ²¡æœ‰æ¨¡å—ç³»ç»Ÿå’Œç±»å‹æ ¡éªŒï¼Œåšå®¢å›­çš®è‚¤çš„ä»£ç å¾€å¾€æ˜¯â€œé¢æ¡å¼ä»£ç â€ï¼šCSS æ ·å¼ç›¸äº’è¦†ç›–ï¼ŒJS å‡½æ•°å…¨å±€æŒ‚è½½ï¼ŒHTML ç‰‡æ®µé›¶æ•£åˆ†å¸ƒï¼›æ²¡æœ‰ TypeScript çš„ç±»å‹æ ¡éªŒï¼Œå¼€å‘è€…åœ¨ç¼–å†™ä»£ç æ—¶å®¹æ˜“å‡ºç°è¯­æ³•é”™è¯¯ã€å˜é‡åé”™è¯¯ç­‰é—®é¢˜ï¼Œä¸”é”™è¯¯åªèƒ½åœ¨è¿è¡Œæ—¶å‘ç°ï¼Œå¼€å‘æ•ˆç‡æä½ã€‚</p>\n<p><strong>ï¼ˆ5ï¼‰å›¢é˜Ÿåä½œå›°éš¾ï¼Œæ— æ ‡å‡†åŒ–çš„å¼€å‘æµç¨‹</strong></p>\n<p>åšå®¢å›­çš®è‚¤çš„å¼€å‘ä»¥ä¸ªäººä¸ºä¸»ï¼Œæ²¡æœ‰æ ‡å‡†åŒ–çš„é¡¹ç›®ç»“æ„ã€ä»£ç è§„èŒƒã€æäº¤è§„èŒƒï¼›ä»£ç ä¿å­˜åœ¨åšå®¢å›­åå°ï¼Œæ— æ³•é€šè¿‡ Git è¿›è¡Œç‰ˆæœ¬ç®¡ç†ï¼Œä¹Ÿæ— æ³•è¿›è¡Œå›¢é˜Ÿåä½œå¼€å‘ï¼›åŒæ—¶ï¼Œæ²¡æœ‰ Lint å·¥å…·ã€Prettier å·¥å…·çš„ä»£ç æ ¼å¼åŒ–èƒ½åŠ›ï¼Œä¸åŒå¼€å‘è€…çš„ä»£ç é£æ ¼å·®å¼‚å¤§ï¼Œä»£ç åˆå¹¶ä¸ç»´æŠ¤å›°éš¾ã€‚</p>\n<p><strong>ï¼ˆ6ï¼‰AI éš¾ä»¥æ¥å…¥ï¼Œæ— æ³•äº«å— AI å¤§æ¨¡å‹çš„å¼€å‘çº¢åˆ©</strong></p>\n<p>è¿™æ˜¯æ–°æ—¶ä»£åšå®¢å›­çš®è‚¤å¼€å‘çš„æ ¸å¿ƒç—›ç‚¹ä¹‹ä¸€ã€‚AI å¤§æ¨¡å‹çš„æœ‰æ•ˆå¼€å‘éœ€è¦<strong>æ ‡å‡†åŒ–çš„é¡¹ç›®ç»“æ„</strong>ã€<strong>å¯è®¿é—®çš„ä»£ç æ–‡ä»¶</strong>ã€<strong>æ¸…æ™°çš„æŠ€æœ¯è§„èŒƒ</strong>ï¼Œè€Œåšå®¢å›­åŸç”Ÿå¼€å‘çš„ä»£ç ä»…å­˜åœ¨äºåšå®¢å›­åå°çš„é›¶æ•£ç‰‡æ®µä¸­ï¼ŒAI æ— æ³•è¯»å–åšå®¢å›­çš„åŸç”Ÿ HTML æ¨¡æ¿ã€æ— æ³•ç†è§£ä»£ç çš„ä¸Šä¸‹æ–‡ã€æ— æ³•ç”Ÿæˆç¬¦åˆè§„èŒƒçš„æ¨¡å—åŒ–ä»£ç ï¼Œæ›´æ— æ³•å‚ä¸å·¥ç¨‹åŒ–çš„å¼€å‘æµç¨‹ï¼Œè®©å¼€å‘è€…é”™å¤± AI å¼€å‘çš„çº¢åˆ©ã€‚</p>\n<h2 id=\"3-tonaæ¶æ„æŠ€æœ¯æ ˆä¸å·¥ç¨‹åŒ–æµæ°´çº¿\">3. Tonaï¼šæ¶æ„ã€æŠ€æœ¯æ ˆä¸å·¥ç¨‹åŒ–æµæ°´çº¿</h2>\n<h3 id=\"31-åšå®¢å›­çš®è‚¤å¼€å‘çš„ç°ä»£åŒ–è§£å†³æ–¹æ¡ˆ\">3.1 åšå®¢å›­çš®è‚¤å¼€å‘çš„ç°ä»£åŒ–è§£å†³æ–¹æ¡ˆ</h3>\n<div class=\"mermaid\">flowchart TD\n    A[ä¼ ç»Ÿ CNBlogs å¼€å‘] --&gt; B[æµè§ˆå™¨æ£€æŸ¥å…ƒç´ ]\n    B --&gt; C[æ‰‹åŠ¨ä¿®æ”¹ CSS/JS]\n    C --&gt; D[ä¸Šä¼ è®¾ç½®ç•Œé¢æµ‹è¯•]\n    D --&gt; E[é‡å¤è°ƒè¯•ï¼Œæ•ˆç‡ä½]\n\n    F[Tona å¼€å‘] --&gt; G[pnpm create tona åˆå§‹åŒ–]\n    G --&gt; H[Vite æœ¬åœ°æœåŠ¡å™¨ + æ¨¡æ¿æ³¨å…¥]\n    H --&gt; I[çƒ­æ›´æ–° + AI ç”Ÿæˆä»£ç ]\n    I --&gt; J[æ„å»ºæ‰“åŒ… + éƒ¨ç½²]\n\n    subgraph è§£å†³æ–¹æ¡ˆ\n    F --&gt; J\n    end\n\n    subgraph ç—›ç‚¹\n    A --&gt; E\n    end\n</div><p>Tona æ ¸å¿ƒå®šä½æ˜¯åšå®¢å›­ä¸“å±çš„æ¨¡å—åŒ–çš®è‚¤å¼€å‘å·¥å…·é“¾ï¼Œå…¶è®¾è®¡åˆè¡·å°±æ˜¯è§£å†³ä¸Šè¿°åšå®¢å›­åŸç”Ÿå¼€å‘çš„æ‰€æœ‰ç—›ç‚¹ã€‚Tona åŸºäº Monorepo æ¶æ„æ‰“é€ äº†ä¸€å¥—å®Œæ•´çš„çš®è‚¤å¼€å‘å·¥å…·é“¾ï¼ŒåŒ…å«å¯å¤ç”¨çš„æ ¸å¿ƒåŒ…ã€é¢„æ„å»ºçš„çš®è‚¤ã€å¯æ‰©å±•çš„æ’ä»¶ç³»ç»Ÿï¼ŒåŒæ—¶æ·±åº¦æ•´åˆ Vite ç”Ÿæ€ï¼Œå®ç°äº†åšå®¢å›­çš®è‚¤çš„æœ¬åœ°å¼€å‘ã€å·¥ç¨‹åŒ–æ„å»ºã€æ ‡å‡†åŒ–éƒ¨ç½²ã€‚</p>\n<p>Tona çš„æ ¸å¿ƒè§£å†³æ–¹æ¡ˆå¯ä»¥æ€»ç»“ä¸ºä»¥ä¸‹äº”ç‚¹ï¼š</p>\n<ol>\n<li><strong>æœ¬åœ°å¼€å‘ç¯å¢ƒæ­å»º</strong>ï¼šé€šè¿‡<code>tona-vite</code>æ’ä»¶å°†åšå®¢å›­çš„åŸç”Ÿ HTML æ¨¡æ¿æ³¨å…¥ Vite Dev Server ä¸­ï¼Œè®©å¼€å‘è€…å¯ä»¥åœ¨æœ¬åœ°è„±ç¦»åšå®¢å›­ç¯å¢ƒè¿›è¡Œçš®è‚¤å¼€å‘ï¼Œäº«å— Vite çš„çƒ­æ›´æ–°ã€è°ƒè¯•ã€æ‰“åŒ…ç­‰å·¥ç¨‹åŒ–èƒ½åŠ›ï¼›</li>\n<li><strong>ç°ä»£åŒ–æŠ€æœ¯æ ˆæ”¯æŒ</strong>ï¼šåŸç”Ÿæ”¯æŒ TypeScriptã€Reactã€Tailwind CSS V4 ç­‰ç°ä»£åŒ–å‰ç«¯æŠ€æœ¯æ ˆï¼Œæä¾›äº†æ ‡å‡†åŒ–çš„é¡¹ç›®ç»“æ„å’Œä»£ç è§„èŒƒï¼Œè®©å¼€å‘è€…å¯ä»¥ä½¿ç”¨ç†Ÿæ‚‰çš„å·¥å…·å¼€å‘åšå®¢å›­çš®è‚¤ï¼›</li>\n<li><strong>æ¨¡å—åŒ–çš„æ ¸å¿ƒåŒ…ä½“ç³»</strong>ï¼šå°†æ ¸å¿ƒèƒ½åŠ›æ‹†åˆ†ä¸º<code>tona-core</code>ã€<code>tona-hooks</code>ã€<code>tona-options</code>ã€<code>tona-utils</code>ç­‰å¤šä¸ªæ ¸å¿ƒåŒ…ï¼Œæ¯ä¸ªåŒ…è´Ÿè´£ç‰¹å®šçš„åŠŸèƒ½ï¼Œå®ç°äº†åŠŸèƒ½çš„è§£è€¦ä¸å¤ç”¨ï¼ŒåŒæ—¶ä¹Ÿä¸º AI å¼€å‘æä¾›äº†æ ‡å‡†åŒ–çš„ APIï¼›</li>\n<li><strong>å·¥ç¨‹åŒ–çš„å¼€å‘æµç¨‹</strong>ï¼šæä¾›äº†å®Œæ•´çš„å¼€å‘ã€æ„å»ºã€æµ‹è¯•ã€å‘å¸ƒï¼Œé›†æˆäº† Vitestã€Biomeã€Stylelint ç­‰å·¥å…·ï¼Œå®ç°äº†ä»£ç çš„ Lintã€æ ¼å¼åŒ–ã€å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ï¼ŒåŒæ—¶æ”¯æŒ Git ç‰ˆæœ¬ç®¡ç†å’Œå›¢é˜Ÿåä½œå¼€å‘ï¼›</li>\n<li><strong>å¯æ‰©å±•çš„æ’ä»¶ç³»ç»Ÿ</strong>ï¼šæä¾›äº†<code>tona-plugins</code>æ’ä»¶ç³»ç»Ÿï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡ç¼–å†™æ’ä»¶å®ç° DOM æ“ä½œã€åŠŸèƒ½å¢å¼ºç­‰éœ€æ±‚ï¼ŒåŒæ—¶å†…ç½®äº†å¤šä¸ªå®ç”¨æ’ä»¶ï¼Œæ»¡è¶³å¼€å‘è€…çš„æ—¥å¸¸å¼€å‘éœ€æ±‚ã€‚</li>\n</ol>\n<p>ç®€å•æ¥è¯´ï¼ŒTona è®©åšå®¢å›­çš®è‚¤å¼€å‘ä»<strong>â€œæµè§ˆå™¨ç«¯çš„é›¶æ•£ç‰‡æ®µå¼€å‘â€</strong> å‡çº§ä¸º<strong>â€œæœ¬åœ°çš„ç°ä»£åŒ–å‰ç«¯é¡¹ç›®å¼€å‘â€</strong>ï¼Œè®©å¼€å‘è€…å¯ä»¥åƒå¼€å‘æ™®é€šå‰ç«¯é¡¹ç›®ä¸€æ ·å¼€å‘åšå®¢å›­çš®è‚¤ï¼ŒåŒæ—¶ä¸º AI æ¥å…¥æ­å»ºäº†æ ‡å‡†åŒ–çš„æŠ€æœ¯åº•åº§ã€‚</p>\n<h3 id=\"32-monorepo-æ¶æ„è®¾è®¡\">3.2 Monorepo æ¶æ„è®¾è®¡</h3>\n<p>Tona é‡‡ç”¨<strong>åŸºäº pnpm workspace çš„ Monorepo æ¶æ„</strong>ï¼Œè¿™æ˜¯ç°ä»£åŒ–å‰ç«¯çš„ä¸»æµæ¶æ„é€‰æ‹©ï¼Œå…¶ä¼˜åŠ¿åœ¨äºå¯ä»¥å°†æ ¸å¿ƒèƒ½åŠ›æ‹†åˆ†ä¸ºå¤šä¸ªç‹¬ç«‹çš„åŒ…ï¼Œå®ç°åŠŸèƒ½çš„è§£è€¦ä¸å¤ç”¨ï¼ŒåŒæ—¶ä¾¿äºç‰ˆæœ¬ç®¡ç†å’Œå›¢é˜Ÿåä½œå¼€å‘ã€‚</p>\n<p>Tona çš„ Monorepo ç»“æ„ä¸»è¦åˆ†ä¸º<strong>ä¸‰å¤§æ ¸å¿ƒç›®å½•</strong>ï¼š</p>\n<p><strong>ï¼ˆ1ï¼‰æ ¹ç›®å½•ï¼šå·¥ç¨‹åŒ–æµæ°´çº¿é…ç½®</strong></p>\n<p>Tona çš„æ ¹ç›®å½•åŒ…å«äº†æ‰€æœ‰å·¥ç¨‹åŒ–é…ç½®æ–‡ä»¶ï¼Œå¦‚<code>pnpm-workspace.yaml</code>ï¼ˆpnpm å·¥ä½œåŒºé…ç½®ï¼‰ã€<code>biome.jsonc</code>ï¼ˆä»£ç  Lint ä¸æ ¼å¼åŒ–ï¼‰ã€<code>vitest.config.ts</code>ï¼ˆæµ‹è¯•é…ç½®ï¼‰ã€<code>package.json</code>ï¼ˆæ ¹ç›®å½•è„šæœ¬ä¸ä¾èµ–ï¼‰ç­‰ï¼ŒåŒæ—¶æä¾›äº†<code>scripts/</code>ç›®å½•ï¼ŒåŒ…å«å¼€å‘ã€æ„å»ºã€å‘å¸ƒçš„æ ¸å¿ƒè„šæœ¬ï¼Œå®ç°äº†<strong>ä¸€é”®å¼€å‘ã€ä¸€é”®æ„å»ºã€ä¸€é”®å‘å¸ƒ</strong>ã€‚</p>\n<p><strong>ï¼ˆ2ï¼‰<code>packages/</code>ï¼šæ ¸å¿ƒåŒ…ä¸å·¥å…·é“¾ï¼ˆ12 ä¸ªåŒ…ï¼‰</strong></p>\n<p><code>packages/</code>ç›®å½•æ˜¯ Tona çš„æ ¸å¿ƒï¼ŒåŒ…å« 12 ä¸ªç‹¬ç«‹çš„åŒ…ï¼Œæ¯ä¸ªåŒ…è´Ÿè´£ç‰¹å®šçš„åŠŸèƒ½ï¼Œé‡‡ç”¨<strong>åˆ†å±‚æ¶æ„</strong>è®¾è®¡ï¼ˆæ„å»ºå±‚ã€æ‰©å±•å±‚ã€UI å±‚ã€å·¥å…·å±‚ã€åŸºç¡€å±‚ï¼‰ï¼ŒåŒ…ä¹‹é—´é€šè¿‡<code>workspace:*</code>åè®®ç›¸äº’å¼•ç”¨ï¼Œå®ç°æœ¬åœ°å¼€å‘æ— éœ€å‘å¸ƒï¼ŒåŒæ—¶ä¾¿äºç‰ˆæœ¬åŒæ­¥ã€‚</p>\n<p>æ‰€æœ‰åŒ…å‡ä½¿ç”¨ TypeScript å¼€å‘ï¼Œæä¾›å®Œæ•´çš„ç±»å‹å®šä¹‰ï¼Œè¿™ä¸ä»…ä¿è¯äº†ç±»å‹å®‰å…¨ï¼Œä¹Ÿä¸º AI å¼€å‘æä¾›äº†æ¸…æ™°çš„ API æç¤ºã€‚</p>\n<p><strong>ï¼ˆ3ï¼‰<code>themes/</code>ï¼šå†…ç½®çš®è‚¤å®ç°ï¼ˆ3 ä¸ªçš®è‚¤ï¼‰</strong></p>\n<p><code>themes/</code>ç›®å½•åŒ…å« Tona å†…ç½®çš„ 3 ä¸ªåšå®¢å›­çš®è‚¤çš®è‚¤ï¼Œåˆ†ä¸º<strong>ç»„ä»¶åŒ–æ¨¡å¼</strong>å’Œ<strong>æ’ä»¶åŒ–æ¨¡å¼</strong>ä¸¤ç§å¼€å‘èŒƒå¼ï¼š</p>\n<ul>\n<li><strong>Shadcn çš®è‚¤</strong>ï¼šåŸºäº React+Tailwind CSS V4 çš„ç»„ä»¶åŒ–çš®è‚¤ï¼Œé‡‡ç”¨ Tona çš„å…¨é‡æ ¸å¿ƒåŒ…ï¼Œé€‚åˆå¼€å‘å¤æ‚ã€ç¾è§‚ã€å¯å®šåˆ¶çš„é«˜ç«¯çš®è‚¤ï¼›</li>\n<li><strong>Geek/Reacg çš®è‚¤</strong>ï¼šåŸºäºåŸç”Ÿ DOM+Sass çš„æ’ä»¶åŒ–çš®è‚¤ï¼Œä»…ä½¿ç”¨ Tona çš„æ ¸å¿ƒåŒ…ï¼ˆcore/options/pluginsï¼‰ï¼Œé€‚åˆå¼€å‘è½»é‡ã€é«˜æ•ˆçš„æç®€çš®è‚¤ã€‚</li>\n</ul>\n<p>è¿™ 3 ä¸ªçš®è‚¤ä¸ä»…æ˜¯å¯ç›´æ¥ä½¿ç”¨çš„åšå®¢å›­çš®è‚¤ï¼Œæ›´æ˜¯ Tona çš„<strong>å®æˆ˜ç¤ºä¾‹</strong>ï¼ŒAI å¯ä»¥é€šè¿‡è¯»å–è¿™äº›çš®è‚¤çš„ä»£ç ï¼Œå­¦ä¹  Tona çš„å¼€å‘è§„èŒƒå’Œæœ€ä½³å®è·µã€‚</p>\n<p><img alt=\"image\" height=\"935\" src=\"https://img2024.cnblogs.com/blog/1501373/202602/1501373-20260213101052637-421617829.png\" width=\"1511\" /></p>\n<p><img alt=\"image\" height=\"943\" src=\"https://img2024.cnblogs.com/blog/1501373/202602/1501373-20260213100059752-592802182.png\" width=\"1511\" /></p>\n<p><img alt=\"image\" height=\"939\" src=\"https://img2024.cnblogs.com/blog/1501373/202602/1501373-20260213100904348-378022767.png\" width=\"1511\" /></p>\n<p><img alt=\"image\" height=\"943\" src=\"https://img2024.cnblogs.com/blog/1501373/202602/1501373-20260213101430958-1237882624.png\" width=\"1511\" /></p>\n<h3 id=\"34-æ ¸å¿ƒæŠ€æœ¯æ ˆé€‰å‹\">3.4 æ ¸å¿ƒæŠ€æœ¯æ ˆé€‰å‹</h3>\n<p>Tona çš„æŠ€æœ¯æ ˆé€‰å‹éµå¾ª<strong>è½»é‡ã€ç°ä»£ã€é«˜æ•ˆã€é€‚é…åšå®¢å›­</strong>çš„åŸåˆ™ï¼Œæ‰€æœ‰æŠ€æœ¯æ ˆå‡ä¸ºå½“å‰å‰ç«¯è¡Œä¸šçš„ä¸»æµé€‰æ‹©ï¼ŒåŒæ—¶å……åˆ†è€ƒè™‘äº†åšå®¢å›­çš„è¿è¡Œç¯å¢ƒã€‚</p>\n<p>Tona çš„æ ¸å¿ƒæŠ€æœ¯æ ˆå¯åˆ†ä¸º<strong>æ ¸å¿ƒå¼€å‘å·¥å…·</strong>ã€<strong>å‰ç«¯æ¡†æ¶</strong>ã€<strong>æ ·å¼å·¥å…·</strong>ã€<strong>å·¥ç¨‹åŒ–å·¥å…·</strong>å››å¤§ç±»ï¼Œå…·ä½“é€‰å‹åŠç‰ˆæœ¬ã€ç”¨é€”å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p>\n<table>\n<thead>\n<tr>\n<th>åˆ†ç±»</th>\n<th>æŠ€æœ¯æ ˆ</th>\n<th>ç‰ˆæœ¬</th>\n<th>æ ¸å¿ƒç”¨é€”</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>æ„å»ºå·¥å…·</td>\n<td>Vite</td>\n<td>^7.3.1</td>\n<td>å¼€å‘æœåŠ¡å™¨ã€çƒ­æ›´æ–°ã€æ‰“åŒ…æ„å»ºã€æ ‘æ‘‡ä¼˜åŒ–</td>\n</tr>\n<tr>\n<td>åŒ…ç®¡ç†å™¨</td>\n<td>pnpm</td>\n<td>10.28.2</td>\n<td>Monorepo å·¥ä½œåŒºç®¡ç†ã€ä¾èµ–å®‰è£…ã€åŒ…ä¹‹é—´çš„å¼•ç”¨</td>\n</tr>\n<tr>\n<td>å¼€å‘è¯­è¨€</td>\n<td>TypeScript</td>\n<td>^5.9.3</td>\n<td>å…¨æ¡†æ¶ç±»å‹å®‰å…¨ã€ä»£ç æç¤ºã€è¯­æ³•æ ¡éªŒ</td>\n</tr>\n<tr>\n<td>UI æ¡†æ¶</td>\n<td>Preact</td>\n<td>^10.28.2</td>\n<td>è½»é‡ React æ›¿ä»£æ–¹æ¡ˆï¼Œä½“ç§¯å°ã€æ€§èƒ½é«˜ï¼Œé€‚é…åšå®¢å›­çš„å…¨å±€ç¯å¢ƒ</td>\n</tr>\n<tr>\n<td>æ ·å¼æ¡†æ¶</td>\n<td>Tailwind CSS</td>\n<td>^4.1.18</td>\n<td>å·¥å…·ç±»ä¼˜å…ˆçš„ CSS æ¡†æ¶ï¼Œå¿«é€Ÿå®ç°æ ·å¼å¼€å‘ï¼Œæ”¯æŒ@apply æŒ‡ä»¤</td>\n</tr>\n<tr>\n<td>åŒ…æ„å»ºå·¥å…·</td>\n<td>tsdown</td>\n<td>latest</td>\n<td>TypeScript åŒ…ç¼–è¯‘ï¼Œå°† TS ä»£ç ç¼–è¯‘ä¸º ES æ¨¡å—ï¼Œé€‚é… Vite ç”Ÿæ€</td>\n</tr>\n<tr>\n<td>æµ‹è¯•å·¥å…·</td>\n<td>Vitest</td>\n<td>^4.0.16</td>\n<td>å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ï¼Œæ”¯æŒå¿«ç…§æµ‹è¯•ã€æ¨¡æ‹Ÿæµ‹è¯•</td>\n</tr>\n<tr>\n<td>ä»£ç  Lint</td>\n<td>Biome</td>\n<td>^2.3.11</td>\n<td>ä»£ç  Lintã€æ ¼å¼åŒ–ã€è¯­æ³•æ ¡éªŒï¼Œæ›¿ä»£ ESLint+Prettierï¼Œæ€§èƒ½æ›´é«˜</td>\n</tr>\n<tr>\n<td>Git Hooks</td>\n<td>Lefthook</td>\n<td>^2.0.13</td>\n<td>æäº¤å‰ä»£ç æ ¡éªŒã€æµ‹è¯•ï¼Œä¿è¯ä»£ç æäº¤è´¨é‡</td>\n</tr>\n<tr>\n<td>CSS é¢„å¤„ç†å™¨</td>\n<td>Sass</td>\n<td>latest</td>\n<td>æ’ä»¶åŒ–çš®è‚¤çš„æ ·å¼å¼€å‘ï¼Œæ”¯æŒå˜é‡ã€æ··åˆã€åµŒå¥—</td>\n</tr>\n<tr>\n<td>åŠ¨ç”»åº“</td>\n<td>motion</td>\n<td>^12.25.0</td>\n<td>tona-theme-shadcn çš®è‚¤çš„åŠ¨ç”»æ•ˆæœï¼Œå®ç°æµç•…çš„é¡µé¢è¿‡æ¸¡å’Œäº¤äº’</td>\n</tr>\n<tr>\n<td>å›¾æ ‡åº“</td>\n<td>lucide-React</td>\n<td>^0.562.0</td>\n<td>tona-theme-shadcn çš®è‚¤çš„å›¾æ ‡ç³»ç»Ÿï¼Œæä¾›ä¸°å¯Œçš„çŸ¢é‡å›¾æ ‡</td>\n</tr>\n<tr>\n<td>ç»„ä»¶åº“</td>\n<td>@base-ui-components</td>\n<td>1.0.0-beta.4</td>\n<td>tona-theme-shadcn çš®è‚¤çš„æ— å¤´ UI ç»„ä»¶ï¼Œå®ç°å¯å®šåˆ¶çš„åŸºç¡€ç»„ä»¶</td>\n</tr>\n</tbody>\n</table>\n<p><strong>æŠ€æœ¯æ ˆé€‰å‹çš„æ ¸å¿ƒè€ƒé‡</strong>ï¼š</p>\n<ol>\n<li><strong>Preact</strong>ï¼šReact çš„ä½“ç§¯ä»… 3KB å·¦å³ï¼Œè¿œå°äº Reactï¼Œä¸” API ä¸ React å®Œå…¨å…¼å®¹ï¼Œä¸ä¼šåœ¨åšå®¢å›­çš„å…¨å±€ç¯å¢ƒä¸­é€ æˆä½“ç§¯è¿‡å¤§æˆ–å˜é‡å†²çªçš„é—®é¢˜ï¼›</li>\n<li><strong>Vite ä½œä¸ºæ„å»ºå·¥å…·</strong>ï¼šVite çš„çƒ­æ›´æ–°é€Ÿåº¦æå¿«ï¼Œæ‰“åŒ…æ•ˆç‡é«˜ï¼Œä¸”åŸç”Ÿæ”¯æŒ ES æ¨¡å—ï¼Œéå¸¸é€‚åˆåšå®¢å›­çš®è‚¤çš„æœ¬åœ°å¼€å‘ï¼›</li>\n<li><strong>pnpm ä½œä¸ºåŒ…ç®¡ç†å™¨</strong>ï¼špnpm çš„åŒ…å®‰è£…é€Ÿåº¦å¿«ã€ç£ç›˜å ç”¨ä½ï¼Œä¸”åŸç”Ÿæ”¯æŒ Monorepo æ¶æ„ï¼Œæ˜¯ Tona çš„æœ€ä½³é€‰æ‹©ï¼›</li>\n<li><strong>Tailwind CSS V4</strong>ï¼šTailwind CSS V4 ç›¸æ¯”æ—§ç‰ˆæœ¬æ€§èƒ½æ›´é«˜ã€åŠŸèƒ½æ›´å…¨ï¼Œæ”¯æŒ@apply æŒ‡ä»¤çš„é«˜çº§ç”¨æ³•ï¼Œéå¸¸é€‚åˆåšå®¢å›­çš®è‚¤çš„æ ·å¼å¼€å‘ï¼›</li>\n<li><strong>Biome æ›¿ä»£ ESLint+Prettier</strong>ï¼šBiome æ˜¯ä¸€æ¬¾é«˜æ€§èƒ½çš„ä¸€ç«™å¼ä»£ç å·¥å…·ï¼Œé›†æˆäº† Lintã€æ ¼å¼åŒ–ã€è¯­æ³•æ ¡éªŒç­‰åŠŸèƒ½ï¼Œé…ç½®ç®€å•ï¼Œæ€§èƒ½è¿œé«˜äº ESLint+Prettierï¼Œé€‚åˆ Monorepo æ¶æ„çš„å·¥ç¨‹åŒ–ç®¡ç†ã€‚</li>\n</ol>\n<h3 id=\"35-å¼€å‘ä¸æ„å»ºæµæ°´çº¿\">3.5 å¼€å‘ä¸æ„å»ºæµæ°´çº¿</h3>\n<p>Tona æä¾›äº†<strong>æ ‡å‡†åŒ–çš„å¼€å‘ä¸æ„å»ºæµæ°´çº¿</strong>ï¼Œæ‰€æœ‰æ“ä½œéƒ½é€šè¿‡æ ¹ç›®å½•çš„<code>package.json</code>è„šæœ¬å®ç°ï¼Œå¼€å‘è€…æ— éœ€å…³å¿ƒåº•å±‚çš„å®ç°ç»†èŠ‚ï¼Œåªéœ€æ‰§è¡Œç®€å•çš„å‘½ä»¤å³å¯å®Œæˆå¼€å‘ã€æ„å»ºã€æµ‹è¯•ã€å‘å¸ƒç­‰æ“ä½œã€‚åŒæ—¶ï¼Œè¿™ä¸€æµæ°´çº¿ä¹Ÿä¸º AI å¼€å‘æä¾›äº†æ ‡å‡†åŒ–çš„æ“ä½œå…¥å£â€”â€”AI å¯ä»¥é€šè¿‡æ‰§è¡Œè¿™äº›è„šæœ¬ï¼Œå‚ä¸å…¨æµç¨‹çš„å¼€å‘ã€‚</p>\n<p>Tona çš„å¼€å‘ä¸æ„å»ºæµæ°´çº¿å¯é€šè¿‡ä»¥ä¸‹ Mermaid å›¾ç›´è§‚å±•ç¤ºï¼š</p>\n<div class=\"mermaid\">graph LR\n    A[å¼€å‘é˜¶æ®µ] --&gt; A1[pnpm devï¼šå¯åŠ¨å¼€å‘æœåŠ¡å™¨]\n    A1 --&gt; A2[scripts/dev-theme.tsï¼šçš®è‚¤å¼€å‘è„šæœ¬]\n    A2 --&gt; A3[Vite Dev Server+HMRï¼šçƒ­æ›´æ–°å¼€å‘]\n    B[æµ‹è¯•é˜¶æ®µ] --&gt; B1[pnpm testï¼šæ‰§è¡Œå•å…ƒ/é›†æˆæµ‹è¯•ï¼ˆVitestï¼‰]\n    B1 --&gt; B2[pnpm typecheckï¼šTypeScript ç±»å‹æ ¡éªŒ]\n    B2 --&gt; B3[pnpm lintï¼šä»£ç  Lint ä¸æ ¼å¼åŒ–ï¼ˆBiomeï¼‰]\n    C[æ„å»ºé˜¶æ®µ] --&gt; C1[pnpm buildï¼šæ„å»ºçš®è‚¤ï¼ˆViteï¼‰]\n    C1 --&gt; C2[pnpm build:pkgï¼šå¹¶è¡Œæ„å»ºæ‰€æœ‰æ ¸å¿ƒåŒ…]\n    C2 --&gt; C3[Vite Build+æ ‘æ‘‡ï¼šçš®è‚¤æ‰“åŒ…ä¼˜åŒ–]\n    C2 --&gt; C4[tsdownï¼šTS åŒ…ç¼–è¯‘ä¸º ES æ¨¡å—]\n    C3 --&gt; C5[themes/*/dist/ï¼šçš®è‚¤æ„å»ºäº§ç‰©]\n    C4 --&gt; C6[packages/*/dist/ï¼šåŒ…æ„å»ºäº§ç‰©]\n    D[å‘å¸ƒé˜¶æ®µ] --&gt; D1[pnpm releaseï¼šç‰ˆæœ¬å‘å¸ƒ]\n    D1 --&gt; D2[bumppï¼šç‰ˆæœ¬å·è‡ªå¢]\n    D2 --&gt; D3[scripts/update-versions.mjsï¼šåŒæ­¥æ‰€æœ‰åŒ…ç‰ˆæœ¬]\n    D3 --&gt; D4[å‘å¸ƒåˆ° npm/ç§æœ‰ä»“åº“]\n</div><p><strong>ï¼ˆ1ï¼‰æ ¸å¿ƒè„šæœ¬è¯´æ˜</strong></p>\n<p>Tona çš„æ ¹ç›®å½•<code>package.json</code>æä¾›äº† 7 ä¸ªæ ¸å¿ƒè„šæœ¬ï¼Œè¦†ç›–äº†å¼€å‘ã€æµ‹è¯•ã€æ„å»ºã€å‘å¸ƒçš„å…¨æµç¨‹ï¼Œå…·ä½“å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p>\n<table>\n<thead>\n<tr>\n<th>è„šæœ¬å</th>\n<th>å…·ä½“å‘½ä»¤</th>\n<th>æ ¸å¿ƒç”¨é€”</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>dev</td>\n<td>node scripts/dev-theme.ts</td>\n<td>å¯åŠ¨ Vite å¼€å‘æœåŠ¡å™¨ï¼Œæ³¨å…¥åšå®¢å›­æ¨¡æ¿ï¼Œå®ç°çƒ­æ›´æ–°å¼€å‘</td>\n</tr>\n<tr>\n<td>build</td>\n<td>node scripts/build-theme.ts</td>\n<td>æ„å»ºæ‰€æœ‰çš®è‚¤ï¼Œé€šè¿‡ Vite è¿›è¡Œæ‰“åŒ…ã€å‹ç¼©ã€æ ‘æ‘‡ä¼˜åŒ–ï¼Œç”Ÿæˆå¯éƒ¨ç½²çš„æ„å»ºäº§ç‰©</td>\n</tr>\n<tr>\n<td>build:pkg</td>\n<td>pnpm -r --filter=./packages/** --parallel run build</td>\n<td>å¹¶è¡Œæ„å»º<code>packages/</code>ç›®å½•ä¸‹çš„æ‰€æœ‰æ ¸å¿ƒåŒ…ï¼Œæé«˜æ„å»ºæ•ˆç‡</td>\n</tr>\n<tr>\n<td>typecheck</td>\n<td>tsc --noEmit</td>\n<td>å¯¹æ‰€æœ‰ TypeScript ä»£ç è¿›è¡Œç±»å‹æ ¡éªŒï¼Œä¿è¯ç±»å‹å®‰å…¨</td>\n</tr>\n<tr>\n<td>test</td>\n<td>vitest test</td>\n<td>æ‰§è¡Œ Vitest çš„å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ï¼Œä¿è¯ä»£ç è´¨é‡</td>\n</tr>\n<tr>\n<td>lint</td>\n<td>pnpm exec biome check --write</td>\n<td>å¯¹æ‰€æœ‰ä»£ç è¿›è¡Œ Lint å’Œæ ¼å¼åŒ–ï¼Œè‡ªåŠ¨ä¿®å¤ä»£ç é£æ ¼é—®é¢˜</td>\n</tr>\n<tr>\n<td>release</td>\n<td>bumpp ... -x \"zx scripts/update-versions.mjs\"</td>\n<td>ç‰ˆæœ¬å·è‡ªå¢ï¼ŒåŒæ­¥æ‰€æœ‰æ ¸å¿ƒåŒ…å’Œçš®è‚¤çš„ç‰ˆæœ¬ï¼Œå®ç°ä¸€é”®å‘å¸ƒ</td>\n</tr>\n</tbody>\n</table>\n<p><strong>ï¼ˆ2ï¼‰æµæ°´çº¿çš„æ ¸å¿ƒç‰¹ç‚¹</strong></p>\n<ol>\n<li><strong>ä¸€é”®åŒ–æ“ä½œ</strong>ï¼šæ‰€æœ‰æµç¨‹éƒ½é€šè¿‡ç®€å•çš„<code>pnpm &lt;script&gt;</code>å‘½ä»¤å®ç°ï¼Œå¼€å‘è€…æ— éœ€å…³å¿ƒåº•å±‚ç»†èŠ‚ï¼›</li>\n<li><strong>å¹¶è¡Œæ„å»º</strong>ï¼š<code>build:pkg</code>è„šæœ¬é€šè¿‡<code>pnpm -r --parallel</code>å®ç°æ‰€æœ‰æ ¸å¿ƒåŒ…çš„å¹¶è¡Œæ„å»ºï¼Œå¤§å¹…æé«˜æ„å»ºæ•ˆç‡ï¼›</li>\n<li><strong>è‡ªåŠ¨åŒ–æ ¡éªŒ</strong>ï¼š<code>lint</code>ã€<code>typecheck</code>ã€<code>test</code>è„šæœ¬å®ç°äº†ä»£ç çš„è‡ªåŠ¨åŒ–æ ¡éªŒï¼Œä¿è¯ä»£ç è´¨é‡ï¼›</li>\n<li><strong>ç‰ˆæœ¬åŒæ­¥</strong>ï¼š<code>release</code>è„šæœ¬é€šè¿‡<code>bumpp</code>å’Œè‡ªå®šä¹‰è„šæœ¬å®ç°äº†æ‰€æœ‰åŒ…å’Œçš®è‚¤çš„ç‰ˆæœ¬åŒæ­¥ï¼Œé¿å…ç‰ˆæœ¬ä¸ä¸€è‡´çš„é—®é¢˜ï¼›</li>\n<li><strong>äº§ç‰©æ ‡å‡†åŒ–</strong>ï¼šæ„å»ºåçš„äº§ç‰©å­˜æ”¾åœ¨<code>themes/*/dist/</code>å’Œ<code>packages/*/dist/</code>ç›®å½•ä¸­ï¼Œç»“æ„æ ‡å‡†åŒ–ï¼Œä¾¿äºéƒ¨ç½²å’Œä½¿ç”¨ã€‚</li>\n</ol>\n<h2 id=\"4-tona-æ ¸å¿ƒåŒ…è§£æä»è®¾è®¡åˆ°å®ç°\">4. Tona æ ¸å¿ƒåŒ…è§£æï¼šä»è®¾è®¡åˆ°å®ç°</h2>\n<p>Tona çš„æ ¸å¿ƒèƒ½åŠ›ä½“ç°åœ¨<code>packages/</code>ç›®å½•çš„ 12 ä¸ªæ ¸å¿ƒåŒ…ä¸­ï¼Œè¿™äº›åŒ…é‡‡ç”¨<strong>åˆ†å±‚æ¶æ„</strong>è®¾è®¡ï¼Œç›¸äº’è§£è€¦åˆç›¸äº’åä½œï¼Œæ„æˆäº† Tona çš„å®Œæ•´èƒ½åŠ›ä½“ç³»ã€‚æœ¬èŠ‚å°†é‡ç‚¹è§£æ Tona ä¸­æœ€æ ¸å¿ƒçš„å‡ ä¸ªåŒ…ï¼šåŒ…æ‹¬å…¶è®¾è®¡æ€è·¯ã€å…³é”®å®ç°ã€ç¤ºä¾‹ä»£ç ã€‚</p>\n<h3 id=\"41-tona-viteæœ¬åœ°å¼€å‘çš„æ ¸å¿ƒå¼•æ“è®©-ai-è¯»æ‡‚åšå®¢å›­æ¨¡æ¿\">4.1 tona-viteï¼šæœ¬åœ°å¼€å‘çš„æ ¸å¿ƒå¼•æ“ï¼Œè®© AI è¯»æ‡‚åšå®¢å›­æ¨¡æ¿</h3>\n<p><code>tona-vite</code>æ˜¯ Tona çš„<strong>æ ¸å¿ƒå¼•æ“</strong>ï¼Œä¹Ÿæ˜¯ AI æ¥å…¥åšå®¢å›­çš®è‚¤å¼€å‘çš„<strong>å…³é”®åŒ…</strong>ã€‚å…¶æ ¸å¿ƒåŠŸèƒ½æ˜¯<strong>å°†åšå®¢å›­çš„åŸç”Ÿ HTML æ¨¡æ¿æ³¨å…¥ Vite Dev Server ä¸­</strong>ï¼Œè®©å¼€å‘è€…å¯ä»¥åœ¨æœ¬åœ°è„±ç¦»åšå®¢å›­ç¯å¢ƒè¿›è¡Œçš®è‚¤å¼€å‘ï¼Œè®© AI å¯ä»¥ç›´æ¥è¯»å–è¿™äº›æ¨¡æ¿ï¼Œç†è§£åšå®¢å›­çš„ DOM ç»“æ„ã€‚</p>\n<p><strong>ï¼ˆ1ï¼‰tona-vite çš„å·¥ä½œåŸç†</strong></p>\n<p><code>tona-vite</code>ä½œä¸ºä¸€æ¬¾ Vite æ’ä»¶ï¼Œå…¶å·¥ä½œåŸç†ä¸»è¦åˆ†ä¸º<strong>æ¨¡æ¿æ³¨å…¥</strong>ã€<strong>Dev Server å¯åŠ¨</strong>ã€<strong>çƒ­æ›´æ–°æ”¯æŒ</strong>ä¸‰ä¸ªæ­¥éª¤ï¼Œå¯é€šè¿‡ä»¥ä¸‹ Mermaid å›¾å±•ç¤ºï¼š</p>\n<div class=\"mermaid\">graph TD\n    A[tona-vite æ’ä»¶åˆå§‹åŒ–] --&gt; A1[è¯»å–æœ¬åœ°æ¨¡æ¿ï¼špackages/tona-vite/public/templates/]\n    A1 --&gt; A2[æ¨¡æ¿é¢„å¤„ç†ï¼šè§£æ DOM ç»“æ„ã€æ³¨å…¥å…¨å±€å˜é‡]\n    B[Vite Dev Server å¯åŠ¨] --&gt; B1[æ’ä»¶æ³¨å†Œï¼šå°†æ¨¡æ¿æ³¨å…¥ Vite çš„ Dev Server]\n    B1 --&gt; B2[è·¯ç”±æ˜ å°„ï¼šå°†æ¨¡æ¿æ˜ å°„åˆ° Vite çš„è·¯ç”±ï¼ˆ/templates/*ï¼‰]\n    C[æœ¬åœ°å¼€å‘é˜¶æ®µ] --&gt; C1[çš®è‚¤ä»£ç å¼€å‘ï¼šReact/CSS/JS]\n    C1 --&gt; C2[çƒ­æ›´æ–°ï¼šVite HMR è§¦å‘çš®è‚¤ä»£ç é‡æ–°æ¸²æŸ“]\n    C2 --&gt; C3[æ¨¡æ¿æ¸²æŸ“ï¼šVite Dev Server æ¸²æŸ“æ³¨å…¥çš„åšå®¢å›­æ¨¡æ¿+çš®è‚¤ä»£ç ]\n    C3 --&gt; C4[æµè§ˆå™¨è®¿é—®ï¼šæœ¬åœ°æŸ¥çœ‹åšå®¢å›­çš®è‚¤æ•ˆæœ]\n</div><p><strong>æ ¸å¿ƒå…³é”®ç‚¹</strong>ï¼š</p>\n<ol>\n<li><strong>æ¨¡æ¿æœ¬åœ°åŒ–</strong>ï¼š<code>tona-vite</code>å°†åšå®¢å›­çš„æ‰€æœ‰åŸç”Ÿ HTML æ¨¡æ¿ï¼ˆé¦–é¡µã€æ–‡ç« é¡µã€ç›¸å†Œé¡µã€åˆ†ç±»é¡µç­‰ï¼‰ä¸‹è½½å¹¶ä¿å­˜åˆ°æœ¬åœ°<code>packages/tona-vite/public/templates/</code>ç›®å½•ä¸­ï¼Œå°½å¯èƒ½ä¿è¯äº†ä¸åšå®¢å›­çº¿ä¸Šç¯å¢ƒçš„ä¸€è‡´æ€§ï¼›</li>\n<li><strong>è·¯ç”±æ˜ å°„</strong>ï¼š<code>tona-vite</code>å°†æœ¬åœ°æ¨¡æ¿æ˜ å°„åˆ° Vite Dev Server çš„<code>/templates/*</code>è·¯ç”±ä¸­ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡<code>http://localhost:5173/templates/home.html</code>è®¿é—®åšå®¢å›­é¦–é¡µæ¨¡æ¿ï¼Œé€šè¿‡<code>http://localhost:5173/templates/post-markdown.html</code>è®¿é—®æ–‡ç« é¡µæ¨¡æ¿ï¼›</li>\n<li><strong>ä»£ç æ³¨å…¥</strong>ï¼šå¼€å‘è€…ç¼–å†™çš„çš®è‚¤ä»£ç ï¼ˆReact ç»„ä»¶ã€CSS æ ·å¼ã€JS è„šæœ¬ï¼‰ä¼šè¢« Vite Dev Server æ³¨å…¥åˆ°æ¨¡æ¿ä¸­ï¼Œå®ç°çš®è‚¤æ•ˆæœçš„å®æ—¶æ¸²æŸ“ï¼›</li>\n<li><strong>çƒ­æ›´æ–°æ”¯æŒ</strong>ï¼šåŸºäº Vite çš„ HMR èƒ½åŠ›ï¼Œå¼€å‘è€…ä¿®æ”¹çš®è‚¤ä»£ç åï¼Œé¡µé¢ä¼šå®æ—¶æ›´æ–°ï¼Œæ— éœ€åˆ·æ–°ï¼Œå¤§å¹…æé«˜å¼€å‘æ•ˆç‡ã€‚</li>\n</ol>\n<p><strong>ï¼ˆ2ï¼‰tona-vite çš„å…³é”®å®ç°</strong></p>\n<p>æ’ä»¶ä½¿ç”¨ Vite çš„ configResolved å’Œ configureServer é’©å­ï¼Œæ³¨å…¥åšå®¢å›­æ¨¡æ¿åˆ° public ç›®å½•ã€‚</p>\n<pre><code class=\"language-typescript\">// packages/tona-vite/index.ts ï¼ˆç®€åŒ–ç‰ˆï¼‰\nimport { Plugin } from 'vite'\nimport fs from 'fs-extra'\nimport path from 'path'\n\nexport function tonaVite(): Plugin {\n  return {\n    name: 'tona-vite',\n    configResolved(config) {\n      // æ³¨å…¥æ¨¡æ¿\n      const templatesDir = path.resolve(__dirname, 'public/templates')\n      fs.copySync(templatesDir, config.root + '/public/templates')\n    },\n    configureServer(server) {\n      server.middlewares.use((req, res, next) =&gt; {\n        if (req.url.startsWith('/templates/')) {\n          // æ¨¡æ‹Ÿ CNBlogs æ¨¡æ¿å“åº”\n          res.end(fs.readFileSync(path.resolve(config.root, req.url)))\n        } else {\n          next()\n        }\n      })\n    },\n  }\n}\n</code></pre>\n<p><strong>ï¼ˆ3ï¼‰AI æ¥å…¥çš„æ ¸å¿ƒä¼˜åŠ¿</strong></p>\n<p><code>tona-vite</code>ä¸º AI å¼€å‘æä¾›äº†ä¸¤ä¸ªæ ¸å¿ƒä¼˜åŠ¿ï¼š</p>\n<ol>\n<li><strong>æ¨¡æ¿å¯è®¿é—®æ€§</strong>ï¼šåšå®¢å›­çš„åŸç”Ÿ HTML æ¨¡æ¿è¢«ä¿å­˜åˆ°æœ¬åœ°ï¼ŒAI å¯ä»¥ç›´æ¥è¯»å–è¿™äº›æ¨¡æ¿æ–‡ä»¶ï¼Œç†è§£åšå®¢å›­çš„ DOM ç»“æ„ã€HTML å¸ƒå±€ï¼Œä»è€Œç”Ÿæˆç¬¦åˆæ¨¡æ¿ç»“æ„çš„çš®è‚¤ä»£ç ï¼›</li>\n<li><strong>å¼€å‘ç¯å¢ƒæ ‡å‡†åŒ–</strong>ï¼šAI å¯ä»¥é€šè¿‡æ‰§è¡Œ<code>pnpm dev</code>å‘½ä»¤å¯åŠ¨ Vite Dev Serverï¼Œå‚ä¸æœ¬åœ°å¼€å‘ï¼ŒåŒæ—¶å¯ä»¥é€šè¿‡ Vite çš„ API è·å–çš®è‚¤ä»£ç çš„å®æ—¶çŠ¶æ€ï¼Œå®ç° AI ä¸äººç±»å¼€å‘è€…çš„ååŒå¼€å‘ã€‚</li>\n</ol>\n<div class=\"mermaid\">sequenceDiagram\n    participant User/AI\n    participant ViteServer\n    participant TonaVitePlugin\n    participant CNBlogsTemplate\n\n    User/AI-&gt;&gt;ViteServer: pnpm dev\n    ViteServer-&gt;&gt;TonaVitePlugin: configResolved\n    TonaVitePlugin-&gt;&gt;CNBlogsTemplate: å¤åˆ¶æ¨¡æ¿åˆ° public/\n    User/AI-&gt;&gt;ViteServer: ä¿®æ”¹ä»£ç \n    ViteServer-&gt;&gt;TonaVitePlugin: HMR æ›´æ–°\n    TonaVitePlugin-&gt;&gt;User/AI: åˆ·æ–°é¡µé¢\n</div><h3 id=\"42-tona-coreæ ¸å¿ƒ-api\">4.2 tona-coreï¼šæ ¸å¿ƒ API</h3>\n<p><code>tona-core</code>æ˜¯ Tona çš„<strong>åŸºç¡€åŒ…</strong>ï¼Œæä¾›<code>createTheme</code>å’Œ<code>defineOptions</code>ä¸¤ä¸ªæ ¸å¿ƒ APIï¼Œè´Ÿè´£<strong>çš®è‚¤å®ä¾‹çš„åˆ›å»ºã€æ’ä»¶çš„æ³¨å†Œä¸æ‰§è¡Œã€é…ç½®çš„åˆå¹¶ä¸è¯»å–</strong>ã€‚æ‰€æœ‰çš®è‚¤éƒ½é€šè¿‡<code>createTheme().use(plugin)</code>ä¸²è”æ’ä»¶ï¼Œæ‰€æœ‰æ’ä»¶é€šè¿‡<code>defineOptions</code>å£°æ˜å¯é…ç½®é¡¹ï¼Œå®ç°ç»Ÿä¸€çš„æ¨¡å—ä¸ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚</p>\n<p><strong>ï¼ˆ1ï¼‰createThemeï¼šçš®è‚¤å®ä¾‹ä¸æ’ä»¶ç³»ç»Ÿ</strong></p>\n<p><code>createTheme()</code>è¿”å›ä¸€ä¸ªçš®è‚¤å®ä¾‹ï¼Œå®ä¾‹æä¾›<code>use(plugin, ...options)</code>æ–¹æ³•ç”¨äºæ³¨å†Œæ’ä»¶ï¼š</p>\n<pre><code class=\"language-typescript\">// packages/core/src/createThemeApi.ts ï¼ˆç®€åŒ–ç‰ˆï¼‰\nexport function createTheme() {\n  const context = { theme: null, config: { globalProperties: {} } }\n  const installedPlugins = new Set()\n\n  const theme = {\n    version: '3.0',\n    _context: context,\n    get config() {\n      return context.config\n    },\n\n    use(plugin, ...options) {\n      if (installedPlugins.has(plugin)) return theme\n      if (typeof plugin?.install === 'function') {\n        installedPlugins.add(plugin)\n        plugin.install(theme, ...options)\n      } else if (typeof plugin === 'function') {\n        installedPlugins.add(plugin)\n        plugin(theme, ...options)\n      }\n      return theme\n    },\n  }\n\n  context.theme = theme\n  init()\n  return theme\n}\n</code></pre>\n<p>æ’ä»¶å¯ä»¥æ˜¯<strong>å‡½æ•°</strong>æˆ–<strong>å¸¦<code>install</code>æ–¹æ³•çš„å¯¹è±¡</strong>ï¼Œè°ƒç”¨æ—¶ä¼ å…¥çš®è‚¤å®ä¾‹å’Œå¯é€‰å‚æ•°ï¼›<code>use</code>æ”¯æŒé“¾å¼è°ƒç”¨ï¼Œè¿”å›çš®è‚¤å®ä¾‹æœ¬èº«ã€‚<code>init()</code>åœ¨åˆ›å»ºæ—¶æ‰§è¡Œï¼Œè´Ÿè´£éšè—åšå®¢å›­åŠ è½½åŠ¨ç”»ã€å¼€å‘æ¨¡å¼ä¸‹åˆå§‹åŒ–<code>window.opts</code>ç­‰ã€‚</p>\n<p><strong>ï¼ˆ2ï¼‰defineOptionsï¼šé…ç½®åˆå¹¶ä¸ç”¨æˆ·è¦†ç›–</strong></p>\n<p><code>defineOptions</code>ç”¨äºå£°æ˜<strong>æ’ä»¶çš„é…ç½®é¡¹</strong>ï¼Œå°†é»˜è®¤å€¼ã€ç”¨æˆ·é…ç½®ï¼ˆ<code>window.opts</code>ï¼‰ã€å¼€å‘æ—¶è¦†ç›–ä¸‰è€…åˆå¹¶ï¼Œä¾›æ’ä»¶å†…éƒ¨ä½¿ç”¨ï¼š</p>\n<pre><code class=\"language-typescript\">// packages/core/src/defineOptionsApi.ts ï¼ˆç®€åŒ–ç‰ˆï¼‰\nexport function defineOptions(userOptionName, defaultOptions) {\n  return (devOptions) =&gt; {\n    const userConfig = window.opts || {}\n    const user =\n      typeof userOptionName === 'string'\n        ? userConfig[userOptionName]\n        : getValue(userOptionName, userConfig) // æ•°ç»„æ—¶æŒ‰é¡ºåºåŒ¹é…ç¬¬ä¸€ä¸ªå­˜åœ¨çš„é”®\n    return Object.assign({}, defaultOptions, user, devOptions)\n  }\n}\n\n// ä½¿ç”¨ç¤ºä¾‹\nconst getBackgroundOptions = defineOptions('bodyBackground', {\n  enable: false,\n  value: '',\n  opacity: 0.85,\n  repeat: false,\n})\n\nconst opts = getBackgroundOptions({ enable: true }) // å¼€å‘æ—¶è¦†ç›–\n// çº¿ä¸Šï¼šä» window.opts.bodyBackground è¯»å–ç”¨æˆ·é…ç½®ï¼Œä¸é»˜è®¤å€¼åˆå¹¶\n</code></pre>\n<p><code>userOptionName</code>æ”¯æŒå­—ç¬¦ä¸²æˆ–æ•°ç»„ï¼ˆå¤šåˆ«åï¼‰ï¼Œæ•°ç»„æ—¶æŒ‰é¡ºåºæŸ¥æ‰¾ç¬¬ä¸€ä¸ªå­˜åœ¨äºç”¨æˆ·é…ç½®ä¸­çš„é”®ã€‚åšå®¢å›­ç”¨æˆ·é€šè¿‡ã€Œé¡µè„š HTML ä»£ç ã€æ³¨å…¥<code>window.opts = { bodyBackground: { enable: true, ... } }</code>ï¼Œçš®è‚¤å³å¯è¯»å–åˆ°åˆå¹¶åçš„é…ç½®ã€‚</p>\n<h3 id=\"43-tona-hooks-å¸¸ç”¨-hooks\">4.3 tona-hooks: å¸¸ç”¨ Hooks</h3>\n<p><code>tona-hooks</code>æ˜¯ Tona ä¸º <strong>React ç”Ÿæ€</strong>æ‰“é€ çš„è‡ªå®šä¹‰ Hook åŒ…ï¼Œå…¶æ ¸å¿ƒåŠŸèƒ½æ˜¯<strong>å°è£…åšå®¢å›­çš®è‚¤å¼€å‘ä¸­å¸¸ç”¨çš„ DOM æ“ä½œã€çŠ¶æ€ç®¡ç†ã€ä¸šåŠ¡é€»è¾‘</strong>ï¼Œè®©å¼€å‘è€…å¯ä»¥åƒä½¿ç”¨ React Hook ä¸€æ ·ï¼Œå¿«é€Ÿå®ç°åšå®¢å›­çš®è‚¤çš„å¼€å‘ï¼ŒåŒæ—¶å¤§å¹…å‡å°‘é‡å¤ä»£ç ã€‚å…¶è®¾è®¡éµå¾ª <strong>â€œé¢å‘åšå®¢å›­ä¸šåŠ¡åœºæ™¯â€</strong> çš„åŸåˆ™ï¼Œæ‰€æœ‰ Hook éƒ½é’ˆå¯¹åšå®¢å›­çš®è‚¤å¼€å‘çš„å®é™…éœ€æ±‚è¿›è¡Œå°è£…ã€‚</p>\n<p>å…¶ä¸­ï¼Œ<code>useQueryDOM</code>æ˜¯<code>tona-hooks</code>ä¸­çš„æ ¸å¿ƒ Hookã€‚<code>useQueryDOM</code>çš„æ ¸å¿ƒåŠŸèƒ½æ˜¯<strong>å°è£…åšå®¢å›­çš„ DOM æŸ¥è¯¢æ“ä½œï¼Œæ”¯æŒ DOM èŠ‚ç‚¹çš„è‡ªåŠ¨æ›´æ–°å’Œé‡æ¸²æŸ“</strong>ï¼Œè§£å†³äº†åšå®¢å›­ DOM ç»“æ„åŠ¨æ€å˜åŒ–å¯¼è‡´çš„æŸ¥è¯¢å¤±è´¥é—®é¢˜ã€‚</p>\n<p><strong>useQueryDOM Hook çš„å®ç°</strong></p>\n<pre><code class=\"language-typescript\">// packages/tona-hooks/src/useQueryDOM.ts\nimport { useState, useEffect, useCallback } from 'React/hooks'\n\n/**\n * åšå®¢å›­ DOM æŸ¥è¯¢ Hook\n * @param selector DOM é€‰æ‹©å™¨\n * @param options é…ç½®é¡¹ï¼šæ˜¯å¦ç›‘å¬ DOM å˜åŒ–ã€æ˜¯å¦ç«‹å³æŸ¥è¯¢\n * @returns DOM èŠ‚ç‚¹ã€é‡æ–°æŸ¥è¯¢æ–¹æ³•\n */\nexport function useQueryDOM&lt;T extends HTMLElement&gt;(\n  selector: string,\n  options: { observe: boolean; immediate: boolean } = {\n    observe: true,\n    immediate: true,\n  },\n) {\n  const [node, setNode] = useState&lt;T | null&gt;(null)\n\n  // DOM æŸ¥è¯¢æ–¹æ³•\n  const queryNode = useCallback(() =&gt; {\n    const el = document.querySelector&lt;T&gt;(selector)\n    setNode(el)\n    return el\n  }, [selector])\n\n  // åˆå§‹åŒ–æŸ¥è¯¢\n  useEffect(() =&gt; {\n    if (options.immediate) {\n      queryNode()\n    }\n  }, [options.immediate, queryNode])\n\n  // ç›‘å¬ DOM å˜åŒ–\n  useEffect(() =&gt; {\n    if (!options.observe) return\n\n    // åˆ›å»º MutationObserverï¼Œç›‘å¬ DOM æ ‘å˜åŒ–\n    const observer = new MutationObserver((mutations) =&gt; {\n      // å½“ DOM æ ‘å‘ç”Ÿå˜åŒ–æ—¶ï¼Œé‡æ–°æŸ¥è¯¢\n      queryNode()\n    })\n\n    // ç›‘å¬æ•´ä¸ªæ–‡æ¡£çš„ DOM å˜åŒ–\n    observer.observe(document.documentElement, {\n      childList: true,\n      subtree: true,\n      attributes: false,\n      characterData: false,\n    })\n\n    // é”€æ¯æ—¶å–æ¶ˆç›‘å¬\n    return () =&gt; {\n      observer.disconnect()\n    }\n  }, [options.observe, queryNode])\n\n  return [node, queryNode] as const\n}\n</code></pre>\n<p><strong>useQueryDOM Hook çš„ä½¿ç”¨</strong></p>\n<pre><code class=\"language-typescript\">import { useQueryDOM } from 'tona-hooks';\n\nexport function PostTitle() {\n  // æŸ¥è¯¢åšå®¢å›­æ–‡ç« æ ‡é¢˜èŠ‚ç‚¹\n  const { data, isPending } = useQueryDOM({\n    selector: '#cb_post_title_url',\n    observe: true,\n    queryFn: (el) =&gt; {\n      return el?.querySelector('[role=\"heading\"]')?.innerHTML ?? ''\n    },\n  });\n\n  if (isPending) {\n    return &lt;h1 className=\"text-2xl font-bold\"&gt;åŠ è½½ä¸­...&lt;/h1&gt;;\n  }\n\n  return (\n    &lt;h1 className=\"text-3xl font-bold text-blue-600 hover:text-blue-800 transition-colors\"&gt;\n      {titleNode.innerText}\n    &lt;/h1&gt;\n  );\n}\n</code></pre>\n<blockquote>\n<p>ä½ å¯ä»¥è¯•è¯•é€šè¿‡æ­¤ Hook å®ç°çš„æ–‡ç« åº•éƒ¨æ¨èæŒ‰é’®ã€è¯„è®ºåˆ—è¡¨ä»¥åŠä¸ªäººä¸»é¡µçš„å…³æ³¨æŒ‰é’®åŠŸèƒ½ã€‚</p>\n</blockquote>\n<h3 id=\"44-tona-tailwind-stylelint-æ’ä»¶\">4.4 tona tailwind stylelint æ’ä»¶</h3>\n<p>å¦‚æœåœ¨åšå®¢å›­çš®è‚¤å¼€å‘ä¸­ä½¿ç”¨ tailwindï¼Œéœ€è¦è€ƒè™‘çš„é—®é¢˜æ˜¯ class name è¢«æ‰“åŒ…è‡³ js æ–‡ä»¶ä¸­ï¼Œjs æ–‡ä»¶ä½“æ£€å¿«é€Ÿå¢é•¿çš„é—®é¢˜ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ CSS æ–‡ä»¶å†…ä½¿ç”¨ tailwindã€‚</p>\n<p>stylelint-one-utility-class-per-line æ’ä»¶å¼ºåˆ¶ @apply æŒ‡ä»¤ä¸€è¡Œä¸€ä¸ªç±»åï¼Œæ”¯æŒè‡ªåŠ¨ä¿®å¤ã€‚è§£å†³å¤šç±»åä¸€è¡Œå¯¼è‡´çš„å¯è¯»æ€§å·®é—®é¢˜ã€‚</p>\n<pre><code class=\"language-css\">.card {\n  @apply flex flex-col items-center justify-center p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300;\n}\n</code></pre>\n<p>lint å</p>\n<pre><code class=\"language-css\">.card {\n  @apply flex \n    flex-col \n    items-center \n    justify-center \n    p-6 \n    bg-white \n    dark:bg-gray-800 \n    rounded-lg \n    shadow-md \n    hover:shadow-lg \n    transition-shadow \n    duration-300;\n}\n</code></pre>\n<h3 id=\"45-create-tonacli-å¿«é€Ÿåˆå§‹åŒ–ä¸€é”®æ­å»ºçš®è‚¤å¼€å‘è„šæ‰‹æ¶\">4.5 create-tonaï¼šCLI å¿«é€Ÿåˆå§‹åŒ–ï¼Œä¸€é”®æ­å»ºçš®è‚¤å¼€å‘è„šæ‰‹æ¶</h3>\n<p><img alt=\"image\" height=\"804\" src=\"https://img2024.cnblogs.com/blog/1501373/202602/1501373-20260213102615101-1943776826.png\" width=\"1268\" /></p>\n<p><code>create-tona</code>æ˜¯ Tona çš„ <strong>CLI å¿«é€Ÿåˆå§‹åŒ–å·¥å…·</strong>ï¼Œå…¶æ ¸å¿ƒåŠŸèƒ½æ˜¯<strong>é€šè¿‡ä¸€è¡Œå‘½ä»¤åˆ›å»º Tona çš®è‚¤é¡¹ç›®è„šæ‰‹æ¶</strong>ï¼Œè®©å¼€å‘è€…æ— éœ€æ‰‹åŠ¨é…ç½® Viteã€tona-vite æ’ä»¶ã€ä¾èµ–å®‰è£…ç­‰ï¼Œå³å¯åœ¨æ•°ç§’å†…è·å¾—ä¸€ä¸ªå¯è¿è¡Œçš„åšå®¢å›­çš®è‚¤å¼€å‘ç¯å¢ƒã€‚å…¶è®¾è®¡éµå¾ª<strong>â€œå¼€ç®±å³ç”¨ã€æ¨¡æ¿å¯é€‰ã€æµç¨‹æ ‡å‡†åŒ–â€</strong>çš„åŸåˆ™ï¼Œæ˜¯ Tona å¼€å‘æµç¨‹çš„**å…¥å£åŒ…ã€‚</p>\n<p><strong>ï¼ˆ1ï¼‰create-tona çš„å·¥ä½œåŸç†</strong></p>\n<p><code>create-tona</code>ä½œä¸ºä¸€æ¬¾ Node.js CLI å·¥å…·ï¼Œå…¶å·¥ä½œåŸç†ä¸»è¦åˆ†ä¸º<strong>äº¤äº’å¼å¼•å¯¼</strong>ã€<strong>æ¨¡æ¿é€‰æ‹©ä¸å¤åˆ¶</strong>ã€<strong>ä¾èµ–å®‰è£…ä¸å¯åŠ¨</strong>ä¸‰ä¸ªæ­¥éª¤ï¼Œå¯é€šè¿‡ä»¥ä¸‹ Mermaid å›¾å±•ç¤ºï¼š</p>\n<div class=\"mermaid\">graph TD\n    A[æ‰§è¡Œ pnpm create tona] --&gt; A1[è§£æå‘½ä»¤è¡Œå‚æ•°ï¼š-t --template, -i --immediate]\n    A1 --&gt; A2[æ£€æµ‹è¿è¡Œç¯å¢ƒï¼šTTY äº¤äº’æ¨¡å¼ / é TTY é™é»˜æ¨¡å¼]\n    B[äº¤äº’å¼å¼•å¯¼] --&gt; B1[é¡¹ç›®åç§° &amp; ç›®æ ‡ç›®å½•]\n    B1 --&gt; B2[ç›®å½•å†²çªå¤„ç†ï¼šè¦†ç›– / å¿½ç•¥ / å–æ¶ˆ]\n    B2 --&gt; B3[åŒ…åæ ¡éªŒï¼šnpm è§„èŒƒ]\n    B3 --&gt; B4[æ¨¡æ¿é€‰æ‹©ï¼šTypeScript / JavaScript]\n    B4 --&gt; B5[æ˜¯å¦ç«‹å³å®‰è£…ä¾èµ–å¹¶å¯åŠ¨ dev]\n    C[é¡¹ç›®æ­å»º] --&gt; C1[å¤åˆ¶ template-ts æˆ– template-js åˆ°ç›®æ ‡ç›®å½•]\n    C1 --&gt; C2[æ›´æ–° package.json çš„ name å­—æ®µ]\n    C2 --&gt; C3[å¯é€‰ï¼špnpm install + pnpm dev]\n    C3 --&gt; C4[å®Œæˆï¼šè¾“å‡ºåç»­å‘½ä»¤æç¤º]\n</div><p><strong>æ ¸å¿ƒå…³é”®ç‚¹</strong>ï¼š</p>\n<ol>\n<li><strong>åŒæ¨¡æ¿æ”¯æŒ</strong>ï¼š<code>create-tona</code>æä¾›<code>template-ts</code>ï¼ˆTypeScriptï¼‰å’Œ<code>template-js</code>ï¼ˆJavaScriptï¼‰ä¸¤ç§æ¨¡æ¿ï¼Œæ¨¡æ¿å·²é¢„é…ç½®<code>tona-vite</code>æ’ä»¶ã€<code>tona</code>ä¾èµ–ã€Vite æ„å»ºè„šæœ¬ï¼Œå¼€å‘è€…å¯æ ¹æ®æŠ€æœ¯æ ˆåå¥½é€‰æ‹©ï¼›</li>\n<li><strong>åŒ…ç®¡ç†å™¨è‡ªåŠ¨è¯†åˆ«</strong>ï¼šé€šè¿‡<code>npm_config_user_agent</code>ç¯å¢ƒå˜é‡è¯†åˆ«è°ƒç”¨æ–¹ï¼ˆpnpmã€npmã€yarnã€bunã€denoï¼‰ï¼Œè‡ªåŠ¨é‡‡ç”¨å¯¹åº”å‘½ä»¤è¿›è¡Œä¾èµ–å®‰è£…å’Œè„šæœ¬æ‰§è¡Œï¼›</li>\n<li><strong>ç›®å½•å†²çªå¤„ç†</strong>ï¼šå½“ç›®æ ‡ç›®å½•éç©ºæ—¶ï¼Œæä¾›â€œå–æ¶ˆ / æ¸…ç©ºåç»§ç»­ / å¿½ç•¥å¹¶ç»§ç»­â€ä¸‰ç§é€‰é¡¹ï¼Œé¿å…æ„å¤–è¦†ç›–ï¼›</li>\n<li><strong>å³æ—¶å¯åŠ¨</strong>ï¼šæ”¯æŒ<code>-i</code>æˆ–<code>--immediate</code>å‚æ•°ï¼Œåœ¨é¡¹ç›®åˆ›å»ºå®Œæˆåè‡ªåŠ¨æ‰§è¡Œ<code>pnpm install</code>å’Œ<code>pnpm dev</code>ï¼Œå®ç°â€œåˆ›å»ºå³å¼€å‘â€ã€‚</li>\n</ol>\n<p><strong>ï¼ˆ2ï¼‰create-tona çš„å…³é”®å®ç°</strong></p>\n<p>CLI ä½¿ç”¨<code>@clack/prompts</code>å®ç°äº¤äº’å¼æé—®ï¼Œä½¿ç”¨<code>mri</code>è§£æå‘½ä»¤è¡Œå‚æ•°ï¼Œé€šè¿‡ Node.js çš„<code>fs</code>æ¨¡å—å¤åˆ¶æ¨¡æ¿æ–‡ä»¶ã€‚</p>\n<pre><code class=\"language-typescript\">// packages/create-tona/src/index.ts ï¼ˆç®€åŒ–ç‰ˆï¼‰\nimport fs from 'node:fs'\nimport path from 'node:path'\nimport { fileURLToPath } from 'node:url'\nimport * as prompts from '@clack/prompts'\nimport spawn from 'cross-spawn'\nimport mri from 'mri'\n\nconst argv = mri(process.argv.slice(2), {\n  boolean: ['help', 'overwrite', 'immediate', 'interactive'],\n  alias: { h: 'help', t: 'template', i: 'immediate' },\n  string: ['template'],\n})\n\nasync function init() {\n  // 1. è·å–ç›®æ ‡ç›®å½•ï¼ˆäº¤äº’æˆ–å‚æ•°ï¼‰\n  const targetDir = argv._[0]\n    ? formatTargetDir(String(argv._[0]))\n    : await prompts.text({\n        message: 'Project name:',\n        defaultValue: 'tona-theme',\n      })\n\n  // 2. ç›®å½•å†²çªå¤„ç†\n  if (fs.existsSync(targetDir) &amp;&amp; !isEmpty(targetDir)) {\n    const overwrite = await prompts.select({\n      message: '...',\n      options: ['no', 'yes', 'ignore'],\n    })\n    if (overwrite === 'yes') emptyDir(targetDir)\n  }\n\n  // 3. é€‰æ‹©æ¨¡æ¿ï¼šts / js\n  const template =\n    argv.template ??\n    (await prompts.select({\n      message: 'Select a template:',\n      options: [\n        { label: 'TypeScript', value: 'ts' },\n        { label: 'JavaScript', value: 'js' },\n      ],\n    }))\n\n  // 4. å¤åˆ¶ template-ts æˆ– template-js åˆ°ç›®æ ‡ç›®å½•\n  const __dirname = path.dirname(fileURLToPath(import.meta.url))\n  const templateDir = path.resolve(__dirname, '..', `template-${template}`)\n  copyDir(templateDir, targetDir)\n\n  // 5. æ›´æ–° package.json çš„ name\n  const pkg = JSON.parse(\n    fs.readFileSync(path.join(targetDir, 'package.json'), 'utf-8'),\n  )\n  pkg.name = path.basename(path.resolve(targetDir))\n  fs.writeFileSync(\n    path.join(targetDir, 'package.json'),\n    JSON.stringify(pkg, null, 2),\n  )\n\n  // 6. å¯é€‰ï¼šç«‹å³å®‰è£…å¹¶å¯åŠ¨\n  if (argv.immediate) {\n    spawn.sync(pkgManager, ['install'], { cwd: targetDir })\n    spawn.sync(pkgManager, ['dev'], { cwd: targetDir })\n  }\n}\n</code></pre>\n<p><strong>æ¨¡æ¿ç»“æ„</strong>ï¼šæ¯ä¸ªæ¨¡æ¿åŒ…å«<code>package.json</code>ã€<code>vite.config.mts</code>ã€<code>src/main.ts</code>ã€<code>src/style.css</code>ç­‰ï¼Œå…¶ä¸­<code>vite.config.mts</code>å·²é…ç½®<code>tona-vite</code>æ’ä»¶å’Œ<code>@</code>è·¯å¾„åˆ«åï¼Œ<code>main.ts</code>ä¸ºæ’ä»¶å¼å…¥å£ç¤ºä¾‹ï¼ˆ<code>createTheme().use(myPlugin)</code>ï¼‰ã€‚</p>\n<h2 id=\"5-ç¤ºä¾‹çš®è‚¤å®ç°æ‹†è§£\">5. ç¤ºä¾‹çš®è‚¤å®ç°æ‹†è§£</h2>\n<p><code>tona-theme-shadcn</code>æ˜¯ Tona å†…ç½®çš„<strong>ç»„ä»¶åŒ–æ¨¡å¼</strong>ç¤ºä¾‹çš®è‚¤ï¼Œè¿‘æœŸå¼€å‘å¹¶å‘å¸ƒã€‚é‡‡ç”¨ Preact + Tailwind CSS V4 + shadcn/ui é£æ ¼è®¾è®¡ï¼Œæ˜¯ Tona çš®è‚¤å¼€å‘çš„å®è·µå‚è€ƒã€‚æœ¬èŠ‚ä»é¡¹ç›®ç»“æ„ã€å…¥å£ä¸æ’ä»¶é“¾ã€é¡µé¢è·¯ç”±ã€æ•°æ®è·å–ã€æ ·å¼ä½“ç³»ã€æ„å»ºè¾“å‡ºå…­ä¸ªç»´åº¦æ‹†è§£å…¶å®ç°ï¼Œæˆ‘ä»¬ä¸€èµ·çœ‹çœ‹å¦‚ä½•åŸºäº Tona å¼€å‘é«˜è´¨é‡åšå®¢å›­çš®è‚¤ã€‚</p>\n<h3 id=\"51-é¡¹ç›®ç»“æ„ä¸æŠ€æœ¯æ ˆ\">5.1 é¡¹ç›®ç»“æ„ä¸æŠ€æœ¯æ ˆ</h3>\n<p><code>tona-theme-shadcn</code>é‡‡ç”¨<strong>ç»„ä»¶åŒ– + æ’ä»¶åŒ–</strong>çš„æ··åˆæ¶æ„ï¼šæ ¸å¿ƒ UI ä»¥ Preact ç»„ä»¶å®ç°ï¼Œå¢å¼ºåŠŸèƒ½ä»¥æ’ä»¶å½¢å¼æŒ‚è½½ã€‚ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p>\n<pre><code class=\"language-md\">themes/shadcn/\nâ”œâ”€â”€ src/\nâ”‚ â”œâ”€â”€ main.ts # å…¥å£ï¼šæ’ä»¶é“¾æ³¨å†Œ\nâ”‚ â”œâ”€â”€ styles/ # å…¨å±€æ ·å¼\nâ”‚ â”‚ â”œâ”€â”€ globals.css # Tailwind + shadcn + markdown + theme\nâ”‚ â”‚ â”œâ”€â”€ shadcn/ # shadcn çš®è‚¤å˜é‡ã€ç»„ä»¶æ ·å¼\nâ”‚ â”‚ â”œâ”€â”€ markdown.css # æ–‡ç«  Markdown æ ·å¼\nâ”‚ â”‚ â””â”€â”€ theme.css # çš®è‚¤çš®è‚¤å˜é‡\nâ”‚ â”œâ”€â”€ lib/utils.ts # cn() å·¥å…·å‡½æ•°\nâ”‚ â”œâ”€â”€ components/ui/ # é€šç”¨ UI ç»„ä»¶ï¼ˆButtonã€Separatorã€Sonner ç­‰ï¼‰\nâ”‚ â””â”€â”€ plugins/\nâ”‚ â”œâ”€â”€ app/ # ä¸»åº”ç”¨æ’ä»¶ï¼šPreact æ¸²æŸ“æ•´é¡µ\nâ”‚ â”‚ â”œâ”€â”€ app.tsx # App æ ¹ç»„ä»¶\nâ”‚ â”‚ â”œâ”€â”€ components/ # é¡µé¢çº§ç»„ä»¶\nâ”‚ â”‚ â”‚ â”œâ”€â”€ page/ # è·¯ç”±åˆ†å‘\nâ”‚ â”‚ â”‚ â”œâ”€â”€ home-page/ # é¦–é¡µ\nâ”‚ â”‚ â”‚ â”œâ”€â”€ post-page/ # æ–‡ç« é¡µ\nâ”‚ â”‚ â”‚ â”œâ”€â”€ top-nav-bar/ # é¡¶éƒ¨å¯¼èˆª\nâ”‚ â”‚ â”‚ â”œâ”€â”€ post-comments/ # è¯„è®º\nâ”‚ â”‚ â”‚ â””â”€â”€ ...\nâ”‚ â”‚ â””â”€â”€ hooks/ # ä¸šåŠ¡ hooks\nâ”‚ â”œâ”€â”€ code-copy-button/ # ä»£ç å—å¤åˆ¶ï¼ˆåŸç”Ÿ DOM æ’ä»¶ï¼‰\nâ”‚ â””â”€â”€ smooth-scroll/ # å¹³æ»‘æ»šåŠ¨ï¼ˆåŸç”Ÿ DOM æ’ä»¶ï¼‰\nâ”œâ”€â”€ vite.config.mts\nâ””â”€â”€ package.json\n</code></pre>\n<p><strong>æŠ€æœ¯æ ˆ</strong>ï¼šPreactã€Tailwind CSS V4ã€class-variance-authorityï¼ˆcvaï¼‰ã€clsx + tailwind-mergeï¼ˆcnï¼‰ã€lucide-preactï¼ˆå›¾æ ‡ï¼‰ã€motionï¼ˆåŠ¨ç”»ï¼‰ã€tona-hooksï¼ˆuseQueryDOMï¼‰ã€tona-utilsã€tona-sonnerï¼ˆToastï¼‰ã€‚</p>\n<p>é€šè¿‡ç›®å½•ç»“æ„å¯ä»¥çœ‹åˆ°ï¼Œç”± preact å®ç°çš„éƒ¨åˆ†ï¼ˆçš®è‚¤ä¸»ä½“ï¼‰å‡ ä¹æ˜¯ä¸€ä¸ª SPAï¼Œåªæ˜¯ Tona çš„ä¸€ä¸ªæ’ä»¶ã€‚ä½ å¯ä»¥ä½¿ç”¨ä»»ä½•å‰ç«¯æ¡†æ¶å¼€å‘åšå®¢å›­çš®è‚¤ï¼Œä½†éœ€è¦æƒè¡¡ä½“ç§¯ã€æ˜¯å¦ AI å‹å¥½ã€ç”Ÿæ€ç­‰å› ç´ ã€‚æˆ‘è®¤ä¸º preact æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œæ‰€ä»¥æˆ‘é€‰ç”¨ preact å®ç°äº† tona-theme-shadcn çš®è‚¤ã€‚</p>\n<h3 id=\"52-å…¥å£ä¸æ’ä»¶é“¾\">5.2 å…¥å£ä¸æ’ä»¶é“¾</h3>\n<p>çš®è‚¤å…¥å£é€šè¿‡<code>createTheme().use()</code>ä¸²è”å¤šä¸ªæ’ä»¶ï¼Œå®ç°<strong>æ¸è¿›å¼å¢å¼º</strong>ï¼š</p>\n<pre><code class=\"language-typescript\">// themes/shadcn/src/main.ts\nimport { createTheme } from 'tona'\nimport './styles/globals.css'\nimport { app } from './plugins/app'\nimport { codeCopyButton } from './plugins/code-copy-button'\nimport { smoothScroll } from './plugins/smooth-scroll'\n\ncreateTheme().use(app).use(smoothScroll).use(codeCopyButton)\n</code></pre>\n<ul>\n<li><strong>app</strong>ï¼šPreact æ¸²æŸ“æ ¸å¿ƒï¼Œå°†æ•´é¡µ UI ä»¥<code>document.body.prepend(frag)</code>æ³¨å…¥ï¼Œè¦†ç›–åšå®¢å›­åŸç”Ÿå¸ƒå±€ï¼›</li>\n<li><strong>smoothScroll</strong>ï¼šè®¾ç½®<code>scrollBehavior</code>ï¼›</li>\n<li><strong>codeCopyButton</strong>ï¼šä¸ºä»£ç å—æ·»åŠ å¤åˆ¶æŒ‰é’®ï¼Œçº¯ DOM æ“ä½œã€‚</li>\n</ul>\n<p><code>app</code>æ’ä»¶çš„å®ç°æ–¹å¼ä½“ç°äº†<strong>ç»„ä»¶åŒ–</strong>ä¸<strong>æ¨¡æ¿æ³¨å…¥</strong>çš„ç»“åˆï¼šå°† Preact åº”ç”¨æŒ‚è½½åˆ°<code>DocumentFragment</code>ï¼Œå†æ’å…¥åˆ°<code>body</code>é¡¶éƒ¨ï¼Œä»è€Œåœ¨åšå®¢å›­æ¨¡æ¿ä¹‹ä¸Šå åŠ ç°ä»£åŒ– UIã€‚</p>\n<h3 id=\"53-é¡µé¢è·¯ç”±ä¸ç»„ä»¶å¤ç”¨\">5.3 é¡µé¢è·¯ç”±ä¸ç»„ä»¶å¤ç”¨</h3>\n<p>åšå®¢å›­ä¸åŒé¡µé¢ï¼ˆé¦–é¡µã€æ–‡ç« é¡µã€åˆ†ç±»é¡µç­‰ï¼‰å¯¹åº”ä¸åŒçš„ DOM ç»“æ„ï¼Œshadcn é€šè¿‡<code>tona-utils</code>çš„<code>getCurrentPage()</code>è¯†åˆ«å½“å‰é¡µé¢ç±»å‹ï¼Œå†åœ¨<code>Page</code>ç»„ä»¶ä¸­åšè·¯ç”±åˆ†å‘ï¼š</p>\n<pre><code class=\"language-typescript\">// themes/shadcn/src/plugins/app/components/page/index.tsx\nimport { getCurrentPage } from 'tona-utils'\nimport { HomePage } from '../home-page'\nimport { PostPage } from '../post-page'\n\nexport function Page() {\n  const currentPage = getCurrentPage()\n\n  if (currentPage === 'home') return &lt;HomePage /&gt;\n  if (currentPage === 'post') return &lt;PostPage /&gt;\n  return null\n}\n</code></pre>\n<p>å¦‚æœä½ çš„çš®è‚¤æ¯”è¾ƒå¤æ‚ï¼Œç”šè‡³å¯ä»¥åšä»£ç æ‹†åˆ†ï¼Œåœ¨ä¸åŒåšå®¢é¡µé¢æŒ‰éœ€åŠ è½½èµ„æºã€‚</p>\n<h3 id=\"54-æ•°æ®è·å–ä¸-dom-é€‚é…usequerydom-å®æˆ˜\">5.4 æ•°æ®è·å–ä¸ DOM é€‚é…ï¼šuseQueryDOM å®æˆ˜</h3>\n<p>åšå®¢å›­é¡µé¢ DOM ç”±æœåŠ¡ç«¯æ¸²æŸ“ï¼Œç»“æ„å›ºå®šä½†å†…å®¹åŠ¨æ€ã€‚shadcn çš®è‚¤ä½¿ç”¨<code>tona-hooks</code>çš„<code>useQueryDOM</code>ï¼Œä» DOM ä¸­æå–æ•°æ®å¹¶é©±åŠ¨ Preact ç»„ä»¶æ¸²æŸ“ã€‚</p>\n<p><strong>ç¤ºä¾‹ä¸€ï¼šæ–‡ç« åˆ—è¡¨</strong>ã€‚é¦–é¡µçš„<code>.forFlow</code>å†…åŒ…å«æŒ‰æ—¥æœŸåˆ†ç»„çš„æ–‡ç« åˆ—è¡¨ï¼Œ<code>usePostList</code>é€šè¿‡<code>queryFn</code>è§£æå‡ºæ¯ç¯‡æ–‡ç« çš„æ ‡é¢˜ã€é“¾æ¥ã€æ—¶é—´ã€æµè§ˆ/è¯„è®º/æ¨èæ•°ç­‰ï¼š</p>\n<pre><code class=\"language-typescript\">// themes/shadcn/src/plugins/app/components/home-page/post-list/hooks.ts\nexport function usePostList() {\n  return useQueryDOM({\n    selector: '.forFlow',\n    observe: true,\n    queryFn: (el) =&gt; {\n      const items: PostItem[] = []\n      const dayElements = el?.querySelectorAll('.day') ?? []\n      dayElements.forEach((dayEl) =&gt; {\n        // è§£æ .dayTitleã€.postTitleã€.postConã€.postDesc ç­‰\n        // æå– titleã€hrefã€dateã€viewCountã€commentCountã€diggCount...\n        items.push({ date, title, href, description, ... })\n      })\n      return items\n    },\n  })\n}\n</code></pre>\n<p><strong>ç¤ºä¾‹äºŒï¼šæ–‡ç« æ ‡é¢˜ä¸å…ƒä¿¡æ¯</strong>ã€‚æ–‡ç« é¡µé€šè¿‡<code>#cb_post_title_url</code>ã€<code>#cnblogs_post_body</code>ç­‰é€‰æ‹©å™¨è·å–æ ‡é¢˜ HTMLã€å‘å¸ƒæ—¥æœŸã€é˜…è¯»æ—¶é—´ç­‰ï¼š</p>\n<pre><code class=\"language-typescript\">// themes/shadcn/src/plugins/app/components/post-hero/hooks.ts\nexport function usePostTitle() {\n  return useQueryDOM({\n    selector: '#cb_post_title_url',\n    queryFn: (el) =&gt; el?.querySelector('[role=\"heading\"]')?.innerHTML ?? '',\n  })\n}\n\nexport function usePostInfo() {\n  return useQueryDOM({\n    selector: '#cnblogs_post_body',\n    observe: true,\n    queryFn: (el) =&gt; ({\n      publishTime: getCurrentPostDateAdded(),\n      readingTime: calculateReadingTime(el?.textContent ?? ''),\n      updateTime: null,\n    }),\n  })\n}\n</code></pre>\n<p><code>observe: true</code>æ—¶ï¼Œ<code>useQueryDOM</code>å†…éƒ¨ä½¿ç”¨<code>MutationObserver</code>ç›‘å¬ DOM å˜åŒ–ï¼Œåœ¨åšå®¢å›­ AJAX æ›´æ–°å†…å®¹åè‡ªåŠ¨é‡æ–°æŸ¥è¯¢ï¼Œä¿è¯æ•°æ®ä¸è§†å›¾åŒæ­¥ã€‚</p>\n<p><strong>ç¤ºä¾‹ä¸‰ï¼šæ–‡ç« å†…å®¹â€œæ¬è¿â€</strong>ã€‚<code>PostDetails</code>ç»„ä»¶ä¸é‡æ–°æ¸²æŸ“åšå®¢å›­æ–‡ç«  bodyï¼Œè€Œæ˜¯é€šè¿‡<code>appendChild</code>å°†<code>#cnblogs_post_body</code>è¿ç§»åˆ° Preact æ¸²æŸ“çš„å®¹å™¨å†…ï¼Œåœ¨ä¿ç•™åšå®¢å›­åŸç”Ÿ Markdown æ¸²æŸ“æ•ˆæœçš„åŒæ—¶ï¼Œå®ç°ä¸çš®è‚¤å¸ƒå±€çš„æ— ç¼èåˆã€‚</p>\n<h3 id=\"55-æ ·å¼ä½“ç³»tailwind--shadcn--çš®è‚¤å˜é‡\">5.5 æ ·å¼ä½“ç³»ï¼šTailwind + shadcn + çš®è‚¤å˜é‡</h3>\n<p>shadcn çš„æ ·å¼é‡‡ç”¨<strong>åˆ†å±‚å¯¼å…¥</strong>ï¼š</p>\n<pre><code class=\"language-css\">/* themes/shadcn/src/styles/globals.css */\n@import 'tailwindcss' source('../../src');\n@import 'tw-animate-css';\n@import './shadcn/index.css';\n@import './markdown.css';\n@import './theme.css';\n@import './reset.css';\n</code></pre>\n<ul>\n<li><strong>Tailwind</strong>ï¼šå·¥å…·ç±»ä¸»ä½“ï¼Œ<code>source()</code> æŒ‡å‘ <code>src</code> ä»¥æ”¯æŒ <code>@theme</code> ç­‰é…ç½®ï¼›</li>\n<li><strong>tw-animate-css</strong>ï¼šé¢„è®¾åŠ¨ç”»ï¼›</li>\n<li><strong>shadcn</strong>ï¼šCSS å˜é‡ï¼ˆ<code>--background</code>ã€<code>--foreground</code>ã€<code>--primary</code> ç­‰ï¼‰ã€ç»„ä»¶æ ·å¼ï¼›</li>\n<li><strong>markdown</strong>ï¼šæ–‡ç« å†…å®¹ Markdown æ¸²æŸ“æ ·å¼ï¼›</li>\n<li><strong>theme</strong>ï¼šçš®è‚¤çº§çš®è‚¤å˜é‡ï¼›</li>\n<li><strong>reset</strong>ï¼šåŸºç¡€é‡ç½®ã€‚</li>\n</ul>\n<p>ç»„ä»¶ä½¿ç”¨<code>cva</code>ç®¡ç†æ ·å¼å˜ä½“ï¼Œ<code>cn()</code>åˆå¹¶ç±»åï¼š</p>\n<pre><code class=\"language-typescript\">// themes/shadcn/src/components/ui/button.tsx\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center rounded-md font-medium ...\",\n  {\n    variants: {\n      variant: { default: '...', outline: '...', ghost: '...' },\n      size: { default: '...', sm: '...', icon: '...' },\n    },\n    defaultVariants: { variant: 'default', size: 'default' },\n  },\n)\n\nfunction Button({ variant, size, className, ...props }) {\n  return &lt;slot className={cn(buttonVariants({ variant, size }), className)} {...props} /&gt;\n}\n</code></pre>\n<p>æš—è‰²æ¨¡å¼é€šè¿‡<code>dark:</code>å‰ç¼€å’Œ CSS å˜é‡åˆ‡æ¢å®ç°ï¼Œæ»¡è¶³ AGENTS.md ä¸­çš„çš®è‚¤è§„èŒƒã€‚</p>\n<h3 id=\"56-æ„å»ºä¸è¾“å‡º\">5.6 æ„å»ºä¸è¾“å‡º</h3>\n<p>Vite é…ç½®å°†çš®è‚¤æ‰“åŒ…ä¸º<strong>å•æ–‡ä»¶ IIFE</strong>ï¼Œä¾¿äºåšå®¢å›­ã€Œé¡µè„š HTML ä»£ç ã€ã€Œè‡ªå®šä¹‰ JS è„šæœ¬ã€ç­‰å…¥å£å¼•å…¥ï¼š</p>\n<pre><code class=\"language-typescript\">// themes/shadcn/vite.config.mtsï¼ˆèŠ‚é€‰ï¼‰\nbuild: {\n  lib: {\n    formats: ['iife'],\n    entry: resolve(__dirname, 'src/main.ts'),\n    name: 'shadcn',\n    fileName: () =&gt; 'shadcn.js',\n  },\n  cssCodeSplit: false,\n  rollupOptions: {\n    output: { assetFileNames: 'shadcn.[ext]' },\n  },\n}\n</code></pre>\n<p>æ„å»ºäº§ç‰©ä¸º<code>dist/shadcn.js</code>å’Œ<code>dist/shadcn.css</code>ï¼Œç”¨æˆ·å°†ä¸¤è€…å¼•å…¥åšå®¢å›­åå°å³å¯ä½¿ç”¨ã€‚</p>\n<hr />\n<p>é€šè¿‡æœ¬èŠ‚æ‹†è§£ï¼Œå¯ä»¥çœ‹åˆ° tona-theme-shadcn å¦‚ä½•å°†<strong>Tona æ ¸å¿ƒåŒ…</strong>ï¼ˆtona-viteã€tona-hooksã€tona-utilsï¼‰ã€<strong>Preact ç»„ä»¶åŒ–</strong>ã€<strong>Tailwind æ ·å¼ä½“ç³»</strong>ä¸<strong>åšå®¢å›­ DOM ç»“æ„</strong>æœ‰æœºç»“åˆï¼Œå½¢æˆä¸€å¥—å¯ç»´æŠ¤ã€å¯æ‰©å±•çš„çš®è‚¤å®ç°èŒƒå¼ï¼Œä¸º AI æä¾›äº†æ¸…æ™°çš„å‚è€ƒæ¨¡æ¿ã€‚</p>\n<p>é¡ºä¾¿ä¸€æï¼Œè¯„è®ºåˆ—è¡¨ä½œä¸ºè¿™ä¸ªçš®è‚¤çš„æœ€å¤æ‚çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œæ ·å¼å’ŒåŠŸèƒ½éƒ½å®Œå…¨ç”± AI å®ç°ã€‚</p>\n<h2 id=\"6-æœ€å\">6. æœ€å</h2>\n<p>æ¬¢è¿ä½¿ç”¨çš®è‚¤ï¼Œä¹Ÿæ¬¢è¿å°è¯•ä½¿ç”¨ Tona äº²æ‰‹æ„å»ºä¸€æ¬¾çš®è‚¤ã€‚ä¸å¦¨ç”¨<code>pnpm create tona</code>å¿«é€Ÿåˆå§‹åŒ–ä¸€ä¸ªçš®è‚¤é¡¹ç›®ï¼Œæ„Ÿå—æœ¬åœ°çƒ­æ›´æ–°ã€TypeScript ä¸ Tailwind å¸¦æ¥çš„å¼€å‘æ•ˆç‡ï¼Œè®© AI åƒå¼€å‘æ™®é€šå‰ç«¯é¡µé¢é‚£æ ·å¼€å‘åšå®¢å›­çš®è‚¤ã€‚ä¹Ÿå¯ä»¥å°† Tona ä»“åº“ä¸­çš„æ¨¡æ¿ã€æ ¸å¿ƒåŒ…ä¸ç¤ºä¾‹çš®è‚¤ä½œä¸ºä¸Šä¸‹æ–‡ï¼Œç”Ÿæˆé«˜è´¨é‡çš„çš®è‚¤ä»£ç ã€‚</p>\n<p>Tona æ˜¯å¼€æºé¡¹ç›®ï¼Œæ‰˜ç®¡äº <a href=\"https://github.com/guangzan/tona\" rel=\"noopener nofollow\" target=\"_blank\">GitHub</a>ã€‚æ¬¢è¿ ğŸŒŸã€æäº¤ Issueã€å‚ä¸è®¨è®ºæˆ–è´¡çŒ®ä»£ç ï¼Œä¸€èµ·æ¨åŠ¨åšå®¢å›­çš®è‚¤å¼€å‘çš„ç°ä»£åŒ–ä¸ AI åŒ–ã€‚</p>\n<h2 id=\"7-å‚è€ƒèµ„æ–™\">7. å‚è€ƒèµ„æ–™</h2>\n<ul>\n<li><a href=\"https://github.com/guangzan/tona\" rel=\"noopener nofollow\" target=\"_blank\">gitHub/tona</a></li>\n<li><a href=\"https://www.yuque.com/r/awescnb/books\" rel=\"noopener nofollow\" target=\"_blank\">ä½¿ç”¨çš®è‚¤</a></li>\n<li><a href=\"https://www.cnblogs.com/guangzan/p/19585389\" target=\"_blank\">shadcn çš®è‚¤ä¸Šçº¿</a></li>\n</ul>\n\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-02-13 10:56</span>&nbsp;\n<a href=\"https://www.cnblogs.com/guangzan\">guangzan</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">85</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">1</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    }
  ]
}