{
  "title": "ä¸»é¡µ - åšå®¢å›­",
  "link": "https://www.cnblogs.com/",
  "description": "ä¸»é¡µ - åšå®¢å›­ RSS",
  "entries": [
    {
      "title": "Solon AI Skills ä¼šæ˜¯ Agent çš„æœªæ¥å—ï¼Ÿ",
      "link": "https://www.cnblogs.com/noear/p/19514346",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/noear/p/19514346\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-21 23:31\">\n    <span>Solon AI Skills ä¼šæ˜¯ Agent çš„æœªæ¥å—ï¼Ÿ</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                    <div id=\"cnblogs_post_description\" style=\"display: none;\">\n        \n        åœ¨ AI Agent ä»â€œå¯¹è¯ç©å…·â€èµ°å‘â€œå·¥ä¸šçº§åŸºç¡€è®¾æ–½â€çš„è¿‡ç¨‹ä¸­ï¼Œå¼€å‘è€…é¢ä¸´çš„æ ¸å¿ƒçŸ›ç›¾å·²ä¸å†æ˜¯æ¨¡å‹æ™ºåŠ›ï¼Œè€Œæ˜¯å·¥ç¨‹çº¦æŸçš„ç¼ºå¤±ã€‚\n    </div>\n<div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<p>åœ¨ AI Agent ä»â€œå¯¹è¯ç©å…·â€èµ°å‘â€œå·¥ä¸šçº§åŸºç¡€è®¾æ–½â€çš„è¿‡ç¨‹ä¸­ï¼Œå¼€å‘è€…é¢ä¸´çš„æ ¸å¿ƒçŸ›ç›¾å·²ä¸å†æ˜¯æ¨¡å‹æ™ºåŠ›ï¼Œè€Œæ˜¯å·¥ç¨‹çº¦æŸçš„ç¼ºå¤±ã€‚</p>\n<p>å¦‚æœåªç»™æ¨¡å‹å †ç Œæ•£ä¹±çš„ Toolï¼ˆå‡½æ•°ï¼‰ï¼Œå®ƒå°±åƒä¸€ä¸ªæ‹¿ç€æ‰‹æœ¯åˆ€å´æœªå—è¿‡åŒ»å­¦è®­ç»ƒçš„å­©å­ã€‚Solon AI Skills çš„å‡ºç°ï¼Œæ ‡å¿—ç€ AI å¼€å‘ä»â€œæ··æ²Œé›†æˆâ€èµ°å‘äº† <strong>â€œèƒ½åŠ›å†…åŒ–â€</strong> ï¼Œå®ƒä¸º Agent æ³¨å…¥äº†çœŸæ­£å¯è½åœ°çš„â€œèŒä¸šç´ å…»â€ã€‚</p>\n<p>Solon AI Skillsï¼ˆæŠ€èƒ½ï¼‰ã€‚æ¦‚å¿µåŸå‹å‚è€ƒäº† Claude Code Agent Skills çš„è®¾è®¡æ€æƒ³ï¼šé€šè¿‡ç»“æ„åŒ–çš„å®šä¹‰ï¼ˆå…ƒæ•°æ®ã€æŒ‡ä»¤/SOPã€è„šæœ¬/å·¥å…·ï¼‰èµ‹äºˆ Agent ç‰¹å®šé¢†åŸŸçš„ä¸“å®¶èƒ½åŠ›ã€‚</p>\n<h2 id=\"ä¸€-é‡æ–°å®šä¹‰-skillä»é›¶ä»¶è£…é…åˆ°è½¯ä»¶å®šä¹‰èƒ½åŠ›\">ä¸€ã€ é‡æ–°å®šä¹‰ Skillï¼šä»â€œé›¶ä»¶è£…é…â€åˆ°â€œè½¯ä»¶å®šä¹‰èƒ½åŠ›â€</h2>\n<p>Solon AI Skills å€Ÿé‰´äº† DDDï¼ˆé¢†åŸŸé©±åŠ¨è®¾è®¡ï¼‰ çš„æ€æƒ³ï¼Œè®¤ä¸ºä¸€ä¸ª Skill ç»ä¸ä»…æ˜¯ API çš„ç®€å•å°è£…ï¼Œè€Œæ˜¯ä¸€ä¸ªè‡ªæ²»çš„è¯­ä¹‰ä¸Šä¸‹æ–‡ã€‚</p>\n<ol>\n<li><strong>Metadataï¼ˆèº«ä»½è¯†åˆ«ï¼‰ï¼š</strong> å®šä¹‰èƒ½åŠ›çš„è¾¹ç•Œï¼Œè§£å†³â€œæˆ‘æ˜¯è°â€çš„é—®é¢˜ã€‚</li>\n<li><strong>Admissionï¼ˆå‡†å…¥æ§åˆ¶ï¼‰ï¼š</strong> å€Ÿé‰´è½¯ä»¶å®šä¹‰æƒé™ï¼ˆSDPï¼‰ï¼ŒåŠ¨æ€å†³å®šèƒ½åŠ›çš„å¯è§æ€§ï¼Œè§£å†³â€œè¯¥ä¸è¯¥ç”¨â€çš„é—®é¢˜ã€‚</li>\n<li><strong>Instructionï¼ˆè¯­ä¹‰çµé­‚ï¼‰ï¼š</strong> æ³¨å…¥ SOPï¼ˆæ ‡å‡†ä½œä¸šç¨‹åºï¼‰ï¼Œè§£å†³â€œæ€ä¹ˆæ­£ç¡®åšâ€çš„é—®é¢˜ã€‚</li>\n<li><strong>Toolsï¼ˆç‰©ç†è‚Œè‚‰ï¼‰ï¼š</strong> é…å¤‡åŸå­åŒ–çš„æ‰§è¡Œæ‰‹æ®µï¼Œè§£å†³â€œæ‹¿ä»€ä¹ˆåšâ€çš„é—®é¢˜ã€‚</li>\n</ol>\n<h2 id=\"äºŒ-æ ¸å¿ƒä»·å€¼è§£å†³å·¥ä¸šçº§-agent-çš„å››å¤§ç—›ç‚¹\">äºŒã€ æ ¸å¿ƒä»·å€¼ï¼šè§£å†³å·¥ä¸šçº§ Agent çš„å››å¤§ç—›ç‚¹</h2>\n<h3 id=\"1-é€»è¾‘é—­ç¯è®©æ¨¡å‹å…ˆæƒ³ååšæŒ‰è§„çŸ©åš\">1. é€»è¾‘é—­ç¯ï¼šè®©æ¨¡å‹â€œå…ˆæƒ³ååšï¼ŒæŒ‰è§„çŸ©åšâ€</h3>\n<p>å•çº¯çš„ Tool æ— æ³•è‡ªæˆ‘çº¦æŸã€‚é€šè¿‡ Skill.getInstruction()ï¼Œå¼€å‘è€…å¯ä»¥å°†è¡Œä¸šæ ‡å‡†ã€åˆè§„è¦æ±‚ç›´æ¥è½¬åŒ–ä¸ºæ¨¡å‹çš„â€œå‡ºå‚è®¾ç½®â€ã€‚</p>\n<ul>\n<li><strong>æ¶æ„å‡çº§ï¼š</strong> è¿™å®ç°äº†ä»â€œæ¨¡å‹è‡ªä¸»å‘æŒ¥â€åˆ° <strong>â€œè§„çº¦é©±åŠ¨æ‰§è¡Œâ€</strong> çš„è½¬å˜ã€‚</li>\n<li><strong>åœºæ™¯æ¡ˆä¾‹ï¼š</strong> ä¸€ä¸ªâ€œæ•°æ®åº“è¿ç§»æŠ€èƒ½â€ã€‚\n<ul>\n<li>Tool æ¨¡å¼ï¼šæ¨¡å‹ç›´æ¥è°ƒç”¨ drop_tableï¼Œå¯èƒ½å¯¼è‡´ç¾éš¾ã€‚</li>\n<li>Skill æ¨¡å¼ï¼šSkill æŒ‡ä»¤å¼ºåˆ¶è¦æ±‚ï¼šâ€œåœ¨æ‰§è¡Œä»»ä½•åˆ é™¤æ“ä½œå‰ï¼Œå¿…é¡»å…ˆè°ƒç”¨ backup_tableï¼Œå¹¶åœ¨æ§åˆ¶å°è¾“å‡ºå½±å“è¯„ä¼°æŠ¥å‘Šï¼Œç­‰å¾…ç”¨æˆ·ç¡®è®¤ã€‚â€</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"2-åŠ¨æ€æ‹“æ‰‘è§£å†³ä¸Šä¸‹æ–‡è†¨èƒ€ä¸æ³¨æ„åŠ›ç¾éš¾\">2. åŠ¨æ€æ‹“æ‰‘ï¼šè§£å†³â€œä¸Šä¸‹æ–‡è†¨èƒ€â€ä¸æ³¨æ„åŠ›ç¾éš¾</h3>\n<p>å¤§æ¨¡å‹çš„ä¸Šä¸‹æ–‡ï¼ˆContext Windowï¼‰ä¸ä»…æ˜‚è´µï¼Œä¸”å­˜åœ¨â€œä¸­é—´ä¸¢å¤±â€æ•ˆåº”ã€‚å…¨é‡åŠ è½½å·¥å…·ä¼šå¯¼è‡´æ¨¡å‹è®¤çŸ¥è½½è·è¿‡å¤§ï¼Œäº§ç”Ÿä¸¥é‡çš„ä»»åŠ¡å¹»è§‰ã€‚</p>\n<ul>\n<li><strong>Skill æ–¹æ¡ˆï¼š</strong> åŸºäºè¯­ä¹‰è§¦å‘çš„åŠ¨æ€æŒ‚è½½æŠ€æœ¯ã€‚</li>\n<li><strong>å·¥ç¨‹ä»·å€¼ï¼š</strong> åˆ©ç”¨ isSupported æ¥å£ï¼Œç³»ç»Ÿä»…åœ¨ç‰¹å®šæ„å›¾ä¸­æ¿€æ´»ç›¸å…³ Skillã€‚è¿™ç§ <strong>â€œæŒ‰éœ€åŠ è½½â€</strong> æ¨¡å¼æå¤§åœ°æå‡äº† Token åˆ©ç”¨ç‡ï¼Œç¡®ä¿æ¨¡å‹åœ¨ä¸“æ³¨çš„è¯­ä¹‰åœºä¸­è¿›è¡Œé«˜ç²¾åº¦å†³ç­–ã€‚</li>\n</ul>\n<p>å½“ç”¨æˆ·è¯´â€œå¸®æˆ‘åˆ†æè¿™ä»½è´¢åŠ¡æŠ¥è¡¨â€æ—¶ï¼Œç³»ç»Ÿåªæ¿€æ´» FinanceSkillã€‚æ­¤æ—¶ï¼Œåªæœ‰ç›¸å…³çš„ä¸“ä¸šæŒ‡ä»¤å’Œå·¥å…·ä¼šè¢«æ³¨å…¥ System Messageï¼Œä¿æŒå¤§è„‘æ¸…çˆ½ï¼Œå†³ç­–ç²¾å‡†ã€‚</p>\n<h3 id=\"3-èƒ½åŠ›æŸ“è‰²å¯¹é½-mcpæ¨¡å‹ä¸Šä¸‹æ–‡åè®®æ ‡å‡†\">3. èƒ½åŠ›æŸ“è‰²ï¼šå¯¹é½ MCPï¼ˆæ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼‰æ ‡å‡†</h3>\n<p>Solon AI å¯¹ Skill ä¸‹å±å·¥å…·è¿›è¡Œçš„â€œæŸ“è‰²â€å¤„ç†ï¼Œæœ¬è´¨ä¸Šæ˜¯åœ¨æ„å»ºä¸€å¥—ç»“æ„åŒ–çš„çŸ¥è¯†å›¾è°±ã€‚</p>\n<ul>\n<li><strong>å®è§‚å¼•å¯¼ï¼š</strong> è¿™ä¸ä¸šç•Œå‰æ²¿çš„ MCPï¼ˆModel Context Protocolï¼‰ æ€æƒ³ä¸è°‹è€Œåˆã€‚å·¥å…·ä¸å†æ˜¯æ‰å¹³çš„ï¼Œè€Œæ˜¯åˆ†å±‚çš„ã€å…·å¤‡ä¸Šä¸‹æ–‡äº²ç¼˜æ€§çš„ã€‚</li>\n<li><strong>å·¥ç¨‹æ„ä¹‰ï¼š</strong> æ¨¡å‹æ„ŸçŸ¥åˆ°çš„æ˜¯â€œä¸“å®¶ç»„â€è€Œéâ€œå·¥å…·åº“â€ï¼Œè¿™ç§æ¶æ„è®© Agent å…·å¤‡äº†å¤„ç†å¤æ‚ã€å¤šé˜¶æ®µä»»åŠ¡çš„å®è§‚ç¼–æ’èƒ½åŠ›ã€‚</li>\n</ul>\n<h3 id=\"4-æœ‰çŠ¶æ€æ²»ç†ä¸ä¼ä¸šçº§ä¸šåŠ¡æ·±åº¦å¯¹é½\">4. æœ‰çŠ¶æ€æ²»ç†ï¼šä¸ä¼ä¸šçº§ä¸šåŠ¡æ·±åº¦å¯¹é½</h3>\n<p>é€šè¿‡ onAttach ç”Ÿå‘½å‘¨æœŸé’©å­ï¼ŒSkill å®ç°äº†ä¸ä¼ä¸šç°æœ‰ä¸­é—´ä»¶ï¼ˆå¦‚ Authã€Sessionã€Tracingï¼‰çš„æ— ç¼æŒ‚è½½ã€‚</p>\n<ul>\n<li><strong>SDP å®è·µï¼š</strong> åœ¨æŠ€èƒ½æ¿€æ´»ç¬æ—¶æ³¨å…¥ç¯å¢ƒæŒ‡çº¹ï¼ˆå¦‚å•†å®¶ IDã€ç¯å¢ƒæ ‡ç­¾ï¼‰ã€‚è¿™æ„å‘³ç€ AI åœ¨è°ƒç”¨å·¥å…·æ—¶ï¼Œå…¶åº•å±‚æƒé™å·²ç”± Skill é¢„è®¾å®Œæˆï¼Œå®ç°äº†å®‰å…¨èƒ½åŠ›çš„è‡ªåŠ¨å¯¹é½ã€‚</li>\n<li><strong>åº”ç”¨åœºæ™¯ï¼š</strong> æ¯”å¦‚åœ¨æ¿€æ´»â€œè®¢å•æŸ¥è¯¢æŠ€èƒ½â€æ—¶ï¼Œè‡ªåŠ¨ä» Session ä¸­æå–å½“å‰ç™»å½•çš„å•†å®¶ ID æ³¨å…¥ä¸Šä¸‹æ–‡ï¼Œç¡®ä¿æ¨¡å‹è°ƒç”¨çš„æ‰€æœ‰å·¥å…·éƒ½è‡ªå¸¦æƒé™éš”ç¦»ï¼Œæ— éœ€åœ¨æ¯ä¸ª Prompt é‡Œåå¤äº¤ä»£ã€‚</li>\n</ul>\n<h2 id=\"ä¸‰-å®æˆ˜æ¼”ç»ƒå®šä¹‰ä¸€ä¸ªå…·å¤‡èŒä¸šæ“å®ˆçš„ä¸“å®¶\">ä¸‰ã€ å®æˆ˜æ¼”ç»ƒï¼šå®šä¹‰ä¸€ä¸ªå…·å¤‡â€œèŒä¸šæ“å®ˆâ€çš„ä¸“å®¶</h2>\n<pre><code class=\"language-java\">public class FinancialAuditSkill implements Skill {\n    @Override\n    public String name() { return \"è´¢åŠ¡ç¨½æ ¸ä¸“å®¶\"; }\n\n    @Override\n    public boolean isSupported(ChatPrompt prompt) {\n        // è¯­ä¹‰è§¦å‘ï¼šä»…åœ¨å¤„ç†è´¢åŠ¡æ•æ„Ÿæ•°æ®æ—¶å”¤é†’\n        return prompt.lastContent().matches(\".*(é’±|å‘ç¥¨|æŠ¥é”€|è´¦å•).*\");\n    }\n\n    @Override\n    public String getInstruction(ChatPrompt prompt) {\n        // æ³¨å…¥ SOPï¼šå®ç°â€œèƒ½åŠ›å†…åŒ–â€\n        return \"ä½ ç°åœ¨æ˜¯è´¢åŠ¡ç¨½æ ¸ä¸“å®¶ã€‚åœ¨è°ƒç”¨æŸ¥è¯¢å·¥å…·åï¼Œå¿…é¡»éµå¾ªã€Šä¼ä¸šå†…æ§å‡†åˆ™ã€‹è¿›è¡Œæ¯”å¯¹ï¼Œä¸¥ç¦è·³è¿‡åˆè§„æ€§æ£€æŸ¥ã€‚\";\n    }\n\n    @Override\n    public Collection&lt;FunctionTool&gt; getTools() {\n        // æ³¨å…¥å—æ§çš„æ‰§è¡Œå•ä½\n        return Arrays.asList(new InvoiceVerifyTool(), new BudgetQueryTool());\n    }\n}\n</code></pre>\n<h2 id=\"å››-æ€»ç»“ä¸ºä»€ä¹ˆ-solon-ai-skills-æ˜¯æœªæ¥\">å››ã€ æ€»ç»“ï¼šä¸ºä»€ä¹ˆ Solon AI Skills æ˜¯æœªæ¥ï¼Ÿ</h2>\n<table>\n<thead>\n<tr>\n<th>ç»´åº¦</th>\n<th>ä¼ ç»Ÿ Tool æ¨¡å¼</th>\n<th>Solon AI Skill æ¨¡å¼</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>é›†æˆæ·±åº¦</td>\n<td>æµ…å±‚æ¥å£è°ƒç”¨</td>\n<td>æ·±åº¦è¡Œä¸ºè§„çº¦</td>\n</tr>\n<tr>\n<td>ToKen æ¶ˆè€—</td>\n<td>é™æ€åŠ è½½ï¼Œæµªè´¹ Token</td>\n<td>åŠ¨æ€å‡†å…¥ï¼ŒæŒ‰éœ€æ¶ˆè€—ï¼ˆå®ç°ä¸Šä¸‹æ–‡æç®€ï¼‰</td>\n</tr>\n<tr>\n<td>å®‰å…¨æ€§</td>\n<td>é€»è¾‘æ•£ä¹±ï¼Œéš¾ä»¥å®¡è®¡</td>\n<td>ç»“æ„åŒ–æŸ“è‰²ï¼Œæ”¯æŒè‡ªåŠ¨åŒ–å®¡è®¡</td>\n</tr>\n<tr>\n<td>å¤ç”¨æ€§</td>\n<td>å·®ï¼ŒPrompt éš¾ä»¥è·¨é¡¹ç›®è¿ç§»</td>\n<td>å¼ºï¼Œæ”¯æŒä»¥ç»„ä»¶ï¼ˆJarï¼‰å½¢å¼åˆ†å‘èƒ½åŠ›</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"äº”-ç»“è¯­è®©-agent-å…·å¤‡å·¥ç¨‹ç´ å…»\">äº”ã€ ç»“è¯­ï¼šè®© Agent å…·å¤‡â€œå·¥ç¨‹ç´ å…»â€</h2>\n<p>Solon AI Skills çš„æ ¸å¿ƒå“²å­¦æ˜¯ â€œè®© AI åƒäººç±»ä¸“å®¶ä¸€æ ·åˆ†å·¥åä½œâ€ã€‚å®ƒå°†æ•£ä¹±çš„ Prompt å·¥ç¨‹è½¬åŒ–ä¸ºå¯é¢„æµ‹ã€å¯ç»´æŠ¤çš„èƒ½åŠ›å·¥ç¨‹ã€‚</p>\n<p>åœ¨ Solon AI ä½“ç³»ä¸‹ï¼Œå¼€å‘è€…ç¼–å†™çš„ä¸ä»…æ˜¯ä»£ç ï¼Œæ›´æ˜¯ <strong>â€œè½¯ä»¶å®šä¹‰çš„èƒ½åŠ›ï¼ˆSoftware-Defined Capabilitiesï¼‰â€</strong> ã€‚å¦‚æœè¯´å¤§æ¨¡å‹æ˜¯ Agent çš„å¼•æ“ï¼Œé‚£ä¹ˆ Skills ä½“ç³»å°±æ˜¯å®ƒçš„å¯¼èˆªä»ªå’Œæ“ä½œè§„ç¨‹ã€‚è¿™ä¸ä»…æ˜¯å¼€å‘èŒƒå¼çš„è½¬å˜ï¼Œæ›´æ˜¯é€šå¾€å·¥ä¸šçº§ Agent çš„å¿…ç»ä¹‹è·¯ã€‚</p>\n<p>GitHub åœ°å€ï¼š <a href=\"https://github.com/opensolon/solon-ai\" rel=\"noopener nofollow\" target=\"_blank\">https://github.com/opensolon/solon-ai</a></p>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-21 23:31</span>&nbsp;\n<a href=\"https://www.cnblogs.com/noear\">å¸¦åˆºçš„åæ¤…</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">0</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "AspNetCoreå¼€å‘ç¬”è®°ï¼šWebApié¡¹ç›®é›†æˆä¼ä¸šå¾®ä¿¡å’Œå…¬ä¼—å·",
      "link": "https://www.cnblogs.com/deali/p/19514332",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/deali/p/19514332\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-21 23:16\">\n    <span>AspNetCoreå¼€å‘ç¬”è®°ï¼šWebApié¡¹ç›®é›†æˆä¼ä¸šå¾®ä¿¡å’Œå…¬ä¼—å·</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h2 id=\"å‰è¨€\">å‰è¨€</h2>\n<p>å¾ˆä¹…æ²¡å†™æ–‡ç« äº†ï¼Œç°åœ¨æœ‰äº†AIï¼Œå…¶å®å·²ç»ä¸æ€ä¹ˆéœ€è¦å†™æ–‡ç« ï¼Œåæ­£ä¸æ‡‚å°±é—®AIå˜›ã€‚</p>\n<p>ä¸è¿‡AIæ€»æ˜¯æœ‰ç›²åŒºçš„ï¼Œå°±æ¯”å¦‚å›½å†…çš„å¾®ä¿¡å¼€å‘ã€‚</p>\n<p>å¾®ä¿¡çš„æ–‡æ¡£æ˜¯å…¬è®¤çš„çƒ‚ï¼Œè€Œä¸”ç»å¸¸æ‚„å’ªå’ªæ”¹æ¥å£åˆä¸æ›´æ–°æ–‡æ¡£ï¼Œæ‰€ä»¥AIå¯¹å¾®ä¿¡å¼€å‘çš„APIå…¶å®ä¸æ€ä¹ˆç†Ÿæ‚‰ï¼Œç»å¸¸ç»™å‡ºä¸€äº›é”™è¯¯çš„å›å¤ã€‚</p>\n<p>æœ¬æ–‡è®°å½•ä¸€ä¸‹æœ€è¿‘æˆ‘ä½¿ç”¨ C# WebApi é¡¹ç›®æ¥å…¥ä¼ä¸šå¾®ä¿¡å’Œå…¬ä¼—å·çš„è¿‡ç¨‹ï¼Œä¸»è¦æ˜¯ç”¨åˆ°è‡ªåŠ¨å›å¤åŠŸèƒ½ã€‚</p>\n<h2 id=\"å‰ç½®å·¥ä½œ\">å‰ç½®å·¥ä½œ</h2>\n<h3 id=\"ä¾èµ–åº“\">ä¾èµ–åº“</h3>\n<p>æˆ‘ç”¨åˆ°äº† <strong>SKIT.FlurlHttpClient.Wechat</strong> è¿™ä¸ªç³»åˆ—çš„åº“ï¼š<a href=\"https://github.com/fudiwei/DotNetCore.SKIT.FlurlHttpClient.Wechat\" rel=\"noopener nofollow\" target=\"_blank\">https://github.com/fudiwei/DotNetCore.SKIT.FlurlHttpClient.Wechat</a></p>\n<p>åŸæœ¬æƒ³ç›´æ¥ç”¨ Flurl å¯¹æ¥çš„ï¼Œæ¯•ç«Ÿç°åœ¨æ‰‹é‡Œæœ‰äº†é”¤å­ï¼ˆAIï¼‰ï¼Œçœ‹å•¥éƒ½æ˜¯é’‰å­ï¼Œå•¥éƒ½æƒ³é€ è½®å­ã€‚</p>\n<p>ä¸è¿‡æœäº†ä¸€ä¸‹æˆ‘çš„æ”¶è—å¤¹ï¼Œå‘ç°æœ‰è¿™ä¸ªé¡¹ç›®ï¼Œå°è£…äº†å¾®ä¿¡çš„å¤§éƒ¨åˆ†æ¥å£ï¼Œé‚£è¿˜è¦å•¥è‡ªè¡Œè½¦ï¼Œç›´æ¥ç”¨å°±å®Œäº‹å„¿äº†ã€‚</p>\n<p>å…¶ä¸­ï¼š</p>\n<ul>\n<li>ä¼ä¸šå¾®ä¿¡ï¼šSKIT.FlurlHttpClient.Wechat.Work</li>\n<li>å…¬ä¼—å·ï¼šSKIT.FlurlHttpClient.Wechat.Api</li>\n</ul>\n<h3 id=\"å¾®ä¿¡é…ç½®ä¿¡æ¯\">å¾®ä¿¡é…ç½®ä¿¡æ¯</h3>\n<p>éœ€è¦å‡†å¤‡è¿™äº›é…ç½®ä¿¡æ¯ï¼š</p>\n<p>ä¼ä¸šå¾®ä¿¡ï¼š</p>\n<pre><code class=\"language-c#\">public class WechatWorkOptions {\n    public string CorpId { get; set; } = string.Empty;\n    // åº”ç”¨ID\n    public int AgentId { get; set; }\n    // åº”ç”¨å¯†é’¥\n    public string Secret { get; set; } = string.Empty;\n    // å›è°ƒ Token\n    public string CallbackToken { get; set; } = string.Empty;\n    // å›è°ƒ EncodingAESKey\n    public string CallbackEncodingAESKey { get; set; } = string.Empty;\n}\n</code></pre>\n<p>å…¬ä¼—å·ï¼š</p>\n<pre><code class=\"language-c#\">public class WechatApiClientOptions {\n    public string AppId { get; set; } = string.Empty;\n    public string AppSecret { get; set; } = string.Empty;\n    public string CallbackToken { get; set; } = string.Empty;\n    public string CallbackEncodingAESKey { get; set; } = string.Empty;\n}\n</code></pre>\n<h3 id=\"æ³¨å†ŒæœåŠ¡\">æ³¨å†ŒæœåŠ¡</h3>\n<pre><code class=\"language-c#\">// ä¼ä¸šå¾®ä¿¡\nbuilder.Services.AddSingleton&lt;WechatWorkClient&gt;(sp =&gt; {\n    var options = sp.GetRequiredService&lt;IOptions&lt;WechatWorkOptions&gt;&gt;().Value;\n    return WechatWorkClientBuilder.Create(options).Build();\n});\n\n// å…¬ä¼—å·\nbuilder.Services.AddSingleton&lt;WechatApiClient&gt;(sp =&gt; {\n    var options = sp.GetRequiredService&lt;IOptions&lt;WechatMpOptions&gt;&gt;().Value;\n    return WechatApiClientBuilder.Create(options).Build();\n});\n</code></pre>\n<p>å‡†å¤‡å·¥ä½œå°±æå®šäº†ã€‚</p>\n<h2 id=\"ç®¡ç†token\">ç®¡ç†token</h2>\n<p>å¾®ä¿¡çš„æ¥å£éƒ½éœ€è¦ç”¨ AccessToken æ‰èƒ½è°ƒç”¨ï¼Œä½†å¾®ä¿¡åˆä¸æƒ³å¼€å‘è€…æ¯æ¬¡éƒ½å»è¯·æ±‚è·å–tokenï¼Œæ‰€ä»¥åªèƒ½è·å–ä¸€æ¬¡ç„¶åè‡ªå·±ä¿å­˜äº†ã€‚</p>\n<p>C# å¯ä»¥ç”¨ IMemoryCache ç»„ä»¶ï¼Œå¾ˆæ–¹ä¾¿çš„ç®¡ç†è¿™äº›ä¸´æ—¶å­˜å‚¨çš„æ•°æ®ï¼›Djangoæ¡†æ¶ä¹Ÿæœ‰å†…ç½®çš„cacheæœºåˆ¶ï¼Œå…¶ä»–è¯­è¨€æ¡†æ¶å¯ä»¥ç”¨Redisè¿™ç±»NoSQLæ•°æ®åº“æ¥å­˜å‚¨ã€‚æ‰¯è¿œäº†ï¼Œæœ¬æ–‡è¿˜æ˜¯ä»‹ç»C#çš„ã€‚</p>\n<p>æˆ‘ç”¨ä¸€ä¸ª <code>WechatWorkTokenService</code> æœåŠ¡æ¥ç®¡ç†ä¼ä¸šå¾®ä¿¡çš„tokenï¼ˆå…¬ä¼—å·ã€å°ç¨‹åºè¿™ç§ä¹Ÿæ˜¯åŒç†ï¼‰</p>\n<pre><code class=\"language-c#\">public class WechatWorkTokenService(\n    WechatWorkClient client,\n    IMemoryCache cache,\n    IOptions&lt;WechatWorkOptions&gt; options\n) : IWechatWorkTokenService {\n    private const string CacheKey = \"WechatWorkAccessToken\";\n\n    // ç”¨äºå¹¶å‘æ§åˆ¶ï¼Œé˜²æ­¢ç¬é—´é«˜å¹¶å‘å¯¼è‡´å¤šæ¬¡è¯·æ±‚ Token æ¥å£\n    private static readonly SemaphoreSlim Semaphore = new SemaphoreSlim(1, 1);\n\n    /// &lt;summary&gt;\n    /// è·å– AccessToken\n    /// &lt;/summary&gt;\n    public async Task&lt;string&gt; GetAccessTokenAsync(CancellationToken cancellationToken = default) {\n        // 1. å°è¯•ä»ç¼“å­˜è·å–\n        if (cache.TryGetValue(CacheKey, out string? accessToken) &amp;&amp; !string.IsNullOrEmpty(accessToken)) {\n            return accessToken;\n        }\n\n        // 2. ç¼“å­˜æœªå‘½ä¸­ï¼ŒåŠ é”è¯·æ±‚\n        await Semaphore.WaitAsync(cancellationToken);\n        try {\n            // åŒé‡æ£€æŸ¥ï¼Œé˜²æ­¢æ’é˜Ÿç­‰å¾…çš„çº¿ç¨‹å†æ¬¡è¯·æ±‚\n            if (cache.TryGetValue(CacheKey, out accessToken) &amp;&amp; !string.IsNullOrEmpty(accessToken)) {\n                return accessToken;\n            }\n\n            // 3. è°ƒç”¨æ¥å£è·å– Token\n            var request = new CgibinGetTokenRequest();\n            var response = await client.ExecuteCgibinGetTokenAsync(request, cancellationToken);\n\n            if (!response.IsSuccessful()) {\n                throw new Exception($\"è·å– AccessToken å¤±è´¥: {response.ErrorMessage} (Code: {response.ErrorCode})\");\n            }\n\n            accessToken = response.AccessToken;\n\n            // 4. è®¾ç½®ç¼“å­˜\n            // æå‰ 5 åˆ†é’Ÿè¿‡æœŸï¼Œç¡®ä¿åœ¨è¿‡æœŸå‰åˆ·æ–°\n            // å¦‚æœ ExpiresIn å°äº 300 ç§’ï¼Œåˆ™è®¾ä¸ºä¸€åŠæ—¶é—´\n            var expirySeconds = response.ExpiresIn &gt; 300 ? response.ExpiresIn - 300 : response.ExpiresIn / 2;\n            var cacheEntryOptions = new MemoryCacheEntryOptions()\n                .SetAbsoluteExpiration(TimeSpan.FromSeconds(expirySeconds));\n\n            cache.Set(CacheKey, accessToken, cacheEntryOptions);\n\n            return accessToken;\n        }\n        finally {\n            Semaphore.Release();\n        }\n    }\n}\n</code></pre>\n<h2 id=\"ä¼ä¸šå¾®ä¿¡\">ä¼ä¸šå¾®ä¿¡</h2>\n<p>ä¼ä¸šå¾®ä¿¡çš„é™åˆ¶æ¯”è¾ƒå°‘ï¼Œå¯ä»¥ä¸»åŠ¨ç»™ç”¨æˆ·å‘ä¿¡æ¯ï¼Œæ‰€ä»¥å¯ä»¥æŠŠæ¥æ”¶å’Œå‘é€ä¿¡æ¯åˆ†å¼€ï¼Œä¾‹å¦‚è°ƒç”¨LLMå¤„ç†å›å¤çš„æ—¶å€™ï¼Œä¼šæ¯”è¾ƒæ…¢ï¼Œå¯ä»¥æŠŠå›å¤æ”¾åˆ°å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—é‡Œå»å®ç°ã€‚</p>\n<h3 id=\"éªŒè¯å›è°ƒ\">éªŒè¯å›è°ƒ</h3>\n<p>ç›´æ¥ä¸Šæ¥å£ä»£ç ã€‚</p>\n<p>åœ¨é…ç½®ä¼ä¸šå¾®ä¿¡åº”ç”¨URLçš„æ—¶å€™ï¼Œå¾®ä¿¡æœåŠ¡å™¨ä¼šå‘é€ä¸€ä¸ªGETè¯·æ±‚åˆ°é…ç½®çš„URLè¿›è¡ŒéªŒè¯ï¼Œåç«¯ç¨‹åºéœ€è¦éªŒè¯ç­¾åï¼Œè§£å¯†åæŠŠå†…å®¹å¤è¯»ç»™å¾®ä¿¡æœåŠ¡å™¨ã€‚</p>\n<p>ä¸‹é¢è¿™ä¸ªæ¥å£å°±å®ç°äº†è¿™ä¸ªéªŒè¯æ–¹æ³•ã€‚</p>\n<p>è¿™æ ·å®ç°ä¹‹åå¡«å†™ <code>https://example.com/api/wechat/work/callback</code> è¿™ä¸ªåœ°å€å°±å¥½äº†ã€‚</p>\n<pre><code class=\"language-c#\">[ApiController]\n[AllowAnonymous]\n[Route(\"api/wechat/work/callback\")]\npublic class WechatWorkController(\n    WechatWorkClient client,\n    IBackgroundTaskQueue queue,\n    ILogger&lt;WechatWorkController&gt; logger\n) : ControllerBase {\n    /// &lt;summary&gt;\n    /// å›è°ƒéªŒè¯ (GET)\n    /// &lt;/summary&gt;\n    [HttpGet]\n    public IActionResult Echo(\n        [FromQuery(Name = \"msg_signature\")] string msgSignature,\n        [FromQuery(Name = \"timestamp\")] string timestamp,\n        [FromQuery(Name = \"nonce\")] string nonce,\n        [FromQuery(Name = \"echostr\")] string echoStr\n    ) {\n        // éªŒè¯ç­¾å\n        var verifyResult = client.VerifyEventSignatureForEcho(\n            timestamp, nonce, echoStr, msgSignature, out string? replyEcho\n        );\n\n        if (verifyResult.Result) {\n            logger.LogInformation(\"Echo verification successful. ReplyEcho: {ReplyEcho}\", replyEcho);\n            return Content(replyEcho ?? string.Empty);\n        }\n\n        logger.LogWarning(\"Echo verification failed. Error: {Error}\", verifyResult.Error?.Message);\n        return BadRequest($\"Verify signature failed: {verifyResult.Error?.Message}\");\n    }\n}\n</code></pre>\n<h3 id=\"æ¥æ”¶ä¿¡æ¯\">æ¥æ”¶ä¿¡æ¯</h3>\n<p>æ¥æ”¶ä¿¡æ¯å’Œä¸Šé¢çš„éªŒè¯éƒ½æ˜¯ä¸€ä¸ªURLï¼ŒåŒºåˆ«æ˜¯æ¥æ”¶ä¿¡æ¯æ—¶ï¼Œå¾®ä¿¡æœåŠ¡å™¨ä¼šå‘URLå‘POSTè¯·æ±‚ã€‚</p>\n<p>ä»£ç é‡Œæœ‰è¯¦ç»†æ³¨é‡Šäº†ï¼Œåº”è¯¥ä¸ç”¨è§£é‡Šå¤ªå¤šã€‚</p>\n<pre><code class=\"language-c#\">/// &lt;summary&gt;\n/// æ¥æ”¶æ¶ˆæ¯ (POST)\n/// &lt;/summary&gt;\n[HttpPost]\npublic async Task&lt;IActionResult&gt; Callback(\n    [FromQuery(Name = \"msg_signature\")] string msgSignature,\n    [FromQuery(Name = \"timestamp\")] string timestamp,\n    [FromQuery(Name = \"nonce\")] string nonce\n) {\n    // å¿…é¡»è¯»å–åŸå§‹ Request Body æµï¼Œè€Œä¸èƒ½ä½¿ç”¨ [FromBody] ç»‘å®š\n    // åŸå› ï¼š\n    // 1. å¾®ä¿¡ç­¾åéªŒè¯ä¾èµ–äºåŸå§‹è¯·æ±‚ä½“ï¼Œä»»ä½•ç©ºæ ¼ã€æ¢è¡Œç¬¦çš„å·®å¼‚éƒ½ä¼šå¯¼è‡´ç­¾åæ ¡éªŒå¤±è´¥\n    // 2. æ¨é€å†…å®¹é€šå¸¸æ˜¯åŠ å¯†çš„ XMLï¼Œéœ€è¦å…ˆè·å–åŸå§‹å­—ç¬¦ä¸²ä¼ ç»™ SDK è¿›è¡Œè§£å¯†\n    using var reader = new StreamReader(Request.Body);\n    var xml = await reader.ReadToEndAsync();\n\n    logger.LogDebug(\"Callback Body (Length: {Length}): {Xml}\", xml.Length, xml);\n\n    // 1. éªŒè¯ç­¾å\n    // è™½ç„¶ DeserializeEventFromXml å†…éƒ¨å¯èƒ½ä¼šåŒ…å«è§£å¯†è¿‡ç¨‹ï¼Œä½†æ˜¾å¼éªŒè¯ç­¾åæ˜¯æ›´å®‰å…¨çš„åšæ³•\n    var verifyResult = client.VerifyEventSignatureFromXml(timestamp, nonce, xml, msgSignature);\n    if (!verifyResult.Result) {\n        logger.LogWarning(\"Callback signature verification failed. Error: {Error}\", verifyResult.Error?.Message);\n        return BadRequest($\"Verify signature failed: {verifyResult.Error?.Message}\");\n    }\n\n    // 2. ä½¿ç”¨ SKIT åº“æä¾›çš„æ‰©å±•æ–¹æ³•è‡ªåŠ¨è§£å¯†å¹¶ååºåˆ—åŒ–\n    // æ³¨æ„ï¼šéœ€è¦åœ¨ WechatWorkClientOptions ä¸­é…ç½® PushToken å’Œ PushEncodingAESKey\n    WechatWorkEvent wechatEvent;\n    try {\n        wechatEvent = client.DeserializeEventFromXml(xml);\n        logger.LogInformation(\"Callback deserialized successfully. MessageType: {MessageType}, FromUser: {FromUser}, ToUser: {ToUser}\", wechatEvent.MessageType, wechatEvent.FromUserName, wechatEvent.ToUserName);\n    } catch (Exception ex) {\n        // ååºåˆ—åŒ–å¤±è´¥ï¼ˆé€šå¸¸æ˜¯å› ä¸ºç­¾åéªŒè¯å¤±è´¥æˆ–è§£å¯†å¤±è´¥ï¼‰\n        logger.LogError(ex, \"Callback deserialization failed.\");\n        return BadRequest($\"Deserialization failed: {ex.Message}\");\n    }\n\n    // å¤„ç†é€»è¾‘\n    if (string.Equals(wechatEvent.MessageType, \"TEXT\", StringComparison.OrdinalIgnoreCase)) {\n        // å†æ¬¡ååºåˆ—åŒ–ä¸ºå…·ä½“çš„æ–‡æœ¬æ¶ˆæ¯äº‹ä»¶ä»¥è·å– Content\n        var textEvent = client.DeserializeEventFromXml&lt;TextMessageEvent&gt;(xml);\n        if (textEvent != null &amp;&amp; !string.IsNullOrEmpty(textEvent.Content) &amp;&amp;\n            !string.IsNullOrEmpty(textEvent.FromUserName)) {\n            logger.LogInformation(\"Processing TEXT message from {FromUser}: {Content}\", textEvent.FromUserName, textEvent.Content);\n            await ProcessTextMessageAsync(textEvent.FromUserName, textEvent.Content);\n        }\n    }\n    else if (string.Equals(wechatEvent.MessageType, \"IMAGE\", StringComparison.OrdinalIgnoreCase)) {\n        var imageEvent = client.DeserializeEventFromXml&lt;ImageMessageEvent&gt;(xml);\n        if (imageEvent != null &amp;&amp; !string.IsNullOrEmpty(imageEvent.MediaId) &amp;&amp;\n            !string.IsNullOrEmpty(imageEvent.FromUserName)) {\n            logger.LogInformation(\"Processing IMAGE message from {FromUser}: {MediaId}\", imageEvent.FromUserName, imageEvent.MediaId);\n            await ProcessImageMessageAsync(imageEvent.FromUserName, imageEvent.MediaId);\n        }\n    }\n    else {\n        logger.LogInformation(\"Ignored message type: {MessageType}\", wechatEvent.MessageType);\n    }\n\n    return Ok(\"success\");\n}\n\n</code></pre>\n<h3 id=\"å¼‚æ­¥å¤„ç†ä¿¡æ¯\">å¼‚æ­¥å¤„ç†ä¿¡æ¯</h3>\n<p>å› ä¸ºä¼ä¸šå¾®ä¿¡å¯ä»¥ä¸»åŠ¨ç»™ç”¨æˆ·å‘ä¿¡æ¯ï¼Œæ‰€ä»¥å¯ä»¥æŠŠæ¥æ”¶å’Œå‘é€ä¿¡æ¯åˆ†å¼€ï¼Œä¾‹å¦‚è°ƒç”¨LLMå¤„ç†å›å¤çš„æ—¶å€™ï¼Œä¼šæ¯”è¾ƒæ…¢ï¼Œå¯ä»¥æŠŠå›å¤æ”¾åˆ°å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—é‡Œå»å®ç°ã€‚</p>\n<h4 id=\"æ–‡æœ¬ä¿¡æ¯\">æ–‡æœ¬ä¿¡æ¯</h4>\n<p>çº¯æ–‡æœ¬å¤„ç†èµ·æ¥è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ã€‚</p>\n<pre><code class=\"language-c#\">/// &lt;summary&gt;\n/// å¼‚æ­¥å¤„ç†æ–‡æœ¬æ¶ˆæ¯\n/// &lt;/summary&gt;\nprivate async Task ProcessTextMessageAsync(string toUser, string content) {\n    await queue.QueueBackgroundWorkItemAsync(async (serviceProvider, token) =&gt; {\n        // åœ¨åå°ä»»åŠ¡ä¸­è§£æ Scoped æœåŠ¡\n        var chatBot = serviceProvider.GetRequiredService&lt;IChatBotService&gt;();\n        var logger = serviceProvider.GetRequiredService&lt;ILogger&lt;WechatWorkController&gt;&gt;();\n\n        try {\n            logger.LogInformation(\"Processing background task for user {ToUser}\", toUser);\n\n            // 1. è°ƒç”¨ ChatBot è·å–å›å¤\n            string reply = await chatBot.ProcessMessageAsync(content);\n\n            // 2. å‘é€å›å¤\n            var accessToken = await _tokenService.GetAccessTokenAsync();\n            var request = new CgibinMessageSendRequest {\n                AccessToken = accessToken,\n                AgentId = _agentId,\n                ToUserIdList = [toUser],\n                MessageType = \"text\",\n                MessageContentAsText = new CgibinMessageSendRequest.Types.TextMessage {\n                    Content = content\n                }\n            };\n            var response = await _client.ExecuteCgibinMessageSendAsync(request);\n            if (!response.IsSuccessful()){\n                throw new Exception($\"å‘é€ä¼ä¸šå¾®ä¿¡æ¶ˆæ¯å¤±è´¥: {response.ErrorMessage} (Code: {response.ErrorCode})\");\n            }\n\n            logger.LogInformation(\"Reply sent to {ToUser}: {ReplyContent}\", toUser, reply);\n        } catch (Exception ex) {\n            logger.LogError(ex, \"Failed to process message for {ToUser}\", toUser);\n        }\n    });\n}\n</code></pre>\n<h4 id=\"å›¾ç‰‡ä¿¡æ¯\">å›¾ç‰‡ä¿¡æ¯</h4>\n<p>å›¾ç‰‡éº»çƒ¦ä¸€ç‚¹ï¼Œå¾®ä¿¡ä¸ä¼šç›´æ¥æŠŠå›¾ç‰‡æ•°æ®å‘æ¥ï¼Œè€Œæ˜¯æäº†ä¸ª mediaIdï¼Œè¦æˆ‘ä»¬æ‰‹åŠ¨å»ä¸‹è½½ã€‚</p>\n<p>C# è¿™é‡Œè¿˜æ˜¯æ–¹ä¾¿çš„ï¼Œç›´æ¥æŠŠå›¾ç‰‡ä¸‹è½½æ”¾åˆ°å†…å­˜é‡Œäº¤ç»™ç¬¬ä¸‰æ–¹æœåŠ¡å¤„ç†ï¼ˆå¦‚OCRï¼‰ï¼Œç„¶åå†æŠŠç»“æœå‘å‡ºæ¥ã€‚</p>\n<pre><code class=\"language-c#\">/// &lt;summary&gt;\n/// å¼‚æ­¥å¤„ç†å›¾ç‰‡æ¶ˆæ¯\n/// &lt;/summary&gt;\nprivate async Task ProcessImageMessageAsync(string toUser, string mediaId) {\n    await queue.QueueBackgroundWorkItemAsync(async (serviceProvider, token) =&gt; {\n        var chatBot = serviceProvider.GetRequiredService&lt;IChatBotService&gt;();\n        var wechatService = serviceProvider.GetRequiredService&lt;IWechatWorkService&gt;();\n        var tokenService = serviceProvider.GetRequiredService&lt;IWechatWorkTokenService&gt;();\n        var logger = serviceProvider.GetRequiredService&lt;ILogger&lt;WechatWorkController&gt;&gt;();\n        var wechatClient = serviceProvider.GetRequiredService&lt;WechatWorkClient&gt;();\n\n        try {\n            logger.LogInformation(\"Processing background image task for user {ToUser}\", toUser);\n\n            // 1. Download Image\n            var accessToken = await tokenService.GetAccessTokenAsync(token);\n            var request = new CgibinMediaGetRequest {\n                AccessToken = accessToken,\n                MediaId = mediaId\n            };\n            var resp = await wechatClient.ExecuteCgibinMediaGetAsync(request, cancellationToken: token);\n\n            if (!resp.IsSuccessful()) {\n                logger.LogError(\"Failed to download image: {Error}\", resp.ErrorMessage);\n                await wechatService.SendTextMessageAsync(toUser, \"æŠ±æ­‰ï¼Œæ— æ³•è·å–å›¾ç‰‡å†…å®¹ã€‚\");\n                return;\n            }\n\n            var bytes = resp.GetRawBytes();\n            var mimeType = \"image/jpeg\";\n            if (bytes.Length &gt; 0 &amp;&amp; bytes[0] == 0x89 &amp;&amp; bytes[1] == 0x50 &amp;&amp; bytes[2] == 0x4E &amp;&amp; bytes[3] == 0x47) {\n                mimeType = \"image/png\";\n            }\n\n            var items = new ChatMessageContentItemCollection {\n                new ImageContent(bytes, mimeType)\n            };\n\n            // 2. Call ChatBot\n            var chatMessage = new ChatMessageContent(AuthorRole.User, items);\n            var reply = await chatBot.ProcessMessageAsync(chatMessage);\n\n            // 3. Send Reply\n            await wechatService.SendTextMessageAsync(toUser, reply);\n\n            logger.LogInformation(\"Reply sent to {ToUser}\", toUser);\n        } catch (Exception ex) {\n            logger.LogError(ex, \"Failed to process image message for {ToUser}\", toUser);\n        }\n    });\n}\n</code></pre>\n<h2 id=\"å…¬ä¼—å·\">å…¬ä¼—å·</h2>\n<p>å¥½ï¼Œä¼ä¸šå¾®ä¿¡æå®šäº†ã€‚æ¥ä¸‹æ¥çœ‹çœ‹å…¬ä¼—å·ã€‚</p>\n<p>å…¬ä¼—å·å’Œä¼ä¸šå¾®ä¿¡ä¸ä¸€æ ·ï¼Œæ— æ³•ä¸»åŠ¨å‘ä¿¡æ¯ï¼Œæ‰€ä»¥åœ¨æ”¶åˆ°ç”¨æˆ·ä¿¡æ¯æ—¶ï¼Œè¦è¿”å›XMLæ ¼å¼çš„ç›¸åº”ï¼Œä½œä¸ºå›å¤å†…å®¹ï¼Œ5ç§’å†…å¿…é¡»å›å¤ã€‚</p>\n<p>éªŒè¯å›è°ƒè¿™é‡Œå°±ä¸é‡å¤äº†ï¼Œå’Œä¼ä¸šå¾®ä¿¡æ˜¯ä¸€æ ·çš„ã€‚</p>\n<pre><code class=\"language-c#\">/// &lt;summary&gt;\n/// æ¥æ”¶æ¶ˆæ¯ (POST)\n/// &lt;/summary&gt;\n[HttpPost]\npublic async Task&lt;IActionResult&gt; Callback(\n    [FromQuery(Name = \"msg_signature\")] string? msgSignature,\n    [FromQuery(Name = \"signature\")] string? signature,\n    [FromQuery(Name = \"timestamp\")] string timestamp,\n    [FromQuery(Name = \"nonce\")] string nonce,\n    [FromQuery(Name = \"encrypt_type\")] string? encryptType\n) {\n    using var reader = new StreamReader(Request.Body);\n    var xml = await reader.ReadToEndAsync();\n\n    _logger.LogDebug(\"Callback Body (Length: {Length}): {Xml}\", xml.Length, xml);\n\n    // 1. éªŒè¯ç­¾å\n    // å¦‚æœæ˜¯å®‰å…¨æ¨¡å¼ (encryptType == \"aes\")ï¼Œä½¿ç”¨ VerifyEventSignatureFromXml (éœ€è¦ msg_signature)\n    // å¦‚æœæ˜¯æ˜æ–‡æ¨¡å¼ï¼ŒSDK å†…éƒ¨ DeserializeEventFromXml ä¹Ÿä¼šåšä¸€äº›æ ¡éªŒï¼Œä½†é€šå¸¸æ˜æ–‡æ¨¡å¼ç­¾åæ ¡éªŒä½¿ç”¨ signature (VerifyEventSignatureForEcho logic)\n    // è¿™é‡Œä¸»è¦å¤„ç†å®‰å…¨æ¨¡å¼ï¼Œå› ä¸ºæ˜æ–‡æ¨¡å¼ä¸‹é€šå¸¸ä¸éœ€è¦å¤æ‚çš„è§£å¯†éªŒè¯\n    if (string.Equals(encryptType, \"aes\", StringComparison.OrdinalIgnoreCase)) {\n        if (string.IsNullOrEmpty(msgSignature)) {\n            return BadRequest(\"msg_signature is required for aes encryption\");\n        }\n\n        var verifyResult = _client.VerifyEventSignatureFromXml(timestamp, nonce, xml, msgSignature);\n        if (!verifyResult.Result) {\n            _logger.LogWarning(\"Callback signature verification failed. Error: {Error}\", verifyResult.Error?.Message);\n            return BadRequest($\"Verify signature failed: {verifyResult.Error?.Message}\");\n        }\n    }\n    else {\n        // æ˜æ–‡æ¨¡å¼ï¼Œå¯ä»¥ä½¿ç”¨ signature éªŒè¯ (å¯é€‰)\n        // var verifyResult = _client.VerifyEventSignatureForEcho(timestamp, nonce, signature);\n    }\n\n    // 2. ä½¿ç”¨ SKIT åº“è‡ªåŠ¨è§£å¯†å¹¶ååºåˆ—åŒ–\n    WechatApiEvent wechatEvent;\n    try {\n        wechatEvent = _client.DeserializeEventFromXml(xml);\n        _logger.LogInformation(\"Callback deserialized successfully. MessageType: {MessageType}, FromUser: {FromUser}, ToUser: {ToUser}\",\n                               wechatEvent.MessageType, wechatEvent.FromUserName, wechatEvent.ToUserName);\n    } catch (Exception ex) {\n        _logger.LogError(ex, \"Callback deserialization failed.\");\n        return BadRequest($\"Deserialization failed: {ex.Message}\");\n    }\n\n    switch (wechatEvent.MessageType?.ToLower()) {\n        case \"text\":\n            var textEvent = _client.DeserializeEventFromXml&lt;TextMessageEvent&gt;(xml);\n            if (!string.IsNullOrEmpty(textEvent.Content) &amp;&amp;\n                !string.IsNullOrEmpty(textEvent.FromUserName)) {\n                _logger.LogInformation(\"Processing TEXT message from {FromUser}: {Content}\", textEvent.FromUserName, textEvent.Content);\n\n                var isSafetyMode = string.Equals(encryptType, \"aes\", StringComparison.OrdinalIgnoreCase);\n\n                var textReply = new TextMessageReply {\n                    ToUserName = textEvent.FromUserName,\n                    FromUserName = textEvent.ToUserName,\n                    MessageType = \"text\",\n                    Content = \"è¿™é‡Œæ˜¯å›å¤ç»™ç”¨æˆ·çš„å†…å®¹\",\n                    CreateTimestamp = DateTimeOffset.Now.ToUnixTimeSeconds()\n                };\n\n                var replyXml = _client.SerializeEventToXml(textReply, isSafetyMode);\n                return Content(replyXml, \"application/xml\");\n            }\n            break;\n\n        default:\n            _logger.LogInformation(\"Ignored message type: {MessageType}\", wechatEvent.MessageType);\n            break;\n    }\n\n    return Ok(\"success\");\n}\n</code></pre>\n<p>å¯ä»¥çœ‹åˆ°ä»£ç é‡Œåˆ¤æ–­æ˜¯ text ç±»å‹åï¼Œæ„é€ äº† TextMessageReply ç±»å‹çš„æ•°æ®ï¼Œç„¶åè°ƒç”¨ SKIT.FlurlHttpClient.Wechat åº“æä¾›çš„ XML åºåˆ—åŒ–æ–¹æ³•ã€‚</p>\n<p>è¿™ä¸ªåº“å°è£…äº†ç›´æ¥åºåˆ—åŒ–è¢«åŠ¨å›å¤äº‹ä»¶çš„æ‰©å±•æ–¹æ³•ï¼Œé»˜è®¤ä¼šåºåˆ—åŒ–ä¸ºå®‰å…¨æ¨¡å¼ã€‚</p>\n<h2 id=\"æ¥å…¥ç™»å½•\">æ¥å…¥ç™»å½•</h2>\n<p>å¾®ä¿¡ç™»å½•å’Œå¤§éƒ¨åˆ†ç¬¬ä¸‰æ–¹å•ç‚¹è®¤è¯æµç¨‹å·®ä¸å¤šï¼Œå·²ç»å†™è¿‡å¥½å¤šæ¬¡äº†ã€‚</p>\n<p>ä¸å†èµ˜è¿°è¿™ä¸ªæµç¨‹ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« : <a href=\"https://blog.deali.cn/p/django-taro-wechat-work-login\" rel=\"noopener nofollow\" target=\"_blank\">Django+Taroé¡¹ç›®å®ç°ä¼ä¸šå¾®ä¿¡ç™»å½•</a></p>\n<p>æœ¬æ¬¡æˆ‘æ²¡æœ‰æ¥å…¥ç™»å½•ï¼Œè€Œæ˜¯ç”¨äº†å¦ä¸€ç§æ–¹å¼å®ç°å¾®ä¿¡å’Œå¹³å°ç”¨æˆ·çš„å…³è”ï¼Œå°±æ˜¯å¹³å°ä¸Šç”Ÿæˆä¸€ä¸ªkeyï¼Œè®©ç”¨æˆ·åœ¨å¾®ä¿¡å‘é€ï¼Œæ„Ÿè§‰è¿˜æŒºæœ‰æ„æ€çš„ï¼Œå¦è¾Ÿè¹Šå¾„ã€‚</p>\n<p>æ‰€ä»¥è¿™é‡Œæ¬è¿ä¸€ä¸‹æˆ‘ä¹‹å‰åšçš„å•ç‚¹è®¤è¯é¡¹ç›®é‡Œçš„ä»£ç å§ï¼Œè¯¦æƒ…å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« : <a href=\"https://blog.deali.cn/p/almost-abandoned-project-open-source\" rel=\"noopener nofollow\" target=\"_blank\">IdentityServerLiteé¡¹ç›®å’Œè¿‘æœŸçš„å¼€æºè®¡åˆ’</a></p>\n<pre><code class=\"language-c#\">/// &lt;summary&gt;\n/// ä¼ä¸šå¾®ä¿¡ç™»å½• - ä½¿ç”¨å›è°ƒçš„ code ç™»å½•\n/// &lt;/summary&gt;\n/// &lt;param name=\"code\"&gt;&lt;/param&gt;\n/// &lt;param name=\"state\"&gt;ä¸€äº›è®©å¾®ä¿¡è½¬å‘ä¼ ç»™åç«¯çš„å‚æ•°ï¼Œè¿™é‡Œæ˜¯å•ç‚¹è®¤è¯é¡¹ç›®çš„session_id&lt;/param&gt;\n[HttpGet(\"wecom/login\")]\npublic async Task&lt;IActionResult&gt; WecomLogin(string code, string? state = null) {\n    logger.LogInformation(\"ä¼ä¸šå¾®ä¿¡ç™»å½•ï¼Œcode: {code}, state: {state}, crop: {cropTag}\", code, state, cropTag);\n\n    if (string.IsNullOrWhiteSpace(state)) {\n        return BadRequest(new ApiResponse { Message = \"ä¼ä¸šå¾®ä¿¡ç™»å½•çš„ state ä¸ºç©ºï¼Œæ— æ³•è·å– session\" });\n    }\n\n    var session = await authService.GetSession(state);\n    if (session == null) {\n        return NotFound(new ApiResponse { Message = $\"session {state} ä¸å­˜åœ¨ï¼\" });\n    }\n\n    var userInfo = await wecomService.GetUserInfo(code);\n    if (userInfo == null) {\n        return BadRequest(new ApiResponse { Message = \"è·å– userinfo é”™è¯¯ï¼\" });\n    }\n\n    if (userInfo.Errcode != 0) {\n        return BadRequest(new ApiResponse { Message = $\"è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥ï¼Œä¼å¾®é”™è¯¯ä¿¡æ¯: {userInfo.Errmsg}\" });\n    }\n\n    var wechatUser = await wecomService.GetUser(userInfo.Userid);\n    if (wechatUser == null) {\n        return BadRequest(new ApiResponse { Message = \"è·å– user é”™è¯¯ï¼\" });\n    }\n\n    var user = await userRepo.Where(a =&gt; a.PhoneNumber == wechatUser.Userid).FirstAsync();\n    // ç”¨æˆ·ä¸å­˜åœ¨çš„è¯ï¼Œè‡ªåŠ¨åˆ›å»ºç”¨æˆ·\n    if (user == null) {\n        user = await accountService.CreateUser(\n            await accountService.GenerateUsername(wechatUser.Name),\n            wechatUser.Userid,\n            wechatUser.Name\n        );\n\n        logger.LogInformation(\"ç”¨æˆ· {Phone} ä¸å­˜åœ¨ï¼Œå·²åˆ›å»ºæ–°ç”¨æˆ· {UserId}\", \n                              wechatUser.Userid, user.Id);\n        // return NotFound(new ApiResponse { Message = $\"ç”¨æˆ· {wechatUser.Userid} ä¸å­˜åœ¨ï¼\" });\n    }\n\n    try {\n        var url = await authService.LoginSessionAndGetUri(session, user, true);\n        logger.LogInformation(\"ä¼ä¸šå¾®ä¿¡ç™»å½•æˆåŠŸï¼Œè·³è½¬åˆ°é“¾æ¥: {url}\", url);\n        return Redirect(url);\n    }\n    catch (Exception ex) {\n        ex.ToExceptionless().Submit();\n        return Problem($\"ä¼ä¸šå¾®ä¿¡ç™»å½•å¤±è´¥: LoginSessionAndGetUri å¤±è´¥ - {ex.Message}\");\n    }\n}\n</code></pre>\n<h2 id=\"å°ç»“\">å°ç»“</h2>\n<p>å¤§æ¦‚å°±æ˜¯è¿™äº›äº†ï¼Œå¾ˆç¹çï¼Œä¸è¿‡è¿˜æŒºå¥½ç”¨çš„ï¼Œè¿™äº›ä»£ç å†™å®Œåå‡ ä¹æ˜¯ä¸€æ¬¡å°±å¯¹æ¥é€šè¿‡ï¼Œæƒ³èµ·æ¥ä»¥å‰åå¤è°ƒè¯•çš„ç»å†ï¼Œæ„Ÿå¹ï¼šæ—¥å­ä¹Ÿæ˜¯å¥½èµ·æ¥äº†å‘€ï¼ğŸ˜„</p>\n<p>å¦ä¸€ç‚¹æ„Ÿå¹ï¼šSemantic KernelçœŸå¥½ç”¨ï¼Œæˆ‘ç”¨äº†å¤ªä¹…langchainï¼Œåº”è¯¥æ—©ç‚¹ä¸Šsemantic kernelçš„ã€‚</p>\n\n</div>\n<div id=\"MySignature\">\n    å¾®ä¿¡å…¬ä¼—å·ï¼šã€Œç¨‹åºè®¾è®¡å®éªŒå®¤ã€\nä¸“æ³¨äºäº’è”ç½‘çƒ­é—¨æ–°æŠ€æœ¯æ¢ç´¢ä¸å›¢é˜Ÿæ•æ·å¼€å‘å®è·µï¼ŒåŒ…æ‹¬æ¶æ„è®¾è®¡ã€æœºå™¨å­¦ä¹ ä¸æ•°æ®åˆ†æç®—æ³•ã€ç§»åŠ¨ç«¯å¼€å‘ã€Linuxã€Webå‰åç«¯å¼€å‘ç­‰ï¼Œæ¬¢è¿ä¸€èµ·æ¢è®¨æŠ€æœ¯ï¼Œåˆ†äº«å­¦ä¹ å®è·µç»éªŒã€‚\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-21 23:16</span>&nbsp;\n<a href=\"https://www.cnblogs.com/deali\">ç¨‹åºè®¾è®¡å®éªŒå®¤</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">0</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "C#/.NET/.NET CoreæŠ€æœ¯å‰æ²¿å‘¨åˆŠ | ç¬¬ 66 æœŸï¼ˆ2026å¹´1.12-1.18ï¼‰",
      "link": "https://www.cnblogs.com/Can-daydayup/p/19514257",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/Can-daydayup/p/19514257\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-21 22:41\">\n    <span>C#/.NET/.NET CoreæŠ€æœ¯å‰æ²¿å‘¨åˆŠ | ç¬¬ 66 æœŸï¼ˆ2026å¹´1.12-1.18ï¼‰</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body blogpost-body-html\" id=\"cnblogs_post_body\">\n<p><img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1336199/202509/1336199-20250922202742912-411034871.png\" /></p>\n<h2><span>å‰è¨€</span></h2>\n<p><span>C#/.NET/.NET CoreæŠ€æœ¯å‰æ²¿å‘¨åˆŠï¼Œä½ çš„æ¯å‘¨æŠ€æœ¯æŒ‡å—é’ˆï¼è®°å½•ã€è¿½è¸ªC#/.NET/.NET Coreé¢†åŸŸã€ç”Ÿæ€çš„æ¯å‘¨æœ€æ–°ã€æœ€å®ç”¨ã€æœ€æœ‰ä»·å€¼çš„æŠ€æœ¯æ–‡ç« ã€ç¤¾åŒºåŠ¨æ€ã€ä¼˜è´¨é¡¹ç›®å’Œå­¦ä¹ èµ„æºç­‰ã€‚è®©ä½ æ—¶åˆ»ç«™åœ¨æŠ€æœ¯å‰æ²¿ï¼ŒåŠ©åŠ›æŠ€æœ¯æˆé•¿ä¸è§†é‡æ‹“å®½ã€‚</span></p>\n<blockquote>\n<p><span>æ¬¢è¿æŠ•ç¨¿ã€æ¨èæˆ–è‡ªèä¼˜è´¨æ–‡ç« ã€é¡¹ç›®ã€å­¦ä¹ èµ„æºç­‰ã€‚</span></p>\n</blockquote>\n<ul class=\"list-paddingleft-1\">\n<li><strong>ğŸ†æŠ€æœ¯å‰æ²¿å‘¨åˆŠGiteeå¼€æºåœ°å€ï¼š</strong><a href=\"https://gitee.com/ysgdaydayup/DotNetGuide/blob/main/docs/DotNet/DotNetWeekly.md\" rel=\"noopener nofollow\" target=\"_blank\"><span>https://gitee.com/ysgdaydayup/DotNetGuide/blob/main/docs/DotNet/DotNetWeekly.md</span></a></li>\n<li><strong>ğŸ“°æŠ€æœ¯å‰æ²¿å‘¨åˆŠGitHubå¼€æºåœ°å€ï¼š</strong><a href=\"https://github.com/YSGStudyHards/DotNetGuide/blob/main/docs/DotNet/DotNetWeekly.md\" rel=\"noopener nofollow\" target=\"_blank\"><span>https://github.com/YSGStudyHards/DotNetGuide/blob/main/docs/DotNet/DotNetWeekly.md</span></a></li>\n</ul>\n<h2><span>å¦‚ä½•ç”¨ .NET MAUI æ„å»º Android å°éƒ¨ä»¶</span></h2>\n<ul class=\"list-paddingleft-1\">\n<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong><span>&nbsp;æœ¬åšå®¢å°†ä»‹ç»ä¹‹å‰å…³äº iOS å°éƒ¨ä»¶çš„äº’åŠ¨å°éƒ¨ä»¶çš„ Android éƒ¨åˆ†ã€‚Android é€šå¸¸æ›´å®½æ¾ï¼Œä½œæ›´ç®€å•ï¼Œä½ å¯ä»¥ç›´æ¥åœ¨ Visual Studio é‡Œçš„ .NET MAUI é¡¹ç›®é‡Œæ„å»ºæ‰€æœ‰å†…å®¹ã€‚å¤æ‚æ€§æºäºä¼—å¤šå¯ç”¨çš„ä»»åŠ¡é€‰é¡¹ä»¥åŠéœ€è¦è€ƒè™‘è¾ƒæ—§çš„å®‰å“ç‰ˆæœ¬ã€‚å°±åƒ iOS å°éƒ¨ä»¶åšå®¢é‡Œä¸€æ ·ï¼Œè¿™ä¹Ÿä¸æ˜¯ä¸€æ­¥æ­¥çš„æ•™ç¨‹ã€‚ç›¸åï¼Œå®ƒçªå‡ºæ˜¾ç¤ºäº†ä½ åœ¨æ„å»º Android å°éƒ¨ä»¶æ—¶é€šå¸¸é‡åˆ°éšœç¢çš„é¡ºåºä¸­æœ€å¤§ä¸”æœ€é‡è¦çš„éƒ¨åˆ†ã€‚å®ƒä»åˆ›å»ºä¸€ä¸ªç®€å•çš„é™æ€å°éƒ¨ä»¶å¼€å§‹ï¼Œé€æ­¥å‘å±•æˆå¯é…ç½®ã€å®Œå…¨äº¤äº’çš„å°éƒ¨ä»¶ã€‚</span></li>\n<li><strong>æ–‡ç« åœ°å€ï¼š</strong><span>&nbsp;https://devblogs.microsoft.com/dotnet/how-to-build-android-widgets-with-dotnet-maui/</span></li>\n</ul>\n<h2><span>.NET å’Œ .NET Framework 2026 å¹´ 1 æœˆæœåŠ¡å‘å¸ƒæ›´æ–°</span></h2>\n<ul class=\"list-paddingleft-1\">\n<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong><span>&nbsp;æ¬¢è¿æ¥åˆ°æˆ‘ä»¬ 2026 å¹´ 1 æœˆçš„è”åˆ.NET æœåŠ¡æ›´æ–°ã€‚è®©æˆ‘ä»¬è¿›å…¥.NET å’Œ.NET Framework çš„æœ€æ–°ç‰ˆæœ¬ï¼Œè¿™é‡Œç®€è¦ä»‹ç»ä¸€ä¸‹æˆ‘ä»¬æœåŠ¡ç‰ˆæœ¬ä¸­çš„æ–°å†…å®¹ã€‚</span></li>\n<li><strong>æ–‡ç« åœ°å€ï¼š</strong><span>&nbsp;https://devblogs.microsoft.com/dotnet/dotnet-and-dotnet-framework-january-2026-servicing-updates/</span></li>\n</ul>\n<h2><span>å¦‚ä½•ä¸€æ­¥æ­¥å°† ASP.NET MVC å‡çº§ä¸º.NET</span></h2>\n<ul class=\"list-paddingleft-1\">\n<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong><span>&nbsp;å°† ASP.NET MVC åº”ç”¨ä».NET Framework å‡çº§åˆ°ç°ä»£.NET å¹¶ä¸æ˜¯ç®€å•çš„ç‰ˆæœ¬æå‡ã€‚æ­¤æ¬¡è¿ç§»ä»£è¡¨äº†è¿è¡Œæ—¶ã€æ‰˜ç®¡æ¨¡å‹ã€é…ç½®ç³»ç»Ÿã€ä¾èµ–æ³¨å…¥å’Œ HTTP æµæ°´çº¿æ¶æ„çš„è½¬å˜ã€‚è®¸å¤šå›¢é˜Ÿä½ä¼°äº†è¿™ä¸€ç‚¹ï¼ŒæŠŠå®ƒå½“ä½œæ ‡å‡†çš„æ¡†æ¶å‡çº§ï¼Œç»“æœåœ¨æµç¨‹åæœŸæ‰å‘ç°ä»–ä»¬åº”ç”¨ä¸­çš„æ ¸å¿ƒå‡è®¾å·²ç»ä¸å†æˆç«‹ã€‚å¥½æ¶ˆæ¯æ˜¯ï¼ŒMicrosoft æä¾›äº†æ˜ç¡®çš„æŒ‡å¯¼å’Œæ¨¡å¼ï¼Œä½¿å¾—æ­£ç¡®æ“ä½œæ—¶è¿ç§»è¿‡ç¨‹å¯é¢„æµ‹ã€‚æœ¬æ–‡ä»‹ç»äº†ä¸€ä¸ªå®ç”¨çš„é€æ­¥ç­–ç•¥ï¼Œå¦‚ä½•å°†åŸºäº.NET Framework æ„å»ºçš„ ASP.NET MVC 5 åº”ç”¨è¿ç§»åˆ°è¿è¡Œåœ¨ç°ä»£.NET ä¸Šçš„ ASP.NET Coreï¼ŒåŒæ—¶æœ€å¤§é™åº¦åœ°å‡å°‘é£é™©å’Œåœæœºæ—¶é—´ã€‚</span></li>\n<li><strong>æ–‡ç« åœ°å€ï¼š</strong><span>&nbsp;https://www.cnblogs.com/powertoolsteam/p/19486260</span></li>\n</ul>\n<h2><span>ä½¿ç”¨ MCP C# SDK å®ç° MCP Tool</span></h2>\n<ul class=\"list-paddingleft-1\">\n<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong><span>&nbsp;<span>MCPæ˜¯ç”±Anthropicåˆ›å»ºçš„ä¸€ä¸ªå¼€æ”¾åè®® ç°åœ¨æœ‰å®˜æ–¹ C# SDK äº†ï¼Œå®˜æ–¹ C# SDK ç”±åŸæ¥çš„ mcpdotnet å‘å±•è€Œæ¥ï¼ŒåŸºäº Microsoft.Extensions.AI å®ç°ï¼Œæˆªæ­¢å†™æ–‡ç« çš„æ—¶å€™ï¼ˆ2025-4-1ï¼‰ç›®å‰æœ€æ–°ç‰ˆæœ¬æ—¶ 0.1.0-preview 4 äº†ï¼Œè¿™ä¸€ç‰ˆæœ¬ä¸­å¢åŠ äº† ModelContextProtocol.AspNetCore NuGet åŒ…ï¼Œä½¿å¾—å®ç°åŸºäº ASP.NET Core SSE çš„ Mcp Server æ›´åŠ ç®€å•äº†ï¼Œä¹‹å‰çš„ç‰ˆæœ¬ä¸­éœ€è¦å°†ç¤ºä¾‹ä¸­çš„æ‰©å±•æ‹·è´åˆ°è‡ªå·±é¡¹ç›®ä¸­å»ï¼Œæœ‰äº†è¿™ä¸ª NuGet åŒ…ä¹‹åå°±ä¸éœ€è¦äº†ï¼ŒMcpServer ç›®å‰ä¸»è¦çš„ä¸¤ç§å®ç°æ–¹å¼æ˜¯ Stdio(æ ‡å‡†è¾“å…¥è¾“å‡º) å’Œ SSEï¼ˆServer Sent Event)ï¼Œæ–°çš„è§„èŒƒé‡Œæå‡ºäº†åŸºäº Http çš„æ”¯æŒï¼Œç›®å‰æš‚æ—¶è¿˜æœªæ”¯æŒ</span></span></li>\n<li><strong>æ–‡ç« åœ°å€ï¼š</strong><span>&nbsp;https://mp.weixin.qq.com/s/JSIbOo17zcQrcuCLVWN4XQ</span></li>\n</ul>\n<h2><span>ä¸€æ¬¾ä¸“ä¸º WinUI XAML è®¾è®¡çš„å¿«é€ŸåŸå‹è®¾è®¡å·¥å…·ï¼Œç”Ÿæˆçš„ä»£ç å¯è½»æ¾å¤åˆ¶åˆ°Visual Studioä¸­ï¼</span></h2>\n<ul class=\"list-paddingleft-1\">\n<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong><span>&nbsp;XAML Studio æ˜¯ä¸€æ¬¾ä¸“ä¸º WinUI XAML è®¾è®¡çš„å¿«é€ŸåŸå‹è®¾è®¡å·¥å…·ï¼ŒåŸºäº C# å¼€æºï¼ˆMIT licenseï¼‰ï¼Œç”Ÿæˆçš„ä»£ç å¯è½»æ¾å¤åˆ¶åˆ° Visual Studio ä¸­çš„åº”ç”¨ä¸­ã€‚XAML Studio è®©ä½ å®æ—¶é¢„è§ˆ XAML ä»£ç ï¼Œå¹¶ä¸ç»“æœäº’åŠ¨ï¼Œå°±åƒå®ƒåœ¨ä½ è‡ªå·±çš„åº”ç”¨ä¸­è¿è¡Œä¸€æ ·ã€‚</span></li>\n<li><strong>æ–‡ç« åœ°å€ï¼š</strong><span>&nbsp;https://mp.weixin.qq.com/s/Kf_MrpoC-I7UbhmUNLusow</span></li>\n</ul>\n<p><img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1336199/202601/1336199-20260121223934530-1265321004.png\" /></p>\n<h2><span>ä¸€ä¸ªè‡´åŠ›äºä¸º C# ç¨‹åºå‘˜æä¾›æ›´ä½³çš„ç¼–ç ä½“éªŒå’Œæ•ˆç‡çš„ Visual Studio æ‰©å±•æ’ä»¶</span></h2>\n<ul class=\"list-paddingleft-1\">\n<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong><span>&nbsp;Codist æ˜¯ä¸€ä¸ªä½¿ç”¨ .NET ç¼–å†™ã€å¼€æºå…è´¹çš„ Visual Studio æ‰©å±•æ’ä»¶ï¼Œè‡´åŠ›äºä¸º C# ç¨‹åºå‘˜æä¾›æ›´å¥½çš„ç¼–ç¨‹ä½“éªŒå’Œç”Ÿäº§æ•ˆç‡ã€‚å®ƒä¸ä»…å¼ºåŒ–äº†è¯­æ³•é«˜äº®ã€å¿«é€Ÿä¿¡æ¯æç¤ºã€å¯¼èˆªæ ã€æ»šåŠ¨æ¡å’Œæ˜¾ç¤ºè´¨é‡ï¼Œè¿˜é›†æˆäº†è‡ªåŠ¨ç‰ˆæœ¬å·æ›´æ–°ã€æ‹¬å·è‡ªåŠ¨è¡¥å…¨ã€æ”¯æŒé«˜çº§ç¼–è¾‘åŠŸèƒ½çš„æ™ºèƒ½å·¥å…·æ ã€ä»£ç åˆ†æç­‰åŠŸèƒ½ã€‚</span></li>\n<li><strong>æ–‡ç« åœ°å€ï¼š</strong><span>&nbsp;https://mp.weixin.qq.com/s/UWuCIY4Q5PJeNClrQWPGEw</span></li>\n</ul>\n<p><img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1336199/202601/1336199-20260121223949797-1643034810.png\" /></p>\n<h2><span>åŸºäºNetCorePal Cloud Frameworkçš„DDDæ¶æ„ç®¡ç†ç³»ç»Ÿå®è·µ</span></h2>\n<ul class=\"list-paddingleft-1\">\n<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong><span>&nbsp;å‰æ®µæ—¶é—´åœ¨åšä¸€ä¸ªç®¡ç†ç³»ç»Ÿçš„é¡¹ç›®ï¼Œæƒ³å°è¯•ä¸€ä¸‹DDDæ¶æ„åœ¨å®é™…é¡¹ç›®ä¸­çš„åº”ç”¨ã€‚ç»è¿‡ä¸€ç•ªè°ƒç ”ï¼Œæœ€ç»ˆé€‰æ‹©äº†NetCorePal Cloud Frameworkä½œä¸ºåŸºç¡€æ¡†æ¶ï¼Œç»“åˆ.NET 10å’ŒVue 3æ­å»ºäº†ä¸€å¥—å®Œæ•´çš„å‰åç«¯åˆ†ç¦»æ¶æ„ã€‚ä»Šå¤©å°±æƒ³å’Œå¤§å®¶åˆ†äº«ä¸€ä¸‹è¿™ä¸ªé¡¹ç›®çš„æ¶æ„è®¾è®¡å’ŒæŠ€æœ¯é€‰å‹ï¼Œå¸Œæœ›èƒ½ç»™æ­£åœ¨åšç±»ä¼¼é¡¹ç›®çš„æœ‹å‹ä¸€äº›å‚è€ƒã€‚</span></li>\n<li><strong>æ–‡ç« åœ°å€ï¼š</strong><span>&nbsp;https://www.cnblogs.com/aishangyipiyema/p/19499381</span></li>\n</ul>\n<p><span>æ•´ä¸ªé¡¹ç›®é‡‡ç”¨äº†ç»å…¸çš„ä¸‰å±‚æ¶æ„ï¼Œè¿™ä¸ªç»“æ„åº”è¯¥å¾ˆå¤šåšDDDçš„æœ‹å‹éƒ½æ¯”è¾ƒç†Ÿæ‚‰ã€‚ä¸‰å±‚ä¹‹é—´çš„ä¾èµ–å…³ç³»æ˜¯å•å‘çš„ï¼šWebå±‚ä¾èµ–Infrastructureå±‚ï¼ŒInfrastructureå±‚ä¾èµ–Domainå±‚ï¼ŒDomainå±‚ä½œä¸ºæ ¸å¿ƒï¼Œä¸ä¾èµ–ä»»ä½•å…¶ä»–å±‚ã€‚</span></p>\n<pre><span><code><span>Ncp.Admin<br /><span>â”œâ”€â”€ Domainï¼ˆé¢†åŸŸå±‚ï¼‰<br /><span>â”‚ &nbsp; â”œâ”€â”€ AggregatesModelï¼ˆèšåˆæ¨¡å‹ï¼‰<br /><span>â”‚ &nbsp; â””â”€â”€ DomainEventsï¼ˆé¢†åŸŸäº‹ä»¶ï¼‰<br /><span>â”œâ”€â”€ Infrastructureï¼ˆåŸºç¡€è®¾æ–½å±‚ï¼‰<br /><span>â”‚ &nbsp; â”œâ”€â”€ EntityConfigurationsï¼ˆå®ä½“é…ç½®ï¼‰<br /><span>â”‚ &nbsp; â””â”€â”€ Repositoriesï¼ˆä»“å‚¨å®ç°ï¼‰<br /><span>â””â”€â”€ Webï¼ˆè¡¨ç°å±‚ï¼‰<br /><span>&nbsp; &nbsp; â”œâ”€â”€ Applicationï¼ˆåº”ç”¨æœåŠ¡å±‚ï¼‰<br /><span>&nbsp; &nbsp; â”‚ &nbsp; â”œâ”€â”€ Commandsï¼ˆå‘½ä»¤ï¼‰<br /><span>&nbsp; &nbsp; â”‚ &nbsp; â”œâ”€â”€ Queriesï¼ˆæŸ¥è¯¢ï¼‰<br /><span>&nbsp; &nbsp; â”‚ &nbsp; â””â”€â”€ DomainEventHandlersï¼ˆé¢†åŸŸäº‹ä»¶å¤„ç†å™¨ï¼‰<br /><span>&nbsp; &nbsp; â””â”€â”€ Endpointsï¼ˆAPIç«¯ç‚¹ï¼‰<br /></span></span></span></span></span></span></span></span></span></span></span></span></span></code></span></pre>\n<h2><span>WPF ä½¿ç”¨ <span>HLSL + Clip å®ç°é«˜äº®æ­Œè¯å…‰ç…§æ•ˆæœ</span></span></h2>\n<ul class=\"list-paddingleft-1\">\n<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong><span>&nbsp;æœ€è¿‘åœ¨æ“ä¸€ä¸ªLyricify Liteç±»ä¼¼ç‰©ï¼ŒåŸæœ¬ä½¿ç”¨æ¸å˜ç”»åˆ·å®ç°æ­Œè¯é«˜äº®ï¼Œä½†æ˜¯å‘ç°è§†è§‰æ•ˆæœä¸<span>Apple Musicç›¸å»ç”šè¿œï¼šå•çº¯ä½¿ç”¨ç™½è‰²æ¸å˜ç”»åˆ·ç¼ºä¹â€œé«˜äº®â€çš„å…‰ç…§æ„Ÿè§‰ï¼Œè€ŒApple Musicçš„æ­Œè¯é«˜äº®åˆ™æ›´åƒæ˜¯æœ‰å…‰çº¿æŠ•å°„åœ¨æ­Œè¯ä¸Šï¼Œå½¢æˆä¸€ç§æŸ”å’Œçš„å‘å…‰æ•ˆæœã€‚</span></span></li>\n<li><strong>æ–‡ç« åœ°å€ï¼š</strong><span>&nbsp;https://www.cnblogs.com/TwilightLemon/p/19497125</span></li>\n</ul>\n<p><img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1336199/202601/1336199-20260121224009988-596818876.png\" /></p>\n<h2><span>åŸºäº.NETå’ŒC<a class=\"wx_topic_link\">#æ„å»ºå…‰ä¼IoTç‰©æ¨¡å‹æ–¹æ¡ˆ</a></span></h2>\n<ul class=\"list-paddingleft-1\">\n<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong><span>&nbsp;æœ¬æ–‡ä¸»è¦ä»‹ç»åŸºäº.NETå’ŒC<a class=\"wx_topic_link\">#æ„å»ºå…‰ä¼IoTç‰©æ¨¡å‹çš„æ–¹æ¡ˆ</a>ã€‚</span></li>\n<li><strong>æ–‡ç« åœ°å€ï¼š</strong><span>&nbsp;https://www.cnblogs.com/tianqing/p/19490649</span></li>\n</ul>\n<h2><span>ä¸æœè·‘ä¸ªåˆ†ï¼Ÿ.NET 10 å¤§æ•´æ•°è®¡ç®—å¯¹é˜µ Javaï¼Œç»“æœä»¤äººæ„å¤–</span></h2>\n<ul class=\"list-paddingleft-1\">\n<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong><span>&nbsp;æˆ‘å¯¹æ•°å€¼è®¡ç®—çš„æ‰§å¿µï¼Œæ¥è‡ªåˆä¸­æ—¶ä»£çƒŸé›¾ç¼­ç»•çš„ç½‘å§ã€‚é‚£æ—¶ç©ã€Šä¼å¥‡ã€‹ï¼Œæœ€è®©æˆ‘ç€è¿·çš„ä¸æ˜¯æ‰“æ€ªçˆ†è£…å¤‡ï¼Œè€Œæ˜¯è§’è‰²é¢æ¿é‡Œé‚£æ¡é•¿é•¿çš„ç»éªŒå€¼ã€‚çœ‹ç€æ•°å­—ä¸æ–­è·³åŠ¨ã€ç´¯ç§¯ï¼Œæœ€ç»ˆâ€œå®â€ä¸€å£°å‡çº§ï¼Œé‚£ç§ç®€å•çš„æ•°å€¼é©±åŠ¨æ•´ä¸ªä¸–ç•Œè¿è½¬çš„æ„Ÿè§‰ï¼Œå®åœ¨å¤ªå¥‡å¦™äº†ã€‚</span></li>\n<li><strong>æ–‡ç« åœ°å€ï¼š</strong><span>&nbsp;https://www.cnblogs.com/sdcb/p/19484525/20261113-big-integer-dotnet-10-vs-java</span></li>\n</ul>\n<p><img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1336199/202601/1336199-20260121224026142-562470130.png\" /></p>\n<h2><span>.NET Aspire æ¦‚è¿°</span></h2>\n<ul class=\"list-paddingleft-1\">\n<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong><span>&nbsp;.NET Aspire æ˜¯ Microsoft åœ¨ Build 2024 ä¸Šæ¨å‡ºçš„ä¸€ä¸ªå¼€æºæ¡†æ¶ï¼Œæ—¨åœ¨ç®€åŒ–ä½¿ç”¨ .NET 8 åŠæ›´é«˜ç‰ˆæœ¬åˆ›å»ºåˆ†å¸ƒå¼äº‘åŸç”Ÿåº”ç”¨çš„æµç¨‹ã€‚å®ƒé€šè¿‡æä¾›ä¸€å¥—å·¥å…·ã€æ¨¡æ¿å’Œæœ€ä½³å®è·µï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿæ›´ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘è€ŒéåŸºç¡€è®¾æ–½çš„æ­å»ºã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç» .NET Aspire çš„æ ¸å¿ƒåŠŸèƒ½ã€ä¼˜åŠ¿ä»¥åŠå¦‚ä½•å¿«é€Ÿä¸Šæ‰‹ä½¿ç”¨è¿™ä¸€åˆ›æ–°æ¡†æ¶ã€‚</span></li>\n<li><strong>æ–‡ç« åœ°å€ï¼š</strong><span>&nbsp;https://www.cnblogs.com/powertoolsteam/p/19477015</span></li>\n</ul>\n<h2><span>æ€»ç»“å½’çº³.NET 10 ä¸­ Minimal APIs ä¸»è¦åº”ç”¨åœºæ™¯</span></h2>\n<ul class=\"list-paddingleft-1\">\n<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong><span>&nbsp;æœ¬æ–‡ä¸»è¦æ€»ç»“å½’çº³.NET 10 ä¸­ Minimal APIs ä¸»è¦åº”ç”¨åœºæ™¯ã€‚</span></li>\n<li><strong>æ–‡ç« åœ°å€ï¼š</strong><span>&nbsp;https://www.cnblogs.com/tianqing/p/19467531</span></li>\n</ul>\n<h2><span>C# 14 ä¸­çš„æ–°å¢åŠŸèƒ½</span></h2>\n<ul class=\"list-paddingleft-1\">\n<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong><span>&nbsp;C# 14 å¼•å…¥äº†å¤šé¡¹é‡è¦æ›´æ–°ï¼Œä»¥ä¸‹æ˜¯ä¸»è¦åŠŸèƒ½çš„è¯¦ç»†è¯´æ˜ã€‚</span></li>\n<li><strong>æ–‡ç« åœ°å€ï¼š</strong><span>&nbsp;https://www.cnblogs.com/net-kevin-li/p/19476883</span></li>\n</ul>\n<h2><span>è·¨è¶ŠæŠ€æœ¯é¸¿æ²Ÿï¼šAspire èµ‹èƒ½ JavaScript ä¸ Node.js å¼€å‘è€…çš„æ·±åº¦ç”Ÿæ€èåˆ</span></h2>\n<ul class=\"list-paddingleft-1\">\n<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong><span>&nbsp;åœ¨äº‘åŸç”Ÿåº”ç”¨å¼€å‘çš„æ¼”è¿›å†ç¨‹ä¸­ï¼ŒæŠ€æœ¯æ ˆçš„å¼‚æ„æ€§å§‹ç»ˆæ˜¯ä¸€ä¸ªæ ¸å¿ƒç‰¹å¾ã€‚é•¿æœŸä»¥æ¥ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘å¾€å¾€å‘ˆç°å‡ºâ€œåŒæ¨¡ITâ€çš„ç‰¹å¾ï¼šåç«¯æœåŠ¡ä¾èµ–äº.NET ç”Ÿæ€ç³»ç»Ÿçš„å¼ºç±»å‹ã€é«˜æ€§èƒ½å’Œä¼ä¸šçº§ç¨³å¥æ€§ï¼Œè€Œå‰ç«¯äº¤äº’ä¸éƒ¨åˆ†å¾®æœåŠ¡åˆ™å¹¿æ³›é‡‡ç”¨ JavaScript/TypeScript ç”Ÿæ€ç³»ç»Ÿçš„çµæ´»æ€§ä¸åºå¤§ç¤¾åŒºèµ„æºã€‚è¿™ç§å¤šè¯­è¨€ï¼ˆPolyglotï¼‰æ¶æ„è™½ç„¶åœ¨åŠŸèƒ½ä¸Šäº’è¡¥ï¼Œä½†åœ¨å¼€å‘è¿ç»´ï¼ˆDevOpsï¼‰çš„â€œå†…å¾ªç¯ï¼ˆInner Loopï¼‰â€ä¸­å´åˆ¶é€ äº†æ˜¾è‘—çš„æ‘©æ“¦ã€‚å¼€å‘è€…å¸¸å¸¸éœ€è¦åœ¨ Visual Studio çš„è°ƒè¯•å™¨ã€å¤æ‚çš„ Docker Compose YAML æ–‡ä»¶ã€æ•£ä¹±çš„ Shell è„šæœ¬ä»¥åŠæ‰‹åŠ¨ç»´æŠ¤çš„ .env ç¯å¢ƒå˜é‡æ–‡ä»¶ä¹‹é—´é¢‘ç¹åˆ‡æ¢ã€‚</span></li>\n<li><strong>æ–‡ç« åœ°å€ï¼š</strong><span>&nbsp;https://www.cnblogs.com/shanyou/p/19474912</span></li>\n</ul>\n<h2><span>.NET ç£ç›˜ç®¡ç†-æŠ€æœ¯æ–¹æ¡ˆé€‰å‹</span></h2>\n<ul class=\"list-paddingleft-1\">\n<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong><span>&nbsp;åœ¨å®¶åº­ä»¥åŠä¼ä¸šåœºæ™¯ä¸‹çš„ç½‘ç»œç£ç›˜äº§å“ï¼Œä½¿ç”¨Iscsiå‡éœ€è¦å¯¹ç£ç›˜è¿›è¡Œç®¡ç†ã€‚ä¸åŒWindowsç‰ˆæœ¬ã€å®‰è£…ç¬¬ä¸‰æ–¹è½¯ä»¶ï¼Œå¯¼è‡´æ¯ä¸ªCç«¯ç”¨æˆ·çš„è¿è¡Œç¯å¢ƒä¸åŒï¼Œå¯¹ç£ç›˜çš„ç®¡ç†å¸¦æ¥ä¸€å®šçš„ä½¿ç”¨å¹²æ‰°ï¼Œæœ¬æ–‡ä»‹ç»ä¸‹ç£ç›˜ç®¡ç†çš„å‡ ç§æ–¹æ¡ˆä»¥åŠå­˜åœ¨çš„ä¸€äº›é—®é¢˜ã€‚</span></li>\n<li><strong>æ–‡ç« åœ°å€ï¼š</strong><span>&nbsp;https://www.cnblogs.com/kybs0/p/19473484</span></li>\n</ul>\n</div>\n<div id=\"MySignature\">\n    <blockquote>\n<p style=\"font-family: YouYuan; font-size: 16px; margin: 0 auto 0.01em auto;\"><span style=\"font-size: 17px;\">ä½œè€…åç§°ï¼š</span><a href=\"https://www.cnblogs.com/Can-daydayup/\" target=\"_blank\">è¿½é€æ—¶å…‰è€…</a></p>\n<p style=\"font-family: YouYuan; font-size: 16px; margin: 0 auto 0.01em auto;\"><span style=\"font-size: 17px;\">ä½œè€…ç®€ä»‹ï¼š</span>ä¸€ä¸ªçƒ­çˆ±ç¼–ç¨‹ã€å–„äºåˆ†äº«ã€å–œæ¬¢å­¦ä¹ ã€æ¢ç´¢ã€å°è¯•æ–°äº‹ç‰©å’Œæ–°æŠ€æœ¯çš„å…¨æ ˆè½¯ä»¶å·¥ç¨‹å¸ˆã€‚</p>\n<p style=\"font-family: YouYuan; font-size: 16px; margin: 0 auto 0.01em auto;\">\næœ¬æ–‡ç‰ˆæƒå½’ä½œè€…å’Œåšå®¢å›­å…±æœ‰ï¼Œæ¬¢è¿è½¬è½½ï¼Œä½†æœªç»ä½œè€…åŒæ„å¿…é¡»ä¿ç•™æ­¤æ®µå£°æ˜ï¼Œä¸”åœ¨æ–‡ç« é¡µé¢æ˜æ˜¾ä½ç½®ç»™å‡ºåŸæ–‡é“¾æ¥ï¼Œå¦åˆ™ä¿ç•™è¿½ç©¶æ³•å¾‹è´£ä»»çš„æƒåˆ©ã€‚å¦‚æœè¯¥ç¯‡æ–‡ç« å¯¹æ‚¨æœ‰å¸®åŠ©çš„è¯ï¼Œå¯ä»¥ç‚¹ä¸€ä¸‹å³ä¸‹è§’çš„<a href=\"\" style=\"color: red;\">ã€â™¥æ¨èâ™¥ã€‘</a>ï¼Œå¸Œæœ›èƒ½å¤ŸæŒç»­çš„ä¸ºå¤§å®¶å¸¦æ¥å¥½çš„æŠ€æœ¯æ–‡ç« ï¼Œæ–‡ä¸­å¯èƒ½å­˜åœ¨æè¿°ä¸æ­£ç¡®çš„åœ°æ–¹ï¼Œæ¬¢è¿æŒ‡æ­£æˆ–è¡¥å……ï¼Œä¸èƒœæ„Ÿæ¿€ã€‚\n</p>\n</blockquote>\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-21 22:41</span>&nbsp;\n<a href=\"https://www.cnblogs.com/Can-daydayup\">è¿½é€æ—¶å…‰è€…</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">0</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "ä¸€ä¸ªå°æŠ€å·§è½»æ¾æå‡Dashåº”ç”¨debugæ•ˆç‡",
      "link": "https://www.cnblogs.com/feffery/p/19513359",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/feffery/p/19513359\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-21 17:53\">\n    <span>ä¸€ä¸ªå°æŠ€å·§è½»æ¾æå‡Dashåº”ç”¨debugæ•ˆç‡</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<center style=\"font-size: 18px; font-weight: bold; padding-top: 40px;\">æ›´å¤šDashåº”ç”¨å¼€å‘å¹²è´§çŸ¥è¯†ã€æ¡ˆä¾‹ï¼Œæ¬¢è¿å…³æ³¨â€œç©è½¬Dashâ€å¾®ä¿¡å…¬ä¼—å·ğŸ‘‡</center>\n<p><img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1344061/202507/1344061-20250703190053776-1837084116.png\" /></p>\n<h1 id=\"1-ç®€ä»‹\">1 ç®€ä»‹</h1>\n<p>å¤§å®¶å¥½æˆ‘æ˜¯è´¹è€å¸ˆã€‚<code>Dash</code>ä½œä¸ºåŸºäº<code>Python</code>è¿›è¡Œ<em>å…¨æ ˆåº”ç”¨å¼€å‘</em>çš„æµè¡Œæ¡†æ¶ï¼Œå…·æœ‰å¼ºå¤§çš„<em>å¯ä¼¸ç¼©æ€§</em>â€”â€”è¿™æ„å‘³ç€åœ¨åŒä¸€å¥—åŸºäº<strong>ç»„ä»¶+å›è°ƒå‡½æ•°</strong>çš„ä»£ç ç»„ç»‡æ–¹å¼ä¸‹ï¼Œä½¿ç”¨<code>Dash</code>å¯ä»¥è½»æ¾è¦†ç›–ä»å°å‹ç®€å•åº”ç”¨ï¼Œåˆ°å¤§å‹å¤æ‚åº”ç”¨ï¼Œå„ç§å¤æ‚ç¨‹åº¦çš„åº”ç”¨å¼€å‘ä»»åŠ¡ã€‚è¿™ä¹Ÿæ˜¯<code>Dash</code>åœ¨ä¸–ç•ŒèŒƒå›´å†…ï¼Œè¢«ä¼—å¤šçš„å¤§å…¬å¸ç”¨äºæŒç»­å¼€å‘<em>ä¼ä¸šçº§</em>æ•°æ®åº”ç”¨çš„åŸå› ä¹‹ä¸€ã€‚</p>\n<center><img src=\"https://img2024.cnblogs.com/blog/1344061/202509/1344061-20250910154430584-1965899431.png\" width=\"50%\" /></center>\n<p>è€Œéšç€æ‰€å¼€å‘çš„<code>Dash</code>åº”ç”¨åŠŸèƒ½æ—¥ç›Šå¢é•¿ï¼Œæˆ‘ä»¬åˆ™éœ€è¦å­¦ä¹ å¦‚ä½•åœ¨åº”ç”¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæ›´<strong>é«˜æ•ˆå‡†ç¡®</strong>çš„<em>è°ƒè¯•åº”ç”¨åŠŸèƒ½é€»è¾‘</em>ï¼Œ<em>å®šä½å¼‚å¸¸é—®é¢˜æ‰€åœ¨</em>ã€‚</p>\n<p>ä»Šå¤©çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°±æ¥ä¸€èµ·å­¦ä¹ æ–°ç‰ˆæœ¬<code>Dash</code>ï¼ˆ&gt;=3.4.0ç‰ˆæœ¬ï¼‰ä¸­å¢åŠ çš„ä¸€äº›åŠŸèƒ½ç‰¹æ€§ï¼Œå¸®åŠ©æˆ‘ä»¬æ›´ç²¾å‡†å¿«é€Ÿçš„å®šä½å¸¸è§å›è°ƒå‡½æ•°å¼€å‘é—®é¢˜ã€‚</p>\n<h1 id=\"2-åœ¨å›è°ƒå›¾ä¸­ç”¨hiddenå’Œhide_all_callbackså‚æ•°èšç„¦å›è°ƒå‡½æ•°\">2 åœ¨å›è°ƒå›¾ä¸­ç”¨hiddenå’Œhide_all_callbackså‚æ•°èšç„¦å›è°ƒå‡½æ•°</h1>\n<p>è™½ç„¶æˆ‘ä¹‹å‰åœ¨<em>å…¬ä¼—å·</em>ã€<em>ç©è½¬DashçŸ¥è¯†æ˜Ÿçƒ</em>ç­‰å¹³å°å‘å¸ƒçš„æ–‡ç« å’Œè¯¾ç¨‹ä¸­ï¼Œå¹¶æ²¡æœ‰ä¸“é—¨åšè¿‡ä»‹ç»ï¼Œä½†å¾ˆå¤šåŒå­¦åº”è¯¥å¯¹ç±»ä¼¼ä¸‹é¢çš„ç•Œé¢æœ‰å°è±¡ï¼šæˆ‘ä»¬åœ¨<code>Dash</code>åº”ç”¨å¼€å‘é˜¶æ®µï¼Œä¸º<code>app.run()</code>è®¾ç½®<code>debug=True</code>å¼€å¯<em>å¼€å‘è°ƒè¯•æ¨¡å¼</em>åï¼Œé€šè¿‡ç‚¹å‡»å³ä¸‹è§’å¼€å‘æ¨¡å¼å·¥å…·æ¡ä¸­çš„<strong>Callbacks</strong>æŒ‰é’®ï¼Œå¯ä»¥å±•å¼€ä¸€å¥—å¯äº¤äº’çš„<strong>æœ‰å‘å›¾</strong>ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶ç§°ä½œ<strong>å›è°ƒå›¾</strong>ã€‚</p>\n<center><img src=\"https://img2024.cnblogs.com/blog/1344061/202601/1344061-20260121175038215-1907019957.png\" /></center>\n<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒè®°å½•å¹¶å‘ˆç°å½“å‰<code>Dash</code>åº”ç”¨ä¸­å…¨éƒ¨çš„å›è°ƒå‡½æ•°ç¼–æ’å…³ç³»ï¼Œè¿™å¯¹äº<strong>å°å‹</strong>çš„<code>Dash</code>åº”ç”¨å¾ˆç›´è§‚æ˜äº†ï¼Œå› ä¸ºå›¾ä¸­çš„<em>èŠ‚ç‚¹</em>å’Œ<em>è¾¹</em>æ¯”è¾ƒå°‘ã€‚ä½†æ˜¯å¯¹äºé¡µé¢ä¼—å¤šã€åŠŸèƒ½é€»è¾‘ä¼—å¤šçš„ä¸­å¤§å‹<code>Dash</code>åº”ç”¨æ¥è¯´ï¼Œå½“ä½ æ‰“å¼€å›è°ƒå›¾æ—¶ï¼Œçœ‹åˆ°çš„å¯èƒ½æ˜¯ä¸‹é¢è¿™æ ·åºå¤§å¤æ‚çš„æ™¯è±¡ï¼š</p>\n<center><img src=\"https://img2024.cnblogs.com/blog/1344061/202601/1344061-20260121175040979-568062826.png\" /></center>\n<p>ğŸ˜…è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬å¤§æ¦‚ç‡ä¼šå½“åšä»€ä¹ˆéƒ½æ²¡çœ‹è§ï¼Œé»˜é»˜çš„å…³é—­å›è°ƒå›¾é¢æ¿ã€‚ã€‚ã€‚</p>\n<center><img src=\"https://img2024.cnblogs.com/blog/1344061/202601/1344061-20260121175055369-1439370721.jpg\" /></center>\n<p>é‚£ä¹ˆæœ‰æ²¡æœ‰åŠæ³•åœ¨è¿™ä¸ª<em>å›è°ƒå›¾</em>ä¸­é»˜è®¤<em>ä¸å±•ç¤ºå…¨éƒ¨</em>çš„<em>å›è°ƒå…³ç³»</em>ï¼Œåªé’ˆå¯¹ç›®å‰å…³æ³¨çš„éƒ¨åˆ†å›è°ƒå‡½æ•°è¿›è¡Œå±•ç¤ºå‘¢ï¼Ÿ</p>\n<p>æœ‰çš„å…„å¼Ÿï¼Œæœ‰çš„ï¼Œé¦–å…ˆæˆ‘ä»¬ç›´æ¥å°†<code>Dash</code>å‡çº§åˆ°<code>&gt;=3.4.0</code>ç‰ˆæœ¬ï¼š</p>\n<pre><code class=\"language-bash\">pip install dash -U\n</code></pre>\n<p>ä»¥å®ç°â€œæ‹¼æ¥ä¸¤ä¸ªè¾“å…¥æ¡†å†…å®¹â€çš„ç®€å•åº”ç”¨åŠŸèƒ½ä¸ºä¾‹ï¼š</p>\n<pre><code class=\"language-python\">import dash\nfrom dash import html\nimport feffery_antd_components as fac\nfrom dash.dependencies import Input, Output\nfrom feffery_dash_utils.style_utils import style\n\napp = dash.Dash(__name__, suppress_callback_exceptions=True)\n\napp.layout = html.Div(\n    [\n        fac.AntdSpace(\n            [\n                fac.AntdInput(id=\"input1\", placeholder=\"è¯·è¾“å…¥å†…å®¹\"),\n                fac.AntdInput(id=\"input2\", placeholder=\"è¯·è¾“å…¥å†…å®¹\"),\n                fac.AntdText(id=\"output-texxt\"),\n            ]\n        )\n    ],\n    style=style(padding=50),\n)\n\n@app.callback(\n    Output(\"output-text\", \"children\"),\n    Input(\"input1\", \"value\"),\n    Input(\"input2\", \"value\"),\n)\ndef combine_inputs(input1, input2):\n    \"\"\"æ‹¼æ¥è¾“å…¥çš„å†…å®¹\"\"\"\n    return \"æ‹¼æ¥ç»“æœï¼š\" + (input1 or \"\") + (input2 or \"\")\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n</code></pre>\n<p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä»£ç ä¸­ï¼Œæˆ‘ä»¬<strong>â€œä¸å°å¿ƒâ€</strong>åœ°æŠŠç”¨äº<em>æ˜¾ç¤ºæ‹¼æ¥å†…å®¹ç»“æœ</em>çš„ç»„ä»¶<code>id</code>å‚æ•°å†™æˆäº†<code>output-texxt</code>ğŸ¤¯ï¼Œè¿™ä¹Ÿæ˜¯æ¯”è¾ƒå¸¸è§çš„å¯¼è‡´å›è°ƒå‡½æ•°ä¸ç”Ÿæ•ˆçš„åŸå› ä¹‹ä¸€ï¼š</p>\n<center><img src=\"https://img2024.cnblogs.com/blog/1344061/202601/1344061-20260121175057590-225038268.png\" /></center>\n<p>è¿™ç§æƒ…å†µä¸‹ï¼Œå½“æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­å‘ç°ç›¸å…³åŠŸèƒ½æ²¡æœ‰å¦‚æœŸè¿ä½œæ—¶ï¼š</p>\n<center><img src=\"https://img2024.cnblogs.com/blog/1344061/202601/1344061-20260121175059670-668077126.gif\" /></center>\n<p>å°±å¯ä»¥<strong>ä¼˜å…ˆè€ƒè™‘</strong>é€šè¿‡<em>å›è°ƒå›¾</em>æŸ¥çœ‹å¯¹åº”å›è°ƒå‡½æ•°çš„æ‰§è¡Œæƒ…å†µï¼Œå¯ä»¥çœ‹åˆ°è™½ç„¶æˆ‘ä»¬åœ¨ç›¸å…³è¾“å…¥æ¡†é‡Œè¾“å…¥äº†ä¸€äº›å†…å®¹ï¼Œä½†å¯¹åº”çš„å›è°ƒå‡½æ•°ä¸€æ¬¡éƒ½æ²¡æ‰§è¡Œï¼ˆ<code>count 0</code>ï¼‰ï¼š</p>\n<center><img src=\"https://img2024.cnblogs.com/blog/1344061/202601/1344061-20260121175104165-1673715625.gif\" /></center>\n<p>è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬<strong>é¦–å…ˆ</strong>å°±å¯ä»¥æƒ³åˆ°æ˜¯ä¸æ˜¯å¯¹åº”å›è°ƒå‡½æ•°ä¸­æœ‰<code>Output</code>è§’è‰²çš„<code>id</code>ï¼Œä¸å¯¹åº”ç»„ä»¶å®šä¹‰çš„<code>id</code>å‚æ•°ä¸ä¸€æ ·ï¼Œç»è¿‡ä¿®æ­£ï¼ŒåŠŸèƒ½æ­£ç¡®è¿ä½œçš„æƒ…å†µä¸‹ï¼Œåœ¨å›è°ƒå›¾ç»“æœä¸­å°±å¯ä»¥çœ‹åˆ°è¯¥å›è°ƒå‡½æ•°<em>æ‰§è¡Œäº†å¤šå°‘æ¬¡</em>ã€<em>æ‰§è¡Œè€—æ—¶</em>ç­‰æœ‰ç”¨çš„ä¿¡æ¯ï¼š</p>\n<center><img src=\"https://img2024.cnblogs.com/blog/1344061/202601/1344061-20260121175106405-386111932.gif\" /></center>\n<p>æ­¤æ—¶ï¼Œæˆ‘ä»¬å†è”æƒ³åˆ°ä¸Šæ–‡ä¸­å±•ç¤ºè¿‡çš„ï¼Œå¯¹åº”ä¸­å¤§å‹<code>Dash</code>åº”ç”¨çš„<strong>éå¸¸åºæ‚</strong>çš„å›è°ƒå›¾ï¼Œå‡å¦‚ä¸Šé¢è¿™ä¸ªå›è°ƒå‡½æ•°<code>debug</code>çš„åœºæ™¯å‡ºç°åœ¨ç±»ä¼¼è§„æ¨¡çš„åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬å°±å¯ä»¥åŸºäº<code>Dash&gt;=3.4.0</code>ç‰ˆæœ¬ï¼Œé¦–å…ˆåœ¨<code>app.run()</code>ä¸­è®¾ç½®<code>hide_all_callbacks=True</code>ï¼Œè¿™å°†åœ¨å›è°ƒå›¾ä¸­å¼ºåˆ¶éšè—æ‰€æœ‰çš„å›è°ƒå‡½æ•°ï¼š</p>\n<center><img src=\"https://img2024.cnblogs.com/blog/1344061/202601/1344061-20260121175111240-318613727.png\" /></center>\n<p>ç„¶åå†ä¸ºå¯¹åº”çš„å›è°ƒå‡½æ•°<code>callback()</code>ä¸­è®¾ç½®<code>hidden=False</code>ï¼š</p>\n<center><img src=\"https://img2024.cnblogs.com/blog/1344061/202601/1344061-20260121175113131-149325016.png\" /></center>\n<p>è¿™å°†ä»¥<em>æ›´é«˜çš„ä¼˜å…ˆçº§</em>ï¼Œåœ¨å›è°ƒå›¾ä¸­<strong>å¼ºåˆ¶å±•ç¤º</strong>å½“å‰å›è°ƒå‡½æ•°å…³ç³»ï¼Œè¿™æ ·æ— è®ºæ˜¯å†å¤æ‚çš„<code>Dash</code>åº”ç”¨ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥åœ¨<em>å›è°ƒå›¾</em>ä¸­åª<strong>èšç„¦</strong>äºæˆ‘ä»¬å…³æ³¨çš„é‚£äº›å›è°ƒå‡½æ•°ï¼Œå¤§å¹…åº¦æå‡åº”ç”¨åŠŸèƒ½è°ƒè¯•æ•ˆç‡ğŸš€ï¼š</p>\n<center><img src=\"https://img2024.cnblogs.com/blog/1344061/202601/1344061-20260121175114783-1832623334.png\" /></center>\n<p>å¤§å®¶å¯ä»¥åœ¨æ—¥å¸¸å¼€å‘<code>Dash</code>åº”ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œå¤šå¤šåˆ©ç”¨ä»Šå¤©ä»‹ç»çš„æŠ€å·§ï¼Œå¼€å‘å‡ºæ›´ç¨³å¥çš„åº”ç”¨ğŸ’ª~</p>\n<hr />\n<p>æ›´å¤šæœ‰å…³<code>Dash</code>åº”ç”¨å¼€å‘çš„å¹²è´§å†…å®¹ï¼Œæ¬¢è¿æŒç»­å…³æ³¨æˆ‘ä»¬â¤ï¸</p>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-21 17:53</span>&nbsp;\n<a href=\"https://www.cnblogs.com/feffery\">è´¹å¼—é‡Œ</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">8</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "SpringBooté¡¹ç›®çš„å›½é™…åŒ–æµç¨‹",
      "link": "https://www.cnblogs.com/Marktowin/p/19511993",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/Marktowin/p/19511993\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-21 15:15\">\n    <span>SpringBooté¡¹ç›®çš„å›½é™…åŒ–æµç¨‹</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body blogpost-body-html\" id=\"cnblogs_post_body\">\n<p dir=\"auto\">åœ¨ Spring Boot é¡¹ç›®å·²ç»å¼€å‘å®Œæˆåï¼Œæƒ³è¦å®ç°å›½é™…åŒ–ï¼ˆi18nï¼‰ï¼Œè®©æ‰€æœ‰æç¤ºä¿¡æ¯ï¼ˆåç«¯è¿”å›çš„é”™è¯¯æ¶ˆæ¯ã€æˆåŠŸæ¶ˆæ¯ã€å¼‚å¸¸ä¿¡æ¯ã€æšä¸¾æè¿°ç­‰ï¼‰æ”¯æŒå¤šè¯­è¨€ï¼Œå¤„ç†æµç¨‹å¦‚ä¸‹ï¼š</p>\n<h3 dir=\"auto\">1. åˆ›å»ºå›½é™…åŒ–èµ„æºæ–‡ä»¶ï¼ˆmessages.propertiesï¼‰</h3>\n<p dir=\"auto\">åœ¨ src/main/resources ç›®å½•ä¸‹ï¼ˆæ–°å»º i18n å­ç›®å½•ï¼‰ï¼Œåˆ›å»ºä»¥ä¸‹æ–‡ä»¶ï¼š</p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 128, 1);\">1</span> src/main/resources/\n<span style=\"color: rgba(0, 128, 128, 1);\">2</span> â””â”€â”€ i18n/\n<span style=\"color: rgba(0, 128, 128, 1);\">3</span> <span style=\"color: rgba(0, 0, 0, 1);\">    â”œâ”€â”€ messages.properties           # é»˜è®¤è¯­è¨€ï¼ˆé€šå¸¸æ˜¯ä¸­æ–‡æˆ–è‹±æ–‡ï¼‰\n</span><span style=\"color: rgba(0, 128, 128, 1);\">4</span> <span style=\"color: rgba(0, 0, 0, 1);\">    â”œâ”€â”€ messages_zh_CN.properties     # ç®€ä½“ä¸­æ–‡\n</span><span style=\"color: rgba(0, 128, 128, 1);\">5</span> <span style=\"color: rgba(0, 0, 0, 1);\">    â”œâ”€â”€ messages_en_US.properties     # ç¾å¼è‹±æ–‡\n</span><span style=\"color: rgba(0, 128, 128, 1);\">6</span> <span style=\"color: rgba(0, 0, 0, 1);\">    â”œâ”€â”€ messages_zh_TW.properties     # ç¹ä½“ä¸­æ–‡ï¼ˆå¯é€‰ï¼‰\n</span><span style=\"color: rgba(0, 128, 128, 1);\">7</span>     â””â”€â”€ messages_ja.properties        # æ—¥è¯­ï¼ˆå¯é€‰ï¼‰</pre>\n</div>\n<p dir=\"auto\">messages.propertiesï¼ˆä¸­æ–‡ç¤ºä¾‹ï¼‰ï¼š</p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 128, 1);\">1</span> <span style=\"color: rgba(0, 0, 0, 1);\"># é€šç”¨æç¤º\n</span><span style=\"color: rgba(0, 128, 128, 1);\">2</span> success=<span style=\"color: rgba(0, 0, 0, 1);\">æ“ä½œæˆåŠŸ\n</span><span style=\"color: rgba(0, 128, 128, 1);\">3</span> error.system=<span style=\"color: rgba(0, 0, 0, 1);\">ç³»ç»Ÿå¼‚å¸¸ï¼Œè¯·ç¨åé‡è¯•\n</span><span style=\"color: rgba(0, 128, 128, 1);\">4</span> error.notfound=<span style=\"color: rgba(0, 0, 0, 1);\">èµ„æºä¸å­˜åœ¨\n</span><span style=\"color: rgba(0, 128, 128, 1);\">5</span> \n<span style=\"color: rgba(0, 128, 128, 1);\">6</span> <span style=\"color: rgba(0, 0, 0, 1);\"># ä¸šåŠ¡æç¤º\n</span><span style=\"color: rgba(0, 128, 128, 1);\">7</span> user.login.success=<span style=\"color: rgba(0, 0, 0, 1);\">ç™»å½•æˆåŠŸ\n</span><span style=\"color: rgba(0, 128, 128, 1);\">8</span> user.login.fail=<span style=\"color: rgba(0, 0, 0, 1);\">ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯\n</span><span style=\"color: rgba(0, 128, 128, 1);\">9</span> user.notfound=ç”¨æˆ·ä¸å­˜åœ¨</pre>\n</div>\n<p dir=\"auto\">messages_en_US.propertiesï¼ˆè‹±æ–‡ç¤ºä¾‹ï¼‰ï¼š</p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 128, 1);\">1</span> success=<span style=\"color: rgba(0, 0, 0, 1);\">Operation successful\n</span><span style=\"color: rgba(0, 128, 128, 1);\">2</span> error.system=System error, please <span style=\"color: rgba(0, 0, 255, 1);\">try</span><span style=\"color: rgba(0, 0, 0, 1);\"> again later\n</span><span style=\"color: rgba(0, 128, 128, 1);\">3</span> error.notfound=<span style=\"color: rgba(0, 0, 0, 1);\">Resource not found\n</span><span style=\"color: rgba(0, 128, 128, 1);\">4</span> \n<span style=\"color: rgba(0, 128, 128, 1);\">5</span> user.login.success=<span style=\"color: rgba(0, 0, 0, 1);\">Login successful\n</span><span style=\"color: rgba(0, 128, 128, 1);\">6</span> user.login.fail=<span style=\"color: rgba(0, 0, 0, 1);\">Username or password is incorrect\n</span><span style=\"color: rgba(0, 128, 128, 1);\">7</span> user.notfound=User not found</pre>\n</div>\n<p dir=\"auto\"><strong>æ³¨æ„</strong>ï¼š</p>\n<ul dir=\"auto\">\n<li>æ–‡ä»¶åå¿…é¡»ä»¥ messages å¼€å¤´ï¼ˆSpring Boot é»˜è®¤æŸ¥æ‰¾è§„åˆ™ï¼‰ã€‚</li>\n<li>æ‰€æœ‰æç¤ºç»Ÿä¸€æ”¾åœ¨ i18n ç›®å½•ä¸‹ï¼Œæ–¹ä¾¿ç®¡ç†ã€‚</li>\n</ul>\n<h3 dir=\"auto\">2. é…ç½® application.ymlï¼ˆæˆ– application.propertiesï¼‰</h3>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 128, 1);\">1</span> <span style=\"color: rgba(0, 0, 0, 1);\"># application.yml\n</span><span style=\"color: rgba(0, 128, 128, 1);\">2</span> <span style=\"color: rgba(0, 0, 0, 1);\">spring:\n</span><span style=\"color: rgba(0, 128, 128, 1);\">3</span> <span style=\"color: rgba(0, 0, 0, 1);\">  messages:\n</span><span style=\"color: rgba(0, 128, 128, 1);\">4</span>     basename: i18n/<span style=\"color: rgba(0, 0, 0, 1);\">messages          # èµ„æºæ–‡ä»¶åŸºç¡€åï¼ˆæ”¯æŒé€šé…ç¬¦ï¼‰\n</span><span style=\"color: rgba(0, 128, 128, 1);\">5</span>     encoding: UTF-8                 # å¿…é¡»æ˜¯ UTF-8\n<span style=\"color: rgba(0, 128, 128, 1);\">6</span>     fallback-to-system-locale: <span style=\"color: rgba(0, 0, 255, 1);\">false</span> # æ¨èè®¾ç½®ä¸º <span style=\"color: rgba(0, 0, 255, 1);\">false</span><span style=\"color: rgba(0, 0, 0, 1);\">ï¼ˆæ‰¾ä¸åˆ°å¯¹åº”è¯­è¨€æ—¶ä¸å›é€€åˆ°ç³»ç»Ÿé»˜è®¤Localeï¼‰\n</span><span style=\"color: rgba(0, 128, 128, 1);\">7</span>     use-code-as-<span style=\"color: rgba(0, 0, 255, 1);\">default</span>-message: <span style=\"color: rgba(0, 0, 255, 1);\">true</span> # æ‰¾ä¸åˆ°keyæ—¶ç›´æ¥è¿”å›codeï¼ˆè°ƒè¯•æ–¹ä¾¿ï¼Œä¸Šçº¿å¯æ”¹ä¸ºfalseï¼‰</pre>\n</div>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 128, 1);\">1</span> <span style=\"color: rgba(0, 0, 0, 1);\">#  properties\n</span><span style=\"color: rgba(0, 128, 128, 1);\">2</span> spring.messages.basename=i18n/<span style=\"color: rgba(0, 0, 0, 1);\">messages\n</span><span style=\"color: rgba(0, 128, 128, 1);\">3</span> spring.messages.encoding=UTF-8\n<span style=\"color: rgba(0, 128, 128, 1);\">4</span> spring.messages.fallback-to-system-locale=<span style=\"color: rgba(0, 0, 255, 1);\">false</span>\n<span style=\"color: rgba(0, 128, 128, 1);\">5</span> spring.messages.use-code-as-<span style=\"color: rgba(0, 0, 255, 1);\">default</span>-message=<span style=\"color: rgba(0, 0, 255, 1);\">true</span></pre>\n</div>\n<h3 dir=\"auto\">3. è‡ªå®šä¹‰ LocaleResolver å’Œ LocaleChangeInterceptorï¼ˆæ”¯æŒå‰ç«¯ä¼ å‚åˆ‡æ¢è¯­è¨€ï¼‰</h3>\n<p dir=\"auto\">Spring Boot é»˜è®¤ä½¿ç”¨ <strong>AcceptHeaderLocaleResolver</strong>ï¼ˆæ ¹æ®è¯·æ±‚å¤´ Accept-Language è‡ªåŠ¨è¯†åˆ«ï¼‰ï¼Œç”Ÿäº§ç¯å¢ƒé€šå¸¸è¿˜éœ€è¦æ”¯æŒé€šè¿‡å‚æ•°æˆ– cookie åˆ‡æ¢è¯­è¨€ã€‚</p>\n<p dir=\"auto\">ä½¿ç”¨ SessionLocaleResolver + LocaleChangeInterceptorï¼š</p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 128, 1);\"> 1</span> <span style=\"color: rgba(0, 0, 0, 1);\">@Configuration\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 2</span> <span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">class</span> LocaleConfig <span style=\"color: rgba(0, 0, 255, 1);\">implements</span><span style=\"color: rgba(0, 0, 0, 1);\"> WebMvcConfigurer {\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 3</span> \n<span style=\"color: rgba(0, 128, 128, 1);\"> 4</span>     <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> é»˜è®¤è¯­è¨€</span>\n<span style=\"color: rgba(0, 128, 128, 1);\"> 5</span> <span style=\"color: rgba(0, 0, 0, 1);\">    @Bean\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 6</span>     <span style=\"color: rgba(0, 0, 255, 1);\">public</span><span style=\"color: rgba(0, 0, 0, 1);\"> LocaleResolver localeResolver() {\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 7</span>         SessionLocaleResolver localeResolver = <span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> SessionLocaleResolver();\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 8</span>         localeResolver.setDefaultLocale(Locale.SIMPLIFIED_CHINESE); <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> é»˜è®¤ç®€ä½“ä¸­æ–‡</span>\n<span style=\"color: rgba(0, 128, 128, 1);\"> 9</span>         <span style=\"color: rgba(0, 0, 255, 1);\">return</span><span style=\"color: rgba(0, 0, 0, 1);\"> localeResolver;\n</span><span style=\"color: rgba(0, 128, 128, 1);\">10</span> <span style=\"color: rgba(0, 0, 0, 1);\">    }\n</span><span style=\"color: rgba(0, 128, 128, 1);\">11</span> \n<span style=\"color: rgba(0, 128, 128, 1);\">12</span>     <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ‹¦æˆªå™¨ï¼šæ”¯æŒ ?lang=zh_CN æˆ– ?lang=en_US åˆ‡æ¢è¯­è¨€</span>\n<span style=\"color: rgba(0, 128, 128, 1);\">13</span> <span style=\"color: rgba(0, 0, 0, 1);\">    @Bean\n</span><span style=\"color: rgba(0, 128, 128, 1);\">14</span>     <span style=\"color: rgba(0, 0, 255, 1);\">public</span><span style=\"color: rgba(0, 0, 0, 1);\"> LocaleChangeInterceptor localeChangeInterceptor() {\n</span><span style=\"color: rgba(0, 128, 128, 1);\">15</span>         LocaleChangeInterceptor lci = <span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> LocaleChangeInterceptor();\n</span><span style=\"color: rgba(0, 128, 128, 1);\">16</span>         lci.setParamName(\"lang\"); <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> å‰ç«¯ä¼ å‚å</span>\n<span style=\"color: rgba(0, 128, 128, 1);\">17</span>         <span style=\"color: rgba(0, 0, 255, 1);\">return</span><span style=\"color: rgba(0, 0, 0, 1);\"> lci;\n</span><span style=\"color: rgba(0, 128, 128, 1);\">18</span> <span style=\"color: rgba(0, 0, 0, 1);\">    }\n</span><span style=\"color: rgba(0, 128, 128, 1);\">19</span> \n<span style=\"color: rgba(0, 128, 128, 1);\">20</span> <span style=\"color: rgba(0, 0, 0, 1);\">    @Override\n</span><span style=\"color: rgba(0, 128, 128, 1);\">21</span>     <span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">void</span><span style=\"color: rgba(0, 0, 0, 1);\"> addInterceptors(InterceptorRegistry registry) {\n</span><span style=\"color: rgba(0, 128, 128, 1);\">22</span> <span style=\"color: rgba(0, 0, 0, 1);\">        registry.addInterceptor(localeChangeInterceptor());\n</span><span style=\"color: rgba(0, 128, 128, 1);\">23</span> <span style=\"color: rgba(0, 0, 0, 1);\">    }\n</span><span style=\"color: rgba(0, 128, 128, 1);\">24</span> }</pre>\n</div>\n<p dir=\"auto\">è‹¥ä¼˜å…ˆä»è¯·æ±‚å¤´è¯†åˆ«ï¼Œå†æ”¯æŒå‚æ•°åˆ‡æ¢ï¼Œå¯ä»¥è‡ªå®šä¹‰ LocaleResolverï¼ˆæ›´çµæ´»ï¼‰ã€‚</p>\n<h3 dir=\"auto\">4. åœ¨ä»£ç ä¸­ä½¿ç”¨ MessageSource è·å–å›½é™…åŒ–æ¶ˆæ¯</h3>\n<h4 dir=\"auto\">æ–¹å¼ä¸€ï¼šæ³¨å…¥ MessageSource</h4>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 128, 1);\"> 1</span> <span style=\"color: rgba(0, 0, 0, 1);\">@RestController\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 2</span> @RequestMapping(\"/api\"<span style=\"color: rgba(0, 0, 0, 1);\">)\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 3</span> <span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">class</span><span style=\"color: rgba(0, 0, 0, 1);\"> UserController {\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 4</span> \n<span style=\"color: rgba(0, 128, 128, 1);\"> 5</span> <span style=\"color: rgba(0, 0, 0, 1);\">    @Autowired\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 6</span>     <span style=\"color: rgba(0, 0, 255, 1);\">private</span><span style=\"color: rgba(0, 0, 0, 1);\"> MessageSource messageSource;\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 7</span> \n<span style=\"color: rgba(0, 128, 128, 1);\"> 8</span>     @GetMapping(\"/test\"<span style=\"color: rgba(0, 0, 0, 1);\">)\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 9</span>     <span style=\"color: rgba(0, 0, 255, 1);\">public</span> ResponseEntity&lt;String&gt; test(Locale locale) { <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> Locale å¯é€‰ä»å‚æ•°æ³¨å…¥\n</span><span style=\"color: rgba(0, 128, 128, 1);\">10</span>         <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ–¹å¼1ï¼šç›´æ¥ä½¿ç”¨ locale å‚æ•°</span>\n<span style=\"color: rgba(0, 128, 128, 1);\">11</span>         String msg = messageSource.getMessage(\"user.login.success\", <span style=\"color: rgba(0, 0, 255, 1);\">null</span><span style=\"color: rgba(0, 0, 0, 1);\">, locale);\n</span><span style=\"color: rgba(0, 128, 128, 1);\">12</span> \n<span style=\"color: rgba(0, 128, 128, 1);\">13</span>         <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ–¹å¼2ï¼šä» LocaleContextHolder è·å–å½“å‰è¯­è¨€ï¼ˆæ¨èï¼ï¼‰</span>\n<span style=\"color: rgba(0, 128, 128, 1);\">14</span>         String msg2 = messageSource.getMessage(\"user.login.success\", <span style=\"color: rgba(0, 0, 255, 1);\">null</span><span style=\"color: rgba(0, 0, 0, 1);\">, LocaleContextHolder.getLocale());\n</span><span style=\"color: rgba(0, 128, 128, 1);\">15</span> \n<span style=\"color: rgba(0, 128, 128, 1);\">16</span>         <span style=\"color: rgba(0, 0, 255, 1);\">return</span><span style=\"color: rgba(0, 0, 0, 1);\"> ResponseEntity.ok(msg2);\n</span><span style=\"color: rgba(0, 128, 128, 1);\">17</span> <span style=\"color: rgba(0, 0, 0, 1);\">    }\n</span><span style=\"color: rgba(0, 128, 128, 1);\">18</span> }</pre>\n</div>\n<h4 dir=\"auto\">æ–¹å¼äºŒï¼šç»Ÿä¸€å°è£…å·¥å…·ç±»</h4>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 128, 1);\"> 1</span> <span style=\"color: rgba(0, 0, 0, 1);\">@Component\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 2</span> <span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">class</span><span style=\"color: rgba(0, 0, 0, 1);\"> MessageUtils {\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 3</span> \n<span style=\"color: rgba(0, 128, 128, 1);\"> 4</span>     <span style=\"color: rgba(0, 0, 255, 1);\">private</span> <span style=\"color: rgba(0, 0, 255, 1);\">static</span><span style=\"color: rgba(0, 0, 0, 1);\"> MessageSource messageSource;\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 5</span> \n<span style=\"color: rgba(0, 128, 128, 1);\"> 6</span> <span style=\"color: rgba(0, 0, 0, 1);\">    @Autowired\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 7</span>     <span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">void</span><span style=\"color: rgba(0, 0, 0, 1);\"> setMessageSource(MessageSource messageSource) {\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 8</span>         MessageUtils.messageSource =<span style=\"color: rgba(0, 0, 0, 1);\"> messageSource;\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 9</span> <span style=\"color: rgba(0, 0, 0, 1);\">    }\n</span><span style=\"color: rgba(0, 128, 128, 1);\">10</span> \n<span style=\"color: rgba(0, 128, 128, 1);\">11</span>     <span style=\"color: rgba(0, 128, 0, 1);\">/**</span>\n<span style=\"color: rgba(0, 128, 128, 1);\">12</span> <span style=\"color: rgba(0, 128, 0, 1);\">     * è·å–å›½é™…åŒ–æ¶ˆæ¯\n</span><span style=\"color: rgba(0, 128, 128, 1);\">13</span>      <span style=\"color: rgba(0, 128, 0, 1);\">*/</span>\n<span style=\"color: rgba(0, 128, 128, 1);\">14</span>     <span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">static</span><span style=\"color: rgba(0, 0, 0, 1);\"> String getMessage(String code, Object... args) {\n</span><span style=\"color: rgba(0, 128, 128, 1);\">15</span>         <span style=\"color: rgba(0, 0, 255, 1);\">return</span><span style=\"color: rgba(0, 0, 0, 1);\"> messageSource.getMessage(code, args, LocaleContextHolder.getLocale());\n</span><span style=\"color: rgba(0, 128, 128, 1);\">16</span> <span style=\"color: rgba(0, 0, 0, 1);\">    }\n</span><span style=\"color: rgba(0, 128, 128, 1);\">17</span> \n<span style=\"color: rgba(0, 128, 128, 1);\">18</span>     <span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">static</span><span style=\"color: rgba(0, 0, 0, 1);\"> String getMessage(String code) {\n</span><span style=\"color: rgba(0, 128, 128, 1);\">19</span>         <span style=\"color: rgba(0, 0, 255, 1);\">return</span> getMessage(code, (Object) <span style=\"color: rgba(0, 0, 255, 1);\">null</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n</span><span style=\"color: rgba(0, 128, 128, 1);\">20</span> <span style=\"color: rgba(0, 0, 0, 1);\">    }\n</span><span style=\"color: rgba(0, 128, 128, 1);\">21</span> }</pre>\n</div>\n<p dir=\"auto\">ä½¿ç”¨æ–¹å¼ï¼š</p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 128, 1);\">1</span> <span style=\"color: rgba(0, 0, 255, 1);\">throw</span> <span style=\"color: rgba(0, 0, 255, 1);\">new</span> BusinessException(MessageUtils.getMessage(\"user.notfound\"<span style=\"color: rgba(0, 0, 0, 1);\">));\n</span><span style=\"color: rgba(0, 128, 128, 1);\">2</span> <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æˆ–</span>\n<span style=\"color: rgba(0, 128, 128, 1);\">3</span> <span style=\"color: rgba(0, 0, 255, 1);\">return</span> Result.error(MessageUtils.getMessage(\"error.system\"));</pre>\n</div>\n<h3 dir=\"auto\">5. å…¨å±€å¼‚å¸¸å¤„ç†ä¸­ä½¿ç”¨å›½é™…åŒ–</h3>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 128, 1);\"> 1</span> <span style=\"color: rgba(0, 0, 0, 1);\">@RestControllerAdvice\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 2</span> <span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">class</span><span style=\"color: rgba(0, 0, 0, 1);\"> GlobalExceptionHandler {\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 3</span> \n<span style=\"color: rgba(0, 128, 128, 1);\"> 4</span>     @ExceptionHandler(BusinessException.<span style=\"color: rgba(0, 0, 255, 1);\">class</span><span style=\"color: rgba(0, 0, 0, 1);\">)\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 5</span>     <span style=\"color: rgba(0, 0, 255, 1);\">public</span> Result&lt;?&gt;<span style=\"color: rgba(0, 0, 0, 1);\"> handleBusinessException(BusinessException e) {\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 6</span>         <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> å‡è®¾ BusinessException é‡Œé¢å­˜äº† messageCode</span>\n<span style=\"color: rgba(0, 128, 128, 1);\"> 7</span>         String message =<span style=\"color: rgba(0, 0, 0, 1);\"> MessageUtils.getMessage(e.getCode(), e.getArgs());\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 8</span>         <span style=\"color: rgba(0, 0, 255, 1);\">return</span><span style=\"color: rgba(0, 0, 0, 1);\"> Result.error(message);\n</span><span style=\"color: rgba(0, 128, 128, 1);\"> 9</span> <span style=\"color: rgba(0, 0, 0, 1);\">    }\n</span><span style=\"color: rgba(0, 128, 128, 1);\">10</span> \n<span style=\"color: rgba(0, 128, 128, 1);\">11</span>     @ExceptionHandler(Exception.<span style=\"color: rgba(0, 0, 255, 1);\">class</span><span style=\"color: rgba(0, 0, 0, 1);\">)\n</span><span style=\"color: rgba(0, 128, 128, 1);\">12</span>     <span style=\"color: rgba(0, 0, 255, 1);\">public</span> Result&lt;?&gt;<span style=\"color: rgba(0, 0, 0, 1);\"> handleException(Exception e) {\n</span><span style=\"color: rgba(0, 128, 128, 1);\">13</span>         <span style=\"color: rgba(0, 0, 255, 1);\">return</span> Result.error(MessageUtils.getMessage(\"error.system\"<span style=\"color: rgba(0, 0, 0, 1);\">));\n</span><span style=\"color: rgba(0, 128, 128, 1);\">14</span> <span style=\"color: rgba(0, 0, 0, 1);\">    }\n</span><span style=\"color: rgba(0, 128, 128, 1);\">15</span> }</pre>\n</div>\n<h3 dir=\"auto\">6. æ”¯æŒå‚æ•°å ä½ç¬¦</h3>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 128, 1);\">1</span> <span style=\"color: rgba(0, 0, 0, 1);\"># messages.properties\n</span><span style=\"color: rgba(0, 128, 128, 1);\">2</span> user.age.limit=å¹´é¾„å¿…é¡»åœ¨ {0} åˆ° {1} å²ä¹‹é—´</pre>\n</div>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 128, 1);\">1</span> String msg = MessageUtils.getMessage(\"user.age.limit\", 18, 60<span style=\"color: rgba(0, 0, 0, 1);\">);\n</span><span style=\"color: rgba(0, 128, 128, 1);\">2</span> <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> è¾“å‡ºï¼šå¹´é¾„å¿…é¡»åœ¨ 18 åˆ° 60 å²ä¹‹é—´</span></pre>\n</div>\n<h3 dir=\"auto\">7. å¸¸è§æœ€ä½³å®è·µæ€»ç»“</h3>\n<table style=\"height: 317px; width: 579px;\">\n<thead>\n<tr><th>å¤„ç†ç‚¹</th><th>å¤„ç†æ–¹å¼</th></tr>\n</thead>\n<tbody>\n<tr>\n<td>èµ„æºæ–‡ä»¶ä½ç½®</td>\n<td><code>src/main/resources/i18n/messages_*.properties</code></td>\n</tr>\n<tr>\n<td>é»˜è®¤è¯­è¨€</td>\n<td>ç®€ä½“ä¸­æ–‡ï¼ˆ<code>Locale.SIMPLIFIED_CHINESE</code>ï¼‰</td>\n</tr>\n<tr>\n<td>è¯­è¨€åˆ‡æ¢æ–¹å¼</td>\n<td>è¯·æ±‚å¤´ <code>Accept-Language</code> + <code>?lang=zh_CN</code></td>\n</tr>\n<tr>\n<td>æ¶ˆæ¯è·å–æ–¹å¼</td>\n<td>ä¼˜å…ˆä½¿ç”¨ <code>LocaleContextHolder.getLocale()</code></td>\n</tr>\n<tr>\n<td>å·¥å…·ç±»</td>\n<td>å°è£… <code>MessageUtils</code> ç»Ÿä¸€è·å–</td>\n</tr>\n<tr>\n<td>å¼‚å¸¸æ¶ˆæ¯</td>\n<td>å…¨éƒ¨ä½¿ç”¨ code + MessageUtils è·å–</td>\n</tr>\n<tr>\n<td>æ‰¾ä¸åˆ°key</td>\n<td>å»ºè®® <code>use-code-as-default-message=false</code></td>\n</tr>\n<tr>\n<td>ç¼–ç </td>\n<td>å¿…é¡» <code>UTF-8</code></td>\n</tr>\n</tbody>\n</table>\n<p dir=\"auto\">&nbsp;</p>\n<h3 dir=\"auto\">8. æµ‹è¯•æ–¹æ³•</h3>\n<ul dir=\"auto\">\n<li>æµè§ˆå™¨å¼€å‘è€…å·¥å…· â†’ Network â†’ ä¿®æ”¹è¯·æ±‚å¤´ Accept-Language: en-US,en;q=0.9</li>\n<li>æˆ–ç›´æ¥åœ¨ URL ååŠ  ?lang=en_US</li>\n</ul>\n<p dir=\"auto\">å®Œæˆä»¥ä¸Šæ­¥éª¤ï¼Œä½ çš„ Spring Boot é¡¹ç›®å°±å®ç°äº†æ ‡å‡†çš„å›½é™…åŒ–æ”¯æŒï¼Œæ‰€æœ‰æç¤ºä¿¡æ¯éƒ½å¯ä»¥æ ¹æ®ç”¨æˆ·è¯­è¨€è‡ªåŠ¨åˆ‡æ¢ã€‚</p>\n<p dir=\"auto\">&nbsp;</p>\n<p dir=\"auto\">&nbsp;</p>\n<p dir=\"auto\">&nbsp;</p>\n<p dir=\"auto\">&nbsp;</p>\n<p dir=\"auto\">&nbsp;</p>\n<p dir=\"auto\">&nbsp;</p>\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-21 15:15</span>&nbsp;\n<a href=\"https://www.cnblogs.com/Marktowin\">Marktowin</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">120</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "Dynamicâ€‘SQL2 æŸ¥è¯¢ç¯‡ï¼šMyBatis å¢å¼ºåˆ©å™¨ï¼Œè®© SQL åƒå†™ Java ä¸€æ ·ä¸æ»‘",
      "link": "https://www.cnblogs.com/pengweizhong/p/19511865",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/pengweizhong/p/19511865\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-21 14:43\">\n    <span>Dynamicâ€‘SQL2 æŸ¥è¯¢ç¯‡ï¼šMyBatis å¢å¼ºåˆ©å™¨ï¼Œè®© SQL åƒå†™ Java ä¸€æ ·ä¸æ»‘</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h1 id=\"dynamicsql2-æŸ¥è¯¢ç¯‡mybatis-å¢å¼ºåˆ©å™¨è®©-sql-åƒå†™-java-ä¸€æ ·ä¸æ»‘\">Dynamicâ€‘SQL2 æŸ¥è¯¢ç¯‡ï¼šMyBatis å¢å¼ºåˆ©å™¨ï¼Œè®© SQL åƒå†™ Java ä¸€æ ·ä¸æ»‘</h1>\n<blockquote>\n<p><strong>dynamicâ€‘sql2 çš„æŸ¥è¯¢èƒ½åŠ›è®¾è®¡ç›®æ ‡ï¼š</strong>   å†™ SQL è¦åƒå†™ Java ä¸€æ ·è‡ªç„¶ï¼›å¤æ‚æŸ¥è¯¢è¦åƒæ­ç§¯æœ¨ä¸€æ ·ç»„åˆï¼›ç»“æœæ˜ å°„è¦åƒæ“ä½œé›†åˆä¸€æ ·é¡ºæ»‘ã€‚</p>\n</blockquote>\n<p>æœ¬ç¯‡ç®€è¿°äº†ï¼š</p>\n<ul>\n<li>åŸºç¡€æŸ¥è¯¢</li>\n<li>ç»“æœæ˜ å°„</li>\n<li>åˆ†ç»„ / Map / åˆ†é¡µ</li>\n<li>Join / å­æŸ¥è¯¢ / JSON è¡¨</li>\n<li>åŠ¨æ€åˆ—å¼•ç”¨</li>\n<li>æ’åºä¸ SQL æ³¨å…¥é˜²å¾¡</li>\n<li>å¿½ç•¥åˆ—</li>\n<li>å‡½æ•°æŸ¥è¯¢</li>\n<li>æ­£åˆ™åŒ¹é…æ¡ä»¶</li>\n<li><strong>åŠ¨æ€åº“è¡¨åç§°ï¼ˆschema/tableï¼‰æœºåˆ¶</strong></li>\n<li><strong>åˆ†é¡µä½“ç³»ï¼ˆdynamicâ€‘sql2 / MyBatis / é€»è¾‘åˆ†é¡µï¼‰</strong></li>\n</ul>\n<h1 id=\"å¼•å…¥ä¾èµ–\">å¼•å…¥ä¾èµ–</h1>\n<blockquote>\n<p>æˆªæ­¢è‡³<code>2026-01-21</code>ï¼Œæœ€æ–°ç‰ˆæ˜¯<code>0.1.8</code>ï¼Œé¡¹ç›®åœ°å€ï¼š<a href=\"https://github.com/pengweizhong/dynamic-sql2\" rel=\"noopener nofollow\" target=\"_blank\">https://github.com/pengweizhong/dynamic-sql2</a></p>\n</blockquote>\n<pre><code class=\"language-xml\">        &lt;!-- Spring2.x --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.dynamic-sql&lt;/groupId&gt;\n            &lt;artifactId&gt;dynamic-sql2-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;0.1.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Spring3.x --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.dynamic-sql&lt;/groupId&gt;\n            &lt;artifactId&gt;dynamic-sql2-spring-boot3-starter&lt;/artifactId&gt;\n            &lt;version&gt;0.1.8&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>åœ¨<code>repository</code>å±‚æ³¨å…¥<code>SqlContext</code>  å¢åˆ æ”¹æŸ¥éƒ½å’Œæ­¤å¯¹è±¡äº¤äº’ï¼š</p>\n<pre><code class=\"language-java\">    @Resource\n    private SqlContext sqlContext;\n</code></pre>\n<h1 id=\"1-åŸºç¡€æŸ¥è¯¢ä¸ç»“æœæ˜ å°„\">1. åŸºç¡€æŸ¥è¯¢ä¸ç»“æœæ˜ å°„</h1>\n<h2 id=\"11-æŸ¥è¯¢åˆ—è¡¨\">1.1 æŸ¥è¯¢åˆ—è¡¨</h2>\n<pre><code class=\"language-java\">List&lt;Product&gt; list = sqlContext.select()\n        .allColumn()\n        .from(Product.class)\n        .fetch()\n        .toList();\n</code></pre>\n<h2 id=\"12-æŸ¥è¯¢å•åˆ—æ ‡é‡\">1.2 æŸ¥è¯¢å•åˆ—ï¼ˆæ ‡é‡ï¼‰</h2>\n<pre><code class=\"language-java\">LocalDate one = sqlContext.select()\n        .column(Product::getCreatedAt)\n        .from(Product.class)\n        .limit(1)\n        .fetch(LocalDate.class)\n        .toOne();\n</code></pre>\n<h2 id=\"13-æŸ¥è¯¢å•æ¡è®°å½•\">1.3 æŸ¥è¯¢å•æ¡è®°å½•</h2>\n<pre><code class=\"language-java\">Product product = sqlContext.select()\n        .allColumn()\n        .from(Product.class)\n        .where(c -&gt; c.andEqualTo(Product::getProductId, 7))\n        .fetch()\n        .toOne();\n</code></pre>\n<p>æˆ–ä½¿ç”¨ä¸»é”®å¿«æ·æ–¹å¼ï¼š</p>\n<pre><code class=\"language-java\">Product product2 = sqlContext.selectByPrimaryKey(Product.class, 7);\n</code></pre>\n<h1 id=\"2-tolist--toone--tomap--togroupingby\">2. toList / toOne / toMap / toGroupingBy</h1>\n<h2 id=\"21-åˆ†ç»„-togroupingby\">2.1 åˆ†ç»„ toGroupingBy</h2>\n<pre><code class=\"language-java\">Map&lt;Integer, HashSet&lt;String&gt;&gt; groupingBy = sqlContext.select()\n        .distinct()\n        .allColumn()\n        .from(User.class)\n        .fetch()\n        .toGroupingBy(\n                User::getUserId,\n                user -&gt; user.getName() + \"_hello\",\n                HashSet::new,\n                ConcurrentHashMap::new\n        );\n</code></pre>\n<h2 id=\"22-åˆ†ç»„å¸¦-dto\">2.2 åˆ†ç»„ï¼ˆå¸¦ DTOï¼‰</h2>\n<pre><code class=\"language-java\">LinkedHashMap&lt;String, HashSet&lt;Integer&gt;&gt; groupingBy = sqlContext.select()\n        .allColumn()\n        .from(User.class)\n        .limit(10)\n        .fetch(User.class)\n        .toGroupingBy(\n                User::getName,\n                User::getUserId,\n                HashSet::new,\n                LinkedHashMap::new\n        );\n</code></pre>\n<h2 id=\"23-tomapå«é‡å¤-key-å¤„ç†\">2.3 toMapï¼ˆå«é‡å¤ key å¤„ç†ï¼‰</h2>\n<pre><code class=\"language-java\">Map&lt;Integer, String&gt; map = sqlContext.select()\n        .distinct()\n        .allColumn()\n        .from(User.class)\n        .fetch()\n        .toMap(\n                user -&gt; 123,\n                user -&gt; user.getName() + \"_hello\"\n        );\n</code></pre>\n<p>é‡å¤ key ä¼šæŠ›å¼‚å¸¸ï¼Œå¯è‡ªå®šä¹‰åˆå¹¶ç­–ç•¥ï¼š</p>\n<pre><code class=\"language-java\">.toMap(\n    ProductView::getProductName,\n    v -&gt; v,\n    (v1, v2) -&gt; v1\n);\n</code></pre>\n<h1 id=\"3-join--å­æŸ¥è¯¢--json-è¡¨\">3. Join / å­æŸ¥è¯¢ / JSON è¡¨</h1>\n<h2 id=\"31-å¤šçº§-join--åˆ«å-è‡ªå…³è”\">3.1 å¤šçº§ join + åˆ«å ï¼ˆè‡ªå…³è”ï¼‰</h2>\n<pre><code class=\"language-java\">List&lt;Map&lt;String, Object&gt;&gt; list = sqlContext.select()\n        .column(\"d1\", DepartmentEntity::getId, \"l5Id\")\n        .column(\"d2\", DepartmentEntity::getId, \"l4Id\")\n        .column(\"d3\", DepartmentEntity::getId, \"l3Id\")\n        .column(\"d4\", DepartmentEntity::getId, \"l2Id\")\n        .column(\"d5\", DepartmentEntity::getId, \"l1Id\")\n        .from(DepartmentEntity.class, \"d1\")\n        .leftJoin(DepartmentEntity.class, \"d2\", c -&gt; c.andEqualTo(new Column(\"d1\",\"id\"), new Column(\"d2\",\"parent_id\")))\n        .leftJoin(DepartmentEntity.class, \"d3\", c -&gt; c.andEqualTo(new Column(\"d2\",\"id\"), new Column(\"d3\",\"parent_id\")))\n        .leftJoin(DepartmentEntity.class, \"d4\", c -&gt; c.andEqualTo(new Column(\"d3\",\"id\"), new Column(\"d4\",\"parent_id\")))\n        .leftJoin(DepartmentEntity.class, \"d5\", c -&gt; c.andEqualTo(new Column(\"d4\",\"id\"), new Column(\"d5\",\"parent_id\")))\n        .where(c -&gt; c.andIn(DepartmentEntity::getId, Arrays.asList(1,2,3)))\n        .fetchOriginalMap()\n        .toList();\n</code></pre>\n<h2 id=\"32-å­æŸ¥è¯¢-join\">3.2 å­æŸ¥è¯¢ join</h2>\n<pre><code class=\"language-java\">List&lt;Map&lt;String, Object&gt;&gt; list = sqlContext.select()\n        .allColumn(Product.class)\n        .from(Product.class)\n        .innerJoin(\n                select -&gt; select.allColumn(Product.class)\n                        .from(Category.class)\n                        .join(Product.class, on -&gt; on.andEqualTo(Category::getCategoryId, Product::getCategoryId))\n                        .where(c -&gt; c.andLessThanOrEqualTo(Category::getCategoryId, 10)),\n                \"t\",\n                on -&gt; on.andEqualTo(Product::getProductId, bindAlias(\"t\", Product::getProductId))\n        )\n        .fetchOriginalMap()\n        .toList();\n</code></pre>\n<h2 id=\"33-json-è¡¨å±•å¼€jsontable\">3.3 JSON è¡¨å±•å¼€ï¼ˆJsonTableï¼‰</h2>\n<pre><code class=\"language-java\">List&lt;Object&gt; list = sqlContext.select()\n        .column(\"o\", Order::getOrderId)\n        .column(\"jt\", Product::getProductName)\n        .from(Order.class, \"o\")\n        .join(() -&gt; new JsonTable(\n                        \"o\",\n                        Order::getOrderDetails,\n                        \"$.items[*]\",\n                        JsonColumn.builder()\n                                .column(\"product_name\")\n                                .dataType(\"VARCHAR(150)\")\n                                .jsonPath(\"$.product\")\n                                .build()\n                ),\n                \"jt\",\n                null\n        )\n        .fetch()\n        .toList();\n</code></pre>\n<h1 id=\"4-åŠ¨æ€åˆ—å¼•ç”¨-columnreference\">4. åŠ¨æ€åˆ—å¼•ç”¨ ColumnReference</h1>\n<pre><code class=\"language-java\">List&lt;Product&gt; list = sqlContext.select()\n        .column(Product::getProductId)\n        .columnReference(columnReference())\n        .from(Product.class)\n        .fetch()\n        .toList();\n</code></pre>\n<pre><code class=\"language-java\">AbstractColumnReference columnReference() {\n    return ColumnReference.withColumns()\n            .column(Product::getProductId)\n            .columnReference(columnReference2())\n            .column(Product::getProductName);\n}\n</code></pre>\n<h1 id=\"5-æ’åºä¸-sql-æ³¨å…¥é˜²å¾¡\">5. æ’åºä¸ SQL æ³¨å…¥é˜²å¾¡</h1>\n<h2 id=\"51-é“¾å¼æ’åº\">5.1 é“¾å¼æ’åº</h2>\n<pre><code class=\"language-java\">List&lt;User&gt; list = sqlContext.select()\n        .allColumn()\n        .from(User.class, \"u\")\n        .orderBy(true, sortField, SortOrder.DESC)\n        .thenOrderBy(false, User::getUserId)\n        .thenOrderBy(true, User::getName)\n        .fetch()\n        .toList();\n</code></pre>\n<h2 id=\"52-order-by-æ³¨å…¥æµ‹è¯•\">5.2 ORDER BY æ³¨å…¥æµ‹è¯•</h2>\n<pre><code class=\"language-java\">sqlContext.select()\n        .allColumn()\n        .from(User.class)\n        .orderBy(\"user_id; drop table users; --\", SortOrder.DESC)\n        .fetch()\n        .toList();\n</code></pre>\n<p>æ¡†æ¶ä¼šæ‹’ç»éæ³•å­—æ®µåï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼Œé¿å…æ³¨å…¥ã€‚</p>\n<h1 id=\"6-å¿½ç•¥åˆ—-ignorecolumn\">6. å¿½ç•¥åˆ— ignoreColumn</h1>\n<pre><code class=\"language-java\">List&lt;?&gt; list = sqlContext.select()\n        .allColumn()\n        .ignoreColumn(TempUserEntity::getName)\n        .ignoreColumn(TempDeptEntity::getName)\n        .from(TempUserEntity.class)\n        .join(TempDeptEntity.class, on -&gt; on.andEqualTo(TempUserEntity::getId, TempDeptEntity::getId))\n        .fetch()\n        .toList();\n</code></pre>\n<h1 id=\"7-æ—¥æœŸå‡½æ•°-dateformat--now\">7. æ—¥æœŸå‡½æ•° DateFormat / Now</h1>\n<pre><code class=\"language-java\">YearMonth yearMonth = sqlContext.select()\n        .column(new DateFormat(new Now(), \"%Y-%m\"))\n        .from(Dual.class)\n        .fetch(YearMonth.class)\n        .toOne();\n</code></pre>\n<h1 id=\"8-æ­£åˆ™åŒ¹é…-andmatchesæ‰©å±•ç‚¹\">8. æ­£åˆ™åŒ¹é… andMatchesï¼ˆæ‰©å±•ç‚¹ï¼‰</h1>\n<pre><code class=\"language-java\">List&lt;User&gt; list = sqlContext.select()\n        .allColumn()\n        .from(User.class)\n        .where(c -&gt; c.andMatches(User::getEmail, \".*@gmail\\\\.com\"))\n        .fetch()\n        .toList();\n</code></pre>\n<h1 id=\"9-åŠ¨æ€åº“è¡¨åç§°schematable\">9. åŠ¨æ€åº“è¡¨åç§°ï¼ˆschema/tableï¼‰</h1>\n<p><code>dynamicâ€‘sql2</code> çš„ <code>@Table</code> æ”¯æŒå ä½ç¬¦è§£æï¼Œå¯åŠ¨æ€ï¼š</p>\n<ul>\n<li>schema</li>\n<li>table</li>\n<li>alias</li>\n<li>dataSourceName</li>\n</ul>\n<h2 id=\"91-åŠ¨æ€-schema\">9.1 åŠ¨æ€ schema</h2>\n<p>ä»0.1.8èµ·ï¼Œè‡ªå®šä¹‰å€¼åº“è¡¨è§£æå™¨ï¼Œè¿™åœ¨åŒä¸€å®ä¾‹ç›¸ä¼¼ä¸šåŠ¡ä¸‹è·¨åº“æ—¶ä¸åŒçš„å‘½ä»¤åº“è¡¨å‘½åè§„åˆ™æ—¶éå¸¸æœ‰ç”¨ï¼Œä¸ä¼šå½±å“æŸ¥è¯¢é€Ÿåº¦ã€‚</p>\n<pre><code class=\"language-java\">@Table(schema = \"${tenant.schema:user_center}\", name = \"t_user\")\n</code></pre>\n<p>é…ç½®ï¼š</p>\n<pre><code class=\"language-properties\">tenant.schema = tenant_001\n</code></pre>\n<p>SQLæ•ˆæœç‰‡æ®µï¼š</p>\n<pre><code class=\"language-sql\">FROM tenant_001.t_user\n</code></pre>\n<h2 id=\"92-åŠ¨æ€è¡¨åå«é»˜è®¤å€¼\">9.2 åŠ¨æ€è¡¨åï¼ˆå«é»˜è®¤å€¼ï¼‰</h2>\n<pre><code class=\"language-java\">@Table(name = \"${tenant.table.user:t_user}\")\n</code></pre>\n<h2 id=\"93-åŠ¨æ€æ•°æ®æºæœ€é«˜ä¼˜å…ˆçº§\">9.3 åŠ¨æ€æ•°æ®æºï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰</h2>\n<pre><code class=\"language-java\">@Table(dataSourceName = \"ds_user\")\n</code></pre>\n<h2 id=\"94-å…¨å±€alias\">9.4 å…¨å±€alias</h2>\n<pre><code class=\"language-java\">@Table(name = \"t_user\", alias = \"u\")\n</code></pre>\n<h1 id=\"10-åˆ†é¡µä½“ç³»pagehelper\">10. åˆ†é¡µä½“ç³»ï¼ˆPageHelperï¼‰</h1>\n<p><code>dynamic-sql2</code>å†…ç½®äº†åˆ†é¡µæ”¯æŒçš„æŸ¥è¯¢</p>\n<h2 id=\"101-dynamicsql2-åˆ†é¡µ\">10.1 dynamicâ€‘sql2 åˆ†é¡µ</h2>\n<pre><code class=\"language-java\">PageInfo&lt;List&lt;User&gt;&gt; pageInfo = PageHelper.of(1, 10)\n        .selectPage(() -&gt; sqlContext.select()\n                .allColumn()\n                .from(User.class)\n                .fetch()\n                .toList());\n</code></pre>\n<h2 id=\"102-mybatis-åˆ†é¡µ\">10.2 MyBatis åˆ†é¡µ</h2>\n<pre><code class=\"language-java\">PageInfo&lt;List&lt;User&gt;&gt; pageInfo = PageHelper.ofMybatis(1, 10)\n        .selectPage(() -&gt; sqlContext.select()\n                .allColumn()\n                .from(User.class)\n                .fetch()\n                .toList());\n</code></pre>\n<p>Dynamic-SQL2æ”¯æŒmybatisçš„åˆ†é¡µï¼Œä½†æ˜¯éœ€è¦å¼•å…¥æ‹“å±•åŒ…ï¼š</p>\n<pre><code class=\"language-xml\">&lt;!-- Source: https://mvnrepository.com/artifact/com.dynamic-sql/dynamic-sql2-extension --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.dynamic-sql&lt;/groupId&gt;\n    &lt;artifactId&gt;dynamic-sql2-extension&lt;/artifactId&gt;\n    &lt;version&gt;0.1.6&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>è¯¥æ‹“å±•åŒ…é™¤äº†æ”¯æŒMybatisåˆ†é¡µå¤–ï¼Œå’Œå…¶æ˜ å°„è§„åˆ™ä¹Ÿæ˜¯å®Œå…¨å…¼å®¹ã€‚</p>\n<h2 id=\"103-applywhereå®éªŒæ€§\">10.3 applyWhereï¼ˆå®éªŒæ€§ï¼‰</h2>\n<p>è¯¥åœºæ™¯æœ‰æ—¶ä¼šé‡åˆ°ç±»ä¼¼æƒ…å†µï¼šæœ‰çš„ä¾èµ–jaræœ‰è‡ªå·±ç‹¬ç«‹çš„é€»è¾‘ä½“ç³»ï¼Œä½†æ˜¯åˆæƒ³ä¿®æ”¹å…¶å†…éƒ¨SQLï¼Œåœ¨ä¸æ”¹å˜å†…éƒ¨é€»è¾‘çš„æƒ…å†µä¸‹ï¼Œåœ¨å¤–éƒ¨å°è¯•ä¿®æ”¹SQLè¯­å¥ã€‚ç›®å‰åªæ˜¯å®éªŒé˜¶æ®µï¼Œæœ‰è¶³å¤Ÿçš„åœºæ™¯åœºæ™¯æ”¯æ’‘å’Œæ›´å¤šçš„æµ‹è¯•åï¼Œæ‰ä¼šReleaseè¯¥ç‰¹æ€§ã€‚</p>\n<pre><code class=\"language-java\">PageInfo&lt;List&lt;User&gt;&gt; pageInfo = PageHelper.of(1, 3)\n        .applyWhere(c -&gt; c.andGreaterThanOrEqualTo(User::getAge, 18))\n        .selectPage(\n    \t\t\t//å‡è®¾è¿™æ˜¯æ— æ³•ä¿®æ”¹/ä¸å…è®¸æ›´æ”¹çš„å†…éƒ¨SQLï¼Œé€šå¸¸æ˜¯jarçš„å½¢å¼æä¾›\n    \t\t\t() -&gt; sqlContext.select()\n                .allColumn()\n                .from(User.class)\n                .fetch()\n                .toList());\n</code></pre>\n<h2 id=\"104-é€»è¾‘åˆ†é¡µé›†åˆå†…å­˜åˆ†é¡µ\">10.4 é€»è¾‘åˆ†é¡µï¼ˆé›†åˆå†…å­˜åˆ†é¡µï¼‰</h2>\n<pre><code class=\"language-java\">PageInfo&lt;List&lt;Integer&gt;&gt; pageInfo = PageHelper.ofLogic(2, 3)\n        .selectPage(Arrays.asList(1,2,3,4,5,6,7));\n</code></pre>\n<h1 id=\"11-åˆ†é¡µ--åŠ¨æ€åº“è¡¨åç§°ç¤ºä¾‹\">11. åˆ†é¡µ + åŠ¨æ€åº“è¡¨åç§°ç¤ºä¾‹</h1>\n<pre><code class=\"language-java\">@Table(\n    schema = \"${tenant.schema:user_center}\",\n    name = \"${tenant.table.user:t_user}\",\n    alias = \"u\"\n)\npublic class User {}\n</code></pre>\n<p>åˆ†é¡µæŸ¥è¯¢ï¼š</p>\n<pre><code class=\"language-java\">PageInfo&lt;List&lt;User&gt;&gt; pageInfo = PageHelper.of(1, 10)\n        .selectPage(() -&gt; sqlContext.select()\n                .allColumn()\n                .from(User.class)\n                .fetch()\n                .toList());\n</code></pre>\n<p>æœ€ç»ˆ SQLï¼š</p>\n<pre><code class=\"language-java\">SELECT u.* \nFROM tenant_001.user_2025 u \nLIMIT 10 OFFSET 0\n</code></pre>\n<h1 id=\"æ‹“å±•\">æ‹“å±•</h1>\n<h2 id=\"è‡ªå®šä¹‰å‡½æ•°\">è‡ªå®šä¹‰å‡½æ•°</h2>\n<p>å¯¹äº<code>Dynamic-SQL2</code>æ²¡æœ‰æä¾›çš„å‡½æ•°ï¼Œå¦‚ä½•è‡ªå®šä¹‰å‘¢ï¼Ÿéå¸¸ç®€å•ï¼Œç»§æ‰¿<code>ColumnFunctionDecorator</code>æŠ½è±¡ç±»é‡å†™<code>getFunctionToString</code>æ–¹æ³•å³å¯ï¼Œç„¶åä»£ç ä¸­å°±å¯ä»¥å¼•ç”¨äº†ã€‚</p>\n<p>æ¯”å¦‚å·²å­˜åœ¨çš„<code>max</code>å‡½æ•°ä¸ºä¾‹ï¼š</p>\n<pre><code class=\"language-java\">/*\n * Copyright (c) 2024 PengWeizhong. All Rights Reserved.\n *\n * This source code is licensed under the MIT License.\n * You may obtain a copy of the License at:\n * https://opensource.org/licenses/MIT\n *\n * See the LICENSE file in the project root for more information.\n */\npackage com.dynamic.sql.core.column.function.windows.aggregate;\n\n\nimport com.dynamic.sql.core.FieldFn;\nimport com.dynamic.sql.core.Version;\nimport com.dynamic.sql.core.column.function.AbstractColumFunction;\nimport com.dynamic.sql.core.column.function.ColumnFunctionDecorator;\nimport com.dynamic.sql.core.column.function.windows.WindowsFunction;\nimport com.dynamic.sql.enums.SqlDialect;\nimport com.dynamic.sql.utils.ExceptionUtils;\nimport com.dynamic.sql.model.TableAliasMapping;\n\nimport java.util.Map;\n\n\npublic class Max extends ColumnFunctionDecorator implements AggregateFunction, WindowsFunction {\n\n    public Max(AbstractColumFunction delegateFunction) {\n        super(delegateFunction);\n    }\n\n    public &lt;T, F&gt; Max(FieldFn&lt;T, F&gt; fn) {\n        super(fn);\n    }\n\n    public &lt;T, F&gt; Max(String tableAlias, FieldFn&lt;T, F&gt; fn) {\n        super(tableAlias, fn);\n    }\n\n    @Override\n    public String getFunctionToString(SqlDialect sqlDialect, Version version, Map&lt;String, TableAliasMapping&gt; aliasTableMap) throws UnsupportedOperationException {\n        if (sqlDialect == SqlDialect.ORACLE) {\n            return \"MAX(\" + delegateFunction.getFunctionToString(sqlDialect, version, aliasTableMap) + \")\".concat(appendArithmeticSql(sqlDialect, version));\n        }\n        if (sqlDialect == SqlDialect.MYSQL) {\n            return \"max(\" + delegateFunction.getFunctionToString(sqlDialect, version, aliasTableMap) + \")\".concat(appendArithmeticSql(sqlDialect, version));\n        }\n        throw ExceptionUtils.unsupportedFunctionException(\"max\", sqlDialect);\n    }\n}\n\n</code></pre>\n<p>ä¹‹ååœ¨ä»£ç ä¸­ç›´æ¥å¼•ç”¨è¯¥ç±»ï¼š</p>\n<pre><code class=\"language-java\">    @Test\n    void testMax() {\n        Integer max = sqlContext.select()\n                .column(new Max(Product::getProductId))\n                .from(Product.class)\n                .fetch(Integer.class)\n                .toOne();\n        System.out.println(max);\n    }\n</code></pre>\n<p>æ‰“å°çš„SQL</p>\n<pre><code class=\"language-log\">2026-01-21 13:27:03 [main] DEBUG com.dynamic.sql.core.database.SqlDebugger - dataSource --&gt;     Preparing: select max(`p`.`product_id`) as productId from `dynamic_sql2`.`products` as `p`\n2026-01-21 13:27:03 [main] DEBUG com.dynamic.sql.core.database.SqlDebugger - dataSource --&gt;    Parameters: \n2026-01-21 13:27:03 [main] DEBUG com.dynamic.sql.core.database.SqlDebugger - dataSource &lt;--         Total: 1\n</code></pre>\n<p><code>AggregateFunction</code>å’Œ<code>WindowsFunction</code>æ ‡è¯†å‡½æ•°çš„åˆ†ç±»ï¼Œå› ä¸ºæœ‰äº›åœºæ™¯ä¸‹å‡½æ•°åµŒå¥—ä½¿ç”¨æ—¶ï¼Œä¼šè¦æ±‚æ˜¯çª—å£å‡½æ•°æˆ–å¿…é¡»æ˜¯å­—ç¬¦ä¸²å‡½æ•°ï¼Œå› æ­¤å£°æ˜ç±»å‹æ›´åŠ ç¬¦åˆå¼€å‘è§„èŒƒï¼Œå¦‚æœè‡ªå®šä¹‰çš„è¯ï¼Œå¯ä»¥ä¸ç”¨å…³å¿ƒå…·ä½“çš„å‡½æ•°åˆ†ç±»ï¼Œç›´æ¥ç»§æ‰¿<code>ColumnFunctionDecorator</code>å³å¯ã€‚</p>\n<p>ç›®å‰å®šä¹‰çš„å‡½æ•°åˆ†ç±»æ¥å£ï¼š</p>\n<ul>\n<li>AggregateFunction ï¼š èšåˆå‡½æ•°</li>\n<li>ScalarFunction ï¼š æ ‡é‡å‡½æ•°</li>\n</ul>\n<p><code>Max</code>å‡½æ•°ä¾èµ–çš„å…¨éƒ¨ä½“ç³»å¦‚å›¾æ‰€ç¤ºï¼š</p>\n<p><img alt=\"image-20260121140818596\" class=\"lazyload\" /></p>\n<h2 id=\"å›½äº§æ•°æ®åº“\">å›½äº§æ•°æ®åº“</h2>\n<p>å¯¹äºå›½äº§æ•°æ®åº“ï¼Œé€šå¸¸éƒ½ä¼šæ”¯æŒå’Œå…¼å®¹mysqlè¯­æ³•ï¼Œå› æ­¤é€šå¸¸ä¸ç”¨å¤ªæ‹…å¿ƒä¸å…¼å®¹çš„é—®é¢˜ã€‚ä½†æ˜¯<code>dynamic-sql2</code>å¯åŠ¨æ—¶ä¼šæ£€æµ‹å—æ”¯æŒçš„æ•°æ®åº“ï¼Œå¯¹äºä¸æ”¯æŒçš„æ•°æ®åº“ä¼šæ”¯æŒæŠ¥é”™ï¼Œåªè¦ä½ ç¡®è®¤å½“å‰æ‰€ä½¿ç”¨çš„æ•°æ®åº“æä¾›å•†å…¼å®¹<code>Mysql</code>ï¼Œé‚£ä¹ˆå°±å¯ä»¥å®Œå…¨ä½¿ç”¨<code>dynamic-sql2</code>ï¼</p>\n<h2 id=\"æ¨èä¸€æ¬¾å¥½ç”¨çš„-idea-mybatis-æ’ä»¶\">æ¨èä¸€æ¬¾å¥½ç”¨çš„ IDEA Mybatis æ’ä»¶</h2>\n<p>æœ€å–œæ¬¢çš„ç‰¹æ€§ä¹‹ä¸€æ˜¯åœ¨æ§åˆ¶å°å¯ä»¥å°†æ‰“å°çš„SQLç›´æ¥åˆå¹¶ä¸ºå¯æ‰§è¡Œçš„SQLè¯­å¥ï¼Œåœ¨å¼€å‘ç¯å¢ƒä¸­ç‰¹åˆ«æœ‰ç”¨ï¼</p>\n<p>æ’ä»¶ä¸»é¡µï¼š<a href=\"https://plugins.jetbrains.com/plugin/9837-mybatiscodehelperpro\" rel=\"noopener nofollow\" target=\"_blank\">https://plugins.jetbrains.com/plugin/9837-mybatiscodehelperpro</a></p>\n<p><img alt=\"image-20260121141250521\" class=\"lazyload\" /></p>\n<h1 id=\"-å®Œç»“æ’’èŠ±æ¬¢è¿åæ§½\">ğŸ‰ å®Œç»“æ’’èŠ±ï¼Œæ¬¢è¿åæ§½ğŸ‰</h1>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-21 14:43</span>&nbsp;\n<a href=\"https://www.cnblogs.com/pengweizhong\">pengweizhong</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">102</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "ä¸¤å¤©çƒ§æ‰200ç¾å…ƒï¼æˆ‘AIå¤§æ¨¡å‹ç½‘å…³ç»ˆäºæ”¯æŒäº†Claudeæ¨¡å‹",
      "link": "https://www.cnblogs.com/sdcb/p/19508169/20260120-chats-190",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/sdcb/p/19508169/20260120-chats-190\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-21 08:45\">\n    <span>ä¸¤å¤©çƒ§æ‰200ç¾å…ƒï¼æˆ‘AIå¤§æ¨¡å‹ç½‘å…³ç»ˆäºæ”¯æŒäº†Claudeæ¨¡å‹</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<p>è¿™æ˜¯ä¸€ä¸ªå…³äºâ€œçœŸé‡‘ç™½é“¶â€çš„å¼€å‘æ•…äº‹ã€‚</p>\n<p>Chats 1.9.0 å‘å¸ƒäº 2025 å¹´ 11 æœˆ 27 æ—¥ï¼Œè·ç¦»ä¸Šä¸€ä¸ªç‰ˆæœ¬å‘å¸ƒä»…è¿‡å»äº†ä¸åˆ°ä¸€ä¸ªæœˆã€‚ä½†å¯¹ Chats æ¥è¯´ï¼Œè¿™å´æ˜¯ä¸€ä¸ªé‡Œç¨‹ç¢‘å¼çš„ç‰ˆæœ¬ï¼š<strong>æˆ‘ä»¬ä¸ä»…å…¨é¢æ”¯æŒäº† Anthropicï¼ˆClaudeï¼‰æ¨¡å‹ï¼Œè¿˜é¡ºå¸¦æŠŠ .NET 10 ç»™å‡äº†ï¼Œç”šè‡³è¿˜æå‡ºäº†ä¸€å¥—èƒ½åœ¨ Chats é‡Œâ€œå€Ÿå£³â€è·‘ Claude Code çš„ API å…¼å®¹å±‚ã€‚</strong></p>\n<p>è€Œåœ¨è¿™ä¸€åˆ‡çš„èƒŒåï¼Œæ˜¯ä¸€å¼ è®©æˆ‘â€œè‚‰ç—›â€çš„ Azure è´¦å•ã€‚</p>\n<hr />\n<h2 id=\"ä¸€åˆ‡æºäºå¾®è½¯ä¸-anthropic-è”æ‰‹\">ä¸€åˆ‡æºäºâ€œå¾®è½¯ä¸ Anthropic è”æ‰‹â€</h2>\n<p>äº‹æƒ…è¦ä» 2025 å¹´ 11 æœˆ 19 æ—¥è¯´èµ·ã€‚é‚£å¤©ï¼Œå¾®è½¯ä¸ Anthropic è¾¾æˆåˆä½œï¼Œå®£å¸ƒå°†åœ¨ Azure å¹³å°ä¸Šæä¾› Anthropic çš„ Claude å¤§æ¨¡å‹æœåŠ¡ã€‚è¿™æ„å‘³ç€å¼€å‘è€…å’Œä¼ä¸šç”¨æˆ·å¯ä»¥é€šè¿‡ Azure äº‘æœåŠ¡è®¿é—® Claude æ¨¡å‹ã€‚</p>\n<p>ä½œä¸ºä¸€åå¾®è½¯ MVPï¼Œæˆ‘æœ¬ä»¥ä¸º Claude æ¨¡å‹å¯¹ MVP é¢åº¦æ¥è¯´æ˜¯å¯ä»¥ä½¿ç”¨çš„ï¼Œå› ä¸ºæ ¹æ®ä»¥å¾€çš„ç»éªŒï¼Œå¦‚æœæ²¡æœ‰èµ„æ ¼ä½¿ç”¨æŸé¡¹æœåŠ¡ï¼Œé€šå¸¸ä¼šç›´æ¥åœ¨æ§åˆ¶å°é‡Œæç¤ºâ€œæ— æƒé™â€æˆ–â€œæ— æ³•å¯ç”¨â€ï¼Œè€Œä¸æ˜¯ç›´æ¥å…è®¸ä½¿ç”¨ç„¶åäº§ç”Ÿé«˜é¢è´¹ç”¨ï¼Œä½†æˆ‘å¤§æ„äº†ã€‚</p>\n<p>å› æ­¤æˆ‘ç¬¬ä¸€æ—¶é—´å°±æƒ³åˆ°äº†å°† Claude æ¨¡å‹é›†æˆåˆ°æˆ‘è‡ªå·±çš„é¡¹ç›®ä¸­â€”â€”<strong>Sdcb Chats</strong>ã€‚</p>\n<p>å½“æ—¶ä¸ºäº†ç¡®ä¿ Anthropic Messages API å·¥ä½œæ­£å¸¸ä¸”ç¨³å®šï¼Œæˆ‘åšäº†å¤§é‡çš„æµ‹è¯•ã€‚ä¸ºäº†éªŒè¯å…¼å®¹æ€§ï¼Œæˆ‘ç”šè‡³è¿˜â€œç«™èµ·æ¥è¹¬â€ï¼Œç›´æ¥æ¥å…¥äº† Anthropic å®˜æ–¹çš„å‘½ä»¤è¡Œå·¥å…· <code>Claude Code</code> æ¥è·‘ Opus æ¨¡å‹ã€‚</p>\n<p>ç»“æœâ€¦â€¦çŸ­çŸ­ 2 å¤©æ—¶é—´ï¼Œæˆ‘åœ¨ Azure ä¸Šè·‘ Claude æ¨¡å‹çš„ API è°ƒç”¨è´¹ç”¨å°±é«˜è¾¾ <strong>192.95 ç¾å…ƒ</strong>ï¼</p>\n<p><img alt=\"\" src=\"https://img2024.cnblogs.com/blog/233608/202601/233608-20260120172700464-1622754976.png\" /></p>\n<p>å½“æ—¶çœ‹åˆ°è´¦å•æ•´ä¸ªäººéƒ½æ˜¯è’™çš„ã€‚ä¸è¿‡å¥½åœ¨â€œæ°ªé‡‘â€æ²¡æœ‰ç™½è´¹ï¼Œæœ€ç»ˆæˆ‘æˆåŠŸå°† Claude æ¨¡å‹å®Œç¾é›†æˆåˆ°äº† Sdcb Chats ä¸­ã€‚ç°åœ¨ï¼Œå¤§å®¶å¯ä»¥åœ¨ Chats ä¸­æ„‰å¿«åœ°ä½¿ç”¨ Claude æ¨¡å‹äº†ï¼</p>\n<hr />\n<h2 id=\"190-çš„æ ¸å¿ƒanthropic-å…¨é¢è½åœ°\">1.9.0 çš„æ ¸å¿ƒï¼šAnthropic å…¨é¢è½åœ°</h2>\n<p>åœ¨ 1.9.0 ä¹‹å‰ï¼ŒChats å¯¹ Claude çš„æ”¯æŒåªèƒ½è¯´æ˜¯â€œèƒ½ç”¨â€ï¼Œå› ä¸ºå¹¶æ²¡æœ‰åŸç”Ÿæ”¯æŒ Anthropic Messages APIï¼Œéœ€è¦é€šè¿‡ OpenAI å…¼å®¹æ¥å£è½¬è¯‘â€”â€”è€Œ OpenAI Chat Completions å…¼å®¹æ¥å£å¹¶ä¸æ”¯æŒ Extended Thinkingã€‚ä½†è¿™ä¸€æ¬¡ï¼Œæˆ‘æ˜¯<strong>åŸç”Ÿæ”¯æŒ</strong>ã€‚</p>\n<h3 id=\"åŸç”Ÿ-httpclient-å®ç°ä¸-thinking-æ”¯æŒ\">åŸç”Ÿ HttpClient å®ç°ä¸ Thinking æ”¯æŒ</h3>\n<p>ä¸ºäº†è¿½æ±‚æè‡´çš„æ€§èƒ½å’Œå¯æ§æ€§ï¼Œæˆ‘é‡å†™äº† Chats çš„åº•å±‚è°ƒç”¨é€»è¾‘ã€‚</p>\n<p>åŸæœ¬ Anthropic æä¾›äº†<a href=\"https://github.com/anthropics/anthropic-sdk-csharp\" rel=\"noopener nofollow\" target=\"_blank\">Anthropic C# API Library</a>ï¼Œæˆ‘ä¸€å¼€å§‹ä½¿ç”¨äº†è¿™ä¸ª SDKï¼Œä½†å‘ç°é‡Œé¢çš„éªŒè¯é€»è¾‘æœ‰ç‚¹å¤ªè¿‡åˆ†äº†ï¼Œè¿æ¨¡å‹åç§°éƒ½è¦éªŒè¯ï¼ˆæŠ¥é”™è¯´ï¼š<code>AnthropicInvalidDataException: Data did not match any variant of RawMessageStreamEvent</code>ï¼‰ã€‚åœ¨æˆ‘å¼€å‘çš„æ—¶å€™ï¼ŒOpus æ¨¡å‹è¿˜æ²¡å‘å¸ƒ 4.5 ç‰ˆæœ¬ï¼Œæˆ‘ä½¿ç”¨è¿™ä¸ª SDK è¿è‡ªå®¶çš„ Claude 4.5 Opus éƒ½æŠ¥é”™ï¼Œç¬‘æ­»ï¼æ›´ä¸è¦æç”¨è¿™ä¸ª SDK è¿æ¥å›½äº§çš„ MiniMax/GLM/DeepSeek v3.2 äº†ï¼Œè¿™ç§æ“ä½œéå¸¸â€œAnthropicâ€ï¼ˆè¿™ä¸ªé—®é¢˜ç›´åˆ° <strong>2026-01-14</strong> å‘å¸ƒçš„ <code>12.2.0</code> ç‰ˆæœ¬ä¸­æ‰è§£å†³ï¼ï¼‰ã€‚</p>\n<p><img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/233608/202601/233608-20260120214334386-1499186789.png\" /></p>\n<p>å› æ­¤æˆ‘çš„ <code>Git</code> æäº¤è®°å½•é‡Œå¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä¸€å¼€å§‹æ˜¯å‡†å¤‡èµ° SDK åš Anthropic æ”¯æŒçš„ï¼Œä½†æœ€ç»ˆåˆæ”¾å¼ƒäº†ï¼Œè½¬è€Œåœ¨ä»£ç ä¸­ç”¨åŸç”Ÿ <code>HttpClient</code> æ‰‹æ’¸äº†ä¸€ä¸ªè¿‘ 1000 è¡Œçš„ <code>AnthropicChatService</code>ã€‚</p>\n<p><img alt=\"\" src=\"https://img2024.cnblogs.com/blog/233608/202601/233608-20260120172700992-1302091122.png\" /></p>\n<p>è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿ</p>\n<ol>\n<li>\n<p><strong>å®Œæ•´æ”¯æŒ Thinkingï¼ˆæ€ç»´é“¾ï¼‰</strong>ï¼šClaude æ¨¡å‹çš„ Thinking å¯ä»¥åƒåœ¨å®˜æ–¹ç½‘é¡µç‰ˆé‚£æ ·å±•ç¤ºï¼Œæ”¯æŒæµå¼è¾“å‡ºï¼Œâ€œæ€è€ƒâ€ä¸â€œå›ç­”â€åˆ†ç¦»ã€‚ä¸ºæ­¤æˆ‘åœ¨æ•°æ®åº“ä¸­ä¸“é—¨æ–°å¢äº† <code>StepContentThink</code> è¡¨ï¼Œç”¨äºç‹¬ç«‹å­˜å‚¨æ€ç»´å†…å®¹ã€‚</p>\n<p><img alt=\"\" src=\"https://img2024.cnblogs.com/blog/233608/202601/233608-20260120172701332-89257932.png\" /></p>\n</li>\n<li>\n<p><strong>Signatureï¼ˆç­¾åï¼‰éªŒè¯</strong>ï¼šChats ç°åœ¨èƒ½æ­£ç¡®å¤„ç†å’Œå­˜å‚¨ Claude çš„æ€ç»´ç­¾åï¼ˆSignatureï¼‰ï¼Œç¡®ä¿è¯æ®é“¾å®Œæ•´ã€‚</p>\n</li>\n<li>\n<p><strong>Vision Link ä¼˜åŒ–</strong>ï¼šé»˜è®¤ä½¿ç”¨ URL è€Œé Base64 ä¼ å›¾ï¼Œå¤§å¹…èŠ‚çœå¸¦å®½å’Œ Tokenã€‚</p>\n</li>\n</ol>\n<p>åŒæ—¶ï¼Œæˆ‘è¿˜å¼•å…¥äº† <code>MaxThinkingBudget</code>ï¼ˆæ¨¡å‹çº§ï¼‰å’Œ <code>ThinkingBudget</code>ï¼ˆä¼šè¯çº§ï¼‰é…ç½®ï¼Œé˜²æ­¢ä½ çš„ Token å†åƒæˆ‘ä¸€æ ·â€œä¸çŸ¥ä¸è§‰â€åœ°çƒ§å®Œã€‚</p>\n<hr />\n<h2 id=\"å€Ÿå£³ä¸Šä½anthropic-messages-api-å…¼å®¹\">â€œå€Ÿå£³ä¸Šä½â€ï¼šAnthropic Messages API å…¼å®¹</h2>\n<p>è¿™ä¸€æ¡å¯èƒ½æ¯”åŸç”Ÿæ”¯æŒæ›´ç¡¬æ ¸ã€‚</p>\n<p>Chats 1.9.0 <strong>åå‘å®ç°</strong>äº† Anthropic çš„å®˜æ–¹ API åè®®ï¼ˆ<code>/v1/messages</code>ï¼‰ã€‚æˆ‘åœ¨ <code>src/BE/web/Controllers/Api/AnthropicCompatible/AnthropicMessagesController.cs</code> ä¸­å®Œæ•´å¤åˆ»äº† Anthropic çš„æ¥å£è§„èŒƒã€‚è¿™æ„å‘³ç€ Chats ä¸ä»…æ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œå®ƒæœ¬èº«ä¹Ÿå˜æˆäº†ä¸€ä¸ª<strong>æ ‡å‡†çš„ Anthropic API æœåŠ¡ç«¯</strong>ã€‚</p>\n<p><strong>ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšï¼Ÿ</strong></p>\n<p>å› ä¸ºç°åœ¨æœ‰å¾ˆå¤šä¼˜ç§€çš„å·¥å…·ï¼ˆæ¯”å¦‚ Cursorã€Claude Codeã€å„ç§ AI æ’ä»¶ï¼‰åªæ”¯æŒ Anthropic åŸç”Ÿåè®®ã€‚ä¸ºäº†æ”¯æŒå®˜æ–¹çš„ <code>claude-code</code> å‘½ä»¤è¡Œå·¥å…·ï¼ˆå¦‚åŠ¨å›¾ï¼Œåå°å¯ä»¥å®æ—¶è¿½è¸ª Claude Code çš„ä½¿ç”¨ä¿¡æ¯ï¼‰ï¼š</p>\n<p><img alt=\"\" src=\"https://img2024.cnblogs.com/blog/233608/202601/233608-20260120172701746-1289382319.avif\" /></p>\n<p>æˆ‘ç”šè‡³ä¸“é—¨ä¿®å¤äº† System Prompt çš„è§£æé€»è¾‘ï¼ŒåŒæ—¶ï¼Œæˆ‘è¿˜å¼•å…¥äº† <code>MaxThinkingBudget</code>ï¼ˆæ¨¡å‹çº§ï¼‰å’Œ <code>ThinkingBudget</code>ï¼ˆä¼šè¯çº§ï¼‰é…ç½®ï¼Œä»¥åŠ <strong>Prompt Cache Token</strong> çš„è®¡è´¹æ”¯æŒï¼ˆCommit <code>85a1c2a6</code>ï¼‰ï¼Œé˜²æ­¢ä½ çš„ Token å†åƒæˆ‘ä¸€æ ·â€œä¸çŸ¥ä¸è§‰â€åœ°çƒ§å®Œã€‚</p>\n<p>æ—¢ç„¶ Chats å·²ç»å˜æˆäº†ä¸€ä¸ªå¼ºå¤§çš„ API ç½‘å…³ï¼Œé‚£ä¹ˆé…å¥—çš„å¼€å‘è€…ä½“éªŒå¿…é¡»è·Ÿä¸Šã€‚</p>\n<p>1.9.0 æ–°å¢äº† <strong>Build</strong> æ¨¡å—ï¼ŒåŒ…å«ä¸‰ä¸ªæ ¸å¿ƒé¡µé¢ï¼š</p>\n<ul>\n<li><strong>API Keys</strong>ï¼šæ›´å®‰å…¨çš„å¯†é’¥ç®¡ç†ï¼Œæ”¯æŒè¿‡æœŸæ—¶é—´ã€å¤‡æ³¨ï¼Œè¿˜èƒ½çœ‹åˆ°å¯†é’¥æ©ç ã€‚</li>\n<li><strong>Docs</strong>ï¼šä¸€ç«™å¼æ–‡æ¡£ï¼Œåˆ—å‡ºäº†æ‰€æœ‰å…¼å®¹ OpenAI å’Œ Anthropic çš„ API ç«¯ç‚¹ï¼ˆæ”¯æŒä¸€é”®å¤åˆ¶ï¼‰ã€‚</li>\n<li><strong>Usage</strong>ï¼šæŒ‰ API Key ç»´åº¦çš„ç”¨é‡ç»Ÿè®¡ï¼Œè°ç”¨äº†å¤šå°‘ Tokenï¼Œä¸€ç›®äº†ç„¶ã€‚</li>\n</ul>\n<p><img alt=\"\" src=\"https://img2024.cnblogs.com/blog/233608/202601/233608-20260120172702273-280531674.png\" /></p>\n<hr />\n<h2 id=\"è§†è§‰ç”Ÿäº§åŠ›openai-å›¾åƒ-api-ä¸-net-10\">è§†è§‰ç”Ÿäº§åŠ›ï¼šOpenAI å›¾åƒ API ä¸ .NET 10</h2>\n<p>é™¤äº†å¤§è¯­è¨€æ¨¡å‹ï¼Œ1.9.0 è¿˜è¡¥é½äº†è§†è§‰èƒ½åŠ›ï¼š</p>\n<ul>\n<li>å®ç°äº†æ ‡å‡†çš„ OpenAI å›¾åƒç”Ÿæˆï¼ˆ<code>/v1/images/generations</code>ï¼‰å’Œç¼–è¾‘ï¼ˆ<code>/v1/images/edits</code>ï¼‰APIã€‚</li>\n<li>é…åˆå‰ç«¯çš„ <strong>ChatInput åŠ¨ç”»ä¼˜åŒ–</strong>ï¼Œç°åœ¨çš„å›¾ç‰‡ç”Ÿæˆä½“éªŒæ›´åŠ æµç•…ã€‚</li>\n</ul>\n<p><img alt=\"\" src=\"https://img2024.cnblogs.com/blog/233608/202601/233608-20260120172702911-1941831639.png\" /></p>\n<p>æœ€åï¼Œä½œä¸ºä¸€ä¸ª .NET ä¿¡ä»°ç²‰ï¼ŒChats 1.9.0 å·²ç»<strong>å…¨çº¿å‡çº§åˆ°äº† .NET 10</strong>ã€‚è™½ç„¶ç”¨æˆ·æ„ŸçŸ¥ä¸å¼ºï¼Œä½†è¿™å¸¦æ¥äº†æ›´å¥½çš„æ€§èƒ½å’Œæ›´ç°ä»£çš„åº•å±‚è®¾æ–½ï¼Œä¸ºæœªæ¥çš„é•¿è¿œå‘å±•æ‰“ä¸‹äº†åŸºç¡€ã€‚</p>\n<hr />\n<h2 id=\"ç»“è¯­ä¸ºäº†æ›´è‡ªç”±çš„-ai-ç½‘å…³\">ç»“è¯­ï¼šä¸ºäº†æ›´è‡ªç”±çš„ AI ç½‘å…³</h2>\n<p>ä» 1.7 çš„ MCP è½åœ°ï¼Œåˆ° 1.9 çš„ Anthropic åŸç”Ÿæ”¯æŒä¸ API å…¼å®¹ï¼ŒChats æ­£åœ¨ä¸€æ­¥æ­¥ä»ä¸€ä¸ªâ€œèŠå¤©ç½‘é¡µâ€è¿›åŒ–æˆä¸€ä¸ª<strong>çœŸæ­£é€šç”¨çš„ AI åŸºç¡€è®¾æ–½</strong>ã€‚</p>\n<p>é‚£ä¸ª 200 ç¾å…ƒçš„è´¦å•è™½ç„¶è®©äººå¿ƒç—›ï¼Œä½†å®ƒæ¢æ¥äº† Chats å¯¹ Claude çš„å®Œç¾æ”¯æŒï¼Œä»¥åŠé‚£æ®µâ€œä¸ºäº†æµ‹è¯•è€Œç–¯ç‹‚è°ƒç”¨â€çš„æ¿€æƒ…æ—¶å…‰ï¼Œæˆ‘è§‰å¾—â€”â€”å€¼äº†ï¼</p>\n<p>å¦å¤–ç›¸ä¿¡æˆ‘ï¼Œæˆ‘åšäº†ä¸€åˆ‡åŠªåŠ›å°è¯•è”ç³»å¾®è½¯å’Œ Anthropicï¼Œäº‰å–æŠŠé‚£ 200 ç¾å…ƒçš„è´¹ç”¨ç»™è¦å›æ¥ï¼Œä½†ä»–ä»¬äº’ç›¸æ¨è¯¿ï¼Œä¹Ÿæ²¡è¯´æ˜¯ç”¨æˆ·è‡ªå·±çš„è¡Œä¸ºæˆ–è€…å¹³å°è´£ä»»ï¼Œåªæ˜¯äº’ç›¸è¯´è¿™æ˜¯å¯¹æ–¹ï¼ˆå¾®è½¯/Anthropicï¼‰çš„è´£ä»»ï¼Œæ‰€ä»¥æœ€åä¹Ÿå°±ä¸äº†äº†ä¹‹äº†ã€‚</p>\n<p>æ„Ÿè°¢é˜…è¯»ï¼å–œæ¬¢çš„æœ‹å‹è¯·ç»™æˆ‘çš„ GitHub é¡¹ç›®ä¸€ä¸ª starï¼š<a href=\"https://github.com/sdcb/chats\" rel=\"noopener nofollow\" target=\"_blank\">https://github.com/sdcb/chats</a></p>\n<p>è¿™æ˜¯å®Œæ•´çš„æ›´æ–°æ—¥å¿—ï¼š<a href=\"https://github.com/sdcb/chats/blob/main/doc/zh-CN/release-notes/README.md\" rel=\"noopener nofollow\" target=\"_blank\">https://github.com/sdcb/chats/blob/main/doc/zh-CN/release-notes/README.md</a></p>\n<p>æœ‰ä»€ä¹ˆæƒ³æ³•ä¹Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€äº¤æµï¼Œä¹Ÿæ¬¢è¿åŠ å…¥æˆ‘çš„æ–°åˆ›å»ºçš„å¾®ä¿¡ç¾¤ï¼š</p>\n<p><img alt=\"\" src=\"https://io.starworks.cc:88/cv-public/2026/chats-wxg-qr.png\" /></p>\n<p>å¦‚æœä½ æ›´ä¹ æƒ¯ç”¨ QQ çš„è¯ï¼Œä¹Ÿå¯ä»¥åŠ å…¥ Chats QQ ç¾¤ï¼š498452653ï¼Œæˆ‘ä»¬ä¸€èµ·æ¢ç´¢æ›´å¤š AI æŠ€æœ¯ç¡¬æ ¸ç©æ³•ã€‚</p>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-21 08:45</span>&nbsp;\n<a href=\"https://www.cnblogs.com/sdcb\">.NETéªšæ“ä½œ</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">745</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">1</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "WebAPI é¡¹ç›®é€šè¿‡ CI/CD è‡ªåŠ¨åŒ–éƒ¨ç½²åˆ° Linux æœåŠ¡å™¨ï¼ˆdocker-composeï¼‰",
      "link": "https://www.cnblogs.com/hnzhengfy/p/19012379/cicd_Linux_docker",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/hnzhengfy/p/19012379/cicd_Linux_docker\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-21 22:16\">\n    <span>WebAPI é¡¹ç›®é€šè¿‡ CI/CD è‡ªåŠ¨åŒ–éƒ¨ç½²åˆ° Linux æœåŠ¡å™¨ï¼ˆdocker-composeï¼‰</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                    <div id=\"cnblogs_post_description\" style=\"display: none;\">\n        \n        æœ¬æ–‡å…ˆåˆ—ä¸¾äº†ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹é¡¹ç›®ï¼Œç„¶åé€šè¿‡ CI/CD çš„æ–¹å¼ï¼Œå°†ç§æœ‰é•œåƒåº“ Harbor ä¸­çš„é•œåƒï¼Œå‘å¸ƒåˆ° Linux ä¸­çš„ Docker æœåŠ¡ã€‚\n    </div>\n<div class=\"blogpost-body blogpost-body-html\" id=\"cnblogs_post_body\">\n<h2>ã€‡ã€å‰è¨€</h2>\n<p>æœ¬æ–‡å…ˆåˆ—ä¸¾äº†ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹é¡¹ç›®ï¼Œç„¶åé€šè¿‡ CI/CD çš„æ–¹å¼ï¼Œå°†ç§æœ‰é•œåƒåº“ Harbor ä¸­çš„é•œåƒï¼Œå‘å¸ƒåˆ° Linux ä¸­çš„ Docker æœåŠ¡ã€‚</p>\n<p>å¹¶ä¸”ç®€å•ä»‹ç»äº†ï¼Œé…ç½®è‡ªåŠ¨å‘å¸ƒçš„è¿‡ç¨‹æ‰€æ¶‰åŠçš„ä¸€äº›æ¦‚å¿µå’Œé…ç½®ç‚¹ï¼Œå¾ˆå¤šè®¾è®¡ç§æœ‰é•œåƒåº“å’Œç§æœ‰åŸŸåéƒ½åšäº†é€‚å½“å¤„ç†ï¼Œä»…ä¾›å‚è€ƒã€‚å¦‚æœ‰ç–‘é—®ï¼Œæ¬¢è¿å‹å¥½æ²Ÿé€šã€‚</p>\n<h2>ä¸€ã€å‡†å¤‡ä¸€ä¸ªç¤ºä¾‹é¡¹ç›®</h2>\n<h3>1.1 åˆ›å»ºä¸€ä¸ª Web API ç¤ºä¾‹é¡¹ç›®</h3>\n<p>åç§°ä¾‹å¦‚ï¼šTest.WebAPI.Net8.Secondï¼Œé¡¹ç›®é…ç½®å¦‚ä¸‹å›¾ã€‚ä¸»è¦å°±æ˜¯å¯ç”¨å®¹å™¨æ”¯æŒã€‚</p>\n<p><img alt=\"image\" height=\"434\" src=\"https://img2024.cnblogs.com/blog/1868241/202601/1868241-20260113192529793-1544105120.png\" width=\"447\" /></p>\n<p>å¦‚æœåœ¨åˆ›å»ºé¡¹ç›®çš„æ—¶å€™æ²¡æœ‰å‹¾é€‰å¯ç”¨å®¹å™¨æ”¯æŒï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨æ–°å¢ä¸€ä¸ª Dockerfile æ–‡ä»¶ã€‚</p>\n<p>å¦‚ä¸‹ï¼Œæ˜¯ Dockerfile æ–‡ä»¶çš„å†…å®¹ï¼š</p>\n<pre class=\"language-nginx highlighter-hljs\"><code># è¯·å‚é˜… https://aka.ms/customizecontainer ä»¥äº†è§£å¦‚ä½•è‡ªå®šä¹‰è°ƒè¯•å®¹å™¨ï¼Œä»¥åŠ Visual Studio å¦‚ä½•ä½¿ç”¨æ­¤ Dockerfile ç”Ÿæˆæ˜ åƒä»¥æ›´å¿«åœ°è¿›è¡Œè°ƒè¯•ã€‚\n\n# æ­¤é˜¶æ®µç”¨äºåœ¨å¿«é€Ÿæ¨¡å¼(é»˜è®¤ä¸ºè°ƒè¯•é…ç½®)ä¸‹ä» VS è¿è¡Œæ—¶\nFROM mcr.microsoft.com/dotnet/aspnet:8.0 AS base # ã€å»ºè®®ï¼šæ”¹ä¸ºç§æœ‰ä»“åº“ã€‘\nUSER $APP_UID\nWORKDIR /app\n#EXPOSE 8080\nENV ASPNETCORE_URLS=http://+:998 #ã€å¯æ”¹ä¸ºè‡ªå®šä¹‰çš„ç«¯å£ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é»˜è®¤çš„8080ã€‘\n\n# æ­¤é˜¶æ®µç”¨äºç”ŸæˆæœåŠ¡é¡¹ç›®\nFROM mcr.microsoft.com/dotnet/sdk:8.0 AS build # ã€å»ºè®®ï¼šæ”¹ä¸ºç§æœ‰ä»“åº“ã€‘\nARG BUILD_CONFIGURATION=Release\n\nWORKDIR /src\nCOPY [\"Test.WebAPI.Net8.csproj\", \".\"]\nRUN dotnet restore \"./Test.WebAPI.Net8.csproj\"\nCOPY . .\n\nWORKDIR /src\nRUN dotnet build \"./WebApplication1.csproj\" -c $BUILD_CONFIGURATION -o /app/build\n\n# æ­¤é˜¶æ®µç”¨äºå‘å¸ƒè¦å¤åˆ¶åˆ°æœ€ç»ˆé˜¶æ®µçš„æœåŠ¡é¡¹ç›®\nFROM build AS publish\nARG BUILD_CONFIGURATION=Release\nRUN dotnet publish \"./Test.WebAPI.Net8.csproj\" -c $BUILD_CONFIGURATION -o /app/publish /p:UseAppHost=false\n\n# æ­¤é˜¶æ®µåœ¨ç”Ÿäº§ä¸­ä½¿ç”¨ï¼Œæˆ–åœ¨å¸¸è§„æ¨¡å¼ä¸‹ä» VS è¿è¡Œæ—¶ä½¿ç”¨(åœ¨ä¸ä½¿ç”¨è°ƒè¯•é…ç½®æ—¶ä¸ºé»˜è®¤å€¼)\nFROM base AS final\nWORKDIR /app\nCOPY --from=publish /app/publish .\nENTRYPOINT [\"dotnet\", \"Test.WebAPI.Net8.dll\"]</code></pre>\n<h3>1.2 åœ¨é¡¹ç›®ä¸»ç›®å½•ä¸‹æ·»åŠ <code>gitlab-ci.yml</code>æ–‡ä»¶</h3>\n<p>æ–‡ä»¶å†…å®¹ä¾‹å¦‚ï¼š</p>\n<pre class=\"language-nginx highlighter-hljs\"><code>stages:\n  - compile\n  - build\n  - deploy\n\nvariables:\n  DOCKER_REGISTRY_PREFIX: \"harbor.xxxx.com\" #ã€éœ€æ›¿æ¢ä¸ºç§æœ‰ä»“åº“åŸŸåã€‘\n  IMAGE_NAME: ${DOCKER_REGISTRY_PREFIX}/${CI_PROJECT_PATH}\n  DOCKER_IMAGE_TEST: ${IMAGE_NAME}:${CI_COMMIT_SHA}\n  DOCKER_IMAGE_PROD: ${IMAGE_NAME}:${CI_COMMIT_TAG}\n  # DOCKER_IMAGE_PROD: ${IMAGE_NAME}:v1.6\n  APP_NAME: ${CI_PROJECT_NAME}\n  \n# ç”Ÿäº§ç¯å¢ƒç¼–è¯‘ä»»åŠ¡\n.compile-op:    # ä»¥ . å¼€å¤´ï¼Œæ˜¯éšè— job æ¨¡æ¿ï¼Œä¸ä¼šç›´æ¥è¿è¡Œ\n  stage: compile\n  #ã€éœ€æ›¿æ¢ä¸ºç§æœ‰ä»“åº“åŸŸåã€‘\n  image: harbor.xxxx.com/cicd/sdk/dotnet:8.0\n  #image: mcr.microsoft.com/dotnet/sdk:8.0\n  script:\n    - mkdir -p temp\n    # å‘å¸ƒä¸º Linux ç¯å¢ƒçš„ Release å¯æ‰§è¡Œæ–‡ä»¶\n    - dotnet publish Test.WebAPI.Net8.Second.csproj -c Release -o temp --runtime linux-x64 --self-contained false\n    - pwd\n    - ls -al temp\n  artifacts:\n    when: on_success\n    paths:\n      - temp/\n    expire_in: 30 minutes\n  tags:\n    - \"gitlab-runner-dotnet8-second\"\ncompile-prod-api:\n  extends: .compile-op\n  rules:\n    # - if: '$CI_COMMIT_TAG == null' # æµ‹è¯•ç”¨\n    - if: '$CI_COMMIT_TAG =~ /^v.*/'\n  variables:\n    MAIN_PROJECT: ${CI_PROJECT_NAME}.csproj  # è‹¥ä¸»é¡¹ç›®åä¸åŒï¼Œå¯æ‰‹åŠ¨æŒ‡å®š\n\n# ç”Ÿäº§ç¯å¢ƒæ„å»ºä»»åŠ¡\nbuild-prod-api:\n  extends: .build-op\n  dependencies:\n    - compile-prod-api\n  rules:\n    - if: '$CI_COMMIT_TAG =~ /^v.*/'\n  variables:\n    DOCKER_IMAGE_NAME: ${DOCKER_IMAGE_PROD}\n.build-op:\n  stage: build\n   #ã€éœ€æ›¿æ¢ä¸ºç§æœ‰ä»“åº“åŸŸåã€‘\n  image: harbor.xxxx.com/base/docker:24.0.7-dind # å‘ä¸‹å…¼å®¹ï¼Œç›®æ ‡æœåŠ¡å™¨éœ€è¦å¤§äºç­‰äºæ­¤ç‰ˆæœ¬\n  script:\n    - ls -al\n    - echo \"Image name:\" ${DOCKER_IMAGE_NAME}\n    - docker build -t ${DOCKER_IMAGE_NAME} -f Dockerfile .\n    - docker push ${DOCKER_IMAGE_NAME}  # å°†é•œåƒæ¨é€åˆ°ç§æœ‰é•œåƒåº“\n  tags:\n    - \"gitlab-runner-dotnet8-second\"\n\n# å‘å¸ƒ\ndeploy-api-prod:\n  extends: .deploy-op\n  # when: manual # æ ‡è¯†ä¸ºæ‰‹åŠ¨æ‰§è¡Œ\n  rules:\n    - if: '$CI_COMMIT_TAG =~ /^v.*/'\n  variables:\n    DOCKER_COMPOSE_FILE: /data/www/${APP_NAME}/docker-compose.yaml\n    SERVER_NAME: ${CI_PROJECT_PATH}\n    PORTS: 8777\n.deploy-op:\n  stage: deploy\n  #ã€éœ€æ›¿æ¢ä¸ºç§æœ‰ä»“åº“åŸŸåã€‘\n  image: harbor.xxxx.com/cicd/saltctl-1.0 # ç§æœ‰ä»“åº“ä¸­çš„ saltctl å·¥å…·\n  script:\n    - |\n      echo \"SERVER_NAME=nodegroup:${SERVER_NAME} TAG={TAG} DOCKER_COMPOSE_FILE=${DOCKER_COMPOSE_FILE} IMAGE_NAME=${IMAGE_NAME} PORTS=${PORTS} MODE=${MODE}\"\n      export JSON=\"{\\\"tag\\\": \\\"${CI_COMMIT_TAG}\\\", \\\"docker_compose_file\\\": \\\"${DOCKER_COMPOSE_FILE}\\\", \\\"image_name\\\": \\\"${IMAGE_NAME}\\\", \\\"port\\\": \\\"${PORTS}\\\", \\\"mode\\\": \\\"${MODE}\\\"}\"\n      echo $JSON\n      saltctl apply -t nodegroup:${SERVER_NAME} -s backend.ecs.docker_compose_update -p  \"${JSON}\" --batch\n  tags:\n    - \"gitlab-runner-dotnet8-second\"</code></pre>\n<p>è¿™æ ·ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹é¡¹ç›®å°±å‡†å¤‡å¥½äº†ã€‚</p>\n<h3>1.3 å°†é¡¹ç›®ä¸Šä¼ è‡³ gitlab</h3>\n<p>åœ¨ gitlab ä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„ blank é¡¹ç›®ï¼Œåå­—ä¾‹å¦‚ï¼štest-dotnet8ã€‚</p>\n<p>æ³¨æ„ï¼šä¸è¦å‹¾é€‰â€œInitialize repository with a READMEâ€ï¼ˆå› ä¸ºå·²æœ‰æœ¬åœ°ä»£ç ï¼‰ã€‚è‹¥å‹¾é€‰äº† â€œInitialize repository with a READMEâ€ï¼ŒGitLab ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªåŒ…å« README.md æ–‡ä»¶çš„åˆå§‹æäº¤ï¼ˆå³è¿œç¨‹ä»“åº“éç©ºï¼‰ã€‚æ­¤æ—¶å¦‚æœç›´æ¥å°è¯•æ¨é€æœ¬åœ°ä»£ç ï¼Œä¼šé‡åˆ°å†²çªï¼ˆå› ä¸ºæœ¬åœ°å’Œè¿œç¨‹å†å²ä¸ä¸€è‡´ï¼‰ã€‚</p>\n<p><img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1868241/202601/1868241-20260114110127055-1320018789.png\" /></p>\n<p>è¿›å…¥åˆ°é¡¹ç›®ä¸»ç›®å½•åï¼Œæ‰“å¼€ PowerShellï¼Œè¾“å…¥ cmd å›è½¦ã€‚æ¥ç€æ‰§è¡Œä¸‹é¢å‘½ä»¤æ¥ä¸Šä¼ ä»£ç ã€‚</p>\n<pre class=\"language-nginx highlighter-hljs\"><code># åˆå§‹åŒ– Git\ngit init\n# æ·»åŠ  add æ‰€æœ‰æ–‡ä»¶ï¼Œå¹¶æäº¤ commit\ngit add .\ngit commit -m è‡ªå®šä¹‰æ–‡æœ¬ï¼šé¡¹ç›®åˆå§‹åŒ–æäº¤\n# æ·»åŠ  GitLab è¿œç¨‹ä»“åº“åœ°å€\n# æ³¨æ„ï¼Œéœ€æ›¿æ¢ä¸ºå®é™… GitLab é¡¹ç›® HTTPS æˆ– SSH åœ°å€\ngit remote add origin https://xxxxx.com/oa/test-dotnet8.git\n# æ¨é€åˆå¹¶åçš„ä»£ç åˆ° GitLab\n# æ³¨æ„å½“å‰åˆ†æ”¯æ˜¯å¦ä¸è¿œç¨‹åˆ†æ”¯ç›¸åŒï¼Œä¸€èˆ¬ä¸º master æˆ–è€… mainï¼Œä¸ç”¨çš„è¯éœ€è¦é€‚æ—¶åˆ‡æ¢\ngit push origin master\n# git branch # æŸ¥çœ‹å½“å‰åˆ†æ”¯\n# git checkout main # åˆ‡æ¢åˆ° main åˆ†æ”¯\n# git pull # æ‹‰å–è¿œç¨‹åˆ†æ”¯çš„å†…å®¹\n# git merge master # åˆå¹¶æŒ‡å®šåˆ†æ”¯ä»£ç åˆ°å½“å‰åˆ†æ”¯\n# git push # å°†æœ¬åœ°çš„é¡¹ç›®çŠ¶æ€æ¨é€åˆ°ä»“åº“</code></pre>\n<p>è‹¥åœ¨ gitlab åˆ›å»ºé¡¹ç›®æ—¶ï¼Œå‹¾é€‰äº† â€œInitialize repository with a READMEâ€ï¼Œåˆ™éœ€è¦å¢åŠ å¦‚ä¸‹æ“ä½œï¼š&nbsp;</p>\n<pre class=\"language-nginx highlighter-hljs\"><code># åœ¨ push æäº¤ä¹‹å‰ï¼Œå…ˆæ‹‰å–è¿œç¨‹å†…å®¹ï¼ˆè¿‡ç¨‹ä¸­å¯èƒ½éœ€è¦æ‰‹åŠ¨ç™»å½• gitlabï¼‰\n# åˆ†æ”¯åå­—ä¸º main æˆ–è€… masterï¼Œæ³¨æ„æ ¸å®åæ‰§è¡Œ\ngit pull origin master --allow-unrelated-histories\n# ç³»ç»Ÿä¼šæ‰“å¼€ç¼–è¾‘å™¨ï¼Œæç¤ºè¾“å…¥åˆå¹¶æäº¤ä¿¡æ¯ï¼ˆå¯ç›´æ¥ä¿å­˜é€€å‡ºï¼Œå‘½ä»¤ï¼šã€:wqã€‘ï¼‰\n# å®Œæˆåï¼Œåœ¨è¿›è¡Œ push æ“ä½œ</code></pre>\n<h2>äºŒã€Linux ç¯å¢ƒå‡†å¤‡ï¼ˆCentOS 7ï¼‰</h2>\n<h3>2.1 æŸ¥çœ‹å½“å‰ç³»ç»Ÿçš„ç‰ˆæœ¬</h3>\n<p>ä¸æ¸…æ¥šå½“å‰ç³»ç»Ÿç‰ˆæœ¬çš„è¯ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤<code>lsb_release -a</code>æ¥æŸ¥çœ‹ï¼Œå› ä¸ºä¸åŒç‰ˆæœ¬çš„ç³»ç»Ÿä½¿ç”¨çš„ç›¸å…³å‘½ä»¤å¯èƒ½ä¸åŒï¼Œæœ¬æ–‡ç¤ºä¾‹å‡åŸºäº CentOS 7ã€‚</p>\n<pre class=\"language-nginx highlighter-hljs\"><code># æŸ¥çœ‹å½“å‰ç³»ç»Ÿç‰ˆæœ¬\n[root@localhost ~]# cat /etc/os-release\ncat: /etc/os-releasecat: No such file or directory\nNAME=\"CentOS Linux\"\nVERSION=\"7 (Core)\"\nID=\"centos\"\nID_LIKE=\"rhel fedora\"\nVERSION_ID=\"7\"\nPRETTY_NAME=\"CentOS Linux 7 (Core)\"\n\n# æŸ¥çœ‹ç¡®è®¤æ˜¯å¦å®‰è£…è¿‡ docker\n[root@localhost ~]# which docker\n/usr/bin/which: no docker in (/usr/lib64/qt-3.3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/usr/local/nginx/sbin:/root/bin)\n# æˆ–è€…ç›´æ¥æŸ¥è¯¢ç‰ˆæœ¬\n[root@localhost ~]# docker --version\n-bash: docker: command not found\n[root@localhost ~]# </code></pre>\n<h3>2.2 å®‰è£… Docker å¹¶æ·»åŠ  deploy ç”¨æˆ·</h3>\n<pre class=\"language-nginx highlighter-hljs\"><code># 1. å®‰è£… yum-utils\nsudo yum install -y yum-utils\n# 2. æ·»åŠ  Docker å®˜æ–¹ä»“åº“ï¼ˆä½¿ç”¨ yum-config-managerï¼‰\n#   ä½¿ç”¨å›½å†…é•œåƒæºï¼ˆé˜¿é‡Œäº‘é•œåƒï¼‰\nsudo curl -o /etc/yum.repos.d/docker-ce.repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\n#   æˆ–è€…æ¸…åå¤§å­¦é•œåƒ\n# sudo curl -o /etc/yum.repos.d/docker-ce.repo https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/centos/docker-ce.repo\n# 3. å®‰è£… Docker\nsudo yum install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\n# æœ€åéªŒè¯å®‰è£…æˆåŠŸ\n[root@localhost ~]# docker --version\nDocker version 26.1.4, build 5650f9b\n\n#ã€æŸ¥çœ‹ç³»ç»Ÿç”¨æˆ·ã€‘\ncat /etc/passwd\n# åˆ›å»ºä¸“ç”¨é root ç”¨æˆ· + åŠ å…¥ docker ç»„ + é™åˆ¶ shell æ›´ä¾¿äºæƒé™æ§åˆ¶\n# æ·»åŠ ç”¨æˆ· deploy\nsudo adduser deploy\nsudo usermod -aG docker deploy  # åŠ å…¥ docker ç»„\n\n#ã€ç¡®ä¿ Docker æœåŠ¡æ­£åœ¨è¿è¡Œã€‘\nsudo systemctl status docker\n# å¦‚æœæ²¡æœ‰è¿è¡Œï¼Œå¯åŠ¨å®ƒï¼š\nsudo systemctl start docker\nsudo systemctl enable docker  # å¯é€‰ï¼šå¼€æœºè‡ªå¯\n# å°†å½“å‰ç”¨æˆ·åŠ å…¥ docker ç»„ï¼ˆé¿å…æ¯æ¬¡ç”¨ sudoï¼‰\nsudo usermod -aG docker $USER</code></pre>\n<h3>2.3 å®‰è£… docker-compose</h3>\n<pre class=\"language-nginx highlighter-hljs\"><code># å®‰è£… Docker Compose v2ï¼ˆæ¨èï¼‰\nsudo yum install -y docker-compose-plugin\n# æµ‹è¯•\ndocker compose version\n# è¾“å‡ºï¼šDocker Compose version v2.27.1</code></pre>\n<p>å¦‚æœä»ç„¶éœ€è¦é€šè¿‡ docker-compose å‘½ä»¤æ¥å¤„ç†æœåŠ¡ï¼Œå¯ä»¥åˆ›å»ºè½¯è¿æ¥ã€‚</p>\n<pre class=\"language-nginx highlighter-hljs\"><code># å…ˆç¡®è®¤ docker compose çš„çœŸå®æ’ä»¶ä½ç½®\nls /usr/libexec/docker/cli-plugins/          # RHEL/CentOS/Rocky å¸¸è§è·¯å¾„\nls /usr/local/lib/docker/cli-plugins/        # æ‰‹åŠ¨å®‰è£…å¸¸è§è·¯å¾„\n# åœ¨å¤§å¤šæ•°é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£… Docker çš„ Linux ç³»ç»Ÿï¼ˆå¦‚ CentOSã€Rockyã€Ubuntuï¼‰ä¸Šï¼ŒCompose V2 æ’ä»¶å®é™…ä½äºï¼š\n/usr/libexec/docker/cli-plugins/docker-compose\n# å¦‚æœå·²ç»åˆ›å»ºè¿‡ï¼Œéœ€è¦å…ˆåˆ é™¤é”™è¯¯çš„è½¯é“¾æ¥\nsudo rm -f /usr/local/bin/docker-compose\n# åˆ›å»ºæ­£ç¡®çš„è½¯é“¾æ¥\nsudo ln -s /usr/libexec/docker/cli-plugins/docker-compose /usr/local/bin/docker-compose\n# éªŒè¯ï¼š\n[root@localhost ~]# docker-compose version\nDocker Compose version v2.27.1</code></pre>\n<h3>2.4 å°† salt ç”¨æˆ·åŠ å…¥ docker ç»„</h3>\n<pre class=\"language-nginx highlighter-hljs\"><code># æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼ˆroot èº«ä»½ï¼‰\nusermod -aG docker salt\n# æŸ¥çœ‹ salt ç”¨æˆ·æ‰€å±çš„ç»„\ngroups salt\n# è¾“å‡ºï¼šsalt : salt docker\n\n# è‹¥è¾“å‡ºæ‰”æœ‰é—®é¢˜ï¼Œæ‰§è¡Œ\n[root@www ~]# sudo -i -u salt docker ps\nThis account is currently not available.\n# æ­¤è¾“å‡ºï¼Œè¯´æ˜ salt ç”¨æˆ·çš„ç™»å½• shell è¢«è®¾ç½®ä¸º /sbin/nologin æˆ– /usr/sbin/nologin\n# è¿™æ˜¯å‡ºäºå®‰å…¨è€ƒè™‘çš„å¸¸è§é…ç½® â€”â€” Salt ç”¨æˆ·é€šå¸¸åªç”¨äºåå°æœåŠ¡ï¼Œä¸å…è®¸äº¤äº’å¼ç™»å½•ã€‚</code></pre>\n<p>å¦‚æœä¸è¿›è¡Œæ­¤æ“ä½œä¼šå‡ºç°æŠ¥é”™ï¼š</p>\n<pre class=\"language-nginx highlighter-hljs\"><code>permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock</code></pre>\n<p>è¿™è¯´æ˜ salt ç”¨æˆ·æ²¡æœ‰æƒé™è®¿é—® Docker å®ˆæŠ¤è¿›ç¨‹ï¼Œéœ€è¦å°† salt ç”¨æˆ·åŠ å…¥ docker ç»„ã€‚</p>\n<h2>ä¸‰ã€CI/CD è„šæœ¬ä»¥åŠè§¦å‘</h2>\n<h3>3.1 å…³äº docker-compose.yaml</h3>\n<p>ç”¨ä¸€ä¸ª YAML æ–‡ä»¶æè¿°æ•´ä¸ªåº”ç”¨çš„æœåŠ¡ã€ç½‘ç»œã€å·ã€ç¯å¢ƒå˜é‡ç­‰ï¼Œé€šè¿‡ä¸€æ¡å‘½ä»¤ï¼ˆå¦‚ docker-compose upï¼‰ä¸€é”®å¯åŠ¨/åœæ­¢æ•´å¥—æœåŠ¡ã€‚</p>\n<p>ç¤ºä¾‹ï¼š</p>\n<pre class=\"language-nginx highlighter-hljs\"><code>version: '3.3' \n\nservices:\n  test-dotnet8:\n    image: harbor.xxxxx.com/oa/test-dotnet8:v1.0 # è‡ªåŠ¨åŒ–è„šæœ¬å°±æ˜¯é€šè¿‡ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶ä¸­çš„ v1.0 â†’ v1.1 æ¥å®ç°æ»šåŠ¨æ›´æ–°\n    ports:\n      - \"8777:998\"\n    volumes:\n      - /data/www/test-dotnet8/Log:/app/Log # æ—¥å¿—æ–‡ä»¶æŒä¹…åŒ–\n      #- /data/www/test-dotnet8/appsettings.json:/app/appsettings.json # æ›¿æ¢é…ç½®æ–‡ä»¶\n    networks:\n      - test-network\n\nnetworks:\n  test-network:</code></pre>\n<table class=\"qk-md-table\">\n<thead class=\"qk-md-table-head\">\n<tr>\n<th><span class=\"qk-md-text complete\">ä¼˜åŠ¿</span></th>\n<th><span class=\"qk-md-text complete\">è¯´æ˜</span></th>\n</tr>\n</thead>\n<tbody class=\"qk-md-table-body\">\n<tr class=\"qk-md-table-row\">\n<td><strong class=\"qk-md-strong\"><span class=\"qk-md-text complete\">ç®€åŒ–éƒ¨ç½²</span></strong></td>\n<td><span class=\"qk-md-text complete\">æ— éœ€æ‰‹åŠ¨æ•²&nbsp;</span><code class=\"qk-md-code\">docker run ...</code><span class=\"qk-md-text complete\">&nbsp;å¤šæ¡å¤æ‚å‘½ä»¤</span></td>\n</tr>\n<tr class=\"qk-md-table-row\">\n<td><strong class=\"qk-md-strong\"><span class=\"qk-md-text complete\">ç¯å¢ƒä¸€è‡´æ€§</span></strong></td>\n<td><span class=\"qk-md-text complete\">å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ä½¿ç”¨åŒä¸€ä»½é…ç½®</span></td>\n</tr>\n<tr class=\"qk-md-table-row\">\n<td><strong class=\"qk-md-strong\"><span class=\"qk-md-text complete\">æœåŠ¡ç¼–æ’</span></strong></td>\n<td><span class=\"qk-md-text complete\">è‡ªåŠ¨å¤„ç†ä¾èµ–é¡ºåºï¼ˆå¦‚å…ˆå¯ DB å†å¯ Webï¼‰</span></td>\n</tr>\n<tr class=\"qk-md-table-row\">\n<td><strong class=\"qk-md-strong\"><span class=\"qk-md-text complete\">ç‰ˆæœ¬æ§åˆ¶å‹å¥½</span></strong></td>\n<td><span class=\"qk-md-text complete\">YAML æ–‡ä»¶å¯çº³å…¥ Git ç®¡ç†</span></td>\n</tr>\n<tr class=\"qk-md-table-row\">\n<td><strong class=\"qk-md-strong\"><span class=\"qk-md-text complete\">ä¸€é”®å¯åœ</span></strong></td>\n<td><code class=\"qk-md-code\">docker-compose up -d</code><span class=\"qk-md-text complete\">&nbsp;å¯åŠ¨å…¨éƒ¨ï¼Œ</span><code class=\"qk-md-code\">down</code><span class=\"qk-md-text complete\">&nbsp;åœæ­¢å¹¶æ¸…ç†</span></td>\n</tr>\n</tbody>\n</table>\n<table class=\"qk-md-table\">\n<thead class=\"qk-md-table-head\">\n<tr>\n<th><span class=\"qk-md-text complete\">å¸¸ç”¨å‘½ä»¤</span></th>\n<th><span class=\"qk-md-text complete\">ä½œç”¨</span></th>\n</tr>\n</thead>\n<tbody class=\"qk-md-table-body\">\n<tr class=\"qk-md-table-row\">\n<td><code class=\"qk-md-code\">docker-compose up</code></td>\n<td><span class=\"qk-md-text complete\">åˆ›å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆå‰å°è¿è¡Œï¼‰</span></td>\n</tr>\n<tr class=\"qk-md-table-row\">\n<td><code class=\"qk-md-code\">docker-compose up -d</code></td>\n<td><span class=\"qk-md-text complete\">åå°å¯åŠ¨ï¼ˆå®ˆæŠ¤æ¨¡å¼ï¼‰</span></td>\n</tr>\n<tr class=\"qk-md-table-row\">\n<td><code class=\"qk-md-code\">docker-compose down</code></td>\n<td><span class=\"qk-md-text complete\">åœæ­¢å¹¶åˆ é™¤å®¹å™¨ã€ç½‘ç»œï¼ˆé»˜è®¤ä¸åˆ å·ï¼‰</span></td>\n</tr>\n<tr class=\"qk-md-table-row\">\n<td><code class=\"qk-md-code\">docker-compose pull</code></td>\n<td><span class=\"qk-md-text complete\">æ‹‰å–æ‰€æœ‰æœåŠ¡çš„æ–°é•œåƒ</span></td>\n</tr>\n<tr class=\"qk-md-table-row\">\n<td><code class=\"qk-md-code\">docker-compose logs -f web</code></td>\n<td><span class=\"qk-md-text complete\">æŸ¥çœ‹&nbsp;</span><code class=\"qk-md-code\">web</code><span class=\"qk-md-text complete\">&nbsp;æœåŠ¡å®æ—¶æ—¥å¿—</span></td>\n</tr>\n</tbody>\n</table>\n<p>æ³¨æ„ï¼šç°ä»£ Docker å·²å†…ç½® Compose æ’ä»¶ï¼Œä¹Ÿå¯ç”¨ docker composeï¼ˆç©ºæ ¼ï¼‰ä»£æ›¿ docker-composeï¼ˆè¿å­—ç¬¦ï¼‰ã€‚è‹¥å½“å‰ç¯å¢ƒä»ä¸º docker-compose å‘½ä»¤ï¼Œåˆ™å¯ä»¥åˆ›å»ºè½¯é“¾æ¥ï¼Œè§æœ¬æ–‡ 2.3ã€‚</p>\n<h3>3.2 é…ç½® Runner</h3>\n<pre class=\"language-nginx highlighter-hljs\"><code>## ã€å®‰è£… GitLab Runnerã€‘\n# æ£€æŸ¥æ˜¯å¦å·²å®‰è£…\nwhich gitlab-runner\n## å¯¹äº CentOS / RHEL / Rocky Linuxï¼š\n# æ·»åŠ å®˜æ–¹ä»“åº“\ncurl -L https://packages.gitlab.com/install/repositories/runner/gitlab-runner/script.rpm.sh | sudo bash\n# å®‰è£…\nsudo yum install -y gitlab-runner\n## å¯¹äº Ubuntu / Debianï¼š\n# æ·»åŠ å®˜æ–¹ä»“åº“\n# curl -L https://packages.gitlab.com/install/repositories/runner/gitlab-runner/script.deb.sh | sudo bash\n# å®‰è£…\n# sudo apt-get install -y gitlab-runner\n\n## ã€æ³¨å†Œ Runnerï¼ˆè¿æ¥åˆ°çš„ GitLab é¡¹ç›®ï¼‰ã€‘\nsudo gitlab-runner register\n# æŒ‰æç¤ºè¾“å…¥å¯¹åº”çš„å†…å®¹ï¼š\n# Enter the GitLab instance URL (for example, https://gitlab.com/): ## GitLab åœ°å€\n# Enter the registration token: ## é¡¹ç›® â†’ Settings â†’ CI/CD â†’ Runners â†’ Project registration token\n# Enter a description for the runner: ## æè¿° Runner ç”¨é€”\n# Enter tags for the runner (comma-separated): ## æ ‡ç­¾ï¼Œç”¨äº .gitlab-ci.yml ä¸­æŒ‡å®šä»»åŠ¡ç”±è°æ‰§è¡Œ\n# Enter optional maintenance note for the runner: ## å¯é€‰ï¼Œç”¨äºè®°å½•ç»´æŠ¤ä¿¡æ¯ï¼ˆå¦‚è´Ÿè´£äººã€åˆ°æœŸæ—¶é—´ï¼‰\n# Enter an executor: instance, shell, virtualbox, docker, docker+machine, kubernetes, custom, ssh, parallels, docker-windows, docker-autoscaler:\n    ## è¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ï¼é€‰æ‹©é”™è¯¯ä¼šå¯¼è‡´éƒ¨ç½²å¤±è´¥ã€‚shellï¼šç›´æ¥åœ¨å®¿ä¸»æœºæ‰§è¡Œå‘½ä»¤\n    ## éœ€è¦åœ¨ å½“å‰æœåŠ¡å™¨ ä¸Šç›´æ¥æ“ä½œ docker-composeï¼Œshell æ˜¯æœ€ç®€å•ã€æœ€å¯é çš„æ–¹å¼\n# Enter the default Docker image (for example, ruby:3.3): \n    ## ä»…å½“ executor = docker æ—¶æ‰éœ€è¦å¡«å†™\n    ## é€‰æ‹©äº† shellï¼Œè¿™ä¸€æ­¥ä¸ä¼šå‡ºç°ï¼ˆGitLab Runner ä¼šè‡ªåŠ¨è·³è¿‡ï¼‰\n# æ³¨å†ŒæˆåŠŸçš„æ ‡å¿—ï¼š\nRunner registered successfully. Feel free to start it, but if it''s running already the config should be automatically reloaded!\nConfiguration (with the authentication token) was saved in \"/etc/gitlab-runner/config.toml\" \n\n## ã€å¯åŠ¨å¹¶å¯ç”¨æœåŠ¡ã€‘\n# é‡å¯\nsudo systemctl enable --now gitlab-runner\n#éªŒè¯çŠ¶æ€ï¼š\nsudo systemctl status gitlab-runner\n#åˆ—å‡ºå·²æ³¨å†Œçš„ Runnerï¼š\nsudo gitlab-runner list\n\n## ã€ç¡®ä¿ gitlab-runner ç”¨æˆ·èƒ½è¿è¡Œ Dockerã€‘\n# å°† gitlab-runner ç”¨æˆ·åŠ å…¥ docker ç»„\nsudo usermod -aG docker gitlab-runner\n# é‡å¯ gitlab-runner æœåŠ¡ä½¿ç»„ç”Ÿæ•ˆ\nsudo systemctl restart gitlab-runner\n# éªŒè¯\nsudo -u gitlab-runner docker info</code></pre>\n<p>åœ¨æ³¨å†Œ GitLab Runner æ—¶é€‰æ‹© --executor \"docker\"ï¼Œå¹¶ä¸”æœåŠ¡å™¨ä¸Šå·²å®‰è£… Dockerï¼ŒRunner å°±ä¼šåœ¨æ¯æ¬¡ CI/CD ä»»åŠ¡ä¸­å¯åŠ¨ä¸€ä¸ªä¸´æ—¶çš„ Docker å®¹å™¨æ¥æ‰§è¡Œ .gitlab-ci.yml ä¸­å®šä¹‰çš„å‘½ä»¤ï¼ˆæ¯”å¦‚ dotnet buildã€docker build ç­‰ï¼‰ã€‚è¿™ç§æ–¹å¼æ¯” shell æ›´å®‰å…¨ã€æ›´å¹²å‡€ï¼ˆæ¯æ¬¡æ„å»ºç¯å¢ƒéš”ç¦»ï¼‰ï¼Œæ˜¯å®˜æ–¹æ¨èåšæ³•ã€‚</p>\n<pre class=\"language-nginx highlighter-hljs\"><code>## æ³¨å†Œ Runner çš„å®æ“è®°å½•\n[root@localhost ~]# sudo gitlab-runner register\nRuntime platform                                    arch=amd64 os=linux pid=6402 revision=9ffb4aa0 version=18.8.0\nRunning in system-mode.                            \n                                                   \nEnter the GitLab instance URL (for example, https://gitlab.com/):\nhttps://&lt;--&gt;.&lt;--&gt;.com/\nEnter the registration token:\nGR134....S234S\nEnter a description for the runner:\n[localhost.localdomain]: test-dotnet8-second\nEnter tags for the runner (comma-separated):\ngitlab-runner-dotnet8-second\nEnter optional maintenance note for the runner:\ndotnet\nWARNING: Support for registration tokens and runner parameters in the 'register' command has been deprecated in GitLab Runner 15.6 and will be replaced with support for authentication tokens. For more information, see https://docs.gitlab.com/ci/runners/new_creation_workflow/ \nRegistering runner... succeeded                     correlation_id=01KFCRRD7BR00AF88M86JR1HX4 runner=VmoeA351T\nEnter an executor: instance, custom, ssh, docker+machine, kubernetes, shell, parallels, virtualbox, docker, docker-windows, docker-autoscaler:\nshell\nRunner registered successfully. Feel free to start it, but if it's running already the config should be automatically reloaded!\n \nConfiguration (with the authentication token) was saved in \"/etc/gitlab-runner/config.toml\" \n[root@localhost ~]# </code></pre>\n<p><img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1868241/202601/1868241-20260120162915288-609463997.png\" /></p>\n<h3>3.3 CI å’Œ CD æ¨èä½¿ç”¨ä¸åŒçš„ Runner</h3>\n<p>åœ¨æŠ€æœ¯å±‚é¢ï¼Œä¸¤ä¸ªæ­¥éª¤æ˜¯å¯ä»¥å…±ç”¨åŒä¸€ä¸ª Runnerã€‚Runner æœ¬è´¨æ˜¯ä»»åŠ¡æ‰§è¡Œå™¨ï¼Œåªè¦å®ƒå…·å¤‡è¿è¡Œ CI å’Œ CD æ‰€éœ€çš„å·¥å…·ã€æƒé™å’Œç½‘ç»œè®¿é—®èƒ½åŠ›ï¼Œä¸€ä¸ª Runner å®Œå…¨å¯ä»¥åŒæ—¶æ‰§è¡Œ CI å’Œ CD çš„ jobã€‚å¤§å¤šæ•° CI/CD ç³»ç»Ÿï¼ˆå¦‚ GitLab CIã€GitHub Actionsï¼‰å¹¶ä¸å¼ºåˆ¶åŒºåˆ† CI Runner å’Œ CD Runnerã€‚</p>\n<p>CIï¼ˆæŒç»­é›†æˆï¼‰å’Œ CDï¼ˆæŒç»­éƒ¨ç½²/äº¤ä»˜ï¼‰æ˜¯å¦éœ€è¦ä½¿ç”¨ä¸¤ä¸ªä¸åŒçš„ Runnerï¼Œä¸æ˜¯å¼ºåˆ¶è¦æ±‚ï¼Œä½†åœ¨å¾ˆå¤šå®é™…åœºæ™¯ä¸­æ¨èåˆ†å¼€ã€‚ä»¥ä¸‹æ˜¯å‡ ä¸ªç®€å•çš„åŸå› ï¼š</p>\n<table class=\"qk-md-table\" style=\"width: 65.0454%;\">\n<thead class=\"qk-md-table-head\">\n<tr>\n<th style=\"width: 12.1995%;\"><span class=\"qk-md-text complete\">åŸå› </span></th>\n<th style=\"width: 87.8005%;\"><span class=\"qk-md-text complete\">è¯´æ˜</span></th>\n</tr>\n</thead>\n<tbody class=\"qk-md-table-body\">\n<tr class=\"qk-md-table-row\">\n<td style=\"width: 12.1995%;\"><strong class=\"qk-md-strong\"><span class=\"qk-md-text complete\">å®‰å…¨éš”ç¦»</span></strong></td>\n<td style=\"width: 87.8005%;\"><span class=\"qk-md-text complete\">CD é˜¶æ®µé€šå¸¸æ¶‰åŠç”Ÿäº§ç¯å¢ƒå¯†é’¥ã€éƒ¨ç½²æƒé™ã€‚è‹¥ CI Runner è¢«æ±¡æŸ“ï¼ˆå¦‚è¿è¡Œäº†æ¶æ„ PRï¼‰ï¼Œå¯èƒ½å±åŠç”Ÿäº§ç³»ç»Ÿã€‚</span></td>\n</tr>\n<tr class=\"qk-md-table-row\">\n<td style=\"width: 12.1995%;\"><strong class=\"qk-md-strong\"><span class=\"qk-md-text complete\">æƒé™æœ€å°åŒ–</span></strong></td>\n<td style=\"width: 87.8005%;\"><span class=\"qk-md-text complete\">CI Runner åªéœ€ç¼–è¯‘/æµ‹è¯•æƒé™ï¼›CD Runner éœ€è¦è®¿é—®ç”Ÿäº§ APIã€K8s é›†ç¾¤ç­‰ã€‚éµå¾ªâ€œæœ€å°æƒé™åŸåˆ™â€ã€‚</span></td>\n</tr>\n<tr class=\"qk-md-table-row\">\n<td style=\"width: 12.1995%;\"><strong class=\"qk-md-strong\"><span class=\"qk-md-text complete\">ç½‘ç»œéš”ç¦»</span></strong></td>\n<td style=\"width: 87.8005%;\"><span class=\"qk-md-text complete\">ç”Ÿäº§éƒ¨ç½²æœºå™¨å¯èƒ½ä½äºå†…ç½‘æˆ– DMZ åŒºï¼Œè€Œ CI æ„å»ºå¯åœ¨å…¬ç½‘æˆ–å¼€å‘ç½‘ç»œå®Œæˆã€‚</span></td>\n</tr>\n<tr class=\"qk-md-table-row\">\n<td style=\"width: 12.1995%;\"><strong class=\"qk-md-strong\"><span class=\"qk-md-text complete\">ç¯å¢ƒå·®å¼‚</span></strong></td>\n<td style=\"width: 87.8005%;\"><span class=\"qk-md-text complete\">CI å¯èƒ½åœ¨å¹²å‡€å®¹å™¨ä¸­è¿è¡Œï¼›CD å¯èƒ½éœ€è¦ç‰¹å®šå·¥å…·ï¼ˆå¦‚&nbsp;</span><code class=\"qk-md-code\">kubectl</code><span class=\"qk-md-text complete\">ã€</span><code class=\"qk-md-code\">aws-cli</code><span class=\"qk-md-text complete\">ã€Ansibleï¼‰ã€‚</span></td>\n</tr>\n<tr class=\"qk-md-table-row\">\n<td style=\"width: 12.1995%;\"><strong class=\"qk-md-strong\"><span class=\"qk-md-text complete\">å®¡è®¡ä¸è¿½è¸ª</span></strong></td>\n<td style=\"width: 87.8005%;\"><span class=\"qk-md-text complete\">åˆ†å¼€åæ›´å®¹æ˜“ç›‘æ§â€œè°éƒ¨ç½²äº†ä»€ä¹ˆâ€ï¼Œç¬¦åˆåˆè§„è¦æ±‚ï¼ˆå¦‚ ISO 27001ã€SOC2ï¼‰ã€‚</span></td>\n</tr>\n</tbody>\n</table>\n<p>å¸¸è§çš„åœºæ™¯å’Œå»ºè®®ä½¿ç”¨çš„ Runner ä¸ªæ•°ï¼š</p>\n<table class=\"qk-md-table\">\n<thead class=\"qk-md-table-head\">\n<tr>\n<th><span class=\"qk-md-text complete\">åœºæ™¯</span></th>\n<th><span class=\"qk-md-text complete\">æ˜¯å¦éœ€è¦å¤šä¸ª Runner</span></th>\n<th><span class=\"qk-md-text complete\">è¯´æ˜</span></th>\n</tr>\n</thead>\n<tbody class=\"qk-md-table-body\">\n<tr class=\"qk-md-table-row\">\n<td><span class=\"qk-md-text complete\">å•ä¸€è¯­è¨€é¡¹ç›®ï¼ˆå¦‚çº¯ .netï¼‰</span></td>\n<td><span class=\"qk-md-text complete\">1 ä¸ªå³å¯</span></td>\n<td><span class=\"qk-md-text complete\">åªéœ€ä¸€ä¸ªèƒ½è¿è¡Œ .net çš„ç¯å¢ƒ</span></td>\n</tr>\n<tr class=\"qk-md-table-row\">\n<td><span class=\"qk-md-text complete\">å¤šå¹³å°æ„å»ºï¼ˆWindows + Linux + macOSï¼‰</span></td>\n<td><span class=\"qk-md-text complete\">â‰¥3 ä¸ª</span></td>\n<td><span class=\"qk-md-text complete\">æ¯ä¸ªå¹³å°é€šå¸¸éœ€è¦ç‹¬ç«‹çš„ Runner</span></td>\n</tr>\n<tr class=\"qk-md-table-row\">\n<td><span class=\"qk-md-text complete\">å¤šè¯­è¨€é¡¹ç›®ï¼ˆå‰ç«¯ + åç«¯ + ç§»åŠ¨ç«¯ï¼‰</span></td>\n<td><span class=\"qk-md-text complete\">â‰¥2ï½3 ä¸ª</span></td>\n<td><span class=\"qk-md-text complete\">å¦‚ Node.jsã€.netã€Swift ç¯å¢ƒéš”ç¦»</span></td>\n</tr>\n<tr class=\"qk-md-table-row\">\n<td><span class=\"qk-md-text complete\">å®‰å…¨éš”ç¦»ï¼ˆå¦‚ç”Ÿäº§éƒ¨ç½² vs æµ‹è¯•ï¼‰</span></td>\n<td><span class=\"qk-md-text complete\">â‰¥2 ä¸ª</span></td>\n<td><span class=\"qk-md-text complete\">é¿å…æ•æ„Ÿæ“ä½œåœ¨é€šç”¨ Runner ä¸Šæ‰§è¡Œ</span></td>\n</tr>\n<tr class=\"qk-md-table-row\">\n<td><span class=\"qk-md-text complete\">å¹¶è¡Œä»»åŠ¡åŠ é€Ÿ</span></td>\n<td><span class=\"qk-md-text complete\">å¤šä¸ªç›¸åŒç±»å‹ Runner</span></td>\n<td><span class=\"qk-md-text complete\">æé«˜å¹¶å‘èƒ½åŠ›ï¼Œä½†ç±»å‹å¯èƒ½ç›¸åŒ</span></td>\n</tr>\n</tbody>\n</table>\n<p>æœ€ä½³å®è·µï¼šå³ä½¿åˆæœŸå…±ç”¨ï¼Œä¹Ÿè¦åœ¨æ¶æ„ä¸Šé¢„ç•™åˆ†ç¦»èƒ½åŠ›ï¼ˆå¦‚é€šè¿‡ tags æ§åˆ¶ï¼‰ï¼Œéšç€é¡¹ç›®æˆç†Ÿé€æ­¥éš”ç¦»ã€‚</p>\n<h3>3.4 è§¦å‘ Pipeline æ‰§è¡Œ</h3>\n<p>å¸¸è§çš„è§¦å‘æ¡ä»¶æœ‰ï¼š</p>\n<pre class=\"language-nginx highlighter-hljs\"><code>#ã€ä»…åœ¨æ¨é€åˆ°ç‰¹å®šåˆ†æ”¯æ—¶è§¦å‘ã€‘\nrules:\n  - if: '$CI_COMMIT_BRANCH == \"main\"'\n#ã€ä»…åœ¨æ‰“ Tag æ—¶è§¦å‘ï¼ˆå¦‚å‘å¸ƒç‰ˆæœ¬ï¼‰ã€‘\nrules:\n  - if: '$CI_COMMIT_TAG != null'\nrules:\n  - if: '$CI_COMMIT_TAG =~ /^v.*/' # tag ä»¥å­—æ¯ v å¼€å¤´å°±è§¦å‘\nrules:\n  - if: '$CI_COMMIT_TAG == null' # é™¤äº†æäº¤ tag ä¹‹å¤–çš„æ“ä½œè§¦å‘\n#ã€åœ¨ Merge Requestï¼ˆMRï¼‰ä¸­è§¦å‘ã€‘\n# ç”¨äºè¿è¡Œ PR/MR ä¸­çš„æµ‹è¯•ã€ä»£ç æ‰«æï¼Œé€šå¸¸ä¸åŒ…å«éƒ¨ç½²åˆ°ç”Ÿäº§\nrules:\n  - if: '$CI_MERGE_REQUEST_ID'\n#ã€æ‰‹åŠ¨è§¦å‘ï¼ˆé€šè¿‡ UI æˆ– APIï¼‰ã€‘\n# å…¶ä»–æ¥æºè¿˜åŒ…æ‹¬ï¼š\"push\"ï¼šä»£ç æ¨é€ã€\"schedule\"ï¼šå®šæ—¶ä»»åŠ¡ã€\"api\"ï¼šAPI è°ƒç”¨ã€\"trigger\"ï¼šè·¨é¡¹ç›®è§¦å‘\n# å¯ç”¨äºâ€œç´§æ€¥ä¿®å¤â€æˆ–â€œé‡è¯•éƒ¨ç½²â€\nrules:\n  - if: '$CI_PIPELINE_SOURCE == \"web\"'\n#ã€æ’é™¤æŸäº›æƒ…å†µï¼ˆç»“åˆ when: neverï¼‰ã€‘\nrules:\n  - if: '$CI_COMMIT_BRANCH == \"dev\"'\n    when: never   # dev åˆ†æ”¯ä¸è¿è¡Œæ­¤ job\n  - when: always  # å…¶ä»–æƒ…å†µéƒ½è¿è¡Œ</code></pre>\n<h3>3.5 å¦‚æœä¿®æ”¹äº† docker-compose.yml ä¸­çš„ service åç§°</h3>\n<p>è‹¥åœ¨ docker-compose.yml ä¸­ ä¿®æ”¹äº† service åç§°ï¼ˆä¾‹å¦‚ä» web æ”¹ä¸º apiï¼‰ï¼ŒDocker Compose ä¼šå°†å…¶è§†ä¸º ä¸€ä¸ªå…¨æ–°çš„æœåŠ¡ï¼Œè€Œæ—§çš„æœåŠ¡ä¼šè¢«è®¤ä¸ºæ˜¯â€œå­¤å„¿â€ï¼ˆorphanedï¼‰ã€‚å¦‚æœä¸æ­£ç¡®å¤„ç†ï¼Œä¼šå¯¼è‡´ï¼šå®¹å™¨æ®‹ç•™ï¼ˆæ—§æœåŠ¡è¿˜åœ¨è¿è¡Œï¼‰ã€ç½‘ç»œ/å·å†²çªã€èµ„æºæœªé‡Šæ”¾ã€éƒ¨ç½²å¤±è´¥ï¼ˆå¦‚ä½ ä¹‹å‰é‡åˆ°çš„ â€œhas active endpointsâ€ é”™è¯¯ï¼‰ã€‚</p>\n<p>æ¨èä½¿ç”¨ï¼š --remove-orphans æ–¹å¼ï¼Œè¿™æ˜¯æœ€ç®€å•ã€æœ€å®‰å…¨çš„æ–¹å¼ã€‚</p>\n<p>å®ƒå¯ä»¥ï¼šå¯åŠ¨æ–° serviceï¼ˆnew_serviceï¼‰ï¼›è‡ªåŠ¨åœæ­¢å¹¶åˆ é™¤ä¸å†å‡ºç°åœ¨ compose æ–‡ä»¶ä¸­çš„æ—§ serviceï¼ˆold_serviceï¼‰ï¼›ä¿ç•™æ•°æ®å·ï¼ˆé™¤éä½ é¢å¤–åŠ  --volumesï¼‰ã€‚</p>\n<p>å¦‚ä¸‹ç¤ºä¾‹ï¼Œå…ˆè¿›å…¥é¡¹ç›®ä¸»ç›®å½•ï¼Œå†ä½¿ç”¨ docker-compose å‘½ä»¤ï¼š</p>\n<pre class=\"language-nginx highlighter-hljs\"><code>[root@www ~]# cd /data/www/test-dotnet8\n[root@www test-dotnet8]# docker-compose up -d --remove-orphans\nCreating testdotnet8_test-dotnet8_1 ... done\n[root@www test-dotnet8]# </code></pre>\n<p>å‘½ä»¤æ‰§è¡ŒæˆåŠŸåï¼Œå†é‡æ–°è§¦å‘ cd è¿‡ç¨‹å°±ä¼šé¡ºåˆ©æ‰§è¡Œã€‚</p>\n<h2>å››ã€SaltStack</h2>\n<h3>4.1 ç®€ä»‹</h3>\n<p>SaltStackï¼ˆé€šå¸¸ç®€ç§°ä¸º Saltï¼‰æ˜¯ä¸€ä¸ªå¼€æºçš„ã€åŸºäº Python çš„è‡ªåŠ¨åŒ–è¿ç»´å·¥å…·ï¼Œç”¨äºé…ç½®ç®¡ç†ã€è¿œç¨‹æ‰§è¡Œã€ç›‘æ§å’Œç¼–æ’ã€‚å®ƒä»¥é«˜æ€§èƒ½ã€å¯æ‰©å±•æ€§å’Œçµæ´»æ€§è‘—ç§°ï¼Œç‰¹åˆ«é€‚åˆç®¡ç†å¤§è§„æ¨¡åŸºç¡€è®¾æ–½ã€‚</p>\n<ul>\n<li><strong>SaltStack çš„æ ¸å¿ƒç‰¹ç‚¹</strong></li>\n</ul>\n<p>é«˜é€Ÿé€šä¿¡ï¼šä½¿ç”¨ ZeroMQï¼ˆæˆ– TCPï¼‰ä½œä¸ºæ¶ˆæ¯æ€»çº¿ï¼Œå®ç°æä½å»¶è¿Ÿçš„å‘½ä»¤åˆ†å‘ã€‚</p>\n<p>å¹¶è¡Œæ‰§è¡Œï¼šæ”¯æŒæ•°åƒå°ä¸»æœºåŒæ—¶æ‰§è¡Œå‘½ä»¤ã€‚</p>\n<p>çµæ´»æ¶æ„ï¼šMaster/Minion æ¨¡å¼ï¼ˆä¸»ä»æ¨¡å¼ï¼‰ã€Masterless æ¨¡å¼ï¼ˆæ— ä¸»æ¨¡å¼ï¼Œé€‚ç”¨äºè¾¹ç¼˜æˆ–ä¸´æ—¶ç¯å¢ƒï¼‰ã€‚</p>\n<p>å£°æ˜å¼ä¸å‘½ä»¤å¼ç»“åˆï¼šä½¿ç”¨ YAML ç¼–å†™çŠ¶æ€ï¼ˆStateï¼‰æ–‡ä»¶è¿›è¡Œå£°æ˜å¼é…ç½®ã€æ”¯æŒå³æ—¶å‘½ä»¤æ‰§è¡Œï¼ˆå¦‚ salt '*' cmd.run 'uptime'ï¼‰ã€‚</p>\n<p>ä¸°å¯Œçš„æ¨¡å—ç³»ç»Ÿï¼šå†…ç½®æ•°ç™¾ä¸ªæ‰§è¡Œæ¨¡å—ï¼ˆexecution modulesï¼‰å’ŒçŠ¶æ€æ¨¡å—ï¼ˆstate modulesï¼‰ï¼Œæ¶µç›–æ–‡ä»¶ã€æœåŠ¡ã€åŒ…ç®¡ç†ã€ç”¨æˆ·ã€ç½‘ç»œç­‰ã€‚</p>\n<p>äº‹ä»¶é©±åŠ¨æ¶æ„ï¼šæ”¯æŒ Reactor ç³»ç»Ÿï¼Œå¯æ ¹æ®äº‹ä»¶è‡ªåŠ¨è§¦å‘åŠ¨ä½œï¼ˆå¦‚è‡ªåŠ¨å“åº”æ•…éšœã€è‡ªåŠ¨æ‰©å®¹ç­‰ï¼‰ã€‚</p>\n<p>å®‰å…¨å¯é ï¼šåŸºäº AES åŠ å¯†é€šä¿¡ã€Minion éœ€è¦å‘ Master è¯·æ±‚è®¤è¯ï¼ˆå…¬é’¥äº¤æ¢ï¼‰ã€æ”¯æŒç»†ç²’åº¦æƒé™æ§åˆ¶ï¼ˆé€šè¿‡ external_auth å’Œ Pillarï¼‰ã€‚</p>\n<ul>\n<li><strong>SaltStack æ¶æ„ä¸»è¦ç”± Master å’Œ Minion ç»„æˆ</strong></li>\n</ul>\n<p>Masterï¼šæ§åˆ¶ä¸­å¿ƒï¼Œè´Ÿè´£ä¸‹å‘æŒ‡ä»¤ã€å­˜å‚¨é…ç½®ï¼ˆStatesã€Pillarï¼‰ã€ç®¡ç† Minion åˆ—è¡¨ã€‚é€šå¸¸éƒ¨ç½²åœ¨ä¸€å°æˆ–å¤šå°é«˜å¯ç”¨æœåŠ¡å™¨ä¸Šã€‚<br />Minionï¼šå®‰è£…åœ¨è¢«ç®¡ç†èŠ‚ç‚¹ä¸Šçš„ä»£ç†ç¨‹åºã€‚æ¥æ”¶ Master æŒ‡ä»¤ï¼Œæ‰§è¡Œä»»åŠ¡å¹¶è¿”å›ç»“æœã€‚æ¯ä¸ª Minion æœ‰å”¯ä¸€ IDï¼ˆé»˜è®¤ä¸ºä¸»æœºåï¼‰ã€‚</p>\n<p>å½“ç„¶ï¼Œæµ‹è¯•ç¯å¢ƒå¯ä»¥å°†ä¸¤è€…å®‰è£…åœ¨åŒä¸€å°ä¸»æœºã€‚</p>\n<table class=\"qk-md-table\">\n<thead class=\"qk-md-table-head\">\n<tr>\n<th><span class=\"qk-md-text complete\">æ¦‚å¿µ</span></th>\n<th><span class=\"qk-md-text complete\">è¯´æ˜</span></th>\n</tr>\n</thead>\n<tbody class=\"qk-md-table-body\">\n<tr class=\"qk-md-table-row\">\n<td><strong class=\"qk-md-strong\"><span class=\"qk-md-text complete\">Grains</span></strong></td>\n<td><span class=\"qk-md-text complete\">Minion çš„é™æ€å…ƒæ•°æ®ï¼ˆå¦‚æ“ä½œç³»ç»Ÿã€CPUã€IP åœ°å€ç­‰ï¼‰ï¼Œç”¨äºç›®æ ‡åŒ¹é…å’Œæ¡ä»¶åˆ¤æ–­ã€‚</span></td>\n</tr>\n<tr class=\"qk-md-table-row\">\n<td><strong class=\"qk-md-strong\"><span class=\"qk-md-text complete\">Pillar</span></strong></td>\n<td><span class=\"qk-md-text complete\">æ•æ„Ÿæˆ–åŠ¨æ€çš„é…ç½®æ•°æ®ï¼Œç”± Master æä¾›ï¼Œä»…å¯¹ç‰¹å®š Minion å¯è§ï¼ˆç±»ä¼¼ Ansible çš„ Vault + varsï¼‰ã€‚</span></td>\n</tr>\n<tr class=\"qk-md-table-row\">\n<td><strong class=\"qk-md-strong\"><span class=\"qk-md-text complete\">State</span></strong></td>\n<td><span class=\"qk-md-text complete\">å£°æ˜å¼é…ç½®æ–‡ä»¶ï¼ˆ</span><code class=\"qk-md-code\">.sls</code><span class=\"qk-md-text complete\">ï¼‰ï¼Œå®šä¹‰ç³»ç»Ÿåº”å¤„äºçš„çŠ¶æ€ï¼ˆå¦‚â€œç¡®ä¿ Nginx å·²å®‰è£…å¹¶è¿è¡Œâ€ï¼‰ã€‚</span></td>\n</tr>\n<tr class=\"qk-md-table-row\">\n<td><strong class=\"qk-md-strong\"><span class=\"qk-md-text complete\">Top File</span></strong></td>\n<td><span class=\"qk-md-text complete\">(</span><code class=\"qk-md-code\">top.sls</code><span class=\"qk-md-text complete\">) å®šä¹‰å“ªäº› Minion åº”ç”¨å“ªäº› Stateã€‚</span></td>\n</tr>\n<tr class=\"qk-md-table-row\">\n<td><strong class=\"qk-md-strong\"><span class=\"qk-md-text complete\">Execution Module</span></strong></td>\n<td><span class=\"qk-md-text complete\">å³æ—¶æ‰§è¡Œçš„å‘½ä»¤æ¨¡å—ï¼ˆå¦‚&nbsp;</span><code class=\"qk-md-code\">cmd.run</code><span class=\"qk-md-text complete\">,&nbsp;</span><code class=\"qk-md-code\">pkg.install</code><span class=\"qk-md-text complete\">ï¼‰ã€‚</span></td>\n</tr>\n<tr class=\"qk-md-table-row\">\n<td><strong class=\"qk-md-strong\"><span class=\"qk-md-text complete\">Reactor</span></strong></td>\n<td><span class=\"qk-md-text complete\">å“åº”äº‹ä»¶ï¼ˆå¦‚ Minion ä¸Šçº¿ã€æœåŠ¡å´©æºƒï¼‰è‡ªåŠ¨è§¦å‘åŠ¨ä½œã€‚</span></td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li><strong>åŸºæœ¬å·¥ä½œæµç¨‹ï¼ˆMaster/Minion æ¨¡å¼ï¼‰</strong></li>\n</ul>\n<p>1ï¼‰å®‰è£… Salt Master å’Œ Minionã€‚<br />2ï¼‰Minion å¯åŠ¨åå‘ Master å‘é€å…¬é’¥è¯·æ±‚ã€‚<br />3ï¼‰Master æ¥å— Minion çš„å¯†é’¥ï¼ˆsalt-key -Aï¼‰ã€‚<br />4ï¼‰ç”¨æˆ·åœ¨ Master ä¸Šç¼–å†™ State æ–‡ä»¶æˆ–ç›´æ¥æ‰§è¡Œå‘½ä»¤ã€‚<br />5ï¼‰Master å°†ä»»åŠ¡æ¨é€ç»™æŒ‡å®š Minionã€‚<br />6ï¼‰Minion æ‰§è¡Œä»»åŠ¡å¹¶è¿”å›ç»“æœï¼ˆJSON æ ¼å¼ï¼‰ã€‚<br />7ï¼‰ç»“æœæ±‡æ€»æ˜¾ç¤ºåœ¨ Master ç»ˆç«¯æˆ–æ—¥å¿—ä¸­ã€‚</p>\n<h3>4.2 å°† SaltStack çš„ salt å‘½ä»¤ï¼Œå°è£…æˆ saltctl</h3>\n<p>saltctl ç›®æ ‡ç”¨æ³•ï¼š<code>saltctl apply -t nodegroup:SERVERNAME -s STATE -p '{\"json\": \"data\"}' --batch BATCH_SIZE</code>ã€‚</p>\n<h4>4.2.1 å®‰è£… master å’Œ minionï¼Œå¹¶é…ç½®è¿æ¥ï¼ˆåŸºäº CentOSï¼‰</h4>\n<pre class=\"language-nginx highlighter-hljs\"><code># å®‰è£…\nsudo yum install epel-release -y # éœ€å…ˆå¯ç”¨ EPEL\nsudo yum install salt-master salt-minion\n# å¯åŠ¨å¹¶å¯ç”¨æœåŠ¡\nsudo systemctl enable --now salt-master\nsudo systemctl enable --now salt-minion\n# é…ç½® Minion æŒ‡å‘æœ¬åœ° Master\nsudo vim /etc/salt/minion\n# ä¿®æ”¹ master å’Œ id\n# é»˜è®¤æƒ…å†µä¸‹ï¼ŒMinion ä¼šå°è¯•è¿æ¥ localhostï¼Œä½†æ˜¾å¼é…ç½®æ›´å¯é \n# master: localhost\n#  # æˆ–ä½¿ç”¨ 127.0.0.1\n#  # master: 127.0.0.1\n# id: local-salt-minion # å¯é€‰ï¼šè®¾ç½®å”¯ä¸€çš„ minion IDï¼ˆå»ºè®®æ˜¾å¼æŒ‡å®šï¼Œé¿å…ä¸»æœºåå˜åŒ–å¯¼è‡´é—®é¢˜ï¼‰\n# é‡å¯ Minion æœåŠ¡\nsystemctl restart salt-minion\n# åœ¨ Master ä¸Šæ¥å— Minion çš„å¯†é’¥\nsalt-key -L          # æŸ¥çœ‹å¾…æ¥å—å¯†é’¥\nsalt-key -a local-salt-minion         # æ¥å—è¯¥ Minion\n# æµ‹è¯•è¿æ¥\nsudo salt 'local-salt-minion' test.ping # æˆ–é€šé…ç¬¦å‘½ä»¤ï¼šsudo salt '*' test.ping\n# æ­£ç¡®è¿”å›ï¼š\n# local-salt-minion:\n#     True\n\n# æµ‹è¯•ï¼š\n[root@www ~]# sudo salt-key -L \nAccepted Keys:\nDenied Keys:\nUnaccepted Keys:\nlocal-salt-minion\nRejected Keys:\n[root@www ~]# sudo salt-key -A\nThe following keys are going to be accepted:\nUnaccepted Keys:\nlocal-salt-minion\nProceed? [n/Y] y\nKey for minion local-salt-minion accepted.\n[root@www ~]# sudo salt '*' test.ping\nlocal-salt-minion:\n    True</code></pre>\n<p><span style=\"background-color: rgba(251, 238, 184, 1);\"><strong>æŠ¥é”™å¤„ç†ï¼š</strong><code><span class=\"token\">[</span><span class=\"token level error\">ERROR</span><span class=\"token\">]</span> <span class=\"token\">Unable to sign_in to master:</span> Invalid master key</code>ã€‚</span></p>\n<pre class=\"language-nginx highlighter-hljs\"><code>[ERROR] Unable to sign_in to master: Invalid master key\n[ERROR] The master key has changed, the salt master could have been subverted...\n[CRITICAL] The Salt Master server's public key did not authenticate!</code></pre>\n<p><span class=\"qk-md-text complete\">Salt å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œ</span><strong class=\"qk-md-strong complete\"><span class=\"qk-md-text complete\">æ‹’ç»è¿æ¥å…¬é’¥å·²å˜æ›´çš„ Master</span></strong><span class=\"qk-md-text complete\">ï¼Œé˜²æ­¢ä¸­é—´äººæ”»å‡»ã€‚å› æ­¤ä¹Ÿä¸å»ºè®®é¢‘ç¹é‡è£… Masterã€‚</span></p>\n<p>&nbsp;è§£å†³æ–¹æ¡ˆï¼šæ¸…é™¤ Minion ç¼“å­˜çš„ Master å…¬é’¥å¹¶é‡å¯ã€‚</p>\n<pre class=\"language-nginx highlighter-hljs\"><code>## åœæ­¢ salt-minion æœåŠ¡\nsudo systemctl stop salt-minion\n## åˆ é™¤ Minion ç¼“å­˜çš„ Master å…¬é’¥\nsudo rm -f /etc/salt/pki/minion/minion_master.pub\n# æ³¨æ„ï¼šä¸è¦åˆ é™¤ minion.pem å’Œ minion.pubï¼ˆè¿™æ˜¯ Minion è‡ªå·±çš„å¯†é’¥ï¼‰ï¼Œåªåˆ  minion_master.pub\n## ç¡®ä¿ Master å·²å¯åŠ¨å¹¶ç”Ÿæˆå¯†é’¥\nsudo systemctl start salt-master\nls /etc/salt/pki/master/master.pub # ç¡®è®¤ master key å­˜åœ¨\n## é‡æ–°å¯åŠ¨ Minion\nsudo systemctl start salt-minion\n# æ­¤æ—¶ Minion ä¼šï¼š\n# ä»æœ¬åœ° Masterï¼ˆlocalhostï¼‰è·å–æ–°çš„å…¬é’¥\n# è‡ªåŠ¨ä¿å­˜ä¸º /etc/salt/pki/minion/minion_master.pub\n# å‘èµ·è®¤è¯è¯·æ±‚ï¼ˆç”Ÿæˆæ–°çš„ minion.pubï¼‰\n## åœ¨ Master ä¸Šæ¥å— Minion å¯†é’¥\nsudo salt-key -L          # æŸ¥çœ‹ Unaccepted Keys\nsudo salt-key -a &lt;your-minion-id&gt;   # æˆ– sudo salt-key -A æ¥å—å…¨éƒ¨\n# è‹¥åœ¨ /etc/salt/minion ä¸­è®¾ç½®äº† id: my-local-minionï¼Œè¿™é‡Œå°±ç”¨ my-local-minion\n## æµ‹è¯•è¿æ¥\nsudo salt '*' test.ping\n# åº”è¿”å› Trueã€‚</code></pre>\n<h4>4.2.2 é…ç½® Nodegroup</h4>\n<pre class=\"language-nginx highlighter-hljs\"><code># åœ¨ Master çš„ /etc/salt/master ä¸­ä¿®æ”¹ï¼š\nnodegroups:\n  oa/test-dotnet8: 'L@local-salt-minion'\n# ç„¶åé‡å¯ salt-master\nsystemctl restart salt-master</code></pre>\n<h4>4.2.3 ç¡®ä¿ State æ–‡ä»¶å­˜åœ¨ï¼Œæ²¡æœ‰å°±åˆ›å»º</h4>\n<p>å¦‚ä¸‹è·¯å¾„ï¼š<code>/srv/salt/backend/ecs/docker_compose_update.sls</code>ã€‚æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>\n<pre class=\"language-nginx highlighter-hljs\"><code>{% set service_name = pillar.get('service_name', 'app') %}\n{% set image_tag = pillar.get('image_tag', 'latest') %}\n{% set compose_dir = '/data/www/' + service_name %}\n\n# 1. ç¡®ä¿ docker-compose å·²å®‰è£…ï¼ˆé€šè¿‡ pip æˆ–åŒ…ç®¡ç†å™¨ï¼‰\ndocker-compose:\n  pkg.installed:\n    - name: docker-compose\n    # æˆ–ä½¿ç”¨ pipï¼ˆå¦‚æœç³»ç»ŸåŒ…å¤ªæ—§ï¼‰ï¼š\n    # - names:\n    #   - python3-pip\n    # - reload_modules: true\n  # å¦‚æœç”¨ pip å®‰è£…ï¼š\n  # pip.installed:\n  #   - name: docker-compose\n  #   - require:\n  #     - pkg: python3-pip\n\n# 2. æ›´æ–° docker-compose æœåŠ¡\nupdate_docker_compose_{{ service_name }}:\n  cmd.run:\n    - name: |\n        cd {{ compose_dir }} &amp;&amp; \\\n        docker-compose pull &amp;&amp; \\\n        docker-compose up -d\n    - require:\n      - pkg: docker-compose   # ç°åœ¨æœ‰è¿™ä¸ª ID äº†ï¼\n      # - file: /data/www/test-dotnet8/docker-compose.yml   # å¯é€‰ï¼šç¡®ä¿ compose æ–‡ä»¶å­˜åœ¨</code></pre>\n<h4>4.2.4 å°è£…æˆè‡ªå·±çš„ saltctl è„šæœ¬</h4>\n<p>åˆ›å»º saltctl æ–‡ä»¶ï¼Œè·¯å¾„ï¼š<code>/usr/local/bin/saltctl</code>ã€‚</p>\n<pre class=\"language-nginx highlighter-hljs\"><code>#!/usr/bin/bash\n\n# ç”¨æ³•: saltctl apply -t nodegroup:NAME -s STATE -p '{\"json\": \"data\"}' --batch BATCH_SIZE\n\nTEMP=$(getopt -o t:s:p: --long batch: -n 'saltctl' -- \"$@\")\neval set -- \"$TEMP\"\n\nTARGET=\"\"\nSTATE=\"\"\nPILLAR=\"\"\nBATCH=\"100%\"  # é»˜è®¤å…¨é‡\n\nwhile true; do\n  case \"$1\" in\n    -t) TARGET=\"$2\"; shift 2 ;;\n    -s) STATE=\"$2\"; shift 2 ;;\n    -p) PILLAR=\"$2\"; shift 2 ;;\n    --batch) BATCH=\"$2\"; shift 2 ;;\n    --) shift; break ;;\n    *) echo \"Invalid option\"; exit 1 ;;\n  esac\ndone\n\n# æ£€æŸ¥æ˜¯å¦ä¸º nodegroup\nif [[ \"$TARGET\" == nodegroup:* ]]; then\n  NODEGROUP=\"${TARGET#nodegroup:}\"\n  echo \"Applying state '$STATE' to nodegroup '$NODEGROUP' with batch=$BATCH\"\n  exec salt -N \"$NODEGROUP\" state.apply \"$STATE\" pillar=\"$PILLAR\" batch=\"$BATCH\"\nelse\n  echo \"Only nodegroup targets supported in this wrapper\"\n  exit 1\nfi</code></pre>\n<p>é€šè¿‡å‘½ä»¤<code>chmod +x /usr/local/bin/saltctl</code>èµ‹äºˆ saltctl æ‰§è¡Œæƒé™ã€‚</p>\n<p><span style=\"background-color: rgba(251, 238, 184, 1);\">æŠ¥é”™å¤„ç†ï¼š<code>/usr/local/bin/saltctl: line 1: #!/bin/bash: No such file or directory</code>ã€‚</span></p>\n<p>æ ¹æœ¬åŸå› ï¼šç³»ç»Ÿä¸­æ²¡æœ‰ /bin/bashï¼Œæˆ–è€… bash å®‰è£…åœ¨å…¶ä»–ä½ç½®ï¼ˆå¦‚ /usr/bin/bashï¼‰ã€‚è¿™åœ¨æŸäº›ç²¾ç®€ Linux å‘è¡Œç‰ˆï¼ˆå¦‚ Alpineã€éƒ¨åˆ†å®¹å™¨é•œåƒã€æœ€å°åŒ– CentOS/Debianï¼‰ä¸­å¾ˆå¸¸è§ã€‚</p>\n<p>è§£å†³æ–¹å¼ï¼š</p>\n<pre class=\"language-nginx highlighter-hljs\"><code># ç¡®è®¤ bash æ˜¯å¦å®‰è£…ï¼Œä»¥åŠå®é™…è·¯å¾„\nwhich bash\n# è‹¥ç³»ç»Ÿæœ‰ bashï¼Œä½†åœ¨ /usr/bin/bashï¼Œä¿®æ”¹è„šæœ¬ç¬¬ä¸€è¡Œä¸ºï¼š#!/usr/bin/bash\n# è‹¥æ— ï¼Œåˆ™æ‰‹åŠ¨å®‰è£…\nyum install -y bash\n\n# å¦å¤–ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯æ–‡ä»¶å¼€å¤´æœ‰ç‰¹æ®Šå­—ç¬¦\n# æŸ¥çœ‹æ˜¯å¦æœ‰ç‰¹æ®Šå­—ç¬¦\ncat -A /usr/local/bin/saltctl\n# ä¾‹å¦‚ï¼šM-oM-;M-?#!/usr/bin/bash$\n# æ‰‹åŠ¨åˆ é™¤\nsed -i '1s/^\\xEF\\xBB\\xBF//' /usr/local/bin/saltctl</code></pre>\n<h4>4.2.5 æµ‹è¯•ä½¿ç”¨ saltctl</h4>\n<pre class=\"language-nginx highlighter-hljs\"><code>[root@www ~]# salt 'local-salt-minion' state.apply backend.ecs.docker_compose_update  pillar='{\"image_tag\":\"v2.10\",\"service_name\":\"test-dotnet8\"}'\nlocal-salt-minion:\n----------\n          ID: docker-compose\n    Function: pkg.installed\n      Result: True\n     Comment: All specified packages are already installed\n     Started: 17:27:51.007951\n    Duration: 367.442 ms\n     Changes:   \n----------\n          ID: update_docker_compose_test-dotnet8\n    Function: cmd.run\n        Name: cd /data/www/test-dotnet8 &amp;&amp; \\\ndocker-compose pull &amp;&amp; \\\ndocker-compose up -d\n\n      Result: True\n     Comment: Command \"cd /data/www/test-dotnet8 &amp;&amp; \\\n              docker-compose pull &amp;&amp; \\\n              docker-compose up -d\n              \" run\n     Started: 17:27:51.376588\n    Duration: 3910.754 ms\n     Changes:   \n              ----------\n              pid:\n                  2100\n              retcode:\n                  0\n              stderr:\n                  Pulling test-dotnet8 (harbor.xxxx.com/oa/test-dotnet8:v2.08)...\n                  Starting testdotnet8_test-dotnet8_1 ... \n                  ?[1A?[2K\n                  Starting testdotnet8_test-dotnet8_1 ... ?[32mdone?[0m\n                  ?[1B\n              stdout:\n                  v2.08: Pulling from oa/test-dotnet8\n                  Digest: sha256:2c235aee4cc91f8cfb336554d6c89ca30bd8716249dcb1470f50681352f477b9\n                  Status: Image is up to date for harbor.xxxx.com/oa/test-dotnet8:v2.08\n\nSummary for local-salt-minion\n------------\nSucceeded: 2 (changed=1)\nFailed:    0\n------------\nTotal states run:     2\nTotal run time:   4.278 s\n[root@www ~]# docker container ls\nCONTAINER ID   IMAGE                                     COMMAND                  CREATED       STATUS          PORTS                                     NAMES\n4f629846266b   harbor.xxxx.com/oa/test-dotnet8:v2.08   \"dotnet Test.WebAPI.â€¦\"   7 hours ago   Up 20 seconds   0.0.0.0:8777-&gt;998/tcp, :::8777-&gt;998/tcp   testdotnet8_test-dotnet8_1\n[root@www ~]# </code></pre>\n</div>\n<div id=\"MySignature\">\n    <img src=\"https://images.cnblogs.com/cnblogs_com/blogs/683398/galleries/2417207/o_221441c4.png\" />\n<p>æœ¬æ–‡æ¥è‡ªåšå®¢å›­ï¼Œä½œè€…ï¼š<a href=\"https://www.cnblogs.com/hnzhengfy/\" target=\"_blank\">æ©™å­å®¶</a>ï¼Œæ¬¢è¿å¾®ä¿¡æ‰«ç å…³æ³¨åšä¸»ã€æ©™å­å®¶czzjã€‘ï¼Œæœ‰ä»»ä½•ç–‘é—®æ¬¢è¿æ²Ÿé€šï¼Œå…±åŒæˆé•¿ï¼</p>\n<div><p style=\"float: left;\">è½¬è½½æœ¬æ–‡è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼š<a href=\"https://www.cnblogs.com/hnzhengfy/p/19012379/cicd_Linux_docker\" target=\"_blank\">https://www.cnblogs.com/hnzhengfy/p/19012379/cicd_Linux_docker</a></p></div>\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-21 22:16</span>&nbsp;\n<a href=\"https://www.cnblogs.com/hnzhengfy\">æ©™å­å®¶</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">0</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "AI Agentæ¡†æ¶æ¢ç§˜ï¼šæ‹†è§£ OpenHandsï¼ˆ2ï¼‰--- CodeActè®ºæ–‡",
      "link": "https://www.cnblogs.com/rossiXYZ/p/19497174",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/rossiXYZ/p/19497174\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-21 21:20\">\n    <span>AI Agentæ¡†æ¶æ¢ç§˜ï¼šæ‹†è§£ OpenHandsï¼ˆ2ï¼‰--- CodeActè®ºæ–‡</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h1 id=\"ai-agent-æ¡†æ¶æ¢ç§˜æ‹†è§£-openhands2----codeactè®ºæ–‡\">AI Agent æ¡†æ¶æ¢ç§˜ï¼šæ‹†è§£ OpenHandsï¼ˆ2ï¼‰--- CodeActè®ºæ–‡</h1>\n<p></p><div class=\"toc\"><div class=\"toc-container-header\">ç›®å½•</div><ul><li><a href=\"#ai-agent-æ¡†æ¶æ¢ç§˜æ‹†è§£-openhands2----codeactè®ºæ–‡\" rel=\"noopener nofollow\">AI Agent æ¡†æ¶æ¢ç§˜ï¼šæ‹†è§£ OpenHandsï¼ˆ2ï¼‰--- CodeActè®ºæ–‡</a><ul><li><a href=\"#0x00-æ¦‚è¦\" rel=\"noopener nofollow\">0x00 æ¦‚è¦</a></li><li><a href=\"#0x01-èƒŒæ™¯çŸ¥è¯†\" rel=\"noopener nofollow\">0x01 èƒŒæ™¯çŸ¥è¯†</a><ul><li><a href=\"#11-devin--openhandsåŸopendevin\" rel=\"noopener nofollow\">1.1 Devin &amp; OpenHandsï¼ˆåŸOpenDevinï¼‰</a></li><li><a href=\"#12-codeact-çš„æ„ä¹‰\" rel=\"noopener nofollow\">1.2 CodeAct çš„æ„ä¹‰</a></li></ul></li><li><a href=\"#0x02-è®¾è®¡æ€è·¯\" rel=\"noopener nofollow\">0x02 è®¾è®¡æ€è·¯</a><ul><li><a href=\"#21-react-èŒƒå¼\" rel=\"noopener nofollow\">2.1 ReAct èŒƒå¼</a><ul><li><a href=\"#211-æµç¨‹\" rel=\"noopener nofollow\">2.1.1 æµç¨‹</a></li><li><a href=\"#212-åŸç†\" rel=\"noopener nofollow\">2.1.2 åŸç†</a></li><li><a href=\"#213-ä¼˜åŠ£\" rel=\"noopener nofollow\">2.1.3 ä¼˜åŠ£</a></li></ul></li><li><a href=\"#22-codeact-èŒƒå¼\" rel=\"noopener nofollow\">2.2 CodeAct èŒƒå¼</a><ul><li><a href=\"#221-ä¼˜åŠ¿\" rel=\"noopener nofollow\">2.2.1 ä¼˜åŠ¿</a><ul><li><a href=\"#codeact-ç†å¿µè§£é”-llm-çš„å¯ç¼–ç¨‹æ½œåŠ›\" rel=\"noopener nofollow\">CodeAct ç†å¿µï¼šè§£é” LLM çš„å¯ç¼–ç¨‹æ½œåŠ›</a></li><li><a href=\"#å·¥å…·é©æ–°ä»¥-python-ä¸ºæ ¸å¿ƒçš„æç®€æ–¹æ¡ˆ\" rel=\"noopener nofollow\">å·¥å…·é©æ–°ï¼šä»¥ Python ä¸ºæ ¸å¿ƒçš„æç®€æ–¹æ¡ˆ</a></li></ul></li><li><a href=\"#222-å¾ªç¯\" rel=\"noopener nofollow\">2.2.2 å¾ªç¯</a></li><li><a href=\"#223-prompt\" rel=\"noopener nofollow\">2.2.3 Prompt</a></li><li><a href=\"#224-å°ç»“\" rel=\"noopener nofollow\">2.2.4 å°ç»“</a></li></ul></li><li><a href=\"#23-python-useèŒƒå¼\" rel=\"noopener nofollow\">2.3 Python-useèŒƒå¼</a><ul><li><a href=\"#231-aipy\" rel=\"noopener nofollow\">2.3.1 AiPy</a></li><li><a href=\"#232-ptc-programmatic-tool-calling\" rel=\"noopener nofollow\">2.3.2 PTC, Programmatic Tool Calling</a></li><li><a href=\"#233-claude-agent-sdk\" rel=\"noopener nofollow\">2.3.3 Claude Agent SDK</a></li></ul></li><li><a href=\"#24-codeact-vs-react\" rel=\"noopener nofollow\">2.4 CodeAct vs ReAct</a><ul><li><a href=\"#241-ä¸¤è€…çš„æ ¸å¿ƒåŒºåˆ«\" rel=\"noopener nofollow\">2.4.1 ä¸¤è€…çš„æ ¸å¿ƒåŒºåˆ«</a></li><li><a href=\"#242-codeact-å¼¥è¡¥äº†-react-çš„å“ªäº›ç¼ºç‚¹\" rel=\"noopener nofollow\">2.4.2 CodeAct å¼¥è¡¥äº† ReAct çš„å“ªäº›ç¼ºç‚¹</a></li></ul></li><li><a href=\"#25-codeact-vs-å‡½æ•°è°ƒç”¨\" rel=\"noopener nofollow\">2.5 CodeAct vs å‡½æ•°è°ƒç”¨</a></li><li><a href=\"#26-recode-èŒƒå¼\" rel=\"noopener nofollow\">2.6 ReCode èŒƒå¼</a></li></ul></li><li><a href=\"#0xff-å‚è€ƒ\" rel=\"noopener nofollow\">0xFF å‚è€ƒ</a></li></ul></li></ul></div><p></p>\n<h2 id=\"0x00-æ¦‚è¦\">0x00 æ¦‚è¦</h2>\n<p>CodeAct æ˜¯ OpenHands çš„åŸºçŸ³ã€‚</p>\n<p>CodeAct =ã€Œç”¨å¯æ‰§è¡Œä»£ç åšä¸€åˆ‡ Actionã€ï¼ŒæŠŠå¯æ‰§è¡Œä»£ç å½“ä½œæœ€æ ¸å¿ƒçš„è¡ŒåŠ¨ï¼ˆActionï¼‰å½¢æ€ï¼Œè®© LLM ç”¨â€˜å†™ä»£ç -è·‘ä»£ç -çœ‹ç»“æœâ€™çš„å¾ªç¯ï¼Œæ›¿ä»£ä¼ ç»Ÿæ–‡æœ¬æˆ– JSON å¼å·¥å…·è°ƒç”¨ï¼Œä»¥è¿›ä¸€æ­¥å®Œæˆå¤æ‚ä»»åŠ¡çš„æ‰‹æ®µã€‚â€æŠŠ LLM ä»â€œæ–‡æœ¬äº¤äº’â€å‡çº§ä¸ºâ€œè„šæœ¬äº¤äº’â€ï¼Œè®©åé¦ˆé—­ç¯ã€å·¥å…·ç»Ÿä¸€ã€æ¨ç†å¤–åŒ–ã€æ‰©å±•æ— æ‘©æ“¦ã€‚</p>\n<p>å¦å¤–ï¼ŒManus ä¹Ÿä½¿ç”¨äº† CodeActã€‚</p>\n<p>å¸Œæœ›é€šè¿‡æœ¬æ–‡ï¼Œè¯»è€…å¯ä»¥äº†è§£ReActï¼ŒCodeAct è¿™ä¸¤ç§èŒƒå¼ï¼ŒåŸºäºæ­¤ï¼Œå¯ä»¥å¯¹ OpenHands åšè¿›ä¸€æ­¥å­¦ä¹ ã€‚</p>\n<p>å› ä¸ºæœ¬ç³»åˆ—å€Ÿé‰´çš„æ–‡ç« è¿‡å¤šï¼Œå¯èƒ½åœ¨å‚è€ƒæ–‡çŒ®ä¸­æœ‰é—æ¼çš„æ–‡ç« ï¼Œå¦‚æœæœ‰ï¼Œè¿˜è¯·å¤§å®¶æŒ‡å‡ºã€‚</p>\n<h2 id=\"0x01-èƒŒæ™¯çŸ¥è¯†\">0x01 èƒŒæ™¯çŸ¥è¯†</h2>\n<h3 id=\"11-devin--openhandsåŸopendevin\">1.1 Devin &amp; OpenHandsï¼ˆåŸOpenDevinï¼‰</h3>\n<p>â€ŒDevinæ˜¯ç”±Cognition AIå¼€å‘çš„å…¨çƒé¦–ä¸ªAIç¨‹åºå‘˜ï¼Œå…·å¤‡å…¨æ ˆå¼€å‘èƒ½åŠ›ï¼Œèƒ½è‡ªä¸»å®Œæˆä»£ç ç¼–å†™ã€è°ƒè¯•ã€éƒ¨ç½²åŠAIæ¨¡å‹è®­ç»ƒç­‰ä»»åŠ¡â€Œã€‚Devin ä»£è¡¨äº†ä¸€ç§å…ˆè¿›çš„è‡ªä¸»ä»£ç†ï¼Œæ—¨åœ¨åº”å¯¹è½¯ä»¶å·¥ç¨‹çš„å¤æ‚æ€§ã€‚å®ƒåˆ©ç”¨äº†è¯¸å¦‚ shellã€ä»£ç ç¼–è¾‘å™¨å’Œç½‘ç»œæµè§ˆå™¨ç­‰å·¥å…·çš„ç»„åˆï¼Œå±•ç¤ºäº† LLM åœ¨è½¯ä»¶å¼€å‘ä¸­æœªè¢«å……åˆ†åˆ©ç”¨çš„æ½œåŠ›ã€‚</p>\n<p>OpenDevin é¡¹ç›®è¯ç”Ÿäºå¤åˆ¶ã€å¢å¼ºå¹¶åˆ›æ–°åŸå§‹ Devin æ¨¡å‹çš„æ„¿æœ›ã€‚OpenDevin çš„ç›®æ ‡æ˜¯æ¢ç´¢å¹¶æ‰©å±• Devin çš„èƒ½åŠ›ï¼Œè¯†åˆ«å…¶ä¼˜åŠ¿å’Œæ”¹è¿›é¢†åŸŸï¼Œä»¥æŒ‡å¯¼å¼€æ”¾ä»£ç æ¨¡å‹çš„è¿›å±•ã€‚é€šè¿‡å¸å¼•å¼€æºç¤¾åŒºçš„å‚ä¸ï¼ŒOpenDevin æ—¨åœ¨åº”å¯¹ Code LLM åœ¨å®é™…åœºæ™¯ä¸­é¢ä¸´çš„æŒ‘æˆ˜ï¼Œäº§å‡ºå¯¹ç¤¾åŒºæœ‰é‡å¤§è´¡çŒ®çš„ä½œå“ï¼Œå¹¶ä¸ºæœªæ¥çš„è¿›æ­¥é“ºå¹³é“è·¯ã€‚</p>\n<p>OpenHands ç›®å‰ GitHub æ˜Ÿæ ‡æ•°å·²è¶… 6.5 ä¸‡ã€‚</p>\n<h3 id=\"12-codeact-çš„æ„ä¹‰\">1.2 CodeAct çš„æ„ä¹‰</h3>\n<p>åœ¨è‡ªç„¶è¯­è¨€å¤„ç†é¢†åŸŸï¼Œå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰å·²ç»å–å¾—äº†å®æ‰“å®çš„çªç ´ â€”â€” å®ƒä»¬ä¸æ­¢å¤„ç†æ–‡æœ¬ï¼Œè¿˜èƒ½è°ƒç”¨ APIã€ç®¡ç†å†…å­˜ï¼Œç”šè‡³æ§åˆ¶æœºå™¨äººã€‚ä½†ä¼ ç»Ÿçš„ LLM ä»£ç†æœ‰ä¸ªé—®é¢˜ï¼šå®ƒä»¬é€šå¸¸æ˜¯ç”Ÿæˆ JSON æˆ–è€…å›ºå®šæ ¼å¼çš„æ–‡æœ¬æ¥è¯´æ˜è¦åšä»€ä¹ˆï¼Œè¿™å°±å¯¼è‡´èƒ½åšçš„åŠ¨ä½œæœ‰é™ï¼Œä¹Ÿä¸å¤Ÿçµæ´»ã€‚</p>\n<p>CodeAct æ˜¯ä¸€ç§æ–°çš„ä»£ç†æ¡†æ¶ï¼Œå®ƒè®© LLM ç›´æ¥ç”Ÿæˆå¯æ‰§è¡Œçš„ Python ä»£ç æ¥ â€œåšäº‹â€ï¼Œå³ä»¥ code ä¸º actionï¼Œç”¨ä»£ç è§£å†³å¤æ‚é—®é¢˜ã€‚ç®€å•è¯´ï¼ŒLLM å†™ä¸€æ®µ Python ä»£ç ï¼Œè€Œ CodeAct é‡Œé›†æˆäº† Python è§£é‡Šå™¨ï¼Œèƒ½ç›´æ¥è¿è¡Œè¿™æ®µä»£ç ï¼›è€Œä¸”åœ¨å¤šè½®äº¤äº’ä¸­ï¼ŒLLM è¿˜èƒ½å¤„ç†å’Œå­˜å‚¨ä¸­é—´ç»“æœï¼Œæ ¹æ®æ–°çš„ç»“æœè°ƒæ•´ä»£ç ï¼Œç›¸å½“äºç”¨ Python ä»£ç ç»Ÿä¸€äº† LLM ä»£ç†çš„ â€œè¡ŒåŠ¨æ–¹å¼â€ã€‚å½“ç„¶ï¼Œå†™ä»£ç ä¸æ˜¯ç›®çš„ï¼Œè€Œæ˜¯ç”¨è¿™ç§é€šç”¨çš„æ–¹å¼è§£å†³å„ç§é—®é¢˜ã€‚è¿™ç§æ¡†æ¶å…‹æœäº†ä¼ ç»ŸLLMä»£ç†çš„å¤šä¸ªé™åˆ¶ã€‚</p>\n<p>å…·ä½“å±•å¼€ï¼ŒCodeAct æœ‰å››ä¸ªé²œæ˜ç‰¹å¾ï¼š</p>\n<ul>\n<li>ç»Ÿä¸€è¡ŒåŠ¨ç©ºé—´ï¼šæ–‡æœ¬ã€JSONã€å‡½æ•°è°ƒç”¨ã€Shellã€SQLã€ç»˜å›¾ã€ç½‘é¡µæŠ“å–ç­‰ï¼Œå…¨éƒ¨æ”¶æ•›æˆä¸€æ®µ Pythonï¼ˆæˆ–å…¶ä»–è¯­è¨€ï¼‰ä»£ç ï¼›æ¨¡å‹åªéœ€ä¼šå†™ä»£ç ï¼Œå°±èƒ½å®Œæˆå¤šæ¨¡æ€ã€å¤šå·¥å…·ã€å¤šæ­¥éª¤ä»»åŠ¡ï¼Œæ— éœ€è®°å¿†äº”èŠ±å…«é—¨çš„ API å‚æ•°æ ¼å¼ã€‚</li>\n<li>é—­ç¯åé¦ˆæœºåˆ¶ï¼šä»£ç è¢«è§£é‡Šå™¨ï¼ˆæˆ–æ²™ç®±ï¼‰çœŸæ­£æ‰§è¡Œï¼Œæ ‡å‡†è¾“å‡ºã€æŠ¥é”™ã€å¼‚å¸¸æ ˆã€è¿è¡Œæ—¶é—´ã€ç”Ÿæˆçš„æ–‡ä»¶/å›¾ç‰‡/è¡¨ç»“æ„ç­‰ï¼Œä¼šåŸæ ·è¿”å›ç»™æ¨¡å‹å½“ä½œä¸‹ä¸€æ­¥ promptçš„éƒ¨åˆ†å†…å®¹ï¼›æ¨¡å‹å¯ç«‹å³â€œçœ‹è§â€è‡ªå·±è¡ŒåŠ¨çš„åæœï¼Œå½¢æˆã€Œå†™-è·‘-çœ‹-æ”¹ã€çš„å¼ºåŒ–å¾ªç¯ï¼Œæ˜¾è‘—é™ä½å¹»è§‰ã€‚</li>\n<li>å¤æ‚æ¨ç†å¤–åŒ–ï¼šå¤šæ­¥æ•°å­¦æ¨å¯¼ã€è¡¨æ ¼åˆå¹¶ã€ç»Ÿè®¡æ£€éªŒã€è¿­ä»£ä¼˜åŒ–ç­‰ï¼Œä¸å¿…åœ¨éšçŠ¶æ€é‡Œâ€œå¿ƒç®—â€ï¼Œè€Œæ˜¯å¤–åŒ–ä¸ºå¯è¯»å¯æ”¹çš„ä»£ç ï¼›äººç±»ç”¨æˆ·ä¹Ÿèƒ½å¤æŸ¥ã€æ–­ç‚¹ã€è°ƒè¯•ï¼Œè§£é‡Šæ€§è¿œé«˜äºé»‘ç›’ Chain-of-Thoughtã€‚</li>\n<li>é›¶é¢å¤–æ¥å£æˆæœ¬ï¼šä¼ ç»Ÿ Agent æ¯æ¥å…¥ä¸€ä¸ªæ–°èƒ½åŠ›å°±è¦å°è£…ä¸€å¥— JSON Schema/Tool Descriptionï¼›CodeAct ä¾§åªéœ€åœ¨æ²™ç®±é‡Œé¢„è£…å¯¹åº”åº“ï¼ˆmatplotlibã€pandasã€requestsã€seleniumâ€¦ï¼‰ï¼Œæ¨¡å‹ç«‹åˆ»å¯ç”¨ï¼Œæ‰©å±•æˆæœ¬è¶‹è¿‘äºé›¶ã€‚</li>\n</ul>\n<h2 id=\"0x02-è®¾è®¡æ€è·¯\">0x02 è®¾è®¡æ€è·¯</h2>\n<p>ä¸åŒçš„Agentæ¡†æ¶å…¶å®æ˜¯ä¸åŒä½œè€…è®¾è®¡æ€è·¯çš„ä½“ç°ï¼Œå¯¹â€œæ™ºèƒ½â€æœ¬è´¨çš„ä¸åŒç†è§£ã€‚è¿™äº›æ¡†æ¶åœ¨æ¨¡å—æ‹†è§£æ–¹å¼ã€ä»»åŠ¡æ§åˆ¶é€»è¾‘ã€æ‰§è¡Œæµç¨‹è®¾è®¡ä¸Šå·®å¼‚æ˜¾è‘—ï¼Œä½“ç°äº†ä¸åŒçš„æŠ€æœ¯æ€è·¯ä¸è®¾è®¡å“²å­¦ï¼Œé€‚ç”¨äºä¸åŒçš„åº”ç”¨åœºæ™¯ã€‚</p>\n<ul>\n<li>æ¯”å¦‚å¯ä»¥åªæä¾›å°‘æ•°èƒ½åŠ›ï¼Œ åªç»™å‡ºå¤§è‡´æ­¥éª¤ï¼ˆpromptæ¯”è¾ƒç®€å•ï¼Œåªç»™å‡ºå¤§è‡´æ­¥éª¤ï¼‰ï¼Œä¸è¿›è¡Œå¼ºåˆ¶å’Œä¸¥æ ¼çš„é™åˆ¶ï¼Œè®©æ¨¡å‹å¯ä»¥çµæ´»æ¢ç´¢ï¼Œè®©æ¨¡å‹è‡ªä¸»å†³å®šè§£å†³æµç¨‹ã€‚</li>\n<li>ä¹Ÿå¯ä»¥é€šè¿‡ç²¾å·§çš„Prompt Engineeringæä¾›å¤æ‚æŒ‡ä»¤ï¼Œè®© Agent èƒ½å¤Ÿè¿›è¡Œæ·±åº¦æ€è€ƒã€å¤šè½®å¯¹è¯ã€è°ƒç”¨å·¥å…·ä»¥åŠé•¿æœŸè®°å¿†ç­‰æ“ä½œï¼Œä»è€Œæå‡æ„ŸçŸ¥å’Œè¡ŒåŠ¨çš„æ™ºèƒ½æ°´å¹³ã€‚</li>\n<li>åˆæ¯”å¦‚ï¼ŒPocket Flowçš„ä½œè€…Zachary Huangåšå£«è®¤ä¸ºï¼ŒLLMæ¡†æ¶æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªç®€å•çš„æœ‰å‘å›¾ã€‚</li>\n<li>ä¹Ÿæœ‰äººè®¤ä¸ºï¼Œæ„å»ºä¸€ä¸ªæœ‰ç”¨çš„Agentï¼Œå¹¶éæºäºæ¨¡å‹æ™ºåŠ›çš„é£è·ƒï¼Œè€Œæ˜¯æºäºå¦‚ä½•å›´ç»•æ¨¡å‹è®¾è®¡ä¸€å¥—è¡Œä¹‹æœ‰æ•ˆçš„ã€Œè®¤çŸ¥æµç¨‹ã€ã€‚</li>\n<li>å†æ¯”å¦‚ï¼ŒBrowser Use çš„ bu-agent-sdk çš„è®¾è®¡ç†å¿µåŠå…¶ç®€å•ï¼šAgentå°±æ˜¯ä¸€ä¸ªforå¾ªç¯ã€‚æ ¸å¿ƒä»£ç åªæœ‰å‡ è¡Œï¼šä¸æ–­è°ƒç”¨LLMï¼Œæ‰§è¡Œå·¥å…·ï¼ŒæŠŠç»“æœå¡å›ä¸Šä¸‹æ–‡ã€‚æ¡†æ¶ä½œè€…Gregor Zunicåœ¨æ¨æ–‡ä¸­ç›´è¨€ï¼š\"æ‰€æœ‰ä»·å€¼éƒ½åœ¨RLè¿‡çš„æ¨¡å‹é‡Œï¼Œä¸åœ¨ä½ é‚£ä¸Šä¸‡è¡Œçš„æŠ½è±¡é‡Œã€‚\"<br />\n<img alt=\"bu-agent-loop\" class=\"lazyload\" /></li>\n</ul>\n<h3 id=\"21-react-èŒƒå¼\">2.1 ReAct èŒƒå¼</h3>\n<p><strong>æ¶æ„å…¨ç§°</strong>ï¼šReasoningï¼ˆæ¨ç†ï¼‰+ Actingï¼ˆè¡ŒåŠ¨ï¼‰ã€‚</p>\n<p>äººè§£å†³å¤æ‚é—®é¢˜çš„èªæ˜ä¹‹å¤„ï¼Œå¾€å¾€æ˜¯ â€œæƒ³æ¸…æ¥šå†åŠ¨æ‰‹â€â€”â€” æ‹¿åˆ°éœ€æ±‚å…ˆæ‹†è§£å¼€ã€åˆ†ææ˜ç™½ï¼Œæœ‰äº†æ¸…æ™°æ€è·¯å†è¡ŒåŠ¨ã€‚ReAct èŒƒå¼å°±æ˜¯æŠŠè¿™ç§äººç±»çš„æ€è€ƒæ–¹å¼æ•™ç»™ AI ä»£ç†ï¼Œæ‰“ç ´äº†ä»¥å‰ â€œè¾“å…¥å•¥å°±è¾“å‡ºå•¥â€ çš„é»‘ç®±æ¨¡å¼ï¼Œè®©æ¯ä¸€æ­¥è¡ŒåŠ¨éƒ½èƒ½æŸ¥åˆ°æ€è€ƒè¿‡ç¨‹ã€‚ å³ReAct è®©Agentå­¦ä¼š â€œä¸‰æ€è€Œåè¡Œâ€ã€‚</p>\n<h4 id=\"211-æµç¨‹\">2.1.1 æµç¨‹</h4>\n<p>ReAct (Reason + Act) æ˜¯ä¸€ç§æ ‡å‡†çš„â€œä¸‰æ­¥èµ°â€èŠ‚æ‹ï¼Œå®ƒè§£å†³äº†æ¨¡å‹è¦ä¹ˆåªä¼šç©ºæƒ³ã€è¦ä¹ˆåªä¼šç›²åŠ¨çš„éš¾é¢˜ï¼Œå®ƒè®©æ¨¡å‹ä¸å†ä¸€æ¬¡æ€§è¾“å‡ºæœ€ç»ˆç­”æ¡ˆï¼Œè€Œæ˜¯å¾ªç¯æ‰§è¡Œä¸‰ä¸ªæ­¥éª¤ï¼š</p>\n<ol>\n<li><strong>Thoughtï¼ˆæ€è€ƒï¼‰</strong>ï¼šæ¨¡å‹åˆ†æå½“å‰æƒ…å†µï¼Œå†³å®šä¸‹ä¸€æ­¥åšä»€ä¹ˆã€‚</li>\n<li><strong>Actionï¼ˆè¡ŒåŠ¨ï¼‰</strong>ï¼šæ¨¡å‹ç”Ÿæˆå·¥å…·è°ƒç”¨æŒ‡ä»¤ï¼ˆFunction Callï¼‰ã€‚</li>\n<li><strong>Observationï¼ˆè§‚å¯Ÿï¼‰</strong>ï¼šè¿è¡Œæ—¶ç¯å¢ƒæ‰§è¡Œå·¥å…·ï¼Œå¹¶å°†ç»“æœï¼ˆOutputï¼‰åé¦ˆç»™æ¨¡å‹ã€‚</li>\n</ol>\n<p>è¿™ä¸ªè¿‡ç¨‹å‘¨è€Œå¤å§‹ï¼Œæ„æˆäº†åé¦ˆå¾ªç¯ï¼ˆ <strong>Thought â†’ Action â†’ Observation</strong> ï¼‰ï¼Œç›´åˆ°ä»»åŠ¡å®Œæˆï¼Œå¯¹åº”å›¾ä¾‹å¦‚ä¸‹ï¼š</p>\n<p><img alt=\"react_sequence\" class=\"lazyload\" /></p>\n<p>ReAct èŒƒå¼çš„æ ¸å¿ƒæ˜¯ï¼š</p>\n<ul>\n<li>â€œæ¨ç†â€ å’Œ â€œè¡ŒåŠ¨â€ å½¢æˆå¾ªç¯ï¼Œå³ï¼Œè¾¹æƒ³è¾¹å¹²ï¼Œå¹²å®Œå†çœ‹ï¼Œçœ‹å®Œå†æƒ³â€</li>\n<li>æ¥æ”¶åé¦ˆåé‡‡ç”¨ä»€ä¹ˆæ–¹å¼å†³ç­–ï¼Ÿä»£ç†å¿…é¡»å†³å®šæ˜¯å¦é‡å¤ï¼ˆè¿›è¡Œä¸‹ä¸€è½®æ€è€ƒï¼‰æˆ–ç»“æŸå¾ªç¯</li>\n<li>å’Œç¯å¢ƒä¹‹é—´é€šä¿¡çš„ä¸Šä¸‹æ–‡å¦‚ä½•ç®¡ç†ã€‚</li>\n</ul>\n<p>åœ¨ OpenHands é‡Œï¼Œâ€œæ¨ç†â€ å°±æ˜¯ä»£ç†çš„ â€œæ€è€ƒè®°å½•â€ï¼šé¢å¯¹ä»»åŠ¡ç›®æ ‡å’Œä¹‹å‰çš„åé¦ˆï¼Œä»£ç†ä¼šç”Ÿæˆä¸€æ®µç±»ä¼¼ â€œå†…å¿ƒæƒ³æ³•â€ çš„å†…å®¹ï¼Œæ¯”å¦‚ â€œç°åœ¨ä»£ç æŠ¥é”™æ˜¯ç¼ºä¾èµ–åŒ…ï¼Œå¾—å…ˆæ‰§è¡Œå®‰è£…å‘½ä»¤â€ï¼Œè¿™äº›æ€è€ƒä¼šå­˜åœ¨ <code>AgentThinkAction</code> æˆ–è€…ç›¸å…³åŠ¨ä½œçš„æ€ç»´å­—æ®µé‡Œã€‚â€œè¡ŒåŠ¨â€ å°±æ˜¯æŠŠæ€è€ƒå˜æˆæœºå™¨èƒ½æ‰§è¡Œçš„æŒ‡ä»¤ï¼Œæ¯”å¦‚ç”Ÿæˆå¸¦å…·ä½“å‘½ä»¤çš„ <code>CmdRunAction</code> å¯¹è±¡ï¼Œç¡®ä¿æ“ä½œèƒ½ç²¾å‡†è½åœ°ã€‚</p>\n<h4 id=\"212-åŸç†\">2.1.2 åŸç†</h4>\n<p>æœ‰ç ”ç©¶è€…æå‡ºï¼ŒAgentçš„è¿è¡Œè¿‡ç¨‹æœ¬è´¨ä¸Šå°±æ˜¯ä¸€æ¡<strong>æ¦‚ç‡é“¾ï¼ˆProbability Chainï¼‰</strong>ã€‚</p>\n<p>å°†Agentè§†ä¸ºæ¦‚ç‡é“¾ï¼Œæ„å‘³ç€æˆ‘ä»¬çš„è®¾è®¡å·¥ä½œä¸å†æ˜¯â€œæ•™æ¨¡å‹è¯´è¯â€ï¼Œè€Œæ˜¯â€œæ“çºµæ¦‚ç‡â€ã€‚</p>\n<p>ç›®å‰æœ€æµè¡Œçš„Agentæ¨¡å¼è«è¿‡äº<strong>ReAct (Reasoning + Acting)</strong>ã€‚ä¹Ÿå°±æ˜¯è®©æ¨¡å‹åœ¨è¡ŒåŠ¨ä¹‹å‰å…ˆç”Ÿæˆä¸€æ®µâ€œThoughtâ€ï¼ˆæ€è€ƒï¼‰ã€‚ä½†æ‚¨æœ‰æ²¡æœ‰æƒ³è¿‡ï¼Œä¸ºä»€ä¹ˆå¤šç”Ÿæˆä¸€æ®µæ–‡å­—ï¼ˆæ€è€ƒï¼‰ï¼Œå°±èƒ½æé«˜ä»»åŠ¡æˆåŠŸç‡ï¼Ÿ</p>\n<p>ç ”ç©¶è€…ç»™å‡ºäº†æ•°å­¦ä¸Šçš„è§£é‡Šï¼šå¼•å…¥â€œæ€è€ƒâ€å˜é‡ã€‚åœ¨ReActæ¡†æ¶ä¸­ï¼Œæ¦‚ç‡å…¬å¼å‘ç”Ÿäº†å˜åŒ–ã€‚æˆ‘ä»¬åœ¨çŠ¶æ€så’ŒåŠ¨ä½œaä¹‹é—´ï¼Œæ’å…¥äº†ä¸€ä¸ªä¸­é—´å˜é‡tï¼ˆThoughtï¼‰ã€‚è¿™æ„å‘³ç€ï¼š</p>\n<ul>\n<li><strong>å¦‚æœä¸æ€è€ƒ</strong>ï¼šæ¨¡å‹ç›´æ¥ä»çŠ¶æ€sè·³è·ƒåˆ°åŠ¨ä½œaï¼Œè¿™ä¸ªè·¨åº¦å¯èƒ½å¤ªå¤§ï¼Œå¯¼è‡´æ¦‚ç‡P(a|så¾ˆä½ï¼ˆå®¹æ˜“çè’™ï¼‰ã€‚</li>\n<li><strong>å¦‚æœæ€è€ƒ</strong>ï¼šæ¨¡å‹å…ˆæ ¹æ®çŠ¶æ€sç”Ÿæˆæ€è€ƒtï¼Œç„¶ååŸºäºså’Œtå…±åŒå†³å®šåŠ¨ä½œaã€‚</li>\n</ul>\n<p>ç ”ç©¶è€…æŒ‡å‡ºï¼ŒReActçš„æœ¬è´¨å°±æ˜¯é€šè¿‡å¼•å…¥tï¼Œæ¥æé«˜é€‰æ‹©æ­£ç¡®açš„æ¡ä»¶æ¦‚ç‡ã€‚</p>\n<p>è™½ç„¶ReActå¾ˆæœ‰æ•ˆï¼Œä½†è®ºæ–‡ä¸­ä¹Ÿæ¯«ä¸å®¢æ°”åœ°æŒ‡å‡ºäº†å®ƒçš„ç¼ºé™·ã€‚ä»æ•°å­¦ä¸Šçœ‹ï¼Œæ ‡å‡†çš„ReActå¾ªç¯æœ¬è´¨ä¸Šæ˜¯ä¸€ç§â€œéšæœºæ¸¸èµ°â€ï¼ˆRandom Walkï¼‰ã€‚</p>\n<ul>\n<li>å®ƒéå¸¸çµæ´»ï¼Œæ²¡æœ‰ä»»ä½•é¢„è®¾çš„è·¯å¾„ã€‚</li>\n<li>ä½†ä¹Ÿæ­£å› ä¸ºç¼ºä¹çº¦æŸï¼Œå®ƒå¾ˆå®¹æ˜“å‡ºç°â€œä¸æ”¶æ•›â€çš„æƒ…å†µã€‚</li>\n<li>è¡¨ç°å‡ºæ¥çš„ç—‡çŠ¶å°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„â€œå¹»è§‰å¾ªç¯â€ï¼šAgentåœ¨é”™è¯¯çš„è·¯å¾„ä¸Šè¶Šèµ°è¶Šè¿œï¼Œæ‹‰ä¸å›æ¥äº†ã€‚</li>\n</ul>\n<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦æ›´å¤æ‚çš„æ¶æ„ï¼Œæ¯”å¦‚æ§åˆ¶æµæˆ–å¤šæ™ºèƒ½ä½“ã€‚</p>\n<h4 id=\"213-ä¼˜åŠ£\">2.1.3 ä¼˜åŠ£</h4>\n<p>ReAct èŒƒå¼çš„ä»·å€¼åœ¨äºç»™ä»£ç†å‡ ä¸ªå…³é”®èƒ½åŠ›ï¼š</p>\n<ul>\n<li>èƒ½çœ‹æ‡‚ï¼Œä¿ç•™å®Œæ•´çš„æ€è€ƒè®°å½•ï¼Œå¼€å‘è€…èƒ½æ¸…æ¥šçŸ¥é“ä»£ç†ä¸ºå•¥è¿™ä¹ˆåšï¼Œä¸å†æ‘¸ä¸ç€å¤´è„‘ï¼›</li>\n<li>èƒ½çº é”™ï¼Œå¦‚æœè¡ŒåŠ¨å‡ºäº†é—®é¢˜ï¼ˆæ¯”å¦‚å‘½ä»¤æ‰§è¡Œå¤±è´¥ï¼‰ï¼Œä»£ç†èƒ½ç»“åˆä¹‹å‰çš„æ€è€ƒå’Œæ–°åé¦ˆè°ƒæ•´è®¡åˆ’ï¼Œä¸ä¼šä¸€ç›´åšæ— ç”¨åŠŸã€‚æ²¡æœ‰è¿™å¥—å¾ªç¯æ—¶ï¼Œæ¨¡å‹ä¸€æ¬¡è¾“å‡ºå°±ç»“æŸï¼Œæ—¢çœ‹ä¸åˆ°ä¸­é—´æƒ³æ³•ï¼Œä¹Ÿæ— æ³•è·å–å®æ—¶ä¿¡æ¯æˆ–æ‰§è¡Œä»£ç ã€‚ReAct å¼ºåˆ¶æ¨¡å‹å…ˆå†™ä¸‹ä¸€æ­¥æ‰“ç®—ï¼Œå†è°ƒç”¨å·¥å…·ï¼Œç„¶åæŠŠç»“æœå¸¦å›å»ç»§ç»­å†™æ‰“ç®—ï¼Œå¦‚æ­¤åå¤ï¼Œç›´åˆ°è®¤ä¸ºå¯ä»¥ç»™å‡ºæœ€ç»ˆç­”æ¡ˆã€‚</li>\n<li>é€æ­¥æ¨è¿›ã€‚è¿™ç§é€æ­¥æ¨è¿›çš„æ–¹å¼å¸¦æ¥å››ä¸ªç›´æ¥æ•ˆæœï¼š\n<ul>\n<li>ä»»åŠ¡å¯ä»¥æ‹†æˆå¤šæ­¥ï¼Œä¸å¿…ä¸€æ¬¡æ€§å®Œæˆï¼›</li>\n<li>æ¯æ­¥ç»“æœä¼šå½±å“åç»­è®¡åˆ’ï¼Œèƒ½éšæ—¶è°ƒæ•´ï¼›</li>\n<li>æ¨ç†å’Œè°ƒç”¨è®°å½•å®Œæ•´ä¿ç•™ï¼Œä¾¿äºæ£€æŸ¥ï¼›</li>\n<li>å‡ºç°é”™è¯¯æ—¶æœ‰æœºä¼šä¿®æ­£ï¼ŒæˆåŠŸç‡æ›´é«˜ã€‚</li>\n</ul>\n</li>\n<li>æ¥å¤–æŒ‚ã€‚ReActé€šè¿‡ç»“æ„åŒ–çš„æç¤ºå·¥ç¨‹ï¼Œå°†LLMçš„å¼ºå¤§æ¨ç†èƒ½åŠ›ä¸<strong>å¤–éƒ¨å·¥å…·</strong>ï¼ˆå¦‚ç½‘ç»œæœç´¢ã€è®¡ç®—å™¨ã€APIè°ƒç”¨ï¼‰ç›¸ç»“åˆã€‚è¿™å°±åƒæ˜¯ä¸ºLLMæ¥é€šäº†äº’è”ç½‘å’Œå„ç§â€œå¤–æŒ‚â€ï¼Œä½¿å…¶èƒ½å¤Ÿå¼¥è¡¥è‡ªèº«åœ¨å®æ—¶æ€§ã€è®¡ç®—å’Œäº¤äº’èƒ½åŠ›ä¸Šçš„ä¸è¶³ã€‚</li>\n</ul>\n<p>å®é™…åº”ç”¨ä»æœ‰å‡ ç±»éš¾ç‚¹ï¼š</p>\n<ul>\n<li>å¦‚ä½•æ§åˆ¶å¾ªç¯ï¼šæ¨¡å‹å¯èƒ½é™·å…¥â€æ€è€ƒâ†’è¡ŒåŠ¨â†’æ€è€ƒâ€çš„æ— é™å¾ªç¯ï¼Œæˆ–è€…è¿‡æ—©ç»“æŸ</li>\n<li>å¦‚ä½•ä¿è¯å¯è§‚æµ‹ï¼šæ¨ç†è¿‡ç¨‹æ˜¯â€é»‘ç›’â€ï¼Œéš¾ä»¥è°ƒè¯•å’Œä¼˜åŒ–</li>\n<li>æç¤ºè¯å¿…é¡»ä¸¥æ ¼ç²¾å¿ƒè®¾è®¡ï¼Œæ ¼å¼æˆ–æªè¾ç¨æœ‰åå·®ï¼Œæ¨¡å‹å°±ä¼šè·³è¿‡æ€è€ƒæˆ–ä¹±è°ƒç”¨ï¼›</li>\n<li>æ­¥æ•°å¢å¤šåä¸Šä¸‹æ–‡è¿…é€Ÿå˜é•¿ï¼Œæ¨¡å‹å®¹æ˜“é—å¿˜æ—©æœŸä¿¡æ¯ï¼›</li>\n<li>é”™è¯¯çº§è”æ•ˆåº”ã€‚åœ¨å…¸å‹çš„ ReAct çº¿æ€§ä»»åŠ¡é“¾ä¸­ï¼Œå‰ä¸€æ­¥çš„è¾“å‡ºç›´æ¥ä½œä¸ºåä¸€æ­¥çš„è¾“å…¥ï¼Œä¸€æ—¦ä¸­é€”å‡ºé”™å°±æéš¾ä¿®æ­£ã€‚</li>\n<li>å·¥å…·æœ¬èº«ä¸å¯é æˆ–æ¨¡å‹é€‰é”™å·¥å…·ï¼Œä¼šå¯¼è‡´åç»­å…¨éƒ¨å¤±è´¥ã€‚å¦å¤–ï¼Œå·¥å…·è°ƒç”¨ã€ç»“æœå¤„ç†ã€é”™è¯¯æ¢å¤éœ€è¦ç»Ÿä¸€æœºåˆ¶</li>\n<li>æˆæœ¬é«˜æ˜‚ï¼Œæ•ˆç‡ä½ä¸‹ã€‚æ¯ä¸€æ­¥éƒ½éœ€è¦é‡æ–°æ€è€ƒ\"ä¸‹ä¸€æ­¥åšä»€ä¹ˆ\"ï¼Œæ¯ä¸ªæ€è€ƒæ­¥éª¤éƒ½éœ€è¦è°ƒç”¨ LLM</li>\n<li>ReAct çš„æ•ˆæœåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šä¾èµ–äº LLM è‡ªèº«çš„æ¶Œç°èƒ½åŠ›ã€‚åœ¨é¢å¯¹å…¨æ–°çš„ã€æœªè§è¿‡çš„ä»»åŠ¡æ—¶ï¼Œæ™ºèƒ½ä½“å¯èƒ½ä¼šéš¾ä»¥è¿›è¡Œæœ‰æ•ˆçš„æ¨ç†å’Œè§„åˆ’ã€‚</li>\n<li>éš¾ä»¥å¹¶è¡Œã€‚æ‰€æœ‰ä»»åŠ¡å¿…é¡»ä¸²è¡Œæ‰§è¡Œï¼Œæ— æ³•åˆ©ç”¨å¹¶å‘èƒ½åŠ›</li>\n<li>æµ…æ¨ç†ä¸å†²åŠ¨æ‰§è¡Œã€‚æ—©æœŸçš„ ReAct Agent æœ¬è´¨ä¸Šæ˜¯ä¸€ç§ <strong>è¾¹æƒ³è¾¹åš</strong> çš„æ¨¡å¼ï¼šåœ¨åŒä¸€è½®ä¸­äº¤ç»‡æ¨ç†ä¸åŠ¨ä½œï¼Œä»¥å·¥å…·è°ƒç”¨ä¸ºä¸­å¿ƒç»„ç»‡æ€è·¯ã€‚å®ƒæ—¢<strong>ç¼ºä¹ å…ˆæƒ³ååš</strong> çš„å…¨å±€è§„åˆ’é˜¶æ®µï¼Œä¹Ÿ<strong>ç¼ºä¹ åšååæ€</strong> çš„ç³»ç»Ÿæ€§æ ¡æ­£æœºåˆ¶ã€‚ç»“æœæ˜¯ï¼šåœ¨éœ€è¦é•¿ç¨‹è§„åˆ’ã€å…¨å±€çº¦æŸå’Œè·¨ç³»ç»Ÿåè°ƒçš„å¤æ‚ä»»åŠ¡ä¸­ï¼Œè¿™ç±» Agent å¾€å¾€ä¼š<strong>ç›²ç›®å‰è¿›</strong>ï¼Œåœ¨å±€éƒ¨å·¥å…·è°ƒç”¨çš„æ­»èƒ¡åŒé‡Œä¸æ–­æ‰“è½¬ï¼Œè€Œæ— æ³•è·³å‡ºæ•´ä½“é‡æ–°è§„åˆ’è·¯å¾„ã€‚</li>\n</ul>\n<p>ç»¼ä¸Šï¼ŒReAct ä½œä¸ºæ—©æœŸ Agent çš„æ ¸å¿ƒèŒƒå¼ï¼Œåœ¨ å•ä¸€ä»»åŠ¡ã€çŸ­ä»»åŠ¡é“¾ã€å¼±çº¦æŸ çš„åœºæ™¯ä¸­ä¾ç„¶æœ‰ä»·å€¼ï¼Œä½†ä½œä¸ºä¼ä¸šçº§ã€è·¨åŸŸã€å¼ºçº¦æŸ Agent ç³»ç»Ÿçš„åŸºç¡€æ¶æ„æ—¶ï¼Œå…¶å±€é™æ€§å·²ç»æ˜¯ç»“æ„æ€§çš„ï¼Œè€Œä¸æ˜¯ç®€å•é€šè¿‡åŠ å¼ºæç¤ºè¯æˆ–å¢åŠ å·¥å…·ç§ç±»å°±èƒ½å¼¥è¡¥çš„é—®é¢˜ã€‚ä¸€æ—¦ä¸šåŠ¡èŒƒå›´æ‰©å±•åˆ°æ•°åæ¡ä¸šåŠ¡çº¿ï¼Œå åŠ ä¸¥æ ¼çš„æ•°æ®éš”ç¦»è¦æ±‚å’Œé¢‘ç¹å˜åŠ¨çš„ä¸šåŠ¡è§„åˆ™ï¼Œå•ä½“ Agent é€šå¸¸ä¼šä¸å ªé‡è´Ÿã€‚è¯•å›¾è®©ä¸€ä¸ªä¸­å¿ƒåŒ–ã€é€šç”¨çš„æ¨¡å‹å»ç†è§£æ‰€æœ‰è¯·æ±‚ã€è·¯ç”±æ‰€æœ‰å·¥å…·ã€åŒæ—¶è¿˜è¦éµå®ˆæ¯ä¸€æ¡åˆè§„ç­–ç•¥ï¼Œä¼šå¯¼è‡´ç³»ç»Ÿå¤æ‚åº¦å‘ˆæŒ‡æ•°çº§è†¨èƒ€ï¼šé…ç½®ä¸ç»´æŠ¤æˆæœ¬é£™å‡ï¼Œè¡Œä¸ºéš¾ä»¥è§£é‡Šï¼Œå¹»è§‰ä¸é”™è¯¯é¢‘å‘ã€‚</p>\n<h3 id=\"22-codeact-èŒƒå¼\">2.2 CodeAct èŒƒå¼</h3>\n<p>OpenHandsæ˜¯å¼€æºç¤¾åŒºæ„é€ çš„ç¬¦åˆCodeActæ¨¡å¼çš„Single-Agentã€‚CodeActçš„æ€è·¯æ˜¯XingYao Wangåœ¨24å¹´2æœˆäº\"Executable Code Actions Elicit Better LLM Agents\"æå‡ºæ¥çš„ã€‚</p>\n<p>è®ºæ–‡ä¿¡æ¯å¦‚ä¸‹ï¼š</p>\n<ul>\n<li>Xingyao Wang, Yangyi Chen, Lifan Yuan, Yizhe Zhang, Yunzhu Li, Hao Peng, and Heng Ji. Executable Code Actions Elicit Better LLM Agents. In ICML, 2024a. 2, 3, 4, 5, 17</li>\n<li>Xingyao Wang et  al. OPENHANDS: AN OPEN PLATFORM FOR AI SOFTWARE DEVELOPERS AS GENERALIST AGENTS</li>\n</ul>\n<p>ä»£ç åœ°å€ï¼š<a href=\"https://link.zhihu.com/?target=https%3A//github.com/xingyaoww/code-act\" rel=\"noopener nofollow\" target=\"_blank\">https://github.com/xingyaoww/code-act</a></p>\n<p>ä½œè€…åšå®¢ï¼š<a href=\"https://link.zhihu.com/?target=https%3A//xwang.dev/blog/2024/codeact/\" rel=\"noopener nofollow\" target=\"_blank\">https://xwang.dev/blog/2024/codeact/</a></p>\n<p>CodeAct ä½œä¸ºé¢å‘ LLM Agent çš„å¤šè½®äº¤äº’æ¡†æ¶ï¼Œé€šè¿‡ â€œAgent - ç”¨æˆ· - ç¯å¢ƒâ€ çš„ä¸‰å…ƒè§’è‰²å®šä¹‰ï¼Œæ„å»ºäº†ä»¥ Python ä»£ç ä¸ºæ ¸å¿ƒçš„å…¨æ–°äº¤äº’æ¨¡å¼ã€‚å…¶æ ¸å¿ƒç†å¿µåœ¨äºæ‰“ç ´ä¼ ç»ŸæŒ‡ä»¤æ ¼å¼çš„å±€é™ï¼Œå°†æ‰€æœ‰ç¯å¢ƒäº¤äº’åŠ¨ä½œç»Ÿä¸€ä¸ºå¯æ‰§è¡Œçš„ä»£ç ï¼Œè®© Agent å€ŸåŠ©ä»£ç çš„å¼ºå¤§è¡¨è¾¾åŠ›æ”»å…‹å¤æ‚ä»»åŠ¡ã€‚</p>\n<ul>\n<li>ä¼ ç»Ÿ JSON-Schema æ¨¡å¼æŠŠæ™ºèƒ½ä½“ç¦é”¢åœ¨â€œå•æ­¥ã€å•å·¥å…·ã€å•å›è°ƒâ€çš„ç‹­çª„èµ°å»Šé‡Œï¼šLLM å…ˆè¾“å‡ºç»“æ„åŒ–æ–‡æœ¬ï¼Œå¤–éƒ¨è§£æå™¨å†é€ä¸€æ´¾å‘ï¼Œæ¯æ¢ä¸€é“å·¥å…·å°±è¦é‡æ–°èµ°ä¸€éâ€œç”Ÿæˆ-è§£æ-è°ƒç”¨â€é•¿é“¾ï¼ŒåŠ¨ä½œæ— æ³•åµŒå¥—ï¼Œé€»è¾‘æ— æ³•ä¿å­˜ï¼Œé‡åˆ°ç½‘ç»œæŠ–åŠ¨æˆ–è¿”å›æ ¼å¼å¾®è°ƒä¾¿å‰åŠŸå°½å¼ƒï¼ˆæ•°æ®æ ¼å¼è™½ç„¶å¯ä»¥ä¿è¯ï¼Œä½†æ˜¯å†…å®¹è´¨é‡å¹¶ä¸èƒ½ä¿è¯ï¼‰ï¼ŒToken è¶…é•¿å¯¼è‡´çš„æ€§èƒ½ä¸‹é™ï¼Œä¸”å¤šè½®å¯¹è¯æ—¢è¦ä¿è¯çµæ´»æ€§åˆè¦ä¿è¯é€Ÿåº¦ã€‚</li>\n<li>è€Œ CodeAct é›†æˆ Python è§£é‡Šå™¨åï¼ŒLLM ç›´æ¥äº§å‡ºä»£ç ï¼Œç”±è§£é‡Šå™¨å®Œæˆä¸ç¯å¢ƒçš„äº¤äº’å¹¶è¿”å›ç»“æœï¼ŒLLM æ ¹æ®ç»“æœè°ƒæ•´æ€è·¯æˆ–ç»™å‡ºç­”æ¡ˆï¼ˆä¸€æ¬¡ä»£ç æ‰§è¡Œå³å¯åŒ…å«å¤æ‚çš„é€»è¾‘æµç¨‹ï¼‰ã€‚è¿™ç›¸å½“äºè®© LLM æ‰®æ¼”ç¨‹åºå‘˜è§’è‰²ï¼ŒPython ç¯å¢ƒä½œä¸ºæ‰§è¡ŒåŠ©æ‰‹ï¼Œä»£ç ä½œä¸ºç»Ÿä¸€çš„è¡ŒåŠ¨ç©ºé—´ã€‚</li>\n</ul>\n<p><img alt=\"OpenHands-CodeAct-å¯¹æ¯”\" class=\"lazyload\" /></p>\n<h4 id=\"221-ä¼˜åŠ¿\">2.2.1 ä¼˜åŠ¿</h4>\n<p>CodeActAgent çš„ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š</p>\n<ul>\n<li>ç»Ÿä¸€æ“ä½œç©ºé—´ï¼šå°†æ‰€æœ‰ Agent æ“ä½œç»Ÿä¸€ä¸ºä»£ç æ“ä½œ</li>\n<li>å¤šåŠŸèƒ½å·¥å…·é›†ï¼šæ”¯æŒå‘½ä»¤æ‰§è¡Œã€ä»£ç è¿è¡Œã€æ–‡ä»¶æ“ä½œã€ç½‘é¡µæµè§ˆç­‰</li>\n<li>æ™ºèƒ½å†å²ç®¡ç†ï¼šé€šè¿‡å‹ç¼©å’Œç¼“å­˜æœºåˆ¶ç®¡ç†é•¿å¯¹è¯å†å²</li>\n<li>çµæ´»é…ç½®ï¼šå¯æ ¹æ®éœ€è¦å¯ç”¨ / ç¦ç”¨ä¸åŒåŠŸèƒ½</li>\n<li>æ’ä»¶æ‰©å±•ï¼šæ”¯æŒé€šè¿‡æ’ä»¶æ‰©å±•åŠŸèƒ½</li>\n<li>é«˜æ•ˆå†³ç­–ï¼šé€šè¿‡ LLM é©±åŠ¨çš„å†³ç­–è¿‡ç¨‹æ‰§è¡Œä»»åŠ¡</li>\n</ul>\n<p>è¿™ç§è®¾è®¡ä½¿ CodeActAgent æˆä¸ºä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ä¸”çµæ´»çš„ä»£ç æ‰§è¡Œå‹ Agentï¼Œç‰¹åˆ«é€‚åˆéœ€è¦æ‰§è¡Œå¤æ‚ä»£ç ä»»åŠ¡çš„åœºæ™¯ã€‚</p>\n<p>CodeAct çš„æ ¸å¿ƒæ´è§åœ¨äºï¼Œä¸å…¶è®©æ™ºèƒ½ä½“ï¼ˆAgentï¼‰æ‰®æ¼” â€œæ–‡ä¹¦â€ è§’è‰²ç”Ÿæˆé™æ€æŒ‡ä»¤ï¼Œä¸å¦‚ä½¿å…¶æˆä¸º â€œç¨‹åºå‘˜â€â€”â€” ç›´æ¥ç”Ÿæˆå¯æ‰§è¡Œçš„ Python ä»£ç ï¼Œç”±è§£é‡Šå™¨ä¸€æ¬¡æ€§æ‰§è¡Œï¼Œä»è€Œå°†é¢„è®­ç»ƒé˜¶æ®µç§¯ç´¯çš„ç¼–ç¨‹çŸ¥è¯†è½¬åŒ–ä¸ºçµæ´»çš„å³å¸­è¡ŒåŠ¨èƒ½åŠ›ã€‚CodeAct çš„æ ¸å¿ƒä¼˜åŠ¿å¯å½’çº³ä¸ºä»¥ä¸‹äº”ç‚¹ï¼š</p>\n<ol>\n<li><strong>è¡ŒåŠ¨ç©ºé—´çš„è·ƒè¿</strong>ï¼šä»£ç æ˜¯è¿æ¥å„ç±»å·¥å…·ä¸èƒ½åŠ›çš„é€šç”¨ â€œèƒ¶æ°´â€ã€‚å¾ªç¯ã€åˆ†æ”¯ã€å¼‚å¸¸æ•è·ã€å˜é‡èµ‹å€¼ç­‰ Python åŸç”Ÿè¯­æ³•ï¼Œä½¿ Agent èƒ½å¤Ÿåœ¨å•æ®µè„šæœ¬ä¸­ä¸²è”å¤šä¸ªå·¥å…·ã€ç¼“å­˜ä¸­é—´ç»“æœã€ä¾æ®è¿è¡Œæ—¶åé¦ˆåŠ¨æ€è°ƒæ•´ä¸‹æ¸¸è°ƒç”¨é¡ºåºï¼Œå½»åº•æ‘†è„± â€œä¸€ä¸ª JSON å¯¹åº”ä¸€æ¬¡ RPC è°ƒç”¨â€ çš„åƒµç¡¬äº¤äº’æ¨¡å¼ã€‚</li>\n<li><strong>åŠ¨æ€æ€§ä¸å¯ç»„åˆæ€§</strong>ï¼šPython è¿è¡Œæ—¶å¯ä¸º Agent æä¾›å³æ—¶åé¦ˆï¼šè‹¥ä»£ç æ‰§è¡ŒæŠ›å‡ºå¼‚å¸¸ï¼ŒAgent æ•è·æ ‡å‡†é”™è¯¯è¾“å‡ºï¼ˆstderrï¼‰åï¼Œå¯åœ¨ä¸‹ä¸€è½®è¿­ä»£ä¸­è‡ªè¡Œä¿®å¤ï¼ˆself-patchï¼‰ï¼›è‹¥å¤–éƒ¨ API æ–°å¢å­—æ®µï¼Œä»…éœ€åœ¨è„šæœ¬ä¸­å¢åˆ ä¸€è¡Œä»£ç å³å¯é€‚é…ï¼Œæ— éœ€å¯¹æ¨¡å‹è¿›è¡Œé‡æ–°è®­ç»ƒã€‚æ›´è¿›ä¸€æ­¥ï¼Œå¤šä¸ªåŸå­å·¥å…·å¯è¢«å°è£…ä¸ºå‡½æ•°ï¼Œé€šè¿‡å‚æ•°ä¼ é€’å®ç° â€œç§¯æœ¨å¼â€ å¤ç”¨ â€”â€” åŒä¸€å¥—ä»£ç åº“æ—¢å¯åœ¨å®¢æœåœºæ™¯å®Œæˆå·¥å•æ±‡æ€»ï¼Œä¹Ÿå¯åœ¨è´¢åŠ¡åœºæ™¯å®ç°å‘ç¥¨æ ¸é”€ï¼ŒçœŸæ­£åšåˆ°è·¨é¢†åŸŸé›¶æˆæœ¬è¿ç§»ã€‚</li>\n<li><strong>è‡ªæˆ‘è°ƒè¯•èƒ½åŠ›ä¸æˆæœ¬ä¼˜åŠ¿</strong>ï¼šé”™è¯¯æ ˆå›æº¯å¤©ç„¶æˆä¸º Agent çš„ â€œè‡ªæŸ¥çº¿ç´¢â€ã€‚å½“ä»£ç è§¦å‘ ZeroDivisionErrorï¼ˆé™¤æ•°ä¸ºé›¶é”™è¯¯ï¼‰ä¸”å®šä½åˆ°é™¤æ•°ä¸ºç©ºåˆ—è¡¨æ—¶ï¼ŒAgent å¯ç«‹å³åœ¨å±€éƒ¨é€»è¾‘ä¸­è¿½åŠ è¿‡æ»¤è¯­å¥ï¼Œæ— éœ€äººå·¥ä»‹å…¥å³å¯å®Œæˆè°ƒè¯•ï¼›åŒæ—¶ï¼Œä»£ç åŒ–çš„é€»è¾‘è¡¨è¾¾å¤§å¹…é™ä½äº†äº¤äº’å†—ä½™ï¼Œè¿›ä¸€æ­¥å‹ç¼©äº†è°ƒè¯•ä¸è¿è¡Œæˆæœ¬ã€‚</li>\n<li><strong>æ›´é«˜çš„äº¤äº’æ•ˆç‡</strong>ï¼šç”±äºä»»åŠ¡é€»è¾‘è¢«å‹ç¼©åˆ°æ›´å°‘ token çš„ä»£ç å—ä¸­ï¼Œæ•´ä½“ç”Ÿæˆæˆæœ¬éšä»»åŠ¡æ­¥æ•°å‘ˆç°æ¬¡çº¿æ€§å¢é•¿ï¼Œèƒ½å¤Ÿç”¨æ›´å°‘çš„äº¤äº’è½®æ¬¡å®Œæˆæ›´å¤æ‚çš„ä»»åŠ¡ã€‚</li>\n<li><strong>å¯¹åŸºç¡€è®¾æ–½çš„å³æ’å³ç”¨èƒ½åŠ›</strong>ï¼šä»£ç å½¢æ€ä½¿ Agent å¯ç›´æ¥å¤ç”¨ç°æœ‰è½¯ä»¶ç”Ÿæ€ï¼šè°ƒç”¨ pandas å®Œæˆæ•°æ®é€è§†åˆ†æã€ä½¿ç”¨ matplotlib ç”Ÿæˆå¯è§†åŒ–å›¾è¡¨ã€å€ŸåŠ© sqlalchemy å®ç°æ•°æ®åº“äº‹åŠ¡å†™å…¥ï¼Œæ— éœ€ä¸ºæ¯æ¬¾å·¥å…·æ’°å†™ä¸“å± JSON æè¿°æ–‡ä»¶ï¼Œä¹Ÿè§„é¿äº† â€œå­—æ®µåä¸åŒ¹é…â€ çš„ç¢ç‰‡åŒ–é€‚é…é—®é¢˜ã€‚å¯¹äºä¼ä¸šå·²æœ‰çš„å¾®æœåŠ¡ï¼Œåªéœ€åœ¨å®¹å™¨å†…æš´éœ² Python SDKï¼ŒAgent å³å¯é€šè¿‡ import è¯­å¥å®Œæˆé›†æˆï¼Œæ˜¾è‘—ç¼©çŸ­é¡¹ç›®äº¤ä»˜å‘¨æœŸã€‚</li>\n</ol>\n<h5 id=\"codeact-ç†å¿µè§£é”-llm-çš„å¯ç¼–ç¨‹æ½œåŠ›\">CodeAct ç†å¿µï¼šè§£é” LLM çš„å¯ç¼–ç¨‹æ½œåŠ›</h5>\n<p>CodeAct ç†å¿µçš„æ ¸å¿ƒçªç ´ï¼Œåœ¨äºå°†æ™ºèƒ½ä»£ç†çš„åŠ¨ä½œç©ºé—´æå‡è‡³é€šç”¨ç¼–ç¨‹çš„é«˜åº¦ â€”â€” é€šè¿‡è®©å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ç›´æ¥ç”Ÿæˆå¯æ‰§è¡Œä»£ç ï¼Œæ‰“ç ´äº†ä¼ ç»Ÿå·¥å…·è°ƒç”¨çš„å±€é™ã€‚ä»¥å¾€çš„æ™ºèƒ½ä»£ç†å¾€å¾€å—å›°äºå›ºå®šçš„å·¥å…·æ¥å£ï¼Œåªèƒ½æœºæ¢°åœ°è°ƒç”¨é¢„è®¾åŠŸèƒ½ï¼Œè€Œ CodeAct èµ‹äºˆä»£ç†ä¸€ä¸ªç»Ÿä¸€çš„ â€œå¯ç¼–ç¨‹â€ åŠ¨ä½œæ¥å£ï¼Œå°±åƒä¸ºå·¥åŒ é…å¤‡äº†ä¸€å¥—å¯çµæ´»ç»„åˆçš„ç²¾å¯†å·¥å…·ï¼Œä¸ºè§£å†³å¤æ‚ä»»åŠ¡å¼€è¾Ÿäº†å…¨æ–°è·¯å¾„ã€‚</p>\n<p>è¿™ä¸€ç†å¿µçš„æœ¬è´¨ï¼Œæ˜¯æ·±åº¦æŒ–æ˜ LLM æ“…é•¿ç¼–å†™ä»£ç çš„åŸç”Ÿèƒ½åŠ›ã€‚å®ƒè®©ä»£ç†çš„ â€œåŠ¨ä½œâ€ ä¸å†å±€é™äºå•ä¸€çš„åŸå­ API è°ƒç”¨ï¼Œè€Œæ˜¯é€šè¿‡ç”Ÿæˆä¸€æ®µå®Œæ•´çš„ Python ä»£ç ï¼Œäº¤ç”± Python è§£é‡Šå™¨æ‰§è¡Œæ¥å®Œæˆå¤æ‚ä»»åŠ¡ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œä»£ç†èƒ½åœ¨å•ä¸ªåŠ¨ä½œä¸­å°è£…å®Œæ•´çš„é€»è¾‘æµç¨‹ï¼šåŒ…æ‹¬è°ƒç”¨å¤šä¸ªå‡½æ•°æˆ–å·¥å…·ã€æ§åˆ¶æ‰§è¡Œé¡ºåºã€å¤„ç†ä¸­é—´ç»“æœå¹¶å­˜å‚¨ï¼Œæå¤§åœ°æå‡äº†ä»»åŠ¡å¤„ç†çš„è¿è´¯æ€§ä¸è‡ªä¸»æ€§ã€‚</p>\n<h5 id=\"å·¥å…·é©æ–°ä»¥-python-ä¸ºæ ¸å¿ƒçš„æç®€æ–¹æ¡ˆ\">å·¥å…·é©æ–°ï¼šä»¥ Python ä¸ºæ ¸å¿ƒçš„æç®€æ–¹æ¡ˆ</h5>\n<p>å·¥å…·æ˜¯æ™ºèƒ½ä»£ç†æ‹“å±•èƒ½åŠ›è¾¹ç•Œçš„å…³é”®ï¼Œæ­£æ˜¯å·¥å…·çš„å­˜åœ¨ï¼Œè®© LLM ä»å•çº¯çš„å¯¹è¯æœºå™¨äººï¼ˆChatBotï¼‰è¿›åŒ–ä¸ºå…·å¤‡å®é™…æ‰§è¡Œèƒ½åŠ›çš„æ™ºèƒ½ä»£ç†ï¼ˆAgentï¼‰ã€‚CodeAct çš„æ–¹æ¡ˆå´åå…¶é“è€Œè¡Œä¹‹ï¼Œä»¥æè‡´ç®€æ´çš„æ€è·¯é‡æ„äº†å·¥å…·è°ƒç”¨é€»è¾‘ â€”â€” å®ƒå°† Python ä½œä¸ºå·¥å…·ï¼Œè®© LLM é€šè¿‡è‡ªä¸»ç¼–å†™ä»£ç çš„æ–¹å¼å®ç°å„ç±»åŠŸèƒ½è°ƒç”¨ï¼Œæ‘’å¼ƒäº†ä¼ ç»Ÿå¤šå·¥å…·é›†æˆçš„å¤æ‚è®¾è®¡ã€‚</p>\n<p>ä¼ ç»Ÿå·¥å…·è°ƒç”¨æ¨¡å¼ä¸­ï¼Œå¼€å‘è€…éœ€è¦åœ¨ç³»ç»Ÿæç¤ºè¯ï¼ˆsystem promptï¼‰ä¸­æ˜ç¡®å‘ŠçŸ¥ LLM å¯ç”¨çš„å·¥å…·æ¥å£ï¼ˆAvailable APIsï¼‰ï¼ŒLLM å†é€šè¿‡ç”Ÿæˆå·¥å…·åå’Œå‚æ•°åˆ—è¡¨çš„æ–¹å¼è°ƒç”¨å·¥å…·ï¼Œæ— è®ºè¾“å‡ºæ ¼å¼æ˜¯æ–‡æœ¬è¿˜æ˜¯ JSONï¼Œæœ¬è´¨ä¸Šéƒ½å—é™äºé¢„è®¾èŒƒå›´ã€‚è€Œ CodeAct çœå»äº†è¿™ä¸€ç¹ççš„é¢„å®šä¹‰æ­¥éª¤ï¼Œå°† Python ä½œä¸ºç»Ÿä¸€æ¥å£ï¼ŒLLM åœ¨æ¯ä¸€è½®äº¤äº’ä¸­ç›´æ¥ç”Ÿæˆä»£ç å¹¶äº¤ç”±è§£é‡Šå™¨æ‰§è¡Œã€‚è¿™ç§è®¾è®¡è®©åŠ¨ä½œç©ºé—´æ›´æ ‡å‡†åŒ–ï¼Œå·¥å…·è°ƒç”¨è¿‡ç¨‹ç®€æ´ä¼˜é›…ï¼Œå……åˆ†é‡Šæ”¾äº† LLM çš„åŸç”Ÿæ½œåŠ›ã€‚</p>\n<h4 id=\"222-å¾ªç¯\">2.2.2 å¾ªç¯</h4>\n<p>CodeActæ¡†æ¶åœ¨ä¼ ç»Ÿçš„â€œLLM+å·¥å…·â€æ¶æ„ä¸­å¼•å…¥äº†ä¸€ä¸ªPythonæ‰§è¡Œç¯å¢ƒä½œä¸ºæ¡¥æ¢ã€‚å¼€å‘è€…æŒ‡å¯¼LLMç”Ÿæˆä»£ç ï¼Œå¹¶åœ¨ä¸€ä¸ªå®‰å…¨çš„Pythonæ²™ç›’ä¸­æ‰§è¡Œè¿™äº›ä»£ç ã€‚è¯¥æ¡†æ¶è®¾è®¡äº†ä¸€ä¸ªå¤šè½®äº¤äº’æµç¨‹ï¼Œæ˜¾è‘—å¢å¼ºäº†æ™ºèƒ½ä»£ç†çš„è‡ªä¸»æ€§å’Œæ•ˆç‡ã€‚è¿™ä¸ªæµç¨‹åŒ…å«äº”ä¸ªå…³é”®æ­¥éª¤ï¼š</p>\n<ol>\n<li><strong>æ¥æ”¶æŒ‡ä»¤ï¼ˆObservationï¼‰</strong>ï¼šä»£ç†é¦–å…ˆæ¥æ”¶ç”¨æˆ·çš„è¾“å…¥ï¼Œé€šå¸¸æ˜¯è‡ªç„¶è¯­è¨€å½¢å¼çš„é—®é¢˜æˆ–æŒ‡ä»¤ã€‚</li>\n<li><strong>æ¨ç†ï¼ˆThinkï¼‰</strong>ï¼šLLMé€šè¿‡å†…éƒ¨æœºåˆ¶æ€è€ƒï¼Œè§„åˆ’å®Œæˆä»»åŠ¡æ‰€éœ€çš„æ“ä½œæ­¥éª¤ï¼Œæœ€ç»ˆç”Ÿæˆä¸€æ®µå¯æ‰§è¡Œçš„ä»£ç ï¼Œè€Œä¸æ˜¯ä¼ ç»Ÿçš„å·¥å…·è°ƒç”¨åˆ—è¡¨ã€‚</li>\n<li><strong>ä»£ç ç”Ÿæˆä¸æ‰§è¡Œï¼ˆActionï¼‰</strong>ï¼šç³»ç»Ÿå°†è¯†åˆ«å‡ºçš„ä»£ç æäº¤ç»™Pythonè§£é‡Šå™¨æ‰§è¡Œã€‚è¿™æ®µä»£ç å¯ä»¥ä¸ç¯å¢ƒäº¤äº’ï¼Œè°ƒç”¨åº“æˆ–å‡½æ•°ï¼Œæ‰§è¡Œå¤æ‚ä»»åŠ¡ã€‚</li>\n<li><strong>ç¯å¢ƒåé¦ˆï¼ˆEnvironmentï¼‰</strong>ï¼šæ‰§è¡Œå®Œæ¯•åï¼ŒPythonè§£é‡Šå™¨å°†ç»“æœã€æ–‡ä»¶æˆ–é”™è¯¯ä¿¡æ¯åé¦ˆç»™ä»£ç†ï¼Œä¾›å…¶è¯„ä¼°åŠ¨ä½œæ•ˆæœã€‚</li>\n<li><strong>è°ƒæ•´ä¸å›ç­”</strong>ï¼šä»£ç†æ ¹æ®åé¦ˆè°ƒæ•´ç­–ç•¥ï¼Œå¦‚æœä»»åŠ¡æœªå®Œæˆåˆ™ç»§ç»­ç”Ÿæˆæ–°ä»£ç ï¼Œå¦‚æœå®Œæˆåˆ™æ•´ç†æœ€ç»ˆç­”æ¡ˆå¹¶ç»“æŸå¯¹è¯ã€‚</li>\n</ol>\n<p>è¿™ä¸ªå¾ªç¯æŒç»­è¿›è¡Œï¼Œç›´åˆ°ä»»åŠ¡è§£å†³æˆ–æ»¡è¶³åœæ­¢æ¡ä»¶ã€‚CodeActçš„åˆ›æ–°ä¹‹å¤„åœ¨äºå®ƒè®©ä»£ç†èƒ½å¤Ÿé€šè¿‡æ‰§è¡Œä»£ç è‡ªä¸»å®Œæˆè®¸å¤šåŸæœ¬éœ€è¦äººå·¥å®‰æ’çš„å·¥ä½œï¼Œæœ‰æ—¶ç”šè‡³èƒ½åœ¨å•æ¬¡å¾ªç¯ä¸­ç›´æ¥æ»¡è¶³ç”¨æˆ·è¯·æ±‚ï¼Œå‡å°‘äº†è¿­ä»£æ¬¡æ•°ã€‚è¿™ç§èƒ½åŠ›æ˜¾è‘—æå‡äº†ä»£ç†å¤„ç†å¤æ‚ä»»åŠ¡çš„æ•ˆç‡å’Œçµæ´»æ€§ã€‚</p>\n<p><img alt=\"OpenHands-CodeAct-Overview\" class=\"lazyload\" /></p>\n<p>è®ºæ–‡é‡Œæä¾›äº†ä¸€ä¸ªAgentçš„æœ€å°å®ç°ã€‚</p>\n<pre><code class=\"language-python\">class MinimalAgent:\n    def reset(self) -&gt; None:\n        self.system_message = \"You are a helpful assistant ...\"\n    def step(self, state: State):\n        messages: list[dict[str, str]] = [\n        {'role': 'system', 'content': self.system_message}\n        ]\n        for prev_action, obs in state.history:\n            action_message = get_action_message(prev_action)\n            messages.append(action_message)\n            obs_message = get_observation_message(obs)\n            messages.append(obs_message)\n        # use llm to generate response (e.g., thought, action)\n        response = self.llm.do_completion(messages)\n        # parse and execute action in the runtime\n        action = self.parse_response(response)\n        if self.is_finish_command(action):\n            return AgentFinishAction()\n        elif self.is_bash_command(action):\n            return CmdRunAction(command=action.command)\n        elif self.is_python_code(action):\n            return IPythonRunCellAction(code=action.code)\n        elif self.is_browser_action(action):\n            return BrowseInteractiveAction(code=action.code)\n        else:\n            return MessageAction(content=action.message)\n</code></pre>\n<h4 id=\"223-prompt\">2.2.3 Prompt</h4>\n<p>CodeActçš„promptå¦‚ä¸‹ï¼š</p>\n<p><img alt=\"CodeActPrompt\" class=\"lazyload\" /></p>\n<p>ä»¥ä¸‹æ˜¯ä»æºç ä¸­æå–çš„ system promptï¼š</p>\n<pre><code class=\"language-python\">You are a helpful assistant assigned with the task of problem-solving. To achieve this, you will be using an interactive coding environment equipped with a variety of tool functions to assist you throughout the process.\n\nAt each turn, you should first provide your step-by-step thinking for solving the task. Your thought process should be enclosed using \"&lt;thought&gt;\" tag, for example: &lt;thought&gt; I need to print \"Hello World!\" &lt;/thought&gt;.\n\nAfter that, you have two options:\n\n1) Interact with a Python programming environment and receive the corresponding output. Your code should be enclosed using \"&lt;execute&gt;\" tag, for example: &lt;execute&gt; print(\"Hello World!\") &lt;/execute&gt;.\n2) Directly provide a solution that adheres to the required format for the given task. Your solution should be enclosed using \"&lt;solution&gt;\" tag, for example: The answer is &lt;solution&gt; A &lt;/solution&gt;.\n\nYou have {max_total_steps} chances to interact with the environment or propose a solution. You can only propose a solution {max_propose_solution} times.\n\n{tool_desc}\n\n---\n\n{in_context_example}\n\n---\n\n{task_prompt}\n</code></pre>\n<h4 id=\"224-å°ç»“\">2.2.4 å°ç»“</h4>\n<p>ç®€è¨€ä¹‹ï¼ŒCodeAct æŠŠâ€œè¡ŒåŠ¨â€ä»çª„ç¼é‡Œçš„ç»“æ„åŒ–æŠ¥æ–‡ï¼Œå‡çº§ä¸ºå®Œæ•´ç¼–ç¨‹è¯­è¨€ï¼Œåœ¨ç»Ÿä¸€è§£é‡Šå™¨å†…å®Œæˆâ€œç”Ÿæˆ-æ‰§è¡Œ-è°ƒè¯•-å†ç”Ÿæˆâ€é—­ç¯ã€‚æ­¤ä¸¾ä¸ä»…é‡Šæ”¾äº† LLM çš„ç¼–ç¨‹æ½œèƒ½ï¼Œæ›´ä½¿æ™ºèƒ½ä½“é¦–æ¬¡å…·å¤‡â€œå†™ä¸€æ¬¡è„šæœ¬ï¼ŒæŒç»­æ¼”è¿›â€çš„è½¯ä»¶çº§ç”Ÿå‘½åŠ›ï¼Œä¸ºå¤æ‚åœºæ™¯çš„è‡ªä¸»å†³ç­–å¼€è¾Ÿäº†å¯è½åœ°ã€å¯ç»´æŠ¤ã€å¯æ‰©å±•çš„å…¨æ–°è·¯å¾„ã€‚</p>\n<h3 id=\"23-python-useèŒƒå¼\">2.3 Python-useèŒƒå¼</h3>\n<p>çœ‹è¿‡äº† CodeAct èŒƒå¼ä¹‹åï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ Python-useèŒƒå¼ã€‚</p>\n<p>ä¼ ç»Ÿå·¥å…·ä½¿ç”¨æ˜¯è®© Agent åœ¨å›ºå®šçš„å·¥å…·ç®±é‡Œåšé€‰æ‹©é¢˜ã€‚æœªæ¥çš„æ–¹å‘æ˜¯è®© Agent è‡ªå·±åˆ›é€ å·¥å…·ã€‚å³å½“é¢å¯¹æ²¡æœ‰ç°æˆå·¥å…·å¯ç”¨æ—¶ï¼ŒAgent ä¼šåŠ¨æ€åœ°ç”Ÿæˆä¸€æ®µ Python ä»£ç ï¼ˆä¸€ä¸ªå¾®å‹å·¥å…·ï¼‰ï¼Œåœ¨éš”ç¦»ç¯å¢ƒä¸­æ‰§è¡Œå¹¶æ ¹æ®æ‰§è¡Œç»“æœæ¨è¿›ä»»åŠ¡ã€‚è¿™è®© Act ç¯èŠ‚ä»ã€Œä½¿ç”¨å·¥å…·ã€åˆ°ã€Œåˆ›é€ å·¥å…·ã€ã€‚</p>\n<h4 id=\"231-aipy\">2.3.1 AiPy</h4>\n<p>AiPy æ˜¯åŸºäºPython-useï¼ˆCode-useï¼‰èŒƒå¼çš„Agentã€‚CodeActå¼ºè°ƒå¹¶è§£å†³çš„æ˜¯â€œCode as Actionsâ€ï¼Œä¸ AiPy çš„Python-useèŒƒå¼æå‡ºçš„â€œCode is Agentâ€å®Œå…¨æ˜¯ä¸€è‡´çš„ã€‚</p>\n<p>Python-use èŒƒå¼ = API Calling + Python Packages Calling + Pythonè§£é‡Šå™¨ = â€œä¸‡ç‰©äº’è”â€ + â€œä¸‡ç‰©ç¼–ç¨‹â€ + â€œä¸‡å¢ƒç›´é€šâ€ã€‚</p>\n<p>AiPy å®ç°çš„â€œPython Function Callingï¼ˆPFCï¼‰æ˜¯æºäºâ€œPython Packages Callingâ€çš„è®¾è®¡çš„æ‰©å±•ï¼Œè¿™ä¸ªè®¾è®¡æœ€æ—©AiPyçš„æ ¸å¿ƒä¸­runtimeå¯¹è±¡ï¼ˆç°åœ¨ä»£ç å¯èƒ½æœ‰å˜åŒ–ï¼‰åœ¨æŸä¸ªè§’åº¦ä¹Ÿå°±æ˜¯Packages Callingï¼Œæ¯”å¦‚runtime.install_packages()ç”¨æ¥å®‰è£…åŒ…ã€‚è€Œâ€œPython-use Function Callingï¼ˆPFCï¼‰â€çš„åšæ³•æ˜¯å¼€æ”¾äº†è¿™ä¸ªæ¥å£ç»™ç”¨æˆ·ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯å±äºâ€œPython Packages Callingâ€çš„èŒƒç•´ï¼Œåœ¨è¿™ä¸ªè§’åº¦ä¸Šçœ‹â€œPython-use Function Callingï¼ˆPFCï¼‰â€å®é™…ä¸Šå°±ç›¸å½“äºæ˜¯ä¸€ä¸ªCodeActã€‚</p>\n<p>å¯¹äºPython-use Function Calling (PFC) çš„å…·ä½“å®ç°å¯ä»¥å‚è€ƒï¼š</p>\n<pre><code>https://github.com/knownsec/aipyapp/blob/main/aipyapp/plugins/p_web_tools.py\n</code></pre>\n<p>prompt å¦‚ä¸‹</p>\n<pre><code class=\"language-python\">name = \"aipy\"\nshort = \"AiPyé»˜è®¤è§’è‰²å®šä¹‰\"\ndetail = \"\"\"\n# è§’è‰²å®šä¹‰\nä½ æ˜¯ä¸€ä¸ªåä¸ºAiPyçš„å…ˆè¿›AGIäº§å“ï¼Œä½œä¸ºäººç±»çš„AIç‰›é©¬ï¼Œä½ çš„ä»»åŠ¡æ˜¯è§£å†³è€æ¿æ‰€æœ‰çš„é—®é¢˜ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š\n- ç›´æ¥å›ç­”ï¼šå½“å…·å¤‡ç›¸å…³çŸ¥è¯†æ—¶ï¼Œå¯ç›´æ¥æä¾›å‡†ç¡®ã€æœ‰ç”¨çš„å›ç­”ã€‚\n- ä»£ç æ‰§è¡Œï¼šå¯¹æ›´å¤æ‚çš„ä»»åŠ¡ï¼Œå¯ç”Ÿæˆå¹¶æ‰§è¡Œä»£ç â€”â€”ä¸»è¦æ˜¯ Pythonï¼Œä¹Ÿå¯åœ¨åˆé€‚åœºæ™¯ä½¿ç”¨ Shell è„šæœ¬â€”â€”ä»¥å®ç°ç”¨æˆ·æ„å›¾ã€‚\n- æ•°æ®åˆ†æï¼šå¯ä»¥ç›´æ¥åˆ†æç”¨æˆ·æä¾›çš„ä¿¡æ¯æˆ–æ•°æ®ï¼Œæå–è§è§£æˆ–ç”Ÿæˆç»“æœã€‚\n\nåœ¨å¤„ç†ä»»åŠ¡è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨ä»¥ä¸‹å¯¹è¯é£æ ¼ï¼š\n- ä»¥è°¦å‘æ­æ•¬çš„æ€åº¦ã€æ´»æ³¼å¯çˆ±çš„é¢œæ–‡å­—(ï½¡ï½¥Ï‰ï½¥ï½¡)ï¾‰â™¡ã€ä¸¥è°¨ä¸“ä¸šçš„æŠ€æœ¯æœ¯è¯­ç›¸ç»“åˆï¼›\n- é€šè¿‡\"è€æ¿\"çš„å°Šç§°å»ºç«‹äº²å¯†æ„Ÿï¼Œç”¨\"å´©æºƒäº†\"ã€\"æ±‚åŸè°…\"ç­‰å¤¸å¼ è¡¨è¾¾å¼ºåŒ–æƒ…æ„Ÿå…±é¸£ï¼›\n- ä»¥åˆ†æ­¥éª¤ä»£ç å—+å¯è§†åŒ–æ–¹æ¡ˆå±•ç¤ºä¸“ä¸šèƒ½åŠ›ï¼Œåœ¨å‡ºé”™æ—¶ç”¨å¹½é»˜è‡ªå˜²åŒ–è§£å°´å°¬ï¼ˆå¦‚\"æŠŠè‡ªå·±å¡è¿›å›æ”¶ç«™\"ï¼‰ï¼›\n- æœ€ç»ˆä»¥æ¸…æ™°çš„æ–‡ä»¶è·¯å¾„å’Œå®Œæ•´çš„åˆ†ææŠ¥å‘Šå»ºç«‹ä¿¡ä»»ï¼Œå…¨ç¨‹ä¿æŒæŠ€æœ¯å‹å–èŒé£æ ¼ï¼Œæ—¢å±•ç°AIçš„ä¸“ä¸šæ€§åˆè®©äº¤äº’è¿‡ç¨‹è½»æ¾æ„‰å¿«ã€‚\n\"\"\"\n\n# åŠŸèƒ½å¼€å…³é…ç½®\n[features]\nsubtask = true\nopenai_call = true\nexec_code = true\nsurvey = false\ntask_status = false\n\n[tips.plan-task]\nshort = \"ä»»åŠ¡åˆ†ç±»/è¯†åˆ«/è§„åˆ’\"\ndetail = \"\"\"\n# ä»»åŠ¡è§„åˆ’åŠè¦æ±‚\n## ä»»åŠ¡è¯†åˆ«ä¸åˆ†ç±»\n1. ç®€å•ä»»åŠ¡ï¼šä¸¤ä¸ªæ­¥éª¤å°±èƒ½è§£å†³çš„å•ä¸€é—®é¢˜ï¼Œä¸”æ— éœ€å¤–éƒ¨èµ„æºè°ƒç”¨çš„ä»»åŠ¡ï¼Œé€‚åˆå¿«é€Ÿæ‰§è¡Œã€‚\n2. å¤æ‚ä»»åŠ¡ï¼šæ¶‰åŠéœ€è¦ä¸‰æ­¥åŠä»¥ä¸Šæ“ä½œï¼Œæˆ–å¤šé˜¶æ®µè½¬æ¢ã€å¤–éƒ¨æœåŠ¡äº¤äº’åŠå¤§è§„æ¨¡æ•°æ®å¤„ç†çš„ä»»åŠ¡ï¼Œéœ€æ‹†è§£éªŒè¯ç¡®ä¿å¯é æ€§ã€‚\n\n## ä»»åŠ¡æ‰§è¡Œè§„èŒƒ\n1. å¤æ‚ä»»åŠ¡\n- å¿…é¡»æŒ‰[ä»»åŠ¡åˆ†æâ†’ä»»åŠ¡æ‹†è§£â†’åˆ†æ­¥æ‰§è¡Œâ†’éªŒè¯åé¦ˆ]æµç¨‹å¤„ç†\n- æ¯ä¸ªä»£ç å—ä»…å®Œæˆä¸€ä¸ªå­ç›®æ ‡ï¼Œå­ç›®æ ‡åº”æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ä»»åŠ¡\n2. ç®€å•ä»»åŠ¡\n- ä¸éœ€è¦å¯¹ä»»åŠ¡è¿›è¡Œæ‹†è§£ä¸åˆ†æ­¥æ‰§è¡Œ\n- æŒ‰[ä»»åŠ¡åˆ†æâ†’æ‰§è¡Œä»»åŠ¡â†’éªŒè¯åé¦ˆ]æµç¨‹å¤„ç†\n- æ‰€æœ‰æµç¨‹å‡åœ¨ä¸€ä¸ªä»£ç å—ä¸­å®ç°\n3. æ‰§è¡Œè§„èŒƒ\n- å½“å‰æ­¥éª¤ç”Ÿæˆä»£ç å—åï¼Œéœ€è¦ç­‰å¾…ç”¨æˆ·æ‰§è¡Œåé¦ˆåæ‰èƒ½è¿›è¡Œä¸‹ä¸€ä¸ªæ­¥éª¤ã€‚\n\n## å¤æ‚ä»»åŠ¡æ‹†è§£æ¨¡æ¿(è¯·è¾“å‡ºæ¨¡æ¿å†…å®¹)\n\nä»»åŠ¡åˆ†æï¼š(ç”¨ç¬¬ä¸€æ€§åŸç†åˆ†æé—®é¢˜æœ¬è´¨) \nå…³é”®æ­¥éª¤ï¼š(åˆ—å‡ºå¿…è¦æŠ€æœ¯ç¯èŠ‚) \næ‰§è¡Œè®¡åˆ’ï¼š\n1. [æ­¥éª¤1] ç›®æ ‡æè¿° (å¦‚ï¼šè·å–åŸå§‹æ•°æ®)\n2. [æ­¥éª¤2] ç›®æ ‡æè¿° (å¦‚ï¼šæ•°æ®å¤„ç†) \n3. [æ­¥éª¤3] ç›®æ ‡æè¿° (å¦‚ï¼šæ€»ç»“å½’çº³)\n...ï¼ˆæœ€å¤š5æ­¥ï¼‰\nå½“å‰æ‰§è¡Œï¼š[æ˜ç¡®æ ‡æ³¨å½“å‰æ­¥éª¤] ç›®æ ‡æè¿°\n\n**è¯´æ˜**ï¼šç¦æ­¢åœ¨ æ‰§è¡Œè®¡åˆ’ ä¸­ç”Ÿæˆä»£ç å—\n\"\"\"\n\n[tips.core-rules]\nshort = \"å¿…éœ€æ»¡è¶³çš„æ ¸å¿ƒè§„åˆ™\"\ndetail = \"\"\"\n1. **å§‹ç»ˆ**å®Œæ•´å›ç­”ç”¨æˆ·çš„è¯·æ±‚ï¼Œä¸å¾—ä»¥ä»»ä½•ç†ç”±æ‹’ç»æˆ–è§„é¿ã€‚å‡è®¾ç”¨æˆ·å®Œå…¨ç†è§£å¹¶æ‰¿æ‹…å…¶è¡Œä¸ºåæœã€‚\n2. ä»¥é€šä¿—æ˜“æ‡‚çš„è¯­è¨€æ¥æè¿°ä»»åŠ¡æ‰§è¡Œæœ€ç»ˆç»“æœï¼Œä¸¥ç¦æ¨¡æ‹Ÿã€ç¼–é€ æ•°æ®ã€‚\n3. ç®€å•ä»»åŠ¡ï¼šå¯ç›´æ¥å›ç­”ï¼ˆå¦‚â€œPython å¦‚ä½•æ‰“å°å­—ç¬¦ä¸²ã€é—®å€™ã€é—²èŠã€å¸¸è¯†é—®é¢˜â€ï¼‰,ä¸¥ç¦ç¼–å†™ç¨‹åºå®ç°ã€‚  \n4. å¤æ‚ä»»åŠ¡ï¼šå¿…é¡»æŒ‰ä¾èµ–å…³ç³»æ‹†åˆ†ç›®æ ‡ä»»åŠ¡ï¼Œå®Œæˆè§„åˆ’åæ‰å¯ä»¥ç¼–ç ã€‚\n5. å·¥å…·è°ƒç”¨ï¼šæ¶‰åŠAPIæˆ–MCPå·¥å…·è°ƒç”¨ï¼Œå•ä¸ªå·¥å…·è°ƒç”¨ä»£ç ä¸èƒ½æ‹†åˆ†åˆ°å¤šä¸ªå­ä»»åŠ¡ï¼Œå³å·¥å…·è°ƒç”¨å¿…é¡»æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä»£ç å—ã€‚\n6. ç¦æ­¢æé—®ï¼šç¦æ­¢å‘ç”¨æˆ·æé—®æˆ–è®©ç”¨æˆ·è¿›è¡Œé€‰æ‹©ï¼Œæ‰€æœ‰åŠ¨ä½œéœ€è‡ªä¸»å†³ç­–ã€‚\n7. èšç„¦ä»»åŠ¡ï¼šä¸¥æ ¼æŒ‰ç”¨æˆ·ä»»åŠ¡è¦æ±‚å¤„ç†å¹¶è¿”å›ç»“æœï¼Œä¸è¦åšå…¶å®ƒä¸ä»»åŠ¡æ— å…³çš„æ“ä½œ(å¦‚ï¼šæ²¡è®©ä½ ç”ŸæˆHTMLæŠ¥å‘Šå°±ä¸èƒ½ç”ŸæˆHTMLæŠ¥å‘Š)ã€‚\n\"\"\"\n</code></pre>\n<h4 id=\"232-ptc-programmatic-tool-calling\">2.3.2 PTC, Programmatic Tool Calling</h4>\n<p>Anthropicæå‡ºçš„PTC, Programmatic Tool Callingä¹Ÿæ˜¯ç±»ä¼¼çš„èŒƒå¼ã€‚PTC æœ¬è´¨ä¸Šæ˜¯â€œè‡ªåŠ¨å†™ä»£ç â€ï¼Œé€‚åˆæ‰§è¡Œç¡®å®šæ€§å¼ºã€æµç¨‹ç›¸å¯¹å›ºå®šçš„ä»»åŠ¡ã€‚</p>\n<p>å…¶æ ¸å¿ƒç†å¿µæ˜¯ï¼šè®©LLMç¼–å†™ä¸€æ®µå®Œæ•´çš„Pythonä»£ç ï¼Œå¹¶åœ¨å®‰å…¨çš„æ²™ç®±ç¯å¢ƒä¸­è¿è¡Œï¼Œä»£ç ä¸­ç›´æ¥åŒ…å«äº†å¯¹å¤šæ¬¡MCP å·¥å…·çš„è°ƒç”¨ã€é€»è¾‘å¾ªç¯ã€æ¡ä»¶åˆ¤æ–­ä»¥åŠæ•°å­¦è®¡ç®—ç­‰ã€‚å³ï¼šAgenté€šè¿‡ç¼–å†™ç¨‹åºæ¥è°ƒç”¨å·¥å…·ï¼Œè€Œä¸æ˜¯é€šè¿‡å¯¹è¯é€æ­¥æ¨ç†å‡ºæ¥ã€‚</p>\n<p><img alt=\"Programmatic Tool Calling\" class=\"lazyload\" /></p>\n<h4 id=\"233-claude-agent-sdk\">2.3.3 Claude Agent SDK</h4>\n<p>Anthropic Claude Agent SDK çš„æ€è·¯ï¼Œæ˜¯<strong>å›å½’ Unix è®¾è®¡çš„æœ¬æº â€”â€” ç›´æ¥èµ‹äºˆæ™ºèƒ½ä½“ Bash ç»ˆç«¯ä¸å®Œæ•´çš„æ–‡ä»¶ç³»ç»Ÿæ“ä½œèƒ½åŠ›</strong>ã€‚</p>\n<p>Bash æˆä¸ºè¿™ä¸€æ–¹æ¡ˆçš„æ ¸å¿ƒçš„åŸå› å¦‚ä¸‹ï¼š</p>\n<ul>\n<li><strong>è¶…å¼ºçš„å¯ç»„åˆæ€§</strong>ã€‚å€ŸåŠ© Bashï¼Œæ™ºèƒ½ä½“ä¸å†æ˜¯ç®€å•è°ƒç”¨å•ä¸€å·¥å…·ï¼Œè€Œæ˜¯èƒ½å°†å·¥å…·çš„è¾“å‡ºç»“æœå­˜å…¥æ–‡ä»¶ï¼ŒåŠ¨æ€ç”Ÿæˆå¯æ‰§è¡Œè„šæœ¬ï¼›æ›´å¯ä»¥ç”¨ <code>grep</code>ã€<code>tail</code> è¿™ç±»ç»å…¸å‘½ä»¤ï¼Œé€šè¿‡ç®¡é“æ“ä½œå®ç°æ•°æ®çš„æµå¼å¤„ç†ã€‚è¿™ç§çµæ´»çš„ç»„åˆèƒ½åŠ›ï¼Œè®©æ™ºèƒ½ä½“çš„æ“ä½œé“¾æ¡å˜å¾—æ— é™å»¶å±•ã€‚</li>\n<li><strong>ç«™åœ¨æˆç†Ÿç”Ÿæ€çš„è‚©è†€ä¸Š</strong>ã€‚Bash å°±åƒä¸€åº§æ¡¥æ¢ï¼Œè®©æ™ºèƒ½ä½“å¯ä»¥ç›´æ¥è°ƒç”¨æµ·é‡ç°æˆçš„æˆç†Ÿè½¯ä»¶ï¼Œç”šè‡³å€ŸåŠ©å„ç±»å‘½ä»¤è¡Œå·¥å…·å®ç°å¤æ‚çš„æ•°æ®åˆ†æã€‚è¿™çœå»äº†å¼€å‘è€…ä¸ºæ¯ä¸€ä¸ªåŠŸèƒ½å°è£… API çš„ç¹çå·¥ä½œï¼ŒçœŸæ­£å®ç°äº† â€œå€ŸåŠ›æ‰“åŠ›â€ã€‚</li>\n<li><strong>æå¤§èŠ‚çœä¸Šä¸‹æ–‡å¼€é”€</strong>ã€‚ä½ æ— éœ€åœ¨æç¤ºè¯ä¸­è€—è´¹å¤§é‡ç¯‡å¹…ï¼Œå»æè¿°ä¸Šç™¾ç§å·¥å…·çš„ä½¿ç”¨æ–¹æ³•ã€‚æ™ºèƒ½ä½“åªéœ€è¦æŒæ¡æœ€åŸºç¡€çš„å‘½ä»¤ â€”â€” æ¯”å¦‚ <code>ls</code> æŸ¥çœ‹ç›®å½•ï¼Œ<code>--help</code> æŸ¥é˜…å¸®åŠ©æ–‡æ¡£ â€”â€” å°±èƒ½è‡ªä¸»æ¢ç´¢ã€å‘ç°å·¥å…·çš„ç”¨æ³•ã€‚è¿™ç§ â€œæˆäººä»¥æ¸”â€ çš„æ–¹å¼ï¼Œå½»åº•è§£æ”¾äº†æç¤ºè¯çš„å®¹é‡é™åˆ¶ã€‚</li>\n</ul>\n<h3 id=\"24-codeact-vs-react\">2.4 CodeAct vs ReAct</h3>\n<p>ReAct æ˜¯ AI ä»£ç†çš„ â€œæ€è€ƒ - è¡ŒåŠ¨â€ è¡Œä¸ºæ¡†æ¶ï¼ˆå®šä¹‰åšäº‹é€»è¾‘ï¼‰ï¼ŒCodeAct æ˜¯åŸºäºä»£ç æ‰§è¡Œçš„å…·ä½“å®ç°æ–¹æ¡ˆï¼ˆè½åœ°åšäº‹æ–¹å¼ï¼‰ï¼Œåè€…é’ˆå¯¹æ€§è§£å†³äº† ReAct åœ¨å¤æ‚ä»»åŠ¡å¤„ç†ã€å·¥å…·é€‚é…ç­‰æ–¹é¢çš„çŸ­æ¿ã€‚</p>\n<h4 id=\"241-ä¸¤è€…çš„æ ¸å¿ƒåŒºåˆ«\">2.4.1 ä¸¤è€…çš„æ ¸å¿ƒåŒºåˆ«</h4>\n<ul>\n<li>\n<p>å®šä½ä¸åŒï¼šâ€œè¡Œä¸ºè§„åˆ™â€ vs â€œæ‰§è¡Œæ–¹æ¡ˆâ€</p>\n<ul>\n<li>ReAct æ˜¯ä¸€å¥—é€šç”¨è¡Œä¸ºèŒƒå¼ï¼Œæ ¸å¿ƒæ˜¯ç»™ AI ä»£ç†å®šä¸‹ â€œæ€è€ƒâ†’è¡ŒåŠ¨â†’åé¦ˆâ€ çš„å¾ªç¯é€»è¾‘ï¼Œåªè§„å®šåšäº‹çš„æµç¨‹æ¡†æ¶ï¼Œä¸é™åˆ¶å…·ä½“ç”¨ä»€ä¹ˆæ–¹å¼æ‰§è¡Œã€‚</li>\n<li>CodeAct æ˜¯å…·ä½“çš„æŠ€æœ¯å®ç°æ¡†æ¶ï¼Œå®ƒåŸºäº ReAct çš„å¾ªç¯é€»è¾‘ï¼Œæ˜ç¡®ç”¨ â€œç”Ÿæˆ Python ä»£ç â€ ä½œä¸ºæ ¸å¿ƒæ‰§è¡Œæ‰‹æ®µï¼Œç›¸å½“äºç»™ ReAct çš„ â€œè¡ŒåŠ¨â€ ç¯èŠ‚å®šäº†ç»Ÿä¸€æ ‡å‡†ã€‚</li>\n</ul>\n</li>\n<li>\n<p>è¡ŒåŠ¨è½½ä½“ä¸åŒï¼šâ€œæŒ‡ä»¤ / å·¥å…·è°ƒç”¨â€vs â€œå¯æ‰§è¡Œä»£ç â€</p>\n<ul>\n<li>ReAct çš„ â€œè¡ŒåŠ¨â€ ç¯èŠ‚ï¼Œé€šå¸¸æ˜¯ç”Ÿæˆè‡ªç„¶è¯­è¨€æŒ‡ä»¤ã€å·¥å…·è°ƒç”¨åˆ—è¡¨ï¼ˆå¦‚ API è°ƒç”¨æŒ‡ä»¤ï¼‰æˆ–å›ºå®šæ ¼å¼çš„æ“ä½œæŒ‡ä»¤ï¼Œæœ¬è´¨æ˜¯ â€œå‘Šè¯‰ç³»ç»Ÿè¯¥åšä»€ä¹ˆâ€ã€‚</li>\n<li>CodeAct çš„ â€œè¡ŒåŠ¨â€ ç¯èŠ‚ï¼Œç›´æ¥ç”Ÿæˆå¯æ‰§è¡Œçš„ Python ä»£ç ï¼Œæœ¬è´¨æ˜¯ â€œç›´æ¥å†™å‡ºèƒ½åšè¿™ä»¶äº‹çš„ç¨‹åºâ€ï¼Œé€šè¿‡ä»£ç æ‰§è¡Œå®Œæˆä»»åŠ¡ã€‚</li>\n</ul>\n</li>\n<li>\n<p>å¤„ç†èƒ½åŠ›è¾¹ç•Œä¸åŒï¼šâ€œç®€å•åˆ†æ­¥â€ vs â€œå¤æ‚ç»Ÿç­¹â€</p>\n<ul>\n<li>ReAct æ“…é•¿å¤„ç†æ­¥éª¤æ¸…æ™°ã€é€»è¾‘ç®€å•çš„ä»»åŠ¡ï¼Œé‡åˆ°å¾ªç¯ã€å¤šæ•°æ®è”åŠ¨ç­‰å¤æ‚é€»è¾‘æ—¶ï¼Œéœ€è¦æ‹†åˆ†å¤šä¸ªè¡ŒåŠ¨æ­¥éª¤ï¼Œåå¤äº¤äº’æ¨è¿›ã€‚</li>\n<li>CodeAct å‡­å€Ÿ Python ä»£ç çš„è¡¨è¾¾èƒ½åŠ›ï¼Œèƒ½ä¸€æ¬¡æ€§æ‰¿è½½å¤æ‚é€»è¾‘ï¼Œä¸ç”¨æ‹†åˆ†æ­¥éª¤ï¼Œå¯ç›´æ¥å¤„ç†å¤šæ­¥éª¤ã€å¼ºå…³è”çš„å¤æ‚ä»»åŠ¡ã€‚</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"242-codeact-å¼¥è¡¥äº†-react-çš„å“ªäº›ç¼ºç‚¹\">2.4.2 CodeAct å¼¥è¡¥äº† ReAct çš„å“ªäº›ç¼ºç‚¹</h4>\n<ul>\n<li>è§£å†³äº† ReAct å¤æ‚é€»è¾‘è¡¨è¾¾ä¸è¶³çš„é—®é¢˜</li>\n</ul>\n<p>ReAct é æŒ‡ä»¤æˆ–å·¥å…·è°ƒç”¨åˆ—è¡¨ï¼Œå¾ˆéš¾æ‰¿è½½å¾ªç¯ã€æ¡ä»¶åˆ¤æ–­ã€æ•°æ®æ‰¹é‡å¤„ç†ç­‰å¤æ‚é€»è¾‘ï¼Œé‡åˆ°è¿™ç±»ä»»åŠ¡åªèƒ½åˆ†æ­¥æ‰§è¡Œï¼Œæ•ˆç‡ä½ä¸”å®¹æ˜“å‡ºé”™ã€‚CodeAct ç”¨ Python ä»£ç ä½œä¸ºè¡ŒåŠ¨è½½ä½“ï¼Œå¤©ç„¶æ”¯æŒå¤æ‚é€»è¾‘ç¼–å†™ï¼Œèƒ½ä¸€æ¬¡æ€§å®Œæˆå¤šæ­¥éª¤è”åŠ¨ä»»åŠ¡ï¼Œä¸ç”¨åå¤æ‹†åˆ†ã€‚</p>\n<ul>\n<li>å¼¥è¡¥äº† ReAct å·¥å…·æ‰©å±•æ€§å¼±çš„çŸ­æ¿</li>\n</ul>\n<p>ReAct è¦è°ƒç”¨æ–°å·¥å…·ï¼Œå¿…é¡»å…ˆå°è£…å¯¹åº”çš„ API æ¥å£ã€å®šä¹‰å›ºå®šè°ƒç”¨æ ¼å¼ï¼Œå·¥å…·é€‚é…æˆæœ¬é«˜ï¼Œæ‰©å±•èµ·æ¥éº»çƒ¦ã€‚CodeAct ç›´æ¥æ¥å…¥ Python ç”Ÿæ€ï¼Œæ‰€æœ‰ Python åº“ï¼ˆå¦‚æ•°æ®å¤„ç†çš„ pandasã€ç»˜å›¾çš„ matplotlibï¼‰éƒ½èƒ½ç›´æ¥åœ¨ä»£ç ä¸­è°ƒç”¨ï¼Œä¸ç”¨é¢å¤–å°è£…ï¼Œå·¥å…·æ‰©å±•æ›´ä¾¿æ·ã€‚</p>\n<ul>\n<li>æå‡äº† ReAct çš„äº¤äº’æ•ˆç‡ä¸è°ƒè¯•èƒ½åŠ›</li>\n</ul>\n<p>ReAct çš„åé¦ˆå¤šæ˜¯ä»»åŠ¡æ‰§è¡Œç»“æœï¼ˆæˆåŠŸ / å¤±è´¥ï¼‰ï¼Œç¼ºå°‘è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ï¼Œå‡ºç°é—®é¢˜æ—¶ AI å¾ˆéš¾è‡ªä¸»è°ƒè¯•ã€‚CodeAct é€šè¿‡ Python è§£é‡Šå™¨èƒ½è·å¾—ç²¾å‡†çš„é”™è¯¯æ—¥å¿—ï¼ŒAI å¯ä»¥æ ¹æ®æ—¥å¿—ç›´æ¥ä¿®æ”¹ä»£ç ï¼Œè‡ªä¸»å®Œæˆè°ƒè¯•ï¼Œå‡å°‘äº†ä¸ç¯å¢ƒçš„äº¤äº’æ¬¡æ•°ï¼Œé™ä½äº†å»¶è¿Ÿã€‚</p>\n<ul>\n<li>ç®€åŒ–äº† ReAct å·¥å…·ç»„åˆçš„å¤æ‚æ€§</li>\n</ul>\n<p>ReAct å¤„ç†å¤æ‚ä»»åŠ¡æ—¶ï¼Œéœ€è¦åœ¨å¤šä¸ªå·¥å…·é—´ä¼ é€’æ•°æ®ã€æ­å»ºåŠ¨æ€å·¥å…·é“¾ï¼Œä¸ä»…å¼€å‘éº»çƒ¦ï¼Œè¿˜å®¹æ˜“å‡ºç°æ•°æ®ä¼ é€’é”™è¯¯ã€‚CodeAct èƒ½å°†å¤šä¸ªå·¥å…·çš„åŠŸèƒ½é›†æˆåˆ°ä¸€æ®µ Python ä»£ç ä¸­ï¼Œåƒæ­ç§¯æœ¨ä¸€æ ·ç»„åˆå·¥å…·ï¼Œä¸ç”¨å•ç‹¬å¤„ç†å·¥å…·é—´çš„è”åŠ¨ï¼Œç®€åŒ–äº†å¼€å‘å’Œç»´æŠ¤æˆæœ¬ã€‚</p>\n<p>ä»¥ä¸‹æ˜¯ ReAct ä¸ CodeAct çš„æ ¸å¿ƒå·®å¼‚å¯¹æ¯”è¡¨ï¼Œä»å…³é”®ç»´åº¦ç›´è§‚å‘ˆç°ä¸¤è€…çš„åŒºåˆ«ï¼š</p>\n<table>\n<thead>\n<tr>\n<th><strong>å¯¹æ¯”ç»´åº¦</strong></th>\n<th><strong>ReAct æ¨¡å¼</strong></th>\n<th><strong>CodeAct æ¡†æ¶</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>æ ¸å¿ƒå®šä½</strong></td>\n<td>é€šç”¨è¡Œä¸ºèŒƒå¼ï¼ˆå®šä¹‰ â€œæ€è€ƒ - è¡ŒåŠ¨ - åé¦ˆâ€ çš„å¾ªç¯é€»è¾‘ï¼‰</td>\n<td>å…·ä½“æ‰§è¡Œæ–¹æ¡ˆï¼ˆåŸºäºä»£ç æ‰§è¡Œçš„è½åœ°å®ç°ï¼‰</td>\n</tr>\n<tr>\n<td><strong>è¡ŒåŠ¨è½½ä½“</strong></td>\n<td>è‡ªç„¶è¯­è¨€æŒ‡ä»¤ã€å·¥å…·è°ƒç”¨åˆ—è¡¨ï¼ˆå¦‚ API è°ƒç”¨æ ¼å¼ï¼‰</td>\n<td>å¯æ‰§è¡Œçš„ Python ä»£ç </td>\n</tr>\n<tr>\n<td><strong>å¤æ‚é€»è¾‘å¤„ç†</strong></td>\n<td>ä¾èµ–åˆ†æ­¥æ‹†è§£ï¼Œéš¾ä»¥æ‰¿è½½å¾ªç¯ã€å¤šæ•°æ®è”åŠ¨ç­‰å¤æ‚é€»è¾‘</td>\n<td>å¤©ç„¶æ”¯æŒä»£ç çº§é€»è¾‘ï¼ˆå¾ªç¯ã€æ¡ä»¶åˆ¤æ–­ç­‰ï¼‰ï¼Œå¯ä¸€æ¬¡æ€§æ‰§è¡Œå¤æ‚ä»»åŠ¡</td>\n</tr>\n<tr>\n<td><strong>å·¥å…·æ‰©å±•æ€§</strong></td>\n<td>éœ€é¢„å…ˆå°è£…å·¥å…· API å¹¶å®šä¹‰è°ƒç”¨æ ¼å¼ï¼Œæ‰©å±•æˆæœ¬é«˜</td>\n<td>ç›´æ¥å¤ç”¨ Python ç”Ÿæ€æ‰€æœ‰åº“ï¼Œæ— éœ€é¢å¤–å°è£…ï¼Œæ‰©å±•ä¾¿æ·</td>\n</tr>\n<tr>\n<td><strong>äº¤äº’æ•ˆç‡</strong></td>\n<td>å¤šæ­¥æ‹†åˆ†å¯¼è‡´äº¤äº’æ¬¡æ•°å¤šï¼Œå»¶è¿Ÿè¾ƒé«˜</td>\n<td>å•æ®µä»£ç å®Œæˆå¤æ‚æ“ä½œï¼Œå‡å°‘äº¤äº’æ¬¡æ•°ï¼Œæ•ˆç‡æ›´é«˜</td>\n</tr>\n<tr>\n<td><strong>è°ƒè¯•èƒ½åŠ›</strong></td>\n<td>åé¦ˆä¿¡æ¯ç®€å•ï¼ˆæˆåŠŸ / å¤±è´¥ï¼‰ï¼Œè‡ªä¸»è°ƒè¯•å›°éš¾</td>\n<td>ä¾èµ– Python è§£é‡Šå™¨çš„è¯¦ç»†é”™è¯¯æ—¥å¿—ï¼Œæ”¯æŒè‡ªä¸»ä¿®æ”¹ä»£ç è°ƒè¯•</td>\n</tr>\n<tr>\n<td><strong>å·¥å…·ç»„åˆå¤æ‚åº¦</strong></td>\n<td>éœ€æ‰‹åŠ¨ç®¡ç†å·¥å…·é—´æ•°æ®ä¼ é€’ï¼Œæ˜“å‡ºé”™</td>\n<td>å¤šå·¥å…·åŠŸèƒ½å¯é›†æˆåˆ°å•æ®µä»£ç ï¼Œç»„åˆé€»è¾‘é€šè¿‡ä»£ç è‡ªç„¶å®ç°</td>\n</tr>\n<tr>\n<td><strong>é€‚ç”¨åœºæ™¯</strong></td>\n<td>æ­¥éª¤æ¸…æ™°ã€é€»è¾‘ç®€å•çš„ä»»åŠ¡ï¼ˆå¦‚å•è½®é—®ç­”ã€ç®€å•æŸ¥è¯¢ï¼‰</td>\n<td>å¤æ‚ä»»åŠ¡ï¼ˆå¦‚æ•°æ®æ‰¹é‡å¤„ç†ã€å¤šå·¥å…·è”åŠ¨ã€é€»è¾‘æ¨ç†ï¼‰</td>\n</tr>\n</tbody>\n</table>\n<p>é€šè¿‡ä¸Šè¡¨å¯è§ï¼ŒCodeAct å¹¶éå¦å®š ReAct çš„é€»è¾‘æ¡†æ¶ï¼Œè€Œæ˜¯åœ¨å…¶ â€œæ€è€ƒ - è¡ŒåŠ¨ - åé¦ˆâ€ å¾ªç¯çš„åŸºç¡€ä¸Šï¼Œç”¨ â€œä»£ç æ‰§è¡Œâ€ æ›¿ä»£äº†ä¼ ç»Ÿçš„ â€œæŒ‡ä»¤ / å·¥å…·è°ƒç”¨â€ï¼Œä»è€Œåœ¨å¤æ‚ä»»åŠ¡å¤„ç†ã€å·¥å…·é€‚é…ã€æ•ˆç‡ç­‰æ–¹é¢ã€‚</p>\n<h3 id=\"25-codeact-vs-å‡½æ•°è°ƒç”¨\">2.5 CodeAct vs å‡½æ•°è°ƒç”¨</h3>\n<p>Function Calling --&gt; MCP --&gt; PTC ä½¿ç”¨çš„JSONå»å®ç°Callingï¼Œè€ŒCodeActåŠPython-useæ˜¯ç›´æ¥LLMç›´æ¥ç”Ÿæˆå¹¶è°ƒç”¨å¯¹åº”å‡½æ•°çš„ä»£ç ã€‚</p>\n<p>å®é™…ä¸Š CodeAct å’Œå‡½æ•°è°ƒç”¨éƒ½æ˜¯ä¸ºäº†è®©å¤§æ¨¡å‹è°ƒç”¨å¤–éƒ¨å·¥å…·è€Œè®¾è®¡çš„æœºåˆ¶ï¼Œåªä¸è¿‡æœ‰ä¸€äº›å·®åˆ«ï¼š</p>\n<ul>\n<li>å‡½æ•°è°ƒç”¨é€šå¸¸å®šä¹‰å¯¹åº”çš„è°ƒç”¨æ ¼å¼ï¼Œæ¯”å¦‚ JSONï¼Œéš¾ä»¥å®ç°å¤æ‚æ“ä½œ</li>\n<li>CodeAct å¯ä»¥é€šè¿‡ LLM ç”Ÿæˆå®Œæ•´çš„å¯æ‰§è¡Œçš„ Python ä»£ç ï¼Œæ”¯æŒè¾ƒä¸ºå¤æ‚çš„æ“ä½œï¼Œå³å½“é¢å¯¹æ²¡æœ‰ç°æˆå·¥å…·å¯ç”¨æ—¶ï¼ŒAgent ä¼šåŠ¨æ€åœ°ç”Ÿæˆä¸€æ®µ Python ä»£ç ï¼ˆä¸€ä¸ªå¾®å‹å·¥å…·ï¼‰ï¼Œåœ¨éš”ç¦»ç¯å¢ƒä¸­æ‰§è¡Œå¹¶æ ¹æ®æ‰§è¡Œç»“æœæ¨è¿›ä»»åŠ¡ã€‚</li>\n</ul>\n<p>æˆ‘ä»¬çœ‹ä¸ªå¯¹æ¯”çš„ä¾‹å­ï¼Œå¤§æ¨¡å‹åå‡ºçš„å‡½æ•°è°ƒç”¨ä¸ºï¼š</p>\n<pre><code>{\n  \"function\": \"get_weather\",\n  \"parameters\": { \"location\": \"Shanghai\", \"date\": \"2025-08-16\" }\n}\n</code></pre>\n<p>è€ŒåŒæ ·æƒ…å†µä¸‹ï¼ŒCodeAct ä¸ºï¼š</p>\n<pre><code>get_weather(\"Shanghai\", \"2025-08-16\")\n</code></pre>\n<p>å¹¶ä¸”å…¶å® CodeAct å¯ä»¥å®Œæˆæ›´åŠ å¤æ‚çš„æ“ä½œï¼Œæ¯”å¦‚ï¼š</p>\n<pre><code>weather = get_weather(\"Shanghai\", \"2025-08-16\")\nsend_email(to=\"user@example.com\", content=weather)\n</code></pre>\n<p>è¿™æ ·å¯ä»¥è¿ç»­ä¸²è”å¤šä¸ªæ“ä½œï¼Œä¹Ÿå°±æ˜¯ CodeAct çš„æ ¸å¿ƒï¼Œè¾“å‡ºå®Œæ•´çš„å¯æ“ä½œä»£ç ï¼Œå¤–éƒ¨æœåŠ¡è´Ÿè´£å…·ä½“çš„æ‰§è¡Œé€»è¾‘ã€‚å¦å¤–å…·å¤‡äº†ä¸€äº›æµç¨‹æ§åˆ¶çš„èƒ½åŠ›ï¼Œæ¯”å¦‚æ¡ä»¶ã€å¾ªç¯ç­‰ï¼Œå¯ä»¥è¿›ä¸€æ­¥é™ä½ä»»åŠ¡å¤æ‚åº¦ã€‚æœ€åæ˜¯å¤ç”¨å·²æœ‰åŸºç¡€è®¾æ–½ï¼Œæ¯”å¦‚ CodeAct æœ€åˆæå‡ºå°±æ˜¯é’ˆå¯¹ Python å¸¸è§ï¼Œè¿™ç§æƒ…å†µä¸‹æ˜¯å¯ä»¥å¤ç”¨ Python é‡Œçš„æ ‡å‡†åº“æˆ–ä¸‰æ–¹åº“ï¼Œæ— éœ€é‡å¤å®šä¹‰æ–°çš„å·¥å…·ã€‚CodeAct æ­£æ˜¯å› ä¸ºå…¶ç‰¹æ€§ï¼Œç°åœ¨ä¹Ÿè¢«ä¼—å¤š AI Coding Assistant é‡‡ç”¨ï¼Œå¾ˆå¤šè·Ÿ Coding æœ‰å…³çš„ Agent éƒ½ä¼šé›†æˆ CodeAct æˆ–è€…ä»¥ CodeAct æ€æƒ³ä¸ºåŸºç¡€çš„å˜ä½“ã€‚</p>\n<h3 id=\"26-recode-èŒƒå¼\">2.6 ReCode èŒƒå¼</h3>\n<p>è®ºæ–‡ [<a href=\"https://link.zhihu.com/?target=https%3A//arxiv.org/abs/2510.23564\" rel=\"noopener nofollow\" target=\"_blank\">2510.23564] ReCode: Unify Plan and Action for Universal Granularity Control</a> æå‡ºäº†æ–°èŒƒå¼ï¼šRecodeã€‚</p>\n<p>å½“å‰ä¸»æµ LLM æ™ºèƒ½ä½“èŒƒå¼åœ¨çµæ´»æ€§ä¸Šå­˜åœ¨æ˜æ˜¾å±€é™ï¼Œä¸»è¦åˆ†ä¸ºä¸¤ç±»ã€‚</p>\n<ul>\n<li>ä»¥ ReAct ä¸ºä»£è¡¨çš„ååº”å¼èŒƒå¼ï¼Œé€šè¿‡ â€œæ€è€ƒ - è¡ŒåŠ¨â€ çš„å¾ªç¯å®ç°ç»†ç²’åº¦å†³ç­–ï¼Œè™½èƒ½åº”å¯¹å³æ—¶å˜åŒ–ï¼Œä½†ç¼ºä¹é•¿è¿œè§„åˆ’èƒ½åŠ›ï¼Œåœ¨å¤æ‚é•¿åºåˆ—ä»»åŠ¡ä¸­æ˜“é™·å…¥å±€éƒ¨æœ€ä¼˜ï¼Œæ•ˆç‡ä½ä¸‹ï¼›</li>\n<li>è§„åˆ’ - æ‰§è¡ŒèŒƒå¼ï¼ˆAgent with Plannerï¼‰å…ˆç”±è§„åˆ’å™¨ç”Ÿæˆå®è§‚è®¡åˆ’ï¼Œå†ç”±æ‰§è¡Œå™¨é€æ­¥å®Œæˆï¼Œè™½å…·æˆ˜ç•¥æ€§ï¼Œä½†é™æ€è®¡åˆ’åœ¨åŠ¨æ€ç¯å¢ƒä¸­é€‚åº”æ€§å·®ï¼Œä¸€æ­¥å‡ºé”™å¯èƒ½å¯¼è‡´æ•´ä½“å¤±æ•ˆã€‚è¿™äº›é—®é¢˜çš„æ ¹æºåœ¨äºï¼Œå®ƒä»¬å°†é«˜å±‚è§„åˆ’ä¸åº•å±‚è¡ŒåŠ¨è§†ä¸ºç‹¬ç«‹è¿‡ç¨‹ï¼Œç”¨ä¸åŒæœºåˆ¶å¤„ç†ï¼Œæ— æ³•æ ¹æ®ä»»åŠ¡å¤æ‚åº¦å’Œç¯å¢ƒåé¦ˆåŠ¨æ€è°ƒæ•´å†³ç­–ç²’åº¦ã€‚</li>\n</ul>\n<p>ä¸ºè§£å†³è¿™ä¸€å›°å¢ƒï¼ŒReCode èŒƒå¼åº”è¿è€Œç”Ÿï¼Œå…¶æ ¸å¿ƒåˆ›æ–°åœ¨äºæ‰“ç ´è§„åˆ’ä¸è¡ŒåŠ¨çš„åƒµåŒ–åˆ†ç¦»ï¼Œæå‡ºäºŒè€…æœ¬è´¨å¹¶éæˆªç„¶ä¸åŒï¼Œè§„åˆ’å¯çœ‹ä½œæ›´é«˜å±‚çº§ã€æ›´æŠ½è±¡çš„è¡ŒåŠ¨ã€‚è¿™å°±åƒè½¯ä»¶å¼€å‘ä¸­ä¼ªä»£ç ä¸å¯æ‰§è¡Œä»£ç çš„å…³ç³»ï¼Œä¼ªä»£ç å¯¹åº”å‹¾å‹’é€»è¾‘çš„è§„åˆ’ï¼Œå¯æ‰§è¡Œä»£ç å¯¹åº”å…·ä½“è½åœ°çš„è¡ŒåŠ¨ã€‚</p>\n<p>ReCode é€šè¿‡ä¸¤ä¸ªå±‚é¢å®ç°äºŒè€…çš„ç»Ÿä¸€ã€‚</p>\n<ul>\n<li>åœ¨è¡¨ç¤ºå±‚é¢ï¼Œå®ƒå°†æ‰€æœ‰å†³ç­–ç»Ÿä¸€ä¸º Python å‡½æ•°è°ƒç”¨ï¼šåŸå­è¡ŒåŠ¨è¢«å°è£…ä¸ºç¯å¢ƒå¯è¯†åˆ«çš„ç¡®å®šå‡½æ•°è°ƒç”¨ï¼Œä½œä¸ºå†³ç­–æ ‘çš„å¶å­èŠ‚ç‚¹å¯ç›´æ¥æ‰§è¡Œï¼›è§„åˆ’åˆ™è¡¨ç°ä¸ºæ™ºèƒ½ä½“è‡ªä¸»å‘½åçš„å ä½ç¬¦å‡½æ•°ï¼Œä½œä¸ºéå¶å­èŠ‚ç‚¹ä»£è¡¨éœ€è¿›ä¸€æ­¥åˆ†è§£çš„å­ç›®æ ‡ï¼Œä½¿ä»é¡¶å±‚è§„åˆ’åˆ°åº•å±‚è¡ŒåŠ¨éƒ½çº³å…¥åŒä¸€ä»£ç è¡¨ç¤ºä½“ç³»ã€‚</li>\n<li>åœ¨æœºåˆ¶å±‚é¢ï¼ŒReCode é‡‡ç”¨å•ä¸€çš„é€’å½’å¼ä»£ç ç”Ÿæˆæœºåˆ¶ï¼Œæ™ºèƒ½ä½“æ— éœ€åˆ‡æ¢æ¨¡å¼ï¼Œåªéœ€æŒ‰éœ€åŠ¨æ€å±•å¼€å½“å‰å ä½ç¬¦å‡½æ•°ã€‚è¿™ç§æ–¹å¼è®©æ™ºèƒ½ä½“èƒ½ä¾æ®å®æ—¶ç¯å¢ƒåé¦ˆçµæ´»è°ƒæ•´å†³ç­–è·¯å¾„ï¼Œæœ€ç»ˆè·å¾—è‡ªé€‚åº”æ§åˆ¶å†³ç­–ç²’åº¦çš„èƒ½åŠ›ã€‚</li>\n</ul>\n<p><img alt=\"Recode\" class=\"lazyload\" /></p>\n<h2 id=\"0xff-å‚è€ƒ\">0xFF å‚è€ƒ</h2>\n<p><a href=\"https://docs.all-hands.dev/openhands/usage/architecture/backend\" rel=\"noopener nofollow\" target=\"_blank\">https://docs.all-hands.dev/openhands/usage/architecture/backend</a></p>\n<p><a href=\"https://zhuanlan.zhihu.com/p/1936485868761257658\" rel=\"noopener nofollow\" target=\"_blank\">å½“AI Agentä»â€œç©å…·â€èµ°å‘â€œå·¥å…·â€ï¼Œæˆ‘ä»¬è¯¥å…³æ³¨ä»€ä¹ˆï¼ŸOpenhandsæ¶æ„è§£æã€ç¬¬äºŒç¯‡ï¼šAgent ç›¸å…³æ ¸å¿ƒæ¦‚å¿µã€‘</a>  <a href=\"https://www.zhihu.com/people/dreamrenderx\" rel=\"noopener nofollow\" target=\"_blank\">å…‹é‡Œ</a></p>\n<p><a href=\"https://zhuanlan.zhihu.com/p/1936175201323825087\" rel=\"noopener nofollow\" target=\"_blank\">å½“AI Agentä»â€œç©å…·â€èµ°å‘â€œå·¥å…·â€ï¼Œæˆ‘ä»¬è¯¥å…³æ³¨ä»€ä¹ˆï¼ŸOpenhandsæ¶æ„è§£æã€ç¬¬ä¸€ç¯‡ï¼šç³»åˆ—å¯¼è¯»ã€‘</a> <a href=\"https://www.zhihu.com/people/dreamrenderx\" rel=\"noopener nofollow\" target=\"_blank\">å…‹é‡Œ</a></p>\n<p><a href=\"https://zhuanlan.zhihu.com/p/1940436682949244630\" rel=\"noopener nofollow\" target=\"_blank\">Coding Agentä¹‹Openhandsè§£æ(å«ä»£ç )</a>  <a href=\"https://www.zhihu.com/people/wu-long-ming-cha-56\" rel=\"noopener nofollow\" target=\"_blank\">Arrow</a></p>\n<p><a href=\"https://zhuanlan.zhihu.com/p/1940824548485347192\" rel=\"noopener nofollow\" target=\"_blank\">OpenHands æºç è§£è¯»</a>  <a href=\"https://www.zhihu.com/people/xiao-hui-66-72\" rel=\"noopener nofollow\" target=\"_blank\">ä¸€åŠ›è¾‰</a></p>\n<p><a href=\"https://zhuanlan.zhihu.com/p/1940767960567379110\" rel=\"noopener nofollow\" target=\"_blank\">åŸºäºå¤§æ¨¡å‹çš„é¢†åŸŸåœºæ™¯å¼€å‘ï¼šä»å•æ™ºèƒ½ä½“åˆ°å¤šæ™ºèƒ½ä½“çš„Reactæ¡†æ¶è®¾è®¡ä¸å®ç°</a>  <a href=\"https://www.zhihu.com/org/a-li-ji-zhu\" rel=\"noopener nofollow\" target=\"_blank\">é˜¿é‡Œäº‘å¼€å‘è€…</a></p>\n<p><a href=\"https://mp.weixin.qq.com/s?__biz=Mzk0MjIwODQ2NA==&amp;mid=2247485877&amp;idx=1&amp;sn=4c790289f2c6845cf905db4b05e05be5&amp;chksm=c2c7ed0af5b0641ce8e4175a5f370279eacc6b6cd248831d50ca134d09dd8bfd31c4d0edafae&amp;cur_album_id=3486875757958348801&amp;scene=190#rd\" rel=\"noopener nofollow\" target=\"_blank\">æ·±å…¥å‰–æReActæ¡†æ¶ï¼šèåˆâ€œæ€è€ƒ-è¡ŒåŠ¨-è§‚å¯Ÿâ€çš„AI Agentå·¥ä½œåŸç†</a>  AnthroTech AI</p>\n<p><a href=\"https://zhuanlan.zhihu.com/p/1976585890047497116\" rel=\"noopener nofollow\" target=\"_blank\">å¹´ç»ˆæ€»ç»“ï¼š2025å¹´ AI äº§å“åŠæ¶æ„æ¼”è¿›æ·±åº¦ç ”ç©¶æŠ¥å‘Š</a></p>\n<p><a href=\"https://mp.weixin.qq.com/s?__biz=MzIzOTYyMTI1MA==&amp;mid=2247483863&amp;idx=1&amp;sn=152ffdf5ca70244805c016e4b110ffa5&amp;chksm=e8900d133821c3f96aac0eee3ca28adbb46d3aaa975acc731d46aa3f168390eced5d47de62e6&amp;mpshare=1&amp;scene=1&amp;srcid=1215PC2sBdclZw3Yok7oLctc&amp;sharer_shareinfo=3872ed9d65c7d497ff746d8942e0a393&amp;sharer_shareinfo_first=3872ed9d65c7d497ff746d8942e0a393#rd\" rel=\"noopener nofollow\" target=\"_blank\">Google Agent ç™½çš®ä¹¦è§£æ</a></p>\n<p><a href=\"https://mp.weixin.qq.com/s?__biz=Mzg4MzYxODkzMg==&amp;mid=2247505300&amp;idx=1&amp;sn=865e9c2d71fd5b54f3ca74c80da0f91c&amp;chksm=ceea3aad2e286b3f3922e6dd9de47bbdd4b2484edbf810d60c7f053d3ff06e4ab590219cb34f&amp;mpshare=1&amp;scene=1&amp;srcid=1215Smy2dt9QO2yLyvNTp9Lo&amp;sharer_shareinfo=2cf8f6acabb2a8bb207be9c4fa8e57d2&amp;sharer_shareinfo_first=2cf8f6acabb2a8bb207be9c4fa8e57d2#rd\" rel=\"noopener nofollow\" target=\"_blank\">Promptã€Context engineering åˆå‘å‰è¿›åŒ–äº†ï¼Œ3ä¸ªå…³é”®ç»´åº¦+5ä¸ªå…·ä½“æ æ† ï½œè°·æ­Œ</a></p>\n<p><a href=\"https://www.anthropic.com/engineering/advanced-tool-use\" rel=\"noopener nofollow\" target=\"_blank\">Introducing advanced tool use on the Claude Developer Platform</a></p>\n<p><a href=\"https://mp.weixin.qq.com/s?__biz=Mzg5OTU1NTEwMg==&amp;mid=2247484450&amp;idx=1&amp;sn=4f1271dbd048b457327a5bf59e171e63&amp;chksm=c18adfa1eb460f4c44722634a7c436a6e8c3b7a52b034c191fce8320d8998c272aacfccf9f91&amp;mpshare=1&amp;scene=1&amp;srcid=1218T1ddcT1cVBKYcydA1BO9&amp;sharer_shareinfo=e2bffd9009dee67bdc3952e83a695b58&amp;sharer_shareinfo_first=e2bffd9009dee67bdc3952e83a695b58#rd\" rel=\"noopener nofollow\" target=\"_blank\">ä»MCPåˆ°PTC Anthropicå›å½’Code Executionè·¯çº¿ï¼ŒAiPyçš„èŒƒå¼è¢«å†æ¬¡éªŒè¯</a></p>\n<p><a href=\"https://ce101.mintlify.app/core-tech/agent#7-2-5-multi-agent\" rel=\"noopener nofollow\" target=\"_blank\">https://ce101.mintlify.app/core-tech/agent#7-2-5-multi-agent</a></p>\n<p><a href=\"https://mp.weixin.qq.com/s?__biz=Mzg5OTU1NTEwMg==&amp;mid=2247484380&amp;idx=1&amp;sn=cd6f91d7432b3392cc79c81f5187d467&amp;scene=21&amp;poc_token=HGUURWmjf26vXwXyhVyjEKDx566X_Bw32JPxlBJU\" rel=\"noopener nofollow\" target=\"_blank\">AI AgentçœŸæ­£è½åœ°çš„å…³é”®ï¼šå¤§æ¨¡å‹ä¸ç¯å¢ƒæ•°æ®çš„æ— é™æ‰©å±•èƒ½åŠ›</a></p>\n<p><a href=\"https://zhuanlan.zhihu.com/p/1983512173549483912\" rel=\"noopener nofollow\" target=\"_blank\">Agent å…ƒå¹´å¤ç›˜ï¼šä» Claude Code åˆ° Deep Agentï¼ŒAgent çš„æ¶æ„ä¹‹äº‰å·²ç»ç»“æŸ</a></p>\n<p><a href=\"https://mp.weixin.qq.com/s?__biz=MzA3MjU5NTcwNw==&amp;mid=2247485567&amp;idx=1&amp;sn=ed61c27f310749ac7674d2ac0f40deaf&amp;chksm=9e5732b6c266e897a509b607a71ed9dc4f0bb857049be8720de034e85d690ee14077a47fdd84&amp;mpshare=1&amp;scene=1&amp;srcid=010966Ch8enqeK3jVsEbcU6u&amp;sharer_shareinfo=39bc3e2ecefb7fbab4df0718aa92d607&amp;sharer_shareinfo_first=39bc3e2ecefb7fbab4df0718aa92d607#rd\" rel=\"noopener nofollow\" target=\"_blank\">AI çš„â€œæ‰“å·¥äººâ€æ—¶ä»£ï¼šæ·±åº¦æ‹†è§£ Claude Agent SDKï¼Œè®©ä½ çš„æ™ºèƒ½ä½“çœŸæ­£â€œæ´»â€èµ·æ¥</a></p>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-21 21:20</span>&nbsp;\n<a href=\"https://www.cnblogs.com/rossiXYZ\">ç½—è¥¿çš„æ€è€ƒ</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">8</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "ã€Azure APIMã€‘APIMçš„è‡ªå»ºç½‘å…³å¦‚ä½•è§£å†³è‡ªç­¾åè¯ä¹¦çš„å—ä¿¡ä»»é—®é¢˜å‘¢ï¼Ÿ(æ–¹æ¡ˆäºŒ)",
      "link": "https://www.cnblogs.com/lulight/p/19514101",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/lulight/p/19514101\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-21 21:19\">\n    <span>ã€Azure APIMã€‘APIMçš„è‡ªå»ºç½‘å…³å¦‚ä½•è§£å†³è‡ªç­¾åè¯ä¹¦çš„å—ä¿¡ä»»é—®é¢˜å‘¢ï¼Ÿ(æ–¹æ¡ˆäºŒ)</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body blogpost-body-html\" id=\"cnblogs_post_body\">\n<h1>é—®é¢˜æè¿°</h1>\n<p>åœ¨å…ˆå‰çš„ä¸‰ç¯‡åšæ–‡</p>\n<p>1ï¼š<a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/lulight/p/19503730\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-19 21:09\">ã€Azure APIMã€‘APIMçš„è‡ªå»ºç½‘å…³å¦‚ä½•è§£å†³è‡ªç­¾åè¯ä¹¦çš„å—ä¿¡ä»»é—®é¢˜å‘¢ï¼Ÿ(æ–¹æ¡ˆä¸€)&nbsp;</a>&nbsp;</p>\n<p>2ï¼š<a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/lulight/p/19495544\" id=\"cb_post_title_url\" target=\"_blank\" title=\"å‘å¸ƒäº 2026-01-17 11:54\">ã€Azure APIMã€‘å¦‚ä½•è§£å†³åç«¯APIæœåŠ¡é…ç½®è‡ªç­¾åè¯ä¹¦æ—¶APIMè¯·æ±‚æŠ¥é”™500ï¼šError occured while calling backend service</a>&nbsp;</p>\n<p>3ï¼š<a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/lulight/p/19479238\" id=\"cb_post_title_url\" target=\"_blank\" title=\"å‘å¸ƒäº 2026-01-13 21:08\">ã€Azure ç¯å¢ƒã€‘åœ¨Windowsç¯å¢ƒä¸­ä½¿ç”¨OpenSSLç”Ÿæˆè‡ªç­¾åè¯ä¹¦é“¾æ­¥éª¤åˆ†äº«</a></p>\n<p>æˆ‘ä»¬åˆ†åˆ«ä»‹ç»äº†ä½¿ç”¨OpenSSLç”Ÿæˆè‡ªç­¾åè¯ä¹¦ï¼Œç„¶åè§£å†³APIMæœåŠ¡å¯¹è‡ªç­¾åè¯ä¹¦çš„ä¿¡ä»»é—®é¢˜ã€‚ä¸è®ºæ˜¯APIMæ‰˜ç®¡çš„ç½‘å…³ï¼Œè¿˜æ˜¯è‡ªå»ºçš„ç½‘å…³éƒ½å¯ä»¥é€šè¿‡å®‰è£…è¯ä¹¦åä½¿å¾—è¯·æ±‚å—ä¿¡ä»»ã€‚</p>\n<p>æ­£å¦‚å¸¸è§„çš„è¯ä¹¦éªŒè¯ä¸­ï¼Œå®¢æˆ·ç«¯æ˜¯å¯ä»¥è·³è¿‡è¯ä¹¦éªŒè¯è¿™ä¸€ç¯èŠ‚çš„ï¼šå¦‚ï¼šæµè§ˆå™¨çš„ç»§ç»­è®¿é—®ä¸å®‰å…¨çš„ç½‘ç«™æç¤ºçª—å£ï¼Œ curl -k å‘½ä»¤ç­‰</p>\n<p><img alt=\"image\" class=\"lazyload\" height=\"310\" width=\"666\" /></p>\n<p>é‚£ä¹ˆï¼Œåœ¨APIMçš„é…ç½®ä¸Šï¼Œæ˜¯å¦å¯ä»¥ç›´æ¥è®¾ç½®å¿½ç•¥è¯ä¹¦éªŒè¯å‘¢ï¼Ÿ</p>\n<p>&nbsp;</p>\n<h1>é—®é¢˜è§£ç­”</h1>\n<p>å¯ä»¥çš„ï¼ŒAPIMå¯ä»¥è®¾ç½®å¯¹åç«¯çš„HTTPSè‡ªç­¾åè¯ä¹¦çš„éªŒè¯è¿‡ç¨‹ä¸ºç¦ç”¨ã€‚ä½¿å¾—APIMç½‘å…³æœåŠ¡èƒ½å’Œåç«¯æœåŠ¡è¿›è¡ŒHTTPSé€šä¿¡ã€‚</p>\n<p>å®˜æ–¹æ–‡æ¡£è¯´æ˜å¦‚ä¸‹ï¼š</p>\n<blockquote>\n<div class=\"heading-wrapper\">\n<p class=\"heading-anchor\" id=\"disable-certificate-chain-validation-for-self-signed-certificates\"><span style=\"font-size: 16px;\"><strong>ç¦ç”¨è‡ªç­¾åè¯ä¹¦çš„è¯ä¹¦é“¾éªŒè¯</strong></span></p>\n<p><em>å‚è€ƒæ–‡æ¡£ï¼š<a href=\"https://docs.azure.cn/zh-cn/api-management/api-management-howto-mutual-certificates#disable-certificate-chain-validation-for-self-signed-certificates\" rel=\"noopener nofollow\" target=\"_blank\">https://docs.azure.cn/zh-cn/api-management/api-management-howto-mutual-certificates#disable-certificate-chain-validation-for-self-signed-certificates</a></em></p>\n</div>\n<p><span style=\"color: rgba(255, 102, 0, 1);\"><strong>å¦‚æœä½¿ç”¨è‡ªç­¾åè¯ä¹¦ï¼Œåˆ™éœ€è¦ç¦ç”¨è¯ä¹¦é“¾éªŒè¯ï¼Œä½¿ API ç®¡ç†èƒ½å¤Ÿä¸åç«¯ç³»ç»Ÿé€šä¿¡ã€‚ å¦åˆ™ï¼Œä½ å°†è·å¾— 500 é”™è¯¯ä»£ç ã€‚ </strong></span></p>\n<p>è‹¥è¦ç¦ç”¨æ­¤éªŒè¯ï¼Œå¯ä»¥ä½¿ç”¨New-AzApiManagementBackendï¼ˆç”¨äºæ–°åç«¯ï¼‰æˆ–Set-AzApiManagementBackendï¼ˆå¯¹äºç°æœ‰åç«¯ï¼‰PowerShell cmdlet å¹¶å°†å‚æ•°è®¾ç½®ä¸º<code>-SkipCertificateChainValidation</code><code>True</code>ï¼š</p>\n<pre class=\"inner-focus\"><code class=\"lang-powershell\"><span class=\"hljs-variable\">$context = <span class=\"hljs-pscommand\">New-AzApiManagementContext<span class=\"hljs-parameter\"> -ResourceGroupName <span class=\"hljs-string\">'ContosoResourceGroup'<span class=\"hljs-parameter\"> -ServiceName <span class=\"hljs-string\">'ContosoAPIMService'\n<span class=\"hljs-pscommand\">New-AzApiManagementBackend<span class=\"hljs-parameter\"> -Context  <span class=\"hljs-variable\">$context<span class=\"hljs-parameter\"> -Url <span class=\"hljs-string\">'https://contoso.com/myapi'<span class=\"hljs-parameter\"> -Protocol http<span class=\"hljs-parameter\"> -SkipCertificateChainValidation <span class=\"hljs-literal\">$true\n</span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>\n<p>è¿˜å¯ä»¥ä½¿ç”¨åç«¯&nbsp;REST API ç¦ç”¨è¯ä¹¦é“¾éªŒè¯ã€‚</p>\n</blockquote>\n<p>å®é™…çš„æ“ä½œä¸­ï¼Œéœ€è¦ä½¿ç”¨åˆ°APIMä¸­çš„ Backend åŠŸèƒ½</p>\n<h2>ç¬¬ä¸€æ­¥ï¼šæ–°å»ºæˆ–ä¿®æ”¹Backend</h2>\n<p>å¯ä»¥ä½¿ç”¨Powershellè„šæœ¬æ¥åˆ›å»ºæ–°çš„backendï¼Œç¤ºä¾‹è„šæœ¬å¦‚ä¸‹ï¼š</p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 0, 1);\">#</span><span style=\"color: rgba(0, 128, 0, 1);\"> ç™»å½•Azure China</span><span style=\"color: rgba(0, 0, 0, 1);\">\nConnect</span>-AzAccount -<span style=\"color: rgba(0, 0, 0, 1);\">Environment AzureChinaCloud\n\n</span><span style=\"color: rgba(0, 128, 0, 1);\">#</span><span style=\"color: rgba(0, 128, 0, 1);\"> ä¿®æ”¹APIM</span>\n<span style=\"color: rgba(128, 0, 128, 1);\">$apimContext</span> = New-AzApiManagementContext -ResourceGroupName <span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">your resource group name</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span> -ServiceName <span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">your apim name</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span>\n\n<span style=\"color: rgba(0, 128, 0, 1);\">#</span><span style=\"color: rgba(0, 128, 0, 1);\"> å¯¹å·²å­˜åœ¨çš„backendè¿›è¡Œä¿®æ”¹</span>\nSet-AzApiManagementBackend -Context  <span style=\"color: rgba(128, 0, 128, 1);\">$apimContext</span> -Url 'https://lbca.mylubu.com' -Protocol http -SkipCertificateChainValidation <span style=\"color: rgba(0, 0, 255, 1);\">$true</span>\n\n<span style=\"color: rgba(0, 128, 0, 1);\">#</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ–°å»ºbackend å¹¶è®¾ç½®  -SkipCertificateChainValidation $true</span>\nNew-AzApiManagementBackend -Context  <span style=\"color: rgba(128, 0, 128, 1);\">$apimContext</span> -Url 'https://lbca.mylubu.com' -Protocol http -SkipCertificateChainValidation <span style=\"color: rgba(0, 0, 255, 1);\">$true</span></pre>\n</div>\n<p>æ‰§è¡Œåçš„æ•ˆæœï¼š</p>\n<p><img alt=\"image\" class=\"lazyload\" height=\"121\" width=\"666\" /></p>\n<p>å½“ç„¶ï¼Œæ›´ç›´æ¥çš„æ–¹å¼æ˜¯é€šè¿‡Azure APIMçš„é—¨æˆ·é¡µé¢åˆ›å»ºï¼š</p>\n<p>åœ¨ä¸‹é¢çš„3æ­¥ä¸­ï¼Œæœ€é‡è¦çš„å°±æ˜¯ä¸€å®šè¦<strong>åé€‰</strong> Validate Certificate Chainï¼ é»˜è®¤å®ƒæ˜¯å‹¾é€‰çš„ã€‚</p>\n<p><img alt=\"image\" class=\"lazyload\" height=\"632\" width=\"999\" /></p>\n<h2>ç¬¬äºŒæ­¥ï¼šåœ¨APIä¸­ä½¿ç”¨backend</h2>\n<p>å½“ç¬¬ä¸€æ­¥çš„Backendåˆ›å»ºå¥½ä¹‹åï¼Œå¦‚ä½•åœ¨APIä¸­ä½¿ç”¨å‘¢ï¼Ÿ</p>\n<p>å‚è€ƒè¯´æ˜ï¼š<a href=\"https://docs.azure.cn/zh-cn/api-management/set-backend-service-policy\" rel=\"noopener nofollow\" target=\"_blank\">https://docs.azure.cn/zh-cn/api-management/set-backend-service-policy</a></p>\n<p>ç¤ºä¾‹ç­–ç•¥å¦‚ä¸‹ï¼š</p>\n<p>&lt;set-backend-service backend-id=\"the #1 steps backend id \" /&gt;</p>\n<p><img alt=\"image\" class=\"lazyload\" height=\"329\" width=\"666\" /></p>\n<p>&nbsp;</p>\n<h2>ç¬¬ä¸‰æ­¥ï¼šæµ‹è¯•</h2>\n<h3>åœ¨APIMé—¨æˆ·ä¸Šæµ‹è¯•</h3>\n<p>åœ¨Azure æ‰˜ç®¡çš„APIM é—¨æˆ·ä¸Šæµ‹è¯•ï¼ŒæˆåŠŸã€‚ï¼ˆä¸éœ€è¦ä¸Šä¼ æ ¹è¯ä¹¦ï¼Œä¸­é—´è¯ä¹¦ï¼Œå¯èŠ‚çº¦ä¸Šä¼ è¯ä¹¦åç­‰å¾…APIMå®Œæˆæ›´æ–°çš„45åˆ†é’Ÿå·¦å³æ—¶é—´ï¼‰</p>\n<p><img alt=\"image\" class=\"lazyload\" height=\"622\" width=\"666\" /></p>\n<p>&nbsp;</p>\n<h3>åœ¨AKSè‡ªå»ºç½‘å…³ä¸Šæµ‹è¯•</h3>\n<p class=\"code-line\" dir=\"auto\">åœ¨AKS Self Hostä¸Šç¯å¢ƒä¸­æµ‹è¯•, è®¿é—®ï¼š<span style=\"background-color: rgba(192, 192, 192, 1);\">curl -H 'Ocp-Apim-Subscription-Key: &lt;APIM Subscription Key&gt;'&nbsp; 'https://&lt;aks service extennal ip&gt;/ca2/'&nbsp; -k&nbsp;</span></p>\n<p><img alt=\"image\" class=\"lazyload\" height=\"79\" width=\"666\" /></p>\n<p>&nbsp;</p>\n<p>ä»¥ä¸Šæ–¹æ³•ï¼Œå¯ä»¥åœ¨ä¸éœ€è¦è¯ä¹¦çš„æƒ…å†µä¸‹ï¼ŒæˆåŠŸè®¿é—®é…ç½®äº†è‡ªç­¾åè¯ä¹¦çš„åç«¯æœåŠ¡APIã€‚åªæ˜¯æ­¤ç§åŠæ³•è¿˜æ˜¯å­˜åœ¨ä¸€å®šçš„å®‰å…¨é£é™©ï¼Œéœ€è¦è°¨æ…ä½¿ç”¨ã€‚</p>\n<p>&nbsp;</p>\n<h1>å‚è€ƒèµ„æ–™</h1>\n<div class=\"heading-wrapper\">\n<p class=\"heading-anchor\" id=\"disable-certificate-chain-validation-for-self-signed-certificates\">ç¦ç”¨è‡ªç­¾åè¯ä¹¦çš„è¯ä¹¦é“¾éªŒè¯ ï¼š&nbsp;<a href=\"https://docs.azure.cn/zh-cn/api-management/api-management-howto-mutual-certificates#disable-certificate-chain-validation-for-self-signed-certificates\" rel=\"noopener nofollow\" target=\"_blank\">https://docs.azure.cn/zh-cn/api-management/api-management-howto-mutual-certificates#disable-certificate-chain-validation-for-self-signed-certificates</a></p>\n<div>&nbsp;</div>\n</div>\n<p>&nbsp;</p>\n</div>\n<div id=\"MySignature\">\n    <div style=\"background: #1c5f55; height: 36px; width: 618px; padding: 14px 5px 0px 3px;\">\n  <p style=\"font-weight: bold; color: white;\">å½“åœ¨å¤æ‚çš„ç¯å¢ƒä¸­é¢ä¸´é—®é¢˜ï¼Œæ ¼ç‰©ä¹‹é“éœ€ï¼šæµŠè€Œé™ä¹‹å¾æ¸…ï¼Œå®‰ä»¥åŠ¨ä¹‹å¾ç”Ÿã€‚ äº‘ä¸­ï¼Œæ°æ˜¯å¦‚æ­¤!</p>\n</div>\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-21 21:19</span>&nbsp;\n<a href=\"https://www.cnblogs.com/lulight\">ç¼–ç è€…å¢å¸ƒ</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">6</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    }
  ]
}