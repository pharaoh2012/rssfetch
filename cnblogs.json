{
  "title": "ä¸»é¡µ - åšå®¢å›­",
  "link": "https://www.cnblogs.com/",
  "description": "ä¸»é¡µ - åšå®¢å›­ RSS",
  "entries": [
    {
      "title": "ä¸€æ¬¾å¼€æºã€å¼ºå¤§ã€ç®€å•æ˜“ç”¨çš„ .NET å‡æ•°æ®ç”Ÿæˆåˆ©å™¨",
      "link": "https://www.cnblogs.com/Can-daydayup/p/19601424",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/Can-daydayup/p/19601424\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-02-11 00:52\">\n    <span>ä¸€æ¬¾å¼€æºã€å¼ºå¤§ã€ç®€å•æ˜“ç”¨çš„ .NET å‡æ•°æ®ç”Ÿæˆåˆ©å™¨</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body blogpost-body-html\" id=\"cnblogs_post_body\">\n<h2><span>å‰è¨€</span></h2>\n<p><span>åœ¨æ—¥å¸¸çš„ .NET é¡¹ç›®å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦å¤§é‡çš„æµ‹è¯•æ•°æ®æ¥éªŒè¯ä¸šåŠ¡é€»è¾‘ã€å¡«å……æ•°æ®åº“ã€è¿›è¡Œæ€§èƒ½æµ‹è¯•æˆ–è€…åšäº§å“æ¼”ç¤ºã€‚æ‰‹åŠ¨ç¼–å†™è¿™äº›æµ‹è¯•æ•°æ®ä¸ä»…æ¯ç‡¥ä¹å‘³ã€æµªè´¹æ—¶é—´ï¼Œè€Œä¸”éš¾ä»¥è¦†ç›–å„ç§è¾¹ç•Œåœºæ™¯ã€‚ä»Šå¤©å¤§å§šç»™å¤§å®¶æ¨èä¸€æ¬¾å¼€æºã€å¼ºå¤§ã€ç®€å•æ˜“ç”¨çš„ .NET å‡æ•°æ®ç”Ÿæˆåº“ï¼š<strong>Bogus</strong><span>ã€‚</span></span></p>\n<h2><span>é¡¹ç›®ä»‹ç»</span></h2>\n<p><span>Bogus æ˜¯ä¸€ä¸ªåŸºäºè‘—åçš„ faker.js ç§»æ¤è€Œæ¥çš„å¼€æºï¼ˆ<span>MIT Licenseï¼‰ .NET å‡æ•°æ®ç”Ÿæˆåº“ï¼Œå®ƒä¸º .NET å¼€å‘è€…æä¾›äº†ä¸€å¥—å¼ºå¤§ã€ç®€å•æ˜“ç”¨çš„ APIï¼Œå¯å¿«é€Ÿç”Ÿæˆå„ç§ç±»å‹çš„æ¨¡æ‹Ÿæ•°æ®ï¼Œæ”¯æŒ 40+ ç§è¯­è¨€åŒºåŸŸæœ¬åœ°åŒ–ï¼Œå¹¿æ³›åº”ç”¨äºå•å…ƒæµ‹è¯•ã€æ•°æ®åº“å¡«å……ã€åŸå‹æ¼”ç¤ºä»¥åŠç¤ºä¾‹æ•°æ®ç”Ÿæˆç­‰åœºæ™¯ã€‚</span></span></p>\n<h2><span>æ”¯æŒè¯­è¨€</span></h2>\n<p><span>æ”¯æŒè¯­è¨€ï¼šC#ã€F#ã€VB.NETã€‚</span></p>\n<h2><span>åº”ç”¨åœºæ™¯</span></h2>\n<ul class=\"list-paddingleft-1\">\n<li><strong>å•å…ƒæµ‹è¯• / é›†æˆæµ‹è¯•</strong><span>ï¼šå¿«é€Ÿç”Ÿæˆç¬¦åˆä¸šåŠ¡æ¨¡å‹çš„æµ‹è¯•å¯¹è±¡ï¼Œæ›¿ä»£æ‰‹å·¥ Mock æ•°æ®ã€‚</span></li>\n<li><strong>æ•°æ®åº“å¡«å……ï¼ˆSeedï¼‰</strong><span>ï¼šå¼€å‘/æµ‹è¯•ç¯å¢ƒæ•°æ®åº“å¡«å……çœŸå®æ„Ÿåè¶³çš„å‡æ•°æ®ã€‚</span></li>\n<li><strong>æ€§èƒ½ä¸å‹åŠ›æµ‹è¯•</strong><span>ï¼šæ‰¹é‡ç”Ÿæˆå¤§è§„æ¨¡æ•°æ®é›†æ¥æ¨¡æ‹ŸçœŸå®è´Ÿè½½ã€‚</span></li>\n<li><strong>API å¼€å‘è°ƒè¯•</strong><span>ï¼šå¿«é€Ÿæ„é€  API è¿”å›çš„æ¨¡æ‹Ÿå“åº”æ•°æ®ã€‚</span></li>\n<li><strong>æ•°æ®è„±æ•</strong><span>ï¼šæ›¿æ¢ç”Ÿäº§æ•°æ®ä¸­çš„æ•æ„Ÿä¿¡æ¯ã€‚</span></li>\n</ul>\n<h2><span>æ”¯æŒä»¥ä¸‹è¯­è¨€ç¯å¢ƒ</span></h2>\n<p><span>Bogus æ”¯æŒä»¥ä¸‹è¯­è¨€ç¯å¢ƒï¼š</span></p>\n<p><img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1336199/202602/1336199-20260210204126119-365582300.png\" /></p>\n<h2><span>åˆ›å»ºä¸€ä¸ª .NET æ§åˆ¶å°åº”ç”¨</span></h2>\n<p><span>æ¥ä¸‹æ¥æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåä¸ºï¼š<code>BogusExercise</code><span>&nbsp;.NET 9 æ§åˆ¶å°åº”ç”¨ï¼š</span></span></p>\n<p><img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1336199/202602/1336199-20260210204138344-430453000.png\" /></p>\n<p><img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1336199/202602/1336199-20260210204143376-267148763.png\" /></p>\n<h2><span>é¡¹ç›® NuGet å®‰è£…</span></h2>\n<p><span>åœ¨ NuGet åŒ…ç®¡ç†å™¨æ§åˆ¶å°ä¸­æ‰§è¡Œï¼š</span></p>\n<pre><span><code><span>Install-Package Bogus<span><br /></span></span></code></span></pre>\n<p><span>æˆ–è€…åœ¨ NuGet åŒ…ç®¡ç†å™¨ä¸­æœç´¢å®‰è£…ï¼š</span></p>\n<p><img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1336199/202602/1336199-20260210204211714-738946793.png\" /></p>\n<h2><span>Bogus å¿«é€Ÿå…¥é—¨</span></h2>\n<h3><span>ç”Ÿæˆ 3 ä¸ªéšæœºè®¢å•çš„æ¨¡æ‹Ÿç”¨æˆ·ä¿¡æ¯</span></h3>\n<p><span>ä»¥ä¸‹æ˜¯ Bogus ä»“åº“ä¸­æä¾›çš„ç¤ºä¾‹ä»£ç ï¼Œä½¿ç”¨ Bogus ç”Ÿæˆäº† 3 ä¸ªå¸¦éšæœºè®¢å•çš„æ¨¡æ‹Ÿç”¨æˆ·ã€‚</span></p>\n<pre><span><code><span>&nbsp; &nbsp;&nbsp;public<span>&nbsp;classProgram<span><br /><span>&nbsp; &nbsp; {<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>static<span>&nbsp;<span>void<span>&nbsp;<span>Main<span>(<span>string<span>[] args<span>)<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; {<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;//ç”Ÿæˆ 3 ä¸ªéšæœºè®¢å•çš„æ¨¡æ‹Ÿç”¨æˆ·ä¿¡æ¯<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;users = GenerateSampleUsers(3<span>);<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; }<span><br /><span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;summary&gt;<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;ç”Ÿæˆéšæœºè®¢å•çš„æ¨¡æ‹Ÿç”¨æˆ·<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;/summary&gt;<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;param name=\"count\"&gt;<span>&lt;/param&gt;<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;returns&gt;<span>&lt;/returns&gt;<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>public<span>&nbsp;<span>static<span>&nbsp;List&lt;User&gt;&nbsp;<span>GenerateSampleUsers<span>(<span>int<span>&nbsp;count =&nbsp;<span>3<span>)<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; {<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// è®¾ç½®éšæœºç§å­ï¼Œç”Ÿæˆå¯é‡å¤çš„æ•°æ®é›†<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Randomizer.Seed =&nbsp;new<span>&nbsp;Random(3897234<span>);<span><br /><span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;fruit =&nbsp;new<span>[] {&nbsp;\"apple\"<span>,&nbsp;\"banana\"<span>,&nbsp;\"orange\"<span>,&nbsp;\"strawberry\"<span>,&nbsp;\"kiwi\"<span>&nbsp;};<span><br /><span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;orderIds =&nbsp;0<span>;<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;testOrders =&nbsp;new<span>&nbsp;Faker&lt;Order&gt;()<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// å¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼šç¡®ä¿æ‰€æœ‰å±æ€§éƒ½æœ‰è§„åˆ™<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .StrictMode(true<span>)<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// OrderId è‡ªå¢<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(o =&gt; o.OrderId, f =&gt; orderIds++)<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// ä»æ°´æœç¯®ä¸­éšæœºæŒ‘é€‰<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(o =&gt; o.Item, f =&gt; f.PickRandom(fruit))<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// éšæœºæ•°é‡ 1~10<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(o =&gt; o.Quantity, f =&gt; f.Random.Number(1<span>,&nbsp;10<span>))<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// å¯ç©º int?ï¼Œ80% æ¦‚ç‡ä¸º null<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(o =&gt; o.LotNumber, f =&gt; f.Random.Int(0<span>,&nbsp;100<span>).OrNull(f,&nbsp;.8<span>f));<span><br /><span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;userIds =&nbsp;0<span>;<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;testUsers =&nbsp;new<span>&nbsp;Faker&lt;User&gt;()<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// è‡ªå®šä¹‰æ„é€ å‡½æ•°<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .CustomInstantiator(f =&gt;&nbsp;new<span>&nbsp;User(userIds++, f.Random.Replace(\"###-##-####\"<span>)))<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// åŸºæœ¬è§„åˆ™<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(u =&gt; u.FirstName, f =&gt; f.Name.FirstName())<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(u =&gt; u.LastName, f =&gt; f.Name.LastName())<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(u =&gt; u.Avatar, f =&gt; f.Internet.Avatar())<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(u =&gt; u.UserName, (f, u) =&gt; f.Internet.UserName(u.FirstName, u.LastName))<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(u =&gt; u.Email, (f, u) =&gt; f.Internet.Email(u.FirstName, u.LastName))<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(u =&gt; u.SomethingUnique, f =&gt;&nbsp;<span>$\"Value&nbsp;<span>{f.UniqueIndex}<span>\"<span>)<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(u =&gt; u.SomeGuid, Guid.NewGuid)<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// éšæœºé€‰å–æšä¸¾<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(u =&gt; u.Gender, f =&gt; f.PickRandom&lt;Gender&gt;())<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(u =&gt; u.CartId, f =&gt; Guid.NewGuid())<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// ç»„åˆå±æ€§ï¼šåˆ©ç”¨å·²ç”Ÿæˆçš„ FirstName å’Œ LastName<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(u =&gt; u.FullName, (f, u) =&gt; u.FirstName +&nbsp;\" \"<span>&nbsp;+ u.LastName)<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// åµŒå¥—é›†åˆç”Ÿæˆ<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(u =&gt; u.Orders, f =&gt; testOrders.Generate(3<span>))<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// ç”Ÿæˆå®Œæˆåçš„å›è°ƒ<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .FinishWith((f, u) =&gt;<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Console.WriteLine(\"User Created! Name={0}\"<span>, u.FullName);<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });<span><br /><span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// ä¸€æ¬¡ç”Ÿæˆ 3 ä¸ªç”¨æˆ·<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;return<span>&nbsp;testUsers.Generate(count);<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; }<span><br /><span>&nbsp; &nbsp; }<span><br /><span><br /><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;summary&gt;<span><br /><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;è®¢å•å®ä½“<span><br /><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;/summary&gt;<span><br /><span>&nbsp; &nbsp;&nbsp;publicclassOrder<span><br /><span>&nbsp; &nbsp; {<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicint<span>&nbsp;OrderId {&nbsp;get<span>;&nbsp;set<span>; }<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicstring<span>&nbsp;Item {&nbsp;get<span>;&nbsp;set<span>; }<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicint<span>&nbsp;Quantity {&nbsp;get<span>;&nbsp;set<span>; }<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicint<span>? LotNumber {&nbsp;get<span>;&nbsp;set<span>; }<span><br /><span>&nbsp; &nbsp; }<span><br /><span><br /><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;summary&gt;<span><br /><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;æ€§åˆ«æšä¸¾<span><br /><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;/summary&gt;<span><br /><span>&nbsp; &nbsp;&nbsp;publicenum<span>&nbsp;Gender<span><br /><span>&nbsp; &nbsp; {<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; Male,<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; Female<span><br /><span>&nbsp; &nbsp; }<span><br /><span><br /><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;summary&gt;<span><br /><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;ç”¨æˆ·å®ä½“<span><br /><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;/summary&gt;<span><br /><span>&nbsp; &nbsp;&nbsp;publicclassUser<span><br /><span>&nbsp; &nbsp; {<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>public<span>&nbsp;<span>User<span>(<span>int<span>&nbsp;userId,&nbsp;<span>string<span>&nbsp;ssn<span>)<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; {<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;this<span>.Id = userId;<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;this<span>.SSN = ssn;<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; }<span><br /><span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicint<span>&nbsp;Id {&nbsp;get<span>;&nbsp;set<span>; }<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicstring<span>&nbsp;FirstName {&nbsp;get<span>;&nbsp;set<span>; }<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicstring<span>&nbsp;LastName {&nbsp;get<span>;&nbsp;set<span>; }<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicstring<span>&nbsp;FullName {&nbsp;get<span>;&nbsp;set<span>; }<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicstring<span>&nbsp;UserName {&nbsp;get<span>;&nbsp;set<span>; }<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicstring<span>&nbsp;Email {&nbsp;get<span>;&nbsp;set<span>; }<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicstring<span>&nbsp;SomethingUnique {&nbsp;get<span>;&nbsp;set<span>; }<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;public<span>&nbsp;Guid SomeGuid {&nbsp;get<span>;&nbsp;set<span>; }<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicstring<span>&nbsp;Avatar {&nbsp;get<span>;&nbsp;set<span>; }<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;public<span>&nbsp;Guid CartId {&nbsp;get<span>;&nbsp;set<span>; }<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicstring<span>&nbsp;SSN {&nbsp;get<span>;&nbsp;set<span>; }<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;public<span>&nbsp;Gender Gender {&nbsp;get<span>;&nbsp;set<span>; }<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;public<span>&nbsp;List&lt;Order&gt; Orders {&nbsp;get<span>;&nbsp;set<span>; }<span><br /><span>&nbsp; &nbsp; }<span><br /></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></span></pre>\n<h3><span>ç”Ÿæˆéšæœºç”¨æˆ·ä¿¡æ¯</span></h3>\n<p><span>ä½¿ç”¨ Bogus å¿«é€Ÿç”Ÿæˆéšæœºç”¨æˆ·å§“åã€é‚®ç®±ã€åœ°å€ã€ç”µè¯ç­‰å…³è”æ•°æ®ï¼š</span></p>\n<pre><span><code><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;summary&gt;<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;ç”Ÿæˆéšæœºç”¨æˆ·ä¿¡æ¯<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;/summary&gt;<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>public<span>&nbsp;<span>static<span>&nbsp;<span>void<span>&nbsp;<span>GenerateRandomData<span>(<span>)<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; {<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// è‡ªåŠ¨ç”Ÿæˆå§“åã€é‚®ç®±ã€åœ°å€ã€ç”µè¯ç­‰å…³è”æ•°æ®<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;faker =&nbsp;new<span>&nbsp;Faker(\"zh_CN\"<span>);// ä½¿ç”¨ç®€ä½“ä¸­æ–‡<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;randomName = faker.Name.FullName();<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;randomEmail = faker.Internet.Email();<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;randomAddress = faker.Address.FullAddress();<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;randomPhone = faker.Phone.PhoneNumber();<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Console.WriteLine(<span>$\"Name:&nbsp;<span>{randomName}<span>\"<span>);<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Console.WriteLine(<span>$\"Email:&nbsp;<span>{randomEmail}<span>\"<span>);<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Console.WriteLine(<span>$\"Address:&nbsp;<span>{randomAddress}<span>\"<span>);<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Console.WriteLine(<span>$\"Phone:&nbsp;<span>{randomPhone}<span>\"<span>);<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; }<span><br /></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></span></pre>\n<h3><span>EF Core æ•°æ®åº“ç§å­æ•°æ®å¡«å……</span></h3>\n<p><span>ä½¿ç”¨ EF Core å¡«å…… Blog &amp; Post æ•°æ®ï¼š</span></p>\n<pre><span><code><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;summary&gt;<span><br /><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;EF Core æ•°æ®åº“ç§å­æ•°æ®å¡«å……<span><br /><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;é€‚åˆå¼€å‘/æµ‹è¯•ç¯å¢ƒï¼Œåœ¨åº”ç”¨å¯åŠ¨æ—¶è‡ªåŠ¨å¡«å……æ•°æ®ï¼š<span><br /><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;FakeData.Init(10); // ç”Ÿæˆ 10 ä¸ª Blogï¼Œæ¯ä¸ªåŒ…å« 3~5 ç¯‡ Post<span><br /><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;/summary&gt;<span><br /><span>&nbsp; &nbsp;&nbsp;publicstaticclassFakeData<span><br /><span>&nbsp; &nbsp; {<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicstatic<span>&nbsp;List&lt;Blog&gt; Blogs =&nbsp;new<span>&nbsp;List&lt;Blog&gt;();<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicstatic<span>&nbsp;List&lt;Post&gt; Posts =&nbsp;new<span>&nbsp;List&lt;Post&gt;();<span><br /><span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>public<span>&nbsp;<span>static<span>&nbsp;<span>void<span>&nbsp;<span>Init<span>(<span>int<span>&nbsp;count<span>)<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; {<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;postId =&nbsp;1<span>;<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;postFaker =&nbsp;new<span>&nbsp;Faker&lt;Post&gt;()<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(p =&gt; p.PostId, _ =&gt; postId++)<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(p =&gt; p.Title, f =&gt; f.Hacker.Phrase())<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(p =&gt; p.Content, f =&gt; f.Lorem.Sentence());<span><br /><span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;blogId =&nbsp;1<span>;<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;blogFaker =&nbsp;new<span>&nbsp;Faker&lt;Blog&gt;()<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(b =&gt; b.BlogId, _ =&gt; blogId++)<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(b =&gt; b.Url, f =&gt; f.Internet.Url())<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .RuleFor(b =&gt; b.Posts, (f, b) =&gt;<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; postFaker.RuleFor(p =&gt; p.BlogId, _ =&gt; b.BlogId);<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;posts = postFaker.GenerateBetween(3<span>,&nbsp;5<span>);<span><br /><span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// å…³é”®ï¼šæ”¶é›†æ‰€æœ‰ Posts åˆ°é™æ€åˆ—è¡¨ä¸­<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Posts.AddRange(posts);<span><br /><span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;return<span>&nbsp;posts;<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });<span><br /><span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// æ¸…ç©ºæ—§æ•°æ®ï¼Œé¿å…é‡å¤è°ƒç”¨ç´¯ç§¯<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Blogs.Clear();<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Posts.Clear();<span><br /><span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Blogs = blogFaker.Generate(count);<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; }<span><br /><span>&nbsp; &nbsp; }<span><br /><span><br /><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;summary&gt;<span><br /><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;Blog<span><br /><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;/summary&gt;<span><br /><span>&nbsp; &nbsp;&nbsp;publicclassBlog<span><br /><span>&nbsp; &nbsp; {<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicint<span>&nbsp;BlogId {&nbsp;get<span>;&nbsp;set<span>; }<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicstring<span>&nbsp;Url {&nbsp;get<span>;&nbsp;set<span>; }<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;public<span>&nbsp;List&lt;Post&gt; Posts {&nbsp;get<span>;&nbsp;set<span>; }<span><br /><span>&nbsp; &nbsp; }<span><br /><span><br /><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;summary&gt;<span><br /><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;Post<span><br /><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;/summary&gt;<span><br /><span>&nbsp; &nbsp;&nbsp;publicclassPost<span><br /><span>&nbsp; &nbsp; {<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicint<span>&nbsp;PostId {&nbsp;get<span>;&nbsp;set<span>; }<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicstring<span>&nbsp;Title {&nbsp;get<span>;&nbsp;set<span>; }<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicstring<span>&nbsp;Content {&nbsp;get<span>;&nbsp;set<span>; }<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;publicint<span>&nbsp;BlogId {&nbsp;get<span>;&nbsp;set<span>; }<span><br /><span>&nbsp; &nbsp; }<span><br /></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></span></pre>\n<p><span>åœ¨ Program.cs å¯åŠ¨æ—¶å¡«å……ï¼š</span></p>\n<pre><span><code><span>&nbsp; &nbsp;&nbsp;public<span>&nbsp;classProgram<span><br /><span>&nbsp; &nbsp; {<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>public<span>&nbsp;<span>static<span>&nbsp;<span>void<span>&nbsp;<span>Main<span>(<span>string<span>[] args<span>)<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; {<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;builder = WebApplication.CreateBuilder(args);<span><br /><span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// æ³¨å†Œ DbContext<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; builder.Services.AddDbContext&lt;BlogDbContext&gt;(options =&gt;<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; options.UseSqlServer(builder.Configuration.GetConnectionString(\"DefaultConnection\"<span>)));<span><br /><span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;app = builder.Build();<span><br /><span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// åº”ç”¨å¯åŠ¨æ—¶å¡«å……ç§å­æ•°æ®<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;using<span>&nbsp;(var<span>&nbsp;scope = app.Services.CreateScope())<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var<span>&nbsp;context = scope.ServiceProvider.GetRequiredService&lt;BlogDbContext&gt;();<span><br /><span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// ç¡®ä¿æ•°æ®åº“å·²åˆ›å»º<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; context.Database.EnsureCreated();<span><br /><span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// ä»…åœ¨æ•°æ®åº“ä¸ºç©ºæ—¶å¡«å……å‡æ•°æ®<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;if<span>&nbsp;(!context.Blogs.Any())<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FakeData.Init(10<span>);&nbsp;// ç”Ÿæˆ 10 ä¸ª Blogï¼Œæ¯ä¸ªåŒ…å« 3~5 ç¯‡ Post<span><br /><span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; context.Blogs.AddRange(FakeData.Blogs);<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; context.Posts.AddRange(FakeData.Posts);<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; context.SaveChanges();<span><br /><span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Console.WriteLine(<span>$\"å·²å¡«å……&nbsp;<span>{FakeData.Blogs.Count}<span>&nbsp;ä¸ªåšå®¢,&nbsp;<span>{FakeData.Posts.Count}<span>&nbsp;ç¯‡æ–‡ç« \"<span>);<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<span><br /><span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; app.MapControllers();<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; app.Run();<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; }<span><br /><span>&nbsp; &nbsp; }<span><br /></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></span></pre>\n<h3><span>è‡ªå®šä¹‰æ‰©å±• Bogus æ•°æ®é›†</span></h3>\n<p><span>å¼€å‘è€…å¯ä»¥è½»æ¾æ‰©å±• Bogusï¼Œæ·»åŠ è‡ªå®šä¹‰çš„æ•°æ®ç”Ÿæˆå™¨ï¼š</span></p>\n<pre><span><code><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;summary&gt;<span><br /><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;ä¸º Bogus çš„ Faker ç±»æä¾›é£Ÿå“ç›¸å…³çš„è‡ªå®šä¹‰å‡æ•°æ®æ‰©å±•æ–¹æ³•<span><br /><span>&nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;/summary&gt;<span><br /><span>&nbsp; &nbsp;&nbsp;publicstaticclassFoodExtensions<span><br /><span>&nbsp; &nbsp; {<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;summary&gt;<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;ç”Ÿæˆä¸€ä¸ªéšæœºçš„ç³–æœåç§°<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;/summary&gt;<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;param name=\"faker\"&gt;<span>&lt;/param&gt;<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;returns&gt;<span>&lt;/returns&gt;<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>public<span>&nbsp;<span>static<span>&nbsp;<span>string<span>&nbsp;<span>Candy<span>(<span>this<span>&nbsp;Faker faker<span>)<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; {<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;return<span>&nbsp;faker.PickRandom(new<span>[] {&nbsp;\"å·§å…‹åŠ›\"<span>,&nbsp;\"æ£’æ£’ç³–\"<span>,&nbsp;\"å£é¦™ç³–\"<span>,&nbsp;\"è½¯ç³–\"<span>,&nbsp;\"å¤ªå¦ƒç³–\"<span>&nbsp;});<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; }<span><br /><span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;summary&gt;<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;ç”Ÿæˆä¸€ä¸ªéšæœºçš„é¥®å“åç§°<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;/summary&gt;<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;param name=\"faker\"&gt;<span>&lt;/param&gt;<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>///<span>&nbsp;<span>&lt;returns&gt;<span>&lt;/returns&gt;<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>public<span>&nbsp;<span>static<span>&nbsp;<span>string<span>&nbsp;<span>Drink<span>(<span>this<span>&nbsp;Faker faker<span>)<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; {<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;return<span>&nbsp;faker.PickRandom(new<span>[] {&nbsp;\"å¯ä¹\"<span>,&nbsp;\"é›ªç¢§\"<span>,&nbsp;\"æ©™æ±\"<span>,&nbsp;\"å’–å•¡\"<span>,&nbsp;\"ç‰›å¥¶\"<span>&nbsp;});<span><br /><span>&nbsp; &nbsp; &nbsp; &nbsp; }<span><br /><span>&nbsp; &nbsp; }<span><br /><span>&nbsp; &nbsp;&nbsp;<span><br /><span>&nbsp; &nbsp;&nbsp;// ä½¿ç”¨è‡ªå®šä¹‰æ‰©å±•<span><br /><span>&nbsp; &nbsp;&nbsp;var<span>&nbsp;faker =&nbsp;new<span>&nbsp;Faker();<span><br /><span>&nbsp; &nbsp; Console.WriteLine(<span>$\"æœ€çˆ±ç³–æœ:&nbsp;<span>{faker.Candy()}<span>\"<span>);<span><br /><span>&nbsp; &nbsp; Console.WriteLine(<span>$\"æœ€çˆ±é¥®æ–™:&nbsp;<span>{faker.Drink()}<span>\"<span>);<span><br /></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></span></pre>\n<h2><span>é¡¹ç›®æºç åœ°å€</span></h2>\n<p><span>æ›´å¤šé¡¹ç›®å®ç”¨åŠŸèƒ½å’Œç‰¹æ€§æ¬¢è¿å‰å¾€é¡¹ç›®å¼€æºåœ°å€æŸ¥çœ‹ğŸ‘€ï¼Œåˆ«å¿˜äº†ç»™é¡¹ç›®ä¸€ä¸ªStaræ”¯æŒğŸ’–ã€‚</span></p>\n<ul class=\"list-paddingleft-1\">\n<li><strong>GitHubå¼€æºåœ°å€ï¼š</strong><span style=\"color: rgba(0, 0, 255, 1);\"><a href=\"https://github.com/bchavez/Bogus\" rel=\"noopener nofollow\" target=\"_blank\"><span style=\"color: rgba(0, 0, 255, 1);\">https://github.com/bchavez/Bogus</span></a></span></li>\n<li><strong>æ–‡ç« ä»£ç ç¤ºä¾‹ï¼š</strong><span style=\"color: rgba(0, 0, 255, 1);\"><a href=\"https://github.com/YSGStudyHards/DotNetExercises/tree/master/BogusExercise\" rel=\"noopener nofollow\" target=\"_blank\"><span style=\"color: rgba(0, 0, 255, 1);\">https://github.com/YSGStudyHards/DotNetExercises/tree/master/BogusExercise</span></a></span></li>\n</ul>\n<h2><span>ä¼˜ç§€é¡¹ç›®å’Œæ¡†æ¶ç²¾é€‰</span></h2>\n<p><span>è¯¥é¡¹ç›®å·²æ”¶å½•åˆ°C#/.NET/.NET Coreä¼˜ç§€é¡¹ç›®å’Œæ¡†æ¶ç²¾é€‰ä¸­ï¼Œå…³æ³¨ä¼˜ç§€é¡¹ç›®å’Œæ¡†æ¶ç²¾é€‰èƒ½è®©ä½ åŠæ—¶äº†è§£C#ã€.NETå’Œ.NET Coreé¢†åŸŸçš„æœ€æ–°åŠ¨æ€å’Œæœ€ä½³å®è·µï¼Œæé«˜å¼€å‘å·¥ä½œæ•ˆç‡å’Œè´¨é‡ã€‚å‘å·²æŒ–ï¼Œæ¬¢è¿å¤§å®¶è¸Šè·ƒæäº¤PRæ¨èæˆ–è‡ªèï¼ˆ<strong>è®©ä¼˜ç§€çš„é¡¹ç›®å’Œæ¡†æ¶ä¸è¢«åŸ‹æ²¡ğŸ¤</strong><span>ï¼‰ã€‚</span></span></p>\n<ul class=\"list-paddingleft-1\">\n<li><strong>GitHubå¼€æºåœ°å€ï¼š</strong><span style=\"color: rgba(0, 0, 255, 1);\"><a href=\"https://github.com/YSGStudyHards/DotNetGuide/blob/main/docs/DotNet/DotNetProjectPicks.md\" rel=\"noopener nofollow\" target=\"_blank\"><span style=\"color: rgba(0, 0, 255, 1);\">https://github.com/YSGStudyHards/DotNetGuide/blob/main/docs/DotNet/DotNetProjectPicks.md</span></a></span></li>\n<li><strong>Giteeå¼€æºåœ°å€ï¼š</strong><span style=\"color: rgba(0, 0, 255, 1);\"><a href=\"https://gitee.com/ysgdaydayup/DotNetGuide/blob/main/docs/DotNet/DotNetProjectPicks.md\" rel=\"noopener nofollow\" target=\"_blank\"><span style=\"color: rgba(0, 0, 255, 1);\">https://gitee.com/ysgdaydayup/DotNetGuide/blob/main/docs/DotNet/DotNetProjectPicks.md</span></a></span></li>\n</ul>\n<h2 class=\"rich_media_title \" id=\"activity-name\">DotNetGuideæŠ€æœ¯ç¤¾åŒº</h2>\n<ul>\n<li>DotNetGuideæŠ€æœ¯ç¤¾åŒºæ˜¯ä¸€ä¸ªé¢å‘.NETå¼€å‘è€…çš„å¼€æºæŠ€æœ¯ç¤¾åŒºï¼Œæ—¨åœ¨ä¸ºå¼€å‘è€…ä»¬æä¾›å…¨é¢çš„C#/.NET/.NET Coreç›¸å…³å­¦ä¹ èµ„æ–™ã€æŠ€æœ¯åˆ†äº«å’Œå’¨è¯¢ã€é¡¹ç›®æ¡†æ¶æ¨èã€æ±‚èŒå’Œæ‹›è˜èµ„è®¯ã€ä»¥åŠè§£å†³é—®é¢˜çš„å¹³å°ã€‚</li>\n<li>åœ¨DotNetGuideæŠ€æœ¯ç¤¾åŒºä¸­ï¼Œå¼€å‘è€…ä»¬å¯ä»¥åˆ†äº«è‡ªå·±çš„æŠ€æœ¯æ–‡ç« ã€é¡¹ç›®ç»éªŒã€å­¦ä¹ å¿ƒå¾—ã€é‡åˆ°çš„ç–‘éš¾æŠ€æœ¯é—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆï¼Œå¹¶ä¸”è¿˜æœ‰æœºä¼šç»“è¯†å¿—åŒé“åˆçš„å¼€å‘è€…ã€‚</li>\n<li>æˆ‘ä»¬è‡´åŠ›äºæ„å»ºä¸€ä¸ªç§¯æå‘ä¸Šã€å’Œè°å‹å–„çš„.NETæŠ€æœ¯äº¤æµå¹³å°ã€‚æ— è®ºæ‚¨æ˜¯åˆå­¦è€…è¿˜æ˜¯æœ‰ä¸°å¯Œç»éªŒçš„å¼€å‘è€…ï¼Œæˆ‘ä»¬éƒ½å¸Œæœ›èƒ½ä¸ºæ‚¨æä¾›æ›´å¤šçš„ä»·å€¼å’Œæˆé•¿æœºä¼šã€‚</li>\n</ul>\n<blockquote>\n<p><span style=\"color: rgba(0, 0, 255, 1);\"><a href=\"https://mp.weixin.qq.com/s/CbPvhmfK4ZWsHJj2eKMk7Q\" rel=\"noopener nofollow\" target=\"_blank\"><span style=\"color: rgba(0, 0, 255, 1);\"><strong>æ¬¢è¿åŠ å…¥DotNetGuideæŠ€æœ¯ç¤¾åŒºå¾®ä¿¡äº¤æµç¾¤ğŸ‘ª</strong></span></a></span></p>\n</blockquote>\n\n</div>\n<div id=\"MySignature\">\n    <blockquote>\n<p style=\"font-family: YouYuan; font-size: 16px; margin: 0 auto 0.01em auto;\"><span style=\"font-size: 17px;\">ä½œè€…åç§°ï¼š</span><a href=\"https://www.cnblogs.com/Can-daydayup/\" target=\"_blank\">è¿½é€æ—¶å…‰è€…</a></p>\n<p style=\"font-family: YouYuan; font-size: 16px; margin: 0 auto 0.01em auto;\"><span style=\"font-size: 17px;\">ä½œè€…ç®€ä»‹ï¼š</span>ä¸€ä¸ªçƒ­çˆ±ç¼–ç¨‹ã€å–„äºåˆ†äº«ã€å–œæ¬¢å­¦ä¹ ã€æ¢ç´¢ã€å°è¯•æ–°äº‹ç‰©å’Œæ–°æŠ€æœ¯çš„å…¨æ ˆè½¯ä»¶å·¥ç¨‹å¸ˆã€‚</p>\n<p style=\"font-family: YouYuan; font-size: 16px; margin: 0 auto 0.01em auto;\">\næœ¬æ–‡ç‰ˆæƒå½’ä½œè€…å’Œåšå®¢å›­å…±æœ‰ï¼Œæ¬¢è¿è½¬è½½ï¼Œä½†æœªç»ä½œè€…åŒæ„å¿…é¡»ä¿ç•™æ­¤æ®µå£°æ˜ï¼Œä¸”åœ¨æ–‡ç« é¡µé¢æ˜æ˜¾ä½ç½®ç»™å‡ºåŸæ–‡é“¾æ¥ï¼Œå¦åˆ™ä¿ç•™è¿½ç©¶æ³•å¾‹è´£ä»»çš„æƒåˆ©ã€‚å¦‚æœè¯¥ç¯‡æ–‡ç« å¯¹æ‚¨æœ‰å¸®åŠ©çš„è¯ï¼Œå¯ä»¥ç‚¹ä¸€ä¸‹å³ä¸‹è§’çš„<a href=\"\" style=\"color: red;\">ã€â™¥æ¨èâ™¥ã€‘</a>ï¼Œå¸Œæœ›èƒ½å¤ŸæŒç»­çš„ä¸ºå¤§å®¶å¸¦æ¥å¥½çš„æŠ€æœ¯æ–‡ç« ï¼Œæ–‡ä¸­å¯èƒ½å­˜åœ¨æè¿°ä¸æ­£ç¡®çš„åœ°æ–¹ï¼Œæ¬¢è¿æŒ‡æ­£æˆ–è¡¥å……ï¼Œä¸èƒœæ„Ÿæ¿€ã€‚\n</p>\n</blockquote>\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-02-11 00:52</span>&nbsp;\n<a href=\"https://www.cnblogs.com/Can-daydayup\">è¿½é€æ—¶å…‰è€…</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">0</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "OData åè®®çš„æ™ºèƒ½åŒ–è¯­ä¹‰äº’æ“ä½œ",
      "link": "https://www.cnblogs.com/shanyou/p/19601411",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/shanyou/p/19601411\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-02-10 20:40\">\n    <span>OData åè®®çš„æ™ºèƒ½åŒ–è¯­ä¹‰äº’æ“ä½œ</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                    <div id=\"cnblogs_post_description\" style=\"display: none;\">\n        \n        query-craft-mcp å……å½“äº† LLM ä¸ OData æœåŠ¡ä¹‹é—´çš„è¯­ä¹‰æ¡¥æ¢ï¼Œè§£å†³ OData v4 è¯­æ³•å¤æ‚ä¸”å¯¹å¤§å°å†™æ•æ„Ÿçš„é—®é¢˜\n    </div>\n<div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<p>åœ¨å½“ä»Šå¤æ‚å¤šå˜çš„ä¼ä¸šæ•°å­—åŒ–è½¬å‹è¿›ç¨‹ä¸­ï¼Œæ•°æ®åè®®çš„æ ‡å‡†åŒ–ä¸äº’æ“ä½œæ€§å·²æˆä¸ºæ”¯æ’‘ä¸šåŠ¡æ•æ·æ€§ä¸å†³ç­–æ™ºèƒ½çš„æ ¸å¿ƒåŸºçŸ³ã€‚å¼€æ”¾æ•°æ®åè®®ï¼ˆOpen Data Protocolï¼Œç®€ç§° ODataï¼‰ä½œä¸ºä¸€ç§åŸºäº REST æ¶æ„é£æ ¼çš„å¼€æ”¾åè®®ï¼Œè‡ª 2007 å¹´ç”±å¾®è½¯å…¬å¸ï¼ˆMicrosoftï¼‰å‘èµ·ä»¥æ¥ï¼Œç»å†äº†ä»ç§æœ‰è§„èŒƒåˆ°å…¨çƒå…¬è®¤å›½é™…æ ‡å‡†çš„åä¸½èœ•å˜ã€‚OData çš„æ ¸å¿ƒç›®æ ‡åœ¨äºæä¾›ä¸€ç§æ ‡å‡†åŒ–çš„æ–¹å¼æ¥åˆ›å»ºå’Œæ¶ˆè´¹å¯æŸ¥è¯¢ä¸”äº’æ“ä½œçš„ Web APIï¼Œä»è€Œæ‰“ç ´æ•°æ®å­¤å²›ï¼Œæå‡è·¨ç³»ç»Ÿæ•°æ®çš„å…±äº«ä»·å€¼ã€‚</p>\n<h2 id=\"ä¸€odata-åè®®çš„å†å²èƒŒæ™¯ä¸è®¾è®¡å“²å­¦\"><strong>ä¸€ã€OData åè®®çš„å†å²èƒŒæ™¯ä¸è®¾è®¡å“²å­¦</strong></h2>\n<p>OData çš„èµ·æºå¯ä»¥è¿½æº¯åˆ° Web 2.0 æ—¶ä»£å¯¹æ•°æ®äº¤æ¢ç®€ä¾¿æ€§çš„è¿«åˆ‡éœ€æ±‚ã€‚æ—©æœŸçš„ä¼ä¸šæœåŠ¡ä¸»è¦ä¾èµ–äº SOAP ç­‰åŸºäºåŠ¨ä½œçš„åè®®ï¼Œè¿™ç±»åè®®è™½ç„¶ä¸¥è°¨ä½†è¿‡äºæ²‰é‡ä¸”éš¾ä»¥åœ¨ç°ä»£ Web ç¯å¢ƒä¸­çµæ´»éƒ¨ç½²ã€‚ä¸ºäº†è§£å†³è¿™äº›æŒ‘æˆ˜ï¼Œå¾®è½¯æœ€åˆæ¨å‡ºäº† OData v1.0 è‡³ v3.0 ç‰ˆæœ¬ï¼Œå¹¶å°†å…¶ç½®äºå¾®è½¯å¼€æ”¾è§„èŒƒæ‰¿è¯ºï¼ˆMicrosoft Open Specification Promiseï¼‰ä¹‹ä¸‹ã€‚éšç€åè®®çš„æˆç†Ÿï¼ŒOData é€æ¸æ­¥å…¥æ ‡å‡†åŒ–è½¨é“ï¼Œv4.0 ç‰ˆæœ¬æ­£å¼é€šè¿‡ OASIS è”ç›Ÿçš„æ ‡å‡†åŒ–å®¡æ ¸ï¼Œå¹¶æœ€ç»ˆè·å¾— ISO/IEC çš„æ‰¹å‡†ï¼ˆISO/IEC 20802-1:2016ï¼‰ï¼Œç¡®ç«‹äº†å…¶åœ¨ RESTful API é¢†åŸŸçš„æƒå¨åœ°ä½ã€‚</p>\n<h3 id=\"æ ¸å¿ƒè®¾è®¡åŸåˆ™\"><strong>æ ¸å¿ƒè®¾è®¡åŸåˆ™</strong></h3>\n<p>OData çš„è®¾è®¡å“²å­¦æ·±æ·±æ‰æ ¹äº REST åŸåˆ™ï¼ŒåŒæ—¶åˆåœ¨è¯­ä¹‰è¡¨è¾¾ä¸Šè¿›è¡Œäº†æ˜¾è‘—å¢å¼ºã€‚åˆ†æå…¶è®¾è®¡åŸåˆ™ï¼Œå¯ä»¥å‘ç°äº”ä¸ªå…³é”®ç»´åº¦ï¼Œè¿™äº›ç»´åº¦å…±åŒæ„æˆäº†å…¶åœ¨ä¼ä¸šçº§åº”ç”¨ä¸­çš„éŸ§æ€§ï¼š</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align: left;\">æ ¸å¿ƒåŸåˆ™</th>\n<th style=\"text-align: left;\">æè¿°ä¸å®è·µå«ä¹‰</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\"><strong>éµå¾ª REST åŸåˆ™</strong></td>\n<td style=\"text-align: left;\">å»ºç«‹åœ¨ HTTPã€AtomPub å’Œ JSON ä¹‹ä¸Šï¼Œä½¿ç”¨ URI æ ‡è¯†èµ„æºï¼Œåˆ©ç”¨æ ‡å‡† HTTP æ–¹æ³•æ‰§è¡Œæ“ä½œã€‚</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"><strong>ä¿æŒç®€å•æ€§</strong></td>\n<td style=\"text-align: left;\">ä¼˜å…ˆè§£å†³ 80% çš„é€šç”¨åœºæ™¯ï¼Œä¸ºå¤æ‚éœ€æ±‚æä¾›å¯æ‰©å±•æ€§ï¼Œç¡®ä¿åŸºç¡€åˆè§„æœåŠ¡çš„æ„å»ºé—¨æ§›è¾ƒä½ã€‚</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"><strong>å¢é‡å¼æ„å»º</strong></td>\n<td style=\"text-align: left;\">å…è®¸å¼€å‘è€…ä»æœ€ç®€å•çš„åªè¯»æœåŠ¡å¼€å§‹ï¼Œéšç€ä¸šåŠ¡éœ€æ±‚é€æ­¥å¼•å…¥æŸ¥è¯¢ã€è¿‡æ»¤ã€æ’åºåŠå†™å…¥èƒ½åŠ›ã€‚</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"><strong>é«˜åº¦å¯æ‰©å±•æ€§</strong></td>\n<td style=\"text-align: left;\">æ”¯æŒåœ¨ä¸ç ´åæ—¢æœ‰å®¢æˆ·ç«¯å…¼å®¹æ€§çš„å‰æä¸‹ï¼Œå¼•å…¥ç‰¹å®šé¢†åŸŸçš„åŠŸèƒ½æ‰©å±•ï¼Œç¡®ä¿æŒç»­æ¼”è¿›ã€‚</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"><strong>æ•°æ®æºæ— å…³æ€§</strong></td>\n<td style=\"text-align: left;\">ä¸é¢„è®¾åº•å±‚æ•°æ®å­˜å‚¨æŠ€æœ¯ï¼Œæ— è®ºæ˜¯å…³ç³»å‹æ•°æ®åº“ã€æ–‡ä»¶ç³»ç»Ÿè¿˜æ˜¯å†…å®¹ç®¡ç†ç³»ç»Ÿï¼Œå‡å¯ç»Ÿä¸€æ˜ å°„ã€‚</td>\n</tr>\n</tbody>\n</table>\n<p>é€šè¿‡è¿™ç§é«˜åº¦æŠ½è±¡çš„è®¾è®¡ï¼ŒOData ä¸ä»…ä»…æ˜¯ä¸€ä¸ªæ•°æ®ä¼ è¾“æ ¼å¼ï¼Œæ›´æ˜¯ä¸€ä¸ªå…³äºå¦‚ä½•æ„å»ºâ€œå¥½â€API çš„æœ€ä½³å®è·µé›†åˆã€‚å®ƒè®©å¼€å‘è€…èƒ½å¤Ÿå°†ç²¾åŠ›é›†ä¸­åœ¨ä¸šåŠ¡é€»è¾‘ä¸Šï¼Œè€Œæ— éœ€ä¸ºè¯·æ±‚/å“åº”å¤´ã€çŠ¶æ€ç ã€åª’ä½“ç±»å‹æˆ– URL çº¦å®šç­‰çç¢çš„æŠ€æœ¯ç»†èŠ‚åŠ³ç¥ã€‚</p>\n<h2 id=\"äºŒå®ä½“æ•°æ®æ¨¡å‹-edm-ä¸å…ƒæ•°æ®é©±åŠ¨æ¶æ„\"><strong>äºŒã€å®ä½“æ•°æ®æ¨¡å‹ (EDM) ä¸å…ƒæ•°æ®é©±åŠ¨æ¶æ„</strong></h2>\n<p>OData ä¸ä¼ ç»Ÿ RESTful API æœ€æœ¬è´¨çš„åŒºåˆ«åœ¨äºå…¶å¯¹â€œæ•°æ®æ¨¡å‹â€çš„æ˜¾å¼å®šä¹‰ã€‚è¿™ç§å®šä¹‰é€šè¿‡å®ä½“æ•°æ®æ¨¡å‹ï¼ˆEntity Data Model, EDMï¼‰å®ç°ï¼Œå®ƒæ˜¯ OData è¯­ä¹‰äº’æ“ä½œæ€§çš„çµé­‚ã€‚</p>\n<h3 id=\"å®ä½“æ•°æ®æ¨¡å‹çš„ç»„æˆè¦ç´ \"><strong>å®ä½“æ•°æ®æ¨¡å‹çš„ç»„æˆè¦ç´ </strong></h3>\n<p>EDM å€Ÿç”¨äº†å®ä½“-è”ç³»ï¼ˆERï¼‰æ¨¡å‹çš„æ¦‚å¿µï¼Œå®šä¹‰äº†ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µæ¨¡å‹æ¥æè¿°æœåŠ¡æš´éœ²çš„æ‰€æœ‰èµ„æºã€‚å…¶æ ¸å¿ƒç»„æˆéƒ¨åˆ†åŒ…æ‹¬å®ä½“é›†ï¼ˆEntitySetsï¼‰ã€å®ä½“ï¼ˆEntitiesï¼‰ã€å¤æ‚ç±»å‹ï¼ˆComplexTypesï¼‰å’Œæ ‡é‡ç±»å‹ï¼ˆScalar Typesï¼‰ã€‚</p>\n<ol>\n<li><strong>å®ä½“ä¸å®ä½“é›†</strong>ï¼šå®ä½“æ˜¯å…·æœ‰å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆKeyï¼‰çš„ç»“æ„åŒ–è®°å½•ï¼Œé€šå¸¸å¯¹åº”æ•°æ®åº“ä¸­çš„ä¸€è¡Œã€‚å®ä½“é›†åˆ™æ˜¯åŒç±»å®ä½“çš„é›†åˆï¼Œç±»ä¼¼äºæ•°æ®åº“è¡¨ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä¸€ä¸ªå®ä½“ç±»å‹å¯ä»¥å­˜åœ¨äºå¤šä¸ªå…·æœ‰ä¸åŒåç§°çš„å®ä½“é›†ä¸­ï¼Œè¿™ä¸ºå¼€å‘è€…æä¾›äº†æå¤§çš„çµæ´»æ€§ã€‚</li>\n<li><strong>æ ‡é‡ç±»å‹</strong>ï¼šEDM æ‹¥æœ‰ä¸€å¥—å†…ç½®çš„å¼ºç±»å‹ç³»ç»Ÿï¼Œæ‰€æœ‰å±æ€§å¿…é¡»å±äºé¢„å®šä¹‰çš„æ ‡é‡ç±»å‹ï¼ˆå¦‚ Edm.String, Edm.Int32, Edm.DateTimeOffsetï¼‰ã€‚è¿™ç§å¼ºç±»å‹çº¦æŸç¡®ä¿äº†è·¨å¹³å°ã€è·¨è¯­è¨€çš„æ•°æ®äº¤æ¢å…·æœ‰é«˜åº¦çš„ä¸€è‡´æ€§ã€‚</li>\n<li><strong>å¤æ‚ç±»å‹</strong>ï¼šå…è®¸å°†ä¸€ç»„æ ‡é‡å±æ€§ç»„åˆåœ¨ä¸€èµ·ï¼Œå½¢æˆå¯é‡ç”¨çš„ç»“æ„ï¼Œä½†å…¶æœ¬èº«ä¸å…·å¤‡å”¯ä¸€æ ‡è¯†ï¼Œå¿…é¡»ä¾é™„äºå®ä½“å­˜åœ¨ã€‚</li>\n<li><strong>å¯¼èˆªå±æ€§ (Navigation Properties)</strong>ï¼šæè¿°äº†å®ä½“ä¹‹é—´çš„å…³è”å…³ç³»ã€‚é€šè¿‡å¯¼èˆªå±æ€§ï¼Œå®¢æˆ·ç«¯å¯ä»¥ä»ä¸€ä¸ªå®ä½“è·³è½¬åˆ°å¦ä¸€ä¸ªç›¸å…³è”çš„å®ä½“æˆ–å®ä½“é›†ï¼Œè¿™æ„æˆäº† OData å¼ºå¤§çš„å›¾å¯¼èˆªèƒ½åŠ›ã€‚</li>\n</ol>\n<h3 id=\"æœåŠ¡æ–‡æ¡£ä¸å…ƒæ•°æ®æ–‡æ¡£çš„ä»·å€¼\"><strong>æœåŠ¡æ–‡æ¡£ä¸å…ƒæ•°æ®æ–‡æ¡£çš„ä»·å€¼</strong></h3>\n<p>ä¸ºäº†å®ç°å®¢æˆ·ç«¯çš„â€œè‡ªå‘ç°â€èƒ½åŠ›ï¼Œæ¯ä¸€ä¸ª OData æœåŠ¡éƒ½å¿…é¡»æä¾›ä¸¤ä¸ªæ ¸å¿ƒæ–‡æ¡£ï¼š</p>\n<ul>\n<li><strong>æœåŠ¡æ–‡æ¡£ (Service Document)</strong>ï¼šä½äºæœåŠ¡æ ¹è·¯å¾„ï¼ˆå¦‚ <a href=\"http://host/service/%EF%BC%89%EF%BC%8C%E5%88%97%E5%87%BA%E6%89%80%E6%9C%89%E5%8F%AF%E7%94%A8%E7%9A%84%E5%AE%9E%E4%BD%93%E9%9B%86%E3%80%81%E5%87%BD%E6%95%B0%E5%92%8C%E5%8D%95%E4%BE%8B%EF%BC%8C%E4%B8%BA%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%8F%90%E4%BE%9B%E5%AF%BC%E8%88%AA%E7%9A%84%E5%85%A5%E5%8F%A3%E7%82%B9%E3%80%82\" rel=\"noopener nofollow\" target=\"_blank\">http://host/service/ï¼‰ï¼Œåˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„å®ä½“é›†ã€å‡½æ•°å’Œå•ä¾‹ï¼Œä¸ºå®¢æˆ·ç«¯æä¾›å¯¼èˆªçš„å…¥å£ç‚¹ã€‚</a></li>\n<li><strong>å…ƒæ•°æ®æ–‡æ¡£ (Metadata Document)</strong>ï¼šä½äº $metadata è·¯å¾„ä¸‹ï¼Œé‡‡ç”¨é€šç”¨æ¶æ„å®šä¹‰è¯­è¨€ï¼ˆCSDLï¼‰ç¼–å†™ã€‚å®ƒæ˜¯æœåŠ¡çš„â€œè¯´æ˜ä¹¦â€ï¼Œè¯¦ç»†æè¿°äº†æ¯ç§ç±»å‹çš„å±æ€§ã€é”®ã€å¯¼èˆªè·¯å¾„åŠæ”¯æŒçš„æ“ä½œã€‚</li>\n</ul>\n<p>è¿™ç§å…ƒæ•°æ®é©±åŠ¨çš„æ¶æ„ä½¿å¾—é€šç”¨å·¥å…·ï¼ˆå¦‚ Excelã€Power BIã€Salesforce Connect ç­‰ï¼‰èƒ½å¤Ÿä»…é€šè¿‡è§£æ $metadata å³å¯ç†è§£æœåŠ¡çš„å…¨éƒ¨ç»“æ„ï¼Œä»è€Œå®ç°é›¶é…ç½®çš„æ•°æ®é›†æˆã€‚</p>\n<h2 id=\"ä¸‰ç³»ç»ŸæŸ¥è¯¢é€‰é¡¹url-é©±åŠ¨çš„æ•°æ®åˆ†æèƒ½åŠ›\"><strong>ä¸‰ã€ç³»ç»ŸæŸ¥è¯¢é€‰é¡¹ï¼šURL é©±åŠ¨çš„æ•°æ®åˆ†æèƒ½åŠ›</strong></h2>\n<p>OData æœ€ä»¤ä¸šç•Œç§°é“çš„ç‰¹æ€§æ˜¯å…¶æä¸ºä¸°å¯Œçš„æŸ¥è¯¢è¯­è¨€ã€‚é€šè¿‡åœ¨ URL ä¸­é™„åŠ ç³»ç»ŸæŸ¥è¯¢é€‰é¡¹ï¼ˆä»¥ $ ç¬¦å·å¼€å¤´ï¼‰ï¼Œå®¢æˆ·ç«¯å¯ä»¥ç²¾ç¡®æ§åˆ¶æœåŠ¡å™¨è¿”å›çš„æ•°æ®å†…å®¹å’Œæ ¼å¼ï¼Œä»è€Œæå¤§åœ°ç¼“è§£äº† REST æ¶æ„ä¸­å¸¸è§çš„â€œè¿‡åº¦è·å–â€ï¼ˆOver-fetchingï¼‰å’Œâ€œè·å–ä¸è¶³â€ï¼ˆUnder-fetchingï¼‰é—®é¢˜ã€‚</p>\n<h3 id=\"åŸºç¡€æŸ¥è¯¢æ“ä½œ\"><strong>åŸºç¡€æŸ¥è¯¢æ“ä½œ</strong></h3>\n<p>ä¸‹è¡¨æ€»ç»“äº† OData ä¸­æœ€å¸¸ç”¨çš„ç³»ç»ŸæŸ¥è¯¢é€‰é¡¹åŠå…¶åŠŸèƒ½ï¼š</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align: left;\">æŸ¥è¯¢é€‰é¡¹</th>\n<th style=\"text-align: left;\">åŠŸèƒ½è¯´æ˜</th>\n<th style=\"text-align: left;\">å…¸å‹ç¤ºä¾‹</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">$filter</td>\n<td style=\"text-align: left;\">åŸºäºé€»è¾‘è¡¨è¾¾å¼ç­›é€‰æ•°æ®ã€‚</td>\n<td style=\"text-align: left;\">Products?$filter=Price lt 10 and startswith(Name,'M')</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">$select</td>\n<td style=\"text-align: left;\">æŒ‡å®šè¿”å›çš„å±æ€§å­—æ®µï¼Œä¼˜åŒ–å¸¦å®½ã€‚</td>\n<td style=\"text-align: left;\">Customers?$select=Name,Email</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">$expand</td>\n<td style=\"text-align: left;\">åµŒå¥—è¿”å›å…³è”å®ä½“ï¼Œå‡å°‘å¾€è¿”è¯·æ±‚ã€‚</td>\n<td style=\"text-align: left;\">Orders?$expand=OrderItems</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">$orderby</td>\n<td style=\"text-align: left;\">å¯¹ç»“æœè¿›è¡Œæ’åºï¼Œæ”¯æŒå¤šå­—æ®µã€‚</td>\n<td style=\"text-align: left;\">Products?$orderby=Price desc, Name</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">$top / $skip</td>\n<td style=\"text-align: left;\">å®ç°å®¢æˆ·ç«¯åˆ†é¡µï¼Œé™åˆ¶è¿”å›æ¡æ•°æˆ–è·³è¿‡å‰ N æ¡ã€‚</td>\n<td style=\"text-align: left;\">Employees?$top=10&amp;$skip=20</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">$count</td>\n<td style=\"text-align: left;\">è¿”å›åŒ¹é…æ¡ä»¶çš„è®°å½•æ€»æ•° ã€‚</td>\n<td style=\"text-align: left;\">Invoices?$count=true</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">$search</td>\n<td style=\"text-align: left;\">æ‰§è¡Œå…¨æ–‡æœç´¢ï¼Œé€‚ç”¨äºéç»“æ„åŒ–æ•°æ®ã€‚</td>\n<td style=\"text-align: left;\">Products?$search=waterproof</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"æ•°æ®èšåˆæ‰©å±•-apply\"><strong>æ•°æ®èšåˆæ‰©å±• ($apply)</strong></h3>\n<p>åœ¨ OData v4.0 ä¸­ï¼Œåè®®å¼•å…¥äº† $apply æ‰©å±•ï¼Œå°† OData ä»ç®€å•çš„ CRUD åè®®æå‡åˆ°äº†åˆ†æå‹åè®®çš„é«˜åº¦ã€‚é€šè¿‡ $applyï¼Œå®¢æˆ·ç«¯å¯ä»¥åœ¨æœåŠ¡ç«¯æ‰§è¡Œç±»ä¼¼äº SQL GROUP BY çš„æ“ä½œã€‚</p>\n<p>æ•°æ®èšåˆçš„æ ¸å¿ƒåœ¨äºä¸€ç³»åˆ—è½¬æ¢ï¼ˆTransformationsï¼‰çš„é¡ºåºæ‰§è¡Œã€‚ä¾‹å¦‚ï¼Œgroupby è½¬æ¢å°†è¾“å…¥é›†åˆ’åˆ†ä¸ºå¤šä¸ªå­é›†ï¼Œè€Œ aggregate åˆ™å¯¹è¿™äº›å­é›†åº”ç”¨èšåˆå‡½æ•°ï¼ˆå¦‚ sum, average, min, max, countdistinctï¼‰ã€‚</p>\n<p>è¿™ç§è½¬æ¢æµæ¨¡å¼æ”¯æŒæåº¦å¤æ‚çš„æŸ¥è¯¢ã€‚ä¾‹å¦‚ï¼Œâ€œæŒ‰æœˆè®¡ç®—æ¯ç§äº§å“çš„å¹³å‡é”€å”®é¢â€å¯ä»¥é€šè¿‡å¤šå±‚èšåˆå®ç°ï¼šé¦–å…ˆæŒ‰äº§å“å’Œæœˆä»½è¿›è¡Œ groupby å¹¶æ±‚å’Œï¼Œç„¶åå¯¹ç»“æœå†æ¬¡æŒ‰äº§å“è¿›è¡Œ groupby å¹¶æ±‚å¹³å‡å€¼ ã€‚è¿™ç§é“¾å¼å¤„ç†èƒ½åŠ›ä½¿å¾— OData èƒ½å¤Ÿèƒœä»»è½»é‡çº§çš„å•†ä¸šæ™ºèƒ½éœ€æ±‚ã€‚</p>\n<h2 id=\"å››å¹¶æ§åˆ¶ä¸æ€§èƒ½ä¼˜åŒ–ç­–ç•¥\"><strong>å››ã€å¹¶æ§åˆ¶ä¸æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</strong></h2>\n<p>åœ¨ä¼ä¸šçº§é«˜å¹¶å‘ç¯å¢ƒä¸‹ï¼Œç¡®ä¿æ•°æ®ä¸€è‡´æ€§ä¸ç³»ç»Ÿå“åº”é€Ÿåº¦æ˜¯è¯„ä»·åè®®ä¼˜åŠ£çš„å…³é”®æŒ‡æ ‡ã€‚OData é€šè¿‡ä¸€ç³»åˆ—ç²¾å¦™çš„è®¾è®¡æä¾›äº†å·¥ä¸šçº§çš„è§£å†³æ–¹æ¡ˆã€‚</p>\n<h3 id=\"ä¹è§‚å¹¶å‘æ§åˆ¶ä¸-etag\"><strong>ä¹è§‚å¹¶å‘æ§åˆ¶ä¸ ETag</strong></h3>\n<p>ç”±äº OData åŸºäºæ— çŠ¶æ€çš„ HTTP åè®®ï¼Œä¼ ç»Ÿçš„æ‚²è§‚é”ï¼ˆPessimistic Lockingï¼‰ä¼šæå¤§æŸå®³æ‰©å±•æ€§å¹¶å¯¼è‡´æ­»é” 16ã€‚å› æ­¤ï¼ŒOData æ¨èå¹¶å®ç°äº†åŸºäºå®ä½“æ ‡ç­¾ï¼ˆETagï¼‰çš„ä¹è§‚å¹¶å‘æ§åˆ¶ã€‚</p>\n<p>å½“æœåŠ¡å™¨è¿”å›å®ä½“æ—¶ï¼Œä¼šåœ¨å“åº”å¤´æˆ–å…ƒæ•°æ®ä¸­åŒ…å«ä¸€ä¸ª ETagï¼Œå®ƒé€šå¸¸æ˜¯å®ä½“å†…å®¹æˆ–ç‰ˆæœ¬å·çš„å“ˆå¸Œå€¼ã€‚å½“å®¢æˆ·ç«¯å°è¯•æ›´æ–°è¯¥å®ä½“æ—¶ï¼Œå¿…é¡»åœ¨ If-Match è¯·æ±‚å¤´ä¸­æºå¸¦è¯¥ ETagã€‚å¦‚æœæœåŠ¡å™¨å‘ç°å­˜å‚¨ä¸­çš„å½“å‰ ETag ä¸å®¢æˆ·ç«¯æä¾›çš„ä¸ä¸€è‡´ï¼Œåˆ™è¯´æ˜åœ¨å®¢æˆ·ç«¯è¯»å–ä¹‹åï¼Œè¯¥è®°å½•å·²è¢«å…¶ä»–è¿›ç¨‹ä¿®æ”¹ï¼Œæ­¤æ—¶æœåŠ¡å™¨ä¼šè¿”å› 412 Precondition Failedã€‚</p>\n<p>è¿™ä¸€æœºåˆ¶åœ¨ SAP CAPã€ASP.NET Web API ç­‰ä¸»æµæ¡†æ¶ä¸­å¾—åˆ°äº†è‡ªåŠ¨åŒ–å¤„ç†ã€‚ä¾‹å¦‚ï¼Œåœ¨ SAP CAP ä¸­ï¼Œä»…éœ€ä¸ºå±æ€§æ·»åŠ  @odata.etag æ³¨è§£ï¼Œæ¡†æ¶å³å¯è‡ªåŠ¨å®Œæˆæ ¡éªŒé€»è¾‘ï¼Œæ˜¾è‘—é™ä½äº†å¼€å‘æˆæœ¬ã€‚</p>\n<h3 id=\"æ€§èƒ½åŠ é€Ÿå™¨æ‰¹å¤„ç†ä¸æœåŠ¡ç«¯åˆ†é¡µ\"><strong>æ€§èƒ½åŠ é€Ÿå™¨ï¼šæ‰¹å¤„ç†ä¸æœåŠ¡ç«¯åˆ†é¡µ</strong></h3>\n<ol>\n<li><strong>æ‰¹å¤„ç† ($batch)</strong>ï¼š$batch å…è®¸å°†å¤šä¸ªç‹¬ç«‹çš„è¯»å†™è¯·æ±‚åˆå¹¶ä¸ºä¸€ä¸ª HTTP POST è¯·æ±‚ã€‚åˆ†ææ˜¾ç¤ºï¼Œè¿™ä¸ä»…å‡å°‘äº†ç½‘ç»œå¾€è¿”æ—¶é—´ï¼ˆRTTï¼‰ï¼Œè¿˜èƒ½åœ¨æ›´æ–°æ“ä½œä¸­åˆ©ç”¨å•ä¸€çš„åŸå­å·¥ä½œå•å…ƒï¼ˆAtomic Unit of Workï¼‰ï¼Œä»è€Œå‡å°‘æ•°æ®åº“äº‹åŠ¡å¼€é”€å’Œ CPU å ç”¨ 11ã€‚</li>\n<li><strong>æœåŠ¡ç«¯åˆ†é¡µ ($skiptoken)</strong>ï¼šä¸ç®€å•çš„åç§»é‡åˆ†é¡µï¼ˆ$skipï¼‰ä¸åŒï¼ŒæœåŠ¡ç«¯åˆ†é¡µåˆ©ç”¨ $skiptoken è¿”å›ä¸€ä¸ªä¸é€æ˜çš„ä»¤ç‰Œï¼Œè¯¥ä»¤ç‰Œé€šå¸¸å¯¹åº”æ•°æ®åº“æ¸¸æ ‡æˆ–ä¸Šä¸€æ¬¡æŸ¥è¯¢çš„æœ€åä¸€æ¡è®°å½•çš„é”®å€¼ 12ã€‚å¯¹äºå¤§å‹æ•°æ®é›†ï¼Œ$skiptoken çš„æŸ¥è¯¢é€Ÿåº¦è¿œé«˜äº $skipï¼Œå› ä¸ºå®ƒé¿å…äº†æ•°æ®åº“å¼•æ“æ‰«æå¹¶ä¸¢å¼ƒå‰åºè®°å½•çš„æ€§èƒ½æŸè€— 12ã€‚</li>\n</ol>\n<table>\n<thead>\n<tr>\n<th style=\"text-align: left;\">ä¼˜åŒ–æŠ€æœ¯</th>\n<th style=\"text-align: left;\">ä¸»è¦æ”¶ç›Š</th>\n<th style=\"text-align: left;\">é€‚ç”¨åœºæ™¯</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\"><strong>$batch</strong></td>\n<td style=\"text-align: left;\">å‡å°‘ RTTï¼Œä¿è¯åŸå­æ€§ã€‚</td>\n<td style=\"text-align: left;\">æ‰¹é‡æ›´æ–°éå…³è”å®ä½“ï¼Œå‡å°‘ç§»åŠ¨ç«¯ç”µé‡æŸè€— ã€‚</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"><strong>$expand</strong></td>\n<td style=\"text-align: left;\">è§£å†³ N+1 æŸ¥è¯¢é—®é¢˜ã€‚</td>\n<td style=\"text-align: left;\">è·å–ä¸»è¡¨åŠå…¶æ˜ç»†è¡Œï¼ˆå¦‚è®¢å•ä¸é¡¹ï¼‰ã€‚</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"><strong>$select</strong></td>\n<td style=\"text-align: left;\">å‡å° Payload ä½“ç§¯ã€‚</td>\n<td style=\"text-align: left;\">ä»…è·å– ID å’Œåç§°ç”¨äºå±•ç¤ºåˆ—è¡¨ã€‚</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"><strong>$skiptoken</strong></td>\n<td style=\"text-align: left;\">ç¨³å®šé«˜æ•ˆçš„å¤§æ•°æ®é›†åˆ†é¡µã€‚</td>\n<td style=\"text-align: left;\">æ— é™æ»šåŠ¨åˆ—è¡¨ï¼Œå¤§å‹æŠ¥è¡¨å¯¼å‡ºã€‚</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"><strong>GZIP å‹ç¼©</strong></td>\n<td style=\"text-align: left;\">æ˜¾è‘—å‡å°‘ç½‘ç»œæµé‡ã€‚</td>\n<td style=\"text-align: left;\">æ‰€æœ‰ç”Ÿäº§ç¯å¢ƒçš„ OData æœåŠ¡ 20ã€‚</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"äº”-æ™ºèƒ½åŒ–é›†æˆmodel-context-protocol-mcp-ä¸-odata-çš„ååŒ\"><strong>äº”ã€ æ™ºèƒ½åŒ–é›†æˆï¼šModel Context Protocol (MCP) ä¸ OData çš„ååŒ</strong></h2>\n<p>éšç€å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰æˆä¸ºä¼ä¸šç”Ÿäº§åŠ›çš„æ ¸å¿ƒï¼ŒAPI åè®®çš„â€œæœºå™¨å¯ç†è§£æ€§â€å˜å¾—è‡³å…³é‡è¦ã€‚OData çš„å…ƒæ•°æ®é©±åŠ¨ç‰¹æ€§ä½¿å…¶æˆä¸º LLM è½åœ°æœ€ç†æƒ³çš„åœŸå£¤ã€‚</p>\n<h3 id=\"è¯­ä¹‰æ¥åœ°-semantic-grounding-çš„æŒ‘æˆ˜\"><strong>è¯­ä¹‰æ¥åœ° (Semantic Grounding) çš„æŒ‘æˆ˜</strong></h3>\n<p>LLM åœ¨ç”ŸæˆæŸ¥è¯¢è¯­å¥æ—¶å¸¸é¢ä¸´â€œå¹»è§‰â€é—®é¢˜ï¼Œå³ç”Ÿæˆä¸å­˜åœ¨çš„å®ä½“åæˆ–å±æ€§åã€‚OData çš„å…ƒæ•°æ®æ–‡æ¡£æä¾›äº†ä¸€ä¸ªå®Œç¾çš„å‚è€ƒåæ ‡ç³»ï¼ˆGrounding Layerï¼‰ã€‚é€šè¿‡æä¾›å¼ºç±»å‹çš„ EDM æè¿°ï¼Œæ¨¡å‹å¯ä»¥å‡†ç¡®è·çŸ¥ç³»ç»Ÿè¾¹ç•Œï¼Œç”Ÿæˆçš„æŸ¥è¯¢è¯­å¥ï¼ˆå¦‚ Text-to-ODataï¼‰å…¶å‡†ç¡®ç‡è¿œé«˜äºéç»“æ„åŒ–çš„ REST APIã€‚</p>\n<h3 id=\"model-context-protocol-mcp-çš„å´›èµ·\"><strong>Model Context Protocol (MCP) çš„å´›èµ·</strong></h3>\n<p>Model Context Protocol æ˜¯ 2024 å¹´åº•æ¨å‡ºçš„å¼€æºæ ‡å‡†ï¼Œæ—¨åœ¨è¿æ¥ AI åŠ©æ‰‹ä¸å¤–éƒ¨åº”ç”¨ ,MC æœåŠ¡å™¨ä½œä¸º AI çš„â€œæ„Ÿå®˜â€ï¼Œå¯ä»¥å®æ—¶è·å–å¤–éƒ¨ç³»ç»Ÿçš„ä¸Šä¸‹æ–‡ã€‚ç”±äº OData æœåŠ¡è‡ªå¸¦æœºå™¨å¯è¯»çš„å…ƒæ•°æ®ï¼Œå°† OData æœåŠ¡è½¬æ¢ä¸º MCP èŠ‚ç‚¹æå¤§åœ°é™ä½äº† AI ä»£ç†ï¼ˆAgentï¼‰ä¸ä¼ä¸šæ•°æ®äº¤äº’çš„æˆæœ¬ ã€‚</p>\n<h4 id=\"æ·±åº¦è°ƒç ”query-craft-mcp-åŠå…¶æŠ€æœ¯æ¶æ„\"><strong>æ·±åº¦è°ƒç ”ï¼šQuery-Craft-MCP åŠå…¶æŠ€æœ¯æ¶æ„</strong></h4>\n<p>ç”± AM10101010 å¼€å‘çš„ query-craft-mcp æ˜¯è¿™ä¸€é¢†åŸŸçš„å…ˆé”‹å·¥å…·ã€‚å®ƒå……å½“äº† LLM ä¸ OData æœåŠ¡ä¹‹é—´çš„è¯­ä¹‰æ¡¥æ¢ï¼Œè§£å†³ OData v4 è¯­æ³•å¤æ‚ä¸”å¯¹å¤§å°å†™æ•æ„Ÿçš„é—®é¢˜ã€‚</p>\n<p>æ ¹æ®å¯¹è¯¥é¡¹ç›®çš„æ·±å…¥åˆ†æï¼Œå…¶æŠ€æœ¯å®ç°åŒ…å«ä»¥ä¸‹æ ¸å¿ƒèƒ½åŠ›ï¼š</p>\n<ol>\n<li><strong>å…ƒæ•°æ®æ„ŸçŸ¥ç”Ÿæˆ</strong>ï¼šè¯¥å·¥å…·ä½¿ç”¨ .NET 9 SDK å’Œ Microsoft.OData.Edm åº“è§£æ $metadata XMLï¼Œåœ¨å†…å­˜ä¸­æ„å»ºå®ä½“ã€å±æ€§ã€é”®å’Œå¯¼èˆªé“¾æ¥çš„ç´¢å¼•ã€‚è¿™ç¡®ä¿äº† AI æ¥æ”¶åˆ°çš„ context æ˜¯åŸºäºçœŸå®æ¶æ„çš„ï¼Œä»æ ¹æœ¬ä¸Šæ¶ˆé™¤äº†å¹»è§‰ã€‚</li>\n<li><strong>å¯¼èˆªè·¯å¾„å‘ç° (BFS ç®—æ³•)</strong>ï¼šè¿™æ˜¯ Query-Craft-MCP çš„ä¸€å¤§äº®ç‚¹ã€‚å®ƒå®ç°äº†ä¸€ä¸ªåŸºäºå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰çš„éå†å™¨ï¼Œèƒ½å¤Ÿè‡ªåŠ¨æ‰¾åˆ°è¿æ¥ä¸¤ä¸ªç›¸å…³å®ä½“çš„æœ€çŸ­ $expand é“¾ã€‚ä¾‹å¦‚ï¼Œå½“ç”¨æˆ·è¯¢é—®â€œæ˜¾ç¤ºè´­ä¹°è¿‡ç‰¹å®šäº§å“çš„å®¢æˆ·â€æ—¶ï¼ŒAI èƒ½å¤Ÿè‡ªåŠ¨æ¨å¯¼å‡º Orders/OrderDetails/Product çš„å¯¼èˆªè·¯å¾„ï¼Œè€Œæ— éœ€å¼€å‘è€…æ‰‹åŠ¨ç¼–å†™å¤æ‚çš„ join é€»è¾‘ã€‚</li>\n<li><strong>è¿è¡Œå‰éªŒè¯</strong>ï¼šå·¥å…·åœ¨å°†ç”Ÿæˆçš„æŸ¥è¯¢å‘é€åˆ°çœŸæ­£çš„æ•°æ®æºä¹‹å‰ï¼Œä¼šæ ¹æ®å†…å­˜ä¸­çš„ç´¢å¼•è¿›è¡Œè¯­æ³•å’Œè¯­ä¹‰éªŒè¯ï¼Œæ‹¦æˆªç±»å‹ä¸åŒ¹é…æˆ–å±æ€§ä¸å­˜åœ¨ç­‰é”™è¯¯ã€‚</li>\n<li><strong>å®¢æˆ·ç«¯è¾…åŠ©èšåˆ</strong>ï¼šé’ˆå¯¹æŸäº›ä»…æ”¯æŒåŸºç¡€ v4 åŠŸèƒ½è€Œä¸æ”¯æŒé«˜çº§ $apply æ‰©å±•çš„æœåŠ¡å™¨ï¼ŒQuery-Craft-MCP æä¾›äº†å®¢æˆ·ç«¯èšåˆå¼•æ“ï¼Œå¯ä»¥åœ¨æœ¬åœ°å¯¹ç»“æœé›†æ‰§è¡Œ GROUP BY, SUM, AVG ç­‰ç»Ÿè®¡æ“ä½œ ã€‚</li>\n</ol>\n<table>\n<thead>\n<tr>\n<th style=\"text-align: left;\">å·¥å…·åç§°</th>\n<th style=\"text-align: left;\">æ ¸å¿ƒèŒè´£</th>\n<th style=\"text-align: left;\">åœ¨ AI å·¥ä½œæµä¸­çš„è§’è‰²</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">list-entities</td>\n<td style=\"text-align: left;\">æš´éœ²å®ä½“æ¸…å•ã€‚</td>\n<td style=\"text-align: left;\">å¸®åŠ© LLM è¯†åˆ«å½“å‰ä¸šåŠ¡åœºæ™¯æ¶‰åŠçš„å¯¹è±¡ã€‚</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">find-navigation-path</td>\n<td style=\"text-align: left;\">è·¯å¾„æ¨å¯¼ã€‚</td>\n<td style=\"text-align: left;\">è§£å†³è·¨è¡¨/è·¨å®ä½“çš„å…³ç³»é“¾æ¥é—®é¢˜ã€‚</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">validate-query</td>\n<td style=\"text-align: left;\">è´¨é‡æŠŠæ§ã€‚</td>\n<td style=\"text-align: left;\">å……å½“è¯­ä¹‰ç¼–è¯‘å™¨ï¼Œç¡®ä¿ç”Ÿæˆçš„ OData è¯­æ³•æ­£ç¡®ã€‚</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">execute-odata-query</td>\n<td style=\"text-align: left;\">æ•°æ®æ£€ç´¢ã€‚</td>\n<td style=\"text-align: left;\">æ‰§è¡ŒçœŸæ­£çš„ HTTP è¯·æ±‚å¹¶å°† JSON è¿”å›ç»™ AIã€‚</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"ç»“è®ºæ•°æ®äº’æ“ä½œçš„æ ‡å‡†åŒ–é«˜åœ°\"><strong>ç»“è®ºï¼šæ•°æ®äº’æ“ä½œçš„æ ‡å‡†åŒ–é«˜åœ°</strong></h2>\n<p>é€šè¿‡å¯¹ OData çš„æ·±åº¦è°ƒç ”ï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ™°åœ°çœ‹åˆ°ï¼Œå®ƒä¸ä»…ä»…æ˜¯ä¸€ä¸ªè¿‡å»çš„ä¼ä¸šæ ‡å‡†ï¼Œæ›´æ˜¯ä¸€ä¸ªé¢å‘æœªæ¥çš„è¯­ä¹‰äº’æ“ä½œæ¡†æ¶ã€‚å…¶å¼ºç±»å‹çš„ EDM æ¶æ„ï¼Œä¸ºå½“ä»Šå¤§è¯­è¨€æ¨¡å‹çš„â€œè½åœ°â€æä¾›äº†æœ€ç¨³å›ºçš„è¯­ä¹‰é”šç‚¹ï¼›è€Œå…¶ä¸°å¯Œçš„æŸ¥è¯¢ä¸èšåˆèƒ½åŠ›ï¼Œåˆ™ä¸ºä¼ä¸šä½ä»£ç å¹³å°å’Œè‡ªåŠ¨åŒ– Agent çš„æ„å»ºæä¾›äº†å³æ’å³ç”¨çš„åˆ†æå¼•æ“ã€‚</p>\n<p>OData åœ¨é‡‘èã€ä¾›åº”é“¾åŠæ ¸å¿ƒ ERP ç­‰å¯¹æ•°æ®ä¸¥è°¨æ€§è¦æ±‚æé«˜çš„åœºæ™¯ä¸‹ï¼Œå…¶åœ°ä½ä¾ç„¶ä¸å¯æ›¿ä»£ã€‚å¯¹äºå¯»æ±‚æ„å»ºâ€œAI Readyâ€æ•°æ®æ¶æ„çš„ä¼ä¸šè€Œè¨€ï¼Œé€‰æ‹©å¹¶ä¼˜åŒ– OData æœåŠ¡ï¼Œé…åˆå¦‚ Query-Craft-MCP è¿™æ ·çš„æ™ºèƒ½åŒ–ä¸­é—´ä»¶ï¼Œå°†æ˜¯é€šå¾€è¯­ä¹‰æ™ºèƒ½æ—¶ä»£çš„å¿…ç»ä¹‹è·¯ã€‚</p>\n<p>æœªæ¥çš„ç«äº‰å°†ä¸å†ä»…ä»…æ˜¯æ•°æ®çš„è§„æ¨¡ä¹‹äº‰ï¼Œè€Œæ˜¯æ•°æ®â€œè¢«ç†è§£â€çš„é€Ÿåº¦ä¸å‡†ç¡®åº¦ä¹‹äº‰ã€‚OData åè®®åŠå…¶èƒŒåçš„å…ƒæ•°æ®ç²¾ç¥ï¼Œæ­£æ˜¯è¿™åœºç«èµ›ä¸­çš„å…³é”®èƒœè´Ÿæ‰‹ã€‚</p>\n<h4 id=\"å¼•ç”¨çš„è‘—ä½œ\"><strong>å¼•ç”¨çš„è‘—ä½œ</strong></h4>\n<ol>\n<li>Open Data Protocol - Wikipedia <a href=\"https://en.wikipedia.org/wiki/Open_Data_Protocol\" rel=\"noopener nofollow\" target=\"_blank\">https://en.wikipedia.org/wiki/Open_Data_Protocol</a></li>\n<li>OData - the Best Way to RESTï¼Œ <a href=\"https://www.odata.org/\" rel=\"noopener nofollow\" target=\"_blank\">https://www.odata.org/</a></li>\n<li>OData overview  <a href=\"https://learn.microsoft.com/en-us/odata/overview\" rel=\"noopener nofollow\" target=\"_blank\">https://learn.microsoft.com/en-us/odata/overview</a></li>\n<li>Model-driven Development of OData Services, è®¿é—®æ—¶é—´ä¸º äºŒæœˆ 10, 2026ï¼Œ <a href=\"https://modeling-languages.com/model-driven-development-of-odata-services/\" rel=\"noopener nofollow\" target=\"_blank\">https://modeling-languages.com/model-driven-development-of-odata-services/</a></li>\n<li>QueryCraft | MCP Servers - LobeHub <a href=\"https://lobehub.com/nl/mcp/am10101010-query-craft-mcp\" rel=\"noopener nofollow\" target=\"_blank\">https://lobehub.com/nl/mcp/am10101010-query-craft-mcp</a></li>\n<li>Why AI in Analytics Needs Metadata - GoodData,  <a href=\"https://www.gooddata.com/blog/why-ai-in-analytics-needs-metadata/\" rel=\"noopener nofollow\" target=\"_blank\">https://www.gooddata.com/blog/why-ai-in-analytics-needs-metadata/</a></li>\n<li>Optimizing an LLM-Based Clinical Data Querying System Using Metadata Enrichment and Task Decomposition   <a href=\"https://www.medrxiv.org/content/10.64898/2025.12.22.25342863v1.full.pdf\" rel=\"noopener nofollow\" target=\"_blank\">https://www.medrxiv.org/content/10.64898/2025.12.22.25342863v1.full.pdf</a></li>\n<li>Optimizing an LLM-Based Clinical Data Querying System Using Metadata Enrichment and Task Decomposition | medRxiv <a href=\"https://www.medrxiv.org/content/10.64898/2025.12.22.25342863v1\" rel=\"noopener nofollow\" target=\"_blank\">https://www.medrxiv.org/content/10.64898/2025.12.22.25342863v1</a></li>\n<li>The Model Context Protocol's impact on 2025 | Thoughtworks United States, è®¿é—®æ—¶é—´ä¸º äºŒæœˆ 10, 2026ï¼Œ <a href=\"https://www.thoughtworks.com/en-us/insights/blog/generative-ai/model-context-protocol-mcp-impact-2025\" rel=\"noopener nofollow\" target=\"_blank\">https://www.thoughtworks.com/en-us/insights/blog/generative-ai/model-context-protocol-mcp-impact-2025</a></li>\n</ol>\n\n\n</div>\n<div id=\"MySignature\">\n    <p>æ¬¢è¿å¤§å®¶æ‰«æä¸‹é¢äºŒç»´ç æˆä¸ºæˆ‘çš„å®¢æˆ·ï¼Œæ‰¶ä½ ä¸Šäº‘</p>\n<img src=\"https://images.cnblogs.com/cnblogs_com/shanyou/57459/o_220125090408_%E9%82%80%E8%AF%B7%E4%BA%8C%E7%BB%B4%E7%A0%81-258px.jpeg\" width=\"170\" />\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-02-10 20:40</span>&nbsp;\n<a href=\"https://www.cnblogs.com/shanyou\">å¼ å–„å‹</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">14</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "ä¸€å¤©ä¸€ä¸ªPythonåº“ï¼šwheel - Python æ‰“åŒ…çš„è½®å­ï¼Œé«˜æ•ˆåˆ†å‘åˆ©å™¨",
      "link": "https://www.cnblogs.com/min2k/p/19600605",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/min2k/p/19600605\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-02-10 16:36\">\n    <span>ä¸€å¤©ä¸€ä¸ªPythonåº“ï¼šwheel - Python æ‰“åŒ…çš„è½®å­ï¼Œé«˜æ•ˆåˆ†å‘åˆ©å™¨</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h1 id=\"wheel---python-æ‰“åŒ…çš„è½®å­é«˜æ•ˆåˆ†å‘åˆ©å™¨\">wheel - Python æ‰“åŒ…çš„è½®å­ï¼Œé«˜æ•ˆåˆ†å‘åˆ©å™¨</h1>\n<h2 id=\"ä¸€ä»€ä¹ˆæ˜¯wheel\">ä¸€ã€ä»€ä¹ˆæ˜¯wheelï¼Ÿ</h2>\n<p><strong>wheel</strong> æ˜¯ä¸€ä¸ªç”¨äº Python åˆ†å‘åŒ…çš„æ ‡å‡†æ ¼å¼å’Œå·¥å…·çš„ Python åº“ã€‚<br />\nå®ƒå¯ä»¥å¸®åŠ©ä½ ï¼š</p>\n<ul>\n<li>åˆ›å»º <code>.whl</code> æ–‡ä»¶ï¼Œè¿™æ˜¯ä¸€ç§å³è£…å³ç”¨çš„åˆ†å‘æ ¼å¼ã€‚</li>\n<li>å®ç°æ›´å¿«é€Ÿã€æ›´å¯é çš„åŒ…å®‰è£…ã€‚</li>\n<li>é¿å…åœ¨å®‰è£…è¿‡ç¨‹ä¸­è¿›è¡Œæºä»£ç ç¼–è¯‘ï¼Œä»è€Œç®€åŒ–ä¾èµ–ç®¡ç†ã€‚</li>\n<li>ç¡®ä¿ä¸åŒç³»ç»Ÿé—´çš„äºŒè¿›åˆ¶å…¼å®¹æ€§ï¼ˆåœ¨æŸäº›æƒ…å†µä¸‹ï¼‰ã€‚</li>\n</ul>\n<h2 id=\"äºŒåº”ç”¨åœºæ™¯\">äºŒã€åº”ç”¨åœºæ™¯</h2>\n<p><strong>wheel</strong> å¹¿æ³›åº”ç”¨äºä»¥ä¸‹å®é™…åœºæ™¯ï¼š</p>\n<ul>\n<li><strong>å¿«é€Ÿéƒ¨ç½²</strong>: å½“ä½ éœ€è¦å°†ä¸€ä¸ª Python åº”ç”¨æˆ–åº“å¿«é€Ÿéƒ¨ç½²åˆ°å¤šä¸ªç¯å¢ƒä¸­æ—¶ï¼Œ<code>wheel</code> æ–‡ä»¶å¯ä»¥æ˜¾è‘—åŠ å¿«å®‰è£…é€Ÿåº¦ã€‚</li>\n<li><strong>æ„å»ºç§æœ‰ PyPI</strong>: å¦‚æœä½ åœ¨ä¼ä¸šå†…éƒ¨ç»´æŠ¤ä¸€ä¸ªç§æœ‰çš„ PyPI ä»“åº“ï¼Œé€šå¸¸ä¼šå°†å†…éƒ¨åº“æ‰“åŒ…æˆ <code>wheel</code> æ–‡ä»¶ä»¥ä¾¿äºå‘˜å·¥å®‰è£…ã€‚</li>\n<li><strong>æŒç»­é›†æˆ/æŒç»­éƒ¨ç½² (CI/CD)</strong>: åœ¨ CI/CD ç®¡é“ä¸­ï¼Œç”Ÿæˆå’Œåˆ†å‘ <code>wheel</code> æ–‡ä»¶æ˜¯éƒ¨ç½² Python é¡¹ç›®çš„å¸¸è§æ­¥éª¤ï¼Œå¯ä»¥æé«˜æ„å»ºæ•ˆç‡ã€‚</li>\n<li><strong>è·¨å¹³å°åˆ†å‘</strong>: å¯¹äºåŒ…å« C æ‰©å±•çš„ Python åº“ï¼Œ<code>wheel</code> å¯ä»¥é¢„ç¼–è¯‘è¿™äº›æ‰©å±•ï¼Œé¿å…ç”¨æˆ·åœ¨å®‰è£…æ—¶è¿›è¡Œç¼–è¯‘ï¼Œå‡å°‘å®‰è£…å¤±è´¥çš„å¯èƒ½æ€§ã€‚</li>\n</ul>\n<h2 id=\"ä¸‰å¦‚ä½•å®‰è£…\">ä¸‰ã€å¦‚ä½•å®‰è£…</h2>\n<ol>\n<li>ä½¿ç”¨ pip å®‰è£…</li>\n</ol>\n<pre><code class=\"language-bash\">pip install wheel\n\n# å¦‚æœå®‰è£…æ…¢çš„è¯ï¼Œæ¨èä½¿ç”¨å›½å†…é•œåƒæº\npip install wheel -i https://www.python64.cn/pypi/simple/\n</code></pre>\n<ol start=\"2\">\n<li>ä½¿ç”¨ <a href=\"https://www.min2k.com/tools/python-run/\" rel=\"noopener nofollow\" target=\"_blank\">PythonRun</a> åœ¨çº¿è¿è¡Œä»£ç ï¼ˆæ— éœ€æœ¬åœ°å®‰è£…ï¼‰</li>\n</ol>\n<h2 id=\"å››ç¤ºä¾‹ä»£ç \">å››ã€ç¤ºä¾‹ä»£ç </h2>\n<p>æ£€æŸ¥ wheel åŒ…æ˜¯å¦å¯ç”¨ï¼Œå¹¶æ¼”ç¤ºå¦‚ä½•åˆ›å»ºä¸€ä¸ªç®€å•çš„ wheel æ–‡ä»¶ï¼ˆæ¦‚å¿µæ€§ï¼‰ã€‚</p>\n<pre><code class=\"language-python\">import os\nimport subprocess\n\n# æ£€æŸ¥å½“å‰Pythonç¯å¢ƒæ˜¯å¦å®‰è£…äº†wheel\ntry:\n    import wheel\n    wheel_installed = True\nexcept ImportError:\n    wheel_installed = False\n\nif wheel_installed:\n    print(\"Wheel is installed and ready to use.\")\n    # å®é™…åˆ›å»º wheel æ–‡ä»¶éœ€è¦ä¸€ä¸ª setuptools é¡¹ç›®ç»“æ„\n    # è¿™é‡Œæˆ‘ä»¬åªæ¨¡æ‹Ÿä¸€ä¸ªç®€å•çš„æ£€æŸ¥ï¼Œä¸å®é™…æ„å»ºå¤æ‚çš„wheel\n    print(\"To build a wheel, you typically use 'python setup.py bdist_wheel'.\")\n\n    # ç®€å•æ¡ä»¶åˆ¤æ–­ï¼šå¦‚æœå®‰è£…äº†ï¼Œå°±æç¤ºç”¨æˆ·\n    if wheel.__version__:\n        print(f\"Wheel version: {wheel.__version__}\")\n    else:\n        print(\"Could not determine wheel version.\")\n\nelse:\n    print(\"Wheel is not installed. Please install it using 'pip install wheel'.\")\n\n</code></pre>\n<p>ä½¿ç”¨ <a href=\"https://www.min2k.com/tools/python-run/?code=import%20os%0Aimport%20subprocess%0A%0A%23%20%E6%A3%80%E6%9F%A5%E5%BD%93%E5%89%8DPython%E7%8E%AF%E5%A2%83%E6%98%AF%E5%90%A6%E5%AE%89%E8%A3%85%E4%BA%86wheel%0Atry%3A%0A%20%20%20%20import%20wheel%0A%20%20%20%20wheel_installed%20%3D%20True%0Aexcept%20ImportError%3A%0A%20%20%20%20wheel_installed%20%3D%20False%0A%0Aif%20wheel_installed%3A%0A%20%20%20%20print%28%22Wheel%20is%20installed%20and%20ready%20to%20use.%22%29%0A%20%20%20%20%23%20%E5%AE%9E%E9%99%85%E5%88%9B%E5%BB%BA%20wheel%20%E6%96%87%E4%BB%B6%E9%9C%80%E8%A6%81%E4%B8%80%E4%B8%AA%20setuptools%20%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%0A%20%20%20%20%23%20%E8%BF%99%E9%87%8C%E6%88%91%E4%BB%AC%E5%8F%AA%E6%A8%A1%E6%8B%9F%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E6%A3%80%E6%9F%A5%EF%BC%8C%E4%B8%8D%E5%AE%9E%E9%99%85%E6%9E%84%E5%BB%BA%E5%A4%8D%E6%9D%82%E7%9A%84wheel%0A%20%20%20%20print%28%22To%20build%20a%20wheel%2C%20you%20typically%20use%20'python%20setup.py%20bdist_wheel'.%22%29%0A%0A%20%20%20%20%23%20%E7%AE%80%E5%8D%95%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD%EF%BC%9A%E5%A6%82%E6%9E%9C%E5%AE%89%E8%A3%85%E4%BA%86%EF%BC%8C%E5%B0%B1%E6%8F%90%E7%A4%BA%E7%94%A8%E6%88%B7%0A%20%20%20%20if%20wheel.__version__%3A%0A%20%20%20%20%20%20%20%20print%28f%22Wheel%20version%3A%20%7Bwheel.__version__%7D%22%29%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20print%28%22Could%20not%20determine%20wheel%20version.%22%29%0A%0Aelse%3A%0A%20%20%20%20print%28%22Wheel%20is%20not%20installed.%20Please%20install%20it%20using%20'pip%20install%20wheel'.%22%29%0A\" rel=\"noopener nofollow\" target=\"_blank\">PythonRun</a> åœ¨çº¿è¿è¡Œè¿™æ®µä»£ç ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>\n<pre><code class=\"language-text\">Wheel is installed and ready to use.\nTo build a wheel, you typically use 'python setup.py bdist_wheel'.\nWheel version: 0.38.4\n</code></pre>\n<p>ä½¿ç”¨ <a href=\"https://www.min2k.com/tools/mermaid/?code=flowchart%20TB%0A%20%20start%28%28Start%29%29%20--%3E%20A%7BImport%20wheel%20module%3F%7D%3B%0A%20%20A%20--%20Yes%20--%3E%20B%5BSet%20wheel_installed%20%3D%20True%5D%3B%0A%20%20A%20--%20No%20--%3E%20C%5BSet%20wheel_installed%20%3D%20False%5D%3B%0A%20%20B%20--%3E%20D%7BIs%20wheel_installed%20True%3F%7D%3B%0A%20%20C%20--%3E%20D%3B%0A%20%20D%20--%20Yes%20--%3E%20E%5BPrint%20%22Wheel%20is%20installed...%22%5D%3B%0A%20%20E%20--%3E%20F%5BPrint%20building%20instruction%5D%3B%0A%20%20F%20--%3E%20G%7Bwheel.__version__%20exists%3F%7D%3B%0A%20%20G%20--%20Yes%20--%3E%20H%5BPrint%20wheel%20version%5D%3B%0A%20%20G%20--%20No%20--%3E%20I%5BPrint%20%22Could%20not%20determine%20version%22%5D%3B%0A%20%20D%20--%20No%20--%3E%20J%5BPrint%20%22Wheel%20is%20not%20installed...%22%5D%3B%0A%20%20H%20--%3E%20end%28%28End%29%29%3B%0A%20%20I%20--%3E%20end%3B%0A%20%20J%20--%3E%20end%3B\" rel=\"noopener nofollow\" target=\"_blank\">MermaidGo</a> ç»˜åˆ¶ç¤ºä¾‹ä»£ç çš„æµç¨‹å›¾ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>\n<p><img alt=\"MermerGoçš„wheelæµç¨‹å›¾\" class=\"lazyload\" /></p>\n<h2 id=\"äº”å­¦ä¹ èµ„æº\">äº”ã€å­¦ä¹ èµ„æº</h2>\n<ol>\n<li>å¼€æºé¡¹ç›®ï¼š<a href=\"https://github.com/pypa/wheel\" rel=\"noopener nofollow\" target=\"_blank\">wheel</a></li>\n<li>ä¸­æ–‡è‡ªè¿°ï¼š<a href=\"https://www.python64.cn/readme/wheel/\" rel=\"noopener nofollow\" target=\"_blank\">REMDME</a></li>\n<li>åœ¨çº¿è¿è¡Œï¼š<a href=\"https://www.min2k.com/tools/python-run/\" rel=\"noopener nofollow\" target=\"_blank\">PythonRun</a></li>\n</ol>\n<blockquote>\n<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµã€æ”¶è—ã€è½¬å‘ï¼<br />\nå­¦ä¹ è¿‡ç¨‹ä¸­æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€äº¤æµï½</p>\n</blockquote>\n\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-02-10 16:36</span>&nbsp;\n<a href=\"https://www.cnblogs.com/min2k\">æ•ç¼–ç¨‹</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">32</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "å…¨ç½‘æœ€ç®€å•çš„ OpenClaw éƒ¨ç½²æ•™ç¨‹ï¼Œ5 åˆ†é’Ÿæ‹¥æœ‰ä½ çš„ AI å‘˜å·¥",
      "link": "https://www.cnblogs.com/yupi/p/19600386",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/yupi/p/19600386\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-02-10 15:58\">\n    <span>å…¨ç½‘æœ€ç®€å•çš„ OpenClaw éƒ¨ç½²æ•™ç¨‹ï¼Œ5 åˆ†é’Ÿæ‹¥æœ‰ä½ çš„ AI å‘˜å·¥</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                    <div id=\"cnblogs_post_description\" style=\"display: none;\">\n        <img alt=\"å…¨ç½‘æœ€ç®€å•çš„ OpenClaw éƒ¨ç½²æ•™ç¨‹ï¼Œ5 åˆ†é’Ÿæ‹¥æœ‰ä½ çš„ AI å‘˜å·¥\" class=\"desc_img\" src=\"https://img2024.cnblogs.com/blog/2225420/202602/2225420-20260210155738305-451805846.png\" />\n        æœ€è¿‘ OpenClawï¼ˆç”± ClawdBot æ”¹åï¼‰æ˜¯çœŸçš„ç«ï¼Œå®ƒæ˜¯ä¸€ä¸ªèƒ½æ“ä½œç”µè„‘å¹²æ´»çš„ AI æ•°å­—å‘˜å·¥ã€‚èƒ½å¸®ä½ è¯»å†™æ–‡ä»¶ã€ç¼–å†™ç¨‹åºã€æ‰§è¡Œä»»åŠ¡ï¼Œ7Ã—24 å°æ—¶ä¸ä¼‘æ¯ã€‚è€Œä¸”ä½ éšæ—¶éšåœ°æå‡ºæ‰‹æœºå°±èƒ½æ“æ§å®ƒï¼Œè®©å®ƒå¸®ä½ å¹²æ´»ã€‚\næœ€å¿«çš„ã€å‚»ç“œå¼å®‰è£… OpenClaw çš„æ–¹æ³•è¿™å°±æ¥äº†ï¼\n    </div>\n<div class=\"blogpost-body blogpost-body-html\" id=\"cnblogs_post_body\">\n<p class=\"md-end-block md-heading\"><span class=\"md-plain md-expand\"><span style=\"font-size: 14px;\">å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ç¨‹åºå‘˜é±¼çš®ã€‚</span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æœ€è¿‘ OpenClawï¼ˆç”± ClawdBot æ”¹åï¼‰æ˜¯çœŸçš„ç«ï¼Œ<span class=\"md-pair-s \"><strong>å®ƒæ˜¯ä¸€ä¸ªèƒ½æ“ä½œç”µè„‘å¹²æ´»çš„ AI æ•°å­—å‘˜å·¥</strong><span class=\"md-plain\">ã€‚èƒ½å¸®ä½ è¯»å†™æ–‡ä»¶ã€ç¼–å†™ç¨‹åºã€æ‰§è¡Œä»»åŠ¡ï¼Œ7Ã—24 å°æ—¶ä¸ä¼‘æ¯ã€‚è€Œä¸”ä½ éšæ—¶éšåœ°æå‡ºæ‰‹æœºå°±èƒ½æ“æ§å®ƒï¼Œè®©å®ƒå¸®ä½ å¹²æ´»ã€‚</span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç½‘å‹ä¹Ÿæ˜¯æŠŠ OpenClaw ç©å‡ºèŠ±æ¥äº†ï¼š</span></p>\n<ul class=\"ul-list\">\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æœ‰äººè®©å®ƒè‡ªåŠ¨æ¸…ç†ä¸Šä¸‡å°é‚®ä»¶ï¼Œæ”¶ä»¶ç®±ç›´æ¥å¹²æ‰ 45%ï¼Œçœä¸‹å‡ åä¸ªå°æ—¶çš„æ•´ç†æ—¶é—´</span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æœ‰äººç”¨å®ƒæŠ¢æ¼”å”±ä¼šé—¨ç¥¨å’Œæœºç¥¨ï¼Œè®¾å¥½æ¡ä»¶è®©å®ƒæ¯éš”å‡ ç§’åˆ·ä¸€æ¬¡ï¼Œåˆ·åˆ°å°±è‡ªåŠ¨ä¸‹å•</span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æœ‰äººèººåœ¨åºŠä¸Šï¼Œé€šè¿‡æ‰‹æœºé¥æ§å®ƒæŠŠæ•´ä¸ªç½‘ç«™é‡å†™äº†ä¸€é</span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è¿˜æœ‰äººè®©å®ƒåŒæ—¶è·‘å¤šæ¡è‡ªåŠ¨åŒ–ä»»åŠ¡ï¼šä¸€è¾¹ç›¯ç›˜ã€ä¸€è¾¹å†™æ—¥æŠ¥ã€ä¸€è¾¹è‡ªåŠ¨å›ç¾¤æ¶ˆæ¯</span></p>\n</li>\n</ul>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æ›´ç¦»è°±çš„æ˜¯ï¼Œè‹¹æœçš„ Mac Miniï¼ˆå°±æ˜¯é‚£ä¸ªå·´æŒå¤§çš„å°ä¸»æœºï¼‰ç«Ÿç„¶å› ä¸º OpenClaw <span class=\"md-pair-s \"><strong>ç›´æ¥å–æ–­è´§äº†</strong><span class=\"md-plain\">ï¼å› ä¸ºå¾ˆå¤šäººæƒ³ä¹°ä¸€å° 24 å°æ—¶ä¸å…³æœºçš„å°ç”µè„‘è·‘ OpenClawï¼Œè®©å®ƒå½“è‡ªå·±çš„ AI æ‰“å·¥äººã€‚</span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è¿™ç©æ„åˆšå‡ºçš„æ—¶å€™ï¼Œå¥³æœ‹å‹å°±é—®æˆ‘ï¼šçœ‹èµ·æ¥å¥½å‰å®³å•Šï¼Œä½ èƒ½å¸®æˆ‘ä¹Ÿæ•´ä¸€ä¸ªå—ï¼Ÿ</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æˆ‘æ’‡æ’‡å˜´ï¼šä¸æ•´ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å¥¹ç»™äº†æˆ‘ä¸€å·´æŒï¼šæ•´ä¸æ•´ï¼Ÿ</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æˆ‘ä¸€è„¸å§”å±ˆï¼šåˆ«æ•´åˆ«æ•´ï¼Œå†ç­‰ç­‰ï¼Œä¸€å®šä¼šæœ‰æ›´ç®€å•çš„å®‰è£…æ–¹æ³•å‡ºæ¥çš„ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æœç„¶ï¼Œæ²¡è®©æˆ‘ç­‰å¤ªä¹…ï¼Œæœ€å¿«çš„ã€å‚»ç“œå¼å®‰è£… OpenClaw çš„æ–¹æ³•æ¥äº†ï¼</span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<h2 class=\"md-end-block md-heading\"><span class=\"md-plain\">æ€ä¹ˆå®‰è£… OpenClaw</span></h2>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å¾ˆå¤šäººä»¥ä¸ºæƒ³ç© OpenClaw å°±å¾—ä¹°ä¸€å°å®ä½“ç”µè„‘ 24 å°æ—¶å¼€ç€ã€‚ä½†å…¶å®å®Œå…¨æ²¡å¿…è¦ï¼Œ<span class=\"md-pair-s \"><strong>ä¸€å°äº‘æœåŠ¡å™¨å°±èƒ½æå®š</strong><span class=\"md-plain\">ï¼Œè€Œä¸”æ›´ç¨³å®šã€ä¸æ€•æ–­ç”µæ–­ç½‘ã€éšæ—¶éšåœ°ç”¨æ‰‹æœºå°±èƒ½æŒ‡æŒ¥å®ƒå¹²æ´»ã€‚</span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å°±åœ¨ 2 æœˆ 8 æ—¥ï¼Œç™¾åº¦æ™ºèƒ½äº‘æ¨å‡ºäº† <span class=\"md-pair-s \"><strong>OpenClaw æé€Ÿç®€æ˜“éƒ¨ç½²æ–¹æ¡ˆ</strong><span class=\"md-plain\">ã€‚å“ªæ€•ä½ å®Œå…¨æ²¡æœ‰ç¼–ç¨‹åŸºç¡€ï¼Œåªéœ€è¦ç‚¹å‡ ä¸‹é¼ æ ‡ï¼Œå‡ åˆ†é’Ÿå†…å°±èƒ½æ‹¥æœ‰è‡ªå·±çš„ AI æ•°å­—å‘˜å·¥ã€‚è¿˜æ”¯æŒå„ç§ä¸»æµ AI å¤§æ¨¡å‹ä¸€é”®åˆ‡æ¢ï¼Œç”šè‡³èƒ½ç›´æ¥æŠŠ OpenClaw æ¥å…¥ QQã€é£ä¹¦ã€é’‰é’‰ã€ä¼ä¸šå¾®ä¿¡ï¼Œ<span class=\"md-pair-s \"><strong>åœ¨æ‰‹æœºä¸Šå‘æ¡æ¶ˆæ¯å°±èƒ½æŒ‡æŒ¥ AI å¹²æ´»</strong><span class=\"md-plain\">ã€‚</span></span></span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æ¥ä¸‹æ¥æˆ‘å¸¦å¤§å®¶å®æ“ä¸€ä¸‹ï¼Œå»ºè®®æ”¶è—å¤‡ç”¨ â­ï¸ã€‚</span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<h2 class=\"md-end-block md-heading\"><span class=\"md-plain\">æ‰‹æŠŠæ‰‹éƒ¨ç½² OpenClaw</span></h2>\n<p class=\"md-end-block md-p\"><span class=\"md-pair-s \"><strong>1ï¼‰æä¸€å°äº‘æœåŠ¡å™¨</strong></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä½ å¯ä»¥æŠŠäº‘æœåŠ¡å™¨ç†è§£æˆ <span class=\"md-pair-s \"><strong>ä¸€å°æ”¾åœ¨æœºæˆ¿é‡Œçš„ç”µè„‘</strong><span class=\"md-plain\">ï¼Œ24 å°æ—¶ä¸å…³æœºã€ä¸æ–­ç½‘ï¼Œä½ éšæ—¶éšåœ°éƒ½èƒ½è¿œç¨‹è¿ä¸Šå»ç”¨å®ƒã€‚</span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å…ˆåˆ†äº«ä¸€ç§æœ€ç®€å•è·å–æœåŠ¡å™¨çš„æ–¹æ³•ï¼Œæ‰“å¼€ç™¾åº¦æ™ºèƒ½äº‘ä¸º OpenClaw ç‰¹åˆ¶çš„ã€Œæç®€éƒ¨ç½²é¡µé¢ã€ï¼Œåªéœ€ <span class=\"md-pair-s \"><strong>0.01 å…ƒ</strong><span class=\"md-plain\">ï¼Œå°±èƒ½æŠ¢è´­åˆ°ä¸€å° <span class=\"md-pair-s \"><strong>2æ ¸4G4M</strong><span class=\"md-plain\"> çš„è½»é‡åº”ç”¨æœåŠ¡å™¨ï¼Œå…è´¹ä½“éªŒ 1 ä¸ªæœˆã€‚</span></span></span></span></span></p>\n<blockquote>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æŒ‡è·¯ï¼š<span class=\"md-link md-pair-s\"><a href=\"https://cloud.baidu.com/product/BCC/moltbot.html\" rel=\"noopener nofollow\">https://cloud.baidu.com/product/BCC/moltbot.html</a></span></span></p>\n</blockquote>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è¿™ä¸ªæ´»åŠ¨æ˜¯æ¯å¤©é™é‡çš„ï¼Œæ–°è€ç”¨æˆ·éƒ½èƒ½å‚ä¸ï¼Œæ²¡æƒ³åˆ°æˆ‘è¿æ°”ä¸é”™ï¼Œç¾Šæ¯›è¢«æˆ‘è–…åˆ°äº†å“ˆå“ˆï¼š</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç¨ç­‰ç‰‡åˆ»ï¼ŒæœåŠ¡å™¨å°±åˆå§‹åŒ–å®Œæˆäº†ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç‚¹å‡»ã€Œä¸€é”®éƒ¨ç½²OpenClawã€æŒ‰é’®ï¼Œå°±èƒ½è·³è½¬åˆ°æœåŠ¡å™¨ç®¡ç†é¡µé¢ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å¦‚æœä½ æ²¡æœ‰æˆåŠŸå‚ä¸æ´»åŠ¨ï¼Œä¹Ÿä¸è¦ç°å¿ƒï¼Œå¯ä»¥è¿›å…¥è½»é‡åº”ç”¨æœåŠ¡å™¨æ§åˆ¶å°ï¼Œæ‰‹åŠ¨åˆ›å»ºä¸€å°æœåŠ¡å™¨ã€‚</span></p>\n<blockquote>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æŒ‡è·¯ï¼š<span class=\"md-link md-pair-s\"><a href=\"https://console.bce.baidu.com/ls/#/ls/instance/create\" rel=\"noopener nofollow\">https://console.bce.baidu.com/ls/#/ls/instance/create</a></span></span></p>\n</blockquote>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æ³¨æ„ï¼Œé•œåƒä¸€å®šè¦é€‰æ‹© <span class=\"md-pair-s \"><strong>OpenClaw</strong><span class=\"md-plain\"> åº”ç”¨é•œåƒï¼Œå¥—é¤é€‰æ‹© <span class=\"md-pair-s \"><strong>2 æ ¸ 4GB</strong><span class=\"md-plain\"> å°±å¦¥å¦¥å¤Ÿç”¨äº†ã€‚</span></span></span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç»“ç®—ä¹‹åä¼šè‡ªåŠ¨åˆ›å»ºæœåŠ¡å™¨ï¼Œç„¶åè·Ÿå‰é¢ä¸€æ ·ï¼Œèƒ½å¤Ÿè¿›å…¥åˆ°æœåŠ¡å™¨ç®¡ç†é¡µé¢ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">åšåˆ°è¿™ä¸€æ­¥ï¼Œç›¸å½“äºä½ å·²ç»è·å¾—äº†ä¸€ä½ â€œå³å°†å…¥èŒâ€ çš„ AI å‘˜å·¥ã€‚</span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<p class=\"md-end-block md-p\"><span class=\"md-pair-s \"><strong>2ï¼‰ä¸€é”®å¼€é€šç›¸å…³æœåŠ¡</strong></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">åœ¨æœåŠ¡å™¨ç®¡ç†é¡µé¢ä¸­ï¼Œç‚¹å‡» <span class=\"md-pair-s \"><strong>åº”ç”¨ç®¡ç†</strong><span class=\"md-plain\"> Tabã€‚</span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">é¡µé¢ä¼šæç¤ºä½ éœ€è¦å¼€é€šåƒå¸†å¤§æ¨¡å‹ã€äº‘åŠ©æ‰‹ç­‰å‡ ä¸ªæœåŠ¡ã€‚ä¸ç”¨ä¸€ä¸ªä¸ªå»æ‰¾ï¼Œç›´æ¥ç‚¹ <span class=\"md-pair-s \"><strong>ä¸€é”®å¼€é€š</strong><span class=\"md-plain\">ï¼ŒåŒæ„åè®®å°±æå®šäº†ã€‚</span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<p class=\"md-end-block md-p\"><span class=\"md-pair-s \"><strong>3ï¼‰æ”¾é€šé˜²ç«å¢™ç«¯å£</strong></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å¦‚æœä½ æƒ³è¦è®¿é—®å·²ç»éƒ¨ç½²çš„ OpenClaw ç½‘é¡µæ§åˆ¶å°ï¼Œéœ€è¦æ”¾é€šæœåŠ¡å™¨é˜²ç«å¢™çš„ 18789 ç«¯å£ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç‚¹å‡» <span class=\"md-pair-s \"><strong>ä¸€é”®æ”¾è¡Œ</strong><span class=\"md-plain\"> æŒ‰é’®å°±å¥½ï¼š</span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<p class=\"md-end-block md-p\"><span class=\"md-pair-s \"><strong>4ï¼‰é€‰æ‹© AI æ¨¡å‹</strong></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æ¥ä¸‹æ¥ï¼Œä¸ºä½ çš„ AI å‘˜å·¥æä¾›ä¸€ä¸ªèªæ˜çš„å¤§è„‘å§~</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å¯ä»¥ç›´æ¥åœ¨é¡µé¢ä¸‹æ‹‰é€‰æ‹©ä½ æƒ³è¦çš„æ¨¡å‹ï¼Œå›½äº§çš„ä¸»æµå¤§æ¨¡å‹åŸºæœ¬éƒ½æ”¯æŒï¼ˆæ¯”å¦‚ DeepSeekï¼‰ï¼Œé€‰å®Œç‚¹å‡» <span class=\"md-pair-s \"><strong>åº”ç”¨</strong><span class=\"md-plain\"> å°±è¡Œã€‚</span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç³»ç»Ÿä¼šè‡ªåŠ¨å¸®ä½ åˆ›å»ºè°ƒç”¨å¤§æ¨¡å‹çš„ API å¯†é’¥ï¼Œå¹¶ä¸”æŠŠé…ç½®å…¨éƒ¨æå®šã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç­‰æ‰§è¡ŒæˆåŠŸï¼Œä½ çš„ OpenClaw å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">åšåˆ°è¿™é‡Œï¼Œæ­å–œï¼Œä½ çš„ AI æ•°å­—å‘˜å·¥å·²ç»æ­£å¼å…¥èŒï¼</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å‰ååŠ èµ·æ¥ä¹Ÿå°±å‡ åˆ†é’Ÿï¼Œè€Œä¸”æ•´ä¸ªè¿‡ç¨‹éå¸¸å‚»ç“œå¼ã€‚å¹³å°çœŸçš„æ˜¯å¾ˆç…§é¡¾å°ç™½äº†ï¼Œç”Ÿæ€•å¤šæ“ä½œä¸€æ­¥å°±æŠŠç”¨æˆ·åŠé€€æ‰ã€‚</span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<p class=\"md-end-block md-p\"><span class=\"md-pair-s \"><strong>5ï¼‰è·Ÿä½ çš„ AI å‘˜å·¥èŠèŠå¤©</strong></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç‚¹å‡»é¡µé¢ä¸‹æ–¹çš„ <span class=\"md-pair-s \"><strong>è·å–ç½‘ç«™åœ°å€</strong><span class=\"md-plain\">ï¼š</span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç„¶åæ‰“å¼€é“¾æ¥è¿›å…¥ OpenClaw ç½‘é¡µç«¯ï¼š</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç°åœ¨ä½ å°±å¯ä»¥ç›´æ¥åœ¨ç½‘é¡µä¸Šè·Ÿ OpenClaw å¯¹è¯äº†ï¼Œæ¯”å¦‚å…ˆç»™ä»–å–ä¸ªåå­—å§ï¼Œæˆ‘è¿™é‡Œå«ä»–ä¸ºã€Œé±¼çš®çš„å¤©è‹Ÿã€ï¼š</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å¯ä»¥çœ‹åˆ°ï¼ŒAI è‡ªåŠ¨æ›´æ–°äº†è‡ªå·±çš„èº«ä»½ï¼Œå¹¶ä¸”ä¼šä¸€ç›´ä¿ç•™è¿™æ®µè®°å¿†ã€‚ä¹‹åï¼Œä½ å¯ä»¥é€šè¿‡ä¸æ–­åœ°å¯¹è¯æ¥è®­ç»ƒ AIï¼Œè®©ä»–æˆä¸ºä½ æœ€å¾—åŠ›çš„åŠ©æ‰‹ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä¸è¿‡è¯è¯´å›æ¥ï¼Œæ€»ä¸èƒ½æ¯æ¬¡æƒ³æ‰¾ AI å¸®å¿™éƒ½è·‘å»å¼€ç”µè„‘ã€æ‰“å¼€æµè§ˆå™¨è®¿é—®ç½‘é¡µå§ï¼Ÿé‚£ä¹Ÿå¤ªéº»çƒ¦äº†ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æ€ä¹ˆèƒ½éšæ—¶è”ç³»åˆ°æˆ‘çš„ AI å‘˜å·¥å‘¢ï¼Ÿ</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç­”æ¡ˆå½“ç„¶æ˜¯ï¼š<span class=\"md-pair-s \"><strong>é€šè¿‡æ‰‹æœºç»™ AI å‘˜å·¥å‘æ¶ˆæ¯</strong><span class=\"md-plain\">ã€‚</span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å‡ ä¹æ‰€æœ‰èŠå¤©è½¯ä»¶éƒ½èƒ½æ¥å— OpenClaw è¿™ä½ AI å‘˜å·¥ï¼Œæ¯”å¦‚ QQã€ä¼ä¸šå¾®ä¿¡ã€é’‰é’‰ã€é£ä¹¦ç­‰ç­‰ã€‚ä¸‹é¢æˆ‘å°±ä»¥æ›´é€‚åˆä¸ªäººç”¨æˆ·çš„ QQ ä¸ºä¾‹ï¼Œç»™å¤§å®¶æ¼”ç¤ºå¦‚ä½•åœ¨æ‰‹æœºä¸Šé¥æ§ AI å¹²æ´»ã€‚</span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<h2 class=\"md-end-block md-heading\"><span class=\"md-plain\">åœ¨æ‰‹æœº QQ ä¸Šé¥æ§ AI å¹²æ´»</span></h2>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å¦‚æœä½ ä½¿ç”¨ç™¾åº¦æ™ºèƒ½äº‘å®‰è£… OpenClawï¼Œé‚£ä¹ˆæ¥å…¥ QQ å°±éå¸¸ç®€å•äº†ï¼Œå‡ æ­¥å°±æå®šã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-pair-s \"><strong>1ï¼‰åˆ›å»º QQ æœºå™¨äºº</strong></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æ‰“å¼€ <span class=\"md-meta-i-c  md-link\"><a href=\"https://q.qq.com/\" rel=\"noopener nofollow\"><span class=\"md-plain\">QQ å¼€æ”¾å¹³å°</span></a><span class=\"md-plain\">ï¼Œæ³¨å†Œå¹¶ç™»å½•ï¼š</span></span></span></p>\n<blockquote>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æŒ‡è·¯ï¼š<span class=\"md-link md-pair-s\"><a href=\"https://q.qq.com/\" rel=\"noopener nofollow\">https://q.qq.com</a></span></span></p>\n</blockquote>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç™»å½•æˆåŠŸåï¼Œç‚¹å‡» â€œæœºå™¨äººâ€ Tabï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„æœºå™¨äººï¼š</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç»™ä½ çš„æœºå™¨äººè®¾ç½®ä¸€ä¸ªçˆ±ç§°å’Œå¯çˆ±çš„å¤´åƒå§ï¼Œä¾¿äºä¹‹ååœ¨ QQ ä¸­æ‰¾åˆ°ä»–ï¼š</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<p class=\"md-end-block md-p\"><span class=\"md-pair-s \"><strong>2ï¼‰è®¾ç½®æœºå™¨äºº</strong></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">åˆ›å»ºå®Œæˆåï¼Œè¿›å…¥æœºå™¨äººçš„å¼€å‘ç®¡ç†é¡µé¢ï¼š</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æ‰¾åˆ° <span class=\"md-pair-s \"><strong>AppID</strong><span class=\"md-plain\"> å’Œ <span class=\"md-pair-s \"><strong>AppSecret</strong><span class=\"md-plain\">ï¼Œå¤åˆ¶ä¿å­˜å¥½ï¼Œç­‰ä¼šè¦ç”¨ã€‚</span></span></span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è¿˜è¦æŠŠä½ äº‘æœåŠ¡å™¨çš„ <span class=\"md-pair-s \"><strong>å…¬ç½‘ IP</strong><span class=\"md-plain\"> æ·»åŠ åˆ° IP ç™½åå•é‡Œï¼Œç„¶åä¿å­˜ã€‚</span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">äº‘æœåŠ¡å™¨çš„å…¬ç½‘ IP åœ¨ç™¾åº¦æ™ºèƒ½äº‘çš„æœåŠ¡å™¨ç®¡ç†é¡µé¢å°±èƒ½çœ‹åˆ°ï¼Œæ³¨æ„ä¸è¦æš´éœ²ç»™åˆ«äººå“¦ï¼</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<p class=\"md-end-block md-p\"><span class=\"md-pair-s \"><strong>3ï¼‰å¡«å†™æ¶ˆæ¯å¹³å°é…ç½®</strong></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">åœ¨ç™¾åº¦æ™ºèƒ½äº‘çš„æœåŠ¡å™¨ç®¡ç†é¡µé¢ï¼Œæ‰¾åˆ° <span class=\"md-pair-s \"><strong>æ¶ˆæ¯å¹³å°é…ç½®</strong><span class=\"md-plain\">ï¼Œä¸‹æ‹‰é€‰æ‹© <span class=\"md-pair-s \"><strong>QQ</strong><span class=\"md-plain\">ï¼ŒæŠŠåˆšæ‰çš„ AppID å’Œ AppSecret å¡«è¿›å»ï¼Œç‚¹ <span class=\"md-pair-s \"><strong>åº”ç”¨</strong><span class=\"md-plain\">ï¼Œç­‰å®ƒæ‰§è¡Œå®Œå°±å¥½äº†ã€‚</span></span></span></span></span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<p class=\"md-end-block md-p\"><span class=\"md-pair-s \"><strong>4ï¼‰æ·»åŠ è®¿é—®æœºå™¨äººçš„æƒé™</strong></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å›åˆ° QQ å¼€æ”¾å¹³å°ï¼Œåœ¨æ²™ç®±é…ç½®é‡Œç»™ä½ çš„ QQ è´¦å·ï¼ˆæˆ–è€… QQ ç¾¤ï¼‰æ·»åŠ è®¿é—®æœºå™¨äººçš„æƒé™ï¼š</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç„¶åç”¨ QQ æ‰«ç æ·»åŠ æœºå™¨äººå°±è¡Œäº†ï¼š</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç°åœ¨ï¼Œä½ å¯ä»¥ç›´æ¥åœ¨ QQ ä¸Šè·Ÿä½ çš„ AI æ•°å­—å‘˜å·¥èŠå¤©äº†ï¼š</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä¹‹åï¼Œä½ åªéœ€è¦èººåœ¨åºŠä¸Šæ‰“å¼€ QQï¼Œå°±èƒ½æŒ‡æŒ¥è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„ AI å¹²æ´»ï¼Œå·´é€‚å¾—æ¿~</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">é™¤äº† QQï¼ŒOpenClaw è¿˜æ”¯æŒæ¥å…¥é£ä¹¦ã€é’‰é’‰ã€ä¼ä¸šå¾®ä¿¡ï¼Œé…ç½®æ–¹å¼éƒ½å·®ä¸å¤šï¼Œæœ‰éœ€è¦çš„åŒå­¦å¯ä»¥çœ‹å®˜æ–¹æ•™ç¨‹ï¼š</span></p>\n<ul class=\"ul-list\">\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">OpenClaw æ¥å…¥é’‰é’‰ï¼š<span class=\"md-link md-pair-s\"><a href=\"https://cloud.baidu.com/doc/LS/s/wml9dlyfu\" rel=\"noopener nofollow\">https://cloud.baidu.com/doc/LS/s/wml9dlyfu</a></span></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">OpenClaw æ¥å…¥é£ä¹¦ï¼š<span class=\"md-link md-pair-s\"><a href=\"https://cloud.baidu.com/doc/LS/s/2ml9dnf3j\" rel=\"noopener nofollow\">https://cloud.baidu.com/doc/LS/s/2ml9dnf3j</a></span></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">OpenClaw æ¥å…¥ä¼ä¸šå¾®ä¿¡ï¼š<span class=\"md-link md-pair-s\"><a href=\"https://cloud.baidu.com/doc/LS/s/Nml9dk84r\" rel=\"noopener nofollow\">https://cloud.baidu.com/doc/LS/s/Nml9dk84r</a></span></span></p>\n</li>\n</ul>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä¸è¿‡åˆ«å¯¹ä»–æœ‰å¤ªé«˜çš„è¦æ±‚ï¼Œä½ è¦æ˜¯ç°åœ¨å°±ç»™ä»–å¤æ‚çš„ä»»åŠ¡ï¼Œå¯èƒ½å®ƒä¼š â€œé˜¿å·´é˜¿å·´â€ï¼Œèµ›åšæ™ºéšœã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æ¯”å¦‚æˆ‘é—®ä»–ä¸€ä¸ªéå¸¸ç®€å•çš„é—®é¢˜ï¼Œä»–ç«Ÿç„¶å…ˆç»™æˆ‘æŠ¥äº†ä¸ªé”™ï¼Œç„¶åè¯´è‡ªå·±æ²¡æœ‰è”ç½‘æœç´¢åŠŸèƒ½ï¼Ÿï¼Ÿï¼Ÿ</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è¦æƒ³è®© AI å˜å¾—æ›´å¼ºï¼Œå°±éœ€è¦ç”¨åˆ° Skills äº†ã€‚</span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<h2 class=\"md-end-block md-heading\"><span class=\"md-plain\">ç»™ä½ çš„ AI å‘˜å·¥è£…æŠ€èƒ½åŒ…</span></h2>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">Skills çš„å…¨ç§°æ˜¯ Agent Skillsï¼Œä¹Ÿåœ¨ AI åœˆå„¿ç«å¾—ä¸€å¡Œç³Šæ¶‚ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç®€å•æ¥è¯´ï¼Œå®ƒå°±æ˜¯ç»™ AI è£…å¤‡çš„æŠ€èƒ½åŒ…ï¼Œé‡Œé¢æœ‰ç²¾å¿ƒè®¾è®¡çš„æç¤ºè¯ã€ä»£ç è„šæœ¬ã€è¿˜æœ‰å„ç§èµ„æºæ–‡ä»¶ï¼Œè®© AI èƒ½åœ¨ç‰¹å®šä»»åŠ¡ä¸Šè¡¨ç°å¾—æ›´ä¸“ä¸šã€‚æ¯”å¦‚ä½ ç»™ AI è£…ä¸ª PPT åˆ¶ä½œ Skillsï¼Œä»–å°±ä¼šåš PPT äº†ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä½ å¯ä»¥é€šè¿‡ç»™ OpenClaw å®‰è£…æŠ€èƒ½åŒ…ï¼Œæ¥å¢å¼ºä»–çš„èƒ½åŠ›ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-pair-s \"><strong>æ€ä¹ˆè·å–å’Œå®‰è£…æŠ€èƒ½å‘¢ï¼Ÿ</strong></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å¦‚æœä½ ä½¿ç”¨ç™¾åº¦æ™ºèƒ½äº‘å®‰è£… OpenClawï¼Œå®‰è£…æŠ€èƒ½å°±éå¸¸ç®€å•äº†ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç™¾åº¦åƒå¸†æœ€è¿‘æŠŠè‡ªå®¶çš„ AI èƒ½åŠ›æ‰“åŒ…æˆäº† Skillï¼Œå¹¶ä¸”ä¸Šæ¶åˆ°äº† OpenClaw çš„æŠ€èƒ½å•†åº— <span class=\"md-meta-i-c  md-link\"><a href=\"https://clawhub.ai/skills\" rel=\"noopener nofollow\"><span class=\"md-plain\">ClawHub</span></a><span class=\"md-plain\">ï¼Œç›®å‰ä¸€å…±æœ‰ 6 æ¬¾å®˜æ–¹ Skillã€‚åŒ…æ‹¬ç™¾åº¦æœç´¢ã€ç™¾åº¦ç™¾ç§‘ã€å­¦æœ¯æ£€ç´¢ã€AI ç»˜æœ¬ç”Ÿæˆã€æ™ºèƒ½ PPT ç”Ÿæˆã€åƒå¸†æ·±åº¦ç ”ç©¶ Agentã€‚</span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç›´æ¥è¿›å…¥åˆ°æœåŠ¡å™¨ç®¡ç†é¡µé¢çš„ Skills é…ç½®ï¼Œå°±èƒ½å‚»ç“œå¼æœç´¢å’Œå®‰è£…æŠ€èƒ½äº†ï¼š</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æ¯”å¦‚æˆ‘å®‰è£…äº†ç™¾åº¦æœç´¢å’Œç™¾åº¦ç™¾ç§‘ Skillsï¼Œè¿™ä¸¤å—éƒ½æ˜¯ç™¾åº¦çš„ç‰¹é•¿ï¼Œé€‚åˆç”¨æ¥æœç´¢å›½å†…çš„ä¿¡æ¯æºã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æ·»åŠ  Skills å®Œæˆåï¼Œè¿›å…¥åˆ° OpenClaw ç®¡ç†é¡µé¢çš„ Skills é…ç½®ä¸­ï¼Œå¯ä»¥çœ‹åˆ°æŠ€èƒ½å®‰è£…æˆåŠŸï¼š</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç„¶åæˆ‘è®©ã€Œé±¼çš®çš„å¤©è‹Ÿã€å¸®æˆ‘æœç´¢ â€œç¨‹åºå‘˜é±¼çš®â€ï¼š</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è¿™æ¬¡çš„ç»“æœé è°±å¤šäº†ï¼Œåœ¨ OpenClaw ç½‘é¡µå¯¹è¯æ¡†ä¸­ï¼Œå¯ä»¥çœ‹åˆ° AI è°ƒç”¨äº†ç™¾åº¦æœç´¢æŠ€èƒ½ï¼š</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">é™¤äº†ä¸Šè¿°å®‰è£…æŠ€èƒ½çš„æ–¹å¼å¤–ï¼Œä½ è¿˜å¯ä»¥ç™»å½•æœåŠ¡å™¨ï¼Œè¾“å…¥ä¸€è¡Œå‘½ä»¤æ¥æ‰‹åŠ¨å®‰è£…æŠ€èƒ½ï¼š</span></p>\n<pre class=\"md-fences md-end-block ty-contain-cm modeLoaded\"><span>npx clawhub@latest install [skillåç§°]</span></pre>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä¸è¿‡æˆ‘ä¼°è®¡éç¨‹åºå‘˜æœ‹å‹ä»¬æ˜¯ä¸çŸ¥é“æ€ä¹ˆæ“ä½œæœåŠ¡å™¨çš„ï¼Œå®Œå…¨æ²¡å…³ç³»ï¼Œæ¯•ç«Ÿç°åœ¨å·²ç»æ˜¯ AI æ—¶ä»£äº†ï¼Œå¹²å˜›è¿˜è‡ªå·±åŠ¨æ‰‹æ“ä½œæœåŠ¡å™¨ï¼Ÿç›´æ¥è®© AI è‡ªå·±è£…ä¸å°±å®Œäº†ï¼Ÿ</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æˆ‘è·Ÿ OpenClaw è¯´äº†å¥ï¼š</span></p>\n<blockquote>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å¸®æˆ‘å®‰è£…ç¼–ç¨‹åŠ¨ç”»åˆ¶ä½œæŠ€èƒ½</span></p>\n</blockquote>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å®ƒä¸€å¼€å§‹å¯èƒ½ä¼šæ‹’ç»æˆ–è€…ä¸å¤ªç†è§£ï¼Œæ²¡å…³ç³»ï¼Œç¨å¾®å¼•å¯¼ä¸€ä¸‹å°±è¡Œï¼š</span></p>\n<blockquote>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æˆ‘å°±è¦ä½ æ¥æ“ä½œæœåŠ¡å™¨å¸®æˆ‘å®‰è£…</span></p>\n</blockquote>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è¿™æ¬¡ï¼Œä»–æˆåŠŸå®Œæˆäº†ä»»åŠ¡ã€‚è®© AI è‡ªå·±ç»™è‡ªå·±è£…æŠ€èƒ½ï¼Œæ‰æ˜¯ AI æ—¶ä»£è¯¥æœ‰çš„æ“ä½œæ–¹å¼ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å¦‚æœä½ æƒ³æ¢ç´¢æ›´å¤šæŠ€èƒ½ï¼Œå¯ä»¥å» <span class=\"md-meta-i-c  md-link\"><a href=\"https://clawhub.ai/skills\" rel=\"noopener nofollow\"><span class=\"md-plain\">ClawHub</span></a><span class=\"md-plain\"> é€›ä¸€é€›ã€‚</span></span></span></p>\n<blockquote>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æŒ‡è·¯ï¼š<span class=\"md-link md-pair-s\"><a href=\"https://clawhub.ai/\" rel=\"noopener nofollow\">https://clawhub.ai</a></span></span></p>\n</blockquote>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä¸è¿‡é±¼çš®å»ºè®®å¤§å®¶è°¨æ…å®‰è£… Skillsï¼Œéå¿…è¦ä¸å®‰è£…ã€éå®˜æ–¹ä¸å®‰è£…ï¼Œæ¯•ç«Ÿ Skills æ˜¯äººä¸ºåˆ¶ä½œçš„ï¼Œå¯èƒ½ä¼šå­˜åœ¨å®‰å…¨éšæ‚£ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<h2 class=\"md-end-block md-heading\"><span class=\"md-plain\">æœ‰äº† OpenClaw èƒ½å¹²å•¥</span></h2>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æˆ‘ä¼°è®¡å¾ˆå¤šåŒå­¦æ­å»ºå®Œ OpenClaw å¯èƒ½å°±æ‰”é‚£å„¿äº†ï¼Œæˆ–è€…ä¸çŸ¥é“ OpenClaw åˆ°åº•èƒ½åšäº›ä»€ä¹ˆã€‚æ‰€ä»¥æˆ‘è¿™é‡Œåˆ†äº«å‡ ä¸ªæ¯”è¾ƒå®ç”¨çš„ç©æ³•ï¼Œå¤§å®¶å¯ä»¥ç›´æ¥æŠ„ä½œä¸šã€‚</span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<h3 class=\"md-end-block md-heading\"><span class=\"md-plain\">1ã€AI å¸®ä½ è¿½çƒ­ç‚¹</span></h3>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æˆ‘åœ¨ QQ ä¸Šè·Ÿ OpenClaw è¯´äº†ä¸€å¥ï¼šå¸®æˆ‘è·å– AI ç›¸å…³çš„èµ„è®¯çƒ­ç‚¹ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è¿‡äº†ä¸€ä¼šå„¿ï¼Œå®ƒå›äº†æˆ‘ä¸€ä»½æ•´æ•´é½é½çš„çƒ­ç‚¹æ‘˜è¦ï¼š</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä»¥å‰æˆ‘å¯èƒ½è¦åˆ°ç½‘ä¸Šåˆ·åˆ·æ–°é—»ï¼Œç°åœ¨å‘æ¡æ¶ˆæ¯å°±æå®šäº†~</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å¦‚æœéœ€è¦çš„è¯ï¼Œä½ è¿˜å¯ä»¥è®©å®ƒè·‘ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œæ¯”å¦‚è®¾å®š â€œæ¯å¤©æ—©ä¸Š 8 ç‚¹å¸®æˆ‘æœä¸€ä¸‹ OpenClaw ç¤¾åŒºæœ‰æ²¡æœ‰æ–°çš„ç©æ³•â€ï¼Œå®ƒå°±é»˜é»˜å¸®ä½ ç›¯ç€ï¼Œæœ‰æ¶ˆæ¯ç¬¬ä¸€æ—¶é—´æ¨ç»™ä½ ã€‚</span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<h3 class=\"md-end-block md-heading\"><span class=\"md-plain\">2ã€çµæ„Ÿè®°å½•å™¨</span></h3>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æœ‰æ—¶èµ°åœ¨è·¯ä¸Šï¼Œæˆ‘å¯èƒ½ä¼šçªç„¶æœ‰ä¸€äº›å¥½çš„æƒ³æ³•ã€æˆ–è€…çªç„¶æƒ³èµ·äº†æŸä»¶äº‹æƒ…ï¼Œä¸ºäº†é˜²æ­¢å¿˜è®°ï¼Œå°±ä¼šæ‰“å¼€æ‰‹æœºå¤‡å¿˜å½•è®°ä¸‹æ¥ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä¹…è€Œä¹…ä¹‹ï¼Œè®°çš„å†…å®¹è¶Šæ¥è¶Šå¤šï¼Œå¯¼è‡´å¾ˆå¤šè®°ä¸‹æ¥çš„å†…å®¹ä¹Ÿè¢«å¿½ç•¥äº†ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ç°åœ¨ï¼Œæˆ‘å¯ä»¥ç›´æ¥æŠŠ OpenClaw å½“åšæ˜¯æˆ‘çš„è¶…çº§å¤‡å¿˜å½•ï¼Œå…ˆç»™ AI è®¾å®šä¸€ä¸ªè§’è‰²ï¼Œæ¯”å¦‚å‘Šè¯‰å®ƒ â€œä½ æ˜¯ä¸€ä¸ªçµæ„Ÿè®°å½•å™¨â€ï¼š</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä¹‹åæœ‰ä»»ä½•æ€•å¿˜è®°çš„æƒ³æ³•æˆ–äº‹æƒ…ï¼Œç›´æ¥æå‡ºæ‰‹æœºåœ¨ QQ ä¸Šè·Ÿ AI è¯´ä¸€å¥å°±è¡Œäº†ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">OpenClaw è·Ÿæ™®é€šå¤‡å¿˜å½•ä¸ä¸€æ ·ï¼Œå®ƒä¸åªæ˜¯å¸®ä½ è®°ï¼Œè¿˜ä¼šå¸®ä½ ä¿®æ­£é”™åˆ«å­—å’Œåˆ†ç±»æ•´ç†ï¼Œè€Œä¸”æ°¸è¿œä¸ä¼šå¿˜äº‹ï¼</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<h3 class=\"md-end-block md-heading\"><span class=\"md-plain\">3ã€éšèº«æºå¸¦çš„è¶…çº§ç¨‹åºå‘˜</span></h3>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è¿™åº”è¯¥æ˜¯æœ€è®©ç¨‹åºå‘˜æœ‹å‹ä»¬å…´å¥‹çš„åœºæ™¯äº†ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å› ä¸º OpenClaw æ˜¯è·‘åœ¨æœåŠ¡å™¨ä¸Šçš„ï¼Œå®ƒèƒ½ç›´æ¥åœ¨æœåŠ¡å™¨ä¸Šå†™ä»£ç ã€è¿è¡Œç¨‹åºã€éƒ¨ç½²æœåŠ¡ï¼Œåšå®Œä½ å°±èƒ½ç›´æ¥ç”¨ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æ¯”å¦‚æˆ‘åœ¨ååœ°é“çš„æ—¶å€™ï¼Œç›´æ¥æå‡ºæ‰‹æœºï¼Œåœ¨ QQ ä¸Šè·Ÿ OpenClaw è¯´ä¸€å¥ï¼š</span></p>\n<blockquote>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">å¸®æˆ‘å†™ä¸€ä¸ªç½‘é¡µå°å·¥å…·ï¼Œèƒ½ä¸Šä¼ å›¾ç‰‡åæ‰¹é‡å‹ç¼©ï¼Œæ”¯æŒè°ƒæ•´å‹ç¼©è´¨é‡ï¼Œå†™å®Œç›´æ¥éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šè®©æˆ‘èƒ½è®¿é—®ã€‚</span></p>\n</blockquote>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è¿‡äº†å‡ åˆ†é’Ÿï¼ŒAI å›å¤æˆ‘ï¼šå·¥å…·å†™å¥½äº†ï¼Œå·²ç»éƒ¨ç½²ä¸Šçº¿ï¼Œç›´æ¥è®¿é—® XX åœ°å€å°±èƒ½ç”¨ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æ²¡é”™ï¼Œå°±å‘äº†æ¡æ¶ˆæ¯ï¼Œä¸€ä¸ªèƒ½ç”¨çš„åœ¨çº¿å·¥å…·å°±å‡ºæ¥äº†ï¼Œè·Ÿå˜é­”æœ¯ä¼¼çš„ã€‚</span></p>\n<blockquote>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æ³¨æ„ï¼Œå¦‚æœæ— æ³•è®¿é—®ï¼Œå¯èƒ½æ˜¯å› ä¸ºæ²¡æœ‰ç»™æœåŠ¡å™¨çš„é˜²ç«å¢™å¼€æ”¾å¯¹åº”ç«¯å£ã€‚</span></p>\n</blockquote>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä¹‹åä½ æœ‰äº†ä»»ä½•çµæ„Ÿï¼Œç”šè‡³éƒ½ä¸éœ€è¦æå‡ºç”µè„‘ï¼Œå…¨ç¨‹é€šè¿‡æ‰‹æœºè·Ÿ AI å¯¹è¯ï¼Œå°±èƒ½åˆ›é€ å‡ºå¯è¿è¡Œçš„é¡¹ç›®ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">è¿™ç§æ„Ÿè§‰ï¼Œæ€ä¹ˆè¯´å‘¢ï¼Œæœ‰ç‚¹é’¢é“ä¾ å†…å‘³å„¿äº†ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-image md-img-loaded\"><img class=\"lazyload\" /></span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<h2 class=\"md-end-block md-heading\"><span class=\"md-plain\">æœ€å</span></h2>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">çœ‹åˆ°è¿™é‡Œï¼Œç›¸ä¿¡å¤§å®¶å·²ç»èƒ½æ„Ÿå—åˆ°ï¼Œ<span class=\"md-pair-s \"><strong>OpenClaw çš„ä¸Šæ‰‹é—¨æ§›å·²ç»è¢«ç ¸åˆ°åœ°æ¿ä¸Šäº†</strong><span class=\"md-plain\">ã€‚</span></span></span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">åªè¦èŠ±å‡ åˆ†é’Ÿï¼Œå°±èƒ½æ‹¥æœ‰ç§äººçš„ AI æ•°å­—å‘˜å·¥ï¼Œä¹‹åä½ åœ¨æ‰‹æœºä¸Šå‘æ¡ QQ æ¶ˆæ¯ï¼Œå°±èƒ½è®© AI å¸®ä½ æœä¿¡æ¯ã€ç®¡æ–‡ä»¶ã€å†™ä»£ç ã€åšè°ƒç ”ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä¸ç®¡ä½ æ˜¯ç¨‹åºå‘˜ã€å­¦ç”Ÿã€è¿˜æ˜¯æ™®é€šä¸Šç­æ—ï¼Œæˆ‘éƒ½å»ºè®®ä½ å»è¯•è¯•ã€‚</span></p>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æœ€åå†è´´ä¸€ä¸‹å®˜æ–¹çš„éƒ¨ç½²æ•™ç¨‹ï¼Œç‚¹å‡»é˜…è¯»åŸæ–‡å¯ä»¥ç›´æ¥è·³è½¬ã€‚</span></p>\n<blockquote>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">æ“ä½œæŒ‡å—ï¼š<span class=\"md-link md-pair-s\"><a href=\"https://cloud.baidu.com/doc/LS/s/6ml9f3cvl\" rel=\"noopener nofollow\">https://cloud.baidu.com/doc/LS/s/6ml9f3cvl</a></span></span></p>\n</blockquote>\n<p class=\"md-end-block md-p\"><span class=\"md-plain\">ä¹Ÿæ¬¢è¿å¤§å®¶å¤šå¤šåˆ†äº«ä½ çš„ OpenClaw ç©æ³•ï¼Œè¯„è®ºåŒºè§~</span></p>\n<p class=\"md-end-block md-p\">&nbsp;</p>\n<h2 class=\"md-end-block md-heading\"><span class=\"md-plain\">æ›´å¤šç¼–ç¨‹å­¦ä¹ èµ„æº</span></h2>\n<ul class=\"ul-list\">\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/course\" rel=\"noopener nofollow\"><span class=\"md-plain\">Javaå‰ç«¯ç¨‹åºå‘˜å¿…åšé¡¹ç›®å®æˆ˜æ•™ç¨‹+æ¯•è®¾ç½‘ç«™</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/\" rel=\"noopener nofollow\"><span class=\"md-plain\">ç¨‹åºå‘˜å…è´¹ç¼–ç¨‹å­¦ä¹ äº¤æµç¤¾åŒºï¼ˆè‡ªå­¦å¿…å¤‡ï¼‰</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/course/cv\" rel=\"noopener nofollow\"><span class=\"md-plain\">ç¨‹åºå‘˜ä¿å§†çº§æ±‚èŒå†™ç®€å†æŒ‡å—ï¼ˆæ‰¾å·¥ä½œå¿…å¤‡ï¼‰</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.mianshiya.com/\" rel=\"noopener nofollow\"><span class=\"md-plain\">ç¨‹åºå‘˜å…è´¹é¢è¯•åˆ·é¢˜ç½‘ç«™å·¥å…·ï¼ˆæ‰¾å·¥ä½œå¿…å¤‡ï¼‰</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/post/1640584449888772098\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°Javaé›¶åŸºç¡€å…¥é—¨å­¦ä¹ è·¯çº¿ + Javaæ•™ç¨‹</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/post/1640586673306091521\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°Pythoné›¶åŸºç¡€å…¥é—¨å­¦ä¹ è·¯çº¿ + Pythonæ•™ç¨‹</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/post/1640586014108303362\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°å‰ç«¯é›¶åŸºç¡€å…¥é—¨å­¦ä¹ è·¯çº¿ + å‰ç«¯æ•™ç¨‹</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/post/1640586867363954689\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°æ•°æ®ç»“æ„å’Œç®—æ³•é›¶åŸºç¡€å…¥é—¨å­¦ä¹ è·¯çº¿ + ç®—æ³•æ•™ç¨‹</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/post/1644279832026075138\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°C++é›¶åŸºç¡€å…¥é—¨å­¦ä¹ è·¯çº¿ã€C++æ•™ç¨‹</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/post/1641797333479903234\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°æ•°æ®åº“é›¶åŸºç¡€å…¥é—¨å­¦ä¹ è·¯çº¿ + æ•°æ®åº“æ•™ç¨‹</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/post/1640589994284695553\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°Redisé›¶åŸºç¡€å…¥é—¨å­¦ä¹ è·¯çº¿ + Redisæ•™ç¨‹</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/post/1641035880439271426\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°è®¡ç®—æœºåŸºç¡€å…¥é—¨å­¦ä¹ è·¯çº¿ + è®¡ç®—æœºåŸºç¡€æ•™ç¨‹</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/post/1641366118197153793\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°å°ç¨‹åºå…¥é—¨å­¦ä¹ è·¯çº¿ + å°ç¨‹åºå¼€å‘æ•™ç¨‹</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"http://sqlmother.yupi.icu/\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°SQLé›¶åŸºç¡€å…¥é—¨å­¦ä¹ è·¯çº¿ + SQLæ•™ç¨‹</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/post/1640586295529324545\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°Linuxé›¶åŸºç¡€å…¥é—¨å­¦ä¹ è·¯çº¿ + Linuxæ•™ç¨‹</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/post/1640588753362108417\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°Git/GitHubé›¶åŸºç¡€å…¥é—¨å­¦ä¹ è·¯çº¿ + Gitæ•™ç¨‹</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/post/1640587909942099969\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°æ“ä½œç³»ç»Ÿé›¶åŸºç¡€å…¥é—¨å­¦ä¹ è·¯çº¿ + æ“ä½œç³»ç»Ÿæ•™ç¨‹</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/post/1640588119619551233\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°è®¡ç®—æœºç½‘ç»œé›¶åŸºç¡€å…¥é—¨å­¦ä¹ è·¯çº¿ + è®¡ç®—æœºç½‘ç»œæ•™ç¨‹</span></a></span></p>\n</li>\n<li class=\"md-list-item\">\n<p class=\"md-end-block md-p\"><span class=\"md-meta-i-c  md-link\"><a href=\"https://www.code-nav.cn/post/1640588392073150465\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°è®¾è®¡æ¨¡å¼é›¶åŸºç¡€å…¥é—¨å­¦ä¹ è·¯çº¿ + è®¾è®¡æ¨¡å¼æ•™ç¨‹</span></a></span></p>\n</li>\n<li class=\"md-list-item md-focus-container\">\n<p class=\"md-end-block md-p md-focus\"><span class=\"md-meta-i-c md-link md-expand\"><a href=\"https://www.code-nav.cn/post/1640648711119892481\" rel=\"noopener nofollow\"><span class=\"md-plain\">æœ€æ–°è½¯ä»¶å·¥ç¨‹é›¶åŸºç¡€å…¥é—¨å­¦ä¹ è·¯çº¿ + è½¯ä»¶å·¥ç¨‹æ•™ç¨‹</span></a></span></p>\n</li>\n</ul>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-02-10 15:58</span>&nbsp;\n<a href=\"https://www.cnblogs.com/yupi\">ç¨‹åºå‘˜é±¼çš®</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">217</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "è§£å‰– Pythonï¼šå…³äºæŒ‡é’ˆã€GIL ä¸å¼‚æ­¥å†…æ ¸",
      "link": "https://www.cnblogs.com/kaiux/p/19598962",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/kaiux/p/19598962\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-02-10 12:01\">\n    <span>è§£å‰– Pythonï¼šå…³äºæŒ‡é’ˆã€GIL ä¸å¼‚æ­¥å†…æ ¸</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                    <div id=\"cnblogs_post_description\" style=\"display: none;\">\n        <img alt=\"è§£å‰– Pythonï¼šå…³äºæŒ‡é’ˆã€GIL ä¸å¼‚æ­¥å†…æ ¸\" class=\"desc_img\" src=\"https://img2024.cnblogs.com/blog/1158182/202602/1158182-20260210120046308-982867969.png\" />\n        æœ¬æ–‡ä»¥ C++ ç³»ç»Ÿè§†è§’ï¼Œè§£æ„ Python çš„åº•å±‚åŸç†ã€‚æ·±åº¦å‰–æ `PyObject` å†…å­˜å¸ƒå±€ã€GIL çš„åŸå­æ€§å¹»è§‰åŠ `asyncio` çš„ epoll æœ¬è´¨ã€‚é€šè¿‡ C++ æ‰©å±•æ‰“ç ´è¾¹ç•Œï¼Œæ­ç¤ºâ€œèƒ¶æ°´è¯­è¨€â€å¦‚ä½•é€šè¿‡ç‰ºç‰²å•æ ¸è®¡ç®—ï¼Œæ¢å–æè‡´çš„è°ƒåº¦æ•ˆç‡ä¸ç”Ÿæ€å„æ–­ã€‚\n    </div>\n<div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<p><img alt=\"python_overview\" src=\"https://img2024.cnblogs.com/blog/1158182/202602/1158182-20260210120115327-1286094950.jpg\" /></p>\n<h2 id=\"1-ai-æ—¶ä»£çš„æ•°å­—èƒ¶æ°´-the-necessity-in-ai-era\">1. AI æ—¶ä»£çš„â€œæ•°å­—èƒ¶æ°´â€ (The Necessity in AI Era)</h2>\n<h3 id=\"11-ç”Ÿæ€ä½çš„å„æ–­ä½œä¸º-c-çš„é«˜å±‚æŒ‡ä»¤æŒ‡é’ˆ-ip\">1.1. ç”Ÿæ€ä½çš„å„æ–­ï¼šä½œä¸º C++ çš„é«˜å±‚æŒ‡ä»¤æŒ‡é’ˆ (IP)</h3>\n<p>ä»»ä½•å¯¹è®¡ç®—æœºä½“ç³»ç»“æ„æœ‰è®¤çŸ¥çš„å¼€å‘è€…éƒ½æ¸…æ¥šï¼ŒPython çš„åŸç”Ÿæ€§èƒ½æ˜¯ç¾éš¾çº§çš„ã€‚å®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªåŸºäºæ ˆçš„è™šæ‹Ÿæœºï¼Œæ¯ä¸€ä¸ªæ•´æ•°åŠ æ³• (<code>a + b</code>) éƒ½è¦ç»å†ç±»å‹æ£€æŸ¥ã€å¼•ç”¨è®¡æ•°æ›´æ–° (<code>Py_INCREF/DECREF</code>) å’Œå·¨å¤§çš„åˆ†æ´¾å¼€é”€ã€‚å¦‚æœä½ è¯•å›¾ç”¨çº¯ Python å»åšçŸ©é˜µä¹˜æ³•ï¼ŒCPU çš„åˆ†æ”¯é¢„æµ‹å•å…ƒ (Branch Predictor) ä¼šè¢«ä½ æ‚ä¹±æ— ç« çš„æŒ‡ä»¤æµæå¾—ä¸€å¡Œç³Šæ¶‚ï¼ŒL1/L2 Cache ä¹Ÿä¼šå› ä¸ºæ•£è½åœ¨å †ä¸Šçš„ <code>PyObject</code> è€Œé¢‘ç¹å¤±æ•ˆã€‚</p>\n<p><strong>ç„¶è€Œï¼ŒAI ä¸éœ€è¦ Python å»åšè®¡ç®—ï¼ŒAI åªéœ€è¦ Python å»â€œä¸‹ä»¤â€ã€‚</strong></p>\n<p>åœ¨ PyTorch æˆ– TensorFlow çš„æ¶æ„ä¸­ï¼ŒPython ä»£ç æ‰®æ¼”çš„è§’è‰²å®é™…ä¸Šæ˜¯<strong>æ§åˆ¶å¹³é¢ (Control Plane)</strong>ï¼Œè€Œ C++/CUDA æ‰æ˜¯<strong>æ•°æ®å¹³é¢ (Data Plane)</strong>ã€‚å½“ä½ å†™ä¸‹ <code>z = torch.matmul(x, y)</code> æ—¶ï¼ŒPython è§£é‡Šå™¨æ‰€åšçš„ä»…ä»…æ˜¯æ„å»ºè®¡ç®—å›¾ã€è¿›è¡Œå‚æ•°æ ¡éªŒï¼Œç„¶åå°†æŒ‡ä»¤æŒ‡é’ˆï¼ˆInstruction Pointerï¼‰çš„æ§åˆ¶æƒé€šè¿‡ C ABI (Application Binary Interface) ç§»äº¤ç»™åº•å±‚çš„ C++ åŠ¨æ€åº“ã€‚</p>\n<p>ä¸€æ—¦è¿›å…¥åº•å±‚ï¼ŒSIMD æŒ‡ä»¤é›†ã€AVX-512 ç”šè‡³ GPU çš„ Tensor Cores ä¾¿æ¥ç®¡äº†ä¸€åˆ‡ã€‚æ­¤æ—¶ï¼ŒPython çš„é‚£ç‚¹è§£é‡Šå™¨å¼€é”€åœ¨è€—æ—¶æ•°æ¯«ç§’ç”šè‡³æ•°ç§’çš„çŸ©é˜µè¿ç®—é¢å‰ï¼Œå®Œå…¨å¯ä»¥å¿½ç•¥ä¸è®¡ï¼ˆAmdahl's Law çš„åå‘åº”ç”¨ï¼‰ã€‚</p>\n<p><strong>Trade-off åˆ†æï¼š</strong></p>\n<ul>\n<li><strong>ç‰ºç‰²ï¼š</strong> å•çº¿ç¨‹æ ‡é‡è®¡ç®—æ€§èƒ½ï¼ˆææ…¢ï¼‰ã€‚</li>\n<li><strong>æ¢å–ï¼š</strong> æè‡´çš„ C/C++ äº’æ“ä½œæ€§ã€‚Python æ˜¯å”¯ä¸€ä¸€ä¸ªèƒ½è®© C++ å¼€å‘è€…æ„Ÿåˆ°â€œåƒæ˜¯åœ¨å†™ä¼ªä»£ç ï¼Œä½†èƒ½æ— ç¼è°ƒç”¨ <code>.so</code> åº“â€çš„è¯­è¨€ã€‚å®ƒæ˜¯ AI åŸºç¡€è®¾æ–½ï¼ˆC++ï¼‰ä¸ä¸šåŠ¡é€»è¾‘ï¼ˆHuman Logicï¼‰ä¹‹é—´æœ€è–„çš„â€œèƒ¶æ°´å±‚â€ã€‚</li>\n</ul>\n<p>è¿™ç§åˆ†å±‚æ¶æ„ç”šè‡³å¯¼è‡´äº† AI åŸºç¡€è®¾æ–½çš„è¿›ä¸€æ­¥ä¸‹æ²‰ã€‚ä¸ºäº†é¿å… Python åœ¨æ•°æ®é¢„å¤„ç†ï¼ˆå¦‚ Tokenizerã€Image Decodeï¼‰é˜¶æ®µæˆä¸ºç“¶é¢ˆï¼Œç°åœ¨çš„è¶‹åŠ¿æ˜¯å°†æ•´ä¸ªæ•°æ®åŠ è½½ç®¡çº¿ï¼ˆDataLoaderï¼‰ä¹Ÿä¸‹æ²‰åˆ° C++ æˆ– Rust ä¸­ï¼ˆä¾‹å¦‚ NVIDIA DALI æˆ– HuggingFace Tokenizersï¼‰ã€‚Python é€æ¸é€€åŒ–ä¸ºçº¯ç²¹çš„é…ç½®è¯­è¨€å’Œèƒ¶æ°´å±‚ã€‚</p>\n<h3 id=\"12-ä»è®¡ç®—åˆ°ååŒio-å¯†é›†å‹çš„èƒœåˆ©\">1.2. ä»è®¡ç®—åˆ°ååŒï¼šIO å¯†é›†å‹çš„èƒœåˆ©</h3>\n<p>åœ¨ä¼ ç»Ÿçš„é«˜æ€§èƒ½è®¡ç®— (HPC) æ—¶ä»£ï¼Œæˆ‘ä»¬ä¸ºäº†å‡å°‘çº³ç§’çº§çš„å»¶è¿Ÿï¼Œä¸æƒœæ‰‹å†™æ±‡ç¼–ä¼˜åŒ–ä¸Šä¸‹æ–‡åˆ‡æ¢ (Context Switch)ã€‚ä½†åœ¨ LLM é©±åŠ¨çš„ Agent æ—¶ä»£ï¼Œç“¶é¢ˆå‘ç”Ÿäº†è´¨çš„è½¬ç§»ã€‚</p>\n<p>ä¸€ä¸ªå…¸å‹çš„ RAG (Retrieval-Augmented Generation) æµç¨‹æˆ– ChatBI ç³»ç»Ÿï¼Œå…¶ 90% çš„ç”Ÿå‘½å‘¨æœŸå¤„äº <strong>Wait çŠ¶æ€</strong>ï¼š</p>\n<ol>\n<li>ç­‰å¾…å‘é‡æ•°æ®åº“æ£€ç´¢ (Network I/O)ã€‚</li>\n<li>ç­‰å¾… LLM API Token ç”Ÿæˆ (Network I/O)ã€‚</li>\n<li>ç­‰å¾…æ•°æ®åº“ SQL æ‰§è¡Œç»“æœ (Network I/O)ã€‚</li>\n</ol>\n<p>æ­¤æ—¶ï¼ŒCPU å¹¶ä¸æ˜¯åœ¨è®¡ç®—ï¼Œè€Œæ˜¯åœ¨æŒ‚èµ·ã€‚å¦‚æœä½¿ç”¨ C++ï¼Œä½ éœ€è¦å¤„ç†å¤æ‚çš„ <code>epoll</code>ã€å›è°ƒåœ°ç‹±æˆ–è€…åç¨‹åº“ï¼ˆå¦‚ <code>boost::asio</code> æˆ– C++20 coroutinesï¼‰ï¼Œå¼€å‘æˆæœ¬æé«˜ã€‚</p>\n<p>Python åœ¨è¿™é‡Œçš„ä¼˜åŠ¿åœ¨äºå…¶<strong>æŠ½è±¡æˆæœ¬æä½</strong>ã€‚è™½ç„¶ Python çš„ GIL (Global Interpreter Lock) è‡­åæ˜­è‘—ï¼Œä½†åœ¨ IO å¯†é›†å‹åœºæ™¯ä¸‹ï¼ŒOS çš„çº¿ç¨‹è°ƒåº¦å™¨æˆ–è€… Python çš„ <code>asyncio</code> äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰èƒ½å¾ˆå¥½åœ°æ©ç›– CPU çš„ç©ºé—²ã€‚æˆ‘ä»¬ä¸å†å…³æ³¨ TLB (Translation Lookaside Buffer) çš„åˆ·æ–°å¼€é”€ï¼Œè€Œæ˜¯å…³æ³¨å¦‚ä½•ç”¨æœ€å°‘çš„ä»£ç è¡Œæ•°ï¼Œç¼–æ’æœ€å¤æ‚çš„ API è°ƒç”¨é“¾è·¯ã€‚</p>\n<h3 id=\"13-ä»£ç å®ç°\">1.3. ä»£ç å®ç°</h3>\n<h4 id=\"131-åœºæ™¯ä¸€æµå¼å¤„ç†ä¸å†…å­˜å‹å¥½-the-generator\">1.3.1. åœºæ™¯ä¸€ï¼šæµå¼å¤„ç†ä¸å†…å­˜å‹å¥½ (The Generator)</h4>\n<p>åœ¨ C++ ä¸­ï¼Œä¸ºäº†é¿å…ä¸€æ¬¡æ€§åŠ è½½ 10GB çš„æ—¥å¿—æ–‡ä»¶å¯¼è‡´ OOM (Out of Memory)ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹å†™ Buffer ç®¡ç†å’Œè¿­ä»£å™¨ã€‚åœ¨ Python ä¸­ï¼Œ<code>yield</code> å…³é”®å­—æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª<strong>ç”¨æˆ·æ€çš„æ ˆå¸§æŒ‚èµ· (Stack Frame Suspension)</strong>ã€‚å®ƒå…è®¸å‡½æ•°åœ¨ä¿æŒå±€éƒ¨å˜é‡çŠ¶æ€çš„æƒ…å†µä¸‹æš‚åœæ‰§è¡Œï¼Œå°†æ§åˆ¶æƒäº¤è¿˜ç»™è°ƒç”¨è€…ï¼Œè¿™æ˜¯ä¸€ç§æå…¶å»‰ä»·çš„â€œä¸Šä¸‹æ–‡åˆ‡æ¢â€ã€‚</p>\n<pre><code class=\"language-python\">import time\nimport os\n\ndef raw_log_streamer(file_path: str, block_size: int = 4096):\n    \"\"\"\n    æ¨¡æ‹Ÿ C++ çš„ Buffered Readerã€‚\n    ä¸ä¸€æ¬¡æ€§è¯»å–æ•´ä¸ªæ–‡ä»¶ï¼Œè€Œæ˜¯åˆ©ç”¨ Generator æœºåˆ¶\n    åœ¨ç”¨æˆ·æ€æŒ‚èµ·æ ˆå¸§ï¼Œå®ç° Lazy Loadingã€‚\n    \"\"\"\n    # è¿™é‡Œçš„ file_obj å®é™…ä¸Šæ˜¯å¯¹åº•å±‚æ–‡ä»¶æè¿°ç¬¦ (fd) çš„å°è£…\n    with open(file_path, 'rb') as f:\n        while True:\n            # è§¦å‘ syscall: read()\n            chunk = f.read(block_size)\n            if not chunk:\n                break\n            # æ­¤æ—¶å‡½æ•°çš„ Stack Frame è¢«å†»ç»“ï¼Œ\n            # æŒ‡ä»¤æŒ‡é’ˆ IP æŒ‡å‘ä¸‹ä¸€è¡Œï¼Œå±€éƒ¨å˜é‡ä¿ç•™åœ¨å †å†…å­˜çš„ PyFrameObject ä¸­\n            yield chunk \n\n# ä½¿ç”¨åœºæ™¯ï¼šå¤„ç†å·¨å¤§çš„æ•°æ®é›†è€Œä¸ç‚¸æ‰ RAM\n# è¿™ç§å†™æ³•åœ¨å¤„ç† AI æ•°æ® Pipeline (å¦‚ DataLoader) æ—¶æ˜¯æ ‡å‡†èŒƒå¼\n# for data in raw_log_streamer(\"large_dataset.bin\"):\n#     process(data)\n\n</code></pre>\n<h4 id=\"132-åœºæ™¯äºŒå†…æ ¸æ€åˆ‡æ¢-vs-ç”¨æˆ·æ€è°ƒåº¦-threading-vs-asyncio\">1.3.2. åœºæ™¯äºŒï¼šå†…æ ¸æ€åˆ‡æ¢ vs ç”¨æˆ·æ€è°ƒåº¦ (Threading vs Asyncio)</h4>\n<p>ä½œä¸ºç³»ç»Ÿå¼€å‘è€…ï¼Œä½ å¿…é¡»æ˜ç™½ <code>threading</code> å’Œ <code>asyncio</code> çš„æœ¬è´¨åŒºåˆ«ï¼š</p>\n<ul>\n<li><strong>Threading:</strong> æ˜ å°„åˆ° OS çš„åŸç”Ÿçº¿ç¨‹ (pthreads)ã€‚åˆ‡æ¢éœ€è¦å†…æ ¸ä»‹å…¥ (Kernel Trap)ï¼Œæ¶‰åŠå¯„å­˜å™¨ä¿å­˜ã€TLB åˆ·æ–°ï¼Œå¼€é”€æ˜‚è´µã€‚ä¸”å—åˆ¶äº GILï¼ŒPython å¤šçº¿ç¨‹æ— æ³•åˆ©ç”¨å¤šæ ¸ã€‚</li>\n<li><strong>Asyncio:</strong> å•çº¿ç¨‹å†…çš„äº‹ä»¶å¾ªç¯ã€‚åˆ‡æ¢åªæ˜¯ç®€å•çš„å‡½æ•°æŒ‡é’ˆè·³è½¬ (User-space switching)ï¼Œ <strong>é›¶å†…æ ¸ä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”€ (Zero Kernel Context Switch Overhead)</strong>ã€‚<em>(æ³¨ï¼šè™½ç„¶é¿å…äº†æ˜‚è´µçš„ syscallï¼Œä½† Python è§£é‡Šå™¨æœ¬èº«çš„å­—èŠ‚ç åˆ†æ´¾ä¾ç„¶æœ‰æˆæœ¬ï¼Œä½†åœ¨é«˜å¹¶å‘ IO é¢å‰ï¼Œè¿™é€šå¸¸æ˜¯åˆ’ç®—çš„ã€‚)</em></li>\n</ul>\n<p>ä»¥ä¸‹ä»£ç ç›´è§‚å±•ç¤ºäº†åœ¨ IO å¯†é›†å‹ä»»åŠ¡ä¸­ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ä»â€œçº¿ç¨‹æ€ç»´â€è½¬å‘â€œåç¨‹æ€ç»´â€ã€‚</p>\n<pre><code class=\"language-python\">import threading\nimport asyncio\nimport time\n\n# æ¨¡æ‹Ÿä¸€ä¸ªé«˜å»¶è¿Ÿçš„ IO æ“ä½œ (ä¾‹å¦‚ç­‰å¾… LLM è¿”å› token)\n# åœ¨ C++ è§†è§’ï¼šè¿™å°±æ˜¯ä¸€ä¸ªå¯¼è‡´å½“å‰çº¿ç¨‹è¢«æŒ‚èµ·åˆ° Wait Queue çš„æ“ä½œ\nIO_DELAY = 1.0 \nTASK_COUNT = 50\n\ndef heavy_io_task_sync(idx):\n    # é˜»å¡å¼ IOï¼Œçº¿ç¨‹è¢« OS æŒ‚èµ·\n    time.sleep(IO_DELAY) \n\nasync def heavy_io_task_async(idx):\n    # éé˜»å¡ IOï¼Œæ§åˆ¶æƒäº¤è¿˜ç»™ Event Loopï¼Œ\n    # ä»…ä»…æ˜¯åœ¨ epoll/kqueue æ³¨å†Œäº†ä¸€ä¸ªäº‹ä»¶\n    await asyncio.sleep(IO_DELAY)\n\ndef run_threading():\n    start = time.perf_counter()\n    threads = []\n    for i in range(TASK_COUNT):\n        t = threading.Thread(target=heavy_io_task_sync, args=(i,))\n        t.start()\n        threads.append(t)\n    \n    for t in threads:\n        t.join()\n    print(f\"[Threading] Completed {TASK_COUNT} tasks in {time.perf_counter() - start:.4f}s\")\n    # ä»£ä»·ï¼šåˆ›å»ºäº† 50 ä¸ª OS çº¿ç¨‹ï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”€å¤§ï¼Œå†…å­˜å ç”¨é«˜ (æ¯ä¸ªçº¿ç¨‹é»˜è®¤æ ˆå¤§å° ~8MB)\n\nasync def run_asyncio():\n    start = time.perf_counter()\n    tasks = [heavy_io_task_async(i) for i in range(TASK_COUNT)]\n    # æ‰€æœ‰çš„ä»»åŠ¡åœ¨ä¸€ä¸ª OS çº¿ç¨‹å†…å®Œæˆï¼Œæ— å†…æ ¸æ€åˆ‡æ¢\n    await asyncio.gather(*tasks)\n    print(f\"[Asyncio]   Completed {TASK_COUNT} tasks in {time.perf_counter() - start:.4f}s\")\n\nif __name__ == \"__main__\":\n    print(f\"--- Benchmarking IO Concurrency (Tasks: {TASK_COUNT}) ---\")\n    run_threading()\n    asyncio.run(run_asyncio())\n\n\"\"\"\né¢„æœŸè¾“å‡ºç»“æœ (Trade-off æ˜¾è€Œæ˜“è§):\n--- Benchmarking IO Concurrency (Tasks: 50) ---\n[Threading] Completed 50 tasks in 1.0xxx s (åŠ ä¸Šæ˜¾è‘—çš„çº¿ç¨‹åˆ›å»ºå’Œè°ƒåº¦å¼€é”€)\n[Asyncio]   Completed 50 tasks in 1.00xx s (å‡ ä¹ä»…å—é™äºæœ€æ…¢çš„é‚£ä¸ª IO)\n\"\"\"\n\n</code></pre>\n<h3 id=\"14-æ€»ç»“\">1.4. æ€»ç»“</h3>\n<p>Python ä¸å¿«ï¼Œä½†å®ƒè®©â€œå¿«â€å˜å¾—å®¹æ˜“è®¿é—®ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°†æ·±å…¥æ¢è®¨ Python å†…å­˜ç®¡ç†çš„è‡³æš—æ—¶åˆ»ï¼š <strong>å¼•ç”¨è®¡æ•°æœºåˆ¶ (Reference Counting) ä¸åƒåœ¾å›æ”¶ (GC) çš„ä»£é™…å‡è¯´</strong>ï¼Œå¹¶åˆ†æä¸ºä½•åœ¨æŸäº›é«˜æ€§èƒ½åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨å¹²é¢„è¿™ä¸€æœºåˆ¶ä»¥é¿å… \"Stop-the-World\"ã€‚</p>\n<h2 id=\"2-åè®®å±‚æ˜¾å¼çš„æ§åˆ¶-explicit-resource-management\">2. åè®®å±‚â€”â€”æ˜¾å¼çš„æ§åˆ¶ (Explicit Resource Management)</h2>\n<p>å¦‚æœè¯´ C++ çš„å“²å­¦æ˜¯â€œä½ æ²¡æœ‰è°ƒç”¨çš„ä¸œè¥¿å°±ä¸éœ€è¦ä»˜å‡ºä»£ä»·â€ï¼Œé‚£ä¹ˆ Python çš„å“²å­¦åˆ™æ˜¯â€œä¸ºäº†å¼€å‘æ•ˆç‡ï¼Œä½ å¿…é¡»æ¥å—è¿è¡Œæ—¶å¼€é”€â€ã€‚åœ¨èµ„æºç®¡ç†å’Œæ§åˆ¶æµè¿™ä¸€å±‚ï¼Œè¿™ç§ Trade-off è¡¨ç°å¾—æ·‹æ¼“å°½è‡´ã€‚</p>\n<h3 id=\"21-raii-çš„-python-æ˜ å°„ä»éšå¼ææ„åˆ°æ˜¾å¼ä¸Šä¸‹æ–‡\">2.1. RAII çš„ Python æ˜ å°„ï¼šä»éšå¼ææ„åˆ°æ˜¾å¼ä¸Šä¸‹æ–‡</h3>\n<p>åœ¨ C++ ä¸­ï¼ŒRAII (Resource Acquisition Is Initialization) æ˜¯èµ„æºç®¡ç†çš„é»„é‡‘æ³•åˆ™ã€‚æˆ‘ä»¬ä¾èµ–æ ˆå¯¹è±¡çš„ç¡®å®šæ€§ç”Ÿå‘½å‘¨æœŸï¼šå½“ <code>std::lock_guard</code> ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼Œææ„å‡½æ•° <code>~lock_guard()</code> ä¼šè‡ªåŠ¨é‡Šæ”¾äº’æ–¥é”ã€‚è¿™ä¸€åˆ‡éƒ½å‘ç”Ÿåœ¨ç¼–è¯‘æœŸç¡®å®šçš„æ±‡ç¼–æŒ‡ä»¤ä¸­ï¼Œé›¶è¿è¡Œæ—¶å¼€é”€ã€‚</p>\n<p>ä½†åœ¨ Python ä¸­ï¼Œä½ é¢å¯¹çš„æ˜¯ä¸€ä¸ªå¸¦ GC çš„è¿è¡Œæ—¶ã€‚<strong>å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸä¸ä½œç”¨åŸŸæ˜¯è§£è€¦çš„</strong>ã€‚<br />\nå½“ä½ å†™ä¸‹ <code>f = open(\"file.txt\")</code> åï¼Œå³ä½¿å‡½æ•°è¿”å›ï¼Œ<code>f</code> æŒ‡å‘çš„ <code>PyObject</code> ä¹Ÿå¯èƒ½å› ä¸ºå¼•ç”¨è®¡æ•°æœªå½’é›¶ï¼ˆä¾‹å¦‚è¢«é—­åŒ…æ•è·ï¼‰æˆ–æ˜¯å¤„äºå¾ªç¯å¼•ç”¨ä¸­ç­‰å¾… GC æ‰«æï¼Œè€Œè¿Ÿè¿Ÿä¸è°ƒç”¨ <code>__del__</code>ã€‚</p>\n<p><strong>åº•å±‚çš„çœŸç›¸ï¼š</strong> ä¾èµ– <code>__del__</code> ç®¡ç†æ–‡ä»¶å¥æŸ„æˆ–æ•°æ®åº“è¿æ¥æ˜¯ç³»ç»Ÿç¼–ç¨‹ä¸­çš„è‡ªæ€è¡Œä¸ºã€‚ä½ æ— æ³•é¢„æµ‹ GC ä½•æ—¶å‘ç”Ÿï¼ˆStop-the-Worldï¼‰ï¼Œè¿™æ„å‘³ç€ä½ çš„æ–‡ä»¶æè¿°ç¬¦ (fd) å¯èƒ½ä¼šè¢«è€—å°½ã€‚</p>\n<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒPython å¼•å…¥äº† <strong>ä¸Šä¸‹æ–‡ç®¡ç†å™¨åè®® (Context Manager Protocol)</strong>â€”â€”å³ <code>with</code> è¯­å¥ã€‚</p>\n<h4 id=\"211-åè®®è§£æ„__enter__-ä¸-__exit__\">2.1.1. åè®®è§£æ„ï¼š<code>__enter__</code> ä¸ <code>__exit__</code></h4>\n<p><code>with</code> è¯­å¥æœ¬è´¨ä¸Šæ˜¯ç¼–è¯‘å™¨æ³¨å…¥çš„ <code>try...finally</code> å—çš„è¯­æ³•ç³–ï¼Œä½†å®ƒå°†èµ„æºç®¡ç†çš„é€»è¾‘å°è£…åˆ°äº†å¯¹è±¡å†…éƒ¨ã€‚</p>\n<ul>\n<li><strong><code>__enter__(self)</code></strong>: å¯¹åº” C++ çš„æ„é€ é€»è¾‘ã€‚åˆ†é…èµ„æºï¼Œè¿”å›å¥æŸ„ã€‚</li>\n<li><strong><code>__exit__(self, exc_type, exc_val, exc_tb)</code></strong>: å¯¹åº” C++ çš„ææ„é€»è¾‘ã€‚æ— è®ºä»£ç å—æ˜¯æ­£å¸¸ç»“æŸè¿˜æ˜¯æŠ›å‡ºå¼‚å¸¸ï¼ŒVM éƒ½ä¼šå¼ºåˆ¶è·³è½¬åˆ°è¿™é‡Œã€‚</li>\n</ul>\n<p><strong>ä»£ç å®ç°ï¼šæ‰‹å†™ä¸€ä¸ªåŸå­çº§é”å«å£«</strong></p>\n<p>è®©æˆ‘ä»¬ç”¨ Python å®ç°ä¸€ä¸ªç±»ä¼¼ C++ <code>std::lock_guard</code> çš„æœºåˆ¶ã€‚æ³¨æ„çœ‹ <code>__exit__</code> å¦‚ä½•å¤„ç†å¼‚å¸¸ä¼ æ’­â€”â€”è¿™æ˜¯ C++ ææ„å‡½æ•°é€šå¸¸æåŠ›é¿å…çš„ï¼ˆææ„æŠ›å‡ºå¼‚å¸¸ä¼šå¯¼è‡´ <code>std::terminate</code>ï¼‰ï¼Œè€Œåœ¨ Python ä¸­å´æ˜¯æ§åˆ¶æµçš„ä¸€éƒ¨åˆ†ã€‚</p>\n<pre><code class=\"language-python\">import threading\nfrom types import TracebackType\nfrom typing import Optional, Type\n\nclass ScopedLock:\n    \"\"\"\n    æ¨¡æ‹Ÿ C++ std::lock_guard çš„ RAII è¡Œä¸ºã€‚\n    åº•å±‚å¯¹åº” opcode: SETUP_WITH -&gt; ... -&gt; WITH_EXCEPT_START / CALL_FUNCTION (__exit__)\n    \"\"\"\n    __slots__ = ('_lock',) # å†…å­˜ä¼˜åŒ–ï¼šç¦æ­¢ __dict__ï¼Œä»…åˆ†é…æŒ‡é’ˆå¤§å°çš„å†…å­˜\n\n    def __init__(self, lock: threading.Lock):\n        self._lock = lock\n\n    def __enter__(self):\n        # å¯¹åº” lock.acquire()ï¼Œé˜»å¡ç›´åˆ°è·å¾—é”\n        # è¿”å›å€¼ç»‘å®šåˆ° with ... as target çš„ target\n        self._lock.acquire()\n        return self \n\n    def __exit__(self, \n                 exc_type: Optional[Type[BaseException]], \n                 exc_val: Optional[BaseException], \n                 exc_tb: Optional[TracebackType]):\n        # å¯¹åº” lock.release()\n        # è¿™æ˜¯ä¸€ä¸ªç¡®å®šæ€§çš„æ¸…ç†ç‚¹ï¼Œä¸ä¾èµ– GC\n        self._lock.release()\n        \n        # Trade-off: \n        # å¦‚æœè¿”å› Trueï¼Œå¼‚å¸¸è¢«åå™¬ï¼ˆç±»ä¼¼ catch {...}ï¼‰ã€‚\n        # å¦‚æœè¿”å› False æˆ– Noneï¼Œå¼‚å¸¸ç»§ç»­å‘ä¸Šä¼ æ’­ï¼ˆRethrowï¼‰ã€‚\n        if exc_type:\n            print(f\"[System Logic] Detecting Unwind: {exc_type.__name__}\")\n            # è¿™é‡Œå¯ä»¥é€‰æ‹©å¤„ç†å¼‚å¸¸ï¼Œæˆ–è€…è®©å®ƒç»§ç»­å¯¼è‡´æ ˆå±•å¼€\n        return False\n\n# Usage\nlock = threading.Lock()\nwith ScopedLock(lock):\n    # Critical Section\n    print(\"In Critical Section\")\n    # å³ä½¿è¿™é‡Œå‘ç”Ÿ 1/0 å¼‚å¸¸ï¼Œ_lock.release() ä¾ç„¶ä¼šè¢«ç²¾å‡†æ‰§è¡Œ\n\n</code></pre>\n<p>ä»å­—èŠ‚ç è§’åº¦çœ‹ï¼Œ<code>with</code> è¯­å¥ç”Ÿæˆäº† <code>SETUP_WITH</code> æŒ‡ä»¤ï¼Œå®ƒå°† <code>__exit__</code> æ–¹æ³•å‹å…¥<strong>è¿è¡Œæ—¶æ ˆ (Evaluation Stack)</strong>ã€‚è¿™æ¯” C++ çš„ç¼–è¯‘å™¨é™æ€æ’å…¥ææ„è°ƒç”¨è¦é‡å¾—å¤šï¼Œä½†å®ƒèµ‹äºˆäº†è¿è¡Œæ—¶åŠ¨æ€å¤„ç†å¼‚å¸¸çš„çµæ´»æ€§ã€‚</p>\n<h3 id=\"22-çŠ¶æ€æœºçš„é­”æ³•ç”Ÿæˆå™¨-generators-ä¸æ ˆå¸§æŒä¹…åŒ–\">2.2. çŠ¶æ€æœºçš„é­”æ³•ï¼šç”Ÿæˆå™¨ (Generators) ä¸æ ˆå¸§æŒä¹…åŒ–</h3>\n<p>åœ¨ Java ä¸­ï¼Œå¦‚æœä½ æƒ³å®ç°ä¸€ä¸ªæƒ°æ€§è¿­ä»£å™¨ï¼ˆIteratorï¼‰ï¼Œä½ é€šå¸¸éœ€è¦å®šä¹‰ä¸€ä¸ªç±»ï¼Œç»´æŠ¤ <code>currentIndex</code> çŠ¶æ€ï¼Œå¹¶å®ç° <code>hasNext()</code> å’Œ <code>next()</code>ã€‚è¿™æ˜¯ä¸€ç§<strong>æ˜¾å¼çš„çŠ¶æ€æœº</strong>ç»´æŠ¤ã€‚</p>\n<p>Python çš„ Generator åˆ™å¼•å…¥äº†ä¸€ç§æ›´é«˜é˜¶çš„æŠ½è±¡ï¼š<strong>éšå¼çŠ¶æ€æœº</strong>ï¼Œæˆ–è€…æ›´å‡†ç¡®åœ°è¯´ï¼Œ<strong>ç”¨æˆ·æ€çš„æ ˆå¸§æŒ‚èµ·</strong>ã€‚</p>\n<h4 id=\"221-æ ¸å¿ƒå·®å¼‚c-æ ˆ-vs-python-æ ˆ\">2.2.1. æ ¸å¿ƒå·®å¼‚ï¼šC æ ˆ vs. Python æ ˆ</h4>\n<p>ç†è§£ Generator çš„å…³é”®åœ¨äºç†è§£ Python çš„å‡½æ•°è°ƒç”¨æ¨¡å‹ï¼š</p>\n<ol>\n<li><strong>C Stack (ç³»ç»Ÿæ ˆ):</strong> Python è§£é‡Šå™¨ï¼ˆCç¨‹åºï¼‰è‡ªèº«çš„å‡½æ•°è°ƒç”¨æ ˆã€‚</li>\n<li><strong>Python Stack (è™šæ‹Ÿæ ˆ):</strong> Python ä»£ç æ‰§è¡Œæ—¶çš„æ ˆå¸§ (<code>PyFrameObject</code>) é“¾è¡¨ã€‚</li>\n</ol>\n<p>å…³é”®ç‚¹æ¥äº†ï¼š<strong><code>PyFrameObject</code> æ˜¯åˆ†é…åœ¨å †ï¼ˆHeapï¼‰ä¸Šçš„å¯¹è±¡</strong>ã€‚</p>\n<p>å½“ä½ è°ƒç”¨ä¸€ä¸ªæ™®é€šå‡½æ•°æ—¶ï¼ŒPython åˆ›å»ºä¸€ä¸ª Frameï¼Œæ‰§è¡Œå®Œåé”€æ¯ã€‚<br />\nä½†å½“ä½ è°ƒç”¨ä¸€ä¸ª Generator å‡½æ•°æ—¶ï¼š</p>\n<ol>\n<li>Python åˆ›å»ºä¸€ä¸ª Frameã€‚</li>\n<li>é‡åˆ° <code>yield</code> å…³é”®å­—æ—¶ï¼Œè§£é‡Šå™¨<strong>æš‚åœ</strong>è¯¥ Frame çš„æ‰§è¡Œã€‚</li>\n<li><strong>ä¿å­˜æŒ‡ä»¤æŒ‡é’ˆ (f_lasti)</strong>ï¼šè®°å½•å½“å‰æ‰§è¡Œåˆ°äº†å“ªæ¡å­—èŠ‚ç ã€‚</li>\n<li><strong>ä¿å­˜æ“ä½œæ•°æ ˆ</strong>ï¼šè®°å½•å½“å‰çš„ä¸´æ—¶å˜é‡ã€‚</li>\n<li>å°†æ§åˆ¶æƒè¿”å›ç»™è°ƒç”¨è€…ï¼Œä½†<strong>ä¸é”€æ¯è¯¥ Frame</strong>ã€‚</li>\n</ol>\n<p>è¿™æ„å‘³ç€ï¼ŒGenerator æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª<strong>é€ƒé€¸äº†ç”Ÿå‘½å‘¨æœŸçš„æ ˆå¸§</strong>ã€‚</p>\n<h4 id=\"222-ä»£ç å®ç°çª¥æ¢æŒ‚èµ·çš„å†…æ ¸\">2.2.2. ä»£ç å®ç°ï¼šçª¥æ¢æŒ‚èµ·çš„å†…æ ¸</h4>\n<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>inspect</code> æ¨¡å—ç›´æ¥è§‚å¯Ÿè¿™ä¸ªâ€œåƒµå°¸â€æ ˆå¸§çš„å†…éƒ¨çŠ¶æ€ã€‚è¿™åœ¨ C++ ä¸­éœ€è¦ GDB æ‰èƒ½åšåˆ°ï¼Œè€Œåœ¨ Python ä¸­ï¼Œè¿™æ˜¯è¯­è¨€ç‰¹æ€§çš„ä¸€éƒ¨åˆ†ã€‚</p>\n<pre><code class=\"language-python\">import inspect\n\ndef stateful_execution():\n    \"\"\"\n    ä¸€ä¸ªç®€å•çš„ç”Ÿæˆå™¨ï¼Œæ¼”ç¤ºæ ˆå¸§çš„æŒ‚èµ·ä¸æ¢å¤ã€‚\n    \"\"\"\n    x = 10          # å±€éƒ¨å˜é‡ï¼Œå­˜å‚¨åœ¨ f_locals\n    yield x         # ç¬¬ä¸€æ¬¡æŒ‚èµ·ï¼šä¿å­˜ IPï¼Œè¿”å› 10\n    \n    x += 5\n    y = \"System\"\n    yield x + 10    # ç¬¬äºŒæ¬¡æŒ‚èµ·ï¼šè¿”å› 25\n    \n    return \"EOF\"    # æŠ›å‡º StopIteration\n\n# 1. åˆ›å»ºç”Ÿæˆå™¨å¯¹è±¡ï¼Œæ­¤æ—¶å‡½æ•°ä½“å†…çš„ä»£ç ä¸€è¡Œéƒ½è¿˜æ²¡æ‰§è¡Œ\ngen = stateful_execution()\n\n# 2. ç¬¬ä¸€æ¬¡æ¿€æ´»\nval1 = next(gen)\nprint(f\"Yielded: {val1}\")\n\n# --- Hardcore Inspection ---\n# è·å–ç”Ÿæˆå™¨å…³è”çš„æ ˆå¸§å¯¹è±¡ (PyFrameObject)\nframe = gen.gi_frame\n\nprint(f\"\\n[Frame Inspection]\")\nprint(f\"Instruction Pointer (f_lasti): {frame.f_lasti}\") # å½“å‰å­—èŠ‚ç åç§»é‡\nprint(f\"Local Variables (f_locals):  {frame.f_locals}\") # {'x': 10}\n\n# 3. æ¢å¤æ‰§è¡Œ\n# è§£é‡Šå™¨è¯»å– frame.f_lastiï¼Œæ¢å¤ CPU å¯„å­˜å™¨çŠ¶æ€ï¼Œç»§ç»­æ‰§è¡Œ\nval2 = next(gen)\nprint(f\"\\nYielded: {val2}\")\nprint(f\"Local Variables Updated:     {gen.gi_frame.f_locals}\") # {'x': 15, 'y': 'System'}\n\n</code></pre>\n<h4 id=\"223-è¿›åŒ–æ„ä¹‰ä»è¿­ä»£å™¨åˆ°åç¨‹\">2.2.3. è¿›åŒ–æ„ä¹‰ï¼šä»è¿­ä»£å™¨åˆ°åç¨‹</h4>\n<p>è¿™ç§æœºåˆ¶çš„æ·±è¿œæ„ä¹‰åœ¨äºï¼Œå®ƒè®©<strong>å¼‚æ­¥ç¼–ç¨‹</strong>æˆä¸ºå¯èƒ½ã€‚</p>\n<p>å¦‚æœ <code>yield</code> ä¸ä»…èƒ½äº§å‡ºå€¼ï¼Œè¿˜èƒ½æ¥æ”¶å€¼ï¼ˆé€šè¿‡ <code>gen.send()</code>ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°å°±å˜æˆäº†ä¸€ä¸ªå¯ä»¥é€šè¿‡æ¶ˆæ¯ä¼ é€’è¿›è¡Œåä½œçš„<strong>åç¨‹ (Coroutine)</strong>ã€‚</p>\n<ul>\n<li><strong>Java Iterator:</strong> ä»…ä»…æ˜¯æ•°æ®çš„ç”Ÿäº§è€…ã€‚</li>\n<li><strong>Python Generator:</strong> æ˜¯ä¸€ä¸ªæ‹¥æœ‰ç‹¬ç«‹æ ˆç©ºé—´ã€å¯ä»¥æš‚åœã€å¯ä»¥æ¢å¤ã€å¯ä»¥äº¤äº’çš„<strong>å¾®çº¿ç¨‹</strong>ã€‚</li>\n</ul>\n<p>åœ¨ Python 3.5 ä¹‹å‰ï¼Œ<code>@asyncio.coroutine</code> æ­£æ˜¯åˆ©ç”¨ <code>yield from</code> å®ç°çš„ã€‚è€Œåœ¨ Python 3.5 ä¹‹åï¼Œ<code>async/await</code> åªæ˜¯å°†è¿™ç§åŸºäºç”Ÿæˆå™¨çš„å„ç§é»‘é­”æ³•åŒ…è£…æˆäº†åŸç”Ÿè¯­æ³•ï¼Œåº•å±‚çš„ <code>PyFrameObject</code> è°ƒåº¦é€»è¾‘ä¾ç„¶æ˜¯ä¸€è„‰ç›¸æ‰¿çš„ã€‚</p>\n<p><strong>Trade-off åˆ†æï¼š</strong></p>\n<ul>\n<li><strong>æ€§èƒ½æŸè€—ï¼š</strong> æ¯æ¬¡ <code>yield</code> å’Œæ¢å¤ç¡®å®æ¯”ç®€å•çš„ C æŒ‡é’ˆé€’å¢è¦æ…¢ï¼ˆæ¶‰åŠ Python å¯¹è±¡å­˜å–ï¼‰ã€‚</li>\n<li><strong>æ¶æ„æ”¶ç›Šï¼š</strong> ä½ ç”¨åŒæ­¥çš„ä»£ç é€»è¾‘ï¼ˆçº¿æ€§çš„ <code>for</code>, <code>while</code>ï¼‰ï¼Œå†™å‡ºäº†æå…¶å¤æ‚çš„å¼‚æ­¥æµå¼å¤„ç†é€»è¾‘ã€‚åœ¨å¤„ç†æ•°ä»¥äº¿è®¡çš„ AI Token æµæ—¶ï¼Œè¿™ç§å†…å­˜å‹å¥½ä¸”é€»è¾‘æ¸…æ™°çš„æŠ½è±¡ï¼Œæ˜¯æ— ä»·çš„ã€‚</li>\n</ul>\n<h2 id=\"3-æ·é”å±‚è¢«åŠ¨çš„è°ƒåº¦-the-reality-of-gil\">3. æ·é”å±‚â€”â€”è¢«åŠ¨çš„è°ƒåº¦ (The Reality of GIL)</h2>\n<h3 id=\"31-å†…å­˜å®‰å…¨çš„æƒè¡¡c-è§†è§’ä¸‹çš„-ob_refcnt\">3.1. å†…å­˜å®‰å…¨çš„æƒè¡¡ï¼šC++ è§†è§’ä¸‹çš„ <code>ob_refcnt</code></h3>\n<p>åœ¨ C++ ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>std::shared_ptr</code> æ¥ç®¡ç†å¼•ç”¨è®¡æ•°ã€‚ä¸ºäº†ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œ<code>std::shared_ptr</code> çš„å¼•ç”¨è®¡æ•°æ“ä½œï¼ˆ<code>incref</code>/<code>decref</code>ï¼‰å†…éƒ¨å¿…é¡»ä½¿ç”¨åŸå­æ“ä½œï¼ˆAtomic Operationsï¼‰ï¼Œé€šå¸¸å¯¹åº”æ±‡ç¼–æŒ‡ä»¤ <code>LOCK XADD</code>ã€‚</p>\n<p><strong>Trade-off çš„æ ¸å¿ƒï¼š</strong><br />\nåŸå­æ“ä½œä¸æ˜¯å…è´¹çš„ã€‚åœ¨å¤šæ ¸ CPU ä¸Šï¼ŒåŸå­æ“ä½œä¼šå¯¼è‡´ç¼“å­˜ä¸€è‡´æ€§æµé‡ï¼ˆCache Coherence Trafficï¼‰æ¿€å¢ï¼Œè¿™æ¯”æ™®é€šçš„å†…å­˜è¯»å†™è¦æ…¢ä¸€ä¸ªæ•°é‡çº§ã€‚</p>\n<p>Python çš„è®¾è®¡è€…é¢ä¸´ä¸€ä¸ªé€‰æ‹©ï¼š</p>\n<ol>\n<li><strong>ç»†ç²’åº¦é”ï¼ˆFine-grained Lockingï¼‰ï¼š</strong> è®©æ¯ä¸ª <code>PyObject</code> è‡ªå¸¦ä¸€ä¸ª <code>std::mutex</code>ï¼Œæˆ–è€…ä½¿ç”¨åŸå­æ“ä½œæ›´æ–°å¼•ç”¨è®¡æ•°ã€‚</li>\n</ol>\n<ul>\n<li><em>åæœï¼š</em> å•çº¿ç¨‹æ€§èƒ½ä¸‹é™ 30%~50%ï¼ˆå†å²å®æµ‹æ•°æ®ï¼‰ã€‚å› ä¸ºå³ä½¿åœ¨å•çº¿ç¨‹ä¸‹ï¼Œä½ ä¹Ÿå¿…é¡»æ”¯ä»˜åŸå­æ“ä½œçš„æ˜‚è´µå¼€é”€ã€‚</li>\n</ul>\n<ol start=\"2\">\n<li><strong>å·¨é”ï¼ˆCoarse-grained Lockingï¼‰ï¼š</strong> å¼•å…¥ä¸€æŠŠå…¨å±€çš„å¤§é”ï¼ˆGILï¼‰ï¼Œä¿æŠ¤æ•´ä¸ªè§£é‡Šå™¨çŠ¶æ€ã€‚</li>\n</ol>\n<ul>\n<li><em>åæœï¼š</em> å¤šæ ¸å¹¶å‘æˆä¸ºæ³¡å½±ï¼Œå¤šçº¿ç¨‹æ²¦ä¸ºå¹¶å‘ï¼ˆConcurrencyï¼‰è€Œéå¹¶è¡Œï¼ˆParallelismï¼‰ã€‚</li>\n<li><em>æ”¶ç›Šï¼š</em> å•çº¿ç¨‹æå…¶é«˜æ•ˆï¼ˆæ— é”å¼€é”€ï¼‰ï¼ŒC æ‰©å±•ç¼–å†™æå…¶ç®€å•ï¼ˆé»˜è®¤ä¸éœ€è¦è€ƒè™‘çº¿ç¨‹å®‰å…¨ï¼‰ã€‚</li>\n</ul>\n<p>Python é€‰æ‹©äº†åè€…ã€‚GIL æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª <strong>äº’æ–¥é‡ (Mutex)</strong>ï¼Œå®ƒä¿æŠ¤çš„ä¸æ˜¯ä½ çš„å˜é‡ï¼Œè€Œæ˜¯ <code>PyObject</code> ç»“æ„ä½“ä¸­çš„ <code>ob_refcnt</code> å­—æ®µä»¥åŠè§£é‡Šå™¨çš„å…¨å±€çŠ¶æ€ã€‚</p>\n<blockquote>\n<p><strong>C++ ç¨‹åºå‘˜çš„é¡¿æ‚Ÿï¼š</strong><br />\nGIL çš„å­˜åœ¨ï¼Œæ˜¯ä¸ºäº†è®© CPython çš„ <code>malloc</code> å’Œ <code>free</code>ï¼ˆå³ <code>Py_INCREF</code>/<code>Py_DECREF</code>ï¼‰åœ¨ä¸ä½¿ç”¨åŸå­æŒ‡ä»¤çš„æƒ…å†µä¸‹ï¼Œä¾ç„¶èƒ½ä¿æŒå†…å­˜çš„ä¸€è‡´æ€§ã€‚</p>\n</blockquote>\n<h3 id=\"32-ç«æ€æ¡ä»¶çš„çœŸç›¸åŸå­æ€§çš„å¹»è§‰\">3.2. ç«æ€æ¡ä»¶çš„çœŸç›¸ï¼šåŸå­æ€§çš„å¹»è§‰</h3>\n<p>å¾ˆå¤šåˆå­¦è€…è¯¯ä»¥ä¸ºï¼šâ€œæ—¢ç„¶æœ‰ GILï¼ŒåŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨è·‘ï¼Œé‚£æˆ‘å°±ä¸éœ€è¦é”äº†ã€‚â€<br />\nè¿™æ˜¯å¤§é”™ç‰¹é”™çš„ã€‚</p>\n<p><strong>GIL ä¿è¯çš„æ˜¯å­—èŠ‚ç ï¼ˆBytecodeï¼‰æ‰§è¡Œçš„åŸå­æ€§ï¼Œè€Œä¸æ˜¯ä¸šåŠ¡é€»è¾‘çš„åŸå­æ€§ã€‚</strong></p>\n<p>æ“ä½œç³»ç»Ÿï¼ˆæˆ–è€… Python è§£é‡Šå™¨å†…éƒ¨çš„è°ƒåº¦å™¨ï¼‰å¯ä»¥åœ¨<strong>ä»»æ„ä¸¤ä¸ªå­—èŠ‚ç ä¹‹é—´</strong>è¿›è¡Œä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚å¦‚æœä½ çš„ä¸šåŠ¡é€»è¾‘ç”±å¤šæ¡å­—èŠ‚ç ç»„æˆï¼Œé‚£ä¹ˆåœ¨ä¸­é—´è¢«åˆ‡èµ°å°±æ˜¯å¿…ç„¶å‘ç”Ÿçš„ã€‚</p>\n<h4 id=\"321-ä»£ç å®ç°è§£å‰–-n--1\">3.2.1. ä»£ç å®ç°ï¼šè§£å‰– <code>n += 1</code></h4>\n<p>åœ¨ C++ ä¸­ï¼Œ<code>n++</code> é€šå¸¸ä¹Ÿä¸æ˜¯åŸå­çš„ï¼ˆé™¤éç”¨ <code>std::atomic&lt;int&gt;</code>ï¼‰ï¼Œå®ƒå¯¹åº” <code>Read-Modify-Write</code> ä¸‰ä¸ªæ­¥éª¤ã€‚Python ä¸­äº¦ç„¶ï¼Œä½†æ›´åŠ å¤æ‚ã€‚</p>\n<p>è®©æˆ‘ä»¬ç”¨ <code>dis</code> æ¨¡å—æ¥çœ‹çœ‹ <code>n += 1</code> åœ¨åº•å±‚åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆã€‚</p>\n<pre><code class=\"language-python\">import dis\nimport threading\n\nn = 0\n\ndef race_condition():\n    global n\n    # è¿™ä¸€è¡Œçœ‹ä¼¼ç®€å•çš„ä»£ç ï¼Œåœ¨ VM çœ¼é‡Œæ˜¯ 4 æ¡æŒ‡ä»¤\n    n += 1\n\nprint(f\"--- Bytecode Disassembly for 'n += 1' ---\")\ndis.dis(race_condition)\n\n</code></pre>\n<p><strong>è¾“å‡ºåˆ†æï¼ˆæ±‡ç¼–è§†è§’ï¼‰ï¼š</strong></p>\n<pre><code class=\"language-text\">  7           0 LOAD_GLOBAL              0 (n)    &lt;-- Step 1: è¯»å– n åˆ°æ ˆé¡¶\n              2 LOAD_CONST               1 (1)    &lt;-- Step 2: å‹å…¥å¸¸æ•° 1\n              4 INPLACE_ADD                       &lt;-- Step 3: æ‰§è¡ŒåŠ æ³•\n              6 STORE_GLOBAL             0 (n)    &lt;-- Step 4: å†™å› n\n\n</code></pre>\n<p><strong>ç¾éš¾å‘ç”Ÿçš„ç¬é—´ï¼š</strong></p>\n<ol>\n<li><strong>çº¿ç¨‹ A</strong> æ‰§è¡Œäº† <code>LOAD_GLOBAL</code>ï¼Œæ‹¿åˆ°äº† <code>n=0</code>ï¼Œæ”¾å…¥è‡ªå·±çš„æ ˆå¸§ã€‚</li>\n<li><strong>GIL é‡Šæ”¾ï¼</strong> (å¯èƒ½æ˜¯æ—¶é—´ç‰‡åˆ°äº†ï¼ŒPython 3.2+ é»˜è®¤ <code>sys.getswitchinterval()</code> ä¸º 5ms)ã€‚</li>\n<li><strong>çº¿ç¨‹ B</strong> è·å¾— GILï¼Œæ‰§è¡Œå®Œæ•´çš„ <code>n += 1</code>ã€‚æ­¤æ—¶å†…å­˜ä¸­çš„ <code>n</code> å˜æˆäº† 1ã€‚</li>\n<li><strong>GIL é‡æ–°è¢«çº¿ç¨‹ A è·å–ã€‚</strong></li>\n<li><strong>çº¿ç¨‹ A</strong> ç»§ç»­æ‰§è¡Œ <code>INPLACE_ADD</code>ã€‚æ³¨æ„ï¼Œå®ƒæ ˆé‡Œçš„ <code>n</code> ä¾ç„¶æ˜¯ 0ï¼ˆå› ä¸ºå®ƒæ˜¯ä»è‡ªå·±çš„æ ˆå¸§ä¸­è¯»å–æ“ä½œæ•°ï¼Œè€Œä¸æ˜¯é‡æ–°å»å†…å­˜è¯»ï¼‰ã€‚</li>\n<li><strong>çº¿ç¨‹ A</strong> è®¡ç®— <code>0 + 1 = 1</code>ã€‚</li>\n<li><strong>çº¿ç¨‹ A</strong> æ‰§è¡Œ <code>STORE_GLOBAL</code>ï¼ŒæŠŠ <code>1</code> å†™å…¥å†…å­˜ï¼Œè¦†ç›–äº†çº¿ç¨‹ B çš„ç»“æœã€‚</li>\n</ol>\n<p><strong>ç»“æœï¼š</strong> ä¸¤ä¸ªçº¿ç¨‹å„åŠ äº†ä¸€æ¬¡ï¼Œç»“æœåº”è¯¥æ˜¯ 2ï¼Œä½†å®é™…æ˜¯ 1ã€‚è¿™å°±æ˜¯å…¸å‹çš„ <strong>Lost Update</strong> é—®é¢˜ã€‚</p>\n<h4 id=\"322-å¤šæ ¸æ—¶ä»£çš„æŠ¤èˆªæ•ˆåº”-the-convoy-effect\">3.2.2. å¤šæ ¸æ—¶ä»£çš„â€œæŠ¤èˆªæ•ˆåº”â€ (The Convoy Effect)</h4>\n<p>åœ¨å•æ ¸æ—¶ä»£ï¼ŒGIL åªæ˜¯ç®€å•çš„åˆ†æ—¶å¤ç”¨ã€‚ä½†åœ¨å¤šæ ¸ CPU ä¸Šï¼Œæƒ…å†µä¼šå˜å¾—æ›´ç³Ÿã€‚</p>\n<p>å½“æŒæœ‰ GIL çš„çº¿ç¨‹ A é‡Šæ”¾é”ï¼ˆä¾‹å¦‚å› ä¸º I/O æˆ–å¼ºåˆ¶åˆ‡æ¢ï¼‰æ—¶ï¼ŒOS å¯èƒ½ä¼šåŒæ—¶å”¤é†’çº¿ç¨‹ Bã€C å’Œ Dã€‚å®ƒä»¬ä¼šåœ¨ä¸åŒçš„ CPU æ ¸å¿ƒä¸Šé†’æ¥ï¼Œç–¯ç‹‚äº‰æŠ¢è¿™æŠŠå”¯ä¸€çš„é”ã€‚ç»“æœåªæœ‰ B æŠ¢åˆ°äº†ï¼ŒC å’Œ D äº‰æŠ¢å¤±è´¥ï¼Œå†æ¬¡è¢« OS æŒ‚èµ·ã€‚</p>\n<p>è¿™ç§ <strong>â€œå”¤é†’-äº‰æŠ¢-å¤±è´¥-æŒ‚èµ·â€</strong> çš„å¾ªç¯ä¼šå¯¼è‡´ä¸¥é‡çš„ CPU æŠ–åŠ¨ (Thrashing)ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆåœ¨è®¡ç®—å¯†é›†å‹ä»»åŠ¡ä¸­ï¼ŒPython å¤šçº¿ç¨‹å¾€å¾€æ¯”å•çº¿ç¨‹è¿˜è¦æ…¢â€”â€”æˆ‘ä»¬ä¸ä»…æ²¡æœ‰åˆ©ç”¨å¤šæ ¸ï¼Œåè€Œæµªè´¹äº†å¤§é‡çš„ CPU å‘¨æœŸåœ¨ OS çš„è°ƒåº¦å¼€é”€ä¸Šã€‚</p>\n<h4 id=\"323-ä¸ºä»€ä¹ˆå¿…é¡»ä½¿ç”¨-threadinglock\">3.2.3. ä¸ºä»€ä¹ˆå¿…é¡»ä½¿ç”¨ <code>threading.Lock</code>ï¼Ÿ</h4>\n<p>åœ¨ Python ä¸­ä½¿ç”¨ <code>threading.Lock</code>ï¼Œå®é™…ä¸Šæ˜¯åœ¨åº”ç”¨å±‚å¼•å…¥äº†ç¬¬äºŒæŠŠé”ã€‚</p>\n<pre><code class=\"language-python\">lock = threading.Lock()\n\ndef safe_increment():\n    global n\n    # ç”³è¯·é”ï¼šå¦‚æœæ‹¿ä¸åˆ°ï¼Œçº¿ç¨‹è¿›å…¥é˜»å¡çŠ¶æ€ï¼ŒGIL è‡ªåŠ¨é‡Šæ”¾ç»™åˆ«äºº\n    with lock:\n        # ä¸´ç•ŒåŒº (Critical Section)\n        # å³ä½¿ GIL åœ¨è¿™é‡Œé‡Šæ”¾ï¼Œå…¶ä»–çº¿ç¨‹ä¹Ÿæ— æ³•è¿›å…¥è¿™ä¸ªä»£ç å—\n        # å› ä¸ºå®ƒä»¬æ‹¿ä¸åˆ°åº”ç”¨å±‚çš„ lock\n        n += 1\n\n</code></pre>\n<p><strong>åº•å±‚é€»è¾‘ï¼š</strong></p>\n<ul>\n<li><strong>GIL</strong> ä¿æŠ¤çš„æ˜¯ <code>ob_refcnt</code> ä¸ä¹±å¥—ï¼ˆé˜²æ­¢è§£é‡Šå™¨å´©æºƒï¼‰ã€‚</li>\n<li><strong>threading.Lock</strong> ä¿æŠ¤çš„æ˜¯ <code>n</code> çš„å€¼ç¬¦åˆé¢„æœŸï¼ˆé˜²æ­¢ä¸šåŠ¡é€»è¾‘é”™è¯¯ï¼‰ã€‚</li>\n</ul>\n<h3 id=\"33-io-é‡Šæ”¾ä¸-cpu-å¯†é›†å‹çš„æ­»å±€\">3.3. I/O é‡Šæ”¾ä¸ CPU å¯†é›†å‹çš„æ­»å±€</h3>\n<p>æˆ‘ä»¬å¸¸è¯´â€œPython å¤šçº¿ç¨‹é€‚åˆ I/O å¯†é›†å‹â€ï¼Œå…¶åº•å±‚æœºç†åœ¨äºï¼š</p>\n<p>å½“ Python æ‰§è¡Œç³»ç»Ÿè°ƒç”¨ï¼ˆå¦‚ <code>read()</code>, <code>write()</code>, <code>recv()</code>, <code>sleep()</code>ï¼‰æ—¶ï¼ŒC ä»£ç ä¼šåœ¨è°ƒç”¨é˜»å¡çš„ C å‡½æ•°ä¹‹å‰ï¼Œ<strong>ä¸»åŠ¨é‡Šæ”¾ GIL</strong>ï¼ˆè°ƒç”¨ <code>Py_BEGIN_ALLOW_THREADS</code> å®ï¼‰ã€‚</p>\n<pre><code class=\"language-c\">/* CPython æºç ä¼ªä»£ç  (socket module) */\nstatic PyObject *\nsock_recv(PySocketSockObject *s, PyObject *args)\n{\n    // ... è§£æå‚æ•° ...\n    \n    // é‡Šæ”¾ GILï¼Œå…è®¸å…¶ä»– Python çº¿ç¨‹è¿è¡Œ\n    Py_BEGIN_ALLOW_THREADS\n    \n    // é˜»å¡çš„ç³»ç»Ÿè°ƒç”¨ï¼Œæ­¤æ—¶ CPU ä¸åœ¨ Python æ‰‹é‡Œ\n    count = recv(s-&gt;sock_fd, buffer, len, flags);\n    \n    // é‡æ–°è·å– GILï¼Œå‡†å¤‡è¿”å› Python å¯¹è±¡\n    Py_END_ALLOW_THREADS\n    \n    // ... åŒ…è£…ç»“æœ ...\n    return result;\n}\n\n</code></pre>\n<p>è¿™æ„å‘³ç€ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹åœ¨ç­‰ç½‘ç»œåŒ…æ—¶ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹å¯ä»¥æ‹¿åˆ° GIL å»è·‘ Python ä»£ç ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆåœ¨çˆ¬è™«ã€Web æœåŠ¡ä¸­ï¼ŒPython çš„å¤šçº¿ç¨‹ä¾ç„¶æœ‰æ•ˆã€‚</p>\n<p>ä½†å¦‚æœæ˜¯ <strong>CPU å¯†é›†å‹</strong>ï¼ˆå¦‚å›¾åƒå¤„ç†ã€çŸ©é˜µè®¡ç®—ï¼‰ï¼Œçº¿ç¨‹ä¸ä¼šä¸»åŠ¨é‡Šæ”¾ GILï¼Œåªèƒ½ç­‰å¾…è§£é‡Šå™¨å¼ºåˆ¶åˆ‡æ¢ï¼ˆCheck Intervalï¼‰ã€‚è¿™ä¸ä»…æ— æ³•åˆ©ç”¨å¤šæ ¸ï¼Œåè€Œå› ä¸ºé¢‘ç¹çš„é”äº‰æŠ¢ï¼ˆLock Contentionï¼‰å’Œä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œå¯¼è‡´å¤šçº¿ç¨‹æ¯”å•çº¿ç¨‹è¿˜è¦æ…¢ï¼</p>\n<h2 id=\"4-è¿›åŒ–å±‚ä¸»åŠ¨çš„åä½œ-cooperative-concurrency\">4. è¿›åŒ–å±‚â€”â€”ä¸»åŠ¨çš„åä½œ (Cooperative Concurrency)</h2>\n<h3 id=\"41-ä»ç”Ÿæˆå™¨åˆ°åç¨‹æ— æ ˆçš„èƒœåˆ©ä¸ä»£ä»·\">4.1. ä»ç”Ÿæˆå™¨åˆ°åç¨‹ï¼šæ— æ ˆçš„èƒœåˆ©ä¸ä»£ä»·</h3>\n<p>åœ¨ C++20 å¼•å…¥ Coroutines ä¹‹å‰ï¼Œæˆ‘ä»¬ä¹ æƒ¯ç”¨çŠ¶æ€æœºæ‰‹å†™å›è°ƒã€‚Python çš„åç¨‹æœ¬è´¨ä¸Šå°±æ˜¯<strong>ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„æœ‰é™çŠ¶æ€æœº</strong>ã€‚</p>\n<h4 id=\"411-æ ¸å¿ƒå¯¹å†³python-stackless-vs-go-stackful\">4.1.1. æ ¸å¿ƒå¯¹å†³ï¼šPython (Stackless) vs. Go (Stackful)</h4>\n<ul>\n<li>\n<p><strong>Go (Goroutine):</strong><br />\nGo è¿è¡Œæ—¶ä¸ºæ¯ä¸ª Goroutine åˆ†é…ä¸€ä¸ª<strong>çœŸå®çš„ã€å¯å¢é•¿çš„æ ˆ</strong>ï¼ˆåˆå§‹çº¦ 2KBï¼‰ã€‚å½“ Goroutine é˜»å¡æ—¶ï¼ŒGo çš„è°ƒåº¦å™¨ä¿å­˜å½“å‰çš„å¯„å­˜å™¨çŠ¶æ€ï¼ˆSP, PC ç­‰ï¼‰åˆ°è¯¥æ ˆä¸­ï¼Œç„¶ååˆ‡æ¢åˆ°å¦ä¸€ä¸ª Goroutineã€‚è¿™å‡ ä¹ç­‰åŒäºç”¨æˆ·æ€çº¿ç¨‹ã€‚</p>\n</li>\n<li>\n<p><em>ä¼˜ç‚¹ï¼š</em> æ­¤æ—¶ï¼Œä»£ç æ˜¯åŒæ­¥å†™çš„ï¼Œåº•å±‚æ˜¯å¼‚æ­¥è·‘çš„ã€‚ä½ ä¸éœ€è¦ <code>await</code>ï¼Œå› ä¸ºè°ƒåº¦å™¨æ˜¯éšå¼çš„ã€‚</p>\n</li>\n<li>\n<p><em>ç¼ºç‚¹ï¼š</em> æ¯ä¸ª Goroutine éƒ½æœ‰å†…å­˜å¼€é”€ï¼ˆè™½å°ä½†æœ‰ï¼‰ï¼Œä¸”éœ€è¦å¤æ‚çš„è¿è¡Œæ—¶è°ƒåº¦å™¨ã€‚</p>\n</li>\n<li>\n<p><strong>Python (Coroutine):</strong><br />\nPython çš„åç¨‹è¢«ç§°ä¸º <strong>æ— æ ˆåç¨‹ (Stackless)</strong>ã€‚ä½†è¿™å¹¶ä¸æ„å‘³ç€å®ƒæ²¡æœ‰æ ˆï¼Œè€Œæ˜¯æŒ‡å®ƒ <strong>ä¸ä¿ç•™ C è¯­è¨€å±‚é¢çš„ç³»ç»Ÿè°ƒç”¨æ ˆ</strong>ã€‚<br />\nå½“ä½  <code>await</code> æ—¶ï¼ŒPython ä»…ä»…æ˜¯å°†å½“å‰çš„è™šæ‹Ÿæœºæ ˆå¸§ (<code>PyFrameObject</code>ï¼Œä¸€ä¸ªåˆ†é…åœ¨å †ä¸Šçš„å¯¹è±¡) æŒ‚èµ·ï¼Œå¹¶å°† C æ ˆå›é€€ï¼ˆUnwindï¼‰åˆ° Event Loopã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒGo çš„ Goroutine æ˜¯ <strong>æœ‰æ ˆçš„ (Stackful)</strong>ï¼Œå®ƒæ‹¥æœ‰ç‹¬ç«‹çš„ã€å¯åŠ¨æ€æ‰©å®¹çš„è¿ç»­å†…å­˜ç©ºé—´ï¼ˆåˆå§‹çº¦ 2KBï¼‰ï¼Œèƒ½ä¿å­˜å®Œæ•´çš„è°ƒç”¨é“¾è·¯çŠ¶æ€ã€‚</p>\n</li>\n</ul>\n<h4 id=\"412-å¼‚æ­¥çš„ä¼ æŸ“æ€§-function-coloring\">4.1.2. å¼‚æ­¥çš„â€œä¼ æŸ“æ€§â€ (Function Coloring)</h4>\n<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ Python çš„å¼‚æ­¥å…·æœ‰<strong>ä¼ æŸ“æ€§</strong>ï¼š<br />\nå¦‚æœå‡½æ•° A è°ƒç”¨äº†å¼‚æ­¥å‡½æ•° B (<code>await B()</code>)ï¼Œé‚£ä¹ˆ A è‡ªèº«å¿…é¡»å˜æˆå¼‚æ­¥å‡½æ•° (<code>async def A()</code>)ã€‚</p>\n<p><strong>åº•å±‚é€»è¾‘ï¼š</strong><br />\nå› ä¸º Python æ²¡æœ‰ç‹¬ç«‹çš„åç¨‹æ ˆï¼Œå®ƒæ— æ³•åœ¨æ™®é€šå‡½æ•°çš„ C æ ˆå¸§ä¸­é—´æš‚åœã€‚åªæœ‰è¢«æ ‡è®°ä¸º <code>async</code> çš„å‡½æ•°ï¼ˆå³ç”Ÿæˆå™¨ï¼‰ï¼Œæ‰å…·å¤‡â€œæš‚åœ-æ¢å¤â€çš„å­—èŠ‚ç æŒ‡ä»¤ (<code>YIELD_FROM</code> / <code>SEND</code>)ã€‚</p>\n<p>è¿™æ˜¯ä¸€ä¸ªå·¨å¤§çš„ Trade-offï¼š</p>\n<ul>\n<li><strong>ç‰ºç‰²ï¼š</strong> å¼€å‘ä½“éªŒçš„å‰²è£‚ï¼ˆåŒæ­¥ä»£ç æ— æ³•ç›´æ¥å¤ç”¨å¼‚æ­¥åº“ï¼‰ã€‚</li>\n<li><strong>æ¢å–ï¼š</strong> æè‡´çš„è½»é‡çº§ã€‚åˆ›å»ºä¸€ä¸ª Python åç¨‹å‡ ä¹åªæ¶ˆè€—ä¸€ä¸ª Python å¯¹è±¡çš„å†…å­˜ï¼Œä¸”åˆ‡æ¢å¼€é”€ä»…ä¸ºä¸€æ¬¡å‡½æ•°è°ƒç”¨ï¼Œå®Œå…¨ä¸æ¶‰åŠå¯„å­˜å™¨ä¿å­˜æˆ–å¤æ‚çš„æ ˆæ‹·è´ã€‚</li>\n</ul>\n<h3 id=\"42-event-loop-çš„å†…æ ¸reactor-æ¨¡å¼çš„-python-å®ç°\">4.2. Event Loop çš„å†…æ ¸ï¼šReactor æ¨¡å¼çš„ Python å®ç°</h3>\n<p>å‰¥å» <code>asyncio</code> åä¸½çš„å°è£…ï¼Œå…¶æ ¸å¿ƒåªæ˜¯ä¸€ä¸ªæ­»å¾ªç¯ï¼Œä¸æ–­æŸ¥è¯¢æ“ä½œç³»ç»Ÿå†…æ ¸ï¼šâ€œå“ªäº›æ–‡ä»¶æè¿°ç¬¦ (fd) å‡†å¤‡å¥½äº†ï¼Ÿâ€</p>\n<p>è¿™æ­£æ˜¯ç»å…¸çš„ <strong>Reactor æ¨¡å¼</strong>ã€‚</p>\n<p>åœ¨ Linux ä¸Šï¼Œè¿™å¯¹åº” <code>epoll_wait</code>ï¼›åœ¨ macOS/BSD ä¸Šï¼Œæ˜¯ <code>kevent</code>ï¼›åœ¨ Windows ä¸Šï¼Œæ˜¯ <code>IOCP</code>ã€‚</p>\n<h4 id=\"421-ä»£ç å®ç°æ‰‹å†™ä¸€ä¸ª-mini-asyncio\">4.2.1. ä»£ç å®ç°ï¼šæ‰‹å†™ä¸€ä¸ª mini-asyncio</h4>\n<p>ä¸ºäº†è¯æ˜ <code>asyncio</code> æ²¡æœ‰ä»»ä½•é»‘é­”æ³•ï¼Œæˆ‘ä»¬å°†ç»•è¿‡ <code>asyncio</code> åº“ï¼Œç›´æ¥ä½¿ç”¨ <code>selectors</code> æ¨¡å—ï¼ˆå¯¹ <code>epoll</code>/<code>kqueue</code> çš„ä½çº§å°è£…ï¼‰æ¥å®ç°ä¸€ä¸ªå¼‚æ­¥è¿è¡Œæ—¶ã€‚</p>\n<p><strong>C++ å¼€å‘è€…è¯·æ³¨æ„ï¼š</strong> ä¸‹é¢çš„ä»£ç å±•ç¤ºäº†å¦‚ä½•å°†â€œå›è°ƒåœ°ç‹±â€é€šè¿‡ç”Ÿæˆå™¨å‹å¹³æˆâ€œåŒæ­¥å¤–è§‚â€ã€‚</p>\n<pre><code class=\"language-python\">import selectors\nimport socket\nimport time\nfrom collections import deque\n\n# 1. å…¨å±€äº‹ä»¶å¾ªç¯ (The Reactor)\nselector = selectors.DefaultSelector()\ntask_queue = deque() # å°±ç»ªä»»åŠ¡é˜Ÿåˆ—\n\nclass Future:\n    \"\"\"\n    å¯¹åº” C++ std::future æˆ– JavaScript Promiseã€‚\n    å®ƒæ˜¯å¼‚æ­¥æ“ä½œç»“æœçš„å ä½ç¬¦ã€‚\n    \"\"\"\n    def __init__(self):\n        self.result = None\n        self._callbacks = []\n\n    def set_result(self, value):\n        self.result = value\n        for cb in self._callbacks:\n            cb(self)\n\n    def __await__(self):\n        # é­”æ³•æ‰€åœ¨ï¼šyield self å‘Šè¯‰ Task \"æˆ‘è¿˜æ²¡å¥½ï¼Œè¯·æŒ‚èµ·\"\n        yield self \n        return self.result\n\ndef async_socket_read(sock):\n    \"\"\"\n    ä¸€ä¸ªæ¨¡æ‹Ÿçš„ä½çº§å¼‚æ­¥ socket è¯»å–ã€‚\n    \"\"\"\n    f = Future()\n\n    def on_readable():\n        f.set_result(sock.recv(4096))\n        # è¯»å–å®Œæ¯•ï¼Œä» epoll ä¸­æ³¨é”€\n        selector.unregister(sock)\n\n    # æ³¨å†Œåˆ° epoll/kqueueï¼šå½“ sock å¯è¯»æ—¶ï¼Œè°ƒç”¨ on_readable\n    # C++ å¯¹åº”: epoll_ctl(epfd, EPOLL_CTL_ADD, fd, &amp;event)\n    selector.register(sock, selectors.EVENT_READ, on_readable)\n    \n    # ç«‹å³è¿”å› Futureï¼Œä¸é˜»å¡\n    return f\n\nclass Task:\n    \"\"\"\n    é©±åŠ¨åç¨‹æ‰§è¡Œçš„å®¹å™¨ã€‚\n    ç±»ä¼¼äº asyncio.Taskã€‚\n    \"\"\"\n    def __init__(self, coro):\n        self.coro = coro\n        self.step() # å¯åŠ¨åç¨‹\n\n    def step(self, future=None):\n        try:\n            # æ¢å¤åç¨‹æ‰§è¡Œï¼šsend(result)\n            if future is None:\n                next_future = self.coro.send(None)\n            else:\n                next_future = self.coro.send(future.result)\n            \n            # åç¨‹é‡åˆ°äº† awaitï¼Œè¿”å›äº†ä¸€ä¸ª Future\n            # æˆ‘ä»¬ç»™è¿™ä¸ª Future åŠ ä¸ªå›è°ƒï¼Œä¸€æ—¦å®ƒå®Œæˆäº†ï¼Œå°±ç»§ç»­ step()\n            next_future._callbacks.append(self.step)\n            \n        except StopIteration:\n            # åç¨‹æ‰§è¡Œå®Œæ¯•\n            pass\n\n# --- ä¸šåŠ¡é€»è¾‘ (User Code) ---\n# æ³¨æ„ï¼šasync def æœ¬è´¨ä¸Šæ˜¯ç”Ÿæˆå™¨å·¥å‚\nasync def fetch_url(url):\n    # æ¨¡æ‹Ÿå»ºç«‹ socket\n    sock = socket.socket()\n    sock.setblocking(False)\n    try:\n        sock.connect(('example.com', 80))\n    except BlockingIOError:\n        pass # æ­£å¸¸ç°è±¡\n    \n    # å‘é€ HTTP è¯·æ±‚\n    req = f\"GET / HTTP/1.0\\r\\nHost: example.com\\r\\n\\r\\n\".encode()\n    # ç®€åŒ–ç‰ˆï¼šè¿™é‡Œå…¶å®ä¹Ÿåº”è¯¥ await write\n    sock.send(req) \n\n    print(f\"[{url}] Waiting for data...\")\n    \n    # å…³é”®ç‚¹ï¼šawait æŒ‚èµ·å½“å‰æ ˆå¸§ï¼Œäº¤å‡ºæ§åˆ¶æƒ\n    # æ­¤æ—¶ï¼ŒEvent Loop å¯ä»¥å»å¤„ç†å…¶ä»– Task\n    data = await async_socket_read(sock)\n    \n    print(f\"[{url}] Received {len(data)} bytes\")\n\n# --- é©±åŠ¨å±‚ (Event Loop Driver) ---\ndef run_loop():\n    # åˆ›å»ºä¸¤ä¸ªå¹¶å‘ä»»åŠ¡\n    Task(fetch_url(\"Task-A\"))\n    Task(fetch_url(\"Task-B\"))\n\n    print(\"--- Event Loop Started ---\")\n    while True:\n        # 1. é˜»å¡ç­‰å¾… IO äº‹ä»¶ (epoll_wait)\n        # å¦‚æœæ²¡æœ‰ IO å°±ç»ªï¼ŒCPU ä½¿ç”¨ç‡ä¸º 0\n        events = selector.select()\n        \n        # 2. å¤„ç†äº‹ä»¶ (Callback Dispatch)\n        for key, mask in events:\n            callback = key.data\n            callback()\n        \n        # ç®€å•çš„é€€å‡ºæ¡ä»¶\n        if not selector.get_map():\n            break\n    print(\"--- Event Loop Finished ---\")\n\nif __name__ == \"__main__\":\n    run_loop()\n\n</code></pre>\n<h4 id=\"422-æ·±åº¦è§£ææ§åˆ¶æµçš„ç¿»è½¬\">4.2.2. æ·±åº¦è§£æï¼šæ§åˆ¶æµçš„ç¿»è½¬</h4>\n<ol>\n<li><strong>Callback (C é£æ ¼):</strong> æ‰€æœ‰çš„é€»è¾‘è¢«æ‰“æ•£åœ¨ <code>on_readable</code>, <code>on_writable</code> ç­‰å›è°ƒå‡½æ•°ä¸­ï¼ŒçŠ¶æ€ç»´æŠ¤æå…¶ç—›è‹¦ï¼ˆå¿…é¡»æ˜¾å¼ä¼ é€’ context æŒ‡é’ˆï¼‰ã€‚</li>\n<li><strong>Coroutine (Python é£æ ¼):</strong></li>\n</ol>\n<ul>\n<li><code>await</code> å…³é”®å­—å°† <code>async_socket_read</code> çš„ <code>Future</code> æŠ›ç»™ Event Loopã€‚</li>\n<li>Event Loop å°† <code>Task.step</code> æ³¨å†Œä¸ºå›è°ƒã€‚</li>\n<li>å½“ <code>epoll</code> å”¤é†’æ—¶ï¼Œé€šè¿‡å›è°ƒè§¦å‘ <code>Task.step</code>ã€‚</li>\n<li><code>Task.step</code> è°ƒç”¨ <code>coro.send()</code>ï¼Œ<strong>æ¢å¤</strong> ä¹‹å‰æŒ‚èµ·çš„ <code>fetch_url</code> æ ˆå¸§ã€‚</li>\n</ul>\n<p><strong>å¯¹ C++ ç¨‹åºå‘˜çš„å¯ç¤ºï¼š</strong><br />\nPython çš„ <code>asyncio</code> å®é™…ä¸Šæ˜¯åœ¨å•çº¿ç¨‹å†…å®ç°äº†ä¸€ä¸ª<strong>éæŠ¢å å¼æ“ä½œç³»ç»Ÿ</strong>ã€‚<code>Task</code> æ˜¯è¿›ç¨‹ï¼Œ<code>Future</code> æ˜¯ç³»ç»Ÿè°ƒç”¨ï¼Œè€Œ <code>Event Loop</code> å°±æ˜¯å†…æ ¸è°ƒåº¦å™¨ã€‚</p>\n<h2 id=\"5-ç ´å±€å±‚æ‰“ç ´è¾¹ç•Œ-extending-with-c\">5. ç ´å±€å±‚â€”â€”æ‰“ç ´è¾¹ç•Œ (Extending with C++)</h2>\n<p>åœ¨å‰å‡ ç« ä¸­ï¼Œæˆ‘ä»¬æ‰€æœ‰çš„ä¼˜åŒ–éƒ½åœ¨ Python è™šæ‹Ÿæœºçš„å›´å¢™ä¹‹å†…ï¼šæ— è®ºæ˜¯ <code>asyncio</code> çš„ç”¨æˆ·æ€è°ƒåº¦ï¼Œè¿˜æ˜¯ <code>multiprocessing</code> çš„è¿›ç¨‹é—´é€šä¿¡ï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯åœ¨è§„é¿ GILã€‚</p>\n<p>ä½†åœ¨è¿™ä¸€ç« ï¼Œæˆ‘ä»¬è¦æ­£é¢<strong>å‡»ç©¿</strong>è¿™å µå¢™ã€‚æˆ‘ä»¬å°†ç¼–å†™ C++ æ‰©å±•ï¼Œä¸»åŠ¨é‡Šæ”¾ GILï¼Œè®© Python çº¿ç¨‹é€€åŒ–ä¸ºå•çº¯çš„ C++ çº¿ç¨‹ï¼Œä»è€Œå‹æ¦¨å‡º CPU çš„æ¯ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸã€‚</p>\n<p>å½“ä½ çš„ Profilerï¼ˆæ€§èƒ½åˆ†æå™¨ï¼‰æ˜¾ç¤ºç“¶é¢ˆä¸å†æ˜¯ IO ç­‰å¾…ï¼Œè€Œæ˜¯ CPU çš„ <code>ALU</code>ï¼ˆç®—æœ¯é€»è¾‘å•å…ƒï¼‰æ»¡è½½æ—¶ï¼Œä»»ä½• Python å±‚é¢çš„ä¼˜åŒ–ï¼ˆåŒ…æ‹¬ PyPyï¼‰éƒ½æ˜¯éš”é´æ”ç—’ã€‚æ­¤æ—¶ï¼Œå”¯ä¸€çš„å‡ºè·¯æ˜¯å°†è®¡ç®—å¯†é›†å‹å†…æ ¸ä¸‹æ²‰åˆ° C++ã€‚</p>\n<h3 id=\"51-é‡Šæ”¾-gil-çš„è‰ºæœ¯ä»æŒæœ‰è€…åˆ°æ—è§‚è€…\">5.1. é‡Šæ”¾ GIL çš„è‰ºæœ¯ï¼šä»æŒæœ‰è€…åˆ°æ—è§‚è€…</h3>\n<p>æˆ‘ä»¬åœ¨ç¬¬ä¸‰ç« æåˆ°ï¼ŒPython è§£é‡Šå™¨æ˜¯ä¸€ä¸ªå·¨å¤§çš„çŠ¶æ€æœºï¼ŒGIL ä¿æŠ¤ç€è¿™ä¸ªçŠ¶æ€æœºçš„ä¸€è‡´æ€§ã€‚ä½†æ˜¯ï¼Œ<strong>å¦‚æœä½ çš„ä»£ç ä¸æ¶‰åŠä»»ä½• Python å¯¹è±¡ï¼ˆPyObjectï¼‰çš„æ“ä½œï¼Œä½ å°±ä¸éœ€è¦ GILã€‚</strong></p>\n<p>æ¯”å¦‚ï¼šçŸ©é˜µä¹˜æ³•ã€å›¾åƒç¼–è§£ç ã€å¤æ‚çš„æ•°å€¼ç§¯åˆ†ã€‚è¿™äº›æ“ä½œåªéœ€è¦åŸå§‹çš„å†…å­˜æŒ‡é’ˆï¼ˆ<code>double*</code>, <code>uint8_t*</code>ï¼‰ã€‚</p>\n<h4 id=\"511-åè®®py_begin_allow_threads\">5.1.1. åè®®ï¼š<code>Py_BEGIN_ALLOW_THREADS</code></h4>\n<p>åœ¨ C-API å±‚é¢ï¼ŒPython æä¾›äº†ä¸¤ä¸ªå®æ¥æ‰‹åŠ¨æ§åˆ¶ GILï¼š</p>\n<ol>\n<li><strong><code>Py_BEGIN_ALLOW_THREADS</code></strong>:</li>\n</ol>\n<ul>\n<li>ä¿å­˜å½“å‰çº¿ç¨‹çš„ä¸Šä¸‹æ–‡ï¼ˆThread Stateï¼‰ã€‚</li>\n<li><strong>é‡Šæ”¾äº’æ–¥é” (Release Mutex)</strong>ã€‚</li>\n<li>æ­¤æ—¶ï¼Œå…¶ä»– Python çº¿ç¨‹å¯ä»¥æŠ¢å  GIL å¹¶æ‰§è¡Œå­—èŠ‚ç ã€‚</li>\n<li><strong>è­¦å‘Šï¼š</strong> åœ¨æ­¤å®ä¹‹åï¼Œä¸¥ç¦è®¿é—®ä»»ä½• <code>PyObject</code>ï¼Œå¦åˆ™ä¼šå¯¼è‡´ç«‹å³çš„ Segfault æˆ–æ›´éšè”½çš„å †æŸåã€‚</li>\n</ul>\n<ol start=\"2\">\n<li><strong><code>Py_END_ALLOW_THREADS</code></strong>:</li>\n</ol>\n<ul>\n<li><strong>é˜»å¡ç­‰å¾…</strong>ï¼Œç›´åˆ°é‡æ–°è·å¾—äº’æ–¥é”ã€‚</li>\n<li>æ¢å¤çº¿ç¨‹ä¸Šä¸‹æ–‡ã€‚</li>\n<li>ç»§ç»­å¤„ç† Python å¯¹è±¡ï¼ˆå¦‚å°† C++ ç»“æœåŒ…è£…æˆ <code>PyFloat</code>ï¼‰ã€‚</li>\n</ul>\n<p>è¿™å°±åƒæ˜¯å½“ä½ ï¼ˆC++ ä»£ç ï¼‰éœ€è¦å»è¿›è¡Œä¸€åœºæ¼«é•¿çš„é—­å…³ä¿®ç‚¼ï¼ˆç¹é‡è®¡ç®—ï¼‰æ—¶ï¼Œä½ ä¸»åŠ¨äº¤å‡ºäº†ä»¤ç‰Œï¼ˆGILï¼‰ï¼Œå‘Šè¯‰è§£é‡Šå™¨ï¼šâ€œä½ ä»¬å…ˆç©ï¼Œæˆ‘ç®—å®Œäº†å†å›æ¥æ’é˜Ÿã€‚â€</p>\n<h3 id=\"52-å®æˆ˜-pybind11raii-é£æ ¼çš„é”é‡Šæ”¾\">5.2. å®æˆ˜ Pybind11ï¼šRAII é£æ ¼çš„é”é‡Šæ”¾</h3>\n<p>ç›´æ¥å†™ C-API æå…¶ç¹çä¸”å®¹æ˜“å‡ºé”™ï¼ˆå¼•ç”¨è®¡æ•°åœ°ç‹±ï¼‰ã€‚ç°ä»£ C++ å¼€å‘è€…åº”é¦–é€‰ <code>pybind11</code>ã€‚å®ƒåˆ©ç”¨ C++ çš„ RAII æœºåˆ¶ï¼Œå°† GIL çš„é‡Šæ”¾å°è£…å¾—ä¼˜é›…ä¸”å®‰å…¨ã€‚</p>\n<h4 id=\"521-åœºæ™¯å¤šçº¿ç¨‹è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿ-cpu-bound\">5.2.1. åœºæ™¯ï¼šå¤šçº¿ç¨‹è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿ (CPU Bound)</h4>\n<p>å‡è®¾æˆ‘ä»¬éœ€è¦è®¡ç®—  çš„è¿‘ä¼¼å€¼ï¼Œè¿™æ˜¯ä¸€ä¸ªçº¯è®¡ç®—ä»»åŠ¡ã€‚</p>\n<p><strong>C++ Extension (<code>cpu_bound.cpp</code>):</strong></p>\n<pre><code class=\"language-cpp\">#include &lt;pybind11/pybind11.h&gt;\n#include &lt;random&gt;\n#include &lt;thread&gt;\n#include &lt;vector&gt;\n\nnamespace py = pybind11;\n\n// çº¯ C++ é€»è¾‘ï¼šä¸ä¾èµ–ä»»ä½• Python å¤´æ–‡ä»¶\ndouble monte_carlo_pi(size_t samples) {\n    std::random_device rd;\n    std::mt19937 gen(rd());\n    std::uniform_real_distribution&lt;&gt; dis(0.0, 1.0);\n\n    size_t inside_circle = 0;\n    for (size_t i = 0; i &lt; samples; ++i) {\n        double x = dis(gen);\n        double y = dis(gen);\n        if (x * x + y * y &lt;= 1.0) {\n            inside_circle++;\n        }\n    }\n    return 4.0 * inside_circle / samples;\n}\n\n// åŒ…è£…å±‚\ndouble heavy_computation(size_t samples) {\n    // 1. è¿›å…¥ C++ ä¸–ç•Œï¼ŒæŒæœ‰ GIL\n    \n    // 2. é‡Šæ”¾ GIL (RAII)\n    // æ„é€ å‡½æ•°è°ƒç”¨ PyEval_SaveThread()ï¼Œææ„å‡½æ•°è°ƒç”¨ PyEval_RestoreThread()\n    // åœ¨è¿™ä¸ªä½œç”¨åŸŸå†…ï¼ŒPython è§£é‡Šå™¨å¯ä»¥å¹¶å‘è¿è¡Œå…¶ä»– Python çº¿ç¨‹ï¼\n    py::gil_scoped_release release; \n\n    // 3. æ‰§è¡Œç¹é‡çš„ CPU è®¡ç®—\n    // æ­¤æ—¶ OS å¯ä»¥åœ¨å¤šæ ¸ä¸Šå¹¶è¡Œè°ƒåº¦è¿™ä¸ªçº¿ç¨‹\n    double result = monte_carlo_pi(samples);\n\n    // 4. ç¦»å¼€ä½œç”¨åŸŸï¼Œè‡ªåŠ¨é‡æ–°è·å– GIL\n    return result; \n}\n\nPYBIND11_MODULE(fast_calc, m) {\n    m.def(\"compute_pi\", &amp;heavy_computation, \"Calculate Pi without GIL\");\n}\n\n</code></pre>\n<h4 id=\"522-python-ä¾§çš„çœŸæ­£å¹¶è¡Œ\">5.2.2. Python ä¾§çš„çœŸæ­£å¹¶è¡Œ</h4>\n<p>ç°åœ¨ï¼Œæˆ‘ä»¬å›åˆ° Pythonã€‚æœ‰äº† <code>py::gil_scoped_release</code>ï¼ŒPython çš„ <code>threading</code> æ¨¡å—å°†ä¸å†æ˜¯â€œä¼ªå¤šçº¿ç¨‹â€ã€‚</p>\n<pre><code class=\"language-python\">import threading\nimport time\nimport fast_calc # æˆ‘ä»¬ç¼–è¯‘å¥½çš„ C++ æ‰©å±•\n\nSAMPLES = 10_000_000\nTHREAD_COUNT = 4\n\ndef worker():\n    # å½“è¿›å…¥ fast_calc.compute_pi å†…éƒ¨æ—¶ï¼Œ\n    # GIL è¢«é‡Šæ”¾ï¼Œè¯¥çº¿ç¨‹å˜æˆäº†ä¸€ä¸ªçº¯ç²¹çš„ OS çº¿ç¨‹ (Native Thread)\n    # å®ƒå¯ä»¥è·‘æ»¡ä¸€ä¸ªç‰©ç† CPU æ ¸å¿ƒ\n    pi = fast_calc.compute_pi(SAMPLES)\n\ndef run_benchmark():\n    start = time.perf_counter()\n    threads = []\n    \n    # å¯åŠ¨ 4 ä¸ªçº¿ç¨‹\n    for _ in range(THREAD_COUNT):\n        t = threading.Thread(target=worker)\n        t.start()\n        threads.append(t)\n        \n    for t in threads:\n        t.join()\n        \n    end = time.perf_counter()\n    print(f\"Total time: {end - start:.4f}s\")\n\n# ç»“æœé¢„æµ‹ï¼š\n# å¦‚æœä¸é‡Šæ”¾ GILï¼šè€—æ—¶çº¦ç­‰äº sum(T_i)ï¼Œå› ä¸ºæ˜¯ä¸²è¡Œæ‰§è¡Œã€‚\n# é‡Šæ”¾ GIL åï¼š  è€—æ—¶çº¦ç­‰äº max(T_i)ï¼Œå®ç°çœŸæ­£çš„ 4 å€åŠ é€Ÿ (Amdahl's Law å…è®¸èŒƒå›´å†…)ã€‚\n\n</code></pre>\n<h3 id=\"53-æ•°æ®ä¼ è¾“çš„éšå½¢ç¨buffer-protocol-ä¸å†…å­˜å¸ƒå±€\">5.3. æ•°æ®ä¼ è¾“çš„éšå½¢ç¨ï¼šBuffer Protocol ä¸å†…å­˜å¸ƒå±€</h3>\n<p>é‡Šæ”¾ GIL è§£å†³äº†<strong>è®¡ç®—</strong>çš„ç“¶é¢ˆï¼Œä½†å¦‚æœä½ çš„æ•°æ®è¿˜åœ¨ Python å †ä¸Šï¼ˆæ¯”å¦‚ä¸€å¼  4K å›¾ç‰‡ï¼‰ï¼Œå¦‚ä½•ä¼ ç»™ C++ï¼Ÿ</p>\n<p>å¦‚æœä½ ç®€å•åœ°å®šä¹‰å‡½æ•°ä¸º <code>void foo(std::vector&lt;double&gt; v)</code>ï¼Œ<code>pybind11</code> ä¼šå°½èŒå°½è´£åœ°éå† Python åˆ—è¡¨ï¼Œè§£åŒ…æ¯ä¸ª <code>PyFloatObject</code>ï¼Œå¹¶å‘ç”Ÿ<strong>æ·±æ‹·è´</strong>å°†æ•°æ®å¤åˆ¶åˆ° C++ çš„å †ä¸Šã€‚è¿™ä¸ä»…æ¶‰åŠå·¨å¤§çš„ <code>malloc</code> å¼€é”€ï¼Œè¿˜ç ´åäº† CPU ç¼“å­˜å±€éƒ¨æ€§ã€‚</p>\n<p><strong>è§£å†³æ–¹æ¡ˆï¼šç¼“å†²åè®® (Buffer Protocol)</strong></p>\n<p>Python çš„ <code>memoryview</code>ã€NumPy çš„ <code>ndarray</code> éƒ½å®ç°äº† Buffer Protocolã€‚å®ƒå…è®¸ C++ ç›´æ¥è®¿é—® Python å¯¹è±¡çš„åº•å±‚å†…å­˜å—ï¼ˆRaw Bufferï¼‰ï¼Œå®ç° <strong>Zero-Copy</strong>ã€‚</p>\n<p>ç„¶è€Œï¼Œè¿™é‡Œéšè—ç€ä¸€ä¸ªå·¨å¤§çš„é™·é˜±ï¼š<strong>å†…å­˜è¿ç»­æ€§ (Contiguity)</strong>ã€‚</p>\n<p>Python çš„åˆ‡ç‰‡æ“ä½œï¼ˆå¦‚ <code>img[:, ::2]</code>ï¼‰æ˜¯<strong>é›¶æ‹·è´</strong>çš„ï¼Œå®ƒä»…ä»…æ˜¯ä¿®æ”¹äº†å…ƒæ•°æ®ä¸­çš„ <strong>Strides (æ­¥é•¿)</strong>ï¼Œè€Œä¸ä¼šé‡æ–°æ’åˆ—å†…å­˜ã€‚å¦‚æœä½ ç›´æ¥æŠŠè¿™ä¸ªåˆ‡ç‰‡çš„æŒ‡é’ˆæ‹¿æ¥å½“æˆè¿ç»­æ•°ç»„éå†ï¼Œä½ ä¼šè¯»åˆ°é”™è¯¯çš„æ•°æ®ï¼Œç”šè‡³å¼•å‘ Segmentation Faultã€‚</p>\n<p>å› æ­¤ï¼Œä¸¥è°¨çš„ C++ æ‰©å±•å¿…é¡»æ£€æŸ¥å†…å­˜å¸ƒå±€ã€‚</p>\n<h4 id=\"531-ä»£ç å®ç°å®‰å…¨çš„é«˜æ€§èƒ½å›¾åƒåè‰²\">5.3.1. ä»£ç å®ç°ï¼šå®‰å…¨çš„é«˜æ€§èƒ½å›¾åƒåè‰²</h4>\n<pre><code class=\"language-cpp\">#include &lt;pybind11/pybind11.h&gt;\n#include &lt;pybind11/numpy.h&gt;\n#include &lt;stdexcept&gt;\n\nnamespace py = pybind11;\n\n// C++ æ¥æ”¶ NumPy æ•°ç»„ï¼Œé›¶æ‹·è´ (Zero-Copy)\n// æ³¨æ„ï¼špy::array_t&lt;uint8_t&gt; åªæ˜¯ä¸€ä¸ªåŒ…è£…å™¨ï¼Œå¹¶ä¸æ‹¥æœ‰æ•°æ®çš„æ‰€æœ‰æƒ\nvoid process_image(py::array_t&lt;uint8_t&gt; input_array) {\n    // 1. è¯·æ±‚ç¼“å†²åŒºä¿¡æ¯ (Buffer Info)\n    // è¿™ä¼šæŸ¥è¯¢å¯¹è±¡çš„ __buffer__ æ¥å£\n    py::buffer_info buf = input_array.request();\n\n    // 2. ç»´åº¦æ£€æŸ¥\n    if (buf.ndim != 2) {\n        throw std::runtime_error(\"Number of dimensions must be 2\");\n    }\n\n    // 3. [å…³é”®ç³»ç»Ÿçº§æ£€æŸ¥] å†…å­˜å¸ƒå±€éªŒè¯\n    // Python çš„åˆ‡ç‰‡å¯èƒ½äº§ç”Ÿä¸è¿ç»­å†…å­˜ (Non-contiguous Memory)ã€‚\n    // åªæœ‰å½“ Row Stride == Width * ElementSize ä¸” Col Stride == ElementSize æ—¶ï¼Œ\n    // æˆ‘ä»¬æ‰èƒ½å°†å…¶è§†ä¸ºä¸€ç»´çº¿æ€§æ•°ç»„å¤„ç†ã€‚\n    auto expected_stride_row = buf.shape[1] * sizeof(uint8_t);\n    auto expected_stride_col = sizeof(uint8_t);\n\n    if (buf.strides[0] != expected_stride_row || buf.strides[1] != expected_stride_col) {\n        // é‡åˆ°è¿™ç§æƒ…å†µï¼Œé€šå¸¸æœ‰ä¸¤ç§é€‰æ‹©ï¼š\n        // A. æŠ›å‡ºå¼‚å¸¸ï¼Œå¼ºè¿«ç”¨æˆ·åœ¨ Python ç«¯å…ˆè°ƒç”¨ .copy() æˆ– np.ascontiguousarray()\n        // B. åœ¨ C++ ç«¯æ‰‹åŠ¨å¤„ç† stridesï¼ˆæ€§èƒ½ç•¥ä½ï¼Œä½†å…¼å®¹æ€§å¥½ï¼‰\n        // è¿™é‡Œä¸ºäº†æ¼”ç¤ºæè‡´æ€§èƒ½ï¼Œæˆ‘ä»¬é€‰æ‹© Aï¼Œæ‹’ç»å¤„ç†éè¿ç»­å†…å­˜\n        throw std::runtime_error(\"Input array must be C-style contiguous (no slices allowed)\");\n    }\n\n    // 4. è·å–è£¸æŒ‡é’ˆ (Raw Pointer)\n    // æ­¤æ—¶æˆ‘ä»¬å¯ä»¥å®‰å…¨åœ°åƒæ“ä½œ C æ•°ç»„ä¸€æ ·æ“ä½œå®ƒ\n    uint8_t* ptr = static_cast&lt;uint8_t*&gt;(buf.ptr);\n    size_t rows = buf.shape[0];\n    size_t cols = buf.shape[1];\n    size_t total_elements = rows * cols;\n\n    // 5. é‡Šæ”¾ GIL å¹¶å…¨é€Ÿè®¡ç®—\n    // è¿™æ˜¯ä¸€ä¸ªçº¯ç²¹çš„å†…å­˜è¯»å†™æ“ä½œï¼Œä¸æ¶‰åŠä»»ä½• Python API\n    {\n        py::gil_scoped_release release;\n        \n        // ç¼–è¯‘å™¨ç°åœ¨çš„è‡ªåŠ¨å‘é‡åŒ– (Auto-Vectorization) å¯ä»¥è½»æ˜“ä¼˜åŒ–è¿™ä¸ªå¾ªç¯\n        // ç”Ÿæˆ SIMD æŒ‡ä»¤ (å¦‚ AVX2)\n        for (size_t i = 0; i &lt; total_elements; ++i) {\n            ptr[i] = 255 - ptr[i]; // åè‰²æ“ä½œ\n        }\n    }\n    // ä½œç”¨åŸŸç»“æŸï¼Œè‡ªåŠ¨é‡æ–°è·å– GIL\n}\n\nPYBIND11_MODULE(fast_img, m) {\n    m.def(\"process_image\", &amp;process_image, \"Invert image colors (Zero-Copy, release GIL)\");\n}\n\n</code></pre>\n<p><strong>Python ä¾§è°ƒç”¨ç¤ºä¾‹ï¼š</strong></p>\n<pre><code class=\"language-python\">import numpy as np\nimport fast_img\n\n# åˆ›å»ºä¸€ä¸ª 4K å›¾åƒ (3840x2160)\nimg = np.random.randint(0, 256, (2160, 3840), dtype=np.uint8)\n\n# Case 1: æ­£å¸¸è°ƒç”¨ (å†…å­˜è¿ç»­)\n# è€—æ—¶ï¼šC++ ä¹Ÿå°±æ˜¯æ¯«ç§’çº§ï¼ŒPython å¾ªç¯åˆ™éœ€è¦æ•°ç§’\nfast_img.process_image(img) \n\n# Case 2: åˆ‡ç‰‡è°ƒç”¨ (å†…å­˜ä¸è¿ç»­)\n# slice = img[:, ::2] \n# fast_img.process_image(slice) \n# -&gt; RuntimeError: Input array must be C-style contiguous\n\n</code></pre>\n<p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬ä¸ä»…åˆ©ç”¨äº† C++ çš„æ€§èƒ½ï¼Œè¿˜ä¿è¯äº†ç³»ç»Ÿçš„<strong>é²æ£’æ€§ (Robustness)</strong>ã€‚è¿™æ‰æ˜¯ç³»ç»Ÿæ¶æ„å¸ˆåœ¨å¤„ç†è·¨è¯­è¨€äº’æ“ä½œæ—¶åº”æœ‰çš„æ€ç»´æ–¹å¼ã€‚</p>\n<h3 id=\"54-æ€»ç»“æ¶æ„å¸ˆçš„æœ€ç»ˆæŠ‰æ‹©\">5.4. æ€»ç»“ï¼šæ¶æ„å¸ˆçš„æœ€ç»ˆæŠ‰æ‹©</h3>\n<p>è‡³æ­¤ï¼Œæˆ‘ä»¬ä»åº•å±‚çš„å­—èŠ‚ç ï¼ˆGeneratorï¼‰è®²åˆ°äº†å†…å­˜ç®¡ç†ï¼ˆRef Countingï¼‰ï¼Œå†åˆ°å¹¶å‘æ¨¡å‹ï¼ˆAsyncio vs GILï¼‰ï¼Œæœ€åæ‰“ç ´äº†è¯­è¨€çš„è¾¹ç•Œï¼ˆC++ Extensionï¼‰ã€‚</p>\n<p>ä½œä¸ºä¸€ä¸ªç³»ç»Ÿçº§å¼€å‘è€…ï¼Œä½¿ç”¨ Python çš„æœ€ä½³å§¿åŠ¿å¹¶éæŠŠå®ƒå½“ä½œâ€œè„šæœ¬â€ï¼Œè€Œæ˜¯æŠŠå®ƒå½“ä½œ<strong>èƒ¶æ°´</strong>ï¼š</p>\n<ol>\n<li><strong>æ§åˆ¶æµ (Python):</strong> å¤„ç†å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ã€é…ç½®è§£æã€REST API ç¼–æ’ã€‚åˆ©ç”¨å…¶åŠ¨æ€ç‰¹æ€§å’Œä¸°å¯Œçš„ç”Ÿæ€ã€‚</li>\n<li><strong>æ•°æ®æµ (C++/Rust):</strong> å¤„ç†ç¹é‡çš„è®¡ç®—ã€å¤§è§„æ¨¡å†…å­˜æ“ä½œã€ä½å»¶è¿Ÿ IOã€‚åˆ©ç”¨å…¶å¯¹ç¡¬ä»¶çš„æŒæ§åŠ›ã€‚</li>\n</ol>\n<p><strong>Python is slow, but your Architecture doesn't have to be.</strong></p>\n\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-02-10 12:01</span>&nbsp;\n<a href=\"https://www.cnblogs.com/kaiux\">å¿µé£é›¶å£¹</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">104</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "spring-äº‹åŠ¡ç®¡ç†",
      "link": "https://www.cnblogs.com/alineverstop/p/19598826",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/alineverstop/p/19598826\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-02-10 11:39\">\n    <span>spring-äº‹åŠ¡ç®¡ç†</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h1 id=\"äº‹åŠ¡æ”¯æŒ\">äº‹åŠ¡æ”¯æŒ</h1>\n<h2 id=\"ä»€ä¹ˆæ˜¯äº‹åŠ¡\">ä»€ä¹ˆæ˜¯äº‹åŠ¡ï¼Ÿ</h2>\n<p>åœ¨ä¸€ä¸ªä¸šåŠ¡æµç¨‹ä¸­ï¼Œéœ€è¦å¤šæ¡DMLï¼ˆinsertã€deleteã€updateï¼‰è¯­å¥è”åˆæ‰èƒ½å®Œæˆã€‚è¿™äº›è¯­å¥å¿…é¡»åŒæ—¶æˆåŠŸæˆ–è€…åŒæ—¶å¤±è´¥ã€‚è¿™æ ·æ‰èƒ½ä¿è¯æ•°æ®å®‰å…¨ã€‚</p>\n<p>å¤šæ¡DMLåŒæ—¶æˆåŠŸæˆ–è€…åŒæ—¶å¤±è´¥ï¼Œå«åšäº‹åŠ¡ã€‚</p>\n<h3 id=\"äº‹åŠ¡å¤„ç†çš„å››ä¸ªè¿‡ç¨‹\">äº‹åŠ¡å¤„ç†çš„å››ä¸ªè¿‡ç¨‹</h3>\n<ol>\n<li>å¼€å¯äº‹åŠ¡</li>\n<li>æ‰§è¡Œä¸šåŠ¡ä»£ç </li>\n<li>æäº¤äº‹åŠ¡ï¼ˆæ²¡å‡ºç°å¼‚å¸¸ï¼Œæäº¤æˆåŠŸã€‚commit transactionï¼‰</li>\n<li>å›æ»šäº‹åŠ¡ï¼ˆå‡ºç°å¼‚å¸¸ã€‚æ‰§è¡Œå›æ»šäº‹åŠ¡. rollback transactionï¼‰</li>\n</ol>\n<h3 id=\"äº‹åŠ¡çš„å››ä¸ªç‰¹æ€§acid\">äº‹åŠ¡çš„å››ä¸ªç‰¹æ€§ï¼ˆACIDï¼‰</h3>\n<ol>\n<li>AåŸå­æ€§ï¼šäº‹åŠ¡æ˜¯æœ€å°çš„å·¥ä½œå•å…ƒï¼Œä¸å¯åˆ†</li>\n<li>Cä¸€è‡´æ€§ï¼šäº‹åŠ¡è¦ä¹ˆåŒæ—¶æˆåŠŸï¼Œè¦ä¹ˆåŒæ—¶å¤±è´¥</li>\n<li>Iéš”ç¦»æ€§ï¼šäº‹åŠ¡ä¸äº‹åŠ¡ä¹‹é—´ä¿è¯å’Œäº’ä¸å¹²æ‰°</li>\n<li>DæŒä¹…æ€§ï¼šæŒä¹…æ€§æ˜¯äº‹åŠ¡ç»“æŸçš„æ ‡å¿—ã€‚</li>\n</ol>\n<h2 id=\"springå¯¹äº‹åŠ¡çš„æ”¯æŒ\">springå¯¹äº‹åŠ¡çš„æ”¯æŒ</h2>\n<p>springå®ç°äº‹åŠ¡çš„2ç§æ–¹å¼ï¼š</p>\n<ol>\n<li>ç¼–ç¨‹å¼äº‹åŠ¡ï¼šé€šè¿‡ç¼–å†™ä»£ç çš„æ–¹å¼æ¥å®ç°äº‹åŠ¡ç®¡ç†</li>\n<li>å£°æ˜å¼äº‹åŠ¡ï¼šåŸºäºæ³¨è§£æ–¹å¼å’ŒåŸºäºxmlæ–¹å¼ï¼ˆæ¨èä½¿ç”¨ï¼‰</li>\n</ol>\n<h3 id=\"springäº‹åŠ¡ç®¡ç†api\">springäº‹åŠ¡ç®¡ç†api</h3>\n<p>springå¯¹äº‹åŠ¡çš„ç®¡ç†æ˜¯åŸºäºaopå®ç°çš„ã€‚æ‰€ä»¥springä¸“é—¨é’ˆå¯¹äº‹åŠ¡å¼€å‘äº†ä¸€å¥—apiï¼Œå…¶æ ¸å¿ƒæ¥å£å¦‚ä¸‹ï¼šPlatformTransactionManager æ¥å£ã€‚</p>\n<h3 id=\"å£°æ˜å¼äº‹åŠ¡åŸºäºæ³¨è§£æ–¹å¼å®ç°\">å£°æ˜å¼äº‹åŠ¡åŸºäºæ³¨è§£æ–¹å¼å®ç°</h3>\n<p>éœ€è¦é…ç½®xmlæ–‡ä»¶</p>\n<pre><code class=\"language-xml\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xmlns:tx=\"http://www.springframework.org/schema/tx\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n                          http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n                           http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd\" &gt;\n\n&lt;!--    ç»„ä»¶æ‰«æ--&gt;\n    &lt;context:component-scan base-package=\"com.ali\" /&gt;\n\n&lt;!--    é…ç½®æ•°æ®æº--&gt;\n    &lt;bean id=\"dataSource\" class=\"com.alibaba.druid.pool.DruidDataSource\"&gt;\n        &lt;property name=\"url\" value=\"jdbc:mysql://localhost:3306/bank\"/&gt;\n        &lt;property name=\"username\" value=\"root\"/&gt;\n        &lt;property name=\"password\" value=\"123456\"/&gt;\n        &lt;property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\"/&gt;\n    &lt;/bean&gt;\n&lt;!--    é…ç½®jdbcTemplate--&gt;\n    &lt;bean id=\"jdbcTemplate\" class=\"org.springframework.jdbc.core.JdbcTemplate\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n    &lt;/bean&gt;\n\n&lt;!--    é…ç½®äº‹åŠ¡ç®¡ç†å™¨--&gt;\n    &lt;bean id=\"transactionManager\" class=\"org.springframework.jdbc.datasource.DataSourceTransactionManager\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n    &lt;/bean&gt;\n&lt;!--    å¼€å¯äº‹åŠ¡æ³¨è§£é©±åŠ¨å™¨ï¼Œå¼€å¯äº‹åŠ¡æ³¨è§£ï¼Œéœ€è¦åŠ ä¸Štxçš„å‘½åç©ºé—´--&gt;\n    &lt;tx:annotation-driven transaction-manager=\"transactionManager\"/&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>å¯ä»¥åœ¨ç±»å’Œæ–¹æ³•ä¸ŠåŠ @Transactional å¼€å¯äº‹åŠ¡</p>\n<ul>\n<li>åŠ åœ¨ç±»ä¸Šè¡¨ç¤ºè¿™ä¸ªç±»ä¸Šçš„æ‰€æœ‰æ–¹æ³•éƒ½å¼€å¯äº‹åŠ¡</li>\n<li>åŠ åœ¨æ–¹æ³•æ–¹æ³•ä¸Šè¡¨ç¤ºåªæœ‰è¿™ä¸ªæ–¹æ³•å¼€å¯äº‹åŠ¡</li>\n</ul>\n<h3 id=\"äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸º\">äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸º</h3>\n<p>ä»€ä¹ˆæ˜¯äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸ºï¼Ÿ</p>\n<p>åœ¨serviceç§æœ‰aï¼ˆï¼‰å’Œbï¼ˆï¼‰2ä¸ªæ–¹æ³•ï¼Œaï¼ˆï¼‰ä¸Šæœ‰äº‹åŠ¡ï¼Œbï¼ˆï¼‰ä¸Šä¹Ÿæœ‰äº‹åŠ¡ï¼Œå½“aï¼ˆï¼‰åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­è°ƒç”¨äº†bï¼ˆï¼‰ï¼Œäº‹åŠ¡æ˜¯å¦‚ä½•ä¼ é€’çš„ï¼Ÿæ˜¯åˆå¹¶åˆ°ä¸€ä¸ªäº‹åŠ¡ï¼Ÿè¿˜æ˜¯å¼€å¯ä¸€ä¸ªæ–°äº‹åŠ¡ï¼Ÿè¿™å°±æ˜¯äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸ºã€‚</p>\n<p>ä¸€å…±æœ‰7ç§ä¼ æ’­è¡Œä¸ºï¼š</p>\n<ol>\n<li>REQUIRD:æ”¯æŒå½“å‰äº‹åŠ¡ï¼Œå¦‚æœä¸å­˜åœ¨å°±æ–°å»ºä¸€ä¸ªäº‹åŠ¡ï¼ˆé»˜è®¤ï¼‰ã€æ²¡æœ‰å°±æ–°å»ºï¼Œæœ‰å°±åŠ å…¥ã€‘</li>\n<li>SUPPORTSï¼šæ”¯æŒå½“å‰äº‹åŠ¡ï¼Œå¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±ä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œã€æœ‰å°±åŠ å…¥ï¼Œæ²¡æœ‰å°±ä¸ç®¡äº†ã€‘</li>\n<li>MANDATORYï¼šå¿…é¡»è¿è¡Œåœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ï¼Œå¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡å‘ç”Ÿï¼Œå°†æŠ›å‡ºå¼‚å¸¸ã€æœ‰å°±åŠ å…¥ï¼Œæ²¡æœ‰å°±æŠ›å¼‚å¸¸ã€‘</li>\n<li>REQUIRES_NEWï¼šå¼€å¯ä¸€ä¸ªæ–°äº‹åŠ¡ï¼Œå¦‚æœä¸€ä¸ªäº‹åŠ¡å·²ç»å­˜åœ¨ï¼Œåˆ™å°†è¿™ä¸ªå­˜åœ¨çš„äº‹åŠ¡æŒ‚èµ·ã€ä¸ç®¡æœ‰æ²¡æœ‰ã€‚ç›´æ¥å¼€å¯ä¸€ä¸ªæ–°äº‹åŠ¡ã€‚æ–°äº‹åŠ¡å’Œæ—§äº‹åŠ¡ä¸å­˜åœ¨åµŒå¥—å…³ç³»ï¼Œæ—§äº‹åŠ¡è¢«æŒ‚èµ·äº†ã€‘</li>\n<li>NOT_SUPPORTEDï¼šä»¥éäº‹åŠ¡æ–¹å¼è¿è¡Œã€‚å¦‚æœæœ‰äº‹åŠ¡ã€‚åˆ™æŒ‚èµ·å½“å‰äº‹åŠ¡ã€ä¸æ”¯æŒäº‹åŠ¡ï¼Œå­˜åœ¨å°±æŒ‚èµ·ã€‘</li>\n<li>NEVERï¼šä»¥éäº‹åŠ¡æ–¹å¼è¿è¡Œã€‚å¦‚æœæœ‰äº‹åŠ¡ã€‚åˆ™æŠ›å¼‚å¸¸ã€ä¸æ”¯æŒäº‹åŠ¡ï¼Œå­˜åœ¨å°±æŠ›å¼‚å¸¸ã€‘</li>\n<li>NESTEDï¼šå¦‚æœå½“å‰æœ‰ä¸€ä¸ªäº‹åŠ¡åœ¨è¿›è¡Œä¸­ï¼Œåˆ™è¯¥æ–¹æ³•åº”å½“è¿è¡Œåœ¨ä¸€ä¸ªåµŒå¥—äº‹åŠ¡ä¸­ã€‚è¢«åµŒå¥—çš„äº‹åŠ¡å¯ä»¥ç‹¬ç«‹äºå¤–å±‚äº‹åŠ¡è¿›è¡Œæäº¤æˆ–å›æ»šã€‚å¦‚æœå¤–å±‚äº‹åŠ¡ä¸å­˜åœ¨ã€‚è¡Œä¸ºå°±åƒREQUIRDä¸€æ ·ã€æœ‰äº‹åŠ¡çš„è¯ï¼Œå°±åœ¨è¿™ä¸ªäº‹åŠ¡é‡ŒåµŒå¥—ä¸€ä¸ªå®Œå…¨ç‹¬ç«‹çš„äº‹åŠ¡ï¼ŒåµŒå¥—çš„äº‹åŠ¡å¯ä»¥ç‹¬ç«‹çš„æäº¤å’Œå›æ»šã€‚æ²¡æœ‰äº‹åŠ¡å°±å’ŒREQUIRDä¸€æ ·ã€‘</li>\n</ol>\n<p>åœ¨ä»£ç ä¸­è®¾ç½®äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸ºï¼š</p>\n<pre><code class=\"language-java\">@Transactional(propagation = Propagation.MANDATORY)\n</code></pre>\n<h3 id=\"äº‹åŠ¡éš”ç¦»çº§åˆ«\">äº‹åŠ¡éš”ç¦»çº§åˆ«</h3>\n<p>æ•°æ®åº“ä¸­è¯»å–æ•°æ®å­˜åœ¨ä¸‰å¤§é—®é¢˜ï¼š</p>\n<ol>\n<li>è„è¯»ï¼šè¯»å–åˆ°æ²¡æœ‰æäº¤åˆ°æ•°æ®åº“çš„æ•°æ®</li>\n<li>ä¸å¯é‡å¤è¯»ï¼šåœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­ï¼Œç¬¬ä¸€æ¬¡å’Œç¬¬äºŒæ¬¡è¯»å–çš„æ•°æ®ä¸ä¸€æ ·</li>\n<li>å¹»è¯»ï¼šè¯»åˆ°çš„æ•°æ®æ˜¯å‡çš„ï¼ˆï¼‰</li>\n</ol>\n<p>äº‹åŠ¡çš„éš”ç¦»çº§åˆ«æœ‰4ä¸ªï¼š</p>\n<ol>\n<li>è¯»æœªæäº¤READ_UNCOMMITTEDï¼š å­˜åœ¨è„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»é—®é¢˜</li>\n<li>è¯»æäº¤READ_COMMITTEDï¼šäº‹åŠ¡æäº¤ä¹‹åæ‰è¯»åˆ°ã€‚å­˜åœ¨ä¸å¯é‡å¤è¯»ã€å¹»è¯»é—®é¢˜</li>\n<li>å¯é‡å¤è¯»REPEATABLE_READï¼šè§£å†³ä¸å¯é‡å¤è¯»çš„é—®é¢˜ï¼Œå­˜åœ¨å¹»è¯»é—®é¢˜</li>\n<li>åºåˆ—åŒ–SERIALIZABLEï¼šè§£å†³å¹»è¯»é—®é¢˜ï¼Œäº‹åŠ¡æ’é˜Ÿæ‰§è¡Œã€‚ä¸æ”¯æŒå¹¶å‘ã€‚</li>\n</ol>\n<p><strong>MySQLé»˜è®¤å¯é‡å¤è¯»ï¼ŒOracleé»˜è®¤è¯»æäº¤</strong></p>\n<p>ä»…åœ¨è¯»çš„äº‹åŠ¡ä¸­è®¾ç½®éš”ç¦»çº§åˆ«å°±è¡Œï¼Œå†™çš„äº‹åŠ¡æ²¡å¿…è¦è®¾ç½®</p>\n<p>ä»£ç ä¸­è®¾ç½®äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ï¼š</p>\n<pre><code class=\"language-java\">@Transactional(isolation = Isolation.DEFAULT)\n</code></pre>\n<h3 id=\"äº‹åŠ¡è¶…æ—¶\">äº‹åŠ¡è¶…æ—¶</h3>\n<pre><code class=\"language-java\">@Transactional(timeout = 10)\n</code></pre>\n<p>ä»¥ä¸Šä»£ç è®¾ç½®äº‹åŠ¡è¶…æ—¶æ—¶é—´ä¸º10s</p>\n<p>è¡¨ç¤ºè¶…è¿‡10sï¼Œå¦‚æœäº‹åŠ¡ä¸­æ‰€æœ‰çš„DMLè¯­å¥è¿˜æ²¡æœ‰æ‰§è¡Œå®Œæ¯•çš„è¯ï¼Œæœ€ç»ˆç»“æœä¼šå›æ»šã€‚</p>\n<p>é»˜è®¤å€¼-1ï¼Œè¡¨ç¤ºæ²¡æœ‰æ—¶é—´é™åˆ¶ã€‚</p>\n<p><strong>äº‹åŠ¡çš„è¶…æ—¶æ—¶é—´å€¼å¾—æ˜¯å“ªæ®µæ—¶é—´ï¼Ÿ</strong></p>\n<p>åœ¨å½“å‰äº‹åŠ¡ä¸­ï¼Œæœ€åä¸€æ¡DMLè¯­å¥æ‰§è¡Œä¹‹å‰çš„æ—¶é—´ï¼Œå¦‚æœæœ€åä¸€æ¡DMLè¯­å¥åé¢æœ‰å¾ˆå¤šä¸šåŠ¡é€»è¾‘ï¼Œè¿™äº›ä¸šåŠ¡ä»£ç æ‰§è¡Œçš„æ—¶é—´ä¸è¢«è®¡å…¥è¶…æ—¶æ—¶é—´ã€‚</p>\n<h3 id=\"åªè¯»äº‹åŠ¡\">åªè¯»äº‹åŠ¡</h3>\n<pre><code class=\"language-java\">@Transactional(readOnly = true)\n</code></pre>\n<p>å°†å½“å‰äº‹åŠ¡è®¾ä¸ºåªè¯»äº‹åŠ¡ï¼Œåœ¨è¯¥äº‹åŠ¡ä¸­åªå…è®¸æ‰§è¡Œselect è¯­å¥ã€‚</p>\n<p>è¯¥ç‰¹æ€§çš„ä½œç”¨æ˜¯ï¼šå¯åŠ¨springçš„ä¼˜åŒ–ç­–ç•¥ã€‚æé«˜selectè¯­å¥çš„æ‰§è¡Œæ•ˆç‡ã€‚</p>\n<h3 id=\"è®¾ç½®å“ªäº›å¼‚å¸¸å›æ»šäº‹åŠ¡\">è®¾ç½®å“ªäº›å¼‚å¸¸å›æ»šäº‹åŠ¡</h3>\n<pre><code class=\"language-java\">@Transactional(rollbackFor = RuntimeException.class)\n</code></pre>\n<p>è¡¨ç¤ºå‘ç”ŸRuntimeExceptionå¼‚å¸¸æˆ–è¯¥å¼‚å¸¸çš„å­ç±»å¼‚å¸¸æ‰å›æ»š</p>\n<h3 id=\"è®¾ç½®å“ªäº›å¼‚å¸¸ä¸å›æ»šäº‹åŠ¡\">è®¾ç½®å“ªäº›å¼‚å¸¸ä¸å›æ»šäº‹åŠ¡</h3>\n<pre><code class=\"language-java\">@Transactional(noRollbackFor = NullPointerException.class)\n</code></pre>\n<p>è¡¨ç¤ºå‘ç”ŸNullPointerExceptionå¼‚å¸¸æˆ–è¯¥å¼‚å¸¸çš„å­ç±»ä¸å›æ»šï¼Œå…¶ä»–å¼‚å¸¸æ‰å›æ»š</p>\n<h3 id=\"äº‹åŠ¡çš„å…¨æ³¨è§£å¼å¼€å‘\">äº‹åŠ¡çš„å…¨æ³¨è§£å¼å¼€å‘</h3>\n<p>ç¼–å†™é…ç½®ç±»</p>\n<pre><code class=\"language-java\">@Configuration // ä»£æ›¿xmlé…ç½®æ–‡ä»¶\n@ComponentScan(\"com.ali\") // æ‰«æcom.aliåŒ…ä¸‹çš„æ‰€æœ‰ç±»\n@EnableTransactionManagement // å¼€å¯äº‹åŠ¡ç®¡ç†\npublic class Spring6Config {\n\n    // @Beanæ³¨è§£ç”¨äºå°†æ–¹æ³•çš„è¿”å›å€¼æ³¨å†Œä¸ºSpringå®¹å™¨ä¸­çš„ä¸€ä¸ªBean\n    @Bean(name = \"druidDataSource\")\n    public DruidDataSource druidDataSource() {\n        DruidDataSource druidDataSource = new DruidDataSource();\n        druidDataSource.setUrl(\"jdbc:mysql://localhost:3306/spring6?useSSL=false&amp;serverTimezone=UTC\");\n        druidDataSource.setUsername(\"root\");\n        druidDataSource.setDriverClassName(\"com.mysql.jdbc.Driver\");\n        druidDataSource.setPassword(\"123456\");\n        return druidDataSource;\n    }\n\n    @Bean(name = \"transactionManager\")\n    public DataSourceTransactionManager transactionManager(DataSource dataSource) {\n        DataSourceTransactionManager transactionManager = new DataSourceTransactionManager();\n        transactionManager.setDataSource(dataSource);\n        return transactionManager;\n    }\n\n    @Bean(name = \"jdbcTemplate\")\n    // è¯¥æ–¹æ³•çš„å‚æ•°DataSource dataSourceä¼šè‡ªåŠ¨ä»Springå®¹å™¨ä¸­æ‰¾åˆ°ç±»å‹ä¸ºDataSourceçš„Beanå¹¶æ³¨å…¥\n    public JdbcTemplate jdbcTemplate(DataSource dataSource) {\n        JdbcTemplate jdbcTemplate = new JdbcTemplate();\n        jdbcTemplate.setDataSource(dataSource);\n        return jdbcTemplate;\n    }\n}\n</code></pre>\n<p>ä½¿ç”¨æ—¶å’Œå…¶ä»–æ–¹å¼ä¸€æ ·ã€‚</p>\n\n\n</div>\n<div id=\"MySignature\">\n    <p>æœ¬æ–‡æ¥è‡ªåšå®¢å›­ï¼Œä½œè€…ï¼š<a href=\"https://www.cnblogs.com/alineverstop/\" target=\"_blank\">NE_STOP</a>ï¼Œè½¬è½½è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼š<a href=\"https://www.cnblogs.com/alineverstop/p/19598826\" target=\"_blank\">https://www.cnblogs.com/alineverstop/p/19598826</a></p>\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-02-10 11:39</span>&nbsp;\n<a href=\"https://www.cnblogs.com/alineverstop\">NE_STOP</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">101</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "åŸºäºDWSçš„å‘é‡è®¡ç®—åŠŸèƒ½å®ç°ç®€å•çš„å•†å“æœç´¢æ¨èç³»ç»Ÿ",
      "link": "https://www.cnblogs.com/huaweiyun/p/19598674",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/huaweiyun/p/19598674\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-02-10 11:14\">\n    <span>åŸºäºDWSçš„å‘é‡è®¡ç®—åŠŸèƒ½å®ç°ç®€å•çš„å•†å“æœç´¢æ¨èç³»ç»Ÿ</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body blogpost-body-html\" id=\"cnblogs_post_body\">\n<p>æœ¬æ–‡åˆ†äº«è‡ªåä¸ºäº‘ç¤¾åŒºã€Š<a href=\"https://bbs.huaweicloud.com/blogs/470986?utm_source=oschina&amp;utm_medium=bbs-ex&amp;utm_campaign=other&amp;utm_content=content\" rel=\"noopener nofollow\" target=\"_blank\">åŸºäºDWSçš„å‘é‡è®¡ç®—åŠŸèƒ½å®ç°ç®€å•çš„å•†å“æœç´¢æ¨èç³»ç»Ÿ</a>ã€‹</p>\n<h2><span class=\"prefix\"><span class=\"content\">1. å‰è¨€</span></span></h2>\n<ul>\n<li>é€‚ç”¨ç‰ˆæœ¬ï¼šã€9.1.1.200ï¼ˆåŠä»¥ä¸Šï¼‰ã€‘</li>\n</ul>\n<p>åœ¨ç”Ÿæˆå¼ AI ä¸å¤§æ¨¡å‹ï¼ˆLLMï¼‰é‡å¡‘æŠ€æœ¯æ ˆçš„ä»Šå¤©ï¼Œæ•°æ®å¤„ç†çš„éœ€æ±‚å·²ç»ä»å•ä¸€çš„â€œç²¾ç¡®åŒ¹é…â€è½¬å‘äº†â€œè¯­ä¹‰ç†è§£â€ã€‚ä¼ ç»Ÿçš„æ•°æ®åº“ç³»ç»Ÿåœ¨å¤„ç†ç»“æ„åŒ–æ•°æ®ï¼ˆå¦‚è®¢å•é‡‘é¢ã€ç”¨æˆ·IDï¼‰æ–¹é¢è¡¨ç°å®Œç¾ï¼Œä½†åœ¨é¢å¯¹ AI æ—¶ä»£çˆ†å‘çš„éç»“æ„åŒ–æ•°æ®ï¼ˆæ–‡æœ¬ã€å›¾åƒã€éŸ³è§†é¢‘ï¼‰æ—¶ï¼ŒåŸºäºå…³é”®è¯æœç´¢çš„ä¼ ç»Ÿæ–¹å¼ç”±äºæ— æ³•ç†è§£æ•°æ®æœ¬èº«èƒŒåçš„â€œ<strong>æ„æ€</strong>â€ä»è€Œæ˜¾å¾—åŠ›ä¸ä»å¿ƒã€‚</p>\n<p><strong>æ ¸å¿ƒç—›ç‚¹</strong>ï¼šä¼ ç»Ÿæ•°æ®åº“æœ¬è´¨ä¸Šä¾èµ–ç²¾ç¡®åŒ¹é…ï¼ˆexact matchï¼‰æˆ–å­—æ®µç´¢å¼•æŸ¥è¯¢ï¼Œç¼ºå°‘ä»¥â€œ<strong>å«ä¹‰</strong>â€ä¸ºä¸­å¿ƒçš„æ¨¡ç³Šç›¸ä¼¼æœç´¢èƒ½åŠ›ã€‚AIç›¸å…³åº”ç”¨ä¸æ¨èç³»ç»Ÿåœºæ™¯å¸¦æ¥äº†æµ·é‡å‘é‡æ£€ç´¢éœ€æ±‚ï¼Œç›¸ä¼¼æ€§æœç´¢æ˜¯æ ¸å¿ƒéœ€æ±‚ï¼Œå¯¹å‘é‡æ•°æ®åº“å¸¸è§åº”ç”¨åœºæ™¯ï¼š</p>\n<ul>\n<li>\n<p>ä»¥æ–‡æœå›¾/ä»¥å›¾æœå›¾ï¼š æ‰¾åˆ°ä¸è¾“å…¥å›¾ç‰‡æœ€ç›¸ä¼¼çš„å›¾ç‰‡</p>\n</li>\n<li>\n<p>æ™ºèƒ½é—®ç­”/RAGï¼šåœ¨çŸ¥è¯†åº“ä¸­æ‰¾åˆ°ä¸ç”¨æˆ·é—®é¢˜æœ€ç›¸å…³çš„æ–‡æ¡£ç‰‡æ®µ</p>\n</li>\n<li>\n<p>æ¨èç³»ç»Ÿï¼šæ‰¾åˆ°ä¸ç”¨æˆ·å…´è¶£å‘é‡æœ€ç›¸ä¼¼çš„å•†å“</p>\n</li>\n</ul>\n<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šDWSé›†æˆ pgvector(0.8.0) æ’ä»¶ï¼Œå¯æ’æ‹”å¼åŠ è½½ï¼Œå®ç°åº“å†…å‘é‡è®¡ç®—æ£€ç´¢èƒ½åŠ›ã€‚</p>\n<p><strong>å®šä¹‰</strong>ï¼š DWSå‘é‡è®¡ç®—å¹¶éç‹¬ç«‹çš„æ•°æ®åº“ç³»ç»Ÿï¼Œè€Œæ˜¯é€šè¿‡æ’ä»¶å½¢å¼æ‰©å±•ä¼ ç»Ÿæ•°æ®åº“åŠŸèƒ½ï¼Œä½¿å…¶èƒ½å¤Ÿå¤„ç†é«˜ç»´å‘é‡æ•°æ®ï¼Œæ— éœ€ç”¨æˆ·è¿å¾™æ•°æ®æˆ–é‡æ„åº”ç”¨æ¶æ„ï¼Œå³å¯åœ¨ç°æœ‰ç³»ç»Ÿä¸­å®ç°å‘é‡æ£€ç´¢ç›¸å…³åŠŸèƒ½ã€‚</p>\n<img alt=\"\" class=\"lazyload\" /><br />\n<h2><span class=\"prefix\"><span class=\"content\">2. DWSå‘é‡è®¡ç®—åŠŸèƒ½ç®€ä»‹</span></span></h2>\n<ol>\n<li>å‘é‡æ•°æ®ç±»å‹ï¼š</li>\n</ol>\n<p><img alt=\"\" class=\"lazyload\" /></p>\n<ol start=\"2\">\n<li>å‘é‡è·ç¦»/ç›¸ä¼¼åº¦æ“ä½œç¬¦ï¼š&nbsp;</li>\n</ol>\n<p><img alt=\"\" class=\"lazyload\" /></p>\n<ol start=\"3\">\n<li>ç´¢å¼•ç±»å‹ï¼š</li>\n</ol>\n<p><img alt=\"\" class=\"lazyload\" /></p>\n<h2><span class=\"prefix\"><span class=\"content\">3. å®Œæ•´ç¤ºä¾‹</span></span></h2>\n<p>å‡è®¾æˆ‘ä»¬æ­£åœ¨åšä¸€ä¸ªå•†å“æ¨èæœç´¢ç³»ç»Ÿï¼š</p>\n<ul>\n<li>å•†å“æœ¬èº«æœ‰æ ‡é¢˜ã€æè¿°ã€åˆ†ç±»ã€ä»·æ ¼ç­‰å­—æ®µ</li>\n<li>å€ŸåŠ©å¤§æ¨¡å‹embeddingèƒ½åŠ›ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå°†å•†å“æè¿°ç¼–ç ä¸ºå‘é‡</li>\n<li>åŒæ ·çš„ï¼Œå°†ç”¨æˆ·çš„æœç´¢å…³é”®å­—ä¹Ÿè½¬åŒ–ä¸ºå‘é‡</li>\n<li><strong>ç›®çš„</strong>ï¼šé€šè¿‡<strong>ç›¸ä¼¼æ€§</strong>æœç´¢æ‰¾å‡ºæœ€ç¬¦åˆç”¨æˆ·<strong>æœç´¢æ„å›¾</strong>çš„å•†å“</li>\n</ul>\n<blockquote class=\"custom-blockquote multiquote-1\">\n<p>å¦‚éœ€ä½¿ç”¨å‘é‡è®¡ç®—åŠŸèƒ½ï¼Œè¯·è”ç³»æŠ€æœ¯æ”¯æŒä¿®æ”¹feature_support_optionså‚æ•°, å¼€å¯enable_pgvectoré€‰é¡¹ã€‚è¯¦ç»†è¯­æ³•ä»‹ç»ï¼Œè¯·å‚è€ƒDWSäº§å“æ–‡æ¡£ <a href=\"https://support.huaweicloud.com/devg-911-dws/dws_04_1462.html\" rel=\"noopener nofollow\">å‘é‡è®¡ç®—</a>ç« èŠ‚</p>\n</blockquote>\n<h3><span class=\"prefix\"><span class=\"content\">3.1 åŸºç¡€æŸ¥è¯¢</span></span></h3>\n<ol>\n<li>\n<p>å®‰è£…æ‰©å±•ï¼š</p>\n<div class=\"cnblogs_Highlighter\">\n<pre class=\"brush:csharp;gutter:true;\">create extension pgvector;</pre>\n</div>\n</li>\n<li>\n<p>åˆ›å»ºå•†å“è¡¨ï¼Œå‚¨å­˜å‘é‡embeddingï¼š</p>\n<div class=\"cnblogs_Highlighter\">\n<pre class=\"brush:csharp;gutter:true;\">CREATE TABLE products (\n    id bigserial PRIMARY KEY,\n    title text,\n    description text,\n    price numeric,\n    embedding vector(768)   --768ç»´å‘é‡ï¼Œç”±å•†å“æè¿°(description)ç”Ÿæˆ\n);</pre>\n</div>\n</li>\n<li>\n<p>æ’å…¥æ•°æ®</p>\n<div class=\"cnblogs_Highlighter\">\n<pre class=\"brush:csharp;gutter:true;\">INSERT INTO products (title, description, price, embedding) VALUES\n('Wireless Earbuds', 'Bluetooth wireless earbuds with charging case', 59.9, '[0.12, 0.34, -0.21, ...]'),\n('Noise Cancelling Headphones', 'Over-ear headphones with active noise cancellation', 129.9, '[0.11, 0.36, -0.19, ...]'),\n('Gaming Headset', 'Wired gaming headset with microphone', 79.9, '[0.10, 0.33, -0.25, ...]'),\n('Smartphone Stand', 'Adjustable phone stand for desk use', 12.9, '[0.45, -0.12, 0.08, ...]'),\n('USB-C Charger', 'Fast charging USB-C power adapter', 19.9, '[0.42, -0.15, 0.05, ...]'),\n('Mechanical Keyboard', 'Mechanical keyboard with blue switches', 89.9, '[0.55, 0.02, -0.31, ...]'),\n('Wireless Mouse', 'Ergonomic wireless mouse', 29.9, '[0.53, 0.01, -0.28, ...]'),\n('Laptop Backpack', 'Water-resistant laptop backpack', 49.9, '[0.60, -0.05, -0.10, ...]'),\n('4K Monitor', '27-inch 4K UHD computer monitor', 299.9, '[0.58, 0.04, -0.35, ...]'),\n('Webcam', 'HD webcam for video conferencing', 39.9, '[0.52, -0.01, -0.20, ...]'),\n('Bluetooth Speaker', 'Portable Bluetooth speaker with deep bass', 45.9, '[0.14, 0.30, -0.18, ...]'),\n('Smart Watch', 'Fitness tracking smart watch', 99.9, '[0.20, 0.40, -0.22, ...]'),\n('Fitness Tracker', 'Lightweight activity and sleep tracker', 49.9, '[0.22, 0.38, -0.24, ...]'),\n('Tablet Stylus', 'Stylus pen for tablets', 25.9, '[0.48, -0.10, 0.12, ...]'),\n('Laptop Cooling Pad', 'Cooling pad with dual fans', 34.9, '[0.57, -0.02, -0.15, ...]');</pre>\n</div>\n</li>\n<li>\n<p>ç›¸ä¼¼åº¦æŸ¥è¯¢ï¼š</p>\n<p>é€šè¿‡ä»¥ä¸‹æŸ¥è¯¢ï¼Œèƒ½å¤Ÿè·å–ä¸ç”¨æˆ·å‘é‡ç›¸ä¼¼åº¦æœ€é«˜/è·ç¦»æœ€è¿‘çš„topkä¸ªå•†å“</p>\n<div class=\"cnblogs_Highlighter\">\n<pre class=\"brush:csharp;gutter:true;\">SELECT id, title, price\nFROM products\nORDER BY embedding &lt;-&gt; '[0.091, -0.054, 0.92, ...]'   -- ç”¨æˆ·å‘é‡, é€šè¿‡L2è·ç¦»è®¡ç®—ç›¸ä¼¼åº¦\nLIMIT 10;</pre>\n</div>\n</li>\n<li>\n<p>æ··åˆæŸ¥è¯¢:</p>\n<p>DWSå‘é‡è®¡ç®—æ”¯æŒä¼ ç»Ÿè¿‡æ»¤æ–¹å¼åŠè¯­ä¹‰ç›¸ä¼¼åº¦æŸ¥è¯¢çš„æ··åˆä½¿ç”¨</p>\n<div class=\"cnblogs_Highlighter\">\n<pre class=\"brush:csharp;gutter:true;\">SELECT id,title,price\nFROM products\nWHERE price &lt; 2000\nORDER BY embedding &lt;-&gt; '[0.091, -0.054, 0.92, ...]'\nLIMIT 10;</pre>\n</div>\n</li>\n</ol>\n<h3><span class=\"prefix\"><span class=\"content\">3.2 ä½¿ç”¨ç´¢å¼•</span></span></h3>\n<p>DWSå‘é‡è®¡ç®—é»˜è®¤ä½¿ç”¨ç²¾ç¡®è¿‘é‚»æœç´¢ï¼Œæä¾›ç™¾åˆ†ä¹‹ç™¾å¬å›ç‡ä½†æŸ¥è¯¢é€Ÿåº¦è¾ƒæ…¢ã€‚å¯ä»¥æŒ‰éœ€ä½¿ç”¨è¿‘ä¼¼ç›¸é‚»æœç´¢ç´¢å¼•æ¥ç‰ºç‰²éƒ¨åˆ†å¬å›ç‡ä»¥æé«˜æŸ¥è¯¢é€Ÿåº¦ã€‚ä¸åŒäºä¼ ç»Ÿç´¢å¼•ï¼Œè¿‘ä¼¼æœç´¢ç´¢å¼•å¯èƒ½ä¼šè¿”å›ä¸åŒçš„æŸ¥è¯¢ç»“æœã€‚DWSå‘é‡è®¡ç®—ç›®å‰æ”¯æŒçš„ç´¢å¼•ç±»å‹åŒ…æ‹¬HNSWå’ŒIVFFlatã€‚</p>\n<ol>\n<li>åˆ›å»ºç´¢å¼•\n<div class=\"cnblogs_Highlighter\">\n<pre class=\"brush:csharp;gutter:true;\">-- HNSW ç´¢å¼•\nCREATE INDEX ON products USING hnsw (embedding vector_l2_ops) WITH (m = 16, ef_construction = 200);\n\n-- æˆ–è€… IVFFlat ç´¢å¼•\nCREATE INDEX ON products USING ivfflat (embedding vector_l2_ops) WITH (lists = 100);</pre>\n</div>\n<pre class=\"custom\"><code class=\"hljs\">&nbsp;</code></pre>\n</li>\n<li>ä½¿ç”¨ç´¢å¼• åˆ›å»ºç´¢å¼•åæ‰§è¡ŒtopkæŸ¥è¯¢ï¼Œåœ¨è·ç¦»æ“ä½œç¬¦åŒ¹é…çš„åœºæ™¯ä¸‹ä¼šä½¿ç”¨index scanï¼Œå¯ä»¥é€šè¿‡explainè§‚å¯Ÿè®¡åˆ’\n<div class=\"cnblogs_Highlighter\">\n<pre class=\"brush:csharp;gutter:true;\"> id |                            operation                             \n----+------------------------------------------------------------------\n  1 | -&gt;  Limit                                                        \n  2 |    -&gt;  Streaming (type: GATHER)                                  \n  3 |       -&gt;  Limit                                                  \n  4 |          -&gt;  Index Scan using products_embedding_idx on products</pre>\n</div>\n</li>\n</ol>\n<h3><span class=\"prefix\"><span class=\"content\">3.3 ç»“æœè§£è¯»</span></span></h3>\n<ul>\n<li>ç”¨æˆ·æœç´¢è¯ä¸º <code>wireless audio headset</code></li>\n</ul>\n<pre class=\"custom\"><code class=\"hljs\">&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;id,&nbsp;title<br />&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;products<br />&nbsp;&nbsp;&nbsp;&nbsp;ORDER&nbsp;BY&nbsp;embedding&nbsp;&lt;-&gt;&nbsp;<span class=\"hljs-string\">'[0.13,&nbsp;0.35,&nbsp;-0.20,&nbsp;...]'&nbsp;&nbsp;&nbsp;--ç”¨æˆ·æœç´¢è¯çš„embedding<br />&nbsp;&nbsp;&nbsp;&nbsp;LIMIT&nbsp;10;<br /></span></code></pre>\n<p>æŸ¥è¯¢ç»“æœï¼š å•†å“åä¸ºè€³æœºã€éŸ³å“ç±»å‹çš„æ•°æ®ç›¸è¾ƒäºè¡¨ä¸­å…¶ä»–å•†å“ç±»åˆ«ä¸ç”¨æˆ·æœç´¢è¯åœ¨è¯­ä¹‰ä¸Šæ›´ä¸ºæ¥è¿‘ï¼Œå³ä¾¿æ²¡æœ‰ç²¾ç¡®åŒ…å«<code>headset</code>ä»ç„¶ä¼šåœ¨ç»“æœä¸­æ’åºæ›´é å‰</p>\n<img alt=\"\" class=\"lazyload\" /><br />\n<ul>\n<li>ç”¨æˆ·æ­£åœ¨æµè§ˆ <code>Noise Cancelling Headphones</code> å•†å“ï¼Œæ ¹æ®ç›¸å…³æ€§è¿›è¡Œæ¨èï¼š</li>\n</ul>\n<div class=\"cnblogs_Highlighter\">\n<pre class=\"brush:csharp;gutter:true;\">SELECT p2.title, p2.price\nFROM products p1\nJOIN products p2 ON p1.id &lt;&gt; p2.id\nWHERE p1.title = 'Noise Cancelling Headphones'\nORDER BY p2.embedding &lt;-&gt; p1.embedding\nLIMIT 10;</pre>\n</div>\n<p>æŸ¥è¯¢ç»“æœï¼š è€³æœºéŸ³å“ç±»å•†å“ä¸ç”¨æˆ·æ­£åœ¨æµè§ˆçš„ <code>Noise Cancelling Headphones</code> äº§å“ç›¸å…³æ€§æ›´é«˜</p>\n<p><img alt=\"\" class=\"lazyload\" /></p>\n<h2><span class=\"prefix\"><span class=\"content\">4 æ€§èƒ½</span></span></h2>\n<p>ä»¥ä¸‹å›¾ç¤ºå±•ç¤ºäº†dws pgvectoræ’ä»¶åœ¨ä¸åŒæ•°æ®é›†åŠç´¢å¼•ä¸‹çš„æ£€ç´¢æ€§èƒ½</p>\n<p><img alt=\"image\" class=\"lazyload\" /></p>\n<p>&nbsp;å®æµ‹è¡¨æ˜ï¼Œdws pgvectoræ’ä»¶èƒ½å¤Ÿåšåˆ°åƒä¸‡çº§å‘é‡æ•°æ®ï¼š</p>\n<ol>\n<li>ä½äºå°æ—¶çº§ç´¢å¼•æ„å»ºæ—¶é—´</li>\n<li>æ¯«ç§’çº§æŸ¥è¯¢</li>\n<li>ç¨³å®šé«˜å¬å›ç‡ï¼ŒæŒ‰éœ€è°ƒå‚æ§åˆ¶</li>\n</ol>\n<p>å¯¹æ¯”ä¸¤ç§ç´¢å¼•ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼š</p>\n<ul>\n<li>hnswç´¢å¼•æ„å»ºæ—¶é—´ä¸æ•°æ®é‡å’Œç»´åº¦å¼ºç›¸å…³ã€‚ç›¸åŒæ•°æ®é‡å’Œç»´åº¦åœºæ™¯ä¸‹æ„å»ºæ—¶é—´ç›¸è¾ƒivfflatæ˜¾è‘—å¢åŠ ï¼Œæ¢å–æ›´å¿«å¾—æŸ¥è¯¢é€Ÿåº¦å’Œæ›´å¥½çš„å¬å›ç‡</li>\n<li>ivfflatç´¢å¼•æ„å»ºæ—¶é—´æ›´çŸ­ï¼Œä¸»è¦å—æ„å»ºå‚æ•°listså½±å“ï¼Œå¯¹æ•°æ®é‡ä¸æ•æ„Ÿã€‚ç›¸åŒæ•°æ®é‡å’Œç»´åº¦åœºæ™¯ä¸‹æŸ¥è¯¢è€—æ—¶åŠå¬å›ç‡è¡¨ç°ä½äºhnsw</li>\n</ul>\n<p>å› æ­¤ï¼Œä¸¤è€…çš„æ¨èä½¿ç”¨åœºæ™¯åˆ†åˆ«ä¸ºï¼š HNSW</p>\n<ul>\n<li>çº¿ä¸Šå®æ—¶æ£€ç´¢ æœç´¢ / æ¨è / RAG</li>\n<li>é«˜å¬å›è¦æ±‚ Recall â‰¥ 0.9</li>\n<li>å¤šç§Ÿæˆ·/é•¿æœŸè¿ç»´ç³»ç»Ÿ</li>\n</ul>\n<p>IVFFLAT</p>\n<ul>\n<li>ç¦»çº¿ / æ‰¹é‡æ£€ç´¢</li>\n<li>æ£€ç´¢æˆæœ¬ä¼˜å…ˆ</li>\n<li>ä½œä¸ºå¤šçº§æ£€ç´¢çš„ç¬¬ä¸€å±‚ç²—ç­›</li>\n</ul>\n<h2><span class=\"prefix\"><span class=\"content\">5 æ€»ç»“</span></span></h2>\n<p>é€šè¿‡åœ¨ DWS å‘é‡è®¡ç®—æ‰©å±•èƒ½åŠ›ï¼Œæˆ‘ä»¬å°†ä¼ ç»Ÿä»¥ç»“æ„åŒ–æŸ¥è¯¢ä¸ºæ ¸å¿ƒçš„æ•°æ®åº“ç³»ç»Ÿå‡çº§ä¸ºèƒ½å¤Ÿå…·å¤‡è¯­ä¹‰ç†è§£ä¸ç›¸ä¼¼åº¦è®¡ç®—èƒ½åŠ›çš„ç»Ÿä¸€æ•°æ®åº•åº§ã€‚ç³»ç»Ÿä¸ä»…æ”¯æŒå‘é‡æ•°æ®çš„å­˜å‚¨ä¸é«˜æ•ˆç›¸ä¼¼åº¦æ£€ç´¢ï¼Œè¿˜å…è®¸ä¸šåŠ¡æ–¹ç›´æ¥é€šè¿‡æ ‡å‡† SQL å®Œæˆè¯­ä¹‰æœç´¢ã€æ¨èä¸ç›¸ä¼¼å†…å®¹åŒ¹é…ï¼Œæ— éœ€å¼•å…¥é¢å¤–çš„å‘é‡å¼•æ“æˆ–å¤æ‚çš„æ•°æ®åŒæ­¥é“¾è·¯ã€‚</p>\n<p>ä¾æ‰˜ HNSWã€IVFFlat è¿‘ä¼¼æœ€è¿‘é‚»ç´¢å¼•ï¼Œå‘é‡æŸ¥è¯¢åœ¨å¤§è§„æ¨¡æ•°æ®åœºæ™¯ä¸‹ä¾ç„¶å…·å¤‡å¯æ§çš„æ€§èƒ½ä¸ç¨³å®šçš„å“åº”èƒ½åŠ›ã€‚åŒæ—¶ï¼Œå‘é‡æ£€ç´¢èƒ½åŠ›ä¸ä¼ ç»Ÿç»“æ„åŒ–æŸ¥è¯¢ã€è¿‡æ»¤æ¡ä»¶ã€JOIN é€»è¾‘çš„æ·±åº¦èåˆï¼Œä½¿å¾—æœç´¢æ¨èã€ä¸ªæ€§åŒ–åˆ†æä»¥åŠ RAG ç­‰ AI åº”ç”¨å¯ä»¥è‡ªç„¶è½åœ°åœ¨ç°æœ‰æ•°ä»“ä¸ä¸šåŠ¡ä½“ç³»ä¹‹ä¸Šã€‚</p>\n<p>æœ€ç»ˆï¼Œè¿™ä¸€èƒ½åŠ›æ‰©å±•ä¸ä»…é™ä½äº†ç³»ç»Ÿæ¶æ„å¤æ‚åº¦ï¼Œä¹Ÿæ˜¾è‘—æå‡äº†æ•°æ®å¹³å°å¯¹æ–°ä¸€ä»£æ™ºèƒ½åº”ç”¨çš„æ”¯æ’‘èƒ½åŠ›ï¼Œå®ç°äº†ä»â€œæ•°æ®æŸ¥è¯¢â€å‘â€œè¯­ä¹‰è®¡ç®—ä¸ä¸šåŠ¡å†³ç­–æ”¯æŒâ€çš„æ¼”è¿›ã€‚</p>\n<p>&nbsp;</p>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-02-10 11:14</span>&nbsp;\n<a href=\"https://www.cnblogs.com/huaweiyun\">åä¸ºäº‘å¼€å‘è€…è”ç›Ÿ</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">81</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "Linux Docker Compose éƒ¨ç½².NET+Vue+MySQL+Redis+Nginx å®Œæ•´è®°å½•ï¼ˆäº²æµ‹æ— å‘ï¼‰",
      "link": "https://www.cnblogs.com/huyong/p/19598103",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/huyong/p/19598103\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-02-10 10:18\">\n    <span>Linux Docker Compose éƒ¨ç½².NET+Vue+MySQL+Redis+Nginx å®Œæ•´è®°å½•ï¼ˆäº²æµ‹æ— å‘ï¼‰</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                    <div id=\"cnblogs_post_description\" style=\"display: none;\">\n        <img alt=\"Linux Docker Compose éƒ¨ç½².NET+Vue+MySQL+Redis+Nginx å®Œæ•´è®°å½•ï¼ˆäº²æµ‹æ— å‘ï¼‰\" class=\"desc_img\" src=\"https://img2024.cnblogs.com/blog/157572/202602/157572-20260210093515706-1791754599.png\" />\n        æœ¬æ–‡è¯¦ç»†ä»‹ç»äº† Linux ç³»ç»Ÿä¸‹ï¼ŒåŸºäº Docker Compose éƒ¨ç½².NET+Vue+MySQL8+Redis+Nginx å¤šæœåŠ¡é¡¹ç›®çš„å®Œæ•´æµç¨‹ã€‚é¦–å…ˆè¯´æ˜ Docker Compose ä¸€é”®å¯åœã€é…ç½®ç»Ÿä¸€ç­‰æ ¸å¿ƒä¼˜åŠ¿ï¼Œæ¥ç€è®²è§£éƒ¨ç½²å‰çš„ç¯å¢ƒå‡†å¤‡ï¼ˆç³»ç»Ÿé…ç½®ã€è½¯ä»¶ç‰ˆæœ¬ã€æœ¬åœ°æ–‡ä»¶æ‰“åŒ…ï¼‰ã€Docker åŠ Compose çš„å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®ï¼Œè§„èŒƒé¡¹ç›®ç›®å½•ç»“æ„åï¼Œé‡ç‚¹ç¼–å†™ docker-compose.yml å®ç°å¤šå®¹å™¨ç¼–æ’ï¼Œå¹¶æä¾›æœ¬åœ°æ‹‰å–é•œåƒæ‰“åŒ…ã€æœåŠ¡å™¨ç¦»çº¿å¯¼å…¥çš„æ–¹æ¡ˆã€‚æ–‡ä¸­è¿˜æ€»ç»“äº†éƒ¨ç½²ä¸­ç«¯å£ä¸åŒ¹é…ã€MySQL è¿æ¥å¤±è´¥ã€æ—¶åŒºå·®å¼‚ç­‰ 8 ç±»å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆï¼Œæ•´ç†äº†è¿ç»´å¸¸ç”¨å‘½ä»¤ã€å¼€æœºè‡ªå¯é…ç½®å’Œå‰åç«¯æ›´æ–°æ–¹æ³•ï¼Œæœ€åç»™å‡ºç”Ÿäº§ç¯å¢ƒä¼˜åŒ–å»ºè®®ã€‚æ•´å¥—æ–¹æ¡ˆå®ç°äº†æœåŠ¡ä¸€é”®å¯åœã€æ•°æ®æŒä¹…åŒ–ï¼Œé€‚é…æµ‹è¯• / å°å‹é¡¹ç›®éƒ¨ç½²ï¼Œæ˜“ç»´æŠ¤ã€æ˜“è¿ç§»ã€‚\n    </div>\n<div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<p><img alt=\"å°é¢\" src=\"https://img2024.cnblogs.com/blog/157572/202602/157572-20260210093422798-1508819059.png\" /></p>\n<h2 id=\"å†™åœ¨å‰é¢ä¸ºä»€ä¹ˆç”¨-docker-composeæ¯”å•å®¹å™¨éƒ¨ç½²å¥½åœ¨å“ª\">å†™åœ¨å‰é¢ï¼šä¸ºä»€ä¹ˆç”¨ Docker Composeï¼Ÿæ¯”å•å®¹å™¨éƒ¨ç½²å¥½åœ¨å“ªï¼Ÿ</h2>\n<p>åšå®¹å™¨åŒ–éƒ¨ç½²æ—¶ï¼Œå•é <code>docker run</code>å‘½ä»¤é€ä¸ªå¯åŠ¨ MySQLã€Redisã€åç«¯ã€Nginx å®¹å™¨ä¼šéå¸¸ç¹ç â€”â€” ä¸ä»…è¦è®°å¤§é‡å‘½ä»¤å‚æ•°ï¼Œè¿˜å¾—æ‰‹åŠ¨æ§åˆ¶å®¹å™¨å¯åŠ¨é¡ºåºã€é…ç½®ç½‘ç»œè”åŠ¨ï¼Œä¸€æ—¦æœåŠ¡å™¨é‡å¯ï¼Œæ‰€æœ‰å®¹å™¨è¦é‡æ–°é€ä¸ªå¯åŠ¨ï¼Œç»´æŠ¤æˆæœ¬æé«˜ã€‚</p>\n<p><strong>Docker Compose</strong>æ˜¯ Docker å®˜æ–¹çš„å¤šå®¹å™¨ç¼–æ’å·¥å…·ï¼Œæ ¸å¿ƒæ˜¯é€šè¿‡ä¸€ä¸ª<code>docker-compose.yml</code>é…ç½®æ–‡ä»¶ï¼Œé›†ä¸­ç®¡ç†æ‰€æœ‰å®¹å™¨çš„<strong>é•œåƒã€ç«¯å£ã€æŒ‚è½½ã€ç¯å¢ƒå˜é‡ã€ç½‘ç»œã€ä¾èµ–å…³ç³»</strong>ç­‰æ‰€æœ‰é…ç½®ï¼Œèƒ½å®Œç¾è§£å†³å•å®¹å™¨éƒ¨ç½²çš„ç—›ç‚¹ã€‚</p>\n<h3 id=\"docker-compose-æ ¸å¿ƒä¼˜ç‚¹ä¹Ÿæ˜¯æœ¬æ¬¡éƒ¨ç½²é€‰æ‹©å®ƒçš„åŸå› \">Docker Compose æ ¸å¿ƒä¼˜ç‚¹ï¼ˆä¹Ÿæ˜¯æœ¬æ¬¡éƒ¨ç½²é€‰æ‹©å®ƒçš„åŸå› ï¼‰</h3>\n<ol>\n<li><strong>ä¸€é”®å¯åœ</strong>ï¼šä¸€æ¡<code>docker-compose up -d</code>å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼Œ<code>docker-compose down</code>åœæ­¢å¹¶æ¸…ç†ï¼Œæ— éœ€é€ä¸ªæ‰§è¡Œ<code>docker run</code>/<code>docker stop</code>ï¼›</li>\n<li><strong>é…ç½®ç»Ÿä¸€</strong>ï¼šæ‰€æœ‰å®¹å™¨é…ç½®é›†ä¸­åœ¨ä¸€ä¸ª yaml æ–‡ä»¶ï¼Œæ˜“ç¼–è¾‘ã€æ˜“å¤‡ä»½ï¼Œåç»­ä¿®æ”¹åªéœ€æ”¹é…ç½®æ–‡ä»¶ï¼Œæ— éœ€è®°å¤æ‚å‘½ä»¤ï¼›</li>\n<li><strong>å®¹å™¨è‡ªåŠ¨è”åŠ¨</strong>ï¼šè‡ªåŠ¨åˆ›å»ºä¸“å±ç½‘ç»œï¼Œå®¹å™¨é—´é€šè¿‡<strong>æœåŠ¡å</strong>å³å¯é€šä¿¡ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®ç½‘ç»œï¼›å¯é€šè¿‡<code>depends_on</code>æ§åˆ¶å¯åŠ¨é¡ºåºï¼Œè§£å†³æœåŠ¡ä¾èµ–é—®é¢˜ï¼›</li>\n<li><strong>ç¯å¢ƒä¸€è‡´æ€§</strong>ï¼šé…ç½®æ–‡ä»¶å¯è·¨ç¯å¢ƒå¤ç”¨ï¼Œæœ¬åœ°æµ‹è¯•ã€æœåŠ¡å™¨éƒ¨ç½²ç”¨åŒä¸€å¥—é…ç½®ï¼Œé¿å… â€œæœ¬åœ°èƒ½è·‘ï¼ŒæœåŠ¡å™¨ä¸è¡Œâ€ï¼›</li>\n<li><strong>æ˜“ç»´æŠ¤æ˜“è¿ç§»</strong>ï¼šé¡¹ç›®ç›®å½• + é…ç½®æ–‡ä»¶ + ç¦»çº¿é•œåƒåŒ…ï¼Œå¯ç›´æ¥è¿ç§»åˆ°å…¶ä»–æœåŠ¡å™¨ï¼Œè§£å‹åä¸€é”®å¯åŠ¨ï¼Œæ— éœ€é‡æ–°é…ç½®ï¼›</li>\n<li><strong>æ•°æ®å· / ç½‘ç»œè‡ªåŠ¨ç®¡ç†</strong>ï¼šè‡ªåŠ¨åˆ›å»ºæ•°æ®å·ã€è‡ªå®šä¹‰ç½‘ç»œï¼Œæ— éœ€æ‰‹åŠ¨æ‰§è¡Œ<code>docker volume create</code>/<code>docker network create</code>ã€‚</li>\n</ol>\n<p>ç›¸æ¯”å•å®¹å™¨éƒ¨ç½²ï¼ŒDocker Compose è®©å¤šæœåŠ¡å®¹å™¨åŒ–éƒ¨ç½²çš„æ•ˆç‡æå‡æ•°å€ï¼Œå°¤å…¶é€‚åˆ<strong>åç«¯ + å‰ç«¯ + æ•°æ®åº“ + ç¼“å­˜ + ä»£ç†</strong>è¿™ç±»å¤šç»„ä»¶çš„é¡¹ç›®éƒ¨ç½²ï¼Œä¹Ÿæ˜¯ç›®å‰ä¸­å°å‹é¡¹ç›®å®¹å™¨åŒ–çš„ä¸»æµæ–¹æ¡ˆã€‚</p>\n<h2 id=\"ä¸€éƒ¨ç½²ç¯å¢ƒå‡†å¤‡æå‰ç¡®è®¤é¿å…åç»­å…¼å®¹é—®é¢˜\">ä¸€ã€éƒ¨ç½²ç¯å¢ƒå‡†å¤‡ï¼ˆæå‰ç¡®è®¤ï¼Œé¿å…åç»­å…¼å®¹é—®é¢˜ï¼‰</h2>\n<h3 id=\"1-è™šæ‹Ÿæœºç¯å¢ƒä¸ªäººæµ‹è¯•ç”¨éç”Ÿäº§\">1. è™šæ‹Ÿæœºç¯å¢ƒï¼ˆä¸ªäººæµ‹è¯•ç”¨ï¼Œéç”Ÿäº§ï¼‰</h3>\n<ul>\n<li>ç³»ç»Ÿï¼šCentOS 7.9ï¼ˆæœ€å°åŒ–å®‰è£…ï¼Œå·²é…ç½®é™æ€ IPï¼š192.168.1.100ï¼Œè™šæ‹Ÿ IPï¼Œæ›¿æ¢çœŸå® IPï¼‰</li>\n<li>å†…å­˜ï¼š4Gï¼ˆå»ºè®®ä¸ä½äº 2Gï¼Œå¦åˆ™ Docker å®¹å™¨å¯åŠ¨å¯èƒ½å¡é¡¿ï¼‰</li>\n<li>ç¡¬ç›˜ï¼š50Gï¼ˆè¶³å¤Ÿå­˜æ”¾é•œåƒã€é¡¹ç›®æ–‡ä»¶å’Œæ•°æ®åº“æ•°æ®ï¼‰</li>\n<li>ç½‘ç»œï¼šèƒ½è®¿é—®å¤–ç½‘ï¼ˆå‰æœŸæ‹‰å–é•œåƒ / å®‰è£…ä¾èµ–ç”¨ï¼ŒåæœŸå¯æ–­ç½‘è¿è¡Œï¼‰</li>\n</ul>\n<h3 id=\"2-è½¯ä»¶ç‰ˆæœ¬å…¨ç¨‹ç»Ÿä¸€ç‰ˆæœ¬é¿å…å…¼å®¹é—®é¢˜\">2. è½¯ä»¶ç‰ˆæœ¬ï¼ˆå…¨ç¨‹ç»Ÿä¸€ç‰ˆæœ¬ï¼Œé¿å…å…¼å®¹é—®é¢˜ï¼‰</h3>\n<ul>\n<li>Dockerï¼šDocker CE 24.0.7ï¼ˆCentOS7 ç¨³å®šç‰ˆï¼‰</li>\n<li>Docker Composeï¼šV2.27.1ï¼ˆè§£å†³æ—§ç‰ˆé…ç½®å…¼å®¹é—®é¢˜ï¼‰</li>\n<li>åç«¯ï¼š.NET 8ï¼ˆæœ¬åœ° VS2022 å‘å¸ƒåˆ° publish æ–‡ä»¶å¤¹ï¼‰</li>\n<li>å‰ç«¯ï¼šVue3ï¼ˆæœ¬åœ° yarn æ‰“åŒ…åˆ° dist æ–‡ä»¶å¤¹ï¼‰</li>\n<li>MySQLï¼š8.0ï¼ˆDocker é•œåƒï¼Œæ•°æ®æŒä¹…åŒ–ï¼‰</li>\n<li>Redisï¼š7-alpineï¼ˆè½»é‡ç‰ˆï¼Œé€‚åˆå®¹å™¨éƒ¨ç½²ï¼‰</li>\n<li>Nginxï¼šalpineï¼ˆè½»é‡ç‰ˆï¼Œä»£ç†å‰ç«¯é™æ€æ–‡ä»¶ + åç«¯æ¥å£ï¼‰</li>\n</ul>\n<h3 id=\"3-æœ¬åœ°å‡†å¤‡æ–‡ä»¶æå‰æ‰“åŒ…å¥½ä¸Šä¼ åˆ°è™šæ‹Ÿæœº\">3. æœ¬åœ°å‡†å¤‡æ–‡ä»¶ï¼ˆæå‰æ‰“åŒ…å¥½ï¼Œä¸Šä¼ åˆ°è™šæ‹Ÿæœºï¼‰</h3>\n<ul>\n<li>åç«¯ï¼špublish æ–‡ä»¶å¤¹ï¼ˆVS2022 å‘å¸ƒåçš„.NET8 é¡¹ç›®æ–‡ä»¶ï¼Œå«æ ¸å¿ƒ dllã€é…ç½®æ–‡ä»¶ï¼‰</li>\n<li>å‰ç«¯ï¼šdist æ–‡ä»¶å¤¹ï¼ˆVue3 æ‰“åŒ…åçš„é™æ€æ–‡ä»¶ï¼Œå« index.htmlã€cssã€jsï¼‰</li>\n<li>é•œåƒ tar åŒ…ï¼šrdif-all-images.tarï¼ˆç¦»çº¿é•œåƒåŒ…ï¼Œå« MySQLã€Redisã€Nginx ç­‰ 6 ä¸ªæ‰€éœ€é•œåƒï¼Œè§£å†³ç½‘ç»œæ‹‰å–è¶…æ—¶ï¼‰</li>\n<li>é…ç½®æ–‡ä»¶ï¼šmy.cnfï¼ˆMySQL é…ç½®ï¼‰ã€nginx.confï¼ˆNginx é…ç½®ï¼‰ã€init.sqlï¼ˆMySQL åˆå§‹åŒ– SQLï¼‰ã€docker-compose.ymlï¼ˆæ ¸å¿ƒç¼–æ’æ–‡ä»¶ï¼‰</li>\n</ul>\n<h2 id=\"äºŒå‰æœŸå‡†å¤‡å·¥ä½œå¿…åšå¥ å®šéƒ¨ç½²åŸºç¡€\">äºŒã€å‰æœŸå‡†å¤‡å·¥ä½œï¼ˆå¿…åšï¼Œå¥ å®šéƒ¨ç½²åŸºç¡€ï¼‰</h2>\n<h3 id=\"1-centos7-ç³»ç»ŸåŸºç¡€é…ç½®æœ€å°åŒ–å®‰è£…è¡¥å……ä¾èµ–\">1. CentOS7 ç³»ç»ŸåŸºç¡€é…ç½®ï¼ˆæœ€å°åŒ–å®‰è£…è¡¥å……ä¾èµ–ï¼‰</h3>\n<p>æœ€å°åŒ–å®‰è£…çš„ CentOS7 ç¼ºå°‘å¾ˆå¤šåŸºç¡€å·¥å…·ï¼Œå…ˆå®‰è£…å¿…è¦ä¾èµ–ï¼Œé¿å…åç»­ Docker å®‰è£…ã€å‘½ä»¤æ‰§è¡Œå¤±è´¥ï¼š</p>\n<pre><code class=\"language-bash\"># æ›´æ–°ç³»ç»Ÿè½¯ä»¶åŒ…ï¼ˆå¯é€‰ï¼Œå»ºè®®æ‰§è¡Œï¼Œé¿å…ä¾èµ–ç‰ˆæœ¬è¿‡ä½ï¼‰\nyum update -y\n\n# å®‰è£…åŸºç¡€å·¥å…·ï¼ˆwgetã€vimã€net-toolsç­‰ï¼Œåç»­å¸¸ç”¨ï¼‰\nyum install -y wget vim net-tools epel-release\n</code></pre>\n<h3 id=\"2-å®‰è£…-docker-cecentos7-ç¨³å®šç‰ˆæ­¥éª¤å›ºå®š\">2. å®‰è£… Docker CEï¼ˆCentOS7 ç¨³å®šç‰ˆï¼Œæ­¥éª¤å›ºå®šï¼‰</h3>\n<p>CentOS7 é»˜è®¤æºæ²¡æœ‰ Dockerï¼Œéœ€è¦é…ç½® Docker å®˜æ–¹æºï¼ŒåŒæ—¶è§£å†³ä¾èµ–ç¼ºå¤±é—®é¢˜ï¼ˆé‡ç‚¹è§£å†³ container-selinux ä¾èµ–ï¼‰ï¼š</p>\n<pre><code class=\"language-bash\"># 1. å¸è½½æ—§ç‰ˆæœ¬Dockerï¼ˆå¦‚æœä¹‹å‰è£…è¿‡ï¼Œé¿å…å†²çªï¼Œæ²¡è£…è¿‡å¯è·³è¿‡ï¼‰\nyum remove -y docker docker-client docker-client-latest docker-common docker-latest docker-latest-logrotate docker-logrotate docker-engine\n\n# 2. å®‰è£…Dockerä¾èµ–ï¼ˆå¿…åšï¼Œå¦åˆ™å®‰è£…å¤±è´¥ï¼‰\nyum install -y yum-utils device-mapper-persistent-data lvm2 container-selinux\n\n# 3. é…ç½®Dockerå®˜æ–¹æº\nyum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\n\n# 4. å®‰è£…Docker CEï¼ˆç¨³å®šç‰ˆï¼‰\nyum install -y docker-ce docker-ce-cli containerd.io\n\n# 5. å¯åŠ¨DockeræœåŠ¡ï¼Œå¹¶è®¾ç½®å¼€æœºè‡ªå¯ï¼ˆæå‰é…ç½®ï¼Œåç»­ä¸ç”¨å†æ”¹ï¼‰\nsystemctl start docker\nsystemctl enable docker\n\n# 6. éªŒè¯Dockerå®‰è£…æˆåŠŸï¼ˆè¾“å‡ºç‰ˆæœ¬å·å³æˆåŠŸï¼‰\ndocker --version\n</code></pre>\n<p>âœ… æˆåŠŸæ ‡è¯†ï¼š<code>Docker version 24.0.7, build afdd53b</code></p>\n<h3 id=\"3-é…ç½®-docker-é•œåƒåŠ é€Ÿå›½å†…å¿…åšå¦åˆ™é•œåƒæ‹‰å–è¶…æ—¶\">3. é…ç½® Docker é•œåƒåŠ é€Ÿï¼ˆå›½å†…å¿…åšï¼Œå¦åˆ™é•œåƒæ‹‰å–è¶…æ—¶ï¼‰</h3>\n<p>Docker é»˜è®¤æ‹‰å–å®˜æ–¹é•œåƒï¼ˆå›½å¤–æºï¼‰ï¼Œå›½å†…è®¿é—®ææ…¢ï¼Œç”šè‡³è¶…æ—¶ã€‚è¿™é‡Œç”¨é˜¿é‡Œäº‘ä¸ªäººä¸“å±é•œåƒåŠ é€Ÿï¼ˆæ¯”å…¬å…±æºæ›´ç¨³å®šï¼‰ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p>\n<ol>\n<li>\n<p>ç™»å½•é˜¿é‡Œäº‘å®˜ç½‘ï¼ˆ<a href=\"https://www.aliyun.com/%EF%BC%89%EF%BC%8C%E6%90%9C%E7%B4%A2\" rel=\"noopener nofollow\" target=\"_blank\">https://www.aliyun.com/ï¼‰ï¼Œæœç´¢</a> â€œå®¹å™¨é•œåƒæœåŠ¡â€ï¼Œè¿›å…¥ â€œé•œåƒåŠ é€Ÿå™¨â€ï¼Œå¤åˆ¶è‡ªå·±çš„ä¸“å±åŠ é€Ÿåœ°å€ï¼ˆç¤ºä¾‹ï¼š<a href=\"https://xxxxxx.mirror.aliyuncs.com\" rel=\"noopener nofollow\" target=\"_blank\">https://xxxxxx.mirror.aliyuncs.com</a>ï¼Œæ›¿æ¢æˆè‡ªå·±çš„ï¼‰ï¼›</p>\n<p><img alt=\"é•œåƒåŠ é€Ÿå™¨\" src=\"https://img2024.cnblogs.com/blog/157572/202602/157572-20260210093422503-1546470148.png\" /></p>\n</li>\n<li>\n<p>é…ç½®é•œåƒåŠ é€Ÿï¼Œä¿®æ”¹ Docker å®ˆæŠ¤è¿›ç¨‹é…ç½®æ–‡ä»¶ï¼š</p>\n</li>\n</ol>\n<pre><code class=\"language-bash\"># åˆ›å»ºDockeré…ç½®ç›®å½•ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰\nmkdir -p /etc/docker\n\n# å†™å…¥åŠ é€Ÿé…ç½®ï¼ˆæ›¿æ¢æˆè‡ªå·±çš„é˜¿é‡Œäº‘ä¸“å±åŠ é€Ÿåœ°å€ï¼‰\ntee /etc/docker/daemon.json &lt;&lt;-'EOF'\n{\n  \"registry-mirrors\": [\"https://xxxxxx.mirror.aliyuncs.com\", \"https://mirror.ccs.tencentyun.com\"]\n}\nEOF\n\n# é‡æ–°åŠ è½½é…ç½®ï¼Œé‡å¯Dockerï¼Œè®©åŠ é€Ÿç”Ÿæ•ˆ\nsystemctl daemon-reload\nsystemctl restart docker\n\n# éªŒè¯åŠ é€Ÿé…ç½®æ˜¯å¦ç”Ÿæ•ˆï¼ˆè¾“å‡ºé…ç½®çš„åŠ é€Ÿåœ°å€å³æˆåŠŸï¼‰\ndocker info | grep -A 2 \"Registry Mirrors\"\n</code></pre>\n<p>âœ… æˆåŠŸæ ‡è¯†ï¼šè¾“å‡ºä¸­åŒ…å«è‡ªå·±é…ç½®çš„é˜¿é‡Œäº‘åŠ é€Ÿåœ°å€ã€‚</p>\n<h3 id=\"4-å‡çº§-docker-composeè§£å†³æ—§ç‰ˆé…ç½®å…¼å®¹é—®é¢˜\">4. å‡çº§ Docker Composeï¼ˆè§£å†³æ—§ç‰ˆé…ç½®å…¼å®¹é—®é¢˜ï¼‰</h3>\n<p>CentOS7 é»˜è®¤å®‰è£…çš„ Docker Compose æ˜¯ 1.x ç‰ˆæœ¬ï¼Œä¸æ”¯æŒæ–°ç‰ˆ docker-compose.yml ä¸­çš„é…ç½®ï¼ˆå¦‚ conditionã€start_periodï¼‰ï¼Œå‡çº§åˆ° V2 ç‰ˆæœ¬ï¼ˆå®˜æ–¹æ¨èï¼‰ï¼š</p>\n<pre><code class=\"language-bash\"># 1. åˆ é™¤æ—§ç‰ˆdocker-composeï¼ˆå¦‚æœä¹‹å‰è£…è¿‡ï¼‰\nrm -f /usr/local/bin/docker-compose\n\n# 2. å®‰è£…Docker Compose V2ï¼ˆæ’ä»¶å½¢å¼ï¼Œç¨³å®šï¼‰\nyum install -y docker-compose-plugin\n\n# 3. å»ºç«‹è½¯é“¾æ¥ï¼Œä¿æŒdocker-composeå‘½ä»¤å¯ç”¨ï¼ˆå’Œæ—§ç‰ˆç”¨æ³•ä¸€è‡´ï¼‰\nln -s /usr/libexec/docker/cli-plugins/docker-compose /usr/local/bin/docker-compose\n\n# 4. éªŒè¯å‡çº§æˆåŠŸï¼ˆè¾“å‡ºV2ç‰ˆæœ¬å·å³æˆåŠŸï¼‰\ndocker-compose --version\n</code></pre>\n<p>âœ… æˆåŠŸæ ‡è¯†ï¼š<code>Docker Compose version v2.27.1</code>ï¼ˆç‰ˆæœ¬å·å¯ä¸åŒï¼‰</p>\n<h3 id=\"5-å…³é—­é˜²ç«å¢™æµ‹è¯•ç¯å¢ƒé¿å…ç«¯å£è®¿é—®å¤±è´¥\">5. å…³é—­é˜²ç«å¢™ï¼ˆæµ‹è¯•ç¯å¢ƒï¼Œé¿å…ç«¯å£è®¿é—®å¤±è´¥ï¼‰</h3>\n<p>ä¸ªäººæµ‹è¯•ç”¨ï¼Œç›´æ¥å…³é—­ CentOS7 çš„ FirewallD é˜²ç«å¢™ï¼Œé¿å…å‰ç«¯ã€åç«¯ã€æ•°æ®åº“ç«¯å£è¢«æ‹¦æˆªï¼Œç”Ÿäº§ç¯å¢ƒå¯æŒ‰éœ€å¼€æ”¾ç«¯å£ï¼š</p>\n<pre><code class=\"language-bash\"># 1. ç«‹å³åœæ­¢é˜²ç«å¢™æœåŠ¡\nsystemctl stop firewalld\n\n# 2. ç¦æ­¢é˜²ç«å¢™å¼€æœºè‡ªå¯ï¼ˆé¿å…è™šæ‹Ÿæœºé‡å¯åé˜²ç«å¢™åˆå¼€å¯ï¼‰\nsystemctl disable firewalld\n\n# 3. éªŒè¯é˜²ç«å¢™çŠ¶æ€ï¼ˆè¾“å‡ºinactiveå³æˆåŠŸå…³é—­ï¼‰\nsystemctl status firewalld\n</code></pre>\n<h2 id=\"ä¸‰é¡¹ç›®ç›®å½•ç»“æ„æ•´ç†è§„èŒƒç›®å½•é¿å…åç»­æ··ä¹±\">ä¸‰ã€é¡¹ç›®ç›®å½•ç»“æ„æ•´ç†ï¼ˆè§„èŒƒç›®å½•ï¼Œé¿å…åç»­æ··ä¹±ï¼‰</h2>\n<p>å°†æœ¬åœ°å‡†å¤‡å¥½çš„æ‰€æœ‰æ–‡ä»¶ï¼Œä¸Šä¼ åˆ° CentOS7 è™šæ‹Ÿæœºçš„<code>/root/rdif-docker</code>ç›®å½•ï¼ˆè‡ªå®šä¹‰ç›®å½•ï¼Œæ–¹ä¾¿è®°å¿†ï¼‰ï¼Œæœ€ç»ˆç›®å½•ç»“æ„å¦‚ä¸‹ï¼ˆé‡ç‚¹ï¼šå‰åç«¯ä»…ä¿ç•™æ‰“åŒ… / å‘å¸ƒæ–‡ä»¶ï¼Œæ— æºç ã€æ— å¤šä½™æ–‡ä»¶ï¼‰ï¼š</p>\n<p><img alt=\"é¡¹ç›®ç›®å½•ç»“æ„\" src=\"https://img2024.cnblogs.com/blog/157572/202602/157572-20260210093422563-1614578929.png\" /></p>\n<pre><code class=\"language-plaintext\">rdif-docker/                 # é¡¹ç›®æ ¹ç›®å½•ï¼ˆæ‰€æœ‰æ–‡ä»¶éƒ½æ”¾åœ¨è¿™é‡Œï¼‰\nâ”œâ”€â”€ docker-compose.yml       # æ ¸å¿ƒç¼–æ’æ–‡ä»¶ï¼Œç®¡ç†æ‰€æœ‰å®¹å™¨\nâ”œâ”€â”€ backend/                 # åç«¯ç›®å½•ï¼ˆä»…ä¿ç•™VSå‘å¸ƒçš„publishï¼‰\nâ”‚   â””â”€â”€ publish/             # .NET8å‘å¸ƒæ–‡ä»¶ï¼ˆå«RDIF.WebHost.dllã€appsettings.jsonï¼‰\nâ”œâ”€â”€ frontend/                # å‰ç«¯ç›®å½•ï¼ˆä»…ä¿ç•™Vue3æ‰“åŒ…çš„distï¼‰\nâ”‚   â””â”€â”€ dist/                # Vue3é™æ€æ–‡ä»¶ï¼ˆindex.htmlã€cssã€jsã€assetsï¼‰\nâ”œâ”€â”€ nginx/                   # Nginxé…ç½®ç›®å½•\nâ”‚   â””â”€â”€ nginx.conf           # Nginxé…ç½®æ–‡ä»¶ï¼ˆä»£ç†å‰ç«¯+åç«¯æ¥å£ï¼‰\nâ”œâ”€â”€ mysql/                   # MySQLé…ç½®ç›®å½•\nâ”‚   â”œâ”€â”€ my.cnf               # MySQLé…ç½®ï¼ˆä¸åŒºåˆ†å¤§å°å†™ã€å­—ç¬¦é›†ç­‰ï¼‰\nâ”‚   â””â”€â”€ init.sql             # MySQLåˆå§‹åŒ–SQLï¼ˆåˆ›å»ºåº“ã€è¡¨ã€åˆå§‹åŒ–æ•°æ®ï¼‰\nâ””â”€â”€ rdif-all-images.tar      # ç¦»çº¿é•œåƒåŒ…ï¼ˆå«æ‰€æœ‰æ‰€éœ€é•œåƒï¼Œé¿å…æ‹‰å–è¶…æ—¶ï¼‰\n</code></pre>\n<h3 id=\"ä¸Šä¼ æ–‡ä»¶æ–¹æ³•æ–°æ‰‹æ¨èå¯è§†åŒ–æ“ä½œ\">ä¸Šä¼ æ–‡ä»¶æ–¹æ³•ï¼ˆæ–°æ‰‹æ¨èï¼Œå¯è§†åŒ–æ“ä½œï¼‰</h3>\n<p>ç”¨ MobaXtermæˆ–Xftp æˆ– WinSCP å·¥å…·ï¼Œè¿æ¥è™šæ‹Ÿæœºï¼ˆIPï¼š192.168.1.100ï¼Œè´¦å·ï¼šrootï¼Œå¯†ç ï¼šRoot@123456ï¼Œè™šæ‹Ÿå¯†ç ï¼‰ï¼Œå°†æœ¬åœ°çš„ publishã€distã€é…ç½®æ–‡ä»¶ã€é•œåƒ tar åŒ…ï¼Œæ‹–åˆ°å¯¹åº”ç›®å½•ä¸‹å³å¯ã€‚</p>\n<h2 id=\"å››ç¼–å†™-docker-composeymlæ ¸å¿ƒé…ç½®é‡ä¸­ä¹‹é‡\">å››ã€ç¼–å†™ docker-compose.ymlï¼ˆæ ¸å¿ƒé…ç½®ï¼Œé‡ä¸­ä¹‹é‡ï¼‰</h2>\n<p>è¿™æ˜¯æ•´ä¸ªéƒ¨ç½²çš„æ ¸å¿ƒï¼Œæ‰€æœ‰å®¹å™¨ï¼ˆMySQLã€Redisã€åç«¯ã€Nginxï¼‰çš„è”åŠ¨ã€ç«¯å£æ˜ å°„ã€ç›®å½•æŒ‚è½½ï¼Œéƒ½åœ¨è¿™é‡Œé…ç½®ã€‚ç»“åˆæœ¬æ¬¡éœ€æ±‚ï¼ˆå‰åç«¯å·²æ‰“åŒ… / å‘å¸ƒï¼Œæ— éœ€ç¼–è¯‘æ„å»ºï¼‰ï¼Œç¼–å†™å¦‚ä¸‹é…ç½®ï¼ˆæ³¨é‡Šè¯¦ç»†ï¼Œå¯ç›´æ¥å¤åˆ¶ä¿®æ”¹ï¼Œæ›¿æ¢è‡ªå·±çš„å¯¹åº”ä¿¡æ¯ï¼Œ<strong>Redis å¯†ç å·²æ›¿æ¢ä¸ºé€šç”¨è™šæ‹Ÿå¯†ç </strong>ï¼‰ï¼š</p>\n<pre><code class=\"language-yaml\">version: '3.8'\n\n# æ‰€æœ‰æœåŠ¡çš„é›†åˆ\nservices:\n  # 1. MySQL8 æœåŠ¡ï¼ˆæ•°æ®åº“ï¼Œæ•°æ®æŒä¹…åŒ–ï¼‰\n  mysql:\n    image: mysql:8.0                # ä½¿ç”¨çš„é•œåƒï¼ˆæœ¬åœ°å·²å¯¼å…¥ï¼Œæ— éœ€æ‹‰å–ï¼‰\n    container_name: rdif-mysql      # è‡ªå®šä¹‰å®¹å™¨åï¼Œæ–¹ä¾¿ç®¡ç†\n    restart: always                 # å®¹å™¨å¼‚å¸¸é€€å‡º/ Dockerå¯åŠ¨æ—¶ï¼Œè‡ªåŠ¨é‡å¯\n    environment:\n      MYSQL_ROOT_PASSWORD: Root@123456   # MySQL rootå¯†ç ï¼ˆè™šæ‹Ÿï¼Œæ›¿æ¢æˆè‡ªå·±çš„ï¼‰\n      MYSQL_USER: guosisoft         # é¡¹ç›®è®¿é—®MySQLçš„ç”¨æˆ·åï¼ˆè‡ªå®šä¹‰ï¼‰\n      MYSQL_PASSWORD: Mysql@123456  # é¡¹ç›®è®¿é—®MySQLçš„å¯†ç ï¼ˆè™šæ‹Ÿï¼‰\n      MYSQL_DATABASE: rdif_vue3     # é¡¹ç›®æ‰€ç”¨æ•°æ®åº“åï¼ˆè‡ªå®šä¹‰ï¼‰\n      MYSQL_TZINFO_TO_SYS_TABLES: 1 # åˆå§‹åŒ–MySQLæ—¶åŒºè¡¨ï¼Œè§£å†³æ—¶å·®é—®é¢˜\n      TZ: Asia/Shanghai             # å¼ºåˆ¶å®¹å™¨æ—¶åŒºä¸ºä¸œå…«åŒºï¼ˆæ ¸å¿ƒï¼Œè§£å†³æ—¶å·®ï¼‰\n    ports:\n      - \"3306:3306\"                 # ç«¯å£æ˜ å°„ï¼šå®¿ä¸»æœº3306 â†’ å®¹å™¨å†…3306ï¼ˆæœ¬åœ°å·¥å…·å¯è¿æ¥ï¼‰\n    volumes:\n      # æŒ‚è½½MySQLé…ç½®æ–‡ä»¶ï¼Œå®ç°è‡ªå®šä¹‰é…ç½®\n      - ./mysql/my.cnf:/etc/mysql/conf.d/my.cnf\n      # æŒ‚è½½åˆå§‹åŒ–SQLï¼Œå®¹å™¨å¯åŠ¨æ—¶è‡ªåŠ¨æ‰§è¡Œï¼Œåˆ›å»ºåº“è¡¨\n      - ./mysql/init.sql:/docker-entrypoint-initdb.d/init.sql\n      # æŒ‚è½½æ•°æ®å·ï¼ŒæŒä¹…åŒ–MySQLæ•°æ®ï¼ˆdocker-compose downä¸ä¼šåˆ é™¤æ•°æ®ï¼‰\n      - mysql-data:/var/lib/mysql\n      # æŒ‚è½½å®¿ä¸»æœºæ—¶åŒºæ–‡ä»¶ï¼ŒåŒé‡ä¿éšœæ—¶åŒºåŒæ­¥ï¼ˆåªè¯»ï¼Œé¿å…å®¹å™¨ä¿®æ”¹ï¼‰\n      - /etc/localtime:/etc/localtime:ro\n      - /etc/timezone:/etc/timezone:ro\n    command: --lower_case_table_names=1 # MySQLä¸åŒºåˆ†å¤§å°å†™ï¼ˆé¿å…é¡¹ç›®è¡¨åå¤§å°å†™é—®é¢˜ï¼‰\n    networks:\n      - rdif-network                # åŠ å…¥è‡ªå®šä¹‰ç½‘ç»œï¼Œå®ç°å®¹å™¨é—´é€šä¿¡\n    # å¥åº·æ£€æŸ¥ï¼šæ£€æµ‹MySQLæ˜¯å¦çœŸæ­£å°±ç»ªï¼Œé¿å…åç«¯å¯åŠ¨æ—©äºMySQL\n    healthcheck:\n      test: [\"CMD\", \"mysqladmin\", \"ping\", \"-h\", \"localhost\", \"-uguosisoft\", \"-pMysql@123456\"]\n      interval: 5s                  # æ¯5ç§’æ£€æµ‹ä¸€æ¬¡\n      timeout: 30s                  # è¶…æ—¶æ—¶é—´30ç§’\n      retries: 10                   # é‡è¯•10æ¬¡ï¼Œå¤±è´¥åˆ™è®¤ä¸ºå®¹å™¨æœªå°±ç»ª\n      start_period: 20s             # å®¹å™¨å¯åŠ¨åï¼Œå»¶è¿Ÿ20ç§’å¼€å§‹æ£€æµ‹\n\n  # 2. Redis æœåŠ¡ï¼ˆç¼“å­˜ï¼Œè½»é‡ç‰ˆï¼Œå¯†ç å·²æ›¿æ¢ä¸ºè™šæ‹Ÿé€šç”¨å¯†ç ï¼‰\n  redis:\n    image: redis:7-alpine           # è½»é‡ç‰ˆRedisï¼Œå ç”¨èµ„æºå°‘\n    container_name: rdif-redis      # è‡ªå®šä¹‰å®¹å™¨å\n    restart: always                 # è‡ªåŠ¨é‡å¯\n    ports:\n      - \"6379:6379\"                 # ç«¯å£æ˜ å°„ï¼šå®¿ä¸»æœº6379 â†’ å®¹å™¨å†…6379\n    volumes:\n      - redis-data:/data            # æ•°æ®å·æŒä¹…åŒ–Redisæ•°æ®\n    command: redis-server --requirepass \"Redis@123456\" # Redisè™šæ‹Ÿå¯†ç ï¼Œæ›¿æ¢æˆè‡ªå·±çš„å¤æ‚å¯†ç \n    networks:\n      - rdif-network                # åŠ å…¥è‡ªå®šä¹‰ç½‘ç»œ\n    environment:\n      TZ: Asia/Shanghai             # åŒæ­¥ä¸œå…«åŒºæ—¶åŒº\n\n  # 3. .NET8 åç«¯æœåŠ¡ï¼ˆå·²å‘å¸ƒï¼Œç›´æ¥æŒ‚è½½è¿è¡Œï¼ŒRedisè¿æ¥å¯†ç åŒæ­¥æ›¿æ¢ï¼‰\n  backend:\n    image: mcr.microsoft.com/dotnet/aspnet:8.0 # .NET8è¿è¡Œæ—¶é•œåƒï¼ˆæ— éœ€æ„å»ºï¼‰\n    container_name: rdif-backend    # è‡ªå®šä¹‰å®¹å™¨å\n    restart: always                 # è‡ªåŠ¨é‡å¯\n    ports:\n      - \"58588:58588\"               # ç«¯å£æ˜ å°„ï¼šå®¿ä¸»æœº58588 â†’ å®¹å™¨å†…58588ï¼ˆåç«¯æ¥å£ç«¯å£ï¼‰\n    depends_on:\n      mysql:\n        condition: service_healthy  # ä»…åœ¨MySQLå¥åº·æ£€æŸ¥é€šè¿‡ï¼ˆå°±ç»ªï¼‰åï¼Œæ‰å¯åŠ¨åç«¯\n      redis:\n        condition: service_started  # Rediså¯åŠ¨åï¼Œå³å¯å¯åŠ¨åç«¯\n    volumes:     \n      # æ ¸å¿ƒï¼šæŒ‚è½½æœ¬åœ°publishåˆ°å®¹å™¨çš„/appç›®å½•\n      - ./backend/publish:/app\n      # å®¿ä¸»æœºï¼š/wwwroot/Resources â†’ å®¹å™¨å†…ï¼š/wwwroot/Resources\n      - /wwwroot/Resources:/wwwroot/Resources\n    environment:\n      TZ: Asia/Shanghai             # åŒæ­¥ä¸œå…«åŒºæ—¶åŒº\n      ASPNETCORE_URLS: \"http://*:58588\" # å¼ºåˆ¶.NET8å®¹å™¨å†…ç›‘å¬58588ç«¯å£ï¼ˆè§£å†³ç«¯å£ä¸é€šï¼‰\n      ASPNETCORE_ENVIRONMENT: Production # .NETç¯å¢ƒï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰\n      # MySQLè¿æ¥å­—ç¬¦ä¸²ï¼ˆæ›¿æ¢æˆè‡ªå·±çš„ç”¨æˆ·åã€å¯†ç ã€æ•°æ®åº“åï¼Œserverç”¨å®¹å™¨åmysqlï¼‰\n      ConnectionStrings__MySQL: \"server=mysql;port=3306;database=rdif_vue3;user=guosisoft;password=Mysql@123456;charset=utf8mb4;AllowPublicKeyRetrieval=True;SslMode=None\"\n      # Redisè¿æ¥å­—ç¬¦ä¸²ï¼ˆserverç”¨å®¹å™¨åredisï¼Œå¯†ç åŒæ­¥æ›¿æ¢ä¸ºè™šæ‹Ÿå¯†ç ï¼‰\n      ConnectionStrings__Redis: \"redis:6379,password=Redis@123456,defaultDatabase=0,ssl=false,abortConnect=false\"\n    working_dir: /app               # å®¹å™¨å·¥ä½œç›®å½•ï¼ŒæŒ‡å‘æŒ‚è½½çš„publishç›®å½•\n    entrypoint: [\"dotnet\", \"RDIF.WebHost.dll\"] # å¯åŠ¨åç«¯æ ¸å¿ƒdllï¼ˆæ›¿æ¢æˆè‡ªå·±çš„dllåï¼‰\n    networks:\n      - rdif-network                # åŠ å…¥è‡ªå®šä¹‰ç½‘ç»œ\n\n  # 4. Nginx æœåŠ¡ï¼ˆä»£ç†å‰ç«¯é™æ€æ–‡ä»¶+åç«¯æ¥å£ï¼‰\n  nginx:\n    image: nginx:alpine             # è½»é‡ç‰ˆNginx\n    container_name: rdif-nginx      # è‡ªå®šä¹‰å®¹å™¨å\n    restart: always                 # è‡ªåŠ¨é‡å¯\n    ports:\n      - \"6866:6866\"                 # ç«¯å£æ˜ å°„ï¼šå®¿ä¸»æœº6866 â†’ å®¹å™¨å†…6866ï¼ˆå‰ç«¯è®¿é—®ç«¯å£ï¼‰\n    volumes:\n      # æŒ‚è½½Nginxé…ç½®æ–‡ä»¶ï¼Œå®ç°å‰ç«¯ä»£ç†å’Œæ¥å£è½¬å‘\n      - ./nginx/nginx.conf:/etc/nginx/nginx.conf\n      # æŒ‚è½½å‰ç«¯distç›®å½•ï¼ŒNginxç›´æ¥ä»£ç†é™æ€æ–‡ä»¶ï¼ˆæ ¸å¿ƒï¼‰\n      - ./frontend/dist:/usr/share/nginx/html\n    depends_on:\n      - backend                     # åç«¯å¯åŠ¨åï¼Œå†å¯åŠ¨Nginx\n    networks:\n      - rdif-network                # åŠ å…¥è‡ªå®šä¹‰ç½‘ç»œ\n    environment:\n      TZ: Asia/Shanghai             # åŒæ­¥ä¸œå…«åŒºæ—¶åŒº\n\n# æ•°æ®å·ï¼šæŒä¹…åŒ–MySQLå’ŒRedisæ•°æ®ï¼ˆdocker-compose downä¸ä¼šåˆ é™¤ï¼‰\nvolumes:\n  mysql-data:\n  redis-data:\n\n# è‡ªå®šä¹‰ç½‘ç»œï¼šæ‰€æœ‰å®¹å™¨åŠ å…¥åŒä¸€ç½‘ç»œï¼Œå®ç°å®¹å™¨é—´é€šä¿¡ï¼ˆç”¨å®¹å™¨åå³å¯è®¿é—®ï¼‰\nnetworks:\n  rdif-network:\n    driver: bridge\n</code></pre>\n<h3 id=\"å…³é”®é…ç½®è¯´æ˜å¿…çœ‹é¿å…è¸©å‘\">å…³é”®é…ç½®è¯´æ˜ï¼ˆå¿…çœ‹ï¼Œé¿å…è¸©å‘ï¼‰</h3>\n<ol>\n<li>æ‰€æœ‰å®¹å™¨éƒ½é…ç½®äº†<code>restart: always</code>ï¼Œé…åˆ Docker å¼€æœºè‡ªå¯ï¼Œå®ç°è™šæ‹Ÿæœºé‡å¯åæ‰€æœ‰æœåŠ¡è‡ªåŠ¨å¯åŠ¨ï¼›</li>\n<li>åç«¯é…ç½®<code>ASPNETCORE_URLS: \"http://*:58588\"</code>ï¼Œå¼ºåˆ¶ç›‘å¬ 58588 ç«¯å£ï¼Œå’Œç«¯å£æ˜ å°„ä¸€è‡´ï¼Œè§£å†³.NET8 é»˜è®¤ç›‘å¬ 8080 å¯¼è‡´çš„ç«¯å£ä¸é€šï¼›</li>\n<li>MySQL è¿æ¥å­—ç¬¦ä¸²ä¸­ï¼Œ<code>server=mysql</code>ï¼ˆç”¨å®¹å™¨åï¼‰ï¼Œè€Œéè™šæ‹Ÿæœº IPï¼Œå®¹å™¨é—´é€šä¿¡å¿…é¡»è¿™æ ·é…ç½®ï¼›è¡¥å……<code>AllowPublicKeyRetrieval=True;SslMode=None</code>ï¼Œè§£å†³å®¹å™¨å†…è¿æ¥ MySQL å¤±è´¥ï¼›</li>\n<li>æ‰€æœ‰å®¹å™¨éƒ½é…ç½®<code>TZ: Asia/Shanghai</code>ï¼ŒåŒæ­¥ä¸œå…«åŒºæ—¶åŒºï¼Œè§£å†³ MySQL æ—¶å·® 8 å°æ—¶é—®é¢˜ï¼›</li>\n<li>åç«¯<code>depends_on</code>é…ç½®äº†<code>condition: service_healthy</code>ï¼Œç¡®ä¿ MySQL å®Œå…¨å°±ç»ªåå†å¯åŠ¨åç«¯ï¼Œé¿å…åç«¯å¯åŠ¨æ—¶ MySQL æœªåˆå§‹åŒ–å®Œæˆå¯¼è‡´çš„è¿æ¥å¤±è´¥ï¼›</li>\n<li>æ‰€æœ‰æ•æ„Ÿå¯†ç ï¼ˆMySQL/Redisï¼‰å‡ä¸ºè™šæ‹Ÿç¤ºä¾‹ï¼Œå®é™…éƒ¨ç½²è¯·æ›¿æ¢ä¸º<strong>å­—æ¯ + æ•°å­— + ç‰¹æ®Šç¬¦å·</strong>çš„å¤æ‚å¯†ç ï¼Œæå‡å®‰å…¨æ€§ã€‚</li>\n</ol>\n<h2 id=\"äº”æœ¬åœ°æ‹‰å–é•œåƒå¹¶æ‰“åŒ…ä¸º-tarç¦»çº¿æ–¹æ¡ˆå‰ç½®æ­¥éª¤å…³é”®\">äº”ã€æœ¬åœ°æ‹‰å–é•œåƒå¹¶æ‰“åŒ…ä¸º tarï¼ˆç¦»çº¿æ–¹æ¡ˆå‰ç½®æ­¥éª¤ï¼Œå…³é”®ï¼ï¼‰</h2>\n<p>æœ¬æ¬¡éƒ¨ç½²é‡‡ç”¨<strong>ç¦»çº¿é•œåƒå¯¼å…¥</strong>æ–¹æ¡ˆï¼ˆè§£å†³æœåŠ¡å™¨ç½‘ç»œæ‹‰å–è¶…æ—¶é—®é¢˜ï¼‰ï¼Œéœ€åœ¨<strong>æœ¬åœ°èƒ½æ­£å¸¸è”ç½‘çš„ç”µè„‘</strong>ä¸Šæå‰æ‹‰å–æ‰€æœ‰æ‰€éœ€é•œåƒï¼Œå†æ‰“åŒ…ä¸º tar æ–‡ä»¶ï¼Œæœ€åä¸Šä¼ åˆ° CentOS æœåŠ¡å™¨ã€‚</p>\n<h3 id=\"51-æœ¬åœ°æ‹‰å–é•œåƒçš„å‰ææ¡ä»¶\">5.1 æœ¬åœ°æ‹‰å–é•œåƒçš„å‰ææ¡ä»¶</h3>\n<p>æœ¬åœ°ç”µè„‘ï¼ˆWindows/macOSï¼‰éœ€å®‰è£…<strong>Docker Desktop</strong>ï¼ˆDocker æ¡Œé¢ç‰ˆï¼‰ï¼Œå†…ç½® Docker å¼•æ“å’Œé•œåƒç®¡ç†åŠŸèƒ½ï¼Œæ˜¯æœ¬åœ°æ“ä½œ Docker çš„å¿…å¤‡å·¥å…·ï¼š</p>\n<ul>\n<li>ä¸‹è½½åœ°å€ï¼š<a href=\"https://www.docker.com/products/docker-desktop/\" rel=\"noopener nofollow\" target=\"_blank\">https://www.docker.com/products/docker-desktop/</a></li>\n<li>å®‰è£…åéªŒè¯ï¼šæ‰“å¼€ Docker Desktopï¼Œå¯åŠ¨ååœ¨æœ¬åœ°ç»ˆç«¯ï¼ˆCMD/PowerShell/ ç»ˆç«¯ï¼‰æ‰§è¡Œ<code>docker --version</code>ï¼Œè¾“å‡ºç‰ˆæœ¬å·å³å®‰è£…æˆåŠŸï¼›</li>\n<li>å…³é”®è®¾ç½®ï¼šDocker Desktop ä¸­é…ç½®<strong>é•œåƒåŠ é€Ÿ</strong>ï¼ˆå’ŒæœåŠ¡å™¨ç«¯ä¸€è‡´ï¼Œé˜¿é‡Œäº‘ / ç½‘æ˜“äº‘å‡å¯ï¼‰ï¼Œé¿å…æœ¬åœ°æ‹‰å–é•œåƒè¶…æ—¶ã€‚</li>\n</ul>\n<h3 id=\"52-æœ¬åœ°ç»ˆç«¯æ‹‰å–æœ¬æ¬¡éƒ¨ç½²æ‰€æœ‰æ‰€éœ€é•œåƒ\">5.2 æœ¬åœ°ç»ˆç«¯æ‹‰å–æœ¬æ¬¡éƒ¨ç½²æ‰€æœ‰æ‰€éœ€é•œåƒ</h3>\n<p>æ‰“å¼€æœ¬åœ°ç»ˆç«¯ï¼ˆWindows ç”¨ PowerShell/CMDï¼ŒmacOS/Linux ç”¨ç»ˆç«¯ï¼‰ï¼Œæ‰§è¡Œä»¥ä¸‹<code>docker pull</code>å‘½ä»¤ï¼Œé€ä¸ªæ‹‰å–é•œåƒï¼ˆæŒ‰æœ¬æ¬¡éƒ¨ç½²çš„ç‰ˆæœ¬å·æ‹‰å–ï¼Œç¡®ä¿ç‰ˆæœ¬ä¸€è‡´ï¼‰ï¼š</p>\n<pre><code class=\"language-bash\"># 1. æ‹‰å–MySQL8.0é•œåƒ\ndocker pull mysql:8.0\n# 2. æ‹‰å–Redis7è½»é‡ç‰ˆé•œåƒ\ndocker pull redis:7-alpine\n# 3. æ‹‰å–.NET8è¿è¡Œæ—¶é•œåƒï¼ˆåç«¯è¿è¡Œä¾èµ–ï¼‰\ndocker pull mcr.microsoft.com/dotnet/aspnet:8.0\n# 4. æ‹‰å–Nginxè½»é‡ç‰ˆé•œåƒ\ndocker pull nginx:alpine\n</code></pre>\n<p>âœ… æ‹‰å–æˆåŠŸéªŒè¯ï¼šæœ¬åœ°ç»ˆç«¯æ‰§è¡Œ<code>docker images</code>ï¼Œèƒ½çœ‹åˆ°ä»¥ä¸Š 4 ä¸ªé•œåƒï¼Œæ— æŠ¥é”™å³æ‹‰å–å®Œæˆã€‚</p>\n<p><img alt=\"4 ä¸ªé•œåƒ\" src=\"https://img2024.cnblogs.com/blog/157572/202602/157572-20260210093422507-1702697897.png\" /></p>\n<p><img alt=\"docker images\" src=\"https://img2024.cnblogs.com/blog/157572/202602/157572-20260210093422557-1102222342.png\" /></p>\n<h3 id=\"53-æœ¬åœ°å°†é•œåƒæ‰“åŒ…ä¸º-tar-æ–‡ä»¶å•é•œåƒ--æ‰¹é‡é•œåƒä¸¤ç§æ–¹å¼\">5.3 æœ¬åœ°å°†é•œåƒæ‰“åŒ…ä¸º tar æ–‡ä»¶ï¼ˆå•é•œåƒ / æ‰¹é‡é•œåƒä¸¤ç§æ–¹å¼ï¼‰</h3>\n<p>æ‰“åŒ…é•œåƒæœ‰<strong>å•é•œåƒæ‰“åŒ…</strong>å’Œ<strong>æ‰¹é‡é•œåƒæ‰“åŒ…</strong>ä¸¤ç§æ–¹å¼ï¼Œæ¨è<strong>æ‰¹é‡æ‰“åŒ…ä¸ºä¸€ä¸ª tar æ–‡ä»¶</strong>ï¼ˆæ–¹ä¾¿ä¸Šä¼ å’ŒæœåŠ¡å™¨å¯¼å…¥ï¼‰ï¼Œä»¥ä¸‹ä¸¤ç§æ–¹å¼å‡æä¾›ä»£ç ç¤ºä¾‹ã€‚</p>\n<h4 id=\"æ–¹å¼-1æ‰¹é‡æ‰“åŒ…æ‰€æœ‰é•œåƒä¸ºä¸€ä¸ª-tar-æ–‡ä»¶æ¨èä¸€æ¬¡å¯¼å…¥æ‰€æœ‰\">æ–¹å¼ 1ï¼šæ‰¹é‡æ‰“åŒ…æ‰€æœ‰é•œåƒä¸ºä¸€ä¸ª tar æ–‡ä»¶ï¼ˆæ¨èï¼Œä¸€æ¬¡å¯¼å…¥æ‰€æœ‰ï¼‰</h4>\n<p>å°†æ‰€æœ‰æ‹‰å–çš„é•œåƒæ‰“åŒ…ä¸ºä¸€ä¸ªç»Ÿä¸€çš„ tar æ–‡ä»¶ï¼ˆç¤ºä¾‹ï¼šrdif-all-images.tarï¼‰ï¼Œæ”¾åœ¨æœ¬åœ°<strong>æ˜“æ‰¾åˆ°çš„ç›®å½•</strong>ï¼ˆå¦‚æ¡Œé¢ï¼‰ï¼Œæ‰§è¡Œå‘½ä»¤å‰å…ˆåˆ‡æ¢åˆ°ç›®æ ‡ç›®å½•ï¼ˆå¦‚ Windows æ¡Œé¢ç›®å½•ï¼‰ï¼š</p>\n<pre><code class=\"language-bash\"># Windows PowerShellåˆ‡æ¢åˆ°æ¡Œé¢ç›®å½•ï¼ˆç¤ºä¾‹ï¼Œå¯æ›¿æ¢ä¸ºè‡ªå·±çš„ç›®å½•ï¼‰\ncd C:\\Users\\ä½ çš„ç”¨æˆ·å\\Desktop\n\n# æ‰¹é‡æ‰“åŒ…é•œåƒä¸ºrdif-all-images.tarï¼ˆæ ¸å¿ƒå‘½ä»¤ï¼ŒåŒ…å«æ‰€æœ‰æ‰€éœ€é•œåƒï¼‰\ndocker save -o rdif-all-images.tar mysql:8.0 redis:7-alpine mcr.microsoft.com/dotnet/aspnet:8.0 nginx:alpine\n</code></pre>\n<ul>\n<li>å…³é”®å‚æ•°ï¼š<code>-o</code> æŒ‡å®šè¾“å‡ºçš„ tar æ–‡ä»¶åå’Œè·¯å¾„ï¼›åé¢è·Ÿ<strong>æ‰€æœ‰éœ€è¦æ‰“åŒ…çš„é•œåƒåï¼šç‰ˆæœ¬</strong>ï¼Œç”¨ç©ºæ ¼åˆ†éš”ã€‚</li>\n</ul>\n<h4 id=\"æ–¹å¼-2å•ä¸ªé•œåƒå•ç‹¬æ‰“åŒ…æŒ‰éœ€ä½¿ç”¨é€‚åˆå•ç‹¬æ›´æ–°é•œåƒ\">æ–¹å¼ 2ï¼šå•ä¸ªé•œåƒå•ç‹¬æ‰“åŒ…ï¼ˆæŒ‰éœ€ä½¿ç”¨ï¼Œé€‚åˆå•ç‹¬æ›´æ–°é•œåƒï¼‰</h4>\n<p>å¦‚æœåç»­åªéœ€æ›´æ–°æŸä¸ªé•œåƒï¼ˆå¦‚ä»…æ›´æ–° MySQLï¼‰ï¼Œå¯å•ç‹¬æ‰“åŒ…è¯¥é•œåƒï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p>\n<pre><code class=\"language-bash\"># æ‰“åŒ…MySQL8.0ä¸ºå•ç‹¬çš„taræ–‡ä»¶\ndocker save -o mysql_8.0.tar mysql:8.0\n# æ‰“åŒ…Redis7-alpineä¸ºå•ç‹¬çš„taræ–‡ä»¶\ndocker save -o redis_7_alpine.tar redis:7-alpine\n# æ‰“åŒ….NET8è¿è¡Œæ—¶ä¸ºå•ç‹¬çš„taræ–‡ä»¶\ndocker save -o dotnet_aspnet_8.0.tar mcr.microsoft.com/dotnet/aspnet:8.0\n# æ‰“åŒ…Nginx-alpineä¸ºå•ç‹¬çš„taræ–‡ä»¶\ndocker save -o nginx_alpine.tar nginx:alpine\n</code></pre>\n<h3 id=\"54-éªŒè¯æœ¬åœ°æ‰“åŒ…æˆåŠŸ\">5.4 éªŒè¯æœ¬åœ°æ‰“åŒ…æˆåŠŸ</h3>\n<p>æ‰“åŒ…å®Œæˆåï¼Œåœ¨æœ¬åœ°ç›®æ ‡ç›®å½•ï¼ˆå¦‚æ¡Œé¢ï¼‰èƒ½çœ‹åˆ°ç”Ÿæˆçš„ tar æ–‡ä»¶ï¼ˆå¦‚ rdif-all-images.tarï¼‰ï¼Œæ–‡ä»¶å¤§å°çº¦ 2-3Gï¼ˆæ­£å¸¸å¤§å°ï¼‰ï¼Œå³æ‰“åŒ…æˆåŠŸï¼›åç»­ç”¨ MobaXterm/Xftp/WinSCP å°†è¯¥ tar æ–‡ä»¶ä¸Šä¼ åˆ° CentOS æœåŠ¡å™¨çš„<code>/root/rdif-docker</code>ç›®å½•å³å¯ã€‚</p>\n<p><img alt=\"CentOS æœåŠ¡å™¨çš„\" src=\"https://img2024.cnblogs.com/blog/157572/202602/157572-20260210093422376-1797960651.png\" /></p>\n<h2 id=\"å…­æœåŠ¡å™¨ç«¯æ ¸å¿ƒéƒ¨ç½²æ­¥éª¤ç¦»çº¿å¯¼å…¥é•œåƒ--å¯åŠ¨æœåŠ¡\">å…­ã€æœåŠ¡å™¨ç«¯æ ¸å¿ƒéƒ¨ç½²æ­¥éª¤ï¼ˆç¦»çº¿å¯¼å…¥é•œåƒ + å¯åŠ¨æœåŠ¡ï¼‰</h2>\n<h3 id=\"61-ç¦»çº¿å¯¼å…¥é•œåƒè§£å†³ç½‘ç»œæ‹‰å–è¶…æ—¶æ ¸å¿ƒæ­¥éª¤\">6.1 ç¦»çº¿å¯¼å…¥é•œåƒï¼ˆè§£å†³ç½‘ç»œæ‹‰å–è¶…æ—¶ï¼Œæ ¸å¿ƒæ­¥éª¤ï¼‰</h3>\n<p>å°†æœ¬åœ°æ‰“åŒ…å¥½çš„é•œåƒ tar æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨åï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ç¦»çº¿å¯¼å…¥ï¼Œæ— éœ€å†è”ç½‘æ‹‰å–ï¼š</p>\n<pre><code class=\"language-bash\"># 1. è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼ˆç¡®ä¿é•œåƒtaråŒ…åœ¨è¯¥ç›®å½•ä¸‹ï¼‰\ncd /root/rdif-docker\n\n# 2. æŸ¥çœ‹é•œåƒtaråŒ…æ˜¯å¦å­˜åœ¨ï¼ˆèƒ½çœ‹åˆ°rdif-all-images.tarå³æ­£å¸¸ï¼‰\nls -l\n\n# 3. ç¦»çº¿å¯¼å…¥æ‰€æœ‰é•œåƒï¼ˆè€å¿ƒç­‰å¾…ï¼Œçº¦1-2åˆ†é’Ÿï¼Œé•œåƒåŒ…çº¦2-3Gï¼‰\ndocker load -i rdif-all-images.tar\n\n# 4. éªŒè¯é•œåƒå¯¼å…¥æˆåŠŸï¼ˆèƒ½çœ‹åˆ°4ä¸ªæ‰€éœ€é•œåƒå³æ­£å¸¸ï¼‰\ndocker images\n</code></pre>\n<p>âœ… æˆåŠŸæ ‡è¯†ï¼š<code>docker images</code>è¾“å‡ºä¸­åŒ…å«<code>mysql:8.0</code>ã€<code>redis:7-alpine</code>ã€<code>nginx:alpine</code>ã€<code>mcr.microsoft.com/dotnet/aspnet:8.0</code>ç­‰é•œåƒã€‚</p>\n<p><img alt=\"rdif-docker\" src=\"https://img2024.cnblogs.com/blog/157572/202602/157572-20260210093422367-1290821445.png\" /></p>\n<h3 id=\"62-å¯åŠ¨æ‰€æœ‰æœåŠ¡æ ¸å¿ƒå‘½ä»¤ä¸€é”®å¯åŠ¨\">6.2 å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆæ ¸å¿ƒå‘½ä»¤ï¼Œä¸€é”®å¯åŠ¨ï¼‰</h3>\n<p>æ‰€æœ‰é…ç½®å’Œå‡†å¤‡å·¥ä½œå®Œæˆåï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä¸€é”®å¯åŠ¨æ‰€æœ‰å®¹å™¨ï¼Œæ— éœ€æ‰‹åŠ¨é€ä¸ªå¯åŠ¨ï¼š</p>\n<pre><code class=\"language-bash\"># è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼ˆå¿…é¡»åœ¨docker-compose.ymlæ‰€åœ¨ç›®å½•æ‰§è¡Œï¼‰\ncd /root/rdif-docker\n\n# åå°å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆ-dï¼šåå°è¿è¡Œï¼Œæ— éœ€æ„å»ºï¼Œå› ä¸ºå‰åç«¯å·²æ‰“åŒ…ï¼‰\ndocker-compose up -d\n\n# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡è¿è¡ŒçŠ¶æ€ï¼ˆæ‰€æœ‰æœåŠ¡Stateåˆ—æ˜¾ç¤ºUpå³æ­£å¸¸ï¼‰\ndocker-compose ps\n</code></pre>\n<p>âœ… æˆåŠŸæ ‡è¯†ï¼š<code>docker-compose ps</code>è¾“å‡ºä¸­ï¼Œmysqlã€redisã€backendã€nginx å››ä¸ªæœåŠ¡çš„ State åˆ—å‡ä¸º<code>Up (healthy)</code>æˆ–<code>Up</code>ã€‚</p>\n<p><img alt=\"docker-compose ps\" src=\"https://img2024.cnblogs.com/blog/157572/202602/157572-20260210093422483-1638354417.png\" /></p>\n<h3 id=\"63-éªŒè¯æœåŠ¡å¯åŠ¨æˆåŠŸé€ä¸ªéªŒè¯ç¡®ä¿æ— é—®é¢˜\">6.3 éªŒè¯æœåŠ¡å¯åŠ¨æˆåŠŸï¼ˆé€ä¸ªéªŒè¯ï¼Œç¡®ä¿æ— é—®é¢˜ï¼‰</h3>\n<p>å¯åŠ¨åï¼Œé€ä¸ªéªŒè¯å‰ç«¯ã€åç«¯ã€æ•°æ®åº“ã€Redis æ˜¯å¦æ­£å¸¸ï¼Œé¿å…åç»­ä½¿ç”¨æ—¶å‡ºç°é—®é¢˜ï¼š</p>\n<h4 id=\"1éªŒè¯åç«¯æœåŠ¡swagger-è®¿é—®æ ¸å¿ƒ\">ï¼ˆ1ï¼‰éªŒè¯åç«¯æœåŠ¡ï¼ˆSwagger è®¿é—®ï¼Œæ ¸å¿ƒï¼‰</h4>\n<p>.NET8 åç«¯é»˜è®¤é›†æˆ Swaggerï¼Œè®¿é—®åœ°å€ï¼š<code>http://192.168.1.100:58588/swagger/index.html</code>ï¼ˆæ›¿æ¢æˆè‡ªå·±çš„è™šæ‹Ÿæœº IP å’Œåç«¯ç«¯å£ï¼‰</p>\n<ul>\n<li>\n<p>âœ… æˆåŠŸæ ‡è¯†ï¼šæµè§ˆå™¨èƒ½æ­£å¸¸æ‰“å¼€ Swagger é¡µé¢ï¼Œæ— æŠ¥é”™ï¼Œèƒ½çœ‹åˆ°æ‰€æœ‰æ¥å£ï¼›</p>\n</li>\n<li>\n<p>âŒ å¤±è´¥æ’æŸ¥ï¼šå¦‚æœæ‰“ä¸å¼€ï¼Œæ‰§è¡Œ<code>docker-compose logs -f backend</code>ï¼ŒæŸ¥çœ‹åç«¯å®æ—¶æ—¥å¿—ï¼Œæ’æŸ¥é—®é¢˜ï¼ˆå¦‚ç«¯å£ç›‘å¬é”™è¯¯ã€MySQL è¿æ¥å¤±è´¥ï¼‰ã€‚</p>\n</li>\n</ul>\n<p><img alt=\"Swagger\" src=\"https://img2024.cnblogs.com/blog/157572/202602/157572-20260210093422711-690050077.png\" /></p>\n<h4 id=\"2éªŒè¯å‰ç«¯æœåŠ¡é™æ€é¡µé¢è®¿é—®\">ï¼ˆ2ï¼‰éªŒè¯å‰ç«¯æœåŠ¡ï¼ˆé™æ€é¡µé¢è®¿é—®ï¼‰</h4>\n<p>å‰ç«¯ç”± Nginx ä»£ç†ï¼Œè®¿é—®åœ°å€ï¼š<code>http://192.168.1.100:6866</code>ï¼ˆæ›¿æ¢æˆè‡ªå·±çš„è™šæ‹Ÿæœº IP å’Œå‰ç«¯ç«¯å£ï¼‰</p>\n<ul>\n<li>\n<p>âœ… æˆåŠŸæ ‡è¯†ï¼šæµè§ˆå™¨èƒ½æ­£å¸¸æ‰“å¼€ Vue3 å‰ç«¯é¡µé¢ï¼Œæ ·å¼ã€å›¾ç‰‡æ­£å¸¸æ˜¾ç¤ºï¼›</p>\n</li>\n<li>\n<p>âŒ å¤±è´¥æ’æŸ¥ï¼šæ‰“ä¸å¼€åˆ™æŸ¥çœ‹ Nginx æ—¥å¿—ï¼Œå‘½ä»¤ï¼š<code>docker-compose logs -f nginx</code>ï¼Œæ£€æŸ¥ Nginx é…ç½®æ˜¯å¦æ­£ç¡®ã€dist ç›®å½•æ˜¯å¦æŒ‚è½½æˆåŠŸã€‚</p>\n</li>\n</ul>\n<p><img alt=\"å‰ç«¯é¡µé¢\" src=\"https://img2024.cnblogs.com/blog/157572/202602/157572-20260210093422720-1858789771.png\" /></p>\n<h4 id=\"3éªŒè¯-mysql-æœåŠ¡æœ¬åœ°å·¥å…·è¿æ¥\">ï¼ˆ3ï¼‰éªŒè¯ MySQL æœåŠ¡ï¼ˆæœ¬åœ°å·¥å…·è¿æ¥ï¼‰</h4>\n<p>ç”¨ Navicat æˆ– DBeaver ç­‰æœ¬åœ°æ•°æ®åº“å·¥å…·ï¼Œè¿æ¥è™šæ‹Ÿæœºä¸Šçš„ MySQLï¼š</p>\n<ul>\n<li>ä¸»æœºï¼š192.168.1.100ï¼ˆè™šæ‹Ÿæœº IPï¼‰</li>\n<li>ç«¯å£ï¼š3306</li>\n<li>ç”¨æˆ·åï¼šguosisoftï¼ˆè‡ªå®šä¹‰çš„ MySQL ç”¨æˆ·åï¼‰</li>\n<li>å¯†ç ï¼šMysql@123456ï¼ˆè‡ªå®šä¹‰çš„å¯†ç ï¼‰</li>\n<li>æ•°æ®åº“ï¼šrdif_vue3ï¼ˆè‡ªå®šä¹‰çš„æ•°æ®åº“åï¼‰</li>\n<li>âœ… æˆåŠŸæ ‡è¯†ï¼šèƒ½æ­£å¸¸è¿æ¥ï¼Œèƒ½çœ‹åˆ° init.sql åˆå§‹åŒ–çš„åº“ã€è¡¨å’Œæ•°æ®ã€‚</li>\n</ul>\n<h4 id=\"4éªŒè¯-redis-æœåŠ¡å¯é€‰æŒ‰éœ€éªŒè¯\">ï¼ˆ4ï¼‰éªŒè¯ Redis æœåŠ¡ï¼ˆå¯é€‰ï¼ŒæŒ‰éœ€éªŒè¯ï¼‰</h4>\n<p>ç”¨ Redis å®¢æˆ·ç«¯å·¥å…·ï¼ˆå¦‚ Another Redis Desktop Managerï¼‰ï¼Œè¿æ¥è™šæ‹Ÿæœºä¸Šçš„ Redisï¼š</p>\n<ul>\n<li>ä¸»æœºï¼š192.168.1.100ï¼ˆè™šæ‹Ÿæœº IPï¼‰</li>\n<li>ç«¯å£ï¼š6379</li>\n<li>å¯†ç ï¼šRedis@123456ï¼ˆè‡ªå®šä¹‰çš„ Redis å¯†ç ï¼‰</li>\n<li>âœ… æˆåŠŸæ ‡è¯†ï¼šèƒ½æ­£å¸¸è¿æ¥ï¼Œèƒ½æ‰§è¡Œ setã€get ç­‰å‘½ä»¤ã€‚</li>\n</ul>\n<h2 id=\"ä¸ƒéƒ¨ç½²è¿‡ç¨‹ä¸­é‡åˆ°çš„å‘åŠè§£å†³æ–¹æ¡ˆé‡ç‚¹é¿å‘æŒ‡å—\">ä¸ƒã€éƒ¨ç½²è¿‡ç¨‹ä¸­é‡åˆ°çš„å‘åŠè§£å†³æ–¹æ¡ˆï¼ˆé‡ç‚¹ï¼Œé¿å‘æŒ‡å—ï¼‰</h2>\n<p>è¿™éƒ¨åˆ†æ˜¯æ ¸å¿ƒï¼Œè®°å½•äº†æˆ‘éƒ¨ç½²è¿‡ç¨‹ä¸­é‡åˆ°çš„æ‰€æœ‰é—®é¢˜ï¼Œæ¯ä¸ªé—®é¢˜éƒ½æœ‰è¯¦ç»†çš„æ’æŸ¥è¿‡ç¨‹å’Œè§£å†³æ–¹æ¡ˆï¼Œäº²æµ‹æœ‰æ•ˆï¼Œå¸®ä½ å°‘èµ°å¼¯è·¯ã€‚</p>\n<h3 id=\"å‘-1docker-é•œåƒæ‹‰å–è¶…æ—¶æç¤º-dial-tcp--io-timeout\">å‘ 1ï¼šDocker é•œåƒæ‹‰å–è¶…æ—¶ï¼Œæç¤º â€œdial tcp ... i/o timeoutâ€</h3>\n<ul>\n<li>ç°è±¡ï¼šæ‰§è¡Œ<code>docker pull mysql:8.0</code>æˆ–<code>docker-compose up -d</code>æ—¶ï¼Œæ‹‰å–é•œåƒè¶…æ—¶ï¼Œæç¤ºè®¿é—®<code>registry-1.docker.io</code>å¤±è´¥ï¼›</li>\n<li>æ’æŸ¥ï¼šè™šæ‹Ÿæœºèƒ½ ping é€šç™¾åº¦ï¼ˆå¤–ç½‘æ­£å¸¸ï¼‰ï¼Œé•œåƒåŠ é€Ÿé…ç½®ä¹Ÿç”Ÿæ•ˆï¼Œä½†ä»æ‹‰å–è¶…æ—¶ï¼Œæ¨æµ‹æ˜¯è™šæ‹Ÿæœºç½‘ç»œæœ‰éšæ€§é™åˆ¶ï¼ˆå¦‚å†…ç½‘æ‹¦æˆªï¼‰ï¼›</li>\n<li>è§£å†³æ–¹æ¡ˆï¼šé‡‡ç”¨<strong>ç¦»çº¿å¯¼å…¥é•œåƒæ–¹æ¡ˆ</strong>ï¼ˆå‰æ–‡ 5ã€6 å°èŠ‚å·²è¯¦ç»†è¯´æ˜ï¼‰ï¼Œåœ¨æœ¬åœ°èƒ½è”ç½‘çš„ç”µè„‘ä¸Šæ‹‰å–é•œåƒã€æ‰“åŒ…æˆ tar åŒ…ï¼Œä¸Šä¼ åˆ°æœåŠ¡å™¨åç”¨<code>docker load -i</code>å¯¼å…¥ï¼Œå½»åº•è·³è¿‡ç½‘ç»œæ‹‰å–ã€‚</li>\n</ul>\n<h3 id=\"å‘-2åç«¯æœåŠ¡å¯åŠ¨æˆåŠŸä½†è®¿é—®http192168110058588æ‰“ä¸å¼€-swagger\">å‘ 2ï¼šåç«¯æœåŠ¡å¯åŠ¨æˆåŠŸï¼Œä½†è®¿é—®<code>http://192.168.1.100:58588</code>æ‰“ä¸å¼€ Swagger</h3>\n<ul>\n<li>\n<p>ç°è±¡ï¼š<code>docker-compose ps</code>æ˜¾ç¤º backend æœåŠ¡æ˜¯ Up çŠ¶æ€ï¼Œä½†æµè§ˆå™¨è®¿é—®åç«¯åœ°å€æ‰“ä¸å¼€ï¼ŒæŸ¥çœ‹åç«¯æ—¥å¿—ï¼Œæ˜¾ç¤º<code>Now listening on: http://[::]:8080</code>ï¼›</p>\n</li>\n<li>\n<p>æ’æŸ¥ï¼šåç«¯å®¹å™¨é»˜è®¤ç›‘å¬ 8080 ç«¯å£ï¼Œä½† docker-compose.yml ä¸­æ˜ å°„çš„æ˜¯ 58588:58588ï¼Œç«¯å£ä¸åŒ¹é…ï¼Œå¯¼è‡´è®¿é—®ä¸é€šï¼›</p>\n</li>\n<li>\n<p>è§£å†³æ–¹æ¡ˆï¼šåœ¨ backend æœåŠ¡çš„ environment ä¸­ï¼Œæ·»åŠ <code>ASPNETCORE_URLS: \"http://*:58588\"</code>ï¼Œå¼ºåˆ¶.NET8 å®¹å™¨å†…ç›‘å¬ 58588 ç«¯å£ï¼Œå’Œç«¯å£æ˜ å°„ä¸€è‡´ï¼Œé‡å¯åç«¯å®¹å™¨å³å¯ã€‚</p>\n</li>\n</ul>\n<p><img alt=\"ASPNETCORE_URLS\" src=\"https://img2024.cnblogs.com/blog/157572/202602/157572-20260210093422720-938480573.png\" /></p>\n<h3 id=\"å‘-3åç«¯æ—¥å¿—æç¤º-unable-to-connect-to-any-of-the-specified-mysql-hosts\">å‘ 3ï¼šåç«¯æ—¥å¿—æç¤º â€œUnable to connect to any of the specified MySQL hostsâ€</h3>\n<ul>\n<li>\n<p>ç°è±¡ï¼šåç«¯å¯åŠ¨åï¼Œæ—¥å¿—æŒç»­æŠ¥é”™ï¼Œæ— æ³•è¿æ¥ MySQLï¼Œä½†æœ¬åœ° Navicat èƒ½æ­£å¸¸è¿æ¥è™šæ‹Ÿæœºä¸Šçš„ MySQLï¼›</p>\n</li>\n<li>\n<p>æ’æŸ¥ï¼šæœ¬åœ°èƒ½è¿æ¥ï¼Œè¯´æ˜ MySQL ç«¯å£æ˜ å°„æ­£å¸¸ï¼›åç«¯å®¹å™¨å’Œ MySQL å®¹å™¨åœ¨åŒä¸€ Docker ç½‘ç»œï¼Œåº”è¯¥ç”¨å®¹å™¨åï¼ˆmysqlï¼‰è®¿é—®ï¼Œè€Œéè™šæ‹Ÿæœº IPï¼Œæ’æŸ¥åå‘ç°è¿æ¥å­—ç¬¦ä¸²æ­£ç¡®ï¼Œä½†åç«¯å¯åŠ¨æ—©äº MySQL åˆå§‹åŒ–å®Œæˆï¼›</p>\n</li>\n<li>\n<p>è§£å†³æ–¹æ¡ˆï¼š</p>\n<ol>\n<li>ç»™ MySQL æœåŠ¡æ·»åŠ å¥åº·æ£€æŸ¥ï¼ˆå‰æ–‡ docker-compose.yml ä¸­çš„ healthcheck é…ç½®ï¼‰ï¼Œæ£€æµ‹ MySQL æ˜¯å¦çœŸæ­£å°±ç»ªï¼›</li>\n<li>åç«¯æœåŠ¡çš„ depends_on ä¸­ï¼Œæ·»åŠ <code>condition: service_healthy</code>ï¼Œç¡®ä¿ MySQL å¥åº·æ£€æŸ¥é€šè¿‡åï¼Œå†å¯åŠ¨åç«¯ï¼›</li>\n<li>ç»™ MySQL è¿æ¥å­—ç¬¦ä¸²è¡¥å……<code>AllowPublicKeyRetrieval=True;SslMode=None</code>ï¼Œè§£å†³å®¹å™¨å†…è¿æ¥ MySQL çš„å…¬é’¥æ£€ç´¢å’Œ SSL é™åˆ¶ã€‚</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"å‘-4æ‰§è¡Œdocker-compose-downæç¤ºé…ç½®æ— æ•ˆunsupported-config-option-for-servicesbackend-condition\">å‘ 4ï¼šæ‰§è¡Œ<code>docker-compose down</code>æç¤ºé…ç½®æ— æ•ˆï¼Œâ€œUnsupported config option for services.backend: 'condition'â€</h3>\n<ul>\n<li>ç°è±¡ï¼šæ‰§è¡Œ docker-compose å‘½ä»¤æ—¶ï¼Œæç¤ºé…ç½®æ— æ•ˆï¼Œä¸æ”¯æŒ<code>condition</code>å’Œ<code>start_period</code>ï¼›</li>\n<li>æ’æŸ¥ï¼šæŸ¥çœ‹ docker-compose ç‰ˆæœ¬ï¼Œå‘ç°æ˜¯ 1.x ç‰ˆæœ¬ï¼Œä¸æ”¯æŒæ–°ç‰ˆé…ç½®é¡¹ï¼›</li>\n<li>è§£å†³æ–¹æ¡ˆï¼šå‡çº§ Docker Compose åˆ° V2 ç‰ˆæœ¬ï¼ˆå‰æ–‡äºŒã€4 å°èŠ‚å·²è¯¦ç»†è¯´æ˜ï¼‰ï¼Œå‡çº§åå³å¯æ”¯æŒæ‰€æœ‰é…ç½®ã€‚</li>\n</ul>\n<h3 id=\"å‘-5mysql-å®¹å™¨æ—¶é—´æ¯”åŒ—äº¬æ—¶é—´æ…¢-8-å°æ—¶\">å‘ 5ï¼šMySQL å®¹å™¨æ—¶é—´æ¯”åŒ—äº¬æ—¶é—´æ…¢ 8 å°æ—¶</h3>\n<ul>\n<li>\n<p>ç°è±¡ï¼šMySQL ä¸­æŸ¥è¯¢å½“å‰æ—¶é—´ï¼ˆ<code>select now();</code>ï¼‰ï¼Œæ¯”åŒ—äº¬æ—¶é—´æ…¢ 8 å°æ—¶ï¼Œå½±å“é¡¹ç›®æ—¶é—´ç›¸å…³åŠŸèƒ½ï¼›</p>\n</li>\n<li>\n<p>æ’æŸ¥ï¼šDocker å®¹å™¨é»˜è®¤ä½¿ç”¨ UTC ä¸–ç•Œæ ‡å‡†æ—¶é—´ï¼Œå›½å†…ä½¿ç”¨ä¸œå…«åŒºï¼ˆCSTï¼‰ï¼Œä¸¤è€…ç›¸å·® 8 å°æ—¶ï¼›</p>\n</li>\n<li>\n<p>è§£å†³æ–¹æ¡ˆï¼š</p>\n<ol>\n<li>\n<p>ç»™ MySQL æœåŠ¡æ·»åŠ ç¯å¢ƒå˜é‡<code>TZ: Asia/Shanghai</code>ï¼Œå¼ºåˆ¶å®¹å™¨æ—¶åŒºä¸ºä¸œå…«åŒºï¼ˆæ ¸å¿ƒï¼‰ï¼›</p>\n</li>\n<li>\n<p>æŒ‚è½½å®¿ä¸»æœºçš„æ—¶åŒºæ–‡ä»¶ï¼ˆ<code>/etc/localtime:/etc/localtime:ro</code>ï¼‰ï¼ŒåŒé‡ä¿éšœæ—¶åŒºåŒæ­¥ï¼›</p>\n</li>\n<li>\n<p>ç»™åç«¯ã€Nginxã€Redis å®¹å™¨ä¹Ÿæ·»åŠ ç›¸åŒçš„<code>TZ</code>ç¯å¢ƒå˜é‡ï¼Œå®ç°å…¨æœåŠ¡æ—¶é—´ç»Ÿä¸€ï¼›</p>\n</li>\n<li>\n<p>é‡å»º MySQL å®¹å™¨ï¼ˆç¯å¢ƒå˜é‡ä¿®æ”¹åï¼Œå•çº¯ restart ä¸ç”Ÿæ•ˆï¼Œéœ€<code>docker-compose stop mysql &amp;&amp; docker-compose rm -f mysql &amp;&amp; docker-compose up -d mysql</code>ï¼‰ã€‚</p>\n</li>\n</ol>\n</li>\n</ul>\n<p><img alt=\"MySQL æœåŠ¡æ·»åŠ ç¯å¢ƒå˜é‡TZ\" src=\"https://img2024.cnblogs.com/blog/157572/202602/157572-20260210102245661-1868000854.png\" /></p>\n<h3 id=\"å‘-6è™šæ‹Ÿæœºé‡å¯åæ‰€æœ‰-docker-æœåŠ¡éƒ½éœ€è¦æ‰‹åŠ¨å¯åŠ¨\">å‘ 6ï¼šè™šæ‹Ÿæœºé‡å¯åï¼Œæ‰€æœ‰ Docker æœåŠ¡éƒ½éœ€è¦æ‰‹åŠ¨å¯åŠ¨</h3>\n<ul>\n<li>ç°è±¡ï¼šè™šæ‹Ÿæœºé‡å¯åï¼ŒDocker æœåŠ¡å’Œæ‰€æœ‰å®¹å™¨éƒ½åœæ­¢äº†ï¼Œéœ€è¦æ‰‹åŠ¨æ‰§è¡Œ<code>systemctl start docker</code>å’Œ<code>docker-compose up -d</code>ï¼›</li>\n<li>æ’æŸ¥ï¼šDocker æœåŠ¡æœªè®¾ç½®å¼€æœºè‡ªå¯ï¼Œå®¹å™¨çš„<code>restart: always</code>é…ç½®ï¼Œéœ€è¦ Docker æœåŠ¡å¯åŠ¨åæ‰ä¼šç”Ÿæ•ˆï¼›</li>\n<li>è§£å†³æ–¹æ¡ˆï¼šè®¾ç½® Docker æœåŠ¡å¼€æœºè‡ªå¯ï¼Œå‘½ä»¤ï¼š<code>systemctl enable docker</code>ï¼Œåç»­è™šæ‹Ÿæœºé‡å¯åï¼ŒDocker ä¼šè‡ªåŠ¨å¯åŠ¨ï¼Œæ‰€æœ‰å®¹å™¨ä¹Ÿä¼šè‡ªåŠ¨åå°å¯åŠ¨ã€‚</li>\n</ul>\n<h3 id=\"å‘-7æœ¬åœ°æ‰“åŒ…é•œåƒåæœåŠ¡å™¨å¯¼å…¥æç¤º-no-such-image\">å‘ 7ï¼šæœ¬åœ°æ‰“åŒ…é•œåƒåï¼ŒæœåŠ¡å™¨å¯¼å…¥æç¤º â€œno such imageâ€</h3>\n<ul>\n<li>ç°è±¡ï¼šæ‰§è¡Œ<code>docker load -i rdif-all-images.tar</code>æ—¶ï¼Œæç¤ºé•œåƒä¸å­˜åœ¨ï¼›</li>\n<li>æ’æŸ¥ï¼šæœ¬åœ°æ‹‰å–çš„é•œåƒç‰ˆæœ¬å’ŒæœåŠ¡å™¨ docker-compose.yml ä¸­é…ç½®çš„ç‰ˆæœ¬ä¸ä¸€è‡´ï¼Œæˆ–æ‰“åŒ…æ—¶é•œåƒåæ‹¼å†™é”™è¯¯ï¼›</li>\n<li>è§£å†³æ–¹æ¡ˆï¼šæœ¬åœ°æ‰§è¡Œ<code>docker images</code>ç¡®è®¤é•œåƒåå’Œç‰ˆæœ¬ï¼Œç¡®ä¿å’Œ docker-compose.yml ä¸­å®Œå…¨ä¸€è‡´ï¼Œé‡æ–°æ‰“åŒ…å¹¶ä¸Šä¼ ã€‚</li>\n</ul>\n<h3 id=\"å‘-8è™šæ‹Ÿæœºé‡å¯åipå˜æ›´é—®é¢˜\">å‘ 8ï¼šè™šæ‹Ÿæœºé‡å¯åIPå˜æ›´é—®é¢˜</h3>\n<p>é¦–å…ˆæŸ¥çœ‹æœ¬åœ°ç½‘ç»œé…ç½®ï¼Œå¦‚ä¸‹å‚è€ƒï¼š</p>\n<p><img alt=\"æœ¬åœ°ç½‘ç»œé…ç½®\" src=\"https://img2024.cnblogs.com/blog/157572/202602/157572-20260210093422554-35499731.png\" /></p>\n<p>è™šæ‹Ÿæœºç½‘ç»œé€‚é…å™¨è®¾ç½®ä¸ºæ¡¥æ¥æ¨¡å¼ã€‚</p>\n<p><img alt=\"æ¡¥æ¥æ¨¡å¼\" src=\"https://img2024.cnblogs.com/blog/157572/202602/157572-20260210093422517-1315584570.png\" /></p>\n<p>åœ¨linuxä¸­æ‰§è¡Œå‘½ä»¤ï¼š</p>\n<pre><code class=\"language-bash\">vim /etc/sysconfig/network-scripts/ifcfg-ens33\n</code></pre>\n<p><img alt=\"\" src=\"https://img2024.cnblogs.com/blog/157572/202602/157572-20260210093422595-392661691.png\" /></p>\n<p>ä¿å­˜åé‡å¯ç½‘ç»œæœåŠ¡</p>\n<pre><code class=\"language-bash\">systemctl restart network\n</code></pre>\n<h2 id=\"å…«å¸¸ç”¨-dockercompose-ç®¡ç†å‘½ä»¤æ—¥å¸¸è¿ç»´å¿…å¤‡\">å…«ã€å¸¸ç”¨ Docker/Compose ç®¡ç†å‘½ä»¤ï¼ˆæ—¥å¸¸è¿ç»´å¿…å¤‡ï¼‰</h2>\n<p>éƒ¨ç½²å®Œæˆåï¼Œæ—¥å¸¸ç»´æŠ¤ã€æ’é”™ï¼Œéƒ½ä¼šç”¨åˆ°ä»¥ä¸‹å‘½ä»¤ï¼Œæ•´ç†å¥½æ”¾åœ¨è¿™é‡Œï¼Œæ–¹ä¾¿åç»­ä½¿ç”¨ï¼ˆæ‰€æœ‰å‘½ä»¤å‡äº²æµ‹å¯ç”¨ï¼‰ã€‚</p>\n<h3 id=\"ä¸€docker-åŸºç¡€å‘½ä»¤å…¨å±€é€šç”¨\">ï¼ˆä¸€ï¼‰Docker åŸºç¡€å‘½ä»¤ï¼ˆå…¨å±€é€šç”¨ï¼‰</h3>\n<pre><code class=\"language-bash\"># 1. DockeræœåŠ¡ç®¡ç†ï¼ˆæ ¸å¿ƒï¼Œå¼€æœºè‡ªå¯/å¯åœï¼‰\nsystemctl start docker        # å¯åŠ¨DockeræœåŠ¡\nsystemctl stop docker         # åœæ­¢DockeræœåŠ¡\nsystemctl restart docker      # é‡å¯DockeræœåŠ¡\nsystemctl enable docker       # Dockerå¼€æœºè‡ªå¯ï¼ˆæ°¸ä¹…ç”Ÿæ•ˆï¼‰\nsystemctl disable docker      # å…³é—­Dockerå¼€æœºè‡ªå¯\nsystemctl status docker       # æŸ¥çœ‹DockeræœåŠ¡çŠ¶æ€\nsystemctl is-enabled docker   # æ£€æŸ¥Dockeræ˜¯å¦å¼€æœºè‡ªå¯ï¼ˆè¾“å‡ºenabledåˆ™æ˜¯ï¼‰\n\n# 2. å®¹å™¨ç®¡ç†ï¼ˆæ—¥å¸¸æ’é”™ã€å¯åœå¸¸ç”¨ï¼‰\ndocker ps                     # æŸ¥çœ‹**è¿è¡Œä¸­**çš„å®¹å™¨\ndocker ps -a                  # æŸ¥çœ‹**æ‰€æœ‰**å®¹å™¨ï¼ˆè¿è¡Œ+åœæ­¢ï¼‰\ndocker start &lt;å®¹å™¨å/ID&gt;       # å¯åŠ¨æŒ‡å®šå®¹å™¨ï¼ˆç”¨å®¹å™¨åï¼Œæ›´æ–¹ä¾¿ï¼‰\ndocker stop &lt;å®¹å™¨å/ID&gt;        # åœæ­¢æŒ‡å®šå®¹å™¨\ndocker restart &lt;å®¹å™¨å/ID&gt;     # é‡å¯æŒ‡å®šå®¹å™¨ï¼ˆå¦‚åç«¯å®¹å™¨ï¼šdocker restart rdif-backendï¼‰\ndocker rm &lt;å®¹å™¨å/ID&gt;          # åˆ é™¤æŒ‡å®šåœæ­¢çš„å®¹å™¨\ndocker rm -f &lt;å®¹å™¨å/ID&gt;       # å¼ºåˆ¶åˆ é™¤**è¿è¡Œä¸­**çš„å®¹å™¨ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰\ndocker exec -it &lt;å®¹å™¨å/ID&gt; /bin/bash  # è¿›å…¥å®¹å™¨äº¤äº’ç»ˆç«¯ï¼ˆAlpineé•œåƒç”¨shæ›¿ä»£/bin/bashï¼‰\ndocker logs &lt;å®¹å™¨å/ID&gt;       \t# æŸ¥çœ‹å®¹å™¨æ—¥å¿—ï¼ˆæœ€æ–°ï¼‰\ndocker logs -f &lt;å®¹å™¨å/ID&gt;   \t\t# å®æ—¶æŸ¥çœ‹å®¹å™¨æ—¥å¿—ï¼ˆæ’é”™æ ¸å¿ƒï¼Œé‡ç‚¹ï¼‰\ndocker logs --tail 100 &lt;å®¹å™¨å/ID&gt; # æŸ¥çœ‹å®¹å™¨æœ€å100è¡Œæ—¥å¿—\n\n# 3. é•œåƒç®¡ç†ï¼ˆç¦»çº¿å¯¼å…¥/æ‰“åŒ…å¸¸ç”¨ï¼‰\ndocker images                 # æŸ¥çœ‹æœ¬åœ°æ‰€æœ‰é•œåƒ\ndocker rmi &lt;é•œåƒå/ID&gt;         # åˆ é™¤æŒ‡å®šé•œåƒï¼ˆæ— å®¹å™¨ä¾èµ–æ—¶ï¼‰\ndocker rmi -f &lt;é•œåƒå/ID&gt;      # å¼ºåˆ¶åˆ é™¤é•œåƒï¼ˆå¿½ç•¥å®¹å™¨ä¾èµ–ï¼Œè°¨æ…ï¼Œå¦‚ï¼šdocker rmi -f mysql:8.0ï¼‰\ndocker load -i &lt;é•œåƒtaråŒ…&gt;    # ç¦»çº¿å¯¼å…¥é•œåƒï¼ˆå¦‚ï¼šdocker load -i rdif-all-images.tarï¼‰\ndocker save -o &lt;è¾“å‡ºtaråŒ…&gt; &lt;é•œåƒå&gt; # æ‰“åŒ…æœ¬åœ°é•œåƒä¸ºtaråŒ…ï¼ˆå¦‚ï¼šdocker save -o mysql8.tar mysql:8.0ï¼‰\ndocker pull &lt;é•œåƒå:ç‰ˆæœ¬&gt;      # æ‹‰å–è¿œç¨‹é•œåƒ\ndocker system prune -f        # æ¸…ç†æ— ç”¨å®¹å™¨/é•œåƒ/ç¼“å­˜ï¼ˆæ— é£é™©ï¼Œæ¨èå®šæœŸæ‰§è¡Œï¼‰\n\n# 4. æ•°æ®å·/ç½‘ç»œç®¡ç†ï¼ˆæœ¬æ¬¡è‡ªåŠ¨åˆ›å»ºï¼ŒæŒ‰éœ€æŸ¥çœ‹ï¼‰\ndocker volume ls              # æŸ¥çœ‹æ‰€æœ‰Dockeræ•°æ®å·ï¼ˆä¿å­˜MySQL/Redisæ•°æ®ï¼‰\ndocker network ls             # æŸ¥çœ‹æ‰€æœ‰Dockerç½‘ç»œï¼ˆæœ¬æ¬¡ä¸ºrdif-networkï¼‰\n</code></pre>\n<h3 id=\"äºŒdocker-compose-å‘½ä»¤é¡¹ç›®ç®¡ç†æ ¸å¿ƒéœ€åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ\">ï¼ˆäºŒï¼‰Docker Compose å‘½ä»¤ï¼ˆé¡¹ç›®ç®¡ç†æ ¸å¿ƒï¼Œéœ€åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œï¼‰</h3>\n<pre><code class=\"language-bash\"># 1. æ ¸å¿ƒå¯åœå‘½ä»¤ï¼ˆæœ€å¸¸ç”¨ï¼‰\ndocker-compose up -d          # åå°å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆæ— æ„å»ºï¼Œæœ¬æ¬¡æ ¸å¿ƒç”¨ï¼‰\ndocker-compose up -d --build  # åå°å¯åŠ¨+æ„å»ºé•œåƒï¼ˆæœ‰Dockerfileæ—¶ç”¨ï¼‰\ndocker-compose down           # åœæ­¢å¹¶åˆ é™¤æ‰€æœ‰å®¹å™¨ï¼ˆä¿ç•™æ•°æ®å·/é•œåƒï¼Œå®‰å…¨ï¼‰\ndocker-compose stop           # ä»…åœæ­¢æ‰€æœ‰å®¹å™¨ï¼ˆä¸åˆ é™¤ï¼Œå®¹å™¨ä»å­˜åœ¨ï¼‰\ndocker-compose start          # å¯åŠ¨å·²åœæ­¢çš„æ‰€æœ‰å®¹å™¨\ndocker-compose restart        # é‡å¯æ‰€æœ‰æœåŠ¡ï¼ˆé…ç½®æœªæ”¹æ—¶ç”¨ï¼‰\ndocker-compose restart backend # é‡å¯æŒ‡å®šæœåŠ¡ï¼ˆå¦‚åç«¯ï¼Œæ— éœ€é‡å¯æ‰€æœ‰æœåŠ¡ï¼‰\n\n# 2. çŠ¶æ€/æ—¥å¿—æŸ¥çœ‹ï¼ˆæ’é”™å¸¸ç”¨ï¼‰\ndocker-compose ps             # æŸ¥çœ‹æ‰€æœ‰æœåŠ¡è¿è¡ŒçŠ¶æ€ï¼ˆçœ‹æ˜¯å¦Upï¼‰\ndocker-compose logs -f        # å®æ—¶æŸ¥çœ‹æ‰€æœ‰æœåŠ¡æ—¥å¿—\ndocker-compose logs -f &lt;æœåŠ¡å&gt; # å®æ—¶æŸ¥çœ‹æŒ‡å®šæœåŠ¡æ—¥å¿—ï¼ˆå¦‚docker-compose logs -f backendï¼Œå®æ—¶æŸ¥çœ‹åç«¯æ—¥å¿—ï¼ˆæ’é”™é‡ç‚¹ï¼‰\n\n# 3. å…¶ä»–å¸¸ç”¨\ndocker-compose config         # éªŒè¯docker-compose.ymlé…ç½®è¯­æ³•æ˜¯å¦æ­£ç¡®ï¼ˆé¿å…é…ç½®é”™è¯¯ï¼‰\ndocker-compose rm &lt;æœåŠ¡å&gt;     # åˆ é™¤æŒ‡å®šåœæ­¢çš„æœåŠ¡å®¹å™¨\n\n</code></pre>\n<h2 id=\"ä¹å¼€æœºè‡ªå¯é…ç½®æ— éœ€æ‰‹åŠ¨å¹²é¢„è™šæ‹Ÿæœºé‡å¯è‡ªåŠ¨æ¢å¤\">ä¹ã€å¼€æœºè‡ªå¯é…ç½®ï¼ˆæ— éœ€æ‰‹åŠ¨å¹²é¢„ï¼Œè™šæ‹Ÿæœºé‡å¯è‡ªåŠ¨æ¢å¤ï¼‰</h2>\n<p>å‰é¢å·²ç»æåˆ°ï¼Œè¿™é‡Œå†å•ç‹¬æ•´ç†ä¸€éï¼Œç¡®ä¿è™šæ‹Ÿæœºé‡å¯åï¼Œæ‰€æœ‰æœåŠ¡è‡ªåŠ¨å¯åŠ¨ï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œï¼š</p>\n<pre><code class=\"language-bash\"># 1. ç¡®ä¿DockeræœåŠ¡å¼€æœºè‡ªå¯ï¼ˆå·²é…ç½®ï¼Œå†æ¬¡éªŒè¯ï¼‰\nsystemctl enable docker\nsystemctl is-enabled docker   # è¾“å‡ºenabledå³æˆåŠŸ\n\n# 2. éªŒè¯å®¹å™¨è‡ªåŠ¨é‡å¯ç­–ç•¥ï¼ˆdocker-compose.ymlå·²é…ç½®restart: alwaysï¼‰\ndocker-compose config | grep -i restart # è¾“å‡º4ä¸ªrestart: alwayså³æ­£å¸¸\n\n# 3. æµ‹è¯•éªŒè¯ï¼ˆå¯é€‰ï¼Œæ‰‹åŠ¨é‡å¯è™šæ‹Ÿæœºï¼‰\nreboot # é‡å¯è™šæ‹Ÿæœºï¼Œé‡æ–°è¿æ¥åï¼Œç›´æ¥è®¿é—®æœåŠ¡ï¼Œç¡®è®¤èƒ½æ­£å¸¸æ‰“å¼€\n</code></pre>\n<p>âœ… æˆåŠŸæ ‡è¯†ï¼šè™šæ‹Ÿæœºé‡å¯åï¼Œæ— éœ€æ‰§è¡Œä»»ä½•å‘½ä»¤ï¼Œ<code>docker-compose ps</code>æ˜¾ç¤ºæ‰€æœ‰æœåŠ¡éƒ½æ˜¯ Up çŠ¶æ€ï¼Œå‰ç«¯ã€åç«¯ã€Swagger éƒ½èƒ½æ­£å¸¸è®¿é—®ã€‚</p>\n<h2 id=\"åå‰åç«¯æ›´æ–°æ–¹æ³•æ—¥å¸¸ç»´æŠ¤ç®€å•é«˜æ•ˆ\">åã€å‰åç«¯æ›´æ–°æ–¹æ³•ï¼ˆæ—¥å¸¸ç»´æŠ¤ï¼Œç®€å•é«˜æ•ˆï¼‰</h2>\n<p>åç»­éœ€è¦æ›´æ–°å‰ç«¯æˆ–åç«¯ä»£ç æ—¶ï¼Œæ— éœ€é‡æ–°éƒ¨ç½²æ•´ä¸ªç¯å¢ƒï¼Œç›´æ¥æ›¿æ¢æ‰“åŒ… / å‘å¸ƒæ–‡ä»¶ï¼Œé‡å¯å¯¹åº”æœåŠ¡å³å¯ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p>\n<h3 id=\"1-åç«¯æ›´æ–°vs2022-é‡æ–°å‘å¸ƒå\">1. åç«¯æ›´æ–°ï¼ˆVS2022+ é‡æ–°å‘å¸ƒåï¼‰</h3>\n<ol>\n<li>æœ¬åœ° VS2022+ é‡æ–°å‘å¸ƒ.NET8 é¡¹ç›®ï¼Œç”Ÿæˆæ–°çš„ publish æ–‡ä»¶å¤¹ï¼›</li>\n<li>ç”¨ Xftp å·¥å…·ï¼Œå°†æ–°çš„ publish æ–‡ä»¶å¤¹ï¼Œè¦†ç›–æœåŠ¡å™¨<code>/root/rdif-docker/backend/</code>ä¸‹çš„æ—§ publish æ–‡ä»¶å¤¹ï¼›</li>\n<li>é‡å¯åç«¯å®¹å™¨ï¼Œæ›´æ–°ç”Ÿæ•ˆï¼š</li>\n</ol>\n<pre><code class=\"language-bash\">cd /root/rdif-docker\ndocker-compose restart backend\n</code></pre>\n<h3 id=\"2-å‰ç«¯æ›´æ–°vue3-é‡æ–°æ‰“åŒ…å\">2. å‰ç«¯æ›´æ–°ï¼ˆVue3 é‡æ–°æ‰“åŒ…åï¼‰</h3>\n<ol>\n<li>æœ¬åœ° Vue3 é¡¹ç›®é‡æ–°æ‰“åŒ…ï¼ˆyarn build/npm run buildï¼‰ï¼Œç”Ÿæˆæ–°çš„ dist æ–‡ä»¶å¤¹ï¼›</li>\n<li>ç”¨ Xftp å·¥å…·ï¼Œå°†æ–°çš„ dist æ–‡ä»¶å¤¹ï¼Œè¦†ç›–æœåŠ¡å™¨<code>/root/rdif-docker/frontend/</code>ä¸‹çš„æ—§ dist æ–‡ä»¶å¤¹ï¼›</li>\n<li>é‡å¯ Nginx å®¹å™¨ï¼Œæ›´æ–°ç”Ÿæ•ˆï¼š</li>\n</ol>\n<pre><code class=\"language-bash\">cd /root/rdif-docker\ndocker-compose restart nginx\n</code></pre>\n<h2 id=\"åä¸€æ€»ç»“ä¸æ³¨æ„äº‹é¡¹æœ€åæé†’é¿å‘æ”¶å°¾\">åä¸€ã€æ€»ç»“ä¸æ³¨æ„äº‹é¡¹ï¼ˆæœ€åæé†’ï¼Œé¿å‘æ”¶å°¾ï¼‰</h2>\n<h3 id=\"æ€»ç»“\">æ€»ç»“</h3>\n<p>æœ¬æ¬¡éƒ¨ç½²åŸºäº<strong>Docker Compose</strong>å®ç°äº†.NET8 åç«¯ï¼ˆå·²å‘å¸ƒï¼‰+Vue å‰ç«¯ï¼ˆå·²æ‰“åŒ…ï¼‰+MySQL8+Redis+Nginx çš„æ•´å¥—å¤šæœåŠ¡å®¹å™¨åŒ–éƒ¨ç½²ï¼Œå…¨ç¨‹äº²æµ‹å¯å¤ç°ï¼Œæ ¸å¿ƒäº®ç‚¹ï¼š</p>\n<ol>\n<li>é‡‡ç”¨<strong>ç¦»çº¿é•œåƒå¯¼å…¥</strong>æ–¹æ¡ˆï¼Œè§£å†³æœåŠ¡å™¨ç½‘ç»œæ‹‰å–é•œåƒè¶…æ—¶é—®é¢˜ï¼Œé™„æœ¬åœ°æ‹‰å– + æ‰“åŒ…å®Œæ•´æ­¥éª¤ï¼Œæ–°æ‰‹ä¹Ÿèƒ½ä¸Šæ‰‹ï¼›</li>\n<li>å‰åç«¯æ— éœ€å®¹å™¨å†…ç¼–è¯‘æ„å»ºï¼Œç›´æ¥æŒ‚è½½æœ¬åœ°æ‰“åŒ… / å‘å¸ƒæ–‡ä»¶ï¼Œå¯åŠ¨æ›´å¿«ã€æ›´æ–°æ›´æ–¹ä¾¿ï¼Œé€‚åˆå·²å®Œæˆæœ¬åœ°å¼€å‘çš„é¡¹ç›®ï¼›</li>\n<li>è§£å†³äº†<strong>ç«¯å£ä¸é€šã€MySQL è¿æ¥å¤±è´¥ã€æ—¶åŒºæ—¶å·®ã€å®¹å™¨å¯åŠ¨é¡ºåºã€é…ç½®å…¼å®¹ã€å¼€æœºè‡ªå¯</strong>ç­‰ 6 å¤§æ ¸å¿ƒé—®é¢˜ï¼Œé™„è¯¦ç»†é¿å‘æ–¹æ¡ˆï¼›</li>\n<li>æ‰€æœ‰é…ç½®é›†ä¸­åœ¨<code>docker-compose.yml</code>ï¼Œä¸€é”®å¯åœã€æ˜“ç»´æŠ¤ã€æ˜“è¿ç§»ï¼Œè™šæ‹Ÿæœºé‡å¯åæœåŠ¡è‡ªåŠ¨æ¢å¤ï¼Œæ— éœ€æ‰‹åŠ¨å¹²é¢„ï¼›</li>\n<li>å…¨ç¨‹é‡‡ç”¨è½»é‡ç‰ˆé•œåƒï¼ˆalpineï¼‰ï¼Œé™ä½æœåŠ¡å™¨èµ„æºå ç”¨ï¼Œé€‚åˆä¸ªäººæµ‹è¯• / å°å‹é¡¹ç›®éƒ¨ç½²ã€‚</li>\n</ol>\n<h3 id=\"æ³¨æ„äº‹é¡¹é‡ç‚¹é¿å‘ç”Ÿäº§ç¯å¢ƒå¿…çœ‹\">æ³¨æ„äº‹é¡¹ï¼ˆé‡ç‚¹é¿å‘ï¼Œç”Ÿäº§ç¯å¢ƒå¿…çœ‹ï¼‰</h3>\n<ol>\n<li>\n<p><strong>ç‰ˆæœ¬å¼ºä¸€è‡´</strong>ï¼šæœ¬åœ°æ‹‰å–çš„é•œåƒç‰ˆæœ¬ã€docker-compose.yml ä¸­çš„é•œåƒç‰ˆæœ¬ã€åç«¯ / å‰ç«¯çš„è¿è¡Œä¾èµ–ç‰ˆæœ¬ï¼Œå¿…é¡»å®Œå…¨ä¸€è‡´ï¼Œé¿å…å…¼å®¹é—®é¢˜ï¼›</p>\n</li>\n<li>\n<p><strong>å®¹å™¨é—´é€šä¿¡è§„åˆ™</strong>ï¼šåŒä¸€ Docker è‡ªå®šä¹‰ç½‘ç»œå†…ï¼ŒæœåŠ¡é—´è®¿é—®<strong>å¿…é¡»ç”¨å®¹å™¨å / æœåŠ¡å</strong>ï¼ˆå¦‚åç«¯è¿ MySQL ç”¨<code>server=mysql</code>ï¼‰ï¼Œè€ŒéæœåŠ¡å™¨ IPï¼›æœ¬åœ°å·¥å…·ï¼ˆNavicat/Redis å®¢æˆ·ç«¯ï¼‰è¿æ¥æ‰ç”¨æœåŠ¡å™¨ IPï¼›</p>\n</li>\n<li>\n<p><strong>ç¯å¢ƒå˜é‡ä¿®æ”¹è§„åˆ™</strong>ï¼šä¿®æ”¹å®¹å™¨çš„ç¯å¢ƒå˜é‡ï¼ˆå¦‚ TZã€ASPNETCORE_URLSã€å¯†ç ï¼‰åï¼Œ<strong>å¿…é¡»é‡å»ºå®¹å™¨</strong>ï¼ˆ<code>stop+rm+up -d</code>ï¼‰ï¼Œå•çº¯<code>restart</code>ä¸ä¼šåŠ è½½æ–°é…ç½®ï¼›</p>\n</li>\n<li>\n<p><strong>æ•°æ®æŒä¹…åŒ–</strong>ï¼šMySQL/Redis æ•°æ®é€šè¿‡ Docker<strong>æ•°æ®å·</strong>æŒä¹…åŒ–ï¼Œ<code>docker-compose down</code>ä¸ä¼šåˆ é™¤æ•°æ®å·ï¼Œä½†æ‰‹åŠ¨æ‰§è¡Œ<code>docker volume rm</code>ä¼šä¸¢å¤±æ•°æ®ï¼Œè°¨æ…æ“ä½œï¼›</p>\n</li>\n<li>\n<p><strong>æ•æ„Ÿä¿¡æ¯ä¿æŠ¤</strong>ï¼šæœ¬æ–‡ä¸­çš„ IPã€å¯†ç ã€é•œåƒåŠ é€Ÿåœ°å€å‡ä¸ºè™šæ‹Ÿç¤ºä¾‹ï¼Œå®é™…éƒ¨ç½²è¯·<strong>æ›¿æ¢ä¸ºè‡ªå·±çš„çœŸå®ä¿¡æ¯</strong>ï¼Œå¹¶è®¾ç½®å¤æ‚å¯†ç ï¼ˆå­—æ¯ + æ•°å­— + ç‰¹æ®Šç¬¦å·ï¼‰ï¼›</p>\n</li>\n<li>\n<p>ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–</p>\n<p>ï¼šæœ¬æ–‡ä¸ºä¸ªäººæµ‹è¯•ç¯å¢ƒ</p>\n<p>é…ç½®ï¼Œç”Ÿäº§ç¯å¢ƒéœ€åšä»¥ä¸‹ä¼˜åŒ–ï¼š</p>\n<ul>\n<li>å¼€å¯é˜²ç«å¢™ï¼Œä»…å¼€æ”¾é¡¹ç›®æ‰€éœ€ç«¯å£ï¼ˆ6866/58588/3306ï¼‰ï¼Œæ‰§è¡Œ<code>firewall-cmd --add-port=ç«¯å£/tcp --permanent &amp;&amp; firewall-cmd --reload</code>ï¼›</li>\n<li>ç¦ç”¨ root è´¦å·ç›´æ¥ç™»å½•ï¼Œåˆ›å»ºæ™®é€šç”¨æˆ·å¹¶èµ‹äºˆ Docker æ“ä½œæƒé™ï¼›</li>\n<li>é…ç½® SSL è¯ä¹¦ï¼Œå®ç° HTTPS è®¿é—®ï¼›</li>\n<li>å¯¹ MySQL/Redis åšä¸»ä»å¤åˆ¶ / é›†ç¾¤ï¼Œæå‡å¯ç”¨æ€§ï¼›</li>\n</ul>\n</li>\n<li>\n<p><strong>æ’é”™æ ¸å¿ƒæ€è·¯</strong>ï¼šä»»ä½•æœåŠ¡å¯åŠ¨å¤±è´¥ã€è®¿é—®ä¸é€šï¼Œ<strong>ä¼˜å…ˆæŸ¥çœ‹å®¹å™¨æ—¥å¿—</strong>ï¼ˆ<code>docker-compose logs -f æœåŠ¡å</code>ï¼‰ï¼Œæ—¥å¿—æ˜¯å®šä½é—®é¢˜çš„æœ€ç›´æ¥ä¾æ®ï¼›</p>\n</li>\n</ol>\n<p><img alt=\"æŸ¥çœ‹å®¹å™¨æ—¥å¿—\" src=\"https://img2024.cnblogs.com/blog/157572/202602/157572-20260210093422691-908014533.png\" /></p>\n<ol start=\"8\">\n<li><strong>é•œåƒå¤‡ä»½</strong>ï¼šæœåŠ¡å™¨ç«¯çš„ç¦»çº¿é•œåƒ tar åŒ…å»ºè®®ä¿ç•™ï¼Œåç»­æœåŠ¡å™¨é‡è£…å¯ç›´æ¥å¯¼å…¥ï¼Œæ— éœ€é‡æ–°æœ¬åœ°æ‰“åŒ…ã€‚</li>\n</ol>\n<p>æ•´ä¸ªéƒ¨ç½²è¿‡ç¨‹è™½ç„¶è¸©äº†ä¸å°‘å‘ï¼Œä½†æ ¸å¿ƒé—®é¢˜éƒ½æ˜¯å¿½ç•¥äº†<strong>å®¹å™¨åŒ–çš„ç»†èŠ‚</strong>ï¼ˆå¦‚ç«¯å£åŒ¹é…ã€æ—¶åŒºé…ç½®ã€å®¹å™¨é€šä¿¡è§„åˆ™ã€å¯åŠ¨é¡ºåºï¼‰ï¼Œåªè¦æŒ‰æ­¥éª¤åšå¥½é…ç½®ã€é€ä¸€éªŒè¯ï¼Œå°±èƒ½é¡ºåˆ©å®Œæˆéƒ¨ç½²ã€‚Docker Compose çš„ç¼–æ’èƒ½åŠ›è®©å¤šæœåŠ¡éƒ¨ç½²å˜å¾—ç®€å•ï¼Œä¹Ÿæ˜¯åç«¯å¼€å‘å¿…å¤‡çš„æŠ€èƒ½ä¹‹ä¸€ã€‚</p>\n<p>å¸Œæœ›è¿™ç¯‡è¯¦ç»†çš„éƒ¨ç½²è®°å½•ï¼Œèƒ½å¸®åˆ°æœ‰åŒæ ·éœ€æ±‚çš„æœ‹å‹ï¼Œå°‘èµ°å¼¯è·¯ï¼Œé«˜æ•ˆå®Œæˆ.NET8+Vue é¡¹ç›®çš„ Docker å®¹å™¨åŒ–éƒ¨ç½²ã€‚å¦‚æœå¤§å®¶åœ¨éƒ¨ç½²è¿‡ç¨‹ä¸­é‡åˆ°å…¶ä»–é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€ï¼Œä¸€èµ·äº¤æµè§£å†³ï½</p>\n<h2 id=\"åäºŒç»“è¯­\">åäºŒã€ç»“è¯­</h2>\n<p>å¦‚æœæœ¬æ–‡å¯¹ä½ æœ‰ä¸€ç‚¹ç‚¹å¸®åŠ©ï¼Œç‚¹ä¸ªèµæ”¯æŒä¸€ä¸‹å§ï¼Œä½ çš„æ¯ä¸€ä¸ªã€èµã€‘éƒ½æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ› _</p>\n<p>æ›´å¤šæŠ€æœ¯æ–‡ç« è¯·å¾€:</p>\n<p><a href=\"http://www.guosisoft.com/article\" rel=\"noopener nofollow\" target=\"_blank\">http://www.guosisoft.com/article</a></p>\n<p><a href=\"http://www.rdiframework.net/article\" rel=\"noopener nofollow\" target=\"_blank\">http://www.rdiframework.net/article</a></p>\n<p>å¤§å®¶ä¸€èµ·å…±åŒäº¤æµå’Œè¿›æ­¥å‘€!!</p>\n\n\n</div>\n<div id=\"MySignature\">\n    <span style=\"font-size: 10pt;\">\n</span>\n<p>\n\t<br />\n</p>\n<p id=\"mySignature\">\n\t<span style=\"font-size: 10pt;\">ä½œè€…ï¼š</span>\n\t<strong>\n\t\t<span style=\"color: red; font-size: 12px;\">\n\t\t\t<a href=\"http://www.guosisoft.com/\" target=\"_blank\">\n\t\t\t\t<span>\n\t\t\t\t\t<span style=\"font-size: 10pt;\">RDIF</span>\n\t\t\t\t</span>\n\t\t\t</a>\n\t\t</span>\n\t</strong>\n\t<br />\n\t<span style=\"font-size: 10pt;\">å‡ºå¤„ï¼š</span>\n\t<a href=\"http://www.cnblogs.com/huyong/\" target=\"_blank\">\n\t\t<span style=\"font-size: 10pt;\">http://www.cnblogs.com/huyong/</span>\n\t</a>\n\t<br />\n\t<span style=\"font-size: 10pt;\">Emailï¼š</span>\n\t<a href=\"mailto:406590790@qq.com\" target=\"_blank\">\n\t\t<span style=\"font-size: 10pt;\">406590790@qq.com</span>\n\t</a>\n\t<br />\n\t<span style=\"font-size: 10pt;\">QQï¼š</span>\n\t<span style=\"font-size: 10pt;\">406590790</span>\n\t<br />\n\t<span style=\"font-size: 10pt;\">å¾®ä¿¡ï¼š</span>\n\t<span style=\"font-size: 10pt;\">13005007127(åŒæ‰‹æœºå·)</span>\n\t<br />\n\t<span style=\"font-size: 10pt;\">æ¡†æ¶å®˜ç½‘ï¼š</span>  \n   <a href=\"http://www.guosisoft.com/\" target=\"_blank\">\n\t\t<span style=\"font-size: 10pt;\">http://www.guosisoft.com/</span>\n\t</a>\n  &nbsp;&nbsp;&nbsp;\n\t<a href=\"http://www.rdiframework.net/\" target=\"_blank\">\n\t\t<span style=\"font-size: 10pt;\">http://www.rdiframework.net/</span>\n\t</a>\n\t<br />\n\t<span style=\"font-size: 10pt;\">æ¡†æ¶å…¶ä»–åšå®¢ï¼š</span>\n\t<a href=\"http://blog.csdn.net/chinahuyong\" target=\"_blank\">\n\t\t<span style=\"font-size: 10pt;\">http://blog.csdn.net/chinahuyong</span>\n\t</a>\n\t<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n\t<a href=\"http://www.cnblogs.com/huyong\" target=\"_blank\">\n\t\t<span style=\"font-size: 10pt;\">http://www.cnblogs.com/huyong</span>\n\t</a>\n\t<br />\n\t<a href=\"http://www.guosisoft.com/\" target=\"_blank\">\n\t\t<span style=\"font-size: 10pt;\">å›½æ€RDIFå¼€å‘æ¡†æ¶</span>\n\t</a>ï¼Œ\n\t<span style=\"font-size: 10pt; color: #FFFFFF; background-color: #009900;\">ç»™ç”¨æˆ·å’Œå¼€å‘è€…æœ€ä½³çš„.Netæ¡†æ¶å¹³å°æ–¹æ¡ˆï¼Œä¸ºä¼ä¸šå¿«é€Ÿæ„å»ºè·¨å¹³å°ã€ä¼ä¸šçº§çš„åº”ç”¨æä¾›å¼ºå¤§æ”¯æŒã€‚</span>\n\t<br />\n\t<span style=\"font-size: 10pt;\">å…³äºä½œè€…ï¼šç³»ç»Ÿæ¶æ„å¸ˆã€ä¿¡æ¯ç³»ç»Ÿé¡¹ç›®ç®¡ç†å¸ˆã€DBAã€‚ä¸“æ³¨äºå¾®è½¯å¹³å°é¡¹ç›®æ¶æ„ã€ç®¡ç†å’Œä¼ä¸šè§£å†³æ–¹æ¡ˆï¼Œå¤šå¹´é¡¹ç›®å¼€å‘ä¸ç®¡ç†ç»éªŒï¼Œæ›¾å¤šæ¬¡ç»„ç»‡å¹¶å¼€å‘å¤šä¸ªå¤§å‹é¡¹ç›®ï¼Œåœ¨é¢å‘å¯¹è±¡ã€é¢å‘æœåŠ¡ä»¥åŠæ•°æ®åº“é¢†åŸŸæœ‰ä¸€å®šçš„é€ è¯£ã€‚ç°ä¸»è¦ä»äº‹åŸºäº</span>\n\t<a href=\"http://www.guosisoft.com/\" target=\"_blank\">\n\t\t<span style=\"font-size: 10pt;\">RDIF</span>\n\t</a>\n\t<span style=\"font-size: 10pt;\">æ¡†æ¶çš„æŠ€æœ¯å¼€å‘ã€å’¨è¯¢å·¥ä½œï¼Œä¸»è¦æœåŠ¡äºé‡‘èã€åŒ»ç–—å«ç”Ÿã€é“è·¯ã€ç”µä¿¡ã€ç‰©æµã€ç‰©è”ç½‘ã€åˆ¶é€ ã€é›¶å”®ç­‰è¡Œä¸šã€‚</span>\n\t<br />\n\t<span style=\"font-size: 10pt;\">å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·å¤šå¤šèµæ•™ï¼</span>\n\t<br />\n\t<span style=\"font-size: 10pt;\">æœ¬æ–‡ç‰ˆæƒå½’ä½œè€…å’ŒCNBLOGSåšå®¢å…±æœ‰ï¼Œæ¬¢è¿è½¬è½½ï¼Œä½†æœªç»ä½œè€…åŒæ„å¿…é¡»ä¿ç•™æ­¤æ®µå£°æ˜ï¼Œä¸”åœ¨æ–‡ç« é¡µé¢æ˜æ˜¾ä½ç½®ç»™å‡ºåŸæ–‡è¿æ¥ï¼Œå¦‚æœ‰é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡å¾®ä¿¡ã€é‚®ç®±ã€QQç­‰è”ç³»æˆ‘ï¼Œéå¸¸æ„Ÿè°¢ã€‚</span>\n</p>\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-02-10 10:18</span>&nbsp;\n<a href=\"https://www.cnblogs.com/huyong\">.NETå¿«é€Ÿå¼€å‘æ¡†æ¶</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">244</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "æ‹†è§£ OpenDeepWiki çš„ Agent Skills æœºåˆ¶ï¼šä» SKILL.md åˆ° AI å·¥å…·è°ƒç”¨çš„å®Œæ•´é“¾è·¯",
      "link": "https://www.cnblogs.com/token-ai/p/19598343",
      "published": "",
      "description": "<div class=\"postTitle\">\n            <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/token-ai/p/19598343\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-02-10 10:15\">\n    <span>æ‹†è§£ OpenDeepWiki çš„ Agent Skills æœºåˆ¶ï¼šä» SKILL.md åˆ° AI å·¥å…·è°ƒç”¨çš„å®Œæ•´é“¾è·¯</span>\n    \n\n</a>\n\n        </div>\n        <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<p>æœ€è¿‘åœ¨è¯» OpenDeepWiki çš„æºç ï¼Œå‘ç°å®ƒå®ç°äº†ä¸€å¥—æŒºæœ‰æ„æ€çš„ Skill æ‰©å±•ä½“ç³»ã€‚ç®€å•è¯´å°±æ˜¯ï¼šä½ å†™ä¸€ä¸ª <code>SKILL.md</code> æ–‡ä»¶ï¼Œæ‰“åŒ…æˆ ZIP ä¸Šä¼ ï¼Œç³»ç»Ÿå°±èƒ½æŠŠå®ƒå˜æˆ AI Agent å¯è°ƒç”¨çš„å·¥å…·ã€‚æ•´ä¸ªè¿‡ç¨‹æ¶‰åŠæ–‡ä»¶è§£æã€æ•°æ®åº“æŒä¹…åŒ–ã€è¿è¡Œæ—¶å·¥å…·æ³¨å…¥ç­‰å¤šä¸ªç¯èŠ‚ï¼Œè¿™ç¯‡æ–‡ç« æŠŠè¿™æ¡é“¾è·¯ä»å¤´åˆ°å°¾æ‹†ä¸€éã€‚</p>\n<h2 id=\"ä¸€å…ˆææ¸…æ¥š-skill-æ˜¯ä»€ä¹ˆ\">ä¸€ã€å…ˆææ¸…æ¥š Skill æ˜¯ä»€ä¹ˆ</h2>\n<p>OpenDeepWiki çš„ Skill éµå¾ª <a href=\"https://agentskills.io\" rel=\"noopener nofollow\" target=\"_blank\">agentskills.io</a> å¼€æ”¾æ ‡å‡†ï¼ˆAnthropic æå‡ºçš„ Agent Skills è§„èŒƒï¼‰ã€‚ä¸€ä¸ª Skill æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæ ¸å¿ƒæ˜¯ä¸€ä¸ª <code>SKILL.md</code> æ–‡ä»¶ï¼Œé‡Œé¢ç”¨ YAML frontmatter å£°æ˜å…ƒæ•°æ®ï¼Œæ­£æ–‡éƒ¨åˆ†æ˜¯ç»™ AI çš„ prompt æŒ‡ä»¤ã€‚</p>\n<p>ä¸€ä¸ªå…¸å‹çš„ Skill æ–‡ä»¶å¤¹é•¿è¿™æ ·ï¼š</p>\n<pre><code>code-review/\nâ”œâ”€â”€ SKILL.md          # æ ¸å¿ƒæ–‡ä»¶ï¼Œfrontmatter + prompt\nâ”œâ”€â”€ scripts/          # å¯é€‰ï¼Œè¾…åŠ©è„šæœ¬\nâ”œâ”€â”€ references/       # å¯é€‰ï¼Œå‚è€ƒèµ„æ–™\nâ””â”€â”€ assets/           # å¯é€‰ï¼Œé™æ€èµ„æº\n</code></pre>\n<p><code>SKILL.md</code> çš„æ ¼å¼å¤§æ¦‚æ˜¯ï¼š</p>\n<pre><code class=\"language-markdown\">---\nname: code-review\ndescription: å¯¹ä»£ç è¿›è¡Œæ·±åº¦å®¡æŸ¥ï¼Œå‘ç°æ½œåœ¨é—®é¢˜å’Œæ”¹è¿›å»ºè®®\nlicense: MIT\ncompatibility: \"gpt-4, claude-3\"\nallowed-tools: \"read_file search_code\"\nmetadata:\n  author: token\n  version: 1.0.0\n---\n\nä½ æ˜¯ä¸€ä¸ªä»£ç å®¡æŸ¥ä¸“å®¶ã€‚å½“ç”¨æˆ·è¯·æ±‚ä»£ç å®¡æŸ¥æ—¶ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ‰§è¡Œï¼š\n\n1. å…ˆé€šè¯»ç›®æ ‡æ–‡ä»¶ï¼Œç†è§£æ•´ä½“ç»“æ„\n2. æ£€æŸ¥å¸¸è§é—®é¢˜ï¼šç©ºæŒ‡é’ˆã€èµ„æºæ³„æ¼ã€å¹¶å‘å®‰å…¨...\n3. ç»™å‡ºå…·ä½“çš„æ”¹è¿›å»ºè®®ï¼Œé™„å¸¦ä»£ç ç¤ºä¾‹\n</code></pre>\n<p>frontmatter é‡Œçš„ <code>name</code> å°±æ˜¯ Skill çš„å”¯ä¸€æ ‡è¯†ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æ–‡ä»¶å¤¹åï¼Œå¿…é¡»æ˜¯ <code>kebab-case</code> æ ¼å¼ã€‚<code>description</code> ä¼šå±•ç¤ºåœ¨å·¥å…·åˆ—è¡¨é‡Œä¾› AI é€‰æ‹©ã€‚æ­£æ–‡éƒ¨åˆ†ï¼ˆ<code>---</code> ä¹‹åçš„å†…å®¹ï¼‰æ‰æ˜¯çœŸæ­£æ³¨å…¥ç»™ AI çš„ promptã€‚</p>\n<h2 id=\"äºŒæ•°æ®æ¨¡å‹skillconfig-å®ä½“\">äºŒã€æ•°æ®æ¨¡å‹ï¼šSkillConfig å®ä½“</h2>\n<p>Skill çš„å…ƒæ•°æ®å­˜åœ¨æ•°æ®åº“é‡Œï¼Œå¯¹åº”çš„å®ä½“ç±»æ˜¯ <code>SkillConfig</code>ï¼š</p>\n<pre><code class=\"language-csharp\">// src/OpenDeepWiki.Entities/Tools/SkillConfig.cs\n\npublic class SkillConfig : AggregateRoot&lt;string&gt;\n{\n    /// Skill åç§°ï¼ˆå”¯ä¸€æ ‡è¯†ç¬¦ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æ–‡ä»¶å¤¹åï¼‰\n    /// è§„èŒƒï¼šæœ€å¤§64å­—ç¬¦ï¼Œä»…å°å†™å­—æ¯ã€æ•°å­—å’Œè¿å­—ç¬¦\n    [Required]\n    [StringLength(64)]\n    [RegularExpression(@\"^[a-z0-9]+(-[a-z0-9]+)*$\", \n        ErrorMessage = \"åç§°åªèƒ½åŒ…å«å°å†™å­—æ¯ã€æ•°å­—å’Œè¿å­—ç¬¦ï¼Œä¸”ä¸èƒ½ä»¥è¿å­—ç¬¦å¼€å¤´æˆ–ç»“å°¾\")]\n    public string Name { get; set; } = string.Empty;\n\n    [Required]\n    [StringLength(1024)]\n    public string Description { get; set; } = string.Empty;\n\n    [StringLength(100)]\n    public string? License { get; set; }\n\n    [StringLength(500)]\n    public string? Compatibility { get; set; }\n\n    /// é¢„æ‰¹å‡†çš„å·¥å…·åˆ—è¡¨ï¼ˆç©ºæ ¼åˆ†éš”ï¼‰\n    [StringLength(1000)]\n    public string? AllowedTools { get; set; }\n\n    /// Skill æ–‡ä»¶å¤¹çš„ç›¸å¯¹è·¯å¾„ï¼ˆç›¸å¯¹äº skills æ ¹ç›®å½•ï¼‰\n    [Required]\n    [StringLength(200)]\n    public string FolderPath { get; set; } = string.Empty;\n\n    public bool IsActive { get; set; } = true;\n    public int SortOrder { get; set; } = 0;\n    public string? Author { get; set; }\n    public new string Version { get; set; } = \"1.0.0\";\n    public SkillSource Source { get; set; } = SkillSource.Local;\n    public string? SourceUrl { get; set; }\n\n    // æ–‡ä»¶å¤¹ç»“æ„æ ‡è®°\n    public bool HasScripts { get; set; }\n    public bool HasReferences { get; set; }\n    public bool HasAssets { get; set; }\n    public long SkillMdSize { get; set; }\n    public long TotalSize { get; set; }\n}\n\npublic enum SkillSource\n{\n    Local = 0,       // æœ¬åœ°ä¸Šä¼ \n    Remote = 1,      // ä» URL å¯¼å…¥\n    Marketplace = 2  // ä»å¸‚åœºå®‰è£…\n}\n</code></pre>\n<p>å‡ ä¸ªå€¼å¾—æ³¨æ„çš„è®¾è®¡ç‚¹ï¼š</p>\n<ul>\n<li><strong>Name çš„æ­£åˆ™æ ¡éªŒ</strong>ï¼š<code>^[a-z0-9]+(-[a-z0-9]+)*$</code>ï¼Œå¼ºåˆ¶ kebab-caseï¼Œè·Ÿæ–‡ä»¶å¤¹åä¿æŒä¸€è‡´ï¼Œé¿å…è·¯å¾„é—®é¢˜</li>\n<li><strong>SkillSource æšä¸¾</strong>ï¼šé¢„ç•™äº†ä¸‰ç§æ¥æºï¼Œç›®å‰ä¸»è¦ç”¨ <code>Local</code>ï¼Œä½†æ¶æ„ä¸Šå·²ç»ä¸ºè¿œç¨‹å¯¼å…¥å’Œå¸‚åœºå®‰è£…ç•™äº†å£å­</li>\n<li><strong>HasScripts / HasReferences / HasAssets</strong>ï¼šè®°å½•æ–‡ä»¶å¤¹ç»“æ„ï¼Œå‰ç«¯å±•ç¤ºè¯¦æƒ…æ—¶ä¸ç”¨å†å»æ‰«ç£ç›˜</li>\n</ul>\n<p>åœ¨ EF Core çš„ <code>MasterDbContext</code> é‡Œï¼Œ<code>SkillConfig</code> æ³¨å†Œäº† Name å”¯ä¸€ç´¢å¼•ï¼š</p>\n<pre><code class=\"language-csharp\">// src/OpenDeepWiki.EFCore/MasterDbContext.cs\n\nmodelBuilder.Entity&lt;SkillConfig&gt;()\n    .HasIndex(s =&gt; s.Name)\n    .IsUnique();\n</code></pre>\n<h2 id=\"ä¸‰skill-çš„ä¸Šä¼ ä¸è§£æadmintoolsservice\">ä¸‰ã€Skill çš„ä¸Šä¼ ä¸è§£æï¼šAdminToolsService</h2>\n<p>Skill çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†åœ¨ <code>AdminToolsService</code> é‡Œï¼Œè¿™æ˜¯æ•´ä¸ªç³»ç»Ÿé‡Œæœ€\"è„æ´»ç´¯æ´»\"é›†ä¸­çš„åœ°æ–¹â€”â€”è§£å‹ ZIPã€è§£æ YAMLã€æ ¡éªŒæ ¼å¼ã€å†™ç£ç›˜ã€å†™æ•°æ®åº“ï¼Œä¸€æ¡é¾™ã€‚</p>\n<h3 id=\"31-ä¸Šä¼ æµç¨‹\">3.1 ä¸Šä¼ æµç¨‹</h3>\n<pre><code class=\"language-csharp\">// src/OpenDeepWiki/Services/Admin/AdminToolsService.cs\n\npublic async Task&lt;SkillConfigDto&gt; UploadSkillAsync(Stream zipStream, string fileName)\n{\n    var tempDir = Path.Combine(Path.GetTempPath(), Guid.NewGuid().ToString());\n    Directory.CreateDirectory(tempDir);\n    try\n    {\n        // 1. è§£å‹åˆ°ä¸´æ—¶ç›®å½•\n        using (var archive = new ZipArchive(zipStream, ZipArchiveMode.Read))\n            archive.ExtractToDirectory(tempDir);\n\n        // 2. æ‰¾åˆ° SKILL.mdï¼ˆæ”¯æŒæ ¹ç›®å½•æˆ–ä¸€çº§å­ç›®å½•ï¼‰\n        var skillMdPath = FindSkillMd(tempDir) \n            ?? throw new InvalidOperationException(\"å‹ç¼©åŒ…ä¸­æœªæ‰¾åˆ° SKILL.md\");\n        var skillRootDir = Path.GetDirectoryName(skillMdPath)!;\n\n        // 3. è§£æ frontmatter\n        var (frontmatter, _) = ParseSkillMd(await File.ReadAllTextAsync(skillMdPath));\n\n        // 4. æ ¡éªŒå¿…å¡«å­—æ®µ\n        if (!frontmatter.TryGetValue(\"name\", out var nameObj) \n            || string.IsNullOrEmpty(nameObj?.ToString()))\n            throw new InvalidOperationException(\"SKILL.md ç¼ºå°‘ name å­—æ®µ\");\n\n        var name = nameObj.ToString()!;\n        if (!Regex.IsMatch(name, @\"^[a-z0-9]+(-[a-z0-9]+)*$\"))\n            throw new InvalidOperationException(\"name æ ¼å¼æ— æ•ˆ\");\n\n        if (!frontmatter.TryGetValue(\"description\", out var descObj) \n            || string.IsNullOrEmpty(descObj?.ToString()))\n            throw new InvalidOperationException(\"SKILL.md ç¼ºå°‘ description å­—æ®µ\");\n\n        // 5. æŸ¥é‡\n        if (await _context.SkillConfigs.AnyAsync(s =&gt; s.Name == name &amp;&amp; !s.IsDeleted))\n            throw new InvalidOperationException($\"å·²å­˜åœ¨åŒå Skill: {name}\");\n\n        // 6. ç§»åŠ¨åˆ°æ­£å¼ç›®å½•\n        var targetPath = Path.Combine(_skillsBasePath, name);\n        if (Directory.Exists(targetPath)) Directory.Delete(targetPath, true);\n        Directory.Move(skillRootDir, targetPath);\n\n        // 7. æ„å»ºå®ä½“å¹¶å…¥åº“\n        var config = new SkillConfig\n        {\n            Id = Guid.NewGuid().ToString(),\n            Name = name,\n            Description = descObj.ToString()!,\n            License = frontmatter.TryGetValue(\"license\", out var l) ? l?.ToString() : null,\n            Compatibility = frontmatter.TryGetValue(\"compatibility\", out var c) ? c?.ToString() : null,\n            AllowedTools = frontmatter.TryGetValue(\"allowed-tools\", out var t) ? t?.ToString() : null,\n            FolderPath = name,\n            IsActive = true,\n            SortOrder = 0,\n            Version = \"1.0.0\",\n            Source = SkillSource.Local,\n            HasScripts = Directory.Exists(Path.Combine(targetPath, \"scripts\")),\n            HasReferences = Directory.Exists(Path.Combine(targetPath, \"references\")),\n            HasAssets = Directory.Exists(Path.Combine(targetPath, \"assets\")),\n            SkillMdSize = new FileInfo(Path.Combine(targetPath, \"SKILL.md\")).Length,\n            TotalSize = CalculateDirectorySize(targetPath),\n            CreatedAt = DateTime.UtcNow\n        };\n\n        _context.SkillConfigs.Add(config);\n        await _context.SaveChangesAsync();\n        // ... è¿”å› DTO\n    }\n    finally \n    { \n        if (Directory.Exists(tempDir)) \n            try { Directory.Delete(tempDir, true); } catch { } \n    }\n}\n</code></pre>\n<p>è¿™æ®µä»£ç çš„æµç¨‹å¾ˆæ¸…æ™°ï¼šè§£å‹ â†’ æ‰¾ SKILL.md â†’ è§£æ YAML â†’ æ ¡éªŒ â†’ æŸ¥é‡ â†’ è½ç›˜ â†’ å…¥åº“ã€‚æœ‰å‡ ä¸ªç»†èŠ‚å€¼å¾—è¯´è¯´ï¼š</p>\n<ol>\n<li><strong>FindSkillMd æ”¯æŒä¸¤çº§æŸ¥æ‰¾</strong>ï¼šZIP åŒ…é‡Œ SKILL.md å¯èƒ½åœ¨æ ¹ç›®å½•ï¼Œä¹Ÿå¯èƒ½åœ¨ä¸€çº§å­ç›®å½•ä¸‹ï¼ˆæ¯”å¦‚ä½ æ‰“åŒ…çš„æ—¶å€™å¤šå¥—äº†ä¸€å±‚æ–‡ä»¶å¤¹ï¼‰ï¼Œå®ƒéƒ½èƒ½æ‰¾åˆ°</li>\n<li><strong>ä¸´æ—¶ç›®å½•ç”¨ GUID å‘½å</strong>ï¼šé¿å…å¹¶å‘ä¸Šä¼ å†²çª</li>\n<li><strong>finally é‡Œé™é»˜åˆ é™¤ä¸´æ—¶ç›®å½•</strong>ï¼š<code>catch { }</code> åæ‰å¼‚å¸¸ï¼Œå› ä¸ºæ¸…ç†å¤±è´¥ä¸åº”è¯¥å½±å“ä¸»æµç¨‹</li>\n</ol>\n<h3 id=\"32-yaml-frontmatter-è§£æ\">3.2 YAML Frontmatter è§£æ</h3>\n<pre><code class=\"language-csharp\">private static (Dictionary&lt;string, object?&gt; frontmatter, string body) ParseSkillMd(string content)\n{\n    var frontmatter = new Dictionary&lt;string, object?&gt;();\n    var body = content;\n    if (content.StartsWith(\"---\"))\n    {\n        var endIndex = content.IndexOf(\"---\", 3);\n        if (endIndex &gt; 0)\n        {\n            var yamlContent = content[3..endIndex].Trim();\n            body = content[(endIndex + 3)..].Trim();\n            try\n            {\n                var deserializer = new DeserializerBuilder()\n                    .WithNamingConvention(HyphenatedNamingConvention.Instance)\n                    .Build();\n                frontmatter = deserializer.Deserialize&lt;Dictionary&lt;string, object?&gt;&gt;(yamlContent) ?? new();\n            }\n            catch { }\n        }\n    }\n    return (frontmatter, body);\n}\n</code></pre>\n<p>ç”¨çš„æ˜¯ YamlDotNet åº“ï¼Œ<code>HyphenatedNamingConvention</code> å¯¹åº” <code>kebab-case</code> çš„ key æ ¼å¼ï¼ˆæ¯”å¦‚ <code>allowed-tools</code>ï¼‰ã€‚è§£æå¤±è´¥ç›´æ¥åå¼‚å¸¸è¿”å›ç©ºå­—å…¸â€”â€”è¿™ä¸ªè®¾è®¡æœ‰ç‚¹ç²—æš´ï¼Œä½†è€ƒè™‘åˆ° frontmatter é‡Œå¤§éƒ¨åˆ†å­—æ®µéƒ½æ˜¯å¯é€‰çš„ï¼Œä¹Ÿè¯´å¾—è¿‡å»ã€‚</p>\n<h3 id=\"33-ç£ç›˜æ‰«æåˆ·æ–°\">3.3 ç£ç›˜æ‰«æåˆ·æ–°</h3>\n<p>é™¤äº†ä¸Šä¼ ï¼Œè¿˜æœ‰ä¸€ä¸ª <code>RefreshSkillsFromDiskAsync</code> æ–¹æ³•ï¼Œç”¨æ¥æ‰«æ skills ç›®å½•ä¸‹çš„æ–‡ä»¶å¤¹ï¼ŒæŠŠè¿˜æ²¡å…¥åº“çš„ Skill è‡ªåŠ¨æ³¨å†Œè¿›å»ï¼š</p>\n<pre><code class=\"language-csharp\">public async Task RefreshSkillsFromDiskAsync()\n{\n    if (!Directory.Exists(_skillsBasePath)) return;\n\n    var existingNames = (await _context.SkillConfigs\n        .Where(s =&gt; !s.IsDeleted).ToListAsync())\n        .Select(s =&gt; s.Name).ToHashSet();\n\n    foreach (var dir in Directory.GetDirectories(_skillsBasePath))\n    {\n        var skillMdPath = Path.Combine(dir, \"SKILL.md\");\n        if (!File.Exists(skillMdPath)) continue;\n\n        var folderName = Path.GetFileName(dir);\n        if (existingNames.Contains(folderName)) continue;\n\n        try\n        {\n            var (frontmatter, _) = ParseSkillMd(await File.ReadAllTextAsync(skillMdPath));\n            if (!frontmatter.TryGetValue(\"name\", out var nameObj)) continue;\n            var name = nameObj?.ToString();\n            if (string.IsNullOrEmpty(name) || name != folderName) continue;\n            // ... æ„å»º SkillConfig å¹¶å…¥åº“\n        }\n        catch (Exception ex) \n        { \n            _logger.LogWarning(ex, \"è§£æå¤±è´¥: {Path}\", dir); \n        }\n    }\n    await _context.SaveChangesAsync();\n}\n</code></pre>\n<p>è¿™ä¸ªæ–¹æ³•çš„ä½¿ç”¨åœºæ™¯æ˜¯ï¼šä½ ç›´æ¥æŠŠ Skill æ–‡ä»¶å¤¹ä¸¢åˆ° skills ç›®å½•ä¸‹ï¼ˆæ¯”å¦‚é€šè¿‡ Docker volume æŒ‚è½½ï¼‰ï¼Œç„¶åè°ƒä¸€ä¸‹åˆ·æ–°æ¥å£ï¼Œç³»ç»Ÿå°±èƒ½è¯†åˆ«åˆ°ã€‚æ³¨æ„å®ƒæœ‰ä¸ªæ ¡éªŒï¼š<strong>æ–‡ä»¶å¤¹åå¿…é¡»å’Œ SKILL.md é‡Œçš„ name å­—æ®µä¸€è‡´</strong>ï¼Œä¸ä¸€è‡´çš„ä¼šè¢«è·³è¿‡ã€‚</p>\n<h2 id=\"å››api-ç«¯ç‚¹minimal-api-é£æ ¼\">å››ã€API ç«¯ç‚¹ï¼šMinimal API é£æ ¼</h2>\n<p>Skill çš„ç®¡ç†æ¥å£åœ¨ <code>AdminToolsEndpoints</code> é‡Œï¼Œç”¨çš„æ˜¯ ASP.NET Core çš„ Minimal APIï¼š</p>\n<pre><code class=\"language-csharp\">// src/OpenDeepWiki/Endpoints/Admin/AdminToolsEndpoints.cs\n\nprivate static void MapSkillEndpoints(RouteGroupBuilder group)\n{\n    var skillGroup = group.MapGroup(\"/skills\");\n\n    // åˆ—è¡¨\n    skillGroup.MapGet(\"/\", async ([FromServices] IAdminToolsService toolsService) =&gt;\n    {\n        var result = await toolsService.GetSkillConfigsAsync();\n        return Results.Ok(new { success = true, data = result });\n    }).WithName(\"AdminGetSkills\");\n\n    // è¯¦æƒ…\n    skillGroup.MapGet(\"/{id}\", async (string id, [FromServices] IAdminToolsService toolsService) =&gt;\n    {\n        var result = await toolsService.GetSkillDetailAsync(id);\n        return result != null \n            ? Results.Ok(new { success = true, data = result })\n            : Results.NotFound(new { success = false, message = \"Skill ä¸å­˜åœ¨\" });\n    }).WithName(\"AdminGetSkillDetail\");\n\n    // ä¸Šä¼ ï¼ˆZIPï¼‰\n    skillGroup.MapPost(\"/upload\", async (HttpRequest request, [FromServices] IAdminToolsService toolsService) =&gt;\n    {\n        // ... æ ¡éªŒ Content-Typeã€æ–‡ä»¶æ ¼å¼\n        using var stream = file.OpenReadStream();\n        var result = await toolsService.UploadSkillAsync(stream, file.FileName);\n        return Results.Ok(new { success = true, data = result });\n    }).WithName(\"AdminUploadSkill\").DisableAntiforgery();\n\n    // æ›´æ–°ï¼ˆä»…ç®¡ç†å­—æ®µï¼šIsActiveã€SortOrderï¼‰\n    skillGroup.MapPut(\"/{id}\", ...);\n\n    // åˆ é™¤ï¼ˆåŒæ—¶åˆ é™¤ç£ç›˜æ–‡ä»¶ï¼‰\n    skillGroup.MapDelete(\"/{id}\", ...);\n\n    // è¯»å– Skill å†…éƒ¨æ–‡ä»¶ï¼ˆå¸¦è·¯å¾„ç©¿è¶Šé˜²æŠ¤ï¼‰\n    skillGroup.MapGet(\"/{id}/files/{*filePath}\", ...);\n\n    // ä»ç£ç›˜åˆ·æ–°\n    skillGroup.MapPost(\"/refresh\", ...);\n}\n</code></pre>\n<p>å€¼å¾—ä¸€æçš„æ˜¯æ–‡ä»¶è¯»å–æ¥å£é‡Œçš„è·¯å¾„ç©¿è¶Šé˜²æŠ¤ï¼š</p>\n<pre><code class=\"language-csharp\">public async Task&lt;string?&gt; GetSkillFileContentAsync(string id, string filePath)\n{\n    var config = await _context.SkillConfigs.FirstOrDefaultAsync(s =&gt; s.Id == id &amp;&amp; !s.IsDeleted);\n    if (config == null) return null;\n\n    var normalizedPath = Path.GetFullPath(Path.Combine(_skillsBasePath, config.FolderPath, filePath));\n    var skillBasePath = Path.GetFullPath(Path.Combine(_skillsBasePath, config.FolderPath));\n\n    // å…³é”®ï¼šç¡®ä¿è§£æåçš„ç»å¯¹è·¯å¾„åœ¨ Skill ç›®å½•å†…\n    if (!normalizedPath.StartsWith(skillBasePath)) \n        throw new UnauthorizedAccessException(\"éæ³•è·¯å¾„\");\n\n    return File.Exists(normalizedPath) ? await File.ReadAllTextAsync(normalizedPath) : null;\n}\n</code></pre>\n<p>ç”¨ <code>Path.GetFullPath</code> æŠŠ <code>../../etc/passwd</code> è¿™ç±»è·¯å¾„è§£ææˆç»å¯¹è·¯å¾„ï¼Œç„¶åæ£€æŸ¥æ˜¯å¦è¿˜åœ¨ Skill ç›®å½•èŒƒå›´å†…ã€‚è¿™æ˜¯æ ‡å‡†çš„è·¯å¾„ç©¿è¶Šé˜²å¾¡æ‰‹æ³•ã€‚</p>\n<h2 id=\"äº”æ ¸å¿ƒè½¬æ¢å™¨skilltoolconverter\">äº”ã€æ ¸å¿ƒè½¬æ¢å™¨ï¼šSkillToolConverter</h2>\n<p>åˆ°è¿™é‡Œï¼ŒSkill å·²ç»å­˜åœ¨ç£ç›˜å’Œæ•°æ®åº“é‡Œäº†ã€‚ä½† AI Agent å¹¶ä¸è®¤è¯† <code>SkillConfig</code>ï¼Œå®ƒåªè®¤ <code>AITool</code>ã€‚<code>SkillToolConverter</code> å°±æ˜¯åšè¿™ä¸ªæ¡¥æ¥çš„ã€‚</p>\n<p>æ•´ä¸ªè½¬æ¢å™¨çš„è®¾è®¡æ€è·¯å¾ˆå·§å¦™ï¼š<strong>ä¸æ˜¯æŠŠæ¯ä¸ª Skill å˜æˆä¸€ä¸ªç‹¬ç«‹çš„ Toolï¼Œè€Œæ˜¯æŠŠæ‰€æœ‰ Skill åˆå¹¶æˆä¸€ä¸ªå« <code>Skill</code> çš„ Tool</strong>ã€‚è¿™ä¸ª Tool çš„ description é‡Œåˆ—å‡ºäº†æ‰€æœ‰å¯ç”¨ Skill çš„åç§°å’Œæè¿°ï¼ŒAI è°ƒç”¨æ—¶ä¼ å…¥ Skill åç§°ï¼ŒTool å°±å»è¯»å¯¹åº”çš„ SKILL.md è¿”å› prompt å†…å®¹ã€‚</p>\n<pre><code class=\"language-csharp\">// src/OpenDeepWiki/Services/Chat/SkillToolConverter.cs\n\npublic class SkillToolConverter : ISkillToolConverter\n{\n    private readonly IContext _context;\n    private readonly ILogger&lt;SkillToolConverter&gt; _logger;\n    private readonly string _skillsBasePath;\n\n    public SkillToolConverter(\n        IContext context,\n        ILogger&lt;SkillToolConverter&gt; logger,\n        IConfiguration configuration)\n    {\n        _context = context;\n        _logger = logger;\n        _skillsBasePath = configuration[\"Skills:BasePath\"] \n            ?? Path.Combine(AppContext.BaseDirectory, \"skills\");\n    }\n\n    public async Task&lt;List&lt;AITool&gt;&gt; ConvertSkillConfigsToToolsAsync(\n        List&lt;string&gt; skillIds,\n        CancellationToken cancellationToken = default)\n    {\n        var tools = new List&lt;AITool&gt;();\n        if (skillIds == null || skillIds.Count == 0) return tools;\n\n        // ä»æ•°æ®åº“åŠ è½½å¯ç”¨çš„ Skill é…ç½®\n        var skillConfigs = await _context.SkillConfigs\n            .Where(s =&gt; skillIds.Contains(s.Id) &amp;&amp; s.IsActive &amp;&amp; !s.IsDeleted)\n            .OrderBy(s =&gt; s.SortOrder)\n            .ThenBy(s =&gt; s.Name)\n            .ToListAsync(cancellationToken);\n\n        if (skillConfigs.Count == 0) return tools;\n\n        // åˆ›å»ºå”¯ä¸€çš„ LoadSkills å·¥å…·\n        var loadSkillsTool = CreateLoadSkillsTool(skillConfigs);\n        tools.Add(loadSkillsTool);\n\n        _logger.LogInformation(\n            \"Created LoadSkills tool with {Count} available skills\", \n            skillConfigs.Count);\n\n        return tools;\n    }\n    // ...\n}\n</code></pre>\n<h3 id=\"51-æ„å»º-tool-æè¿°\">5.1 æ„å»º Tool æè¿°</h3>\n<p><code>CreateLoadSkillsTool</code> æ˜¯æœ€å…³é”®çš„æ–¹æ³•ã€‚å®ƒåšäº†ä¸¤ä»¶äº‹ï¼šæ„å»ºä¸€ä¸ªåŒ…å« Skill ç›®å½•çš„ descriptionï¼Œä»¥åŠå®šä¹‰è°ƒç”¨æ—¶çš„å¤„ç†é€»è¾‘ã€‚</p>\n<pre><code class=\"language-csharp\">private AITool CreateLoadSkillsTool(List&lt;SkillConfig&gt; skillConfigs)\n{\n    // æ„å»ºæŸ¥æ‰¾è¡¨\n    var skillLookup = skillConfigs.ToDictionary(\n        s =&gt; s.Name, s =&gt; s, StringComparer.OrdinalIgnoreCase);\n\n    // å®šä¹‰å®é™…çš„å¤„ç†å‡½æ•°\n    var loadSkillAsync = async (\n        [Description(\"The name of the skill to load (select from available skills listed in this tool's description)\")] string name,\n        CancellationToken cancellationToken) =&gt;\n    {\n        return await LoadSkillInternalAsync(name, skillLookup);\n    };\n\n    // æ„å»º descriptionï¼ŒåŒ…å«æ‰€æœ‰å¯ç”¨ Skill çš„ç›®å½•\n    var description = new StringBuilder();\n    description.AppendLine(\"\"\"\nExecute a skill within the main conversation\n&lt;skills_instructions&gt;\nWhen users ask you to perform tasks, check if any of the available skills\nbelow can help complete the task more effectively. Skills provide specialized\ncapabilities and domain knowledge.\nHow to use skills:\n- Invoke skills using this tool with the skill name only (no arguments)\n- When you invoke a skill, you will see &lt;command-message&gt;The \"{name}\" skill is loading&lt;/command-message&gt;\n- The skill's prompt will expand and provide detailed instructions on how to complete the task\n- Examples:\n  - `skill: \"pdf\"` - invoke the pdf skill\n  - `skill: \"xlsx\"` - invoke the xlsx skill\n  - `skill: \"ms-office-suite:pdf\"` - invoke using fully qualified name\n\nImportant:\n    - Only use skills listed in &lt;available_skills&gt; below\n    - Do not invoke a skill that is already running\n    - Do not use this tool for built-in CLI commands (like /help, /clear, etc.)\n&lt;/skills_instructions&gt;\n\n&lt;available_skills&gt;\n\"\"\");\n\n    foreach (var skill in skillConfigs)\n    {\n        description.AppendLine($\"- name: {skill.Name} - {skill.Description}\");\n    }\n    description.Append(\"&lt;/available_skills&gt;\");\n\n    // ç”¨ AIFunctionFactory åˆ›å»º Tool\n    return AIFunctionFactory.Create(\n        loadSkillAsync,\n        new AIFunctionFactoryOptions\n        {\n            Name = \"Skill\",\n            Description = description.ToString()\n        });\n}\n</code></pre>\n<p>è¿™æ®µä»£ç çš„ç²¾é«“åœ¨äº description çš„æ„é€ æ–¹å¼ã€‚å®ƒç”¨ XML æ ‡ç­¾ï¼ˆ<code>&lt;skills_instructions&gt;</code> å’Œ <code>&lt;available_skills&gt;</code>ï¼‰æ¥ç»“æ„åŒ–æè¿°ä¿¡æ¯ï¼Œè¿™æ · AI æ¨¡å‹èƒ½æ›´å‡†ç¡®åœ°ç†è§£å·¥å…·çš„ç”¨é€”å’Œå¯é€‰å‚æ•°ã€‚æ¯ä¸ª Skill çš„ name å’Œ description éƒ½åˆ—åœ¨é‡Œé¢ï¼ŒAI çœ‹åˆ°ç”¨æˆ·çš„è¯·æ±‚åï¼Œä¼šè‡ªä¸»åˆ¤æ–­è¦ä¸è¦è°ƒç”¨æŸä¸ª Skillã€‚</p>\n<h3 id=\"52-è¿è¡Œæ—¶åŠ è½½-skill-prompt\">5.2 è¿è¡Œæ—¶åŠ è½½ Skill Prompt</h3>\n<p>å½“ AI å†³å®šè°ƒç”¨ <code>Skill</code> å·¥å…·æ—¶ï¼Œ<code>LoadSkillInternalAsync</code> è´Ÿè´£è¯»å– SKILL.md å¹¶è¿”å› prompt æ­£æ–‡ï¼š</p>\n<pre><code class=\"language-csharp\">private async Task&lt;string&gt; LoadSkillInternalAsync(\n    string name,\n    Dictionary&lt;string, SkillConfig&gt; skillLookup)\n{\n    if (string.IsNullOrWhiteSpace(name))\n    {\n        return JsonSerializer.Serialize(new { error = true, message = \"Skill name cannot be empty.\" });\n    }\n\n    if (!skillLookup.TryGetValue(name, out var skill))\n    {\n        var availableNames = string.Join(\", \", skillLookup.Keys);\n        return JsonSerializer.Serialize(new\n        {\n            error = true,\n            message = $\"Skill '{name}' not found. Available skills: {availableNames}\"\n        });\n    }\n\n    var skillMdPath = Path.Combine(_skillsBasePath, skill.FolderPath, \"SKILL.md\");\n    if (!File.Exists(skillMdPath))\n    {\n        return JsonSerializer.Serialize(new { error = true, message = $\"SKILL.md not found for skill '{name}'.\" });\n    }\n\n    try\n    {\n        var content = await File.ReadAllTextAsync(skillMdPath);\n        // å»æ‰ YAML frontmatterï¼Œåªè¿”å› prompt æ­£æ–‡\n        var prompts = ExtractPromptsBody(content);\n        return prompts;\n    }\n    catch (Exception ex)\n    {\n        _logger.LogError(ex, \"Failed to load SKILL.md for skill: {Name}\", name);\n        return JsonSerializer.Serialize(new { error = true, message = $\"Failed to load skill: {ex.Message}\" });\n    }\n}\n\nprivate static string ExtractPromptsBody(string content)\n{\n    if (!content.StartsWith(\"---\")) return content;\n\n    var endIndex = content.IndexOf(\"---\", 3);\n    if (endIndex &lt; 0) return content;\n\n    return content[(endIndex + 3)..].Trim();\n}\n</code></pre>\n<p>æ³¨æ„é”™è¯¯å¤„ç†çš„æ–¹å¼ï¼šä¸æ˜¯æŠ›å¼‚å¸¸ï¼Œè€Œæ˜¯è¿”å› JSON æ ¼å¼çš„é”™è¯¯ä¿¡æ¯ã€‚å› ä¸ºè¿™ä¸ªè¿”å›å€¼ä¼šç›´æ¥ä½œä¸º Tool çš„è¾“å‡ºä¼ å›ç»™ AIï¼ŒAI èƒ½ç†è§£è¿™ä¸ªé”™è¯¯å¹¶åšå‡ºç›¸åº”ååº”ï¼ˆæ¯”å¦‚æ¢ä¸€ä¸ª Skill è¯•è¯•ï¼Œæˆ–è€…å‘Šè¯‰ç”¨æˆ· Skill ä¸å­˜åœ¨ï¼‰ã€‚</p>\n<h2 id=\"å…­å·¥å…·æ³¨å…¥ä¸¤æ¡æ¶ˆè´¹è·¯å¾„\">å…­ã€å·¥å…·æ³¨å…¥ï¼šä¸¤æ¡æ¶ˆè´¹è·¯å¾„</h2>\n<p><code>SkillToolConverter</code> äº§å‡ºçš„ <code>AITool</code> ä¼šè¢«æ³¨å…¥åˆ°ä¸¤ä¸ªåœ°æ–¹ï¼š<strong>Chat å¯¹è¯åŠ©æ‰‹</strong>å’Œ <strong>Wiki ç”Ÿæˆå™¨</strong>ã€‚</p>\n<h3 id=\"61-chat-å¯¹è¯åŠ©æ‰‹\">6.1 Chat å¯¹è¯åŠ©æ‰‹</h3>\n<p>åœ¨ <code>ChatAssistantService.StreamChatAsync</code> é‡Œï¼ŒSkill å·¥å…·å’Œå…¶ä»–å·¥å…·ï¼ˆGit å·¥å…·ã€æ–‡æ¡£é˜…è¯»å·¥å…·ã€MCP å·¥å…·ï¼‰ä¸€èµ·è¢«ç»„è£…ï¼š</p>\n<pre><code class=\"language-csharp\">// src/OpenDeepWiki/Services/Chat/ChatAssistantService.cs\n\npublic async IAsyncEnumerable&lt;SSEEvent&gt; StreamChatAsync(\n    ChatRequest request,\n    CancellationToken cancellationToken = default)\n{\n    var config = await GetConfigAsync(cancellationToken);\n    // ... æ ¡éªŒé…ç½®å’Œæ¨¡å‹\n\n    var tools = new List&lt;AITool&gt;();\n\n    // 1. Git å·¥å…·ï¼ˆè¯»æ–‡ä»¶ã€æœç´¢ä»£ç ç­‰ï¼‰\n    if (Directory.Exists(repositoryPath))\n    {\n        var gitTool = new GitTool(repositoryPath);\n        tools.AddRange(gitTool.GetTools());\n    }\n\n    // 2. æ–‡æ¡£é˜…è¯»å·¥å…·\n    var chatDocReaderTool = await ChatDocReaderTool.CreateAsync(\n        _context, request.Context.Owner, request.Context.Repo,\n        request.Context.Branch, request.Context.Language, cancellationToken);\n    tools.Add(chatDocReaderTool.GetTool());\n\n    // 3. MCP å·¥å…·\n    if (config.EnabledMcpIds.Count &gt; 0)\n    {\n        var mcpTools = await _mcpToolConverter.ConvertMcpConfigsToToolsAsync(\n            config.EnabledMcpIds, cancellationToken);\n        tools.AddRange(mcpTools);\n    }\n\n    // 4. Skill å·¥å…· â† å°±æ˜¯è¿™é‡Œ\n    if (config.EnabledSkillIds.Count &gt; 0)\n    {\n        var skillTools = await _skillToolConverter.ConvertSkillConfigsToToolsAsync(\n            config.EnabledSkillIds, cancellationToken);\n        tools.AddRange(skillTools);\n    }\n\n    // 5. åˆ›å»º Agent å¹¶å¼€å§‹æµå¼å¯¹è¯\n    var agentOptions = new ChatClientAgentOptions\n    {\n        ChatOptions = new ChatOptions\n        {\n            Tools = tools.ToArray(),\n            ToolMode = ChatToolMode.Auto,\n            MaxOutputTokens = 32000\n        }\n    };\n\n    var (agent, _) = _agentFactory.CreateChatClientWithTools(\n        modelConfig.ModelId, tools.ToArray(), agentOptions, requestOptions);\n\n    // ... æµå¼è¾“å‡º\n}\n</code></pre>\n<p><code>config.EnabledSkillIds</code> æ¥è‡ª <code>ChatAssistantConfig</code> è¡¨ï¼Œç®¡ç†å‘˜åœ¨åå°é…ç½®å“ªäº› Skill å¯¹å¯¹è¯åŠ©æ‰‹å¯ç”¨ã€‚</p>\n<h3 id=\"62-wiki-ç”Ÿæˆå™¨\">6.2 Wiki ç”Ÿæˆå™¨</h3>\n<p>åœ¨ <code>WikiGenerator</code> é‡Œï¼ŒSkill å·¥å…·çš„æ³¨å…¥æ–¹å¼ç•¥æœ‰ä¸åŒâ€”â€”å®ƒä¸ä¾èµ– ChatAssistantConfigï¼Œè€Œæ˜¯ç›´æ¥æŸ¥æ‰€æœ‰å¯ç”¨çš„ Skillï¼š</p>\n<pre><code class=\"language-csharp\">// src/OpenDeepWiki/Services/Wiki/WikiGenerator.cs\n\nprivate async Task&lt;AITool[]&gt; BuildToolsAsync(\n    IEnumerable&lt;AITool&gt; baseTools,\n    CancellationToken cancellationToken)\n{\n    var tools = baseTools.ToList();\n\n    var enabledSkillIds = await GetEnabledSkillIdsAsync(cancellationToken);\n    if (enabledSkillIds.Count == 0) return tools.ToArray();\n\n    try\n    {\n        var skillTools = await _skillToolConverter.ConvertSkillConfigsToToolsAsync(\n            enabledSkillIds, cancellationToken);\n\n        if (skillTools.Count &gt; 0)\n        {\n            tools.AddRange(skillTools);\n            _logger.LogDebug(\"Added {SkillCount} skill tools to wiki generator\", skillTools.Count);\n        }\n    }\n    catch (Exception ex)\n    {\n        _logger.LogWarning(ex, \"Failed to load skill tools for wiki generator\");\n    }\n\n    return tools.ToArray();\n}\n\nprivate async Task&lt;List&lt;string&gt;&gt; GetEnabledSkillIdsAsync(CancellationToken cancellationToken)\n{\n    using var context = _contextFactory.CreateContext();\n    return await context.SkillConfigs\n        .Where(s =&gt; s.IsActive &amp;&amp; !s.IsDeleted)\n        .OrderBy(s =&gt; s.SortOrder)\n        .ThenBy(s =&gt; s.Name)\n        .Select(s =&gt; s.Id)\n        .ToListAsync(cancellationToken);\n}\n</code></pre>\n<p>Wiki ç”Ÿæˆå™¨é‡Œæœ‰ä¸ª <code>try-catch</code> åŒ…è£¹ Skill åŠ è½½é€»è¾‘ï¼ŒSkill åŠ è½½å¤±è´¥ä¸ä¼šé˜»æ–­ Wiki ç”Ÿæˆæµç¨‹ã€‚è¿™æ˜¯ä¸ªä¸é”™çš„å®¹é”™è®¾è®¡â€”â€”Skill æ˜¯é”¦ä¸Šæ·»èŠ±çš„ä¸œè¥¿ï¼Œä¸åº”è¯¥å› ä¸ºå®ƒå‡ºé—®é¢˜å°±æŠŠæ ¸å¿ƒåŠŸèƒ½ææŒ‚ã€‚</p>\n<h2 id=\"ä¸ƒagent-å·¥å‚æœ€åä¸€å…¬é‡Œ\">ä¸ƒã€Agent å·¥å‚ï¼šæœ€åä¸€å…¬é‡Œ</h2>\n<p>æ‰€æœ‰å·¥å…·æœ€ç»ˆéƒ½è¦é€šè¿‡ <code>AgentFactory</code> æ³¨å…¥åˆ° AI Agent é‡Œã€‚<code>AgentFactory</code> æ”¯æŒä¸‰ç§åç«¯ï¼šOpenAI Chatã€OpenAI Responsesã€Anthropicã€‚</p>\n<pre><code class=\"language-csharp\">// src/OpenDeepWiki/Agents/AgentFactory.cs\n\npublic (ChatClientAgent Agent, IList&lt;AITool&gt; Tools) CreateChatClientWithTools(\n    string model,\n    AITool[] tools,\n    ChatClientAgentOptions clientAgentOptions,\n    AiRequestOptions? requestOptions = null)\n{\n    var option = ResolveOptions(requestOptions ?? _options, true);\n\n    clientAgentOptions.ChatOptions ??= new ChatOptions();\n    clientAgentOptions.ChatOptions.Tools = tools;\n    clientAgentOptions.ChatOptions.ToolMode = ChatToolMode.Auto;\n\n    var agent = CreateAgentInternal(model, clientAgentOptions, option);\n    return (agent, tools);\n}\n\npublic static ChatClientAgent CreateAgentInternal(\n    string model,\n    ChatClientAgentOptions clientAgentOptions,\n    AiRequestOptions options)\n{\n    // å…ˆè§£æé…ç½®ï¼šåˆå¹¶ä¼ å…¥å‚æ•°ã€ç¯å¢ƒå˜é‡ã€é»˜è®¤å€¼\n    var option = ResolveOptions(options, true);\n    var httpClient = CreateHttpClient();\n\n    if (option.RequestType == AiRequestType.OpenAI)\n    {\n        var clientOptions = new OpenAIClientOptions()\n        {\n            Endpoint = new Uri(option.Endpoint ?? DefaultEndpoint),\n            // æ³¨æ„ï¼šOpenAI åˆ†æ”¯åŒæ ·æ³¨å…¥äº†è‡ªå®šä¹‰ HttpClientï¼ˆç”¨äºæ—¥å¿—æ‹¦æˆªç­‰ï¼‰\n            Transport = new HttpClientPipelineTransport(httpClient)\n        };\n        var openAiClient = new OpenAIClient(\n            new ApiKeyCredential(option.ApiKey ?? string.Empty), clientOptions);\n        return openAiClient.GetChatClient(model).AsAIAgent(clientAgentOptions);\n    }\n    else if (option.RequestType == AiRequestType.OpenAIResponses)\n    {\n        // Responses åˆ†æ”¯ç»“æ„ä¸ Chat åˆ†æ”¯ç±»ä¼¼ï¼Œä½†èµ° GetResponsesClient\n        var clientOptions = new OpenAIClientOptions()\n        {\n            Endpoint = new Uri(option.Endpoint ?? DefaultEndpoint),\n            Transport = new HttpClientPipelineTransport(httpClient)\n        };\n        var openAiClient = new OpenAIClient(\n            new ApiKeyCredential(option.ApiKey ?? string.Empty), clientOptions);\n        return openAiClient.GetResponsesClient(model).AsAIAgent(clientAgentOptions);\n    }\n    else if (option.RequestType == AiRequestType.Anthropic)\n    {\n        AnthropicClient client = new()\n        {\n            BaseUrl = option.Endpoint ?? DefaultEndpoint,\n            ApiKey = option.ApiKey,\n            HttpClient = httpClient,\n        };\n        clientAgentOptions.ChatOptions.ModelId = model;\n        return client.AsAIAgent(clientAgentOptions);\n    }\n\n    throw new NotSupportedException(\"Unknown AI request type.\");\n}\n</code></pre>\n<p>å‡ ä¸ªè¦ç‚¹ï¼š</p>\n<ul>\n<li><code>ResolveOptions</code> ä¼šä¾æ¬¡ä»ä¼ å…¥å‚æ•°ã€ç¯å¢ƒå˜é‡ï¼ˆ<code>CHAT_API_KEY</code>ã€<code>ENDPOINT</code>ã€<code>CHAT_REQUEST_TYPE</code>ï¼‰ã€é»˜è®¤å€¼ä¸­è§£æé…ç½®ï¼Œä¿è¯å³ä½¿è°ƒç”¨æ–¹æ²¡ä¼ å®Œæ•´å‚æ•°ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œ</li>\n<li>ä¸‰ä¸ªåˆ†æ”¯éƒ½é€šè¿‡è‡ªå®šä¹‰ <code>HttpClient</code> æ³¨å…¥äº† <code>LoggingHttpHandler</code>ï¼Œç”¨äºè¯·æ±‚æ—¥å¿—æ‹¦æˆªï¼Œä¸åªæ˜¯ Anthropic åˆ†æ”¯éœ€è¦</li>\n<li><code>ChatToolMode.Auto</code> æ„å‘³ç€ AI è‡ªå·±å†³å®šä»€ä¹ˆæ—¶å€™è°ƒç”¨å·¥å…·ã€‚Skill å·¥å…·çš„ description é‡Œå·²ç»å†™æ¸…æ¥šäº†ä½¿ç”¨åœºæ™¯ï¼ŒAI ä¼šæ ¹æ®ç”¨æˆ·çš„è¯·æ±‚è‡ªåŠ¨åˆ¤æ–­æ˜¯å¦éœ€è¦åŠ è½½æŸä¸ª Skill</li>\n</ul>\n<h2 id=\"å…«å®Œæ•´è°ƒç”¨é“¾è·¯æ€»ç»“\">å…«ã€å®Œæ•´è°ƒç”¨é“¾è·¯æ€»ç»“</h2>\n<p>æŠŠä¸Šé¢çš„å†…å®¹ä¸²èµ·æ¥ï¼Œä¸€æ¬¡ Skill è°ƒç”¨çš„å®Œæ•´é“¾è·¯æ˜¯è¿™æ ·çš„ï¼š</p>\n<pre><code>ç”¨æˆ·ä¸Šä¼  ZIP\n    â†“\nAdminToolsService.UploadSkillAsync()\n    â†’ è§£å‹ â†’ è§£æ SKILL.md â†’ æ ¡éªŒ â†’ å†™ç£ç›˜ â†’ å†™æ•°æ®åº“\n    â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  è·¯å¾„ Aï¼šChat å¯¹è¯åŠ©æ‰‹                                â”‚\nâ”‚  ç®¡ç†å‘˜åœ¨åå°é…ç½® ChatAssistantConfig.EnabledSkillIds  â”‚\nâ”‚  â†’ åªæœ‰è¢«æ˜¾å¼é€‰ä¸­çš„ Skill æ‰ä¼šæ³¨å…¥                     â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  è·¯å¾„ Bï¼šWiki ç”Ÿæˆå™¨                                   â”‚\nâ”‚  ç›´æ¥æŸ¥è¯¢æ‰€æœ‰ IsActive &amp;&amp; !IsDeleted çš„ Skill          â”‚\nâ”‚  â†’ ä¸ä¾èµ– ChatAssistantConfigï¼Œæ‰€æœ‰å¯ç”¨çš„ Skill éƒ½å‚ä¸ â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n    â†“\nSkillToolConverter.ConvertSkillConfigsToToolsAsync()\n    â†’ ä»æ•°æ®åº“åŠ è½½ SkillConfig\n    â†’ æ„å»º \"Skill\" AIToolï¼ˆdescription å«æ‰€æœ‰ Skill ç›®å½•ï¼‰\n    â†“\nAgentFactory.CreateChatClientWithTools()\n    â†’ ResolveOptions() åˆå¹¶é…ç½®\n    â†’ åˆ›å»º ChatClientAgentï¼ˆOpenAI / OpenAIResponses / Anthropicï¼‰\n    â†’ Tools æ³¨å…¥åˆ° ChatOptions\n    â†“\nAI Agent è¿è¡Œ\n    â†’ AI æ ¹æ®ç”¨æˆ·è¯·æ±‚åˆ¤æ–­æ˜¯å¦éœ€è¦è°ƒç”¨ Skill\n    â†’ è°ƒç”¨ Skill(\"code-review\")\n    â†’ LoadSkillInternalAsync() è¯»å– SKILL.md æ­£æ–‡\n    â†’ è¿”å› prompt å†…å®¹ç»™ AI\n    â†’ AI æŒ‰ç…§ prompt æŒ‡ä»¤æ‰§è¡Œä»»åŠ¡\n</code></pre>\n<h2 id=\"ä¹ä¸€äº›ä¸ªäººæ€è€ƒ\">ä¹ã€ä¸€äº›ä¸ªäººæ€è€ƒ</h2>\n<p>è¯»å®Œè¿™å¥—ä»£ç ï¼Œæœ‰å‡ ä¸ªåœ°æ–¹è§‰å¾—è®¾è®¡å¾—ä¸é”™ï¼š</p>\n<ol>\n<li>\n<p><strong>å• Tool èšåˆè®¾è®¡</strong>ï¼šæ²¡æœ‰ç»™æ¯ä¸ª Skill åˆ›å»ºç‹¬ç«‹çš„ Toolï¼Œè€Œæ˜¯ç”¨ä¸€ä¸ª <code>Skill</code> Tool åšå…¥å£ï¼Œé€šè¿‡ description åˆ—å‡ºç›®å½•ã€‚è¿™æ ·ä¸ç®¡æœ‰å¤šå°‘ä¸ª Skillï¼Œåªå ç”¨ä¸€ä¸ª Tool æ§½ä½ï¼Œé¿å…äº† Tool æ•°é‡çˆ†ç‚¸çš„é—®é¢˜ï¼ˆå¾ˆå¤šæ¨¡å‹å¯¹ Tool æ•°é‡æœ‰é™åˆ¶ï¼‰ã€‚</p>\n</li>\n<li>\n<p><strong>Prompt å»¶è¿ŸåŠ è½½</strong>ï¼šSkill çš„ prompt ä¸æ˜¯åœ¨æ„å»º Tool æ—¶å°±å…¨éƒ¨åŠ è½½åˆ° description é‡Œï¼Œè€Œæ˜¯ AI è°ƒç”¨æ—¶æ‰å»è¯»æ–‡ä»¶ã€‚è¿™æ · description ä¿æŒç²¾ç®€ï¼Œä¸ä¼šå› ä¸º Skill å¤ªå¤šå¯¼è‡´ context è†¨èƒ€ã€‚</p>\n</li>\n<li>\n<p><strong>ç£ç›˜ + æ•°æ®åº“åŒå­˜å‚¨</strong>ï¼šæ–‡ä»¶å†…å®¹å­˜ç£ç›˜ï¼ˆæ–¹ä¾¿ç›´æ¥ç¼–è¾‘å’Œ volume æŒ‚è½½ï¼‰ï¼Œå…ƒæ•°æ®å­˜æ•°æ®åº“ï¼ˆæ–¹ä¾¿æŸ¥è¯¢å’Œç®¡ç†ï¼‰ã€‚ä¸¤è€…é€šè¿‡ <code>FolderPath</code> å…³è”ã€‚</p>\n</li>\n<li>\n<p><strong>å®¹é”™éš”ç¦»</strong>ï¼šWikiGenerator é‡Œ Skill åŠ è½½å¤±è´¥ä¸å½±å“ä¸»æµç¨‹ï¼ŒChatAssistantService é‡Œ Skill æ˜¯å¯é€‰çš„æ‰©å±•èƒ½åŠ›ã€‚</p>\n</li>\n</ol>\n<p>ä¹Ÿæœ‰ä¸€äº›å¯ä»¥æ”¹è¿›çš„åœ°æ–¹ï¼š</p>\n<ul>\n<li><code>ParseSkillMd</code> é‡Œ YAML è§£æå¤±è´¥ç›´æ¥åå¼‚å¸¸ï¼Œä¸Šä¼ æ—¶è¿˜å¥½ï¼ˆåé¢æœ‰æ ¡éªŒï¼‰ï¼Œä½† <code>RefreshSkillsFromDiskAsync</code> é‡Œå¦‚æœ YAML æ ¼å¼æœ‰é—®é¢˜ï¼Œç”¨æˆ·å®Œå…¨ä¸çŸ¥é“ä¸ºä»€ä¹ˆ Skill æ²¡è¢«è¯†åˆ«åˆ°</li>\n<li><code>SkillToolConverter</code> æ¯æ¬¡è°ƒç”¨éƒ½ä¼šæŸ¥æ•°æ®åº“ï¼Œå¦‚æœ Skill åˆ—è¡¨ä¸å¸¸å˜åŒ–ï¼ŒåŠ ä¸ªç¼“å­˜ä¼šæ›´å¥½</li>\n<li><code>AllowedTools</code> å­—æ®µç›®å‰åªæ˜¯å­˜äº†ä¸‹æ¥ï¼Œå¹¶æ²¡æœ‰åœ¨è¿è¡Œæ—¶åšä»»ä½•æƒé™æ§åˆ¶</li>\n</ul>\n<p>æ€»çš„æ¥è¯´ï¼Œè¿™å¥— Skill æœºåˆ¶çš„è®¾è®¡æ€è·¯å¾ˆæ¸…æ™°ï¼š<strong>ç”¨æ–‡ä»¶ç³»ç»Ÿåšå­˜å‚¨ï¼Œç”¨æ•°æ®åº“åšç´¢å¼•ï¼Œç”¨ Tool description åšå‘ç°ï¼Œç”¨å»¶è¿ŸåŠ è½½åšæ³¨å…¥</strong>ã€‚å¦‚æœä½ ä¹Ÿåœ¨åšç±»ä¼¼çš„ AI Agent æ‰©å±•ç³»ç»Ÿï¼Œè¿™ä¸ªå®ç°å¯ä»¥ä½œä¸ºä¸€ä¸ªä¸é”™çš„å‚è€ƒã€‚</p>\n<hr />\n<p><em>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ star <a href=\"https://github.com/AIDotNet/OpenDeepWiki\" rel=\"noopener nofollow\" target=\"_blank\">OpenDeepWiki</a> é¡¹ç›®ã€‚</em></p>\n\n\n</div>\n<div class=\"clear\"></div>\n\n        <div class=\"postDesc\">posted on \n<span id=\"post-date\">2026-02-10 10:15</span>&nbsp;\n<a href=\"https://www.cnblogs.com/token-ai\">239573049</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">140</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "å¤§æ¨¡å‹RAGå®æˆ˜ï¼Œä»è¢«éª‚ä¸é è°±åˆ°æˆä¸ºéƒ¨é—¨MVPï¼Œè¿™æ˜¯æˆ‘çš„è¸©å‘å…¨è®°å½•",
      "link": "https://www.cnblogs.com/bu-huo/p/19601644",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/bu-huo/p/19601644\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-02-10 22:10\">\n    <span>å¤§æ¨¡å‹RAGå®æˆ˜ï¼Œä»è¢«éª‚ä¸é è°±åˆ°æˆä¸ºéƒ¨é—¨MVPï¼Œè¿™æ˜¯æˆ‘çš„è¸©å‘å…¨è®°å½•</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h2 id=\"ä¸€åˆ‡çš„èµ·ç‚¹æ˜¯ä¸€é¡¿è‡­éª‚\">ä¸€åˆ‡çš„èµ·ç‚¹æ˜¯ä¸€é¡¿è‡­éª‚</h2>\n<p>ä¸Šä¸ªæœˆï¼Œæˆ‘è¢«é¢†å¯¼å«è¿›åŠå…¬å®¤éª‚äº†æ•´æ•´äºŒååˆ†é’Ÿã€‚</p>\n<p>èµ·å› æ˜¯è¿™æ ·çš„â€”â€”æˆ‘ä»¬éƒ¨é—¨è´Ÿè´£ç»´æŠ¤ä¸€å¥—å†…éƒ¨çŸ¥è¯†åº“ç³»ç»Ÿï¼Œé‡Œé¢æ²‰æ·€äº†å…¬å¸è¿‘äº”å¹´çš„æŠ€æœ¯æ–‡æ¡£ã€æ•…éšœå¤„ç†æ‰‹å†Œã€è¿˜æœ‰å„ç§è§„èŒƒæµç¨‹ã€‚é—®é¢˜æ˜¯ï¼Œè¿™ç©æ„å„¿é™¤äº†å½“æ‘†è®¾ï¼Œå‡ ä¹æ²¡äººç”¨ã€‚ä¸ºå•¥ï¼Ÿå› ä¸ºæœç´¢å¤ªçƒ‚äº†ï¼Œå…³é”®è¯åŒ¹é…çš„é‚£ç§ï¼Œä½ æœæœåŠ¡å™¨å®•æœºæ€ä¹ˆåŠï¼Œå®ƒç»™ä½ è¿”å›ä¸€å †åŒ…å«æœåŠ¡å™¨çš„æ–‡æ¡£ï¼ŒçœŸæ­£æœ‰ç”¨çš„é‚£ç¯‡åè€Œæ’åœ¨ç¬¬ä¸‰é¡µã€‚</p>\n<p>æ–°åŒäº‹å…¥èŒé—®é—®é¢˜ï¼Œè€å‘˜å·¥ç¿»æ–‡æ¡£æ‰¾ç­”æ¡ˆï¼Œå¤§å®¶å®å¯åœ¨ç¾¤é‡Œ@äººé—®ï¼Œä¹Ÿä¸æ„¿æ„å»çŸ¥è¯†åº“é‡ŒæŸ¥ã€‚</p>\n<p>ç„¶åé¢†å¯¼å‘è¯äº†ï¼šä½ ä¸æ˜¯å¤©å¤©ç ”ç©¶ä»€ä¹ˆå¤§æ¨¡å‹å—ï¼Ÿèƒ½ä¸èƒ½æ•´ä¸ªæ™ºèƒ½é—®ç­”ï¼Œè®©å¤§å®¶ç›´æ¥é—®é—®é¢˜å°±èƒ½å¾—åˆ°ç­”æ¡ˆï¼Ÿ</p>\n<p>æˆ‘å½“æ—¶è„‘å­ä¸€çƒ­ï¼Œæ‹èƒ¸è„¯è¯´æ²¡é—®é¢˜ã€‚ç»“æœç¬¬ä¸€ç‰ˆä¸Šçº¿ä¸‰å¤©å°±è¢«éª‚ä¸‹æ¥äº†â€”â€”ç”¨æˆ·é—®æˆ‘ä»¬çš„MySQLä¸»ä»åˆ‡æ¢æµç¨‹æ˜¯ä»€ä¹ˆï¼Œå¤§æ¨¡å‹å›ç­”å¾—å¤´å¤´æ˜¯é“ï¼Œä½†å†…å®¹å®Œå…¨æ˜¯å®ƒè‡ªå·±ç¼–çš„ï¼è·Ÿæˆ‘ä»¬å…¬å¸çš„å®é™…æµç¨‹å…«ç«¿å­æ‰“ä¸ç€ã€‚</p>\n<p>è¿™å°±æ˜¯æ‰€è°“çš„å¤§æ¨¡å‹å¹»è§‰é—®é¢˜ï¼Œæˆ‘å½“æ—¶å¯¹RAGçš„ç†è§£è¿˜åœç•™åœ¨æŠŠæ–‡æ¡£ä¸¢è¿›å»å°±è¡Œçš„æ°´å¹³ï¼Œå¤ªå¤©çœŸäº†ã€‚</p>\n<p>ä¸è¿‡ï¼Œåæ¥çš„æ•…äº‹è¿˜ç®—åœ†æ»¡ã€‚æˆ‘èŠ±äº†å°†è¿‘ä¸‰å‘¨æ—¶é—´é‡æ„äº†æ•´ä¸ªæ–¹æ¡ˆï¼Œç°åœ¨è¿™å¥—ç³»ç»Ÿå·²ç»æˆäº†éƒ¨é—¨çš„æ ‡é…å·¥å…·ï¼Œæœˆæ´»è·ƒç”¨æˆ·ä»0æ¶¨åˆ°äº†200å¤šï¼Œé¢†å¯¼åœ¨å­£åº¦ä¼šä¸Šè¿˜ä¸“é—¨è¡¨æ‰¬äº†ä¸€å›ã€‚ä»Šå¤©è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘å°±æŠŠæ•´ä¸ªè¸©å‘è¿‡ç¨‹åŸåŸæœ¬æœ¬åœ°è®°å½•ä¸‹æ¥ï¼ŒåŒ…æ‹¬ä»£ç ã€æ¶æ„è®¾è®¡ã€ä»¥åŠé‚£äº›æ•™ç§‘ä¹¦ä¸Šä¸ä¼šå‘Šè¯‰ä½ çš„å®æˆ˜ç»†èŠ‚ã€‚</p>\n<h2 id=\"ä¸€ragåˆ°åº•åœ¨è§£å†³ä»€ä¹ˆé—®é¢˜\">ä¸€ã€RAGåˆ°åº•åœ¨è§£å†³ä»€ä¹ˆé—®é¢˜</h2>\n<p>åœ¨åŠ¨æ‰‹ä¹‹å‰ï¼Œæˆ‘æƒ³å…ˆèŠèŠRAGè¿™ä¸ªæ¦‚å¿µï¼Œå› ä¸ºå¾ˆå¤šåˆšæ¥è§¦çš„æœ‹å‹å®¹æ˜“ææ··ã€‚<br />\n<img alt=\"image.png\" class=\"lazyload\" /></p>\n<p>å¤§æ¨¡å‹å¾ˆå¼ºï¼Œä½†å®ƒæœ‰ä¸¤ä¸ªè‡´å‘½å¼±ç‚¹ï¼š</p>\n<p><strong>ç¬¬ä¸€ï¼ŒçŸ¥è¯†æœ‰æˆªæ­¢æ—¥æœŸã€‚</strong> GPT-4çš„è®­ç»ƒæ•°æ®æˆªæ­¢åˆ°æŸä¸ªæ—¶é—´ç‚¹ï¼Œå®ƒä¸çŸ¥é“ä½ ä»¬å…¬å¸ä¸Šå‘¨å‘å¸ƒçš„æ–°è§„èŒƒï¼Œä¹Ÿä¸çŸ¥é“ä½ ä»¬æ˜¨å¤©åˆšä¿®å¤çš„é‚£ä¸ªbugæ˜¯æ€ä¹ˆè§£å†³çš„ã€‚</p>\n<p><strong>ç¬¬äºŒï¼Œä¼šä¸€æœ¬æ­£ç»åœ°èƒ¡è¯´å…«é“ã€‚</strong> å½“å¤§æ¨¡å‹é‡åˆ°å®ƒä¸çŸ¥é“çš„é—®é¢˜æ—¶ï¼Œå®ƒä¸ä¼šè€è€å®å®è¯´æˆ‘ä¸çŸ¥é“ï¼Œè€Œæ˜¯ä¼šåŸºäºå®ƒå­¦è¿‡çš„é€šç”¨çŸ¥è¯†ï¼Œç»™ä½ ç¼–ä¸€ä¸ªçœ‹èµ·æ¥å¾ˆåˆç†ä½†å…¶å®æ˜¯é”™çš„ç­”æ¡ˆã€‚è¿™å°±æ˜¯æ‰€è°“çš„å¹»è§‰ï¼ˆHallucinationï¼‰ã€‚</p>\n<p>RAGï¼ˆRetrieval-Augmented Generationï¼Œæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰çš„æ ¸å¿ƒæ€è·¯å…¶å®å¾ˆç®€å•ï¼š<strong>åˆ«è®©å¤§æ¨¡å‹é æƒ³è±¡åŠ›ç­”é¢˜ï¼Œå…ˆå¸®å®ƒæŠŠå‚è€ƒèµ„æ–™æ‰¾å‡ºæ¥ï¼Œè®©å®ƒç…§ç€èµ„æ–™å›ç­”ã€‚</strong><br />\n<img alt=\"image.png\" class=\"lazyload\" /><br />\nå…·ä½“æ¥è¯´åˆ†ä¸‰æ­¥ï¼š</p>\n<ol>\n<li>æŠŠä½ çš„ç§æœ‰æ–‡æ¡£åˆ‡æˆå°å—ï¼Œè½¬æˆå‘é‡å­˜èµ·æ¥</li>\n<li>ç”¨æˆ·æé—®æ—¶ï¼Œå…ˆæ ¹æ®é—®é¢˜æ£€ç´¢å‡ºæœ€ç›¸å…³çš„æ–‡æ¡£ç‰‡æ®µ</li>\n<li>æŠŠé—®é¢˜å’Œæ£€ç´¢åˆ°çš„å†…å®¹ä¸€èµ·å–‚ç»™å¤§æ¨¡å‹ï¼Œè®©å®ƒåŸºäºè¿™äº›ææ–™ç”Ÿæˆç­”æ¡ˆ</li>\n</ol>\n<p>å¬èµ·æ¥ä¸å¤æ‚å¯¹å§ï¼Ÿæˆ‘å½“æ—¶ä¹Ÿæ˜¯è¿™ä¹ˆæƒ³çš„ï¼Œç„¶åå°±è¸©äº†ä¸€å †å‘ã€‚</p>\n<h2 id=\"äºŒç¬¬ä¸€ä¸ªå¤§å‘æ–‡æ¡£åˆ‡åˆ†æ²¡é‚£ä¹ˆç®€å•\">äºŒã€ç¬¬ä¸€ä¸ªå¤§å‘ï¼šæ–‡æ¡£åˆ‡åˆ†æ²¡é‚£ä¹ˆç®€å•</h2>\n<p>æˆ‘æœ€åˆçš„æ–¹æ¡ˆç‰¹åˆ«ç²—æš´â€”â€”ç”¨LangChainçš„RecursiveCharacterTextSplitterï¼Œè®¾ç½®chunk_size=500ï¼Œoverlap=50ï¼Œç›´æ¥æŠŠæ‰€æœ‰æ–‡æ¡£åˆ‡æˆå°å—ã€‚<br />\n<img alt=\"image.png\" class=\"lazyload\" /><br />\nä»£ç å†™èµ·æ¥ç¡®å®å¾ˆç®€å•ï¼š</p>\n<pre><code class=\"language-python\">from langchain.text_splitter import RecursiveCharacterTextSplitter\n\ndef naive_split(text):\n    æœ€åˆçš„ç®€å•åˆ‡åˆ†æ–¹æ¡ˆâ€”â€”åæ¥è¯æ˜è¿™æ˜¯ä¸ªå‘\n    splitter = RecursiveCharacterTextSplitter(\n        chunk_size=500,\n        chunk_overlap=50,\n        separators=[\\n\\n, \\n, ã€‚, ï¼, ï¼Ÿ,  , ]\n    )\n    chunks = splitter.split_text(text)\n    return chunks\n\n# æµ‹è¯•ä¸€ä¸‹\nsample_text = \n# MySQLä¸»ä»åˆ‡æ¢æ“ä½œæ‰‹å†Œ\n\n## 1. å‰ç½®æ£€æŸ¥\nåœ¨æ‰§è¡Œä¸»ä»åˆ‡æ¢ä¹‹å‰ï¼Œå¿…é¡»å®Œæˆä»¥ä¸‹æ£€æŸ¥ï¼š\n- ç¡®è®¤ä»åº“åŒæ­¥çŠ¶æ€æ­£å¸¸ï¼ˆSeconds_Behind_Master = 0ï¼‰\n- ç¡®è®¤æ²¡æœ‰æ­£åœ¨æ‰§è¡Œçš„å¤§äº‹åŠ¡\n- é€šçŸ¥ç›¸å…³ä¸šåŠ¡æ–¹ï¼Œç¡®è®¤åˆ‡æ¢æ—¶é—´çª—å£\n\n## 2. åˆ‡æ¢æ­¥éª¤\n2.1 åœ¨ä¸»åº“æ‰§è¡Œåªè¯»è®¾ç½®\nSET GLOBAL read_only = 1;\n\n2.2 ç­‰å¾…ä»åº“å®Œå…¨åŒæ­¥\nåœ¨ä»åº“æ‰§è¡Œ SHOW SLAVE STATUSï¼Œç¡®è®¤ Seconds_Behind_Master = 0\n\n2.3 åœæ­¢ä»åº“å¤åˆ¶\nSTOP SLAVE;\nRESET SLAVE ALL;\n\n## 3. å›æ»šæ–¹æ¡ˆ\nå¦‚æœåˆ‡æ¢å¤±è´¥ï¼ŒæŒ‰ä»¥ä¸‹æ­¥éª¤å›æ»š...\n\n\nchunks = naive_split(sample_text)\nfor i, chunk in enumerate(chunks):\n    print(f Chunk {i+1} )\n    print(chunk[:100] + ... if len(chunk) &gt; 100 else chunk)\n</code></pre>\n<p>çœ‹èµ·æ¥æ²¡æ¯›ç—…æ˜¯å§ï¼Ÿä½†å®é™…ç”¨èµ·æ¥é—®é¢˜å¤§äº†ã€‚</p>\n<p>æœ‰ä¸€æ¬¡ç”¨æˆ·é—®ï¼šMySQLåˆ‡æ¢å‰éœ€è¦åšå“ªäº›æ£€æŸ¥ï¼Ÿç³»ç»Ÿè¿”å›çš„æ–‡æ¡£ç‰‡æ®µæ˜¯è¿™æ ·çš„ï¼š</p>\n<pre><code>ç¡®è®¤æ²¡æœ‰æ­£åœ¨æ‰§è¡Œçš„å¤§äº‹åŠ¡\n- é€šçŸ¥ç›¸å…³ä¸šåŠ¡æ–¹ï¼Œç¡®è®¤åˆ‡æ¢æ—¶é—´çª—å£\n\n## 2. åˆ‡æ¢æ­¥éª¤\n2.1 åœ¨ä¸»åº“æ‰§è¡Œåªè¯»è®¾ç½®\nSET GLOBAL read_only = 1;\n</code></pre>\n<p>å‘ç°é—®é¢˜äº†å—ï¼Ÿè¿™ä¸ªç‰‡æ®µæ°å¥½ä»æ£€æŸ¥æ­¥éª¤çš„ä¸­é—´åˆ‡å¼€äº†ï¼ç¬¬ä¸€æ¡æ£€æŸ¥é¡¹ç¡®è®¤ä»åº“åŒæ­¥çŠ¶æ€æ­£å¸¸è¢«åˆ‡åˆ°äº†ä¸Šä¸€ä¸ªchunké‡Œã€‚ç”¨æˆ·é—®çš„æ˜¯éœ€è¦åšå“ªäº›æ£€æŸ¥ï¼Œç»“æœæˆ‘ä»¬ç»™å¤§æ¨¡å‹çš„å‚è€ƒèµ„æ–™é‡Œï¼Œç¬¬ä¸€æ¡æ£€æŸ¥é¡¹å°±æ²¡åŒ…å«è¿›å»ã€‚</p>\n<p><strong>æ ¸å¿ƒæ•™è®­ï¼šæœºæ¢°åœ°æŒ‰å­—æ•°åˆ‡åˆ†ï¼Œä¼šæ‰“æ–­æ–‡æ¡£çš„è¯­ä¹‰å®Œæ•´æ€§ã€‚</strong></p>\n<p>åæ¥æˆ‘æ”¹æˆäº†åŸºäºè¯­ä¹‰ç»“æ„çš„åˆ‡åˆ†ç­–ç•¥ï¼š</p>\n<pre><code class=\"language-python\">import re\nfrom typing import List, Dict\n\nclass SmartDocumentSplitter:\n    \n    è¯­ä¹‰æ„ŸçŸ¥çš„æ–‡æ¡£åˆ‡åˆ†å™¨\n    æ ¸å¿ƒæ€è·¯ï¼šå°Šé‡æ–‡æ¡£çš„åŸæœ‰ç»“æ„ï¼ŒæŒ‰æ ‡é¢˜ã€æ®µè½ç­‰è¯­ä¹‰è¾¹ç•Œåˆ‡åˆ†\n    \n    \n    def __init__(self, max_chunk_size=800, min_chunk_size=100):\n        self.max_chunk_size = max_chunk_size\n        self.min_chunk_size = min_chunk_size\n    \n    def split_markdown(self, text: str) -&gt; List[Dict]:\n        \n        é’ˆå¯¹Markdownæ–‡æ¡£çš„åˆ‡åˆ†\n        ä¿æŒæ ‡é¢˜å±‚çº§ç»“æ„ï¼Œæ¯ä¸ªchunkéƒ½å¸¦ä¸Šå®Œæ•´çš„ä¸Šä¸‹æ–‡è·¯å¾„\n        \n        chunks = []\n        current_headers = {1: , 2: , 3: }  # è®°å½•å½“å‰çš„æ ‡é¢˜å±‚çº§\n        \n        # æŒ‰è¡Œå¤„ç†ï¼Œè¯†åˆ«æ ‡é¢˜å’Œå†…å®¹\n        lines = text.split('\\n')\n        current_content = []\n        \n        for line in lines:\n            # æ£€æµ‹Markdownæ ‡é¢˜\n            header_match = re.match(r'^(#{1,3})\\s+(.+)$', line)\n            \n            if header_match:\n                # é‡åˆ°æ–°æ ‡é¢˜ï¼Œå…ˆä¿å­˜ä¹‹å‰çš„å†…å®¹\n                if current_content:\n                    chunk_text = '\\n'.join(current_content).strip()\n                    if len(chunk_text) &gt;= self.min_chunk_size:\n                        chunks.append({\n                            'content': chunk_text,\n                            'headers': dict(current_headers),\n                            'context_path': self._build_context_path(current_headers)\n                        })\n                    current_content = []\n                \n                # æ›´æ–°æ ‡é¢˜å±‚çº§\n                level = len(header_match.group(1))\n                title = header_match.group(2)\n                current_headers[level] = title\n                \n                # æ¸…é™¤ä¸‹çº§æ ‡é¢˜\n                for l in range(level + 1, 4):\n                    current_headers[l] = \n                \n                current_content.append(line)\n            else:\n                current_content.append(line)\n                \n                # å¦‚æœå½“å‰å†…å®¹è¶…è¿‡æœ€å¤§é•¿åº¦ï¼Œå¼ºåˆ¶åˆ‡åˆ†ï¼ˆä½†å°½é‡åœ¨æ®µè½è¾¹ç•Œï¼‰\n                content_so_far = '\\n'.join(current_content)\n                if len(content_so_far) &gt; self.max_chunk_size:\n                    chunk_text = content_so_far.strip()\n                    chunks.append({\n                        'content': chunk_text,\n                        'headers': dict(current_headers),\n                        'context_path': self._build_context_path(current_headers)\n                    })\n                    current_content = []\n        \n        # åˆ«å¿˜äº†æœ€åä¸€æ®µ\n        if current_content:\n            chunk_text = '\\n'.join(current_content).strip()\n            if len(chunk_text) &gt;= self.min_chunk_size:\n                chunks.append({\n                    'content': chunk_text,\n                    'headers': dict(current_headers),\n                    'context_path': self._build_context_path(current_headers)\n                })\n        \n        return chunks\n    \n    def _build_context_path(self, headers: Dict) -&gt; str:\n        æ„å»ºå±‚çº§è·¯å¾„ï¼Œæ¯”å¦‚ï¼šMySQLä¸»ä»åˆ‡æ¢ &gt; å‰ç½®æ£€æŸ¥\n        path_parts = [h for h in [headers[1], headers[2], headers[3]] if h]\n        return ' &gt; '.join(path_parts) if path_parts else 'æœªåˆ†ç±»'\n    \n    def enrich_chunk_with_context(self, chunk: Dict) -&gt; str:\n        \n        å…³é”®æŠ€å·§ï¼šç»™æ¯ä¸ªchunkåŠ ä¸Šä¸Šä¸‹æ–‡å‰ç¼€\n        è¿™æ ·å³ä½¿å•ç‹¬çœ‹è¿™ä¸ªç‰‡æ®µï¼Œä¹Ÿèƒ½çŸ¥é“å®ƒå±äºå“ªä¸ªç« èŠ‚\n        \n        context = f[æ–‡æ¡£è·¯å¾„ï¼š{chunk['context_path']}]\\n\\n\n        return context + chunk['content']\n\n\n# å®é™…ä½¿ç”¨ç¤ºä¾‹\nsplitter = SmartDocumentSplitter(max_chunk_size=800)\nchunks = splitter.split_markdown(sample_text)\n\nprint(fåˆ‡åˆ†åå…± {len(chunks)} ä¸ªç‰‡æ®µ\\n)\nfor i, chunk in enumerate(chunks):\n    print(f=== Chunk {i+1} ===)\n    print(fè·¯å¾„ï¼š{chunk['context_path']})\n    print(få†…å®¹é¢„è§ˆï¼š{chunk['content'][:150]}...)\n    print()\n</code></pre>\n<p>è¿™æ ·åˆ‡å‡ºæ¥çš„æ•ˆæœå°±å¥½å¤šäº†ã€‚æ¯ä¸ªchunkå¼€å¤´éƒ½ä¼šå¸¦ä¸Šå®ƒçš„ä½ç½®ä¿¡æ¯ï¼Œå¤§æ¨¡å‹åœ¨å›ç­”æ—¶èƒ½æ›´å‡†ç¡®åœ°ç†è§£è¿™æ®µå†…å®¹çš„ä¸Šä¸‹æ–‡ã€‚</p>\n<p>ä¸è¿‡è¯´å®è¯ï¼Œè¿™ä¸ªæ–¹æ¡ˆä¹Ÿä¸æ˜¯ä¸‡èƒ½çš„ã€‚å¯¹äºé‚£äº›æ ¼å¼ä¸è§„èŒƒçš„è€æ–‡æ¡£ï¼ˆæ²¡æœ‰æ¸…æ™°çš„æ ‡é¢˜ç»“æ„ï¼‰ï¼Œåˆ‡åˆ†æ•ˆæœä¾ç„¶ä¸€èˆ¬ã€‚åæ¥æˆ‘åˆé’ˆå¯¹ä¸åŒç±»å‹çš„æ–‡æ¡£åšäº†å·®å¼‚åŒ–å¤„ç†ï¼Œè¿™ä¸ªæˆ‘ä»¬åé¢å†è¯´ã€‚</p>\n<h2 id=\"ä¸‰ç¬¬äºŒä¸ªå¤§å‘å‘é‡æ£€ç´¢çš„è¯­ä¹‰é¸¿æ²Ÿ\">ä¸‰ã€ç¬¬äºŒä¸ªå¤§å‘ï¼šå‘é‡æ£€ç´¢çš„è¯­ä¹‰é¸¿æ²Ÿ</h2>\n<p>è§£å†³äº†åˆ‡åˆ†é—®é¢˜ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯å‘é‡åŒ–å’Œæ£€ç´¢äº†ã€‚æˆ‘ç”¨çš„æ˜¯å¼€æºçš„BGEæ¨¡å‹åšEmbeddingï¼Œç”¨Milvusåšå‘é‡æ•°æ®åº“ã€‚</p>\n<p>ç¬¬ä¸€ç‰ˆçš„æ£€ç´¢ä»£ç å¾ˆç›´ç™½ï¼š</p>\n<pre><code class=\"language-python\">from sentence_transformers import SentenceTransformer\nfrom pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType, utility\nimport numpy as np\n\nclass VectorStore:\n    å‘é‡å­˜å‚¨å’Œæ£€ç´¢\n    \n    def __init__(self, model_name='BAAI/bge-base-zh-v1.5'):\n        # åŠ è½½Embeddingæ¨¡å‹\n        self.model = SentenceTransformer(model_name)\n        self.dim = 768  # BGE baseæ¨¡å‹çš„å‘é‡ç»´åº¦\n        \n        # è¿æ¥Milvus\n        connections.connect(default, host=localhost, port=19530)\n        \n    def create_collection(self, collection_name: str):\n        åˆ›å»ºé›†åˆ\n        if utility.has_collection(collection_name):\n            utility.drop_collection(collection_name)\n        \n        fields = [\n            FieldSchema(name=id, dtype=DataType.INT64, is_primary=True, auto_id=True),\n            FieldSchema(name=content, dtype=DataType.VARCHAR, max_length=4096),\n            FieldSchema(name=context_path, dtype=DataType.VARCHAR, max_length=512),\n            FieldSchema(name=embedding, dtype=DataType.FLOAT_VECTOR, dim=self.dim)\n        ]\n        schema = CollectionSchema(fields, description=çŸ¥è¯†åº“æ–‡æ¡£)\n        collection = Collection(collection_name, schema)\n        \n        # åˆ›å»ºç´¢å¼•\n        index_params = {\n            metric_type: COSINE,\n            index_type: IVF_FLAT,\n            params: {nlist: 128}\n        }\n        collection.create_index(embedding, index_params)\n        return collection\n    \n    def insert_documents(self, collection_name: str, chunks: list):\n        æ’å…¥æ–‡æ¡£\n        collection = Collection(collection_name)\n        \n        contents = [chunk['content'] for chunk in chunks]\n        context_paths = [chunk['context_path'] for chunk in chunks]\n        \n        # æ‰¹é‡ç”ŸæˆEmbedding\n        embeddings = self.model.encode(contents, normalize_embeddings=True)\n        \n        collection.insert([contents, context_paths, embeddings.tolist()])\n        collection.flush()\n        print(fæˆåŠŸæ’å…¥ {len(chunks)} æ¡æ–‡æ¡£)\n    \n    def search(self, collection_name: str, query: str, top_k: int = 5):\n        åŸºç¡€æ£€ç´¢\n        collection = Collection(collection_name)\n        collection.load()\n        \n        # ç”ŸæˆæŸ¥è¯¢å‘é‡\n        query_embedding = self.model.encode([query], normalize_embeddings=True)\n        \n        results = collection.search(\n            data=query_embedding.tolist(),\n            anns_field=embedding,\n            param={metric_type: COSINE, params: {nprobe: 16}},\n            limit=top_k,\n            output_fields=[content, context_path]\n        )\n        \n        return results[0]\n</code></pre>\n<p>åŸºæœ¬åŠŸèƒ½æ˜¯æ²¡é—®é¢˜çš„ã€‚ä½†å®é™…è·‘èµ·æ¥ï¼Œæˆ‘å‘ç°äº†ä¸€ä¸ªè®©äººæŠ“ç‹‚çš„ç°è±¡â€”â€”<strong>ç”¨æˆ·çš„å£è¯­åŒ–æé—®å’Œæ–‡æ¡£çš„æ­£å¼è¡¨è¿°ä¹‹é—´å­˜åœ¨å·¨å¤§çš„è¯­ä¹‰é¸¿æ²Ÿ</strong>ã€‚</p>\n<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>\n<ul>\n<li>ç”¨æˆ·é—®ï¼šæ•°æ®åº“æŒ‚äº†æ€ä¹ˆåŠ</li>\n<li>æ–‡æ¡£æ ‡é¢˜æ˜¯ï¼šMySQLæœåŠ¡å¼‚å¸¸æ¢å¤æ“ä½œæ‰‹å†Œ</li>\n</ul>\n<p>è¿™ä¸¤ä¸ªåœ¨è¯­ä¹‰ä¸Šæ˜¯ç›¸å…³çš„ï¼Œä½†å‘é‡ç›¸ä¼¼åº¦å¯èƒ½å¹¶ä¸é«˜ã€‚å› ä¸ºç”¨æˆ·è¯´çš„æŒ‚äº†å’Œæ–‡æ¡£é‡Œçš„å¼‚å¸¸ï¼Œç”¨è¯å·®å¼‚å¾ˆå¤§ã€‚</p>\n<p>æ›´å‘çš„æ˜¯ï¼Œæœ‰æ—¶å€™æ£€ç´¢å‡ºçš„Top 5ç»“æœé‡Œï¼ŒçœŸæ­£ç›¸å…³çš„é‚£ç¯‡å¯èƒ½åªæ’åœ¨ç¬¬3æˆ–ç¬¬4ä½ï¼Œä½†å‰ä¸¤åæ˜¯ä¸€äº›çœ‹èµ·æ¥ç›¸å…³ä½†å®é™…ä¸Šæ–‡ä¸å¯¹é¢˜çš„å†…å®¹ã€‚å¦‚æœæˆ‘åªå–Top 3å–‚ç»™å¤§æ¨¡å‹ï¼Œå¯èƒ½å°±æ¼æ‰äº†æœ€å…³é”®çš„ä¿¡æ¯ã€‚</p>\n<p>åæ¥æˆ‘é‡‡ç”¨äº†ä¸€ä¸ªä¸¤é˜¶æ®µæ£€ç´¢çš„ç­–ç•¥ï¼š<strong>å…ˆç”¨å‘é‡æ£€ç´¢åšç²—ç­›ï¼Œå†ç”¨é‡æ’åºæ¨¡å‹åšç²¾æ’ã€‚</strong></p>\n<pre><code class=\"language-python\">from transformers import AutoModelForSequenceClassification, AutoTokenizer\nimport torch\n\nclass EnhancedRetriever:\n    å¢å¼ºç‰ˆæ£€ç´¢å™¨ï¼šå‘é‡æ£€ç´¢ + é‡æ’åº\n    \n    def __init__(self, vector_store: VectorStore):\n        self.vector_store = vector_store\n        \n        # åŠ è½½é‡æ’åºæ¨¡å‹ï¼ˆBGE Rerankeræ•ˆæœä¸é”™ï¼‰\n        self.reranker_tokenizer = AutoTokenizer.from_pretrained('BAAI/bge-reranker-base')\n        self.reranker_model = AutoModelForSequenceClassification.from_pretrained('BAAI/bge-reranker-base')\n        self.reranker_model.eval()\n    \n    def retrieve_with_rerank(self, collection_name: str, query: str, \n                             initial_top_k: int = 20, final_top_k: int = 5):\n        \n        ä¸¤é˜¶æ®µæ£€ç´¢ï¼š\n        1. å‘é‡æ£€ç´¢å¬å› initial_top_k ä¸ªå€™é€‰\n        2. ç”¨é‡æ’åºæ¨¡å‹ç²¾æ’ï¼Œè¿”å› final_top_k ä¸ªç»“æœ\n        \n        # ç¬¬ä¸€é˜¶æ®µï¼šå‘é‡æ£€ç´¢ï¼ˆå¬å›æ›´å¤šå€™é€‰ï¼‰\n        initial_results = self.vector_store.search(collection_name, query, top_k=initial_top_k)\n        \n        if not initial_results:\n            return []\n        \n        # å‡†å¤‡é‡æ’åº\n        candidates = []\n        for hit in initial_results:\n            candidates.append({\n                'content': hit.entity.get('content'),\n                'context_path': hit.entity.get('context_path'),\n                'vector_score': hit.score  # ä¿ç•™å‘é‡æ£€ç´¢å¾—åˆ†ï¼Œç”¨äºè°ƒè¯•\n            })\n        \n        # ç¬¬äºŒé˜¶æ®µï¼šé‡æ’åº\n        rerank_scores = self._compute_rerank_scores(query, [c['content'] for c in candidates])\n        \n        for i, score in enumerate(rerank_scores):\n            candidates[i]['rerank_score'] = score\n        \n        # æŒ‰é‡æ’åºåˆ†æ•°æ’åº\n        candidates.sort(key=lambda x: x['rerank_score'], reverse=True)\n        \n        return candidates[:final_top_k]\n    \n    def _compute_rerank_scores(self, query: str, documents: list) -&gt; list:\n        è®¡ç®—queryå’Œæ¯ä¸ªæ–‡æ¡£çš„ç›¸å…³æ€§åˆ†æ•°\n        scores = []\n        \n        with torch.no_grad():\n            for doc in documents:\n                # Rerankerçš„è¾“å…¥æ ¼å¼æ˜¯ [query, document]\n                inputs = self.reranker_tokenizer(\n                    [[query, doc]], \n                    padding=True, \n                    truncation=True, \n                    max_length=512, \n                    return_tensors='pt'\n                )\n                outputs = self.reranker_model(**inputs)\n                score = outputs.logits.squeeze().item()\n                scores.append(score)\n        \n        return scores\n    \n    def retrieve_with_query_expansion(self, collection_name: str, query: str, \n                                       llm_client, top_k: int = 5):\n        \n        è¿›é˜¶æŠ€å·§ï¼šæŸ¥è¯¢æ‰©å±•\n        ç”¨å¤§æ¨¡å‹æ”¹å†™ç”¨æˆ·é—®é¢˜ï¼Œç”Ÿæˆå¤šä¸ªå˜ä½“ï¼Œå†åˆå¹¶æ£€ç´¢ç»“æœ\n        \n        # è®©å¤§æ¨¡å‹å¸®æˆ‘ä»¬æ‰©å±•æŸ¥è¯¢\n        expansion_prompt = fè¯·å°†ä¸‹é¢è¿™ä¸ªé—®é¢˜æ”¹å†™æˆ3ä¸ªä¸åŒçš„è¡¨è¾¾æ–¹å¼ï¼Œä¿æŒæ„æ€ç›¸åŒä½†ç”¨è¯ä¸åŒã€‚\næ¯è¡Œè¾“å‡ºä¸€ä¸ªæ”¹å†™ç»“æœï¼Œä¸è¦åºå·ï¼Œä¸è¦å…¶ä»–è§£é‡Šã€‚\n\nåŸé—®é¢˜ï¼š{query}\n        \n        expanded_queries = llm_client.generate(expansion_prompt).strip().split('\\n')\n        expanded_queries = [q.strip() for q in expanded_queries if q.strip()]\n        \n        # åŠ ä¸ŠåŸå§‹æŸ¥è¯¢\n        all_queries = [query] + expanded_queries[:3]  # æœ€å¤šå–3ä¸ªæ‰©å±•æŸ¥è¯¢\n        \n        print(fæ‰©å±•åçš„æŸ¥è¯¢ï¼š{all_queries})  # è°ƒè¯•ç”¨\n        \n        # å¯¹æ¯ä¸ªæŸ¥è¯¢åˆ†åˆ«æ£€ç´¢\n        all_candidates = {}\n        for q in all_queries:\n            results = self.vector_store.search(collection_name, q, top_k=10)\n            for hit in results:\n                content = hit.entity.get('content')\n                if content not in all_candidates:\n                    all_candidates[content] = {\n                        'content': content,\n                        'context_path': hit.entity.get('context_path'),\n                        'best_score': hit.score,\n                        'hit_count': 1\n                    }\n                else:\n                    # è¢«å¤šä¸ªæŸ¥è¯¢å‘½ä¸­çš„æ–‡æ¡£ï¼Œå¢åŠ æƒé‡\n                    all_candidates[content]['hit_count'] += 1\n                    all_candidates[content]['best_score'] = max(\n                        all_candidates[content]['best_score'], \n                        hit.score\n                    )\n        \n        # ç»¼åˆè¯„åˆ†ï¼šå‘½ä¸­æ¬¡æ•° * æœ€é«˜å¾—åˆ†\n        candidates = list(all_candidates.values())\n        for c in candidates:\n            c['combined_score'] = c['hit_count'] * c['best_score']\n        \n        candidates.sort(key=lambda x: x['combined_score'], reverse=True)\n        return candidates[:top_k]\n</code></pre>\n<p>æŸ¥è¯¢æ‰©å±•è¿™æ‹›ç‰¹åˆ«å¥½ç”¨ã€‚æ¯”å¦‚ç”¨æˆ·é—®æ•°æ®åº“æŒ‚äº†æ€ä¹ˆåŠï¼Œå¤§æ¨¡å‹å¯èƒ½ä¼šæ‰©å±•æˆï¼š</p>\n<ul>\n<li>MySQLæœåŠ¡æ•…éšœå¦‚ä½•å¤„ç†</li>\n<li>æ•°æ®åº“æ— æ³•è¿æ¥çš„è§£å†³æ–¹æ¡ˆ</li>\n<li>æ•°æ®åº“å®•æœºæ¢å¤æ­¥éª¤</li>\n</ul>\n<p>è¿™å‡ ä¸ªæŸ¥è¯¢ä¸€èµ·æ£€ç´¢ï¼Œèƒ½è¦†ç›–æ›´å¤šçš„ç›¸å…³æ–‡æ¡£ã€‚</p>\n<h2 id=\"å››ç¬¬ä¸‰ä¸ªå¤§å‘promptå·¥ç¨‹çš„é—¨é“æ¯”æƒ³è±¡ä¸­æ·±\">å››ã€ç¬¬ä¸‰ä¸ªå¤§å‘ï¼šPromptå·¥ç¨‹çš„é—¨é“æ¯”æƒ³è±¡ä¸­æ·±</h2>\n<p>æ£€ç´¢çš„é—®é¢˜è§£å†³äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æŠŠæ£€ç´¢åˆ°çš„å†…å®¹å’Œç”¨æˆ·é—®é¢˜ä¸€èµ·å–‚ç»™å¤§æ¨¡å‹äº†ã€‚è¿™ä¸€æ­¥æˆ‘æœ¬ä»¥ä¸ºæœ€ç®€å•ï¼Œæ²¡æƒ³åˆ°ä¹Ÿè¸©äº†ä¸å°‘å‘ã€‚</p>\n<p>æœ€åˆçš„Promptç‰¹åˆ«æœ´ç´ ï¼š</p>\n<pre><code class=\"language-python\">def build_naive_prompt(query: str, context_docs: list) -&gt; str:\n    æœ€åˆçš„ç®€å•Promptâ€”â€”åæ¥è¯æ˜å¤ªå¤©çœŸäº†\n    context = \\n\\n.join([doc['content'] for doc in context_docs])\n    \n    prompt = fæ ¹æ®ä»¥ä¸‹å‚è€ƒèµ„æ–™å›ç­”ç”¨æˆ·é—®é¢˜ã€‚\n\nå‚è€ƒèµ„æ–™ï¼š\n{context}\n\nç”¨æˆ·é—®é¢˜ï¼š{query}\n\nè¯·å›ç­”ï¼š\n    \n    return prompt\n</code></pre>\n<p>è¿™ä¸ªPromptæœ‰å‡ ä¸ªä¸¥é‡é—®é¢˜ï¼š</p>\n<p><strong>é—®é¢˜ä¸€ï¼šå¤§æ¨¡å‹ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™è¯¥è¯´ä¸çŸ¥é“ã€‚</strong> å½“å‚è€ƒèµ„æ–™é‡Œç¡®å®æ²¡æœ‰ç­”æ¡ˆæ—¶ï¼Œå®ƒè¿˜æ˜¯ä¼šç¼–ä¸€ä¸ªå‡ºæ¥ã€‚</p>\n<p><strong>é—®é¢˜äºŒï¼šæ²¡æœ‰å¼•å¯¼å¤§æ¨¡å‹è¯´æ˜ä¿¡æ¯æ¥æºã€‚</strong> ç”¨æˆ·çœ‹åˆ°ç­”æ¡ˆï¼Œä¸çŸ¥é“æ˜¯ä»å“ªç¯‡æ–‡æ¡£é‡Œæ¥çš„ï¼Œæ— æ³•è¿½æº¯å’ŒéªŒè¯ã€‚</p>\n<p><strong>é—®é¢˜ä¸‰ï¼šå¯¹äºå¤æ‚é—®é¢˜ï¼Œå›ç­”çš„ç»“æ„ä¸å¤Ÿæ¸…æ™°ã€‚</strong></p>\n<p>åæ¥è¿­ä»£äº†å¾ˆå¤šç‰ˆï¼Œæœ€ç»ˆç¨³å®šä¸‹æ¥çš„Promptæ˜¯è¿™æ ·çš„ï¼š</p>\n<pre><code class=\"language-python\">def build_rag_prompt(query: str, context_docs: list, \n                     include_sources: bool = True) -&gt; str:\n    \n    ç”Ÿäº§ç¯å¢ƒä½¿ç”¨çš„Promptæ¨¡æ¿\n    å…³é”®è®¾è®¡ï¼šæ˜ç¡®è§’è‰²å®šä½ã€é™åˆ¶å›ç­”èŒƒå›´ã€è¦æ±‚æ ‡æ³¨æ¥æº\n    \n    \n    # æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼Œæ¯æ®µéƒ½æ ‡æ³¨æ¥æº\n    context_parts = []\n    for i, doc in enumerate(context_docs, 1):\n        source = doc.get('context_path', 'æœªçŸ¥æ¥æº')\n        context_parts.append(fã€èµ„æ–™{i}ï¼Œæ¥æºï¼š{source}ã€‘\\n{doc['content']})\n    \n    context = \\n\\n\\n\\n.join(context_parts)\n    \n    prompt = fä½ æ˜¯ä¸€ä¸ªä¼ä¸šå†…éƒ¨çŸ¥è¯†åº“åŠ©æ‰‹ï¼Œä¸“é—¨å¸®åŠ©å‘˜å·¥æŸ¥æ‰¾å’Œç†è§£å…¬å¸å†…éƒ¨æ–‡æ¡£ã€‚\n\n## ä½ çš„å·¥ä½œå‡†åˆ™\n\n1. **åªæ ¹æ®æä¾›çš„å‚è€ƒèµ„æ–™å›ç­”é—®é¢˜**ï¼Œä¸è¦ä½¿ç”¨ä½ è‡ªå·±çš„çŸ¥è¯†ã€‚\n2. å¦‚æœå‚è€ƒèµ„æ–™ä¸­æ²¡æœ‰ç›¸å…³ä¿¡æ¯ï¼Œè¯·æ˜ç¡®è¯´æ ¹æ®ç°æœ‰èµ„æ–™ï¼Œæˆ‘æ— æ³•æ‰¾åˆ°å…³äºè¿™ä¸ªé—®é¢˜çš„ä¿¡æ¯ï¼Œå¹¶å»ºè®®ç”¨æˆ·è”ç³»ç›¸å…³éƒ¨é—¨æˆ–æ¢ä¸ªå…³é”®è¯æœç´¢ã€‚\n3. å›ç­”æ—¶è¯·æ ‡æ³¨ä¿¡æ¯æ¥æºï¼Œæ ¼å¼å¦‚ã€èµ„æ–™1ã€‘ï¼Œæ–¹ä¾¿ç”¨æˆ·è¿½æº¯åŸæ–‡ã€‚\n4. å¯¹äºæ“ä½œç±»é—®é¢˜ï¼Œè¯·æŒ‰æ­¥éª¤æ¸…æ™°åœ°åˆ—å‡ºï¼›å¯¹äºæ¦‚å¿µç±»é—®é¢˜ï¼Œå…ˆç»™å‡ºç®€æ˜å®šä¹‰å†å±•å¼€è§£é‡Šã€‚\n5. å¦‚æœä¸åŒèµ„æ–™ä¸­çš„ä¿¡æ¯æœ‰å†²çªï¼Œè¯·æŒ‡å‡ºå·®å¼‚å¹¶è¯´æ˜å„è‡ªçš„é€‚ç”¨åœºæ™¯ã€‚\n\n## å‚è€ƒèµ„æ–™\n\n{context}\n\n## ç”¨æˆ·é—®é¢˜\n\n{query}\n\n## å›ç­”è¦æ±‚\n\nè¯·æ ¹æ®ä¸Šè¿°å‚è€ƒèµ„æ–™å›ç­”ç”¨æˆ·é—®é¢˜ã€‚è®°ä½ï¼š\n- åªä½¿ç”¨å‚è€ƒèµ„æ–™ä¸­çš„ä¿¡æ¯\n- æ ‡æ³¨ä¿¡æ¯æ¥æº\n- æ²¡æœ‰æŠŠæ¡çš„å†…å®¹ä¸è¦ç¼–é€ \n\n    \n    return prompt\n\n\ndef build_conversational_prompt(query: str, context_docs: list, \n                                 chat_history: list = None) -&gt; str:\n    \n    æ”¯æŒå¤šè½®å¯¹è¯çš„Prompt\n    éœ€è¦å¸¦ä¸Šå†å²å¯¹è¯è®°å½•ï¼Œè®©å¤§æ¨¡å‹ç†è§£ä¸Šä¸‹æ–‡\n    \n    \n    context_parts = []\n    for i, doc in enumerate(context_docs, 1):\n        source = doc.get('context_path', 'æœªçŸ¥æ¥æº')\n        context_parts.append(fã€èµ„æ–™{i}ï¼Œæ¥æºï¼š{source}ã€‘\\n{doc['content']})\n    context = \\n\\n\\n\\n.join(context_parts)\n    \n    # æ ¼å¼åŒ–å†å²å¯¹è¯\n    history_text = \n    if chat_history:\n        history_parts = []\n        for turn in chat_history[-5:]:  # åªä¿ç•™æœ€è¿‘5è½®ï¼Œé¿å…å¤ªé•¿\n            history_parts.append(fç”¨æˆ·ï¼š{turn['user']})\n            history_parts.append(fåŠ©æ‰‹ï¼š{turn['assistant']})\n        history_text = \\n.join(history_parts)\n    \n    prompt = fä½ æ˜¯ä¸€ä¸ªä¼ä¸šå†…éƒ¨çŸ¥è¯†åº“åŠ©æ‰‹ã€‚\n\n## å‚è€ƒèµ„æ–™\n\n{context}\n\n## å¯¹è¯å†å²\n\n{history_text if history_text else ï¼ˆè¿™æ˜¯å¯¹è¯çš„å¼€å§‹ï¼‰}\n\n## å½“å‰é—®é¢˜\n\nç”¨æˆ·ï¼š{query}\n\n## å›ç­”å‡†åˆ™\n\n1. ä¼˜å…ˆæ ¹æ®å‚è€ƒèµ„æ–™å›ç­”ï¼Œå¦‚æ— ç›¸å…³ä¿¡æ¯è¯·æ˜ç¡®è¯´æ˜\n2. è€ƒè™‘å¯¹è¯å†å²çš„ä¸Šä¸‹æ–‡ï¼ˆå¦‚ç”¨æˆ·è¯´å®ƒå¯èƒ½æŒ‡ä»£ä¹‹å‰æåˆ°çš„æ¦‚å¿µï¼‰\n3. æ ‡æ³¨ä¿¡æ¯æ¥æº\n\nåŠ©æ‰‹ï¼š\n    \n    return prompt\n</code></pre>\n<p>å…³äºPromptï¼Œæˆ‘è¿˜æƒ³åˆ†äº«ä¸€ä¸ªå¾ˆé‡è¦çš„ç»éªŒï¼š<strong>ä¸è¦è¯•å›¾åœ¨ä¸€ä¸ªPrompté‡Œå¡å¤ªå¤šæŒ‡ä»¤</strong>ã€‚</p>\n<p>ä¸€å¼€å§‹æˆ‘æŠŠå„ç§è¦æ±‚éƒ½å†™è¿›å»ï¼šå›ç­”è¦å‡†ç¡®ã€è¦ç®€æ´ã€è¦å‹å¥½ã€è¦ä¸“ä¸šã€è¦æ ‡æ³¨æ¥æºã€è¦åˆ†æ­¥éª¤ã€é‡åˆ°ä¸ç¡®å®šè¦è¯´ä¸çŸ¥é“â€¦â€¦ç»“æœå‘ç°æ¨¡å‹åè€Œè¢«ç»•æ™•äº†ï¼Œæœ‰æ—¶å€™é¡¾äº†è¿™ä¸ªå¿˜äº†é‚£ä¸ªã€‚</p>\n<p>åæ¥æˆ‘çš„åšæ³•æ˜¯ï¼š<strong>åŒºåˆ†æ ¸å¿ƒæŒ‡ä»¤å’Œä¼˜åŒ–æŒ‡ä»¤ï¼Œæ ¸å¿ƒæŒ‡ä»¤å¿…é¡»ä¿ç•™ï¼Œä¼˜åŒ–æŒ‡ä»¤å¯ä»¥æ ¹æ®é—®é¢˜ç±»å‹åŠ¨æ€è°ƒæ•´ã€‚</strong></p>\n<pre><code class=\"language-python\">class PromptBuilder:\n    Promptæ„å»ºå™¨ï¼šæ ¹æ®é—®é¢˜ç±»å‹åŠ¨æ€è°ƒæ•´\n    \n    # æ ¸å¿ƒæŒ‡ä»¤â€”â€”ä»»ä½•æƒ…å†µéƒ½å¿…é¡»åŒ…å«\n    CORE_INSTRUCTIONS = \n1. åªä½¿ç”¨å‚è€ƒèµ„æ–™ä¸­çš„ä¿¡æ¯å›ç­”ï¼Œä¸è¦ç¼–é€ \n2. èµ„æ–™ä¸­æ²¡æœ‰çš„ä¿¡æ¯ï¼Œæ˜ç¡®è¯´æ— æ³•æ‰¾åˆ°ç›¸å…³ä¿¡æ¯\n3. æ ‡æ³¨ä¿¡æ¯æ¥æºã€èµ„æ–™Xã€‘\n\n    \n    # æ“ä½œç±»é—®é¢˜çš„é¢å¤–æŒ‡ä»¤\n    PROCEDURE_INSTRUCTIONS = \nå›ç­”æ ¼å¼è¦æ±‚ï¼š\n- æŒ‰æ­¥éª¤ç¼–å·åˆ—å‡ºï¼ˆç¬¬ä¸€æ­¥ã€ç¬¬äºŒæ­¥...ï¼‰\n- æ¯ä¸ªæ­¥éª¤è¦æ˜ç¡®æ“ä½œå¯¹è±¡å’Œæ“ä½œåŠ¨ä½œ\n- é‡è¦çš„è­¦å‘Šæˆ–æ³¨æ„äº‹é¡¹ç”¨âš ï¸æ ‡å‡º\n\n    \n    # æ¦‚å¿µè§£é‡Šç±»é—®é¢˜çš„é¢å¤–æŒ‡ä»¤\n    CONCEPT_INSTRUCTIONS = \nå›ç­”æ ¼å¼è¦æ±‚ï¼š\n- å…ˆç”¨ä¸€å¥è¯ç»™å‡ºæ ¸å¿ƒå®šä¹‰\n- å†è¯¦ç»†è§£é‡Šå…³é”®ç‚¹\n- å¦‚æœ‰å¿…è¦ï¼Œä¸¾ä¾‹è¯´æ˜\n\n    # æ•…éšœæ’æŸ¥ç±»é—®é¢˜çš„é¢å¤–æŒ‡ä»¤\n    TROUBLESHOOT_INSTRUCTIONS = \nå›ç­”æ ¼å¼è¦æ±‚ï¼š\n- å…ˆåˆ—å‡ºå¯èƒ½çš„åŸå› \n- é’ˆå¯¹æ¯ä¸ªåŸå› ç»™å‡ºæ’æŸ¥æ–¹æ³•\n- ç»™å‡ºè§£å†³æ–¹æ¡ˆæˆ–è§„é¿å»ºè®®\n\n    \n    @classmethod\n    def build(cls, query: str, context_docs: list, question_type: str = general) -&gt; str:\n        æ ¹æ®é—®é¢˜ç±»å‹æ„å»ºPrompt\n        \n        # ç®€å•çš„é—®é¢˜åˆ†ç±»é€»è¾‘ï¼ˆå®é™…é¡¹ç›®ä¸­å¯ä»¥ç”¨åˆ†ç±»æ¨¡å‹ï¼‰\n        if question_type == auto:\n            question_type = cls._classify_question(query)\n        \n        extra_instructions = \n        if question_type == procedure:\n            extra_instructions = cls.PROCEDURE_INSTRUCTIONS\n        elif question_type == concept:\n            extra_instructions = cls.CONCEPT_INSTRUCTIONS\n        elif question_type == troubleshoot:\n            extra_instructions = cls.TROUBLESHOOT_INSTRUCTIONS\n        \n        context = cls._format_context(context_docs)\n        \n        prompt = fä½ æ˜¯ä¼ä¸šå†…éƒ¨çŸ¥è¯†åº“åŠ©æ‰‹ã€‚\n\n## å¿…é¡»éµå®ˆçš„è§„åˆ™\n{cls.CORE_INSTRUCTIONS}\n\n{f## å›ç­”æ ¼å¼{extra_instructions} if extra_instructions else }\n\n## å‚è€ƒèµ„æ–™\n{context}\n\n## ç”¨æˆ·é—®é¢˜\n{query}\n\nè¯·å›ç­”ï¼š\n        \n        return prompt\n    \n    @classmethod\n    def _classify_question(cls, query: str) -&gt; str:\n        ç®€å•çš„é—®é¢˜åˆ†ç±»ï¼ˆåŸºäºå…³é”®è¯ï¼‰\n        procedure_keywords = [æ€ä¹ˆåš, å¦‚ä½•æ“ä½œ, æ­¥éª¤, æµç¨‹, æ€æ ·]\n        concept_keywords = [æ˜¯ä»€ä¹ˆ, ä»€ä¹ˆæ˜¯, å®šä¹‰, è§£é‡Š, åŒºåˆ«]\n        troubleshoot_keywords = [ä¸ºä»€ä¹ˆ, æŠ¥é”™, å¤±è´¥, å¼‚å¸¸, é—®é¢˜, æ•…éšœ]\n        \n        query_lower = query.lower()\n        \n        if any(kw in query_lower for kw in procedure_keywords):\n            return procedure\n        elif any(kw in query_lower for kw in concept_keywords):\n            return concept\n        elif any(kw in query_lower for kw in troubleshoot_keywords):\n            return troubleshoot\n        else:\n            return general\n    \n    @classmethod\n    def _format_context(cls, context_docs: list) -&gt; str:\n        parts = []\n        for i, doc in enumerate(context_docs, 1):\n            source = doc.get('context_path', 'æœªçŸ¥æ¥æº')\n            parts.append(fã€èµ„æ–™{i}ï¼Œæ¥æºï¼š{source}ã€‘\\n{doc['content']})\n        return \\n\\n\\n\\n.join(parts)\n</code></pre>\n<h2 id=\"äº”ä¸²èµ·æ¥å®Œæ•´çš„rag-pipeline\">äº”ã€ä¸²èµ·æ¥ï¼šå®Œæ•´çš„RAG Pipeline</h2>\n<p>å‰é¢è¯´äº†ä¸€å †ç»†èŠ‚ï¼Œç°åœ¨æŠŠå®ƒä»¬ä¸²æˆä¸€ä¸ªå®Œæ•´çš„Pipelineï¼š<br />\n<img alt=\"Mermaid Chart - Create complex, visual diagrams with text.-2026-01-13-113354.png\" class=\"lazyload\" /></p>\n<pre><code class=\"language-python\">from openai import OpenAI\nfrom typing import List, Dict, Optional\nimport json\n\nclass RAGPipeline:\n    \n    å®Œæ•´çš„RAGå¤„ç†æµç¨‹\n    æ–‡æ¡£åˆ‡åˆ† -&gt; å‘é‡åŒ–å­˜å‚¨ -&gt; æ£€ç´¢ -&gt; é‡æ’åº -&gt; ç”Ÿæˆå›ç­”\n    \n    \n    def __init__(self, \n                 llm_base_url: str = https://api.deepseek.com,\n                 llm_api_key: str = your-api-key,\n                 llm_model: str = deepseek-chat):\n        \n        # åˆå§‹åŒ–å„ä¸ªç»„ä»¶\n        self.splitter = SmartDocumentSplitter(max_chunk_size=800)\n        self.vector_store = VectorStore()\n        self.retriever = EnhancedRetriever(self.vector_store)\n        \n        # åˆå§‹åŒ–LLMå®¢æˆ·ç«¯ï¼ˆè¿™é‡Œç”¨DeepSeekï¼Œä¹Ÿå¯ä»¥æ¢æˆå…¶ä»–çš„ï¼‰\n        self.llm_client = OpenAI(base_url=llm_base_url, api_key=llm_api_key)\n        self.llm_model = llm_model\n        \n        self.collection_name = knowledge_base\n    \n    def ingest_documents(self, documents: List[Dict]):\n        \n        æ–‡æ¡£å…¥åº“\n        documentsæ ¼å¼ï¼š[{title: æ–‡æ¡£æ ‡é¢˜, content: æ–‡æ¡£å†…å®¹, source: æ¥æº}]\n        \n        print(få¼€å§‹å¤„ç† {len(documents)} ç¯‡æ–‡æ¡£...)\n        \n        all_chunks = []\n        for doc in documents:\n            # åœ¨å†…å®¹å‰åŠ ä¸Šæ ‡é¢˜ï¼Œå¸®åŠ©åˆ‡åˆ†å™¨è¯†åˆ«ç»“æ„\n            full_content = f# {doc['title']}\\n\\n{doc['content']}\n            \n            chunks = self.splitter.split_markdown(full_content)\n            \n            # ç»™æ¯ä¸ªchunkåŠ ä¸Šæ–‡æ¡£æ¥æºä¿¡æ¯\n            for chunk in chunks:\n                chunk['source_doc'] = doc.get('source', doc['title'])\n            \n            all_chunks.extend(chunks)\n        \n        print(fåˆ‡åˆ†åå…± {len(all_chunks)} ä¸ªç‰‡æ®µ)\n        \n        # åˆ›å»ºé›†åˆå¹¶æ’å…¥\n        self.vector_store.create_collection(self.collection_name)\n        self.vector_store.insert_documents(self.collection_name, all_chunks)\n        \n        print(æ–‡æ¡£å…¥åº“å®Œæˆï¼)\n    \n    def query(self, \n              question: str, \n              chat_history: Optional[List[Dict]] = None,\n              top_k: int = 5,\n              use_rerank: bool = True) -&gt; Dict:\n        \n        å¤„ç†ç”¨æˆ·æŸ¥è¯¢\n        è¿”å›ï¼š{answer: å›ç­”å†…å®¹, sources: [å¼•ç”¨çš„æ¥æº], retrieved_docs: [æ£€ç´¢åˆ°çš„æ–‡æ¡£]}\n        \n        \n        # 1. æ£€ç´¢ç›¸å…³æ–‡æ¡£\n        if use_rerank:\n            retrieved_docs = self.retriever.retrieve_with_rerank(\n                self.collection_name, question, \n                initial_top_k=20, final_top_k=top_k\n            )\n        else:\n            results = self.vector_store.search(self.collection_name, question, top_k=top_k)\n            retrieved_docs = [{\n                'content': hit.entity.get('content'),\n                'context_path': hit.entity.get('context_path'),\n                'score': hit.score\n            } for hit in results]\n        \n        if not retrieved_docs:\n            return {\n                answer: æŠ±æ­‰ï¼Œæˆ‘æ²¡æœ‰æ‰¾åˆ°ä¸æ‚¨é—®é¢˜ç›¸å…³çš„èµ„æ–™ã€‚æ‚¨å¯ä»¥å°è¯•æ¢ä¸ªå…³é”®è¯ï¼Œæˆ–è”ç³»ç›¸å…³éƒ¨é—¨è·å–å¸®åŠ©ã€‚,\n                sources: [],\n                retrieved_docs: []\n            }\n        \n        # 2. æ„å»ºPrompt\n        if chat_history:\n            prompt = build_conversational_prompt(question, retrieved_docs, chat_history)\n        else:\n            prompt = PromptBuilder.build(question, retrieved_docs, question_type=auto)\n        \n        # 3. è°ƒç”¨LLMç”Ÿæˆå›ç­”\n        response = self.llm_client.chat.completions.create(\n            model=self.llm_model,\n            messages=[{role: user, content: prompt}],\n            temperature=0.3,  # çŸ¥è¯†åº“é—®ç­”ç”¨è¾ƒä½çš„temperature\n            max_tokens=2000\n        )\n        \n        answer = response.choices[0].message.content\n        \n        # 4. æå–å¼•ç”¨çš„æ¥æº\n        sources = list(set([doc.get('context_path', 'æœªçŸ¥æ¥æº') for doc in retrieved_docs]))\n        \n        return {\n            answer: answer,\n            sources: sources,\n            retrieved_docs: retrieved_docs\n        }\n    \n    def evaluate_response(self, question: str, answer: str, \n                          ground_truth: str = None) -&gt; Dict:\n        \n        å›ç­”è´¨é‡è¯„ä¼°ï¼ˆå¯é€‰ï¼‰\n        ç”¨LLMè¯„ä¼°å›ç­”çš„è´¨é‡ï¼Œæ–¹ä¾¿æŒç»­ä¼˜åŒ–\n        \n        eval_prompt = fè¯·è¯„ä¼°ä»¥ä¸‹é—®ç­”çš„è´¨é‡ã€‚\n\né—®é¢˜ï¼š{question}\n\nå›ç­”ï¼š{answer}\n\n{få‚è€ƒç­”æ¡ˆï¼š{ground_truth} if ground_truth else }\n\nè¯·ä»ä»¥ä¸‹ç»´åº¦è¯„åˆ†ï¼ˆ1-5åˆ†ï¼‰å¹¶è¯´æ˜ç†ç”±ï¼š\n1. ç›¸å…³æ€§ï¼šå›ç­”æ˜¯å¦åˆ‡é¢˜\n2. å‡†ç¡®æ€§ï¼šä¿¡æ¯æ˜¯å¦æ­£ç¡®\n3. å®Œæ•´æ€§ï¼šæ˜¯å¦å®Œæ•´è§£ç­”äº†é—®é¢˜\n4. å¯è¯»æ€§ï¼šè¡¨è¿°æ˜¯å¦æ¸…æ™°æ˜“æ‡‚\n\nè¯·ç”¨JSONæ ¼å¼è¾“å‡ºï¼š{{relevance: åˆ†æ•°, accuracy: åˆ†æ•°, completeness: åˆ†æ•°, readability: åˆ†æ•°, comments: è¯„ä»·è¯´æ˜}}\n        \n        response = self.llm_client.chat.completions.create(\n            model=self.llm_model,\n            messages=[{role: user, content: eval_prompt}],\n            temperature=0\n        )\n        \n        try:\n            eval_result = json.loads(response.choices[0].message.content)\n            return eval_result\n        except:\n            return {error: è¯„ä¼°ç»“æœè§£æå¤±è´¥}\n\n\n# ä½¿ç”¨ç¤ºä¾‹\nif __name__ == __main__:\n    # åˆå§‹åŒ–Pipeline\n    rag = RAGPipeline(\n        llm_base_url=https://api.deepseek.com,\n        llm_api_key=your-api-key,\n        llm_model=deepseek-chat\n    )\n    \n    # å‡†å¤‡æµ‹è¯•æ–‡æ¡£\n    test_documents = [\n        {\n            title: MySQLä¸»ä»åˆ‡æ¢æ“ä½œæ‰‹å†Œ,\n            content: \"\"\"\n\t\t\t\t## 1. å‰ç½®æ£€æŸ¥\n\t\t\t\tåœ¨æ‰§è¡Œä¸»ä»åˆ‡æ¢ä¹‹å‰ï¼Œå¿…é¡»å®Œæˆä»¥ä¸‹æ£€æŸ¥ï¼š\n\t\t\t\t- ç¡®è®¤ä»åº“åŒæ­¥çŠ¶æ€æ­£å¸¸ï¼ˆSeconds_Behind_Master = 0ï¼‰\n\t\t\t\t- ç¡®è®¤æ²¡æœ‰æ­£åœ¨æ‰§è¡Œçš„å¤§äº‹åŠ¡\n\t\t\t\t- é€šçŸ¥ç›¸å…³ä¸šåŠ¡æ–¹ï¼Œç¡®è®¤åˆ‡æ¢æ—¶é—´çª—å£\n\n\t\t\t\t## 2. åˆ‡æ¢æ­¥éª¤\n\t\t\t\t### 2.1 åœ¨ä¸»åº“æ‰§è¡Œåªè¯»è®¾ç½®\n\t\t\t\tSET GLOBAL read_only = 1;\n\t\t\t\t### 2.2 ç­‰å¾…ä»åº“å®Œå…¨åŒæ­¥\n\t\t\t\tåœ¨ä»åº“æ‰§è¡Œ SHOW SLAVE STATUSï¼Œç¡®è®¤ Seconds_Behind_Master = 0\n\n\t\t\t\t### 2.3 åœæ­¢ä»åº“å¤åˆ¶å¹¶æå‡ä¸ºä¸»åº“\n\t\t\t\tSTOP SLAVE;\n\t\t\t\tRESET SLAVE ALL;\n\t\t\t\tSET GLOBAL read_only = 0;\n\n\t\t\t\t## 3. åˆ‡æ¢åéªŒè¯\n\t\t\t\t- ç¡®è®¤æ–°ä¸»åº“å¯ä»¥æ­£å¸¸å†™å…¥\n\t\t\t\t- ç¡®è®¤åº”ç”¨è¿æ¥å·²åˆ‡æ¢åˆ°æ–°ä¸»åº“\n\t\t\t\t- ç›‘æ§æ–°ä¸»åº“çš„æ€§èƒ½æŒ‡æ ‡\n\t\t\t\t\"\"\",\n            source: DBAå›¢é˜Ÿæ–‡æ¡£\n        }\n    ]\n    \n    # å…¥åº“\n    rag.ingest_documents(test_documents)\n    \n    # æµ‹è¯•æŸ¥è¯¢\n    result = rag.query(MySQLåˆ‡æ¢å‰éœ€è¦åšå“ªäº›æ£€æŸ¥ï¼Ÿ)\n    \n    print(= * 50)\n    print(é—®é¢˜ï¼šMySQLåˆ‡æ¢å‰éœ€è¦åšå“ªäº›æ£€æŸ¥ï¼Ÿ)\n    print(= * 50)\n    print(f\\nå›ç­”ï¼š\\n{result['answer']})\n    print(f\\nå‚è€ƒæ¥æºï¼š{result['sources']})\n\n</code></pre>\n<h2 id=\"å…­ä¸Šçº¿åçš„ä¸€äº›ç»éªŒæ•™è®­\">å…­ã€ä¸Šçº¿åçš„ä¸€äº›ç»éªŒæ•™è®­</h2>\n<p>ç³»ç»Ÿä¸Šçº¿åˆ°ç°åœ¨å·®ä¸å¤šä¸¤ä¸ªæœˆäº†ï¼ŒæœŸé—´åˆè¸©äº†ä¸å°‘å‘ï¼Œè¿™é‡ŒæŒ‘å‡ ä¸ªå°è±¡æœ€æ·±çš„è¯´è¯´ã€‚</p>\n<h3 id=\"æ•™è®­ä¸€ç”¨æˆ·çš„é—®é¢˜åƒå¥‡ç™¾æ€ª\">æ•™è®­ä¸€ï¼šç”¨æˆ·çš„é—®é¢˜åƒå¥‡ç™¾æ€ª</h3>\n<p>æˆ‘ä»¬åœ¨è®¾è®¡æ—¶å‡è®¾ç”¨æˆ·ä¼šé—®MySQLæ€ä¹ˆåšä¸»ä»åˆ‡æ¢è¿™ç§æ­£å¸¸é—®é¢˜ã€‚ä½†å®é™…ä¸Šå‘¢ï¼Ÿ</p>\n<p>æœ‰äººé—®ï¼šä¸Šæ¬¡é‚£ä¸ªäº‹æ•…æ€ä¹ˆå¤„ç†çš„æ¥ç€ï¼Ÿâ€”â€”æ²¡æœ‰ä»»ä½•ä¸Šä¸‹æ–‡ï¼Œç³»ç»Ÿæ ¹æœ¬ä¸çŸ¥é“é‚£ä¸ªäº‹æ•…æ˜¯å“ªä¸ªã€‚</p>\n<p>æœ‰äººé—®ï¼šå¸®æˆ‘å†™ä¸ªSQLã€‚â€”â€”è¿™æ ¹æœ¬ä¸æ˜¯çŸ¥è¯†åº“é—®ç­”ï¼Œè¿™æ˜¯è®©å¤§æ¨¡å‹å¸®å†™ä»£ç ã€‚</p>\n<p>è¿˜æœ‰äººé—®ï¼šåœ¨å—ï¼Ÿâ€”â€”æˆ‘ä¹Ÿä¸çŸ¥é“ä»–æƒ³å¹²å•¥ã€‚</p>\n<p>åæ¥æˆ‘åŠ äº†ä¸€ä¸ªæ„å›¾è¯†åˆ«å±‚ï¼Œå…ˆåˆ¤æ–­ç”¨æˆ·çš„é—®é¢˜æ˜¯å¦å±äºçŸ¥è¯†åº“é—®ç­”çš„èŒƒç•´ï¼š</p>\n<pre><code class=\"language-python\">def classify_intent(self, query: str) -&gt; str:\n    \"\"\"è¯†åˆ«ç”¨æˆ·æ„å›¾\"\"\"\n    intent_prompt = f\"\"\"åˆ¤æ–­ç”¨æˆ·è¾“å…¥çš„æ„å›¾ç±»åˆ«ï¼Œåªè¾“å‡ºç±»åˆ«åç§°ï¼š\n- knowledge_queryï¼šæŸ¥è¯¢çŸ¥è¯†åº“ä¿¡æ¯ï¼ˆå¦‚è¯¢é—®æµç¨‹ã€è§„èŒƒã€æ“ä½œæ–¹æ³•ï¼‰\n- code_requestï¼šè¯·æ±‚ç”Ÿæˆä»£ç \n- chitchatï¼šé—²èŠæˆ–æ— æ˜ç¡®æ„å›¾\n- otherï¼šå…¶ä»–\n\nç”¨æˆ·è¾“å…¥ï¼š{query}\n\næ„å›¾ç±»åˆ«ï¼š\"\"\"\n    \n    response = self.llm_client.chat.completions.create(\n        model=self.llm_model,\n        messages=[{\"role\": \"user\", \"content\": intent_prompt}],\n        temperature=0,\n        max_tokens=20\n    )\n    \n    return response.choices[0].message.content.strip()\n</code></pre>\n<p>å¯¹äºéçŸ¥è¯†åº“é—®ç­”çš„æ„å›¾ï¼Œç»™ç”¨æˆ·ä¸€ä¸ªå‹å¥½çš„æç¤ºè€Œä¸æ˜¯ç¡¬ç€å¤´çš®æ£€ç´¢ã€‚</p>\n<h3 id=\"æ•™è®­äºŒå†·å¯åŠ¨æ—¶çš„å°´å°¬\">æ•™è®­äºŒï¼šå†·å¯åŠ¨æ—¶çš„å°´å°¬</h3>\n<p>ç³»ç»Ÿåˆšä¸Šçº¿æ—¶ï¼ŒçŸ¥è¯†åº“é‡Œçš„æ–‡æ¡£ä¸å¤šï¼Œè¦†ç›–çš„åœºæ™¯æœ‰é™ã€‚ç”¨æˆ·é—®äº†å‡ ä¸ªé—®é¢˜éƒ½ç­”ä¸ä¸Šæ¥ï¼Œä½“éªŒç‰¹åˆ«å·®ï¼Œäºæ˜¯å°±ä¸æ¥ç”¨äº†ã€‚</p>\n<p>åæ¥çš„è§£å†³åŠæ³•ï¼š</p>\n<ol>\n<li>ä¸Šçº¿å‰å…ˆæ¢³ç†é«˜é¢‘é—®é¢˜ï¼Œç¡®ä¿è‡³å°‘è¿™äº›é—®é¢˜èƒ½å›ç­”å¥½</li>\n<li>æäº†ä¸€ä¸ªé—®é¢˜æ”¶é›†åŠŸèƒ½ï¼Œå¯¹äºç­”ä¸ä¸Šæ¥çš„é—®é¢˜ï¼Œè®°å½•ä¸‹æ¥åé¦ˆç»™å†…å®¹å›¢é˜Ÿï¼Œè®©ä»–ä»¬è¡¥å……ç›¸å…³æ–‡æ¡£</li>\n<li>åšäº†ä¸€ä¸ªå…œåº•ç­–ç•¥â€”â€”å¦‚æœæ£€ç´¢ä¸åˆ°é«˜ç›¸å…³åº¦çš„å†…å®¹ï¼Œå°±å±•ç¤ºç›¸å…³æ¨èï¼ŒæŠŠä¸€äº›ç›¸ä¼¼åº¦å°šå¯çš„æ–‡æ¡£æ ‡é¢˜åˆ—å‡ºæ¥ï¼Œå¼•å¯¼ç”¨æˆ·è‡ªå·±å»çœ‹</li>\n</ol>\n<h3 id=\"æ•™è®­ä¸‰æ–‡æ¡£æ›´æ–°çš„åŒæ­¥é—®é¢˜\">æ•™è®­ä¸‰ï¼šæ–‡æ¡£æ›´æ–°çš„åŒæ­¥é—®é¢˜</h3>\n<p>çŸ¥è¯†åº“çš„æ–‡æ¡£æ˜¯ä¼šæ›´æ–°çš„ã€‚è€ç‰ˆæœ¬çš„æ“ä½œæ‰‹å†ŒåºŸå¼ƒäº†ï¼Œæ–°ç‰ˆæœ¬å‘å¸ƒäº†ã€‚ä½†å¦‚æœå‘é‡æ•°æ®åº“é‡Œè¿˜å­˜ç€è€ç‰ˆæœ¬çš„å†…å®¹ï¼Œç”¨æˆ·æ£€ç´¢åˆ°çš„å¯èƒ½æ˜¯è¿‡æ—¶ä¿¡æ¯ã€‚</p>\n<p>è¿™ä¸ªé—®é¢˜è¯´èµ·æ¥ç®€å•ï¼Œåšèµ·æ¥æŒºéº»çƒ¦çš„ã€‚æˆ‘ä»¬æœ€åçš„æ–¹æ¡ˆæ˜¯ï¼š</p>\n<ol>\n<li>æ¯ä¸ªæ–‡æ¡£å…¥åº“æ—¶è®°å½•ç‰ˆæœ¬å·å’Œæ›´æ–°æ—¶é—´</li>\n<li>å®šæœŸå…¨é‡é‡æ–°å…¥åº“ï¼ˆæˆ‘ä»¬æ˜¯æ¯å‘¨ä¸€æ¬¡ï¼‰</li>\n<li>å¯¹äºç´§æ€¥æ›´æ–°çš„é‡è¦æ–‡æ¡£ï¼Œæ”¯æŒæ‰‹åŠ¨è§¦å‘å•ç¯‡é‡å…¥åº“</li>\n</ol>\n<h2 id=\"ä¸ƒæ€§èƒ½ä¼˜åŒ–è®©ç³»ç»Ÿä¸é‚£ä¹ˆæ…¢\">ä¸ƒã€æ€§èƒ½ä¼˜åŒ–ï¼šè®©ç³»ç»Ÿä¸é‚£ä¹ˆæ…¢</h2>\n<p>RAGç³»ç»Ÿæœ‰ä¸ªè®©äººå¤´ç–¼çš„é—®é¢˜â€”â€”æ…¢ã€‚</p>\n<p>æ•´ä¸ªæµç¨‹è·‘ä¸€éï¼šEmbeddingç¼–ç ã€å‘é‡æ£€ç´¢ã€é‡æ’åºã€LLMç”Ÿæˆï¼Œå…¨éƒ¨åŠ èµ·æ¥å¯èƒ½è¦å¥½å‡ ç§’ã€‚ç”¨æˆ·ä½“éªŒå°±å¾ˆå·®ï¼Œé—®ä¸€ä¸ªé—®é¢˜è¦ç­‰åŠå¤©ã€‚</p>\n<p><img alt=\"image.png\" class=\"lazyload\" /></p>\n<p>å‡ ä¸ªä¼˜åŒ–æªæ–½ï¼š</p>\n<pre><code class=\"language-python\">import asyncio\nfrom functools import lru_cache\nimport hashlib\n\nclass OptimizedRAG:\n    æ€§èƒ½ä¼˜åŒ–ç‰ˆRAG\n    \n    def __init__(self):\n        # ç¼“å­˜çƒ­é—¨æŸ¥è¯¢çš„ç»“æœ\n        self.query_cache = {}\n        self.cache_ttl = 3600  # 1å°æ—¶è¿‡æœŸ\n    \n    @lru_cache(maxsize=1000)\n    def _compute_query_embedding(self, query: str):\n        \n        Embeddingç»“æœç¼“å­˜\n        åŒæ ·çš„é—®é¢˜ä¸ç”¨é‡å¤è®¡ç®—å‘é‡\n        \n        return self.model.encode([query], normalize_embeddings=True)[0]\n    \n    def _get_cache_key(self, query: str) -&gt; str:\n        ç”Ÿæˆç¼“å­˜key\n        return hashlib.md5(query.lower().strip().encode()).hexdigest()\n    \n    async def stream_query(self, question: str):\n        \n        æµå¼è¾“å‡º\n        ä¸ç”¨ç­‰æ•´ä¸ªå›ç­”ç”Ÿæˆå®Œï¼Œè¾¹ç”Ÿæˆè¾¹è¾“å‡º\n        \n        retrieved_docs = await asyncio.to_thread(\n            self.retriever.retrieve_with_rerank,\n            self.collection_name, question, 20, 5\n        )\n        \n        prompt = PromptBuilder.build(question, retrieved_docs, question_type=auto)\n        \n        # ä½¿ç”¨æµå¼API\n        stream = self.llm_client.chat.completions.create(\n            model=self.llm_model,\n            messages=[{role: user, content: prompt}],\n            temperature=0.3,\n            stream=True  # å¼€å¯æµå¼\n        )\n        \n        for chunk in stream:\n            if chunk.choices[0].delta.content:\n                yield chunk.choices[0].delta.content\n</code></pre>\n<p>æµå¼è¾“å‡ºè¿™ä¸€ç‚¹ç‰¹åˆ«é‡è¦ã€‚ç”¨æˆ·é—®å®Œé—®é¢˜åï¼Œé©¬ä¸Šå°±èƒ½çœ‹åˆ°å›ç­”åœ¨æ‰“å­—ï¼Œå¿ƒç†ä¸Šå°±ä¸ä¼šè§‰å¾—é‚£ä¹ˆæ…¢äº†ã€‚</p>\n<h2 id=\"å…«å›é¡¾ä¸æ€è€ƒ\">å…«ã€å›é¡¾ä¸æ€è€ƒ</h2>\n<p>æŠŠè¿™å¥—ç³»ç»Ÿä»è¢«éª‚ä¸‹çº¿åˆ°æˆä¸ºéƒ¨é—¨æ ‡é…ï¼Œå‰åæŠ˜è…¾äº†å°†è¿‘ä¸€ä¸ªæœˆã€‚è¶Ÿè¿‡çš„å‘æŒºå¤šï¼Œä½†æ”¶è·ä¹Ÿå¾ˆå¤§ã€‚</p>\n<p>å‡ ç‚¹æ ¸å¿ƒæ€»ç»“ï¼š</p>\n<p><strong>1. RAGä¸æ˜¯ä¸‡èƒ½çš„ï¼Œé€‰å¥½é€‚ç”¨åœºæ™¯</strong></p>\n<p>RAGé€‚åˆæœ‰æ˜ç¡®çŸ¥è¯†åº“ã€ç­”æ¡ˆå¯è¿½æº¯çš„åœºæ™¯ã€‚å¦‚æœä½ çš„éœ€æ±‚æ˜¯è®©å¤§æ¨¡å‹å‘æŒ¥åˆ›é€ åŠ›ï¼ˆæ¯”å¦‚å†™æ–‡æ¡ˆã€åšåˆ›æ„ï¼‰ï¼Œé‚£RAGåè€Œæ˜¯ä¸ªçº¦æŸã€‚</p>\n<p><strong>2. åˆ‡åˆ†å’Œæ£€ç´¢æ˜¯æ ¹åŸº</strong></p>\n<p>å¤§å®¶å¾€å¾€æŠŠæ³¨æ„åŠ›æ”¾åœ¨å¤§æ¨¡å‹æœ¬èº«ï¼Œè§‰å¾—ç”¨æ›´å¼ºçš„æ¨¡å‹å°±èƒ½è§£å†³é—®é¢˜ã€‚ä½†å®é™…ä¸Šï¼Œå¦‚æœå‰é¢çš„åˆ‡åˆ†å’Œæ£€ç´¢åšå¾—ä¸å¥½ï¼Œå†å¼ºçš„æ¨¡å‹ä¹Ÿæ˜¯å·§å¦‡éš¾ä¸ºæ— ç±³ä¹‹ç‚Šã€‚</p>\n<p><strong>3. Promptå·¥ç¨‹çœŸçš„æ˜¯é—¨æ‰‹è‰º</strong></p>\n<p>åŒæ ·çš„æ£€ç´¢ç»“æœï¼Œä¸åŒçš„Promptå¯èƒ½å¸¦æ¥å¤©å£¤ä¹‹åˆ«çš„å›ç­”æ•ˆæœã€‚è¿™ä¸ªæ²¡ä»€ä¹ˆæ·å¾„ï¼Œå°±æ˜¯å¤šè¯•ã€å¤šçœ‹ã€å¤šè¿­ä»£ã€‚</p>\n<p><strong>4. ä¸Šçº¿åªæ˜¯å¼€å§‹</strong></p>\n<p>çœŸæ­£çš„æŒ‘æˆ˜åœ¨ä¸Šçº¿ä¹‹åã€‚ç”¨æˆ·çš„å„ç§å¥‡è‘©è¾“å…¥ã€æ–‡æ¡£çš„æŒç»­æ›´æ–°ã€æ€§èƒ½çš„ä¼˜åŒ–ã€æ•ˆæœçš„ç›‘æ§â€¦â€¦æ¯ä¸€é¡¹éƒ½æ˜¯æŒç»­çš„å·¥ä½œã€‚</p>\n<p><img alt=\"image.png\" class=\"lazyload\" /></p>\n<p>æœ€åï¼Œé™„ä¸Šè¿™å¥—ç³»ç»Ÿç›®å‰çš„ä¸€äº›æ ¸å¿ƒæŒ‡æ ‡ï¼š</p>\n<ul>\n<li>æ—¥å‡æŸ¥è¯¢é‡ï¼š200+æ¬¡</li>\n<li>å¹³å‡å“åº”æ—¶é—´ï¼š2.3ç§’ï¼ˆå¼€å¯æµå¼åé¦–å­—ç¬¦å»¶è¿Ÿçº¦0.8ç§’ï¼‰</li>\n<li>ç”¨æˆ·æ»¡æ„åº¦ï¼ˆé€šè¿‡å›ç­”åçš„ç‚¹èµ/ç‚¹è¸©æ”¶é›†ï¼‰ï¼šçº¦72%</li>\n<li>æ— æ³•å›ç­”çš„æ¯”ä¾‹ï¼šçº¦22%ï¼ˆè¿™éƒ¨åˆ†ä¼šå®šæœŸåˆ†æï¼Œæ¨åŠ¨è¡¥å……æ–‡æ¡£ï¼‰</li>\n</ul>\n<p>æ•°å­—ä¸ç®—ç‰¹åˆ«äº®çœ¼ï¼Œä½†æ¯”èµ·ä¹‹å‰é‚£ä¸ªæ²¡äººç”¨çš„å…³é”®è¯æœç´¢ï¼Œå·²ç»æ˜¯è´¨çš„é£è·ƒäº†ã€‚å¦‚æœä½ ä¹Ÿåœ¨åšç±»ä¼¼çš„é¡¹ç›®ï¼Œå¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®ä½ å°‘è¸©ä¸€äº›å‘ã€‚æœ‰é—®é¢˜æ¬¢è¿è¯„è®ºåŒºäº¤æµï¼</p>\n\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-02-10 22:10</span>&nbsp;\n<a href=\"https://www.cnblogs.com/bu-huo\">å¼ ä¸æƒ‘</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">0</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    }
  ]
}