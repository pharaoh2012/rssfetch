{
  "title": "ä¸»é¡µ - åšå®¢å›­",
  "link": "https://www.cnblogs.com/",
  "description": "ä¸»é¡µ - åšå®¢å›­ RSS",
  "entries": [
    {
      "title": "Vite7+DeepSeekç½‘é¡µç‰ˆAiåŠ©æ‰‹|vue3+arcoç½‘é¡µwebæµå¼ç”ŸæˆaièŠå¤©é—®ç­”ç³»ç»Ÿ",
      "link": "https://www.cnblogs.com/xiaoyan2017/p/19440082",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/xiaoyan2017/p/19440082\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-05 00:08\">\n    <span>Vite7+DeepSeekç½‘é¡µç‰ˆAiåŠ©æ‰‹|vue3+arcoç½‘é¡µwebæµå¼ç”ŸæˆaièŠå¤©é—®ç­”ç³»ç»Ÿ</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body blogpost-body-html\" id=\"cnblogs_post_body\">\n<p><span>2026æ¬¾<span style=\"background-color: rgba(204, 255, 153, 1);\">vue3.5+vite7.2+deepseek-v3.2+arco</span>æ‰“é€ <span style=\"background-color: rgba(204, 255, 255, 1);\">ç½‘é¡µwebç‰ˆ</span>æµå¼aiä¼šè¯æ¨¡æ¿ã€‚</span></p>\n<p><span style=\"font-size: 12px;\"><strong>vite7-webseek</strong>ï¼šåŸºäº<span style=\"background-color: rgba(255, 255, 153, 1);\">vite7.2+vue3.5+arco-design+markdown</span>è°ƒç”¨<strong>deepseek-v3.2</strong> APIä¼šè¯å¤§æ¨¡å‹ã€‚æä¾›<strong>æš—é»‘+æµ…è‰²</strong>ä¸»é¢˜ç•Œé¢ã€<span style=\"background-color: rgba(204, 255, 204, 1);\">æ–°å¢æ·±åº¦æ€è€ƒã€ä»£ç é«˜äº®/å¤åˆ¶ã€Katexæ•°å­¦å…¬å¼ã€Mermaidå›¾è¡¨æ¸²æŸ“</span>ã€‚</span></p>\n<p><img alt=\"æœªæ ‡é¢˜-kk\" class=\"lazyload\" /></p>\n<p><img alt=\"p4\" class=\"lazyload\" /></p>\n<h3>ä½¿ç”¨æŠ€æœ¯</h3>\n<ul>\n<li><span style=\"font-size: 12px;\">ç¼–è¾‘å™¨ï¼švscode</span></li>\n<li><span style=\"font-size: 12px;\">å‰ç«¯æŠ€æœ¯æ¡†æ¶ï¼švite^7.2.4+vue^3.5.24+vue-router^4.6.4</span></li>\n<li><span style=\"font-size: 12px;\">aiå¤§æ¨¡å‹æ¡†æ¶ï¼šDeepSeek-R1 + OpenAI</span></li>\n<li><span style=\"font-size: 12px;\">ç»„ä»¶åº“ï¼šarco-design^2.57.0 (å­—èŠ‚æ¡Œé¢ç«¯ç»„ä»¶åº“)</span></li>\n<li><span style=\"font-size: 12px;\">çŠ¶æ€ç®¡ç†ï¼špinia^3.0.4</span></li>\n<li><span style=\"font-size: 12px;\">æœ¬åœ°å­˜å‚¨ï¼špinia-plugin-persistedstate^4.7.1</span></li>\n<li><span style=\"font-size: 12px;\">é«˜äº®æ’ä»¶ï¼šhighlight.js^11.11.1</span></li>\n<li><span style=\"font-size: 12px;\">markdownæ’ä»¶ï¼šmarkdown-it</span></li>\n<li><span style=\"font-size: 12px;\">katexå…¬å¼ï¼š@mdit/plugin-katex^0.24.1</span></li>\n</ul>\n<p><img alt=\"p3\" class=\"lazyload\" /></p>\n<p><img alt=\"p4-1\" class=\"lazyload\" /></p>\n<h3>åŠŸèƒ½æ€§</h3>\n<ol>\n<li><span style=\"font-size: 12px;\">åŸºäºVite7.2æ¥å…¥DeepSeekæµå¼ä¸æ»‘æ‰“å­—è¾“å‡ºæ•ˆæœ</span></li>\n<li><span style=\"font-size: 12px;\">æä¾›æš—é»‘+æµ…è‰²ä¸¤ç§ä¸»é¢˜ã€ä¾§è¾¹æ æ”¶ç¼©</span></li>\n<li><span style=\"font-size: 12px;\">æ”¯æŒä¸°å¯ŒMarkdownæ ·å¼ï¼Œä»£ç é«˜äº®/å¤åˆ¶/æ”¶ç¼©åŠŸèƒ½</span></li>\n<li><span style=\"font-size: 12px;\">æ–°å¢æ€è€ƒæ¨¡å¼DeepSeek-R1</span></li>\n<li><span style=\"font-size: 12px;\">æ”¯æŒKatexæ•°å­¦å…¬å¼</span></li>\n<li><span style=\"font-size: 12px;\">æ”¯æŒMermaidå„ç§ç”˜ç‰¹å›¾/æµç¨‹å›¾/ç±»å›¾ç­‰å›¾è¡¨</span></li>\n<li><span style=\"font-size: 12px;\">ä½¿ç”¨arco-designç»„ä»¶åº“ï¼Œé£æ ¼ç»Ÿä¸€ï¼Œç¾è§‚å¤§æ°”</span></li>\n</ol>\n<p><img alt=\"p4-4\" class=\"lazyload\" /></p>\n<h3>é¡¹ç›®ç»“æ„ç›®å½•</h3>\n<p><span style=\"font-size: 12px;\">vue3-webseekä½¿ç”¨æœ€æ–°ç‰ˆ<strong>vite7.2</strong>æ¥å…¥<strong>deepseek-v3.2</strong>æ­å»ºæµå¼aiå¯¹è¯ï¼Œé‡‡ç”¨&nbsp;<span class=\"cnblogs_code\">vue3 setup</span>&nbsp;è¯­æ³•ç³–ç¼–ç ã€‚</span></p>\n<p><img alt=\"360æˆªå›¾20260104095028897\" class=\"lazyload\" /></p>\n<blockquote>\n<h3><em>vite7-webseekç½‘é¡µç‰ˆaiå¯¹è¯ç³»ç»Ÿå·²ç»æ›´æ–°åˆ°æˆ‘çš„åŸåˆ›ä½œå“é›†ï¼Œæ¬¢è¿ä¸‹è½½ä½¿ç”¨ã€‚</em></h3>\n<p><span style=\"font-size: 12px;\"><a href=\"https://mall.bilibili.com/neul-next/detailuniversal/detail.html?page=detailuniversal_detail&amp;itemsId=11922437&amp;loadingShow=1&amp;noTitleBar=1#noReffer=true&amp;msource=merchant_share\" rel=\"noopener nofollow\" target=\"_blank\">Vue3+DeepSeek+ArcoDesignç½‘é¡µç‰ˆAIæµå¼å¯¹è¯æ¨¡æ¿</a></span></p>\n</blockquote>\n<h3>é¡¹ç›®è¿è¡Œé…ç½®</h3>\n<p><span style=\"font-size: 12px;\">è‡ªå·±ç”³è¯·ä¸€ä¸ªdeepseek apikeyï¼Œæ›¿æ¢æ‰é¡¹ç›®æ ¹ç›®å½•ä¸‹<strong>.env</strong>æ–‡ä»¶é‡Œçš„keyï¼Œå³å¯æ„‰å¿«ä½“éªŒaiæµå¼å¯¹è¯åŠŸèƒ½ã€‚</span></p>\n<p><img alt=\"image\" class=\"lazyload\" /></p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 0, 1);\"># title\nVITE_APP_TITLE </span>= 'Vue3-Web-DeepSeek'<span style=\"color: rgba(0, 0, 0, 1);\">\n\n# port\nVITE_PORT </span>= 3001<span style=\"color: rgba(0, 0, 0, 1);\">\n\n# è¿è¡Œæ—¶è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨\nVITE_OPEN </span>= <span style=\"color: rgba(0, 0, 255, 1);\">true</span><span style=\"color: rgba(0, 0, 0, 1);\">\n\n# å¼€å¯https\nVITE_HTTPS </span>= <span style=\"color: rgba(0, 0, 255, 1);\">false</span><span style=\"color: rgba(0, 0, 0, 1);\">\n\n# æ˜¯å¦åˆ é™¤ç”Ÿäº§ç¯å¢ƒ console\nVITE_DROP_CONSOLE </span>= <span style=\"color: rgba(0, 0, 255, 1);\">true</span><span style=\"color: rgba(0, 0, 0, 1);\">\n\n# DeepSeek APIé…ç½®\nVITE_DEEPSEEK_API_KEY </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> æ›¿æ¢ä¸ºä½ çš„ API Key\nVITE_DEEPSEEK_BASE_URL </span>= https:<span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\">api.deepseek.com</span></pre>\n</div>\n<p><img alt=\"æœªæ ‡é¢˜-bb\" class=\"lazyload\" /></p>\n<p><img alt=\"003360æˆªå›¾20260103091843214\" class=\"lazyload\" /></p>\n<h3>é€šç”¨å¸ƒå±€æ¨¡æ¿</h3>\n<p><img alt=\"image\" class=\"lazyload\" /></p>\n<p><span style=\"font-size: 12px;\">å¦‚ä¸‹å›¾ï¼šé¡¹ç›®æ•´ä½“ç»“æ„åˆ†ä¸º<strong>ä¾§è¾¹æ +é¡¶éƒ¨å¯¼èˆªæ +Aiå¯¹è¯åŒº</strong>ä¸‰å¤§æ¨¡å—ã€‚</span></p>\n<p><img alt=\"image\" class=\"lazyload\" /></p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">&lt;</span><span style=\"color: rgba(128, 0, 0, 1);\">script </span><span style=\"color: rgba(255, 0, 0, 1);\">setup</span><span style=\"color: rgba(0, 0, 255, 1);\">&gt;</span><span style=\"background-color: rgba(245, 245, 245, 1); color: rgba(0, 0, 0, 1);\">\n  import Sidebar from </span><span style=\"background-color: rgba(245, 245, 245, 1); color: rgba(0, 0, 0, 1);\">'</span><span style=\"background-color: rgba(245, 245, 245, 1); color: rgba(0, 0, 0, 1);\">@/layouts/components/sidebar/index.vue</span><span style=\"background-color: rgba(245, 245, 245, 1); color: rgba(0, 0, 0, 1);\">'</span>\n<span style=\"color: rgba(0, 0, 255, 1);\">&lt;/</span><span style=\"color: rgba(128, 0, 0, 1);\">script</span><span style=\"color: rgba(0, 0, 255, 1);\">&gt;</span>\n\n<span style=\"color: rgba(0, 0, 255, 1);\">&lt;</span><span style=\"color: rgba(128, 0, 0, 1);\">template</span><span style=\"color: rgba(0, 0, 255, 1);\">&gt;</span>\n  <span style=\"color: rgba(0, 0, 255, 1);\">&lt;</span><span style=\"color: rgba(128, 0, 0, 1);\">div </span><span style=\"color: rgba(255, 0, 0, 1);\">class</span><span style=\"color: rgba(0, 0, 255, 1);\">=\"vu__container\"</span><span style=\"color: rgba(0, 0, 255, 1);\">&gt;</span>\n    <span style=\"color: rgba(0, 0, 255, 1);\">&lt;</span><span style=\"color: rgba(128, 0, 0, 1);\">div </span><span style=\"color: rgba(255, 0, 0, 1);\">class</span><span style=\"color: rgba(0, 0, 255, 1);\">=\"vu__layout flexbox flex-col\"</span><span style=\"color: rgba(0, 0, 255, 1);\">&gt;</span>\n      <span style=\"color: rgba(0, 0, 255, 1);\">&lt;</span><span style=\"color: rgba(128, 0, 0, 1);\">div </span><span style=\"color: rgba(255, 0, 0, 1);\">class</span><span style=\"color: rgba(0, 0, 255, 1);\">=\"vu__layout-body flex1 flexbox\"</span><span style=\"color: rgba(0, 0, 255, 1);\">&gt;</span>\n        <span style=\"color: rgba(0, 128, 0, 1);\">&lt;!--</span><span style=\"color: rgba(0, 128, 0, 1);\"> ä¾§è¾¹åŒºåŸŸ </span><span style=\"color: rgba(0, 128, 0, 1);\">--&gt;</span>\n        <span style=\"color: rgba(0, 0, 255, 1);\">&lt;</span><span style=\"color: rgba(128, 0, 0, 1);\">Sidebar </span><span style=\"color: rgba(0, 0, 255, 1);\">/&gt;</span>\n\n        <span style=\"color: rgba(0, 128, 0, 1);\">&lt;!--</span><span style=\"color: rgba(0, 128, 0, 1);\"> ä¸»é¢æ¿åŒºåŸŸ </span><span style=\"color: rgba(0, 128, 0, 1);\">--&gt;</span>\n        <span style=\"color: rgba(0, 0, 255, 1);\">&lt;</span><span style=\"color: rgba(128, 0, 0, 1);\">div </span><span style=\"color: rgba(255, 0, 0, 1);\">class</span><span style=\"color: rgba(0, 0, 255, 1);\">=\"vu__layout-main flex1\"</span><span style=\"color: rgba(0, 0, 255, 1);\">&gt;</span>\n          <span style=\"color: rgba(0, 0, 255, 1);\">&lt;</span><span style=\"color: rgba(128, 0, 0, 1);\">router-view </span><span style=\"color: rgba(255, 0, 0, 1);\">v-slot</span><span style=\"color: rgba(0, 0, 255, 1);\">=\"{ Component, route }\"</span><span style=\"color: rgba(0, 0, 255, 1);\">&gt;</span>\n            <span style=\"color: rgba(0, 0, 255, 1);\">&lt;</span><span style=\"color: rgba(128, 0, 0, 1);\">keep-alive</span><span style=\"color: rgba(0, 0, 255, 1);\">&gt;</span>\n              <span style=\"color: rgba(0, 0, 255, 1);\">&lt;</span><span style=\"color: rgba(128, 0, 0, 1);\">component </span><span style=\"color: rgba(255, 0, 0, 1);\">:is</span><span style=\"color: rgba(0, 0, 255, 1);\">=\"Component\"</span><span style=\"color: rgba(255, 0, 0, 1);\"> :key</span><span style=\"color: rgba(0, 0, 255, 1);\">=\"route.path\"</span> <span style=\"color: rgba(0, 0, 255, 1);\">/&gt;</span>\n            <span style=\"color: rgba(0, 0, 255, 1);\">&lt;/</span><span style=\"color: rgba(128, 0, 0, 1);\">keep-alive</span><span style=\"color: rgba(0, 0, 255, 1);\">&gt;</span>\n          <span style=\"color: rgba(0, 0, 255, 1);\">&lt;/</span><span style=\"color: rgba(128, 0, 0, 1);\">router-view</span><span style=\"color: rgba(0, 0, 255, 1);\">&gt;</span>\n        <span style=\"color: rgba(0, 0, 255, 1);\">&lt;/</span><span style=\"color: rgba(128, 0, 0, 1);\">div</span><span style=\"color: rgba(0, 0, 255, 1);\">&gt;</span>\n      <span style=\"color: rgba(0, 0, 255, 1);\">&lt;/</span><span style=\"color: rgba(128, 0, 0, 1);\">div</span><span style=\"color: rgba(0, 0, 255, 1);\">&gt;</span>\n    <span style=\"color: rgba(0, 0, 255, 1);\">&lt;/</span><span style=\"color: rgba(128, 0, 0, 1);\">div</span><span style=\"color: rgba(0, 0, 255, 1);\">&gt;</span>\n  <span style=\"color: rgba(0, 0, 255, 1);\">&lt;/</span><span style=\"color: rgba(128, 0, 0, 1);\">div</span><span style=\"color: rgba(0, 0, 255, 1);\">&gt;</span>\n<span style=\"color: rgba(0, 0, 255, 1);\">&lt;/</span><span style=\"color: rgba(128, 0, 0, 1);\">template</span><span style=\"color: rgba(0, 0, 255, 1);\">&gt;</span></pre>\n</div>\n<h3>vue3æ¥å…¥deepseekæ·±åº¦æ€è€ƒ</h3>\n<p><img alt=\"image\" class=\"lazyload\" /></p>\n<p><img alt=\"image\" class=\"lazyload\" /></p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> è°ƒç”¨deepseekæ¥å£</span>\nconst completion =<span style=\"color: rgba(0, 0, 0, 1);\"> await openai.chat.completions.create({\n  </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> å•ä¸€ä¼šè¯</span>\n  <span style=\"color: rgba(0, 128, 0, 1);\">/*</span><span style=\"color: rgba(0, 128, 0, 1);\"> messages: [\n    {role: 'user', content: editorValue}\n  ], </span><span style=\"color: rgba(0, 128, 0, 1);\">*/</span>\n  <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> å¤šè½®ä¼šè¯</span>\n  messages: props.multiConversation ? historySession.value : [{role: 'user'<span style=\"color: rgba(0, 0, 0, 1);\">, content: editorValue}],\n  </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> deepseek-chatå¯¹è¯æ¨¡å‹ deepseek-reasoneræ¨ç†æ¨¡å‹</span>\n  model: sessionstate.thinkingEnabled ? 'deepseek-reasoner' : 'deepseek-chat'<span style=\"color: rgba(0, 0, 0, 1);\">,\n  stream: </span><span style=\"color: rgba(0, 0, 255, 1);\">true</span>, <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æµå¼è¾“å‡º</span>\n  max_tokens: 8192, <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> ä¸€æ¬¡è¯·æ±‚ä¸­æ¨¡å‹ç”Ÿæˆ completion çš„æœ€å¤§ token æ•°(é»˜è®¤ä½¿ç”¨ 4096)</span>\n  temperature: 0.4, <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> ä¸¥è°¨é‡‡æ ·</span>\n})</pre>\n</div>\n<h3>vue3+deepseekè‡ªå®šä¹‰Latexæ•°å­¦å…¬å¼/Mermaidå›¾è¡¨</h3>\n<div class=\"cnblogs_code\">\n<pre>import { katex } from \"@mdit/plugin-katex\"; <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ”¯æŒæ•°å­¦å…¬å¼</span>\nimport 'katex/dist/katex.min.css'\n<span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ¸²æŸ“mermaidå›¾è¡¨</span>\nimport { markdownItMermaidPlugin } from '@/components/markdown/plugins/mermaidPlugin'</pre>\n</div>\n<p><strong>æ¸²æŸ“markdownè°ƒç”¨æ–¹å¼</strong></p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">&lt;</span><span style=\"color: rgba(128, 0, 0, 1);\">Markdown\n  </span><span style=\"color: rgba(255, 0, 0, 1);\">:source</span><span style=\"color: rgba(0, 0, 255, 1);\">=\"item.content\"</span><span style=\"color: rgba(255, 0, 0, 1);\">\n  :html</span><span style=\"color: rgba(0, 0, 255, 1);\">=\"true\"</span><span style=\"color: rgba(255, 0, 0, 1);\">\n  :linkify</span><span style=\"color: rgba(0, 0, 255, 1);\">=\"true\"</span><span style=\"color: rgba(255, 0, 0, 1);\">\n  :typographer</span><span style=\"color: rgba(0, 0, 255, 1);\">=\"true\"</span><span style=\"color: rgba(255, 0, 0, 1);\">\n  :plugins</span><span style=\"color: rgba(0, 0, 255, 1);\">=\"[\n    [katex, {delimiters: 'all'}],\n    [markdownItMermaidPlugin, { ... }]\n  ]\"</span><span style=\"color: rgba(255, 0, 0, 1);\">\n  @copy</span><span style=\"color: rgba(0, 0, 255, 1);\">=\"onCopy\"</span>\n<span style=\"color: rgba(0, 0, 255, 1);\">/&gt;</span></pre>\n</div>\n<p><img alt=\"005360æˆªå›¾20260103120319468\" class=\"lazyload\" /></p>\n<p><img alt=\"006360æˆªå›¾20260103120533404\" class=\"lazyload\" /></p>\n<p><img alt=\"008360æˆªå›¾20260103125240325\" class=\"lazyload\" /></p>\n<p><strong>å°è£…mermaidæ¸²æŸ“æ’ä»¶</strong></p>\n<div class=\"cnblogs_code\">\n<pre>export const markdownItMermaidPlugin = (md, options) =&gt;<span style=\"color: rgba(0, 0, 0, 1);\"> {\n  const defaultFence </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> md.renderer.rules.fence\n  md.renderer.rules.fence </span>= (...args) =&gt;<span style=\"color: rgba(0, 0, 0, 1);\"> {\n    const [tokens, idx] </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> args\n    const token </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> tokens[idx]\n    const lang </span>= token.info.replace(/\\[.*\\]/, '').trim() || ''\n\n    <span style=\"color: rgba(0, 0, 255, 1);\">if</span>(lang === 'mermaid'<span style=\"color: rgba(0, 0, 0, 1);\">) {\n      const code </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> token.content.trim()\n      const hash </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> generateHash(code)\n      const uuid </span>= `${hash}-${Date.now()}-${Math.random().toString(36).substring(2, 9<span style=\"color: rgba(0, 0, 0, 1);\">)}`\n\n      </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> å¦‚æœæœ‰ç¼“å­˜ï¼ŒåŠ è½½ç¼“å­˜å›¾è¡¨</span>\n      <span style=\"color: rgba(0, 0, 255, 1);\">if</span><span style=\"color: rgba(0, 0, 0, 1);\">(renderCache.has(hash)) {\n        </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> console.log('åŠ è½½ç¼“å­˜mermaidå›¾è¡¨')</span>\n        <span style=\"color: rgba(0, 0, 255, 1);\">return</span><span style=\"color: rgba(0, 0, 0, 1);\"> `\n          ${ defaultFence(...args) }\n          </span>&lt;div class=\"mermaid-container\"&gt;${renderCache.get(hash)}&lt;/div&gt;\n<span style=\"color: rgba(0, 0, 0, 1);\">        `\n      }\n\n      nextTickRender(uuid)\n\n      </span><span style=\"color: rgba(0, 0, 255, 1);\">return</span><span style=\"color: rgba(0, 0, 0, 1);\"> `\n        ${ defaultFence(...args) }\n        </span>&lt;div class=\"mermaid-container\" id=\"${uuid}\" data-mermaid-hash=\"${hash}\" data-mermaid-code=\"${encodeURIComponent(code)}\"&gt;\n          &lt;div class=\"mermaid-loading\"&gt;ğŸ“ŠMermaid å›¾è¡¨åŠ è½½ä¸­...&lt;/div&gt;\n        &lt;/div&gt;\n<span style=\"color: rgba(0, 0, 0, 1);\">      `\n    }\n\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">return</span><span style=\"color: rgba(0, 0, 0, 1);\"> defaultFence(...args)\n  }\n\n  </span><span style=\"color: rgba(0, 0, 255, 1);\">function</span><span style=\"color: rgba(0, 0, 0, 1);\"> nextTickRender(containerId) {\n    </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> å¦‚æœå®¹å™¨å­˜åœ¨ï¼Œç›´æ¥æ¸²æŸ“</span>\n    <span style=\"color: rgba(0, 0, 255, 1);\">if</span><span style=\"color: rgba(0, 0, 0, 1);\">(document.getElementById(containerId)) {\n      renderMermaidDiagram(containerId)\n      </span><span style=\"color: rgba(0, 0, 255, 1);\">return</span><span style=\"color: rgba(0, 0, 0, 1);\">\n    }\n    </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> ä½¿ç”¨MutationObserverç›‘å¬DOMæ›´æ–°</span>\n    const observer = <span style=\"color: rgba(0, 0, 255, 1);\">new</span> MutationObserver((mutations, ob) =&gt;<span style=\"color: rgba(0, 0, 0, 1);\"> {\n      const container </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> document.getElementById(containerId)\n      </span><span style=\"color: rgba(0, 0, 255, 1);\">if</span><span style=\"color: rgba(0, 0, 0, 1);\">(container) {\n        ob.disconnect()\n        renderMermaidDiagram(containerId)\n      }\n    })\n    observer.observe(document.body, {\n      childList: </span><span style=\"color: rgba(0, 0, 255, 1);\">true</span><span style=\"color: rgba(0, 0, 0, 1);\">,\n      subtree: </span><span style=\"color: rgba(0, 0, 255, 1);\">true</span><span style=\"color: rgba(0, 0, 0, 1);\">\n    })\n  }\n  \n  async </span><span style=\"color: rgba(0, 0, 255, 1);\">function</span><span style=\"color: rgba(0, 0, 0, 1);\"> renderMermaidDiagram(containerId) {\n    const container </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> document.getElementById(containerId)\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">if</span> (!<span style=\"color: rgba(0, 0, 0, 1);\">container) {\n      console.warn(`Mermaid container #${containerId} not found`)\n      </span><span style=\"color: rgba(0, 0, 255, 1);\">return</span><span style=\"color: rgba(0, 0, 0, 1);\">\n    }\n  \n    const code </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> decodeURIComponent(container.dataset.mermaidCode)\n    const hash </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> container.dataset.mermaidHash\n\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">if</span> (!<span style=\"color: rgba(0, 0, 0, 1);\">code) {\n      </span><span style=\"color: rgba(0, 0, 255, 1);\">return</span><span style=\"color: rgba(0, 0, 0, 1);\">\n    }\n\n    </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ£€æŸ¥ mermaid æ˜¯å¦å¯ç”¨</span>\n    <span style=\"color: rgba(0, 0, 255, 1);\">if</span> (<span style=\"color: rgba(0, 0, 255, 1);\">typeof</span> window.mermaid === 'undefined'<span style=\"color: rgba(0, 0, 0, 1);\">) {\n      showError(container, </span>'Mermaid åº“æœªåŠ è½½!'<span style=\"color: rgba(0, 0, 0, 1);\">)\n      </span><span style=\"color: rgba(0, 0, 255, 1);\">return</span><span style=\"color: rgba(0, 0, 0, 1);\">\n    }\n  \n    </span><span style=\"color: rgba(0, 0, 255, 1);\">try</span><span style=\"color: rgba(0, 0, 0, 1);\"> {\n      </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> é…ç½® mermaidï¼ˆå¦‚æœè¿˜æœªé…ç½®ï¼‰</span>\n      <span style=\"color: rgba(0, 0, 255, 1);\">if</span> (!<span style=\"color: rgba(0, 0, 0, 1);\">window.mermaid.initialized) {\n        window.mermaid.initialize({\n          startOnLoad: </span><span style=\"color: rgba(0, 0, 255, 1);\">false</span><span style=\"color: rgba(0, 0, 0, 1);\">,\n          theme: </span>'default'<span style=\"color: rgba(0, 0, 0, 1);\">,\n          securityLevel: </span>'loose'<span style=\"color: rgba(0, 0, 0, 1);\">,\n        })\n        window.mermaid.initialized </span>= <span style=\"color: rgba(0, 0, 255, 1);\">true</span><span style=\"color: rgba(0, 0, 0, 1);\">\n      }\n  \n      let svg\n  \n      </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ£€æŸ¥ç¼“å­˜</span>\n      <span style=\"color: rgba(0, 0, 255, 1);\">if</span><span style=\"color: rgba(0, 0, 0, 1);\">(renderCache.has(hash)) {\n        svg </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> renderCache.get(hash)\n      }</span><span style=\"color: rgba(0, 0, 255, 1);\">else</span><span style=\"color: rgba(0, 0, 0, 1);\"> {\n        const { isValid } </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> await verifyMermaid(code)\n\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">if</span>(!<span style=\"color: rgba(0, 0, 0, 1);\">isValid) {\n          showError(container, `</span>&lt;pre&gt;æ¸²æŸ“è¯­æ³•é”™è¯¯ï¼š\\n${ code }\\n&lt;/pre&gt;`)\n          <span style=\"color: rgba(0, 0, 255, 1);\">return</span><span style=\"color: rgba(0, 0, 0, 1);\">\n        }\n\n        </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> ä½¿ç”¨å”¯ä¸€IDæ¸²æŸ“(é¿å…å›¾è¡¨å†²çª)</span>\n        const {svg: renderedSvg} = await window.mermaid.render(`mermaid-<span style=\"color: rgba(0, 0, 0, 1);\">${containerId}`, code)\n        svg </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> renderedSvg\n        renderCache.set(hash, svg)\n      }\n\n      container.innerHTML </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> svg\n      container.removeAttribute(</span>'data-mermaid-hash'<span style=\"color: rgba(0, 0, 0, 1);\">)\n      container.removeAttribute(</span>'data-mermaid-code'<span style=\"color: rgba(0, 0, 0, 1);\">)\n\n      </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> è§¦å‘å›è°ƒ</span>\n      <span style=\"color: rgba(0, 0, 255, 1);\">if</span>(options?<span style=\"color: rgba(0, 0, 0, 1);\">.reachBottom) {\n        options</span>?.onRender?<span style=\"color: rgba(0, 0, 0, 1);\">.()\n      }\n    } </span><span style=\"color: rgba(0, 0, 255, 1);\">catch</span><span style=\"color: rgba(0, 0, 0, 1);\"> (error) {\n      console.error(</span>'Mermaid æ¸²æŸ“å¤±è´¥:'<span style=\"color: rgba(0, 0, 0, 1);\">, error)\n      showError(container, `</span>&lt;pre&gt;æ¸²æŸ“å›¾è¡¨æ—¶å‡ºé”™: \\n ${error.message}\\n&lt;/pre&gt;`)\n<span style=\"color: rgba(0, 0, 0, 1);\">    }\n  }\n}</span></pre>\n</div>\n<p><img alt=\"001360æˆªå›¾20260103080425549\" class=\"lazyload\" /></p>\n<p><img alt=\"002360æˆªå›¾20260103081001998\" class=\"lazyload\" /></p>\n<p><img alt=\"002360æˆªå›¾20260103081001999\" class=\"lazyload\" /></p>\n<p><img alt=\"002360æˆªå›¾20260103084825451\" class=\"lazyload\" /></p>\n<p><img alt=\"002360æˆªå›¾20260103085708292\" class=\"lazyload\" /></p>\n<p><img alt=\"003360æˆªå›¾20260103091332143\" class=\"lazyload\" /></p>\n<p><img alt=\"003360æˆªå›¾20260103091843214\" class=\"lazyload\" /></p>\n<p><img alt=\"004360æˆªå›¾20260103115744725\" class=\"lazyload\" /></p>\n<p><img alt=\"005360æˆªå›¾20260103120319468\" class=\"lazyload\" /></p>\n<p><img alt=\"007360æˆªå›¾20260103120754686\" class=\"lazyload\" /></p>\n<p><img alt=\"008360æˆªå›¾20260103124947743\" class=\"lazyload\" /></p>\n<p><img alt=\"009360æˆªå›¾20260103125438125\" class=\"lazyload\" /></p>\n<p><img alt=\"010360æˆªå›¾20260103125925726\" class=\"lazyload\" /></p>\n<p><img alt=\"012360æˆªå›¾20260103130203476\" class=\"lazyload\" /></p>\n<h3>vue3å¯¹æ¥deepseek apiæµå¼è¾“å‡º</h3>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> è°ƒç”¨deepseekæ¥å£</span>\nconst completion =<span style=\"color: rgba(0, 0, 0, 1);\"> await openai.chat.completions.create({\n  </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> å•ä¸€ä¼šè¯</span>\n  <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> messages: [{role: 'user', content: editorValue}],</span>\n  <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> å¤šè½®ä¼šè¯</span>\n  messages: props.multiConversation ? historySession.value : [{role: 'user'<span style=\"color: rgba(0, 0, 0, 1);\">, content: editorValue}],\n  </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> deepseek-chatå¯¹è¯æ¨¡å‹ deepseek-reasoneræ¨ç†æ¨¡å‹</span>\n  model: sessionstate.thinkingEnabled ? 'deepseek-reasoner' : 'deepseek-chat'<span style=\"color: rgba(0, 0, 0, 1);\">,\n  stream: </span><span style=\"color: rgba(0, 0, 255, 1);\">true</span>, <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æµå¼è¾“å‡º</span>\n  max_tokens: 8192<span style=\"color: rgba(0, 0, 0, 1);\">,\n  temperature: </span>0.4<span style=\"color: rgba(0, 0, 0, 1);\">\n})</span></pre>\n</div>\n<p><strong>å¤„ç†æµå¼è¾“å‡º</strong></p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">for</span><span style=\"color: rgba(0, 0, 0, 1);\"> await (const chunk of completion) {\n  </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ£€æŸ¥æ˜¯å¦å·²ç»ˆæ­¢</span>\n  <span style=\"color: rgba(0, 0, 255, 1);\">if</span>(sessionstate.aborted) <span style=\"color: rgba(0, 0, 255, 1);\">break</span><span style=\"color: rgba(0, 0, 0, 1);\">\n\n  const content </span>= chunk.choices[0]?.delta?.content || ''\n  <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> è·å–æ¨ç†å†…å®¹</span>\n  const reasoningContent = chunk.choices[0]?.delta?.reasoning_content || ''\n  \n  <span style=\"color: rgba(0, 0, 255, 1);\">if</span>(content ||<span style=\"color: rgba(0, 0, 0, 1);\"> reasoningContent) {\n    answerText </span>+=<span style=\"color: rgba(0, 0, 0, 1);\"> content\n    reasoningText </span>+=<span style=\"color: rgba(0, 0, 0, 1);\"> reasoningContent\n\n    </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> é™åˆ¶æ›´æ–°é¢‘ç‡ï¼šæ¯100msæœ€å¤šæ›´æ–°ä¸€æ¬¡</span>\n    const now =<span style=\"color: rgba(0, 0, 0, 1);\"> Date.now()\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">if</span>(now - lastUpdate &gt; 100<span style=\"color: rgba(0, 0, 0, 1);\">) {\n      lastUpdate </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> now\n      requestAnimationFrame(() </span>=&gt;<span style=\"color: rgba(0, 0, 0, 1);\"> {\n        </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> ...</span>\n<span style=\"color: rgba(0, 0, 0, 1);\">      })\n    }\n  }\n  </span><span style=\"color: rgba(0, 0, 255, 1);\">if</span>(chunk.choices[0]?.finish_reason === 'stop'<span style=\"color: rgba(0, 0, 0, 1);\">) {\n    </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> ...</span>\n<span style=\"color: rgba(0, 0, 0, 1);\">  }\n}</span></pre>\n</div>\n<p><img alt=\"æœªæ ‡é¢˜-aa\" class=\"lazyload\" /></p>\n<p>ä»¥ä¸Šå°±æ˜¯vite7.2æ¥å…¥deepseekæ­å»ºç½‘é¡µç‰ˆæµå¼aiå¯¹è¯ç³»ç»Ÿçš„ä¸€äº›é¡¹ç›®åˆ†äº«ï¼Œå¸Œæœ›èƒ½ç»™å¤§å®¶å¸¦æ¥ä¸€äº›å¸®åŠ©ï¼</p>\n<p><strong>é™„ä¸Šå‡ ä¸ªæœ€æ–°å®æˆ˜é¡¹ç›®</strong></p>\n<blockquote>\n<p><span style=\"font-size: 12px;\"><a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/xiaoyan2017/p/18853514\" target=\"_blank\">Uniapp-DeepSeekè·¨ä¸‰ç«¯AIåŠ©æ‰‹|uniapp+vue3+deepseek-v3æµå¼aièŠå¤©æ¨¡æ¿</a></span></p>\n<p><span style=\"font-size: 12px;\"><a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/xiaoyan2017/p/19385909\" target=\"_blank\">vite7+deepseekæµå¼aiæ¨¡æ¿|vue3.5+deepseek3.2+markdownæ‰“å­—è¾“å‡ºaiåŠ©æ‰‹</a></span></p>\n<p><span style=\"font-size: 12px;\"><a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/xiaoyan2017/p/19313982\" target=\"_blank\">æœ€æ–°ç‰ˆFlutter3.38+Dart3.10ä»¿å†™æŠ–éŸ³APPç›´æ’­+çŸ­è§†é¢‘+èŠå¤©åº”ç”¨ç¨‹åº</a></span></p>\n<p><span style=\"font-size: 12px;\"><a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/xiaoyan2017/p/18894117\" target=\"_blank\">flutter3-deepseekæµå¼AIæ¨¡æ¿|Flutter3.27+Dio+DeepSeeekèŠå¤©aiåŠ©æ‰‹</a></span></p>\n<p><span style=\"font-size: 12px;\"><a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/xiaoyan2017/p/19136187\" target=\"_blank\">Electron38-Vue3OSå®¢æˆ·ç«¯OSç³»ç»Ÿ|vite7+electron38+arcoæ¡Œé¢osåå°ç®¡ç†</a></span></p>\n<p><span style=\"font-size: 12px;\"><a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/xiaoyan2017/p/19116145\" target=\"_blank\">electron38-adminæ¡Œé¢ç«¯åå°|Electron38+Vue3+ElementPlusç®¡ç†ç³»ç»Ÿ</a></span></p>\n<p><span style=\"font-size: 12px;\"><a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/xiaoyan2017/p/19088804\" target=\"_blank\">Electron38-Wechatç”µè„‘ç«¯èŠå¤©|vite7+electron38ä»¿å¾®ä¿¡æ¡Œé¢ç«¯èŠå¤©ç³»ç»Ÿ</a></span></p>\n<p><span style=\"font-size: 12px;\"><a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/xiaoyan2017/p/18962574\" target=\"_blank\">æœ€æ–°ç‰ˆuniapp+vue3+uv-uiè·¨ä¸‰ç«¯çŸ­è§†é¢‘+ç›´æ’­+èŠå¤©ã€H5+å°ç¨‹åº+Appç«¯ã€‘</a></span></p>\n<p><span style=\"font-size: 12px;\"><a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/xiaoyan2017/p/19031695\" target=\"_blank\">æœ€æ–°ç‰ˆuni-app+vue3+uv-uiè·¨ä¸‰ç«¯ä»¿å¾®ä¿¡appèŠå¤©åº”ç”¨ã€h5+å°ç¨‹åº+appç«¯ã€‘</a></span></p>\n<p><span style=\"font-size: 12px;\"><a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/xiaoyan2017/p/19018641\" target=\"_blank\">Flutter3-MacOSæ¡Œé¢OSç³»ç»Ÿ|flutter3.32+window_managerå®¢æˆ·ç«¯OSæ¨¡æ¿</a></span></p>\n<p><span style=\"font-size: 12px;\"><a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/xiaoyan2017/p/19181509\" target=\"_blank\">Tauri2-Vite7Adminå®¢æˆ·ç«¯ç®¡ç†åå°|tauri2.9+vue3+element-plusåå°ç³»ç»Ÿ</a></span></p>\n<p><span style=\"font-size: 12px;\"><a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/xiaoyan2017/p/19235565\" target=\"_blank\">Tauri2.9+Vue3æ¡Œé¢ç‰ˆOSç³»ç»Ÿ|vite7+tauri2+arcoDesignç”µè„‘ç«¯osåå°æ¨¡æ¿</a></span></p>\n</blockquote>\n<p><img alt=\"n.sohucs\" class=\"lazyload\" /></p>\n<p>&nbsp;</p>\n</div>\n<div id=\"MySignature\">\n    æœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»åšä¸»å…è®¸ä¸å¾—è½¬è½½ï¼Œæ¬¢è¿å¤§å®¶ä¸€èµ·äº¤æµ QQï¼ˆ282310962ï¼‰ wxï¼ˆxy190310ï¼‰\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-05 00:08</span>&nbsp;\n<a href=\"https://www.cnblogs.com/xiaoyan2017\">xiaoyan2017</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">0</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "å‰æ³¨æ„åŠ å·¥ï¼šè®©ä½ çš„å›¾è¡¨æŠ“ä½è¯»è€…çš„çœ¼çƒ",
      "link": "https://www.cnblogs.com/wang_yb/p/19440010",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/wang_yb/p/19440010\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-04 23:10\">\n    <span>å‰æ³¨æ„åŠ å·¥ï¼šè®©ä½ çš„å›¾è¡¨æŠ“ä½è¯»è€…çš„çœ¼çƒ</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ èµ°è¿›ä¸€ä¸ªæŒ¤æ»¡äººçš„æˆ¿é—´ï¼Œæœ‹å‹å‘ä½ æ‹›æ‰‹--ä½ å‡ ä¹ç«‹åˆ»å°±èƒ½çœ‹åˆ°ä»–ã€‚</p>\n<p>è¿™æ˜¯å› ä¸ºâ€œæ‹›æ‰‹â€è¿™ä¸ªåŠ¨ä½œåœ¨ä½ çš„å¤§è„‘è¿›è¡Œæ·±å…¥æ€è€ƒä¹‹å‰ï¼Œå°±å·²ç»è¢«æ³¨æ„åˆ°äº†ã€‚</p>\n<p>å†æ¯”å¦‚å½“ä½ èµ°åœ¨ç†™ç†™æ”˜æ”˜çš„å¤§è¡—ä¸Šï¼Œå¦‚æœæ‰€æœ‰äººç©¿çš„éƒ½æ˜¯é»‘ç°è‰²çš„å¤§è¡£ï¼Œè€Œæ­¤æ—¶æœ‰ä¸€ä¸ªäººç©¿ç€é²œçº¢è‰²çš„é£è¡£ï¼Œä½ ä¼šçœ‹å“ªé‡Œï¼Ÿ</p>\n<p>æ¯«æ— ç–‘é—®ï¼Œä½ çš„ç›®å…‰ä¼šç¬é—´è¢«é‚£æŠ¹çº¢è‰²å¸å¼•ã€‚</p>\n<p>è¿™å°±æ˜¯<strong>å‰æ³¨æ„åŠ å·¥</strong>ï¼šæˆ‘ä»¬çš„å¤§è„‘èƒ½åœ¨æçŸ­æ—¶é—´å†…ï¼ˆçº¦200-250æ¯«ç§’ï¼‰è‡ªåŠ¨æ£€æµ‹åˆ°æŸäº›è§†è§‰ç‰¹å¾ï¼Œè€Œæ— éœ€æˆ‘ä»¬æœ‰æ„è¯†åœ°å»å¯»æ‰¾ã€‚</p>\n<p>åœ¨æ•°æ®å¯è§†åŒ–ä¸­ï¼Œ<strong>å‰æ³¨æ„åŠ å·¥</strong>å°±æ˜¯æˆ‘ä»¬ç”¨æ¥å¼•å¯¼è¯»è€…æ³¨æ„åŠ›çš„â€œè§†è§‰é­”æœ¯â€ã€‚</p>\n<p>é€šè¿‡å·§å¦™åœ°æ”¹å˜é¢œè‰²ã€å¤§å°ã€å½¢çŠ¶ç­‰è§†è§‰å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥è®©å›¾è¡¨ä¸­çš„å…³é”®ä¿¡æ¯ï¼ˆå¦‚æœ€å¤§å€¼ã€æœ€å°å€¼ã€å¼‚å¸¸å€¼ï¼‰åƒæœ‹å‹æ‹›æ‰‹ä¸€æ ·â€œè·³å‡ºæ¥â€ï¼Œç¬¬ä¸€æ—¶é—´æŠ“ä½è¯»è€…çš„çœ¼çƒã€‚</p>\n<h1 id=\"1-å‰æ³¨æ„åŠ å·¥çš„å®ç”¨æŠ€å·§\">1. å‰æ³¨æ„åŠ å·¥çš„å®ç”¨æŠ€å·§</h1>\n<ol>\n<li><strong>å°‘å³æ˜¯å¤š</strong>ï¼šä¸è¦è¿‡åº¦ä½¿ç”¨çªå‡ºæ•ˆæœï¼Œå¦åˆ™ä¼šå¤±å»ç„¦ç‚¹</li>\n<li><strong>ä¸€è‡´æ€§åŸåˆ™</strong>ï¼šåœ¨æ•´ä¸ªæŠ¥å‘Šæˆ–ä»ªè¡¨æ¿ä¸­ä½¿ç”¨ç›¸åŒçš„çªå‡ºé¢œè‰²ç¼–ç </li>\n<li><strong>è€ƒè™‘è‰²ç›²ç”¨æˆ·</strong>ï¼šé¿å…ä»…ä¾é é¢œè‰²åŒºåˆ†ï¼Œå¯ç»“åˆå½¢çŠ¶ã€çº¹ç†ç­‰</li>\n<li><strong>ä¸Šä¸‹æ–‡ç›¸å…³</strong>ï¼šæ ¹æ®æ•°æ®ç‰¹ç‚¹å’Œè§‚ä¼—èƒŒæ™¯é€‰æ‹©åˆé€‚çš„çªå‡ºæ–¹å¼</li>\n<li><strong>æµ‹è¯•æ•ˆæœ</strong>ï¼šè®©å…¶ä»–äººæŸ¥çœ‹ä½ çš„å›¾è¡¨ï¼Œç¡®è®¤çªå‡ºæ•ˆæœæ˜¯å¦è¾¾åˆ°é¢„æœŸ</li>\n</ol>\n<h1 id=\"2-å‰æ³¨æ„åŠ å·¥å®ä¾‹\">2. å‰æ³¨æ„åŠ å·¥å®ä¾‹</h1>\n<p>æ¦‚å¿µä»‹ç»å®Œäº†ï¼Œä¸‹é¢ç›´æ¥çœ‹ä»£ç ï¼Œçœ‹çœ‹å®é™…æƒ…å†µä¸‹å¦‚ä½•ä½¿ç”¨<strong>å‰æ³¨æ„åŠ å·¥</strong>æ¥æé«˜æˆ‘ä»¬çš„å¯è§†åŒ–æ•ˆæœã€‚</p>\n<h2 id=\"21-çªå‡ºæœ€å¤§å€¼å’Œæœ€å°å€¼\">2.1. çªå‡ºæœ€å¤§å€¼å’Œæœ€å°å€¼</h2>\n<pre><code class=\"language-python\"># ç¤ºä¾‹1ï¼šçªå‡ºæœ€å¤§å€¼å’Œæœ€å°å€¼\n# åˆ›å»ºæ•°æ®\nnp.random.seed(42)\ncategories = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H']\nvalues = np.random.randint(10, 100, size=8)\n\n# æ‰¾å‡ºæœ€å¤§å€¼å’Œæœ€å°å€¼çš„ç´¢å¼•\nmax_idx = np.argmax(values)\nmin_idx = np.argmin(values)\n\n# åˆ›å»ºå›¾è¡¨\nfig, (ax1, ax2) = plt.subplots(1, 2, figsize=(14, 6))\n\n# å·¦å›¾ï¼šæ²¡æœ‰å‰æ³¨æ„åŠ å·¥\nbars1 = ax1.bar(categories, values, color='lightblue', edgecolor='black')\n\n# å³å›¾ï¼šæœ‰å‰æ³¨æ„åŠ å·¥ï¼ˆçªå‡ºæœ€å¤§æœ€å°å€¼ï¼‰\ncolors = ['lightblue'] * len(values)\ncolors[max_idx] = '#FF6B6B'  # çº¢è‰²çªå‡ºæœ€å¤§å€¼\ncolors[min_idx] = '#4ECDC4'  # é’è‰²çªå‡ºæœ€å°å€¼\n\nbars2 = ax2.bar(categories, values, color=colors, edgecolor='black')\n\n# åœ¨æœ€å¤§å€¼å’Œæœ€å°å€¼ä¸Šæ·»åŠ æ ‡ç­¾\nax2.text(max_idx, values[max_idx] + 2, f'æœ€å¤§: {values[max_idx]}',\n         ha='center', fontweight='bold', color='#FF6B6B')\nax2.text(min_idx, values[min_idx] + 2, f'æœ€å°: {values[min_idx]}',\n         ha='center', fontweight='bold', color='#4ECDC4')\n\nplt.tight_layout()\nplt.show()\n</code></pre>\n\n<p><img alt=\"\" src=\"https://img2024.cnblogs.com/blog/83005/202601/83005-20260104230912188-646033135.png\" /></p>\n<p>å·¦å›¾ä¸­ï¼Œæ‰€æœ‰æŸ±å­éƒ½æ˜¯ç›¸åŒçš„è“è‰²ï¼Œè¯»è€…éœ€è¦é€ä¸ªæ¯”è¾ƒæ‰èƒ½æ‰¾å‡ºæœ€å¤§å€¼å’Œæœ€å°å€¼ã€‚</p>\n<p>å³å›¾ä¸­ï¼Œæœ€å¤§å€¼ç”¨é†’ç›®çš„çº¢è‰²æ ‡å‡ºï¼Œæœ€å°å€¼ç”¨é’è‰²æ ‡å‡ºï¼Œè¯»è€…ä¸€çœ¼å°±èƒ½çœ‹åˆ°å…³é”®æ•°æ®ç‚¹ã€‚</p>\n<p><strong>å‰æ³¨æ„åŠ å·¥çš„å¥½å¤„</strong>ï¼šå°±åƒåœ¨äººç¾¤ä¸­ä¸ºé‡è¦äººç‰©æˆ´ä¸Šç‰¹åˆ«çš„å¸½å­ï¼Œè¯»è€…æ— éœ€è´¹åŠ›å¯»æ‰¾å°±èƒ½ç«‹å³è¯†åˆ«å…³é”®æ•°æ®ç‚¹ã€‚</p>\n<h2 id=\"22-çªå‡ºå¼‚å¸¸å€¼\">2.2. çªå‡ºå¼‚å¸¸å€¼</h2>\n<pre><code class=\"language-python\"># ç¤ºä¾‹2ï¼šçªå‡ºå¼‚å¸¸å€¼\n# åˆ›å»ºåŒ…å«å¼‚å¸¸å€¼çš„æ•°æ®\nnp.random.seed(42)\ndata_normal = np.random.normal(50, 10, 100)\ndata_outliers = np.array([5, 125, 130])  # å¼‚å¸¸å€¼\nall_data = np.concatenate([data_normal, data_outliers])\n\n# è¯†åˆ«å¼‚å¸¸å€¼ï¼ˆç®€å•æ–¹æ³•ï¼šè¶…å‡ºå¹³å‡å€¼Â±2å€æ ‡å‡†å·®ï¼‰\nmean_val = np.mean(all_data)\nstd_val = np.std(all_data)\noutlier_indices = np.where((all_data &lt; mean_val - 2*std_val) | (all_data &gt; mean_val + 2*std_val))[0]\n\n# åˆ›å»ºå›¾è¡¨\nfig, (ax1, ax2) = plt.subplots(1, 2, figsize=(14, 6))\n\n# å·¦å›¾ï¼šæ²¡æœ‰å‰æ³¨æ„åŠ å·¥\nscatter1 = ax1.scatter(range(len(all_data)), all_data, alpha=0.7, c='gray', s=50)\nax1.axhline(y=mean_val, color='black', linestyle='--', alpha=0.5, label=f'å¹³å‡å€¼: {mean_val:.1f}')\nax1.axhline(y=mean_val + 2*std_val, color='red', linestyle=':', alpha=0.5, label='Â±2æ ‡å‡†å·®')\nax1.axhline(y=mean_val - 2*std_val, color='red', linestyle=':', alpha=0.5)\n\n# å³å›¾ï¼šæœ‰å‰æ³¨æ„åŠ å·¥ï¼ˆçªå‡ºå¼‚å¸¸å€¼ï¼‰\ncolors = ['gray'] * len(all_data)\nsizes = [50] * len(all_data)\n\n# çªå‡ºå¼‚å¸¸å€¼\nfor idx in outlier_indices:\n    colors[idx] = '#FF6B6B'  # çº¢è‰²\n    sizes[idx] = 150  # æ›´å¤§\n\nscatter2 = ax2.scatter(range(len(all_data)), all_data, alpha=0.7, c=colors, s=sizes)\nax2.axhline(y=mean_val, color='black', linestyle='--', alpha=0.5, label=f'å¹³å‡å€¼: {mean_val:.1f}')\nax2.axhline(y=mean_val + 2*std_val, color='red', linestyle=':', alpha=0.5, label='Â±2æ ‡å‡†å·®')\nax2.axhline(y=mean_val - 2*std_val, color='red', linestyle=':', alpha=0.5)\n\nplt.tight_layout()\nplt.show()\n</code></pre>\n\n<p><img alt=\"\" src=\"https://img2024.cnblogs.com/blog/83005/202601/83005-20260104230912194-1976550473.png\" /></p>\n<p>å·¦å›¾ä¸­ï¼Œå¼‚å¸¸å€¼æ··åœ¨æ™®é€šæ•°æ®ç‚¹ä¸­ï¼Œéš¾ä»¥ç«‹å³è¯†åˆ«ã€‚</p>\n<p>å³å›¾ä¸­ï¼Œå¼‚å¸¸å€¼ç”¨æ›´å¤§çš„çº¢è‰²ç‚¹çªå‡ºæ˜¾ç¤ºï¼Œå³ä½¿æ•°æ®é‡å¾ˆå¤§ï¼Œè¯»è€…ä¹Ÿèƒ½ç«‹å³æ³¨æ„åˆ°è¿™äº›ç‰¹æ®Šç‚¹ã€‚</p>\n<p><strong>å‰æ³¨æ„åŠ å·¥çš„å¥½å¤„</strong>ï¼šå°±åƒåœ¨å¹³é™æ¹–é¢ä¸Šæ ‡è®°å‡ºæ¶Ÿæ¼ªçš„èµ·æºï¼Œå¼‚å¸¸å€¼ä¸å†éšè—åœ¨æ•°æ®æµ·æ´‹ä¸­ï¼Œè€Œæ˜¯æˆä¸ºåˆ†æçš„é‡ç‚¹ã€‚</p>\n<h2 id=\"23-çªå‡ºè¶‹åŠ¿å˜åŒ–ç‚¹\">2.3. çªå‡ºè¶‹åŠ¿å˜åŒ–ç‚¹</h2>\n<pre><code class=\"language-python\"># ç¤ºä¾‹3ï¼šçªå‡ºè¶‹åŠ¿å˜åŒ–ç‚¹\n# åˆ›å»ºåŒ…å«è¶‹åŠ¿å˜åŒ–çš„æ—¶é—´åºåˆ—æ•°æ®\nnp.random.seed(42)\ntime_points = np.arange(0, 100)\ntrend_change_point = 45\n\n# åˆ†æ®µåˆ›å»ºè¶‹åŠ¿æ•°æ®\ntrend1 = 30 + 0.5 * np.arange(0, trend_change_point) + np.random.normal(0, 2, trend_change_point)\ntrend2 = trend1[-1] - 0.8 * np.arange(0, 100 - trend_change_point) + np.random.normal(0, 2, 100 - trend_change_point)\ndata = np.concatenate([trend1, trend2])\n\n# åˆ›å»ºå›¾è¡¨\nfig, (ax1, ax2) = plt.subplots(1, 2, figsize=(14, 6))\n\n# å·¦å›¾ï¼šæ²¡æœ‰å‰æ³¨æ„åŠ å·¥\nline1 = ax1.plot(time_points, data, color='gray', alpha=0.8, linewidth=2)\n\n# å³å›¾ï¼šæœ‰å‰æ³¨æ„åŠ å·¥ï¼ˆçªå‡ºè¶‹åŠ¿å˜åŒ–ç‚¹ï¼‰\nline2 = ax2.plot(time_points, data, color='gray', alpha=0.6, linewidth=2)\n\n# çªå‡ºè¶‹åŠ¿å˜åŒ–åŒºåŸŸ\nax2.axvspan(trend_change_point-5, trend_change_point+5, alpha=0.3, color='#FF6B6B', label='è¶‹åŠ¿å˜åŒ–åŒºåŸŸ')\nax2.scatter(trend_change_point, data[trend_change_point], color='#FF6B6B', s=200, zorder=5, label='å˜åŒ–ç‚¹')\nax2.plot(time_points[:trend_change_point+1], data[:trend_change_point+1], color='#4ECDC4', linewidth=3, alpha=0.8, label='ä¸Šå‡è¶‹åŠ¿')\nax2.plot(time_points[trend_change_point:], data[trend_change_point:], color='#45B7D1', linewidth=3, alpha=0.8, label='ä¸‹é™è¶‹åŠ¿')\n\nplt.tight_layout()\nplt.show()\n</code></pre>\n\n<p><img alt=\"\" src=\"https://img2024.cnblogs.com/blog/83005/202601/83005-20260104230912195-715553153.png\" /></p>\n<p>å·¦å›¾å±•ç¤ºäº†ä¸€ä¸ªå®Œæ•´çš„è¶‹åŠ¿çº¿ï¼Œä½†å˜åŒ–ç‚¹ä¸æ˜æ˜¾ã€‚</p>\n<p>å³å›¾ä½¿ç”¨ä¸åŒé¢œè‰²åŒºåˆ†è¶‹åŠ¿æ®µï¼Œå¹¶ç”¨é˜´å½±åŒºåŸŸå’Œçªå‡ºç‚¹æ ‡è®°å˜åŒ–åŒºåŸŸï¼Œä½¿è¶‹åŠ¿è½¬æŠ˜ä¸€ç›®äº†ç„¶ã€‚</p>\n<p><strong>å‰æ³¨æ„åŠ å·¥çš„å¥½å¤„</strong>ï¼šå°±åƒåœ¨é“è·¯åœ°å›¾ä¸Šæ ‡è®°å‡ºè½¬å¼¯å¤„ï¼Œè¯»è€…èƒ½ç«‹å³çœ‹åˆ°è¶‹åŠ¿å˜åŒ–çš„å…³é”®æ—¶åˆ»ã€‚</p>\n<h2 id=\"24-çªå‡ºç‰¹å®šç±»åˆ«\">2.4. çªå‡ºç‰¹å®šç±»åˆ«</h2>\n<pre><code class=\"language-python\"># ç¤ºä¾‹4ï¼šçªå‡ºç‰¹å®šç±»åˆ«\n# åˆ›å»ºé¥¼å›¾æ•°æ®\ncategories = [\"ç”µå­äº§å“\", \"æœè£…\", \"é£Ÿå“\", \"å®¶å±…\", \"ä¹¦ç±\", \"å…¶ä»–\"]\nvalues = [25, 18, 22, 15, 10, 10]\nhighlight_category = \"é£Ÿå“\"  # è¦çªå‡ºçš„ç±»åˆ«\nhighlight_idx = categories.index(highlight_category)\n\n# åˆ›å»ºå›¾è¡¨\nfig, (ax1, ax2) = plt.subplots(1, 2, figsize=(14, 6))\n\n# å·¦å›¾ï¼šæ²¡æœ‰å‰æ³¨æ„åŠ å·¥\ncolors1 = [\"#FF9AA2\", \"#FFB7B2\", \"#FFDAC1\", \"#E2F0CB\", \"#B5EAD7\", \"#C7CEEA\"]\nwedges1, texts1, autotexts1 = ax1.pie(\n    values, labels=categories, autopct=\"%1.1f%%\", colors=colors1, startangle=90\n)\n\n# å³å›¾ï¼šæœ‰å‰æ³¨æ„åŠ å·¥ï¼ˆçªå‡ºç‰¹å®šç±»åˆ«ï¼‰\n# å°†çªå‡ºç±»åˆ«çš„é¢œè‰²æ”¹ä¸ºé†’ç›®çš„é¢œè‰²ï¼Œå…¶ä»–ç±»åˆ«ç”¨ç°åº¦\ncolors2 = [\"lightgray\"] * len(categories)\ncolors2[highlight_idx] = \"#FF6B6B\"  # çªå‡ºç±»åˆ«ç”¨çº¢è‰²\n\n# çªå‡ºæ˜¾ç¤ºï¼šå°†ç‰¹å®šç±»åˆ«\"æ‹‰å‡º\"\nexplode = [0] * len(categories)\nexplode[highlight_idx] = 0.1\n\nwedges2, texts2, autotexts2 = ax2.pie(\n    values,\n    labels=categories,\n    autopct=\"%1.1f%%\",\n    colors=colors2,\n    explode=explode,\n    startangle=90,\n)\n\nplt.tight_layout()\nplt.show()\n</code></pre>\n\n<p><img alt=\"\" src=\"https://img2024.cnblogs.com/blog/83005/202601/83005-20260104230912185-501416555.png\" /></p>\n<p>å·¦å›¾ä¸­ï¼Œæ‰€æœ‰ç±»åˆ«è§†è§‰æƒé‡ç›¸åŒï¼Œè¯»è€…éœ€è¦é˜…è¯»æ ‡ç­¾æˆ–ç™¾åˆ†æ¯”æ‰èƒ½æ‰¾åˆ°ç‰¹å®šç±»åˆ«ã€‚</p>\n<p>å³å›¾ä¸­ï¼Œç›®æ ‡ç±»åˆ«è¢«\"æ‹‰å‡º\"å¹¶ç”¨é†’ç›®çš„çº¢è‰²æ˜¾ç¤ºï¼Œå…¶ä»–ç±»åˆ«åˆ™ç”¨ç°è‰²æ·¡åŒ–ï¼Œè¯»è€…ä¸€çœ¼å°±èƒ½çœ‹åˆ°é‡ç‚¹ã€‚</p>\n<p><strong>å‰æ³¨æ„åŠ å·¥çš„å¥½å¤„</strong>ï¼šå°±åƒåœ¨åˆå”±å›¢ä¸­ä¸ºç‹¬å”±è€…æ‰“ä¸Šèšå…‰ç¯ï¼Œç‰¹å®šç±»åˆ«ç«‹å³æˆä¸ºè§†è§‰ç„¦ç‚¹ã€‚</p>\n<p>åŒæ ·ï¼Œåœ¨ç»˜åˆ¶<strong>å¤šæ¡æŠ˜çº¿å›¾</strong>ï¼ˆä¹Ÿå°±æ˜¯ä¿—ç§°çš„â€œé¢æ¡å›¾â€ï¼‰æ—¶ï¼Œå¦‚æœæ¯æ¡çº¿éƒ½ç”¨é«˜é¥±å’Œåº¦çš„é¢œè‰²ï¼Œç”»é¢ä¼šéå¸¸æ··ä¹±ï¼Œè¯»è€…ä¸çŸ¥é“è¯¥çœ‹å“ªä¸€æ¡ã€‚</p>\n<p>ä¹Ÿå¯ä»¥ç”¨ä¸Šé¢é¥¼å›¾ç±»ä¼¼çš„æ€è·¯ï¼Œé™ä½éé‡ç‚¹æ•°æ®çš„<strong>ä¸é€æ˜åº¦</strong>ï¼ˆ<code>Alpha</code>ï¼‰å’Œ<strong>çº¿å®½</strong>ï¼ˆ<code>Linewidth</code>ï¼‰ï¼Œåªä¿ç•™é‡ç‚¹æ•°æ®çš„é²œæ˜æ ·å¼ã€‚</p>\n<p>è¿™å°±åƒèˆå°ä¸Šçš„èšå…‰ç¯ï¼Œç¯å…‰æ‰“åœ¨å“ªé‡Œï¼Œè§‚ä¼—å°±çœ‹å“ªé‡Œã€‚</p>\n<pre><code class=\"language-python\"># æ¨¡æ‹Ÿæ—¶é—´åºåˆ—æ•°æ®\nx = np.linspace(0, 10, 100)\n# ç”Ÿæˆ5æ¡å¹²æ‰°çº¿\nlines = [np.sin(x + i) * (1 + i/10) for i in range(5)]\n# ç”Ÿæˆ1æ¡é‡ç‚¹çº¿ï¼ˆæ¯”å¦‚è¿™æ˜¯æˆ‘ä»¬å…¬å¸çš„äº§å“ï¼‰\nmain_line = np.sin(x) * 2.5 + 1\n\nfig, (ax1, ax2) = plt.subplots(1, 2, figsize=(12, 5))\n\n# --- å›¾1ï¼šæ²¡æœ‰å‰æ³¨æ„åŠ å·¥ ---\n# å…¸å‹çš„é¢æ¡å›¾ï¼Œæ‰€æœ‰çº¿éƒ½åœ¨äº‰å¤ºæ³¨æ„åŠ›\nfor i, line in enumerate(lines):\n    ax1.plot(x, line, label=f'Competitor {i}')\nax1.plot(x, main_line, label='Our Product')\n\n# --- å›¾2ï¼šæœ‰å‰æ³¨æ„åŠ å·¥ ---\n# ç­–ç•¥ï¼šå¼±åŒ–èƒŒæ™¯ï¼Œçªå‡ºå‰æ™¯\nfor line in lines:\n    ax1.plot(x, line) # å·¦å›¾é€»è¾‘\n    # å³å›¾é€»è¾‘ï¼šç°è‰²ã€ç»†çº¿ã€åŠé€æ˜\n    ax2.plot(x, line, color='lightgray', linewidth=1, alpha=0.6)\n\n# é‡ç‚¹çº¿ï¼šæ·±é’è‰²ã€åŠ ç²—ã€ä¸é€æ˜\nax2.plot(x, main_line, color='teal', linewidth=3, label='Our Product')\n\nplt.tight_layout()\nplt.show()\n</code></pre>\n\n<p><img alt=\"\" src=\"https://img2024.cnblogs.com/blog/83005/202601/83005-20260104230912198-1217895469.png\" /></p>\n<h1 id=\"3-æ€»ç»“\">3. æ€»ç»“</h1>\n<p><strong>å‰æ³¨æ„åŠ å·¥</strong>æ˜¯æ•°æ®å¯è§†åŒ–ä¸­çš„\"è§†è§‰è¯­æ³•\"ï¼Œå®ƒé€šè¿‡é¢„è®¤çŸ¥çš„è§†è§‰ç‰¹å¾å¼•å¯¼è¯»è€…çš„æ³¨æ„åŠ›ã€‚</p>\n<p>å°±åƒç†Ÿç»ƒçš„å¯¼æ¸¸ä¼šæŒ‡å‡ºé£æ™¯ä¸­çš„äº®ç‚¹ï¼Œæœ‰æ•ˆçš„æ•°æ®å¯è§†åŒ–åº”è¯¥å¼•å¯¼è¯»è€…ç«‹å³çœ‹åˆ°æ•°æ®æ•…äº‹ä¸­<strong>æœ€å…³é”®</strong>çš„éƒ¨åˆ†ã€‚</p>\n<p>æ•°æ®å¯è§†åŒ–ä¸ä»…ä»…æ˜¯æŠŠæ•°æ®ç”»å‡ºæ¥ï¼Œæ›´æ˜¯ä¸€åœº<strong>æ³¨æ„åŠ›çš„ç®¡ç†è‰ºæœ¯</strong>ã€‚</p>\n<ul>\n<li><strong>ä¸è¦è®©è¯»è€…çš„çœ¼ç›å»â€œå·¥ä½œâ€</strong>ï¼šå¦‚æœä»–ä»¬éœ€è¦èŠ±å¥½å‡ ç§’é’Ÿå»æ‰¾æœ€å¤§å€¼ï¼Œé‚£æ˜¯æˆ‘ä»¬è®¾è®¡è€…çš„å¤±èŒã€‚</li>\n<li><strong>åˆ©ç”¨å¯¹æ¯”</strong>ï¼šé¢œè‰²ï¼ˆäº®/æš—ï¼‰ã€å¤§å°ï¼ˆå¤§/å°ï¼‰ã€ä½ç½®ï¼ˆå‰/åï¼‰ï¼Œè¿™äº›ç‰©ç†å±æ€§çš„å¯¹æ¯”èƒ½ç¬é—´è§¦å‘å¤§è„‘çš„â€œç³»ç»Ÿ1â€ï¼ˆç›´è§‰ç³»ç»Ÿï¼‰ã€‚</li>\n</ul>\n<p>ä¸‹æ¬¡ä½¿ç”¨ <code>Matplotlib</code> ç»˜å›¾æ—¶ï¼Œåœ¨ <code>plt.show()</code> ä¹‹å‰ï¼Œè¯·åœä¸‹æ¥é—®è‡ªå·±ä¸€ä¸ªé—®é¢˜ï¼šâ€œ<strong>æˆ‘è¿™å¼ å›¾é‡Œï¼Œæœ€æƒ³è®©è¯»è€…ç¬¬ä¸€çœ¼çœ‹åˆ°çš„æ˜¯ä»€ä¹ˆï¼Ÿ</strong>â€</p>\n<p>ä¸€æ—¦ç¡®å®šäº†ç­”æ¡ˆï¼Œå°±è¯·å¤§èƒ†åœ°ä½¿ç”¨ä¸Šè¿°æŠ€å·§ï¼ŒæŠŠå®ƒâ€œæ¨â€åˆ°è¯»è€…çœ¼å‰å§ï¼</p>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-04 23:10</span>&nbsp;\n<a href=\"https://www.cnblogs.com/wang_yb\">wang_yb</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">0</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "å¦‚ä½•ç”¨ AI + OpenSpec é©±åŠ¨å›¢é˜Ÿè¿­ä»£å¼€å‘",
      "link": "https://www.cnblogs.com/zh94/p/19439980",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/zh94/p/19439980\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-04 22:49\">\n    <span>å¦‚ä½•ç”¨ AI + OpenSpec é©±åŠ¨å›¢é˜Ÿè¿­ä»£å¼€å‘</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<p>ä»æ··ä¹±åˆ°æœ‰åºï¼Œä»å£å£ç›¸ä¼ åˆ°çŸ¥è¯†æ²‰æ·€ï¼Œæˆ‘ä»¬ç”¨ä¸€æ¬¡å®è·µæ¢ç´¢äº† AI è¾…åŠ©å›¢é˜Ÿå¼€å‘çš„å®Œæ•´æ¶æ„</p>\n<h2 id=\"ä¸€ä¸ªçœŸå®çš„ç—›ç‚¹\">ä¸€ä¸ªçœŸå®çš„ç—›ç‚¹</h2>\n<p>ä½ æ˜¯å¦é‡åˆ°è¿‡è¿™æ ·çš„åœºæ™¯ï¼š</p>\n<ol>\n<li>å†™ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼ŸAI ç§’æ€æˆ‘ã€‚</li>\n<li>å†™ä¸ªç‹¬ç«‹è„šæœ¬ï¼ŸAI çœŸé¦™ã€‚</li>\n<li>å†™ä¸ªç‚«é…·ç½‘é¡µï¼ŸAI çœŸç‰› Xï¼</li>\n</ol>\n<p>ä½†æ˜¯ä¸€æ—¦å°† AI æ‰”è¿›ä¸€ä¸ªåºå¤§çš„å¾®æœåŠ¡é¡¹ç›®é‡Œï¼Œå®ƒä¼¼ä¹ç«‹åˆ»é™æ™ºä¸ºäº†â€œæ–°æ‰‹å°ç™½â€ï¼Ÿ</p>\n<p>ç”±äº AI æ— æ³•ç†è§£ä¸‰å¹´å‰å†™ä¸‹çš„é‚£æ®µâ€œå¥‡è‘©ä»£ç â€ç©¶ç«Ÿä¸ºä½•ï¼Œå¯¼è‡´æ¯æ¬¡å¯¹è¯éƒ½åƒâ€œå¼€ç›²ç›’â€ï¼ŒReview AI ç”Ÿæˆä»£ç çš„æ—¶é—´ï¼Œæ¯”è‡ªå·±é‡å†™ä¸€éè¿˜è¦é•¿ã€‚</p>\n<p>è¿™äº›é—®é¢˜çš„æœ¬è´¨å…¶å®æ˜¯ï¼š<strong>ç¼ºä¹ä¸€ä¸ªç»“æ„åŒ–çš„ã€AI å¯ç†è§£çš„çŸ¥è¯†ç®¡ç†ä½“ç³»</strong>ã€‚</p>\n<p>æœ€è¿‘ï¼Œæˆ‘ä»¬åœ¨ä¸€ä¸ªå¤æ‚çš„å¾®æœåŠ¡é¡¹ç›®ä¸­ï¼Œæ¢ç´¢å¹¶å®è·µäº†ä¸€å¥— <strong>â€œäººæœºååŒè¿­ä»£å¼€å‘â€çš„å®Œæ•´æ¶æ„</strong>ã€‚æ•´ä¸ªè¿‡ç¨‹æ²¡æœ‰é¢å¤–ç¼–å†™ä¸€è¡Œå·¥å…·ä»£ç ï¼Œä»…é€šè¿‡å¯¹è¯å’Œç°æœ‰å·¥å…·é“¾ï¼Œå°±è®© AI ä»â€œé¡¹ç›®å°ç™½â€æˆé•¿ä¸ºâ€œç†Ÿæ‚‰ä¸šåŠ¡çš„å¼€å‘ä¼™ä¼´â€ã€‚</p>\n<p>æœ¬æ–‡å°†å®Œæ•´è¿˜åŸè¿™ä¸€è¿‡ç¨‹ï¼Œå¹¶æ€»ç»“å‡ºå¯å¤åˆ¶çš„æ–¹æ³•è®ºã€‚</p>\n<h2 id=\"ç¬¬ä¸€æ­¥å»ºç«‹-ai-å¯ç†è§£çš„é¡¹ç›®å¤§è„‘\">ç¬¬ä¸€æ­¥ï¼šå»ºç«‹ AI å¯ç†è§£çš„â€œé¡¹ç›®å¤§è„‘â€</h2>\n<p>å¤§å¤šæ•°å›¢é˜Ÿçš„æ–‡æ¡£æ˜¯å†™ç»™äººçœ‹çš„ï¼Œè€Œé AIï¼š</p>\n<ul>\n<li>âŒ é£ä¹¦/Confluence/Wiki é‡Œçš„è®¾è®¡æ–‡æ¡£å¤ªå¤šï¼Œå¤ªæ‚ã€‚</li>\n<li>âŒ æ•£è½åœ¨å„å¤„çš„ README â†’ AI æŠ“ä¸ä½é‡ç‚¹ã€‚</li>\n<li>âŒ èµ„æ·±å‘˜å·¥è„‘ä¸­çš„éšæ€§çŸ¥è¯† â†’ AI æ°¸è¿œå­¦ä¸ä¼šã€‚</li>\n</ul>\n<p>æˆ‘ä»¬çš„è§£æ³•æ˜¯å¼•å…¥ <strong>OpenSpec</strong> è§„èŒƒï¼Œå¹¶åŸºäºå®ƒæ„å»ºä¸€æ•´å¥—â€œçŸ¥è¯†è¿­ä»£ä½“ç³»â€ã€‚</p>\n<p>OpenSpec æ ¸å¿ƒç†å¿µæå…¶ç®€å•ï¼šè®© AI æ˜ç¡®çŸ¥é“â€œçŸ¥è¯†åœ¨å“ªã€å¦‚ä½•ç”¨ã€ä»¥åŠä¸ºä»€ä¹ˆè¿™æ ·åšâ€ã€‚</p>\n<h3 id=\"11-æ­å»ºçŸ¥è¯†éª¨æ¶\">1.1 æ­å»ºâ€œçŸ¥è¯†éª¨æ¶â€</h3>\n<p>æ— è®ºæ˜¯æ–°é¡¹ç›®è¿˜æ˜¯å†å²é¡¹ç›®ï¼Œç¬¬ä¸€æ­¥éƒ½æ˜¯é€šè¿‡å‘½ä»¤è¡Œåˆå§‹åŒ–ä¸€ä¸ªæ ‡å‡†çš„çŸ¥è¯†ç›®å½•ç»“æ„ï¼š</p>\n<pre><code class=\"language-bash\">cd /path/to/your-project\nopenspec init\n</code></pre>\n<p>ç”Ÿæˆçš„ç›®å½•ç»“æ„ï¼Œä¾¿æ˜¯é¡¹ç›®çš„â€œçŸ¥è¯†éª¨æ¶â€ï¼š</p>\n<pre><code>openspec/\n â”œâ”€â”€ AGENTS.md       # ã€å¤§è„‘æŒ‡ä»¤ã€‘AI å·¥ä½œæŒ‡å—ï¼ˆå¼€å‘è§„èŒƒã€æµ‹è¯•ç­–ç•¥ã€é”™è¯¯ç è®¾è®¡ç­‰ï¼‰\n â”œâ”€â”€ project.md      # ã€é•¿æœŸè®°å¿†ã€‘é¡¹ç›®ä¸Šä¸‹æ–‡ï¼ˆç›®æ ‡ã€æ ¸å¿ƒæœ¯è¯­ã€æ–‡æ¡£ç´¢å¼•ï¼‰\n â”œâ”€â”€ specs/          # ã€æŠ€èƒ½æ ‘ã€‘å·²å®ç°èƒ½åŠ›çš„è§„èŒƒï¼ˆåšäº†ä»€ä¹ˆï¼‰\n â”œâ”€â”€ changes/        # ã€çŸ­æœŸè®°å¿†ã€‘å¾…å¤„ç†çš„å˜æ›´ææ¡ˆï¼ˆè¦åšä»€ä¹ˆï¼‰\n â””â”€â”€ docs/           # ã€çŸ¥è¯†åº“ã€‘è¯¦ç»†æ–‡æ¡£ï¼ˆä¸ºä»€ä¹ˆè¿™æ ·åšï¼‰\n</code></pre>\n<p>æ­¤ä¸¾çš„æ ¸å¿ƒåœ¨äºä¸º AI æä¾›ä¸€ä¸ªæ˜ç¡®çš„ç»“æ„åŒ–ç´¢å¼•ï¼Œè€Œéä¸€è‚¡è„‘åœ°å¡å…¥æ‰€æœ‰æ–‡æ¡£ã€‚</p>\n<p>å…¶ä¸­ <code>docs</code> å¹¶éOpenSpecè§„èŒƒï¼Œè€Œæ˜¯è‡ªè¡Œåˆ›å»ºçš„ç›®å½•ï¼Œåç»­ç”¨ä½œè¯¦ç»†ç´¢å¼•æ—¶ä½¿ç”¨ï¼Œéœ€è¦æ‰‹åŠ¨åˆ›å»ºã€‚</p>\n<h3 id=\"12-è®©-ai-è®¤è¯†ä½ çš„é¡¹ç›®\">1.2 è®© AI â€œè®¤è¯†â€ä½ çš„é¡¹ç›®</h3>\n<p>å¯¹äºå·²æœ‰é¡¹ç›®ï¼ŒAI èµ·åˆé¢å¯¹ä¸€ç‰‡ç©ºç™½ã€‚æˆ‘ä»¬é‡‡ç”¨ <strong>â€œç´¢å¼•å±‚ + æ˜ç»†å±‚â€</strong> çš„åŒå±‚ç»“æ„æ¥å¡«å……çŸ¥è¯†ã€‚</p>\n<p><strong>ç´¢å¼•å±‚ï¼ˆ<code>AGENTS.md</code> &amp; <code>project.md</code>ï¼‰</strong></p>\n<p>è¿™é‡Œä¸å†™é•¿ç¯‡å¤§è®ºï¼Œåªæä¾›â€œåœ°å›¾â€ã€‚</p>\n<ul>\n<li><code>AGENTS.md</code>ï¼šå®šä¹‰ AI çš„æ ¸å¿ƒå¼€å‘è§„èŒƒï¼ˆå¦‚å‘½åã€é”™è¯¯ç ã€æµ‹è¯•ç­–ç•¥ï¼‰ã€‚</li>\n<li><code>project.md</code>ï¼šé˜è¿°ä¸šåŠ¡å…±æ€§çŸ¥è¯†ï¼ˆå¦‚é¡¹ç›®ç›®æ ‡ã€æ ¸å¿ƒæœ¯è¯­ã€éœ€æ±‚æ¦‚è¦ï¼‰ï¼Œå¹¶æŒ‡æ˜å„é¡¹è¯¦ç»†æ–‡æ¡£åœ¨ <code>docs/</code> ä¸­çš„ä½ç½®ç´¢å¼•ã€‚</li>\n</ul>\n<p><strong>æ˜ç»†å±‚ï¼ˆ<code>openspec/docs/</code>ï¼‰</strong>ï¼šè¿™é‡Œå­˜æ”¾çœŸæ­£çš„â€œå¹²è´§â€ï¼šè¯¦ç»†çš„æ¶æ„è®¾è®¡ã€å¤æ‚çš„éœ€æ±‚æ–‡æ¡£ã€ä¸šåŠ¡é€»è¾‘è¯´æ˜ã€‚</p>\n<p>å·¥ä½œæµå½¢æˆé—­ç¯ï¼šå½“ AI æ¥åˆ°ä»»åŠ¡ â†’ å…ˆè¯» <code>AGENTS.md</code>ï¼ˆè·å–è§„èŒƒï¼‰â†’ å†è¯» <code>project.md</code>ï¼ˆè·å–ä¸šåŠ¡èƒŒæ™¯ï¼‰â†’ æ ¹æ®ç´¢å¼•å®šä½åˆ° <code>docs/</code> ä¸‹çš„å…·ä½“æ–‡æ¡£ â†’ æ·±åˆ»ç†è§£ä¸Šä¸‹æ–‡åå¼€å§‹å·¥ä½œã€‚</p>\n<p>æœ€æ£’çš„æ˜¯ï¼šä½ æ— éœ€æ‰‹åŠ¨ç¼–å†™è¿™äº›ç´¢å¼•ã€‚åªéœ€å‘èµ·ä¸€ä¸ª OpenSpec ææ¡ˆï¼Œé€šè¿‡å¯¹è¯å¼•å¯¼ AI è‡ªå·±å»æ¢³ç†é¡¹ç›®æ¶æ„å’Œä¸šåŠ¡ï¼Œå®ƒä¾¿èƒ½è‡ªåŠ¨ç”Ÿæˆåˆå§‹çš„ <code>project.md</code> å†…å®¹ã€‚</p>\n<blockquote>\n<p><strong>çŸ¥è¯†è¿­ä»£æç¤º</strong>ï¼šåç»­åœ¨ docs/ ä¸‹ç»´æŠ¤æ–°çŸ¥è¯†æ—¶ï¼Œéœ€å¼•å¯¼ AI åŸºäºæ›´æ–°åçš„çŸ¥è¯†åº“ï¼Œé‡æ–°æ€»ç»“ç”Ÿæˆæ–°çš„ project.mdã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªã€Šæ–‡æ¡£ç®¡ç†æŒ‡å—ã€‹ä½œä¸ºå‡†åˆ™ï¼Œç¡®ä¿ AI æ¯æ¬¡è¿­ä»£æ—¶éƒ½èƒ½éµå¾ªï¼Œä»è€Œä¿éšœä¸šåŠ¡çŸ¥è¯†çš„æŒç»­æœ‰æ•ˆæ€§å’Œä¸€è‡´æ€§ã€‚</p>\n</blockquote>\n<h2 id=\"ç¬¬äºŒæ­¥åä½œæœºåˆ¶åƒç®¡ç†ä»£ç ä¸€æ ·ç®¡ç†çŸ¥è¯†\">ç¬¬äºŒæ­¥ï¼šåä½œæœºåˆ¶â€”â€”åƒç®¡ç†ä»£ç ä¸€æ ·ç®¡ç†â€œçŸ¥è¯†â€</h2>\n<p>å»ºç«‹äº†åˆå§‹çŸ¥è¯†åº“ï¼Œè¿˜éœ€è®©çŸ¥è¯†éšç€é¡¹ç›®è¿­ä»£è€Œæ›´æ–°ã€‚æˆ‘ä»¬å¼•å…¥äº†ä¸€å¥— <strong>Change-Drivenï¼ˆå˜æ›´é©±åŠ¨ï¼‰</strong> çš„åä½œæµç¨‹ï¼Œå¹¶å°†å…¶ä½œä¸ºå›¢é˜Ÿæ ¸å¿ƒå‡†åˆ™ä¸¥æ ¼æ‰§è¡Œã€‚</p>\n<p>æ‰€æœ‰æ–°çš„éœ€æ±‚æˆ–å˜æ›´ï¼Œéƒ½å¿…é¡»ä¸¥æ ¼é€šè¿‡ OpenSpec å‘èµ·ææ¡ˆï¼š</p>\n<ol>\n<li><strong>éœ€æ±‚å˜æ›´ â†’ å‘èµ· OpenSpec ææ¡ˆ</strong>\n<ul>\n<li>å¼€å‘æ–°éœ€æ±‚æ—¶ï¼Œå¿…é¡»é€šè¿‡ OpenSpec åˆ›å»ºææ¡ˆï¼ˆ<code>changes/proposal-xxx.md</code>ï¼‰ã€‚</li>\n<li>äººå·¥å®¡æŸ¥é‡ç‚¹ï¼šæ ¸å¯¹ AI ç”Ÿæˆçš„ææ¡ˆä¸­ <strong>Whyï¼ˆèƒŒæ™¯ï¼‰ã€Whatï¼ˆç›®æ ‡ï¼‰ã€Impactï¼ˆå½±å“ï¼‰</strong> æ˜¯å¦æ¸…æ™°ä¸€è‡´ï¼Œç¡®ä¿äººä¸ AI çš„ç†è§£å¯¹é½ã€‚</li>\n</ul>\n</li>\n<li><strong>AI è¾…åŠ©å®ç°</strong>\n<ul>\n<li>AI è¯»å–å·²é€šè¿‡çš„ææ¡ˆï¼Œç»“åˆ <code>specs/</code> ä¸­å·²æœ‰çš„èƒ½åŠ›è§„èŒƒï¼Œç”Ÿæˆæˆ–ä¿®æ”¹ä»£ç åŠæµ‹è¯•ç”¨ä¾‹ã€‚</li>\n<li>äººå·¥è¿›è¡Œ Code Reviewã€‚</li>\n</ul>\n</li>\n<li><strong>çŸ¥è¯†æ²‰æ·€ï¼ˆå½’æ¡£ï¼‰</strong>\n<ul>\n<li>è¿è¡Œ <code>openspec archive</code> å‘½ä»¤ã€‚</li>\n<li>AI å°†è‡ªåŠ¨æŠŠæœ¬æ¬¡å˜æ›´æ‰€æ¶‰åŠçš„æ–°çŸ¥è¯†ã€æ–°è§„èŒƒï¼Œæ›´æ–°åˆ° <code>specs/</code> å’Œ <code>docs/</code> ä¸­ï¼Œå®ŒæˆçŸ¥è¯†å…¥åº“ã€‚</li>\n</ul>\n</li>\n</ol>\n<p>é€šè¿‡è¿™ä¸ªæµç¨‹ï¼Œæ¯ä¸€æ¬¡éœ€æ±‚è¿­ä»£åŠå…¶äº§ç”Ÿçš„ä»£ç ï¼Œéƒ½å®Œæ•´åœ°é—­ç¯å¹¶æ²‰æ·€åˆ° OpenSpec ä½“ç³»é‡Œã€‚AI åœ¨å¤„ç†åç»­éœ€æ±‚æ—¶ï¼Œä¾¿æœ‰äº†å¯è¿½æº¯å’Œå€Ÿé‰´çš„â€œå†å²ç»éªŒâ€ã€‚</p>\n<h2 id=\"å®è·µå»ºè®®ä¸åœºæ™¯è€ƒé‡\">å®è·µå»ºè®®ä¸åœºæ™¯è€ƒé‡</h2>\n<p>åœ¨å®é™…æ“ä½œä¸­ï¼Œä½ è¿˜ä¼šé‡åˆ°ä¸€äº›å…·ä½“é—®é¢˜ï¼Œä¾‹å¦‚ï¼š</p>\n<p><strong>Qï¼šå¾®æœåŠ¡é¡¹ç›®ä¸‹å­æœåŠ¡ä¼—å¤šï¼Œåº”è¯¥æ¯ä¸ªæœåŠ¡åˆå§‹åŒ–ä¸€å¥— OpenSpecï¼Œè¿˜æ˜¯æ•´ä¸ªé¡¹ç›®å…±ç”¨ä¸€å¥—ï¼Ÿ</strong></p>\n<p>æˆ‘ä»¬çš„ç»éªŒåˆ™æ˜¯ï¼š<strong>åŸºäºçŸ¥è¯†ç‹¬ç«‹æ€§è¿›è¡Œåˆ¤æ–­</strong>ã€‚</p>\n<ul>\n<li>å¦‚æœæŸä¸ªæ¨¡å—ï¼ˆå¦‚ç”¨æˆ·ä¸­å¿ƒï¼‰çš„ä¸šåŠ¡çŸ¥è¯†ä¸å…¶ä»–æ¨¡å—é‡åˆåº¦å¾ˆä½ï¼ˆä¾‹å¦‚&lt;30%ï¼‰ï¼Œç‹¬ç«‹åˆå§‹åŒ–ä¸€ä¸ª OpenSpec ç›®å½•æ˜¯æ›´æ¸…æ™°çš„é€‰æ‹©ã€‚</li>\n<li>å¦‚æœå¤šä¸ªæœåŠ¡å…±äº«å¤§é‡å…±æ€§ä¸šåŠ¡çŸ¥è¯†ï¼ˆé‡åˆåº¦&gt;70%ï¼‰ï¼Œå…±ç”¨ä¸€å¥—OpenSpec æ›´èƒ½ä¿è¯çŸ¥è¯†çš„ä¸€è‡´æ€§å’Œ AI çš„ç†è§£æ•ˆç‡ã€‚</li>\n</ul>\n<p>ä¸åŒçš„ä¸šåŠ¡æ¶æ„éœ€è¦çµæ´»é‡‡ç”¨ä¸åŒçš„ç­–ç•¥ã€‚</p>\n<h2 id=\"èµ°å‘äºº--aiçš„å›¢é˜Ÿåä½œ\">èµ°å‘â€œäºº + AIâ€çš„å›¢é˜Ÿåä½œ</h2>\n<p>å½“è¿™å¥—ä»¥çŸ¥è¯†ä¸ºæ ¸å¿ƒçš„è¿­ä»£ä½“ç³»ç¨³å›ºè¿è¡Œåï¼Œä½ ä¼šå‘ç°ï¼š</p>\n<ul>\n<li>éšæ€§çŸ¥è¯†è¢«å½»åº•æ˜¾æ€§åŒ–ã€‚</li>\n<li>æ–°æˆå‘˜ï¼ˆåŒ…æ‹¬ AIï¼‰ å­¦ä¹ æˆæœ¬å¤§å¹…é™ä½ã€‚</li>\n<li>åœ¨åç»­ç¼–å†™æ¥å£æ–‡æ¡£ã€æ¶æ„è¿­ä»£æˆ–ä»£ç é‡æ„æ—¶ï¼ŒAI çš„æ•ˆèƒ½å°†è¢«æˆå€æ”¾å¤§ã€‚</li>\n</ul>\n<p>æœªæ¥çš„é«˜æ•ˆå›¢é˜Ÿåä½œï¼Œæ˜¯ <strong>â€œäºº + AIâ€</strong> çš„æ·±åº¦èåˆã€‚è®© AI æˆä¸ºå›¢é˜Ÿå¿ å®çš„â€œçŸ¥è¯†ä¼™ä¼´â€è€Œä¸ä»…ä»…æ˜¯ä¸´æ—¶çš„â€œä»£ç åŠ©æ‰‹â€ï¼Œè¿™ï¼Œæ‰æ˜¯ AI æ—¶ä»£å›¢é˜Ÿå¼€å‘çš„æ­£ç¡®æ‰“å¼€æ–¹å¼ã€‚</p>\n<hr />\n<p><strong>æ¬¢è¿æ—¥å¸¸äº¤æµ</strong></p>\n<p>AI é©±åŠ¨å›¢é˜Ÿå¼€å‘æ˜¯è¿™ä¸ªæ—¶ä»£çš„æ–°å‘½é¢˜ï¼Œæ¬¢è¿å¤§å®¶åŠ å¾®ä¿¡äº’ç›¸äº¤æµå¿ƒå¾—ã€‚</p>\n<p>ğŸ‘‰ æƒ³è¦è¿›ç¾¤çš„æœ‹å‹ï¼Œæ‰«ç æ—¶å¤‡æ³¨ â€œAIå®éªŒç¾¤â€ï¼Œçœ‹åˆ°æ¶ˆæ¯åä¼šç¬¬ä¸€æ—¶é—´æ‹‰ä½ è¿›ç¾¤ã€‚</p>\n<p>ç¾¤å®šä½ï¼šAIå·¥å…·ææ•ˆ/å®æˆ˜ç»éªŒäº’åŠ©<br />\nç¾¤è§„åˆ™ï¼šä¸æ°´ç¾¤ã€ä¸å¹¿å‘Šã€å¹²è´§ä¼˜å…ˆ</p>\n<p>æ¬¢è¿è®¿é—®è¯¥é“¾æ¥è·å–ç¾¤ä¿¡æ¯ï¼š<a href=\"https://zhaozhihao.com/archives/KRMxDLo4\" rel=\"noopener nofollow\" target=\"_blank\">https://zhaozhihao.com/archives/KRMxDLo4</a></p>\n<hr />\n<p><strong>å¥½æ–‡ç« å€¼å¾—è¢«æ›´å¤šäººçœ‹è§ï¼æ—¢ç„¶çœ‹åˆ°è¿™é‡Œäº†ï¼Œéšæ‰‹ç‚¹ä¸ªèµğŸ‘å’Œå…³æ³¨ï¼Œå¹¶è½¬å‘ç»™æ›´å¤šçš„æœ‹å‹å§ï¼æ„Ÿè°¢ã€‚</strong></p>\n<blockquote>\n<p>ä½œè€…ï¼šæ•°å­—ç”Ÿå‘½è´¾å…‹æ–¯ã€å¾®ä¿¡ï¼šx_h886688</p>\n</blockquote>\n<p>å…¬ä¼—å·åŸæ–‡åœ°å€ï¼š<a href=\"https://mp.weixin.qq.com/s/CJPCsYoQOo5Ib1Q8f0IZBA\" rel=\"noopener nofollow\" target=\"_blank\">å¦‚ä½•ç”¨ AI + OpenSpec é©±åŠ¨å›¢é˜Ÿè¿­ä»£å¼€å‘</a><br />\nä¸ªäººç½‘ç«™åŸæ–‡åœ°å€ï¼š<a href=\"https://zhaozhihao.com/archives/rGL0TwgK\" rel=\"noopener nofollow\" target=\"_blank\">å¦‚ä½•ç”¨ AI + OpenSpec é©±åŠ¨å›¢é˜Ÿè¿­ä»£å¼€å‘</a></p>\n\n</div>\n<div id=\"MySignature\">\n    <br />\n<fieldset style=\"padding: 10px; margin: 10px; background-color: #fff; width: 850px; border: 1px solid black; font-size: blod;\">\n<p><span style=\"color: black;\">ç‰ˆæƒå£°æ˜</span></p>\n<hr style=\"color: black;\" />\n<p><span style=\"color: black;\">ä½œè€…ï¼šé™ˆå’¬é‡‘</span></p>\n<p><span style=\"color: black;\">å‡ºå¤„ï¼š</span><a href=\"https://www.cnblogs.com/zh94/\" style=\"color: black;\" target=\"_blank\">é™ˆå’¬é‡‘çš„æŠ€æœ¯åšå®¢--https://www.cnblogs.com/zh94/</a></p>\n<p><span style=\"color: black;\">æ‚¨çš„æ”¯æŒæ˜¯å¯¹åšä¸»æœ€å¤§çš„é¼“åŠ±ï¼Œæ„Ÿè°¢æ‚¨çš„è®¤çœŸé˜…è¯»ã€‚</span></p>\n<p><span style=\"color: black;\">æœ¬æ–‡ç‰ˆæƒå½’ä½œè€…æ‰€æœ‰ï¼Œæ¬¢è¿è½¬è½½ï¼Œä½†æœªç»ä½œè€…åŒæ„å¿…é¡»ä¿ç•™æ­¤æ®µå£°æ˜ï¼Œä¸”åœ¨æ–‡ç« é¡µé¢æ˜æ˜¾ä½ç½®ç»™å‡ºåŸæ–‡è¿æ¥ï¼Œå¦åˆ™ä¿ç•™ä»»ä½•è¿½ç©¶æ³•å¾‹è´£ä»»çš„æƒåˆ©ã€‚</span></p>\n</fieldset>\n\n<div style=\"padding: 10px; margin: 10px; background-color: #fff; width: 850px; border: 0px solid black; font-size: blod;\">\n     <img src=\"https://images.cnblogs.com/cnblogs_com/zh94/1586631/o_211225012748_weixin_saoma.png\" />&nbsp;&nbsp;&nbsp;&nbsp;<img src=\"https://images.cnblogs.com/cnblogs_com/zh94/1586631/o_211225012748_weixin_saoma.png\" />\n</div>\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-04 22:49</span>&nbsp;\n<a href=\"https://www.cnblogs.com/zh94\">é™ˆå’¬é‡‘</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">0</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "Codeforces Global Round 31 (Div. 1 + Div. 2) (#2180) å…¨è§£",
      "link": "https://www.cnblogs.com/dccy/p/19439949",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/dccy/p/19439949\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-04 22:32\">\n    <span>Codeforces Global Round 31 (Div. 1 + Div. 2) (#2180) å…¨è§£</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h1 id=\"codeforces-global-round-31-div-1--div-2-2180-å…¨è§£\"><a href=\"https://codeforces.com/contest/2180\" rel=\"noopener nofollow\" target=\"_blank\">Codeforces Global Round 31 (Div. 1 + Div. 2) (#2180) å…¨è§£</a></h1>\n<p>ä»Šå¤©æ—©ä¸Š VP è¿™åœºæ¯”èµ›ï¼Œè¿‡äº† ABCEã€‚</p>\n<h2 id=\"a-carnival-wheel\">A. Carnival Wheel</h2>\n<p>ç”±äºæ•°æ®èŒƒå›´æ˜¯ <span class=\"math inline\">\\(5000\\)</span>ï¼Œæˆ‘ä»¬æš´åŠ›æ¨¡æ‹Ÿå³å¯ã€‚</p>\n<p>å¼€ä¸€ä¸ªå€¼åŸŸå¤§å°çš„æ ‡è®°æ•°ç»„ï¼Œå¦‚æœæ‰¾åˆ°äº†ç¯å°±ç›´æ¥é€€å‡ºï¼Œè®°å½•é€”ä¸­æœ€å¤§å€¼å³å¯ã€‚</p>\n<p><a href=\"https://codeforces.com/contest/2180/submission/356326001\" rel=\"noopener nofollow\" target=\"_blank\">Submission #356326001 - Codeforces</a>ã€‚</p>\n<h2 id=\"b-ashmal\">B. Ashmal</h2>\n<p>å®¹æ˜“å‘ç°å¦‚æœå½“å‰å¾—åˆ°äº†å­—ç¬¦ä¸² <span class=\"math inline\">\\(S\\)</span>ï¼Œæˆ‘ä»¬ç°åœ¨è¦åŠ å…¥å­—ç¬¦ä¸² <span class=\"math inline\">\\(A\\)</span>ï¼Œé‚£ä¹ˆæ— è®º <span class=\"math inline\">\\(A\\)</span> æ¥åœ¨å‰é¢è¿˜æ˜¯åé¢ï¼Œéƒ½è¦æ±‚ <span class=\"math inline\">\\(S\\)</span> æœ€å°å³å¯ã€‚</p>\n<p>äºæ˜¯æˆ‘ä»¬æŒ‰é¡ºåºæ’å…¥ <span class=\"math inline\">\\(A\\)</span>ï¼Œåœ¨ä¸¤ç§æ–¹æ¡ˆé‡Œé€‰å­—å…¸åºæœ€å°çš„å³å¯ã€‚ç”±äºæ•°æ®èŒƒå›´è¾ƒå°ï¼Œå¯ä»¥ç”¨ <code>std::string</code> å¿«é€Ÿå®ç°ã€‚</p>\n<p><a href=\"https://codeforces.com/contest/2180/submission/356326086\" rel=\"noopener nofollow\" target=\"_blank\">Submission #356326086 - Codeforces</a></p>\n<h2 id=\"c-xor-factorization\">C. XOR-factorization</h2>\n<p>é¦–å…ˆ <span class=\"math inline\">\\(K\\)</span> ä¸ºå¥‡æ•°æ—¶ï¼Œå°±å…¨éƒ¨å¡« <span class=\"math inline\">\\(n\\)</span>ã€‚</p>\n<p>è€ƒè™‘ <span class=\"math inline\">\\(K\\)</span> ä¸ºå¶æ•°æ—¶æ€ä¹ˆåšï¼Œä¸€ç§å¤©çœŸçš„æƒ³æ³•å¦‚ä¸‹ï¼š</p>\n<ul>\n<li>é¦–å…ˆå¡« <span class=\"math inline\">\\(K-2\\)</span> ä¸ª <span class=\"math inline\">\\(n\\)</span>ï¼Œæ¥ä¸‹æ¥åªéœ€è€ƒè™‘ä¸¤ä¸ªæ•° <span class=\"math inline\">\\(x,y\\)</span>ï¼Œæˆ‘ä»¬æŒ‰ä½è€ƒè™‘ã€‚ä»é«˜ä½åˆ°ä½ä½ï¼Œå¦‚æœ <span class=\"math inline\">\\(n\\)</span> è¿™ä¸€ä½ä¸º <span class=\"math inline\">\\(1\\)</span>ï¼Œé‚£ä¹ˆå¯ä»¥è®© <span class=\"math inline\">\\(x\\)</span> èµ‹ <span class=\"math inline\">\\(1\\)</span>ï¼Œ<span class=\"math inline\">\\(y\\)</span> èµ‹ <span class=\"math inline\">\\(0\\)</span>ã€‚è€Œå¦‚æœ <span class=\"math inline\">\\(n\\)</span> è¿™ä¸€ä½ä¸º <span class=\"math inline\">\\(0\\)</span>ï¼Œä¸ºäº†ä½¿å’Œå°½å¯èƒ½å¤§ï¼Œæˆ‘ä»¬å¸Œæœ› <span class=\"math inline\">\\(x,y\\)</span> éƒ½å¡« <span class=\"math inline\">\\(1\\)</span>ï¼Œä½†å‰ææ˜¯ä¸è¶…è¿‡ <span class=\"math inline\">\\(n\\)</span>ã€‚äºæ˜¯å¦‚æœå…ˆåé‡åˆ°ä¸¤ä¸ª <span class=\"math inline\">\\(1\\)</span>ï¼Œç¬¬ä¸€æ¬¡å°±è®© <span class=\"math inline\">\\(x\\)</span> å¡« <span class=\"math inline\">\\(1\\)</span>ï¼Œ<span class=\"math inline\">\\(y\\)</span> å¡« <span class=\"math inline\">\\(0\\)</span>ï¼Œè€Œç¬¬äºŒæ¬¡å°±è®© <span class=\"math inline\">\\(x\\)</span> å¡« <span class=\"math inline\">\\(0\\)</span>ï¼Œ<span class=\"math inline\">\\(y\\)</span> å¡« <span class=\"math inline\">\\(1\\)</span>ï¼Œè¿™æ ·ä¹‹å <span class=\"math inline\">\\(x,y\\)</span> éƒ½å¿…å°äº <span class=\"math inline\">\\(n\\)</span> äº†ã€‚</li>\n</ul>\n<p>ç„¶è€Œä¸Šé¢çš„åšæ³•ä¼š WAã€‚è€ƒè™‘ä¸ºä»€ä¹ˆï¼Œå› ä¸ºå‰é¢çš„é‚£ <span class=\"math inline\">\\(K-2\\)</span> ä¸ªæ•°ä¹‹ä¸­ä¹Ÿæœ‰å¯èƒ½å‡ºç°å¯¹äº <span class=\"math inline\">\\(n\\)</span> ä¸º <span class=\"math inline\">\\(0\\)</span> çš„ä½ï¼Œä¸¤ä¸ªæ•°å¡« <span class=\"math inline\">\\(1\\)</span>ã€‚</p>\n<p>è€ƒè™‘æ‰©å±•ä¸Šé¢çš„åšæ³•ï¼Œç»´æŠ¤ä¸€ä¸ªè®¡æ•°å™¨ <span class=\"math inline\">\\(cnt\\)</span>ï¼Œè¡¨ç¤ºå½“å‰å‰ <span class=\"math inline\">\\(cnt\\)</span> ä¸ªæ•°éƒ½å¿…å°äº <span class=\"math inline\">\\(n\\)</span>ã€‚é‡åˆ°ä¸€ä¸ª <span class=\"math inline\">\\(1\\)</span>ï¼Œæˆ‘ä»¬å°±å°è¯•è®©ç¬¬ <span class=\"math inline\">\\(cnt+1\\)</span> ä¸ªæ•°èµ‹ä¸º <span class=\"math inline\">\\(0\\)</span>ï¼Œå…¶ä»–éƒ½èµ‹ä¸º <span class=\"math inline\">\\(1\\)</span>ã€‚è€Œé‡åˆ° <span class=\"math inline\">\\(0\\)</span> æ—¶ï¼Œæˆ‘ä»¬å°±å–å‡ºå‰ <span class=\"math inline\">\\(cnt-(cnt\\bmod 2)\\)</span>  ä¸ªæ•°å¡« <span class=\"math inline\">\\(1\\)</span>ã€‚</p>\n<p>è¿™æ ·å°±é€šè¿‡äº†ã€‚å¤æ‚åº¦ <span class=\"math inline\">\\(O(K+\\log V)\\)</span>ã€‚</p>\n<p><a href=\"https://codeforces.com/contest/2180/submission/356327292\" rel=\"noopener nofollow\" target=\"_blank\">Submission #356327292 - Codeforces</a></p>\n<h2 id=\"d-insolvable-disks\">D. Insolvable Disks</h2>\n<p>èµ›æ—¶æ²¡è¿‡ï¼ŒåŸå› æ˜¯ä¸æ•¢å†™è´ªå¿ƒï¼Œä»¥ä¸ºä¸å¯¹ã€‚</p>\n<p>è€ƒè™‘æ¯æ¬¡è´ªå¿ƒé€‰æ‹©ä¸€ä¸ªå°½é‡é•¿çš„å‰ç¼€ï¼Œè®¾ <span class=\"math inline\">\\(d_i=a_{i+1}-a_i\\)</span>ï¼ŒåŠ å…¥ <span class=\"math inline\">\\(r_1=x\\)</span>ï¼Œåˆ™æœ‰ <span class=\"math inline\">\\(r_2=d_1-x\\)</span>ï¼Œ<span class=\"math inline\">\\(r3=d_2-d_1+x\\)</span>ï¼Œ<span class=\"math inline\">\\(r_4=d_3-d_2+d_1-x\\dots\\)</span>ã€‚</p>\n<p>é‚£ä¹ˆå‰ç¼€ <span class=\"math inline\">\\(i\\)</span> åˆæ³•çš„å……è¦å°±æ˜¯ <span class=\"math inline\">\\(\\forall 1\\le j\\le i,0&lt;r_i&lt;d_i\\)</span>ã€‚</p>\n<p>æˆ‘ä»¬æŠŠä¸Šè¿°æ¯ä¸ªç‚¹çš„ <span class=\"math inline\">\\(r_i\\)</span> å¸¦å…¥åˆ° <span class=\"math inline\">\\(0&lt;r_i&lt;d_i\\)</span>ï¼Œå†ç§»é¡¹ï¼Œå°±å¯ä»¥å¾—åˆ°æ¯ä¸ªç‚¹çš„ <span class=\"math inline\">\\(x\\)</span> çš„åŒºé—´é™åˆ¶ã€‚æ¯æ¬¡å¯¹åŒºé—´å–äº¤ï¼Œç›´åˆ°åŒºé—´ä¸ºç©ºï¼Œæ­¤æ—¶ <span class=\"math inline\">\\(i-1\\)</span> å°±æ˜¯æœ€é•¿å‰ç¼€ã€‚</p>\n<p>å…³äºè´ªå¿ƒæ­£ç¡®æ€§è¯æ˜ï¼š</p>\n<blockquote>\n<p>è€ƒè™‘æ¯ä¸ªç‚¹å¼€å§‹å¾€å³æœ€è¿œæ‰©å±•åˆ°çš„ä½ç½® <span class=\"math inline\">\\(f_i\\)</span>ï¼Œç”±ä¸Šè¿°åŒºé—´å–äº¤çš„è¿‡ç¨‹å¯ä»¥çŸ¥é“ï¼Œ<span class=\"math inline\">\\(f_i\\)</span> æ˜¯å•è°ƒçš„ï¼Œäºæ˜¯æˆ‘ä»¬å°±ç›¸å½“äºé€‰å–æœ€å°‘çš„ <span class=\"math inline\">\\([i,f_i]\\)</span> çš„åŒºé—´ä½¿å¾—ä¸äº¤ï¼Œæ‰€ä»¥è´ªå¿ƒæ˜¯æ­£ç¡®çš„ã€‚</p>\n</blockquote>\n<p>å¤æ‚åº¦ <span class=\"math inline\">\\(O(n)\\)</span>ã€‚</p>\n<p><a href=\"https://codeforces.com/contest/2180/submission/356330957\" rel=\"noopener nofollow\" target=\"_blank\">Submission #356330957 - Codeforces</a></p>\n<h2 id=\"e-no-effect-xor\">E. No Effect XOR</h2>\n<p>èµ›æ—¶è¿‡äº†è¿™é“é¢˜ã€‚é¢˜æ„å°±æ˜¯é—®æœ‰å¤šå°‘ä¸ª <span class=\"math inline\">\\(x\\)</span> æ»¡è¶³ <span class=\"math inline\">\\([l,r]\\oplus x\\to [l,r]\\)</span>ã€‚</p>\n<p>è€ƒè™‘æ‰¾åˆ° <span class=\"math inline\">\\(l,r\\)</span> æœ€é«˜ä¸åŒçš„ä½ <span class=\"math inline\">\\(i\\)</span>ï¼Œåˆ†è£‚æˆå·¦åŠè¾¹è¿™ä¸€ä½ä¸º <span class=\"math inline\">\\(0\\)</span> çš„åŒºé—´ <span class=\"math inline\">\\([l,mid),[mid,r]\\)</span>ï¼Œå…¶ä¸­ <span class=\"math inline\">\\(mid=2^i\\)</span>ã€‚</p>\n<ul>\n<li>å¦‚æœè¿™ä¸€ä½å¡« <span class=\"math inline\">\\(1\\)</span>ï¼Œé¦–å…ˆè¦æ±‚ <span class=\"math inline\">\\(0\\)</span> çš„æ•°é‡ä¸ <span class=\"math inline\">\\(1\\)</span> çš„æ•°é‡ç›¸åŒï¼Œç„¶åè€ƒè™‘åˆ°æ­¤æ—¶å·¦åŠè¾¹å’Œå³åŠè¾¹åˆ†åˆ«æ˜¯å€¼åŸŸçš„åç¼€å’Œå‰ç¼€ï¼Œå®ƒä»¬æ˜¯å¯¹ç§°çš„ï¼Œå› æ­¤åªè¦æ±‚å‡º <span class=\"math inline\">\\([mid,r]\\to [mid,r]\\)</span> çš„ç­”æ¡ˆå†å¯¹ <span class=\"math inline\">\\(2^{i}-1\\)</span> å–åå³å¯ï¼Œäºæ˜¯æ­¤æ—¶çš„ç­”æ¡ˆå°±æ˜¯ <span class=\"math inline\">\\([mid,r]\\)</span> çš„ç­”æ¡ˆä¸ªæ•°ã€‚</li>\n<li>å¦‚æœè¿™ä¸€ä½å¡« <span class=\"math inline\">\\(0\\)</span>ï¼Œé‚£ä¹ˆå°±æ˜¯å·¦è¾¹çš„ç­”æ¡ˆä¸å³è¾¹çš„ç­”æ¡ˆå–äº¤ï¼Œå³è¾¹æ˜¯å€¼åŸŸçš„å‰ç¼€ï¼Œè€Œå·¦è¾¹æ˜¯å€¼åŸŸçš„åç¼€ï¼Œå®ƒçš„ä¸€ä¸ªæ–¹æ¡ˆä¹Ÿæ˜¯å¯¹åº”å‰ç¼€çš„ä¸€ä¸ªæ–¹æ¡ˆï¼Œäºæ˜¯è½¬åŒ–æˆäº†ä¸¤ä¸ªå‰ç¼€çš„ç­”æ¡ˆå–äº¤ã€‚</li>\n<li>é—®é¢˜æ˜¯æ±‚ä¸€ä¸ªå‰ç¼€çš„æ–¹æ¡ˆï¼Œè®¾ <span class=\"math inline\">\\(f(r)\\)</span> è¡¨ç¤º <span class=\"math inline\">\\([0,r]\\)</span> çš„ç­”æ¡ˆï¼Œå¦‚æœ <span class=\"math inline\">\\(r\\)</span> æ˜¯äºŒçš„å¹‚ï¼Œé‚£ä¹ˆç­”æ¡ˆå°±æ˜¯ <span class=\"math inline\">\\(r\\)</span>ã€‚å¦åˆ™ä¾æ—§æ‰¾åˆ° <span class=\"math inline\">\\(r\\)</span> çš„æœ€é«˜ä½ <span class=\"math inline\">\\(i\\)</span>ï¼Œæœ€é«˜ä½åªèƒ½å¡« <span class=\"math inline\">\\(0\\)</span>ï¼Œå·¦åŠè¾¹å¯ä»¥éšä¾¿å¡«ï¼Œæ‰€ä»¥é€’å½’å³åŠè¾¹ <span class=\"math inline\">\\(f(r)\\gets f(r-2^i)\\)</span>ã€‚</li>\n<li>æ‰€ä»¥ä¸€ä¸ªå‰ç¼€çš„ç­”æ¡ˆæ˜¯äºŒçš„å¹‚ï¼Œäºæ˜¯ä¸Šè¿°ä¸¤ä¸ªå‰ç¼€çš„ç­”æ¡ˆå–äº¤å…¶å®å°±æ˜¯å–æœ€å°å€¼ã€‚</li>\n</ul>\n<p>é‚£ä¹ˆè¿™ä¸ªé—®é¢˜å°±è§£å†³äº†ï¼Œå¤æ‚åº¦ <span class=\"math inline\">\\(O(\\log V)\\)</span>ã€‚</p>\n<p><a href=\"https://codeforces.com/contest/2180/submission/356328859\" rel=\"noopener nofollow\" target=\"_blank\">Submission #356328859 - Codeforces</a></p>\n<h2 id=\"f1-ã¨-f2-control-car\">F1 ã¨ F2. Control Car</h2>\n<h3 id=\"f1\">F1ï¼š</h3>\n<p>è€ƒè™‘æ–¹æ¡ˆæ•°è½¬æ¦‚ç‡ï¼Œè¿™æ ·å¯ä»¥åœ¨ DP æ—¶æ’é™¤æ— å…³ä¿¡æ¯ï¼Œè®¾ <span class=\"math inline\">\\(f_{i,j}\\)</span> è¡¨ç¤ºåˆå§‹ <span class=\"math inline\">\\(n=i,m=j\\)</span> æœ€ç»ˆèµ°åˆ° <span class=\"math inline\">\\((n,m)\\)</span> çš„æ–¹æ¡ˆæ•°ã€‚</p>\n<p>æˆ‘ä»¬è¿˜éœ€è¦è®°å½•ä»å“ªä¸ªæ–¹å‘èµ°è¿‡æ¥ï¼Œä¸”è¿˜è¦è®°å½•ä¸€äº›ç‚¹çš„ä¿¡æ¯ã€‚æˆ‘ä»¬å¦‚ä¸‹è®¾çŠ¶æ€ï¼š</p>\n<ul>\n<li><span class=\"math inline\">\\(f_{i,j,0,0}\\)</span>ï¼Œä»ä¸Šé¢èµ°è¿‡æ¥ï¼Œä¸”å·¦ä¸Šè§’çš„ç‚¹æŒ¡ä½äº†å³è¾¹ã€‚</li>\n<li><span class=\"math inline\">\\(f_{i,j,0,1}\\)</span>ï¼Œä»ä¸Šé¢èµ°è¿‡æ¥ï¼Œä¸”å·¦ä¸Šè§’çš„ç‚¹æ²¡æœ‰æŒ¡ä½å³è¾¹ã€‚</li>\n<li><span class=\"math inline\">\\(f_{i,j,1,0}\\)</span>ï¼Œä»å·¦è¾¹èµ°è¿‡æ¥ï¼Œä¸”å·¦ä¸‹è§’çš„ç‚¹æŒ¡ä½äº†ä¸‹é¢ã€‚</li>\n<li><span class=\"math inline\">\\(f_{i,j,1,1}\\)</span>ï¼Œä»å·¦è¾¹èµ°è¿‡æ¥ï¼Œä¸”å·¦ä¸‹è§’çš„ç‚¹æ²¡æœ‰æŒ¡ä½ä¸‹é¢ã€‚</li>\n</ul>\n<p>è½¬ç§»åŒ<a href=\"https://codeforces.com/blog/entry/149318\" rel=\"noopener nofollow\" target=\"_blank\">é¢˜è§£</a>ã€‚</p>\n<p>è¾¹ç•Œæ¡ä»¶æ˜¯ <span class=\"math inline\">\\(f_{1,1,0/1,0}=7/16,f_{1,1,0/1,1}={1/16}\\)</span>ã€‚</p>\n<p>æˆ‘ä»¬å†å¯¹ <span class=\"math inline\">\\(f\\)</span> æ±‚å‰ç¼€å’Œå³å¯å¾—åˆ°ç­”æ¡ˆï¼Œæ³¨æ„æˆ‘ä»¬æŒ‡å®š <span class=\"math inline\">\\((1,1)\\)</span> æ˜¯ä»ä¸Šé¢èµ°è¿‡æ¥ï¼Œä¸” <span class=\"math inline\">\\(f_{1,1,0,0}\\)</span> å’Œ <span class=\"math inline\">\\(f_{1,1,0,1}\\)</span> è¦ä¹˜ä¸Šå¯¹åº”ç³»æ•°ã€‚</p>\n<p>å¤æ‚åº¦ <span class=\"math inline\">\\(O(nm)\\)</span>ã€‚</p>\n<p><a href=\"https://codeforces.com/contest/2180/submission/356333212\" rel=\"noopener nofollow\" target=\"_blank\">Submission #356333212 - Codeforces</a></p>\n<h3 id=\"f2\">F2ï¼š</h3>\n<p>æŠŠæ¯åˆ—çš„è½¬ç§»å†™æˆçŸ©é˜µçš„å½¢å¼ï¼ŒçŸ©é˜µå¿«é€Ÿå¹‚å³å¯ã€‚</p>\n<p>å¤æ‚åº¦ <span class=\"math inline\">\\(O(n^3\\log m)\\)</span>ã€‚</p>\n<p>ä¾æ—§ä½¿ç”¨ F1 ä¸­çš„æ–¹ç¨‹æ±‚å‡ºè½¬ç§»ç³»æ•°ï¼Œé¦–å…ˆæŠŠç¬¬ä¸€åˆ—çš„ä¸€ä¸ªä½ç½®èµ‹ä¸º <span class=\"math inline\">\\(1\\)</span>ï¼Œå…¶ä»–èµ‹ä¸º <span class=\"math inline\">\\(0\\)</span>ï¼Œç„¶åè½¬ç§»ç¬¬äºŒåˆ—ï¼Œå³å¯å¾—åˆ°è¿™ä¸ªä½ç½®å¯¹ä¸‹ä¸€åˆ—æ¯ä¸ªä½ç½®çš„ç³»æ•°ã€‚</p>\n<p>æ³¨æ„æˆ‘ä»¬è¦å…ˆæ±‚å‡ºç¬¬ä¸€åˆ—çš„æ‰€æœ‰ä½ç½®ã€‚</p>\n<p>çŸ©é˜µä¸­è¿˜æœ‰ä¸€ä¸ªä½ç½®è¦è®°å½•å‰ç¼€å’Œã€‚</p>\n<p>çŸ©é˜µä¹˜æ³•æ—¶è¦æ‰”æ‰ä¸º <span class=\"math inline\">\\(0\\)</span> çš„ä½ç½®ä»è€Œå‡å°å¸¸æ•°ï¼Œå…·ä½“è§ä»£ç ã€‚</p>\n<p><a href=\"https://codeforces.com/contest/2180/submission/356343250\" rel=\"noopener nofollow\" target=\"_blank\">Submission #356343250 - Codeforces</a></p>\n<h2 id=\"g-balance\">G. Balance</h2>\n<p>é¦–å…ˆç ”ç©¶ Balance æ€ä¹ˆæ±‚ï¼Œè‚¯å®šè¦åŒ–æˆç®€ä¾¿çš„å½¢å¼ã€‚è½¬æ¬¡æ•°ï¼Œè®¾ <span class=\"math inline\">\\(f_{i,m,k}\\)</span> è¡¨ç¤º <span class=\"math inline\">\\(a_i\\)</span> åœ¨é•¿ä¸º <span class=\"math inline\">\\(m\\)</span> çš„å­åºåˆ—ä¸­ä½œä¸ºç¬¬ <span class=\"math inline\">\\(k\\)</span> ä¸ªå‡ºç°çš„å­åºåˆ—ä¸ªæ•°ã€‚Balance å³ï¼š</p>\n<p></p><div class=\"math display\">\\[\\sum _{i,m,k} a_i\\times f_{i,m,k}\\times \\frac km\n\\]</div><p></p><p>æ˜¾ç„¶ <span class=\"math inline\">\\(a\\)</span> æ˜¯å›æ–‡çš„ï¼Œåˆ™ <span class=\"math inline\">\\(f_{i,m,k}=f_{n-i+1,m,m-k+1},a_i=a_{n-i+1}\\)</span>ã€‚åˆ™</p>\n<p></p><div class=\"math display\">\\[2\\times Balance=\\sum _{i,m,k} a_i\\times f_{i,m,k}\\times \\frac km+\\sum _{i,m,k} a_{n-i+1}\\times f_{n-i+1,m,m-k+1}\\times \\frac {m-k+1}m =\\sum _{i,m,k} a_i\\times (1+\\frac 1m)\n\\]</div><p></p><p>æ‰€ä»¥æ±‚å‡ºæ‰€æœ‰å­åºåˆ—ä¸‹ <span class=\"math inline\">\\(a\\)</span> çš„æ€»å’Œä»¥åŠæ‰€æœ‰å­åºåˆ—ä¸‹ <span class=\"math inline\">\\(a\\)</span> çš„å¹³å‡å€¼çš„æ€»å’Œå³å¯ã€‚</p>\n<p>å‰è€…æ˜¯ <span class=\"math inline\">\\(2^{n-1}\\sum a_i\\)</span>ã€‚</p>\n<p>åè€…å³</p>\n<p></p><div class=\"math display\">\\[\\sum _{i=1}^n\\sum _{k=1}^n a_i\\times \\frac {\\binom {n-1}{k-1}} {k}\n\\]</div><p></p><p>åŒ–ç®€åé¢çš„å¼å­</p>\n<p></p><div class=\"math display\">\\[\\sum _{k=1}^{n} \\frac {\\binom{n-1}{k-1}} k=\\sum _{k=1}^n \\frac {(n-1)!} {k!(n-k)!}=\\frac 1n\\sum _{k=1}^n\\binom nk=\\frac {2^n-1}n\n\\]</div><p></p><p>æ‰€ä»¥æœ€ç»ˆ Balance ä¸ºï¼ˆè®¾ <span class=\"math inline\">\\(S=\\sum a_i\\)</span>ï¼‰ï¼š</p>\n<p></p><div class=\"math display\">\\[2^{n-1}S+\\frac {2^{n}-1} n\\times  S\n\\]</div><p></p><p>æˆ‘ä»¬åªéœ€å¿«é€Ÿç»´æŠ¤ <span class=\"math inline\">\\(S\\bmod(10^9+7),n\\bmod (10^9+7),n\\bmod (10^9+6)\\)</span> å³å¯ã€‚</p>\n<p>é—®é¢˜åœ¨äºå¿«é€ŸçŸ¥é“åˆ é™¤æ“ä½œæ—¶åˆ æ‰çš„æ•°ã€‚</p>\n<p>è€ƒè™‘åŠ å…¥ä¸€ä¸ªæ•° <span class=\"math inline\">\\(x\\)</span> åè¿›è¡Œçš„åˆ é™¤æ“ä½œï¼š</p>\n<ul>\n<li>è‹¥åŸæ¥ <span class=\"math inline\">\\(len=2n+1\\)</span> ä¸ºå¥‡æ•°ï¼Œåˆ™åºåˆ—å˜æˆ <span class=\"math inline\">\\([x,a_1,x,...,x,a_{n+1},x,...,x,a_{2n+1},x]\\)</span>ï¼Œå‘ç°å…ˆåˆ é™¤ <span class=\"math inline\">\\(a\\)</span> çš„ä¸­ä½æ•°ï¼Œç„¶ååˆ é™¤ä¸¤ä¸ª <span class=\"math inline\">\\(x\\)</span> ä¸åˆ é™¤ä¸¤ä¸ª <span class=\"math inline\">\\(a\\)</span> çš„ä¸­ä½æ•°äº¤æ›¿è¿›è¡Œã€‚</li>\n<li>è‹¥åŸæ¥ <span class=\"math inline\">\\(len=2n\\)</span> ä¸ºå¶æ•°ï¼Œåˆ™åºåˆ—å˜æˆ <span class=\"math inline\">\\([x,a_1,x,...x,a_n,x,a_{n+1},x,...x,a_{2n},x]\\)</span>ï¼Œå‘ç°å…ˆåˆ é™¤ <span class=\"math inline\">\\(x\\)</span>ï¼Œç„¶ååˆ é™¤ä¸¤ä¸ª <span class=\"math inline\">\\(a\\)</span> ä¸­çš„ä¸­ä½æ•°ä¸åˆ é™¤ä¸¤ä¸ª <span class=\"math inline\">\\(x\\)</span> äº¤æ›¿è¿›è¡Œã€‚</li>\n</ul>\n<p>æœ‰ä¸€ä¸ªç¥å¥‡çš„æ–¹æ³•ã€‚æˆ‘ä»¬å¯ä»¥ç»´æŠ¤ä¸€ä¸ªåŒ…å« <span class=\"math inline\">\\(0,1,2,3\\)</span> çš„é˜Ÿåˆ—ã€‚æ¯æ¬¡åŠ å…¥ <span class=\"math inline\">\\(x\\)</span> æ—¶ï¼Œè‹¥é•¿åº¦ä¸ºå¶æ•°ï¼Œåˆ™å¾€é˜Ÿå°¾åŠ å…¥ <span class=\"math inline\">\\(1\\)</span>ï¼Œå¦åˆ™åŠ å…¥ <span class=\"math inline\">\\(3\\)</span>ã€‚</p>\n<p>æˆ‘ä»¬åˆ é™¤ä¸€ä¸ªæ•°æ—¶ï¼Œä»é˜Ÿå°¾å¼€å§‹éå†ï¼Œç›´åˆ°éå†åˆ°ä¸€ä¸ª <span class=\"math inline\">\\(0\\)</span> æˆ– <span class=\"math inline\">\\(1\\)</span>ï¼Œå®ƒçš„å€¼å°±æ˜¯æˆ‘ä»¬è¦åˆ çš„æ•°ï¼ŒåŒæ—¶å°†éå†è¿‡ç¨‹ä¸­æ‰€æœ‰é‡åˆ°çš„æ•° <span class=\"math inline\">\\(x\\gets (x+1)\\bmod 4\\)</span>ã€‚</p>\n<p>è¿™ä¸ªæ–¹æ³•å¤æ‚åº¦æ˜¯æ¯æ¬¡å‡æ‘Š <span class=\"math inline\">\\(O(1)\\)</span>ã€‚å¤æ‚åº¦ <span class=\"math inline\">\\(O(q\\log V)\\)</span>ï¼Œç“¶é¢ˆåœ¨äºå¿«é€Ÿå¹‚ã€‚</p>\n<p><a href=\"https://codeforces.com/contest/2180/submission/356356669\" rel=\"noopener nofollow\" target=\"_blank\">Submission #356356669 - Codeforces</a></p>\n<h2 id=\"h1-bug-is-feature-unconditional-version\">H1. Bug Is Feature (Unconditional Version)</h2>\n<p>è®¾ <span class=\"math inline\">\\(f_{i,j}\\)</span> ä¸º <span class=\"math inline\">\\(c-b=i,x-c=j\\)</span> çš„ SG å€¼ï¼Œå¯ä»¥æ‰“è¡¨å‘ç°ï¼Œæ¯è¡Œä»ä¸‹æ ‡ <span class=\"math inline\">\\(0\\)</span> å¼€å§‹ï¼Œç¬¬ <span class=\"math inline\">\\(i\\)</span> è¡Œæ¯ <span class=\"math inline\">\\(2i\\)</span> ä¸ªæ˜¯å¾ªç¯çš„ï¼š</p>\n<pre><code class=\"language-txt\">0 1 \n1 0 2 2 \n0 0 0 1 1 1 \n0 1 0 0 2 2 1 1 \n0 0 0 0 0 1 1 1 1 1 \n1 1 1 0 0 0 2 2 2 2 2 2 \n0 0 0 0 0 0 0 1 1 1 1 1 1 1 \n1 0 1 1 0 0 0 0 2 2 2 2 1 1 2 2 \n0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1 1 \n1 1 1 1 1 0 0 0 0 0 2 2 2 2 2 2 2 2 2 2 \n0 0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1 1 1 1 \n0 0 0 1 1 1 0 0 0 0 0 0 2 2 2 2 2 2 1 1 1 1 1 1 \n0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1 1 1 1 1 1 \n1 1 1 1 1 1 1 0 0 0 0 0 0 0 2 2 2 2 2 2 2 2 2 2 2 2 2 2 \n0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 \n0 1 0 0 1 1 1 1 0 0 0 0 0 0 0 0 2 2 2 2 2 2 2 2 1 1 1 1 2 2 1 1 \n</code></pre>\n<p>å‘ç°å¯¹äº <span class=\"math inline\">\\(i\\)</span> ä¸ºå¥‡æ•°ï¼Œå°±æ˜¯ <span class=\"math inline\">\\(01\\)</span> å„å ä¸€åŠã€‚</p>\n<p>å¯¹äº <span class=\"math inline\">\\(i\\)</span> ä¸ºå¶æ•°ï¼Œå‰ <span class=\"math inline\">\\(i/2\\)</span> ä¸ªæ˜¯ç¬¬ <span class=\"math inline\">\\(i/2\\)</span> è¡Œçš„å‰ <span class=\"math inline\">\\(i/2\\)</span> ä¸ª <span class=\"math inline\">\\(01\\)</span> å–åï¼Œç„¶åæ˜¯ <span class=\"math inline\">\\(i/2\\)</span> ä¸ª <span class=\"math inline\">\\(0\\)</span> ä¸ <span class=\"math inline\">\\(i/2\\)</span> ä¸ª <span class=\"math inline\">\\(1\\)</span>ï¼Œå <span class=\"math inline\">\\(i/2\\)</span> ä¸ªæ˜¯ç¬¬ <span class=\"math inline\">\\(i/2\\)</span> è¡Œçš„å <span class=\"math inline\">\\(i/2\\)</span> ä¸ª <span class=\"math inline\">\\(12\\)</span> å–åã€‚</p>\n<p>ç›´æ¥é€’å½’å®ç°å³å¯ï¼Œæ³¨æ„éœ€è¦è®°å¿†åŒ–ï¼Œè€Œä¸”éœ€è¦ä½¿ç”¨å“ˆå¸Œè¡¨æ‰èƒ½é€šè¿‡ï¼Œä½¿ç”¨ <code>map</code> ä¼š TLEã€‚</p>\n<p>å¤æ‚åº¦å• $\\log $ã€‚</p>\n<p><a href=\"https://codeforces.com/contest/2180/submission/356380285\" rel=\"noopener nofollow\" target=\"_blank\">Submission #356380285 - Codeforces</a></p>\n<h2 id=\"h2-bug-is-feature-conditional-version\">H2. Bug Is Feature (Conditional Version)</h2>\n<p>ä¸å¦¨ä»¤ <span class=\"math inline\">\\(c-b\\gets 1,x-c\\gets\\lfloor\\frac {x-c}{c-b}\\rfloor\\)</span>ï¼Œå³è½¬åŒ–ä¸ºå…¬å·®ä¸º <span class=\"math inline\">\\(1\\)</span> çš„é—®é¢˜ã€‚</p>\n<p>è®¾ <span class=\"math inline\">\\(f_i\\)</span> è¡¨ç¤ºå…¬å·®ä¸º <span class=\"math inline\">\\(1\\)</span>ï¼Œ<span class=\"math inline\">\\(x-c=i\\)</span> çš„ç­”æ¡ˆï¼Œæœ‰ <span class=\"math inline\">\\(f_0=0,f_i=\\text{mex}(f_{i-1},f_{\\lfloor\\frac i 2\\rfloor}-1)\\)</span>ã€‚</p>\n<p>ç”±äºåé¢å¤šå¸¦ä¸€ä¸ªå‡ <span class=\"math inline\">\\(1\\)</span>ï¼Œæ€§è´¨ä¸å¥½ï¼Œä¸å¦¨æŠŠ <span class=\"math inline\">\\(f_{i+2}\\gets f_{i}\\)</span>ï¼Œå³å³ç§»ä¸¤ä¸ªå•ä½ã€‚</p>\n<p>æ­¤æ—¶å¯ä»¥æ‰“å‡ºè¡¨ï¼Œä» <span class=\"math inline\">\\(f_1\\)</span> å¼€å§‹ï¼Œæˆ‘ä»¬æŒ‡å®š <span class=\"math inline\">\\(f_{1}=f_2=0\\)</span>ã€‚</p>\n<pre><code class=\"language-txt\">0 0 1 2 1 0 2 0 1 0 2 1 2 0 1 2 1 0 2 1 2 0 1 0 2 0 1 2 1 0 2 0 1 0 2 1 2 0 1 0 2 0 1 \n</code></pre>\n<p>å‘ç°é <span class=\"math inline\">\\(0\\)</span> ä½æ˜¯ <span class=\"math inline\">\\(12\\)</span> äº¤æ›¿çš„ï¼Œè¿›ä¸€æ­¥å‘ç° <span class=\"math inline\">\\(f_i=0\\)</span> å½“ä¸”ä»…å½“ <span class=\"math inline\">\\(i\\)</span> çš„äºŒè¿›åˆ¶ä¸‹åç¼€ä¸€çš„ä¸ªæ•°ä¸ºå¥‡æ•°ã€‚</p>\n<p>æˆ‘ä»¬åªéœ€æ±‚å‡ºä¸€ä¸ªå‰ç¼€çš„ <span class=\"math inline\">\\(f_{i}=0\\)</span> çš„ä¸ªæ•°å³å¯æ±‚å‡ºè¿™ä¸ªå‰ç¼€çš„å¼‚æˆ–å’Œï¼Œå¤æ‚åº¦å• $\\log $ã€‚</p>\n<p><a href=\"https://codeforces.com/contest/2180/submission/356387263\" rel=\"noopener nofollow\" target=\"_blank\">Submission #356387263 - Codeforces</a></p>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-04 22:32</span>&nbsp;\n<a href=\"https://www.cnblogs.com/dccy\">dengchengyu</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">6</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "ã€Azure Web Appã€‘Github Actionéƒ¨ç½²JaråŒ…åˆ°App ServiceæŠ¥400é”™è¯¯",
      "link": "https://www.cnblogs.com/lulight/p/19439653",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/lulight/p/19439653\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-04 20:07\">\n    <span>ã€Azure Web Appã€‘Github Actionéƒ¨ç½²JaråŒ…åˆ°App ServiceæŠ¥400é”™è¯¯</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body blogpost-body-html\" id=\"cnblogs_post_body\">\n<h1>é—®é¢˜æè¿°</h1>\n<p>é€šè¿‡github acitonéƒ¨ç½²azure app serviceæœåŠ¡çš„æ—¶å€™ï¼Œé‡è§400æŠ¥é”™ã€‚</p>\n<p>æŠ¥é”™ä¿¡æ¯éå¸¸ç®€å•ï¼š</p>\n<blockquote>\n<p>Starting deployment for web app...<br />Package deployment using OneDeploy initiated.<br />Error: Failed to deploy web package to App Service.<br /><span style=\"color: rgba(255, 0, 0, 1);\"><strong>Error: Deployment Failed, Error: Failed to deploy web package using OneDeploy to App Service.</strong></span><br />Bad Request (CODE: 400)</p>\n</blockquote>\n<p> è¿™ä¸ªé—®é¢˜åº”è¯¥å¦‚ä½•è°ƒæŸ¥å‘¢ï¼Ÿ</p>\n<p>&nbsp;</p>\n<h1>é—®é¢˜è§£ç­”</h1>\n<p>åœ¨Github Acitonä¸­ï¼Œä½¿ç”¨ Azure WebApp(azure/webapps-deploy@v3)æ¥éƒ¨ç½²App Serviceçš„åº”ç”¨, è¿™æ¬¡éƒ¨ç½²çš„æ˜¯ä¸€ä¸ªjaråŒ…ã€‚</p>\n<p>Github Action  è„šæœ¬:</p>\n<blockquote>\n<p>- name: Azure WebApp<br />uses: azure/webapps-deploy@v3<br />with:<br />app-name: '&lt;app service name&gt;'<br />package: ${{ github.workspace }}/target/*.jar<br /> </p>\n</blockquote>\n<p>æŸ¥çœ‹Azureæ–‡æ¡£ï¼Œä»‹ç»éƒ¨ç½²javaåº”ç”¨æ—¶ï¼Œä½¿ç”¨az cliå‘½ä»¤ï¼Œgithub actionå’Œmaven æ’ä»¶éƒ½æ˜¯ä½¿ç”¨çš„Kudu OneDeployæ¥å£( https://&lt;your web app&gt;.scm.chinacloudsites.cn/api/publish?type=jar )</p>\n<p><img alt=\"image\" class=\"lazyload\" height=\"235\" width=\"666\" /></p>\n<p>(æ–‡æ¡£é“¾æ¥ï¼š<a href=\"https://docs.azure.cn/zh-cn/app-service/configure-language-java-deploy-run?tabs=linux&amp;pivots=java-tomcat#deploying-your-app\" rel=\"noopener nofollow\" target=\"_blank\">https://docs.azure.cn/zh-cn/app-service/configure-language-java-deploy-run?tabs=linux&amp;pivots=java-tomcat#deploying-your-app</a>)</p>\n<p>&nbsp;</p>\n<p>æ ¹æ®ä»¥ä¸Šä¿¡æ¯ï¼Œå°±å°è¯•ä½¿ç”¨az webapp deployå‘½ä»¤ç›´æ¥éƒ¨ç½²jaråŒ…åº”ç”¨ï¼Œå‘ç°å¤šäº†ä¸€å¥é”™è¯¯æç¤ºä¿¡æ¯ï¼š</p>\n<blockquote>\n<p><span style=\"color: rgba(255, 0, 255, 1);\">&gt; <strong>az webapp deploy --resource-group &lt;your resource group name&gt; --name &lt;your app service name&gt; --src-path myjava.jar --type jar</strong></span></p>\n<p>Initiating deployment<br />Deploying from local path: myjava.jar<br />An error occurred during deployment. Status Code: 400, </p>\n<p><strong><span style=\"color: rgba(255, 0, 0, 1);\">Details: \"Artifact type = 'Jar' cannot be deployed to stack = 'TOMCAT'. Site should be configured to run with stack = JAVA\", </span></strong></p>\n<p>Please visit https://XXXXXXXXX.scm.chinacloudsites.cn/api/deployments/latest to get more information about your deployment</p>\n</blockquote>\n<p>è¿™å¥é”™è¯¯æ¶ˆæ¯éå¸¸å…³é”®(Artifact type = 'Jar' cannot be deployed to stack = 'TOMCAT'. Site should be configured to run with stack = JAVA\")ã€‚</p>\n<p>åœ¨æŸ¥çœ‹App Serviceçš„é…ç½®ä¿¡æ¯åï¼ŒStackæœç„¶è®¾ç½®ä¸ºTomcatã€‚</p>\n<p><img alt=\"image\" class=\"lazyload\" height=\"465\" width=\"666\" /></p>\n<p>å› ä¸ºè¿™é‡Œåªæœ‰ä¸¤ç§é€‰é¡¹( Tomcat å’ŒJava SE )ã€‚äºæ˜¯ï¼Œä¿®æ”¹ä¸ºJava SEåï¼Œå†æ¬¡éƒ¨ç½²jaråŒ…ã€‚</p>\n<p><img alt=\"image\" class=\"lazyload\" height=\"194\" width=\"666\" /></p>\n<p>æˆåŠŸã€‚</p>\n<p>&nbsp;</p>\n<p>å½“é—®é¢˜è§£å†³åï¼Œæƒ³è¿›ä¸€æ­¥éªŒè¯æ˜¯å¦æ˜¯one deployæ¥å£å¯¹jaråŒ…çš„å¼ºåˆ¶é™åˆ¶ã€‚</p>\n<p>æ°å¥½kuduä¹Ÿæ˜¯å¼€æºé¡¹ç›®ï¼Œæ‰€ä»¥ï¼Œè¿›å…¥github kudu ä»“åº“ (æºç ï¼š<a href=\"https://github.com/projectkudu/kudu/tree/master\" rel=\"noopener nofollow\" target=\"_blank\">https://github.com/projectkudu/kudu/tree/master</a> )ï¼Œä½¿ç”¨é”™è¯¯æ¶ˆæ¯å…³é”®å­—æ•´åº“æœç´¢â€œcannot be deployed to stackâ€ï¼Œæœ€ç»ˆï¼Œå®šä½åˆ° PushDeploymentController.cs ä¸­ï¼Œæœ‰å¦‚ä¸‹çš„éªŒè¯æ¡ä»¶ï¼š</p>\n<ul>\n<li>å½“éƒ¨ç½²çš„æ–‡ä»¶ä¸ºJaræ—¶ï¼Œéœ€è¦åˆ¤æ–­ç›®æ ‡App Serviceçš„Stackåªèƒ½æ˜¯JavaSEã€‚å¦‚æœä¸æ˜¯ï¼Œè¿”å›400çš„çŠ¶æ€ç </li>\n</ul>\n<p><img alt=\"image\" class=\"lazyload\" height=\"110\" width=\"666\" /></p>\n<p>&nbsp;</p>\n<h2>é™„å½•ä¸€ï¼šä½¿ç”¨ curl å‘½ä»¤ç›´æ¥è°ƒç”¨æ¥å£ä¹Ÿå¯ä»¥å¤ç°é—®é¢˜ï¼Œæ•ˆæœå’Œaz webapp deployå‘½ä»¤ç›¸åŒ</h2>\n<div class=\"cnblogs_code\">\n<pre><span style=\"background-color: rgba(255, 255, 0, 1);\">curl -<span style=\"color: rgba(0, 0, 0, 1);\">X POST \\\n\n     </span>-<span style=\"color: rgba(0, 0, 0, 1);\">u user:password \\\n\n     </span>-T <span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">/Users/Downloads/xxxxx-0.0.1-SNAPSHOT.jar</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\"> \\\n\n     </span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">https://xxxxx.scm.chinacloudsites.cn/api/publish?type=jar</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\"> \\\n\n     </span>-<span style=\"color: rgba(0, 0, 0, 1);\">v\n\n\n\n</span></span>* Host xxxxx.scm.chinacloudsites.cn:<span style=\"color: rgba(128, 0, 128, 1);\">443</span><span style=\"color: rgba(0, 0, 0, 1);\"> was resolved.\n\n</span>*<span style=\"color: rgba(0, 0, 0, 1);\"> IPv6: (none)\n\n</span>* IPv4: <span style=\"color: rgba(128, 0, 128, 1);\">159.27</span>.<span style=\"color: rgba(128, 0, 128, 1);\">20.0</span>\n\n*   Trying <span style=\"color: rgba(128, 0, 128, 1);\">159.27</span>.<span style=\"color: rgba(128, 0, 128, 1);\">20.0</span>:<span style=\"color: rgba(128, 0, 128, 1);\">443</span><span style=\"color: rgba(0, 0, 0, 1);\">...\n\n</span>* Connected to xxxxx.scm.chinacloudsites.cn (<span style=\"color: rgba(128, 0, 128, 1);\">159.27</span>.<span style=\"color: rgba(128, 0, 128, 1);\">20.0</span>) port <span style=\"color: rgba(128, 0, 128, 1);\">443</span>\n\n* ALPN: curl offers h2,http/<span style=\"color: rgba(128, 0, 128, 1);\">1.1</span>\n\n* (<span style=\"color: rgba(128, 0, 128, 1);\">304</span>) (OUT), TLS handshake, Client hello (<span style=\"color: rgba(128, 0, 128, 1);\">1</span><span style=\"color: rgba(0, 0, 0, 1);\">):\n\n</span>*  CAfile: /etc/ssl/<span style=\"color: rgba(0, 0, 0, 1);\">cert.pem\n\n</span>*<span style=\"color: rgba(0, 0, 0, 1);\">  CApath: none\n\n</span>* (<span style=\"color: rgba(128, 0, 128, 1);\">304</span>) (IN), TLS handshake, Server hello (<span style=\"color: rgba(128, 0, 128, 1);\">2</span><span style=\"color: rgba(0, 0, 0, 1);\">):\n\n</span>* (<span style=\"color: rgba(128, 0, 128, 1);\">304</span>) (OUT), TLS handshake, Client hello (<span style=\"color: rgba(128, 0, 128, 1);\">1</span><span style=\"color: rgba(0, 0, 0, 1);\">):\n\n</span>* (<span style=\"color: rgba(128, 0, 128, 1);\">304</span>) (IN), TLS handshake, Server hello (<span style=\"color: rgba(128, 0, 128, 1);\">2</span><span style=\"color: rgba(0, 0, 0, 1);\">):\n\n</span>* (<span style=\"color: rgba(128, 0, 128, 1);\">304</span>) (IN), TLS handshake, Unknown (<span style=\"color: rgba(128, 0, 128, 1);\">8</span><span style=\"color: rgba(0, 0, 0, 1);\">):\n\n</span>* (<span style=\"color: rgba(128, 0, 128, 1);\">304</span>) (IN), TLS handshake, Certificate (<span style=\"color: rgba(128, 0, 128, 1);\">11</span><span style=\"color: rgba(0, 0, 0, 1);\">):\n\n</span>* (<span style=\"color: rgba(128, 0, 128, 1);\">304</span>) (IN), TLS handshake, CERT verify (<span style=\"color: rgba(128, 0, 128, 1);\">15</span><span style=\"color: rgba(0, 0, 0, 1);\">):\n\n</span>* (<span style=\"color: rgba(128, 0, 128, 1);\">304</span>) (IN), TLS handshake, Finished (<span style=\"color: rgba(128, 0, 128, 1);\">20</span><span style=\"color: rgba(0, 0, 0, 1);\">):\n\n</span>* (<span style=\"color: rgba(128, 0, 128, 1);\">304</span>) (OUT), TLS handshake, Finished (<span style=\"color: rgba(128, 0, 128, 1);\">20</span><span style=\"color: rgba(0, 0, 0, 1);\">):\n\n</span>* SSL connection <span style=\"color: rgba(0, 0, 255, 1);\">using</span> TLSv1.<span style=\"color: rgba(128, 0, 128, 1);\">3</span> / AEAD-AES256-GCM-SHA384 / [blank] /<span style=\"color: rgba(0, 0, 0, 1);\"> UNDEF\n\n</span>* ALPN: server accepted http/<span style=\"color: rgba(128, 0, 128, 1);\">1.1</span>\n\n*<span style=\"color: rgba(0, 0, 0, 1);\"> Server certificate:\n\n</span>*  subject: C=CN; ST=Shanghai; O=Shanghai Blue Cloud Technology Co., Ltd.; CN=*<span style=\"color: rgba(0, 0, 0, 1);\">.chinacloudsites.cn\n\n</span>*  start date: Dec <span style=\"color: rgba(128, 0, 128, 1);\">19</span> <span style=\"color: rgba(128, 0, 128, 1);\">00</span>:<span style=\"color: rgba(128, 0, 128, 1);\">00</span>:<span style=\"color: rgba(128, 0, 128, 1);\">00</span> <span style=\"color: rgba(128, 0, 128, 1);\">2025</span><span style=\"color: rgba(0, 0, 0, 1);\"> GMT\n\n</span>*  expire date: Jun <span style=\"color: rgba(128, 0, 128, 1);\">17</span> <span style=\"color: rgba(128, 0, 128, 1);\">23</span>:<span style=\"color: rgba(128, 0, 128, 1);\">59</span>:<span style=\"color: rgba(128, 0, 128, 1);\">59</span> <span style=\"color: rgba(128, 0, 128, 1);\">2026</span><span style=\"color: rgba(0, 0, 0, 1);\"> GMT\n\n</span>*  subjectAltName: host <span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">xxxxx.scm.chinacloudsites.cn</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span> matched cert<span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(128, 0, 0, 1);\">s \"*.scm.chinacloudsites.cn\"</span>\n\n*  issuer: C=US; O=DigiCert Inc; CN=<span style=\"color: rgba(0, 0, 0, 1);\">DigiCert Basic RSA CN CA G2\n\n</span>*<span style=\"color: rgba(0, 0, 0, 1);\">  SSL certificate verify ok.\n\n</span>* <span style=\"color: rgba(0, 0, 255, 1);\">using</span> HTTP/<span style=\"color: rgba(128, 0, 128, 1);\">1</span><span style=\"color: rgba(0, 0, 0, 1);\">.x\n\n</span>* Server auth <span style=\"color: rgba(0, 0, 255, 1);\">using</span> Basic with user <span style=\"color: rgba(128, 0, 0, 1);\">'</span><span style=\"color: rgba(128, 0, 0, 1);\">deploypoc</span><span style=\"color: rgba(128, 0, 0, 1);\">'</span>\n\n&gt; POST /api/publish?type=jar HTTP/<span style=\"color: rgba(128, 0, 128, 1);\">1.1</span>\n\n&gt;<span style=\"color: rgba(0, 0, 0, 1);\"> Host: xxxxx.scm.chinacloudsites.cn\n\n</span>&gt;<span style=\"color: rgba(0, 0, 0, 1);\"> Authorization: Basic xxxxxxxxxxxxxxxx\n\n</span>&gt; User-Agent: curl/<span style=\"color: rgba(128, 0, 128, 1);\">8.7</span>.<span style=\"color: rgba(128, 0, 128, 1);\">1</span>\n\n&gt; Accept: *<span style=\"color: rgba(0, 128, 0, 1);\">/*</span><span style=\"color: rgba(0, 128, 0, 1);\">\n\n&gt; Content-Length: 25578166\n\n&gt; Expect: 100-continue\n\n&gt; \n\n* Done waiting for 100-continue\n\n&lt; HTTP/1.1 400 Bad Request\n\n&lt; Content-Type: text/plain; charset=utf-8\n\n&lt; Date: Wed, 31 Dec 2025 03:42:36 GMT\n\n&lt; Server: Kestrel\n\n&lt; Set-Cookie: ARRAffinity=xxxx;Path=/;HttpOnly;Secure;Domain=xxxxx.scm.chinacloudsites.cn\n\n&lt; Set-Cookie: ARRAffinitySameSite=xxxxx;Path=/;HttpOnly;SameSite=None;Secure;Domain=xxxxx.scm.chinacloudsites.cn\n\n&lt; Transfer-Encoding: chunked\n\n&lt; \n\n* HTTP error before end of send, stop sending\n\n* abort upload after having sent 589824 bytes\n\n* Closing connection\n\n<span style=\"background-color: rgba(255, 255, 0, 1);\">Artifact type = 'Jar' cannot be deployed to stack = 'TOMCAT'. Site should be configured to run with stack = JAVA%   </span> </span></pre>\n</div>\n<p>&nbsp;</p>\n<p>&nbsp;</p>\n<h1>å‚è€ƒèµ„æ–™</h1>\n<p>App Serviceéƒ¨ç½²Javaåº”ç”¨ï¼š<a href=\"https://docs.azure.cn/zh-cn/app-service/configure-language-java-deploy-run?tabs=linux&amp;pivots=java-tomcat#deploying-your-app\" rel=\"noopener nofollow\" target=\"_blank\">https://docs.azure.cn/zh-cn/app-service/configure-language-java-deploy-run?tabs=linux&amp;pivots=java-tomcat#deploying-your-app</a></p>\n<p>Kudu One Deploy Source Code ï¼š <a href=\"https://github.com/projectkudu/kudu/blob/master/Kudu.Services/Deployment/PushDeploymentController.cs#L304\" rel=\"noopener nofollow\" target=\"_blank\">https://github.com/projectkudu/kudu/blob/master/Kudu.Services/Deployment/PushDeploymentController.cs#L304</a></p>\n<p>&nbsp;</p>\n</div>\n<div id=\"MySignature\">\n    <div style=\"background: #1c5f55; height: 36px; width: 618px; padding: 14px 5px 0px 3px;\">\n  <p style=\"font-weight: bold; color: white;\">å½“åœ¨å¤æ‚çš„ç¯å¢ƒä¸­é¢ä¸´é—®é¢˜ï¼Œæ ¼ç‰©ä¹‹é“éœ€ï¼šæµŠè€Œé™ä¹‹å¾æ¸…ï¼Œå®‰ä»¥åŠ¨ä¹‹å¾ç”Ÿã€‚ äº‘ä¸­ï¼Œæ°æ˜¯å¦‚æ­¤!</p>\n</div>\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-04 20:07</span>&nbsp;\n<a href=\"https://www.cnblogs.com/lulight\">è·¯è¾¹ä¸¤ç›ç¯</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">21</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "Serilog æ—¥å¿—åº“ç®€å•å®è·µï¼ˆå››ï¼‰æ¶ˆæ¯é˜Ÿåˆ— Sinksï¼ˆ.net8ï¼‰",
      "link": "https://www.cnblogs.com/hnzhengfy/p/19191039/Serilog_MQSinks",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/hnzhengfy/p/19191039/Serilog_MQSinks\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-04 19:54\">\n    <span>Serilog æ—¥å¿—åº“ç®€å•å®è·µï¼ˆå››ï¼‰æ¶ˆæ¯é˜Ÿåˆ— Sinksï¼ˆ.net8ï¼‰</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                    <div id=\"cnblogs_post_description\" style=\"display: none;\">\n        \n        å°†æ—¥å¿—äº‹ä»¶é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ— Sinks å‘å¸ƒå‡ºå»æ˜¯ä¸€ç§å®ç°ç³»ç»Ÿè§£è€¦ã€å¼‚æ­¥å¤„ç†å’Œæµé‡å‰Šå³°çš„é«˜æ•ˆæ–¹å¼ã€‚æœ¬æ–‡å°± Kafkaã€RabbitMQ ä¸¤ç§è¿›è¡Œç®€å•ä»‹ç»å’Œå®è·µï¼Œä¾›å‚è€ƒã€‚\n    </div>\n<div class=\"blogpost-body blogpost-body-html\" id=\"cnblogs_post_body\">\n<h2>ã€‡ã€å‰è¨€</h2>\n<p>å‰æ–‡å·²ç»ä»‹ç»è¿‡ä»€ä¹ˆæ˜¯ Serilogï¼Œä»¥åŠå…¶æ ¸å¿ƒç‰¹ç‚¹ï¼Œ<span style=\"font-size: 12px;\"><em>è¯¦è§ï¼š<a href=\"https://www.cnblogs.com/hnzhengfy/p/19167414/Serilog_basic\" rel=\"noopener\" target=\"_blank\" title=\"https://www.cnblogs.com/hnzhengfy/p/19167414/Serilog_basic\">https://www.cnblogs.com/hnzhengfy/p/19167414/Serilog_basic</a>ã€‚</em></span></p>\n<p>æœ¬æ–‡ç»§ç»­å¯¹å„ç§ç±»å‹çš„ Sink è¿›è¡Œç®€å•çš„å®è·µï¼Œä¸»é¢˜æ˜¯æ¶ˆæ¯é˜Ÿåˆ— Sinksï¼Œä¾›å‚è€ƒã€‚</p>\n<p>åœ¨ç°ä»£åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œå°†æ—¥å¿—äº‹ä»¶é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ— Sinks å‘å¸ƒå‡ºå»æ˜¯ä¸€ç§å®ç°ç³»ç»Ÿè§£è€¦ã€å¼‚æ­¥å¤„ç†å’Œæµé‡å‰Šå³°çš„é«˜æ•ˆæ–¹å¼ã€‚</p>\n<p>æ¶ˆæ¯é˜Ÿåˆ— Sinks å¸¸è§çš„æœ‰ä»¥ä¸‹ä¸‰ç§ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>æ’å</th>\n<th>æ¶ˆæ¯é˜Ÿåˆ—</th>\n<th>ä¸»è¦ä¼˜åŠ¿é¢†åŸŸ</th>\n<th>é€‚ç”¨äººç¾¤</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>1</strong></td>\n<td><strong>Kafka</strong></td>\n<td><strong>é«˜ååã€æ—¥å¿—ã€æµå¤„ç†</strong></td>\n<td><strong>å¤§æ•°æ®ã€äº’è”ç½‘å¤§å‚</strong></td>\n</tr>\n<tr>\n<td><strong>2</strong></td>\n<td><strong>RabbitMQ</strong></td>\n<td><strong>å¯é æŠ•é€’ã€çµæ´»è·¯ç”±ã€æ˜“è¿ç»´</strong></td>\n<td><strong>ä¸­å°ä¼ä¸šã€ä¼ ç»Ÿè¡Œä¸š</strong></td>\n</tr>\n<tr>\n<td>3</td>\n<td>RocketMQ</td>\n<td>äº‹åŠ¡æ¶ˆæ¯ã€é¡ºåºæ¶ˆè´¹ã€é«˜å¯é </td>\n<td>ä¸­å›½äº’è”ç½‘ã€ç”µå•†é‡‘è</td>\n</tr>\n</tbody>\n</table>\n<p>æœ¬æ–‡å°±å‰ä¸¤ç§è¿›è¡Œç®€å•çš„ä»‹ç»å’Œç¤ºä¾‹ï¼Œå¯¹äº RocketMQ å¾…åç»­æœ‰æœºä¼šè¿›è¡Œè¡¥å……ã€‚</p>\n<h2>ä¸€ã€æ¶ˆæ¯é˜Ÿåˆ— Sinks çš„ç”¨æ³•</h2>\n<h3>1.1 Serilog.Sinks.Kafkaï¼šå°†æ—¥å¿—ä¿¡æ¯å†™å…¥ Kafka é˜Ÿåˆ—</h3>\n<p>Serilog.Sinks.Kafka æ˜¯ Serilog æ—¥å¿—åº“çš„ä¸€ä¸ª Sinkï¼ˆæ¥æ”¶å™¨ï¼‰æ’ä»¶ï¼Œç”¨äºå°†ç»“æ„åŒ–æ—¥å¿—æ•°æ®å‘é€åˆ° Apache Kafka ä¸»é¢˜ã€‚å®ƒåˆ©ç”¨ Kafka é«˜ååé‡ã€åˆ†å¸ƒå¼å‘å¸ƒ-è®¢é˜…æ¶ˆæ¯ç³»ç»Ÿçš„ç‰¹ç‚¹ï¼Œæ„å»ºå®æ—¶æ—¥å¿—ç®¡é“ï¼Œä½¿æ—¥å¿—ç³»ç»Ÿèƒ½å¤Ÿè½»æ¾å¤„ç†æµ·é‡æ—¥å¿—æ•°æ®ï¼Œå¹¶æ”¯æŒå¤šç³»ç»Ÿé›†æˆåˆ†æã€‚</p>\n<h4>1.1.1 åœ¨ Windows ä¸Šå®‰è£… Kafka<em>ï¼ˆç”¨äºå¼€å‘æµ‹è¯•ï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®® Linuxï¼‰</em></h4>\n<p><span style=\"font-size: 12px;\"><em>æ³¨æ„ï¼šKafka å®˜æ–¹ä¸»è¦æ”¯æŒ Linux ç¯å¢ƒï¼ŒWindows å®‰è£…ä¸æ˜¯å®˜æ–¹æ¨èçš„æ–¹å¼ã€‚ä½†å¦‚æœæ˜¯åœ¨ Windows ä¸Šè¿›è¡Œå¼€å‘æµ‹è¯•ï¼Œè¿˜æ˜¯å¯ä»¥çš„ã€‚</em></span></p>\n<p><strong>æœ¬æ–‡ä½¿ç”¨ç°ä»Šæœ€æ–°çš„ç‰ˆæœ¬ 4.1.1ï¼ŒKafka 4.1.1 é»˜è®¤ä½¿ç”¨ KRaftï¼ˆKafka Raftï¼‰æ¨¡å¼ï¼Œå³å» ZooKeeper æ¶æ„ï¼Œå› æ­¤åªéœ€å®‰è£… java ç¯å¢ƒï¼Œæ— éœ€åœ¨å®‰è£… ZooKeeper ã€‚</strong></p>\n<p><strong>1ï¼‰å®‰è£… Java ç¯å¢ƒ</strong></p>\n<p>ç”±äº Kafka 4.1.1 æ˜¯ç”¨ Java 17ï¼ˆclass version 61ï¼‰ç¼–è¯‘çš„ï¼Œå¯¹åº”å…³ç³»å¦‚ä¸‹ï¼š</p>\n<p>Java ç‰ˆæœ¬ä¸ class file version å¯¹ç…§å…³ç³»ï¼š<br />Java 8 â†’ 52<br />Java 11 â†’ 55<br />Java 17 â†’ 61<br />Java 21 â†’ 65</p>\n<p>å› æ­¤ï¼Œåœ¨å®‰è£… Kafka ä¹‹å‰å¯ä»¥å…ˆå®‰è£…ä¸‹ JDK 17ã€‚å®˜æ–¹ä¸‹è½½åœ°å€ï¼š<a href=\"https://www.oracle.com/java/technologies/javase/jdk17-archive-downloads.html\" rel=\"noopener nofollow\" target=\"_blank\" title=\"https://www.oracle.com/java/technologies/javase/jdk17-archive-downloads.html\">https://www.oracle.com/java/technologies/javase/jdk17-archive-downloads.html</a>ã€‚</p>\n<p>ç›´æ¥é»˜è®¤é€‰é¡¹å®‰è£…å³å¯ã€‚</p>\n<p>ç„¶åé…ç½®ç¯å¢ƒå˜é‡ï¼š<code>JAVA_HOME</code>ï¼š<code>C:\\Program Files\\Java\\jdk-17</code>ã€‚å®‰è£…æ—¶è‹¥æ”¹äº†è·¯å¾„éœ€è¦æ”¹æˆå¯¹åº”çš„è·¯å¾„ã€‚</p>\n<p>Path ä¸­æ·»åŠ ä¸€è¡Œï¼š<code>%JAVA_HOME%\\bin</code>ã€‚</p>\n<p>ç„¶åæ‰“å¼€ cmd çª—å£éªŒè¯å®‰è£…æˆåŠŸï¼š</p>\n<pre class=\"language-powershell highlighter-hljs\"><code>C:\\Users\\Administrator&gt;java -version\njava version \"17.0.12\" 2024-07-16 LTS\nJava(TM) SE Runtime Environment (build 17.0.12+8-LTS-286)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.12+8-LTS-286, mixed mode, sharing)</code></pre>\n<p><strong>2ï¼‰å®‰è£… Kafka</strong></p>\n<p>ä¸‹è½½å¦‚ä¸‹å›¾ä¸­çš„äºŒè¿›åˆ¶ç‰ˆæœ¬ï¼ˆBinaryï¼‰ï¼Œå¯ä»¥ç›´æ¥è¿è¡Œï¼Œæ— éœ€è‡ªå·±ç¼–è¯‘ã€‚æ–‡ä»¶åä¸­çš„ 2.13 è¡¨ç¤ºè¯¥ Kafka ç‰ˆæœ¬æ˜¯ç”¨ Scala 2.13 ç¼–è¯‘çš„ï¼Œå¯ä»¥å¿½ç•¥ã€‚</p>\n<p>å®˜æ–¹ä¸‹è½½åœ°å€ï¼š<a href=\"https://kafka.apache.org/downloads\" rel=\"noopener nofollow\" target=\"_blank\" title=\"https://kafka.apache.org/downloads\">https://kafka.apache.org/downloads</a>ã€‚</p>\n<p><img alt=\"image\" height=\"162\" src=\"https://img2024.cnblogs.com/blog/1868241/202511/1868241-20251126225757439-1096942952.png\" width=\"287\" /></p>\n<p>è§£å‹åˆ°æ–‡ä»¶å¤¹ï¼š<code>D:\\kafka_2.13-4.1.1</code>ã€‚</p>\n<p>ä¿®æ”¹é…ç½®æ–‡ä»¶å¤¹<code>D:\\kafka_2.13-4.1.1\\config\\server.properties</code>ï¼š</p>\n<pre class=\"language-powershell highlighter-hljs\"><code># ã€å·²é»˜è®¤ã€‘å¯ç”¨ KRaft æ¨¡å¼ï¼ˆåŒæ—¶ä½œä¸º broker å’Œ controllerï¼‰\nprocess.roles=broker,controller\nnode.id=1\nbroker.id=1\n\n# ã€å¿…é¡»è®¾ç½®ï¼Œéœ€æ‰‹åŠ¨æ–°å¢ã€‘\n# å®šä¹‰ controller quorum çš„æŠ•ç¥¨æˆå‘˜\n# æ ¼å¼ï¼šnodeId@host:port\ncontroller.quorum.voters=1@localhost:9093\n# controller.quorum.voters=1@localhost:9093 ä¸­çš„ 1 å¿…é¡»å’Œ node.id=1 ä¸€è‡´\n# 9093 æ˜¯ CONTROLLER ç›‘å¬ç«¯å£ï¼Œå¿…é¡»ä¸ listeners ä¸­çš„ CONTROLLER://:9093 åŒ¹é…\n\n# å¿…é¡»è®¾ç½®ï¼å®šä¹‰ controller quorum çš„æŠ•ç¥¨æˆå‘˜\n# æ ¼å¼ï¼šnodeId@host:port\ncontroller.quorum.voters=1@localhost:9093\n\n# ã€å·²é»˜è®¤ã€‘ç›‘å¬å™¨é…ç½®\nlisteners=PLAINTEXT://:9092,CONTROLLER://:9093\ninter.broker.listener.name=PLAINTEXT\ncontroller.listener.names=CONTROLLER\n\n# æ—¥å¿—ç›®å½•ï¼ˆå»ºè®®ä½¿ç”¨ Windows è·¯å¾„ï¼‰\nlog.dirs=/tmp/kraft-combined-logs</code></pre>\n<p>ç„¶åç”Ÿæˆé›†ç¾¤ ID å¹¶æ ¼å¼åŒ–æ—¥å¿—ç›®å½•ï¼šï¼ˆå¿…è¦æ­¥éª¤ï¼Œè‹¥ç›´æ¥å¯åŠ¨ï¼Œä¼šæŠ¥é”™ï¼šæ‰¾ä¸åˆ° meta.properties æ–‡ä»¶ï¼‰</p>\n<pre class=\"language-powershell highlighter-hljs\"><code># è™½ç„¶å‡ºç°äº† Log4j çš„ ERROR æ—¥å¿—ï¼Œä½†å®é™…ä¸Š UUID å·²æˆåŠŸç”Ÿæˆ\nPS D:\\kafka_2.13-4.1.1&gt; bin\\windows\\kafka-storage.bat random-uuid\n2025-12-04T11:26:06.769887100Z main ERROR Reconfiguration failed: No configuration found for '4dc63996' at 'null' in 'null'\nwTL_esmQSuKMtvzx6eclsQ\n# ä½¿ç”¨ç”Ÿæˆçš„ Cluster ID æ ¼å¼åŒ– Kafka å­˜å‚¨ç›®å½•\nPS D:\\kafka_2.13-4.1.1&gt; bin\\windows\\kafka-storage.bat format -t wTL_esmQSuKMtvzx6eclsQ -c config/server.properties\n2025-12-04T11:29:22.735759Z main ERROR Reconfiguration failed: No configuration found for '4dc63996' at 'null' in 'null'\nFormatting metadata directory /tmp/kraft-combined-logs with metadata.version 4.1-IV1.\n\n# å…³äº Log4j ERROR è­¦å‘Š\n# main ERROR Reconfiguration failed: No configuration found for '4dc63996' at 'null' in 'null'\n# æ˜¯å› ä¸º Kafka å·¥å…·è„šæœ¬ï¼ˆå¦‚ kafka-storage.batï¼‰æ²¡æœ‰æ‰¾åˆ° Log4j 2 é…ç½®æ–‡ä»¶\n# å®ƒä¸å½±å“åŠŸèƒ½ï¼Œåªæ˜¯æ—¥å¿—ç³»ç»Ÿåˆå§‹åŒ–å¤±è´¥ï¼Œä½†ä»ä¼šä½¿ç”¨é»˜è®¤é…ç½®ã€‚</code></pre>\n<p>æœ€åå†å¯åŠ¨ Kafkaï¼š<code>bin\\windows\\kafka-server-start.bat config/server.properties</code>ã€‚</p>\n<p>çœ‹åˆ°å¦‚ä¸‹è¾“å‡ºå°±æ˜¯å¯åŠ¨æˆåŠŸäº†ï¼š</p>\n<p><span style=\"font-size: 12px;\"><em><img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1868241/202512/1868241-20251204194415558-408556665.png\" /></em></span></p>\n<p><span style=\"font-size: 12px;\"><em>æ³¨æ„ï¼šWindows å®‰è£… Kafka ä»…é€‚ç”¨äºå¼€å‘æµ‹è¯•ç¯å¢ƒï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨ Linux æˆ– Docker éƒ¨ç½²ã€‚</em></span></p>\n<details>\nserver.properties ç¤ºä¾‹\n<pre class=\"language-nginx highlighter-hljs\"><code>&nbsp;# Licensed to the Apache Software Foundation (ASF) under one or more\n# contributor license agreements.  See the NOTICE file distributed with\n# this work for additional information regarding copyright ownership.\n# The ASF licenses this file to You under the Apache License, Version 2.0\n# (the \"License\"); you may not use this file except in compliance with\n# the License.  You may obtain a copy of the License at\n#\n#    http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\n############################# Server Basics #############################\n\n# The role of this server. Setting this puts us in KRaft mode\nprocess.roles=broker,controller\n\n# The node id associated with this instance's roles\nnode.id=1\n\nbroker.id=1\n\n# List of controller endpoints used connect to the controller cluster\ncontroller.quorum.bootstrap.servers=localhost:9093\n\n# å¿…é¡»è®¾ç½®ï¼å®šä¹‰ controller quorum çš„æŠ•ç¥¨æˆå‘˜\n# æ ¼å¼ï¼šnodeId@host:port\ncontroller.quorum.voters=1@localhost:9093\n\n############################# Socket Server Settings #############################\n\n# The address the socket server listens on.\n# Combined nodes (i.e. those with `process.roles=broker,controller`) must list the controller listener here at a minimum.\n# If the broker listener is not defined, the default listener will use a host name that is equal to the value of java.net.InetAddress.getCanonicalHostName(),\n# with PLAINTEXT listener name, and port 9092.\n#   FORMAT:\n#     listeners = listener_name://host_name:port\n#   EXAMPLE:\n#     listeners = PLAINTEXT://your.host.name:9092\nlisteners=PLAINTEXT://:9092,CONTROLLER://:9093\n\n# Name of listener used for communication between brokers.\ninter.broker.listener.name=PLAINTEXT\n\n# Listener name, hostname and port the broker or the controller will advertise to clients.\n# If not set, it uses the value for \"listeners\".\nadvertised.listeners=PLAINTEXT://localhost:9092,CONTROLLER://localhost:9093\n\n# A comma-separated list of the names of the listeners used by the controller.\n# If no explicit mapping set in `listener.security.protocol.map`, default will be using PLAINTEXT protocol\n# This is required if running in KRaft mode.\ncontroller.listener.names=CONTROLLER\n\n# Maps listener names to security protocols, the default is for them to be the same. See the config documentation for more details\nlistener.security.protocol.map=CONTROLLER:PLAINTEXT,PLAINTEXT:PLAINTEXT,SSL:SSL,SASL_PLAINTEXT:SASL_PLAINTEXT,SASL_SSL:SASL_SSL\n\n# The number of threads that the server uses for receiving requests from the network and sending responses to the network\nnum.network.threads=3\n\n# The number of threads that the server uses for processing requests, which may include disk I/O\nnum.io.threads=8\n\n# The send buffer (SO_SNDBUF) used by the socket server\nsocket.send.buffer.bytes=102400\n\n# The receive buffer (SO_RCVBUF) used by the socket server\nsocket.receive.buffer.bytes=102400\n\n# The maximum size of a request that the socket server will accept (protection against OOM)\nsocket.request.max.bytes=104857600\n\n\n############################# Log Basics #############################\n\n# A comma separated list of directories under which to store log files\n# log.dirs=/tmp/kraft-combined-logs\n# æ•°æ®ç›®å½•ï¼ˆç¡®ä¿è·¯å¾„å­˜åœ¨ä¸”å¯å†™ï¼‰\nlog.dirs=D:/kafka_2.13-4.1.1/data/kafka-logs\n\n# The default number of log partitions per topic. More partitions allow greater\n# parallelism for consumption, but this will also result in more files across\n# the brokers.\nnum.partitions=1\n\n# The number of threads per data directory to be used for log recovery at startup and flushing at shutdown.\n# This value is recommended to be increased for installations with data dirs located in RAID array.\nnum.recovery.threads.per.data.dir=1\n\n############################# Internal Topic Settings  #############################\n# The replication factor for the group metadata internal topics \"__consumer_offsets\", \"__share_group_state\" and \"__transaction_state\"\n# For anything other than development testing, a value greater than 1 is recommended to ensure availability such as 3.\noffsets.topic.replication.factor=1\nshare.coordinator.state.topic.replication.factor=1\nshare.coordinator.state.topic.min.isr=1\ntransaction.state.log.replication.factor=1\ntransaction.state.log.min.isr=1\n\n############################# Log Flush Policy #############################\n\n# Messages are immediately written to the filesystem but by default we only fsync() to sync\n# the OS cache lazily. The following configurations control the flush of data to disk.\n# There are a few important trade-offs here:\n#    1. Durability: Unflushed data may be lost if you are not using replication.\n#    2. Latency: Very large flush intervals may lead to latency spikes when the flush does occur as there will be a lot of data to flush.\n#    3. Throughput: The flush is generally the most expensive operation, and a small flush interval may lead to excessive seeks.\n# The settings below allow one to configure the flush policy to flush data after a period of time or\n# every N messages (or both). This can be done globally and overridden on a per-topic basis.\n\n# The number of messages to accept before forcing a flush of data to disk\n#log.flush.interval.messages=10000\n\n# The maximum amount of time a message can sit in a log before we force a flush\n#log.flush.interval.ms=1000\n\n############################# Log Retention Policy #############################\n\n# The following configurations control the disposal of log segments. The policy can\n# be set to delete segments after a period of time, or after a given size has accumulated.\n# A segment will be deleted whenever *either* of these criteria are met. Deletion always happens\n# from the end of the log.\n\n# The minimum age of a log file to be eligible for deletion due to age\nlog.retention.hours=168\n\n# A size-based retention policy for logs. Segments are pruned from the log unless the remaining\n# segments drop below log.retention.bytes. Functions independently of log.retention.hours.\n#log.retention.bytes=1073741824\n\n# The maximum size of a log segment file. When this size is reached a new log segment will be created.\nlog.segment.bytes=1073741824\n\n# The interval at which log segments are checked to see if they can be deleted according\n# to the retention policies\nlog.retention.check.interval.ms=300000\n\n# å…è®¸è‡ªåŠ¨åˆ›å»º Topic\nauto.create.topics.enable=true</code></pre>\n</details>\n<p><strong>3ï¼‰åˆ›å»º topic</strong></p>\n<p>åˆ›å»ºè¯­å¥ï¼šï¼ˆæ³¨æ„ï¼Œå¯ä»¥æ›¿æ¢è‡ªå®šä¹‰çš„ topic åï¼šmy-logs-topic1212ï¼‰</p>\n<pre class=\"language-nginx highlighter-hljs\"><code>.\\bin\\windows\\kafka-topics.bat --create --topic my-logs-topic1212 --bootstrap-server localhost:9092 --partitions 3 --replication-factor 1</code></pre>\n<p>æ³¨æ„ï¼šæ­¤è¯­å¥æ­£å¸¸å‡ ç§’é’Ÿå°±å¯ä»¥æ‰§è¡Œå®Œæˆï¼Œè‹¥æ—¶é—´æ¯”è¾ƒé•¿ï¼Œéœ€è¦ç­‰å¾…å…¶è¿”å›é”™è¯¯æç¤ºã€‚</p>\n<p>å¯èƒ½ä¼šé‡åˆ°å¦‚ä¸‹é”™è¯¯ï¼š</p>\n<pre class=\"language-nginx highlighter-hljs\"><code>Error while executing topic command : Call(...createTopics...) timed out...\nCaused by: org.apache.kafka.common.errors.DisconnectException: Cancelled createTopics request... due to node 1 being disconnected</code></pre>\n<p>åŸå› ï¼šè¯´æ˜ Kafka å®¢æˆ·ç«¯ï¼ˆkafka-topics.batï¼‰æ— æ³•è¿æ¥åˆ° Kafka brokerï¼Œæˆ–è€… broker è™½ç„¶å¯åŠ¨ä½†æœªå®Œå…¨å°±ç»ªï¼ˆç‰¹åˆ«æ˜¯ KRaft Controller æœªé€‰ä¸¾å®Œæˆï¼‰ã€‚</p>\n<p>åœ¨ KRaft æ¨¡å¼ ä¸‹ï¼ŒKafka å¯åŠ¨åˆ†ä¸ºä¸¤ä¸ªè§’è‰²ï¼šControllerï¼šç®¡ç†å…ƒæ•°æ®ï¼ˆtopicsã€partitions ç­‰ï¼‰ï¼›Brokerï¼šå¤„ç†ç”Ÿäº§/æ¶ˆè´¹è¯·æ±‚ã€‚å¦‚æœ Controller å°šæœªå®Œæˆåˆå§‹åŒ–æˆ–é€‰ä¸¾ï¼Œå³ä½¿ kafka-server-start.bat çœ‹ä¼¼â€œå·²å¯åŠ¨â€ï¼Œå…ƒæ•°æ®æ“ä½œï¼ˆå¦‚åˆ›å»º Topicï¼‰ä»ä¼šå¤±è´¥ã€‚</p>\n<p>è§£å†³æ–¹æ¡ˆï¼š</p>\n<pre class=\"language-nginx highlighter-hljs\"><code># ã€æ­¥éª¤ 1ã€‘ç¡®è®¤ Kafka æ˜¯ä»¥ KRaft æ¨¡å¼ å¯åŠ¨çš„\n# æ£€æŸ¥æ˜¯å¦ä½¿ç”¨äº† æ­£ç¡®çš„é…ç½®æ–‡ä»¶ï¼š\n# æ­£ç¡®å¯åŠ¨å‘½ä»¤ï¼ˆKRaft æ¨¡å¼ï¼‰\n.\\bin\\windows\\kafka-server-start.bat .\\config\\server.properties\n\n# ã€æ­¥éª¤ 2ã€‘æ£€æŸ¥ server.properties ä¸­çš„å…³é”®é…ç½®\n# æ‰“å¼€ config/server.propertiesï¼Œç¡®ä¿åŒ…å«ï¼š\n# ç›‘å¬åœ°å€ï¼ˆå¿…é¡»ï¼ï¼‰\nprocess.roles=broker,controller\nnode.id=1\nbroker.id=1\ncontroller.quorum.voters=1@localhost:9093\nlisteners=PLAINTEXT://:9092,CONTROLLER://:9093\nadvertised.listeners=PLAINTEXT://localhost:9092\ninter.broker.listener.name=PLAINTEXT\ncontroller.listener.names=CONTROLLER\n# æ•°æ®ç›®å½•ï¼ˆç¡®ä¿è·¯å¾„å­˜åœ¨ä¸”å¯å†™ï¼‰\nlog.dirs=D:/kafka_2.13-4.1.1/data/kafka-logs\n# æ³¨æ„ï¼š\n# controller.quorum.voters å¿…é¡»ä¸ node.id åŒ¹é…\n# log.dirs è·¯å¾„ä¸èƒ½åŒ…å«ç©ºæ ¼æˆ–ä¸­æ–‡\n# ç¬¬ä¸€æ¬¡å¯åŠ¨å‰ï¼Œæ¸…ç©º log.dirs ç›®å½•\n\n# ã€æ­¥éª¤ 3ã€‘é¦–æ¬¡å¯åŠ¨å‰æ ¼å¼åŒ–å­˜å‚¨ç›®å½•ï¼ˆå…³é”®ï¼ï¼‰\n# KRaft æ¨¡å¼è¦æ±‚ï¼šå…ˆæ ¼å¼åŒ–å­˜å‚¨ç›®å½•ï¼Œå¦åˆ™ broker æ— æ³•æ­£å¸¸åŠ å…¥é›†ç¾¤\n# 1. ç”Ÿæˆ Cluster IDï¼ˆåªéœ€ä¸€æ¬¡ï¼‰\n.\\bin\\windows\\kafka-storage.bat random-uuid\n# 2. æ ¼å¼åŒ–æ—¥å¿—ç›®å½•\n.\\bin\\windows\\kafka-storage.bat format -t &lt;ä¸Šä¸€æ­¥ç”Ÿæˆçš„UUID&gt; -c .\\config\\kraft\\server.properties\n\n# ã€æ­¥éª¤ 4ã€‘å¯åŠ¨ Kafka å¹¶ç­‰å¾…å®Œå…¨å°±ç»ª\n.\\bin\\windows\\kafka-server-start.bat .\\config\\server.properties\n# Kafka å¯åŠ¨æˆåŠŸåï¼Œç­‰å¾… 10~15 ç§’ å†æ‰§è¡Œ kafka-topics.bat\n# KRaft å¯åŠ¨æ¯” ZooKeeper æ¨¡å¼æ…¢ï¼Œç«‹å³åˆ›å»º Topic ä¼šå¤±è´¥</code></pre>\n<pre class=\"language-nginx highlighter-hljs\"><code># å®é™…æ“ä½œè¿‡ç¨‹ç¤ºä¾‹ï¼š\nPS D:\\kafka_2.13-4.1.1&gt; .\\bin\\windows\\kafka-storage.bat random-uuid\nnOhIgFFsQm2aiodLw8y7cQ\n\nPS D:\\kafka_2.13-4.1.1&gt; bin\\windows\\kafka-storage.bat format -t nOhIgFFsQm2aiodLw8y7cQ -c config/server.properties --ignore-formatted\nFormatting metadata directory /tmp/kraft-combined-logs with metadata.version 4.1-IV1.\n\nPS D:\\kafka_2.13-4.1.1&gt; bin\\windows\\kafka-server-start.bat config/server.properties\nDEPRECATED: A Log4j 1.x configuration file has been detected, which is no longer recommended.\nã€‚ã€‚ã€‚\n[2025-12-12 17:31:28,080] INFO [BrokerServer id=1] Transition from STARTING to STARTED (kafka.server.BrokerServer)\n[2025-12-12 17:31:28,082] INFO Kafka version: 4.1.1 (org.apache.kafka.common.utils.AppInfoParser)\n[2025-12-12 17:31:28,082] INFO Kafka commitId: be816b82d25370ce (org.apache.kafka.common.utils.AppInfoParser)\n[2025-12-12 17:31:28,084] INFO Kafka startTimeMs: 1765531888081 (org.apache.kafka.common.utils.AppInfoParser)\n[2025-12-12 17:31:28,085] INFO [KafkaRaftServer nodeId=1] Kafka Server started (kafka.server.KafkaRaftServer)\n# è‡³æ­¤é‡æ–°å¯åŠ¨æˆåŠŸï¼Œç„¶åå¦æ‰“å¼€ä¸€ä¸ªçª—å£ï¼Œè¿›è¡Œä¸‹é¢æ“ä½œï¼š\n# æ·»åŠ  topic\nPS D:\\kafka_2.13-4.1.1&gt; .\\bin\\windows\\kafka-topics.bat --create --topic my-logs-topic1212 --bootstrap-server localhost:9092 --partitions 3 --replication-factor 1\nCreated topic my-logs-topic1212.\n#æŸ¥çœ‹å·²æ·»åŠ çš„ topic\nPS D:\\kafka_2.13-4.1.1&gt; .\\bin\\windows\\kafka-topics.bat --list --bootstrap-server localhost:9092\nmy-logs-topic1212</code></pre>\n<p><strong>4ï¼‰éªŒè¯ Kafka å·²ç»å¯åŠ¨</strong></p>\n<pre class=\"language-nginx highlighter-hljs\"><code># å¯ä»¥åˆ—å‡º topic è¡¨æ˜ï¼šKafka Broker å·²æ¥å—å®¢æˆ·ç«¯è¿æ¥ï¼Œå¹¶èƒ½å“åº”å…ƒæ•°æ®è¯·æ±‚\nPS D:\\kafka_2.13-4.1.1&gt; .\\bin\\windows\\kafka-topics.bat --list --bootstrap-server localhost:9092\nmy-logs-topic1212\n# Kafka æ˜¯ Java åº”ç”¨ï¼Œå¿…é¡»æœ‰ java.exe è¿›ç¨‹\n# åç»­ netstat æ˜¾ç¤ºè¯¥ PID ç›‘å¬ 9092 ç«¯å£ï¼Œç¡®è®¤å°±æ˜¯ Kafka è¿›ç¨‹\nPS D:\\kafka_2.13-4.1.1&gt; tasklist /fi \"imagename eq java.exe\"\n\næ˜ åƒåç§°                       PID ä¼šè¯å              ä¼šè¯#       å†…å­˜ä½¿ç”¨\n========================= ======== ================ =========== ============\njava.exe                     90224 Console                    2    432,272 K\n# 9092 ç«¯å£å¤„äº LISTENING çŠ¶æ€ï¼Œä¸” PID åŒ¹é…\n# è¡¨ç¤º Kafka Broker æ­£åœ¨ç›‘å¬æ‰€æœ‰ IPv4/IPv6 æ¥å£çš„ 9092 ç«¯å£\n# PID 90224 ä¸ tasklist ä¸­çš„ Java è¿›ç¨‹ä¸€è‡´ï¼Œç¡®è®¤æ˜¯ Kafka åœ¨ç›‘å¬\nPS D:\\kafka_2.13-4.1.1&gt; netstat -ano | findstr :9092\n  TCP    0.0.0.0:9092           0.0.0.0:0              LISTENING       90224\n  TCP    127.0.0.1:52704        127.0.0.1:9092         TIME_WAIT       0\n  TCP    127.0.0.1:52706        127.0.0.1:9092         TIME_WAIT       0\n  TCP    127.0.0.1:52758        127.0.0.1:9092         TIME_WAIT       0\n  TCP    127.0.0.1:52766        127.0.0.1:9092         TIME_WAIT       0\n  TCP    [::]:9092              [::]:0                 LISTENING       90224\n# å¤šä¸ª TIME_WAIT æ˜¯ä¹‹å‰ kafka-topics.bat å»ºç«‹çš„çŸ­è¿æ¥å…³é—­åçš„æ­£å¸¸çŠ¶æ€</code></pre>\n<h4>1.1.2 æµ‹è¯•å¾€ Kafka é˜Ÿåˆ—ä¸­å†™å…¥æ¶ˆæ¯</h4>\n<p>1ï¼‰åˆ›å»º .NET 8.0 æ§åˆ¶å°åº”ç”¨ç¨‹åºï¼Œç„¶åå®‰è£…å¿…è¦çš„åŒ…ï¼š</p>\n<pre class=\"language-nginx highlighter-hljs\"><code>dotnet add package Serilog\ndotnet add package Serilog.Sinks.Console\ndotnet add package Serilog.Sinks.ConfluentKafka</code></pre>\n<p><img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1868241/202601/1868241-20260104105638368-1594540197.png\" /></p>\n<p>2ï¼‰ä¿®æ”¹ Program.cs</p>\n<pre class=\"language-csharp highlighter-hljs\"><code>using Confluent.Kafka;\nusing Serilog;\nusing Serilog.Formatting.Json;\nusing Serilog.Sinks.Kafka;\n\n// é…ç½® Kafka Producer\nvar kafkaConfig = new ProducerConfig\n{\n    BootstrapServers = \"localhost:9092\",\n    ClientId = \"serilog-dotnet8-demo\",\n    Acks = Acks.All,\n    EnableIdempotence = true,\n    MessageTimeoutMs = 30000\n};\n// é…ç½® Serilog\nLog.Logger = new LoggerConfiguration()\n    .MinimumLevel.Information()\n    .WriteTo.Console() // å¯é€‰ï¼šåŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°\n    .WriteTo.Kafka(\n        topic: \"my-logs-topic1212\",\n        null,\n        producerConfig: kafkaConfig,\n        formatter: new JsonFormatter() // æˆ–è‡ªå®šä¹‰æ ¼å¼\n    )\n.CreateLogger();\n// æµ‹è¯•æ—¥å¿—\nLog.Information(\"åº”ç”¨ç¨‹åºå¯åŠ¨æˆåŠŸ\");\nLog.Warning(\"ç”¨æˆ· {UserId} å°è¯•äº†é«˜é£é™©æ“ä½œ\", 123);\nLog.Error(new Exception(\"æ•°æ®åº“è¿æ¥å¤±è´¥\"), \"æ•°æ®åº“é”™è¯¯\");\n// æ¨¡æ‹Ÿä¸šåŠ¡\nfor (int i = 1; i &lt;= 3; i++)\n{\n    Log.Information(\"å¤„ç†ä»»åŠ¡ {TaskId}ï¼Œè¿›åº¦ {Progress:P}\", i, i / 3.0);\n    await Task.Delay(200);\n}\n// ç¡®ä¿æ—¥å¿—å‘é€å®Œæˆ\nLog.CloseAndFlush();\nConsole.WriteLine(\"\\næ—¥å¿—å·²å‘é€åˆ° Kafka ä¸»é¢˜ 'app-logs'ã€‚æŒ‰ä»»æ„é”®é€€å‡º...\");\nConsole.ReadKey();</code></pre>\n<p>å¯åŠ¨é¡¹ç›®ï¼Œç„¶åæŸ¥çœ‹ Kafka é˜Ÿåˆ—å†…å®¹ã€‚</p>\n<pre class=\"language-nginx highlighter-hljs\"><code># ä½¿ç”¨å‘½ä»¤æŸ¥çœ‹\n.\\bin\\windows\\kafka-console-consumer.bat --bootstrap-server localhost:9092 --topic &lt;your-topic&gt; --from-beginning\n# ã€kafka-console-consumer.batã€‘\n# Kafka è‡ªå¸¦çš„ å‘½ä»¤è¡Œæ¶ˆè´¹è€…å·¥å…·ï¼ˆConsole Consumerï¼‰\n# ã€--bootstrap-server localhost:9092ã€‘\n# æŒ‡å®š Kafka Broker çš„è¿æ¥åœ°å€ï¼ˆKRaft æ¨¡å¼ä¸‹å¿…éœ€ï¼‰\n# æ ¼å¼ï¼šhost:portï¼Œå¤šä¸ª Broker ç”¨é€—å·åˆ†éš”ï¼Œå¦‚ host1:9092,host2:9092\n# ä¸ºä»€ä¹ˆå« \"bootstrap\"ï¼Ÿå®¢æˆ·ç«¯åªéœ€è¿æ¥å…¶ä¸­ä¸€ä¸ª Brokerï¼Œå³å¯è·å–æ•´ä¸ªé›†ç¾¤çš„å…ƒæ•°æ®ï¼ˆåŒ…æ‹¬æ‰€æœ‰ Topicã€Partition åˆ†å¸ƒç­‰ï¼‰ï¼Œåç»­ä¼šç›´æ¥ä¸å¯¹åº” Partition çš„ Leader é€šä¿¡\n# ã€--topic &lt;your-topic&gt;ã€‘\n# æŒ‡å®šè¦æ¶ˆè´¹çš„ Topic åç§°ï¼Œè¿™é‡Œä¸€æ¬¡åªèƒ½æŒ‡å®š ä¸€ä¸ª Topic\n# ã€--from-beginningã€‘\n# ä»è¯¥ Topic çš„æœ€æ—©æ¶ˆæ¯ï¼ˆoffset = 0ï¼‰å¼€å§‹æ¶ˆè´¹ï¼Œè€Œä¸æ˜¯ä»æœ€æ–°ä½ç½®å¼€å§‹\n# ã€--property print.key=trueã€‘åŒæ—¶æ‰“å°æ¶ˆæ¯çš„ Keyï¼ˆé»˜è®¤åªæ‰“å° Valueï¼‰\n# ã€--property print.timestamp=trueã€‘æ‰“å°æ¶ˆæ¯çš„æ—¶é—´æˆ³ï¼ˆCreateTime æˆ– LogAppendTimeï¼‰</code></pre>\n<p>ç›´æ¥é€šè¿‡å‘½ä»¤æ‰“å°å‡ºæ¶ˆæ¯åˆ—è¡¨æ—¶ï¼Œä¼šå‡ºç°ä¸­æ–‡ä¹±ç ï¼Œ<strong>å¦‚ä½•å¤„ç†ä¹±ç å’Œä½¿ç”¨å·¥å…· Offset Explorer æ¥æŸ¥çœ‹</strong>ï¼Œè¯¦è§æœ¬æ–‡å†™ä¸€èŠ‚ã€‚</p>\n<h4>1.1.3 é‡åˆ°çš„é—®é¢˜ï¼šæŸ¥çœ‹é˜Ÿåˆ—æ¶ˆæ¯æ—¶ä¸­æ–‡ä¹±ç </h4>\n<p>åœ¨ PowerShell ä¸­é€šè¿‡å‘½ä»¤æŸ¥çœ‹é˜Ÿåˆ—æ¶ˆæ¯æ—¶ï¼Œå‡ºç°ä¹±ç ï¼Œå¦‚ä¸‹å›¾ï¼š</p>\n<p><img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1868241/202601/1868241-20260104092544043-1870984030.png\" /></p>\n<p>é˜Ÿåˆ—ï¼ˆTopicï¼‰ä¸­çš„ä¸­æ–‡æ¶ˆæ¯æ˜¾ç¤ºä¸ºä¹±ç ï¼Œè¿™é€šå¸¸æ˜¯ç”±äº å­—ç¬¦ç¼–ç ä¸ä¸€è‡´ å¯¼è‡´çš„ã€‚Kafka æœ¬èº«ä»¥å­—èŠ‚ï¼ˆbyteï¼‰å½¢å¼å­˜å‚¨æ¶ˆæ¯ï¼Œä¸å…³å¿ƒå†…å®¹ç¼–ç ï¼›é—®é¢˜å‡ºåœ¨ ç”Ÿäº§è€…å†™å…¥ å’Œ æ¶ˆè´¹è€…è¯»å– æ—¶ä½¿ç”¨çš„å­—ç¬¦ç¼–ç ä¸åŒ¹é…ï¼Œå°¤å…¶æ˜¯ Windows æ§åˆ¶å°ï¼ˆCMD/PowerShellï¼‰é»˜è®¤ä½¿ç”¨ GBKï¼ˆä¸­æ–‡ç³»ç»Ÿï¼‰è€Œé UTF-8ã€‚</p>\n<pre class=\"language-nginx highlighter-hljs\"><code># å³ä½¿ Kafka æ­£ç¡®è¾“å‡º UTF-8ï¼ŒWindows æ§åˆ¶å°é»˜è®¤ç”¨ GBK æ˜¾ç¤ºï¼Œä»ä¼šä¹±ç \n# åœ¨ PowerShell æˆ– CMD ä¸­æ‰§è¡Œï¼š\nchcp 65001  # 65001 æ˜¯ UTF-8 çš„ä»£ç é¡µ\n# PowerShell ä¸­è®¾ç½®ç¯å¢ƒå˜é‡åå¯åŠ¨\n$env:KAFKA_OPTS=\"-Dfile.encoding=UTF-8\"\n# ç„¶åå†é‡æ–°è¿è¡Œ consumer å‘½ä»¤\n.\\bin\\windows\\kafka-console-consumer.bat --bootstrap-server localhost:9092 --topic &lt;your-topic&gt; --from-beginning</code></pre>\n<p>ä¸Šè¾¹çš„é…ç½®ä»…å½“å‰çª—å£æœ‰æ•ˆã€‚</p>\n<p>è¿˜å¯ä»¥<strong>é€šè¿‡ Offset Explorer åº”ç”¨æ¥æŸ¥çœ‹æ¶ˆæ¯</strong>ã€‚</p>\n<p>ä¸‹è½½ Offset Explorerï¼š<a href=\"https://offsetexplorer.com/download.html\" rel=\"noopener nofollow\" target=\"_blank\" title=\"https://offsetexplorer.com/download.html\">https://offsetexplorer.com/download.html</a>ã€‚</p>\n<p><img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1868241/202512/1868241-20251231184356405-1355679403.png\" /></p>\n<p><img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1868241/202512/1868241-20251231184433809-1109603218.png\" /></p>\n<h4>1.1.4 é‡åˆ°çš„é—®é¢˜ï¼šé‡å¯ Kafka æ—¶ä¸æˆåŠŸ</h4>\n<p>æŠ¥é”™å†…å®¹ä¾‹å¦‚ï¼š</p>\n<pre class=\"language-nginx highlighter-hljs\"><code>WARN Stopping serving logs in dir D:\\kafka_2.13-4.1.1\\data\\kafka-logs (kafka.log.LogManager)\nERROR Shutdown broker because all log dirs in D:\\kafka_2.13-4.1.1\\data\\kafka-logs have failed (kafka.log.LogManager)</code></pre>\n<p>è¯´æ˜ Kafka Broker å¯åŠ¨åå› æ—¥å¿—ç›®å½•ï¼ˆlog.dirsï¼‰ä¸å¯ç”¨è€Œä¸»åŠ¨å…³é—­ã€‚è¿™æ˜¯ Kafka çš„ä¿æŠ¤æœºåˆ¶â€”â€”å½“æ‰€æœ‰é…ç½®çš„æ—¥å¿—å­˜å‚¨ç›®å½•éƒ½å¤±æ•ˆæ—¶ï¼Œå®ƒä¼šæ‹’ç»è¿è¡Œä»¥é¿å…æ•°æ®ä¸¢å¤±ã€‚</p>\n<p>å¯èƒ½çš„åŸå› ï¼š</p>\n<p>1ï¼‰æ—¥å¿—æ‰€åœ¨çš„ç›®å½•æƒé™ä¸è¶³ã€‚</p>\n<p>Kafka éœ€è¦å¯¹ log.dirs æŒ‡å®šçš„ç›®å½•æœ‰ è¯»ã€å†™ã€åˆ é™¤ã€åˆ›å»ºå­ç›®å½• çš„æƒé™ã€‚æœ¬æ–‡ç¤ºä¾‹çš„ç›®å½•ä¸ºï¼šD:\\kafka_2.13-4.1.1\\data\\kafka-logsã€‚</p>\n<p>æ“ä½œï¼šå³é”® kafka-logs æ–‡ä»¶å¤¹ â†’ å±æ€§ â†’ å®‰å…¨ â†’ ç¼–è¾‘ï¼›ç»™å½“å‰ç”¨æˆ·é…ç½® â€œå®Œå…¨æ§åˆ¶â€ æƒé™ï¼›æœ€åé‡å¯ Kafkaã€‚</p>\n<p>2ï¼‰ç›®å½•è¢«å…¶ä»– Kafka å®ä¾‹å ç”¨ï¼ˆæ–‡ä»¶é”ï¼‰</p>\n<p>å¦‚æœä¹‹å‰å¯åŠ¨è¿‡ Kafka ä½†æœªæ­£å¸¸å…³é—­ï¼Œ.lock æ–‡ä»¶å¯èƒ½æ®‹ç•™ï¼Œå¯¼è‡´æ–°å®ä¾‹è®¤ä¸ºç›®å½•å·²è¢«å ç”¨ã€‚</p>\n<p>å…ˆç¡®è®¤æœ‰æ²¡æœ‰ Kafka ç¤ºä¾‹åœ¨è¿è¡Œï¼Œ<code>tasklist /fi \"imagename eq java.exe\"</code>ã€‚</p>\n<p>æœ‰å°±å…ˆç»“æŸï¼Œç„¶åå†æŠŠ .lock æ–‡ä»¶åˆ é™¤ã€‚</p>\n<p>æµ‹è¯•é˜¶æ®µå¯ä»¥å°†æ—¥å¿—æ–‡ä»¶å¤¹ä¸‹çš„å…¨éƒ¨æ–‡ä»¶éƒ½åˆ æ‰ï¼Œé¿å…å› æœªçŸ¥çš„å ç”¨å¯¼è‡´ Kafka å¯åŠ¨å¤±è´¥ï¼Œä½†è¦è°¨æ…æ“ä½œï¼Œå…¨éƒ¨åˆ é™¤ä¼šé€ æˆä¹‹å‰é˜Ÿåˆ—æ¶ˆæ¯æ¸…ç©ºã€‚</p>\n<p><span style=\"font-size: 12px;\"><em>æ³¨æ„ï¼šä¸è¦å¼ºè¡Œåˆ é™¤æ­£åœ¨ä½¿ç”¨çš„æ—¥å¿—ç›®å½•å†…å®¹ï¼ä»…åœ¨ç¡®è®¤ Kafka å·²åœæ­¢æ—¶æ“ä½œã€‚</em></span></p>\n<p>3ï¼‰ç£ç›˜ç©ºé—´ä¸è¶³ï¼Œå¯ä»¥è‡ªè¡Œæ£€æŸ¥ï¼Œç¡®ä¿æœ‰è¶³å¤Ÿç©ºé—´ï¼ˆè‡³å°‘å‡ ç™¾ MBï¼‰ã€‚</p>\n<h3>1.2 Serilog.Sinks.RabbitMQï¼šå°†æ—¥å¿—äº‹ä»¶å‘é€åˆ° RabbitMQ æ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿä¸­</h3>\n<p>Serilog.Sinks.RabbitMQ æ˜¯ä¸€ä¸ª Serilog çš„æ—¥å¿—æ¥æ”¶å™¨ï¼ˆSinkï¼‰ï¼Œç”¨äºå°†åº”ç”¨ç¨‹åºçš„æ—¥å¿—äº‹ä»¶å‘é€åˆ° RabbitMQ æ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿä¸­ã€‚</p>\n<p>é€šè¿‡è¯¥ Sinkï¼Œå¼€å‘è€…å¯ä»¥å°†ç»“æ„åŒ–æ—¥å¿—ä»¥æ¶ˆæ¯çš„å½¢å¼å‘å¸ƒåˆ° RabbitMQ çš„ äº¤æ¢æœºï¼ˆExchangeï¼‰ æˆ–ç›´æ¥ç»‘å®šåˆ° é˜Ÿåˆ—ï¼ˆQueueï¼‰ï¼Œä»è€Œå®ç°æ—¥å¿—çš„é›†ä¸­æ”¶é›†ã€å¼‚æ­¥å¤„ç†ã€è§£è€¦æˆ–è¿›ä¸€æ­¥è½¬å‘åˆ°æ—¥å¿—åˆ†æç³»ç»Ÿï¼ˆå¦‚ ELKã€Graylog ç­‰ï¼‰ã€‚</p>\n<p>å¤§æ¦‚çš„æ­¥éª¤ï¼š</p>\n<p>â€ƒâ€ƒåº”ç”¨ç¨‹åºè°ƒç”¨ Log.Information(...) ç­‰æ–¹æ³•è®°å½•æ—¥å¿—ï¼›<br />â€ƒâ€ƒSerilog æ•è·æ—¥å¿—äº‹ä»¶ï¼›<br />â€ƒâ€ƒRabbitMQ Sink å°†æ—¥å¿—äº‹ä»¶åºåˆ—åŒ–ï¼›<br />â€ƒâ€ƒé€šè¿‡ AMQP å®¢æˆ·ç«¯è¿æ¥ RabbitMQï¼›<br />â€ƒâ€ƒå°†æ¶ˆæ¯å‘å¸ƒåˆ°é…ç½®çš„ Exchangeï¼ˆå¯é€‰ç»‘å®š Routing Keyï¼‰ï¼›<br />â€ƒâ€ƒRabbitMQ æ ¹æ®ç»‘å®šè§„åˆ™å°†æ¶ˆæ¯è·¯ç”±åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªé˜Ÿåˆ—ï¼›<br />â€ƒâ€ƒæ¶ˆè´¹è€…ï¼ˆå¦‚æ—¥å¿—å¤„ç†å™¨ã€ELK è¾“å…¥æ’ä»¶ï¼‰ä»é˜Ÿåˆ—ä¸­æ¶ˆè´¹æ—¥å¿—ã€‚</p>\n<p><em>æ³¨æ„ï¼šSink é»˜è®¤ä¸å£°æ˜é˜Ÿåˆ—ï¼Œåªè´Ÿè´£å‘å¸ƒæ¶ˆæ¯åˆ° Exchangeã€‚å› æ­¤ï¼Œåœ¨å¾€ RabbitMQ å‘é€æ¶ˆæ¯å‰ï¼Œéœ€è¦æå‰é…ç½®å¥½ Exchangeã€Queue å’Œç»‘å®šå…³ç³»ï¼Œæˆ–è€…å¯ç”¨è‡ªåŠ¨å£°æ˜ï¼ˆéƒ¨åˆ†ç‰ˆæœ¬æ”¯æŒï¼‰ã€‚</em></p>\n<h4>1.2.1 åœ¨ Windows ä¸Šå®‰è£… RabbitMQ</h4>\n<p>æœ€å¸¸è§çš„æ˜¯é€šè¿‡ <strong>Erlang + RabbitMQ</strong> å®‰è£…åŒ… çš„ç»„åˆæ–¹å¼ï¼ˆå› ä¸º<strong> RabbitMQ æ˜¯ç”¨ Erlang ç¼–å†™çš„ï¼Œä¾èµ– Erlang/OTP è¿è¡Œæ—¶</strong>ï¼‰ã€‚</p>\n<p><span style=\"font-size: 12px;\"><em>æ³¨æ„ï¼šErlang å’Œ RabbitMQ çš„ç‰ˆæœ¬å¿…é¡»å…¼å®¹ã€‚è¯·å‚è€ƒå®˜æ–¹å…¼å®¹æ€§çŸ©é˜µï¼š<a href=\"https://www.rabbitmq.com/docs/which-erlang\" rel=\"noopener nofollow\" target=\"_blank\" title=\"https://www.rabbitmq.com/docs/which-erlang\">https://www.rabbitmq.com/docs/which-erlang</a>ã€‚</em></span></p>\n<p>1ï¼‰ä¸‹è½½å’Œå®‰è£… Erlang/OTP</p>\n<p>å®˜æ–¹ä¸‹è½½é¡µï¼š<a href=\"https://www.erlang.org/downloads\" rel=\"noopener nofollow\" target=\"_blank\" title=\"https://www.erlang.org/downloads\">https://www.erlang.org/downloads</a>ã€‚</p>\n<p>æ¨èä½¿ç”¨ Windows 64-bit Binary File (.exe)ï¼Œä¾‹å¦‚ï¼šotp_win64_27.3.exeï¼ˆå¯¹åº” OTP 27.3ï¼‰ã€‚æˆªè‡³ 2025 å¹´ 12 æœˆï¼ŒRabbitMQ 4.2+ é€šå¸¸è¦æ±‚ Erlang 26.2 ~ 27.xã€‚</p>\n<p><img alt=\"image\" height=\"175\" src=\"https://img2024.cnblogs.com/blog/1868241/202512/1868241-20251202110425987-1382745303.png\" width=\"494\" /></p>\n<p>ç„¶åç›´æ¥åŒå‡»å®‰è£…åŒ…ï¼Œç›´æ¥ä¸‹ä¸€æ­¥å®‰è£…å®Œæˆã€‚</p>\n<p>å†æ”¹ä¸‹ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼š</p>\n<p><strong>æ–°å¢</strong>ï¼šERLANG_HOMEï¼šC:\\Program Files\\Erlang OTPã€‚</p>\n<p><strong>åœ¨ Path ä¸­æ·»åŠ </strong>ï¼š%ERLANG_HOME%\\binã€‚</p>\n<p>æœ€åï¼Œç”¨ erl å‘½ä»¤éªŒè¯ä¸‹æ˜¯å¦å®‰è£…æˆåŠŸï¼š</p>\n<pre class=\"language-powershell highlighter-hljs\"><code>C:\\Windows\\system32&gt;erl\nErlang/OTP 27 [erts-15.2.3] [source] [64-bit] [smp:20:20] [ds:20:20:10] [async-threads:1] [jit:ns]\n\nEshell V15.2.3 (press Ctrl+G to abort, type help(). for help)\n1&gt;</code></pre>\n<p>2ï¼‰ä¸‹è½½å’Œå®‰è£… RabbitMQ</p>\n<p>å®˜æ–¹ä¸‹è½½åœ°å€ï¼š<a href=\"https://www.rabbitmq.com/docs/install-windows#downloads\" rel=\"noopener nofollow\" target=\"_blank\" title=\"https://www.rabbitmq.com/docs/install-windows#downloads\">https://www.rabbitmq.com/docs/install-windows#downloads</a>ã€‚</p>\n<p>ä¸‹è½½ RabbitMQ Server Windows Installer (.exe)ã€‚ä¾‹å¦‚ï¼šrabbitmq-server-4.2.1.exeã€‚æ¨èä½¿ç”¨ .exe å®‰è£…åŒ…ï¼ˆå¸¦å›¾å½¢ç•Œé¢å’Œ Windows æœåŠ¡ï¼‰ï¼Œè€Œé .zip å‹ç¼©åŒ…ã€‚</p>\n<p><img alt=\"image\" height=\"119\" src=\"https://img2024.cnblogs.com/blog/1868241/202512/1868241-20251202110133508-558096292.png\" width=\"478\" /></p>\n<p>å®‰è£…å®Œæˆåï¼ŒåŒæ ·éœ€è¦ä¿®æ”¹ç¯å¢ƒå˜é‡ï¼š</p>\n<p>æ–°å¢ä¸€ä¸ªï¼ŒRABBITMQ_SERVERï¼šC:\\Program Files\\RabbitMQ Serverã€‚</p>\n<p>è¿½åŠ  Pathï¼š%RABBITMQ_SERVER%\\binã€‚</p>\n<p>æœ€åï¼ŒéªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸã€‚</p>\n<pre class=\"language-powershell highlighter-hljs\"><code>C:\\Windows\\system32&gt;sc query RabbitMQ\n\nSERVICE_NAME: RabbitMQ\n        TYPE               : 10  WIN32_OWN_PROCESS\n        STATE              : 4  RUNNING\n                                (STOPPABLE, NOT_PAUSABLE, ACCEPTS_SHUTDOWN)\n        WIN32_EXIT_CODE    : 0  (0x0)\n        SERVICE_EXIT_CODE  : 0  (0x0)\n        CHECKPOINT         : 0x0\n        WAIT_HINT          : 0x0</code></pre>\n<p>å¦å¤–ï¼ŒRabbitMQ è‡ªå¸¦ä¸€ä¸ª Web ç®¡ç†ç•Œé¢ï¼ˆManagement Pluginï¼‰ï¼Œé»˜è®¤æœªå¯ç”¨ã€‚</p>\n<pre class=\"language-powershell highlighter-hljs\"><code># ä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€ å‘½ä»¤æç¤ºç¬¦ æˆ– PowerShellï¼Œæ‰§è¡Œï¼ˆå…±ä¸¤æ­¥ï¼‰ï¼š\n# 1ï¼‰è¿›å…¥ RabbitMQ å®‰è£…ç›®å½•çš„ sbin æ–‡ä»¶å¤¹ï¼ˆé€šå¸¸å¦‚ä¸‹ï¼Œç‰ˆæœ¬å·éœ€è¦æ”¹æˆæœ¬åœ°çš„ï¼‰\nC:\\Program Files\\RabbitMQ Server&gt;cd C:\\Program Files\\RabbitMQ Server\\rabbitmq_server-4.2.1\\sbin\n# 2ï¼‰å¯ç”¨ç®¡ç†æ’ä»¶\nC:\\Program Files\\RabbitMQ Server\\rabbitmq_server-4.2.1\\sbin&gt;.\\rabbitmq-plugins.bat enable rabbitmq_management\nEnabling plugins on node rabbit@chengzijia:\nrabbitmq_management\nThe following plugins have been configured:\n  rabbitmq_management\n  rabbitmq_management_agent\n  rabbitmq_web_dispatch\nApplying plugin configuration to rabbit@chengzijia...\nThe following plugins have been enabled:\n  rabbitmq_management\n  rabbitmq_management_agent\n  rabbitmq_web_dispatch\n\nset 3 plugins.\nOffline change; changes will take effect at broker restart.</code></pre>\n<p>å¯ç”¨åéœ€è¦æ‰‹åŠ¨é‡å¯ä¸‹ RabbitMQ æœåŠ¡ï¼Œç„¶åé€šè¿‡ <a href=\"http://localhost:15672/\" rel=\"noopener nofollow\" target=\"_blank\" title=\"http://localhost:15672/\">http://localhost:15672/</a> è®¿é—®ã€‚éœ€è¦ç™»å½•è´¦å·å’Œå¯†ç ï¼Œå‡ä¸º guestã€‚</p>\n<p><span style=\"font-size: 12px;\"><em>æ³¨æ„ï¼šguest ç”¨æˆ·é»˜è®¤åªèƒ½ä» localhost ç™»å½•ï¼Œè‹¥éœ€è¿œç¨‹è®¿é—®ï¼Œéœ€åˆ›å»ºæ–°ç”¨æˆ·å¹¶æˆæƒã€‚</em></span></p>\n<p>åœ¨ sbin ç›®å½•ä¸‹å¯ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>å‘½ä»¤</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>.\\rabbitmqctl.bat status</code></td>\n<td>æŸ¥çœ‹èŠ‚ç‚¹çŠ¶æ€</td>\n</tr>\n<tr>\n<td><code>.\\rabbitmqctl.bat list_users</code></td>\n<td>åˆ—å‡ºç”¨æˆ·</td>\n</tr>\n<tr>\n<td><code>.\\rabbitmqctl.bat add_user myuser mypass</code></td>\n<td>æ·»åŠ ç”¨æˆ·</td>\n</tr>\n<tr>\n<td><code>.\\rabbitmqctl.bat set_user_tags myuser administrator</code></td>\n<td>è®¾ç½®ç”¨æˆ·ä¸ºç®¡ç†å‘˜</td>\n</tr>\n<tr>\n<td><code>.\\rabbitmqctl.bat set_permissions -p / myuser \".*\" \".*\" \".*\"</code></td>\n<td>æˆäºˆ vhost&nbsp;<code>/</code>&nbsp;çš„å…¨éƒ¨æƒé™</td>\n</tr>\n</tbody>\n</table>\n<p>é…ç½®å…è®¸è¿œç¨‹è®¿é—®ï¼š</p>\n<pre class=\"language-powershell highlighter-hljs\"><code># åˆ›å»ºæ–°ç”¨æˆ·\n.\\rabbitmqctl.bat add_user admin yourpassword\n.\\rabbitmqctl.bat set_user_tags admin administrator\n.\\rabbitmqctl.bat set_permissions -p / admin \".*\" \".*\" \".*\"\n# ç¡®ä¿é˜²ç«å¢™å¼€æ”¾ç«¯å£ï¼š\n# AMQP é»˜è®¤ç«¯å£ï¼š5672\n# Management Web UI ç«¯å£ï¼š15672</code></pre>\n<h4>1.2.2 é€šè¿‡ Serilog.Sinks.RabbitMQ 8.0.0 å®ç°è®²æ¶ˆæ¯å†™å…¥åˆ°é˜Ÿåˆ—</h4>\n<p>ç¤ºä¾‹ç¨‹åºçš„ç›®æ ‡ï¼š<strong>å°†æ—¥å¿—ä¿¡æ¯é€šè¿‡ localhost guest è´¦å·ï¼Œæ¨é€åˆ° amq.fanout äº¤æ¢æœºã€‚</strong></p>\n<p>1ï¼‰åˆ›å»ºé¡¹ç›®å¹¶å¼•å…¥å¿…è¦çš„åŒ…</p>\n<p>åˆ›å»ºä¸€ä¸ªåŸºäº .net8 çš„æ§åˆ¶å°åº”ç”¨ç¨‹åºï¼Œå¹¶å¼•å…¥ä»¥ä¸‹åŒ…ï¼š</p>\n<pre class=\"language-powershell highlighter-hljs\"><code>dotnet add package Serilog\ndotnet add package Serilog.Sinks.Console\ndotnet add package Serilog.Sinks.RabbitMQ</code></pre>\n<p>2ï¼‰ä¿®æ”¹ Program.cs</p>\n<pre class=\"language-csharp highlighter-hljs\"><code>using RabbitMQ.Client;\nusing Serilog;\nusing Serilog.Events;\nusing Serilog.Formatting.Json;\nusing Serilog.Sinks.RabbitMQ;\n\n// å°† Serilog Sink å†…éƒ¨çš„å¼‚å¸¸ï¼ˆå¦‚è¿æ¥å¤±è´¥ã€æƒé™é”™è¯¯ã€exchange ä¸å­˜åœ¨ç­‰ï¼‰è¾“å‡ºåˆ°æ§åˆ¶å°\nSerilog.Debugging.SelfLog.Enable(Console.Error);\n\n// é…ç½® Serilog\nLog.Logger = new LoggerConfiguration()\n    .MinimumLevel.Debug()\n    .WriteTo.Console()\n    .WriteTo.RabbitMQ((clientConfiguration, sinkConfiguration) =&gt;\n    {\n        clientConfiguration.Port = 5672;\n        clientConfiguration.DeliveryMode = RabbitMQDeliveryMode.Durable;\n        clientConfiguration.Exchange = \"amq.fanout\";\n        clientConfiguration.Username = \"guest\";\n        clientConfiguration.Password = \"guest\";\n        clientConfiguration.ExchangeType = \"fanout\";\n        clientConfiguration.Hostnames.Add(\"localhost\");\n        sinkConfiguration.TextFormatter = new JsonFormatter();\n    }).CreateLogger();\n\ntry\n{\n    Log.Information(\"åº”ç”¨ç¨‹åºå¯åŠ¨\");\n    // ç¤ºä¾‹ç»“æ„åŒ–æ—¥å¿—\n    var userId = 12345;\n    var userName = \"alice\";\n    Log.Information(\"ç”¨æˆ· {@User} ç™»å½•æˆåŠŸï¼ŒID: {UserId}\", new { Name = userName, Role = \"Admin\" }, userId);\n    Log.Warning(\"è¿™æ˜¯ä¸€ä¸ªè­¦å‘Šæ—¥å¿—ï¼ŒåŒ…å«å±æ€§ {RetryCount}\", 3);\n    Log.Error(new InvalidOperationException(\"æ¨¡æ‹Ÿå¼‚å¸¸\"), \"å¤„ç†è¯·æ±‚æ—¶å‘ç”Ÿé”™è¯¯ï¼Œè¯·æ±‚ID: {RequestId}\", Guid.NewGuid());\n    Log.Information(\"åº”ç”¨ç¨‹åºå³å°†å…³é—­\");\n}\ncatch (Exception ex)\n{\n    Log.Fatal(ex, \"åº”ç”¨ç¨‹åºå´©æºƒ\");\n}\nfinally\n{\n    Log.CloseAndFlush(); // ç¡®ä¿æ—¥å¿—è¢«å‘é€\n}</code></pre>\n<p>åœ¨æµ‹è¯•å†™å…¥æ—¥å¿—ä¹‹å‰ï¼Œéœ€è¦å…ˆæ‰‹åŠ¨æ–°å¢é˜Ÿåˆ—ï¼šlogs_firstï¼Œç„¶åå†å°†æ­¤é˜Ÿåˆ—åŠ å…¥åˆ° amq.fanout äº¤æ¢æœºä¸­ã€‚</p>\n<p><span style=\"background-color: rgba(251, 238, 184, 1);\"><strong>æ–°å¢é˜Ÿåˆ—</strong></span>ï¼Œå¡«å…¥ Nameï¼Œç„¶åå…¶ä»–é»˜è®¤ï¼Œç›´æ¥ä¿å­˜ã€‚</p>\n<p><img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1868241/202512/1868241-20251202193859301-511521966.png\" /></p>\n<p><span style=\"background-color: rgba(251, 238, 184, 1);\"><strong>å°†æ–°å¢çš„é˜Ÿåˆ—ç»‘å®šåˆ°äº¤æ¢æœº amq.fanout ä¸­</strong></span>ï¼šï¼ˆç›´æ¥è¾“å…¥ä¸Šä¸€æ­¥æ–°å¢çš„é˜Ÿåˆ—ï¼Œç‚¹å‡» Bindï¼‰</p>\n<p><img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1868241/202512/1868241-20251202194106507-753137885.png\" /></p>\n<p>ç„¶åè¿è¡Œç¨‹åºï¼ŒæŸ¥çœ‹é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ï¼Œç¡®è®¤æ˜¯å¦å†™å…¥æˆåŠŸã€‚</p>\n<h4>1.2.3 æŸ¥çœ‹æ¶ˆæ¯å†™å…¥ç»“æœ</h4>\n<p><span style=\"background-color: rgba(251, 238, 184, 1);\">ç‚¹å‡»é˜Ÿåˆ—åï¼Œè¿›å…¥é˜Ÿåˆ—çš„è¯¦ç»†ä¿¡æ¯ã€‚</span></p>\n<p><img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1868241/202512/1868241-20251202194417662-2092330832.png\" /></p>\n<p><span style=\"background-color: rgba(251, 238, 184, 1);\">ç‚¹å‡»ï¼ˆGet Message(s)ï¼‰è·å–æŒ‡å®šæ¡æ•°é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ã€‚</span></p>\n<p><img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1868241/202512/1868241-20251202194655663-127466200.png\" /></p>\n<p><span style=\"background-color: rgba(251, 238, 184, 1);\">å¦‚ä¸‹æ˜¯æ¶ˆæ¯çš„è¯¦ç»†ä¿¡æ¯ï¼š</span></p>\n<pre class=\"language-csharp highlighter-hljs\"><code>Message 1\nThe server reported 4 messages remaining.\n\nExchange\tamq.fanout\nRouting Key\t\nRedelivered\tâ—\nProperties\t\ndelivery_mode:\t2\nPayload\n112 bytes\nEncoding: string\n{\"Timestamp\":\"2025-12-02T19:25:27.5782940+08:00\",\"Level\":\"Information\",\"MessageTemplate\":\"åº”ç”¨ç¨‹åºå¯åŠ¨\"}\n\nMessage 2\nThe server reported 3 messages remaining.\n\nExchange\tamq.fanout\nRouting Key\t\nRedelivered\tâ—\nProperties\t\ndelivery_mode:\t2\nPayload\n205 bytes\nEncoding: string\n{\"Timestamp\":\"2025-12-02T19:25:28.2261865+08:00\",\"Level\":\"Information\",\"MessageTemplate\":\"ç”¨æˆ· {@User} ç™»å½•æˆåŠŸï¼ŒID: {UserId}\",\"Properties\":{\"User\":{\"Name\":\"alice\",\"Role\":\"Admin\"},\"UserId\":12345}}\n\nMessage 3\nThe server reported 2 messages remaining.\n\nExchange\tamq.fanout\nRouting Key\t\nRedelivered\tâ—\nProperties\t\ndelivery_mode:\t2\nPayload\n172 bytes\nEncoding: string\n{\"Timestamp\":\"2025-12-02T19:25:28.2352913+08:00\",\"Level\":\"Warning\",\"MessageTemplate\":\"è¿™æ˜¯ä¸€ä¸ªè­¦å‘Šæ—¥å¿—ï¼ŒåŒ…å«å±æ€§ {RetryCount}\",\"Properties\":{\"RetryCount\":3}}\n\nMessage 4\nThe server reported 1 messages remaining.\n\nExchange\tamq.fanout\nRouting Key\t\nRedelivered\tâ—\nProperties\t\ndelivery_mode:\t2\nPayload\n266 bytes\nEncoding: string\n{\"Timestamp\":\"2025-12-02T19:25:28.2368545+08:00\",\"Level\":\"Error\",\"MessageTemplate\":\"å¤„ç†è¯·æ±‚æ—¶å‘ç”Ÿé”™è¯¯ï¼Œè¯·æ±‚ID: {RequestId}\",\"Exception\":\"System.InvalidOperationException: æ¨¡æ‹Ÿå¼‚å¸¸\",\"Properties\":{\"RequestId\":\"0003f90d-4b1e-4cd9-87ef-a875e31b3acb\"}}\n\nMessage 5\nThe server reported 0 messages remaining.\n\nExchange\tamq.fanout\nRouting Key\t\nRedelivered\tâ—\nProperties\t\ndelivery_mode:\t2\nPayload\n118 bytes\nEncoding: string\n{\"Timestamp\":\"2025-12-02T19:25:28.2457995+08:00\",\"Level\":\"Information\",\"MessageTemplate\":\"åº”ç”¨ç¨‹åºå³å°†å…³é—­\"}</code></pre>\n</div>\n<div id=\"MySignature\">\n    <img src=\"https://images.cnblogs.com/cnblogs_com/blogs/683398/galleries/2417207/o_221441c4.png\" />\n<p>æœ¬æ–‡æ¥è‡ªåšå®¢å›­ï¼Œä½œè€…ï¼š<a href=\"https://www.cnblogs.com/hnzhengfy/\" target=\"_blank\">æ©™å­å®¶</a>ï¼Œæ¬¢è¿å¾®ä¿¡æ‰«ç å…³æ³¨åšä¸»ã€æ©™å­å®¶czzjã€‘ï¼Œæœ‰ä»»ä½•ç–‘é—®æ¬¢è¿æ²Ÿé€šï¼Œå…±åŒæˆé•¿ï¼</p>\n<div><p style=\"float: left;\">è½¬è½½æœ¬æ–‡è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼š<a href=\"https://www.cnblogs.com/hnzhengfy/p/19191039/Serilog_MQSinks\" target=\"_blank\">https://www.cnblogs.com/hnzhengfy/p/19191039/Serilog_MQSinks</a></p></div>\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-04 19:54</span>&nbsp;\n<a href=\"https://www.cnblogs.com/hnzhengfy\">æ©™å­å®¶</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">24</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "MAFå¿«é€Ÿå…¥é—¨ï¼ˆ10ï¼‰å¾ªç¯å·¥ä½œæµ",
      "link": "https://www.cnblogs.com/edisontalk/p/-/quick-start-on-maf-chatper10",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/edisontalk/p/-/quick-start-on-maf-chatper10\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-04 18:30\">\n    <span>MAFå¿«é€Ÿå…¥é—¨ï¼ˆ10ï¼‰å¾ªç¯å·¥ä½œæµ</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                    <div id=\"cnblogs_post_description\" style=\"display: none;\">\n        <img alt=\"MAFå¿«é€Ÿå…¥é—¨ï¼ˆ10ï¼‰å¾ªç¯å·¥ä½œæµ\" class=\"desc_img\" src=\"https://img2024.cnblogs.com/blog/381412/202601/381412-20260103192858891-1281339805.png\" />\n        åœ¨å®é™…ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œå¾€å¾€éœ€è¦åœ¨å·¥ä½œæµä¸­è®¾ç½®ä¸€äº›å¾ªç¯ä¸è‡ªæˆ‘ä¿®æ­£çš„æœºåˆ¶ï¼Œæ„å»ºå‡ºä¸€ä¸ªâ€œç”Ÿæˆâ†’å®¡æ ¸â†’ä¿®å¤â€çš„é—­ç¯ï¼Œæ¥ç¡®ä¿AIäº§å‡ºçš„å†…å®¹èƒ½å¤Ÿæ»¡è¶³ä¼ä¸šçº§è´¨é‡æ ‡å‡†ã€‚\n    </div>\n<div class=\"blogpost-body blogpost-body-html\" id=\"cnblogs_post_body\">\n<p><span><span>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯Edisonã€‚</span></span></p>\n<p><span><span>æœ€è¿‘æˆ‘ä¸€ç›´åœ¨è·Ÿç€åœ£æ°çš„ã€Š<a class=\"normal_text_link mp_article_text_link\" href=\"https://www.cnblogs.com/sheng-jie/p/19200934\" target=\"_blank\"><span>.NET+AIæ™ºèƒ½ä½“å¼€å‘è¿›é˜¶</span></a><span>ã€‹è¯¾ç¨‹å­¦ä¹ MAFçš„å¼€å‘æŠ€å·§ï¼Œæˆ‘å¼ºçƒˆæ¨èä½ ä¹Ÿä¸Šè½¦è·Ÿæˆ‘ä¸€èµ·å‡ºå‘ï¼</span></span></span></p>\n<p><span><a class=\"normal_text_link mp_article_text_link\" href=\"https://www.cnblogs.com/edisontalk/p/-/quick-start-on-maf-chatper09\" target=\"_blank\"><span>ä¸Šä¸€ç¯‡</span></a><span>ï¼Œæˆ‘ä»¬å­¦ä¹ äº†MAFä¸­å¦‚ä½•è¿›è¡Œswitch-caseç±»å‹çš„å¤šæ¡ä»¶è·¯ç”±<span>ã€‚æœ¬ç¯‡ï¼Œæˆ‘ä»¬æ¥äº†è§£ä¸‹åœ¨MAFä¸­å¦‚ä½•å®ç°å¾ªç¯ï¼ˆè‡ªæˆ‘ä¿®æ­£ï¼‰å·¥ä½œæµã€‚</span></span></span></p>\n<h1><strong>1 å¾ªç¯ä¸è‡ªæˆ‘ä¿®æ­£</strong></h1>\n<p><span><span><span><span><span><span>åœ¨å®é™…ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œå¾€å¾€éœ€è¦åœ¨å·¥ä½œæµä¸­è®¾ç½®ä¸€äº›å¾ªç¯ä¸è‡ªæˆ‘ä¿®æ­£çš„æœºåˆ¶ï¼Œæ„å»ºå‡ºä¸€ä¸ªâ€œ<span><strong>ç”Ÿæˆ</strong><span><span><strong>â†’å®¡æ ¸</strong><span><span><span><strong>â†’ä¿®å¤</strong><span><span>â€çš„é—­ç¯ï¼Œæ¥ç¡®ä¿AIäº§å‡ºçš„å†…å®¹èƒ½å¤Ÿæ»¡è¶³ä¼ä¸šçº§è´¨é‡æ ‡å‡†<span>ã€‚</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p><span><span><span><span><span><span>åœ¨MAFä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Loop Edge å³ å¾ªç¯è¾¹ æ¥å®ç°è¿™ä¸ªç›®çš„<span>ï¼Œå¦‚ä¸‹ä»£ç ç‰‡æ®µæ‰€ç¤ºï¼š</span></span></span></span></span></span></span></p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">var</span> workflow = <span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> WorkflowBuilder(draftExecutor)\n    .AddEdge(draftExecutor, qcExecutor)\n    .AddEdge(qcExecutor, draftExecutor)\n    .WithOutputFrom(qcExecutor)\n    .Build();</span></pre>\n</div>\n<p><span><span><span><span><span><span><span>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬æ·»åŠ äº†ä¸¤ä¸ªè¾¹å…³è”å…³ç³»ï¼Œè¿™æ ·å°±å½¢æˆäº†ä¸€ä¸ªå¾ªç¯ã€‚</span></span></span></span></span></span></span></p>\n<h1><strong>2 å¾ªç¯å·¥ä½œæµå®éªŒæ¡ˆä¾‹</strong></h1>\n<p><span><span><span><span><span><span><span><span>å‡è®¾æˆ‘ä»¬æ˜¯ä¸€ä¸ªç”µå•†å¹³å°çš„å®¢æœä¸­å¿ƒï¼Œæ¯å¤©éœ€è¦å¤„ç†äº§ç”Ÿçš„å¤§é‡å®¢æœå·¥å•è¿›è¡Œå›å¤ã€‚è¿™é‡Œæˆ‘ä»¬å¸Œæœ›AIåŠ©æ‰‹å…ˆå¸®æˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªå›å¤è‰ç¨¿ï¼Œç„¶åç»è¿‡å¤šç»´åº¦çš„è´¨æ£€ï¼ˆç¤¼è²Œåº¦ã€å‡†ç¡®æ€§ã€åˆè§„æ€§ï¼‰ï¼Œä¸åˆæ ¼çš„åˆ™è‡ªåŠ¨è¿›è¡Œæ”¹è¿›ï¼Œç›´åˆ°æ»¡è¶³æ ‡å‡† æˆ–è€…æ˜¯ è½¬ç»™äººå·¥å¤„ç†ã€‚</span><span><span>å› æ­¤ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯ï¼šé…ç½®ä¸€ä¸ªè‡ªåŠ¨è¿­ä»£çš„å¾ªç¯â€œ<span><span><span>ç”Ÿæˆ<span><span>â†’å®¡æ ¸<span><span><span>â†’ä¿®å¤â€ï¼Œè¾¾æ ‡å³å¯é€€å‡ºå¾ªç¯ï¼Œå¦åˆ™è½¬äººå·¥å¤„ç†ã€‚</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>\n<h3><strong><span><span>2.1 å…³é”®ä¾èµ–åŒ…å¼•å…¥</span></span></strong></h3>\n<p><span><span><span><span><span><span><span><span>åœ¨ä»Šå¤©çš„è¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬ä»ç„¶åˆ›å»ºäº†ä¸€ä¸ª.NETæ§åˆ¶å°åº”ç”¨ç¨‹åºï¼Œå®‰è£…äº†ä»¥ä¸‹NuGetåŒ…ï¼š</span></span></span></span></span></span></span></span></p>\n<ul class=\"list-paddingleft-1\">\n<li><span>Microsoft.Agents.AI.OpenAI</span></li>\n<li><span>Microsoft.Agents.AI.Workflows</span></li>\n<li><span>Microsoft.Extensions.AI.OpenAI</span></li>\n</ul>\n<h3><span><span>2.2 å®šä¹‰æ•°æ®ä¼ è¾“æ¨¡å‹</span></span></h3>\n<p><span><span>é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸‹åœ¨è¿™ä¸ªå·¥ä½œæµä¸­éœ€è¦ç”Ÿæˆä¼ é€’çš„æ•°æ®æ¨¡å‹ï¼š</span></span></p>\n<p><span><span>ï¼ˆ1ï¼‰QualityReportDto ï¼šè´¨æ£€ç»“æœè¾“å‡ºæ¨¡å‹DTO</span></span></p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> è´¨æ£€ç»“æœçš„ç»“æ„åŒ–è¾“å‡ºæ¨¡å‹</span>\n<span style=\"color: rgba(0, 0, 255, 1);\">internal</span> <span style=\"color: rgba(0, 0, 255, 1);\">class</span><span style=\"color: rgba(0, 0, 0, 1);\"> QualityReportDto\n{\n    [JsonPropertyName(</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">politenessScore</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">)]\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">int</span> PolitenessScore { <span style=\"color: rgba(0, 0, 255, 1);\">get</span>; <span style=\"color: rgba(0, 0, 255, 1);\">set</span><span style=\"color: rgba(0, 0, 0, 1);\">; }\n    [JsonPropertyName(</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">accuracyScore</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">)]\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">int</span> AccuracyScore { <span style=\"color: rgba(0, 0, 255, 1);\">get</span>; <span style=\"color: rgba(0, 0, 255, 1);\">set</span><span style=\"color: rgba(0, 0, 0, 1);\">; }\n    [JsonPropertyName(</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">compliancePassed</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">)]\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">bool</span> CompliancePassed { <span style=\"color: rgba(0, 0, 255, 1);\">get</span>; <span style=\"color: rgba(0, 0, 255, 1);\">set</span><span style=\"color: rgba(0, 0, 0, 1);\">; }\n    [JsonPropertyName(</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">issues</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">)]\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> List&lt;QualityIssueDto&gt; Issues { <span style=\"color: rgba(0, 0, 255, 1);\">get</span>; <span style=\"color: rgba(0, 0, 255, 1);\">set</span>; } = <span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\">();\n}\n</span><span style=\"color: rgba(0, 0, 255, 1);\">internal</span> <span style=\"color: rgba(0, 0, 255, 1);\">class</span><span style=\"color: rgba(0, 0, 0, 1);\"> QualityIssueDto\n{\n    [JsonPropertyName(</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">type</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">)]\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">string</span> Type { <span style=\"color: rgba(0, 0, 255, 1);\">get</span>; <span style=\"color: rgba(0, 0, 255, 1);\">set</span>; } = <span style=\"color: rgba(0, 0, 255, 1);\">string</span><span style=\"color: rgba(0, 0, 0, 1);\">.Empty;\n    [JsonPropertyName(</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">description</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">)]\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">string</span> Description { <span style=\"color: rgba(0, 0, 255, 1);\">get</span>; <span style=\"color: rgba(0, 0, 255, 1);\">set</span>; } = <span style=\"color: rgba(0, 0, 255, 1);\">string</span><span style=\"color: rgba(0, 0, 0, 1);\">.Empty;\n    [JsonPropertyName(</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">scoreImpact</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">)]\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">int</span> ScoreImpact { <span style=\"color: rgba(0, 0, 255, 1);\">get</span>; <span style=\"color: rgba(0, 0, 255, 1);\">set</span><span style=\"color: rgba(0, 0, 0, 1);\">; }\n}</span></pre>\n</div>\n<p><span><span>ï¼ˆ2ï¼‰ä¸€äº›å€¼å¯¹è±¡ï¼Œä¸èµ˜è¿°äº†</span></span></p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">internal</span><span style=\"color: rgba(0, 0, 0, 1);\"> record ReplyDraft(\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">string</span><span style=\"color: rgba(0, 0, 0, 1);\"> TicketId, \n    </span><span style=\"color: rgba(0, 0, 255, 1);\">string</span><span style=\"color: rgba(0, 0, 0, 1);\"> Content, \n    </span><span style=\"color: rgba(0, 0, 255, 1);\">int</span><span style=\"color: rgba(0, 0, 0, 1);\"> Attempt);\n</span><span style=\"color: rgba(0, 0, 255, 1);\">internal</span><span style=\"color: rgba(0, 0, 0, 1);\"> record TicketRequest(\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">string</span><span style=\"color: rgba(0, 0, 0, 1);\"> Id, \n    </span><span style=\"color: rgba(0, 0, 255, 1);\">string</span><span style=\"color: rgba(0, 0, 0, 1);\"> Query, \n    </span><span style=\"color: rgba(0, 0, 255, 1);\">string</span><span style=\"color: rgba(0, 0, 0, 1);\"> Category, \n    </span><span style=\"color: rgba(0, 0, 255, 1);\">string</span><span style=\"color: rgba(0, 0, 0, 1);\"> Priority);\n</span><span style=\"color: rgba(0, 0, 255, 1);\">internal</span><span style=\"color: rgba(0, 0, 0, 1);\"> record TicketOutcome(\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">string</span><span style=\"color: rgba(0, 0, 0, 1);\"> TicketId, \n    </span><span style=\"color: rgba(0, 0, 255, 1);\">string</span><span style=\"color: rgba(0, 0, 0, 1);\"> Status, \n    </span><span style=\"color: rgba(0, 0, 255, 1);\">int</span><span style=\"color: rgba(0, 0, 0, 1);\"> Attempts, \n    QualityReport FinalReport);\n</span><span style=\"color: rgba(0, 0, 255, 1);\">internal</span> <span style=\"color: rgba(0, 0, 255, 1);\">sealed</span><span style=\"color: rgba(0, 0, 0, 1);\"> record QualityScoreTimelineItem(\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">int</span><span style=\"color: rgba(0, 0, 0, 1);\"> Attempt,\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">int</span><span style=\"color: rgba(0, 0, 0, 1);\"> PolitenessScore,\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">int</span><span style=\"color: rgba(0, 0, 0, 1);\"> AccuracyScore,\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">string</span><span style=\"color: rgba(0, 0, 0, 1);\"> ComplianceStatus);\n</span><span style=\"color: rgba(0, 0, 255, 1);\">internal</span><span style=\"color: rgba(0, 0, 0, 1);\"> record QualityIssue(\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">string</span><span style=\"color: rgba(0, 0, 0, 1);\"> Type, \n    </span><span style=\"color: rgba(0, 0, 255, 1);\">string</span><span style=\"color: rgba(0, 0, 0, 1);\"> Description, \n    </span><span style=\"color: rgba(0, 0, 255, 1);\">int</span><span style=\"color: rgba(0, 0, 0, 1);\"> ScoreImpact);\n</span><span style=\"color: rgba(0, 0, 255, 1);\">internal</span><span style=\"color: rgba(0, 0, 0, 1);\"> record QualityReport(\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">string</span><span style=\"color: rgba(0, 0, 0, 1);\"> TicketId, \n    </span><span style=\"color: rgba(0, 0, 255, 1);\">int</span><span style=\"color: rgba(0, 0, 0, 1);\"> PolitenessScore, \n    </span><span style=\"color: rgba(0, 0, 255, 1);\">int</span><span style=\"color: rgba(0, 0, 0, 1);\"> AccuracyScore, \n    </span><span style=\"color: rgba(0, 0, 255, 1);\">bool</span><span style=\"color: rgba(0, 0, 0, 1);\"> CompliancePassed, \n    IReadOnlyList</span>&lt;QualityIssue&gt; Issues);</pre>\n</div>\n<p><span><span>ï¼ˆ3ï¼‰ä¸€äº›å¸¸é‡ï¼šç”¨äºå®šä¹‰ä¸€äº›é˜ˆå€¼æ ‡å‡†</span></span></p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">static</span> <span style=\"color: rgba(0, 0, 255, 1);\">class</span><span style=\"color: rgba(0, 0, 0, 1);\"> QualityCheckConstants\n{\n    </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> è´¨æ£€æ ‡å‡†ï¼šç¤¼è²Œåº¦ â‰¥ 85ï¼Œå‡†ç¡®æ€§ â‰¥ 90ï¼Œåˆè§„æ€§å¿…é¡» 100%\n    </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ³¨æ„ï¼šé˜ˆå€¼è®¾ç½®è¾ƒé«˜ï¼Œé…åˆç¬¬ä¸€æ¬¡ç”Ÿæˆç®€åŒ–ç‰ˆæœ¬ï¼Œç¡®ä¿èƒ½ä½“ç°å¾ªç¯æ”¹è¿›è¿‡ç¨‹</span>\n    <span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">const</span> <span style=\"color: rgba(0, 0, 255, 1);\">int</span> PolitenessThreshold = <span style=\"color: rgba(128, 0, 128, 1);\">85</span><span style=\"color: rgba(0, 0, 0, 1);\">;\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">const</span> <span style=\"color: rgba(0, 0, 255, 1);\">int</span> AccuracyThreshold = <span style=\"color: rgba(128, 0, 128, 1);\">90</span><span style=\"color: rgba(0, 0, 0, 1);\">;\n}\n\n</span><span style=\"color: rgba(0, 0, 255, 1);\">internal</span> <span style=\"color: rgba(0, 0, 255, 1);\">enum</span><span style=\"color: rgba(0, 0, 0, 1);\"> QualityCheckSignal\n{\n    Init,\n    Revise\n}</span></pre>\n</div>\n<h3><span><span>2.3 å®šä¹‰è‡ªå®šä¹‰å·¥ä½œæµäº‹ä»¶</span></span></h3>\n<p><span><span>å…¶æ¬¡ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸‹åœ¨è¿™ä¸ªå·¥ä½œæµä¸­éœ€è¦äº§ç”Ÿçš„è‡ªå®šä¹‰äº‹ä»¶ï¼š</span></span></p>\n<p>ï¼ˆ1ï¼‰AdaptiveQualityScoreEvent ï¼šè´¨æ£€è¯„åˆ†å·²å®Œæˆäº‹ä»¶</p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">internal</span> <span style=\"color: rgba(0, 0, 255, 1);\">sealed</span> <span style=\"color: rgba(0, 0, 255, 1);\">class</span><span style=\"color: rgba(0, 0, 0, 1);\"> AdaptiveQualityScoreEvent : WorkflowEvent\n{\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> AdaptiveQualityScoreEvent(<span style=\"color: rgba(0, 0, 255, 1);\">string</span><span style=\"color: rgba(0, 0, 0, 1);\"> ticketId, \n        </span><span style=\"color: rgba(0, 0, 255, 1);\">int</span><span style=\"color: rgba(0, 0, 0, 1);\"> attempt, \n        </span><span style=\"color: rgba(0, 0, 255, 1);\">int</span><span style=\"color: rgba(0, 0, 0, 1);\"> politenessScore, \n        </span><span style=\"color: rgba(0, 0, 255, 1);\">int</span><span style=\"color: rgba(0, 0, 0, 1);\"> accuracyScore, \n        </span><span style=\"color: rgba(0, 0, 255, 1);\">bool</span><span style=\"color: rgba(0, 0, 0, 1);\"> compliancePassed)\n        : </span><span style=\"color: rgba(0, 0, 255, 1);\">base</span>(<span style=\"color: rgba(0, 0, 255, 1);\">new</span> { TicketId = ticketId, Attempt = attempt, PolitenessScore = politenessScore, AccuracyScore = accuracyScore, CompliancePassed =<span style=\"color: rgba(0, 0, 0, 1);\"> compliancePassed })\n    {\n    }\n}</span></pre>\n</div>\n<p><span>ï¼ˆ2ï¼‰AdaptiveMaxAttemptsReachedEvent ï¼šè´¨æ£€è¶…è¿‡æœ€å¤§æ¬¡æ•°äº‹ä»¶</span></p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">internal</span> <span style=\"color: rgba(0, 0, 255, 1);\">sealed</span> <span style=\"color: rgba(0, 0, 255, 1);\">class</span><span style=\"color: rgba(0, 0, 0, 1);\"> AdaptiveMaxAttemptsReachedEvent : WorkflowEvent\n{\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> AdaptiveMaxAttemptsReachedEvent(<span style=\"color: rgba(0, 0, 255, 1);\">string</span> ticketId, <span style=\"color: rgba(0, 0, 255, 1);\">int</span><span style=\"color: rgba(0, 0, 0, 1);\"> maxAttempts)\n        : </span><span style=\"color: rgba(0, 0, 255, 1);\">base</span>(<span style=\"color: rgba(0, 0, 255, 1);\">new</span> { TicketId = ticketId, MaxAttempts =<span style=\"color: rgba(0, 0, 0, 1);\"> maxAttempts })\n    {\n    }\n}</span></pre>\n</div>\n<h3><span><span>2.4 å®šä¹‰Agents</span></span></h3>\n<p><span>ï¼ˆ1ï¼‰<strong>å›å¤ç”Ÿæˆ</strong>ï¼šæ¨¡</span>è¿™é‡Œé€šè¿‡æ‰§è¡Œå™¨çš„æ–¹å¼åŒ…è£¹ä¸€ä¸ªå›å¤ç”Ÿæˆçš„Agentï¼Œå‡è®¾å…¶ç”¨äºå®¢æœå·¥å•çš„è‡ªåŠ¨å›å¤ï¼š</p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">internal</span> <span style=\"color: rgba(0, 0, 255, 1);\">sealed</span> <span style=\"color: rgba(0, 0, 255, 1);\">class</span> AdaptiveReplyDraftExecutor : Executor&lt;QualityCheckSignal&gt;<span style=\"color: rgba(0, 0, 0, 1);\">\n{\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">private</span> <span style=\"color: rgba(0, 0, 255, 1);\">readonly</span><span style=\"color: rgba(0, 0, 0, 1);\"> TicketRequest _ticket;\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">private</span> <span style=\"color: rgba(0, 0, 255, 1);\">readonly</span><span style=\"color: rgba(0, 0, 0, 1);\"> IChatClient _chatClient;\n\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> AdaptiveReplyDraftExecutor(TicketRequest ticket, IChatClient chatClient) : <span style=\"color: rgba(0, 0, 255, 1);\">base</span>(<span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">AdaptiveReplyDraft</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">)\n    {\n        _ticket </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> ticket;\n        _chatClient </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> chatClient;\n    }\n\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">override</span> <span style=\"color: rgba(0, 0, 255, 1);\">async</span> ValueTask HandleAsync(QualityCheckSignal message, IWorkflowContext context, CancellationToken cancellationToken = <span style=\"color: rgba(0, 0, 255, 1);\">default</span><span style=\"color: rgba(0, 0, 0, 1);\">)\n    {\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">int</span> attempt = <span style=\"color: rgba(0, 0, 255, 1);\">await</span> context.ReadOrInitStateAsync(<span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">attempt</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span>, () =&gt; <span style=\"color: rgba(128, 0, 128, 1);\">0</span><span style=\"color: rgba(0, 0, 0, 1);\">, cancellationToken);\n        attempt</span>++<span style=\"color: rgba(0, 0, 0, 1);\">;\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">await</span> context.QueueStateUpdateAsync(<span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">attempt</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">, attempt, cancellationToken);\n\n        </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> ä½¿ç”¨ AI ç”Ÿæˆå®¢æœå›å¤ï¼ˆæ¸è¿›å¼ç”Ÿæˆç­–ç•¥ï¼‰</span>\n        <span style=\"color: rgba(0, 0, 255, 1);\">var</span> prompt = attempt == <span style=\"color: rgba(128, 0, 128, 1);\">1</span>\n            ? $<span style=\"color: rgba(128, 0, 0, 1);\">\"\"\"\n</span><span style=\"color: rgba(0, 0, 0, 1);\">            ä½ æ˜¯ä¸€ä½ç”µå•†å®¢æœã€‚è¯·é’ˆå¯¹ä»¥ä¸‹å®¢æˆ·é—®é¢˜ç”Ÿæˆä¸€æ¡ç®€çŸ­å›å¤ï¼ˆåˆ»æ„ä¿æŒç®€çŸ­ã€ç¼ºå°‘ç¤¼è²Œç”¨è¯­ï¼‰ï¼š\n\n            å®¢æˆ·é—®é¢˜ï¼š{_ticket.Query}\n            äº§å“ç±»åˆ«ï¼š{_ticket.Category}\n\n            è¦æ±‚ï¼š\n            </span><span style=\"color: rgba(128, 0, 128, 1);\">1</span>. åªç”¨1-<span style=\"color: rgba(0, 0, 0, 1);\">2å¥è¯å›ç­”ï¼Œä¸è¦ç§°å‘¼è¯­å’Œæ„Ÿè°¢è¯­\n            </span><span style=\"color: rgba(128, 0, 128, 1);\">2</span><span style=\"color: rgba(0, 0, 0, 1);\">. åªè¯´ç»“è®ºï¼Œä¸æä¾›å…·ä½“å¤„ç†æ—¶é—´\n            </span><span style=\"color: rgba(128, 0, 128, 1);\">3</span><span style=\"color: rgba(0, 0, 0, 1);\">. å­—æ•°æ§åˆ¶åœ¨30å­—ä»¥å†…\n\n            ç›´æ¥è¿”å›å›å¤å†…å®¹ï¼Œä¸è¦æ·»åŠ ä»»ä½•å‰ç¼€æˆ–è¯´æ˜ã€‚\n            </span><span style=\"color: rgba(128, 0, 0, 1);\">\"\"\"\n</span>            : $<span style=\"color: rgba(128, 0, 0, 1);\">\"\"\"\n</span><span style=\"color: rgba(0, 0, 0, 1);\">            ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„ç”µå•†å®¢æœã€‚è¯·é’ˆå¯¹ä»¥ä¸‹å®¢æˆ·é—®é¢˜ç”Ÿæˆä¸€æ¡æ”¹è¿›åçš„å›å¤ï¼š\n\n            å®¢æˆ·é—®é¢˜ï¼š{_ticket.Query}\n            äº§å“ç±»åˆ«ï¼š{_ticket.Category}\n            ä¼˜å…ˆçº§ï¼š{_ticket.Priority}\n\n            è¦æ±‚ï¼š\n            </span><span style=\"color: rgba(128, 0, 128, 1);\">1</span><span style=\"color: rgba(0, 0, 0, 1);\">. è¯­æ°”äº²å’Œã€ä¸“ä¸šï¼Œä½¿ç”¨æ°å½“çš„ç§°å‘¼å’Œæ„Ÿè°¢è¯­\n            </span><span style=\"color: rgba(128, 0, 128, 1);\">2</span><span style=\"color: rgba(0, 0, 0, 1);\">. æä¾›å…·ä½“çš„è§£å†³æ–¹æ¡ˆæˆ–å¤„ç†æ—¶é—´\n            </span><span style=\"color: rgba(128, 0, 128, 1);\">3</span><span style=\"color: rgba(0, 0, 0, 1);\">. ç¬¦åˆå®¢æœè§„èŒƒï¼Œä¸åŒ…å«æ•æ„Ÿè¯\n            </span><span style=\"color: rgba(128, 0, 128, 1);\">4</span>. å­—æ•°æ§åˆ¶åœ¨80-<span style=\"color: rgba(0, 0, 0, 1);\">100å­—\n\n            ç›´æ¥è¿”å›å›å¤å†…å®¹ï¼Œä¸è¦æ·»åŠ ä»»ä½•å‰ç¼€æˆ–è¯´æ˜ã€‚\n            </span><span style=\"color: rgba(128, 0, 0, 1);\">\"\"\"</span><span style=\"color: rgba(128, 0, 0, 1);\">;</span>\n\n        <span style=\"color: rgba(0, 0, 255, 1);\">var</span> response = <span style=\"color: rgba(0, 0, 255, 1);\">await</span><span style=\"color: rgba(0, 0, 0, 1);\"> _chatClient.GetResponseAsync(prompt, cancellationToken: cancellationToken);\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">var</span> content = response.Text ?? <span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">æŠ±æ­‰ï¼Œæˆ‘ä»¬ä¼šå°½å¿«å¤„ç†æ‚¨çš„é—®é¢˜ã€‚</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">;\n\n        Console.WriteLine($</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">âœï¸ ç¬¬ {attempt} æ¬¡ç”Ÿæˆå›å¤è‰ç¨¿ (ç­–ç•¥: {(attempt == 1 ? </span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span>ç®€åŒ–ç‰ˆ<span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\"> : </span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span>å®Œæ•´ç‰ˆ<span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">)})</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n        Console.WriteLine($</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">ğŸ“ å›å¤å†…å®¹ï¼š{content}</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">var</span> draft = <span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> ReplyDraft(_ticket.Id, content, attempt);\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">await</span> context.SendMessageAsync(draft, targetId: <span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">AdaptiveQualityCheck</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">, cancellationToken);\n    }\n}</span></pre>\n</div>\n<p><span>ï¼ˆ2ï¼‰</span><strong><span><span><span>å†…å®¹è´¨æ£€</span></span></span></strong><span>ï¼šæ¨¡æ‹Ÿç”Ÿæˆå†…å®¹çš„è´¨æ£€è¿‡ç¨‹ï¼Œé€šè¿‡AIå¤§æ¨¡å‹å¯¹å†…å®¹è¿›è¡Œå¤šç»´åº¦çš„è´¨æ£€è¯„åˆ†ï¼Œåªæœ‰é€šè¿‡æ ‡å‡†æ‰ç®—ç»“æŸå¾ªç¯ï¼Œå¦åˆ™ç»§ç»­åé¦ˆç»™ä¸Šä¸€ä¸ªAgentè¿›è¡Œæ”¹è¿›ã€‚</span></p>\n<p><span>NOTEï¼šåªæœ‰è´¨æ£€Agentæ‰èƒ½å†³å®šæ˜¯å¦ç»“æŸå·¥ä½œæµï¼</span></p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">internal</span> <span style=\"color: rgba(0, 0, 255, 1);\">sealed</span> <span style=\"color: rgba(0, 0, 255, 1);\">class</span> AdaptiveQualityCheckExecutor : Executor&lt;ReplyDraft&gt;<span style=\"color: rgba(0, 0, 0, 1);\">\n{\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">private</span> <span style=\"color: rgba(0, 0, 255, 1);\">readonly</span> <span style=\"color: rgba(0, 0, 255, 1);\">int</span><span style=\"color: rgba(0, 0, 0, 1);\"> _politenessThreshold;\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">private</span> <span style=\"color: rgba(0, 0, 255, 1);\">readonly</span> <span style=\"color: rgba(0, 0, 255, 1);\">int</span><span style=\"color: rgba(0, 0, 0, 1);\"> _accuracyThreshold;\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">private</span> <span style=\"color: rgba(0, 0, 255, 1);\">readonly</span> <span style=\"color: rgba(0, 0, 255, 1);\">int</span><span style=\"color: rgba(0, 0, 0, 1);\"> _maxAttempts;\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">private</span> <span style=\"color: rgba(0, 0, 255, 1);\">readonly</span><span style=\"color: rgba(0, 0, 0, 1);\"> IChatClient _chatClient;\n\n    </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> é»˜è®¤æœ€å¤§å°è¯•æ¬¡æ•°ä¸º5æ¬¡</span>\n    <span style=\"color: rgba(0, 0, 255, 1);\">public</span> AdaptiveQualityCheckExecutor(<span style=\"color: rgba(0, 0, 255, 1);\">int</span> politenessThreshold, <span style=\"color: rgba(0, 0, 255, 1);\">int</span><span style=\"color: rgba(0, 0, 0, 1);\"> accuracyThreshold, IChatClient chatClient)\n        : </span><span style=\"color: rgba(0, 0, 255, 1);\">this</span>(politenessThreshold, accuracyThreshold, <span style=\"color: rgba(128, 0, 128, 1);\">5</span><span style=\"color: rgba(0, 0, 0, 1);\">, chatClient)\n    {\n    }\n\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> AdaptiveQualityCheckExecutor(<span style=\"color: rgba(0, 0, 255, 1);\">int</span> politenessThreshold, <span style=\"color: rgba(0, 0, 255, 1);\">int</span> accuracyThreshold, <span style=\"color: rgba(0, 0, 255, 1);\">int</span><span style=\"color: rgba(0, 0, 0, 1);\"> maxAttempts, IChatClient chatClient)\n        : </span><span style=\"color: rgba(0, 0, 255, 1);\">base</span>(<span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">AdaptiveQualityCheck</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">)\n    {\n        _politenessThreshold </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> politenessThreshold;\n        _accuracyThreshold </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> accuracyThreshold;\n        _maxAttempts </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> maxAttempts;\n        _chatClient </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> chatClient;\n    }\n\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">override</span> <span style=\"color: rgba(0, 0, 255, 1);\">async</span> ValueTask HandleAsync(ReplyDraft draft, IWorkflowContext context, CancellationToken cancellationToken = <span style=\"color: rgba(0, 0, 255, 1);\">default</span><span style=\"color: rgba(0, 0, 0, 1);\">)\n    {\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">int</span> attempt = <span style=\"color: rgba(0, 0, 255, 1);\">await</span> context.ReadOrInitStateAsync(<span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">attempt</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span>, () =&gt; <span style=\"color: rgba(128, 0, 128, 1);\">1</span><span style=\"color: rgba(0, 0, 0, 1);\">, cancellationToken);\n\n        </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> ä½¿ç”¨ AI è¿›è¡Œå¤šç»´åº¦è´¨æ£€è¯„åˆ†ï¼ˆç»“æ„åŒ–è¾“å‡ºï¼Œä¸¥æ ¼æ ‡å‡†ï¼‰</span>\n        <span style=\"color: rgba(0, 0, 255, 1);\">var</span> prompt = $<span style=\"color: rgba(128, 0, 0, 1);\">\"\"\"\n</span>        ä½ æ˜¯ä¸€ä½ä¸¥æ ¼çš„å®¢æœè´¨æ£€ä¸“å®¶ã€‚è¯·å¯¹ä»¥ä¸‹å®¢æœå›å¤è¿›è¡Œå¤šç»´åº¦è¯„åˆ†ï¼ˆ<span style=\"color: rgba(128, 0, 128, 1);\">0</span>-<span style=\"color: rgba(0, 0, 0, 1);\">100åˆ†ï¼‰ï¼š\n\n        å›å¤å†…å®¹ï¼š{draft.Content}\n\n        è¯„åˆ†ç»´åº¦å’Œä¸¥æ ¼æ ‡å‡†ï¼š\n        </span><span style=\"color: rgba(128, 0, 128, 1);\">1</span>. ç¤¼è²Œåº¦ï¼ˆ<span style=\"color: rgba(128, 0, 128, 1);\">0</span>-<span style=\"color: rgba(128, 0, 128, 1);\">100</span><span style=\"color: rgba(0, 0, 0, 1);\">ï¼‰ï¼šå¿…é¡»åŒ…å«ç§°å‘¼è¯­ï¼ˆæ‚¨ã€äº²ï¼‰ã€æ„Ÿè°¢è¯­ï¼ˆæ„Ÿè°¢ã€è°¢è°¢ï¼‰ã€ç»“æŸè¯­ï¼ˆç¥ã€æœŸå¾…ï¼‰ç­‰ï¼Œè¯­æ°”äº²å’Œæ¸©æš–\n           </span>-<span style=\"color: rgba(0, 0, 0, 1);\"> ç¼ºå°‘ä»»ä½•ä¸€é¡¹æ‰£20åˆ†\n           </span>- è¯­æ°”ç”Ÿç¡¬ã€æœºæ¢°æ‰£10-<span style=\"color: rgba(0, 0, 0, 1);\">30åˆ†\n\n        </span><span style=\"color: rgba(128, 0, 128, 1);\">2</span>. å‡†ç¡®æ€§ï¼ˆ<span style=\"color: rgba(128, 0, 128, 1);\">0</span>-<span style=\"color: rgba(128, 0, 128, 1);\">100</span><span style=\"color: rgba(0, 0, 0, 1);\">ï¼‰ï¼šå¿…é¡»æä¾›å…·ä½“çš„è§£å†³æ–¹æ¡ˆã€æ˜ç¡®çš„å¤„ç†æ—¶é—´æˆ–æœ‰æ•ˆçš„åç»­æ­¥éª¤\n           </span>- åªè¯´<span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">ä¼šå¤„ç†</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">ä½†æ— å…·ä½“æ–¹æ¡ˆæ‰£30åˆ†\n           </span>-<span style=\"color: rgba(0, 0, 0, 1);\"> æ— æ˜ç¡®æ—¶é—´æ‰¿è¯ºæ‰£20åˆ†\n           </span>- ä¿¡æ¯è¿‡äºç¬¼ç»Ÿæ‰£10-<span style=\"color: rgba(0, 0, 0, 1);\">20åˆ†\n\n        </span><span style=\"color: rgba(128, 0, 128, 1);\">3</span>. åˆè§„æ€§ï¼ˆé€šè¿‡/<span style=\"color: rgba(0, 0, 0, 1);\">ä¸é€šè¿‡ï¼‰ï¼šä¸å¾—åŒ…å«æ•æ„Ÿè¯ã€ä¸å½“è¡¨è¿°ã€æ¨è¯¿è´£ä»»çš„è¯è¯­\n           </span>- å‘ç°ä»»ä½•æ•æ„Ÿè¯æˆ–ä¸å½“è¡¨è¿°ç›´æ¥åˆ¤å®šä¸º<span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">ä¸é€šè¿‡</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">\n\n        è¯·å¯¹æ¯ä¸ªç»´åº¦è¿›è¡Œä¸¥æ ¼è¯„åˆ†ï¼Œå¹¶åœ¨issueså­—æ®µä¸­åˆ—å‡ºæ‰€æœ‰å‘ç°çš„é—®é¢˜ã€‚\n        </span><span style=\"color: rgba(128, 0, 0, 1);\">\"\"\"</span><span style=\"color: rgba(128, 0, 0, 1);\">;</span>\n\n        <span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> â­ ä½¿ç”¨ç»“æ„åŒ–è¾“å‡ºï¼šGetResponseAsync&lt;T&gt; è‡ªåŠ¨ç”Ÿæˆ JSON Schema å¹¶ååºåˆ—åŒ–</span>\n        <span style=\"color: rgba(0, 0, 255, 1);\">var</span> response = <span style=\"color: rgba(0, 0, 255, 1);\">await</span> _chatClient.GetResponseAsync&lt;QualityReportDto&gt;<span style=\"color: rgba(0, 0, 0, 1);\">(prompt, cancellationToken: cancellationToken);\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">var</span> reportDto =<span style=\"color: rgba(0, 0, 0, 1);\"> response.Result;\n\n        </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> è½¬æ¢ä¸ºä¸šåŠ¡æ¨¡å‹</span>\n        <span style=\"color: rgba(0, 0, 255, 1);\">var</span> issues = reportDto.Issues.Select(i =&gt; <span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> QualityIssue(i.Type, i.Description, i.ScoreImpact)).ToList();\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">var</span> report = <span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> QualityReport(draft.TicketId, reportDto.PolitenessScore, reportDto.AccuracyScore, reportDto.CompliancePassed, issues);\n\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">await</span> context.AddEventAsync(<span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> AdaptiveQualityScoreEvent(draft.TicketId, attempt, reportDto.PolitenessScore, reportDto.AccuracyScore, reportDto.CompliancePassed), cancellationToken);\n\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">if</span> (reportDto.PolitenessScore &gt;=<span style=\"color: rgba(0, 0, 0, 1);\"> _politenessThreshold \n            </span>&amp;&amp; reportDto.AccuracyScore &gt;=<span style=\"color: rgba(0, 0, 0, 1);\"> _accuracyThreshold \n            </span>&amp;&amp;<span style=\"color: rgba(0, 0, 0, 1);\"> reportDto.CompliancePassed)\n        {\n            </span><span style=\"color: rgba(0, 0, 255, 1);\">await</span> context.YieldOutputAsync(<span style=\"color: rgba(0, 0, 255, 1);\">new</span> TicketOutcome(draft.TicketId, <span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">Approved</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">, attempt, report), cancellationToken);\n        }\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">else</span> <span style=\"color: rgba(0, 0, 255, 1);\">if</span> (attempt &gt;=<span style=\"color: rgba(0, 0, 0, 1);\"> _maxAttempts)\n        {\n            </span><span style=\"color: rgba(0, 0, 255, 1);\">await</span> context.AddEventAsync(<span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> AdaptiveMaxAttemptsReachedEvent(draft.TicketId, _maxAttempts), cancellationToken);\n            </span><span style=\"color: rgba(0, 0, 255, 1);\">await</span> context.RequestHaltAsync();<span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\">è´¨æ£€å¤±è´¥ï¼šå·²è¾¾åˆ°æœ€å¤§å°è¯•æ¬¡æ•°</span>\n<span style=\"color: rgba(0, 0, 0, 1);\">        }\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">else</span><span style=\"color: rgba(0, 0, 0, 1);\">\n        {\n            </span><span style=\"color: rgba(0, 0, 255, 1);\">await</span> context.QueueStateUpdateAsync(<span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">attempt</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span>, attempt + <span style=\"color: rgba(128, 0, 128, 1);\">1</span><span style=\"color: rgba(0, 0, 0, 1);\">, cancellationToken);\n\n            </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> å‘é€è´¨æ£€æŠ¥å‘Šåˆ°æ”¹è¿›ç¯èŠ‚</span>\n            <span style=\"color: rgba(0, 0, 255, 1);\">await</span> context.SendMessageAsync(report, targetId: <span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">IntelligentImprove</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">, cancellationToken);\n        }\n    }\n}</span></pre>\n</div>\n<p><span>ï¼ˆ3ï¼‰</span><strong><strong><span><span><span>å†…å®¹æ”¹è¿›</span></span></span></strong></strong><span>ï¼šæ¨¡æ‹Ÿæ”¶åˆ°è´¨æ£€çš„è¯„åˆ†åé¦ˆåå¯¹å†…å®¹è¿›è¡Œæ”¹è¿›ã€‚</span></p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">internal</span> <span style=\"color: rgba(0, 0, 255, 1);\">sealed</span> <span style=\"color: rgba(0, 0, 255, 1);\">class</span> IntelligentImproveExecutor : Executor&lt;QualityReport&gt;<span style=\"color: rgba(0, 0, 0, 1);\">\n{\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">private</span> <span style=\"color: rgba(0, 0, 255, 1);\">readonly</span><span style=\"color: rgba(0, 0, 0, 1);\"> TicketRequest _ticket;\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">private</span> <span style=\"color: rgba(0, 0, 255, 1);\">readonly</span><span style=\"color: rgba(0, 0, 0, 1);\"> IChatClient _chatClient;\n\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> IntelligentImproveExecutor(TicketRequest ticket, IChatClient chatClient) : <span style=\"color: rgba(0, 0, 255, 1);\">base</span>(<span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">IntelligentImprove</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">)\n    {\n        _ticket </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> ticket;\n        _chatClient </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> chatClient;\n    }\n\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">public</span> <span style=\"color: rgba(0, 0, 255, 1);\">override</span> <span style=\"color: rgba(0, 0, 255, 1);\">async</span> ValueTask HandleAsync(QualityReport report, IWorkflowContext context, CancellationToken cancellationToken = <span style=\"color: rgba(0, 0, 255, 1);\">default</span><span style=\"color: rgba(0, 0, 0, 1);\">)\n    {\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">int</span> attempt = <span style=\"color: rgba(0, 0, 255, 1);\">await</span> context.ReadOrInitStateAsync(<span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">attempt</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span>, () =&gt; <span style=\"color: rgba(128, 0, 128, 1);\">1</span><span style=\"color: rgba(0, 0, 0, 1);\">, cancellationToken);\n\n        </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> æ„å»ºæ”¹è¿›æç¤ºè¯ï¼ŒåŸºäºè´¨æ£€åé¦ˆ</span>\n        <span style=\"color: rgba(0, 0, 255, 1);\">var</span> issuesSummary = <span style=\"color: rgba(0, 0, 255, 1);\">string</span>.Join(<span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">\\n</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span>, report.Issues.Select(i =&gt; $<span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">- {i.Type}: {i.Description}</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">));\n\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">var</span> prompt = $<span style=\"color: rgba(128, 0, 0, 1);\">\"\"\"\n</span><span style=\"color: rgba(0, 0, 0, 1);\">        ä½ æ˜¯ä¸€ä½å®¢æœä¼˜åŒ–ä¸“å®¶ã€‚è¯·æ ¹æ®ä»¥ä¸‹è´¨æ£€åé¦ˆï¼Œæ”¹è¿›å®¢æœå›å¤å†…å®¹ï¼š\n\n        åŸå§‹é—®é¢˜ï¼š{_ticket.Query}\n        äº§å“ç±»åˆ«ï¼š{_ticket.Category}\n        ä¼˜å…ˆçº§ï¼š{_ticket.Priority}\n\n        å½“å‰è¯„åˆ†ï¼š\n        </span>- ç¤¼è²Œåº¦ï¼š{report.PolitenessScore}/<span style=\"color: rgba(128, 0, 128, 1);\">100</span><span style=\"color: rgba(0, 0, 0, 1);\"> (è¦æ±‚â‰¥{QualityCheckConstants.PolitenessThreshold})\n        </span>- å‡†ç¡®æ€§ï¼š{report.AccuracyScore}/<span style=\"color: rgba(128, 0, 128, 1);\">100</span><span style=\"color: rgba(0, 0, 0, 1);\"> (è¦æ±‚â‰¥{QualityCheckConstants.AccuracyThreshold})\n        </span>- åˆè§„æ€§ï¼š{(report.CompliancePassed ? <span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">é€šè¿‡</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span> : <span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">ä¸é€šè¿‡</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">)}\n\n        å‘ç°çš„é—®é¢˜ï¼š\n        {issuesSummary}\n\n        è¯·ç”Ÿæˆä¸€æ¡æ”¹è¿›åçš„å®¢æœå›å¤ï¼Œé’ˆå¯¹æ€§è§£å†³ä¸Šè¿°é—®é¢˜ï¼š\n        </span><span style=\"color: rgba(128, 0, 128, 1);\">1</span><span style=\"color: rgba(0, 0, 0, 1);\">. å¦‚æœç¤¼è²Œåº¦ä¸è¶³ï¼Œå¢åŠ ç§°å‘¼è¯­ã€æ„Ÿè°¢è¯­ï¼Œä½¿ç”¨æ›´äº²å’Œçš„è¡¨è¿°\n        </span><span style=\"color: rgba(128, 0, 128, 1);\">2</span><span style=\"color: rgba(0, 0, 0, 1);\">. å¦‚æœå‡†ç¡®æ€§ä¸è¶³ï¼Œè¡¥å……å…·ä½“çš„è§£å†³æ–¹æ¡ˆã€å¤„ç†æ—¶é—´ã€åç»­æ­¥éª¤\n        </span><span style=\"color: rgba(128, 0, 128, 1);\">3</span><span style=\"color: rgba(0, 0, 0, 1);\">. å¦‚æœåˆè§„æ€§ä¸é€šè¿‡ï¼Œç§»é™¤æ•æ„Ÿè¯ï¼Œè§„èŒƒè¡¨è¿°\n        </span><span style=\"color: rgba(128, 0, 128, 1);\">4</span>. å­—æ•°æ§åˆ¶åœ¨80-<span style=\"color: rgba(0, 0, 0, 1);\">100å­—\n\n        ç›´æ¥è¿”å›æ”¹è¿›åçš„å›å¤å†…å®¹ï¼Œä¸è¦æ·»åŠ ä»»ä½•å‰ç¼€æˆ–è¯´æ˜ã€‚\n        </span><span style=\"color: rgba(128, 0, 0, 1);\">\"\"\"</span><span style=\"color: rgba(128, 0, 0, 1);\">;</span>\n\n        <span style=\"color: rgba(0, 0, 255, 1);\">var</span> response = <span style=\"color: rgba(0, 0, 255, 1);\">await</span><span style=\"color: rgba(0, 0, 0, 1);\"> _chatClient.GetResponseAsync(prompt, cancellationToken: cancellationToken);\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">var</span> improvedContent = response.Text ?? <span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">æŠ±æ­‰ï¼Œæˆ‘ä»¬ä¼šå°½å¿«å¤„ç†æ‚¨çš„é—®é¢˜ã€‚</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">;\n\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">await</span> context.AddEventAsync(<span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> LoopProgressEvent(_ticket.Id, attempt, \n            report.PolitenessScore, report.AccuracyScore, \n            report.CompliancePassed, </span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">Improve</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">), cancellationToken);\n        Console.WriteLine($</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">ğŸ”§ ç¬¬ {attempt} æ¬¡æ™ºèƒ½æ”¹è¿›å®Œæˆ</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n        Console.WriteLine($</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">ğŸ“ æ”¹è¿›åå†…å®¹ï¼š{improvedContent}</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n\n        </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> è§¦å‘ä¸‹ä¸€æ¬¡ç”Ÿæˆï¼ˆä½¿ç”¨æ”¹è¿›åçš„å†…å®¹ä½œä¸ºä¸Šä¸‹æ–‡ï¼‰</span>\n        <span style=\"color: rgba(0, 0, 255, 1);\">await</span> context.SendMessageAsync(QualityCheckSignal.Revise, targetId: <span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">AdaptiveReplyDraft</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">, cancellationToken);\n    }\n}</span></pre>\n</div>\n<h3>2.5 æ„å»ºå·¥ä½œæµ</h3>\n<p>ç°åœ¨ä¸‡äº‹ä¿±å¤‡ï¼Œåªæ¬ ä¸€ä¸ªWorkflowï¼Œç°åœ¨Let's do it!</p>\n<p><strong>Step1: è·å–ChatClient</strong></p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">var</span> chatClient = <span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> OpenAIClient(\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> ApiKeyCredential(openAIProvider.ApiKey),\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">new</span> OpenAIClientOptions { Endpoint = <span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> Uri(openAIProvider.Endpoint) })\n    .GetChatClient(openAIProvider.ModelId)\n    .AsIChatClient();</span></pre>\n</div>\n<p><strong><span><span>Step2<span>: å®ä¾‹åŒ–è‡ªå®šä¹‰Agent &amp; Executors</span></span></span></strong></p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">var</span> ticket = <span style=\"color: rgba(0, 0, 255, 1);\">new</span> TicketRequest(<span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">TKT-2025-003</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span>, <span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">ä¼šå‘˜ç§¯åˆ†ä¸ºä»€ä¹ˆçªç„¶æ¸…é›¶äº†ï¼Ÿ</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span>, <span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">è´¦æˆ·é—®é¢˜</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span>, <span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">Low</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">)\n</span><span style=\"color: rgba(0, 0, 255, 1);\">const</span> <span style=\"color: rgba(0, 0, 255, 1);\">int</span> maxAttempts = <span style=\"color: rgba(128, 0, 128, 1);\">5</span><span style=\"color: rgba(0, 0, 0, 1);\">;\n\n</span><span style=\"color: rgba(0, 0, 255, 1);\">var</span> adaptiveDraft = <span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> AdaptiveReplyDraftExecutor(ticket, chatClient);\n</span><span style=\"color: rgba(0, 0, 255, 1);\">var</span> adaptiveQC = <span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> AdaptiveQualityCheckExecutor(QualityCheckConstants.PolitenessThreshold, QualityCheckConstants.AccuracyThreshold, chatClient);\n</span><span style=\"color: rgba(0, 0, 255, 1);\">var</span> intelligentImprove = <span style=\"color: rgba(0, 0, 255, 1);\">new</span> IntelligentImproveExecutor(ticket, chatClient);</pre>\n</div>\n<p><strong><span><span>Step3<span>: åˆ›å»ºå¾ªç¯è·¯ç”±å·¥ä½œæµ</span></span></span></strong></p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">var</span> workflow = <span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> WorkflowBuilder(adaptiveDraft)\n    .AddEdge(adaptiveDraft, adaptiveQC)\n    .AddEdge(adaptiveQC, intelligentImprove)\n    .AddEdge(intelligentImprove, adaptiveDraft)\n    .WithOutputFrom(adaptiveQC)\n    .Build();\nConsole.OutputEncoding </span>=<span style=\"color: rgba(0, 0, 0, 1);\"> Encoding.UTF8;\nConsole.WriteLine(</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">âœ… Loop Workflow æ„å»ºå®Œæˆ</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span>);</pre>\n</div>\n<h3><span><span>2.6 æµ‹è¯•å·¥ä½œæµ</span></span></h3>\n<p><span><span>é€šè¿‡Streamingæµå¼æ‰§è¡Œï¼š</span></span></p>\n<div class=\"cnblogs_code\">\n<pre><span style=\"color: rgba(0, 0, 255, 1);\">await</span> <span style=\"color: rgba(0, 0, 255, 1);\">using</span> (<span style=\"color: rgba(0, 0, 255, 1);\">var</span> run = <span style=\"color: rgba(0, 0, 255, 1);\">await</span><span style=\"color: rgba(0, 0, 0, 1);\"> InProcessExecution.StreamAsync(workflow, QualityCheckSignal.Init))\n{\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">var</span> scoreTimeline = <span style=\"color: rgba(0, 0, 255, 1);\">new</span> List&lt;<span style=\"color: rgba(0, 0, 255, 1);\">object</span>&gt;<span style=\"color: rgba(0, 0, 0, 1);\">();\n    </span><span style=\"color: rgba(0, 0, 255, 1);\">await</span> <span style=\"color: rgba(0, 0, 255, 1);\">foreach</span> (<span style=\"color: rgba(0, 0, 255, 1);\">var</span> evt <span style=\"color: rgba(0, 0, 255, 1);\">in</span><span style=\"color: rgba(0, 0, 0, 1);\"> run.WatchStreamAsync())\n    {\n        </span><span style=\"color: rgba(0, 128, 0, 1);\">//</span><span style=\"color: rgba(0, 128, 0, 1);\"> å¼ºåˆ¶ä¸­æ–­ï¼ˆæœ€å¤š5æ¬¡å°è¯•ï¼‰</span>\n        <span style=\"color: rgba(0, 0, 255, 1);\">if</span> (scoreTimeline.Count ==<span style=\"color: rgba(0, 0, 0, 1);\"> maxAttempts)\n        {\n            Console.WriteLine($</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">â›” å¼ºåˆ¶ä¸­æ–­å·¥ä½œæµæ‰§è¡Œï¼ˆå·²å®Œæˆ{maxAttempts}æ¬¡è¯„ä¼°ï¼‰</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n            </span><span style=\"color: rgba(0, 0, 255, 1);\">break</span><span style=\"color: rgba(0, 0, 0, 1);\">;\n        }\n        </span><span style=\"color: rgba(0, 0, 255, 1);\">switch</span><span style=\"color: rgba(0, 0, 0, 1);\"> (evt)\n        {\n            </span><span style=\"color: rgba(0, 0, 255, 1);\">case</span><span style=\"color: rgba(0, 0, 0, 1);\"> AdaptiveQualityScoreEvent scoreEvent:\n                </span><span style=\"color: rgba(0, 0, 255, 1);\">dynamic</span> payload = scoreEvent.Data!<span style=\"color: rgba(0, 0, 0, 1);\">;\n                scoreTimeline.Add(</span><span style=\"color: rgba(0, 0, 255, 1);\">new</span><span style=\"color: rgba(0, 0, 0, 1);\"> QualityScoreTimelineItem(\n                    Attempt: (</span><span style=\"color: rgba(0, 0, 255, 1);\">int</span><span style=\"color: rgba(0, 0, 0, 1);\">)payload.Attempt,\n                    PolitenessScore: (</span><span style=\"color: rgba(0, 0, 255, 1);\">int</span><span style=\"color: rgba(0, 0, 0, 1);\">)payload.PolitenessScore,\n                    AccuracyScore: (</span><span style=\"color: rgba(0, 0, 255, 1);\">int</span><span style=\"color: rgba(0, 0, 0, 1);\">)payload.AccuracyScore,\n                    ComplianceStatus: (</span><span style=\"color: rgba(0, 0, 255, 1);\">bool</span>)payload.CompliancePassed ? <span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">âœ…</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span> : <span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">âŒ</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">\n                ));\n                </span><span style=\"color: rgba(0, 0, 255, 1);\">var</span> statusMessage = payload.CompliancePassed ? <span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">é€šè¿‡</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span> : <span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">ä¸é€šè¿‡</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">;\n                Console.WriteLine($</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">ğŸ“Š AI è´¨æ£€ç»“æœ =&gt; ç¤¼è²Œåº¦:{payload.PolitenessScore} å‡†ç¡®æ€§:{payload.AccuracyScore} åˆè§„æ€§:{statusMessage}</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n                </span><span style=\"color: rgba(0, 0, 255, 1);\">break</span><span style=\"color: rgba(0, 0, 0, 1);\">;\n            </span><span style=\"color: rgba(0, 0, 255, 1);\">case</span><span style=\"color: rgba(0, 0, 0, 1);\"> WorkflowOutputEvent outputEvent:\n                Console.WriteLine(</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n                Console.WriteLine(</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">ğŸ‰ å·¥ä½œæµæ‰§è¡Œå®Œæˆ</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n                Console.WriteLine(</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\\n</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n                Console.WriteLine($</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">{outputEvent.Data}</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n                </span><span style=\"color: rgba(0, 0, 255, 1);\">break</span><span style=\"color: rgba(0, 0, 0, 1);\">;\n            </span><span style=\"color: rgba(0, 0, 255, 1);\">case</span><span style=\"color: rgba(0, 0, 0, 1);\"> WorkflowErrorEvent errorEvent:\n                Console.WriteLine(</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">âœ¨ æ”¶åˆ° Workflow Error Eventï¼š</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n                Console.WriteLine($</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(128, 0, 0, 1);\">{errorEvent.Data}</span><span style=\"color: rgba(128, 0, 0, 1);\">\"</span><span style=\"color: rgba(0, 0, 0, 1);\">);\n                </span><span style=\"color: rgba(0, 0, 255, 1);\">break</span><span style=\"color: rgba(0, 0, 0, 1);\">;\n        }\n    }\n}</span></pre>\n</div>\n<p><strong>æµ‹è¯•ç”¨ä¾‹1</strong></p>\n<p><span><span>å·¥å•å†…å®¹ï¼š<span style=\"text-decoration: underline;\">è®¢å•å·²ç»3å¤©æ²¡å‘è´§ï¼Œèƒ½é€€æ¬¾å—ï¼Ÿ</span></span></span></p>\n<p><span><span>æµ‹è¯•ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</span></span></p>\n<p><img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/381412/202601/381412-20260103192559594-1628756144.png\" style=\"display: block; margin-left: auto; margin-right: auto;\" /></p>\n<p><span><span>å¯ä»¥çœ‹è§ï¼Œç»è¿‡åˆæ¬¡ç”Ÿæˆå’Œå†…å®¹æ”¹è¿›ï¼Œè¯¥å†…å®¹å›å¤å·²ç»æ»¡è¶³äº†æ ‡å‡†å¯ä»¥ç›´æ¥å›å¤ç”¨æˆ·ã€‚</span></span></p>\n<p><strong>æµ‹è¯•ç”¨ä¾‹2</strong></p>\n<p><span><span>å·¥å•å†…å®¹ï¼š<span style=\"text-decoration: underline;\">ä¼šå‘˜ç§¯åˆ†ä¸ºä»€ä¹ˆçªç„¶æ¸…é›¶äº†ï¼Ÿ</span></span></span></p>\n<p><span><span>æµ‹è¯•ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</span></span></p>\n<p><img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/381412/202601/381412-20260103192630728-832060369.png\" style=\"display: block; margin-left: auto; margin-right: auto;\" /></p>\n<p><span><span><span><span>å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡å¾ªç¯å’Œè‡ªæˆ‘ä¿®æ­£æ¨¡å¼ï¼Œå·¥ä½œæµèƒ½å¤Ÿå®ç°â€œ<span><span><span>ç”Ÿæˆ<span><span>â†’å®¡æ ¸<span><span><span>â†’ä¿®å¤<span>â€çš„å·¥ä½œæ¨¡å¼ï¼Œ<strong>ç‰¹åˆ«é€‚ç”¨äºå†…å®¹ç”Ÿæˆå’Œå®¡æ‰¹çš„åœºæ™¯ã€‚</strong></span></span></span></span></span></span></span></span></span></span></span></span></span></p>\n<h1>3 å°ç»“</h1>\n<p>æœ¬æ–‡ä»‹ç»äº†MAFä¸­å¾ªç¯å·¥ä½œæµä»¥åŠå¦‚ä½•å®ç°â€œ<span>ç”Ÿæˆâ†’å®¡æ ¸<span><span>â†’ä¿®å¤â€çš„å·¥ä½œæ¨¡å¼ï¼Œæœ€åé€šè¿‡ä¸€ä¸ªä¼ä¸šå®¢æœå·¥å•å†…å®¹æ™ºèƒ½å›å¤çš„æ¡ˆä¾‹ä»‹ç»äº†è¿™ç§æ¨¡å¼çš„ä»£ç å®ç°ï¼Œç‰¹åˆ«é€‚ç”¨äº<span><span>å†…å®¹ç”Ÿæˆå’Œå®¡æ‰¹çš„åœºæ™¯ã€‚</span></span></span></span></span></p>\n<p>ä¸‹ä¸€ç¯‡ï¼Œæˆ‘ä»¬å°†ç»§ç»­å­¦ä¹ MAFä¸­å·¥ä½œæµçš„å¹¶è¡Œå·¥ä½œæµã€‚</p>\n<h1>ç¤ºä¾‹æºç </h1>\n<p>GitHub:&nbsp;<a href=\"https://github.com/EdisonTalk/MAFD\" rel=\"noopener nofollow\" target=\"_blank\">https://github.com/EdisonTalk/MAFD</a></p>\n<h1>å‚è€ƒèµ„æ–™</h1>\n<p><span><span>åœ£æ°ï¼Œã€Š<a href=\"https://www.cnblogs.com/sheng-jie/p/19200934\" target=\"_blank\">.NET + AI æ™ºèƒ½ä½“å¼€å‘è¿›é˜¶</a>ã€‹ï¼ˆæ¨èæŒ‡æ•°ï¼šâ˜…â˜…â˜…â˜…â˜…ï¼‰</span></span></p>\n<p><span><span>Microsoft Learnï¼Œ<span>ã€Š<a href=\"https://learn.microsoft.com/en-us/agent-framework/overview/agent-framework-overview?wt.mc_id=MVP_397012\" rel=\"noopener nofollow\" target=\"_blank\">Agent Framework Tutorials</a>ã€‹</span></span></span></p>\n<div><span><span>&nbsp;</span></span></div>\n<p style=\"text-align: center;\"><img alt=\"\" src=\"https://images.cnblogs.com/cnblogs_com/edisonchou/1647700/o_200902144330EdisonTalk-Footer.jpg\" /></p>\n<div id=\"Copyright\">\n<p>ä½œè€…ï¼š<span style=\"text-decoration: underline;\">çˆ±è¿ªç”Ÿ</span></p>\n<p>å‡ºå¤„ï¼š<a href=\"https://edisontalk.cnblogs.com\" target=\"_blank\" title=\"from\">https://edisontalk.cnblogs.com</a></p>\n<p>æœ¬æ–‡ç‰ˆæƒå½’ä½œè€…å’Œåšå®¢å›­å…±æœ‰ï¼Œæ¬¢è¿è½¬è½½ï¼Œä½†æœªç»ä½œè€…åŒæ„å¿…é¡»ä¿ç•™æ­¤æ®µå£°æ˜ï¼Œä¸”åœ¨æ–‡ç« é¡µé¢æ˜æ˜¾ä½ç½®ç»™å‡ºåŸæ–‡é“¾æ¥ã€‚</p>\n</div>\n</div>\n<div id=\"MySignature\">\n    <div align=\"center\"><a href=\"https://weibo.com/u/2068032061?s=6uyXnP\" target=\"_blank\"><img border=\"0\" src=\"http://service.t.sina.com.cn/widget/qmd/2068032061/d643d182/10.png\" /></a></div>\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-04 18:30</span>&nbsp;\n<a href=\"https://www.cnblogs.com/edisontalk\">EdisonZhou</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">3</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "è®©WinFormså†æ¬¡ä¼Ÿå¤§",
      "link": "https://www.cnblogs.com/xdesigner/p/19438384/Make_WinForms_Great_Again",
      "published": "",
      "description": "<h2>\n\t\t\t<a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/xdesigner/p/19438384/Make_WinForms_Great_Again\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-04 15:49\">\n    <span>è®©WinFormså†æ¬¡ä¼Ÿå¤§</span>\n    \n\n</a>\n\n\t\t</h2>\n\t\t<div class=\"postText\">    <div id=\"cnblogs_post_description\" style=\"display: none;\">\n        \n        æœ¬é¡¹ç›®å°±æ˜¯ä¸“é—¨å¸®åŠ©å°†WinForms åº”ç”¨ç¨‹åºè¿ç§»åˆ° Blazor WASMå¹³å°ä¸Šï¼Œå³ä½¿è¿™äº›ç¨‹åºä½¿ç”¨GDI+åŠŸèƒ½ï¼Œæˆ‘ä»¬ä¹Ÿé¢„æœŸå°†å¯¹è¿™äº›ç¨‹åºæºç çš„ä¿®æ”¹é‡ä¸è¶…è¿‡10%ã€‚è¿™æå¤§çš„é™ä½WinFormsè½¯ä»¶ç°ä»£åŒ–çš„æˆæœ¬å’Œé£é™©ã€‚\næˆ‘ä»¬çš„é•¿æœŸç›®æ ‡æ˜¯èƒ½å°†å…¨çƒ1000äº¿è¡Œç»è¿‡å¸‚åœºéªŒè¯çš„C#ä»£ç èƒ½é‡è·æ–°ç”Ÿï¼Œåœ¨ç°ä»£Webå‰ç«¯å¹³å°ä¸Šç»§ç»­å‘æŒ¥ä»·å€¼ã€‚\n    </div>\n<div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h1 id=\"è®©-winforms-å†æ¬¡ä¼Ÿå¤§-httpsgithubcomdcsoft-yyfmwga\">è®© WinForms å†æ¬¡ä¼Ÿå¤§ <a href=\"https://github.com/dcsoft-yyf/MWGA\" rel=\"noopener nofollow\" target=\"_blank\">https://github.com/dcsoft-yyf/MWGA</a></h1>\n<h2 id=\"æ›´æ–°æ—¥å¿—\">æ›´æ–°æ—¥å¿—</h2>\n<ul>\n<li>2026-1-4 :ç¬¬ä¸€æ»´è¡€ <a href=\"https://dcsoft-yyf.github.io/MWGA/WinFormCalculator.html\" rel=\"noopener nofollow\" target=\"_blank\">https://dcsoft-yyf.github.io/MWGA/WinFormCalculator.html</a></li>\n</ul>\n<h2 id=\"å…¨çƒ-winforms-ç°ä»£åŒ–ç°çŠ¶\">å…¨çƒ WinForms ç°ä»£åŒ–ç°çŠ¶</h2>\n<p>å…¨çƒèŒƒå›´å†…ï¼Œä¼°è®¡WinFormså¼€å‘è€…çº¦æœ‰300ä¸‡è‡³500ä¸‡äººï¼Œå .NETå¼€å‘è€…æ€»æ•°çš„40%è‡³50%ã€‚ç”Ÿäº§ç¯å¢ƒä¸­è¿è¡Œç€1000ä¸‡è‡³1500ä¸‡ä¸ªWinFormsåº”ç”¨ç¨‹åºã€‚åœ¨è¿™äº›åº”ç”¨ä¸­ï¼Œ60%è‡³80%æœ‰ç°ä»£åŒ–æ”¹é€ éœ€æ±‚ï¼Œå…¶ä¸­40%è‡³60%ä¼˜å…ˆé€‰æ‹©WebåŒ–è¿ç§»ï¼Œæ¶‰åŠçš„C#ä»£ç å¯èƒ½æœ‰<code>æ•°åƒäº¿è¡Œ</code>ã€‚æ ¸å¿ƒé©±åŠ¨å› ç´ åŒ…æ‹¬ç½‘é¡µç«¯è®¿é—®ã€ç•Œé¢ç°ä»£åŒ–ã€è·¨å¹³å°æ”¯æŒã€äº‘é›†æˆå’Œå®‰å…¨åˆè§„ã€‚ç”±äºå¯å¤ç”¨C#ä»£ç ä¸”å…·å¤‡åŸºäºæµè§ˆå™¨çš„è·¨å¹³å°èƒ½åŠ›ï¼ŒBlazor WebAssemblyæˆä¸ºçƒ­é—¨é€‰æ‹©ã€‚</p>\n<p>ä½†æ˜¯æœ‰å¤§é‡çš„WinFormsä½¿ç”¨äº†<code>System.Drawing</code>æ¨¡å—è°ƒç”¨<code>GDI+</code>è¿›è¡Œå¤æ‚çš„è‡ªå®šä¹‰ç»˜å›¾å’Œäº¤äº’ï¼Œè¿™äº›éƒ¨åˆ†éš¾ä»¥é€šè¿‡ç®€å•çš„æ§ä»¶æ˜ å°„è¿ç§»ï¼Œé€šå¸¸éœ€è¦é‡å†™æˆ–å¤§å¹…ä¿®æ”¹ã€‚ä¸ºæ­¤ï¼Œå¸‚åœºä¸Šå¯¹ä½æ”¹åŠ¨ã€å¯å¤ç”¨ä¸šåŠ¡é€»è¾‘å’Œç»˜å›¾ä»£ç çš„ç°ä»£åŒ–è¿ç§»è§£å†³æ–¹æ¡ˆéœ€æ±‚å¼ºçƒˆã€‚ä½†é•¿æœŸä»¥æ¥ä¸€ç›´ç¼ºä¹æœ‰æ•ˆå·¥å…·å’Œæ–¹æ³•ï¼Œå¯¼è‡´è®¸å¤šä¼ä¸šé¢ä¸´é«˜æ˜‚çš„é‡å†™æˆæœ¬å’Œé£é™©ã€‚</p>\n<h2 id=\"é¡¹ç›®ç®€ä»‹\">é¡¹ç›®ç®€ä»‹</h2>\n<p>æœ¬é¡¹ç›®å°±æ˜¯ä¸“é—¨å¸®åŠ©å°†WinForms åº”ç”¨ç¨‹åºè¿ç§»åˆ° Blazor WASMå¹³å°ä¸Šï¼Œå³ä½¿è¿™äº›ç¨‹åºä½¿ç”¨GDI+åŠŸèƒ½ï¼Œæˆ‘ä»¬ä¹Ÿé¢„æœŸå°†å¯¹è¿™äº›ç¨‹åºæºç çš„ä¿®æ”¹é‡ä¸è¶…è¿‡<code>10%</code>ã€‚è¿™æå¤§çš„é™ä½WinFormsè½¯ä»¶ç°ä»£åŒ–çš„æˆæœ¬å’Œé£é™©ã€‚</p>\n<p>æˆ‘ä»¬çš„é•¿æœŸç›®æ ‡æ˜¯èƒ½å°†å…¨çƒ<code>1000äº¿</code>è¡Œç»è¿‡å¸‚åœºéªŒè¯çš„C#ä»£ç èƒ½é‡è·æ–°ç”Ÿï¼Œåœ¨ç°ä»£Webå‰ç«¯å¹³å°ä¸Šç»§ç»­å‘æŒ¥ä»·å€¼ã€‚</p>\n<h2 id=\"å…¨çƒå¾…è¿ç§»-winforms-åº”ç”¨å¸‚åœºè§„æ¨¡ä¼°ç®—ç¾å…ƒ\">å…¨çƒå¾…è¿ç§» WinForms åº”ç”¨å¸‚åœºè§„æ¨¡ä¼°ç®—ï¼ˆç¾å…ƒï¼‰</h2>\n<p>å‡è®¾éœ€è¦è¿ç§»çš„ WinForms åº”ç”¨çº¦ 50 ä¸‡ â€“ 200 ä¸‡ ä¸ªï¼›åº”ç”¨å¤æ‚åº¦åˆ†å¸ƒï¼šç®€å• 60%ã€ä¸­ç­‰ 30%ã€å¤æ‚ 10%ã€‚</p>\n<ul>\n<li>æŒ‰ç¤ºä¾‹å•åº”ç”¨è¿ç§»æˆæœ¬ä¸­ä½æ•°ä¼°ç®—ï¼ˆç¾å…ƒï¼‰ï¼šåŠ æƒå‡ä»·çº¦ 5.5 ä¸‡ç¾å…ƒ/åº”ç”¨ã€‚</li>\n<li>TAMï¼ˆæ€»å¯å¯»å€å¸‚åœºï¼‰ä¼°ç®—ï¼šçº¦ 275 äº¿ â€“ 1,100 äº¿ ç¾å…ƒï¼ˆ50 ä¸‡ â€“ 200 ä¸‡ åº”ç”¨ Ã— 5.5 ä¸‡ç¾å…ƒï¼‰ã€‚</li>\n<li>å·¥å…·/è®¸å¯æ¨¡å¼å¯å¯»å€å¸‚åœºï¼ˆ5 åƒ â€“ 2 ä¸‡ ç¾å…ƒ/åº”ç”¨ï¼‰ï¼šçº¦ 25 äº¿ â€“ 400 äº¿ ç¾å…ƒã€‚</li>\n<li>å¤æ‚åº”ç”¨ï¼ˆ10%ï¼‰å¸‚åœºï¼šçº¦ 5 ä¸‡ â€“ 20 ä¸‡ ä¸ªï¼ŒæŒ‰æ¯ä¾‹ 15 ä¸‡ç¾å…ƒè®¡çº¦ 75 äº¿ â€“ 300 äº¿ ç¾å…ƒã€‚</li>\n</ul>\n\n</div>\n<div class=\"clear\"></div>\n</div>\n\t\t<p class=\"postfoot\">\n\t\t\tposted on \n<span id=\"post-date\">2026-01-04 15:49</span>&nbsp;\n<a href=\"https://www.cnblogs.com/xdesigner\">è¢æ°¸ç¦ ç”µå­ç—…å†ï¼ŒåŒ»ç–—ä¿¡æ¯åŒ–</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">532</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">7</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n\n\t\t</p>"
    },
    {
      "title": "åŸºäº ContextCapture SDK çš„ Python è‡ªåŠ¨åŒ–ä¸‰ç»´å»ºæ¨¡",
      "link": "https://www.cnblogs.com/foury/p/19438102",
      "published": "",
      "description": "<h1 class=\"postTitle\">\n                <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/foury/p/19438102\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-04 15:13\">\n    <span>åŸºäº ContextCapture SDK çš„ Python è‡ªåŠ¨åŒ–ä¸‰ç»´å»ºæ¨¡</span>\n    \n\n</a>\n\n            </h1>\n            <div class=\"clear\"></div>\n            <div class=\"postBody\">\n                <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<h1 id=\"åŸºäº-contextcapture-sdk-çš„-python-è‡ªåŠ¨åŒ–ä¸‰ç»´å»ºæ¨¡\">åŸºäº ContextCapture SDK çš„ Python è‡ªåŠ¨åŒ–ä¸‰ç»´å»ºæ¨¡</h1>\n<p>ContextCapture æ˜¯ Bentley æä¾›çš„ä¸€æ¬¾å•†ä¸šçº§ä¸‰ç»´é‡å»ºè½¯ä»¶ï¼Œå¹¿æ³›åº”ç”¨äºæ— äººæœºå€¾æ–œæ‘„å½±ã€å®æ™¯ä¸‰ç»´å»ºæ¨¡ç­‰åœºæ™¯ã€‚</p>\n<p>æœ¬æ–‡åŸºäº ContextCapture å®˜æ–¹æä¾›çš„ MasterKernel SDKï¼Œä»‹ç»å¦‚ä½•é€šè¿‡ Python è„šæœ¬å®ç°å¯¹ ContextCapture å»ºæ¨¡æµç¨‹çš„è‡ªåŠ¨åŒ–æ§åˆ¶ï¼ŒåŒ…æ‹¬é¡¹ç›®åˆ›å»ºã€ç©ºä¸­ä¸‰è§’æµ‹é‡ï¼ˆATï¼‰ã€ä¸‰ç»´é‡å»ºä»¥åŠå¤šç§æ ¼å¼æˆæœçš„é¡ºåºç”Ÿäº§ã€‚</p>\n<p><strong>ContextCapture MasterKernel SDKä»‹ç»</strong>:<a href=\"https://docs.bentley.com/LiveContent/web/ContextCapture%20Help-v18/zh-cn/GUID-8A35B878-C2BB-4F01-8D5A-18321EF04410.html\" rel=\"noopener nofollow\" target=\"_blank\">https://docs.bentley.com/LiveContent/web/ContextCapture Help-v18/zh-cn/GUID-8A35B878-C2BB-4F01-8D5A-18321EF04410.html</a></p>\n<h2 id=\"1å®‰è£…contextcapture\">1.å®‰è£…ContextCapture</h2>\n<p>åŸºäºContextCaptureçš„å®‰è£…ç½‘ä¸Šæœ‰å¾ˆå¤šè¯¦ç»†çš„æ•™ç¨‹ï¼Œæœ¬æ–‡ä¸å†å¯¹å®‰è£…æ­¥éª¤è¿›è¡Œè¯¦ç»†å±•å¼€ã€‚<br />\næœ¬æ–‡æµ‹è¯•ç¯å¢ƒä½¿ç”¨çš„ContextCaptureç‰ˆæœ¬ä¸º <strong>v10.18.0.232</strong>ï¼Œåç»­ç¤ºä¾‹å‡åŸºäºè¯¥ç‰ˆæœ¬ï¼Œä»…ä¾›å‚è€ƒã€‚</p>\n<h2 id=\"2é…ç½®é€‚åˆcontextcaptureçš„pythonç¯å¢ƒ\">2.é…ç½®é€‚åˆContextCaptureçš„Pythonç¯å¢ƒ</h2>\n<p>åœ¨ ContextCapture å®‰è£…ç›®å½•çš„ <code>sdk/dist</code> æ–‡ä»¶å¤¹ä¸­ï¼Œå¯ä»¥æ‰¾åˆ°å®˜æ–¹æä¾›çš„ Python SDK å®‰è£…åŒ…ï¼ˆ<code>.whl</code> æ–‡ä»¶ï¼‰ã€‚</p>\n<p>ä¾‹å¦‚ï¼š<br />\n<code>ccmasterkernel-10.18.0.232-cp36-cp36m-win_amd64.whl</code></p>\n<p>å…¶ä¸­â€œcp36-cp36mâ€è¡¨ç¤ºåªæ”¯æŒ Python3.6 ç›¸å…³ç‰ˆæœ¬ï¼ˆè¦å®‰è£…æ­£ç¡®çš„Pythonç‰ˆæœ¬ï¼‰ã€‚</p>\n<p>å®‰è£…å®ŒæˆPythonç¯å¢ƒåï¼Œæ‰“å¼€å‘½ä»¤è¡Œè¿›å…¥sdk/distæ–‡ä»¶å¤¹ä¸‹ï¼Œæ‰§è¡Œ<code>pip install ccmasterkernel-10.18.0.232-cp36-cp36m-win_amd64.whl</code>å®‰è£…å¥½è¿™ä¸ªåŒ…ã€‚</p>\n<p><img alt=\"ä¼ä¸šå¾®ä¿¡æˆªå›¾_17675106628003\" class=\"lazyload\" /></p>\n<h2 id=\"3ç¼–å†™pythonè„šæœ¬\">3.ç¼–å†™Pythonè„šæœ¬</h2>\n<p>å…³äºsdkä½¿ç”¨çš„ç›¸å…³æ–‡æ¡£è¯´æ˜åœ¨sdk/doc/htmlæ–‡ä»¶å¤¹ä¸‹ã€‚</p>\n<p>ä¸‹é¢ç»™å‡ºä¸€ä¸ªå®Œæ•´çš„ Python è„šæœ¬ç¤ºä¾‹ï¼Œç”¨äºæ¼”ç¤ºå¦‚ä½•é€šè¿‡ ContextCapture SDK å®ç°æ— äººæœºå½±åƒçš„è‡ªåŠ¨åŒ–ä¸‰ç»´å»ºæ¨¡æµç¨‹ã€‚</p>\n<p>è¯¥è„šæœ¬åç»­å¯æ ¹æ®å®é™…éœ€æ±‚è¿›è¡Œè£å‰ªæˆ–æ‰©å±•ã€‚</p>\n<p>æ­¤è„šæœ¬æ˜¯ä¸€ä¸ªç”¨äºè‡ªåŠ¨åŒ– ContextCapture (CC) å»ºæ¨¡æµç¨‹çš„ Python è„šæœ¬ã€‚å®ƒèƒ½å¤Ÿè‡ªåŠ¨åˆ›å»ºé¡¹ç›®ã€æäº¤ç©ºä¸‰è¿ç®— (AT)ï¼Œå¹¶æŒ‰é¡ºåºç”Ÿæˆå¤šç§æ ¼å¼çš„ä¸‰ç»´æ¨¡å‹ï¼ˆOBJ, LAS, 3D Tilesï¼‰ã€‚</p>\n<p><strong>æ³¨æ„ï¼š</strong> æ­£å¼è¿è¡Œè„šæœ¬å‰ï¼Œéœ€ç¡®ä¿ContextCapture Engine å·²å¯åŠ¨ï¼Œå¦åˆ™ä»»åŠ¡æ— æ³•æ­£å¸¸æäº¤ï¼›</p>\n<h3 id=\"31å‘½ä»¤è¡Œå‚æ•°\">3.1å‘½ä»¤è¡Œå‚æ•°</h3>\n<p>è„šæœ¬æ”¯æŒé€šè¿‡å‘½ä»¤è¡Œå‚æ•°è¿›è¡Œçµæ´»é…ç½®ï¼š</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align: left;\">å‚æ•°</th>\n<th style=\"text-align: left;\">å¿…é€‰/å¯é€‰</th>\n<th style=\"text-align: left;\">é»˜è®¤å€¼</th>\n<th style=\"text-align: left;\">è¯´æ˜</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\"><code>--photos</code></td>\n<td style=\"text-align: left;\"><strong>å¿…é€‰</strong></td>\n<td style=\"text-align: left;\">-</td>\n<td style=\"text-align: left;\">ç…§ç‰‡æ‰€åœ¨çš„æºæ–‡ä»¶å¤¹è·¯å¾„ã€‚æ”¯æŒ jpg, tif, png ç­‰æ ¼å¼ã€‚</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"><code>--project</code></td>\n<td style=\"text-align: left;\"><strong>å¿…é€‰</strong></td>\n<td style=\"text-align: left;\">-</td>\n<td style=\"text-align: left;\">é¡¹ç›®è¾“å‡ºçš„æ ¹æ–‡ä»¶å¤¹è·¯å¾„ã€‚è„šæœ¬å°†åœ¨æ­¤ç›®å½•ä¸‹åˆ›å»º <code>.ccm</code> é¡¹ç›®æ–‡ä»¶å’Œå„ä¸ªäº§ç‰©æ–‡ä»¶å¤¹ã€‚</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"><code>--memory</code></td>\n<td style=\"text-align: left;\">å¯é€‰</td>\n<td style=\"text-align: left;\"><code>16.0</code></td>\n<td style=\"text-align: left;\">ç›®æ ‡å†…å­˜ä½¿ç”¨é‡ (GB)ã€‚ç”¨äºæ§åˆ¶åˆ†å—å¤§å°ï¼Œå»ºè®®è®¾ç½®ä¸ºæœºå™¨ç‰©ç†å†…å­˜çš„ 50%-70%ã€‚</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"><code>--formats</code></td>\n<td style=\"text-align: left;\">å¯é€‰</td>\n<td style=\"text-align: left;\">å…¨éƒ¨</td>\n<td style=\"text-align: left;\">æŒ‡å®šè¦ç”Ÿäº§çš„æ ¼å¼åˆ—è¡¨ã€‚å¯é€‰å€¼: <code>OBJ</code>, <code>LAS</code>, <code>3DTiles</code>ã€‚å¤šä¸ªå€¼ä¹‹é—´ç”¨ç©ºæ ¼åˆ†éš”ã€‚</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"32-ä½¿ç”¨ç¤ºä¾‹\">3.2 ä½¿ç”¨ç¤ºä¾‹</h3>\n<p>åœ¨å‘½ä»¤è¡Œ (CMD æˆ– PowerShell) ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ã€‚</p>\n<h4 id=\"1-åŸºç¡€ç”¨æ³•\">1ï¼‰ åŸºç¡€ç”¨æ³•</h4>\n<p>ç”Ÿæˆæ‰€æœ‰é»˜è®¤æ ¼å¼ (OBJ, LAS, 3D Tiles)ï¼Œé»˜è®¤ä½¿ç”¨ 16GB å†…å­˜é™åˆ¶ã€‚</p>\n<pre><code class=\"language-powershell\">python test_cc_sequential.py --photos \"D:\\MyData\\Mission_01\\Images\" --project \"D:\\Projects\\Mission_01\"\n</code></pre>\n<h4 id=\"2æŒ‡å®šè¾“å‡ºæ ¼å¼\">2ï¼‰æŒ‡å®šè¾“å‡ºæ ¼å¼</h4>\n<p>å¦‚æœä½ åªéœ€è¦ç‚¹äº‘ (LAS) å’Œ OBJ æ¨¡å‹ï¼Œä¸éœ€è¦ 3D Tilesï¼š</p>\n<pre><code class=\"language-powershell\">python test_cc_sequential.py --photos \"D:\\Images\" --project \"D:\\Output\" --formats LAS OBJ\n</code></pre>\n<h4 id=\"3è‡ªå®šä¹‰å†…å­˜é™åˆ¶\">3ï¼‰è‡ªå®šä¹‰å†…å­˜é™åˆ¶</h4>\n<p>é’ˆå¯¹å¤§å†…å­˜ (ä¾‹å¦‚ 64GB å†…å­˜)ï¼Œå¯ä»¥è°ƒé«˜é™åˆ¶ä»¥åŠ å¿«å¤„ç†é€Ÿåº¦ (ä¾‹å¦‚è®¾ä¸º 48GB)ï¼š</p>\n<pre><code class=\"language-powershell\">python test_cc_sequential.py --photos \"D:\\Images\" --project \"D:\\Output\" --memory 48.0\n</code></pre>\n<p>é’ˆå¯¹å°å†…å­˜æœºå™¨ (ä¾‹å¦‚ 16GB å†…å­˜)ï¼Œå»ºè®®è°ƒä½é™åˆ¶ (ä¾‹å¦‚ 8GB)ï¼š</p>\n<pre><code class=\"language-powershell\">python test_cc_sequential.py --photos \"D:\\Images\" --project \"D:\\Output\" --memory 8.0\n</code></pre>\n<h3 id=\"33-è¾“å‡ºç»“æ„\">3.3 è¾“å‡ºç»“æ„</h3>\n<p>è¿è¡Œå®Œæˆåï¼Œåœ¨æŒ‡å®šçš„ <code>--project</code> ç›®å½•ä¸‹ä¼šè‡ªåŠ¨ç”Ÿæˆä»¥ä¸‹ç»“æ„ï¼š</p>\n<pre><code class=\"language-text\">D:\\Projects\\Mission_01\\         &lt;-- é¡¹ç›®æ ¹ç›®å½•\nâ”‚  Mission_01.ccm              &lt;-- CC å·¥ç¨‹æ–‡ä»¶\nâ”‚  cc_sequential.log           &lt;-- è¯¦ç»†è¿è¡Œæ—¥å¿—\nâ”‚\nâ”œâ”€ Production_OBJ\\             &lt;-- OBJ æ¨¡å‹è¾“å‡ºç›®å½•\nâ”‚      metadata.xml\nâ”‚      ...\nâ”‚\nâ”œâ”€ Production_LAS\\             &lt;-- LAS ç‚¹äº‘è¾“å‡ºç›®å½•\nâ”‚      cloud.las\nâ”‚      ...\nâ”‚\nâ””â”€ Production_3DTiles\\         &lt;-- Cesium 3D Tiles è¾“å‡ºç›®å½•\n       tileset.json\n       ...\n</code></pre>\n<h3 id=\"34-æ—¥å¿—\">3.4 æ—¥å¿—</h3>\n<p>è„šæœ¬è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œç®€è¦ä¿¡æ¯ä¼šæ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚<br />\nè¯¦ç»†çš„å¸¦æ—¶é—´æˆ³çš„æ—¥å¿—ä¼šä¿å­˜åœ¨è„šæœ¬åŒçº§ç›®å½•ä¸‹çš„ <code>cc_sequential.log</code> æ–‡ä»¶ä¸­ã€‚</p>\n<h3 id=\"35-å…·ä½“ä»£ç å®ç°\">3.5 å…·ä½“ä»£ç å®ç°</h3>\n<pre><code class=\"language-python\">\"\"\"\nContextCapture é¡ºåºå¤šæ ¼å¼ç”Ÿäº§è„šæœ¬\næ”¯æŒ OBJã€LAS ç‚¹äº‘ã€Cesium 3D Tiles ä¸‰ç§æ ¼å¼\nä½¿ç”¨åˆ†å—å¤„ç† (Tiling) æ§åˆ¶å†…å­˜\né¡ºåºæ‰§è¡Œé¿å…å†…å­˜ä¸è¶³\n\"\"\"\nimport sys\nimport time\nimport os\nimport logging\nfrom logging.handlers import RotatingFileHandler\nimport traceback\nimport argparse\n\n# --- æ—¥å¿—é…ç½® ---\n# æ—¥å¿—æ–‡ä»¶åä¸º cc_sequential.logï¼Œä½äºè„šæœ¬æ‰€åœ¨ç›®å½•\nlog_file_path = os.path.join(os.path.dirname(os.path.abspath(__file__)), 'cc_sequential.log')\n\nlogger = logging.getLogger('CC_Production')\nlogger.setLevel(logging.INFO)\n\n# 1. RotatingFileHandler: 10MB åˆ‡å‰²ï¼Œä¿ç•™ 5 ä¸ªå¤‡ä»½\n# maxBytes = 10 * 1024 * 1024 = 10485760 B\nrf_handler = RotatingFileHandler(log_file_path, maxBytes=10 * 1024 * 1024, backupCount=5, encoding='utf-8')\nfile_formatter = logging.Formatter('%(asctime)s [%(levelname)s] %(message)s')\nrf_handler.setFormatter(file_formatter)\nlogger.addHandler(rf_handler)\n\n# 2. StreamHandler: è¾“å‡ºåˆ°æ§åˆ¶å°\nconsole_handler = logging.StreamHandler(sys.stdout)\nconsole_handler.setFormatter(logging.Formatter('%(message)s'))  # æ§åˆ¶å°è¾“å‡ºä¿æŒåŸæ ·ï¼Œçº¯æ–‡æœ¬æ–¹ä¾¿é˜…è¯»\nlogger.addHandler(console_handler)\n# ----------------\n\ntry:\n    import ccmasterkernel\n\n    logger.info(\"æˆåŠŸå¯¼å…¥ ccmasterkernel æ¨¡å—\")\nexcept ImportError:\n    logger.error(\"é”™è¯¯: æ— æ³•å¯¼å…¥ ccmasterkernel æ¨¡å—ã€‚\")\n    sys.exit(1)\n\n\ndef parse_args():\n    parser = argparse.ArgumentParser(description=\"ContextCapture é¡ºåºå¤šæ ¼å¼ç”Ÿäº§è„šæœ¬\")\n\n    # è·¯å¾„å‚æ•° (å¿…é¡»)\n    parser.add_argument('--photos', required=True, help='ç…§ç‰‡æ‰€åœ¨ç›®å½•è·¯å¾„')\n    parser.add_argument('--project', required=True, help='é¡¹ç›®è¾“å‡ºç›®å½•è·¯å¾„')\n\n    # å¯é€‰å‚æ•°\n    parser.add_argument('--memory', type=float, default=16.0, help='ç›®æ ‡å†…å­˜ä½¿ç”¨é‡ (GB)ï¼Œé»˜è®¤ 16.0')\n    parser.add_argument('--formats', nargs='+', default=['OBJ', 'LAS', '3DTiles'],\n                        choices=['OBJ', 'LAS', '3DTiles'],\n                        help='æŒ‡å®šè¦ç”Ÿäº§çš„æ ¼å¼ (é»˜è®¤å…¨éƒ¨): OBJ, LAS, 3DTiles')\n\n    return parser.parse_args()\n\n\ndef main():\n    args = parse_args()\n\n    # å®šä¹‰è·¯å¾„å˜é‡ (ä» args è·å–)\n    project_dir = args.project\n    # è‡ªåŠ¨æ ¹æ®ç›®å½•åç”Ÿæˆé¡¹ç›®æ–‡ä»¶å\n    project_name_base = os.path.basename(os.path.normpath(project_dir))\n    project_file_path = os.path.join(project_dir, f\"{project_name_base}.ccm\")\n    photos_dir = args.photos\n\n    # å¤šæ ¼å¼è¾“å‡ºç›®å½•\n    production_obj_dir = os.path.join(project_dir, \"Production_OBJ\")\n    production_las_dir = os.path.join(project_dir, \"Production_LAS\")\n    production_3dtiles_dir = os.path.join(project_dir, \"Production_3DTiles\")\n\n    logger.info(\"\\n\" + \"=\" * 60)\n    logger.info(\"ContextCapture é¡ºåºå¤šæ ¼å¼è‡ªåŠ¨åŒ–è„šæœ¬ (CLI Mode)\")\n    logger.info(\"=\" * 60)\n    logger.info(f\"é¡¹ç›®æ–‡ä»¶è·¯å¾„: {project_file_path}\")\n    logger.info(f\"ç…§ç‰‡ç›®å½•:     {photos_dir}\")\n    logger.info(f\"ç›®æ ‡å†…å­˜:     {args.memory} GB\")\n\n    # ç¡®å®šè¦ç”Ÿäº§çš„æ ¼å¼\n    formats_to_produce_list = []\n\n    # æ ¼å¼å®šä¹‰æ˜ å°„: Name -&gt; (DriverName, OutputDir, Description)\n    format_map = {\n        'OBJ': (\"OBJ\", production_obj_dir, \"OBJ ç½‘æ ¼æ¨¡å‹\"),\n        'LAS': (\"LAS\", production_las_dir, \"LAS ç‚¹äº‘\"),\n        '3DTiles': (\"Cesium 3D Tiles\", production_3dtiles_dir, \"Cesium 3D Tiles\")\n    }\n\n    req_formats = args.formats\n\n    logger.info(f\"è®¡åˆ’ç”Ÿäº§æ ¼å¼: {', '.join(req_formats)}\")\n\n    # æ„å»º production list\n    # ä¿æŒåŸæœ‰é¡ºåº: OBJ -&gt; LAS -&gt; 3DTiles (å¦‚æœè¢«é€‰ä¸­)\n    if 'OBJ' in req_formats:\n        formats_to_produce_list.append(('OBJ', *format_map['OBJ']))\n    if 'LAS' in req_formats:\n        formats_to_produce_list.append(('LAS', *format_map['LAS']))\n    if '3DTiles' in req_formats:\n        formats_to_produce_list.append(('Cesium 3D Tiles', *format_map['3DTiles']))\n\n    logger.info(\"\\nè¾“å‡ºä½ç½®é¢„è§ˆ:\")\n    for _, _, out_dir, desc in formats_to_produce_list:\n        logger.info(f\"  - {desc}: {out_dir}\")\n\n    logger.info(\"\\næ³¨æ„: é€‰ä¸­æ ¼å¼å°†ä¾æ¬¡æ‰§è¡Œï¼Œé¿å…å†…å­˜ä¸è¶³\")\n    logger.info(\"=\" * 60 + \"\\n\")\n\n    # ç¡®ä¿é¡¹ç›®ç›®å½•å­˜åœ¨\n    if not os.path.exists(project_dir):\n        try:\n            os.makedirs(project_dir)\n        except OSError as e:\n            logger.error(f\"é”™è¯¯: æ— æ³•åˆ›å»ºé¡¹ç›®ç›®å½• {project_dir}: {e}\")\n            return\n\n    # 1. åˆ›å»ºå¹¶é…ç½®é¡¹ç›®\n    logger.info(\"æ­£åœ¨åˆ›å»ºé¡¹ç›®...\")\n    project = ccmasterkernel.Project()\n    project.setName(project_name_base)  # ä½¿ç”¨ç›®å½•åä½œä¸ºé¡¹ç›®å\n    project.setProjectFilePath(project_file_path)\n\n    # 2. åˆ›å»ºåŒºå—å¹¶æ·»åŠ ç…§ç‰‡\n    logger.info(\"æ­£åœ¨åˆ›å»ºåˆå§‹åŒºå—...\")\n    block = ccmasterkernel.Block(project)\n    project.addBlock(block)\n    block.setName(\"InitialBlock\")\n\n    logger.info(\"æ­£åœ¨æ·»åŠ ç…§ç‰‡...\")\n    photogroups = block.getPhotogroups()\n\n    if os.path.exists(photos_dir):\n        photo_files = [f for f in os.listdir(photos_dir)\n                       if f.lower().endswith(('.jpg', '.jpeg', '.tif', '.tiff', '.png'))]\n        if not photo_files:\n            logger.warning(f\"è­¦å‘Š: åœ¨ {photos_dir} ä¸­æœªæ‰¾åˆ°ç…§ç‰‡æ–‡ä»¶ã€‚\")\n\n        for f in photo_files:\n            full_path = os.path.join(photos_dir, f)\n            photogroups.addPhotoInAutoMode(full_path)\n        logger.info(f\"å·²å°è¯•æ·»åŠ  {len(photo_files)} å¼ ç…§ç‰‡ã€‚\")\n    else:\n        logger.error(f\"é”™è¯¯: ç…§ç‰‡ç›®å½• {photos_dir} ä¸å­˜åœ¨ã€‚\")\n        return\n\n    # éªŒè¯åŒºå—æ˜¯å¦æœ‰æ•ˆ\n    if not block.isReadyForAT():\n        logger.error(\"é”™è¯¯: åŒºå—æœªå‡†å¤‡å¥½è¿›è¡Œ ATã€‚\")\n        return\n\n    # ä¿å­˜é¡¹ç›®\n    logger.info(\"æ­£åœ¨ä¿å­˜é¡¹ç›®...\")\n    save_error = project.writeToFile()\n    if not save_error.isNone():\n        logger.error(f\"ä¿å­˜é¡¹ç›®å¤±è´¥: {save_error.message}\")\n        return\n    logger.info(\"é¡¹ç›®ä¿å­˜æˆåŠŸã€‚\")\n\n    # 3. ç©ºä¸­ä¸‰è§’æµ‹é‡ (AT)\n    logger.info(\"\\nå‡†å¤‡ç©ºä¸­ä¸‰è§’æµ‹é‡ (AT) åŒºå—...\")\n    block_at = ccmasterkernel.Block(project)\n    project.addBlock(block_at)\n    block_at.setName(\"AT_Block\")\n    block_at.setBlockTemplate(ccmasterkernel.BlockTemplate.Template_adjusted, block)\n\n    # ä¿å­˜æ›´æ–°åçš„é¡¹ç›®\n    logger.info(\"æ­£åœ¨ä¿å­˜æ›´æ–°åçš„é¡¹ç›®...\")\n    save_error = project.writeToFile()\n    if not save_error.isNone():\n        logger.error(f\"ä¿å­˜é¡¹ç›®å¤±è´¥: {save_error.message}\")\n        return\n\n    logger.info(\"å¼€å§‹æäº¤ AT å¤„ç†...\")\n    at = block_at.getAT()\n    if at is None:\n        logger.error(\"é”™è¯¯: æ— æ³•è·å– AT å¯¹è±¡ã€‚\")\n        return\n\n    # æäº¤ AT å¤„ç†\n    submit_error = at.submitProcessing()\n    if not submit_error.isNone():\n        logger.error(f\"AT æäº¤å¤±è´¥: {submit_error.message}\")\n        return\n\n    # ç›‘æ§ AT ä»»åŠ¡\n    if not monitor_job(at, \"AT\"):\n        logger.error(\"AT å¤„ç†æœªæˆåŠŸå®Œæˆï¼Œè„šæœ¬ç»ˆæ­¢ã€‚\")\n        return\n\n    logger.info(\"AT å¤„ç†å®Œæˆã€‚\\n\")\n\n    # 4. é‡å»º (Reconstruction) - é…ç½®åˆ†å—å¤„ç†\n    logger.info(\"=\" * 60)\n    logger.info(\"åˆ›å»ºé‡å»ºé¡¹ç›®...\")\n    logger.info(\"=\" * 60)\n\n    reconstruction = ccmasterkernel.Reconstruction(block_at)\n    block_at.addReconstruction(reconstruction)\n    reconstruction.setName(\"Reconstruction_Sequential\")\n\n    # é…ç½®é‡å»ºè®¾ç½®\n    logger.info(\"\\né…ç½®é‡å»ºè®¾ç½®...\")\n    settings = reconstruction.getSettings()\n    reconstruction.setSettings(settings)\n\n    # é…ç½®åˆ†å—å¤„ç† (Tiling)\n    logger.info(\"é…ç½®åˆ†å—å¤„ç† (Tiling)...\")\n    tiling = reconstruction.getTiling()\n    tiling.tilingMode = ccmasterkernel.TilingMode.TilingMode_adaptive\n    tiling.targetMemoryUse = args.memory  # ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°\n    tiling.overlapRatio = 0.2\n    tiling.discardEmptyTiles = True\n    reconstruction.setTiling(tiling)\n\n    logger.info(f\"  - æ¨¡å¼: Adaptive (è‡ªåŠ¨åˆ†å—)\")\n    logger.info(f\"  - ç›®æ ‡å†…å­˜: {tiling.targetMemoryUse} GB\")\n    logger.info(f\"  - ç“¦ç‰‡é‡å ç‡: {tiling.overlapRatio * 100}%\")\n\n    # ä¿å­˜é‡å»ºé…ç½®\n    logger.info(\"\\nä¿å­˜é‡å»ºé…ç½®...\")\n    save_error = project.writeToFile()\n    if not save_error.isNone():\n        logger.error(f\"ä¿å­˜é¡¹ç›®å¤±è´¥: {save_error.message}\")\n        return\n\n    # è·å–ç“¦ç‰‡æ•°é‡\n    num_tiles = reconstruction.getNumInternalTiles()\n    logger.info(f\"\\né‡å»ºåŒ…å« {num_tiles} ä¸ªç“¦ç‰‡\")\n\n    # 5. é¡ºåºç”Ÿäº§ - ä¾æ¬¡æ‰§è¡Œæ¯ç§æ ¼å¼\n    logger.info(\"\\n\" + \"=\" * 60)\n    logger.info(\"å¼€å§‹é¡ºåºç”Ÿäº§ï¼ˆä¾æ¬¡æ‰§è¡Œï¼Œé¿å…å†…å­˜ä¸è¶³ï¼‰\")\n    logger.info(\"=\" * 60)\n\n    results = []\n\n    # éå†æˆ‘ä»¬æ„å»ºçš„æ ¼å¼åˆ—è¡¨\n    for idx, (prod_name, driver_name, output_dir, description) in enumerate(formats_to_produce_list, 1):\n        logger.info(\"\\n\" + \"=\" * 60)\n        logger.info(f\"ç¬¬ {idx}/{len(formats_to_produce_list)} æ­¥: ç”Ÿäº§ {description}\")\n        logger.info(\"=\" * 60)\n\n        # åˆ›å»ºç”Ÿäº§\n        logger.info(f\"\\né…ç½® {description}...\")\n        production = ccmasterkernel.Production(reconstruction)\n        reconstruction.addProduction(production)\n        production.setName(f\"Production_{prod_name}\")\n        production.setDriverName(driver_name)\n        production.setDestination(output_dir)\n        logger.info(f\"  âœ“ {description} é…ç½®å®Œæˆ\")\n\n        # ä¿å­˜é¡¹ç›®\n        save_error = project.writeToFile()\n        if not save_error.isNone():\n            logger.error(f\"  âœ— ä¿å­˜é¡¹ç›®å¤±è´¥: {save_error.message}\")\n            results.append((description, False))\n            continue\n\n        # æ·»åŠ æ‰€æœ‰ç“¦ç‰‡ä»»åŠ¡\n        logger.info(f\"\\nä¸º {description} æ·»åŠ  {num_tiles} ä¸ªç“¦ç‰‡ä»»åŠ¡...\")\n        production_jobs = []\n        try:\n            for i in range(num_tiles):\n                tile = reconstruction.getInternalTile(i)\n                job = ccmasterkernel.TileProductionJob(production, tile)\n                production.addProductionJob(job)\n                production_jobs.append(job)\n            logger.info(f\"  âœ“ å·²æ·»åŠ  {num_tiles} ä¸ªç“¦ç‰‡ä»»åŠ¡\")\n        except Exception as e:\n            logger.error(f\"  âœ— æ·»åŠ ä»»åŠ¡æ—¶å‡ºé”™: {e}\")\n            results.append((description, False))\n            continue\n\n        # æäº¤ç”Ÿäº§\n        logger.info(f\"\\næäº¤ {description} ç”Ÿäº§...\")\n        submit_error = production.submitProcessing()\n        if not submit_error.isNone():\n            logger.error(f\"  âœ— æäº¤å¤±è´¥: {submit_error.message}\")\n            results.append((description, False))\n            continue\n        logger.info(f\"  âœ“ æäº¤æˆåŠŸ\")\n\n        # ç›‘æ§æ‰€æœ‰ç“¦ç‰‡ä»»åŠ¡\n        logger.info(f\"\\nç›‘æ§ {description} ä»»åŠ¡ï¼ˆ{num_tiles} ä¸ªç“¦ç‰‡ï¼‰...\")\n        all_tiles_success = True\n        for tile_idx, job in enumerate(production_jobs):\n            job_desc = f\"{description} - ç“¦ç‰‡ {tile_idx}\"\n            if not monitor_job(job, job_desc):\n                logger.error(f\"  âœ— ç“¦ç‰‡ {tile_idx} å¤„ç†å¤±è´¥\")\n                all_tiles_success = False\n                break  # å¦‚æœä¸€ä¸ªç“¦ç‰‡å¤±è´¥ï¼Œåœæ­¢ç›‘æ§åç»­ç“¦ç‰‡\n            else:\n                logger.info(f\"  âœ“ ç“¦ç‰‡ {tile_idx} å¤„ç†æˆåŠŸ\")\n\n        if all_tiles_success:\n            logger.info(f\"\\nâœ“ {description} æ‰€æœ‰ç“¦ç‰‡å¤„ç†æˆåŠŸï¼\")\n            logger.info(f\"  è¾“å‡ºä½ç½®: {output_dir}\")\n            results.append((description, True))\n        else:\n            logger.error(f\"\\nâœ— {description} å¤„ç†å¤±è´¥\")\n            results.append((description, False))\n\n    # æœ€ç»ˆç»“æœæ±‡æ€»\n    logger.info(\"\\n\" + \"=\" * 60)\n    logger.info(\"ç”Ÿäº§ç»“æœæ±‡æ€»\")\n    logger.info(\"=\" * 60)\n\n    for description, success in results:\n        status = \"âœ“ æˆåŠŸ\" if success else \"âœ— å¤±è´¥\"\n        logger.info(f\"  {status}: {description}\")\n\n    all_success = all(success for _, success in results)\n\n    if all_success:\n        logger.info(\"\\n\" + \"=\" * 60)\n        logger.info(\"æ‰€æœ‰è¯·æ±‚çš„æ ¼å¼ç”Ÿäº§æˆåŠŸå®Œæˆï¼\")\n        logger.info(\"=\" * 60)\n    else:\n        logger.error(\"\\néƒ¨åˆ†æ ¼å¼ç”Ÿäº§å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ—¥å¿—è·å–è¯¦ç»†ä¿¡æ¯ã€‚\")\n\n\ndef monitor_job(job_object, job_name):\n    \"\"\"\n    é€šç”¨ä»»åŠ¡ç›‘æ§å‡½æ•°\n    \"\"\"\n    previous_status = ccmasterkernel.JobStatus.Job_unknown\n\n    while True:\n        # æ›´æ–°çŠ¶æ€\n        try:\n            job_object.updateJobStatus()\n        except AttributeError:\n            pass\n\n        status = job_object.getJobStatus()\n\n        # æ˜¾ç¤ºçŠ¶æ€å˜åŒ–\n        if status != previous_status:\n            status_str = ccmasterkernel.jobStatusAsString(status)\n            logger.info(f\"    [{job_name}] {status_str}\")\n            previous_status = status\n\n        # æ£€æŸ¥æ˜¯å¦ç»“æŸ\n        if status in [ccmasterkernel.JobStatus.Job_completed,\n                      ccmasterkernel.JobStatus.Job_failed,\n                      ccmasterkernel.JobStatus.Job_cancelled]:\n            break\n\n        time.sleep(2)\n\n    # æœ€ç»ˆç»“æœæ£€æŸ¥\n    if status == ccmasterkernel.JobStatus.Job_completed:\n        return True\n    else:\n        msg = job_object.getJobMessage()\n        if msg:\n            logger.error(f\"    [{job_name}] é”™è¯¯: {msg}\")\n        return False\n\n\nif __name__ == \"__main__\":\n    try:\n        main()\n    except KeyboardInterrupt:\n        logger.info(\"\\n\\nç”¨æˆ·ä¸­æ–­è„šæœ¬æ‰§è¡Œã€‚\")\n    except Exception as e:\n        logger.error(f\"\\né”™è¯¯: {e}\")\n        logger.error(\"è¯¦ç»†å †æ ˆ:\", exc_info=True)\n\n\n</code></pre>\n<p><strong>githubä»“åº“åœ°å€</strong>ï¼š<a href=\"https://github.com/Canon-create/contextcapture-python-example\" rel=\"noopener nofollow\" target=\"_blank\">https://github.com/Canon-create/contextcapture-python-example</a></p>\n<p><strong>å‚è€ƒæ–‡ç« </strong>ï¼š<a href=\"https://blog.csdn.net/qq_41475842/article/details/112959892\" rel=\"noopener nofollow\" target=\"_blank\">https://blog.csdn.net/qq_41475842/article/details/112959892</a></p>\n\n</div>\n<div class=\"clear\"></div>\n\n            </div>\n            <div class=\"postDesc\">posted @ \n<span id=\"post-date\">2026-01-04 15:13</span>&nbsp;\n<a href=\"https://www.cnblogs.com/foury\">æ·±ç´«è‰²çš„ä¸‰åŒ—å…­å·</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">36</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">0</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    },
    {
      "title": "10åªè€é¼ è¯•æ¯’1000ç“¶æ°´é—®é¢˜æ€è€ƒç¬”è®°",
      "link": "https://www.cnblogs.com/mysticbinary/p/19436756",
      "published": "",
      "description": "<div class=\"postTitle\">\n            <a class=\"postTitle2 vertical-middle\" href=\"https://www.cnblogs.com/mysticbinary/p/19436756\" id=\"cb_post_title_url\" title=\"å‘å¸ƒäº 2026-01-04 13:22\">\n    <span>10åªè€é¼ è¯•æ¯’1000ç“¶æ°´é—®é¢˜æ€è€ƒç¬”è®°</span>\n    \n\n</a>\n\n        </div>\n        <div class=\"blogpost-body cnblogs-markdown\" id=\"cnblogs_post_body\">\n<p></p><div class=\"toc\"><div class=\"toc-container-header\">ç›®å½•</div><ul><li><a href=\"#é—®é¢˜æè¿°\" rel=\"noopener nofollow\">é—®é¢˜æè¿°</a></li><li><a href=\"#åŸç†å›¾\" rel=\"noopener nofollow\">åŸç†å›¾</a></li><li><a href=\"#æ€æƒ³\" rel=\"noopener nofollow\">æ€æƒ³</a></li><li><a href=\"#æ¯”ç‰¹ä¸–ç•Œå’Œç‰©ç†ä¸–ç•Œçš„å·®å¼‚\" rel=\"noopener nofollow\">æ¯”ç‰¹ä¸–ç•Œå’Œç‰©ç†ä¸–ç•Œçš„å·®å¼‚</a></li></ul></div><p></p>\n<hr />\n<h1 id=\"é—®é¢˜æè¿°\">é—®é¢˜æè¿°</h1>\n<p>1000ç“¶æ°´é‡Œæœ‰ä¸€ç“¶æœ‰æ¯’ï¼Œå¯ä»¥ä½¿ç”¨10åªè€é¼ å»å°æ¯’ï¼Œå½“è€é¼ å–ä¸‹æ¯’æ°´1ä¸ªå°æ—¶åæ­»å»ï¼Œè¯·è®¾è®¡ä¸€ç§æ–¹æ¡ˆï¼Œèƒ½å¤Ÿåœ¨1å°æ—¶æ‰¾åˆ°è¿™ç“¶æ¯’è¯ã€‚</p>\n<hr />\n<h1 id=\"åŸç†å›¾\">åŸç†å›¾</h1>\n<p>å¦‚æœä»äºŒè¿›åˆ¶ç¼–ç ä½çš„è§†è§’æ¥è§£å†³è¿™ä¸ªé—®é¢˜åˆ™å¾ˆç®€å•ï¼š<br />\n<img alt=\"image\" src=\"https://img2024.cnblogs.com/blog/1552062/202601/1552062-20260104132050245-398290625.png\" /></p>\n<ul>\n<li>\n<p>ç»™ç“¶å­å’Œè€é¼ ç¼–å·ï¼šå°†1000ç“¶æ°´ç¼–å·ä¸º0åˆ°999ã€‚ç»™10åªè€é¼ ä»å·¦åˆ°å³ï¼ˆæˆ–ä»å³åˆ°å·¦ï¼‰ç¼–å·0åˆ°9ã€‚</p>\n<ul>\n<li>ç”¨äºŒè¿›åˆ¶è¡¨ç¤ºï¼šå°†ç“¶å­ç¼–å·è½¬æ¢ä¸º10ä½äºŒè¿›åˆ¶æ•°ï¼ˆä¾‹å¦‚ï¼Œç“¶å­1æ˜¯0000000001ï¼Œç“¶å­1000æ˜¯1111101000ï¼‰ã€‚</li>\n</ul>\n</li>\n<li>\n<p>å¦‚æœç“¶å­ç¼–å·çš„ç¬¬1ä½æ˜¯1ï¼ˆä»å³å¾€å·¦æ•°ï¼‰ï¼Œåˆ™å°†è¯¥ç“¶æ°´æ··å…¥ç»™ç¬¬1åªè€é¼ å–çš„æ··åˆæ¶²ä¸­ã€‚</p>\n</li>\n<li>\n<p>å¦‚æœ1ä¸ªå°æ—¶å€™åï¼Œå“ªä¸ªä½çš„è€é¼ æ­»å»ï¼Œè®°å½•å“ªä¸ªè€é¼ çš„ä½ã€‚<br />\nå›¾ç‰‡å‡è®¾365æœ‰æ¯’ï¼Œåˆ™è€é¼ 0å·ã€è€é¼ 2å·ã€è€é¼ 3å·ã€è€é¼ 0å·ã€è€é¼ 5å·ã€è€é¼ 6å·ã€è€é¼ 8å·æ­»å»æ ‡è®°ä¸º1ï¼Œå…¶ä½™ä½æ ‡è®°0 ï¼Œè½¬10è¿›åˆ¶=365ã€‚</p>\n</li>\n</ul>\n<hr />\n<h1 id=\"æ€æƒ³\">æ€æƒ³</h1>\n<p>è¿™ä¸ªé—®é¢˜çœ‹ä¼¼æ˜¯ä¸€ä¸ªé€»è¾‘è°œé¢˜ï¼Œä½†å®é™…ä¸Šä½“ç°äº†ä¿¡æ¯ç¼–ç çš„æ ¸å¿ƒæ€æƒ³ï¼š<strong>ç”¨æœ€å°‘çš„â€œæ£€æµ‹ä½â€åŒºåˆ†æœ€å¤šçš„å¯èƒ½æ€§ã€‚</strong></p>\n<p>è¿™ç§æ€ç»´åœ¨ç°ä»£è®¡ç®—æœºç§‘å­¦ã€é€šä¿¡æŠ€æœ¯å’Œä¿¡æ¯è®ºä¸­æ— å¤„ä¸åœ¨ã€‚<br />\nä»ç¡¬ç›˜çš„çº é”™ç¼–ç åˆ°ç½‘ç»œä¼ è¾“çš„æ•°æ®æ ¡éªŒï¼Œä»æ¡å½¢ç åˆ°äºŒç»´ç ï¼ŒäºŒè¿›åˆ¶ç¼–ç çš„æ€æƒ³è´¯ç©¿äº†æˆ‘ä»¬çš„æ•°å­—ä¸–ç•Œã€‚</p>\n<hr />\n<p>è§£å†³è¿™ä¸ªé—®é¢˜çš„å…³é”®åœ¨äºäºŒè¿›åˆ¶ç¼–å·ã€‚æˆ‘ä»¬å°† 1000 ç“¶è¯æ°´ç¼–å·ä¸º 0-999ã€‚<br />\nç”¨äºŒè¿›åˆ¶è¡¨ç¤ºè¿™äº›ç¼–å·æ—¶ï¼Œ1000 â‰¤ 1024 = 2Â¹â°ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬éœ€è¦ 10 ä½äºŒè¿›åˆ¶æ•°å°±å¯ä»¥è¡¨ç¤ºæ‰€æœ‰ç“¶å­ã€‚<br />\næ¯åªè€é¼ å¯¹åº”äºŒè¿›åˆ¶ç¼–ç ä¸­çš„ä¸€ä½ã€‚10 ä½äºŒè¿›åˆ¶ï¼Œæ­£å¥½å¯¹åº” 10 åªè€é¼ ã€‚<br />\n<strong>è¿™ç§æ–¹æ³•èƒ½å¤Ÿä¸€æ¬¡æ€§æµ‹è¯•æ‰€æœ‰ç“¶å­ï¼Œè€Œä¸æ˜¯ä¼ ç»Ÿçš„é€ç“¶æµ‹è¯•ã€‚</strong> æ•ˆç‡æå‡å¾ˆå¤§ã€‚</p>\n<hr />\n<h1 id=\"æ¯”ç‰¹ä¸–ç•Œå’Œç‰©ç†ä¸–ç•Œçš„å·®å¼‚\">æ¯”ç‰¹ä¸–ç•Œå’Œç‰©ç†ä¸–ç•Œçš„å·®å¼‚</h1>\n<p>è¿™å¥—äºŒè¿›åˆ¶ç¼–ç æ–¹æ¡ˆåœ¨ç†è®ºç¼–ç¨‹å’Œé€»è¾‘è°œé¢˜ä¸­æ˜¯æˆç«‹çš„ï¼Œä½†åœ¨å®é™…æ¯’ç†å­¦æ£€æµ‹æˆ–ç°å®åœºæ™¯ä¸­ï¼Œå¾€å¾€éœ€è¦ç»“åˆå‰‚é‡ååº”æ›²çº¿ã€åˆ†ç»„æµ‹è¯•æˆ–ç°ä»£åˆ†æåŒ–å­¦æ–¹æ³•ï¼ˆå¦‚è‰²è°±ã€è´¨è°±ï¼‰æ›´å¯é åœ°è¯†åˆ«æ¯’ç‰©ã€‚</p>\n<p>æ¯•ç«Ÿä½ æŠŠä¸€ç“¶æ°´åˆ†10ä»½äº†ï¼Œç¨€é‡Šä¹‹åæ•ˆæœæ€ä¹ˆæ ·ï¼Ÿéƒ½æ˜¯æœªçŸ¥æ•°äº†ã€‚â•®(â•¯â–½â•°)â•­<br />\nè¿˜æœ‰ï¼Œæ€ä¹ˆå¯èƒ½ä¸€åªè€é¼ èƒ½å–å‡ ç™¾ä»½æ°´å‘€.....</p>\n\n</div>\n<div class=\"clear\"></div>\n\n        <div class=\"postDesc\">posted on \n<span id=\"post-date\">2026-01-04 13:22</span>&nbsp;\n<a href=\"https://www.cnblogs.com/mysticbinary\">Mysticbinary</a>&nbsp;\né˜…è¯»(<span id=\"post_view_count\">305</span>)&nbsp;\nè¯„è®º(<span id=\"post_comment_count\">4</span>)&nbsp;\n&nbsp;\n<a href=\"\">æ”¶è—</a>&nbsp;\n<a href=\"\">ä¸¾æŠ¥</a>\n</div>"
    }
  ]
}